id,sha,author,date,issue,message,file,content
0,9dbb9d22de916a73f53642f60f5a1d91e0114ce3,lexey Zatelepin <alex.zatelepin@gmail.com>, 2021-07-29 00:00:04 +0300, , pipe mark pipe_reader pipe_writer ctors noexcept move constructor marked noexcept able move pipe reader writer continuation used function with_file require continuation nothrow move constructible constructor internal pipe_buffer marked noexcept consistency signed alexey zatelepin alex.zatelepin gmail.com message 1627506004 10719 git send email alex.zatelepin gmail.com,,
1,f2cfce076c3c5350ef22c24b58d95a804284ca9a,lexey Zatelepin <alex.zatelepin@gmail.com>, 2021-07-29 00:00:03 +0300, , test pipe add simple unit test signed alexey zatelepin alex.zatelepin gmail.com message 1627506004 10719 git send email alex.zatelepin gmail.com,,
2,e674e818c77183b6f9bd625ccf82be25bb1d29bd,vi Kivity <avi@scylladb.com>, 2021-07-26 16:02:47 +0300, , test relax function name check gcc libstdc report function name full signature match __func__ exactly relax test pass message avi scylladb.com,,
3,4d5c3345331c1dd5e1781bd117b1ae643bc69cf1,ohn Spray <jcs@vectorized.io>, 2021-07-27 11:37:13 +0100,884, http add 429 status code useful application would like ask client back signed john spray jcs vectorized.io close 923 ref 884,,
4,b2ab275e0a4b5a5ce60ef111375a8f71fba964cc,iek Bouman <niek.git@gmail.com>, 2021-07-27 11:22:23 +0200, , added nodiscard abort source subscribe signed niek bouman niek.git gmail.com message niek.git gmail.com,,
5,fbfc08e297b0424e853f5903bdc5cf889aa7b094,avel Emelyanov <xemul@scylladb.com>, 2021-07-27 08:49:52 +0300, , io_queue use io_queue non read write request queued queue latter throw error yet ready process anything read writes better use error gracefully recovered rather need backtrace debug signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
6,623d6b039751816a7cf200e4224f54a57a12ade5,avel Emelyanov <xemul@scylladb.com>, 2021-07-26 17:04:00 +0300, , reactor remove unused epoll poller reactor signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
7,ce3cc2687f16b84a9ad697141d1b44ad92d9f0d9,iotr Sarna <sarna@scylladb.com>, 2021-07-26 12:16:10 +0200, , doc update coroutine exception paragraph make_exception example show usage helper function instead coroutine exception std idiom message scylladb.com,,
8,9500b0aceeec16aef86320b268b91609c004d358,iotr Sarna <sarna@scylladb.com>, 2021-07-26 12:16:09 +0200, , coroutine add make_exception helper helper used create coroutine exception type implicitly creating exception_ptr message scylladb.com,,
9,e3bb4bc4fa9ffc2bc78fff8e2ceda6c8c66dea8e,iotr Sarna <sarna@scylladb.com>, 2021-07-23 11:55:26 +0200, , coroutine use std move forwarding exception_ptr copying exception_ptr expensive due fact involves atomic operation copy unfortunately optimized away likely due reason order elide copying interface explicitly std move pointer necessary reported nadav har nyh scylladb.com message scylladb.com,,
10,55e22b3f8d694379c699e3d8fbf07580ba94be3d,iotr Sarna <sarna@scylladb.com>, 2021-07-22 16:24:01 +0200, , doc tutorial document direct exception propagation paragraph explaining coroutine exception extended example propagate exception without throwing message scylladb.com,,
11,93d053cdeda0dfcdb74d79de60f0281e95f7197f,vi Kivity <avi@scylladb.com>, 2021-07-22 12:45:58 +0300, , doc tutorial document seastar coroutine provide brief introduction concurrency coroutines message avi scylladb.com,,
12,a4dd03343712698274d1561a00cb024ab440b5cb,vi Kivity <avi@scylladb.com>, 2021-07-22 12:45:14 +0300, , doc tutorial nest exception coroutines coroutines exception handling important deserve top level chapter message avi scylladb.com,,
13,4924fbbad1c10d4f7b96bc29d021cb3814aca99e,iotr Sarna <sarna@scylladb.com>, 2021-07-22 11:30:02 +0200, , coroutine add way propagating exception without throwing unfortunate propagating exception coroutine done rethrowing already hold proper exception_ptr instance order make possible mitigate throwing explicit mechanism added work coroutines return future opposed future due fact illegal specify return_void return_value inside coroutine trait better nothing commit come simple test also act example usage message scylladb.com,,
14,93af4abcbc25326335d5cb45990d5b70b89afed2,lexey Zatelepin <alex.zatelepin@gmail.com>, 2021-07-22 03:00:44 +0300, , input_stream fix read_exactly incorrectly skipping data fix bug encountered following situation call input_stream read_exactly buffer size byte left stream skip end stream return empty buffer instead returning byte signed alexey zatelepin alex.zatelepin gmail.com message 1626912044 11665 git send email alex.zatelepin gmail.com,,
15,1d5c9831bb0ab84fb700f92f48378f72267b5c90,vi Kivity <avi@scylladb.com>, 2021-07-19 18:38:42 +0300, , coroutines introduce template waiting multiple future patch introduces function similar exeisting designed coroutines also introduces new include directory seastar coroutine new namespace seastar coroutines wider coroutine support library compared faster doe extra allocation state object instead utilizing coroutine ability store temporary object coroutine promise object allocated anyway term interface drop ability accept future object error prone since coroutine throw reach future waited instead requires future produced function invokes unit test added message avi scylladb.com,,
16,388ee307105f2f65e2c2584fc2fad6a2c528ff36,adav Har'El <nyh@scylladb.com>, 2021-07-20 20:57:47 +0300,880, merge add stall analyser tool benny halevy stall analyzer help analyze series reactor stall backtraces motivation coming need analyze thousand reactor stall backtraces encountered long running system test help focus disturbing one either frequent long tool graph structure help deduplicate repeated backtraces sub sequence accouting number occurrence total stall time sort result total stall time get frequent long trace first utility input taken verbatim investigated program system log based seastar reactor stall reporting format example  cat eof tmp example.txt reactor stalled shard backtrace 0x3ecb984 0x3ecac01 0x3ecb84f 0x7fa2385e21df 0x3e99039 0x3e9bf35 0xe7c058 0x3ea7597 0x3ea867b 0x3ea178b 0x3ea0e5e 0x3eacb7c 0x3ede71f 0x3edf907 0x3efdeb8 0x3eaa05a 0x93f8 0x101902 reactor stalled shard backtrace 0x3ecb984 0x3ecac01 0x3ecb84f 0x7f32a305c1df 0x3e9bf36 0x3ea3364 0x3ea1664 0x3ea0e5e 0x3eacb7c 0x3ede71f 0x3edf907 0x3efdeb8 0x3eaa05a 0x93f8 0x101902 reactor stalled shard backtrace 0x3ecb984 0x3ecac01 0x3ecb84f 0x7f32a305c1df 0x12b9979 0x12c06f5 0x131c73f 0x1400242 0x131ac2b 0x11d69d4 0x1243fd5 0x415b561 reactor stalled shard backtrace 0x3ecb984 0x3ecac01 0x3ecb84f 0x7fa2385e21df 0x11d700a 0x1244012 0x415b561 eof script stall analyser.py latency 4.5.dev scylla libexec scylla tmp example.txt address threshold 0x7f0000000000 180 dev null processed stall lasting total millisecond min avg 8.5 median p95 p99 none p999 none max graph printed top order caller printed first level index out_of pct denotes level nesting level graph index index node among sibling out_of number sibling pct percentage total stall time call relative sibling command line option used namespace 0x7f0000000000 executable home bhalevy latency 4.5.dev scylla libexec scylla full_addr2line false width 180 direction top minimum 0.05 file tmp example.txt addr 0x415b561 total count avg inlined seastar thread_context main build release seastar seastar src core thread.cc 297 seastar void operator build release seastar seastar include seastar util 209 addr 0x1243fd5 total count avg inlined seastar void seastar async row_cache ... seastar include seastar util 124 inlined operator seastar include seastar core thread.hh 258 inlined seastar futurize void apply row_cache do_update row_cache update row_cache ... seastar include seastar core future.hh 2099 inlined std apply row_cache do_update row_cache update row_cache external_u ... usr lib gcc x86_64 redhat linux include tuple 1734 inlined std __apply_impl row_cache do_update row_cache update row_cache ext ... usr lib gcc x86_64 redhat linux include tuple 1723 inlined std __invoke row_cache do_update row_cache update row_cache ... usr lib gcc x86_64 redhat linux include bit invoke.h inlined std __invoke_impl void row_cache do_update row_cache update ... usr lib gcc x86_64 redhat linux include bit invoke.h inlined operator row_cache.cc 943 inlined with_allocator row_cache do_update row_cache update row_cache memtable _19 row_cac ... utils 311 inlined operator row_cache.cc 967 inlined coroutine run utils coroutine.hh seastar seastar bool_class seastar operator seastar include seastar util 209 addr 0x11d69d4 inlined seastar seastar bool_class seastar ... seastar include seastar util 153 inlined operator 419 inlined logalloc operator partition_entry schema const partition_entry mutatio ... utils logalloc.hh 778 inlined logalloc with_reserve logalloc operator partition_entry ... utils logalloc.hh 728 inlined operator utils logalloc.hh 779 inlined logalloc partition_entry schema const partition_en ... utils logalloc.hh 757 inlined operator 468 inlined consume_row partition_entry schema const partition ... 382 operator 469 addr 0x131ac2b inlined deletable_row 1081 inlined row apply 1539 inlined row 1546 inlined row consume_with row schema const column_kind row _17 1172 tree cell_and_hash unsigned int weed row consume_with row schema const col ... utils compact radix tree.hh 1885 addr 0x1400242 inlined tree cell_and_hash unsigned int weed_from_slot row consume_with row apply_monotonic ... utils compact radix tree.hh 1606 inlined tree cell_and_hash unsigned int node_head weed row consume_with row apply_monotonic ... utils compact radix tree.hh 443 inlined tree cell_and_hash unsigned int node_base cell_and_hash tree cell ... utils compact radix tree.hh 733 inlined tree cell_and_hash unsigned int node_base cell_and_hash tree cell ... utils compact radix tree.hh 728 inlined tree cell_and_hash unsigned int node_base cell_and_hash tree cell ... utils compact radix tree.hh 725 inlined tree cell_and_hash unsigned int indirect_layout cell_and_hash ... utils compact radix tree.hh 1272 inlined tree cell_and_hash unsigned int weed_from_slot row consume_with row apply_monotonic ... utils compact radix tree.hh 1588 inlined operator 1174 operator 1547 addr 0x131c73f inlined row 1191 inlined tree cell_and_hash unsigned int emplace seastar optimized ... utils compact radix tree.hh 1814 inlined tree cell_and_hash unsigned int populate_slot utils compact radix tree.hh 1565 inlined tree cell_and_hash unsigned int leaf_node utils compact radix tree.hh 1711 tree cell_and_hash unsigned int leaf_node allocate utils compact radix tree.hh 1715 addr 0x12c06f5 logalloc region_impl alloc utils logalloc.cc 1511 addr 0x12b9979 inlined logalloc region_impl alloc_small utils logalloc.cc 1289 logalloc region_impl encode utils logalloc.cc 1180 addr 0x1244012 total count avg inlined seastar void seastar async row_cache ... seastar include seastar util 124 inlined operator seastar include seastar core thread.hh 258 inlined seastar futurize void apply row_cache do_update row_cache update row_cache ... seastar include seastar core future.hh 2099 inlined std apply row_cache do_update row_cache update row_cache external_u ... usr lib gcc x86_64 redhat linux include tuple 1734 inlined std __apply_impl row_cache do_update row_cache update row_cache ext ... usr lib gcc x86_64 redhat linux include tuple 1723 inlined std __invoke row_cache do_update row_cache update row_cache ... usr lib gcc x86_64 redhat linux include bit invoke.h inlined std __invoke_impl void row_cache do_update row_cache update ... usr lib gcc x86_64 redhat linux include bit invoke.h inlined operator row_cache.cc 943 inlined with_allocator row_cache do_update row_cache update row_cache memtable _19 row_cac ... utils 311 inlined operator row_cache.cc 970 inlined coroutine operator utils coroutine.hh inlined seastar seastar bool_class seastar ... seastar include seastar util 201 seastar include seastar util 189 addr 0x11d700a inlined seastar seastar bool_class seastar ... seastar include seastar util 156 inlined 411 inlined 627 lw_shared_ptr seastar include seastar core shared_ptr.hh 300 addr 0x101902 total count avg addr 0x93f8 addr 0x3eaa05a inlined seastar posix_thread start_routine build release seastar seastar src core posix.cc std function void operator usr lib gcc x86_64 redhat linux include bit std_function.h 622 addr 0x3efdeb8 inlined std void seastar smp configure boo ... usr lib gcc x86_64 redhat linux include bit std_function.h 291 inlined std __invoke_r void seastar smp configure boost program_optio ... usr lib gcc x86_64 redhat linux include bit invoke.h 110 inlined std __invoke_impl void seastar smp configure boost program_opt ... usr lib gcc x86_64 redhat linux include bit invoke.h operator build release seastar seastar src core reactor.cc 4014 addr 0x3edf907 seastar reactor run build release seastar seastar src core reactor.cc 2826 addr 0x3ede71f inlined seastar reactor run_some_tasks build release seastar seastar src core reactor.cc 2667 seastar reactor run_tasks build release seastar seastar src core reactor.cc 2258 addr 0x3eacb7c inlined seastar async_work_item seastar prometheus get_map_value ... build release seastar seastar include seastar core smp.hh 225 inlined seastar futurize seastar foreign_ptr seastar shared_ptr seastar metric ... build release seastar seastar include seastar core future.hh 2137 operator build release seastar seastar src core prometheus.cc 306 addr 0x3ea0e5e inlined seastar metric impl get_values build release seastar seastar src core metrics.cc 262 seastar metric impl impl metadata build release seastar seastar src core metrics.cc 320 addr 0x3ea1664 total count avg seastar metric impl impl build release seastar seastar src core metrics.cc 308 addr 0x3ea3364 inlined build release seastar seastar include seastar core metrics_api.hh 150 basic_sstring build release seastar seastar include seastar core sstring.hh 119 addr 0x3e9bf36 malloc build release seastar seastar src core memory.cc 1807 addr 0x3ea178b total count avg inlined seastar metric impl impl build release seastar seastar src core metrics.cc 301 std vector seastar metric impl metric_info std allocator seastar ... usr lib gcc x86_64 redhat linux include bit vector.tcc 121 addr 0x3ea867b inlined std vector seastar metric impl metric_info std allocato ... usr lib gcc x86_64 redhat linux include bit vector.tcc 449 inlined std std allocator seastar metric imp ... usr lib gcc x86_64 redhat linux include bit alloc_traits.h 514 inlined std construct_at seastar metric impl metric_info sea ... usr lib gcc x86_64 redhat linux include bit stl_construct.h metric_info build release seastar seastar include seastar core metrics_api.hh 161 addr 0x3ea7597 inlined metric_id build release seastar seastar include seastar core metrics_api.hh inlined map usr lib gcc x86_64 redhat linux include bit stl_map.h 207 inlined _rb_tree usr lib gcc x86_64 redhat linux include bit stl_tree.h 946 inlined std _rb_tree seastar basic_sstring char unsigned int 15u ... usr lib gcc x86_64 redhat linux include bit stl_tree.h 908 std _rb_tree seastar basic_sstring char unsigned int 15u true std ... usr lib gcc x86_64 redhat linux include bit stl_tree.h 897 addr 0xe7c058 inlined std _rb_tree seastar basic_sstring char unsigned int 15u ... usr lib gcc x86_64 redhat linux include bit stl_tree.h 1881 inlined std _rb_tree seastar basic_sstring char unsigned int 15u ... usr lib gcc x86_64 redhat linux include bit stl_tree.h 662 inlined std _rb_tree seastar basic_sstring char unsigned int 15u ... usr lib gcc x86_64 redhat linux include bit stl_tree.h 552 inlined std _rb_tree seastar basic_sstring char unsigned int 15u ... usr lib gcc x86_64 redhat linux include bit stl_tree.h 635 inlined std _rb_tree seastar basic_sstring char unsigned int 15u ... usr lib gcc x86_64 redhat linux include bit stl_tree.h 618 inlined std std allocator std _rb_tree_node ... usr lib gcc x86_64 redhat linux include bit alloc_traits.h 514 inlined std construct_at std pair seastar basic_sstring char ... usr lib gcc x86_64 redhat linux include bit stl_construct.h inlined pair usr lib gcc x86_64 redhat linux include bit stl_pair.h 314 basic_sstring seastar include seastar core sstring.hh 119 addr 0x3e9bf35 malloc build release seastar seastar src core memory.cc 1806 addr 0x3e99039 inlined seastar memory allocate build release seastar seastar src core memory.cc 1378 inlined seastar memory cpu_pages allocate_small build release seastar seastar src core memory.cc 827 seastar memory small_pool allocate build release seastar seastar src core memory.cc 1220  close 880 github.com scylladb seastar stall analyser ignore commented line stall analyser print_graph fix one error regarding ommitted branch stall analyser change default direction bottom stall analyser print_graph instruct reverse graph order stall analyser rename full addr2line option full function name stall analyser print_graph group call chain together stall analyser print_graph print omitted branch stats stall analyser print_graph clarify graph referral stall analyser print_graph print command line option use stall analyser print_graph indent also level stall analyser add branch threshold option stall analyser print concise addr2line information stall analyser print_graph improve decoded line stall analyser print_graph improve printout stall analyser print stall stats stall analyser print_graph add explanation stall analyser add direction option stall analyser return head tail sorted caller callees stall analyser graph track head stall analyser track total count link node stall analyser print_graph use tail node stall analyser graph rename root tail add stall analyser utility addr2line add resolve_address addr2line provide sensible default optional parameter seastar addr2line used named args making seastar addr2line split addr2line module,,
17,45a6451df57b9c7e09ea35dd1916a56d7c1c7f61,vi Kivity <avi@scylladb.com>, 2021-07-19 18:38:41 +0300, , compat implement void experimental coroutine header carry compatibility header clang benefit missing specialization std experimental void patch add specialization lack promise from_promise member add conversion operator decay void follows standard definition needed coroutine integration lack access promise type prefer implement templated await_suspend message avi scylladb.com,,
18,aa67340a93c2c80fa23bf6f000670d33361d511f,vi Kivity <avi@scylladb.com>, 2021-07-18 11:07:20 +0300, , merge make app_template run noexcept pavel  exception happening inside reactor main loop either propagated relevant future abort execution becase later case impossible expect reliable handling main set turn reactor run noexcept method gut examined cleaned exception catch report backtrace exit happens becomes possible turn app run noexcept code prior reactor run configuration already handling exception test unit dev scylla.unit dev  reactor run noexcept http github.com xemul seastar doc update section throwing app.run app mark .run _deprecated noexcept smp mark .cleanup noexcept reactor make sure run throw,,
19,ac05889c840e3d581887ec89df1f3b8febb95bcc,lad Zolotarov <vladz@scylladb.com>, 2021-03-24 19:07:03 -0400,818, perftune.py make rps cpu set full cpu set enable rps requested cpu present cpu cpu_mask given make networking efficient application bound irq cpu fix 818 signed vlad zolotarov vladz scylladb.com message vladz scylladb.com,,
20,ef320940c2c7e4444eafa21c7019e771f31cc3c9,vi Kivity <avi@scylladb.com>, 2021-07-15 21:54:26 +0300,858," reactor allow tuning number network iocbs number network iocbs fixed since introduction linux aio backend 10,000. limit number inactive connection 10,000 active connection polled anything crash patch allows tuning number change proc sys aio max also adjusted control pas responsibility user set max networking control block application arrange aio max tuned change default option verified strace application override user override work user override application default fix 858 message avi scylladb.com",,
21,d3ac575d86a191a50c9a2d943742208c4bdb129e,avel Emelyanov <xemul@scylladb.com>, 2021-07-15 21:22:44 +0300, , doc update section throwing app.run relevant least since commit 27d763b6 reactor gracefully exit exception happens initialization previous patch completely obsoletes signed pavel emelyanov xemul scylladb.com,,
22,ec2e5eb058ccb3d769308fcdfa9f46fd2b15ee38,avel Emelyanov <xemul@scylladb.com>, 2021-07-15 21:11:41 +0300, , app mark .run _deprecated noexcept run call run_deprecated handle throwing place configuration turn exception log message non zero return code assumed returned exit code caller call reactor run smp cleanup already become noexcept signed pavel emelyanov xemul scylladb.com,,
23,df5665d72ee7f4b50980f34dbc77c350a4fdb196,avel Emelyanov <xemul@scylladb.com>, 2021-07-15 21:09:01 +0300, , smp mark .cleanup noexcept cleaning two vector noexcept signed pavel emelyanov xemul scylladb.com,,
24,86daf5241e260c976a9d5df730bbd6736311b023,avel Emelyanov <xemul@scylladb.com>, 2021-07-15 20:54:31 +0300, ," reactor make sure run throw main reactor loop suddenly abort execution otherwise task sitting lose ability clean execution main safe first step mark run noexcept report exception thrown inside rest reactor report would look like error 2021 24,266 shard seastar io_submit inappropriate ioctl device exception running reactor main loop shard backtrace 0x22a3848 0x22b4842 0x226b7a3 0x226ad06 0xc49ffc lib64 libc.so.6 0x281e1 0xc48eed signed pavel emelyanov xemul scylladb.com",,
25,528762adbaf2c6dde857957b920606378959e8fb,enny Halevy <bhalevy@scylladb.com>, 2021-07-15 12:03:18 +0300,921, flush handle io_submit short return according io_submit success io_submit return number iocbs submitted may zero currently assume able submit iocb success adjust last accordingly io_submit return positive return value number requested lose iocb submitted instead continue submitting iocbs done possible shortage kernel resource io_submit fail eagain handle case well requiring progress made consecutive need_preempt event fix 921 test unit dev signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
26,a58d2790199216e6cdc14aba2055ef3296be4fa4,enny Halevy <bhalevy@scylladb.com>, 2021-07-14 20:00:05 +0300,920," prevent overflow assert overflow extremely unlikely fail practice btw since requires 10,001 poll queued one task quota period fix 920 signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com",,
27,7ca05b47f62741cd1a8de39d91f1a8ead3731d89,avel Emelyanov <xemul@scylladb.com>, 2021-07-14 12:12:43 +0300,8421, file assume nowait_works default optimistic assume rwf_nowait flag supported filesystem seastar recognize starting kernel 4.13 stepped overlayfs caba9fda aufs 72e3baed turn ecryptfs scylla issue 8421 kernel internals rwf_nowait iocb submitted kernel check file f_mode fmode_nowait bit set eopnotsupp returned bit question set filesystems upon file .open enforced user space said better strategy whitelist filesystems fmode_nowait rather blacklist ref scylladb scylla 8421 signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
28,ed7dd4e016492eabb1123194b67a66234dfce077,vi Kivity <avi@scylladb.com>, 2021-07-11 13:31:07 +0300, , merge reactor use sched_clock consistently michael  series move seastar reactor sched_clock typedef seastar namespace rectifies std chrono steady_clock actually mean seastar sched_clock  tag 918 sched clock github.com cmm seastar introduce reactor change std chrono steady_clock sched_clock needed pull sched_clock typedef reactor seastar namespace,,
29,da144d39771a6f9087aa54546ad42cc38ccc0388,avel Emelyanov <xemul@scylladb.com>, 2021-07-09 20:36:22 +0300, , testing lazily create seastar app thread boost testing framework initialized call test_runner start creates thread seastar app start app inside app creation seastar deadly slow compared plain execv main time hog cgroups reading code hwloc topology initialization rest faster altogether consumes time well problem per sometimes binary started execute test get info e.g list_content option list case case starting thread app pointless shut instantly shutdown process notably faster anyway take time patch delay thread app initialization first test case started since test case run parallel inside one binary first test case safely detected plain check quick list_content important parallel test case running patchsed dev mode listing case 180 test second patch becomes 1.5 test unit dev scylla.unit dev signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
30,02ffd8abbaadc59de368472b27b3a70c7149ffe5,ichael Livshin <michael.livshin@scylladb.com>, 2021-07-10 17:03:43 +0300, , introduce reactor use instead sched_clock ref 918 signed michael livshin michael.livshin scylladb.com,,
31,5f6408005c2e68ed7423d13912c5a035132d55b4,ichael Livshin <michael.livshin@scylladb.com>, 2021-07-10 16:42:54 +0300, , change std chrono steady_clock sched_clock needed ref 918 signed michael livshin michael.livshin scylladb.com,,
32,90b6c53660ccc0de8b4c55d5353979c01813d10b,ichael Livshin <michael.livshin@scylladb.com>, 2021-07-10 16:41:06 +0300, , pull sched_clock typedef reactor seastar namespace thus making globally visible signed michael livshin michael.livshin scylladb.com,,
33,8ed9771ae98130d5adbccdaea4ecbac738170939,efu Chai <tchaikov@gmail.com>, 2021-07-07 14:33:19 +0800,476, drop prometheus protobuf support since prometheus 2.0 dropped exposition format protobuf see http prometheus.io doc instrumenting http github.com openmetrics blob main legacy markdown let drop protobuf based exposition format seastar fix 476 signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
34,14692c2e13f302ce4f6f7e51202950a69012aafb,enny Halevy <bhalevy@scylladb.com>, 2021-04-14 09:18:00 +0300, , stall analyser ignore commented line beginning optional whitespaces signed benny halevy bhalevy scylladb.com,,
35,a789be6cb1b4729f4c968604e320621f83b09e16,enny Halevy <bhalevy@scylladb.com>, 2021-04-08 10:21:39 +0300, , stall analyser print_graph fix one error regarding ommitted branch omitted_idx last_idx based based signed benny halevy bhalevy scylladb.com,,
36,95ade842f792e5b4aa0a36c0ce72fce735481f44,enny Halevy <bhalevy@scylladb.com>, 2021-04-08 10:19:07 +0300, , stall analyser change default direction bottom like regular addr2line backtraces signed benny halevy bhalevy scylladb.com,,
37,0156e4149383f8c85f95f676e80c8ffc89e83b5f,enny Halevy <bhalevy@scylladb.com>, 2021-03-18 16:00:52 +0200, , stall analyser print_graph instruct reverse graph order quickly guide user right direction signed benny halevy bhalevy scylladb.com,,
38,bc522145d03790a970e1e4f0afd09e640303800b,enny Halevy <bhalevy@scylladb.com>, 2021-03-18 16:00:52 +0200, , stall analyser rename full addr2line option full function name clarify help message signed benny halevy bhalevy scylladb.com,,
39,e578f8c0077f093996788814f755381e099c45a6,enny Halevy <bhalevy@scylladb.com>, 2021-03-10 14:18:58 +0200, , stall analyser print_graph group call chain together node one callee caller responsible 100 node total count group together level reduce clutter signed benny halevy bhalevy scylladb.com,,
40,b8c4d66b143e0c0f9ee01bc0e14491a29321200e,enny Halevy <bhalevy@scylladb.com>, 2021-03-10 13:12:40 +0200, , stall analyser print_graph print omitted branch stats signed benny halevy bhalevy scylladb.com,,
41,81997079c92edeba61e257e4a44c5ceea3e661cf,enny Halevy <bhalevy@scylladb.com>, 2021-03-10 12:53:55 +0200, , stall analyser print_graph clarify graph referral signed benny halevy bhalevy scylladb.com,,
42,08cabd7393395e6642a0bcdccf2f0bdbd482d51f,enny Halevy <bhalevy@scylladb.com>, 2021-03-10 08:21:05 +0200, , stall analyser print_graph print command line option use reproducibility signed benny halevy bhalevy scylladb.com,,
43,e3d99752ef50a59baa4a06e434500777800e03cc,enny Halevy <bhalevy@scylladb.com>, 2021-03-10 08:05:28 +0200, , stall analyser print_graph indent also level improves visualiation several node level signed benny halevy bhalevy scylladb.com,,
44,5cc44e1f389a254f6ee7b27de59a7778c58ca27f,enny Halevy <bhalevy@scylladb.com>, 2021-03-09 19:39:27 +0200, , stall analyser add branch threshold option signed benny halevy bhalevy scylladb.com,,
45,a41e367662b79c22df3cd04be1f060b91ef43f35,enny Halevy <bhalevy@scylladb.com>, 2021-03-09 19:28:24 +0200, , stall analyser print concise addr2line information add full addr2line option print full information suggested avi kiviti default concise format drop option addr2line post process output using filt demangle symbol signed benny halevy bhalevy scylladb.com,,
46,ab90ef6769f9ceb102831d485fd9cde43e94b070,enny Halevy <bhalevy@scylladb.com>, 2021-03-09 17:02:06 +0200, , stall analyser print_graph improve decoded line break line per node addr total ... printout reverse decoded multi line printing top make sense signed benny halevy bhalevy scylladb.com,,
47,13f948cc86ea98b0dc4cf67187e1354f61303d9c,enny Halevy <bhalevy@scylladb.com>, 2021-03-09 15:06:10 +0200, , stall analyser print_graph improve printout signed benny halevy bhalevy scylladb.com,,
48,8b929c5d91e468f4b9b08d2c4cd2b503e53c3434,enny Halevy <bhalevy@scylladb.com>, 2021-03-09 13:35:32 +0200, , stall analyser print stall stats signed benny halevy bhalevy scylladb.com,,
49,825fb50162ea59fa6b0dd2e809bb4f78407adacb,enny Halevy <bhalevy@scylladb.com>, 2021-03-09 11:32:27 +0200, , stall analyser print_graph add explanation signed benny halevy bhalevy scylladb.com,,
50,2f5802310829e8be685ea0f0130cf8ceb35b9bd9,enny Halevy <bhalevy@scylladb.com>, 2021-03-09 11:21:16 +0200, , stall analyser add direction option default print graph top i.e caller first alternatively direction bottom print graph stack order callees first signed benny halevy bhalevy scylladb.com,,
51,c2e496070c1c3c49dae7358a02be4286227fb3ac,enny Halevy <bhalevy@scylladb.com>, 2021-03-09 15:15:47 +0200, , stall analyser return head tail sorted caller callees signed benny halevy bhalevy scylladb.com,,
52,93cb37ddb1d1c0868117df9a18a5b620a26175a9,enny Halevy <bhalevy@scylladb.com>, 2021-03-09 11:17:32 +0200, , stall analyser graph track head adding support printing top signed benny halevy bhalevy scylladb.com,,
53,ed6ff3a4c08e20f5b6ea4223c50cb31002c209ca,enny Halevy <bhalevy@scylladb.com>, 2021-03-09 13:08:04 +0200, , stall analyser track total count link node track latency statistic graph link node since percentage printed relative sibling caller callee node absolute node address call multiple node called multiple node link printed total count statistic signed benny halevy bhalevy scylladb.com,,
54,05a40eec796be58a3adb6cbb93d5fbbe1a7fe052,enny Halevy <bhalevy@scylladb.com>, 2021-03-09 12:21:55 +0200, , stall analyser print_graph use tail node instead keeping dictionary tail use node caller dictionary start node symmetric manner level indicates real node signed benny halevy bhalevy scylladb.com,,
55,db61932233233988679cdb65cd8be662344a1088,enny Halevy <bhalevy@scylladb.com>, 2021-03-09 11:12:51 +0200, , stall analyser graph rename root tail preparation tracking head printing top signed benny halevy bhalevy scylladb.com,,
56,e3cc7f30294434db55ce949c208abaa3baa5d758,enny Halevy <bhalevy@scylladb.com>, 2021-03-02 13:19:53 +0200, , add stall analyser utility help analyze series reactor stall backtraces signed benny halevy bhalevy scylladb.com,,
57,94858a1e38a211c0befe3ac1ae635caa093e19b5,enny Halevy <bhalevy@scylladb.com>, 2021-03-04 17:21:35 +0200, , addr2line add resolve_address refactored called directly following patch introducing backtrace tree analyser utility signed benny halevy bhalevy scylladb.com,,
58,48e382e0c8eb87c7a0051d526015b9276936ac6e,enny Halevy <bhalevy@scylladb.com>, 2021-03-04 17:19:04 +0200, , addr2line provide sensible default optional parameter caller understand every option intend use default based current seastar addr2line use case signed benny halevy bhalevy scylladb.com,,
59,a639aa1eff8e6c476a8d891991d560a1072d2688,enny Halevy <bhalevy@scylladb.com>, 2021-03-04 17:17:30 +0200, , seastar addr2line used named args making moved standalone module rely exact order paremeters signed benny halevy bhalevy scylladb.com,,
60,e078d7877273e4a6698071dc10902945f175e8bc,enny Halevy <bhalevy@scylladb.com>, 2021-03-02 13:17:59 +0200, , seastar addr2line split addr2line module used application like backtrace tree introduced next patch signed benny halevy bhalevy scylladb.com,,
61,823322467a721ca2842c15f9784b276b5f81c853,avel Emelyanov <xemul@scylladb.com>, 2021-07-05 21:43:56 +0300,917, reactor fix calculation bandwidth legacy mode max request option provided scheduler try configure fair queue limit take account fair queue ticket biased multiplication parameter differentiate read writes problem calculating bandwidth formula multiplied value maximum number request multiplies wrong lead overflow turn put bandwidth locking queue fix calculate bandwidth unbiased max number reqests static assertion overflow unsigned type either fix 917  use common variable get max req count capacity aio max signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
62,0b8cec66398f969ac5c78f2db5b3d3cfc76dea51,enny Halevy <bhalevy@scylladb.com>, 2021-06-29 19:31:52 +0300, , gate add gate holder modelled rwlock holder gate holder keep gate opened holder destroyed copying gate holder keep another reference gate moving move reference moved object corresponding unit test added test closeable dev debug doc_api manual signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com message bhalevy scylladb.com,,
63,9d0425c7b5541e67827bb2923e6f47d4c925fd51,vi Kivity <avi@scylladb.com>, 2021-06-29 09:44:03 +0300, , revert gate add gate holder doe build reverts commit fails build failed test unit cmakefiles usr bin dfmt_locale dfmt_shared test unit src include igen include dndebug std wno maybe uninitialized wno error unused result fvisibility hidden undebug wall werror wno array bound wno error deprecated declaration test unit cmakefiles test unit cmakefiles test unit cmakefiles test unit test unit lambda function test unit 279 error matching function call boost integer_range int run_test_case lambda int lambda seastar gate lambda int 279  file included test unit include seastar core loop.hh 547 note candidate template class iterator class func requires requires func iterator decltype auto requires std same_as placeholder seastar future void seastar future seastar iterator iterator func 547 iterator begin iterator end func func noexcept  include seastar core loop.hh 547 note template argument deduction substitution failed test unit 279 note deduced conflicting type parameter iterator boost integer_range int run_test_case lambda int lambda seastar gate lambda int 279  file included test unit include seastar core loop.hh 608 note candidate seastar future seastar range func range boost integer_range int func run_test_case lambda int lambda seastar gate lambda int 608 range range func func noexcept  include seastar core loop.hh 608 note constraint satisfied file included include seastar core scheduling.hh include seastar core task.hh include seastar core future.hh include seastar testing test_case.hh test unit include seastar core loop.hh instantiation seastar future seastar range func range boost integer_range int func run_test_case lambda int lambda seastar gate lambda int test unit 279 required include seastar core loop.hh 608 required constraint template class range class func requires requires func range r.begin decltype auto requires std same_as placeholder seastar future void seastar future seastar range func include seastar core loop.hh 605 requirement func range range boost integer_range int func run_test_case ._anon_291 operator ._anon_292 operator ._anon_293 include seastar core loop.hh 605 note r.begin doe satisfy return type requirement 605 seastar_concept requires requires func range r.begin std same_as future  include seastar util concepts.hh note definition macro seastar_concept define seastar_concept ...  cc1plus note set fconcepts diagnostics depth least detail,,
64,d3b7541337107bdb4963bdb1f1f99270d0441b9d,enny Halevy <bhalevy@scylladb.com>, 2021-06-28 16:09:58 +0300, , gate add gate holder modelled rwlock holder gate holder keep gate opened holder destroyed copying gate holder reenters gate keep extra reference moving move reference moved object corresponding unit test added test closeable dev debug doc_api manual signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
65,eaa00e761fc5f6694fde58e72e68ffd62c6a3982,vi Kivity <avi@scylladb.com>, 2021-06-26 16:27:51 +0300, , memory reduce statistic initialization even 4506b8784a merge memory optimize thread local initialization avi reduced call thread local guard turn work incomplete culprit  thread_local stats_array stats stats_array std array std array default constructor constexpr since underlying type uint64_t default constructor constexpr fix providing initializer doe make constexpr good measure throw static often help optimizer make constinit available force optimization error benchmark result scylla 208395.11 tps 81.1 allocs 15.1 task 48770 insns 219814.11 tps 81.1 allocs 15.1 task 46199 insns reduction instruction executed corresponding improvement tps message avi scylladb.com,,
66,f61cf9dee4fdf8d56d356a722a7e7018f3757dc4,vi Kivity <avi@scylladb.com>, 2021-06-24 17:48:08 +0300, , merge sanitize topology creation start pavel  set simplifies queue group allocation assignment code smp configure fix harmless potential memory leak update outdated comment test unit dev scylla.unit dev  dev topology cleanup 1.2 http github.com xemul seastar resource update comment topology shared access resource simplify group creation resource fix indentation previous patch resource move loop queue manipulating lambda resource sanitize shard resource remove resource turn queue unique_ptr resource move group creation lock resource move vector group resource move vector queue resource add explicit constructor,,
67,df5e1edea2890e04270c7c6dd3e5be3e40e5bdb6,avel Emelyanov <xemul@scylladb.com>, 2021-06-11 12:45:59 +0300, , resource update comment topology shared access long ago got copied across shard set passed reference crucial _not_ copy make group work signed pavel emelyanov xemul scylladb.com,,
68,6162fdf0732691bb6ad0177e3270235ea036e1c1,avel Emelyanov <xemul@scylladb.com>, 2021-06-09 15:29:21 +0300, , resource simplify group creation several shard try create io_group resolve conflict one put 1st queue allocates check made simpler checking group exists group vector signed pavel emelyanov xemul scylladb.com,,
69,accc5b425d78672a593bc95a0ed49ae2b24aec9d,avel Emelyanov <xemul@scylladb.com>, 2021-06-09 12:13:47 +0300, , resource fix indentation previous patch signed pavel emelyanov xemul scylladb.com,,
70,e691584de4d1106f666052fa43cdabb0ed7611bd,avel Emelyanov <xemul@scylladb.com>, 2021-06-09 12:13:12 +0300, , resource move loop queue manipulating lambda caller obligued iterate device allocate assign queue loaded allocating assigning lambda topology hand contains device side note indentation deliberately left broken signed pavel emelyanov xemul scylladb.com,,
71,be5b0ebdcdecae7d783ed82582998f8f36fac2fc,avel Emelyanov <xemul@scylladb.com>, 2021-06-09 12:09:20 +0300, , resource sanitize shard allocation assignment queue unsigned shard shard_id shard_id argument make look equal signed pavel emelyanov xemul scylladb.com,,
72,7d830faba72c34ad635b96eb878e9c054640e8bd,avel Emelyanov <xemul@scylladb.com>, 2021-06-09 12:09:00 +0300, , resource remove unused droped creation populating loop smp configure also away signed pavel emelyanov xemul scylladb.com,,
73,f18e14695222ab6bacc0553dba41da5746b924e6,avel Emelyanov <xemul@scylladb.com>, 2021-06-09 12:02:10 +0300,1, resource turn queue unique_ptr tiny leak fix queue initialization fails middle allocated yet assigned queue deleted side note patch beneficiary explicit outline constructor patch set signed pavel emelyanov xemul scylladb.com,,
74,7797fdcc10dbf5cc90284cb76d07215858318ce9,avel Emelyanov <xemul@scylladb.com>, 2021-06-09 12:07:58 +0300, , resource move group creation lock previous maneuvres wrap signed pavel emelyanov xemul scylladb.com,,
75,0fb1dcdce6eeda0c4aadefee9ab9571c8e95f2ce,avel Emelyanov <xemul@scylladb.com>, 2021-06-09 12:05:23 +0300,2, resource move vector group continuation patch step initialization group patched use one container object instead two signed pavel emelyanov xemul scylladb.com,,
76,48e9401f774257526eec27196902f9d00a5f24ea,avel Emelyanov <xemul@scylladb.com>, 2021-06-09 12:01:05 +0300,1, resource move vector queue describes numerical topology number queue group mapping later info materialized creating vector queue group real need split create needed vector object later queue group put _it_ instead  step move vector queue signed pavel emelyanov xemul scylladb.com,,
77,cd666100c1dfa884befd6fbafa9ade8b719709e1,avel Emelyanov <xemul@scylladb.com>, 2021-06-09 11:58:01 +0300, , resource add explicit constructor one next patch add vector unique_ptr io_queue compile try generate default constructor fail complaining unknown size io_queue class explicit outline constructor struct make compiler happy avoid including io_queue.hh resource.hh also ban copy constructor patch user copy topology around work reference signed pavel emelyanov xemul scylladb.com,,
78,fb183d2c661d8fb988d9cd46809be7214d06488f,efu Chai <tchaikov@gmail.com>, 2021-06-21 15:35:56 +0800, , doc prometheus note metric family passed query name started use query params instead part url since document updated accordingly change accompanied document updated signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
79,0e48ba883215508e5a33ae1a093fec901e528cb6,adav Har'El <nyh@scylladb.com>, 2021-06-09 20:33:57 +0300,912, net handshake failure send error client configure accept tlsv1.2 client trying connect earlier version rightly fail connect however currently client see connection abruptly disconnected without getting error message example python ssl function report eof occurred violation protocol tell client nothing nature problem problem function use implementation return reply client need use send reply patch doe allow gnutls function pick alert send given error seems function pick reasonable alert unsupported protocol version example pick alert like rfc suggests python ssl later print alert ssl tlsv1 alert protocol version perhaps clearest error message world much better easier understand eof message patch ref scylladb scylla 8827 fix 912 signed nadav har nyh scylladb.com message nyh scylladb.com,,
80,2e3c6da3f8c8b69cb790b056661717f1d7346a61,adav Har'El <nyh@scylladb.com>, 2021-06-16 00:45:01 +0300, , net dns fix build gcc gcc false positive warning described gcc issue http gcc.gnu.org bugzilla show_bug.cgi 96003 seastar api traditional style callback user give void argument passed callback function case take object pas address argument want callback function cast back object call method object problem gcc started complain object pointer may null pointer actual warning message null pointer wrong know fact created pointer valid object address compiler know unfortunately trying convince compiler address null e.g. adding assert seem work way found change compiler mind disable warning wnonnull dns.cc fix 914 signed nadav har nyh scylladb.com message nyh scylladb.com,,
81,a194423e0a6e099949966682720c346a15a2b23b,iotr Sarna <sarna@scylladb.com>, 2021-06-15 09:31:19 +0200, , core fix docstring range version described incorrect begin end parameter exist overload comment changed match function declaration message scylladb.com,,
82,34e0a1d01a10044524f5af70d0f48aa79d2696bc,vi Kivity <avi@scylladb.com>, 2021-06-15 10:52:22 +0300, , test alien_test replace deprecated call alien submit_to new variant alien submit_to signature deprecated replace new signature message avi scylladb.com,,
83,717396647823aaa670e18e4a33606a9806f450a4,vi Kivity <avi@scylladb.com>, 2021-06-03 20:35:38 +0300, , alien prepare multi instance use continuation e6463df8a smp allow multiple instance smp class alien extended support multiple smp instance mean several independent seastar shard set running process allow single process testing cluster alien smp class container static function variable renamed alien instance function variable made non static member alien run_on alien submit_to function modified accept alien instance parameter know seastar instance target old signature retained deprecated target first seastar intance created obtain alien instance object one call app_template alien construct multiple seastar instance one create several app_template instance run note qs_deleter made non member class private member std made unique_ptr constructor using accessible message avi scylladb.com,,
84,813eee3e4e4b7e90800dbb43fec4ca568914ffe6,vi Kivity <avi@scylladb.com>, 2021-06-07 12:22:07 +0300, , reactor fix race boost barrier destructor smp e6463df8a03 smp allow multiple instance smp class made boost barrier object local smp configure lead following race last thread reach barrier signal involves locking signalling unlocking unlocking done yet main thread waiting barrier continues execution main thread reach end smp configure destroys barrier main thread crash since barrier still lock use last thread reach barrier unlocks barrier happen since crashed step fix use std shared_ptr barrier thread complete work destroy barrier rather main thread message avi scylladb.com,,
85,6c8e8afd79d348a42f2caa29ee0207a6aa5433a1,vi Kivity <avi@scylladb.com>, 2021-06-10 13:59:18 +0300, , merge merge group queue configs pavel  configure stack reactor generates two configs one group queue attached configs duplicate lot option better merge another benefit merging queue group device actually configs also save bit memory first part previously sent set made scheduler aware disk non constant pure bandidths test unit dev scylla.unit dev scylla gdb release need patch submodule update  ioqueue merge configs http github.com xemul seastar io_queue initialize default multiplier io_queue keep copy max byte count io_queue drop io_group config io_queue move max count group config queue conig io_queue remove multiplier group config io_queue use group copy config io_queue keep copy io_queue config io_group io_queue outline call io_queue move class io_group definition io_queue introduce get_config,,
86,a3510aeaa64b26190ffd0ab54441e5a23743f1d1,iotr Sarna <sarna@scylladb.com>, 2021-06-08 14:41:58 +0200,910, test add test skipping data socket test try skip byte socket contained byte closed afterwards test case used fail 910 got fixed message scylladb.com,,
87,5c32794fd1f65e0dbe887bf3d13001e95feb0539,iotr Sarna <sarna@scylladb.com>, 2021-06-08 14:41:57 +0200, , test transform socket_test test suite instead standalone executable socket_test file capable holding related test message scylladb.com,,
88,ace23762dd1876241a2177a36635ea2d434d943a,avel Emelyanov <xemul@scylladb.com>, 2021-06-07 17:58:32 +0300, , .gitignore add tag ctags tool generates tag file source root signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
89,416beee2c6cc3933b8afac0b6edc5afd995227e9,alle Wilund <calle@scylladb.com>, 2021-06-08 12:28:58 +0000,911, retain handshake error return original problem repeated failure fix 911 session allowed fail redo handshake time fail likely initial handshake potentially repeating generating subsequent error calling code call quits gnutls however initial actual failure simply return dead session second atttempt preserve original error return instead since probably semantic info message calle scylladb.com,,
90,b868816ee24a7299ed13d830c434873535217c4e,iotr Sarna <sarna@scylladb.com>, 2021-06-08 11:42:24 +0200,910, iostream fix skipping closed socket current implementation skip try read stream byte discarded special case closed fds omitted read might start returning byte case skip fall infinite loop fix handling special case reading byte explicitly fix 910 message scylladb.com,,
91,6d545b7774d6f0b3dad1a101caa21d57ac19ac8e,ichael Livshin <repo@cmm.kakpryg.net>, 2021-06-05 21:52:09 +0300,909, gitignore .cooking_memory signed michael livshin michael.livshin scylladb.com close 909,,
92,1d95d071a3f81c9f4ec2da7c0e526b0bcd9366c5,adav Har'El <nyh@scylladb.com>, 2021-06-02 14:44:31 +0300,900, merge metric fix dtest ulong conversion error benny halevy prometheus to_str metric_value fix conversion type counter derive look like got reversed consistent metric impl data_type documentation  enum class data_type uint8_t counter unsigned int gauge double derive signed int absolute unsigned int histogram   fix 899 test debug verified node log show ubsan error added conversion warning close 900 github.com scylladb seastar scollectd write_value convert data_type derive signed long int prometheus to_str data_type report absolute counter prometheus to_str metric_value convert also absolute prometheus to_str metric_value fix conversion type counter derive prometheus fill_metrics switch case metric report throw double ulong conversion error,,
93,64101190b83fe42aa586c68f9ecfa5a75dc6c9c3,avel Emelyanov <xemul@scylladb.com>, 2021-05-11 20:51:42 +0300, , io_queue initialize default multiplier config multiplier default initializers need initialize hand signed pavel emelyanov xemul scylladb.com,,
94,e95e8e41af08f91e9fcbaebade60be34190e253f,avel Emelyanov <xemul@scylladb.com>, 2021-05-11 20:43:26 +0300, , io_queue keep copy max byte count value copied config group code live one copy signed pavel emelyanov xemul scylladb.com,,
95,95177543456270c5082e5366ebef319f5e7f2630,avel Emelyanov <xemul@scylladb.com>, 2021-05-11 20:42:30 +0300, , io_queue drop io_group config empty signed pavel emelyanov xemul scylladb.com,,
96,0a12ecb9471e19c2bb7d83df567d5b434cdad49f,avel Emelyanov <xemul@scylladb.com>, 2021-05-11 20:29:37 +0300, , io_queue move max count group config queue conig signed pavel emelyanov xemul scylladb.com,,
97,490ce4cd4a81160178e2a2ff763c81492040bb71,avel Emelyanov <xemul@scylladb.com>, 2021-05-11 20:26:30 +0300, , io_queue remove multiplier group config group queue config onboard longer need duplicate multiplier value group config signed pavel emelyanov xemul scylladb.com,,
98,6e2e8c90b5b5eb3988c2accdf7f74b2c1a10c0e2,avel Emelyanov <xemul@scylladb.com>, 2021-05-11 20:22:00 +0300, , io_queue use group copy config previous patch put copy queue config group patch make queue use drop private copy overboard signed pavel emelyanov xemul scylladb.com,,
99,c5b9abfea8ea347d428133efae3f12fb8dbd9aca,avel Emelyanov <xemul@scylladb.com>, 2021-05-11 20:17:42 +0300, , io_queue keep copy io_queue config io_group queue attached group exactly config putting copy group let queue switch later signed pavel emelyanov xemul scylladb.com,,
100,49a27c51d43b1b7d541529451a7f870a2cd497fa,avel Emelyanov <xemul@scylladb.com>, 2021-06-01 12:27:24 +0300, , io_queue outline call need access io_group next patch declared method implementation come even signed pavel emelyanov xemul scylladb.com,,
101,855ba03a6a235a676eb758e895d71f6b5046cfc0,avel Emelyanov <xemul@scylladb.com>, 2021-05-11 20:14:11 +0300, , io_queue move class io_group definition need know io_queue config soon move change signed pavel emelyanov xemul scylladb.com,,
102,115130d76dcb2fabeea52be8e2853d0e6eba902e,avel Emelyanov <xemul@scylladb.com>, 2021-06-01 17:46:43 +0300, , io_queue introduce get_config mostly reduce churn next patch also make sure config used const manner signed pavel emelyanov xemul scylladb.com,,
103,e5dd0bc37b66c1ee60ef0a9dc93e165e23a7afc3,iotr Jastrzebski <piotr@scylladb.com>, 2021-05-30 15:00:19 +0200, , make update_shares const function doe really change object signed piotr jastrzebski piotr scylladb.com message scylladb.com,,
104,9cd2d9fa4e70ddd998bb082ded10030be1ef1149,vi Kivity <avi@scylladb.com>, 2021-05-31 20:47:53 +0300, , remove seastar core apply.hh file content deprecated year since 246fa0c8ca8 treewide deprecate seastar apply replacement trivial remove file message avi scylladb.com,,
105,8e85f984c914db07c08f2831e1cc8ec3bc02920e,enny Halevy <bhalevy@scylladb.com>, 2021-05-12 17:22:42 +0300, , scollectd write_value convert data_type derive signed long int signed benny halevy bhalevy scylladb.com,,
106,149802ccdff6558660aa57e1151803ecc6ec8583,enny Halevy <bhalevy@scylladb.com>, 2021-05-12 13:59:22 +0300, , prometheus to_str data_type report absolute counter treated cou nter way similar derive report absolute counter signed benny halevy bhalevy scylladb.com,,
107,2e436be5958fdd29f24a28acb9a1e3e22b2d76f7,enny Halevy <bhalevy@scylladb.com>, 2021-05-12 13:55:38 +0300, , prometheus to_str metric_value convert also absolute convert data_type absolute data_type counter switch case let compiler warn case handled explicitly signed benny halevy bhalevy scylladb.com,,
108,5cd5472c73538f9e68b88bc8c44c1df7d5b79b31,enny Halevy <bhalevy@scylladb.com>, 2021-05-12 13:48:51 +0300,899, prometheus to_str metric_value fix conversion type counter derive look like got reversed consistent metric impl data_type documentation  enum class data_type uint8_t counter unsigned int gauge double derive signed int absolute unsigned int histogram   fix 899 signed benny halevy bhalevy scylladb.com,,
109,f2df0869f5133ea369d6432cd5457822428ff859,enny Halevy <bhalevy@scylladb.com>, 2021-05-12 13:45:05 +0300, , prometheus fill_metrics switch case rather using default case let compiler ensure covered case make clear double ulong conversion counter absolute signed benny halevy bhalevy scylladb.com,,
110,3919c920033a44e1ac2471fc47bcc1d06d487411,enny Halevy <bhalevy@scylladb.com>, 2021-05-12 12:50:48 +0300, , metric report throw double ulong conversion error saw ubsan error debug mode   scylla seastar include seastar core metrics.hh 278 runtime error 191 outside range representable value type unsigned long  report conversion error log emit nan value instead conversion signed benny halevy bhalevy scylladb.com,,
111,e6463df8a03616a509393ceb0212c3ca6ed57ab6,vi Kivity <avi@scylladb.com>, 2021-05-18 01:01:56 +0300, , smp allow multiple instance smp class seastar often used clustered system desirable run multiple seastar instance process testing simulate cluster first step direction smp class made free globals create multiple instance case mean removing static variable declaration exception smp _qs used static interface smp invoke_on made thread local every thread host reactor belonging smp instance copy variable since _qs destructor need run destructor moved new variable smp _qs_owner regular data member smp count public interface made thread_local since used alien_test outside reactor thread presumably possibly application use seastar alien kept global implication program multiple smp instance must smp count across instance interface deprecated removed smp _tmain made thread_local simplest translation could find plan remove later used one unimportant place smp instance created app_template std shared_ptr since reactor need hold reactor destruction happens thread termination may simplified improve shutdown sequence note first step globals must removed part seastar example seastar alien complicated step tested release debug mode without dpdk credit konstantin osipov kostja scylladb.com idea message avi scylladb.com,,
112,4506b8784a6300ec86e3a3d0145723f851ca6b11,omasz Grabiec <tgrabiec@scylladb.com>, 2021-05-27 17:57:14 +0200, , merge memory optimize thread local initialization avi memory allocator lot thread local variable cause compiler emit check thread local guard variable lazy initialization observed 829 expensive series slims initialization verified inspecting generated code using scylla 186247.78 tps 87.1 allocs 20.1 task 53777 insns 189393.75 tps 87.1 allocs 20.1 task 50858 insns reduction instruction executed fix 829 memory reduce thread local overhead memory avoid gratuitous cpu_mem initialization check memory fast path local statistic memory use relaxed memory order incrementing cross thread stats memory fix coding style statistic increment memory return original value incrementing statistic memory initialize cpu_mem access pointer eagerly lazily,,
113,5dae0cf3c48159990f51e5d38495af5ae224c2f8,vi Kivity <avi@scylladb.com>, 2021-05-26 15:47:42 +0300,817, merge move priority class manipulation queue pavel  io_queue class loaded class manipulation api nice set leaf queue request processing move class manipulation relevant place name little bit misleading actually handle class already part api changed ref 817 test unit dev scylla.unit dev  prio class encap http github.com xemul seastar pack name share struct io_queue move class registration field add get_shares get_name method simplify reactor deprecate reactor deprecate reactor deprecate io_queue move io_queue reactor detach reactor rename_queues reactor move reactor method reactor update comment mark noexcept,,
114,b59f0734004a7ac690a44d520aaac1f90f48faf9,avel Emelyanov <xemul@scylladb.com>, 2021-05-03 13:13:06 +0300, , pack name share struct right use independent array natural keep closer throtting added layer easier wire new configuration class registration code signed pavel emelyanov xemul scylladb.com,,
115,c10c23ebd9f5febdb75215718f2e839c3eaad1f3,avel Emelyanov <xemul@scylladb.com>, 2021-05-03 13:04:47 +0300, , io_queue move class registration field io_queue class _just_ queue without sign class management left signed pavel emelyanov xemul scylladb.com,,
116,4e5ca0fecdc42ad494da1d4c1b4929120089cef6,avel Emelyanov <xemul@scylladb.com>, 2021-05-03 12:37:58 +0300, , add get_shares get_name method plan move registered info class class keep io_queue accessing future private field add accessors advance signed pavel emelyanov xemul scylladb.com,,
117,d2dabab0d296a8fe54a0d17074e0af49f78a3a03,avel Emelyanov <xemul@scylladb.com>, 2021-05-11 11:26:41 +0300, , simplify renaming class two thing happen registered name change reactor queue name change former step may trhow right exception caught logging rethrown possible make part bit simpler signed pavel emelyanov xemul scylladb.com,,
118,6b077f6b068f57a8e45deb20078cba62a5ce0b12,avel Emelyanov <xemul@scylladb.com>, 2021-05-11 11:25:47 +0300, , reactor deprecate class manipulation api migrating new way rename class call rename signed pavel emelyanov xemul scylladb.com,,
119,8ab888a2a81d93c233a43ced76ce222acb3d5bbe,avel Emelyanov <xemul@scylladb.com>, 2021-05-11 11:01:03 +0300, , reactor deprecate class manipulation api migrating new way update class share call update_shares signed pavel emelyanov xemul scylladb.com,,
120,7096b8d244c763f7a900b55c7f4c8bc43098d229,avel Emelyanov <xemul@scylladb.com>, 2021-05-11 10:55:57 +0300, , reactor deprecate class manipullation api migrating new way register class call register_one signed pavel emelyanov xemul scylladb.com,,
121,a5eb3f90b94169e026007da7e748275fac2d91cb,avel Emelyanov <xemul@scylladb.com>, 2021-05-11 11:20:07 +0300,1, io_queue move io_queue step removing class manipulation api io_queue signed pavel emelyanov xemul scylladb.com,,
122,d7abbf4e2bc6c094c958ab10ba953d4d933e3625,avel Emelyanov <xemul@scylladb.com>, 2021-05-11 11:11:09 +0300, , reactor detach reactor rename_queues renaming class two thing performed registered class name changed reactor queue name changed latter part step need access reactor deatch part reactor method advance signed pavel emelyanov xemul scylladb.com,,
123,d90541481137b28d7b58c49129394a265a56ab61,avel Emelyanov <xemul@scylladb.com>, 2021-05-11 11:04:29 +0300, , reactor move reactor method method soon become part sit code signed pavel emelyanov xemul scylladb.com,,
124,058e88432efe6bb1f0ee719ce9e4e2ce0339479c,avel Emelyanov <xemul@scylladb.com>, 2021-05-03 15:27:25 +0300, , reactor update comment reactor shard local comment bit dated signed pavel emelyanov xemul scylladb.com,,
125,24eb005dd36b2bea19103956d4b6d1eb8b6624f3,avel Emelyanov <xemul@scylladb.com>, 2021-05-03 12:54:12 +0300, , mark noexcept  signed pavel emelyanov xemul scylladb.com,,
126,4eee0ebac4a3fece75af469081383e5e823f0bcc,oah Watkins <noah@vectorized.io>, 2021-05-13 19:45:15 -0700, , gate add default move assignment operator seems caused default move assignment operator deleted signed noah watkins noah vectorized.io message noah vectorized.io,,
127,f0f28d07e19e93de03633c26b6e2738e04c89b9d,adav Har'El <nyh@scylladb.com>, 2021-05-23 21:40:38 +0300,8691, httpd allow handler read empty content starting commit http handler read request body using input stream instead string handler doe read entire request body client send request socket server need close conversely handler read content server may keep socket open check whether handler read content checked content stream eof state however may become true read noticed content reached end specified content length chunked encoding one interesting case missed simple handler assumes empty request body bother read case even though request empty handler miss content reading close connection solution patch replace check eof attempt read content stream typical case handler either read entire content nothing read first place read return nothing immediately allow reusing connection anything returned read ignored connection closed may still read entire content fix 907 ref scylladb scylla 8691 signed nadav har nyh scylladb.com message nyh scylladb.com,,
128,ec0318f9b39662bc1b726a657c5da2d03aea599b,enny Halevy <bhalevy@scylladb.com>, 2021-05-20 14:20:07 +0300, , compat source_location implement std experimental available implementation source_location seastar internal source_location namespace use std experimental source_location implementation available add unit test source_location test unit dev signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
129,45fef6dbd1489aa04b51df880f8a995faa5f777e,enny Halevy <bhalevy@scylladb.com>, 2021-05-20 14:20:06 +0300, , compat source_location declare using seastar compat namespace currently compat source_location using declaration done namespace compat outside seastar namespace wrong compat namespace nested inside namespace seastar signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
130,3cf0a61b7ca22b177794f78da65dccfa0e52ca1f,lad Zolotarov <vladz@scylladb.com>, 2021-05-20 21:25:52 -0400,895, perftune.py fix bug mlx4 irqs name matching pattern one assume match group going index pattern like some_pattern1 gr1 some_pattern2 gr2 case left side match gr1 accessible match.group case right side match gr2 accessible match.group rather match.group avoid ambiguity split pattern two left right side separate pattern apply separately fix 895 signed vlad zolotarov vladz scylladb.com message vladz scylladb.com,,
131,28dddd26839b3d198c803ed8d045e8cf64eba31b,vi Kivity <avi@scylladb.com>, 2021-05-10 16:57:17 +0300, , reactor disable xfs extent size hint using kernel page cache xfs code comment use delayed allocation using extent size hint delayed allocation great optimization using kernel page cache since delayed allocation elided file removed shortly written case test suite primary target kernel page cache observed ton disk flush due away disable extent size hint note extent size hint also unnecessary presence delayed allocation kernel know size extent allocate writes ready sent disk fix extra fsyncs disabling extent size hint kernel page cache enabled message avi scylladb.com,,
132,4200afb31e51b036f5df73cfb12ba3d76976c402,vi Kivity <avi@scylladb.com>, 2021-05-16 14:32:59 +0300, , smp replace _reactors global local _reactors used initialization doe need global making local simplify refactoring message avi scylladb.com,,
133,c4be2d5799ee3fef0a945b203aea0fd871e5ee1e,vi Kivity <avi@scylladb.com>, 2021-05-16 12:57:09 +0300, , merge add test scheduler fails pavel  test main goal validate effort teaching sched handle mixed mode disk successfull test run real disk cheks pure mode also fails mixed one pretty much everywhere  scheduler test http github.com xemul seastar test scheduler manual test io_tester grab metric report back io_tester name sched class workload name apps add ioinfo helper,,
134,ad50e93fdabcfe532e1a342d3c443d81f8177fbd,vi Kivity <avi@scylladb.com>, 2021-05-15 21:43:12 +0300, , memory avoid gratuitous cpu_mem initialization check get_cpu_mem avoid unneeded cpu_mem intitialization check use everywhere cause extra check emitted fix switching get_cpu_mem call site already initialized case matter performance switching make easier verify inspection unnecessary call site remain,,
135,6c7731b20a28d89fcabb763bfd4431873189b3da,vi Kivity <avi@scylladb.com>, 2021-05-15 21:26:08 +0300, , memory fast path local statistic keep two different kind statistic thread local reactor thread global hashed alien thread increment function decides type need use reduce instruction count splitting local option new increment_local function call directly known correct choice,,
136,7a216214b9fe7a125d0e3edb05c722be4d5ae383,vi Kivity <avi@scylladb.com>, 2021-05-15 21:19:57 +0300, , memory use relaxed memory order incrementing cross thread stats default sequentially consistent increment expensive architecture big deal since slow path still worth,,
137,6c64af4d2e09324af6deda7da279bf3e63a87f68,vi Kivity <avi@scylladb.com>, 2021-05-15 21:19:23 +0300, , memory fix coding style statistic increment expected improve performance stop eye bleeding,,
138,6f1c617b995aa4f8f3837bf1be18392817900301,vi Kivity <avi@scylladb.com>, 2021-05-15 21:18:37 +0300, , memory return original value incrementing statistic function increment statistic return original value one interested simplify dropping return value,,
139,9a4577bd56137c7dd866d2462b0cfacdfc512740,vi Kivity <avi@scylladb.com>, 2021-05-15 20:56:41 +0300, , memory initialize cpu_mem access pointer eagerly lazily cpu_mem expensive variable use since thread local non trivial constructor destructors work around compiler thread local guard variable check get_cpu_mem supposed inlined initialization optimized observed increased complexity fix eagerly initialize cpu_mem pointer making get_cpu_mem trivial inlined without pulling cpu_mem initialization made possible new check give opportunity eager initialiation calling new function init_cpu_mem,,
140,27e9da990a58531194db82b93605fe9c4d33e957,otond Dnes <bdenes@scylladb.com>, 2021-05-13 14:16:02 +0300, , weak_ptr lift restriction copying add copy constructor copy assignment operator real drawback lack severely impact usability copying weak_ptr conceptually equivalent auto copy my_weak_ptr my_weak_ptr weak_from_this nullptr side effect patch new weak_ptr idiom disputed legality gotten rid signed botond bdenes scylladb.com message bdenes scylladb.com,,
141,27b15a1972f08df8cdd2e939f39da5461bd8825e,efu Chai <tchaikov@gmail.com>, 2021-05-13 11:12:05 +0800, , core expose hidden method parent class change also silence warning gcc like src seastar src core file impl.hh 123 warning virtual seastar future seastar unsigned char seastar posix_file_impl dma_read_bulk uint64_t size_t const seastar hidden woverloaded virtual 123 virtual future uint8_t dma_read_bulk uint64_t offset size_t range_size const noexcept override  src seastar src core file impl.hh 289 note virtual seastar future seastar unsigned char seastar dma_read_bulk uint64_t size_t const seastar seastar io_intent 289 virtual future uint8_t dma_read_bulk uint64_t offset size_t range_size const io_intent intent noexcept override  signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
142,be91b9c0105e8a170c0a2675bda4ea49c2890627,lad Zolotarov <vladz@scylladb.com>, 2021-05-12 17:18:05 -0400,901, perftune.py verify parameter none turn none let add sanity check avoid none object dereferencing fix 901 signed vlad zolotarov vladz scylladb.com message vladz scylladb.com,,
143,d240dac462cfa7287c225e386a43a12a68b9d87f,enny Halevy <bhalevy@scylladb.com>, 2021-05-10 15:55:18 +0300, , gate assert outstanding request destroyed destroying gate without close ing first outstanding request leave behind stray asynchronous continuation typically might lead use free resource referenced async request destroyed detect gate assert _count test unit dev scylla unit dev signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
144,cf6ca461f768f57c7370f14d196f4061c7b6cd67,imitris Skourtis <skourtis@vectorized.io>, 2021-05-10 15:43:55 -0700,884, httpd add status_types 101 switching protocol 203 non authoritative information 205 reset content 303 see 305 use proxy 307 temporary redirect 402 payment required 405 method allowed 408 request timeout 409 conflict 410 gone 414 uri long 417 expectation failed 426 upgrade required 504 gateway timeout 505 http version supported 507 insufficient storage ref 884 signed dimitris skourtis skourtis vectorized.io message skourtis vectorized.io,,
145,ca2863745d405dad59746e3175cb1a6f5499b64f,enny Halevy <bhalevy@scylladb.com>, 2021-05-11 09:52:44 +0300, , cmake use clang ccache build configure.py compiler clang dialect  time ninja build dev real 1m23.717s user 33m21.582s sys 1m48.329s time ninja build dev test real 3m3.706s user 1m33.032s sys 0m7.120s  time ninja build dev real 1m21.250s user 32m39.210s 42.4s sys 1m7.219s unclear clang seems slightly faster code time ninja build dev test real 2m23.167s user 0m48.202s 44.8s sys 0m11.452s signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
146,e0a754cf5fefe9ae5d1b7c241c9b55a16a0f3db1,enny Halevy <bhalevy@scylladb.com>, 2021-05-10 13:43:57 +0300, , compat source_location use std source_location available libstdc devel 11.0.1 0.3.fc34.x86_64 come usr include source_location latter defines std source_location __has_builtin apparently false clang therefore use std source_location compat source_location actualy defined std header file based test unit dev signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
147,e41cb2a6f91c4916f286c8c7cd777cb14f05807e,vi Kivity <avi@scylladb.com>, 2021-05-09 18:26:18 +0300, , iotune disambiguate lambda capture mode capture deprecated implicit choice capture choose capture also warns using deprecated feature fixed using compiler warns redundant capture warning disabled fix explicitly capturing everything making code larger compiler happy credit http pipeline github scylladb seastar 940 workflow 7caf8ce6 ba0f 4bdb ae3e a74376aa1b4e job 1825 report message avi scylladb.com,,
148,c177c790852fbab2b0d628ebd5bd61ed182bbcee,vi Kivity <avi@scylladb.com>, 2021-05-09 12:40:03 +0300, , merge consider disk saturation request length pavel  currently select length request randomly typically 512 commitlog 128k sstable request read write mean stream may start smaller buffer step value eventually latter selection may many case doe conflict real disk behavior main headache large request dusturbing everything mixed workload measured disk always capable serve read writes within seastar latency goal 128k reqs one direction improve scheduler ask caller submit smaller request partially done cap stream buffer size limit set work scylla needed reducing maximum request size done carefully disk threir saturation threshold minimal request size using still possible get peak sustained throughput even submitting request one one submitting request larger threshold one benefit saving cpu tick memory needed maintain request saving pretty tiny 32k 64k 128k size hard notice time smaller threshold request arguable latency throughput trade unequivocal answer said set doe thing introduces two new saturation length option property file together iotune extention measure table data cloud disk along thought make maximum request size exceed saturation length promiced table single cloud disk different instance saturation length write read 128 i3.xlarge 128 i3.8xlarge 1024 1024 i3en.12xlarge 1024 i2.4xlarge 1024 1024 gce 512 fact value 1024 lower bound actual value measuring 2mb buffer _may_ happen throughput would larger iotune interesting i3.8xlarge i3.4xlarge first thing even 128k writes saturate disk done parallel e.g many shard likely happen second much important let compare number write bandwidth corresponding scheduler request length limitation needed meet 0.5ms latency goal goal column saturation bandwidth goal i3.8xlarge 1024 881 677 i2.4xlarge 1024 460 353 clear ssds able provide work peak sustained throughput meet seastar latency goal instance well read number comparison room scheduler achieve peak throughout meet latency goal test unit dev iotune local cloud disk  saturation http github.com xemul seastar io_queue count saturation length max request lenghts iotune measure disk saturation length introduce saturation length property file iotune tune meaning stdev_percents helper io_queue rename,,
149,793a8228b5fa3fb30a7cf1f784c7f23aa8f97d3f,avel Emelyanov <xemul@scylladb.com>, 2021-05-04 16:44:05 +0300, , test scheduler manual test new test check sched doe job make request spend time disk configured get time recently introduced disk metric used test exploit called saturation test start base minimally possible workload make sure disk able provide desired latency workload scaled increasing concurrency test check disk time remains within bound scaling stop iosched saturated start hold request queue latter estimated delay metric bit extra confidence saturation chedked larger workload currently test probe scheduler type workload pure 128k read pure writes pure 64k writes mixed 128k read writes mixed 128k read 64k writes mixed workload scaled direction symmetrical increase concurrency alog axis one part scale stay one time signed pavel emelyanov xemul scylladb.com,,
150,f84163e3d8d1ef12faa22ad632cfff137d980ce3,avel Emelyanov <xemul@scylladb.com>, 2021-05-04 08:58:49 +0300, , io_tester grab metric report back workload finish tester report explicitly measured number operation byte processed total observed latency patch make also report time request spent queue disk well number request pushed latter might differ slightly test number test ignores request fell testing timeframe outlier would accounted metric signed pavel emelyanov xemul scylladb.com,,
151,81bb9ecb1a62dc8147803e2ab2bd880e1a320450,avel Emelyanov <xemul@scylladb.com>, 2021-05-04 08:22:08 +0300, , io_tester name sched class workload name make metric get workload name well turn make possible tester find metric report part workload result signed pavel emelyanov xemul scylladb.com,,
152,4275d08b4d96e7f79b57d2f24a7ca3b74e2119cc,avel Emelyanov <xemul@scylladb.com>, 2021-05-07 15:20:06 +0300, , apps add ioinfo helper tiny one report information yaml format might needed script right report back maximum length test reason maximum request size signed pavel emelyanov xemul scylladb.com,,
153,22527abfb89a8bd3a86c535e061a031729005fcc,omasz Grabiec <tgrabiec@scylladb.com>, 2021-05-05 13:15:58 +0200,893, merge seastar addr2line support oneline backtrace resolve call benny halevy move splitting processed line match addressed single line might prefixed non address text define backtraceparser categorize line either none separator address return parsed result dictionary containing type address optional prefix one address represented dictionary containing optional path address line contains multiple address considred complete backtrace hence first print current backtrace print one immediately processing line addition self test added run backtraceparser bunch possible line verifies expected result fix 892 signed benny halevy bhalevy scylladb.com close 893 github.com scylladb seastar seastar addr2line backtraceparser detect nested backtraces seastar addr2line backtraceparser add disabled debugging printout seastar addr2line backtraceparser define get_prefix test test nested exception combination seastar addr2line add support test test exception logging seastar addr2line support oneline backtrace resolve call,,
154,4d10d87c28630f29655c25d61902f56b49277204,enny Halevy <bhalevy@scylladb.com>, 2021-05-05 09:25:31 +0300, , seastar addr2line backtraceparser detect nested backtraces signed benny halevy bhalevy scylladb.com,,
155,c037cff3124f4854f1ae9afc507707c1443c43f0,enny Halevy <bhalevy@scylladb.com>, 2021-05-05 09:27:00 +0300, , seastar addr2line backtraceparser add disabled debugging printout useful development process signed benny halevy bhalevy scylladb.com,,
156,30c56997750b31e25307bf17b5fcb0e0985391f9,enny Halevy <bhalevy@scylladb.com>, 2021-05-05 09:14:43 +0300, , seastar addr2line backtraceparser define get_prefix simplify prefix parsing always return none empty non existing prefix signed benny halevy bhalevy scylladb.com,,
157,1c548190be28d195cafa1b718ceb8115283d3ac8,enny Halevy <bhalevy@scylladb.com>, 2021-05-05 08:18:01 +0300, , test test nested exception combination signed benny halevy bhalevy scylladb.com,,
158,69e49117feca36ae4c03dbbedb33feeb6e3bef8f,enny Halevy <bhalevy@scylladb.com>, 2021-05-04 18:49:26 +0300, , seastar addr2line add support print backtrace inside parenthesis optionally support trailing closing prenthesis oneline regular expression add respective test case signed benny halevy bhalevy scylladb.com,,
159,53e788e1170a223e54e9c9daee9234b6fe4e047d,enny Halevy <bhalevy@scylladb.com>, 2021-05-04 18:43:11 +0300, , test test exception logging signed benny halevy bhalevy scylladb.com,,
160,0c74669bb60d280b3bec66ae80eda07a0b8c8b89,enny Halevy <bhalevy@scylladb.com>, 2021-05-02 14:35:08 +0300,892, seastar addr2line support oneline backtrace resolve call move splitting processed line match addressed single line might prefixed non address text define backtraceparser categorize line either none separator address return parsed result dictionary containing type address optional prefix one address represented dictionary containing optional path address line contains multiple address considred complete backtrace hence first print current backtrace print one immediately processing line addition self test added run backtraceparser bunch possible line verifies expected result fix 892 signed benny halevy bhalevy scylladb.com,,
161,847fccaf5eaaca8e0874d55fa223cb19b16efa56,lad Zolotarov <vladz@scylladb.com>, 2021-05-03 18:32:30 -0400,894, perftune.py fix parsing yaml option apparently python3 yaml print boolean value however par value .yaml file interprets integer let fix printing whatever value get .yaml string convert string bool using fix 894 signed vlad zolotarov vladz scylladb.com message vladz scylladb.com,,
162,f1b6b95b69efa897c335b2d214a4094238295877,vi Kivity <avi@scylladb.com>, 2021-05-03 13:16:16 +0300, , merge cap stream buffer size limit pavel  file caller recommended submit request exceed certain maximum length nowadays limit reported via file method next direct usage file handy instead stack stream sink data source build top file layer must also honor limit set make input_stream output_stream tune configured buffer size submit oversized request file stream allowed change suggested buffer size silently size provided configs facto maximum value stream may actually use buffer smaller size think appropriate test unit dev scylla.unit dev without property  stream buffer size 5.2 http github.com xemul seastar fstream cap buffer size file maximum fstream implement buffer size discovery construct iostream discover buffer size sink code use option construct output_stream iostream use option struct construct output_stream fstream mark part file_data_sink private,,
163,ad8220ce30528d975e54cfe54d73931797fee367,avel Emelyanov <xemul@scylladb.com>, 2021-04-21 18:34:35 +0300, , fstream cap buffer size file maximum file data source file sink work top file limitation maximum size whole sink source stream stack preapred honor limit signed pavel emelyanov xemul scylladb.com,,
164,8a9643493711753ffa71b15a9f4795c68833fd9f,avel Emelyanov <xemul@scylladb.com>, 2021-04-21 18:00:02 +0300, , fstream implement buffer size discovery construct pick new output_stream api signed pavel emelyanov xemul scylladb.com,,
165,5e15b88f059a8aa899996aa1860666c39a07ee95,avel Emelyanov <xemul@scylladb.com>, 2021-04-21 17:59:53 +0300, , iostream discover buffer size sink output path buffer size used stream level hand sink know buffer size use data source doe also file sink well file hand adjust buffer size larger maximum length scylla output_streams often sits top pile sink e.g like output_stream file_sink file properly configure top output_stream one would need pick lowest file least file_sink quite complicated propagation greatly simplified introducing sink constructor output_stream .buffer_size method sink file_sink get _its_ buffer size cap file maximum size stacked sink forward call downwards signed pavel emelyanov xemul scylladb.com,,
166,66202917709562ceafb18fa664d95b2b1e6b52f3,avel Emelyanov <xemul@scylladb.com>, 2021-04-20 19:56:00 +0300, , code use option construct output_stream keep new api signed pavel emelyanov xemul scylladb.com,,
167,babac6de088ff8f4603fec0ca91baf3274225066,avel Emelyanov <xemul@scylladb.com>, 2021-04-20 19:51:58 +0300, , iostream use option struct construct output_stream output_stream mandatory parameter buffer size optional booleans patch add option strucuct initialize latter serf two purpose make option name explicit help avoid combinatorial explosion option future buffer size option option default value signed pavel emelyanov xemul scylladb.com,,
168,1a578012d13bf28befdbd21c1191ecf793440c20,avel Emelyanov <xemul@scylladb.com>, 2021-04-21 16:21:19 +0300, , fstream mark part file_data_sink private internal method got accidentally made public ago user outside signed pavel emelyanov xemul scylladb.com,,
169,67b3f989b6582397ebfbdc3f5892aa246cc19280,vi Kivity <avi@scylladb.com>, 2021-05-02 19:00:44 +0300, , io_queue fix mismatched class struct tag clang complain struct defined sometimes struct time class change class fit rest code make clang quiet message avi scylladb.com,,
170,5e6f9a8af2bf8549f567e0f67c35ff24d5e63e19,lad Zolotarov <vladz@scylladb.com>, 2021-04-30 15:46:04 -0400,888, perftune.py instrument bonding tuning flow nic parameter patch fix regression introduced  fix 888 signed vlad zolotarov vladz scylladb.com message vladz scylladb.com,,
171,afaac276faa6b5850f0386a46637fde480f2c01d,lad Zolotarov <vladz@scylladb.com>, 2021-04-30 15:46:03 -0400, , perftune.py strip newline scheduler file content stripped break searching logic signed vlad zolotarov vladz scylladb.com message vladz scylladb.com,,
172,c33c969b6d56f5ef4eef979817bf267ed2dfc98e,lad Zolotarov <vladz@scylladb.com>, 2021-04-30 15:46:02 -0400,887, perftune.py add support virtual non raid disk device linux kernel recently added support virtual nvme device broke original assumption every virtual device raid device patch add correct handling non raid device fix 887 signed vlad zolotarov vladz scylladb.com message vladz scylladb.com,,
173,1a1f22505d3a98947150bdb39eefd0c061ea4fd2,iu Lan <liulan@cmss.chinamobile.com>, 2021-04-06 21:49:05 +0800, , doc fix typo doc tutorial.md signed liu lan liulan message liulan,,
174,0238d255d8c1c2b5e225678eb9060136f900427d,vi Kivity <avi@scylladb.com>, 2021-05-02 15:22:21 +0300, , merge add disk stats pavel  queue collect per class stats log queue much time request spend many data flowing good know also number feel request dispatched set add two metric disk total execution time symmatrical queue total sitting time one rate graphana disk queue length snapshot similar queue number request make work throughout queue dispatch complete error path graph desc object need carry reference priority class one survives change turn let moving accounting queued request object eventually simplifying api io_queue patch also doe test unit dev tester  disk stats http github.com xemul seastar io_queue drop one line helper desc io_queue unfriend io_queue add on_queued io_queue track per class disk queue length io_queue track per class execution time io_queue remove pclass queued req io_queue shuffle queued accounting io_queue shuffle dispatching path io_queue keep reference io_queue turn class io_queue rename stuff underbars io_queue move piece inline io_queue move,,
175,d0c6cd0ab74ad60f7552ab149666e325d5d02037,avel Emelyanov <xemul@scylladb.com>, 2021-04-26 16:17:56 +0300, , iotune perform check directory check option passed iotune check first directory list check signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
176,c7df39f79ca771471baaa8ea98dfd49a382a8e4a,avel Emelyanov <xemul@scylladb.com>, 2021-04-29 21:28:59 +0300, , file keep reference queue right file keep pointer queue never null never change worth making reference test unit dev signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
177,e671ec453e3c00ea36d4817a3236f0ef5b4a1454,avel Emelyanov <xemul@scylladb.com>, 2021-04-30 12:21:31 +0300, , io_queue drop one line helper desc helper doe nothing useful bloat code signed pavel emelyanov xemul scylladb.com,,
178,1bc52b529ec34df96b0911dff354104c02f3022b,avel Emelyanov <xemul@scylladb.com>, 2021-04-30 12:20:33 +0300, , io_queue unfriend private thing queue need class fair queue class pointer signed pavel emelyanov xemul scylladb.com,,
179,ad124478088413a790b87b1c31e1d59ef3e83869,avel Emelyanov <xemul@scylladb.com>, 2021-04-30 12:18:07 +0300, , io_queue add on_queued uniform rest on_ ... hook finally unfriend io_queue signed pavel emelyanov xemul scylladb.com,,
180,485000c425e76854be90e9ae09e07cf0a062aa32,avel Emelyanov <xemul@scylladb.com>, 2021-04-30 12:17:23 +0300, , io_queue track per class disk queue length metric help analyzing scheduler model could wrong provided metric previous patch went high signed pavel emelyanov xemul scylladb.com,,
181,6fbeea31727481bd11f85842d01b18ceb8cdeafc,avel Emelyanov <xemul@scylladb.com>, 2021-04-30 12:15:03 +0300, , io_queue track per class execution time symmetrical accumulate per class metric rate stay within fixed bound depending latency goal grows larger indicator scheduler model following disk behavior signed pavel emelyanov xemul scylladb.com,,
182,7c89bd9a061cf65f40b82fbd3ad57ff434f83fcf,avel Emelyanov <xemul@scylladb.com>, 2021-04-30 12:12:24 +0300, , io_queue remove pclass queued req queued request object need priority class reference board associated accounting done inside desc object signed pavel emelyanov xemul scylladb.com,,
183,32e75e7731ea6483f419ce7c18f8d76cad02b301,avel Emelyanov <xemul@scylladb.com>, 2021-04-30 12:11:47 +0300, , io_queue shuffle queued accounting continuation previous patch move per class accounting number queued request queued request desc let relaxing queue api well signed pavel emelyanov xemul scylladb.com,,
184,56cad1e4019452ce3585aead7770839bfe097193,avel Emelyanov <xemul@scylladb.com>, 2021-04-30 12:08:25 +0300, , io_queue shuffle dispatching path desc object per class accounting related request completion better keep _all_ accounting desc let remove priority class reference queued request object simplify io_queue api start change movind dispatch accounting queued request desc signed pavel emelyanov xemul scylladb.com,,
185,87ad5b9cebedb2e82a4257b46d8f7be34335458b,avel Emelyanov <xemul@scylladb.com>, 2021-04-02 16:44:05 +0300, , io_queue keep reference completing request queue hand goal set account per class statistic desc need reference class data signed pavel emelyanov xemul scylladb.com,,
186,67857a0d792d2ffc1dd0ffc596be091ae67efce3,avel Emelyanov <xemul@scylladb.com>, 2021-04-30 11:48:40 +0300, , io_queue turn class ready need keep constructor public let unique_ptr construct one signed pavel emelyanov xemul scylladb.com,,
187,6349a5de5154d4b2ef38990945ede53cd720b1e3,avel Emelyanov <xemul@scylladb.com>, 2021-04-30 11:46:32 +0300, , io_queue rename stuff underbars guy struct soon become class make member look like private one advance bloat next patch renames signed pavel emelyanov xemul scylladb.com,,
188,efe05b2eb0567d17b23507b622bc87d413cbfc11,avel Emelyanov <xemul@scylladb.com>, 2021-04-30 11:43:17 +0300, , io_queue move piece inline account_for method soon surrounded peer accounting various request lifetime event code keeping bead compact constructor quite small patched reduce size next patch move inline signed pavel emelyanov xemul scylladb.com,,
189,8d0c6014f5cc703808e37a3a290250d4b2dc4310,avel Emelyanov <xemul@scylladb.com>, 2021-04-30 11:39:18 +0300, , io_queue move declared need access p_c_data member latter described first signed pavel emelyanov xemul scylladb.com,,
190,efe9ddee3cae0b81fcd4817cf1d4458a5306bdde,avel Emelyanov <xemul@scylladb.com>, 2021-04-27 11:20:09 +0300, , io_queue count saturation length max request lenghts chosing maximum request length one need consider two corner case limiting request lenghts smaller value better latency perspective smaller request complete sooner making scheduler life simpler also important smaller request mixed workload friendly seen read writes 128k may chance meet latency goal hand mixing 64k request make possible yet coded limiting request length larger value better throughput perspective e.g modern cloud nvme ssds possible saturate disk bandwidth request smaller 16k also larger request needed write certain amount data cpu tick take decision suit party limit request length minimal saturation length still able squeeze much disk bandwidth also current scheduler serve mixed workload better latency later proper handling mixed workload appear possible saturation length still big mixed workload would mean disk slow latency goal small strategy make thing better signed pavel emelyanov xemul scylladb.com,,
191,8b38f66903f775decba97ad7e7eabfcac298b1bd,avel Emelyanov <xemul@scylladb.com>, 2021-04-27 11:03:39 +0300, , iotune measure disk saturation length measure saturation length test start maximum request size half several time measured thrgouthput fall original value deviation critical measure saturation disk randomized iop test write piece come right write bandwidth test read piece read bandwidth one signed pavel emelyanov xemul scylladb.com,,
192,08893439b50a334f8d4d8ac366795d38f3c8bb53,avel Emelyanov <xemul@scylladb.com>, 2021-04-26 19:44:43 +0300, , introduce saturation length property file two new optional parameter minimal request length saturate disk throughput submitted one one patch add writing iotune reading queue configs real measurement real use come next patch measuring saturation length quite long std duration time also new parameter declared optional keep compatibility existing property said also saturation read write option iotune signed pavel emelyanov xemul scylladb.com,,
193,e225a3bc9674cfb2848cb1de2b521196ca0373b6,avel Emelyanov <xemul@scylladb.com>, 2021-04-27 11:03:14 +0300, , iotune tune meaning stdev_percents helper return percent value 100 range next patch would convenient use 0.0 1.0 range change advance signed pavel emelyanov xemul scylladb.com,,
194,40a29d55905b0aa60d988c299a7cb26f9f6c8323,avel Emelyanov <xemul@scylladb.com>, 2021-04-26 13:54:09 +0000, , io_queue rename member question maximum value weighted request length name max_bytes_count better reflects used like signed pavel emelyanov xemul scylladb.com,,
195,980a29fb701e7cb637882ea06b7ee23ece6a7cdd,vi Kivity <avi@scylladb.com>, 2021-04-20 18:17:19 +0300, , merge assorted set improvement queue pavel  several small improvement collected past month bugfix slow queue lock triggered sending whole series test iotune io_tester  queue limit http github.com xemul seastar io_queue deprecate max request option io_queue sanitize local variable config creation io_queue use write bandwidth iop limit io_queue reduce oversized request warning activity io_queue honor disk tiny request rate io_queue shuffle fair_group creation,,
196,a717a7d0a4fe9fd71f9cd003d240bcb9a90e658f,avel Emelyanov <xemul@scylladb.com>, 2021-04-19 08:25:15 +0000, , io_queue deprecate max request option configured io_queue _capacity deprecated long ago done option signed pavel emelyanov xemul scylladb.com,,
197,b4d40ecdcf8c87cb3bc7b52c275ba9652fe07b24,avel Emelyanov <xemul@scylladb.com>, 2021-04-19 09:15:55 +0000, , io_queue sanitize local variable config creation clean stuff previous patch functional change signed pavel emelyanov xemul scylladb.com,,
198,8e37e82e6fff66b7f8b053ce5ecf1356ed6e8adc,avel Emelyanov <xemul@scylladb.com>, 2021-04-19 08:23:40 +0000, , io_queue use write bandwidth iop limit limit request scheduler operates two value limit write multiplier multiplier limit throughput iop currently taken maximum read write measurement multiplier calculated read_speed write_speed treated weight write request read weighed scheduling sum weight maintained limit math work expected read faster write e.g let take disk read iop 200 write iop 100. limit 200 multiplier respectively scheduler allows 200 200 read 200 100 writes math fall apart disk write speed larger read speed sure exist though reversing example disk 100 read iop 200 write iop limit would 200 multiplier would become 0.5. next number read 200 200 maximum number writes 200 0.5 400. disk overloaded time fix treat read speed limit use write speed get multiplier signed pavel emelyanov xemul scylladb.com,,
199,95b1529f2f9db828d31f1b06cde55774715eac69,avel Emelyanov <xemul@scylladb.com>, 2021-04-19 08:21:09 +0000, , io_queue reduce oversized request warning activity submission oversized request rare event happened happen buffer size scylla static spam log ton warning print oversized request larger previous one signed pavel emelyanov xemul scylladb.com,,
200,c2b1ef60e3e006540b8f8244242c19ee9eb1e1de,avel Emelyanov <xemul@scylladb.com>, 2021-04-19 08:08:32 +0000,8378, io_queue honor disk tiny request rate disk configured request rate low enough allow even single request scheduler respect limit let single request problem existed request size fixed capping request size ticket maximum allowed value needed request number done bit simpler configuring group note limit bump warning low ref scylladb scylla 8378 signed pavel emelyanov xemul scylladb.com,,
201,bd6cbc10de4dfc65a0e4eeb89face2dc2a0529a6,avel Emelyanov <xemul@scylladb.com>, 2021-04-19 08:04:54 +0000, , io_queue shuffle fair_group creation functional change facilitate next patch signed pavel emelyanov xemul scylladb.com,,
202,0b2c25d13359d56ea2673fceb08e31d0d10dc85e,vi Kivity <avi@scylladb.com>, 2021-02-27 14:46:00 +0200, , reactor stop using signal high resolution timer epoll backend signal high resolution timer since want high resolution timer preempt running task recognized task quota boundary first nice became important 6c97dcf4bda52 thread scheduling group allowed specifying quota specific seastar thread using required sub task quota scheduling became unimportant c8eb38d7e449 thread remove deprecated unit test longer critical user tsub task quota scheduling however become important 96562959be3 ioq prepare ioq poller wakeup scheduling need sub task quota precision current signal based high resolution timer system work non scalable signal subsystem linux synchronizes using process wide lock previously seen terrible behavior large system cross reactor wakeup notification see 1c2917e9bd71 reactor switch smp notification signal eventfds c175cb527806 merge reactor stop using signal task_quota timer although scheduling likely wakeups time thus trigger contention better stop using signal timer solution patch timer thread used task quota preemption also responsible high resolution timer wakewups using timerfd instead posix timer using poll wait either task quota wakeup high resolution timer wakeup one complication reactor sleep use timerfd wakeup source timer thread could pick wakeup first miss wakeup somewhat ugly solution use two timerfds one enabled time cause extra syscalls time sleep slow path note whole thing matter epoll backend used pre 4.18 kernel newer kernel use linux aio backend able use single timerfd task test unit dev message avi scylladb.com,,
203,385aed944a1c409a799caa524f0674fe7f7f1d60,vi Kivity <avi@scylladb.com>, 2021-02-27 14:45:59 +0200, , reactor move reactor reactor used epoll backend therefore part code movement help adding high resolution timer functionality task quota thread avoiding use signal message avi scylladb.com,,
204,a3bc6280df6aaec5c5ef24c44fc0c904c694597c,vi Kivity <avi@scylladb.com>, 2021-04-13 14:27:50 +0300, , merge report maximum lenghts via file api pavel  queue work request length big request produce bad latency everybody file api extended let caller tune optimal performance test unit dev manually log size scylla start  file max query size http github.com xemul seastar test check oversized request work file introduce max request length io_queue provide request limit file_impl hide alignment field,,
205,def2fb22a2d54329301f8e00fdff26536ab24ec7,vi Kivity <avi@scylladb.com>, 2021-04-13 14:23:29 +0300, , merge improve efficiency tester pavel  place tester slow one launch collect mixed workload disk profile one need several long measuremenets set help speed  tester improvement http github.com xemul seastar io_tester add option reuse test file io_tester reshuffle continuation io_tester fix indentation prev patch io_tester use max concurrent io_tester truncate file right io_tester set extent allocation size hint,,
206,d2dcda96bb266b4c501eb14ba3d26105fc22271c,enny Halevy <bhalevy@scylladb.com>, 2021-04-06 17:41:45 +0300, ," closeable add with_closeable with_stoppable helper used automatically closing stopping object provided function called propagating value function returned back caller test closeable_test debug configure.py dialect gnu 17,20 signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com",,
207,89ef9ce14e1c7430887a37af0eaa2fcb2cc272aa,vi Kivity <avi@scylladb.com>, 2021-04-11 14:45:59 +0300, , circleci relax concurrency build process medium machine vcpus might well compile parallel build time reduced respectable hyperthreading also considering part build parallel i.e test message avi scylladb.com,,
208,2cd0a2928782b89c71d16bc2d2628d987a17e874,enny Halevy <bhalevy@scylladb.com>, 2021-04-11 15:09:25 +0300, ," logger failed_to_log print source location format string current failed log message quite cryptic e.g  error 2021 36,365 shard stream_session failed log message fmt format_error argument found  logger name information error message could help locating offending logging call fix implicitly construct format_info const char fmt format string including also caller source_location use printing failed_to_log error message also add fmt fmt string error message available log ... write entry point provide least log message context added unit test trigger error using missing format argument verifies source file name function name bad format string printed part logger error message support source_location added seastar util std compat.hh since experimental 20. source_location symbol struct name namespace define compat source_location namespace use either std std experimental namespaces test dev configure.py compiler clang dialect gnu 17,20 signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com",,
209,1c1f610ceb134b639f54e8f46748982a5d0e9911,lad Zolotarov <vladz@scylladb.com>, 2021-04-09 12:01:55 -0400, , script perftune.py allow configuring disk write cache mode add new trinary configuration write back cache would set write cache write back setting set true write set false new parameter given write cache configuraiton would remain unchanged signed vlad zolotarov vladz scylladb.com message vladz scylladb.com,,
210,f42ef7c6af6d99964ed63ba6371c82dea3cbe366,enny Halevy <bhalevy@scylladb.com>, 2021-04-07 08:58:53 +0300, , test file_utils rename inner tmp_dir trigger error avi kivity avi scylladb.com reported think intent remove write permission remove operation later fails problem docker whole thing run root permission ignored change test low level functionality renaming temporary directory wrapper remove fail way count directory permission achieve required error test build debug test unit file_utils_test sudo build debug test unit file_utils_test signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
211,b9dd4f159dd754522c2d5cabdfb8b313b7f6e70c,vi Kivity <avi@scylladb.com>, 2021-04-09 11:18:30 +0300, , circleci switch dedicated machine provide stable system performance sensitive test like stall detector test build still run docker since need controlled environment pre installed dependency nice message avi scylladb.com,,
212,caba9fda34ef861c96aa236cafe61113f6189f67,vi Kivity <avi@scylladb.com>, 2021-04-09 11:09:09 +0300, , file mark overlayfs supporting rwf_nowait similar cousin aufs fix test failure circleci message avi scylladb.com,,
213,cc70c59adc8dd32f43383364fa88a5e5b8dfd29a,vi Kivity <avi@scylladb.com>, 2021-04-09 10:49:48 +0300,521, dns fix tcp sendv return value return len length iovec instead number byte sent cause think sent one byte sends entire packet minus first byte  udp work packet ignores partial writes allows udp named resolution work fix returning number byte packet note ability report partial send report either ewouldblock buffered entire sendv added return case buffer space available even though fall would work think clearer terminate path early rather meaningless check f.failed unit test reinstated note another tcp test somehow worked despite bug machine fix 521 message avi scylladb.com,,
214,4d6952630b46f569452b481278147e9c980b9671,enny Halevy <bhalevy@scylladb.com>, 2021-04-06 13:09:11 +0300,27, test closeable allocate variable accessed continuation using do_with fix failure debug mode  build debug test unit closeable_test warning debug mode benchmarking production random seed 3064133628 running test case ... entering test module test unit test unit entering test case src testing seastar_test.cc info check true passed 9449 warning asan fully support makecontext swapcontext function may produce false positive case terminate called throwing instance seastar broken_promise broken promise 9449 warning asan ignoring requested stack top 0x7fbf1f49f000 bottom 0x7fbf40971000 size 558702592 false positive error report may follow detail see http github.com google sanitizers issue 189  9449 check failed libsanitizer asan asan_thread.cpp 356 ptr 0x0 0x0 0x7fbf45f39d0b lib64 libasan.so.6 0xb3d0b 0x7fbf45f57d4e lib64 libasan.so.6 0xd1d4e 0x7fbf45f3e724 lib64 libasan.so.6 0xb8724 0x7fbf45eb3e5b lib64 libasan.so.6 0x2de5b 0x7fbf45eb51e8 lib64 libasan.so.6 0x2f1e8 0x7fbf45eb7694 lib64 libasan.so.6 0x31694 0x7fbf45f39398 lib64 libasan.so.6 0xb3398 0x7fbf45f3a00b lib64 libasan.so.6 0xb400b 0xfe6d52 bool __gnu_cxx operator dl_phdr_info std vector dl_phdr_info std allocator dl_phdr_info __gnu_cxx dl_phdr_info std vector dl_phdr_info std allocator dl_phdr_info const __gnu_cxx dl_phdr_info std vector dl_phdr_info std allocator dl_phdr_info const usr include bit stl_iterator.h 1116 0xfe615c dl_iterate_phdr src core 121 0x7fbf44bd1810 lib64 libgcc_s.so.1 0x13810 0x7fbf44bcd897 lib64 libgcc_s.so.1 0xf897 0x7fbf44bcea5f lib64 libgcc_s.so.1 0x10a5f 0x7fbf44bcefd8 lib64 libgcc_s.so.1 0x10fd8 0xfe6281 src core 148 0x7fbf457364bb __cxa_throw lib64 libstdc .so.6 0xaa4bb 0x7fbf45e10a21 lib64 0x1aa21 0x7fbf45e20fe0 boost execute boost function int const lib64 0x2afe0 0x7fbf45e21094 boost vexecute boost function void const lib64 0x2b094 0x7fbf45e43921 boost unit_test boost function void const unsigned long lib64 0x4d921 0x7fbf45e5eae1 lib64 0x68ae1 0x7fbf45e5ed31 lib64 0x68d31 0x7fbf45e2e547 boost unit_test framework run unsigned long bool lib64 0x38547 0x7fbf45e43618 boost unit_test unit_test_main bool int char lib64 0x4d618 0x44798d seastar testing entry_point int char src testing entry_point.cc 0x4134b5 main include seastar testing seastar_test.hh 0x7fbf44a1b1e1 lib64 libc.so.6 0x281e1 0x4133dd _start home bhalevy dev seastar build debug test unit closeable_test 0x4133dd  signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
215,9900b2ebc5d6ba28729a827234bf70f5b8cd95f0,avel Emelyanov <xemul@scylladb.com>, 2021-04-05 16:37:10 +0300, , test fix leak io_queue_test test allocates buffer plain new call release ever fix keeping buffer unique ptrs holding corresponding future resolve test unit debug signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
216,a74b1493f8ca5735658eee41b6ce7ffd87e5879f,vi Kivity <avi@scylladb.com>, 2021-04-05 15:07:30 +0300, , test rpc_test reduce memory usage compression test rpc_test fails small memory setup setup .config seastar seastar.conf restricting memory usage problem compression test construct large test vector exhaust memory fix changing test vector hold function generates test input rather hold input mean need hold input one test memory one time even memory exceeds 1gb split 8mb input byte temporary buffer dropped 8mb test think testing 8mb input add confidence 4mb input bring message avi scylladb.com,,
217,fcd46c13875b04510f8b38d66a82320cc1b393b8,vi Kivity <avi@scylladb.com>, 2021-03-30 12:08:18 +0300, , cmake tighten check fstack clash protection fstack clash protection clang aarch64 warns doe fail compilation build ultimately werror fail avoid perform check fstack clash protection werror message avi scylladb.com,,
218,398f1c32744bfff51e618b84ec829af22c8c9bf9,en Pope <ben@vectorized.io>, 2021-04-01 11:12:32 +0100, , coroutine remove return_value future void syntax legal although gcc 10.2.0 accepts rejected 10.2.1 3.5 month deprecation period signed ben pope ben vectorized.io message ben vectorized.io,,
219,c8d952ad5b38b43e4810e588f7f741ae71fa4885,alle Wilund <calle@scylladb.com>, 2021-03-31 13:33:31 +0000,885, preserve exact error state repeated call generate message fix 885 error case set state session error attempt use session result failure preserve exact reason error report repeated query instead broken fixed making bool _error std exception_ptr instead set either gnutls error code underlying transport exception message calle scylladb.com,,
220,1f1c0a23a89329b63b95dcb0372f12c9243e29f1,enny Halevy <bhalevy@scylladb.com>, 2021-03-31 18:46:54 +0300, , add deferred_close deferred_stop close stop object respected deferred_ close stop object destroyed addition deferred close stop class provide close stop _now method used perform cleanup deferred_ close stop still alive also add unit test demonstrate test interface test unit dev doc_api html verified manually signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
221,88ea9e241fe286d66d9392491e6ea4000af46b85,avel Emelyanov <xemul@scylladb.com>, 2021-03-31 18:25:25 +0300, , io_tester add option reuse test file tester run several time row make sense remove create file scratch huuuge absolitely safe time saving large file read workload write one use care given long enough testing time also safe signed pavel emelyanov xemul scylladb.com,,
222,c09498003814edfe87c68327f4f68341ce54ef1b,avel Emelyanov <xemul@scylladb.com>, 2021-03-31 18:01:35 +0300, , io_tester reshuffle continuation patch make sure file initialization performed solid chain break indentation bit required facilitate next patch signed pavel emelyanov xemul scylladb.com,,
223,ac90c5e86b4783c04fd78c608f4853cec439bc46,avel Emelyanov <xemul@scylladb.com>, 2021-03-31 17:48:52 +0300, , io_tester fix indentation prev patch signed pavel emelyanov xemul scylladb.com,,
224,3fc893e2dc383ad7b59e2e645eda4a95086a0ad0,avel Emelyanov <xemul@scylladb.com>, 2021-03-31 17:48:38 +0300, , io_tester use max concurrent creating file tester may stress memory launching file_size 256k parallel job quite big huge file since limit temporary semaphore job waste memory make use much perf friendly workload indentation left broken next patch signed pavel emelyanov xemul scylladb.com,,
225,c06e7d660b7a7096155168fd3fc71e956ab001d0,avel Emelyanov <xemul@scylladb.com>, 2021-03-31 17:35:56 +0300, , io_tester truncate file right file created testing workload doomed use append challenged file also creating file likely work append mode also nice truncate file right efficiency signed pavel emelyanov xemul scylladb.com,,
226,0d97580b6987f9ee023828b6a5e872926a69590e,avel Emelyanov <xemul@scylladb.com>, 2021-03-31 17:28:48 +0300, , io_tester set extent allocation size hint file created bunch writes setting hint help xfs place file optimal way signed pavel emelyanov xemul scylladb.com,,
227,005c6e6c0b988146dfe80e81d38c0862a49cf996,avel Emelyanov <xemul@scylladb.com>, 2021-03-31 14:43:46 +0300, , test check oversized request work sanity check submitting bigger max sized request doe throw signed pavel emelyanov xemul scylladb.com,,
228,4ab41f65a4017a030bbb3c1165e74aa80d6a5df5,en Pope <ben@vectorized.io>, 2021-03-31 12:11:11 +0100, , httpd add status_types 406 415 422 406 acceptable 415 unsupported medium type 422 unprocessable entity signed ben pope ben vectorized.io message ben vectorized.io,,
229,c52cfa2e82575240613b34a405352f224d38b68f,avel Emelyanov <xemul@scylladb.com>, 2021-03-19 12:55:30 +0300, , file introduce max request length queue layer tell request size accepts without problem export information via class file signed pavel emelyanov xemul scylladb.com,,
230,46830ba25b2b72b46a40272156f06a6b16b96e93,avel Emelyanov <xemul@scylladb.com>, 2021-03-19 14:06:05 +0300, , io_queue provide request limit queue work request request length exceeds certain threshold warning emitted request ticket trimmed latter fatal result increased latency let caller reason length report threshold back queue internal math calculating ticket request lenghts implementation detail kept private lenghts read write request reported signed pavel emelyanov xemul scylladb.com,,
231,00bd283f3c847fe68e199c8fbaf8c94a1bbe09ab,avel Emelyanov <xemul@scylladb.com>, 2021-03-19 12:48:50 +0300, , file_impl hide alignment field getters class file need export directly need make class file friend access signed pavel emelyanov xemul scylladb.com,,
232,72e3baed9c3657d49d9f1b82045831e72b3dc2a4,alle Wilund <calle@scylladb.com>, 2021-03-29 13:32:04 +0000,883, file add rfw_nowait detection case aufs fix 883 found trying run scylla inside container new docker using aufs container layer setup doe support rwf_nowait regardless kernel version least 4.15 pessimistic fix version combination thereof work please add since even docker phasing aufs might important except old container message calle scylladb.com,,
233,cbc7384b13c65c64a10e809e6bafe580486d7456,iotr Sarna <sarna@scylladb.com>, 2021-03-23 15:54:17 +0100, , sharded provide type info sharded instance exception encountered useful immediately see service failed instance patch information would provided via seastar utility example seastar exceptional future ignored seastar sharded instance doe exist message scylladb.com,,
234,9231a195e32f8d3650b81b5fd17f8c99b30584d6,avel Emelyanov <xemul@scylladb.com>, 2021-03-19 11:27:19 +0300, , iotune estimate accuarcy measurement iotune currently run measurement submits bunch request report back simple average measured value capacity whatever mean anything better worth know accuracy measurement respectively patch teach iotune collect number request measurement submits per second calculate standard deviation collected array report deviation exceeds certain threshold defatul large deviation treated error sign caller disk may behave way scheduler expectes need attention trick would helped note instability google disk currently show deviation write throughput measurement write back cache 0.5 write one aws disk surprisngly show pretty unstable iop deviation looked later parameter observed deviation 0.5 test iotune aws gce local disk signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
235,48376c76a171db29a165dd2c07925da98fd7356b,avel Emelyanov <xemul@scylladb.com>, 2021-03-19 11:45:45 +0300, , iotune warn user write back cache mode gce disk may heavily disturb write performance write back mode warn mode detected recommend tune anything signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
236,fbb9fcd15a7e15c24b75f85b003723bea29d85e5,vi Kivity <avi@scylladb.com>, 2021-03-17 22:11:31 +0200, , reactor add kernel page cache option disable o_direct o_direct great application manages long lived cache want kernel page cache interfere great short lived unit test since usually cache populated enabling page cache allows unit test read input data memory instead disk writes also stay memory provided file deleted quickly provided unsafe bypass fsync also supplied linux aio asynchronous page cache enabled use syscall thread luckily reuse code eagain rwf_nowait used super performant since request issue serially expect high concurrency unit test expect read writes hit cache test unit dev strace file_io_test message avi scylladb.com,,
237,83339edb043f3710d3d1d5d661248488ef3dc4db,vi Kivity <avi@scylladb.com>, 2021-03-21 15:01:31 +0200, , cmake filter wno error warning pkgconfig seastar.pc clang wno error warning flag used break build warning directive encountered unfortunate containing comment introducing character case pkg config interprets comment truncates line containing position unfortunately bring bear cmake text processing function example string replace ... since compile option available configure time see process compile option using generator expression see facility include general search replace allow forward process simply filter annoying option doable using generator expression pkgconfig output usable user detect availability wno error warning add rely seastar provide matter platform seastar issue warning anything x86_64 aarch64 s390x http question 51353110 output result generator expression cmake http cmake.org cmake help latest manual cmake generator string transformation message avi scylladb.com,,
238,c542da790b73999176f1d7969f0e79ae79c07805,adav Har'El <nyh@scylladb.com>, 2021-03-18 15:58:16 +0200,879, merge utils log.cc fix logging vlad zolotarov multiple attempt logging still robust particular std system_error appears middle nested exception chain logging break important information e.g object initiated exception chain going lost patch going syntactically split printing part operator exception_ptr recursion part unroll std object result going become much harder break code future signed vlad zolotarov vladz scylladb.com close 879 github.com scylladb seastar test unit add nested std system_error use case utils log.cc fix logging,,
239,8bec57bcf403e9e2d834751e7934e04d2d389e5b,avel Emelyanov <xemul@scylladb.com>, 2021-03-18 12:40:43 +0300, , file add option refuse append challenged file default file opened write read write filesystem considered handle appends poorly xfs forced use append challenged file implementation note challenged implementation come free notable cpu cycle plain posix file one may need allocate memory scylla however commitlog truncates file desired size fill zero hand right writes within truncated bound trailing zeroing happens single request also need special handling even xfs word commitlog need append challenge solved refuse cpu mem overhead imposed proposal let caller hint open_file_dma going write behind thus append optimization associated cost required test scylla.unit dev signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
240,70870f8611747601de29c5fef5d54aba467778f1,lad Zolotarov <vladz@scylladb.com>, 2021-03-17 19:35:21 -0400, , test unit add nested std system_error use case test nested exception chain properly unrolled case std system_error middle signed vlad zolotarov vladz scylladb.com,,
241,46fee1f795f872db808e7d8668f7a74ed482cc54,vi Kivity <avi@scylladb.com>, 2021-03-17 19:38:42 +0200, , merge teach tester work block device pavel  measuring useful know number seen come directly disk somehow affected xfs set teach tester tool work directly block device job mode allocate space disk linearly shard get nth disk space job get mth shard space nice side effect need pre creating file test run faster  tester device http github.com xemul seastar io_tester teach work block device io_storage get propagate provided storage type io_tester rename directory option stoarge,,
242,cf1a819f0e756ad9dc88a0f19b222f14ea63781e,vi Kivity <avi@scylladb.com>, 2021-03-17 19:37:17 +0200, , merge cleanup file code pavel  set contains cosmetic change around file impls simplify impl constructor factour common place code fix member visibility const ify const stuff test unit dev scylla.unit dev  file fixlets http github.com xemul seastar file factor truncation file factor appending write check file mark posix_file_impl part protected file mark const field file toss append challenged file constructor file use fs_info constructing file impls file move fs_info internal header file simplify fs_info append_support structs,,
243,7634e4212f0c6bd03939715ed08910fca000e219,avel Emelyanov <xemul@scylladb.com>, 2021-03-04 18:12:31 +0300, , io_tester teach work block device two difference working directory need create pre fill file need layout workload inside bdev hand latter feature implemented simple manner blockdevice split shard linearly shard get piece bdev_size smp count size piece_size shard_id offset shard area split workload linearly well workload running specific shard space allocated unused signed pavel emelyanov xemul scylladb.com,,
244,e7bde078ef5b5c7e26e1c540c1c5ec5dcecba8c1,avel Emelyanov <xemul@scylladb.com>, 2021-03-04 17:48:06 +0300, , io_storage get propagate provided storage type work load need know run directory block device provide info also make check storage xfs directory storage signed pavel emelyanov xemul scylladb.com,,
245,bd932ad09c26adeb112ea1635f3b638ca84b3790,avel Emelyanov <xemul@scylladb.com>, 2021-03-04 17:42:51 +0300, , io_tester rename directory option stoarge tester support working directory block device option name bit specific signed pavel emelyanov xemul scylladb.com,,
246,8a204e124d2f6a2090e0af98641ec99855db6a26,avel Emelyanov <xemul@scylladb.com>, 2021-03-17 09:43:14 +0300, , file factor truncation sloppy file truncates time time update _committed_size value accordingly keep helper signed pavel emelyanov xemul scylladb.com,,
247,751b6dd54b249516a405964bb996006d53723776,avel Emelyanov <xemul@scylladb.com>, 2021-03-16 13:27:47 +0300, , file factor appending write check append challenged file place need check operation appending factor place also helper name make code verbose signed pavel emelyanov xemul scylladb.com,,
248,a231194afb7b073337b72fd9830d1646babf28d3,avel Emelyanov <xemul@scylladb.com>, 2021-03-17 10:38:39 +0300, , file mark posix_file_impl part protected _fd field needed outside also class constructed fact pure virtual method mark protected signed pavel emelyanov xemul scylladb.com,,
249,5748c6ab4b8c8fb48b281dd38800453d70b06570,avel Emelyanov <xemul@scylladb.com>, 2021-03-17 10:36:10 +0300, , file mark const field existing file impls lot facto immutable field mark const qualifier signed pavel emelyanov xemul scylladb.com,,
250,f450cdb49f9df8adb0d4e411aa3e11a36cf71479,avel Emelyanov <xemul@scylladb.com>, 2021-03-17 10:34:58 +0300, , file toss append challenged file constructor field initialized initializer list part next patch make real use signed pavel emelyanov xemul scylladb.com,,
251,f1063b4d8afd589c77c565f13cc1c658ff761384,avel Emelyanov <xemul@scylladb.com>, 2021-03-17 10:29:30 +0300, , file use fs_info constructing file impls  lot args constructor thus number grows time let pack common args together signed pavel emelyanov xemul scylladb.com,,
252,ac8fea6e3022f7214c70e9a9ec984cf5598131f1,avel Emelyanov <xemul@scylladb.com>, 2021-03-17 10:18:15 +0300, , file move fs_info internal header pas file impls constructor later struct double protection public use internal header internal namespace signed pavel emelyanov xemul scylladb.com,,
253,b15e7ffa300e7f25dfa717f998857a458a401b7b,avel Emelyanov <xemul@scylladb.com>, 2021-03-17 10:17:15 +0300, , file simplify fs_info append_support structs two combine information underlying bit hairy manner info shared file soon deserves brush signed pavel emelyanov xemul scylladb.com,,
254,3340744fa86baf26e7ccd964797cce55f830039c,avel Emelyanov <xemul@scylladb.com>, 2021-03-16 17:55:06 +0300, , install dependency support rhel 8.3 deps installer centos also suit rhel distro need get major part version_id signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
255,a9d75cb0ad5bfdaf5f4c819702ace47834c7a494,avel Emelyanov <xemul@scylladb.com>, 2021-03-16 17:53:05 +0300, , install dependency add missing package distros one need also fmt boost valgrind devel package compile seastar signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
256,3fbc204403f019b9d6a2fd06bb6d1f99b8e8b699,lad Zolotarov <vladz@scylladb.com>, 2021-03-11 20:21:44 -0500, , utils log.cc fix logging multiple attempt logging still robust particular std system_error appears middle nested exception chain logging break important information e.g object initiated exception chain going lost patch going syntactically split printing part operator exception_ptr recursion part unroll std object result going become much harder break code future signed vlad zolotarov vladz scylladb.com,,
257,487d04ee7d48f26881fa6896a8bcb7e22564eaa1,vi Kivity <avi@scylladb.com>, 2021-03-15 10:59:35 +0200, , file reactor reinstate rwf_nowait support rwf_nowait support disabled reactor disable nowait aio due kernel bug later enabled disabled kernel problem indentified enable since filesystem fixed different kernel version need plumb information posix_file_impl friend way reactor backend via io_request annoying helped tested via unit test also verified nowait path exercised strace http lore.kernel.org linux xfs message avi scylladb.com,,
258,148326a10a8c81f1a6d1d398c6eb7173d8c2c9d2,avel Emelyanov <xemul@scylladb.com>, 2021-03-15 13:14:56 +0300, , file prevent overflow value question bit initialized bit luckily far iotune chance overflow putting size created file signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
259,c6abfc102105d3a791f71358c4d71c5a9a604f3b,vi Kivity <avi@scylladb.com>, 2021-03-12 18:10:24 +0200, , cmake enable clang wno error warning supported prevent warning failing build clang message avi scylladb.com,,
260,87d96a734040b73ccff3fe8db52c8bac391604aa,vi Kivity <avi@scylladb.com>, 2021-03-12 18:10:23 +0200, , cmake harden aginst input space cmake like bash need quoting prevent special character causing surprising behavior message avi scylladb.com,,
261,bcd01d3cc1e18f21a0d42113b1e72db6a31faca3,vi Kivity <avi@scylladb.com>, 2021-03-12 18:10:22 +0200, , cmake fix failing first invocation cmake say check performed result cached variable named resultvar every subsequent cmake run use cached value rather performing check even code change order force check evaluated variable named resultvar must manually removed cache since function pass variable name result resultvar two successive call always return result fix using variable name derivative result variable intend return message avi scylladb.com,,
262,1b5858dec45823d69ffef8c8a522c249bba7d509,un Lu <kunlu20@linux.vnet.ibm.com>, 2021-03-11 14:23:40 -0500, , thread stop backtraces main s390x architecture avoid failure building thread.cc.o s390x architecture warning backtracing seastar thread may broken stop backtraces thread_context main s390x architecture marking return address register r14 undifined signed kun kunlu20 message kunlu20,,
263,e8609856ee411a05f3d36a9c040d82beeef2fdbc,avel Emelyanov <xemul@scylladb.com>, 2021-03-11 14:59:28 +0300,876, intent explicitly declare constructor reference older still use compiler gcc 9.3 complain default move one deleted noexcept declaration p1286r2 fix 876 test unit dev signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
264,d5042519da9cb274f43aecee1edbd81088e66275,enny Halevy <bhalevy@scylladb.com>, 2021-02-25 11:45:21 +0200, , test file_io_test use testing reproducible given test random seed test file_io dev signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
265,2233164c07f1d29340a7f2405c8688d3cf0ec9e7,icha Chojnowski <michal.chojnowski@scylladb.com>, 2021-02-19 19:22:11 +0100,869, util log impl rework log_buf bugged postincrement push _buf _current _buf _end resulting buffer overflow following call fill_buffer fix since increment dereference operator inserter iterator confusing commit make move work operator exactly std doe fix 868 close 869,,
266,22b60e2c4b87fa19637932af4880bbc90b3a4763,oah Watkins <noah@vectorized.io>, 2021-03-08 13:23:29 -0800, , rwlock pas timeout parameter get_units timeout silently dropped signed noah watkins noah vectorized.io message noah vectorized.io,,
267,66ba7b1b597627454200d06b4e4577a43766563c,oah Watkins <noah@vectorized.io>, 2021-03-08 13:22:58 -0800, , concept require lib support enable concept example using clang libc libstdc signed noah watkins noah vectorized.io message noah vectorized.io,,
268,593406a788ef6e654e89881fa0c05d2a001d6267,iotr Sarna <sarna@scylladb.com>, 2021-02-23 15:19:03 +0100, ," rpc print info bad protocol magic order make easier figure source bad protocol magic rpc layer wrong magic printed determined byte happen look exactly like first byte http header likely source confusion example info 2021 01,731 shard rpc client 127.0.0.1 40944 wrong protocol magic message scylladb.com",,
269,0e9ca2e5bb6a29d56dee6d9f3d9111d24fd884ad,enny Halevy <bhalevy@scylladb.com>, 2021-03-02 13:33:58 +0200,873, seastar addr2line strip input line restore multiline support commit split input line token supporting oneline backtraces broke multiline support first token started beginning line case re.split token1 ... tokenn generates extra empty token string stripped leading trailing whitespaces fix 873 signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
270,fd6b9b7dd5f960f4d2504a32968c6c385b23c828,liran Sinvani <eliransin@scylladb.com>, 2021-03-03 10:10:05 +0200,875, log skip unknown nested mixing instead stopping logging logging function exception type stop nested exception change mixed type derived std exception consequence nested exception chain printed mean lose viable debugging information commit fix adding catch handler skip unknown part chain try continue next part exception chain std member also add explicit indication logging information object example derived std exception test exception logging added different case fix 874 close 875,,
271,ea5e529f300dce1297adc615f5e7d847571a04da,vi Kivity <avi@scylladb.com>, 2021-03-01 18:17:47 +0200, , merge teach io_tester generate yaml output pavel  currently tester tool generates hard parse pretty formatted output wish automate extent analysis result test tester dev  tester yaml output http github.com xemul seastar io_tester remove unused code io_tester print result yaml format io_tester move class name public io_tester put result printing code helper,,
272,a4284d140481e8de1fdb044b16264bc13d615e8e,vi Kivity <avi@scylladb.com>, 2021-02-28 17:11:22 +0200, , bitset set_range mark constructor constexpr clang complains seastar code still marked constexpr cost reviewed benny halevy bhalevy scylladb.com message avi scylladb.com,,
273,81776d88ceb59871a14b4fbd409ab5e53fea4360,vi Kivity <avi@scylladb.com>, 2021-02-27 20:07:42 +0200, , update dpdk submodule dpdk 71db32d74c ... 0f48699411 pmdinfogen fix build gcc backported upstream build fix,,
274,90099392f84f74c1a696863f209892e61c29e900,avel Emelyanov <xemul@scylladb.com>, 2021-02-26 16:18:05 +0300, , io_tester remove unused code class_data describe_class longer used signed pavel emelyanov xemul scylladb.com,,
275,0d464fe943e7ad99161ebd1f2291c17911c76ae1,avel Emelyanov <xemul@scylladb.com>, 2021-02-26 15:51:10 +0300, , io_tester print result yaml format template like shard shard_id class_name throughput value iop value latency average value quantile value maximum value signed pavel emelyanov xemul scylladb.com,,
276,b15523319a47ff2cbff710372c723759634b4e89,avel Emelyanov <xemul@scylladb.com>, 2021-02-26 16:17:04 +0300, , io_tester move class name public method called outside signed pavel emelyanov xemul scylladb.com,,
277,564ee58f2a6a2c993e4ee701a9d4a3dc217a8ad6,avel Emelyanov <xemul@scylladb.com>, 2021-02-26 15:48:49 +0300, , io_tester put result printing code helper pollute main yaml stuff future signed pavel emelyanov xemul scylladb.com,,
278,803e790598fdc9ff28e75d1222749d62015fbf90,avel Emelyanov <xemul@scylladb.com>, 2021-02-12 11:47:33 +0300, , io_queue count total time spent queue current delay metric report randomly snapshoted value request delay hide spike may happen work request uniformly flow queue better stats total time request spent queue far signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
279,17a97a766b404e14f9a622efff712805da6dca5b,avel Emelyanov <xemul@scylladb.com>, 2021-02-12 11:47:32 +0300, , io_queue fix delay metric delay value initialized start true lead weird bug graphana dashboard show maximum value shard mountpoints compaction memtable flush class somehow get class initialized default mountpoint workload request delay second graphana evaluates metric 1.0sec time draw informative horizontal line signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
280,bf39666e212e99c91afb2b4fe6917ade655ae5fe,vi Kivity <avi@scylladb.com>, 2021-02-23 16:02:39 +0200, , file expose disk offset alignment overwrites read alignment single sector write alignment single block starting linux 5.12 write alignment xfs single sector provided write overwrite write location previously written append smaller alignment useful commit log file one collect sub block amount data write disk without padding full block size padding single sector usually smaller expose add new file method propagate value everywhere enable relaxed alignment kernel 5.12 unit test provided verified report zero stall 5.10 kernel many stall alignment forced 512 kernel stall 5000 writes stall 5.12 kernel alignment reported 512 acceptable result message avi scylladb.com,,
281,cb07c552549b067f966a1cd5b714e6d85212ba04,alle Wilund <calle@scylladb.com>, 2021-02-15 12:42:55 +0000,866, rpc client retain local address use stream creation fix 866 rpc client allows specifying local bind address connection doe use creating stream connection initial message one fix retaining address include sub client creation reviewed gleb natapov gleb scylladb.com message calle scylladb.com,,
282,3f071426b9c03c3e5f57d1ab32367ada2a23e77c,otond Dnes <bdenes@scylladb.com>, 2021-02-22 10:39:13 +0200, , rpc sink_impl align last next _seq_num cache line size two member used read write two different shard respectively align cache line size avoid sharing one group _last_seq_num struct accessed remote shard align entire struct signed botond bdenes scylladb.com message bdenes scylladb.com,,
283,e2b8e754aeeb24616c1d8d0967df29a98b5d01f9,avel Emelyanov <xemul@scylladb.com>, 2021-02-18 19:26:35 +0300, , reactor fix outdated comment signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
284,1998fda8c470c268df5f4dce833d79f10f5fca99,avel Emelyanov <xemul@scylladb.com>, 2021-02-18 19:20:27 +0300, , fair_queue remove dead ticket strictly_less method signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
285,b46bd6e1f817e39c7912635513f86b5a441b1eba,avel Emelyanov <xemul@scylladb.com>, 2021-02-17 18:42:37 +0300, , io_queue double max request size currently group code treat request whose size group capacity oversized trim ticket value size check needed avoid group self locking large rover check _not_ selecting advising request size better latency pov trying hard remember 0.5 coefficient look like miscalculation reassurance attempt coefficient hand sometimes trigger oversized request warning setup seem capable serving request even one one testing show clamping request ticket actual capacity half serf initial purpose test iotune io_tester 32mb request configured unconfigured queue signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
286,f2b790b23557f515496b3de144c73b755ce1836d,enny Halevy <bhalevy@scylladb.com>, 2021-02-16 17:24:38 +0200, , bitsets set_iterator correctly implement pre post increment operator test bitsets for_each_set used async loop like do_for_each signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
287,e53a1059f9512d2bf54fa44ab63486c845b1a038,otond Dnes <bdenes@scylladb.com>, 2021-02-15 17:46:01 +0200, , rpc streaming sink order outgoing message rpc streaming sink smp submit_to send outgoing message shard connection life actually send happens background user sink blocked memory limiting semaphore run unit smp submit_to ordering guarantee indeed debug build mode known reorder task causing rpc reorder message however recently observed reordering release mode well know exactly happens tracked smp submit_to opposition give smp submit_to ordering guarantee ordering guarantee provided rpc sink exactly patch achieves fix 867 signed botond bdenes scylladb.com message bdenes scylladb.com,,
288,5dd0acf4426929c8a29a7bfe7421e82728e392f0,ojciech Mitros <wojciech.mitros@scylladb.com>, 2021-02-15 14:42:26 +0100, , http fix compilation issue using clang patchset introducing chunked http request handling streaming cause compilation error using clang compiler instead default patch fix issue signed wojciech mitros wojciech.mitros scylladb.com message wojciech.mitros scylladb.com,,
289,d1530b380e960a527088ca6bacc5d0582bfd3225,lexander Gallego <alex@vectorized.io>, 2021-02-12 21:52:10 -0800, , http file_handler normalize file type mime detection signed alexander gallego alex vectorized.io message alex vectorized.io,,
290,77ae67faa9480fce04f9a512b2ab92276b81045f,lexander Gallego <alex@vectorized.io>, 2021-02-12 21:52:09 -0800, , http mime_types add support svg xml http doc web http basics_of_http mime_types common_types signed alexander gallego alex vectorized.io message alex vectorized.io,,
291,27bdf41cc6f17be0fb12bec14d58ec84a9a98c1f,vi Kivity <avi@scylladb.com>, 2021-02-13 10:31:26 +0200, , reactor simplify get_sched_stats use reactor tasks_processed instead recalculating message avi scylladb.com,,
292,0aec9ef97bf81bee885fd0a1f4a60e1dd44373cb,vi Kivity <avi@scylladb.com>, 2021-02-14 19:41:55 +0200, , merge output_stream make api noexcept benny  series add error handling data_sink packet output_stream make future returning method noexcept also mark simple method noexcept possible change desired making close path noexcept upstream particularly since close might called destructors test unit release  tag output_stream noexcept github.com bhalevy seastar output_stream make method noexcept packet mark method noexcept data_sink make method noexcept,,
293,f01a10e97c59d1cbcd3086157b4c6dfb786433fd,vi Kivity <avi@scylladb.com>, 2021-02-14 19:25:14 +0200, , merge input_stream make api noexcept benny  series add error handling data_source input_stream make future returning method noexcept also mark simple method noexcept possible change desired making close path noexcept upstream particularly since close might called destructors test unit release  tag input_stream noexcept github.com bhalevy seastar input_stream make method noexcept mark method noexcept data_source make method noexcept,,
294,7766ae01c67f3dafb680b8aaf90120c55f3217be,vi Kivity <avi@scylladb.com>, 2021-02-08 18:31:52 +0200, , rpc mark protocol class final protocol inheritance implementation purpose reduce template bloat extension mechanism mark final abused message avi scylladb.com,,
295,8d7c2dcae737d3de42159c8e63caca2fdfb4a685,alle Wilund <calle@scylladb.com>, 2021-02-09 19:43:51 +0000, , inotify flag wrong supposed close_write delete_self close mean actually reloading file cause feedback loop intended behaviour message calle scylladb.com,,
296,014711fd3878bc8b009465b5945e063a3c02a076,avel Emelyanov <xemul@scylladb.com>, 2021-02-12 12:01:05 +0300,864, cli ignore num queue option initial group patchset made option configure number group deprecation warning bad idea since option often pass total number shard system case get way many group supposed provide reasonable qos ignore proposed value print warning option deprecated thus removed soon ref 864 signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
297,809b3dc20589e9248eefe610f419d79e49ed605c,avel Emelyanov <xemul@scylladb.com>, 2021-02-12 12:00:02 +0300, , io_queue carry start time lambda capture start time taken early account cross shard dispatching queued time nowadays request enqueueing happens one shard getting current time done time signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
298,66b4c6acfdf0fa72d2397830f5306de7c41eaa64,avel Emelyanov <xemul@scylladb.com>, 2021-02-12 12:47:03 +0300,859, fstream cancel close currently data source discard reaad aheads help request continue sitting queue without anybody really waiting intent created solve add io_intent handle cancel source close fix 859 test unit dev scylla.unit dev signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
299,62640084a965bb4ca841a377aaea98efe9cb7bc9,ojciech Mitros <wojciech.mitros@scylladb.com>, 2021-01-28 00:10:38 +0100,776, http add transfer encoding chunked handling length body request may remain unknown beginning sending request body may transferred chunk patch implement decoding content request use transfer encoding chunked header content length header ignored handler presented decoded body fix 776 signed wojciech mitros wojciech.mitros scylladb.com,,
300,0150df3d9d740b166dd9f6b65b545b9f44a68fc7,ojciech Mitros <wojciech.mitros@scylladb.com>, 2021-01-28 00:10:37 +0100, , http add ragel parser chunk used message transfer encoding chunked preparation chunked request handling additional parser needed chunk format strictly specified ietf parser follow instruction rfc 7230 body message transfer encoding chunked composed zero chunk followed last chunk trailer header crlf token chunk start chunk size chunk extension crlf match provides method allow extract get_size remainder chunk doe need parsed trailer header crfl ending message parsed accessed using method signed wojciech mitros wojciech.mitros scylladb.com,,
301,4fa0e4b4394b6293555af197b1835418df80398a,ojciech Mitros <wojciech.mitros@scylladb.com>, 2021-01-28 00:10:36 +0100,637, http add request content streaming currently seastar httpd request object content field entire body request read request may large body inefficient impossible read entire body front string patch add content_stream field wrapped around connection input_stream handler read entire content pace content field still availalbe handler unable use stream new application using http server make handler use new field use stream feature server set true call fix 637 signed wojciech mitros wojciech.mitros scylladb.com,,
302,a639b10cb5b5b448ae8c879d1698785edd5778db,ojciech Mitros <wojciech.mitros@scylladb.com>, 2021-01-28 00:10:35 +0100,7213, http add reading skipping byte input_stream application know need byte buffer use method method save buffer stream std vector application may know going receive small amount data stream may convenient work single string instead vector method provides string app e.g http handler may need exhaust entire input_stream e.g enable processing next http request connection achieved using method ref scylladb scylla 7213 signed wojciech mitros wojciech.mitros scylladb.com,,
303,db092e23214e54d8fdede09a0075580373ec718a,omasz Grabiec <tgrabiec@scylladb.com>, 2021-02-11 13:34:39 +0100, , merge reduce per queue container prio class pavel emelyanov io_queue keep track prio class data class ever submitted request container nowadays matrix nested vector group made one dimention ever exceed size http github.com xemul seastar tree prio class matrix vector io_queue remove owner arg prio class related method io_queue turn matrix vector io_queue relax logic,,
304,25087d594de6a5cd51f640e44b5a5ba4d2cf006d,enny Halevy <bhalevy@scylladb.com>, 2021-02-07 19:20:34 +0200, , seastar addr2line split multiple address line already support parsing multiple address command line backtraces printed one line default better support parsing multiple address single line via input file stdin signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
305,1928cf458173fae869be13b08ff6ec0036161b82,avel Emelyanov <xemul@scylladb.com>, 2021-01-25 14:02:10 +0300, , io_queue relax logic bool do_insert used accumulate insertion need dimentions class matrix checking idx true false work case grown vector empty slot within bound signed pavel emelyanov xemul scylladb.com,,
306,6bf920dbb978daa2de6bbf0f3b34f03200bb3e2d,avel Emelyanov <xemul@scylladb.com>, 2020-12-22 12:07:16 +0300, , io_queue turn matrix vector field keep nested vector class outter index shard inner class shard needed keep info non coordinator shard submitted neighbour group shard dispatch outter vector always element size optimized signed pavel emelyanov xemul scylladb.com,,
307,41143fe5eed6c8894679ca6a58499409737e613e,avel Emelyanov <xemul@scylladb.com>, 2020-12-22 12:10:31 +0300, , io_queue remove owner arg prio class related method argument question always this_shard_id since io_queue queue_request reshard since group merged signed pavel emelyanov xemul scylladb.com,,
308,76cff58964b281b3af5c7a2891abb98baeb72721,alle Wilund <calle@scylladb.com>, 2021-02-08 17:51:51 +0000, , rpc make possible rpc server instance refuse connection add connection filter server option set called returning false connection dropped ignored message calle scylladb.com,,
309,75ef18a4a72bf9733e3c096c09136945a7fc720d,vi Kivity <avi@scylladb.com>, 2021-02-06 23:17:12 +0200, , reactor expose cumulative task processed statistic count total number task reactor processed expose statistic useful controlled benchmark count number task per unit work say query order check regression improvement statistic exposed new struct sched_stats following io_stats allow expansion statistic future message avi scylladb.com,,
310,1aaa57acae265b63ee1da11a98178679db81649b,vi Kivity <avi@scylladb.com>, 2021-02-08 12:51:47 +0200, , fair_queue add missing include optional used fair_queue.hh included directly fails build libstdc reviewed benny halevy bhalevy scylladb.com message avi scylladb.com,,
311,3fa13d593effc7ca26bf47c55cedafb804fc8dff,vi Kivity <avi@scylladb.com>, 2021-02-06 19:57:17 +0200, , reactor optimize need_preempt thread local storage access currently need_preempt extern thread_local variable force compiler refer global offset table although since compile fvisibility inlines hidden argues compiler bug instead change use function local static variable make clear compiler overridden dynamic library ld_preload compiler refers variable directly instead global offset table since need_preempt used numerous place reduce instruction count message avi scylladb.com,,
312,f2fa16993b293f1cdc1ac151889c3d224ac4c44c,vi Kivity <avi@scylladb.com>, 2021-02-08 11:24:02 +0200, , merge use reference backend reactor link pavel  use pointer reactor backend need pointer never nullptr replaced reference test unit dev  reactor reference http github.com xemul seastar keep reference reactor instead pointer keep reference reactor instead pointer storage_context keep reference reactor instead pointer reactor_backend keep reference reactor instead pointer fd_completion remove reactor,,
313,abccc8fa18298acea69c70609d9ea9ae97bd6815,enny Halevy <bhalevy@scylladb.com>, 2021-02-07 13:13:05 +0200, , output_stream make method noexcept mark future returning method noexcept case allocating bufferpacket might throw catch handle allocation error convert exception exceptional future return signed benny halevy bhalevy scylladb.com,,
314,cfb891c5c3688df9242f46daba351d4dc1f6f8fa,enny Halevy <bhalevy@scylladb.com>, 2021-02-07 13:53:58 +0200, , packet mark method noexcept mark non throwing method noexcept make output_stream api noexcept easier signed benny halevy bhalevy scylladb.com,,
315,c68ecfe2583fa8295d0e5e0083805015e578d94e,enny Halevy <bhalevy@scylladb.com>, 2021-02-07 12:47:49 +0200, , data_sink make method noexcept important close path noexcept might called destructors make future returning method noexcept signed benny halevy bhalevy scylladb.com,,
316,1cbf4bf7caf3983ae89b2248ab0b506b2937d6db,enny Halevy <bhalevy@scylladb.com>, 2021-02-07 13:13:05 +0200, , input_stream make method noexcept mark future returning method noexcept corresponding call marked noexcept case allocating buffer might throw catch handle allocation error convert exception exceptional future return signed benny halevy bhalevy scylladb.com,,
317,216aa491d461626363ebc63d98a7ae328815c987,enny Halevy <bhalevy@scylladb.com>, 2021-02-07 12:57:31 +0200, , mark method noexcept mark throwing method noexcept like marking input_stream method use noexcept signed benny halevy bhalevy scylladb.com,,
318,5ef7a6c77c4775c11d6165f2fd7b7ac8120f66d1,enny Halevy <bhalevy@scylladb.com>, 2021-02-07 12:47:49 +0200, , data_source make method noexcept important close path noexcept might called destructors make future returning method noexcept signed benny halevy bhalevy scylladb.com,,
319,55107751da7fb18161785fb430b5dfec51d50b49,enny Halevy <bhalevy@scylladb.com>, 2021-01-28 11:13:51 +0200, , test coroutines failed coroutine doe throw rather must return exceptional future test coroutines dev debug gcc clang signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
320,4c7c5c7c4c9c83f227177d6223e58df73dd45d0b,vi Kivity <avi@scylladb.com>, 2021-02-02 20:59:59 +0200,843, merge add support printing backtraces one line benny  series add support printing backtraces one line low level support added controlling delimeter used printing simple backtraces set space preparing exception hold backtrace addition command line option added blocked reactor report format oneline tell block reactor reporting mechanism print simplified backtrace single line true default set false restore previous multi line behavior fix 843 test unit dev  tag oneline backtrace github.com bhalevy seastar seastar addr2line support address object_address reactor blocked reactor reserve buffer space printing address util print_safe harden conversion helper reactor blocked reactor pad address leading zero reactor blocked reactor add blocked reactor report format oneline option backtrace use space delimeter default backtrace mark function noexcept,,
321,34b7b883a20119ca2a8b052c47a4b77dfa93db03,enny Halevy <bhalevy@scylladb.com>, 2021-01-21 15:39:23 +0200, , seastar addr2line support address object_address currently requires prefix addres available oneline backtrace format also use re.ignorecase support also upper case hexidecimal address signed benny halevy bhalevy scylladb.com,,
322,acd0d07c539633152adfc8d8d2afab80f335e2f2,enny Halevy <bhalevy@scylladb.com>, 2021-01-21 14:58:25 +0200, , reactor blocked reactor reserve buffer space printing address address get broken across end line like deadbeef signed benny halevy bhalevy scylladb.com,,
323,0cb4f6dc1be0ae7c1c5f215badbefa0387378fc4,enny Halevy <bhalevy@scylladb.com>, 2021-02-02 18:36:07 +0200, , util print_safe harden conversion helper add missing requires std is_integral_v integral concept assert overrun provided buffer signed benny halevy bhalevy scylladb.com,,
324,008289160272e339318e8049a19bf1c57ea08154,enny Halevy <bhalevy@scylladb.com>, 2021-01-21 14:50:54 +0200, , reactor blocked reactor pad address leading zero save space printed backtrace line likely get broken signed benny halevy bhalevy scylladb.com,,
325,4006d78ae88630540d1dd6ad4bb084c212901733,enny Halevy <bhalevy@scylladb.com>, 2021-01-21 11:14:57 +0200, , reactor blocked reactor add blocked reactor report format oneline option print simplified block reactor backtrace single line default useful automated testing may collect backtrace log line analyse prevents interleaving row caused parallel printout shared log facility current behavior multiline reactor stalled backtraces restored using blocked reactor report format oneline false option signed benny halevy bhalevy scylladb.com,,
326,095a07b9554f6b12455d831c3f55bb96afcb12a5,enny Halevy <bhalevy@scylladb.com>, 2021-01-21 10:04:34 +0200, ," backtrace use space delimeter default multiline backtrace inherently dangerous smp since easy line get intermixed also make sense backtrace printed part exception patch produce following warning  warn 2021 05,060 shard seastar exceptional future ignored seastar internal backtraced expected backtrace 0x5a2089 0x5a2362 0x5a26d9 0x490533 0x490624 0x45c5a6 0x45cb69 0x490673 0x43308c backtrace 0x5a2089 0x5a2362 0x5a26d9 0x4b4287 0x4b439c 0x434f62 0x4b43d1 0x45cc04 0x490673 0x43308c  previously warning looked like  warn 2021 17,271 shard seastar exceptional future ignored seastar internal backtraced expected backtrace 0x5a209c 0x5a2386 0x5a26fd 0x490508 0x4905f4 0x45c676 0x45cc39 0x490643 0x43308c backtrace 0x5a209c 0x5a2386 0x5a26fd 0x4b425c 0x4b437c 0x434f62 0x4b43b1 0x45ccd4 0x490643 0x43308c  signed benny halevy bhalevy scylladb.com",,
327,a23ebacb1cc7b9299528420c2b94a6f96b2b25c8,enny Halevy <bhalevy@scylladb.com>, 2021-01-21 09:50:42 +0200, , backtrace mark function noexcept except output operator function trivially noexcept signed benny halevy bhalevy scylladb.com,,
328,b5b2ee53d040b7209b934d5e9ca92dddf7e07cc5,mos Kong <amos@scylladb.com>, 2021-02-01 21:08:26 +0800,863, perftune.py fix assignment extend add asserts extend return extened list assignment wrong expected option cmdline option dumped config file list type added assert check ref http github.com scylladb scylla issue 8008 reviewed lubos kosco lubos scylladb.com signed amos kong amos scylladb.com close 863,,
329,cb3aaf07e4c9f099f5039387127a26cdd178d616,enny Halevy <bhalevy@scylladb.com>, 2021-01-31 13:18:02 +0200, , add_dir_watch fix root dir detection existing implementation spin forever add_watch throw every directory since break loop exception however dir absolute path beginning always parent_path relative path traversing path reach empty parent_path therefore break loop exception either parent_path relative path case reached root path dir.parent_path dir might happen fsnotifier impl create_watch keep throwing std runtime_error attempting use closed notifier active signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
330,005ef23d3566359ed38041d5d7a661491e2f6ba6,mos Kong <amos@scylladb.com>, 2021-01-28 11:57:25 +0800,861, script perftune.py convert nic option old perftune.yaml list compatibility upgraded scylla 4.3 4.4.rc0 scylla failed start following error error device doe exist system tuned issue fixed multiple nics supported commit nic option dumped config file list change nic option old config file still string generated change convert string option list ref http github.com scylladb scylla issue 7968 reviewed dmitry kropachev scylladb.com reviewed lubos kosco lubos scylladb.com signed amos kong amos scylladb.com close 861,,
331,52d41277a8a58ab68ebc3d629985bfe7acefe7d9,avel Emelyanov <xemul@scylladb.com>, 2021-01-26 17:43:25 +0300, , fair_queue preempted request got queued far request preempted put group queue tail setting queue wait group head rover become larger group current tail turn preempting request completes forward group head rover _its_ size preempting request smaller preempted one one queue resulting head value may become large enough pas expected threshold whole group may get stuck problem introduced 98366fd5 reveals queue fed sized request preempted tiny one mentioned patch happen preempted request pushed group head rover forward completed thus letting queue dispatch request order still fix queueing preempted request right preempted one test unit dev dev signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
332,09a56962592a7dc99b2e53fd0df4ea6f67077724,mos Kong <amos@scylladb.com>, 2021-01-08 17:49:10 +0800,854, script perftune.py remove repeated item merging option file currently item option file appended original value repeated item might exist final option value patch introduced remove repeated item signed amos kong amos scylladb.com close 854,,
333,c1b784f670c6f0fa699049375a1e5826f33a8db3,avel Emelyanov <xemul@scylladb.com>, 2021-01-27 13:05:40 +0300, , file.hh remove fair_queue.hh latter effectively internal header former widely included scylla code touching fair_queue.hh force scylla recompilation annoying test scylla compilation signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
334,e22a58dcc48b450a97c50bdbd2e6ac02407cfdea,vi Kivity <avi@scylladb.com>, 2021-01-25 14:27:57 +0200,857, merge reloadable certificate tolerance calle  fix 857 reloading look file modification file included certificate set however actual modification event instead waiting close event copy write done cause spurious load error also report error directly user code might suboptimal case file pair cert key try overwrite tell one time similar patch set change inotify listener use close well directory monitoring try exclude partial writes well ignore file deletes instead waiting file resurrect also add configurable tolerance timeout defines window yet report loading error hoping instead new event make next reload succeed previous error moot  calle http github.com elcallio seastar tls_test add test case move operation reloading add reloadable cert tolerance timeout avoid eager error make reloadable certificate robust,,
335,969f4a706f9b4b4ce90ff2e8efc8ce297b80b75e,avel Emelyanov <xemul@scylladb.com>, 2020-12-25 18:52:08 +0300, , keep reference reactor instead pointer object reactor_backend left reactor pointer signed pavel emelyanov xemul scylladb.com,,
336,fc21fc89acb9be5c7836003008a2baf47d953c69,avel Emelyanov <xemul@scylladb.com>, 2020-12-25 18:50:31 +0300, , keep reference reactor instead pointer yet another inhabitant reactor_backend enjoy non nullptr reactor signed pavel emelyanov xemul scylladb.com,,
337,232ca500a178bab278f601172e53988262a61825,avel Emelyanov <xemul@scylladb.com>, 2020-12-25 18:46:04 +0300, , storage_context keep reference reactor instead pointer storage_context life reactor_backend thus also use reference reactor signed pavel emelyanov xemul scylladb.com,,
338,374150ed62b509f0d8666c463a8177cc97503c80,avel Emelyanov <xemul@scylladb.com>, 2020-12-25 18:44:12 +0300, , reactor_backend keep reference reactor instead pointer reactor_backend initialized non zero reactor pointer safely replaced reference signed pavel emelyanov xemul scylladb.com,,
339,0a6484440eae3b46c3a201e3b3632b44fed36860,avel Emelyanov <xemul@scylladb.com>, 2020-12-25 18:39:15 +0300, , fd_completion remove reactor chiuld class need move reactor pointer mostly make patching patch place signed pavel emelyanov xemul scylladb.com,,
340,4b5cc0ee340b014764ec16bcae310689ecc44f9a,vi Kivity <avi@scylladb.com>, 2021-01-25 10:37:28 +0200,811, merge cancellable pavel  make cancellable request api simple provide io_intent object submitting request cancel later intent object destructed cancel method called io_intent object _not_ expected maintained stable address memory safely moved around copied due seastar kernel limitation request sitting fair queue canceled cancelling pending queue renamed io_sink series would require pointer per request _or_ something circular buffer keep _or_ passive cancellation cancelling kernel request need newer kernel io_uring functionality cancellation step first request marked canceled associated resource released request stay queue second request get processed release associated resource completion promise fair queue resource waiter wake free memory buffer also fair queue try grab capacity canceled request get rid 1st part series change implementation fair_queue queue make possible find request middle mark canceled nice side effect rework get smaller memory overhead queued request 2nd part series io_sink concept generalizes reactor _pending_io queue make usable outside aio backend allows unit test cancellation prepares ground pending cancellation 3rd part series cancellation 4th part series push io_intent file api api providing io_intent pointer file method passing nullptr mean cancellation happen everlasting intent latter case coinsides compatibility mode method called without intent  added file cancellation demo unit test fixed tagged doc fixed improperly stubbed posix_file_impl method noexcept sanitation moved cancelled_error io_queue.hh file.hh renames canceled cancelled everywhere bool cancelled bool is_cancelled get_ ... find_or_create_ ... new heareds use singular noun  tuned file_impl hierarchy compatible current tree impls safe wrt adding impls future introduced safe intent reference avoid using lw_shared_ptr io_intent api  intent file api queued request shrunk pointer removed callback fair queue entry request submitted canceled checking descriptor removed io_completion io_request use is_invocable_r io_sink template  use boost intrusive slist instead home brew one zero allocation one queue intent inline small_vector moved internal class inernal namespace added documentatiton  optimal way storing request fair_queue active cancellation mode pending cancellation later rebased group cosmetic change next intent data sink source level cancel request custom exception pending cancellation test unit dev scylla compilation unit dev ref 811  cancellation http github.com xemul seastar commits file add test demo file cancellation file factor posix_file_impl intent method implement intent aware method implement intent aware method implement intent aware method posix_file_impl make intent aware bring io_intent argument onto file level file extend api intent file_impl add intent capable stub file shuffle inheritance test cancellation test io_queue track request cancellable queue test check intent safe reference work expected io_intent safe reference io_queue intent io_queue cancellable queue fair_queue change dispatch condition cancellation exception io_request remove kernel completion fair_queue move dispatching callback ...,,
341,8be20adc5bc9157d2d7e24a1bca0df89f2c9fc3b,avel Emelyanov <xemul@scylladb.com>, 2021-01-22 14:09:20 +0300, , file add test demo file cancellation two resemble test run part unit test demo get documentation two mostly duplicate piece code signed pavel emelyanov xemul scylladb.com,,
342,7a441cb5eb4a6b15729a8f1003c92188d7552db2,avel Emelyanov <xemul@scylladb.com>, 2021-01-25 10:09:55 +0300, , file factor posix_file_impl intent method posix_file_impl inherited class switched support intent intent method implemented base class keep duplicate code signed pavel emelyanov xemul scylladb.com,,
343,36dfff5239733ccb71378d3c57feb4779a29e995,avel Emelyanov <xemul@scylladb.com>, 2021-01-13 10:03:48 +0300, , implement intent aware method file implementation queue request internally new method help intent safe reference signed pavel emelyanov xemul scylladb.com,,
344,a69a1fdba6ea6ca07b15ab248eb7d29304527f65,avel Emelyanov <xemul@scylladb.com>, 2021-01-13 09:49:55 +0300, , implement intent aware method surprise push argument along stack signed pavel emelyanov xemul scylladb.com,,
345,ac195efac438f6bd15103c3ce5e3a8611a2edf89,avel Emelyanov <xemul@scylladb.com>, 2021-01-13 09:48:05 +0300, , implement intent aware method trick propagate intent signed pavel emelyanov xemul scylladb.com,,
346,e12510dcbc6b2d3fd32c0478852083de8e033e85,avel Emelyanov <xemul@scylladb.com>, 2021-01-13 09:41:16 +0300, , posix_file_impl make intent aware method propagate intent lower layer bulk read method need keep intent preemption point store safe reference read_state posix_file_impl internal abstract class api changed child class push nullptr intent patched next signed pavel emelyanov xemul scylladb.com,,
347,6b35de2eaec06eb3198fdf0ef8ba9ca97c583960,avel Emelyanov <xemul@scylladb.com>, 2020-12-30 13:01:11 +0300, , bring io_intent argument onto file level currently io_queue queue_request accepts intent pointer argument default nullptr remove default make caller provide intent nullptr well  caller test posix_file_impl method internal seastar stuff library api changed making posix_file_impl accept intent argument requires bit trickery thus come next patch signed pavel emelyanov xemul scylladb.com,,
348,0fd80e072b91604605f0a6644f4e3c3e1d456af1,avel Emelyanov <xemul@scylladb.com>, 2021-01-12 07:52:33 +0300, , file extend api intent file_impl ready accept io_intents time extend top level api time yet another argument default cancellable value compatibility willing cancel together previous patch intent ignored going fixed really soon signed pavel emelyanov xemul scylladb.com,,
349,97fcea3eae403e7f789c28f0a9fb260c90201bd9,avel Emelyanov <xemul@scylladb.com>, 2021-01-11 13:38:59 +0300, , file_impl add intent capable stub next patch propagate intent pointer file api io_queue level file_impl method equipped io_intent pointer however method already become facto api inheritants extended overcome introduce yet another set method intent pointer board next known implementation patched propagete intent proper way implementation default method ignore intent great technically correct cancelled complete anyway though immediately signed pavel emelyanov xemul scylladb.com,,
350,248c6b789cf9ce6edc1c252f507107e418b7e583,avel Emelyanov <xemul@scylladb.com>, 2021-01-13 09:31:38 +0300, , file shuffle inheritance current file class hierarchy file_impl posix_file_impl   e.g scylla make tree support intent series file_impl equipped intent aware method call old one thus igonring intent let compile work without instant patching though cancelling real posix_ inheritants patched implement intent aware method file engine patched call intent aware method impl time bomb appears come new child class posix_file_impl need implement intent aware method nothing code comment would regulate new class mistake implement old method inherit intent aware posix_file_impl sliently misbehave better restrict part tuning hierarchy file_impl posix_file_impl final final final  posix_file_impl keep code method renamed new method pure virtual back enforce inheritants implement _them_ signed pavel emelyanov xemul scylladb.com,,
351,625a3c54b11ff105fdc59977db1de8780c9dfc95,avel Emelyanov <xemul@scylladb.com>, 2020-12-14 18:24:00 +0300, , test cancellation test make queue prio class fill request two intent cancel one signed pavel emelyanov xemul scylladb.com,,
352,4a771d0cd7ba466e664ee86b0f4401fde06d4026,avel Emelyanov <xemul@scylladb.com>, 2020-12-14 17:04:48 +0300, , io_queue track request cancellable queue io_queue queue_request method accepts pointer io_intent object null request submitted attached intent later intent destroyed .cancel request complete right important obey sequence queue request main queue throwing queue request cancellation queue impossible undo enqueue operation queue make work first io_intent asked exact cancellation queue reference potentially throwing main queue enqueue succeeds request pushed back cancellable queue noexcept manner signed pavel emelyanov xemul scylladb.com,,
353,43cd02416ebe4bb228886c0d429e3ae1a70d2742,avel Emelyanov <xemul@scylladb.com>, 2021-01-12 17:05:43 +0300, , test check intent safe reference work expected signed pavel emelyanov xemul scylladb.com,,
354,ab584ab94bac14bbecdd446ac9015b223a349364,avel Emelyanov <xemul@scylladb.com>, 2021-01-11 16:10:33 +0300, , io_intent safe reference intent object encouraged get destroyed time file implementation need carry reference preemption point said safe reference intent perform additional allocation throw cancelled exception attempt revive original intent signed pavel emelyanov xemul scylladb.com,,
355,0683f8628226525f3931f601be14af3a772ce67c,avel Emelyanov <xemul@scylladb.com>, 2020-12-14 16:43:50 +0300, , io_queue intent intent object keep cancellable queue request queue_s_ cancellable queue implementation requires request queued also queued main queue since many queue many fair sub queue need intent collect bunch cancellable queue board typically expected one entry still io_intent object vector cancellable queue queue track queue current form device prio_class_id pair io_intent cancel method destroys cancellation queue cause cancellation request destroyed handle destroys cancellable queue thus cancelling signed pavel emelyanov xemul scylladb.com,,
356,f67767fc22db717a0c324f032594a88e94869f3e,avel Emelyanov <xemul@scylladb.com>, 2020-12-14 16:10:46 +0300, , io_queue cancellable queue nowadays queue request look like queue request request ... request nul list implemented intrusive singly linked list support cancellation individual request request must sit yet another list would look like skip list like subset one like queue request request ... request request nul  handle ... nul pressed handle walk list somehow invalidate request space efficiency would nice 2nd list also singly linked list kind list doe allow withdraw element middle cancellable queue design request queued singly linked list handle dispatched main queue request removed handle cancellation queue head cancelled request remains main queue middle also dispatching request cancellation handle hand request back reference handle since dispatching happens head main queue thus head relevant handle pointer handle sit first request handle list make cancellation queue look like handle backref  first request  rest request request ... rest singly linked list queued request get first pointer already taken back rest queued first request leaf queue get replaced front rest list backrefer next pointer unioned request memory efficiency thus cancellation queue add single pointer queued request given previously saved byte still great destroyed cancellable queue cancel request list separate method queue intenral io_queue.cc object api level handle come bit later request cancelled release right includes resolving promise whose future completion waited request stay main queue get dispatched order freed completely cancelled request reset fair queue ticket zero make fair queue account one capacity engine change cancelled request dispatched noop free memory occupy change solve two goal buffer released right cancellation time request presence affect neither real disk fair queue counter might affect request signed pavel emelyanov xemul scylladb.com,,
357,d2a74f59db2f8ab22e6693c50d2865c16cd66269,avel Emelyanov <xemul@scylladb.com>, 2020-12-15 12:21:13 +0300, , fair_queue change dispatch condition canceled request sit fair queue get dispatched affect get stuck capacity check entry ticket reset zero value queue queued resource counter changed according  right counter used decide whether proceed dispatching request queue full cancelled request happen next queued request probably critical still better process queue earlier check number queued request resource instead counter continue operate even canceler request signed pavel emelyanov xemul scylladb.com,,
358,82a64ad16d267ff0914c81e589ab2cf880e15ba2,avel Emelyanov <xemul@scylladb.com>, 2020-12-01 17:12:20 +0300, , cancellation exception cancelled request resolve future exceptional one help signed pavel emelyanov xemul scylladb.com,,
359,ff0ee45a7b4aab4531124b7971031619b5ba3500,avel Emelyanov <xemul@scylladb.com>, 2020-12-30 11:30:25 +0300, , io_request remove kernel completion io_request carry pointer inside used io_sink code completion copied onto aio getting sink queue request sits queue pointer unused take space introduce version io_request completion board remove completion io_request save per request memory prepares ground cancellation pending request set though signed pavel emelyanov xemul scylladb.com,,
360,4e15fd056394e4cdefcae1c4f24bdb44717b7037,avel Emelyanov <xemul@scylladb.com>, 2020-12-30 11:18:15 +0300, , fair_queue move dispatching callback fair queue carrying information handle entry entry although quite convenient want handle different entry differently make entry larger size time even cancellable next patch two option handling entry thing get simpler removing dispatching callback entry passing fair_queue entry becomes one pointer thinner time number request queue give good memory saving signed pavel emelyanov xemul scylladb.com,,
361,80a9fe42f65b73c6f7b5edf93f740f295ed00549,avel Emelyanov <xemul@scylladb.com>, 2020-12-14 15:29:22 +0300, , fair_queue turn fair queue callable object second part converting fair queue lambda explicit object time introduce hook structure queued fair_queue carry style callback called upon entry dispatch caller expected find container entry likely boost intrusive call intruduced previous patch first used patch completes request queue rework result save byte queued request make possible collect cancellation queue signed pavel emelyanov xemul scylladb.com,,
362,8ee08439d8e31ede6cc6922aada6b2e2af0ebf7c,avel Emelyanov <xemul@scylladb.com>, 2020-12-14 15:15:29 +0300, , io_queue turn fair queue lambda callable fair queue code queue proirity queue dispatching peek function internal queue call case queue per request one constructed lambda capture io_request bunch helper variable whose code call sink.submit convenient cancellaion request construction memory consuming capture question fit inline size byte allocates capture block separately effectively take byte top internal io_request queue one changing part queueing captured data directly would halve per request queue overhead first introduce class inherited internal io_request add helper data mentioned capture block queuing directly construct queue make work declare operator new guy signed pavel emelyanov xemul scylladb.com,,
363,b3e875875513814f7ea7c711a3b3abbedc1d57fe,avel Emelyanov <xemul@scylladb.com>, 2020-12-14 15:05:02 +0300, , io_queue move outside io_queue next patch need keep reference class outside io_queue since declared private sub class complicate many thing signed pavel emelyanov xemul scylladb.com,,
364,687d0d676716f560da627e2389bf829b320afa9b,avel Emelyanov <xemul@scylladb.com>, 2020-12-03 16:59:54 +0300, , test add rather stupid io_queue unit test check request io_queue io_sink pair get executed signed pavel emelyanov xemul scylladb.com,,
365,8b430ddfd390d276503f6da31b45b66f517277dc,avel Emelyanov <xemul@scylladb.com>, 2020-12-03 16:25:08 +0300, , io_queue keep reference io_sink instead submitting request sink reactor submit directly sink perequisite io_queue unit test signed pavel emelyanov xemul scylladb.com,,
366,df1d4030918e7736453a18e2ab6f402d1fd03815,avel Emelyanov <xemul@scylladb.com>, 2020-12-03 16:10:33 +0300, , introduce io_sink turn reactor _pending_io class two method submit drain former add request sink latter drain one one caller want temporarily keep reactor _io_sink public let io_queue code submit request signed pavel emelyanov xemul scylladb.com,,
367,54a4e56f6cf62266f47de906738aee46c5957f23,avel Emelyanov <xemul@scylladb.com>, 2020-12-03 15:38:57 +0300, , reactor_backend move pending queue draining logic helper goal encapsulate pending queue class wich care aio context iocbs signed pavel emelyanov xemul scylladb.com,,
368,066eea043e38ec812dc78cbed5ab6723d5ab8c4e,avel Emelyanov <xemul@scylladb.com>, 2020-12-03 15:12:05 +0300, , reactor_backend remove request pending queue earlier submit_work take reactor queue pending request convert head iocb generated iocbs submitted kernel aio pending queue head cleaned last step made earlier request converted iocb sence keeping pending queue earlier help localizing pending queue drain code turn help writing flow unit test eventually cancellation unit test signed pavel emelyanov xemul scylladb.com,,
369,7487c4ea0a45f7fef7c6296c6cb294d4a138b4b8,avel Emelyanov <xemul@scylladb.com>, 2021-01-11 16:37:41 +0300, , append challenged file switch onto noncopyable function queued carry non copyable object safe reference intent end series keeping existing std function generate compiler error missing copy constructor since _already_ copied make explicitly non copyable advance signed pavel emelyanov xemul scylladb.com,,
370,d93c92b42392b3231fb6e4053a5c822949c6b536,avel Emelyanov <xemul@scylladb.com>, 2021-01-12 17:36:03 +0300, , file isolate read_state internal namespace auxiliary structure used outside file.cc make thing bit cleaner avoid stuffing public file.hh header future move struct internal signed pavel emelyanov xemul scylladb.com,,
371,085a07cf5697d22939e2124506cacacd205802ee,avel Emelyanov <xemul@scylladb.com>, 2020-12-14 14:59:02 +0300, , io_queue keep queue reference currently keep pointer pointer never nullptr switch reference signed pavel emelyanov xemul scylladb.com,,
372,332c3f5b4031ae1647221c63502db87829febbf5,avel Emelyanov <xemul@scylladb.com>, 2020-12-30 13:35:45 +0300, , file move header shared io_intent make intent include whole rather huge file.hh keep separately signed pavel emelyanov xemul scylladb.com,,
373,19e2796d393e455ade814a9a3dfcc9b768e40695,avel Emelyanov <xemul@scylladb.com>, 2020-12-14 14:57:32 +0300, , fair_queue unfriend priority_class fair_queue thie friendship used signed pavel emelyanov xemul scylladb.com,,
374,dd4028c0c63b704ef6d63d117c8db4526c81864f,avel Emelyanov <xemul@scylladb.com>, 2021-01-11 15:08:54 +0300, , abort source improve subscription management two concern abort_source subscription subscription carry pointer abort_source pointer updated abort source move pointer unused however critical aftter abort source fired associated subscription continue resolving true armed critical either caller expected check right subsribe call however 2nd item look like time bomb step chance happen auto as.subscribe   ...  ... piece better called fixed subscription made thinner removing back pointer abort source completely cast bool replaced check subscription linked test unit dev signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
375,0c4a7fce0480c143fc725ed9810af2b68f4f9c17,alle Wilund <calle@scylladb.com>, 2021-01-20 10:51:45 +0000, , tls_test add test case move operation reloading check moving watched file trigger certificate reload,,
376,708d3f7e608468f80183a57c22a247b8b8e59e91,alle Wilund <calle@scylladb.com>, 2021-01-18 16:49:56 +0000, , add reloadable cert tolerance timeout avoid eager error add configurable timeout default 500ms report loading error instead wait hope get new notificaion reload successfully handle case test.crt test.key certdir without spurious error generated one file pair fully copied yet add test case check though course super slow test machine could wreck assumption make succeed slow,,
377,98366fd5142d7c64c81e05b3319b65fe7b8b0e15,avel Emelyanov <xemul@scylladb.com>, 2021-01-20 10:55:09 +0300, , fair_queue improve request preemption pending state nowadays fair queue enters pending state try submit request associated group remaining capacity enough request ticket state queue wait group head rover move forward ahead certain value denote room request question queue waiting one request another priority class may pop get dispatched thus trying preempt original request handle preemption dispatch new request queue somehow order group accounting currently solved accounting pending request group accounting new one keep counter intact effectively put new request group queue tail penalizes shard queue better solution take account fact original request actually charged group capacity new request may try reuse part smaller larger account needed delta _continue_ waiting place group queue worst case request ticket dimentional accounting fraction request ticket tricky really needed new request dispatched right old request attempted get dispatched instantly within poll right next dispatching loop iteration keep ticket computation simpler new request _successfully_ try preemt pending one request accounted group right next loop iteration queue happens state would fraction accounting took place side effect simplifies code account ticket group tail rover moving method tested various combination workload different share write request 1000 share parallelism read 32k request 100 share parallelism read 128k request share parallelism patch notably reduces maximum p999 latency workload without sacrifycing throughput e.g run altogether minute number msec p99 p999 max master patch master patch master patch 1000 0.6 0.4 1.3 1.2 21.7 18.7 32k 100 3.0 2.6 5.1 3.9 31.7 23.2 128k 3.2 2.8 5.3 3.9 26.0 23.2 also checked tlp stress test i3.xlarge server shard point average reported commitlog queue time metric lower patch counter change significantly however test notice also report result without patch test unit dev io_tester tlp stress signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
378,884b5a00ae0383c7f195b96a39105c04e293cf8c,alle Wilund <calle@scylladb.com>, 2021-01-18 16:22:34 +0000, , make reloadable certificate robust change file watch wait close i.e someone _done_ file write copy move well use directory polling file deleted copy often look like also keep better track well succeeded reduce somewhat eager error reporting mean never try report failure individual file half written note though file like cert key pair still sensitive race since one typically changed time addressed next patch,,
379,569433abcbc89a0bbd9595111e6a4e4ffbf0af12,umeet Chhetri <sumeet.chhetri@gmail.com>, 2020-11-29 12:55:15 +0530, , http add support default handler add support external framework integration needed need integrate new web framework use seastar httpd base provide framework functionality top matching rule always ride default handler,,
380,a287bb1a394f5ccfec3f747f0b725855b7650995,adav Har'El <nyh@scylladb.com>, 2021-01-11 15:06:45 +0200, , merge file correct dma alignment odd filesystems merged patch series avi kivity filesystems alignment value thing work work well expected writes filesystem block size currently assume 4096 possible smaller larger block size smaller block size preferable reduce write amplification data written disk fast possible query block size file system instead assuming allows interested user format filesystem smaller block size fix filesystems formatted large block size also query block size block device ensure alignment information lost using file_handle mechanism avi kivity file preserve dma alignment value transporting file across shard file use real filesystem block size instead hardcoded 4096 file query block size block device src core file impl.hh src core file.cc file changed insertion deletion,,
381,df94ea726449e773cc0b68d3b9319351d4f42cc2,vi Kivity <avi@scylladb.com>, 2021-01-11 14:16:21 +0200, , file query block size block device use blkbszget used blockdev,,
382,73322ec587318cb3a935c1c7f66fdb306ff030c1,vi Kivity <avi@scylladb.com>, 2021-01-11 14:07:22 +0200, , file use real filesystem block size instead hardcoded 4096 filesystems currently limitation using block size aio dio writes anything smaller serializes execution block size vary filesystem formatter specially recognize pas block size stat call already make block device pas 4096 default assumed far change later patch fetch correct block size,,
383,6b36e84c344c345f80913224d035e52b37a9cd0b,ubos Kosco <lubos@scylladb.com>, 2021-01-11 12:04:02 +0100,855, perftune.py print nic driver name avoid clashing mask output option breaking script depend clean output without extra message ref scylladb scylla 7905 reviewed israel fruchter fruch scylladb.com close 855,,
384,2c72b5e0bfad16a7dbecbc2dded583d9963c4e07,vi Kivity <avi@scylladb.com>, 2021-01-11 11:10:21 +0200, , file preserve dma alignment value transporting file across shard seastar file_handle mechanism reopening file another shard unfortunately preserve dma alignment value leading aligned read file opened way unlikely case could lead aligned writes requires formatted filesystems system large page size fix copying alignment value file handle using ,,
385,0a708e8ec92716218118e07b9950e014e63de94d,avel Emelyanov <xemul@scylladb.com>, 2021-01-05 09:15:53 +0300, , io_tester make file size configurable default io_tester run shard workload 1gb file enough write workload doe show different result depending file size 1gb big enough work tempting ability change size data time specifying size per shard per workload file convenient available disk space likely constant value changing number shard test one would need update conf file every run annoying said configuration option called data_size disk space assigned whole workload split evenly shard inside signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
386,3421482d124d803993e15dbaa99f7c5581cc8b8a,avel Emelyanov <xemul@scylladb.com>, 2020-12-30 16:27:52 +0300, , io_queue limit ticket oversized request queue expected effectively schedule request whose size bigger certain limit usually 256k per request enough satisfy consume disk throughput maintain reasonable latency urgent request respectively fair group configured pas limited sum request one shard sends request alone larger size group limit never get dispatched handle capping fair queue ticket value assigned request eat half group limit half would typically several megabyte far expected usage test io_tester 32mb request signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
387,ed345cdbe6a44b86ba8b6b1c75981ed565f10f4a,ubos Kosco <lubos@scylladb.com>, 2021-01-08 08:36:27 +0100,853, perftune.py fix dump option adding multiple nics option dump_config function got broken commit perftune.py support passing multiple nic option tune multiple interface ref http github.com scylladb scylla issue 7895 reviewed amos kong amos scylladb.com close 853,,
388,56cfe17970f3798321a36e73ab212ca2be015d14,mitry Kropachev <dmitry.kropachev@gmail.com>, 2021-01-06 21:21:38 +0700,852, perftune.py fix function signature commit introduced regression causing script fail following error error missing required positional argument nic system tuned issue fixed fix issue removing property annotation replace function python getter acked lubos kosco lubos scylladb.com close 852,,
389,a2fc9d72c31b97840bc75ae49dbd6f4b6d394e25,ubos Kosco <lubos@scylladb.com>, 2020-09-22 10:49:25 +0200, , perftune.py support passing multiple nic option tune multiple interface needed mainly azure expose physical interface enp ... virtual interface eth virtual interface used assigned physical interface however need tuned perftune able tune one run,,
390,f7ab76107687a282406a6cb1c3da704e2efe5dce,ubos Kosco <tarzanek@gmail.com>, 2020-09-30 15:04:05 +0200, , perftune.py recognize sort irqs mellanox nics comparator mlx irqs detect mlx present set proper message driver detection various card use different name interrupt listing output proper comparator proper regex parsing add support card name regexps recognized queue properly parsed interrupt always order sync definitely vary machine nic get irqs assigned queue even cloud,,
391,2b809ebe29221ebbe89bffe419264ec89bc5edcb,ubos Kosco <lubos@scylladb.com>, 2020-09-30 13:36:44 +0200, , perftune.py refactor getting driver name,,
392,c158d4f53b0882f0ccb7410442e3879b20b36c0b,efftt <jeff@oxio.io>, 2020-12-18 23:21:47 -0500, , install dependency support manjaro,,
393,6598966aa2711d2ecfc280ec563f5a401087b0f4,enny Halevy <bhalevy@scylladb.com>, 2020-12-28 15:17:56 +0200, , optimize_queue use max  may greater truncating latter part way lose data since done _committed_size meaning nothing written file yet phew ... test unit dev signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
394,768ab7ee99ae46f23d26e45bfc989e36981c2e86,enny Halevy <bhalevy@scylladb.com>, 2020-12-28 19:49:22 +0200, , future do_until handle exception stop condition add unit test case test unit dev signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
395,d1b5d41b6dc767fe6c777092811431b0f1f7f1de,enny Halevy <bhalevy@scylladb.com>, 2020-12-28 10:16:25 +0200,7439, adjust sloppy_size optimize_queue change added ftruncate constructor bump file size needed opt.sloppy_size set may cause assert added newly created file destructed without close since file size already optimized optimize_queue right extended use code path also empty file case add unit test reproduces assertion failure without fix ref scylladb scylla 7439 test unit dev signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
396,1f5e3d3419b3444628f5750e31c58605ab2f50b0,vi Kivity <avi@scylladb.com>, 2020-12-23 15:34:26 +0200, , merge avoid fair queue rover overflow configured pavel  fair queue rover based assumption reactor kick queue frequently rover value overlap real disk usually mean poll happens every minute faster however case queue unconfigured default value rather high tail head int max int max 512 first limit number request border overlapping creates risk queue lockup shard ... shard shard try write data one idle grab_capacity 16m request tail int max right request finish try grab_capacity tail int max tail head shard waiting head int max 16m request head int max int max head still int max shard konw instantly ... ... run cpu task sleep bit longer need grab_capacity tail int max  head int max int max boom head int max overflew shard wait 2nd turn may never wake happens rover move fix capping limit number request test iotune tester  fairqueue unconfigured rover may overlow http github.com xemul seastar io_group limit configured request limit fair_group remove default config constructor,,
397,b2876270a7bc45ed06700123f70987c1f19f52ca,vi Kivity <avi@scylladb.com>, 2020-12-23 12:30:34 +0200, , doc add coroutines section tutorial coroutines recommended way write asychronous code explain luckily much easier traditional continuation message avi scylladb.com,,
398,6135aaaeeeadf535f196800ce9814ae62c50e1df,avel Emelyanov <xemul@scylladb.com>, 2020-12-23 12:14:47 +0300, , io_group limit configured request limit setting extremely high value request byte limit fair queue greatly increase risk rover overwlof lock queue maximum value latter limit naturally int max 512 former limit well unlimited keep sane bound well signed pavel emelyanov xemul scylladb.com,,
399,fee8f6e22eb46086364408d93543a6e9e3c915a5,avel Emelyanov <xemul@scylladb.com>, 2020-12-23 11:46:36 +0300, , fair_group remove default config constructor default configured fair queue easy use lock better encourage caller explicitly define desired limit signed pavel emelyanov xemul scylladb.com,,
400,f21fc7506d253acefe3d50093dd4ff8ae5bf8497,vi Kivity <avi@scylladb.com>, 2020-12-22 18:01:37 +0200, , merge test perf add random seed config option benny  series add random seed command line option perf test also add printing number core multi core test printing random seed finally rpc_perf test adapted use testing random run could reproduced test unit dev perf rpc_test 123 dev  tag perf_tests github.com bhalevy seastar test perf rpc_perf use testing test perf support random number generator seed testing split random test_runner test perf print smp count,,
401,a7f080bbfbd875e1504cd4fb34be95a86bad2269,enny Halevy <bhalevy@scylladb.com>, 2020-12-22 16:04:25 +0200, , test perf rpc_perf use testing repeat random number sequence using random seed command line option signed benny halevy bhalevy scylladb.com,,
402,7d4faa113565278dd60ce4c2b97208a61b860f02,enny Halevy <bhalevy@scylladb.com>, 2020-12-22 15:36:10 +0200, , test perf support random number generator seed seed testing random number generator default random seed generated using std random_device allow configuring random seed order reproduce pseudo random number generator sequence either case print seed part test configuration signed benny halevy bhalevy scylladb.com,,
403,ddf2d9f2d0f3560b245409f0f787551cc9240e47,enny Halevy <bhalevy@scylladb.com>, 2020-12-22 15:46:56 +0200, , testing split random test_runner separate declaration definition test_runner easily reused perf test signed benny halevy bhalevy scylladb.com,,
404,689751ef65afc5d5ec385bfa80901e6beaaee606,enny Halevy <bhalevy@scylladb.com>, 2020-12-22 15:14:54 +0200, , test perf print smp count important multi core perf test number core controlled smp command line option signed benny halevy bhalevy scylladb.com,,
405,8ae15f4691fb0ec7cd6dbd5042b09c9592fc598a,avel Emelyanov <xemul@scylladb.com>, 2020-12-22 14:07:23 +0300,7146, iotune print parameter affecting measurement result measuring disk performance characteristic iotune collect parameter underlying disk sometimes measured result look suspicious useful know parameter understand going ref scylladb scylla 7146 signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
406,c550c915a3983d38298382f016d15ac16dba431c,un He <jun.he@arm.com>, 2020-12-21 17:54:39 +0800, , cook add patch cmd ragel build signed char confusion aarch64 ragel wrong assumption char type patch merged ragel similar fix applied without change request_parser test fail platform char treated unsigned http github.com adrian thurston ragel pull change signed jun jun.he arm.com message jun.he arm.com,,
407,2bd8c8d088f030282302a1586c72c074148b62d8,un He <jun.he@arm.com>, 2020-12-18 16:52:04 +0800, , core remove unused chrono.h reference change signed jun jun.he arm.com message jun.he arm.com,,
408,d953ef095a47ec8c548dc6cf2ae7755fe5b55dd0,un He <jun.he@arm.com>, 2020-12-18 16:49:55 +0800, , cmake force cxx standard dialect specified ubuntu 18.04 observed std gnu automatically appended cmake overides gnu specified user patch fix forcing cxx_standard dialect defined change signed jun jun.he arm.com message jun.he arm.com,,
409,961af70233ec39f6c8fdbc1846cdfbec57b70646,otond Dnes <bdenes@scylladb.com>, 2020-12-17 14:42:39 +0200, , queue add front allow accessing front element without committing popping signed botond bdenes scylladb.com message bdenes scylladb.com,,
410,9241b4fe17715682386ac9099a2d7397d4503728,vi Kivity <avi@scylladb.com>, 2020-12-16 14:52:02 +0200, , coroutine deprecate coroutine forwarding syntax co_return save task switch time bomb parameter held stable coroutine frame instead must copied moved since easy invoke accidentally deprecate addition future void case syntax legal clang gcc reject gcc accepts tighten check compiler avoid failure gcc unit test removed replacement yet apart efficient co_return co_await ... message avi scylladb.com,,
411,dd86c8bcc3b3f3faa5a5b295dae8f7480f232813,ravis Downs <travis.downs@vectorized.io>, 2020-12-14 22:45:29 -0800,836, memory use size searching preferred span size currently page granular search used preferred span size small pool search span size little waste chunked object size handled pool however returned span always power two search making right calculation fix change search consider power two sized span since one available doe change preferred span size many pool especially larger one preferred span size doe change always larger span chosen smallest span waste i.e. internal fragmentation span size exists within max span size page choose span size lowest total waste fix 836 signed travis travis.downs vectorized.io message travis.downs vectorized.io,,
412,5e2e00707294ba95471f5e41e9ec31398585de7a,vi Kivity <avi@scylladb.com>, 2020-12-13 14:44:38 +0200, , shared_ptr define constructor noexcept debug mode share_ptr instead plain integer counter type constructor however defined noexcept propagates thence cause default constructor deleted since required noexcept defined default result async_service default constructor doe compile gcc 9.3 fix marking constructor noexcept safe since std this_thread get_id used member also noexcept fix 845 message avi scylladb.com,,
413,53df2689fde62f3e469c965ebe6a673c03169337,vi Kivity <avi@scylladb.com>, 2020-12-13 14:18:56 +0200, , install dependency add pkg config debian ubuntu package present minimal container message avi scylladb.com,,
414,499368c9ac441c0a1d82f82432710026783c46e7,enny Halevy <bhalevy@scylladb.com>, 2020-12-15 08:37:06 +0200, ," log do_log prevent garbling due context switch commit printing ostream changed issuing character std endl flush ostream every line lose log message case program crashed however line std endl misformatted context switch copying line output issuing std endl causing output look like  info 2020 59,864 shard repair repair 131 257 range uuid c0f9d041 f1a5 4b40 a2bb 3973bd0a70f7 shard keyspace system_auth table role role_members range info 2020 59,864 shard repair repair 257 range uuid c0f9d041 f1a5 4b40 a2bb 3973bd0a70f7 shard keyspace system_auth table role role_members range  change restores character add explicit flush printing line note could use std synchronize output follows  std osyncstream _out buf.view std endl  signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com",,
415,3b8903d406da5a6e76490056ba657ad86d889559,leb Natapov <gleb@scylladb.com>, 2020-12-14 12:40:42 +0200, , coroutines check preemption flag co_await co_await never check preemption easy create long even infinity loop awaited future never defer checked loop patch add preemption check co_await loop preemptable message scylladb.com,,
416,d48580e24912686007e497722de7dd71d345d024,ravis Downs <travis.downs@vectorized.io>, 2020-12-11 11:25:07 -0800, , memory consider span freelist object small pool diagnostics object removed main small pool freelist i.e small_pool _free considered diagnostics hence showed used object instead iterate partially free span tracked pool include object accurate used free memory count fix 840 signed travis travis.downs vectorized.io reviewed botond bdenes scylladb.com message travis.downs vectorized.io,,
417,aab01153028c064df72e8fc6ee38b1e09a36a9d0,vi Kivity <avi@scylladb.com>, 2020-12-13 14:19:12 +0200, , util avoid gcc uninitialized error move constructor direct mode use bytewise copy allowed since check copy hole padding object gcc notice complains fix silencing warning code section store user function move constructor copy byte even unused one copying small fixed size buffer faster variable sized buffer store used size buffer anywhere message avi scylladb.com fix 845,,
418,2de43eb6bffb5d9d98a870885c1a635750dd648e,ravis Downs <travis.downs@vectorized.io>, 2020-12-10 13:29:47 -0800,838, core show span free size correctly diagnostics free column memory diagnostics currently show total size free size fix show free size fix 838 signed travis travis.downs vectorized.io reviewed botond bdenes scylladb.com message travis.downs vectorized.io,,
419,800f87a4398c5e4a529f00c872ab3e1aa548d96c,vi Kivity <avi@scylladb.com>, 2020-12-10 18:20:15 +0200, , merge queue share capacity pavel  current implementation queue shard two kind real a.k.a coordinator submitting somwhere else corner case shard coordinator scheduler effectively dispatch large request case coordinator become overloaded shard may large latency due context switch coordinator design also well suited cancellable brings need propagate cancellation event shard set replaces idea submitting request shard need shard borrow virtual capacity shared pool called group shard start queue request queue turn attached group group private share full disk capacity default one group allocated numa node amount configurable option queue need dispatch request grab capacity group request completes give capacity back grab release cycle done straighforward atomic inc dec pair would result unfairness shard constantly lose race capacity counter big enough instead group implement sliding window algo two rover head tail queue get return resource incrementing tail get head release get make tail overrun head queue wait dispatching request waiting head overrun tail unfair spinlock queue treat rover ticket lock waiting head overrun value tail turned grabbing capacity thus queue line threshold congested queue polling head rover without work may put reactor interrupt mode next poll may happen late wakeup timer armed time wait estimated expected disk speed serf hint reactor woken poller still check head value previous version wait term timing estimated time capacity released submitted new request without checking head compensate potential error real request latency measured waiting time scaled real latency differred expected interesting effect amazon disk disk collect written data internal cache sometimes flush background causing rest stall hundreeds millisecond scaler code detected caused queue wait longer time submitting new request allowed scheduler bloat disk slow request thus chance push higher prio request timely manner problem appeared background flush finished took time scaler pick change reduce scale multipler end day whole scaler effort made average request latency better without queue turned idle mode time disk background flush thus badly affecting maximum latency rover based waiting keep maximum latency bound side effect release group capacity happens later real disk finish request make request latency bigger time based waiting checking head rover poller allows reactor sleep maybe _full_ request expected time even though part sleep already passed also increase average latency rare seems well amortized local completing request aws disk background flush start reactor remains active longer perod queue think request complete say 50us reality disk may get back normal work ten millisecond test unit dev tester iotune scylla lwt  group 5.1 http github.com xemul seastar commits cli introduce num group option reactor add debug print resource relax num_io_queues calculation allocate one group reactor dont guess num queue use numa node size reactor relax per reactor queue collection reactor relax index mapping get rid coordinator fair_queue group based resource limiting fair_group introduce rover ioq prepare ioq poller wakeup test fair_queue_perf switch shared group reactor create group index attach queue io_ fair_queue introduce io_group fair_group push constructor fair_queue shuffle dispatch charge codeflow resource wrap per device info test carry io_queue config around perf test fair_queue remove non config constructor switch 512 block size add operator ...,,
420,1c11f703325f8745a2126b015d911b104641fc26,avel Emelyanov <xemul@scylladb.com>, 2020-09-01 13:55:56 +0300, , cli introduce num group option deprecate num queue one signed pavel emelyanov xemul scylladb.com,,
421,72512172b5b9dfd3938a8c7d1a4553f4c1e3df80,avel Emelyanov <xemul@scylladb.com>, 2020-07-03 18:26:22 +0300, , reactor add debug print print queue attached group used constant signed pavel emelyanov xemul scylladb.com,,
422,75d900aa34cb5e4d16fda41b4fba7d1e0e38ecd7,avel Emelyanov <xemul@scylladb.com>, 2020-08-10 19:11:09 +0300, , resource relax num_io_queues calculation num_io_queues right depend disk disk simplify part signed pavel emelyanov xemul scylladb.com,,
423,a0b6b1f4e34730a1efaa915b51249d854f5b78e5,avel Emelyanov <xemul@scylladb.com>, 2020-08-10 15:10:30 +0300, , allocate one group patch group everything ready several signed pavel emelyanov xemul scylladb.com,,
424,5998c420752e79bab7658228f662a6352aa632e5,avel Emelyanov <xemul@scylladb.com>, 2020-07-03 15:58:42 +0300, , reactor dont guess num queue use numa node size reactor try guess optimal amount queue num queue effectively configures number group may system wide group better per numa node default signed pavel emelyanov xemul scylladb.com,,
425,164762b5dc7c26ef035fd87b083aa82115696c61,avel Emelyanov <xemul@scylladb.com>, 2020-07-02 22:10:02 +0300, , reactor relax per reactor queue collection reactor two collection queue map get queue device list queue coordinate nowadays collection coinside merge together signed pavel emelyanov xemul scylladb.com,,
426,37baa6df53fffb2d0dc1973c50bd98702ee19f88,avel Emelyanov <xemul@scylladb.com>, 2020-08-10 15:06:05 +0300, , reactor relax index mapping group concept need level indexing assign shard queue one enough shard group one signed pavel emelyanov xemul scylladb.com,,
427,2839b82ce062745f320d2b82d707fa04111b50c5,avel Emelyanov <xemul@scylladb.com>, 2020-08-10 14:54:08 +0300, , get rid coordinator queue allocated per shard scheduling happens group scope note point regardless configuration one system wide group everyone signed pavel emelyanov xemul scylladb.com,,
428,258e1904b473cd6944db7e5ed597213a711ca909,avel Emelyanov <xemul@scylladb.com>, 2020-08-14 17:27:29 +0300, , fair_queue group based resource limiting idea scheduling resembles sliding window algo group two rover tail head distance available capacity queue need dispatch move tail ahead thus decreasing remaining capacity request completes increment head grabbing capacity tail checked head overrun one mean queue dispatched gap head tail reversed one denodes capacity demand next dispatch possible capacity back waiting head run ahead tail work like dumb spinlock queue lose race continue spinning rover long instead queue wait head overrun local value tail needed capacity taken queue continues dispatching line order shift tail counter similar ticket lock make spin lock fair sometimes queue overflow capacity pending state request waiting finish try dispatch request different ticket case pending rearmed scratch another thing remember polling head rover needed value may cause big delay reactor interrupt mode wake queue arm highres timer time point estimated fair ticket value pace value turn reciprocal disk speed byte sec ops sec highres timer poller poller likely dispatch request task quota expires timer signed pavel emelyanov xemul scylladb.com,,
429,9b0f70ed93e650e8ea7aeb66f357cb83a66084c8,avel Emelyanov <xemul@scylladb.com>, 2020-08-12 11:33:00 +0300, , fair_group introduce rover rover monotonically increasing ticket overflow possible tried avoided instead two rover possible get either ahead provided ran away far rover suffer overflow problem mention patch switched ticket 512 block accounting signed pavel emelyanov xemul scylladb.com,,
430,96562959be33461816983ac9daaec8c837aaee2b,avel Emelyanov <xemul@scylladb.com>, 2020-08-19 18:25:08 +0300, , ioq prepare ioq poller wakeup currently queue poller care reactor enter interrupt mode need polled either new request come happens non interrupt previous request completes wake reactor mode group situation different queue may decide dispatch right shared capacity exchausted try dispatch time later time later connected submitting new completing old request local shard need way wake reactor sleep pure queue need option already possible lowres timer poller borrow wakeup timer signed pavel emelyanov xemul scylladb.com,,
431,55ec4b667f38d79a486ab313f1e9a1d335d9e2a7,avel Emelyanov <xemul@scylladb.com>, 2020-08-05 16:38:54 +0300, , test fair_queue_perf switch shared group queue strictly per shard make sense measure performance submitting request foreing queue instead compare performance queue private group node wide group shared shard queue signed pavel emelyanov xemul scylladb.com,,
432,e21a9a9318b45a39e5108c13a3df31ea0232f43e,avel Emelyanov <xemul@scylladb.com>, 2020-08-03 21:54:28 +0300, , reactor create group index attach queue previous patch io_queue reactor allocated new io_group goal grouping relation allocate group demand based group assigned resources.cc resources.cc tie shard single node wide group also change next patch patch goal throw queue group assignment logic game signed pavel emelyanov xemul scylladb.com,,
433,8390e320414f68fc37b803a4e32a3d73dcdc7030,avel Emelyanov <xemul@scylladb.com>, 2020-07-02 15:04:53 +0300, , io_ fair_queue introduce io_group fair_group push constructor io_group fair_groups object shared io_queue fair_queue respectively io_group referenced via std shared_ptr io_queue fair_group sitting inside fair_group turn referenced reference directly fair_groups configured struct config like respective _queues temporarily create individual io_group allocated io_queue test reactor signed pavel emelyanov xemul scylladb.com,,
434,19b23802451e8e3cb64356ad8501ef8f33d1ede5,avel Emelyanov <xemul@scylladb.com>, 2020-07-02 15:38:43 +0300, , fair_queue shuffle dispatch charge codeflow current dispatching logic have_resources req dequeue_request req req  next patch heaviness next request needed have_resources callback change codeflow look like true request req break  dequeue_request req dispatch req  actually need know size request checking available capacity needed group current code dispatch request large enough request.size resolved separately patched behavior signed pavel emelyanov xemul scylladb.com,,
435,8aa3da246f8618d4e2edbfa1bd32166efd73aeef,avel Emelyanov <xemul@scylladb.com>, 2020-07-02 14:32:00 +0300, , resource wrap per device info layout per device related object going become complex group order manage allocation time handy wrapping struct signed pavel emelyanov xemul scylladb.com,,
436,f43fd7ed54e3b6956324a352ba110e20a0e8a831,avel Emelyanov <xemul@scylladb.com>, 2020-07-03 18:14:29 +0300, , test carry io_queue config around perf test configs required class per shard object construct place needed signed pavel emelyanov xemul scylladb.com,,
437,29419b08feb19647b7377273c0ca602217300191,avel Emelyanov <xemul@scylladb.com>, 2020-07-02 13:50:31 +0300, , fair_queue remove non config constructor configuration capacity change group prepare reducind fair_queue constructing option single constructor config signed pavel emelyanov xemul scylladb.com,,
438,231fc45f4786dc90ed265135f9af63e15c3705c0,avel Emelyanov <xemul@scylladb.com>, 2020-08-13 10:17:37 +0300, , switch 512 block size currently ticket dimentional weight size size accounted byte multiplied value depends write read throughput relation time magic constant 128. result summing ticket e.g 256k request may overflow bit counter quite fast easily nowadays big problem overflow happens disk capacity set unlimited group approach fast overflow cause problem fairness signed pavel emelyanov xemul scylladb.com,,
439,1c80408b448f856039513b9ccbd8262a1e924adc,avel Emelyanov <xemul@scylladb.com>, 2020-09-01 12:32:14 +0300, , add operator straightforward equality comparator signed pavel emelyanov xemul scylladb.com,,
440,6431d185524ba4e44bbd0a60c7486b98e86a8755,avel Emelyanov <xemul@scylladb.com>, 2020-07-02 18:48:43 +0300, , mark noexcept method signed pavel emelyanov xemul scylladb.com,,
441,623522ba639ac4b8a104eba1f2b5d72f38678d15,avel Emelyanov <xemul@scylladb.com>, 2020-08-11 09:42:54 +0300, , tester count iop io_tester already report throughput since run workload fixed size easy get iop however explicit iop number make bit simpler note queue starvation signed pavel emelyanov xemul scylladb.com,,
442,afafbaa8d43627fffa00541ac26a31904d0268ab,enny Halevy <bhalevy@scylladb.com>, 2020-12-08 16:53:46 +0200, , file make_file_impl determine blockdev using st_mode use blkgetsize ioctl introduced  avoid fstat might block since calling fstat way since  call futurized block reactor test file_io dev signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
443,8b400c7b45a92f6ea3eb6493fe3ef217d8874666,enny Halevy <bhalevy@scylladb.com>, 2020-12-01 08:28:49 +0200, , read_dma allow iovec cross _logical_size currently read_dma trim iov vector beyond _logical_size causing short read file length unaligned allow iovec covering eof extend beyond offset aligned add unit test reproduces case pass fix test unit dev signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
444,6cf0d550f04778290cd7d4ea485b9cee8416ded9,vi Kivity <avi@scylladb.com>, 2020-11-29 18:04:48 +0200, , merge extend per task queue timing statistic pavel  task queue life time reactor look like created   activating active running waiting   get idea going scheduler prometheus counter time spent running state get full picture needed know time spent waiting something also time spent waiting cpu time called starvation set extra knowledge come cost two duration one timestamp task_queue problem number task queue limited plus call reactor activate although activating active state differ code seem useful separate accounting test scylla lwt stress test  sched timing http github.com xemul seastar scheduler count total starvation time task queue scheduler count total waiting time task queue scheduler add helper pop next task queue execution,,
445,36621afcabec8c380e2974a7f1a8e368fa8520eb,avel Emelyanov <xemul@scylladb.com>, 2020-11-27 19:25:00 +0300, , scheduler count total starvation time task queue starvation time time queue need cpu get one reason startvation start scheduler pick queue run task activate called queue starvation end queue selected execition time useful finding reason increased latency comparing waittime starvetime point whether workload cpu bound _ts member used note deactivation time since queue wating starving state time field reused note starvation start time signed pavel emelyanov xemul scylladb.com,,
446,fd10200153e5bf1be9c03eae55276581d14a3e24,avel Emelyanov <xemul@scylladb.com>, 2020-11-27 19:21:23 +0300, , scheduler count total waiting time task queue wait time time queue spent without task start queue active list end activate called new _ts member task queue named like reused next patch signed pavel emelyanov xemul scylladb.com,,
447,161a5b452f77293fda3e487e40215b8146d1577f,avel Emelyanov <xemul@scylladb.com>, 2020-11-27 19:08:21 +0300, , scheduler add helper pop next task queue execution mainly make next patch bit nicer signed pavel emelyanov xemul scylladb.com,,
448,33a2831237d9cb2f6ca0110859c1fc953d3857cd,alle Wilund <calle@scylladb.com>, 2020-11-10 13:57:42 +0000,823, tls_test create test cert build time ref 823 fix 823 followup fast fix 823. instead keeping binary blob create test cert build add cmake guck set custom target deps change test pick cert executable folder remove checked certificate cmake generation script generic required simply allow use purpose add openssl dependency build part could use gnutls versatile openssl cert gen know gnutls cli utils called platform differs safer openssl _always_ named openssl message calle scylladb.com,,
449,0e79cb64d805fbbb5cb23ce6715a21493431df41,un He <jun.he@arm.com>, 2020-11-25 17:45:08 +0800, , cook upgrade hwloc version commit introduced code change depends hwloc 2.2.0 version provided fedora 31. distros user need build source update version requirement cook recipe http github.com scylladb seastar commit change signed jun jun.he arm.com message jun.he arm.com,,
450,763ea7cf17d1e36add262c36d25717de4dcfcec0,otond Dnes <bdenes@scylladb.com>, 2020-11-17 12:45:57 +0200, , memory rate limit diagnostics message chosen rate limit allows enabling diagnostics dumping failed allocation without risking flooding log message signed botond bdenes scylladb.com message bdenes scylladb.com,,
451,9e8622d37d40baa84b815e8d964b6576bfea01c2,otond Dnes <bdenes@scylladb.com>, 2020-11-17 12:45:56 +0200, , util log add rate limited version writer version log signed botond bdenes scylladb.com message bdenes scylladb.com,,
452,010fb0df1e6754f489e9dbf0116445219d8edc62,vi Kivity <avi@scylladb.com>, 2020-11-19 20:54:53 +0200, , build clean failed fconcepts detection cmake code set fconcepts order see flag available expected clang leaf every following test becomes poisoned since fail unsupported flag break membarrier test follows result membarrier used even available okay x86 fallback even fallback pretty bad large machine aarch64 fallback seastar program spin even nothing fix clearing flag test order change little possible test succeeded set message avi scylladb.com,,
453,27e82073981396043e993a452e6feaa2908271e0,enny Halevy <bhalevy@scylladb.com>, 2020-11-17 14:38:48 +0200, , logger issue std endl output stream rather printing character output stream issue std endl flush stream every line lose last buffer process terminates prematurely without flushing ostream note printing syslog syslog require newline test unit dev log_buf_test default log level debug log syslog signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
454,f57cd33c962dbcf3c05db92abf1f1db85f693029,otond Dnes <bdenes@scylladb.com>, 2020-11-17 11:00:55 +0200, , util log improve discoverability log rate limiting mentioning description logger class signed botond bdenes scylladb.com message bdenes scylladb.com,,
455,c861dbfbbf72c7eeeeb126c93d6b1a84976fc305,vi Kivity <avi@scylladb.com>, 2020-11-16 16:42:43 +0200, , merge memory allow configuring dump memory diagnostics allocation failure botond  series continuing work started 6973080c improve memory diagnostics report dumped allocation failure series allows user configure dump report specifically kind allocation failure dump currently following option supported none report dumped allocation failure critical dump report critical allocation fails dump report allocation failure series also provides small raii class mark scope contain critical allocation also mark seastar code base critical allocation whose failure application tolerate additionally application add part generated diagnostics report note seastar_memory logger set debug level report dumped allocation regardless configuration introduced series preserve previous behaviour  oom mem diag dump part2 v3.1 http github.com denesb seastar memory add method manually generate diagnostics report memory allow application add part diagnostics report memory print main stats separate line reactor allow configuring memory diagnostics dump command line config file memory allow configuring dump memory diagnostics report reactor add_urgent_task mark critical allocation scope util introduce util fixed doxygen comment memory document existing diagnostics debugging feature memory use early return memory extract,,
456,486c4033dbadf046b535b6a67685292171227d20,otond Dnes <bdenes@scylladb.com>, 2020-11-10 11:09:05 +0200, , memory add method manually generate diagnostics report,,
457,5f94cbb39b757b19e62af28151a5e5b0d1c2841f,otond Dnes <bdenes@scylladb.com>, 2020-11-10 11:08:36 +0200, , memory allow application add part diagnostics report,,
458,2de78087bfa2abeffb555c5606eaa4d75a42658d,otond Dnes <bdenes@scylladb.com>, 2020-11-10 11:02:26 +0200, , memory print main stats separate line free used total stats also break code three line easier readability,,
459,9295aa249cd3e71857263d19e3b4f0eaa5821376,otond Dnes <bdenes@scylladb.com>, 2020-11-03 16:42:40 +0200, , reactor allow configuring memory diagnostics dump command line config file,,
460,6b56b67594efd5977946d7cb3c84a032ab2310f4,otond Dnes <bdenes@scylladb.com>, 2020-11-03 16:38:52 +0200, , memory allow configuring dump memory diagnostics report configured based kind allocation failure currently three option none critical  critical allocation marked entire scope provided patch note preserve pre existing behaviour seastar_logger set log level debug report dumped regardless configuration,,
461,252367e99fd518bc545867be3087197eb967a15d,otond Dnes <bdenes@scylladb.com>, 2020-11-13 14:29:18 +0200, , reactor add_urgent_task mark critical allocation scope,,
462,6919f48382244f65cf65e2d83d673c4a5175570b,otond Dnes <bdenes@scylladb.com>, 2020-11-13 11:05:10 +0200, , util introduce file contains allows marking scope containing critical allocation generalization current fact replaces deprecating former reason generalizing want attach mechanic critical allocation disabling allocation failure injection ,,
463,08b76e4b583550c4ce9224c78d902dc6ba415fc9,akuya ASADA <syuu@scylladb.com>, 2020-11-09 19:14:59 +0900,826, perftune.py support kvm clock tune clock kvm guest optimal clocksource kvm clock instead tsc add kvm another architecture set preferred clocksource kvm clock also needed amazon nitro vms since kvm based related scylladb scylla 7444 close 826 reviewed vlad zolotarov vladz scylladb.com,,
464,11f51329272ad790e9eac4006d120499ff263e2c,otond Dnes <bdenes@scylladb.com>, 2020-11-13 10:08:09 +0200, , execution_stage add get_stats allows getting combined stats per scheduling group execution stage signed botond bdenes scylladb.com message bdenes scylladb.com,,
465,8ef2bdbc1c56e14f07c7e1a3fbf465a7956a9d7e,otond Dnes <bdenes@scylladb.com>, 2020-11-13 10:32:39 +0200, , util fixed doxygen comment namely fix code block commend fix comment marker member well on_alloc_point doxygen recognizes documentation comment add missing comment on_alloc_point  mark internal,,
466,ce4f8d363fc4fc27bfdef9053d08259fbb29467c,otond Dnes <bdenes@scylladb.com>, 2020-11-03 15:43:14 +0200, , memory document existing diagnostics debugging feature although individual class method documented currently hard discover summary individual feature various knob belongs patch add exactly,,
467,1d22db181bcfda590a84ac118ce978257dafb841,otond Dnes <bdenes@scylladb.com>, 2020-09-30 15:06:52 +0300, , memory use early return make code easy understand indentation facilitate patching,,
468,d31ce8d7bcb7aa6c10aa8260d892e71397c1df99,otond Dnes <bdenes@scylladb.com>, 2020-09-30 14:58:42 +0300, , memory extract piece code get complex extract function,,
469,043ecec732b2109a6c618641c0b74df0aa1ece09,enny Halevy <bhalevy@scylladb.com>, 2020-11-11 14:06:51 +0200, , semaphore explicitly use lambda capture fix clang 11.0.0 warning include seastar core semaphore.hh 121 error lambda capture used werror wunused lambda capture signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
470,b7a2e18ff3022a3fa0a655e90e4176dd2ab31257,enny Halevy <bhalevy@scylladb.com>, 2020-11-05 16:56:20 +0200, , configure add enable disable debug shared ptr option signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
471,af37718d219df1db035929f2fc3247feda8764bb,enny Halevy <bhalevy@scylladb.com>, 2020-11-05 16:56:19 +0200, , cmake add also dev mode controlled application default enables debug sanitize signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
472,dbadfa784e2bba6ea14695ce5bc5a166c685391e,alle Wilund <calle@scylladb.com>, 2020-11-09 19:32:41 +0000,823, tls_test update certificate use sha256 fix 823 gnutls 3.6 fedora33 doe allow rsa sha1 cert quick fix update cert rsa sha256 long term solution generate cert build cmake instead keeping bin blob message calle scylladb.com,,
473,2214821836e3977cd4011fa43c2ceb8c82b0f0e5,otond Dnes <bdenes@scylladb.com>, 2020-10-30 08:05:24 +0200, , logger allow applying rate limit log message sometimes one want dump detailed diagnostics report error help diagnosing underlying problem logging info problematic report big error come burst simply happen often completely flooding log currently standard workaround log debug level user set log level debug interested diagnostics also problematic help diagnosing problem already happened reproducing might hard impossible prone log flooding  patch present solution problem flexible way rate limit log message rate limiter shared multiple message across multiple logger ensures given interval least one message sharing rate limiter logged might seem overly restrictive diagnostics dump use case developed perfectly reasonable typically one message signed botond bdenes scylladb.com message bdenes scylladb.com,,
474,c231ab05e406d24146ae79ad48624bef3a799908,vi Kivity <avi@scylladb.com>, 2020-11-09 13:38:57 +0200,430, merge handle cpu attached numa node pavel  hwloc 2.2.0 newer feature empty numa node longer reported empty available memory older hwloc reported node though seastar app started hardware configured assembled empty node seastar crash assertion inside numa node box offtopic probably node somehow mapped empty ram bank propose fixed software info matter http github.com open mpi hwloc issue 430 test iotune scylla unit dev  empty numa node fix http github.com xemul seastar cli make orphan cpu auto assignment configurable resource log numa assignment resource distribute orphan among node resource collect orphan assigned later resource map cpu node advance,,
475,7efc43ef7630b6146ac2129ede7e058d4b778d9f,avel Emelyanov <xemul@scylladb.com>, 2020-11-06 14:09:30 +0300, , cli make orphan cpu auto assignment configurable nice assign cpu remote numa node begind curtain user ability disable behavior signed pavel emelyanov xemul scylladb.com,,
476,9f8f1e11fd1b2089c9f2e92d5ef1cf39bb8c6aa4,avel Emelyanov <xemul@scylladb.com>, 2020-11-04 17:47:47 +0300, , resource log numa assignment debug level spoil log chance find going signed pavel emelyanov xemul scylladb.com,,
477,a0cfdd690ba2ddab3348ca912e2e529ef5da1ddd,avel Emelyanov <xemul@scylladb.com>, 2020-11-04 17:13:01 +0300, , resource distribute orphan among node reported hwloc local numa node better assigned random node rather crash assignment group orphan scatter group node evenly grouping done many way goal even distribution hand seems worth keeping sharing cache node grouping logic try group cache sequentally seen cover available node even enough scatter one one situation happens warn user log hardware configured assembled optimal way signed pavel emelyanov xemul scylladb.com,,
478,f525f3e546bbc04902da55a57e33a021581ccc92,avel Emelyanov <xemul@scylladb.com>, 2020-11-04 16:03:28 +0300, , resource collect orphan assigned later sometimes processing unit hwloc term may attached numa node memory board e.g respective ram bank empty case newer 2.2.0 hwloc doe report node seastar hit respective assertion older hwloc reported empty node fix need distribute node called orphan patch among existing node needed collect mapping node next patch make distribution signed pavel emelyanov xemul scylladb.com,,
479,c6e8c80ad5fdef3dba089ea195835408ac7549a1,avel Emelyanov <xemul@scylladb.com>, 2020-11-04 16:00:43 +0300, , resource map cpu node advance distributing memory assigning queue seastar need know cpu numa_node mapping time value needed calculated hwloc better keep mapping advance use later crucial patch signed pavel emelyanov xemul scylladb.com,,
480,bdea71af7e602d6a14facbc292b985906a8f9bfb,vi Kivity <avi@scylladb.com>, 2020-11-05 18:48:41 +0200, , memory fix early initialization check whether running reactor thread order see need dispatch libc one case fails case static constructor performs memory allocation point reactor memory system initialized yet false original libc memory function looked yet since operation also happen static constructor scheduled one triggering problem fix using instead similar realloc doe reason message avi scylladb.com,,
481,c0d1a7090e27f1badc822937dcd3adcc8ac10c2d,vi Kivity <avi@scylladb.com>, 2020-11-05 18:52:16 +0200, , merge make semaphore related function noexcept benny  series make semaphore related method constructor noexcept particular exception factory defined seastar made noexcept semaphore broken hardened handle exception broken method case throw test unit dev semaphore debug  tag semaphore noexcept github.com bhalevy seastar mark function noexcept move exception factory function line semaphore broken make noexcept semaphore use functor wait list expiry_handler semaphore make noexcept semaphore mark noexcept semaphore move exception factory code line semaphore mark wait list entry noexcept semaphore mark trivial method noexcept,,
482,a62a80ba1d09e52c2487d738768104da7e492128,vi Kivity <avi@scylladb.com>, 2020-11-01 00:34:23 +0200, , thread increase stack size debug mode debug mode requires large amount stack since sanitizer disables stack slot reuse insert padding stack variable doe inline already recognized 7d5599227ca2 allocate stack asan optimization sanitize mode observed recently debug mode aarch64 prevent stack overflow increase stack size debug mode message avi scylladb.com,,
483,57b758c2f9322f329e81b3c7af116f23d87cad15,akuya ASADA <syuu@scylladb.com>, 2020-10-29 12:31:21 +0900,822, http handle match rule correctly handle match rule correctly need return handler unconditionally url added rule fix 821 close 822,,
484,e17fe9463a2be49c5e6b3c03443d3eaf83b67f57,akuya ASADA <syuu@scylladb.com>, 2020-10-28 21:40:38 +0900,820, http add missing http method seastar httpd currently doe support support http method head option able handle apps add unsupported method head option trace connect let apps handle close 820,,
485,d2c0df06d1fd92734d093cea04a13f820c0dbd0a,vi Kivity <avi@scylladb.com>, 2020-10-19 14:19:48 +0300, , memory remove unused lambda capture clang complains build fails message avi scylladb.com,,
486,067681b70172ab4a6676431b623e8bd0caab6dc8,adav Har'El <nyh@scylladb.com>, 2020-10-26 10:17:28 +0200, , support seastar allocator seastar alien used merged patch set elazar leibovich change avi kivity currently seastar allocator seastar alien mutually exclusive reason seastar allocator doe support allocating alien thread allocation seastar shard allowed since seastar allocator thread safe alien thread touch memory arena patchset solves problem falling back libc allocator called non seastar thread calling libc free allocation originally allocated libc allocator memory hashed statistic alien thread memory test using glibc allocator alien thread memory track statistic allocation free memory cpu_pages resize must called initialize memory static function memory fast path local free memory use system allocator alien thread memory alien thread call cpu_pages dtor memory identify reactor thread variable memory search overrided memory function dlsym memory enable testing whether address seastar allocated,,
487,04c6d8ad39fb61b709073e6145e6d0362e851df2,enny Halevy <bhalevy@scylladb.com>, 2020-10-19 16:18:35 +0300, , mark function noexcept respective semaphore interface marked noexcept given nothrow constructible constructor method marked noexcept signed benny halevy bhalevy scylladb.com,,
488,6cf67009702ed171b1dffae7c0a6f1a383e93947,enny Halevy <bhalevy@scylladb.com>, 2020-10-19 15:28:56 +0300, , move exception factory function line error path need implemented header file also mark noexcept nothrow default constructible signed benny halevy bhalevy scylladb.com,,
489,d4fcfc44c099ade307abb135c9e9c133fdd8c8aa,enny Halevy <bhalevy@scylladb.com>, 2020-10-19 13:54:03 +0300, , semaphore broken make noexcept theoretically broken may throw simplify error handling catch exception turn error generic non throwing one mark broken method noexcept signed benny halevy bhalevy scylladb.com,,
490,7cb8b49aa224888a5b38094a410073f87e7a4dfc,enny Halevy <bhalevy@scylladb.com>, 2020-10-25 16:16:13 +0200, , semaphore use functor wait list expiry_handler allows instantiate single semaphore base class rather two one semaphore one expiry_handler constructing wait list becomes noexcept based std function nothrow move constructible note theoretically timeout may throw simplify error handling expiry handler function catch exception turn error generic non throwing one mark returned function noexcept signed benny halevy bhalevy scylladb.com,,
491,a5cff7bb9ecbc2c8e721aacb7b853a77f2a0c1d0,enny Halevy <bhalevy@scylladb.com>, 2020-10-19 12:16:20 +0300, , semaphore make noexcept catch exception formatting exception convert static message signed benny halevy bhalevy scylladb.com,,
492,1bd1733a5415bbfd90b54be650317e87d36ca713,enny Halevy <bhalevy@scylladb.com>, 2020-10-19 11:55:27 +0300, , semaphore mark noexcept throw respective method marked noexcept well signed benny halevy bhalevy scylladb.com,,
493,cb22865e39c0440b0d1c0c64f1bad2b02857fcb9,enny Halevy <bhalevy@scylladb.com>, 2020-10-19 12:09:43 +0300, , semaphore move exception factory code line error handling path reason keep defined header file signed benny halevy bhalevy scylladb.com,,
494,8c03cea2780d08a89fadf796fda8ff9e068aff74,enny Halevy <bhalevy@scylladb.com>, 2020-10-19 11:40:54 +0300, , semaphore mark wait list entry noexcept promise nothrow move constructible also promise set_value noexcept mark basic_semaphore signal noexcept well signed benny halevy bhalevy scylladb.com,,
495,f76aa5ce1a3ed8dc525fdaefb63761b5ed86107b,enny Halevy <bhalevy@scylladb.com>, 2020-10-19 11:40:54 +0300, , semaphore mark trivial method noexcept semaphore method accessing trivial type noexcept addition expiring_fifo method noexcept mark method using noexcept signed benny halevy bhalevy scylladb.com,,
496,92c639117d9f32f0b5f23b05b1ca14c39e1df8a7,vi Kivity <avi@scylladb.com>, 2020-10-25 12:24:53 +0200, , merge make timer related function noexcept benny  series make timer related function noexcept needed mark infrastructure function noexcept bottom bitset iter timer_set reactor queue enable add _timer test unit dev scylla build dev  tag timer noexcept github.com bhalevy seastar manual_clock mark function noexcept reactor mark function using complete_timers noexcept reactor complete_timers mark conditionally noexcept timer add rearm_periodic timer mark arm function noexcept reactor add_timer mark noexcept reactor enable_timer mark noexcept reactor queue_timer mark noexcept timer set mark function using bitsets intrusive list noexcept timer_set mark trivial function noexcept bitset iter define unsigned long long bitset iter define unsigned long long bitset iter mark function noexcept,,
497,627775dfa94bb4fa8e277437239b33a06dedf946,un He <jun.he@arm.com>, 2020-10-23 10:45:53 +0800, , script update dependecy package centos7 change signed jun jun.he arm.com message jun.he arm.com,,
498,5c3e4cd7f61d17a6347bea96edc81e1b184f13d6,efu Chai <tchaikov@gmail.com>, 2020-10-20 12:16:07 +0800, , tutorial add linebreak section add linebreak section add mising end code block add linebreak list signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
499,583497223e9945042155a4dc319387af87ce6726,efu Chai <tchaikov@gmail.com>, 2020-10-20 12:16:06 +0800, , doc add nav second last chap title dict chap_num based index based use tell index valid change add next link chapter signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
500,af128d2a19637a2570a6d7fa9deb7cbd14a3c102,efu Chai <tchaikov@gmail.com>, 2020-10-14 22:03:24 +0800, , doc add nav bar bottom also signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
501,a9d006a12d2b4c2eba44b0109c6f18597d16c420,efu Chai <tchaikov@gmail.com>, 2020-10-14 22:03:23 +0800, , doc rename add_prologue add_nav_to_body reused add navigation bar bottom signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
502,6bd9c66e82e8c185eac871e67b3257ec2932035d,enny Halevy <bhalevy@scylladb.com>, 2020-10-19 19:28:34 +0300, , manual_clock mark function noexcept dependency marked noexcept signed benny halevy bhalevy scylladb.com,,
503,0e5c429de1b9c32eb52aefa2aeb3a1c11e555a75,enny Halevy <bhalevy@scylladb.com>, 2020-10-19 19:19:30 +0300, , reactor mark function using complete_timers noexcept lambda pas noexcept signed benny halevy bhalevy scylladb.com,,
504,1369bf44f153b37ab90b65e411090dcb85727bf2,enny Halevy <bhalevy@scylladb.com>, 2020-10-19 19:16:14 +0300, , reactor complete_timers mark conditionally noexcept timer_set infrastructure marked noexcept enable_fn may throw signed benny halevy bhalevy scylladb.com,,
505,8e76fc4558a68ce6cbc9225e03bd8971c13a12ae,enny Halevy <bhalevy@scylladb.com>, 2020-10-19 19:12:13 +0300, , timer add rearm_periodic similar rearm extending arm_periodic signed benny halevy bhalevy scylladb.com,,
506,805efce33c0fc8d9fcfbe269560f714fcfe9c932,enny Halevy <bhalevy@scylladb.com>, 2020-10-19 19:10:03 +0300, , timer mark arm function noexcept queue_timer add_timer marked noexcept signed benny halevy bhalevy scylladb.com,,
507,697421823c8d090e90ed78bdcaf8066da235b55b,enny Halevy <bhalevy@scylladb.com>, 2020-10-19 19:04:41 +0300, , reactor add_timer mark noexcept queue_timer enable_timer noexcept signed benny halevy bhalevy scylladb.com,,
508,8b86ad492545ddbd573803f3ec41ce8f99279b88,enny Halevy <bhalevy@scylladb.com>, 2020-10-19 18:57:42 +0300, , reactor enable_timer mark noexcept although call timer_settime may throw error expect erros internal error willing risk termination doe happen throw signed benny halevy bhalevy scylladb.com,,
509,0cbb278ff771e518691e47be47484b1af5d9be4e,enny Halevy <bhalevy@scylladb.com>, 2020-10-19 19:02:46 +0300, , reactor queue_timer mark noexcept timer_set insert noexcept signed benny halevy bhalevy scylladb.com,,
510,5fbd81310cfa378907717929c54a9daca0746481,enny Halevy <bhalevy@scylladb.com>, 2020-10-19 18:43:45 +0300, , timer set mark function using bitsets intrusive list noexcept bitsets function marked noexcept intrusive list operation presumed non throwing boost intrusive embeded list entry container doe need allocate insert new entry see http boost.intrusive intrusive container don allocate memory dynamically call push_back doesn lead dynamic allocation new signed benny halevy bhalevy scylladb.com,,
511,9fcb920387e6df8ccbc54cda2e413908643c87ff,enny Halevy <bhalevy@scylladb.com>, 2020-10-19 18:19:10 +0300, , timer_set mark trivial function noexcept signed benny halevy bhalevy scylladb.com,,
512,98babf310fed73bfb0521cf357b1b5e73a756937,enny Halevy <bhalevy@scylladb.com>, 2020-10-19 18:34:24 +0300, , bitset iter define unsigned long long completeness signed benny halevy bhalevy scylladb.com,,
513,e09f6d9da12e9507072cf81d72b30b0882ea79e8,enny Halevy <bhalevy@scylladb.com>, 2020-10-19 18:26:28 +0300, , bitset iter define unsigned long long missing presumingly compiler found unsigned long long long long supported architecture signed benny halevy bhalevy scylladb.com,,
514,904d9eb079948b47a777154cd3914c5df0df9b3f,enny Halevy <bhalevy@scylladb.com>, 2020-10-19 18:31:40 +0300, , bitset iter mark function noexcept either trivial based std bitset noexcept fucntions signed benny halevy bhalevy scylladb.com,,
515,1604eb57c9d7f3deb13f4da218cbeaf7f9a2d2aa,lazar Leibovich <elazarl@gmail.com>, 2019-06-21 15:12:11 +0300, , memory hashed statistic alien thread using alien thread seastar regular thread_local statistic collected different approach discussed keep record allocation statistic array alien thread record statistic bucket collecting statistic one bucket get estimate foreign thread behavior hoping collision would assure statistic work well even creating destroying many foreign thread http msg seastar dev vpmi31rnu0m cuhsdfmvbgaj avi add include thread std thread avi remove unused g_allocs friend signed elazar leibovich elazarl gmail.com,,
516,b3008b77680bf8df5a8f2130637e2cd98f091199,lazar Leibovich <elazarl@gmail.com>, 2019-02-28 23:01:53 +0200, , memory test using glibc allocator alien thread run allocation free alien thread make sure malloc statistic changed test following matrix malloc realloc malloc realloc aligned_alloc  malloc free alien  malloc alien free reactor  malloc reactor free alien signed elazar leibovich elazarl gmail.com,,
517,935c910e1cf9855ffbbb6f59f3fc13ee347018ae,lazar Leibovich <elazarl@gmail.com>, 2019-03-17 13:23:36 +0200, , memory track statistic allocation free commit maintains counter foreign malloc free differentiating local foreign free reactor foreign free signed elazar leibovich elazarl gmail.com,,
518,82ea4f8f2f620317909a124ae6f4d597c38430fe,lazar Leibovich <elazarl@gmail.com>, 2019-04-04 16:40:42 +0300, , memory cpu_pages resize must called initialize rare case one cal memory configure without memory allocation hence call cpu_pages resize cpu_pages initialize called chose add anything cpu_pages resize since path cpu_pages resize cpu_pages initialize called cpu_pages resize called cpu_pages initialize would loop indefinitely since cpu_pages nr_pages would signed elazar leibovich elazarl gmail.com,,
519,4a5d134ae3a263758eccd99792a095a038eb3889,lazar Leibovich <elazarl@gmail.com>, 2019-04-04 21:18:02 +0300, , memory static function since fast path need cpu_pages static function call cpu_pages actually succeed freeing signed elazar leibovich elazarl gmail.com,,
520,00855e4bdc91042704b73c6cd94cbc364d74e30e,lazar Leibovich <elazarl@gmail.com>, 2019-04-03 00:46:38 +0300, , memory fast path local free since free call would free local cpu wish quickly find case keep cpu local cpu_id_mask cpu local expected cpu_id value could quickly mask given pointer mask see match expected cpu_id foreign pointer expected cpu_id value would bit set condition would impossible satisfy foreign thread avi also include mem_base expected_cpu_id expand mask avoid false positive address happen cpu_id bit foreign address signed elazar leibovich elazarl gmail.com include mem_base expected_cpu_id,,
521,4d95c50886199d5b42eaa92a4095be93bd67f05e,nedil <mr395415@students.mimuw.edu.pl>, 2020-10-17 22:37:39 +0200, , wrong name used example mini tutorial probably mistake function my_future declared lated function receive used suppose simple mistake,,
522,6973080cd1045675af890f155b0fcd7308b4277c,vi Kivity <avi@scylladb.com>, 2020-10-13 15:51:07 +0300, ," merge memory improve memory diagnostics dumped allocation failure botond  format fixed sized column aligned right add additional information well also make report formatting logging likely succeed face low memory condition report generated allocation started fail patchset first part effort dump comprehensive memory diagnostics report allocation failure allowing investigation start right away without immediate need inspecting coredump future patchsets going make configurable allow application amend report application specific information example output patchset debug 2020 30,094 shard seastar_memory dumping seastar memory diagnostics used memory 1073741824 free memory total memory 1073741824 small pool objsz spansz usedobj memory unused wst   171  364 12k 138 561 20k 147 274 12k 249 16k   407 28k  252 28k 112 20k 128 12k 160 715 120k 192 16k 224 20k 19k 256 28k 20k 320 24k 23k 384 32k 30k 448 36k 35k 512 40k 39k 640 12k 48k 46k 768 12k 64k 63k 896 72k 70k 1024 1005m 1280 20k 96k 85k 1536 12k 128k 119k 1792 16k 144k 142k 2048 152k 150k 2560 20k 224k 203k 3072 12k 240k 219k 3584 28k 4096 16k 304k 300k 5120 20k 416k 390k 6144 24k 7168 28k 8192 32k 608k 592k 10240 40k 12288 48k 14336 56k 16384 64k page span index size free used span 1005m 1005m 257k 280k 280k 16k 928k 928k 32k 64k 128k 384k 384k 256k 512k     16m 16m 16m 32m 64m 128m 256m 512m     16g 32g 64g 128g 256g 512g      oom mem diag dump part1 http github.com denesb seastar memory add used span column large span section memory add unused column small pool section memory print number compact human readable way memory improve report formatting memory print log_buf memory skip small small pool memory extract reporting code separate function log logger do_log reduce allocation even log introduce log_buf memory overflow large span size variable",,
523,1cb93bc25d99017ce7c3cf5fc04c190ae6600b3e,otond Dnes <bdenes@scylladb.com>, 2020-09-29 14:03:12 +0300, , memory add used span column large span section containing amount used memory amount span total memory made,,
524,51db62a9bcb8cc827b78de947550a2718757741c,otond Dnes <bdenes@scylladb.com>, 2020-09-29 11:03:19 +0300, , memory add unused column small pool section containing amount memory unused free small pool,,
525,60fc1a883b5059fd21f05e2f4c37081b32071ffe,otond Dnes <bdenes@scylladb.com>, 2020-09-29 09:58:56 +0300, , memory print number compact human readable way convert size closest multiple use appropriate suffix e.g instead 2048 convert number closest multiple use appropriate suffix e.g 340k instead 340000 conversion try keep least digit precision e.g 3481698 converted 3481k instead however remainder highest possible used convert percentage calculated double unsigned make report compact human readable well cost losing information report supposed first step investigation acceptable,,
526,162b27fc70a5f57d72b2521c95352e9bd5d5320b,otond Dnes <bdenes@scylladb.com>, 2020-09-29 10:00:08 +0300, , memory improve report formatting use tab separate column provides nicely aligned output column reasonably small currently always small throw alignment fixed next patch,,
527,c662e4ea8ca5c711440c988e9517b6e0cda1dfef,otond Dnes <bdenes@scylladb.com>, 2020-09-28 16:33:35 +0300, , memory print log_buf use writer logger log api format message log buffer directly ensure formatting allocate important given logging right failed allocation also produce single log message contrary previous state line separate log message possibly interwoven log line make little readable report adjusted first log line explains detailed report follow report proper start next new line formatting report changed,,
528,592f72ea5b330789c791d220b59caec93521a0f6,otond Dnes <bdenes@scylladb.com>, 2020-10-01 10:02:38 +0300, , memory skip small small pool use small pool smaller free_object always empty skip,,
529,1cfbdb9d90ce30f4ba29879cae9fc94801e962d1,otond Dnes <bdenes@scylladb.com>, 2020-09-28 16:25:40 +0300, , memory extract reporting code separate function separate decision report report latter extracted separate function,,
530,1c9efcdb998e64a533cf63dff2941c1df55ef61c,otond Dnes <bdenes@scylladb.com>, 2020-10-02 16:07:16 +0300, , log logger do_log reduce allocation even use recently introduced log_buf buffer entire log message formatted backed static 8kb buffer reused call logger do_log allocation needed message size larger static buffer allow caller format message directly buffer new low level entry point introduced pass reference writer object object provided direct access underlying log buffer using patch one format entire log message completely without allocation long message size stay said 8kb note do_log still completely noexcept sink std cerr syslog might still allocate,,
531,28b412d87519f4623bb4c78dd269a5761910bff5,otond Dnes <bdenes@scylladb.com>, 2020-10-02 11:51:15 +0300, , log introduce log_buf low level component intended allow efficiently producing log message allowing entire message formatted without intermediate buffer also support using external buffer opening possibility eliminate allocation log message using static buffer log message patch introduces log_buf used next patch,,
532,4eb3c43744a43216db5b681191da0c7a46dfd8dd,otond Dnes <bdenes@scylladb.com>, 2020-10-01 09:40:30 +0300, , memory overflow large span size variable currently unsigned used store calculated large span size overflow largest size use uint64_t instead prevent,,
533,290f579f8f9dd72531194e5bd4e8a4a0a2ff4efd,enny Halevy <bhalevy@scylladb.com>, 2020-10-11 18:33:34 +0300, , map_reduce use get0 rather get avi kivity avi scylladb.com said always tuple  use futurize_invoke f.get0 side eliminating test unit dev scylla unit dev signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
534,35c255dcd39c235712681c404d2a1aa783423127,enny Halevy <bhalevy@scylladb.com>, 2020-10-11 16:39:32 +0300,7285, allow destructing file queued work problem destructing file nothing queued posix_file_impl posix_file_impl auto close file descriptor ref http github.com scylladb scylla issue 7285 test unit dev file_io debug signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
535,ebcb3aeecad769900b9377b0c59e75ee6d3b1c30,vi Kivity <avi@scylladb.com>, 2020-10-11 12:15:59 +0300, , merge map_reduce futurize_invoke reducer benny  starting need call futurize_invoke mapper return future std tuple otherwise hit following error additional unit test added series  test unit futures_test.cc 507 required include seastar core map_reduce.hh 108 warning auto seastar futurize_apply func args ... func run_test_case lambda auto auto long int lambda long int args long int deprecated use futurize_invoke varargs wdeprecated declaration 108 return futurize_apply r_ptr std move f.get ... test unit futures_test.cc 520 required include seastar core future.hh 2177 error type named type struct std invoke_result run_test_case lambda auto auto auto long int auto long int lambda std tuple long int long int long int long int 2177 using futurator futurize std invoke_result_t func args ...   test unit dev build scylla dev deprecation warning seen api 1020  tag github.com bhalevy seastar test futures_test add test map_reduce initial variant map_reduce futurize_invoke reducer map_reduce add concept requirement variant initial value,,
536,c62c4a3df9c88624a8ba3d601c7f41f50aad952c,liran Sinvani <eliransin@scylladb.com>, 2020-10-07 10:32:25 +0300, , smp service group add optional group name currently one group semaphore throw timeout exception exception message contains group indicative commit add optional name parameter smp group configuration parameter name set indicated smp group semaphore timeout exception message reason parameter optional old code using smp group validation system relying exceotion message format break test unit test dev mode,,
537,89ef430c867acdc314d6cfef60fe0a4f9d3ee236,enny Halevy <bhalevy@scylladb.com>, 2020-10-07 13:02:31 +0300, , test futures_test add test map_reduce initial variant signed benny halevy bhalevy scylladb.com,,
538,5039727d5744a67ef532011c46c5895e61086d0f,enny Halevy <bhalevy@scylladb.com>, 2020-10-05 13:27:53 +0300, , map_reduce futurize_invoke reducer starting need call futurize_invoke mapper return future std tuple otherwise hit following error compiling futures_test test case added following patch  test unit futures_test.cc 507 required include seastar core map_reduce.hh 108 warning auto seastar futurize_apply func args ... func run_test_case lambda auto auto long int lambda long int args long int deprecated use futurize_invoke varargs wdeprecated declaration 108 return futurize_apply r_ptr std move f.get ... test unit futures_test.cc 520 required include seastar core future.hh 2177 error type named type struct std invoke_result run_test_case lambda auto auto auto long int auto long int lambda std tuple long int long int long int long int 2177 using futurator futurize std invoke_result_t func args ...   signed benny halevy bhalevy scylladb.com,,
539,1f220011697614b2fd6b6366a6a40e9cc0c9140a,enny Halevy <bhalevy@scylladb.com>, 2020-10-07 12:31:57 +0300, , map_reduce add concept requirement variant initial value signed benny halevy bhalevy scylladb.com,,
540,2c4bc8d672cbc4a75e1424f69ec3adebda200ffe,vi Kivity <avi@scylladb.com>, 2020-09-29 16:30:08 +0300, , dpdk mark link_ready function override clang complains override marked humor warning sensible annoying message avi scylladb.com,,
541,1d9f131ec519f888eeb416ddbd5e7277ed1120c3,vi Kivity <avi@scylladb.com>, 2020-10-06 14:41:12 +0300, , merge sharded make start stop invoke_on method noexcept benny  series make sharded service api noexcept particular constructor start stop invoke_on method test unit dev  tag sharded noexcept github.com bhalevy seastar sharded make start stop invoke_on method noexcept sharded mark conditionally noexcept sharded add private method sharded declare internal earlier sharded make basic method noexcept,,
542,8c8fd3ed283329a521f363fe5fbbdf238efc415e,enny Halevy <bhalevy@scylladb.com>, 2020-09-24 12:36:52 +0300, , semaphore_units add return_units return_all allow user return unit signal semaphore semaphore_units object destructed test semaphore dev signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
543,002f95c5b6cd9d1946be171fcb2a2ec26d603730,enny Halevy <bhalevy@scylladb.com>, 2020-09-24 12:36:51 +0300, , semaphore_units release mark noexcept signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
544,cb47c840a23e6a1c0917217641e0a0d104136a48,vi Kivity <avi@scylladb.com>, 2020-10-04 14:13:42 +0300, , circular_buffer support non default constructible allocator correctly currently support default constructible allocator non default constructible allocator mixed one circular_buffer constructor circular_buffer allocator alloc problem arises allocator default constructible compiler reject constructor since allocator alloc doe compile construct allocator variant work wither somehow work gcc check default check access control private constructor sneak break clang fix separating two case add constraint allow default constructor allocator default constructor usual case add static assertion allocator default constructor doe exist must noexcept usually constraint added using concept even though guaranteed available since problem rare requires clang specialized allocator default constructor manifest complaint concept become mandatory 2023 add enable_if version message avi scylladb.com,,
545,0d96f6456edfc4d5c3703b730224b6498e007406,omasz Grabiec <tgrabiec@scylladb.com>, 2020-10-02 17:52:03 +0200, , core shared_ptr expose use count lw_ owning pointer object already expose case also need access object shared access owning pointer example cache could use lw_shared_ptr implement sharing object shared owned something else e.g lru use_count case could used determine owner message 1601653923 29465 git send email tgrabiec scylladb.com,,
546,c0d6e042a31c6165d59a581e5802a3d33c4ba33b,vi Kivity <avi@scylladb.com>, 2020-10-04 11:17:11 +0300, , memory align allocation std max_align_t allocator currently ensures allocation aligned greatest power two divide size example size allocation aligned size allocation aligned size allocation also aligned natural since type padded alignment alignment must power two however clang make use standard specification malloc return memory aligned std max_align_t x86_64 even allocation multiple size doe using aligned vector mov instruction movaps even though sub object allocation could possibly aligned since behavior legal indulge align anything std max_align_t std max_align_t smaller allocation left unaligned unlikely clang require alignment larger object size reduces memory waste message avi scylladb.com,,
547,b263a9e0a837e9b464dd995791cfafc64fc919dd,otond Dnes <bdenes@scylladb.com>, 2020-09-29 18:11:38 +0300, , util log logger do_log easier allocation logger do_log currently fmt print write various bit piece output stream fmt print look neat introduces additional allocation example even something trivial  fmt print my_str cause fmt allocate internal buffer format my_str internally writing result logger do_log making half dozen unnecessary allocation even passed completely pre formatted string patch fix going back uglier efficient way using operator write directly output stream signed botond bdenes scylladb.com message bdenes scylladb.com,,
548,f4b0d79cd5d533f9a2bfc59a122c30b1fa394362,efu Chai <tchaikov@gmail.com>, 2020-09-29 20:53:38 +0800, , doc add link multipage version tutorial signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
549,de9fe1ff0060009980fe387ee9ab747db0ebac04,efu Chai <tchaikov@gmail.com>, 2020-09-29 20:53:37 +0800,780, doc fix output directory split tutorial.html output accessed http docs.seastar.io master index.html fix 780 signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
550,7dec3b1aacd1a2ce957a2d7de26fe7ee3ef4499c,efu Chai <tchaikov@gmail.com>, 2020-09-29 20:53:36 +0800, , build copy htmlsplit.py build dir need copy processing tutorial.html currenct directory specifiy command line signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
551,4427dd8bcc2a6fc169d2131a86ab86899e04b9c7,efu Chai <tchaikov@gmail.com>, 2020-09-29 20:53:35 +0800, , doc add input output dir option htmlsplit.py add input output dir option htmlsplit.py avoid hardwire input output parameter tool signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
552,fd7babbdced45a8548c627a1de051c9303c8139c,efu Chai <tchaikov@gmail.com>, 2020-09-29 20:53:34 +0800, , doc update split script use htmlsplit.py failed split html generated pandoc 2.9.2.1 change html schema pandoc 2.9.2.1 generated toc look like nav toc role doc toc instead div toc existing script fails split chapter table conetents sends generated document split index.html better matching attribute element instead using regex match output use parse modify xml tree hope simpler adapt future change output schema change instead iterating generated html document line line script collect head body header element use template add toc template new index.html put body element separate html file output directory named chap num .html script doe change format output par dump document script tested using pandoc 2.7.3 2.9.2.1 signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
553,55c8361c4f9c04f7fa7f2a8e889c2ff56514c710,vi Kivity <avi@scylladb.com>, 2020-09-29 11:42:06 +0300, , merge shared_future make function noexcept benny  series mark shared_future shared_promise constructor noexcept well trivial method shared_future get_future marked noexcept despite error may thrown function call since prefer terminate rather propagating error similar .then failure schedule continuation test unit dev  tag shared_future noexcept github.com bhalevy seastar shared_future shared_promise mark method depnding shared_state get_future noexcept shared_future shared_state get_future fixup indentation shared_future mark shared_state get_future noexcept shared_future shared_promise document constructor noexcept ness shared_future mark shared_state constructor noexcept shared_future valid mark noexcept,,
554,389174454ef02a71249503e96b18871d21a9b868,efu Chai <tchaikov@gmail.com>, 2020-09-27 22:38:06 +0800, , tutorial add linebreak section signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
555,eee761e5159929de63fa9206f5d97d6c0c7f60cc,efu Chai <tchaikov@gmail.com>, 2020-09-27 22:38:04 +0800, , tutorial format future int inline code block otherwise pandoc render future int int valid html tag doe matching closing tag signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
556,27947a6512b195d6fbdb0a0f765f6ee91c6945e0,efu Chai <tchaikov@gmail.com>, 2020-09-27 22:38:05 +0800, , doc specify html language code tutorial.html otherwise html tag generated xhtml would look like html xmlns http www.w3.org 1999 xhtml lang xml lang valid attribute value signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
557,292ba734bc00d4e368373112fb7bbf7c2c69502f,afael vila de Espndola <espindola@scylladb.com>, 2020-09-25 10:24:42 -0700, , future fix move future reference type reference type returning value stored address signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
558,9221a63bdf74c1b53e9f80b7ac6b6aa6a5d7d8f7,efu Chai <tchaikov@gmail.com>, 2020-09-25 00:22:39 +0800, , doc fix hyper link tutorial.html tutorial.html created tutorial.html build directory seastar doc per doc doxyfile.in output directory specified html_output html working directory cmake target doc_api also default generated hyperlink index.html pointing current directory doc html index.html i.e doc html tutorial.html doe exist change need point browser tutorial.html output file md2html signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
559,c7269076258a37512516e4005fd9670597f87b98,efu Chai <tchaikov@gmail.com>, 2020-09-25 00:22:38 +0800, , tutorial fix formatting code block otherwise two gdb command concatenated single line readable see http seastar 21.html debugging gdb signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
560,c7e36cf0cb48cc9c4a03f9fb0db5126e1dee4e18,efu Chai <tchaikov@gmail.com>, 2020-09-25 00:22:37 +0800, , readme.md fix formatting table look better github rendering also add soft hyphen table fit within page width signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
561,e215023c78b0e1efe9a943dcf65323f81fd1a721,afael vila de Espndola <espindola@scylladb.com>, 2020-09-24 09:45:50 -0700, , future make future non variadic fairly ugly see another way supporting existing thing look lot better drop support delete avi add doxygen predefined unconfuse doc signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
562,3c095cd66f8dbd33ef10abbc6ed425103fe7d96c,otond Dnes <bdenes@scylladb.com>, 2020-09-24 16:46:49 +0300, , add noexcept variant usable noexcept environment like destructors noexcept function variant throw default log error flag set also abort signed botond bdenes scylladb.com message bdenes scylladb.com,,
563,4bbc6cfaf8ddfe5ff08846b6f96d29f2faa4896f,afael vila de Espndola <espindola@scylladb.com>, 2020-09-22 18:33:00 -0700, , convert another std result_of std invoke_result also change result_of_apply look like std invoke_result signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
564,86f6ea6736493047a9f7248861d1cf192afb1123,efu Chai <tchaikov@gmail.com>, 2020-09-23 14:32:36 +0800, , reactor remove unused declaration abort_on_error reactor abort_on_error defined nowhere remove signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
565,43dbd859f55e40c4b0f335dc3df6533705c21481,enny Halevy <bhalevy@scylladb.com>, 2020-09-21 14:44:48 +0300, , shared_future shared_promise mark method depnding shared_state get_future noexcept shared_state get_future made noexcept method depending marked noexcept signed benny halevy bhalevy scylladb.com,,
566,abfd314f8066f9bafe7f9c3bef4c12cf31f291b5,enny Halevy <bhalevy@scylladb.com>, 2020-09-21 09:44:11 +0300, , shared_future shared_state get_future fixup indentation signed benny halevy bhalevy scylladb.com,,
567,f62ba886012146eabb9cc42e8cd67cac2aed108f,enny Halevy <bhalevy@scylladb.com>, 2020-09-21 09:43:53 +0300, , shared_future mark shared_state get_future noexcept note function called shared_future get_future may throw rather terminate propagate error similar .then failure allocate continuation caller distinguish error returned original future failing perform get_future signed benny halevy bhalevy scylladb.com,,
568,29e1b76d1ab0ed3a0cdf835c14923b808a9eda1a,enny Halevy <bhalevy@scylladb.com>, 2020-09-15 13:55:57 +0300, , shared_future shared_promise document constructor noexcept ness compiler propagates noexcept property constructor operator defined default hard user library understand reading header file add comment code documenting noexcept property rather explicitly specifying e.g noexcept default staticly assert futures_test signed benny halevy bhalevy scylladb.com,,
569,431f103e6fdbf27777d7129259ae5faaf734c284,enny Halevy <bhalevy@scylladb.com>, 2020-09-21 14:37:41 +0300, , shared_future mark shared_state constructor noexcept based respective future future constructor signed benny halevy bhalevy scylladb.com,,
570,2de01d38e74c8a38c6aa48110c8b7a73da859e08,enny Halevy <bhalevy@scylladb.com>, 2020-09-21 14:36:58 +0300, , shared_future valid mark noexcept trivially signed benny halevy bhalevy scylladb.com,,
571,77ddb5f69018d5681424b507e1d864de3827d58e,enny Halevy <bhalevy@scylladb.com>, 2020-09-21 12:59:53 +0300, , sharded make start stop invoke_on method noexcept handle error around invoke_on_ method return exceptional future signed benny halevy bhalevy scylladb.com,,
572,a88a8b189c055280ebe71f0e411bb595eb5298fd,enny Halevy <bhalevy@scylladb.com>, 2020-09-21 12:34:16 +0300, , sharded mark conditionally noexcept std function defined standard noexcept starting therefore add code catch exception handle sharded make noexcept internal marked conditionally noexcept std hope compiler would able optimize try catch logic caller knowing noexcept signed benny halevy bhalevy scylladb.com,,
573,96139fc3ec1eb67dfe4f642b4942780c053af182,enny Halevy <bhalevy@scylladb.com>, 2020-09-15 17:57:56 +0300, , sharded add private method used entirely class sharded call site call internal _instances.size shard call submit_to shard prepare moving call commonm code stack signed benny halevy bhalevy scylladb.com,,
574,21e75206e223c329c76ed0977bc73669eb28b1eb,enny Halevy <bhalevy@scylladb.com>, 2020-09-21 10:34:28 +0300, , sharded declare internal earlier declare earlier file preparation defining private sharded method signed benny halevy bhalevy scylladb.com,,
575,0e4fa1d4002f2089f6b85c6d0c800948f000999e,enny Halevy <bhalevy@scylladb.com>, 2020-09-15 18:50:39 +0300, , sharded make basic method noexcept signed benny halevy bhalevy scylladb.com,,
576,4b495d0bb0fa339c1506d747ab2eda88ef593b9a,lazar Leibovich <elazarl@gmail.com>, 2019-02-28 23:01:53 +0200, , memory use system allocator alien thread use system allocator variable set note reason dlsym failed find original function silently fallback seastar allocator likewise main constructor running seastar allocator would used signed elazar leibovich elazarl gmail.com,,
577,bb3d15669d0301aeb970588335da80ba2f91ebec,lazar Leibovich <elazarl@gmail.com>, 2019-02-28 23:01:53 +0200, , memory alien thread call cpu_pages dtor cpu_pages thread local variable mean constructor destructor run thread reactor thread alien thread obviously cpu_pages constructor segfaults destructor run without cpu_pages initialize called run destructor inf cpu_pages initialize ran signed elazar leibovich elazarl gmail.com,,
578,6790348bfbfd195b3eff7e2f8ebde2830f6a217a,lazar Leibovich <elazarl@gmail.com>, 2019-02-28 22:59:14 +0200, , memory identify reactor thread variable mark reactor thread boolean variable select suitable allocator signed elazar leibovich elazarl gmail.com,,
579,00a8e2f0eaed12e610c7c193e424da76daddafc3,lazar Leibovich <elazarl@gmail.com>, 2019-02-28 22:44:14 +0200, , memory search overrided memory function dlsym save original overridden memory allocation function global variable use next commits signed elazar leibovich elazarl gmail.com,,
580,2e711d3142091028a08a276746c44cb4aad3a29a,lazar Leibovich <elazarl@gmail.com>, 2019-02-28 22:39:46 +0200, , memory enable testing whether address seastar allocated order differentiate seastar allocation system allocation add method test whether specific address seastar allocated easy since know virtual address space boundary signed elazar leibovich elazarl gmail.com,,
581,9ae33e67e19c4b5f59db98f80d7f360c7a0d4db4,enny Halevy <bhalevy@scylladb.com>, 2020-09-16 13:02:39 +0300, , expiring_fifo mark method noexcept signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
582,2496b7ed28c231d0b0d683014defa8ac0f4b0044,enny Halevy <bhalevy@scylladb.com>, 2020-09-16 13:02:38 +0300, , chunked_fifo mark method noexcept signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
583,241482be1ca3f244dab6cb08332ced34e604e6a8,otond Dnes <bdenes@scylladb.com>, 2020-09-18 13:54:34 +0300, , circular_buffer support stateful allocator patch add support stateful allocator allocator instance passed constructor argument move constructed base class impl allows stateful allocator default constructor used circular buffer signed botond bdenes scylladb.com message bdenes scylladb.com,,
584,1433623962e6abca03dd23ebd1909f9b1a4fce2a,un He <jun.he@arm.com>, 2020-09-18 13:12:04 +0800, , net posix stack fix sockaddr forward reference fix compilation failure caused undefined struct sockaddr kernel version 4.11 see http github.com torvalds linux commit change signed jun jun.he arm.com message jun.he arm.com,,
585,02e45af83b8ca424b17f5c13dee1b2c8a07306e7,un He <jun.he@arm.com>, 2020-09-18 10:54:01 +0800, , rpc fix defined macro introduced lz4 since v1.8.2 popular distros like ubuntu 18.04 centos provide recent lz4 lib building fail patch fix declared failure copying definition lz4 change signed jun jun.he arm.com message jun.he arm.com,,
586,861b17fd163fce590fb81e072bef244166b9a9d0,enny Halevy <bhalevy@scylladb.com>, 2020-09-15 20:09:38 +0300, , futures_test fix concept error hit following error dialect gnu  test unit futures_test.cc file included usr include boost test test_tools.hpp usr include boost test unit_test.hpp include seastar testing seastar_test.hh include seastar testing test_case.hh test unit futures_test.cc test unit futures_test.cc member function void test unit futures_test.cc 1563 error matching function call std vector int int lambda int 1563 .get int int return  file included include seastar core iostream impl.hh include seastar core iostream.hh 360 include seastar core reactor.hh test unit futures_test.cc include seastar core loop.hh 630 note candidate template class iterator class func requires requires func iterator decltype auto requires std same_as placeholder seastar future seastar future seastar iterator iterator size_t func 630 iterator begin iterator end size_t max_concurrent func func noexcept  include seastar core loop.hh 630 note template argument deduction substitution failed file included usr include boost test test_tools.hpp usr include boost test unit_test.hpp include seastar testing seastar_test.hh include seastar testing test_case.hh test unit futures_test.cc test unit futures_test.cc 1563 note deduced conflicting type parameter iterator std vector int int 1563 .get int int return  file included include seastar core iostream impl.hh include seastar core iostream.hh 360 include seastar core reactor.hh test unit futures_test.cc include seastar core loop.hh 705 note candidate seastar future seastar range size_t func range std vector int func lambda int size_t long unsigned int 705 range range size_t max_concurrent func func noexcept  include seastar core loop.hh 705 note constraint satisfied file included include seastar core scheduling.hh include seastar core task.hh include seastar core future.hh include seastar testing test_case.hh test unit futures_test.cc include seastar core loop.hh instantiation seastar future seastar range size_t func range std vector int func lambda int size_t long unsigned int test unit futures_test.cc 1558 required include seastar core loop.hh 705 required constraint template class range class func requires range range requires func range r.begin decltype auto requires std same_as placeholder seastar future seastar future seastar range size_t func include seastar core loop.hh 702 requirement func range range std vector int std allocator int func ._anon_630 include seastar core loop.hh 702 note r.begin doe satisfy return type requirement 702 seastar_concept requires std range range range requires func range r.begin std same_as future  include seastar util concepts.hh note definition macro define seastar_concept ...   test future dev signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
587,cfec74de07994cdc500040f114243e0024181d00,un He <jun.he@arm.com>, 2020-09-17 17:49:39 +0800, , core limit memory size process 64gb seastar memory map defined http github.com scylladb seastar blob master src core memory.cc l33 l41 map mean 64gb memory max used process per discussion http seastar dev vh14xve2rgo ekaewa4ebaaj final solution making cpu_id_shift dynamic still take time patch add check avaliable memory proc limit 64gb fit 36bit address space option2 suggests change signed jun jun.he arm.com message jun.he arm.com,,
588,91e483bbb36004e5c3fda9c7b47709f84428e02a,aphael S. Carvalho <raphaelsc@scylladb.com>, 2020-09-15 16:08:27 -0300, , core reactor_backend kill unused nr_retry nr_retry used signaling semaphore removed long time ago signed raphael carvalho raphaelsc scylladb.com reviewed benny halevy bhalevy scylladb.com message raphaelsc scylladb.com,,
589,89399a8a5e845d56a4167987c33335f7a90fe251,vi Kivity <avi@scylladb.com>, 2020-09-15 17:41:36 +0300, , merge tracing pavel  debugging scheduler helpful know user visible latency also stuff like time spent queue time spent disk number request disk delay subsequent dispatch 1st number collected seastar others help tracing possible get rest although tracing disturbs timing still give good overview going tracing consists log.trace call seastar script collect data print stats best experience trace message collected logger stdout timestamps boot  iotrace http github.com xemul seastar script add script parse trace io_queue place trace message key place io_queue keep device reactor setup,,
590,dc06cd1f0ffd682deee13fb99ddd1eb0879efe5a,alle Wilund <calle@scylladb.com>, 2020-09-14 09:18:07 +0000,792, fix buffer requirement fix 792 lz4 stream compress decompress call bunch requirement source dest buffer size order position basically boil either full ring buffer thing alternating fully ensuring 64k backlog steadily available failure uphold cause failure depend data input i.e thing compress small large dictionary trigger typical text book example like text input really stream chunk size 64k break backwards compat since current 32k hardcoded format thus changing would ensure older code talk fixed though course since compressor borked anyway probably anyhow ... patch change two thing ensure always either steady 64k back dictionary decompressing ensure retain dictionary compressing smaller linearize data chunk_size need either preserve 64k wholly new buffer also add whole bunch test size split content variant rpc_test ensure test provoke failure doe previous input set even large power two etc either even aaaaaaa random random data content actually make lz4 fail message calle scylladb.com,,
591,1cad4ffdf80d7935949b98e8be676e8e451812a4,iek Bouman <niek.git@gmail.com>, 2020-09-14 14:11:03 +0200, , net added feature register callback verification callback provides basic information handler one advantage api independent current backed currently gnutls might change future registration method part client server make use feature like thank piotr calle avi suggestion improvement signed niek bouman niek.git gmail.com message niek.git gmail.com,,
592,2b392dec33e91c1fc5fb9eea04fbc08b078a874a,efu Chai <tchaikov@gmail.com>, 2020-09-13 14:37:29 +0000, , alien compatible use api level api level internal monostate used represent state return value function return void tuple used passing return value anymore change alien updated follow convention accept futurize value_type instead futurize tuple_type otherwise alien appication fails compile api level enabled case instance type internal monostate passed return_type_of set second parameter compile choke seeing signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
593,8933f76d3373db1a291b8999a9fd87a71fabd238,enny Halevy <bhalevy@scylladb.com>, 2020-09-09 18:44:14 +0300, , future util add corresponding unit test similar limiting parallelism max_concurrent parallel invocation func test future dev signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
594,d57e66c241fbb753992afcba62d16d6722592c23,vi Kivity <avi@scylladb.com>, 2020-09-12 20:09:07 +0300, , rwlock define rwlock_for_read class structs two class defined structs declared class causing clang choke define class make member public since look like class structs silence clang warning message avi scylladb.com,,
595,680d0af0522b6580b31efa04d21cc743f8546f2b,vi Kivity <avi@scylladb.com>, 2020-09-12 20:09:01 +0300, , loopback_socket mark get_sockopt set_sockopt override function override clang complains marked good practice let message avi scylladb.com,,
596,7027ed36e787421d803223719dca7ca6a99cff67,vi Kivity <avi@scylladb.com>, 2020-09-12 20:08:56 +0300, , native stack mark get_sockopt set_sockopt override function override clang complains marked good practice let message avi scylladb.com,,
597,88a5ba9b25f062344ae8d1a093fc10342cd38af0,vi Kivity <avi@scylladb.com>, 2020-09-12 20:08:49 +0300, , treewide remove unused lambda capture clang warns unused lambda capture remove message avi scylladb.com,,
598,9b73de7c72939d215464e81a7767a6fc639b532c,vi Kivity <avi@scylladb.com>, 2020-09-12 20:08:44 +0300, , future prevent spurious unused lambda capture warning future clang warns state capture future used probably due cast void however used instantiation logically named lambda mark used using void cast silence warning message avi scylladb.com,,
599,1a79deb22d2934802333708531e07904a860152d,vi Kivity <avi@scylladb.com>, 2020-09-12 20:08:38 +0300, , future make futurize friend futurize protected without friend possible gcc broken inter template access control check clang reject make clang happy adding required friend declaration message avi scylladb.com,,
600,23c3f45b8e47210e4c13c9a732706149eac1c919,vi Kivity <avi@scylladb.com>, 2020-09-12 20:08:23 +0300, , future fix uninitialized constexpr template variable defined tuples left undefined non tuples gcc happy variable instantiated tuples clang appears check eagerly believe clang probably correct rejecting uninitialized constexpr variable prevent problem indirecting via helper class template delay check message avi scylladb.com,,
601,e48e37056172fab618fe4f508be6774046f218ba,efu Chai <tchaikov@gmail.com>, 2020-09-09 20:54:22 +0800, , net expose hidden method parent class also silence warning gcc src seastar include seastar net stack.hh warning virtual seastar data_source seastar net source seastar hidden woverloa ded virtual virtual data_source source csisc  file included src seastar src net tcp.cc src seastar src net native stack impl.hh 199 note seastar data_source seastar net protocol source protocol seastar net tcp seastar net ipv4_t raits 199 data_source protocol source  signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
602,200bca9243bec0583c64d5bfcf154a7bef1b7021,efu Chai <tchaikov@gmail.com>, 2020-09-09 20:54:21 +0800, , future std result_of_t std invoke_result_t std result_of deprecated removed use std invoke_result instead signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
603,52f0f389947b3cfd584da64a2867ce585ec046b8,alle Wilund <calle@scylladb.com>, 2020-09-08 11:06:54 +0000,790, rpc return actual chosen compressor server reponse avail fix 790 using compression rpc multi compressor factory used feature set compressor put negotiation client set compression initial request comma separated list compressor handle server resolve typically mean first compressor list picked multicompressor server set compressor object server responds setting compression response supported list client pick first highest prio compressor support list set compressor object server compressor response based actual compressor chosen available set note today deal via is_server parameter still make assumption side choosing first matching algo etc i.e negotiation still shaky valid reason server already set compressor subsequent frame patch simply add name attribute compressor change server response instead supported compressor set also ensures throw error client side server picked compressor handle message calle scylladb.com,,
604,f7a5c3530c8de958d7cbc6f4814b95f010d2cb7d,adoslaw Zarzynski <rzarzyns@redhat.com>, 2020-08-10 22:38:41 +0200, , net fix compilation guard around sec_param signed radoslaw zarzynski rzarzyns redhat.com message 1597091921 26171 git send email rzarzyns redhat.com,,
605,6dda4dedefa4261ee99af0c49a615a0e38d77175,vi Kivity <avi@scylladb.com>, 2020-09-05 20:37:24 +0300, , future improved printing seastar thrown finally clause throw processing exception continuation protects since two flight exception combine  problem printing operator std ostream std exception_ptr give indication either component making understanding happened difficult fix teaching operator seastar unit test adjusted order protect detail standard library print exception test_exception class introduced use instead since need capture std exception_ptr operator message avi scylladb.com,,
606,c5fb213d7777e208db3ef62f9d4224953b8cbaeb,adav Har'El <nyh@scylladb.com>, 2020-09-03 18:57:03 +0300, , merge http fix issue request parser testing merged patch series wojciech mitros series make change naming httpd test modifies request handling follow rfc 7230 adding parsing test follow naming change test unit dev wojciech mitros http test change misleadingly named server startup function http fix request parser src http src http httpd.cc test unit httpd_test.cc test unit test unit cmakelists.txt file changed 184 insertion deletion create mode 100644 test unit,,
607,4ff91c4c3a48e6582f869ae58ff83084d1bda483,otond Dnes <bdenes@scylladb.com>, 2020-09-03 15:49:00 +0300,7117, core reactor complete_timers restore previous scheduling group complete_timers currently reset current scheduling group returning needed set current scheduling group timer continuation created inherit scheduling group timer timer processed need reset currently reset default group assuming complete_timers called system context however always true particular run_tasks end calling indirectly via reactor bad run_tasks set current scheduling group task queue currently running result current scheduling group changing middle run_tasks call resulting task observing incorrect current scheduling group ref scyllasb scylla 7117 signed botond bdenes scylladb.com message bdenes scylladb.com,,
608,989007a0174d6c64933c60ffadf18cc824a0fbbc,avel Emelyanov <xemul@scylladb.com>, 2020-09-02 14:41:31 +0300, , script add script parse trace script collect data trace message print stats per size timing stats request queue number stats delay dispatch num request submitted one dispatch call batch count total number request processed signed pavel emelyanov xemul scylladb.com,,
609,6d6d33f647f23dd7e5f2b0ba6c1b419e778745c8,avel Emelyanov <xemul@scylladb.com>, 2020-09-01 16:43:43 +0300, , io_queue place trace message key place request queue submit complete point signed pavel emelyanov xemul scylladb.com,,
610,265cdcc2580b3a59a1790c0c5450755e5851c45e,avel Emelyanov <xemul@scylladb.com>, 2020-09-01 16:33:49 +0300, , io_queue keep device reactor setup show future trace signed pavel emelyanov xemul scylladb.com,,
611,efd61d38401f2bbe87ade8cfe7502f53b5f35e25,ojciech Mitros <wojciech.mitros@scylladb.com>, 2020-08-28 17:27:38 +0200,785, http fix request parser patch fix multiple issue http request parsing fails request processing may hang fixed setting parser state error finishing parsing match found anymore header name lost fix appending header value comma separator instead overwriting parsing obsolete line foding never finish fix alter state machine used generate parser deterministic control character accepted header value field fix changing character set also add unit test parser fix 782 783 784 785 signed wojciech mitros wojciech.mitros scylladb.com,,
612,ac3a9c2996806419351fc41be549c093c3dbba5d,ojciech Mitros <wojciech.mitros@scylladb.com>, 2020-08-31 12:20:03 +0200, , http test change misleadingly named server startup function multiple place httpd test writer function fact simply creating http request handler starting server patch change name server_startup simplifies even predefining handler used repeatedly running former function code without wrapping lambda signed wojciech mitros wojciech.mitros scylladb.com,,
613,08f5f54c6f7ee9bd56c83d750a0a2d6930511b2a,afael vila de Espndola <espindola@scylladb.com>, 2020-08-27 09:44:40 -0700, , future drop spurious mutable lambda lambda passed schedule member need mutable needed promise argument rvalue reference signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
614,73513f68af55a810dc1336e3c1d9767f2041e869,afael vila de Espndola <espindola@scylladb.com>, 2020-08-27 18:10:30 -0700, , future put std tuple future_state change future related type store std tuple future_state given odd void patch add internal monostate std monostate without need include variant header since change user visible behind new api level signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
615,da9737bc80fd23b8ec500b91ca5291ee31f083ee,afael vila de Espndola <espindola@scylladb.com>, 2020-08-27 18:10:29 -0700, , future prepare changing future_state storage type patch add bunch type alias overload redundant allows next patch introduces ifdefs relatively small area code signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
616,272cd12a0196f66f7a4f4a65567066dc3075d4e8,afael vila de Espndola <espindola@scylladb.com>, 2020-08-27 18:10:28 -0700, , future add future_state get0 reduces much code need behind ifdef new api level introduced changing type future_state store signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
617,a38af12608feb87c48cc2c4f4f15ba20d1edc199,afael vila de Espndola <espindola@scylladb.com>, 2020-08-27 11:58:24 -0700, , when_all replace another untuple get0 missed previous patch signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
618,9c7ada61894c913f8317755e2c94ab2ada1a171a,afael vila de Espndola <espindola@scylladb.com>, 2020-08-27 08:14:42 -0700, , when_all use get0 instead untuple signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
619,a6102e52110ab85a9d57f3b28a8cbf4ae6f2da97,afael vila de Espndola <espindola@scylladb.com>, 2020-08-26 14:03:22 -0700, , rpc assume future store std tuple new code work current future representation signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
620,dd9e070771f7c810b50ffb50afd039214e81755c,afael vila de Espndola <espindola@scylladb.com>, 2020-08-26 11:45:46 -0700, , future add futurize_base specialization easy implement thing bit differently fortunately moving definition futurize_base single futurize definition using constexpr inside function imho make code lot easier read example template typename template typename func seastar_concept requires std invocable func void futurize func func using ret_t decltype func constexpr std is_void_v ret_t func pr.set_value else constexpr is_future ret_t value func .forward_to std move else pr.set_value func   instead definition signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
621,c9751d875c7488bd011019c2f3aa1f5d09fbb7c7,afael vila de Espndola <espindola@scylladb.com>, 2020-08-20 10:05:59 -0700, , testing stop boost installing signal handler normally seastar signal handler print backtrace unregisters program crash produce core dump unfortunately boost test framework also installs signal handler disables backtrace printed seastar also disables crash get core file change register dummy handler calling boost failing test dev release mode also print backtrace produce core signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
622,8462f32958cf34f9ff69736f38614928bada9dd6,afael vila de Espndola <espindola@scylladb.com>, 2020-08-25 20:59:58 -0700, , future define futurize value_type future value_type one place change stop using std tuple signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
623,b76ec42fa7944d8bd99d6254f49e378eda414f18,afael vila de Espndola <espindola@scylladb.com>, 2020-08-25 20:59:56 -0700, , future move futurize file way access future member signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
624,1e676cd84556b3c5b6afe89c57c6651836c9f874,vi Kivity <avi@scylladb.com>, 2020-08-26 12:35:25 +0300, , merge put logging onto fmt rail pavel  current log formatting rather limited fmt provides extremely richer facility also converting simple type string work much faster fmt rather classical ostream said seems benecifical switch logging onto fmt cost 200k additional size libseastar.a test unit dev manual  logging via fmt http github.com xemul seastar log simplify timestamp printing log remove dead code stringer log rewrite using fmt library dns move operator log fix doc comment,,
625,ca785b4f8caa3907e6cd3873d485c8d1f57635f1,avel Emelyanov <xemul@scylladb.com>, 2020-08-25 22:39:38 +0300, , log simplify timestamp printing currently timestamp get log via fmt string fmt sequence remember prepend simplified one fmt call forget space prepending signed pavel emelyanov xemul scylladb.com,,
626,01c7110aa58864098f9e4d8393f97ba7f09f9886,avel Emelyanov <xemul@scylladb.com>, 2020-08-25 22:32:48 +0300, , log remove dead code stringer longer used args carried around fmt format_args signed pavel emelyanov xemul scylladb.com,,
627,fe42b2f29891942a44208026b5747102f3828989,avel Emelyanov <xemul@scylladb.com>, 2020-08-25 22:32:07 +0300, , log rewrite using fmt library carry format string fmt format_args way do_log vformat decorated sent proper destination increase libseastar.a size 200k signed pavel emelyanov xemul scylladb.com,,
628,43e4fc13d51645158ac4209dc8f00526b15cc4d5,avel Emelyanov <xemul@scylladb.com>, 2020-08-25 22:51:03 +0300, , dns move operator operator opt_family follow opt_family definition otherwise fmt compat recognize asks formatter signed pavel emelyanov xemul scylladb.com,,
629,c988e76ec5d2f7df9b1e5b04138c2bb863cc2fcf,avel Emelyanov <xemul@scylladb.com>, 2020-08-26 11:50:40 +0300, , log fix doc comment printing logging method accept fmt style formatter even printf like one signed pavel emelyanov xemul scylladb.com,,
630,c9ea16b5be6817f5ebec4101017a36376a8e416a,vi Kivity <avi@scylladb.com>, 2020-08-26 11:55:45 +0300, , merge make future_state non variadic rafael  stored type still std tuple knowledge moved one level  espindola non variadic future state http github.com espindola seastar future make future_state non variadic future add future_state alias future add future add static assert,,
631,36a33a2ae87ba65901b5d8f646913f126e8d4db8,afael vila de Espndola <espindola@scylladb.com>, 2020-08-25 10:41:33 -0700, , future make future_state non variadic stored type std tuple next patch series change future_state store value directly signed rafael vila esp ndola espindola scylladb.com,,
632,1dea2b572b31bef4d2c7a42b3f62620f27d7d852,afael vila de Espndola <espindola@scylladb.com>, 2020-08-25 10:10:10 -0700, , future add future_state alias reduces noise followup patch signed rafael vila esp ndola espindola scylladb.com,,
633,748e18438f5ff2dce4846c231589e96507351849,afael vila de Espndola <espindola@scylladb.com>, 2020-08-25 10:29:41 -0700, , future add temporary helper making future_state non variadic signed rafael vila esp ndola espindola scylladb.com,,
634,e7e7167b06896a533257ce461a5024a37755f975,afael vila de Espndola <espindola@scylladb.com>, 2020-08-25 10:23:39 -0700, , future add static assert check future_state movable memmove signed rafael vila esp ndola espindola scylladb.com,,
635,5eff6642bcc14581505ef70ae3dea763e57a2197,enny Halevy <bhalevy@scylladb.com>, 2020-08-25 17:47:07 +0300, , sharded propagate sharded instance stop error hit following assertion error manually injecting error causing shard instance stop fail seastar include seastar core sharded.hh 496 seastar sharded sharded service database assertion failed commit then_wrapped get future returned internal internal finally return result sharded service stop previously error would short circuit continuation chain clause resetting _instances executed note std vector clear default constructor noexcept exception handling needed around test unit dev manual error injection signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
636,6252c3baf2012355925a0e30a4fe0258513e25d8,avel Emelyanov <xemul@scylladb.com>, 2020-08-24 19:26:08 +0300, , log fix misprint doc comment question .debug call signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
637,d4747a8cfe43aa9e3d9ff6d0a3370afb44729f3b,afael vila de Espndola <espindola@scylladb.com>, 2020-08-24 10:09:37 -0700, , future use destroy_at destructor avoids mentioning name tuple work change underlying representation signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
638,c00ad0127e84982306ee09bb5abe8aad632b154a,afael vila de Espndola <espindola@scylladb.com>, 2020-08-24 10:09:36 -0700, , future add static_assert rejecting variadic future_state already rejected future new assert reject possible  signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
639,a1795fa4c742a112d9898e71c2a852504f5de4a1,afael vila de Espndola <espindola@scylladb.com>, 2020-08-24 10:09:35 -0700, , futures_test drop variadic test still testing future_state support many value signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
640,b996dee4b5532b0f3ff919374d9ca5b20dd7f2d6,afael vila de Espndola <espindola@scylladb.com>, 2020-08-24 14:45:56 -0700, , when_all drop superfluous use futurize from_tuples intended use futurize from_tuples produce future foo bar std tuple foo bar use removed patch producing future std tuple foo bar work simpler informative use directly signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
641,8023fb19de223b80dbf555e1989a674f17792e1c,afael vila de Espndola <espindola@scylladb.com>, 2020-08-24 14:23:49 -0700, , everywhere use future get0 appropriate one extra cleanup dropping variadic future signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
642,b17ae7a62911ae2be9c910a1a8751896af1ce98b,iotr Sarna <sarna@scylladb.com>, 2020-08-24 11:42:12 +0200, , net upgrade sockopt comment doxygen ... adding one slash message scylladb.com,,
643,0e5a5798e9c4136486b0ba6237d36c3d1227ffe0,adav Har'El <nyh@scylladb.com>, 2020-08-23 14:53:40 +0300, , iostream document read_exactly function add doxygen comment input_stream read_exactly function documented obvious happens eof reached byte read turn despite name read_exactly function actually return fewer byte eof reached prematurely throw error happens signed nadav har nyh scylladb.com reviewed benny halevy bhalevy scylladb.com message nyh scylladb.com,,
644,094cd884c2c1e15133bbdd7c977e880049a9b47c,lexander Gallego <alex@vectorized.io>, 2020-08-23 13:23:38 -0700, , net fix clang compilation duration cast signed alexander gallego alex vectorized.io message alex vectorized.io,,
645,c788e5b5a817b6bc595bc0f9259bbbd19111b2f2,afael vila de Espndola <espindola@scylladb.com>, 2020-08-21 08:12:26 -0700, , future move future.hh duplicated do_with.hh when_all.hh signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
646,99e4bd1d4572b4e74c76a1dc9026b3c0d00d2d80,afael vila de Espndola <espindola@scylladb.com>, 2020-08-21 08:12:25 -0700, , repeat drop unnecessary make_tuple set_value future api variadic set future place instead creating moving tuple signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
647,99ee06d6ab3efd94f7db63cb252b98ced4596153,afael vila de Espndola <espindola@scylladb.com>, 2020-08-21 08:12:24 -0700, , shared_future use one place update variadic  signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
648,2df2159af089737496513821c2c2aed4d3f8eecb,afael vila de Espndola <espindola@scylladb.com>, 2020-08-20 11:37:21 -0700, , future add static_assert variadic future future type patch possible simplification drop support signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
649,3e2a6d47b77db5874fb460ec6b14591dbc50d7d9,afael vila de Espndola <espindola@scylladb.com>, 2020-08-20 11:37:20 -0700, , future delete replaced static_assert signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
650,138bce50077b551ebbec137f1c01a6248e72a8ba,afael vila de Espndola <espindola@scylladb.com>, 2020-08-20 11:37:19 -0700, , rpc_demo use variadic future signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
651,a3fb4d86ff757fbfffaf92af051354b73a29f981,afael vila de Espndola <espindola@scylladb.com>, 2020-08-20 11:37:18 -0700, , rpc_test use variadic future signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
652,6932283ccee326364c74180efd4cebe777d7730f,afael vila de Espndola <espindola@scylladb.com>, 2020-08-20 11:37:17 -0700, , futures_test use variadic future signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
653,441d3eac91b4ca80ee57af54b4beb83d51e15c80,afael vila de Espndola <espindola@scylladb.com>, 2020-08-14 10:05:49 -0700, , future move promise schedule code comment abort bad_alloc duplicated call schedule move schedule instead signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
654,dce11fecfaed9b2b7308a58e21d6b63eae9cacb9,iotr Sarna <sarna@scylladb.com>, 2020-08-20 17:27:05 +0200, , net add interface custom socket option order able set socket specific option e.g so_timestamping unix socket generic interface resembling getsockopt setsockopt provided message scylladb.com,,
655,2bb1d00969a391165f0f625e3b75f961ebab4784,iotr Sarna <sarna@scylladb.com>, 2020-08-20 17:27:04 +0200, , posix add one setsockopt overload current overload assumed passed data form string sometimes e.g so_timestamping point integer running strlen order get length applicable also case probably possible elide strlen entirely since length already known message scylladb.com,,
656,f7d2ae752382ceb6e468eebeb2b81072e5a81515,vi Kivity <avi@scylladb.com>, 2020-08-23 13:29:58 +0300, , merge simplify pollfn inheritants pavel  pollfns machinery duplicate common polling logic accross class deserves simplification save resulting libseastar.a binary test unit dev  unify pollers http github.com xemul seastar reactor use simple_pollfn implementation possible pollfn introduce simple_pollfn pollfn make seastar pollfn abstract class reactor unfriend _pollfn,,
657,35cb87805835fc20715387d068182a70bad9f4d9,lexander Gallego <alex@vectorized.io>, 2020-08-23 00:07:03 -0700, , util std compat.hh add forward declaration std pmr clang signed alexander gallego alex vectorized.io message alex vectorized.io,,
658,8e7a364c006431d1745771b5c4a9986c8082945c,avel Emelyanov <xemul@scylladb.com>, 2020-08-21 14:18:51 +0300, , rpc add protocol has_handlers helper stopping rpc server useful know handler unregistered thus waited completion currently protocol doe provide api  signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
659,23cbbb0f581e33d088b0e391dcd274da61331b19,afael vila de Espndola <espindola@scylladb.com>, 2020-08-21 15:37:40 -0700, , add build option seastar memset allocation returning pointer reason want new future still future state whatever value using address  stale value make lot harder track pointer core dump signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
660,a5a53042903048870d8290b3f88f0d76e3ab7ac0,afael vila de Espndola <espindola@scylladb.com>, 2020-08-21 14:18:32 -0700, , futures_test add test future reference test used scylla signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
661,95a9e8418dcf3d229507ff342fb16ddd7aadde06,avel Emelyanov <xemul@scylladb.com>, 2020-08-21 19:20:41 +0300, , reactor use simple_pollfn implementation possible patch pollers act like simple_pollfn inherit signed pavel emelyanov xemul scylladb.com,,
662,f79b47b3e86bf522dc8df0edf5808826a3e79975,avel Emelyanov <xemul@scylladb.com>, 2020-08-21 19:21:05 +0300, , pollfn introduce simple_pollfn common implementation simple poller used many place simple_pollfn class keep logic one place signed pavel emelyanov xemul scylladb.com,,
663,83062d1ae930b61edbeca25afe5a86e02c5f1e9e,avel Emelyanov <xemul@scylladb.com>, 2020-08-21 18:58:49 +0300, , pollfn make seastar pollfn abstract class future patching unify standard pollfns signed pavel emelyanov xemul scylladb.com,,
664,81f4b10c07632d6abe9b99b6dee50e63f5c998f0,avel Emelyanov <xemul@scylladb.com>, 2020-08-21 18:16:31 +0300, , reactor unfriend _pollfn nested class thus already friend signed pavel emelyanov xemul scylladb.com,,
665,681164c1ad41247b662a6ee388e524d81bd92168,afael vila de Espndola <espindola@scylladb.com>, 2020-08-20 09:48:09 -0700, , future simplify destruction future_state unfortunately alias analysis seem able figure reuse state value future_state  change code produced void bar future_state foo future_state    pushq rbp movq rdi rax movq rdi rbp subq rax cmpq rax .l2 leaq rdi rdi call _zn3food2ev .l2 cmpq rbp jbe .l1 movq rbp rdi popq rbp jmp .l1 popq rbp ret   movq rdi rax leaq rax rdx cmpq rdx .l2 addq rdi jmp _zn3food2ev .l2 cmpq rax jbe .l1 jmp .l1 ret signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
666,5f4ee2afa2d85684736c5b2f8613de68f116ed94,afael vila de Espndola <espindola@scylladb.com>, 2020-08-19 10:09:47 -0700, , use work great clang gcc 10.2 unfortunately previous gcc signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
667,2ca132019a959b450f81959af857f80b7046cc19,afael vila de Espndola <espindola@scylladb.com>, 2020-08-19 17:02:51 -0700, , repeat fix indentation signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
668,c3ca659eccc4fa7fdaefe0ac8a7cabd2dbf34820,afael vila de Espndola <espindola@scylladb.com>, 2020-08-19 17:02:50 -0700, , repeat delete try catch second allocation gone repeat call noexcept function including local lambda std signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
669,2f8c9022ebc3a4e865feef277fad2620fe46495f,afael vila de Espndola <espindola@scylladb.com>, 2020-08-19 17:02:49 -0700, , repeat simplify loop allocation repeater patch remove correct unnecessary done pending future could convert allocation failure exceptional future obvious first thought patch fixing bug allocation redundant since set_callback work available unavailable future removing also allows followup simplification signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
670,78087ff35df58a956fb8db0bc573bdbde35d2dc7,afael vila de Espndola <espindola@scylladb.com>, 2020-08-18 11:42:39 -0700, , avoid call std exception_ptr destructor .hh reduces text size scylla 37715108 36882852 byte signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
671,1276647d811eeb6b85b74f545988c807551c018d,afael vila de Espndola <espindola@scylladb.com>, 2020-08-18 16:50:21 -0700, , file add missing include signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
672,7f7cf0f232c6ce9e29e218100e2e44592bbc4606,afael vila de Espndola <espindola@scylladb.com>, 2020-08-14 10:20:58 -0700, , future consider invalid ignore difference invalid still destroy value detail exposed user signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
673,c2950e3b9cae85e77076418f43647dde58b81ac0,afael vila de Espndola <espindola@scylladb.com>, 2020-08-14 10:20:57 -0700, , future consider invalid valid difference invalid still destroy value detail exposed user signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
674,b1e976a03147cd860de7c6555bdee9d5c3e7f0eb,vi Kivity <avi@scylladb.com>, 2020-08-18 12:22:18 +0300, , merge future util split header benny  future util.hh accumulated lot fat time contains assorted collection helper independent series split large header file group function standalone header file follows  loop.hh repeat do_until do_for_each when_all.hh when_all map_reduce.hh with_timeout.hh util later.hh later includes seastar core future util.hh scrubbed particular include file remove needed replace including particular header file needed improve compile time test unit dev  tag split future util github.com bhalevy seastar everywhere avoid including future util.hh future util cleanup header future util split later.hh future util split with_timeout.hh future util split map_reduce.hh future util split when_all.hh future util split loop.hh future util split future util delete unused declaration internal task_quota demo coroutines include std compat.hh,,
675,a2d1da4c2a98f3416ad473467f7c31ab21ad009f,iek Bouman <niek.git@gmail.com>, 2020-08-14 13:41:21 +0200, , doc corrected text code example streaming rpc doc signed niek bouman niek.git gmail.com message niek.git gmail.com,,
676,5b1258beb7a998c20756dabfaa16c15104947590,afael vila de Espndola <espindola@scylladb.com>, 2020-08-14 11:45:12 -0700, , future reduce nesting future call need_preempt simplify logic bit signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
677,85437b7d512ed671aae4e58275d69a8ccd160cdc,enny Halevy <bhalevy@scylladb.com>, 2020-08-13 11:05:41 +0300, , demo coroutines include std compat.hh defined test configure.py dialect gnu cflags fcoroutines coroutines_demo dev signed benny halevy bhalevy scylladb.com reviewed rafael vila esp ndola espindola scylladb.com message bhalevy scylladb.com,,
678,5d019bf43d685224ebe1a0eae9aeb18e18978e8f,enny Halevy <bhalevy@scylladb.com>, 2020-08-12 18:07:01 +0300, , everywhere avoid including future util.hh include individual header instead signed benny halevy bhalevy scylladb.com,,
679,ab92d757a08270bc0bd808005c8118224b385352,enny Halevy <bhalevy@scylladb.com>, 2020-08-12 17:12:42 +0300, , future util cleanup header delete unused include directive signed benny halevy bhalevy scylladb.com,,
680,c1de243c86186d10cedd058c6fe8f9b675f7709c,enny Halevy <bhalevy@scylladb.com>, 2020-08-12 12:28:58 +0300, , future util split later.hh split later function separate self containing header file could included individually signed benny halevy bhalevy scylladb.com,,
681,8ee8f1f5af82f9f0734ad95d0cdb6a5aa9702dd6,enny Halevy <bhalevy@scylladb.com>, 2020-08-12 12:28:58 +0300, , future util split with_timeout.hh split with_timeout separate self containing header file could included individually signed benny halevy bhalevy scylladb.com,,
682,c864342639d1c80b4e887e5196d5bf2ea6a82ed3,enny Halevy <bhalevy@scylladb.com>, 2020-08-12 12:28:58 +0300, , future util split map_reduce.hh split map_reduce function separate self containing header file could included individually signed benny halevy bhalevy scylladb.com,,
683,5a245a978cf19f4e2a5e6faca2fa5a358177c12f,enny Halevy <bhalevy@scylladb.com>, 2020-08-12 12:28:58 +0300, , future util split when_all.hh split when_all separate self containing header file could included individually signed benny halevy bhalevy scylladb.com,,
684,3bf6d82f4ee512be1f5879f290954f7232dae2da,enny Halevy <bhalevy@scylladb.com>, 2020-08-12 12:28:58 +0300, , future util split loop.hh split loop iteration function repeat do_until keep_doing do_for_each separate self containing header file could included individually signed benny halevy bhalevy scylladb.com,,
685,a813e7150b3abdd29695a8aa2f20f843a24a6f18,enny Halevy <bhalevy@scylladb.com>, 2020-08-12 12:28:58 +0300, , future util split split separate self containing header file could included individually signed benny halevy bhalevy scylladb.com,,
686,2d7763a7041410c6d984c66a00b49bbfe8b3625a,enny Halevy <bhalevy@scylladb.com>, 2020-08-12 12:25:03 +0300, , future util delete unused declaration internal task_quota signed benny halevy bhalevy scylladb.com,,
687,fa6541e10cba7c01b91aebeb8caf5f2c5e74a7d0,enny Halevy <bhalevy@scylladb.com>, 2020-08-13 11:02:45 +0300, , demo coroutines include std compat.hh defined signed benny halevy bhalevy scylladb.com,,
688,1a4b3eb33c36a75dd48640284ad4f594a7fe143b,enny Halevy <bhalevy@scylladb.com>, 2020-08-09 09:30:39 +0300, , sstring mark str method using noexcept note assume std char_type str size throw although specified noexcept http cpp string time similar std string operator std http cpp string basic_string specified noexcept plus std respective constructor specified noexcept usr include string_view test unit dev signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
689,973682dc23754fb07ee73c0ba469950c1717f524,afael vila de Espndola <espindola@scylladb.com>, 2020-08-10 16:09:50 -0700, , add assert fail wait future still using session end use free add assert help catch case signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
690,213c273127eae702cab23fb5edee5da3847911b0,leb Natapov <gleb@scylladb.com>, 2020-08-12 10:35:35 +0300, , future fix coroutine compilation replace longer existing function direct assignment message scylladb.com,,
691,c872c3408c5d0557be03c78a41a6cc99b440d346,afael vila de Espndola <espindola@scylladb.com>, 2020-08-09 09:08:21 -0700, , future util pas rvalue reference repeat save another move action accept rvalue reference accept universal reference delete overload accept lvalues signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
692,7b905e5035744a305a2afaa61430839a79600b6c,enny Halevy <bhalevy@scylladb.com>, 2020-08-10 11:39:17 +0300, , tutorial service_loop return future comment say pointed http github.com scylladb seastar commit r41170957 want wait one connection handled accepting next one fix tutorial example corresponding implementation demo test signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
693,15db07d3ff2fa0b4c64bcfcb65705ebaacf00b84,afael vila de Espndola <espindola@scylladb.com>, 2020-08-08 10:46:46 -0700, , future util drop redundant make_tuple call future_state set place construct value also reduces many place know future hold tuple nice since want change future hold single value signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
694,cf5182b3d002d112caf872c6e0c38a2f9fc7abb1,afael vila de Espndola <espindola@scylladb.com>, 2020-08-08 10:46:44 -0700, , future util pas rvalue reference repeater constructor avoids moving value multiple time signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
695,b6ad04c614568945a10fba602fcaf9789a55fd16,leb Natapov <gleb@scylladb.com>, 2020-08-07 13:46:00 +0300, , allow move assign empty expiring_fifo already allow moving empty expiring_fifo convenience move assign add move assignment well also fix bug existing move constructor move _on_expiry message scylladb.com,,
696,e615054c75f34da74f07f0ddb3e34e9e5c88466f,vi Kivity <avi@scylladb.com>, 2020-08-09 12:05:40 +0300, , memory fix small aligned free memory corruption aligned free invoked compiler calling operator delete aligned object parameter aligned allocation using operator new operator delete overload std align_val_t parameter however implementation symmetric aligned allocation adjusts size next power two compenstate fact small pool allocator guarantee byte alignment arbitrary size doe guarantee full alignment power two size aligned free function however adjustment used mismatching size selecting small_pool free caused corruption internal data structure easily observed small_pool _pages_in_use going negative fix making aligned_free perform adjustment aligned_alloc message avi scylladb.com,,
697,5f6bf6df5f9aa298a3d36f6ebd5283594ff55f10,enny Halevy <bhalevy@scylladb.com>, 2020-08-05 19:35:20 +0300, , logger specify log method noexcept is_enabled is_shard_zero trivially noexcept failed_to_log handle exception count log handled exception calling failed_to_log therefore log method use e.g debug info warn error marked noexcept test unit dev signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
698,65cc52720707d824feee96d481a9d81dd6a18b43,enny Halevy <bhalevy@scylladb.com>, 2020-08-05 19:35:19 +0300, , logger mark trivial method noexcept signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
699,ce927f63749ef09d3865ff88736fef2e89dfe210,afael vila de Espndola <espindola@scylladb.com>, 2020-08-06 12:41:17 -0700, , everywhere replace boost optional std optional signed rafael vila esp ndola espindola scylladb.com reviewed benny halevy bhalevy scylladb.com message espindola scylladb.com,,
700,c359690683e92e449406754694751de1481fd750,ojciech Mitros <wojciech.mitros@scylladb.com>, 2020-08-06 16:18:20 +0200, , httpd fix expect header case sensitivity patch change expect field value case insensitive adjusts corresponding test case include variation capital letter signed wojciech mitros wojciech.mitros scylladb.com message wojciech.mitros scylladb.com,,
701,3bb997fe1fc1efea16828bc4450eaf6e155f7c08,avel Emelyanov <xemul@scylladb.com>, 2020-08-06 12:18:16 +0300, , rpc avoid excessive casting has_handler helper type rpc handler msgtype need use int api cast msgtype internally signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
702,8e1fcc19e3949448866826d7f626933982d81257,avel Emelyanov <xemul@scylladb.com>, 2020-08-06 12:18:31 +0300, , test increase capacity fair queue unit test case test set queue limit feed request weight current dispatcher allows one request dispatch queue let one request weight technically correct queue capacity allow biggest request pas also becomes critical corner case shared queue dispatch welcome test unit dev signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
703,a4b7756d0f42b59f8c127fcbb3754128f812a337,afael vila de Espndola <espindola@scylladb.com>, 2020-08-04 07:33:51 -0700, , file_io_test simplify test memory signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
704,71e103aff70fcf4496a33900c67eca55e2572821,iotr Sarna <sarna@scylladb.com>, 2020-08-06 14:30:07 +0200,768, merge add http 1.1 100 continue wojciech series add missing feature http 1.1 expect header value 100 continue corresponding reply status code 100 continue test unit dev fix http github.com scylladb seastar issue 768 also available http github.com wmitros seastar tree 100 cont 100 cont github.com wmitros seastar test httpd add test 100 continue status code http add expect 100 continue handling 100 cont github.com wmitros seastar test httpd add test 100 continue status code http add expect 100 continue handling,,
705,6e8eb0c14fbb89695d8b770249e1a2680196b25e,ojciech Mitros <wojciech.mitros@scylladb.com>, 2020-08-04 17:46:51 +0200, , test httpd add test 100 continue status code test check 100 continue response sent request contained expect 100 continue header http version 1.1 confirms response sent otherwise signed wojciech mitros wojciech.mitros scylladb.com,,
706,994a1ce10e66aa957af62227fa8c93b9c290f5bc,ojciech Mitros <wojciech.mitros@scylladb.com>, 2020-07-31 16:34:02 +0200, , http add expect 100 continue handling patch enables sending response status code 100 continue reading request body request contains expect 100 continue header signed wojciech mitros wojciech.mitros scylladb.com,,
707,5b76a23d18cf3df4118b74d57d26607f9d2c0fc7,afael vila de Espndola <espindola@scylladb.com>, 2020-08-05 11:16:00 -0700, , future use constexpr require signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
708,81031d882c2c040bef5e66ae632401d234ee38c1,afael vila de Espndola <espindola@scylladb.com>, 2020-08-05 11:15:59 -0700, , future drop code avoiding gcc warning support gcc signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
709,dbd238bdf49ecd2f8d34dcddea82d764e9c5b947,enny Halevy <bhalevy@scylladb.com>, 2020-08-05 16:01:29 +0300, , file specify alignment get method noexcept trivially signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
710,6571949745d3cc07709e74203ed9417c929f8bc5,adav Har'El <nyh@scylladb.com>, 2020-08-05 11:43:06 +0300, , merge specify abort_source subscription handler noexcept merged patch set piotr sarna miniseries target fixme regarding noexcept abort handler abort_source closer investigation look like throwing inside handler undefined behavior since seastar already compliant make sense address fixme provide noexcept specifier handler definition test unit dev piotr sarna util allow specifying noexcept util add additional check nonthrowing move constructor abort_source make subscription noexcept include seastar core abort_source.hh include seastar util test unit file changed insertion deletion,,
711,a9bebe79c3e6b0798a79e73d5903d341bf1c01a0,iotr Sarna <sarna@scylladb.com>, 2020-07-31 09:59:55 +0200, , abort_source make subscription noexcept fixme suggested subscription function required noexcept verified manually injecting throw test case resulted terminating app std terminate one internal seastar caller verified noexcept subscribing timer cancellation fixme likely created callback later used dispose element boost intrusive list expects throw behaviour becomes undefined dispose loop interrupted boost code comment requires disposer operator pointer throw  effect era element container destructors called disposer operator pointer called removed element  throw nothing  complexity linear number element list  note invalidates iterators erased element template class disposer void disposer disposer  const_iterator begin itend end itend node_ptr to_erase it.pointed_node   node_algorithms init to_erase disposer .to_value_ptr to_erase  node_algorithms init_header get_root_node .set_size  note alternative solution wrap implementation abort_source subscription on_abort try catch clause potentially dangerous since maybe exception recoverable ignored thus becomes caller responsibility provide noexcept callback assumption std terminate better,,
712,c2226ac4d4b435893ab8ac6dff13dcb673ca5b4a,iotr Sarna <sarna@scylladb.com>, 2020-08-03 10:49:24 +0200, , util add additional check nonthrowing move constructor order avoid unnecessary call std terminate operator check args passed value nonthrowing constructor since used process calling pushing separate commit despite best effort proficient template magic ...,,
713,6a0e93b75570a7c062d01be37ed112d39caf0204,iotr Sarna <sarna@scylladb.com>, 2020-08-05 08:21:56 +0200, , util allow specifying noexcept additional template parameter possible define template specialization noexcept function type,,
714,eb452a22a02b07b5282e2eb39fdc90f771b01a23,rzysztof Maysa <varqox@gmail.com>, 2020-08-04 11:58:49 +0200, , core add missing include std signed krzysztof ma ysa varqox gmail.com message varqox gmail.com,,
715,8b292d60309720c9fd286ca74089241c94bf7ee8,enny Halevy <bhalevy@scylladb.com>, 2020-08-04 11:44:09 +0300, , exception move timed_out_error factory header file resolve dependency future util.hh timed_out_error semaphore.hh includes included used future util.hh following patch test ninja build dev signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
716,9f4fcc6e9270512c9c7005907efde5ccc768eaaf,enny Halevy <bhalevy@scylladb.com>, 2020-08-03 10:44:31 +0300, , future add noexcept recover allocation failure signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
717,b743040e046fac44daa3c15fe9a59ba443432224,vi Kivity <avi@scylladb.com>, 2020-08-04 10:55:41 +0300,6831, merge improve file api noexcept correctness rafael  found debugging http github.com scylladb scylla issue 6831 memory allocation failure copying sstring used file path cause call std unexpcted series futurize_invoke turn std bad_alloc inside various implementation exceptional future series also change interface use std string_view instead sstring example seastar remove_file some_string throw trying allocate copy some_string  espindola file fix noexcept http github.com espindola seastar test add simple check handling std bad_alloc reactor fix indentation reactor core fix noexcept util add missing futurize_invoke core pas std string_view file operation reactor fix indentation reactor open_file_dma reactor fix indentation broken previous commit reactor add missing call futurize_invoke reactor pas std string_view file operation core mark noexcept,,
718,838f21d57b359d103bdf07ddfa2cf8a88056b7a5,afael vila de Espndola <espindola@scylladb.com>, 2020-08-03 13:46:05 -0700, , util add helper abstract common pattern noticed scylla would like use seastar idea check callback handle std bad_alloc allocation signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
719,4981240f30ff1eb8a14acdb87f6deb020702a5bf,afael vila de Espndola <espindola@scylladb.com>, 2020-07-30 17:05:12 -0700, , future fix indentation broken previous patch signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
720,6de214214fd9a60f8f85f14ea03dff13c0330e5c,afael vila de Espndola <espindola@scylladb.com>, 2020-07-30 17:05:11 -0700, , future refactor duplicated try catch also make obvious run_and_dispose noexcept signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
721,006bff29dad0f4ca18dce816af4ae30dee52e762,afael vila de Espndola <espindola@scylladb.com>, 2020-07-30 17:05:10 -0700, , future make public optimized version set_exception std making public expose internals signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
722,286a38ca156e95e9d2f5b1548f26b8733261222c,afael vila de Espndola <espindola@scylladb.com>, 2020-07-28 08:19:05 -0700, , future add noexcept continuation related function way handle failure move function continuation try improve patch document reality move call std unexpected closer problem signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
723,a7565aeddc2e2403a1194af1ee12d1bd63e5df89,iotr Sarna <sarna@scylladb.com>, 2020-07-31 14:00:59 +0200, , core mark timer cancellation function noexcept function fact noexcept long comparing timer_set iterators noexcept already called destructors marked message scylladb.com,,
724,f30695b2a1e5071a06851cdfbb9be1bfaa612de0,afael vila de Espndola <espindola@scylladb.com>, 2020-08-01 11:34:49 -0700, , future simplify future schedule recent change master future schedule called unavailable future use simplify code bit change unfortunately increase scylla text 0.44 37410436 37573988 byte far tell increase hitting limit gcc inlining heuristic simplification cause overall inlining first mark schedule noinline text size grows 38674852 change brings 37934532 report 0.13 tps improvement 300 randomized run form 160024 160241 also noise signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
725,6b864e5d15f82a7caac451d4dacf51ed49b4d924,afael vila de Espndola <espindola@scylladb.com>, 2020-07-30 10:42:29 -0700, , test add simple check handling std bad_alloc signed rafael vila esp ndola espindola scylladb.com,,
726,903bc3be4d0e674c9d9b702ed6797c62bf06cf0e,afael vila de Espndola <espindola@scylladb.com>, 2020-07-30 10:34:39 -0700, , reactor fix indentation reactor broken previous patch signed rafael vila esp ndola espindola scylladb.com,,
727,a0b4eb4555969c1fd6f81ff15e17778b1bb98e13,afael vila de Espndola <espindola@scylladb.com>, 2020-07-29 18:21:38 -0700, , core fix noexcept could try throw std bad_alloc fix call futurize_invoke signed rafael vila esp ndola espindola scylladb.com,,
728,789a1ab1d52f4c29dcf180e5ecd3c9412abc83f7,afael vila de Espndola <espindola@scylladb.com>, 2020-07-29 17:41:08 -0700, , util add missing futurize_invoke could throw std bad_alloc since internal drop noexcept call futurize_invoke signed rafael vila esp ndola espindola scylladb.com,,
729,5e94024ceb2f1086177c9b272063c91aedfe329c,afael vila de Espndola <espindola@scylladb.com>, 2020-07-29 15:34:35 -0700, , core pas std string_view file operation underlying reactor function take std string_view propagate global function signed rafael vila esp ndola espindola scylladb.com,,
730,d84ea24e40aa2e515ab4d1c154617680046ccb56,afael vila de Espndola <espindola@scylladb.com>, 2020-07-29 17:33:11 -0700, , reactor fix indentation reactor open_file_dma passing cleanup editing area signed rafael vila esp ndola espindola scylladb.com,,
731,7779c890caa29cd8134131b3aa7f5fe215f1a9a4,afael vila de Espndola <espindola@scylladb.com>, 2020-07-29 17:31:51 -0700, , reactor fix indentation broken previous commit signed rafael vila esp ndola espindola scylladb.com,,
732,b7470ba3ae321d1277ade58272da8f3b214157a4,afael vila de Espndola <espindola@scylladb.com>, 2020-07-29 17:29:21 -0700, , reactor add missing call futurize_invoke function marked noexcept could try throw std bad_alloc signed rafael vila esp ndola espindola scylladb.com,,
733,b3bb17719845c7e0dda80cf78f69c0aacb0d50e1,afael vila de Espndola <espindola@scylladb.com>, 2020-07-29 13:53:07 -0700, , reactor pas std string_view file operation noexcept function take sstring bit error prone calling func bar .then ... seems fine actually throw sstring constructor throw patch change signature use std string_view make existing copy implementation explicit next patch handle std bad_alloc implementation signed rafael vila esp ndola espindola scylladb.com,,
734,90d0d958f3d0f053bbe7d00734504d735fca26c8,afael vila de Espndola <espindola@scylladb.com>, 2020-07-29 15:31:36 -0700, , core mark noexcept last file handling function marked signed rafael vila esp ndola espindola scylladb.com,,
735,51dcc0fc435b379c5d7690f546251d880a74508c,iotr Sarna <sarna@scylladb.com>, 2020-07-30 13:03:05 +0200, , test add case overwriting exact route test case ensures overwriting exact http route possible explicitly dropping old rule first order avoid memory leak message scylladb.com,,
736,aef1dee642f44e5f1aae57a8da80efa0a6a56f35,iotr Sarna <sarna@scylladb.com>, 2020-07-30 13:03:04 +0200, , http throw duplicated route prevent memory leak current interface adding exact http route implicitly allows memory leak since expects callee allocate handler offer override handler without freeing order prevent user leaking memory exception thrown duplicated handler registered user side solution simply remove old handler first alternatively route put could call delete sound error prone overriding existing route likely programmer oversight conscious decision conscious enough drop old handler first introduces minor api change since route put never marked noexcept doe require bumping api version note1 api little bit inconsistent since route drop return pointer user delete manually time route destructor free pointer nevertheless current api commit doe change note2 would nice offer additional api layer without raw pointer separate series since would involve introducing new api function possibly deprecating old one message scylladb.com,,
737,da395f31989a1ee333e489ffb251fc1152f12f0a,mnon Heiman <amnon@scylladb.com>, 2020-07-28 17:06:38 +0300,535, metric remove type label metric layer support concept inherit_type mean reporting protocol support collectd example mean theoretically protocol possible define two metric differ inherit type example current_session protocol support type added label practice kill add information reporting layer patch remove type label metric instead inherit_type placed change scollectd need get inherit_type fix 535 message amnon scylladb.com,,
738,ba324727748486f3cc7d92b1d0b26336e5f2e2de,aphael S. Carvalho <raphaelsc@scylladb.com>, 2020-07-27 14:52:26 -0300, , fstream turn memory corruption bug abort know fact easily corrupt memory created read ahead enabled user forgets closing properly fiber running behalf read ahead happen background thus could easily write freed memory close called buffer used read progress would potentially freed time written fixed something similar used context writes make_file_impl creates posix_file_impl instead file opened read could added check posix_file_impl dtor memory corruption issue mostly come read ahead impl belongs latter know better abort read progress signed raphael carvalho raphaelsc scylladb.com message raphaelsc scylladb.com,,
739,48a3066ad35d7d567036bd328d5d427e2aa2e63b,adav Har'El <nyh@scylladb.com>, 2020-07-26 12:38:26 +0300, , doc update tutorial splitting script recent change pandoc output format broke script doc htmlsplit.py ninja build dev doc doc fails patch make parsing htmlsplit.py lax accept older newer output message nyh scylladb.com,,
740,cc75168d61aa70c8bfcdf14b89d666f3f3934803,aphael S. Carvalho <raphaelsc@scylladb.com>, 2020-07-17 17:25:11 -0300, , reactor_backend let reactor know work done aio backend refactoring 8ca7854e34e99 aio backend longer returning correct information whether work performed reactor think backend work retries request failed eagain statement say work performed request submitted io_submit lost refactoring signed raphael carvalho raphaelsc scylladb.com message raphaelsc scylladb.com,,
741,02ad74fa7d100cf0a032c52e3d77f12f3396d814,alle Wilund <calle@scylladb.com>, 2020-07-21 14:48:18 +0000,769, use known precalculated parameter available fix 769 gnutls 3.5.6 use generated parameter discouraged gnutls instead pre calculated standard one provided via credential function int sec_param int sec_param int sec_param since calculating also take quite cycle available use newer function since 3.6 using sort parameter deprecated fully preferred way deal setting via priority string let library build use predefined value facilitate allow creating server certificate without dh_params falling back creating default one gnutls 3.6 similarly ignoring adding provided certificate builder client apps update usage skip dh_params iff seastar built gnutls3.6 message calle scylladb.com,,
742,2f5ab6ea31ec726f74dfe3dd1443c58f27ed9cd4,enny Halevy <bhalevy@scylladb.com>, 2020-07-19 17:29:43 +0300, , tutorial fix advanced service_loop example following fix advanced service_loop example fix also style indentation signed benny halevy bhalevy scylladb.com test dev message bhalevy scylladb.com,,
743,11c825283a9c28d7766c46c24ee4c25b5d4bf507,enny Halevy <bhalevy@scylladb.com>, 2020-07-19 17:29:42 +0300, , tutorial fix service_loop example text following signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
744,8f51e240849d7335bb8e0328b36f11b3b910ec7b,aphael S. Carvalho <raphaelsc@scylladb.com>, 2020-07-20 09:58:35 -0300, , linux aio make rwf_nowait support work refactoring reactor backend rwf_nowait flag set opcodes like iocb_cmd_fdsync result io_submit returning einval failing syncing request iocb_cmd_fdsync work rwf_nowait flush content disk proceed without bumping lock performing allocation hence einval tested change scylladb unable boot linux aio nowait either xfs ext4 failure example io_submit 0x7f1a839a7000 aio_data 0x600000262938 aio_rw_flags rwf_nowait aio_lio_opcode iocb_cmd_fdsync aio_fildes aio_data 0x600000262988 aio_rw_flags rwf_nowait aio_lio_opcode iocb_cmd_fdsync aio_fildes einval invalid argument signed raphael carvalho raphaelsc scylladb.com message raphaelsc scylladb.com,,
745,bb35301743cd7ce096be56a135d10bb51ce808e0,afael vila de Espndola <espindola@scylladb.com>, 2020-07-17 11:32:55 -0700, , locking_test fix use return signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
746,4a99d5645391e96eeda6ed96972f0f9c4c2cc241,afael vila de Espndola <espindola@scylladb.com>, 2020-07-16 12:18:59 -0700, , httpd warn econnaborted httpd code produce warning accept fails cause warning httpd stop called since fails accept econnaborted patch filter failure signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
747,28772c4d013face7ce6f238694f7119e7ee27ebc,afael vila de Espndola <espindola@scylladb.com>, 2020-06-24 16:26:10 -0700,6709, httpd avoid calling future twice future pattern fut fut.then ... dangerous since fut initially ready future call lambda immediately reach line second call future asserts scylla issue 6709 hitting _accepts_done since function do_accepts recursive patch remove recursion using gate accepting processing connection signed rafael vila esp ndola espindola scylladb.com,,
748,11a588146392017a6fd443ee5e40a54a778eb1b8,afael vila de Espndola <espindola@scylladb.com>, 2020-07-13 14:48:28 -0700, , future add test broken promise repeat fixed patch claim functionality change assumption already required call turn case like one tested patch missing call would crash without patch adding test repeat addition one back porting hit revision test pass change implementation underlying problem still signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
749,0fe32ec5969831cadc8e430ec204fafbd2a6d5ae,afael vila de Espndola <espindola@scylladb.com>, 2020-07-13 09:48:19 -0700, , future add test broken promise fixed patch claim functionality change assumption already required call turn case like one tested patch missing call would crash without patch signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
750,d095c30a1b9f70ec83bf344b34f7f288ad88cc6e,afael vila de Espndola <espindola@scylladb.com>, 2020-07-09 14:32:38 -0700, , future simplify finally_body implementation throw exception call std signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
751,06f8b99e09a5940580681e2111fc35e4c275c020,afael vila de Espndola <espindola@scylladb.com>, 2020-07-09 14:32:37 -0700, , futures_test extend test also cover function object return exceptional future signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
752,7afad994af9984b70036a5acc1e44a5f5ef6f66a,vi Kivity <avi@scylladb.com>, 2020-07-13 11:50:24 +0300, , merge make gate method noexcept benny  series make seastar gate method noexcept test unit dev  tag gate close noexcept github.com bhalevy seastar gate specify close noexcept gate specify trivial method noexcept gate add static asserts nothrow default move,,
753,665ab5a99175517e0127b83c4ec89cf7129ed8e6,enny Halevy <bhalevy@scylladb.com>, 2020-07-08 10:24:28 +0300, , tutorial fix service_loop example outdated regard accept_result mind add tutorial example demo would break whenever interface example rely change alerting update example doc tutorial.md respectively signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
754,d88620ee660323b9e9c4a287e6c5f0196e885bdf,vi Kivity <avi@scylladb.com>, 2020-07-12 17:12:19 +0300, , sharded fix doxygen example clause example clause need block part entity documented message avi scylladb.com,,
755,f58515a95cbf304ea48e0f5d8d046b7ab4357789,vi Kivity <avi@scylladb.com>, 2020-07-12 17:21:54 +0300, , merge future call need_preempt then_impl rafael  important api change change long chain call future ready future would interrupted taking long high priority task like reclaiming memory responsibility user call need_preempt code might need much time memory producing non ready future removing call advantage allows simplification make implementation quite bit simpler particular series then_impl quite readable produce faster smaller code  espindola drop need preempt http github.com espindola seastar future always schedule then_wrapped debug build future call need_preempt then_wrapped future call need_preempt promise_base make_ready,,
756,71029aa58e6a9f13350fb3aaed7dd2e535f8d44f,afael vila de Espndola <espindola@scylladb.com>, 2020-07-07 22:49:52 -0700, , future refactor bit duplicated code move bit duplicated code future_base schedule produced code change insignificant 0.07 text size reduction 0.1 tps improvement probably noise main advantage allocation continuation without ready state function helpful patch series dropping call need_preempt signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
757,5a7978e6e4ed478c2973b8430b33cb2c414e1f0c,vi Kivity <avi@scylladb.com>, 2020-07-12 17:13:24 +0300, , merge add with_file helper benny  add with_file helper inspired scylla helper helper make sure close file passed func parameter with_file always doe close file func returned exception test unit dev file_io_test debug demo file_demo dev debug  tag with_file github.com bhalevy seastar file add helper file add with_file helper,,
758,aff077a8a81ee6b5741712ba845a923e7cfb01b1,enny Halevy <bhalevy@scylladb.com>, 2020-05-26 14:03:57 +0300, , file add helper auto close file passed func parameter func return exception close fails exception returned nested exception outer one signed benny halevy bhalevy scylladb.com,,
759,4fca8362b13bbd3e90e191a2de4aeb6fc70697e3,enny Halevy <bhalevy@scylladb.com>, 2020-05-26 11:08:40 +0300, , file add with_file helper auto closing file func executed add unit test demo signed benny halevy bhalevy scylladb.com,,
760,d33c54ef49607af563d224802d77aaa1012cceec,vi Kivity <avi@scylladb.com>, 2020-07-12 16:25:37 +0300, , merge fix doxygen warning benny  fix bunch warning found using ninja build dev doc_api grep arn egrep documented found declared defined test unit dev  tag fix doxygen warning github.com bhalevy seastar commits doc scollectd_api fix param doc doc scollectd fix unsupported xml html tag doc rpc document undocumented params doc metric fix typo doc httpd json formatter fix param doc httpd json_path document undocumented params doc httpd matcher fix param param doc route handler rule _registration fix params documentation doc httpd file_handler document undocumented parameter doc httpd handler_base remove obsolete param params doc alien fix func doc semaphore_units split doc param unit refer properly doc scheduling fix ref scheduling doc queue fix func doc gate fix ref closed doc sharded fix doxygen refrences doc file fix parm syntax ref dma_alignment doc condition variable fix end block doc lazy delete param func doc fair_queue fix ref priority_class param ...,,
761,82d64df1220c365b2e2364207c5d3adafbf8b86d,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 16:11:13 +0300, , doc scollectd_api fix param doc resolve following warning include seastar core warning found unknown command include seastar core warning found unknown command enable signed benny halevy bhalevy scylladb.com,,
762,b76a7908e9691548abe5fc4b77157eb84768d946,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 16:10:08 +0300, , doc scollectd fix unsupported xml html tag resolve following warning include seastar core scollectd.hh warning unsupported xml html tag pluginname found include seastar core scollectd.hh warning unsupported xml html tag instance_name found include seastar core scollectd.hh warning unsupported xml html tag type_name found include seastar core scollectd.hh warning unsupported xml html tag type_instance found signed benny halevy bhalevy scylladb.com,,
763,3141aa8cd0e49cf1aef6ac8058c282f117285eaf,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 16:08:18 +0300, , doc rpc document undocumented params resolve following warning include seastar rpc rpc.hh 438 warning following parameter seastar rpc client client const logger void const socket_address addr const socket_address local documented include seastar rpc rpc.hh 449 warning following parameter seastar rpc client client const logger void socket socket const socket_address addr const socket_address local documented signed benny halevy bhalevy scylladb.com,,
764,12deb5b437c770030ad3d306cd21e8e8d6169834,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 16:05:05 +0300, , doc metric fix typo resolve following warning include seastar core metrics.hh 243 warning found unknown command namesapce include seastar core metrics.hh 261 warning found unknown command breif signed benny halevy bhalevy scylladb.com,,
765,dfba6a80a2903a61afdc4a3147c6dfe0ef057223,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 16:03:37 +0300, , doc httpd json formatter fix param resolve following warning include seastar json formatter.hh 150 warning argument command param found argument list seastar json formatter to_json float include seastar json formatter.hh 248 warning argument command param found argument list seastar json formatter write output_stream char float include seastar json formatter.hh 253 warning following parameter seastar json formatter write output_stream char float documented signed benny halevy bhalevy scylladb.com,,
766,9268f4e306a3861ccd352f143789c95df4775b5c,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 16:01:31 +0300, , doc httpd json_path document undocumented params resolve following warning include seastar http json_path.hh 105 warning following parameter seastar httpd const sstring path operation_type method const sstring nickname const std vector std pair sstring bool path_parameters const std vector sstring documented signed benny halevy bhalevy scylladb.com,,
767,4e030932491070a449f0cdaf52a3a8d13e9d4fe8,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 15:58:15 +0300, , doc httpd matcher fix param param resolve following warning include seastar http matcher.hh warning argument fill command param found argument list seastar httpd matcher match const sstring url size_t ind parameter param include seastar http matcher.hh warning argument fill command param found argument list seastar httpd param_matcher match const sstring url size_t ind parameter param inherited member match line file include seastar http matcher.hh include seastar http matcher.hh 102 warning argument fill command param found argument list seastar httpd str_matcher match const sstring url size_t ind parameter param inherited member match line file include seastar http matcher.hh signed benny halevy bhalevy scylladb.com,,
768,85eedc063b107b30012968c0f818ca4bcf3faf2a,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 15:53:18 +0300, , doc route handler rule _registration fix params documentation resolve following warning include seastar http routes.hh 255 warning argument handler command param found argument list seastar httpd route handler_base const sstring url operation_type get include seastar http routes.hh 255 warning argument type command param found argument list seastar httpd route handler_base const sstring url operation_type get include seastar http routes.hh 280 warning argument type command param found argument list seastar httpd route match_rule rule operation_type get signed benny halevy bhalevy scylladb.com,,
769,e0c8881f8a55c4cf626078798c976a3be6f4fc4a,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 15:50:25 +0300, , doc httpd file_handler document undocumented parameter resolve following warning include seastar http file_handler.hh 153 warning following parameter seastar httpd file_handler file_handler const sstring file transformer nullptr bool force_path true documented signed benny halevy bhalevy scylladb.com,,
770,fd86d99dc7931c99850a6bda4f40c068c5489286,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 15:43:07 +0300, , doc httpd handler_base remove obsolete param params resolve following warning include seastar http api_docs.hh 128 warning argument params command param found argument list seastar httpd api_registry handle const sstring path std unique_ptr request req std unique_ptr reply rep inherited member handle line file local home bhalevy dev seastar include seastar http handlers.hh local home bhalevy dev seastar include seastar http api_docs.hh 261 warning argument params command param found argument list seastar httpd api_registry_20 handle const sstring path std unique_ptr request req std unique_ptr reply rep inherited member handle line file local home bhalevy dev seastar include seastar http handlers.hh local home bhalevy dev seastar include seastar http handlers.hh warning argument params command param found argument list seastar httpd handler_base handle const sstring path std unique_ptr request req std unique_ptr reply rep local home bhalevy dev seastar include seastar http file_handler.hh 134 warning argument params command param found argument list seastar httpd handle const sstring path std unique_ptr request req std unique_ptr reply rep inherited member handle line file local home bhalevy dev seastar include seastar http handlers.hh signed benny halevy bhalevy scylladb.com,,
771,e35eb476b5e0552c36709448e679bb311f30abe6,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 15:38:29 +0300, , doc alien fix func resolve following warning include seastar core alien.hh 119 warning found unknown command func signed benny halevy bhalevy scylladb.com,,
772,5ae5c50b4e821c19a12aaa79a3bfce35e6e316df,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 15:36:38 +0300, , doc semaphore_units split doc param unit refer properly resolve following warning include seastar core semaphore.hh 357 warning unable resolve reference unit ref command include seastar core semaphore.hh 357 warning unable resolve reference ref command signed benny halevy bhalevy scylladb.com,,
773,ab34231f284396a5cd2a8ce2a275d671b2092fcb,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 15:32:37 +0300, , doc scheduling fix ref scheduling resolve following warning include seastar core scheduling.hh warning unable resolve reference scheduling ref command signed benny halevy bhalevy scylladb.com,,
774,ad6da9e16c5f75b77e7ec27fbe8572f51e78de25,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 15:30:57 +0300, , doc queue fix func resolve following warning include seastar core queue.hh warning found unknown command func signed benny halevy bhalevy scylladb.com,,
775,035bba44189fd3b1e1fad42fd402a2aa9e0a587d,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 15:30:01 +0300, , doc gate fix ref closed resolve following warning include seastar core gate.hh warning unable resolve reference closed ref command signed benny halevy bhalevy scylladb.com,,
776,c481416184898bedd68e92cf4f49b92a38101029,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 15:27:41 +0300, , doc sharded fix doxygen refrences resolve following warning include seastar core sharded.hh 748 warning unable resolve reference shared_ptr ref command include seastar core sharded.hh 220 warning found unknown command service include seastar core sharded.hh 202 warning found unknown command service include seastar core sharded.hh 183 warning found unknown command service include seastar core sharded.hh 193 warning found unknown command service include seastar core sharded.hh 163 warning unable resolve reference future ref command include seastar core sharded.hh 172 warning unable resolve reference future ref command include seastar core sharded.hh 470 warning argument params ... command param found argument list seastar func params func func params ... params signed benny halevy bhalevy scylladb.com,,
777,b61a70e3fc2d3b2f8a3100dc9e753aac9e5c5a33,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 15:23:27 +0300, , doc file fix parm syntax ref dma_alignment resolve following warning include seastar core file.hh 349 warning found unknown command parm include seastar core file.hh 292 warning unable resolve reference dma_alignment ref command include seastar core file.hh 303 warning unable resolve reference dma_alignment ref command include seastar core file.hh 318 warning unable resolve reference dma_alignment ref command signed benny halevy bhalevy scylladb.com,,
778,f13177dcac1c8a0474c6e2184959fecf417909af,vi Kivity <avi@scylladb.com>, 2020-07-12 13:14:46 +0300, , build add doxygen install dependencies.sh required build documentation part development toolchain message avi scylladb.com,,
779,65ab57f4867dc365aa83ce9642b4b29d9d4d8f26,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 15:19:42 +0300, , doc condition variable fix end block resolve following warning include seastar core condition variable.hh 139 warning unexpected end comment block parsing argument command param signed benny halevy bhalevy scylladb.com,,
780,699747a628f6c3e6f9ec7c6274c4601355b6ae56,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 15:18:19 +0300, , doc lazy delete param func func parameter parameter type resolve following warning include seastar util lazy.hh warning argument func command param found argument list seastar value_of func func signed benny halevy bhalevy scylladb.com,,
781,31e42a88918dc242c0478e9eb4d7e65ce9d1b691,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 15:08:31 +0300, , doc fair_queue fix ref priority_class param resolve following warning include seastar core fair_queue.hh 138 warning unable resolve reference priority_class ref command include seastar core fair_queue.hh 205 warning argument command param found argument list seastar fair_queue uint32_t share signed benny halevy bhalevy scylladb.com,,
782,53a28818349935e480b92ac8a0ba2f90626af16e,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 15:07:22 +0300, , doc io_queue fix ref resolve following warning include seastar core io_queue.hh warning unable resolve reference ref command signed benny halevy bhalevy scylladb.com,,
783,c8c380ba43eb4c1bc753de9d4559c93040fabef8,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 14:55:47 +0300, , doc tmp_file make_tmp_file fix param open_flags needed refer param name type resolve following warning include seastar util tmp_file.hh warning argument open_flags command param found argument list seastar make_tmp_file std filesystem path path_template default_tmpdir open_flags oflags open_flags option include seastar util tmp_file.hh warning argument command param found argument list seastar make_tmp_file std filesystem path path_template default_tmpdir open_flags oflags open_flags option include seastar util tmp_file.hh 117 warning following parameter seastar make_tmp_file std filesystem path path_template default_tmpdir open_flags oflags open_flags option documented signed benny halevy bhalevy scylladb.com,,
784,09c68c713e9f1cc9a78efdb7f8b85cf212fd1e43,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 14:55:12 +0300, , doc file type document open_flags signed benny halevy bhalevy scylladb.com,,
785,57ce11e340bf8375f68dfb5864ec9349ca86ae73,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 14:49:19 +0300, , doc tuple_utils fix explicit link request value resolve following warning include seastar util tuple_utils.hh 111 warning explicit link request value could resolved signed benny halevy bhalevy scylladb.com,,
786,10bdd009318b95d96eecee7863bb9dac23432075,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 14:47:25 +0300, , doc time fix ref resolve following warning include seastar core timer.hh warning unable resolve reference ref command signed benny halevy bhalevy scylladb.com,,
787,9a4bc35fa203f262f17e8feb48b04ec80a7f1ee3,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 14:45:20 +0300, , doc thread fix ref future resolve following warning include seastar core thread.hh warning unable resolve reference future ref command signed benny halevy bhalevy scylladb.com,,
788,ff808ed0640b2b2645d2f99bf19d305741915ed1,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 14:41:27 +0300, , doc seastar fix param refrences resolve following warning include seastar core seastar.hh 142 warning unable resolve reference net socket ref command include seastar core seastar.hh 218 warning unable resolve reference path ref command include seastar core seastar.hh 305 warning argument follow_symlink command param found argument list seastar file_stat sstring name follow_symlink follow_symlink yes include seastar core seastar.hh 353 warning argument name argument list seastar file_type multiple param documentation section include seastar core seastar.hh 230 warning unable resolve reference file fsync ref command signed benny halevy bhalevy scylladb.com,,
789,f1bc1cbb58cb9c444da3ab961e627ceca2ec3a06,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 14:33:02 +0300, , doc seastar fix refrence doc tutorial.md resolve following warning include seastar core seastar.hh warning unable resolve reference doc tutorial.md ref command signed benny halevy bhalevy scylladb.com,,
790,36f7a57b8f66cbf8e04efb869f3c396842917cb2,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 14:26:10 +0300, , doc pipe remove ref seastar with_gate immaterial resolve following warning include seastar core pipe.hh warning unable resolve reference seastar with_gate ref command signed benny halevy bhalevy scylladb.com,,
791,c9dc77e187d21a660799a84676405811d7761420,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 14:22:40 +0300, , doc future util deleter fix param resolve following warning include seastar core deleter.hh 161 warning argument command param found argument list seastar deleter make_deleter deleter next object include seastar core deleter.hh 249 warning argument command param found argument list seastar deleter deleter next void obj signed benny halevy bhalevy scylladb.com,,
792,62bf580d9e0e5b5f9f8ef7c57334ec96ce32a534,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 14:20:52 +0300, , doc future util do_with fix ref func resolve following warning include seastar core do_with.hh 148 warning unable resolve reference func ref command signed benny halevy bhalevy scylladb.com,,
793,51df041864d051c5b3a12bf504aafacc08679692,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 14:18:55 +0300, , doc future util do_for_each fix param range resolve following warning include seastar core future util.hh 648 warning argument range command param found argument list seastar do_for_each container asyncaction action signed benny halevy bhalevy scylladb.com,,
794,04446fd9b2ee1aade7bb39482b281b949a61f0ef,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 14:12:14 +0300, , doc abort_source fix dangling ref resolve following doxygen warning include seastar core abort_source.hh 130 warning unable resolve reference ref command signed benny halevy bhalevy scylladb.com,,
795,8dc3bf0619374e8ea2ed679fc60439b013504b5c,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 14:05:56 +0300, , doc fix file syntax resolve following doxygen warning parsing file local local home bhalevy dev seastar include seastar core warning name include supplied argument file statement input file signed benny halevy bhalevy scylladb.com,,
796,48245d320225b09163529d71b35089a3a3d29291,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 13:58:54 +0300, , doc future define group hierarchy future mode implementation overview defined first class group clashed main group title define group future util group sub group future module resolve following warning parsing file ... include seastar core future.hh warning group future module ignoring title implementation overview doe match old title future promise signed benny halevy bhalevy scylladb.com,,
797,9a339e2693640761deb50f804521675d178b7533,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 13:46:15 +0300, , doc shared_future fix doxygen group nested properly within namespace block resolve following doxygen warning parsing file ... include seastar core 299 warning end file inside group signed benny halevy bhalevy scylladb.com,,
798,6a3a21df76599eb9697c568f95a2a982a845196c,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 13:46:15 +0300, , doc future util fix doxygen group nested properly within namespace block resolve following doxygen warning parsing file ... include seastar core future util.hh 1472 warning unbalanced grouping command signed benny halevy bhalevy scylladb.com,,
799,082e50bccf4a86cc2dc2fc9a19bc0f6a2238d36d,enny Halevy <bhalevy@scylladb.com>, 2020-07-12 13:40:53 +0300, , doc metric add missing doxygen group open resolve doxygen warning parsing file ... include seastar core metrics.hh 582 warning unbalanced grouping command signed benny halevy bhalevy scylladb.com,,
800,2356140a1003dedfcf5f1a31ba16c59b2bf9f44a,afael vila de Espndola <espindola@scylladb.com>, 2020-02-20 10:50:19 -0800, , future always schedule then_wrapped debug build brings back old behavior debug build then_wrapped always schedule instead executing continuation place followup patch make easy guarantee change done non debug build particular still possible schedule ready future non debug build signed rafael vila esp ndola espindola scylladb.com,,
801,b14d12cc9ef457eb7103dad7c4f58edb563b99bd,afael vila de Espndola <espindola@scylladb.com>, 2020-02-17 08:08:34 -0800, , future call need_preempt then_wrapped remove last call need_preempt then_wrapped ready future always call continuation directly important api change change long chain call future ready future would interrupted taking long high priority task like reclaiming memory responsibility user call need_preempt code might need much time memory producing non ready future 1.35 tps improvement 500 randomized run duration smp m4g also 3.4 reduction text size scylla signed rafael vila esp ndola espindola scylladb.com,,
802,71730855fb4a4cfd7617d4f17176a771bb062637,afael vila de Espndola <espindola@scylladb.com>, 2020-02-17 17:46:47 -0800, , future call need_preempt promise_base make_ready need make sure need_preempt called per loop iteration calling every continuation bit much patch remove one call need_preempt reachable then_wrapped 0.45 tps improvement 500 randomized run duration smp m4g signed rafael vila esp ndola espindola scylladb.com,,
803,5632cf2146b436b6cdd046dc2d85a2cbe8d2e6a1,vi Kivity <avi@scylladb.com>, 2020-07-08 14:33:23 +0300, , merge handle avoid std bad_alloc rafael  idea monday many scylla test started failing reduced location seastar handling avoiding std bad_alloc  espindola fix std bad alloc http github.com espindola seastar semaphore access broken moved expiring_fifo pas reference push_back future guard std bad_alloc future util fix crash std bad_alloc future util reformat do_until,,
804,cbf88f59f2d05ffacba151f812b8d1473116faec,enny Halevy <bhalevy@scylladb.com>, 2020-07-08 09:45:10 +0300, , future mark detach_promise noexcept future_base detach_promise already noexcept missed signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
805,f33bf9c494d46227fb9588efff4d6ed0d4be461e,afael vila de Espndola <espindola@scylladb.com>, 2020-07-06 14:38:05 -0700, , semaphore access broken moved patch push_back threw exception would called already moved signed rafael vila esp ndola espindola scylladb.com,,
806,c616445ad1b7d2670bc9f6dd5fcbb0b45638c730,afael vila de Espndola <espindola@scylladb.com>, 2020-07-06 14:56:34 -0700, , expiring_fifo pas reference push_back push_back fails std bad_alloc important value destroyed signed rafael vila esp ndola espindola scylladb.com,,
807,e6f74892cc509202a3e1c647b8dc2f09753c9d3c,afael vila de Espndola <espindola@scylladb.com>, 2020-07-06 14:10:28 -0700, , future guard std bad_alloc construction fail std bad_alloc signed rafael vila esp ndola espindola scylladb.com,,
808,6a559113488f58a17fea09a45657750b576a55b8,afael vila de Espndola <espindola@scylladb.com>, 2020-07-06 13:17:36 -0700, , future util fix crash std bad_alloc second allocation spot protected handling std bad_alloc patch refactors code one allocation spot do_until_state signed rafael vila esp ndola espindola scylladb.com,,
809,ceed43c361eb4f1d70ca296bbaf143bcf8c7c2b5,afael vila de Espndola <espindola@scylladb.com>, 2020-07-06 13:39:09 -0700, , future util reformat do_until next patch modifies take opportunity fix indentation signed rafael vila esp ndola espindola scylladb.com,,
810,9bdb7e002859fa88e4d0d1d6c3a09a5deb3030af,aphael S. Carvalho <raphaelsc@scylladb.com>, 2020-06-30 14:49:24 -0300, , net wait flush shutdown flush semaphore session closed unexpectedly flush could use free close currently waiting termination fix 764 signed raphael carvalho raphaelsc scylladb.com message raphaelsc scylladb.com,,
811,418554e3812ce20077122ca48eea3dca0d8b8563,afael vila de Espndola <espindola@scylladb.com>, 2020-06-24 14:40:21 -0700, , httpd use instead then_wrapped functionality changed simpler signed rafael vila esp ndola espindola scylladb.com,,
812,a06d46bf028628a57b7035f4e5020b117d7e79d1,afael vila de Espndola <espindola@scylladb.com>, 2020-06-24 14:38:35 -0700, , httpd use std unique_ptr instead raw pointer make future change simpler signed rafael vila esp ndola espindola scylladb.com,,
813,176f0a585bc02d6fb8921e75028ac1e1e03763e1,afael vila de Espndola <espindola@scylladb.com>, 2020-07-06 10:39:36 -0700, , with_lock handle mutable lambda without included test would compile fix scylla build current seastar master signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
814,cc544db7c171d24a005918004c422908a4000444,vi Kivity <avi@scylladb.com>, 2020-07-06 20:31:11 +0300, , merge make coroutine implementation bit like seastar thread rafael  patch series implement coroutines improvement recently done seastar thread  espindola set_coroutine http github.com espindola seastar future inline user future move set_coroutine line future move set_coroutine future_base future call schedule instead set_coroutine future improve asserts promise_base clear,,
815,ab7d1af38c365dd3b9aa99fc7088c42eefa0d36f,avel Emelyanov <xemul@scylladb.com>, 2020-07-06 19:38:12 +0300, , test fix perf fair queue stuck local queue test measure throughput fair queue spawn two fiber queue request fair queue dispatched request increment executed counter fiber called invokers call queue dispatch loop inside do_until waiting executed counter becomes equal greater equal goal one called collector also test run instance multiple time counter question zeroed 1st fiber fiber merged problem 2nd later iteration somehow manages run collector fiber first executed counter becomes equal goal right _yet_ zeroed invoker fiber intermediate result queue _not_ dispatched iteration stuffed request invokers run respectively next iteration invoker fiber queue request int queue dispatching start request overflow executed counter collector fiber never stop fix zero executed counter 2nd fiber test fix perf fair queue stuck signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
816,fa316113a4eb3912750758aef3a35eb42507ec4f,aphael S. Carvalho <raphaelsc@scylladb.com>, 2020-07-06 09:27:13 -0300, , util backtrace get hash moved tasktrace ctor use move move ctor destroy hash value moved object let use hash new object make code future proof signed raphael carvalho raphaelsc scylladb.com message raphaelsc scylladb.com,,
817,58d56b7129f75f17e4006710ee461280ac190278,afael vila de Espndola <espindola@scylladb.com>, 2020-07-03 09:56:28 -0700, , scheduling allow key access element false behavior restoring fix crash startup signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
818,1bc5768700843256a72f0889d647b5460cab69bd,efu Chai <kchai@redhat.com>, 2020-07-05 10:52:55 +0000, , prometheus compatible protobuf 3.4.0 protobuf 3.4.0 bytesize deprecated see http github.com protocolbuffers protobuf release tag v3.4.0 ubuntu bionic packaged protobuf 3.0.0 see http bionic libprotobuf dev signed kefu chai kchai redhat.com message tchaikov gmail.com,,
819,b16897b4e4c965e09dcfd93df12db02bba02266e,vi Kivity <avi@scylladb.com>, 2020-07-05 13:51:55 +0300, , merge fix with_lock error handling benny  series fix error handling lock with_lock shared_mutex with_shared with_lock case lock function fails neither passed func called lock unlocked added unit test verify lock semantics error handling also enabled config option enabled default debug mode asserts unlock overflow i.e lock indeed locked right mdoe applicable unlocked option also used series enable error injection shared_mutex error handling unit test test unit dev locking_test debug  tag fix with_lock error handling github.com bhalevy seastar shared_mutex fix with_shared with_lock error handling config set default dev mode test locking_test basic shared_mutex test shared_mutex add try_shared try_lock method shared_mutex add asserts unlock lock fix with_lock error handling test locking_test basic rwlock test rwlock get rid,,
820,25b842bc0f6192b50a03e2137d017067305c7354,enny Halevy <bhalevy@scylladb.com>, 2020-06-18 15:41:48 +0300, , shared_mutex fix with_shared with_lock error handling lock_shared lock fail respectively neither passed function invoked lock unlocked add unit test inject error shared_mutex lock lock_shared expect neither function passed with_lock with_shared called unlock unlock_shared note shared_mutex lock lock_shared function might fail allocate memory emplacing promise back _waiters circular buffer signed benny halevy bhalevy scylladb.com,,
821,da96b8a05e7793130bff1ddccdeb5a8d6d45e0a6,enny Halevy <bhalevy@scylladb.com>, 2020-06-21 13:46:57 +0300, , config set default dev mode set default dev mode allow explicitly enabling disabling option via configure.py add compile time error set together debug sanitize mode alloc error injection currently work seastar allocator signed benny halevy bhalevy scylladb.com,,
822,7e305f78f803685f6a10316f495c63c0874da7ed,enny Halevy <bhalevy@scylladb.com>, 2020-06-18 14:29:17 +0300, , test locking_test basic shared_mutex test signed benny halevy bhalevy scylladb.com,,
823,df3a7afcddb2abb958e15b49c5f15c169225b155,enny Halevy <bhalevy@scylladb.com>, 2020-06-18 14:34:13 +0300, , shared_mutex add try_shared try_lock method attempt acquire lock shared exclusive access respectively return boolean success status signed benny halevy bhalevy scylladb.com,,
824,554bb352f4e33360491cf762bffee1d8b7451000,enny Halevy <bhalevy@scylladb.com>, 2020-06-18 15:13:55 +0300, , shared_mutex add asserts unlock make sure unlock unlock_shared called lock locked exclusively shared respectively signed benny halevy bhalevy scylladb.com,,
825,d84e48d55b34e09cf9ff2cf806807d9710ce2345,enny Halevy <bhalevy@scylladb.com>, 2020-06-18 16:10:22 +0300, , lock fix with_lock error handling lock.lock fails neither func called lock.unlock added unit test verify note with_lock typically used rwlock.for_ read write may fail allocate memory semaphore wait adding entry _wait_list also with_lock template may instatiated lock type provides lock unlock lock.lock may fail well signed benny halevy bhalevy scylladb.com,,
826,9d514bef0b46e608928d50f4cf960f313845652e,enny Halevy <bhalevy@scylladb.com>, 2020-06-18 16:04:06 +0300, , test locking_test basic rwlock test signed benny halevy bhalevy scylladb.com,,
827,73d8463560c06af8bf708eb0f0a8c9ef6e760e9a,enny Halevy <bhalevy@scylladb.com>, 2020-06-21 13:01:30 +0300, , rwlock get rid used inconsistently asserts enables lightweight evaluated unconditionally signed benny halevy bhalevy scylladb.com,,
828,828f48b98049b30c805139e482a1371f7f3752e2,afael vila de Espndola <espindola@scylladb.com>, 2020-06-23 18:58:04 -0700, , future inline user signed rafael vila esp ndola espindola scylladb.com,,
829,b31249b6dab581068e28defde9fe6e0e34e3ebf5,afael vila de Espndola <espindola@scylladb.com>, 2020-06-23 18:39:21 -0700, , future move set_coroutine line used blocking probably good idea use coroutines switch opportunity code header know need signed rafael vila esp ndola espindola scylladb.com,,
830,8c384e76fbc76f72ab51482e9405ea00b4b4ff2f,afael vila de Espndola <espindola@scylladb.com>, 2020-06-23 18:28:48 -0700, , future move set_coroutine future_base asserts _state seems worth signed rafael vila esp ndola espindola scylladb.com,,
831,a58be0dedbda930f5d2530c42ee062ce9004e16d,afael vila de Espndola <espindola@scylladb.com>, 2020-06-23 17:47:14 -0700, , future call schedule instead set_coroutine match done thread signed rafael vila esp ndola espindola scylladb.com,,
832,64ba633c28475f62d7a53a8cfdc374878d4424e0,afael vila de Espndola <espindola@scylladb.com>, 2020-06-23 17:47:10 -0700, , future improve asserts promise_base clear since possible _future _task pointer set two independent statement assert assert _state available _task also bit strict almost case _task part making pas since get _future _task one would gymnastics destroy promise thread switched back state available become easier following patch series make treat coroutines bit like seastar thread signed rafael vila esp ndola espindola scylladb.com,,
833,baf7cf9e7224d77f0450ca6e08b95e566134d893,vi Kivity <avi@scylladb.com>, 2020-07-01 18:33:12 +0300, , merge simplify logic detecting broken promise rafael  future_state set broken promise exception promise left set anything else natural point noticing promise gone destructor patch series doe  espindola http github.com espindola seastar future make static helper future assume broken promise set promise_base future call earlier,,
834,98e715f5caf091463a1ababd608703e7bc5167e4,afael vila de Espndola <espindola@scylladb.com>, 2020-02-18 07:36:20 -0800, , future make static helper called promise_base ought signed rafael vila esp ndola espindola scylladb.com,,
835,f0ad3f8f691fd3a77f68e845bc30add9ab1ba7a5,afael vila de Espndola <espindola@scylladb.com>, 2020-02-17 17:29:27 -0800, , future assume broken promise set promise_base promise_base take care calling remove couple redundant call function also simplify future schedule since promise implies state available signed rafael vila esp ndola espindola scylladb.com,,
836,386f575021e5327155f3f4a5b0d580c80c2bd45e,afael vila de Espndola <espindola@scylladb.com>, 2020-02-18 07:28:46 -0800, , future call earlier mark future broken soon corresponding promise destroyed functionality change patch allows followup simplification signed rafael vila esp ndola espindola scylladb.com,,
837,4a86366a44a779d9e55ee979a2f700e5dd3f222a,vi Kivity <avi@scylladb.com>, 2020-07-01 16:39:45 +0300, , merge make function noexcept benny  series make function noexcept eventually specifies future utils noexcept test unit dev dev  tag noexcept github.com bhalevy seastar future make noexcept task specify get_future noexcept make function noexcept specify trivial function noexcept task_queue specify set_shares noexcept specify noexcept specify allocate deallocate low level helper noexcept specify get_specific method noexcept specify noexcept refactor add noexcept move constructor specify function noexcept specify noexcept specify hash noexcept specify index related internal function noexcept throw,,
838,5b7668ca5b80c73c58523117c8335b1b468bbca8,enny Halevy <bhalevy@scylladb.com>, 2020-06-24 17:25:04 +0300, , future make noexcept function call noexcept requiring std func allows make noexcept make lambda function nothrow move constructible signed benny halevy bhalevy scylladb.com,,
839,5d5c09e51130e64c964a6abb83b13d0a90768a1a,enny Halevy <bhalevy@scylladb.com>, 2020-06-29 11:54:22 +0300, , gate specify close noexcept although make_optional specified noexcept practicly since allocate memory promise nothrow constructible signed benny halevy bhalevy scylladb.com,,
840,ac813a9931bf2d4ff75afd6c6730f11decaa5413,vi Kivity <avi@scylladb.com>, 2020-07-01 16:01:12 +0300, , merge io_queue fix reworks shared fair queue pavel  set includes preparation two fix accounting found making shared fair queue prototype preparing test improve  queue fixlets http github.com xemul seastar reactor io_queue fix indentation previous patch reactor io_queue try catch submit_io io_completion handle complete_with reactor handle submission exception reactor introduce io_completion io_queue remove fair_queue fix accounting io_queue fix discrepancy queuer reqs number io_queue localize fq_ticket evaluation request io_queue method io_queue turn unique_ptr fair_queue remove one level indirection updating class share queue mark noexcept priority_class mark method noexcept,,
841,1241582b33608a0797673a2defdf48d88f93ff60,avel Emelyanov <xemul@scylladb.com>, 2020-07-01 14:08:45 +0300, , reactor io_queue fix indentation previous patch shifting code left functional change signed pavel emelyanov xemul scylladb.com,,
842,2125573e203fc4686739ed8523266ba8ec5cd727,avel Emelyanov <xemul@scylladb.com>, 2020-07-01 14:07:27 +0300, , reactor io_queue try catch submit_io latter already noexcept need extra catching around signed pavel emelyanov xemul scylladb.com,,
843,4adb38f685955de967fa019f5e47a7e1244224d1,avel Emelyanov <xemul@scylladb.com>, 2020-07-01 14:05:01 +0300, , io_completion handle complete_with handling aio completion generalized io_completion implementation help .complete size_t method signed pavel emelyanov xemul scylladb.com,,
844,665e8c6396141b74a382108b862205fdad692f07,avel Emelyanov <xemul@scylladb.com>, 2020-07-01 13:56:56 +0300, , reactor handle submission exception request may completed exception submittion handle mark submit_io noexcept signed pavel emelyanov xemul scylladb.com,,
845,625feb0bc35418167af12a800118e17a151104e6,enny Halevy <bhalevy@scylladb.com>, 2020-06-29 11:48:49 +0300, , gate specify trivial method noexcept gate leave lisghtly trivial call promise set_value noexcept signed benny halevy bhalevy scylladb.com,,
846,92a4ae1f8a15b7d5f62abc820dc7c1db933c96b0,enny Halevy <bhalevy@scylladb.com>, 2020-06-29 12:04:57 +0300, , gate add static asserts nothrow default move signed benny halevy bhalevy scylladb.com,,
847,99e882973b75ea4da1d7a59fa864251d45e375f2,avel Emelyanov <xemul@scylladb.com>, 2020-07-01 13:52:24 +0300, , reactor introduce io_completion goal make reactor submit_io request completion processing mark noexcept need work sophisticated completion api provides placeholder signed pavel emelyanov xemul scylladb.com,,
848,453259ad8c5b403374363229083f1aa6a51f8f56,avel Emelyanov <xemul@scylladb.com>, 2020-06-25 19:28:20 +0300, , io_queue remove previous patch nothing empty loop drop one signed pavel emelyanov xemul scylladb.com marked nice benny halevy bhalevy scylladb.com,,
849,65735bebfff96dccde49f9aa7dc82e30080c67c7,avel Emelyanov <xemul@scylladb.com>, 2020-06-25 19:25:26 +0300, , fair_queue fix accounting counter inc current code since nobody come unnoticed shared fair queue need draft need keep correct kill batch processing save nothing keep io_queue class bigger notify completed request right signed pavel emelyanov xemul scylladb.com,,
850,154b1288cdef03377fe4eabc6141b9d50736b3a2,avel Emelyanov <xemul@scylladb.com>, 2020-06-25 18:27:32 +0300, , io_queue fix discrepancy queuer reqs number counting request queued fair queue counter io_queue incremented first fair_queue queue called counter decremented queue callback since former may throw counter remain incremented problem io_queue one used anyone one reported stats thus used fix incrementing counter queue call signed pavel emelyanov xemul scylladb.com,,
851,f6b8fa6254f009348ec909ce61923e2f061df58e,avel Emelyanov <xemul@scylladb.com>, 2020-06-25 17:20:31 +0300, , io_queue localize fq_ticket evaluation request io_queue method make obvious relaxes interface signed pavel emelyanov xemul scylladb.com,,
852,d63bfbef63931502da25130985ef7788a0d4b753,avel Emelyanov <xemul@scylladb.com>, 2020-06-25 16:37:53 +0300, , io_queue turn unique_ptr used shared real past nowadays shard local object used via reference shared ptr excessive signed pavel emelyanov xemul scylladb.com,,
853,f5afc496531206ef604a9d53cbc91f464bc81253,avel Emelyanov <xemul@scylladb.com>, 2020-06-25 16:53:20 +0300, , fair_queue remove one level indirection updating class share avoid one nothing helper method fair_queue signed pavel emelyanov xemul scylladb.com,,
854,5bcc5dbf681340a7becd75e45709a66f2d8b7415,avel Emelyanov <xemul@scylladb.com>, 2020-07-01 14:17:58 +0300, , queue mark noexcept io_queue fair_queue method trivially non throwing signed pavel emelyanov xemul scylladb.com,,
855,43ea2f6796e8b0429632e05b3af4caf779031696,avel Emelyanov <xemul@scylladb.com>, 2020-06-30 14:00:20 +0300, , priority_class mark method noexcept trivially including constructor signed pavel emelyanov xemul scylladb.com,,
856,dbecfff5a492f7cbb273c52e2102019d1d1c19b0,avel Emelyanov <xemul@scylladb.com>, 2020-06-30 19:23:53 +0300,6606, sharded hang never set freed promise sharded start handle exception initializing local instance calling sharded stop instance creation construction throw respective _instance pointer remains nullptr respective freed promise remains unresolved since track_deletion called sharded start call freed.get unconditionally shard thus hang failed shard fix check _instance nullptr pointer always folowed track_deletion resolve freed promise also add unit test case ref scylladb scylla 6606 test unit dev signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
857,738c2fe9e7dade95a78a03cd98e3b88649e7fdc1,enny Halevy <bhalevy@scylladb.com>, 2020-06-24 17:23:38 +0300, , task specify get_future noexcept inherited promise get_future preparation specifying internal noexcept signed benny halevy bhalevy scylladb.com,,
858,f1c00e9f20386646b34dedb5b7fca839f5809218,enny Halevy <bhalevy@scylladb.com>, 2020-06-24 17:21:07 +0300, , make function noexcept safely specified noexcept doe throw  made noexcept returning exceptional future rather throwing exception signed benny halevy bhalevy scylladb.com,,
859,20f045bdc72c748500f4d1bedb309c316efdda64,enny Halevy <bhalevy@scylladb.com>, 2020-06-24 23:24:18 +0300, , specify trivial function noexcept signed benny halevy bhalevy scylladb.com,,
860,2992559d878c7151dac1609b67bb22272de08d84,enny Halevy <bhalevy@scylladb.com>, 2020-06-24 20:08:13 +0300, , task_queue specify set_shares noexcept trivially preparation marking set_shares noexcept signed benny halevy bhalevy scylladb.com,,
861,330f93108bacf60ba579871107f63805a8abf43e,enny Halevy <bhalevy@scylladb.com>, 2020-06-24 23:31:53 +0300, , specify noexcept specified noexcept signed benny halevy bhalevy scylladb.com,,
862,8d283ca92660aafe713d624df3d177dea2ab9d4c,enny Halevy <bhalevy@scylladb.com>, 2020-06-24 23:19:59 +0300, , specify allocate deallocate low level helper noexcept signed benny halevy bhalevy scylladb.com,,
863,87f7d696013a652494f9ba816abd6704c0e263c9,enny Halevy <bhalevy@scylladb.com>, 2020-06-25 00:00:49 +0300, , specify get_specific method noexcept although may throw must throw called case therefore specify get_specific noexcept signed benny halevy bhalevy scylladb.com,,
864,845504d3a63ccf94e37dd26dea7883e480c87307,enny Halevy <bhalevy@scylladb.com>, 2020-06-24 23:56:18 +0300, , specify noexcept key call noexcept function doe throw error signed benny halevy bhalevy scylladb.com,,
865,6e54dae5321b6bb9b36ac0fde04f96b491b6b246,enny Halevy <bhalevy@scylladb.com>, 2020-06-25 19:22:01 +0300, , refactor define internal noexcept return pointer given scheduling group specific data return nullptr found initialized specified noexcept call noexcept function key specified noexcept key continue throw via needed signed benny halevy bhalevy scylladb.com,,
866,2ae265f573606a795b7927d7d262612b66a6e316,enny Halevy <bhalevy@scylladb.com>, 2020-06-25 11:40:36 +0300, , add noexcept move constructor completeness used  signed benny halevy bhalevy scylladb.com,,
867,ab19b7eb747861f84150c184bb597eb3b3702b3e,enny Halevy <bhalevy@scylladb.com>, 2020-06-24 23:38:42 +0300, , specify function noexcept marked constructor method trivially noexcept signed benny halevy bhalevy scylladb.com,,
868,a326645142fdc9cd20be389dc068b51ed536bb2e,enny Halevy <bhalevy@scylladb.com>, 2020-06-24 23:54:15 +0300, , specify noexcept key helper trivially noexcept signed benny halevy bhalevy scylladb.com,,
869,721afce55c0e79ffa136455056db69e6f2063d78,enny Halevy <bhalevy@scylladb.com>, 2020-06-24 23:52:16 +0300, , specify hash noexcept noexcept signed benny halevy bhalevy scylladb.com,,
870,63447f8c7ed50787b221a5d085b41e8a3b30eae9,enny Halevy <bhalevy@scylladb.com>, 2020-06-24 23:12:55 +0300, , specify index related internal function noexcept trivially signed benny halevy bhalevy scylladb.com,,
871,44e2956cdcde6c6a679576d77256c0d4cb439073,enny Halevy <bhalevy@scylladb.com>, 2020-06-24 20:12:51 +0300, , throw rather throwing return negative ineteger scheduling group limit exceeded made noexcept function internal static reactor api change signed benny halevy bhalevy scylladb.com,,
872,8dd4fb582ee4522535af973f3382a43845b56856,enny Halevy <bhalevy@scylladb.com>, 2020-06-24 13:09:58 +0300, , foreign_ptr make constructor method conditionally noexcept foreign_ptr constructor may potentially throw depending template parameter ptrtype specifying e.g noexcept std ptrtype still useful since typically foreign_ptr used std unique_ptr seastar shared_ptr seastar lw_shared_ptr nothrow constructible correspondingly specify operator get method conditionally noexcept based respective ptrtype method use also specified noexcept std unique_ptr seastar lw_ shared_ptr signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
873,56a4383f575e742910c1974a04389afbedf5f394,enny Halevy <bhalevy@scylladb.com>, 2020-06-24 13:09:57 +0300, , foreign_ptr specify method noexcept copy destroy specified noexcept smp submit_to this_shard_id get_owner_shard trivially noexcept signed benny halevy bhalevy scylladb.com test unit dev message bhalevy scylladb.com,,
874,5db34ea8d3e32f5ba2800fe8808309db9233915f,afael vila de Espndola <espindola@scylladb.com>, 2020-06-29 12:41:17 -0700, , scollectd avoid deprecated warning hitting http gcc.gnu.org bugzilla show_bug.cgi 95302. removing namespace alias work around bug avoid deprecated warning signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
875,5888ac0b5073890bdd6e3b8a22227fa86028498e,afael vila de Espndola <espindola@scylladb.com>, 2020-06-29 14:26:55 -0700, , prometheus avoid protobuf deprecated warning bytesize deprecated favor bytesizelong since bit value use writevarint64 since according documentation writevarint32 say write unsigned integer varint encoding writing bit value equivalent casting uint64 writing bit value may efficient signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
876,9415694a4a97437e7ead99ed55972e0a33b5c58c,vi Kivity <avi@scylladb.com>, 2020-06-28 18:41:31 +0300, , merge avoid abandoned future test rafael  patch series fix test dropping abandoned future wanted test add support explicitly checking warning produced future dropped  espindola abandoned failure test http github.com espindola seastar futures_test explicitly mark code discard broken future semaphore_test disable fail abandoned failed future test discard future test discard future test discard future,,
877,81fc7bbb9447424c02647f2e21d620575b6f13bd,afael vila de Espndola <espindola@scylladb.com>, 2020-06-22 17:17:00 -0700, , futures_test explicitly mark code discard broken future two test intentionally discarded broken future actually check warning produced count towards check done fail abandoned failed future signed rafael vila esp ndola espindola scylladb.com,,
878,8ed81864425e1bcd9ff26db4ee52ee9bbe115ba6,afael vila de Espndola <espindola@scylladb.com>, 2020-06-26 09:57:55 -0700, , semaphore_test disable fail abandoned failed future abandoned failed future test file signed rafael vila esp ndola espindola scylladb.com,,
879,13d2526d451bbb9d62d854381e77e85f477a1565,afael vila de Espndola <espindola@scylladb.com>, 2020-06-26 09:55:16 -0700, , test discard future signed rafael vila esp ndola espindola scylladb.com,,
880,3bdae3c863ef33ca9a97771fc0885de8bd44ac15,afael vila de Espndola <espindola@scylladb.com>, 2020-06-26 09:47:26 -0700, , test discard future signed rafael vila esp ndola espindola scylladb.com,,
881,0edcbda60176045e38d6b86db636d67ba1b51e35,afael vila de Espndola <espindola@scylladb.com>, 2020-06-25 17:58:12 -0700, , test discard future signed rafael vila esp ndola espindola scylladb.com,,
882,947207c7d75f89f1eb69cfd2f63cbdfdbde9db65,vi Kivity <avi@scylladb.com>, 2020-06-24 19:44:04 +0300, , merge make circular_buffer method noexcept benny  series specifies applicable constructor method noexcept test dev  tag circular_buffer noexcept github.com bhalevy seastar circular_buffer mark cbiterator related method noexcept circular_buffer mark pop erase noexcept circular_buffer mark access element method noexcept circular_buffer mark default constructor noexcept,,
883,22c853ed4c59127fab178b601fa7f1da4403d68c,afael vila de Espndola <espindola@scylladb.com>, 2020-06-23 16:57:04 -0700, , futures_test wait future test execution would produce warning discarding exceptional future destroying future followup test increment manual clock causing already destroyed future timeout signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
884,83919516c98deb78de4e6d909bb4468426c7836d,avel Emelyanov <xemul@scylladb.com>, 2020-06-23 21:51:20 +0300,1, iotune report disk iop instead kernel iop iotune tool measure disk throughput iop four sequential measurement sequentially writes big file sequentially read file randomly writes file randomly read know file improtant measurement come first start test file created truncated size first measurement fill data read step respectively 1st measurement size file updated reflect real amount data written latter done taking number byte written file reality first test may wrap around initial file size write data file size seen bigger actually even time bigger subsequently next test read write random hole area reading test becomes quite problematic kernel submit real requess read missing due hole block result shown bandwidth iop average value disk iop kernel read hole per second fix getting maximum position first test writes limiting next test value instead amount writter byte signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
885,e7d89506a1063ae84d7940efd97b7c63ae14c427,avel Emelyanov <xemul@scylladb.com>, 2020-06-23 22:00:57 +0300, , io_tester ability add dsync option open_file_dma commitlog opened dsync emulate io_tester able add flag signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
886,11e86172ba125399b16215a6a0c2b975af70f380,vi Kivity <avi@scylladb.com>, 2020-06-24 11:20:56 +0300, , merge smp make submit_to noexcept benny  series specifies following class method noexcept this_shard_id smp submit_to smp invoke_on_all smp test unit dev  tag submit_to noexcept github.com bhalevy seastar smp make invoke_on_all noexcept reactor make noexccept smp specify noexcept smp specify submit_to noexcept smp specify this_shard_id noexcept smp specify constructor noexcept lowres_clock specify method noexcept timer specify constructor method noexcept smp specify function noexcept,,
887,c36c39b2c489b9c8f5e360ad87e50919c55fe173,afael vila de Espndola <espindola@scylladb.com>, 2020-06-23 18:41:41 -0700, , memory fix clang build clang complains _old member variable unused could add ifdef remove using system allocator seems better silence warning signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
888,8cba1daeab8654c87b8740d0b9cf974fe273ed06,afael vila de Espndola <espindola@scylladb.com>, 2020-06-23 09:44:38 -0700, , fix debug build needed allocator still define using system allocator avoid undefined reference signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
889,77af9d04e4870edbdc5569a6ea4b8376d5e855da,afael vila de Espndola <espindola@scylladb.com>, 2020-06-23 10:28:17 -0700, , manual_clock add missing includes signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
890,3c464b2a2504ca39456203bee537147ee12e343a,enny Halevy <bhalevy@scylladb.com>, 2020-06-22 13:20:32 +0300, , smp make invoke_on_all noexcept require func passed nothrow move constructible note mark smp all_cpus noexcept although boost irange noexcept boost trivial constructor throw practice signed benny halevy bhalevy scylladb.com,,
891,beec65e8e46779a10d9ad362e263629b5599476a,enny Halevy <bhalevy@scylladb.com>, 2020-06-22 15:22:11 +0300, , reactor make noexccept inherit futurize_invoke lambda passed made nothrow move constructible modulo http gcc.gnu.org bugzilla show_bug.cgi 95368 preparation requiring making invoke_on_all noexcept fixed hidden use move masked fact new_name captured const std move io_queue signed benny halevy bhalevy scylladb.com,,
892,9f86b935a3cdcdc8675bbce6905637f2d8a5179a,enny Halevy <bhalevy@scylladb.com>, 2020-06-22 14:12:44 +0300, , smp specify noexcept submit_to noexcept signed benny halevy bhalevy scylladb.com,,
893,83513eebf4f3a7ec9bd6f1301b906f90298e0f98,enny Halevy <bhalevy@scylladb.com>, 2020-06-22 13:10:02 +0300, , smp specify submit_to noexcept this_shard_id noexcept submit_to unsigned func handle exception call noexcept function hence specified noexcept called submit_to unsigned func make noexcept forward func specifies noexcept well avi kivity avi scylladb.com observed note underlying implementation submit_to noexcept doe allocate terminate allocation fails allocation failure convert exceptional future since application may rely submit_to error recovery path example unlock lock another shard signed benny halevy bhalevy scylladb.com,,
894,9409a13d42ba26bf2b6d6839c07c46b3e0f9a690,enny Halevy <bhalevy@scylladb.com>, 2020-06-22 12:46:27 +0300, , smp specify this_shard_id noexcept internal this_shared_id call trivially noexcept signed benny halevy bhalevy scylladb.com,,
895,6a098d7f5d71b055c2f47f184d6e1a377c014696,enny Halevy <bhalevy@scylladb.com>, 2020-06-22 12:50:34 +0300, , smp specify constructor noexcept noexcept copying noexcept also assuming constructed lowres_clock time_point noexcept well although std chrono time_point specify since constructed trivial int type signed benny halevy bhalevy scylladb.com,,
896,f689d5dbdb67e2775479a5917cb44305b5cf1663,enny Halevy <bhalevy@scylladb.com>, 2020-06-23 12:56:00 +0300, , lowres_clock specify method noexcept note default constructor might throw since arm _timer turn might throw timer clock arm engine .add_timer signed benny halevy bhalevy scylladb.com,,
897,42768276ba8ca9999a64fae4ade37a48c0b8c245,enny Halevy <bhalevy@scylladb.com>, 2020-06-23 12:42:37 +0300, , timer specify constructor method noexcept although std chrono time_point constructor specified noexcept reason throw similarly assume boost intrusive default contructor doe throw member either trivial nothrow default constructible namely std optional duration note default constructor body need implemented become noexcept due bug gcc 9.3.1 see also signed benny halevy bhalevy scylladb.com,,
898,c9990bc8fb5b39b9f6d534dd0aa7ecb3a676d680,enny Halevy <bhalevy@scylladb.com>, 2020-06-22 12:39:18 +0300, , smp specify function noexcept constructing trivially noexcept internal return construct inherit noexcept property trivially noexcept note made noexcept following patch smp submit_to made noexcept note although unsigned constructor throw specified noexcept std unsigned evaluated false since constructor private hence static assert verify signed benny halevy bhalevy scylladb.com,,
899,7664f991b9d5b299a9012dfc37e3e39690cf6158,enny Halevy <bhalevy@scylladb.com>, 2020-06-17 10:14:30 +0300, , gate add try_enter try_with_gate try_enter try_with_gate nothrow equivalent enter with_gate respectively rather throwing gate closed try_enter return false otherwise enters gate return true try_with_gate try enter gate closed return exceptional future holding rather throwing otherwise gate could entered propagates future returned func passed simplify rpc code test using try_with_gate add unit test futures_test test with_gate try_with_gate semantics test futures_test dev signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
900,0441fdf2b077398bff7021e7db89e1483d23d28d,vi Kivity <avi@scylladb.com>, 2020-06-23 11:39:31 +0300, , merge manage reference count file api rafael  move managing reference count file api making easier use  espindola file ref count github.com espindola seastar everywhere remove redundant .finally call tutorial update file api manages reference counting file keep file alive close completes,,
901,3e605b79f9dad5fc27366e7dc3b8be60f2e49468,afael vila de Espndola <espindola@scylladb.com>, 2020-06-19 16:37:26 -0700, , cmake refactor bit duplicated code functionality change signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
902,48b21b617127f23f3c86e13cb082fb8f9706d74e,afael vila de Espndola <espindola@scylladb.com>, 2020-04-27 19:00:27 -0700, , stream delete _sub stream longer need access subscription delete _sub member variable signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
903,888b4b5c19778c08211e6263e6c06bec5ee37abd,afael vila de Espndola <espindola@scylladb.com>, 2020-06-22 15:12:39 -0700, , future add code path slow point inline cause 0.2 reduction text section scylla 40950356 40867316 byte signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
904,73e3fbc1bc51daa81fb70ba9c69f670f59ce2592,afael vila de Espndola <espindola@scylladb.com>, 2020-06-17 17:56:50 -0700,760, future use new seastar finally std designed inherited derived type hold outer exception inner exception captured std constructor call std good match future finally derived type anymore std exception_ptr patch introduces seastar hold two std exception_ptr finally finally actually save exception fix 760 signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
905,f00ca20670bb50c7ba1ed24806c257f6d495c117,efu chai <tchaikov@gmail.com>, 2020-06-20 13:29:19 +0800, , cmake apply compile option language source written language compiled along source file seastar library compiler see option exposed seastar complains like warning command line option fconcepts valid objc  change option added language signed kefu chai tchaikov gmail.com message mcknx mail.gmail.com,,
906,93161002db96e2e51342f3fcd968b6b8d3d49230,afael vila de Espndola <espindola@scylladb.com>, 2020-06-19 16:43:37 -0700, , testing enable fail abandoned failed future default change fail abandoned failed future default add fail abandoned failed future false test compensate corresponding adjustment needed scylla test signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
907,a5d7a85f4429d01e8de0ed85dac30813fb2756fb,afael vila de Espndola <espindola@scylladb.com>, 2020-06-22 10:07:55 -0700, , future correct hypercorrect std forward case using std forward place argument universal reference class lambda member signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
908,e4908d85373cf667f71295fa44ae304d77717080,afael vila de Espndola <espindola@scylladb.com>, 2020-06-22 10:07:54 -0700, , futures_test test using future function unintentinally fixed signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
909,e276b8d39177c18e3aa3c74e6acbdc220bef7f21,vi Kivity <avi@scylladb.com>, 2020-06-22 13:39:24 +0300, , merge queue set cleanup collected far pavel  set remove dead relaxes excessive code test unit dev iotune tester  queue fixlets http github.com xemul seastar doc tester mention xfs requirement reactor io_queue unfriend io_queue encapsulate prio class renaming io_queue resource io_queue remove coordinator vector io_queue unfriend smp io_queue remove dead code field,,
910,a460557d0b310423f107b01b99fd5bc0d887da92,afael vila de Espndola <espindola@scylladb.com>, 2020-06-18 17:42:34 -0700, , tmp_file replace futurize_apply futurize_invoke using futurize_apply non tuple argument deprecated signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
911,4ec00e8e70fb2f76d05477e1bdb17c0a1bc8c253,avel Emelyanov <xemul@scylladb.com>, 2020-06-18 21:16:04 +0300, , doc tester mention xfs requirement tester refuse work anything xfs warn read doc running code signed pavel emelyanov xemul scylladb.com,,
912,83a9d0ad8ef250873379227a355a1ad67772a5eb,avel Emelyanov <xemul@scylladb.com>, 2020-06-18 16:24:28 +0300, , reactor io_queue unfriend longer need mess private field signed pavel emelyanov xemul scylladb.com,,
913,def811d162f87a5b0c68d858a53c6ec462245e19,avel Emelyanov <xemul@scylladb.com>, 2020-06-18 16:22:53 +0300, , io_queue encapsulate prio class renaming io_queue reactor get deep internal stuff io_queue rename priority class moving renaming code io_queue keep prio class management code close let unfriend io_queue reactor next patch signed pavel emelyanov xemul scylladb.com,,
914,f37c852085cc2b98383273c9ffbaf0f1c666d942,avel Emelyanov <xemul@scylladb.com>, 2020-06-18 14:21:33 +0300, , resource io_queue remove coordinator vector vector store shard number respective queue coordinator value needed whole vector used find number replace plain unsigned value signed pavel emelyanov xemul scylladb.com,,
915,6d67d32a91e58f2275d1971b555578f663972b3b,avel Emelyanov <xemul@scylladb.com>, 2020-06-18 16:05:35 +0300, , io_queue unfriend smp needed signed pavel emelyanov xemul scylladb.com,,
916,c89a64eb7322cb916865bf4c437770c8e9a246b4,avel Emelyanov <xemul@scylladb.com>, 2020-06-18 15:37:16 +0300, , io_queue remove dead code field io_queue config io_topology used anyone signed pavel emelyanov xemul scylladb.com,,
917,47e4dbdea707962cfe542935c127e4adee536291,afael vila de Espndola <espindola@scylladb.com>, 2020-06-18 08:58:22 -0700, , future replace promise set_coroutine function thing message espindola scylladb.com,,
918,a6c8105443eedcb923e43decfb75b8b3ac2b1536,vi Kivity <avi@scylladb.com>, 2020-06-18 15:33:06 +0300, , merge move line rafael  0.8 reduction text size scylla 38711668 38404708 byte  espindola move line http github.com espindola seastar future mark constructor noexcept future move do_wait line future move code do_wait wait future call wait instead do_wait future description implementation thread detemplate future split promise schedule,,
919,5e43d32dd46c9fe2b6e233fb2819e5d0620ad4f4,afael vila de Espndola <espindola@scylladb.com>, 2020-06-17 10:59:35 -0700, , future fix result_of_apply instantiation result_of_apply template single template parameter gcc fine passing extra template parameter pack long empty clang always error fix clang build signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
920,0ecf8222a003774cb641d16cd9c714feb1d71a19,afael vila de Espndola <espindola@scylladb.com>, 2020-06-17 11:42:33 -0700, , future move function then_wrapped patch function object passed moved creating lambda schedule fut.get_promise func std forward func func ... lambda moved continuation continuation explicitly contain original function object wrapper move original function object  0.7 reduction scylla text size 41492660 41799156 signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
921,92ce43d00c07740391a8a9297a7e5cc34d358359,avel Emelyanov <xemul@scylladb.com>, 2020-06-18 11:59:33 +0300, , queue dont leak desc queueing desc func fair queue time _fq.queue called desc raw pointer already captured lambda unique pointer released queue throw allocating memory thus desc memory remain released unique_ptr supposed handle .release happens early fix keeping pointer lambda releasing inside signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
922,12cb2d8a780d497f4a5a00b9c7b94b6de3109899,avel Emelyanov <xemul@scylladb.com>, 2020-06-18 11:59:34 +0300, , fair queue keep request queue self consistent queuing request fair_queue queue doe three thing push prio class queue push request class queue bump counter look counter check dispatch queue asserts queue empty respectively counter bumped request queued assert non empty check sooner later try find missing request happen queueing throw allocating memory fix incrementing counter last note push priority class throw queueing request already handle queued empty prio class signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
923,38f5bbfb81c1e42af7afad0e280581199673358b,avel Emelyanov <xemul@scylladb.com>, 2020-06-18 11:59:32 +0300, , app coredump missing option seastar app start argv mandatary option bpo notify throw respective exception program abort core dump particular iotune doe signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
924,25b1acb4a283a54a8a618cb92c2c481e271aece8,enny Halevy <bhalevy@scylladb.com>, 2020-06-17 19:34:07 +0300, , future promise mark set_value noexcept future_state set noexcept also marked future_state get_state noexcept trivially called set_value signed benny halevy bhalevy scylladb.com test unit dev message bhalevy scylladb.com,,
925,2f8826ed52583d783daf9d6e6242fa51a7b1494c,enny Halevy <bhalevy@scylladb.com>, 2020-06-17 19:34:06 +0300, , future future_state mark set noexcept construct future_state place using non throwing constructor std forwarding argument signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
926,fd3b0fa5561294d362b3ff755c28825e759bf400,afael vila de Espndola <espindola@scylladb.com>, 2020-06-17 11:06:00 -0700, , fair_queue_perf remove unused capture fond clang warning signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
927,2b393fae2f5e68323e005467c7d977f6c0069709,afael vila de Espndola <espindola@scylladb.com>, 2020-06-17 11:05:59 -0700, , file_io_test add missing override found clang warning signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
928,d44967358704c8d83a27f16c06da6abfef298d01,vi Kivity <avi@scylladb.com>, 2020-06-18 15:18:18 +0300, , merge tmp_dir handle remove failure do_with_thread benny  since t.remove happens deferred action destructor must throw instead deferring action catch exception function remove temporary directory unconditionally returning exception might thrown thread  tag tmp_dir do_with_thread github.com bhalevy seastar util tmp_file do_with_thread handle exception remove util tmp_file allow setting default_tmpdir util tmp_dir do_with add require concept util tmp_file specify do_with_thread noexcept,,
929,e3a1656bcbcf513456fbb976fb21f74f255b88a2,afael vila de Espndola <espindola@scylladb.com>, 2020-06-17 15:53:45 -0700, , api level add missing api_v4 namespace without visible build api level signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
930,093e7a34cd7d93a8c2dbe9ed610ba7988628cb1d,afael vila de Espndola <espindola@scylladb.com>, 2020-06-17 15:53:44 -0700, , future fix canapplytuple concept strict implementation since would accept move type signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
931,a8cf8b39c9b13052597df63506cd965032429172,afael vila de Espndola <espindola@scylladb.com>, 2020-06-08 10:08:24 -0700, , future mark constructor noexcept signed rafael vila esp ndola espindola scylladb.com,,
932,e03cae57e8f45f0ca00bcaae74628e7965f1ebf0,afael vila de Espndola <espindola@scylladb.com>, 2020-06-05 18:06:23 -0700, , future move do_wait line move do_wait future_base implementation line also move line signed rafael vila esp ndola espindola scylladb.com,,
933,0a19856d918ce854d68bb7e165d1b9f72d1daf09,afael vila de Espndola <espindola@scylladb.com>, 2020-06-05 18:00:43 -0700, , future move code do_wait wait do_wait called sure want wait also need access _state signed rafael vila esp ndola espindola scylladb.com,,
934,6bd7da15493fa42b59e2f9b57cd2259e1c920a19,afael vila de Espndola <espindola@scylladb.com>, 2020-06-05 17:53:28 -0700, , future call wait instead do_wait functionality changed little code duplication single call site do_wait signed rafael vila esp ndola espindola scylladb.com,,
935,a2c84cd2a0830cc098e562fe5f52996ebefacec7,afael vila de Espndola <espindola@scylladb.com>, 2020-06-16 13:28:27 -0700, , future description implementation signed rafael vila esp ndola espindola scylladb.com,,
936,a9f0953e8ae96d7ec8a2429bf3661ffa07d3930f,afael vila de Espndola <espindola@scylladb.com>, 2020-06-11 17:16:02 -0700, , thread detemplate patch needed templated could set value corresponding future instead keep original future promise relationship reason promise _state pointer normally pointed task future destroyed future example case original future stay stack requires small update existing logic handle promise _state _task pointer set change clear _state promise_base make_read maintain invariant promise point future _state point state future signed rafael vila esp ndola espindola scylladb.com,,
937,631187f67b35e2dac156daccb65a04f0f31aaa1d,afael vila de Espndola <espindola@scylladb.com>, 2020-06-17 09:55:21 -0700, , future split promise schedule layer void schedule task callback noexcept void future_state ... state task callback noexcept void ... callback noexcept signed rafael vila esp ndola espindola scylladb.com,,
938,b1baf2f4d23dc0a912c34520bbfbe61839d297b5,enny Halevy <bhalevy@scylladb.com>, 2020-06-17 19:46:35 +0300, , circular_buffer mark cbiterator related method noexcept trivially signed benny halevy bhalevy scylladb.com,,
939,90b8e8f44d721d0f83fd36436ec27d0e998a613c,enny Halevy <bhalevy@scylladb.com>, 2020-06-17 19:44:16 +0300, , circular_buffer mark pop erase noexcept std alloc destroy noexcept signed benny halevy bhalevy scylladb.com,,
940,1d3f021139660c588822bff5f9b348dd6a1bc006,enny Halevy <bhalevy@scylladb.com>, 2020-06-17 19:40:25 +0300, , circular_buffer mark access element method noexcept return refrence element buffer signed benny halevy bhalevy scylladb.com,,
941,1037598d3f5eba3a978a09040907f55065dcb293,enny Halevy <bhalevy@scylladb.com>, 2020-06-17 19:37:49 +0300, , circular_buffer mark default constructor noexcept circular_buffer impl default nothrow constructible signed benny halevy bhalevy scylladb.com,,
942,c677a6d51da203d74dfac11c94190f3fec904791,iotr Sarna <sarna@scylladb.com>, 2020-06-17 11:58:39 +0200, , http use logger instead stderr erro reporting order consistent typical error reporting server dedicated logger used instead using standard error descriptor additionally signature try catch expanded catch every exception std exception derivative message scylladb.com,,
943,b264badd3e5c6a71ed70da4cf7423c876a375ec7,afael vila de Espndola <espindola@scylladb.com>, 2020-06-16 15:00:15 -0700, , sstring generalize make_sstring bit change possible use make_sstring type used construct std string_view particular possible use make_sstring std string_view const char make easier efficiently concatenate string regardless representation signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
944,b515d6373548d6377ae62369429bd68c309a5a38,vi Kivity <avi@scylladb.com>, 2020-06-17 11:34:40 +0300, , do_with replace seastar apply call std apply seastar apply deprecated favor std apply even included do_with.hh unless application includes do_with built unless std apply found using argument dependent lookup fix switching std apply message avi scylladb.com,,
945,199dc222e687481b7534991b0e12018bf42b669c,vi Kivity <avi@scylladb.com>, 2020-06-16 17:42:07 +0300, , merge resolve various http fixmes piotr  series cleanup seastar httpd method implementation moved header .cc fixme resolved logging error http communication fixme resolved waiting accept process future instead spawning without attached tracked continuation  http_cleanup_1 github.com psarna seastar http add waiting accepting processing future http add logging connection processing error http move method .cc http move http_server method .cc http move connection method .cc,,
946,e67b366bb06d2caed6f1f787a8ce2c07f98061f3,iotr Sarna <sarna@scylladb.com>, 2020-06-16 15:50:22 +0200, , http add waiting accepting processing future order remove fixme future spawned accepting processing request chained inside server object waited stopping server,,
947,311001f3ec92366b442687e40725002e19cdc0bc,iotr Sarna <sarna@scylladb.com>, 2020-06-16 15:33:13 +0200, , http add logging connection processing error order remove fixme connection error reported debug level instead ignored,,
948,34e03b43c78ff15553a8482cd54e2dffd608b9a5,iotr Sarna <sarna@scylladb.com>, 2020-06-16 15:19:16 +0200, , http move method .cc reason implementation reside header,,
949,5cae104110357d30c19472b8cd4159736f8d6119,iotr Sarna <sarna@scylladb.com>, 2020-06-16 15:15:20 +0200, , http move http_server method .cc reason implementation reside header,,
950,3e222302571ddeda74288fd717e3c93ca5302e51,iotr Sarna <sarna@scylladb.com>, 2020-06-16 15:12:31 +0200, , http move connection method .cc reason implementation reside header,,
951,421ad5c0b25d8b459ba2fea678a6cfda42543668,enny Halevy <bhalevy@scylladb.com>, 2020-05-11 21:57:30 +0300, , util tmp_file do_with_thread handle exception remove since t.remove happens deferred action destructor must throw instead deferring action finally continuation futurize_apply func handle exception either func t.close signed benny halevy bhalevy scylladb.com,,
952,31385fa6e96d50772e3ba34667a7c7faaa2ab499,enny Halevy <bhalevy@scylladb.com>, 2020-05-11 22:07:15 +0300, , util tmp_file allow setting default_tmpdir rather setenv tmpdir let program set explicitly particular file_utils_test going use next patch signed benny halevy bhalevy scylladb.com,,
953,dbdd799db51209eea14a99ee15f4b77028ec55be,enny Halevy <bhalevy@scylladb.com>, 2020-06-16 14:25:54 +0300, , util tmp_dir do_with add require concept modernize static_assert condition longer support signed benny halevy bhalevy scylladb.com,,
954,3aedaad47ecc9984f135e51d82050f8caa94a114,enny Halevy <bhalevy@scylladb.com>, 2020-05-11 21:10:36 +0300, , util tmp_file specify do_with_thread noexcept async noexcept require function signed benny halevy bhalevy scylladb.com,,
955,8f0858cfd70fa4de82b3a7cc484327a2456c9dec,iotr Sarna <sarna@scylladb.com>, 2020-06-16 11:56:29 +0200, , merge future future utils stop returning variadic future avi return variadic future two input future non void problem since variadic future deprecated removed series introduces temporary solution api breaking complete solution temporary solution reduces code breakage exising returned nullary unary future nothing changed otherwise instead returning variadic future return future ... instead future ... newly introduced template thin wrapper around std tuple reason need wrapper know treat specially future called future carrying unpacks tuple lambda parameter behavior variadic future replaces complete solution api_level ordinary std tuple doe special case nullary unary tuples hack .then instead relies user either accept tuple .then continuation use newly introduced .then_unpack tag variadicate v10 http github.com avikivity seastar future util make return future std tuple ... test perf fair_queue_perf prepare returning tuple future introduce future then_unpack future future utils stop returning variadic future,,
956,b782af67486f2c5c759c5f09f4d1745ad41399dd,vi Kivity <avi@scylladb.com>, 2020-05-16 09:33:01 +0300, , future util make return future std tuple ... originally returned variadic future variadic future deprecated support returning tuple like type added number value returned greater addition previous behavior unpacking tuple continuation parameter list future emulated behavior magical type tuple tuple depending arity type dependent unpacking irregular reduce irregularity patch introduces new api level regular semantics always return tuple tuple unpacked future then_unpacked without requiring magic when_unpacked type used previous api level deprecated,,
957,8280f233a7be4f35e65464c4c2c3be2cc9f1f172,vi Kivity <avi@scylladb.com>, 2020-06-16 12:34:01 +0300, , test perf fair_queue_perf prepare returning tuple soon return future tuple instead variadic future prepare discarding result currently return future consumed future new code work old new,,
958,a1935412c53eb7a9b2f44caa51153fe880d584e3,vi Kivity <avi@scylladb.com>, 2020-05-16 10:58:23 +0300, , future introduce future then_unpack deprecation anticipated removal variadic future passing multi value payload done using future std tuple ... make .then call cumbersome since need unpack tuple  introduce .then_unpack variant .then unpacks tuple payload continuation parameter list intended easy migration away varaidic future especially case,,
959,b3e0bb0d49c373ef96a601998042b611275e01c1,vi Kivity <avi@scylladb.com>, 2020-04-27 21:11:59 +0300, , future future utils stop returning variadic future return variadic future two input future non void problem since variadic future deprecated removed patch introduces temporary solution returned nullary unary future nothing changed otherwise instead returning variadic future return future internal ... instead future ... newly introduced internal template thin wrapper around std tuple reason need wrapper know treat specially future called future carrying unpacks tuple lambda parameter behavior variadic future replaces returning internal type gross expect usage call .then immediately since used collect result several fiber much else fact scylla compiles patch dev release mode tested plan follow api change make return ordinary std tuple user option,,
960,36c08032249c911b6ec3f7c2bd838ae80aca5059,vi Kivity <avi@scylladb.com>, 2020-06-09 18:20:23 +0300, , file introduce helper layered file common mistake building layered file forget copy three alignment constant resulting aligned access helper base class remembers copy provided remember use small unit test added well test file_io_test dev message avi scylladb.com,,
961,d2fb86f84cf66a8a5fc149e01a922f4bd5698060,vi Kivity <avi@scylladb.com>, 2020-06-14 18:25:44 +0300, , net packet mark move assignment operator noexcept move assignment operator relies move constructor noexcept assignment operator safely marked noexcept well fix build gcc move assigning dns_resolver tcp_entry fails likely due gcc bug see 34a4940ab956be2 conjunction however change correct regardless gcc bug reviewed rafael vila esp ndola espindola scylladb.com message avi scylladb.com,,
962,34a4940ab956be27481220b0b712320541c12001,enny Halevy <bhalevy@scylladb.com>, 2020-06-14 17:24:10 +0300, , core weak_ptr implement empty default constructor fix error see gcc fedora 31. gist seastar weak_ptr weak_ptr noexcept myclass implicitly deleted exception specification doe match implicit exception specification boost intrusive specified noexcept gcc 9.3.1 appears implicitly delete constructor contrust gcc 10.1.1 clang 9.0.1 clang 10.0.0 allow defining constructor noexcept default even member default constructor potentially throwing implementing constructor body rather using implicit default end behavior crash default constructed member throw case presume boost intrusive reason throw default constructed  version gcc 9.3.1 20200408 red hat 9.3.1 usr bin dfmt_shared test unit src include igen include fvisibility hidden undebug wall werror wno array bound wno error deprecated declaration opt scylladb include std gnu wno maybe uninitialized wno error unused result fstack clash protection test unit cmakefiles test unit cmakefiles test unit cmakefiles test unit test unit error static assertion failed static_assert std weak_ptr int  test unit error static assertion failed static_assert std myclass  test unit member function void test_method test unit error use deleted function seastar weak_ptr weak_ptr myclass weak_ptr myclass  file included test unit include seastar core weak_ptr.hh note seastar weak_ptr weak_ptr noexcept myclass implicitly deleted exception specification doe match implicit exception specification weak_ptr noexcept default   signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
963,2a09fe6c5e28a981e7936741575cf226a9f54c41,afael vila de Espndola <espindola@scylladb.com>, 2020-06-10 09:31:36 -0700, , circular_buffer fix build gcc avoid template parameter tor declaration investigating regression gcc code build old new gcc simpler might well switch signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
964,95eee96517689f5ecbb7cd9c51a63a22508ad7ab,enny Halevy <bhalevy@scylladb.com>, 2020-06-10 14:21:38 +0300, , test weak_ptr_test fix static asserts nothrow templated weak_ptr type must derived class weak_ptr int invalid note adding static_assert std is_base_of_v class doe work corresponding static assert added class weak_ptr due circular depdency weak_ptr definition signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
965,1780eeb93807e5304e3f74f584ebab4c202a6742,afael vila de Espndola <espindola@scylladb.com>, 2020-06-08 11:38:20 -0700, , coroutines fix clang build fairly ugly probably worth gcc asan work coroutines signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
966,d7bc329c4877ca3b9d306cfed11c557ec5e240f7,afael vila de Espndola <espindola@scylladb.com>, 2020-06-08 11:38:19 -0700, , cmake delete detect compiler support signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
967,b498bc0717a760c1fef0f0f15d217c7788e48d1b,vi Kivity <avi@scylladb.com>, 2020-06-11 15:39:04 +0300, , merge future util mark function noexcept rafael  patch mark noexcept function would never throw marked noexcept  espindola noexcept http github.com espindola seastar future util make do_wait_all noexcept future util make complete_one noexcept future util make process_one noexcept future util make noexcept future util make constructor noexcept,,
968,5179b88b8b2e9a5984c9d7e96e79bcb08a260a3a,lauber Costa <glauber@scylladb.com>, 2020-06-04 21:14:48 -0400, , test add perf test measure fair_queue performance useful tool see performance fair_queue isolation scheduler two test one one fair queue per shard dispatch local fastest case sending request coordinator shard case fair_queue admit one request time end goal able evaluate upcoming patch would move fair queue model dispatch always local share capacity shared pool want decrease performance compared fully local case big hopefully see increase performance compared shared case full dispatch signed glauber costa glauber scylladb.com reviewed pavel emelyanov xemul scylladb.com message glauber scylladb.com,,
969,405c1af439dce2d10620a507e6866ad8edbea996,vi Kivity <avi@scylladb.com>, 2020-06-10 13:31:40 +0300, , merge iostream make iostream stack nothrow move constructible benny  series make non throwing constructor particular move constructor noexcept along iostream stack includes packet data_source data_sick test unit dev  tag iostream noexcept github.com bhalevy seastar iostream make nothrow default move costructible make nothrow default constructible iostream specify data_source data_sink nothrow default move constructible packet make nothrow move constructible deleter make nothrow default move constructible deleter mark non throwing method noexcept,,
970,5f7f1954db163c7c782f1a97477e8a5b36e97a07,afael vila de Espndola <espindola@scylladb.com>, 2020-06-08 16:25:57 -0700, , future move line slow path value header file signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
971,7cabc731fb537c373dac25428d0a5afd9aa00971,afael vila de Espndola <espindola@scylladb.com>, 2020-06-08 16:25:56 -0700, , future_test add test nested exception finally document current implementation feature limitation signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
972,6dd736de3f945351af3b48c11c161dcb6d86f9e5,afael vila de Espndola <espindola@scylladb.com>, 2020-06-09 09:05:28 -0700, , core add noexcept unaligned member function also require trivial reasonable since non trivial type would call copy constructor unaligned pointer signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
973,3f61c3ffce4442ec0627320e12535e0e0d04076b,vi Kivity <avi@scylladb.com>, 2020-06-10 11:24:35 +0300, , merge core make weak_ptr checked_ptr default move nothrow constructible benny  series make weak_ptr checked_ptr default move constructor noexcept well non throwing method also add corresponding static asserts respective unit test source file test unit dev  tag checked_ptr noexcept github.com bhalevy seastar core check_ptr mark default constructor conditionally noexcept core mark default constructor noexcept core weak_ptr mark non throwing constructor method noexcept,,
974,b4d818ab5fc284142371b2c543c63826426cd4be,enny Halevy <bhalevy@scylladb.com>, 2020-06-08 15:31:52 +0300, , core check_ptr mark default constructor conditionally noexcept checked_ptr default constructor noexcept depends default construction ptr template parameter nullptr capture default constructor conditional noexcept specification noexcept noexcept ptr nullptr case ptr nullptr throw particular scylla checked_ptr weak_ptr ... noexcept add corresponding static asserts default move copy nothrow unit test including usage dumb smart pointer may throw constructed std nullptr_t signed benny halevy bhalevy scylladb.com,,
975,ff931955f9610c45d3525d0fae46a64e29bf5515,omasz Grabiec <tgrabiec@scylladb.com>, 2020-06-09 14:45:04 +0200, , core file fix typo comment  message 1591706704 6145 git send email tgrabiec scylladb.com,,
976,89894b9adc8d784648c1abe4e0cb6d21e438df8d,afael vila de Espndola <espindola@scylladb.com>, 2020-06-08 16:36:50 -0700, , byteorder mark function noexcept function operate trivial type marked noexcept signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
977,d6ad0460ff710aeb7419a7a432583f85a56e84c4,vi Kivity <avi@scylladb.com>, 2020-06-02 12:47:42 +0300, , future replace caninvoke concept std invocable using standard concept increase readability two identical message avi scylladb.com,,
978,2a5328133b593ab39c5ca37a79dca4b0c48a39e6,afael vila de Espndola <espindola@scylladb.com>, 2020-04-22 14:14:03 -0700, , future util make do_wait_all noexcept signed rafael vila esp ndola espindola scylladb.com,,
979,c67667075b649a79e0680d5b99b93f861aa63d97,afael vila de Espndola <espindola@scylladb.com>, 2020-04-22 14:13:42 -0700, , future util make complete_one noexcept signed rafael vila esp ndola espindola scylladb.com,,
980,67264ab0d59331f8f9a54c7757342512e36d1f7d,afael vila de Espndola <espindola@scylladb.com>, 2020-04-22 13:48:46 -0700, , future util make process_one noexcept signed rafael vila esp ndola espindola scylladb.com,,
981,f976ecc55ae43d166e2ac1ae39352363d8236184,afael vila de Espndola <espindola@scylladb.com>, 2020-04-22 13:41:48 -0700, , future util make noexcept static member function already noexcept safe signed rafael vila esp ndola espindola scylladb.com,,
982,94698d95ed52c9bec8f0f4a0e02200180688c0d6,afael vila de Espndola <espindola@scylladb.com>, 2020-04-22 13:44:44 -0700, , future util make constructor noexcept signed rafael vila esp ndola espindola scylladb.com,,
983,81242ccc3f0e64c644b3ab1ecafe7bc6234da2ed,vi Kivity <avi@scylladb.com>, 2020-06-08 14:32:12 +0300, , demo coroutine_demo fix started returning future api level broke coroutine demo add co_await make wait future compile api level remove target cmakelists.txt message avi scylladb.com,,
984,6f0bcf1e6c33675893b18f721dc43d1a4180c26d,enny Halevy <bhalevy@scylladb.com>, 2020-06-08 15:59:06 +0300, , core mark default constructor noexcept already mark explicitly add corresponding static assert unit test signed benny halevy bhalevy scylladb.com,,
985,7081d14614ee9e889b0b0b0f68c349d6f01a8394,enny Halevy <bhalevy@scylladb.com>, 2020-06-08 15:12:03 +0300, , core weak_ptr mark non throwing constructor method noexcept although boost intrusive marked noexcept reason throw constructed therefore similar weak_ptr move constructor mark default constructor weak_ptr std nullptr_t constructor noexcept well mark non throwing method noexcept add corresponding static asserts default move nothrow unit test signed benny halevy bhalevy scylladb.com,,
986,7679681a0be7b2888774515dc5dba9a07ebfd88f,afael vila de Espndola <espindola@scylladb.com>, 2020-06-02 11:10:41 -0700, , core avoid warning _old unused could add ifdef around declaration seems better remove ifdef .cc instead fix build clang signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
987,c98dd141dc98bb3ac1a35e3d3918029b145dd4fb,afael vila de Espndola <espindola@scylladb.com>, 2020-06-02 11:10:40 -0700, , future add couple friend declaration clang gcc requires allow access  signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
988,4251572472803e5fb38e9aadad963fefdc3be717,vi Kivity <avi@scylladb.com>, 2020-06-08 11:10:14 +0300, , merge net make socket stack nothrow move constructible benny  series make non throwing constructor particular move constructor noexcept along network stack also mark non throwing method class noexcept test unit dev  tag net noexcept github.com bhalevy seastar net make socket nothrow default constructible net udp_channel mark nothrow constructible net mark net mark rest ipv4_addr ipv6_addr constructor noexcept net mark socket_address constructor method noexcept net move socket_address code net mark ipv4_addr ipv6_addr non throwing constructor method noexcept net inet_address mark non throwing constructor method noexcept net mark ipv4_address ipv6_address non throwing constructor method noexcept test test as_ipv4_address throw ipv6 address,,
989,ebdc9ca3d1c0c02b3fbc466a61d6a0bc430d692b,enny Halevy <bhalevy@scylladb.com>, 2020-06-04 11:16:24 +0300, , net make socket nothrow default constructible seastar socket implementation socket server_socket use std unique_ptr nothrow default move constructible constructing using std unique_ptr moved internally noexcept note already specified nothrow move constructible signed benny halevy bhalevy scylladb.com,,
990,3e1d53a7a814aaefa30c4f0a609925965836d292,enny Halevy <bhalevy@scylladb.com>, 2020-06-04 11:16:24 +0300, , net udp_channel mark nothrow constructible udp_channel used std unique_ptr nothrow default move constructible constructing using std unique_ptr moved internally noexcept note already nothrow move constructible signed benny halevy bhalevy scylladb.com,,
991,dc03666a54c4dd4ef1b5ff4461c354d564cc74c7,enny Halevy <bhalevy@scylladb.com>, 2020-06-04 11:02:46 +0300, , net mark constructed using shared_ptr net may throw made signed benny halevy bhalevy scylladb.com,,
992,b72a0cbd083cf505e06d4544fc59553492f5a222,enny Halevy <bhalevy@scylladb.com>, 2020-06-07 19:30:20 +0300, , net mark rest ipv4_addr ipv6_addr constructor noexcept required socket_address function marked noexcept signed benny halevy bhalevy scylladb.com,,
993,568029b20a9b11939342712c758fa33f3088d066,enny Halevy <bhalevy@scylladb.com>, 2020-06-03 10:23:50 +0300, , net mark socket_address constructor method noexcept dependency noexcept signed benny halevy bhalevy scylladb.com,,
994,9cc33da98b1e8fd392fa7e771fb32cdc739a9d96,enny Halevy <bhalevy@scylladb.com>, 2020-06-07 18:42:45 +0300, , net move socket_address code signed benny halevy bhalevy scylladb.com,,
995,7229680a31d593a457ddc3edfd856db97dc1fd8b,enny Halevy <bhalevy@scylladb.com>, 2020-06-07 18:13:43 +0300, , net mark ipv4_addr ipv6_addr non throwing constructor method noexcept constructor depend socket_address marked noexcept following patch dependency marked noexcept signed benny halevy bhalevy scylladb.com,,
996,be98ae17aed22813cf3ad8c388ec74c600b44856,enny Halevy <bhalevy@scylladb.com>, 2020-06-07 18:22:19 +0300, , net inet_address mark non throwing constructor method noexcept signed benny halevy bhalevy scylladb.com,,
997,b8f2f3d8888627826e2be01df309c4e3a8fb452b,enny Halevy <bhalevy@scylladb.com>, 2020-06-07 18:26:56 +0300, , net mark ipv4_address ipv6_address non throwing constructor method noexcept signed benny halevy bhalevy scylladb.com,,
998,f5133d05a9aa73857a872ba1aa52dd606c2196d6,afael vila de Espndola <espindola@scylladb.com>, 2020-06-05 10:44:09 -0700,735, reactor avoid declaring instead friend fix 735 signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
999,a9b07a1405ae68d45f46c8ad3c41fc33910f73c5,enny Halevy <bhalevy@scylladb.com>, 2020-06-02 12:20:24 +0300, , test test as_ipv4_address throw ipv6 address signed benny halevy bhalevy scylladb.com,,
1000,187bc0cb2b66ca94b7cb89da1737e2c8e357bc15,enny Halevy <bhalevy@scylladb.com>, 2020-05-31 20:01:18 +0300, , iostream make nothrow default move costructible signed benny halevy bhalevy scylladb.com,,
1001,3b8a6bca278f72a04342408e2f4a9558d525ed8e,enny Halevy <bhalevy@scylladb.com>, 2020-06-02 13:18:22 +0300, , make nothrow default constructible required making iostreams nothrow move constructible note already signed benny halevy bhalevy scylladb.com,,
1002,e83293ca24db1563348507f0827b943169fc54ea,enny Halevy <bhalevy@scylladb.com>, 2020-06-04 11:41:56 +0300, , iostream specify data_source data_sink nothrow default move constructible using std unique_ptr internally already implicitly explicitly specify add static_asserts ensure signed benny halevy bhalevy scylladb.com,,
1003,306b82cdcbe73b4c056deadce80019448b762da5,enny Halevy <bhalevy@scylladb.com>, 2020-06-02 12:39:40 +0300, , packet make nothrow move constructible required making output_stream nothrow default move constructible packet default constructor may throw allocates output_stream packet std unique_ptr impl constructor noexcept marked signed benny halevy bhalevy scylladb.com,,
1004,c1d36a61121848dc80af3e023ec688fb35653ef3,enny Halevy <bhalevy@scylladb.com>, 2020-06-02 13:18:22 +0300, , deleter make nothrow default move constructible required making packet iostreams nothrow move constructible signed benny halevy bhalevy scylladb.com,,
1005,a45db5e1653fbdae92b2134bb789bb2d49d88e13,enny Halevy <bhalevy@scylladb.com>, 2020-06-07 17:30:48 +0300, , deleter mark non throwing method noexcept signed benny halevy bhalevy scylladb.com,,
1006,d8eb9e940e05e4613422a17c4197f0e21bf969a3,afael vila de Espndola <espindola@scylladb.com>, 2020-06-05 14:11:42 -0700, , future util delete true require signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1007,2a76993597db473b423ac927ce2f0cfd74a07e48,enny Halevy <bhalevy@scylladb.com>, 2020-06-04 16:02:04 +0300, , file specify constructor noexcept explicitly delete default constructor make visible signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
1008,42e770508c000ab4c1c732644eb023995af5f3f7,vi Kivity <avi@scylladb.com>, 2020-06-03 18:47:46 +0300, , revert sharded constrain sharded map_reduce0 reverts commit constraint reduce far expects reduce initial initial work reality required reduce initial map service return initial,,
1009,9010bae849769b03e0edeaafd12fc5fec8dc46e7,alle Wilund <calle@scylladb.com>, 2020-06-02 12:44:11 +0000,756, fix race unhandled case fix 756 reloadable certificate mechanism properly account file deleted behaving like deleted could also miss change file happning file read fixed also adding watch closest containing dir unless file watch succesful file exists making sure create watch actually reading data message calle scylladb.com,,
1010,2a67275c0786dccf711fd854a3f784cc7ec14b19,lauber Costa <glauber@scylladb.com>, 2020-06-02 16:20:51 -0400, , fair_queue rename operator strictly_less overloading arithmetic operator problematic meaning ambiguous case since total ordering result use std min instance different expect explicitly use named function case signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1011,4dd401ce3422396ca623eacafbcf9a6cf3e7a79d,afael vila de Espndola <espindola@scylladb.com>, 2020-05-27 17:56:08 -0700, , future add replaces function static noexcept save move example int byte signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1012,d2290e0c4a257d6819e166b3925128aaff1df533,vi Kivity <avi@scylladb.com>, 2020-06-02 18:47:20 +0300, , merge avoid passing non nothrow move constructible lambda future rafael  case found seastar release build static assert nothrow move constructible function used construct continuation previously done dev build use hide case  espindola make func noexcept clang http github.com espindola seastar net make udp_channel move constructor assignment noexcept rpc make outgoing_entry move constructor noexcept rpc move snd_buf move constructor assignment line net pas nothrow move constructible lambda native stack pas nothrow move constructible lambda net make dhcp move constructor noexcept reactor make poller move constructor assignment noexcept core make file_desc move constructor noexcept,,
1013,dca0da203476da86907e91dac15d618216971e6e,afael vila de Espndola <espindola@scylladb.com>, 2020-05-25 13:04:59 -0700, , net make udp_channel move constructor assignment noexcept signed rafael vila esp ndola espindola scylladb.com,,
1014,88791333e78f97f61dc31a5cac3d5a4755d05d1e,afael vila de Espndola <espindola@scylladb.com>, 2020-05-25 13:47:14 -0700, , rpc make outgoing_entry move constructor noexcept mostly move member noexcept move constructor signed rafael vila esp ndola espindola scylladb.com,,
1015,1982c64e682fe89ba87564df4cc48006276e7b26,afael vila de Espndola <espindola@scylladb.com>, 2020-05-25 16:32:59 -0700, , rpc move snd_buf move constructor assignment line also make easy see noexcept signed rafael vila esp ndola espindola scylladb.com,,
1016,ed38ffa3dcfd9d45a5bfbc0ca188c67e6e609f79,afael vila de Espndola <espindola@scylladb.com>, 2020-05-25 14:22:55 -0700, , net pas nothrow move constructible lambda issue fixed code like future foo future bar const sstring zed return bar.then zed  member variable lambda const sstring copied instead moved signed rafael vila esp ndola espindola scylladb.com,,
1017,3f41e4f5f716ee0769d180a66f6de6a4cfd14686,afael vila de Espndola <espindola@scylladb.com>, 2020-05-25 15:20:18 -0700, , native stack pas nothrow move constructible lambda signed rafael vila esp ndola espindola scylladb.com,,
1018,b70beee1a39b7751c8014308b1be3ecc6fe18bb4,afael vila de Espndola <espindola@scylladb.com>, 2020-05-25 11:56:23 -0700, , net make dhcp move constructor noexcept also use default one signed rafael vila esp ndola espindola scylladb.com,,
1019,6059aff4fb8ac63d0ea2c1a0bb37f1f818e93770,afael vila de Espndola <espindola@scylladb.com>, 2020-05-25 14:39:02 -0700, , reactor make poller move constructor assignment noexcept signed rafael vila esp ndola espindola scylladb.com,,
1020,32a725d043d10890a23d24d983864ba3f39ea3ec,afael vila de Espndola <espindola@scylladb.com>, 2020-05-25 13:30:51 -0700, , core make file_desc move constructor noexcept wrapper int throw signed rafael vila esp ndola espindola scylladb.com,,
1021,1735a808689ac03ac17a7cbecd54dfc8d878fcb0,enny Halevy <bhalevy@scylladb.com>, 2020-06-02 13:27:03 +0300, , main capture server post stop server need kept alive across call stop signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
1022,da253531524a8a6c3fbc6af1a7cf09e22a5008fa,enny Halevy <bhalevy@scylladb.com>, 2020-06-02 13:43:33 +0300, , test fstream remove obsolete comment running background comment running background signaling done removed signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
1023,20225e8434540be7769e4d4d9d9e1756da1d3816,afael vila de Espndola <espindola@scylladb.com>, 2020-05-27 12:29:48 -0700, , everywhere reopen inline namespaces inline unfortunate clang warning disabled reported http bugs.llvm.org show_bug.cgi 46106 fairly easy avoid signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1024,dc038436ffa07bc33527eede6033c4da92bdd1bb,vi Kivity <avi@scylladb.com>, 2020-06-02 11:57:29 +0300, , merge merge two do_with implementation rafael  want add do_with variant like when_all accepts lambda make exception handling easier looking code noticed fact two do_with implementation diverged bit already patch series merges two end best case combined implementation support case supported general one move value single value do_with net result series reduction 0.16 text size scylla tps reported duration smp m4g 500 run randomized layout stack decrease 0.28 161315 160853 looking histogram think difference statistically significant  espindola merge impl http github.com espindola seastar do_with avoid move constructor call do_with make do_with_state constructor template do_with update documentation do_with merge implementation do_with move do_with overload do_with move do_with_impl overload do_with move futures_test add couple do_with test,,
1025,c954a051e1b0578c93a02abcafe25121b8eec410,vi Kivity <avi@scylladb.com>, 2020-06-01 20:39:58 +0300, , sharded constrain sharded map_reduce0 require mapper called service require mapper return type initial accounting futurization require reducer reduce two initial value really initial result mapping message avi scylladb.com,,
1026,b85d43486b70e1ecf4d406a7970a9af2194d2758,afael vila de Espndola <espindola@scylladb.com>, 2020-05-14 13:53:17 -0700, , do_with avoid move constructor call calling do_with foo foo foo foo would call foo move constructor time twice construct std tuple foo foo twice move tuple construct std tuple foo foo final location call move constructor time reduces scylla text section 0.34 38834484 38703876 tps reported duration smp m4g 500 run randomized layout stack increase 0.73 159687 160853 signed rafael vila esp ndola espindola scylladb.com,,
1027,8aed0b911c8a8fcee573829a00f592d04398650a,afael vila de Espndola <espindola@scylladb.com>, 2020-05-14 16:01:24 -0700, , do_with make do_with_state constructor template allow constructing tuple place avoid call move constructor impact text size perf difference likely statistically significant signed rafael vila esp ndola espindola scylladb.com,,
1028,9636aa83deeef691189550b710c6997a50093509,afael vila de Espndola <espindola@scylladb.com>, 2020-05-19 10:58:34 -0700, , do_with update documentation one do_with update documentation clarify description signed rafael vila esp ndola espindola scylladb.com,,
1029,8a4c2031c9c63766597716a00ba864db396297e1,afael vila de Espndola <espindola@scylladb.com>, 2020-05-14 13:36:11 -0700, , do_with merge implementation remove single value implementation adjusts general one also work single value fix included test supported general implementation specific one always move every value twice specific implementation would move result extra move scylla text section increase 0.17 38765748 38834484 tps reported duration smp m4g 500 run randomized layout stack reduced 1.13 161314 159510 issue fixed followup patch series signed rafael vila esp ndola espindola scylladb.com,,
1030,7b2ece2256fb97fbff689148d4805a05eea11701,afael vila de Espndola <espindola@scylladb.com>, 2020-05-14 13:31:10 -0700, , do_with move do_with overload do_with overload next signed rafael vila esp ndola espindola scylladb.com,,
1031,7a4b27648a5eaa69b1c4c771e33f602f3e013f0c,afael vila de Espndola <espindola@scylladb.com>, 2020-05-14 13:30:05 -0700, , do_with move do_with_impl overload do_with_impl overload next signed rafael vila esp ndola espindola scylladb.com,,
1032,0a58fc2c14836622acbffc0aecd181f8699d8218,afael vila de Espndola <espindola@scylladb.com>, 2020-05-14 13:26:50 -0700, , do_with move intention internal internal namespace signed rafael vila esp ndola espindola scylladb.com,,
1033,e1f921282086b5c0a005279915048a2a840c09e9,afael vila de Espndola <espindola@scylladb.com>, 2020-05-14 19:57:14 -0700, , futures_test add couple do_with test already passing interesting case noticed refactoring signed rafael vila esp ndola espindola scylladb.com,,
1034,87711a47a6851af578262a231b7bd4bdb5ccf19d,vi Kivity <avi@scylladb.com>, 2020-06-01 18:43:22 +0300, ," merge backtracing across task tomasz  series enhances seastar backtraces contain information current task call stack also information task blocked current task example thread waiting operation complete continuation chain contain continuation handle ready continuation wake thread continuation wait thread finish give much context backtrace similar one would get synchronous programming model presenting current backtrace reactor thread many case enough extended backtraces logged info 2020 32,362 shard seastar backtrace 0x5b7ed9 0x5b80e2 0x5b8599 0x437d76 0x43e88b 0x4c9617 0x4c990d 0x4f65c5 0x4a962c 0x4aa245 0x49e785 0x4c288d lib64 libpthread.so.0 0x94e1 lib64 libc.so.6 0x1016a2  seastar continuation seastar internal seastar future then_impl_nrvo func4 lambda seastar future func4 lambda lambda operator const lambda seastar internal seastar future_state  seastar future separator separate backtraces different task chain side benefit series backtraces meaningful information current continuation name without need resolve address another use case heap profile currently measuring memory allocation one large operation hard start many allocating continuation task continuation spread profile correlated grand operation backtracing across task solves different path joined common base task class extended virtual method virtual task waiting_task noexcept allows one walk continuation chain return next task blocked current one backtrace collected task type_info pushed allows obtain name continuation optionally build configured enable task backtrace full backtrace attached continuation task created deferring point get context regression showed 120k tps  tag backtracing across task v5.1 github.com tgrabiec seastar util backtrace cache hash backtrace core task util backtrace allow capturing backtrace preemption point core memory move declaration header test future add backtracing test addr2line ignore separator line core task util backtrace collect backtraces across continuation chain util backtrace extract operator std ostream frame core make_task implement lambda_task waiting_task core task store promise inside lambda_task core task extrack make_task separate header core reactor expose pointer currently running task core future add ability walk continuation chain util backtrace capture current scheduling group backtrace",,
1035,2a751ff5c4211c1dd890a65b499293a1e577ac13,vi Kivity <avi@scylladb.com>, 2020-05-26 16:15:52 +0300, , posix stack fix strict aliasing violation cmsg_data cmsghdr cmsg_data return char array hold object type current code natually call illegal since compiler see one object two incompatible type fix copying raw data temporary object expected type compiler optimize back direct memory access fix 752 message avi scylladb.com,,
1036,0c72ac962bebf1a75666724afc6dc8419b723f5f,vi Kivity <avi@scylladb.com>, 2020-05-26 12:37:24 +0300, , sharded unify invoke_on_ variant many invoke_on variant one axis variance operation invoke_on invoke_on_all another axis function specified pointer member option function returning void function returning future std function functor patch unifies variant along second axis instead different overload pointer member functors use single overload rely std apply able handle pointer member callable gain flexibility way previously functor overload accept argument result unification doe note std function overload remains used type erasure concept added catch type error early degradation one aspect previously invoke_on able disambiguate pointer member name different signature two call http_server adjusted patch believe call rare none scylla simplficiation worth requiring user adjust call test unit dev also tested scylla mode many call site adjustment needed test passed message avi scylladb.com,,
1037,68f2eb809ada20de9f10f0dfcbf56e0f29487f7e,afael vila de Espndola <espindola@scylladb.com>, 2020-05-27 12:29:47 -0700, , delete unused member variable signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1038,78cf3220f705afc1c20d24f0ce278e02f679a8fa,afael vila de Espndola <espindola@scylladb.com>, 2020-05-27 12:29:46 -0700, , futures_test fix delete copy constructor gcc clang try create copy constructor std tuple complains const mismatch signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1039,9066edd5121cbda866fa37af09e00b9656704e39,vi Kivity <avi@scylladb.com>, 2020-05-31 12:05:28 +0300, , merge delete support code rafael  patch series organized stage delete check corresponding code stop using name compat delete name compat way able merge prefix snag  espindola http github.com espindola seastar commits std compat delete compat string_view std compat delete compat variant std compat delete compat optional std compat delete compat memory_resource std compat delete std compat define std compat delete compat filesystem everywhere stop using compat string_view everywhere stop using compat variant everywhere stop using compat optional everywhere stop using compat memory_resource everywhere stop using everywhere stop using compat filesystem futures_test delete __cplusplus check util delete version util delete old boost version check rpc_test delete __cplusplus check rpc delete __cplusplus check std compat simplify definition std compat always use memory_resource ...,,
1040,3d8625afab5fc0054e2607a4bbe371cade5b8ab7,afael vila de Espndola <espindola@scylladb.com>, 2020-05-28 17:12:36 -0700, , std compat delete compat string_view done independent commit deprecation period deemed necessary signed rafael vila esp ndola espindola scylladb.com,,
1041,71eeb9fcaaed1add138546d45905e781f9059c0d,afael vila de Espndola <espindola@scylladb.com>, 2020-05-28 17:06:02 -0700, , std compat delete compat variant done independent commit deprecation period deemed necessary signed rafael vila esp ndola espindola scylladb.com,,
1042,711a0ccd484245693a3bdc23b1e3330882f4a8d3,afael vila de Espndola <espindola@scylladb.com>, 2020-05-28 16:22:11 -0700, , std compat delete compat optional done independent commit deprecation period deemed necessary signed rafael vila esp ndola espindola scylladb.com,,
1043,3de7a8f6a6602d5ac5897907e7d06a5b1a8a8c4e,afael vila de Espndola <espindola@scylladb.com>, 2020-05-28 16:01:26 -0700, , std compat delete compat memory_resource done independent commit deprecation period deemed necessary signed rafael vila esp ndola espindola scylladb.com,,
1044,022542f44704e45c2042b126405a90df3f1de307,afael vila de Espndola <espindola@scylladb.com>, 2020-05-28 15:22:14 -0700, , std compat delete done independent commit deprecation period deemed necessary signed rafael vila esp ndola espindola scylladb.com,,
1045,772cc1aea2f16c39cc1a8bd2d436e874e78268d0,afael vila de Espndola <espindola@scylladb.com>, 2020-05-28 15:13:38 -0700, , std compat define done independent commit deprecation period deemed necessary signed rafael vila esp ndola espindola scylladb.com,,
1046,251dcd86e417d109deebb6f2df362acc92f11c69,afael vila de Espndola <espindola@scylladb.com>, 2020-05-28 15:07:25 -0700, , std compat delete compat filesystem done independent commit deprecation period deemed necessary signed rafael vila esp ndola espindola scylladb.com,,
1047,af4a40426a372642d5c9d8cae6a8ae35d96d3210,afael vila de Espndola <espindola@scylladb.com>, 2020-05-28 17:18:37 -0700, , everywhere stop using compat string_view signed rafael vila esp ndola espindola scylladb.com,,
1048,8f2b1860c9645f56c3b53d7af9bb9ddf0a29587b,afael vila de Espndola <espindola@scylladb.com>, 2020-05-28 17:10:47 -0700, , everywhere stop using compat variant signed rafael vila esp ndola espindola scylladb.com,,
1049,857500771b78a525b72f1b916f93ef1482927ec2,afael vila de Espndola <espindola@scylladb.com>, 2020-05-28 17:03:49 -0700, , everywhere stop using compat optional signed rafael vila esp ndola espindola scylladb.com,,
1050,d948ed1f2998aeca47eb107020272bcdc6385dea,afael vila de Espndola <espindola@scylladb.com>, 2020-05-28 16:19:30 -0700, , everywhere stop using compat memory_resource signed rafael vila esp ndola espindola scylladb.com,,
1051,3f88e9194a9a46569264021cceb359ac6519504e,afael vila de Espndola <espindola@scylladb.com>, 2020-05-28 15:21:48 -0700, , everywhere stop using signed rafael vila esp ndola espindola scylladb.com,,
1052,856ecdd728f6d4874da707ec964b1e305d19d3a1,afael vila de Espndola <espindola@scylladb.com>, 2020-05-28 14:28:52 -0700, , everywhere stop using compat filesystem signed rafael vila esp ndola espindola scylladb.com,,
1053,80540d28c2fc9c6a03f6d2b35295d79e64392d6e,afael vila de Espndola <espindola@scylladb.com>, 2020-05-28 15:33:14 -0700, , futures_test delete __cplusplus check signed rafael vila esp ndola espindola scylladb.com,,
1054,6bcdde419545aca71c8a314434cc60f106eb77ca,afael vila de Espndola <espindola@scylladb.com>, 2020-05-28 15:31:26 -0700, , util delete version signed rafael vila esp ndola espindola scylladb.com,,
1055,52bb253569681b0ef44605adb4378f8ee71641b1,afael vila de Espndola <espindola@scylladb.com>, 2020-05-28 15:30:43 -0700, , util delete old boost version check signed rafael vila esp ndola espindola scylladb.com,,
1056,ad9cb3df58bbbd2fe2272534b174b3e6d8e58b31,afael vila de Espndola <espindola@scylladb.com>, 2020-05-28 15:32:39 -0700, , rpc_test delete __cplusplus check signed rafael vila esp ndola espindola scylladb.com,,
1057,d03ea606860801bbaea9a9a9668b518fab25d0ae,afael vila de Espndola <espindola@scylladb.com>, 2020-05-28 15:28:56 -0700, , rpc delete __cplusplus check signed rafael vila esp ndola espindola scylladb.com,,
1058,28c4f3a85b432e135ed0adf5d4e9329b9c14a835,afael vila de Espndola <espindola@scylladb.com>, 2020-05-28 15:19:53 -0700, , std compat simplify definition signed rafael vila esp ndola espindola scylladb.com,,
1059,a872c4c508cfef84261b236459c49baa8cdaac0c,afael vila de Espndola <espindola@scylladb.com>, 2020-05-28 15:12:21 -0700, , std compat always use memory_resource assume present signed rafael vila esp ndola espindola scylladb.com,,
1060,50d2cc3809d8d054682d9b15413bd3053ef032d9,afael vila de Espndola <espindola@scylladb.com>, 2020-05-28 13:45:44 -0700, , std compat always use std filesystem always use std filesystem instead checking experimental boost version signed rafael vila esp ndola espindola scylladb.com,,
1061,b4ff56c06cdec99c1195da00b371faeceddcc6ee,vi Kivity <avi@scylladb.com>, 2020-05-24 20:00:38 +0300, , coroutines add support forwarding return far support co_return value_type returned future future int support co_return one wish return future int one must write co_return co_wait add overhead co_await coroutine suspends executing resume function return unpacks return value future pack promise patch add alternative method co_return using method coroutine return immediately leaving function continue running future returned function forwarded coroutine return value outside observer point view nothing changed still difference co_return co_await variable coroutine frame still valid function running int co_return co_await pointer valid future becomes ready int co_return pointer valid return first point block care must used passing coroutine local variable reference message avi scylladb.com,,
1062,67b02581468dbca5807cb4fcbb5997b553bd835d,afael vila de Espndola <espindola@scylladb.com>, 2020-04-01 16:57:15 -0700, , everywhere remove redundant .finally call probably one found grep signed rafael vila esp ndola espindola scylladb.com,,
1063,6042473faa2ec4150e9929178f84932ad636fd49,afael vila de Espndola <espindola@scylladb.com>, 2020-04-01 16:55:37 -0700, , tutorial update file api manages reference counting file api easier use remove paragraph tutorial signed rafael vila esp ndola espindola scylladb.com,,
1064,99d178101614efc6204548427259fbb9e51abad9,afael vila de Espndola <espindola@scylladb.com>, 2020-04-01 16:07:32 -0700,600, file keep file alive close completes replaces traditional .finally centralized fix handle close member function file must always closed point future returned member function completed addition easy use think rationale lifetime management complicated adding future make even one single rule followed solves useful guideline probably first thing one try unique ownership owner responsible keeping value alive future using value complete next option shared ownership use file question responsible guaranteeing reference kept future resolve one option make similar unique ownership possible push responsibility call stack function take file value schedule multiple continuation responsible keeping one reference alive continuation scheduled finish another option patch implement say since using shared ownership anyway continuation closing file take part reference count keeping file alive seems line spirit shared ownership far tell similar done system manage reference count automatically http wiki fix 600 signed rafael vila esp ndola espindola scylladb.com,,
1065,c97b05b238263dc46623460d0be545e8b5e6555d,enny Halevy <bhalevy@scylladb.com>, 2020-05-19 13:11:59 +0300, , test future test async throw_on_move arg test async handle exception moving argument called function moving func forwarded along path signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
1066,f08205871a0bc0493e75df21dcffc34bd0ac7b81,iotr Sarna <sarna@scylladb.com>, 2020-05-27 10:55:40 +0200, , merge fstream close file construction fails botond currently function unsafe fail construct output_stream data_sink respectively file instance passed left unclosed triggering assertion failure file class take ownership file constructed make sense take care file object moment passed safe function return future event failure caller wait file closed since function part seastar public api change return type allow transition new version safe version put api_v3 namespace test unit dev safe make output file stream http github.com denesb seastar test fstream_test.cc test fstream_perf.cc restore indentation fstream introduce safe fstream.hh convert comment doxygen comment api level add version,,
1067,0d087f98231529145bcac219adc81ba6aa308878,enny Halevy <bhalevy@scylladb.com>, 2020-05-26 22:16:48 +0300, , util tmp_file include seastar core thread.hh required tmp_dir do_with_thread signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
1068,46d7d574d141615fdb9e735a2f50e39f7345f89c,enny Halevy <bhalevy@scylladb.com>, 2020-05-26 14:16:00 +0300, , test file_io convert use tmp_dir signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
1069,e24ff2bb5344c5505b2cb4b6e66dcd6b5439940a,omasz Grabiec <tgrabiec@scylladb.com>, 2020-02-17 22:17:53 +0100, , util backtrace cache hash backtrace speed backtrace collection hash per task backtrace recomputed time collect across task backtrace,,
1070,4c122fe5d3688edeea7eca45107fb739a4f6bcfb,omasz Grabiec <tgrabiec@scylladb.com>, 2020-03-04 17:06:55 +0100, , core task util backtrace allow capturing backtrace preemption point give much context task type name,,
1071,d8185682d5c56c870ef5fc6b818eef3fc0670a9b,omasz Grabiec <tgrabiec@scylladb.com>, 2020-02-17 22:05:50 +0100, , core memory move declaration header,,
1072,4b1cda4635ee82ab23aa5653abd225bca5860481,omasz Grabiec <tgrabiec@scylladb.com>, 2020-03-04 16:38:02 +0100, , test future add backtracing test,,
1073,6539dae32d6c6329ca8486ff898c6678125df4c1,omasz Grabiec <tgrabiec@scylladb.com>, 2020-03-04 19:51:47 +0100, , addr2line ignore separator line,,
1074,20da34caa78a588cbb2070c70418be8240041c0e,omasz Grabiec <tgrabiec@scylladb.com>, 2020-02-07 16:13:30 +0100, , core task util backtrace collect backtraces across continuation chain previous saved_backtrace called tasktrace currently running task plus collection backtraces corresponding continuation chain waiting current task complete containuation chain sequence task next task run previous one resolve next task depends result previous task task represented tasktrace name task type later allow configuring seastar compile time collect full backtrace preemption point save blocked task example thread waiting operation complete chain contain continuation handle ready continuation wake thread continuation wait thread finish give much context backtrace similar one would get synchronous programming model another use case heap profile currently measuring memory allocation one large operation hard start many allocating continuation task continuation spread profile correlated grand operation backtracing across task solves different path joined common base,,
1075,0100db53df5a52b2f7c53dd351b419372f6b3c85,omasz Grabiec <tgrabiec@scylladb.com>, 2020-02-17 22:15:16 +0100, , util backtrace extract operator std ostream frame,,
1076,b7f8bc69471c96c10a6562142d86192dd39d6f18,omasz Grabiec <tgrabiec@scylladb.com>, 2020-03-04 16:37:39 +0100, , core make_task implement lambda_task waiting_task,,
1077,32f8c94ffa850258accb6dce228c982e806322e8,omasz Grabiec <tgrabiec@scylladb.com>, 2020-02-07 20:26:35 +0100, , core task store promise inside lambda_task make backtracking easier implement,,
1078,4d61dba522606358f5bf4032592ccb692a140116,vi Kivity <avi@scylladb.com>, 2020-05-25 19:47:46 +0300, , reactor mlock memory linux run mlockall syscall one cpu expected faulting locking machine memory take many minute one cpu active cause startup feel sluggish unfortunately faulting parallel running mlock parallel shard help code run mmap_sem thing help deferring locking fault time using new linux 4.4 flag mcl_onfault tell kernel fault missing page rather lock faulted application work work intermixed faulting locking see significant throughput degradation application fauling memory slow already slow case ref http github.com scylladb scylla issue 6460 message avi scylladb.com,,
1079,fb602f4e67e76298cb3c1505faf22c19670b6db6,omasz Grabiec <tgrabiec@scylladb.com>, 2020-02-07 20:23:30 +0100, , core task extrack make_task separate header avoid circular dependency future.hh needed lambda_task use futurator,,
1080,383b420cb86999322b3cbe527b7fbabd7d9501c0,omasz Grabiec <tgrabiec@scylladb.com>, 2020-02-07 16:11:35 +0100, , core reactor expose pointer currently running task needed walk current chain continuation,,
1081,aecd213ff21b09b7143f8864c6f2b3cdc6de9a93,omasz Grabiec <tgrabiec@scylladb.com>, 2020-02-07 16:10:08 +0100, , core future add ability walk continuation chain patch introduces task waiting_task allows one walk chain task currently blocked invocation give pointer task waiting subject call complete execution generalization also supporting method similar meaning different kind object well promise waiting_task thread waiting_task ability walk continuation chain used implement better backtracing one give context explained detail later commit,,
1082,f645c4442dc2eab42a45c2be3c3f2f5a8103a135,omasz Grabiec <tgrabiec@scylladb.com>, 2020-02-06 19:18:37 +0100, , util backtrace capture current scheduling group backtrace,,
1083,204a2cb514deb1e0ec45dd3f9a4e6565634b5362,enny Halevy <bhalevy@scylladb.com>, 2020-05-25 18:16:58 +0300, , future specify default constructor noexcept also future_state default constructor declared default signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
1084,7fc7aaac5f295cba84b1c42e2e623974aed7e6a5,enny Halevy <bhalevy@scylladb.com>, 2020-05-26 08:54:29 +0300, , test ignore signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
1085,dfa8c8d9cc474657adbe2793df82d5931660c702,enny Halevy <bhalevy@scylladb.com>, 2020-05-26 08:54:28 +0300, , rpc recv_helper ignore replying oversized request with_gate throw reply_gate closed ignore exception similar normal reply path later function signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
1086,ff6673e1d9f98699dcbee9884fde7451ad5d8945,vi Kivity <avi@scylladb.com>, 2020-05-20 21:09:46 +0300, , sharded support passing arbitrary shard dependent parameter service constructor sharded template support passing two type parameter service constructor arbitrary constant value copied instance sharded value transformed passing constructor local instance extracted passed two type flexible enough sometimes one need pas result function dependent current shard perhaps specific member sharded instance allocation need happen local shard support third type parameter introduced shard_parameter wrapper around lambda parameter lambda executed shard obtain shard local value parameter also treated way refer sharded service  example sharded foo s_foo extern sharded bar s_bar s_foo.start passed  evaluated shard return std make_unique char 1000 local instance extracted std ref s_bar member local instance extracted bar some_member std ref s_bar .get todo constraint documentation example message avi scylladb.com,,
1087,4257056735a2e6c123a088b1cc9e78649ca8d0ce,vi Kivity <avi@scylladb.com>, 2020-05-24 18:45:41 +0300, , update circleci configuration update toolchain baseline fedora gcc drop add add clang anticipating automatic testing clang disambiguate container repository docker.io tacked clang avoid regenerating image want add message avi scylladb.com,,
1088,246fa0c8ca8430b733c80de8dc5fdc2bc2cdc076,vi Kivity <avi@scylladb.com>, 2020-05-24 19:08:15 +0300, , treewide deprecate seastar apply seastar apply duplicate std apply without providing benefit needed supported std apply arrived longer support message avi scylladb.com,,
1089,80b407267bc9386b9f805f947befd69343707bad,afael vila de Espndola <espindola@scylladb.com>, 2020-05-25 09:54:36 -0700, , update readme.md version text date mostly duplicated signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1090,ad4fef3f6afa0ccf589189b786ba69e6dfca669a,afael vila de Espndola <espindola@scylladb.com>, 2020-05-25 09:54:35 -0700, , cmake remove support drop  signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1091,37774aa785223c1e50101a5248415696e7bfaaef,enny Halevy <bhalevy@scylladb.com>, 2020-05-25 17:50:45 +0300, , task specify default constructor noexcept fix build breakage introduced e.g  include seastar core future util.hh 353 error use deleted function seastar std experimental fundamentals_v1 optional seastar char 353 explicit asyncaction action _action std move action  file included src core src core include seastar core future.hh 528 note seastar noexcept std experimental fundamentals_v1 optional seastar char implicitly deleted exception specification doe match implicit exception specification  signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
1092,85b2c06992c826d78791199d44427fcc9f330c55,enny Halevy <bhalevy@scylladb.com>, 2020-05-25 17:54:21 +0300, , scheduling specify explicit constructor noexcept signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
1093,717625e83e6d6821526a4549a0e593c8524cf0bb,ian Wenjie <tianwenjie@kuaishou.com>, 2020-05-25 09:20:14 +0000, , net tcp use var std move signed tianwenjie tianwenjie kuaishou.com message gmr mx.google.com,,
1094,2a60bd28177588430c16c51e4ef370f2313e4764,enny Halevy <bhalevy@scylladb.com>, 2020-05-10 15:26:28 +0300, , future implement conforming way documented tutorial added following unit test signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
1095,d696757b139c0d8950e603f6eed775dd96022557,afael vila de Espndola <espindola@scylladb.com>, 2020-05-22 15:21:03 -0700, , future add noexcept function call noexcept function need mark noexcept signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1096,1acbb0daa0fcbfc4278ab1a977cfb3f3dedb2655,afael vila de Espndola <espindola@scylladb.com>, 2020-05-22 15:21:02 -0700, , scheduling add noexcept couple function signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1097,47a7afae119f14a0b26f851255516efd9395f973,afael vila de Espndola <espindola@scylladb.com>, 2020-05-22 16:23:33 -0700, , future move internal perfectly general function could even implemented current public interface efficiently signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1098,4b0105483931e787b49df72019fdeacd09ec69fd,afael vila de Espndola <espindola@scylladb.com>, 2020-05-22 20:11:18 -0700, , future avoid call std using avoid call exception_ptr every expansion non noexcept constructor signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1099,8d762d73216a2c9bfd31fd147cf9ce3afb4d2fcd,otond Dnes <bdenes@scylladb.com>, 2020-05-21 16:44:45 +0300, , seastar.hh fix typo doxygen main page text signed botond bdenes scylladb.com message bdenes scylladb.com,,
1100,102997783e7b4314375fccc4d86f5175bf3cceb9,afael vila de Espndola <espindola@scylladb.com>, 2020-05-19 14:34:20 -0700, , future replace call futurize_apply futurize_invoke constructing tuple call futurize_apply call futurize_invoke instead signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1101,366257ad981f560915337f52d7752d29f4a58aae,otond Dnes <bdenes@scylladb.com>, 2020-05-21 10:31:56 +0300, , rpc document isolation work including gotchas around mixing old new isolation mechanism tested manually inspecting generated documentation signed botond bdenes scylladb.com message bdenes scylladb.com,,
1102,41fd1a4ac8f96b812a9ea23a2f95c03e3559bbd8,afael vila de Espndola <espindola@scylladb.com>, 2020-05-20 07:33:49 -0700, , future optimize move_it scylla text size reduces 0.04 37690452 37675140 look like gcc budget inline function 500 randomized run duration smp m4g reported tps average improves 0.58 161462 162399 signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1103,ee516b1cc5a93ddc41eb5e847547ccf4417f0dfc,vi Kivity <avi@scylladb.com>, 2020-05-07 13:03:40 +0300, , build use fcommon compiler flag dpdk gcc switched default fno common dpdk prepared use fcommon explicitly dpdk build safe default gcc previous see dpdk upstream work make fno common friendly better wait work complete rebase new dpdk version http gcc.gnu.org gcc changes.html reviewed rafael vila esp ndola espindola scylladb.com message avi scylladb.com,,
1104,0cdafd59ed9104da9846e694e734434da4ca9bed,vi Kivity <avi@scylladb.com>, 2020-05-19 20:40:36 +0300, , coroutines reduce template bloat integrate compiler seastar supply std experimenta specialization tell compiler generate code coroutines return seastar future template take parameter type parameter coroutine function never used result instantiate many template need example future int co_return  future long co_return  instantiate seastar future int seastar future long wasteful collapse instantiation using common base type simply function parameter type test unit release coroutine_demo release reviewed rafael vila esp ndola espindola scylladb.com message avi scylladb.com,,
1105,10c98e2764bf06fbc99c03299616ec37cfd1a17b,otond Dnes <bdenes@scylladb.com>, 2020-05-19 12:10:23 +0300, , test fstream_test.cc test fstream_perf.cc restore indentation broken previous patch,,
1106,52e0a763e877fa86f896ffee27e2872661d91049,otond Dnes <bdenes@scylladb.com>, 2020-05-19 11:55:19 +0300, , fstream introduce safe currently function unsafe fail construct output_stream data_sink respectively file instance passed left unclosed triggering assertion failure file class take ownership file constructed make sense take care file object moment passed safe function return future event failure caller wait file closed new safe variant added api_v3 namespace also made default api level patch,,
1107,c5c24b6fe70b32959bbd5f02f1e15e82a7bb647d,otond Dnes <bdenes@scylladb.com>, 2020-04-01 18:48:14 +0300, , fstream.hh convert comment doxygen comment overload doxygen style comment covert comment overload well also visible generated documentation,,
1108,59e4fcd9ec40fa9643779d13d76c9dc570986d43,afael vila de Espndola <espindola@scylladb.com>, 2020-05-10 16:13:52 +0300, , api level add version add api version expands infrastructure bit time come add idea one macro inline alone take care exposing apis introduced version also bring forward apis introduced previous version done using directive avoid using directive function type api_vx namespace divided namespaces right adding addition single api_v3 and_newer namespace added using api_v3 and_newer also modifies api api moved and_newer directly strategy tested know work well version signed rafael vila esp ndola espindola scylladb.com signed benny halevy bhalevy scylladb.com,,
1109,20fe2eeb315063d40023e0b79f68679ed79953b4,enny Halevy <bhalevy@scylladb.com>, 2020-05-18 17:54:15 +0300, , thread make async noexcept handle exception seastar async return exceptional future failure rather throwing signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
1110,f7df562462e8da0abd28660b6ca04574960085cd,enny Halevy <bhalevy@scylladb.com>, 2020-05-19 11:07:18 +0300, , file specify method noexcept patch make class file method returning future noexcept although commit made seastar file_impl method noexcept want specify base class file_impl pure virtual method noexcept since class file used user defined file_impl want force user make implementation noexcept therefore need catch potential exception _file_impl call low level make caller noexcept propagate stack signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
1111,37ce8a233a446369452c6d61fb6b7573e407dae9,vi Kivity <avi@scylladb.com>, 2020-05-16 10:11:02 +0300, , doc drop grace period old standard revision compatibility statement say support two recent standard grace period year support three example today support grace period 2021 however standard make supporting three consecutive standard simultaneously hard see example documentation std result_of_t taken http template class using result_of_t typename result_of type since deprecated removed template class class ... argtypes using invoke_result_t typename invoke_result argtypes ... type since intersection 20. use std result_of_t 20. use std invoke_result_t given standard self compatible two release back seastar better patch therefore remove grace period wording compatibility statement message avi scylladb.com,,
1112,5a68003f0385d9dc3d25d50ffb7a9a50cf7c2206,enny Halevy <bhalevy@scylladb.com>, 2020-05-18 12:19:24 +0300, , semaphore specify consume_units noexcept semaphore consume trivially noexcept semaphore_units basic_semaphore size_t also noexcept consume_units specified noexcept also fix get_units comment say return exceptional future rather throwing exception signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
1113,4c27a74f8d1eb6eeda48996854697a696f0c538d,adav Har'El <nyh@scylladb.com>, 2019-08-21 16:54:45 +0300, , doc tutorial.md add short intro seastar sharded short introduction seastar sharded still missing thing like local map_reduce probably thing add incrementally signed nadav har nyh scylladb.com message nyh scylladb.com,,
1114,aa2e8c11821098e17e31ef1c69a7baaae8d2b1bd,afael vila de Espndola <espindola@scylladb.com>, 2020-05-12 09:32:14 -0700, , future move promise_base move constructor line fix size regression caused recent change self move assignment constructor code apparent keeping promise_base constructor line win 0.4 text size win 37805172 37644148 byte 0.65 tps improvement duration smp m4g 500 randomized run 160706 161764 rest difference seems code covered always_inline able obtain win code size performance shuffling around signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1115,18964889da38e56564d5ee5f5c5cb9b7aafff1d4,vi Kivity <avi@scylladb.com>, 2020-05-12 16:51:55 +0300, , coroutines enable coroutines slightly different coroutines support difference header coroutine vs. experimental coroutine namespace std vs. std experimental unlike existing coroutine support made support automatic without cmake magic relies version header feature detection macro support demo unit test compiled unconditionally simply nothing coroutine support present note gcc requires fcoroutines enable coroutine support patch make attempt enable automatically gcc make coroutines support opt patch respect message avi scylladb.com,,
1116,321d9ef470865ae35a135edfd6f5b9772dbc6732,vi Kivity <avi@scylladb.com>, 2020-05-15 17:51:06 +0300, , tutorial adjust evaluation order warning note tightened evaluation order guarantee making style warned evaluation order section legal message avi scylladb.com,,
1117,49c1895cc3bcbb283d043f7c27e2e2480ac48ad6,afael vila de Espndola <espindola@scylladb.com>, 2020-05-11 11:26:55 -0700, , rpc_test fix valgrind synchronization connection failing sink producing error debug build normally see error iteration valgrind normal need 650 signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1118,0d8a95f34637a118e3a0d22101bedf24f8e61ba8,afael vila de Espndola <espindola@scylladb.com>, 2020-05-14 09:09:21 -0700, , file remove unused lambda capture found clang warning signed rafael vila esp ndola espindola scylladb.com reviewed benny halevy bhalevy scylladb.com message espindola scylladb.com,,
1119,da057bf3a5bb056a1a15e04a3874b8404dbdec27,iotr Sarna <sarna@scylladb.com>, 2020-05-15 09:53:17 +0200, , install dependency add valgrind arch since valgrind became dependency building seastar order keep arch linux setup date also added list required package message scylladb.com,,
1120,9536c0fbaa96f04c62b21c51bed8655b77850018,afael vila de Espndola <espindola@scylladb.com>, 2020-05-14 09:14:51 -0700, , coroutines_test access destroyed lambda fix test clang work around thing defect standard signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1121,18bf7df21e80260b1698acf18325cd66428111b0,enny Halevy <bhalevy@scylladb.com>, 2020-05-14 17:00:01 +0300, , tutorial warn evaluation order pitfall signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
1122,1a0fe221a21d549ed351c494d03bfc3fcd3f6dfc,adav Har'El <nyh@scylladb.com>, 2020-05-14 16:52:27 +0300, , merge apps improvement httpd seawreck merged patch series vlad zolotarov various improvement httpd seawreck demo apps include fix sigint sigterm handling add prometheus api export httpd vlad zolotarov apps lib add helper class abort signal handling httpd export metric via prometheus api seawreck ignore sigint apps lib stop_signal.hh apps httpd main.cc apps seawreck seawreck.cc file changed 130 insertion deletion create mode 100644 apps lib stop_signal.hh,,
1123,88b4fab1dd91e52701d65106a99985949100be95,afael vila de Espndola <espindola@scylladb.com>, 2020-04-13 09:38:08 -0700, , file move function line gain inlining probably minimal followup patch change keep _file_impl alive signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1124,92365e7b87a8cc9506b57a9c6ea4db675dbbc64d,vi Kivity <avi@scylladb.com>, 2020-05-11 21:00:05 +0300, , test convert remove boilerplate call individual test message avi scylladb.com,,
1125,3c7f62e9dca44227189f687e45c36a97ef47adbb,vi Kivity <avi@scylladb.com>, 2020-05-11 20:02:44 +0300, , merge avoid undefined behavior future self move assignment rafael  self move assignment leave object well defined state unfortunately current code hit undefined behavior instead lead crash gcc optimization exploit right way undefined behavior implementing move assignment operator foo operator foo noexcept foo new foo std move return  according draft basic.life lifetime end destructor called storage reused self move assignment case double dead time try move  series avoids undefined behavior without bloating code handle corner case also avoids duplicating code move constructor move assignment operator still benchmark least code size impact scylla 0.5 increase text size 37618244 37820836  espindola fix move assign github.com espindola seastar future fix self move assign future future add future_base clear future add future_base move_it future fix self move assign promise future implement promise move_it future simplify promise move constructor future use default move constructor future use default operator future implement promise_base operator future add promise_base move_it future add promise_base clear future fix self move assign future_state future use memmove future_state move_it future add future_state move_it future add future_state clear future implement operator future add move_it future add check_failure helper future call future move predicate,,
1126,3ecfbff7ca91b6e803d3d627ccd15942edb65931,omasz Grabiec <tgrabiec@scylladb.com>, 2020-05-11 14:48:12 +0200, , merge support avi series adjusts seastar support 20. main change support dialect concept smaller change around removed function changed initialization syntax http github.com avikivity seastar test futures_test adjust no_copy_no_move default constructor test fstream_test adjust fstream_wrapper constructor concept introduce seastar_concept replacement gcc6_concept treewide adjust concept language build drop support concept gcc6_concept transfer replace removed std allocator construct destroy successor circular_buffer replace removed std allocator construct destroy successor,,
1127,57b3ce0dbfc4982bdb2f88760418143e223fd50b,vi Kivity <avi@scylladb.com>, 2020-05-06 19:42:53 +0300, , test futures_test adjust no_copy_no_move default constructor changed rule around bracket initialization adjust no_copy_no_move fit adjustment traditional add constructor call regular parenthesized constructor call,,
1128,58298bad1c636c8909c83924948e9164f24dda3c,vi Kivity <avi@scylladb.com>, 2020-05-06 19:42:53 +0300, , test fstream_test adjust fstream_wrapper constructor changed rule around bracket initialization adjust fstream_wrapper fit adjustment traditional add constructor call regular parenthesized constructor call,,
1129,6144c2df4d34a6d9b9a0fc0d6799356f991e09c3,vi Kivity <avi@scylladb.com>, 2020-05-06 19:38:41 +0300, , concept introduce seastar_concept replacement gcc6_concept since concept support becomes first class introduce seastar prefixed macro denote macro defined new file util concepts.hh macro role hide concept building dialect support expose concept otherwise unlike old gcc6_concept macro enabled automatically compiler support concept done via feature detection macro cmake trick old gcc6 concepts.hh header macro retained compatibility gcc6_concept gcc6_no_concept updated note application use seastar_concept application switched use concept unconditionally,,
1130,50d4042b0ee2e244a325f2a6f18101fa0247ee3c,vi Kivity <avi@scylladb.com>, 2020-05-06 19:32:36 +0300, , treewide adjust concept language differs concept several way concept definition use concept instead concept bool function style concept definition concept bool foo return ... supported return type requirement name constraint return type rather type name patch adjusts defined concept dialect,,
1131,61688d25341893122f9d2cc1e0fdb2df061ef451,vi Kivity <avi@scylladb.com>, 2020-05-06 19:28:47 +0300, , build drop support concept gcc6_concept support concept language changed since concept seastar supported experimentally since supporting two dialect hard since support experimental drop concept support concept declaration usage kept since form baseline concept support,,
1132,8aaa871571533237546c00470e43238b61227dc0,vi Kivity <avi@scylladb.com>, 2020-05-06 19:23:30 +0300, , transfer replace removed std allocator construct destroy successor deprecated removed std allocator construct destroy replace successor std,,
1133,b28c3f0929a844b610d10fbd6fbed437bc77f3dd,vi Kivity <avi@scylladb.com>, 2020-05-06 19:23:30 +0300, , circular_buffer replace removed std allocator construct destroy successor deprecated removed std allocator construct destroy replace successor std,,
1134,4093c9d1d96417e5075597ec11b5cad83e8720fb,vi Kivity <avi@scylladb.com>, 2020-05-11 12:43:01 +0300, , use experimental feature experimental type_traits inline variable version type trait ending present  rather relying potentially well maintained library use standard type_traits library avoid using inline variable variant test unit dev mode except futures_test already fails mode message avi scylladb.com,,
1135,21324aa39f16b6c237810cf3974553beb706f4bb,vi Kivity <avi@scylladb.com>, 2020-05-10 15:06:50 +0300, , test verify later modify current group suspected later modifies current doe test ensures remain reviewed benny halevy bhalevy scylladb.com message avi scylladb.com,,
1136,485d98ff0bd46b1d0918d2f33c1a08165a9ddb0e,vi Kivity <avi@scylladb.com>, 2020-05-10 16:39:29 +0300, , test demo coroutine_demo add missing include open_file_dma got lost great reactor.hh slimdown message avi scylladb.com,,
1137,706f13bb24921497ea1aa4248eafdfd3e276b50a,otond Dnes <bdenes@scylladb.com>, 2020-04-24 11:30:20 +0300, , rpc minor documentation improvement followup added doxygen documentation rpc patch contains follow fix review comment fixed said patch fix typo missing dot mention symmetric connection discussing client add missing public symbol rpc group opt_time_point sink source correct documentation protocol server mention rpc module start page signed botond bdenes scylladb.com message bdenes scylladb.com,,
1138,cc14ee1deef658f69cd23aee245dfba5c00aaaca,afael vila de Espndola <espindola@scylladb.com>, 2020-05-07 18:16:52 -0700, , rpc assert sink closed sending data sink creates continuation waited flushed closed failure wait cause use freed memory better abort instead could bit lax assert _sem empty seems better require stream always closed signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1139,ef5ea78c8f00f6df60627024f051ad4c4f2a44b3,afael vila de Espndola <espindola@scylladb.com>, 2020-05-08 15:31:29 -0700,741, future fix self move assign future invalid call new future std move also want explicit check self move assign corner case type used everywhere new implementation avoids undefined behavior explicit check fix 741 also fix test failure fedora signed rafael vila esp ndola espindola scylladb.com,,
1140,70a7d0dc0b1635b2e7913bce8413a900d73277fc,afael vila de Espndola <espindola@scylladb.com>, 2020-05-08 15:26:46 -0700, , future add future_base clear get user following patch signed rafael vila esp ndola espindola scylladb.com,,
1141,65ca47773eabc85d3cc5a020d1832a35f7f1b6e9,afael vila de Espndola <espindola@scylladb.com>, 2020-05-08 15:23:48 -0700, , future add future_base move_it get user following patch signed rafael vila esp ndola espindola scylladb.com,,
1142,00f0c0c5db0fc7ce520c2bd6705d5cafc8e05355,afael vila de Espndola <espindola@scylladb.com>, 2020-05-08 15:12:20 -0700, , future fix self move assign promise invalid call new promise std move also want explicit check self move assign corner case type used everywhere new implementation avoids undefined behavior explicit check signed rafael vila esp ndola espindola scylladb.com,,
1143,80871a31a7441352e86ddb1c30d3787df83667ce,afael vila de Espndola <espindola@scylladb.com>, 2020-05-08 15:07:58 -0700, , future implement promise move_it get user following patch signed rafael vila esp ndola espindola scylladb.com,,
1144,fc67952a9fa17c519804595b573e93ae70774032,afael vila de Espndola <espindola@scylladb.com>, 2020-05-08 14:59:21 -0700, , future simplify promise move constructor since know _local_state hold anything yet use future_state move constructor instead move assignment operator signed rafael vila esp ndola espindola scylladb.com,,
1145,1a05610f94ef4fc200292e2756e1ea6c3fcacf6f,afael vila de Espndola <espindola@scylladb.com>, 2020-05-08 14:49:38 -0700, , future use default move constructor doe thing one coded signed rafael vila esp ndola espindola scylladb.com,,
1146,254468832a8e726f3607011036ea48438981ec6a,afael vila de Espndola <espindola@scylladb.com>, 2020-05-08 14:28:12 -0700, , future use default operator promise_base move assignment operator use default one signed rafael vila esp ndola espindola scylladb.com,,
1147,b5ab3c417dda225b65ed2498a0c854119adedcb2,afael vila de Espndola <espindola@scylladb.com>, 2020-05-08 14:25:19 -0700, , future implement promise_base operator currently unused following patch use signed rafael vila esp ndola espindola scylladb.com,,
1148,081a38603b7511bdea1bf7fe5f1f558d34b4407c,afael vila de Espndola <espindola@scylladb.com>, 2020-05-08 14:14:07 -0700, , future add promise_base move_it get user following patch signed rafael vila esp ndola espindola scylladb.com,,
1149,6dd3c46564230659ceb7468374dec800532372a4,afael vila de Espndola <espindola@scylladb.com>, 2020-05-08 14:11:20 -0700, , future add promise_base clear get user following patch signed rafael vila esp ndola espindola scylladb.com,,
1150,72de49e09c0010eed30178115531785c0ee7eedb,afael vila de Espndola <espindola@scylladb.com>, 2020-05-08 13:50:38 -0700, , future fix self move assign future_state invalid call new future_state std move also want explicit check self move assignment corner case type used everywhere new implementation avoids undefined behavior explicit check signed rafael vila esp ndola espindola scylladb.com,,
1151,d48586bd25e3189d8b3ba4bc844432b4b3d7a442,afael vila de Espndola <espindola@scylladb.com>, 2020-05-08 13:45:16 -0700, , future use memmove future_state move_it also used move assignment operator work pointer equal signed rafael vila esp ndola espindola scylladb.com,,
1152,713a544fa62fd181d04b3e48c4643858b26565b7,afael vila de Espndola <espindola@scylladb.com>, 2020-05-08 13:43:26 -0700, , future add future_state move_it get user following patch signed rafael vila esp ndola espindola scylladb.com,,
1153,454592487fc8c4fa7a34e049184e6c1d6aa18704,afael vila de Espndola <espindola@scylladb.com>, 2020-05-08 13:34:55 -0700, , future add future_state clear get user following patch signed rafael vila esp ndola espindola scylladb.com,,
1154,a8c972b8e475bfdd2d065987ca7d552d8f4caa6f,afael vila de Espndola <espindola@scylladb.com>, 2020-05-08 11:03:56 -0700, , future implement operator implementation avoids explicitly checking self move assignment undefined behavior happens use default move assignment operator signed rafael vila esp ndola espindola scylladb.com,,
1155,e8dd2597c9f4edabadb04bc693327e27e4ff3c85,afael vila de Espndola <espindola@scylladb.com>, 2020-05-08 11:00:38 -0700, , future add move_it get user following patch signed rafael vila esp ndola espindola scylladb.com,,
1156,b62e023bec7181234bc9d2b5a3ee60ed504d0b31,afael vila de Espndola <espindola@scylladb.com>, 2020-05-08 10:57:22 -0700, , future add check_failure helper get user following patch signed rafael vila esp ndola espindola scylladb.com,,
1157,20b6741b345ef87a8ae955fb9755c02e0da928ea,afael vila de Espndola <espindola@scylladb.com>, 2020-05-08 10:51:41 -0700, , future call idiomatic type actually data signed rafael vila esp ndola espindola scylladb.com,,
1158,5451e64685a4f0ff4019209e102c40d76c2b9f13,afael vila de Espndola <espindola@scylladb.com>, 2020-05-08 10:48:57 -0700, , future move predicate defined used member variable move directly union bit idiomatic allow implementing function signed rafael vila esp ndola espindola scylladb.com,,
1159,e333bf159f89392f0f8629cb5420a15520f784b2,vi Kivity <avi@scylladb.com>, 2020-05-07 23:27:50 +0300, , merge fix test valgrind rafael  patch series includes change valgrind specific already emailed fix issue found valgrind extra hack like suppression gnutls problem able run memcached test fails python fedora fails valgrind overall pretty impressive little needed get valgrind handle seastar pity slow  espindola valgrind patch github.com espindola seastar thread_test disable test fails valgrind core linux_aio_ring usable valgrind core inform valgrind stack add valgrind install dependencies.sh,,
1160,dd2e1877616ac4937f4e882d3963f4e3e3c581eb,afael vila de Espndola <espindola@scylladb.com>, 2020-05-06 14:40:47 -0700, , fix slow machine test patch assumed sleeping 100 would enough bring concurrency limit testing slow machine like valgring time needed patch change test wait specified concurrency sleep 100 ms. another advantage exact checking signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1161,ed2d5d88b5d2166a8cc04d08132a6f86197cd716,afael vila de Espndola <espindola@scylladb.com>, 2020-05-06 08:54:22 -0700, , rpc_test make sure always flush close sink sink call fails still flush might left running continuation might access sink deleted signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1162,b614e5be65ac4a054b59974876a665d2026279b7,afael vila de Espndola <espindola@scylladb.com>, 2020-05-05 11:13:58 -0700, , thread_test disable test fails valgrind valgrind produce error test expected since access stack stack pointer signed rafael vila esp ndola espindola scylladb.com,,
1163,a4a91f9d803c0c0d6c716c0d62ed0a170a5e305b,afael vila de Espndola <espindola@scylladb.com>, 2020-04-30 15:58:09 -0700, , core linux_aio_ring usable valgrind valgrind know kernel update ring buffer always use system call running valgrind signed rafael vila esp ndola espindola scylladb.com,,
1164,10348c4c52d470c1bc03e2e9a8e245e8c7f20d62,afael vila de Espndola <espindola@scylladb.com>, 2020-04-27 11:22:39 -0700, , core inform valgrind stack like asan valgrind need know given allocation going used stack unlike asan valgrind special build mode code always enabled signed rafael vila esp ndola espindola scylladb.com,,
1165,3202af4ee17b92d32b80c83676f4fb29e31cea4f,afael vila de Espndola <espindola@scylladb.com>, 2020-05-06 14:45:27 -0700, , add valgrind install dependencies.sh next patch use valgrind.h fix test valgrind signed rafael vila esp ndola espindola scylladb.com,,
1166,e708d1df3a176081c3c478cd8b2f9e05f220154b,vi Kivity <avi@scylladb.com>, 2020-05-05 22:47:34 +0300, , merge fix issue found clang asan rafael  patch fix issue found clang gcc one reported asan_options added cmake series two reason gcc implementation slow http gcc.gnu.org bugzilla show_bug.cgi 94910 test fails expected issue avoided wanted get actual fix first  espindola asan fix http github.com espindola seastar futures_test use optional without value net use offsetof instead accessing null pointer allocator_test avoid undefined conversion http use moved value fix indentation always mask index rpc fix use return,,
1167,23aed3fca192e1e5aecad14e133fd10864118688,otond Dnes <bdenes@scylladb.com>, 2020-05-05 15:40:55 +0300, , seastar app_template allow description provided app description provided via app_template config way app name empty printed top help output best place provide short description application link detailed documentation document name field well signed botond bdenes scylladb.com message bdenes scylladb.com,,
1168,c1b7e01e9da4c6e6b0678e262661ebc6bd8f016e,vi Kivity <avi@scylladb.com>, 2020-05-05 19:05:27 +0300,6346, membarrier fix madvise madv_dontneed failure crash lock memory old kernel use madvise madv_dontneed way generate inter processor interrupt core forcing inject memory barrier however user used lock memory call mlockall madvise call fails luckily asserted ended early crash rather hanging shard fix call munlock memory ensure madvise succeed ref http github.com scylladb scylla issue 6346 reviewed rafael vila esp ndola espindola scylladb.com message avi scylladb.com,,
1169,4826c2b16057accda2a779d5d6ee73bbc35bef03,afael vila de Espndola <espindola@scylladb.com>, 2020-05-01 13:05:13 -0700, , futures_test use optional without value undefined behavior signed rafael vila esp ndola espindola scylladb.com,,
1170,8410ddbfa2479aadcce913ef891b2c1f49f654c5,afael vila de Espndola <espindola@scylladb.com>, 2020-05-01 12:06:14 -0700, , net use offsetof instead accessing null pointer clang ubsan complains even pointer dereferenced signed rafael vila esp ndola espindola scylladb.com,,
1171,8a1e7c2277fb564b94869dfa461e7b8bac5cd98f,afael vila de Espndola <espindola@scylladb.com>, 2020-05-01 11:56:05 -0700, , allocator_test avoid undefined conversion undefined behavior convert floating point value integer type value range integer type signed rafael vila esp ndola espindola scylladb.com,,
1172,c8c209da30190aaf63f6055801a35dcda37c05e3,afael vila de Espndola <espindola@scylladb.com>, 2020-05-01 11:30:15 -0700, , http use moved value req variable could moved used format signed rafael vila esp ndola espindola scylladb.com,,
1173,d5c9e979a6ee8d25d33a64b0df4a98a41558743d,afael vila de Espndola <espindola@scylladb.com>, 2020-05-05 08:59:54 -0700, , fix indentation broken previous patch signed rafael vila esp ndola espindola scylladb.com,,
1174,95105c37843d5bdf3181cc5a905a9728dac798b5,afael vila de Espndola <espindola@scylladb.com>, 2020-05-01 11:19:28 -0700, , always mask index couple place masking index could cause crash _begin underflow move constructor behaves bit like std array one particular moved value destructed moved circular buffer destroyed clear function already correct simplifies bit signed rafael vila esp ndola espindola scylladb.com,,
1175,28a471a46c51cd97baf684c351d5e89a368fbc35,afael vila de Espndola <espindola@scylladb.com>, 2020-05-01 10:32:15 -0700, , rpc fix use return variable info stack captured reference signed rafael vila esp ndola espindola scylladb.com,,
1176,9faf2c3d852175972195590a2ec2955c569608a6,alle Wilund <calle@scylladb.com>, 2020-05-05 13:39:23 +0000,744, rpc compressor fix static init fiasco name fix 744 rpc factory cousin use static non constexpr var supported _name fine dandy except rpc sort invite usage static const indeed used however constant init wrong way instance may end supported set ... probably intent caller perhaps deal avoid constant make type resistant well move name function local static adjusts using code accordingly message calle scylladb.com,,
1177,fa0adbd3f347a9207939bc86dfbdd93bb710d8d8,lauber Costa <glauber@scylladb.com>, 2020-05-01 14:25:02 -0400, , fair_queue express internal fair_queue quantity recently evolved become fair_queue still track request individually number accumulated weight accumulated size patch change fair_queue express everything including limit enhance implement operator relationship expressed concise elegant manner request based accounting kept implement deprecated variant one note reader code note cost computed based _config decision allow request pas based current capacity quantity guaranteed plan allow fair_queue grow shrink capacity convenient already ahead test unit dev signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1178,2af9908ebf043c2afc941a41f2a3a41999d7c354,vi Kivity <avi@scylladb.com>, 2020-04-25 18:15:30 +0300, , net remove api compatibility layer variadic future networking commit merge return variadic future form server_socket accept avi changed return server_socket accept return variadic future deprecated since future deprecate variadic future enough time passed user migrate api return struct instead drop api includes following remove anything declated api_v1 namespace fold api_v2 namespace enclosing namespace since api_v1 alternative namespace inline remove option cmake support api level.hh reviewed rafael vila esp ndola espindola scylladb.com message avi scylladb.com,,
1179,b51bbdca0234e7670ee6549e9e5375f718b6b31a,afael vila de Espndola <espindola@scylladb.com>, 2020-04-27 10:24:11 -0700, , testing move part exchanger line hot code need inline noticed exchanger constructor showed backtrace hope get better backtrace line signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1180,fd2c6b9c8df9f9adf4a93195f39d6bff215d1e50,otond Dnes <bdenes@scylladb.com>, 2020-04-29 16:41:00 +0300, , add overload taking std exception_ptr often calling exception object handy example called catch clause add convenience overload case also allows customizing type exception thrown abort internal error set signed botond bdenes scylladb.com message bdenes scylladb.com,,
1181,ef558b5a8c88f9fbab4c556dd6d60dcd5a3402ab,afael vila de Espndola <espindola@scylladb.com>, 2020-05-01 20:33:50 -0700, , tuple_utils add missing include fix build gcc signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1182,ea464e16287e38f5b41ef32a59d1bfa184a0092f,vi Kivity <avi@scylladb.com>, 2020-05-01 19:19:56 +0300, , merge fix use uninitialized found valgrind rafael  patch fix case found valgrind issue patch moment also patch work around valgrind limitation still broken test would like get fix first  espindola valgrind patch http github.com espindola seastar use strict msghdr msg_namelen value file_utils_test write uninitialized data file_io_test write uninitialized data fstream zero end buffer writing,,
1183,1f186ebcf61ffd41fbd14867952e99198a7c2569,afael vila de Espndola <espindola@scylladb.com>, 2020-04-30 09:13:48 -0700, , use strict msghdr msg_namelen value always setting msg_namelen size seem bad impact regular use valgrind complains system call point unitialized byte reducing msg_namelen size initialized avoids warning signed rafael vila esp ndola espindola scylladb.com,,
1184,171acbce73086a4a4d507c2ec86b79e21512cdee,afael vila de Espndola <espindola@scylladb.com>, 2020-04-30 09:10:32 -0700, , file_utils_test write uninitialized data seem care content write test initialize valgrind complains signed rafael vila esp ndola espindola scylladb.com,,
1185,6b08a27fe816ff6ee19f5d968b887dfcdda076ad,afael vila de Espndola <espindola@scylladb.com>, 2020-04-30 09:10:12 -0700, , file_io_test write uninitialized data seem care content write test initialize valgrind complains signed rafael vila esp ndola espindola scylladb.com,,
1186,a96cc49beeee3e1cce1fd20162e14bae5c7139c0,afael vila de Espndola <espindola@scylladb.com>, 2020-04-28 14:59:07 -0700, , fstream zero end buffer writing currently writing uninitialized byte truncating far tell crash two operation leave uninitialized data disk know could use slower write special case patch assumes write truncate best patch initializes end buffer content predictable signed rafael vila esp ndola espindola scylladb.com,,
1187,3c2e2781195b3e2b786970f4f62c639d5b706eb9,afael vila de Espndola <espindola@scylladb.com>, 2020-04-03 15:51:39 -0700, , future add futurizer avoids constructing future lambda passed then_wrapped return plain value instead pas directly promise set_value reduces text section scylla 37812660 37424180 byte also increase tps reported duration smp m4g 1.58 158305 160807 signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1188,edd968208b3996dd8aea60e18d0b1d37d55e5432,afael vila de Espndola <espindola@scylladb.com>, 2020-04-03 15:51:38 -0700, , future move concept definition earlier used futurize next patch signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1189,0523b0fac4123f4998f3c7af0a3d8110fc1bc675,vi Kivity <avi@scylladb.com>, 2020-04-30 11:11:02 +0300, , merge fix issue found valgrind rafael  patch series fix use uninitialized bug found valgrind add support testing  espindola valgrind http github.com espindola seastar cmake add support testing valgrind cmake add flag enabling sanitizers reactor initialize _total_idle reactor initialize _sleeping initialize sev variable,,
1190,d0cbf7d1e820283cdfbbdf37df4df88de8c8462a,vi Kivity <avi@scylladb.com>, 2020-04-27 17:46:40 +0300, , test restore compatibility broken due std filesystem std filesystem present use compat filesystem instead message avi scylladb.com,,
1191,0c0e95085c601c34a73cb222ed4b20fd1419e73f,iotr Sarna <sarna@scylladb.com>, 2020-04-29 15:24:23 +0200,6319, http make header case insensitive according rfc7230 http header case insensitive case seastar http server note optimal solution would keep lowercase string map since _headers public field raise backward compatibilty issue possible follow provide getters setter _headers field eventually make private header name transformed lowercase added map turn avoid transforming lowercase every time need compared test unit dev manual modified apps httpd server fix 636 ref http github.com scylladb scylla issue 6319 message scylladb.com,,
1192,d14c6219b83fb4bd77f6ef2fb25271146e80ce9d,otond Dnes <bdenes@scylladb.com>, 2020-04-29 13:02:12 +0300, , add allow test disable aborting internal error scope testing error path signed botond bdenes scylladb.com reviewed rafael avila espindola espindola scylladb.com message bdenes scylladb.com,,
1193,a5f87152cd741498afabd644e2e52c4887d65119,vi Kivity <avi@scylladb.com>, 2020-04-28 17:24:34 +0300, , merge make when_all function noexcept benny  series make when_all function noexcept test unit dev futures_test debug futures_test dev except test_self_move regression  tag when_all noexcept github.com bhalevy seastar future make do_when_all noexcept future iterator based when_all function make noexcept future wait_all based when_all function mark noexcept future wait_all specify when_all_state wait_all noexcept future wait_all add method transformer future move when_all _impl function internal namespace,,
1194,89bf0704c02c66f90bb60a65310548e3e4f6dab4,afael vila de Espndola <espindola@scylladb.com>, 2020-04-27 13:58:37 -0700, , cmake add support testing valgrind ideally would test memory sanitizer hard couple reason clang requires dependency built want support clang think building dependency memory sanitizer impractical current build system change instead add support valgrind crazy slow support system call use already detect problem current debug build signed rafael vila esp ndola espindola scylladb.com,,
1195,0a59c6f26b9dee258675aa503de70651381a5438,afael vila de Espndola <espindola@scylladb.com>, 2020-04-27 13:35:21 -0700, , cmake add flag enabling sanitizers make possible enable disable sanitizers explicitly default still signed rafael vila esp ndola espindola scylladb.com,,
1196,8041bc55f0798ba008c2524e7c1071833d3def85,afael vila de Espndola <espindola@scylladb.com>, 2020-04-27 13:13:00 -0700, , reactor initialize _total_idle valgrind complains used uninitialized signed rafael vila esp ndola espindola scylladb.com,,
1197,ad49b9ca98d928acf8710d4d4a30d2a2eea3c210,afael vila de Espndola <espindola@scylladb.com>, 2020-04-27 13:12:46 -0700, , reactor initialize _sleeping valgrind complains used uninitialized signed rafael vila esp ndola espindola scylladb.com,,
1198,d2f0b956520fdf2ef0ec30607dd89398336df5ec,afael vila de Espndola <espindola@scylladb.com>, 2020-04-27 13:09:47 -0700, , initialize sev variable valgrind complains used uninitialized signed rafael vila esp ndola espindola scylladb.com,,
1199,4f491ad6057022b055469aa3ec25d5a88c6bc34e,aphael S. Carvalho <raphaelsc@scylladb.com>, 2020-04-27 13:17:50 -0300, , chunked_fifo fix underflow reserve size needed chunk result underflow potentially resulting huge amount new allocated chunk also back chunk accounting could result underflow need lower available slot back chunk caught auditing code signed raphael carvalho raphaelsc scylladb.com message raphaelsc scylladb.com,,
1200,0283d4ffc36d53c562ee8cda6b0c1921f9d196d6,enny Halevy <bhalevy@scylladb.com>, 2020-04-27 14:42:54 +0300, , future make do_when_all noexcept rafael avila espindola espindola scylladb.com abort otherwise caller assume incorrectly passed future finished make vector reservation do_when_all noexcept use disable error injection consequently specify do_when_a nnoexcept avi kivity avi scylladb.com size potentially end user dependent trigger abort due user input program limit concurrency user input proposed rafael avila espindola espindola scylladb.com signed benny halevy bhalevy scylladb.com,,
1201,1240c8b4db63aae8abe395f60876c1d347e77c5c,enny Halevy <bhalevy@scylladb.com>, 2020-04-12 14:53:38 +0300, , future iterator based when_all function make noexcept catch exception calling do_when_all return exception future rather throwing signed benny halevy bhalevy scylladb.com,,
1202,b06e6e4cfe3e568d1bf20e3d1741d45c31155ec3,enny Halevy <bhalevy@scylladb.com>, 2020-04-12 15:59:11 +0300, , future wait_all based when_all function mark noexcept when_all_state wait_all throw mark caller chain noexcept signed benny halevy bhalevy scylladb.com,,
1203,79efd0ec7b7a828d03357cfc3f9a72d97e065099,enny Halevy <bhalevy@scylladb.com>, 2020-04-12 15:56:17 +0300, , future wait_all specify when_all_state wait_all noexcept future passed args nothrow move constructible processor func may potentially throw using new place allocate memory note patch retains since assumed when_all must wait future passed signed benny halevy bhalevy scylladb.com,,
1204,a87e1d187638da8ab50ca9b21d6574dbfc7a8348,enny Halevy <bhalevy@scylladb.com>, 2020-04-12 14:53:38 +0300, , future wait_all add method transformer used caller make noexcept suggested rafael avila espindola espindola scylladb.com use internal deduce future_type avoid naked std signed benny halevy bhalevy scylladb.com,,
1205,ce66f784259f7734d6530c30894ee38f31e13be4,enny Halevy <bhalevy@scylladb.com>, 2020-04-12 14:46:52 +0300, , future move when_all _impl function internal namespace get documented signed benny halevy bhalevy scylladb.com,,
1206,39230bdf005e1dc9cd1cf701f5ade8c4802b3bd8,vi Kivity <avi@scylladb.com>, 2020-04-27 15:25:32 +0300, , doc document compatibility promise document promise seastar make make source binary compatibility message avi scylladb.com,,
1207,8fae03c22d39bab3cc71189b4cc36a14f1f8c5e3,vi Kivity <avi@scylladb.com>, 2020-04-27 15:26:51 +0300,733, merge reloadable certificate calle  fix 732 fix 733 implement reloadable version client server certificate store attache notifier monitor object file loaded iff modified reloads repective blob rebuilds actual gnutls store impl new data also implement thin seastar wrapper around linux inotify facilitate file modification monitoring  calle reloadable github.com cloudius system seastar dev implement auto reloadable certificate seastar add thin wrapper around inotify test add tmpdir helper file make keep track got cert key make certificate impl shared let session keep object,,
1208,2838496bc418ee7bac544db45de840d3bd2a2349,alle Wilund <calle@scylladb.com>, 2020-03-31 14:22:21 +0000,732, implement auto reloadable certificate fix 732 implement reloadable version client server certificate store attache notifier monitor object file loaded iff modified reloads repective blob rebuilds actual gnutls store impl new data session hold impl inner object keeping actual gnutls handle used creating thus old session use handle created destroyed last session releasing gnutls object new session created new object client use reloadable certificate store transparently reloading handled background client optionally get notifed file change thus log otherwise react event,,
1209,f2280b2bf0161eb60bad96a2be79dd37d09694be,alle Wilund <calle@scylladb.com>, 2020-03-30 13:58:47 +0000,733, seastar add thin wrapper around inotify fix 733 creates small wrapper object defs around linux inotify enabled monitoring file system event file dirs definition wrapper around underlying event buffer consumer api thin raii handling deleting watch point enhanced adding stream layer similar top unit test included,,
1210,0830e7d5e6d89a135b3de5166ca4a45f59ad1181,vi Kivity <avi@scylladb.com>, 2020-04-26 20:02:40 +0300, , future improve variadic future warning variadic future warning call deprecated function future constructor trigger warning unfortunately code path use particular constructor trigger warning move check destructor always called least sane code message avi scylladb.com,,
1211,7a5b29ccc9086fc68e0dcf418ef4c6e5f27d2c9b,lauber Costa <glauber@scylladb.com>, 2020-04-23 10:46:42 -0400, , io_queue deprecated request tracking two function currently user tree user scylla however safe proposing step deprecation process benefit user although unlikely used role function allow user extract metric queue however ever since started using prometheus label essentially sum whatever individual queue anyway used useful fair_queue soon lose ability entirely expressing individual request deprecate deprecating fair_queue io_queue user safer double accounting although ideal allow cleanly without seeing deprecation message everywhere cheap enough matter also improves decoupling signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1212,918ec09085836956bedd7ba2b037b2b29a426dd4,enny Halevy <bhalevy@scylladb.com>, 2020-04-26 19:17:22 +0300, , test futures_test adjust noexcept add simple unit test signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
1213,f40c48eb1c3f821bf4b6ee731e452179310350e7,enny Halevy <bhalevy@scylladb.com>, 2020-04-26 17:49:50 +0300, , future specify noexcept handle exception constructing future_state propagte noexcept specifier signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
1214,0a3d2e2f3990be76e80192e7d2979a4060f61e1d,lad Zolotarov <vladz@scylladb.com>, 2019-12-20 13:56:44 -0500, , seawreck ignore sigint signed vlad zolotarov vladz scylladb.com,,
1215,876b50c2f1134a433948839a9c7fff2ff29fc6e1,lad Zolotarov <vladz@scylladb.com>, 2019-10-31 13:49:45 -0400, , httpd export metric via prometheus api signed vlad zolotarov vladz scylladb.com,,
1216,9d4b6736fa2dd235c29ac6b63be734b40cea084e,lad Zolotarov <vladz@scylladb.com>, 2019-10-31 13:46:48 -0400, , apps lib add helper class abort signal handling seastar style helper class allows easy waiting sigint sigterm signal app example int main ... seastar thread stop_signal stop_signal code .get wait till receive sigint sigterm signal  signed vlad zolotarov vladz scylladb.com,,
1217,37a22d9de6b20ee3ecd76cbbec09c343836d7b72,lauber Costa <glauber@scylladb.com>, 2020-04-23 09:21:02 -0400, , io_queue bring capacity back unfortunately io_queue capacity public function used project need fair_queue expose implement capacity queue configured queue layer know configuration supposed patch restore capacity method based signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1218,30821d169f0981f2ee5cfc1e00b0baa1c1ac5fe8,afael vila de Espndola <espindola@scylladb.com>, 2020-04-22 10:39:51 -0700, , tls_test remove redundant move found clang warning signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1219,eab064b9b2bf00dc947938d162fd883fa1c1a485,afael vila de Espndola <espindola@scylladb.com>, 2020-04-22 10:39:50 -0700, , httpd_test remove unused field found clang warning signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1220,d740b571af80b617803b4e02c5029c767276b1f2,afael vila de Espndola <espindola@scylladb.com>, 2020-04-22 10:39:49 -0700, , everywhere remove unused lambda capture found clang warning signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1221,45be07b572c62b676e1eaa803a6b6af8634c9e9a,otond Dnes <bdenes@scylladb.com>, 2020-04-23 11:58:11 +0300, , rpc add doxygen documentation protocol class although high level documentation doc rpc feature discoverable even included generated doxygen documentation usually look documentation protocol class member lightly documented well mostly non doxygen comment meaning even show generated documentation result repeatedly found resorting reading source find different aspect rpc work help future others similar position patch document protocol class includes various doc rpc .md generated documentation add link documentation protocol class making discoverable patch also defines rpc group exactly sure part public api internal namespace used added symbol sure mean could missed still better current situation almost none rpc symbol turn generated documentation test manually inspection generated documentation signed botond bdenes scylladb.com message bdenes scylladb.com,,
1222,9010b0991ac64f6fe859f8b187b3fe262c924309,afael vila de Espndola <espindola@scylladb.com>, 2020-04-20 10:24:18 -0700, , build pas create seastar json2code.py moving non templeted code .cc file generally good thing particular case found involved current largest stack frame dev build scylla signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1223,e81bb278fae9d937ab9fb57197e102da89f87aea,afael vila de Espndola <espindola@scylladb.com>, 2020-04-20 10:24:17 -0700, , seastar json2code add create option seastar json2code produce code placed .cc file patch add create option cause default false order backwards compatible signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1224,a0dbdfc3ccc827c5032cdcd64977061c3060afe5,vi Kivity <avi@scylladb.com>, 2020-04-22 11:18:33 +0300, , future move static_assert ion future.hh future.cc static assersions materialize future instance int long may used user program increase compile time anyone includes header moving .cc cause template instatiated assertion instantiate rare template still better computed every time header included move message avi scylladb.com,,
1225,42c7f7b9c20d367aa000a84448808ca54b311a22,alle Wilund <calle@scylladb.com>, 2020-04-21 14:08:58 +0000, , test add tmpdir helper file contains wrapper around seastar tmp_dir convenient testing seastar thread normal mode put header one test would like,,
1226,db22be5471e1cfe1ede04ebe2a0a0dab29224252,adav Har'El <nyh@scylladb.com>, 2020-04-21 19:23:12 +0300, , http server fix date function non english locale http server need output date header rfc 7231 format special function unfortunately existing implementation library function strftime work expected i.e. english language day month name current locale english language seastar library rely current locale anything specific change either patch open code date formatting fmt fairly trivial requires short list english day month name patch also move date formatting function header file source file performance sensitive function header file fix 740 signed nadav har nyh scylladb.com message nyh scylladb.com,,
1227,f07a62a930df0429b8a0d82d5cf1132d6289b0bd,afael vila de Espndola <espindola@scylladb.com>, 2020-04-21 17:32:32 -0700, , everywhere add message static_assert static_assert without message addition also move assert .cc file signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1228,c5cfc5458f74a2f1ad86c940c98a44095cbe1c1c,adav Har'El <nyh@scylladb.com>, 2020-04-21 17:25:00 +0300, , http server fix date header format rfc 7231 section 7.1.1.1. defines specific format called preferred format imf fixdate date header must use also allows two additional obsolete format irrelevant discussion almost got format http server implementation almost quite missing day week client forgiving understand partial format four decade ago rfc 822 written client supposed forgiving fail parse date header need fix code conform rfc 7231 reviewing code also noticed produce wrong result english locale rfc 7231 date format english language name fix pre existing issue next patch fix 739 signed nadav har nyh scylladb.com message nyh scylladb.com,,
1229,3a731be9f928eecf234c3cffd848c20be4033985,alle Wilund <calle@scylladb.com>, 2020-03-25 15:31:00 +0000, , make keep track got cert key formalizes blob data stored actual type including file name used timestamps time load preparation reloadable stuff,,
1230,d617fc47055d47fbbcae7311b9f5f27972fafb17,alle Wilund <calle@scylladb.com>, 2020-03-25 13:40:51 +0000, , make certificate impl shared let session keep object instead wrapper facilitate eventually making cert reloadable,,
1231,3aa4bc8fe40c7482dbf31b1d99923d254b147ec5,afael vila de Espndola <espindola@scylladb.com>, 2020-04-20 13:24:54 -0700, , future fix invalid static_assert gcc incorrectly accepts static_assert patch remove gcc bug http gcc.gnu.org bugzilla show_bug.cgi 94644 signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1232,5c188c1636a3a760c674840630a23ee61b394d41,lauber Costa <glauber@scylladb.com>, 2020-04-20 11:32:05 -0400, , fair_queue remove legacy capacity configuration old day fair queue one needed configure capacity different request would different weight passed parameter queue_request weight used cost function newer incarnation fair_queue operate term request size ease compatibility older version kept capacity code simpler way get rid capacity code teaching fair_queue user moment scheduler express idea term size iop set weight queue represent request baseline cost size set len note legacy model read writes behave iop capacity legacy queue capacity hit small request size limit queue capacity 16kb expect hit large request note weight function legacy queue used len 16kb choose 16kb write read ratio multiplier previously initialized 7afc518d0a9e issue trying make sure unconfigured queue anything zero field ahead initialize base cost test unit debug signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1233,f22844e1c97e4252930460dbf966c2a15adc67b5,lexander Gallego <alex@vectorized.io>, 2020-04-17 13:03:35 -0700, , reactor fix private pollfn alias signed alexander gallego alex vectorized.io message alex vectorized.io,,
1234,3abd14ed3d7dc0b672e3e8007a67ea2c32b680fa,enny Halevy <bhalevy@scylladb.com>, 2020-04-19 10:54:34 +0300, , defer include std header make defer.hh self sufficient signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
1235,b085fe7b236c689f4a456ea10279318f54ae9cae,lauber Costa <glauber@scylladb.com>, 2020-04-17 11:06:51 -0400, , spinlock add try_lock method signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1236,1a50a2904a55cfa5fbbc3c212aa213c7b48c2158,lauber Costa <glauber@scylladb.com>, 2020-04-17 10:36:17 -0400, , testing add missing iostream include seastar_test.cc slightly old compiler box maybe message see compiling master distcc 2072 error compile src testing seastar_test.cc localhost failed src testing seastar_test.cc lambda function src testing seastar_test.cc error cerr member std std cerr expected got error std endl  src testing seastar_test.cc note std cerr defined header iostream forget include iostream src testing seastar_test.cc include iostream src testing seastar_test.cc std cerr expected got error std endl  src testing seastar_test.cc lambda function src testing seastar_test.cc error cerr member std std cerr expected got error std endl  src testing seastar_test.cc note std cerr defined header iostream forget include iostream signed glauber costa glauber scylladb.com reviewed benny halevy bhalevy scylladb.com message glauber scylladb.com,,
1237,785b4903a5d8e50d42a3425105188768fb966f16,aphael S. Carvalho <raphaelsc@scylladb.com>, 2020-04-17 04:16:51 -0300, , rpc avoid excessive number reallocation reading compressed frame let reserve space fragment advance avoid excessive number reallocation case compressed frame composed multiple fragment signed raphael carvalho raphaelsc scylladb.com reviewed benny halevy bhalevy scylladb.com message raphaelsc scylladb.com,,
1238,339f34fef43207c50bb5dc5a317671d9257046e8,vi Kivity <avi@scylladb.com>, 2020-04-16 15:47:18 +0300, , timer document document timer class placed new timer module could find better place private type callback_t method signature expanded void reasonable use private type signature even making public requires extra effort figure left internal message avi scylladb.com,,
1239,b5fb92739540fff12dd35dfb21f1dc54c7787d84,iotr Sarna <sarna@scylladb.com>, 2020-04-16 09:27:36 +0200, , merge file utils infrastructure benny add infrastructure temporary file directory use testing file unit test create file dirs temporary directory rather current working directory potentially clashing many test case use file name also introduce used internally tmp_dir unit test newly added functionality added test unit file_utils_test existing unit test test unit file_io_test converted use new tmp_dir tmp_file interface utility function planned added src util file.cc include seastar util file.hh  test unit dev test_unit_ file_ utils fstream _run debug scylla build available also git github.com bhalevy seastar.git file utils infra tag file utils infra github.com bhalevy seastar test fstream abandon future test fstream convert using tmp_dir test file_io convert using tmp_dir utils tmp_file add tmp_dir utils file add utils add tmp_file utils add helper testing add exception predecates,,
1240,b5a9150bee1f2c443778fa309c9e9ad6086fbf2c,enny Halevy <bhalevy@scylladb.com>, 2020-04-01 09:27:21 +0300, , future future_state make exception constructor noexcept inherit respective constructor add static assert std exception_ptr asserted earlier header signed benny halevy bhalevy scylladb.com reviewed rafael vila esp ndola espindola scylladb.com message bhalevy scylladb.com,,
1241,fc0a57b2d61f638ff6db8edb63b078a2d6bc5aa9,vi Kivity <avi@scylladb.com>, 2020-04-13 13:31:40 +0300, , timer add awareness timer currently always execute default scheduling group mean launch continuation continuation also execute default scheduling group regardless scheduling group timer creator belonged cause leak scheduling information causing fiber timer consume resource entitled fix capture current scheduling group callback captured also provide way set scheduling group callback explicitly run timer callback change temporarlily captured scheduling group note timer still run within poller context accounting happen continuation launched callback note seastar sleep affected bug since launch callback directly instead launch callback indirectly via promise set_value unit test provided check scheduling group propagated correctly message avi scylladb.com,,
1242,f846a348b3f2c9a6bd71f1fc087b9e5c40717b28,leb Natapov <gleb@scylladb.com>, 2020-04-14 11:02:57 +0300,6060, rpc always shutdown socket stopping client stopping client socket shutdown need called abort send receive loop skipped _error flag already set set _error flag doe mean though loop already aware need shutdown path call shutdown unconditionally safe call socket shutdown error left underlying socket disconnected since shutdown doe throw case ref scylladb scylla 6060 message scylladb.com,,
1243,02956fd436b413d6bbe562cf91533ada36553e54,afael vila de Espndola <espindola@scylladb.com>, 2020-04-13 15:16:34 -0700, , reactor deprecate cpu_id deprecates cpu_id code outside reactor class use this_shard_id instead signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1244,5ddd25ad6d4bf74d99f7bd273f233a091932c74d,lad Zolotarov <vladz@scylladb.com>, 2020-03-04 19:33:01 -0500, , httpd switch main use seastar async lot readable signed vlad zolotarov vladz scylladb.com message vladz scylladb.com,,
1245,cce2ddac1ef5200425e1b2074ca57e5ef4f80c33,vi Kivity <avi@scylladb.com>, 2020-04-08 12:51:31 +0300, , rpc fix build failure mode due std string_view std string_view doe exist replace compat string_view message avi scylladb.com,,
1246,a9370d5448a720be2c225692857ba55518fb5542,otond Dnes <bdenes@scylladb.com>, 2020-04-08 10:52:22 +0300, , util backtrace introduce similar existing geared towards used return std exception_ptr basically subset doe latter reimplemented term former signed botond bdenes scylladb.com message bdenes scylladb.com,,
1247,49b2e5d97d77dcf57a2e30c3872c2b73718776c9,enny Halevy <bhalevy@scylladb.com>, 2020-02-20 16:49:07 +0200, , test fstream abandon future need run stuff background synchronize using semaphore fix abandoned failed future detected historical note original test committed 10a71dada raphael semaphore latter added 83998a893 shlomi boostify fstream_test use part test rather related test environment signed benny halevy bhalevy scylladb.com,,
1248,5f8f9308349d7d7977388e789cd3d1b2fd5a4f78,enny Halevy <bhalevy@scylladb.com>, 2020-02-12 18:46:43 +0200, , test fstream convert using tmp_dir create temporary file current directory rather temporary directory signed benny halevy bhalevy scylladb.com,,
1249,a317974604d8df23ea43fbcfb9adb7bdc142830a,enny Halevy <bhalevy@scylladb.com>, 2020-02-12 18:46:43 +0200, , test file_io convert using tmp_dir create temporary file dirs current directory rather temporary directory signed benny halevy bhalevy scylladb.com,,
1250,99cb2ec2e78a6a100e46fb4847b92c102bbb232b,enny Halevy <bhalevy@scylladb.com>, 2020-02-12 15:58:29 +0200, , utils tmp_file add tmp_dir user advised use tmp_dir do_with do_with_thread creating eventually automatically removing temporary directory make_tmp_dir may also used yet caller responsible remove case signed benny halevy bhalevy scylladb.com,,
1251,0034b3104fe978be2fe48a15d4c8c560aa57cad8,enny Halevy <bhalevy@scylladb.com>, 2020-02-13 10:27:10 +0200, , utils file add work queue used make implementation explicitly non recursive signed benny halevy bhalevy scylladb.com,,
1252,8a1b6cd0209a14fa185ca3cafed85c6d7f20cb5d,enny Halevy <bhalevy@scylladb.com>, 2020-02-12 13:29:26 +0200, , utils add tmp_file user advised use tmp_file do_with automatically create temporary file eventually close remove make_tmp_file also used create tmp_file yet caller responsible close remove case temporary file created default default_tmpdir directory determined tmpdir environment variable available tmp otherwise signed benny halevy bhalevy scylladb.com,,
1253,7952820a2aa84fe855eacc794f73590508f2cef8,enny Halevy <bhalevy@scylladb.com>, 2020-02-20 16:32:53 +0200, , utils add helper used file utility signed benny halevy bhalevy scylladb.com,,
1254,cf25733a824ff659dc9bd1c8ce1505d3b741cda9,enny Halevy <bhalevy@scylladb.com>, 2020-02-06 11:48:33 +0200, , testing add exception predecates used following patch file utility unit test validate expected exception signed benny halevy bhalevy scylladb.com,,
1255,b8c0eccc8cb969b1c14a6b6e942e2f0607d3a4d7,enny Halevy <bhalevy@scylladb.com>, 2020-04-07 12:26:23 +0300, , future make do_for_each noexcept move body do_for_each internal catch exception caller signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
1256,deff251ed5a41a851802bcade3e5916476cf8c54,lauber Costa <glauber@scylladb.com>, 2020-04-06 12:18:53 -0400, , fair_queue rename change default init represent either request group request name appropriate reason believe better default anything else start zero initializing structure signature changed take object reference allow write std exchange io_queue code lvalue signature keep object around pas test unit dev signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1257,85aa178d9539b2c9301d4fb0815596a741fb82c4,afael vila de Espndola <espindola@scylladb.com>, 2020-03-30 10:57:53 -0700, , future do_with make noexcept make do_with implementation noexcept failure allocate do_with result exception future rather throwing exception signed benny halevy bhalevy scylladb.com signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1258,545df5095482cd97975d41d26abfe6dd0fa5899a,lauber Costa <glauber@scylladb.com>, 2020-04-03 14:21:07 -0400, , io_queue batch communication fair_queue ready request every time request ready right ready tell underlying fair_queue request ready nothing wrong quite cheap operation soon going become expensive move towards supporting shared nested queue preparation moving communication local queue shared queue single point end poller signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1259,fd9af3a2658064c64e9ba1c55aa3f7add9f6e619,afael vila de Espndola <espindola@scylladb.com>, 2020-03-30 10:22:40 -0700, , stall_detector delete unused member variable signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1260,d756ac8f01d588bddb225896b7b485599837aeeb,afael vila de Espndola <espindola@scylladb.com>, 2020-04-02 17:53:23 -0700, , future avoid move finally_body avoids moving future calling lambda 0.16 reduction text size scylla 37859300 37797156 byte signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1261,ff48801574ee4c75b89e81d4b170c81eb50cb66e,omasz Grabiec <tgrabiec@scylladb.com>, 2020-04-03 15:54:05 +0200, , merge followup cleanup apply invoke split rafael series fix various place still using apply instead invoke comment probably better uniform terminology,,
1262,9b69c7989da57e69ed1bfc7aa122876e67c3d1fd,afael vila de Espndola <espindola@scylladb.com>, 2020-03-31 11:29:22 -0700, , future use invoke instead apply predicate name consistent future apply since public left deprecated alias place signed rafael vila esp ndola espindola scylladb.com,,
1263,e2673bca4205db24a96d8cc2e15664fb9b0feab1,afael vila de Espndola <espindola@scylladb.com>, 2020-03-31 11:19:24 -0700, , core update comment say invoke instead apply terminology consistent seastar invoke signed rafael vila esp ndola espindola scylladb.com,,
1264,6b4c12e87e2e9269fe58719f4e4a60a881436538,afael vila de Espndola <espindola@scylladb.com>, 2020-03-31 11:15:56 -0700, , tutorial update seastar addr2line demo added main function demo compiles box updated produced backtrace removed home ... prefix filename signed rafael vila esp ndola espindola scylladb.com,,
1265,5b7799eca225745ee61bb2761bef223a337cf8cd,afael vila de Espndola <espindola@scylladb.com>, 2020-03-31 10:59:40 -0700, , tutorial use futurize_invoke instead futurize_apply change tutorial use futurize_invoke part left seastar addr2line demo updated followup patch signed rafael vila esp ndola espindola scylladb.com,,
1266,65ba830989609dc9e5da7501fa552d59b73a8976,afael vila de Espndola <espindola@scylladb.com>, 2020-03-31 10:51:35 -0700, , future util rename named consistency futurize_invoke signed rafael vila esp ndola espindola scylladb.com,,
1267,74cb33012e6195200e706dea43bc5d26bad1b2b9,afael vila de Espndola <espindola@scylladb.com>, 2020-03-31 10:29:19 -0700, , futures_test use invoke instead apply test name test testing futurize_invoke signed rafael vila esp ndola espindola scylladb.com,,
1268,bad3dc1338914d2f3a363dded9638b6e6c721b1c,vi Kivity <avi@scylladb.com>, 2020-04-02 22:25:33 +0300, , merge make trivial future related function noexcept benny  series make trivial low level future related function noexcept patch series previously sent patch make future related function noexcept another series sent containing substantial patch requires scrutiny rafael vila esp ndola espindola scylladb.com said making low level function noexcept generally nice thing specially clang pretty bad codegen exception related code test unit dev  tag trivial future noexcept github.com bhalevy seastar future specify keep_doing noexcept future make noexcept future take_exception noexcept future noexcept future finally_body specify operator noexcept future make noexcept future specify noexcept future get_exception specify noexcept future future specify noexcept future futurize_ apply invoke specify noexcept,,
1269,b1e297d10cdc38fa07ac4e5394720d69cee52f70,otond Dnes <bdenes@scylladb.com>, 2020-04-02 17:49:58 +0300, , rpc_test silence depreceted lambda logger warning signed botond bdenes scylladb.com message bdenes scylladb.com,,
1270,65c1abcae70e81fa1613bcaa4f06dd01a0a5d8ac,otond Dnes <bdenes@scylladb.com>, 2020-04-02 17:49:57 +0300, , rpc_demo stop using variadic future signed botond bdenes scylladb.com message bdenes scylladb.com,,
1271,0031271535a064d4690c9884ac3c21f0a1a2e4e8,afael vila de Espndola <espindola@scylladb.com>, 2020-03-31 15:49:34 -0700, , future move two static_asserts top depend std exception_ptr nothrow move copy constructible place move static_asserts top try avoid duplication signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1272,41c83ec553e309a448621a5a3c549e235f65df1e,vi Kivity <avi@scylladb.com>, 2020-03-29 21:05:43 +0300, , api add file_type global function engine entry point reactor file_type easier find doe require including reactor.hh reviewed rafael vila esp ndola espindola scylladb.com message avi scylladb.com,,
1273,1ab0e12e61443c152882baf5eff081fea87aaac2,liran Sinvani <eliransin@scylladb.com>, 2020-03-29 19:10:21 +0300, , json add backtrace information json generation exception json generation infrasructure seastar to_json overloaded method part generation magic function prototyped noexcept possible indeed happens generating json object one overload throw concrete example to_json overloaded function double type handle infinite value exception happen would like lead field caused error take measure fix value rethink specific generation commit add information nesting exception field name caused to_json function throw signed eliran sinvani eliransin scylladb.com message eliransin scylladb.com,,
1274,29d501b15f07ff072dbde7fcd4b9c64e021ee941,vi Kivity <avi@scylladb.com>, 2020-03-30 17:04:17 +0300, , scheduling avoid defining friend namespace qualified function gcc complains illegal define opposed declare friend function namespace qualified error friend function definition name qualified seastar internal 159 friend unsigned long internal key  sure correct move definition namespace scope reviewed rafael vila esp ndola espindola scylladb.com message avi scylladb.com,,
1275,e741e6c66570d952faeee5b7fc9774c52cb4a943,enny Halevy <bhalevy@scylladb.com>, 2020-03-19 22:16:15 +0200, , future specify keep_doing noexcept inherited repeat signed benny halevy bhalevy scylladb.com,,
1276,c5e158e5f173e25a62308997a3da4348053b2a0f,enny Halevy <bhalevy@scylladb.com>, 2020-03-19 22:15:36 +0200, , future make noexcept futurize_invoke intercept exception signed benny halevy bhalevy scylladb.com,,
1277,c6308b7782d8a931a25147a9dff8324f43e195a5,enny Halevy <bhalevy@scylladb.com>, 2020-03-17 12:04:57 +0200, , future take_exception noexcept std exception_ptr staticly assert  signed benny halevy bhalevy scylladb.com,,
1278,6328bfc4869ac131e7a546b5df2933ef093d3556,enny Halevy <bhalevy@scylladb.com>, 2020-03-17 12:04:57 +0200, , future noexcept specify constructor destructors noexcept particularly difficult handle nested exception path using set_exception struct already static assert std std exception_ptr std move std exception_ptr exception safe context signed benny halevy bhalevy scylladb.com,,
1279,365405bbfa6200c42ee2a9842ed04c4d4471cfbf,enny Halevy <bhalevy@scylladb.com>, 2020-03-17 11:36:26 +0200, , future finally_body specify operator noexcept finally_body func true operator inherits noexcept futurize_invoke then_wrapped finally_body func false operator handle exception rethrows using exception safe signed benny halevy bhalevy scylladb.com,,
1280,1ca9225ad3fd0728e7a5f12fbf48628861f1bb18,enny Halevy <bhalevy@scylladb.com>, 2020-03-17 11:29:47 +0200, , future make noexcept signed benny halevy bhalevy scylladb.com,,
1281,585af82039fb048d1c2bfffaeb8efd04357c3510,enny Halevy <bhalevy@scylladb.com>, 2020-03-17 13:57:47 +0200, , future specify noexcept inherited std exception_ptr signed benny halevy bhalevy scylladb.com,,
1282,40370249800e7a3500b7f11c4cd2741edbc4abc9,enny Halevy <bhalevy@scylladb.com>, 2020-03-17 11:33:22 +0200, , future get_exception specify noexcept inherited future_state get_exception signed benny halevy bhalevy scylladb.com,,
1283,4af866fced6892935979fe05ee22bbf863386406,enny Halevy <bhalevy@scylladb.com>, 2020-03-17 11:24:40 +0200, , future future specify noexcept trivially noexcept signed benny halevy bhalevy scylladb.com,,
1284,b6d8adddb2a4103b8bcd83649b92c94f81e3dc00,enny Halevy <bhalevy@scylladb.com>, 2020-03-17 11:08:31 +0200, , future futurize_ apply invoke specify noexcept inherited futurator apply invoke signed benny halevy bhalevy scylladb.com,,
1285,36e8dfc89a6ae9c2a6b52b7d244dab9598708f61,vi Kivity <avi@scylladb.com>, 2020-03-29 20:29:49 +0300, , reactor decouple idle cpu handler reactor provide reactor free entry point supporting type idle cpu handler allows user invoke without including reactor.hh quite heavy supporting type important part path often mentioned header api entry point usually needed one translation unit bonus document supporting type message avi scylladb.com,,
1286,06a8c8f6eff0c7e1db82d9f117cd58e4416e079a,vi Kivity <avi@scylladb.com>, 2020-03-22 19:34:08 +0200, , remove inclusion reactor.hh since reactor.hh heavyweight full implementation detail including detrimental patch remove include complex since mirror per task queue structure without resorting referencing task_queues part reactor.hh avoid initialization order time problem data still hosted class reactor expose pointer thread_local variable test unit dev debug message avi scylladb.com,,
1287,b3080a87d6d7e75f026c411404c7b54e1bef25ac,afael vila de Espndola <espindola@scylladb.com>, 2020-03-24 15:03:26 -0700, , future delete inline two helper method signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1288,d0222a46c94cf8db6474d16fe68f57109ff6aaa0,afael vila de Espndola <espindola@scylladb.com>, 2020-03-24 15:03:25 -0700, , future delete unused instantiation recent patch already master instantiated void deletes future instantiation turn class template plain class signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1289,aeb080fb7ce5d12b06506ddef3553ca924366adb,lauber Costa <glauber@scylladb.com>, 2020-03-02 17:52:19 -0500, , core remove io_queue queued request metric metric quite old currently useful value obtained aggregating class favoring user side aggregation whenever possible therefore remove signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1290,a92d4d2c57d4f72eb790d06b9ad504bb7fd06e56,afael vila de Espndola <espindola@scylladb.com>, 2020-03-26 09:28:46 -0700, , future add assert increase text size scylla 0.66 37550772 37801108 byte signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1291,999f7dd6a8379b1245a7725300086a5fae33d176,afael vila de Espndola <espindola@scylladb.com>, 2020-03-26 09:28:45 -0700, , future add comment signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1292,42dae036099c75df4bfe66f6c71ac6ead6d9513f,afael vila de Espndola <espindola@scylladb.com>, 2020-03-26 09:28:44 -0700, , future use placement new instead operator know state set point destroying state future state overwriting reduces text size scylla 1.2 38008468 37550772 byte signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1293,559504615b2f4aabd3ebd57f19826949f733d7eb,lauber Costa <glauber@scylladb.com>, 2020-03-27 13:12:36 -0400,730, file use correct io_queue dup file dispatching request wrong queue file created file_handle dup called used new shard preserve queue information file_handle different shard different queue patch remove io_queue pointer file_handle altogether replacing information device io_queue always created device posix_file_impl fix 730 signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1294,7afc518d0a9e18fedc9094fe08a6c934d9e62b6b,lauber Costa <glauber@scylladb.com>, 2020-03-26 16:10:12 -0400, , io_queue fix miscalculation size queue configured although technically unsupported scenario queue must configured either restrict capacity iop bandwidth current code make unconfigured queue always set write request size weight absence configured capacity take first branch multiply write bandwidth iop constant factor divide read bandwidth iop misconfigured io_queue measured quantity uint64_t max first multiplication overflow yielding zero result signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1295,27ee74cecc04598eaa7d260c827c3de6811ccba4,adav Har'El <nyh@scylladb.com>, 2020-03-26 14:26:40 +0200, , merge add log level rpc logger merged patch series piotr sarna miniseries part weekly fixme challenge allows specifying logging level rpc connection logger possible internally log situation reply longer existing message arrives original fixme use rpc logging flexibly application e.g scylla message downgraded debug others may promoted warn err new api also based std string_view instead sstring order make future possible transition easier test unit dev piotr sarna rpc add log level rpc adjust log level exception test add rpc logger test rpc_demo use new logger rpc deprecate setting legacy lambda logger demo rpc_demo.cc include seastar rpc rpc.hh src rpc rpc.cc test unit rpc_test.cc file changed insertion deletion,,
1296,5573115494b40f5046971969cfe475f067bac865,iotr Sarna <sarna@scylladb.com>, 2020-03-26 10:55:29 +0100, , rpc deprecate setting legacy lambda logger old lambda style logging deprecated favor using seastar logger,,
1297,c648e2f003d2559f19412c923f1e4810ef0fe892,iotr Sarna <sarna@scylladb.com>, 2020-03-26 11:39:35 +0100, , rpc_demo use new logger ... order stop using deprecated lambda based set_logger function,,
1298,7d8b10520bac3d472109f6c84a20f33d63bc3552,iotr Sarna <sarna@scylladb.com>, 2020-03-25 11:40:12 +0100, , test add rpc logger test test doe assert much check combination legacy new logger work fine i.e cause crash,,
1299,49cc5f5aa6658feb6319884c937bbcaf401285f8,iotr Sarna <sarna@scylladb.com>, 2020-03-23 14:15:46 +0100, , rpc adjust log level exception log level differentiated exception message explicitly paired appropriate log level,,
1300,35591a3f1580cd4bcad55082b37eeda6d31f255c,iotr Sarna <sarna@scylladb.com>, 2020-03-23 14:05:25 +0100, , rpc add log level order able log different log level another flavor set_logger function added based seastar logger order preserve backward compatibility legacy level logger still usable order use new logger simply use new overload set_logger function static seastar logger logger example _rpc set_logger logger compatibility rule follows user still defines legacy level logger seastar internally assume print message severity greater equal info internal usage checked assure behavior would change user defines new logger still logging without explicit level info assumed,,
1301,7144a43efe05baccf203c24815ca8b1e821abe38,afael vila de Espndola <espindola@scylladb.com>, 2020-03-23 09:05:32 -0700, , reactor replace call cpu_id this_shard_id cpu_id accessing specific reactor variable engine local_engine signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1302,0080e6738f536b4b0a03d0395bfb1c343adddc3d,afael vila de Espndola <espindola@scylladb.com>, 2020-03-23 09:05:31 -0700, , reactor drop redundant call engine one case engine others use this_shard_id signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1303,c7b6b84e5a44e2d02436fd43f1aeedd627cbb955,afael vila de Espndola <espindola@scylladb.com>, 2020-03-24 09:30:52 -0700, , semaphore use futurize_invoke instead futurize_apply missing previous patch template never instantiated seastar build signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1304,82ed590c9529bf6e35da6db71085b5e76c20d38d,enny Halevy <bhalevy@scylladb.com>, 2020-03-20 17:46:48 +0200, , future specify futurize noexcept inherited seastar signed benny halevy bhalevy scylladb.com reviewed rafael vila esp ndola espindola scylladb.com message bhalevy scylladb.com,,
1305,b7f2d8453721d61ac300f30cc92b9fc7753cb17e,afael vila de Espndola <espindola@scylladb.com>, 2020-03-19 14:45:32 -0700, , future move ignore line cold code need inline signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1306,c014f238f2ab842081423db6b4a1c5a9ea7baffe,afael vila de Espndola <espindola@scylladb.com>, 2020-03-19 11:43:45 -0700, , future split then_impl enable nrvo gcc currently applying nrvo then_impl last return return fut calling move constructor change split slow path then_impl simpler function nrvo used result future foo bar future noexcept return return foo   call foo move constructor scylla text section reduced 1.3 38714772 38206820 byte signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1307,1b31adcaefe4c8fe2fbce617eb4e593eca3dca47,iotr Sarna <sarna@scylladb.com>, 2020-03-24 08:41:53 +0100, , semaphore_units allow getting number unit held wrapper held semaphore unit semaphore_units class queried number unit hold useful e.g order transfer unit another semaphore possibly another shard commit come simple test case test unit dev message scylladb.com,,
1308,2f12285aa6c9666dc028c4bda188f62ef3d4d864,vi Kivity <avi@scylladb.com>, 2020-03-24 09:51:26 +0200, , merge split futurize apply invoke ... apply tuple rafael  standard library std invoke variadic std apply tuple argument patch series variadic futurize apply futurize_apply variant deprecated seastar codebase replaced futurize invoke futurize_invoke  espindola invoke apply http github.com espindola seastar everywhere use futurize_apply instead futurize apply future add futurize_apply overload take std tuple everywhere use futurize_invoke instead futurator invoke future deprecate futurize_apply future use futurize_invoke instead futurize_apply future add futurize_invoke future deprecate variadic futurize apply everywhere use futurize invoke instead apply appropriate future add futurize invoke,,
1309,e29723201024d6fae424d48fbe042fdf71e92a87,afael vila de Espndola <espindola@scylladb.com>, 2020-03-23 19:24:04 -0700, , everywhere use futurize_apply instead futurize apply functionality change simpler signed rafael vila esp ndola espindola scylladb.com,,
1310,2cd3b4867f60b1883a17173b01ab38a0603f3d71,afael vila de Espndola <espindola@scylladb.com>, 2020-03-18 15:26:19 -0700, , future add futurize_apply overload take std tuple line std apply non deprecated overload futurize apply signed rafael vila esp ndola espindola scylladb.com,,
1311,a9f72321a6724c53ea7555e64e0b58362774b033,afael vila de Espndola <espindola@scylladb.com>, 2020-03-18 16:05:44 -0700, , everywhere use futurize_invoke instead futurator invoke functionality change simpler signed rafael vila esp ndola espindola scylladb.com,,
1312,98727603a7d25341bb8dd77749400589a7fa7606,afael vila de Espndola <espindola@scylladb.com>, 2020-03-23 19:16:50 -0700, , future deprecate futurize_apply signed rafael vila esp ndola espindola scylladb.com,,
1313,461ad79c7e8b732cab20f70f5e85ce4ccd8b2fcb,afael vila de Espndola <espindola@scylladb.com>, 2020-03-23 18:44:15 -0700, , future use futurize_invoke instead futurize_apply existing futurize_apply unused signed rafael vila esp ndola espindola scylladb.com,,
1314,223e782fb9aafc913f56ef0483946e571a099425,afael vila de Espndola <espindola@scylladb.com>, 2020-03-23 18:30:02 -0700, , future add futurize_invoke alias futurize_apply futurize_apply eventually tuples signed rafael vila esp ndola espindola scylladb.com,,
1315,541f7563184565f17d18439228d054652ca3ca84,afael vila de Espndola <espindola@scylladb.com>, 2020-03-23 17:19:03 -0700, , future deprecate variadic futurize apply deleted seastar bit like standard library apply take tuple invoke variadic signed rafael vila esp ndola espindola scylladb.com,,
1316,828d23df19b71ce5a9eacf10be5bbd66ff1f40bc,afael vila de Espndola <espindola@scylladb.com>, 2020-03-23 17:56:29 -0700, , everywhere use futurize invoke instead apply appropriate futurize apply used tuples varargs signed rafael vila esp ndola espindola scylladb.com,,
1317,62cd851903bda44bb21a6dc46457b6d310af5ad9,afael vila de Espndola <espindola@scylladb.com>, 2020-03-23 17:05:05 -0700, , future add futurize invoke exactly futurize apply defined varargs tuple signed rafael vila esp ndola espindola scylladb.com,,
1318,92c488706c93e4e6a9d3fed958f098582740f2d9,iotr Sarna <sarna@scylladb.com>, 2020-03-23 09:13:05 +0100, , dpdk restore including reactor.hh dpdk forward declaration reactor class enough since subsystem need instantiate reactor poller thus including full reactor.hh restored cause header bloat since dpdk.cc source file header test unit dev compiled enable dpdk message scylladb.com,,
1319,ea7e6e98dd3a5e72470f4f6679f989dd7c4911b9,vi Kivity <avi@scylladb.com>, 2020-03-22 19:46:34 +0200, , test add missing include mutex fallout reactor.hh include reduction missing gcc libstdc gcc reviewed rafael vila esp ndola espindola scylladb.com message avi scylladb.com,,
1320,bd0039c0e039192f060fa547f2dd01e1a2cd0b95,vi Kivity <avi@scylladb.com>, 2020-03-22 15:53:39 +0200, , reactor static ify make_pollfn make_pollfn namespace scope function static compiler duplicate every translation unit used reviewed rafael vila esp ndola espindola scylladb.com message avi scylladb.com,,
1321,f87788df9c6770005add8326a463b273073f840e,adav Har'El <nyh@scylladb.com>, 2020-03-22 15:37:26 +0200, , merge reduce inclusion reactor.hh merge patch set avi kivity reactor.hh heavyweight header includes many header full implementation detail cause many rebuilds developing seastar slows complication using seastar application patchset remove many inclusion reactor.hh number object file depending reactor.hh reduced 103 one header including reactor.hh addressed later patchset test unit dev avi kivity smp optimize this_shard_id treewide replace engine .cpu_id this_shard_id api add treewide replace call engine .connect listen api equivalent reactor unnest reactor poller reactor make_pollfn net use unique_ptr internal poller instead reactor poller net.hh api add make_socket api treewide replace engine .net .socket make_socket posix stack.hh deinline contructors treewide remove inclusion reactor.hh demo include seastar core alien.hh include seastar core io_queue.hh include seastar core reactor.hh include seastar core seastar.hh include seastar core sharded.hh include seastar core smp.hh include seastar core thread.hh include seastar core include seastar core vector data sink.hh include seastar http httpd.hh include seastar net arp.hh include seastar net dhcp.hh include seastar net net.hh include seastar net packet data source.hh include seastar net posix stack.hh include seastar net tcp.hh include seastar net udp.hh include seastar rpc rpc.hh include seastar rpc rpc_types.hh src core scollectd impl.hh src core vla.hh src net native stack impl.hh test unit apps httpd main.cc apps io_tester io_tester.cc apps iotune iotune.cc apps memcached memcache.cc apps seawreck seawreck.cc demo demo demo ip_demo.cc demo demo rpc_demo.cc demo demo tcp_demo.cc demo demo demo demo demo src core alien.cc src core io_queue.cc src core memory.cc src core metrics.cc src core prometheus.cc src core reactor.cc src core scollectd.cc src core smp.cc src http api_docs.cc src http file_handler.cc src http httpd.cc src net dhcp.cc src net dpdk.cc src net inet_address.cc src net ip.cc src net native stack.cc src net net.cc src net packet.cc src net posix stack.cc src net proxy.cc src net stack.cc src net tls.cc src net virtio.cc src rpc rpc.cc src testing test_runner.cc src util file.cc src util log.cc test perf fstream_perf.cc test perf perf_tests.cc test unit alien_test.cc test unit alloc_test.cc test unit connect_test.cc test unit test unit test unit test unit file_io_test.cc test unit test unit fstream_test.cc test unit futures_test.cc test unit ipv6_test.cc test unit test unit test unit metrics_test.cc test unit test unit rpc_test.cc test unit test unit test unit sharded_test.cc test unit smp_test.cc test unit socket_test.cc test unit thread_test.cc test unit timer_test.cc test unit tls_test.cc test unit file changed 333 insertion 214 deletion,,
1322,b40177b21e1fdae748675a390753c74675ca4086,leb Natapov <gleb@scylladb.com>, 2020-03-17 14:24:57 +0200, , sharded delete move constructor moving sharded safe since update pointer move constructor thread safe move constructor run one cpu another cpu may access still updated pointer patch deletes move constructor sharded instance prevent misuse deleting move constructor sharded inherits enough require defined sharded declared burden would like avoid message scylladb.com,,
1323,12e8bdee171ca6c894bd20f24d01576934f8ea22,afael vila de Espndola <espindola@scylladb.com>, 2020-03-17 19:03:54 -0700, , future avoid move constructor call call like foo foo would move foo twice tuple move tuple future_state patch construct tuple place move foo signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1324,64666ba87059acc03cbcdf5a6b0dd85de0d7b168,afael vila de Espndola <espindola@scylladb.com>, 2020-03-17 19:03:53 -0700, , future erase type bit then_wrapped instantiating return type original function avoids instantiating int future int instance signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1325,09e64407800b3b3db245ded0dcb5122d48c7b976,afael vila de Espndola <espindola@scylladb.com>, 2020-03-19 15:47:22 -0700, , memory drop never nullopt optional never passing std nullopt argument signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1326,65a8bedb02eaa0c82ae2ee3e47085bc73fb05382,vi Kivity <avi@scylladb.com>, 2020-03-21 19:02:03 +0200, , treewide remove inclusion reactor.hh possible reactor.hh includes removed reduce rebuilds build time forward declaration inclusion missing header added needed case missing header added even though reactor.hh remains added case attempt remove reactor.hh failed new header still correct since usually depend indirect dependency,,
1327,2fc4378afa22140e798c6aae35eabf31fbdbbb97,vi Kivity <avi@scylladb.com>, 2020-03-21 18:24:55 +0200, , posix stack.hh deinline contructors get rid engine call header file,,
1328,a067aec083ecd40d7a6f4d286764b537f827f7c0,vi Kivity <avi@scylladb.com>, 2020-03-21 18:13:12 +0200, , treewide replace engine .net .socket make_socket reduces reliance engine call requires reactor.hh,,
1329,4c1ef6a2ee1f4b22decea83902964bf0582a598b,vi Kivity <avi@scylladb.com>, 2020-03-21 18:09:58 +0200, , api add make_socket api shorthand engine .net .socket used avoid requiring inclusion reactor.hh,,
1330,e814b231be4617c810d9d906caef4b163b7a0e15,vi Kivity <avi@scylladb.com>, 2020-03-21 17:11:39 +0200, , net use unique_ptr internal poller instead reactor poller net.hh since forward declared survive removal reactor.hh note unique_ptr internal poller needed avoid incomplete nested class problem,,
1331,0a34acca283eccfbee4d43fd986f1d88e896b78f,vi Kivity <avi@scylladb.com>, 2020-03-21 17:02:34 +0200, , reactor unnest reactor poller reactor make_pollfn impossible forward declare reactor poller unnest header need include reactor.hh reactor poller since make_pollfn unnest placed namespace internal avoid misuse application,,
1332,f0a50b95fbe8e4b599ff278387c114ff464a7e82,vi Kivity <avi@scylladb.com>, 2020-03-21 15:54:34 +0200, , treewide replace call engine .connect listen api equivalent reduces need include reactor.hh call qualified seastar order avoid clash similarly named member function,,
1333,1c6048c8c2ddfc4e12ec02d6f46dc207fe8f52e2,vi Kivity <avi@scylladb.com>, 2020-03-21 15:33:42 +0200, , api add add api entry point people required call engine .net necessiating inclusion reactor.hh socket_address constructor available seastar.hh use two overload instead default parameter,,
1334,824f46d424761f9328f3eab3db6856424d49dbfc,vi Kivity <avi@scylladb.com>, 2020-03-21 15:18:51 +0200, , treewide replace engine .cpu_id this_shard_id place search replace afterwards remove inclusion reactor.hh made redundant change reactor cpu_id remains first compatibility consideration second since legitimate use already access reactor instance usually within reactor code,,
1335,fc45b6d21df52c09aa57f33f268725388b3365fd,vi Kivity <avi@scylladb.com>, 2020-03-21 14:45:24 +0200, , smp optimize this_shard_id this_shard_id simple enough compiled single instruction optimize avoid problem compiler generating initialization guard place thread_local variable header compiler see doe require dynamic initialization motivation optimizing this_shard_id use replace engine .cpu_id call inclusion reactor.hh disappear,,
1336,3dfa596402099a24ddbd1d7ba11c6b2abd66f9de,enny Halevy <bhalevy@scylladb.com>, 2020-03-19 22:46:13 +0200, , semaphore specify get_units with_semaphore noexcept semaphore wait noexcept function inherit signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
1337,f5903b0ab86355c21083af068433ba9986f8ecf1,lauber Costa <glauber@scylladb.com>, 2020-03-18 17:26:57 -0400, , spinlock.hh add include cassert header spinlock.hh assert call without including header making depend header included already signed glauber costa glauber scylladb.com reviewed rafael vila esp ndola espindola scylladb.com message glauber scylladb.com,,
1338,5a4e2a1738cf3f1488b3413cd9d78d210562b4b1,afael vila de Espndola <espindola@scylladb.com>, 2020-03-17 11:47:19 -0700, , dpdk avoid variable sized array fix warning src net dpdk.cc 2216 warning stack usage might unbounded wstack usage signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1339,2710d9bfd8325c4cbf3fa1171cd15e36448d7477,afael vila de Espndola <espindola@scylladb.com>, 2020-03-17 15:00:54 -0700, , future add explicit promise member continuation storing promise inside lambda storing outside cost nothing might even small reduced code duplication promise base class advantage making promise explicit accessed easily useful traversing continuation promise continuation make available executed signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1340,2c4a646f18499b7ad2be6308cac5ab5a7101fd67,vi Kivity <avi@scylladb.com>, 2020-03-17 13:32:15 +0200, , net remove smart pointer wrapper around pollable_fd pollable_fd equivalent shared_ptr need wrap std unique_ptr lw_shared_ptr couple missing method added default constructor bool conversion operator since expected user reduces allocation indirection none critical since happens per socket still nice message avi scylladb.com,,
1341,8be1289dbaf09474b8487b297721be1280b9961d,vi Kivity <avi@scylladb.com>, 2020-03-16 17:27:38 +0200, , merge cleanup reactor file function benny  handle exception function returning future make noexcept move file related function src core reactor.cc src core file.cc src util file.cc new source file  tag reactor file noexcept cleanup github.com bhalevy seastar commits reactor specify file dir open function noexcept reactor move file open function src core file file specify constructor noexcept file make_file_impl fixup indentation file futurize make_file_impl reactor use do_with hold reference params reactor add private fstatfs method posix_file_impl add private fstat method reactor specify file system function noexcept reactor move file system function src util file file make file_impl method noexcept file return future enqueue reactor fdatasync specify noexcept reactor thread_pool submit specify noexcept reactor submit make noexcept reactor submit_item handle discarded future semaphore wait fixup indentation semaphore wait make noexcept reactor later make noexcept reactor submit_io_ read write make noexcept ...,,
1342,56a4e80237276342644d0ed97cad9b9731803103,enny Halevy <bhalevy@scylladb.com>, 2020-03-10 09:30:52 +0200, , reactor specify file dir open function noexcept make_file_impl file constructor noexcept open_file_dma open_directory specified noexcept signed benny halevy bhalevy scylladb.com,,
1343,f234fb60e58d575cdb2d989e92a4bf11367e549d,enny Halevy <bhalevy@scylladb.com>, 2020-03-12 09:33:35 +0200, , reactor move file open function src core file move generic function reactor.cc signed benny halevy bhalevy scylladb.com,,
1344,af26e12ed8e433bbf23c302ca5a45ff5200bce07,enny Halevy <bhalevy@scylladb.com>, 2020-03-12 13:12:15 +0200, , file specify constructor noexcept exception safe signed benny halevy bhalevy scylladb.com,,
1345,db42f19f2cb919a915c919433342f270edd8f6da,enny Halevy <bhalevy@scylladb.com>, 2020-03-12 13:05:05 +0200, , file make_file_impl fixup indentation signed benny halevy bhalevy scylladb.com,,
1346,629ab8a3488a6367198e8066365fe2a4a3d870ba,enny Halevy <bhalevy@scylladb.com>, 2020-03-12 13:00:09 +0200, , file futurize make_file_impl specified noexcept fstat fstatfs noexcept failure make_shared file_impl caught continuation functor returned exception future use make_file_impl open_file_dma open_directory following constructor away explicit file int option next step make open_file_dma open_directory noexcept specify class file constructor noexcept signed benny halevy bhalevy scylladb.com,,
1347,feb48910d28a3b3976c2a3883001a3fe0512a753,enny Halevy <bhalevy@scylladb.com>, 2020-03-12 13:28:23 +0200, , reactor use do_with hold reference params prepare next patch convert make_file_impl return future signed benny halevy bhalevy scylladb.com,,
1348,e5b1b9371c607c2bd0bb2121fe8d8446b75dbb39,enny Halevy <bhalevy@scylladb.com>, 2020-03-12 10:26:56 +0200, , reactor add private fstatfs method used future returning make_file_impl marked noexcept _thread_pool submit noexcept signed benny halevy bhalevy scylladb.com,,
1349,aa65a795229fa43723f12da05fa6118fb0678a51,enny Halevy <bhalevy@scylladb.com>, 2020-03-12 10:26:56 +0200, , posix_file_impl add private fstat method used future returning make_file_impl makred noexcept _thread_pool submit noexcept add unit test signed benny halevy bhalevy scylladb.com,,
1350,768904fa6f0763fd82c89384d6122e5c564acad0,enny Halevy <bhalevy@scylladb.com>, 2020-03-10 09:30:52 +0200, , reactor specify file system function noexcept dependency noexcept signed benny halevy bhalevy scylladb.com,,
1351,d630aca5eac4cc939c7a05dfd2e39d5b4407531a,enny Halevy <bhalevy@scylladb.com>, 2020-03-12 09:33:35 +0200, , reactor move file system function src util file move generic function reactor.cc signed benny halevy bhalevy scylladb.com,,
1352,f6f9938244db49aa6f39a000abc695f9d8ee6b1f,enny Halevy <bhalevy@scylladb.com>, 2020-03-10 11:07:14 +0200, , file make file_impl method noexcept handle exception class derived file impl method returning future mark noexcept signed benny halevy bhalevy scylladb.com,,
1353,839e1203b4a1ee656e7c5ec9825b4b6cdcd8f612,enny Halevy <bhalevy@scylladb.com>, 2020-03-10 11:07:14 +0200, , file return future enqueue prepare making file impl method noexcept note avi kivity avi scylladb.com proposed follow patch could write futurize_apply func .forward_to std move eliminating continuation also drop lw_shared_ptr wrapper promise signed benny halevy bhalevy scylladb.com,,
1354,21bd9153b916cf9d8fa609189ce6702ed3347d86,enny Halevy <bhalevy@scylladb.com>, 2020-03-12 16:56:42 +0200, , reactor fdatasync specify noexcept already handle exception call noexcept future returning function otherwise signed benny halevy bhalevy scylladb.com,,
1355,e21d29e1ff0bc3724ca1894fc1eb964468c3d2c8,enny Halevy <bhalevy@scylladb.com>, 2020-03-12 22:24:05 +0200, , reactor thread_pool submit specify noexcept submit noexcept thread_pool submit specified noexcept signed benny halevy bhalevy scylladb.com,,
1356,c97c44885120949288883960309ba8544fe48e74,enny Halevy <bhalevy@scylladb.com>, 2020-03-12 16:36:57 +0200, , reactor submit make noexcept submit_item noexcept mark submit noexcept signed benny halevy bhalevy scylladb.com,,
1357,cc04ce7d67041d5c03eacce7ebae86dfab2027be,enny Halevy <bhalevy@scylladb.com>, 2020-03-12 16:21:41 +0200, , reactor submit_item handle discarded future without patch work_item leaked wait throw return exceptional future discarded throw rather return error exceptional future discard future rather propagate error via work_item signed benny halevy bhalevy scylladb.com,,
1358,e7bc1d4b8189ad0a194382c2a287b01bfa28f403,enny Halevy <bhalevy@scylladb.com>, 2020-03-12 16:20:05 +0200, , semaphore wait fixup indentation signed benny halevy bhalevy scylladb.com,,
1359,952e108f7ae11cfb2960be0bebea92770748c527,enny Halevy <bhalevy@scylladb.com>, 2020-03-12 16:19:13 +0200, , semaphore wait make noexcept signed benny halevy bhalevy scylladb.com,,
1360,0b1e319224d9a22f969744a240b05f59b292085b,enny Halevy <bhalevy@scylladb.com>, 2020-03-12 15:48:22 +0200, , reactor later make noexcept failure allocate infrastructure level function like one crash system handle e.g dipping reserved memory reflect added allocation error injection testing disabled signed benny halevy bhalevy scylladb.com,,
1361,30236a94f7b2f98fcbe4fc15a8972e382d90fb42,enny Halevy <bhalevy@scylladb.com>, 2020-03-12 14:22:17 +0200, , reactor submit_io_ read write make noexcept io_queue queue_request noexcept make submit_io_ read write noexcept signed benny halevy bhalevy scylladb.com,,
1362,a7dea2cb4bfa25689806f27bef9db3e094437091,enny Halevy <bhalevy@scylladb.com>, 2020-03-12 14:22:17 +0200, , ioqueue queue_request make noexcept submit noexcept make queue_request noexcept signed benny halevy bhalevy scylladb.com,,
1363,90158c1b6b3d11b45e423c6094aa5e783e08a54e,enny Halevy <bhalevy@scylladb.com>, 2020-03-12 14:19:05 +0200, , submit make noexcept make future returning function depending noexcept failure allocate infrastructure level function like one crash system handle e.g dipping reserved memory reflect added allocation error injection testing disabled signed benny halevy bhalevy scylladb.com,,
1364,3c498abcab42406ccf68ed83d9a5d54bf03c7dfa,afael vila de Espndola <espindola@scylladb.com>, 2020-03-11 15:07:41 -0700, , reactor use do_with save stack space retries variable static_vector large type wastefull since copying stack produce two copy one lambda far tell valid use buffer lambda patch do_with produce one copy heap allocated vector lambda reference signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1365,5ba1852e10bcd5a438c29b98e783251f93d9a695,afael vila de Espndola <espindola@scylladb.com>, 2020-03-11 15:07:40 -0700, , reactor extract code schedule_retry helper functionality change refactoring indentation intentionally next patch would indent code signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1366,9e51dacb063caaa74bbd45fdc594bdb9b105d971,afael vila de Espndola <espindola@scylladb.com>, 2020-03-11 15:07:39 -0700, , reactor move io_event buffer stack buffer cause largest stack frame dev build far tell buffer simply made member variable signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1367,575f42deb7d149f7f82420275aa4c0ea37dcae09,icha Niciejewski <quport@gmail.com>, 2020-03-15 15:10:38 +0100, , fix typo argument type comparison operator signed micha niciejewski quport gmail.com message quport gmail.com,,
1368,663f9bb6cb2b20feb8448674eaa6a743cd513e5a,vi Kivity <avi@scylladb.com>, 2020-03-12 19:33:54 +0200, , test tls_test add missing include iostream exposed recent change gcc libstdc message avi scylladb.com,,
1369,47d929dd1b72fe5ecbdd68e77e6a09581709a8e0,afael vila de Espndola <espindola@scylladb.com>, 2020-03-12 10:04:05 -0700, , sstring simplify operator avoids using reset instead pattern used future destroy move constructor signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1370,f22df48daea1bf858f0caccc0db1e070c9beada1,afael vila de Espndola <espindola@scylladb.com>, 2020-03-12 09:14:44 -0700, , sstring deprecate reset equivalent method std string use simply replaced signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1371,b890957081934d6a91aeede539dd8aa86249e213,afael vila de Espndola <espindola@scylladb.com>, 2020-03-10 17:40:21 -0700, , sstring pas string_view compare real api std string substantially complicated bolt support string_view top pre api sstring implementation seastar overload compare probably patch replaces const sstring reference compat signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1372,a5f76f7e3ce82d31e021eae4decd53840333511b,afael vila de Espndola <espindola@scylladb.com>, 2020-03-10 17:40:20 -0700, , sstring move exception code line really api change noticed string implementation library use line function throwing exception make sense since cold path throwing exception involves non trivial amount code signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1373,66389f25cf1e75541fe1b1392e4a5533fe774def,efu Chai <tchaikov@gmail.com>, 2020-03-10 23:56:42 -0400, , reactor remove unused variable follow cleanup signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
1374,07879a8f75815d8a76db36ea590e783fed41cec8,efu Chai <tchaikov@gmail.com>, 2020-03-10 23:56:41 -0400, , reactor always initialize smp_poller alien polling function called within smp poller see reactor smp_pollfn single core designated reactor fine long use alien submit_to cross core communication needed alien submit_to used need smp poller even smp count hav check task submitted alien thread reactor available change smp_poller always created registered reactor even smp count signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
1375,664c911b4c7fce8264628429a287d8e5bd8942be,afael vila de Espndola <espindola@scylladb.com>, 2020-03-11 09:17:03 -0700, , tls_test use instead fix build signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1376,20b06b1075c6f664ff256a6aadae93ac0feae01a,alle Wilund <calle@scylladb.com>, 2020-03-11 12:04:36 +0000, , fix race stale memory use delayed shutdown possible could complete do_shutdown actual shutdown call get pre empted close finish backing shared pointer get freed call wait_for_eof stale pointer move second backing shared pointer shutdown two potential parallel path backed duration add test try provoke issue delaying shutdown handshake writes timeout hit esp debug eventually sometimes hit problem cause sigsegv fix 727 message calle scylladb.com,,
1377,d8974c52b407cc3dcfab712e345a3e57702386fa,alle Wilund <calle@scylladb.com>, 2020-03-11 12:04:35 +0000, , enable test fix build run test disabled even built since moving cmake great test thing tested managed experience bitrot testing done enables tls_test build fix test problem caused code change seastar message calle scylladb.com,,
1378,80268cf3d8d5ab148a71dea098b4306c5a5b2123,alle Wilund <calle@scylladb.com>, 2020-03-11 12:04:34 +0000, , set server name client connection available allows using extension named connection work transparently multi hosted server determine certificate share based request host hello http connection message calle scylladb.com,,
1379,95f4277c16f78653efcdbea6a02b1c51c6dab1cc,vi Kivity <avi@scylladb.com>, 2020-03-10 11:05:40 +0200, , merge add option making sstring alias std string rafael  mostly adjusting small api difference feature missing std string uninitialized string taking ownership string buffer smaller size std string byte instead currently proposal add first feature std string possible libc right really want  seastar sstring introduced day std string implementation exceedingly slow due copy write atomic operation used write path since changed std string implementation longer suffer problem using std string allows better library also avoids quadratic behavior building string espindola sstring std string http github.com espindola seastar cmake add option using std string test_erase delete broken part test add use append std string_view function sstring add str_ len begin end std string everywhere use sstring reset sstring make to_sstring implementation global sstring add use global function everywhere assume sstring iterator pointer,,
1380,fc0750bf5c0e16abc8423f38a88118c3640ca75d,afael vila de Espndola <espindola@scylladb.com>, 2020-03-04 08:44:00 -0800, , cmake add option using std string basic_sstring still available code need extra feature sstring aliased std string default still use sstring signed rafael vila esp ndola espindola scylladb.com,,
1381,25208cae44014c46cf9ad782149079a4fbe159bc,afael vila de Espndola <espindola@scylladb.com>, 2020-03-04 13:22:29 -0800, , test_erase delete broken part test std string interface say erase overload take iterators throw signed rafael vila esp ndola espindola scylladb.com,,
1382,5c2dee9b573ee559d55a432bec4fdd5bcb7ecf33,afael vila de Espndola <espindola@scylladb.com>, 2020-03-04 12:10:51 -0800, , add use append std string_view function make possible use std string_view sstring reason append variant take std string way take ownership buffer std string signed rafael vila esp ndola espindola scylladb.com,,
1383,fcb951922d4bc540760e5c1998a6d7065ce5bb26,afael vila de Espndola <espindola@scylladb.com>, 2020-03-04 11:25:15 -0800, , sstring add str_ len begin end std string allows using std string make_sstring signed rafael vila esp ndola espindola scylladb.com,,
1384,56c3b306f177975211e1086fe73c999b4baf5a4e,afael vila de Espndola <espindola@scylladb.com>, 2020-03-04 10:53:55 -0800, , everywhere use sstring reset std string reset change make code portable signed rafael vila esp ndola espindola scylladb.com,,
1385,60d9566db5904102989f893d062679bf46c6a759,afael vila de Espndola <espindola@scylladb.com>, 2020-03-04 10:31:54 -0800, , sstring make to_sstring implementation global code work std string reason implementation inside sstring signed rafael vila esp ndola espindola scylladb.com,,
1386,e633931401217c4aa4fa844e9db8ed1e2afa3731,afael vila de Espndola <espindola@scylladb.com>, 2020-03-04 09:00:54 -0800, , sstring add use global function avoids using constructor directly advantage function still work std string efficient since return initialized string extension libc could use producing uninitialized string extension proposed standard able use libstdc time future reported http gcc.gnu.org bugzilla show_bug.cgi 94032 track implementation libstdc signed rafael vila esp ndola espindola scylladb.com,,
1387,e23e9c537c73174e482923f781247ec7ebaab1fc,afael vila de Espndola <espindola@scylladb.com>, 2020-03-04 08:42:22 -0800, , everywhere assume sstring iterator pointer currently true false sstring made alias std string signed rafael vila esp ndola espindola scylladb.com,,
1388,5eaec672a2dbbe40fad320962d23cad11b560e4f,afael vila de Espndola <espindola@scylladb.com>, 2020-03-04 15:17:27 -0800, , use larger custom stack old value causing stack overflow debug build point wanted cause stack overflow signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1389,cdf075dc5813808e3e69a1221e96b77f21cf40a0,afael vila de Espndola <espindola@scylladb.com>, 2020-03-04 15:17:26 -0800, , use larger custom stack old value causing stack overflow debug build signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1390,0df5e6f084ad519b1e5f90f15309e676027b6505,onstantin Osipov <kostja@scylladb.com>, 2020-03-06 16:28:46 +0300, , log correct help message correct option name help logger help logging message kostja scylladb.com,,
1391,31d6aff6de84742f4224a341269aeafe2fafc3b6,akuya ASADA <syuu@scylladb.com>, 2020-03-05 18:53:06 +0900, , perftune.py verify nic existence currently perftune.py doe check nic ifname existance show incorrect message found like sudo perftune.py tune net nic eth0 error supported virtual device eth0 system tuned issue fixed ifname existance check beginning signed takuya asada syuu scylladb.com message syuu scylladb.com,,
1392,43b0209b010d47696243b54892b834385a41f974,ekka Enberg <penberg@scylladb.com>, 2020-03-05 10:55:27 +0200, , merge fix various memory issue http rafael httpd_test currently failing debug build series fix  espindola http fix http github.com espindola seastar httpd_test fix memory leak http fix use free http store sstring http avoid duplicated lookup,,
1393,7fbe0bc4c5acd3f651e7cacb9e8179d5b534a353,afael vila de Espndola <espindola@scylladb.com>, 2020-03-04 14:26:05 -0800, , httpd_test fix memory leak previous fix httpd_test pass debug build signed rafael vila esp ndola espindola scylladb.com,,
1394,e7a0208b8fcf9f7de5cff3ded91e921aed2d56af,afael vila de Espndola <espindola@scylladb.com>, 2020-03-04 14:16:27 -0800, , http fix use free safe access iterator passed erase signed rafael vila esp ndola espindola scylladb.com,,
1395,9306f4af19a6ca68d49706b54f78e7e36fc78a0a,afael vila de Espndola <espindola@scylladb.com>, 2020-03-04 14:09:33 -0800, , http store sstring storing const reference sstring super dangerous since passing string literal cause sstring constructed immediately destroyed given current could std string_view seems safer sstring fix use scope httpd_test signed rafael vila esp ndola espindola scylladb.com,,
1396,02185ca03bb59c7ace3f1f62f5c48489d5878239,afael vila de Espndola <espindola@scylladb.com>, 2020-03-04 13:56:44 -0800, , http avoid duplicated lookup operator call immediately following call find drop call operator mark function const signed rafael vila esp ndola espindola scylladb.com,,
1397,f015a09874cbe48b77452326ff664abf1a8c4051,afael vila de Espndola <espindola@scylladb.com>, 2020-03-04 09:19:11 -0800, , build fix in_list usage cmake in_list must passed variable list also update unit test cmakelists.txt fix thread_test signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1398,0251a1f100aa36224cad34791faa10a6c1024ebc,afael vila de Espndola <espindola@scylladb.com>, 2020-03-03 09:06:47 -0800, , future disable wuninitialized particular memcpy memcpy indeed copy uninitialized memory safe since know destination also uninitialized gcc produce warning gcc newer disable warning since still support gcc signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1399,8ab1519f53e43dc939438fd3fc3ffc587c86982b,efu Chai <tchaikov@gmail.com>, 2020-03-03 11:33:43 +0800, , build use in_list shorter cmake concise way signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
1400,e5da8058d36907af3e19f539f1e93ba6432535fe,efu Chai <tchaikov@gmail.com>, 2020-03-03 11:33:42 +0800, , build check support fstack clash protection using clang still doe support option guess future release clang see http d68720 signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
1401,468cd0b11b9b843fc4c8d44049bcf7d2d8adce25,ekka Enberg <penberg@scylladb.com>, 2020-02-27 10:22:30 +0200, , configure.py add verbose flag add verbose flag hide cmake command run default make output configure.py easier eye default message penberg scylladb.com,,
1402,3c8cf1ce06556120d9b761398f40183aab798585,ekka Enberg <penberg@scylladb.com>, 2020-02-27 10:22:29 +0200, , configure.py make cmake command line human readable configure.py script output cmake command run useful debugging let make human readable  cmake ninja sanitize gcc usr local gnu dseastar_dpdk native dseastar_hwloc yes  running cmake home penberg src scylla seastar build sanitize ... cmake  ninja  sanitize gcc  usr local       gnu dseastar_dpdk native dseastar_hwloc yes         reviewed botond bdenes scylladb.com message penberg scylladb.com,,
1403,9e627997350642b170c9d68f29a57eb1e4f39f82,vi Kivity <avi@scylladb.com>, 2020-02-29 18:31:49 +0200, , net dynamically adjust buffer size posix read operation currently use fixed buffer size 8192 reading posix object pessimizes large request since generates many system call 128 1mb request also sub optimal small request since allocates buffer space patch add dynamic configurable buffer size user provide minimum maximum initial buffer size system attempt find buffer size large enough reduce system call also avoid allocating default 512 byte minimum buffer size 128 kib maximum buffer size 8192 current value initial buffer size implement new data_souce_impl virtual function added source avoid adjusting every data_source implementation may tree new method default calling original configuation source method tested using wrk thread 100 connection single shard httpd following lua script generate request wrk.body string.rep 1000000 see improvement performance compared default wrk workload  wrk c100 script large request.lua http localhost 10000 running test http localhost 10000 thread 100 connection thread stats avg stdev max stdev latency 26.63ms 4.99ms 71.89ms 86.46 req sec 1.24k 142.04 3.56k 97.01 37185 request 10.10s 4.68mb read request sec 3683.03 transfer sec 474.76kb  wrk c100 script large request.lua http localhost 10000 running test http localhost 10000 thread 100 connection thread stats avg stdev max stdev latency 23.56ms 3.96ms 63.65ms 88.87 req sec 1.40k 84.29 2.09k 94.70 42138 request 10.10s 5.30mb read request sec 4172.49 transfer sec 537.86kb note wrk reported bandwidth low presumably since measure response bandwidth rather request bandwidth actual bandwidth greater small request throughtput unchanged 161k request even though added extra continuation message avi scylladb.com,,
1404,affc3a5107cd8ed626f08401fa7093dd07c20371,vi Kivity <avi@scylladb.com>, 2020-02-26 12:21:54 +0200, , merge add possibility remove rule route pavel  set make possible unregister rule route current implementation route vector keep certain sort rule suitable efficient removal first patch turn vector map 2nd patch add needed removal helper test unit debug new test set  unset path descriptor http github.com xemul seastar http add possibility remove match route httpd turn match_rule vector map,,
1405,5163973fa3aa6a13c932c241830a37bf487bd888,vi Kivity <avi@scylladb.com>, 2020-02-25 21:09:33 +0200, , stall_detector expose correct clock type use curiously stall detector use clock arm timer test change message avi scylladb.com,,
1406,708e3d52a967c9c4f2e509a74e86bb1459201fef,avel Emelyanov <xemul@scylladb.com>, 2020-02-11 12:01:34 +0300, , http add possibility remove match route currently route two type rule exact match rule_match former one direct match url path handler sit unordered_map add .drop method erase entry return former content caller could free latter rule match bit complex way directly map url entry looked url list substring match remove kind rule use introduced previous patch cookie two method added .add_cookie add match_rule object return cookie .del_cookie method accepts cookie remove entry matching also returning old content caller .unset method unregister route also included raii style wrapper rule direct match registration auto unregistration included unit test using mentioned wrapper signed pavel emelyanov xemul scylladb.com,,
1407,0e9aa82ad513e188e3cb806611de3649f25ffc1e,leb Natapov <gleb@scylladb.com>, 2020-02-25 18:54:24 +0200, , queue add function sometimes useful producer know someone wait item produced expedite creation someone doe add function facilitate use message scylladb.com,,
1408,4a69c4000197f88e7e40cd109d191c825f4ed615,omasz Grabiec <tgrabiec@scylladb.com>, 2020-02-25 19:02:57 +0100, , merge core reduce memory use idle connection avi series introduces interface allocating buffer communicate used back tcp socket posix stack use reactor backends turn use delay allocation read buffer socket known data ready read reduces memory consumption server many idle socket common condition note native stack doe allocate buffer connection doe suffer problem,,
1409,6fac990d440bb1a8819374341d39fa4c35f829d9,afael vila de Espndola <espindola@scylladb.com>, 2020-02-21 13:34:14 -0800, , testing enable test change every test using implicitly set true signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1410,521009c7959d3dea94bc4277df79e3fe78e42e44,afael vila de Espndola <espindola@scylladb.com>, 2020-02-21 13:34:13 -0800, , core add helper scylla place want check invariant bring database fails like invariant checked assert thing never happen indicate bug unusual issue like corrupted file unlike invariant checked assert reasonably confident possible abort particular task without bringing entire server handle scylla function either throw abort depending runtime flag patch move seastar seems general enough want flag always set abort test naturally done seastar signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1411,7a3b4b4e4e4a90ce1b161c73dbf2bd14f32b8703,vi Kivity <avi@scylladb.com>, 2020-02-25 17:24:59 +0200,5742, merge add custom stack size seastar thread piotr  series add option customize stack size seastar thread size configurable via allows user request stack size although real size might different due different configuration e.g asan architectural requirement thread allow easier cooperation external library maybe_yield easily injected function prevent stall goal series allow creating lighter thread operation need much default 128kib course design also allows creating thread larger stack anyone ever need series come test test unit release dev also mean stack guard enabled ref scylladb scylla 5742  http github.com psarna seastar test add custom thread size test case test propagate stack guard information test thread add custom stack size,,
1412,06664c60b5fc2bde0f8cc06085c42f912b25b80d,omasz Grabiec <tgrabiec@scylladb.com>, 2020-02-24 14:22:37 +0100,629, expiring_fifo optimize memory usage single element list expiring_fifo used implement wait list synchronization primitive like semaphore turn used implement one waiter even one waiter currently allocate room 128 waiter chunked_fifo chunk need 32kb allocation result lot memory waste application using lot synchronization primitive instance used scylla implement notification per table worker fiber could many fiber fix avoid chunked_fifo single element list std unique_ptr chosen holder instead std optional avoid increasing size semaphore semaphore contended fix 629 message 1582550557 21445 git send email tgrabiec scylladb.com,,
1413,dc554f1071e184988c1969e7e15492f1cc255f42,avel Emelyanov <xemul@scylladb.com>, 2020-02-25 10:37:03 +0300, , httpd turn match_rule vector map rule_match currently vector scanned linearly till first match handler returned next patch need add possibility remove rule vector work well safely remove time drive one one rule removal also removal entrable i.e gracefully handle case two removal key happen requirement new way keeping sequence rule_match std map key map constantly increasing 64bit integer called cookie signed pavel emelyanov xemul scylladb.com,,
1414,d21c2877297f7272d08ffd31596f91fb288270cb,iotr Sarna <sarna@scylladb.com>, 2020-02-24 15:51:49 +0100, , test add custom thread size test case two test case seastar thread custom stack size added simple validation test thread custom stack size still work expected x86_64 specific case run stack guard enabled check stack guard hit trying touch memory doe belong stack test case also run default stack size 128kb case stack guard triggered,,
1415,4b665b719b397b8c59b1a26f14726f6a4e8325ca,iotr Sarna <sarna@scylladb.com>, 2020-02-24 15:49:50 +0100, , test propagate stack guard information test test check stack guard used checking definition,,
1416,5ed0207114f49440a3052eb0e8c1948f2e2e7aa6,iotr Sarna <sarna@scylladb.com>, 2020-02-24 12:28:47 +0100, , thread add custom stack size option request different stack size seastar thread added via struct note actual stack size depends configuration e.g presence asan arch dependent config user pas via requested custom stack size use case mind allowing lighter thread used operation expect large stack expected fast path concrete example handling alternator request scylla thread could help reducing reactor stall induced rapidjson parsing,,
1417,1978335b2e3756487a1654387c63c52f60f86aab,vner Taieb <avner@reduxio.com>, 2020-02-23 18:08:11 +0200, , close connection reach max retransmits might wait future never fulfilled case max_queue_space exceeded peer i.e acks future never fulfilled even retransmitions exhausted future handled patch replaces calling cleanup calling do_reset transmitions completed do_reset set exception future signed avner taieb avner reduxio.com acked asia asia scylladb.com message avner reduxio.com,,
1418,8b6bc659c7c3cdc332bdb8b4b4980320ebccaf1e,rzysztof Maysa <varqox@gmail.com>, 2020-02-22 16:50:15 +0100, , core file types.hh fix missing header signed krzysztof ma ysa varqox gmail.com message varqox gmail.com,,
1419,ffe024d19b961e5e5dddd53bd398a1578f9ec042,afael vila de Espndola <espindola@scylladb.com>, 2020-02-21 17:03:33 -0800, , cmake add cmake option currently stack guard enabled non release dev debug sanitize build option default stay possible explicitly enable release build disable non release build signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1420,cdda3051e30880dee13a7d1323682a1074d2165b,efu Chai <kchai@redhat.com>, 2020-02-21 13:54:39 +0800, , core discard unused variable function silence warning like warning unused variable ret wunused variable seastar need support use maybe_unused attribute introduced gnu unused supported clang gcc std see http gcc.gnu.org onlinedocs gcc common variable attributes.html common variable attribute  http 8.0.0 tool clang doc maybe unused unused also apply gnu unused unused defined signed kefu chai kchai redhat.com message tchaikov gmail.com,,
1421,c3989ae2464b1fecf28b011a77ed1d50b77c6809,vi Kivity <avi@scylladb.com>, 2020-02-19 22:19:37 +0200, , pollable_fd use boost intrusive_ptr rather std unique_ptr lifecycle management currently use std unique_ptr custom deleter control lifecycle need hook deletion since must perform asynchronous operation first backends switch boost intrusive_ptr give control addition add reference counting io_uring backend require since reference count kept withing object extra allocation message avi scylladb.com,,
1422,6b9a7598197ce9694effa72000d0a2e864176a86,efu Chai <kchai@redhat.com>, 2020-02-20 15:34:52 +0800, , build check strictly speaking portable need least check existence using fail checking dependency running cmake instead failing building seastar signed kefu chai kchai redhat.com message tchaikov gmail.com,,
1423,a6ced0e05b05bb1e371f73b36b38edd236a50744,efu Chai <kchai@redhat.com>, 2020-02-20 15:34:51 +0800, , build link thread thread pas pthread compiler linker pthread function like pthread_join used cmake 3.1 need link thread thread see http cmake.org cmake help v3.1 module signed kefu chai kchai redhat.com message tchaikov gmail.com,,
1424,f7d0c5cae0fab142b186cd8d7b7149aedba0fcc5,afael vila de Espndola <espindola@scylladb.com>, 2020-02-20 08:22:53 -0800, , future avoid recursion do_for_each recursive implementation would cause stack overflow debug build need_preempt call future always returning true also allocates one continuation entire loop signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1425,80dbc123296506274dd9e5652a152c3574655ad4,afael vila de Espndola <espindola@scylladb.com>, 2020-02-20 08:04:24 -0800, , future expand description description note need_preempt checked used small range signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1426,1c0b16bc75567b4fee1adb7ac94f335a4cb82cbe,adav Har'El <nyh@scylladb.com>, 2020-02-20 13:25:21 +0200, , merge add content length limit httpd merged patch series piotr sarna series introduces content length limit parameter httpd server limit checked reading whole buffer memory may prevent hostile packet crashing server note todo rewriting httpd return stream instead whole request contiguous memory area still valid series nonetheless partially adresses problem immediate benefactor would scylladb scylla 5832 used limit size alternator request series come test validating limit respected test unit dev piotr sarna httpd add content length limit parameter http server httpd add generating error reply httpd add 411 413 error httpd add validating content length limit httpd remove redundant version assignment test add test content length limit include seastar http httpd.hh include seastar http reply.hh src http httpd.cc src http reply.cc test unit httpd_test.cc file changed insertion deletion,,
1427,8d59950392b4db61e7735b69a05b9eb3ff98cc19,vi Kivity <avi@scylladb.com>, 2020-02-18 22:36:31 +0200, , posix_stack allocate buffer idle connection currently allocates buffer wait socket become readable forced reactor design requiring read_some buffer supplied beforehand read_some overload taking let reactor allocate buffer socket proven non idle reduce memory consumption server many idle connection turn later use increase buffer size reduce syscall count,,
1428,be210cab772679f2953e62e1bd193b3cac62bd15,vi Kivity <avi@scylladb.com>, 2020-02-18 22:18:57 +0200, , reactor add read_some overload take plumb read_some variant take instead real buffer specification currently naive implementation supplied wait become readable allocate buffer use issue read fill allocated buffer,,
1429,cdfa10386ee9a0ff6142c6627e8bbb9ecd85edb8,aphael S. Carvalho <raphaelsc@scylladb.com>, 2020-02-18 10:37:32 -0300, , test verify current scheduling group inherited expected signed raphael carvalho raphaelsc scylladb.com message raphaelsc scylladb.com,,
1430,1c22cc79a17344b4306a998636390cd7c600aa08,afael vila de Espndola <espindola@scylladb.com>, 2020-02-17 07:27:33 -0800, , net return future instead subscription convert low level function net return future function need indicated done returning future natural choice also advantage get warning return value ignored signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1431,e0a155f752ca813c8669a812001bb0f8fc95a824,lauber Costa <glauber@scylladb.com>, 2020-02-18 19:48:02 -0500, , cmake verbose looking library marked quiet hard figure log went wrong signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1432,89743de9e984b4c09d5f212060f87be0385e7788,iotr Sarna <sarna@scylladb.com>, 2020-02-18 11:51:07 +0100, , test add test content length limit test case check content length limit respected request within limit served request exceeding limit get 413 error,,
1433,8935272bb8fd1b460b7fa561c3e5dd881c4ecc78,iotr Sarna <sarna@scylladb.com>, 2020-02-18 11:53:30 +0100, , httpd remove redundant version assignment version assigned couple line need setting,,
1434,91ebb13e681de86cc121f8e583ee74465f491c3a,iotr Sarna <sarna@scylladb.com>, 2020-02-18 10:51:39 +0100, , httpd add validating content length limit connection refuse request content length exceeding limit 413 error payload large,,
1435,10c012cb9eb7fb35e2d805e772be584f343bef9c,iotr Sarna <sarna@scylladb.com>, 2020-02-18 13:43:28 +0100, , httpd add 411 413 error error 413 payload large used refuse large request error 411 length required used future content length header expected found,,
1436,07ec440d06d9b9ff449cf775a76cd4c12a86e0a9,iotr Sarna <sarna@scylladb.com>, 2020-02-18 10:43:53 +0100, , httpd add generating error reply helper function generating reply error status added,,
1437,95640af794243b015f15f5c5e2b68591c49e0835,vi Kivity <avi@scylladb.com>, 2020-02-18 22:15:59 +0200, , core add interface used decouple allocating buffer allocate size buffer allocate point allocation allows allocate late point know data ready placed buffer deep reactor gut still use allocation strategy reactor doe control may ultimately come user program buffer added internal interface perhaps one day expose application,,
1438,2fdbf5757653a23f5b72f259efd0744d278026ad,iotr Sarna <sarna@scylladb.com>, 2020-02-18 10:55:52 +0100, , httpd add content length limit parameter http server server use content length limit parameter set helper function,,
1439,2b51022073a8e54be57552353afe846b0c982b95,afael vila de Espndola <espindola@scylladb.com>, 2020-02-17 14:14:33 -0800, , dns_test test seastar.io instead www.google.com observed dns lookup www.google.com return answer containing 216.239.32.117 reverse dns lookup address fails attempt make dns test stable change use seastar.io instead delete bit dead code signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1440,1ad4570a1df48bac6adb244e6230a56d4d200720,leb Natapov <gleb@scylladb.com>, 2020-02-17 19:28:00 +0200,5814, sharded fix move constructor pas correct object set_container otherwise compiles doe nothing ref scylladb scylla 5814 message scylladb.com,,
1441,d8b73851c28fc534b525f04823bd6f01223480ea,afael vila de Espndola <espindola@scylladb.com>, 2020-02-03 08:31:53 -0800, , test delete seastar.dist disabled test.py currently failing original intent test packaged seastar test would try download compile lot code broken test gone possible run test ninja test signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1442,aa7a88c04ed8a5542245b5ae8fa9be1faf312d5b,onen Friedman <rfriedma@redhat.com>, 2020-02-15 12:17:10 +0200, , reactor distinguish structs class befriending fixed friend class friend struct struct silence clang warning apparently prevent link issue warning class previously declared struct valid may result linker error microsoft abi signed ronen friedman rfriedma redhat.com message rfriedma redhat.com,,
1443,94331476683882893fbab643a6e8174212b57a7c,efu Chai <kchai@redhat.com>, 2020-02-14 12:40:00 +0800, , util tuple_utils.hh avoid redundant move per resolution http wg21.link cwg1148 move used case parameter lvalue destroyed compiler consider rvalue change silence warning gcc clang wredundant move like src seastar include seastar util tuple_utils.hh warning redundant move return statement wredundant move return std move  src seastar include seastar util tuple_utils.hh note remove std move call  error redundant move return statement werror wredundant move return std move move used implicitly  signed kefu chai kchai redhat.com message tchaikov gmail.com,,
1444,86cefe7946a2ade2e15ab46ea7b4c011aba88d22,lauber Costa <glauber@scylladb.com>, 2020-02-12 17:46:03 -0500, , io_request include fmt format.h used directly header expensive parse signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1445,67526a92ec16134b60e67646a52a27d439dabe58,lauber Costa <glauber@scylladb.com>, 2020-02-12 16:48:07 -0500, , reactor cleanup write_some leftover avi noted need call engine .writeable write_some write_some method reactor signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1446,6a02a0012cced189ab7fb4ed680595a0faf8fb21,lauber Costa <glauber@scylladb.com>, 2020-02-12 17:03:14 -0500, , posix change signature accept try_accept accept try_accept use addr_length member socket_address value result argument however way coded today pas length parameter arbitrary memory area copy back addr_length already moved away previous patch calling try_accept like confusing patch simplifies thing changing signature accept try_accept room user accept tree patched thanks rafael suggestion signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1447,c7c249f67db5c0eaa85e1c17902c53a23b670ece,lauber Costa <glauber@scylladb.com>, 2020-02-13 12:02:46 -0500, , reactor fix issue hrtimer completion lost current code problem missing trigger hrtimers problem seem happen without overprovisioned flag seem happen far unseen poller refactoring problem brought surface happens regardless flag reason failure hrtimer always must registered polling_io context reaped enough make sure registered preempting_io context context reaped tied task quota lifetime may reaped see instance run_tasks reset preempt_io context register iocb loop ended preemption sleep register hrtimer polling wake register back patchset used sleeping querying epoll related completion guaranteed would always reaped funny enough though overprovisioned set poll aio turn register aio_eventfd without io_eventd may ever register epoll poller epoll poller conditionally registered reason worked overprovisioned real culprit poll aio always worked without would work something else registered epoll poller signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1448,8ca7854e34e9917e5f79cbb7f25866ee4a23d20a,vi Kivity <avi@scylladb.com>, 2020-02-12 18:59:24 +0200, , merge refactor network storage handling backend code glauber  test unit debug epoll aio patchset offer refactor backend code simplifies dispatching removing semaphore poller reorganizing network code backend take control main motivation merge support io_uring previous interaction patchset included support io_uring dropping interest merging refactor early clear refactor enough support io_uring architecture  rework backend v1.1 github.com glommer seastar reactor rename pending_aio file_desc return file_desc object number io_request enhance operation type reactor rework aio completion factor preempt context core move storage aio reactor backend reactor isolate aio related function method reactor rework submit_io backend agnostic reactor simplify clarify pollers pollable_fd move shutdown backend net move implementation connect backend move net packet version write_some close reactor method reactor move tcp socket function reactor_backend reactor move lifetime management backend,,
1449,7ba4407cef0486493a35bd3ee36e16444a595e23,otond Dnes <bdenes@scylladb.com>, 2020-02-12 18:09:18 +0200, , reactor call needed seastar heapprof configuration option cause reactor enable heap profiling shard doe unconditionally calling memory value configuration option might false since a091b5d5 memory print warning called defined result message printed startup shard confusing unexpected one set heapprof configuration change code call memory heapprof set true avoiding noise heap profiling attempted used signed botond bdenes scylladb.com message bdenes scylladb.com,,
1450,de1ad3c4d33721634d47862aec1383ec58688026,lauber Costa <glauber@scylladb.com>, 2020-02-07 08:05:38 -0500, , reactor rename pending_aio serve uring backend well rename avoid confusion signed glauber costa glauber scylladb.com,,
1451,5f272e6d29419fd7e12ac65dd00eb88927644e07,lauber Costa <glauber@scylladb.com>, 2020-02-07 14:48:20 -0500, , file_desc return file_desc object number io_uring need since accept return file descriptor signed glauber costa glauber scylladb.com,,
1452,c91d9e632a3f27610a75ed3e94b1d5d2e9131243,lauber Costa <glauber@scylladb.com>, 2020-02-06 22:37:20 -0500, , io_request enhance operation type io_uring lot operation type would like keep descriptor used queue add operation type prevent becoming type mess use std variant store different type providing accessors type prepare_iocb code already simplified seize opportunity logical next step store io_requests instead iocb queue pre requisite joining poll storage single context deferred later time signed glauber costa glauber scylladb.com,,
1453,fff28da5ef69215a3ec37ef2c5968a61598c28cb,lauber Costa <glauber@scylladb.com>, 2020-02-06 20:50:31 -0500, , reactor rework aio completion factor preempt context uring implementation still use aio implement task quota order achieve would nice factor code reused uring patch implement work first step move aio_context called already one specific context context used another class implement task quota two complication arise steming aio code used preempt context also polling context one iocbs hrtimer shared two context flag dance tell current status bit consequence hard change code handle iocbs preempt case since lot shared aio_context like replenish queue etc make disentangle take advantage fact use store action greatly simplify io_getevents code always relying implementing relevant action detail process hrtimer two separate action one inside another specific polling context extra iocb help keep thing independent big waste event processing code use event specific completion like note _aio_ name already anticipation fact uring _aio_ version completion iocbs attached directly uring code worry  iocb_poll current code allocates iocb would later free io_uring limitation since poll stored inside better use type io_uring aio therefore better allocate move iocb inside poll kernel completion although sound wasteful ugly since generic enough better alternative signed glauber costa glauber scylladb.com,,
1454,698f51d6689de357b6d83e49f4e17a35d393cb20,lauber Costa <glauber@scylladb.com>, 2020-02-06 15:31:23 -0500, , core move storage aio reactor backend right storage subsystem placed inside reactor work ever using linux io_submit io_getevents interface linux new improved interface io_uring dispatch mean different set system call different set data structure therefore patch lay ground happen moving storage functionality inside reactor backend signed glauber costa glauber scylladb.com,,
1455,12138b32ed387311cb01074e84e72fb9fecbe520,lauber Costa <glauber@scylladb.com>, 2020-02-06 14:53:22 -0500, , reactor isolate aio related function method preparation patch ease life reviewer reducing delta goal move code reactor_backend next patch signed glauber costa glauber scylladb.com,,
1456,d38ebc6ee6e87af04284fdc0eb60440579e5579f,lauber Costa <glauber@scylladb.com>, 2020-02-06 13:32:52 -0500, , reactor rework submit_io backend agnostic patch reworks submit_io queue request nothing later submit stage reactor backend pick best way submit note please point still live inside reactor attaching pointer inside io_request io_request queued information need submitted akin io_uring patch also submit available submission submit point available iocbs theory behind iocbs available exhausted capacity anyway pointless submit always submit next task quota capacity free also note since previous patch always reap event submit something completed would freed slot allow remove semaphore pre condition moving code inside pollers signed glauber costa glauber scylladb.com,,
1457,4e9755ed3408b45484c0073d1c51d1df7c814688,lauber Costa <glauber@scylladb.com>, 2020-02-06 13:15:40 -0500, , reactor simplify clarify pollers found experiment past order poller execution important performance hard see one poller may generate event others want consume consumption happen right away wait next task quota way thing right control epoll poller run also mean backend work dealing poller also move towards backends like io_uring want clearer role pollers even current aio backend possible principle use context storage poll merging pollers one make work easier current situation epoll poller run poll ever called never dpdk pretty much time posix network never know storage kernel completion poller joint queue storage kernel submitter storage want keep kernel completion kernel submission separate completing work may free slot queue turn may submit new work right away order present except poller doe aio queue work poll want submission run first reap later work submitted may ready right away guaranteed control epoll poller created patch split following pollers kernel completion reap event ready kernel event kind storage poll etc queue run queue kernel submission submit new work kernel want order polling since reaping completion generally cheap problem also decouple role method right used epoll polling going sleep get confusing merge kernel submission poller another advantage approach simplify backend code give backends option handle completion without deal register pollers signed glauber costa glauber scylladb.com,,
1458,a8502d5afc253be3df4f6f61a2add6d8483a698e,lauber Costa <glauber@scylladb.com>, 2020-02-08 18:52:43 -0500, , pollable_fd move shutdown backend shutdown seems like neat synchronous operation using backends like uring might need issue ring opcodes cancel existing flight request shutdown time move backend specialized signed glauber costa glauber scylladb.com,,
1459,596a8411647e054b37accc336f774d875f32ae50,lauber Costa <glauber@scylladb.com>, 2020-02-06 12:44:48 -0500, , net move implementation connect backend io_uring want version connect facilitate move connect backend code signed glauber costa glauber scylladb.com,,
1460,63b3c9878a4f2ea8812884083fd178808df1950d,lauber Costa <glauber@scylladb.com>, 2020-02-12 09:29:41 -0500, , move net packet version write_some close reactor method reactor call write_some net packet implementation method implement backend want keep generic version reactor make easier backend consume previous patch kept everything place aid reviewer patch move closer reactor method aid new code reader signed glauber costa glauber scylladb.com,,
1461,7973503248b9de571a0a95716be5429bc302ef64,lauber Costa <glauber@scylladb.com>, 2020-02-05 18:32:49 -0500, , reactor move tcp socket function reactor_backend accept read_some scalar vectored write_some scalar vectored moved reactor backend implementation aio epoll implemented set common helper avoid one extra indirection function replaced do_ variant call backend directly signed glauber costa glauber scylladb.com,,
1462,7ae3e9d470e0e13488cef679967e6e204c42e698,lauber Costa <glauber@scylladb.com>, 2020-02-07 18:13:40 -0500, , reactor move lifetime management backend reactor_backend creating also responsible deleting allow issue asynchronous operation upon destruction keeping object alive candidate user io_uring want issue asynchronous syscall forget pollable_fd signed glauber costa glauber scylladb.com,,
1463,6d2ed8cdc696f40ef09b14653c0ad13f99cebef7,lauber Costa <glauber@scylladb.com>, 2020-02-11 17:00:53 -0500, , connect_test keep socket alive end socket assigned unconn kept alive end test shutdown statement return cause test function return potentially destroy socket future opportunity return problem today connect keep socket shared pointer alive behavior may change even still safer user keep pointer alive signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1464,5588a10a4610cc30f1045d25248aa457ea6c4936,vi Kivity <avi@scylladb.com>, 2020-02-12 11:38:19 +0200, , merge add timeout smp submit_to friend botond  common problem seastar application shard flooded work shard shard produce request faster target shard consume sooner later smp queue explode cause oom recently added smp service group support combat problem move queue sender shard alleviates problem prevent oom sender shard still run memory queue grows series add timeout support smp submit_to friend allowing request time prevents unbound growth message queue also many case operation context request executed also timeout request belonging timed operation valuable anymore processing waste cycle timeout support built existing smp service group support proved excellent base since smp service group already employ semaphore client side limit concurrency use semaphore time request waiting sent remote shard patch set massage existing code bit wire timeouts add corresponding overload various smp submit_to variant  submit timeout http github.com denesb seastar test add test smp submit_to timeout sharded invoke_on_ add overload sharded make api comment conform doxygen convention smp invoke_on_all add overload smp make api comment conform doxygen convention smp submit_to take instead smp introduce smp prepare infrastructure timeout smp make smp service group semaphore named semaphore smp submit_item handle failure acquire semaphore basic_semaphore forward exception factory expiring_fifo,,
1465,72916826c340f8254459d27c8f2940a75c72ed09,lauber Costa <glauber@scylladb.com>, 2020-02-10 10:20:16 -0500, , reactor use reference addrlen accept accept following signature int accept int sockfd struct sockaddr addr socklen_t addrlen taking pointer address socklen_t man page addrlen said value result argument meaning caller fill size initial structure callee return actual size code try_accept doe socket_address socklen_t sa.length look fine except socket_address length return copy reference idea even work try similar thing io_uring length field always bogus system call return look like uring bug likely tad strict code path used linux aio epoll still would confusing always dealing length field way across codebase signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1466,d051d54d69810f0559d86f7526c71656933f4b05,vi Kivity <avi@scylladb.com>, 2020-02-09 16:50:41 +0200, , test use clock test detector stall detector thread cputime clock avoid reporting stall cpu taken reactor scheduler run another process also stall reporting fault task confusing test used verify stall detector realtime clock test machine overloaded usual continuous integration stall detector fails detect stall test try induce enough cputime passed even though enough realtime passed fix using clock test detector tested running instance test parallel 1s6c12t desktop fails consistently change pass afterwards hopefully fix false positive reported circleci message avi scylladb.com,,
1467,cc4115b9134e412a92f8f9ee52d7e395b9ca6c83,akuya ASADA <syuu@scylladb.com>, 2020-02-08 17:47:22 +0900,640, reactor fallback epoll backend fs.aio max small fallback epoll backend fs.aio max small fix 640 signed takuya asada syuu scylladb.com message syuu scylladb.com,,
1468,74c7514bdaaf814a836b01d538c41836f8c0d4f9,akuya ASADA <syuu@scylladb.com>, 2020-02-08 17:47:21 +0900, , util move iotune seastar header rename function also use aio max aio move header file signed takuya asada syuu scylladb.com message syuu scylladb.com,,
1469,1c8d324d0bb91da72d1c58b2b60a012eef28a2e9,hunmei Liu <chunmei.liu@intel.com>, 2020-02-07 13:39:40 -0800, , core resource fix cpuset error matter cpuset set commandline resource allocate alwasy allocate cpu use cpuset infomation allocate cpu signed chunmei liu chunmei.liu intel.com message 1581111580 25844 git send email chunmei.liu intel.com,,
1470,04c1531935a04c033b4e700a7620ddd016498d95,lauber Costa <glauber@scylladb.com>, 2020-02-06 18:50:02 -0500, , increase sleep time sleep based test problematic commit 2398994aed55a0 avi increased initial 10ms threshold 30ms however rework reactor backend uring start started failing debug mode tempting think made thing slower see slowdown benchmark work smp really fails smp execute task increase much 33ms work patch series start fail really doe nothing could explain probably around edge anyway pushed spent time trying see could make dependent time nothing worked well test tricky really want see much work push parallel task start finish concurrency get reduced debug mode reorder task anything happen signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1471,d0fb163366d2553a903a90640010eacf637857a4,omasz Grabiec <tgrabiec@scylladb.com>, 2020-02-06 19:17:37 +0100, , core thread fix compilation error comment message 1581013057 29595 git send email tgrabiec scylladb.com,,
1472,16a031400ed5fe3590a45b7032c114ae7c59d709,otond Dnes <bdenes@scylladb.com>, 2020-01-29 16:51:21 +0200, , test add test smp submit_to timeout,,
1473,059c5109f97210052fdea58fe6c62fd93f668cd4,otond Dnes <bdenes@scylladb.com>, 2020-02-06 19:29:49 +0200, , sharded invoke_on_ add overload precisely convert existing overload taking take instead source level backward compatibility ensured via implicit constructor,,
1474,89819fcc765528de6bf9ea2235c6bb9c21f9c67b,otond Dnes <bdenes@scylladb.com>, 2020-01-29 15:00:48 +0200, , sharded make api comment conform doxygen convention method standard comment marker api documentation instead doxygen expects result omitted generated documentation,,
1475,d934b02bd3924450d78eb3c867b93a3ababd590f,otond Dnes <bdenes@scylladb.com>, 2020-02-06 19:23:46 +0200, , smp invoke_on_all add overload,,
1476,f45e3f6757464e9810ecf6b96d4acffc317eb723,otond Dnes <bdenes@scylladb.com>, 2020-01-29 15:20:54 +0200, , smp make api comment conform doxygen convention method standard comment marker api documentation instead doxygen expects result omitted generated documentation also convert parameter return value documentation use param return tag respectively,,
1477,51c8b76b0b9d6483d702ecc9aca01558f69216d5,otond Dnes <bdenes@scylladb.com>, 2020-02-06 18:54:52 +0200, , smp submit_to take instead source level backward compatibility kept via implicit constructor,,
1478,8f6ed21c7d3f64ee9139240ed85e832ba7d3cc36,otond Dnes <bdenes@scylladb.com>, 2020-02-06 18:53:38 +0200, , smp introduce intended hold option modifying behaviour smp submit_to contains service group timeout allows seamless addition new option allow seamless transition existing smp submit_to friend signature implicitly constructible,,
1479,366c25546e0ff357eeeab1054f41419d20d858a4,otond Dnes <bdenes@scylladb.com>, 2020-01-29 15:50:01 +0200, , smp prepare infrastructure timeout add timeout parameter submit propagate smp message_queue submit_item passed get_units api function accepting timeout yet,,
1480,1e499d52f01cc08242e8e39a8e47c7bcdfb17c7e,otond Dnes <bdenes@scylladb.com>, 2020-01-29 14:05:48 +0200, , smp make smp service group semaphore named semaphore next patch add timeout said semaphore mean error message generated appear application log help make error message useful use named exception factory generates name contain smp service group initiator client receiver server shard another forward looking change contained patch defining using smp specific timeout clock,,
1481,cbdf479066ce00f8707b0f4d5368a4d5493a2602,otond Dnes <bdenes@scylladb.com>, 2020-01-29 12:46:19 +0200, , smp submit_item handle failure acquire semaphore currently failure happening waiting smp service group semaphore ignored really problem currently timeout used waiting semaphore although std bad_alloc always table make safer enable adding timeout semaphore forward failure acquire semaphore work item thus caller smp submit_to,,
1482,e2516c289049abda1dcdf4c6c63d7bcab1869d95,otond Dnes <bdenes@scylladb.com>, 2020-01-29 18:32:54 +0200, , basic_semaphore forward exception factory expiring_fifo require factory copyable need pas two constructor semaphore base class exception factory expiring_fifo maybe problem case let fix make pretty later also added test named timeout exception broken one noticed,,
1483,f10d0b4062b9ca34769c55b17344c2bf91c8a99f,lauber Costa <glauber@scylladb.com>, 2020-02-06 08:01:06 -0500, , reactor specialize lot operation reactor_backend need take parameter would like store data aid completing operation store object pollin pollout attribute however add capability backend including upcoming uring implementation becomes clear backend may need store extra state really backend specific one example seen patch specialize per backend possible store iocb used aio poll operation derived class voiding need dynamically allocate change made one test actually fails alien test creating directly operating allowed internal state pollable_fd also using read_some eventfd make sure become problem anyone else patch also make constructor protected backend specialization able produce test unit debug signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1484,396e5ddf531066e78f77426ea73922b5dfdcb55a,afael vila de Espndola <espindola@scylladb.com>, 2020-02-05 17:55:08 -0800, , build use fstack clash protection using guard page option cause gcc probe every page stack frame function entry allocating one page time leaq 36864 rsp r11 .lpsrl0 subq 4096 rsp orq rsp cmpq r11 rsp jne .lpsrl0 subq 2712 rsp guarantee one page guard space sufficient catch stack overflow first occurs great help debugging core file function stack frame larger page seem impact performance stack guard enabled release build signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1485,1c7bccc500de540bdec2e022bc8f451243938144,lauber Costa <glauber@scylladb.com>, 2020-02-05 12:36:24 -0500, , reactor rename set_value complete_with per avi suggestion new role without mandatory promise set_value called complete_with also instance set_value signaled virtual also fixed signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1486,758187c32879b22962690a4030d48040811ac3ad,afael vila de Espndola <espindola@scylladb.com>, 2020-02-05 09:19:38 -0800, , net remove unused member variable subscription member variable unused also hiding fact corresponding future ignored tested running httpd network stack native signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1487,080b9afc5eff8a74b48e5ba065853be18bddde49,afael vila de Espndola <espindola@scylladb.com>, 2020-02-05 09:11:25 -0800, , net fix global buffer overflow around rss_key_type rsskey globals defined uint8_t used rss_key_type string_view default string_view constructor strlen key null terminated patch change global variable rss_key_type string_view constructed compile time right constructor found testing another patch native stack signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1488,317c4242a84a63dd1d845d920ed2b625f66c2478,lauber Costa <glauber@scylladb.com>, 2020-02-05 10:17:33 -0500, , reactor remove set_promise avi suggested rely set_value alone scenario queue handler may want set failed promise dispatching request case set_promise  note refactor used always call io_desc set_promise base class derived class stopped ate one call io_queue call restored signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1489,62281e64d8fcc6bb4f7374acda189fd08d04941c,vi Kivity <avi@scylladb.com>, 2020-02-05 12:36:59 +0200, , merge generalize io_desc glauber  patchset generalizes io_desc currently used handle completion event io_getevents would like generic would like handle storage patchset see used handle poll iocbs would like handle apis like io_uring test unit debug  iocb massage github.com glommer seastar reactor rework longer hold promise io_desc split io_desc generic promised version io_desc move destroy logic inside derived class core remove io_event mention upper layer interface move io_desc.hh outside src core core remove iocb reference dispatcher,,
1490,33f3ee83ebfcaec0320466dfb5b58266bf2d69b1,lauber Costa <glauber@scylladb.com>, 2020-01-31 10:48:35 -0500, , reactor rework longer hold promise hold two promise pollin pollout set every time poll operation replace promise_io_desc promise inside advantage able call completion event return io_getevents way logical next step unify handling poll iocbs signed glauber costa glauber scylladb.com,,
1491,dcb18d37904aca1790cf7d13e65b4b538e69d33b,lauber Costa <glauber@scylladb.com>, 2020-01-30 22:55:49 -0500, , io_desc split io_desc generic promised version io_desc expected basic even need set promise extract basic interface rename used anything return kernel set promise need specialize  signed glauber costa glauber scylladb.com,,
1492,c233f5f99cc8d96a6ca2979aeb7d7ca95fd1bf6f,afael vila de Espndola <espindola@scylladb.com>, 2020-02-04 08:19:53 -0800, , everywhere disable wmisleading indentation around ragel generated code disables warning produced clang code control signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1493,f5b1ab34afed903f700c9b2ebb04b5cbc4e5fec4,lauber Costa <glauber@scylladb.com>, 2020-01-30 22:41:58 -0500, , io_desc move destroy logic inside derived class right see io_desc path delete queue work way creates unique pointer release pointer move responsability deleting completion event however try make io_desc generic always case maybe come fixed list maybe member inside structure move delete logic queue derived class responsible managing object lifetime change also make destroyer non virtual protected signed glauber costa glauber scylladb.com,,
1494,1f5dcc0e55fc592ed13c7e3ddb0cd014ba52033a,lauber Costa <glauber@scylladb.com>, 2020-01-20 12:50:21 -0500, , core remove io_event mention upper layer interface currently work exposing io_event return value linux async api layer high read write_dma mechanism initiate async linux like io_uring work different structure patch change interface work ssize_t type long possible converting size_t exception handled usage io_event left implementation detail subsystem signed glauber costa glauber scylladb.com,,
1495,801fac54bc97486167e036da79ef6a6578b7c1ab,lauber Costa <glauber@scylladb.com>, 2020-01-30 22:40:03 -0500, , move io_desc.hh outside src core want use pollable_fd.hh move include seastar core internal signed glauber costa glauber scylladb.com,,
1496,7bf5264db6afb773e4b3d2c9cde5fe1d1f14863c,afael vila de Espndola <espindola@scylladb.com>, 2020-02-03 10:59:02 -0800, , core make final avoid clang warning destroying type virtual function non virtual destructor signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1497,cfde9725e3ec59b22652d37161790749f60ef9e2,afael vila de Espndola <espindola@scylladb.com>, 2020-02-03 10:59:03 -0800, , io_tester remove unused lambda capture signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1498,30185fd901275d354091312b876b891d65a09491,enny Halevy <bhalevy@scylladb.com>, 2020-02-03 08:38:04 +0200, , sstring resize nulterminate downsizing add unit test fails without fix signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com message bhalevy scylladb.com,,
1499,90a54745ff688a77c3b83761b4d022455914d819,lauber Costa <glauber@scylladb.com>, 2019-12-19 17:40:06 -0500, , core remove iocb reference dispatcher async mechanism relies linux async interface turn relies sending iocbs kernel iocbs ingrained interface way write_dma read_dma function already aware however interface like io_uring rely different data structure account encapsulate information like file descriptor address size seastar structure transform iocbs lowest level already know interface use follow patch thing io_event structure signed glauber costa glauber scylladb.com,,
1500,885f7239cfb892c083aa8f8ad6235142c07e28f2,vi Kivity <avi@scylladb.com>, 2020-02-03 15:55:04 +0200, , reactor make open_flags dsync respect unsafe bypass fsync unsafe bypass fsync indicates user want bypass data safety set disable o_dsync fsyncs test unit dev message avi scylladb.com,,
1501,d28abee4afaaba9b16942da9d20c7df35b8a2ff2,mnon Heiman <amnon@scylladb.com>, 2020-02-03 14:48:51 +0200,723, json json_elements use double quote around element name json object set element name value used stream json object use double quote name patch replace single quote double quote fix 723 signed amnon heiman amnon scylladb.com message amnon scylladb.com,,
1502,76063db7d5733153c94ed2fcd23ac62c9abf5eea,vi Kivity <avi@scylladb.com>, 2020-02-03 15:41:00 +0200, , revert reactor make open_flags dsync respect unsafe bypass fsync reverts commit doe compile,,
1503,d869bc88c34e50782f6018d82cb4dc7c84fc7e32,omasz Grabiec <tgrabiec@scylladb.com>, 2020-02-03 12:31:07 +0100, , merge smp reduce allocation work_item process avi patchset reduces two allocation continuation work_item process taking advantage fact need restore task processed server shard making work item task removing need allocate may performance change previously work item scheduling group happened match reactor task would run poller instead task queue unconditionally run task queue improvement since task queue charged time processing take test unit dev debug,,
1504,0f904300ef3326794003165ab721d8e74ee1a799,vi Kivity <avi@scylladb.com>, 2020-02-02 12:49:52 +0200, , task optimize destruction making destructor non virtual task destruction responsibility task run_and_dispose usually call delete appropriate time since know concrete type task doe need virtal destructor note compiler already optimize see delete final class concrete type known making destructor non virtual also reduces vtable footprint also made protected reduce risk destruction base class pointer class implementing run_and_dispose marked final reduce chance misuse test unit dev message avi scylladb.com,,
1505,e33b4aa8fd71752e9466981a77542ddbc74450fe,vi Kivity <avi@scylladb.com>, 2020-02-03 12:31:52 +0200, , reactor make open_flags dsync respect unsafe bypass fsync unsafe bypass fsync indicates user want bypass data safety set disable o_dsync fsyncs message avi scylladb.com,,
1506,452d553772ce52af34af25ade6cb2e5922fc040b,vi Kivity <avi@scylladb.com>, 2020-02-03 00:09:59 +0200, , revert sstring resize nulterminate downsizing reverts commit fails sstring_test debug mode,,
1507,e90e876db2c72b1c5cf120ff608634ca80e851a3,vi Kivity <avi@scylladb.com>, 2020-02-03 00:07:22 +0200, , smp reindent work_item run_and_dispose seen lot history deserves reindentation functional change,,
1508,8ab75ac996960360e6ba4f8dd79312429764a000,vi Kivity <avi@scylladb.com>, 2020-02-02 23:58:39 +0200, , smp reduce continuation allocation smp submit_to allocates run continuation restore scheduling group original value redundant executing remote smp submit_to work since nothing chained continuation fire task correct scheduling group reactor schedule instead avoid allocating task making work_item task,,
1509,2398994aed55a01240712a161428fef9ac785de7,vi Kivity <avi@scylladb.com>, 2020-02-03 00:05:34 +0200, , test sleep turn 10ms enough time execute 2000 task debug mode increase sleep time,,
1510,8648ca515898882e239c41268742320c71604c78,vi Kivity <avi@scylladb.com>, 2020-02-02 19:24:39 +0200, , smp work_item remove redundant try catch futurator noexcept try catch redundant remove,,
1511,d172353e63507d7c974eaa9d649ce9ebd423fb6f,enny Halevy <bhalevy@scylladb.com>, 2020-02-02 15:45:23 +0200, , sstring resize nulterminate downsizing add unit test fails without fix signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
1512,837b238b224e84b6dceb02e946227410f974bd58,afael vila de Espndola <espindola@scylladb.com>, 2020-02-01 22:21:10 -0800, , test rename unix domain socket test consistency .cc file name test unix_domain consistency test signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1513,8c3c3b6990cdf31103836b97617d39a15bbbe74b,lauber Costa <glauber@scylladb.com>, 2020-01-30 10:47:30 -0500, , resource downgrade cgroupsv2 message recent patch seastar always complaing upon startup system cgroups system debug level message signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1514,081015cfce99d383debdc9044e625f20872da364,vi Kivity <avi@scylladb.com>, 2020-01-30 17:39:07 +0200, , merge simplify stream subscription implementation rafael  bug fix already master left cleanup patch  espindola stream subscription http github.com espindola seastar stream use instead std function stream define small stream member function inline stream define subscription member function inline stream simplify stream listen stream use next_fn everywhere,,
1515,d7070039a67a5e54ca4ef4bc2df4d919c1d4d5c4,afael vila de Espndola <espindola@scylladb.com>, 2019-11-29 15:22:18 -0800, , stream use instead std function never copy may well offer flexibility user signed rafael vila esp ndola espindola scylladb.com,,
1516,30ae3decd77c6c5e02fc7838c111c2072586ea9f,afael vila de Espndola <espindola@scylladb.com>, 2019-11-29 14:45:10 -0800, , stream define small stream member function inline small enough readable inline signed rafael vila esp ndola espindola scylladb.com,,
1517,7fea7db5ac228261fe1710c85a7a5ecd7c1836e5,afael vila de Espndola <espindola@scylladb.com>, 2019-11-29 14:36:43 -0800, , stream define subscription member function inline also reorder bit simplify code signed rafael vila esp ndola espindola scylladb.com,,
1518,13c448008978200c09f10d43244f14f06bbcaf95,afael vila de Espndola <espindola@scylladb.com>, 2019-11-29 14:27:07 -0800, , stream simplify stream listen reason stream member function forward subscription member function forward back stream signed rafael vila esp ndola espindola scylladb.com,,
1519,91bc82ad832fcb2f3ae5d8569a25bf14ba6c0191,afael vila de Espndola <espindola@scylladb.com>, 2019-11-29 14:23:06 -0800, , stream use next_fn everywhere using next_fn type alias place others use everywhere signed rafael vila esp ndola espindola scylladb.com,,
1520,65980a9b303c777a4844320789c9aec1f5989570,lauber Costa <glauber@scylladb.com>, 2020-01-29 07:19:25 -0500, , io_tester fix fix lack file closing recently fixed io_tester lack closing file asserts fix perfect io_tester also dispatch cpu hog file object attached executing cpu hog io_tester crash end different reason attempt close file open signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1521,bdbce89efe09303d2ccefc6a0cc7295736ea9bc9,afael vila de Espndola <espindola@scylladb.com>, 2020-01-27 12:14:38 -0800, , cmake disable broken gcc warning warray bound gcc warray bound seems pretty broken http gcc.gnu.org bugzilla show_bug.cgi 93437 know nice way work around patch disables signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1522,44cf127ee98838e40a44519178fde7297ba3a6dc,otond Dnes <bdenes@scylladb.com>, 2020-01-28 15:45:21 +0200, , memory add helper enable heap profiling limited scope using raii safe embed signed botond bdenes scylladb.com message bdenes scylladb.com,,
1523,a091b5d58152996d7a52860dfe3876e2d1726a94,otond Dnes <bdenes@scylladb.com>, 2020-01-28 15:45:20 +0200, , build add switch enable heap profiling support patch add cmake flag configure.py flag heap_profiling also add additional logging give visibility whether heap profiling actually enabled disabled seastar compiled without heap profiling support warning logged advising flag set add heap profiling support signed botond bdenes scylladb.com message bdenes scylladb.com,,
1524,d6f3582c78cf8bf0e91968408a5b479d44d17696,lauber Costa <glauber@scylladb.com>, 2020-01-28 08:43:46 -0500, , io_tester abort end test recently made mandatory close file io_tester patched result abort every time test end close file fix signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1525,2c4e44549746e93e84146275fbe1f62f845cbb04,onen Friedman <rfriedma@redhat.com>, 2020-01-27 21:32:13 +0200, , resource clean cgroups version determination using proc self cgroup instead proc pid cgroup following pekka enberg suggestion authored pekka enberg penberg scylladb.com signed ronen friedman rfriedma redhat.com message rfriedma redhat.com,,
1526,1a496022aa013b7f0b43ca2eb34b2c307cabd85a,afael vila de Espndola <espindola@scylladb.com>, 2020-01-27 12:03:50 -0800,598, prometheus silence bogus gcc warning http server fix 598 signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1527,e3b24599a01f2531ee23894eff579796caaa9481,vi Kivity <avi@scylladb.com>, 2020-01-27 10:33:18 +0200, , update dpdk submodule dpdk 7c29bbc80 ... 71db32d74 avoid combining export dynamic linker option,,
1528,09e18cf1c32cfe47dcbd36792050fa11d7a504ce,onen Friedman <rfriedma@redhat.com>, 2020-01-27 08:13:58 +0200, , resource support cgroups determining effective cgroups limit cpu core memory failing locate cgroups data file locate parse coorresponding file signed ronen friedman rfriedma redhat.com message rfriedma redhat.com,,
1529,ab638cca913bbdd688ada1d7540873c0c7b60a69,afael vila de Espndola <espindola@scylladb.com>, 2020-01-26 17:16:22 -0800, , net use variable length array wstack usage warns case even saving allocation new version also work signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1530,8991513ea0961acd74bb74ba36af57424eacb1bb,otond Dnes <bdenes@scylladb.com>, 2020-01-23 10:34:53 +0200, , core memory.hh document make discoverable generated documentation moved cond internal heap profiling data consumable useful raw form provide link example way processing presenting human friendly way example downstream application scylla signed botond bdenes scylladb.com message bdenes scylladb.com,,
1531,3b3773fafd02251daa54ccba37b1dbd4066a03b6,vi Kivity <avi@scylladb.com>, 2020-01-26 12:08:53 +0200, , revert net use variable length array reverts commit fails build dialect gnu building cxx object cmakefiles seastar.dir src net failed cmakefiles seastar.dir src net usr lib64 ccache dfmt_shared include igen include src igen src std gnu wno maybe uninitialized wno error unused result fvisibility hidden undebug wall werror wno error deprecated declaration fconcepts cmakefiles seastar.dir src net cmakefiles seastar.dir src net cmakefiles seastar.dir src net src net distcc 3474108 error compile src net loki lzo failed src net function std string seastar const seastar socket_address src net error invalid conversion const char char fpermissive,,
1532,7ff3c732bb827818bb29eb52dd8fa8b36d9e7826,van Prisyazhnyy <ivan@scylladb.com>, 2019-12-17 19:12:53 +0200, , cmake fix pkgconfig boost deps library pkgconfig file libs variable directly injected command different version boost distros cmake may set different incompatible value component library variable pkgconfig expects contain final target library patch disables boost cmake cache force cmake findboost difference observed fedora cmake 3.14.5 boost 1.69.0 fc31 arch linux 5.4.2 arch1 cmake 3.16.1 boost 1.71.0 cmake boost may return boost_ component _library usr lib64 f31 boost filesystem arch signed ivan prisyazhnyy ivan scylladb.com message ivan scylladb.com,,
1533,950ba501e80b05b4f67ecb6372efe0aa92d88018,afael vila de Espndola <espindola@scylladb.com>, 2020-01-23 08:50:53 -0800, , thread avoid confusing comment switching value align stack byte abi mandate signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1534,8e04193977b87178be0e8680dc755e894053e7d9,nton Eidelman <anton@lightbitslabs.com>, 2020-01-23 14:39:41 -0800, , net posix stack fix allocator listening socket listen pas allocator server_sockets created therefore later _allocator socket used transport accept _allocator used default one affected connected socket produced accept slave shard called conn_q i.e connection accepted master shard pending accept present target slave shard socket enable method access base class member _allocator make protected signed anton eidelman anton message anton,,
1535,1b02eef000096e56d20417312257e9e1d00e437d,nton Eidelman <anton@lightbitslabs.com>, 2020-01-23 14:39:40 -0800, , net posix stack fix passing allocator new socket pas missing _allocator parameter ctor transport accept new connection received main thread shard server_socket transport accept three case possible socket created shard new socket created returned directly accept caller socket created different shard transport invoked target shard target shard already called accept socket_address caller future promise stored socket map creates socket fulfills promise accept call shard waiting yet enqueus connection conn_q multimap later transport accept called look pending connection socket_address conn_q socket created connection info returned accept caller case passed _allocator ctor case causing socket use default allocator fix add _allocator transport accept signed anton eidelman anton message anton,,
1536,7275d777e42287af81e2dda4e4e5ea9aeb366c4a,mnon Heiman <amnon@scylladb.com>, 2019-10-17 17:54:34 +0300, , stall_detector add counter stall detector report helpful know stall detected user could find patch add counter number reported stall time stall reported counter increase allow user monitor set alarm annotation graph identify stall detected signed amnon heiman amnon scylladb.com message amnon scylladb.com,,
1537,cddb7402be15a7e7319bebdc40604eb2b15d9603,vi Kivity <avi@scylladb.com>, 2020-01-26 11:23:48 +0200, , merge use variable length array rafael  would like use wstack usage scylla warns variable length array fortunately seastar easy remove  espindola avoid vla http github.com espindola seastar http use variable length array http move connection url_decode line net use variable length array test add test text representation,,
1538,76f8844af5a8b2055d995f93dd387e64f9f69b46,van Prisyazhnyy <ivan@scylladb.com>, 2020-01-25 14:50:07 +0200, , treewide fix minor issue reported clang clang friendly configuration configure.py disable gcc6 concept compiler clang compiler clang originates patch immanuel litzroth immanuel ... gmail.com message eaf00771 af80 421a 8f4b de164da1a8ea made compatible latest master reformatted correctly signed ivan prisyazhnyy ivan scylladb.com message ivan scylladb.com,,
1539,e6b6c2db3ca0e151d0d0dbb8fd0b926e2f121c10,afael vila de Espndola <espindola@scylladb.com>, 2020-01-24 13:08:29 -0800, , http use variable length array wstack usage warns case even saving allocation signed rafael vila esp ndola espindola scylladb.com,,
1540,9a3f4ebe6cff60765bcc9068687f848db0234886,afael vila de Espndola <espindola@scylladb.com>, 2020-01-24 13:06:02 -0800, , http move connection url_decode line signed rafael vila esp ndola espindola scylladb.com,,
1541,255ba91df684295d5745b4eb38326f1f4742876a,afael vila de Espndola <espindola@scylladb.com>, 2020-01-24 13:04:26 -0800, , net use variable length array wstack usage warns case even saving allocation signed rafael vila esp ndola espindola scylladb.com,,
1542,a474bd0da13870538ed882938378b062592c5bb8,afael vila de Espndola <espindola@scylladb.com>, 2020-01-24 14:02:44 -0800, , test add test text representation signed rafael vila esp ndola espindola scylladb.com,,
1543,b40604649b7c9d43e5f23b35ec6dce9459e98f41,afael vila de Espndola <espindola@scylladb.com>, 2020-01-22 22:45:01 -0800, , thread call mprotect make_stack reason delay move stack creation code function signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1544,210f67ae198656d4c9cd9ab6d5823f49821df5dc,afael vila de Espndola <espindola@scylladb.com>, 2020-01-22 22:45:00 -0800, , thread always allocate stack aligned_alloc found significant performance difference bit simpler aliging stack release build probably good thing signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1545,eec172d67401ecc54f1fd1c643bd26725615364e,afael vila de Espndola <espindola@scylladb.com>, 2020-01-22 22:44:59 -0800, , build make private used single .cc file seastar signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1546,eb9b9832b1d4b6ff3f4b8d01c8415d3bc1265996,afael vila de Espndola <espindola@scylladb.com>, 2020-01-22 22:44:58 -0800, , thread move code header also remove _stack_size member variable value object signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1547,147d50b10df0a4b19c3469c0af81bd380b7a146f,lexys Jacob <ultrabug@gmail.com>, 2020-01-22 16:46:53 +0100,5630, perftune.py use safe_load fix arbitrary code execution load method api tricked execute arbitrary code cve 2017 18342 use safe_load replacement fix ref scylladb scylla 5630 signed alexys jacob ultrabug gentoo.org message ultrabug gentoo.org,,
1548,5b204532031e408165b5cb4791e0a9698c1121dd,lexander Gallego <alex@vectorized.io>, 2020-01-08 18:08:40 -0800, , clang must namespaced explicit instantiation seastar internal must occur namespace internal signed alexander gallego alex vectorized.io message alex vectorized.io,,
1549,edb47dff58aa4f2fae2a2190e591fe6c193e3fe8,oah Watkins <noah@vectorized.io>, 2019-12-11 15:05:50 -0800, , test add expected failure version thread fixture add name count allows test express expected number failure count passed directly boost track thing signed noah watkins noah vectorized.io message noah vectorized.io,,
1550,a0c37a099f047a8da8095976032557b37e2ec742,afael vila de Espndola <espindola@scylladb.com>, 2020-01-21 13:31:05 -0800,718, enable stack guard dev build tested seastar test pas scylla test pas scylla test pas cflags added also tried reverting scylla see would catch stack overflow patch fixed unfortunately reason guard always one page 4kib function scylla 40kib frame compiled try improve followup patch ref 718 signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1551,f58ff802aa43f6661ad12156e20aa6d5fc28717c,ingxin Cheng <yingxin.cheng@intel.com>, 2020-01-21 11:14:17 +0800, , net posix introduce fixed add new policy fixed force server_socket accept fixed shard signed yingxin cheng yingxin.cheng intel.com message yingxin.cheng intel.com,,
1552,2e896ccdbfe2ba5a855f29c8d1509e8616199fa5,afael vila de Espndola <espindola@scylladb.com>, 2020-01-17 17:15:33 -0800, , stream move _next subscription stream one subscription stream might well keep data one place also fix crash included testcase signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1553,afc46681e5ee3f13baebaaa92520585aa9df6faf,adav Har'El <nyh@scylladb.com>, 2020-01-20 18:35:54 +0200, , json add move assignment type strangely move constructor move assignment make almost usable complex code suddenly get 1000 line error message try tell obfuscated way code tried move using assignment supported let add missing move assignment signed nadav har nyh scylladb.com message nyh scylladb.com,,
1554,36bca8458a53e38d2e5f897b0dcf439660d4ed8c,efu Chai <kchai@redhat.com>, 2020-01-06 17:36:57 +0800, , net check unsigned variabe otherwise gcc complains like src seastar src net posix stack.cc 291 warning comparison unsigned expression always false wtype limit 291 prefix_len prefix_len 128 src_prefix_len  signed kefu chai kchai redhat.com message tchaikov gmail.com,,
1555,8bd020c045d0867114189eab42d750e15b110ac7,efu Chai <kchai@redhat.com>, 2020-01-06 17:36:56 +0800, , stack add virtual destructor definition class virtual function signed kefu chai kchai redhat.com message tchaikov gmail.com,,
1556,63ef9d3ba627b8f03d42dfc84098587eebf6cb40,efu Chai <kchai@redhat.com>, 2020-01-06 17:36:55 +0800, , future json add end concept definition otherwise gcc complains like src seastar include seastar core future util.hh 649 error expected token 649  signed kefu chai kchai redhat.com message tchaikov gmail.com,,
1557,56f707c5e03a2debcdfc45cb17f7159019a15ce9,onen Friedman <rfriedma@redhat.com>, 2020-01-16 15:00:47 +0200, , fixing bug handling abort_accept abort_accept used least epoll backend try_accept abort intended accept call test added specific issue signed ronen friedman rfriedma redhat.com message rfriedma redhat.com,,
1558,40d592c37af4f70c51e9689f93cf460917930427,van Prisyazhnyy <ivan@scylladb.com>, 2020-01-18 18:19:11 +0200, , install dependencies.sh improve arch detect arch system may detected simpler checking etc arch release script ran root must clearly report state case aur incompatible root glibc 2.30 sys sdt.h systemtap include old container may contain glibc older enforce update one problem signature ensure fresh archlinux keyring pacman archlinux keyring pacman syyu aur installation require sudo sudoer makepkg doe work otherwise tested arch 5.4.2 arch1 docker archlinux signed ivan prisyazhnyy ivan scylladb.com message ivan scylladb.com,,
1559,96ccbbe5262bed6d50a2392f6a77e84a490503b2,afael vila de Espndola <espindola@scylladb.com>, 2020-01-14 17:45:53 -0800, , metric avoid copy unregistration functionality change signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1560,3f3e117de38275665feeb751b68c944f8f23c509,vi Kivity <avi@scylladb.com>, 2020-01-12 15:33:58 +0200, , memcached use std optional use compat optional instead generally available message avi scylladb.com,,
1561,d69c3cac12649cc370255b8ff622034817d7f669,avel Emelyanov <xemul@scylladb.com>, 2020-01-13 20:39:10 +0300, , reactor comment _backend assigned constructor body per rafael request signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
1562,4b4e65379f9f3111e9994c48fccc6cc6e01d0847,enny Halevy <bhalevy@scylladb.com>, 2020-01-09 19:34:38 +0200, , log restore log stdout backward compatibility restore log stdout option enable disable logging ostream output stream selected logger stream type option signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
1563,e12b5cac05d6c659c501b4eb63883f639657b619,afael vila de Espndola <espindola@scylladb.com>, 2020-01-12 16:36:45 -0800, , used_size.hh include missing header found scylla build signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1564,705f2b7be19e34e63b9f2da548aadc487a7100b7,afael vila de Espndola <espindola@scylladb.com>, 2020-01-12 15:41:12 -0800, , core move code reactor.cc future.cc new future.cc small hopefully already large enough justify existence specially code coming reactor.cc signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1565,00472a7059daa6e955a82abc2d97aa7a42a966dc,vi Kivity <avi@scylladb.com>, 2020-01-12 17:30:10 +0200, , future util move future util.cc moved reactor.cc even though natural place future util.cc already exists message avi scylladb.com,,
1566,bcb5cf3a8dca19be0e577ee4e3bcd246f949dce6,vi Kivity <avi@scylladb.com>, 2020-01-12 15:18:57 +0200, , task stop wrapping task unique_ptr since beginning wrapped task continuation unique_ptr exception safety safe however task created must executed destroyed freed since anything depends task run became even pronounced task resumable task task responsible reclamation dispose part task run_and_dispose make clear one rely unique_ptr task safe replace unique_ptr task plain task make_unique naked new call mark fact function happens exeception safe annotate noexcept note std move ing pointer clear call site changed use std exchange repeat do_until like using unique_ptr destroy task run_and_dispose unless moved changed plain delete do_with sometimes avoids running task still std make_unique commits running task call unique_ptr release reactor poller poller relied add_task called reactor finished running task due shutdown deleting task since reactor longer poller adjusted detect condition delete task avoid creating first place test unit dev debug message avi scylladb.com,,
1567,7773276e8b05cf5b3187bff8ff4cd5ae0e4c3f52,vi Kivity <avi@scylladb.com>, 2020-01-12 12:00:00 +0200,5524, merge setup timer signal handler backend constructor pavel  currently handler timer signal installed lazily first timer queued creates requrement order pollers i.e sig_poller must strictly one latter one _may_ add timer setup handler timer signal unblock whole stuff happens interrupt mode sig_poller exit block timer signal back problem known described comment near pollers however pollers registered instead queue registration task build set order pollers registration screwed problem unblocked exactly reblocked timer signal back observing quite jenkins debug test job set first renames confusing alarm_signal helper prepares reactor signal signal_handler early construction finally make timer sig handler get registered unblocked much earlier 1st timer queueing  ref scylladb scylla 5524 sigalarm handler http github.com xemul seastar reactor setup timer sighandler earlier reactor relax signal handle_signal dependency engine reactor rename alarm_signal,,
1568,4fccf3024b2089ced4bd943fb0f7c06562c04806,afael vila de Espndola <espindola@scylladb.com>, 2020-01-06 09:20:41 -0800, , future avoid branch future move constructor type trivial patch implement avi idea avoiding branch type trivial unconditionally copy byte small .text size win 0.26 41727716 41620404 small improvement duration smp m4g median improves 0.3 probably noise master median 148294.86 median absolute deviation 239.88 maximum 148680.51 minimum 147982.40 patch median 148719.30 median absolute deviation 220.59 maximum 149402.30 minimum 147956.24 signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1569,dd9ccdae83555e8f147e96bbca7bd0f7a7e48dab,afael vila de Espndola <espindola@scylladb.com>, 2020-01-06 09:20:40 -0800, , utils expose used_size utility used future next patch signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1570,a9827df9613ac941c298d9a97bd14fa8dd4b5c80,afael vila de Espndola <espindola@scylladb.com>, 2020-01-08 11:13:27 -0800, , stream call get_future early current implementation requires user call subscription done corresponding stream destroyed way guarantee happens patch get_future called subscription construction avoid problem included testcase crash without patch signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1571,dfbcceae1b0af4bdc451623d1da0be5774f9b5de,afael vila de Espndola <espindola@scylladb.com>, 2020-01-07 08:55:13 -0800, , future util move code .cc fast path use make sense move related code .cc file patch also move failed future slow path refactors code bit logic 0.42 improvement .text size 41735428 41560324 byte 2.2 improvement patch duration smp m4g master median 145075.59 median absolute deviation 194.48 maximum 145812.19 minimum 144769.14 patch median 148295.81 median absolute deviation 263.70 maximum 148639.72 minimum 146785.09 signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1572,7f92a6d7c8efa982eab59efc6a5a592e83b48226,avel Emelyanov <xemul@scylladb.com>, 2020-01-10 14:35:37 +0300, , reactor setup timer sighandler earlier earler mean backend constructor need shuffle bit particular _backend pointer initialization done contructor body let _signals default constructor take place also explicit blocking timer signal reactor constructor moved aio backend constructor needed strictly speaking blocking required even patch signal blocked smp configure reactor created let make reactor depend pre requirement order pollers longer matter mentioned comment removed also _timer_enabled longer needed signed pavel emelyanov xemul scylladb.com,,
1573,48409648ee535e247d70d0e4a8bccbe1b3b166d7,avel Emelyanov <xemul@scylladb.com>, 2020-01-10 14:20:50 +0300, , reactor relax signal handle_signal dependency engine next patch going call signal handle_signal helper early stage engine ._backend yet ready need make signal_handler constructor mess pointer question acheive convenient way make signal handler registration happen signal handle_signal also let factoring epoll aio backends respective call signed pavel emelyanov xemul scylladb.com,,
1574,e3b69e49f377ca662f7d2bb5abbf773bbcced9da,avel Emelyanov <xemul@scylladb.com>, 2020-01-10 14:37:35 +0300, , reactor rename alarm_signal alarm band name linux sigalrm signed pavel emelyanov xemul scylladb.com,,
1575,563c3ec850fc798c783b91fd50c21f1d28f1d6ee,afael vila de Espndola <espindola@scylladb.com>, 2020-01-07 13:45:05 -0800, , memcached log exception replaces storing future returned keep_doing signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1576,5fe98371eea4ddbf6470a90b0046a00b195f817a,afael vila de Espndola <espindola@scylladb.com>, 2020-01-02 20:22:33 -0800, , stream delete dead code function never defined signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1577,d38b6ed5ed7d3add28323a7ccf4c230b700cd2c8,afael vila de Espndola <espindola@scylladb.com>, 2020-01-06 12:15:00 -0800, , core turn pollable_fd simple proxy move pollable_fd member function leaf simple forwarding function pollable_fd decision using pollable_fd ownership api used signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1578,31c1b409a81e4799c64153ee910f7d2d02a6a508,vi Kivity <avi@scylladb.com>, 2020-01-05 17:43:13 +0200,713, merge log std cerr benny  write log message standard error default rather standard output two main reason std cerr unbuffered lose message program terminates abnormally e.g via segfault abort want leave stdout program fix 713  tag logger flush github.com bhalevy seastar logger change log stdout option enum logger deprecate treewide print error abort std cerr logger add set_ostream logger output std cerr default,,
1579,36cf5c5ff0a9f6a3cb418ee226ff3ac10c9c6ddb,afael vila de Espndola <espindola@scylladb.com>, 2019-12-31 11:47:21 -0800, , memcached fix use free shutdown patch memcached could hit user free shutdown since nothing waiting server shutdown continuing patch user free memory leak fix memcached test debug build signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1580,fea5557a6b3e1db2076db24926f9a1b31af2f4b4,enny Halevy <bhalevy@scylladb.com>, 2019-09-23 19:30:07 +0300, , logger change log stdout option enum select either none stdout stderr signed benny halevy bhalevy scylladb.com,,
1581,9fd3192f22e4144f653fd4de377a8f476b294275,enny Halevy <bhalevy@scylladb.com>, 2019-09-23 18:49:23 +0300, , logger deprecate introduce instead signed benny halevy bhalevy scylladb.com,,
1582,e0dc633ab45ecf5a08033ec680523115af261cbe,enny Halevy <bhalevy@scylladb.com>, 2019-09-01 18:52:14 +0300, , treewide print error abort std cerr belonged first place logger default ostream std cerr even appropriate signed benny halevy bhalevy scylladb.com,,
1583,3123dfafe6b00132ee50534c0595974519b3f567,enny Halevy <bhalevy@scylladb.com>, 2019-09-01 18:36:48 +0300, , logger add set_ostream allow user set logger output stream e.g std cout signed benny halevy bhalevy scylladb.com,,
1584,2930e095bc477430c0a6126b452b08b4d8a363ec,enny Halevy <bhalevy@scylladb.com>, 2019-09-01 18:32:56 +0300, , logger output std cerr default currently writing log message std cout unsafe message get lost program terminates abnormally segfault abort use std cerr instead default prevent std cerr unbuffered default signed benny halevy bhalevy scylladb.com,,
1585,8fd8568edb0941b3b2b0e7405a171089ad96df97,vi Kivity <avi@scylladb.com>, 2019-12-31 12:11:13 +0200,11, revert task stop wrapping task unique_ptr reverts commit introduces memory leak direct leak byte object allocated 0x7fb773b389d7 operator new unsigned long lib64 libasan.so.5 0x10f9d7 0x108f0d4 seastar reactor poller poller src core reactor.cc 2879 0x11c1e59 std experimental fundamentals_v1 _optional_base seastar reactor poller true _optional_base usr include experimental optional 288 0x118f2d7 std experimental fundamentals_v1 optional seastar reactor poller optional usr include experimental optional 491 0x108c5a5 seastar reactor run src core reactor.cc 2587 0xf1a822 seastar app_template run_deprecated int char std function void src core app template.cc 199 0xf1885d seastar app_template run int char std function seastar future int src core app template.cc 115 0xeb2735 operator src testing test_runner.cc 0xebb342 _m_invoke usr include bit std_function.h 300 0xf3d8b0 std function void operator const usr include bit std_function.h 690 0x1034c72 seastar posix_thread start_routine void src core posix.cc 0x7fb7738804e1 start_thread usr src debug glibc 2.30 g919af705ee nptl 479 reported rafael avila espindola espindola scylladb.com,,
1586,33406cfe146f19084c96b65c6fe3097e12ca3242,vi Kivity <avi@scylladb.com>, 2019-12-21 23:08:25 +0200, , task stop wrapping task unique_ptr since beginning wrapped task continuation unique_ptr exception safety safe however task created must executed destroyed freed since anything depends task run became even pronounced task resumable task task responsible reclamation dispose part task run_and_dispose make clear one rely unique_ptr task safe replace unique_ptr task plain task make_unique naked new call mark fact function happens exeception safe annotate noexcept note std move ing pointer clear call site changed use std exchange repeat do_until like using unique_ptr destroy task run_and_dispose unless moved changed plain delete test unit dev debug message avi scylladb.com,,
1587,9612a94b8a55e27601d381fbf7837430f695077b,liran Sinvani <eliransin@scylladb.com>, 2019-12-19 17:13:06 +0200, , http change exception formating generic seastar one beneficial get full context exception provide http translates exception http responce json ignored case nested exception always printed last exception patch make use seastars ability print exception log along type nested exception information signed eliran sinvani eliransin scylladb.com message eliransin scylladb.com,,
1588,0bde519638068bc313296e5037b56077632b02b9,vi Kivity <avi@scylladb.com>, 2019-12-19 14:14:48 +0200, , merge avoid call exception_ptr rafael  reduces .text section 1.4 42297972 41715364 byte crazy 568 kib used little calling exception_ptr  espindola exception copy http github.com espindola seastar future add set_exception take future add extern template future add future add take future pas rvalue reference future pas std exception_ptr future constructor,,
1589,89e801b373423b068b3a70e50b656348f549ade0,afael vila de Espndola <espindola@scylladb.com>, 2019-12-17 13:44:17 -0800, , future add set_exception take take advantage move constructor optimization avoids calling exception_ptr destructor moved value reduces number exception_ptr call instantiated future last call destructor might make sense move line requires careful benchmarking signed rafael vila esp ndola espindola scylladb.com,,
1590,dc28a5cdf0ca90047d49128b9abdafaa1f4d17e0,afael vila de Espndola <espindola@scylladb.com>, 2019-12-18 16:34:42 -0800, , future add extern template fairly common future type instantiate one place signed rafael vila esp ndola espindola scylladb.com,,
1591,e2b81a92bcd07f4a3fc1ef3e3bf492d99e753348,afael vila de Espndola <espindola@scylladb.com>, 2019-12-17 12:09:04 -0800, , future add future version std move std call line also move std exception_ptr destructor call offline signed rafael vila esp ndola espindola scylladb.com,,
1592,67590c82898d94bfaf3eba2851195ed8c44e4797,afael vila de Espndola <espindola@scylladb.com>, 2019-12-17 11:44:52 -0800, , future add take take advantage move constructor optimization avoids calling exception_ptr destructor moved value reduces number exception_ptr call instantiated future signed rafael vila esp ndola espindola scylladb.com,,
1593,31a8e65551e36c416daab6487b54f7ea395296ff,afael vila de Espndola <espindola@scylladb.com>, 2019-12-17 11:30:31 -0800, , future pas rvalue reference reduces number exception_ptr call instantiated future signed rafael vila esp ndola espindola scylladb.com,,
1594,6f2b2ec0b3cdc492044ef6745f6699b187df2c45,afael vila de Espndola <espindola@scylladb.com>, 2019-12-17 11:19:23 -0800, , future pas std exception_ptr future constructor reduces number exception_ptr call instantiated future signed rafael vila esp ndola espindola scylladb.com,,
1595,df9008c2cb65aa1b5d657a308c82cbc9d553a63e,enny Halevy <bhalevy@scylladb.com>, 2019-12-18 08:21:29 +0200, ," test fix core generation asan asan also need abort_on_error dump core error tested following patch diff git test unit alloc_test.cc test unit alloc_test.cc index 4f78f911 ac6c14a4 100644 test unit alloc_test.cc test unit alloc_test.cc 23,9 23,11 include seastar core memory.hh include seastar core reactor.hh include seastar core include seastar core sleep.hh include vector using namespace seastar using namespace std chrono_literals  ifndef 94,3 96,12  return    auto new int return seastar sleep 1ms delete .then  .then    signed benny halevy bhalevy scylladb.com acked rafael vila esp ndola espindola scylladb.com message bhalevy scylladb.com",,
1596,0525bbb08f3668bc7693103804e53954384c1c31,afael vila de Espndola <espindola@scylladb.com>, 2019-12-16 10:28:47 -0800, , future simplify move constructor bit cleaner two case exception fully independent gcc produce exactly code clang able merge two branch produce exactly code signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1597,86ee207e68e4668e73c0f883aca0deddea4df001,adoslaw Zarzynski <rzarzyns@redhat.com>, 2019-12-13 19:10:51 +0100, , future create temporary tuple future get signed radoslaw zarzynski rzarzyns redhat.com message 1576260651 17205 git send email rzarzyns redhat.com,,
1598,807ab2601f3e97ad5b447a280f4e60b59db972bc,adoslaw Zarzynski <rzarzyns@redhat.com>, 2019-12-13 19:10:50 +0100, , future instantiate new future future then_wrapped commit introduces value qualified variant then_wrapped create copy current future instance passing lambda instead dereferences also avoids checking detaching corresponding promise low implementation level following thing change renamed template get new useself parameter controlling whether copy dereference intermediary introduced avoid duplication erasure code among two variant then_wrapped commit incorporates change rafael avila espindola espindola scylladb.com posted seastar dev review process msg 87zhgqngoo.fsf espindo.la signed radoslaw zarzynski rzarzyns redhat.com message 1576260651 17205 git send email rzarzyns redhat.com,,
1599,4235765b9873ee259b4a3caa715eab179a16cb64,adoslaw Zarzynski <rzarzyns@redhat.com>, 2019-12-13 19:10:49 +0100, , future clean result handling then_wrapped change result parameter denoting return type entire then_wrapped function derivate return type func provided then_wrapped obtained passing type seastar futurize funcresult denotes raw non futurized return type func passing seastar futurize deferred commit incorporates change rafael avila espindola espindola scylladb.com posted seastar dev review process msg 87zhgqngoo.fsf espindo.la signed radoslaw zarzynski rzarzyns redhat.com message 1576260651 17205 git send email rzarzyns redhat.com,,
1600,e2537b0b909de3d0693607c9721a61bf7a54e4e9,vi Kivity <avi@scylladb.com>, 2019-12-15 18:46:24 +0200, , merge fix core dump asan enabled rafael  finally got sufficiently annoyed getting core dump debug build decided figure going wrong patch series fix issue found enables core generation test tested introducing segmentation fault running ctest checking core produced opening gdb pointed correct location  espindola asan core dump http github.com espindola seastar test enable core generation asan core use asan enabled core handle sigsegv asan enabled,,
1601,a799ab9eab956a202c58a646dbfeed085f09a2b2,afael vila de Espndola <espindola@scylladb.com>, 2019-12-12 11:21:08 -0800, , future move ignore base class depend signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1602,5b95c7da31f7b1709f9d6f1ff0eb33475b201fc2,afael vila de Espndola <espindola@scylladb.com>, 2019-12-12 11:21:07 -0800, , future delete ignore instead set state signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1603,f2e87a7d192693a0756dcf840becc87de27e6e6a,afael vila de Espndola <espindola@scylladb.com>, 2019-12-12 19:24:44 -0800, , test enable core generation asan work enable core file generation asan signed rafael vila esp ndola espindola scylladb.com,,
1604,e63e50f2e6a2ede957dcc350a43c19a19b62eab6,afael vila de Espndola <espindola@scylladb.com>, 2019-12-12 16:32:19 -0800, , core use asan enabled far tell manually allocate pthread stack two reason avoiding allocating one shard freeing another creating guard page neither important asan enabled using stack break asan core generation signed rafael vila esp ndola espindola scylladb.com,,
1605,deb584d29e5942df0b970e9fad617cffca889b0c,afael vila de Espndola <espindola@scylladb.com>, 2019-12-12 17:50:55 -0800, , core handle sigsegv asan enabled look like could allocate larger signal stack reason handle sigsegv asan signed rafael vila esp ndola espindola scylladb.com,,
1606,00da4c87600eb92e0c020e41f3bcacaf80e09de9,ekka Enberg <penberg@scylladb.com>, 2019-12-11 13:56:43 +0200, , merge reactor fix iocb pool underflow due unaccounted aio fsync avi  iocb pool _free_iocbs sized worst case queue 128 outstanding request fsync also consumes iocbs pool without reservation made usually matter fsyncs complete quickly pool hugely oversized common case uncommon case enospc thing clog underflow pool fix two part first patch prepares way extracting iocb pool data member new class second patch add semaphore new class adjusts caller underflow pool ref scylladb scylla 5443  tag aio iocb underflow http github.com avikivity seastar reactor fix iocb pool underflow due unaccounted aio fsync reactor extract iocb pool new class iocb_pool,,
1607,8011bd33bf2c9a1f108eb722c8cc4f55e5592be9,vi Kivity <avi@scylladb.com>, 2019-12-10 15:22:08 +0200, , reactor fix iocb pool underflow due unaccounted aio fsync iocb pool sized worst case queue 128 outstanding request fsync also consumes iocbs pool without reservation made usually matter fsyncs complete quickly pool hugely oversized common case uncommon case enospc thing clog underflow pool fix introducing semaphore guarding pool rare wait semaphore since usually io_queue mechanism limit request well pool capacity matter disk stall get filled fsync request ref scylladb scylla 5443,,
1608,8af661895332da61817510fe4b3afd61ee31a969,vi Kivity <avi@scylladb.com>, 2019-12-10 22:08:56 +0200, , reactor extract iocb pool new class iocb_pool iocb pool comprises aligned array iocbs stack free iocbs put class preparation enhancing pool semaphore,,
1609,5afae383247279c7c6126bb9bd251dcb3c794a04,van Prisyazhnyy <ivan@scylladb.com>, 2019-12-10 17:48:28 +0200, , install dependencies.sh fix arch dependency container may contain etc release install filesystem package needed remove systemtap stap std repo add fmt pkgconf python3 glibc container may glibc version 2.30 doe contain sys sdt.h required seastar part systemtap add noconfirm pacman tested arch 5.4.2 arch1 docker archlinux signed ivan prisyazhnyy ivan scylladb.com message ivan scylladb.com,,
1610,8733f8be8fc6977d7ae2fbf7d8d134c467034f8d,vi Kivity <avi@scylladb.com>, 2019-12-10 17:43:42 +0200,5228, merge rpc fix use free rpc teardown vs. rpc server message handling benny  commit proved insufficient seen http github.com scylladb scylla issue 5228 patchset replaces mechanism moving lw_shared_ptr rpc_handler around deferring destruction handler last user unregistered use important api change api extended returning future resolve handler longer use caller get future wait possible asynchronous user seastar configured unused result error discard future fail compile ref scylladb scylla 5228  tag fix rpc handler race github.com bhalevy seastar test rpc_test add rpc let return future test rpc_test_env track unregister handler test rpc_test add do_with_thread rpc_client test rpc_test fix indentation test rpc_test use sharded service test rpc_test introduce rpc_test_config test rpc_test return lambda rpc throw handler already exists test rpc_test test handler registration rpc protect get_handler introduce has_handler instead,,
1611,c50d7a68337bcbfc7037b75f5cab17b5b4ee6f3f,omasz Grabiec <tgrabiec@scylladb.com>, 2019-12-10 10:58:50 +0100, , merge testing improve observability abandoned failed future botond abandoned failed future future destroyed still holding unhandled exception almost certainly point bug yet currently way spot future testing see warning printed reactor warning easy miss considering amount output many test since presence future directly influence outcome test continuous integration also miss series attempt improve situation introducing counter failed future printing message end test future finally providing new flag fail abandoned failed future set cause test fail failed future,,
1612,fa84f6f5aed37ed41dcd12c939ef750c7986ceb3,enny Halevy <bhalevy@scylladb.com>, 2019-12-04 11:37:58 +0200, , test rpc_test add signed benny halevy bhalevy scylladb.com,,
1613,0763af3fae2952b8847b42452842d837924c8fbd,enny Halevy <bhalevy@scylladb.com>, 2019-11-19 07:25:18 +0200, , rpc let return future future set value shared rpc_handler released extends api previously returned void caller warned discarding returned future wait caller consider since may unsafe proceed could asynchronous user using handler close gate rpc_handler mark unregistered signed benny halevy bhalevy scylladb.com,,
1614,ccb54dd3cc177d18c8a692f5c58acfc9d80922dc,enny Halevy <bhalevy@scylladb.com>, 2019-12-03 18:32:02 +0200, , test rpc_test_env track unregister handler signed benny halevy bhalevy scylladb.com,,
1615,c0bf1526ff0343ecd0feb23c7991235d0eca6847,enny Halevy <bhalevy@scylladb.com>, 2019-12-04 13:44:47 +0200, , test rpc_test add do_with_thread rpc_client make rpc protocol client stop around calling test function signed benny halevy bhalevy scylladb.com,,
1616,9cff99a350eff3a3eb2e7b3daa93130856acf486,enny Halevy <bhalevy@scylladb.com>, 2019-12-03 18:09:58 +0200, , test rpc_test fix indentation signed benny halevy bhalevy scylladb.com,,
1617,99446bdb76cc1fd218af820fb5a05a3bb65990a5,enny Halevy <bhalevy@scylladb.com>, 2019-12-02 09:04:16 +0200, , test rpc_test use sharded service share rpc_protocol registered rpc_handlers across cpu signed benny halevy bhalevy scylladb.com,,
1618,b8ccdf5eb377f1ff917f12a083fb8e6ba081a9fc,enny Halevy <bhalevy@scylladb.com>, 2019-12-08 19:40:46 +0200, , test rpc_test introduce rpc_test_config better override configuration default using named member signed benny halevy bhalevy scylladb.com,,
1619,8a4acb348d8a91a3f8f007b0876a1604b34b979a,enny Halevy <bhalevy@scylladb.com>, 2019-12-02 13:06:31 +0200, , test rpc_test return lambda otherwise test hang boost_require fails handler signed benny halevy bhalevy scylladb.com,,
1620,d75b73f416d397f50484457ef27ca9e90c330bc6,enny Halevy <bhalevy@scylladb.com>, 2019-11-18 10:03:04 +0200, , rpc throw handler already exists support registering rpc_handler one already registered signed benny halevy bhalevy scylladb.com,,
1621,759d2b1fa6b98dd03fc55c67458e214282d42170,enny Halevy <bhalevy@scylladb.com>, 2019-11-19 14:27:03 +0200, , test rpc_test test handler registration note unit test passing stage used test next patch series signed benny halevy bhalevy scylladb.com,,
1622,bd7f2fcc31c45f0bd1e6f8f29437ac18e7faa2b8,enny Halevy <bhalevy@scylladb.com>, 2019-12-09 12:30:21 +0200, , rpc protect get_handler introduce has_handler instead need expose get_handler public method expose has_handler method non intrusive instead testing signed benny halevy bhalevy scylladb.com,,
1623,626f956ef9df06199ac5838c2033e1034f054ccd,lauber Costa <glauber@scylladb.com>, 2019-12-09 09:58:01 -0500, , rework fair_queue tester commit atoning past sin reworking fair_queue test fair queue test number problem realized never fixed chief among dependency test timing see young naive fair queue building block time heavily exponential decay algorithm test however rewritten way lot dependent time test decay matter use timing construct one others defer later instead sleeping make sure chance exit reactor make test stable reliable despite time dependency test running fine problem practice long time however touch add new functionality started seeing scenario fail due timing new test instead going pain fine tuning best rework also taking opportunity modernize test according lately broad perspective change  using seastar async readability using future needed time dependent anymore control execution step exactly rely request moved inflight array enhancing test_env avoid exposing every single member changing convention use _member_names another advantage rework removing sleep opting lockstep model instead test becomes much faster  error detected real 0m55.604s user 0m4.223s sys 0m6.640s  error detected real 0m3.078s user 0m0.369s sys 0m0.369s signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1624,f7f7d9f426865d68f133daf4523e525badd154fb,afael vila de Espndola <espindola@scylladb.com>, 2019-11-29 16:32:13 -0800, , directory_test update use run instead run_deprecated signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1625,5c6cdc003c3c3bc84085625a64fe2eae4523504e,van Prisyazhnyy <ivan@scylladb.com>, 2019-12-06 17:09:05 +0200, , log support fmt 6.0 branch chrono.h log fmt broke backward compatibility moving everything time.h chrono.h chrono.h appeared since 5.3.0 intersection content time.h make fix __has_include ineffecient patch make src util log.cc include fmt core.h look version library detect right include signed ivan prisyazhnyy ivan scylladb.com message ivan scylladb.com,,
1626,e440e831c84270fc31695b6f8ceaaf2c31e05dae,afael vila de Espndola <espindola@scylladb.com>, 2019-12-02 17:37:03 -0800, , fail test ubsan error building ubsan actually failing test ubsan error tested introducing reference null test checking ctest failed signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1627,49c57dcf9672ff88496d7a9a59f4ffeb7374fdf7,otond Dnes <bdenes@scylladb.com>, 2019-12-03 13:35:58 +0200, , testing fail test abandoned failed future fail abandoned failed future flag set poor visibility one actively look test output unconditionally failing would cause test suddenly fail masse message printed unconditionally end failed future improve observability test print lot message fast easy miss usual warning,,
1628,7b9a2cbb45635300c2414f7e6be00133e921ed32,otond Dnes <bdenes@scylladb.com>, 2019-12-03 13:35:32 +0200, , testing propagate failure boost test framework gracefully currently way seastar framework propagate failure boost test framework ultimately back user running test executable broken call exit thread hosting app run_deprecated function latter returned non zero exit code lead segfault depending phase test application instead communicating failure yanking ground foot entire application test_runner return success run phase start finalize respectively test_runner start wait seastar app initialize return whether successful status code propagated back boost test framework returning instead unconditionally returning true mean seastar app failed initialize abort test process initialization phase attempt run test case test_runner finalize return exit code one provided seastar app run exit code considered entry_point returning back caller main boost unit_test unit_test_main test_runner finalize return non zero error code boost one preferred,,
1629,febaec892988c9be1f0612971b2ca1b1c1ccc0cb,otond Dnes <bdenes@scylladb.com>, 2019-12-02 14:41:49 +0200, , reactor add abandoned failed future counter count instance future containing unhandled exception destroyed already logging instance likely point bug application however logging provide enough visibility one actively monitor log observe happening provide counter allow better observability,,
1630,ecbbc41626bb189541b609d5267c3544901185e9,afael vila de Espndola <espindola@scylladb.com>, 2019-12-03 10:12:49 -0800, , future make couple asserts strict future_state one state invalid future result exception unavailable checking future includes invalid unavailable state function really want assert future available contains result exception signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1631,048a7aee6b884dcd0861ba214059893b23ebc3ef,afael vila de Espndola <espindola@scylladb.com>, 2019-12-03 12:13:28 -0800, , future move make_ready line clear marked always_inline done 8812504e4 commit talk future avoiding move think applies given make_ready doe one thing seems possible optimize inlining _task check least obviously known caller reduces size .text release build scylla 42575908 41968068 byte 1.4 result patch duration smp m4g improves bit probably noise master median 147162.53 median absolute deviation 193.05 maximum 147853.55 minimum 146723.50 patch median 147648.17 median absolute deviation 158.74 maximum 147889.10 minimum 146762.24 signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1632,11d50b4cf2786dbce9ae82cb4b8f2e28d7fcaa78,avel Emelyanov <xemul@scylladb.com>, 2019-12-03 16:50:12 +0300,5360, config allow zero rate io_properties file contains write_bandwidth write_iops seastar would crash trying divide zero generate_config ref scylladb scylla 5360 signed pavel emelyanov xemul scylladb.com message xemul scylladb.com,,
1633,589b24b3535714d24db875f6d7bb3a6207f09ef7,adoslaw Zarzynski <rzarzyns@redhat.com>, 2019-11-25 20:09:48 +0100, , future add new state avoid temporary signed radoslaw zarzynski rzarzyns redhat.com message 1574708990 31585 git send email rzarzyns redhat.com,,
1634,453f4a1ad8c58b8ccbbacac4188bbf4aae895e38,adoslaw Zarzynski <rzarzyns@redhat.com>, 2019-11-25 20:09:47 +0100, , future avoid temporary future_state signed radoslaw zarzynski rzarzyns redhat.com message 1574708990 31585 git send email rzarzyns redhat.com,,
1635,830a2ea570847f9bd906d9da1026717faefb284e,afael vila de Espndola <espindola@scylladb.com>, 2019-11-29 17:12:01 -0800, , future inline future abandoned function used contain code since 70af0447b call another defined .cc file given reason keep function noinline trivial patch inlines two caller signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1636,4948ad004615af4c83c56e018ade12da89dc2199,afael vila de Espndola <espindola@scylladb.com>, 2019-11-29 10:05:55 -0800, , avoid uninitialized warning empty type instead disabling warning avoid copying unused byte empty type signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1637,166061da3f27802bfe0ac2ca82d082414a481108,vi Kivity <avi@scylladb.com>, 2019-11-29 12:39:31 +0200, , install dependencies.sh add diffutils dpdk build system need cmp check cache supply diffutils add dependency message avi scylladb.com,,
1638,93845eb289ea666c29e8146b700b7c4063b1151b,vi Kivity <avi@scylladb.com>, 2019-11-28 16:09:22 +0200, , reactor replace std optional compat optional std optional available use compat optional instead dispatch either std optional std experimental optional depending available broken since 5b89e8fefa625ff message avi scylladb.com,,
1639,e635bbe23b76dd0576024a208ddd44f97725b9d5,avel Solodovnikov <pa.solodovnikov@scylladb.com>, 2019-11-28 17:58:42 +0300, , disable wuninitialized warning compiler gcc 9.2.1 fedora complains uninitialized _storage direct usage function example behavior triggered situation stateless lambda i.e trivially copyable used move initializing class instance work_dir scylla seastar include seastar util error anonymous .seastar internal internal storage direct used uninitialized function werror uninitialized _storage.direct _storage.direct clang compiles without error case disable bogus warning gcc signed pavel solodovnikov pa.solodovnikov scylladb.com message pa.solodovnikov scylladb.com,,
1640,8eb6a67a4bed7c9f60209ba3840c5e977c742517,otond Dnes <bdenes@scylladb.com>, 2019-11-28 16:34:50 +0200, , util backtrace.hh add missing print.hh include signed botond bdenes scylladb.com message bdenes scylladb.com,,
1641,5c25de907a0120ed467040672168fff2dbb890c4,afael vila de Espndola <espindola@scylladb.com>, 2019-11-27 18:45:10 -0800, , shared_future fix crash returned future time shared_future used check _peers.empty decide called then_wrapped original future would produce wrong answer returned future timed better check state original future found another inconsistency future future state calling fut.then would change invalid test needed call shared_future get_future crash instead signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1642,2888b5d8bdff85f9766e522ee1032fd8d8888ed8,adoslaw Zarzynski <rzarzyns@redhat.com>, 2019-11-15 00:58:48 +0100, ," future create temporary get_value seastar future_state get_value used hot path return std tuple value brings live temporary object seen following dump obtained crimson osd compiled gcc 8.1.0  gnu always_inline future_state ... noexcept _promise f160 test rdx rdx f163 f186 ceph osd opsexecuter execute_osd_op osdop 0x3c6 detach_promise   ... f186 mov rax 0x120 rbp static_assert std std tuple ... value type must throw destructible future_state noexcept gnu always_inline future_state future_state noexcept std move _u.st state result f18d cmpq 0x2 0x120 rbp f194 x.st state exception_min x.st else new std exception_ptr  x.st state invalid f195 movq 0x0 0xc8 rbp f19c static_assert std std tuple ... value type must throw destructible future_state noexcept gnu always_inline future_state future_state noexcept std move _u.st state result f1a0 f545 ceph osd opsexecuter execute_osd_op osdop 0x785 ... f545 lea 0x170 rbp r14 f54c lea 0x10 r13 rsi f550 mov r14 rdi f553 lea 0x120 rbp r15 f55a callq f55f ceph osd opsexecuter execute_osd_op osdop 0x79f f55f lea 0x8 r15 rdi f563 mov r14 rsi f566 callq f56b ceph osd opsexecuter execute_osd_op osdop 0x7ab f56b mov 0x170 rbp rdi f572 cmp r14 rdi f575 f59b ceph osd opsexecuter execute_osd_op osdop 0x7db f577 nopw 0x0 rax rax,1  fragment starting f545 relocation demangling  8587b5 lea 0x170 rbp r14 8587bc lea 0x10 r13 rsi 8587c0 mov r14 rdi 8587c3 lea 0x120 rbp r15 8587ca callq b8f220 ceph buffer v14_2_0 list list ceph buffer v14_2_0 list 8587cf lea 0x8 r15 rdi 8587d3 mov r14 rsi 8587d6 callq b8f220 ceph buffer v14_2_0 list list ceph buffer v14_2_0 list  signed radoslaw zarzynski rzarzyns redhat.com message 1573775931 12826 git send email rzarzyns redhat.com",,
1643,5506e082cdf3d1ab232cd24295340ce6b7ceac3c,lauber Costa <glauber@scylladb.com>, 2019-11-22 10:48:10 -0500, , reactor lower default stall threshold 200ms historically stall detector threshold set introduced afraid lower value would spam log much set almost impossible hit significant stall event rare saw past two year wrong bill gate said 640k ought enough everybody stall common happen craziest reason come anywhere platform evolved one main tool debugging latency issue show user environment default however make blind occurrence mean still bad order hundred millisecond unless explicitly search event hard reproduce may late context scylla advocating lower stall threshold long scylla specific ask considered adding machinery allow application override seastar default like knob like task quota however upon consideration argue seastar application would benefit lower default increased visibility blocking event one main source false positive external application stealing time reactor recently fixed avi better time lower threshold usher new era lower predictable latency fixing stall seastar scylla year left let fix log activity increase let look eye say conviction belong let start aware signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1644,5b89e8fefa625ffcc4ba2a1e737539ab9ea064c0,afael vila de Espndola <espindola@scylladb.com>, 2019-11-22 10:56:32 -0800, , reactor simplify network initialization currently network initialization bit convoluted create future call set_value promise avoid replacing optional future signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1645,f92e046d5b0cb4104fc275e77f7a62cde5f4d09f,afael vila de Espndola <espindola@scylladb.com>, 2019-11-21 12:31:21 -0800, , reactor replace std function place copy function anyway using std function extra constraint user patch replaces std function reactor.hh case copy done signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1646,f9ca80a1ee79e31f18b856ab40e274def1d9e16f,afael vila de Espndola <espindola@scylladb.com>, 2019-11-20 17:21:19 -0800, , future avoid extra move mode need move future  signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1647,cfb20c519b57ff61bfcf690f16654cc4cc7e0d15,alle Wilund <calle@scylladb.com>, 2019-11-20 15:58:49 +0000,704, inet_address make inet_address operator ignore scope fix 704 inet_address typically used client apps esp certain database apps achieve full transparent behaviour ignore scope part address comparison based apps serialization address comparing different host note adding scope serialization case option since scope relevant different host thus considered serialization transient however serialized address compared local version scope compare different want make comparison ignore scope treat wholly local transient yet propagate bind etc work somewhat despicable behaviour consistent almighty jdk forefather address considered equal iff byte comprising length content scope part byte message calle scylladb.com,,
1648,6f0ef32514d0ec57b566bf8266e06422a8a5b258,vi Kivity <avi@scylladb.com>, 2019-11-14 14:43:07 +0200,4999, merge add named semaphore piotr  default semaphore exception bring along little context either semaphore broken timed order make debugging easier without introducing significant runtime cost notion named semaphore added named semaphore simply semaphore defined name present error bringing valuable context semaphore defined auto sem semaphore present following message break semaphore broken however named semaphore auto named_sem named_semaphore present message least debugging context semaphore broken much would really help pinpointing bug without inspect core dump series come test ensures proper error message indeed present named semaphore exception test unit dev ref http github.com scylladb scylla issue 4999  http github.com psarna seastar test add named_semaphore test case semaphore define named_semaphore core add named semaphore exception factory semaphore add based constructor semaphore make exception factory non static,,
1649,44dad6ba77b4da05e4179778d582f5766d05e089,iotr Sarna <sarna@scylladb.com>, 2019-11-13 09:30:51 +0100, , test add named_semaphore test case test case verifies named semaphore includes name exception message,,
1650,3a45815b06653644dd92c0739119a4b09e1bf836,iotr Sarna <sarna@scylladb.com>, 2019-11-13 09:26:31 +0100, , semaphore define named_semaphore simplicity instance basic_semaphore named exception factory typedefed named_semaphore,,
1651,59a6a47e8c4d57bf1610ba376bddad327525dcbf,iotr Sarna <sarna@scylladb.com>, 2019-11-13 09:07:12 +0100, , core add named semaphore exception factory factory provides easy way providing semaphore name error message e.g semaphore broken semaphore timed,,
1652,288b6044d8decac9230930b882fe58d128716c8d,afael vila de Espndola <espindola@scylladb.com>, 2019-11-13 16:57:22 -0800, , pas rvalue reference add_future save move non ready future signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1653,ff66c4ed726951ca29b1ae2f1fb43164602170e7,afael vila de Espndola <espindola@scylladb.com>, 2019-11-07 11:28:28 -0800, ," future pas rvalue move constructor normally cheap free reduces text size release scylla binary 1.015 time 42,771,588 42,105,540 byte thanks radoslaw zarzynski pointing direction signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com",,
1654,664a707da87b3ea3037c9bcca7a55fc34501f1df,iotr Sarna <sarna@scylladb.com>, 2019-11-13 09:25:40 +0100, , semaphore add based constructor constructor added order allow creating semaphore different instance exception factory represent exception factory type,,
1655,ae99a3ef1696209d077f40e9d3a851a231de2c1a,iotr Sarna <sarna@scylladb.com>, 2019-11-13 09:19:15 +0100, , semaphore make exception factory non static order prevent code bloat allow passing exception factory instance constructor parameter semaphore later factory longer assumed static function instead regular member function,,
1656,809b3ef875e7edb7c56643812dc8347ff9a82cee,avel Emelyanov <xemul@scylladb.com>, 2019-10-30 18:45:03 +0300, , dependency add libfmt dev debian one needed pas configure stage missing list signed pavel emelyanov xemul scylladb.com message f3pw1tvg mail.gmail.com,,
1657,9b311a5b37ad3a3943a5668d032f4c50153b86c2,avel Solodovnikov <pa.solodovnikov@scylladb.com>, 2019-10-30 16:44:47 +0300, , log fix logger behavior logging stdout syslog seastar logger really_do_log print_once lambda erroneously capture stringer array size ref cause second invocation log syslog output instead actual value argument format string signed pavel solodovnikov pa.solodovnikov scylladb.com message pa.solodovnikov scylladb.com,,
1658,b5e4fcd36df2bc18922f2727e42db7197f9d687c,adav Har'El <nyh@scylladb.com>, 2019-10-29 16:56:49 +0200, , readme.md list scylla among project using seastar readme.md growing list project using seastar think fair first project use scylla also appear list signed nadav har nyh scylladb.com message nyh scylladb.com,,
1659,75e189c6ba5c4a9e17432932474fac27ae2fff66,alle Wilund <calle@scylladb.com>, 2019-10-29 11:13:24 +0000, , posix stack auto resolve ipv6 scope iff set link local dests similar java handle problem might good option seastar consumer tecnically decide completely bogus dest interface work sane use case message calle scylladb.com,,
1660,5c4c26c2e240f30324b795fefd3847420b4f9db5,avid Castillo <castillobgr@gmail.com>, 2019-10-28 21:50:30 -0500, , readme.md add redpanda smf project using seastar redpanda progress smf using seastar awesome result would cool list among project signed david castillo castillobgr gmail.com message castillobgr gmail.com,,
1661,2f20f76135aacfd9abca171b551a1427dc8c232f,afael vila de Espndola <espindola@scylladb.com>, 2019-10-28 20:18:35 -0700, , assume null terminated bb.get return char compared std string work null terminated signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1662,928af2a79bde939b33ec6d7ee8ca9a3d805c9d38,afael vila de Espndola <espindola@scylladb.com>, 2019-10-28 20:18:34 -0700, , socket_address use offsetof instead null pointer clang undefined behavior sanitizer complains old code signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1663,88ee73cdb6e434e1787420a511442be5fc628984,ao Nong <compiv@tutanota.com>, 2019-10-27 21:13:08 -0700, , readme add project using seastar section readme message 482820ba 4a50 4e96 8f19 384f4f8a7598,,
1664,40c06b02612dfdd79f8f3863fe23ecb1326f4230,adav Har'El <nyh@scylladb.com>, 2019-10-27 11:38:17 +0200, , adjustment glibc 2.30 hwloc 2.0 merged patch series avi kivity glibc 2.30 hwloc 2.0 curtesy fedora made incompatible change apis patchset adjusts seastar compatible remaining compatible older version avi kivity memory add gnu malloc attribute memalign memory conditionally add gnu alloc_size attribute memalign glibc 2.30 resource add support hwloc 2.0 src core memory.cc src core resource.cc file changed insertion deletion,,
1665,e6051a5679a8d14674b932b15afa81629ff88f2d,vi Kivity <avi@scylladb.com>, 2019-10-26 20:25:30 +0300, , resource add support hwloc 2.0 hwloc 2.0 made incompatible change gone replacement numa node longer ancestor processing unit instead uncle detail accessing node memory changed patch adjusts change remaining compatible hwloc 2.0 test run httpd numa machine version hwloc verify proc numa_maps show correct numa binding,,
1666,8ea42917f1e2aae704f42f1239703a134f868800,vi Kivity <avi@scylladb.com>, 2019-10-26 18:49:58 +0300, , memory conditionally add gnu alloc_size attribute memalign glibc 2.30 glibc 2.30 added alloc_size attribute memalign follow suit compiler complains mismatched attribute glibc declaration definition,,
1667,fd11234e9ddb4e611060b3f46b387fc5b9e0f3b8,vi Kivity <avi@scylladb.com>, 2019-10-26 18:47:23 +0300, , memory add gnu malloc attribute memalign fedora gcc complains attribute __libc_memalign match memalign humor,,
1668,319d3590d76077b94287f425e3822fb1a07087b1,ao Nong <compiv@tutanota.com>, 2019-10-23 20:40:40 -0700, , mark future failed const fix compiler error invoking shared_future failed message 0ca49a12 eade 417b a182 2383e2b610fc,,
1669,2963970f6bd238a03c6d1d928ee2c076d534bb8c,vi Kivity <avi@scylladb.com>, 2019-10-23 12:55:12 +0300, , merge ipv6 scope support network interface impl calle  add inet_address socket_address ipv6 scope awareness also add long awaited network interface abstraction network stack allows introspecting available network interface latter required support parsing textual ipv6 scope i.e fd00 eth0 give scope index interface eth0 also beware interface index linux simple first zero neatly hidden proc scopeid reported ifconfig value looking either interface name probably easier network interface abstraction loosely modeled java nics expose various property importantly address current impl doe handle interface change runtime api designed need arise  calle ipv6_scope github.com cloudius system seastar dev posix stack use local address dest family connecting small test network interface functionality inet_address allow scope ext parsed address string native_stack add network interface impl posix_stack add support net add concept network interface inet_address break string parsing code static helper inet_address socket_address introduce awareness ipv6 scope,,
1670,16a3b6ca00049b3e91a707b9306fe27310fc20a8,vi Kivity <avi@scylladb.com>, 2019-10-21 16:40:30 +0300, , copy uninitialized data direct path move operation always copy byte function instance occupy portion trigger uninitialized variable warning compiler notice initialized fewer byte copying warning doe indicate bug since extra data used still break build fix specializing direct move function according amount data initialized practice four specialization generated size add much bloat message avi scylladb.com,,
1671,453d531b09f9f385719f6d87646294bea71f0ea2,alle Wilund <calle@scylladb.com>, 2019-10-21 12:05:07 +0000,694, posix stack use local address dest family connecting fix 694 ... unless specified since socket created address family bind connect different one  make socket_address default constructed invalid af_unspec value fix stack impls recognize uninitialized socket_address salient point generate proper default remove local unset handling network_stack push stack impl  fixed typo comment  fix check comment unix_connect,,
1672,8243f666fd81188394da52431afc535a526175d8,vi Kivity <avi@scylladb.com>, 2019-10-21 17:46:20 +0300, , merge move smp smp queue reactor asia  series move smp smp queue code reactor smp.hh smp.cc reduces 500 line code reactor  move_smp_out http github.com asia seastar reactor move smp smp.hh reactor.hh reactor use this_shard_id instead engine .cpu_id smp smp add this_shard_id helper reactor add reactor move reactor move reactor.hh smp.hh reactor move friend smp.cc reactor move friend smp.hh reactor add smp.hh,,
1673,bdc59ce0a73e0550b25787abd3319a261d9ea1f1,adav Har'El <nyh@scylladb.com>, 2019-10-21 17:30:15 +0300, , consolidate posix socket implementation merged patch series avi kivity currently several socket type specialized tcp sctp unix domain former two via template latter via dedicated class huge amount bloat none serf performance purpose type already virtually dispatched kernel none difference fast path patchset eliminates move side class difference merges various implementation test unit dev manual httpd avi kivity net posix template posix net templatize net socket_defs define hash transport type net posix detemplatize net posix detemplatize net posix detemplatize net posix unify tcp sctp path net posix type erase transport type net posix add unix domain socket net posix generalize non inet family net posix fold unix domain socket general posix domain socket include seastar net posix stack.hh include seastar net socket_defs.hh src net posix stack.cc 363 file changed 151 insertion 286 deletion,,
1674,1f79d64a3cb232165f6bd37abd2e42edcfd61c7c,vi Kivity <avi@scylladb.com>, 2019-10-20 20:23:02 +0300, , net posix fold unix domain socket general posix domain socket eliminated difference unix domain socket inet inet6 socket merge involves merging connection queue since address family part map key get unix domain connection accepted inet socket vice versa,,
1675,611bb20bac9cd56e64ecabb692ee655e592b0066,vi Kivity <avi@scylladb.com>, 2019-10-20 20:16:28 +0300, , net posix generalize non inet family allow get unix domain socket operation,,
1676,88c93fb3861f781b038eb836e4f8356c13c8d5e5,vi Kivity <avi@scylladb.com>, 2019-10-20 20:06:54 +0300, , net posix add unix domain socket increase similarity unix domain inet socket unify,,
1677,52a55632e89d848501a77707c411129b600e596a,alle Wilund <calle@scylladb.com>, 2019-10-21 09:25:57 +0000, , small test network interface functionality,,
1678,0fcccfaebd9def722e8f5016defabbdefd19cc04,alle Wilund <calle@scylladb.com>, 2019-10-21 09:24:34 +0000, , inet_address allow scope ext parsed address string allows including scope network address string,,
1679,157851dec1d94da99f19705ee67baa95b8c953b1,alle Wilund <calle@scylladb.com>, 2019-10-21 09:23:53 +0000, , native_stack add network interface impl interesting completeness,,
1680,69bf1a485eee06a2402afd815ac76ba9f0dcf15a,alle Wilund <calle@scylladb.com>, 2019-10-21 09:19:17 +0000, , posix_stack add support query interface using rtlink note currectly done startup first query future enhancement would subscribe interface change via netlink sync async nightmare brings update base interface set change,,
1681,f8d06ec2f67bacaa6a8dfaf2db5cf4cfce8e6bed,alle Wilund <calle@scylladb.com>, 2019-10-21 09:09:43 +0000, , net add concept network interface add type queryable network_stack default return nothing note accessor return collection value intentional api eventually support interface added removed changed runtime i.e returned value represent snapshot view available interface,,
1682,b0a8b12941b603116411b79d03408efd68929ec2,alle Wilund <calle@scylladb.com>, 2019-10-21 09:08:30 +0000, , inet_address break string parsing code static helper remove duplicated code dns.cc,,
1683,3e479dc9e37780191ece9bc7d3fbd7e6f16ed61c,alle Wilund <calle@scylladb.com>, 2019-10-16 11:29:00 +0000, , inet_address socket_address introduce awareness ipv6 scope socket_address ensure fill field in6 struct really nice abstraction standpoint need include scope inet_address well conceptually need propagate via non port part address pair,,
1684,9bcf0cc2ae765d4456d0dcac31bb71b2f49b98ff,sias He <asias@scylladb.com>, 2019-10-19 23:53:06 +0800, , reactor move smp smp.hh reactor.hh patch smp related code moved smp.hh smp.cc reactor signed asia asia scylladb.com,,
1685,f93075a83b3e7c4b7b742aedbddc9800838ba894,sias He <asias@scylladb.com>, 2019-10-19 23:48:01 +0800, , reactor use this_shard_id instead engine .cpu_id smp soon move class smp smp.hh include reactor.hh defines engine call new helper submit_to signed asia asia scylladb.com,,
1686,42ba8c165cefb16f6f812f3fd23415d632520eca,sias He <asias@scylladb.com>, 2019-10-19 23:44:33 +0800, , smp add this_shard_id helper return shard_id current shard signed asia asia scylladb.com,,
1687,3652e4e658c7878e2fe09fe6dedad0c7343a3aff,sias He <asias@scylladb.com>, 2019-10-19 23:12:54 +0800, , reactor add signed asia asia scylladb.com,,
1688,fb874fbc3c99d77da3120cd7bedf1a9217c1deb1,sias He <asias@scylladb.com>, 2019-10-19 22:56:30 +0800, , reactor move signed asia asia scylladb.com,,
1689,c7a08c5e2559a6f70d7d178b1beae1d4d4c2fb4b,sias He <asias@scylladb.com>, 2019-10-15 10:42:59 +0800, , reactor move reactor.hh smp.hh signed asia asia scylladb.com,,
1690,5b51ef42c0fb4c7959f03e740045738dbdd1fe64,sias He <asias@scylladb.com>, 2019-10-15 10:09:29 +0800, , reactor move friend smp.cc helper introduced avoiding accessing reactor.cc static smp.cc signed asia asia scylladb.com,,
1691,47fbf99dfc1f46a59b584a3c5f50d6ca16079c08,sias He <asias@scylladb.com>, 2019-10-15 10:01:58 +0800, , reactor move friend smp.hh signed asia asia scylladb.com,,
1692,57f9aa9c9c60c9876d9a5380734e96186d150ea6,sias He <asias@scylladb.com>, 2019-10-15 09:33:24 +0800, , reactor add smp.hh move reactor.hh smp.hh smp.hh host smp related code signed asia asia scylladb.com,,
1693,2c2d8586ba029bbabc9e41612d035eed040eabe3,vi Kivity <avi@scylladb.com>, 2019-10-20 19:55:22 +0300, , net posix type erase transport type thing ipv4 ipv6 specific posix stack transport enum convert int third argument socket reuse class non socket,,
1694,c6a03ac95736a83521f4fdacd203f8f81fb38e30,vi Kivity <avi@scylladb.com>, 2019-10-20 19:34:52 +0300, , net posix unify tcp sctp path various implementation templatized two branch selects sctp tcp identical remove taking advantage fact transport enum map posix ipproto_ value,,
1695,00d47c3b0833767adc330ab524fafd09027712f0,vi Kivity <avi@scylladb.com>, 2019-10-20 19:20:19 +0300, , net posix detemplatize make transport member variable instead template parameter,,
1696,bd97032e6eda40543c4da5fcdbdcf35c8e2b7efc,vi Kivity <avi@scylladb.com>, 2019-10-20 19:20:19 +0300, , net posix detemplatize make transport member variable instead template parameter,,
1697,e0792b148dc6e16ae40696e122a1119ade3fa680,vi Kivity <avi@scylladb.com>, 2019-10-20 19:20:19 +0300, , net posix detemplatize make transport member variable instead template parameter since per transport connection queue becomes unified map key need include transport disambiguate incoming tcp connection 1.2.3.4 incoming sctp connection 1.2.3.4 key becomes tuple transport socket_address hash function key defined,,
1698,9f5bb63320bdc942495adf5f540f08892abcd557,vi Kivity <avi@scylladb.com>, 2019-10-20 19:18:24 +0300, , net socket_defs define hash transport type needed templating goot general,,
1699,6bd9204b128429720c10ee7bbc09b74b4097ab19,vi Kivity <avi@scylladb.com>, 2019-10-20 18:47:11 +0300, , posix net templatize determine _ops parameter via run time parameter instead compile time parameter,,
1700,87282186379aabe83ac167eea7b175dd91195866,vi Kivity <avi@scylladb.com>, 2019-10-20 18:33:51 +0300, , net posix template preparation templating posix stack template  template becomes abstract base class method become const caller store pointer instead relying type system,,
1701,6bcb17c96411d6ed7260e474a2c490838413ddca,vi Kivity <avi@scylladb.com>, 2019-10-17 14:47:43 +0300, , iotune crash sequential read test hitting eof sequential read test easily hit eof read file generated write bandwidth test two effect contribute hitting eof read bandwidth may greater write bandwidth test set run amount time hit eof write test may run shorter time read test even though allocate test time sequential writes test time sequential read divided per shard shard writes smp count total allocated time different file many shard amount data written shard drop dramatically fix wrapping around offset since happens rarely sequential nature test preserved ref scylladb scylla 5181 message avi scylladb.com,,
1702,4d397d6e5e34f045065662e80751e6c2df088944,ao Nong <compiv@tutanota.com>, 2019-10-15 21:48:53 -0700, , remove findboost.cmake install file message bffd8c0a 186d 4065 9a83 967ccf083cce,,
1703,0daad306994dd71e608377ee5c6d9d3605ead4e0,vi Kivity <avi@scylladb.com>, 2019-10-15 13:13:52 +0300, , merge move reactor backend reactor asia  patch move backend reactor.cc reduces 600 line code reactor.cc  reactor_backend http github.com asia seastar reactor move implementation reactor move implementation reactor move alarm_signal reactor.hh reactor move implementation reactor move linux aio.cc reactor move reactor move reactor move reactor pollfn poll.hh reactor move implentation io_poll_poller reactor move implentation reactor move implentation context reactor move reactor move reactor_backend,,
1704,9d0838e5fd4ccaee25be40d1ef7a6c2aecaa8561,sias He <asias@scylladb.com>, 2019-10-14 16:19:55 +0800, , fair_queue add fair_queue.cc move fair_queue implentation fair_queue.cc fair_queue.hh remove unnecessary header included fair_queue.hh signed asia asia scylladb.com message scylladb.com,,
1705,0ff85a0bff08520eff566f74e7f1e9a94668af47,sias He <asias@scylladb.com>, 2019-10-14 20:11:28 +0800, , reactor move implementation signed asia asia scylladb.com,,
1706,af2c8244a6f4925e77e1425060e7ccf0301d54e8,sias He <asias@scylladb.com>, 2019-10-14 20:02:44 +0800, , reactor move implementation signed asia asia scylladb.com,,
1707,d230d0c34676563138d318b769051237cfeed9f8,sias He <asias@scylladb.com>, 2019-10-14 20:00:35 +0800, , reactor move alarm_signal reactor.hh needed src core reactor.cc signed asia asia scylladb.com,,
1708,6c3415de507e3448aba587ac92f7acbb76f99198,sias He <asias@scylladb.com>, 2019-10-14 19:43:50 +0800, , reactor move implementation signed asia asia scylladb.com,,
1709,06b4fb6bfccd458fe03e994c6554313147e5110c,sias He <asias@scylladb.com>, 2019-10-14 19:32:14 +0800, , reactor move linux aio.cc signed asia asia scylladb.com,,
1710,709e20f335eb0bc0e91ae36dd7a0d3fc8bd41305,sias He <asias@scylladb.com>, 2019-10-14 17:40:33 +0800, , reactor move signed asia asia scylladb.com,,
1711,120b21ec67216f04a1d2f788b3279ac9c88366ce,sias He <asias@scylladb.com>, 2019-10-14 17:30:02 +0800, , reactor move using internal linux_abi instead linux_abi signed asia asia scylladb.com,,
1712,9876e1df0c61a563009aacfc5eda455e6c644dc3,sias He <asias@scylladb.com>, 2019-10-14 18:59:52 +0800, , reactor move reactor pollfn poll.hh needed src core soon signed asia asia scylladb.com,,
1713,b81e320c64f67266d462da6ae0e36306ec4eaf9f,sias He <asias@scylladb.com>, 2019-10-14 17:27:48 +0800, , reactor move implentation io_poll_poller preparation patch move reactor.cc signed asia asia scylladb.com,,
1714,cb54aa7b4d8cd27f09a98d4d29fee66b30779998,sias He <asias@scylladb.com>, 2019-10-14 17:22:37 +0800, , reactor move implentation preparation patch move reactor.cc signed asia asia scylladb.com,,
1715,ece4de9d717def11ea9ef3883ce829941ae166e8,sias He <asias@scylladb.com>, 2019-10-14 17:08:25 +0800, , reactor move implentation context preparation patch move reactor.cc signed asia asia scylladb.com,,
1716,7777a2311e99198488d51e9eba6f1d1474bd4a45,sias He <asias@scylladb.com>, 2019-10-14 16:29:49 +0800, , reactor move signed asia asia scylladb.com,,
1717,2500d88b21262e8a34d498e70a796ac6ab93d6a3,sias He <asias@scylladb.com>, 2019-10-14 16:24:39 +0800, , reactor move reactor_backend signed asia asia scylladb.com,,
1718,e888b1df9ce0f63140f9c98a861a74d80d1f9c08,sias He <asias@scylladb.com>, 2019-10-09 15:29:19 +0800, , sharded make map work mapper return future currently work mapper return non future doc claim work case test added make sure work future non future case message scylladb.com,,
1719,bf684aca02820b64aa2d10da2e7aede9c9b32c46,afael vila de Espndola <espindola@scylladb.com>, 2019-10-09 14:07:21 -0700,691, cmake remove findboost.cmake used include copy findboost.cmake allow using newer copy boost supported installed cmake copy getting old longer provide copy boost seems reasonable assume system cmake support system version boost quick check show fedora cmake 3.11 support boost version 1.68 fedora newer 3.14 support boost version 1.71 fix 691 signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1720,6ddd9688a0b3a02cf09b0e9c1f5475d5a4f171e9,adav Har'El <nyh@scylladb.com>, 2019-10-10 13:33:11 +0300, , reduce instruction cache footprint merged patch set avi kivity generates three thunk function encapsulates call move destroy call thunk necessarily specialized moving destroying sometimes exactly even dissimilar function patchset consolidates move destroy thunk possible first patch share empty function indirect function thunk second share thunk trivial type whose move memory copy whose destroy reduction modestly reduce instruction cache footprint seastar application result httpd mean heavy user text data dec hex filename 3121546 9017 53264 3183827 3094d3 httpd.p0 3120182 9017 53264 3182463 308f7f httpd.p1 3117542 9017 53264 3179823 30852f httpd.p2 almost kib text removed avi kivity share thunk among different signature share move destroy function trivial type include seastar util file changed insertion deletion,,
1721,04a1a0dd85b16d896104a21cb11fd7c9b41031ec,iotr Sarna <sarna@scylladb.com>, 2019-10-10 09:55:44 +0200, , doc add loop section tutorial following loop added example repeat do_until do_for_each message scylladb.com,,
1722,dd6ba198df41dbf1fc0fa8ec25f258e71c76b6b4,vi Kivity <avi@scylladb.com>, 2019-10-09 15:16:14 +0300, , share move destroy function trivial type often called trivial type lambda capture pointer usually type need specialized move destroy function share move destroy function adding shared version trivial_move trivial_destroy base class selecting version type trait tell,,
1723,e706230ec940ecbf340560bd4ed2706e3c8e0cc4,vi Kivity <avi@scylladb.com>, 2019-10-09 14:38:06 +0300, , share thunk among different signature moving destroying empty moving indirect exactly even function different signature normally tiny function would inlined designed type erasure referred vtable end creating one function per signature share function moving new base type ,,
1724,41fdf011e9e72e7befd32a9e48c874f89d68794e,vi Kivity <avi@scylladb.com>, 2019-10-09 11:49:40 +0300, , merge move file related code reactor asia series move file related code reactor.cc file.cc including posix_file_impl    file_impl file reduces line code reactor.cc split_file http github.com asia seastar reactor move file_impl file.cc reactor move file file.cc reactor move file.cc reactor move file.cc reactor move file.cc reactor move posix_file_impl file.cc reactor add src core thread_pool.hh reactor add src core reactor move file_handle file.cc,,
1725,42c823854e5aa49dd2a39db81c8c1b6fc5bd498f,sias He <asias@scylladb.com>, 2019-10-08 21:09:45 +0800, , reactor move file_impl file.cc signed asia asia scylladb.com,,
1726,5941b6f0cffe130c0c9b2df2028ee1135c51c8cc,sias He <asias@scylladb.com>, 2019-10-08 21:06:05 +0800, , reactor move file file.cc signed asia asia scylladb.com,,
1727,136246aae5abb85df7caefd7b738eb72b82b9a3c,sias He <asias@scylladb.com>, 2019-10-08 20:57:48 +0800, , reactor move file.cc signed asia asia scylladb.com,,
1728,8709e4c5e189da9a8482146a3651c64a2880ee58,sias He <asias@scylladb.com>, 2019-10-08 20:46:47 +0800, , reactor move file.cc signed asia asia scylladb.com,,
1729,056961458be14e1f72389d408e6a57b2fc95baec,sias He <asias@scylladb.com>, 2019-10-08 20:43:01 +0800, , reactor move file.cc signed asia asia scylladb.com,,
1730,5d20255b438f604746680542754e1a43a2929d28,sias He <asias@scylladb.com>, 2019-10-08 20:27:02 +0800, , reactor move posix_file_impl file.cc signed asia asia scylladb.com,,
1731,5dd7839d3183cb9169fbc0f98ca62ea366c50339,sias He <asias@scylladb.com>, 2019-10-08 20:02:07 +0800, , reactor add src core thread_pool.hh needed file.cc signed asia asia scylladb.com,,
1732,e50487bda7145d161fafcb64cf9f9884a50e1ec3,sias He <asias@scylladb.com>, 2019-10-08 19:54:48 +0800, , reactor add src core needed posix_file_impl file.cc signed asia asia scylladb.com,,
1733,4db713240100384ae52d015c0bc5071d00fba992,sias He <asias@scylladb.com>, 2019-10-08 18:54:45 +0800, , reactor move file_handle file.cc signed asia asia scylladb.com,,
1734,55e9a36209cad9c812641d69d556f653a566c9b1,vi Kivity <avi@scylladb.com>, 2019-10-08 14:07:55 +0300, , merge move io_queue code reactor asia  series move io_queue code reactor template reactor submit_io reactor submit_io_read reactor submit_io_write io_queue queue_request move io_desc separate file move io_queue io_queue.cc  split_io_queue http github.com asia seastar io_queue move io_queue code reactor reactor move io_desc separate file reactor template submit_io queue_request call,,
1735,dc11e3a6c9f9594c8659000296f618d47ef22d33,sias He <asias@scylladb.com>, 2019-10-08 17:14:13 +0800, , io_queue move io_queue code reactor reactor line code single file split io_queue code dedicated file reactor kill one fixme reactor.hh state include io_queue.hh end reactor.hh patch reactor.hh doe include io_queue.hh signed asia asia scylladb.com,,
1736,724583469e591601e2d7a0f84d8bf7e630db659e,sias He <asias@scylladb.com>, 2019-10-08 17:25:10 +0800, , reactor move io_desc separate file needed src core io_queue.cc src core reactor.cc need put reactor.hh signed asia asia scylladb.com,,
1737,e6de72e3d3f85699b1bbf6a2d58ddc3dbec1aaa2,sias He <asias@scylladb.com>, 2019-10-08 16:38:25 +0800, , reactor template submit_io queue_request call preparation patch moving io_queue code reactor template reactor submit_io reactor submit_io_read reactor submit_io_write io_queue queue_request call chain reactor fdatasync reactor submit_io reactor submit_io_read io_queue queue_request reactor submit_io_write io_queue queue_request io_queue queue_request reactor submit_io prepare_io signature signed asia asia scylladb.com,,
1738,cd38452dba8364b79e124d8c94348e2133362238,lexander Gallego <alex@vectorized.io>, 2019-10-05 07:17:23 -0700, , cmake expose lib move main package installed alongside seastar_testing message alex vectorized.io,,
1739,fbd81a005c280d21e617f21e1e4f2487badce972,otond Dnes <bdenes@scylladb.com>, 2019-08-14 14:03:11 +0300, , future class doc explain discarding future bad signed botond bdenes scylladb.com message bdenes scylladb.com,,
1740,1f68be436f00decd755ec8fb8917371cb32715de,liran Sinvani <eliransin@scylladb.com>, 2019-10-06 15:01:27 +0300, , scheduling add per scheduling group data support scheduling group per shard comparable thread sence given moment one task run per scheduling group per shard one basic utility per thread management pthread specific data support patch introduces similar mechanism inspired aformentiond utility allows creating key contains object primitive key configuration set key generated alocation occure every new scheduling group created constructor called exists data always created destroyed owning scheduling group context api inself contains two version global one support getting specified value current specified one addition object get specific value two api function implemented map_reduce value scheduling group reduce value scheduling group testing new unit test added test api testing unit test dev mode debug mode signed eliran sinvani eliransin scylladb.com message eliransin scylladb.com message eliransin scylladb.com,,
1741,4bd84425084e25bc957c5693b7a299739b7f039f,afael vila de Espndola <espindola@scylladb.com>, 2019-10-03 12:09:04 -0700, , build include dpdk single object libseastar.a always build dpdk always link statically combined fact dpdk requires whole archive link driver make seastar hard use one track dependency path lead seastar link dpdk patch turn dpdk single file libseastar.a change seastar dpdk enabled linked multiple time without causing duplicated symbol error signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1742,67a175aad51a71bf5502fff8561a0a71273067a6,leb Natapov <gleb@scylladb.com>, 2019-10-03 14:40:21 +0300, , sharded fix foreign_ptr move assignment default move assignment operator destroys stored pointer locally need write custom one reviewed botond bdenes scylladb.com message scylladb.com,,
1743,36a8aea7bd7e3eb92505c27e12840a112312fec4,avel Solodovnikov <pa.solodovnikov@scylladb.com>, 2019-10-02 12:15:45 +0300,688, build fix dpdk library linking pkg config file synchronize whole archive linker option usage pkg config script existing cmake script seastar fix 688 signed pavel solodovnikov pa.solodovnikov scylladb.com message scylladb.com,,
1744,aa5275b039492bcb88bcdfb0c6f2d4fb3be7691d,adav Har'El <nyh@scylladb.com>, 2019-10-02 12:21:53 +0300, , http server http using support merged patch series amnon heiman series add http support http server use http http server use credential calling listen method series also changed protocol name request server http protocol request set http http httpd.cc set protocol http using http http request.hh take protocol member parameter http http.hh add credential support,,
1745,6a6c1d8710ca328428a073c55ea6cba136a3ecf5,ejan Mircevski <dejan@scylladb.com>, 2019-09-11 09:39:31 -0400, , make output_stream blurb doxygen comprehensive description much used public class visible external documentation like others signed dejan mircevski dejan scylladb.com message dejan scylladb.com,,
1746,c21a7557f97b4d3f1a636d3b70c2b07da69e90b0,efu Chai <kchai@redhat.com>, 2019-09-25 20:36:58 +0800, , net socket set get _reuseaddr virtual socket using pimpl pattern derived class need mark getter setter reuseaddr virtual also would make method virtual mark destructor virtual well change also silence gcc warning like seastar include seastar net api.hh 212 error class seastar socket virtual function accessible non virtual destructor werror non virtual dtor 212 class socket  signed kefu chai kchai redhat.com message tchaikov gmail.com,,
1747,ab35c3679d9e80a66bbef61dca4eec1eb6db65a6,iotr Sarna <sarna@scylladb.com>, 2019-09-24 15:45:37 +0200, , iotune print verbose message case shutdown error unrecoverable shutdown error occur failed file closing destructor message current exception printed help debugging process message scylladb.com,,
1748,fe1594422722574b139785fbf83f70fc5e5c631d,iotr Sarna <sarna@scylladb.com>, 2019-09-24 15:45:36 +0200,4946, iotune close test file shutdown latest patch added assertion file properly closed destructors order prevent iotune failing assertion test file properly closed shutdown ref http github.com scylladb scylla issue 4946 message scylladb.com,,
1749,b56a8c5045ebabfdf8b845316da659fb0e72dd6e,onen Friedman <rfriedma@redhat.com>, 2019-09-23 17:19:01 +0300, , net add support unix domain socket support filesystem namespace abstract namespace socket server side support named ephemeral incoming connection unix domain address filesystem namespace actual length address must maintained separate data item strlen applicable signed ronen friedman rfriedma redhat.com message rfriedma redhat.com,,
1750,42478041cc7577d38b494cd446687f984f1bb253,afael vila de Espndola <espindola@scylladb.com>, 2019-09-18 14:21:25 -0700, , future warn promise set_exception corresponding future task older version seastar future would access state via pointer promise future destroyed promise still valid state set_exception would record exception would reported promise destructor since future always local state destroyed without creating task promise nowhere store exception since observable difference warning issue warning promise set_exception signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1751,e246c108b8ba27e828287c85b9a7dab6598324cf,omasz Grabiec <tgrabiec@scylladb.com>, 2019-09-23 17:35:33 +0200, , merge handle exception misc cleanup rafael dejan noticed handling exception patch series fix also simplifies code bit handle function return option instead future option,,
1752,e51a1a8ed955030774cf3ae406d725613e4a099b,vi Kivity <avi@scylladb.com>, 2019-09-21 19:49:44 +0300, , rpc introduce rpc tuple way move away variadic future rpc support returning variadic future remote procedure since deprecated patch introduces rpc tuple strong typedef std tuple encourage user return future rpc tuple instead deprecated future chose introduce rpc tuple instead using std tuple since may existing user std tuple rpc serialization using rpc tuple mean complete control serialized implementation serializes way multiple return value variadic future compatibilty std tuple_size std tuple_element extension point implemented rpc tuple structured binding work deduction guide also supplied general niceness message avi scylladb.com,,
1753,346eb61b78adad2e925f34ea20a8fb5290f476e3,mnon Heiman <amnon@scylladb.com>, 2019-09-23 17:18:57 +0300, , http httpd.cc set protocol http using http http server http protocol request set http signed amnon heiman amnon scylladb.com,,
1754,ed649e2790dda638325f48f38978d3ee0bb105b5,mnon Heiman <amnon@scylladb.com>, 2019-09-23 17:15:39 +0300, , http request.hh take protocol member parameter http http supported protocol name request indicates protocol used patch change protocol implementation use protocol name member instead hard coded protocol name allow modifiy protocol name needed signed amnon heiman amnon scylladb.com,,
1755,54f8caf272eef332d96527cd2d9f7021ed3385c2,mnon Heiman <amnon@scylladb.com>, 2018-11-14 16:28:30 +0200, , http http.hh add credential support patch add credential support http server setting credential http would use secured connection,,
1756,935abd3b228a62ced93fe3ebb53d34719833047b,afael vila de Espndola <espindola@scylladb.com>, 2019-09-18 08:19:39 -0700,683, shared_future warn broken future 27db48ece shared_future would warn broken patch reverts unintended change patch also add testcase producing warning nothing user could since shared_future private member shared_promise fix 683 signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1757,7cc0aa44bf9e5e5cfde7abc6e15de38520ef1dbe,afael vila de Espndola <espindola@scylladb.com>, 2019-09-18 19:48:56 -0700, , future replace last use quite bit simpler use futurator apply signed rafael vila esp ndola espindola scylladb.com,,
1758,433808c7f30332666716fb3284f088822fe4d62f,afael vila de Espndola <espindola@scylladb.com>, 2019-09-18 19:30:31 -0700, , future handle exception normally exception thrown continuation converted exceptional future convert follow pattern signed rafael vila esp ndola espindola scylladb.com,,
1759,1c36ff75f6c61cf51b0d3998d4314382e3f91cd8,afael vila de Espndola <espindola@scylladb.com>, 2019-09-18 18:11:22 -0700, , future support returning option place seastar accepts future patch exception required future signed rafael vila esp ndola espindola scylladb.com,,
1760,889d71f63400d6755f0b364301f80876afada73f,afael vila de Espndola <espindola@scylladb.com>, 2019-09-18 19:11:42 -0700, , future delete dead code never used anywhere signed rafael vila esp ndola espindola scylladb.com,,
1761,2a526bb120e57757a713b42e4351351b141db24f,vi Kivity <a...@scylladb.com>, 2019-09-11 12:23:56 +0300, , iotune fix exception handling case test file creation fails fails stop iotune_tests leading abort shaded sharded called fix setting stop earlier ref scylladb scylla 5001 message avi scylladb.com,,
1762,84d8e9fe9b98e6f44d27ae745696d90b9afb4382,adav Har'El <nyh@scylladb.com>, 2019-09-16 11:25:00 +0300, , use aio fsync available merged patch series avi kivity linux 4.18 support iocb_cmd_fsync allows submitting fsync fdatasync via aio interface allows bypass syscall worker thread may clogged may clog fsyncs slow reduces related hiccup particularly non enterprise spinning disk also enterprise disk file open longer need wait filesystem log flush avi kivity reactor privatize io_desc reactor virtualize io_desc reactor move fsync implementation posix_file_impl reactor aio add make_fdync_iocb reactor create poller unconditionally reactor implement aio fsync include seastar core linux aio.hh include seastar core reactor.hh src core reactor.cc 100 file changed insertion deletion,,
1763,51321531612d6ac0c2bca89aab99b268eb05ecef,vi Kivity <avi@scylladb.com>, 2019-09-16 10:50:52 +0300,4943, merge fix tcp connection bug add reuseaddr option client socket gleb  want able reuse local port faster rpc add reuseaddr option fix bug way ref scylladb scylla 4943  gleb reuseaddr github.com cloudius system seastar dev rpc add new rpc option enable local address reuse rpc client net add ability set reuseaddr option client socket net retry connection attempt eaddrnotavail net retry connection attempt requested port bound,,
1764,a21e8ddd90e70fbf1a6e82c18ed774ced9f300b8,leb Natapov <gleb@scylladb.com>, 2019-09-15 15:31:25 +0300, , rpc add new rpc option enable local address reuse rpc client,,
1765,b07010386e8d30c1f161b58a8c7308da7cddc64b,leb Natapov <gleb@scylladb.com>, 2019-09-10 16:04:41 +0300, , net add ability set reuseaddr option client socket,,
1766,c2e36d8b07fabf4c978550ab744b0657226b09b5,enny Halevy <bhalevy@scylladb.com>, 2019-09-15 13:33:22 +0300,682, lz4 use address following warning src rpc 161 warning int const char char int deprecated function deprecated unsafe consider using instead wdeprecated declaration http lz4 lz4 v1.8.3 doc lz4_manual.html function used bit faster though situation changed recent version fast sometimes faster moreover protected malformed input perform full validation compressed data consequence function longer recommended may deprecated future version remaining specificity decompress data without knowing compressed size fix 682 signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
1767,53d8131ad7cc8fcc11ab34c8d23aacd137fca00d,leb Natapov <gleb@scylladb.com>, 2019-09-15 10:31:33 +0300, , net retry connection attempt eaddrnotavail turn connect return eaddrnotavail bind called chosen local address used connect bind use different algorithm choose address need try another port error well since bind call succeeded socket bound next bind call fail einval solve move socket creation loop,,
1768,e09de36a16cb879764838fb466e1f19a0c537d2e,efu Chai <tchaikov@gmail.com>, 2019-08-16 18:24:57 +0800, , reactor document seastar remove_file explain also work empty directory signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
1769,c44674a708f0060a6f8678aee9b4a0ad797afef6,efu Chai <tchaikov@gmail.com>, 2019-08-16 18:24:56 +0800, , core file.hh remove redundant std move prevents copy elision see http cpp language copy_elision change silence warning wredundant move signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
1770,c984045d6dd4539de8f56da8e8725ab9e8bec6a3,efu Chai <tchaikov@gmail.com>, 2019-08-16 18:24:55 +0800, , core file sstring add const return value ignored compiler also silence gcc warning like seastar include seastar core sstring.hh 654 error type qualifier ignored function return type werror ignored qualifier const size_t str_len const first first const second second const tail ... tail  signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
1771,140b8fd11d56071090f3ecde701c98375f866714,efu Chai <tchaikov@gmail.com>, 2019-08-16 18:24:54 +0800, , http api_docs always call parent constructor api_docs derived json json_base copy constructor explicitly defined json json_base copy constructor disabled need initialize base class also silence warning like seastar include seastar http api_docs.hh error base class struct seastar json json_base explicitly initialized copy constructor werror extra api_docs const api_docs  signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
1772,68325342dfa362bb40e9d6f11e103eeb6ad348a7,leb Natapov <gleb@scylladb.com>, 2019-09-15 10:23:20 +0300, , net retry connection attempt requested port bound connect try find specific port function shard number connect run bind caller provide port current code run loop port provided busy happen port provided free port bind,,
1773,e73d0939fea2d7ad2744b47366b4f1efadaf16cd,vi Kivity <avi@scylladb.com>, 2019-09-14 20:11:50 +0300, , reactor implement aio fsync linux 4.18 later implement iocb_cmd_fsync fdatasync file via aio interface instead normal syscall interface result lower latency queue fdatasync syscall syscall thread may thing fsyncs executed parallel normal io_queue scheduler mechanism work fdatasync applies file currently volatile data flushing filesystem log flushing disk write cache case write also estimate much work queue outside scheduler test observe via strace force aio syscalls,,
1774,69088a13b48ba529a6b146d1a9fcb4bbb984d19c,vi Kivity <avi@scylladb.com>, 2019-09-14 20:10:14 +0300, , reactor create poller unconditionally since perform aio fsync outside normal io_queue mechanism prepared aio every shard mean create aio related pollers unconditionally use different method determine submitted aio kernel,,
1775,b55d3a827f5da5df42755e27e91f6c3b80095e98,vi Kivity <avi@scylladb.com>, 2019-09-14 19:49:25 +0300, , aio add make_fdync_iocb quite simple since fdsync accept parameter file descriptor,,
1776,d2e6e2d3c01b87674b7925271896fe922b8e4720,vi Kivity <avi@scylladb.com>, 2019-09-14 19:29:57 +0300, , reactor move fsync implementation posix_file_impl reactor cleaner evidenced fewer reference engine allows easier implementation aio fsync,,
1777,51ae214adc49866193e90c91bf894f3ca7b404f2,vi Kivity <avi@scylladb.com>, 2019-09-14 19:17:42 +0300, , reactor virtualize io_desc move read write especially scheduling related functionality derived class freeing use io_desc fsync without baggage,,
1778,248f438dd5dbb4660fa46cf84845e9d51fb9317b,vi Kivity <avi@scylladb.com>, 2019-09-14 19:06:08 +0300, , reactor privatize io_desc io_desc currently strongly tied serving read write request via scheduler order make able serve request like aio fsync reduce public footprint making private eliminating call site,,
1779,d70df2a007a3f91a4a33bb3b48cd293af3c9e3e8,ejan Mircevski <dejan@scylladb.com>, 2019-09-11 16:03:26 -0400, , add input_stream blurb include reminder sequentiality obvious user signed dejan mircevski dejan scylladb.com message dejan scylladb.com,,
1780,b3fb4aaab3976d850dc160bce97dee438da54dcf,vi Kivity <avi@scylladb.com>, 2019-09-09 15:14:17 +0300, , revert scheduling group adding per scheduling group data support reverts commit doe compile werror unused result failed cmakefiles seastar.dir src core reactor.cc.o usr lib64 ccache dfmt_shared home avi scylla maint seastar include igen include home avi scylla maint seastar src igen src std gnu wno maybe uninitialized werror unused result fvisibility hidden undebug wall werror wno error deprecated declaration wno error march westmere fconcepts cmakefiles seastar.dir src core reactor.cc.o cmakefiles seastar.dir src core reactor.cc.o.d cmakefiles seastar.dir src core reactor.cc.o home avi scylla maint seastar src core reactor.cc distcc 702 error compile home avi scylla maint seastar src core reactor.cc loki lzo failed home avi scylla maint seastar src core reactor.cc lambda function home avi scylla maint seastar src core reactor.cc 6246 error ignoring returned value type seastar future declared attribute nodiscard werror unused result home avi scylla maint seastar src core reactor.cc 6177 note call seastar future seastar reactor seastar declared file included home avi scylla maint seastar include seastar core seastar.hh home avi scylla maint seastar include seastar core reactor.hh home avi scylla maint seastar src core reactor.cc home avi scylla maint seastar include seastar core future.hh 837 note seastar future declared cc1plus warning treated error ninja build stopped subcommand failed,,
1781,6282ce09d6e2cd80c85f0cc1d8073cbfd07904f6,liran Sinvani <eliransin@scylladb.com>, 2019-09-09 10:10:18 +0300, , scheduling group adding per scheduling group data support scheduling group per shard comparable thread sence given moment one task run per scheduling group per shard one basic utility per thread management pthread specific data support patch introduces similar mechanism inspired aformentiond utility allows creating key contains object primitive key configuration set key generated alocation occure every new scheduling group created constructor called exists data always created destroyed owning scheduling group context api inself contains two version global one support getting specified value current specified one addition object get specific value two api function implemented map_reduce value scheduling group reduce value scheduling group testing new unit test added test api testing unit test dev mode debug mode signed eliran sinvani eliransin scylladb.com message eliransin scylladb.com,,
1782,ce60883ebaf90f20b5dd790e72117fa6a99a2395,leb Natapov <gleb@scylladb.com>, 2019-09-08 11:55:43 +0300, , rpc check two server created streaming message scylladb.com,,
1783,c9501788447ece82ff029487c57dbc2d6ee652a2,afael vila de Espndola <espindola@scylladb.com>, 2019-09-04 07:59:46 -0700,678, future really ignore exception patch 72d209bf7 unintended consequence longer ignoring exception patch restores previous behavior fix 678 signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1784,2e6d4fbd6502e50c849b361886834ee23c48f933,uarte Nunes <duarte@vectorized.io>, 2019-09-05 18:59:15 -0300, , iostream constify eof function signed duarte nunes duarte vectorized.io message duarte vectorized.io,,
1785,6d6990bb2bf837edd3e7f406ac2a1664b28dd184,vi Kivity <avi@scylladb.com>, 2019-09-05 20:03:02 +0300, , apply.hh add missing include size_t apply.hh size_t template parameter define header includes message avi scylladb.com,,
1786,fcf0aa7f6f6242238ad56ce064ab35436ae9773f,vi Kivity <avi@scylladb.com>, 2019-09-04 19:02:52 +0300, , add explicit yield since future get longer doe 7e2483a future get longer implicit yield cause thread spawned never yield demo longer work adding explicit yield make work message avi scylladb.com,,
1787,cc302c56c291e93da5e5ef8a41053ae99479008a,onen Friedman <rfriedma@redhat.com>, 2019-09-03 10:33:46 +0300, , fix buffer size used calling accept4 initialized size pointer instead set size buffer signed ronen friedman rfriedma redhat.com,,
1788,69f0834c83e0afc378549c9251a467dfa34542f3,vi Kivity <avi@scylladb.com>, 2019-08-31 19:21:42 +0300, , future util reduce allocation continuation currently requires continuation every non ready future process reduce resumable task allocating one task non ready continuation reusing non ready future furthermore future completed future may also completed need schedule task number task allocated reduced number task executed anywhere range depending run time characteristic message avi scylladb.com,,
1789,d85659731a6f1121d617ac02299dfec2eacb6118,liran Sinvani <eliransin@scylladb.com>, 2019-09-02 09:37:59 +0300, , rpc add static constexpr variable decleration cpp14 compatibility according cpp14 every variable need decleration inline static variable like cpp17 code case static constexpr initialized variable without decleration went radar release dev compilation debug mode however linkage failed undefined symbol since decleration made patch add missing decleration linkage debug mode pas test compilation debug release dev unit test debug releas dev signed eliran sinvani eliransin scylladb.com message eliransin scylladb.com,,
1790,cb7026c16fca265685cd6350db9cec3fc3c8f7f0,enny Halevy <bhalevy@scylladb.com>, 2019-08-28 00:47:39 +0300, , net dpdk suppress discarded future warning signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
1791,b3d03e3e0fa8358035bef2496cfe347f974a1411,vi Kivity <avi@scylladb.com>, 2019-08-26 15:44:58 +0300, , merge optimize promise then_wrapped rafael  small selection old patch series future objective series get_promise patch provides win series intermediate patch avoid coordinate promise call also make check broken future general report exception future state continuation shared_future patch included avoid new broken future warning checking future_state continuation would report improvement wall build time release scylla binary 1.06 time 16724.69s user 677.13s system 1729 cpu 46.29 total  16083.96s user 659.18s system 1758 cpu 52.23 total size text segment also 1.07 time 43268756 40512884 byte median reported duration smp m4g 1.04 time 135927.69 141212.69  espindola http github.com espindola seastar future add get_promise member function future convert plain destructor future move broken future checking future move code base class future delete promise_base move assignment shared_future avoid creating broken promise,,
1792,20bfd619559a4b3584660e0284ddc157e104f271,ichal Maslanka <michal@vectorized.io>, 2019-08-21 17:13:40 +0200, , reactor closing file used check direct_io supported introduction assertion checking file closed destructor check failing file used closed added code closing file destructing signed michal maslanka michal vectorized.io message michal vectorized.io,,
1793,b5b54aa70c3bb67eeae9f4071cd448450efd8c1c,afael vila de Espndola <espindola@scylladb.com>, 2019-04-23 13:54:52 -0700, , future add get_promise member function patch add get_promise member function future allows replacing promise auto fut pr.get_future  future fut auto fut.get_promise existing promise get_future still work fact default future constructor private used implement higher level feature one advantage promise returned already corresponding future therefore need future_state advantage save call promise move constructor creating inside lambda capture fut.get_promise ... patch also change then_impl use new function,,
1794,d305f29c4ab24c681c9a8a309f82129148e4d779,afael vila de Espndola <espindola@scylladb.com>, 2019-06-24 21:45:32 -0700, , future convert plain destructor worry accessing promise _local_state destroyed plain destructor signed rafael vila esp ndola espindola scylladb.com,,
1795,72d209bf7d8a3d9b2fb22b72511df4716973d5c6,afael vila de Espndola <espindola@scylladb.com>, 2019-06-24 18:33:28 -0700, , future move broken future checking split future promise check destructor signed rafael vila esp ndola espindola scylladb.com,,
1796,cc7a7bab2c0ffeaa94057dd8ff0ed4ac4fbc168a,afael vila de Espndola <espindola@scylladb.com>, 2019-06-24 18:09:25 -0700, , future move code base class function set_exception make_ready depend moved promise_base could get copydoc work left forwarding method signed rafael vila esp ndola espindola scylladb.com,,
1797,b678ef88e882bfb45391724da5dfea5f1fe00815,afael vila de Espndola <espindola@scylladb.com>, 2019-08-15 12:41:20 -0700, , future delete promise_base move assignment never move assign promise_base always full promise signed rafael vila esp ndola espindola scylladb.com,,
1798,27db48ece17bb52f886584e99807538f2d838e46,afael vila de Espndola <espindola@scylladb.com>, 2019-04-25 16:12:11 -0700, , shared_future avoid creating broken promise patch constructor shared_future call future then_wrapped net result constructing destructing shared_future cause broken future exception original future available creating broken future exception cause harm doe make harder track unexpected one patch then_wrapped called get_future late without returning proxy signed rafael vila esp ndola espindola scylladb.com,,
1799,4965177a40609e5817038f9ad3140d56c3261228,afael vila de Espndola <espindola@scylladb.com>, 2019-08-22 08:58:55 -0700, , future set_coroutine state _state updated future changed always future_state signed rafael vila esp ndola espindola scylladb.com reviewed botond bdenes scylladb.com message espindola scylladb.com,,
1800,3b0fd3d4f3158a20a2ec716c10ae1e257d514a39,afael vila de Espndola <espindola@scylladb.com>, 2019-08-22 08:58:54 -0700, , test perf perf_test.hh suppress discarded future warning if_constexpr_ still instantiates side clang would warn run function returned future avoids warning adding cast void get link error http bugs.llvm.org show_bug.cgi 43079 http gcc.gnu.org bugzilla show_bug.cgi 91516 signed rafael vila esp ndola espindola scylladb.com reviewed botond bdenes scylladb.com message espindola scylladb.com,,
1801,d1165f4ddc81a0f5d3ab3ae5ccaee2c501b25de8,vi Kivity <avi@scylladb.com>, 2019-08-25 17:28:14 +0300, , test rpc fix memory leak timeout wraparound test timeout wraparound test create safety continuation let test complete three second fails safety continuation detected leak debug mode abort continuation test succeeds leak sanitizer satisfied leaked message avi scylladb.com,,
1802,1ca9bf780ec035b3edfe653f16e9e251dbf40493,vi Kivity <avi@scylladb.com>, 2019-08-25 15:14:01 +0300, , revert future util reduce allocation continuation reverts commit fails debug mode,,
1803,d391cf95fafac87a8e6dc7894f58499acc259f88,vi Kivity <avi@scylladb.com>, 2019-08-25 00:04:53 +0300, , reactor fix build failure mode std lock_guard copy constructible doe guarantee copy elision requires copy constructor even compiler doe elide copy switch declaration style doe require copy constructor mode message avi scylladb.com,,
1804,2f089f63e79bf956c7608b2dc193df76545c444c,vi Kivity <avi@scylladb.com>, 2019-08-24 17:30:15 +0300, , future mark failed unlikely exception exceptional mark unlikely compiler since future failed find way failed via inline function also affected well code message avi scylladb.com,,
1805,951effa90ed47040827d0da17c7ee4045036249d,vi Kivity <avi@scylladb.com>, 2019-08-24 18:05:47 +0300, , future util reduce allocation continuation currently requires continuation every non ready future process reduce resumable task allocating one task non ready continuation reusing non ready future furthermore future completed future may also completed need schedule task number task allocated reduced number task executed anywhere range depending run time characteristic message avi scylladb.com,,
1806,1c9e4b11bec31f77850ea9f2ac2af0d9b1b14bae,vi Kivity <avi@scylladb.com>, 2019-08-24 18:05:46 +0300, , future utils generalize tied when_all quite generic move front file make name generic others enjoy estimation capability message avi scylladb.com,,
1807,fea271b0e69797838e6c9361da3a30cb6f85ac6c,ejan Mircevski <dejan@scylladb.com>, 2019-08-22 18:16:54 -0400, , output_stream add comment sequentiality explain method call must sequential signed dejan mircevski dejan scylladb.com message dejan scylladb.com,,
1808,f17d48138d5c159b351c2468de890002e013da7d,adav Har'El <nyh@scylladb.com>, 2019-08-21 14:26:18 +0300, , doc tutorial.md minor cleanup first section changed scylladb scylla removed spurious dot caused parser realize new section starting signed nadav har nyh scylladb.com message nyh scylladb.com,,
1809,4e2e66e0a26b60054c8b87660f06ef106935773c,iotr Sarna <sarna@scylladb.com>, 2019-08-20 16:40:19 +0200,4856, core fix race execution stage execution stage threshold value flush forced flush procedure take element front queue process return however exact order take reference front element queue launch queued function pop element queue unfortunately applied function inlined ready also trigger flush e.g queue full enter loop step effectively take element top moved value lead undefined behaviour fix moving value popping queue front first proceeding effectively change order thus eliding race tested instantiation bug scylladb issue http github.com scylladb scylla issue 4856 message scylladb.com,,
1810,b5cac2b52099c0abd10091a3e947172fcd827f7e,leb Natapov <gleb@scylladb.com>, 2019-08-20 09:50:13 +0300, , semaphore use semaphore clock type with_semaphore get_units current with_semaphore get_units variant excepts timeout parameter default clock type fix function semaphore clock message scylladb.com,,
1811,a90afbe037fd96770569a65b2fbbae6532880193,vi Kivity <avi@scylladb.com>, 2019-08-19 22:34:17 +0300, , future fix doxygen documentation promise cond directive closed causing promise documented fix adding endcond right place message avi scylladb.com,,
1812,70c51ad515eb7b67b10fcb5c1674b1dbe0c0589b,ichal Maslanka <michal@vectorized.io>, 2019-08-19 17:39:55 +0200, , sharded fixed detecting stop method building clang clang restrictive determining expression constexpr replace pointer simple int order relay sharded service pointer signed michal maslanka michal vectorized.io message michal vectorized.io,,
1813,ad943f8f91015942ed2b57af9d3df4328a9a58ea,ichal Maslanka <michal@vectorized.io>, 2019-08-19 14:16:32 +0200, , reactor fixed locking error line std lock_guard std mutex io_queue _register_lock doe hold lock scope lifetime creates immediately destroys lock_guard temporary variable signed michal maslanka michal vectorized.io message michal vectorized.io,,
1814,cfd1cf0be0e1ae312048b7c46752b8c49cf3bfcc,afael vila de Espndola <espindola@scylladb.com>, 2019-07-21 10:37:22 -0700, , assert closed closed risk task still running try use freed memory patch expand old _done flag enum track stage file asserts destructor file fully closed destructor anything fancier asserting since propagate future safely throw exception signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1815,db482434f0ff427a8b2e33b44b4eb511c4cf7689,adav Har'El <nyh@scylladb.com>, 2019-08-18 16:25:02 +0300,671, rpc correctly handle huge timeouts generally bad idea pas huge timeouts rpc nevertheless legal timeout given honored correctly turn bug timeout time_point max duration max symptom observed patch negative timeouts calculated receiver causing reply dropped connection send sender never receiving reply bug duration max timeout straightforward relative timeout converted absolute timeout sum timeout overflowed became negative straightforward solution patch cap sum time_point max cause bug time_point max timeout delicate clock different node perfectly synchronized sending node convert timeout absolute time relative time much time left receiving node convert back absolute time using clock due small clock difference time took send message resulting absolute time may slightly larger one sender already maximal integer time_point max sender calculation overflow receiver calculate timeout distance past instead distant future expected solution patch cap result sum time_point max patch also includes unit test case test fail patch succeed test time_point max requires loop overflow happen every time happens calculation sender receiver happen across millisecond boundary need loop many millisecond increase likelyhood catching condition experience 200 millisecond enough catch problem every time note test fail failure mode hung send test include extra code give long enough hang finish finish test normal failure fix 671 signed nadav har nyh scylladb.com message nyh scylladb.com,,
1816,afc5bbf51185572147b75bd6381caa7e72607d05,vi Kivity <avi@scylladb.com>, 2019-08-17 12:09:49 +0300, , merge handle discarded future suppress warning benny  make future nodiscard patchset fix couple case returning future suppresses warning case casting void comment added case future still discarded either explain discarding future desired add fixme comment code need examination test unit dev configure.py enable unused result error sudo build dev apps httpd httpd network stack native  tag discarded future http github.com bhalevy seastar test suppress discarded future warning demo suppress discarded future warning apps suppress discarded future warning apps httpd main discard future rpc suppress discarded future warning net suppress discarded future warning net native stack arp_learn use invoke_on_all net arp process_packet discard future core suppress discarded future warning reactor run use smp invoke_on_all reactor add smp,,
1817,0c8f5d3f21b101b6efb7a2c18790cb75ab81448d,enny Halevy <bhalevy@scylladb.com>, 2019-08-01 14:06:03 +0300, , test suppress discarded future warning cast void suppress warning signed benny halevy bhalevy scylladb.com,,
1818,4468d813c637a8b17885cae74243ede3c2b64fdf,enny Halevy <bhalevy@scylladb.com>, 2019-08-01 14:06:03 +0300, , demo suppress discarded future warning cast void suppress warning signed benny halevy bhalevy scylladb.com,,
1819,221bf08ec12064e787b16b3c039f097929ba9f0f,enny Halevy <bhalevy@scylladb.com>, 2019-08-01 14:06:03 +0300, , apps suppress discarded future warning cast void suppress warning signed benny halevy bhalevy scylladb.com,,
1820,b525a05657326ed98421c8b4fe0bb8c810169ef5,enny Halevy <bhalevy@scylladb.com>, 2019-08-05 19:29:28 +0300, , apps httpd main discard future signed benny halevy bhalevy scylladb.com,,
1821,f686ec2f55feca8be67b0a856926e274902366f8,enny Halevy <bhalevy@scylladb.com>, 2019-08-01 14:06:03 +0300, , rpc suppress discarded future warning cast void suppress warning signed benny halevy bhalevy scylladb.com,,
1822,2c4b8fc478b17a6bc090b7cb932bd98e59e591d3,enny Halevy <bhalevy@scylladb.com>, 2019-08-01 14:06:03 +0300, , net suppress discarded future warning cast void suppress warning signed benny halevy bhalevy scylladb.com,,
1823,028d7bef36ccae3dac291eec0be1e59ebfa0510b,enny Halevy <bhalevy@scylladb.com>, 2019-08-15 14:41:46 +0300, , net native stack arp_learn use invoke_on_all signed benny halevy bhalevy scylladb.com,,
1824,62ffe9801bca13a1db09d3812fd41fb0da5c9e96,enny Halevy <bhalevy@scylladb.com>, 2019-08-05 19:36:12 +0300, , net arp process_packet discard future signed benny halevy bhalevy scylladb.com,,
1825,e4a361cd4673fda455566df152cdecff84ea8d8b,enny Halevy <bhalevy@scylladb.com>, 2019-08-01 14:06:03 +0300, , core suppress discarded future warning cast void suppress warning signed benny halevy bhalevy scylladb.com,,
1826,2bfc0826f84e18ee212e147953f991fce023d8c5,enny Halevy <bhalevy@scylladb.com>, 2019-08-06 12:52:37 +0300, , reactor run use smp invoke_on_all signed benny halevy bhalevy scylladb.com,,
1827,5691e6a0c7facef249ec079e56e4fc7bd005067c,enny Halevy <bhalevy@scylladb.com>, 2019-08-06 12:17:15 +0300, , reactor add smp use reactor stop signed benny halevy bhalevy scylladb.com,,
1828,f048e5b5847a64714349b230aa9e5c39514afb02,adav Har'El <nyh@scylladb.com>, 2019-08-11 15:01:17 +0300, , remove variadic future seastar implementation merged patch series avi kivity seastar internals use variadic future eliciting deprecation warning compiler series replaces variadic future future tuples case last patch prevents compilation code variadic future interface currently rpc coroutines remain test interface changed test unit dev api level api level avi kivity net dhcp remove variadic future rpc remove variadic future implementation treewide build api level code unnecessarily include seastar core seastar.hh include seastar net api.hh include seastar net dhcp.hh include seastar net stack.hh include seastar net tcp stack.hh include seastar net tls.hh include seastar rpc rpc.hh src net dhcp.cc src net native stack.cc src net stack.cc src rpc rpc.cc file changed insertion deletion,,
1829,6925462342277923e2cf0ae5af3511e110fbb916,vi Kivity <avi@scylladb.com>, 2019-08-10 17:39:21 +0300, , treewide build api level code unnecessarily user requested api level need build older compatibility code save compile time warning,,
1830,c6d0ee2f03646f370abdabf9c8d75e881e00d39b,vi Kivity <avi@scylladb.com>, 2019-08-10 17:09:59 +0300, , rpc remove variadic future implementation rpc variadic future internally return decoded header data buffer switch future tuples instead would better use named structs intead tuples patch leaf expert instead satisified mechanical transformation,,
1831,bc4f413cc6e0e60eddd147ca1350243c1d65d754,vi Kivity <avi@scylladb.com>, 2019-08-10 16:37:12 +0300, , net dhcp remove variadic future dhcp variadic future bool lease bool indicates validity lease replace natural warningful future optional lease,,
1832,76c774a5318cbb118997a29b0137c9b9837496ee,vi Kivity <avi@scylladb.com>, 2019-08-10 16:19:10 +0300, , revert merge handle discarded future suppress warning benny reverts commit reversing change made break native network stack reproducer httpd network stack native longer sends dhcp request,,
1833,bad7a290b284b09f1c14d2706b7ddf0db963edcd,uarte Nunes <duarte@vectorized.io>, 2019-08-09 13:21:03 -0300, , io_queue forward declare smp class class smp defined reactor.hh included io_queue.hh signed duarte nunes duarte vectorized.io message duarte vectorized.io,,
1834,fe2b5b0c6baac6743f860f297ab1548bcf9424c0,vi Kivity <avi@scylladb.com>, 2019-08-08 16:21:35 +0300, , merge handle discarded future suppress warning benny  make future nodiscard patchset fix couple case returning future suppresses warning case casting void comment added case future still discarded either explain discarding future desired add fixme comment code need examination test unit dev debug configure.py enable unused result error  tag discarded future http github.com bhalevy seastar test suppress discarded future warning demo suppress discarded future warning apps suppress discarded future warning apps httpd main discard future rpc suppress discarded future warning net suppress discarded future warning net arp process_packet discard future net native stack use smp invoke_on_all others core suppress discarded future warning reactor run use smp invoke_on_all reactor add smp,,
1835,f7a8b5cabe1f41a5fecf47b403bbeb09c6de11a0,ejan Mircevski <dejan@scylladb.com>, 2019-08-08 08:49:01 -0400, , output_stream add close blurb explain close must called waited destroying stream add helpful suggestion assert fails done signed dejan mircevski dejan scylladb.com message dejan scylladb.com,,
1836,e522d4f7a73d9b2b6ddd398e4cd175222403fa18,enny Halevy <bhalevy@scylladb.com>, 2019-08-01 14:06:03 +0300, , test suppress discarded future warning cast void suppress warning signed benny halevy bhalevy scylladb.com,,
1837,0c1f9ef4872b7a26e220ced71aa44bef6fc45b21,enny Halevy <bhalevy@scylladb.com>, 2019-08-01 14:06:03 +0300, , demo suppress discarded future warning cast void suppress warning signed benny halevy bhalevy scylladb.com,,
1838,51af511a085fbc55ec91918ef7d7e752531b24e0,enny Halevy <bhalevy@scylladb.com>, 2019-08-01 14:06:03 +0300, , apps suppress discarded future warning cast void suppress warning signed benny halevy bhalevy scylladb.com,,
1839,5b4badef720e017f75e70f9cec92d9f3eb8e67c7,enny Halevy <bhalevy@scylladb.com>, 2019-08-05 19:29:28 +0300, , apps httpd main discard future signed benny halevy bhalevy scylladb.com,,
1840,2558c0150872493381784f6e3583c4c03ffd651d,enny Halevy <bhalevy@scylladb.com>, 2019-08-01 14:06:03 +0300, , rpc suppress discarded future warning cast void suppress warning signed benny halevy bhalevy scylladb.com,,
1841,e496a45dd38ca2a518dd40feff2db6c771038639,enny Halevy <bhalevy@scylladb.com>, 2019-08-01 14:06:03 +0300, , net suppress discarded future warning cast void suppress warning signed benny halevy bhalevy scylladb.com,,
1842,fb9c4f14265b3bad53495cb06b1d885e191afc8b,enny Halevy <bhalevy@scylladb.com>, 2019-08-05 19:36:12 +0300, , net arp process_packet discard future signed benny halevy bhalevy scylladb.com,,
1843,2f1d872847eb19354655b97d4acdf4b3d11cf4ea,enny Halevy <bhalevy@scylladb.com>, 2019-08-06 11:58:05 +0300, , net native stack use smp invoke_on_all others signed benny halevy bhalevy scylladb.com,,
1844,b09cb0b793b4814e2bddd20d5645272f872d785c,enny Halevy <bhalevy@scylladb.com>, 2019-08-01 14:06:03 +0300, , core suppress discarded future warning cast void suppress warning signed benny halevy bhalevy scylladb.com,,
1845,bcd6decd8bb5d7ae460446be3b12c3789f2c8dfd,enny Halevy <bhalevy@scylladb.com>, 2019-08-06 12:52:37 +0300, , reactor run use smp invoke_on_all signed benny halevy bhalevy scylladb.com,,
1846,4f4b056b0a581964c5a753e8443a7bc8dde0bb4e,enny Halevy <bhalevy@scylladb.com>, 2019-08-06 12:17:15 +0300, , reactor add smp use reactor stop signed benny halevy bhalevy scylladb.com,,
1847,ed608e3c9ed09e488a7395ed4692191ec4b35538,omasz Grabiec <tgrabiec@scylladb.com>, 2019-08-07 21:27:00 +0200, , core add ability abort ebadf enotsock typically symptom use free memory corruption program better catch error sooner later situation also dangerous since valid descriptor would land invalid access one intended operation operation may performed wrong file result corruption patch add ability seastar program enable abort error happen default abort disabled message 1565206020 28899 git send email tgrabiec scylladb.com,,
1848,ab0bac6aa72bb4894cce78ed7057dfd3d8f60386,vi Kivity <avi@scylladb.com>, 2019-08-08 14:21:09 +0300, , revert merge handle discarded future suppress warning benny reverts commit reversing change made cause seastar application never terminate,,
1849,6e5b15b99aa86f368a4cc11d0bfb787203247b8b,vi Kivity <avi@scylladb.com>, 2019-08-07 16:22:09 +0300, , merge handle discarded future suppress warning benny  make future nodiscard patchset fix couple case returning future suppresses warning case casting void comment added case future still discarded either explain discarding future desired add fixme comment code need examination test unit dev debug configure.py enable unused result error  tag discarded future http github.com bhalevy seastar test suppress discarded future warning demo suppress discarded future warning apps suppress discarded future warning apps httpd main discard future rpc suppress discarded future warning net suppress discarded future warning net arp process_packet discard future net native stack use smp invoke_on_all others core suppress discarded future warning reactor run use smp invoke_on_all reactor add smp,,
1850,beb827e980440e948f3eee7ba43ad2dafc2bf25b,enny Halevy <bhalevy@scylladb.com>, 2019-08-01 14:06:03 +0300, , test suppress discarded future warning cast void suppress warning signed benny halevy bhalevy scylladb.com,,
1851,b73abbf77a9beb7fedad86ed9c458a818a48c793,enny Halevy <bhalevy@scylladb.com>, 2019-08-01 14:06:03 +0300, , demo suppress discarded future warning cast void suppress warning signed benny halevy bhalevy scylladb.com,,
1852,660e91a12f7fd9e7a83c568239cd0c3c94e76f17,enny Halevy <bhalevy@scylladb.com>, 2019-08-01 14:06:03 +0300, , apps suppress discarded future warning cast void suppress warning signed benny halevy bhalevy scylladb.com,,
1853,a7c1880b23299fbfdfd9fd842b5f23ea4c19cdc0,enny Halevy <bhalevy@scylladb.com>, 2019-08-05 19:29:28 +0300, , apps httpd main discard future signed benny halevy bhalevy scylladb.com,,
1854,8d1e21cc9e0b5cadb02a936ed75f70c464ccb4ac,enny Halevy <bhalevy@scylladb.com>, 2019-08-01 14:06:03 +0300, , rpc suppress discarded future warning cast void suppress warning signed benny halevy bhalevy scylladb.com,,
1855,bc187a5edb8366c1e1acf7060c8be48148cd8907,enny Halevy <bhalevy@scylladb.com>, 2019-08-01 14:06:03 +0300, , net suppress discarded future warning cast void suppress warning signed benny halevy bhalevy scylladb.com,,
1856,44d92f2d2cc857835b67c7499cdeffe15fec5aa0,enny Halevy <bhalevy@scylladb.com>, 2019-08-05 19:36:12 +0300, , net arp process_packet discard future signed benny halevy bhalevy scylladb.com,,
1857,a3f61e7ace7cea76e499dd6052923d6341ac46af,enny Halevy <bhalevy@scylladb.com>, 2019-08-06 11:58:05 +0300, , net native stack use smp invoke_on_all others signed benny halevy bhalevy scylladb.com,,
1858,0a1e5d5fe98c4d93527c5c95c6dbab331e328c07,enny Halevy <bhalevy@scylladb.com>, 2019-08-01 14:06:03 +0300, , core suppress discarded future warning cast void suppress warning signed benny halevy bhalevy scylladb.com,,
1859,7dd2b90df7f6c1dfbfc73e319728995efc03eeb4,enny Halevy <bhalevy@scylladb.com>, 2019-08-06 12:52:37 +0300, , reactor run use smp invoke_on_all signed benny halevy bhalevy scylladb.com,,
1860,e6c078ae2210ad4acf98ec64dea23f2efda1a97b,enny Halevy <bhalevy@scylladb.com>, 2019-08-06 12:17:15 +0300, , reactor add smp use reactor stop signed benny halevy bhalevy scylladb.com,,
1861,ec4e0b94cbd12abc38d4adf93efc763634e1a07b,vi Kivity <avi@scylladb.com>, 2019-08-06 21:45:26 +0300, , reactor remove replace variadic future pollable_fd socket_address future tuple internal reactor function communicate variadic future since deprecated replace future tuple since internal bother strongly named type message avi scylladb.com,,
1862,a1cf07858b9886436b5bae4cc14cafd5a9b831f8,uarte Nunes <duarte@vectorized.io>, 2019-08-06 12:21:52 -0300, , merge return variadic future form server_socket accept avi  recently 0e631ecd6d77 deprecated variadic future view towards removing future however done server_socket accept return variadic future specifically future socket_address corresponding return value second parameter accept4 since server_socket lesser degree net public apis change patchset therefore take following approach create two new apis api_v1 server_socket api_v2 server_socket first equivalent existing api second return future accept_result instead variadic future via magic inline namespaces name server_socket aliased api_v1 server_socket i.e visible api change old api implemented term new api establish conversion old new api type allow changing type incrementally incrementally change provides user server_socket new type relying automatic conversion convert old type provide cmake configure.py option switch apis deciding whether api_v1 api_v2 inlined main seastar namespace end patchset seastar used either new old apis test unit dev manual test httpd built tested scylla old api  tag api variadic future http github.com avikivity seastar build allow selecing api_v1 api_v2 cmake configure.py test switch api_v2 server_socket httpd switch api_v2 server_socket demo switch api_v2 server_socket memcache switch api_v2 server_socket rpc switch variadic future free server_socket test loopback convert api_v2 server_socket net convert api_v2 server_socket net native_stack change native_stack api_v2 net posix_stack switch server_socket implementation api_v2 net add implicit bidirectional conversion api_v2 server_socket api_v1 server_socket net introduce api_v2 namespace without variadic future server_socket accept,,
1863,d199d27681cd0572fd135c00328db33337b7b191,vi Kivity <avi@scylladb.com>, 2019-08-04 21:53:03 +0300, , sharded support non cooperative service type sharded service template designed cooperating service class mind cooperation form providing stop method orderly shutdown sharded template also useful non cooperating service example std unordered_map std string broadcast shard sharded std unordered_map sstring sstring my_map my_map.start initializer .get ... my_map_type .get ... my_map.stop .get required service perform asynchronous operation usual plain data type user stop way currently compile service stop method required allow patch call stop detected message avi scylladb.com,,
1864,c61d371b683f94416915c2f125356307a1bd66ce,otond Dnes <bdenes@scylladb.com>, 2019-08-01 16:26:23 +0300, , shared_future silence warning discarded future comment already added fine actual silencing left signed botond bdenes scylladb.com message bdenes scylladb.com,,
1865,01648a28d4e3230e285b0b924e8944732c2695b8,amil Braun <kbraun@scylladb.com>, 2019-07-17 16:02:17 +0200, , fix backtrace suppression message message appears really suppressed backtraces also fix typo changing supressed suppressed ref scylladb scylla 4560 signed kamil braun kbraun scylladb.com message kbraun scylladb.com,,
1866,d90834443c8d037ce804bdf5b0ef79c5584ccd56,ao Nong <compiv@tutanota.com>, 2019-07-29 17:06:19 -0700, , print warning somaxconn lower backlog parameter used listen message 932bf553 36d4 44a5 a7c4 fa6d18fef7e2,,
1867,4b8c5d820a1f4afcc6ff5a6855a87160b0e873c1,vi Kivity <avi@scylladb.com>, 2019-07-31 15:44:55 +0300, , merge perftune.py introduce get cpu mask quiet vlad  introduce new execution mode similar get cpu mask full cpu set printed requested tuning possible current system compute cpu set turn zero  http github.com vladzcloudius seastar perftune.py introduce get cpu mask quiet parameter perftune.py introduce,,
1868,0432dc167193ec8fe9c8cd139e498c1cb6e9e9eb,alle Wilund <calle@scylladb.com>, 2019-07-16 14:44:23 +0000,665, seastar json2code handle ref usage nested object type properly fix 665 code generation script handle nested type ref instead type object initial dependency resolver doe causing crash trying define complex structure patch make type resolver operate recursively iff ref type encountered message calle scylladb.com,,
1869,5ce62e6e638aa3a8861f8b9c1b200e307d839672,otond Dnes <bdenes@scylladb.com>, 2019-07-31 14:39:12 +0300, , make future nodiscard spent yet several hour chasing bug caused discarded future decided time something patch make future nodiscard make compiler complain source location future returned function ignored complaint warning altough user option promote error via enable error unused result configure.py flag cmake option respectively intent allow downstream project transitional period fix codebase promote complaint error catch future violation spot site complaint suppressed via void contain comment explanation fine least fixme signed botond bdenes scylladb.com message bdenes scylladb.com,,
1870,fbd7d4a69d88ccffd61eadc7b0dd9a8feb4b1299,ao Nong <compiv@tutanota.com>, 2019-07-29 17:29:14 -0700, , allow pas listen_options http_server listen order improve performance httpd accepting large number  connection short time need set higher backlog commit allows pas listen_options contains listen_backlog option http_server listen message 276c9f5f 5588 47c4 9492 9304b2f1ff96,,
1871,70989f3cd665531057d61fa1027a5dbca2386546,ao Nong <compiv@tutanota.com>, 2019-07-29 18:50:52 -0700, , handle epollhup epollerr epoll explicitly documentation epollin epollout appear epollerr epollhup time safety handle epollerr epollhup explicitly message 2281ded4 ef5a 4ac4 8b2f 3cb8e51b3570,,
1872,2d391b88691803dd9e71d754ed0cd9053b1c071f,lad Zolotarov <vladz@scylladb.com>, 2019-07-29 15:15:40 -0400, , perftune.py introduce get cpu mask quiet parameter new parameter given perftune.py going print compute cpu set similarly get cpu mask would also print zero cpu set turn exit status going zero execution successful apart  get cpu mask would still print error return non zero exit status compute cpu set turn zero signed vlad zolotarov vladz scylladb.com,,
1873,85f608926a99aab8bcf4e84f22011a856f560353,lad Zolotarov <vladz@scylladb.com>, 2019-07-29 14:33:24 -0400, , perftune.py introduce special exception type thrown configuration parameter result zero compute cpu set signed vlad zolotarov vladz scylladb.com,,
1874,099517c3144898e9b887990d149fa0b47492aa1f,leb Natapov <gleb@scylladb.com>, 2019-07-28 16:13:25 +0300, , reactor fix false positive stall detector due large task queue current stall detector report stall random continuation polling disabled large task queue case stall detector originally introduces ea59ea90df2439c since report stall processed task counter kept growing broken 98630451a2b97ef since stopped update counter stall detector relying upon later removed logic together patch reintroduces logic check task processed doe report stall message scylladb.com,,
1875,49b5bf54c01d7f38aa2809b39679a7fe768903fd,vi Kivity <avi@scylladb.com>, 2019-07-28 16:16:39 +0300, , merge small asan related improvement rafael  trying debug memory corruption release branch spent way time trying figure crash turned running stack space release asan combination series introduces patch easy port debugging release branch  espindola asan fix http github.com espindola seastar allocate stack asan optimization define header fix,,
1876,f077d171a64c6cafffc82eeaa9d207e78b1d1610,vi Kivity <avi@scylladb.com>, 2019-07-27 19:41:31 +0300, , thread reduce allocation context switch currently allocate continuation switch back thread implicitly via make_task since task reused allocate task moreover allocate part thread_context use make context switch little expensive since task object already contains drop _attr member duplicate message avi scylladb.com,,
1877,c8eb38d7e449661d238f78ef028a29c6a5860ce5,vi Kivity <avi@scylladb.com>, 2019-07-27 19:29:03 +0300, , thread remove deprecated unit test class support machinery deprecated almost half year time remove recycle bit message avi scylladb.com,,
1878,c756a4980c64697ea5dabbd49653fc951e9e8d92,leb Natapov <gleb@scylladb.com>, 2019-07-28 12:09:58 +0300, , reactor make _polls non atomic reactor _polls variable atomic stall detector accessed another thread stall detector run thread access variable message gleb scylladb.com,,
1879,d1fc11d763dec8cc96b4412cdb82f3c21bbc1e50,leb Natapov <gleb@scylladb.com>, 2019-07-28 12:09:57 +0300, , reactor remove unused variable reactor longer used task queue  message gleb scylladb.com,,
1880,ee90e1f4536bd76036eb7559274724f199545075,vi Kivity <avi@scylladb.com>, 2019-07-27 17:18:33 +0300, , build allow selecing api_v1 api_v2 cmake configure.py define macro control api namespace inlined turn variable controlled cmake variable corresponding configure.py flag allows user migrate new api pace,,
1881,efd59966dddc7aab2d54ef65b4f58b8e0501aca1,vi Kivity <avi@scylladb.com>, 2019-07-27 17:39:11 +0300, , test switch api_v2 server_socket allows building user selects either api_v1 api_v2 public api,,
1882,9aa970c92857c60cc3df816070f1f5a74009c9f7,vi Kivity <avi@scylladb.com>, 2019-07-27 17:39:11 +0300, , httpd switch api_v2 server_socket allows building user selects either api_v1 api_v2 public api,,
1883,cb971b7db1207f6f2233bc591f5d70d0deb010d0,vi Kivity <avi@scylladb.com>, 2019-07-27 17:39:11 +0300, , demo switch api_v2 server_socket allows building user selects either api_v1 api_v2 public api,,
1884,2ea17a071c1f532969337f13922138bfc998b51e,vi Kivity <avi@scylladb.com>, 2019-07-27 17:39:11 +0300, , memcache switch api_v2 server_socket allows building user selects either api_v1 api_v2 public api,,
1885,b615d6c68b0851b8aae48865b8c58b5154559888,vi Kivity <avi@scylladb.com>, 2019-07-27 16:35:49 +0300, , rpc switch variadic future free server_socket,,
1886,b726728d6b06505337281784c145860dd7a54d4d,vi Kivity <avi@scylladb.com>, 2019-07-27 16:25:27 +0300, , test loopback convert api_v2 server_socket use variadic future free server socket,,
1887,ca9491472eacb711453ba7ea8a9ff35148b065a9,vi Kivity <avi@scylladb.com>, 2019-07-27 16:25:27 +0300, , net convert api_v2 server_socket use variadic future free server socket,,
1888,0181db921cc5eccef6bb48d3db635f25759bb314,vi Kivity <avi@scylladb.com>, 2019-07-27 16:16:07 +0300, , net native_stack change native_stack api_v2 avoid variadic future implementation,,
1889,a65c89a421224d6b4784f4d12b213e44c916ac0a,vi Kivity <avi@scylladb.com>, 2019-07-27 16:08:59 +0300, , net posix_stack switch server_socket implementation api_v2 change internal server_socket implementation variadic future free,,
1890,87af75edcb876405357d1a573301bc4b63b3ad71,vi Kivity <avi@scylladb.com>, 2019-07-27 16:07:01 +0300, , net add implicit bidirectional conversion api_v2 server_socket api_v1 server_socket allows internal server_socket implementation create either api_v1 api_v2 version implicit conversion convert api_v1 still version exposed user,,
1891,320ed1ae2998aefba3da62fdb417d59c5e0264d4,vi Kivity <avi@scylladb.com>, 2019-07-27 15:44:19 +0300, , net introduce api_v2 namespace without variadic future server_socket accept split server_socket net two class one namespace api_v1 one namespace api_v2 api_v1 expose existing api variadic future api_v2 server_socket accept return accept_result instead variadic future deprecated api_v1 implemented term api_v2 avoid code duplication api_v1 inline namespace visible api change patch pave way implementing server_socket implementation code variadic future free apis exposing api_v2 default api,,
1892,3f88e9068b371608aa0b3307333538f13ffc737f,vi Kivity <avi@scylladb.com>, 2019-07-25 13:29:29 +0300, , reactor improve handling connect storm currently accept posix network stack doe speculate successful accept still connection listen queue mean get next connection poll make sense server long running connection connects rare therefore expect listen queue usually zero one connection waiting attempt accept get eagain waste system call however scenario expect connect storm one benchmark lot connection another server part cluster resuming shutdown case node cluster well client start connecting balance occasional wasted syscall server long running connection suffers small penalty compared penalty suffer speculating endure connect storm switch code speculate connection available accept also add posix file_desc try_accept order able handle eagain without exception test manual testing httpd strace message avi scylladb.com,,
1893,6ce310287a5c3f8e7b9713758e950794e19b59aa,alle Wilund <calle@scylladb.com>, 2019-07-23 17:25:47 +0000, , json make date formatter use rfc8601 rfc3339 format swagger doc post state date formatted rfc3339 rfc8601 subset adopting make interop easier message calle scylladb.com,,
1894,2dc2e5607dfe367ddf18c86910bcc47152c5b7fe,leb Natapov <gleb@scylladb.com>, 2019-07-24 12:11:16 +0300,667, reactor fix deadlock stall detector dlopen stall detector call backtrace signal handler turned glib backtrace call dlopen libgcc_s.so.1 resolve unwind related symbol first stall detector invocation happens another dlopen call calling thread deadlock fix calling backtrace safe context enabling stall detector signal fix 667 message scylladb.com,,
1895,c1be3c912f02c7814c530c687942e260945b242d,vi Kivity <avi@scylladb.com>, 2019-07-22 10:43:44 +0300, , execution_stage prevent unbounded growth execution_stage queue function call later execution batch intent batch execution make better use processor cache branch predicion generates assymetry queued function bundled one task many task scheduler task queue compete processor time round robin nature scheduler large number small task dominate small number long running preempt friendly task lead unbounded queue growth thus running memory prevent introduce maximum queue length whenever reach flush queue freeing least one slot since flushing limited preemption prevents queue growing without bound restores fairness system making enqueuers pay dequeuing queue limit chosen 1024. result early flushing task execute half microsecond even reach preemption point practice function execution stage much expensive becomes problem make flush_threshold configurable test dev message avi scylladb.com,,
1896,7d5599227ca2dd8dd1475968df51e8edc5901e71,afael vila de Espndola <espindola@scylladb.com>, 2019-07-20 10:23:56 -0700, , allocate stack asan optimization current sanitize build seems produce code fit 128 kib stack adding fsanitize address trying debug memory corruption old branch hit stack limit time could also check seem worth complexity,,
1897,8d61a8ff2aea55895034b4044152f1c7a9bd1215,afael vila de Espndola <espindola@scylladb.com>, 2019-07-20 10:22:47 -0700, , define header defining header instead cmake couple advantage work using cmake easy back port correct fsanitize address enabled manually second point probably important build system assume way enable asan use specific build mode,,
1898,106778e455f91b23baf3258b7cbf57ef5e21fd77,afael vila de Espndola <espindola@scylladb.com>, 2019-07-20 10:12:10 -0700, , fix like,,
1899,3820930d60d5e49509d8fa02fc8ef126a439a324,liran Sinvani <eliransin@scylladb.com>, 2019-07-16 17:19:43 +0300, , queue add renaming functionality priority class change add support priority class renaming since priority class destroyed even could would probablly would complicated tear easier reuse priority class purpose order facilitate support renaming special attention given possiblity rerenaming happen since want avoid holding lock making cross shard operation test added stress test renaminc make sure generate duplicate statistic exception signed eliran sinvani eliransin scylladb.com message eliransin scylladb.com,,
1900,4a082fc5590bebc07b2772ed5875f9d46edad054,liran Sinvani <eliransin@scylladb.com>, 2019-07-16 17:19:42 +0300, , scheduling add rename functionality scheduling group patch add ability rename scheduling group one reason one would like rename scheduling group destroying strict user make sure used anymore pending task later hard determine renaming affect statitstics mean renaming counter labled new name unit test added stress test renaming functionality signed eliran sinvani eliransin scylladb.com message eliransin scylladb.com,,
1901,c1f20796002571a1de59f5e9ed2aebe7461bfe39,ao Nong <compiv@tutanota.com>, 2019-07-11 03:49:39 -0400, , net add listen_backlog option posix stack many connection come short period backlog parameter small client receive error indication econnrefused default backlog parameter 100 user change listen_options since commit,,
1902,0e631ecd6d77458e4cb2f072aa120a752b61089a,vi Kivity <avi@scylladb.com>, 2019-06-23 17:53:56 +0300, , future deprecate variadic future variadic future cool design mistake rarely used take extra time compile bloat symbol table cost borne everyone make metaprogramming harder since way express type involved tuple future needlessly diverge std future prepare correct mistake advertising deprecated giving user chance migrate future std tuple ... message avi scylladb.com,,
1903,50a39efca79e1b95fa279dca3f9974c10ec229c6,efu Chai <kchai@redhat.com>, 2019-07-02 23:48:51 +0800, , include test add workaround missing guaranteed copy elision tested using ctest dev guaranteed copy elision feature assume seastar compiled gnu seastar support macro added hide difference signed kefu chai kchai redhat.com message tchaikov gmail.com,,
1904,1eea2c0d5bd4de88a122b01f7a77937833c53d6e,ibo Cai <yibo.cai@arm.com>, 2019-07-04 09:42:17 +0800, , core dpdk_rte handle core seastar fails start bind core dpdk enabled could initialize seastar std overflow_error _base_bitset _m_do_to_ulong currnet code pack core one ulong bitmask assumes core true latest hardware patch fix issue combining nibble arbitrary long bitmask conforming dpdk requirement message yibo.cai arm.com,,
1905,86c8cc4eb549ef16db6f1ca99f56537a96053d61,lauber Costa <glauber@scylladb.com>, 2019-07-02 15:02:08 -0400, , perftune add dry run mode often face situation user seastar based application execute command resort calling department organization reasonable orgs okay saying set kernel flag usually okay saying run big python script try overcome recommending add dry run mode touch system therefore run non root print recommended setting system perftune already give user indication time verbose time print like case sysctls time require translation perftune system command dry run mode user give admin command example output echo 00000001 proc irq smp_affinity echo 00000004 proc irq smp_affinity echo 00000010 proc irq smp_affinity echo 00000040 proc irq smp_affinity echo 00000100 proc irq smp_affinity echo 00000400 proc irq smp_affinity echo 00001000 proc irq smp_affinity echo 00004000 proc irq smp_affinity echo none sys device pci0000 0000 01.1 0000 00.0 nvme nvme0 nvme0n1 queue scheduler echo sys device pci0000 0000 01.1 0000 00.0 nvme nvme0 nvme0n1 queue nomerges echo 00000001 proc irq smp_affinity echo 00000001 proc irq smp_affinity echo 00000001 proc irq smp_affinity echo 00000002 proc irq smp_affinity echo 00000002 proc irq smp_affinity echo 0000fffc sys class net enp30s0 queue rps_cpus echo 0000fffc sys class net enp30s0 queue rps_cpus sysctl sysctl 32768 echo 16384 sys class net enp30s0 queue rps_flow_cnt echo 16384 sys class net enp30s0 queue rps_flow_cnt ethtool enp30s0 ntuple echo 000000ff sys class net enp30s0 queue xps_cpus echo 0000ff00 sys class net enp30s0 queue xps_cpus echo 4096 proc sys net core somaxconn echo 4096 proc sys net ipv4 echo tsc sys device system clocksource clocksource0 signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1906,aac05c3afa60389f272a7ec091ca493f2f3ced79,ibo Cai <yibo.cai@arm.com>, 2019-07-02 10:25:07 +0800, , build support building dpdk arm64 build fm10k sfc_efx pmd x86 due arch dependent code fix dpdk machine name arm64 build seastar dpdk arm64 configure.py enable dpdk cflags march armv8 crc crypto ... message yibo.cai arm.com,,
1907,44a300cd5064882909c5e64deccd85fb62b7bcf7,vi Kivity <avi@scylladb.com>, 2019-06-30 15:14:58 +0300, , build fix dpdk library link order eal library refers symbol kvargs library come fix build error due unresolved symbol home avi scylla seastar build dev _cooking installed lib librte_eal.a function error undefined reference home avi scylla seastar build dev _cooking installed lib librte_eal.a function error undefined reference rte_kvargs_free collect2 error returned exit status seastar executables build patch know problem affect external executables message avi scylladb.com,,
1908,a5b9f77d525d4962c9f4abb60070d281b1ff8f50,lad Zolotarov <vladz@scylladb.com>, 2019-06-27 16:07:13 -0400, , perftune.py add comment explaining log error binding nvme irqs i3.nonmetal machine comment identical corresponding patch description added logic signed vlad zolotarov vladz scylladb.com message vladz scylladb.com,,
1909,2e578705fda8d81d75316d874bb58aa2b4ec6585,afael vila de Espndola <espindola@scylladb.com>, 2019-06-27 07:36:22 -0700, , sharded two phase shutdown sharded service patch sharded stop instance clearing instance pointer advantage service still talk peer stop finish signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1910,1c25042af9bc6d49b243d0b88c1551f8077ef363,otond Dnes <bdenes@scylladb.com>, 2019-06-27 12:21:20 +0300, , chunked_fifo add iterator unit test signed botond bdenes scylladb.com message bdenes scylladb.com,,
1911,4f226801cebad5fe213ea3c6cabc35146afed775,lad Zolotarov <vladz@scylladb.com>, 2019-06-20 14:38:03 -0400, , perftune.py fix metal detection pattern bug regular expression pattern detecting instance non metal instance let fix signed vlad zolotarov vladz scylladb.com reviewed amos kong amos scylladb.com tested amos kong amos scylladb.com message vladz scylladb.com,,
1912,3cd42c715abff1ef10bb23158ab784a37d8b4f47,ibo Cai <yibo.cai@arm.com>, 2019-06-27 10:25:04 +0800, , core memory remove translation api translation useless upgrading dpdk leverage iova message yibo.cai arm.com,,
1913,45ac30887e160e9e730ca2da67b16a0362782c1e,enny Halevy <bhalevy@scylladb.com>, 2019-06-26 13:37:22 +0300,4606, reactor file_type offer option follow symbolic link similar commit stat follows symlinks use case want use lstat instead provide option follow symlinks true default otherwise call lstat ref scylladb scylla 4606 signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
1914,b629d5ef7a26215bb3b598f98a956fa8192696da,enny Halevy <bhalevy@scylladb.com>, 2019-06-24 10:49:20 +0300, , sharded fix grammar signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
1915,8d1a3d02deef546c927751fb2fbc96d6f47f4006,efu Chai <kchai@redhat.com>, 2019-06-24 13:11:24 +0800, , core net output_stream remove redundant std move prevents copy elision see http cpp language copy_elision change silence warning iostream impl.hh warning redundant move return statement wredundant move return std move buffer  signed kefu chai kchai redhat.com message tchaikov gmail.com,,
1916,f2c94b172945a2f49f286a1c6108982b016a7b49,lauber Costa <glauber@scylladb.com>, 2019-06-21 13:47:50 -0400, , perftune make sure ethtool chance succeeding right following code try enable ntuple offloading try run_one_command ethtool iface ntuple stderr print except print supported always fails essentially ignoring believing way nic reason failure subtle pas stderr argument run_one_command function expects my_stderr signature take code try catch block see trying enable ntuple filtering offload enp30s0 ... error run_one_command got unexpected keyword argument stderr system tuned issue fixed instead usual sneaky trying enable ntuple filtering offload enp30s0 ... supported patch fix keyword happen also maybe using catch signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1917,0351626ec6cbc2aa02c34f26c1bc759e9aac4178,ibo Cai <yibo.cai@arm.com>, 2019-06-19 13:44:46 +0800, , net dpdk upgrade dpdk 19.05 move new memory subsystem http doc.dpdk.org guide rel_notes leverage vfio iommu use iova dma direct map iova core whole heap space startup move new offloads api dpdk ethdev offloads api changed since commit ce17eddefc20 ethdev introduce queue offloads api commit cba7f53b717d ethdev introduce queue offloads api change drop explicit enabling crc strip offload 18.11 release note default behavior crc strip offload changed release without specific offload flag default behavior pmd strip crc replace pkt_rx_vlan_pkt pkt_rx_vlan 17.11 release note mbuf flag pkt_rx_vlan_pkt pkt_rx_qinq_pkt removed since behavior properly described two mbuf flag added indicate vlan identifier saved mbuf structure instance vlan stripped tci saved pkt_rx_vlan vlan stripped tci saved pkt_rx_vlan set offload rule per dev_info commit aa1a6d87f15d ethdev force offload rule move xstats initialization port started fix error mellanox nics update port bit per 17.11 change replace deprecated function  update dpdk build script configs add whole archive generating dpdk enabled application drop frag0 cross page checking iova always continuous message yibo.cai arm.com,,
1918,9cc3ed99d8275dc5bb9cdfec7770f0c7a144f632,lad Zolotarov <vladz@scylladb.com>, 2019-06-18 15:56:38 -0400, , perftune.py fix place use deprecated pyudev.device one  deprecated since 0.18 let use new api instead avoid annoying warning message signed vlad zolotarov vladz scylladb.com message vladz scylladb.com,,
1919,87a115be3cc48d01727a59a6730a08c3b564a56d,lauber Costa <glauber@scylladb.com>, 2019-06-18 10:38:07 -0400, , reactor provide uptime function application may want know long running possible aquire information proc since already record start time expose faster using simpler operation difference uptime shard seems like reasonable restriction seastar application signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1920,0f8dd4a9026921d4b21a94d37068d7878efae625,leb Natapov <gleb@scylladb.com>, 2019-06-12 16:51:46 +0300, , rpc add sink flush streaming api add flush function sink class ensures buffered data sent current implementation simple wait data sent since sink doe buffer indefinitely may change feature message scylladb.com,,
1921,4b2a291d82c937e8dfb9cf26ec83717404a31051,afael vila de Espndola <espindola@scylladb.com>, 2019-06-14 18:47:35 -0700, , use table document various build mode pity sanitize mode still slow seastar quick look perf output show anything obvious trying reduce malloc free traffic message espindola scylladb.com,,
1922,0165bab2fe2036b8c3c0ab0cbca701f2f348e0ba,uarte Nunes <duarte@vectorized.io>, 2019-06-12 16:37:57 -0300, , foreign_ptr fix compilation error due unused variable remove unused variable whose purpose already carried upon lambda destruction signed duarte nunes duarte vectorized.io message duarte vectorized.io,,
1923,ded50bd8a4a142416a63ff845dbfd891547cb30e,afael vila de Espndola <espindola@scylladb.com>, 2019-06-12 10:18:45 -0700, , export sanitizer flag used sanitizer flag exported pkgconfig even mode use signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1924,8dcbd6658dd30b32208869cfc36f5af29ae697e9,lad Zolotarov <vladz@scylladb.com>, 2019-06-07 18:03:46 -0400, , perftune.py use pyudev.devices method instead deprecated pyudev.device one  deprecated since 0.18 let use new api instead avoid annoying warning message signed vlad zolotarov vladz scylladb.com message vladz scylladb.com,,
1925,b5d71cc70f75dcc075f33402f67b79d736231ff0,afael vila de Espndola <espindola@scylladb.com>, 2019-06-05 09:40:11 -0700, , add sanitize build mode debug probably become specialized time objective mode able run test sanitizers faster importantly able run sanitized scylla realistic use case machine ctest take 48.21 total debug build 51.41 sanitize build signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1926,18513c01695f7a2df016b019d64915b9d24076d6,vi Kivity <avi@scylladb.com>, 2019-06-12 17:28:22 +0300, , merge perftune.py new tuning mode vlad  seastar application timestamp intensive choice clocksource big impact performance performance sensitive option would like perftune charge enforcing good standard clocksource setting related neither disk nic patchset introduces first new system tuner top build infrastructure tune clocksource  clocksource tune http github.com vladzcloudius seastar systemtune tune clocksource perftune.py initial commit new tuner systemperftuner perftune.py introduce static modes_set method perftune.py introduce no_restrictions tuning mode,,
1927,e53515087f58e33141d996b0b35e2c33822c6fd9,adav Har'El <nyh@scylladb.com>, 2019-06-12 14:25:47 +0300, , reactor clarify submit_to destroys function object submit_to documentation explained extends life temporary function object passed explain object eventually destructed target cpu calling cpu since became debate seastar mailing list obviously clear really happens clarify submit_to documentation signed nadav har nyh scylladb.com message nyh scylladb.com,,
1928,3a27a4e268b046a4077c046905a88eea3663b543,afael vila de Espndola <espindola@scylladb.com>, 2019-06-11 11:07:45 -0700, , export sanitizer flag via pkgconfig sanitizer flag already marked public cmake project using pkgconfig instead cmake link flag exported patch pkgconfig consistent cmake drop deplicated code scylla configure.py signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1929,2e6bdbc04a21d5231cfbbb709825e00de8b4e05f,uarte Nunes <duarte@vectorized.io>, 2019-06-11 16:58:12 -0300, , smp delete unprocessed work item leaving unprocessed work item smp queue trigger leaksanitizer signed duarte nunes duarte vectorized.io message duarte vectorized.io,,
1930,fe8bf50609c8c9bd147bb3b4a3e038c031c89155,ichal Maslanka <michal@vectorized.io>, 2019-06-12 07:30:45 +0200, , iotune fixed finding mountpoint infinite loop iotune look directory mount point iterates backward directory tree find directory device stat structure change case tuned directory mounted root iotune end infinite loop signed michal maslanka michal vectorized.io message michal vectorized.io,,
1931,6d82ee6797fcfbe3b65cfae2b4468ee68efacd48,ibo Cai <yibo.cai@arm.com>, 2019-06-11 10:56:11 +0800, , net fix dereferencing moved object seastar crash running arm native network stack enabled caused code snippet like func free ptr use ptr function call two parameter first parameter function free ptr second parameter dereferences ptr code work okay x86 parameter passed right left stack pushing order use ptr called free ptr fails arm parameter passed left right arm leverage abundant general purpose register free ptr called use ptr lead crash show issue code output x86 arm printf printf printf message yibo.cai arm.com,,
1932,ffdaceed06520b922d3ca096707f72343e78d83f,afael vila de Espndola <espindola@scylladb.com>, 2019-06-11 10:41:26 -0700, , always enable exception scalability hack fix use free cache shutdown fixed need annotate two function work debug mode signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1933,9357a7b2eba9e6d51d7cdfc1a03a070cbddd8d2d,lauber Costa <glauber@scylladb.com>, 2019-05-15 09:52:32 -0400, , systemtune tune clocksource would like able enforce preferred clocksource used tsc x86 architecture cause application rely heavily timestamps take performance penalty clocksource available used maybe reason instance may trusted case user must explicitly select clock must set throught tune clock option tuning leverage newly created system tuner signed glauber costa glauber scylladb.com,,
1934,6c5ce3d3d55db2d30956722fee0e73e6c04f3e23,lad Zolotarov <vladz@scylladb.com>, 2019-05-08 11:45:05 -0400, , perftune.py initial commit new tuner systemperftuner tuner going responsible tuning general part system related particular device currently tune nothing signed vlad zolotarov vladz scylladb.com,,
1935,24d0ba39f94df6806f7c1c3b42a7913a5f67e476,lad Zolotarov <vladz@scylladb.com>, 2019-05-06 20:41:57 -0400, , perftune.py introduce static modes_set method method return combined tuning mode given set mode signed vlad zolotarov vladz scylladb.com,,
1936,34496a2b433301c89f09a61c6ef6b6e4a69e531d,lad Zolotarov <vladz@scylladb.com>, 2019-05-06 20:40:32 -0400, , perftune.py introduce no_restrictions tuning mode introduce mode going returned tuner care configure irq binding signed vlad zolotarov vladz scylladb.com,,
1937,1bbedaf57c2d59442148a213afbcfbc4c9158a31,vi Kivity <avi@scylladb.com>, 2019-06-06 20:28:36 +0300, ," merge simple cleanup future.hh rafael  quite idea future floating around checking need_preempt templating instead ... etc would like avoid rebase patch series extract simpler one independent series hopefully controversial net result series build release scylla build 1.146 time faster 44.58 28.40 tps duration smp m4g increase 1.025 time 134,289.71 137,675.10 size .text section build release scylla get 1.266 time smaller 58,290,644 46,015,012 byte patch also independent improvement imho better style auto lambda idiomatic object know construct others common practice moving common code template  cleanup future http github.com espindola seastar future move code line future avoid alias future move constructor future avoid alias promise move constructor future use future_state move constructor future move constructor future refactor duplicated code take_exception helper future reduce code duplication future avoid std exception_ptr copy move future add future_state constructor future delete future replace state forward_to promise future check self move assignment future delete continuation set_state std tuple future delete future remove redundant set_value overload future simplify promise set_value future avoid auto lambda future pas reference schedule future make function noexcept",,
1938,5faf210446e76665bfa295cc263ec9864cc64022,afael vila de Espndola <espindola@scylladb.com>, 2019-04-23 13:54:52 -0700, , future move code line defining non template base class avoid duplicating code instantiation move two function line signed rafael vila esp ndola espindola scylladb.com,,
1939,fe0608e26148bb71f287ca3725be7e101435fa28,afael vila de Espndola <espindola@scylladb.com>, 2019-05-05 15:15:53 -0700, , future avoid alias future move constructor gcc alias analysis could figure could reuse pointer promise signed rafael vila esp ndola espindola scylladb.com,,
1940,c3f42e3316279f16ea2f19f5d18c991401dccf8a,afael vila de Espndola <espindola@scylladb.com>, 2019-05-05 15:15:06 -0700, , future avoid alias promise move constructor gcc alias analysis could figure could reuse pointer future signed rafael vila esp ndola espindola scylladb.com,,
1941,96928ffe67f9182b6d98ab6d6ddcfc7921d3221c,afael vila de Espndola <espindola@scylladb.com>, 2019-05-05 10:31:00 -0700, , future use future_state move constructor future move constructor idiomatic signed rafael vila esp ndola espindola scylladb.com,,
1942,bc0bd175d3205844d42165591fb3c37dd9d7374d,afael vila de Espndola <espindola@scylladb.com>, 2019-05-08 19:19:17 -0700, , future refactor duplicated code take_exception helper signed rafael vila esp ndola espindola scylladb.com,,
1943,a5a9393c34150ac7aeee17b905df998ae8cb4e0c,afael vila de Espndola <espindola@scylladb.com>, 2019-05-08 19:08:03 -0700, , future reduce code duplication call existing get_exception method signed rafael vila esp ndola espindola scylladb.com,,
1944,c4b18909e9bd1215e7e1076e0f5790e69c97908f,afael vila de Espndola <espindola@scylladb.com>, 2019-05-08 19:02:14 -0700, , future avoid std exception_ptr copy move pas const reference rvalue reference instead signed rafael vila esp ndola espindola scylladb.com,,
1945,2fd35cb8bf0065840d7ebd46813bafafed4121d8,afael vila de Espndola <espindola@scylladb.com>, 2019-05-21 22:48:28 -0700, , future add future_state constructor simplifies also bit idiomatic signed rafael vila esp ndola espindola scylladb.com,,
1946,826b9a267e8232eb9b47fa199f9b6c8d94d43d00,afael vila de Espndola <espindola@scylladb.com>, 2019-06-02 16:52:28 -0700, , future delete private since last patch unused removing do_set_value end single caller inlined signed rafael vila esp ndola espindola scylladb.com,,
1947,8da93bf191efd486629069cfa139f59b2ea8bd92,afael vila de Espndola <espindola@scylladb.com>, 2019-05-16 17:40:26 -0700, , future replace state forward_to promise line promise set_value promise set_exception simpler one function need know future_state implementation detail signed rafael vila esp ndola espindola scylladb.com,,
1948,f4a8ec5bf867fbc7907d1c111d9c30cb4671198e,afael vila de Espndola <espindola@scylladb.com>, 2019-05-05 15:39:15 -0700, , future check self move assignment self move assignment leave object unspecified state also add test showing crash std swap still work signed rafael vila esp ndola espindola scylladb.com,,
1949,70154e3291a99f877f6ac823f4ea98982fc06a9a,afael vila de Espndola <espindola@scylladb.com>, 2019-05-26 04:33:58 +0300, , future delete continuation set_state std tuple signed rafael vila esp ndola espindola scylladb.com,,
1950,a0d33377a667b3201e858be34323476fbe6c3eae,afael vila de Espndola <espindola@scylladb.com>, 2019-05-26 03:46:02 +0300, , future delete exactly tuple argument signed rafael vila esp ndola espindola scylladb.com,,
1951,4e1bfcebf967acffa4959439846d5d36139ace58,afael vila de Espndola <espindola@scylladb.com>, 2019-06-05 12:32:13 -0700, , future remove redundant set_value overload overload perfect forwarding identical std tuple one instantiated set_value const std tuple ... set_value std tuple ... signed rafael vila esp ndola espindola scylladb.com,,
1952,8ed4cdce0a6732d1605a1a4ff2956406e7f7035b,afael vila de Espndola <espindola@scylladb.com>, 2019-05-24 17:47:08 -0700, , future simplify promise set_value variadic version forward std tuple one future_state remove std tuple overload since set template parameter std tuple std tuple also fix noexcept specification variadic version marked noexcept always case small inline function probably worth metaprogramming necessary say exactly function would noexcept corresponding future_state set also noexcept added test check set_value still used tuples type throw copy constructor also used signed rafael vila esp ndola espindola scylladb.com,,
1953,6b5a44361c8152f5fe423b3ad73a45e8a932a5e4,afael vila de Espndola <espindola@scylladb.com>, 2019-05-11 09:04:15 -0700, , future avoid auto lambda code style recommends signed rafael vila esp ndola espindola scylladb.com,,
1954,a5fe049ef06e9caca1da20b443fbf906f5249019,afael vila de Espndola <espindola@scylladb.com>, 2019-05-09 18:15:56 -0700, , future pas reference schedule avoids calling std unique_ptr destructor .hh file signed rafael vila esp ndola espindola scylladb.com,,
1955,4f8440150f7036987db5f7bec94eee83f99c511f,afael vila de Espndola <espindola@scylladb.com>, 2019-05-09 17:01:53 -0700, , future make function noexcept already called noexcept code would call terminate exception anyway signed rafael vila esp ndola espindola scylladb.com,,
1956,d805c4cde9ee5184f9ea6e9be9f474dec53aac86,enny Halevy <bhalevy@scylladb.com>, 2019-06-04 16:49:50 +0300, , test introduce testing provide reproducible result using random seed option signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
1957,aa46d84646b381da03dd9126015292686bd078da,omasz Grabiec <tgrabiec@scylladb.com>, 2019-06-03 20:12:53 +0200, , core deleter fix abort append called twice shared deleter appending deleter impl pointer deleter already exists chain triggered assertion protect formation cycle deleter chain thus infinite loop case handled simply dropping deleters based premise existing deleter enough keep object alive cause following code fail char big_buf 200 auto buf1 big_buf.share auto buf2 big_buf.share net packet p.append net packet std move buf1 p.append net packet std move buf2 fix 646 test unit dev message 1559585573 17364 git send email tgrabiec scylladb.com,,
1958,ed15acd99c6a0a581f22026221bdd267f31a88b4,leb Natapov <gleb@scylladb.com>, 2019-06-02 16:04:40 +0300, , rpc stream crash stream used eos code supposed return error stream used eos received check done late prevent double close happening move check fix message scylladb.com,,
1959,253d6cb6918370e30c45b75840defeadc797d877,vi Kivity <avi@scylladb.com>, 2019-05-24 09:29:20 +0300, , reactor disable nowait aio kernel fix identified appears work perhaps fixed something else unconditionally disable nowait aio reliable fix found message avi scylladb.com,,
1960,d372b1f85409e67f57158523ced606981c92039b,vi Kivity <avi@scylladb.com>, 2019-05-22 17:19:38 +0300, , merge restructure timer implementation avoid circular dependency jesse  patch ensure user timer.hh also include reactor.hh  jhk fix_link_error http github.com hakuch seastar fix link error user shared_future remove function implementation move definition timer.hh,,
1961,d69fe6eaa87e35cdd1ad9fcc95d11a78b96c0ad8,oe Loser <joeloser93@gmail.com>, 2019-04-30 00:54:57 -0400, , fix build command building docker.md problem invocation running ninja incorrect solution fix command using specify build directory run ninja message joeloser93 gmail.com,,
1962,5cb1234b037825abb41356a009fe12fe13ebe2c1,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-05-15 14:09:57 -0400,639, build help seastar find boost fedora previously unconditionally used cmake findboost.cmake checking availability boost system configuration process file vendored cmake directly since findboost.cmake installed alongside cmake 3.5 doe awareness boost 1.64 minimum version support however system version boost installed greater maximum supported vendored findboost.cmake configuration process print warning like cmake warning cmake findboost.cmake 839 message new boost version may incorrect missing dependency imported target solution conditionally use vendored find module first attempt use cmake bundled findboost.cmake fails none version boost need supported try vendored findboost.cmake tested change cmake 3.5 cmake 3.14 fedora fedora fix 639 signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
1963,151fd198809637e189dfae0849bbaa29e9a3e09c,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-05-21 10:47:08 -0400,641, fix link error user shared_future definition function reactor.hh required consumer header file like also include reactor.hh avoid problem use extern template declaration fix 641,,
1964,b1f107c2c894d0191a9481155ed3e824af46e779,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-05-21 09:59:14 -0400, , remove function implementation function defined anywhere,,
1965,aee05c5e1dc652362a32f866c9afbf350f07a457,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-05-21 09:56:24 -0400, , move definition timer.hh definition depend reactor safely moved,,
1966,a09a8444d1b0ca54d35a82f41ca832e125cc1306,uarte Nunes <duarte@vectorized.io>, 2019-05-21 10:36:56 -0300, , merge reinstate nowait aio support avi  linux nowait aio disabled due kernel bug bug since fixed backported enable nowait enjoy reduced reactor stall since easy way detect running kernel contains fix resort whitelisting patchset therefore add facility name whitelist kernel xfs concurrency fix detection also used whitelisting retrofitted use new mechanism test unit dev examine help output broken fixed kernel  tag reinstate aio nowait http github.com avikivity seastar reactor add command line flag enable disable nowait aio reactor remove aio nowait runtime detection mechanism reactor rewrite use generic uname mechanism reactor reinstate aio nowait support test add unit test uname core add helper parsing comparing kernel version,,
1967,b78d705e0c197a6cf2ce08ca2635a965a848a177,vi Kivity <avi@scylladb.com>, 2019-05-18 18:48:20 +0300, , reactor add command line flag enable disable nowait aio add flag allows disable nowait aio whitelist mechanism malfunction enable encounter kernel forgot whitelist default autodetected,,
1968,4d72b4856ff2ac74bb0d0f1aa9f54ef1b52a9e16,vi Kivity <avi@scylladb.com>, 2019-05-18 18:31:43 +0300, , reactor remove aio nowait runtime detection mechanism reliably detect aio nowait looking version number drop old method assumed see einval eopnotsupp due kernel supporting nowait ignoring error dangerous better make assumption,,
1969,738e34c6479c2b9afea797125e5ff3ddb13e10c2,vi Kivity <avi@scylladb.com>, 2019-05-18 18:28:59 +0300, , reactor rewrite use generic uname mechanism since generic mechanism use reduce custom code,,
1970,dd161aa95b1ae44fc88c4e24788803588bc8cc81,vi Kivity <avi@scylladb.com>, 2019-05-18 18:27:19 +0300, , reactor reinstate aio nowait support nowait aio disabled since fixed kernel 5.1 whitelist kernel known contain fix,,
1971,4316b6bb4099fecfa6f844f078350d456cbc8d4f,vi Kivity <avi@scylladb.com>, 2019-05-18 18:26:27 +0300, , test add unit test uname pick test subject two place plan use new facility,,
1972,4d1a1be932936c86040e182c45778b8c747cf933,vi Kivity <avi@scylladb.com>, 2019-05-18 18:19:20 +0300, , core add helper parsing comparing kernel version past tried detect kernel feature discovering whether feature exists work properly quite hard feature error code returned feature doe exist unique einval aio feature also returned another parameter invalid feature requires writing path modify addition strategy fails bug triggered reliably instead detecting feature parse compare kernel version elaborate kernel history linear bug fix backported older version example fix landed 4.12 may backported 4.10.20 4.11.anything 4.10.19 may backported distribution specific kernel well way approach divide version string sequence component require component last equal used identify branch final component greater equal used identify position branch history first two component treated specially since linear 5.1 contains 4.19,,
1973,87a9d4e7e5261354bc1094418dbbdb783b524ee5,oe Loser <joeloser93@gmail.com>, 2019-04-30 00:38:32 -0400, , fix documentation link readme.md problem documentation readme.md point http seastar.io doc result http 404 error solution update link point http docs.seastar.io master index.html message joeloser93 gmail.com,,
1974,d66b6719ce007f143599a469cb86b3bc51a82770,vi Kivity <avi@scylladb.com>, 2019-05-12 17:23:15 +0300, , sharded add variant invoke_on accept reason expounded 7f705a76aa265d3 concurrent call sharded invoke_on variant exhaust memory invokee especially large machine patch therefore add variant invoke_on accept used controlling server side concurrency original variant call new function new parameter start stop variant receive new overload administrative function generally concurrency map_reduce family also receive new overload mainly patch already mouthful useful invoke_on variant map_reduce added later message avi scylladb.com,,
1975,8c6cf573e51fa1920c6d6cc8969e317fe07d2b10,lauber Costa <glauber@scylladb.com>, 2019-05-13 15:25:31 -0400, , improve error message aio setup failure right try set aio assert succeeded assertion justified since way proceed case however leaf user trying figure happened failure setup aio fairly common one running scylla packaged installation fail default value proc sys aio max packaging take care user going way increase manually let know error message common cause quickly fix signed glauber costa glauber scylladb.com message glauber scylladb.com,,
1976,3f7a5e14e041bad6e9dcf563818641d593b9c742,vi Kivity <avi@scylladb.com>, 2019-05-12 13:29:00 +0300, , revert make sure allocation deallocations properly byte aligned reverts commit enters infinite loop allocation size manifest scylla also questionable change allocate conform rather operator new,,
1977,3df535d7694e76562dc01ce80ab386bdf548b5db,adav Har'El <nyh@scylladb.com>, 2019-05-12 12:34:36 +0300, , http fix request content post request commit added ability retrieve body request important post incorrectly patch reverts fix add better fix original commit look network buffer header ended consider request content however wrong two level first one network buffer long request body may need read additional buffer full content second content copied network buffer buffer pointer advanced later another request connection parser continue parse fail previous request body began instead ended instead code need first parse header done read really read network input stream full body may involve multiple network buffer size request body ought specified content length header also possibility chunked encoding patch support yet left fixme note code read entire request body string request _content obviously bad idea current interface request object patch change interface future probably replace interface input stream handler could read read entire request body signed nadav har nyh scylladb.com message nyh scylladb.com,,
1978,d9496f6e70095f9c6d0f2fb22d779a59cd7cc6ac,vi Kivity <avi@scylladb.com>, 2019-05-08 14:58:46 +0300, , doc discourage generic lambda unconstrained template generic lambda unconstrained template cause long hard understand error message discourage generic lambda encourage constrained template order provide better error message tooling experience message avi scylladb.com,,
1979,7f705a76aa265d34d3abf4c8a51fc025af078195,vi Kivity <avi@scylladb.com>, 2019-05-08 16:48:29 +0300, ," smp add smp submit_to resource control shard run function shard using submit_to call large number shard say 100 run moderate number function say 10,000 single target shard target shard run 1,000,000 function function long latency likely target shard run memory patch add mechanism address problem use caller prepares initialization indicating desired limit target concurrency caller also tag submit_to call object apply concurrency limit currently implementation simplistic target concurrency statically partitioned among caller result low concurrency one small number source shard communicate might solve dynamic partitioning let start something simple ref scylladb scylla 1105 test unit dev message avi scylladb.com",,
1980,f0c236774b1237173094fc6807100199203f4020,omasz Grabiec <tgrabiec@scylladb.com>, 2019-05-08 18:13:22 +0200, , revert smp add smp submit_to resource control reverts commit doe compile emplace_back doe return reference,,
1981,b0042b21e83b5e77191c0ad031094570237a39de,vi Kivity <avi@scylladb.com>, 2019-05-08 14:21:18 +0300, ," smp add smp submit_to resource control shard run function shard using submit_to call large number shard say 100 run moderate number function say 10,000 single target shard target shard run 1,000,000 function function long latency likely target shard run memory patch add mechanism address problem use caller prepares initialization indicating desired limit target concurrency caller also tag submit_to call object apply concurrency limit currently implementation simplistic target concurrency statically partitioned among caller result low concurrency one small number source shard communicate might solve dynamic partitioning let start something simple ref scylladb scylla 1105 test unit dev message avi scylladb.com",,
1982,5858fe30c16a1a059200c129d20180ceb0199d99,afael vila de Espndola <espindola@scylladb.com>, 2019-05-06 18:19:37 -0700,569, make sure allocation deallocations properly byte aligned pointer returned new aligned  alignof std max_align_t fix test clang dev release build version also take alignment consideration free without content two pool could mixed fix 569 signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1983,f73690e57c2e7c837dc8d140fcdcb4dedff906f7,vi Kivity <avi@scylladb.com>, 2019-05-04 19:58:40 +0300, , sstring silence technically correct unhelpful warning sstring move ctor basic_sstring move constuctor copy entire typically byte object possible prefix embedded string initialized sstring hello initializes first byte gcc able detect warns indeed copy uninitialized memory problem since unintitialized data exposed public method without user bug silence unhelpful warning pragmatic pragma message avi scylladb.com,,
1984,12c33c742867d8f8deaf36e384297f9c2abcb289,afael vila de Espndola <espindola@scylladb.com>, 2019-04-25 10:08:40 -0700, , cmake add function patch implement review feedback previous patch fixing clang build particular add function signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1985,bfbd41560476b752abe51b0f2d13fada56ea2a78,afael vila de Espndola <espindola@scylladb.com>, 2019-05-02 12:01:54 -0700, , future fix build libc non trivially constructible std tuple add hack std tuple trivially constructible libc signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1986,de5e11e20dba732024bd76687343ca6fb5f1a5e5,vi Kivity <avi@scylladb.com>, 2019-05-05 13:23:30 +0300, , revert make sure allocation properly byte aligned reverts commit cause following regression following test failed failed failed failed timeout failed failed,,
1987,a78fb44c96e2912c6f39b2151f94a0bb2b5796a6,vi Kivity <avi@scylladb.com>, 2019-05-05 12:28:15 +0300, , merge future simplify future_state management rafael change future always hold active copy future_state make code easier understand imho also reduces scylla size 80421823 35848 308960 80766631 4d066a7 build release scylla 31304975 35856 308768 31649599 1e2ef3f build dev scylla  73562939 35848 308960 73907747 467be23 build release scylla 30185619 35856 308768 30530243 1d1dac3 build dev scylla espindola future always owns data http github.com espindola seastar future change always local state future refactor code detach_promise function,,
1988,d1667d906c1e9b0190708dde2be235b2bb623bb1,afael vila de Espndola <espindola@scylladb.com>, 2019-05-02 10:20:18 -0700,569, make sure allocation properly byte aligned pointer returned new aligned  alignof std max_align_t fix test clang dev release build fix 569 signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1989,e9e4d6103c3ca0f47fabd59c3ed04f9a152889b4,uarte Nunes <duarte@scylladb.com>, 2019-05-03 01:09:21 +0200, , util log use correct clock type std chrono alias std chrono system_clock libc required time_t conversion function fix explicitly requiring std chrono systme_clock signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
1990,16deebd04d507cd008359566d0d7f989c942fee1,uarte Nunes <duarte@scylladb.com>, 2019-05-03 01:03:26 +0200, , core reactor assume system_clock duration nanosecond libc use explicit lossy cast nanosecond clock duration signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
1991,4c949757ace6ae540c671f3b80104fd2e0a1199c,vi Kivity <avi@scylladb.com>, 2019-05-04 19:59:16 +0300, ," merge optimize future_state move constructor rafael  series introduces assumption exception_ptr implementation destructor moved exception_ptr nop case libstdc far tell future safe assumption since exception_ptr exception_ptr inline exception_ptr see nullptr baked abi move constructor used many place big size win optimizing patch reduces scylla text 80838939 76728943 byte release build least exception side move contsructor used often runtime win modest comparison always predicted correctly operation per shard 100000 smp perf report dynamic instruction count 7,293,903,334 7,243,916,694. branch 1,400,108,388 1,389,672,274 tps reported stay 130xxx  espindola simplify move5 http github.com espindola seastar future avoid calling std exception_ptr future add move constructor union",,
1992,d7766300f560afc8f87229bf368b9bd23f0a68b9,afael vila de Espndola <espindola@scylladb.com>, 2019-05-03 11:03:33 -0700, , rpc use boost variant.hpp directly fix build signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1993,509ab12fb36b0b6ded2a054a44ee763cfbf00bb0,uarte Nunes <duarte@scylladb.com>, 2019-05-03 18:09:21 +0100, , core memory omit gnu leaf attribute clang gnu leaf unknown attribute clang see http bugs.llvm.org show_bug.cgi 41710 signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
1994,4576014b83b0fc3a099c8b3f73801d3fb512cb80,afael vila de Espndola <espindola@scylladb.com>, 2019-04-29 08:10:26 -0700, , future avoid calling std exception_ptr move constructor instruction movq rsi rax movq rax rdi movq rsi ret assumes exception_ptr doe nothing moved value case libstdc avoid call __glibcxx__ defined signed rafael vila esp ndola espindola scylladb.com,,
1995,a1a254930150b5d3280f3c2d13c4bd2bcb194b58,afael vila de Espndola <espindola@scylladb.com>, 2019-04-29 07:48:35 -0700, , future add move constructor union idiomatic since union know construct  also avoid redundant work calling default constructor overwriting signed rafael vila esp ndola espindola scylladb.com,,
1996,e031d3d2f61f54ed4d3641477c116370eee18da9,afael vila de Espndola <espindola@scylladb.com>, 2019-05-01 17:42:23 -0700, , fix build std filesystem std experimental filesystem operator defined class path ...  path operator const path __lhs const path __rhs std filesystem dr3065 http lwg lwg defects.html 3065 changed class path ... friend path operator const path __lhs const path __rhs  net difference used either already path signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1997,f7a12b9ad7b6e6201533681984c52208c4b32855,awe Dziepak <pdziepak@scylladb.com>, 2019-05-02 12:29:30 +0100, , merge fix clang build test rafael  test pas debug build using clang   espindola clang fix http github.com espindola seastar test assume std value alive remove unused capture,,
1998,6ae1d77ee8708366cc89b1eab046bcbce9a4ce46,afael vila de Espndola <espindola@scylladb.com>, 2019-05-01 10:41:15 -0700, , cmake move quote fix cmake invocation signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
1999,7bd641bc7c99a1d1502218fdf1dc396581b852d8,awe Dziepak <pdziepak@scylladb.com>, 2019-05-01 17:59:01 +0100, , merge fix bug found perhaps gcc avi  patchset fix problem reported gcc patch arguably problem gcc still problem visit call seastar gcc ready even patchset  tag gcc9 fix http github.com avikivity seastar memory add missing attribute malloc famility function alias memory replace lambda function attribute ordinary function rpc fix pessimising move recv_helper ragel fix pessimising move get_str future util fix pessimising move do_for_each cmake fix findfilesystem gcc9,,
2000,028e3e181c71bde6ee933272f0e57819c86b55f6,avel Solodovnikov <pavel.al.solodovnikov@gmail.com>, 2019-04-29 17:53:59 +0300, , deduplicate seastar dependency management cmake script cmake module introduced contains macro iterates dependency specification call find_package parsed entry main cmakelists.txt cmake use new module instead listing finding dependency message gmail.com,,
2001,1ef2c71f05c79d8d897292ba9ac13f5610b8b9ad,vi Kivity <avi@scylladb.com>, 2019-04-27 10:49:28 +0300, , memory add missing attribute malloc famility function alias gcc9 demand function attribute alias match implicit function attribute target humor note gnu leaf attribute actually lie call back malloc via reclaim mechanism reclaim already promise affect whoever called malloc happens scylla preventing reclaim touching lsa memory case attribute memory.cc affect rather attribute declration seen call site implied matter,,
2002,eaeab5801dbc1a73a584a748a52909dc25c4b07b,vi Kivity <avi@scylladb.com>, 2019-04-27 10:47:34 +0300, , memory replace lambda function attribute ordinary function gcc9 longer allows placing function attribute lambda type attribute accepted unfortunate standard conforming replace call ordinary function attribute,,
2003,aa84d7d55662c1f959647bdb7bd74212a7e0fd31,vi Kivity <avi@scylladb.com>, 2019-04-27 10:44:50 +0300, , rpc fix pessimising move recv_helper return std move local_variable pessimizing prevents allocating local_variable caller context fix reported gcc,,
2004,0f508bec261e3ae93765572aae373be6f115ad56,vi Kivity <avi@scylladb.com>, 2019-04-27 10:44:50 +0300, , ragel fix pessimising move get_str return std move local_variable pessimizing prevents allocating local_variable caller context fix eliminating local variable reported gcc,,
2005,2f04abd10524c96056bc1d248b692ca3d89993cf,vi Kivity <avi@scylladb.com>, 2019-04-27 10:44:50 +0300, , future util fix pessimising move do_for_each return std move local_variable pessimizing prevents allocating local_variable caller context fix reported gcc,,
2006,83bd4e63e718291f7fcd03e6474b13f672c183da,vi Kivity <avi@scylladb.com>, 2019-04-27 10:43:05 +0300, , cmake fix findfilesystem gcc9 quote variable value assignment work even value empty rather complaining missing operand,,
2007,8716c954f3635e940cf103016a64be1752a8c086,afael vila de Espndola <espindola@scylladb.com>, 2019-04-24 14:27:53 -0700, , test assume std value alive seem guarantee std keep underlying array alive copying std vector fix test clang signed rafael vila esp ndola espindola scylladb.com,,
2008,3520cfe328940609982dd52a1b83838ab735f703,afael vila de Espndola <espindola@scylladb.com>, 2019-04-30 07:58:18 -0700, , remove unused capture fix clang build werror signed rafael vila esp ndola espindola scylladb.com,,
2009,4cdccae53b89f444d55756527dcd6bd0c5ca8e74,vi Kivity <avi@scylladb.com>, 2019-04-25 15:09:19 +0300, , merge future move code line rafael  combined effect patch series text size scylla 998 251 304 979 byte also make easier experiment around broken promise without rebuilding everything  espindola line http github.com espindola seastar future move broken_promise related code line future inline two call set_exception future create non templated future delete dead declaration,,
2010,26e9988d3f8dac9b730828ef4ccd1a7ef69b191f,afael vila de Espndola <espindola@scylladb.com>, 2019-04-24 10:56:37 -0700, , test socket_test add missing virtual override fix clang build signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2011,95b472560633a21db4e58beef1d55027f263d5ed,afael vila de Espndola <espindola@scylladb.com>, 2019-04-24 10:56:36 -0700, , build pas wno maybe uninitialized clang need use wno maybe uninitialized gcc clang know issue warning signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2012,b6317d693321ebdb9c859e89e428b4ee49aa6e33,vi Kivity <avi@scylladb.com>, 2019-04-25 14:46:58 +0300,4395, merge expose file_permssions creating file dirs api benny  expose file permission creating file dirs api application control mode creating file dirs permission may optionally passed caller make touch_directory open_file_dma via ref scylladb scylla 4395  bhalevy project file creation mode ssh github.com scylladb seastar dev test add file permission test reactor expose file permission creating file dirs api reactor remove separator documentation reactor add chmod reactor change default permission 0666 0777 reactor define enum class core extract file enum type standalone header file,,
2013,8aa3051e66a833c67d7600cc6e431a20f4782a1a,afael vila de Espndola <espindola@scylladb.com>, 2019-04-22 20:01:42 -0700, , future change always local state change future always hold state locally associated promise promise follows pointer future advantage promise already required _state pointer patch promise keep track future_state currently use signed rafael vila esp ndola espindola scylladb.com,,
2014,cf527e5486667e79823bdcd82c1438e16b42dd33,afael vila de Espndola <espindola@scylladb.com>, 2019-04-22 18:42:50 -0700, , future refactor code detach_promise function reduces code duplication bit make next patch easier read signed rafael vila esp ndola espindola scylladb.com,,
2015,c1df7df897aae9be3ff468f7e819aa82b9028105,enny Halevy <bhalevy@scylladb.com>, 2019-04-16 15:51:16 +0300, , test add file permission test signed benny halevy bhalevy scylladb.com,,
2016,7e006ab4fc6f1a2da391d391512afba6f36cd35a,enny Halevy <bhalevy@scylladb.com>, 2019-04-15 16:51:10 +0300, , reactor expose file permission creating file dirs api signed benny halevy bhalevy scylladb.com,,
2017,1de06c7314148bed5aac766e2d0fc9df193694d1,enny Halevy <bhalevy@scylladb.com>, 2019-04-16 12:55:08 +0300, , reactor remove separator documentation never actually exposed parameter since introduce  signed benny halevy bhalevy scylladb.com,,
2018,6b4098039e98ced08adb1cb1bafbdc662c64044c,enny Halevy <bhalevy@scylladb.com>, 2019-04-16 13:40:23 +0300, , reactor add chmod respective unit test signed benny halevy bhalevy scylladb.com,,
2019,9748f633c07986097c4c853427cdf1958e009ed3,enny Halevy <bhalevy@scylladb.com>, 2019-04-15 17:42:51 +0300,4395, reactor change default permission 0666 0777 avi kivity wrote subject umask security minded user service set umask 0077 umask directive systemd ref scylladb scylla 4395 signed benny halevy bhalevy scylladb.com,,
2020,82317a92557ca6fe06cdb37dd7cfe3b0115f265f,enny Halevy <bhalevy@scylladb.com>, 2019-04-16 10:19:41 +0300, , reactor define enum class formalize default permission creating file dirs defined enum value signed benny halevy bhalevy scylladb.com,,
2021,a492eea0af8851ac2630fcf1ad2cf7e088b0b374,enny Halevy <bhalevy@scylladb.com>, 2019-04-23 15:18:04 +0300, , core extract file enum type standalone header file included seastar.hh api header file used following patch providing defualt signed benny halevy bhalevy scylladb.com,,
2022,70af0447b56fb88107844f5a21913ed3e8f4a421,afael vila de Espndola <espindola@scylladb.com>, 2019-04-21 21:05:19 -0700, , future move broken_promise related code line anything related broken_promise cold signed rafael vila esp ndola espindola scylladb.com,,
2023,38f9ba4d9672848f7232123feefd2e64cbc65ce2,afael vila de Espndola <espindola@scylladb.com>, 2019-04-22 08:22:16 -0700, , future inline two call set_exception expose make_ready call make next patch easier read signed rafael vila esp ndola espindola scylladb.com,,
2024,e159a41741cc2b59f3064844d71d4a325cb5a5ae,afael vila de Espndola <espindola@scylladb.com>, 2019-04-21 20:55:06 -0700, , future create non templated avoids duplicating code instantiation future_state provides place putting declaration want implement .cc file signed rafael vila esp ndola espindola scylladb.com,,
2025,890a3d62cf77c4e6528b1bc8804b23db8f270a78,afael vila de Espndola <espindola@scylladb.com>, 2019-04-21 20:50:52 -0700, , future delete dead declaration function implemented anywhere signed rafael vila esp ndola espindola scylladb.com,,
2026,e84d2647c2529278febbf9db2c49aaf13d96371c,oe Loser <joeloser93@gmail.com>, 2019-04-19 00:25:54 -0400, , fix hardcoded python path shebang line problem shebang line python script assumes python found usr bin flexible user regarding python installation solution change shebang line use find right python path using environment variable python2 python3 allows python installation path usr local bin python3 would previously resulted hard error usr bin python3 message joeloser93 gmail.com,,
2027,406fdfa911e05d2e80f29a3dfc6b4ef1e11236ab,afael vila de Espndola <espindola@scylladb.com>, 2019-04-18 22:04:58 -0700, , disable wmaybe uninitialized everywhere hit http gcc.gnu.org bugzilla show_bug.cgi 88897 already disabling wmaybe uninitialized two place current warning reduces testcase suggests long 88897 open using std experimental optional likely hit bug reduced testcase void foo bool struct deleter final void _impl nullptr deleter foo _impl nullptr  template typename struct future_state val static future_state foo static void bar future_state x.val  using abc future_state std experimental optional deleter void zed abc bar abc foo signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2028,2d17ec7af0aac959531d5ccead0a7d1b331bfcf6,vi Kivity <avi@scylladb.com>, 2019-04-18 11:54:52 +0300, , app_template allow opting automatic sigint sigterm handling automatic sigint sigterm handling veru coarse requires careful registration atexit task allow opting new updated application opted special handling sigint sigterm default signal disposition terminate kept user override reactor handle_signal desired use terminate program returning callback given app_template run callback run thread easy set raii teardown resource service later consider switching default ref 261 message avi scylladb.com,,
2029,4a1d668deead3b49a1d7e2353f17183b15490c76,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-04-18 11:22:13 -0400,632, build restore dpdk machine inference cflags previously inferred machine parameter dpdk based presence march seastar cflags present ensured dpdk would target architecture seastar functionality omitted transition cmake change restores define new cmake cache variable default native forwarded configuration dpdk value variable override value dpdk_config value set invocation cmake cooking.sh convenience configure.py automatically set value based value cflags switch cmake seastar configured dpdk support need selected dpdk architecture transitively applied consumer seastar well previously accomplished via finddpdk.cmake logic cmakelists.txt belongs dpdk enabled modified default native seastar compiled march native fix 632 test unit dev dist dev signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2030,f43b7ead2c27bf6fe43c381ea5078bb14dfbdf29,iotr Sarna <sarna@scylladb.com>, 2019-04-18 15:16:18 +0200, , http capture request content post request http parser code used capture http header ignoring content altogether allowed post request content commit add parsing content make available req content string message scylladb.com,,
2031,3064e28e8729ca6b4d387c10d974d43703548b12,vi Kivity <avi@scylladb.com>, 2019-04-18 16:32:20 +0300, , merge simplify future_state promise rafael  debugging broken_promise exception 4394 trying understand exact relationship future promise future_state found possible simplification iniline function used single implementation future_state  espindola simplification http github.com espindola seastar future optimize future_state future delete future_state specialization future inline function used,,
2032,84942f5939f77841e37c30dc5b5a217bb9233c2b,lazar Leibovich <elazarl@gmail.com>, 2019-04-18 16:11:03 +0300, , fix memleak fast path allocation placed fast path caused memleak signed elazar leibovich elazarl gmail.com message elazarl gmail.com,,
2033,0ee33a9f2fe2238ade7c1fa7d17f67ad8dbc738b,afael vila de Espndola <espindola@scylladb.com>, 2019-04-12 22:21:41 -0700, , future optimize future_state empty base optimization reduce size future_state duplication signed rafael vila esp ndola espindola scylladb.com,,
2034,455817b52176d9fcfb50b281dfc622c55d9a4d82,afael vila de Espndola <espindola@scylladb.com>, 2019-04-15 08:39:35 -0700, , future delete future_state specialization next patch restore optimization code duplication deleting first make next patch easier read signed rafael vila esp ndola espindola scylladb.com,,
2035,3c389e84ae11819ba2b8a6b03c8d5cd8651076b0,afael vila de Espndola <espindola@scylladb.com>, 2019-04-12 15:42:41 -0700, , future inline function used signed rafael vila esp ndola espindola scylladb.com,,
2036,50b683aef99e5af27f50bf61de6a774258a329d4,lad Zolotarov <vladz@scylladb.com>, 2019-04-15 19:45:19 -0400,504, perftune.py allow explicitly giving cpu mask used binding irqs addition original configuration mode allow explicitly providing cpu mask used distribute irqs configured device among going done using new parameter irq cpu set irq_cpu_set yaml parameter may given together mode parameter due obvious reason fix 504 signed vlad zolotarov vladz scylladb.com message vladz scylladb.com,,
2037,d7a472814f34154e42e6e8afeecc344a6697eb2c,lad Zolotarov <vladz@scylladb.com>, 2019-04-15 19:45:18 -0400, , perftune.py fix sanity check args.tune args.tune default value quite long time therefore comparing none always going return false correct check would comparing signed vlad zolotarov vladz scylladb.com message vladz scylladb.com,,
2038,25127e5d776cbeb51aa273d062d81bb96eb6009a,lad Zolotarov <vladz@scylladb.com>, 2019-04-15 15:12:38 -0400, , perftune.py identify fast path hardware queue irqs mellanox nics identify queue irqs similar intel broadcom ena nics today needed order ensure even distribution irqs among cpu irqs bound single cpu tested manualy tested azure vms advanced networking signed vlad zolotarov vladz scylladb.com message vladz scylladb.com,,
2039,fe846212cc04a1960bc8b847e78580e16ea7e715,lazar Leibovich <elazarl@gmail.com>, 2019-04-17 12:55:48 +0300, , memory always available acceidentally broke debug build defining ifdef compiled unconditionally signed elazar leibovich elazarl gmail.com message elazarl gmail.com,,
2040,747867d9316c64091785ad8434d0f685c9710351,vi Kivity <avi@scylladb.com>, 2019-04-16 15:35:46 +0300, , merge using custom allocator posix network stack elazar  patch series allows seastar user write use custom memory allocator posix socket discussed used optimization extra flexibility case special hardware http msg seastar dev hiprlbzt1ow cz3galxtbgaj  posix socket custom allocator http github.com elazarl seastar test simple test echo server posix stack use custom allocator posix stack allocator posix socket custom allocator posix stack allocator posix_socket allow specifying allocator posix stack accept allocator posix stack allow specifying custom allocator memory default allocator implementation include use include cstdef size_t memory allow temporary allocator use custom allocator compat std pmr compat moved experimental registery allow overriding network stack registery sstring compiler always infer initialized,,
2041,5d2d699f8aa7806889c456b37b4ec1cc32b08862,omasz Grabiec <tgrabiec@scylladb.com>, 2019-04-09 18:12:53 +0200, , memory tell reclaimers much reclaimed currently reclaimers invoked repeatedly enough memory free reclamation could done efficiently reclaimer implementation knew front much needed example compacting allocator could evict attempting expensive segment compaction reducing overall work may also allow reclaimers choose accurate faster way reclaim memory larger reclamation request message 1554826373 2490 git send email tgrabiec scylladb.com,,
2042,00a901c7683e2191fbce177b57ecec37f0d905a0,lexander Gallego <alex@vectorized.io>, 2019-04-15 15:33:48 -0400, , net ipv4_addr add std hash operator overload order use ipv4_addr container std unordered_map must overload hash equality operator signed alexander gallego alex vectorized.io message alex vectorized.io,,
2043,eb03ba5cdff8ee9509fab8fa9e1e55625494a5b5,vi Kivity <avi@scylladb.com>, 2019-04-16 12:20:45 +0300, , test test dialect continuous integration add dialect parameter build job invoke twice dialect circlci version bumped 2.1 support parameter message avi scylladb.com,,
2044,fd8ae1e5774a55cfde2587313261dc8858dff244,enny Halevy <bhalevy@scylladb.com>, 2019-04-16 11:51:41 +0300, , rpc compressor lz4 fix std variant related compiler error seen gcc 8.3.1 20190223 red hat 8.3.1 usr include variant instantiation constexpr std add_pointer_t const _tp std get_if const std variant _types ... _tp const seastar char _types std vector seastar char std allocator seastar char seastar char std add_pointer_t const _tp const seastar char include seastar util std compat.hh 118 required constexpr const seastar compat get_if const std variant _types ... const seastar char type std vector seastar char std allocator seastar char seastar char src rpc required usr include variant 962 error static assertion failed occur exactly alternative static_assert __detail __variant __exactly_once _tp _types ...  usr include variant instantiation constexpr const _tp std get const std variant _types ... _tp const std vector seastar char _types std vector seastar char std allocator seastar char seastar char include seastar util std compat.hh required constexpr const seastar compat get const std variant _types ... const std vector seastar char type std vector seastar char std allocator seastar char seastar char src rpc required usr include variant 902 error static assertion failed occur exactly alternative static_assert __detail __variant __exactly_once _tp _types ...  signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
2045,641899e44fba193cab35d6a7e2f0a30936ae8c73,lazar Leibovich <elazarl@gmail.com>, 2019-03-25 09:43:34 +0200, , test simple test echo server ensure custom allocator work posix socket following test configure seastar use custom allocator mark fact used global variable launch simple echo server accepts single connection server listening launch close connecting socket ensure custom allocator used signed elazar leibovich elazarl gmail.com,,
2046,67cc8c16b643427d4f09567918a4210cceacafd2,lazar Leibovich <elazarl@gmail.com>, 2019-04-07 01:37:50 +0300, , posix stack use custom allocator signed elazar leibovich elazarl gmail.com,,
2047,409871f99724a27b7ed6b2e45337fb9d3fd6a8d7,lazar Leibovich <elazarl@gmail.com>, 2019-03-26 19:14:30 +0200, , posix stack allocator final stage using custom allocator posix socket allow accept allocator socket would use allocate buffer signed elazar leibovich elazarl gmail.com,,
2048,03c96513532c73c428b8259d8960473a7d768540,lazar Leibovich <elazarl@gmail.com>, 2019-03-31 08:48:11 +0300, , posix socket custom allocator signed elazar leibovich elazarl gmail.com,,
2049,0ea95a55895b0c656a98536a8c3c8cf6df05ebc0,lazar Leibovich <elazarl@gmail.com>, 2019-03-31 08:42:53 +0300, , posix stack allocator signed elazar leibovich elazarl gmail.com,,
2050,6541a408ea403e065de42e5c22a3f64917c7ffd0,lazar Leibovich <elazarl@gmail.com>, 2019-03-26 11:45:33 +0200, , posix_socket allow specifying allocator signed elazar leibovich elazarl gmail.com,,
2051,d584cfb5b70521b7a172aacd8b3e5f1bcdfb545d,lazar Leibovich <elazarl@gmail.com>, 2019-03-20 09:08:57 +0200, , posix stack accept allocator,,
2052,0682e6d7d4e9f2859f435dfae17e8c22ee7d0d04,lazar Leibovich <elazarl@gmail.com>, 2019-03-18 15:17:45 +0200, , posix stack allow specifying custom allocator commit behavior change noticed add possibility changing memory allocator default remains malloc,,
2053,7f75bc7a79554c12187b58dba6d9e95ef1d056a5,lazar Leibovich <elazarl@gmail.com>, 2019-03-17 16:53:05 +0200, , memory default allocator implementation signed elazar leibovich elazarl gmail.com,,
2054,1a63650fdce8cb74f4b4d4dff8c047802e4745cb,lazar Leibovich <elazarl@gmail.com>, 2019-04-16 10:25:12 +0300, , include use include cstdef size_t helped compilation anyhow aspire include directly use signed elazar leibovich elazarl gmail.com,,
2055,42e93189f84003cb751f9c416903783f782335e6,lazar Leibovich <elazarl@gmail.com>, 2019-03-17 15:33:18 +0200, , memory allow temporary allocator use custom allocator signed elazar leibovich elazarl gmail.com,,
2056,3d04b3319adf0222dae0b54103f1a128bd9cacff,lazar Leibovich <elazarl@gmail.com>, 2019-04-16 08:13:16 +0300, , compat std pmr compat moved experimental discussion decided seatar would use std experimental pmr memory_resource even though currently experimental supported order reduce future work gcc move std experimental back std create alias std compat.hh http msg seastar dev g2vi5dvc8qg _c8o0p eaqaj signed elazar leibovich elazarl gmail.com,,
2057,201460a6c559a6e8d5c585de5c6eeccb6fb067e6,lazar Leibovich <elazarl@gmail.com>, 2019-03-26 12:49:32 +0200, , registery allow overriding network stack registery currently impossible override configuration done seastar run seastar run_deperecated patch allows user configure network stack advanced without seastar overriding configuration signed elazar leibovich elazarl gmail.com,,
2058,0cd75aca204a57a606e8d57d47fd970038d21879,lazar Leibovich <elazarl@gmail.com>, 2019-04-14 23:11:18 +0300, , sstring compiler always infer initialized gcc ubuntu always infer initialized disable warning specific line signed elazar leibovich elazarl gmail.com,,
2059,012afbd2f467e4d66dab7c2db0208f187784a42e,lazar Leibovich <elazarl@gmail.com>, 2019-04-15 16:10:51 +0300, , test futures_test allow project compile compiling project configure.py mode dev cook fmt dialect get 141 204 building cxx object test unit cmakefiles failed test unit cmakefiles usr bin test unit src include igen include isystem _cooking installed include std fconcepts fvisibility hidden undebug wall werror wno error deprecated declaration test unit cmakefiles test unit cmakefiles test unit cmakefiles test unit futures_test.cc test unit futures_test.cc member function virtual seastar future run_test_case test unit futures_test.cc 749 error use deleted function auto  test unit futures_test.cc 744 note declared delete  test unit futures_test.cc member function virtual seastar future run_test_case test unit futures_test.cc 770 error use deleted function auto  test unit futures_test.cc 744 note declared delete assume capture rvalue without moving move rvalue far expert reading standard http www.open std.org jtc1 sc22 wg21 doc paper 2013 n3690.pdf 5.2.1 page line every init capture non static data member named identifier init capture declared closure type member bit field mutable type member corresponds type hypothetical variable declaration form auto init capture except variable name i.e. identifier init capture replaced unique identifier note enables initcapture like std move second must bind declaration surrounding context end note entity captured init capture within lambda expression lambda declarator compound statement identifier init capture hide declaration name scope enclosing lambda expression understand special requirement rvalues init capture conclude whatever plea rvalue init capture therefor proper solution remove test compiling signed elazar leibovich elazarl gmail.com message elazarl gmail.com,,
2060,06e307ce50e1eb5ba733d75766b0679bc0b2c197,vi Kivity <avi@scylladb.com>, 2019-04-15 14:04:23 +0300,4272, merge io_queue make namespace global benny currently use global data structure register shard io_priority class use case like scylla open_sstable want share shard sender match recepient registered class identified name change make namespace global inserting one entry global data structure used shard preserve per shard created fair queue series change priority class identified fair queue using shard_id rather ref scylladb scylla 4272 bhalevy project global priority class ssh github.com scylladb seastar dev io_queue make namespace global add constructor io_queue std move name io_queue use mutex serialize registration io_queue use vector vector keep io_queue typedef,,
2061,cd9a78e2b9f2605b8f152e8a8163256ea1c4cbeb,enny Halevy <bhalevy@scylladb.com>, 2019-04-04 16:48:51 +0300,4272, io_queue make namespace global currently use global data structure register shard io_priority class use case like scylla open_sstable want share shard sender match recepient registered class identified name change make namespace global inserting one entry global data structure used shard shard lookup name share table found return entry index otherwise new entry added ref scylladb scylla 4272 signed benny halevy bhalevy scylladb.com,,
2062,0a924676b53166607c096117a6b3c2e7d5fe7436,enny Halevy <bhalevy@scylladb.com>, 2019-04-14 16:48:22 +0300, , add constructor rename protect val member _id use public constructor initialize index registered array entry signed benny halevy bhalevy scylladb.com,,
2063,1860be70654d949d6e666045707f0db62512845c,enny Halevy <bhalevy@scylladb.com>, 2019-04-15 08:27:17 +0300, , io_queue std move name prevent partial state change copy fails suggested avi kivity avi scylladb.com signed benny halevy bhalevy scylladb.com,,
2064,3aa1351d2f38f39d9dd0fb847de613b919f3a499,enny Halevy <bhalevy@scylladb.com>, 2019-04-14 16:21:05 +0300, , io_queue use mutex serialize registration happen time startup negligible mutex lock need use atomic variable initialization thereof signed benny halevy bhalevy scylladb.com,,
2065,0810d3a2f51f66a9da5533f04f50819d075e1970,enny Halevy <bhalevy@scylladb.com>, 2019-04-14 18:09:51 +0300, , io_queue use vector vector keep know magnitude index use two dimensional vector lookup per owner signed benny halevy bhalevy scylladb.com,,
2066,ee231d11796a6385f35db1cc7c9184d95f8b954e,enny Halevy <bhalevy@scylladb.com>, 2019-04-14 12:46:31 +0300, , io_queue typedef signed benny halevy bhalevy scylladb.com,,
2067,fe226dd6454c435e1a253178966809389e13152c,afael vila de Espndola <espindola@scylladb.com>, 2019-04-12 12:47:10 -0700, , future then_wrapped use std terminate instead abort exception try pas noexcept function std terminate called instead practice calling abort call terminate done unwind runtime show metadata exception handling table release size scylla text data dec hex filename 81077472 40896 271016 81389384 4d9e748 build release scylla  text data dec hex filename 79840020 40896 271016 80151932 4c7057c build release scylla signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2068,d4183a627f3b5bfd873de1b2846bc7c8b57a971e,lauber Costa <glauber@scylladb.com>, 2019-04-11 10:03:29 -0400, , reactor make metric task quota violation sensitive noticed field metric unfortunately bit misleading accumulates whatever time ran task quota even missed quota couple microsecond big problem fact life since timer thread fire exact time continuation check need_preempt continuously etc saw field result see metric showing moderately high even though backtraces log whatsoever even low rate patch change threshold accumulation accumulates time spent violation violated least extra task quota signed glauber costa glauber scylladb.com message glauber scylladb.com,,
2069,d863ed682c66d10a2b2f3afa8725fd91fa5bceb5,vi Kivity <avi@scylladb.com>, 2019-04-10 17:36:16 +0300, , merge add lz4_fragmented compressor rpc pawe  rpc subsystem support multiple compression algorithm connection established node negotiate use one preferred supported moment single compressor though lz4 compress whole message single call may cause problem message large lz4 library expects contiguous buffer therefore compressor would linearise message would cause current implementation allocate large buffer may cause excessive pressure memory allocator add copy buffer series solves problem introducing lz4_fragmented compressor lz4 stream interface compress message chunk way need allocate large contiguous buffer regardless message size copy kept minimum test unit dev debug rpc_test  tag rpc lz4_fragmented http github.com pdziepak seastar doc rpc compression describe lz4 lz4_fragmented algorithm doc rpc compression minor cleanup test perf add performance test rpc compressor rpc introduce rpc compressor lz4 use reusable buffer large allocation rpc compressor lz4 drop broken special case uncompressed message test rpc add test compressor rpc_types allow creating rcv_buf snd_buf vector,,
2070,94201f1cd1bfa5d048ecd9f0de5dd63ed0bba8d4,avel Solodovnikov <pavel.al.solodovnikov@gmail.com>, 2019-04-08 19:09:45 +0300, , fix build issue clang tested clang 7.0.1 place operator compat optional net inet_address family prior call site logger stringer_for fixed wunused lambda capture reactor.cc message gmail.com,,
2071,65bccca47bf50ebd28ecfb6809e8c764e3fcd173,vi Kivity <avi@scylladb.com>, 2019-04-08 17:12:07 +0300,3117, merge file_stat follow_symlink option related fix benny  stat follows symlinks use case want use lstat instead example see http github.com scylladb scylla issue 3117 scan directory want allow anything directory regular file provide option follow symlinks true default otherwise call lstat patchset also fix add testing file_stat directory_test unit test ref scylladb scylla 3117  bhalevy project file stat symlink ssh github.com scylladb seastar dev directory_test incorporate file_stat reactor fix type detection reactor file_stat offer option follow symbolic link,,
2072,a79d4b337a5229b4ba4a1613a6436627ed67b03d,adav Har'El <nyh@scylladb.com>, 2019-04-04 12:50:22 +0300, , doc tutorial.md reword mention seastar thread premption get tutorial wording suggesting get call blocking point seastar thread preempted naming location point may suggest even get doe fact block preemption happen point indeed case commit commit preemption happen get call actually block change wording clearer signed nadav har nyh scylladb.com message nyh scylladb.com,,
2073,62b1bdb698012579f625f50d776e1a06aa6e5351,vi Kivity <avi@scylladb.com>, 2019-04-04 13:46:16 +0300, , test semaphore_test relax timeouts semaphore_test sometimes fails loaded machine timeout related test likely timeouts expiring code supposed execute actually executed prevent increasing timeouts test still run 1.2 second message avi scylladb.com,,
2074,6f73675b93a28afc34e04731989328673e0823df,vi Kivity <avi@scylladb.com>, 2019-04-04 12:34:14 +0300, , merge seastar addr2line improve context backtraces botond  print prefix line containing first address prefix part line address backtraces identified prefix printing line trace helpful e.g scylla shard seastar_memory oversized allocation 5169152 byte please report 0x7cda88 add option filter backtraces resolved context line prefix useful resolving backtraces certain kind eliminating noise uninteresting trace improvement based recent experience investigating issue related seastar application scylla  seastar addr2line improve context http github.com denesb seastar seastar addr2line add match command line option seastar addr2line print prefix line containing first address seastar addr2line make description cozy,,
2075,b0520f552df1ff6240a2c18a051a519ba15fa957,leb Natapov <gleb@scylladb.com>, 2019-04-04 12:28:29 +0300, , log fix std system_error ostream operator print full error message patch aligns std system_error ostream operator std exception_ptr one fixed message scylladb.com,,
2076,7e2483ac867d7deff6fa6170c86667e1f5c147b0,leb Natapov <gleb@scylladb.com>, 2019-03-26 13:38:52 +0200, , revert thread yield get run long reverts commit yielding future get may cause unexpected surprising side affect happen function suppose atomic may consider example static bool void atomic true .then_wrapped auto f.get  assert false  assert ever trigger turn atomic called seastar thread context return ready future f.get may yield call atomic may reset false cause assert trigger message scylladb.com,,
2077,410430140e62944d83ab8872346b5fb7f4610f0d,omasz Grabiec <tgrabiec@scylladb.com>, 2019-04-03 16:44:33 +0200, , core queue document concurrency constraint reviewed nadav har nyh scylladb.com message 1554302673 2805 git send email tgrabiec scylladb.com,,
2078,574b538fb1b94752541bb249d27e19221544022f,omasz Grabiec <tgrabiec@scylladb.com>, 2019-04-03 15:37:21 +0200,608, core memory make small pool use full span size span size get large allocator larger requested size due internal constraint buddy allocator small allocator use extra page span waste also corrupts _pages_in_use incremented requested size decremented using allocated span size freed fix using full span fix 625 fix 608 message 1554298641 28804 git send email tgrabiec scylladb.com,,
2079,004d9cccdef46ca4242515570d185a42705fb56a,otond Dnes <bdenes@scylladb.com>, 2019-04-03 15:57:17 +0300, , seastar addr2line add match command line option allow optionally filtering backtraces resolving match filter helpful one resolving trace huge log file interested certain type backtraces filtering done context backtrace line number configurable prefix line first address backtrace see previous patch,,
2080,a66630743f7dfb35bf49209fa36f8f2800f339ff,otond Dnes <bdenes@scylladb.com>, 2019-04-03 15:52:23 +0300, , seastar addr2line print prefix line containing first address case information help identify certain backtrace found line first address backtrace address e.g apr scdb1 scylla shard seastar_memory oversized allocation 5169152 byte please report 0x7cda88 case printing line trace helpful one see prefix line containing first address order identify backtrace fix addition user configurable amount line backtrace also print prefix line first address resolved backtrace printed,,
2081,06078f6257809223b91d9ddb9a6b760b25230b7d,otond Dnes <bdenes@scylladb.com>, 2019-04-03 15:50:55 +0300, , seastar addr2line make description cozy add space period sentence,,
2082,63d8607b6cbcf0b1203810150875c07210ed6433,adav Har'El <nyh@scylladb.com>, 2019-04-02 13:33:08 +0300, , test verify negative sleep time cause infinite sleep debugging seastar application worry raised perhaps negative sleep_abortable doe finish immediately maybe bug sleep forever theory maybe bug timer implementation timer set past never expire wrote test verify sleep_abortable fact doe hang apparently bug signed nadav har nyh scylladb.com message nyh scylladb.com,,
2083,b1f5ff8cd259b4168dd68004d84f31441ed935c4,alle Wilund <calle@scylladb.com>, 2019-04-01 12:20:49 +0000, , httpd change address handling use socket_address i.e handle ipv6 message calle scylladb.com,,
2084,b48ec904a13002e0863d38469b62d1562bb40bb6,alle Wilund <calle@scylladb.com>, 2019-04-01 12:20:48 +0000, , dns change unspecififed address search type retrive first avail previously specifying address type defaulted ipv4 instead attempt resolve caveat need test explicitly numeric input actual address since doe handle numerics w.o actual type message calle scylladb.com,,
2085,771996f4f3a0a8d712072f9c65b34c3143bb4545,afael vila de Espndola <espindola@scylladb.com>, 2019-03-21 14:27:15 -0700, , allow when_all take function argument issue existing interface easy create future one want wait hit exception example when_all create_fut create_fut one call create_fut might return future next one throw passing function return future when_all convert exception failed future signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2086,ce4e1a27025c1e5f7ed9d483adcbd0c44bb70e2a,afael vila de Espndola <espindola@scylladb.com>, 2019-03-21 14:27:14 -0700,135, when_all abort memory allocation fails line already  fix 135 signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2087,148473f66da029df9425a0fc76f316024486a116,alle Wilund <calle@scylladb.com>, 2019-04-01 12:20:47 +0000, , inet_address add missing constructor impl message calle scylladb.com,,
2088,15ae21a134b0fcf0cad3426cdf6f63c11aa0c763,enny Halevy <bhalevy@scylladb.com>, 2019-03-31 16:48:19 +0300, , directory_test incorporate file_stat file_stat entry assert stat_data.type match signed benny halevy bhalevy scylladb.com,,
2089,d085a8267d07df3110e263b2a250f90b7c762cb3,enny Halevy <bhalevy@scylladb.com>, 2019-03-31 16:28:03 +0300, , reactor fix type detection add missing detection socket type properly detect regular file introduce unknown unrecognized file type fix indentation signed benny halevy bhalevy scylladb.com,,
2090,ab141f28f4ce30965ae31ca8df94dd4e76be3311,enny Halevy <bhalevy@scylladb.com>, 2019-03-30 17:26:05 +0300, , reactor file_stat offer option follow symbolic link stat follows symlinks use case want use lstat instead example see http github.com scylladb scylla issue 3117 scan directory want allow anything directory regular file provide option follow symlinks true default otherwise call lstat signed benny halevy bhalevy scylladb.com,,
2091,5572de7f794a94e6c2533f68d7da6571b3753734,enny Halevy <bhalevy@scylladb.com>, 2019-03-31 15:16:54 +0300, , posix_file_impl list_directory ignore symbolic link file type signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
2092,f954ec5ac79ad825577ae1c33e7cf123395466f5,leb Natapov <gleb@scylladb.com>, 2019-03-31 12:22:18 +0300, , prometheus yield explicitly metric processed commit introduced preemption point metric processed relies future get preemption going remove calling yield get let call explicitly message scylladb.com,,
2093,8574bf24954d5ac40c18a691d50df16acf6816cc,leb Natapov <gleb@scylladb.com>, 2019-03-31 11:56:42 +0300, , thread add maybe_yield function long running calculation thread yield thread time quota exceeded add helper function message scylladb.com,,
2094,0839a9e58d2043e404e2c79a98d3fede2a4fbaa3,ejan Mircevski <dejan@scylladb.com>, 2019-03-28 09:25:29 -0400, , metric add vector overload add_group existing metric_groups add_group version take argument constructed looping metric new overload make programmatic construction group definition possible test unit dev signed dejan mircevski dejan scylladb.com message dejan scylladb.com,,
2095,9358fe0b30646119e0390434843fbbc173cb77a8,lauber Costa <glauber@scylladb.com>, 2019-03-27 15:34:11 -0400, , memory tone message memory allocator scylla keep receiving ticket crash cluster tone message hope receive correct priority signed glauber costa glauber scylladb.com message glauber scylladb.com,,
2096,05efbce5ab4aab861779d4f2860a5033db3fdc99,leb Natapov <gleb@scylladb.com>, 2019-03-26 12:32:21 +0200,619, fix use free rpc server handler code take reference rpc handler pas later may defer handler unregistered executes use free fix rechecking verb handler deferring point fix 619 message scylladb.com,,
2097,2a0dad4c7e4b66c3b36ddd90b8cd0d14e50e05f4,enny Halevy <bhalevy@scylladb.com>, 2019-03-25 17:27:08 +0200, , rpc wait signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
2098,caa98f8515303026568607f7bf4d3f97c639987a,vi Kivity <avi@scylladb.com>, 2019-03-25 14:04:45 +0200,3117, merge add file_accessible file_stat method benny  see use case http github.com scylladb scylla issue 3117 test unit dev  bhalevy project file_accessible ssh github.com scylladb seastar dev reactor introduce file_stat test add file access test reactor file_exists use file_accessible reactor add file_accessible method reactor use path syscall_result,,
2099,0a9620558d5b8ed376c68725e9741e9e4f93cfef,enny Halevy <bhalevy@scylladb.com>, 2019-03-21 19:21:27 +0200, , reactor introduce file_stat generic stat structure signed benny halevy bhalevy scylladb.com,,
2100,59230b93cce27cbaed7fecd67376155b52c91c06,enny Halevy <bhalevy@scylladb.com>, 2018-12-13 18:11:50 +0200, , test add file access test test access_flags file_exists file_accessible signed benny halevy bhalevy scylladb.com,,
2101,ac7211dad1ce9d60fc7ce8e1289f0f8fcf854304,enny Halevy <bhalevy@scylladb.com>, 2018-12-13 17:23:57 +0200, , reactor file_exists use file_accessible signed benny halevy bhalevy scylladb.com,,
2102,c75f79a6dfdaaac8fa8f762478890ad7a307176a,enny Halevy <bhalevy@scylladb.com>, 2018-12-13 17:20:17 +0200, , reactor add file_accessible method signed benny halevy bhalevy scylladb.com,,
2103,643c8eef8d7a012fb91ad73968f58e5bae588863,enny Halevy <bhalevy@scylladb.com>, 2018-12-13 16:56:29 +0200, , reactor use path syscall_result also make throw method params const signed benny halevy bhalevy scylladb.com,,
2104,c37b914bf89fe4b582cc4cfde0d2c749bc88e6b3,afael vila de Espndola <espindola@scylladb.com>, 2019-03-13 09:39:26 -0700, , future use std terminate instead abort exception try pas noexcept function std terminate called instead practice calling abort call std terminate done unwind runtime show metadata exception handling table release size scylla text data dec hex filename 82541296 35824 275984 82853104 4f03cf0 build release scylla  text data dec hex filename 81228156 35824 275984 81539964 4dc337c build release scylla message espindola scylladb.com,,
2105,b2a2238458de9512ae5ff02d4cc4e65001a8367f,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-03-19 15:49:23 -0400, , build allow cooked dependency configure.py configure.py script quite convenient depends availability dependency system cooking.sh used fetch dependency locally development convenient option processing done configure.py reproduced hand change add repeatable cook dependency_name option configure.py dependency_name ingredient described  way example seastar configured local version fmt follows configure.py mode dev cook fmt signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2106,72228c80e303f248cca5d9b859aa70df297dc28a,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-03-19 09:44:56 -0400, , test show test output fails previously output test would printed default test.py since behavior ctest possible show information running test.py ctest verbose show output test irrespective whether successful change run ctest output failure show test output unless fails signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2107,9479c1d9262995ae04436d0f8ceca21790bb6b25,alle Wilund <calle@scylladb.com>, 2019-03-12 13:40:56 +0000, , posix_file_impl bypass flush call iff opened o_dsync file opened o_dsync fdatasync defined bypass already seastar level save syscall queue message calle scylladb.com,,
2108,ae5d535bef2ffbc237ca41b7b758aa1ebc2ab0f9,alle Wilund <calle@scylladb.com>, 2019-03-12 13:40:55 +0000, , posix_file_impl propagate keep open_flags keep open_flags posix file child well posix file handle note get actual flag one given open call sure also note code take upon reopen similar break message calle scylladb.com,,
2109,e2630dd2a29a7629e985fa8bb83dca17aca36762,alle Wilund <calle@scylladb.com>, 2019-03-12 13:40:54 +0000, , open_flags add o_dsync value enabling o_dsync mode file message calle scylladb.com,,
2110,9a15bcc01a169befa6a473e4533f3888596f19ca,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-03-11 16:07:53 -0400,616, build forward variable cmake correctly cmake equivalent name specified correctly configure.py wrong cmake variable set subsequently ignored configuration process also change name storage variable configure.py correspond directly cmake name leave option name unchanged interest maintaining compatibility fix 616 signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2111,33baf62b5c476b2e55e4815b56e9ef7af4dbc87f,vi Kivity <avi@scylladb.com>, 2019-03-18 20:37:49 +0200, , reactor improve detection io_pgetevents version docker syscall whitelist naturally date doe include io_pgetevents detection code call wrapper wrapper avoids syscall possible case iocb_cmd_poll work io_pgetevents blocked improve detection passing true force_syscall parameter force io_pgetevents called docker block syscall disable aio backend run message avi scylladb.com,,
2112,71de851eb418efb808429bf6212850e746fc1810,leb Natapov <gleb@scylladb.com>, 2019-03-14 11:58:08 +0200, , rpc fix stack use free frame reading function frame reading function get dst information logging purpose reference caller provide value stack fix getting value fixing type socket_address know small safe copy message scylladb.com,,
2113,abbad80c20572fb1342b4e1ea94bae9f7562ee76,otond Dnes <bdenes@scylladb.com>, 2019-03-14 15:39:02 +0200, , core thread enable move function use instead std function store thread main function thus enabling move lambda well signed botond bdenes scylladb.com message scylladb.com,,
2114,660101d50f707fff74fe9ef2d950dd329c98086d,awe Dziepak <pdziepak@scylladb.com>, 2019-03-13 15:47:09 +0000, , doc rpc compression describe lz4 lz4_fragmented algorithm,,
2115,f17ab514331246b2182fe7f41e28c2e2cefc48b3,awe Dziepak <pdziepak@scylladb.com>, 2019-03-13 15:28:52 +0000, , doc rpc compression minor cleanup,,
2116,d6464d598aee891fbdb0b6afb0e438610050f32e,awe Dziepak <pdziepak@scylladb.com>, 2019-01-29 14:51:05 +0000, , test perf add performance test rpc compressor,,
2117,13dc26d98cc00d9d6f6df394e276ff0122ed5d86,awe Dziepak <pdziepak@scylladb.com>, 2018-10-01 15:52:08 +0100, , rpc introduce flaw lz4_compressor need allocate contiguous input output buffer whole message apart cost linearisation also put additional pressure memory allocator may struggle provide large contiguous buffer one solution may reuse large buffer mean compressed decompressed data would copied large buffer moreover single call lz4 function pre empted may take unacceptably long time lz4_fragmented compressor address problem complex naive approach allows compression decompression without need allocate large contiguous buffer internally chunk try compress decompress without additional memory copy hood lz4_fragmented lz4 stream interface custom metadata byte per uncompressed data allows compressing data chunk without sacrificing compression ratio since compression current chunk depends previous one i.e independent need decompressed order problem case unfortunately stream interface appears slower default one loss performance depends largely size chunk,,
2118,81de5c3d052f0486c1d45ce09fc69da432e9559a,awe Dziepak <pdziepak@scylladb.com>, 2019-02-18 11:46:18 +0000, , rpc compressor lz4 use reusable buffer large allocation lz4 compressor requires input output buffer contiguous need linearised may cause large memory allocation sent received message patch change compression logic reuse preallocated buffer store input output actual compression decompression routine cost additional copy output data still possible call lz4 function take unacceptably long time pressure memory allocator going lower,,
2119,97a67fe3108c70b15eb45c2fdaaa18ce01c5c04e,awe Dziepak <pdziepak@scylladb.com>, 2019-02-18 09:32:08 +0000, , rpc compressor lz4 drop broken special case uncompressed message lz4 compressor decompression routine special case situation sender decided compress message right never happens idea future might existing receiver already able receive message unfortunately special case decompression code unused untested broken since strip metadata buffer returned user,,
2120,86ed239ccc29fb7e773311ebc4cb7652355fe54a,awe Dziepak <pdziepak@scylladb.com>, 2018-10-02 11:02:06 +0100, , test rpc add test compressor patch add generic test rpc compressor test lz4_compressor,,
2121,cb52a305ddb7fc8272b25ddff119acd8f64f84bf,awe Dziepak <pdziepak@scylladb.com>, 2018-10-01 15:51:52 +0100, , rpc_types allow creating rcv_buf snd_buf vector,,
2122,463d24ec0aa09de771e07e344d4ba10733bbbaae,uarte Nunes <duarte@scylladb.com>, 2019-03-13 13:43:42 +0000, , merge handle iov_max limit posix_file_impl pawe  series remove precondition posix_file_impl requires vectored use array iovecs larger iov_max take advantage preexisting precondition read writes allowed partial operation trim vector large making sure disk alignment requirement preserved test unit dev  tag posix file iov_max http github.com pdziepak seastar test file_io add test sanitize_iovecs core posix_file_impl drop unneded allocation iovecs vector test file_io verify vectored exceeding iov_max work core posix_file_impl enforce iov_max vectored,,
2123,e045af648020779f33a9b316a2ee9aea9537ddb8,iotr Sarna <sarna@scylladb.com>, 2019-03-12 17:25:40 +0100, , core remove unneeded exceptional future ignored report list_directory function seastar stream api used apply function directory entry case visitor throw stream correctly propagate error happens stream produce stream done called error still exists continuation chain start stream started used break do_until loop ultimately ignored remedy empty appended chain consume exceptional future get rid unneeded log warning message scylladb.com,,
2124,c66a38d050f7a58cfdd7d1ddcf987df43d30f8bf,awe Dziepak <pdziepak@scylladb.com>, 2019-03-07 13:03:55 +0000, , test file_io add test sanitize_iovecs,,
2125,4850a54281af6c58b442f907fe4cf881de27ce32,awe Dziepak <pdziepak@scylladb.com>, 2019-03-05 16:49:06 +0000, , core posix_file_impl drop unneded allocation iovecs vector,,
2126,4bb44b26ac4d3274e667356dfa4bce78d80e7090,awe Dziepak <pdziepak@scylladb.com>, 2019-03-05 15:42:54 +0000, , test file_io verify vectored exceeding iov_max work dma_write dma_read precondition requiring vector iovecs greater iov_max need test verifying case handled properly,,
2127,a46e33c2ddffbf6f437c4ece14ac2133a514b99c,awe Dziepak <pdziepak@scylladb.com>, 2019-03-05 14:57:12 +0000, , core posix_file_impl enforce iov_max vectored size iovec array used readv writev limited iov_max mean user vectored would ensure limit exceeded order avoid einval patch make posix_file_impl read write _dma enforce limit trimming long vector iovecs way preserve alignment required disk operation postconditions already allow partial operation user code already prepared handle situation,,
2128,260aea9904255bf0d427b0f87f404520bbcf9680,awe Dziepak <pdziepak@scylladb.com>, 2019-03-04 12:57:45 +0000, , test perf support multiple iteration single test run moment perf_test body expected perform single iteration tested operation however operation cheap may desirable perform multiple iteration single run test would allow reduce overhead also make possible user choose whether want measure latency throughput patch add option perf_test return size_t future size_t value interpreted number iteration run one call perf_test body final result adjusted accordingly message pdziepak scylladb.com,,
2129,e6403148bdf1943af599cc9f2f41097d7c5495dd,leb Natapov <gleb@scylladb.com>, 2019-03-05 14:41:47 +0200, , net enable binding socket connection seastar socket api receives local remote address connect call code bind socket local address connects remote one problem bind system call limited information future tuple address socket therefore find globally unused local port bind lot socket may run port luckily modern kernel socket option solves exactly problem allows postpone binding port connect operation destination address available port number satisfy unique tuple chosen patch also skip call bind local address whildcard one message scylladb.com,,
2130,4a56166bc19eabe08c28e6128682416f3bb6e855,lauber Costa <glauber@scylladb.com>, 2019-03-04 12:13:19 -0500, , core show address error message posix_listen failure posix_listen may fail usually port already use error message throw quite cryptic though sense tell address failed bind patch enriches exception message failed address help user figure wrong could potentially done inside bind listen point longer socket_address anymore instead providing different signature even playing sockaddr socket_address conversion kept handling caller  shard seastar exiting unhandled exception std system_error error system bind address already use  shard seastar exiting unhandled exception std system_error error system posix_listen failed address 127.0.0.1 10000 address already use signed glauber costa glauber scylladb.com message glauber scylladb.com,,
2131,cd88bfecf2e6ea2f94426066b15bb344a96de30e,vi Kivity <avi@scylladb.com>, 2019-02-25 17:40:21 +0200, , fmt remove submodule replace distribution provided package cooking.sh wild called without argument call cmake directly message avi scylladb.com,,
2132,e0c5b321f8bca91c78789371e05d595ed22f32f7,leb Natapov <gleb@scylladb.com>, 2019-02-28 14:09:05 +0200,606, test fix loopback socket close fail peer side already closed close fail side already closed socket fix 606 message scylladb.com,,
2133,36a872d4a3dda1a4f59bc14c89c65f46a772e1a7,vi Kivity <avi@scylladb.com>, 2019-02-27 14:27:05 +0200, , merge add suffix target name jesse  series add suffix target name test demo invoking build tool like ninja build release test unit futures_test work expected  jhk target_names http github.com hakuch seastar build add _demo suffix demo executables build add _perf suffix perf test executables build add _test suffix test executables,,
2134,10de909a27eef22a83e656d8abc93d21894c925e,enny Halevy <bhalevy@scylladb.com>, 2019-02-27 14:21:47 +0200, , improve documentation alignment param requirement add unit test aligned_alloc char aligned signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
2135,23e8b882be9adb09656ec70c11de7c1041b20c4a,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-02-25 12:38:31 -0500,614, doc fix dependency split tutorial target custom target cmake automatically propogate file level dependency explained blog post section titled file level dependency custom target propagated without change modifying tutorial.md building doc split output would regenerate tutorial.html fix 614 http 2015 cmake dependency target file custom command signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2136,7ddfca2a86a15fbbb688ea4db58597761f4474ea,olganik Alexander <sashas@lightbitslabs.com>, 2019-02-26 15:41:56 +0200, , deleter prevent early memory free caused deleter append deleter append unwind chained deleters cause early free object referenced shared deleter deleter shared leading impl refcount updated chained deleters lifecycle managed leading deleter impl via next chain therefore unwinding chain append limit lifecycle chained object deleter append called completely ignoring shared delter created share signed solganik alexander sashas message sashas,,
2137,7a21b6429c79ba743f68d504237c5bf4fb939f83,adav Har'El <nyh@scylladb.com>, 2019-02-25 12:07:27 +0200, , doc tutorial.md introduce memory allocation foreign_ptr partial introduction memory allocation seastar still lot added future also foreign_ptr signed nadav har nyh scylladb.com message nyh scylladb.com,,
2138,f0c08558d702c80020dc2dea1b17c3691a07ae5b,ippolyte Barraud <hippolyte.barraud@gmail.com>, 2019-02-25 16:13:55 +0800, , fix cli help message network dpdk option currently cli help message never show network stack option dpdk setting help message generated boost program_options constructor app template smp configure called patch separate reactor configuration routine registration network stack respective cli option message gmail.com,,
2139,ab54765e4e21efc3e116cc034da2c585f1646e66,adav Har'El <nyh@scylladb.com>, 2019-02-24 15:17:12 +0200, , fix static_assert single parameter static_assert introduced taking two argument expression check error message added option dropping second argument showing expression failed seastar supposed usable use feature found three occurances single argument static_assert crept code based fixed patch signed nadav har nyh scylladb.com message nyh scylladb.com,,
2140,7cedcb4864d1ab9aaeb23e1217a3b767dc9e8cd3,adav Har'El <nyh@scylladb.com>, 2019-02-24 14:56:05 +0200, , readme.md fix date explanation dialect readme.md suggests seastar build default special step need taken build 17. today actually way around let correct instruction also since user probably build seastar using configure.py use cmake directly building seastar explain configure.py option use different dialect left part mostly unchanged probably rewritten clearer think still mostly correct signed nadav har nyh scylladb.com message nyh scylladb.com,,
2141,b07b4136fd49ad7ad8f2ac29b35d6ce004ff6aad,vi Kivity <avi@scylladb.com>, 2019-02-23 17:31:15 +0200, , net fix tcp load balancer accounting leak moving socket shard connection load balancing two path one non listening shard already waiting connection another listening main shard got connection first queueing time non listening shard get round dequeue second case forgot pas along conntrack handle account load balancer data structure cause shard used second path later receive fair share test unit dev manual test httpd message avi scylladb.com,,
2142,45b93a4c5904aa5669c1a45d2abccc2921ce78d8,vi Kivity <avi@scylladb.com>, 2019-02-24 14:14:18 +0200, , revert deleter prevent early memory free caused deleter append reverts commit doe build test unit deleter_test.cc error within comment werror comment copyright 2019 lightbits lab ltd. right reserved,,
2143,168a7f5de962ca37464b8ca7b6ef7db809b3ae83,lexander Solganik <solganik@gmail.com>, 2019-02-24 11:25:43 +0200, , deleter prevent early memory free caused deleter append deleter append unwind chained deleters cause early free object referenced shared deleter deleter shared leading impl refcount updated chained deleters lifecycle managed leading deleter impl via next chain therefore unwinding chain append limit lifecycle chained object deleter append called completely ignoring shared delter created share signed solganik alexander sashas message sashas,,
2144,a90f72027b2c503aec28cdec3fd82b62b84b4f28,ichael Zhuang <richael.zhuang@arm.com>, 2019-02-21 10:45:37 +0800, , solve failure debug mode debug mode need boost_require check parameter debug seastar_debug according cmakelists.txt jira entwls 853 change signed richael zhuang richael.zhuang arm.com message richael.zhuang arm.com,,
2145,4e2ce4c5bd8ac0e29220ae114e1294f5718762c2,ndrey Petrusenko <code@andrey.fast-email.com>, 2019-02-20 22:40:03 +1100, , fix iovec based read_dma use make_readv_iocb instead make_read_iocb typo implementation posix_file_impl read_dma iovec input writes iovec instead data point message 14bcb39c a633 23d3 cb6e a48a863f8bea fastem.com,,
2146,2ca58114559fecba7c775411c7e107b65c909a43,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-02-19 16:00:15 -0500,559, build fix required version fmt earliest version fmt support based public api 4.0.0 however hit http github.com fmtlib fmt issue 744 minimum released version work 5.0.0 fix 559 signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2147,1aacf7d365a93254d8b982b137d5ba624ac8ddfb,lauber Costa <glauber@scylladb.com>, 2019-02-18 12:05:48 -0500, , app_template fix use move app constructor referencing cfg attribute cfg moved already seems work duration type move destructive still confusing reader good practice found code inspection searching something else signed glauber costa glauber scylladb.com message glauber scylladb.com,,
2148,fdc10963ee1826cb0a892701b6650ff286e694d5,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-02-15 12:18:29 -0500, , build rename cmake variable private flag since dev mode previous name little confusing consistent cmake target property _cxx_flags rename variable like   also rename amended seastar target seastar_private signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2149,2313decc03f2a1156d3d1f8f66eeaaf4618bf134,vi Kivity <avi@scylladb.com>, 2019-02-14 16:25:28 +0200, , deprecate favor provides better functionality inheritance along continuation chain submit_to call even rpc better performance require high precision timer per thread time deprecate view retiring later message avi scylladb.com,,
2150,9080d2a937c6dd38062357f065a35e9ce748e397,vi Kivity <avi@scylladb.com>, 2019-02-14 18:44:14 +0200, , merge fix doxygen documentation jesse  patch fix issue seastar api documentation generated doxygen  jhk fix_doxygen http github.com hakuch seastar doc ensure header file searched doxygen doc show proper header file name class doc search generated header source,,
2151,e259098a789d6b5116c5aa5d612a5506c3fe3a4a,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-02-14 11:30:17 -0500,605, doc ensure header file searched doxygen header file contain doxygen mark i.e. documented contain definition need processed doxygen order successfully parse header file documented change rendered doxygen html includes previously missing documentation class like seastar future fix 605,,
2152,620624608c54ec9fb28568eeaffe54ccd0101969,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-02-14 11:29:52 -0500, , doc show proper header file name class without change generated html doxygen class seastar future say include future.hh change say include seastar core future.hh,,
2153,9888c08e7b1312ecbbbeef3101a829656d93b3a3,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-02-14 11:28:35 -0500, , doc search generated header source want doxygen search file gen include gen src,,
2154,0dab3242f4717f892ccdc0595f836c0666b214f8,vi Kivity <avi@scylladb.com>, 2019-02-13 12:09:42 -0800, , future optionally type erase future future then_wrapped future future then_wrapped template usually called distinct func type per invocation since type usually lambda mean code then_wrapped compiled different function invocation moreover func operator invoked twice compiler start inlining even code compiled result explosion generated code compile time combat provide mode func type erased meat then_wrapped called reduces amount generated code significantly also call discourage compiler attempting inline result decrease generated code presumably compile time large source file note type erasure partial still version future specialiation result type far fewer combination individual invocation function message espindola scylladb.com,,
2155,861da6e37ba07a2a7702b64fd51c5a0507284383,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-02-13 12:54:04 -0500,602, build allow deprecated declaration internally change code internal seastar repository reference deprecated declaration issue warning trigger error consistent way seastar behaved prior switch cmake fix 602 test dist release signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2156,a471e1402eb8e284b82cd3b65eb82cd0d8abebac,leb Natapov <gleb@scylladb.com>, 2019-02-14 10:35:23 +0200, , rpc fix insertion server connection server container server hold shared pointer connection ensures stop wait terminated connection disappear prematurely since always one shared pointer streaming enabled server insertion code doe work insert one connection drop others fix generating unique connection even streaming enabled message scylladb.com,,
2157,44d6cf57c077a72e998b082e179db62a7f4773cc,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-02-13 10:44:16 -0500, , build add _demo suffix demo executables change executable target demo ip_demo,,
2158,78fc32f91be27c40d99302b37e48c9266b6129c4,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-02-13 10:38:11 -0500, , build add _perf suffix perf test executables change executable target test perf fstream_perf,,
2159,027ba202db805968ee121ffb1f6a6a0df60cb25e,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-02-13 10:34:24 -0500,604, build add _test suffix test executables change future test produce executable named test unit futures_test executable referenced name qualified alias ninja build release test unit futures_test  ninja build release fix 604,,
2160,5e464a23745a5f51681e5727f59dd62c90b3e28f,afael vila de Espndola <espindola@scylladb.com>, 2019-02-12 14:50:59 -0800, , rpc split boost_require long condition multiple boost_require fails clear false better write boost_requires signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2161,11546d478c94f8b8db103eee1ceb0f1163bc0844,afael vila de Espndola <espindola@scylladb.com>, 2019-02-12 08:27:49 -0800, , reactor fix infinite loop caused high resolution timer monitored loop waiting need_preempt return true happen kernel must update preemption ring ring updated time request finish assume anything left must ensure timerfd preemption ring signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2162,3291b117bc54c1f1f8b1938d184b900aa39882d8,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-02-12 09:57:38 -0500,601, build add back previously defined debug build feature sadly lost cmake transition fix 601 test unit debug dist debug signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2163,3f85021da967e093927adc9c769d3107df054013,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-02-07 15:41:38 -0500,560, build unify dependency version requirement dependency cmakelists.txt cmake match fix 560 signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2164,e7d25985dee64c523eda5d861d6bdd81f11e016a,vi Kivity <avi@scylladb.com>, 2019-02-10 19:35:14 +0200, , future util optimize single element given single element one last one immediately available avoid creating state return last future save state creation also continuation then_wrapped test unit release message avi scylladb.com,,
2165,f7621ffeaa563570546ac94a9466894934a9f580,otond Dnes <bdenes@scylladb.com>, 2019-02-12 11:22:15 +0200, , core sharded.hh fix doxygen multicore group multicore module missing generated doxygen documentation entirety due error doxygen comment patch fix error namely move group definition outside seastar namespace make sure group start end marker inside said namespace replace unknown command equivalent markup add missing endcode command fix typo documentation well signed botond bdenes scylladb.com message scylladb.com,,
2166,34b8eda1862f4a8512fd5cece94adaf21bc45cae,vi Kivity <avi@scylladb.com>, 2019-02-06 20:10:51 +0200, , build switch travis circleci travis doe first class support docker supported image old year switch circleci allows building docker container directly without intermediate step docker image name scylladb seastar toolchain generated docker dev dockerfile attempt made optimize build wide test matrix intent provide working foundation optimized later message avi scylladb.com,,
2167,9ed5fca9207f81662dd205b5c778890165959f3f,lad Zolotarov <vladz@scylladb.com>, 2019-02-08 20:41:42 -0500,571, perftune.py fix irqbalance tuning ubuntu use correct option key irqbalance_args system systemd irqbalance packaging option system lsb irqbalance packaging fix 571 signed vlad zolotarov vladz scylladb.com message vladz scylladb.com,,
2168,26dff414c2f407597e3ec447047a9451bd467ca4,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-02-07 15:30:34 -0500, , build make use sanitizers transitive sanitizers enabled program link library sanitizers enabled conservative ensure sanitizers enabled transitively time already way pkg config worked change ensures consumer seastar using cmake behave way eliminate pkg config variable sanitizers part expansion also eliminate variable signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2169,2034f8d9561e550e3af5bb0f84d0cba1c7ca32c2,vi Kivity <avi@scylladb.com>, 2019-02-06 19:03:18 +0200, , net ipv6 fix ipv6 detection test binding loopback workstation binding default ipv6 address result local_address returning well cause sendto fail network unreachable error failing test docker container bind succeeds even though loopback address doe ipv6 address causing test fail fix binding ipv6 detection ipv6 test verified via strace detection work ipv6 enabled machine message avi scylladb.com,,
2170,428f4ac8fe3548e827696ca2ea8d68456e399e07,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-02-07 12:07:35 -0500, , build make dist test respect build type previously seastar would always configured built using release mode dist test even another type configured seastar configured debug mode example also seastar configured execution dist test signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2171,7dce74bff758157dc4b3072483a089c178f59504,uarte Nunes <duarte@scylladb.com>, 2019-02-07 16:09:27 +0000,582, merge add support docker cpuset cpu juliana  docker cpuset cpu parameter limit cpu using cgroups seastar map cpu take cgroups account series encloses cgroups related function including older cgroup namespace check cgroup cpuset.cpus seastar cpu set thus prevents seastar allocating cpu supposed allocated causing error fix 582  cgroup_cpu_set http github.com jwnx seastar reactor check cgroup cpu_set cpu pinning cgroup create cpu_set memory_limit function resource extract parse_cpus validate,,
2172,b5a2a33b6580c3b3c3fb709660d272526afede9f,uliana Oliveira <juliana@scylladb.com>, 2019-01-07 17:56:24 -0200, , reactor check cgroup cpu_set cpu pinning configure cpuset checked set doesnt match mounted cgroups seastar send warning shutdown set cgroup mounted read cgroups signed juliana oliveira juliana scylladb.com,,
2173,2f512b7dbb7c03a9a202869ea1f117a39148a4a5,uliana Oliveira <juliana@scylladb.com>, 2019-01-07 17:55:02 -0200, , cgroup create cpu_set memory_limit function moved old cgroup memory_limit created cgroup cpu_set signed juliana oliveira juliana scylladb.com,,
2174,d4319d9707f9b7f602582c52b939e11903777c55,uliana Oliveira <juliana@scylladb.com>, 2019-01-07 10:48:07 -0200, , resource extract parse_cpus validate signed juliana oliveira juliana scylladb.com,,
2175,de56cd1dfe8eab6a2718d62b950c912574c4b27d,vi Kivity <avi@scylladb.com>, 2019-02-06 14:44:13 +0200, , merge add support coroutines pawe  series add experimental support coroutines requires clang need enabled flag enable experimental coroutines header file seastar coore coroutines.hh provides needed start using libc required coroutines seamlessly integrate seastar continuation future promise function return future made coroutine coroutine future last patch add demo show basic usage known problem limitation open todo clang prevents ubsan working coroutines http bugs.llvm.org show_bug.cgi 36296 patch clang work around http d44672 resuming coroutine involves double indirect call first virtual function task run_and_dispose actually resume coroutine could improved tighter integration reactor.cc coroutines considering experimental status probably early still missing probably delay series coroutines standard bug free compiler test unit release gcc8 without coroutines patched clang8 coroutines  tag coroutines http github.com pdziepak seastar demo add coroutines demo test add coroutines test add support coroutines core add std coroutine.hh,,
2176,228f83997fb5bc42cb09732c59206d3e83b7d989,omasz Grabiec <tgrabiec@scylladb.com>, 2019-02-06 12:53:32 +0100, , merge modernize dependency management avi modernize simply dependency management drop old package repository distribution favor date distribution software collection improve code install dependencies.sh update docker image unify install dependencies.sh attempt made ensure distribution equally well supported provide better baseline anyone wish maintain http github.com avikivity seastar docker deps install dependencies.sh modernize ubuntu support install dependencies.sh modernize centos package install dependencies.sh break long line install dependencies.sh simplify centos logic docker add .dockerignore docker rebase development docker image fedora docker use install dependencies.sh dependency list,,
2177,82061eb56cda6af105a1b8c7eecc8a57e63ef90a,awe Dziepak <pdziepak@scylladb.com>, 2019-01-08 19:26:03 +0000, , demo add coroutines demo,,
2178,af09882c0fc4b15f0fb9b33741fe99e4d3914f2f,awe Dziepak <pdziepak@scylladb.com>, 2019-01-08 19:25:40 +0000, , test add coroutines test,,
2179,dc3488ecf8f798d8891daa7a7839f28f786e2116,awe Dziepak <pdziepak@scylladb.com>, 2019-01-08 19:25:22 +0000, , add support coroutines patch add necessary glue make coroutines work seastar future promise integrate seamlessly function return future may become coroutine,,
2180,b26eb0f4e7f0e248c40be11795cb3a0478259144,awe Dziepak <pdziepak@scylladb.com>, 2019-01-15 01:18:25 +0000, , core add std coroutine.hh std coroutine.hh contains necessary part experimental coroutine added coroutines used even standard library implementation provide header e.g libstdc,,
2181,5e61045aef3b14775c795bb3e6bf060d8ad5dddf,awe Dziepak <pdziepak@scylladb.com>, 2019-01-29 20:20:23 +0000, , future propagate broken_promise exception abandoned continuation future promise model possible promise destroyed ever value set particular may lead two problematic scenario promise abandon future attempt attach continuation thread future promise abandon future continuation thread already attached moment lead undefined behaviour varying continuation chain getting stuck segmentation fault patch change case broken_promise exception propagated waiting continuation thread thus avoiding undefined behaviour message pdziepak scylladb.com,,
2182,8000f1b15e5adcefbfae8cbeb16ebd8291b6521c,awe Dziepak <pdziepak@scylladb.com>, 2019-01-30 12:57:38 +0000, , net inet_address avoid clang wmissing brace message pdziepak scylladb.com,,
2183,dd28835cb141bd5715d24a13450810f424b00d2a,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-02-05 14:02:47 -0500,597, build default release type unspecified defined expected possibility cmake project default release build type fix 597 signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2184,5aa42eba6423bbe26a3dbb8f8e80a389e26bd63e,leb Natapov <gleb@scylladb.com>, 2019-02-05 14:12:08 +0200, , rpc log exception may happen processing rpc message message scylladb.com,,
2185,df47d839f75c7bf82d7a769a26f925fefa4cdfbe,afael vila de Espndola <espindola@scylladb.com>, 2019-02-03 16:24:37 -0800, , add split dwarf option configure.py preparation add scylla signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2186,0fe908b0b21726a856ec41b50951f874a078572d,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-01-30 19:55:11 -0500,590, build fix stdfilesystem module client cmake link seastar cmake process body without processing seastar cmakelists.txt therefore use seastar cmake cache variable definition define new variable set prior invoking find_package stdfilesystem order control dialect used test variable set use compiler default dialect test seastar configured set value two variable synchronized fix 590 test dist release signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2187,85d4278a7a897fcbc06225c6b45cfe025288c35e,afael vila de Espndola <espindola@scylladb.com>, 2019-01-31 09:02:53 -0800, , compress debug info default match pre cmake behavior scylla doe look like option supported since gcc clang use unconditionally signed rafael vila esp ndola espindola scylladb.com reviewed jesse haber kucharsky jhaberku scylladb.com message espindola scylladb.com,,
2188,8560b2a67924d80e2847cda5667617d6fe1d281d,afael vila de Espndola <espindola@scylladb.com>, 2019-02-01 11:31:44 -0800, , add option building split dwarf main advantage gdb index speed gdb startup machine running gdb debug version scylla command main   set take 17.5 second take 45.1 second leaving debug info .dwo file also make viable drop save time compressing decompressing debug info signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2189,fdebfcbfe19c48462c77910fae67cd32d95b67d1,vi Kivity <avi@scylladb.com>, 2019-02-03 12:13:25 +0200, , docker use install dependencies.sh dependency list instead repeating package list use install dependencies.sh,,
2190,efa726058f4cc5093727e020a765e1746af9b946,vi Kivity <avi@scylladb.com>, 2019-02-03 12:12:59 +0200, , docker rebase development docker image fedora newer compiler stuff,,
2191,0fda3c126f8e0fefc9a93ed17c6565aeefa6a580,vi Kivity <avi@scylladb.com>, 2019-02-03 11:47:50 +0200, , docker add .dockerignore reduces build time avoiding passing around git repository object file,,
2192,e9b6830beb2fa5f8346c8d5e77c1b271755cbb48,vi Kivity <avi@scylladb.com>, 2019-02-03 11:27:24 +0200, , install dependencies.sh simplify centos logic unify two conditionals one,,
2193,3611ff31c39a006fa1806484cbbb50708571e4a0,vi Kivity <avi@scylladb.com>, 2019-02-03 11:25:58 +0200, , install dependencies.sh break long line collect package list array variable one element per line readability git merge ability,,
2194,bb7481a5fb19486a5caf9c3cff60cab60a8d7323,vi Kivity <avi@scylladb.com>, 2019-02-03 11:14:03 +0200, , install dependencies.sh modernize centos package bring package software collection instead longer maintained scylla copr repository,,
2195,d546a6159323deb34d7fc6acb22558731a0ed2a4,vi Kivity <avi@scylladb.com>, 2019-02-03 10:50:25 +0200, , install dependencies.sh modernize ubuntu support get rid ubuntu 14.04 install rather modern ubuntu recent supported compiler,,
2196,e622efc462e9fd36e53084c636f1dbe015eb0c50,os Guilherme Vanz <guilherme.sft@gmail.com>, 2019-02-02 15:05:53 -0200, , dockerfile install stow update dockerfile used build container build seastar stow missing dnf install command signed jos guilherme vanz jvanz jvanz.com message guilherme.sft gmail.com,,
2197,c3be06df53f153991ce3ccbcdf7651451b59bd7c,leb Natapov <gleb@scylladb.com>, 2019-01-31 11:13:58 +0200, , rpc support closing streaming sink source created currently close stream sink source closed sometimes one available may happen rpc send sink server fails corresponding source never received happen way close exiting stream patch fix marking side stream open time sink source created one side never created closed message scylladb.com,,
2198,2f3573178e7268f36d21ecdf09b4a83e22665579,vi Kivity <avi@scylladb.com>, 2019-01-30 14:46:18 +0200, , merge initial seastar ipv6 support calle  also seastar dev calle ipv6 add ipv4 mirror type embedding address type seastar change posix stack allow ipv6 address bind connect change udp interface use socket_address protocol agnostic address port connect send receive change udp packet return socket_address packet src dst change posix stack allow ipv6 udp change rpc allow ipv6 connectivity add local address query server tcp udp socket includes minimal ipv6 test  calle ipv6 github.com cloudius system seastar dev ipv6_test add small ipv6 test server_socket add local address accessor native_stack make host_address const udp_socket add local address accessor network_stack add ipv6 support query rcp make rpc use socket_address support ipv6 rpc move log file udp redefine address used socket_address posix stack add ipv6 support tcp inet_address add wildcard constructor family cleanup inline helper function socket_address add operator add socket address uint16_t port constructor ipv4 0.0.0.0 port make socket_address default constructor ipv4 add ipv6 support socket_address add ipv6_addr add ipv6_address support inet_address add packed ipv6 address,,
2199,6ff32500cf632d9c5c02b60be7041b48eefa46fe,alle Wilund <calle@scylladb.com>, 2019-01-28 14:29:10 +0000, , ipv6_test add small ipv6 test borderline useless least check bind posix stack socket ipv6,,
2200,56a0d0b2fb8459087e46660c2aa56fc9a8cbf93e,alle Wilund <calle@scylladb.com>, 2019-01-28 14:28:07 +0000, , server_socket add local address accessor sometimes help query address port wildcard bind bound,,
2201,9e97e9d8075512552e7e61aa9923ded40aa8deb7,alle Wilund <calle@scylladb.com>, 2019-01-28 14:25:57 +0000, , native_stack make host_address const,,
2202,4686877cf94f8be6af0639eacf257b59eb6cd797,alle Wilund <calle@scylladb.com>, 2019-01-28 14:23:53 +0000, , udp_socket add local address accessor somewhat useful able query address port one got binding wildcard,,
2203,48f66fde2decd622ad03cdebbc593ac0fac9eb9c,alle Wilund <calle@scylladb.com>, 2019-01-28 14:17:51 +0000, , network_stack add ipv6 support query 100 correct since really per interface etc still allows info hint hint test,,
2204,cdd518384e656b3bf4166023c4cb183613973325,alle Wilund <calle@scylladb.com>, 2019-01-16 07:45:30 +0000, , rcp make rpc use socket_address support ipv6,,
2205,9c78eb874ec7600cc072b02143b397ea5ea983df,alle Wilund <calle@scylladb.com>, 2019-01-16 06:26:50 +0000, , rpc move log file,,
2206,0a127f8b5be2d340874ea13995692e7b22fdf99a,alle Wilund <calle@scylladb.com>, 2019-01-16 06:12:21 +0000, , udp redefine address used socket_address upd interface packet hardcoded use ipv4_addr dest source address redefine instead use socket_address contains multiplexing needed handle optional ipv6 since socket_address also translated transparently ipv4_addr existing program continue work add actual ipv6 support posix stack udp,,
2207,a35604744e0806b5ef58e21f8cdbfc94cc5590cd,alle Wilund <calle@scylladb.com>, 2019-01-16 06:09:04 +0000, , posix stack add ipv6 support tcp,,
2208,669685c7856bc1f768e05b0ef3c8993a5a69b543,alle Wilund <calle@scylladb.com>, 2019-01-28 14:25:18 +0000, , inet_address add wildcard constructor family corresponding af_inet af_inet6 zeroed addr,,
2209,4f4722d6375f441a77c5064ecff19215e212e101,alle Wilund <calle@scylladb.com>, 2019-01-16 06:07:04 +0000, , cleanup inline helper function,,
2210,cd4aa30c82690dd4bbc1129eba073e720ea91303,alle Wilund <calle@scylladb.com>, 2019-01-28 14:28:21 +0000, , socket_address add operator,,
2211,4bca94ac1f357c27255d5a83cda227d1744041cb,alle Wilund <calle@scylladb.com>, 2019-01-30 12:04:38 +0000, , add socket address uint16_t port constructor ipv4 0.0.0.0 port,,
2212,07e1ed32ad079692e26d38985a7de20574e066e7,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-01-29 22:53:45 -0500,595, build upgrade cmake cooking 0.10.0 full change log available project home page important change cooking.cmake written build directory mean build modify source file default cooking.sh assumes recipe named necessary indicate recipe explicitly option change update relevant documentation test fix 595 signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2213,0f7e08f98b8d6653b61060e3cacf5f7bf571b81e,awe Dziepak <pdziepak@scylladb.com>, 2019-01-29 20:38:47 +0000, , reactor fix gcc7 recognising no_sanitize undefined no_sanitize undefined attribute recognised gcc8 clang gcc7 accepts solution macro message pdziepak scylladb.com,,
2214,44c1b6296064ebb36a035fa34cf22a5bec47bb50,vi Kivity <avi@scylladb.com>, 2019-01-29 22:19:39 +0200, , merge fix clang build pawe  series contains several fix needed make possible compiler seastar clang test unit release gcc8 clang8  tag fix clang build http github.com pdziepak seastar test allocator drop hide gcc pragmas clang exception_hacks use used instead reactor use no_sanitize undefined memory use old style attribute lambda memory use gnu used instead gnu test httpd ask default move ctor treewide drop unused private class member apps iotune drop struct std vector test mock_file add missing override apps io_tester fix class struct mismatch apps io_tester add virtual dtor class_data treewide drop unneeded lambda capture treewide remove redundant harmful move,,
2215,3ce7421e1da4214af976823b14e12fc2d32e02ed,awe Dziepak <pdziepak@scylladb.com>, 2019-01-29 19:23:10 +0000, , test allocator drop incorrect casues mismatch aligned new default delete happy  aligned allocation properly tested,,
2216,88d9aea495279a8480370319b90b575714924317,awe Dziepak <pdziepak@scylladb.com>, 2019-01-24 20:29:15 +0000, , hide gcc pragmas clang unsurprisingly clang issue gcc specific pargmas,,
2217,8cb659c213407df430b4b2b8b3893402cfbffb44,awe Dziepak <pdziepak@scylladb.com>, 2019-01-14 21:41:02 +0000, , exception_hacks use used instead gnu supported clang also weaker gnu used since force inlined function emitted,,
2218,dd06866913464b9117409b3e76ad54a2d1abcc6c,awe Dziepak <pdziepak@scylladb.com>, 2019-01-14 21:40:32 +0000, , reactor use no_sanitize undefined gnu supported clang,,
2219,a4049de3c8ddaf91655c2df1d23e651ab45334f8,awe Dziepak <pdziepak@scylladb.com>, 2019-01-14 21:39:21 +0000, , memory use old style attribute lambda attribute apply lambda operator function type function mean example noreturn used context come compiler specific attribute gcc appears care clang doe using old style __attribute__ appeases compiler,,
2220,de92e3031bf59ac0425fe967b3eb9067343f07aa,awe Dziepak <pdziepak@scylladb.com>, 2019-01-14 18:58:08 +0000, , memory use gnu used instead gnu gnu used seems better choice gnu guarantee function actually exist since unaffected inline supported clang,,
2221,16405cd39d89a4e6adcea2afe6c34c9d6fcba9a8,awe Dziepak <pdziepak@scylladb.com>, 2019-01-14 21:41:32 +0000, , test httpd ask default move ctor,,
2222,7568c5030247c060db2a6bd5fefed1a44eaed6ce,awe Dziepak <pdziepak@scylladb.com>, 2019-01-14 18:19:28 +0000, , treewide drop unused private class member,,
2223,4bb3695164b8df8dc7eee997418ab29df5eefb47,awe Dziepak <pdziepak@scylladb.com>, 2019-01-14 18:04:48 +0000, , apps iotune drop struct std vector,,
2224,6f0afe89af826cec168616f9bbe7c97492047244,awe Dziepak <pdziepak@scylladb.com>, 2019-01-14 21:35:24 +0000, , test mock_file add missing override,,
2225,e2e0f7d3f5f10a100ef245e0faea1eb48296b9a4,awe Dziepak <pdziepak@scylladb.com>, 2019-01-14 18:00:32 +0000, , apps io_tester fix class struct mismatch,,
2226,65e40b8a4f53e034b10b61522c0ce167e99b128e,awe Dziepak <pdziepak@scylladb.com>, 2019-01-14 18:00:10 +0000, , apps io_tester add virtual dtor class_data,,
2227,babeeffeeee8ceb65ad9ef8bfd419a33d25f744e,awe Dziepak <pdziepak@scylladb.com>, 2019-01-14 17:54:09 +0000, , treewide drop unneeded lambda capture,,
2228,bf6b619b7c4835ba8a45434c71f0858f27f76b15,awe Dziepak <pdziepak@scylladb.com>, 2019-01-14 17:44:20 +0000, , treewide remove redundant harmful move,,
2229,83696ff7a977c58c008b51a1510ed60d66b9799f,alle Wilund <calle@scylladb.com>, 2019-01-16 07:44:58 +0000, , make socket_address default constructor ipv4,,
2230,7c6dbfff6924896f28f1a121a665380378a99847,alle Wilund <calle@scylladb.com>, 2019-01-16 05:55:39 +0000, , add ipv6 support socket_address,,
2231,fc9f323a4c7172bce648f9968808317df241c208,alle Wilund <calle@scylladb.com>, 2019-01-16 05:48:57 +0000, , add ipv6_addr like ipv4_addr i.e wrap address port badly named akin host endian sock_addr_in6,,
2232,195eeee5f3ab94e37e6c2a0fc46fb954627e1b0a,alle Wilund <calle@scylladb.com>, 2019-01-16 05:40:45 +0000, , add ipv6_address support inet_address,,
2233,97102fa83b19248fd0f4b2286868da6c812d1772,alle Wilund <calle@scylladb.com>, 2019-01-16 05:35:43 +0000, , add packed ipv6 address corresponding ipv4_address packed potentially allow embedding non aligned wire structure,,
2234,cf2873346f9fefea2e9684cb5cee0e32f2aca7fb,vi Kivity <avi@scylladb.com>, 2019-01-29 16:55:08 +0200,4057, merge perftune.py log nvme irq smp vlad  log erros nvme irqs smp affinity tuning unless explicitly requested see scylladb scylla 4057  http github.com vladzcloudius seastar perftune.py silence error nvme irqs affinity tuning perftune.py log writing file successful perftune.py introduce verbose parameter perftune.py introduce perftunerbase property,,
2235,dbf7b6b0abf79f2441a215708c106ce9623b1309,awe Dziepak <pdziepak@scylladb.com>, 2019-01-25 15:59:54 +0000, , core output_stream add fast path small writes output_stream may used various way provides zero copy buffered interface latter may used mix large small writes writer perform multiple small writes output_stream beneficial add fast path case whole write fit current buffer message pdziepak scylladb.com,,
2236,5fc32fe61636821f8efa73d601c4587fe8759c56,vi Kivity <avi@scylladb.com>, 2019-01-24 18:39:31 +0200, , merge refactor cmake test jesse  series refactors cmake code defining test corrects miss classified test add new cmake variable controlling many core test run  jhk fix_test_args http github.com hakuch seastar test fix kind allocator_test test run custom test two core test set test concurrency cmake cache test classify boost test test refactor simplify test definition,,
2237,35e57399cd29548fb50031e610ae249b4c941966,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-01-17 16:31:55 -0500,577, test fix kind allocator_test incorrect classification test runner assumed test handled argument boost test library test executed jenkins test failed error unrecognized command line option fix 577,,
2238,87497438252cb9972131c0cc3bd718c8355689e9,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-01-17 16:51:05 -0500, , test run custom test two core consistent way run seastar unit test avoid duplication define function case custom test structured like seastar application,,
2239,821ad54670b08fc4d8e156061b1a395d7941fbab,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-01-24 09:52:18 -0500, , test set test concurrency cmake cache using cmake cache variable allows developer easily change default cmake via test.py  cmake,,
2240,83381488d0b8debbda2beb63dab6b8441d78f432,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-01-17 16:26:30 -0500, , test classify boost test test use boost test library previously linked seastar testing library unnecessarily also would impacted command line option handling,,
2241,81d606afb9126fe405b838991ee1b50de099b95a,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-01-17 16:24:38 -0500, , test refactor simplify test definition old version fairly hard understand clearly describe three different kind test seastar test usual one boost test test thing seastar using boost test library asynchronously custom test essentially anything new function documented,,
2242,ae17c6b41c8ccf2bf024c0161fb7b4ba02064421,ichael Zhuang <richael.zhuang@arm.com>, 2019-01-24 19:04:25 +0800, , remove building zlib seastar remove default parameter building submodule zlib seastar change signed richael zhuang richael.zhuang arm.com message richael.zhuang arm.com,,
2243,b7ff9c7f6f85511239a862af36f20bb2964ae545,leb Natapov <gleb@scylladb.com>, 2019-01-23 13:32:53 +0200, , remove superfluous includes sleep.hh message scylladb.com,,
2244,6bf1dbf494e258275b68d047b738e9f30209439f,vi Kivity <avi@scylladb.com>, 2019-01-22 17:51:17 +0200, , reactor make io_queue.hh public header file reactor expose io_queue via get_io_queue user scylla look io_queue capacity probably good idea let cause build error make reactor.hh define io_queue class later think orderly way make private fix 583 message avi scylladb.com,,
2245,060dfc15c5f05dcafe93c3679e55281bd58b77cb,vi Kivity <avi@scylladb.com>, 2019-01-22 13:05:04 +0200, , merge auto detect filesystem header file benny  filesystem header available starting gcc test configure.py mode release unit release  project std filesystem http github.com bhalevy seastar build use __has_include detect std filesystem header build use,,
2246,34f122d8ad03772577aeeaec7a359032e9bc6744,enny Halevy <bhalevy@scylladb.com>, 2019-01-22 12:12:20 +0200, , build use __has_include detect std filesystem header filesystem header available starting gcc note testing __has_include alone insufficient since header may available compiling older dialect content included later use feature macro define filesystem namespace signed benny halevy bhalevy scylladb.com,,
2247,37ab0113e1be332e0233cecb17f9df7406391499,enny Halevy <bhalevy@scylladb.com>, 2019-01-17 17:32:44 +0200, , build use filesystem header file includes subordinate include file supported dialect example usr include filesystem signed benny halevy bhalevy scylladb.com,,
2248,11c723117bdc1790a5b99d40285e72cd83edd2a7,lad Zolotarov <vladz@scylladb.com>, 2019-01-21 17:46:23 -0500, , perftune.py silence error nvme irqs affinity tuning linux kernel going use mode nvme irqs system currently aws non metal known different configuration smp affinity irq mode may changed attempt modify going fail however right way determine mode used attempt modify irq smp affinity fail therefore prefer always want however see annoying error every time detect actually used therefore log verbose mode run i3.nonmetal aws instance signed vlad zolotarov vladz scylladb.com,,
2249,6a3dc1030cb77aa39ed8aa21923294c4155898a7,lad Zolotarov <vladz@scylladb.com>, 2019-01-21 17:43:24 -0500, , perftune.py log writing file successful log writing file successful writing file failed log corresponding error signed vlad zolotarov vladz scylladb.com,,
2250,44e9f4602bd7a2e85bebf6c66a917f516e8c9b3f,lad Zolotarov <vladz@scylladb.com>, 2019-01-21 16:05:29 -0500, , perftune.py introduce verbose parameter use order enable verbose output signed vlad zolotarov vladz scylladb.com,,
2251,dbc9de3f457c33fa7cc12e59af419768ca1b0140,lad Zolotarov <vladz@scylladb.com>, 2019-01-21 16:55:25 -0500, , perftune.py introduce perftunerbase property property query aws meta server first time going read set true perftune.py executed aws i3.nonmetal instance e.g i3.4xlarge false otherwise signed vlad zolotarov vladz scylladb.com,,
2252,dc351d8cfe0e5a95e00b2360a849640561790a34,afael vila de Espndola <espindola@scylladb.com>, 2019-01-21 11:15:40 -0800, , call on_signal block_notifier currently block_notifier calling generate_trace directly skip arming timer check patch switch block_notifier calling on_signal instead tested ninja test release build signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2253,f7a39821b8b435ccc5b4ee63dd3f02cf525ec4b2,afael vila de Espndola <espindola@scylladb.com>, 2019-01-14 09:45:52 -0800, , fix dist test cooking provided dependency currently cooking used provide dependency dist test fail since pkg config find patch add missing search directory tested removing protobuf lz4 package building cooking.sh dev protobuf lz4 release signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2254,4250d08d15cc6292c07fe43acb55d599d3013af6,afael vila de Espndola <espindola@scylladb.com>, 2019-01-14 11:22:59 -0800, , make private scylla fixed use signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2255,3e184803ba904d4cb00ba4655be042f1e817844b,afael vila de Espndola <espindola@scylladb.com>, 2019-01-21 08:53:41 -0800, , fix dev build failure due gcc bug failing error include seastar core error anonymous .seastar char _buffer may used uninitialized function werror maybe uninitialized noexcept _buffer x._buffer _size x._size _deleter std move x._deleter  careful reduction pretty sure bug gcc reported http gcc.gnu.org bugzilla show_bug.cgi 88897 since warning triggered use std experimental optional see particularly elegant way avoiding patch pragmas around unlucky code signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2256,f3400f1ee66c943ce81482d8584dcc8844bc37bd,afael vila de Espndola <espindola@scylladb.com>, 2019-01-21 10:25:17 -0800, , avoid including fmt file like print.hh include fmt ostream.h include fmt printf.h take 0.44827 second compile machine include fmt required take hello world example 3.30577 3.01368 second signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2257,80e131e2bcd335fbc44685a68056d32708b059ef,afael vila de Espndola <espindola@scylladb.com>, 2019-01-21 10:25:16 -0800, , move code fmt line including fmt fairly expensive patch move code fmt line preparation avoiding including fmt header commonly used seastar header signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2258,7a7b80f8c5b92db20dd292215e8010e3ce2886e7,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-01-16 15:27:55 -0500, , build fix dist test commit made fmt statically compiled default via configure.py order specification matter static library change ensures seastar come first also fix failing test_dist run sending patch signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2259,e5abf8c9e6087d38084bf8e62fc163dfbc337aa6,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-01-20 12:00:42 -0500, , doc emphasize common build work flow change restructure readme common situation using system package configure seastar emphasized additionally include instruction consume seastar using cmake directly build directory similar pkg config clarify instruction elsewhere documentation signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2260,8e7d1057c18e907c1de386759f6262581f83e89d,lad Zolotarov <vladz@scylladb.com>, 2019-01-18 17:17:11 -0500, , perftune.py let exception connecting aws meta server expect specific set exception connect aws meta server silently ignored however get unexpected exception still want eat let exception critical case mean reason fail tuning case log exception analysis continue signed vlad zolotarov vladz scylladb.com message vladz scylladb.com,,
2261,14e0a4cb20c363c962bed3e25fd81ee5f5d1dbba,afael vila de Espndola <espindola@scylladb.com>, 2019-01-18 10:58:30 -0800, , add missing dependency install dependencies.sh add missing dependency fedora centos still update dependency finding script handle ubuntu signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2262,79e846e9effffd58a0f2ef382b0d5da025c81041,enny Halevy <bhalevy@scylladb.com>, 2019-01-17 12:29:06 +0200, , seastar introduce compat filesystem namespace reverted stop using boost filesystem altogether std experimental filesystem directly instead define seastar compat filesystem either std filesystem starting std experimental filesystem otherwise change since base definition dialect rather use std optional variant stringview consequently doe modify switch respective definition signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
2263,9b8337e3968b90d3a701c95bc1712c283808dfd7,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-01-15 13:45:13 -0500,580, build fix compilation implementation operator requires iostream header included without change configuring seastar dialect gnu use std optional variant stringview fails fix 580 signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2264,d9c6b7eb66ef83c8d22994b328e020859cd7b075,omasz Grabiec <tgrabiec@scylladb.com>, 2019-01-15 14:32:14 +0100, , merge reduce reactor.hh size avi eactor.hh included practically everywhere reducing size improves everyone life patchset move data structure code away reactor.hh reducing rebuilds compile time http github.com avikivity seastar reactor.hh diet v1.1 reactor move pollable_fd related class internal header file reactor move header reactor privatize thread_pool reactor type erase submit reactor inline pollable_fd related function reactor inline reactor method initializer touching io_queue reactor make io_queue private,,
2265,a4b393d7eed92eaf35cb54b5ef485113470cd785,vi Kivity <avi@scylladb.com>, 2019-01-10 17:51:34 +0200, , reactor make io_queue private move io_queue header file make private implementation,,
2266,6ec15dace17d9e9850d27ec417463844a2f4325f,vi Kivity <avi@scylladb.com>, 2019-01-10 17:50:04 +0200, , reactor inline reactor method initializer touching io_queue method performance sensitive initializer doe nothing inlining allows remove io_queue reactor.hh,,
2267,da60404b0d369404bab861b94b6a3f7f1e8157af,vi Kivity <avi@scylladb.com>, 2019-01-10 17:35:16 +0200, , reactor inline pollable_fd related function function end issuing syscalls certainly need inlined,,
2268,cd51c71aa5ae00204b996eea082f787c3e4fe344,vi Kivity <avi@scylladb.com>, 2019-01-10 17:24:03 +0200, , reactor type erase submit system call performance sensitive tune single indirect call type erase reduce compile time code bloat,,
2269,f1ec46364cd5ddd39c18f1d2c50ad45d60298ffa,vi Kivity <avi@scylladb.com>, 2019-01-10 16:54:18 +0200, , reactor privatize thread_pool move thread_pool reactor.cc unfortunately mean making unique_ptr reactor class public,,
2270,0b3fd0dc9410c3790a3fc1b98a392fb40bd9459c,vi Kivity <avi@scylladb.com>, 2019-01-10 16:34:08 +0200, , reactor move header used user code made private prepare moving header,,
2271,e82851b525b2c982f3a130a0e4f2b813bafd42bb,vi Kivity <avi@scylladb.com>, 2019-01-10 16:25:51 +0200, , reactor move pollable_fd related class internal header file pollable_fd friend internal data structure exposed still difficult moment public class depend patch start work move separate header file also make possible make depends pollable_fd private,,
2272,307335aac6ba8b473e16ecb2206e76efba35aa3d,uarte Nunes <duarte@scylladb.com>, 2019-01-15 00:54:44 +0100,576, revert merge add file_accessible method benny reverts commit reversing change made contained changed public switch external project depend fix 576 message duarte scylladb.com,,
2273,3a2f283b744f6eccce936b86658deeabdd975962,uarte Nunes <duarte@scylladb.com>, 2019-01-14 23:32:07 +0000, , readme fix build mode documentation ensure command actually executed signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
2274,f13f191dcbd69254fa111735a1f3590e34ba8c91,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-01-15 00:49:06 -0500, , build compile fmt static library restores old behavior build make integration scylla easier still possible provide fmt anywhere system including shared library configure.py signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2275,02cd6599187c649f78d1e69be5d29d4e6669c36c,adav Har'El <nyh@scylladb.com>, 2019-01-14 13:18:23 +0200,579, tutorial.md also give direct compilation command cmake seastar tutorial getting started section used simple one line compilation command using pkg config replaced elborate cmake example think mistake replace example instead adding cmake example unusable people intention using cmake moreover doe work unless something uninstalled seastar patch add also original pkg config example compilation order fixed longer use whole archive need library appear application code fix 565 note compilation command suggested fully work today issue 579 describes problem static problem fmt compiled shared library rpath added fixed incrementally later patch need document least say work signed nadav har nyh scylladb.com message nyh scylladb.com,,
2276,f2ab53ffebd5f5f1004e3ee7dd3055bb03aa5d58,afael vila de Espndola <espindola@scylladb.com>, 2019-01-13 11:28:25 -0800, , add build time .pc file change also possible use pkg config build directory particular possible compile simple program without installing seastar test.cc pkgconf cflags libs static build_dir seastar.pc signed rafael vila esp ndola espindola scylladb.com reviewed nadav har nyh scylladb.com message espindola scylladb.com,,
2277,7598d8656e1a60afcb204cf6544e3638671f4610,enny Halevy <bhalevy@scylladb.com>, 2019-01-01 22:24:48 +0200, , seastar addr2line print warning executable debug info use file command determine executable debug info print warning file detected whether file stripped detect debug_info todo need add file scylla runtime rpm deb dependency signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
2278,c2762e949d584ae4da452fb9ce4f449dcd700f85,vi Kivity <avi@scylladb.com>, 2019-01-12 22:23:37 +0200, , reactor fix loss highres timer epoll backend signal_pollfn pollers hidden dependency may arm timer happens first highres timer armed register signal handler signal_pollfn assumes change signal registration signal_pollfn signal_pollfn newly registered signal becomes blocked broken reactor virtualize high resolution timer processing seen memcached test epoll backend fix reversing order poller registration problem never triggered bug deserves better fix let start something simple message avi scylladb.com,,
2279,041465f20719cf10a3c348906e8b0e2b4d7c13bd,vi Kivity <avi@scylladb.com>, 2019-01-12 22:23:45 +0200, , memcached replace deprecated call test_memcached approved alias assertequals spelled assertequal spelled assertregex according python deprecation warning approved name available python 3.2 sufficiently old message avi scylladb.com,,
2280,332141f02afe7af58dbda44a90f9b86369fe6531,afael vila de Espndola <espindola@scylladb.com>, 2019-01-11 09:15:03 -0800, , build bring back definition used scylla public message espindola scylladb.com,,
2281,245ca34592cda12295794c7053a66d984cd821e0,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-01-10 16:00:38 -0500,574, build require sanitizers debug mode sanitizers included seastar artifact debug mode cmakelists.txt checked presence unconditionally change ensures cmake require sanitizers available cmake produce error available debug mode test dist unit debug fix 574 signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2282,29dae61de9e1ec4325c3386f3d889f53ca2f13b1,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-01-10 16:23:02 -0500,575, build compile seastar_testing dev flag want development flag also used compiling seastar testing library accidental omission  test dist release fix 575 signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2283,e1885a54d6d91f3bfb87c959da13adadd8af2c77,afael vila de Espndola <espindola@scylladb.com>, 2019-01-07 11:47:28 -0800, , remove with_alignment seastar already support std align_val_t anyone wanting use aligned news update signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2284,a141914aa21e8a3e9a596ba6d6e7a1d15720a010,afael vila de Espndola <espindola@scylladb.com>, 2019-01-09 12:15:55 -0800,543, bring back flag lost cmake transition following flag private reason force every seastar user fvisibility hidden wall werror clear need public old build system patch make public fix 543 signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2285,774bf7b6edb5457820d177487a64a1709e429e3e,enny Halevy <bhalevy@scylladb.com>, 2019-01-01 21:45:46 +0200,4024, iotune throw exception data collected currently possible io_worker get_io_rates divide zero resulting bogus iop bytes_per_sec i.e ref scylladb scylla 4024 signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
2286,c9d6e20b18a07e54c9406ee6b62c1e1f5b339d65,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2019-01-08 21:27:01 -0500,568, build link libatomic unconditionally previous commit made seastar unconditonally link atomic since necessary platform new build system restores link atomic two small change first atomic private non transitive dependency seastar second cmake unconditionally includes latomic flag work empty stub file otherwise explicit linker argument added fix 568 signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2287,5cefd044ae5cc5f8d017579962779b5cb6cf3bfd,afael vila de Espndola <espindola@scylladb.com>, 2019-01-08 18:37:56 -0800,544, use compiler flag demo test apps flag want use seastar force every user currently used building libseastar.a executables patch add variable holding defines library flag seastar library private patch also add convenience includes seastar variable publicly used executables want use compiler flag seastar change flag used public private independent discussion fix 544 signed rafael vila esp ndola espindola scylladb.com reviewed jesse haber kucharsky jhaberku scylladb.com message espindola scylladb.com,,
2288,34f1eeed8a1061875e8ab74f08dd0f1c0a900637,afael vila de Espndola <espindola@scylladb.com>, 2019-01-09 10:51:44 -0800, , disable winvalid offsetof dpdk_qp src net dpdk.cc old build system would pas wno invalid offsetof every function need dpdk_qp src net dpdk.cc better disable pragma signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2289,02372fc6cdfa42575c5a9123b0854213c2431d02,afael vila de Espndola <espindola@scylladb.com>, 2019-01-07 17:43:55 -0800, , iotune initialize io_rates member variable fix use uninitialized io_rates struct initializing member still used io_rates write_bw message espindola scylladb.com,,
2290,5a6080185c791fcb927b8d5ba8c20dbfd978da0a,afael vila de Espndola <espindola@scylladb.com>, 2019-01-07 17:57:51 -0800, , net initialize mac default constructor gcc wall complains checked case uninitialized variable actually used good practice initialized member constructor anyway signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2291,5e399906d1efa9e5ca9d121d09c6d2b1cdc41404,ingxin Cheng <yingxin.cheng@intel.com>, 2019-01-07 07:25:11 +0000, , fix random segment fault error connect posix stack bug since commit cause random segment fault error connect posix stack function capture caller network_stack connect keep instance alive future completed patch extends lifetime instance fix bug fix anonymous contributor compiv signed yingxin cheng yingxin.cheng intel.com message testcpp,,
2292,87a654090611d849b3b502afdb6c42ff2493f5db,afael vila de Espndola <espindola@scylladb.com>, 2019-01-03 15:01:55 -0800, , disable fsanitize vptr old build system disabled http gcc.gnu.org bugzilla show_bug.cgi 67258 bug since fixed still work boost fvisibility hidden signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2293,0919b380b9526fb92ef9352c82795cbd21ba1ec1,lad Zolotarov <vladz@scylladb.com>, 2019-01-03 17:50:21 -0500, , perftune.py tune active nvme queue aws instance tune nvme queue index number cpu running i3.xxx aws instance nvme card use queue management next queue handling data number cpu queue data usually nvme kernel module going allocate number cpu queue however due problem aws hypervisor nvme going allocate queue thereby irq vector aws instance however additional queue still going active therefore ignore otherwise active queue thereby load going distributed anong cpu expected signed vlad zolotarov vladz scylladb.com message vladz scylladb.com,,
2294,81e9f31c2df90803249764fecab4737adbf1648c,vi Kivity <avi@scylladb.com>, 2018-12-26 12:38:52 +0200, , linux aio fix build older non x86 system system header define system x86 supply value build fails enosys defined fix including errno.h message avi scylladb.com,,
2295,dac264bca158a930a44a321a50450ef42044e153,vi Kivity <avi@scylladb.com>, 2018-12-26 11:59:48 +0200, , merge add file_accessible method benny project file_accessible http github.com bhalevy seastar test add file access test reactor file_exists use file_accessible reactor add file_accessible method reactor use path syscall_result seastar introduce compat filesystem namespace,,
2296,3462c62da32a4c62222e866e04e6a6a55881d0b4,enny Halevy <bhalevy@scylladb.com>, 2018-12-13 18:11:50 +0200, , test add file access test test access_flags file_exists file_accessible signed benny halevy bhalevy scylladb.com,,
2297,0d155763bfe67b8085ab4ed04796fc14e0615066,enny Halevy <bhalevy@scylladb.com>, 2018-12-13 17:23:57 +0200, , reactor file_exists use file_accessible signed benny halevy bhalevy scylladb.com,,
2298,88bd9d644bb07e7827c58d04472c46466ba24792,enny Halevy <bhalevy@scylladb.com>, 2018-12-13 17:20:17 +0200, , reactor add file_accessible method signed benny halevy bhalevy scylladb.com,,
2299,e93c5ad909eaced2f534a6fcea8dfbd022cfffc4,enny Halevy <bhalevy@scylladb.com>, 2018-12-13 16:56:29 +0200, , reactor use path syscall_result also make throw method params const signed benny halevy bhalevy scylladb.com,,
2300,c640d8fe848cfb7246f43d91d3fed059cc04699f,enny Halevy <bhalevy@scylladb.com>, 2018-12-13 14:05:03 +0200, , seastar introduce compat filesystem namespace stop using boost filesystem altogether std experimental filesystem directly instead define seastar compat filesystem std experimental filesystem extend use std optional variant stringview configure option use std optional variant stringview filesystem include std filesystem well signed benny halevy bhalevy scylladb.com,,
2301,85f7e61a488e7d217b7d4aa5dfb954b55f915f0d,omasz Grabiec <tgrabiec@scylladb.com>, 2018-12-21 18:00:20 +0100, , merge privatize reactor_backend related class avi patchset move internal class reactor.hh reactor.cc reducing recompilations making little faster http github.com avikivity seastar include diet reactor inline reactor method relaing reactor_backend mostly reactor move reactor_backend derived class reactor.cc,,
2302,b3ca0d71b54e0b781644b15c2ba815925a0ba6c6,vi Kivity <avi@scylladb.com>, 2018-12-20 20:23:49 +0200, , reactor move reactor_backend derived class reactor.cc user burden includers reactor.hh,,
2303,4e5646368ac592c3330605c6fb9ca83256d896a5,vi Kivity <avi@scylladb.com>, 2018-12-20 20:05:25 +0200, , reactor inline reactor method relaing reactor_backend mostly allow remove reactor_backend reactor.hh performance impact expected since method dispatch virtual function case also available caller reactor.cc,,
2304,c4b17c06d6020f22e901736262c865361d4b52c6,afael vila de Espndola <espindola@scylladb.com>, 2018-12-17 09:53:31 -0800, , make work mutable lambda without patch possible write repeat count mutable return stop_iteration stop_iteration yes  repeat count return stop_iteration yes  repeat count mutable return stop_iteration yes build would fail include seastar core future util.hh 244 error match call const lambda return futurize orig_ret convert action message espindola scylladb.com,,
2305,9e27e4ad2a855380454ef960aecac4fe3b447447,afael vila de Espndola <espindola@scylladb.com>, 2018-12-17 15:34:46 -0800, , use static constructor registration requires seastar linked shared library using whole archive fix 556 signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2306,40dd58b1dafd1a94291b29ac689a266b6f51a812,afael vila de Espndola <espindola@scylladb.com>, 2018-12-17 15:34:45 -0800, , fix dpdk_libraries order order show seastar.pc file important static linking dpdk issue currently visible since linking native network stack signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2307,dc0e6a7a4e6efb6f5a661415d2906ee124d71132,enny Halevy <bhalevy@scylladb.com>, 2018-12-18 06:25:48 +0200, , configure fix mode option signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
2308,b22990a393926361ed1210e8f617135bd384df8b,afael vila de Espndola <espindola@scylladb.com>, 2018-12-17 21:10:56 -0800, , avoid including iostream every includes iostream get static constructor initializes std cout std cerr patch move include iostream file use std cout std cerr signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2309,2def1219c4df86443cc786ce68bd15678b51b075,afael vila de Espndola <espindola@scylladb.com>, 2018-12-17 21:10:55 -0800, , net make default rsskey variable constexpr change rss_key_type key plain constexpr uint8_t array signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2310,a2cbe9fcd5edf787d6f030fbf4c5af64c206ca27,afael vila de Espndola <espindola@scylladb.com>, 2018-12-19 11:21:59 -0800, , add documentation build mode document select build mode cooking.sh way seastar different regular cmake project signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2311,ebe7b1b4b1964b01fb4fb40055d1119c752890f1,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-19 11:54:27 -0500,558, build run doxygen unconditionally previously marker file used combination dependency compiled seastar library run doxygen source file changed instead unconditionally run doxygen doc_api target built target built default executing doxygen relatively fast process fix 558 signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2312,e37237f3f2fd59f994bb2d6186161c3a1b81c6f2,otond Dnes <bdenes@scylladb.com>, 2018-12-18 15:32:11 +0200, , testing seastar_test throw exception test registered currently test registered e.g developer forgot compile .cc file containing test test executable dereference invalid pointer crash segfault best case confusing possibly cause poor soul caused try find non existing problem test avoid add check throw exception test registered message hopefully make clear problem signed botond bdenes scylladb.com message scylladb.com,,
2313,6998902c60e27d6b8d2d92833a83da3fa0c255f0,uarte Nunes <duarte@scylladb.com>, 2018-12-17 20:03:16 +0000, , merge iocb_cmd_poll support avi  patchset add new reactor_backend linux aio iocb_cmd_poll wait network timer signal cross core notification motivation remove obstacle reducing task quota context switch overhead task quota timer thread epoll_pwait call consumes lot system time even reaps event test unit release  tag aio poll http github.com avikivity seastar reactor switch aio backend reactor aio backend reactor initialize _backend reactor virtualize reactor allow different backends reactor virtualize high resolution timer processing reactor virtualize preemption timer tick via reactor_backend reactor virtualize signal handling via reactor_backend reactor switch syscall worker thread signal eventfd reactor switch smp notification signal eventfds reactor prepare preemption mechanism alternative signalling reactor get rid reactor get rid reactor_backend abort_reader abort_writer reactor fix timer expiration criterion test fix connect_test accept abort linux aio add support iocb_cmd_poll linux aio support new syscall io_pgetevents linux aio stop including linux aio_abi.h,,
2314,2e0389473d63ad777adbb3590ddd747a83307388,omasz Grabiec <tgrabiec@scylladb.com>, 2018-12-17 18:59:16 +0100, , merge fix addr2line missing file rafael still getting error running seastar addr2line missing file sure change behavior python test change 2.7 need catch ioerror old version python easy add back code structure http github.com espindola seastar espindola addr2line fix avoid work destructor check missing file addr2line constructor,,
2315,1eecb367581ce3ebc364001ef6880c9f4ad808be,enny Halevy <bhalevy@scylladb.com>, 2018-12-11 15:14:16 +0200, , linux aio reduce conditional branching io_getevents consolidate logical term related ring buffer consumption signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
2316,6da35277c6e0b05eca8493be342b842438fc6b90,efu Chai <kchai@redhat.com>, 2018-12-17 20:05:26 +0800, , build lower gnutls protobuf yaml cpp hwloc xenial previously version package fc28 testing using cooking.sh dev make test safe lower required version signed kefu chai kchai redhat.com message tchaikov gmail.com,,
2317,e67572ef68a6cd1f0785d1f19f5ab8e18816763b,vi Kivity <avi@scylladb.com>, 2018-12-13 18:24:08 +0200, , reactor disable nowait aio due kernel bug kernel sometimes return eio instead eopnotsupp disable fixed version available enable using whitelist message avi scylladb.com,,
2318,e3466851e047ec7494c983b4f316e1a4464a4945,efu Chai <kchai@redhat.com>, 2018-12-16 20:08:59 +0800, , core json net mark overriden virtual method override also silence gcc warning like warning close override member function marked override winconsistent missing override virtual future close noexcept  signed kefu chai kchai redhat.com message tchaikov gmail.com,,
2319,6cf55f53fdc453ee8d72e27c951977635a72da5d,efu Chai <kchai@redhat.com>, 2018-12-16 20:08:58 +0800, , reactor correct assert also silence gcc warning seastar src core reactor.cc 4418 warning comparison unsigned expression always true wtype limit assert vec_idx vec_idx all_io_queues .size  std vector unsigned element  signed kefu chai kchai redhat.com message tchaikov gmail.com,,
2320,6ae90347fd1859485b102e197976e78524877da5,efu Chai <kchai@redhat.com>, 2018-12-16 20:08:57 +0800, , http net expose hidden method parent class also silence gcc warning iostream.hh warning virtual seastar future seastar data_sink_impl put std vector seastar tempor ary_buffer char hidden woverloaded virtual virtual future put std vector char data  signed kefu chai kchai redhat.com message tchaikov gmail.com,,
2321,b98fb52b23dc6ca0d9313ec679eb6a831001af01,efu Chai <kchai@redhat.com>, 2018-12-16 23:02:47 +0800, , resource set hwloc available need set well even known always shard always coordinator populate engine ioqueue way without hwloc instead adding ifdef smp configure without change smp configure segfaults seastar_hwloc signed kefu chai kchai redhat.com message tchaikov gmail.com,,
2322,42cd4212a0e0aae50459b1515101463020ebf9e3,vi Kivity <avi@scylladb.com>, 2018-12-17 11:33:07 +0200, , merge fix build dependency jesse  series fix issue way search configure dependency first patch add missing dependency user cooking.sh rest unify behavior structure various cmake script locating dependency system able configure seastar series fedora configure.py cooking.sh ubuntu 16.04 cooking.sh  jhk fix_deps http github.com hakuch seastar build clean find module yaml cpp build clean find module stdfilesystem build clean find module sanitizers build clean find module build clean find module ragel build clean find module numactl build clean find module lz4 build clean find module lksctp tool build clean find module linuxmembarrier build clean find module hwloc build clean find module gnutls build clean find module dpdk build use cmake native support build clean find module cryptopp build clean find module build yaml cpp depends boost,,
2323,923b6d151e4ba13c570d65a5803e1302d950b201,vi Kivity <avi@scylladb.com>, 2017-12-20 16:15:01 +0200, , reactor switch aio backend detect whether linux aio required support use aio backend allow user override selection testing,,
2324,7398e901f939bef714d96d1a57d7a9fc69b1b8be,vi Kivity <avi@scylladb.com>, 2017-12-20 16:10:10 +0200, , reactor aio backend use iocb_cmd_poll introduced linux 4.18 poll socket event addition use aio_context kernel write triggering task_quota notification kernel without context switch result reduce task quota significantly main contributor overhead task quota thread context switch epoll_wait system call gone,,
2325,add3e3063274a4d19a371d66a00e453b5ef4382a,vi Kivity <avi@scylladb.com>, 2017-12-26 15:24:27 +0200, , reactor initialize _backend avilable aio backend initialization,,
2326,fb0e3a616c997e3c18b87e63042843bb195c6fe7,vi Kivity <avi@scylladb.com>, 2017-12-20 16:08:40 +0200, , reactor virtualize kernel writes directly need rearm trigger directly,,
2327,b20582f542b988c85f713dc7542b6e17f00a77d2,vi Kivity <avi@scylladb.com>, 2017-12-19 22:40:07 +0200, , reactor allow different backends switch using unique_ptr reactor_backend rather hard coding backends added,,
2328,5aea50a8a4f46316bb5015a79989c3281d4110e7,vi Kivity <avi@scylladb.com>, 2018-01-02 12:51:44 +0200, , reactor virtualize high resolution timer processing epoll backend signal high resolution timer timer expiration set need_preempt since use different method preemption need move away signal aio backend prepare move high resolution timer processing reactor_backend,,
2329,8fb7985080be8ecaf78f8032391bb916d27636b5,vi Kivity <avi@scylladb.com>, 2017-12-19 22:35:57 +0200, , reactor virtualize preemption timer tick via reactor_backend move timer tick thread allowing different method aio backend,,
2330,c872cea69f5754cf98732d83e84484a79506965a,vi Kivity <avi@scylladb.com>, 2017-12-19 22:17:38 +0200, , reactor virtualize signal handling via reactor_backend since normal signal delivery compatible aio atomic unmask wait virtualize signal handling via reactor_backend use another method aio,,
2331,dd948d15f0720495f751257ffe996c8a98c42934,vi Kivity <avi@scylladb.com>, 2017-12-19 21:47:14 +0200, , reactor switch syscall worker thread signal eventfd instead using signal wake reactor thread use eventfd already using smp wakeups,,
2332,51c2917e9bd71bf5f4e39d1a18264a13e3908b37,vi Kivity <avi@scylladb.com>, 2017-12-19 21:14:08 +0200, , reactor switch smp notification signal eventfds signal generally nasty requiring process wide lock send make slow large machine although mitigated reactor spinning going sleep switch eventfd instead also faster file descriptor used dpdk since dpdk never sleep also never need wake original motivation patch lack io_pgetevents needed atomically wait signal notification since io_pgetevents since made available patch critical still improvement,,
2333,3e690dbbe73c738e312f8486d35c9702cb791c8a,vi Kivity <avi@scylladb.com>, 2017-12-19 20:12:23 +0200, , reactor prepare preemption mechanism alternative signalling essence preemption mechanism expose periodic kernel timer reactor way efficiently polled started signal whose handler set thread local variable work well due non scalability linux signal switched side thread sleep timer writes memory location cause many context switch patch prepares way third method note aio completion ring read io_getevents written kernel future patch set thing ring written periodic timer prepare lay thread local memory location format aio ring pair bit index convention unequal need break task execution loop foreseeable future still support side thread compatible memory layout mean introduce aio polling alternative without requiring virtual function fast path,,
2334,6293e60b776b4a88da0b746b2925adc40e56cd7f,vi Kivity <avi@scylladb.com>, 2017-12-19 19:48:19 +0200, , reactor get rid dead code stand way creating new,,
2335,c879bb52f764bf8899c8f45c9240d969c0994094,vi Kivity <avi@scylladb.com>, 2017-12-19 18:55:16 +0200, , reactor get rid reactor_backend abort_reader abort_writer abort_reader abort_writer cause epoll stop waiting respective event even though initiating non blocking system call undone used udp read writes accept however turn undo udp read writes well accept calling shutdown socket shutdown call return error doe cause next epoll_wait return epoll event list patch get rid abort_read abort_write calling shutdown instead operation waited becoming readable writeable woken retried complication shutdown listening socket epoll_wait return epollout epollhup even though normal operation accept would succeeded return pollin handle inconsistency introduce return future becomes ready either readable writeable complement existing readable writeable function another complication pending recv send return eagain normally say buffer space exhausted distinguish betweem two case add flag check  motivation patch alternative poll implementation using io_submit io_getevents rather epoll equivalent abort_read io_cancel implemented efficiently asynchronous change needed anyway,,
2336,3957b7bdec722c107b6ed7b1cfc7296c1512835f,vi Kivity <avi@scylladb.com>, 2018-01-02 19:03:22 +0200, , reactor fix timer expiration criterion fix edge case told timer expired ignored,,
2337,16a5cc12fbf044c0d4f73cae2e966d3ed3f99ecb,vi Kivity <avi@scylladb.com>, 2017-12-19 19:03:59 +0200, , test fix connect_test accept abort call future failed without waiting ready,,
2338,63dc3da55a5f8f1391adf0bd8ca494360493de15,vi Kivity <avi@scylladb.com>, 2017-12-19 20:23:52 +0200, , linux aio add support iocb_cmd_poll introduced linux 4.18 iocb_cmd_poll allows waiting file descriptor event using io_submit io_getevents,,
2339,a934342a4ce2959fcc25401986a3967f6b063f58,vi Kivity <avi@scylladb.com>, 2018-01-02 12:17:08 +0200, , linux aio support new syscall io_pgetevents like pselect ppoll epoll_pwait support waiting event signal safely introduced linux 4.18,,
2340,321c28b3b7ee9120b457de5da52a89709beaa91a,vi Kivity <avi@scylladb.com>, 2018-06-08 17:13:25 +0300, , linux aio stop including linux aio_abi.h linux 4.18 linux aio_abi.h header conflict glibc header different though course compatible definition struct timespec use structure instead since abi long layout compatible keep working reduce chance future conflict place abi name linux_abi namespace random include brings original scope conflict,,
2341,450219d2649b623ddccecc0220c2be6b9159a1fe,vi Kivity <avi@scylladb.com>, 2018-12-16 17:03:35 +0200, , test dns protect home router grab respond dns request home router responds dns request 1.2.3.4 even though dns server fact ignores destination address completely make timeout test expects resolution fail get response report failure work around setting fake udp port addition fake address message avi scylladb.com,,
2342,d8f9ded3fed2184e9e31aa46d8ac09353e7d3958,vi Kivity <avi@scylladb.com>, 2018-12-16 20:58:47 +0200, , net udp add shutdown_input shutdown_output currently udp synchronous close method shutdown_input shutdown_output like tcp happens work posix stack close able remove kernel state immediately native stack handle another way lazily destroying state close change shutdown method used trigger failure pending read writes require caller wait pending read writes calling close important move iocb_cmd_poll synchronous way removing kernel state want close connection io_cancel shutdown respond next io_getevents immediately could taken ownership state removed lazily bad resource control spirit seastar requires caller manage object lifetime patch introduces shutdown_input shutdown_output udp_channel requires user recv send call order terminate pending operation message avi scylladb.com,,
2343,7e71f376af0fb9f4a88ee904702c00d2f75e9637,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-15 19:28:56 -0500, , build clean find module yaml cpp,,
2344,7587d30a8243858521ee907d7457bb4c6f29576b,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-15 19:20:21 -0500, , build clean find module stdfilesystem function automatically set cache variable useful purpose,,
2345,643232e3c4ffa16db9ac7f77dcc6d190abed6b1b,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-15 19:12:48 -0500, , build clean find module sanitizers importantly fiber support required fix 554,,
2346,ff6f7923e2174c651955a48cf7ff45692765f2b6,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-15 19:08:12 -0500, , build clean find module,,
2347,25debc940ecb8c6c39d528db8aa0fab8b733cb23,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-15 18:50:32 -0500, , build clean find module ragel,,
2348,4302c370227bbaec37dd4097237453d6999223a5,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-15 18:49:16 -0500, , build clean find module numactl,,
2349,84224141416b1c177d5b23888f1007ed1f1a1b2d,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-15 18:47:23 -0500, , build clean find module lz4,,
2350,c9bc41aad4b45ca49850c37d640d6b2bc6dc49b6,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-15 18:43:10 -0500, , build clean find module lksctp tool,,
2351,c2bd3f6bd06a935934ef326ad4be4cbdc068abc1,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-15 18:37:53 -0500, , build clean find module linuxmembarrier,,
2352,225d0f42dc3a90a0c6e4b8c27f5b3202fbf812d9,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-15 18:34:52 -0500, , build clean find module hwloc,,
2353,9503ee25b362d4af45a7bebd584f0d7fba9db30f,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-15 18:28:52 -0500, , build clean find module gnutls,,
2354,c32403ce4cd3c50a87b6c2970fb0358148ab4833,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-15 17:35:18 -0500, , build clean find module dpdk,,
2355,bc04eab048c4f31f913d5ba9e05ac545423e6610,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-15 17:14:31 -0500, , build use cmake native support code maintain good thing thanks kefu chai idea,,
2356,ebf17933a518c19acbac47cb13ac311186e50eeb,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-15 11:40:14 -0500, , build clean find module cryptopp,,
2357,3f5eb42307bbf41ef5ed0be64a8fde11178290bc,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-15 11:02:09 -0500, , build clean find module,,
2358,c18b2efc30acfe4dd5dde9247fc053d7cc7b7282,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-14 11:53:54 -0500, , build yaml cpp depends boost version yaml cpp minimally depend dependency boost later version impact anything execution order,,
2359,61661a25143b7f797f5a38989a53cb24f87eebfc,otond Dnes <bdenes@scylladb.com>, 2018-12-14 20:00:05 +0200,555, hacking.md add quick tutorial using pkg config ref 555 signed botond bdenes scylladb.com message scylladb.com,,
2360,102f351585eb644d243fd88d63cdeac01cbbb3d7,uarte Nunes <duarte@scylladb.com>, 2018-12-12 10:50:59 +0000, , core semaphore allow combining semaphore_units two semaphore_units object combined adopt function provided represent unit taken semaphore signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
2361,9d05ee20db2f762ba197dfb11f81305fa8cdceb4,afael vila de Espndola <espindola@scylladb.com>, 2018-12-14 19:25:47 -0800, , use to_page helper signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2362,ffe621a3bd6b4bcd89baa82fb4bc9c478c28818a,efu Chai <kchai@redhat.com>, 2018-12-12 16:26:45 +0800,551, build generate .pc file seastar_install fix 551 signed kefu chai kchai redhat.com message tchaikov gmail.com,,
2363,4173042cd0a53bc8899717cb9c2f0909dc01c602,afael vila de Espndola <espindola@scylladb.com>, 2018-12-11 13:59:04 -0800, , check missing file addr2line constructor reproduce subprocess throwing ioerror python2 python3 getting missing file returning empty line patch implement existing comment suggests test destructor signed rafael vila esp ndola espindola scylladb.com,,
2364,9c6c4953a5215311d824e9a8c6662945e15af330,afael vila de Espndola <espindola@scylladb.com>, 2018-12-11 13:54:37 -0800, , avoid work destructor exception propagated destructor make annoying debug error patch move using statement instead signed rafael vila esp ndola espindola scylladb.com,,
2365,f6b2aad91797e87f17df01720c8b1aeb36b971aa,afael vila de Espndola <espindola@scylladb.com>, 2018-12-06 07:08:42 -0800, , use dummy line separator seastar addr2line addr2line produce line line input currently seastar addr2line account miss output simply try reading since never know addr2line done one option would run addr2line per address way slow another feed addr2line address want first second pas data undesirable sufficient second pas backtrace since detect end last address yet another option send address one thread print stack another work bit faster somewhat complicated current code structure patch doe send extra dummy line marker look output patch also opportunity simplify code bit know present need batch address since addr2line slow start file 10k address 4.015s 4.150s use thread need speed even dummy line good thing since guarantee printing thread never block long last address given module thanks tomasz idea reviewed botond denes bdenes scylladb.com message espindola scylladb.com,,
2366,fa8ec5c79d5c58b4b276852245b16f920f1acad8,afael vila de Espndola <espindola@scylladb.com>, 2018-12-10 09:15:23 -0800, , enable asserts build old build system never set ndebug patch change cmake build equivalent behavior regular release build compiler invocation dndebug ... undebug project want disable asserts use test configuring configure.py cflags dndebug produce compiler invocation dndebug ... undebug ... dndebug signed rafael vila esp ndola espindola scylladb.com message espindola scylladb.com,,
2367,5be62874cd7927e511cd7f6327f8992142ff6c0f,vi Kivity <avi@scylladb.com>, 2018-12-10 22:29:41 +0200, , sharded type erase start stop invoke_on_all across template use common invocation also shared across template instantiation therefore line start stop invoke_on_all reduces compilation time generated code slow path method test unit release message avi scylladb.com,,
2368,8c51a19d3ae5294a575def7194172d7782ad4c85,efu Chai <kchai@redhat.com>, 2018-12-11 00:23:36 +0800, , resource use emplace emplace_back ioq_topology unordered_map doe offer emplace_back signed kefu chai kchai redhat.com message tchaikov gmail.com,,
2369,208c73e73ab54a43c928dec39dd8c46e81194c71,enny Halevy <bhalevy@scylladb.com>, 2018-12-10 11:15:50 +0200,2676, iotune warn filesystem low space print warning available space filesystem gib ref scylladb scylla 2676 signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
2370,dd73bd7a79c175d414c28c206e0cceea66f26652,enny Halevy <bhalevy@scylladb.com>, 2018-12-09 19:28:06 +0200, , reactor introduce statvfs fs_avail wrap statvfs syscall provide method retrieve available space filesystem supporting minimum iotune signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
2371,2cbde076312c9c2a2190750dbe1a7cca933b9192,vi Kivity <avi@scylladb.com>, 2018-12-09 17:34:13 +0200, , travis add gnu stow dependency message avi scylladb.com,,
2372,9a7c321b08f3b99867c50b0c0b775621f95c16ae,vi Kivity <avi@scylladb.com>, 2018-12-09 17:28:16 +0200, , travis add realpath dependency list cooking.sh requires realpath message avi scylladb.com,,
2373,52732d6ac816b8f145571eb322bc394de8dd8755,uarte Nunes <duarte@scylladb.com>, 2018-12-09 15:22:24 +0000, , merge add option force aio syscalls enter kernel avi  seastar try bypass io_getevents system call reading event completion ring directly improves performance reduces debuggability strace patchset add option force aio syscalls call kernel order improve debuggability  tag io_getevents force http github.com avikivity seastar reactor add command line flag force aio syscalls reactor harden io_getevents callsite signal linux aio add option force io_getevents enter kernel,,
2374,9f75ea7a57ad39bed1562a6546b2f28e3022e540,vi Kivity <avi@scylladb.com>, 2018-12-09 17:16:24 +0200,542, merge per device num_io_queues benny  patchset move calculation num_io_queues iotune reactor make per device rather global parameter calculating num_io_queues take account per device calibration value taken property file calculated latency_goal rather constant one presently presumed iotune consequently topology also computed per device used allocating device queue fix 542 test unit release  project num_io_queues http github.com bhalevy seastar reactor per device num_io_queues resource pas num_io_queues reactor get rid _io_coordinator member reactor smp configure call alloc_io_queue assign_io_queue per device resource keep reactor alloc_io_queue capture io_info reference resource rename member ioq_topology resource rename member num_io_queues reactor per device num_io_queues reactor use runtime latency_goal calculating num_io_queues iotune move calculation num_io_queues reactor parse_config reactor keep member private reactor introduce latency_goal iotune fix calculation num_io_queues multiple device iotune let caller adjust duration,,
2375,57d352351569fa8bc80764c7447788b0410cf843,vi Kivity <avi@scylladb.com>, 2018-12-09 12:12:04 +0200, , reactor add command line flag force aio syscalls seastar attempt bypass aio syscalls possible taking advantage event ring however make debugging strace harder impossible see kernel responded io_submit call improve adding option force aio syscalls enter kernel,,
2376,e915151a17e9b5d6da7cbfd1ab4f81813a078134,vi Kivity <avi@scylladb.com>, 2018-12-09 12:08:59 +0200, , reactor harden io_getevents callsite signal currently io_getevents never enters kernel due way call however plan add debug option fact enter kernel active system call fail eintr triggering assertion failure detect condition prevent assertion failure treat eintr timeout always safer return early io_getevents,,
2377,1507dee3ceb361e290b3154b66e2716a9070b9a7,vi Kivity <avi@scylladb.com>, 2018-12-09 14:38:38 +0200, , merge allow consumer seastar write seastar test jesse  series publishes previously internal seastar testing library make possible consumer library perhaps library built seastar define unit test run asynchronous context  jhk expose_testing http github.com hakuch seastar export testing library publicly build use absolute shared library path boost test move code testing namespace test place exchanger seastar namespace test define use test extract testing entry point function test restructure library file test remove redundant forward decl,,
2378,d0fbef7177efd8c6bc76eec7695ff4af4b70eaa7,vi Kivity <avi@scylladb.com>, 2018-12-09 12:03:26 +0200, , linux aio add option force io_getevents enter kernel bypassing io_getevents system call improves performance reduces debuggability using strace add option io_getevents force syscall called low level api used bool rather bool_class,,
2379,73dcd323591f6522864a7e6903957f34375175b0,vi Kivity <avi@scylladb.com>, 2018-12-08 16:11:40 +0200, , sharded type erase invoke_on_all sharded invoke_on_all used slow path used replicating metadata global control change rather data path unconditionally type erased reduce compile time especially important invoke_on_all input function get compiled many time propagated call chain test unit release message avi scylladb.com,,
2380,d99a7031b9c1ad4cc7a4b6fa597d477d3a9068e5,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-07 16:28:30 -0500, , export testing library publicly change allows consumer seastar library program define execute test running asynchronous seastar context test library built boost test previously existed seastar internal use define cmake target seastar seastar_testing pkg config library called seastar testing consumption library basic example tested test dist executed part test_dist target,,
2381,023ccfed4e130e02b0252d11e25856a3281a7162,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-07 12:54:05 -0500, , build use absolute shared library path boost boost compiled locally part development environment want ensure shared library reference dependency boost shared library absolute path build tree run time dependency library linked executables need reflect local boost system installed one,,
2382,bc5acbcbee1802df04685e779c22538474bb43e2,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-06 17:14:57 -0500, , test move code testing namespace clarity anticipation public export library,,
2383,e0732a616bbeb89611838b67d8c08cc8e2bab4c3,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-06 17:09:21 -0500, , test place exchanger seastar namespace,,
2384,d8bbb06e23c5b33dd9cb0980e156a7536d36e418,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-07 16:23:54 -0500, , test define use restricted dynamic linking boost test library since need provide custom entry point boost library conditionally declares main based definition previously defined unconditionally part implementation test runner author seastar test program conditionally define include definition default entry point simply invokes seastar entry_point defined test program need define manually likely invoke seastar entry_point still require unconditionally defined build system rather source file,,
2385,36b9bbe3d1388a6964bf8f1ece6b4165d1c75efb,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-07 16:21:24 -0500, , test extract testing entry point function link boost test shared library order customize entry point test program change extract logic default entry point seastar test anticipation user wishing provide entry point clarity,,
2386,9b45e6ddc8a9e62220f444b8cebe354d9673c560,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-07 16:18:43 -0500, , test restructure library file change reorganizes file comprising unit testing library anticipation part public interface seastar definition life test_case.hh definition life  test utils seastar_test correspond name class,,
2387,03e9bc10f788562cda210dd23e1312f547e59ee7,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-06 16:01:50 -0500, , test remove redundant forward decl,,
2388,f44a5131948e5fcd6ee62ab6d13c4500d6b2443f,otond Dnes <bdenes@scylladb.com>, 2018-12-07 13:12:36 +0200, , circular_buffer fix paragraph documentation add empty line paragraph otherwise end crammed line generated documentation signed botond bdenes scylladb.com message scylladb.com,,
2389,7e6b674473e54976f2a0692eae9acb353816b91e,otond Dnes <bdenes@scylladb.com>, 2018-12-07 13:17:33 +0200, , weak_ptr fix pointer semantics make distinction const pointer pointer const former doe allow value pointer changed allows non const operation pointed object reflect operator const method smart pointer follow suit drop incorrect non const overload said operator weak_ptr signed botond bdenes scylladb.com message scylladb.com,,
2390,0d3b843da1d41ec7633cf460f1196acebc37ded1,uarte Nunes <duarte@scylladb.com>, 2018-12-07 00:18:12 +0000, , core shared_ptr allow releasing lw_shared_ptr non const object accessors dispose pointed object non const const_cast pointed object disposing test unit release signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
2391,a17f0f6d8c544908157d693dc1979a82c772dc1f,enny Halevy <bhalevy@scylladb.com>, 2018-12-04 12:11:32 +0200, , reactor per device num_io_queues keep per device generate accordingly note allocate pass last_node_idx continue round robin assignment across device signed benny halevy bhalevy scylladb.com,,
2392,a59fea319c9b0c33a9a72674440b1f8a3d5a1778,enny Halevy <bhalevy@scylladb.com>, 2018-12-04 16:16:07 +0200, , resource pas num_io_queues preparation per device num_io_queues signed benny halevy bhalevy scylladb.com,,
2393,63bfc6238f8fefad0249edba0a717762a8e0c899,enny Halevy <bhalevy@scylladb.com>, 2018-12-04 15:57:22 +0200, , reactor get rid _io_coordinator member unused signed benny halevy bhalevy scylladb.com,,
2394,f0ef8f6a57ceedf8728cd60dd7707c7fa8fea1db,enny Halevy <bhalevy@scylladb.com>, 2018-12-04 15:47:15 +0200, , reactor smp configure call alloc_io_queue assign_io_queue per device preparation per device num_io_queues signed benny halevy bhalevy scylladb.com,,
2395,7d8657f56bbf443fa3feda1924c36165e3397d0c,enny Halevy <bhalevy@scylladb.com>, 2018-12-04 14:08:42 +0200, , resource keep need calculate time shard counting coordinator also used per device topology signed benny halevy bhalevy scylladb.com,,
2396,8dedd36c4220b6a11ff8bb67312001e338eb59d2,enny Halevy <bhalevy@scylladb.com>, 2018-12-04 14:42:21 +0200, , reactor alloc_io_queue capture io_info reference signed benny halevy bhalevy scylladb.com,,
2397,7c80caeca15bc8bb25d74edd5586b01321328a9e,enny Halevy <bhalevy@scylladb.com>, 2018-12-04 12:09:25 +0200, , resource rename member ioq_topology signed benny halevy bhalevy scylladb.com,,
2398,9f2bed1823e7e4720c23e7be58fd57eb39c60087,enny Halevy <bhalevy@scylladb.com>, 2018-12-04 12:09:25 +0200, , resource rename member num_io_queues signed benny halevy bhalevy scylladb.com,,
2399,ba8e71445acdac5f70781acf877a09195b71d6ce,enny Halevy <bhalevy@scylladb.com>, 2018-12-05 15:55:50 +0200, , reactor per device num_io_queues signed benny halevy bhalevy scylladb.com,,
2400,7a4312f49f9a206d5b75d3bf044733e3937b3f81,enny Halevy <bhalevy@scylladb.com>, 2018-12-05 14:27:02 +0200, , reactor use runtime latency_goal calculating num_io_queues signed benny halevy bhalevy scylladb.com,,
2401,95afedf43a5b63f6eb0deee2d15c2dd338bcfa79,enny Halevy <bhalevy@scylladb.com>, 2018-12-05 14:13:17 +0200, , iotune move calculation num_io_queues reactor parse_config calculate num_io_queues reactor parse_config unless given via num queue option iotune provides device read write iop provide num queue prepare per device num_io_queues make calculation depend task quota rather constant signed benny halevy bhalevy scylladb.com,,
2402,370a12517722dfad08a6957b3097bb1f916d69b6,enny Halevy <bhalevy@scylladb.com>, 2018-12-06 13:58:58 +0200, , reactor keep member private signed benny halevy bhalevy scylladb.com,,
2403,73c7fcc9cb8321c8dd986fa83fc168a54df6e321,enny Halevy <bhalevy@scylladb.com>, 2018-12-05 15:15:56 +0200, , reactor introduce latency_goal signed benny halevy bhalevy scylladb.com,,
2404,7491ea95b1e9487bbc54b2efc3d70c1105a5a56c,enny Halevy <bhalevy@scylladb.com>, 2018-12-05 13:56:19 +0200, , iotune fix calculation num_io_queues multiple device signed benny halevy bhalevy scylladb.com,,
2405,460e023579ccd32470a0b62b47efa80851c283e1,enny Halevy <bhalevy@scylladb.com>, 2018-12-05 13:47:27 +0200, , iotune let caller adjust duration per shard doe know running parallel shard serially signed benny halevy bhalevy scylladb.com,,
2406,89fa2068f236bd041069d4b488cdb31863f62b66,afael vila de Espndola <espindola@scylladb.com>, 2018-12-05 15:23:50 -0800, , convert seastar addr2line python3 requires using loop instead map since map lazy python3 message espindola scylladb.com,,
2407,af207a5d86dd3f88c8fa7d0655c9b7713b3635b5,enny Halevy <bhalevy@scylladb.com>, 2018-12-05 08:41:30 +0200, , test cleanup definition make easier read maintain signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
2408,8e1e7d4b5cd71233a0331881ba34d338fc9b0121,vi Kivity <avi@scylladb.com>, 2018-12-05 11:10:33 +0200, , merge cmake build mode improvement rafael  misc improvement cmake build intentionally left ndebug release discussion another series  espindola change mode http github.com espindola seastar add dev build mode map release relwithdebinfo single list supported mode,,
2409,d4b05dc79bb63f3a2de3c3bc46394731448b3c3a,afael vila de Espndola <espindola@scylladb.com>, 2018-12-04 10:50:31 -0800, , add dev build mode currently two mode slow build release slow build optimization debug slow build debug info sanitizers patch add dev mode useful first target iterating patch needed fast build running test posting patch one still expected run test release debug mode signed rafael vila esp ndola espindola scylladb.com,,
2410,27199976b81c820832df412d6b64800fb54c7b4d,afael vila de Espndola <espindola@scylladb.com>, 2018-12-03 09:54:57 -0800, , map release relwithdebinfo old build system release mode still included debug info map relwithdebinfo signed rafael vila esp ndola espindola scylladb.com,,
2411,c5bff0e7c80c035284029672ad891823b7e624a9,afael vila de Espndola <espindola@scylladb.com>, 2018-12-04 10:54:53 -0800, , single list supported mode right debug release place patch make list one signed rafael vila esp ndola espindola scylladb.com,,
2412,2a05b0fddf2186b6c6d604bf3b8bbeea4a700fd1,otond Dnes <bdenes@scylladb.com>, 2018-12-04 18:21:08 +0200, , core weak_ptr improve documentation add documentation weak_ptr class previously none make relation class clear improving latter discoverability previsouly relation would become clear one somehow ended finding class well also fix link weak_ptr description drop prefix signed botond bdenes scylladb.com message scylladb.com,,
2413,3f3854d06bff0ea4358f221b286f6403ce2a0b58,vi Kivity <avi@scylladb.com>, 2018-12-04 11:29:10 +0200, , merge cmake correction consistency jesse  additional correction silly mistake new feature consistency  jhk http github.com hakuch seastar build fix typo build correct handling user flag build correctly forward cflags cmake build allow demo target excluded build fix app target exclusion default build fix test target exclusion,,
2414,f9d3f7b27dcfbc17407b4a0c2f5748c555c51559,os Guilherme Vanz <jvanz@jvanz.com>, 2018-12-03 23:48:40 -0200, , install dependencies.sh opensuse dependency update install dependencies.sh install dependency running opensuse linux signed jos guilherme vanz jvanz jvanz.com message guilherme.sft gmail.com,,
2415,f00f590e8f108cdd3148398f40e944d5b2a1b196,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-03 19:09:21 -0500, , build fix typo,,
2416,2862a5e04a51a372834153bf669f6b4a529ad841,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-03 19:08:14 -0500, , build correct handling user flag change add cmake variable correctly populates value user_ldflags configure.py,,
2417,dcfdcf3905de6d74a14a250684aaca272cf0dfec,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-03 18:20:22 -0500, , build correctly forward cflags cmake value must semicolon separated list value user_cflags forwarded format cmake populating non existent cmake variable additionally correctly forward value user_optflags cmake building release mode,,
2418,c11de6bf32d08c08a50e13e6c4527cb03914b44e,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-03 18:13:32 -0500, , build allow demo target excluded change add new cmake option similar existing option apps test new argument without demo configure.py populates new cmake variable,,
2419,bf01a65a972cfffc6a7fbd09829fce0273ac7d15,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-03 18:07:44 -0500, , build fix app target exclusion default change add argument cmake similar one test value without apps configure.py correctly populates new cmake variable,,
2420,022164e8ae48007bd8b2a63a3cde2393483d352e,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-12-03 18:03:15 -0500, , build fix test target exclusion argument configure.py correctly translated equivalent argument cmakelists.txt change test target built default without test supplied configure.py,,
2421,b60a810b086284a55d12438a8fbc4b552d2d2d4d,lauber Costa <glauber@scylladb.com>, 2018-12-03 09:57:21 -0500,500, io_scheduler allow node boot fewer queue numa node historically mandating numa node queue performance reason copy pointer across numa node however device slow enough really much choice accomodate prefer allocate everything locally numa node possible allocate shard beloning numa node without coordinator random node among one exist believe assigning round robin fashion better point try play proximity trick first common case single numa node coordinator anyway second try find closest may end coordinator way shard others fix 500 signed glauber costa glauber scylladb.com message glauber scylladb.com,,
2422,9c54032836842ee141455b7593b62f4c8a2a76b8,uarte Nunes <duarte@scylladb.com>, 2018-12-03 10:39:39 +0000, , merge wean stall detector timer thread avi  long awaited aio poll patch remove timer thread cpu stall detector still depends patchset disentangles stall detector reactor extent convert use dedicated kernel timer avoid need arm timer every task quota expiration slop introduced since measurement need exact expect fine since dedicated timer also switch use thread cpu timer protects preemption false positive expense kernel block false negative since latter rare think tradeoff worthwhile kernel block also detector finally unit test added test unit release  tag stall detector http github.com avikivity seastar test add unit test cpu stall detector reactor add hook capture report cpu stall detector reactor add reactor use thread cputime clock stall detection reactor change cpu stall detector depend timer thread reactor introduce reactor move stall detection code timer thread stall detector tick function reactor fold reactor extract cpu stall detector state class,,
2423,9d632ff8e9072c6b7d1763c6f2faa2953d190616,vi Kivity <avi@scylladb.com>, 2018-11-22 19:18:13 +0200, , test add unit test cpu stall detector,,
2424,6a0e9a974412f287ce9ebb64469c14d250f63148,vi Kivity <avi@scylladb.com>, 2018-11-22 19:16:28 +0200, , reactor add hook capture report cpu stall detector useful unit testing,,
2425,c3d3bd7a315ea2317ec605e4ce0560b42aced662,vi Kivity <avi@scylladb.com>, 2018-11-22 19:14:44 +0200, , reactor add symmetry update function useful unit test later,,
2426,b5c86cb8f6d4cebd1068a776b61c7b3350cffdea,vi Kivity <avi@scylladb.com>, 2018-11-22 15:43:49 +0200, , reactor use thread cputime clock stall detection using thread cputime clock prevents false positive due overcommitted processor improves quality report could also generate false negative system call block since cputime clock stopped thread switch context voluntarily event rarer day better investigated using latency detector,,
2427,f09743501e86eb97163796ea10df048264927b54,vi Kivity <avi@scylladb.com>, 2018-11-22 15:32:22 +0200, , reactor change cpu stall detector depend timer thread reactor soon gain aio poll mode doe timer thread avoid losing stall detector migrate use timer signal directly order prevent excessive signal timer set report threshold rather task quota mean almost every delivered signal corresponds quota violation exception stopped running task time signal delivered avoid excessive call timer_settime allow slack timing threshold 10ms set timer 13ms rearm 3ms gone enter task execution 10ms 13ms clock,,
2428,3a9fea2792b469e0b347258a8e00a699af42fcf8,vi Kivity <avi@scylladb.com>, 2018-11-21 19:40:38 +0200, , reactor introduce instead letting idle loop reach internals stall detector call api,,
2429,63708676e1e49eba7e7b73757bde38d4d50a9902,vi Kivity <avi@scylladb.com>, 2018-11-21 19:17:51 +0200, , reactor move stall detection code timer thread stall detector tick function isolate code prepration modification,,
2430,893ae9ebc0d4791e619dc0e650c09c7edf75a581,vi Kivity <avi@scylladb.com>, 2018-11-21 18:25:34 +0200, , reactor fold relationship part task merge,,
2431,0a4560680df2dc8ff978c95a054921bfdd63dd9a,vi Kivity <avi@scylladb.com>, 2018-11-21 18:04:21 +0200, , reactor extract cpu stall detector state class first step disentangling cpu stall detector reactor move internal state signal handler class reactor still manages state change follow,,
2432,826d9a708050c5ed15d59d2ed0374867968b3685,lauber Costa <glauber@scylladb.com>, 2018-11-29 15:00:53 -0500, , seastar addr2line robust missing library library exist particular path addr2line return ioerror need robust would cleaner already know advance constructor unfortunately process really exit return code try pipe something wrap decoding code try except block instead exception print address library name move signed glauber costa glauber scylladb.com message glauber scylladb.com,,
2433,524ab9fff82234e4f435a7f51ee60f552ed1b375,vi Kivity <avi@scylladb.com>, 2018-12-02 13:23:40 +0200, , merge post merge cmake fix jesse  series consists inital fix new cmake build system  jhk cmake_fixes http github.com hakuch seastar build correct doc dialect option build remove unused function build fix tri state option configure.py build install gnu stow dependency,,
2434,2c52d0db7a5350be77a4bd9832b33d949d8fbf1f,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-11-29 15:40:45 -0500, , build correct doc dialect option,,
2435,f5b307a53718221c31d34ee8e674f78792943527,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-11-29 15:31:53 -0500, , build remove unused function,,
2436,aea791dd81016bb17552ed87e166c76dcd9502a6,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-11-29 15:29:47 -0500, , build fix tri state option configure.py change fix bug whereby value hwloc argument correctly forwarded cmake bonus uniformly enable disable variant boolean flag configure.py,,
2437,4b3243ecfb8a07f54f4ad55d585191cd3373a86d,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-11-29 14:56:21 -0500, , build install gnu stow dependency tool required configure script manage external dependency,,
2438,c79e9dec76186f76d1a2e48187e3073449a60bfe,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-11-29 11:17:59 -0500, , build replace build system cmake patch replaces previous build system based ninja file generated python script cmake quick walk see hacking.md tested build system combination gcc cmake 3.5.2 cmake 3.11.2 important characteristic new build system dependency handled previously dependency seastar readily available system package included git submodules compiled part generated rules.ninja file system specify cmake name version dependency bundle build way dependency supplied arbitrary source could include system package custom location disk package manager like conan configure.py test.py still exist functionally compatible wrap cmake based replacement option supported new build system included script longer git submodules still exist fmt dpdk consumer seastar provide source instruct cmake find wish one option supplying dependency included patch cooking.sh script part cmake cooking project script creates local development environment containing dependency fetching source code compiling installing project specific location instruction using cooking.sh available new hacking.md file project home page convenient way build external dependency included git submodules use cooking.sh dev recipe point use compatibility configure script configure.py also cooking.sh dependency included submodules build system check dependency satisfied seastar installed via example ninja install installed file relocatable system includes dependency installation destination exists part build system also generate pkg config specification installed alongside cmake file necessary consumer use seastar new build system also includes new test_dist target test verifies client build application seastar file build system installs test cooking.sh manage dependency check native cmake support also compilation pkg config finally doxygen need instructed output file based way build configured change reflected new template file doxyfile.in configured build system fix fix 264 fix 313 signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2439,7f8ace2ec1177b216b1be16364c3d4c4adc1a91c,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-11-29 11:17:58 -0500, , doc use absolute path specifying template way documentation generation script invoked directory signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2440,1511ae8b50e99101ee7146f661ca9f826cb1b064,vi Kivity <avi@scylladb.com>, 2018-11-29 11:11:58 +0200,2415, merge multidev cleanup benny  cleanup miscellaneous typo clarification code comment doc related per device queue fix minor bug generate_config reversing test max_bandwidth max_iops equal std numeric_limits uint64_t max ref 2415 test unit release  project multidev cleanup http github.com bhalevy seastar reactor generate_config need set default reactor generate_config fix reversed testing max_bandwidth max_iops reactor clarify comment reactor fix typo property option description doc property file.md remove single mount point limitation doc property file.md fix typo,,
2441,132e6cd4e89d7e9bfedd0ff328c472f18a67e751,vi Kivity <avi@scylladb.com>, 2018-11-28 18:18:10 +0200, , script json2code port python python end lifing standardizing python seems work without change message avi scylladb.com,,
2442,b1c405c5cd493aa0676c5f20573d74af53782aa7,enny Halevy <bhalevy@scylladb.com>, 2018-11-26 09:36:47 +0200, , reactor generate_config need set default already set std numeric_limits unsigned max default signed benny halevy bhalevy scylladb.com,,
2443,8b4366f3bfcea80d51a58660351c742b38a67dcb,enny Halevy <bhalevy@scylladb.com>, 2018-11-26 09:33:16 +0200, , reactor generate_config fix reversed testing max_bandwidth max_iops reversed testing max_bandwidth max_iops std numeric_limits uint64_t max corresponding signed benny halevy bhalevy scylladb.com,,
2444,97fc2b8d68d3a3d6637012e351e0edb23381f092,enny Halevy <bhalevy@scylladb.com>, 2018-11-26 09:04:13 +0200, , reactor clarify comment seems like comment based defined 100 yet defined 128 comment doesan make sense signed benny halevy bhalevy scylladb.com,,
2445,27beba6f10e9d30cd7e0e56f4d3d0344b95d1dbd,enny Halevy <bhalevy@scylladb.com>, 2018-11-26 08:55:36 +0200, , reactor fix typo property option description signed benny halevy bhalevy scylladb.com,,
2446,8e9ee0ad5ccd32cd9c8e828a4d3b7f9bece35776,enny Halevy <bhalevy@scylladb.com>, 2018-11-26 09:10:20 +0200, , doc property file.md remove single mount point limitation since b2ef578f io_queue create one queue one mountpoint support multiple mountpoint entry property file also clarify wording regarding read write iop bandwidth attribute per mountpoint signed benny halevy bhalevy scylladb.com,,
2447,2154bfbd105075b2363362bfa96707c610480bc4,enny Halevy <bhalevy@scylladb.com>, 2018-11-26 08:54:41 +0200, , doc property file.md fix typo signed benny halevy bhalevy scylladb.com,,
2448,987d04ede0d4def1c092495954e31187b1bd3490,uliana Oliveira <juliana@scylladb.com>, 2018-11-24 22:36:48 -0200, , docker dev dockerfile add devel docker setup since recently removed submodules 8d99e3c0 need manually installed patch add devel package dev dockerfile signed juliana oliveira juliana scylladb.com message,,
2449,1fbb633d9875840db2bce798d1cdfe3424ce0575,omasz Grabiec <tgrabiec@scylladb.com>, 2018-11-22 10:51:02 +0100, , rpc reduce code duplication message 1542880263 5056 git send email tgrabiec scylladb.com,,
2450,4e0afe4afb128ba107adfbaf98c6d7402b3b86c5,omasz Grabiec <tgrabiec@scylladb.com>, 2018-11-22 10:36:06 +0100, , test perf make do_not_optimize take argument const allow passing temporary message 1542879366 3959 git send email tgrabiec scylladb.com,,
2451,0a37405f9ccab0d8777eea69e253e556a5bedaaa,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-11-21 14:21:03 -0500, , doc fix import path tutorial tutorial need updated given restructure seastar file signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2452,b924495aef4553c95250ffbd34834e99aceef3ea,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-11-20 16:47:26 -0500, , build fix protobuf generation rule protoc 3.3 seems handle path differently later release change modifies way protoc invoked compatible likely version want generated .pb.h .pb.cc file placed directory like build release gen src protobuf want .pb.cc file import form include metrics2.pb.h protoc argument instructs protoc generate import statement therefore invoke protoc qualified import path input file includes path protoc cpp_out build release gen src proto isrc proto src proto metrics2.proto signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2453,2ec0a04396e018b257f40c73a8261c5177eae60d,vi Kivity <avi@scylladb.com>, 2018-11-20 17:59:10 +0200, , merge restructure file jesse  change restructure seastar file easier integration build system distribution tool cleaner separation private public file consistency  jhk restructure http github.com hakuch seastar apps rename response parser file consistency doc move doxygen file doc directory perf rename perf test source file consistency demo rename demo source file consistency test rename test source file consistency test restructure test directory split private public file rename move json2code,,
2454,bcc58e4d208b2b1a73f648b4164ac8160767e65d,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-08-16 09:43:03 -0400, , apps rename response parser file consistency,,
2455,618ad7f13bca82dee3681f06d6aac7f37fab19ce,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-08-16 09:41:27 -0400, , doc move doxygen file doc directory,,
2456,f7c23bbe0e44497b91b8319bf16e9cbadca7d8fa,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-08-16 09:40:54 -0400, , perf rename perf test source file consistency like test demo make perf suffix instead prefix,,
2457,22472701578963e45b15fd46020639f0b44779ca,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-08-16 09:37:48 -0400, , demo rename demo source file consistency source file containing main entry point demo demo suffix differentiate source file implementing functionality common many demo,,
2458,8b6a3bb72309e928a79e1da94c62bc77fb4893ab,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-08-15 17:32:13 -0400, , test rename test source file consistency source file contain entry point test test suffix differentiate source file implementing functionality common many test,,
2459,bd3c43fa4c8e3888f4c0706ba86d64b984c18928,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-09-04 09:18:39 -0400, , test restructure test directory unit test unit subdirectory test gate release seastar prevent branch merging run automatically without human supervision performance test perf subdirectory application specific test move application specific subdirectory apps small test demonstrate validate functionality seastar require human intervention moved demo directory,,
2460,1a4f95b34b6ee84058f1a1edd2f8e24d0aca136e,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-10-17 17:39:33 -0400, , split private public file important differentiate public interface file private implementation detail end move public header include directory move source file implementation internal header file src directory change following benefit clear separation public private interface check location file help inclusion header help make future improvement compilation time easy know source file installed system file include directory build system packaging tool beneficial side effect public header file must included prefix seastar like include seastar core future.hh instead include core future.hh helpful making clear client application library header file belong seastar implementation seastar public header file included absolute path relative include directory delimiters including directory eliminates ambiguity location header file public implementation seastar private header file included absolute path relative src directory delimiters including directory like public header file eliminates ambiguity location file disk also reinforces file private rule adhered highly unlikely pending naming conflict would effectively need intentional compilation succeed public header file included private one however private header source file include private public header file,,
2461,1d4c0e892cecb268da49942d24772a5c31bec6e8,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-10-31 16:01:06 -0400, , rename move json2code intend install tool seastar library file target system,,
2462,d59fcef44a2b403227f76c9ceacd366b6fd2ed6f,alle Wilund <calle@scylladb.com>, 2018-11-20 09:04:18 +0000,521, dns set tcp output stream buffer size zero explicitly fix 521 want buffering tcp output packeted already thank fact could reach raw sink would alternatively could flush stream write would cost extra continuation message calle scylladb.com,,
2463,23e115a7bc7cf5705101d28cca65d55dcbead69f,vi Kivity <avi@scylladb.com>, 2018-11-15 19:11:43 +0200, , test add libc travis dependency carry submodule need pull build environment message avi scylladb.com,,
2464,6f2f751cf230c575c8d0283d725eb53864846a2a,vi Kivity <avi@scylladb.com>, 2018-11-15 19:07:58 +0200, , test add dns_test test suite since one sub test failing disable temporarily ref 521 message avi scylladb.com,,
2465,8d99e3c075114458229b73c2bb931aa56daf335d,vi Kivity <avi@scylladb.com>, 2018-11-15 15:28:31 +0200, , build drop bundled package seastar depends new feature virtualized socket function carried submodule make easier consume feature available 1.13 year available current distribution drop submodule depend distributed package user old distribution build provide include path test unit release dns_test one preexiting failure tcp_test note dns_test part test.py message avi scylladb.com,,
2466,79281ef2874de49885faa57741ca55b6599a9342,mnon Heiman <amnon@scylladb.com>, 2018-11-15 10:31:18 +0200,477, prometheus replace instance label optional one modifying instance label condemn prometheus eco system generally accepted done prometheus server reason user want add custom label probably patch add ability set custom label addition optional label_instance default label emitted fix 477 signed amnon heiman amnon scylladb.com message amnon scylladb.com,,
2467,afcf8e910d4b69dd18ce95485a4a813593fc158f,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-11-14 19:58:34 -0500, , build refactor dialect detection previous version code following property supported dialect tested though care best one default therefore eliminate unnecessary test reduce configuration time error handling code provided default dialect case exception exception would raised value args.cxx valid therefore allow error would unexpected propagate dialect supported use worst last one expect user well informed error compilation time signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2468,f6a064d412e330ac795604108e4e4ff250a054d6,vi Kivity <avi@scylladb.com>, 2018-11-14 16:06:00 +0200, , build add libatomic install depenencies.sh needed since message avi scylladb.com,,
2469,b5aac9737648eb3dfe7a80423b7844f36e5e1c57,enny Halevy <bhalevy@scylladb.com>, 2018-11-14 11:35:44 +0200, , core use std underlying_type open_flags use std underlying_type instead assuming unsigned int signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
2470,1c484f1ee76fe68ed0e90c7ba40998013f6efaed,enny Halevy <bhalevy@scylladb.com>, 2018-11-14 11:06:48 +0200, , core introduce open_flags operator testing particular open_flags may combined open_flags example flag open_flags create open_flags exclusive open_flags create open_flags exclusive test added unit test open_flags file_io_test signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
2471,410c49fdf7c690698e566caadfc7c626b12f38cf,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-11-01 14:01:42 -0400,527, core fix build gnu declaration definition previously form constant initialization without constructor call mean value initialized mean implicit constructor std atomic invoked producing temporary value supplied copy ctor std atomic copy elision required std atomic copyable resulted compilation error copy elision required move ctor std atomic invoked fix issue use direct initialization ensures invoke ctor std atomic directly instead producing temporary fix 527 http cpp language http cpp language http cpp language copy_elision http cpp language signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2472,a44cedf287bfbe8c0c07ad663f26f0683e5b0885,ichael Munday <mike.munday@ibm.com>, 2018-11-08 16:48:56 +0000, , build link libatomic compiling function atomic compiler may emit call function libatomic hardware support required atomic operation commit fix build ibm s390x using devtoolset toolchain fix 530 message mike.munday ibm.com,,
2473,47a026c9aae9cf1fcc84f816d005eef5e9a05ea6,alle Wilund <calle@scylladb.com>, 2018-10-30 08:23:52 +0000,523, dns.cc include name address resolver error message fix 523 includes name address tried resolve exception thrown error message calle scylladb.com,,
2474,9adc4fdf16f1426c1c1450ff324f05ef2e229ece,alle Wilund <calle@scylladb.com>, 2018-10-30 08:23:51 +0000,524, log print full error message std system_error fix 524 previously printing std system_error logger printed however std system_error message part nominally defined error code string message print full message static error code string message calle scylladb.com,,
2475,f73e7dc8a06cd07f77f61c593609f03e914926ec,omasz Grabiec <tgrabiec@scylladb.com>, 2018-10-30 15:02:55 +0100, , test test utils add missing include message 1540908175 13467 git send email tgrabiec scylladb.com,,
2476,23765c32abc2d3c3003da048f674ba8d08671fe7,omasz Grabiec <tgrabiec@scylladb.com>, 2018-10-30 15:02:30 +0100, , fstream introduce file writer output_stream would benefit term performance accessing data_sink directly message 1540908150 13363 git send email tgrabiec scylladb.com,,
2477,c02150ef3b49cafe79511447ed48b038b4d0624e,lauber Costa <glauber@scylladb.com>, 2018-10-31 14:06:26 -0400,526, prometheus pas name query parameter instead part url infrastructure parse name parameter prometheus url upon finding one return metric start string however today relies url name parsing instead query parameter prometheus way configuration file generate sliced query based query parameter would benefit switch fix 526 signed glauber costa glauber scylladb.com message glauber scylladb.com,,
2478,e072bd5097b7470857d85db4e75f0185b04f0e71,vi Kivity <avi@scylladb.com>, 2018-10-27 23:27:53 +0300, , treewide convert printf style formatting fmt fmt 5.2.1 subtly changed behavior printf fails prevent lurking bug convert formatting native standardized fmt mini language mechanically translated http github.com avikivity unsprint test unit release except already fail system unrelated reason message avi scylladb.com,,
2479,658da57e26a54b19d0f0aa280d9c469cf1f9b78b,vi Kivity <avi@scylladb.com>, 2018-10-27 23:27:52 +0300, , print add fmt_print fmt printf emulation changed subtly format broken want wean printf style move new form set standardized intermediate meaure introduce fmt_print ostream fmt ... fmt print ostream fmt ... except also return ostream expected existing code asists mechanical translation message avi scylladb.com,,
2480,5d214ecbd2ef3e631323a483266ffa6ad5727e59,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-10-26 18:00:52 -0400, , build remove experimental cmake support previous support cmake experimental experiment enabled significant learning development cmake expertise older wiser clear previous approach fundamentally ineffective many respect best start scratch incorporating lesson learned discarding baggage collected signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2481,f1adbc1ecf490127cf759d1246505403b60282c7,vi Kivity <avi@scylladb.com>, 2018-10-28 10:38:32 +0200, , merge correct clean signal_test jesse  series ensures signal_test invoked test runner correctly also refactors test make time independent test unit release  jhk fix_signal_test http github.com hakuch seastar test remove unnecessary return test add missing header signal test make signal_test time independent test kill signal_test,,
2482,5dc9c43b4e76f4865b83d083d20b8fb326a98ac0,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-10-26 15:19:19 -0400, , test remove unnecessary return,,
2483,526466599b2f6080a7eb9a43192f38f4f13efc48,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-10-26 15:18:43 -0400, , test add missing header signal,,
2484,f9128d88ac7872a54063211a2a1baf110b489fa2,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-10-26 15:18:29 -0400,519, test make signal_test time independent rather wait fixed delay signal processed reactor wait promise furthermore change assumes adding signal handler synchronous based review implementation additional delay also removed fix 519,,
2485,b9fe035a9f5156f25d3bb626f56021452c04f599,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-10-26 15:00:55 -0400,518, test kill signal_test process pid argument kill effect send signal process process group process unit test executed another process runner share process group therefore signal terminates runner well change ensures current process receives signal also include necessary header getpid fix 518,,
2486,c1e0e5d6b461bdd314d2b190dc9e31ccd92fd6d1,lad Zolotarov <vladz@scylladb.com>, 2018-10-09 22:31:07 -0400,506, script perftune.py properly merge parameter command line configuration file merge appendable argument coming yaml config file command line fix 506 signed vlad zolotarov vladz scylladb.com message vladz scylladb.com,,
2487,ee763632302f9f694f375946bba510efbb41de0b,vi Kivity <avi@scylladb.com>, 2018-10-23 20:04:35 +0300, , fmt update 5.2.1,,
2488,a7494160c1e3a35ee00abf4140d67a7b166ec31e,lauber Costa <glauber@scylladb.com>, 2018-10-22 16:15:10 -0400, , io_queue increment statistic request admitted graph generate bandwidth iop stats bit misleading increment quantity soon request generated admitted therefore measuring bandwidth iop generated consumer bandwidth iop scheduler generating contended scenario thing quite different signed glauber costa glauber scylladb.com message glauber scylladb.com,,
2489,c72ae54951d49c72d8b360468b6f185a62599a1d,ippolyte Barraud <hippolyte.barraud@gmail.com>, 2018-10-22 17:36:04 +0800, , add cmake target httpd failing generating using cmake due missing util .hh patch add cmake recipe message gmail.com,,
2490,f64cb5e0c9a6a3ffb4008d6ac90a3e85ef422e43,vi Kivity <avi@scylladb.com>, 2018-10-21 12:27:04 +0300, , fstream remove default extent allocation hint set default extent allocation hint 1mb order reduce fragmentation however disk happens raid array xfs attempt align extent small file occupy space use prevent use remaining space next stripe alignment result see enospc error even disk mostly free aligned block allocated xfs allocate unaligned block prevent remove default extent allocation hint instead increase default file stream output buffer size 64k extent least large ref scylladb scylla 3867 http www.spinics.net list linux xfs msg22933.html message avi scylladb.com,,
2491,d1295c37bf9d7545674ff881fd941ef717b1d692,uarte Nunes <duarte@scylladb.com>, 2018-10-21 22:47:54 +0100, , core semaphore change access semaphore_units main ctor make private main semaphore_units ctor receiving semaphore pointer number unit taken order prevent mistake passing nullptr non zero amount unit preserve ability creating null object semaphore_units add default ctor signed duarte nunes duarte scylladb.com reviewed nadav har nyh scylladb.com message duarte scylladb.com,,
2492,d152f2dd1cd03381fe0b4cf0399f8349250210f5,vi Kivity <avi@scylladb.com>, 2018-05-23 16:39:13 +0300, , build link libgcc_s explicitly ordering libunwind link libunwind compiler implicit linkage libgcc_s sufficient portable message avi scylladb.com,,
2493,dfaa3ea9ae91e6df0f286a5b4a755fd9594e1c6f,vi Kivity <avi@scylladb.com>, 2018-10-16 15:25:15 +0300, , scheduling add std hash seastar allows used unordered_map key useful rpc client caller figure connection rpc_client use get right service level server message avi scylladb.com,,
2494,43cf015c1f8880ed346ccda6ff30bb7be24095bc,mnon Heiman <amnon@scylladb.com>, 2018-10-14 16:09:30 +0300,469, prometheus allow preemption metric server many core time memory require write metric become big instead collecting metric family single stringstream patch call write metric limit memory consumption allow preemption simplicity text writer code changed use thread fix 469 signed amnon heiman amnon scylladb.com message amnon scylladb.com,,
2495,d41bd3cc49be8be0396b7a1702ef264f48e25951,vi Kivity <avi@scylladb.com>, 2018-10-11 17:41:13 +0300,413, merge improve memory detection container juliana  seastars memory detection done using hwloc run inside container would retrieve host available memory cause memory overcommitment running seastar container due possible memory miscalculation container memory limited host patchset aim improve memory detection container using hwloc cgroup available detect available memory case host container fix 413  bad_memory github.com jwnx seastar core resource use cgroup memory calculate available memory iotune move read_sys_file util read_first_line,,
2496,f4a53d006b083990f5150b6e3cd7713db5cec669,uliana Oliveira <juliana@scylladb.com>, 2018-10-01 04:31:18 +0000, , core resource use cgroup memory calculate available memory available memory calculation done using hwloc run inside container return host total memory patch add cgroup usage determine amount available memory inside container memory unlimited seastar run host cgroup default represents 9223 petabyte 64bit system since hwloc host memory minimum hwloc hwloc container memory unlimited host otherwise therefore patch fix memory allocation inside container using std min hwloc instead hwloc solely signed juliana oliveira juliana scylladb.com,,
2497,b466635e4878d34835eda4d89de0e17ddcbdc162,uliana Oliveira <juliana@scylladb.com>, 2018-10-01 04:20:47 +0000, , iotune move read_sys_file util read_first_line move read_sys_file general position used elsewhere also renamed read_first_line clarity signed juliana oliveira juliana scylladb.com,,
2498,56161b3292d818dfef5fb0683e644d77dcb058c1,vi Kivity <avi@scylladb.com>, 2018-10-10 16:23:57 +0300, , merge perf_tests produce json report pawe  series extends perf_tests microbenchmark infrastructure produce report json format easily interpreted script e.g part job  tag perf test json http github.com pdziepak seastar test perf add flag disabling stdout enabling json test perf add json_printer test perf introduce abstract result_printer,,
2499,396a3e2ac11f305e2ad618a31ae9f580bd747aa2,awe Dziepak <pdziepak@scylladb.com>, 2018-09-26 12:33:16 +0100, , test perf add flag disabling stdout enabling json,,
2500,71c645885dead1ac618ffdfd77829f7f9fd652cf,awe Dziepak <pdziepak@scylladb.com>, 2018-09-26 12:19:04 +0100, , test perf add json_printer patch add code writing perf_test result json file easily interpreted script e.g part job,,
2501,49990251e4b9281d507c7ec5bfdc87457c0d14f0,awe Dziepak <pdziepak@scylladb.com>, 2018-09-26 12:07:24 +0100, , test perf introduce abstract result_printer far test result printed stdout change option write json file going added abstract class result_printer added implementation result handling i.e stdout json derive,,
2502,4669469be5162b6d5138062c6d0446bcadf39a3b,mnon Heiman <amnon@scylladb.com>, 2018-10-09 15:17:25 +0300,3827, prometheus fix histogram text representation current implementation histogram text representation two issue histogram value already accumulated need accumulate  need add label sum count associate right metric patch fix two issue see scylladb scylla 3827 signed amnon heiman amnon scylladb.com message amnon scylladb.com,,
2503,99534482145b5f4f8a66cca9bc68c663f123191d,enny Halevy <bhalevy@scylladb.com>, 2018-10-08 14:59:32 +0300,505, reactor count error fix 505 test file_io_test fstream_test signed benny halevy bhalevy scylladb.com message bhalevy scylladb.com,,
2504,ed44af8909f6d176df0ff91fa1e3844925d7741c,vi Kivity <avi@scylladb.com>, 2018-10-07 20:44:10 +0300, , merge add semaphore_units split function duarte  allow splitting semaphore_units object two holding subset unit allows function receiving semaphore_units object incrementally release unit maintaining exception safety also allow null object semaphore_units created test unit semaphore_test  semaphore unit split http github.com duarten seastar core semaphore add unit test semaphore_units split core semaphore add semaphore_units split function core semaphore simplify semaphore_units move assignment operator core semaphore hold pointer semaphore_units,,
2505,25963309a21fe70a27de633e2447533e596688bc,vi Kivity <avi@scylladb.com>, 2018-10-03 13:30:54 +0300, , scheduling introduce scylla desire introduce user controlled service level agreement mean need create destroy demand introduce support also mean test create scheduling group clean multiple test case create similarly named scheduling group previously attempt resulted metric system complaining duplicate name test unit debug release debug release message avi scylladb.com,,
2506,fddd9d65f41725a4f2fd9203261b9daad908bb3a,uarte Nunes <duarte@scylladb.com>, 2018-10-06 15:49:14 +0100, , core semaphore add unit test semaphore_units split signed duarte nunes duarte scylladb.com,,
2507,310bd9998dd9481dd9e446d80334edfb239baf9e,uarte Nunes <duarte@scylladb.com>, 2018-10-06 15:48:18 +0100, , core semaphore add semaphore_units split function semaphore_units split allows semaphore unit removed current semaphore_units object wrapped new one incrementally signal semaphore maintain raii protection exception signed duarte nunes duarte scylladb.com,,
2508,7bcbaee9f3ef0a5a33c14952a5a32c230d333529,uarte Nunes <duarte@scylladb.com>, 2018-10-06 15:45:46 +0100, , core semaphore simplify semaphore_units move assignment operator simplify semaphore_units move assignment operator use placement new trick also use std exchange move ctor consistency signed duarte nunes duarte scylladb.com,,
2509,c0148d4971e1d58a3c1de0cbfab4cbbed95294f1,uarte Nunes <duarte@scylladb.com>, 2018-10-06 15:44:48 +0100, , core semaphore hold pointer semaphore_units use pointer instead reference semaphore_units null object created signed duarte nunes duarte scylladb.com,,
2510,dd946b270a31dcb6fb5df2b6b291acd771416dbc,vi Kivity <avi@scylladb.com>, 2018-10-04 11:10:02 +0300, , include api.hh listen_options include tls.hh bring way message avi scylladb.com,,
2511,c5f3fa06a9281122fdc175ca12c49ec28a4a8d9c,vi Kivity <avi@scylladb.com>, 2018-10-04 15:59:10 +0300, , rpc connection level resource isolation currently rpc allows configured per verb basis method drawback different verb connection executed different group head line blocking cause low priority group block high priority group consuming unit verb executed one group making multi tenancy harder patch add new method isolates entire connection rather verb new method improves upon old method allowing verb executed different group called different connection executing server code scheduling group preventing head line blocking requires work per group memory reservation eventually deprecate remove old method message avi scylladb.com,,
2512,71e914ed20a91751d504a3c0504438b82fcd35b6,vi Kivity <avi@scylladb.com>, 2018-10-02 15:52:19 +0300, , merge rpc shard shard connection gleb  server client amount shard series allows establish connection shard client shard server beneficial system distribute work based hash data processed since system eliminate internal cross cpu hop pipeline using shard aware cql driver cross cpu communication storage_proxy almost zero regular cassandra stress workload  gleb shard shard github.com cloudius system seastar dev rpc provide option enable port based load balancing rpc server posix stack choose local port based shard number connect run posix stack introduce new port based load balancing algorithm connection net remove listen_options constructor,,
2513,873f95f09d443034510c0eb6b0be75522bb40f1b,vi Kivity <avi@scylladb.com>, 2018-09-25 13:47:43 +0300, , merge fix memory leak stoppping memcached tomasz  fix asan complaint debug mode memcached stopped leak created initialization affect normal operation  tag fix mem leak memcached github.com tgrabiec seastar memcached avoid leaking slab_allocator core slab destroy slab class destroying slab page memcached avoid leaking bucket array cache destroyed,,
2514,9d1f9292f51bba4915cdc6d36584a5e29cb6d3db,lad Zolotarov <vladz@scylladb.com>, 2018-09-18 16:47:25 -0400, , script perftune.py prioritize scheduler add support prioritization scheduler want configure scheduler come first __io_schedulers list higher priority particular give none scheduler higher priority noop signed vlad zolotarov vladz scylladb.com message vladz scylladb.com,,
2515,c657fd2f5b11d2420bc408ba8d8dbb11ff2ae402,efu Chai <kchai@redhat.com>, 2018-09-14 16:59:55 +0800,492," alien fix size local item size local item batch_size prefetch_cnt actually process 1,1 message_queue process_queue batch_size without change item size batch_size size greater equal batch_size reading bound accessing item batch_size fix 492 signed kefu chai kchai redhat.com message tchaikov gmail.com",,
2516,bece15f918507bd34c5346bac6d15de850d1ea6b,lauber Costa <glauber@scylladb.com>, 2018-09-13 18:26:18 -0400, , seastar addr2line invoke addr2line multiple time current script invokes addr2line binary every time see new backtrace terribly inefficient biggest problem fact fork new process fact every new invocation reload entire symbol table fix opening one addr2line process per module dealing using pipe communicate send input line respond corresponding output line test fed file backtraces script aside verifying output still timed difference  real 1m50.030s user 1m38.046s sys 0m11.795s  real 0m6.871s user 0m0.032s sys 0m0.020s signed glauber costa glauber scylladb.com message glauber scylladb.com,,
2517,8c58cd7c88f673e43aea498353500841d3bdeab4,leb Natapov <gleb@scylladb.com>, 2018-08-05 18:16:53 +0300, , rpc provide option enable port based load balancing rpc server,,
2518,4fc3c402bcf643d831f1ab9ffef68303bea5aade,leb Natapov <gleb@scylladb.com>, 2018-08-06 13:15:59 +0300, , posix stack choose local port based shard number connect run local address provided connect wildcard port try use port number satisfy equation port modulo current_shard server port based load balancing amount shard client result connection going shard number server otherwise harm done connecting shard number beneficial application distribute work based hash data processed since system eliminate internal cross cpu hop pipeline,,
2519,f51eea8e9cefdb14bc1bed1f01bc48557bc2d8fd,leb Natapov <gleb@scylladb.com>, 2018-08-05 13:39:05 +0300, , posix stack introduce new port based load balancing algorithm connection new algorithm distributes connection according peer port address designated shard determined ip_port modulo smp allow client connect specific shard choosing local port carefully,,
2520,426f979f84c055e5b8866b998c7e74f4dcfb5f92,leb Natapov <gleb@scylladb.com>, 2018-08-08 14:53:52 +0300, , net remove listen_options constructor listen_option initialized list initialization listen_option val well,,
2521,c19219ed0f336d4e58c264e05118d4d11955fc28,vi Kivity <avi@scylladb.com>, 2018-09-10 21:45:47 +0300, , reactor use label different currently create new set metric make analysis harder especially application creates dynamically switch label easy query perform statistic class simultaneously message avi scylladb.com,,
2522,f97700acf5933519b03ee1f000c5198c42790efa,omasz Grabiec <tgrabiec@scylladb.com>, 2018-09-11 19:41:43 +0200, , memcached avoid leaking slab_allocator fix asan complaint debug mode,,
2523,a3e1ee79536337a038d3b87e4cf8f92abd9b8d6a,omasz Grabiec <tgrabiec@scylladb.com>, 2018-09-11 19:39:56 +0200, , core slab destroy slab class destroying slab page slab class contain free list slab page destroying slab page still free list cause abort memcached usr include boost intrusive detail void boost intrusive detail destructor_impl hook boost intrusive detail link_dispatch boost intrusive link_mode_type hook boost intrusive generic_hook boost intrusive algo_types boost intrusive void boost intrusive member_tag boost intrusive link_mode_type boost intrusive base_hook_type assertion hook.is_linked failed thus destroy slab class first,,
2524,11be37c766542382bc5455b7280f8258dcdecb29,omasz Grabiec <tgrabiec@scylladb.com>, 2018-09-11 15:12:01 +0200, , memcached avoid leaking bucket array cache destroyed fix asan complaint debug mode,,
2525,fb822f20a3e0d36f6f299895b15877000a371471,vi Kivity <avi@scylladb.com>, 2018-09-10 22:02:28 +0300, , util spinlock fix bad namespacing xmmintrin.h xmmintrin.h included namespace spoil succesive includers fix including global namespace message avi scylladb.com,,
2526,778ca01bfbc2aae09e41399bc1fad81a548caad2,omasz Grabiec <tgrabiec@scylladb.com>, 2018-09-10 12:38:41 +0200, , merge script perftune.py support different scheduler vlad add auto selecting scheduler depending kernel device http github.com vladzcloudius seastar.git vlad zolotarov script perftune.py take feature device searching separate method script perftune.py support one scheduler,,
2527,87ab62f7d2370234c2ed8ffc8073e3fe1281a1cf,lad Zolotarov <vladz@scylladb.com>, 2018-09-07 18:01:39 -0400, , script perftune.py support one scheduler different kernel device scheduler want set may either none noop let script choose scheduler depending specific device kernel support signed vlad zolotarov vladz scylladb.com,,
2528,973412e434f01236a2ffc8bf8118caea71bcd6a4,lad Zolotarov <vladz@scylladb.com>, 2018-09-07 17:49:41 -0400, , script perftune.py take feature device searching separate method take recursive search closest ancestor requested feature separate method signed vlad zolotarov vladz scylladb.com,,
2529,36b47ab3d72feb5b9604cea2cd8086925c4e7ca3,omasz Grabiec <tgrabiec@scylladb.com>, 2018-09-06 13:38:15 +0200, , timer require callback copyable allows unique_ptrs lambda capture message 1536233896 14734 git send email tgrabiec scylladb.com,,
2530,4068cad4430f52ddc96140a0c7ef01fa31c6e6d1,omasz Grabiec <tgrabiec@scylladb.com>, 2018-07-18 11:14:20 +0200, , core reactor fix hang shutdown long task quota reactor wait task quota thread block read timerfd file task quote set second testing hang long exiting fix forcing timer fire soon shutdown message 1531905260 24872 git send email tgrabiec scylladb.com,,
2531,107a7bc120fd64f90c997f0e02b774b5def7fd0b,efu Chai <tchaikov@gmail.com>, 2018-09-04 12:13:41 +0800, , build use ppa scylladb ppa instead url sourceline hope help travis import apt key ppa repo travis stared fail recently due unauthenticated ppa repo used installing seastar depedencies address need use ppa scylladb ppa instead url sourceline travis use apt add repository instead adding sourceline etc apt sources.list directly former method import key hence address unauthenticated package issue signed kefu chai tchaikov gmail.com message tchaikov gmail.com,,
2532,7fb45bbc38fc2967b96801bfac5bf375079b20eb,efu Chai <kchai@redhat.com>, 2018-09-01 22:36:41 +0800, , net dns add net dns get_srv_records helper need create dns_resolver instance calling signed kefu chai kchai redhat.com message tchaikov gmail.com,,
2533,57128167aa94efa3bd62b903d4830cc02f736905,vi Kivity <avi@scylladb.com>, 2018-08-29 16:52:59 +0300, , test add signal_test test list run together everyone else message avi scylladb.com,,
2534,e05d1224e0ee60fe142496cc61b2c737948bc148,vi Kivity <avi@scylladb.com>, 2018-08-29 16:40:57 +0300, , merge enhancement pawe  series includes enhancement friend motivated work using fragmented buffer scylla commitlog write path new feature include adding fill member function allowing creating input stream output stream making look like iterator quite general likely user output stream benefit  tag simple stream enhancement http github.com pdziepak seastar test add test simple stream simple stream need iterator simple stream make default constructible simple stream add to_input_stream simple stream unnest simple fragmented simple stream add fill,,
2535,7dea64159e2b4a27a740e15d76665e7fccd1d689,otond Dnes <bdenes@scylladb.com>, 2018-08-23 15:20:35 +0300, , seastar addr2line print empty line backtrace line case addr2line output already newline character end last line line coming input doe need print add another one introducing unnecessary empty line use full control new line printed signed botond bdenes scylladb.com message scylladb.com,,
2536,ea1ec38ddc1de094a10e0a39cfb73b8d5fd9449f,otond Dnes <bdenes@scylladb.com>, 2018-08-23 15:20:34 +0300, , seastar addr2line add verbose option verbose mode addition resolved symbol originating module resolved address printed helpful function name always give away module frame originates even useful address resolved unhelpful printed instead resolved symbol also useful user mean resolve address script failed resolve signed botond bdenes scylladb.com message scylladb.com,,
2537,8fb646fc9e0f421ea5cf90135e92c5b8435b2a5f,otond Dnes <bdenes@scylladb.com>, 2018-08-23 15:20:33 +0300, , seastar addr2line make prefix matching non greedy regex matching non interesting prefix backtrace line greedy case matched interesting originating module part well resulted address attributed executable effectively meaning almost address originating module shared library could resolved signed botond bdenes scylladb.com message scylladb.com,,
2538,8e2e2346ef566e7ff7d56251d7ca35df19959fe6,otond Dnes <bdenes@scylladb.com>, 2018-08-28 08:56:44 +0300, , future make available const conceptually practically const method change also allows filter range future based whether available requires const method filter algorithm e.g boost adaptor filtered pas const filtered object filter function signed botond bdenes scylladb.com message scylladb.com,,
2539,12f18ce06056978355f74f48c07c0286762f6523,lauber Costa <glauber@scylladb.com>, 2018-08-27 10:28:20 -0400, , correctly configure scheduler usage yaml file recently bug scheduler configured correctly case max request legacy passed solution involved testing whether specified capacity io_queue io_queue capacity legacy io_queue io_queue without capacity configured new yaml method problem despite intention wrote instead testing _capacity default tested cfg.capacity divided number queue already result would never take yaml config branch patch change also proactively work avoid problem future changing default state optional instead std numeric_limits unsigned max signed glauber costa glauber scylladb.com message glauber scylladb.com,,
2540,1d40a5dba8085448768ce8b693074582fdef67cc,afi Einstein <rafie@scylladb.com>, 2018-08-26 11:47:51 +0300, , added support user defined signal handler message rafie scylladb.com,,
2541,b76eb168bee7c32c756e3fa4659ec19f61b48559,awe Dziepak <pdziepak@scylladb.com>, 2018-08-22 15:11:02 +0100, , test add test simple stream,,
2542,5db7a0055b3dcefd7da84a049a1ae8bf05818d6d,awe Dziepak <pdziepak@scylladb.com>, 2018-08-24 14:23:08 +0100, , simple stream need iterator memory input output stream work fragmented buffer accept iterator point fragment underlying buffer make little sense excpect type iterator work exclusively contiguous buffer,,
2543,0f030338a9c5073411ec794b376bdcbdae9a2e14,awe Dziepak <pdziepak@scylladb.com>, 2018-08-06 11:52:25 +0100, , simple stream make default constructible,,
2544,950b8471fdd3b00e1a1ca2f61ec92f310eb4b1b8,awe Dziepak <pdziepak@scylladb.com>, 2018-07-31 10:29:11 +0100, , simple stream add to_input_stream user output stream may want read written example lower layer may give output stream higher layer want compute checksum data higher layer written scenario easily supported input stream created output stream,,
2545,c63b199a133fb9442e27bcc1cdb57bcf289b702f,afi Einstein <rafie@scylladb.com>, 2018-08-20 16:46:08 +0300,2689, added reactor method modify ref scylladb scylla 2689 message rafie scylladb.com,,
2546,4011333096f44a449dce6015ea49e18477e0be90,awe Dziepak <pdziepak@scylladb.com>, 2018-08-06 14:55:28 +0100, , simple stream unnest simple fragmented nested class forward declared complicates proper ordering declaration definition,,
2547,f9c7984d0659484cdc00f5f29b024cee429f31f8,awe Dziepak <pdziepak@scylladb.com>, 2018-07-30 15:03:57 +0100, , simple stream add fill,,
2548,beb2cd92518433381c101ffff3d7bcafc6f22dde,uarte Nunes <duarte@scylladb.com>, 2018-08-13 12:14:40 +0200,483, configure.py use user specified compiler dialect detection ref 483 signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
2549,4b08a580f483a2b7f051d2dcec6681ec1c20748a,otond Dnes <bdenes@scylladb.com>, 2018-08-10 12:59:38 +0300, , seastar addr2line clear current trace omitting already seen trace avoid printing another non backtrace line follows trace signed botond bdenes scylladb.com message scylladb.com,,
2550,c8557c54f6932ae0811cbe0f0f8cd90f079529a8,otond Dnes <bdenes@scylladb.com>, 2018-08-10 12:59:37 +0300, , seastar addr2line fix redirecting output file pipe addr2line stout script print avoid problem arising buffering script output redirected file fix issue stoud redirected file file would contain first output addr2line call script signed botond bdenes scylladb.com message scylladb.com,,
2551,8f05ce7c13a619bcd0fc88dcc670a736f39cf171,otond Dnes <bdenes@scylladb.com>, 2018-08-10 12:59:36 +0300, , seastar addr2line require space address signed botond bdenes scylladb.com message scylladb.com,,
2552,1592812cbe735c1f4d84147ec6b2e8ab48f6ec6e,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-08-17 15:04:10 -0400, , test ensure test thread always joined instance observed destructor static test_runner instance run program linking testing library terminated rule around destructors static object invoked somewhat complex avoid ambiguity ensure thread always joined move bulk destructor finalize function invoke manually signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2553,4bbab8862e469632d775159bab27f7093dda7f00,uarte Nunes <duarte@scylladb.com>, 2018-08-17 23:00:29 +0100, , readme.md add cute badge signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
2554,858bef57d9c77ba7f479e8ab0aa7960b9507c4c4,lauber Costa <glauber@scylladb.com>, 2018-08-09 16:36:16 -0400, , iotune adjust num queue recommendation ideally would like move queue allow shard dispatch yet still using queue temporary mechanism evolutionary approach calculate amount queue based iop bandwidth limit device queue minimum amount quantity however calculated early process latency target mind one task quota ended moving task quota latency target result situation much fewer queue system would like saw regression comparing scylla 2.2 scylla 2.3 aws device new iotune recommended queue whereas old queue recommended exactly factor mentioned proposed fix adjust requirement factor keep configuring system amount queue also rewriting requirement clear magic number used coming next step prioritize local shard dispatch signed glauber costa glauber scylladb.com message glauber scylladb.com,,
2555,f416e7863872f7b5431a7d9ff62ec4e5fefd8bdb,efu Chai <kchai@redhat.com>, 2018-08-18 16:35:23 +0800, , dns add srv record lookup signed kefu chai kchai redhat.com message tchaikov gmail.com,,
2556,9b2890525c4cdb1b9cbafc8792d011b08fa8d205,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-08-17 15:04:14 -0400, , reactor define switch cmake compiling seastar according standard uncovered linker error form libseastar.a reactor.cc.o function seastar io_queue seastar io_queue config home jhaberku src seastar build src core reactor.cc 1153 undefined reference seastar reactor libseastar.a reactor.cc.o function seastar parse_config boost program_options variables_map home jhaberku src seastar build src core reactor.cc 4052 undefined reference seastar reactor max_queues cause error change treat constant static member class compared static constexpr member literaltype must initialized braced constant expression like struct foo static constexpr int my_constant  however member odr used declaration namespace scope still required despite definition class foo.cc constexpr int foo my_constant phrase odr used precis meaning rough rule thumb member odr used ever treated like variable constant expression example member address taken new inline static member mean separate declaration required line declaration definition deprecated still supported thus fix linker error provide declaration reactor max_queues reactor http cpp language static signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2557,e746297aa140ee9940e0414e806e0586382e5134,efu Chai <kchai@redhat.com>, 2018-08-11 10:13:22 +0800, , reactor alien silence gcc warning error lambda capture used werror wunused lambda capture signed kefu chai kchai redhat.com message tchaikov gmail.com,,
2558,13bfe45dfdf59fc56bdc5b9b18f51479cba05e8d,efu Chai <kchai@redhat.com>, 2018-08-11 10:13:21 +0800, , core json net silence gcc warning warning close override member function marked override winconsistent missing override virtual future close noexcept  signed kefu chai kchai redhat.com message tchaikov gmail.com,,
2559,5c8dfa8f94efde1bb6e0e4fb78e2e17d118532dc,efu Chai <kchai@redhat.com>, 2018-08-11 10:13:20 +0800, , fstream using data_sink_impl put silence gcc warning seastar include seastar core iostream.hh warning virtual seastar future seastar data_sink_impl put std vector seastar tempo rary_buffer char hidden woverloaded virtual virtual future put std vector char data  file included seastar src core reactor.cc seastar include seastar net posix stack.hh 114 warning seastar net put woverloaded virtual future put char buf override  signed kefu chai kchai redhat.com message tchaikov gmail.com,,
2560,69bc9bff70b4a61302fe49cf1d5ff3e1cdbb9a14,uarte Nunes <duarte@scylladb.com>, 2018-08-16 10:08:12 +0100,488, merge ensure seastar compiles mode jesse  series fix incompatibility seastar prevent compiling mode tested gcc 8.1.1 fedora std gnu std gnu test unit release fix 488  jhk fix_14 http github.com hakuch seastar prevent copy initialization use aggregate initialization syscall_result add explicit move ctor wrapper class use constexpr closure function body,,
2561,67248f7a02ab7cce75e8dbaf463e41dd527800ff,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-08-15 09:33:04 -0400, , prevent copy initialization copy elision expression arg1 arg2 optional rather invoking ctor copy ctor move ctor compiler need invoke ctor changed copy elision mandatory mean practice expression like auto my_type arg1 arg2 effectively equivalent my_type arg1 arg2 compatibility need use second form file client class moveable copyable http cpp language copy_elision,,
2562,4395f23c76dc2ff1191d25e57fa3ea9664dd5222,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-08-15 09:21:32 -0400, , use aggregate initialization syscall_result object syscall_result core reactor.cc previously initialized via aggregate initialization since syscall_result user declared ctor aggregate initialization allowed also user declared ctor add additional class member however direct public base syscall_result effect aggregate initialization defined case though aggregate initialization defined case direct public base since array element non static class member order array subscript appearance class definition copy initialized corresponding clause initializer list compatibility define ctors class modify initialization expression use http cpp language,,
2563,1abfaf7f66ceae651277e6fb5391ac5e8526df2a,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-08-15 09:15:21 -0400, , add explicit move ctor wrapper class presence user defined dtor fstream_wrapper inhibits implicit declaration definition move ctor move assignment operator need declare default implementation sufficient,,
2564,2180a6288c6bd3c3049c4f594eb2e5a7460f33ed,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-08-15 09:09:04 -0400, , use constexpr closure function body according constexpr variable must among thing literaltype closure type produced lambda expression literaltype therefore compatibility declare variable const without loss functionality need closure compile time value http cpp language constexpr,,
2565,733edaa411d9aa3679940991f60d710323822a09,uarte Nunes <duarte@scylladb.com>, 2018-08-15 10:51:08 +0100, , revert foreign_ptr allow waiting destruction managed ptr immediate user omit avoid complicating complicated interface reverts commit,,
2566,9bb1611bb2e9e856fc497aaa68f32ac509b8065c,uarte Nunes <duarte@scylladb.com>, 2018-08-14 13:05:13 +0100, , util variant_utils ensure variant_cast behaves well rvalues reference lifetime extension transitive capturing reference rvalue storing could lead use free fix copying variant using std varint making variant_cast pas function boost variant signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
2567,2c7b8b8868cc9cd92ae37d2a61517a4c36177694,uarte Nunes <duarte@scylladb.com>, 2018-08-13 23:55:32 +0100, , util std compat fix infinite recursion sed gone wrong made call make_optional recursively using std experimental version signed duarte nunes duarte scylladb.com,,
2568,fb94becfbce19872252de16c5576abd8160be182,uarte Nunes <duarte@scylladb.com>, 2018-08-13 23:21:25 +0100, , doc tutorial undo namespace change unwanted change sneaked 0bbcbbae due unfiltered sed signed duarte nunes duarte scylladb.com,,
2569,0cacbe7c777a4318654e8eb759f1ea38a4f6e955,uarte Nunes <duarte@scylladb.com>, 2018-08-11 20:23:09 +0200, , util variant_utils add cast_variant boost variant cast contains superset element std variant introduce function  note internal consumer function signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
2570,0bbcbbae22e1da647e1780b20b01cd243e25853c,uarte Nunes <duarte@scylladb.com>, 2018-08-11 20:23:08 +0200, , add compatbility library type patch introduces seastar optional seastar string_view seastar seastar variant alias std experimental optional std experimental string_view std experimental boost variant respectively compiling sestar support compiled support alias std type enables project work experimental external feature due mode requires gcc 7.5 gcc 8.1.1 http gcc.gnu.org bugzilla show_bug.cgi 84769 signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
2571,8ad870fc49b13d2657543ff09dc181634865fd05,lauber Costa <glauber@scylladb.com>, 2018-08-08 13:40:29 -0400, , reactor switch indentation signed glauber costa glauber scylladb.com message glauber scylladb.com,,
2572,d5ad5f84dede3a5a8abdaba4184c191b947d91d0,lauber Costa <glauber@scylladb.com>, 2018-08-08 13:40:28 -0400,482, properly configure scheduler max request passed scaling read writes part new scheduler however capacity explicitly set mean old max request used end miscalculating result scheduler fails uphold share using legacy config differentiate read writes hard code ratio fix 482 signed glauber costa glauber scylladb.com message glauber scylladb.com,,
2573,f5d656575dc4488cc609f8d7f94f3c38136cc005,lauber Costa <glauber@scylladb.com>, 2018-08-08 13:40:26 -0400, , iotune tell user evaluation take improvement suggested tzach take user tend think may stuck signed glauber costa glauber scylladb.com message glauber scylladb.com,,
2574,d39f8fc40f55e836c39398120f2589c2b730d464,leb Natapov <gleb@scylladb.com>, 2018-08-08 14:21:26 +0300, , exception fix compilation static libstdc used defined provide stub message scylladb.com,,
2575,dc66baad4b1bfdac29d40cd282b497b84f8d31d8,akuya ASADA <syuu@scylladb.com>, 2018-08-08 12:46:25 +0900,3660, apps iotune print config file updated make result message clearer output written config file name specified fix scylladb scylla 3660 signed takuya asada syuu scylladb.com message syuu scylladb.com,,
2576,64188c51319179756bc99db4146092c267e61921,otond Dnes <bdenes@scylladb.com>, 2018-05-16 12:18:35 +0300, , foreign_ptr allow waiting destruction managed ptr add future destroy allows waiting managed pointer destroyed owner shard signed botond bdenes scylladb.com message scylladb.com,,
2577,f31201d7dd8c22800c963d3f4431f405c384b97f,vi Kivity <avi@scylladb.com>, 2018-08-07 09:21:10 +0300, , merge improve backtraces read stdin botond  series intends make seastar addr2line pleasant use resolving backtraces file case multiple change done generally improve efficiency seastar addr2line used filtering mode i.e output program .e.g journalctl piped stdin allow user control many non backtrace line printed backtraces allows eliminating noise time allows leaving line context identification purpose print already seen backtraces instead print backtrace found already printed output already seen relax backtrace matching allow arbitrary prefix beginning line especially important filtering journalctl output prepends line date time emitting program etc  seastar addr2line improvement http github.com denesb seastar seastar addr2line relax backtrace matching seastar addr2line print already seen backtraces seastar addr2line allow user control amount context printed seastar addr2line lazy print backtraces seastar addr2line line_processor seastar addr2line optimize case stdin tty seastar addr2line make inherit object,,
2578,6ae11dd035d5ed888d0b79e6eafe62f6e6a7172d,otond Dnes <bdenes@scylladb.com>, 2018-08-02 09:55:40 +0300, , seastar addr2line relax backtrace matching allow arbitrary prefix line containing address last word allows piping journalctl output seastar addr2line journalctl entry date time well stuff prefix line,,
2579,ef8388c4d769c60ce8bea8b257d9169b908d4f49,otond Dnes <bdenes@scylladb.com>, 2018-08-01 17:53:16 +0300, , seastar addr2line print already seen backtraces instead print backtrace backtrace already seen,,
2580,fe48ee2f6aad93dd4c54f65db87fd80c797d2654,otond Dnes <bdenes@scylladb.com>, 2018-08-01 17:32:30 +0300, , seastar addr2line allow user control amount context printed non backtrace line mostly noise value provide option user print print limited number controlled user preceed backtrace identification purpose controlled via new command line argument help identifying backtraces assign backtrace print printing backtrace simply counter start incremented seen backtrace even important future plan print already seen backtraces instead print backreference place already resolved also make sure backtraces separated backtraces empty line,,
2581,53c8f9a8098f76ec65dab07110b7a1dbfe685876,otond Dnes <bdenes@scylladb.com>, 2018-08-01 17:31:03 +0300, , seastar addr2line lazy print backtraces print backtraces address belonging seen line seen belong backtrace preparation printing already seen backtraces,,
2582,bc36344c8ede2ef6decdbab5af3c1b95ba8a6db5,otond Dnes <bdenes@scylladb.com>, 2018-08-01 13:04:26 +0300, , seastar addr2line line_processor two bird one stone make name class question expressive functionality new name camelcase facto standard way name type python,,
2583,d9212a945d4086564cc72d578885f0a21783ca48,otond Dnes <bdenes@scylladb.com>, 2018-08-01 12:46:43 +0300, , seastar addr2line optimize case stdin tty stdin tty e.g pipe need read input char char proper eof input exhausted therefour use sys.stdin directly case need wrapper improves user experience pasting trace manually terminal,,
2584,1680ca7485b673e96de7529913ba658f81aacc7d,otond Dnes <bdenes@scylladb.com>, 2018-08-01 12:36:08 +0300, , seastar addr2line make inherit object script written python2 recommended class inherit object,,
2585,d40faff18dad868547d2170ed7f76e0c558dae18,adav Har'El <nyh@scylladb.com>, 2018-07-30 17:55:45 +0300, , tutorial update build needed newer pandoc unfortunately pandoc available example fedora broke old feature changed formatting detail bit needed modify pandoc option also change html splitting code stylesheet support old new version tested pandoc 1.19 pandoc 2.0.6 moved command convert html pdf grown even longer separate script doc md2html doc md2pdf script also used cmake based build need repeat command signed nadav har nyh scylladb.com message nyh scylladb.com,,
2586,47c569db7f2dd561c442081a0647447f903c7b19,iotr Sarna <sarna@scylladb.com>, 2018-07-30 10:13:07 +0200, , core fix __libc_free return type signature alias free function return void instead void mismatched return type cause compilation error gcc 8.1.1 message scylladb.com,,
2587,a796693509346b8878cd36fb8604e35d22110561,vi Kivity <avi@scylladb.com>, 2018-07-25 19:07:49 +0300, , future utils when_all avoid calling member function uninitialized data member clang complains calling .data uninitialized std array even though perfectly reasonable rearrange code humor message avi scylladb.com,,
2588,8a3b5bcd83e6aa60fd43fcd4065433c55f91242b,vi Kivity <avi@scylladb.com>, 2018-07-23 20:56:51 +0300, , future util reduce continuation when_all variadic version currently when_all attache continuation non ready input future fulfils promise continuation complete reduce waiting one future become ready time previously non ready future become ready need wait patch applies optimization note following detail wait last non ready future first happens last future complete waited one future since one continuation attached given time allocate space one continuation compared previously allocated space continuation future future already ready continue allocate anything type erasure employed reduce code footprint constexpr offsetof available patch would even awesome message avi scylladb.com,,
2589,f3d6a50ee4197f72a1b05a0ef84f8fcfbed61a15,vi Kivity <avi@scylladb.com>, 2018-07-23 13:31:51 +0300, , future utils remove allocation when_all future available speed variadic version when_all allocating anything input future ready test unit release message avi scylladb.com,,
2590,1695250106bc685fdab3b763ffdf08a4434f04d2,vi Kivity <avi@scylladb.com>, 2018-07-15 21:16:03 +0300, , future reduce allocation when_all instead allocating continuation every future wait when_all allocate contiguous sub object when_all_state sub object get two pointer one original future must updated another when_all_state containing object reference count vtable could eliminated cost unique type huge code explosion extra two word worth reduction generated code get one per future type used when_all rather several type per argument list combination when_all test unit release message avi scylladb.com,,
2591,87174c560ccc8c4106de9c3106179d4df716db24,vi Kivity <avi@scylladb.com>, 2018-07-15 21:16:02 +0300, , future fill missing futurize from_tuple function variant futurize from_tuple missing fill  message avi scylladb.com,,
2592,dd86210a3a0845c243be09760977d04ae8e53b88,vi Kivity <avi@scylladb.com>, 2018-07-15 21:16:01 +0300, , future expose type make easy template user find future promise type continuation message avi scylladb.com,,
2593,15ad5bc2f1fa6013dd7bc8df229ed85d9f7adc77,vi Kivity <avi@scylladb.com>, 2018-07-19 15:01:33 +0300, , log predict logger is_enabled false move trace debug level logging way true info level mispredicted logging slow anyway care message avi scylladb.com,,
2594,a2b5b565d4db42985c301738d3e435ff44a72cfe,vi Kivity <avi@scylladb.com>, 2018-07-19 11:26:51 +0300, , readme add resource section infomation mailing list etc message avi scylladb.com,,
2595,6b97e00920e3e7c17baa90cb11d61ea8b4290a39,vi Kivity <avi@scylladb.com>, 2018-07-17 15:38:59 +0300, , merge change fix travis build kefu travis fix http github.com tchaikov seastar build specify dialect configure silence wignored attribute build specify compiler build use clang driver instead clang test compare sign unsigned type,,
2596,60892e8ce47f1201411b487e3bfecbfb0044fde6,alle Wilund <calle@scylladb.com>, 2018-07-17 10:48:29 +0000,474, tls.cc make close timeout delay exception proof fix 474 could end _generating_ exception timed shutdown code also could end unhandled future add try catch sink source exception cause half close exception handler continuation message calle scylladb.com,,
2597,e6fc294d2c68e4250a0cfe964cd3685725cc2b5d,efu Chai <tchaikov@gmail.com>, 2018-07-16 12:32:52 +0800, , build specify dialect configure.py always use testing supported dialect might want use different compiler passing compiler a_better_cxx case default dialect gnu used deprecated gnu extension based best dialect heve specified compiler specifiy dialect travis recipe explicitly know dialect installed compiler support importantly needed copy elision requires compiler copy return value pure rvalue instance seastar test fstream_test.cc see struct fstream_wrapper member variable input_stream doe copy constructor instructs compiler define input_stream copy contructor deleted make_fstream return instance fstream_wrapper return value without copy elision copy constructor fstream_wrapper source file fail compile problem also pop place seastar source tree practically require compile seastar signed kefu chai tchaikov gmail.com,,
2598,d672ec70c049c4f40bed3267252167bc56e8a538,efu Chai <tchaikov@gmail.com>, 2018-07-16 01:55:37 +0800, , configure silence wignored attribute clang doe support attribute complains core memory.cc 1228 error attribute cold ignored applied type werror wignored attribute gnu cold  signed kefu chai tchaikov gmail.com,,
2599,6d49b0a01153857915dffa341e358aecf26448b2,efu Chai <tchaikov@gmail.com>, 2018-07-16 01:09:53 +0800, , build specify compiler test build clang environment signed kefu chai tchaikov gmail.com,,
2600,479958f13729c6543f3f341a117ad52021293496,efu Chai <tchaikov@gmail.com>, 2018-07-16 00:10:03 +0800, , build use clang driver instead clang clang 5.0 doe link standard library default address following error show travis build home travis build scylladb seastar fmt test posix test.cc .text 0x1b0 undefined reference std string _rep instruct travis use clang instead clang signed kefu chai tchaikov gmail.com,,
2601,52ecaa387ae38a412f08801819940ede7dbc8807,efu Chai <tchaikov@gmail.com>, 2018-07-16 00:09:14 +0800, , test compare sign unsigned type signed kefu chai tchaikov gmail.com,,
2602,67bb775e7749158e4efe6edd5bad615998341ace,efu Chai <kchai@redhat.com>, 2018-07-14 21:16:20 +0800, , core sharded mark foreign_ptr get_owner_shard const signed kefu chai kchai redhat.com message tchaikov gmail.com,,
2603,b23b8aca672fd40e860a418caca7b9adf2bd48cf,omasz Grabiec <tgrabiec@scylladb.com>, 2018-07-12 12:42:14 +0200, , core memory expose counter large allocation intended internal use unit test message 1531392134 29867 git send email tgrabiec scylladb.com,,
2604,8188d3b8b7091db9227824791d022d64c98193e9,awe Dziepak <pdziepak@scylladb.com>, 2018-07-09 15:59:01 +0100, , test add test multi fragmented net packet message pdziepak scylladb.com,,
2605,aac6cf131a964f57a132340b475d094aa7153c78,awe Dziepak <pdziepak@scylladb.com>, 2018-07-09 14:21:29 +0100, , reactor pollable_fd limit fragment count iov_max requesting send iov_max fragment result emsgsize error write_some required send data sufficient limit number segment greater iov_max minor performance issue number fragment get limited write_some never speculate file descriptior still accept data however average size fragment expected least several kilobyte mean sendmsg asked send several megabyte assuming iov_max 1024 lack speculation unlikely become problem ref 361 message pdziepak scylladb.com,,
2606,22947498d676ebf51363a1e461ba34b192033620,efu Chai <kchai@redhat.com>, 2018-07-06 14:14:13 +0800, , test silence werror sign compare warning signed kefu chai kchai redhat.com message tchaikov gmail.com,,
2607,baa9d249ac9f150564c07f7abc07a9e1aabbb5e3,efu Chai <kchai@redhat.com>, 2018-07-06 14:14:12 +0800, , reactor include boost next_prior.hpp bug boost v1.6 fixed master would easier woraround seastar without requiring developer install boost master otherwise build might fail file included home jenkins build build workspace ceph pull request src seastar core reactor.hh  home jenkins build build workspace ceph pull request src seastar core alien.hh  home jenkins build build workspace ceph pull request src seastar core alien.cc home jenkins build build workspace ceph pull request build boost include boost lockfree spsc_queue.hpp member function constiterator boost lockfree detail ringbuffer_base push constiterator constiterator boost lockfree detail ringbuffer_base size_t home jenkins build build workspace ceph pull request build boost include boost lockfree spsc_queue.hpp 140 error next member boost const constiterator last boost next begin input_count  file included usr include yaml cpp node iterator.h usr include yaml cpp node impl.h usr include yaml cpp yaml.h  var ceph ceph centos kefu src seastar net config.cc usr include yaml cpp node detail iterator.h member function void yaml detail iterator_base increment usr include yaml cpp node detail iterator.h error next member boost void increment base_reference boost next base signed kefu chai kchai redhat.com message tchaikov gmail.com,,
2608,61c905cf7fe69ddcb1bbd9fe8caa493eb41b8a85,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-07-06 17:22:56 -0400, , use pragma everywhere include guard following disadvantage error prone since name repeated name need unique order prevent including file many time name seastar used previously qualified risk conflict high pragma succint supported modern compiler used many seastar header already eliminates potential error around conflict naming signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2609,0d8a5fe23803ba9bf64cfb0fa2f479ba2fddb13e,os Guilherme Vanz <guilherme.sft@gmail.com>, 2018-07-05 17:53:28 -0300, , .gitignore add __pycache__ directory build git show __pycache__ directory untracked file commit add directory .gitignore file thus developer annoyed git status warning signed jos guilherme vanz guilherme.sft gmail.com message guilherme.sft gmail.com,,
2610,216d499e1520ab9fb255c4e848e5c6a9aeceb1af,ladimir Krivopalov <vladimir@scylladb.com>, 2018-07-03 18:35:50 -0700, , add clone method copying prohibited sometimes come handy create deep copy buffer fis possible complex syntax like buf buf2 buf.get buf.size need several time quickly becomes noisy asks factored clone method cover case fit naturally design signed vladimir krivopalov vladimir scylladb.com message scylladb.com,,
2611,c8c98c256a9199a1849b655602b7c4362706372b,ladimir Krivopalov <vladimir@scylladb.com>, 2018-07-03 18:35:49 -0700, , make move assignment operator noexcept signed vladimir krivopalov vladimir scylladb.com message scylladb.com,,
2612,26bff37d0a989084e93092202272a8d350f8fb0b,ladimir Krivopalov <vladimir@scylladb.com>, 2018-07-03 18:35:48 -0700, , deleter make move assignment operator noexcept signed vladimir krivopalov vladimir scylladb.com message scylladb.com,,
2613,7d073eb0e7bb68fc6e3bfc3913da2cf0e2cb5ca9,vi Kivity <avi@scylladb.com>, 2018-07-01 17:02:22 +0300, , reactor become inefficient exceeded need_preempt becomes true task execution becomes inefficient loop broken least task per loop even .then chain execute inline branch forced allocate queue task since already backlog make hard return normal processing fix clearing flag preemption tick set sufficiently far future fix 302 test unit release message avi scylladb.com,,
2614,b58005ca840ed78d82a2bd8e2df44aff84c1e699,vi Kivity <avi@scylladb.com>, 2018-07-01 17:01:10 +0300, , reactor switch cumulative time metric resolution nanosecond millisecond since cumulative time metric like cpu_steal_time cumulative nanosecond precision helpful typical poll frequency every second change two poll 1ms value interesting switch millisecond resolution improve readability knowing steal time increase 14267876 nanosecond per second hard understand compared millisecond per second message avi scylladb.com,,
2615,0eaf3e601550135315c7526449d2d328bf5b1a00,vi Kivity <avi@scylladb.com>, 2018-07-01 19:07:38 +0300, , preempt annotate branch prediction predict need_preempt usually return false helping compiler push prempted path hot path message avi scylladb.com,,
2616,98073074987b12f2ae30a8dd4cb2e1962a28ff4d,efu Chai <kchai@redhat.com>, 2018-06-30 23:11:55 +0800, , test silence werror sign compare warning signed kefu chai kchai redhat.com message tchaikov gmail.com,,
2617,3e7e47aa2e3394b01363e77393987eb9d88e0f39,vi Kivity <avi@scylladb.com>, 2018-06-28 10:47:21 +0300, , merge support one scheduler per device glauber  system different storage array used support one scheduler per device mountpoint global scheduler today basic idea find device yaml file refers record reactor queue becomes map available queue open time stat file opened route correct queue test unit release  multidev github.com glommer seastar iotune fix identation iotune generate config file one directory io_queue create one queue one mountpoint io_queue store queue pointer io_desc io_queue store queue pointer file object io_queue make queue_request instance method,,
2618,835535b226877cc9648adaab1cddca3ef8b4abb7,lauber Costa <glauber@scylladb.com>, 2018-06-27 13:48:46 -0400, , iotune fix identation previous patch used reviewer friendly identation signed glauber costa glauber scylladb.com,,
2619,bb9f71fbc5ae5162a33e91c550984abd42f2c834,lauber Costa <glauber@scylladb.com>, 2018-06-26 23:04:07 -0400, , iotune generate config file one directory scheduler support one mountpoint change iotune accordingly take one evaluation directory generate data tested directory yaml file number queue chosen able uphold minimum slowest device would work unleash use case long term already planning get rid queue dispatch shard signed glauber costa glauber scylladb.com,,
2620,b2ef578f1b1cf6f194061e8f9f404c9471926fd0,lauber Costa <glauber@scylladb.com>, 2018-06-26 20:27:04 -0400, , io_queue create one queue one mountpoint property file specify list mountpoints one far ignoring erroring one capacity anything infrastructure dispatch one queue able parse multiple mount point property file create queue accordingly signed glauber costa glauber scylladb.com,,
2621,cf0fc168c6cbe38aed10ececd538c22c5dc365e4,lauber Costa <glauber@scylladb.com>, 2018-06-12 15:33:12 -0400, , io_queue store queue pointer io_desc support multiple queue request finishing behalf many different queue need store information queue originated request signed glauber costa glauber scylladb.com,,
2622,e269ecbabb2aea17d0ce8671131d55b251a116c4,lauber Costa <glauber@scylladb.com>, 2018-06-11 17:34:33 -0400, , io_queue store queue pointer file object file object queue store pointer implementation patch copy pointer object creation time gain much allow choose one many option support multiple queue per system signed glauber costa glauber scylladb.com,,
2623,9a7f37ea8521fff695467db21e959f32a7790a87,lauber Costa <glauber@scylladb.com>, 2018-06-12 15:05:49 -0400, , io_queue make queue_request instance method queue_request currently static method queue reason may remote dispatch foreign queue deemed historically safer follow local pointer remote queue already right shard however every reactor naked pointer pointing queue request dispatched therefore safe make instance member matter much matter start multiple queue system capable routing request right one signed glauber costa glauber scylladb.com,,
2624,72a729da6cb7f843334d515af2cfd791328f5275,vi Kivity <avi@scylladb.com>, 2018-06-21 12:43:28 +0300, , rpc make rpc server scheduling aware allow server side handler associated scheduling group server run handler provided scheduling group allowing performance isolation different rpc call message avi scylladb.com,,
2625,0b09378a1cff483fbf2955ddc8de592a7e94bdeb,lexander Gallego <gallego.alexx@gmail.com>, 2018-06-22 18:34:31 -0400, , add needed pas cflags seastar dpdk fork dependency currently gcc8 dpdk checked master branch fails wno stringop overflow wno array bound wno stringop truncation wno format overflow warning already addressed upstream need way control flag case upgrade compiler transitive project upgrade compiler disables werror signed alexander gallego gallego.alexx gmail.com message gallego.alexx gmail.com,,
2626,d7f35d7663077556542c21b3e2fb3eda4ebfb390,vi Kivity <avi@scylladb.com>, 2018-06-24 12:56:17 +0300, , merge allow creating view simple stream pawe  current simple stream interface force data copied stream reader always necessary series introduces low level getters make possible reader create view buffer represented simple stream thus avoiding excessive copy actual implementation view left user  tag simple stream allow view http github.com pdziepak seastar simple stream add getters fragmented stream internals simple stream remove incorrect streamvisitor constraint,,
2627,a9219604219002a0849088388bc2e2f9a39ba0fd,lauber Costa <glauber@scylladb.com>, 2018-06-22 16:36:40 -0400, , iotune allow duration configurable change default result read benchmark vary wildly data reading small fit device cache know reason write way longer read ideally would write long time odds goal providing good user wait long time test complete however recently found default total long enough largest box aws class result distorted may appear faster actually patch move total write time 120 verified experimentally provide result align truth aws i3.metal truth meaning result got minute writes storage i3.metal fast work well work well everywhere still bringing back duration option iotune1 main difference iotune1 duration represented time would give timeout iotune2 represents total time test keep proportion time spent sequential writes test lay file test use remaining test use time signed glauber costa glauber scylladb.com message glauber scylladb.com,,
2628,7aca670e7716ccd5cf905215e100e96895fab6fc,vi Kivity <avi@scylladb.com>, 2018-06-19 16:13:36 +0300, , merge log stack trace exception gleb  series add exception throwing logging exception related cleanup  gleb github.com cloudius system seastar dev fix function signature move exception related code reactor.cc log stack trace exception throwing,,
2629,becf586ea0cb4fada99ada9a3a1708c39994f7c1,omasz Grabiec <tgrabiec@scylladb.com>, 2018-06-18 14:50:49 +0200, , shared_ptr introduce lw_shared_ptr dispose convenience message 1529326249 31071 git send email tgrabiec scylladb.com,,
2630,969dfc058515a4ef005d53701c4e4a8edfe83675,leb Natapov <gleb@scylladb.com>, 2018-06-17 15:38:37 +0300, , fix function signature signature doe match one unwind.h including along seastar header fail compilation,,
2631,629f3e27ab5a5524941d85cb1dcde7b25dcaa4d3,leb Natapov <gleb@scylladb.com>, 2018-06-17 13:44:52 +0300, , move exception related code reactor.cc let keep exception related code together,,
2632,56d52e29ca6aa7e89f62e91274ed7f0e58f41701,leb Natapov <gleb@scylladb.com>, 2018-06-17 13:21:31 +0300, , log stack trace exception throwing exception caught information thrown already lost sometimes hard know code exactly threw patch add ability print stack trace exception throwing may help debugging logging done new exception logger trace level enabled disabled dynamically,,
2633,3c60b8251facea537421b25676f215caa90db999,vi Kivity <avi@scylladb.com>, 2018-06-15 21:13:16 +0300, , reactor inherit smp submit_to since process global instead shard local forward current group remote shard smp submit_to call apply group simplifies scheduling cross shard operation message avi scylladb.com,,
2634,cbc0b5f9bb585abcbc3c46854ce3ade43d7560fd,vi Kivity <avi@scylladb.com>, 2018-06-15 21:10:34 +0300, , execution_stage fix reference argument execution_stage treat reference argument specially requiring user wrap seastar ref avoid accidental reference stack parameter tempalte however incorrectly forwarded reference underlying resulting compilation failure lovely compiler error message fix forwarding using ordinary perfect forwarding point error occured already unwrapped internal converted user required type need anything ordinary also add test penance message avi scylladb.com,,
2635,7e5ff472fa491ad804232465d83f0dd75e73959d,omasz Grabiec <tgrabiec@scylladb.com>, 2018-06-18 10:31:36 +0200, , test shared_ptr add typename keyword fix compilation plea older gcc version complain test function void do_test_release test 192 error need typename seastar lw_shared_ptr disposer seastar lw_shared_ptr dependent scope lw_shared_ptr disposer del  message 1529310696 11181 git send email tgrabiec scylladb.com,,
2636,2409f50f6046c54a93cea145f12e11f9db5ece7d,leb Natapov <gleb@scylladb.com>, 2018-06-17 16:40:21 +0300, , configure fix static stdc flag current code replaces part lstdc break linkage message scylladb.com,,
2637,30ba8ed8fdaa1994400130d27843a733b92f19e0,ladimir Krivopalov <vladimir.krivopalov@gmail.com>, 2018-06-17 16:59:24 -0700, , scheduling move friend definition outside class scope friend function definition inside class allowed namespace specifier attached moving friend function body internal namespace fix enables seastar compilation clang signed vladimir krivopalov gmail.com message gmail.com,,
2638,6422ecea50a6ad1b9d6316dc80136185338ff7e2,iotr Jastrzebski <piotr@scylladb.com>, 2018-06-15 19:09:06 +0200, , build enable concept whenever supported compiler signed piotr jastrzebski piotr scylladb.com message scylladb.com,,
2639,029123b2f1fb35e977d9245e72a9aed20c2951ed,omasz Grabiec <tgrabiec@scylladb.com>, 2018-06-15 11:19:55 +0200, , shared_ptr enable releasing ownership object stored lw_shared_ptr useful case object shared shared ownership gone need queued processing non shared ownership intrusive container without extra allocation example class snapshot_ptr lw_shared_ptr snapshot _ptr public snapshot_ptr auto ptr _ptr.release ptr unique_ptr snapshot ... ptr ptr.release    boost intrusive slist snapshot ... message 1529054395 2713 git send email tgrabiec scylladb.com,,
2640,ab0a94977d2b558d2746b03206ffae04a3718779,lauber Costa <glauber@scylladb.com>, 2018-06-14 13:06:13 -0400, , reactor change way calculating task quota violation version future proof since soon get rid thread timer precise since need account entire task quota violate couple microsecond able tell violation coming signed glauber costa glauber scylladb.com message glauber scylladb.com,,
2641,6a1e549fcbcfa3e89a4d80391da180f193e51f5e,vi Kivity <avi@scylladb.com>, 2018-06-14 16:23:41 +0300, , merge add metric steal time task quota violation glauber  usually hard production system diagnose latency issue occur task quota violation process interrupt stealing cpu patchset add two metric steal time time runnable executing busy idle execute task quota violation total time accumulated reactor block although one block detector usually set high number production system log timestamps making correlation difficult also catch death thousand cut kind block metric exported via prometheus correlate spike well figure fault someone else series combination previous patch mine particular steal time patch exporting single steal time metric since previous attempt compose metric side two metric proved confusing violation patch providing duration interface instead simple occurences count previously metric exported accordance metric already cpu utilization test unit release  visibility github.com glommer seastar reactor count task quota violation reactor allow user compute steal time add clock interface,,
2642,1b031d717eef716d4ff0f33028d0d95c1660692a,lauber Costa <glauber@scylladb.com>, 2017-10-18 00:01:13 -0400, , reactor count task quota violation count report total amount time task quota violated exported user better understand performance issue system signed glauber costa glauber scylladb.com,,
2643,f8bb1df26665e93ef0ac8d22c04100c8fb60f176,lauber Costa <glauber@scylladb.com>, 2018-05-13 06:36:17 -0400, , reactor allow user compute steal time many situation external process steal cpu time seastar application situation cause lot havoc since specially overprovisioned mode seastar application expect cpu hard see metric would easy see happening efficient way using clock_gettime give measurement much time actually spent running thread compare much time thought ran delta steal time similar concept steal time hypervisors like kvm xen note use current cpu_busy_ns time since discount idle time idle time point view seastar time reactor thread actually ran need metric discount time actually slept signed glauber costa glauber scylladb.com,,
2644,d8610f0deef4c4ead8202b5df342587a7310e0af,lauber Costa <glauber@scylladb.com>, 2018-05-13 06:28:52 -0400, , add clock interface clock_gettime called give idea much time current thread consumed using useful gain visibility happening system make integration rest code better wrap interface similar std chrono clock signed glauber costa glauber scylladb.com,,
2645,bb624915762f1af06a1fcd87155568a379faf5b5,awe Dziepak <pdziepak@scylladb.com>, 2018-05-25 12:25:19 +0100, , simple stream add getters fragmented stream internals current stream interface requires read data copied may undesirable case exposing internals fragmented stream possible implement view fragmented buffer interpret without unnecessary copying,,
2646,94aa2aff14b2882a54716e3d2660022817e02e31,awe Dziepak <pdziepak@scylladb.com>, 2018-05-25 12:21:32 +0100, , simple stream remove incorrect streamvisitor constraint with_stream variant expecting streamvisitor accept stream argument wrong since visiting stream stream may result visitor function object given object completely different type e.g visitor receives either simple fragmented,,
2647,ded9502c13f408abbdd96bd77758d5f68f8486b0,otond Dnes <bdenes@scylladb.com>, 2018-06-12 11:49:25 +0300, , bitops.hh log2ceil add special case current implementation lead invalid input passed builtin clz avoid add special case return precomputed value signed botond bdenes scylladb.com message scylladb.com,,
2648,2fb88095605e4b0a252d5d8054bd1d4c580fc5f1,otond Dnes <bdenes@scylladb.com>, 2018-06-12 11:51:27 +0300, , circular_buffer add clear convenience adhering stl container convention signed botond bdenes scylladb.com message scylladb.com,,
2649,9c32e23e722da580e31462e11c48eba3f6a97a7f,efu Chai <kchai@redhat.com>, 2018-06-07 13:50:10 +0800, , build add core execution_stage core_files signed kefu chai kchai redhat.com message tchaikov gmail.com,,
2650,e7275e445e7281930ef6dd466f4a8a72f1f13dac,vi Kivity <avi@scylladb.com>, 2018-05-31 19:15:21 +0300, , test capture value creates local variable destroyed thread exit cause reference destroyed variable trigger asan error debug build optimized away release build passed test message avi scylladb.com,,
2651,c727abed97e67ee647443f7e21fb030230b79af1,vi Kivity <avi@scylladb.com>, 2018-05-31 18:38:09 +0300, , merge add path parameter suport code generation amnon  series add path parameter support code generation series possible add parameter middle path end  amnon github.com cloudius system seastar dev test httpd.cc add json_path test json code generation support path parameter json json_path support path parameter,,
2652,f8bc040ce7a34aa095189b6c3d67ab5496407ee8,awe Dziepak <pdziepak@scylladb.com>, 2018-05-31 10:46:41 +0100, , merge add inheritance execution_stage avi  currently funnel deferred function single queue run single either explicitly defined default break caller carefully place separate group yet want call single execution_stage run function accomodate caller add class sort call according captured time call executed later group test unit release  tag v1.1 http github.com avikivity seastar test add test execution_stage introduce thread run correct scheduling group even first yield execution_stage make move constructor copy scheduling group execution_stage fix destruction moved object execution_stage move function new file execution_stage add missing includes scheduling add internal conversion index reactor move scheduling.hh,,
2653,23638701abdc02cdfbc76d2bdc71fb542be0e121,adav Har'El <nyh@scylladb.com>, 2018-05-23 19:06:18 +0300, , tutorial explain find origin exception explain used understand exception thrown signed nadav har nyh scylladb.com message nyh scylladb.com,,
2654,bbe329cf61df4ca5bf6bb094bad06ccc30837f6d,vi Kivity <avi@scylladb.com>, 2018-05-29 17:49:16 +0300, , test add test test call different scheduling group preserved actually invoked,,
2655,7dce435e1d212621704051f0f435087577130b46,vi Kivity <avi@scylladb.com>, 2018-05-29 17:47:15 +0300, , execution_stage introduce standard run deferred function using given default break caller want execute single function using different group accomodate caller introduce variant called capture current scheduling group run deferred function group,,
2656,b7483d7780acf8be281ede874bb1f99f9765383a,vi Kivity <avi@scylladb.com>, 2018-05-29 17:39:50 +0300, , thread run correct scheduling group even first yield thread function called thread object constructor might running configured scheduling group check yield case schedule back right group,,
2657,e4efeb081c1b9bde720220f0d24b907d6951258e,vi Kivity <avi@scylladb.com>, 2018-05-29 17:38:31 +0300, , execution_stage make move constructor copy scheduling group move constructor forgot move scheduling group ran function moved stage would run main group rather configured group,,
2658,1836a04790141d610032e9ae8f2f65ff9e9cbf37,vi Kivity <avi@scylladb.com>, 2018-05-29 17:36:24 +0300, , execution_stage fix destruction moved object execution_stage empty moved another object unregistration process find list still attempt erase fix detecting condition returning early,,
2659,91d4d706223fb794692bf5287a110170a770cd8c,vi Kivity <avi@scylladb.com>, 2018-05-27 16:28:02 +0300, , execution_stage move function new file make complicated soon,,
2660,2321ea2a70288c74ea255809f7c511c86125ea3f,vi Kivity <avi@scylladb.com>, 2018-05-27 16:25:39 +0300, , execution_stage add missing includes,,
2661,998bad64c3b40b899aba6b16817a532afdecb8b3,vi Kivity <avi@scylladb.com>, 2018-04-29 14:05:43 +0300, , scheduling add internal conversion index useful add awareness execution_stage perhaps primitive later,,
2662,6c04862a78dd5c6212e7ac2f00aa3f548e6cf6ee,alle Wilund <calle@scylladb.com>, 2018-05-28 14:53:51 +0000,453, ensure handshake always drain output return throw fix 453 ec5ca3a make put push mechanism operate opportunisticly input output waited explicitly continuing however output considered proven otherwise however even error detected later state machine still pending output consider benign cause exception lead dreaded exceptional future ignored session delete handled normal knock wood handshake mechanism might actually miss broken write broken later read error code gnutls fix ensuring always wait output regardless current direction always wait output future output even error code message calle scylladb.com,,
2663,05cbf7d0b3fb6975f5fe23247cc76b9cfe1ae29b,mnon Heiman <amnon@scylladb.com>, 2018-05-10 12:16:22 +0300, , test httpd.cc add json_path test patch add test json_path test optional path type regular path parameter fixed string parameter match end path signed amnon heiman amnon scylladb.com,,
2664,1dd647efe89d64a2a32bd5e5f524486769a53ed2,mnon Heiman <amnon@scylladb.com>, 2018-05-14 21:21:42 +0300,437, json code generation support path parameter patch add path parameter support swagger code generator json2code modified use enum creating path fix 437 signed amnon heiman amnon scylladb.com,,
2665,0f441c2f515287282b2e436e3eab4773ac1bf2f5,mnon Heiman <amnon@scylladb.com>, 2018-05-14 21:21:25 +0300, , json json_path support path parameter path parameter parameter found anywhere path example mypath param1 morepath http server support matching rule created combination parameter fix url string patch change json_path support path parameter json_path class describe path used code generator instead bool mark type path param use enum instead tuple struct path_part describe one part define path either parameter static string add_alias method route changed support different alternative example json_path compose part path part mypath two path_part parameter named param1 fixed string morepath,,
2666,ba21638fdeb5b6034a330e28bd113e679cc81262,vi Kivity <avi@scylladb.com>, 2018-04-29 12:52:08 +0300, , reactor move scheduling.hh way used easily execution_stage,,
2667,5a68e566afda7790ff1f86452c0e70153a60ced0,vi Kivity <avi@scylladb.com>, 2018-05-26 20:57:12 +0300, , build cmake correct stdc library name stdc std,,
2668,a8f5b851d9f8e21ce4f6adf527aa8678aef1c50c,mos Kong <amos@scylladb.com>, 2018-05-18 08:06:50 +0000, , perftune.py make sure config file existing write currently config file set mask invalid script exit irq set expected patch added sanity check writing config file signed amos kong amos scylladb.com message scylladb.com,,
2669,772ba66db51d8ef7612ef417c3f5aa3087165608,vi Kivity <avi@scylladb.com>, 2018-05-24 15:01:47 +0300, , update travis integration prune unsupported configuration bump boost version,,
2670,cb7bf894bf24f347ec8c96fb4c8f786de7395ca6,vi Kivity <avi@scylladb.com>, 2018-05-24 14:41:07 +0300, , build fix compilation issue cmake missing stdc signed alexander gallego gallego.alexx gmail.com message gallego.alexx gmail.com,,
2671,12cffef18b334037600bc35bf5fa0d0d25da3492,awe Dziepak <pdziepak@scylladb.com>, 2018-05-24 10:15:24 +0100, , variant_utils pas variant rref boost apply_visitor boost apply_visitor discovered forwarding reference 1.66. older version require variant passed lvalue reference cause trouble seastar visit perfectly forward rvalue inconvenience solved dropping perfect forawarding allowing reference collapsing happen boost apply_visitor always get lvalue reference message pdziepak scylladb.com,,
2672,df6614168e2f67151e22685c98ee2a586d685d20,vi Kivity <avi@scylladb.com>, 2018-05-24 12:17:05 +0300, , revert build fix compilation issue cmake missing stdc reverts commit wrong syntax missing work,,
2673,fcfefcd5d69536e1ba8698deb25b9168cc02abcf,vi Kivity <avi@scylladb.com>, 2018-05-23 16:35:17 +0300, , reactor prevent expected overflow triggering ubsan warning vruntime computation cause overflow long stall happen test host overcommitted code already expects ubsan doe mark function see unneeded warning message avi scylladb.com,,
2674,2cffc6aadcf65508602a268d8ab88011bb52740a,lexander Gallego <gallego.alexx@gmail.com>, 2018-05-18 08:23:29 -0400, , cmake add cmake option disable testing altogether signed alexander gallego gallego.alexx gmail.com message gallego.alexx gmail.com,,
2675,634d8ced0126e5e8b5e9929cad05c843deaceafe,lexander Gallego <gallego.alexx@gmail.com>, 2018-05-23 08:35:54 -0400, , build fix compilation issue cmake missing stdc signed alexander gallego gallego.alexx gmail.com message gallego.alexx gmail.com,,
2676,a48fe69724492ffec64625a081f6dea54a50e470,vi Kivity <avi@scylladb.com>, 2018-05-22 14:54:41 +0300, , backtrace drop libwind favor libc backtrace libunwind available everywhere contrast glibc backtrace contrary documentation doe work even frame pointer disabled test unit release message avi scylladb.com,,
2677,5da5d4eecb97093eba4d15f7eb183d085bb7c260,alle Wilund <calle@scylladb.com>, 2018-05-21 13:08:54 +0000, , ensure continuation non stale object file read written whatever deleted without proper close could run dispatch continuation stale object make type explicitly survive object across dispatch call message calle scylladb.com,,
2678,29fccdc279cb1757bb7aa08971c377e865718934,awe Dziepak <pdziepak@scylladb.com>, 2018-05-20 14:48:14 +0100, , utils make make_visitor public currently seastar visit limited variant compatible boost apply_visitor internally however helper function make_visitor much flexible creates visitor object provided function object make viable helper situation kind variant need visited message pdziepak scylladb.com,,
2679,b9f176782e6a8cfd477068fe9444510889d729f4,sias He <asias@scylladb.com>, 2018-05-18 10:54:09 +0800, , tcp adjust receive window receive window size adjusted according max receiver buffer fix following abort without reducing receive window sender back pressure application doe read data _rcv.data grows unbounded application read packet _rcv.data merged single packet ton fragment cause assert seastar net tcp seastar net ipv4_traits tcb read auto _rcv.data p.append std move  server home asia src cloudius system scylla seastar net packet.hh 144 static void seastar net packet impl operator new size_t size_t assertion nr_frags uint16_t nr_frags failed aborting shard backtrace    lib64 libpthread.so.0 lib64 libc.so.6 lib64 libc.so.6 lib64 libc.so.6 lib64 libc.so.6               lib64 libc.so.6  addr2line cfpi server    lib64 libpthread.so.0 lib64 libc.so.6 lib64 libc.so.6 lib64 libc.so.6 lib64 libc.so.6               lib64 libc.so.6 seastar home asia src cloudius system scylla seastar core reactor.cc 378 inlined home asia src cloudius system scylla seastar core reactor.cc 399 seastar char const home asia src cloudius system scylla seastar core reactor.cc 406 sigabrt_action home asia src cloudius system scylla seastar core reactor.cc 3914 inlined operator home asia src cloudius system scylla seastar core reactor.cc 3896 inlined _fun home asia src cloudius system scylla seastar core reactor.cc 3892      seastar net packet impl operator new unsigned long unsigned long home asia src cloudius system scylla seastar net packet.hh 144 inlined seastar net packet impl allocate unsigned long home asia src cloudius system scylla seastar net packet.hh 117 inlined seastar net packet impl copy seastar net packet impl unsigned long home asia src cloudius system scylla seastar net packet.hh 121 inlined seastar net packet impl std unique_ptr seastar net packet impl std default_delete seastar net packet impl unsigned long home asia src cloudius system scylla seastar net packet.hh 141 seastar net packet append seastar net packet home asia src cloudius system scylla seastar net packet.hh 490 seastar net tcp seastar net ipv4_traits tcb read home asia src cloudius system scylla seastar net tcp.hh 1760 inlined seastar net tcp seastar net ipv4_traits connection read home asia src cloudius system scylla seastar net tcp.hh 682 inlined seastar net seastar net tcp seastar net ipv4_traits get lambda operator const home asia src cloudius system scylla seastar net native stack impl.hh 145 inlined seastar apply_helper seastar net seastar net tcp seastar net ipv4_traits get lambda std tuple std unsigned long apply lambda std tuple home asia src cloudius system scylla seastar core apply.hh inlined auto seastar apply seastar net seastar net tcp seastar net ipv4_traits get lambda seastar net seastar net tcp seastar net ipv4_traits get lambda std tuple home asia src cloudius system scylla seastar core apply.hh inlined seastar future seastar char seastar futurize seastar future seastar char apply seastar net seastar net tcp seastar net ipv4_traits get lambda seastar net seastar net tcp seastar net ipv4_traits get lambda std tuple home asia src cloudius system scylla seastar core future.hh 1377 seastar future seastar char seastar future seastar net seastar net tcp seastar net ipv4_traits get lambda seastar future seastar char seastar net seastar net tcp seastar net ipv4_traits get lambda home asia src cloudius system scylla seastar core future.hh 943 seastar net seastar net tcp seastar net ipv4_traits get home asia src cloudius system scylla seastar net native stack impl.hh 149 seastar data_source get home asia src cloudius system scylla seastar core iostream.hh inlined seastar input_stream char unsigned long seastar char unsigned long home asia src cloudius system scylla seastar core iostream impl.hh 164 seastar input_stream char read_exactly unsigned long home asia src cloudius system scylla seastar core iostream impl.hh 191 tcp_echo_server connection process home asia src cloudius system scylla seastar server.cc inlined tcp_echo_server start lambda operator const lambda seastar lambda socket_address operator seastar seastar lambda operator const home asia src cloudius system scylla seastar server.cc 113 seastar internal do_until_state tcp_echo_server start lambda operator const lambda seastar seastar socket_address operator lambda seastar lambda tcp_echo_server start lambda operator const seastar socket_address operator lambda seastar lambda run_and_dispose home asia src cloudius system scylla seastar core future util.hh 463 seastar reactor run_tasks seastar reactor task_queue home asia src cloudius system scylla seastar core reactor.cc 2597 seastar reactor run_some_tasks home asia src cloudius system scylla seastar core reactor.cc 3009 seastar reactor run_some_tasks usr include chrono 377 inlined seastar reactor run home asia src cloudius system scylla seastar core reactor.cc 3156 seastar app_template run_deprecated int char std function void home asia src cloudius system scylla seastar core app template.cc 185 main home asia src cloudius system scylla seastar server.cc 179 discriminator message scylladb.com,,
2680,6c61cd594bf883046a4c2356812db9855fae3e59,sias He <asias@scylladb.com>, 2018-05-18 10:54:08 +0800, , tcp fix allowed sending size calculation can_send hanlde case send window zero send window decrease message scylladb.com,,
2681,f20417e591e6b67e65b738c6a7fa528610068da1,sias He <asias@scylladb.com>, 2018-05-18 10:54:07 +0800, , tcp fix assert tcp tcb output_one _snd.window allowed send tcp segment byte data zero window probe however legal send empty segment even _snd.window seastar tcp client connects tcp server  void do_syn_sent _state syn_sent clock_type print do_syn_sent _snd.window _snd.window send syn remote output  saw do_syn_sent _snd.window callchain do_syn_sent _snd.window output get_packet output_one get assert client net tcp.hh 1691 void seastar net tcp inettraits tcb output_one bool inettraits seastar net ipv4_traits assertion _snd.window _snd.window len failed addr2line cfpi client    lib64 libpthread.so.0 lib64 libc.so.6 lib64 libc.so.6 lib64 libc.so.6 lib64 libc.so.6              lib64 libc.so.6 seastar home asia src cloudius system scylla seastar core reactor.cc 378 inlined home asia src cloudius system scylla seastar core reactor.cc 399 seastar char const home asia src cloudius system scylla seastar core reactor.cc 406 sigabrt_action home asia src cloudius system scylla seastar core reactor.cc 3914 inlined operator home asia src cloudius system scylla seastar core reactor.cc 3896 inlined _fun home asia src cloudius system scylla seastar core reactor.cc 3892      seastar net tcp seastar net ipv4_traits tcb output_one bool home asia src cloudius system scylla seastar net tcp.hh 1691 discriminator seastar net tcp seastar net ipv4_traits tcb get_packet home asia src cloudius system scylla seastar net tcp.hh 2046 inlined seastar net tcp seastar net ipv4_traits tcp seastar net ipv4_l4 seastar net ip_protocol_num lambda operator home asia src cloudius system scylla seastar net tcp.hh 770 std std experimental fundamentals_v1 optional seastar net ipv4_traits l4packet seastar net tcp seastar net ipv4_traits tcp seastar net ipv4_l4 seastar net ip_protocol_num lambda _m_invoke std _any_data const usr include bit std_function.h 302 std function std experimental fundamentals_v1 optional seastar net ipv4_traits l4packet operator const usr include bit std_function.h 706 inlined seastar net ipv4_l4 seastar net ip_protocol_num std function std experimental fundamentals_v1 optional seastar net ipv4_traits l4packet lambda operator const home asia src cloudius system scylla seastar net ip.hh 424 inlined std std experimental fundamentals_v1 optional seastar net ipv4_traits l4packet seastar net ipv4_l4 seastar net ip_protocol_num std function std experimental fundamentals_v1 optional seastar net ipv4_traits l4packet lambda _m_invoke std _any_data const usr include bit std_function.h 302 std function std experimental fundamentals_v1 optional seastar net ipv4_traits l4packet operator const usr include bit std_function.h 706 inlined seastar net ipv4 get_packet home asia src cloudius system scylla seastar net ip.cc 302 operator home asia src cloudius system scylla seastar net ip.cc inlined _m_invoke usr include bit std_function.h 302 std function std experimental fundamentals_v1 optional seastar net l3_protocol l3packet operator const usr include bit std_function.h 706 inlined operator home asia src cloudius system scylla seastar net net.cc 246 inlined _m_invoke usr include bit std_function.h 302 std function std experimental fundamentals_v1 optional seastar net packet operator const usr include bit std_function.h 706 inlined seastar net poll_tx home asia src cloudius system scylla seastar net net.cc inlined operator home asia src cloudius system scylla seastar net net.cc inlined poll home asia src cloudius system scylla seastar core reactor.hh 1147 seastar reactor poll_once home asia src cloudius system scylla seastar core reactor.cc 3254 inlined operator home asia src cloudius system scylla seastar core reactor.cc 3150 inlined _m_invoke usr include bit std_function.h 302 std function bool operator const usr include bit std_function.h 706 inlined seastar reactor run home asia src cloudius system scylla seastar core reactor.cc 3175 seastar app_template run_deprecated int char std function void home asia src cloudius system scylla seastar core app template.cc 185 seastar app_template run int char std function seastar future int home asia src cloudius system scylla seastar core app template.cc 113 main home asia src cloudius system scylla seastar client.cc 167 message scylladb.com,,
2682,02722823c06f23d73feadac6956cf4fe0fe267fa,lauber Costa <glauber@scylladb.com>, 2018-05-09 17:59:21 -0400, , descriptive failed syscalls filesystem operation currently return system_error error code syscall wrong helpful situation many others would like use exception descriptive error message particularly true case filesystem operation knowing path fails long way debugging issue test unit release signed glauber costa glauber scylladb.com message glauber scylladb.com,,
2683,a6cb00531be0fe1384ab593b0883eebae688565a,vi Kivity <avi@scylladb.com>, 2018-05-17 11:05:41 +0300, , merge misc fix iotune glauber  series fix two issue found field avi  iotune sys.v2 github.com glommer seastar iotune resilient sys file different format iotune respect check flag iotune fix typo property name,,
2684,e052440f006e58e1bc9a111645d0dc582b576a93,lauber Costa <glauber@scylladb.com>, 2018-05-16 16:05:18 -0400,449, iotune resilient sys file different format expect scheduler file sysfs look like block device foo bar quux blah reality one scheduler present use resilient checking result find operation one character found use entire string one available scheduler still none noop treat way silent fix 449 signed glauber costa glauber scylladb.com,,
2685,44c09a65dc0a32d5165e9ab2677b4fb022865d4a,lauber Costa <glauber@scylladb.com>, 2018-05-16 15:38:26 -0400,448, iotune respect check flag iotune currently respecting check flag continues test regardless patch fix also adding message fact test passed basic sanity check fix 448 signed glauber costa glauber scylladb.com,,
2686,0a1a3276767e2a1a5dc50389c21562e4bcbc1a22,omasz Grabiec <tgrabiec@scylladb.com>, 2018-05-15 17:35:20 +0200, , merge fix perftune.py issue cpu mask big machine vlad series fix issue introduced script perftune.py allow cpu mask doe include irq cpu take care bad parameter configuration may lead zero mask rps configuration http github.com vladzcloudius seastar.git script perftune.py fix zero irq mask check big machine script perftune.py add helper function script perftune.py avoid zero compute cpu mask,,
2687,3870200fa96de9b6195ed944ab0428bf836b7ef3,lad Zolotarov <vladz@scylladb.com>, 2018-03-26 12:40:47 -0400, , script perftune.py avoid zero compute cpu mask allow zero compute cpu mask use mask rps configuration instance following invocation illegal perftune.py tune net nic eth0 cpu mask 0x1 mode signed vlad zolotarov vladz scylladb.com,,
2688,9b8a819432137ead17f733fabff2ac2eb071f8e8,lad Zolotarov <vladz@scylladb.com>, 2018-03-26 10:48:19 -0400, , script perftune.py add helper function return true given compound coma separated list bit hex value mask zero mask signed vlad zolotarov vladz scylladb.com,,
2689,fcf4b6c3ecfd59907f00b4635c0a3e36b4b86b3f,lad Zolotarov <vladz@scylladb.com>, 2018-03-23 14:14:42 -0400,3339, script perftune.py fix zero irq mask check big machine check introduced script perftune.py allow cpu mask doe include irq cpu broken big machine patch fix fix scylladb scylla 3339 signed vlad zolotarov vladz scylladb.com,,
2690,57f6a31384738320d1469a7aec851fbfc1643f2d,omasz Grabiec <tgrabiec@scylladb.com>, 2018-05-15 16:02:08 +0200, , merge handle intel nics special way vlad intel nics limitation maximum number queue however nics also ability bind queue handle specifically defined type traffic therefore non queue still useful driver initialize perftune.py however care non capable queue moment choose default configuration mode distribute irqs based number capable queue http github.com vladzcloudius seastar.git script perftune.py consider known limitation certain nics script perftune.py distribute irqs handling separately,,
2691,90dd61a364666164892c6660fa264f26f26b1a15,lauber Costa <glauber@scylladb.com>, 2018-05-13 06:27:18 -0400, , reactor fix calculation idle tick sleep add tick block detector artificially since missed wrong adding tick start end reality real delta end start found code review clear effect let fix consistency signed glauber costa glauber scylladb.com message glauber scylladb.com,,
2692,133697c76bc67fb8896c1a89eda9c270af022196,vi Kivity <avi@scylladb.com>, 2018-05-03 11:25:59 +0300, , log streamline logging internals little instead generating new type logged type abstract stringified generate new lambda function reduces run time indirection linker noise since longer rtti vtable type message avi scylladb.com,,
2693,925d38c3b8460f525804554c94b5d4f93bca681b,vi Kivity <avi@scylladb.com>, 2018-05-09 16:33:56 +0300, , merge cmake imrovements compatibility jesse  series make improvement experimental cmake build system also add cmake option configure.py test.py delegate cmake building testing build optional cmake forwarding build test  jhk cmake_compat http github.com hakuch seastar build optional cmake forwarding build test cmake add dependency stdc iotune build rename test target consistency cmake add cmake add cmake add cmake add httpd_test cmake correct typo test target name cmake add cmake add dependency memcached test cmake move memcached test stuff dir cmake always configure target,,
2694,3a834746fd91069f8f1ac264a0efc22ea15a3c01,lauber Costa <glauber@scylladb.com>, 2018-05-08 01:18:39 -0400, , iotune fix typo property name typo property name cause file generated iotune read correctly signed glauber costa glauber scylladb.com message glauber scylladb.com,,
2695,9207d185f19597562637c403491f1b4b95cf8b0c,efu Chai <kchai@redhat.com>, 2018-05-08 22:36:21 +0800, , cmake find_package boost ... boost target otherwise findboost.cmake example try read version number version.hpp ready yet boost target built yet signed kefu chai kchai redhat.com message tchaikov gmail.com,,
2696,681331221f2174d20312e1b56d6543a410214c06,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-04-30 17:39:21 -0400, , build optional cmake forwarding build test patch add cmake option configure.py test.py option translates option script appropriate option cmake ctest respectively invokes tool configuring build running test option make even easier evaluate test cmake build switch entirely one important difference using script cmake option cmake option doe produce build.ninja file source directory mean instead invoking ninja directly directory configure.py necessary invoke ninja like following ninja build release  build release ninja script log cmake invocation debugging informational validation purpose detail configure.py  since cmake source directory building script creates directory build release release mode build debug debug mode mode provided directory created build configured important remove existing build directory running configure.py cmake cmake option without apps without test included application test built default build tool run application test built default still build application building new apps target build test new test target test.py  running test.py cmake option fail test enabled configure step see default mode specified test mode run one interesting feature ctest yet exposed test.py running test concurrently option try invoking ctest manually instead test.py,,
2697,09c6d898035f386553e9b6f039c2b68500f3ca08,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-05-08 12:28:16 -0400, , cmake add dependency stdc iotune,,
2698,45be6272ea012be6c8df7908cc061be87951d60a,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-05-08 09:08:25 -0400, , build rename test target consistency consistency meaning respect test _test suffix also respect cmake defined test target change also mean test.py invoked cmake built seastar build directory without error missing file,,
2699,9c525aad4d63b6669c64616f1279092bf0a12a04,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-05-08 09:45:06 -0400, , cmake add,,
2700,37d4e8515b37773b7de9f626a6c4af0fc67d7371,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-05-08 09:32:30 -0400, , cmake add,,
2701,9f1b09d33a6c68c953d1e8da8299b97ae44a512b,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-05-08 09:23:49 -0400, , cmake add,,
2702,76ec8a1aac22fc3b3993954e442c6eba118a2dee,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-05-08 09:12:07 -0400, , cmake add httpd_test,,
2703,aa3de85d91fcfeb11a1d9a911182d81916c8f8de,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-05-04 16:54:34 -0400, , cmake correct typo test target name,,
2704,9c7bff50da1cb2373237d575f8775a3fa09fb4a3,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-05-04 16:58:22 -0400, , cmake add,,
2705,ab40b0b688ab6ac75c32c081622acccbb0506a10,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-05-04 16:53:01 -0400, , cmake add dependency memcached test,,
2706,53f152beb3d46a10ba71c2afb015cc1b441b1d73,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-05-04 16:48:56 -0400, , cmake move memcached test stuff dir consistent subdirectory test also make sense since multiple memcached related test coming soon,,
2707,7bd2265a8e5ab70ebe967acddeb1e2aecff51fe7,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-05-04 15:23:58 -0400, , cmake always configure target previously default build target test application configured exist instead configure target default build default via  useful finer grained control test application build without reconfigure project change also includes new test apps virtual target target depend test application respectively example test excluded default invoking ninja build release build seastar later invoking ninjc build release test build test application need added dependency new apps target small function add_seastar_app similar make easy,,
2708,f75d6914f5886b3b67a035c9979d0f31571be287,lauber Costa <glauber@scylladb.com>, 2018-05-08 01:17:44 -0400, , iotune fix typo property name typo property name cause file generated iotune read correctly signed glauber costa glauber scylladb.com,,
2709,840002c2188b69bd6fb49263b525167056f02d33,vi Kivity <avi@scylladb.com>, 2018-05-02 16:58:03 +0300, , dpdk protect missing statistic statistic name found store offset later access outside bound xstat array using offset fix checking offset message avi scylladb.com,,
2710,ddb42e1788bc6c6ee7b481b1398368e4bac9da90,vi Kivity <avi@scylladb.com>, 2018-05-01 12:06:45 +0300, , alien make visible documentation without file doxygen ignores file also add description namespace list message avi scylladb.com,,
2711,7ffb9cf7eea8832a0912ed66a2d70b043d67251d,vi Kivity <avi@scylladb.com>, 2018-05-06 10:21:14 +0300, , merge rewrite iotune conform new ioscheduler glauber  recently introduced new way specify disk disk array seastar time update iotune generates data conformity new way biggest advantage test completes fixed amount time second also value bandwidth iop usually consistent directly measured unlike old process error prone  iotune rework v2.updated github.com glommer seastar iotune rename iotune.cc iotune rewrite iotune generate property file according new scheduler format,,
2712,90c6c4e0b4259b07aef35351ac0ab14e3962cad9,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-04-19 14:45:13 -0400, , app_template correct outdated comment signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2713,610aa2b5cb270ae80ff3987c394c5f4f4e98763c,uarte Nunes <duarte@scylladb.com>, 2018-05-03 23:28:15 +0200, , apps test catch polymorphic exception reference signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
2714,bf55cda24870bc26b402a8e452a5eaa5134a203f,uarte Nunes <duarte@scylladb.com>, 2018-05-04 19:15:33 +0200, , configure.py enhance detection gcc fvisibility hidden bug http gcc.gnu.org bugzilla show_bug.cgi 85646 cause spurious warning emitted fvisibility hidden template function happens gcc 8.1 also 8.0.1. enhance detection reproducer bug signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
2715,7bed6aea395f04f363ffd492938cee86f1f1c39e,vi Kivity <avi@scylladb.com>, 2018-04-30 12:56:30 +0300, , reactor add rudimentary task histogram reporting enabled macro report histogram task type executed every million task give developer level view going probably runtime version statically defined tracepoints fancy script likely perturb performance far much useful message avi scylladb.com,,
2716,a0f372e376bea5590ee80bd54a44870e6ea3d341,lauber Costa <glauber@scylladb.com>, 2018-05-01 19:08:00 -0400, , iotune rename iotune.cc cleanup last patch signed glauber costa glauber scylladb.com,,
2717,7f456d1223f400031b09761f7df7758d394bad30,lauber Costa <glauber@scylladb.com>, 2018-04-27 14:25:48 -0400, , iotune rewrite iotune generate property file according new scheduler format patch change iotune work new way specifying disk presented separate file make reviewer life easier follow patch git iotune.cc introducing dependency std filesystem experimental gcc mainly interface way nice use specially range directory scan basic idea using fully sequential figure bandwidth limit disk done single cpu random cpu figure iop limit device still moment relying queue soon away dispatch shard soon keeping old school option file format current iotune generates aside new method calculating property also discovery disk property sysfs learn best interact disk signed glauber costa glauber scylladb.com,,
2718,34c321bbdb15ce0278eed9e173fc685495728d63,vi Kivity <avi@scylladb.com>, 2018-05-03 19:20:29 +0300, , revert merge rewrite iotune conform new ioscheduler glauber reverts commit reversing change made includes unadvertised patch configure.py,,
2719,e1ce4de2ba37a8da50dcd97274c7e81c779d3002,vi Kivity <avi@scylladb.com>, 2018-05-03 16:27:25 +0300, , merge rewrite iotune conform new ioscheduler glauber  recently introduced new way specify disk disk array seastar time update iotune generates data conformity new way biggest advantage test completes fixed amount time second also value bandwidth iop usually consistent directly measured unlike old process error prone  iotune rework github.com glommer seastar iotune rename iotune.cc iotune rewrite iotune generate property file according new scheduler format configure add warning missing virtual destructors add virtual destructors class missing,,
2720,16b5cca61c0aeaa60bd7594805664373cbbb49d0,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-05-02 15:49:47 -0400, , build use warning name clang gcc syntax clang preventing preprocessor warning like warning something bad might happened ... producing compilation error look like wno error warning syntax gcc thing look like wno error cpp character confuses come cmake module even escaped clang added alias warning syntax match gcc flag commit based git mirror subversion repository present 5.0 release series llvm also flag mispelled warning warning signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2721,4537c03846e2ae49dbae7240e7b2ee243dc7edc4,uarte Nunes <duarte@scylladb.com>, 2018-04-26 14:43:51 +0100, , core rwlock add support timeouts signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
2722,3de8c351ad25ab2fc17af84f3ee266b62eae4a24,lauber Costa <glauber@scylladb.com>, 2018-05-01 19:08:00 -0400, , iotune rename iotune.cc cleanup last patch signed glauber costa glauber scylladb.com,,
2723,90b52d804926d2ff8b46d9f72dac7f96fb544142,lauber Costa <glauber@scylladb.com>, 2018-04-27 14:25:48 -0400, , iotune rewrite iotune generate property file according new scheduler format patch change iotune work new way specifying disk presented separate file make reviewer life easier follow patch git iotune.cc introducing dependency std filesystem experimental gcc mainly interface way nice use specially range directory scan basic idea using fully sequential figure bandwidth limit disk done single cpu random cpu figure iop limit device still moment relying queue soon away dispatch shard soon keeping old school option file format current iotune generates aside new method calculating property also discovery disk property sysfs learn best interact disk signed glauber costa glauber scylladb.com,,
2724,3d475ea00734ad07f6f2d490f95744473477c6d3,lauber Costa <glauber@scylladb.com>, 2018-05-02 16:03:38 -0400, , configure add warning missing virtual destructors signed glauber costa glauber scylladb.com,,
2725,788cb5325c42d09a77737d06761328e02fd57664,lauber Costa <glauber@scylladb.com>, 2018-05-02 16:02:24 -0400, , add virtual destructors class missing class virtual destructor  caught wnon virtual dtor signed glauber costa glauber scylladb.com,,
2726,8063d7cb54b20d9addb5eb43bc3184a8953b4b8a,lauber Costa <glauber@scylladb.com>, 2018-05-01 16:54:55 -0400, , qualification protect eintr call getevents infinite timeout eintr happen need protect otherwise throw exception caller failing process signed glauber costa glauber scylladb.com message glauber scylladb.com,,
2727,71be10fb807e489d16a316674a26e79cc2c88ff7,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-05-01 11:18:52 -0400, , docker fix failing build due missing gnu make docker image must previously installed gnu make default must explicitly installed fix 440 signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2728,81c0c0afe90ab89180b77ed944ff486b2ddd8a03,lauber Costa <glauber@scylladb.com>, 2018-04-30 12:29:35 -0400, , reactor move optional experimental compile using dialect seastar apps compile reason std optional recognized std experimental optional make compabitibily effort let keep experimental work well signed glauber costa glauber scylladb.com message glauber scylladb.com,,
2729,20525f07283e037c5c2190eb99a95d6fb4f26262,vi Kivity <avi@scylladb.com>, 2018-04-30 14:59:30 +0300, , future remove allocation future get thread context switch call future get thread future available put thread sleep attach continuation promise continuation move result future wake thread optimize allocating continuation thread stack instead heap since needing asleep reduces 128ns 106ns machine test unit release message avi scylladb.com,,
2730,6480d3fbfd0bed450732a8e97b5e164af5ba2976,vi Kivity <avi@scylladb.com>, 2018-04-30 14:02:15 +0300, , merge rpc streaming gleb  remote call best paradigm everything sometimes want ability stream huge amount data fast possible patch series add appropriate interface rpc layer interface description patch streaming code  gleb rpc streaming github.com cloudius system seastar dev test rpc create rpc server cpu loopback multi smp support test rpc add streaming test test add loopback error injector class rpc introduce streaming rpc rpc shutdown socket exit input loop,,
2731,a64ffd3f7ae95b16a557e31bba63337cfb0f85c7,vi Kivity <avi@scylladb.com>, 2018-04-30 10:38:39 +0300, , reactor put seastar namespace pollute message avi scylladb.com,,
2732,c4833bf94a9ec21584429dffa4d929f5b8feda9d,adav Har'El <nyh@scylladb.com>, 2018-04-29 11:44:34 +0300, , tutorial pdf version tutorial better backtick typesetting pdf version tutorial typeset using tex show backticks default curved quote character code sample ugly confusing reader patch upquote style fix verbatim environment namely code sample patch user want build pdf tutorial ninja doc tutorial.pdf need upquote tex package easy install modern linux distribution e.g. fedora yum install texlive upquote could made use package optional want think without resulting pdf look bad user get error package missing install signed nadav har nyh scylladb.com message nyh scylladb.com,,
2733,83f0ac7cd1ed50e249ab6b7eb709238ef96d35a3,adav Har'El <nyh@scylladb.com>, 2018-03-05 16:36:18 +0200, , tutorial support start using link section patch add support link section tutorial link look like lifetime management i.e. title section title chapter smaller subsection square bracket link work pdf html output generated ninja target doc tutorial.pdf doc tutorial.html respectively signed nadav har nyh scylladb.com message nyh scylladb.com,,
2734,1700e083ca3ada6c120a88ac8f58ee6a8011fcd2,adav Har'El <nyh@scylladb.com>, 2018-03-05 18:06:53 +0200, , tutorial improve second half semaphore section improve text unnecessary use futurize_apply signed nadav har nyh scylladb.com message nyh scylladb.com,,
2735,ac02df7eac81527b362bdb0350a62da973e5657b,vi Kivity <avi@scylladb.com>, 2018-04-29 10:41:54 +0300, , merge prefix preprocessor definition jesse  seastar defines many preprocessor variable enabling disabling functionality variable previously named like debug like series modifies variable prefixed text seastar_ benefit application built seastar accidentally overwrite variable definition unknowingly depend variable defined seastar test unit release dpdk gcc concept  jhk http github.com hakuch seastar build prefix have_dpdk build prefix build prefix build prefix have_numa build prefix have_hwloc build prefix build prefix build prefix asan_enabled build prefix build prefix build prefix debug,,
2736,8a56e3c9b17e370127b6df7c4f49729cb7a73635,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-04-27 16:22:17 -0400, , build prefix have_dpdk,,
2737,b6058b92b89fd4bdb6e9ae4b5de2fe9632d91faa,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-04-27 16:02:26 -0400, , build prefix,,
2738,2063ae4377fa52ca3b1964249c391fc8f617bc31,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-04-27 15:58:46 -0400, , build prefix,,
2739,7d75fcb79616e3d7f4e53edd2c7815416dde24cb,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-04-27 14:57:12 -0400, , build prefix have_numa,,
2740,dbc69866fa090ad0a785c9ca6b13d6782329ef6d,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-04-27 14:52:15 -0400, , build prefix have_hwloc,,
2741,7acf765452eb1bfe5d0bad8bf93ea23acc3a4fa8,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-04-27 14:46:14 -0400, , build prefix,,
2742,6280dd9bf6a1164015581eb74dcce0da2a8f5b3c,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-04-27 14:23:33 -0400, , build prefix,,
2743,5f029c5863b5c13e7d511d9745b0321ec1309b61,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-04-27 14:13:59 -0400, , build prefix asan_enabled,,
2744,f6d0de0ad4634cbf28e54cf0d5862ef9e8eab5ba,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-04-27 13:07:54 -0400, , build prefix,,
2745,7e3615cab52c6153ea5db25624f4f9a720248bae,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-04-27 12:47:11 -0400, , build prefix,,
2746,a89ca24c9331cb055414fb265defa0922d1719d2,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-04-27 12:38:46 -0400, , build prefix debug preprocessor definition prefixed collide definition application code,,
2747,b3e0aa5b442e2a397709ce46c77de0975ee6306b,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-04-27 11:24:00 -0400, , cmake enable warning transitively cmake target specific property specified either public private interface public property library apply transitively target link library general compilation option restrictive like enabling warning transitive cause application code unrelated seastar fail compile link seastar conversely compilation option loosen restriction like disabling warning transitive application enforces restriction code prevented compiling failure seastar adhere restriction course implies number loosened restriction seastar minimized greatest extent possible signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2748,efd6954c7c6c3ef3f5581f3803921cda3c1bafe5,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-04-19 14:45:01 -0400, , posix prevent unused variable warning ndebug defined invocation assert macro replaced preprocessor nothing variable referenced inside assert ndebug defined unused variable warning prevent successful compilation signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2749,8fd5398c4612b31d06008f4d2202549e59fe2fc4,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-04-26 12:01:39 -0400, , build adjust dpdk option fix compilation change make default dpdk option new cmake build consistent option current build system without change compiling dpdk fails home jhaberku src seastar dpdk driver crypto scheduler scheduler_pmd.c fatal error rte_reorder.h file directory include rte_reorder.h change dpdk compiles successfully fix 439 signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2750,214e6e1c21cd04c560de10d7fd7339b51640a43c,leb Natapov <gleb@scylladb.com>, 2018-04-10 15:50:52 +0300, , test rpc create rpc server cpu,,
2751,f75583d6179fb58349352f52ce18c045a19f850d,leb Natapov <gleb@scylladb.com>, 2018-03-20 10:12:37 +0200, , loopback multi smp support currently loopback client always connects server shard connection handled shard make impossible test scenario connection going different shard patch make loopback client connection distributed shard,,
2752,f78f02162da9b4454763b7e27f072243843ab91d,leb Natapov <gleb@scylladb.com>, 2018-03-19 10:03:51 +0200, , test rpc add streaming test,,
2753,9df1a86a6e6007659e4f86ba83de874790eca31d,leb Natapov <gleb@scylladb.com>, 2018-03-19 10:03:19 +0200, , test add loopback error injector class test would like inject error communication stream,,
2754,f515d62c30ae15c902b501b4eecaaae3b236e348,leb Natapov <gleb@scylladb.com>, 2018-04-11 11:53:49 +0300, , rpc introduce streaming rpc patch introduce streaming capability rpc stream sink source client server send data one doe assuming code run seatar async context has_data int data1 get_data1 long data2 get_data2 ... sink data1 data2 ... .get sends data  sink.close .get close stream receive true stdx optional std tuple int long ... data source .get data unengaged optional mean eos break else process data   client server obtain correspondent sink source best explained example suppose want create stream ints one direction string another server code register rpc handler like aux_data auxiliary data used describe stream type also include one parameter placement relative source parameter irrelevant int aux_data rpc source int source rpc sink sstring sink sstring use sink source asynchronously return sink  client code auto rpc_call rpc source sstring int rpc sink int auto int .then rpc_call rpc sink int sink return rpc_call rpc_client aux_data sink .then sink std move sink rpc source sstring source mutable use sink source   note sink source movable shard sending receiving done shard corresponding sink source obtained rpc client used create stream terminates error explicitly closed associated stream terminate enable streaming capability one provide unique uint64_t value server_options creating rpc server server different shard constitute single logical server must belong streaming domain,,
2755,1cf9bef03e0ce71e453ec9c7197e3b92ba49b286,lauber Costa <glauber@scylladb.com>, 2018-04-25 13:29:36 -0400, , io_scheduler adjust property name rename bytes_per_sec req_per_sec aesthetically pleasant iop bandwidth also fix markup header doc signed glauber costa glauber scylladb.com message glauber scylladb.com,,
2756,70aecca3e0790a597a582ab1af97b623b8e0b61f,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2018-04-20 11:20:15 -0400, , experimental cmake based build system patch add experimental unsupported cmake based build system seastar cmake file available tree make easier reach feature parity existing build system switch exclusively cmake feature configure.py test.py script work least preliminary complete fashion however feature script deprecated translated version build support debug release configuration though build directory cmake single configuration unit test suite pass included test compile linking client application seastar described work expected primary way build application seastar build system clone seastar repository application cmakelists.txt file link imported target nothing else necessary  add_executable my_app my_app seastar seastar case application doe build cmake pkg config file seastar.pc built pkg config target build directory quick start mkdir build cmake build cmake cmake release ninja ninja build ctest run test ctest allocator run test matching pattern special thanks noah watkins contribution initial cmake work including query link pool size using ninja generator simplify handling protobuf remove unused compiler flag build test application requested support cmake 2.8 specify source file root cmakelists.txt file instead many file spread around sub directory future work replacement configure.py test.py script call cmake equivalent known issue dpdk compilation fails scheduler_pmd.o home jhaberku src seastar dpdk driver crypto scheduler scheduler_pmd.c fatal error rte_reorder.h file directory signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
2757,89ae5afabc1253b7c8b85d2f70805f5acc6347ed,alle Wilund <calle@scylladb.com>, 2018-04-24 13:50:40 +0000, , inet_address add constructor conversion function ipv4 help type message calle scylladb.com,,
2758,21823637266ff6fca6dc62a10ec7c7025bb0e9a3,alle Wilund <calle@scylladb.com>, 2018-04-24 13:51:36 +0000, , add missing includes forward declaration header self contained message calle scylladb.com,,
2759,c46b896aa006bc032ba736f74fa9185a8a3f052c,leb Natapov <gleb@scylladb.com>, 2018-03-08 12:22:20 +0200, , rpc shutdown socket exit input loop input loop may exit due error unrelated reading socket case socket may stay open side know reader doe exist longer shutdown reader side let side know,,
2760,6b9c94fe791ce0ccc33e4719a189f26d8cb9db39,otond Dnes <bdenes@scylladb.com>, 2018-04-23 14:57:11 +0300, , fix remaining centos issue yum install package list scylla ragel ragel devel scylla libasan scylla libasan73 static scylla libubsan scylla libubsan73 static also update example configure.py invocation gcc5 gcc7.3 signed botond bdenes scylladb.com message scylladb.com,,
2761,06158d4ca411c11827666dc166777307cf7cb92e,uarte Nunes <duarte@scylladb.com>, 2018-04-23 11:07:39 +0100, , rpc add missing return closing client socket signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
2762,b6cbf73d8fb83128fa55b3f14333bef5d42a0c7e,otond Dnes <bdenes@scylladb.com>, 2018-04-20 15:17:15 +0300, , install dependencies.sh install 7.3 centos instead 7.2 also attempt install non existent scylla ninja build package install ninja build official repos instead signed botond bdenes scylladb.com message scylladb.com,,
2763,fe67a5543f38b9b8986860b3f1a0e3fcd10c14e7,vi Kivity <avi@scylladb.com>, 2018-04-19 21:20:55 +0300, , reactor fix race beween alien queue construction start alien queue constructed queue construction barrier released leading race queue started reactor constructed move construction earlier fix race message avi scylladb.com,,
2764,636424ccc482469001810f4a0725dc39f0af8991,vi Kivity <avi@scylladb.com>, 2018-04-18 22:16:56 +0300, , merge enhance scheduler bandwidth throughput limit glauber  new proposal scheduler concurrency determination addressing series shortcoming current design shown year display yet included series version iotune calculates new parameter used setting disk new proposal follow shortly agree also included natural next step work allow shard dispatch reducing inter shard latency remote dispatcher think take next step num queue parameter later handle issue allowing good old fashioned lock lock free priority queue deserves separate investigation positive delivered already yield strong latency benefit still allowing adjust number queue manually  iosched github.com glommer seastar io_queue determine concurrency based disk visible throughput utils adjust identation utils allow interpret unitless number reactor extend fair queue size iop limit io_queues move capacity planning resource manager io_queue accept configuration struct fair_queue allow passing complex parameter fair_queue encapsulate property request descriptor reactor pas descriptor pointer submit_io,,
2765,97cc0de6ea38b6787fbb897c16cc5242cd4762fc,lauber Costa <glauber@scylladb.com>, 2018-04-18 14:48:57 -0400, , io_queue determine concurrency based disk visible throughput problem seastar scheduler  scheduler cornerstone seastar application since inception particular scylladb first commit dating back january 2016. two year production experience scheduler solidified importance also exposed shortcoming plan address series mainly shortcoming hard user reason max request mean often people get confused believing higher always better keep puzzled new faster nvme lower max request older slower ssds also thing get mistuned fact life real world hard people reason parameter lower raise much expect hard tune many situation iotune simply get max request right noisy statistical process looking indirect quantity user complain result sometimes wildly different among similar disk differentiate read writes many disk able serve read writes equal speed single parameter disk max request measured read seen disk ratio higher read write speed meaning write heavy workload disk get severy overloaded take request size account single parameter max request usually discovered based 4kb read larger request take longer much lower sweet spot parallelism meaning tuned parallelism disk also get severely overloaded latency request coming right face long wait time key observation  little detail note make life little easier little law closed system state  concurrency expected time complete request latency throughput key observation following reason know maximum throughput device know increasing concurrency increase latency conversely reducing concurrency reduce latency provided reduction doe result decrease throughput steady state task_quota_ms mean even request fast couple microsecond likely able consume least one task quota assuming example task quota 0.5ms single cpu driving iop write 0.5ms iop word allow request sent disk concurrently expected take 0.5ms complete even individual request much faster stil able consume sooner practice include factor current 1.5 calculation since request finished task quota little law deal average want keep busy time slightly overshoot get approach address first two problem listed introduction article user easily reason throughput thing get mistuned disk deteriorate easy observation find real throughput adjust user easily reason doe mean increase throughput certain margin conversely decreasing throughput direct measurement complex process involved figuring problem also addressed noting little law valid throughput process state read throughput write throughput state limit amount request sent disk based one bottleneck first example local ssds 95k iop 512mb 95k 4kb request amount 371 request 4kb size hit iop bottleneck throughput bottleneck request larger 128kb size hit bandwidth bottleneck iop current scheduler would keep request parallel situation proposed version would assuming 0.5ms task quota keep kiops 1.5 0.5 concurrent 4kb request 512 1.5 0.5 402kb concurrent 128kb request note first scenario latency likely higher current scheduler produce assuming consume next task quota anyway second scenario latency much lower current scheduler produce result  demonstrate run highly parallel write workload 128kb request latency bound small read workload cpu load background single cpu able drive disk maximum show result single cpu since easier see see proposal able keep throughput max level decrease latency every percentile average going almost fold current seastar upstream  class big_write share 131072 byte seq write 100 concurrent request think time throughput 518684 lat average 24662 usec lat quantile 0.5 24640 usec lat quantile 0.95 24719 usec lat quantile 0.99 24879 usec lat quantile 0.999 36128 usec lat max 43170 usec class latency_reads 100 share 4096 byte rand read concurrent request 10000 think time throughput 219.994 lat average 8143 usec lat quantile 0.5 7880 usec lat quantile 0.95 9085 usec lat quantile 0.99 12509 usec lat quantile 0.999 15134 usec lat max 24171 usec class cpu_hog share cpu execution time concurrent request think time throughput 10656.3 continuation proposed  class big_write share 131072 byte seq write 100 concurrent request think time throughput 514262 lat average 24873 usec lat quantile 0.5 24830 usec lat quantile 0.95 24930 usec lat quantile 0.99 25249 usec lat quantile 0.999 36347 usec lat max 41952 usec class latency_reads 100 share 4096 byte rand read concurrent request 10000 think time throughput 347.414 lat average 1452 usec lat quantile 0.5 1324 usec lat quantile 0.95 2334 usec lat quantile 0.99 5936 usec lat quantile 0.999 7584 usec lat max 11026 usec class cpu_hog share cpu execution time concurrent request think time throughput 10607.8 continuation signed glauber costa glauber scylladb.com,,
2766,fbf66b02f0e7a20208c90a5799115d32e8577043,lauber Costa <glauber@scylladb.com>, 2018-04-17 17:57:21 -0400, , utils adjust identation last patch idented patch readability signed glauber costa glauber scylladb.com,,
2767,b688b50a192e4b391f9e05be0ac230219b0d753c,lauber Costa <glauber@scylladb.com>, 2018-04-17 17:54:43 -0400, , utils allow interpret unitless number planning reuse interface parse number coming disk iop throuhgput number disk quite slow iop although quite rare trivially adjust interface number without unit passed interpreted signed glauber costa glauber scylladb.com,,
2768,2be664d20b7a463e7d0233a3f084000b75f66787,lauber Costa <glauber@scylladb.com>, 2018-04-16 21:35:38 -0400, , reactor extend fair queue size iop limit request equal different size different weight purpose counting iop read instance tend cheaper writes track request creation time add descriptor notify fair queue completion full information used implement per type limit well separate throughput bandwidth limit patch fair queue effective acquires capacity limited throughput iop old simple capacity kept compatibility upper layer expects limit maximum amount request flight given time overflow dispatch structure signed glauber costa glauber scylladb.com,,
2769,27d763b613691147556b4cef25822b4d8ff42dad,lauber Costa <glauber@scylladb.com>, 2018-04-17 18:38:23 -0400, , reactor gracefully exit exception happens initialization option fails parsed exit seastar gracefully courtesy boost program_options however option syntactically valid found invalid runtime thing graceful let see example passing number smp still valid integer found resource parsing code unreasonably big happens build release apps seastar_app smp terminate called throwing instance std runtime_error insufficient processing unit aborting backtrace    lib64 libpthread.so.0 lib64 libc.so.6 lib64 libc.so.6 lib64 libstdc .so.6 lib64 libstdc .so.6 lib64 libstdc .so.6 lib64 libstdc .so.6      lib64 libc.so.6  aborted core dumped includes exception message good also includes backtrace helpful case simply seeing invalid value worse coredump catch case explicitly gracefully terminate patch see following output command line build release apps seastar_app smp could initialize seastar insufficient processing unit signed glauber costa glauber scylladb.com message glauber scylladb.com,,
2770,2bee5bc5be35a8ae06a8cf81320e67d0808266a2,vi Kivity <avi@scylladb.com>, 2018-04-17 14:07:25 +0300, , build really add alien_test dependency present,,
2771,fe824bad88259406b739df282df4708f08e6965d,vi Kivity <avi@scylladb.com>, 2018-04-17 11:20:36 +0300, , merge reactor add alien submit_to kefu  want migrate existing application seastar framework would hard single shot especially size project large pratical approach move boundary seastarized part part yet migrated forward newly introduced alien submit_to api allow none seastar thread i.e alien thread run given function specified shard also changeset leak smp _qs fixed issue critical reduces noise help identify real problem  wip alien github.com tchaikov seastar reactor fix typo comment reactor manage smp _qs lifecycle using unique_ptr test add test alien submit_to reactor add alien submit_to alien run_on,,
2772,b9d3f04760a28a5c7581833c9f46863a6dbed8aa,efu Chai <kchai@redhat.com>, 2018-04-17 14:49:27 +0800, , reactor fix typo comment signed kefu chai kchai redhat.com,,
2773,56448746c8e6a574fe9e86b6d1aec4989812c3fa,efu Chai <kchai@redhat.com>, 2018-04-17 11:20:26 +0800, , reactor manage smp _qs lifecycle using unique_ptr signed kefu chai kchai redhat.com,,
2774,aa06b8960fce2c2deedc66e3986411a3a40344e3,efu Chai <kchai@redhat.com>, 2018-04-05 19:52:26 +0800, , test add test alien submit_to signed kefu chai kchai redhat.com,,
2775,989180d6ff0cc317a73745631d068212b5526e91,efu Chai <kchai@redhat.com>, 2018-04-12 14:37:00 +0800, , reactor add alien submit_to alien run_on allows submit task non seastar thread alien thread seastar help application migrating seastar also dedicated queue added share poller  signed kefu chai kchai redhat.com,,
2776,1ccd378ecc7678edf389097cef06346df9841073,lauber Costa <glauber@scylladb.com>, 2018-03-23 11:07:27 -0400, , io_queues move capacity planning resource manager currently defer code resource.cc distribute queue existing shard also figure capacity make capacity decision bit complex would beneficial separate thing make code resource.cc doe best distribute thing within available resource capacity planning done reactor.cc signed glauber costa glauber scylladb.com,,
2777,870d970a54d4b5f2c64469a33f37a96d82201b27,lauber Costa <glauber@scylladb.com>, 2018-03-19 17:36:21 -0400, , io_queue accept configuration struct add optional parameter soon config struct converted fair_queue config struct start using interface capacity queue unsigned everywhere reactor max_aio still size_t move unsigned well keep playing casting game signed glauber costa glauber scylladb.com,,
2778,14efc447032fb3af42d75818933eddcfe7e97f88,lauber Costa <glauber@scylladb.com>, 2018-03-19 17:26:49 -0400, , fair_queue allow passing complex parameter fair_queue constructor currently take capacity optional tau add parameter queue wrap struct also start taking request size instead weight allow user interface register function config struct know convert size weight signed glauber costa glauber scylladb.com,,
2779,69031aab44039b8e659793c742bade349bba0581,lauber Costa <glauber@scylladb.com>, 2018-04-16 18:04:56 -0400, , fair_queue encapsulate property request descriptor current allow caller fair_queue specify weight request used equalize throughput class get soon inform fair_queue lot weight wrap information descriptor signed glauber costa glauber scylladb.com,,
2780,3bd3217486bbc8453787aa08cc2b088fcb1e9b2e,lauber Costa <glauber@scylladb.com>, 2018-03-21 09:06:53 -0400, , reactor pas descriptor pointer submit_io currently passing pointer promise io_event submit_io would like enhance information passed include bit information whether read write size etc reason wrapping promise descriptor changing signature submit_io take pointer descriptor signed glauber costa glauber scylladb.com,,
2781,9d153ba61debf94fe5ebf7d50725dc7dd4d0941d,leb Natapov <gleb@scylladb.com>, 2018-04-16 10:58:12 +0300, , queue consume aborted queue difference consuming empty aborted queue code call consume successful not_empty call may expect queue empty message scylladb.com,,
2782,1bb44ac74fbd3682d480ddbaec86881286442fd0,vi Kivity <avi@scylladb.com>, 2018-04-15 14:53:23 +0300, , doc exclude non api path symbol internal namespace test sample apps interfere framework documentation exclude message avi scylladb.com,,
2783,3e5f66900ec9cea41d082babdb381bf058e9815e,vi Kivity <avi@scylladb.com>, 2018-04-15 15:04:13 +0300, , doc move detailed description top page doxygen default throwing description bottom page visible looking api detail like function name make description lot useful move description top message avi scylladb.com,,
2784,299ad15a1b0081594cfabbfce02123a43c71da62,vi Kivity <avi@scylladb.com>, 2018-04-15 15:04:12 +0300, , doc add default layout file generated doxygen customize layout message avi scylladb.com,,
2785,d6238e854121225b243052f74b4e507d5d522184,vi Kivity <avi@scylladb.com>, 2018-04-14 13:50:29 +0300, , merge misc fix io_tester glauber  fix io_tester found using setup shard class  tester fix github.com glommer seastar io_tester create scheduling group per shard io_tester order shard printing stats io_tester fix affecting throughput issuing calculating io_tester move execution code thread,,
2786,fc4fd010a07f35b6a76d26ccb0f35214bc171427,vi Kivity <avi@scylladb.com>, 2018-04-11 13:30:27 +0300, , merge rpc template cleanup gleb gleb rpc template cleanup github.com cloudius system seastar dev rpc remove longer needed rpc remove longer needed template parameter rpc move server class protocol rpc remove longer used template argument rpc move client class protocol rpc get rid protocol connection class rpc make connection class completely independent rpc protocol template rpc move frame reading function rpc connection rpc remove unused function server connection rpc move logger protocol separate class rpc move generic part connection class template line,,
2787,507e88669ba793599bc0786abb5e2da7792842bb,leb Natapov <gleb@scylladb.com>, 2018-03-08 11:36:34 +0200, , rpc remove longer needed,,
2788,1cb5b260e89209ad901566ef09be21a321a87f56,leb Natapov <gleb@scylladb.com>, 2018-04-11 11:53:20 +0300, , rpc remove longer needed template parameter,,
2789,ae4cb887c35df9450945633e17fd146307d43bea,leb Natapov <gleb@scylladb.com>, 2018-03-07 15:16:23 +0200, , rpc move server class protocol since connection class server class inherits part rpc protocol template server class also moved lot code move .cc file shim left compatibility existing user code since relies rpc protocol server class existence,,
2790,1d8fcfc13d799d87732ab027a960c0528c98bad8,leb Natapov <gleb@scylladb.com>, 2018-03-06 16:48:53 +0200, , rpc remove longer used template argument,,
2791,7519b38e5ce61541abce6b377c91169a95290094,leb Natapov <gleb@scylladb.com>, 2018-03-06 16:40:02 +0200, , rpc move client class protocol since connection class client class inherits part rpc protocol template client class also moved .cc file mostly shim left compatibility existing user code since relies rpc protocol client class existence,,
2792,817f32b922288f35bfc452924856f1243b7a9e20,leb Natapov <gleb@scylladb.com>, 2018-03-06 15:14:16 +0200, , rpc get rid protocol connection class doe nothing since connection class independent rpc protocol template,,
2793,b5a58b47743fd20399fae1547290b288e13a9c10,leb Natapov <gleb@scylladb.com>, 2018-03-06 14:22:03 +0200, , rpc make connection class completely independent rpc protocol template currently connection class hold reference rpc protocol instance thus template since rpc protocol one reason reference needed get serializer instance held rpc protocol break dependency holding type erased pointer serializer connection class convert correct type place use since every place connection used already know serializer type,,
2794,22599693cada755aa3d7a5c458141a5c633646c2,leb Natapov <gleb@scylladb.com>, 2018-03-06 14:46:41 +0200, , rpc move frame reading function rpc connection moving frame reading function non template rpc connection class reduce dependency rpc protocol template class,,
2795,5e6a9f240f98e98b2625377bf103e84416644bfb,leb Natapov <gleb@scylladb.com>, 2018-03-06 15:57:10 +0200, , rpc remove unused function server connection,,
2796,72b0830bebc49753352f60454ae2b4ac7edfe508,leb Natapov <gleb@scylladb.com>, 2018-03-06 14:04:55 +0200, , rpc move logger protocol separate class making logger separate non template class opposite part rpc protocol template reduce template dependency user,,
2797,d62bf52844968306dc5704bb4114211d6006e381,leb Natapov <gleb@scylladb.com>, 2018-03-06 12:41:35 +0200, , rpc move generic part connection class template line connection class doe depend protocol template parameter since work already serialized data move generic part rpc protocol template class .cc file,,
2798,44bf4d187aecebfe11094a5a7e316a7921eecd77,vi Kivity <avi@scylladb.com>, 2018-04-11 11:32:06 +0300, , revert merge rpc template cleanup gleb reverts commit reversing change made build,,
2799,ff60d3c79c4f9495b4d9c416ccd3cbdae9292399,vi Kivity <avi@scylladb.com>, 2018-04-11 10:52:34 +0300, , merge rpc template cleanup gleb gleb rpc template cleanup github.com cloudius system seastar dev rpc remove longer needed rpc remove longer needed templ ate parameter rpc move server class protocol rpc remove longer unused template argument rpc move client class protocol rpc get rid protocol connection class rpc make connection class completely independent rpc protocol template rpc move frame reading function rpc connection rpc remove unused function server connection rpc move logger protocol separate class rpc move generic part connection class template line,,
2800,eccd06001f90a8282e503ef81d37b01162d88b5c,leb Natapov <gleb@scylladb.com>, 2018-03-08 11:36:34 +0200, , rpc remove longer needed,,
2801,8a96531bdd0323121b0dc434730f5cc98405ac2d,leb Natapov <gleb@scylladb.com>, 2018-04-04 16:36:34 +0300, , rpc remove longer needed template parameter,,
2802,8df233b398c6483068eb1d3adc35e5187a0e8ec3,leb Natapov <gleb@scylladb.com>, 2018-03-07 15:16:23 +0200, , rpc move server class protocol since connection class server class inherits part rpc protocol template server class also moved lot code move .cc file shim left compatibility existing user code since relies rpc protocol server class existence,,
2803,8023253f93a1b8061c9335b490b9fbc7fadda134,leb Natapov <gleb@scylladb.com>, 2018-03-06 16:48:53 +0200, , rpc remove longer unused template argument,,
2804,61352b5f348b84cbefd4233221433eded42c9ff0,leb Natapov <gleb@scylladb.com>, 2018-03-06 16:40:02 +0200, , rpc move client class protocol since connection class client class inherits part rpc protocol template client class also moved .cc file mostly shim left compatibility existing user code since relies rpc protocol client class existence,,
2805,c188376746dc4a2b4d13b313bd5f3489599e5ce3,leb Natapov <gleb@scylladb.com>, 2018-03-06 15:14:16 +0200, , rpc get rid protocol connection class doe nothing since connection class independent rpc protocol template,,
2806,f6275b204ca1a4e8be4a01a421eab198b2773b7e,leb Natapov <gleb@scylladb.com>, 2018-03-06 14:22:03 +0200, , rpc make connection class completely independent rpc protocol template currently connection class hold reference rpc protocol instance thus template since rpc protocol one reason reference needed get serializer instance held rpc protocol break dependency holding type erased pointer serializer connection class convert correct type place use since every place connection used already know serializer type,,
2807,a9aed8e7f86977190ee3603c38fa0d7de74d379d,lauber Costa <glauber@scylladb.com>, 2018-03-24 18:32:30 -0400, , io_tester create scheduling group per shard scheduling group exist shard instantiated individually current code creating new one every shard pointless really cross shard barrier unlike class class multiple shard dispatching queue result running io_tester large number shard break since enough slot many group signed glauber costa glauber scylladb.com,,
2808,4c1f4a357b5515d1a77ea0004ebf17c03ec5af23,lauber Costa <glauber@scylladb.com>, 2018-03-22 17:00:58 -0400, , io_tester order shard printing stats far invoking print_stats invoke_on_all guarantee order among shard never really bothered much order truly matter although bit confusing guess lucky see shard finishing exact time happens interspeseding description content various class input doe make impossible read like shard shard class big_reads share 131072 byte seq write 100 concurrent request think time class big_reads share 131072 byte seq write 100 concurrent request think time shard throughput 123848 let take opportunity serialize shard print stats one one signed glauber costa glauber scylladb.com,,
2809,529248656776681262ca1aee566ec19cfdda4c37,lauber Costa <glauber@scylladb.com>, 2018-03-22 16:59:15 -0400, , io_tester fix affecting throughput issuing calculating sleep always break continuation think_time zero behavior want fire right away breaking also account request arrive clock stopped signed glauber costa glauber scylladb.com,,
2810,f89d4a44311d82bd7114f3988c01d080e72b59dc,lauber Costa <glauber@scylladb.com>, 2018-04-09 16:07:15 -0400, , io_tester move execution code thread code drive test bunch future bad upcoming change make significantly readable since firing execution performance critical make seastar thread instead signed glauber costa glauber scylladb.com,,
2811,4f52df89f300c1434574ea0024785a73d880970b,leb Natapov <gleb@scylladb.com>, 2018-03-06 14:46:41 +0200, , rpc move frame reading function rpc connection moving frame reading function non template rpc connection class reduce dependency rpc protocol template class,,
2812,fc58019f1fb22fe899a32e548affcb5d82dc1e70,leb Natapov <gleb@scylladb.com>, 2018-03-06 15:57:10 +0200, , rpc remove unused function server connection,,
2813,38fe74cf90bc2251a45ac0b0908e8935b4eb91b7,leb Natapov <gleb@scylladb.com>, 2018-03-06 14:04:55 +0200, , rpc move logger protocol separate class making logger separate non template class opposite part rpc protocol template reduce template dependency user,,
2814,7b5b17108571db05970f95d5fc728c49975f6ed1,leb Natapov <gleb@scylladb.com>, 2018-03-06 12:41:35 +0200, , rpc move generic part connection class template line connection class doe depend protocol template parameter since work already serialized data move generic part rpc protocol template class .cc file,,
2815,2da7d46fa91d2ae642b371027dbfecc92ebea988,mnon Heiman <amnon@scylladb.com>, 2018-04-08 14:53:26 +0300,428, http route add parameter path adding alias adding alias route use parsing use parsing incoming request assume path parameter part path code generator remove parameter creates path parameter solve need add path parameter parameter example assume original definition path key1 key2 code generator create path path two path parameter key1 key2 resolve handler adding alias use following path path note actual value key meaningless performance aspect done startup fix 428 signed amnon heiman amnon scylladb.com message amnon scylladb.com,,
2816,f2197d4350e8cff171acb08b08caae02b96ea3fa,vi Kivity <avi@scylladb.com>, 2018-04-02 22:27:14 +0300, , future compile time optimize futurize void apply futurize void apply implementation helper lot enable_if result_of_t signature unfortunately get encoded mangled function name making even longer usual switch class template conditional part encode evaluated result type rather entire meta computation message avi scylladb.com,,
2817,524a660df3892d13cfb9ada27f2e16c9a44c27e0,vi Kivity <avi@scylladb.com>, 2018-04-05 13:15:28 +0300, , memory remove unneeded union pla pla union one member exists prevent member destructor called however member trivially destructible accomplish much simplify code replacing union sole member message avi scylladb.com,,
2818,c7784f93e4c939a61ba3bab28fd45e9d848e1ff8,leb Natapov <gleb@scylladb.com>, 2018-04-03 16:36:42 +0300, , queue not_empty not_full throw called abort currently not_empty called abort hang forever throw instead not_full hang consistency make report exception message scylladb.com,,
2819,33d8f74fc83a12601618a4a9fa7ad1f3a9955c73,vi Kivity <avi@scylladb.com>, 2018-04-01 18:13:47 +0300, , memory switch buddy allocation current extent allocator space efficbut slow allocating large aligned block needed scylla log structured allocator worst case allocation take memory size block size improve switch buddy allocation system allocation cost log memory size block size additition fragility aligned allocation since block aligned space efficiency reduced worst case block size overhead reach 100 may address later adding intermediate block size size longer allocate memory large chunk alloc_test adjusted message avi scylladb.com,,
2820,947b37eda650d2496885f6db418c8424c40d8ef9,alle Wilund <calle@scylladb.com>, 2018-04-03 13:00:38 +0000,426, ensure always pas semaphore shutdown fix 426 even shortcut shutdown due wire error always pas read write semaphore ensure potentially volatile i.e future member session fully consumed return close otherwise weird case deferred continuation end deleting session exception continuation still hanging task queue message calle scylladb.com,,
2821,035bc3061b7e1114452b60b485862be3ea5e3e9c,vi Kivity <avi@scylladb.com>, 2018-04-01 18:14:02 +0300, , memory replace placement new union member construction nicer safer syntax message avi scylladb.com,,
2822,7328d17337523ae1e64dbd07cc5aa14628a022f0,vi Kivity <avi@scylladb.com>, 2018-04-01 18:13:21 +0300, , sstring add support non nul terminated sstrings sstring used string replacement need nul terminator c_str return nul terminated string however use basic_sstring byte container e.g scylla byte type nul terminator needed occupies extra space generates unnecessary instruction especially visible buddy allocator power two sized string fix providing new template parameter nulterminate defaulting true false allocate use extra space nul termination message avi scylladb.com,,
2823,8c572d1875e509e8ec82c99719a045374c32e7f6,uarte Nunes <duarte@scylladb.com>, 2018-03-26 20:10:08 +0100, , core sharded make dtor virtual signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
2824,68d245cc1daab48cf66b217db50cf1d8f97e1c6e,lauber Costa <glauber@scylladb.com>, 2018-03-20 10:04:45 -0400, , reactor pas naked pointer submit_io previously explicitly coded submit_io take ownership unique_ptr containing promise release good making exeception handling lot complex exception happens inside submit_io set exception promise unique_ptr would destroyed simple moving try catch block inside submit_io either since exception also happen furthermore make adjustment queue least worst solution seems compromise principle led move unique_ptr handle exception caller responsible releasing destroying unique_ptr whatever happens signed glauber costa glauber scylladb.com message glauber scylladb.com,,
2825,1ffc6fa594dcb3e413b07179db499b0516467e9b,vi Kivity <avi@scylladb.com>, 2018-03-18 16:01:30 +0200, , merge http add alias support api amnon  series add aliasing support api series possible register alias existing path  amnon api_alias_v5 github.com cloudius system seastar dev route add alias support function handler add default copy constructor,,
2826,60f1bcea4159ee51cdfed89f212259940635ab93,mnon Heiman <amnon@scylladb.com>, 2018-03-08 18:57:25 +0200, , route add alias support sometimes required change api example fixing typo path typically involve adding new api correct spelling deprecate old api support sometimes patch add aliasing option route object supporting apis would require setting one apis alias example new_api old_api auto generated json2code route object old_api used regsiter handler possible add alias path calling r.add_alias old_api new_api signed amnon heiman amnon scylladb.com,,
2827,33c9923c2e6a47f59749640edcb515b5f4d2152d,mnon Heiman <amnon@scylladb.com>, 2018-03-08 16:03:50 +0200, , function handler add default copy constructor alias support sometimes needed create new existing one patch add default copy constructor,,
2828,77a58e4dc020233f66fccb8d9e8f7a8b7f9210c4,vi Kivity <avi@scylladb.com>, 2018-03-14 14:17:38 +0200, , use madvise madv_dontneed instead mprotect like mprotect permission reduction madvise madv_dontneed sends ipi cpu inducing inject memory barrier unlike mprotect madvise madv_dontneed doe take mmap semaphore work page vmas mean madvise madv_dontneed call executed concurrently without serialization kernel replace call mprotect call madvise madv_dontneed drop spinlock guarded whole thing happy concurrent execution reduces cpu consumption going sleep kernel sys_membarrier appears reducing system call count well true fault page call madvise fact fault slower system call still gain overall large machine reduced spinning credit aliaksei kandratsenka gperftools idea message avi scylladb.com,,
2829,a66cc34d300d26bccc7d9a4095d4baa154a69d6b,lauber Costa <glauber@scylladb.com>, 2018-03-14 08:11:10 -0400, , reactor fix sleep mode avi recently noticed rework patch broke poll mode reason got confused comment pollers tested presence flight aio request condition enter instead absence patch fix also make comment clear favor future reader signed glauber costa glauber scylladb.com message glauber scylladb.com,,
2830,70ad3254a24d910173ac394293fb38d2f47cfcf8,lauber Costa <glauber@scylladb.com>, 2018-03-13 20:02:46 -0400, , cpu scheduler penalize first group run keeping variable use calculate time long group run t_run_completed outside run_some_tasks idle update variable right back correct present issue idle run pollers back run_some_tasks right t_run_completed still last time assigned last time ran compute first group t_run_started t_run_completed ... run group ... vruntime to_vruntime t_run_started end situation t_run_started t_run_completed pollers ran mean assign vruntime task much higher actually spent although keeping variable save one call really accurate lose signed glauber costa glauber scylladb.com message glauber scylladb.com,,
2831,fd507b70623f7775c03501b010334228c71b1276,oreno Garcia <moreno@scylladb.com>, 2018-03-05 19:30:21 -0300, , simple shellscript find logical cpu shard mapped usually seastar application export metric according seastar shard performance analysis happen based however need use external linux tool like perf need happen cpu level concept seastar shard apply patch introduces simple script script read task list seastar application use fact thread named shard name produce logical cpu mapping useful outside seastar example output script shard cpu shard cpu shard cpu shard cpu shard cpu shard cpu shard cpu shard cpu variable name changed better readability shard correctly matched code shortened signed moreno garcia moreno scylladb.com message moreno scylladb.com,,
2832,bcfbe0c3f7f62af97d58bef4383d46864b32fbe7,aphael S. Carvalho <raphaelsc@scylladb.com>, 2018-03-12 15:39:01 -0300, , core fix directory scanning returning actual entry type directory scanning may broke user filter entry based entry type like list regular file root evil retrieving entry type getdents used getdents64 type field defined entry structure must used purpose sizeof incorrectly used work array field indirection returning mostly garbage type would usually unknown could luckily work reason took long find could happen different type would returned would lead incorrect behavior scanning directory scylladb example failed boot essential file skipped due filtering based type look http github.com scylladb scylla issue 3274 signed raphael carvalho raphaelsc scylladb.com message raphaelsc scylladb.com,,
2833,6edf818e433201e8772d589a4bde3113fe0d713c,lad Zolotarov <vladz@scylladb.com>, 2018-03-09 19:53:33 -0500, , script perftune.py distribute irqs handling separately make sure irqs handle equally distributed among cpu handle irq work signed vlad zolotarov vladz scylladb.com,,
2834,d3c6a3685ba695bb2850172f91c8c889a0391e03,lad Zolotarov <vladz@scylladb.com>, 2018-03-09 17:48:44 -0500, , script perftune.py consider known limitation certain nics nics limited amount queue however driver still configure resource non queue used handling specifically defined traffic type however care queue consider deciding default configuration mode signed vlad zolotarov vladz scylladb.com,,
2835,42159d4a5b59f9805bc4947eec16d080a1d6c452,awe Dziepak <pdziepak@scylladb.com>, 2018-03-08 14:29:07 +0000, , memory avoid unconditional call __tls_init memory allocator thread local object trivially constructible mean access ensured already properly initialised gcc doe injecting uncodnitional call __tls_init particularly bad application heavy small allocation patch alleviates problem checking thread local object already initialised calling __tls_init  message pdziepak scylladb.com,,
2836,5cc8aef280d39bca98522f57c0c84531c55de673,lauber Costa <glauber@scylladb.com>, 2018-03-06 19:12:43 -0500, , io_tester bring back information think time accident ended removing think time setting class description last refactor bring back signed glauber costa glauber scylladb.com message glauber scylladb.com,,
2837,7c626c4775a809dbd56a7589ccae5986e3a1495b,vi Kivity <avi@scylladb.com>, 2018-03-07 20:08:27 +0200, , merge avoid continuation scheduler path glauber  patchset reworks scheduler request path dramatically reduce number continuation involved serving request patchset see gain north workload tested dispatch also predictable happen always pollers instead point time test unit debug  iocont github.com glommer seastar smp register smp poller earlier dispatch remote earlier smp reduce one continuation submit path scheduler continuation free dispatch part queue allow 128 request concurrently dispatch outside pollers reactor register pollers shard without queue reduce task quota 500 microsecond,,
2838,ad68f1466905b6bb340a076805b7dfdcf15ea841,lauber Costa <glauber@scylladb.com>, 2018-03-03 12:36:37 -0500, , smp register smp poller earlier dispatch remote earlier pollers run order registered executed looping array registered pollers smp pollers run quite late particular run pollers executed mean beginning task quota remote shard sent request shard shard see smp queue polled cause latency initiating remote request task_quota worst case opposed task_quota local request remedy make sure run smp pollers run function remote shard poll event inject event put directly smp queue latency initiate remote request latency initiate local request tempting think could run io_pollfn check ready request run smp pollers request ready already sent requesting cpu however still continuation path really buy much using io_tester shard queue processing cpu hog class remote shard dispatching latency bound 250usec task quota see average latency significantly improved better similar improvement seen way read class latency_reads 1000 share 4096 byte rand read concurrent request think time throughput 32942.5 lat average 481 usec lat quantile 0.5 425 usec lat quantile 0.95 621 usec lat quantile 0.99 688 usec lat quantile 0.999 2309 usec lat max 405644 usec read class latency_reads 1000 share 4096 byte rand read concurrent request think time throughput 42726.1 lat average 370 usec lat quantile 0.5 318 usec lat quantile 0.95 470 usec lat quantile 0.99 605 usec lat quantile 0.999 627 usec lat max 405621 usec signed glauber costa glauber scylladb.com,,
2839,75f460cd49793b6d03bcfd222362d3519c28bce6,lauber Costa <glauber@scylladb.com>, 2018-03-03 12:33:35 -0500, , smp reduce one continuation submit path fold one continuation storing reference work item turn func .then .then respond  func .then capture_result signed glauber costa glauber scylladb.com,,
2840,70a1f69dfb26b760e196cd8bb0f974e900fd1194,lauber Costa <glauber@scylladb.com>, 2018-03-01 20:02:59 -0500, , scheduler continuation free dispatch part issue batched pollers check readiness poll cycle however process involves couple continuation making semaphore ready chaining future indicate ability dispatch etc would much preferrable could dispatch everything pollers back task queue make thing ready dispatch next cycle reduce latency dipatches couple situation gain efficiency shard dispatching remotely smp queue continuation still effect plan handle later date shard dispatching locally fully continuation free semaphore gone capacity enforcement done totally scheduler fair_queue semaphore gone replaced notification mechanism reactor explicitly tell request finished dispatch instead notifying readiness future could chain request execution fair queue executes function directly also promise created submit_io created queue_request chain two continuation per one request demonstrate effect patch run test 250usec task quota single shard first test run fast nvme load bottleneck constant parallelism outside saturation point latency improvement deliver performance read  class latency_reads 100 share 4096 byte rand read concurrent request think time throughput 725795 lat average 190 usec lat quantile 0.5 179 usec lat quantile 0.95 278 usec lat quantile 0.99 466 usec lat quantile 0.999 670 usec lat max 1827 usec  class latency_reads 100 share 4096 byte rand read concurrent request think time throughput 803999 lat average 156 usec lat quantile 0.5 138 usec lat quantile 0.95 266 usec lat quantile 0.99 391 usec lat quantile 0.999 614 usec lat max 10098 usec  signed glauber costa glauber scylladb.com,,
2841,8dd8fedc01ea03e75d4e4e2530136eb186e282a3,lauber Costa <glauber@scylladb.com>, 2018-03-02 20:05:15 -0500, , queue allow 128 request concurrently even scheduler capacity request may block sent reactor since reactor hold 128 request concurrently intend unify thing eventually enforcing limit scheduler queue well signed glauber costa glauber scylladb.com,,
2842,e181bd66dd2e88dc74911484807a473d859a07e2,lauber Costa <glauber@scylladb.com>, 2018-03-02 18:50:38 -0500, , dispatch outside pollers currently submit_io called two possibility respect dispatching may batch next poll period may dispatch certain condition apply patch proposing revisit condition simplify code path always batching argue rationale behind condition longer apply modern seastar discarded two major change happened cpu scheduler mature scheduler default task quota severely reduced _io_queue queued_requests introduced system bottlenecked would better latency lose batching ability dispatching sooner flushing queue sooner however task quota time 2.0ms without cpu scheduler guarantee continuation would run reasonable time task quota 0.5ms plan reduce mention good control cpu continuation cpu scheduler usually starve scheduler related continuation meaning added latency request batched never high batching win std min max_aio _io_queue _capacity condition specifies certain amount request pending better flushing first condition max_aio idea behind condition block semaphore reach max_aio pending request better avoid however predates scheduler scheduler sits request submission _pending_aio array usually scheduler queue max_aio capacity never reach max_aio test moot test io_queue _capacity argument also one latency saw item added latency bounded bother result obtained running 250usec task quota single cpu summary result  using io_tester evaluate behavior subsystem faced change testing scenario scenario latency bound read heavy cpu hog discussion visible change tend trigger condition scenario throughput bound read heavy cpu hog discussion throughput decrease latency increase around task quota expected cpu throughput increase scenario throughput bound discussion small throughput increase increase batching opportunity raw result  scenario  class latency_reads 100 share 4096 byte rand read concurrent request think time throughput 25461 lat average 420 usec lat quantile 0.5 416 usec lat quantile 0.95 420 usec lat quantile 0.99 618 usec lat quantile 0.999 5130 usec lat max 6182 usec class cpu_hog share 200 cpu execution time concurrent request think time throughput 1601.89 continuation class cpu_hog2 share 200 cpu execution time concurrent request think time throughput 1601.66 continuation class cpu_hog3 share 200 cpu execution time concurrent request think time throughput 1601.84 continuation  class latency_reads 100 share 4096 byte rand read concurrent request think time throughput 25460.3 lat average 420 usec lat quantile 0.5 417 usec lat quantile 0.95 421 usec lat quantile 0.99 617 usec lat quantile 0.999 2843 usec lat max 6140 usec class cpu_hog share 200 cpu execution time concurrent request think time throughput 1601.48 continuation class cpu_hog2 share 200 cpu execution time concurrent request think time throughput 1602.88 continuation class cpu_hog3 share 200 cpu execution time concurrent request think time throughput 1601.98 continuation  scenario  class latency_reads 100 share 4096 byte rand read concurrent request think time throughput 229700 lat average 426 usec lat quantile 0.5 491 usec lat quantile 0.95 526 usec lat quantile 0.99 739 usec lat quantile 0.999 817 usec lat max 6381 usec class cpu_hog share 200 cpu execution time concurrent request think time throughput 1281.26 continuation class cpu_hog2 share 200 cpu execution time concurrent request think time throughput 1281.13 continuation class cpu_hog3 share 200 cpu execution time concurrent request think time throughput 1280.88 continuation  class latency_reads 100 share 4096 byte rand read concurrent request think time throughput 210237 lat average 504 usec lat quantile 0.5 492 usec lat quantile 0.95 736 usec lat quantile 0.99 746 usec lat quantile 0.999 758 usec lat max 6466 usec class cpu_hog share 200 cpu execution time concurrent request think time throughput 1334.57 continuation class cpu_hog2 share 200 cpu execution time concurrent request think time throughput 1335.07 continuation class cpu_hog3 share 200 cpu execution time concurrent request think time throughput 1332.37 continuation  scenario  class latency_reads 100 share 4096 byte rand read concurrent request think time throughput 385557 lat average 359 usec lat quantile 0.5 353 usec lat quantile 0.95 435 usec lat quantile 0.99 495 usec lat quantile 0.999 631 usec lat max 1302 usec  class latency_reads 100 share 4096 byte rand read concurrent request think time throughput 393572 lat average 382 usec lat quantile 0.5 374 usec lat quantile 0.95 467 usec lat quantile 0.99 550 usec lat quantile 0.999 769 usec lat max 1289 usec signed glauber costa glauber scylladb.com,,
2843,1dca091c1c6d51200d73edafdfec8386f2ff9b50,lauber Costa <glauber@scylladb.com>, 2018-03-02 20:34:34 -0500, , reactor register pollers shard without queue shard issue nothing poll come simplify code even registering pollers case signed glauber costa glauber scylladb.com,,
2844,57a6bade0b180c1d72e82486e891c55831693807,lauber Costa <glauber@scylladb.com>, 2018-03-06 17:33:38 -0500, , reduce task quota 500 microsecond currently miliseconds default using 500 microsecond scylladb long time want even lower need infrastructure happen without huge throughput decrease signed glauber costa glauber scylladb.com,,
2845,e812bcaf51520e2ea677f7eebca942078693930f,vi Kivity <avi@scylladb.com>, 2018-03-06 10:12:01 +0200, , merge extend io_tester support cpu load glauber  tester tool helpful tool simulate load however moment restricted purely load practice continuation fight time cpu continuation time behave well sometimes able properly simulate load add cpu request type characterized long doe cpu computation busy loop long think fire another continuation example output shard class cpu_hog 1000 share 100 cpu execution time 1000 concurrent request throughput 1896.57 continuation class cpu_hog2 1000 share 100 cpu execution time 1000 concurrent request throughput 1901.93 continuation class cpu_hog3 1000 share 100 cpu execution time 1000 concurrent request throughput 1895.82 continuation class cpu_hog4 1000 share 100 cpu execution time 1000 concurrent request throughput 1893.97 continuation class cpu_hog5 1000 share 100 cpu execution time 1000 concurrent request throughput 1895.76 continuation shard class latency_reads 1000 share 4096 byte rand read concurrent request throughput 29282.6 lat average 542 usec lat quantile 0.5 422 usec lat quantile 0.95 640 usec lat quantile 0.99 735 usec lat quantile 0.999 340785 usec lat max 407304 usec  iotester cpu github.com glommer seastar io_tester add ability introduce cpu load io_tester use fmt instead iostreams io_tester use cpu scheduler,,
2846,fbffadf1c8c25688bef327a16de8730126b3edff,lauber Costa <glauber@scylladb.com>, 2018-03-02 15:52:02 -0500, , io_tester add ability introduce cpu load tester tool helpful tool simulate load however moment restricted purely load practice continuation fight time cpu continuation time behave well sometimes able properly simulate load add cpu request type characterized long doe cpu computation busy loop long think fire another continuation signed glauber costa glauber scylladb.com,,
2847,326cd22ce4b2cded7735ce069cdc4a5d00407001,lauber Costa <glauber@scylladb.com>, 2018-03-05 21:39:19 -0500, , io_tester use fmt instead iostreams fmt better immediate rationale code need hack print class_data using inheritance turn class_data abstract class become significantly complex better port signed glauber costa glauber scylladb.com,,
2848,9c4a3389c89ce0ecc55809366c15516f2d46516e,adav Har'El <nyh@scylladb.com>, 2018-03-05 17:06:37 +0200, , tutorial fix undue complication semaphore get_units example example incorrectly said get_units requires using seastar futurize_apply doe slow throw unit object immediately scope release unit everything fine signed nadav har nyh scylladb.com message nyh scylladb.com,,
2849,726c9b9f19676c86e8d1c8a154b9a205c36a8463,adav Har'El <nyh@scylladb.com>, 2018-02-26 12:27:12 +0200, , tutorial html target inline code snippet gray nice long code snippet formatted gray background extra background distracting inline code snippet typewriter font suggestive enough fix add gray background long snippet signed nadav har nyh scylladb.com message nyh scylladb.com,,
2850,085a6bdbd003225027958c4cb258cb3d6faa67ef,adav Har'El <nyh@scylladb.com>, 2018-03-05 16:46:45 +0200, , tutorial add build target split html file single html page tutorial getting long people asked also provide multi page html chapter separate html page patch provides building ninja doc split build directory doc split separate html file per chapter index.html file contains table content file .html contains chapter table content point individual chapter also section chapter also point back table content well previous next chapter link different chapter also fixed correctly point different document signed nadav har nyh scylladb.com message nyh scylladb.com,,
2851,b27538ca4d2e898d1fc8662b6a2cf508fcd7624b,adav Har'El <nyh@scylladb.com>, 2018-03-05 16:22:25 +0200, , tutorial mention seastar thread option object lifetime management seastar thread fourth option often convenient keeping object alive asynchronous operation mention lifetime management section keep introduction short give link separate seastar thread section full information signed nadav har nyh scylladb.com message nyh scylladb.com,,
2852,8d34d5097634b71125bee4e56051bc1575bffaed,adav Har'El <nyh@scylladb.com>, 2018-03-05 15:08:57 +0200, , tutorial document new seastar future wait signed nadav har nyh scylladb.com message nyh scylladb.com,,
2853,08e02dc0feadbc167d0b5b8a7254a1e4af905990,vi Kivity <avi@scylladb.com>, 2018-03-05 12:35:36 +0200, , future make future wait supported function future wait marked internal function legitimately used thread similar future then_wrapped outside thread useful want check whether future failed calling future get future get0 make generally useful remove assumption future yet available check explicity non checking version retained private do_wait use future get caller example future some_function f1.wait f1.failed return  return message avi scylladb.com,,
2854,88d5835b9b573af32a519a0407736e059be36dce,lauber Costa <glauber@scylladb.com>, 2018-03-02 15:38:25 -0500, , io_tester use cpu scheduler tester testing utility request exist vaccuum important able simulate cpu issue may affect latency well first step change meaning parameter share also represent cpu share  allow evaluate competing cpu user affect latency profile signed glauber costa glauber scylladb.com,,
2855,aa662582d8264711d5670447ccf0de2cdee9e411,lad Zolotarov <vladz@scylladb.com>, 2018-02-21 22:57:56 -0500, , script perftune.py allow cpu mask doe include irq cpu allow cpu mask value include cpu going use binding irqs instance combination parameter cpu mask 0xe mode forbidden throw exception corresponding error message case signed vlad zolotarov vladz scylladb.com message 1519271876 22857 git send email vladz scylladb.com,,
2856,1821af85d49fa7637525afa356191f430ec4b63f,adav Har'El <nyh@scylladb.com>, 2018-02-26 16:29:14 +0200, , tutorial show nice dash html use pandoc smart option convert expected dash already done latex therefore pdf html signed nadav har nyh scylladb.com message nyh scylladb.com,,
2857,f841d2df2aa4108dbccd51b2bd6d7f9f4c84aa21,vi Kivity <avi@scylladb.com>, 2018-02-26 12:52:57 +0200, , merge randomize task queue debug mode duarte  debug mode scheduling task always defers allows discover concurrency related bug masked deferring every task order would executed expose bug patch randomizes task queue new compile time flag enabled default debug mode test unit test debug  task queue randomize http github.com duarten seastar core reactor randomize task queue debug mode test tls_test ensure resource closed future waited net stack destroy progress accept net wait output sent shutting test fstream_test ensure closed test rpc_test avoid use free moving cancellation object test connect_test abandon future,,
2858,ef137a9bd6cda55a39259bade2229c69b7e4d5a3,uarte Nunes <duarte@scylladb.com>, 2018-02-12 20:04:07 +0000, , core reactor randomize task queue debug mode debug mode scheduling task always defers allows discover concurrency related bug masked deferring every task order would executed expose bug patch randomizes task queue debug mode test unit debug signed duarte nunes duarte scylladb.com,,
2859,6b638b24b51bf07c2d4e20f9e42e8f8ef336d0a3,uarte Nunes <duarte@scylladb.com>, 2018-02-13 13:23:05 +0000, , test tls_test ensure resource closed future waited patch contains several fix tls_test ensure stream always closed future waited signed duarte nunes duarte scylladb.com,,
2860,d463d66426e1eee2fc63d6b21f6a1c11c4c3c298,uarte Nunes <duarte@scylladb.com>, 2018-02-12 23:48:58 +0000, , net stack destroy progress accept accept ing connection capture raw pointer unique_ptr keeping alive destroyed accept completes later get use free happen reactor preempted checking socket readable actual accept signed duarte nunes duarte scylladb.com,,
2861,3c0f31d2bf0554f786d66a2b71b5ab18cc219214,uarte Nunes <duarte@scylladb.com>, 2018-02-12 23:28:35 +0000, , net wait output sent shutting lead use free reactor check file descriptor writtable owns packet destroyed reactor later access freed packet signed duarte nunes duarte scylladb.com,,
2862,67649034741b7e8280dc4f6238ac6f8702c4edd2,uarte Nunes <duarte@scylladb.com>, 2018-02-12 22:41:14 +0000, , test fstream_test ensure closed read aheads issued meanwhile may cause use free signed duarte nunes duarte scylladb.com,,
2863,54c0c84f28138d771fc553269c463ce20003aaa7,uarte Nunes <duarte@scylladb.com>, 2018-02-12 22:30:53 +0000, , test rpc_test avoid use free moving cancellation object signed duarte nunes duarte scylladb.com,,
2864,209b65207e156f1801e04eeb59502c4e21a79221,uarte Nunes <duarte@scylladb.com>, 2018-02-12 22:30:30 +0000, , test connect_test abandon future feel sad abandoned signed duarte nunes duarte scylladb.com,,
2865,ef41cdf58763627c5aff36eb2d8a2668c061be27,adav Har'El <nyh@scylladb.com>, 2018-02-18 16:43:37 +0200, , tutorial document seastar thread signed nadav har nyh scylladb.com message nyh scylladb.com,,
2866,0b3bbf6182660e8d8648bf7ab60b805969719199,adav Har'El <nyh@scylladb.com>, 2018-02-15 21:26:54 +0200, , tutorial add missing seastar namespace fix 409 signed nadav har nyh scylladb.com message nyh scylladb.com,,
2867,4cc3964355b5eb2a1335bb67c50ba5b3f142146c,adav Har'El <nyh@scylladb.com>, 2018-01-31 22:49:30 +0200, , tutorial note asynchronous function throwing exception exception vs. exceptional future recommended asynchronous function function returning future throw rather return exceptional future patch add note recommendation assumed even seastar method like semaphore wait violate recommendation signed nadav har nyh scylladb.com message nyh scylladb.com,,
2868,66de472d5b6761126adb95b8205f30c6ef0b6c7f,vi Kivity <avi@scylladb.com>, 2018-02-15 11:53:13 +0200, , thread stop backtraces aarch64 underflowing stack mark x30 link register undefined,,
2869,0861cf80cf08a43906fc5826d44cc9ddb26c998b,vi Kivity <avi@scylladb.com>, 2018-02-15 11:48:57 +0200, , revert core thread arm64 version annotating frame reverts commit assembler like,,
2870,38d8463f692aaee18123e1e9a0ce8e22701978f5,ilei Zhang <c_sileiz@qti.qualcomm.com>, 2018-02-14 16:41:27 -0500, , core thread arm64 version annotating frame arm64 procedure link register x30 a.k.a use annotating current frame arm64 version fix scylla issue 1909 signed silei zhang c_sileiz signed vladislav zolotarov vladz scylladb.com message 1518644487 7860 git send email vladz scylladb.com,,
2871,3df438d9207c1d6b9f7c9906901bc14df658d94c,uarte Nunes <duarte@scylladb.com>, 2018-02-13 12:02:33 +0000, , core future util release exception repeater calling lvalue version get_exception leaf exception repeater state later reported handled call rvalue version instead reviewed nadav har nyh scylladb.com signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
2872,383ccd68743dc92974460fd65f7dee0d2ac00f19,awe Dziepak <pdziepak@scylladb.com>, 2018-02-14 13:13:35 +0000, , future util relax concept requirement do_for_each do_for_each accepts function object return either future void concept incorrectly rejected latter message pdziepak scylladb.com,,
2873,19425aaf1595692a6e7c239eaf54b3ed62e25c34,otond Dnes <bdenes@scylladb.com>, 2018-02-14 09:53:40 +0200, , seastar addr2line improve bactraces read stdin previously supplying backtraces stdin user press ctrl entering backtrace trigger resolution kill process ctrl bad user experience solve new added read stdin char char stop soon discovers two line feed row ctrl empty string way user press either additional enter ctrl entering backtrace trigger resolution stop script signed botond bdenes scylladb.com message scylladb.com,,
2874,f8712c2d0c4fd794a3a0df7ec4086538e189a1a6,omasz Grabiec <tgrabiec@scylladb.com>, 2018-02-13 11:14:53 +0100, , lift noexcept guarantee case is_direct initialize called constructor allocates memory thus fail message 1518516893 30047 git send email tgrabiec scylladb.com,,
2875,772ddefce8c665cc80917106ccf20b4b9d970d5e,adav Har'El <nyh@scylladb.com>, 2018-02-12 15:14:28 +0200, , queue doxygen documentation long already documentation queue function let add third slash make visible doxygen documentation also added documentation couple missing function signed nadav har nyh scylladb.com message nyh scylladb.com,,
2876,a170c6e3bc9cae8f3674584c89dab08964b9b6ca,adav Har'El <nyh@scylladb.com>, 2018-02-12 15:14:27 +0200, , queue documentation improve queue api documentation say abort doe pop_eventually push_eventually signed nadav har nyh scylladb.com message nyh scylladb.com,,
2877,aaa9c5e555f33897cfe3a8ac5c6cfdad12602c01,vi Kivity <avi@scylladb.com>, 2018-02-12 11:58:41 +0200, , build reinstate wsign compare seastar need dependent project need add message avi scylladb.com,,
2878,25cc5600a0b0f69aab40c5ac5296422e254bc5c5,vi Kivity <avi@scylladb.com>, 2018-02-12 11:58:40 +0200, , iotune compare sign unsigned type pave way return wsign compare message avi scylladb.com,,
2879,d0acb06228e384ff55137000ab8456c7a454b317,uarte Nunes <duarte@scylladb.com>, 2018-02-11 15:26:37 +0000, , future util remove unused local signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
2880,0e52242c7998b7419205c935297c4b94d60c517d,uarte Nunes <duarte@scylladb.com>, 2018-02-09 14:42:35 +0000, , test test utils add macro running test within seastar thread patch add macro behaves like one except call test code context seastar thread allows seastar test written one indentation level signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
2881,2b0a81d76d6471d8f74149e80cdd88a14546e788,awe Dziepak <pdziepak@scylladb.com>, 2018-02-08 14:26:08 +0000, , configure.py add wno stringop overflow wstringop overflow seems little eager pointing problematic situation really happen message pdziepak scylladb.com,,
2882,f211953d69082127b10ab314ddb970dc8e0dec77,awe Dziepak <pdziepak@scylladb.com>, 2018-02-08 11:40:07 +0000, , configure.py add optflags specifying optimisation flag optflags allows specifying additional optimisation flag used release build message pdziepak scylladb.com,,
2883,731d7b5e562d85303a66a2d534ddecaeb24df33a,vi Kivity <avi@scylladb.com>, 2018-02-08 12:44:47 +0200, , build add protobuf compiler docker dev image,,
2884,441ddf39c8311b64687d230107af5e8266d266a6,vi Kivity <avi@scylladb.com>, 2018-02-08 12:27:33 +0200, , build update docker builder newer fedora,,
2885,8933300e806d3f0afde99477db0135ee297bf32a,mnon Heiman <amnon@scylladb.com>, 2018-02-08 10:08:40 +0200,404, json_element stream_object get parameter value patch change stream_object implementation get stream object value allow compiler move passed data possible instead copy fix 404 signed amnon heiman amnon scylladb.com message amnon scylladb.com,,
2886,de69fa8b264a50d5957069f833fb25e2e7d8da7e,mnon Heiman <amnon@scylladb.com>, 2018-02-07 16:29:58 +0200, , json_element stream range object specific implementation steaming range object json array example map return api array key value user framework need return map implementation save need translate map vector first stream instead helper function would capture object example map iterate use mapping function get expected result signed amnon heiman amnon scylladb.com message amnon scylladb.com,,
2887,8039f43540077f1cdfb996a9ca96f952059396a2,onathan Andr Schweder <jonathanschweder@gmail.com>, 2018-02-05 11:46:22 -0800, , build add yaml cpp devel installation dockerfile yaml cpp devel package require lyaml cpp flag build add package installation reorganize text dockerfile message 68d3afbf 1917 4277 8cfe 577839214b04,,
2888,6d02263f193b9dfe22c647e87d2ad17bc50eaf65,vi Kivity <avi@scylladb.com>, 2018-02-05 14:21:18 +0200, , build detect name ninja executable distribution call ninja ninja call ninja build provide detect name available use fix build centos message avi scylladb.com,,
2889,1252e1debff6f63d7e53460f586de175516ddcc0,leb Natapov <gleb@scylladb.com>, 2018-02-05 14:14:21 +0200, , queue pop_eventually push_eventually throw called abort currently pop_eventually called abort hang forever throw instead push_eventually hang nobody read pushed data better let producer know message scylladb.com,,
2890,502b1b488972ce983430d7d0d4bf1b3e896594d8,vi Kivity <avi@scylladb.com>, 2018-02-03 19:22:45 +0200, , build compile libfmt line switch building libfmt regular library instead header library reduces compile time message avi scylladb.com,,
2891,9115f2ea482acdba6c4fd6311f257aca6d81e7d0,uarte Nunes <duarte@scylladb.com>, 2018-02-02 23:05:53 +0000, , core gate ensure with_gate leaf gate exception path make with_gate exception safe signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
2892,21badbda939b0f8e858c9bcc22cf5797aa8a7677,lauber Costa <glauber@scylladb.com>, 2018-02-02 14:19:45 -0500, , reactor change adjustment method task becoming active cpu scheduler role adjusting long task group run time according priority call share task group make sure task group different share comparable keep track runtime also virtual runtime vruntime essentially runtime adjusted amount share task group total task group constantly running guarantee always pick task group lower vruntime run next reality task group run time may spend time idle one easy way understand bursty workload read writes database another example background process like compaction repair scylla given time may may work task group run long time couple task_quotas vruntime become lot lower others dominate cpu long time come prevent forget existing vruntime task made active artificially set last vruntime task group minus task quota problematic two reason first assuming task respect task quota least close reality painfully aware true second task group low share amount accrue lot vruntime one run task group waking set vruntime task group inactive may run long time let look real example happening scylla run 250usec task quota write workload want cpu isolate writes 1000 share memtable flush share compaction 100 share could observe practice following sequence event memtable flush backlog controlled process share quite small writes main inactive memtable flush dominate remaining task_quota compaction present active_queue scheduler pick memtable flush lower vruntime tiny margin memtable flush actually disrespect task quota running 450usec point memtable flush small share ran long time vruntime way compaction note exactly want since memtable flush run long time want equalize compaction time problem memtable flush finish running _last_vruntime set gigantic vruntime point writes main group become active inherit vruntime minus task quota compaction still way behind vruntime dominate cpu long time thing equalize fix view surprisingly simple instead accounting _last_vruntime vruntime last task group ran let _last_vruntime vruntime task group ran change time reduce dependency adjustment algorithm task quota since even task group disrespected still using baseline time happened guaranteeing far task group active picked task group execute mean point time lowest vruntime tested change build scylladb patched make use cpu scheduler running single cpu workload write workload limit 25000 writes second small payload written thread unpatched version see severe drop compaction run type total ops row mean med .95 .99 .999 ... total 12752234 24999 24999 24999 0.6 0.6 1.0 1.2 3.6 total 12763744 11466 11466 11466 1.6 0.8 5.2 5.5 5.9 total 12768059 4291 4291 4291 4.6 5.1 5.6 6.3 6.6 total 12771931 3864 3864 3864 5.1 5.5 6.0 6.5 6.9 ... patched version drop totally gone see difference clearly execution summary unpatched result rate 22166 write 22166 partition rate 22166 write 22166 row rate 22166 write 22166 latency mean 0.6 write 0.6 latency median 0.5 write 0.5 latency 95th percentile 0.9 write 0.9 latency 99th percentile 6.5 write 6.5 latency 99.9th percentile 11.2 write 11.2 latency max 19.9 write 19.9 total partition 13299383 write 13299383 total error write total count total total time avg time nan stdev time total operation time end patched result rate 25011 write 25011 partition rate 25011 write 25011 row rate 25011 write 25011 latency mean 0.6 write 0.6 latency median 0.5 write 0.5 latency 95th percentile 0.8 write 0.8 latency 99th percentile 1.0 write 1.0 latency 99.9th percentile 2.3 write 2.3 latency max 23.1 write 23.1 total partition 15006295 write 15006295 total error write total count total total time avg time nan stdev time total operation time end signed glauber costa glauber scylladb.com message glauber scylladb.com,,
2893,d166cb330da2f5fe1ceee6b2ef88de7e2eca7317,omasz Grabiec <tgrabiec@scylladb.com>, 2018-02-02 11:34:41 +0100, , merge update arm port avi minor update arch dependent item http github.com avikivity seastar arm cacheline define cache line arm memory define huge page size arm reactor switch getdents64 directory read spinlock define cpu_relax arm,,
2894,a1bb575907256595b14d48ad6474c2e5896c6641,vi Kivity <avi@scylladb.com>, 2018-01-30 12:24:23 +0200, , spinlock define cpu_relax arm nice yield instruction,,
2895,18b9fba3f47f2734f5367ff30653f74c72207cca,vi Kivity <avi@scylladb.com>, 2018-01-30 12:15:17 +0200, , reactor switch getdents64 directory read architecture armv8 old syscall since getdents64 introduced 2.4 available everywhere,,
2896,93751994706eaac7160ed1fabaf6637de19a18c0,vi Kivity <avi@scylladb.com>, 2018-01-30 12:05:37 +0200, , memory define huge page size arm small page used standard huge page,,
2897,b35bc5cfa0bb0ade9c87c29ded1fce6e55362788,vi Kivity <avi@scylladb.com>, 2018-01-30 12:04:42 +0200, , cacheline define cache line arm really dependent take value used linux,,
2898,58ed2b85b30704ddefa820708abc01c7b8a51e40,mnon Heiman <amnon@scylladb.com>, 2018-01-31 16:27:25 +0200,396, http wait close connection stop listen completed patch solve issue calling stop listen completed example listen throw exception listen called call maybe_idle added make sure stop wait fix 396 signed amnon heiman amnon scylladb.com message amnon scylladb.com,,
2899,eadaab99637dfc147cf995adf7a0d2c95403a203,uarte Nunes <duarte@scylladb.com>, 2018-01-28 11:53:13 +0000, , core future util allow rvalues do_for_each do_for_each changed recently accept container universal reference bound rvalue could cause use free since defer point function application change back accepting lvalues signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
2900,19efbd954d451625fc31a430f67844b6660766a5,akuya ASADA <syuu@scylladb.com>, 2018-01-30 17:12:57 +0900,3164, configure.py add static yaml cpp option link libyaml cpp statically static linking libyaml cpp needed scylla see scylladb scylla 3164 signed takuya asada syuu scylladb.com message 1517299977 9162 git send email syuu scylladb.com,,
2901,0fb334b9f1f0d624e256436d2c1e4839d7eff2dd,omasz Grabiec <tgrabiec@scylladb.com>, 2018-01-29 12:46:21 +0100, , merge avoid kernel stall due fsync avi linux xfs run aio operation parallel fsync cause reactor stall disk high fsync latency patchset detects filesystems condition adjusts issue fsync operation exclusively test patchset add internal stall detector based rusage ru_nvcsw test case exercise fsync parallel writes measure stall http github.com avikivity seastar fsync exclusive reactor make fsync exclusive file read write operation reactor add sampler reactor kernel stall test add write fsync stall test fileiotest,,
2902,529425391c282fdbb562c979bcf64dd168733a9b,vi Kivity <avi@scylladb.com>, 2018-01-25 15:16:16 +0200, , test add write fsync stall test fileiotest generate write fsync workload report stall since yet good feeling many stall generated different kernel let always pas report result,,
2903,a5e4a3d3d950545e220947486798b57b0c0b34bb,vi Kivity <avi@scylladb.com>, 2018-01-25 15:13:36 +0200, , reactor add sampler reactor kernel stall use getrusage system call sample number voluntary context switch zero stall exclude reactor sleep non stalling context switch nothing yield cpu could dynamically enabled future exported via metric find stall dynamically,,
2904,8d3b249d4296adda7c166b82c6cd8b4a08e0829e,adav Har'El <nyh@scylladb.com>, 2018-01-25 15:13:39 +0200, , rwlock add exception safe lock unlock alternative semaphore addition separate wait signal method get_units function return owning object object destroyed reason operation undone make easier write exception safe code rwlock separate lock unlock method get_units like mechanism patch add rwlock implemented using semaphore implemenation trivial existing semaphore get_units related type also add alias rwlock holder returned object type signed nadav har nyh scylladb.com message nyh scylladb.com,,
2905,6d483f4c2a8f61c0945b017e6a3e93a9084759d4,vi Kivity <avi@scylladb.com>, 2018-01-24 19:06:27 +0200, , reactor make fsync exclusive file read write operation xfs implementation linux take inode lock duration fsync causing io_submit stall fsync completes take many hundred millisecond prevent requiring fsync exclude running operation luckily already infrastructure due sloppy size writes since filesystems problem whitelist,,
2906,770c4505f2de956409218e1d7b48287a7dee61a2,alle Wilund <calle@scylladb.com>, 2018-01-24 18:16:46 +0000, , tls_test fix echo test setting server trust store iff running client auth server need trust store verify client cert message calle scylladb.com,,
2907,0ed15e928e84cbb659a6ceb20de4173854a1a00a,alle Wilund <calle@scylladb.com>, 2018-01-24 15:46:32 +0000, , restrict handshake client seems least newer gnutls give error even server mode since session code fully resilient assertion never served much purpose pointing assumption based mostly reading library code ... ultimate doc message calle scylladb.com,,
2908,4ed4fa8dd3716dbd680a1a96392784fc6edfedeb,alle Wilund <calle@scylladb.com>, 2018-01-24 15:43:47 +0000,393, actually verify client certificate requested fix 393 setting client_auth required force gnutls request remote cert client fail none provided doe however actually run certificate validation check conditionals needed run verify even server mode accepting cert suggested request message calle scylladb.com,,
2909,872e600026720e98de5ade870f3363486f277b83,adav Har'El <nyh@scylladb.com>, 2018-01-08 18:17:37 +0200, , rwlock add method determining rwlock locked patch add method rwlock locked determining whether rwlock currently locked either read write useful example code want delete lock nobody waiting since semaphore also similar method querying state make sense rwlock fact rwlock lock semaphore available_units signed nadav har nyh scylladb.com message nyh scylladb.com,,
2910,2c8bf8e97776c359c708fb80e1d85d9760218a38,ristan Su <sooqing@gmail.com>, 2018-01-22 15:41:38 +0800, , metric add missing break metric_value operator close 386 message sooqing gmail.com,,
2911,76ffcd66a5419c3b4d4a9ef19f6de123d875c002,vi Kivity <avi@scylladb.com>, 2018-01-20 22:18:48 +0200, , memory fix error injector throwing noexcept memory allocator function commit 64f977a memory rationalize error handling modified internal allocation function never throw moved point generated exception various operator new overload however missed on_alloc_point throw fix move call on_alloc_point various allocating function malloc operator new etc wrapper select throwing non throwing variant avoids awkward transition throwing non throwing part call stack destroy information exception thrown fix 390 message avi scylladb.com,,
2912,e367d9365e23eba48e02f215c0ac7664a6b278e2,vi Kivity <avi@scylladb.com>, 2018-01-21 16:56:02 +0200, , use mprotect arm arm processor support tlbi instruction variant broadcast tlb invalidate core processor mprotect generate inter processor interrupt ipis therefore memory barrier injected reactor defeating purpose  fix fail able use sys_membarrier return false indicating failed reactor simply poll forever event available kernel upgraded message avi scylladb.com,,
2913,9768a63f729a114327140226b9dd012a60c309b7,otond Dnes <bdenes@scylladb.com>, 2018-01-19 10:25:03 +0200, , sharded add const version sharded local also make const signed botond bdenes scylladb.com message scylladb.com,,
2914,8e60fba7e9ed7f4d99683b3e9c36d83b424e5660,ladimir Krivopalov <vladimir@scylladb.com>, 2018-01-19 17:38:37 -0800, , add const overload front back circular_buffer signed vladimir krivopalov vladimir scylladb.com message scylladb.com,,
2915,79b46421d5fedec506be16a50eb8111755216157,uarte Nunes <duarte@scylladb.com>, 2018-01-16 00:01:03 +0000, , remove unused lambda capture found clang signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
2916,d03896da5cf237bccf0b8beb16af1e36fe2549ef,vi Kivity <avi@scylladb.com>, 2018-01-15 11:57:30 +0200, , update dpdk submodule dpdk aef8df8 ... a177465 eal remove another use register keyword,,
2917,a1a261bcac352cf44c80cb818107552559def946,awe Dziepak <pdziepak@scylladb.com>, 2018-01-15 11:36:48 +0000, , merge aligned allocation avi support operator new aligned object without aligned allocation call standard allocator confusing thing tag aligned new http github.com avikivity seastar test add test aligned allocation memory implement aligned allocation memory aligned allocation must multiple alignment memory fix pre aligned operator new error handling memory rationalize error handling,,
2918,9fb37a5dc805a0cac3585bef59c01f44b246d7bf,mnon Heiman <amnon@scylladb.com>, 2018-01-14 17:20:21 +0200,387, prometheus check iterator valid using searching specific metric family name returned iterator could invalid searched metric family name lexically bigger metircs family name check return iterator valid trying check point right metric family name fix 387 signed amnon heiman amnon scylladb.com message amnon scylladb.com,,
2919,9d7ba08dd2027c6f8b86a6547a5fb13be79f2285,vi Kivity <avi@scylladb.com>, 2018-01-14 15:32:38 +0200, , test add test aligned allocation force compile build force fail runtime,,
2920,30e38d8b4cf749ad7b9bf4e0a8bea4a4da351522,vi Kivity <avi@scylladb.com>, 2018-01-08 13:36:54 +0200, , memory implement aligned allocation without aligned allocation use standard library implementation conflict,,
2921,a7fc9ede8ae2292af32e28b08630b35ac94ebc74,vi Kivity <avi@scylladb.com>, 2018-01-14 13:22:39 +0200, , memory aligned allocation must multiple alignment aligned allocation function precondition allocated size must multiple alignment make use fact enforce function without precondition,,
2922,efd95551ea0578a86273ce639cd9064e71ffb812,vi Kivity <avi@scylladb.com>, 2018-01-14 13:18:51 +0200, , memory fix pre aligned operator new error handling must throw memory available,,
2923,64f977a7fede8ad0691fdf9ad96cb99824de05da,vi Kivity <avi@scylladb.com>, 2018-01-14 13:17:03 +0200, , memory rationalize error handling code mix nullptr bad_alloc standardize nullptr generate bad_alloc entry point,,
2924,9a6a18252ff9c9cfb477dcd38fa0dd271c404ef5,awe Dziepak <pdziepak@scylladb.com>, 2018-01-11 16:19:04 +0000, , future util failure allocate internal state unrecoverable repeat do_until require internal state handle case execution suspended however optimised case happen consequently allocation done lazily unfortunately current implementation make exception unsafe allocation internal state fails return leaving unwaited continuation solution involve pessimisation follows approach taken future ... assume failure possible recover fix 384 message pdziepak scylladb.com,,
2925,f4b55a6eb583d2880579e5b3f7ff4b192b4e0cc8,vi Kivity <avi@scylladb.com>, 2018-01-11 16:02:11 +0200, , merge introduce simple framework pawe series introduces simple framework aware seastar main purpose make easier write performance test would help monitor impact code change overall performance example result performance test look like  single run iteration single run duration 1.000s number run test iteration median mad min max 623215467 1.601ns 0.002ns 1.596ns 1.608ns 4081997 244.109ns 1.390ns 242.304ns 247.401ns 112196 8.871us 47.520ns 8.772us 8.918us test executed several time example run consisting multiple iteration column iteration average iteration time run computed median statistic run shown tag seastar perf test http github.com pdziepak seastar test perf add microbenchmarks test perf add simple framework,,
2926,7c73348e984bd83ed5914b62b339a7d47bd96b7f,adav Har'El <nyh@scylladb.com>, 2018-01-11 14:36:16 +0200, , tutorial document debuging ignored exception document use exceptional future ignored warning decode backtrace print based information http github.com scylladb scylla wiki resolve backtrace signed nadav har nyh scylladb.com message nyh scylladb.com,,
2927,ece4ae47720ac8f00fb0a0eea4366df748035786,awe Dziepak <pdziepak@scylladb.com>, 2018-01-11 10:54:12 +0000, , test perf add microbenchmarks,,
2928,9328662c8ae70739bf87750b1504150b93b378de,awe Dziepak <pdziepak@scylladb.com>, 2018-01-11 10:52:19 +0000, , test perf add simple framework patch introduces simple framework allows writing performance test similar manner unit test frameweork aware seastar support test suspend yield result immediately,,
2929,1fb991e81a6f04924990ad19ef85aeaedb0d890a,vi Kivity <avi@scylladb.com>, 2018-01-11 13:36:35 +0200, , revert merge introduce simple framework pawe reverts commit reversing change made break build,,
2930,b2ec7e9292e31d16043ca3c006e5f1d354f8a59f,vi Kivity <avi@scylladb.com>, 2018-01-11 13:30:08 +0200, , merge introduce simple framework pawe series introduces simple framework aware seastar main purpose make easier write performance test would help monitor impact code change overall performance example result performance test look like  single run iteration single run duration 1.000s number run test iteration median mad min max 623215467 1.601ns 0.002ns 1.596ns 1.608ns 4081997 244.109ns 1.390ns 242.304ns 247.401ns 112196 8.871us 47.520ns 8.772us 8.918us test executed several time example run consisting multiple iteration column iteration average iteration time run computed median statistic run shown tag seastar perf test http github.com pdziepak seastar test perf add microbenchmarks test perf add simple framework,,
2931,e5baa83e99a35b42babad6ea8500cb6cb40677dc,awe Dziepak <pdziepak@scylladb.com>, 2018-01-11 10:04:58 +0000, , test future add test message pdziepak scylladb.com,,
2932,5a7ec7b19deb64f1f857809c6a2113de8456575e,mnon Heiman <amnon@scylladb.com>, 2018-01-11 12:17:51 +0200, , add prometheus.md file general description seastar prometheus protocol specific instruction use querying specific metric signed amnon heiman amnon scylladb.com message amnon scylladb.com,,
2933,887ee9baa496f933191d9193589454225e7f0147,mnon Heiman <amnon@scylladb.com>, 2018-01-11 12:17:50 +0200, , prometheus support metric family name parameter patch add ability return specific metric family prometheus using browser curl text version following would work http localhost 9180 metric return metric http localhost 9180 metric cache return metric start cache metric name passed without prefix http localhost 9180 metric return specific metric set prometheus server read metric change prometheus.yml file described doc prometheus.md implementation change accept iterators make class lower_bound upper_bound method return first end iterator range get_range helper function create range based metric name prefix need used implementation modified act iterator like minor optimization removed favor operator act like expected iterator helper method check asterisk end metric name prometheus server would encode url path search symbol encoded representation message amnon scylladb.com,,
2934,9024a232af6ea493e0b00e74cee1b5e74a9c74fc,awe Dziepak <pdziepak@scylladb.com>, 2018-01-11 10:54:12 +0000, , test perf add microbenchmarks,,
2935,bae83edc9f6343c4750977b55226e17a3ddc840c,awe Dziepak <pdziepak@scylladb.com>, 2018-01-11 10:52:19 +0000, , test perf add simple framework patch introduces simple framework allows writing performance test similar manner unit test frameweork aware seastar support test suspend yield result immediately,,
2936,a7a3e6f8dff5143641ccb3169de620469f2f807e,vi Kivity <avi@scylladb.com>, 2018-01-09 18:16:56 +0200, , update dpdk submodule dpdk 8aa1d69 ... aef8df8 eal remove use register keyword compatibility,,
2937,6972a1e839d0e2ec34acacd600bd6a76c3b9066c,omasz Grabiec <tgrabiec@scylladb.com>, 2018-01-09 10:29:09 +0100, , merge nowait aio avi starting linux 4.14 facility blocking io_submit included setting rwf_nowait flag caller request error return instead blocking beneficial seastar blocking reactor also block unrelated operation killing concurrency libaio doe support flag since maintainer responsive libaio replaced seastar wrapper wrapper also able bypass io_getevents system call zero timeout specified always seastar far rwf_nowait flag detected compile time run time http github.com avikivity seastar nowait aio core add alternative interface linux aio linux aio try perform io_getevents userspace switch linux aio implementation away libaio linux aio add support nowait aio reactor provide stable iocb address reactor support nowait aio,,
2938,8ad8e0ff939d8a72af6e7fda37a7efadde767ecf,vi Kivity <avi@scylladb.com>, 2018-01-09 11:15:20 +0200, , reactor support nowait aio set rwf_nowait flag iocbs eagain returned resubmit iocb thread pool einval eopnotsupp returned disable rwf_nowait resubmit prevents reactor blocking kernel support nowait aio,,
2939,603fa99cd22a8699390c32c7c69af241601be3f6,vi Kivity <avi@scylladb.com>, 2017-12-16 17:54:52 +0200, , reactor provide stable iocb address next patch want retry iocbs would blocked reactor using thread pool must overwrite iocbs provide stable iocbs allocate pool maintain lifo queue free iocbs,,
2940,148ee0a9b3a52c2d1ea39e90917362d3bbe90107,oman Gershman <romange@gmail.com>, 2018-01-08 16:47:06 +0200, , configure allow overriding protoc compiler path signed roman gershman romange gmail.com message 1515422826 32567 git send email romange gmail.com,,
2941,c7f29279f9a3c890caf54426290742870adaf4ab,adav Har'El <nyh@scylladb.com>, 2017-12-24 12:45:11 +0200, , tutorial fix default reserve memory seastar tutorial incorrectly suggests 0.5gb reserved default since written reservation increased see commit commit reduced see commit 1.5 memory whichever bigger update tutorial reflect signed nadav har nyh scylladb.com message nyh scylladb.com,,
2942,bf54742c796878f9a5d1095b4e90bf00f526361e,awe Dziepak <pdziepak@scylladb.com>, 2018-01-05 19:01:07 +0000, , future util optimise uncommon cpu bound workload future ready case especially important utility like sufficiently optimised patch optimistically optimises situation future processed immediately ready penalty true expected negligible message pdziepak scylladb.com,,
2943,898bc7918ffdba75237c114c48df5144cdbc19e0,vi Kivity <avi@scylladb.com>, 2017-12-16 16:57:55 +0200, , linux aio add support nowait aio allow setting rwf_flag iocb kernel header expose flag,,
2944,499cbf83e7dbf91b1d4cdfe62a5f78f4aa8c37ea,vi Kivity <avi@scylladb.com>, 2017-12-16 16:32:22 +0200, , switch linux aio implementation away libaio drop libaio call start using internal implementation note internal implementation return error system call convention errno rather kernel convention error,,
2945,27158cec33e0b388013088561d2a8107087ab6b2,vi Kivity <avi@scylladb.com>, 2017-12-16 14:33:47 +0200, , linux aio try perform io_getevents userspace enough event available timeout zero perform io_getevents entirely userspace possible completion event ring mapped userspace using stable data structure libaio implement special case zero available event credit qemu pioneering optimization,,
2946,e44bc6f97337f5a0d803dded960ff9f555d1af18,vi Kivity <avi@scylladb.com>, 2017-12-16 13:42:42 +0200, , core add alternative interface linux aio libaio keeping linux aio change provide interface kernel wired yet,,
2947,fa090c586b1fc440f1aca1a308d31675d92a1a45,vi Kivity <avi@scylladb.com>, 2018-01-01 18:46:43 +0200, , future utils avoid defining template default template parameter clang like,,
2948,28ac92ef7462b296ce589fa0aab8ac8d44e90acf,leb Natapov <gleb@scylladb.com>, 2018-01-01 17:51:39 +0200, , fix socket_address output stream operator print port number host byte order message scylladb.com,,
2949,a45be4b8cba1c6880343823fbd655a26cfd6e729,vi Kivity <avi@scylladb.com>, 2018-01-01 17:10:22 +0200, , test fix spelling,,
2950,360410dfe736b6b2214c232cd95b8d76b4a5e313,iotr Sarna <p.sarna@tlen.pl>, 2017-12-14 20:58:41 +0100, , make dependency doc arch friendly commit make install dependency script look id_like variable addition variable etc release file checking arch distribution make sense many popular arch derivative like antergos arch field provide arch id_like indicate arch compatibile also add building arch entry doc directory message p.sarna tlen.pl,,
2951,b0f55911f47ed2f32007bc60e12186cc14160038,vi Kivity <avi@scylladb.com>, 2017-12-28 13:05:17 +0200, , merge core introduce cancellation mechanism duarte primitive arose need scylla auth subsystem worthy since enable interruptible action provide idiom retryable operation abort source http github.com duarten seastar test add test new abort_source mechanism core sleep add abort source based abortable sleep core sleep use external explicit instantiation sleep_abortable core introduce cancellation mechanism class abort_source util add scylla,,
2952,faab646404041b4f8ebb27e1fb946361446552f6,ladimir Krivopalov <vladimir@scylladb.com>, 2017-12-26 14:54:42 -0800, , fix seastar build longer build enable dpdk recent commit fd87ea2 signed vladimir krivopalov vladimir scylladb.com message scylladb.com,,
2953,7c7b735aca8486bc62fcaf9bb90a9688792a4f3a,uarte Nunes <duarte@scylladb.com>, 2017-12-04 19:12:07 +0000, , test add test new abort_source mechanism signed duarte nunes duarte scylladb.com,,
2954,039e37dc8c0cde13ff73bc222c0d062be83ba2d9,uarte Nunes <duarte@scylladb.com>, 2017-12-04 19:11:49 +0000, , core sleep add abort source based abortable sleep signed duarte nunes duarte scylladb.com,,
2955,e96f97e9f839efaf069cf641f9444ff3a3fa0224,uarte Nunes <duarte@scylladb.com>, 2017-12-20 01:09:39 +0100, , core sleep use external explicit instantiation sleep_abortable introduce future util source file add definition sleep_abortable provide explicit instantiation default clock type signed duarte nunes duarte scylladb.com,,
2956,30f7ea339ca2786984f1f744151c262674203e27,uarte Nunes <duarte@scylladb.com>, 2017-12-14 20:12:16 +0100, , core introduce cancellation mechanism class abort_source abort_source class enables one communicate cancellation request ongoing asynchronous operation operation subscribe cancellation request registering callback invoked abort_source request_abort called mechanism implement interruptible action abortable sleep signed duarte nunes duarte scylladb.com,,
2957,3c7a9ff71ccf71e493221ba3526c9b4e6cb66e7d,uarte Nunes <duarte@scylladb.com>, 2017-12-20 01:08:45 +0100, , util add scylla signed duarte nunes duarte scylladb.com,,
2958,cdd86a37674987385af79f4bd26d37f0516dd1ba,vi Kivity <avi@scylladb.com>, 2017-12-25 18:50:35 +0200, , support function object whose move constructor throw library function std deque non noexcept move constructor captured fix allowing function using indirect path unconditionally since function placed heap move constructor invoked construction function object patch downside missed mutable lambda cause move silently turned copy however true many case detected profiling whereas dealing noexecpt unfriendly type much harder better forgiving along spirit language message avi scylladb.com,,
2959,fd87ea2ac0cd349f0d5bd478c281e47c260196ef,arek Waszkiewicz <marek.waszkiewicz77@gmail.com>, 2017-12-15 11:29:32 +0100, , adding new hardware option new config format using new config format dpdk device patch add updated unit test doe fail signed marek waszkiewicz gmail.com message 1513333772 7354 git send email gmail.com,,
2960,2c42fa8443a88a5ec4ce8c824d3e396d795163cc,ladimir Krivopalov <vladimir@scylladb.com>, 2017-12-25 22:26:59 -0800, , fix check boost version pre build configuration signed vladimir krivopalov vladimir scylladb.com message scylladb.com,,
2961,6b522da5efb78cf557c62425b3d4f6116c5b2eb7,vi Kivity <avi@scylladb.com>, 2017-12-25 18:27:56 +0200, , variant_utils add variant_visitor constructor mode fix build mode,,
2962,77dea9e47be53c0b82aea906c5b059475c73578b,vi Kivity <avi@scylladb.com>, 2017-12-25 16:08:54 +0200, , merge allows json object stream amnon series add option serialize json object output stream using new output stream option http server amnon github.com cloudius system seastar dev http test test json using output stream json object support output stream,,
2963,7bacafe584f39478bd89e8d6b18353616feae63e,uarte Nunes <duarte@scylladb.com>, 2017-12-25 12:45:03 +0000, , merge default avi detect supported dialect use available allow user use compatibility testing example tag http github.com avikivity seastar build default available build avoid using unconditionally,,
2964,3107c95c71bceac9706745144bd9bbdbe22c675e,mnon Heiman <amnon@scylladb.com>, 2017-08-14 16:32:56 +0300, ," http test test json using output stream patch add test serialize object result large json add test helper function run_test get two function write strem second read stream prevent issue client http parser work count mode would parse body count size hold entire body single string helper class mimic json object would serialized 1,000,000 byte json string vector 1,000 entry created object code verify vector passed server client",,
2965,728f920604768a87dd581e1cecf8d6ad52cabceb,mnon Heiman <amnon@scylladb.com>, 2017-08-01 09:55:55 +0300, , json object support output stream http server support writing body output stream return json object large would good use ouptput stream instead serializing string patch add support streaming json object hold serialization function would pas reply instead string use instead creating object use stream_object helper function return json stream_object stream_object return function capture object used serialize output stream formatter support write method serialize object ouput stream,,
2966,afda19298cac58a822fad073c2f0f86ddc6af6f7,ladimir Krivopalov <vladimir@scylladb.com>, 2017-12-22 14:56:01 -0800, , add const version subscript operator circular_buffer signed vladimir krivopalov gmail.com message gmail.com,,
2967,adaca37db4b213fadc25d0889c6b061a380d283e,vi Kivity <avi@scylladb.com>, 2017-12-19 11:20:33 +0200, , merge support skipping byte input stream input_stream consume vladimir fix add ability skip range byte input_stream using input_stream consume allows convert large sequence byte separate input_streams consumed lazily incrementally prevent large allocation pre requisite fix scylladb scylla 2981 feature http github.com argenet seastar add concept constrain input parameter input_stream consume extend input_stream consume support skipping byte introduce helper using lambda variant static visitation,,
2968,ec07a8601c2cbc38e8a2e7dc8dfcf77d63112bc9,ladimir Krivopalov <vladimir@scylladb.com>, 2017-12-18 20:27:06 -0800, , build enforce boost 1.58 configuration travis updated use boost 1.63 scylladb ppa signed vladimir krivopalov vladimir scylladb.com message scylladb.com,,
2969,1e8a4afdda2a28c2972702b65c3d795b1246651a,vi Kivity <avi@scylladb.com>, 2017-12-18 15:28:01 +0200, , build default available use preference allow using dialect,,
2970,2952e15dc6c72d32b7c7144e191d7f77839dddd3,vi Kivity <avi@scylladb.com>, 2017-12-18 15:26:05 +0200, , build avoid using unconditionally want run try_compile soon user argument passed able supply sensible default pas explicitly everywhere,,
2971,1850c6cd1cc9ed0319cea998e5c36b98c3958557,adav Har'El <nyh@scylladb.com>, 2017-12-17 14:13:09 +0200, , tutorial beginning documentation cpu scheduling start document seastar isolation feature allowing isolating one application component another started documenting cpu scheduler complete working example still need document disk scheduler also todo discussion latency issue task quota preemption check etc signed nadav har nyh scylladb.com message nyh scylladb.com,,
2972,a86744aa9aa7df217586b65158e6fb678a261f95,otond Dnes <bdenes@scylladb.com>, 2017-12-15 09:14:01 +0200, , circular_buffer make move constructor noexcept since data member trivially constructible struct enables embeddeding without falling back copy element expand signed botond bdenes scylladb.com message scylladb.com,,
2973,5204ee16eaed67b8fe2a64a2bf1d6ea2a3bbae7b,otond Dnes <bdenes@scylladb.com>, 2017-12-15 07:39:41 +0200, , circular_buffer convert existing documentation doxygen format also add description interators reference invalidated signed botond bdenes scylladb.com message scylladb.com,,
2974,62dd712749057257c92c37ca9cafd45b2b3b59b7,ladimir Krivopalov <vladimir@scylladb.com>, 2017-12-12 20:48:05 -0800, , add concept constrain input parameter input_stream consume two concept defined latter added compatibility reason support code still stdx optional return value signed vladimir krivopalov vladimir scylladb.com,,
2975,4e5fc1962d7d174708787a1682fff31bad05554d,ladimir Krivopalov <vladimir@scylladb.com>, 2017-12-11 17:12:44 -0800, , extend input_stream consume support skipping byte mechanism client skip next byte stream consuming entire current buffer allows converting skipped byte separate input_streams lazily incrementally consumed avoid large allocation better flexibility new return type introduced make clearer interface extended needed backward compatible older return type signed vladimir krivopalov vladimir scylladb.com,,
2976,6fcd79c76e448390e44e5cc7058ba0043f5e5a86,ladimir Krivopalov <vladimir@scylladb.com>, 2017-12-11 17:12:21 -0800, , introduce helper using lambda variant static visitation helper simplify work variant visitor lambda easily capture state deal member class defined visitation mechanism enforces type stored variant covered signed vladimir krivopalov vladimir scylladb.com,,
2977,8062bab06750b1d16973afd74d7e8ca2ca0b0089,vi Kivity <avi@scylladb.com>, 2017-12-14 12:00:27 +0200, , build fix detection membarrier syscall support checking linux membarrier.h exists sufficient may exist support command fix moving check configure.py check presence identifier message avi scylladb.com,,
2978,5870745d94ce5d2845bf249953bffb886cf2996f,omasz Grabiec <tgrabiec@scylladb.com>, 2017-12-14 10:44:36 +0100, , merge improve newer linuces avi starting linux 4.14 membarrier system call support new mode broadcasting memory barrier within process emulating mprotect new system call command faster work arm lock contention patchset add compile time run time detection command available http github.com avikivity seastar membarrier add use implement using membarrier,,
2979,9192a0c1414b1a9c3961932d9ddd34d7a56a1d79,vi Kivity <avi@scylladb.com>, 2017-12-13 18:23:48 +0200, , implement using membarrier starting linux 4.14 linux membarrier syscall expedited option sends ipis cpu host active thread process faster current mprotect method work correctly arm importantly doe trigger lock contention kernel detect facility compile time run time use available strace show new syscall 4029 22.113276 membarrier 0.000006,,
2980,c5fcb318e444eed1cf97e068979b1225a238449b,vi Kivity <avi@scylladb.com>, 2017-12-13 17:40:08 +0200, , add use current implementation cause contention kernel protect trylock however new implementation using membarrier system call doe cause contention trylock becomes unnecessary cause contention allow adding new membarrier implementation move trylock api api elide lock unneeded,,
2981,bbea1543a3b47b8c4e94e190cf7996403ab3ed0f,oman Gershman <romange@gmail.com>, 2017-12-13 17:43:48 +0200, , test fix input_stream close bug linecount signed roman gershman romange gmail.com message 1513179828 11587 git send email romange gmail.com,,
2982,cde5f7dcc0636dd040840fd8b6ae16dcd356e081,mnon Heiman <amnon@scylladb.com>, 2017-12-12 11:16:49 +0200, , json2code.py support swagger 2.0 format swagger 2.0 backward compatibil 1.2 patch modify json2code identify given file part 2.0 json file make similar 1.2 2.0 format expect single file api file path optionally additional file model definition json2code wrap content brace make legal json object json formatter support signed amnon heiman amnon scylladb.com message amnon scylladb.com,,
2983,2b23547560e7cbeab09c032e497896478dab502d,vi Kivity <avi@scylladb.com>, 2017-12-12 10:59:47 +0200, , merge update share class glauber fair queue provides api allows share class runtime updated date queue taken advantage  patch doe allowing caller update share class share updated calling shard ioshares github.com glommer seastar io_queue export current share class provide interface updating share class,,
2984,142bff252aa92bfa63871251762f17d1d505f00a,lauber Costa <glauber@scylladb.com>, 2017-12-09 10:19:42 -0500,371, io_queue export current share class although application usually set static share class interface exists update useful measure current share level given class fix 371 signed glauber costa glauber scylladb.com,,
2985,b2bbb75e5566ab9a77def173a25f6eafa4fc3eee,lauber Costa <glauber@scylladb.com>, 2017-11-23 18:02:20 -0500, , provide interface updating share class fair queue provides api allows share class runtime updated date queue taken advantage  patch doe allowing caller update share class share updated calling shard signed glauber costa glauber scylladb.com   return future dangling use reference,,
2986,5efa977ce85c0413013aedfa4f29f4ef126e20d2,awe Dziepak <pdziepak@scylladb.com>, 2017-12-11 14:18:30 +0000, , merge resumable task avi currently seastar task single use reactor run destroys patchset allows task reused needed task created future similar remain single use generated looping primitive reused across loop addition adopt coroutines make use resumable task implement coroutine resumption patchset also convert primitive converting straightforward debugging using scylladb observed performance improvement tag resumable task http github.com avikivity seastar do_with reduce allocation future util reduce allocation do_until future util reduce allocation future util reduce allocation repeat future make class continuation resumable task resumable task,,
2987,73f82e29e54898beed230ba3fac5132beebc2506,vi Kivity <avi@scylladb.com>, 2017-12-05 19:46:24 +0200, , input_stream unroll input_stream consume input_stream consume two different path depending whether consumer returned ready non ready future path redundant future also two path also todo deferring many loop executed outer repeat already doe consolidate two path one message avi scylladb.com,,
2988,b32247edbea8f9a140df12a1c23dce498048b805,vi Kivity <avi@scylladb.com>, 2017-12-06 16:21:50 +0200, , do_with reduce allocation unify allocation held state task free state,,
2989,8a606ebb112c763d9efad31f4563d71462857f2d,vi Kivity <avi@scylladb.com>, 2017-10-30 17:21:04 -0700, , future util reduce allocation do_until allocate single reusable task do_until call time defer,,
2990,c4ba51950bcecdcf8f58db7c91a9bae005f214d3,vi Kivity <avi@scylladb.com>, 2017-10-30 17:20:48 -0700, , future util reduce allocation allocate single reusable task use time defer,,
2991,75013832a8b9481e2b83d1fc80a83a141854d998,vi Kivity <avi@scylladb.com>, 2017-10-26 11:36:19 -0700, , future util reduce allocation repeat allocate single reusable task repeat call time defer,,
2992,a398bda7e8d8559eb7ebd7ec0a410b9bf0e29d0f,vi Kivity <avi@scylladb.com>, 2017-10-26 11:24:08 -0700, , future make class continuation resumable add support resuming continuation splitting base class add future_state class task continuation add lambda process state class enhance future set_callback method allows chaining future resumable task,,
2993,7200e6a5dbf1cf4859d34690bee1f3b566ad4a9c,arek Waszkiewicz <ext-marek.waszkiewicz@here.com>, 2017-12-07 23:47:49 +0100, , net adding yaml based parser network configuration supporting multiple interface patch doe affect existing config option yet would follow soon signed marek waszkiewicz ext here.com message 1512686869 22817 git send email gmail.com,,
2994,791984c120701f1d5760dbd5f0e87d5216456c37,lad Zolotarov <vladz@scylladb.com>, 2017-11-22 12:49:01 -0500,3001, script perftune.py attempt set irqs affinity irqs list empty platform list irqs given device may empty skip irqs affinity configuration case fix 362 ref scylladb scylla 3001 signed vlad zolotarov vladz scylladb.com message 1511372941 8550 git send email vladz scylladb.com,,
2995,4d811de1463ba505935ee5060ba1526eef129866,vi Kivity <avi@scylladb.com>, 2017-10-26 11:03:00 -0700, , task resumable task currently task object single use calling task run reactor deletes task entered patch lay groundwork entering task already run moving deletion task reactor task run normally task delete running may also choose schedule avoid confusion task run renamed task run_and_dispose good candidate resumable task looping primitive like repeat coroutines,,
2996,125831ebb2f4de3ea683c2f82a44a09e4d42959f,adav Har'El <nyh@scylladb.com>, 2017-12-07 10:47:18 +0200, , tutorial fix example code example code compile captured moved value without mutable could moved example tried noticed mark.a.nelson gmail.com signed nadav har nyh scylladb.com message nyh scylladb.com,,
2997,021a2209016433b32e4b02c4ccb64363d90fc6f6,mnon Heiman <amnon@scylladb.com>, 2017-12-07 08:47:43 +0200, , http api_docs add swagger 2.0 support main difference swagger 1.2 swagger 2.0 use single file swagger definition single file make api hard maintain make harder enable bunch apis together feature useful startup swagger 1.2 api_docs class generates swagger file api table content swagger client read table content file use fetch rest api patch add swagger 2.0 support mimic behavior swagger 2.0 apis path type definition definition patch create parallel class hierarchy swagger 2.0 mutual functionality put base class api_registry_20 handler class generates unified file api_docs_20 hold different doc entry registration 2.0 done doc_entry also add dynamic api support allowing swagger definition generation dynamically signed amnon heiman amnon scylladb.com message amnon scylladb.com,,
2998,fda3b3aab61eed8dddfe479c186101676e0f1f0a,aniel Fiala <daniel@scylladb.com>, 2017-12-06 14:35:40 +0100, , support custom function reading config file signed daniel fiala daniel scylladb.com message daniel scylladb.com,,
2999,5bc7f4e949c55bf5c3bbc5384adbd4d26950683b,vi Kivity <avi@scylladb.com>, 2017-12-06 12:00:41 +0200, , revert provide interface updating share class reverts commit launch continuation without waiting,,
3000,f25ee8d5e5ba5afb4efb9abe573519fe46c20467,lauber Costa <glauber@scylladb.com>, 2017-12-04 15:27:00 -0500, , provide interface updating share class fair queue provides api allows share class runtime updated date queue taken advantage  patch doe allowing caller update share class share updated calling shard signed glauber costa glauber scylladb.com message glauber scylladb.com,,
3001,ac78eec79838d34a0ef80588b5befa96ea34d2b3,mnon Heiman <amnon@scylladb.com>, 2017-12-03 21:59:36 +0200, , json formatter add unsigned support json formatter message amnon scylladb.com,,
3002,ac0ec464a1da7dd1a82e538cc000b2ed9c6b0bd4,otond Dnes <bdenes@scylladb.com>, 2017-12-05 10:57:01 +0200, , add missing usual smart pointer method foreign_ptr make intuitive use people used expecting std style unique pointer interface add test cover new functionality change required  signed botond bdenes scylladb.com message scylladb.com,,
3003,54af71d1677804b3972c144e6e84f3ffc374567c,vi Kivity <avi@scylladb.com>, 2017-12-04 11:08:23 +0200, , future util remove use forward reference primitive primitive accept function object universal reference invoke continuation actually copy via construct action std forward asyncaction action doe forward copy make explicit accepting function object value pave way improvement primitive pas function across continuation like updated message avi scylladb.com,,
3004,dc446566ec8203fad3afa99363163cfab25cf924,vi Kivity <avi@scylladb.com>, 2017-11-30 10:36:28 +0200, , update dpdk submodule dpdk 15ba57c ... 8aa1d69 passing rootdirs one target,,
3005,b2a3ea31d095c3f3cd7e2d55b5284f474bc1d8ca,mos Kong <amos@scylladb.com>, 2017-11-29 16:26:40 +0000, , dependency use new gcc boost update package version swith use scylladb copr repo install dependency signed amos kong amos scylladb.com message scylladb.com,,
3006,98209e308d008c04b0859ac8c8a38c4ba206a7a8,mos Kong <amos@scylladb.com>, 2017-11-29 08:28:35 +0000, , test.py remove unused black_hole black_hole longer used commit 42b20cda signed amos kong amos scylladb.com message scylladb.com,,
3007,f0ab8554e58bdb97e5453c5533e25721984b1c2b,ladimir Krivopalov <vladimir@scylladb.com>, 2017-11-28 07:25:16 -0800, , util add helper add backtraces exception signed vladimir krivopalov vladimir scylladb.com message scylladb.com,,
3008,2a9dc69833b0157d9968e05826187438cf430712,vi Kivity <avi@scylladb.com>, 2017-11-25 22:07:23 +0200, , test add vruntime first test expect vruntimes equal printing make easy verify message avi scylladb.com,,
3009,76d4ac9d4542b0336963d3ae15fba359e36f5eb5,ladimir Krivopalov <vladimir@scylladb.com>, 2017-11-25 17:58:49 -0800, , fix clang build recently added io_tester app suppress missing brace warning clang build due clang bug http bugs.llvm.org show_bug.cgi 21629 signed vladimir krivopalov vladimir scylladb.com message scylladb.com,,
3010,3b09bad137b378eb5966e33e918fb8628152f44c,ladimir Krivopalov <vladimir.krivopalov@gmail.com>, 2017-11-24 19:44:48 -0800, , extend travis cover clang 5.0 build signed vladimir krivopalov gmail.com message gmail.com,,
3011,80330bb3385a3b0033d03751146cf4cd76c546ab,lauber Costa <glauber@scylladb.com>, 2017-11-24 23:22:00 -0500, , fair_queue disallow zeroed share value invalid value share also dangerously invalid sense due way calculate cost request add nan accumulator stay forever even share happen adjusted later although could document expect caller verify even throw exception easily enforce fair_queue minimum share instead class tend well behaved respect share never really felt need start adjusting share easy mistake make signed glauber costa glauber scylladb.com message glauber scylladb.com,,
3012,87b759d0462a0be57304e9c97e62b43d54090dbe,ladimir Krivopalov <vladimir@scylladb.com>, 2017-11-24 22:04:17 -0800,364, multiple fix io_tester make compile gcc rename class_data request_type class_data req_type avoid clash request_type enum explicitly specialize std hash request_type enum see http gcc.gnu.org bugzilla show_bug.cgi 60970 explicitly use specifier calling member function lambda capturing fix 364 signed vladimir krivopalov gmail.com message gmail.com,,
3013,2337ac67972f6311723cbba82d7d3d75bed47f70,mnon Heiman <amnon@scylladb.com>, 2017-11-23 13:20:48 +0200,363, transformer create tuple explicitely older compiler support patch change tuple initialization explicit make_tuple needed implicit tuple constructor fully supported compiler fix 363 signed amnon heiman amnon scylladb.com message amnon scylladb.com,,
3014,186e1dfd877547ae0a77fad60de7b330cf8edec5,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2017-11-23 10:34:52 -0500, , core sstring add construction string_view like std string support explicit construction sstring std experimental string_view signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
3015,0067937d50aeaa70211409963ae31a69c009d0ae,lauber Costa <glauber@scylladb.com>, 2017-11-20 23:27:19 -0500, , io_tester enhanced fair queue tester fair queue tester useful tool testing subsystem however generic enough workload run doe provide accurate enough summary execution instance print final bandwidth latency information patch trying enhance capability current testing infrastructure better understanding upcoming change scheduler although started applying patch end result look much different found better create new file test much fair queue share also renamed io_tester test read yaml file describes various class executed class generate one job per shard configured run simplicity job instance class particular shard file 1gb big size operate job start parallel keep thing simple need define serialization rule dependency job read job read file write job either overwrite file sequentially randomly append file example output laptop disk creating initial file ... starting evaluation ... shard class big_writes share 262144 byte seq write concurrent request think time throughput 436556 lat average 5847 usec lat quantile 0.5 2678 usec lat quantile 0.95 13029 usec lat quantile 0.99 20835 usec lat quantile 0.999 246090 usec lat max 450785 usec signed glauber costa glauber scylladb.com message glauber scylladb.com,,
3016,fe19c876c34fc99e4e79a02e7f45ec43acb6921b,aphael S. Carvalho <raphaelsc@scylladb.com>, 2017-11-21 15:25:04 -0200, , fstream ignore dma_write return value consequence silently ignoring potentially creating corrupted file dma_write fulfill request file system consider error area file may left unwritten thus contain block zero look pwrite man page say return value also apply dio aio note error successful call transfer fewer byte requested happen glitch also case like device running disk space avi say short write error continue write would either succeed return true error usually enospc fix 360 signed raphael carvalho raphaelsc scylladb.com message raphaelsc scylladb.com,,
3017,7f875297b79ffd9cdc7b96be3be1a00678cb0848,leb Natapov <gleb@scylladb.com>, 2017-11-20 17:07:42 +0200,359, exception use phdr hash reactor thread boost test run non reactor thread may run reactor initialization mean race exception hack initialization crash fix using cache non reactor thread fix 359 message scylladb.com,,
3018,3512f2212633422c7529d0ac8d0394cf0eed9815,mnon Heiman <amnon@scylladb.com>, 2017-11-14 09:37:53 -0800, , test httpd use write_body reply helper function make_writer test return signed amnon heiman amnon scylladb.com message amnon scylladb.com,,
3019,bcd400536ff19cf406f4c384facbf8c8847d1348,vi Kivity <avi@scylladb.com>, 2017-11-16 19:01:41 +0200, , merge fix issue found seastar unit test ppc vlad fix make seastar unit test pas power open issue alloc_mem fails 160 shard 128gb ram configuration github.com cloudius system seastar dev test tls_test compare string nullptr test.py run test twice test.py limit shard count core thread add extra page stack enabled,,
3020,aae6b0ad15cadbf83dfcb4643225d26ef2e3ca0b,lad Zolotarov <vladz@scylladb.com>, 2017-11-15 13:01:30 -0500, , test tls_test compare string nullptr empty e.g due underlying tcp connection reset passing buf.get would nullptr strncmp cause runtime error mask actual issue patch avoid signed vlad zolotarov vladz scylladb.com,,
3021,989cd95f11214c7034d81ae5925c38a18ed165ba,lad Zolotarov <vladz@scylladb.com>, 2017-11-15 11:44:34 -0500, , test.py run test twice allocator_test run twice since registered other_tests array explicitly leave explicit registration signed vlad zolotarov vladz scylladb.com,,
3022,b5f6529fbeca523bd279dc10d7fb887cd32a59dc,lad Zolotarov <vladz@scylladb.com>, 2017-11-14 20:51:17 -0500, , test.py limit shard count limit smp count enough testing tested would avoid complicated conditioning like ensuring minimum memory amount shard signed vlad zolotarov vladz scylladb.com,,
3023,af57fe7d9cd6415468d2139f411e4f2f6a31e560,lad Zolotarov <vladz@scylladb.com>, 2017-11-14 14:18:38 -0500, , core thread add extra page stack enabled instead checking guard page take much stack size simply add extra page stack keep actual usable stack size release debug mode signed vlad zolotarov vladz scylladb.com,,
3024,78cd87fbbb044a6b84ea296aec955f923b98cba6,vi Kivity <avi@scylladb.com>, 2017-11-14 16:27:08 +0200, , merge http use output stream file amnon series change http server transfer file instead loading memory http output stream functionality series change way file transformer implemented user existing transformer behavior see scylladb scylla 2816 amnon github.com cloudius system seastar dev test httpd add test transformer http use output stream return file iostream add helper method copy one stream another reply change write_body use,,
3025,c1f2f5166719ee8541726253a38189d8d72b208b,adav Har'El <nyh@scylladb.com>, 2017-11-13 17:23:11 +0200, , tutorial section when_all add section tutorial introducing variadic variant when_all sadly verboseness may say ugliness first function clear let least describe right possibly forever given function based standard one vector variant function yet explained signed nadav har nyh scylladb.com message nyh scylladb.com,,
3026,bc278c07fec6a0e1f9727237497b49c6ea992e8e,vi Kivity <avi@scylladb.com>, 2017-11-13 16:51:54 +0200, , merge power8 related change left vlad series includes patch needed making seastar work power8 platform still merged seastar master tree seastar power8 github.com cloudius system seastar dev core resource extend insufficient memory error message core cacheline.hh use correct macro ppc64 platform reactor io_queue increase _max_classes 2048 thread complete core thread fix unwind information seastar thread work ppc core memory define huge page size platform dependent way core add seastar internal cpu_relax,,
3027,b31526b145b75eeca3b1f43948bd82809a7655ce,lad Zolotarov <vladz@scylladb.com>, 2017-09-14 15:33:27 -0400, , core resource extend insufficient memory error message signed vlad zolotarov vladz scylladb.com,,
3028,5f4041a74630042764cd9e4da0bf9e2addf9b530,lad Zolotarov <vladz@scylladb.com>, 2017-09-14 15:32:39 -0400, , core cacheline.hh use correct macro ppc64 platform signed vlad zolotarov vladz scylladb.com,,
3029,9d9616a59e80b3a591e2491757774ba8a6f5de6a,lad Zolotarov <vladz@scylladb.com>, 2017-09-13 10:55:14 -0400, , reactor io_queue increase _max_classes 2048 1024 enough 160 shard system signed vlad zolotarov vladz scylladb.com,,
3030,07a841b7d231e265ce556d459641bbebcf9f1512,lad Zolotarov <vladz@scylladb.com>, 2017-07-03 17:24:15 -0400, , thread complete core thread fix unwind information seastar thread work ppc add corresponding ppc specific assembly line signed vlad zolotarov vladz scylladb.com,,
3031,0262c3863d6ad6acb4600deb723422f148f5390a,lad Zolotarov <vladz@scylladb.com>, 2017-06-29 14:51:47 -0400, , core memory define huge page size platform dependent way set seastar memory huge_page_size platform specific value signed vlad zolotarov vladz scylladb.com,,
3032,02294f693766332b4ab24260a6c09ee71cca61fc,lad Zolotarov <vladz@scylladb.com>, 2017-06-28 09:45:42 -0400, , core add seastar internal cpu_relax function called want cpu relax tight loop e.g spinlock code signed vlad zolotarov vladz scylladb.com,,
3033,11ad0b1caf912add511bc87a380e36617128410a,omasz Grabiec <tgrabiec@scylladb.com>, 2017-11-09 12:04:48 +0100, , fix compilation error gcc 7.1 std function marked noexcept version standrad library triggering static_assert deferred_action use instead message 1510225488 31282 git send email tgrabiec scylladb.com,,
3034,4303b6b759d8c1abd2d628bb1da60c51884b9d49,uarte Nunes <duarte@scylladb.com>, 2017-11-09 00:24:24 +0000, , core gate add is_closed function return whether gate closed signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
3035,69ed3a71ef747a2dbcf738fe781b8aa9f40b34ab,os Guilherme Vanz <guilherme.sft@gmail.com>, 2017-11-01 00:02:15 -0200, , doc code formatting fix function call fix little code formatting issue text add missing namespace call method signed jos guilherme vanz guilherme.sft gmail.com message guilherme.sft gmail.com,,
3036,4bd52406cccf7d6fb8c33322efeec7ebcdd4a55b,os Guilherme Vanz <guilherme.sft@gmail.com>, 2017-10-26 23:37:45 -0200, , doc tutoral code formatting paragraph showing source code tutorial.md formatting problem root cause programming language flag beginning code block cpp signed jos guilherme vanz guilherme.sft gmail.com message guilherme.sft gmail.com,,
3037,9a6e810411eb86b8fdc1b7c973340b32bb71f01f,vi Kivity <avi@scylladb.com>, 2017-11-08 16:26:32 +0200, , build adjust wno error cpp clang clang spell wno error warning message avi scylladb.com,,
3038,b67570d4d03684e33601e78d8202ea7afe90cdec,vi Kivity <avi@scylladb.com>, 2017-11-08 12:55:27 +0200, , build error preprocessor warning similarly deprecated warning message avi scylladb.com,,
3039,fdb33064c906f1ec43ae9c7fd23a44552a049941,uarte Nunes <duarte@scylladb.com>, 2017-11-07 15:25:10 +0000, , merge enhancement allocation failure injector tomasz tag tgrabiec alloc failure injector follow github.com scylladb seastar dev replace log backtrace failure extract fail,,
3040,6053d839f20b9d099e45f73e34070c6c7b6daeee,omasz Grabiec <tgrabiec@scylladb.com>, 2017-11-07 12:49:58 +0100, , replace inherently unsafe user manually restore default callback test easy forget requires thought safely better api,,
3041,479ec44215a31039128db22955a579a5e0a126ba,omasz Grabiec <tgrabiec@scylladb.com>, 2017-11-07 12:48:47 +0100, , log backtrace failure useful debugging incorrect behavior triggered injected failure,,
3042,69746b1a7169713a2e964178a410dcd43e851654,omasz Grabiec <tgrabiec@scylladb.com>, 2017-11-07 13:05:37 +0100, , extract fail,,
3043,7f099002202c84a4205d80acf3a8cb5847ec0f4b,mnon Heiman <amnon@scylladb.com>, 2017-11-04 16:46:08 -0700, , test httpd add test transformer patch replaces http transformer test new output stream format add sink helper class make output stream collect evertyhing allowing verify output test check replacement done specific file extenstion different edge case helper function added load trnsformer buffer fragment signed amnon heiman amnon scylladb.com,,
3044,f5843eb552b066c91001cff5c08a896936953892,mnon Heiman <amnon@scylladb.com>, 2017-10-09 16:21:09 +0300,2816, http use output stream return file reading entire file consume lot memory patch change way file streamed http server instead reading entire file assign reply string write_body stream option used file_handler support transformer allows user handler modify file currently one transformer doe string replace patch also change way transformer behave existing code continue work act factory class output_stream different transformer inherit would wrap output stream new stream would transformation implementation content_replace modified user class would get result new file_handler behavior efficiently transformation helper class act simple final state machine added buffer_replace optimized key format buffer_replace hold set key value replace replace method get search opening brace find would follow key stop comparison fails doe take additional space searching key doe hold key advance parser would test intentionally removed added next patch see scylladb scylla 2816 signed amnon heiman amnon scylladb.com,,
3045,5161e55eee1089d3568fb834459c64fcb4ed0284,mnon Heiman <amnon@scylladb.com>, 2017-10-10 17:59:31 +0300, , iostream add helper method copy one stream another patch add copy method get input stream output stream consumes input stream pas content output stream helper struct used consume method compilation time optimization template initilized fstream.cc signed amnon heiman amnon scylladb.com,,
3046,8040cabaee62cf024ef8b9923d3f90661c0884ef,omasz Grabiec <tgrabiec@scylladb.com>, 2017-11-03 17:26:17 +0100, , util introduce support allocation failure injection intended used test verify exception safety default compiled add overhead enable run configure enable alloc failure injector message 1509726377 28245 git send email tgrabiec scylladb.com,,
3047,f494dadda4898eff80da097012967e2c2b4cb1cb,arek Waszkiewicz <marek.waszkiewicz77@gmail.com>, 2017-11-05 23:26:27 +0100, , adding dpdk port index command line option default value dpdk order use certain network interface unbound kernel bound dpdk dpdk mulitple interface bound therefore need option select particular one possible sceanario would vanilla dpdk application seastar app running paraller port index index starting interface bound dpdk shown dpdk setup.sh message 1509920787 4431 git send email gmail.com,,
3048,7e1a8421a4235424baa39bf83860ba60b272a091,omasz Grabiec <tgrabiec@scylladb.com>, 2017-11-03 10:17:46 +0100, , core sharded introduce invoke_on_all used replicate state current instance ignored user manually reduces boilerplate code make code clearer message 1509700666 9809 git send email tgrabiec scylladb.com,,
3049,b8ab386c338636f8d578ac395bb4152ea5487899,mnon Heiman <amnon@scylladb.com>, 2017-10-09 14:19:35 +0300, , reply change write_body use better alternative write_body support using uniqe_ptr useful case user function want keep original request change implementation use instead std function signed amnon heiman amnon scylladb.com,,
3050,9f733a47a9b26fda808e48123c253510fe30e497,vi Kivity <avi@scylladb.com>, 2017-10-30 13:27:06 -0700, , improve support capturing mutable lambda mutable lambda expose non const operator must const cast captured object message avi scylladb.com,,
3051,d71922cfc41d1fe5c66e31bc534bdaeaaec034c2,akuya ASADA <syuu@scylladb.com>, 2017-10-20 08:58:53 +0900, , configure.py add wno sign compare compile boost.test gcc compile seastar boost 1.63 need disable sign compare warning following compile error message test 118 required opt scylladb include boost test tool old impl.hpp 107 error comparison signed unsigned integer expression werror sign compare return left right  signed takuya asada syuu scylladb.com message 1508457533 13267 git send email syuu scylladb.com,,
3052,e876c357a7be84b2811c82b338931b68ac36f91e,omasz Grabiec <tgrabiec@scylladb.com>, 2017-10-20 10:54:33 +0200, , log print nested exception example std std runtime_error msg1 afer std std runtime_error msg1 std msg2 message 1508489673 16885 git send email tgrabiec scylladb.com,,
3053,295a4e4cd59362ba91c19d87f2c4068237087e5e,aphael S. Carvalho <raphaelsc@scylladb.com>, 2017-10-11 22:27:38 -0300, , reactor account non idle activity total idle time calculation basically idle_end set task completion time state even idle calculation load metric would wrong total idle time would account non idle activity load drop ground reactor really busy result problem introduced reported glauber costa glauber scylladb.com signed raphael carvalho raphaelsc scylladb.com message raphaelsc scylladb.com,,
3054,775a8202a2418848f3decf6920d49b55dd3bb101,vi Kivity <avi@scylladb.com>, 2017-10-17 19:46:11 +0300, , execution_stage defer execution aggressively instead accumulating 128 task flushing flush immediately since flush run immediately schedule execution batch later task already queued opportunity increase batch size hand current behavior batch smaller 128 deferred next poll task_quota future since operation require many stage end increasing latency nr_stages task_quota presence cpu hog early flush latency kept task_quota message avi scylladb.com,,
3055,b14af2cbdef492b30fb6f49bdbd456bdbb507745,otond Dnes <bdenes@scylladb.com>, 2017-08-29 17:14:49 +0300, , fix wreturn type warning signed botond bdenes scylladb.com message scylladb.com,,
3056,9c5f06f4a908b4274c791b5c15f3ff077b8eb36a,aphael S. Carvalho <raphaelsc@scylladb.com>, 2017-10-13 14:56:09 -0300, , cpu scheduler make wider avoid overflow problem reciprocal share calculation result overflow share 1.0f later mess calculation vruntime uint64_t _shares signed raphael carvalho raphaelsc scylladb.com message raphaelsc scylladb.com,,
3057,348fc38004257c6dbffea76c2576fc57caba68e3,mnon Heiman <amnon@scylladb.com>, 2017-10-09 18:10:56 +0300, , add bool operator std function check set behave true set false patch add bool operator signed amnon heiman amnon scylladb.com message amnon scylladb.com,,
3058,daa44a8dc4a93b406ee2cc977a0dd49216a72184,vi Kivity <avi@scylladb.com>, 2017-10-04 18:07:09 +0300, , execution_stage make return named type fact return unnamed type auto make hard store execution stage object turn make hard use execution_stage need initialized outside static context fix using type erase stage function type depends return type argument type function object type impact performance expected nil exactly reason work well first iteration seed processor branch target buffer subsequent iteration use cached branch target message avi scylladb.com,,
3059,07ef008e2b2180dd8e9b097f0aa28cc6ec86c3db,vi Kivity <avi@scylladb.com>, 2017-10-05 15:19:32 +0300, , memory support overriding default allocator page size increasing allocator page size increase memory overhead reduces fragmentation message avi scylladb.com,,
3060,82f63e098521e3c645c199d6fe108ebc07bb771d,vi Kivity <avi@scylladb.com>, 2017-10-05 15:19:31 +0300, , memory fix crash startup large page_size due pointer game page_size large end zero sized span free crash check avoid free zero sized span message avi scylladb.com,,
3061,a50db4ed2c939fdea294fd563d498f77e10b8728,i Fanxi <lifanxi@hotmail.com>, 2017-10-09 16:08:39 +0800, , core io_destroy missing destructing reactor cause io_context leak signed fanxi lifanxi hotmail.com message lifanxi hotmail.com,,
3062,8babd1fb7597ca8192b1e6b01f365c7722282233,ladimir Krivopalov <vladimir.krivopalov@gmail.com>, 2017-10-03 20:24:35 -0700, , enhanced support travis build without dpdk support use varioius compiler gcc signed vladimir krivopalov gmail.com message gmail.com,,
3063,e60afd24a1f120dab50959748fe58a8791ae4e0d,otond Dnes <bdenes@scylladb.com>, 2017-10-04 14:41:04 +0300, , backtrace allow whitespace backtrace address terminal may fill padding space copying text allow arbitrary amount whitespace backtrace line signed botond bdenes scylladb.com message scylladb.com,,
3064,aee3c4648d82ae0bf5691e1bcbdf4f0b937306d7,vi Kivity <avi@scylladb.com>, 2017-10-04 15:01:02 +0300, , test.py fix typo,,
3065,5feec6d835bc791dc76a2534ce54a88ae80387bc,vi Kivity <avi@scylladb.com>, 2017-10-04 10:44:37 +0300, , utils introduce like std function work noncopyable type message avi scylladb.com,,
3066,d115a2ab96d0eda19f7ab68348dfa632db504b2e,vi Kivity <avi@scylladb.com>, 2017-10-04 14:41:56 +0300, , revert utils introduce reverts commit build older compiler,,
3067,81391408b926be0eb759bab8afa7245d59c2b804,vi Kivity <avi@scylladb.com>, 2017-10-04 10:44:37 +0300, , utils introduce like std function work noncopyable type message avi scylladb.com,,
3068,97645a5e7ac2de3143df3b2aa881831ff2293982,otond Dnes <bdenes@scylladb.com>, 2017-09-25 10:34:56 +0300, , add seastar addr2line helper script decode backtraces seastar addr2line wrapper around addr2line tool decodes seastar backtraces pass addr2line decoding fact passing right executable along address signed botond bdenes scylladb.com message scylladb.com,,
3069,685d0353624b3fc063285443cd41b73bf11bd99b,vi Kivity <avi@scylladb.com>, 2017-10-03 14:01:51 +0300, , execution_stage pas constructor one variant forgot pas scheudling group message avi scylladb.com,,
3070,818d42669207ba33b694ec00e998b585906b2bbf,vi Kivity <avi@scylladb.com>, 2017-10-03 11:38:54 +0300, , reactor preempt task signal received signal received preempt running task signal processed quickly important high precision timer used thread set next wakeup point fix clear scheduler broke could extraneous poll removed triggered problem case deprecated soon message avi scylladb.com,,
3071,c62bbf9ca7b8a09941586e40645177fcf1bffd72,omasz Grabiec <tgrabiec@scylladb.com>, 2017-10-02 17:40:24 +0200, , merge cpu scheduler seastar avi important seastar application i.e scylla mix foreground user serving task background maintenance task seastar already allows isolation different type task via scheduler also allows isolating cpu time supported thread fiber scheduler roughly follows linux completely fair scheduler http github.com avikivity seastar isched introduce reactor introduce scheduling future utils introduce thread support execution_stage add support test add scheduling group demo,,
3072,e91c048e0bca5bb9c4a7c35954c3084509f01623,vi Kivity <avi@scylladb.com>, 2017-10-01 15:06:14 +0300, , reactor set sched_fifo policy timer thread allows reducing task quota even message avi scylladb.com,,
3073,c1fe7d150f6522d899bc008968783a7de8d5e7fc,omasz Grabiec <tgrabiec@scylladb.com>, 2017-10-02 11:54:24 +0200, , future mark future wait noexcept used implement blocking future get used seastar thread reason fail message 1506938064 8001 git send email tgrabiec scylladb.com,,
3074,0bab29d3f2ee55ce1ccb4bce651bffb302f24c3e,omasz Grabiec <tgrabiec@scylladb.com>, 2017-09-26 11:29:58 +0200, , shared_promise make const qualified message 1506418198 32524 git send email tgrabiec scylladb.com,,
3075,17aa700ff64a68b5ebc5eb8112f4860031b5a569,vi Kivity <avi@scylladb.com>, 2016-12-17 23:06:26 +0200, , test add scheduling group demo demo test concurrent task different scheduling group competing one scheduling group contains thread two others contain regular task,,
3076,95ea249157e40cfee9ac8ecb56b0fba59bc31dfd,vi Kivity <avi@scylladb.com>, 2017-07-30 16:10:59 +0300, , execution_stage add support allow associating execution stage scheduling group task run stage accounted scheduling group,,
3077,c87e1bd75dfd944eb094e2abed58e47871cacfa9,vi Kivity <avi@scylladb.com>, 2017-07-25 15:01:05 +0300, , thread support currently time quota live side side remove quota soon,,
3078,627223e5878bd54d39be5fe55951fa2826743c9a,vi Kivity <avi@scylladb.com>, 2017-07-25 14:56:14 +0300, , future utils introduce given function scheduling group convert function run correct task queue useful passing lambda non enabled function,,
3079,98630451a2b97ef37e95895ae2f4a43fa7017d92,vi Kivity <avi@scylladb.com>, 2017-07-25 14:45:51 +0300, , reactor introduce scheduling instead single queue task run allow user create multiple task queue associated weight scheduler try run task different queue overall runtime distributed according assigned weight currently way tag task make_task add method future patch,,
3080,b2af9598d4e79510dd7e6ae3bc126b180bfacdcc,vi Kivity <avi@scylladb.com>, 2017-07-24 19:33:24 +0300, , introduce similar std deque seastar circular_buffer fixed capacity,,
3081,d7787ebef970302bcd6e115d3ec745f12b6175b2,ladimir Krivopalov <vladimir.krivopalov@gmail.com>, 2017-09-26 22:37:37 -0700, , remove pessimizing redundant std move reported clang tidy utility signed vladimir krivopalov gmail.com message gmail.com,,
3082,4e971fa98c6856b5008107d44ede6d680c2555bc,ladimir Krivopalov <vladimir.krivopalov@gmail.com>, 2017-09-24 21:46:47 -0700,338, work around gcc bug scylladb seastar 338 scylladb seastar 339 fix prevents running std tuple construction failure constructor stored type expects unique_ptr base class unique_ptr derived class passed original code compiles fine gcc later restored seastar migrates entirely newer compiler fix 338 signed vladimir krivopalov gmail.com message gmail.com,,
3083,899fc4e74eef199f7643b1d9601b17310058efbd,mnon Heiman <amnon@scylladb.com>, 2017-09-28 15:45:45 +0300,2770, scollectd increment metadata iterator value metadata iterator point metric specific metric metric family metric differ label shard metric family name shard sent label see scylladb scylla 2770 signed amnon heiman amnon scylladb.com message amnon scylladb.com,,
3084,b84f1f24ea494348190ae6c9c391a0d0803cffc9,ladimir Krivopalov <vladimir.krivopalov@gmail.com>, 2017-09-27 22:44:42 -0700, , enable travis build seastar fix introduces support continuous integration seastar using travis http travis ci.org build run isolated google compute engine virtual machine offer vanilla build environment every build ubuntu 14.04 trusty tahr used underlying signed vladimir krivopalov gmail.com message gmail.com,,
3085,baf723cf806121d067d8d76d924b481bd79252ce,ladimir Krivopalov <vladimir.krivopalov@gmail.com>, 2017-09-27 22:25:03 -0700,326, test fix httpd test compilation error caused unconditionally explicit tuple constructor gcc5 scylladb seastar 326 tuple variadic constructor declared explicit prohibits direct initialization container tuples curly braced syntax relaxed conditionally explicit gcc accept syntax gcc fails signed vladimir krivopalov gmail.com message gmail.com,,
3086,e993e0e431c470da07c2951c256ac749588af5e2,lad Zolotarov <vladz@scylladb.com>, 2017-09-11 09:21:10 -0400, , core shared_future add available failed method allow synchronous non throwing non allocating check whether shared_future available whether failed signed vlad zolotarov vladz scylladb.com message 1505136070 13853 git send email vladz scylladb.com,,
3087,35095449e41c1062415a02862c41cc8501788bc0,leb Natapov <gleb@scylladb.com>, 2017-09-19 17:12:25 +0300, , rpc make sure _write_buf stream always properly closed currently _write_buf closed send loop exists error happens client closed deliberately negotiation send loop started _write_buf never closed although used sending negotiation frame flushed closed otherwise assertion _in_batch failed may happen fix moving stream closing end send loop code always called client shutdown message scylladb.com,,
3088,57ae29dccb51d5cc69ee36ad67e224c92d0def31,omasz Grabiec <tgrabiec@scylladb.com>, 2017-09-20 12:16:11 +0200, , log fail attempt register logger name twice second attempt would override entry logger level manipulation affect one instance reject attempt case introduced message 1505902571 5344 git send email tgrabiec scylladb.com,,
3089,1ee2be13ae0c3deb1de04a810b1008851f7fca3e,vi Kivity <avi@scylladb.com>, 2017-09-18 17:01:47 +0300, , merge make backtraces useful aslr enabled machine well botond print backtraces following format 0x44602b0 lib x86_64 linux gnu libc.so.6 0x145d23 0x446195e standalone address address executable first line address path prepended address shared object appended fix 334 bdenes backtrace http github.com denesb seastar convert instruction pointer shared object relative address move backtrace related code utils backtrace.cc,,
3090,a27df0a492e3240f88d7a0e2865e735ea572930f,otond Dnes <bdenes@scylladb.com>, 2017-09-05 09:23:27 +0300, , convert instruction pointer shared object relative address,,
3091,9d2e77339088a5f369533a585591c26a3886bfef,otond Dnes <bdenes@scylladb.com>, 2017-09-18 15:32:32 +0300, , move backtrace related code utils backtrace.cc,,
3092,91919596e0d260d846d46f4fea554c8ad5efd9f5,vi Kivity <avi@scylladb.com>, 2017-09-16 18:49:41 +0300, , reactor add option bypass fsync consumer drive fsync slow thus confound performance testing add option bypass message avi scylladb.com,,
3093,b0ffd316255629fdc03f8570043a757a168e1b5c,vi Kivity <avi@scylladb.com>, 2017-09-14 17:31:42 +0300, , future util modernize do_until implementation bring do_until implementation line modern variant like repeat make easier modify scheduling group message avi scylladb.com,,
3094,89b52e80044055d4221a623520ab8f6b91087a20,vi Kivity <avi@scylladb.com>, 2017-09-14 17:31:41 +0300, , future util fix do_until api forwarding reference implementation copy lvalues rather forward multiple caller depend also saner fix api use forwarding reference instead assume move require caller need reference semantics use std ref message avi scylladb.com,,
3095,765f85eecf68a188fd26ead10ae77d1c54bd16bd,vi Kivity <avi@scylladb.com>, 2017-09-14 15:14:59 +0300, , input_stream add rvalue variant input_stream consume easier use lambda wrapper probably become variant caller need use lvalue reference using std ref explicitly message avi scylladb.com,,
3096,f7ca4ee527dc1bc142c72f8b6e2ae1dfebd1b30f,vi Kivity <avi@scylladb.com>, 2017-09-14 12:25:22 +0300, , logger remove extra space timestamp rename timestamp function make clear supply extra space move timestamp delete two printed space message avi scylladb.com,,
3097,674115d43d9cf674906e354bd230f8a56b618c86,adav Har'El <nyh@scylladb.com>, 2017-09-13 13:23:25 +0300, , tutorial lifetime management explain lifetime management important asynchronous application offer extensive page survey seastar lifetime management mechanism capture move copy do_with reference shared pointer use correctly signed nadav har nyh scylladb.com message nyh scylladb.com,,
3098,24d54bb1ca2a668a674a032443b8ab9aacfa9f4c,ames Corey <jc-git@neniam.net>, 2017-09-11 16:08:01 -0700, , fix broken link fsqual failure message existing error message iotune lead broken 404 link replaced working link seems like reasonable substitute message 11c08b3c 366f 4e1d a3a3 f860bebae038,,
3099,92fdce2a4a361e640f5ab6cbda6454e8d56b675c,vi Kivity <avi@scylladb.com>, 2017-09-11 15:00:34 +0300, , shared_ptr allow incomplete class lw_shared_ptr introduce new header addition extension point allows using incomplete class lw_shared_ptr based idea tomasz message avi scylladb.com,,
3100,2b983c2db4d5ed307f1075d4f952e6538053c9f3,ladimir Krivopalov <vladimir.krivopalov@gmail.com>, 2017-09-07 20:00:50 -0700, , update dpdk 17.05 signed vladimir krivopalov gmail.com message gmail.com,,
3101,77007ca319bba76f5d3750fac44bc276e9eddaac,uriy Taraday <yorik.sar@gmail.com>, 2017-09-08 06:21:31 +0400, , future pas func mutable lambda arg _type func const use mutable closure lambda example construct like future sometype return run_smth std exception mutable  std cerr failed std endl   fails error dropping const qualifier calling lambda message 1504837291 8739 git send email yorik.sar gmail.com,,
3102,31b925df3af767b099a694d3cfd8f9e030d0b757,ichael Munday <mike.munday@ibm.com>, 2017-09-06 20:02:30 +0100, , net byteorder fix bit ntohq htonq big endian machine predefined gnu preprocessor macro detect endianness seems portable enough htonq call ntohq since identical implementation message mike.munday ibm.com,,
3103,1012a6ccd96ec4127e5ffc102f398b50f2c8ea2b,ichael Munday <mike.munday@ibm.com>, 2017-09-06 19:33:35 +0100, , core util fix compilation non x86 processor non x86 processor _mm_pause intrinsic might want investigate way improve spinlock performance processor point removing pause sufficient message mike.munday ibm.com,,
3104,cf37c9f9d972a4d493e83e6e331d74f7c774d284,omasz Grabiec <tgrabiec@scylladb.com>, 2017-09-06 18:53:47 +0200, , core memory fix sigsegv small_pool update data outer scope used fall introduced f8497c2 caught row_cache_test scylladb message 1504716827 28064 git send email tgrabiec scylladb.com,,
3105,5157cd888657a368e40a65b3696bd726dc797b86,vi Kivity <avi@scylladb.com>, 2017-09-06 18:56:47 +0300, , log remove debug leftover,,
3106,d55c7311f7d0f7f68ab7fae280eb6338cc28edcb,vi Kivity <avi@scylladb.com>, 2017-09-06 16:55:37 +0300,332, merge state machine fix calle  three previously independtly sent patch put series fix 333 fix 332 fix exception safety certification verification handshake fix handshake blocking accepts moving handshake logic first simplyfy output per suggestion gleb bypassing delayed error gnutls manage seastar level fully calle fix github.com cloudius system seastar dev make put push mechanism operate opportunisticly move handshake logic outside connect accept make sure handshake exception futurized tls_test add standalone echo client server program scollectd fix merge skew disabled descriped metric patch,,
3107,ec5ca3a0e4d63ff5265c27d7c12dfd16679403d0,alle Wilund <calle@scylladb.com>, 2017-09-05 12:17:18 +0000, , make put push mechanism operate opportunisticly based poc patch gleb modifies implementation push always report success long actually issue put underlying sink instead require always ensure previous output finished issuing next course also wait unfinished one return conceptually mean bypass gnutls error checking handling delayed error generated continuation since keep track error state internally plus gnutls doe really benign error recovery really issue return get better approximation bsd select write note handshake still interuption mechanism since syncs semaphore anyway note outbound required leave release semaphore output_pending future available unless error state,,
3108,5832c7f94ea1c38f0c8b7f468702c9923157947f,alle Wilund <calle@scylladb.com>, 2017-08-30 08:40:38 +0000,332, move handshake logic outside connect accept fix 332 make handshake operation run first read write instead explictly connect accept ensures hang connect accept remote point non reponsive also modify shutdown handshake always run either sink source close last session ref use explicit reply management i.e send simple bye handshake shutdown_wr explicitly wait eof message end instead cooperates better safer stuck read,,
3109,cff53f9ee3dc5ceb7e4ae3bc89205128e27a576c,alle Wilund <calle@scylladb.com>, 2017-08-29 16:50:54 +0000,333, make sure handshake exception futurized fix 333 verify check cert validity throw error need catch futurize make caller deal former easier,,
3110,5e5fbca70785e776c5789a58de068016fc797b2f,vi Kivity <avi@scylladb.com>, 2017-09-05 17:41:31 +0300, , logger allow adjusting timestamp style stdout log allow selecting real time default boot time microsecond precision good scheduler debugging none message avi scylladb.com,,
3111,ae60147fcda047de52db19cb2f9fb0c2c010a473,ichael Munday <mike.munday@ibm.com>, 2017-09-06 00:44:23 +0100, , thread make thread_context s_main portable platform e.g ibm abi requires argument sign zero extended register width appropriate type mean signed unsigned argument used interchangeably since compiler assume explicitly zero extend unsigned argument sign extend signed argument s_main called indirectly caller assumes take signed ints s_main must accept signed int argument expects unsigned ints thread_context pointer rematerialized correctly message mike.munday ibm.com,,
3112,306929e4549fd30644f522380286246dc405b5ac,ichael Munday <mike.munday@ibm.com>, 2017-09-06 01:24:29 +0100, , core add seastar cache_line_size constant cache line size used alignment padding varies architecture change replaces hardcoded instance cache line size byte x86 new seastar cache_line_size constant set appropriately target architecture added value x86 power 128 ibm 256 important note gcc required cache line size 128 byte considered aligned message mike.munday ibm.com,,
3113,194aa571803bcdad2d27dfd1ef10772f715fb787,otond Dnes <bdenes@scylladb.com>, 2017-09-05 19:02:30 +0300, , add detach input_stream output_stream detach detaches return underlying data_source data_sink stream make easier write custom data_sink_impl class wrapping existing stream object signed botond bdenes scylladb.com message scylladb.com,,
3114,7a3011e10d8f5de56814f8f1b1aa775ef20d629b,alle Wilund <calle@scylladb.com>, 2017-08-29 16:00:16 +0000, , tls_test add standalone echo client server program test ssl echoing ... echoing ... echoing ...,,
3115,f2771f6303e3dc9508d5ec3272ad2bc8cad45237,alle Wilund <calle@scylladb.com>, 2016-08-08 17:20:11 +0000, , scollectd fix merge skew disabled descriped metric patch i.e fix also handle forward description,,
3116,ce37fd0ef484d6216c2030bd9f7e3992b2050e13,ladimir Krivopalov <vladimir.krivopalov@gmail.com>, 2017-08-31 20:24:27 -0700, , install dependency arch linux signed vladimir krivopalov gmail.com message gmail.com,,
3117,21dba46636d978ea545d73f153a541267827f083,alle Wilund <calle@scylladb.com>, 2017-08-29 09:07:11 +0000,331, guard non established socket sesrefs explicit close state fix 330 fix 331 make sure hold non finalized socket wrap function session_ref ensure close pre last release since handshake use underlying sink source might prudent perform shutdown procedure also keep track handshake error state bypass shutdown handshake case error non.established also make sure hard source sink close even handshake successful make sure underlying socket good state add small test non responsive closed server client connect message calle scylladb.com,,
3118,8bab8223c05aea2f6804abbaa72a20bc388a8ebc,alle Wilund <calle@scylladb.com>, 2017-08-29 10:48:21 +0000,325, make vec_push fully exception safe fix 325 ensure thrown exception propagated gracefully message calle scylladb.com,,
3119,703b4593b74afa3673527d62736cdaa6635169ef,alle Wilund <calle@scylladb.com>, 2017-08-30 14:15:22 +0000, , basic_sstring resize sstring course use template type basic_sstring message calle scylladb.com,,
3120,a18b1c0a4ac21a383e2a14458535a6a2d1f456e6,awe Dziepak <pdziepak@scylladb.com>, 2017-08-30 10:01:23 +0100, , merge add correct unit test jesse series add basic test really example tuple_utils.hh corrects test.py includes previously added test jhk test http github.com hakuch seastar test.py add missing test util tuple_utils.hh add basic test,,
3121,d93f987511cbeebd1329dea7120866b9e72a21a7,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2017-08-29 13:45:15 -0400, , test.py add missing test included change,,
3122,b60dd3e6c1ff5202cb2501e1d52089272199aace,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2017-08-28 11:26:07 -0400, , util tuple_utils.hh add basic test,,
3123,0b8b851b432a1d04522a80d9830e07449d71caa2,awid Jurczak <dawid_jurek@vp.pl>, 2017-08-28 10:37:23 +0200, , tcp enforce byte maximum segment invariant zero window patch fix bug tcp native stack lead frozen transfer big file uploads scenario explained previous patch following thing must done path send tcp segment payload zero window path get ack zero window zero window probing treat duplicated ack kernel rely packets_out bypassing check summarizing patch condition introduced previous patch broken anymore upload frozen anymore message dawid_jurek vp.pl,,
3124,125d423b81f208e5cafd919e203e2d39f2e2f755,awid Jurczak <dawid_jurek@vp.pl>, 2017-08-28 10:37:22 +0200, , tcp verify byte maximum segment invariant send zero window patch reveals bug tcp native stack lead frozen transfer big file uploads consider following scenario sender native stack uploads big file receiver posix stack tcp network fast receiver writes file disk amount physical memory small disk slow point time receiver due limited memory slow hdd read data tcp connection scenario sender wait notification receiver may continue file upload obtaining notification sender upload rest file transfer successfully completed tcp posix stack scenario work expected unfortunately native stack broken lead sender stuck receiver read data following sequence event occur receiver enters congestion state sends sender segment zero window sender recieves zero window receiver sender enters zero window probing phase send receiver segment payload sender due bug try send much data receiver despite window still receiver ack anything still congestion state sender window grows unacknowledged seq number still sender generates enormous number dup ack event reduce number byte send 1460b upload freezed patch add condition broken step violation condition lead next step described consequence frozen upload kernel similar assert equivalent output_one never broken summarizing patch sender break assertion exit sending much message dawid_jurek vp.pl,,
3125,f8497c26a0f2578d7b14706eb0a8a513f8401126,vi Kivity <avi@scylladb.com>, 2017-08-28 11:43:19 +0300, , memory reduce small_pool vulnerability fragmentation small_pool try allocate large ish span reduce waste due bad packing however large span available fail allocation improve giving small_pool second chance allocation fails try smaller span large enough hold least one object message avi scylladb.com,,
3126,e4aa306b7858406d301148f734d0e943b6329517,mnon Heiman <amnon@scylladb.com>, 2017-08-27 18:01:30 +0300,327, prometheus avoid merging metric family prometheus server sends information shard avoid long stall shard continuation send response patch change way work instead combining metric shard beginning iteration iterator metric_family create combine metric work metric family done separate continuation part change data split hold state metric_family act facade class metric family fix 327 message amnon scylladb.com,,
3127,d58bd51168e56d01afb292dc63d6bb783b6a7a90,ladimir Krivopalov <vladimir.krivopalov@gmail.com>, 2017-08-27 23:13:36 -0700, , net fix possible null pointer dereference signed vladimir krivopalov gmail.com message gmail.com,,
3128,85ca12d0e0494e229bf617799513224fb55e1411,vi Kivity <avi@scylladb.com>, 2017-08-27 13:03:52 +0300, , merge run time logging configuration jesse possible control logging system run time command line option jhk log_cli http github.com hakuch seastar expose app_template util allow configuring application logging run time move string map cli option handling seastar add convenient logging initialization fix declaration conversion function log_level util log.cc organize include directive category util rename logging structure,,
3129,0083ee894f360735bb13e04e3e5d2ed0061b11c1,mnon Heiman <amnon@scylladb.com>, 2017-08-21 15:39:16 +0300, , http add mime type support json json used api mapped application json mime type currently mapped anything therefore default text plain type used signed amnon heiman amnon scylladb.com message amnon scylladb.com,,
3130,b9f1eb720f9f5b63e7fa92bcedc7bf55085b37af,mnon Heiman <amnon@scylladb.com>, 2017-08-15 16:55:40 +0300, , httpd indentation patch signed amnon heiman amnon scylladb.com message amnon scylladb.com,,
3131,b9bb16413c02c6e92b12f746669602a24d8b0bb3,mnon Heiman <amnon@scylladb.com>, 2017-08-15 16:55:39 +0300, , httpd handle exception shutting shutting exception ignored follow patch would handle indentation message amnon scylladb.com,,
3132,e20bddcd9e79365ad56a582bd625dbf86e3953ac,omasz Grabiec <tgrabiec@scylladb.com>, 2017-08-22 10:51:55 +0200, , stall detector allow backtrace throttling configured testing latency default value way low catch issue add way bump message 1503391915 14744 git send email tgrabiec scylladb.com,,
3133,3b190b19edec6c67ae6e84c640b1108d88267ebd,omasz Grabiec <tgrabiec@scylladb.com>, 2017-08-22 10:03:01 +0200, , stall detector fix message suppresssion appearing _ticks updated result rate limit supressed ... message printed unless reactor wake long sleep message 1503388981 12374 git send email tgrabiec scylladb.com,,
3134,2bcf72f9c03d671f0406b08bbe3d4e561e1e050f,lad Zolotarov <vladz@scylladb.com>, 2017-08-21 15:03:51 -0400, , script allow passing perftune.py configuration file parameter signed vlad zolotarov vladz scylladb.com message 1503342231 17421 git send email vladz scylladb.com,,
3135,331fba362c7b0d4a59a1a11814128857dab89cd4,lad Zolotarov <vladz@scylladb.com>, 2017-08-21 15:03:50 -0400, , script perftune.py add possibility pas parameter configuration file print yaml file current configuration allow passing script parameter yaml file command line parameter going override value given configuration file dump option file option make script print yaml file current configuration stdout signed vlad zolotarov vladz scylladb.com message 1503342231 17421 git send email vladz scylladb.com,,
3136,54c54d960593be8ecaf923eb11f2260464f66734,lad Zolotarov <vladz@scylladb.com>, 2017-08-21 09:43:41 -0400, , script perftune.py actually use number queue comparing number cpu thread script mistakenly comparing number physical core number cpu thread signed vlad zolotarov vladz scylladb.com message 1503323021 24389 git send email vladz scylladb.com,,
3137,fafd30002d25f97e0d941f7030e0717874c24d80,awe Dziepak <pdziepak@scylladb.com>, 2017-08-22 11:01:27 +0100, , core make noexcept message pdziepak scylladb.com,,
3138,0109746a70876c47c7ea4d7b47c5bb400452c4e3,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2017-08-15 14:11:33 -0400, , expose app_template object allows insertion like risk outside influence instead allows caller query existing seastar option important scylla currently defines option seastar doe,,
3139,98589ee18dc77ef490506c8850cb4932c22c2e79,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2017-08-20 14:41:20 -0400, , util allow configuring application logging run time seastar expose logging setting command line option program configure logging setting run time seastar application currently provide cli option logging need defer implementation option default log level level set default log level logger level trace debug info warn error logger log level name0 level0 name1 level1 ... example metric info gossip error set logging level one logger option specified multiple time latest setting logger overwrites previous setting log stdout true false default true log syslog true false default false help logger print sorted list available logger terminate program fix 292,,
3140,735dc123f0d86822fdc8562bb3561152c3f11748,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2017-08-18 16:40:25 -0400, , move string map cli option handling seastar code part scylla useful parsing option related logging,,
3141,fe86305c87296d6f896ce75519dbb4b5817b94fb,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2017-08-16 09:44:28 -0400, , add convenient logging initialization kind initialization borrowed almost verbatim scylla used appropriate,,
3142,793475366038feaa135aff8f4b513e0ae6e1755a,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2017-08-18 16:11:08 -0400, , fix declaration conversion function log_level,,
3143,1804d018280eeb7157c7c6375cd6753de283b9c2,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2017-08-15 09:53:52 -0400, , util log.cc organize include directive category make deciding place new directive guessing game,,
3144,b29fc73bab1d069b772e7c41d885094f6e8f9434,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2017-08-16 09:41:49 -0400, , util rename logging structure name log_registry class differentiated global logger registry singleton logger_registry confusing instead use logical name class indicate singleton  introduce relatively little churn since caller access name directly scylla access abstraction layer,,
3145,7578adf75442e7205879ab07307918d8ced14727,awe Dziepak <pdziepak@scylladb.com>, 2017-08-21 17:08:59 +0100, , memory add large allocation detector stub default allocator message pdziepak scylladb.com,,
3146,e96881a8ee568f0f65e94928ad69cf1df958094f,vi Kivity <avi@scylladb.com>, 2017-08-19 16:50:06 +0300, , memory add detector large allocation since large allocation fail cause cache eviction face memory fragmentation application try limit allocation size patch add detector assist application developer finding call site large allocation facility provided disable temporarily large allocation failure tolerated message avi scylladb.com,,
3147,c883d6620ea1f2ddeba2091e9e0ae3b8c64b6c7e,vi Kivity <avi@scylladb.com>, 2017-08-19 19:49:52 +0300, , memory reduce large allocation small pool small pool provide small object allocating large span dividing span however generous resulting waste small number object allocated vulnerability fragmentation largest span half megabyte size patch change search optimal span size longer require power two span size reduce minimum number object per span reducing amortization somewhat largest span size 64kb  objsz spansz usedobj memory wst 4096 0.0 4096 0.0 4096 0.0 4096 0.0 4096 0.0 4096 0.0 4096 0.0 4096 0.0 4096 0.0 4096 0.0 4096 0.0 4096 0.0 4096 12299 106496 7.6 4096 1738 24576 29.1 4096 171 8192 74.9 4096 8192 99.8 4096 1726 32768 15.7 4096 1692 36864 7.8 4096 2718 69632 5.9 4096 1286 40960 11.9 4096 2959 102400 7.5 4096 2779 118784 6.0 4096 1505 77824 6.8 4096 3631 208896 2.5 4096 6814 442368 1.4 4096 3374 274432 1.3 4096 1480 151552 4.7 112 4096 543 69632 11.1 128 4096 580 86016 13.7 160 8192 1619 270336 3.8 192 8192 525 114688 10.5 224 8192 280 81920 21.9 256 8192 203 73728 29.5 320 16384 364 147456 20.6 384 16384 65536 44.5 448 16384 178 114688 28.9 512 16384 328826 168394752 0.0 640 32768 98304 61.2 768 32768 260 262144 22.3 896 32768 98304 53.8 1024 32768 98304 42.7 1280 65536 145 262144 28.8 1536 65536 262144 52.1 1792 65536 204 524288 28.7 2048 65536 196608 30.2 2560 131072 262144 90.8 3072 131072 262144 11.7 3584 131072 393216 69.3 4096 131072 393216 66.7 5120 262144 524288 91.8 6144 262144 1048576 53.3 7168 262144 786432 57.4 8192 262144 116 1572864 39.6 10240 524288 1048576 65.4 12288 524288 1048576 89.1 14336 524288 1572864 67.4 16384 524288 3145728 49.5  small pool objsz spansz usedobj memory wst 4096 0.0 4096 0.0 4096 0.0 4096 0.0 4096 0.0 4096 0.0 4096 0.0 4096 0.0 4096 0.0 4096 0.0 4096 0.0 4096 0.0 4096 171 8192 83.3 4096 8192 99.7 4096 171 8192 74.9 4096 8192 99.8 4096 1632 32768 20.3 4096 1248 32768 23.4 4096 2263 61440 11.2 4096 789 28672 22.8 4096 2375 81920 7.2 4096 2598 110592 5.6 4096 1083 57344 9.0 4096 2450 143360 4.1 4096 5886 380928 1.1 4096 2680 221184 2.7 4096 945 98304 6.2 112 4096 246 36864 23.7 128 4096 367 57344 18.1 160 4096 1396 229376 0.3 192 4096 354 81920 15.5 224 4096 108 40960 39.4 256 4096 45056 44.9 320 8192 147 73728 33.9 384 8192 32768 11.7 448 4096 36864 49.8 512 4096 327335 167624704 0.0 640 12288 49152 22.1 768 12288 229 245760 28.4 896 8192 73728 74.1 1024 4096 77824 35.5 1280 20480 115 204800 28.1 1536 12288 245760 43.8 1792 16384 147456 87.5 2048 8192 155648 11.8 2560 20480 204800 90.0 3072 12288 466944 53.3 3584 28672 286720 98.8 4096 16384 311296 57.9 5120 20480 389120 89.5 6144 24576 466944 61.8 7168 28672 544768 84.2 8192 32768 622592 13.2 10240 40960 778240 97.4 12288 49152 933888 92.1 14336 57344 1089536 97.4 16384 65536 1245184 97.4 message avi scylladb.com,,
3148,6b2a736315e1a7435f030245b0466a92b9f43600,ladimir Krivopalov <vladimir.krivopalov@gmail.com>, 2017-08-19 22:40:17 -0700, , net fix potential null pointer dereference udp.cc signed vladimir krivopalov gmail.com message gmail.com,,
3149,fe211a88f6b7c1819955c057e7f052cca66e9929,vi Kivity <avi@scylladb.com>, 2017-08-17 10:02:41 +0300, , update dpdk submodule dpdk 10a8b45 ... 82e4f87 eal linux fix build glibc 2.25,,
3150,2d16acac500d6eff73b121a0ad298f4da1e48957,awe Dziepak <pdziepak@scylladb.com>, 2017-08-16 09:38:20 +0100, , fstream ignore unresolved future even _done completed read buffer may still unresolved future skip attached additional continuation fix 322 message pdziepak scylladb.com,,
3151,2a4310250d6dee1674d55e8e73337fecee261601,vi Kivity <avi@scylladb.com>, 2017-08-14 16:18:21 +0300, , merge fix crash rpc due access already destroyed server socket gleb rpc server shutting server socket destroyed shutting code run parallel accept loop socket destroyed accept loop sleeping accept try reuse already destroyed socket shutdown code destroys socket otherwise next accept may hand due bug abort_accept series fix bug abort_accept also fix crash gleb abort_accept github.com cloudius system seastar dev test add abort_accept test rpc remove redundant server_socket destruction net make future accepts fail call abort_accept,,
3152,3377e2e3c0b1bc726d441ba9e151d2e8c5302c5b,leb Natapov <gleb@scylladb.com>, 2017-08-14 15:58:18 +0300, , test add abort_accept test test calling abort_accept next accept fails error,,
3153,6200a99d8027dbf1583321449e25a21df94ab6d6,leb Natapov <gleb@scylladb.com>, 2017-08-14 15:11:55 +0300, , rpc remove redundant server_socket destruction abort_accept handle,,
3154,c9494d736d3a46088315b45736c8be07e2afe568,leb Natapov <gleb@scylladb.com>, 2017-08-14 15:08:41 +0300, , net make future accepts fail call abort_accept documentation abort_accept say future call accept fail error nothing code guaranty fix enforce guaranty,,
3155,47b31f69e098ddac2f8090f74ecf3c6497d64f08,alle Wilund <calle@scylladb.com>, 2017-08-14 11:38:25 +0000,321, recurse shutdown code fix 321 shutdown need ensure take semaphore lock correct order doe via recursion shutdown_wr case however timing dependent whether recursion condition cleared next lap wind soe ing back merged whereever ever shut least contended condition message calle scylladb.com,,
3156,edb73aba185656d01467ec2ca02ccd385c53cd2d,lad Zolotarov <vladz@scylladb.com>, 2017-08-10 11:14:58 -0400, , script perftune.py change network module mode auto selection heuristic change like one use disk module except using number nic queue equal number cpu hyper thread use number hts equal number queue equal number hts use number physical core equal use split case signed vlad zolotarov vladz scylladb.com message 1502378098 31538 git send email vladz scylladb.com,,
3157,5c0164f32dd1cbffaef55f90c694567a52989fd4,leb Natapov <gleb@scylladb.com>, 2017-08-10 15:44:13 +0300, , net explicitly ignore ready future shutdown ready future handled way case exceptional warning printed log explicitly ignoring future silence warning message scylladb.com,,
3158,a4327a2faa57df2375abf9aa8e266b74d593ce47,ladimir Krivopalov <vladimir.krivopalov@gmail.com>, 2017-08-09 23:08:32 -0700, , use python2 explicitly interpreter python script signed vladimir krivopalov gmail.com message gmail.com,,
3159,cf55c9c89c36bf986817994383aba0161970b968,mnon Heiman <amnon@scylladb.com>, 2017-08-09 17:07:06 +0300, , prevent run container container pointer run using copy constructor assignment operator patch remove leave default move prevent unexpected result user class signed amnon heiman amnon scylladb.com message amnon scylladb.com,,
3160,55a2c40ba171efcb9ad10dd248bef64e0521d7ea,otond Dnes <bdenes@scylladb.com>, 2017-08-09 11:41:24 +0300, , add link documentation readme.md signed botond bdenes scylladb.com message scylladb.com,,
3161,b022e3bb355086f52693ecce225144180ad8e8ff,uarte Nunes <duarte@scylladb.com>, 2017-08-08 13:40:33 +0100, , add guideline contributing seastar signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
3162,0c4952e33e788afa96fd13f3b50cc6d7a8258e98,vi Kivity <avi@scylladb.com>, 2017-08-08 13:56:44 +0300, , sharded fix move constructor service container move service need track custom move constructor message avi scylladb.com,,
3163,a5d6b1dd345f19a66e28bf5a639f32c1eb0ef7a4,otond Dnes <bdenes@scylladb.com>, 2017-08-07 18:45:20 +0300, , provide convenient way lazy convert string value pointer one might want log value introduces problem null crash instead something like to_string null used however introduce potentially unnecessary branch used produce msg trace debug lazy_deref defer check value actually converted string signed botond bdenes scylladb.com message scylladb.com,,
3164,6af65999a64e5e923630cd0e859de57d1d11f5c3,adav Har'El <nyh@scylladb.com>, 2017-08-02 18:10:44 +0300, , tutorial overhaul semaphore section reworked semaphore section reflect better understanding hope ... exception safety also fixed error example like using boost irange support patch support never comitted signed nadav har nyh scylladb.com message nyh scylladb.com,,
3165,4f0c3822a7682775d514c531bc52aadcb6dde5be,alle Wilund <calle@scylladb.com>, 2017-08-07 08:41:55 +0000, , simple stream make fragmented write_substream return simple possible correct return wrapping simple iff size requested fit current segment combined make sub writes slightly faster hope message calle scylladb.com,,
3166,32809ee9698617d1e7531303798c19ba79943a43,alle Wilund <calle@scylladb.com>, 2017-08-07 08:41:54 +0000, , simple stream make simple fragmented memory output stream top level make template specialization possible message calle scylladb.com,,
3167,7a49ae55a1a2c7f72835bf77e0c156b3688d8963,vi Kivity <avi@scylladb.com>, 2017-08-06 14:42:59 +0300, , sharded improve support cooperating sharded service allow one sharded service call another support passing ref sharded foo parameter sharded bar start auto translate foo bar bar ... expects message avi scylladb.com,,
3168,165610b564d63aa9619a9a779fd4099fda3c7562,vi Kivity <avi@scylladb.com>, 2017-08-05 23:13:01 +0300, , sharded support peer service add helper template inherited make availble container function service container function return sharded instance allowing peer call another peer via container message avi scylladb.com,,
3169,6ca53d51bf95ed286f268891b99dc7fd912a196a,lauber Costa <glauber@scylladb.com>, 2017-08-04 21:13:48 -0400, , semaphore add version with_semaphore take duration timeout waiting timeouts common operation with_timeout nice wrapper place need execute function elegant get_units need play manually passing permit continuation inside function with_semaphore call get_units get_units currently time_point duration parameter provide well variant commonly found caller signed glauber costa glauber scylladb.com message 1501895628 22986 git send email glauber scylladb.com,,
3170,6fdef855432151b7715f24b982c6bb5fe9fc0c66,lad Zolotarov <vladz@scylladb.com>, 2017-08-03 12:16:00 -0400,316," script perftune.py fix cpu mask generation cpu setup cpu hwloc distrib generates funny mask like 0x00ffffff ,,0x0 empty space coma represent zero mask unfortunately proc sys file configure like form mask want zero actually present example need given following mask 00ffffff,0,0,0 mask expected form modification simply fails patch make sure mask proc sys expect fix 316 signed vlad zolotarov vladz scylladb.com message 1501776960 6816 git send email vladz scylladb.com",,
3171,c915f3f6f6aaa9f963c0e5d428173ec0393619e5,vi Kivity <avi@scylladb.com>, 2017-08-02 18:52:59 +0300, , revert future utils make when_all vector variant exception safe reverts commit build,,
3172,54579566ee4a038907ef6cd325fcfac03fa848b5,vi Kivity <avi@scylladb.com>, 2017-08-02 18:52:50 +0300, , revert future utils fix gross compilation error when_all reverts commit stil build,,
3173,8f95dfaf4b775df0fc3f46cb24ea1f1141cec248,vi Kivity <avi@scylladb.com>, 2017-08-02 18:38:01 +0300, , future utils fix gross compilation error when_all,,
3174,795459327367c37ae771a652e3c64f8b205c0d9d,vi Kivity <avi@scylladb.com>, 2017-08-02 16:19:45 +0300,293, future utils make when_all vector variant exception safe when_all required allocate unbounded memory may fail low memory condition due fragmentation fix running instead allocates constant memory thus likely succeed run return input future completed fix 293 message avi scylladb.com,,
3175,f14d2a32c96d04ef6f31d8213181d289aa576b46,uarte Nunes <duarte@scylladb.com>, 2017-08-02 09:33:25 +0200, , configure.py ensure tmp directory exists getting dpdk cflags signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
3176,ce1ef21fe3d73af66f87f676a052fedf0c760c47,ajeev Masilamani <fallingfrombed@gmail.com>, 2017-08-01 04:18:05 -0700, , checked_ptr fix hash compilation message 7d5f29d1 a1e9 41de b281 34ebe13add10,,
3177,5bd2dc336443a670a23d3ca984ebe273d8cfe2ee,leb Natapov <gleb@scylladb.com>, 2017-08-01 17:33:00 +0300, , net fix potential use free accept smp submit_to waited upon server socket capture pointer may destroyed lambda called another cpu thing needed server socket address capture value instead message scylladb.com,,
3178,b32ecc898cec19d818b88cd5978a5428eba3fef2,vi Kivity <avi@scylladb.com>, 2017-08-01 13:37:37 +0300, , http removed unneeded lamda capture,,
3179,fc937b89dcb2e5f7a9d2bcbe74e49d2b7fd68ba3,uarte Nunes <duarte@scylladb.com>, 2017-07-31 17:01:18 +0200, , configure.py always ensure tmp directory exists signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
3180,788d7d2d4e820427edea8d948fa267ac5cdeb9b4,vi Kivity <avi@scylladb.com>, 2017-06-02 20:53:15 +0300, , coding style.md introduce message avi scylladb.com,,
3181,54e940f4424b6704f83300563f5c3d8a213cc692,vi Kivity <avi@scylladb.com>, 2017-07-31 10:08:36 +0300, , merge prometheus use output stream amnon series change prometheus handler use output stream reply amnon github.com cloudius system seastar dev prometheus indentation commit prometheus use output stream return metric prometheus add missing operator future utils do_foreach use prefix,,
3182,e1af7391d68a573859d25b9b8676cfd7f219fdae,mnon Heiman <amnon@scylladb.com>, 2017-07-29 16:14:38 +0300, , prometheus indentation commit,,
3183,e9f8e5112443ac870fa6dd180af836411f88f011,mnon Heiman <amnon@scylladb.com>, 2017-06-27 17:22:54 +0300,2475, prometheus use output stream return metric generating metric reply take long time reduce load system prometheus use output stream api patch change message creation use output stream reduce buffer size needed make prometheus yield block shard patch partially indented purpose indentation patch follow see scylladb scylla 2475 signed amnon heiman amnon scylladb.com,,
3184,a18c8ecc5721fa313d48c141595845ccc049e082,mnon Heiman <amnon@scylladb.com>, 2017-06-27 16:34:50 +0300, , prometheus add missing operator add equal postfix operator  signed amnon heiman amnon scylladb.com,,
3185,73e841ebbbd5a0a2d6686175de6fd926bef309e8,mnon Heiman <amnon@scylladb.com>, 2017-07-13 11:26:41 +0300, , future utils do_foreach use prefix using postfix operator bad library behaviour cause unneeded object creation patch change implementation do_foreach function use prefix instead,,
3186,a7ff36aee6e17337cc49087e3c72ef70b1d74f13,mnon Heiman <amnon@scylladb.com>, 2017-07-30 15:11:51 +0300, , http_test fix http output stream test jenkins without shutting server sanitizer report memory leak test signed amnon heiman amnon scylladb.com message amnon scylladb.com,,
3187,f3284007b1f8ac8e582c3561a67e96e82c06c7e7,vi Kivity <avi@scylladb.com>, 2017-07-30 15:12:19 +0300, , build harden output temporary file fails file longer exists existing scope use purpose,,
3188,326f0cc8bc08cac0edbbc65dca527a76581ca88d,leb Natapov <gleb@scylladb.com>, 2017-07-30 12:38:30 +0300, , configure disable exception scalability hack debug build asan dl_iterate_phdr black magic leave alone message scylladb.com,,
3189,4c7cc73bd409a13084c8422007141e1290c2fbc6,vi Kivity <avi@scylladb.com>, 2017-07-30 12:17:36 +0300, , build perform test compiles dev null cflags e.g ftest coverage gcc generates auxiliary output file based main output file name main output file name dev null auxiliary file name one gcc create compilation fail fix creating valid temporary name output file gcc create valid derivation,,
3190,464f5e3ae43b366b05573018fc46321863bf2fae,leb Natapov <gleb@scylladb.com>, 2017-07-27 15:30:08 +0300, , provide workaround non scaleable exception runtime glibc combination provides runtime non scaleable exception due global lock stack unwinding code summarize lock purpose lock libgcc protects list frame description entry registered function catch dynamically linked binary protects checking certain list empty lock longer relevant gcc7 since patch check list empty outside lock lock dl_iterate_phdr glibc protects loaded object list runtime object loading unloading get rid first lock one use gcc7 get rid second one use fact load unload object dynamically least mirror elf header information seastar provide dl_iterate_phdr symbol mirror without locking unfortunately another gotcha approach dl_iterate_phdr supplied glibc never call one callback simultaneously unintended consequence lock unfortunately libgcc relies maintain small cache translation access cache protected lock since one callback could run time luckily libgcc use cache older version dl_phdr_info provided callback older version indication loaded object list may changed libgcc doe know cache invalidated disables entirely calling callback old version dl_phdr_info dl_iterate_phdr effectively make libgcc callback thread safe message scylladb.com,,
3191,41dc87cf9a3b0d5d19dcfaa8c153363c324fae10,vi Kivity <avi@scylladb.com>, 2017-07-26 17:38:11 +0300, , merge add output stream http message reply amnon amnon github.com cloudius system seastar dev test http add test chunked body transfer http httpd support output stream reply http reply support outstream http break dependency connection reply,,
3192,99e7658c1da16419cd9533a536953a66132e2258,leb Natapov <gleb@scylladb.com>, 2017-07-24 12:55:43 +0300, , configure.py use user provided compiler flag checking feature user provided compiler flag change outcome test message scylladb.com,,
3193,4ad204a6465479385591251453b2bbabb45882c6,mnon Heiman <amnon@scylladb.com>, 2017-07-13 11:32:20 +0300, ," test http add test chunked body transfer test client server helper testing function work connection level test function creates two thread one server one client accept two lambda function server function return vector reply client function get reply current message stateless call client return true want continue false completed client function doe validation message expected three test added simple chunked test 100,000 long message sent client server error body written body writer first write 3000 byte throw exception multiple message written multiple size success allow adding listener http test test friend class used signed amnon heiman amnon scylladb.com",,
3194,0ac6fd4723c0a702c636cfc578844d8c3564405c,mnon Heiman <amnon@scylladb.com>, 2017-07-13 12:26:46 +0300, , http httpd support output stream reply reply output stream http server check handling reply sent handler use registered function create reply body case failure would throw message queue close connection signed amnon heiman amnon scylladb.com,,
3195,8eed9671dbd7a2f886f4970afb356bc4843da307,mnon Heiman <amnon@scylladb.com>, 2017-06-27 14:49:53 +0300, , http reply support outstream long message time useful use chunked reply mode handler output stream instead returning string output stream used writing message body would break body chunked call buffer write also oportunity yield message handler block shard patch change reply message create http body handling stream user call write_body function accept output stream return future note point server would return 200 part header use performing parameter validation,,
3196,a14d667156edb078990db3c03bcb70a8d2484be0,vi Kivity <avi@scylladb.com>, 2017-07-17 10:38:43 +0300, , remove unneeded lambda capture found clang message avi scylladb.com,,
3197,867b7c724508de54610bc78d1009d3720b198586,leb Natapov <gleb@scylladb.com>, 2017-07-16 16:13:49 +0300,307, rpc start server send loop protocol negotiation although protocol negotiated send_loop almost nothing may abort nonetheless due error usually std bad_alloc close _write_buf protocol negotiation completes happens protocol negotiation submit new data _write_buf destroy without closing already closed trigger output_stream assert _in_batch fixed starting send loop protocol negotiated fix 307 message scylladb.com,,
3198,b812cee3beda99f74a431a741b229f0e0ba06f2b,vi Kivity <avi@scylladb.com>, 2017-07-16 16:59:31 +0300, , update dpdk submodule dpdk c2452a1 ... 10a8b45 passing rootdirs one target see scylladb scylla 2595,,
3199,844bcfbd26d2de27dbe6a955cfd23d5c2c7847ce,vi Kivity <avi@scylladb.com>, 2017-07-15 19:14:25 +0300, , update dpdk submodule dpdk 0d20a81 ... c2452a1 passing rootdirs via program argument see scylladb scylla 2595,,
3200,88623b69902f5a62de58282a6ab38d8b488830fe,mnon Heiman <amnon@scylladb.com>, 2017-07-11 13:34:07 +0300, , http break dependency connection reply reply need connection object http would need reply prevent header loop patch move connection object outside http object possible forward declare also replaces include reply forward decleration moving functionality source file signed amnon heiman amnon scylladb.com,,
3201,ff34c42ce679f65507d7b857521da52b697efa34,alle Wilund <calle@scylladb.com>, 2017-07-11 16:09:01 +0000, , wrap semaphore fix hopefully issue assert vec_push shutdown basic problem make gnutls aync work version async need keep fake eintr state machine pretending yet gotten sent data fact actually _doing_ ready fine assuming usual rule max reader writer time however also semantic saying shutdown output_stream close etc interrupt pending i.e read like chicken want keep engine endpoint happy sending handshake termination actually mean need overlapping read writes sort lead race sometimes sure data actually pending could maybe build complex data queue chain future whatnot sound nightmarish looking actual handshake done gnutls probably get away simply keeping semaphore read write enforce using _around_ read write corresponding shutdown handshake shutdown need able send alert across wire assuming writes complete big assumption though huge dragon ensure always either shutdown case first initiating session termination hope terminate gracefully quickly otherwise timer underlying close message 1499789341 18635 git send email calle scylladb.com,,
3202,6dcbc28a60cd53d8c29e19ba87abc7f7e89e6de2,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2017-07-11 19:52:47 -0400, , test declare helper static signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
3203,3d21ef5959bedb3ea15032d1632b0b2d7012044a,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2017-07-11 19:52:46 -0400, , test fix compilation error older gcc compilation error reported mailing list indicates older version gcc may incorrectly compiling static constexpr declaration inside function  failed build debug test build debug test build debug test fsanitize address fsanitize leak fsanitize undefined fno sanitize vptr dasan_enabled ddebug opt src seastar build debug gen opt src seastar build debug std gnu wall werror wno error deprecated declaration fvisibility hidden pthread opt src seastar opt src seastar fmt wno overloaded virtual wno maybe uninitialized dhave_hwloc dhave_numa build debug test test tmp ccv4zuio.s assembler message tmp ccv4zuio.s 19986 error symbol already defined  reproduce failure fix ubuntu 16.04 fedora though clear moving static constant body do_with resolve error interestingly failure present debug mode http msgid seastar dev 22372182 97d8 484f 8032 00e1e2941920 utm_medium email utm_source footer ubuntu 5.4.0 6ubuntu1 16.04.4 5.4.0 20160609 gcc 5.3.1 20160406 red hat 5.3.1 signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
3204,a2be7a4f312a62c67c79cf818970d0c954f5fc15,os Guilherme Vanz <guilherme.sft@gmail.com>, 2017-07-10 15:00:02 -0300, , configure.py verifies boost version user face issue try compile seastar boost version required fix verify configure time boost version 1.55 signed jos guilherme vanz guilherme.sft gmail.com message guilherme.sft gmail.com,,
3205,e799b3a29f12b325fde982f74c1da15dbbb54172,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2017-07-07 10:14:51 -0400, , pkg config eliminate space include path argument previously include path modifier space argument example home jhaberku src scylla seastar build release gen cmake findpkgconfig module parsed seastar.pc file part clion ide would fail recognize path change eliminates space character resolve clion error thanks vladislav zolotarov help identifying problem http cmake.org cmake help latest module signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
3206,cc04102c7c7423aa8fbeb2d804d6912fcba1ffd8,lauber Costa <glauber@scylladb.com>, 2017-07-06 10:34:59 -0400, , allow application override task quota default task quota quite conservative may best application specially latency sensitive one benefit lower default patch add ability app ask seastar lower default still overridden user example usage app_template config cfg 500us app_template app std move cfg signed glauber costa glauber scylladb.com message 1499351699 26976 git send email glauber scylladb.com,,
3207,89cc97c256abbe44dcc1cb60176822a3f3f9db1c,vi Kivity <avi@scylladb.com>, 2017-07-06 15:45:31 +0300, , future utils fix do_for_each exception reporting action throw caller expects exceptional future rather exception use futurize apply satisfy expectaion message avi scylladb.com,,
3208,1fa13238fe9c907a27bd7fdea814081b2f6e386c,omasz Grabiec <tgrabiec@scylladb.com>, 2017-07-03 12:24:24 +0200,1909, core thread fix unwind information seastar thread caller main information unwinders get frame main incorrect point garbage unwnider used perf tool dropped backtrace code running seastar thread fix adding cfi entry dwarf marking undefined like glibc doe entry frame e.g clone see scylladb scylla 1909 message 1499077464 16538 git send email tgrabiec scylladb.com,,
3209,c8484866c012bf9e7a53535668e81f6b54b0b2d0,vi Kivity <avi@scylladb.com>, 2017-06-26 22:03:48 +0300, , build export full cflags pkgconfig file cflags needed build seastar also needed build application duplicating application annoying especially warning detection logic change frequently expose compiler flag via pkgconfig requires making flag use absolute path cwd independent message avi scylladb.com,,
3210,bbb75ffe1bdfdd7a969d020c8e12a07d404412f7,enot Canet <benoit.canet.contrib@gmail.com>, 2017-06-26 15:21:47 +0200,259, configure avoid putting tmp file tmp tmp noexec mount option cause issue leaved build tmp directory place since make sense reuse future let exception appears command line directory created instead wrapping bogo exception handling fix 259 message benoit scylladb.com,,
3211,0ab7ae5b88cc0f8010eb3499b126fcf3dd867d6c,vi Kivity <avi@scylladb.com>, 2017-06-24 20:46:39 +0300, , update fmt submodule move latest upstream fix compile gcc char_bit incorporates local change making work number,,
3212,f8feb33877e7d024ba494803dfb3504ecb9c8be0,vi Kivity <avi@scylladb.com>, 2017-06-23 20:04:17 +0300, , rpc add option control tcp_nodelay default true make sense long latency low bandwidth link make sense disable tcp_nodelay message avi scylladb.com,,
3213,5d534bd4659e5a037bed1447dd66f976cd0cf8be,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2017-06-20 20:43:08 -0400, , core fix compilation older version boost older version boost.test boost_test use boost_require compatibility also consistency rest code signed jesse haber kucharsky jhaberku scylladb.com message scylladb.com,,
3214,ae8de7bc177dc3c17ce9a108644099e3b4d8e845,uarte Nunes <duarte@scylladb.com>, 2017-06-20 22:14:13 +0200, , test fix compilation issue detected clang 5.0 patch fix unused variable non captured variable signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
3215,9e2b7ecdd76440ac9c9c4026e66533a6b38b8699,vi Kivity <avi@scylladb.com>, 2017-06-19 18:17:09 +0300, , merge low resolution clock jesse change driven addition patch add alongside lowres_clock patch series add test also modernizes clean existing code patch code change unit tested http github.com scylladb scylla issue 1957 jhk http github.com hakuch seastar core clean comment low clock core add core protect initialization static member core lowres_clock.hh clean include directive core modernize declaration core lowres_clock.hh reorder class member add spacing core move implementation lowres_clock core replace gcc specific alignment attribute standard one core document lowres_clock core get representation lowres_clock base clock core make lowres_clock model clock concept core seal definition lowres_clock core add santity test lowres_clock,,
3216,b3808c8df54f7b4c354e9f9cee863f57f6a64ee4,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2017-06-19 10:51:56 -0400, , core clean comment low clock formatting grammar spelling line length,,
3217,89020f4b3049c9888f9576cd79f2dcc4226859f5,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2017-06-16 18:29:28 -0400, , core add change motivated scylladb scylla 1957 existing lowres_clock based std chrono steady_clock produce time point relative opaque epoch precision lowres_clock based std chrono system_clock fixed epoch per usual unix time since clock precision single timer update time point clock strictly speaking std chrono system_clock required use unix time epoch defacto convention commonly assumed including scylla testing unit test pas unit test scylladb scylla pas built seastar patch,,
3218,f057084a647b6d088f7a352eca62fe4cce68b733,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2017-06-16 15:38:59 -0400, , core protect initialization static member static counter need initialized invocation lowres_clock work correctly restricting public construction outside reactor help prevent accidental misuse class,,
3219,d307d2de628edc894f7524075601951a9e1d49ab,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2017-06-14 13:32:30 -0400, , core lowres_clock.hh clean include directive,,
3220,dc0c4ba747863c9d1b85cc40faa21ddda9d1713d,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2017-06-16 15:33:05 -0400, , core modernize declaration prefer using typedef prefer explicit default initialization,,
3221,34b6807369fc797102fe55c27bc680576d421299,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2017-06-16 16:03:20 -0400, , core lowres_clock.hh reorder class member add spacing,,
3222,05de80828c20e91cadae49e3a62a638f20a543bb,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2017-06-16 15:57:12 -0400, , core move implementation lowres_clock two reason change isolates storage updating static clock counter make relationship reactor control initialization code little clearer allows additional clock share counter handling,,
3223,328b56afc57aa86c7b1f84a7b3f7fbf38f0cd749,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2017-06-14 11:20:55 -0400, , core replace gcc specific alignment attribute standard one,,
3224,92709008f7f6356f333ed1cfa4f985b17108aef3,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2017-06-16 15:07:33 -0400, , core document lowres_clock,,
3225,315c4fc3d765b37d8b2bce024cb00b4fe8511b21,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2017-06-16 15:24:42 -0400, , core get representation lowres_clock base clock,,
3226,eacefe03220206e4a899bb400a11cc2f0c2facb8,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2017-06-16 15:21:40 -0400, , core make lowres_clock model clock concept concept documented monotonic flag missing http cpp concept clock,,
3227,b2a00eca0087f1e13eac949fa885a8891b91e0a4,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2017-06-16 14:44:33 -0400, , core seal definition lowres_clock good default unless dynamic dispatch inheritance necessary,,
3228,99d7c711c0c29058f34edd7c9e353d354626c851,esse Haber-Kucharsky <jhaberku@scylladb.com>, 2017-06-14 13:26:07 -0400, , core add santity test lowres_clock much deterministic testing done verify difference successive time point expected,,
3229,db4b252fbed6a85f7e08a6442061ab6c5b29877c,vi Kivity <avi@scylladb.com>, 2017-06-11 19:02:33 +0300, , build disable wattributes gcc fvisibility hidden bug strike http gcc.gnu.org bugzilla show_bug.cgi 80947 cause spurious warning emitted fvisibility hidden detect bug disable warning message avi scylladb.com,,
3230,1cb8b0eec2141bbc7bdd297362c0c306dd566f48,vi Kivity <avi@scylladb.com>, 2017-06-08 18:38:16 +0300, , build work around ragel generated code bug ragel incorrectly emits unused variable compile workaround sed away message avi scylladb.com,,
3231,69dc0e22fd8951cd98210e88b5a2957511615352,vi Kivity <avi@scylladb.com>, 2017-06-08 18:39:24 +0300, , rpc make inline gcc complains used mark inline  message avi scylladb.com,,
3232,cc4a7d1b1740294f28420e3b639107af3e945290,vi Kivity <avi@scylladb.com>, 2017-06-18 20:14:08 +0300, , future utils make function global static function duplicated translation unit causing bloat function future utils template usually duplicated anyway still chance duplication function called header file allow remove static function future utils.hh message avi scylladb.com,,
3233,243f45e01d46887a8ddba2740639e32965332d22,leb Natapov <gleb@scylladb.com>, 2017-06-15 12:43:29 +0300, , fix reactor stall detector rate limiting mostly idle system reactor stall detector rate limiter work based task clock clock stopped system idle result next printout postponed long time fix tracking much tick missed system sleeping piggybacked typo fix comment message scylladb.com,,
3234,09b233e129fc3efbd48cd44c9c6cabe5fdb0b49e,lexander Gallego <gallego.alexx@gmail.com>, 2017-06-14 22:26:16 -0400, , prometheus add ability add metric http_server currently prometheus metric exposed class extend capability attach prometheus metric http server signed alexander gallego gallego.alexx gmail.com message gallego.alexx gmail.com,,
3235,00bc58696dab81b63b58daacbaf2fd7481e52fad,lexander Gallego <gallego.alexx@gmail.com>, 2017-06-14 22:07:59 -0400, , prometheus fix memory leak doe dealloc distributed http_server pointer causing memory leak libasan fault signed alexander gallego gallego.alexx gmail.com message gallego.alexx gmail.com,,
3236,621b7ed51e281c4f00a44592dda9e97c55a862a7,uarte Nunes <duarte@scylladb.com>, 2017-06-01 23:32:06 +0200, , net api remove outdated comment longer shutdown function signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
3237,d2a53c7094e8dea17ae0148a72204183cbffc782,uarte Nunes <duarte@scylladb.com>, 2017-06-05 01:22:37 +0200, , merge fix clang pawe patch series deal warning reported recent revision clang tag pdziepak fix llvm5 github.com scylladb seastar dev apps remove uneeded lambda capture rpc remmove unneeded lambda capture test remove unnecessary capture net posix stack remove unneeded capture sstring redefine default template parameter to_sstring,,
3238,bd310878a556c8d90d63024cb5eb2756789f9740,awe Dziepak <pdziepak@scylladb.com>, 2017-06-04 13:42:22 +0100, , apps remove uneeded lambda capture,,
3239,ee30eaca644fb822996f85a72d8d5bb202cd1268,awe Dziepak <pdziepak@scylladb.com>, 2017-06-04 13:42:09 +0100, , rpc remmove unneeded lambda capture,,
3240,71555681da27a744380073dd5c22e1f5e349939f,awe Dziepak <pdziepak@scylladb.com>, 2017-06-04 12:31:51 +0100, , test remove unnecessary capture,,
3241,935b489e5f06477448eb06fa10acdc8ef0fc8856,awe Dziepak <pdziepak@scylladb.com>, 2017-06-04 12:29:01 +0100, , net posix stack remove unneeded capture,,
3242,c0de495c479f4728ffff8bdbb7e27082b164c430,awe Dziepak <pdziepak@scylladb.com>, 2017-06-04 12:24:17 +0100, , sstring redefine default template parameter to_sstring,,
3243,2a0b31504eb027bc7c16dc5028457d0c4da26373,vi Kivity <avi@scylladb.com>, 2017-06-04 12:33:35 +0300, , merge metric safely transfer metadata shared amnon patch solve crash due safe shared_ptr transfer memory shareds amnon github.com cloudius system seastar dev metric safer metadata transfer shared scolletd exit sending loop full metric seperate meta data value,,
3244,1a4a08c0f229d3b83141c95198f53aee64865e02,mnon Heiman <amnon@scylladb.com>, 2017-05-22 11:11:27 +0300,2350, metric safer metadata transfer shared patch change metric value meta data passed bewtween shard sometimes single shard send metric report data gothered shard i.e prometheus protocol case metric layer need pas information metric metadata shard reporting metric values_copy structure contains two value value vector vector value vector per metric family metadata shared_ptr vector metric family data contains metric family info vector metric metadata metadata created demened dirty bit decide shared_ptr valid metadata contains information enabled metric efficiency additional vector stored impl class hold function fetch value collectd prometheus implementation modified use new data structure prometheus additional optimization possible data collected shard doe merge single datastructure instead merge done creating reply see scylladb scylla 2350 signed amnon heiman amnon scylladb.com,,
3245,6e99d8768ad567b713a4567562ea98677caf3307,vi Kivity <avi@scylladb.com>, 2017-06-01 20:29:47 +0300, , posix add missing include message avi scylladb.com,,
3246,d8f51e11361c45d4f71a9e8f52ad3f5895dc6881,vi Kivity <avi@scylladb.com>, 2017-06-01 20:29:27 +0300, , build add cmake dependency used message avi scylladb.com,,
3247,dd23ed3964f27d2d6c15cab38919b491b9173f60,vi Kivity <avi@scylladb.com>, 2017-06-01 20:28:30 +0300, , build add wno maybe uninitialized trigger false positive ethernet.cc gcc message avi scylladb.com,,
3248,c6c067e70d7b0d2a8c8b698d2367ec0fd9f91da8,leb Natapov <gleb@scylladb.com>, 2017-05-30 12:38:23 +0300, , rpc handle message larger memory limit rpc server may configured memory limit single message exceeds limit processed acquiring resource best case fail timeout worst case hang forever timeout requested path add handling message larger memory limit dropped logged error reply send back client message scylladb.com,,
3249,162dccd8e64afa3e0f49f08c6221cf1a013ba909,vi Kivity <avi@scylladb.com>, 2017-05-29 19:51:57 +0300, , doxygen enable macro expansion remove gcc6_concept macro since use macro elsewhere result reasonable fix 294,,
3250,b1f69ccc2756b549a0659b22e1be952b4c29bf97,vi Kivity <avi@scylladb.com>, 2017-05-29 18:29:25 +0300, , metric fix namespace documentation confuses doxygen,,
3251,78211d4a40f86e94bc1617db747bddb1ffcbb3ba,mnon Heiman <amnon@scylladb.com>, 2017-05-22 08:12:07 +0300,2400, scolletd exit sending loop full scollectd fill buffer exist nested loop completely curently break exit iner loop cause collectd report partial metric see scylladb scylla 2400,,
3252,aeb437c047cebc2a6f347469b764179b807ace15,mnon Heiman <amnon@scylladb.com>, 2017-05-21 09:53:31 +0300, , metric seperate meta data value patch move metadata metric struct one metric family one metric also order inforamation correctly type description belong metric family enable metric,,
3253,5533e03300b9162ffaf489258c55e2951d6622b1,leb Natapov <gleb@scylladb.com>, 2017-05-28 16:00:09 +0300, , add special logger memory allocation failure often hard tell going system start getting allocation failure due real memory shortage large memory allocation memory fragmentation may bug code asks much memory patch add memory logger log useful diagnostic information allocation failure enabled dynamically system start malfunction patch log allocation size current stack trace memory statistic caveat logging may fail allocate worst happen logging fail function protected recursion message scylladb.com,,
3254,a437dc9363c900293829cf2b52da3ece5cb0cae4,vi Kivity <avi@scylladb.com>, 2017-05-21 13:03:17 +0300, , xen remove xen conflict dpdk xen support also provided dpdk redundant remove reduce maintenance burden message avi scylladb.com,,
3255,01ddc4af8dd752b538c2dd5c3614405d3f829a5d,vi Kivity <avi@scylladb.com>, 2017-05-25 16:36:06 +0300, , merge sanity check fix extension perftune.py vlad improve interface user fix get cpu mask issue nvme case fix issue github.com cloudius system seastar dev script perftune.py use command instead scanning system file script perftune.py fix compute cpu mask calculation nvme case script perftune.py add sanity check parameter script perftune.py use pyudev 0.16 api script perftune.py cleaup use list instead len list condition,,
3256,6fafb7f633e557779e05e6c76f58a0030a97f33e,adav Har'El <nyh@scylladb.com>, 2017-05-23 19:44:53 +0300, , tutorial seastar namespace signed nadav har nyh scylladb.com message nyh scylladb.com,,
3257,e2e428f48d2fc80a2ee26a92b578aee49f97d417,awe Dziepak <pdziepak@scylladb.com>, 2017-05-23 16:43:27 +0100, , fix build error comment example code got broken execution stage started requiring name message pdziepak scylladb.com,,
3258,ff8048527a0b404e81c12a9c5cd72980846a7d2a,adav Har'El <nyh@scylladb.com>, 2017-05-24 18:25:43 +0300, , tutorial seastar namespace addition signed nadav har nyh scylladb.com message nyh scylladb.com,,
3259,3be7f1b03987f5667389481ae343a5ab1433516b,adav Har'El <nyh@scylladb.com>, 2017-05-21 20:40:50 +0300, , tutorial minor change word patch look bigger really signed nadav har nyh scylladb.com message nyh scylladb.com,,
3260,713b184d302fefdbd52f006ea7a6bdde7ddfe9cb,adav Har'El <nyh@scylladb.com>, 2017-05-21 20:40:49 +0300, , tutorial minor change introduction word patch look bigger really signed nadav har nyh scylladb.com message nyh scylladb.com,,
3261,0241440b46b8e8014e86ae702c88f75495b9f859,adav Har'El <nyh@scylladb.com>, 2017-05-21 21:03:16 +0300, , tutorial start overhauling example use seastar namespace patch fix first example use seastar namespace prefix two place missing explain need  signed nadav har nyh scylladb.com message nyh scylladb.com,,
3262,68dbf60ffdd26b1e2d7c412b4434de99e117eb24,akuya ASADA <syuu@scylladb.com>, 2017-05-22 18:30:28 +0900, , dpdk follow namespace change fix compile error namespace net namespace seastar net follow change signed takuya asada syuu scylladb.com message 1495445428 5888 git send email syuu scylladb.com,,
3263,cb003558eb8c7765e9e0c914915edb3500a8798e,lexys Jacob <ultrabug@gmail.com>, 2017-05-18 17:12:19 +0200, , perftune.py fix regression introduced df5f74ac fixing indexerror nic irqs requested introduced regression changing type all_irqs list set raise typeerror set object doe support indexing exception method trying tune network signed alexys jacob ultrabug gentoo.org message ultrabug gentoo.org,,
3264,0c34922a912b1bd7788af9ad5b8b06e8759c53e8,os Guilherme Vanz <guilherme.sft@gmail.com>, 2017-05-20 14:30:54 -0300,249, doc typo readme.md little typo readme.md fixed 249 signed jos guilherme vanz guilherme.sft gmail.com message guilherme.sft gmail.com,,
3265,1e51fb2d49b8bc25a02de009246afa38068814e9,lauber Costa <glauber@scylladb.com>, 2017-05-19 00:01:12 -0700, , posix_net load balance connection currently employ quite naive load balancing keep track current shard receiving connection global variable distributing new connection round robin fashion however connection coming different server_socket different nature like prometheus metric connection tend short lived low bandwidth others like application connection could long lived drive high level activity result heavy traffic connection end bundled small group shard higher load solution move load balance part instance instead using global variable way thing listen together load balance together also connection come simply round robin ing accept account keep track generated destroyed pick next cpu based result much fairer cpu utilization among shard signed glauber costa glauber scylladb.com message glauber scylladb.com,,
3266,4af898c9e5865c28190eb815ce99767801e17a1c,vi Kivity <avi@scylladb.com>, 2017-05-21 13:29:26 +0300, , memory fix debug build,,
3267,68bc68fbea4f721b5d3e269195d3b27291f3d990,vi Kivity <avi@scylladb.com>, 2017-05-21 13:08:54 +0300, , test fix slab_test build,,
3268,0ba42b54572ae3f53007e256060310ca4b3d22cb,vi Kivity <avi@scylladb.com>, 2017-05-21 12:54:42 +0300, , xen fix fallout seastar namespace change,,
3269,6b9c48277762f320a56cfeee173a168072782aba,vi Kivity <avi@scylladb.com>, 2017-05-21 12:54:05 +0300, , build make swagger generated file depend code generator code generator change generate code,,
3270,8aef5f569a3653e2bf407b49da76a89c7c512eb8,vi Kivity <avi@scylladb.com>, 2017-05-21 07:41:45 +0300, , avoid declaring namespace seastar seastar header confuses library user also alias namespace,,
3271,38583a389922ac552cbcc243ae4d44a52b5be637,vi Kivity <avi@scylladb.com>, 2017-05-21 07:40:49 +0300, , chunked_fifo disentangle namespace include,,
3272,ed52971d7904f572791136bd42a2cf3d78579d75,vi Kivity <avi@scylladb.com>, 2017-05-21 00:49:57 +0300, , move library identifier seastar namespace,,
3273,f726938f4d7ef52ebf9eb977f73fa98122699058,akuya ASADA <syuu@scylladb.com>, 2017-05-18 08:26:53 +0900,2227, memory add mbind option supress warning message running seastar apps container add mbind program option supress mbind warning message user want run seastar apps container provides mbind container turn message specify mbind see scylladb scylla 2227 signed takuya asada syuu scylladb.com message 1495063613 894 git send email syuu scylladb.com,,
3274,271ee1e47890ca632e33cfa0e237e7f35c1789ba,lexys Jacob <ultrabug@gmail.com>, 2017-05-09 09:36:15 +0200, , add support gentoo linux irqbalance configuration detection allows perftune.py work well using irqbalance daemon gentoo linux signed alexys jacob ultrabug gentoo.org acked vlad zolotarov vladz scylladb.com message ultrabug gentoo.org,,
3275,45b718b6df22f7c59667772878362b14def76dc6,vi Kivity <avi@scylladb.com>, 2017-05-16 20:35:13 +0300, , test make connect_test use random port prevents spurious failure repeated run cause kind spurious failure hopefully rarer,,
3276,a563b148c072c706d91d484a9c6e6c59699c23c4,sias He <asias@scylladb.com>, 2017-05-15 16:04:54 +0800, , log introduce log.info0 like log.info log shard zero signed asia asia scylladb.com message scylladb.com,,
3277,278b2df97fa10fdaf222690fd049c48f1bebdf7d,akuya ASADA <syuu@scylladb.com>, 2017-05-16 04:48:24 +0900, , configure.py link dpdk pmd driver already built build dpdk enabled default dpdk config currently enables intel nics vmware paravirtual nic pmd driver already built pmd driver build dpdk enabled default dpdk config link support nics signed takuya asada syuu scylladb.com message 1494877704 16795 git send email syuu scylladb.com,,
3278,6e9785a200fef3529405f6b6a63ec5a851c61f3e,vi Kivity <avi@scylladb.com>, 2017-05-11 12:50:30 +0300, , update fmt submodule fmt 0a20325 ... a364de7 char_width char_size avoid collision iso iec 18661 2014 macro submodule point fmt seastar branch branch,,
3279,df5f74ac834850d493a854d53112ddc431372bda,lexys Jacob <ultrabug@gmail.com>, 2017-05-09 09:25:37 +0200, , perftune fix perftune.py indexerror nic irqs requested patch fix indexerror exception raised nics requested irqs typically msi one finally use case all_irqs list reference irqs present irqs2procline dict key generated proc interrupt raise indexerror exception filter using regular expression signed alexys jacob ultrabug gentoo.org message ultrabug gentoo.org,,
3280,d01f924893ced2923a828e588a991f59b83efccd,i Fanxi <lifanxi@hotmail.com>, 2017-05-05 11:10:08 +0800, , build add required build dependency dockerfile signed fanxi lifanxi hotmail.com message lifanxi hotmail.com,,
3281,2b2d9de29bc01aac6af6f424466d531c0882c2c9,mnon Heiman <amnon@scylladb.com>, 2017-05-08 13:32:18 +0300,284, prometheus reserve protobuf object iterating adding multiple object probuf implementation cause quadratic behavior number added object change add reserve adding object optimize see 284 signed amnon heiman amnon scylladb.com message amnon scylladb.com,,
3282,4a3118c6278ed8a510b1b9ca090469405c4188f3,vi Kivity <avi@scylladb.com>, 2017-04-30 10:37:21 +0300, , execution_stage fix wrong exception thrown non unique stage metric api also enforces uniqueness called execution stage registration throw earlier confuses unit test different exception type expected fix reversing order metric registration execution stage registration,,
3283,e7fbd026b227d72982daf60d1cee3e3d7e799b42,vi Kivity <avi@scylladb.com>, 2017-04-30 10:36:54 +0300, , metric add missing move assignment operator metric_group metric_groups,,
3284,9ebc8d467c4e2db8f816af4efa3aed56bb98b906,vi Kivity <avi@scylladb.com>, 2017-05-02 10:08:41 +0300, , remove unused lambda capture found zapcc rather underlying clang,,
3285,074fbe773cfe37f7753775c71b71cb6bfebe37b5,i Fanxi <lifanxi@hotmail.com>, 2017-04-23 23:09:06 +0800, , core lw_shared_ptr get return nullptr null pointer signed fanxi lifanxi hotmail.com message lifanxi hotmail.com,,
3286,194d80fc123b676f1bb8a4eaf1118f0bca7757b3,mnon Heiman <amnon@scylladb.com>, 2017-04-20 16:08:30 +0300,276, removing collectd test moving towards deprecating collectd metric registration api need keep test functionality testing longer used compilation break fix 276 signed amnon heiman amnon scylladb.com message amnon scylladb.com,,
3287,835eb37f1b5252e193a5de43e7125a6159ffd07e,lad Zolotarov <vladz@scylladb.com>, 2017-04-10 19:36:49 -0400,281, script perftune.py use command instead scanning system file current code main weakness implementation reading pid analysis two separate stage allows process pid disappear two stage patch eliminates problem removing two stage using cmd name command doe need adjust run_one_command able ignore non zero exit status simply run header cmd name would either return corresponding line process run exit non zero exit code running process given name also filter zombie process may part output fix 281 signed vlad zolotarov vladz scylladb.com,,
3288,83be9317ef4a524c2b28a965d96620808e6cde85,lad Zolotarov <vladz@scylladb.com>, 2017-04-06 18:28:22 -0400, , script perftune.py fix compute cpu mask calculation nvme case disk need tuned nvme disk tuning mode mode disk irqs equally distributed among available cpu compute cpu available cpu particular mean case configuration mode depend available cpu configuration signed vlad zolotarov vladz scylladb.com,,
3289,4fb2074177b203ba480edc9fbc91e1ca515117bd,lad Zolotarov <vladz@scylladb.com>, 2017-04-06 18:23:48 -0400, , script perftune.py add sanity check parameter add sanity check least one tune mode given disk tuning requested least either one directory one storage device given disk tuning requested least one disk tuned e.g user may give dir parameter none real directory add clear error message sanity requirement met signed vlad zolotarov vladz scylladb.com,,
3290,c5f307db7940768f3e538597bcd6c169fdcdad9c,lad Zolotarov <vladz@scylladb.com>, 2017-04-18 14:18:41 -0400,280, script perftune.py use pyudev 0.16 api fedora centos7.2 come latest 0.21 pyudev version ubuntu 16.04 come older 0.16 version patch change code use older api work 0.16 0.21 module version particular patch change code call instead also add missing error check found debugging issue fix 280 signed vlad zolotarov vladz scylladb.com,,
3291,052d9a900150f960a47857e0411ee5fc99881def,lad Zolotarov <vladz@scylladb.com>, 2017-04-18 10:36:19 -0400, , script perftune.py cleaup use list instead len list condition signed vlad zolotarov vladz scylladb.com,,
3292,5e1c236a263de7e5db0b55047a02f44297d5e89e,leb Natapov <gleb@scylladb.com>, 2017-04-18 15:48:22 +0300, , fix fstream metric reporting message scylladb.com,,
3293,4c7a9a73dde0b302240ea9c2ee89c01470ac7527,enot Canet <benoit.canet.contrib@gmail.com>, 2017-04-13 15:24:06 +0200, , do_for_each make check need preempt long futurized loop do_for_each lead reactor block task detector trigger due fact currently check need_preempt hence never relax needed fix signed beno canet benoit scylladb.com message benoit scylladb.com,,
3294,6c075a73f78cb346cb05845dd8296460596fff2c,aphael S. Carvalho <raphaelsc@scylladb.com>, 2017-04-10 19:09:20 -0300, , core sharded introduce copy method foreign_ptr add ability create another foreign ptr wrapped ptr must copyable work signed raphael carvalho raphaelsc scylladb.com message raphaelsc scylladb.com,,
3295,2eec212c09a872b0c09c685287e088b06f46163f,vi Kivity <avi@scylladb.com>, 2017-04-12 13:45:58 +0300, , merge add seastar checked_ptr class vlad series introduces seastar checked_ptr class fix issue found weak_ptr found way checked_ptr github.com cloudius system seastar dev test add core add checked_ptr core weak_ptr make comparison operator receive const reference right value core weak_ptr align get operator standard smart_pointer get interface,,
3296,641f07a37d4e40491465a2255d67eb1b451aae08,akuya ASADA <syuu@scylladb.com>, 2017-04-11 20:41:06 +0900,2186, resource reduce size fit low memory environment low memory environment like ec2 c3.large 3.75gb ram 2cores reserving 2gb much result scylla get 776mib per shard able launch fix issue change size max 1.5gb 0.07 panic_factor c3.large reserve 1.5gb abel use 2.25gb apps see scylladb scylla 2186 signed takuya asada syuu scylladb.com message 1491910866 28527 git send email syuu scylladb.com,,
3297,3d7b633c12fcc290870192acd4274cecbe43d1ce,lad Zolotarov <vladz@scylladb.com>, 2017-04-10 21:31:42 -0400, , test add test compilation correctness seastar checked_ptr class signed vlad zolotarov vladz scylladb.com,,
3298,59c1bf9094ce90227069306ef7d7983d56b57c7d,lad Zolotarov <vladz@scylladb.com>, 2017-03-27 16:26:24 -0400, , core add checked_ptr seastar checked_ptr class wrapper class may used pointer type smart like std unique_ptr raw pointer like int seastar checked_ptr object invoke nullderefaction functor dereferenced underlying pointer engaged may still assigned compared seastar checked_ptr object moved without limitation default nullderefaction throw seastar exception signed vlad zolotarov vladz scylladb.com,,
3299,55b29d08490ee2d0ba83579366d7c8922ad039bc,lad Zolotarov <vladz@scylladb.com>, 2017-04-10 21:29:24 -0400, , core weak_ptr make comparison operator receive const reference right value signed vlad zolotarov vladz scylladb.com,,
3300,74e54be7f16c3f3c0658ab0ebb96fbd35d781df0,lad Zolotarov <vladz@scylladb.com>, 2017-04-10 11:34:55 -0400, , core weak_ptr align get operator standard smart_pointer get interface need return const const weak_ptr wrong semantics order say underlying object const one work const underlying type e.g weak_ptr const my_struct weak_ptr get would return const my_struct value signed vlad zolotarov vladz scylladb.com,,
3301,9a44ea95ff28a1b983d72f749d436fb65950de9b,lad Zolotarov <vladz@scylladb.com>, 2017-04-06 15:11:56 -0400, , script add tune net parameter perftune.py invocation without tune mode parameter perftune.py script configure anything signed vlad zolotarov vladz scylladb.com message 1491505916 3915 git send email vladz scylladb.com,,
3302,0036350753bd0a6b86dde62948731d0d3335c4c2,lad Zolotarov <vladz@scylladb.com>, 2017-04-06 22:27:33 -0400, , core weak_ptr add weak_ptr std nullptr_t constructor signed vlad zolotarov vladz scylladb.com message 1491532053 2997 git send email vladz scylladb.com,,
3303,e899c0b3091149d7463d80c81b0141fbc44d9c27,lauber Costa <glauber@scylladb.com>, 2017-04-06 10:06:53 -0400, , perftune remove psutil dependency psutil available major distribution like centos7 python3 package great length provide additional package support clean way okay psutil really used dirscan done couple line code really worth pull extra dependency patch rewrite two method need use signed glauber costa glauber scylladb.com message glauber scylladb.com,,
3304,41fecdd3ff7efb8571a13e8fc88b2b214bfbb4bc,vi Kivity <avi@scylladb.com>, 2017-04-06 10:37:28 +0300, , metric change push_back ... emplace_back ... compiler interpret ... initializer list probably due std tuple constructor value type explicit changing emplace_back avoids issue fix 275,,
3305,8be51eba440c2afcceb66a0600013ad7e2dec3d6,mnon Heiman <amnon@scylladb.com>, 2017-04-03 11:51:44 +0300,271, prometheus return metric prefix moving new metric datastructure prometheus prefix drop mistake patch brings back fix 271 signed amnon heiman amnon scylladb.com message amnon scylladb.com,,
3306,533aee0d6b845b2b243dfa0f7df7ec7ac6518deb,vi Kivity <avi@scylladb.com>, 2017-04-02 16:49:56 +0300, , merge script perftune.py add disk tuning vlad series extends perftune.py tuning ability also tune disk addition networking one may choose want tune networking disk see patch description information series begin heavy rework current perftune.py script becomes like real python script instead shell script rewrite right lot oop enums static abstract method etc new split old configuration mode mode bind irqs cpu0 sibling cpu0 correspondingly see patch2 description detail github.com cloudius system seastar dev script perftune.py add support disk tuning script perftune.py add diskperftuner class script perftune.py rework netperftuner script perftune.py preserve existing option configuration script perftune.py introduce split mode change mode semantics script perftune.py change get_cpu_mask logic bonding interface script perftune.py catch exception fwriteln,,
3307,594c970b3dee775395db63eaff3adfdabd56086f,mnon Heiman <amnon@scylladb.com>, 2017-03-30 12:17:58 +0300,269, use safe name metric family metric family name used prometheus report metric safe funny character like minus space need safe manipulation protocol metric collecction instead use safe name metric family fix 269 message amnon scylladb.com,,
3308,c5dd395b3597a3f25671cdd2ec25d5a2ca099a81,omasz Grabiec <tgrabiec@scylladb.com>, 2017-03-31 11:50:17 +0200, , configure.py fix unrecognized option error fix following cc1plus error unrecognized command line option wno error deprecated werror cc1plus warning treated error message 1490953817 2010 git send email tgrabiec scylladb.com,,
3309,8e023438e770dfa859dd2460e11d9049ab0a0f7d,omasz Grabiec <tgrabiec@scylladb.com>, 2017-03-31 12:06:12 +0200, , merge fix fstream slow start pawe,,
3310,b9be9fbe90c5f321a0505f55f6f1a1b41a57a860,awe Dziepak <pdziepak@scylladb.com>, 2017-03-30 09:20:49 +0100, , test fstream test slow start behaviour,,
3311,ad45b71c25ffbed49ec04a04941efb0ab7d290df,awe Dziepak <pdziepak@scylladb.com>, 2017-03-30 09:19:46 +0100, , test add useful testing higher level layer built top file,,
3312,85fae2d9cd445f9bcf6e9b9ba8213da051e1320e,awe Dziepak <pdziepak@scylladb.com>, 2017-03-30 10:59:12 +0100, , fstream shrink buffer size unused total ratio target attempt increase buffer size much possible unused total ratio stay target even next buffer fully discarded happens attempt decrease buffer size provided ratio still good avoid two part logic fighting,,
3313,5cd1741fcdd93ffec0ecc81589b8ea49001f3606,awe Dziepak <pdziepak@scylladb.com>, 2017-03-30 10:53:13 +0100, , fstream clarify comment computing maximum buffer size drop,,
3314,04f3690d4f7d5f18c5242ec0ca449dddc23c065c,awe Dziepak <pdziepak@scylladb.com>, 2017-03-30 10:52:23 +0100, , fstream fix condition buffer size increased,,
3315,e02dd54e26e1e54ee500d85abb7543d1096ea243,awe Dziepak <pdziepak@scylladb.com>, 2017-03-30 10:51:42 +0100, , fstream fix maximum buffer size limitation,,
3316,0d7738220d5ac21f5d94ee38c8e3419834c1f0b2,vi Kivity <avi@scylladb.com>, 2017-03-28 19:32:43 +0300, , merge cleaner safer metric layer amnon series toughen clean metric layer remove option register using collectd metric layer used register new metric done remove remaining colectd registration seastar modify intenal external container register metric exported value metric value metric name combine name add validation check see metric register meric used single type amnon github.com cloudius system seastar dev metric collect metric metric name collectd deprecated metric registration collectd register metric using metric layer slab move metric registration metric layer httpd remove double registration metric,,
3317,b29557cb060a8c7d568a42f1d813cab4fb9171f8,mnon Heiman <amnon@scylladb.com>, 2017-03-22 10:24:23 +0200, , metric collect metric metric name patch address following issue collect metric name different label map entry verify metric register verify metric single type add value data structure shared pointer description make easier higher layer prometheus collectd without penalty copying computation assumption metric rarely change normal run often read schematically registration would look like map name metric_family metric_family map label registration additional information metric currently type additional metric information added following commits name metric name group name label map label name label value registration object hold information getting copy value map name vector registration value registration passed shared pointer hold information needed upper layer,,
3318,6b954c2b0b59f94c28efc96a7e353770e97a245d,mnon Heiman <amnon@scylladb.com>, 2017-03-23 12:51:00 +0200, , collectd deprecated metric registration metric longer register using collectd api metric layer patch mark registration function deprecated remove future signed amnon heiman amnon scylladb.com,,
3319,149e79705c00d35a7b4dbaec7953a2dd61b0d44f,mnon Heiman <amnon@scylladb.com>, 2017-03-22 10:12:10 +0200, , collectd register metric using metric layer patch change collectd implementation register hold metric using metric layer signed amnon heiman amnon scylladb.com,,
3320,dd5ffb9f10d96fbdcd12eb03d8d313c3aad72324,mnon Heiman <amnon@scylladb.com>, 2016-12-04 15:31:09 +0200, , slab move metric registration metric layer patch move metric registration collectd layer metric layer signed amnon heiman amnon scylladb.com,,
3321,489fcdaa695325f172ce8f39a66e8de6d1c4a5de,mnon Heiman <amnon@scylladb.com>, 2017-03-22 10:08:18 +0200, , httpd remove double registration metric signed amnon heiman amnon scylladb.com,,
3322,2ebe84205af51e2befcc3d19c9e6ed9be009f735,vi Kivity <avi@scylladb.com>, 2017-03-25 16:14:53 +0300, , merge various improvement execution stage pawe patch add individual metric execution stage fix problem creation execution stage add test tag pdziepak execution stage improvement github.com cloudius system seastar dev test execution_stage test unique stage name required test execution_stage add test creating stage execution_stage fix stage creation lreference function object test execution_stage add test metric add metric make metric_groups movable,,
3323,f8fa1f3a92befe6640ae3adbb75c43ede6427535,lauber Costa <glauber@scylladb.com>, 2017-03-23 09:50:33 -0400, , app template allow apps specify name help message right help message say app option app specific option naming core smp metric etc name nice addition allow application named well signed glauber costa glauber scylladb.com message 1490277033 31971 git send email glauber scylladb.com,,
3324,123fc801aba263e02593e4320c24a4e2b41d90c9,awe Dziepak <pdziepak@scylladb.com>, 2017-03-14 15:19:16 +0000, , test execution_stage test unique stage name required,,
3325,57524fe7a5d99c7de4d9ae4c32996c6193fa43d5,awe Dziepak <pdziepak@scylladb.com>, 2017-03-14 12:49:34 +0000, , test execution_stage add test creating stage,,
3326,9333fb1ca7f806721996e59ceafbb288c6ceff24,awe Dziepak <pdziepak@scylladb.com>, 2017-03-14 12:49:11 +0000, , execution_stage fix stage creation lreference function object,,
3327,7600fd1a8e387112bdead117c013a926044c37f8,awe Dziepak <pdziepak@scylladb.com>, 2017-03-14 12:38:28 +0000, , test execution_stage add test metric,,
3328,ca7b7736e93aa72167bc58584f3e4bf669451756,awe Dziepak <pdziepak@scylladb.com>, 2017-03-10 16:58:50 +0000, , add metric patch add four metric related execution stage tasks_scheduled tasks_preempted   allow determining function call per task ration need high execution stage bring benefit rate task preempted may show one reason call task ratio sufficiently high task enqueued task executed allows computing number queued task check whether execution stage undersupplied overloaded operating optimal capacity,,
3329,6b7c5c697bdfc1bdfa1e98609889923213036b68,awe Dziepak <pdziepak@scylladb.com>, 2017-03-23 12:56:11 +0000, , bool_class avoid initializing object incomplete type static data member bool_class tag yes incomplete type inside bool_class definition therefore initialised solution downgrade constexpr const initialise class fix 268 message pdziepak scylladb.com,,
3330,de76b8e826166c4b2c1dbf5e9ae70d9a6ee30d25,lad Zolotarov <vladz@scylladb.com>, 2017-03-17 23:29:36 -0400, , script perftune.py add support disk tuning default configure networking disk allow separate configuration disk networking signed vlad zolotarov vladz scylladb.com,,
3331,e4cfe7a67bdc0ed620cdf6237c0526427ac97d34,lad Zolotarov <vladz@scylladb.com>, 2017-03-22 20:34:18 -0400, , script perftune.py add diskperftuner class class tune disk according configuration mode right distribute non nvme disk irqs among designated cpu distribute nvme disk irqs among available cpu set noop scheduler underlying device set nomerges feature underlying device signed vlad zolotarov vladz scylladb.com,,
3332,eaea6838a4deffeb32662dd9fec722aeedc44c90,lad Zolotarov <vladz@scylladb.com>, 2017-03-18 00:00:52 -0400, , script perftune.py rework netperftuner major rework netperftuner original code rewrite shell script patch make look like python program prepares code creation another tuner take generic part netperftuner generic method made stand alone function introduce perftunerbase class store __mode __args corresponding irqs compute mask implement generic method e.g mode setter getter irqs getter etc expose generic getters property defines abstract method would required implemented child e.g tune use enum configuration mode define enum value ordered one cut biggest number cpu compute cpu set sq_split cut sibling cpu0 one cut smallest number cut cpu way may calculate common quotient mode simply choosing minimal mode use type cast trick replacing mode value checking signed vlad zolotarov vladz scylladb.com,,
3333,0f731de07fd276402f232b430342b6e8402ba3b9,lad Zolotarov <vladz@scylladb.com>, 2017-03-17 23:48:28 -0400, , script perftune.py preserve existing option configuration signed vlad zolotarov vladz scylladb.com,,
3334,d70d09ce30fd4a3ed6450ae2520aa6740cef08c8,lad Zolotarov <vladz@scylladb.com>, 2017-03-13 19:07:09 -0400, , script perftune.py introduce split mode change mode semantics new split mode divide nic irqs hts first physical core mode bind irqs cpu0 use cpu rps default choose split mode physical core per nic queue otherwise choose mode per nic queue particular ensures always cut compute power irqs handling signed vlad zolotarov vladz scylladb.com,,
3335,696a6824c3aa5f3e44c39867c0ccc5cd455254e0,lad Zolotarov <vladz@scylladb.com>, 2017-03-13 19:04:22 -0400, , script perftune.py change get_cpu_mask logic bonding interface return narrowest cpu mask among slave mask instead widest want bind shard cpu may used irqs handling signed vlad zolotarov vladz scylladb.com,,
3336,1f6930dcbd868a8277f751f0460283242f82f078,lad Zolotarov <vladz@scylladb.com>, 2017-03-22 10:33:19 -0400, , script perftune.py catch exception fwriteln instead passing exception log error continue signed vlad zolotarov vladz scylladb.com,,
3337,59c5290a5c00ca6d363d31d4c808d27099012f03,lauber Costa <glauber@scylladb.com>, 2017-03-21 16:36:21 -0400, , app template make sure still get help required option notify throw required option set since checking presence help switch check notify invoking app help work app required option signed glauber costa glauber scylladb.com message 1490128581 6235 git send email glauber scylladb.com,,
3338,a64e459468fdf2bd81ba71aaa127a17a3e093a24,awe Dziepak <pdziepak@scylladb.com>, 2017-03-21 15:55:24 +0000, , make metric_groups movable,,
3339,6d3553279c3590aeb1f84695a1b3621b755561d2,mnon Heiman <amnon@scylladb.com>, 2017-03-08 18:00:09 +0200,221, prometheus http handler return prometheus 0.4 protobuf text format prometheus binary protocol efficient way sending prometheus data many time helpful look metric directly server text protocol api convinient patch change prometheus api respect accept header client accept protobuf result binary format result text format fix 221 signed amnon heiman amnon scylladb.com message 1488988809 20509 git send email amnon scylladb.com,,
3340,e9e4265095294540517d55989ca449d78ded3dad,akuya ASADA <syuu@scylladb.com>, 2017-03-15 20:50:29 +0900, , update dpdk 17.02 signed takuya asada syuu scylladb.com message 1489578629 32659 git send email syuu scylladb.com,,
3341,6b21197fd20f41f3be0e373f0ac1240e0baa828d,omasz Grabiec <tgrabiec@scylladb.com>, 2017-03-16 11:21:35 +0100, , core memory expose control free memory low water mark amount reserve needed may application specific allow control reserve obtaining current target message 1489659695 10474 git send email tgrabiec scylladb.com,,
3342,a3e629b89a4f0918bef6a449208dc312fe343186,lad Zolotarov <vladz@scylladb.com>, 2017-03-14 21:23:18 -0400, , script add perftune.py script handle seastar specific setup tuning right contains logic patch also change simply call perftune.py signed vlad zolotarov vladz scylladb.com message 1489540998 21080 git send email vladz scylladb.com,,
3343,d4c4c40a453ec89b309149a87a71d45093e54270,adav Har'El <nyh@scylladb.com>, 2017-03-14 16:32:34 +0200, , tutorial make network example work multi core far network server example explained work single core unduly confusing beginner read limitation promptly forgot better show front run service loop core simplest way using smp submit_to network server example work number core signed nadav har nyh scylladb.com message nyh scylladb.com,,
3344,4d25b85fbcbfe8c9907ff7df5c933457d63b6a84,aphael S. Carvalho <raphaelsc@scylladb.com>, 2017-03-13 14:53:12 -0300, , core file fix eof detection file custom impl read_maybe_eof work custom file impl wrap posix file handle exception relies einval signal eof exposed recent fix read_maybe_eof patch introduces dma_read_bulk pure virtual break backward compatibility user extended file_impl like scylla anybody implemented custom file system file api user affected whatsoever dma_read_bulk impl tied posix file impl signed raphael carvalho raphaelsc scylladb.com message raphaelsc scylladb.com,,
3345,1e50eb554a01d385943aa31ab064ef99b0916473,aphael S. Carvalho <raphaelsc@scylladb.com>, 2017-03-13 10:49:49 -0300, , tutorial fix echo server example response buffered client would see connection closed signed raphael carvalho raphaelsc scylladb.com reviewed nadav har nyh scylladb.com message raphaelsc scylladb.com,,
3346,fd29fd082afbbd8add0119fd265055e5c48585eb,adav Har'El <nyh@scylladb.com>, 2017-03-12 17:03:29 +0200, , fix smp submit_to function reference smp submit_to try cleverly optimize case submitting functor run current cpu functor lvalue case avoid increasing lifetime do_with need case functor rvalue problem clever code doe correctly handle case normal function e.g. extern future return smp submit_to case get reference function used make_unique cause compilation error solution patch use std decay_t convert function reference traditional function pointer pointer copied around perhaps efficient solution allocate memory copy pointer solution would much complex case optimize submit different cpu case currently always allocate signed nadav har nyh scylladb.com message nyh scylladb.com,,
3347,cbb959e0c6b2ee02d6eca8a301182d028ee59ba3,awe Dziepak <pdziepak@scylladb.com>, 2017-03-10 16:58:49 +0000, , execution_stage add concept restraint operator message pdziepak scylladb.com,,
3348,743723fc79d8f40a926908181026a709a8cbe719,omasz Grabiec <tgrabiec@scylladb.com>, 2017-03-10 13:19:22 +0100, , core add operator message 1489148362 18404 git send email tgrabiec scylladb.com,,
3349,b8833bcb5f7a4d74b9a984d578cb112d62780219,awe Dziepak <pdziepak@scylladb.com>, 2017-03-10 11:05:30 +0000, , map_reduce allow reducer take accumulated value rref message pdziepak scylladb.com,,
3350,84a0b703742a5616bbdca2df6bcb0af9d2126a47,vi Kivity <avi@scylladb.com>, 2017-03-08 19:37:24 +0200, , build error deprecated apis allows use apis get deprecated even deprecate apis minute warning completely removed,,
3351,384c81ba7227a9a99d485d1bb68c98c5f3a6b209,vi Kivity <avi@scylladb.com>, 2017-03-08 19:05:32 +0200, , merge introduce execution stage pawe series introduces execution stage seastar main purpose allow batching function call order improve instruction cache locality potential cost increased latency worse data cache locality tag pdziepak execution stage github.com cloudius system seastar dev test add test execution stage introduce execution stage util add util add tuple_map_types,,
3352,2bf6624c7450e41240103e6ea89c126c7d6c8422,adav Har'El <nyh@scylladb.com>, 2017-03-07 17:28:09 +0200, , remove unused include statement need include deque used included even used chunked_fifo used instead signed nadav har nyh scylladb.com message nyh scylladb.com,,
3353,d468ea5c627aa210b41cec522b3bc12c7cc0c3d2,mnon Heiman <amnon@scylladb.com>, 2017-03-07 12:50:51 +0200, , http catch count error read respond prevent http server ignoring future exception patch wrap respond future error ignored also counter read respond error added currently multiple intances http server run simultaniously example rest api prometheus api distinguish counter additinoal label added server hold server name i.e prometheus http etc signed amnon heiman amnon scylladb.com message 1488883851 25672 git send email amnon scylladb.com,,
3354,e93676997988c7e1e250e01ea1cbcda00769aba5,vi Kivity <avi@scylladb.com>, 2017-03-07 12:51:02 +0200, , merge adding metric configuration amnon patch add configuration metric layer currently hold hostname configuration option added future amnon github.com cloudius system seastar dev collectd default use metric hostname add metric hostname configuration,,
3355,23ac7798b954c508fee464b57e197310dca3d5c8,mnon Heiman <amnon@scylladb.com>, 2017-02-28 17:39:38 +0200, , collectd default use metric hostname metric hostname configuration collectd use backward compatibility collectd hostname remains marked deprecated signed amnon heiman amnon scylladb.com,,
3356,36e2b4ef4608788a1e84be7ea5c819cbea5a70ce,mnon Heiman <amnon@scylladb.com>, 2017-02-27 17:31:25 +0200,2110, add metric hostname configuration sometimes useful set hostname used metric implementation insted using machine hostname either would meaning running multiple instance host patch add configuration parameter set app_template modify prometheus collectd implementation use see scylladb scylla 2110 signed amnon heiman amnon scylladb.com,,
3357,0ed826db3da55e103ee63562240bda0d7193a166,vi Kivity <avi@scylladb.com>, 2017-03-01 00:12:15 +0200, , future add concept map_reduce,,
3358,58bc7495c67e163244188df10a28c651a49c06f9,awe Dziepak <pdziepak@scylladb.com>, 2017-03-02 16:08:08 +0000, , test add test execution stage,,
3359,59b78e5fff377bed16e31cddf92d1406fe56fea1,awe Dziepak <pdziepak@scylladb.com>, 2017-02-22 20:55:03 +0000, , introduce execution stage execution stage provide infrastructure processing function call batch order improve instruction cache locality potential cost latency worse data cache locality seastar allows wrapping function execution stage would queue function call execute batch,,
3360,16b2166328e7c4fffc6543e11250508cf08d4952,awe Dziepak <pdziepak@scylladb.com>, 2017-03-02 16:08:34 +0000, , util add seastar construct similar std except allow implicit construction reference requires use seastar ref make possible force passing object lvalue explicit,,
3361,c00bafa83821e5621e82a3cc081ee0982ff16f9b,awe Dziepak <pdziepak@scylladb.com>, 2017-03-02 16:08:46 +0000, , util add tuple_map_types tuple_map_types applies type transformation every element type tuple,,
3362,14b09b781dd7d225482ea2bd966d16ef226362a6,awe Dziepak <pdziepak@scylladb.com>, 2017-03-02 13:31:55 +0000, , doxygen exclude directory message pdziepak scylladb.com,,
3363,b92065a3ccf04d9dd6bf5664665d8767eb586734,lad Zolotarov <vladz@scylladb.com>, 2017-03-01 09:04:14 -0500, ," script add use cpu mask option option allows restricting script specified cpu set make script configure distribute irqs needed among cpu given set cpu set given form bit mask instance server core want use core 1,2 command nic name use cpu mask 0xe cpu mask always cut actual cpu set current machine example one could give 0xffffffe achieve result one usage example may always excluding core scylla cpu set aws instance nic name use cpu mask 0xfffffffe note mode would still bind nic irqs core regardless given mask signed vlad zolotarov vladz scylladb.com message 1488377054 30196 git send email vladz scylladb.com",,
3364,297c7e33cabaeb663b0e52bb37aac650e000670f,aphael S. Carvalho <raphaelsc@scylladb.com>, 2017-03-01 10:52:32 -0300, , file take flush account calculating size truncate optimize_queue flush size changing operation sloppy size enabled meaning run parallel operation calculating speculative size ops come may result useless truncate flush later truncate file back logical size signed raphael carvalho raphaelsc scylladb.com message 1488376352 6744 git send email raphaelsc scylladb.com,,
3365,10ff662e2e8ba865d0aab32be2789cca110f56ab,mnon Heiman <amnon@scylladb.com>, 2017-03-01 13:28:24 +0200, , fixing prometheus cleanup patch add line missing original patch without compilation break signed amnon heiman amnon scylladb.com message 1488367704 19190 git send email amnon scylladb.com,,
3366,115175d87e8c83b61d31cfd9cf62f9a40bc6c127,vi Kivity <avi@scylladb.com>, 2017-02-28 19:10:51 +0200, , merge better distribute ingres processing vlad series try improve distribution ingres processing among present shard github.com cloudius system seastar dev script rework mode default mode selection script filter irqs script enable together rps script distribute rps among script use get_irqs_one interface script declare internal variable local script use rps queue number irqs number estimate,,
3367,e9b23b7a56a8ec61a4cab600ef75aaaf34c8eec4,mnon Heiman <amnon@scylladb.com>, 2017-02-17 00:24:58 +0200, , prometheus code clean shard label need special case api need add help metric signed amnon heiman amnon scylladb.com message 1487283899 6076 git send email amnon scylladb.com,,
3368,84c2f7cd10ee7ebeea2e0d47c28aa94463d378e1,vi Kivity <avi@scylladb.com>, 2017-02-28 13:29:40 +0200, , future relax finally constraint even duarte note allow non void non future return value mean constraint return value continuation,,
3369,5861f99be668ca58db994e92562c0070f5f223d8,vi Kivity <avi@scylladb.com>, 2017-02-28 13:11:37 +0200, , future adjust finally constraint allow future returned continuation according implementation documentation finally allows value returned continuation allow,,
3370,a54204d2720c876a9ea668f531b1ef5ee7786665,vi Kivity <avi@scylladb.com>, 2017-02-28 12:34:29 +0200, , build allow specifying compiler useful distcc ccache bundled library,,
3371,9d46d8a413dbd16bb499b8a735cde2428bd1f610,alle Wilund <calle@scylladb.com>, 2017-02-21 13:28:25 +0000, , socket change signature impls socket shutdown void previous patch ensured shutdown call never block set remove future return value message 1487683705 23486 git send email calle scylladb.com,,
3372,762249faeca6e3f45b5859c64124b7b0feeb6d8a,vi Kivity <avi@scylladb.com>, 2017-02-27 23:05:25 +0200, , reactor give name thread various thread named identify role shard reactor syscall timer shard reactor untouched since changing name also change process name help identifying thread doe cpu message avi scylladb.com,,
3373,78f1cf3ec56ce12c030399c3f97b03c3eab12f92,vi Kivity <avi@scylladb.com>, 2017-02-13 20:23:17 +0200, , concept support add experimental support concept concept wrapped gcc6_concept macro hide concept support disabled method future well primitive future util.hg constrained note concept support experimental may change technical specification approved message avi scylladb.com,,
3374,3dd252e5aebd2502b3c1af4aff62e11737d08601,omasz Grabiec <tgrabiec@scylladb.com>, 2017-02-22 13:16:49 +0100, , core file fix short read read_maybe_eof buf moved expression buf.size buf.write dma_read call result dma_read invoked size returning data affect restult read single dma read enough service request message 1487765809 10745 git send email tgrabiec scylladb.com,,
3375,ab83aa327f109bf36fdc85429bfad44dc670390c,omasz Grabiec <tgrabiec@scylladb.com>, 2017-02-22 19:09:07 +0100, , core fstream avoid issuing read request beyond _remain currently issue read_dma_bulk request may read past _remain due align_up _pos _remain file end result two io_submit request first one satisfy request second one discover eof make request past _remain one io_submit issued fine end position unaligned read_dma_bulk aligning internally read_dma_bulk may reutrn data requested need check need trim fine without check end always aligned case read_dma_bulk return exactly requested message 1487786947 29628 git send email tgrabiec scylladb.com,,
3376,28f755008a68de8414eedf9eab96263166bace1f,omasz Grabiec <tgrabiec@scylladb.com>, 2017-02-22 19:12:00 +0100, , test improve assertion failure message message 1487787120 29867 git send email tgrabiec scylladb.com,,
3377,47581235972b8aa40007df2e5674a7f12a139dd2,omasz Grabiec <tgrabiec@scylladb.com>, 2017-02-22 19:14:14 +0100, , reactor expose stats public api useful writing test built stat reporter message 1487787254 30856 git send email tgrabiec scylladb.com,,
3378,4d4a58d15ac20c9037bd52222c9046be8fadc0dc,mnon Heiman <amnon@scylladb.com>, 2017-02-21 14:01:27 +0200,248, reactor utilization return utilization range reactor load parameter repot percentage cpu used utilization metric report revert fix 248 signed amnon heiman amnon scylladb.com message 1487678487 5029 git send email amnon scylladb.com,,
3379,74f4183f9d987751abd31eeb7b36882d2efe7341,mnon Heiman <amnon@scylladb.com>, 2017-02-18 10:31:01 +0200,243, collectd ignore type label name creation type another label collectd include creating collectd name fix 243 signed amnon heiman amnon scylladb.com message 1487406661 5701 git send email amnon scylladb.com,,
3380,9cc5f3cf5e9db475f4890ea46fe04039dc8141b5,leb Natapov <gleb@scylladb.com>, 2017-02-19 17:15:31 +0200, , fix process_queue handle recursion process_queue may called recursively run resolve immediately function doe handle reentery properly fix message scylladb.com,,
3381,5088065a503392135953854adb0db920759317f8,akuya ASADA <syuu@scylladb.com>, 2017-02-17 01:53:33 +0900,2085, configure.py switch cmake build source tree build debian packaging system accept modification source tree building doe generate configure script scylla .deb package build fails avoid problem switch cmake instead configure make see scylladb scylla 2085 signed takuya asada syuu scylladb.com message 1487264013 15359 git send email syuu scylladb.com,,
3382,640ef37b4c71ec4c3f0cfdf64539263ee03ebab1,lauber Costa <glauber@scylladb.com>, 2017-02-14 12:15:06 -0500, , iotune make sure help working bpo notify throw call iotune iotune help evaluation directory mandatory present command line end confusing message telling try help move earlier work signed glauber costa glauber scylladb.com message 1487092506 9223 git send email glauber scylladb.com,,
3383,6ff9c2d1965466341c9579a4e0ddda1bc659ee11,mnon Heiman <amnon@scylladb.com>, 2017-02-14 15:54:41 +0200,2072, collectd send double correctly gauge change metric layer type_value implemented union gauge set double read unsigned collectd switch bit representation see scylladb scylla 2072 signed amnon heiman amnon scylladb.com message 1487080481 29263 git send email amnon scylladb.com,,
3384,eb246a2648b577483223ccc450db5160dcdefdfc,alle Wilund <calle@scylladb.com>, 2017-02-08 13:11:56 +0000, , make shutdown close clean handshake shutdown background continuation previous rfc series source sink first class channel owner make socket shutdown wait placing actual shutdown backgound timed task shutdown release also always attempt clean shutdown handshake socket close release note background task timeout wholly arbitrary attempt limit allocation new connection release old remaining pending making shutdown close instantaneous caller keep connection live time background attempting clean shutdown message 1486559516 14862 git send email calle scylladb.com,,
3385,764a8c5b5f9fe44267b0a2a34b9a78902ca7a9d9,alle Wilund <calle@scylladb.com>, 2017-02-06 15:18:26 +0000, , make sink source i.e stream first class channel owner ensure posix socket stream keep alive ensuring last object released socket outstream close stream close act shutdown break session apart shared conn socket sink source i.e indirection message 1486394306 1504 git send email calle scylladb.com,,
3386,0e5c9487974f960c997e3f68f1f0ea96972a0281,alle Wilund <calle@scylladb.com>, 2017-02-06 15:18:25 +0000, , native stack make sink source i.e stream first class channel owner ensure native socket stream keep alive ensuring last object released socket outstream close stream close act shutdown message 1486394306 1504 git send email calle scylladb.com,,
3387,2494d4c02e19121f0467c046ca8b821e69f22975,alle Wilund <calle@scylladb.com>, 2017-02-06 15:18:24 +0000, , posix stack make sink source i.e stream first class channel owner ensure posix socket stream keep alive ensuring last object released socket outstream close stream close act shutdown message 1486394306 1504 git send email calle scylladb.com,,
3388,1501f67c50b59309718cbad333b1a05aeaa2115c,vi Kivity <avi@scylladb.com>, 2017-02-14 09:11:56 +0200, , merge detector task blocked glauber due cooperative model task buggy end going infinite loop otherwise blocking excessive amount time lose reactor potentially forever absence metric problem really hard debug patch brings back old task_quota signal unused since moved thread fire signal task quota thread detects stalling long print backtrace least allow see happened mechanism also easily adapted detect task respected task quota quantum lowering stall threshold done command line parameter tag task detector github.com glommer seastar detector task blocked backtrace print temporary buffer stderr print_safe.hh factor code convert integer representation reactor remove,,
3389,ea59ea90df2439c4c016e649abe6750a1f15eae8,lauber Costa <glauber@scylladb.com>, 2017-02-01 15:49:39 -0500, , detector task blocked due cooperative model task buggy end going infinite loop otherwise blocking excessive amount time lose reactor potentially forever absence metric problem really hard debug patch brings back old task_quota signal unused since moved thread fire signal task quota thread detects stalling long print backtrace least allow see happened mechanism also easily adapted detect task respected task quota quantum lowering stall threshold done command line parameter signed glauber costa glauber scylladb.com,,
3390,28a143aee200554536773b8e6859de8288d2111b,vi Kivity <avi@scylladb.com>, 2017-02-12 16:23:05 +0200, , prometheus send one metricfamily per unique metric name prometheus api requires unique name present one metricfamily object unify metric according name via temporary unordered_map along way eliminate quadratic behavior rep _content showing latency profile message avi scylladb.com,,
3391,1bfa8d8e55ebb3e5d45bf816e5d594b9349e3dc4,omasz Grabiec <tgrabiec@scylladb.com>, 2017-02-10 20:05:37 +0100, , test add test circular_buffer erase message 1486753537 17184 git send email tgrabiec scylladb.com,,
3392,a2505a4db82b1fdcb6f6cfb73538ba442869563c,omasz Grabiec <tgrabiec@scylladb.com>, 2017-02-10 20:05:36 +0100, , circular_buffer introduce erase message 1486753537 17184 git send email tgrabiec scylladb.com,,
3393,77ea46c6a4a2a4e3967c860707ae22de5a9526bf,lauber Costa <glauber@scylladb.com>, 2017-02-07 19:43:23 -0500, , backtrace print temporary buffer stderr various shard print backtrace time resulting backtraces unreadable fix accumulating result buffer first pushing whole result stderr theoretically still happen output garbled since buffer finite size 8kb enough backtraces signed glauber costa glauber scylladb.com,,
3394,c355ae3205033eb8184d2d64bd9ca6ef4bfd0577,lauber Costa <glauber@scylladb.com>, 2017-02-07 19:41:21 -0500, , print_safe.hh factor code convert integer representation done option converting buffer directly stdout code convert integer temporary buffer since want buffer filled left right possible fill buffer left directly without intermediate buffer code massively simpler way signed glauber costa glauber scylladb.com,,
3395,15c8a6a5987064a055a627dc90bd458f6828e416,lauber Costa <glauber@scylladb.com>, 2017-02-07 21:59:21 -0500, , reactor remove longer used stopped clearing task quota signal handler signed glauber costa glauber scylladb.com,,
3396,5bf301a38d3fe22d2e6b4f197c1f586e83d2b635,lauber Costa <glauber@scylladb.com>, 2017-02-08 11:48:13 -0500, , protect infinite do_until loop do_until never defer future always ready best make fail respect task_quota worst lead infinite loop block whole reactor code simple return do_until return false return obviously execute loop forever patch least keep executing continuation keeping reactor alive signed glauber costa glauber scylladb.com message 1486572493 25335 git send email glauber scylladb.com reviewed nadav har nyh scylladb.com,,
3397,4ffa05c39c98b38298403e652203be4c1558f03c,mnon Heiman <amnon@scylladb.com>, 2017-02-07 11:45:50 +0200, , metric alternative metric creation label added metric creation function support label putting lambda function last parameter signed amnon heiman amnon scylladb.com message 1486460750 590 git send email amnon scylladb.com,,
3398,83a41c80b4ba23cf474859d0020745c3fb019cd9,mnon Heiman <amnon@scylladb.com>, 2017-02-05 19:18:04 +0200, , cleaning metric api clean three goal remove inherit type like instance basically label need special treatment clean default value metric helper function metric creation function many default parameter almost never use end ugly function call one needed add method creation api lambda function last parameter way cleaner doe work default parameter get rid enable disable flag type parameter class metric helper return two function operator one accept bool one accept label way create disable metric call like make_gauge my_gauge false override type label call make_gauge my_gauge type_label queue_length method return reference concatinate guage derive histogram got alternative parameter val either reference lambda last parameter call make_gauge my_gauge description my_description return get_byte  move reactor dpdk new metric api updated metric api cleaner way dealing disabled metric specific instance practice dpdk reactor place need functionality patch move udpated api message 1486315084 28129 git send email amnon scylladb.com,,
3399,109b4024da577a32cf8dc4d20d2f5aefa131e808,adav Har'El <nyh@scylladb.com>, 2017-02-05 17:11:57 +0200, , tutorial pick name asynchronous function previously mentioned name asynchrnous function promise two valid name thing term promise confusing different future based implementation use different thing also promise variable instead explain term promise mention avoid throughout tutorial prefer term asynchronous function already signed nadav har nyh scylladb.com message nyh scylladb.com,,
3400,4309e90ceae8aa40d3eb3b01684c30a4836ec40d,adav Har'El <nyh@scylladb.com>, 2017-02-05 18:44:45 +0200, , tutorial explain difference exception exception future explain difference exception exceptional future warn surprising implication throwing asynchronous function talk various workarounds including futurize_apply signed nadav har nyh scylladb.com message nyh scylladb.com,,
3401,f98f341a755a8b6919d4435ed6da86822ffc14d0,adav Har'El <nyh@scylladb.com>, 2017-02-05 19:03:47 +0200, , tutorial abstract tutorial introduction pretty long add short 3rd page introduction introduction explains high level seastar goal allow writing application fast complex use share nothing architecture signed nadav har nyh scylladb.com message nyh scylladb.com,,
3402,fa1ffc29a6956ad85ce1fb8f20182396b50a1ff3,adav Har'El <nyh@scylladb.com>, 2017-02-02 19:19:28 +0200, , ninja bother building shared library configure default building shared static library need shared library let waste time building signed nadav har nyh scylladb.com message nyh scylladb.com,,
3403,b80a20c55a93bdac48351d3cfb56eb6e8ae05d4e,adav Har'El <nyh@scylladb.com>, 2017-02-02 19:15:09 +0200, , ninja unbreak build ordering linking stage depends libcares seastar.a exist specify explict dependency rather generic dependency entire build library know built lucky user got library built needed compilation worked unlucky user like tried link library built patch add dependency linking rule require library built linking ninja work even unlucky user implementation add general concept built_libs target need actually build use libs right library libcares seastar.a future also move dpdk library target new facility hoc treatment dpdk_deps continues work  signed nadav har nyh scylladb.com message nyh scylladb.com,,
3404,479d5a8e1d11eca4f95184f7dd73d80c916476fc,adav Har'El <nyh@scylladb.com>, 2017-02-02 19:04:05 +0200, , ninja unbreak ninja clean recent addition build ninja clean left build directory unusable state ninja able build seastar problem ninja clean deletes target know entire build directory specifically target wanted build release .libs libcares.a file removed problem remove file run make nothing get built unfortunate consequence using libtool actual library considered byproduct makefile think real target build release libcares.la small text file force .libs libcares.a rebuilt need make sure libcares.la deleted ninja clean need specify target signed nadav har nyh scylladb.com message nyh scylladb.com,,
3405,78e56371ba89c6bcbcaf0a180d8ce0b89634dd17,vi Kivity <avi@scylladb.com>, 2017-02-05 10:41:33 +0200, , add libtool dependency,,
3406,f07f8ed68df8331ed6fc5597de2b39fe539f4db2,vi Kivity <avi@scylladb.com>, 2017-02-02 10:42:31 +0200, , merge introduce pawe two patch introduce higher level version when_all deal correctly exception user code need boiler plate code order avoid silently ignored failed future moreover error also extract value future replacement when_all allow flexible handling exception originating different source many case convenient error prone alternative pdziepak succeed github.com cloudius system seastar dev test futures_test add test future util introduce utils add helper dealing tuples when_all allow transforming final result,,
3407,6609d5578911d1c8f91077341738e905b173928c,awe Dziepak <pdziepak@scylladb.com>, 2017-02-02 00:24:30 +0000, , test futures_test add test,,
3408,c00398ff6e510da68bf5c7fa62a8aaedfe9d4bd0,awe Dziepak <pdziepak@scylladb.com>, 2017-02-02 00:21:38 +0000, , future util introduce when_all return tuple vector resolved future user code responsibility correctly handle potential exception often inconvenenient future need checked error case one remaining future need explicitly ignored since many user interested actual returned value fact future resolved error care one whence came new construct introduced behaves much like when_all except also check whether error failed future containing one exception returned otherwise future vector future transformed removing valueless future extracting value remaining one value tuple containing single object unpacked,,
3409,060020a3f797c6d69e8227533efcc329e666c6e2,awe Dziepak <pdziepak@scylladb.com>, 2017-02-01 11:40:27 +0000, , utils add helper dealing tuples patch introduces map filter type operation work tuples,,
3410,53b5aed627c4faf232cf69a7152f9d30606dd01a,awe Dziepak <pdziepak@scylladb.com>, 2017-02-01 22:55:38 +0000, , when_all allow transforming final result patch add possibility internal helper used when_all transform final result returned user code without attaching additional continuation going useful implementing,,
3411,71b2b8fc5ff0890dbc1802f53a90bbb9f0920096,vi Kivity <avi@scylladb.com>, 2017-02-01 15:19:24 +0200, , test adjust collectd test metric api change,,
3412,6cf6a033a9292ff1723a95a843efc9f6c4e0e4df,vi Kivity <avi@scylladb.com>, 2017-02-01 14:50:12 +0200, , merge dns query support calle based dns query module based fork library using virtual socket function luck happy code put mainline library add scylladb forkof submodule building linking  add seastar net dns_resolver object handle lookup deal handling add inet_address type well guess ... add convinience call inet_address lookup normal address resolution done via thread_local global resolvers attached active network stack separate object used different setting stack need resolver object doe _not_ cache lookup cache probably better suited build top though query soa record need wrapped case calle dns github.com cloudius system seastar dev net ipv4_addr add constructor seastar net inet_address net qualify net ref better net etc seastar net inet_address add dns query wrapper function easy lookup add based dns query support posix_stack make close wake pending ops native_stack udp make close wake pending ops socket_address add ostream operator comparison add seastar net inet_address type packet fix constness templated size summary loop configure.py add building linking library add dns query library submodule,,
3413,cf9f2fb2d8cd7f8e2cf5bbadb2b5ee490489c098,alle Wilund <calle@scylladb.com>, 2016-11-30 15:23:32 +0000, , net ipv4_addr add constructor seastar net inet_address,,
3414,ef07518a7f747a92bdc2d958710cc0e559660c1d,alle Wilund <calle@scylladb.com>, 2016-11-30 12:22:35 +0000, , net qualify net ref better net etc seastar net net namespaces ...,,
3415,b22d1f5287f463df270b39a48eec6b20e66df2e8,alle Wilund <calle@scylladb.com>, 2016-11-29 08:43:30 +0000, , seastar net inet_address add dns query wrapper function easy lookup,,
3416,fea5d80d21f7fe9b79646f7209d678d7bf60bead,alle Wilund <calle@scylladb.com>, 2016-11-23 12:58:12 +0000, , add based dns query support add seastar net dns_resolver method query name address wrap nasty state machine emulate bsd nonblocking seastar patched virtual provider struct like seastar handle ipv4 atm,,
3417,39f3261cdac952c631239c9d17f2276c3ce60048,alle Wilund <calle@scylladb.com>, 2016-11-28 15:58:18 +0000, , posix_stack make close wake pending ops shall sleep forever,,
3418,c5866f1180087ece27ca489cd2cdc58979523fbe,alle Wilund <calle@scylladb.com>, 2016-11-28 15:57:16 +0000, , native_stack udp make close wake pending ops otherwise way get wake,,
3419,724aa14ea70241b46925a24f8b418d7385c82516,alle Wilund <calle@scylladb.com>, 2016-11-23 12:46:08 +0000, , socket_address add ostream operator comparison,,
3420,b2b733479a66ed0b6667e6ed96169affa43c8aaa,alle Wilund <calle@scylladb.com>, 2016-11-29 08:42:03 +0000, , add seastar net inet_address type,,
3421,23d8e03c9b3321d99b9a03fa9292b9b3c5691d53,alle Wilund <calle@scylladb.com>, 2016-11-23 12:46:57 +0000, , packet fix constness templated size summary loop,,
3422,63d5092e5dcf8cb7bf3b23d2d45968a1e992bc13,alle Wilund <calle@scylladb.com>, 2016-11-23 12:42:19 +0000, , configure.py add building linking library,,
3423,7d9644e6de9b4cac19e0cd38bed96dfdca70b5ab,alle Wilund <calle@scylladb.com>, 2017-02-01 12:36:10 +0000, , add dns query library submodule,,
3424,c1dbd89896ec120fd4347e15f8ec46955a582a48,awe Dziepak <pdziepak@scylladb.com>, 2017-01-31 19:57:30 +0000, , lowres_clock drop cache line alignment _timer version gcc add support aligned new also mean gained awarness code incorrectly using plain new allocating memory object alignent requirement larger max_align_t case lowres_clock problematic member _timer aligned cache line apparently avoid false sharing however really necessary non static member class indeed lowres_clock _now read cpu appropriately aligned since static going far away _timer message pdziepak scylladb.com,,
3425,83bbedb04ca2ab178ebc7ae6291786adfb61a68c,awe Dziepak <pdziepak@scylladb.com>, 2017-01-31 19:57:29 +0000, , net packet add missing include message pdziepak scylladb.com,,
3426,b1ef4e260dc915386676a91ee48dee604886bdb8,vi Kivity <avi@scylladb.com>, 2017-02-01 13:20:52 +0200, , merge adding histogram description support amnon  series add histogram support metric layer series able add histogram metric calling make_histogram helper function example _metrics metric_groups _metrics add_group storage_proxy make_histogram read_latency _histogram description read latency histogram  amnon github.com cloudius system seastar dev scollectd ignore histogram prometheus add histogram support metric add histogram type support adding metrics_types,,
3427,44c6d0a5ab4aa42d5ec29d759014561ccf89bb2f,lad Zolotarov <vladz@scylladb.com>, 2017-01-05 21:39:07 -0500, , script rework mode default mode selection configuring mode always bind irq single core order avoid migration hwloc distrib single mode always enable rps distribute ingres processing among addition irqs distribution enabling rps would also enable going improve thing even since ingres packet going handled cpu owns destination socket machine physical cpu per queue always use mode otherwise configure mode signed vlad zolotarov vladz scylladb.com,,
3428,ce003ba6b81ab2cd80c75f276fe7516fe582c278,lad Zolotarov <vladz@scylladb.com>, 2017-01-19 15:28:19 -0500, , script filter irqs right know intel broadcom naming convention fast path queue vector intel bla bla txrx bla bla broadcom bla bla bla bla try filter etries proc interrupt irqs got according pattern result irqs filtered irqs name pattern mean given nic different irqs naming pattern case filter irq otherwise use irqs name fit one pattern signed vlad zolotarov vladz scylladb.com,,
3429,1a63f23a708b8e3b27ad909e3a9991023a6e02a9,lad Zolotarov <vladz@scylladb.com>, 2017-01-19 14:38:57 -0500, , script enable together rps signed vlad zolotarov vladz scylladb.com,,
3430,4338d88e7da4f35cf471fe384930ed01390f25ea,lad Zolotarov <vladz@scylladb.com>, 2017-01-19 14:30:31 -0500, , script distribute rps among signed vlad zolotarov vladz scylladb.com,,
3431,585a011574f33f8d00a973c6ecd0c6f74f6298f1,lad Zolotarov <vladz@scylladb.com>, 2017-01-13 14:33:36 -0500, , script use get_irqs_one interface signed vlad zolotarov vladz scylladb.com,,
3432,5bd3e5ab35f99f35e6f56971984ac61f81850d9b,lad Zolotarov <vladz@scylladb.com>, 2017-01-05 23:33:29 -0500, , script declare internal variable local needed avoid possible overwriting external variable name signed vlad zolotarov vladz scylladb.com,,
3433,33000994bf013fb15d804bb8b2d740ad642d0bfc,lad Zolotarov <vladz@scylladb.com>, 2017-01-05 23:20:38 -0500, , script use rps queue number irqs number estimate number rps queue equal number queue queue separate irq theoretically nic may configure separate irq queue going waste irq anyway interesting case want get number hard working irqs number rps queue exactly number need rps feature enabled use number nic irqs estimate number queue signed vlad zolotarov vladz scylladb.com,,
3434,2401a277984275fd1e411cc6dcc324cfbcdc6cd9,mnon Heiman <amnon@scylladb.com>, 2016-11-23 15:57:18 +0200, , scollectd ignore histogram first stage adding histogram support collectd ignore metric specific support added different patch signed amnon heiman amnon scylladb.com,,
3435,25ef98a27e923f937cecafcd66fd2259371f48ef,mnon Heiman <amnon@scylladb.com>, 2016-11-13 16:37:35 +0200, , prometheus add histogram support metric layer return hitogram prometheus report  signed amnon heiman amnon scylladb.com,,
3436,f548b98c8d6581e6b79560784d574763a893f3bf,mnon Heiman <amnon@scylladb.com>, 2016-11-23 10:22:12 +0200, , metric add histogram type support patch add histogram type metric layer support general type union implementation replaced boost variant adding new type consist add type type enums add histogram support metrics_value struct add make_histogram helper function signed amnon heiman amnon scylladb.com,,
3437,921f992345490e70a99d8d5086ddfe6c318453c6,aveme Lee <javaloveme@gmail.com>, 2017-01-23 14:51:04 +0800, , reactor fix error bind std unique_ptr lvalue std unique_ptr using gcc4.9.2 compile seastar error occurred patch used std move convert std unique_ptr rvalue error message root localhost seastar ninja build cxx build release core reactor.o failed usr local bin mmd build release core reactor.o build release core reactor.o.d build release gen std gnu wall werror fvisibility hidden pthread ifmt wno overloaded virtual dhave_hwloc dhave_numa build release core reactor.o core reactor.cc core reactor.cc member function virtual std unique_ptr seastar posix_file_impl dup core reactor.cc 1563 error bind std unique_ptr std default_delete lvalue std unique_ptr std default_delete return ret signed javeme lee javaloveme gmail.com message javaloveme gmail.com,,
3438,51ab68bcb855805f724aaccc7f0275a8d775fe65,aveme Lee <javaloveme@gmail.com>, 2017-01-23 15:47:31 +0800, , set option server test tcp_sctp_client required run tcp_sctp_client without option following error occur root localhost seastar build release test tcp_sctp_client program failed uncaught exception boost bad_any_cast failed conversion using boost any_cast order promp user set option server set server required option prompt following information running root localhost seastar build release test tcp_sctp_client terminate called throwing instance boost clone_impl boost boost program_options required_option option server required missing ref http question 15535180 solve boostbad cast failed conversion using boostany cast signed javeme lee javaloveme gmail.com message javaloveme gmail.com,,
3439,fd8be1694dc82c909d73effde36b0b9e4a2ef4e1,uarte Nunes <duarte@scylladb.com>, 2017-01-27 00:55:29 +0100, , core memory remove superfluous assignment signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
3440,6304e988681d846ef9ac4251b4118cd68f946294,uarte Nunes <duarte@scylladb.com>, 2017-01-26 21:00:31 +0100, , core memory remove dead code signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
3441,58a966c749582a14b6f80e0e69cf050366521c93,mnon Heiman <amnon@scylladb.com>, 2016-08-16 09:19:10 +0300, , adding metrics_types metrics_types would hold type would used metric report currently hold histogram class resembles prometheus histogram struct hold value return histogram implementation signed amnon heiman amnon scylladb.com,,
3442,9aefd0e3bc3a515de48b89e6f3634314693a3755,omasz Grabiec <tgrabiec@scylladb.com>, 2017-01-27 17:14:43 +0100, , core reactor use logger instead cerr message 1485533683 6282 git send email tgrabiec scylladb.com,,
3443,b426e424c8f6d4c9c3ae0dbcaf028a15bb6ffe34,lauber Costa <glauber@scylladb.com>, 2017-01-26 12:44:58 -0500, , fix inverted logic overprovision parameter want set thread affinity false overprovisioned current logic inverted signed glauber costa glauber scylladb.com message 1485452698 32221 git send email glauber scylladb.com,,
3444,e341b63cdc52b362c70959b46a38aa984acf2e3d,leb Natapov <gleb@scylladb.com>, 2017-01-26 18:46:47 +0200, , rpc fix timeout checking condition message scylladb.com,,
3445,f5fa2e34643fc93e5095644530e14ab54530ff36,leb Natapov <gleb@scylladb.com>, 2017-01-26 18:08:42 +0200, , rpc use lowres_clock instead high resolution one message 1485446922 3052 git send email gleb scylladb.com,,
3446,dd8d05ff758ad267b8b4cd601efdfcac3c54736a,leb Natapov <gleb@scylladb.com>, 2017-01-26 18:08:41 +0200, , semaphore make semaphore clock configurable message 1485446922 3052 git send email gleb scylladb.com,,
3447,fa3543138e6cc4505e9bc77c3b278dbcec3fbac8,leb Natapov <gleb@scylladb.com>, 2017-01-26 12:37:42 +0200, , rpc detect timedout outgoing packet earlier timeout timer may trigger packet already sent put timedout packet outgoing queue drop earlier instead message scylladb.com,,
3448,397685c5f0cda0216177f2a287ef4f8ead73adeb,vi Kivity <avi@scylladb.com>, 2017-01-24 18:35:37 +0200, , merge add label io_queue amnon amnon github.com cloudius system seastar dev reactor add owner label io_queue metric make instance_id label,,
3449,fc9bc995caed244ee863d9f0401926068a9d0861,mnon Heiman <amnon@scylladb.com>, 2017-01-17 19:03:39 +0200, , reactor add owner label io_queue multiple queue per shared better owner label io_queue metric patch add label support remove tbd accordingly signed amnon heiman amnon scylladb.com,,
3450,87773a82dfaf1cc143915663c2a96424110c39aa,alle Wilund <calle@scylladb.com>, 2017-01-16 17:43:57 +0000, , rpc modify shutdown code wait handle exception shutdown declared return continuation potentially cause exception i.e case shutdown handshake want client able discern success failure handle even though ignore exception fully message 1484588637 10196 git send email calle scylladb.com,,
3451,c031c7ea4c38ef657e96599f5867975af0ac7920,mnon Heiman <amnon@scylladb.com>, 2017-01-23 08:30:05 +0200, , metric make instance_id label patch first step remove instance_id completely instance_id heritage collectd mark shard metric generated metric layer support label store label collectd treat differently internal implementation patch contains multiple chagnes label represented better sorted map one label per type always sorted useful look specific label metric layer check label shard label define take current shard current implementation collectd prometheus implementation modified support chagne additional clean made remove instance_id completely api code migrate support signed amnon heiman amnon scylladb.com,,
3452,098db66de38dfd9857d43592379907ad0194115e,alle Wilund <calle@scylladb.com>, 2017-01-16 17:43:56 +0000, , tls.cc fix shutdown_input output conform expected socket behaviour socket shutdown used thus implicitly defined work asynchronously pending read write operation esp rpc code shutdown wake stop layered slightly akward flow layer handle ended orphaning waiting read promise modify wrap wait semaphore use detect simultaneous shutdown handshake actual data read write needed gate  message 1484588637 10196 git send email calle scylladb.com,,
3453,35a0153bcc449732cd971f2b170ef4f860a7e2cc,omasz Grabiec <tgrabiec@scylladb.com>, 2017-01-24 09:55:39 +0100, , core add counter poll allows calculate average poll period detect moment poll often enough correlate latency issue message 1485248139 8380 git send email tgrabiec scylladb.com,,
3454,6d80c6a2a30b1eb6ffa58d126da728b60b2361f9,mnon Heiman <amnon@scylladb.com>, 2017-01-23 09:02:03 +0200, , dpdk change metric registration label support addition label support break metric api case instance_id specify change dpdk metric registration use update method signature signed amnon heiman amnon scylladb.com message 1485154923 25309 git send email amnon scylladb.com,,
3455,ba16d9fce8b24b43ce8c3c39b5cf5746e6821f8f,aveme Lee <javaloveme@gmail.com>, 2017-01-23 14:25:48 +0800, , metric fix error could convert ... brace enclosed initializer list struct using gcc4.9.2 compile seastar error occurred reason default member initializer prevented class aggregate patch added constructor struct ref http question 37776823 could convert brace enclosed initializer list struct error message root localhost seastar ninja build 106 cxx build release net ip.o failed usr local bin mmd build release net ip.o build release net ip.o.d build release gen std gnu wall werror fvisibility hidden pthread ifmt wno overloaded virtual dhave_hwloc dhave_numa build release net ip.o net ip.cc file included net ip.cc core metrics.hh instantiation seastar metric impl seastar metric make_derive seastar metric seastar metric description bool seastar metric seastar metric metric_type_def net ipv4 ipv4 net interface lambda seastar metric basic_sstring char unsigned int 15u seastar metric basic_sstring char unsigned int 15u seastar metric metric_type_def basic_sstring char unsigned int 15u net ip.cc 144 required core metrics.hh 287 133 error could convert name instance derive iht seastar metric impl make_function seastar metric impl data_type net ipv4 ipv4 net interface lambda template parameter void seastar metric impl metric_function std function seastar metric impl metric_value seastar metric impl data_type enabled brace enclosed initializer list seastar metric impl return name instance impl data_type derive iht make_function std forward val impl data_type derive enabled signed javeme lee javaloveme gmail.com message javaloveme gmail.com,,
3456,38aaa4a205d0716764b05cb0f5388e5e93f42628,mnon Heiman <amnon@scylladb.com>, 2017-01-22 14:18:37 +0200, , metric equal operator use stupid copy paste mistake changing comparators metric_id signed amnon heiman amnon scylladb.com message 1485087517 12832 git send email amnon scylladb.com,,
3457,ff098c84ea7a285400a27dddeeeeb1ec55e5024b,lad Zolotarov <vladz@scylladb.com>, 2017-01-17 13:54:30 -0500, , metric impl shard check reactor initialized using signed vlad zolotarov vladz scylladb.com message 1484679270 10386 git send email vladz scylladb.com,,
3458,70568f37a1c56e184222bb1e4a8f0b7dffe8584c,lad Zolotarov <vladz@scylladb.com>, 2017-01-17 13:54:29 -0500, , reactor introduce engine_is_ready engine_is_ready return true local reactor instance initialized signed vlad zolotarov vladz scylladb.com message 1484679270 10386 git send email vladz scylladb.com,,
3459,3672e6c2790a425be90dac7d56013bfd1486decd,lauber Costa <glauber@scylladb.com>, 2017-01-18 16:37:11 -0500, , fix metric name delay missing underscore like others signed glauber costa glauber scylladb.com message 1484775431 32383 git send email glauber scylladb.com,,
3460,ece8d61631ee08a17b4df3396b6da860bc879a04,vi Kivity <avi@scylladb.com>, 2017-01-17 16:37:45 +0200, , merge add label support metric layer amnon amnon github.com cloudius system seastar dev collectd support label prometheus api add label support metric add label support,,
3461,6a80ace7c70801aa37304f1f513123797251ca8d,mnon Heiman <amnon@scylladb.com>, 2017-01-03 11:04:33 +0200, , collectd support label collectd concat label type_instance format name value signed amnon heiman amnon scylladb.com,,
3462,d9195de1874b5a62ea0c29ab66b86e7ab549baf4,mnon Heiman <amnon@scylladb.com>, 2017-01-03 10:53:50 +0200, , prometheus api add label support add label passed label signed amnon heiman amnon scylladb.com,,
3463,0a06ba7d462a97bc945e97b319301f9510f0e8f1,mnon Heiman <amnon@scylladb.com>, 2017-01-03 10:43:52 +0200, , metric add label support using label useful metric reported multiple object time need aggregate example multiple queue per shard patch add label label_instance object label_instance added metric created multiple label assign metric typically multiple object add label like column family case label helper class used create label_instance object metric creation function modified accept label label parameter added way would broken function api point almost place code default parameter better fix point code get cleaner api signed amnon heiman amnon scylladb.com,,
3464,89a23069d8bc076574bb2c2b6188379d26df9884,omasz Grabiec <tgrabiec@scylladb.com>, 2017-01-13 19:00:03 +0100, , core avoid memory leak submission fails message 1484330403 32200 git send email tgrabiec scylladb.com,,
3465,8c33dd1a721200a5151293544cc5dc2efb404343,omasz Grabiec <tgrabiec@scylladb.com>, 2017-01-13 18:59:55 +0100, , core avoid memory leak submission fails message 1484330395 32150 git send email tgrabiec scylladb.com,,
3466,60ba8dca106a75b09b78f5f0df11d29d4467e647,omasz Grabiec <tgrabiec@scylladb.com>, 2017-01-13 19:00:31 +0100, , core make exception safe fix 236 message 1484330431 32267 git send email tgrabiec scylladb.com,,
3467,cf5a862c7335e5541cba217795b7762d577b8a2c,vi Kivity <avi@scylladb.com>, 2017-01-15 14:43:49 +0200, ," merge log backtrace tomasz example warn 2016 26,990 shard seastar exceptional future ignored seastar gate closed backtrace 0x4c77c5 0x55e7b9 0x6e44d9 0x75fb37 0x767a59 0x766907 0x766d6a 0xc7504e 0xc76fd0 0x4b0a0f 0x4b1587 0x488ec4 0x4da223 0x4db630 0x534fcd 0x7fa5f1e0b619 0x7fa5f1b455fc tgrabiec saved backtrace github.com cloudius system seastar dev reactor log backtrace core memory use saved_backtrace allocation_site backtrace break reaching backtrace handle error unw_get_reg util introduce saved_backtrace",,
3468,56edb3ee9a6ddb2de9bf23737c513618053fd29c,omasz Grabiec <tgrabiec@scylladb.com>, 2017-01-04 15:01:31 +0100, ," reactor log backtrace warn 2016 26,990 shard seastar exceptional future ignored seastar gate closed backtrace 0x4c77c5 0x55e7b9 0x6e44d9 0x75fb37 0x767a59 0x766907 0x766d6a 0xc7504e 0xc76fd0 x4b0a0f 0x4b1587 0x488ec4 0x4da223 0x4db630 0x534fcd 0x7fa5f1e0b619 0x7fa5f1b455fc",,
3469,0882cccbb2b67cba99d2eb76b2821d731e87650a,omasz Grabiec <tgrabiec@scylladb.com>, 2017-01-13 18:38:40 +0100, , core memory use saved_backtrace allocation_site,,
3470,5b92ed8c5e12bdcf3bfe3488da2cb26282b49d73,omasz Grabiec <tgrabiec@scylladb.com>, 2017-01-04 14:57:31 +0100, , backtrace break reaching backtraces end reason printed print drop reduce noise,,
3471,4579fa70a6eb2cf8ab1e634b7ae7081fae2461ad,omasz Grabiec <tgrabiec@scylladb.com>, 2017-01-04 14:57:06 +0100, , backtrace handle error unw_get_reg,,
3472,46cb1b9c8e7947f207b5b6ff9ca97552236264a1,omasz Grabiec <tgrabiec@scylladb.com>, 2017-01-04 11:39:35 +0100, , util introduce saved_backtrace,,
3473,8b1eecd603d2ebdd2409b06e6fb0770b6c16c849,akuya ASADA <syuu@scylladb.com>, 2017-01-12 13:25:37 +0900, , install dependencies.sh add systemtap sdt dev ubuntu debian dependency signed takuya asada syuu scylladb.com message 1484195137 939 git send email syuu scylladb.com,,
3474,2599378a6a2c63613ef968fbb6473858cca27aaf,akuya ASADA <syuu@scylladb.com>, 2017-01-12 11:10:06 +0900, , core add fsqual.cc .hh core use seastar application scylla move fsqual.cc .hh app iotune core signed takuya asada syuu scylladb.com message 1484187006 31657 git send email syuu scylladb.com,,
3475,3b052bd260f36c07c69c0b4789530fbb106b0341,akuya ASADA <syuu@scylladb.com>, 2017-01-12 12:12:58 +0900,235, dpdk fix compile error rte_pci.h need include cinttypes including rte_pci.h fix 235 signed takuya asada syuu scylladb.com message 1484190778 25995 git send email syuu scylladb.com,,
3476,c88f489b20da0c1bf3fbf29e0014e602a2d91643,vi Kivity <avi@scylladb.com>, 2017-01-09 15:34:30 +0200, , fstream_test fix spurious failure due thread unsafety thread safe call trom main thread,,
3477,c6ad378dfe426e4550c347e0497a2949f611f964,mnon Heiman <amnon@scylladb.com>, 2017-01-09 14:13:47 +0200, , reactor unregister metric queue shard reactor stop call smp cleanup_cpu smp queue call clean shard missing outside loop handle shard message 1483964027 22049 git send email amnon scylladb.com,,
3478,644729518fcd8bc6230f38b98f3d61502dbd7ce0,vi Kivity <avi@scylladb.com>, 2017-01-08 20:48:17 +0200, , build track system header change change boost header trigger rebuild change,,
3479,0a6831067b4c8e0b4c0f9a728b500d964cddb407,mnon Heiman <amnon@scylladb.com>, 2017-01-08 16:33:56 +0200,233, prometheus rely collectd hostname collectd started hostname collectd set default localhost cause server report localhost instead true name patch add hostname prometheus config hostname initilized system hostname taken fix 233 signed amnon heiman amnon scylladb.com message 1483886036 27692 git send email amnon scylladb.com,,
3480,240b0bf75d5190fb943a2d6e5b91c2da57ff7c50,aphael S. Carvalho <raphaelsc@scylladb.com>, 2017-01-06 12:01:26 -0200, , file dup decrease refcnt twice file explicitly closed file backed posix_file_impl explicitly closed refcnt may decreased close destructor want decrease refcnt twice instance posix_file_impl signed raphael carvalho raphaelsc scylladb.com message 1483711286 17952 git send email raphaelsc scylladb.com,,
3481,3fd0a0efdf381d1b4e144f02160e78df98188be6,aveme Lee <javaloveme@gmail.com>, 2017-01-04 22:52:13 +0800, , reactor add missing centos 7.2 dependency systemtap sdt devel patch added systemtap sdt devel package install dependencies.sh centos error message building centos7.2 169 cxx build release core reactor.o core reactor.cc fatal error sys sdt.h file directory env cat etc redhat release centos linux release 7.2.1511 core signed javeme lee javaloveme gmail.com message javaloveme gmail.com,,
3482,b446dd4131028c9d1e40e7c07cd0615b723ac60d,mnon Heiman <amnon@scylladb.com>, 2017-01-04 15:18:12 +0200, , reactor cleaning smp queue metric shuting smp queue metric released profiler count memory leak patch add cleanup method smp class stop message smp message queue call reactor shutdown signed amnon heiman amnon scylladb.com message 1483535892 14846 git send email amnon scylladb.com,,
3483,58e7ff74b41faa77b0fa9c0945b99f4c3626e78a,mnon Heiman <amnon@scylladb.com>, 2017-01-04 15:18:11 +0200, , metric metric keep value map unregistering register metric hold shared_ptr metric layer long registration kept layer destroyed patch change unregistration method unregistration method would hold reference kept alive end method message 1483535892 14846 git send email amnon scylladb.com,,
3484,50e9a7e9f6ed8ed79ae88c57039967b9941f1ad9,mnon Heiman <amnon@scylladb.com>, 2017-01-04 14:28:57 +0200, , change reactor load metric utilization utilization better name describe percentage cpu loaded signed amnon heiman amnon scylladb.com message 1483532937 9936 git send email amnon scylladb.com,,
3485,eabc85c9f2bc8a27583b83e14fdb317ca3c1738b,vi Kivity <avi@scylladb.com>, 2017-01-04 11:03:11 +0200, , merge asan fiber switch pawe asan support user context switch made gcc7 time teach seastar use two function provided sanitizer need called ucontext switch pdziepak asan fiber switch github.com cloudius system seastar dev test thread add test asan false positive thread inform seastar thread switch thread extract context switching logic separate function configure.py detect whether asan support user context switch,,
3486,46dc68a8e7e5cbcad0eb9e50e6e09a9820c8cb50,awe Dziepak <pdziepak@scylladb.com>, 2016-12-21 16:49:11 +0000, , test thread add test asan false positive,,
3487,d028e4159a03eb72e80956bf02b14cd6c556372e,awe Dziepak <pdziepak@scylladb.com>, 2016-12-21 16:47:40 +0000, , thread inform seastar thread switch since recently asan allows application tell ucontext switch avoid reporting false positive,,
3488,4c78b19bf336aa895fc602d1ee176ce7d596035b,awe Dziepak <pdziepak@scylladb.com>, 2017-01-03 20:48:48 +0000, , thread extract context switching logic separate function two version context switching logic fast one one working well currently ifdefs sprinkled thread.cc patch rearranges code hope make manageable,,
3489,717e0107dd4fc32d54c905e28fa72f27a341cda2,awe Dziepak <pdziepak@scylladb.com>, 2017-01-03 20:47:37 +0000, , configure.py detect whether asan support user context switch,,
3490,3e42b1b9ee3d6bf1f24486f31bb37910a2c7a037,alle Wilund <calle@scylladb.com>, 2017-01-03 12:49:02 +0000, , add missing set_client_auth method missing initial version message 1483447742 20585 git send email calle scylladb.com,,
3491,f1b3230386acd76201f0342095ab70d800f9b3a3,mnon Heiman <amnon@scylladb.com>, 2016-12-27 12:22:29 +0200,1950, collectd create metric right format patch change collectd creating metric use right parameter order patch useful collectd registration still use see scylladb scylla 1950 signed amnon heiman amnon scylladb.com message 1482834149 29379 git send email amnon scylladb.com,,
3492,db03f6a26c7cf8c66299cfb7ad07b4b676e4fd5a,mnon Heiman <amnon@scylladb.com>, 2017-01-02 18:10:54 +0200,1983, io_queue remove owner number metric name owner number part type_instance name cause metric name unique prevent dashboard aggregate see scylladb scylla 1983 signed amnon heiman amnon scylladb.com message 1483373454 10876 git send email amnon scylladb.com,,
3493,696e294b141bf0cc2db5f048eacaf1bfa387f0c5,mnon Heiman <amnon@scylladb.com>, 2017-01-01 15:20:54 +0200, , reactor change load metric name load idle wrong name reactor load change name back signed amnon heiman amnon scylladb.com message 1483276854 32746 git send email amnon scylladb.com,,
3494,c175cb5278061ebc5e43a6b4c6b31a6a823c489d,vi Kivity <avi@scylladb.com>, 2017-01-01 14:20:23 +0200, , merge reactor stop using signal task_quota timer signal scale large multicores due process wide lock since want schedule sub task quota latency problem get worse fix switching timerfd thread future may reduce number context switch thread update one reactor g_need_preempt done  timer signal reactor convert task quota signal timerfd thread reactor simplify itimerspec calculation using new helper posix add helper struct timespec struct itimerspec,,
3495,f03ebd38d5108a3709d76cd12065ba34fcba2bbe,vi Kivity <avi@scylladb.com>, 2016-12-26 14:09:23 +0200, , reactor convert task quota signal timerfd thread linux signal protected global lock thus scale increasing core count already observed large machine grow worse plan sub task quota timing cpu scheduler prevent lock meltdown convert signal timerfd thread wait update g_need_preempt pay cost context switch different signal delivery perhaps even cheaper scale increasing core count future may want timer thread service g_need_preempt reactor processor socket prof necessary,,
3496,d3e2ea4860db34ff943cfcbda8c9c925057ba36e,vi Kivity <avi@scylladb.com>, 2016-12-26 13:39:30 +0200, , reactor simplify itimerspec calculation using new helper,,
3497,bb4711f382765f604f413784bdf9e7e0788b2c3b,mnon Heiman <amnon@scylladb.com>, 2016-12-29 16:35:05 +0200, , metric allow initializing metric_group constructor simple metric creation sometimes convenient initialize metric constructor patch add two option constructor initialization metric_group used object hold single metric group metrics_groups used object hold multiple group patch possible initialize metric_group namespace seastar metric http_stats http_stats http_server server _metric_group httpd make_derive server return  make_gauge server return  make_derive requests_served server return    initilize metric_groups http_stats http_stats http_server server _metric_groups httpd make_derive server return  make_gauge server return  make_derive requests_served server return   memory make_gauge memory_total stats.memory make_gauge memory_free    use case add_group still supported signed amnon heiman amnon scylladb.com message 1483022105 11306 git send email amnon scylladb.com,,
3498,a21525b9bee18e78b8f0014152bd61856b6ba5d8,akuya ASADA <syuu@scylladb.com>, 2016-12-31 07:52:48 +0900, , update dpdk 16.11 since old version dpdk need version latest one patch fix following problem run seastar dpdk 16.11 updated dpdk submodule dpdk 16.11 specify whole archive dpdk library dpdk 16.07 later introduces plaggable mempool implementation __attribute__ constructor register implementation function table initialization http dpdk.org browse dpdk tree lib librte_mempool rte_mempool.h n556 gcc linker drop constructor since referenced similar discussion stackoverflow http question 28652307 get gnu attribute constructor work library dpdk 16.07 later cause segmentation fault following place eal detected lcore eal free hugepages reported hugepages 1048576kb eal probing vfio support ... eal pci device 0000 19.0 numa socket eal probe driver 8086 15a1 net_e1000_em eal pci device 0000 00.0 numa socket eal probe driver 8086 1528 net_ixgbe eal pci device 0000 00.1 numa socket eal probe driver 8086 1528 net_ixgbe port number port max_rx_queues 128 max_tx_queues port using queue port table size 128 lro checksum offload supported checksum offload supported tso supported tcp udp checksum offload supported port init ... done creating mbuf pool 1024 mbufs ... segmentation fault shard prevent dropping need whole archive librte_mempool __attribute__ constructor library may add future use whole archive dpdk library also library renamed recent version dpdk changed following libethdev librte_ethdev librte_malloc deleted support xstats receive nic specific stat entry newly added xstats api since moved stats xstats shorten pool name newer dpdk strange dpdk 16.07 later doe accept pktmbuf pool name length shorter see http dpdk.org browse dpdk tree lib librte_ring rte_ring.c n184 prevents following error initialization port init ... done creating mbuf pool 1024 mbufs ... creating mbuf pool 1024 mbufs ... creating mbuf pool 1024 mbufs ... creating mbuf pool 1024 mbufs ... creating mbuf pool 1024 mbufs ... creating mbuf pool 1024 mbufs ... creating mbuf pool 1024 mbufs ... creating mbuf pool 1024 mbufs ... creating mbuf pool 1024 mbufs ... creating mbuf pool 1024 mbufs ... creating mbuf pool 1024 mbufs ... creating mbuf pool 1024 mbufs ... creating mbuf pool 1024 mbufs ... creating mbuf pool 1024 mbufs ... creating mbuf pool 1024 mbufs ... creating mbuf pool 1024 mbufs ... creating mbuf pool 1024 mbufs ... creating mbuf pool 1024 mbufs ... creating mbuf pool 1024 mbufs ... creating mbuf pool 1024 mbufs ... creating mbuf pool 1024 mbufs ... failed create mempool failed create mempool creating mbuf pool 1024 mbufs ... signed takuya asada syuu scylladb.com message syuu scylladb.com,,
3499,568763f260ac9a07d2ea05fa3a26ac3ed68224eb,leb Natapov <gleb@scylladb.com>, 2016-12-29 11:07:17 +0200,213, revert rpc avoid using zero copy interface output_stream reverts commit 68b35488f8df fixed 213 revert one message scylladb.com,,
3500,205808612f2848b8a21883b8b5ed6fc76026e8e1,lad Zolotarov <vladz@scylladb.com>, 2016-12-28 11:59:27 -0500, , core metrics_groups add clear method clear metric group registration sometimes need destroy previous metric group registration without destroying metrics_groups object e.g sharded service may time single application execution register metric case want clear metric registration prior calling stop method sharded service would destroy per shard instance service clear metric registration metric agent e.g collectd may try read metric underlying service object already freed signed vlad zolotarov vladz scylladb.com message 1482944367 5637 git send email vladz scylladb.com,,
3501,1c8e389ba096fb86c801919daeb560d0556170d0,vi Kivity <avi@scylladb.com>, 2016-12-27 19:22:28 +0200, , merge migrate network related seastar collectd metric new metric registration api vlad github.com cloudius system seastar dev net tcp move collectd metric registration metric registration layer move metric registration metric layer net net move collectd counter registration metric registration layer,,
3502,6c416e89fec1c9c6fcc16c861ca2c338c3aec6f9,lad Zolotarov <vladz@scylladb.com>, 2016-12-27 09:23:40 -0500, , net tcp move collectd metric registration metric registration layer signed vlad zolotarov vladz scylladb.com,,
3503,c09397811056288cd47b1a37458f42b5697e337f,lad Zolotarov <vladz@cloudius-systems.com>, 2016-12-05 15:29:37 -0500, , move metric registration metric layer move metric registration collectd metric layer signed vlad zolotarov vladz scylladb.com signed amnon heiman amnon scylladb.com,,
3504,e6fe946be796bcde730568e44c42fa9098fdcace,lad Zolotarov <vladz@scylladb.com>, 2016-12-27 09:19:27 -0500, , net net move collectd counter registration metric registration layer since move registration net metric metric registration layer move registration derived class metric patch xenfront dpdk signed vlad zolotarov vladz scylladb.com,,
3505,e877af5b9199d57d94bb246b8c8527c3c6511dd0,vi Kivity <avi@scylladb.com>, 2016-12-26 13:38:22 +0200, , posix add helper struct timespec struct itimerspec,,
3506,3601787d01d00f8c0d5a19c5e033213975a54b46,vi Kivity <avi@scylladb.com>, 2016-12-25 15:25:41 +0200, , file add dup support experience shown scylla sometimes need open large number file shard cause explosion number file descriptor requiring ulimits raised ridiculous level fix introduce file dup produce seastar file_handle object transported across shard converted new file object refers underlying file interface crafted support non posix file e.g userspace filesystem layered file like scylla handle support arbitrary data may may need reference counting message avi scylladb.com,,
3507,f32e4c287b03d399f18fdbe3d21d14fcff3e097b,vi Kivity <avi@scylladb.com>, 2016-12-25 15:26:14 +0200, , merge moving reactor counter metric layer amnon series move reactor counter metric layer amnon github.com cloudius system seastar dev reactor move metric layer metric make metric_disable public metric move metric_groups constructor distructor source,,
3508,0634989343fa1dd2585ba911383784569f1da5c3,mnon Heiman <amnon@scylladb.com>, 2016-11-30 14:07:57 +0200, , reactor move metric layer patch move metric registration reactor collectd metric layer transition name type updated needed documentation added metric signed amnon heiman amnon scylladb.com,,
3509,d443a43860cb313cd0e61f05debf2d62dee21e51,mnon Heiman <amnon@scylladb.com>, 2016-12-14 11:47:51 +0200, , metric make metric_disable public metric_disable constant used define metric disable default e.g smp patch move impl name space seastar metric ,,
3510,0ab8263dbb22c504c2800ec30b515a1f49728b00,mnon Heiman <amnon@scylladb.com>, 2016-12-14 11:36:15 +0200, , metric move metric_groups constructor distructor source move construct distructor implementation source file file include inside seastar try inline constructor fail header file,,
3511,d227f531f911e5b7f9f45612ac4b8dcbb5944770,mnon Heiman <amnon@scylladb.com>, 2016-12-25 12:15:35 +0200,230, metric metric function take variable refernce passing parameter template function create metric parameter passed reference value patch std forward pas parameter keeping reference fix 230 signed amnon heiman amnon scylladb.com message 1482660935 5368 git send email amnon scylladb.com,,
3512,650b8f99cc1835976eee2597f3d4f3d2ae759de7,vi Kivity <avi@scylladb.com>, 2016-12-25 12:12:33 +0200, , revert merge moving reactor counter metric layer amnon reverts commit reversing change made fails build,,
3513,6d01bd5599c2f8ddf8ffb8fc3c8b2b7d87658f9b,vi Kivity <avi@scylladb.com>, 2016-12-25 12:05:45 +0200, , merge moving reactor counter metric layer amnon series move reactor counter metric layer amnon github.com cloudius system seastar dev reactor move metric layer metric make metric_disable public metric move constructor distructor source,,
3514,856dc931c06608bea788177f180815979afb43fc,vi Kivity <avi@scylladb.com>, 2016-12-25 11:04:54 +0200, , revert fstream auto close data_sink data_source reverts commit trigger debug mode check test,,
3515,f8a89c82e73a01fd47bd42ac03a00a5e35344813,omasz Grabiec <tgrabiec@scylladb.com>, 2016-12-22 16:31:01 +0100, , rpc avoid resource unit leak failure unmarshal call may throw case would called fix using raii semaphore_units guarantee resource always released exit scope spotted code review message 1482420661 10707 git send email tgrabiec scylladb.com,,
3516,106db875478f4637a3dd4d02c136cf3b412a1017,omasz Grabiec <tgrabiec@scylladb.com>, 2016-12-22 18:49:13 +0100, , fstream auto close data_sink data_source exceptional path hard ensure close always called waited stream object scope currently result undefined behavior crash whole node ref scylladb scylla 990 scylladb scylla 1076 change object closed background closed explicitly scope still required call close explcitily order notified error non exceptional path still required object stay alive long operation started e.g put get close progress message 1482428953 22888 git send email tgrabiec scylladb.com,,
3517,ba06a5e77d134c1f52d0e9cb06dc1b26265ee381,mnon Heiman <amnon@scylladb.com>, 2016-11-30 14:07:57 +0200, , reactor move metric layer patch move metric registration reactor collectd metric layer transition name type updated needed documentation added metric signed amnon heiman amnon scylladb.com,,
3518,af828b1a3993120be8d9f528383cb445ea75f833,mnon Heiman <amnon@scylladb.com>, 2016-12-14 11:47:51 +0200, , metric make metric_disable public metric_disable constant used define metric disable default e.g smp patch move impl name space seastar metric ,,
3519,bd8ac3aa994ba61bf4171ed79de6d748c6a612ee,mnon Heiman <amnon@scylladb.com>, 2016-12-14 11:36:15 +0200, , metric move constructor distructor source move construct distructor implementation source file file include inside seastar try inline constructor fail header file,,
3520,90b729d29d8411f5f93b132c7193adee7750eee0,mnon Heiman <amnon@scylladb.com>, 2016-12-19 13:00:57 +0200, , http move metric registration metric layer change http metric registration use metric registration instead collectd resubmission patch updated api message 1482145257 31726 git send email amnon scylladb.com,,
3521,68b35488f8dfba3454a05b792a09788bc04cb126,leb Natapov <gleb@scylladb.com>, 2016-12-18 15:21:37 +0200,213, output_stream add batching zero copy interface current zero copy interface simplistic immediately push provided data data_sink patch change output_stream accumulate data _size flush provides capability batch flush order push data bigger chunk data_sink fix 213 message scylladb.com,,
3522,b56e1f79117882fd541b40ec23592876ae5c12bc,vi Kivity <avi@scylladb.com>, 2016-12-18 09:44:17 +0200, , revert slab move metric registration metric layer reverts commit build,,
3523,997eef67abc0ae8d52e66efbad0e96b9e1101787,mnon Heiman <amnon@scylladb.com>, 2016-12-14 10:19:37 +0200, , slab move metric registration metric layer patch move metric registration collectd layer metric layer signed amnon heiman amnon scylladb.com message 1481703577 28668 git send email amnon scylladb.com,,
3524,0b98024073c96d31d6984337efd0e5fd35823f72,vi Kivity <avi@scylladb.com>, 2016-12-14 15:58:14 +0200, , fstream fix read ahead byte metric type derive counter,,
3525,5d62cea036292be838aee120288a19c915b28a02,vi Kivity <avi@scylladb.com>, 2016-12-14 15:22:27 +0200, , fstream add read ahead metric metric report read ahead ineffective due little read ahead request blocked much request discarded message avi scylladb.com,,
3526,7c859168c09270908756840bfc4a0a485bc3f128,awe Dziepak <pdziepak@scylladb.com>, 2016-12-14 10:56:33 +0000, , future util make stop_iteration use bool_class signed pawe dziepak pdziepak scylladb.com message pdziepak scylladb.com,,
3527,954efc8e557d26d722aea97e89daf84d3c9a56d2,awe Dziepak <pdziepak@scylladb.com>, 2016-12-14 10:56:32 +0000, , util introduce bool_class tag bool_class tag typesafe bool accidentaly get casted integer boolean value signed pawe dziepak pdziepak scylladb.com message pdziepak scylladb.com,,
3528,6fbd792d88d89e8907d162b35b8cfff350308156,alle Wilund <calle@scylladb.com>, 2016-12-12 21:50:41 +0000, , run verify function client session verify function meant provide context verifying server certificate doe work server session verifying client cert caused test failure non obsolete system note setting callback supported gnutls 3.4 message 1481579441 2901 git send email calle scylladb.com,,
3529,9f40d94034e8cde066c5441ac19a78f7ce5a9da3,vi Kivity <avi@scylladb.com>, 2016-12-12 18:07:52 +0200, , merge clean metric definition amnon series clean way metric defined hide use use unique_ptr metric_groups implementation expose add_group method metric definition name type based function used create metric creation metric function defined known common type amnon github.com cloudius system seastar dev metric metric definition rename metric create metric group constructor,,
3530,0773e98a64cfbe423340c52f7ebf5bfa926ed923,alle Wilund <calle@scylladb.com>, 2016-12-12 16:01:45 +0000, , add support client cetrificate verification priority string add setting client verification authentication level none request require latter refuse connection client provide certificate server trust chain add priority string credential session setting allows user allow disallow handshake wire encryption protocol using gnutls syntax test two message 1481558505 14623 git send email calle scylladb.com,,
3531,fa1b0317064d0c8ce72b2b7a4634ffb8e610aee6,lauber Costa <glauber@scylladb.com>, 2016-12-09 00:50:32 -0500, , semaphore add consume_units work like get_units non blocking consume api signed glauber costa glauber scylladb.com message 1481262632 2830 git send email glauber scylladb.com,,
3532,5026754f963bec310564432de5e839df22966e07,mnon Heiman <amnon@scylladb.com>, 2016-12-07 18:55:31 +0200, , metric metric definition rename patch change metric defined metric belong group like memory cpu etc metric base type gauge counter derive name free_bytes used_objects etc support common case like queue length total_bytes metric layer support inherit type example total_bytes type based derive underline type different api prometheus collectd know use inherit type user metric layer creating inherit type like creating one primitive example my_queue .... patch contains definition  additional metric creation function added additional patch signed amnon heiman amnon scylladb.com,,
3533,25d975b6122f408bddd82e54b1a2f28996b54937,mnon Heiman <amnon@scylladb.com>, 2016-12-06 16:00:03 +0200, , metric create metric group constructor patch add wrapper unique_ptr hold metric create metrics_group constructor expose functionality save user metric layer need instantiate parameter add add_group method metric_groups signed amnon heiman amnon scylladb.com,,
3534,3c127e2576d59eab47a0984589f5d4bf52752fd1,awe Dziepak <pdziepak@scylladb.com>, 2016-12-01 17:24:37 +0000, , semaphore add available_units introduction semaphore consume internal counter zero semaphore consume hide fact return case may desirable get real value signed pawe dziepak pdziepak scylladb.com message pdziepak scylladb.com,,
3535,ae99b6b99371c0d3ae65b388287f738040c4587f,lauber Costa <glauber@scylladb.com>, 2016-12-01 12:58:59 -0500, , thread check need_preempt thread scheduling group well check should_yield check need_preempt well otherwise thread relying should_yield call get often may run task quota also take account actually yield thread scheduling group yield task quota fully used need preempt least break current execution signed glauber costa glauber scylladb.com message 1480615139 8688 git send email glauber scylladb.com,,
3536,6188de77f97619f6d41c96a59b26ee3787a12dd6,adav Har'El <nyh@scylladb.com>, 2016-11-30 19:38:26 +0200,219, tutorial fix semaphore example text fix 219 signed nadav har nyh scylladb.com message 1480527506 16010 git send email nyh scylladb.com,,
3537,a209ee44c9f48a4ece737a9ed2a6c820c2b050b8,awe Dziepak <pdziepak@scylladb.com>, 2016-11-29 13:50:31 +0000, , stop_iteration add operator stop_iteration type safe bool convenient bool like operation defined without need endless cast signed pawe dziepak pdziepak scylladb.com message pdziepak scylladb.com,,
3538,0a7431794bb873b971045d07299f90c3daaf4fc9,omasz Grabiec <tgrabiec@scylladb.com>, 2016-11-29 12:02:04 +0100,222, core reactor move definition ifndef ref 222,,
3539,b5c3ac03fd40765349b389b9d3e34897a18a271e,iotr Jastrzebski <piotr@scylladb.com>, 2016-11-28 14:25:33 +0100, , add systemtap sdt devel fedora dependency without seastar compilation fails core reactor.cc fatal error sys sdt.h file directory signed piotr jastrzebski piotr scylladb.com message scylladb.com,,
3540,7790e68e41c4125fed3ccb34dda5bc068c3ee739,omasz Grabiec <tgrabiec@scylladb.com>, 2016-11-23 12:32:38 +0100, , core reactor introduce reactor dervie busy_ns metric hold amount nanosecond reactor busy since started allows monitoring client calculate average reactor utilization desired precision period short value collectd poll period fix 214 message 1479900758 6739 git send email tgrabiec scylladb.com,,
3541,645c98fe61406affce22121a74156b269149ca89,mnon Heiman <amnon@scylladb.com>, 2016-11-25 15:04:04 +0200,220, collectd hold reference metric implementation registration collectd still registration mechanism remove registration object collect need hold pointer metric implementation prevent destroyed fix 220 signed amnon heiman amnon scylladb.com message 1480079044 12419 git send email amnon scylladb.com,,
3542,e379cb62aefe2fcf743d880e370556d37f7da8a5,omasz Grabiec <tgrabiec@scylladb.com>, 2016-11-23 12:31:12 +0100, , future improve comment message 1479900672 6578 git send email tgrabiec scylladb.com,,
3543,8509b614aed6a956d79188f66387cf5595264ea7,aphael Carvalho <raphaelsc@scylladb.com>, 2016-11-25 02:34:40 -0200, , fstream actually use dynamically adjusted buffer dynamic adjustment buffer size enabled buffer size option still used every read signed raphael carvalho raphaelsc scylladb.com message 1480048480 9199 git send email raphaelsc scylladb.com,,
3544,a0740ef8a861d0535ecfb1e2aff53ddd0a28d8a0,vi Kivity <avi@scylladb.com>, 2016-08-07 12:12:31 +0300, , debug add latency detector script systemtap script detect source latency seastar program caused continuation running long detect task running 30ms path task latency.stap path binary,,
3545,aaeb17b8397e39e24904407497098bc59f0ee2f8,vi Kivity <avi@scylladb.com>, 2016-08-07 12:10:50 +0300, , reactor add static probe latency detector add static probe reactor run_tasks latency detector latch ,,
3546,dc7ad9ade17e7635cd096d93989d5fc2ec2ffb51,omasz Grabiec <tgrabiec@scylladb.com>, 2016-11-24 11:12:36 +0100, , semaphore fix with_semaphore case wait throw wait may throw allocates memory calling push_back wait list signal semaphore wait failed current code message 1479982356 4567 git send email tgrabiec scylladb.com,,
3547,93c3b1262e58bfcaf23d124d2feb77dc45bef312,uarte Nunes <duarte@scylladb.com>, 2016-11-24 09:57:15 +0100, , rpc conditionally use since distribution version lz4 use conditionally specially important beginning version 1.7.3 lz4 deprecates lz4_compress function favour thus prevents seastar compiling due deprecated warning signed duarte nunes duarte scylladb.com message duarte scylladb.com,,
3548,6c650efe687d496933305eb6aec73a06f2253cf8,lauber Costa <glauber@scylladb.com>, 2016-11-21 19:45:49 -0500, , queue allow queue change maximum size patch add new method seastar queue set_max_size allowing change maximum size queue either increasing decreasing signed glauber costa glauber scylladb.com message 1479775549 16643 git send email glauber scylladb.com,,
3549,f5afa55d30b4999004d03d2e740d569e81814029,aphael Carvalho <raphaelsc@scylladb.com>, 2016-11-23 23:15:48 -0200, , util defer add missing return move assignment signed raphael carvalho raphaelsc scylladb.com message 1479950148 16068 git send email raphaelsc scylladb.com,,
3550,d6f26d8a5a41a96c1a6f6cfebeab570d96f8af0e,awe Dziepak <pdziepak@scylladb.com>, 2016-11-23 12:19:38 +0000, , semaphore_units add missing return statement message pdziepak scylladb.com,,
3551,6bf92fa7ddd0ffdd6a2a10293ecec8fd1fa8e181,mnon Heiman <amnon@scylladb.com>, 2016-11-22 18:00:10 +0200, , metric detroy metric layer used patch prevent metric layer destroyed still registered metric metric impl created get_impl function shared_ptr shared_lw_ptr requires class definition cause cyclic dependency problem object hold ptr implementation still registered metric implementation destroyed signed amnon heiman amnon scylladb.com message 1479830410 29369 git send email amnon scylladb.com,,
3552,74739457530b57a6f523c73958b7adb32f67a754,vi Kivity <avi@scylladb.com>, 2016-11-22 11:51:11 +0200, , merge improve support timeouts primitive tag tgrabiec timeout primitive github.com cloudius system seastar dev shared_future allow waiting timeout core introduce expiring_fifo extracted semaphore future util introduce with_timeout core introduce manual_clock core extract lowres_clock separate header semaphore introduce get_units timeout,,
3553,4ccd4bb6d05784acd6767986236eb2ffb4a9746a,omasz Grabiec <tgrabiec@scylladb.com>, 2016-11-15 13:22:44 +0100, , shared_future allow waiting timeout allows waiting result timeout example shared_promise auto lowres_clock future time memory cleaned guarantee expiring_fifo tiemouts increasing later waiter memory left behind possible change clock used timeouts like shared_promise with_clock,,
3554,80195db16e96f7948de8e4575c7d2a9c40441541,omasz Grabiec <tgrabiec@scylladb.com>, 2016-11-10 23:39:25 +0100, , core introduce expiring_fifo extracted semaphore,,
3555,d90ecabae6e3cabfa5a318b604364d38e7b0f3a0,omasz Grabiec <tgrabiec@scylladb.com>, 2016-11-15 13:21:41 +0100, , future util introduce with_timeout,,
3556,6e196f13e852d7955b30213370aff9671bbfc94b,omasz Grabiec <tgrabiec@scylladb.com>, 2016-11-17 13:21:29 +0100, , core introduce manual_clock useful testing unlike clock advanced precisely prone preemption test process,,
3557,8d1b59de706f6a3c3cadaacbbfa44f73104697e2,omasz Grabiec <tgrabiec@scylladb.com>, 2016-11-17 12:12:27 +0100, , core extract lowres_clock separate header,,
3558,a80714edb0be1f18c2dd9c6212ea83b346adc9c0,omasz Grabiec <tgrabiec@scylladb.com>, 2016-11-15 13:22:00 +0100, , semaphore introduce get_units timeout,,
3559,7504026e4b002c23e67be2241fb57b9fe5635f08,lauber Costa <glauber@scylladb.com>, 2016-11-18 17:00:13 -0500, , circular_buffer add move assignment operator end goal able call swap method queue class circular_buffer storage signed glauber costa glauber scylladb.com message 1479506415 16995 git send email glauber scylladb.com,,
3560,d3244fa07f1c1b85b3654e5545cc18be2b9724be,omasz Grabiec <tgrabiec@scylladb.com>, 2016-11-18 21:42:36 +0100,1858, scollectd fix serialization gauge typed value according spec gague typed value serialized little endian big endian like rest broken commit ref scylladb scylla 1858 message 1479501756 23004 git send email tgrabiec scylladb.com,,
3561,31c5fd740864144642d1c361382f81b2cc30390f,mnon Heiman <amnon@scylladb.com>, 2016-11-17 12:12:25 +0200,1851, safe use collectd shutdown shutdown metric longer registered calling collectd situation even complicated call sender loop map get deleted patch move collectd use value copy like prometheus doe also make sure value removed map using  see scylladb scylla 1851 signed amnon heiman amnon scylladb.com message 1479377545 601 git send email amnon scylladb.com,,
3562,5f1b8a35b18f02f9258029570a3a22860427d26e,ogwang <whl6586290@gmail.com>, 2016-11-16 21:16:45 +0800, , udp abort reader writer udp channel close case chan engine .net chan.send addr .then return chan.receive .then std cout received   remote side response anymore receive hang forever even though call chan.close abort reader writer make fail immediately close udp channel signed logwang logwang tencent.com message 1479302205 14402 git send email logwang tencent.com,,
3563,3001c0862f52a8ace9449108334791ea0119d6c1,omasz Grabiec <tgrabiec@scylladb.com>, 2016-11-15 16:33:22 +0100, , core introduce weak_ptr allows obtaining non owning reference object live weak_ptr object prevent referenced object form destroyed underlying pointer held weak_ptr valid long referenced object alive object weak_ptr object associated emptied user weak_ptr check still hold valid pointer like  ptr ptr do_something weak reference obtained like class public auto std make_unique weak_ptr x_ref weak_from_this message 1479224002 945 git send email tgrabiec scylladb.com,,
3564,a805bcc140d8a1c45156a5fad575be7fa74d80c4,omasz Grabiec <tgrabiec@scylladb.com>, 2016-11-15 16:38:28 +0100, , timer add missing include message 1479224308 1319 git send email tgrabiec scylladb.com,,
3565,13101242718b3035dda178599b497c5fa780afd8,adav Har'El <nyh@scylladb.com>, 2016-11-16 00:21:05 +0200, , tutorial fix tex template newer version pandoc need definition tightlist macro tex template needed ninja doc tutorial.pdf signed nadav har nyh scylladb.com message 1479248465 2439 git send email nyh scylladb.com,,
3566,9359ac8f947291d2a9738fd3e0f9da31254bde90,vi Kivity <avi@scylladb.com>, 2016-11-03 14:59:38 +0200, , merge adding metric layer amnon first series change metric supported originally metric collection design collectd already rest prometheus api potentially api added series add general metric layer implementation based scollectd scollectd code taken based experience using scollectd extension used removed also considering global used metric code header split minimal set included header file,,
3567,345d5139ab348eec7d86e5eb1d7dc6a3d1ee3972,ogwang <whl6586290@gmail.com>, 2016-11-03 12:11:50 +0800, , core memory let malloc return valid pointer man page malloc say size malloc return either null unique pointer value later successfully passed free currently memory malloc return null right behaviour.but special case example regcomp glibc may call malloc expect valid pointer return null cause oom error really think malloc much use order ensure special case run correctly memory malloc return valid pointer like glibc doe signed logwang logwang tencent.com message 1478146310 11089 git send email logwang tencent.com,,
3568,83549367df6936fe844c8a6635baeeac0505a427,mnon Heiman <amnon@scylladb.com>, 2016-10-18 15:47:51 +0300, , scollectd change scollectd use metric api metircs layer give cleaner api registering metric eventually metric register using metric api currently collectd api used throughout system patch transition phase change collectd use metric api get value current code continue working collectd registration method register metric metric layer registration system replaced use metric layer collectd cleaned removing registration related code,,
3569,a1dee7b60103876342c22ceffce6ea7ce510beb6,mnon Heiman <amnon@scylladb.com>, 2016-10-18 15:39:14 +0300, , reactor preperation collectd change prepare collectd change registration done using standard api like collectd instance done vector scollectd registration signed amnon heiman amnon scylladb.com,,
3570,5c13208fda555395579624e3eb682ab627f0e414,mnon Heiman <amnon@scylladb.com>, 2016-10-18 15:33:55 +0300, , net preperation collectd change prepare collectd change registration done using standard api change net registration reported value register name signed amnon heiman amnon scylladb.com,,
3571,443b1f2d3a2d095f2f0edfd690067bd663fe21ce,mnon Heiman <amnon@scylladb.com>, 2016-09-18 12:07:29 +0300, , prometheus use metric layer instead scollectd metric layer base different metric metric reprting api change prometheus api use new metric layer signed amnon heiman amnon scylladb.com,,
3572,0f9967ff9a18caf477730841af672a3a412e6e5c,mnon Heiman <amnon@scylladb.com>, 2016-09-18 18:42:55 +0300, , metric add metric api implementation two kind user metric layer mainly class register metric metrics.hh hold logic registering metric second apis collectd prometheus rest api need access metric internal use metrics_api.hh metric layer implementation based map pointer base class inherits template class hold reference function return metric_value metric_value class hold different value supported metric layer registering metric done calling add_group list metric _metrics metric_groups code add two gauge _metrics add_group cache make_gauge byte used return .used_space make_gauge byte free return .free_space  implementation accept either reference function value wrapping reference value lambda function signed amnon heiman amnon scylladb.com,,
3573,47e182161614fd824b93609cc2c2b407500ad0e0,omasz Grabiec <tgrabiec@scylladb.com>, 2016-10-28 12:31:23 +0200, , rpc avoid using zero copy interface output_stream interface currently lacking batching every write passed directly underlying data sink result smaller packet sent higher system time interrupt thus higher softirq time led regression throughput scylladb cpu bound workload ec2 ref scylladb scylla 1786 fix reverting copying write buffer data benefit flush batching introduced commit 016ced1 message 1477650683 7688 git send email tgrabiec scylladb.com,,
3574,05f6c5cc21112e0111b7ca4832bdc882e0614154,vi Kivity <avi@scylladb.com>, 2016-10-27 15:52:05 +0300, , reactor improve task quota timer resolution commit reactor switch task quota timer switched task quota timer cputime clock avoid counting time spend sleeping result spurious wake sleep therefore high idle cpu consumption however uninteneded side effect occured since resolution linux rather high resolution timer default configuration red hat kernel make much difference since 1000 task quota ms. ubuntu kernel 250 4ms resolution someone set task quota task quota timer lower resolution task quota consistently miss hurt latency sensitive load fix change back high resolution clock_monotonic clock disable sleep avoid spurious wakeups message 1477572725 10444 git send email avi scylladb.com,,
3575,ca9c899da0435714a9f3350f8f8d45a0327449ec,vi Kivity <avi@scylladb.com>, 2016-10-27 11:14:03 +0300, , update dpdk submodule local patch 20161027 tag dpdk 0e53142 ... cc7e6ed prevent trigger newly added warning gcc 6.1 make dpdk compilable newer distribution,,
3576,4398f191043cef816a9a12dbfd254e57f2f753b8,vi Kivity <avi@scylladb.com>, 2016-10-26 13:58:44 +0300, , test wire,,
3577,ffef3840d12b57621a9d2591e0a84bf3f6002b60,alle Wilund <calle@scylladb.com>, 2016-10-26 07:21:19 +0000, , add rudimentary json formatter test one got lost sea last patch embarrassing message 1477466479 22891 git send email calle scylladb.com,,
3578,4b8fb92a8cf52c3217a0e14d820037d40164ca8f,akuya ASADA <syuu@scylladb.com>, 2016-10-26 03:08:26 +0900,1757, script detect irqs virtio net xen_netfront correctly since virtio net xen_netfront doe support msi_irqs irqs directory need detect irqs proc interrupt instead fix 188 fix scylladb scylla 1757 signed takuya asada syuu scylladb.com message 1477418906 20428 git send email syuu scylladb.com,,
3579,9bed76a3d0721b03bc2bde9853d352b4b40a7a92,vi Kivity <avi@scylladb.com>, 2016-10-26 08:13:56 +0300, , test expose statically linked boost prevents main linked define seastar test case test utils.cc special main,,
3580,6461bd4032cc6d542059dbfd98823cd76df3f44f,vi Kivity <avi@scylladb.com>, 2016-10-25 22:00:41 +0300, , build fix test link link non boost test defines main expose library seastar.pc,,
3581,3777135fda94e6e273d8617b5225c1908b9f2790,omasz Grabiec <tgrabiec@scylladb.com>, 2016-10-25 10:55:29 +0200, ," rpc close client connection error response timed request client connection silently dropped received error response hnadler longer log ignore instead example log info 2016 20,010 shard rpc client 127.0.0.3 ignoring error response semaphore timedout ",,
3582,e18205bfdeb7bf94bb152fa0cc8fea23bfd2ba0e,alle Wilund <calle@scylladb.com>, 2016-10-25 07:47:32 +0000, , json formatter add formatters map rudimentary test generalizing one vector bit also handle recursive call vector map contains vector map message 1477381652 2662 git send email calle scylladb.com,,
3583,98b5a2d82841f65a71c537a3c0c38edc0b5abbe3,omasz Grabiec <tgrabiec@scylladb.com>, 2016-10-25 09:59:52 +0200,176," rpc silence warning ignored failed future observed instance replica start timeout reader due disk keeping example log warn 2016 40,225 shard seastar exceptional future ignored semaphore timedout future ignored path response sent client marked error mean closing connection already done fix 176 message 1477382392 6370 git send email tgrabiec scylladb.com",,
3584,a8ce443ade59dd465fe7381cefb4e53758769b0b,awe Dziepak <pdziepak@scylladb.com>, 2016-10-25 08:37:05 +0100, , future prioritise continuation run immediately currently code like return do_some_io .then ... return .then ... return .then ... return   efficient return do_some_io .then ... return .then ... return .then ... return  reason former case continuation wait ready future immediately executed without allocating task object scheduling reactor queue possible latter case first continuation wait complete consequently subsequent continuation benefit fact depend future already ready introduces deferring point increase latency ruin cache locality solution introduced patch make sure future returned continuation already ready another continuation chained continuation executed immediately mean latter example still involves allocation additional deferring cache locality better signed pawe dziepak pdziepak scylladb.com message 1477381025 32083 git send email pdziepak scylladb.com,,
3585,3e78e483705c42eba435128da5a2c1a84eca04b3,vi Kivity <avi@scylladb.com>, 2016-10-23 13:37:26 +0300, , iotune relax aio restriction seastar aio know issue truncate call make ext4 aio work qualifying filesystem iotune message 1477219046 27769 git send email avi scylladb.com,,
3586,5ada8c74b3dcb1cae585af39439ae152ea5d6c6c,vi Kivity <avi@scylladb.com>, 2016-10-23 12:23:53 +0300, , build support static linking boost shipping seastar executable older distribution desirable link statically boost order reduce number foreign package need installed message 1477214633 6909 git send email avi scylladb.com,,
3587,5e3a281b4d33f9f991e371f166434062db252efc,omasz Grabiec <tgrabiec@scylladb.com>, 2016-10-20 18:55:50 +0200, , rpc fix crash connection teardown race former happens first close socket illegal use closed socket shutdown_output causing crash code protecting checking ready deferring point finally callback containing executed future associated resolved check enough patch fix problem replacing check fully reliable check flag set immediately stream closed complication could avoided changing implementation posix close whole socket shutdown read write side case shutdown_output could called concurrently bigger change postponed fix 210 message 1476982550 7800 git send email tgrabiec scylladb.com,,
3588,78cb6d2ed640be77882c73b497deed39141bd2bd,omasz Grabiec <tgrabiec@scylladb.com>, 2016-10-20 18:55:49 +0200, , rpc move _connected flag protocol connection currently defined client connection base client server connection allow using generic code later patch message 1476982550 7800 git send email tgrabiec scylladb.com,,
3589,83d702612387d125c5428961dd3322824b43bd8b,leb Natapov <gleb@scylladb.com>, 2016-10-20 15:28:19 +0300, , rpc test fail test exception thrown test execution message scylladb.com,,
3590,41c81711bd7834b2ac9352be9c896bacaf15a4fe,leb Natapov <gleb@scylladb.com>, 2016-10-20 15:54:59 +0300, , rpc assume underling semaphore type use semaphore max_counter instead assuming ssize_t message scylladb.com,,
3591,dd451a60ee46e413a6103a5b63a207b5cf8ef25f,leb Natapov <gleb@scylladb.com>, 2016-10-20 13:43:15 +0300, , rpc fix default resource limit commit changed semaphore signed rpc code amended assign negative value message scylladb.com,,
3592,69acec178810d75bae2859e254f8f5f20ea5bbb9,akuya ASADA <syuu@scylladb.com>, 2016-10-19 00:46:35 +0900,1768, app iotune add smp option scylla requires smp iotune cpuset may case add ref scylladb scylla 1768 signed takuya asada syuu scylladb.com message 1476805595 22097 git send email syuu scylladb.com,,
3593,b98eedfe45c13ae23d70e2301dd9dda3a02bf535,omasz Grabiec <tgrabiec@scylladb.com>, 2016-10-19 18:00:57 +0200, , rpc add missing adjustment snd_buf size code trimming buffer snd_buf size adjusted result value uncompressed message size written frame match uncompressed size passed lz4_compress lz4_compressor compress pass size lz4_compress writes snd_buf size frame cause failure side rpc client 10.154.2.97 server connection dropped rpc frame lz4 decompression failure hit mixed scylladb cluster node 1.3.1 1.4 rc2 see scylladb scylla 1767 message 1476892857 4907 git send email tgrabiec scylladb.com,,
3594,ccd8649d07e6467654d8265bffd6cb2085efbb6d,vi Kivity <avi@scylladb.com>, 2016-10-17 11:56:23 +0300, , merge augment semaphore non blocking operation glauber situation semaphore used accounting resource maximum amount allowed smaller one individual request still use semaphore case must allow borrow future unit word negative let use example case trying limit amount memory used request system 10mb let say one request 20mb still process allow semaphore store 10mb counter resource completes signal 20mb move back old 10mb completes piecemeal point counter positive small request may allowed order use need non blocking version wait account resource unconditionally even unit counter since really ever wait use different name consume semaphore augmented github.com glommer seastar semaphore add test negative counter semaphore allow counter negative semaphore use helper method test unit availability rwlock trust type semaphore counter size_t,,
3595,a98fc0827848a78973df451f0d444f3e38b1da77,lauber Costa <glauber@scylladb.com>, 2016-10-15 13:21:18 -0400, , semaphore add test negative counter signed glauber costa glauber scylladb.com,,
3596,618007b8dd625c1f085282a767eeb326691ba351,lauber Costa <glauber@scylladb.com>, 2016-10-15 13:13:17 -0400, , semaphore allow counter negative situation semaphore used accounting resource maximum amount allowed smaller one individual request still use semaphore case must allow borrow future unit word negative let use example case trying limit amount memory used request system 10mb let say one request 20mb still process allow semaphore store 10mb counter resource completes signal 20mb move back old 10mb completes piecemeal point counter positive small request may allowed order use need non blocking version wait account resource unconditionally even unit counter since really ever wait use different name consume signed glauber costa glauber scylladb.com,,
3597,928510897b9d86e20b35adc720807a797e584dec,lauber Costa <glauber@scylladb.com>, 2016-10-15 13:06:40 -0400, , semaphore use helper method test unit availability make easier make change later signed glauber costa glauber scylladb.com,,
3598,dbceec9a8978c2d60a3b083100ac8c3e34e058af,lauber Costa <glauber@scylladb.com>, 2016-10-15 14:58:46 -0400, , rwlock trust type semaphore counter size_t rwlock anyone else matter trust semaphore counter size_t since information private semaphore let semaphore export signed glauber costa glauber scylladb.com,,
3599,c52373676e837b4aee6ee6435fb86ccfd01be287,vi Kivity <avi@scylladb.com>, 2016-10-16 12:36:13 +0300, , merge dynamic fstream patch pawe additional fix accounting buffer droppped stream deconstruction cleanup history made private fstream dynamic adjustment pdziepak dynamic fstream cleanup github.com cloudius system seastar dev fstream make member private fstream account buffer dropped closing stream,,
3600,4e5254577e07647a95df4db707fe9032d45dce18,awe Dziepak <pdziepak@scylladb.com>, 2016-10-14 13:33:52 +0100, , fstream make member private nothing see user code full definition header restriction construct copy move destruct history something incomplete definition would significantly limit signed pawe dziepak pdziepak scylladb.com,,
3601,032a5944a6c3212307fcaf62c488e16eb1989e47,awe Dziepak <pdziepak@scylladb.com>, 2016-10-14 13:24:24 +0100, , fstream account buffer dropped closing stream original implementation increased counter needlessly read byte fstream skip used thing done stream closed unconsumed buffer signed pawe dziepak pdziepak scylladb.com,,
3602,e4620d73e9f6f8a286e8ccdf200426eb12b2311b,vi Kivity <avi@scylladb.com>, 2016-10-14 13:30:28 +0300, , merge fstream add dynamic adjustment based stream history pawe patch allows user provide fstream pointer stream histroy would enable dynamic adjustment buffer size stream history determine whether enter slow start phase smaller buffer size order minimise wasted bandwidth case read data dropped pdziepak dynamic read ahead github.com cloudius system seastar dev fstream add dynamic adjustment based stream history fstream dynamically increase read ahead fstream avoid issuing read batch circular_buffer fix reserve non power two bitops extract log2ceil log2floor memory.cc,,
3603,503b5b9add3865bf059917b620fd3cf0fb44a9e4,awe Dziepak <pdziepak@scylladb.com>, 2016-10-13 12:42:22 +0100, , fstream add dynamic adjustment based stream history patch allows user provide fstream pointer stream histroy would enable dynamic adjustment buffer size stream history determine whether enter slow start phase smaller buffer size order minimise wasted bandwidth case read data dropped signed pawe dziepak pdziepak scylladb.com,,
3604,38d79c33374634a0c928636f645c59843161c51a,awe Dziepak <pdziepak@scylladb.com>, 2016-10-11 12:53:41 +0100, , fstream dynamically increase read ahead data processing cpu bound much point one read ahead buffer patch change fstream read_ahead specifies maximum number read ahead buffer actual value chosen fstream depending fact whether consumer wait operation complete signed pawe dziepak pdziepak scylladb.com,,
3605,c16c83cf2a5e6711a9744fabdeb43e9d34dd0041,awe Dziepak <pdziepak@scylladb.com>, 2016-10-03 13:51:59 +0100, , fstream avoid issuing read batch original read ahead implementation issued new read two case get called ready progress read read completed number ready progress read configured read ahead threshold really would like read ahead work buffer queued _read_buffers ready new read issued consumed desired behaviour since hide latency well could solution change code read issued buffer consumed signed pawe dziepak pdziepak scylladb.com,,
3606,20a9dba74480273539d99276935e291ad6faaee0,awe Dziepak <pdziepak@scylladb.com>, 2016-10-07 13:39:36 +0100, , circular_buffer fix reserve non power two circular_buffer implementation assumes capacity always power two guarantee easily broken user code attempt reserve space number element number two signed pawe dziepak pdziepak scylladb.com,,
3607,5d973b3472671bb9dc6b96cfd2a0f87d43354f0a,awe Dziepak <pdziepak@scylladb.com>, 2016-10-07 16:08:36 +0100, , bitops extract log2ceil log2floor memory.cc signed pawe dziepak pdziepak scylladb.com,,
3608,207bf3d2ab7b026d0ca3433aaff95878f35ca0df,vi Kivity <avi@scylladb.com>, 2016-10-12 23:41:26 +0300, , merge iotune gracefully exit predictable exception currently issue predictable exception like timeouts cause coredump instead gracefully exiting patchset fix two instance first due fact timeout exception thrown thread doe propagate back main thread second due fact wrap bpo notify try catch block,,
3609,dcff4c7237ea6f7ce4089b5aad9d85bc1723fbb4,lauber Costa <glauber@scylladb.com>, 2016-10-07 16:36:59 -0400, , iotune properly propagate exception main thread iotune work need independent worker pushing concurrency disk spawning one thread per available core assigning work problem thread throw exception way exception work propagated main thread patch wrap thread code together std future mean packaged_task way easily communicate exception back main thread control flow changed happen new thread created every step patch applied iotune longer generate coredump timeout exception result thrown thread exit gracefully instead signed glauber costa glauber scylladb.com,,
3610,069d65bc588c306053e46d5abb08a61ed6c9666e,lauber Costa <glauber@scylladb.com>, 2016-10-11 15:51:47 -0400, , iotune keep expected number thread pas number manager object store instead relying _threads.size fetch signed glauber costa glauber scylladb.com,,
3611,292772934c447210218bda533549b25a973c450d,lauber Costa <glauber@scylladb.com>, 2016-10-07 16:44:25 -0400, , iotune move parsing command line argument early bpo notify throw mandatory argument missing already handle exception bpo store really together patch failing pas mandatory command line cause core dump signed glauber costa glauber scylladb.com,,
3612,3b8c270fa241d2ce9431539881125cfe6dd2e855,lauber Costa <glauber@scylladb.com>, 2016-10-12 15:12:10 -0400, , iotune reduce dependency seastar core bring reactor header also compile seastar object except resource.cc file fairly independent rest anyway end goal break iotune dependency seastar memory allocator signed glauber costa glauber scylladb.com,,
3613,c813f265a2fa1ba26ea45dc6e5e5e3f8e81bfc7d,lauber Costa <glauber@scylladb.com>, 2016-10-12 15:06:39 -0400, , posix move pin_this_thread header file include without pulling .cc counterpart signed glauber costa glauber scylladb.com,,
3614,b90fbb13fc94eaf33e5d8dd7d51a098c167c4a09,lauber Costa <glauber@scylladb.com>, 2016-10-12 15:05:05 -0400, , core move aligned_buffer separate file use without pulling dependency reactor signed glauber costa glauber scylladb.com,,
3615,5179e9e2903fc68e73d84a2f3b1cf092b27bff4f,lauber Costa <glauber@scylladb.com>, 2016-10-12 15:03:42 -0400, , net move basic socket definition different file group definition doe need pull future promise machinery future.hh signed glauber costa glauber scylladb.com,,
3616,8945d64dbfd1da8d0a747f69f4d12aba005470a0,omasz Grabiec <tgrabiec@scylladb.com>, 2016-10-12 17:45:44 +0200, , core semaphore add semaphore_units release message 1476287144 13667 git send email tgrabiec scylladb.com,,
3617,04dc20c470b7df13d951cb91c5fbea718e79addd,vi Kivity <avi@scylladb.com>, 2016-10-10 17:45:48 +0300, , merge rometheus api grafana label amnon  series address issue grafana prometheus integration grafana dashboard label displaying hostname sum metric different shard series grafana dashboard removing collectd_ prefix metric definition work expected amnon github.com cloudius system seastar dev prometheus use label metric collectd expose hostname,,
3618,f441097ad5d61c3a6ee77d08832e200af31c8d13,mnon Heiman <amnon@scylladb.com>, 2016-10-09 11:53:19 +0300,1737, prometheus use label metric instead creating one string type type_instance plugin_instance instance host added label optional prefix added prometheus configuration allow grafana prometheus sum shard display host name see scylladb scylla 1747 see scylladb scylla 1737 signed amnon heiman amnon scylladb.com,,
3619,165982bc3bff21d50eb0cc992364d0d206baaf74,omasz Grabiec <tgrabiec@scylladb.com>, 2016-10-10 14:22:35 +0200, , core thread fix stack alloc dealloc mismatch message 1476102155 15376 git send email tgrabiec scylladb.com,,
3620,c629c93770f0595d3f83083d78fefe4ac36d5e09,omasz Grabiec <tgrabiec@scylladb.com>, 2016-10-10 13:33:59 +0200, , core thread make jmp_buf_link yield_at use time point account_start switch_in asking current time could take time make code bit faster also thread_context should_yield agree thread_impl should_yield message 1476099239 12999 git send email tgrabiec scylladb.com,,
3621,9f779937ea3d488877540ba1954df01d2515d0a1,vi Kivity <avi@scylladb.com>, 2016-10-05 22:37:45 +0300, , file support xfs older kernel linux 3.15 rhel kernel version support xfs aio append others try see current kernel support xfs aio append enable fall back ftruncate doe allows run older kernel without significant performance loss message 1475696265 31624 git send email avi scylladb.com,,
3622,7cfa5fc4e287e30544912ac308558469893af8df,mnon Heiman <amnon@scylladb.com>, 2016-10-09 11:48:48 +0300, , collectd expose hostname collectd either configurable hostname configuration found local host name exposing matric prometheus use value mark instance metric comming collectd metric comming prometheus would look  patch add method export host used collectd used prometheus signed amnon heiman amnon scylladb.com,,
3623,c5f532e507da670ef618ad859e5ae6e5103f653f,aphael Carvalho <raphaelsc@scylladb.com>, 2016-10-09 01:10:19 -0300, , reactor fix bug handling ebadf io_submit fails ebadf supposed remove bad request _pending_aio however using error returned io_submit erase element result segfault spotted auditing code signed raphael carvalho raphaelsc scylladb.com message 1475986219 25682 git send email raphaelsc scylladb.com,,
3624,6236442b6e0ad99596367055c6a5a2ed84de8435,mnon Heiman <amnon@scylladb.com>, 2016-10-05 17:03:42 +0300,1727, prometheus cpu start like collectd metric prometheus cpu counting start zero see scylladb scylla 1727 signed amnon heiman amnon scylladb.com message 1475676222 26939 git send email amnon scylladb.com,,
3625,a2ff1f37403ab9334b9a287d86a1d4d98f9b72a1,mnon Heiman <amnon@scylladb.com>, 2016-10-05 17:03:41 +0300,1726, collectd byte ordering depends type collectd double gauge using intel byte order integer type using network order getting value apis need look type decide interpret value code replaced metric layer implementation see scylladb scylla 1726 message 1475676222 26939 git send email amnon scylladb.com,,
3626,5fcefe7afacb279f98fbeb78283cfb80b9aadf4f,omasz Grabiec <tgrabiec@scylladb.com>, 2016-10-05 14:40:45 +0200, , test check backtrace corrupt signal mask message 1475671245 5102 git send email tgrabiec scylladb.com,,
3627,1bdf0d8e041ce6b74a0880836e883364191fc877,omasz Grabiec <tgrabiec@scylladb.com>, 2016-10-05 11:46:21 +0200, , core thread add stack guard seastar thread stack compile time optional enabled debug mode build default useful catching memory corruption due stack overflow seastar thread enabled release mode would fragment huge page possibly hurting performance message 1475660781 3881 git send email tgrabiec scylladb.com,,
3628,f937fb0d48ba6e83dc188179998437117dbf454e,vi Kivity <avi@scylladb.com>, 2016-10-04 20:06:37 +0300,1725, merge fix signal mask corruption tomasz libunwind library version ship ubuntu 16.04 libunwind 8.0.1 bug cause signal mask undefined exception thrown see http bug 48486 manifest number way one operation appear hang due worker thread completion notification delivered collectd statistic exported due timer firing may also cause abort sigterm delivered non 0th shard ref scylladb scylla 1725 workaround put libgcc_s libunwing link list gcc default unwinding handler used instead libunwind tgrabiec fix unwind sigprocask github.com cloudius system seastar dev test add test signal mask preserved unwinding core fix error handling pthread_sigmask build work around libunwind messing signal mask,,
3629,7d6705680c4c084e6fb7e5eade90fdd9ca839d5c,omasz Grabiec <tgrabiec@scylladb.com>, 2016-10-04 17:51:40 +0200, , test add test signal mask preserved unwinding,,
3630,e1b6b6332c8ca682afcabcbe1c58c441b3a4d61f,omasz Grabiec <tgrabiec@scylladb.com>, 2016-10-04 17:52:05 +0200, , core fix error handling pthread_sigmask pthread_sigmask set errno use result also result error man pthreads say pthreads function return success error number failure note pthreads function set errno pthread_sigmask belongs group,,
3631,9ecbc9b668427cdcc9a2dd76d051b3c41c457297,omasz Grabiec <tgrabiec@scylladb.com>, 2016-10-04 14:05:20 +0200,1725, build work around libunwind messing signal mask libunwind library version ship ubuntu 16.04 libunwind 8.0.1 bug cause signal mask undefined exception thrown see http bug 48486 manifest number way one operation appear hang due worker thread completion notification delivered collectd statistic exported due timer firing may also cause abort sigterm delivered non 0th shard ref scylladb scylla 1725 workaround put libgcc_s libunwing link list gcc default unwinding handler used instead libunwind,,
3632,1d3c852652909a73e2a9af5f08955f11929a84e1,omasz Grabiec <tgrabiec@scylladb.com>, 2016-10-04 14:06:38 +0200, , core memory avoid violating strict aliasing accessing allocation site message 1475582798 17544 git send email tgrabiec scylladb.com,,
3633,675e233331cc952034f7fd3a9aea3777daf5274b,omasz Grabiec <tgrabiec@scylladb.com>, 2016-10-04 14:04:24 +0200, , core memory avoid indirection storing allocation site message 1475582664 16868 git send email tgrabiec scylladb.com,,
3634,db021d5398f8dd705120d75fd786174c06bb2fa4,omasz Grabiec <tgrabiec@scylladb.com>, 2016-10-04 13:28:45 +0200, , core memory add way disable abort allocation failure scope place allocation failure expected critical message 1475580525 14673 git send email tgrabiec scylladb.com,,
3635,6b7ee4ef58816d210c50ebde2cfa7c100f2c2853,omasz Grabiec <tgrabiec@scylladb.com>, 2016-10-03 12:33:33 +0200, , core sharded allow mapper take service non const reference fix 199 message 1475490813 14819 git send email tgrabiec scylladb.com,,
3636,18f7bb8270b9dd7ee300bd77a286e800dff2c249,omasz Grabiec <tgrabiec@scylladb.com>, 2016-10-03 11:47:18 +0200, , core memory fix compilation error add custom destructor empty gurad silence following core memory.cc 650 error unused variable dbt werror unused variable dbt  message 1475488038 8572 git send email tgrabiec scylladb.com,,
3637,0e60722bb6e06de403eb1a6ee997f863fd2334e0,ekka Enberg <penberg@scylladb.com>, 2016-09-26 10:09:36 +0300,1589, core memory replace assert bad_alloc allocate_large assertion trigger caller pass large size allocate_large function likely programming error caller severe enough kill whole process ref scylladb scylla 1589 message 1474873776 3491 git send email penberg scylladb.com,,
3638,50f594998037cf187429cc90015dcfcd15797033,vi Kivity <avi@scylladb.com>, 2016-10-01 23:33:28 +0300, , chunked_fifo avoid direct use sized operator delete recognized clang reason replace union prevent constructor called early message 1475354008 1860 git send email avi scylladb.com,,
3639,878dec3cc8c0d71aff16e108718c60b345f368e5,vi Kivity <avi@scylladb.com>, 2016-10-01 23:26:48 +0300, , memory fix build without heap profiler,,
3640,537be31515daa54fd1ac1b2fda64703523b468dd,vi Kivity <avi@scylladb.com>, 2016-10-01 23:19:00 +0300, , xen initialize port _sem semaphore default constructor gone must initialize _sem,,
3641,4e433e072d9d1f19c73168d30b051dc499dada39,vi Kivity <avi@scylladb.com>, 2016-10-01 21:06:40 +0300, , merge make input stream skippable pawe series add support efficient ignoring part input stream.x pdziepak skippable input stream github.com cloudius system seastar dev lw_shared_ptr add operator make fstream skippable make input_stream skippable,,
3642,ff8c162e36f9a970120b3077dc4641552aa2f3bc,adav Har'El <nyh@scylladb.com>, 2016-09-21 15:17:34 +0300, , semaphore require explict setting start value semaphore currently default value explicitly given start value useful scenario wrong others easy forget explicitly specify assume default something else like recently two bug latest one exactly assumption even rare case start value desired better explicitly mention instead relying default let drop default signed nadav har nyh scylladb.com message 1474460254 20300 git send email nyh scylladb.com,,
3643,d0d161c2a0fbc75e208d9f88f6e7411b0c28f95e,mnon Heiman <amnon@scylladb.com>, 2016-09-29 14:59:46 +0300, , prometheus remove invalid char meric name use plus brace allowed prometheus oppose minus space char plus brace removed patch tested prometheus 1.1.3 strict work see scylladb scylla 1710 signed amnon heiman amnon scylladb.com message 1475150386 19251 git send email amnon scylladb.com,,
3644,e9ab0a3d1f820cd6d3f1d132cce46081099d2252,omasz Grabiec <tgrabiec@scylladb.com>, 2016-09-30 15:06:06 +0200, , core memory introduce heap profiler record allocation site size later possible see kind object taking space heap add byte memory overhead per live object compiled compiled default configure configure.py cflags enable recording allocation site start seastar application heapprof flag build release memcached heapprof possible enable recording run time using instance restful api scylla gdb.py support follow text mode tree presentation dumping flamegraphs flamegraph example http asset 283695 18888026 f69fc4e6 84f6 11e6 9b7b text example gdb scylla heapprof 275954028 12783 void memory cpu_pages memory cpu_pages unsigned int unsigned int lambda unsigned int unsigned int unsigned int memory cpu_pages unsigned int unsigned int lambda unsigned int unsigned int 169 268959744 memory unsigned long unsigned long logalloc segment_zone segment_zone 291 268435456 logalloc segment_pool 413 logalloc segment_pool segment_pool 296  logalloc region_group 1333 logalloc region_group add logalloc region_group 514 database database config const 4246 ...  memory unsigned long unsigned long 524288 memalign 262144 commitlog segment_manager acquire_buffer unsigned long commitlog segment new_buffer unsigned long 113 commitlog segment allocate utils uuid const shared_ptr commitlog entry_writer 2347 commitlog add_entry utils uuid const const 1620 131072 database do_apply lw_shared_ptr schema const frozen_mutation const 182 database apply lw_shared_ptr schema const frozen_mutation const 235 service storage_proxy mutate_locally lw_shared_ptr schema const const frozen_mutation const 434 message 1475240766 20198 git send email tgrabiec scylladb.com,,
3645,b752610b0f765bd01d830db4f62ad2bdfa8ce0b2,omasz Grabiec <tgrabiec@scylladb.com>, 2016-09-30 16:39:45 +0200, , util backtrace mark noexcept func throw message 1475246385 22799 git send email tgrabiec scylladb.com,,
3646,9e1d5dbc666d40f19e9974d07967ab8c8ca4978e,mnon Heiman <amnon@scylladb.com>, 2016-09-29 10:01:28 +0300, , prometheus prevent illegal prometheus name collectd metric valid name contains space minus sign used clean name export name directly prometheus server complains note temporary clean schedule done collectd metric remove need function signed amnon heiman amnon scylladb.com message 1475132488 2740 git send email amnon scylladb.com,,
3647,6989ebe07948fbb4b217f59f7c7d0cddb131556e,mnon Heiman <amnon@scylladb.com>, 2016-09-29 10:01:27 +0300, , scollectd raw_to_value use network order raw_to_value used fetch collectd information internally api prometheus hide internal api collectd used internally need network order would effect double representation data gauge signed amnon heiman amnon scylladb.com message 1475132488 2740 git send email amnon scylladb.com,,
3648,04d0676f86b0de387c3eab7e418aeb75a61d6e58,omasz Grabiec <tgrabiec@scylladb.com>, 2016-09-29 11:32:11 +0200, , semaphore introduce get_units utility safe temporary acquisition semaphore unit flexible scope unlike with_semaphore scope unit holding limited single async lambda example return get_units sem .then auto mem_permit return read_frame .then mem_permit std move mem_permit auto frame process parallel process frame .then mem_permit std move mem_permit   message 1475141531 3970 git send email tgrabiec scylladb.com,,
3649,0ebdabf89ec0811515b3870ff4ec70f8eb85277d,lad Zolotarov <vladz@cloudius-systems.com>, 2016-09-27 18:24:35 +0300,1576, core scollectd truncate identifier field character boundary collectd limit length identifier field character make sure bypass limit truncating field string needed character boundary field truncated appended num suffix num monotonically incremented per shard integer see scylladb scylla 1576 signed vlad zolotarov vladz cloudius systems.com message 1474989875 23089 git send email vladz cloudius systems.com,,
3650,1244c6ac0bc43b0d05907d8f86f1807a9545c0d4,vi Kivity <avi@scylladb.com>, 2016-09-29 12:27:41 +0300, , merge fix asan error debug build tomasz since seastar installs alternative signal handler stack asan also doe expects stack still installed clean try unmap current stack fix restoring previous stack reactor run return fix following error 31667 error failed deallocate 0x2000 8192 byte address 0x625000039900 31667 check failed libsanitizer 133 unable unmap 0x0 0x0 tgrabiec restore signal stack github.com cloudius system seastar dev core reactor restore previous alternative signal stack test add defer_test util make deferred_action object movable,,
3651,4ce1fd00f166538811940e4216c73258c0ef7e9f,omasz Grabiec <tgrabiec@scylladb.com>, 2016-09-28 12:30:35 +0200, , core reactor restore previous alternative signal stack since seastar installs alternative signal handler stack asan also doe expects stack still installed clean try unmap current stack fix restoring previous stack reactor run return fix following error 31667 error failed deallocate 0x2000 8192 byte address 0x625000039900 31667 check failed libsanitizer 133 unable unmap 0x0 0x0,,
3652,33774cb0e81fa9da923f1bae1e918d7b2f4622fb,omasz Grabiec <tgrabiec@scylladb.com>, 2016-09-28 14:24:59 +0200, , test add defer_test,,
3653,1d7b6e594eb3dccbf1b4178d53e412a9aae02f6f,omasz Grabiec <tgrabiec@scylladb.com>, 2016-09-28 12:26:33 +0200, , util make deferred_action object movable currently deferred_action movable making movable useful allow passing non copyable lambda achieve also need make deferred_action non copyable think fine seems dangerous allow copied since defer intended used resource reclamation want run,,
3654,5b7252d7848ba406fd07f990809184e1dbb6982f,vi Kivity <avi@scylladb.com>, 2016-09-28 11:28:43 +0300, , merge rpc serialize large message fragmented memory gleb,,
3655,379e928805ea2930b8acc1138a1a3435d45c171d,vi Kivity <avi@scylladb.com>, 2016-09-27 17:00:24 +0300, ," merge print backtrace sigsegv sigabrt tomasz often seastar application terminates assertion failure segmentation fault enough information figure problem knowing backtrace enough identify problem change cause seastar dump backtrace event make addressing user report easier raw address currently dumped would possible print symbol name currently ship stripped program case would get misleading symbol name example output error 2016 47,816 shard seastar failed allocate 5534 byte aborting shard backtrace                        ref scylladb scylla 758",,
3656,899be39059f1cc7817c5433b7a13403cdf02efd6,awe Dziepak <pdziepak@scylladb.com>, 2016-09-01 13:01:39 +0100, , lw_shared_ptr add operator added lw_shared_ptr used conteiners require compare operator signed pawe dziepak pdziepak scylladb.com,,
3657,5abfd12de4fdb4df67e790ca8b1454b9a37e9438,awe Dziepak <pdziepak@scylladb.com>, 2016-07-27 16:40:38 +0100, , make fstream skippable signed pawe dziepak pdziepak scylladb.com,,
3658,e184051dcd07c451c43e0ca1ded9921797407869,awe Dziepak <pdziepak@scylladb.com>, 2016-07-27 16:40:27 +0100, , make input_stream skippable providing direct interface skipping part input stream enable concrete implementation implement data skipping efficient way defaul reading ignoring buffer signed pawe dziepak pdziepak scylladb.com,,
3659,1ef66deddfaec1b0654aedd62d484e6f8a186e2c,omasz Grabiec <tgrabiec@scylladb.com>, 2016-09-23 17:01:48 +0200, ," core print backtrace sigsegv sigabrt often seastar application terminates assertion failure segmentation fault enough information figure problem knowing backtrace enough identify problem change cause seastar dump backtrace event make addressing user report easier raw address currently dumped would possible print symbol name currently ship stripped program case would get misleading symbol name example output error 2016 47,816 shard seastar failed allocate 5534 byte aborting shard backtrace                       ",,
3660,8703fede1c27f24df1ab19faf7f767b9e59550ca,omasz Grabiec <tgrabiec@scylladb.com>, 2016-09-26 15:09:20 +0200, , util introduce print_safe.hh,,
3661,3b3a88d27fe9237f524706e61f10767c546ce021,omasz Grabiec <tgrabiec@scylladb.com>, 2016-09-23 16:59:42 +0200, , util add spinlock implementation,,
3662,24153780d6a55395918dbc6b7f921d68874abd70,omasz Grabiec <tgrabiec@scylladb.com>, 2016-09-23 16:58:51 +0200, , util introduce backtrace obtaining utility based libunwind,,
3663,016ced101856dfe047ea6e3af73f6d2216b6da0e,leb Natapov <gleb@scylladb.com>, 2016-09-18 17:06:23 +0300, , rpc use fragmented memory large message serialization compression still linearise since compression function expects contiguous memory input output,,
3664,eca26b01890c5e38c7f11b7ec4fb89e44ef3cbcb,awe Dziepak <pdziepak@scylladb.com>, 2016-09-23 16:32:28 +0100, , test_runner avoid nested optionals bug http gcc.gnu.org bugzilla show_bug.cgi 77288 gcc break nested optionals fortunately std exception_ptr nullable really need use stdx optional std exception_ptr signed pawe dziepak pdziepak scylladb.com message 1474644748 5443 git send email pdziepak scylladb.com,,
3665,2b55789c289ed02720292b260f41072f56397ddc,omasz Grabiec <tgrabiec@scylladb.com>, 2016-09-22 13:59:35 +0200, , input_stream fix possible infinite recursion consume may happen consumer slower underlying data source fix 195 message 1474545575 26837 git send email tgrabiec scylladb.com,,
3666,13517652aab3c92cbee0e8a9d958333ebff802e4,omasz Grabiec <tgrabiec@scylladb.com>, 2016-09-21 17:10:37 +0200,1622, iostream fix stack overflow output_stream split_and_put buffer passed output_stream write large output stream setup trim buffer certain size handing sink split_and_put may issue lot put completes may recurse lot without deferring undrelying data sink fast allows lot data buffered turn may lead stack overflow fix avoiding recursion seems case scylladb output_stream sstable data file writer writing large cell value outer stream split buffer chunk compressed hand file output stream latter stream allows 128k data buffered write behind issuing background mean 320 10x128 split_and_put iteration could proceed without deferring iteration take 448 byte stack give 143k seastar thread stack size manifested heap memory corruption seastar thread stack guard leading peculiar crash ref scylladb scylla 1622 message 1474470637 20758 git send email tgrabiec scylladb.com,,
3667,c57f5930e72464d118748fef8407357fa53316a2,i Fanxi <lifanxi@hotmail.com>, 2016-09-21 17:24:10 +0800, , fix spurious wakeup initialize semaphore inside default value enusre first call wait signal waken immediately,,
3668,626514affda17ac9e64d74d633047e7b6f954c66,leb Natapov <gleb@scylladb.com>, 2016-09-19 14:21:27 +0300, , core add support fragmented buffer,,
3669,650bb077452ac732be2b3c3a690c8123866e2aaa,leb Natapov <gleb@scylladb.com>, 2016-09-19 14:21:14 +0300, , core rename memory_stream,,
3670,676991100c744bde5531e2efdef2f13b5bc1889a,vi Kivity <avi@scylladb.com>, 2016-09-19 13:22:29 +0300, , merge assorted rpc fix gleb,,
3671,e7cdc53f937783d5ed37b75e6330d1440741a5b8,leb Natapov <gleb@scylladb.com>, 2016-08-25 12:30:26 +0300, , rpc deserialize message calling handler currently message deserialized tuple tuple forwarded continuation chain efficient since type fully copied moved better move pointer move deserialize later,,
3672,88cd63ded0fe89d32a0aed6e65881501267530e7,leb Natapov <gleb@scylladb.com>, 2016-08-25 12:26:42 +0300, , rpc wait timeout timeout value specified timeout specified need wait resource availability indefinitely,,
3673,8e24f7d86c8e071cd5de3856ae267b667f909c2d,leb Natapov <gleb@scylladb.com>, 2016-08-25 10:51:34 +0300, , future provide function handle exception single type often used handle single exception type propagate others usually done code like auto try std catch my_ex handle   patch add capability write like my_ex handle,,
3674,cada56d358cb1572aed39699d58b1ea846aa1a7d,vi Kivity <avi@scylladb.com>, 2016-09-18 11:26:42 +0300, , merge simple fix doxygen glauber,,
3675,0872b22eef3092b3a529f541a85f0b6d403264ac,lauber Costa <glauber@scylladb.com>, 2016-09-17 23:30:13 -0400, , generate documentation fmt submodule already skip dpdk submodule skip fmt similar reason signed glauber costa glauber scylladb.com,,
3676,284d765429cdc5474342fbe83c4155a2a4614b25,lauber Costa <glauber@scylladb.com>, 2016-09-17 23:28:45 -0400, , correctly exclude directory doxyfile doxygen documentation may enter file name like myfile.cpp directory like usr src myproject separate file directory space comma verified work directory ignored signed glauber costa glauber scylladb.com,,
3677,40a68fa50ebeeb17cd3797af7cddbbcdf07ce61a,leb Natapov <gleb@scylladb.com>, 2016-09-15 11:51:16 +0300, , rpc fix dangling reference read_rcv_buf size captured value since stack message scylladb.com,,
3678,e534401e609ded384ae590fa5975891a6676ee5f,vi Kivity <avi@scylladb.com>, 2016-09-14 18:45:54 +0300, , merge enable rpc work non contiguous memory receive gleb reduce allocator pressure,,
3679,089bddcab0d38573b351bf481a20c11f5ff8668d,akuya ASADA <syuu@scylladb.com>, 2016-09-06 10:49:28 -0700, , install dependencies.sh install python3 ubuntu debian requires configure.py signed takuya asada syuu scylladb.com message 1473184168 13407 git send email syuu scylladb.com,,
3680,5f05dc95f8e8b416a3fde818ff7c458298c026f2,leb Natapov <gleb@scylladb.com>, 2016-09-01 15:17:59 +0300, , rpc allow reading message chunk large rpc message require large contiguous memory processed may cause unnecessary allocation failure patch enables rpc read process message scattered buffer unfortunately lz4 compressor doe work non contiguous memory compression used linearization happen fixing lz4 compressor todo item,,
3681,115f06e3bf989af184ea5018f3945198072e0556,leb Natapov <gleb@scylladb.com>, 2016-09-01 15:13:44 +0300, , introduce fragmented input stream deserialization fragmented input stream hold serialized message scattered several memory buffer allows accessing contiguous patch also introduces generic input_stream class may hold either simple fragmented stream hide difference user based utils scylla destined replace,,
3682,74ffcf6af63af69119c8ff81b51145f55b57e234,ony Wang <whl6586290@gmail.com>, 2016-09-02 13:21:08 +0800, , fix tcp stuck output_stream write 212992 byte use native stack tcp connection output_stream write 212992 byte limit number data queued send queue semaphore time tcp stuck never send data semaphore deadlock patch change semaphore two variable current queued max queued allows packet send queue even though larger max queue size call condition least one byte available queue signal whenever remove data queue message 1472793668 16301 git send email whl6586290 gmail.com,,
3683,567704318a955b82ce5dc9d0522af9bc1666f17c,leb Natapov <gleb@scylladb.com>, 2016-09-01 15:09:21 +0300, , add input_stream read_up_to size_t iostream function read byte stream allowed return byte eof empty buffer returned,,
3684,353ace5706e235ad563526c036c4d4e1c51b729f,akuya ASADA <syuu@scylladb.com>, 2016-08-31 16:04:54 +0900, , script supress access sys class net nic device msi_irqs error message currently nic doe msi irqs script show access sys class net nic device msi_irqs file directory stderr supress checking msi_irqs dir using test signed takuya asada syuu scylladb.com message 1472627094 2649 git send email syuu scylladb.com,,
3685,a18973c4d771189c6cc4ff60433f81d952ed8151,akuya ASADA <syuu@scylladb.com>, 2016-08-31 16:04:53 +0900, , script fix command found error specifies cpu mask fix scripting bug occurs specifies cpu mask signed takuya asada syuu scylladb.com message 1472627094 2649 git send email syuu scylladb.com,,
3686,d92551de94047b00bfdf626ae08c6be7002ec338,alle Wilund <calle@scylladb.com>, 2016-08-29 12:10:04 +0000,184, fix use free missing wait dhcp fix 184 dhcp code could cause incoming packet filter freed dhcp object smp call unregister complete immediately fact neither register reg waited smp invokes could also make miss packet fail dhcp message 1472472604 26342 git send email calle scylladb.com,,
3687,0303e0c172a1c0cce474288e57c82c39b9b22f93,akuya ASADA <syuu@scylladb.com>, 2016-08-26 03:57:17 +0900, , script add support cpu mask mode cpu mask show rps cpu assignment nic print cpu requires sync cpuset parameter rps_cpus setting enabled nic single queue patch scylla signed takuya asada syuu scylladb.com message 1472151437 21490 git send email syuu scylladb.com,,
3688,605cff4957c718bbd6ea84097347fbc3c928d623,vi Kivity <avi@scylladb.com>, 2016-08-27 12:43:10 +0300, , file improve tmpfs support currently support tmpfs relaxed dma provided better tmpfs doe support o_direct neither block io_submit copy data immediately non blocking behavior least swap involved improve tmpfs support detecting forgiving lack o_direct indeed tmpfs help testing environment reviewed raphael carvalho raphaelsc scylladb.com message 1472290990 17697 git send email avi scylladb.com,,
3689,88dcbffd2c2c3ea97e4d6a1e57777db93255c99c,vi Kivity <avi@scylladb.com>, 2016-08-29 13:02:18 +0300, , file close remove trailing newline log message unneeded logger supply noted pekka,,
3690,2b07b1f0a630e281222010dd990bed95a4458521,vi Kivity <avi@scylladb.com>, 2016-08-28 19:43:05 +0300, , file make close robust concurrent call calling close concurrently calling close waiting complete calling destructor serious bug however implementation make even serious allowing double close called result data corruption illegal code make close robust clearing _fd subsequent close destruction ignore,,
3691,ef063c54a9f497330c35e7f6cc8cac6787de23b6,leb Natapov <gleb@scylladb.com>, 2016-08-23 13:10:00 +0300, , rpc pas timeout verb server handler one specified client patch server ability receive timeout value specified client may use value abort whatever timeout reached since client longer wait reply message 1471947000 23581 git send email gleb scylladb.com,,
3692,b42a9c910e9935c1a873717d60361bf449526d62,leb Natapov <gleb@scylladb.com>, 2016-08-23 13:09:59 +0300, , rpc cleanup old metaprogramming craft signature class already provides clean function signature dropping client_info longer reuse signature clean instead message 1471947000 23581 git send email gleb scylladb.com,,
3693,6fadd983981e85ea339566afd054f12cfe27464c,awe Dziepak <pdziepak@scylladb.com>, 2016-08-19 11:20:36 +0100, , remove explicit copy constructor user defined copy constructor implicit one except marked noexcept signed pawe dziepak pdziepak scylladb.com message 1471602036 18575 git send email pdziepak scylladb.com,,
3694,3a24d6d5f659170ca1ddd36c4701ab8eb590fa3f,awe Dziepak <pdziepak@scylladb.com>, 2016-08-18 14:23:26 +0100, , simple_stream add gnu always_inline many case gain lot const propagating size compiler decides inline function though since performance difference siginifcant worthwhile encourage complier little signed pawe dziepak pdziepak scylladb.com message 1471526606 29300 git send email pdziepak scylladb.com,,
3695,c775c4d604d4d240f8e5e6b1f2f65e677b18cb83,vi Kivity <avi@scylladb.com>, 2016-08-18 22:39:22 +0300, , perf_fstream initialize variable size array inline clang,,
3696,6c7520ca0a9d2ceef0b07cfcdf1c6c3ff5e2fed6,vi Kivity <avi@scylladb.com>, 2016-08-18 22:37:41 +0300, , rpc annotate template function call template template parameter dependent need annotated found clang,,
3697,b19e35c0fca254d0259b02a10bac0567020fba8b,vi Kivity <avi@scylladb.com>, 2016-08-18 22:37:02 +0300, , iotune avoid auto parameter clang claim valid,,
3698,0dace13156e9722b3cd5254c9761a8be66aa2796,vi Kivity <avi@scylladb.com>, 2016-08-18 00:11:40 +0300, , file ext4 support turn ext4 work change size write behind work adapted support ext4 calling ftruncate size changing write one magic involved determining filesystem type much,,
3699,4254111feee11d694eb17e25485a085c31de95f2,vi Kivity <avi@scylladb.com>, 2016-08-17 22:16:08 +0300, , file fix size return type size return uint64_t size_t host dependent problem practice since two type bit host,,
3700,8691d79b5bc2bb88bbc53493dafd8c365da4a786,vi Kivity <avi@scylladb.com>, 2016-08-17 22:14:31 +0300, , build adjust fsantize vptr broken warning make frightening,,
3701,905730ba82d97b7a96c84b023832b7ef576f03e9,vi Kivity <avi@scylladb.com>, 2016-08-17 22:02:50 +0300, , thread_impl.hh add missing include,,
3702,ab29b125df59cd42f759c7b4a7eaacbe8b2e581d,aphael S. Carvalho <raphaelsc@scylladb.com>, 2016-08-17 15:47:10 -0300, , core fix bug make_file_impl affect directory scanning intention get file status flag instead getting file descriptor flag limited o_cloexec bug broke directory scanning always used work directory issue lseek seek_end constructor consequently getdents always return eof fix making sure posix_file_impl always used directory refers directory define o_rdonly even passed open explicitly test used currently enough signed raphael carvalho raphaelsc scylladb.com message 1471459630 13707 git send email raphaelsc scylladb.com,,
3703,81df893d56890c76c8f5d21bdf76fe8d8e62d2af,sias He <asias@scylladb.com>, 2016-08-17 10:22:56 +0000, , memory increase g_allocs failure allocate increase allocation successful message 1471429376 15553 git send email asia scylladb.com,,
3704,4e17ba2a7806f128513555ef33dba30dfdd3065a,sias He <asias@scylladb.com>, 2016-08-17 10:22:55 +0000,1586, memory balance g_frees g_allocs free memory.cc cross cpu free path void free void obj obj return  g_frees cpu_mem.free obj  void free void obj size_t size obj return  g_frees cpu_mem.free obj size  unbalanced g_frees g_allocs since call cpu_pages free g_frees missed memory free cpu_pages cpu_pages free_cross_cpu cpu_pages cpu_pages free fix increasing g_frees case see scylladb scylla 1586 message 1471429376 15553 git send email asia scylladb.com,,
3705,7005b0223721f8e9916973266c45aa6b2655aa47,vi Kivity <avi@scylladb.com>, 2016-08-16 11:27:49 +0300, , merge thread explicitly yield get glauber currently keep chaining continuation need_preempt return true come thread run long thread user explicitly call yield suboptimal unless caller code sprinkle yield place never guarantee yielding often enough proposal fix embed check natural action taken thread caller anyway one thing distinguishes seastar thread rest future chain synchronously call get future know fact point thread may wait already turn future ready always yield point running long even future available yielding instead calling wait need_preempt valid question reason thread belong scheduling group expected different behavior case run long wait point thread would switch_out switch_in back next opportunity defeat purpose scheduling group generally speaking existing attribute conceivably one come desired behavior thread encoded yield method call course thread doe call get often enough might yield explicitly majority thread offer transparent efficient way controlling runtime patchset see often scylladb memtable writer run thread running continuously 10ms patch never run task_quota_ms,,
3706,bca11ae749877663d9d0b3fab389f44bacd01474,lauber Costa <glauber@scylladb.com>, 2016-08-12 17:42:38 -0400, , thread yield get run long currently keep chaining continuation need_preempt return true come thread run long thread user explicitly call yield suboptimal unless caller code sprinkle yield place never guarantee yielding often enough proposal fix embed check natural action taken thread caller anyway one thing distinguishes seastar thread rest future chain synchronously call get future know fact point thread may wait already turn future ready always yield point running long even future available yielding instead calling wait need_preempt valid question reason thread belong scheduling group expected different behavior case run long wait point thread would switch_out switch_in back next opportunity defeat purpose scheduling group generally speaking existing attribute conceivably one come desired behavior thread encoded yield method call course thread doe call get often enough might yield explicitly majority thread offer transparent efficient way controlling runtime patch see often scylladb memtable writer run thread running continuously 10ms patch never run task_quota_ms signed glauber costa glauber scylladb.com,,
3707,7a4e7065a9dcb6bb48456f4a4e929165b62050fd,lauber Costa <glauber@scylladb.com>, 2016-08-12 17:25:53 -0400, , thread export should_yield yield thread_impl usually access static method thread yield easily calling seastar thread yield since earliest commit introduces thread however cd0ae463b3d3877 separate thread_impl method alternatively exported although never explicitly explained commit understanding using thread method directly requires import thread.hh brings reactor simply place future core machinery preparation yield inside future object patch export should_yield yield thread_impl should_yield inline generate explicit line call signed glauber costa glauber scylladb.com,,
3708,9a1efe0cef49269bfb0b835769653266dad2bd39,lauber Costa <glauber@scylladb.com>, 2016-08-15 12:16:12 -0400, , thread calculate yield point switch new thread currently should_yield function could well expose thread_impl mechanism however would great able decide whether yield without calling external function patch add field jmp_buf_link track supposed yield time based yielding caller deciding whether yield check current timestamp expected timestamp yield may still external call timestamp concern first get already inline called thread secondly check whether time field yield exists first place thread scheduling group importantly local clock timestamp counter todo list paying external call price even case signed glauber costa glauber scylladb.com,,
3709,cf89ccf727413f40c49557713b3c31b620ee5072,lauber Costa <glauber@scylladb.com>, 2016-08-15 12:13:15 -0400, , move need_preemt file avoid circular dependency future.hh thread_impl.hh one way solve would simply move need_preempt thread_impl.hh let future.hh import believe cleaner separate file imported signed glauber costa glauber scylladb.com,,
3710,9693be268615b4f6f94aeeb28f9579c6baa6074a,lauber Costa <glauber@scylladb.com>, 2016-08-12 17:20:05 -0400, , always return true should_yield seastar thread currently two main kind thread defined attribute thread belong scheduling group thread latter should_yield precise meaning still within execution time determined schedule group yield thread belong scheduling group meaning solid currently return true time argue though better seastar constantly keep tab whether need preempt current task processor future core infrastructure use determine whether break continuation keep executing thread patch change should_yield method thread currently beloning scheduling group return true effectively ran long signed glauber costa glauber scylladb.com,,
3711,c1da74a0433f573dd75488dc0506136579d7a5bd,lauber Costa <glauber@scylladb.com>, 2016-08-15 10:10:26 -0400, , thread move thread impl file thread_impl namespace exists core infrastructure call thread infrastructure without knowledge full thing would certainly generate nasty circular include dependency right signature copied future.hh mean need add remove need one place even important guarantee every time need use generate explicit line call chance inlining operation simple enough frequent enough would like possible inlining signed glauber costa glauber scylladb.com,,
3712,823a4040476708b2046b797c64e04fea30fd5636,vi Kivity <avi@scylladb.com>, 2016-08-11 17:18:02 +0300, , remove non explicit operator unsigned non explicit conversion operator triggered easily case argument used bool parameter expected trigger conversion unsigned bool replace named function,,
3713,7fd8d4950054167123a1bde1486632713f9342e6,enoit Canet <benoit.canet.contrib@gmail.com>, 2016-08-11 09:59:43 +0000, , reactor test poll mode default poll mode default test lack instead testing default bug causing overprovisioned mode ignored signed beno canet benoit scylladb.com message 1470909583 3171 git send email benoit scylladb.com,,
3714,59613e77d090f2146689aa191d24f8a89684436b,lauber Costa <glauber@scylladb.com>, 2016-08-10 08:07:05 -0400,177, reactor fix queue pending request collectd metric tomek recently seen sigsegv happening collectd subsystem describes problem consequence call queued_requests follows _io_queue may point object owned mutated different shard _io_coordinator io_queue queued_requests call fair_queue waiter call semaphore waiter call chunked_fifo size thread safe suggests queued_requests called _io_coordinator patch change collectd registration counter registered correct shard fix 177 signed glauber costa glauber scylladb.com message 1470830825 27885 git send email glauber scylladb.com,,
3715,171e3c6bb4881b5dc1569e2ee37c8826d13e9fbb,awe Dziepak <pdziepak@scylladb.com>, 2016-08-10 00:47:14 +0100, , introduce copy_to member function currently user want efficiently input stream output stream use begin size interface general enough since assumes underlying buffer continuous patch introduces copy_to function take output stream argument copy data stream signed pawe dziepak pdziepak scylladb.com message 1470786434 23721 git send email pdziepak scylladb.com,,
3716,7caaeb291763cc24955bd92998e15ac5e2a8089d,alle Wilund <calle@scylladb.com>, 2016-08-08 17:21:47 +0000, , scollectd fix merge skew disabled descriped metric patch i.e fix also handle forward description message 1470676907 30530 git send email calle scylladb.com,,
3717,a0b481f1a6896457483f89e9d635142856128425,vi Kivity <avi@scylladb.com>, 2016-08-08 16:43:09 +0300, , merge write behind xfs xfs serializes see size changing operation like append slows scylladb writes file written concurrency enabling write behind mode cause xfs block reactor thread destroying performance patchset improves situation begin shadowing xfs locking seastar replicating locking rule using seastar primitive use rule xfs never see situation block seastar primitive asynchronous reactor continue process event continue looking ahead queued writes see several size changing writes issue truncate extend file size taking care way would cause xfs block allows writes proceed parallel still serialize periodically issue next truncate also introduce option user tolerate inaccurate file size file written maintain sloppy size option enabled seastar speculatively extend file size make room future writes truncate back file flushed closed support ext4 left future exercise performance result desktop ssd bufsize ops iodepth iop patch 4096 150000 13614 4096 150000 14999 4096 150000 14550 4096 150000 14678 bufsize ops iodepth iop patch 4096 150000 15008 4096 150000 13301 4096 150000 14420 4096 150000 31475 reviewed duarte nunes duarte scylladb.com,,
3718,6a62307fd2b48ee373ee09ab505f136cfe5639a6,vi Kivity <avi@scylladb.com>, 2016-08-08 16:37:05 +0300, , merge fix smp queue poller tomasz fix issue smp queue pollers may manifest high latency condition ref scylladb scylla 1553,,
3719,90238d1427e57fc7c9ccf68a7c68fa69c2b4d1f9,vi Kivity <avi@scylladb.com>, 2016-08-08 16:32:53 +0300, , merge collectd syntactical sugar description calle add description support collectd metric add definition known type_id collectd easier metric registration add syntactical sugar object grouping data,,
3720,73c1eaf428c9ea015ef2168f3332b6ba4eb85c37,omasz Grabiec <tgrabiec@scylladb.com>, 2016-08-08 14:06:27 +0200,1553, smp make make decision poll_queues would patch several discrepancy pure_poll_rx checking _completed instead _pending would detect incoming request _completed side patch call match call poll_queues pure_poll_tx checking pending data sent send checking incoming completion patch changed check incoming completion call match call poll_queues instead checking room _pending call like poll_queues doe without affecting poll result might caused performance problem smp notification processed reactor idle state example due timer expiry ref scylladb scylla 1553,,
3721,3698f9df5ba42abd800a8ca98be0de1d9f9b1db1,omasz Grabiec <tgrabiec@scylladb.com>, 2016-08-08 13:58:48 +0200, , smp sleep unflushed response receiver wake room _completed queue,,
3722,93d2c2355e42ceff9b95a9933955045e80adad94,omasz Grabiec <tgrabiec@scylladb.com>, 2016-08-08 13:14:59 +0200, , smp move definition .cc,,
3723,85867f75713fcf0db4d35a6f4e76a51d8b43a605,vi Kivity <avi@scylladb.com>, 2016-08-07 20:46:41 +0300, , perf_stream add option test sloppy_size,,
3724,9359188020a5d0ec3ed53a978e2a7ebc370471a0,vi Kivity <avi@scylladb.com>, 2016-08-07 20:43:29 +0300, , file allow file sloppy size order work around xfs locking constraint xfs like serialize file size changed slows append workload work around introduce sloppy_size file option option enabled extend file size speculatively large size doubling time hit speculative size limit append operation actually non size extending proceed parallel since disk file size speculative introduce variable track logical file size truncate file back flushed closed,,
3725,fcc7bd80c391dacdb6793765b44eebfc71ed08c0,vi Kivity <avi@scylladb.com>, 2016-08-06 20:05:37 +0300, , file optimize xfs concurrent appending writes xfs serializes size changing operation size changing operation also read writes recognizes also serializes size changing operation avoid xfs blocking reactor thread point look ahead operation queue truncate file size changing operation issue become non size changing operation xfs process parallel requires ftruncate block indeed doe operation progress,,
3726,79dcb75c9c9010373880812259038840c5b62e87,vi Kivity <avi@scylladb.com>, 2016-08-06 18:19:42 +0300, , file emulate xfs locking xfs block certain circumstance common operation change file size block current aio may cause future aio block well others visible one patch instates locking seastar seastar lock non blocking reactor thread blocked achieving performance intended side effect patch materializes blocked operation queue future patch able make use exposed queue optimize thing reason use explicit queue condition variable rather reader writer lock operation ordering maintained prevent starvation,,
3727,d96924d2ce8ac2bd9fafe9788f7370d0735d2029,vi Kivity <avi@scylladb.com>, 2016-08-05 15:20:33 +0300, , file move posix_file_impl internal header file posix_file_impl never needed user code move header file_impl extension point also needed template function file.hh left place,,
3728,d328b1c677eccefbd713b1486b3990be937d20a1,vi Kivity <avi@scylladb.com>, 2016-08-06 20:04:54 +0300, , test add fstream performance test used test write behind,,
3729,1262ce78bae33e96e57d32a5d1fa23c18846e9f8,omasz Grabiec <tgrabiec@scylladb.com>, 2016-08-04 15:00:49 +0200, , fix build failure introduced change added core object dependency allocator_test memory.cc need seastar_logger defined added missing implementation seastart allocator compiled debug mode message 1470315649 13867 git send email tgrabiec scylladb.com,,
3730,5b1051ce0de5b772f22444abe6a1d97076b49b1f,omasz Grabiec <tgrabiec@scylladb.com>, 2016-08-04 11:24:16 +0200, , add abort seastar bad alloc option useful forcing coredump bad_alloc seastar allocator analyzed message 1470302656 6658 git send email tgrabiec scylladb.com,,
3731,3eff352265eeb1c55c37078a7136e1bd993bb3d6,vi Kivity <avi@scylladb.com>, 2016-08-03 21:16:04 +0300, , merge make arp comply strict aliasing rule,,
3732,08deab75e3415592c7a0149a25228fcd63c241e6,vi Kivity <avi@scylladb.com>, 2016-07-31 22:41:23 +0300, , arp comply strict aliasing rule,,
3733,0ad403350ec9ea121a968af40799d7493bf49d91,vi Kivity <avi@scylladb.com>, 2016-07-31 22:40:11 +0300, , add read write style decode encode apis compliant strict aliasing rule,,
3734,eb23eb5bd64713612288c6e88404c519ffbb4d3e,vi Kivity <avi@scylladb.com>, 2016-07-31 22:40:11 +0300, , ethernet add read write style decode encode apis compliant strict aliasing rule,,
3735,f49aaef35401b4098d792e88eeb43e698102a4cd,alle Wilund <calle@scylladb.com>, 2016-08-03 12:58:01 +0000, , scollectd_test add case explicit data type binding callables,,
3736,e8e8b5f175b9403de192845b0a988dee55c86c27,alle Wilund <calle@scylladb.com>, 2016-07-19 14:43:10 +0000, , scollectd_test add test case description,,
3737,ff4c8a351e0977194f6eb91feccd1a151ba60a2b,alle Wilund <calle@scylladb.com>, 2016-07-19 14:42:24 +0000, , scollectd add api retrive description counter also fix constness,,
3738,1ca7c16bd395781d7634e412be944a4e904feb1c,alle Wilund <calle@scylladb.com>, 2016-07-19 14:40:22 +0000, , scollectd add optional description registered counter,,
3739,0686d98f23ca2f11f9abc0f7a195b9a321f2c196,alle Wilund <calle@scylladb.com>, 2016-07-18 11:13:58 +0000, , scollectd_test add small test wrapper type compilation test anything else,,
3740,31a4b132c02c38719abca151801f7178b62cefef,alle Wilund <calle@scylladb.com>, 2016-07-18 11:09:25 +0000, , scollectd add known type definition syntactical sugar object collectd value limited defined within predefined semantic type defined types.db similar extension file imported deamon config see http collectd.org documentation manpages good info http rs101 summarize type_id refers one predefined semantic type potential sub partitioning cpu idle user kernel etc finding appropriate type_id describe data value potentially confusing requires finding file etc patch doe two thing list pre defined core type_id enum add wrapper type allow auto completion assisted wrapping value bundling plugins plugin instance keeping registration anchor etc instead writing using namespace scollectd implied ninja disk_ops log read_counter write_counter ninja evicted_keys   ninja known_types disk_ops log read_counter write_counter known_types evicted_keys  indeed small improvement least group value remove redundancy allows auto completion type_id kind used viewed intermediate patch make collecd little dev friendly confusing awaiting better abstraction layer metric,,
3741,5dd6912aa74db6c873a22c12e2a9d28751b820b8,akuya ASADA <syuu@scylladb.com>, 2016-07-28 05:23:42 +0900, , doc use install dependencies.sh doc added centos7 ubuntu15.10 16.04 doc since supported scylla dropped fedora doc since outdated signed takuya asada syuu scylladb.com message 1469651022 25367 git send email syuu scylladb.com,,
3742,d01b69a611c813d1b8525d498bbc8502dc16b1cc,akuya ASADA <syuu@scylladb.com>, 2016-07-28 05:01:23 +0900, , add execute bit install dependencies.sh directly execute script needed signed takuya asada syuu scylladb.com message 1469649683 24562 git send email syuu scylladb.com,,
3743,7519226f1d9eecf5016257db359fe9bf7b371eca,omasz Grabiec <tgrabiec@scylladb.com>, 2016-08-03 10:31:19 +0200, , core reactor fix use free io_event promise reactor submit_io try access calling may free promise fails submit due ebadf fix 175 message 1470213079 3069 git send email tgrabiec scylladb.com,,
3744,1ecc3f8aea7422a7a0c676aaa65c05bbfca9eba1,vi Kivity <avi@scylladb.com>, 2016-08-01 11:26:18 +0300, , tcp write option length correctly pointed tomasz asia write len kind len slot,,
3745,44247c7a0ad549bca41d06d0a07e584aa96e9e47,vi Kivity <avi@scylladb.com>, 2016-07-31 22:39:28 +0300, , byteorder add consume_be produce_be like read_be write_be also incrementing data pointer,,
3746,70c83d8174384f34a7a4d73ba8b96f3292d251c9,vi Kivity <avi@scylladb.com>, 2016-07-18 22:52:18 +0300, , tcp make tcp option comply strict aliasing rule actually new hdr tcp_option already compliant read side  message 1468871538 20019 git send email avi scylladb.com,,
3747,b2346d5ed08c67de0cdc4615ef8d50f36a008a68,vi Kivity <avi@scylladb.com>, 2016-07-18 11:29:02 +0300, , tcp comply strict aliasing rule instead casting char struct use explicit read write function code portable little faster since compiler differentiate header data indirected structure message 1468830542 22142 git send email avi scylladb.com,,
3748,d84303adfe22622d71845f2ede1db978df184e29,leb Natapov <gleb@scylladb.com>, 2016-07-31 18:35:13 +0300, , add libdl library list needed ldsym message scylladb.com,,
3749,9b7afd87dc896dced2aa688a1abb0f3861bd3e78,leb Natapov <gleb@scylladb.com>, 2016-07-28 19:20:19 +0300, , reactor add exception counter intercept unwinder call race exception count much time called per shard forwarding original function message scylladb.com,,
3750,aa2ec87a6164be40aae540ac0b2af8e93a4e18a3,akuya ASADA <syuu@scylladb.com>, 2016-07-27 09:58:48 +0900, , install dependencies.sh remove unnecessary sudo signed takuya asada syuu scylladb.com message 1469581128 21529 git send email syuu scylladb.com,,
3751,c5af610b737c3f8c138d45bdbf17ebb1499a1d27,akuya ASADA <syuu@scylladb.com>, 2016-07-27 09:58:47 +0900, , install dependencies.sh install add apt repository installed signed takuya asada syuu scylladb.com message 1469581128 21529 git send email syuu scylladb.com,,
3752,82910321cd9d0dc53dc56d4c077ed6c51f8bb8eb,akuya ASADA <syuu@scylladb.com>, 2016-07-27 09:58:46 +0900, , install dependencies.sh add protobuf dependency newly added prometheus api support signed takuya asada syuu scylladb.com message 1469581128 21529 git send email syuu scylladb.com,,
3753,64ae228eabe8257995935b1be8262807f514ce44,vi Kivity <avi@scylladb.com>, 2016-07-25 14:42:01 +0300, , merge adding prometheus api support amnon series add prometheus 0.4 binary protocol support protocol based protobuf implementation proto file definition taken prometheus project series start prometheus server point scylla get availale metric,,
3754,ce02dac67abbe1a39e57fbe106baf8e028ac5ab6,mnon Heiman <amnon@scylladb.com>, 2016-07-21 14:07:09 +0300, , adding prometheus api prometheus api model expose register metric via prometheus binary protocol compatible version 0.4 transport based protobuf api expose collectd metric enabled use prometheus api create prometheus config use httpd either existing one dedicated one prometheus config pctx help string metric prometheus start pctx note prometheus always look metric path signed amnon heiman amnon scylladb.com,,
3755,9e8439194c120373594832dd46fdf326660615ec,mnon Heiman <amnon@scylladb.com>, 2016-07-24 11:46:06 +0300, , reactor expose seastar_logger seastar logger used different report exception signed amnon heiman amnon scylladb.com,,
3756,911874e2f75cb3f420939c26a0ba11af84de1374,mnon Heiman <amnon@scylladb.com>, 2016-07-21 13:36:02 +0300, , scollectd add api return metric value prometheus module need access register metric patch add api return metric value signed amnon heiman amnon scylladb.com,,
3757,3063797e555b2f72124a4533acef6fcc6377bf5c,mnon Heiman <amnon@scylladb.com>, 2016-07-21 13:33:12 +0300, , configure.py compile protobuf file add relevant rule configure.py compile protobuf file currently file compiled metric prometheus signed amnon heiman amnon scylladb.com,,
3758,2425aab6103ec9e2c77ab31f68bc62ca94dd19bd,vi Kivity <avi@scylladb.com>, 2016-07-24 16:19:12 +0300, , merge track thread globally tomasz,,
3759,b70df7edc5a6032f823eab5f47d6c6fa58175e19,omasz Grabiec <tgrabiec@scylladb.com>, 2016-07-22 17:58:30 +0200, , core thread track thread globally locating thread useful debugging,,
3760,4be3378935b638691c323e69408a346d4859df83,omasz Grabiec <tgrabiec@scylladb.com>, 2016-07-22 16:59:13 +0200, , core thread add preempted prefix _link thread_list name,,
3761,0da8423abfcebda1f164733f23ad42d25eb01b20,akuya ASADA <syuu@scylladb.com>, 2016-07-22 03:55:23 +0900,1407, net provide remote address protocol accept right passing empty remote address break scylladb fetch remote address tcb convert socket_address see scylladb scylla 1407 signed takuya asada syuu scylladb.com message 1469127323 29281 git send email syuu scylladb.com,,
3762,83b405905c32a711a125c73b4a4121d8b4c0b484,akuya ASADA <syuu@scylladb.com>, 2016-07-22 10:11:58 +0900, , introduce install dependencies.sh introduce install dependencies.sh installs dependency package building seastar signed takuya asada syuu scylladb.com message 1469149918 7980 git send email syuu scylladb.com,,
3763,06e736207265fdaa8da4e69ddd691c2b92ca5b7b,lauber Costa <glauber@scylladb.com>, 2016-07-21 14:38:19 -0400, , reactor make sure poll cycle always happens later called code expected run long time relies later facility defer part execution would like give task chance run preferrably force pollers execute however much likely outcome guaranteed current incarnation code understand must keep two thing mind schedule merely add task list run_tasks loop task list empty push task queue current caller executed existing task may call poller particular extreme case queue task current deferring task resume shortly want pollers run call force_poll since set future ready right add continuation current end queue continuation generated pollers queued unless high priority different issue likely result call force pollers run shortly point future none poller work run task continues seem goal function fix call force_poll first call schedule instead inside result push schedule task bail pollers immediately chance queue continuation schedule task run pollers make actual continuation ready pollers continuation already queued patch applied see small consistent improvement scylladb write workload value default signed glauber costa glauber scylladb.com message 1469126299 28344 git send email glauber scylladb.com,,
3764,bfbd162da0d70676263e92c585b0bdd77c092b96,mnon Heiman <amnon@scylladb.com>, 2016-07-21 13:32:31 +0300, , import metric definition prometheus add prometheus proto file definition prometheus project signed amnon heiman amnon scylladb.com,,
3765,b6cecca6d2f6c3fa48a316fc5120168510eb2e90,vi Kivity <avi@scylladb.com>, 2016-07-21 12:33:42 +0300, , merge rpc various fix cleanup gleb,,
3766,d6296a99f515ee20c12dea21a0c2883221da8549,leb Natapov <gleb@scylladb.com>, 2016-07-19 13:15:29 +0300, , rpc remove connection container server shutdown current logic prevent needed since run entire container relinquish control server shutdown problem invalidating iterators,,
3767,e37e065a4ff7bd1901b02564ec79cf30f434f3ab,leb Natapov <gleb@scylladb.com>, 2016-07-19 12:56:16 +0300, , rpc store shared_ptr connection _conns array current code doe something strange put non shared pointer _conns store shared pointer receive loop done guaranty connection disappear receive loop running receive loop may exit server stop iterates client connection cause use free fix storing shared_ptr _conns array,,
3768,de14f960a88b2828bbb0eb039695353272130984,leb Natapov <gleb@scylladb.com>, 2016-07-19 14:26:16 +0300, , rpc stop send loop even stuck send currently send loop aborted stuck receive loop exit error cause connection stop stuck fix shutting writer side stop_send_loop cause exit enough shut receiver connection stop since cause receiver side exit call stop_send_loop,,
3769,b5c1857710a384b43771ab28dca7a24a069df28f,leb Natapov <gleb@scylladb.com>, 2016-07-21 09:46:19 +0300, , propogate shutdown enotconn error socket always closed another side much application error need throw exception case,,
3770,9d1db3f2b89da59aff6492192510bc4cc8016098,vi Kivity <avi@scylladb.com>, 2016-07-20 19:15:55 +0300, ," reactor limit task backlog seen crash 700,000 task reactor _pending_tasks memory tied task presumably 2ms quota fewer task processed added pollers afterwards smp poller suspect unbalanced system shard easily load fix limiting backlog default 1000 task ignore process task limit relieve memory load shard message 1469031355 8406 git send email avi scylladb.com",,
3771,5d42b55fcc8247677a7605db430813dfd4a393e4,lauber Costa <glauber@scylladb.com>, 2016-07-20 08:39:21 -0400, , iotune fix sigfpe execution even fixed iotune call timeout crash still happening reason becomes clear investigate dump current state crash follows end either phase list point evaluate become empty point yet called bail empty list signal stop concurrency point could course force called point cleanest solution list never empty investigating reason list empty could see problem happened phase disk happening slow fast erratic way calculate iterators bound phase search point reach throughput lower bound later upper bound erratic disk second point happen first case end iterator since calculate concurrency iterator end mean really post end invalid point concurrency value point undetermined well turn value smaller minimum case queue empty case well known analysis queue empty case would end anyway instance maximum achieved throughput phase1 could reached last point curve point queue would empty observed problem fixed calling special helper calculate boundary handle end list case speciallythe maximum achieved throughput phase1 could reached last point curve point queue would empty observed problem fixed calling special helper calculate boundary handle end list case specially loop phase2 broken two accessory problem find improves readability trying achieve signed glauber costa glauber scylladb.com message 1469018361 16442 git send email glauber scylladb.com,,
3772,980b367742cb52a2fb03a9cb9f0513af6a4fe9f4,vi Kivity <avi@scylladb.com>, 2016-07-20 16:04:52 +0300, , merge preparation protobuf amnon new api expose scylla metric binary protocol support http function handler allow registration handler function doe return json object mime type protobuf additional change collectd api allows using collectd value passed const reference,,
3773,189556a49e829ba553b27d45a779a3f86f5d7d62,mnon Heiman <amnon@scylladb.com>, 2016-07-20 11:35:00 +0300, , mime_types add protobuf mime type patch add proto file extension used protobuf http request signed amnon heiman amnon scylladb.com,,
3774,522c65f8c6c74fbc8f2faebcdb4ede2e32def502,mnon Heiman <amnon@scylladb.com>, 2016-07-20 11:31:26 +0300, , support general function handler case function handler take request object return either json object future json object api need return future non json object controll needed reply general case handler get request modify reply patch add support register general function handler signed amnon heiman amnon scylladb.com,,
3775,36a101b95c6f0844360d3d76955de79570f67c71,mnon Heiman <amnon@scylladb.com>, 2016-07-20 11:28:40 +0300, , scollectd add const getter collectd_value sometimes convenient use const reference collectd_value struct const getters needed signed amnon heiman amnon scylladb.com,,
3776,4065d3fd4eb8a8e1890ecf2b8c5d12aaea747582,vi Kivity <avi@scylladb.com>, 2016-07-17 22:33:18 +0300, , byteorder add missing cpu_to_be be_to_cpu function message 1468783999 11399 git send email avi scylladb.com,,
3777,60baafe80ef7f5dacab8f32edc309dd2e74f1fd1,leb Natapov <gleb@scylladb.com>, 2016-07-20 12:48:12 +0300, , rpc fix gcc compilation error message scylladb.com,,
3778,0d4d9c5aa86d271afe3fde46c9476155a7a74950,mnon Heiman <amnon@scylladb.com>, 2016-07-17 18:17:06 +0300, , reactor register smp metric disabled typically smp metric disabled cause much traffic collectd server give little value patch register metric disabled needed enabled run time via api signed amnon heiman amnon scylladb.com message 1468768626 19888 git send email amnon scylladb.com,,
3779,a8392ea151c65f2d2c745adfaef490b8edd6fb79,mnon Heiman <amnon@scylladb.com>, 2016-07-17 18:17:05 +0300, , scollectd allow creating metric disabled case specifically smp metric better unpublished default support varienet collectd helper function added  metric created function disabled would set explicitly add_polled helper function get optional enabled param default true state metric enable disable signed amnon heiman amnon scylladb.com message 1468768626 19888 git send email amnon scylladb.com,,
3780,7f8ac4df27d08687a0131e5a6b8d2853b06f1e73,vi Kivity <avi@scylladb.com>, 2016-07-20 10:39:18 +0300, , merge propagate timeout server gleb propagate timeout verb specified server server able drop expired reply,,
3781,639b84fe648e11d0dbb43544b94ab3c0b5134566,leb Natapov <gleb@scylladb.com>, 2016-07-17 18:41:54 +0300, , add missing include,,
3782,d5b0d9d6dba9c8478fa575ac979d1a0941a440ff,leb Natapov <gleb@scylladb.com>, 2016-07-17 18:02:33 +0300, , rpc add timeout feature negotiation test,,
3783,592e4337aa5a2c2c431ca3945fb2fdee8fbc8f3e,leb Natapov <gleb@scylladb.com>, 2016-07-14 15:41:04 +0300, , rpc propagate timeout value server let reply use patch sends remaining timeout value verb timeout specified server server value set timeout reply allows server drop reply already timed client side hence saving bandwidth,,
3784,4325d41fbf400a22ad9bf4c16fb3b3641a7d2d4e,leb Natapov <gleb@scylladb.com>, 2016-07-14 15:27:43 +0300, , rpc use instead sstring sending send done without copy clear win,,
3785,d560e8ff43e81319edc722f9bb8d5bc76251ba1a,leb Natapov <gleb@scylladb.com>, 2016-07-14 14:39:33 +0300, , rpc release send buffer earlier currently code relies buf.size know non moved copy destroyed trigger setting send completion promise mean though buffer destroyed send complete since sending sstring copy waste memory make promise optional instead disengage move,,
3786,103543aca1f8c29c5a2c5205a1dd50bad315f446,lad Zolotarov <vladz@cloudius-systems.com>, 2016-07-19 17:26:22 +0300, , core add seastar format introduce seastar format function native fmt library formatting return sstring signed vlad zolotarov vladz cloudius systems.com message 1468938382 11272 git send email vladz cloudius systems.com,,
3787,823bc0599e05fd0950f291c2071a8d857486408a,vi Kivity <avi@scylladb.com>, 2016-07-19 12:01:52 +0300, , revert util lazy_eval add implicit cast operator overload reverts commit vlad complains confusing fmtlib fmt unneeded anyway,,
3788,ceb0c9427c247e9665dc15434face9addaabfcf0,vi Kivity <avi@scylladb.com>, 2016-07-18 19:34:47 +0300, , print switch fmtlib faster cleaner boost format,,
3789,4374e70ddf11df4afc16322f13878e6969d45f46,adav Har'El <nyh@scylladb.com>, 2016-07-18 15:56:42 +0300, , logging simplify stringer array building need patch suggested avi half year ago see http msg scylladb dev m8k0bqxsfrk ycaca4rueqaj also came specific technique used patch background want every unique combination argument log generate ton different code pack argument actually stringer know print argument needed array passed function really_do_log function template compiled contains bulk logging logic patch array filled using recursive metaprogramming leaf call one know call really_do_log caller hold stringer alive stack patch array filled using different non recursive much shorter trickery based parameter pack expansion flow easier understand modify do_log call really_do_log without long chain recursive function call separating signed nadav har nyh scylladb.com message 1468846602 4802 git send email nyh scylladb.com,,
3790,a45823aa617763c672eb6e747eaccf565a023bbb,leb Natapov <gleb@scylladb.com>, 2016-07-18 13:58:55 +0300, , rpc call shutdown function already closed client connection disconnect server stop running shutdown function may called already closed file descriptor closed part client connection disconnect handling prevent checking connection status stop message scylladb.com,,
3791,143ccd053ffc88dc5667ccca84bcbc8bce4f51eb,omasz Grabiec <tgrabiec@scylladb.com>, 2016-07-18 12:36:11 +0200, , log crash logger invoked non reactor thread useful adding temporary tracing worker thread message 1468838171 3873 git send email tgrabiec scylladb.com,,
3792,7effa0e5ed5eb51a3f906700b0ab8d7d064632d6,vi Kivity <avi@scylladb.com>, 2016-07-15 23:12:00 +0300, , rpc remove unaligned_cast violate strict aliasing rule replace read_le write_le result simpler code anyway message 1468613520 17506 git send email avi scylladb.com,,
3793,0bdf628c71175b0995eb2843e49ba61b6d42eb2e,vi Kivity <avi@scylladb.com>, 2016-07-15 23:11:59 +0300, , unaligned note unaligned_cast deprecated violates strict aliasing rule message 1468613520 17506 git send email avi scylladb.com,,
3794,3bd48edd0a1f7e57257e5f9ae3b0b9cf214ee2f6,vi Kivity <avi@scylladb.com>, 2016-07-15 23:11:58 +0300, , byteorder add unaligned read write helper provide support reading writing big little endian encoded integer raw byte replaces unaligned_cast violates strict aliasing rule message 1468613520 17506 git send email avi scylladb.com,,
3795,d699205fca7eb9d853c8176513cf2e5f0e62db1f,leb Natapov <gleb@scylladb.com>, 2016-07-17 12:47:01 +0300, , rpc fix race send loop expiration timer one entry _outgoing_queue execution continuation delayed expiration timer run may try access front empty _outgoing_queue undefined message scylladb.com,,
3796,89dd74089f578c59fd21b86dce470ecab3b13a9a,vi Kivity <avi@scylladb.com>, 2016-07-17 12:36:41 +0300, , rpc fix cancellable type move operation move constuctor need kill back pointer subsequent move moved object corrupt state addition move assignment operator needed default one incorrect message 1468748201 25826 git send email avi scylladb.com,,
3797,d1d856f2100ecd9fc4a0a44ffd3ca59c7a52b4f4,vi Kivity <avi@scylladb.com>, 2016-07-15 16:46:23 +0300, , reactor create new file reasonable default mode 0700 ridiculous try 0644 instead,,
3798,5e97d5f2fee89424739d1d1212eaf1cdeb85774e,lad Zolotarov <vladz@cloudius-systems.com>, 2016-07-04 13:28:22 +0300, , util lazy_eval add implicit cast operator overload allow using seastar value_of assignment define implicit cast operator evaluate value return signed vlad zolotarov vladz cloudius systems.com message 1467628104 13415 git send email vladz cloudius systems.com,,
3799,9c65cee2cfa539b843fc5d7d679cdb6e1f960ca9,leb Natapov <gleb@scylladb.com>, 2016-07-12 17:56:54 +0300, , rpc consolidate read_ request response _frame logic reading request response frame logic similar consolidate one place isolating difference trait like type message scylladb.com,,
3800,0e2c891b5d81317c50ce7f6bac2903a5f6588c91,leb Natapov <gleb@scylladb.com>, 2016-07-13 15:58:04 +0300, , rpc handle lz4 compressor error message scylladb.com,,
3801,24534ea2e29f3e82ab0791da2c9346e7644f7b2a,lauber Costa <glauber@scylladb.com>, 2016-06-30 10:19:41 -0400, , iotune provide status dump calculate proper number io_queues recently fixed bug happened calculated sweet spot concurrency thing happened another circumnstance biggest problem time find sigfpe object deal estimation already destroyed debugging becomes hard idea happening case without hard data may aiming wrong thing patch move sanity check test closer point problem first happens make easier analyze core dump object alive still since also print various relevant part internal state debugging issue like becomes easier signed glauber costa glauber scylladb.com message 1467296381 30597 git send email glauber scylladb.com,,
3802,21671dfb8cecbe34faf63be9f39b6a640ffe8f80,vi Kivity <avi@scylladb.com>, 2016-07-12 19:55:57 +0300, , rpc adjust lz4 compression older lz4.h,,
3803,a320e416ca1dfdf25a3b35ab7f8698b94514dc67,iotr Jastrzebski <piotr@scylladb.com>, 2016-07-12 10:35:36 +0200, , fix chunked_fifo move assignment return resulting object signed piotr jastrzebski piotr scylladb.com message scylladb.com,,
3804,c23294a48aecc3db9d9fc6c7ab588ed674d81028,leb Natapov <gleb@scylladb.com>, 2016-07-12 09:34:48 +0300, , rpc add missing header file protector message scylladb.com,,
3805,e660d542f01b9f60f8c55e55a661e5b40412101e,leb Natapov <gleb@scylladb.com>, 2016-07-11 17:04:43 +0300, , rpc add factory class lz4 compressor message scylladb.com,,
3806,e7a7d418f0a35d211b5f84a3691f0c9c8c171069,vi Kivity <avi@scylladb.com>, 2016-07-11 16:20:40 +0300, , merge compression support rpc gleb,,
3807,b3b1af9da9df1d7a632a02076c5d6d7fac77c9a6,leb Natapov <gleb@scylladb.com>, 2016-07-10 11:25:28 +0300, , rpc add test compression compression negotiation functionality,,
3808,78693de7948d787e318505c489fb1a6463e17974,leb Natapov <gleb@scylladb.com>, 2016-07-10 18:10:07 +0300, , rpc add algorithm negotiation compressor factory algorithm negotiation compressor factory get multiple compressor factory negotiate common one client server assumes order provided algorithm preference order favor client order algorithm preference negotiation,,
3809,b02f9b685ec939c44db4ddf81efb838417befc0c,leb Natapov <gleb@scylladb.com>, 2016-07-10 10:25:26 +0300, , rpc provide lz4 compressor convenience,,
3810,efeeedb3a25ad1a209c515e1ec00101f40bf1617,leb Natapov <gleb@scylladb.com>, 2016-07-10 11:23:41 +0300, , rpc add compression compression negotiation rpc best rpc tradition implementing actual compressor left exercise user,,
3811,75a61c76657f2ae8982cc665b7a49cd01871a759,vi Kivity <avi@scylladb.com>, 2016-07-08 13:20:12 +0300, , reactor allow sleeping disk aio pending currently aio poller refuse enter interrupt mode usually fine time complete often much cpu sleep wake cycle overprovisioned environment might context switch another application nothing wait aio patch enables interrupt mode support optionally control block marked eventfd wake complete also establish dummy loop reading eventfd normal epoll poller wake ready enabled new option poll aio existing option overprovisioned message 1467973212 14723 git send email avi scylladb.com,,
3812,05887d94bcd2a6321e599ab3085d80eaa983ba03,leb Natapov <gleb@scylladb.com>, 2016-07-07 13:28:54 +0300, , sstring add resize method message scylladb.com,,
3813,9267dfa3f72271c05d59a37d8903855884632d01,omasz Grabiec <tgrabiec@scylladb.com>, 2016-07-05 16:22:03 +0200, , app_template make run wait func reactor exit triggered externally reactor exit triggered example seastar wait exit hook pending continuation wait async function passed run complete doe wait interrupted though normal non interrupt path function exit likely releasing resource doe cleanup end execution chain easier correctly implement cleanup interrupt path used example bool interrupted false return app.run argc argv could become engine later rely default handler would set engine .is_interrupted engine .at_exit mutable stop true return auto deadline return do_until return interrupted deadline return do_something .finally return cleanup   message 1467728523 10033 git send email tgrabiec scylladb.com,,
3814,8261ec17f98c9a39c1171aae261b55da38f78db1,omasz Grabiec <tgrabiec@scylladb.com>, 2016-07-05 15:37:54 +0200, , core introduce futurize_apply helper wrapper arond futurize apply deduces function return type pass futurize example return futurize_apply return .finally ...  message 1467725874 9759 git send email tgrabiec scylladb.com,,
3815,2f5ef94c1526eb77809d8ef56b54a6ab25dd131d,leb Natapov <gleb@scylladb.com>, 2016-07-05 14:13:12 +0300, , rpc make unexpected eof message informative message scylladb.com,,
3816,f26ec0da292ff3ed763eb8f50ef8e060ad3937b8,vi Kivity <avi@scylladb.com>, 2016-07-04 23:40:55 +0300, , fix boost version check unfortunately digit allocation irregular,,
3817,c2b30a0118b320aea8f594aa666d7e82abd4bb40,vi Kivity <avi@scylladb.com>, 2016-07-04 23:32:39 +0300, , reactor fix smp poll older boost unfortunately workaround write_available must return true safe default killing idle worker,,
3818,96b036b62edb0b9e51f279fb10221960ffee66db,vi Kivity <avi@scylladb.com>, 2016-07-04 23:13:55 +0300, , reactor fix build older boost due spsc_queue read_available empty sufficient replacement,,
3819,c82c36f11047abb63947575b89abf1c0b147e056,vi Kivity <avi@scylladb.com>, 2016-07-04 16:01:55 +0300, , reactor fix build error,,
3820,c45b4ddf58c5b6465c38f0e331fddc37cb925aec,lad Zolotarov <vladz@cloudius-systems.com>, 2016-07-04 13:28:23 +0300, , util lazy_eval fix compilation error related operator definition move operator std namespace order fix compilation error caused ambiguous overload basic_ostream operator std basic_ostream chart trait func std basic_ostream chart trait ostream needed inside std namespace signed vlad zolotarov vladz cloudius systems.com message 1467628104 13415 git send email vladz cloudius systems.com,,
3821,a47f89363d14eb5a08dbafc0be3e2bf7f80cfb08,vi Kivity <avi@scylladb.com>, 2016-07-04 13:42:53 +0300, , merge support add three new option overprovisioned environment idle poll time maximum time poll sleeping thread affinity whether pin thread overprovisioned alias idle poll time thread affinity,,
3822,751f31e0d6a0a5d4baf9aa4866b20a4a19d7e42a,vi Kivity <avi@scylladb.com>, 2016-07-03 16:52:27 +0300, , reactor add overprovisioned meta option used select option running without dedicated host docker laptop,,
3823,703afcd1238cb87de9fcef24d967e63ebc39cf1b,vi Kivity <avi@scylladb.com>, 2016-06-29 20:47:17 +0300, , reactor make idle polling time configurable overprovisioned environment laptop appreciate even mild polling provide option idle poll time dial ,,
3824,8f316e6cfcee2a6e879472daa51cd94d782e4a3b,vi Kivity <avi@scylladb.com>, 2016-06-29 20:36:29 +0300, , smp allow disabling cpu affinity cpu affinity bad overprovisioned environment e.g docker allow disabling new option thread affinity,,
3825,a247dd8b0dd3ca21d3cc98bcf8f507983c808195,vi Kivity <avi@scylladb.com>, 2016-06-29 20:28:24 +0300, , reactor make dpdk runtime selection run time rather compile time dpdk unconditionally pin thread something good overprovisioned system e.g container allow using even library compiled,,
3826,d4d9e1617c6b7905e7e8499267684c05fa4bd092,vi Kivity <avi@scylladb.com>, 2016-06-28 19:07:11 +0300, , semaphore switch chunked_fifo seen semaphore grow large wait list allocating circular_buffer hard fragmentation switch chunked_fifo instead allocate large configuous memory buffer,,
3827,94265ce97e42e66de4df00967a04418a1d57669f,vi Kivity <avi@scylladb.com>, 2016-06-28 19:06:53 +0300, , fair_queue add missing include,,
3828,7f3b2e71d41ea63e424077f6578007374f8bf635,vi Kivity <avi@scylladb.com>, 2016-06-28 19:06:18 +0300, , chunked_fifo implement back useful modifying element immediately push_back,,
3829,e66ec715eae6e83d3c040429ace8566bdd9ae886,adav Har'El <nyh@scylladb.com>, 2016-05-24 19:31:13 +0300, , chunked fifo queue explained issue 140 using circular_buffer unbounded queue e.g. semaphore implementation problematic contiguous allocation queue fail case memory fragementation could used std deque instead contiguous allocation lower circular_buffer actually also patch propose new template chunked_fifo similar std deque guarantee maximum contiguous allocation note chunked_fifo doe implement full std deque interface need fifo queue pushing back popping front particular provide random access item middle queue random access std deque needed contiguous array ... patch also includes test chunked_fifo benchmark comparing chunked_fifo alternative like std deque circular_buffer list random push pop performance chunked_fifo std deque circular_buffer faster worst case current implementation case repeatedly pushing popping one item empty queue chunked_fifo currently slower random case std deque actually twice faster random case avi add move constructor assignment operator implementation signed nadav har nyh scylladb.com message 1464107473 32585 git send email nyh scylladb.com,,
3830,c15055cbb8fe50a3b2249febebef4fc9c6a44962,vi Kivity <avi@scylladb.com>, 2016-06-26 18:54:47 +0300, , memory add option mlock memory seastar application rely reactor thread never blocking good performance part never swapping provide option mlock memory done note lock memory specified server running seastar application never desktop shared server unless memory also specified limit amount memory used seastar see scylladb scylla 1393 message 1466956487 28610 git send email avi scylladb.com,,
3831,e2ff0620dd6f37b4f931af5d70253a17fa7ba470,vi Kivity <avi@scylladb.com>, 2016-06-27 17:14:29 +0300, , reactor run idle poll handler pure poll function idle work handler called function check whether idle handler need preempted however poll_once function actually used pure perform work behalf user example timer invoked signal handler smp work_items cause surprise user code either unexpected state change idle poll handler due work performed poll function unexpected state idle work handler impacting task running poll_once latter triggered scylladb scylla 1395 option fix make poll_once pure introduce pure_poll_once parallel use idle handler patch implement second method avoid evaluating performance impact moving work away poll_once specifically cache prefetches used smp message 1467036869 28167 git send email avi scylladb.com,,
3832,5903d8787cc65d579e95cdf9c11148443e5c34e9,leb Natapov <gleb@scylladb.com>, 2016-06-27 14:15:21 +0300, , ignore one failed future map_reduce map_reduce run lot mapper parallel error first one fail propagated caller ignore mapper result explicitly happens otherwise another one fails warning ignored exception future printed message scylladb.com,,
3833,30aefeeb1f8b2ac2b5e009af169d8cc4afab9f2c,adav Har'El <nyh@scylladb.com>, 2016-06-22 15:42:22 +0300, , tutorial general exception printout startup start application fails e.g. failed parse command line option print exception might assume must std runtime_error signed nadav har nyh scylladb.com message 1466599342 18187 git send email nyh scylladb.com,,
3834,b6e6e944410e956cd50bf04ea37fc2a02c586b89,vi Kivity <avi@scylladb.com>, 2016-06-22 14:12:40 +0300, , resource abort high queue count added queue number queue core specified command line made sense abort conflict day number queue usually determined iotune well advance user idea error fix change abort warning silently adjust avoid abort,,
3835,3029ebee469151d187f3c572fd4a0ab4de6de963,lad Zolotarov <vladz@cloudius-systems.com>, 2016-06-21 14:43:22 +0300, , util add seastar value_of helper function seastar value_of func return value may used evaluating value using given functor value evaluated functor get parameter evaluation triggered operator returned object addition implementation operator would allow printing returned object regular value instance logger.debug heavy eval result seastar value_of return heavy evaluation logging level lower debug evaluation take place signed vlad zolotarov vladz cloudius systems.com message 1466509402 6221 git send email vladz cloudius systems.com,,
3836,2f89f696024912a1e477256cf10782eb2f6072dd,leb Natapov <gleb@scylladb.com>, 2016-06-16 13:33:45 +0300, , rpc force closing listen server stop enough call abort_accept stop socket listening new connection although processed destroy server_socket object force server socket closed message scylladb.com,,
3837,20debddd633bbad39412126cfa5c7dea819da8b4,vi Kivity <avi@scylladb.com>, 2016-06-15 12:51:29 +0300, , reactor fix priority class assignment call used identify empty slot also side effect loading unused variable next iteration compare zero previous share value priority class registered sequentially effect bug benign odd value skipped priority class even however one place seastar data accessed multiple thread worst case two priority class may allocated number,,
3838,401c333b118059c156700caf7dc8ae903532fee3,mnon Heiman <amnon@scylladb.com>, 2016-05-29 15:39:20 +0300, , scollectd support filtering specific collectd metric patch add ability turn specific collectd metric following change add enable flag collectd value_list flag sending notification decide specific meter sent  able enable disable flag api two helper function added one take bool type_instance either enable disable metric one take return enable disable signed amnon heiman amnon scylladb.com message 1464525560 28242 git send email amnon scylladb.com,,
3839,754e5fd1946a12dacef7f5107a0f091c4d13dbb1,omasz Grabiec <tgrabiec@scylladb.com>, 2016-06-09 17:38:29 +0200, , core integrate error reporting logging framework currently print stderr since seastar logging framework use benefit message place application log making easier find also additional useful information common message like shard number date time message 1465486709 21342 git send email tgrabiec scylladb.com,,
3840,0450cc0f829ca6a18c9e4979ce9cfed19d6a8435,leb Natapov <gleb@scylladb.com>, 2016-06-07 12:08:17 +0300, , rpc wait reply completed closing rpc server addition resource accounting server expected alive server handler complete reply sent resource finally released current code destroys server early may cause use free resource accounting fix tracking outstanding handler gate wait gate closed service stop message 1465290497 29562 git send email gleb scylladb.com,,
3841,44fd42d7d3a410d9d27e751f84c1148e56a07e46,leb Natapov <gleb@scylladb.com>, 2016-06-07 12:08:16 +0300, , rpc clean resource accounting call place instead three message 1465290497 29562 git send email gleb scylladb.com,,
3842,ae404d1e0019c40ffa28ec5288c374cf3ca57562,leb Natapov <gleb@scylladb.com>, 2016-06-06 17:37:40 +0300, , queue fix race pop_eventually abort race pop_eventually abort abort called pop_eventually already queued continuation not_empty access already removed element fix remembering abort called check not_empty continuation message scylladb.com,,
3843,b1fef391d22d8a873fa93179603e983332cfd49f,leb Natapov <gleb@scylladb.com>, 2016-06-06 12:17:18 +0300, , rpc_test fix cancel test depend timing sleep may end packet even sent use future signal rpc server handler running message scylladb.com,,
3844,1a7bd0d11d1ce2470920333ddc8f7d456d89ca09,adav Har'El <nyh@scylladb.com>, 2016-06-01 13:58:50 +0300, , tutorial explain application specific command line option add section add application specific command line option seastar application signed nadav har nyh scylladb.com message 1464778730 24789 git send email nyh scylladb.com,,
3845,61e15d611fe4eb3cff302211e922cd482c258829,leb Natapov <gleb@scylladb.com>, 2016-06-01 19:14:38 +0300, , add ostream output operator std unordered_map message scylladb.com,,
3846,864d6dcef9dfe0648aa0ab85801fb8caac8b6790,lexander Gallego <gallego.alexx@gmail.com>, 2016-05-29 16:30:51 -0400, , logging framework contributed scylladb following change changed license gpl apache2 added small prevent logging syslog stdout doxygen documented public method removed logging namespace rename registry log_registry signed alexander gallego gallego.alexx gmail.com message 1464553851 26935 git send email gallego.alexx gmail.com,,
3847,346f11dd8e23c50e2a44df43a5a984d19e94f7a1,lexander Gallego <gallego.alexx@gmail.com>, 2016-05-29 10:47:53 -0400, , add libubsan libasan fedora deps doc signed alexander gallego gallego.alexx gmail.com message 1464533273 2369 git send email gallego.alexx gmail.com,,
3848,d016ba5d8bf1916010b3bbcb7dd56a8f8816d243,leb Natapov <gleb@scylladb.com>, 2016-05-29 14:22:03 +0300, , test add rpc cancellable test message 1464520923 9973 git send email gleb scylladb.com,,
3849,5c6979d46c8086460b9cb29c5c83cac816357c5f,leb Natapov <gleb@scylladb.com>, 2016-05-29 14:22:02 +0300, , rpc add cancellable interface introduce rpc cancellable object passed rpc call later use cancel canceled rpc call throw canceled_error exception message 1464520923 9973 git send email gleb scylladb.com,,
3850,0bcdd282c54d00651dd0518da91944a6ec97dab6,vi Kivity <avi@scylladb.com>, 2016-05-26 14:46:41 +0300, , merge introduce sleep_abortable throw exception application exit gleb,,
3851,8bfbb1a009f5a92924f2cc77a67e0be107e9c9c8,vi Kivity <avi@scylladb.com>, 2016-05-26 11:42:19 +0300, , reactor advertise metric derive counter since must type derive prometheus check get confused,,
3852,e5faea852d53e7096ddc09cdc197ed823f2688f7,iotr Jastrzebski <piotr@scylladb.com>, 2016-05-24 14:32:30 +0200, , catch exception thrown idle cpu handler reactor signed piotr jastrzebski piotr scylladb.com message scylladb.com,,
3853,70fcd8ac71ad1677531e1efa4b599b51e41c99fb,leb Natapov <gleb@scylladb.com>, 2016-05-16 13:45:55 +0300, , sleep add sleep_abortable function sleep_abortable allow sleep aborted shutdown request,,
3854,a5d4f2598a31ecd4b5b549b39127d836723f305f,leb Natapov <gleb@scylladb.com>, 2016-05-16 13:45:34 +0300, , reactor provide interface wait reactor shutdown,,
3855,2729975b3366c78b920ede29b6f750d2b51a55c5,leb Natapov <gleb@scylladb.com>, 2016-05-18 12:53:44 +0300, , add multiple waiter wait timeout,,
3856,d3a3f5b95613f07d01a34cd220d0ddfb04425e5f,leb Natapov <gleb@scylladb.com>, 2016-05-18 13:55:34 +0300, , semaphore provide wait variant take time_point parameter,,
3857,bdd99dd53b2bec89d523ee465cab43ff9aaa68db,leb Natapov <gleb@scylladb.com>, 2016-05-18 13:53:48 +0300, , semaphore make exception generated error configurable useful semaphore used building block abstraction want throw exception,,
3858,29d69adcd8f9f7d2185a19e196a0a910f8798251,lad Zolotarov <vladz@cloudius-systems.com>, 2016-05-24 10:57:14 +0300, , core gate add get_count method useful checking threshold pending task entering gate signed vlad zolotarov vladz cloudius systems.com message 1464076634 10270 git send email vladz cloudius systems.com,,
3859,c0ede7906ab0902fd77bf03b43f5daddb8cd48ff,iotr Jastrzebski <piotr@scylladb.com>, 2016-05-24 08:52:59 +0200, , reactor introduce idle cpu handler idle cpu handler function called every time cpu nothing better signed piotr jastrzebski piotr scylladb.com message scylladb.com,,
3860,d7da414c8fcffa77d9563f9f994815df2e18b514,akuya ASADA <syuu@scylladb.com>, 2016-05-23 19:30:14 +0900, , core add missing header 4.9 fix build error debian 8.4 signed takuya asada syuu scylladb.com message 1463999414 21063 git send email syuu scylladb.com,,
3861,41cf60bc727bc22f28c6fdcf6abc69df3514bc14,iotr Jastrzebski <piotr@scylladb.com>, 2016-05-22 22:14:17 +0200, , add lksctp tool devel required package fedora build instruction signed piotr jastrzebski piotr scylladb.com message scylladb.com,,
3862,aed893e5daa21ae1ed4a7310c63d29e44a077083,vi Kivity <avi@scylladb.com>, 2016-05-22 16:24:17 +0300, , net move transport enum seastar namespace transport clash name scylla scylla name conflict drive seastar change rather scylla adjust case planning move everything seastar namespace anyway,,
3863,0f66b9df432e0f4747fc850099ea1c4ef62c56cd,lya Gavrilov <gilyav@gmail.com>, 2016-05-18 17:32:04 +0300, , net sctp protocol support posix stack signed ilya gavrilov gilyav gmail.com message 1463581924 20162 git send email gilyav gmail.com,,
3864,1df8e0c19308ca3fad646cc09fa27b3069dd0e77,uarte Nunes <duarte@scylladb.com>, 2016-05-22 12:16:01 +0000, , future support get state promise patch fix calling get future returned promise considers future_state might still located promise signed duarte nunes duarte scylladb.com message 1463919361 11181 git send email duarte scylladb.com,,
3865,6a849ac397e4be0d5ac2033a622ce01fea9e9a60,uarte Nunes <duarte@scylladb.com>, 2016-05-11 20:00:06 +0200, , seastar socket resilient enotconn shutdown called connect called connect continuation dealing potentially erroneous result connect may trigger enotconn error patch make sestar socket scenario ignoring enotconn signed duarte nunes duarte scylladb.com message 1462989606 6958 git send email duarte scylladb.com,,
3866,cb42492d7ce04878b73df1a555cd687a66e7d6b2,vi Kivity <avi@scylladb.com>, 2016-05-10 19:18:29 +0300, , merge improve performance predictability syscall thread communication glauber using signal handle communication thread really easily poller check queue every poll loop theoretical benefit signal delivered immediately clear big may may even significant handle signal poller cost handling signal frame may significant measure  measure isolating effect thread placement although thread expected placed correctly written small patch pin syscall thread always processor started seastar app smp varying value cpuset app basically call file_size loop second measure many iteration loop could complete also run parallel another load touch syscall worker thread make sure deterioration result quite similar fedora baremetal box one ec2 c4.4xlarge machine running centos7 report result latter essentially box cross socket scenarion local machine following table show result obtained patch choosing cpuset reactor fall respectively processor sibling processor core different core relative hardcoded test placement syscall thread  placement usec usec diff  processor 3.68116 2.62334 28.80  sibling 11.6138 6.93433 40.31  core 18.924 12.4005 34.46  socket 21.4113 17.3937 18.85  table show every tested scenario polling without signal beneficial load,,
3867,070f9ab70a2cce50caf92d3a02d1f8b0759fcaf7,lauber Costa <glauber@scylladb.com>, 2016-05-05 17:01:15 -0400, , syscall thread use signal poll instead syscall thread today communicates main thread mean signal however necessary signal needed wake syscall thread since writing thread pool eventfd take care waking already direction communication fine direction however currently using signal reactor however need interrupt reactor poll like sort interrupt like event completed task queue need make sure resort back interrupt mode signal reactor sleep one possible objection reactor may never poll may take long time get completion true also generic problem shared pollers one solve mean task quota writing syscall thread like yield improvement simple benchmark computes cost calling file_size loop signed glauber costa glauber scylladb.com,,
3868,ca50465df01cf4217b565e5e22ec5f44aece74e9,lauber Costa <glauber@scylladb.com>, 2016-05-05 17:00:51 -0400, , syscall thread let caller know many request completed preparation moving syscall worker thread poll_fn need know whether pending work signed glauber costa glauber scylladb.com,,
3869,29505ed15403f1194fad254e66d2c4e3bdd4c1b1,uarte Nunes <duarte@scylladb.com>, 2016-05-09 17:02:55 +0200, , rpc_test shutdown properly due closing rpc client longer mean calling shutdown_input shutdown_output instead call seastar socket shutdown shutdown implemented success case rpc_socket_impl used rpc_test test terminate client never properly sopped signed duarte nunes duarte scylladb.com message 1462806175 13054 git send email duarte scylladb.com,,
3870,ab8900284fa14ade83be0db817e9222783e6181f,leb Natapov <gleb@scylladb.com>, 2016-03-21 14:21:19 +0200, , patch future better detect get_future already used promise current assert detect common case promise p.get_future .then ... p.get_future message scylladb.com,,
3871,3dec26f9b116bd46a22e2cc6450b2fa2ccd57188,alle Wilund <calle@scylladb.com>, 2016-05-09 08:03:13 +0000, , test mkcert.gmk fix makefile bug snakeoil cert generator case someone need message 1462780993 11196 git send email calle scylladb.com,,
3872,627aa1d38f48fde97d1c2ab0a5f41762a9cd1a47,alle Wilund <calle@scylladb.com>, 2016-05-09 08:03:12 +0000, , tls_test add case little checking message 1462780993 11196 git send email calle scylladb.com,,
3873,1f6b18eeab20dc5a8c6d652547e14d709fb73461,alle Wilund <calle@scylladb.com>, 2016-05-09 08:03:11 +0000, , add copyable credential factory since use case shown creating sharded server constantly run initialization issue using creating credential add primitive factory type easily const shared copied shard semi automate local credential creation without future wait note due gnutls system restriction loading system trust cert chain deferred first session use using builder type i.e error delayed message 1462780993 11196 git send email calle scylladb.com,,
3874,7782ad49b7efad9eda27305c7ccc8e5a2c90cce6,vi Kivity <avi@scylladb.com>, 2016-05-09 11:18:29 +0300, , merge rpc allow client connection cancelled duarte patchset build upon seastar socket one allow connection attempt rpc client cancelled break interface scylla requires patch applied updating seastar submodule see scylladb scylla 862,,
3875,e43663820ed51ab576977ca5fb955f2c927509bb,uarte Nunes <duarte@scylladb.com>, 2016-04-18 19:28:31 +0200, , add support seastar socket patch enables connection established seastar socket signed duarte nunes duarte scylladb.com,,
3876,984161edde1b4df2f7adcde4e0ae7790fb336213,uarte Nunes <duarte@scylladb.com>, 2016-04-18 18:45:52 +0200, , rpc add unit test cancel connection attempt signed duarte nunes duarte scylladb.com,,
3877,0ddb578fe605cfa441fc29d64ad964d9d33f6de9,uarte Nunes <duarte@scylladb.com>, 2016-05-08 11:41:34 +0200,862, rpc cancel connection attempt patch integrates seastar socket rpc client connection attempt canceled see scylladb scylla 862 signed duarte nunes duarte scylladb.com,,
3878,f1a3520bc12812c45041db97bf7baee6a9551730,leb Natapov <gleb@scylladb.com>, 2016-05-08 14:35:23 +0300, , rpc clear outgoing queue socket failed connection currently outgoing queue cleared send loop termination send loop even started connection failed cleared sender see send completion see scylladb scylla 1236 message scylladb.com,,
3879,8d84332b08ca4dd067c6bc73822fb0dd0f65542b,vi Kivity <avi@scylladb.com>, 2016-05-08 12:03:58 +0300, , merge unconnected socket seastar socket duarte,,
3880,a98b7ab79252890ac77697d9a4013a2c45d10413,uarte Nunes <duarte@scylladb.com>, 2016-03-23 20:31:50 +0100, , seastar socket add unit test signed duarte nunes duarte scylladb.com,,
3881,02803df613b0bf99551ea393c49ebfa2ed67cc06,uarte Nunes <duarte@scylladb.com>, 2016-03-23 20:30:28 +0100, , seastar socket lift connect implementation signed duarte nunes duarte scylladb.com,,
3882,b856e53780177a720f27e4299b7f1c94b39f31d6,uarte Nunes <duarte@scylladb.com>, 2016-03-23 20:29:19 +0100, , seastar socket implement native stack signed duarte nunes duarte scylladb.com,,
3883,1146be9ccc7f0cf11c0f618cf6d6e90ba0801f76,uarte Nunes <duarte@scylladb.com>, 2016-03-23 20:28:42 +0100, , seastar socket implement posix stack signed duarte nunes duarte scylladb.com,,
3884,62d881b26ab0988eec3c607405ee91f160dd3aeb,uarte Nunes <duarte@scylladb.com>, 2016-03-23 20:26:11 +0100, , seastar socket introduce api patch add seastar socket class api class responsible establishing connection two endpoint allows connection attempt canceled signed duarte nunes duarte scylladb.com,,
3885,ab74536d0fc312ad56facfe7be54c56f0dceb441,vi Kivity <avi@scylladb.com>, 2016-05-01 19:50:42 +0300, , reactor kill since time quota based preemption need count continuation continuation counting undershoot continuation fast resulting excessive switching overshoot continuation slow resulting excessive latency timer protect remove accounting simplifying code making efficient message 1462121442 17303 git send email avi scylladb.com,,
3886,419e17355578ac2c5944269f6dd4646786368c57,vi Kivity <avi@scylladb.com>, 2016-05-01 18:05:05 +0300, , smp optimize empty queue move_pending attempt move work_items cross shard queue even local pending_fifo queue empty cause cross core cache line accessed fix checking pending_fifo empty calling move_pending message 1462115105 5512 git send email avi scylladb.com,,
3887,36268d105cf59184aae79bdbf88c10be52b2cb10,lauber Costa <glauber@scylladb.com>, 2016-05-03 18:42:52 -0400, , thread yield idle currently call yield idle system seastar thread execution quota leave system idle period certainly want time although could add flag control behavior doubt ever want want existing behavior behavior flagged since really obvious interpretation yield patch change meaning yield current run another usec give someone else chance run run usec argued meaning along signed glauber costa glauber scylladb.com message 1462315372 5168 git send email glauber scylladb.com,,
3888,56a76af589c635966871128d6b828f28993e0694,vi Kivity <avi@scylladb.com>, 2016-05-05 09:34:45 +0300, , merge fix iotune glauber series fix two small issue currently plaguing iotune first one fpe happens end evaluation recommended value likely cause 115 second one core dump generate exit error code would described 129,,
3889,332d8e63cfa81a52af2c805d03b59cd44bfee223,lauber Costa <glauber@scylladb.com>, 2016-05-04 14:58:27 -0400,129, iotune coredump directory fails created current file write code check directory created successfully writing file throw however always case creating directory return error message may throw doe program crash unhandled exception let change code slightly everything related file creation fall within try catch block return error code currently fix 129 signed glauber costa glauber scylladb.com,,
3890,c05df60039c97b22f6d8b41c3bd7dac663ec7300,lauber Costa <glauber@scylladb.com>, 2016-05-04 14:34:13 -0400, , iotune improve recommendation case timeout case timeout currently call current result whichever return fragile middle region completely unrelated critical region looking best way would run scan point far return best fair ask always scan end addressed comment description issue 115 core dump indicates left evaluation recommended concurrency happen although clear ended case guaranteeing scan current option patch fix signed glauber costa glauber scylladb.com,,
3891,e536555081cde5c8b6eac5f70f691d1fc3da7a8a,leb Natapov <gleb@scylladb.com>, 2016-05-02 10:51:13 +0300, , rpc introduce outgoing packet queue currently rpc hoc continuation chain queue outgoing packet disadvantage able drop packet timed already reach queue head patch add real queue hold outgoing packet properly dropped timeout reached message 1462175473 18063 git send email gleb scylladb.com,,
3892,ae3d18baaa048f074496e6caf49af04e7c9cf03b,leb Natapov <gleb@scylladb.com>, 2016-05-02 10:51:12 +0300, , add condition variable implementation support one waiter message 1462175473 18063 git send email gleb scylladb.com,,
3893,5399186ed3a820b73a595402454f269376a4afd7,leb Natapov <gleb@scylladb.com>, 2016-05-02 09:01:14 +0300, , future utils support future multiple value map_reduce message scylladb.com,,
3894,423ce663d3e4fd1bc7691df63017f35b9464f8ec,vi Kivity <avi@scylladb.com>, 2016-04-27 13:28:02 +0300, , test rpc stop client server fix memory leak reported asan,,
3895,80b9f0368c3e81abda447d566215b2f106a2b43b,alle Wilund <calle@scylladb.com>, 2016-04-27 09:00:02 +0000, , tls_test add test large ish buffer send recieve message 1461747602 17228 git send email calle scylladb.com,,
3896,dab58e4562fbdc6efd47ff16121af785b46f3f76,alle Wilund <calle@scylladb.com>, 2016-04-27 07:21:19 +0000, , fix sink put deal larger packet lame bug gnutls internal buffer limit data sent pas 16k code deal i.e check large part data actually transmitted add secondary put loop work sub packet message 1461741679 18309 git send email calle scylladb.com,,
3897,1188c13fd960b1c8a216d9344419b8b2f95ffbb0,alle Wilund <calle@scylladb.com>, 2016-04-27 07:21:18 +0000, , change copy dh_params input since gnutls allows easy copying data type make standalone i.e easily movable value across shard hint init issue scylla message 1461741679 18309 git send email calle scylladb.com,,
3898,689bf77ae28494110f0106ac238e713e2ab647d4,lauber Costa <glauber@scylladb.com>, 2016-04-26 10:20:05 -0400, , seastar thread allow usage fraction change may need give workload temporary boost start lag behind even adjust preemptively make sure patch introduce method used caller update run quota scheduling group signed glauber costa glauber scylladb.com message 1461680406 14500 git send email glauber scylladb.com,,
3899,087873730b1cefc97b31b56b02483002e0852cbc,lauber Costa <glauber@scylladb.com>, 2016-04-26 10:20:04 -0400, , seastar async allow passing attribute old signature kept around new signature added allow specify user need control thread moment resort maintaining thread manually using seastar async lot convenient signed glauber costa glauber scylladb.com message 1461680406 14500 git send email glauber scylladb.com,,
3900,ecbdc476dc1f63c9008c594b659d4433b80173c2,lauber Costa <glauber@scylladb.com>, 2016-04-26 10:20:03 -0400, , thread document undocumented class group undocumented latter marked internal since clearly used outside caller signed glauber costa glauber scylladb.com message 1461680406 14500 git send email glauber scylladb.com,,
3901,0fac0f0623efd144133f0c4ec6fd812eaae852d4,vi Kivity <avi@scylladb.com>, 2016-04-11 10:32:32 +0300, ," fair_queue fix inconsistency renormalization accumulator overflow renormalize unforrunately inconsistently movement tau time divide accumulator divide accumulator flt_max moving time base arbitrary amount moving steady_clock effect could squelch queue completely around tau time fix renormalizing consistently since renormalization guarantee cost finite renormalize loop default parameter loop run 10,000 time day complete idleness time year complete idleness message 1460359952 30106 git send email avi scylladb.com",,
3902,15a92cfe7aa43748c9afb88878bbe7eeac5e229c,vi Kivity <avi@scylladb.com>, 2016-04-24 14:33:20 +0300,1088, smp allow 128 flight operation core core queue 128 message limit flight operation lead aba deadlock example send 128 request processing request send request back processing request depends completion request processing request send request back deadlock send last request see scylladb scylla 1088 real life example fix lifting restriction allow number request executed concurrently requires application add internal limit otherwise shard simulataneously send many message single shard shard memory exhausted message 1461497600 20495 git send email avi scylladb.com,,
3903,fa11cabe815bfc42262bc5c26cc672fc7220bae3,en <ben@yyresearch.com>, 2016-04-19 18:50:25 +0800, , future balance constructor destructors future_state done void specialisation message 1461063025 15552 git send email benpope81 gmail.com,,
3904,2b3c363ba46a5048de626d37c803c34d37358eb2,ekka Enberg <penberg@scylladb.com>, 2016-04-15 10:45:18 +0300, , net fix compilation older gnutls version gnutls developer renamed enumeration commit author nikos nmav redhat.com date tue jan 2014 0100 renamed done avoid confusion normal priority string also setting profile explicitly priority string session security level adjusted accordingly cause seastar build fail older gnutls version present ubuntu 14.04 reported sandeep joshi sanjos100 gmail.com message 1460706318 21610 git send email penberg scylladb.com,,
3905,2185f377e317c517e173c099222ad96546500a1a,vi Kivity <avi@scylladb.com>, 2016-04-14 21:10:35 +0300, , reactor avoid issuing systemwide memory barrier parallel going sleep reactor must force memory barrier across entire system reactor tell asleep wake necessary operation however slow large machine unscalable many reactor fall asleep concurrently result quite long latency ten millisecond fix noticing another reactor falling asleep aborting sleep attempt case message 1460657435 22990 git send email avi scylladb.com,,
3906,6baac483afaec429d13c7edf44d9e550a48cb61a,vi Kivity <avi@scylladb.com>, 2016-04-14 21:10:34 +0300, , revert use sys_membarrier available reverts commit sys_membarrier slow large machine need variant ipis message 1460657435 22990 git send email avi scylladb.com,,
3907,ff424b53c70282d6a7e524815b1dc9d1239ce772,vi Kivity <avi@scylladb.com>, 2016-04-14 12:30:02 +0300, , merge various exception safety fix tomasz found injecting allocation failure sstable write path,,
3908,25d8e22508056c33afde8ef97a448feb7deb04de,awe Dziepak <pdziepak@scylladb.com>, 2016-04-13 09:14:54 +0100, , future util make map reduce exception safe signed pawe dziepak pdziepak scylladb.com message 1460535294 4265 git send email pdziepak scylladb.com,,
3909,28faefa74ab2cc3784222c8fb9a4e07ec1033917,awe Dziepak <pdziepak@scylladb.com>, 2016-04-13 09:14:53 +0100, , collectd give failure signed pawe dziepak pdziepak scylladb.com message 1460535294 4265 git send email pdziepak scylladb.com,,
3910,ec28560f439f056c8d4aa7e5a46a936e3f1fdc39,awe Dziepak <pdziepak@scylladb.com>, 2016-04-13 09:14:52 +0100, , future util make exception safe signed pawe dziepak pdziepak scylladb.com message 1460535294 4265 git send email pdziepak scylladb.com,,
3911,6e2159e8801d9a2ba54561a4654328a7e667e07b,leb Natapov <gleb@scylladb.com>, 2016-04-13 09:53:47 +0300, , rpc block connection unknown verb received currently reply unknown verb sent synchronously stall rpc connection reply send may take busy connection fix message 1460530427 18349 git send email gleb scylladb.com,,
3912,44fefc52a3799a214be242106ff0a3e8112e749c,leb Natapov <gleb@scylladb.com>, 2016-04-13 09:53:46 +0300, , rpc wait reply timeout timeout happens packet sent dropped reply never come timeout_handler stay _outstanding forever drop timed handler _outstanding reduces ability detect wrong masg_id reply better leaking memory message 1460530427 18349 git send email gleb scylladb.com,,
3913,f4802a8f92c30c33c7249f4a2809519396d16b85,leb Natapov <gleb@scylladb.com>, 2016-04-13 09:53:45 +0300, , rpc move connection stats base class message 1460530427 18349 git send email gleb scylladb.com,,
3914,17ad256a8a1c3f2943feecdf429df3630c6df5f5,omasz Grabiec <tgrabiec@scylladb.com>, 2016-04-04 17:19:49 +0200, , core reactor handle io_submit failure inside patch ebadf egain would bring whole reactor handle gracefully ebadf fail promise associated scheduled operation eagain return fix 131 message 1459783189 10523 git send email tgrabiec scylladb.com,,
3915,e2beaaf1d9aa3b6428356f6f7199e5b4b035ebee,akuya ASADA <syuu@scylladb.com>, 2016-04-12 03:14:06 +0900, , apps iotune add check option use iotune kernel version check use iotune kernel version check run exit check specified signed takuya asada syuu scylladb.com message 1460398446 19942 git send email syuu scylladb.com,,
3916,eb2518494b938a3bbaf868a9a887bb7bea6c6543,vi Kivity <avi@scylladb.com>, 2016-04-11 11:23:11 +0300, , merge exception safety patch pawe exception safety fix issue seastar discovered memory allocation failure injection,,
3917,1771d3b0e2e86af0e937524af209b703345047a4,omasz Grabiec <tgrabiec@scylladb.com>, 2016-04-08 14:57:20 +0200, , fix conversion dh_params level old code casting level directly numeric constant defined level match constant defined gnutls.h least version 3.4.10 1.fc23.x86_64 instance level legacy fix following tls_test failure build release test tls_test running test case ... unknown location fatal error std runtime_error illegal parameter found test test utils.cc last checkpoint unknown location fatal error std runtime_error illegal parameter found test test utils.cc last checkpoint test tls_test.cc 211 fatal error unexpected exception test tls_test.cc 226 fatal error unexpected exception message 1460120240 5177 git send email tgrabiec scylladb.com,,
3918,c285d0bf33ff467185527a9856614026b5e10240,omasz Grabiec <tgrabiec@scylladb.com>, 2016-04-04 20:02:43 +0200, , core posix_thread mark start_routine noexcept improves debuggability program abort backtrace containing place offending exception thrown start_routine useful message 1459792963 17191 git send email tgrabiec scylladb.com,,
3919,317d5e14b3ed33151b72f0bb3410303231f182e3,vi Kivity <avi@scylladb.com>, 2016-04-10 19:01:07 +0300, , fair_queue better overflow protection fair_queue try protected overflow checking flt_max however fail floating point operation obey usual rule due truncation fix checking whether sum actually overflow rather would overflow,,
3920,2aeb9dd6b396b22e6d3d9f13ea3f7d872493fc6c,vi Kivity <avi@scylladb.com>, 2016-04-10 16:35:41 +0300, , memory avoid exercising reclaimers oversized request someone allocates memory exists shard fail request immediately rather evicting evictable memory first,,
3921,db8d933cc78168657676bd1ec0df5f6b07c9218f,vi Kivity <avi@scylladb.com>, 2016-04-10 16:13:08 +0300, , test test cross cpu free underflowing live object counter test 139,,
3922,840a37d67905f29b63abe2b7f24fa9a78e354fb3,vi Kivity <avi@scylladb.com>, 2016-04-10 16:13:51 +0300, , memory fix live object counter underflow due cross cpu free cross cpu free increment free operation count freeing cpu shard owner causing free counter overtake malloc counter fix cross cpu free counter incremented fix 139,,
3923,4d9463497548aeb272db5212a9a104aa8a81f886,awe Dziepak <pdziepak@scylladb.com>, 2016-04-06 12:36:43 +0100, , future util make repeat exception safe signed pawe dziepak pdziepak scylladb.com,,
3924,1946ae24e4a035aaa9677265ad64ef86928c499c,awe Dziepak <pdziepak@scylladb.com>, 2016-04-05 18:35:45 +0100, , semaphore make wait timeout exception safe signed pawe dziepak pdziepak scylladb.com,,
3925,6b16d246de8e4a42f37d03f64a355ecb91d60920,awe Dziepak <pdziepak@scylladb.com>, 2016-04-04 09:22:04 +0100, , posix stack signal error failed continuation currently memory allocation failure accept cause either accept throw exception return failed future make harder handle error accept caller patch change code error accept signaled failed future signed pawe dziepak pdziepak scylladb.com,,
3926,962498eff9408e8c911197faf2323d9e143ccc05,awe Dziepak <pdziepak@scylladb.com>, 2016-03-31 16:57:41 +0100, , fair_queue make queue exception safe currently queue implementation look like push priority class _handles push request priority class however second push fails may end empty priority class queued _handles illegal trigger assertion failure execute_one signed pawe dziepak pdziepak scylladb.com,,
3927,0c7fc207cb680b9697fee5b9b29d2061d774b2dc,omasz Grabiec <tgrabiec@scylladb.com>, 2016-04-05 10:36:40 +0200, , posix_file_impl always release resource close close supposed always succeed releasing resource submission thread pool fails call close reactor thread posix_file_impl would anyway,,
3928,dd91239a4024dd0a80ab1802d8dd05eecd7fac10,omasz Grabiec <tgrabiec@scylladb.com>, 2016-04-05 09:49:58 +0200, , fix resource leak close close release resource even signal error patch _file would closed wait returned failed future fix closing finally,,
3929,0f1bcae5c318eeb728d0caa1db6b61fa55098b15,omasz Grabiec <tgrabiec@scylladb.com>, 2016-04-05 12:53:10 +0200, , make close never throw close supposed always succeed releasing resource tolarate exception wait may happen throw might leaving behind backround work leading use free mark close wait noexcept prevent exception reserving space semaphore wait list constructor,,
3930,0bb2ff7236849c6c2c7b4b8bf824ca1725f8a75e,omasz Grabiec <tgrabiec@scylladb.com>, 2016-04-05 09:33:09 +0200, , fix hang close wait called close flush take signal back failed failed close follows flush block forever fix signalling finally fix 133,,
3931,4fba8b5291a4045f8c3c0a1c7bf0080c236721d3,omasz Grabiec <tgrabiec@scylladb.com>, 2016-04-05 09:30:22 +0200, , make put exception safe allocation failure inside do_put caused semaphore get signalled signalling chained finally block fix making do_put noexcept propagating failure via returned future fix 132,,
3932,aec4565e3592d57ed9e2c5956d5ab6dc41269e24,omasz Grabiec <tgrabiec@scylladb.com>, 2016-04-04 19:08:27 +0200, , make exception safe ensures later push throw thus abandon reading fiber reading fiber wrapped futurize apply exception propagated then_wrapped thrown directly would example corrupt,,
3933,694cdecd0b251faf3c447dacd0935105849a0275,omasz Grabiec <tgrabiec@scylladb.com>, 2016-04-05 10:25:02 +0200, , core semaphore introduce useful situation want ensure future wait fail allocation failure,,
3934,342051d60842a934592a50a1613c3b2cd4f32013,omasz Grabiec <tgrabiec@scylladb.com>, 2016-04-04 18:28:52 +0200, , core circular_buffer implement reserve,,
3935,0da9fd373dccc14fe1404316249f064d0f59d17d,omasz Grabiec <tgrabiec@scylladb.com>, 2016-04-05 12:49:15 +0200, , introduce core,,
3936,fbdac2bf4c3df40b1e7a993d9a228c266b216786,omasz Grabiec <tgrabiec@scylladb.com>, 2016-04-05 16:12:49 +0200, , core reactor take message string_view way avoid allocation passing style string,,
3937,6bf61ce1a1590e54a72e77189d903827e9a81d96,omasz Grabiec <tgrabiec@scylladb.com>, 2016-04-04 17:30:08 +0200, , core reactor make noexcept often used destructors thus exception leak better handle logging error inside every use site much swallow counter introduced swallow could inspected see log missing data,,
3938,860ccd23b5038c87f5e6f610114c9b41b4b7fa85,omasz Grabiec <tgrabiec@scylladb.com>, 2016-04-04 17:22:07 +0200, , core thread introduce thread,,
3939,0bde499bcba56ad21bb3fa548bb0e839951a0d09,omasz Grabiec <tgrabiec@scylladb.com>, 2016-04-05 10:17:19 +0200, , fix typo,,
3940,d370389d0fc166dd9f4da3c3561a2d82e0522112,omasz Grabiec <tgrabiec@scylladb.com>, 2016-04-05 11:57:00 +0200, , core reactor add class keyword friend declaration clion get confused without,,
3941,64fc6f7acbc1f758005bf640d05a4e766a40ce2d,omasz Grabiec <tgrabiec@scylladb.com>, 2016-04-04 19:55:12 +0200, , core reactor register task quota signal sa_restart without signal happening middle blocked write std cout fail write erestartsys std cout marked bad durther output printed output fix 134,,
3942,464ece2ec457d6f88fbcf4e8947fcfc0b72ae750,omasz Grabiec <tgrabiec@scylladb.com>, 2016-04-04 17:20:11 +0200, , core reactor abort allocation failure message 1459783211 10585 git send email tgrabiec scylladb.com,,
3943,698530c356c0a827e9bcd6146705f38221eb4be8,vi Kivity <avi@scylladb.com>, 2016-04-03 23:01:47 +0300, , build add test debuginfo avoid stripping test useful continuous integration,,
3944,67480c89d251e6015bb0f43d11d9ba71337041a3,uarte Nunes <duarte@scylladb.com>, 2016-03-30 22:56:58 +0200, , add buffer size arg output patch allow caller specify buffer size obtaining output_stream signed duarte nunes duarte scylladb.com message 1459371419 28451 git send email duarte scylladb.com,,
3945,3abffbea401e7d11085d95f7c290790792b82d68,lad Zolotarov <vladz@cloudius-systems.com>, 2016-03-31 21:40:21 +0300, , script added support bonding interface configure slave device given bonding interface see scylladb scylla 891 signed vlad zolotarov vladz cloudius systems.com message 1459449621 26048 git send email vladz cloudius systems.com,,
3946,05206e536b0b7001944650586ee370189cd0879f,lad Zolotarov <vladz@cloudius-systems.com>, 2016-03-31 21:40:20 +0300, , script move nic configuration code separate function configures everything related single networking interface signed vlad zolotarov vladz cloudius systems.com message 1459449621 26048 git send email vladz cloudius systems.com,,
3947,3f4fceac7421eb1bc282d2d68e137b0fa0d2a6a2,lad Zolotarov <vladz@cloudius-systems.com>, 2016-03-31 21:40:19 +0300, , script implement logic selecting default mode neither given script use default mode number nic irqs greater half cpu core including hyperthreads use mode otherwise number nic irqs greater use mode otherwise use mode see scylladb scylla 1126 signed vlad zolotarov vladz cloudius systems.com message 1459449621 26048 git send email vladz cloudius systems.com,,
3948,9f88702a68ac6764efe2f3dfcec09ebe6911c1e4,lad Zolotarov <vladz@cloudius-systems.com>, 2016-03-31 21:40:18 +0300, , script forward interface name parameter signed vlad zolotarov vladz cloudius systems.com message 1459449621 26048 git send email vladz cloudius systems.com,,
3949,26688d28a78b12fadf7e63b91220ac348da7a593,ekka Enberg <penberg@scylladb.com>, 2016-03-31 10:04:12 +0300, , http route remove request failure logging stderr real need log request failure seastar level information propagated caller remove logging clean annoying spam scylla boot jmx proxy race api server startup message 1459407852 22848 git send email penberg scylladb.com,,
3950,020c2ae5c06fc22021fbd7b96ddf3d8ada7cfcd8,sias He <asias@scylladb.com>, 2016-03-30 11:52:09 +0000,130, lowres_clock initialize _now clock created application get wrong time_point following case lowres_clock constructed high_res timer fire first time application call get time_point fix initializing _now constructor fix 130 message 1459338729 14623 git send email asia scylladb.com,,
3951,a5ffa584056dbe326156f628facdf632e9dc2367,akuya ASADA <syuu@scylladb.com>, 2016-03-30 19:15:00 +0900, , apps iotune fix broken url signed takuya asada syuu scylladb.com message 1459332900 549 git send email syuu scylladb.com,,
3952,79daf23ff9dd0d2e51786674f9bd63fe488888b1,adav Har'El <nyh@scylladb.com>, 2016-03-24 19:31:29 +0200, , tutorial expand improve semaphore section improve organization semaphore section expand learned last day scylladb development loop limited parallelism section exposition start limiting externally driven event limit event start work progress complex issue limiting loop signed nadav har nyh scylladb.com message 1458840689 15405 git send email nyh scylladb.com,,
3953,99259df4752bc12836e56fc39c2defe9e369b32b,aomai Wang <haomai@xsky.com>, 2016-03-25 22:20:03 +0800, , dpdk support set key port_conf hash_key_size unknown pmd driver like mlx5 vmxnet3 calling get hash_key_size pmd driver support feature set rss_key port_conf call enable set default byte key set back pmd driver signed haomai wang haomai xsky.com message 1458915603 71417 git send email haomai xsky.com,,
3954,291e8a0a902bd043bb273d43275a43c01d2e08b8,aomai Wang <haomai@xsky.com>, 2016-03-25 22:20:02 +0800, , dpdk aware vmxnet3 max xmit frags linearizing signed haomai wang haomai xsky.com message 1458915603 71417 git send email haomai xsky.com,,
3955,9425d95c327c186d8b5a7e0e57cf4e5fc6115441,aomai Wang <haomai@xsky.com>, 2016-03-27 23:55:16 +0800, , packet_util insert order packet map empty bool variable insert initialized cause none packet could inserted map look strange others meet bug signed haomai wang haomai xsky.com message 1459094116 9804 git send email haomai xsky.com,,
3956,81301186933fde4bfeffa306152137dd6592aa58,uarte Nunes <duarte@scylladb.com>, 2016-03-25 11:52:48 +0100, , core fix use free scollectd impl destructor thread_local reactor holder run destructor thread_local scollectd impl scollectd registration contained ipv4 unregistering access invalid scollectd impl patch fix problem defining scollectd impl reactor_holder ensuring destroyed reverse order signed duarte nunes duarte scylladb.com message 1458903168 7838 git send email duarte scylladb.com,,
3957,799240460617b740bef77517a024e9be309a7c16,uarte Nunes <duarte@scylladb.com>, 2016-03-24 00:28:15 +0100,92, future optimize finally patch introduces specialization finally combinator common case continuation return future fix signed duarte nunes duarte scylladb.com message 1458775695 26373 git send email duarte scylladb.com,,
3958,9f652de97fd38f023189312f6a70a63f079f4bb2,uarte Nunes <duarte@scylladb.com>, 2016-03-24 00:28:14 +0100, , future factor exceptional path finally patch factor exceptional patch finally triggered continuation function fails noinline member function signed duarte nunes duarte scylladb.com message 1458775695 26373 git send email duarte scylladb.com,,
3959,aa281bdee8986be5879a829e291b02b30ae6b750,omasz Grabiec <tgrabiec@scylladb.com>, 2016-03-23 12:55:14 +0100, , shared_promise add move assignment operator message 1458734114 11710 git send email tgrabiec scylladb.com,,
3960,02b5313120b4e844c3b747e53ada5736ca94ce4a,sias He <asias@scylladb.com>, 2016-03-23 12:24:11 +0000, ," lowres_clock fix stretched time lowres_clock move time high_res timer callback may run bit later actual period may accumulate error time resulting stretched time fix reading real clock instead incrementing example lowres_clock timer scylla stream_session class timer lowres_clock _keep_alive set expire second log show period actually around second  asia localhost node4 cat log system.log grep session grep progress info 2016 05,215 shard stream_session stream 413d4570 f0cb 11e5 9009 000000000001 session 0x60000009c200 made progress peer 127.0.0.2 info 2016 24,278 shard stream_session stream 413d4570 f0cb 11e5 9009 000000000001 session 0x60000009c200 made progress peer 127.0.0.2 info 2016 43,169 shard stream_session stream 413d4570 f0cb 11e5 9009 000000000001 session 0x60000009c200 made progress peer 127.0.0.2 info 2016 01,875 shard stream_session stream 413d4570 f0cb 11e5 9009 000000000001 session 0x60000009c200 made progress peer 127.0.0.2 info 2016 20,551 shard stream_session stream 413d4570 f0cb 11e5 9009 000000000001 session 0x60000009c200 made progress peer 127.0.0.2 info 2016 39,314 shard stream_session stream 413d4570 f0cb 11e5 9009 000000000001 session 0x60000009c200 made progress peer 127.0.0.2 info 2016 58,252 shard stream_session stream 413d4570 f0cb 11e5 9009 000000000001 session 0x60000009c200 made progress peer 127.0.0.2  asia localhost test cat node4 log system.log grep session grep progress info 2016 02,742 shard stream_session stream 22d80e70 f0e5 11e5 9ed0 000000000000 session 0x60000009a000 made progress peer 127.0.0.2 info 2016 02,749 shard stream_session stream 22d80e70 f0e5 11e5 9ed0 000000000000 session 0x60000009a000 made progress peer 127.0.0.2 info 2016 02,761 shard stream_session stream 22d80e70 f0e5 11e5 9ed0 000000000000 session 0x60000009a000 made progress peer 127.0.0.2 info 2016 02,758 shard stream_session stream 22d80e70 f0e5 11e5 9ed0 000000000000 session 0x60000009a000 made progress peer 127.0.0.2 info 2016 02,785 shard stream_session stream 22d80e70 f0e5 11e5 9ed0 000000000000 session 0x60000009a000 made progress peer 127.0.0.2 info 2016 02,796 shard stream_session stream 22d80e70 f0e5 11e5 9ed0 000000000000 session 0x60000009a000 made progress peer 127.0.0.2 message 1458735852 1545 git send email asia scylladb.com",,
3961,5cec605a6bd3e3fcf115cc1a295f838ed5d3ced5,uarte Nunes <duarte@scylladb.com>, 2016-03-22 21:51:49 +0100, , script delete tap instead tunctl tunctl might available extra dependency worth signed duarte nunes duarte scylladb.com message 1458679909 24964 git send email duarte scylladb.com,,
3962,609f647f96a89dd759e83418ad0a86078d7da5c8,uarte Nunes <duarte@scylladb.com>, 2016-03-23 10:06:08 +0100, , vla actually exception safe commit call constructor result p.release meaning ctor throw unique_ptr longer managing memory allocated structure leaked patch fix problem signed duarte nunes duarte scylladb.com message 1458723968 4995 git send email duarte scylladb.com,,
3963,036043c76ceb94f17b386795769c78f35571097d,uarte Nunes <duarte@scylladb.com>, 2016-03-23 09:30:22 +0100, , vla ensure memory freed ctor throw patch ensures memory allocated hold structure variable length array freed case structure ctor throw exception signed duarte nunes duarte scylladb.com message 1458721822 3737 git send email duarte scylladb.com,,
3964,172c9ecea385faad9b3abdb03ee5e6fcc19cf0ab,uarte Nunes <duarte@scylladb.com>, 2016-03-23 00:59:56 +0100, , vla ensure memory correctly freed structure variable length array returned deleted default destruction policy used std unique_ptr mean sized global operator delete called type structure complete compiler pas statically determined size structure likely result larger object freed smaller one patch fix using malloc free instead new delete operator signed duarte nunes duarte scylladb.com message 1458691197 31331 git send email duarte scylladb.com,,
3965,734911da183f19c2715169d2558723f721531c77,uarte Nunes <duarte@scylladb.com>, 2016-03-22 00:09:25 +0100, , net improve error message parsing invalid ipv4 address patch add error handling code building ipv4 address string upon failure provide clear error message instead generic invalid argument exception signed duarte nunes duarte scylladb.com message 1458601765 14671 git send email duarte scylladb.com,,
3966,9f2b8686a050bc816673783742ae60138c825152,awe Dziepak <pdziepak@scylladb.com>, 2016-03-17 00:02:45 +0000, , memory set free memory non zero value debug mode signed pawe dziepak pdziepak scylladb.com message 1458172965 4240 git send email pdziepak scylladb.com,,
3967,e6170b3f8da3c1350e5a151173a0f8ee080b7345,vi Kivity <avi@scylladb.com>, 2016-03-22 11:15:41 +0200, , merge increase iotune robustness including timeout glauber deployment scylladb canonical example want run iotune automatically well finish quickly scenario run long general robustness patchset trim execution time iotune user defined timeout,,
3968,8c01cb5b80b2d0a84631f1e7f41c01bbce50436c,lauber Costa <glauber@scylladb.com>, 2016-03-16 15:34:12 -0400,1047, iotune set timeout uphold running way long presented suboptimal condition like way slow disk description scenario generated problem scylladb setup script hanging issue describes found scylladb issue tracker see scylladb scylla 1047 detail default run minute reason choice time explained aforementioned issue signed glauber costa glauber scylladb.com,,
3969,e2a691f01fe7e8a39bf28f5c0e52303744243d02,lauber Costa <glauber@scylladb.com>, 2016-03-16 14:08:44 -0400, , iotune keep track actual file_size bail enospc may able write whole file case like would like dump warning move forward let make file_size instance member instead static property iotune_manager also use cut short execution case enospc instead using early check signed glauber costa glauber scylladb.com,,
3970,69d37f5d2c9eab2f8191139162937adf9071926e,lauber Costa <glauber@scylladb.com>, 2016-03-21 13:15:02 -0400, , shared_future add companion class shared_promise always case getting future someone else wrapping shared_future common idiom may keeping promise case would bookkeeping really common everybody using idiom wrap common code shared_promise signed glauber costa glauber scylladb.com message 1458580502 5837 git send email glauber scylladb.com,,
3971,cb9179409f8b6537a02124f90ae5d2e253e76f89,leb Natapov <gleb@scylladb.com>, 2016-03-20 17:15:33 +0200, , rpc fix client connection stopping currently client may miss stop event stop called connection yet completed fix moving connection error sate connection established client notice stop message scylladb.com,,
3972,c193821f9a061c80fbb0c2ae12061f022f3321ab,awe Dziepak <pdziepak@scylladb.com>, 2016-03-17 13:39:01 +0000, , semaphore allow wait signal broken patch make semaphore robust allowing wait try_wait signal call broken reason simplify user semaphore need additional synchronization call broken semaphore function semaphore broken call wait return failed future signal ignored try_wait return false moreoever semaphore appear available unit waiter signed pawe dziepak pdziepak scylladb.com message 1458221941 32369 git send email pdziepak scylladb.com,,
3973,f43cbe5d264c4007c70aa67ae5b287982a114e16,leb Natapov <gleb@scylladb.com>, 2016-03-17 16:48:14 +0200, , run reactor stop reactor stop called multiple time instance sigint sigterm received one another prevent stop sequence running twice message scylladb.com,,
3974,c10b388f38b5c75d83d32751c7f9b2142c4efdcc,leb Natapov <gleb@scylladb.com>, 2016-03-16 15:13:38 +0200, , sharded fix start reference parameter currently reference passed sharded start happens apply called rref expects get lref since args apply lambda really universal reference fix message scylladb.com,,
3975,acf4289a7dc9ff0f97be5716be6d6c0a84a2b17f,aphael S. Carvalho <raphaelsc@scylladb.com>, 2016-03-12 15:32:56 -0300, , core add asserts rwlock purpose asserts catch possible misuse rwlock example rwlock write_unlock called twice would overflow semaphore used rwlock would hard debug signed raphael carvalho raphaelsc scylladb.com message 1457807576 8015 git send email raphaelsc scylladb.com,,
3976,0dcedf5866bab58f517c48f342ffe8a80f667005,omasz Grabiec <tgrabiec@scylladb.com>, 2016-03-15 21:36:55 +0100, , util defer fix cancel respected message 1458074215 22215 git send email tgrabiec scylladb.com,,
3977,679f75441b856afd9d4c93aaae670bc48b2ddb80,sias He <asias@scylladb.com>, 2016-03-16 09:11:50 +0000, , tcp return accept connection connected prevent tcp server send user data way handshake completed otherwise mess tcp sequence number reported ilya gavrilov gilyav gmail.com tested ilya gavrilov gilyav gmail.com signed asia asia scylladb.com message 1458119510 18979 git send email asia scylladb.com,,
3978,6a207e11b1dd3e3705def12cdc505a39719810c1,enot Canet <benoit.canet.contrib@gmail.com>, 2016-03-15 12:42:16 +0000, , file allow custom file_impl implementation signed beno canet benoit scylladb.com message 1458045736 20785 git send email benoit scylladb.com,,
3979,f05e2ff82db5db3cbc1eaf210ab434f7dbb84523,ateusz Matuszkowiak <mateusz.matuszkowiak@gmail.com>, 2016-03-14 22:37:52 +0100, , dockerfile update bump fedora version current version add gnutls devel xfsprogs devel package required dependency use dnf package manager instead yum deprecated recent fedora signed mateusz matuszkowiak gmail.com message 1457991472 1592 git send email zone mescanef.net,,
3980,94e15b293d880d4773f69f03c1c4301738a233d7,sias He <asias@scylladb.com>, 2016-03-15 03:35:30 +0000, , tcp fix typo rfc 793 say seventh process segment text established state fin wait state fin wait state  in_state established fin_wait_1 fin_wait_2 instead in_state established fin_wait_1 fin_wait_1 typo reported haomai wang haomai xsky.com signed asia asia scylladb.com message 1458012930 15432 git send email asia scylladb.com,,
3981,0739576bd6c57c67c57291694a0ae427e101f9e0,leb Natapov <gleb@scylladb.com>, 2016-03-14 18:20:09 +0200, , rpc allow configuring keepalive rpc client message scylladb.com,,
3982,4371734a39c31ff2326c49fc7e835b7db9dfb474,leb Natapov <gleb@scylladb.com>, 2016-03-14 16:10:52 +0200, , net add keepalive configuration socket interface message scylladb.com,,
3983,6cb5eb1a91bbdad81654040f430990089677b4ae,lauber Costa <glauber@scylladb.com>, 2016-03-03 18:27:22 -0500, , iotune refuse run enough space available iotune try generate test file eventually fail lot friendlier fail upfront signed glauber costa glauber scylladb.com message 1457047642 5948 git send email glauber scylladb.com,,
3984,e225022e6a88d006a1043f6fa8b03fe19bab0394,leb Natapov <gleb@scylladb.com>, 2016-03-06 16:48:54 +0200, , rpc make client connection error clear indicate stage connection failed connection establishment also drop unneeded call message scylladb.com,,
3985,88cc2326b58dbf4912f0ef8e35cedb54229128bc,vi Kivity <avi@scylladb.com>, 2016-03-12 20:24:06 +0200, , reactor fix work item leak syscall work queue boost lockfree spsc_queue consume_all first run given function available item mark item consumed function run worker thread side also signal reactor thread queue ready accept item consume_all completes cause next push silently fail leaking work item hanging caller fix copying work item pointer temporary buffer right thing cache perspective well fix 124 message 1457807046 14748 git send email avi scylladb.com,,
3986,d9f58361e93d7bf471e742c9b7762e3a6b835c28,leb Natapov <gleb@scylladb.com>, 2016-03-07 21:34:51 +0200,121, rpc_test add missing header fix compilation gcc 4.9 fix 121 message scylladb.com,,
3987,906b562a04b61578847c642fe468f5f066d1d263,vi Kivity <avi@scylladb.com>, 2016-03-03 18:04:06 +0200, , rpc prepare feature negotiation define negotiation payload way allows skipping unknown feature add code encode decode payload feature mask bit dropped since redundant new format message 1457021046 5590 git send email avi scylladb.com,,
3988,ba615c74d876aebd74f2d452bb86c04b4dd4b4f9,akuya ASADA <syuu@scylladb.com>, 2016-03-03 17:47:03 +0900, , configure.py add static stdc link libstdc statically required packaging scylla ubuntu 14.04lts since packaging iotune seastar signed takuya asada syuu scylladb.com message 1456994823 21905 git send email syuu scylladb.com,,
3989,b3fc7c5861fdb39fef640f5186e6255cd41b3571,omasz Grabiec <tgrabiec@scylladb.com>, 2016-03-02 17:48:46 +0100, , introduce util indirect.hh contains functors comparing hashing pointer pointed value message 1456937326 20371 git send email tgrabiec scylladb.com,,
3990,1e4adf83a721b38017d3bf191eac784f9f3d03e8,lauber Costa <glauber@scylladb.com>, 2016-03-01 20:28:48 -0500, , reactor new counter queue patch introduces two new counter class queue queue_length already metric globally case useful know distribution pending request among class delay tracking time related issue would like know long request usually waiting serviced note delay latency measure doe include time spent servicing request main reason add extra continuation path something avi opposed good reason past moreover good estimate disk tool seastar polling delay signed glauber costa glauber scylladb.com message 1456882128 11556 git send email glauber scylladb.com,,
3991,9964cbf4fd2433ce7c745a52caa26fc34411fcc4,leb Natapov <gleb@scylladb.com>, 2016-02-28 17:38:41 +0200, , allow map_reduce reducer return future message 1456673921 14189 git send email gleb scylladb.com,,
3992,a04c6e3c383982876ad3ada41d7a5df3699d6319,leb Natapov <gleb@scylladb.com>, 2016-02-28 17:38:40 +0200, , workaround gcc 4.9 optional bug gcc 4.9 optional doe rvalue ref specialization value message 1456673921 14189 git send email gleb scylladb.com,,
3993,c777fc72ff47ffcf7f3284550381eee6ca3109d6,leb Natapov <gleb@scylladb.com>, 2016-02-28 17:38:39 +0200, , add convert future futurizer specification message 1456673921 14189 git send email gleb scylladb.com,,
3994,3930f6d3e3b0d3eb08fe3c096ad4a6a23cbad356,vi Kivity <avi@scylladb.com>, 2016-02-28 17:51:53 +0200, , test fix rpc_test build rpc_test.cc used rpc client_options yet merged remove,,
3995,fbb4b013d57f7e154510e2e01ed34b0641205888,omasz Grabiec <tgrabiec@scylladb.com>, 2016-02-26 11:51:31 +0100, , introduce begin needed copy without reading temporary buffer first message 1456483891 6974 git send email tgrabiec scylladb.com,,
3996,454f90c159367295ee94f41c0e7060994ba005e9,vi Kivity <avi@scylladb.com>, 2016-02-23 19:31:15 +0200, , test add rpc unit testing since rpc somehow getting even complicated need unit test patch add unit test framework using loopback socket communication use add new unit test rpc,,
3997,661e381e826d2571db8830e65228997f4670879b,vi Kivity <avi@scylladb.com>, 2016-02-23 19:29:11 +0200, , test add loopback socket testing rpc help internal socket type doe depend anything patch introduces loopback version server_socket api stabilizes might graduate core,,
3998,d79c5ba8e50c1c32ec3d0c9c450fed8424f0a918,vi Kivity <avi@scylladb.com>, 2016-02-23 18:41:07 +0200, , packet introduce release release_into allows breaking packet bunch sharing deleter,,
3999,2ae1a7230473120e25d788a739fb1dd80da02711,vi Kivity <avi@scylladb.com>, 2016-02-23 18:40:07 +0200, , add make_copy named constructor add way easily copy memory new useful zero copy reason,,
4000,769cb8bc19703ebc8308043c2406e658560d7066,vi Kivity <avi@scylladb.com>, 2016-02-23 21:44:49 +0200, , make operator bool explicit const prevent surprising conversion,,
4001,f23284e72f744d7aced38a2c3bf893d012f40519,vi Kivity <avi@scylladb.com>, 2016-02-23 11:14:42 +0200, , iotune use seastar_io instead scylla_io generic,,
4002,7506d864048ab055b20bf07ed69e5fe8a99581bb,akuya ASADA <syuu@scylladb.com>, 2016-02-23 04:24:46 +0900, , iotune add format option use environmentfile systemd signed takuya asada syuu scylladb.com message 1456169086 24373 git send email syuu scylladb.com,,
4003,f9c092aa64f82e3c8f033a1d5c67b74ce32565bb,vi Kivity <avi@scylladb.com>, 2016-02-22 11:13:52 +0200, , sstring add data method traditional string type,,
4004,8c560f268905c247c105279f5d399c77f325971e,vi Kivity <avi@scylladb.com>, 2016-02-21 18:38:53 +0200, , iotune add missing static variable definition compiler complains debug mode,,
4005,ee8a11f34c9e60a26fcc818b6fc192f37473ce26,leb Natapov <gleb@scylladb.com>, 2016-02-21 14:14:10 +0200, , prevent future ignored generating warning report first error ignores others way application get ignored error handle ignore properly avoid warning message scylladb.com,,
4006,c829b69ca2a3abf99391073d36e8b5429d542a83,vi Kivity <avi@scylladb.com>, 2016-02-18 15:02:23 +0200, , iotune limit generate concurrency 128 kernel support unlimited concurrency hit limit  fix limiting concurrency 128 see scylladb scylla 922 message 1455800543 20067 git send email avi scylladb.com,,
4007,cf1716f264aba2410fb660082ee8f935ab7707a9,vi Kivity <avi@scylladb.com>, 2016-02-17 16:23:59 +0200, , iotune qualify filesystems aio measure number context switch appending writes reject filesystem filesystem doe provide true aio,,
4008,86790339153d8ee301a0ab6a14ca2d67fbd444fb,aphael S. Carvalho <raphaelsc@scylladb.com>, 2016-02-16 15:44:28 -0200, , net fix compilation problem introduced e5cbee3 gcc 5.1.1 complains following data scylla seastar net net.hh 134 error invalid use incomplete type class net device uint16_t hw_queues_count return _dev hw_queues_count fix moving implementation hw_queues_count net net.cc signed raphael carvalho raphaelsc scylladb.com message 1455644668 27177 git send email raphaelsc scylladb.com,,
4009,1bbb02f839220b124825709d976d21d81d1e5653,aomai Wang <haomai@xsky.com>, 2016-02-16 21:39:03 +0800, , native stack fix arp request missing loopback connection loopback packet throw nic switch may support send packet back link like back back ethernet would like use loopback connection must ensure network env support hairpin feature signed haomai wang haomai xsky.com message 1455629943 29120 git send email haomai xsky.com,,
4010,44b347e1bb1969bb4e54ad72cda98a19c874157b,lad Zolotarov <vladz@cloudius-systems.com>, 2016-02-16 15:42:37 +0200, , apps iotune fix compilation 4.9 4.9 giving following error apps iotune iotune.cc 382 error could convert uint64_t iop brace enclosed initializer list run_stats return uint64_t iop apparently happens compiler interpreted internal field initializes run_stats existence explicit constructor however match aggregate initialization seems compiler bug since compilation error reproduce gcc 5.3.1 must fixed order workaround issue define run_stats constructor accepting parameter default value signed vlad zolotarov vladz cloudius systems.com message 1455630157 19723 git send email vladz cloudius systems.com,,
4011,6b2cee5cdfac1372ec991b8835b8b3bbaaf34cc6,omasz Grabiec <tgrabiec@scylladb.com>, 2016-02-16 13:46:08 +0100, , simple stream add copy constructor message 1455626768 29803 git send email tgrabiec scylladb.com,,
4012,e5cbee3d54818244502bea83866f58e791898094,aomai Wang <haomai@xsky.com>, 2016-02-16 21:12:31 +0800, , tcp need choose another core since one core signed haomai wang haomai xsky.com message 1455628351 19283 git send email haomai xsky.com,,
4013,aa23208406086938322e38d7d8e57e737411c649,vi Kivity <avi@scylladb.com>, 2016-02-16 14:31:17 +0200, , merge fix undefined behavior related reactor shutdown tomasz,,
4014,84edce69e7842ee50d8241d5b5d303e4ff1dc9ef,omasz Grabiec <tgrabiec@scylladb.com>, 2016-02-15 21:37:08 +0100,868, core reactor fail fast at_exit called shutdown initiated see scylladb scylla 868 inserting hook exit hook firing started may cause _exit_funcs vector resized invalidates iterators triggering undefined behavior expect exit hook registered exit start would violate guarantee say exit hook executed reverse order registration starting exit sequence middle initialization sequence would result use free error instead undefined behavior assert shutdown progress,,
4015,c20d26097da0a2375cfdf0d4cd3d5dc5a8ea53c2,omasz Grabiec <tgrabiec@scylladb.com>, 2016-02-15 22:37:24 +0100, , core reactor fix use free reactor shutdown currenlty reactor shard wait reactor finish processing exiting may happen non main reactor exit still task attempted submitted result use free remote _sleeping lf_queue maybe_wakeup fix ensuring reactor thread exit reactor stopped processing task,,
4016,bfb0a7130996e8313996fa91887e3c799fd8889b,leb Natapov <gleb@scylladb.com>, 2016-02-16 12:08:52 +0200, , rpc wait data send reporting timeout message scylladb.com,,
4017,b25a958e8d67af56eebc4be81e86e29a73faa18e,vi Kivity <avi@scylladb.com>, 2016-02-16 10:58:49 +0200, , merge iotune tool tune seastar parameter glauber iotune tool measure disk response varied concurrency determines best set parameter seastar queue supposed ran condition close possible expected deployment tool includes support two parameter evaluation directory directory generated cpuset processor run test latter specially useful scenarions like amazon ec2 one processor usually excluded run concentrate interrupt box adding processor test contribute error would better without evaluation finish suggested parameter written configuration file default .config seastar io.conf overwritten,,
4018,90b72cc6f0d91d1119a6fc00cb6a018f39dea434,lauber Costa <glauber@scylladb.com>, 2016-02-05 12:33:17 -0500, , iotune seastar helper tool estimate proper queue parameter iotune tool measure disk response varied concurrency determines best set parameter seastar queue supposed ran condition close possible expected deployment tool includes support two parameter evaluation directory directory generated cpuset processor run test latter specially useful scenarions like amazon ec2 one processor usually excluded run concentrate interrupt box adding processor test contribute error would better without evaluation finish suggested parameter written file specified third parameter option file file store evaluated parameter .config seastar io.conf default estimating best depth  estimate best depth scenario try find point first reach maximum throughput multiply empirical number order reduce testing time run test three phase overarching goal minimizing amount point query phase try find region maximum life care value 100 accurate run concurrency long also skip many point run phase know doe maximum life run every point region run longer goal estimate iop maximum throughput phase know roughly region doe 80th percentile life ran phase little time skipped many point know concurrency exactly refine search running every point interval around desired point even longer signed glauber costa glauber scylladb.com,,
4019,f75306e67eebd105108767331c81b4a02525837b,lauber Costa <glauber@scylladb.com>, 2016-02-15 11:10:03 -0500, , read option secondary option file patch proposing option read additional file io.conf idea keep option separate main file realize add complexity main motivation file many case autogenerated append route running configuration tool multiple time leave many repeated entry running multiple time recommended reason protect best route write new file entirety writing option separate file make life lot easier signed glauber costa glauber scylladb.com,,
4020,2f3de5fa36e2825a2384957fcf2ef80831fb7977,lauber Costa <glauber@scylladb.com>, 2016-02-15 11:08:55 -0500, , io_queue export queue capacity use user check queue big enough need signed glauber costa glauber scylladb.com,,
4021,629225d8ca8cd28fc357cf15535bc2284d1c308c,lauber Costa <glauber@scylladb.com>, 2016-02-15 11:08:38 -0500, , move cpuset_wrapper common header allow program apps check cpuset value well signed glauber costa glauber scylladb.com,,
4022,0f759f0c9416a65c1903dc8a8c38c5cbd99c4fc0,vi Kivity <avi@scylladb.com>, 2016-02-15 17:33:59 +0200, , tutorial add link future api documentation note function like sleep linked automatically,,
4023,c09dbab3f4cd3d4463a06d4ca208bd0efd296909,vi Kivity <avi@scylladb.com>, 2016-02-15 17:33:38 +0200, , sleep document,,
4024,697f361191521deccee0bea91322afe33651b4d8,adav Har'El <nyh@scylladb.com>, 2016-02-15 14:56:48 +0200, , tutorial fix typo signed nadav har nyh scylladb.com message 1455541008 12057 git send email nyh scylladb.com,,
4025,83c0a5ae18654668286dc01ce66396773470d542,adav Har'El <nyh@scylladb.com>, 2016-02-15 11:59:32 +0200, , gate add check method usually gate allows stopping new invocation operation waiting already started complete however sometimes operation long gate closed would like know finish prematurely patch add method gate check check gate closed throw exception gate enter throw gate closed long operation natural place stop e.g. loop sort place gate check call stop quickly gate closed allow gate close resolve quickly patch also add explanation example gate check tutorial signed nadav har nyh scylladb.com message 1455530372 5111 git send email nyh scylladb.com,,
4026,6db6e35052f978b17f81aaa005538f1eefef7752,adav Har'El <nyh@scylladb.com>, 2016-02-14 19:31:25 +0200, , tutorial introduce seastar gate explain seastar gate useful shutting service show example code plan later add new check method seastar gate explain signed nadav har nyh scylladb.com message 1455471085 28424 git send email nyh scylladb.com,,
4027,79797495b61f609ea01aa33a393dbbc9edf51622,vi Kivity <avi@scylladb.com>, 2016-02-14 19:53:04 +0200, , doc explain test native stack without dpdk,,
4028,0eed42d2a4782d7642cd70c50bce1f8355628f64,vi Kivity <avi@scylladb.com>, 2016-02-14 19:43:24 +0200, , doc separate mini tutorial file also refer comprehensive tutorial,,
4029,e0b4b5054b7722456e4b77d1deb0d68005cd55ef,vi Kivity <avi@scylladb.com>, 2016-02-14 19:38:53 +0200, , doc move dpdk build instruction file,,
4030,e1aab90ab934f927d9bad95a69eda50c587a3905,vi Kivity <avi@scylladb.com>, 2016-02-14 19:22:30 +0200, , doc split building instruction separate file,,
4031,f779544ae34cf090997923f787435c7fe01f2b24,vi Kivity <avi@scylladb.com>, 2016-02-14 11:38:36 +0200, , doc fix modernize git command contributing.md,,
4032,542306af711c7ae7d819058324f0187c2952be28,ichael Xu <mx2323@gmail.com>, 2016-02-12 20:56:18 +0000, , doc contributing guideline signed michael mx2323 gmail.com message 1455310578 2674 git send email mx2323 gmail.com,,
4033,353b1a14817f9e7becb1f8ec24aaf12cc1357deb,lad Zolotarov <vladz@cloudius-systems.com>, 2016-02-09 15:28:53 +0200, , script change way learn nic irq number sometimes irq name include nic name therefore grep ing result cat proc interrupt always work robust way getting irq number check content sys class net nic interface name device msi_irqs directory case msi msi irqs sys class net nic interface name device irq otherwise signed vlad zolotarov vladz cloudius systems.com message 1455024533 9028 git send email vladz cloudius systems.com,,
4034,ebc9587363a31a0aa532d7db8de5d00fc5806b1c,awe Dziepak <pdziepak@scylladb.com>, 2016-02-03 13:54:42 +0100, , gate protect calling close current implementation allow calling close multiple time complain loudly someone try signed pawe dziepak pdziepak scylladb.com message 1454504082 18081 git send email pdziepak scylladb.com,,
4035,14c999104cbc1d4456e436dbab0befe2ba6912b4,vi Kivity <avi@scylladb.com>, 2016-02-04 18:13:05 +0200, , reactor use correct open_flags opening file without dma support trouble dropping o_direct open_flags use open_flags result exclusive open failing tmpfs see scylladb scylla 871,,
4036,661ccd975b5c460b5e952a4f8a05a0be8f1766ed,vi Kivity <avi@scylladb.com>, 2016-02-04 17:29:18 +0200, , merge use swapcontext pawe asan patch limited support swapcontext doe support using longjmp switch context using swapcontext setcontext instead enough save false positive,,
4037,a1352b4e9c393f84623e691ca29cf6657430e300,awe Dziepak <pdziepak@scylladb.com>, 2016-01-27 12:09:13 +0000, , thread use swapcontext asan enabled asan limited support swapcontext doe support using longjmp switch context using swapcontext setcontext debug mode save false positive signed pawe dziepak pdziepak scylladb.com,,
4038,8a7ea94bee52cf2daf66eb25db5d445d7661ad3c,awe Dziepak <pdziepak@scylladb.com>, 2016-02-03 17:36:32 +0100, , configure.py define asan_enabled appropriate gcc clang predefined macro used unfortunately use different one much simpler make configure.py define asan_enabled sanitizer enabled signed pawe dziepak pdziepak scylladb.com,,
4039,f8beab9a0ad2d3b63dd96b5fa17456026976466e,mnon Heiman <amnon@scylladb.com>, 2016-01-28 14:37:37 +0200, , assign element name assigning one another set field copied need change field name signed amnon heiman amnon scylladb.com message 1453984657 2055 git send email amnon scylladb.com,,
4040,13f8026d303e832d3f4a47a606ac7365b51df9e4,lauber Costa <glauber@scylladb.com>, 2016-01-29 14:44:20 -0500, , io_queue change visibility internal function used reactor setup phase really part queue api use friendship reflect allowing move function away public signed glauber costa glauber scylladb.com message 1454096660 10932 git send email glauber scylladb.com,,
4041,662337957d90d08b5ac7314d138b7835a923fa87,vi Kivity <avi@scylladb.com>, 2016-01-27 12:48:04 +0200, , fstream improve subrange file currently scylla want read subset file doe playing game buffer_size hoping read ahead take place hacky however provide explicit api specifies offset within file size data read allow enable read ahead without fear message 1453891684 3982 git send email avi scylladb.com,,
4042,fbd9b30720bc25fa78404193238549bdb6342635,rich Keane <erich.keane@verizon.net>, 2016-01-27 15:57:41 -0800, , add implementation clang seems think timestamp_t timestamp_t long long rather either unsigned plain long like gcc doe patch add implementation long long modeled long properly compiles signed erich keane erich.keane verizon.net message 1453939061 7695 git send email erich.keane verizon.net,,
4043,9a5a96014091d436015afdf08c07a2acbf165d00,rich Keane <erich.keane@verizon.net>, 2016-01-27 15:57:40 -0800, , fix htonl usage clang htonl defined via series preprocessor defines clang leading cause parse correctly patch remove two usage dhcp.cc also match usage rest project signed erich keane erich.keane verizon.net message 1453939061 7695 git send email erich.keane verizon.net,,
4044,6993f14590b774959aafd3e46117e1f369adbacf,rich Keane <erich.keane@verizon.net>, 2016-01-27 15:57:39 -0800, , fix ctor clang libc stdlibc clang unable produce default constructor even specifying via default fails constructor manually generates calling std error_category default constructor constexpr noexcept included signature match base class constructor signed erich keane erich.keane verizon.net message 1453939061 7695 git send email erich.keane verizon.net,,
4045,81883c814f09951145819db55c94beafe667a538,rich Keane <erich.keane@verizon.net>, 2016-01-27 15:57:38 -0800, , add header file required libc header included libc seem little inclusive number issue occurred required adding new include statement library function available signed erich keane erich.keane verizon.net message 1453939061 7695 git send email erich.keane verizon.net,,
4046,e680afcb51e1abcdc16defa8663c5040f9cee2be,rich Keane <erich.keane@verizon.net>, 2016-01-27 15:57:37 -0800, , add clang warning suppression add handful clang warning suppression valid warning however effort get clang compile patch suppresses signed erich keane erich.keane verizon.net message 1453939061 7695 git send email erich.keane verizon.net,,
4047,1fab81d70bb6bfbdec36c0db4f36482e16a59019,rich Keane <erich.keane@verizon.net>, 2016-01-27 15:57:36 -0800, , switch correct usage std existing solution library version take int parameter switching std allows compiler choose correct overload int64_t case signed erich keane erich.keane verizon.net message 1453939061 7695 git send email erich.keane verizon.net,,
4048,9635d05b1e07bd10facda07605bbb051ef897c27,rich Keane <erich.keane@verizon.net>, 2016-01-27 15:57:35 -0800, , fix do_marshall sic function init_list possible ignorer type optimized aggressive enough compiler call likely object construction allowed though real impact additionally clang warns object since unused patch remove ignorer type used place replaces usage std cast void prevent causing unused value warning signed erich keane erich.keane verizon.net message 1453939061 7695 git send email erich.keane verizon.net,,
4049,8ba04b24b370e84f18f83d4b8e0e46d1fe4af563,rich Keane <erich.keane@verizon.net>, 2016-01-27 15:57:34 -0800, , corrected sockaddr_in initialization sockaddr_in initializer use curly bracket construct sub struct addr_in commit add curly bracket explicitly construct addr_in struct signed erich keane erich.keane verizon.net message 1453939061 7695 git send email erich.keane verizon.net,,
4050,50179f5e2dbffcc38f471bf5c1f91c3aedcb62b6,rich Keane <erich.keane@verizon.net>, 2016-01-27 15:57:33 -0800, , remove unused const char misc_strings attempting compile clang discovered string never used thus removed signed erich keane erich.keane verizon.net message 1453939061 7695 git send email erich.keane verizon.net,,
4051,ec468ba2dae653e75b2a36a79bb09f75d215beff,leb Natapov <gleb@scylladb.com>, 2016-01-27 10:26:18 +0200, , move simple stream used serialization separate header move simple stream used serialization outside rpc allow use without including rpc header want able share serializers rpc non rpc code patch also add char constructor message scylladb.com,,
4052,bdb273aae1431e1f75e5109fed8bfae4f0c65e36,leb Natapov <gleb@scylladb.com>, 2016-01-26 12:41:39 +0200, , rpc alias rpc type boost type alias rpc type boost type exactly using later make serializes attached rpc message scylladb.com,,
4053,ab8b4a9304af42256919836ef3bb611f05f124c9,rich Keane <erich.keane@verizon.net>, 2016-01-25 10:26:40 -0800, , fix properly work clang clang invalid command line flag error message warning mean always return true clang however since scylladb seastar compile werror warning becomes error compilation patch add werror function call try_compile properly include supported flag signed erich keane erich.keane verizon.net message 3bcdb52f 8102 4c58 9f7f 64af563ca000,,
4054,6add054579814a609d59abc014c3fdabf4e5913d,leb Natapov <gleb@scylladb.com>, 2016-01-25 18:11:45 +0200, , rpc change overflow underflow input stream processing message scylladb.com,,
4055,f50fd79d56986e5413ae2c9f9891da5ae8e47ed9,leb Natapov <gleb@scylladb.com>, 2016-01-25 17:48:38 +0200, , rpc log error caused connection closed message 1453736918 26679 git send email gleb scylladb.com,,
4056,9a322ecba83c78dc5a31f908a7237bc7976c95f8,leb Natapov <gleb@scylladb.com>, 2016-01-25 17:48:37 +0200, , rpc clarify deserialization error message include origin error error message message 1453736918 26679 git send email gleb scylladb.com,,
4057,6aaf1de585805c9a6837a6da854093b121732d0b,leb Natapov <gleb@scylladb.com>, 2016-01-25 17:48:36 +0200, , rpc append new line logger logger may already message 1453736918 26679 git send email gleb scylladb.com,,
4058,97f418a4f2c146a2ac9d56cc673aea9a13541c4c,lauber Costa <glommer@scylladb.com>, 2016-01-21 13:01:07 -0500, , io_queues register individual class collectd would useful know going inside priority class properly analyze characteristic living system patch change registration mechanism slightly include collectd counter registered class signed glauber costa glommer scylladb.com message 1453399267 18424 git send email glauber scylladb.com,,
4059,8e52055fc33fdc1ee56b78613812ca756b2876e5,lauber Costa <glauber@scylladb.com>, 2016-01-21 13:01:06 -0500, , reactor destroy queue explicitly prevent ordering issue rising destroy queue explicitly end reactor run needed reactor destroyed thread_local destructors queue happens use infrastructure also kept way instance collectd way guarantee destroyed first signed glauber costa glauber scylladb.com message 1453399267 18424 git send email glauber scylladb.com,,
4060,8bb5ba888c7edc7b0895c858395b7e252e2c030f,mnon Heiman <amnon@scylladb.com>, 2016-01-24 12:23:39 +0200, , rpc_impl add pragma one testing need include rpc_impl shoud pragma directive signed amnon heiman amnon scylladb.com message 1453631019 8631 git send email amnon scylladb.com,,
4061,832e73edb896892a74094755fdf3c133dea811fa,mnon Heiman <amnon@scylladb.com>, 2016-01-20 18:43:58 +0200, , rpc add skip patch add ability skip byte input stream without reading useful situation reader read object field doe know read doe know size also add method return set smaller size usefull object need read part stream signed amnon heiman amnon scylladb.com message 1453308238 13414 git send email amnon scylladb.com,,
4062,5c2660badd123be73681cc8feb2c14e9ecd2e287,vi Kivity <avi@scylladb.com>, 2016-01-20 12:52:52 +0200, , reactor block signal early signal handled specific thread block others prevent wrong thread handling signal library case dpdk spawn thread may inherit permissive signal mask handle signal resulting confusing fix blocking signal early library get chance spawn thread see scylladb scylla 601,,
4063,51ecd35a6f7d774875f4d1def22452b5a5007ff2,vi Kivity <avi@scylladb.com>, 2016-01-20 13:29:34 +0200, , reactor replace sigprocmask pthread_sigmask sigprocmask unspecified multithreaded program pthread_sigmask used instead practice equivalent cosmetic change,,
4064,c543a30f8218142e732882ceb1b66327e6d02709,lauber Costa <glauber@scylladb.com>, 2016-01-19 11:44:34 -0500, , fstream remove unused interface interface temporary caller patched remove signed glauber costa glauber scylladb.com message 1453221874 23267 git send email glauber scylladb.com,,
4065,197f0beb0f8b0152c9e73ed277939fc602ee4875,vi Kivity <avi@scylladb.com>, 2016-01-19 20:44:40 +0200, , foreign_ptr remove compatible polymorphic object used anywhere fix 106,,
4066,0516ed0f1f4e98074838c009e8caa136ac5ab734,vi Kivity <avi@scylladb.com>, 2016-01-19 16:31:47 +0200, , http use default file input stream option file_handler need anything fancy,,
4067,2bdb34bef5ea9304afd83de9f48010eb562f67f1,vi Kivity <avi@scylladb.com>, 2016-01-19 16:31:47 +0200, , linecount use default file input stream option need anything fancy,,
4068,c60d2a493954510b291c538670baa2efdee5891e,lauber Costa <glauber@scylladb.com>, 2016-01-18 20:48:20 -0500, , fstream pas offset part option member offset wrongly put option something vary across call like file name property stream note implementation get rid overload defines buffer_size default value avoid ambiguity version pass offset default value option would great offset buffer size guaranteed different type happen ideally everybody pas option modern idiom seems definitely moving direction inside seastar possible get rid overload pass buffer_size completely always require option passed matter fact buffer size passed test seems really reason pas non standard buffer size keeping least since tree user providing temporary overload allows position buffer size specified time possible remove entirely signed glauber costa glauber scylladb.com message 1453168100 12077 git send email glauber scylladb.com,,
4069,109d8fe923203d79e691db54fd38ecb17f7a73cc,vi Kivity <avi@scylladb.com>, 2016-01-19 10:06:36 +0200, , net move posix network stack registration reactor.cc make default stack availble even link without whole archive,,
4070,70a23e37653e74fb961e4d41495c6093019e61e0,vi Kivity <avi@scylladb.com>, 2016-01-19 10:10:15 +0200, , net throw human readable error using unregistered network stack,,
4071,f2401b83c643e0f92f9ba266025f1f24f46a8201,lauber Costa <glauber@scylladb.com>, 2016-01-18 14:13:00 -0500, , io_queue remove pending_io counter usefulness counter overstated first proposed inclusion practice used even looking problem usually looking number pending operation tend enough problem zero impact way force issue extra continuation per request propose remove add back really able justify need future signed glauber costa glauber scylladb.com message 1453144380 30053 git send email glauber scylladb.com,,
4072,f03e9180c1559da2650f4d70ac016c6e97df6f98,vi Kivity <avi@scylladb.com>, 2016-01-18 13:58:50 +0200, , revert merge improve rpc server side statistic reverts commit reversing change made turn scylla doe require per connection statistic cassandra compatibility,,
4073,3f66178207961b696c4da203930599180af8d91f,sabbaab@gmail.com <asabbaab@gmail.com>, 2016-01-18 03:20:11 -0800, , test correction regarding boost.test 1.59 compilation failure signed dawid jurczak dawid_jurek vp.pl message fc540f18 578b 4368 b13c 65eb0a08a590,,
4074,0328d495ab4ef7af410a6ba4b6f20c48953448d9,vi Kivity <avi@scylladb.com>, 2016-01-18 12:40:45 +0200, , merge improve rpc server side statistic make statistic per server instead per connection add gauge resource usage,,
4075,1f5e4bd19133bbcd3446934218fc3840a79eceaf,vi Kivity <avi@scylladb.com>, 2016-01-18 10:41:26 +0200, , rpc add gauge resource usage gauge indicating much memory rpc committed resource used rpc fully committed request blocked,,
4076,4b23e326becbcbeab57a61be5c8a76104683059c,vi Kivity <avi@scylladb.com>, 2016-01-18 10:34:17 +0200, , rpc make server statistic per server per connection connection anonymous statistic interesting also disappear connection broken fix making statistic per server note change statistic api,,
4077,e93cd9dca9dd1d3704fba2028b8a4fb836d3e1c2,vi Kivity <avi@scylladb.com>, 2016-01-17 17:47:23 +0200, , rpc make sure serialize sempahore return future returned handler corresponds completion wait handler executed caller block read tcp connection past memory limit server,,
4078,b8263a47f863ee5febc47a93ee7812c49392c353,vi Kivity <avi@scylladb.com>, 2016-01-17 15:23:19 +0200, , rpc fix support handler returning future no_wait_type future misspelt future void missing wait_for_reply overload handler returning future no_wait_type,,
4079,a8183c1f41e9daea6cde8fcc726df98a6ad07c95,vi Kivity <avi@scylladb.com>, 2016-01-17 11:24:51 +0200, , rpc fix server losing handler move func away happens function used serving verb function movable state lost one round test probably detect handler stateless found gleb,,
4080,3a3bbe57f954a87bf340b24257a73bcc3d71a0cf,vi Kivity <avi@scylladb.com>, 2016-01-15 11:22:12 +0200, , merge fair queue glauber patchset introduces new class fair_queue guarantess discrete request balance period time goal use implement priority class queue past avi suggested maybe merged queue however revisiting stand decision keep separate generic nature minor point actually nice able decouple cross cpu pointer access queue may require outer layer keeping queue clean one functionality may still want introduce multi level class could potentially make easier manage nested class like per cpu class however stand already allows take next step,,
4081,9259502abd509b5455c50cdb7e380b62b83ca546,lauber Costa <glauber@scylladb.com>, 2016-01-14 15:22:18 -0500, ," fair queueing functional testing application designed test queueing fair scheduling mechanism back back run read request loop every shard continuously duration second one need keep mind multiple shard thing sit different queue unless num queue passed adjust accordingly still good case test nevertheless result different queue capacity case example output max request share 10,20 smp duration shard class share 37450 class share 74891 max request share 10,20 smp duration shard class share 66550 class share 133090 max request share 1,99 smp duration shard class share 3926 class share 386293 max request share 10,20,30 smp duration shard class share 28250 class share 56478 class share 84707 max request num queue share 10,10 smp duration shard class share 7821 class share 7821 shard class share 7821 class share 7821 shard class share 7821 class share 7821 shard class share 7821 class share 7821 max request share 10,10 smp duration shard class share 45750 class share 45750 shard class share 45750 class share 45750 shard class share 45749 class share 45749 shard class share 43575 class share 43575 signed glauber costa glauber scylladb.com",,
4082,d55fc8b56aec2e7482cfb33785f68302c3100918,lauber Costa <glauber@scylladb.com>, 2016-01-09 11:31:30 -0500, , fstream add priority class parameter priority class parameter available read write dma interface however much happens fstream interface instead benefit existing user may live tree keep interface doe pas priority class available use default priority class signed glauber costa glauber scylladb.com,,
4083,f766d1fdb6c0c5322e0af3a81833097148fbd828,lauber Costa <glauber@scylladb.com>, 2016-01-09 11:26:47 -0500, , file add priority class argument read writes user dma_ read write interface able pas priority class argument default default priority class queue relevant shard signed glauber costa glauber scylladb.com,,
4084,f259b31cfa2b618bfd550e52f5ded9c492f387d3,lauber Costa <glauber@scylladb.com>, 2016-01-04 21:32:49 -0500, , queue use fair queue instead semaphore fair queue class use implement queue way right processor share queue assigned default priority class power default class applied equally within processor therefore doe achieve fairness among processor within queue application interested fair queueing add priority class manage accordingly signed glauber costa glauber scylladb.com,,
4085,8a92a5b6e202c747c51a8387d8f693cb6af1f7c9,lauber Costa <glauber@scylladb.com>, 2016-01-09 00:58:57 -0500, , test fair queue signed glauber costa glauber scylladb.com,,
4086,5f64b61cd2d41ff5631e3e1114b7c434268839c3,lauber Costa <glauber@scylladb.com>, 2016-01-04 19:56:15 -0500, , fair queue scheduling priority class proposal fair queue class mainly exclusively intended used seastar queue provide form fair scheduling multiple agent example needed arises early scenario number queue number processor would like see processor served equally reality nothing guarantee seen practice processor lagging behind able put request interesting arise application code customary many different generator without kind scheduling hard guarantee serviceability even throttle execution initial implementation given specific balancing period time period queue fair queue class guarantee incoming request various priority_class served rate proportional share user class make sure share add sensible value represent desired distribution signed glauber costa glauber scylladb.com,,
4087,6f9453d34c0344de82c7c44d7a324312cba268e7,vi Kivity <avi@scylladb.com>, 2016-01-14 14:27:30 +0200, , merge rpc resource accounting provide mechanism rpc server limit resource usage limit exceeded rpc stop reading socket blocking client see scylladb scylla 596,,
4088,909987c6585e2888652450f5c483602118237cd3,vi Kivity <avi@scylladb.com>, 2016-01-05 18:39:04 +0200, , test rpc add test resource control send enough message blocked,,
4089,b58f0e683b64d2baa9c9d9830e441370412138c8,vi Kivity <avi@scylladb.com>, 2016-01-05 18:38:25 +0200, , test rpc adjust sstring serializer current serializer protocol sstring serializer use bit rotted,,
4090,04d4887426ede20d8789c661ae04025a2d47644d,vi Kivity <avi@scylladb.com>, 2016-01-05 18:37:06 +0200, , rpc server resource accounting account amount memory rpc prevent using pre set limit default infinite request block memory freed,,
4091,b4cabcd52e99c4a4aaf744c3686c5029b31f3d5f,omasz Grabiec <tgrabiec@scylladb.com>, 2016-01-14 09:39:36 +0100, , core introduce smp invoke_on_all message 1452760776 4930 git send email tgrabiec scylladb.com,,
4092,43e64c20293efc1f7cd6ddcb9fc86321ed32d63c,vi Kivity <avi@scylladb.com>, 2016-01-12 11:45:00 +0200, , resource fix failure low memory machine 2gb resource allocation code subtracts 2gb total machine memory underflows get rest code confused special case low memory machine letting use 500mb seastar message 1452591900 22826 git send email avi scylladb.com,,
4093,fe7a49cc3d4d99b39d454a2e8338953011d49c75,vi Kivity <avi@scylladb.com>, 2016-01-12 11:40:44 +0200, , reactor workaround tmpfs o_direct o_excl bug tmpfs creating file o_direct fails file created mean open attempt drop o_direct fail o_excl specified fix dropping o_excl fail file existed relaxed dma mode hack anyway,,
4094,1b5991204be2271740c08744cf134792d784bd87,leb Natapov <gleb@scylladb.com>, 2016-01-11 20:45:31 +0200, , rpc fix reordering sending client negotiation frame user data negotiation frame queued user data currently queued connection established point user data already queue since negotiation frame sent unconditionally sometimes manages bypass queued user data connection establishment work properly user frame reordered since next one queued negotiation data already queued user data fix properly inserting negotiation frame head queue connection established message scylladb.com,,
4095,ad3577b19034b21c82049573aa1cdc179a658631,vi Kivity <avi@scylladb.com>, 2016-01-07 12:04:00 +0200, , httpd close connection deleting connection participating tcp batch destructor assert close first see scylladb scylla 757 message 1452161040 1215 git send email avi scylladb.com,,
4096,591c139feef23b40a1d037869db3ea959b215679,vi Kivity <avi@scylladb.com>, 2016-01-11 13:31:04 +0200, , reactor support non o_direct capable filesystems filesystems tmpfs aufs used docker support o_direct provide reduced performance way use filesystems relaxed dma command line flag eas testing non production environment,,
4097,191bfd60b21d403ed3f53b8bdd53c84ede7c6145,vi Kivity <avi@scylladb.com>, 2016-01-11 13:27:23 +0200, , test modernize linecount use app_template run instead run_deprecated wait continuation chain complete fix application terminating chance print anything,,
4098,4cf22fbbc8ab34e76ef7b383b99c7b6d28ffb1b5,lauber Costa <glauber@scylladb.com>, 2016-01-06 13:45:10 -0500, , queue destruct within reactor destructor queue currently live unique_ptrs static vector inside reactor shard local creation destroy may destroyed different shard reactor destroyed static member separately work fine soon start stashing complex object queue like shared pointer explicitly check sharding decrementing refcounts start get trouble preparation change way store queue slightly queue stored unique_ptr inside reactor belongs shard responsible creating guarantee destructed right context all_io_queues vector local vector containing raw pointer life long configure function life bit care must taken make sure accessed thread function exited enough synchronization point place guarantee need reorder call bit signed glauber costa glauber scylladb.com message 1452105910 7941 git send email glauber scylladb.com,,
4099,079d1ec4b92c47ead583c798a59f261bfd2897a4,enot Canet <benoit.canet.contrib@gmail.com>, 2016-01-05 20:46:17 +0100, , test use dnsdomainname mkcert.gmk domainname print domainname system dnsdomainname print domain part fqdn barely used anymore make mkcert.gmk fail fresh rackspace fedora install replacing domainname dnsdomainname make script work signed beno canet benoit scylladb.com message 1452023177 3777 git send email benoit scylladb.com,,
4100,d1c332443124abf1641f0e6a6aa3151605ff0a39,lad Zolotarov <vladz@cloudius-systems.com>, 2016-01-05 18:53:11 +0200,101, test memcached workaround possible race flush_all read currently memcached return flush_all scheduled timer going evict element cache however operation came middle timer period e.g timer granularity 1ms operation came 50us last timer event allows read operation arrive handled next timer event thereby cause test fail issue flush_all implementation general see http github.com scylladb seastar issue 101 detail workaround would allow test pas get fixing issue signed vlad zolotarov vladz cloudius systems.com message 1452012791 4410 git send email vladz cloudius systems.com,,
4101,dff4d2c307f316ca72efefb0e789d42373e623a5,lad Zolotarov <vladz@cloudius-systems.com>, 2016-01-05 18:53:10 +0200, , apps memcached reduce error expiration time translation duration rounded second twice delta wall clock monotonic clock calculated allowed near second error reduce error changing delta counter hold clock_type duration value instead second signed vlad zolotarov vladz cloudius systems.com message 1452012791 4410 git send email vladz cloudius systems.com,,
4102,2a2d182ed986908ec0db3578aed31a0ed7e5ebb0,vi Kivity <avi@scylladb.com>, 2016-01-05 18:25:41 +0200, , timer add missing include,,
4103,e7313c10661c68a3ce617c995fc390921bbecd2f,lauber Costa <glauber@scylladb.com>, 2016-01-04 18:35:04 -0500, , core call open_file_dma directly api wrap open_file_dma use place many place call reactor version directly patch change latter match former added benefit allowing make easier change interface needed signed glauber costa glauber scylladb.com message 1451950504 10858 git send email glauber scylladb.com,,
4104,d0bf6f8d0ee1c5ab44d224613dfc3de2d5857615,omasz Grabiec <tgrabiec@scylladb.com>, 2016-01-04 13:50:36 +0100, , core byteorder add missing include message 1451911836 4712 git send email tgrabiec scylladb.com,,
4105,5cffbabeafa94c3b3725b28b62bc3596b1e20f65,adav Har'El <nyh@scylladb.com>, 2015-12-30 01:05:24 +0200, , fix operator std vector core sstring.hh operator implementation std vector debatable seastar pretty printer specific container others doe sstring.hh started thread mailing list discus long operator let correctly one many complication operator overload need namespace second parameter specifically trying define operator std vector definition must std namespace problem caused forgetting subtle work main namespace code work code namespace particular code print sprint boost printing code boost namespace able print vector overload noticed patch add missing namespace std fix problem vector used sprint signed nadav har nyh scylladb.com,,
4106,66fe3e58b42a79f4fed50fe1d34a35d321a6f5bc,vi Kivity <avi@scylladb.com>, 2015-12-30 15:45:22 +0200, , merge rpc negotiation fix gleb,,
4107,de112e2a56d64e988c528405d1bf4cc76e2623e9,vi Kivity <avi@scylladb.com>, 2015-12-30 14:54:58 +0200, , build disable fsanitize vptr harder tried clever detect fsanitize vptr get fixed fixed enough disable unconditionally,,
4108,7a69acd6a5955ee745be5f888f53898daf0e268f,leb Natapov <gleb@scylladb.com>, 2015-12-30 12:55:42 +0200, , rpc fix documentation negotiation procedure fix mention client doe check server negotiation,,
4109,44550817228633b9ed8264cc65d1ca2b7bf8105c,leb Natapov <gleb@scylladb.com>, 2015-12-30 12:57:18 +0200, , rpc make server send negotiation frame back closing connection error allow client detect negotiation failure properly,,
4110,97fc9891aefe3eb5c14ecf5c27a89c423ca7559c,leb Natapov <gleb@scylladb.com>, 2015-12-30 12:56:24 +0200, , rpc fix peer address printing logging,,
4111,d004be268e76480c65490d8b964e0fbe78d1f02a,vi Kivity <avi@scylladb.com>, 2015-12-29 18:41:18 +0200, , merge make rpc robust protocol change gleb software evolves rpc protocol protocol implemented top rpc may need extended support new application feature series make rpc extensible different version mind,,
4112,56b28bbce14bef252018b4e33cf73f5f1098ba5b,leb Natapov <gleb@scylladb.com>, 2015-12-27 17:59:23 +0200, , rpc document rpc protocol,,
4113,c7479ae27e8406f4b4b3b5525cef6a851ef3aeb8,leb Natapov <gleb@scylladb.com>, 2015-12-29 10:57:46 +0200, , new when_all implementation replace when_all implementation simpler faster one faster compile doe use compile time recursion faster runtime since creates continuation,,
4114,d6875e089b96b345a27f1efa1234710cbf613009,leb Natapov <gleb@scylladb.com>, 2015-12-24 13:47:00 +0200, , rpc change message length bit instead expect send message longer,,
4115,6a5cde28cec39cb3319d3f300b5b9dcfd6c9b5fa,leb Natapov <gleb@scylladb.com>, 2015-12-24 13:42:59 +0200, , rpc encode data little endian format instead network order network order big endian primary platform little endian need mangle byte reason,,
4116,e8442798b49e7dbedfa8dea0f717deaa83d701cd,leb Natapov <gleb@scylladb.com>, 2015-12-24 11:42:33 +0200, , rpc abort connection unknown verb aborting connection unknown verb harsh may complicate upgrade instead aborting send exception back,,
4117,53068ceb3489b43ece2a555689d49184e1901d8a,leb Natapov <gleb@scylladb.com>, 2015-12-23 16:29:44 +0200, , rpc add protocol negotiation currently rpc doe support protocol negotiation client server expected implement protocol robust protocol change patch implement protocol feature negotiation used later extend protocol negotiation work exchanging negotiation frame immediately connection establishment negotiation frame look like uint8_t magic sstarrpc uint32_t uint32_t uint32_t len uint8_t data len actual negotiation look like client server  send negotiation frame recv frame check magic disconnect error check required disconnect error send negotiation frame back recv frame,,
4118,e8afec0717c45be7b06ffd60543df729c08c3c35,leb Natapov <gleb@scylladb.com>, 2015-12-22 15:37:03 +0200, , rpc allow extending existing verb backwards compatable way patch allows adding removing replacing additional parameter existing verb return additional value rpc handler suppose verb future int rpc_call long int patch allow modified future int rpc optional long rpc_call long int rpc optional char used binary version definition older version client call rpc optional char disengaged since older version doe send value parameter older version server ignore value sent rpc optional char call callback old signature extending return value work similar way,,
4119,305e01c7c3cdce48bc762d445838cbd35f932bda,lad Zolotarov <vladz@cloudius-systems.com>, 2015-12-27 15:25:26 +0200, , apps memcached fiddle expiration time value usable range patch fix regression introduced commit expiration class used handling element expiration field also triggering flush command therefore may change requested time point value may actually programmed uint32_t value according memcached protocol e.g time point past may programmed absolute time notation however setting never expire value based int64_t big small enough could collide uint32_t based expiration value would job patch reverts set never expire value llong_min ensures minimal value _time collide never expire value next 290k year signed vlad zolotarov vladz cloudius systems.com,,
4120,8b2171e29f27823752a8778aa2d6fa9906c2b0dd,lad Zolotarov <vladz@cloudius-systems.com>, 2015-12-27 12:15:34 +0200, , memcached avoid collision expiration time_point expiration set time point past may translate value time_point lowres_clock avoid simple check _time calculation signed vlad zolotarov vladz cloudius systems.com,,
4121,eedbcfefea983bd510f15d7a1db70b9a44858819,adav Har'El <nyh@scylladb.com>, 2015-12-24 15:27:32 +0200, , tutorial minor spelling correction etc bunch spelling grammer correction clarification text todo cleanup signed nadav har nyh scylladb.com,,
4122,3468401728a6d0ca86f4494ef4b9669134272b9e,adav Har'El <nyh@scylladb.com>, 2015-12-24 11:16:36 +0200, , tutorial expand semaphore section also write new with_semaphore function use case useful useful loop example also explain better use semaphore limit resource like memory directly counting number parallel invocation signed nadav har nyh scylladb.com,,
4123,837fee024e2cf16101c228dc4e3347ec7f522e93,vi Kivity <avi@scylladb.com>, 2015-12-27 12:09:30 +0200, , merge use steady_clock monotonic clock required vlad fix memcached expiration related code avoid excessive syscall amount newly added updated element expiration time delta notation core use steady_clock instead scollectd kill clock_type introduce duration instead renames,,
4124,c12e683940bfedf12556ec7e8d45fef2d24a9dec,leb Natapov <gleb@scylladb.com>, 2015-12-22 15:37:23 +0200, , rpc remove unused code,,
4125,9d5594c69a4367c3a0f0d3f7d3f01117bf61beb1,lad Zolotarov <vladz@cloudius-systems.com>, 2015-12-22 12:54:36 +0200, , core scollectd get rid clock_type alias get rid clock_type alias introduce duration alias std chrono millisecond instead scollectd code really care clock source used timer long capable consistently generate periodical event e.g every default timer object expected provide care however use duration type appropriate resolution worse 1ms therefore introduce explicitly patch signed vlad zolotarov vladz cloudius systems.com,,
4126,d266ea78c6f41e8954c3832beb96e7fbbef2035b,lad Zolotarov <vladz@cloudius-systems.com>, 2015-12-21 14:56:17 +0200, , use instead std chrono steady_clock signed vlad zolotarov vladz cloudius systems.com,,
4127,f671d284a12007b716430d27335ba58baeb8c01e,lad Zolotarov <vladz@cloudius-systems.com>, 2015-12-21 14:46:33 +0200, , rename clock_type emphasize nature clock leave native stack clock_type tcp clock_type defined lowres_clock alone signed vlad zolotarov vladz cloudius systems.com,,
4128,122f4cc0262bf6cc9ea01e02ddd80ccc59d90306,lad Zolotarov <vladz@cloudius-systems.com>, 2015-12-13 14:10:02 +0200, , core reactor use timer std chrono steady_clock instead timer use explicit template parameter add del queue_timer timer signed vlad zolotarov vladz cloudius systems.com,,
4129,64b8cdf65e367dd6a1438564e6cadf50afc887e4,lad Zolotarov <vladz@cloudius-systems.com>, 2015-12-13 12:15:05 +0200, , core reactor rename _timer clearer way signed vlad zolotarov vladz cloudius systems.com,,
4130,2578c34f404f0943ca7aad6f50b1b4a4266590aa,lad Zolotarov <vladz@cloudius-systems.com>, 2015-12-09 12:11:46 +0200, , core use steady_clock monotonic clock required use steady_clock instead monotonic clock required essentially system_clock wall clock therefore may assumed monotonic since wall clock may move backwards due time date adjustment signed vlad zolotarov vladz cloudius systems.com,,
4131,bb45cc6dff5b160d252a8177e3b67c49d80972cb,lad Zolotarov <vladz@cloudius-systems.com>, 2015-12-22 20:24:52 +0200, , apps memcached use lowres_clock instead system_clock main reason patch avoid system call added updated element non zero expiration time form delta current time physical machine time memory read environment like aws would translate syscall therefore good motivation avoid signed vlad zolotarov vladz cloudius systems.com,,
4132,d11d35bd1cffc464bd91ab3a44723f5d70d9563a,lad Zolotarov <vladz@cloudius-systems.com>, 2015-12-22 21:01:09 +0200, , test memcached sleep testing expiration flush increase sleep time one second expiration flush test order take account fact command may come second boundary thus result expiration flushing may seen second later exact requested amount second signed vlad zolotarov vladz cloudius systems.com,,
4133,4c000c4cdfe21829a84ac3706ac45bcad8c2f7cc,vi Kivity <avi@scylladb.com>, 2015-12-22 15:56:14 +0200, , merge fix rpc adaption calle  make rpc accept client server socket instantiation make useable ssl communication fix bug dh_params x509_cert gnutls initialized add verbostiy exception message trying load cert key whatever file ,,
4134,ed03331fe8aa16999d3e478616bd22032b75abbd,adav Har'El <nyh@scylladb.com>, 2015-12-22 12:33:38 +0200,92, do_with optimization do_with commonly used idiom important optimal run time compile time used finally construct then_wrap add additional compile time currently also runtime overhead see issue issue do_with finally lambda returning void future throw case much complexity finally avoided trivial switch using then_wrapped directly signed nadav har nyh scylladb.com,,
4135,168461f138952430e9ba391c2fd59c5b795103d7,alle Wilund <calle@scylladb.com>, 2015-12-17 14:59:15 +0000, , rpc add support user defined socket client server making possible inject ssl rpc mechanism,,
4136,09e7961108318b62fb3faa1e9c2e3f204187a343,alle Wilund <calle@scylladb.com>, 2015-12-21 16:56:07 +0000, , connect add global overload handling local address,,
4137,cb7a1b765892ae6d8cbba1f94c1049bba127b825,alle Wilund <calle@scylladb.com>, 2015-12-21 16:53:09 +0000, , socket_address listen_options add convinience constructor make socket_address constructible ipv4_addr make listen_opts constructible parameter make easier conversion call chain,,
4138,f4bff955b7631569a1eaf1721c85d700a9b33bc4,adav Har'El <nyh@scylladb.com>, 2015-12-17 21:37:47 +0200, , tutorial explain limiting parallelism using semaphore wanted use semaphore scylla code took opportunity document tutorial signed nadav har nyh scylladb.com,,
4139,3231ccfd0066e994053972b2a22f57bebb15f8f7,lauber Costa <glauber@scylladb.com>, 2015-12-17 12:28:38 -0500, , submit_io change pending flush criterion introduction queue mechanism current heuristic flushing async submission kernel batch max_aio ideal slow disk significantly higher queue hold mean never submit right away instead always end relying poller even important system pressure meaning pending request queue start favoring latency batching flush request right away open room pending one sooner rather later applying patch scylladb write workload presence pending dramatically reduces amount pending seen well offer slight increase disk throughput result signed glauber costa glauber scylladb.com,,
4140,3b2500a58f2f3485caaeb5f6771b5b1bd8fc1934,vi Kivity <avi@scylladb.com>, 2015-12-21 15:34:43 +0200, , apps remove defunct apps seastar doe nothing never,,
4141,51154f73df8259dcea5c3416ddb2072018eb8fb9,vi Kivity <avi@scylladb.com>, 2015-12-20 17:29:40 +0200, , semaphore add with_semaphore similar with_lock with_gate acquires semaphore run function release semaphore returning function return value future example future size_t byte static thread_local semaphore resource 1000000 limit 1mb return with_semaphore resource byte byte allocate memory without fearing std bad_alloc   reviewed nadav har nyh scylladb.com,,
4142,e1b011feaabc7acaf3aafe27e8dc93d3e614f008,lad Zolotarov <vladz@cloudius-systems.com>, 2015-12-20 14:25:49 +0200, , script transform wide cpu mask transform wide cpu mask coma notation hwloc distrib doe already signed vlad zolotarov vladz cloudius systems.com,,
4143,fd8bbd3e3d32d23d883e39406ce30a6fded90b12,lauber Costa <glauber@scylladb.com>, 2015-12-16 18:18:37 -0500,90, resource fix build system without hwloc reported lucas fix signed glauber costa glauber scylladb.com,,
4144,757301fad53a7840c5f1d701753813ebffa43f1d,lan Somers <asomers@gmail.com>, 2015-12-19 21:05:45 -0800, , build link libasan library required ubuntu 15.10 arch linux version otherwise seastar program abort startup error message similar  9523 asan runtime doe come first initial library list either link runtime application manually preload ld_preload signed alan somers asomers gmail.com,,
4145,e14912aca2d7633cbb0e848cd8d303cbdb63cdbe,vi Kivity <avi@scylladb.com>, 2015-12-19 16:12:30 +0200, , use sys_membarrier available,,
4146,f7b5dbb01075e9f2e1caa66878f45c5afc51ae65,alle Wilund <calle@scylladb.com>, 2015-12-17 16:56:14 +0000, , make file read exception informative,,
4147,dca627a75f586f220669c174839b7d2856451901,alle Wilund <calle@scylladb.com>, 2015-12-17 16:55:11 +0000, , bugfix dh_params x509 cert initialize gnutls,,
4148,5495d99c0f67eda9cbea3fcfae418b0297dff5f9,vi Kivity <avi@scylladb.com>, 2015-12-16 19:32:54 +0200, , build add missing library,,
4149,b44d72947bcb24954e2a81440b5e3a9fb69a68a0,vi Kivity <avi@scylladb.com>, 2015-12-16 17:41:06 +0200, , merge properly distribute queue glauber using hwloc_distrib caused problem queue scheme since cpu found topology running system solved reusing topology already calculated cpu allocation,,
4150,e3e3cda9ed569cdaff42fb2ba79356d5773ed828,lauber Costa <glauber@scylladb.com>, 2015-12-16 09:22:16 -0500, , resource reuse topology allocating queue return cpu queue together reinitialize topology simpler change made topology like restricting specific cpu set conserved fix bug would cause alloation queue break cpuset used signed glauber costa glauber scylladb.com,,
4151,b43d1324f62f26fb297b013a41ffdbc3718c6200,lauber Costa <glauber@scylladb.com>, 2015-12-16 09:07:43 -0500, , resource make allocate return cpu queue currently two different function return queue cpu share quite bit state gain considerable amount single function allocating right patch doe reorganization moving upwards static adjusting return value later patch integrate tighter sharing topology signed glauber costa glauber scylladb.com,,
4152,676520939b58f77dff134430185e8e5a8dce0beb,lauber Costa <glauber@scylladb.com>, 2015-12-15 17:15:32 -0500, , queue make const like start signed glauber costa glauber scylladb.com,,
4153,a78be0e7b10633e0157ee62b6069cff01539d5dc,vi Kivity <avi@scylladb.com>, 2015-12-16 17:02:47 +0200, , reactor allow poll time virtualized environment virtual machine ipis significantly slower slows signal used wake sleeping shard mprotect call used insert memory barrier non sleeping shard slowdown dominates poll time system end spending time tgkill mprotect extend poll time virtualized environment prevents,,
4154,808ea9da0bae3386ed32b36438ce367e0f455f47,vi Kivity <avi@scylladb.com>, 2015-12-16 16:18:02 +0200, , reactor fix idle poll limit commit ad07a2e98 inadvertantly changed idle poll timeout 200us 200ns cause machine fall asleep early large machine cause mprotect call needed contend kernel semaphore everything ridiculously slow,,
4155,7a925e556a4dd4e99d7c30a98ee863be14ea7fe5,lauber Costa <glauber@scylladb.com>, 2015-12-15 12:21:48 -0500, , reactor use vector unique_ptr queue current design explicit new artifact earlier design object necessarily allocated correct processor really need use naked pointer anything like let use unique_ptrs instead without anything fancy around signed glauber costa glauber scylladb.com,,
4156,3bfa4fbed54013518cd74f65856d883c4dd9f75c,lauber Costa <glauber@scylladb.com>, 2015-12-15 12:21:47 -0500, , queue make queue really part reactor avi latest review asked move all_io_queues inside reactor static member though except kept declaring reactor.cc without reactor specifier effect static member reactor nobody outside member one actually used bug per definetely initial intention signed glauber costa glauber scylladb.com,,
4157,294ea308a891a7bb9ca12b2f8194aef0ba9c3ed0,vi Kivity <avi@scylladb.com>, 2015-12-15 16:46:56 +0200, , merge queue glauber patchset implement seastar queue object mechanism modern ssds see latency increase throughput gain certain number operation flight worse yet scenario lead trashing behavior latency tremendously much second amazon ec2 disk instance queue request better passing disk allow use information throttle client even avoid trashing first place patchset doe including two new command line option seastar max request determines maximum system wide amount request system handle num queue determines many processor handling particularly useful number processor high compared number allowed disk operation,,
4158,d5ab9719e3e2a3bc3e0b7db84e870247fb1315c8,lauber Costa <glauber@scylladb.com>, 2015-12-14 13:44:57 -0500, , reactor increment also deal file use check make sure given directory support direct however would like use check file life directory support direct would parse file component call directory parameter much better try opening file directly note calling open_file_dma already provide exception file life directory doe support direct error message get test much informative signed glauber costa glauber scylladb.com,,
4159,a8e24bc44285e762d9b59959324a5f386d6170ca,lauber Costa <glauber@scylladb.com>, 2015-12-09 17:46:10 -0600, , queue far tested seastar child application environment disk fast enough consume however many request processor would throw started running machine slow disk situation change considerably processor fast keep throwing request disk since disk process timely fashion pile situation made much worse fact modern ssds increase throughput request certain point throwing request disk merely trashing latency increase request without visible increase throughput make request piling worse solution problem vary application application however likely involve throttling incoming request also since want avoid trashing disk performance queue request instead allowing queued disk easily export information queued request application know act despite throttling application business proposal core infrastructure life seastar proper although entirely possible leave seastar alone favor application request queue prevent request enter infrastructure favoured seastar based solution common infrastructure application would eventually need seastar better position make sure request accounted application side solution would capture writes read potentially many place increasing complexity queue request patchset introduces queue queue unit responsible coordinating initiation behalf group processor system feature fast enough disk expect processor handle number queue equal number processor slower disk number request needed saturate disk low scenario one queue per processor would force serialize everything even processor issuing request therefore expect run smaller number queue request queueing logical next step allowing request priority current solution treat request doe even differentiate read writes future work separate request separate priority queue dynamically discover amount queue request disk handle signed glauber costa glauber scylladb.com,,
4160,51661b31ab0fdb250d334a6e0c0bbbb66602b82e,lauber Costa <glauber@scylladb.com>, 2015-12-14 16:36:02 -0500, , resource commonize code hwloc_distrib current call hwloc_distrib quite ugly basically correct api version dependent need encode every caller fine single caller start problem let encode way easily reused later caller creating raii object play role previous defer method signed glauber costa glauber scylladb.com,,
4161,21fa918b6a33c7578d5b19fc059d0036d9671b56,vi Kivity <avi@scylladb.com>, 2015-12-14 16:48:01 +0200, , merge ssl initial certificate validation calle add trust store based certificate verification session apps ensure use properly signed certificate appropriate trust chain server client also import default system trust updated test reflect added test failure condition,,
4162,dbeea93f3f4327aaf6eba56bc05314fb257f880d,adav Har'El <nyh@scylladb.com>, 2015-12-14 11:32:12 +0200, , tutorial.md remove inaccurate statement x86 remove inaccurate irrelevant statement pae really offer bit virtual address space physical x86 perhaps theoretically support bit address actual implementation limited bit linux user space half detail really relevant seastar waste precious time space tutorial signed nadav har nyh scylladb.com,,
4163,e698933759cf01eff19593972c4b8897b2acff13,alle Wilund <calle@scylladb.com>, 2015-12-09 15:34:45 +0100, , add method import default system trust i.e let installed gnutls find load chain,,
4164,fd4d19908fa8c4942043d90d228aa5be5210ba8e,alle Wilund <calle@scylladb.com>, 2015-12-09 14:49:30 +0100, , add socket wrapping method server side comment doc fix,,
4165,d23516ed318b05a33136bcaff27304d0f1036754,vi Kivity <avi@scylladb.com>, 2015-12-14 10:33:07 +0200, , build verify installed compiler date,,
4166,a6bf04469e19185c7e520a1febec88537c17a95d,vi Kivity <avi@scylladb.com>, 2015-12-14 10:26:13 +0200, , build complain fossil version gnutls installed,,
4167,ae73b69a71dfae99698352b60085109b2aa6bb28,vi Kivity <avi@scylladb.com>, 2015-12-14 10:05:57 +0200, , build fix debian naming gnutls devel package,,
4168,1dc612a8075e1bfefae750704009244817bc8fd3,vi Kivity <avi@scylladb.com>, 2015-12-14 09:57:36 +0200, , build add configure time check gnutls devel,,
4169,1d01337c59ad410875a715a722b2cdfa501d9a9f,adav Har'El <nyh@scylladb.com>, 2015-12-13 11:42:26 +0200, , tutorial.md introduction asynchrnous programming add tutorial introduction section asynchronous programming needed moreover introduce four challenge seastar designed solve allow complex server everything non blocking performance modern machine suitable programming language patch also contains change elsewhere document signed nadav har nyh scylladb.com,,
4170,6fa2354598d9049d03666f1a9e0d40fb1bf1d1b3,lauber Costa <glauber@scylladb.com>, 2015-12-10 12:07:14 -0600, , reactor define shard_id type simple typedef since want prevent used standard unsigned used index many place begin main goal allow make clear statement role particular unsigned need signed glauber costa glauber scylladb.com,,
4171,6916846835b73dbbaca635894b488d96a0b52386,lauber Costa <glauber@scylladb.com>, 2015-12-09 17:46:21 -0600, , semaphore provide api query number waiter let know busy given semaphore simplify caller since track signed glauber costa glauber scylladb.com,,
4172,117d564b02a901168e0753b075988b7eab8660af,lauber Costa <glauber@scylladb.com>, 2015-12-09 17:41:11 -0600, , document new requirement submit_io fact submit_io may submit function different processor non obvious documented signed glauber costa glauber scylladb.com,,
4173,4280427a0ce5e03ca6e34d8939fce2841be4be3a,lauber Costa <glauber@scylladb.com>, 2015-12-09 17:34:28 -0600, , read write_dma pas vector lambda iov version since pas lambda another processor advisable move vector inside lambda said vector destructed lambda finish point different processor theory use foreign pointer achieve however ideal foreign pointer moved copied submit_io_write submit_io_read submit_io take function value although could changed passing value sensible decision moreover importantly reason really use foreign pointer need keep object alive lambda need know content pointer signed glauber costa glauber scylladb.com,,
4174,5b9e3da0fdcd978ea0ed34043470b49a651ce982,vi Kivity <avi@scylladb.com>, 2015-12-10 18:10:42 +0200, , merge rpc cleanup improvement gleb main object series introduce back feedback mechanism no_wait messaged upper layer need bookkeeping,,
4175,28994fb8bc799f0dc921c5bcba7de97854930107,omasz Grabiec <tgrabiec@scylladb.com>, 2015-12-10 13:13:05 +0100, , shared_future add missing include,,
4176,38eec4b9f8387c3848356301f9868099f50ca297,leb Natapov <gleb@scylladb.com>, 2015-12-10 12:55:55 +0200, , rpc send message timed already,,
4177,c14b3217b9b73a322ca4397518ad5934ac216cbc,leb Natapov <gleb@scylladb.com>, 2015-12-10 11:53:07 +0200, , rpc wait data sent returning ready future rpc call currently way no_wait call know data still queued output queue may cause queue much data patch provides feedback no_wait call allows throttle sending needed,,
4178,da861e382368f00b1833ce2bc1199f8acca061fb,leb Natapov <gleb@scylladb.com>, 2015-12-10 11:30:48 +0200, , rpc drop needle do_withs outpust_stream write sstring copy data form sstring mean point keeping alive till write completes,,
4179,07a3f8b2e901c06e90f5bbaddbe64095acf3bc05,leb Natapov <gleb@scylladb.com>, 2015-12-10 11:18:41 +0200, , rpc wait output stream ready no_wait message reply path currently no_wait message add continuation output stream waiting queue send nothing eventually fix,,
4180,0c9c3951ebb98d36c6ded4f22f1c84908399da38,lauber Costa <glauber@scylladb.com>, 2015-12-09 17:06:29 -0600, , read write_dma pas lambda capture within queue framework function may executed processor originated avoid complication let pas pointer live cpu pas pointer access _fd member nothing else easily avoid passing alone capture signed glauber costa glauber scylladb.com,,
4181,ad07a2e984746bba04964a6f2fa96c5d48f30a30,vi Kivity <avi@scylladb.com>, 2015-12-09 18:57:23 +0200, , reactor add command line option disable sleep mode named poll mode,,
4182,61c593398ec65ccdcf8374e2d7b1ceb651a2b2a3,alle Wilund <calle@scylladb.com>, 2015-12-09 14:18:00 +0100, , enable certificate validation enables trust based trust store verification signer cert naming handle verification server provide signed certificate client side verify imported trust store pem client side provides expected name server peer name also checked updated test use proper trust cert chain added test expected fails also added small make file generate snakeoil trust chain,,
4183,c5e595b71bd56da6fad88918d7ec02387d28a122,vi Kivity <avi@scylladb.com>, 2015-12-09 16:46:29 +0200, , memory strict numa binding find memory local node may happen odd smp specification better use non local memory abort,,
4184,0b6cb1732fe8f61c91d1938a32185bf763c99291,vi Kivity <avi@scylladb.com>, 2015-12-09 16:38:55 +0200, , reactor let resource code specify default memory reserve instead hard coding 512m bypassing clever memory reserve code let resource code compute default,,
4185,351a17bd0e333cfc9cefb278842532f0d74a8cb6,vi Kivity <avi@scylladb.com>, 2015-12-06 20:05:38 +0200, , resource reserve even memory hwloc compiled hwloc seem account kernel reserved memory double reserve compensate,,
4186,3b092b4fd53f3c3c3dca8ac3a2d4ef1b888c3acc,alle Wilund <calle@scylladb.com>, 2015-12-09 13:54:08 +0100, , handle eof without data sent check eof source get session well underlying pull method,,
4187,44f3e0b4faa3d59c569243c339e1811774c69959,alle Wilund <calle@scylladb.com>, 2015-12-09 13:52:49 +0100, , add x509 cert wrapper wholly incomplete method,,
4188,5dc22fa4fd3c0c624a296ebb16850fff120fb2a6,vi Kivity <avi@scylladb.com>, 2015-12-09 12:29:35 +0200, , future add repeat action return value given asyncaction functor return future optional call repeatedly return engaged optional return value future useful similar repeat except yes return indicated engaged optional also associated value returned caller,,
4189,9f9182e4cef251ffbb7bd542e507a016bb5d9b5f,vi Kivity <avi@scylladb.com>, 2015-12-09 10:56:49 +0200, , merge sleep mode support patchset add sleep mode seastar work seastar sleep instead polling accomplished adding two new method pollers first responsible setting notification poller returning false failed event already arrived second tear work done first reactor main loop call method idle extended period time native stack pollers converted mean running native stack poll usual tested httpd scylla,,
4190,d499ad656a523aacd01780f89047765923d11077,vi Kivity <avi@scylladb.com>, 2015-12-07 10:03:47 +0200, , future add futurize from_tuple tuple allows packing result future get back future,,
4191,572b14f31b2cdc4bb27a88516291dc8b937eaf90,vi Kivity <avi@scylladb.com>, 2015-12-08 18:39:08 +0200, , reactor replace old style lambda poller constructor static function remove ugly sfinae,,
4192,b0f257bd64b6327c497d1b1920be1967a3075cbe,vi Kivity <avi@scylladb.com>, 2015-12-08 12:20:45 +0200, , reactor sleep mode idle enter sleep mode switching pollers interrupt mode calling epoll_pwait infinite timeout signal enabled,,
4193,4942016fb914ea46a974f7b3747e694f3df4cfe7,vi Kivity <avi@scylladb.com>, 2015-12-08 12:26:55 +0200, , reactor switch task quota timer point sending signal sleeping otherwise descheduled use cpu time clock instead,,
4194,23170c4d319b1db5c255abd567304de574d4a373,vi Kivity <avi@scylladb.com>, 2015-12-07 17:28:24 +0200, , reactor interrupt mode support epoll since sleeping epoll_pwait need work hard epoll_pwait wake anything arrives registered,,
4195,cc3b20e29249ae446231c3d3b705aa40ef9b1ba6,vi Kivity <avi@scylladb.com>, 2015-12-07 17:28:24 +0200, , reactor interrupt mode support smp queue introduce reactor _sleeping variable check sending message destination asleep wake signal read write test like require full memory barrier insert instead code set _sleeping invokes magic make sure thread execute barrier since falling asleep rare compared polling higher cost magic barrier compensated cheaper polling,,
4196,7b91585ec6f01d4dacc33a9e7d4a714961f57fc4,vi Kivity <avi@scylladb.com>, 2015-12-07 17:28:24 +0200, , reactor interrupt mode support low resolution timer since low resolution timer signal driven wakeup event compensate create arm highres timer nearest lowres wakeup entering interrupt mode highres timer interrupt wake right time,,
4197,0a07b5ef5249cff0f64280dd7313af452dcf067b,vi Kivity <avi@scylladb.com>, 2015-12-07 17:28:24 +0200, , reactor interrupt mode support cross shard free drain event poller happen sleep need wake since user visible effect,,
4198,ee3cf9c6f1b025a0d1fe5c31f027f53195d9d5cd,vi Kivity <avi@scylladb.com>, 2015-12-07 17:28:24 +0200, , reactor interrupt mode support aio batch submit poller completely passive wait internally generated event sleep event generated nothing need done,,
4199,6403b24c12560836bedfc9000aa98ac50a98e162,vi Kivity <avi@scylladb.com>, 2015-12-07 17:28:24 +0200, , reactor interrupt mode support tcp batch polling poller completely passive wait internally generated event sleep event generated nothing need done,,
4200,47cdb913537d5753296b9b61fda18814a51b093a,vi Kivity <avi@scylladb.com>, 2015-12-07 17:25:20 +0200, , reactor interrupt mode signal switching interrupt mode signal poller need mask signal avoid race condition signal fire last check sleep active sigmask saved reactor since need use calling epoll_pwait,,
4201,30b3e9ecf32840e79aa5de35dadf97f2059b2e5c,vi Kivity <avi@scylladb.com>, 2015-12-07 17:22:39 +0200, , reactor interrupt mode support completion long pending aios nothing much need simply refuse entry poll mode aio complete soon enough shall lot work,,
4202,ea2b1ac52368745426e520cbed4ad7491e583402,vi Kivity <avi@scylladb.com>, 2015-12-07 17:18:46 +0200, , reactor allow pollers support interrupt mode allow pollers support interrupt mode implementing pair method notifies poller shard sleep allows poller abort entry sleep returning false notifies poller shard switching back poll mode poller take action need switch monitored resource mode allows wake main loop,,
4203,c7f736532b69a6b0a010580a61234b86c32fea67,vi Kivity <avi@scylladb.com>, 2015-12-07 15:40:45 +0200, , reactor move lowres timer expiration function tidier help patch,,
4204,e2bc513a4e974535b69f2ec9f50fe1360b8decdc,vi Kivity <avi@scylladb.com>, 2015-12-07 15:33:19 +0200, , reactor move tcp batch flush lambda function tidier help following patch,,
4205,b55ce3cd86ff2b69ba77aff8ec8855b2f9b73b45,vi Kivity <avi@scylladb.com>, 2015-12-07 15:28:21 +0200, , reactor fix return value return value ought indicate whether work done cycle,,
4206,ce5ef26ee90ae2a416d0c0b94ef7ac026cf68b35,vi Kivity <avi@scylladb.com>, 2015-12-07 15:15:32 +0200, , reactor rename pollfn return value indicates whether work done whether work expected rename add comment reflect actual practice,,
4207,c7d9b75d591b98c25c99254c7986b3afd9feb9c2,vi Kivity <avi@scylladb.com>, 2015-12-08 11:48:27 +0200, , reactor move start_epoll line,,
4208,18b8aa1dc0d3fb863fd3072016ef3ee6b4357093,vi Kivity <avi@scylladb.com>, 2015-12-08 11:40:35 +0200, , introduce internal function cause memory barrier executed thread useful memory barrier executed often actually needed rarely function memory barrier forced actually needed,,
4209,a81f6d88b36f5939d115ebde70dd04c4d880b410,alle Wilund <calle@scylladb.com>, 2015-12-07 16:23:14 +0100, , add missing destructor dh_params impl fix asan error,,
4210,337db839c12e0b0ffd1a5e0f1f1eba43cdf384ea,alle Wilund <calle@scylladb.com>, 2015-12-07 15:22:47 +0100, , socket fix add missing noexcept constructor move fixed build failure new future restriction,,
4211,755d0009de7beb630192b618b0640abd9bb5937e,vi Kivity <avi@scylladb.com>, 2015-12-07 16:00:08 +0200, , merge initial ssl socket support calle thin wrapper layer using gnutls though exposed per either creating post connect wrapping socket ssl layer implement future using gnutls async support internal state machine handling see code comment handle server client endpoint pem der cert key import key generation import patch series contains small change _impl type expose lower level upwards since layer need access non buffered data conduit small test demonstrates ssl http connection client server ping pong loop,,
4212,fc9df576a4d439cb92a3baeb39ab20036999816d,alle Wilund <calle@scylladb.com>, 2015-12-07 13:43:14 +0100, , readme.md update dependency gnutls devel,,
4213,13250b5989fb069a25e8685c28580b02446be4c8,alle Wilund <calle@scylladb.com>, 2015-11-24 11:04:48 +0100, , tls_test initial ssl test simplistic client server test,,
4214,f0696c7d97c27618843e27012e755d23eef68361,alle Wilund <calle@scylladb.com>, 2015-11-24 11:04:17 +0100, , initial implementation thin wrapper around gnutls provide transparent ssl layer seastar gnutls async support provide future integration see code comment detail impl,,
4215,d40453bf71810d318fdd059cbb5c72f573d23a2c,leb Natapov <gleb@scylladb.com>, 2015-12-06 16:57:15 +0200, , memory fix size_to_idx calculation size_to_idx use floor log2 size bit use ceil instead cause bigger needed slab used allocation waist memory,,
4216,390c2b7a41597b79da6c758f72b3e10eabcfa719,lad Zolotarov <vladz@cloudius-systems.com>, 2015-11-30 01:56:49 +0200, , core prevent explicit call fact may called directly dangerous even integer value since user may provide format like 0500d cause internal buffer overrun patch hide inside basic_sstring class making static private method would impossible call directly signed vlad zolotarov vladz cloudius systems.com,,
4217,8c8607957168539bf5400611c609090c5f6714e2,lad Zolotarov <vladz@cloudius-systems.com>, 2015-11-30 01:56:48 +0200, , core always use format floating point value current implementation to_sstring function may cause memory overrun trashing floating point value internal buffer sizeof value type byte output string may enough floating point value e.g float value like since to_string float format printf format hand allow use integer value induced upper estimate output string length sizeof value type since cover longest floating point value output format float byte value double byte value long double byte value way may significantly simplify implementation ensuring memory trashing signed vlad zolotarov vladz cloudius systems.com,,
4218,c6a3d3a069f6d4a7348df69ea1d9d01ce9f0776d,lad Zolotarov <vladz@cloudius-systems.com>, 2015-11-30 01:56:47 +0200, , core to_sstring cleanup get rid unused void nullptr parameter signed vlad zolotarov vladz cloudius systems.com,,
4219,ade598722a38344f0aa6d1199dfe875a63963d50,mnon Heiman <amnon@scylladb.com>, 2015-12-06 09:51:02 +0200, , add wrapper file_exists add file_exists wrapper seastar.hh signed amnon heiman amnon scylladb.com,,
4220,9680d059a782b23a6523a8253defb89f5066f64f,mnon Heiman <amnon@scylladb.com>, 2015-12-06 09:51:01 +0200, , reactor add file_exists method file_exists method method return true file exists false file_exists throw exception error,,
4221,da8649c02d16dc771b132297b5eee5b16adb0f1a,omasz Grabiec <tgrabiec@scylladb.com>, 2015-12-03 19:51:55 +0100, , make movable,,
4222,74519048afc6696f187050e5c3a39d1dc1513591,vi Kivity <avi@scylladb.com>, 2015-12-03 17:25:45 +0200, , merge script fix vlad ban irqbalance moving nic irqs exclude cpu0 hyper threading sibling rps configuration configure xps add separate mode multi queue nics equally distribute irqs among cpu instead binding cpu0 configure rps set backlog limit ,,
4223,a6a94ab3278d63eabb4dd8aea410ab861f21b079,lad Zolotarov <vladz@cloudius-systems.com>, 2015-12-02 19:22:21 +0200, , script increase backlog size increase socket listen yet acknowledged pending connection backlog signed vlad zolotarov vladz cloudius systems.com,,
4224,81f8fc6413cbbfaeebe9d1df03189ec08bf786fb,lad Zolotarov <vladz@cloudius-systems.com>, 2015-12-02 18:42:58 +0200, , script add new mode nics add new mode multi queue nics equally distribute irqs among cpu configure rps signed vlad zolotarov vladz cloudius systems.com,,
4225,f26146a9a9976a174a54b89aa7833c065d221bec,lad Zolotarov <vladz@cloudius-systems.com>, 2015-12-02 12:08:13 +0200, , script configure xps distribute available xps queue available cpu since seastar application use specific socket specific shard configuring xps select queue according cpu opposed hash always beneficial signed vlad zolotarov vladz cloudius systems.com,,
4226,dc5341bdf2982af70b95902b82837bf5ef99fd28,lad Zolotarov <vladz@cloudius-systems.com>, 2015-11-29 17:29:18 +0200, , script exclude cpu0 sibling rps exclude cpu0 hyper threading sibling handling rps make masking creation logic general use hwloc distrib hwloc calc rps mask creation instead manually signed vlad zolotarov vladz cloudius systems.com,,
4227,8e1f63bb1f5201bec9b621e5dd9795b7fa90a417,lad Zolotarov <vladz@cloudius-systems.com>, 2015-11-29 15:23:05 +0200, , script ban nic irqs moved irqbalance irqbalance may change nic irqs affinity therefore must prevented change signed vlad zolotarov vladz cloudius systems.com,,
4228,c31cac24ddb8b3ace58261094618bf8b88adda9a,leb Natapov <gleb@scylladb.com>, 2015-12-03 14:27:09 +0200, , avoid allocation nothing,,
4229,3916a35932cd5c636818f6f02c9cd1d4da07038b,alle Wilund <calle@scylladb.com>, 2015-11-30 15:56:15 +0100, , network_stack refactor socket impl interface cleanup move declaration socket type reactor move declaration socket impl type private header needed actual impl socket modify provide sink source modify provide actual stream input output modify shutdown method return future clean shutdown requires final handshake note app code modified use removed code needed public reactor.hh reduce code dup network_stacks also refactored return impl type _not_ change lot app code still stack impl directly really required implementation doe make cleaner,,
4230,a3bd0ee0f762dfc4fcc20a029c143aeb147fd6b3,vi Kivity <avi@scylladb.com>, 2015-12-02 11:27:26 +0200, , merge introduce shared_future tomasz,,
4231,fc0919f1298ce78314ff3dfcdbb7d42c344f3916,omasz Grabiec <tgrabiec@scylladb.com>, 2015-11-29 17:55:23 +0100, , core introduce shared_future like future allows multiple asynchronous process wait result useful single producer multiple consumer scenario like example cache asynchronous value loading,,
4232,febc4c737a35284ebed0e5f2df5bb39786c291a9,omasz Grabiec <tgrabiec@scylladb.com>, 2015-12-01 09:14:44 +0100, , core future make noexcept needed making shared_future resolve noexecpt,,
4233,bf18b2c1895a1a2066af6dc600e106cf57ca633b,omasz Grabiec <tgrabiec@scylladb.com>, 2015-12-01 09:14:16 +0100, , core future_state make state getters non destructive non rvalue ref shared_future need access state non destructive manner cleaner getters non destructive const non const access getters destroy state value change future get semantics remainds always destructive,,
4234,17a5aa2cde9d1ef558d2b9b4a042493647567fa9,omasz Grabiec <tgrabiec@scylladb.com>, 2015-12-02 09:43:42 +0100, , core future drop redundant move_noexcept flag always true,,
4235,6c0cd04a8d94f02ad7efd75d7ef19c2d442f2b5e,omasz Grabiec <tgrabiec@scylladb.com>, 2015-12-02 09:30:42 +0100, , core future add static asserts type noexcept guarantee express assumption already made various place provide noexcept guarantee,,
4236,4db9919036618b64f0e76614db413439aee0cf67,omasz Grabiec <tgrabiec@scylladb.com>, 2015-12-02 09:29:25 +0100, , file mark move constructor noexcept,,
4237,5deedb33cb6ca584d5ee9838e6fbc3fc650b7b0d,awe Dziepak <pdziepak@scylladb.com>, 2015-11-26 14:33:13 +0100, , memory use size instead old_size shrink memory block signed pawe dziepak pdziepak scylladb.com,,
4238,9392fbeb591a6aa66f8f2209be75d51aedd1592c,leb Natapov <gleb@scylladb.com>, 2015-11-23 14:38:40 +0200, , rpc stop client error state client error state already closed process closed,,
4239,aff91d2540810fb7d84a71918751f79b4b55f86d,adav Har'El <nyh@scylladb.com>, 2015-11-23 14:40:45 +0200,77, test fix use free timertest bug test sometimes cause use free reported sanitizer debug build problem callback std function held inside object callback deletes also deletes std function executed commit 902d5b2 exactly bug sleep function fix work free future returned since time know callback done fix tested vlad zolotarov vladz scylladb.com signed nadav har nyh scylladb.com,,
4240,84cb6df1d30186e99ffbd632f786146626a2b584,leb Natapov <gleb@scylladb.com>, 2015-11-15 18:51:52 +0200, , rpc convert eof exception eof exceptional condition need convert one handle directly instead also log eof happens middle frame,,
4241,f39742acf87d66547a69c83d2df3b3d78c224e28,leb Natapov <gleb@scylladb.com>, 2015-11-17 13:13:55 +0200, , reactor remove debug output command line option validation,,
4242,95ddb8e243913e69594709e70bf9e64ba0aaffa1,leb Natapov <gleb@scylladb.com>, 2015-11-15 14:48:09 +0200, , rpc allow auxiliary data stored client_info sometimes server rpc handler want know static information client behalf serf request point passing information request doe change client lifetime allow client pas information store client_info accessible rpc handler,,
4243,d9a12e5adb8c3815456a97afa9abc78b946abf70,leb Natapov <gleb@scylladb.com>, 2015-11-15 14:48:08 +0200, , rpc allow non const client_info passed rpc handler,,
4244,20bf03b930c3900bb897c24419451bdca476b3ce,leb Natapov <gleb@scylladb.com>, 2015-11-11 17:52:25 +0200, , throw exception get exception pointer exception throwing expensive strive minimize much possible,,
4245,6bfb607e559da7d17cce0709eb14b399445d24a8,mnon Heiman <amnon@scylladb.com>, 2015-11-10 15:15:59 +0200, , adding timeout counter rpc patch add timeout counter rpc stats increment sent message recieves timeout signed amnon heiman amnon scylladb.com,,
4246,8eb730a3deaaf523938d0e4dbaa2f8f11e15a639,adav Har'El <nyh@scylladb.com>, 2015-11-10 23:27:49 +0200, , configure.py support pkg config release 0.28 older version pkg config release 0.28 see http archive pkg config 2013 january 000912.html bug duplicate compilation flag deleted included use whole archive apprear twice libs list one removed one set flag surround seastar library one surround dpdk library flag dropped reordered compilation seastar app using pkg config work patch replaces construct whole archive lseastar whole archive equivalent space free one whole archive lseastar whole archive pkg config treat whole thing one single parameter remove part duplicate anything else signed nadav har nyh scylladb.com,,
4247,016cf94679ca66ad9f1296b69b78bd2488369da6,adav Har'El <nyh@scylladb.com>, 2015-11-05 12:24:09 +0200, , future forget warn ignored exception future destroyed without handling exception print warning message bad programming practice might hide important exception however one similar case warn imagine fiber deliberately started parallel ignoring returned future e.g. future something.then note return want run parallel   future returned exceptional ignored warn future object destroyed immediately becomes exceptional remains future promise promise destroyed still exceptional warning printed patch add warning message add future destruction also promise destruction signed nadav har nyh scylladb.com,,
4248,6c4144e8ea1a94785498604bde8b459691fd8458,adav Har'El <nyh@scylladb.com>, 2015-11-05 12:11:00 +0200, , tutorial continue network api section explain read read give complete tcp echo server rfc 862 example signed nadav har nyh scylladb.com,,
4249,5c10d3e7ae68f6254a0e63846a2910b88b076b0e,vi Kivity <avi@scylladb.com>, 2015-11-05 13:17:10 +0200, , reactor conservative signal handling block alarm_signal setting timer even though arm yet unblock setting signal handler even though arm yet hopefully cure immediate crash,,
4250,0ddc46ffd13b71d7fd42189f1d03f7635f269215,adav Har'El <nyh@scylladb.com>, 2015-11-05 10:48:02 +0200, , output_stream add write variant already number output_stream write overload missed one taking variant convenient writing output_stream read input_stream code almost identical write net packet variant already useful user normally access net packet signed nadav har nyh scylladb.com,,
4251,84e0a3a8bae7d67cc1822a300e03841211a0da6a,adav Har'El <nyh@scylladb.com>, 2015-11-05 10:39:33 +0200, , input_stream add read method read input_stream one normally consume method quite elaborate set patch introduces simpler read method returning future containing data empty end stream caller read control many character read use read_exactly need read specific number character signed nadav har nyh scylladb.com,,
4252,05b41b858190d003b71cb6ac190e5087e89b712a,vi Kivity <avi@scylladb.com>, 2015-11-04 00:14:28 +0200, , resource fix system memory reservation commit increased system memory reservation available memory configuration hwloc installed old default 256mb much small retained fix extracting reservation code common function using,,
4253,47aff18df2d195de402bee38c53ea4cdcad2fec5,vi Kivity <avi@scylladb.com>, 2015-11-03 11:37:48 +0200, , add .gitattributes improve git diff output,,
4254,e714a5c969ed71ec12dca53cd8f12e4bc0a81cb0,adav Har'El <nyh@cloudius-systems.com>, 2015-11-03 11:30:49 +0200, , readme remove irrelevant osv instruction remove irrelevant instruction left behind osv readme signed nadav har nyh cloudius systems.com,,
4255,db3e6dc0c4ca2e8397bec54335cba3004a0395db,andeep <sanjos100@gmail.com>, 2015-11-02 23:28:39 -0800, , add invocation ninja ubuntu section readme ninja command mentioned ubuntu section readme.md problem raised mailing list well http msg seastar dev _wymbdjilrg njcb w_fdqaj signed sandeep joshi sanjos100 gmail.com signed avi kivity avi scylladb.com,,
4256,1c74f6d2c63373f2badf12af88db2f98652c6a51,vi Kivity <avi@scylladb.com>, 2015-11-02 14:02:15 +0200, , collectd remove incorrect license,,
4257,258daf902770b293c666fe80d255fadc047dbae7,mnon Heiman <amnon@scylladb.com>, 2015-11-02 13:10:31 +0200, , rpc server add pending sent message server patch add stats object rpc server add counter number pending message waiting sent number total sent message help get infromation back template method added iterate connection signed amnon heiman amnon scylladb.com,,
4258,b729e975b1e8bba735916f73b7d9ee52e2fb03fc,lad Zolotarov <vladz@cloudius-systems.com>, 2015-11-01 15:57:00 +0200, , script use generic logic rps configuring signed vlad zolotarov vladz cloudius systems.com,,
4259,3c24426a6e90aa6ad9f0e54a5c40239316c311d6,lad Zolotarov <vladz@cloudius-systems.com>, 2015-11-01 15:56:59 +0200, , script allow passing nic name parameter signed vlad zolotarov vladz cloudius systems.com,,
4260,51ea720fcfd69f61d87261ffba62059199644ab7,vi Kivity <avi@scylladb.com>, 2015-11-02 10:32:14 +0200, , doc link tutorial result excellent doxygen support different markdown md2html,,
4261,b59e9b90c72834650429d545501864e601048263,adav Har'El <nyh@cloudius-systems.com>, 2015-11-02 09:01:39 +0200, , tutorial begin documenting network api begin documenting seastar network api demonstrating tcp server accepts connection writes response still content missing introductory chapter lot detail need cover later chapter least starting demonstrate thing little interesting hello world signed nadav har nyh cloudius systems.com,,
4262,adb9e9f7479a6d3cd4028f53d13c21af0a0394b2,vi Kivity <avi@scylladb.com>, 2015-11-01 12:18:01 +0200, , slab remove bogus uintptr_t definition already defined library,,
4263,9ae6407fe89a3d611c5d092991a63407caacf7fb,sias He <asias@scylladb.com>, 2015-10-29 12:43:19 -0200, , core memory.cc declare member min_free_pages cpu_pages struct fix following compilation error core memory.cc 750 undefined reference memory cpu_pages min_free_pages signed asia asia scylladb.com signed lucas meneghel rodrigues lmr scylladb.com,,
4264,c80c5c086fa1609308fdff5e3b94b90596101cad,mnon Heiman <amnon@cloudius-systems.com>, 2015-10-27 16:37:05 +0200, , http http reply version set fix make sure reples return version calling route object http version kept passing reply sent version set object fix mal formed http response return error signed amnon heiman amnon cloudius systems.com,,
4265,9d8913ad8e1ee8ff2b0fc65db1a95b87d04c64dc,sias He <asias@scylladb.com>, 2015-10-27 21:10:43 +0800, , add mutable with_lock do_with fix following compiling error scylla seastar core do_with.hh error match call const service storage_service func lambda service storage_service mutable func service storage_service decommission lambda service storage_service lambda return func  file included service service 2590 note candidate service storage_service func lambda service storage_service mutable lambda mutable func service storage_service decommission lambda service storage_service near match return with_lock ss.api_lock .for_write func std forward func func mutable  service 2590 note passing const service storage_service func lambda service storage_service mutable func service storage_service decommission lambda service storage_service lambda this argument discard qualifier,,
4266,6436bb6e0e31d31d12d95756b60a2687b1d77953,vi Kivity <avi@scylladb.com>, 2015-10-26 14:50:31 +0200, , app template disable collectd default need configuration anyway without spews metric everywhere,,
4267,28bae887ae3bccdd8ba2d5f8f88d8697548aa2f8,vi Kivity <avi@scylladb.com>, 2015-10-25 20:36:59 +0200, , reactor use fdatasync instead fsync reduces disk activity due need synchronize timestamps similar metadata,,
4268,501e4cb5efe5d12a1524b4d70f59e79caa19abbd,adav Har'El <nyh@scylladb.com>, 2015-10-25 18:23:02 +0200, , configure fail sanitizer unavailable use test sanitizer flag user installed sanitizer library file exception ... problem code run compiler asking write temporary file compiler fails deletes temporary file temporary file object destructor throw exception sadly python guy heard 11th commandment thou shalt throw exception destructor fix create temporary file compilation failed destructor succeed deleting silly work signed nadav har nyh scylladb.com,,
4269,c2ee27a9d5d5aa438c78487eb47f5889d8977693,leb Natapov <gleb@scylladb.com>, 2015-10-21 09:03:52 +0300,64, memcached close socket end request handling fix,,
4270,6af5a0d121e1cd50e82a3ce04a1d5ccbe2431d21,leb Natapov <gleb@scylladb.com>, 2015-10-20 15:13:41 +0300, , sharded try call nonexistent delete callback service object throw creation destructor may called _delete_cb set check,,
4271,bda3eb5fa15f994c3b3c44791289435bd1f5ef13,leb Natapov <gleb@scylladb.com>, 2015-10-19 16:05:11 +0300, , use real argv0 dpdk initialization dpdk configure logger name user visible,,
4272,46fd389a7dcbfacdee028686186b3a582ceb65a4,vi Kivity <avi@scylladb.com>, 2015-10-15 17:18:53 +0300, , rwlock drop extranous,,
4273,8207f2c63fb2702e98ae5ee3999ce23f228e0275,lauber Costa <glauber@scylladb.com>, 2015-10-15 14:03:29 +0200, , rwlock provide lock unlock semantics used newly introduced with_lock code inspired osv rwlock implementation signed glauber costa glommer scylladb.com,,
4274,0d2ff1b759b8757e97e55b75942b67a2ef8350c1,lauber Costa <glauber@scylladb.com>, 2015-10-15 14:03:28 +0200, , with_lock run function lock meant least principle ran rwlock really many type lock perhaps rwlock file begin however general facility nature allows something something else let put do_with.hh signed glauber costa glommer scylladb.com,,
4275,00a8d8adbca8d46c3eb13c304cf58304ab9fa8c3,lauber Costa <glauber@scylladb.com>, 2015-10-15 14:03:27 +0200, , rwlock add documentation rwlock module module quite old documentation time change signed glauber costa glommer scylladb.com,,
4276,a2523ae80f212d5d956425ee31523d39ba6620af,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-10-13 20:46:46 -0300, , core fix pipe unread _unread moved stack variable named ret type turn passed reference may happen value returned read unread corrupted supposedly facing use free signed raphael carvalho raphaelsc cloudius systems.com,,
4277,834b7412474105d96c633b8c9a89d24705a2b340,vi Kivity <avi@scylladb.com>, 2015-10-13 19:11:59 +0300, , merge xfs extent make file friendly xfs,,
4278,16d9f4640b160e7fe0b690927208712bb2423aae,vi Kivity <avi@scylladb.com>, 2015-10-13 19:11:25 +0300, , merge separate dma alignment dma read write alignment different optimal performance,,
4279,5b2ee4f2e44365f6dc67c3b573eb86aedb66327a,leb Natapov <gleb@scylladb.com>, 2015-10-13 15:25:17 +0300, , output_stream wait stream taken poller case final flush return exception,,
4280,3eb06eecc3774b323fb5c2d8d4ca63b2789198ee,hristian Kamm <mail@ckamm.de>, 2015-10-12 20:00:24 +0200, , reactor use widely compatible xfs include xfs_types.h doe exist current ubuntu 14.04 package signed christian kamm mail ckamm.de avi add workaround xfs_platform.h defining min,,
4281,73bffe9a6021ff3b1348bd2a0fd827c36ab3731a,hristian Kamm <mail@ckamm.de>, 2015-10-12 20:00:23 +0200, , readme add xfslibs dev ubuntu deps signed christian kamm mail ckamm.de,,
4282,cd52c43a910a5eca2bee87d66a0c42479ef7490d,vi Kivity <avi@scylladb.com>, 2015-10-12 18:59:33 +0300, , fstream reduce default write_behind xfs like writes eof writes exactly eof fine due continuation reordering happen write_behind long term batch extra write behind together drop default safe,,
4283,4be1b1c48d5bc5cd612fa82fa6547ee1904ae39c,vi Kivity <avi@scylladb.com>, 2015-10-12 18:15:14 +0300, , fstream restore indentation,,
4284,94497455b0a23080356f460cc8bac96be4d8bbc2,vi Kivity <avi@scylladb.com>, 2015-10-12 18:14:33 +0300, , fstream remove stream based preallocation better imlemented file system,,
4285,04ed08ecc7ac7c7cf91752a8c14358a8fc1baa15,vi Kivity <avi@scylladb.com>, 2015-10-12 18:09:40 +0300, , file add extent size hint option xfs support extent size hint implement way interfere aio fallocate may add option use,,
4286,0e560ff1f7b479303edbe291f6ee7cdb525d2d4d,vi Kivity <avi@scylladb.com>, 2015-10-12 18:01:36 +0300, , file add set option useful opening file outside regular bitmask currently empty,,
4287,b94a2799a517b33e211b6ce9270c0b7e67d122a9,vi Kivity <avi@scylladb.com>, 2015-10-12 17:57:19 +0300, , file take function line easier deal later forward declare stuff,,
4288,2c6fed6ba014e371718aa914f05d590d83957f41,adav Har'El <nyh@cloudius-systems.com>, 2015-10-12 16:17:09 +0300, , pipe add unread operation patch add unread operation seastar pipe analogous stdio ungetc unread item next read return typical use case read item inspect unread available next read note unread method pipe_reader object pipe_writer object write operates particular mean one call unread parallel waiting read pipe_reader object used one fiber fine common use case explained call read call unread future returned read resolved current implementation single item unread enough intended use case also ungetc guarantee implementation patch nice simple add small performance penalty one extra every read check unread item small penalty could avoided entirely using item circular buffer unread would push front implementation difficult require much extensive rewrite pipe.hh also later signed nadav har nyh cloudius systems.com,,
4289,78e3924fcfff04719d7ebbdedc8bb73147f20274,leb Natapov <gleb@scylladb.com>, 2015-10-12 13:54:20 +0300, , fix output stream batching current code output stream batching may execute two writes underlying parallel illegal may happen since callback called poller output stream user may run parallel synchronize one another patch aim add synchronisation ostream user writes poller running wait poller complete otherwise cancel poller write directly,,
4290,d791c48417c25d4649f90c9bc7e1523aea9fe1e2,vi Kivity <avi@scylladb.com>, 2015-10-12 12:30:04 +0300, , file separate read write dma alignment writes become synchronous block size read happy using underlying block device block size fix using separate variable,,
4291,f4d29d1c6514f8fa9f6d42361a836580aa4fe50e,leb Natapov <gleb@scylladb.com>, 2015-10-11 17:15:54 +0300, , rpc server connection shutdown fix server side connection closed way client side close end,,
4292,c2e86d5192f9eca6d460f050e4581a9b6e0070dc,adav Har'El <nyh@cloudius-systems.com>, 2015-10-12 02:06:03 +0300, , doc add seastar tutorial patch put updated version partial seastar tutorial wrote wiki doc directory inside seastar repository tutorial titled asynchronous programming seastar could use lot work love potential useful aspiring author seastar application document doc tutorial.md written markdown format first usually tex aficionado far seems working fairly well file probably viewed directly markdown viewer e.g. github perhaps interestingly converted nicely formatted html pdf command ninja doc tutorial.html ninja doc tutorial.pdf pandoc command used conversion must installed want conversion signed nadav har nyh cloudius systems.com,,
4293,b90d599b2fa431fd5169a805193fde4a6f3a52c7,vi Kivity <avi@scylladb.com>, 2015-10-11 10:27:47 +0300, , resource increase default reserve memory allowed puny 256mb caused ooms larger machine increase 1gb memory whichever greater 128gb machine 6gb enough system reviewed nadav har nyh scylladb.com,,
4294,864226ab264eeb958ac30b5e433ce9787b76bc8a,lad Zolotarov <vladz@cloudius-systems.com>, 2015-10-08 18:27:27 +0300, , http client moved apps seawreck http directory make http client parser public seastar interface signed vlad zolotarov vladz cloudius systems.com,,
4295,199567695e273e2bb9195ac5f2a0f7a8fb8b3ffd,lauber Costa <glauber@scylladb.com>, 2015-10-07 17:33:37 +0200, , introduce sync_directory common idiom used internally withing seastar application deal file turn api signed glauber costa glommer scylladb.com,,
4296,6664a83b64b4baf1a5d849fcef7454d94020d8a4,leb Natapov <gleb@scylladb.com>, 2015-10-07 18:01:16 +0300, , add failed stream output stream poller previous flush failed need add stream poller also skip file descriptor closing flush failed,,
4297,0c61340a8e5d6db758d17be52cd1e0840743164d,leb Natapov <gleb@scylladb.com>, 2015-10-07 14:22:27 +0300, , rpc wait data sent closing,,
4298,fba8ac6c712857287f160549065404926e3251ea,alle Wilund <calle@scylladb.com>, 2015-10-06 15:58:22 +0200, , stream.hh fix broken set_exception apparently used since referenced wrong member,,
4299,3c8a5a896ee01d4f0323b5aa95d154170206de55,adav Har'El <nyh@cloudius-systems.com>, 2015-10-06 12:46:29 +0300, , configure.py fix use echo battle faction bsd inspired echo systemv inspired echo escape sequence raging decade even seastar avoid getting caught fighting turn ubuntu shell default dash bash dash builtin echo command unlikes linux gnu echo doe support option break generation seastar.pc file patch change echo bin echo perfect solution assumes echo installed bin seems true every known linux system bin echo support true every linux system gnu utility true antediluvian unix system good enough patch fix problem ubuntu signed nadav har nyh cloudius systems.com,,
4300,592e87358f65b79de19ecfa442d1ed4e41207e1d,lauber Costa <glauber@scylladb.com>, 2015-10-06 11:21:20 +0200, , deannoyify touch_directory touch_directory try create directory normally handle exception case exist meant used early setup case since usage evolved project like scylladb touch_directory recursive version used normal write path meaning frequent operation always throwing exception left right clearly user outgrown original design time change generating exception common path least annoying debugging would much better could avoid altogether patch doe creating specialized touch_directory inside reactor handle error case thread pool without creating exception case signed glauber costa glommer scylladb.com,,
4301,4a3071ee7ea399363a10f7f3742dd197942343b7,leb Natapov <gleb@scylladb.com>, 2015-09-30 18:02:25 +0300, , output stream flush batching come heavily tested yet output_stream char hack solve circular dependency reactor depends output_stream output_stream depends reactor,,
4302,5e9bbab1377027604ad7e62dfda53f28a26e5ce6,or Laor <dor@cloudius-systems.com>, 2015-10-03 22:01:38 +0300, , update readme compilation issue oom,,
4303,177e9cef880c4e83ad5232fea5a998c0da782c93,vi Kivity <avi@scylladb.com>, 2015-10-01 11:44:23 +0300, , resource fix memory leak resource allocate,,
4304,0c402e1324c7632215d22a2adfb2b5388f106a12,lauber Costa <glauber@scylladb.com>, 2015-09-30 16:50:12 +0200, , function check direct_io capability direct central seastar file operation filesystems capable issuing better check early seastar check application expected helper function provided signed glauber costa glommer scylladb.com,,
4305,432a771baf2ac904760aa318eac685b15e25855f,lauber Costa <glauber@scylladb.com>, 2015-09-30 14:48:22 +0200, , provide api query filesystem type want posix centric translate value get enum filesystems translated common one others listed signed glauber costa glommer scylladb.com,,
4306,f6a61dd32e386301d421b9a9b754949ad29494d4,leb Natapov <gleb@scylladb.com>, 2015-09-29 11:37:47 +0300, , modernize reactor stop open code new delete use do_with instead,,
4307,283901a524c8aa37d723b7a076d90fcdd06f6240,alle Wilund <calle@scylladb.com>, 2015-09-29 18:01:00 +0200, , add filesystem link_file create hard link,,
4308,7b8549d9f2e39b9747b63a6062806ceca6a6b58e,lad Zolotarov <vladz@cloudius-systems.com>, 2015-09-29 17:09:41 +0300, , script take care case cpu signed vlad zolotarov vladz cloudius systems.com,,
4309,126535b5857aa1adee1aa3eb89062211ce45583e,ekka Enberg <penberg@cloudius-systems.com>, 2015-09-29 11:49:12 +0300, , posix add explanatory string make debugging easier including explanatory string  signed pekka enberg penberg cloudius systems.com,,
4310,de3f1fce3615ecdce4851787f3aacf6233681a24,vi Kivity <avi@scylladb.com>, 2015-09-28 06:51:17 +0300, , test fix memory leak thread_test test_thread_1,,
4311,a893fd632df845e678bc0fced0ee4c2dd66a1c63,vi Kivity <avi@scylladb.com>, 2015-09-28 06:47:04 +0300, , test fix memory leak timertest cancellation test,,
4312,7b1dc95ce70bdb1df34e91a12f07698d292db3e8,vi Kivity <avi@scylladb.com>, 2015-09-28 06:20:49 +0300, , readme require xfsprogs devel,,
4313,16cdd7530249d5e62085dbc571af5b95d855f724,vi Kivity <avi@cloudius-systems.com>, 2015-09-20 17:54:19 +0300, , file query dma alignment instead assuming 4096 query xfs available allows application reduce disk bandwidth requirement reading small portion file,,
4314,e2e822fbbb21715f06480338435c9badd9fa2f65,vi Kivity <avi@cloudius-systems.com>, 2015-09-20 15:50:33 +0300, , file separate disk memory dma alignment since independent change according backing block device move separate non static function,,
4315,440e3ba80ba26a56a9a06f5848faf7aa39cf838c,lad Zolotarov <vladz@cloudius-systems.com>, 2015-09-22 06:29:56 +0300, , script exclude cpu0 rds config signed vlad zolotarov vladz cloudius systems.com,,
4316,749add8f36b455f0e97658d7fa94e1cfa61e160c,imon Perkins <simon.perkins@gmail.com>, 2015-09-23 19:34:53 +0200, , readme add missing ubuntu 14.04 dependency readme.md added libxml2 dev libxen dev ubuntu 14.04 dependency consistency fedora dependency,,
4317,5fe596a764aab9d2c8e476b6dc59f69a57bcb2d0,vi Kivity <avi@cloudius-systems.com>, 2015-09-23 06:24:22 -0700, , memory tolerate mbind failure docker mbind may fail abort case,,
4318,66569fd25b25a201e61390f5977b436565ce6f36,lad Zolotarov <vladz@cloudius-systems.com>, 2015-09-22 00:50:47 +0300, , script configure aws nic irqs affinity rps script configures aws nic going used posix mode set eth0 irqs arrive cpu0 ec2 networking set rps queue arrive cpu except rps queue disabled enhanced networking set queue deliver total_cpus core note script requires ethtool installed signed vlad zolotarov vladz cloudius systems.com,,
4319,09a0aab822a92d3921707647f21b2dfb19ed212f,lad Zolotarov <vladz@cloudius-systems.com>, 2015-09-20 12:58:54 +0300, , script script allowing run command dpdk environment script borrowed dpdk allows bind unbind pci device specified driver creates dpdk environment run given command command termination restores original environment apart allocated huge page signed vlad zolotarov vladz cloudius systems.com,,
4320,5c6814546667f233749856d7dc33f90fdeafa577,akuya ASADA <syuu@cloudius-systems.com>, 2015-09-20 12:54:12 +0300, , reactor add header resolve centos7 signed takuya asada syuu cloudius systems.com,,
4321,86ffe72b5bcac0af8acc3ef66af31e82131dae67,lauber Costa <glommer@cloudius-systems.com>, 2015-09-18 23:01:18 -0500, , reactor temporarily disable so_reuseport using so_reuseport causing heavy connection imbalance certain situation making core overloaded others sit free kernel distribute connection necessarily lead ideal case proper solution employ better balancing mechanism probably need protocol cooperation let disable temporarily signed glauber costa glommer cloudius systems.com,,
4322,5ab7662a9a4fe94f5311c86e1afe4d29d10b3760,vi Kivity <avi@cloudius-systems.com>, 2015-09-17 18:14:09 +0300, , reactor replace idle metric load traditional,,
4323,accc07bb273a649889dd504430cdb3f0bc6828f7,lad Zolotarov <vladz@cloudius-systems.com>, 2015-09-17 15:24:59 +0300, , net dpdk workaround lack bit information limit number max_rx_queues according limitation 10g 40g intel nics signed vlad zolotarov vladz cloudius systems.com,,
4324,f8140eee87e9c761a1eed96100fa492eea8e087a,leb Natapov <gleb@cloudius-systems.com>, 2015-09-17 17:15:18 +0300, , rpc wait write buffer close client destruction rpc user suppose keep client alive outstanding request mean error reported outstanding rpc call reference client held hold one wait complete clearing _outstanding,,
4325,462b66f7cfe61fc765d31b38429bc484f127d65e,leb Natapov <gleb@cloudius-systems.com>, 2015-09-17 17:08:34 +0300, , rpc remove unused future promise remains streaming time,,
4326,680f37d769362a4019b5b0038adde92d0300b78f,vi Kivity <avi@cloudius-systems.com>, 2015-09-16 19:50:02 +0300, , reactor reset inline continuation counter starting scheduler run let run stop early due random timing,,
4327,58fa4679fb85a309582ad85431d8bef17d04a265,vi Kivity <avi@cloudius-systems.com>, 2015-09-16 19:48:56 +0300, , future force inline function gcc refuse inline hot function likely due presence call exception_ptr method though slow path force inline,,
4328,dc5f2f5aba0133df234e2efe152fa4d88fee7ea5,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-09-16 15:41:01 +0200, , core reactor avoid idle time estimation timer calculates idle time add idle_count idle_end idle_start like auto load double idle_count idle_end idle_start .count double std chrono duration_cast std chrono duration .count set idle_start idle_end end idle period count last idle period twice,,
4329,8f8cfe9f32deed1dc272bd91d9e8a4832d7cd180,leb Natapov <gleb@cloudius-systems.com>, 2015-09-16 10:32:37 +0300, , future abort scheduling failure current code return ready future parent future still ready case schedule fails break basic assumption futurized code chained future executed sequentially assumption break common usage pattern widely used throughout code stop working correctly cause memory corruption like common use case smart_ptr foo .finally finally fails schedule freed immediately without waiting foo complete cause hang semaphore handled correctly like yet common case semaphore s.wait .then do_somethng .finally s.signal finally skipped semaphore remains locked sure easy see skipping continuation randomly running parallel opposite sequentially good thing threaded code akin start running code thread parallel allocation failure see recover failure patch abort happens,,
4330,8d53f1f61e1fa6b3208824d6297e833f55e777db,vi Kivity <avi@cloudius-systems.com>, 2015-09-16 11:25:12 +0300, , reactor run remaining task stop final task send response back cpu run stop process may hang make sure run started appearing since switched time based task quota could also happen count based quota unlucky,,
4331,ac54520c24db7beeb2f4f0ff16a98b9ddf6519c5,vi Kivity <avi@cloudius-systems.com>, 2015-09-15 19:13:25 +0300, , future allow repeat least one execution end endless loop debug mode,,
4332,d71f1b062098c24691bf533d95615ded8112c078,vi Kivity <avi@cloudius-systems.com>, 2015-09-13 15:58:39 +0300, , reactor switch time based task quota current count based task quota lead either long latency task run long inefficiency short real requirement limit latency poll important effect servicing tcp use timer force poll every 2ms,,
4333,00d7c14a87e3b2f58db01c8102aa5095b9f63b5a,vi Kivity <avi@cloudius-systems.com>, 2015-09-13 15:55:54 +0300, , reactor fold task_quota two fulfill function together cause long latency repeat loop running quota internal task running long allow fix folding task_quota,,
4334,84cf099e12544d42def981a049111331fba46457,leb Natapov <gleb@cloudius-systems.com>, 2015-09-14 12:07:29 +0300, , rpc wait data sent rpc streaming important wait data send making future returned rpc call ready need wait data send since serialized internal buffer synchronously furthermore waiting data send may delay timeout reporting patch remove waiting send completion individual message instead wait message send shutdown tested asia asia cloudius systems.com,,
4335,aa18f5c2d6cbaf8d6cf80585de28fd850592f7d9,vi Kivity <avi@cloudius-systems.com>, 2015-09-13 11:26:29 +0300, , stream workaround native network stack drop native network stack expects stream produce return ready unfailed future order push next packet however commit stream use smaller stick failed producer add .then_wrapped call sometimes convert ready furure unready one due need fixed better way work around detecting future ready failed thus then_wrapped call effect returning immediately,,
4336,499c85b2748c79c90d15490474aa87e3212ff75c,vi Kivity <avi@cloudius-systems.com>, 2015-09-13 11:33:17 +0300, , build fix sanitize vptr auto disable,,
4337,1694c3d08b3ffa8f61f2a3464e1da671dffb5e9f,vi Kivity <avi@cloudius-systems.com>, 2015-09-10 11:15:15 +0300, , test test thread scheduling group,,
4338,6c97dcf4bda52be5d2827425f139954584d69eb8,vi Kivity <avi@cloudius-systems.com>, 2015-09-10 11:12:42 +0300, , thread scheduling group scheduling group allows limiting group compute intensive thread cpu usage certain fraction core limit applies specified period reset period end example limit period 1ms limit thread group thread using 200usec cpu time 1ms period,,
4339,bb2f57c73365b1a2d870a245abb151984b728d2d,vi Kivity <avi@cloudius-systems.com>, 2015-09-10 11:10:38 +0300, , thread introduce empty infrastructure providing storing,,
4340,dcd232b73ea780604e264f64319463693b481a47,vi Kivity <avi@cloudius-systems.com>, 2015-09-10 11:08:20 +0300, , reactor make later fair force poll later give chance timer task enter system,,
4341,c1ba2fe361e65cdad776263d4971d6260e1c8b35,vi Kivity <avi@cloudius-systems.com>, 2015-09-10 11:07:39 +0300, , reactor introduce force_poll force reactor poll timer,,
4342,7d0493e88cd5e90a2c6c9f2e028d3c8a6378890a,vi Kivity <avi@cloudius-systems.com>, 2015-09-10 11:05:49 +0300, , core move later line performance sensitive want add stuff later,,
4343,4915b9825d59213aba463c41621707e5fa6d02b1,lauber Costa <glommer@cloudius-systems.com>, 2015-09-12 21:28:54 -0500, , test futurize futurize keep breaking went look test case futurize catching break well surprisingly simple explanation catch exist quite shameful core facility test catch possible breakage scenario already test common case,,
4344,991fb17b4e1f17150173e616efdbe98fe727ee04,lauber Costa <glommer@cloudius-systems.com>, 2015-09-12 21:28:53 -0500, , fix futurize void case func return future futurize supposed turn result call function already one void case fails funcion passed return future  func args return however func already return future mean wait code simply break typed case deal convert void get harder assign return value like patch code free function use sfinae helper deal  fix,,
4345,bd3f8cf86c053f458353e7f44fe1d8a99de900d4,lauber Costa <glommer@cloudius-systems.com>, 2015-09-12 21:28:52 -0500, , futures_test silence exceptional future ignored message test final catch leading warning message specially coming test quite confusing silence signed glauber costa glommer cloudius systems.com,,
4346,49989ca9c00ea0debf8e69e01ce463061f69f57c,vi Kivity <avi@cloudius-systems.com>, 2015-09-10 19:59:32 +0300, , memory fix freeing small byte object sized deallocation allocate round allocation size byte room free pointer compiler however doe match sized deallocation operator delete void size_t hit wrong pool help size_to_idx broken small size generating negative index maybe help exposing bug,,
4347,ae737a074a24135df4c4f5dff36e8e99c14d1266,lad Zolotarov <vladz@cloudius-systems.com>, 2015-09-10 16:01:29 +0300, , core take account exception thrown directly _next well fix breakage introduced 8f0a2a7 commit restore taking account exception thrown directly _next addition coming returned exceptional future signed vlad zolotarov vladz cloudius systems.com,,
4348,d693a642338855963bafa331651c9c64af33ef12,mnon Heiman <amnon@cloudius-systems.com>, 2015-09-09 21:32:11 +0300, , http server add option register general exception handler http general exception handler general behaviour called unhandled excecptions general exception handler support three case http exception std exception general exception exception http exception mapped 500 reply specific application seastar sometimes define specific exception handled general exception handler example application throw specific parameter validation exception may want exception mapped 400 appropriate message patch allows application seastar library register additional exception handler exception handler function get exception ptr must call std eptr catch exception wish handle doe catch specific exception throw new exception register exception handler would get exception handler still exception either non catched original one handler catch throw new exception basic handling remain api exception return internal http code exception mapped 500 handler doe limit option specific api call catch exception add logic regisering exception handler return used register handler signed amnon heiman amnon cloudius systems.com,,
4349,4b70e9aaa26ae85b7730f3198504deb3c67643b7,leb Natapov <gleb@cloudius-systems.com>, 2015-09-07 17:19:23 +0300, , sharded add local_shared accessor add local_shared accessor return shared pointer instead plane one,,
4350,9a9f3d682567288ae76d84dfb8cc0f72b5e28faa,leb Natapov <gleb@cloudius-systems.com>, 2015-09-07 10:59:46 +0300, , test improve rpc timeout test wait timed outed reply existing application,,
4351,c4490c66a7fa994032fdb634fc644dc5cf927051,leb Natapov <gleb@cloudius-systems.com>, 2015-09-06 16:21:49 +0300, , rpc add allow unregister rpc handler,,
4352,f5dd04a946ce273645dc4e4bdbb7810d4f2dcbc9,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-09-06 13:35:03 +0200, , future fix assertion failure case schedule throw future then_wrapped schedule throw time happens already moved lambda typename futurator promise_type auto fut pr.get_future try schedule std move func std forward func func auto state mutable futurator apply std forward func func future std move state .forward_to std move  catch ... catch possible std bad_alloc schedule return futurator std  return fut die lambda reach catch clause orphaning fut trigger assertion failure inside promise abandon fut escape function yet die soon return then_wrapped via catch clause promise know change fix problem relaxing restriction checked abandon currently illegal destroy unresolved promise live future associated promise relaxed illegal destroy promise live future associated scheduled continuation continuation never scheduled fine,,
4353,7b013137beea516e803e90b46d7add2683d64d3a,leb Natapov <gleb@cloudius-systems.com>, 2015-09-07 10:34:18 +0300, , rpc fix rpc timeout stl container always suppose case emplace way replace element,,
4354,bd97a34599604c64f30b39a1fd17674e99a25223,vi Kivity <avi@cloudius-systems.com>, 2015-09-05 20:41:49 +0300, , build disable fsanitize vptr available broken,,
4355,0db706af157088f03ef56c06bcb4febb6ce55cb0,vi Kivity <avi@cloudius-systems.com>, 2015-09-03 18:54:41 +0300, , fstream trim requested buffer size unnecessarily order avoid short read confuse read ahead logic trim buffer size unaligned read however trimmed buffer size based requested buffer size rather file dma_alignment resulted shorter read caused extra normally matter short stream double amount fix aligning file dma_alignment instead,,
4356,62d83a90f32946e63bcde1d3adc4cfc35876deec,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-09-03 09:19:39 +0200, , memory fix posix_memalign case allocation fails since may return nullptr return error case,,
4357,cb905f62dfe6ecd42c4b786b3fd44042ab19e4a8,leb Natapov <gleb@cloudius-systems.com>, 2015-09-02 17:10:22 +0300, , sharded introduce function simplifies code,,
4358,efe66c59ec7b9d10bb39162b57ab7427903501a9,leb Natapov <gleb@cloudius-systems.com>, 2015-09-02 17:10:21 +0300, , test add reference tracking test distributed test,,
4359,a2afffb4ef2ab75f8bd60d6542d6f23c491990bd,leb Natapov <gleb@cloudius-systems.com>, 2015-09-02 17:10:20 +0300, , sharded reference tracking infrastructure patch add common infrastructure allow sharded service track reference service take reference asynchronous operation wait service stop reference dropped currently common way service implement usually using gate use infrastructure introduced service opt inheriting form class async code obtain shared reference calling keep reference use sharded stop block reference shard away,,
4360,1efb5898e377ef8387e968e310ec13e9c5028357,leb Natapov <gleb@cloudius-systems.com>, 2015-09-02 17:10:19 +0300, , sharded capture remote service pointer remote invocation lambda part commit missed captured pointer fix ,,
4361,2a27610a757ba355b666e8e68c7f9bdcf92282f9,vi Kivity <avi@cloudius-systems.com>, 2015-09-01 21:47:56 +0300, , build put user cflags default cflags allows user specified cflags override default cflags,,
4362,c335701d6b69cb029f0dc8c5b6abe40e32f884ea,vi Kivity <avi@cloudius-systems.com>, 2015-09-01 15:58:21 +0300, , revert memory simplify new nothrow variant reverts commit tomek point extra large request may still throw,,
4363,50203305e366cd8b002e71ba2338eb7c25167f04,vi Kivity <avi@cloudius-systems.com>, 2015-09-01 15:57:58 +0300, , build drop unused dpdk library,,
4364,cab071627ef93d484d70c26eccc09c63b4119137,vi Kivity <avi@cloudius-systems.com>, 2015-09-01 15:42:18 +0300, , memory simplify new nothrow variant since allocate longer throw need surround try catch,,
4365,3e4a237bb1ea7ec039fc9f4e7fb2c94f359ed4cd,vi Kivity <avi@cloudius-systems.com>, 2015-09-01 15:23:06 +0300, , merge net dpdk add tcp client support top intel 40gbps nics vlad intel 40gbps xl710 x710 nics bit different nics regard configuration hash key use byte usual may use different hash function toeplitz i40e pmd glitch like weird default indirection table configuration therefore rework configuration dpdk backend order address ,,
4366,7a8b261ca3cea6fefa18ec3acfcc53b458a1026e,leb Natapov <gleb@cloudius-systems.com>, 2015-08-31 11:23:42 +0300, , future assert promise inadvertently reused _state already destroyed current assert future_sate doe cover case promise reused task already ran destroyed case use free happen call assert instead,,
4367,0571f2583036a171e247f833bd596dd1be0732d2,vi Kivity <avi@cloudius-systems.com>, 2015-09-01 15:11:01 +0300, , build build dpdk kni module use introduce false dependency kernel header,,
4368,1b3b801c93b72d2a28f8a5eb8638b4fdfe4365cb,vi Kivity <avi@cloudius-systems.com>, 2015-09-01 15:01:32 +0300, , fix exception safety func iterator throw exit loop early continuation successfully started reference deallocated state longer protected do_with fix adding try catch use futurize apply since iterator may also throw,,
4369,eec89a57a43c070df9d3e29fa649df7237be9f39,lad Zolotarov <vladz@cloudius-systems.com>, 2015-09-01 14:16:14 +0300, , net dpdk add tcp client support top i40e dpdk i40e pmd still doe funny thing like configuring power queue indirection table default addition xl710 x710 device handled i40e pmd require byte hash key unlike nics world work byte key device also support different hash function therefore may longer assume toeplitz explicitly configure order overcome challenge change way handle configuration dpdk backend instead reading indirection table configure query key size new dpdk feature configure key appropriate length query pmd support different hash function configuration support configure use toeplitz one signed vlad zolotarov vladz cloudius systems.com,,
4370,3be0b3cf9be8559174e92b22fca7f0f1ee22b381,lad Zolotarov <vladz@cloudius-systems.com>, 2015-09-01 12:47:30 +0300, , net add support different key size till supported byte key patch add support byte key signed vlad zolotarov vladz cloudius systems.com,,
4371,b61d647a380994bf239cf02d3d5fdfb345f56cf8,lad Zolotarov <vladz@cloudius-systems.com>, 2015-08-25 18:25:35 +0300, , net introduce interface pas key upper layer signed vlad zolotarov vladz cloudius systems.com,,
4372,7ff1411aba9a9e511a24f9c77b3fd20ede94048b,vi Kivity <avi@cloudius-systems.com>, 2015-09-01 11:34:20 +0300, , xen fix build commit added virtual destructor base class exposing unused destructor declared defined fix removing declaration,,
4373,d59c71bd8da114ead1ce20d7c69a846f6a15b46a,vi Kivity <avi@cloudius-systems.com>, 2015-09-01 09:36:43 +0300, , merge dpdk local patch dpdk 8a2d53b ... 0e53142 net i40e add vlan tag size rxmax,,
4374,68fee6cc3cf3c3f023ebfe6c558f4fef16b30156,vi Kivity <avi@cloudius-systems.com>, 2015-08-31 19:42:32 +0300, , merge memory reclamation infrastructure follow tomasz various improvement,,
4375,5176352dcad35a269280e0744c657f4f1d50cae0,vi Kivity <avi@cloudius-systems.com>, 2015-08-31 19:10:35 +0300, , fstream fix read starting offset nonzero starting offset modulo dma alignment next read short account fix aligning buffer_size clear whether align buffer_size dma_alignment simpler,,
4376,d88e34dbc6c532e0126a63036b3948c6da49f2d0,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-08-31 16:10:45 +0200, , core memory restore case exception reclaimers,,
4377,de29bcc2c767bcd712e5c7c370e511f769a08504,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-08-31 16:08:14 +0200, , core memory align reclaimer scope established nomenclature,,
4378,b3adde3ff8f2822d331bd95b709a1cd3300543aa,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-08-31 16:04:55 +0200, , core memory make reclaimer give back info progress robust comparing number page reclaimer release little one step may miss made progress,,
4379,281de7e5a583697e9255cf88a87cb6b8219fcfc9,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-08-28 22:24:41 +0200, , test add test reactor,,
4380,eb63a34e3edd7cdbc25c2420399ddf88c2a00494,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-08-31 15:18:01 +0200, , core reactor run high priority task even sooner,,
4381,40d0df04d8a35082eaacb0bdd8eea818e17d2431,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-08-31 15:16:51 +0200, , core reactor introduce easier test separate abstraction,,
4382,30b9542f2edfebd0edf65dc0642fb0f13a58aa1a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-08-28 11:04:42 +0200, , memory reclaim memory synchronously allocation goal make allocation likely fail currently reclaimer run asynchronously separate fiber number free page fall threshold run memory current fiber allocates lot memory defers attempt large allocation satisfied due fragmentation patch change allowing reclaimer run synchronously allocation reclaimer decide able run synchronously allocation synchronous reclaimers run either amount free memory fall threshold allocation fails always try restore memory threshold allocation fails reclaim allocation satisfied reclaimer make forward progress case satisfying large allocation currently handled simplistic way simply evict large enough contiguous block memory becomes available dependning fragmented memory may result evicting lot object therefore strive make large allocation rare possible fragmenting large allocation,,
4383,004492100ece7c9076698962299c52c1143c37c5,vi Kivity <avi@cloudius-systems.com>, 2015-08-31 16:48:05 +0300, , fstream disable read ahead allow application time catch new api requiring close,,
4384,83e65a63c47fabc5b9be197c99667ab2dc5617ec,vi Kivity <avi@cloudius-systems.com>, 2015-08-30 21:06:39 +0300, , input_stream require explicit close end use turn implicitly dealing background read ahead commit bad idea caller would assume since input_stream destroyed could underlying file case still undergoing read ahead fix requiring caller close input_stream wait background operation,,
4385,77e987c6f3e993fe974e9a1db430b62ba04693bf,vi Kivity <avi@cloudius-systems.com>, 2015-08-30 20:12:46 +0300, , reactor add statistic disk bandwidth accompany aio rate,,
4386,d265978a49167220ab9ee8f1e521e00695631576,vi Kivity <avi@cloudius-systems.com>, 2015-08-30 19:55:25 +0300, , merge read ahead complement write behind read ahead reviewed nadav har nyh cloudius systems.com,,
4387,4c1e0a4218453624b7d2de14187e5ce095eddc5c,vi Kivity <avi@cloudius-systems.com>, 2015-08-30 14:24:31 +0300, , fstream read ahead reading buffer read buffer ahead time order improve disk utilization,,
4388,8377a6777a302799a131158330d3cb52308c2f4e,vi Kivity <avi@cloudius-systems.com>, 2015-08-30 13:04:21 +0300, , fstream add variant taking option struct easier add option later,,
4389,51f4db63368232a19d694dcc1398c61a44763410,vi Kivity <avi@cloudius-systems.com>, 2015-08-30 13:10:45 +0300, , iostream support background operation data_source support read ahead need way wait read aheads complete user done stream add support data_source close api completely internal input_stream user expected know read ahead,,
4390,90d08ad926c4c7bc0c47b641f576c4e8d9fb89dd,vi Kivity <avi@cloudius-systems.com>, 2015-08-30 14:11:15 +0300, , mark move constructor noexcept store circular_buffer reviewed nadav har nyh cloudius systems.com,,
4391,ddd2d310302e3306509c322e57125f65ab79b976,vi Kivity <avi@cloudius-systems.com>, 2015-08-30 14:10:39 +0300, , deleter mark move constructor noexcept used move constructor want apply treatment reviewed nadav har nyh cloudius systems.com,,
4392,9cc5cd0761edfed8d0bc70689a3f6dbe9b3d7490,vi Kivity <avi@cloudius-systems.com>, 2015-08-30 15:07:43 +0300, , fstream fix write behind filesystems support fallocate filesystems support variant fallocate implementation return ready future cause called prematurely modifying variable used loop confusing fix restarting loop case goto ugly improve later,,
4393,f8351f06ef1ad2103270385ad73dd59dec5654b0,vi Kivity <avi@cloudius-systems.com>, 2015-08-30 12:43:38 +0300, , fstream return correct error noticed nadav,,
4394,b3ebd48121dc1d1ed06e6db9b2ddc3a95b8b796f,vi Kivity <avi@cloudius-systems.com>, 2015-08-30 12:42:43 +0300, , fstream reinitialize error user supposed write error little robust handle case,,
4395,a503442f957fe1dd080b280cd916be34adcde6a0,vi Kivity <avi@cloudius-systems.com>, 2015-08-29 20:30:09 +0300, , fstream write behind allow file output stream maintain several outstanding writes parallel single stream allows data producer proceed parallel disk improving bandwidth still fails test output_stream flush protocol simple basic write behind engine,,
4396,63b7cc2041de847e60e2fb4fcdcd57fea1a568e8,vi Kivity <avi@cloudius-systems.com>, 2015-08-30 11:42:38 +0300, , output_stream improve flush support curently output_stream flush simply writes pending buffer underlying data sink doe inform flush operation occurred mean complete background writes fix adding flush virtual function data_sink,,
4397,a37b92154d092327ed7355a605475343809abe4f,vi Kivity <avi@cloudius-systems.com>, 2015-08-30 11:08:28 +0300, , thread initialize stack debug mode address sanitizer read stack magic value detect overflow stack initialized pick random garbage generate false positive fix initializing stack zero,,
4398,4c63d02a8fc4f488b819446f9ee51085da44dac8,leb Natapov <gleb@cloudius-systems.com>, 2015-08-27 17:19:48 +0300, , sharded capture remote service pointer remote invocation lambda current sharded implementation capture remote service pointer lambda service may stopped lambda executed case use free happen fix obtaining reference service shard going use throwing exception doe exist,,
4399,2e041c2037908328d6b85c2164735b5311797eb4,vi Kivity <avi@cloudius-systems.com>, 2015-08-28 23:42:12 +0300, , merge change app_template run terminate callback done tomasz analogous running main function old version renamed run_deprecated,,
4400,5259ef2ad01cafdeef64ba7813744806f0cf7a02,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-08-28 11:50:00 +0200, , apps seawreck convert run,,
4401,0e0c46fbdffa9432a74e4daafcf3065ee14726da,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-08-28 13:21:29 +0200, , apps seawreck fix capture stack variable reference stack variable must captured reference deferring operation callback time callback run may gone fix hang smp std move used workaround compiler seems confused ambiguity bare value,,
4402,7ebba142010d8fd81178b38299be97192986abd6,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-08-28 11:50:19 +0200, , test convert run,,
4403,e99a71089fedf158bb79d4e7408e2b6a046775a5,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-08-25 18:46:28 +0200, , app_template introduce run analogous running main function async action return application exit intuitive run_deprecated,,
4404,f2b83f26726828c47d05a66da26b9367d381654b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-08-28 11:28:36 +0200, , app_template rename current run run_deprecated user encouraged use run introduced following patch,,
4405,8b496b3213ea1166a44f9acd1e34c34ea4b9c958,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-08-28 14:10:48 +0200, , resource fix compilation hwloc version 1.8.0 ubuntu 14.04 still ship 1.8.0 fix,,
4406,fb8ec6de4867f717cdae8111ecd0434928eb8894,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-08-28 11:04:41 +0200, , memory fix infinite recursion throwing std bad_alloc fix throwing std bad_alloc runtime calling turn call malloc allocate exception object allocation may also fail libstdc fallback emergency pool case malloc return nullptr throw somewhere inside malloc get recurse infinitely sigsegv fix avoid throwing inside malloc case memory,,
4407,7ed727b1762598e0a2589147e968820e2df8c762,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-08-28 13:42:17 +0200, , core reactor throw right error code connect fails threw errno stale likely e_inprogress instead actual value so_error,,
4408,b83b2b0b08a84a256c99f426fadf1b64b4bcf5d5,vi Kivity <avi@cloudius-systems.com>, 2015-08-27 12:21:05 +0300, , future improve exception safety update state copying moving data exception thrown still consistent,,
4409,d4492de654ec7cbdcead677ba95c93d819a85a5a,leb Natapov <gleb@cloudius-systems.com>, 2015-08-27 10:47:46 +0300, , xen add missing virtual destructors,,
4410,a51978b3f95ff25881a88e30259c288febf42174,leb Natapov <gleb@cloudius-systems.com>, 2015-08-27 10:46:09 +0300, , circular_buffer destroy uninitialized object object creation fails copying exception call destructor object whose creation complete,,
4411,10e09b0e1bcf14af9cc66526e4cb8ac2acde3cfc,vi Kivity <avi@cloudius-systems.com>, 2015-08-26 22:24:00 +0300, , future balance constructor destructors future_state whenever change future_state _state state invalid must also destroy carried exception value future_state destructor failure result raii leak,,
4412,d1fa2d7816deaa757a1bff9833f422ddd60fdf17,vi Kivity <avi@cloudius-systems.com>, 2015-08-26 21:04:50 +0300, , memory provide statistic total memory debug mode lie really confuse application,,
4413,c1ea14d07c28ec9dd278680dcf7cef0a283a07e0,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-08-26 10:05:11 +0200, , core thread introduce yield,,
4414,e0c2257d032c83443220fe1db1959fbfd87ff3bb,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-08-26 10:05:10 +0200, , future util move later future util.hh,,
4415,d7705a6cb745eb554b352f6d2eefa5e6c3eafba1,vi Kivity <avi@cloudius-systems.com>, 2015-08-25 16:52:47 +0300, , test make alloc_test work many memory size account internal overhead used seastar allocator,,
4416,23f4faeea516426ba69de7fef9f50b59f8904410,lauber Costa <glommer@cloudius-systems.com>, 2015-08-13 15:57:36 -0500, , stream use smaller stick failed producer abort big stick failing produce particular server seem take long time time abort called actually abort achieve similar result elegant way rethrowing exception signed glauber costa glommer cloudius systems.com,,
4417,8f0a2a795a60fc086dfa251afe45e13061001281,lauber Costa <glommer@cloudius-systems.com>, 2015-08-13 15:57:35 -0500, , stream properly set exception try catch block thing past really work future proper way then_wrapped signed glauber costa glommer cloudius systems.com,,
4418,5efee51c2b2b74526ff4a55980fca4a1a591fde3,mnon Heiman <amnon@cloudius-systems.com>, 2015-08-18 18:00:19 +0300, , json2code add enum support return type sometimes usefull return enum direct type far supported enum part module object change add enum support outside module enum support based enum declaration wrapper class safely assigned enums allowing simple type conversion internal enums api main change making function enum wrapper creation moving code multiple method call replaced string template signed amnon heiman amnon cloudius systems.com,,
4419,64442081ef9ea39eb94037a78725f92b894d9330,vi Kivity <avi@cloudius-systems.com>, 2015-08-24 16:01:59 +0300, , file noisy close destructor close block context run thread lost cause force everyone least block xfs,,
4420,cfa8db06d9a2bc3ce6bc948727602ef74e08ae1f,leb Natapov <gleb@cloudius-systems.com>, 2015-08-24 13:17:43 +0300, , rpc test rcp timeout,,
4421,5ba9878e02505168f7160187c5f8f4c70f516f09,leb Natapov <gleb@cloudius-systems.com>, 2015-08-24 15:18:12 +0300, , rpc add timeout support patch rpc caller may provide timeout value second parameter rpc function,,
4422,3484074a300cad64e1bc780029d89731da12c10b,vi Kivity <avi@cloudius-systems.com>, 2015-08-23 19:13:41 +0300, , test add another allocator test test realloc shrinking block extra allocation,,
4423,ebc46f18c9e86919214fb596584e9af433d78cbd,vi Kivity <avi@cloudius-systems.com>, 2015-08-23 19:10:46 +0300, , memory try harder allocate large block use search free block guaranteed run quickly ensures list search free block least large requested block leave unsatisfied allocation even though enough free block required size available simply list smaller block fix detecting situation falling back slower search reach,,
4424,63d04734dfbd70172f9b8208c48a3f8c33bfb88d,vi Kivity <avi@cloudius-systems.com>, 2015-08-23 18:35:18 +0300, , memory avoid allocation realloc shrinking object size instead allocating copying free trailing part new object,,
4425,e51e71efddf9af17f32de9e23c2ddb6e4f6524ce,vi Kivity <avi@cloudius-systems.com>, 2015-08-18 15:31:00 +0300, , update dpdk submodule dpdk 4c2717a ... 8a2d53b ixgbevf return default tx_rs_thresh,,
4426,e35937951795ca3f506c33a0a21663b1a24eee53,vi Kivity <avi@cloudius-systems.com>, 2015-08-23 13:43:12 +0300, , future rename make clear ignoring ready future,,
4427,22eaae94e8d4e466ae2e62caae1e84e3d0071651,leb Natapov <gleb@cloudius-systems.com>, 2015-08-23 11:51:12 +0300, , rpc ignore _output_ready result result used anywhere,,
4428,a569d3e6d878f0f322a476ee1c085e0df2fb7df4,leb Natapov <gleb@cloudius-systems.com>, 2015-08-23 11:49:55 +0300, , introduce future add future allow dropping future result normal exceptional without creating continuation,,
4429,9ed53acd31c284386fb80c784700ddbddc0fdd48,leb Natapov <gleb@cloudius-systems.com>, 2015-08-20 19:14:57 +0300, , rpc report two way send ready parameter serialized send completed network wait_for_reply may return exception future attempt send parameter still underway caller know may destroy client send path still running using client reference fix returning send path reported completion,,
4430,8bab557d5af30ccf773972d8a63685ed18a5b104,leb Natapov <gleb@cloudius-systems.com>, 2015-08-20 16:58:16 +0300, , rpc clean _outstanding even connection failed clean _outstanding even connection failed since allow sending without waiting connection establishment,,
4431,696ab29b4ddd0a068d4e8860b7bab5fef658aa87,vi Kivity <avi@cloudius-systems.com>, 2015-08-20 11:00:12 +0300, , merge dpdk rework xmit vlad series includes optimization xmit flow zero copy cut buffer physically contiguous really big 15kb current code requires single buffer cross page boundary copy maximize rte_mbufs utilization jointing small fragment copying buffer full,,
4432,27c4c0dc680aee5584d123addb27633f1c60b23f,lad Zolotarov <vladz@cloudius-systems.com>, 2015-08-19 17:10:43 +0300, , readme.md add libxml2 devel fedora package list signed vlad zolotarov vladz cloudius systems.com,,
4433,573d9c72bf3bb7d3afc3592c8bfa7e1b90e17ac7,vi Kivity <avi@cloudius-systems.com>, 2015-08-19 19:32:01 +0300, , merge,,
4434,ea8322eff05de53f3e13aef7196f20c32109d52d,vi Kivity <avi@cloudius-systems.com>, 2015-08-19 19:31:36 +0300, , memory reclaim aggressively hit target try,,
4435,80969d4e9c459a5750c77121e91327249a14ce45,vi Kivity <avi@cloudius-systems.com>, 2015-08-19 19:30:32 +0300, , reactor stop repeat loop wish reclaim memory stopping loop reduces chance running memory reclaim triggered actually executing,,
4436,32ec371d7371d8db0fc5bde1d5bb3d1e2f1de099,lad Zolotarov <vladz@cloudius-systems.com>, 2015-08-16 16:55:45 +0300, , net dpdk reworked xmit rework copy flow utilize whole available buffer rte_mbuf joining packet fragment till current rte_mbuf full first build required rte_mbuf cluster copy data prevents extra copy case tight buffer significantly simplifies code rework cause copy zero copy xmit function completely different thus sharing code therefore since from_packet_zc function original form_packet template function patch squash last from_packet_zc signed vlad zolotarov vladz cloudius systems.com,,
4437,d96bfcd16d3a8071190e237aeae51d861705e3f6,leb Natapov <gleb@cloudius-systems.com>, 2015-08-19 15:06:45 +0300, , rpc keep reference server connection reply sent keep reference server connection reply sent otherwise connection may disappear also fix typo comment,,
4438,72bf5ebf0e57bbd03b4237300b31ad85d323d9d2,lad Zolotarov <vladz@cloudius-systems.com>, 2015-08-09 19:10:28 +0300, , dpdk remove used tx_buf _buf_len member signed vlad zolotarov vladz cloudius systems.com,,
4439,a87edfc707d9f007157a3f4a90ac3f6ed73ad921,lad Zolotarov <vladz@cloudius-systems.com>, 2015-08-09 18:18:04 +0300, , dpdk increase maximum fragment size zero copy xmit increase 4kb 15kb signed vlad zolotarov vladz cloudius systems.com,,
4440,4ff14c4165a42c6d36f5f9a3a728f286b38a493e,vi Kivity <avi@cloudius-systems.com>, 2015-08-18 15:22:57 +0300, , net add missing tcp_nodelay thunk,,
4441,39eeca513e60c6b0fb6858e0abc89a8e0c456da0,vi Kivity <avi@cloudius-systems.com>, 2015-08-18 14:56:46 +0300, , rpc set tcp_nodelay rpc socket reduces latency,,
4442,1cbca37169f35f24678171ef77e0b9a669230d85,vi Kivity <avi@cloudius-systems.com>, 2015-08-18 14:52:04 +0300, , net implement accessors nagle algorithm tcp_nodelay still implemented native stack least disable posix stack,,
4443,a0b16a0812fcb717693941f0b29f482c814f63cd,vi Kivity <avi@cloudius-systems.com>, 2015-08-18 14:51:19 +0300, , posix improve getsockopt interface return result value instead reference,,
4444,64b5a53fc2e784c81be85c751b64120e5fa00f41,vi Kivity <avi@cloudius-systems.com>, 2015-08-18 12:24:57 +0300, , future slightly optimize signature template parameter present signature remove one,,
4445,2afc6c8cdcd46e0e924806d0aff36fef5f1f7dfa,vi Kivity <avi@cloudius-systems.com>, 2015-08-18 12:03:38 +0300, , rebase dpdk v2.1.0,,
4446,fb76603526d84df17da5173fb5286fe5133a892b,adav Har'El <nyh@cloudius-systems.com>, 2015-08-18 01:59:50 +0300, , future use get future_state forward_to implementation forward_to used get already know future value exception better use value directly call get possible compiler optimize away get code case give compiler work also new code symmetry value exception case signed nadav har nyh cloudius systems.com,,
4447,de7aba32e56efd22c38a821ac82feff1cc428200,adav Har'El <nyh@cloudius-systems.com>, 2015-08-17 19:55:29 +0300, , future add get_value use realizes future value exception get get value get extra code handle exception already know case patch add new future_state method get_value get value already know future available failed counterpart get_exception function already use new method signed nadav har nyh cloudius systems.com,,
4448,69edf16a45e26bc0c26cd1dc219682ca0445e513,vi Kivity <avi@cloudius-systems.com>, 2015-08-17 13:11:56 +0300, , shared_ptr inline lw_shared_ptr destructor heavily used doe almost nothing time spent prologue,,
4449,44e35a4fb7e61e6ab628c236c030688b0a7f6038,adav Har'El <nyh@cloudius-systems.com>, 2015-08-17 00:06:57 +0300, , future then_wrapped simplification optimization since commit futurize apply already catch exception convert exceptional future try catch attempt basis then_wrapped supposed redundant actually caught anything then_wrap indeed catch anything turn see exceptional future supposed pas exception along without running lambda existing code actually something convoluted called get throw exception stored future catch exception convert back exception pointer course inefficient bloat code compile time convoluted code created trying create common template then_wrapped built param template argument powerful enough resulted unnecessary exception conversion unnecessary try catch patch split code then_wrapped make exactly minimum need without unneeded try catch without rethrowing exception pointer simply moved downside patch line code duplicated then_wrapped think small price pay getting right also easier understand stand alone function heirarchy template weird lambda signed nadav har nyh cloudius systems.com,,
4450,937cc1f3e1cb190c524cdfeae29f3e42bb259e7f,adav Har'El <nyh@cloudius-systems.com>, 2015-08-17 00:06:56 +0300, , futurize apply make noexcept since commit futurize apply catch exception convert exceptional future mark noexcept signed nadav har nyh cloudius systems.com,,
4451,9d35dd1f7f204e9d9117a92dac1969ab3de77f81,adav Har'El <nyh@cloudius-systems.com>, 2015-08-17 00:06:55 +0300, , future forward_to move exception forward_to move exception leave original future get warning future destructed already std move future exception get get_exception  signed nadav har nyh cloudius systems.com,,
4452,70e6fcf920d35425451fe6a368640ea04ab2a925,adav Har'El <nyh@cloudius-systems.com>, 2015-08-17 00:06:54 +0300, , future throw correct exception obviously need throw current exception address std function never noticed problem pertain normal operation case running memory calling schedule signed nadav har nyh cloudius systems.com,,
4453,f1b42902fd870ae7fb36f0a56711ba8da66a33ba,vi Kivity <avi@cloudius-systems.com>, 2015-08-16 18:54:51 +0300, , reactor abort timer throw exception really possible recover timer something important least crash program,,
4454,7ae79bceda88902b1c1c7b6f442ab98af7a26afa,vi Kivity <avi@cloudius-systems.com>, 2015-08-16 18:52:40 +0300, , reactor move complete_timers .cc,,
4455,2586a70e6611f02ffb1f1e378d6b1f1e0576ad62,vi Kivity <avi@cloudius-systems.com>, 2015-08-16 17:23:22 +0300, , resource stop using deprecated,,
4456,432e9734e62f60dd4c6a53931fa92ed4445ff8a8,vi Kivity <avi@cloudius-systems.com>, 2015-08-14 11:38:09 +0300, , dpdk merge local patch fix ixgbe dpdk b2bd9e7 ... 3d1aebc ixgbe_pmd forbid tx_rs_thresh nics 82598,,
4457,bdd44e77b631402b46220a15ab64e7d4d669403d,vi Kivity <avi@cloudius-systems.com>, 2015-08-14 11:36:01 +0300, , dpdk rebase latest upstream two patch added fix build error,,
4458,4183a878029f489bdc85130a93be18c242351748,lad Zolotarov <vladz@cloudius-systems.com>, 2015-08-13 14:01:13 +0300, , net dpdk actually check resulting cluster original packet fix typo introduced commit signed vlad zolotarov vladz cloudius systems.com,,
4459,b56a6ebf3a2b5cd00a44ab916c74d4b44f25e624,adav Har'El <nyh@cloudius-systems.com>, 2015-08-12 18:21:08 +0300, , httpd fix future exception handling use new request handler throw exception existing code correctly convert appropriate http failure error code message etc however handler successfully return future future later resolved exception forgot handle case happens client get completely empty response instead http error ignored exceptional future written log patch fix exception processing code need done two place exception thrown handler exception later set future returned handler code moded separate function patch also fix another bug code previously captured exception subclass std exception exception could cause entire server crash code also catch exception ... type generates generic message unknown unhandled exception signed nadav har nyh cloudius systems.com,,
4460,4e35b8da80889de0a5716aac429d767c39b900f1,adav Har'El <nyh@cloudius-systems.com>, 2015-08-12 18:14:56 +0300, , future improve patch make future ... general useful suggested avi patch future ... returned future word i.e. discarded future value even successful future patch value longer automatically discarded future ... return future ... instead discarding value exception handling callback required return replacement value immediate value another future replace exception example improved used extern future result result std exception_ptr eptr create replacement result based exception ...  return future change exception handling functor need return anything future ... non empty value user want discard value need explicitly .... note example run future exception handling function need return anything patch signed nadav har nyh cloudius systems.com,,
4461,a1175fd9beac826651352a3e85a7b7c1cae54638,vi Kivity <avi@cloudius-systems.com>, 2015-08-12 16:32:24 +0300, , memory attempt catch underflows someone attempt allocate 0xffff ffff ffff ff80 byte probably underflow resulted 128. abort let someone debug,,
4462,166b949315ed8300303c2c1a1315ef7b8ced65ef,vi Kivity <avi@cloudius-systems.com>, 2015-08-12 16:31:55 +0300, , memory replace assert large allocation bad_alloc,,
4463,7e7cef2158a0370b15c491d6c1b42c5b5a9a5bd3,vi Kivity <avi@cloudius-systems.com>, 2015-08-11 16:54:48 +0300, , future make futurize apply flexible allow accept function already return future instead limited function return undelying type,,
4464,8f97b50ec05a42d52e723adb0b9e2812ab54b5ce,vi Kivity <avi@cloudius-systems.com>, 2015-08-11 13:08:22 +0300, , sharded fix move assignment operator noticed vlad,,
4465,a1933df9801fd0c33c9794d0026773f761b1fe21,vi Kivity <avi@cloudius-systems.com>, 2015-08-10 11:08:45 +0300, , semaphore switch list circular_buffer fewer allocation faster timed wait case get complicated since circular_buffer may move object around track around involves extra allocation timed wait slow anyway due need allocate timer callback,,
4466,887f72da27df14b1fe866b23dc70f8deb9e636a0,lad Zolotarov <vladz@cloudius-systems.com>, 2015-08-09 13:18:54 +0300, , finally discard exception return std encapsulation exception original return value value returned callback function exceptional future signed vlad zolotarov vladz cloudius systems.com reviewed nadav har nyh cloudius systems.com,,
4467,86a9aa162222e93a8d51c8e089ec1978c6d981a9,lad Zolotarov <vladz@cloudius-systems.com>, 2015-08-09 17:12:18 +0300, , dpdk check resulting cluster non i40e nics maximum size cluster non i40e nics check resulting cluster span max_frags fragment signed vlad zolotarov vladz cloudius systems.com,,
4468,6836ed8565d3edf8d77fff7b618b59e0e87b4a5a,vi Kivity <avi@cloudius-systems.com>, 2015-08-09 18:59:10 +0300, , reactor avoid sigpipe writing socket handle sigpipe ask kernel send one using sendmsg msg_nosignal,,
4469,fb43ca529640f990a052f0387108e100511801e4,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-08-07 14:53:44 +0200, , memory run reclaimers free memory threshold reclaimers run immediately scheduled free memory threshold scenario memory freed back reclaimer run redo check perform unnecessary eviction,,
4470,fdf8509be62a75906f461fb2e8d65133de0d2a7a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-08-06 19:18:46 +0200, , core add missing include transfer.hh needed std move,,
4471,2df7c9dad24ee644913d316f00575af39ca90e60,lad Zolotarov <vladz@cloudius-systems.com>, 2015-08-06 19:51:49 +0300,50, dhcp print sending discover message print sending discover message first send_discover invocation every time invoked fix issue signed vlad zolotarov vladz cloudius systems.com,,
4472,16bf3100a0896e44ad6c2c31c35eb9ad811a1589,vi Kivity <avi@cloudius-systems.com>, 2015-08-06 16:49:04 +0300, , reactor count statistic,,
4473,bd24a26c94b774690c56cc947859c799b15a6558,lad Zolotarov <vladz@cloudius-systems.com>, 2015-08-05 18:52:37 +0300, , future finally let exceptional future ignored original return value exceptional future return callback also exceptional future original result ignored causing well known annoying righteous message printed instead return exceptional future returned callback consume original future dicard value holding signed vlad zolotarov vladz cloudius systems.com,,
4474,6f1dd3c1db71dbf4844a5d8430a817dc6578c319,vi Kivity <avi@cloudius-systems.com>, 2015-08-05 17:20:52 +0300, , net make udp send robust wrt error udp semaphore limit number inflight packet per channel adding number byte back packet moved however exception encounterd arp sempahore incremented eventually udp channel shut fix using packet deleter mechanism increment semaphore instead alters meaning flight larger buffer may needed,,
4475,b54c98dde985795e9ff6023c8e6814244cc80577,vi Kivity <avi@cloudius-systems.com>, 2015-08-05 17:01:59 +0300, , net remove packet constructor template deleter parameter constructor easy mix one accept deleter object concrete class deleter template parameter remove change caller make deleter,,
4476,563129b7c1c2f7fe85efcc2e8e657e3f3f29edb4,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-08-05 13:54:20 +0200, , memory support discovering allocator address range needed custom allocator built top seastar allocator want allocate metadata structure memory segment underlying allocator using,,
4477,c09488ef9d40773cf2b1a245690416e7c407163d,hlomi Livne <shlomi@cloudius-systems.com>, 2015-08-05 13:04:56 +0300, , rpc fix bug allowing parallel writting connection signed shlomi livne shlomi cloudius systems.com,,
4478,eb2197d59e9b3d501510c3a00390d5be667f9eb3,lad Zolotarov <vladz@cloudius-systems.com>, 2015-08-05 12:18:44 +0300, , net dpdk call recycling mbuf packet recycled get mempool thus allocated deleted comment claimed allocated directly tx_buf_factory cache therefore resetting next field enough called mbuf pushed cache signed vlad zolotarov vladz cloudius systems.com,,
4479,6de00bed134bbbc9f5d92c1cb9111de084b89118,vi Kivity <avi@cloudius-systems.com>, 2015-08-04 19:10:21 +0300, , net prevent tcp fragmenting packet header tcp call packet share store data copy unacked queue doe however prepending tcp header taking care copy unfortunately packet share call copy tcp header header area data area original packet original packet passed layer prepends header earlier call header contiguous causing work nic fix calling packet share earlier tcp header prepended call doe nothing nothing unuse,,
4480,685f02ce877f22ab3bd1b1fa23542d0a73bcd44c,vi Kivity <avi@cloudius-systems.com>, 2015-08-03 20:53:16 +0300, , net use malloc internal packet allocation deleters efficient memory provided malloc destructor need called take advantage,,
4481,e4c1df5481d9d50b3276921e0870585fd2cc39bf,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-08-04 15:48:01 +0200, , core memory fix compilation debug mode version stats,,
4482,2bbd41a8e5af093b3b30f1ed6b3725c5a9c6ecb0,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-08-04 14:32:03 +0200, , memory expose statistic collectd,,
4483,947619ebf06cf8fed12c626f7779260253267a27,vi Kivity <avi@cloudius-systems.com>, 2015-08-02 19:09:02 +0300, , merge net add statistic counter linearization event vlad new counter added net net tcp net ipv4 new counter exposed via collectd interface,,
4484,d48477b16f45ee88eb26623ff02f88c86cd1ca2d,lad Zolotarov <vladz@cloudius-systems.com>, 2015-08-02 17:52:55 +0300, , net packet_merger count linearization event add tag template parameter define static thread_local counter would contain total linearization event count per cpu type packet_merger instantiation net ipv4 add linearizations statistic counter net tcp add linearizations statistic counter signed vlad zolotarov vladz cloudius systems.com new add private return reference make linearizations return uint64_t instead reference squash packet_merger ipv4 tcp patch order avoid compilation breakage bisection new move linearization accounting packet_merger,,
4485,8ec54e9ec5aadf5e143a9bddd443c1166e8d37e7,lad Zolotarov <vladz@cloudius-systems.com>, 2015-08-02 12:57:44 +0300, , net added counter packet linearize event add counter packet linearize event xmit flow expose collectd signed vlad zolotarov vladz cloudius systems.com new net move linearized counter qp_stats revert update linearization count packet linearize new account xmit linearizations context,,
4486,cd1bef38efad69423261bfb910520638df6f7eb2,lad Zolotarov <vladz@cloudius-systems.com>, 2015-08-02 17:18:45 +0300, , net zero dpdk port stats stats initializer instead memset signed vlad zolotarov vladz cloudius systems.com new use initialization instead,,
4487,3cf6beeef58797e3030ea75ce2e2bf0ad572d6cc,lad Zolotarov <vladz@cloudius-systems.com>, 2015-07-30 21:18:00 +0300, , dpdk check resulting cluster original packet translation packet mbuf cluster may split fragment therefore check resulting mbuf cluster original packet check fails release cluster linearize packet rebuild cluster linearized packet signed vlad zolotarov vladz cloudius systems.com,,
4488,ed51c8047a1fe7ea0875d9af37ea11de92dc682b,lauber Costa <glommer@cloudius-systems.com>, 2015-07-31 17:49:13 -0500, , reactor fix inverted logic add local prefix path doe start signed glauber costa glommer cloudius systems.com,,
4489,3b00827d07cbcad09a4e6d0cbb3b459f825b600e,vi Kivity <avi@cloudius-systems.com>, 2015-07-31 19:31:35 +0300, , build suport march ... cflags march ... useful enable minimum instruction set level compiler normally letting user specify sufficient dpdk insists defaulting march native using different convention adjust configuration,,
4490,7e040d7b31281323c4a7492f4591c678c40a38f5,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-07-31 13:40:55 +0200, , test futures_test add test case explits problem fixed,,
4491,beeaccb1f6d5bcb405cd6d404e053557b58a1be2,vi Kivity <avi@cloudius-systems.com>, 2015-07-30 17:02:27 +0300, , future fix returning quickly error returned soon detected exception rather waiting fiber complete cause manner resource leak race fix using then_wrapped counter make sure every function completed,,
4492,9db7592b4af8d3f00582132dc703753e1a5b09c5,vi Kivity <avi@cloudius-systems.com>, 2015-07-30 17:11:14 +0300, , test add test case early return error,,
4493,f60a22d115e3ae6ca479a0fa303f531fa1ca51df,lad Zolotarov <vladz@cloudius-systems.com>, 2015-07-30 14:31:53 +0300, , net dpdk assume header frag0 assume upper layer put header frag0 rather put separate fragment signed vlad zolotarov vladz cloudius systems.com,,
4494,0398a8ecf52c47200033829f80c47c6eef4287cc,lad Zolotarov <vladz@cloudius-systems.com>, 2015-07-30 14:31:52 +0300, , net dpdk rename rename signed vlad zolotarov vladz cloudius systems.com,,
4495,732dba194b375fa99ae811ae328643969ebde976,vi Kivity <avi@cloudius-systems.com>, 2015-07-30 13:24:58 +0300, , smp always return exception failed future smp submit_to make simpler caller handle exception,,
4496,b8def5d69276b12c4fbd8dcd8a3e7a86c505303e,vi Kivity <avi@cloudius-systems.com>, 2015-07-30 13:19:25 +0300, , test add packet test test header kept one fragment variety case,,
4497,3edae055ce2656b582f97bb90f73990faf746bfa,vi Kivity <avi@cloudius-systems.com>, 2015-07-30 13:18:32 +0300, , packet try harder may make possible use internal data try use,,
4498,90eaa633ab29c0bb42753fd9cb586f83355066ba,vi Kivity <avi@cloudius-systems.com>, 2015-07-30 13:17:39 +0300, , packet fix since longer use internal data reset headroom indicate ,,
4499,572ec2d3ca4557cae468e6d033b73f8dfabdc6ad,vi Kivity <avi@cloudius-systems.com>, 2015-07-29 18:51:14 +0300, , rpc implement client stop sometimes need stop running client like stop server little complicated stop connect progress like stop connected socket shutdown must wait time instead,,
4500,01151017e67468f55f2e2a773e30b69f765d5ef5,lad Zolotarov <vladz@cloudius-systems.com>, 2015-07-28 22:47:45 +0300, , dpdk remove extra check outside loop exactly check performed end loop body thus check outside loop may safely removed signed vlad zolotarov vladz cloudius systems.com,,
4501,98c6bbae16c5966e35f552ab558344f8032d7366,lad Zolotarov <vladz@cloudius-systems.com>, 2015-07-28 22:18:17 +0300, , dpdk linearize fragmented xmit packet i40e nics intel 40g nics limitation maximum number fragment non tso xmit packet number fragment tso segment may span may fragment including tso header accounted separate fragment limitation handled device driver however dpdk current linux driver handle moment patch introduces temporary workaround issue linearizing xmit packet underlying device 40g intel nic packet described signed vlad zolotarov vladz cloudius systems.com,,
4502,020fb16d976aef21d285bb665e5efc97e34ca244,lad Zolotarov <vladz@cloudius-systems.com>, 2015-07-28 20:55:04 +0300, , dpdk get rid backward compatibility code readme dpdk.md bump supported version 2.0.0 update instruction get rid compat macro align code 2.0.0 semantics signed vlad zolotarov vladz cloudius systems.com,,
4503,ce6c5c804d6ef24187c3a55dbc0961a1b44b77c2,vi Kivity <avi@cloudius-systems.com>, 2015-07-28 18:31:06 +0300, , memory count small_pool span use give clue object size contribute memory leak try guess leaked,,
4504,53b5a263f7fdccfad75ce21ed3180cbc9e3fe86f,vi Kivity <avi@cloudius-systems.com>, 2015-07-28 18:08:32 +0300, , build disable dpdk kernel mode driver use uio_pci_generic instead uio_igb since use kni build speed compiles remove dependency kernel header,,
4505,495822f52d9b12558f627e975bb677d7fa2b108f,vi Kivity <avi@cloudius-systems.com>, 2015-07-28 17:07:12 +0300, , core fix close free recursive mkdir,,
4506,581f262a2024cb9afb3ba6fee53080787fe10cb9,vi Kivity <avi@cloudius-systems.com>, 2015-07-28 13:01:58 +0300, , revert merge adding nat adapter takuya reverts commit reversing change made caused breakage packet class breaking memcached,,
4507,8d333aea8721ad110bced638824a155ad9ae052e,sias He <asias@cloudius-systems.com>, 2015-07-28 08:01:23 +0800, , reactor run at_exit function lifo order,,
4508,0eb3175ed8cfcfc3f6932c5ce32af6b87c9be6bd,sias He <asias@cloudius-systems.com>, 2015-07-28 09:20:48 +0800, , httpd allow specifying address listen,,
4509,b0c8b806ce2791298dc637b062ff69681df90cdf,vi Kivity <avi@cloudius-systems.com>, 2015-07-27 10:16:37 +0300, , merge adding nat adapter takuya add mechanism share dpdk device linux tcp stack,,
4510,423e593dbc9cab87f06f32b4486d61113ce10a05,akuya ASADA <syuu@cloudius-systems.com>, 2015-07-15 16:48:29 +0900, , test add packet class test,,
4511,b648d924bfe0bf516ca09a47c8d9802147f50905,akuya ASADA <syuu@cloudius-systems.com>, 2015-06-22 02:51:40 -0400, , add script config file install startup seastar instance signed takuya asada syuu cloudius systems.com,,
4512,4be17878e204fbc397b71080a83d7588008657ae,akuya ASADA <syuu@cloudius-systems.com>, 2015-05-07 04:04:47 -0400, , hook network stack nat adapter signed takuya asada syuu cloudius systems.com,,
4513,a1c817c00bce81faded663a2415f1dc40dc88928,akuya ASADA <syuu@cloudius-systems.com>, 2015-05-07 03:49:54 -0400, , add nat adapter signed takuya asada syuu cloudius systems.com,,
4514,cd0703c538c5d5c484748dc1ad8951bc7e62db45,akuya ASADA <syuu@cloudius-systems.com>, 2015-05-19 11:58:55 -0400, , native stack add create_device function share code nat adapter signed takuya asada syuu cloudius systems.com,,
4515,afe4e197c35acf00435e897d65994dbe665b1639,akuya ASADA <syuu@cloudius-systems.com>, 2015-06-27 05:39:01 -0400, , packet implement untrim_front untrim_back signed takuya asada syuu cloudius systems.com,,
4516,c74ce091aa1bc5ea9e65eb83f92919bd9084742c,akuya ASADA <syuu@cloudius-systems.com>, 2015-06-17 04:06:42 -0400, , add argument modify local port range signed takuya asada syuu cloudius systems.com,,
4517,6f5101f8cd3b35040bb4e26b9d02ae075a774e2a,akuya ASADA <syuu@cloudius-systems.com>, 2015-05-07 16:58:54 -0400, , add ipv4_address to_string signed takuya asada syuu cloudius systems.com,,
4518,01337bd09020223be9bb9c63428ce89e24f1c98b,vi Kivity <avi@cloudius-systems.com>, 2015-07-26 19:45:16 +0300, , future remove incorrect noexcept specification schedule schedule allocates continuation throw,,
4519,fa8d7401d66adb13e9f4892b674fff6c32fbf52e,vi Kivity <avi@cloudius-systems.com>, 2015-07-26 19:21:53 +0300, , future catch exception thrown scheduling continuation fail allocate continuation capture return exception otherwise main loop terminated handler exception,,
4520,f46034bc68e20de35faa644802eec467beb9b850,mnon Heiman <amnon@cloudius-systems.com>, 2015-07-26 18:20:24 +0300, , sharded fix map method mapper function passed map function catched value referece could get scope deleted result segmentation fault fixing result vector return std move prevent unneeded copy signed amnon heiman amnon cloudius systems.com,,
4521,d8fb6c86db2a74349e2e68d6c347bbdabf304280,lauber Costa <glommer@cloudius-systems.com>, 2015-07-23 14:56:32 -0400, , sharded improve sharded start fix catch statement catch exception call stop instance destroyed correct cpu signed glauber costa glommer cloudius systems.com,,
4522,d814d4d452d2a1e71aa71e81e7fa87c633bfae5f,lauber Costa <glommer@cloudius-systems.com>, 2015-07-23 14:56:31 -0400, , fix service lacking stop service stop function two udp_server tcp_server test fix signed glauber costa glommer cloudius systems.com,,
4523,b36ac2cd381e3b352d21532acfe0b4cecfb5969f,lauber Costa <glommer@cloudius-systems.com>, 2015-07-23 14:56:30 -0400, , sharded make wording ambiguous service must expose stop function option signed glauber costa glommer cloudius systems.com,,
4524,5b12bf4d3e1b3757492919c67824df19e0056aae,mnon Heiman <amnon@cloudius-systems.com>, 2015-07-24 09:48:25 +0300, , sharded add map method similiar map_reduce sometimes map method needed add teplate map method sharded accept mapper function return vector result applying mapper function shared object signed amnon heiman amnon cloudius systems.com,,
4525,d1279c2b706e232a3f7e20b4145fad95a1b1692f,lauber Costa <glommer@cloudius-systems.com>, 2015-07-23 14:10:30 -0400, , sharded make stop robust non started instance call start fail middle might case instance started case call stop function invalid instance signed glauber costa glommer cloudius systems.com,,
4526,4a889fb3c4751698438c77c5e322edccdbd5de23,vi Kivity <avi@cloudius-systems.com>, 2015-07-23 17:58:33 +0300, , memory segfault running memory allocating small object recovery likely fail still nicer throw exception,,
4527,f930cd24041127cdf855367a477e4377a5533469,leb Natapov <gleb@cloudius-systems.com>, 2015-07-23 16:26:11 +0300, , rpc fix client connection failure propagation currently connection failure propagated rpc user message stuck instead fix handling connection return error properly,,
4528,66268c2e8167e1de52e34849c667d1f496535372,lauber Costa <glommer@cloudius-systems.com>, 2015-07-22 18:48:20 -0400, , sharded avoid sigsegv stop start throw exception stop eventually fail sigsegv particular instance chance initialize zeroed stop try dereference problem occurs calling stop usually option might case instance initialized properly also even register stop function crash common _instances empty assert caller absolutely way know situation argue everything handled inside primitive fail best way make sure array properly destroyed guarantee instance already constructed destroyed time present stop empty instance array pretty much nullifying loop signed glauber costa glommer cloudius systems.com,,
4529,f11c08c0e42986550b4f1345eb780b4f8f38f435,lauber Costa <glommer@cloudius-systems.com>, 2015-07-22 18:48:19 -0400, , futurize apply also catch exception futurize apply work well function return without exception exception abort without giving chance user catching exceptional future via .then_wrapped acting signed glauber costa glommer cloudius systems.com,,
4530,b0de75e50b39087116044ebbb172bf97434ac027,adav Har'El <nyh@cloudius-systems.com>, 2015-07-22 11:10:47 +0300, , build warn user dpdk submodule missing user tried use enable dpdk verify dpdk submodule actually retrieved warn user tell exactly need namely git submodule update init easier understand obscure error message missing makefile ... signed nadav har nyh cloudius systems.com,,
4531,3dd4bd250515f3af2ccbb651689ce78de04762bd,adav Har'El <nyh@cloudius-systems.com>, 2015-07-20 22:54:01 +0300, , build strip test patch save 1.5 disk space seastar build directory well lot memory link phase build noticable low memory machine lead slow swapping extremely lengthy mangled name extremely numerous function debugging information generated seastar code absurdly large added every single executable generate noticable test currently test hopefully much come compiled separate excutable copy debug information patch creates test executables whether debug release mode stripped user encounter failing test want debug information gdb sanitizer trivially relink unstripped command like ninja build release test note added link already existing object file still debug information take fraction second machine patch reduces seastar built test 2.8 1.3 build release test directory drop 0.2 build debug test directory still huge 1.8 happens debug information undefined behavior sanitizer fsanitize undefined unfortunately add huge data segment executable still know improve nevertheless still significant reduction space even important write test signed nadav har nyh cloudius systems.com,,
4532,57d64c1a42e19ae1b87e69dd466e4cedd38fff22,vi Kivity <avi@cloudius-systems.com>, 2015-07-21 17:04:55 +0300, , build absolutify dpdk_target path configured dpdk get relative path result pkgconfig file usable different directory fix making path absolute,,
4533,4118a0921c793318a14617f24aaf859b837d70fc,adav Har'El <nyh@cloudius-systems.com>, 2015-07-21 09:15:00 +0300, , build read non ascii dpdk config correct encoding configure.py modifies dpdk config file text file code read file python string using system default encoding file contains several non ascii character trade mark registered mark symbol using utf encoding must explicitly read using encoding system default encoding example lc_ctype he_il bit encoding iso 8859 one get following error configure.py enable dpdk ... traceback recent call last file configure.py line 339 module line open dotconfig .readlines file usr lib64 python3.4 encoding iso8859_8.py line decode return input self.errors decoding_table charmap codec decode byte 0xc2 position 3402 character map undefined signed nadav har nyh cloudius systems.com,,
4534,abec8f5dd3d16d9c927571ce1d0bccd0d1919da6,adav Har'El <nyh@cloudius-systems.com>, 2015-07-20 17:52:45 +0300, , file default constructor code written assume file member default constructed set later manage open file especially true code previously written lw_shared_ptr file patch add default constructor file operator bool used check file set actually using default constructed file cause null pointer dereference like using default constructed lw_shared_ptr signed nadav har nyh cloudius systems.com,,
4535,544287964018e4cb6cebfc2736c4cece3421d3b3,adav Har'El <nyh@cloudius-systems.com>, 2015-07-20 14:43:59 +0300, , fstream use file lw_shared_ptr file since commit class file copyable using shared_ptr internally mean point use lw_shared_ptr file file could used patch fix fstream.hh apis work directly file instead  signed nadav har nyh cloudius systems.com,,
4536,0f0ae16c294e5089c0f09cd4f3fa78d76f28f6dd,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-07-20 09:01:44 -0300, , core add file_size useful retrieving size regular file without need get file descriptor first reviewed nadav har nyh cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com,,
4537,299f6ba7c522d4510e5ad1dbe5aedefb0091486c,vi Kivity <avi@cloudius-systems.com>, 2015-07-19 20:16:16 +0300, , build add http library libseastar.a,,
4538,fa73a25146389b5e7e6a314ba204ad0ffa1bce60,vi Kivity <avi@cloudius-systems.com>, 2015-07-19 16:24:07 +0300, , memory prevent cross cpu free dead cpu running boost unit test cpu thread destroyed causing static object destructors fail try free data allocated cpu thread longer exists leak memory instead,,
4539,01e8cc8df2b96a7d79f9e0dee71217a92733ad69,vi Kivity <avi@cloudius-systems.com>, 2015-07-19 13:09:20 +0300, , rpc switch user defined serialization free function using free function take serializer parameter rather add serialization function without changing serializer class,,
4540,605e5c04abb72ff6c3bd1f04cf9a4c2f33cfd3a2,leb Natapov <gleb@cloudius-systems.com>, 2015-07-18 21:08:20 +0300, , rpc allocate header space together payload,,
4541,95970cfda049f3f5988f1137b92c6a17425d1fbc,vi Kivity <avi@cloudius-systems.com>, 2015-07-18 11:14:36 +0300, , merge rpc non deferring serialization switch rpc using futurized serialization deserialization memory atomic serialization much faster especially compile result loss functionality illegal serialization defer except due connection blocked would result rpc request stalled,,
4542,3942546d4165071948104107b7c9626486a8c999,vi Kivity <avi@cloudius-systems.com>, 2015-07-17 16:15:03 +0300, , rpc switch non deferring serialization rpc currently allows serializers deserializers defer input output stream may ready may however defer behalf object serialized deserialized i.e serialize disk deserialize disk cause tcp connection block serialization deserialization complete practice message must small enough fit memory nothing gained complexity simplify thing switch non deferring serialization add frame header message specifies buffer size allows rpc use read_exacly consume message thereafter deserialize immediately result significantly simpler help compile time,,
4543,c1906a3d2a4cf8b2a096dc0b280e494b807d545c,vi Kivity <avi@cloudius-systems.com>, 2015-07-17 16:08:28 +0300, , future add futurize add way create exceptional future type directly known,,
4544,f2577c8af30c862bbcbd0a14613479502f85f14b,vi Kivity <avi@cloudius-systems.com>, 2015-07-17 16:07:33 +0300, , function_traits export function signature type make easy examine using pattern matching instead std index_sequence,,
4545,db331efaa1b5f59bb2de19f23b39a8ef884a96d5,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-07-17 14:48:51 +0200, , test add test exception propagation make_lw_shared,,
4546,0bfcf27b15d85621ccea6bf7368f4d4e2d3c42b6,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-07-17 14:48:50 +0200, , core lw_shared_ptr mark make noexcept constructor operator new may throw want std terminate occasion,,
4547,2878bc887d2ea179cedba0c7eddd35af0a8792e0,vi Kivity <avi@cloudius-systems.com>, 2015-07-16 10:04:32 +0300, , merge add rpc rpc_types.hh asia,,
4548,624388ae4b9394b2291f2c9db50c6b1667216af5,sias He <asias@cloudius-systems.com>, 2015-07-16 10:59:04 +0800, , rpc move stats rpc_types.hh needed user doe want include rpc.hh,,
4549,6ad04ff5e8010fddee176f029478351c4bb01600,sias He <asias@cloudius-systems.com>, 2015-07-16 10:40:10 +0800, , rpc introduce rpc rpc_types.hh include rpc_types.hh instead rpc.hh no_wait_type friend needed,,
4550,f256243ebd78b5d0aac2394df6c513d7f7e111ae,vi Kivity <avi@cloudius-systems.com>, 2015-07-15 18:17:49 +0300, , memory fix debug build break statistic,,
4551,248aa4f55ea598da437b206a0ac91d4585f1d40f,vi Kivity <avi@cloudius-systems.com>, 2015-07-15 18:09:13 +0300, , reactor wire free memory reclaim counter collected,,
4552,a597d37bc1bf5da17b73179c50df745ea8e40d51,vi Kivity <avi@cloudius-systems.com>, 2015-07-15 18:08:54 +0300, , memory add statistic reclaim operation free memory,,
4553,53745dc357d3fcde5fba9dcc2c7c8e7597246b21,mnon Heiman <amnon@cloudius-systems.com>, 2015-07-02 08:33:54 +0300, , adding void_json object json_elements case handler return json element need return successfull empty response common async operation though legit return empty string situation cleaner return empty response add json_void class method need return value i.e json_function return formatter set response empty signed amnon heiman amnon cloudius systems.com,,
4554,7b355a6a024e9bef43df923be6252e7d78fbd8f0,mnon Heiman <amnon@cloudius-systems.com>, 2015-07-14 09:40:33 +0300, , json api add assignment operator json_list obj patch add general assignment operator json_list object accept data structure support const range iteration contained object assigned json_list object signed amnon heiman amnon cloudius systems.com,,
4555,62364fcdd789877463a4d36f31166ab493f364de,lauber Costa <glommer@cloudius-systems.com>, 2015-07-13 22:06:07 -0400, , sstring add compare method part sstring signed glauber costa glommer cloudius systems.com,,
4556,66451d5a9c4d7842843ac0bab957a6465427bc23,vi Kivity <avi@cloudius-systems.com>, 2015-07-13 19:05:01 +0300, , tcp fix assertion failure connection reset connection reset code posted exception _data_received promise break waiter left optional promise engaged caused connection destructor attempt post new exception promise legal fix disengaging optional promise give treatment ,,
4557,d162922e03d1e70be86f65eb30447116003d3bcb,lauber Costa <glommer@cloudius-systems.com>, 2015-07-12 12:57:04 -0400, , core simplify file copied need play unique_ptr card anymore signed glauber costa glommer cloudius systems.com,,
4558,2a622304ed53b75cdd75ddc37e499f353a405e64,vi Kivity <avi@cloudius-systems.com>, 2015-07-12 18:11:46 +0300, , file make file copyable often single file used multiple fiber wrapped lw_shared_ptr remove need making file internally reference counted,,
4559,50e2f24dfab15ae769263d3fde58b804ecdb9dcb,lauber Costa <glommer@cloudius-systems.com>, 2015-07-12 10:54:44 -0400, , core add recursive_touch directory often create directory useful make sure path leading exists signed glauber costa glommer cloudius systems.com,,
4560,c84b6a948f19766529d6d459ecd3561c79c0914d,vi Kivity <avi@cloudius-systems.com>, 2015-07-12 16:56:01 +0300, , merge fstream optimization file size excessively slow fstreams needlessly calling optimize file size also make fstream call,,
4561,35f29dcdb499f15e563cb7ca476e6991f55f758f,vi Kivity <avi@cloudius-systems.com>, 2015-07-12 13:24:01 +0300, , fstream add read end test without knowning file size beforehand,,
4562,d170efbfcb03bb3d6acadf507400b19fc928ca93,vi Kivity <avi@cloudius-systems.com>, 2015-07-09 15:33:09 +0300, , fstream optimize always call file size slow slows application create many short lived input stream file random access processing subset data fix calling size letting file code handle short read ,,
4563,ea67ca03afa407f340e65df926f7a754e95ad680,vi Kivity <avi@cloudius-systems.com>, 2015-07-09 15:07:58 +0300, , file fix file size signature file size size_t alias uint64_t use right type,,
4564,e96d07d61471ae25e00555cc410de66528e4d6fe,vi Kivity <avi@cloudius-systems.com>, 2015-07-09 15:01:42 +0300, , file optimize file size posix lseek block use fetching size file directly reactor thread instead iothread,,
4565,913ee1e8ac4cb5a501ff47622d87eeb5ebe491b1,adav Har'El <nyh@cloudius-systems.com>, 2015-07-06 16:00:34 +0300, , reactor circumvent asan false positive debugging build always produce annoying false warning like 1199 error alloc dealloc mismatch malloc operator delete 0x62300003d500 error could silenced setting asan_options test.py still annoying manual run mask real bug type problem appears address sanitizer understand new with_align trick used allocate reactor object eventually use ordinary delete object think mixed malloc delete patch posix_memalign free allocate free reactor structure asan stop complaining signed nadav har nyh cloudius systems.com,,
4566,19206a038f4367c3db0216c16eda2e68575e8b80,vi Kivity <avi@cloudius-systems.com>, 2015-07-07 17:59:47 +0300, , reactor stop using sigalrm sigalrm used boost unit test library interferes use cause spurious unit test failure switch real time signal instead,,
4567,7ad4483879dafa31cf7aed3a32459c173ec5beca,vi Kivity <avi@cloudius-systems.com>, 2015-07-07 17:17:46 +0300, , revert build allow compiler script reverts commit fails unconditionally causing debug symbol example emitted,,
4568,3dbccbc5b525a456c85e6f8680655e4ce40c8659,leb Natapov <gleb@cloudius-systems.com>, 2015-07-07 13:17:04 +0300, , rpc read value tuple moving noticed tomek,,
4569,9b63b02328fb5c89dcf5ce5037195d6f88b1d402,adav Har'El <nyh@cloudius-systems.com>, 2015-07-07 10:36:48 +0300, , doc fix small mixup reference pipe.hh signed nadav har nyh cloudius systems.com,,
4570,0c848e9a4e4f16d82014c137aabf3adaedf4cc89,vi Kivity <avi@cloudius-systems.com>, 2015-07-07 12:45:58 +0300, , rpc add missing move get_reply reply movable copyable type must move returned future also faster even type copyable,,
4571,af30fe11df89b6f45f9da685f1d078df98e7b3c7,vi Kivity <avi@cloudius-systems.com>, 2015-07-07 00:38:53 +0300, , doc info fiber module reference table,,
4572,1501b273f6c447805c9157547cd35e8f48e5c219,vi Kivity <avi@cloudius-systems.com>, 2015-07-07 00:29:23 +0300, , doc add reference section fiber module,,
4573,89931d53fa58e78b272dba5b795068d9084ed901,vi Kivity <avi@cloudius-systems.com>, 2015-07-07 00:10:51 +0300, , semaphore document,,
4574,5338a6a8db1c626fceb145ea91078a9622ec7251,vi Kivity <avi@cloudius-systems.com>, 2015-07-06 11:12:36 +0300, , merge branch master github.com cloudius system seastar,,
4575,2c08647a6e2e630356f24e0b2ae25e5993f93426,mnon Heiman <amnon@cloudius-systems.com>, 2015-06-28 17:03:42 +0300, , scollectd change use const ref implementation code scollectd api modified get collectd const reference remove unnessary creation shared_ptr signed amnon heiman amnon cloudius systems.com,,
4576,f6fdde0ff66f225135aa61badeef78a6f52f1688,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-07-05 15:39:16 -0300, , core make public member currently private member thus calling method handling exception possible signed raphael carvalho raphaelsc cloudius systems.com,,
4577,68b192d1be5efb50e49e46f19370ed49d9d28e30,vi Kivity <avi@cloudius-systems.com>, 2015-07-06 10:24:54 +0300, , build allow compiler script,,
4578,a4a23f8eb01a05f76912652bf7764ebe89505921,lauber Costa <glommer@cloudius-systems.com>, 2015-07-05 11:53:43 -0400, , gate introduce with_gate idiom execute function making sure wrapped gate afford considerably simpler do_with since playing game object creation gate assumed relatively long lived among thing allow make change enter leave without breaking existing code experiment stronger way leave avi suggested recently signed glauber costa glommer cloudius systems.com,,
4579,b67cded40d6e2c0ca5295356257fed0a0441e717,vi Kivity <avi@cloudius-systems.com>, 2015-07-05 17:50:53 +0300, , test print error code failed test,,
4580,15d009d39ef90f1c67f0cf63c03c11f65c38cea0,akuya ASADA <syuu@cloudius-systems.com>, 2015-07-05 11:52:42 +0900, , udp auto close destruction channel signed takuya asada syuu cloudius systems.com,,
4581,d0003e4f29d7d2697b785b4c7f40cc969a55f8f9,leb Natapov <gleb@cloudius-systems.com>, 2015-07-02 16:43:38 +0300, , rpc handler smart pointer return value rpc handler currently rpc handler return smart pointer rpc try serialize pointer object opposite object ptr pointing patch fix serializing real object instead pointer,,
4582,7d33cf62a5d5108425c1bfd1f4ca45bdbaf55f7b,leb Natapov <gleb@cloudius-systems.com>, 2015-07-02 16:43:37 +0300, , add is_smart_ptr metafunction detect know smart pointer object,,
4583,033e46c7b0ef3e8f9e27fc6461ef96aa21c52778,vi Kivity <avi@cloudius-systems.com>, 2015-07-02 15:33:35 +0300, , sharded speed compilation unify three invoke_on variant using futurize move type calculation method signature,,
4584,00da6d85c3e4039b55944d390982a3cee987aee1,vi Kivity <avi@cloudius-systems.com>, 2015-07-02 12:47:07 +0300, , future optimize compile time .then return type complex template need mangled function name move return type defaulted template type parameter entire type expression eliminated replaced result type save compile time object size futures_test.o,,
4585,641034075b73f93b89e0c15ae656f7b3e3922c9a,lauber Costa <glommer@cloudius-systems.com>, 2015-06-30 12:09:49 -0400, , sprint use sstring parameter sprint use sstring argument sprint case already string variable end forced call c_str caller site accepting sstring parameter make cleaner interface signed glauber costa glommer cloudius systems.com,,
4586,770e6b7816b2f899bee1408bd76fec6af0534844,adav Har'El <nyh@cloudius-systems.com>, 2015-06-30 13:52:28 +0300, , future add method patch add class future method handling exception result future impossible discard future exception passing value result pas case exception discard result well example used log error otherwise nothing removing file fails remove_file filename std exception_ptr eptr print exception deleting file eptr  signed nadav har nyh cloudius systems.com,,
4587,7842ac8db6bee6c6d082d69144dcfca231f3b3b8,vi Kivity <avi@cloudius-systems.com>, 2015-06-28 22:42:06 +0300, , doc document file,,
4588,8ca32adbde7d2f64d9f4db6e7148c9ecbf84e575,vi Kivity <avi@cloudius-systems.com>, 2015-06-28 21:50:46 +0300, , merge file close support close blocking call must called thread main reactor thread need file close method return future,,
4589,ae38e95bb2fd9f2388a6c1af91190cfb6bf46d45,vi Kivity <avi@cloudius-systems.com>, 2015-06-28 20:42:30 +0300, , file uninline posix_file_impl destructor,,
4590,7e66cc02e1497d8352507182f76c2c713cb1f81d,vi Kivity <avi@cloudius-systems.com>, 2015-06-28 20:40:37 +0300, , test close file fileiotest,,
4591,803954480621b99402e65cec46dce84fffa2996c,vi Kivity <avi@cloudius-systems.com>, 2015-06-28 20:39:06 +0300, , file warn file close called time,,
4592,c05c7c09cf6c4634eb4b69b0d6af46ed4805a6c8,vi Kivity <avi@cloudius-systems.com>, 2015-06-28 20:36:23 +0300, , fstream close file stream close,,
4593,9c9d943e3a3773335ab38c20c778adf23dc886f5,vi Kivity <avi@cloudius-systems.com>, 2015-06-28 20:26:17 +0300, , file add close method closing file expose latent error opportunity reported earlier also may block unlikely case o_direct file better risk,,
4594,f687ec40a37273cf1fa20fb002502f36308a05ef,adav Har'El <nyh@cloudius-systems.com>, 2015-06-28 18:34:37 +0300, , fstream catch bug early put code assumes always called buffer size multiple dma alignment 4096 except last one writing one unaligned size buffer writes continue offset file longer right alignment caller doe try bug caller run time error design bug better discover quickly assert patch caller example application took whole day debugging figure caller actually bug signed nadav har nyh cloudius systems.com reviewed raphael carvalho raphaelsc cloudius systems.com,,
4595,b306cee41e2abbf00704627ba59de636ae690e8c,adav Har'El <nyh@cloudius-systems.com>, 2015-06-28 19:06:40 +0300, , fstream fix behavior large writes output stream file output code contains various layer making sometimes contradictory assumption real art form make work together usually work together well one undetected bug large writes file output stream problem happens try write large buffer larger output stream buffer one output_stream write call default output_stream efficient zero copy implementation call underlying data sink put function entire written buffer without copying stream buffer first unfortunately solution doe work file output stream use aio o_direct write aligned buffer aligned multiple dma_alignment size even large size fully written multiple dma_alignment need align buffer data already output_stream complicate thing amazingly already option _trim_to_size output_stream right thing need enable file output stream special case aligned position aligned input buffer might possible something even efficient zero copy one write request general case _trim_to_size exactly needed signed nadav har nyh cloudius systems.com,,
4596,6ac01770df12869cca6edbf44e2d844ad84805c1,vi Kivity <avi@cloudius-systems.com>, 2015-06-28 17:14:43 +0300, , core avoid fstat call reactor thread creating file object call fstat determine whether block device regular file unlikely fstat call block use ioctl expect fail regular file instead,,
4597,20d2154c4d9bdad605e27739213f695c5695a7bb,adav Har'El <nyh@cloudius-systems.com>, 2015-06-28 15:09:44 +0300, , shared_ptr add use_count add use_count method shared_ptr like std shared_ptr already method lw_shared_ptr shared_ptr signed nadav har nyh cloudius systems.com,,
4598,ab63138134b8047913d3558faefd81439251e201,vi Kivity <avi@cloudius-systems.com>, 2015-06-28 14:39:17 +0300, , test add fileiotest regression test suite,,
4599,7327e246c1ce0b8664585e2c48ddf13196df9944,adav Har'El <nyh@cloudius-systems.com>, 2015-06-28 12:23:13 +0300, , test convert fileiotest.cc boost test case convert fileiotest.cc boost test case making easier see tested add file test signed nadav har nyh cloudius systems.com,,
4600,e10b29921ada71111447597d0a9ddb70b75d2c15,vi Kivity <avi@cloudius-systems.com>, 2015-06-28 10:24:48 +0300, , readme fix typo paramter syntax noticed gleb,,
4601,f5ce89b2036b8d0960a536e530c56f6b40a19805,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-06-25 15:21:28 -0300, , core introduce function rename file signed raphael carvalho raphaelsc cloudius systems.com,,
4602,a349f373b40d781dc04b88e79039830b067e1b92,adav Har'El <nyh@cloudius-systems.com>, 2015-06-25 15:30:14 +0300, , pipe avoid needle use exception closing read end side pipe need notify writer blocked write full pipe blocked get broken pipe next write attempt used queue abort fine function anything nobody waiting full buffer still call std unconditionally slow involves throwing exception catching annoying false alarm trying debug gdb catch throw stop throw patch doe _buf.full _buf.abort std  typical case buffer full hopefully empty anything signed nadav har nyh cloudius systems.com,,
4603,e404b5349a1ced521814424bacbbb536513b88a3,vi Kivity <avi@cloudius-systems.com>, 2015-06-24 18:49:38 +0300, , readme update dpdk instruction bundled dpdk,,
4604,716c7c04db693c266f52de6b0cced0252d70b3bf,vi Kivity <avi@cloudius-systems.com>, 2015-06-24 18:09:17 +0300, , build configure dpdk max_memseg higher value prevent failure high memory machine,,
4605,ab229328992dcaaeb32820c50ab1e5493e1552bf,vi Kivity <avi@cloudius-systems.com>, 2015-06-24 18:07:11 +0300, , build make dpdk config generic allow setting variable value disabling,,
4606,63e7f8d99c7cc872aa8e457e620f29c8ebb6fae6,vi Kivity <avi@cloudius-systems.com>, 2015-06-23 20:07:08 +0300, , doc exclude dpdk,,
4607,768201a4062223a5d88c2882ab58ac2f1dea9745,vi Kivity <avi@cloudius-systems.com>, 2015-06-23 20:03:07 +0300, , build add support building included dpdk dpdk auto configured configure.py auto built ninja whenever something change,,
4608,d1766f6031fd685fc3685ecf9e6642ded8a6cadd,vi Kivity <avi@cloudius-systems.com>, 2015-06-23 17:45:49 +0300, , notice mention dpdk,,
4609,d55e89f695a10b62374074b74d0764b85b5d591d,vi Kivity <avi@cloudius-systems.com>, 2015-06-24 13:09:37 +0300, , add dpdk submodule,,
4610,27b02009120934056e58e0d62dc62fd9eea2a992,vi Kivity <avi@cloudius-systems.com>, 2015-06-24 07:21:05 +0300, , test mix stdout xml log result corrupted xml,,
4611,14a8110d1f73628a0aa8a268a2d351caf1746399,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-06-23 12:02:23 +0200, , future avoid copying result get0 even though accept std tuple ... value reference inside get0,,
4612,f458d6c54aa1cc9853279fb0fab9f39c9b9ef528,hlomi Livne <shlomi@cloudius-systems.com>, 2015-06-23 10:16:12 +0300, , test generate seperate boost xml output file single generated file corrupted time time switch use multiple file hope resolve issue signed shlomi livne shlomi cloudius systems.com,,
4613,6ce39d839991b1309350b75a5b330dd4df040128,vi Kivity <avi@cloudius-systems.com>, 2015-06-22 19:14:05 +0300, , test move semaphore test futures_test semaphore_test,,
4614,ab7be2890feeb689288b08b0961a86a5ef901436,vi Kivity <avi@cloudius-systems.com>, 2015-06-22 00:14:37 +0300, , core rename distributed service seastar sharded service distributed connotation distributed across network sharded line seastar term keep distributed name header file alias compatibility,,
4615,b879fabf36a45171cc35a894545e97c9a7be3bb8,vi Kivity <avi@cloudius-systems.com>, 2015-06-22 12:48:50 +0300, , reactor block sigalrm still ready handle code set timer set sigalrm signal handler die block meantime,,
4616,6d09819d1d87181af8a3e1ad40528b6dcc2ce750,vi Kivity <avi@cloudius-systems.com>, 2015-06-22 10:38:55 +0300, , merge repeat tomasz repeat single callback version do_until make easier stop loop stop condition calculated loop body,,
4617,e5e7348f7656b35ed5d7230fe41f047e04bb30d0,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-06-20 19:03:21 +0200, , core reimplement keep_doing using repeat,,
4618,61992f84c552f9f0039f589d6702c19e578a3d9f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-06-20 11:24:51 +0200, , core introduce repeat like do_until stop condition calculated callback instead supplied separately,,
4619,bd3044a38d9f150f5b3d1b70f5a968a64f4ef391,vi Kivity <avi@cloudius-systems.com>, 2015-06-21 23:36:42 +0300, , do_with doc mark internal,,
4620,5367a0fb8b6b69f2ea1dacda27497d001c0e0348,vi Kivity <avi@cloudius-systems.com>, 2015-06-21 23:27:33 +0300, , doc unhide static function,,
4621,9679075b30f78c24a3c1bec4440d9456b393777f,vi Kivity <avi@cloudius-systems.com>, 2015-06-21 20:54:53 +0300, , shared_mutex reinstate fifo ordering noticed nadav,,
4622,18fd73b065b29f4bfb343aaf6f85bdedac6eded8,vi Kivity <avi@cloudius-systems.com>, 2015-06-21 20:36:15 +0300, , gate fix doc typo,,
4623,a2ec5ebe873a6c354ca2090607cf6ec3b35419ff,vi Kivity <avi@cloudius-systems.com>, 2015-06-21 20:35:54 +0300, , doc add gate class fiber module,,
4624,ac94c1d68e522f64bb58075968f82a63bedec40e,vi Kivity <avi@cloudius-systems.com>, 2015-06-21 20:33:34 +0300, , doc add fiber module main page,,
4625,d9bfbe55c8056acb587845a4244a1090db0bc52b,vi Kivity <avi@cloudius-systems.com>, 2015-06-21 19:07:06 +0300, , core introduce shared_mutex class similar std shared_mutex allows shared exclusive locking resource also known reader writer lock implementation strictly fifo,,
4626,a99956db8e6b45da25785d562511e52050cd710f,vi Kivity <avi@cloudius-systems.com>, 2015-06-21 19:07:05 +0300, , future util implement range based map_reduce variant,,
4627,33a4f1b32b6850337793cf3913390823772a2124,vi Kivity <avi@cloudius-systems.com>, 2015-06-21 18:02:28 +0300, , reactor move destructor .cc file totally uninteresting anyone else,,
4628,cebe81082b08e6b9123b43afd03ffb32c6eda04f,vi Kivity <avi@cloudius-systems.com>, 2015-06-21 17:56:18 +0300, , reactor destroy system timer destructor keeping timer armed cause signal sent handled terminating program early,,
4629,614da559d058a9f7c54c2c2fb4a48f44b3017576,vi Kivity <avi@cloudius-systems.com>, 2015-06-21 11:44:27 +0300, , semaphore provide broken variant accepting std exception_ptr,,
4630,439b9c848a4bc39b4fce0620785952185f1823ae,vi Kivity <avi@cloudius-systems.com>, 2015-06-20 12:02:00 +0300, , test fix fstream_test misuse shared_ptr static shared_ptr cause shared_ptr destroyed cpu one constructed illegal,,
4631,535928c643b48ab4762bc40768aab8969b42f0c0,vi Kivity <avi@cloudius-systems.com>, 2015-06-20 11:43:14 +0300, , test fix fstream_test use free,,
4632,033d919eaa8cafd0e7ef5292f7937bfe05e19224,vi Kivity <avi@cloudius-systems.com>, 2015-06-20 11:30:13 +0300, , test add missing test test.py,,
4633,1c8ee4e1608e6e38bcc23c8cee80e44cf9db0b92,vi Kivity <avi@cloudius-systems.com>, 2015-06-20 11:29:53 +0300, , test convert make pas,,
4634,32ede23303c88bb3b44e36a71298caf48a46a7c0,vi Kivity <avi@cloudius-systems.com>, 2015-06-20 11:17:28 +0300, , test remove obsolete test reactor test,,
4635,9b884b3435991eee6a508ea51672e0967875017a,adav Har'El <nyh@cloudius-systems.com>, 2015-06-20 01:59:39 +0300, , reactor information ignored exceptional future exceptional future ignored print message std exception print however would useful also see exception type already exception type printing code engine_exit patch extract code separate function also print warning message exceptional future ignored example one test patch see warning exceptional future ignored _map_base patch warning exceptional future ignored type std out_of_range _map_base signed nadav har nyh cloudius systems.com,,
4636,13a68fa62c03dd65a3758c34f2d4c099a8b01ede,adav Har'El <nyh@cloudius-systems.com>, 2015-06-20 01:25:15 +0300, , pipe fix syntax error pipe reader sure compiler complain earlier ... signed nadav har nyh cloudius systems.com,,
4637,39218c32f77895ed0ae0f94e4b53756c319a9a4d,vi Kivity <avi@cloudius-systems.com>, 2015-06-19 20:24:56 +0300, , core extend do_with support multiple parameter do_with int int int return int ,,
4638,6595ad0bdef97c899faad5bad1406252a29c8d0a,vi Kivity <avi@cloudius-systems.com>, 2015-06-18 15:32:09 +0300, , core introduce gate class gate allows stopping new incoming request detecting last progress request left,,
4639,2f4e123eab08b50e2dd95bb40aeb4011cf0a2b73,adav Har'El <nyh@cloudius-systems.com>, 2015-06-19 00:03:34 +0300, , core pipe passing data fiber queue convenient mechanism passing data producer fiber set consecutive continuation consumer fiber however queue difficult use correctly biggest problem handle premature stopping one two fiber reader writer stop prematurely never read write queue used naively fiber hang indefinitely wait read empty queue write full queue solution proposed patch new pipe mechanism implemented internally queue pipe return two separate object pipe reader pipe writer typically object std move different fiber fiber stop captured variable destroyed one end pipe destroyed cause end operation return immediately end already blocked resume immediately return exception behavior analogous unix eof broken pipe behavior signed nadav har nyh cloudius systems.com,,
4640,f7f445d56357dceb169cc21a11cf5d3eb3eb3788,leb Natapov <gleb@cloudius-systems.com>, 2015-06-18 14:10:45 +0300, , distributed deallocate _instance array stop otherwise tester may crash _instances destructor called thread responsible allocation tester spawned run seastar longer running,,
4641,46f47b7ea2307485480d9403b23049feba3b85c0,leb Natapov <gleb@cloudius-systems.com>, 2015-06-18 14:25:08 +0300, , rpc implement stop server client connection,,
4642,3c4dcd871afe78d2bcbd8afde479a304eeb00788,leb Natapov <gleb@cloudius-systems.com>, 2015-06-18 14:25:07 +0300, , add default move constructor assignment server_socket,,
4643,e22e27a9bacf5211f4ab7db3df8836714548b345,vi Kivity <avi@cloudius-systems.com>, 2015-06-18 12:53:06 +0300, , build fix spelling _fortify_source,,
4644,92803a2db3818995bee6ee4d5113ff2e99e6e075,lauber Costa <glommer@cloudius-systems.com>, 2015-06-17 14:45:53 -0400, , touch_directory eexist ignoring make directory many situation would like make sure directory exists creating directory want ignoring relevant error lot code though believe idiom common enough exist  signed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com,,
4645,534401c91f49e9d6dccac607fba94a7ab5b8adfd,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-06-17 09:42:58 -0300, , fstream use dma_alignment constant instead hardcoded value signed raphael carvalho raphaelsc cloudius systems.com,,
4646,02bdf380c4eeb719d26a6f9fe7279b9b5fa9a0fe,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-06-17 09:42:57 -0300, , fstream abort instead silently returning ready future signed raphael carvalho raphaelsc cloudius systems.com,,
4647,56193079a4aba48f7960d367cb71792ed32b07f5,leb Natapov <gleb@cloudius-systems.com>, 2015-06-17 16:16:53 +0300, , test add one semaphore test test wait timeout without work semaphore simultaneously,,
4648,a2c1ab66b77103d20fc91d49b31b0299d1fcb7a9,leb Natapov <gleb@cloudius-systems.com>, 2015-06-17 16:15:17 +0300, , semaphore fix access freed memory wait timeout wait timeout take reference entry circular_buffer resized may moved freed instance accessed timeout fix using std list instead,,
4649,3d75bab9b4870c63cd8ee8561fde067043aab4d7,vi Kivity <avi@cloudius-systems.com>, 2015-06-18 12:11:15 +0300, , build disable _fortify_source _fortify_source complains false positive thread implementation due longjmp disable,,
4650,4399aaba68d2efa30e44eadd7e1188a8f340ac6a,hlomi Livne <shlomi@cloudius-systems.com>, 2015-06-16 23:48:29 +0300, , test fix bug handling stderr pipe test.py,,
4651,cf42e4c1a445e7635a85f5aa812a5c3edd1fbc52,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-06-16 19:28:24 +0200, , core fix const compilation failed called const object signed avi kivity avi cloudius systems.com,,
4652,8efcec194931ebe90118ffd87ba8198e351307e3,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-06-16 19:28:23 +0200, , core add missing move copy constructor signed avi kivity avi cloudius systems.com,,
4653,78f37b25b82ce244634f04f59db50ba80329cc89,hlomi Livne <shlomi@cloudius-systems.com>, 2015-06-16 19:31:48 +0300, , test update test.py use temporary file test stdout using boost output format xml flag jenkins output file garbled seems output lost try overcome changed impl use temporay file instead pipe signed shlomi livne shlomi cloudius systems.com,,
4654,194cb68c8b3391c3f01cd65739fbc33c794a3c0e,ekka Enberg <penberg@cloudius-systems.com>, 2015-06-16 17:10:38 +0300, , test add thread thread test case,,
4655,c477f0e2088fc6fd439e6d66f48093a575daee71,vi Kivity <avi@cloudius-systems.com>, 2015-06-16 17:10:22 +0300, , thread remove obsolete fixme,,
4656,edcd346d83b129cf3f86964294db41894f649aeb,vi Kivity <avi@cloudius-systems.com>, 2015-06-16 17:04:02 +0300, , thread fix thread created within thread thread switching code assumed always switch thread due blocked unavailable future allows core store blocked thread context synthetic continuation chained future switched back thread assumption failed one place create thread within thread case switch new thread immediately forget old thread never come back old thread anything depends hang fix creating linked list active thread context thread preempted act creating new thread terminated main unthreaded reactor context give place store thread come back continue left  reported pekka,,
4657,201486ad897859a2538391de0a583bb8b0356905,vi Kivity <avi@cloudius-systems.com>, 2015-06-16 15:37:16 +0300, , merge branch master github.com cloudius system seastar,,
4658,5538e234f8c895616a32d790b9304c2b32cf1b50,vi Kivity <avi@cloudius-systems.com>, 2015-06-16 13:05:01 +0300, , httpd make connection public test want,,
4659,2b0650f3f77317beab1bdb55d7fecec00e2c3ec6,vi Kivity <avi@cloudius-systems.com>, 2015-06-16 12:59:22 +0300, , merge branch shutdown shutdown support socket httpd integration,,
4660,1e481f91b7cffed48ef998933c8ca8d067872aa9,vi Kivity <avi@cloudius-systems.com>, 2015-06-16 11:46:02 +0300, , httpd stop active connection shutdown keep list active connection shutdown socket stopping wait connection remove returning,,
4661,56abdc4632728bf42effd205c4a9e52dee54f944,vi Kivity <avi@cloudius-systems.com>, 2015-06-15 18:30:29 +0300, , httpd implement stop http_server abort active accept call shuts active connection still leaked,,
4662,8f9d3dc9b22dff9bf5651468f9a22928303c03da,vi Kivity <avi@cloudius-systems.com>, 2015-06-15 17:59:54 +0300, , httpd reformat main.cc,,
4663,8dc71b7b8bcd6fc00c0cc7a17b249d9dcc000b32,vi Kivity <avi@cloudius-systems.com>, 2015-06-15 16:48:32 +0300, , net wire shutdown method expose user,,
4664,e59c7d9f1f956edd4fdaee969ee3ee58101c31ad,vi Kivity <avi@cloudius-systems.com>, 2015-06-15 16:48:04 +0300, , net provide shutdown method native tcp stack,,
4665,74e9a897b7e1489ca7ca0cb3c2cee06601fc6d32,vi Kivity <avi@cloudius-systems.com>, 2015-06-15 16:46:21 +0300, , net add shutdown method posix simply ask kernel shutdown propagate exception caller,,
4666,661d459fff3ae9b64b60a7357bf16a442e926dd0,vi Kivity <avi@cloudius-systems.com>, 2015-06-15 16:45:07 +0300, , net wire server_socket shutdown method expose caller,,
4667,587013a61112c43703e37ebe6a5f98c96542c873,vi Kivity <avi@cloudius-systems.com>, 2015-06-15 16:44:03 +0300, , net add shutdown method tcp listener,,
4668,9f7e31494c4d47a39ee6383429897fde2be8f3cc,vi Kivity <avi@cloudius-systems.com>, 2015-06-15 16:41:40 +0300, , posix stack add method shut listening socket anyone waiting accept receive exception,,
4669,f0ae995817d926777f25dc2f8008ecd6180a6c5c,vi Kivity <avi@cloudius-systems.com>, 2015-06-15 23:17:06 +0300, , distributed document,,
4670,31d38012153173e082fac2c287906974599aa3ec,vi Kivity <avi@cloudius-systems.com>, 2015-06-15 16:38:52 +0300, , reactor wire shutdown pollable_fd,,
4671,2a24e8f5caa0b873b6b127c03cc28f50ad7c87a2,vi Kivity <avi@cloudius-systems.com>, 2015-06-15 16:37:43 +0300, , reactor add method abort future waiting event waiting blow away exception unsubscribe event epoll,,
4672,1b99b1f170e89f1408e4c8bb067b99c278037e44,vi Kivity <avi@cloudius-systems.com>, 2015-06-15 16:35:48 +0300, , queue add method abort queue destroy queued object blow waiting reader writer exception,,
4673,c653cc1910fbce2be7d6e692ac1787afb61d7b85,vi Kivity <avi@cloudius-systems.com>, 2015-06-15 16:35:22 +0300, , posix wire shutdown api,,
4674,a4c711afd4fd7029f609ca9e931ba529d410f886,vi Kivity <avi@cloudius-systems.com>, 2015-06-15 11:43:38 +0300, , future fix future get0 empty tuples first element,,
4675,ddaaa315c8625aa8d246476719940e27edc2362d,vi Kivity <avi@cloudius-systems.com>, 2015-06-15 11:25:03 +0300, , future add get0 helper get first member result tuple reviewed pekka enberg penberg cloudius systems.com,,
4676,053566b3e93d5692b869ef877c6653d49b28ed98,vi Kivity <avi@cloudius-systems.com>, 2015-06-15 08:47:44 +0300, , deleter document,,
4677,1769cb4520f546c46b86513dedaa8a6f5d097cae,vi Kivity <avi@cloudius-systems.com>, 2015-06-14 23:52:25 +0300, , document,,
4678,25420a6fdff540f96d3a03d36f94ade1d67c2479,vi Kivity <avi@cloudius-systems.com>, 2015-06-14 16:11:31 +0300, , core add support cpuset command line option syntax cpu cpu cpu cpu ... default processor,,
4679,f85a2b48bbfc58ead5fb74fa54eb967314fffb2a,vi Kivity <avi@cloudius-systems.com>, 2015-06-14 16:10:21 +0300, , resource support using subset machine processor useful running multiple seastar application machine testing purpose,,
4680,50b18a56cd78131f02a091d397e78e5dfbe99722,leb Natapov <gleb@cloudius-systems.com>, 2015-06-14 14:09:58 +0300, , test add semaphore test,,
4681,361db498d182a7c6cb95fc9452f7357c22c56794,leb Natapov <gleb@cloudius-systems.com>, 2015-06-14 14:09:57 +0300, , semaphore add wait timeout support,,
4682,f19ba7c334d523d53b70f9dd28ceb7e32f7d4961,leb Natapov <gleb@cloudius-systems.com>, 2015-06-14 14:09:56 +0300, , add timer move constructor,,
4683,1b2bf57a2b756e2330c6276f963afde02cd11c22,leb Natapov <gleb@cloudius-systems.com>, 2015-06-14 14:09:55 +0300, , move timer reactor.hh header,,
4684,0b0ad1341870fd4aab51f8f9bf023534cbbc6a1a,vi Kivity <avi@cloudius-systems.com>, 2015-06-14 09:20:38 +0300, , doc prevent becoming emdash,,
4685,5251c2523acb5639f24c20dda0ac8dae10ce5c10,vi Kivity <avi@cloudius-systems.com>, 2015-06-14 09:14:30 +0300, , thread point async easy way launch thread,,
4686,980a7dc88184653765a7f5eca7151a707ecec80a,vi Kivity <avi@cloudius-systems.com>, 2015-06-14 08:56:42 +0300, , thread documentation,,
4687,2f238e7d2ed2821f8b6847133b672b91378d32a0,lad Zolotarov <vladz@cloudius-systems.com>, 2015-06-11 14:05:22 +0300, , dpdk exclude kni module required module use module compilation broken dpdk 2.0.0 linux kernel 4.0.x signed vlad zolotarov vladz cloudius systems.com,,
4688,b5b1fa730bfac1165cc33dfb011ae02a7f76bf2f,vi Kivity <avi@cloudius-systems.com>, 2015-06-11 11:12:07 +0300, , dpdk compatibility dpdk 2.1,,
4689,c4756c7622f736c1572e7673bf35b02a38065450,vi Kivity <avi@cloudius-systems.com>, 2015-06-10 11:48:20 +0300, , fstream fix dropped future write path noticed raphael,,
4690,4bbd90d14c9d30c7d6c044aa145a86ce891adf29,vi Kivity <avi@cloudius-systems.com>, 2015-06-09 12:53:58 +0300, , reactor workaround missing kernel header prehistoric kernel expose humor,,
4691,7a464ddf997bdcc9f1daf0d1052074ec6f8d1d57,vi Kivity <avi@cloudius-systems.com>, 2015-06-09 11:15:47 +0300, , reactor batch aio instead issuing system call every aio wait accumulate issue reduces syscall count allows kernel batch request plugging queue call poller added request delayed much reviewed pekka enberg penberg cloudius systems.com,,
4692,44e35ef5454bc7ec9511b634b4e53aa7421f1505,vi Kivity <avi@cloudius-systems.com>, 2015-06-08 20:02:24 +0300, , fstream preallocation support file output stream preallocate disk block advance writing reviewed pekka enberg penberg cloudius systems.com,,
4693,3ab32ae7a174982aa325f65ae1a208757e588260,vi Kivity <avi@cloudius-systems.com>, 2015-06-08 20:02:23 +0300, , file add allocate method allocate disk block advance writing reviewed pekka enberg penberg cloudius systems.com,,
4694,d864da71fcda0a196f4b7e4943b9eb4ffaa5cdac,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-06-07 15:13:22 +0300, , core avoid fsyncing output stream twice reason added fsync call file underlying stream get truncated happens flushing file size aligned requested dma buffer instead fsync called closing stream patch change code signed raphael carvalho raphaelsc cloudius systems.com,,
4695,89115e8da239105c45025eaff592b7c6f4b7c52f,vi Kivity <avi@cloudius-systems.com>, 2015-06-07 14:31:26 +0300, , test whitelist thread_test,,
4696,ed3d85d299b7f4c487a019d5d24e745128ae61f1,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-06-05 12:28:19 +0200, , foreign_ptr use std pointer_traits get element type,,
4697,27d9446f77592fbcf4ab97439cdcf914653b0051,vi Kivity <avi@cloudius-systems.com>, 2015-06-06 13:47:44 +0300, , future fix false positive promise tied future lost state destroyed promise still track future destroyed future get future called promise think destroyed generating value fails assertion fix detaching promise future soon get remove value,,
4698,3986ad6a117d8a29c7086e05b74812c28c5910af,vi Kivity <avi@cloudius-systems.com>, 2015-06-04 18:28:30 +0300, , thread add seastar async following std async seastar async func cause func executed seastar thread block using future get whatever func return converted future returned async return value,,
4699,b06f6f82097405883142cbe44294fcc040f2aa3c,leb Natapov <gleb@cloudius-systems.com>, 2015-06-04 18:29:04 +0300, , foreign_ptr introduce sometimes remote data copied local cpu data already local copy avoided introduce helper function move copy data depending origin cpu,,
4700,db73024f0cfa2baf6c16862cb007fa0cc8256f96,lad Zolotarov <vladz@cloudius-systems.com>, 2015-06-02 17:01:04 +0300, , core distributed local check vector boundary trying access element assert bound element initialized signed vlad zolotarov vladz cloudius systems.com,,
4701,8d0bd44b08c7263a63f1a63049563f4fd6f8941d,vi Kivity <avi@cloudius-systems.com>, 2015-06-03 20:44:48 +0300, , do_with doxygenize,,
4702,5333c54958b14bec186a415511e1b8e4e3a734a2,vi Kivity <avi@cloudius-systems.com>, 2015-06-03 20:27:36 +0300, , networking module documentation,,
4703,38a22d9cd8fffa8c439715f5d300f1e3edab6475,mnon Heiman <amnon@cloudius-systems.com>, 2015-05-04 15:24:42 +0300, , json float double support change json formatter handle float add double support float double conversion throw exception try convert inf nan also contains test float double including inf inf nan float double signed amnon heiman amnon cloudius systems.com,,
4704,604b13633e52a91f8b57e2fa60245907301ee1cd,vi Kivity <avi@cloudius-systems.com>, 2015-06-02 22:37:43 +0300, , distributed document foreign_ptr,,
4705,3fe6bb505e7edb3de20cc245ed7d0d9043f9a344,vi Kivity <avi@cloudius-systems.com>, 2015-06-02 22:20:13 +0300, , future document traitless map_reduce,,
4706,ba0e4e45bcc60b6897cd5c8f96cc404981e5c2c2,vi Kivity <avi@cloudius-systems.com>, 2015-06-02 13:22:35 +0300, , future disable inline continuation debug mode inline continuation hide bug stack variable captured reference disable debug mode,,
4707,f9dd73d57fc4d5592fb11ab8a0b7447283b10028,vi Kivity <avi@cloudius-systems.com>, 2015-06-02 15:09:59 +0300, , test make httpd test wait continuation execute reactor may defer,,
4708,06dd2899f57ed162d122f7cca55ac1273afe4f56,vi Kivity <avi@cloudius-systems.com>, 2015-06-02 14:47:15 +0300, , test convert httpd test use continuation,,
4709,919260f3bd24579a010aed0faf61b26ede293271,vi Kivity <avi@cloudius-systems.com>, 2015-06-02 14:35:04 +0300, , test ensure continuation executed reactor free inline continuation run check inside continuation,,
4710,1b52ca1bef06cd71286ef4a25f62fb1d20f929e7,vi Kivity <avi@cloudius-systems.com>, 2015-06-02 13:30:08 +0300, , test memcache ascii parser fix use free input stream need kept alive done reading,,
4711,606368f6f64570c2d115e7151725256897e4dcea,vi Kivity <avi@cloudius-systems.com>, 2015-03-24 10:43:48 +0200, , shared_ptr add debug option detecting copy wrong cpu track cpu reference count referred shared_ptr created prevent modifying wrong cpu,,
4712,b0abe9230b01208284aa231185844cc732dc82da,vi Kivity <avi@cloudius-systems.com>, 2015-06-01 11:37:42 +0300, , doc fix typo do_until,,
4713,23d874f7864ba4297f17f591fb31215bd661bccc,vi Kivity <avi@cloudius-systems.com>, 2015-06-01 11:35:37 +0300, , doc low level memory management,,
4714,3d4314b7e4579f90e3860497922290a0e718cc87,vi Kivity <avi@cloudius-systems.com>, 2015-05-31 19:08:16 +0300, , doc disambigute class future future documentation module,,
4715,3a63706f976ae0b5315131036ecd4ce8d5d6e3ad,vi Kivity <avi@cloudius-systems.com>, 2015-05-31 19:00:10 +0300, , future document future util function,,
4716,e83c39212076e25a5a0e802b9950653da4d12e9e,mnon Heiman <amnon@cloudius-systems.com>, 2015-05-28 15:16:36 +0300, , http support file transformer run file transformer file returning result used templating support signed amnon heiman amnon cloudius systems.com,,
4717,abaad55a66e5baaec6d9c20c077633d704e2a44a,vi Kivity <avi@cloudius-systems.com>, 2015-05-31 18:10:54 +0300, , future fix documentation error noted nadav,,
4718,65ff797ec177a8fd20c935e02bdada825578e606,vi Kivity <avi@cloudius-systems.com>, 2015-05-31 17:51:53 +0300, , doc add main doxygen page,,
4719,aa519f86a860a95548be7ce97b128228bd74e544,vi Kivity <avi@cloudius-systems.com>, 2015-05-31 17:29:31 +0300, , future user level documentation,,
4720,2877364947cae3b7e909438794313f3cc7027520,vi Kivity <avi@cloudius-systems.com>, 2015-05-31 15:49:05 +0300, , future separate task class header task lower level concept future promise move header,,
4721,c5077ce99b85f6624f7d81305544fbe68e43b340,leb Natapov <gleb@cloudius-systems.com>, 2015-05-31 15:22:48 +0300, , test add missing header,,
4722,b77605cdba0fa3c61afac87a376a6002ed21366b,lauber Costa <glommer@cloudius-systems.com>, 2015-05-28 10:54:53 -0400, , reactor call remove instead unlink remove convenient glibc wrapper unlink file rmdir directory allow operate without creating separate function directory signed glauber costa glommer cloudius systems.com,,
4723,c547f9a718d778fd255d580294dd6a6653b21b3f,lad Zolotarov <vladz@cloudius-systems.com>, 2015-05-28 13:10:41 +0300, , fstream prevent exception thrown good get flow hidden exception could thrown insize file dma_get_bulk file size aligned fstream _buffer_size case file dma_read_bulk given _buffer_size length last data chunk file file dma_read_bulk get short read till eof try read beyond calling file read_maybe_eof order differentiate error eof file read_maybe_eof throw file eof_error exception indicate eof caught file dma_read_bulk since read good byte exception forwarded however damage throwing exception already done want avoid fstream flow unless real error order prevent always request file dma_read_bulk read amount data able deliver beyond eof signed vlad zolotarov vladz cloudius systems.com,,
4724,b70c9a2e18137c0f406b8e0fc0cea2e456dbea81,lad Zolotarov <vladz@cloudius-systems.com>, 2015-05-28 13:10:40 +0300, , file read_maybe_eof throw file eof_error make read_maybe_eof return zero sized buffer beyond eof prevent internal exception throwing inside file class case dma_read_bulk going succeed return read data e.g called offset file size offset range_size beyond eof signed vlad zolotarov vladz cloudius systems.com,,
4725,ae03cfbb5d05ca526ccb61d27c8255894791621c,lad Zolotarov <vladz@cloudius-systems.com>, 2015-05-28 13:10:39 +0300, , file clarify class interface move read_state helper class file dma_read_bulk file read_maybe_eof definition outside class declaration order make reading class interface easier signed vlad zolotarov vladz cloudius systems.com,,
4726,9243187ac2cf2c634815fac5cbd94c97438b01da,vi Kivity <avi@cloudius-systems.com>, 2015-05-28 13:08:46 +0300, , stream make subscription little usable requiring next_fn available listen time mean pas subscription around often hard create next_fn since usually need capture also point subscription creating chicken egg problem fix separating registration process two step listen creates subscription start accepts next callback start processing event,,
4727,c620bab8e5541f3c970fde9a2913b34d35857744,akuya ASADA <syuu@cloudius-systems.com>, 2015-05-27 20:53:54 +0900, , image build script running seastar linux guest creates linux guest seastar dpdk command signed takuya asada syuu cloudius systems.com,,
4728,bb4b15566c9c691c1aa0f23940fcae3ce4216e67,mnon Heiman <amnon@cloudius-systems.com>, 2015-05-20 11:02:12 +0300, , rpc fix get_stats returning updated stats structure get_stats need return copy stats structure original value signed amnon heiman amnon cloudius systems.com,,
4729,ef11234d0c9add12686c842201bf30797cb66ef2,vi Kivity <avi@cloudius-systems.com>, 2015-05-27 13:33:37 +0300, , reactor add counter file read writes fsyncs threaded fallback reviewed pekka enberg penberg cloudius systems.com,,
4730,bdfe41820a82d976c5f4aa2a0419bd5512e7e994,vi Kivity <avi@cloudius-systems.com>, 2015-05-26 16:42:15 +0300, , future util.hh add missing include,,
4731,7b1f433aed1d227425be1b339824757ab78096fe,lad Zolotarov <vladz@cloudius-systems.com>, 2015-05-26 13:37:51 +0300, , file rework read interface move get logic fstream.cc file dma_read_bulk fixing issue fix funny alignment calculation make sure length aligned added new function dma_read len return read data assume require alignment either len unlike dma_read_bulk function trim resulting buffer requested size len doe exactly dma_read len doe also throw exception failed read required number byte e.g eof reached changed name parameter dma_read buf len order emphasize aligned added description dma_read buf len make even clear signed vlad zolotarov vladz cloudius systems.com,,
4732,796c203d68726fe74c168ad70460e32cf0bf7156,lad Zolotarov <vladz@cloudius-systems.com>, 2015-05-26 13:37:50 +0300, , core remove include reactor.hh future util.hh future util.hh included file included reactor.hh e.g file.hh signed vlad zolotarov vladz cloudius systems.com,,
4733,d115f9cef6e218cb24386054ee30893b0998b32b,vi Kivity <avi@cloudius-systems.com>, 2015-05-25 22:20:58 +0300, , future modernize lambda_task make_task use inline override final make_unique,,
4734,d1bc08e9e7856c7808daef8c716f556495908676,vi Kivity <avi@cloudius-systems.com>, 2015-05-25 22:18:24 +0300, , future merge two variant make_task using universal reference unify two case,,
4735,8812504e4bb036b0a4bb5f349b123d077ecc125e,vi Kivity <avi@cloudius-systems.com>, 2015-05-25 21:27:40 +0300, , future sprinke always_inline attribute strategic place gcc make poor inlining decision sometimes cause value tracking optimization lost forcing inline particularly around destructors allows ready future inlined fewer always true test data movement,,
4736,6d6872063d51d39f3ec006ddce46f8670c9e6b71,mnon Heiman <amnon@cloudius-systems.com>, 2015-05-25 13:54:39 +0300, , http simplify using parameter request parameter request hold path parameter current implementation based unorder_map downside path parameter sometime used mark file path extend multiple url section may contain value always contain leading slash though true file common case would easier return value without operator hash map non const mean used common case request object passed const reference exists method ordered_map usually query parameter mandatory still usefull easy way testing parameter found series wrap unordered_map implementation manner suitable request operator const retrun copy parameter value without leading slash method keep old meaning clearer code path method added indicate return value leading slash set method used assignment older code continue work without change signed amnon heiman amnon cloudius systems.com,,
4737,88e7dcfa86a8d674ae96b6071d7e39f8b47d9dda,sias He <asias@cloudius-systems.com>, 2015-05-25 16:38:08 +0800, , remove redundant const static constexpr const http cpp language constexpr constexpr specifier used object declaration implies const however change static constexpr const char time_format  static constexpr char time_format compiler complains file included json formatter.cc json formatter.hh 132 error deprecated conversion string constant char werror write string static constexpr char time_format since unlike const constexpr doe modify type applies object function incidentally implies const top level type,,
4738,0bd48b37ed50f4efd2abee9f958a3e013f6d86d2,vi Kivity <avi@cloudius-systems.com>, 2015-05-23 11:40:39 +0300, , future consolidate task_with_state internal structs task_with_state identical except constructor merge new struct continuation,,
4739,0c549eeca60917fb89b99cb9e5835d4baabac212,leb Natapov <gleb@cloudius-systems.com>, 2015-05-21 16:09:16 +0300, , reactor fix unintentional timer copying reactor destructor,,
4740,cb6361ed037b3a28ead1f44b2009553d22e5fa2e,leb Natapov <gleb@cloudius-systems.com>, 2015-05-20 17:02:59 +0300, , rpc add ability bind client specified local address,,
4741,f77d3bbf5297ae115a5c47445f7b71e12bc078d7,leb Natapov <gleb@cloudius-systems.com>, 2015-05-20 17:02:58 +0300, , net extend connect api allow bind specific local address port,,
4742,eda6a528ebd475910c9a4da619c37d6ca37cd711,adav Har'El <nyh@cloudius-systems.com>, 2015-05-20 13:53:42 +0300, , iostream consume fix hung test test test memcached hung change consume problem consume notified consumer eof sending empty buffer expected get back message read setting unconsumed buffer continued send empty buffer never ending loop patch change consume send one empty buffer consumer end file stop regardless consumer return would probably made sense send empty buffer consumer data done even change behavior break existing test signed nadav har nyh cloudius systems.com tested tomasz grabiec tgrabiec cloudius systems.com,,
4743,ddf2167949d0fcacd8e56517ccd9529146865e4a,leb Natapov <gleb@cloudius-systems.com>, 2015-05-20 11:33:35 +0300, , net add new contractor ipv4_addr one take string port number,,
4744,c5f61666d32a40ab830307ffa429eedb0a0bd002,adav Har'El <nyh@cloudius-systems.com>, 2015-05-19 19:27:07 +0300, , input_stream consume overhaul input_stream consume mechanism allows feeding data input stream consumer piece piece consumer want currently assumed input block reading disk consumption assumed immediate patch add support blocking consumption function consumer return future promise fulfill consuming given buffer patch somewhat simplifying interface consumer instead receiving mysterious done lambda consumer supposed call done want input consumer return future optional char mean future fulfilled consumer done buffer either want want stop consumer want stop return remaining part buffer want process pushed back input stream consumer done want consume return unset optional signed nadav har nyh cloudius systems.com,,
4745,c552fdb8b3194e27450f2a5c992f97d37283d866,mnon Heiman <amnon@cloudius-systems.com>, 2015-05-18 15:49:58 +0300, , json2code enhence enum_wrapper code generation generate enum_wrapper enum defined swagger definition file patch add functionality enum_wrapper possible cast enum enum wrapped enum subset target enum reverse functionality constructing enum another enum wrapper support comparison operator begin end method operator boost irange used return range object enum value iterate using range loop example added method code generation template class operator const switch case val1 return val1 case val2 return val2 case val3 return val3 default return val1   typedef typename std underlying_type type pos_type operator static_cast static_cast pos_type return  operator int return  bool operator const const return c.v  bool operator const const return c.v  bool operator const const return static_cast pos_type static_cast pos_type c.v  static begin return val1  static end return num_items  static boost integer_range all_items return boost irange begin end  generated code code found compilation build release gen apps httpd demo.json.hh signed amnon heiman amnon cloudius systems.com,,
4746,1cf95e4bd81099181277d5c1fa17c51f860eb0b2,vi Kivity <avi@cloudius-systems.com>, 2015-05-18 15:27:22 +0300, , merge branch thread github.com cloudius system seastar dev patchset add thread support seastar thread use normal seastar api may also block calling future get unavailable future synchronous asynchronous code may intermixed thread may issue blocking operating system call,,
4747,03c4a6d0504a7617dc490b4d176b57c2fdcdd01f,mnon Heiman <amnon@cloudius-systems.com>, 2015-05-18 15:24:07 +0300, , rpc add counter rpc client add counter net protocol client client would hold counter successfully completed exception recieved sent queue based future queue counter pending sent message number message waiting reply retrieved size outstanding table counter updated helper send function part message sending flow counter part stat structure client internal getter able change value getter return copy counter,,
4748,784e03aa31242e0e87fecf22199dbf81c869577a,vi Kivity <avi@cloudius-systems.com>, 2015-05-17 17:22:48 +0300, , thread use setjmp longjmp context switch swapcontext expensive invokes system call replace setjmp longjmp still use setcontext initially since reasonable portable method setting stack context switch time measured reduced 120ns 450ns inefficiency test future dominating,,
4749,6223e886532a05a4300aeef519bcff1ea657f727,vi Kivity <avi@cloudius-systems.com>, 2015-05-17 15:23:38 +0300, , test add thread context switch timing test,,
4750,7a309c07f56d8dce3ca2c70e01f942635a9bebf4,vi Kivity <avi@cloudius-systems.com>, 2015-05-17 15:25:47 +0300, , test add basic thread test,,
4751,cd0ae463b3d3877ce98e54829fa31ecc1336a763,vi Kivity <avi@cloudius-systems.com>, 2015-05-07 11:46:44 +0300, , core thread support add thread class used launch blockable thread execution within thread future get called unavailable future case block future made ready,,
4752,902d5b21ca2a4ef19a81134f9d18eb1a1ae7ffd8,adav Har'El <nyh@cloudius-systems.com>, 2015-05-14 01:01:27 +0300, , sleep fix use free sleep implementation sleep look like game seastar golf something minimum number line possible unfortunately look clever quite right sleep usually work correctly sanitizer debug build catch use free problem delete object contains timer contains callback std function inside callback workaround patch use future chaining delete sleeper object future became ready point none sleeper object code needed patch also includes regression test issue test look silly sleep check nothing debugging build failed sanitizer reporting use free patch signed nadav har nyh cloudius systems.com,,
4753,2f107938982f3d34b5c07aef709334f8b23a3c71,vi Kivity <avi@cloudius-systems.com>, 2015-05-13 13:23:18 +0300, , core add open_flags exclusive o_excl,,
4754,bf527c2842d4bd6392b783e3f15d96b29a61eeee,vi Kivity <avi@cloudius-systems.com>, 2015-05-13 10:53:13 +0300, , future add range based variant,,
4755,f3c89945353bfff6abb6aacbd9ce817e8416978e,vi Kivity <avi@cloudius-systems.com>, 2015-05-12 16:57:50 +0300, , distributed add map_reduce variant accepting initial value separating initial value accumulator reducer function result simpler invocation unfortunately name conflict another variant name method map_reduce0,,
4756,50d65f1d866776faead4a85438fb8d7be0c8f686,vi Kivity <avi@cloudius-systems.com>, 2015-05-12 11:43:20 +0300, , smp protect lifetime function parameter submit_to submit_to call different core function executed temporary usual case copy heap duration execution however function happens execute locally copy lead use free function defers fix detecting case local execution temporary function copying heap case,,
4757,6173d1af62bc2969d7ee6dfe08b09f5e11af3893,vi Kivity <avi@cloudius-systems.com>, 2015-05-12 12:42:19 +0300, , merge branch calle scollectd fix github.com cloudius system seastar dev collectd fix calle,,
4758,ad5feda8aebd09b22429f992090cb9e164641518,alle Wilund <calle@cloudius-systems.com>, 2015-05-11 22:58:07 +0200, , collectd fix registration deregistration reg anchor managment obviously sleeping something wrote reg unreg code since using copy semantics anchor equivalent double unregistrations luckily unregister broken well counter stay active however broke thing actual non persistent counter added doh anchor must non copyable make creating std vector registration initializer list tricky added helper type registration inherits vector reg construct avoiding illegal copying register unregister broken map semantics doe overwrite insert iterator operation modified various registration callsites use registration move semantics,,
4759,2646fa188fc887181058e88fd49b2a905d95dc34,alle Wilund <calle@cloudius-systems.com>, 2015-05-11 19:50:35 +0200, , collectd add virtual destructor value_list since bind actual std function etc virtual destructor needed,,
4760,e941b5a3787f6ea48ac25437e09e61ae5d698915,alle Wilund <calle@cloudius-systems.com>, 2015-05-11 19:49:27 +0200, , collectd make sure return active,,
4761,db9869639c2e2c6bd3e5bb1f8099c78621eeb05c,alle Wilund <calle@cloudius-systems.com>, 2015-05-11 19:47:48 +0200, , collectd change string type sstring,,
4762,7bb43cb961974c581848d56e39da4f8dbd63f829,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-05-11 18:27:44 -0300, , gitorderfile make change .py file appear first signed raphael carvalho raphaelsc cloudius systems.com,,
4763,4cea444fb2c07a2a40a208d5fe3d4cb587808511,vi Kivity <avi@cloudius-systems.com>, 2015-05-11 17:29:32 +0300, , collectd avoid using exception end packet indicator collectd exception signal buffer space packet exhausted new packet need started violates exception exceptional condition guideline practically make hard use gdb catch throw command trap exception fix using data member store overflow condition instead,,
4764,0e23702dfd9f45198757c38b17df84b7e94e3734,vi Kivity <avi@cloudius-systems.com>, 2015-05-11 13:33:33 +0300, , core add make_directory api,,
4765,3188ae6b8b30a65ad346dbe6db012147a631c5a3,leb Natapov <gleb@cloudius-systems.com>, 2015-05-11 10:11:53 +0300, , rpc remove unneeded capture also sent moved twice wonder even worked second move probably done first,,
4766,9477e41577e16b21170040984f8a4a2930ab1cc0,mnon Heiman <amnon@cloudius-systems.com>, 2015-05-06 13:08:10 +0300, , collectd add api scollectd data scollectd infrastructure allows different part code register internal counter infrastructure would send periodically external server patch add api scollectd allows inquire register value name registered value collectd_value structure used return single value type double signed unsigned bit long definition api found inquiry local cpu caller call relevent cpu signed amnon heiman amnon cloudius systems.com,,
4767,c18e76cb10e7d0d5c4e6351d8f141b553bb1e70c,leb Natapov <gleb@cloudius-systems.com>, 2015-05-06 18:17:25 +0300, , rpc fix stream flushing flush per rpc call instead per argument,,
4768,f3afe9051f5241c8863575e8d35eb143edf16dc9,vi Kivity <avi@cloudius-systems.com>, 2015-05-06 13:26:49 +0300, , merge branch shared_ptr const support lw_shared_ptr,,
4769,f4f6c0a4a3886875a70f90b21abb03f5080ed552,mnon Heiman <amnon@cloudius-systems.com>, 2015-05-06 11:47:03 +0300, , smp add all_cpus helper add static method return range object smp patch possible use auto smp all_cpus signed amnon heiman amnon cloudius systems.com,,
4770,fe9c5a2750cb6f57a0463e41d39b0e23286d7c67,vi Kivity <avi@cloudius-systems.com>, 2015-05-06 11:41:51 +0300, , shared_ptr const correctness lw_shared_ptr use_count,,
4771,211c77bf52af4ba9ad059da59fbb315d2e69720c,vi Kivity <avi@cloudius-systems.com>, 2015-05-06 11:41:33 +0300, , shared_ptr add const support lw_shared_ptr,,
4772,de2e29701644105da52f09830aaa5b4278efb031,leb Natapov <gleb@cloudius-systems.com>, 2015-05-05 12:07:20 +0300, , rpc handle future return type rpc handler properly,,
4773,36701cafcbb766febe74122cd74306ec51d8e96e,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-05-04 12:23:23 -0300, , iostream make close flush change intended make close flush stream proceeding close improves situation guarantee stream flushed closing signed raphael carvalho raphaelsc cloudius systems.com,,
4774,061de14d01bae30e0105499ac04301199feeaf05,sias He <asias@cloudius-systems.com>, 2015-05-05 14:36:37 +0800, , readme rename readme osv readme osv.md,,
4775,2ec753596999c1687c507051ed2027b0a2ce32cb,leb Natapov <gleb@cloudius-systems.com>, 2015-04-30 18:00:42 +0300, , rpc allow handler receive non default constructable type currently possible type instantiated deserialized fix allocating space object using std aligned_storage,,
4776,a28f0efd9ab882db0dab01024fa8ee44ebfe9755,vi Kivity <avi@cloudius-systems.com>, 2015-04-30 13:51:43 +0300, , sstring add iterator range constructor,,
4777,dfa0f1c0034e4d3492a0cb237eed84eb39a857a4,leb Natapov <gleb@cloudius-systems.com>, 2015-04-30 12:25:16 +0300, , rcp put client error state connection broken,,
4778,0a47b5f7c904d9b38f52b66057820f5758ab75c1,leb Natapov <gleb@cloudius-systems.com>, 2015-04-30 12:25:15 +0300, , rpc return exception future instead throwing client send path simplifies error handling client code since need check future exception put try block around call ,,
4779,992a6ea21eb0b34b9cf12078f67d5ef0018b1e82,alle Wilund <calle@cloudius-systems.com>, 2015-04-09 15:46:36 +0200, , collectd use initializer list declare operator clang make scollectd compile clang 3.5.0,,
4780,2e54725017b3e03d29a3f02ca44fc3f6fd5f9353,leb Natapov <gleb@cloudius-systems.com>, 2015-04-29 18:34:06 +0300, , rpc allow handler return type without default constructor currently possible type instantiated deserialized fix allocating space object using std aligned_storage,,
4781,7071239f4957fab0ace32152df1e243f14c3cb36,vi Kivity <avi@cloudius-systems.com>, 2015-04-29 12:34:15 +0300, , merge branch master github.com cloudius system seastar,,
4782,d45e0ebd4acdd53013f4d2b8fef52073614366da,vi Kivity <avi@cloudius-systems.com>, 2015-04-29 11:26:57 +0300, , test add shared_ptr test const support reviewed pekka enberg penberg cloudius systems.com,,
4783,c952248dc56d3340b73d8aafe1c22121890738c0,vi Kivity <avi@cloudius-systems.com>, 2015-04-29 11:25:53 +0300, , shared_ptr improve const support allow return shared_ptr const called const object reviewed pekka enberg penberg cloudius systems.com,,
4784,03da7399a08553e349034bde8b276e7ae1146498,alle Wilund <calle@cloudius-systems.com>, 2015-04-29 10:13:46 +0200, , sstring add iostream input signed calle wilund calle cloudius systems.com,,
4785,066a37ad21f1315a7891a1724d383c66c1020fff,ekka Enberg <penberg@cloudius-systems.com>, 2015-04-27 14:02:48 +0300, , shared_ptr make shared_ptr work foreign_ptr foreign_ptr wrapper need element_type present shared_ptr able access data fix following compilation failure trying use shared_ptr foreign_ptr file included test core distributed.hh instantiation class foreign_ptr shared_ptr basic_sstring char unsigned int 15u test required core distributed.hh 272 error type named element_type class shared_ptr basic_sstring char unsigned int 15u using element_type typename ptrtype element_type signed pekka enberg penberg cloudius systems.com,,
4786,3f3987e7ab1c4bde25089198637391c57bc35542,leb Natapov <gleb@cloudius-systems.com>, 2015-04-26 18:42:54 +0300, , rpc handle exception unmarshalling unmarshalling function throw case doe move connection error state report error rpc client currently error reported rpc closed_error,,
4787,8825b96a44e0ddff5848f9b8aa99047baf5c4b6f,leb Natapov <gleb@cloudius-systems.com>, 2015-04-26 18:42:53 +0300, , rpc add virtual destructor reply_handler without virtual destructor handler memory leaking,,
4788,f06c12e0314436ee5e5e9d41695e199803d97804,mnon Heiman <amnon@cloudius-systems.com>, 2015-04-26 12:27:05 +0300, , http fix crash due set_routes managing lifetime correctly using set_routes registry builder shared_ptr registry builder captured original implementation captured parameter shared_ptr captured deleted causing http crash running debug implementation method use registry creates lambda function inside call set_api_doc method allows catch shared_ptr life function complete also replaces style cast static_cast add fixme note route implementation handler deleted prevent memory leak signed amnon heiman amnon cloudius systems.com,,
4789,2b8035a7181427241c15dc3a0df1e8432b5fa7c6,lauber Costa <glommer@cloudius-systems.com>, 2015-04-22 18:38:08 -0400, , sstring add fill constructor std string signed glauber costa glommer cloudius systems.com reviewed raphael carvalho raphaelsc cloudius systems.com,,
4790,349f21c8604c61010f0f168f32df25cdd82123af,leb Natapov <gleb@cloudius-systems.com>, 2015-04-22 10:48:25 +0300, , rpc signal send completion even send failed due socket error call marshall fails exception exception future stored dst.out_ready next send sent future signaled marshall never called fix moving sent future signaling consider dst.out_ready state,,
4791,5d658cf16a9c3510dd1594e2dc07781da34e497d,vi Kivity <avi@cloudius-systems.com>, 2015-04-22 10:05:58 +0300, , merge branch github.com cloudius system seastar dev drop packet low memory vlad series consists patch complete buffer decoupling patch currently allocation fails copy flow case construct packet object rte_mbuf thus decreasing number available buffer ring mempool prefer drop packet case order decrease latency recovery low memory state received packet handling completion delay limited anything time ring mempool low buffer packet dropped drop layer hand continue drop long actually low memory immediately resume receiving new data recover state series also add new queue statistic counter report number packet dropped result memory allocation failure addition last patch change dpdk specific counter collectd instance type derive,,
4792,78cf7a2c062c2903a1781f77e52bc7b1188a1cd9,lad Zolotarov <vladz@cloudius-systems.com>, 2015-04-20 12:19:00 +0300, , dpdk qp_stats change error instance if_rx_errors signed vlad zolotarov vladz cloudius systems.com,,
4793,3aa3dd77a347f19b60f64b290a69b9c158ae0efe,lad Zolotarov <vladz@cloudius-systems.com>, 2015-04-20 11:33:38 +0300, , dpdk update counter update register collectd reporting signed vlad zolotarov vladz cloudius systems.com,,
4794,35199f53533918cdfd1abc6939f0ae4f8ef40fbb,lad Zolotarov <vladz@cloudius-systems.com>, 2015-04-20 11:32:46 +0300, , net add counter add new statistic counter packet dropped due allocation failure signed vlad zolotarov vladz cloudius systems.com,,
4795,e9a59e5f8d9c253a2ff721edffbf8845db18ef9f,lad Zolotarov <vladz@cloudius-systems.com>, 2015-04-14 18:41:08 +0300, , dpdk drop incoming packet allocation fails copy flow ensure detaching rte_mbuf received data copy path patch completes case allocation buffer copy newly arrived data failed case prefer drop arrived packet instead consuming rte_mbuf ring mempool signed vlad zolotarov vladz cloudius systems.com,,
4796,8a0538a2189a877d1c693a8e28270c9f971f9341,mnon Heiman <amnon@cloudius-systems.com>, 2015-04-21 10:06:44 +0300, , http fix query parameter parsing last parameter serving request multiple query parameter last parameter parsed incorectly fix issue add test verify signed amnon heiman amnon cloudius systems.com,,
4797,5194517473055fdc41fcc2b718ec7d8d3e1037ba,sias He <asias@cloudius-systems.com>, 2015-04-20 21:31:08 +0800, , tcp use std system_error make consistent native stack,,
4798,905f47628e2e47fae39dec32791e8961efd84f7c,vi Kivity <avi@cloudius-systems.com>, 2015-04-20 11:58:29 +0300, , merge branch dpdk_cleanups github.com cloudius system seastar dev get rid ifdef have_osv possible vlad reviewed takuya asada syuu cloudius systems.com,,
4799,5ffd057fd1ee54bd9e1549c4f967e651abe80981,awe Dziepak <pdziepak@quarnos.org>, 2015-04-15 09:49:43 +0200, , memory use alignment page small_pools responsible allocation 16kb able provide buffer alignment stricter page result aligned allocation broken buffer range 4kb 16kb patch make sure alignment requirement big small_pool handle used instead fix signed pawe dziepak pdziepak quarnos.org,,
4800,5d65f045f5d17c206dc40d6dff71b94ba0e5761d,awe Dziepak <pdziepak@quarnos.org>, 2015-04-20 08:37:04 +0200, , use posix_memalign return value proper way test whether posix_memalign failed check return value content pointer also silence ignoring return value posix_memalign diagnostic message signed pawe dziepak pdziepak quarnos.org reviewed raphael carvalho raphaelsc cloudius systems.com,,
4801,ea7bdc65c01b13a228f865540713bd3fcbf4f3a0,lad Zolotarov <vladz@cloudius-systems.com>, 2015-04-19 19:15:47 +0300,41, tcp properly calculate payload length tso decision fix issue packet neither header tcp output_one therefore comparing p.len l2_hdr l3_hdr l4_hdr payload size greater l2_hdr l3_hdr give wrong negative decision regard whether send frame tso frame fix comparing actual payload size signed vlad zolotarov vladz cloudius systems.com reviewed asia asia cloudius systems.com,,
4802,b0321a98aea3ac110efa47590e5742b3b1925686,lad Zolotarov <vladz@cloudius-systems.com>, 2015-04-19 19:54:42 +0300, , dpdk set according port capability signed vlad zolotarov vladz cloudius systems.com,,
4803,14d36b8b40ad0a3e8a346da5c9f6a46fa0657659,lad Zolotarov <vladz@cloudius-systems.com>, 2015-04-19 19:27:34 +0300, , dpdk check changing supported device halt signed vlad zolotarov vladz cloudius systems.com,,
4804,1942737331f78517d8d29200db751820252861ac,vi Kivity <avi@cloudius-systems.com>, 2015-04-19 10:48:40 +0300, , merge branch osv fix osv takuya,,
4805,d41de86d3bed749d6b9b4b57152f3e6414e18b56,akuya ASADA <syuu@cloudius-systems.com>, 2015-04-17 20:06:21 +0900, , dpdk skip flow control osv since virtio pmd supported flow control function really have_osv virtio net may need change nic virtio later want support virtio net linux iov osv signed takuya asada syuu cloudius systems.com,,
4806,1aa15295458563ef4715ec33e00dcecba81aab6d,akuya ASADA <syuu@cloudius-systems.com>, 2015-04-17 20:06:20 +0900, , dpdk add have_osv since virtio pmd requires flag really have_osv virtio net may need change nic virtio later want support virtio net linux iov osv signed takuya asada syuu cloudius systems.com,,
4807,6975eeac30bf5560ba46a5b30c310528f4547378,akuya ASADA <syuu@cloudius-systems.com>, 2015-04-17 20:06:19 +0900, , reactor implement timer osv since osv doe support timer_create timer_settime osv doe supported timer_create timer_settime thread based signal handling patch implement timer function using osv native timer timer handler thread witch pinned cpu reactor thread signed takuya asada syuu cloudius systems.com,,
4808,db93ae84dbcd80e5c7861c7be6e7ff9604b2b475,akuya ASADA <syuu@cloudius-systems.com>, 2015-04-17 20:06:18 +0900, , dpdk use shconf osv dpdk doe work without shconf osv need add signed takuya asada syuu cloudius systems.com,,
4809,83189367b6fa02a6529e9f796be25810fe153ae6,akuya ASADA <syuu@cloudius-systems.com>, 2015-04-17 20:06:17 +0900, , use posix_memalign instead memalign since osv doe memalign required osv prevent missing symbol signed takuya asada syuu cloudius systems.com,,
4810,991b77863dd32748091950333ce30402195c0fef,akuya ASADA <syuu@cloudius-systems.com>, 2015-04-17 20:06:16 +0900, , use namespace timer_set prevent conflict osv timer_set since header osv need prevent conflict signed takuya asada syuu cloudius systems.com,,
4811,826a8b446f9f32b16f6a051e25b0cab04cc93046,akuya ASADA <syuu@cloudius-systems.com>, 2015-04-17 20:06:15 +0900, , configure.py show entering leaving directory dpdk cflags detector configure.py called inside makefile dpdk_cflags mistakenly extract entering directory message patch prevent problem signed takuya asada syuu cloudius systems.com,,
4812,2c23c5430a4175e21c7b2ee9f0c70a3ffd01e200,akuya ASADA <syuu@cloudius-systems.com>, 2015-04-17 20:06:14 +0900, , configure.py use combined library osv dpdk osv doe able load separated shared library need use combined library signed takuya asada syuu cloudius systems.com,,
4813,516286a820c3204d67a9382a74d0ab24da451612,akuya ASADA <syuu@cloudius-systems.com>, 2015-04-17 20:06:13 +0900, , configure.py add include patch osv required include osv sched.hh signed takuya asada syuu cloudius systems.com,,
4814,00049ea9c7cac53612047cc33c071cfb1c140cf6,akuya ASADA <syuu@cloudius-systems.com>, 2015-04-17 20:06:12 +0900, , fix compile error osv signed takuya asada syuu cloudius systems.com,,
4815,934c6ace469c1991a456eedfa0b606fdae42d4e4,lad Zolotarov <vladz@cloudius-systems.com>, 2015-04-16 16:21:50 +0300, , dpdk add ethernet flow control feature add option enable disable sending respecting pause frame defined 802.3x 802.3z specification configure link level pause opposed pfc simple word ethernel flow control relies sending receiving pause xoff mac frame indicate sender receiver buffer almost full idea avoid receive buffer overflow receiver buffer freed send xon frame indicate sender may transmit added dpdk specific command option toggle feature sending pause enabled default signed vlad zolotarov vladz cloudius systems.com,,
4816,4144711b16a05d9757708754fbd1e0b4e0b81c3a,vi Kivity <avi@cloudius-systems.com>, 2015-04-16 10:41:04 +0300, , merge branch net stats github.com cloudius system seastar dev dpdk network statistic vlad arranges add new queue networking statistic counter add port networking statistic counter dpdk backend rework collectd registration representation networking statistic use statistic tuples possible,,
4817,2520f81368aebcf63e777ec515c1ac0f872b5283,vi Kivity <avi@cloudius-systems.com>, 2015-04-15 17:14:58 +0300, , doc document internal class,,
4818,5afc4c718106ae1033b89291829a40e89961d29f,vi Kivity <avi@cloudius-systems.com>, 2015-04-15 16:50:23 +0300, , add doxygen configurarion file,,
4819,37602e7241aff540c06ef9a82daec0c9f71247c2,vi Kivity <avi@cloudius-systems.com>, 2015-04-15 12:54:15 +0300, , merge branch dpdk_lro github.com cloudius system seastar dev,,
4820,1aad5d48c7d393d18d8a57abfe8d85a36f00784d,lad Zolotarov <vladz@cloudius-systems.com>, 2015-04-14 20:02:34 +0300, , dpdk register port statistic signed vlad zolotarov vladz cloudius systems.com,,
4821,539efcebc2c99ebdd32c48e388d4660649b863a5,lad Zolotarov <vladz@cloudius-systems.com>, 2015-04-08 11:54:36 +0300, , dpdk added port_stats struct collection signed vlad zolotarov vladz cloudius systems.com,,
4822,7c692c499c30d527dc3ac81bc64dd064e7dccb88,lad Zolotarov <vladz@cloudius-systems.com>, 2015-04-08 12:10:07 +0300, , net stats register backend specific collectd counter error counter backend specific thus register separately specific backend signed vlad zolotarov vladz cloudius systems.com,,
4823,671c57e5b9f71919952565d1acad605d18671b7c,lad Zolotarov <vladz@cloudius-systems.com>, 2015-04-07 15:08:51 +0300, , xenfront update network statistic add xenfront_qp private member fron_ring class update network statistic signed vlad zolotarov vladz cloudius systems.com,,
4824,da02b240ef58e30c67cc14978963ea067c140292,lad Zolotarov <vladz@cloudius-systems.com>, 2015-04-06 14:15:42 +0300, , xenfront fix initialize bunch variable signed vlad zolotarov vladz cloudius systems.com,,
4825,a33994924fd87a163aa48f2898019baa533dd528,lad Zolotarov <vladz@cloudius-systems.com>, 2015-04-06 12:04:21 +0300, , xenfront make front_ring process_ring return void function always returning ready future made return void changed caller explicitly return ready future signed vlad zolotarov vladz cloudius systems.com,,
4826,80bad5273a5e4e4314eac19a70b4e6ce61e705c3,lad Zolotarov <vladz@cloudius-systems.com>, 2015-04-05 18:38:37 +0300, , virtio update network statistic signed vlad zolotarov vladz cloudius systems.com,,
4827,10cad8a87a1c1603111200f044c11d2aea174e2d,lad Zolotarov <vladz@cloudius-systems.com>, 2015-04-06 15:59:12 +0300, , dpdk update network statistic signed vlad zolotarov vladz cloudius systems.com,,
4828,de9bad074b81eabe43d6114f727954094bbe9421,lad Zolotarov <vladz@cloudius-systems.com>, 2015-04-05 11:56:14 +0300, , dpdk rework tx_buf method interface rework tx_buf class method accept dpdp_qp instead tx_factory dpdk_device signed vlad zolotarov vladz cloudius systems.com,,
4829,0028959968e4e518e6033bdf2d17f2d65c8768b6,lad Zolotarov <vladz@cloudius-systems.com>, 2015-04-06 17:55:55 +0300, , net separated stats separate struct moved stats separate class qp_stats moved stats update function new stats class add property net class default value network signed vlad zolotarov vladz cloudius systems.com,,
4830,1ceaa135432ab46406a22f00257d95ac9ea38707,lad Zolotarov <vladz@cloudius-systems.com>, 2015-03-03 21:13:58 +0200, , virtio disable enable lro according lro parameter signed vlad zolotarov vladz cloudius systems.com,,
4831,553e1a5e757e3ed5a89f162907c1127e84275d50,lad Zolotarov <vladz@cloudius-systems.com>, 2015-02-19 18:44:56 +0200, , dpdk add lro support added lro native stack command line parameter implemented handling reception clustered packet without hugetlbfs allocate single buffer contain whole packet data copy content allocation failed build packet directly cluster hugetlbfs create packet cluster mbuf data buffer signed vlad zolotarov vladz cloudius systems.com new use defined rte_ethdev.h instead defined config common_linuxapp new dpdk_qp false from_mbuf_lro free cluster copying allocated buffer style cleanup,,
4832,8fb948e1b293baca048b4022d268e67e76450027,lad Zolotarov <vladz@cloudius-systems.com>, 2015-03-03 20:44:54 +0200, , dpdk use loop dpdk_qp signed vlad zolotarov vladz cloudius systems.com,,
4833,7cdc99ca50cfa23773ab37fbce09af38942cd8e1,lad Zolotarov <vladz@cloudius-systems.com>, 2015-02-26 20:57:34 +0200, , configure.py generate dpdk cflags dpdk environment creates temp makefile includes rte.vars.mk dpdk sdk print machine_cflags value machine_cflags added  effectively machine_cflags bunch drte_xxx macro march native without flag compilation fails inside rte_memcpy.h upstream dpdk tree patch reverts patch signed vlad zolotarov vladz cloudius systems.com,,
4834,b8f310870ac92225153dd580ed2319fe9f31cfc8,vi Kivity <avi@cloudius-systems.com>, 2015-04-14 14:55:47 +0300, , test add map_reduce test,,
4835,b35ea31cc91f51f5c4cac7c1025bc85de571c939,vi Kivity <avi@cloudius-systems.com>, 2015-04-14 15:11:06 +0300, , future fix map_reduce future chaining map_reduce properly chain future result bogus,,
4836,6f5dc8c15e01590a4842d3a8643aa4bc2337936f,vi Kivity <avi@cloudius-systems.com>, 2015-04-14 14:55:08 +0300, , future fix map_reduce return type need return future,,
4837,af3e2e08eeb0d878e32b680abf3de2ad021c7a55,lad Zolotarov <vladz@cloudius-systems.com>, 2015-02-19 13:35:40 +0200, , dpdk always enable crc stripping signed vlad zolotarov vladz cloudius systems.com,,
4838,e03a23b53ad1ef32d891773519e8c083b2d7067c,vi Kivity <avi@cloudius-systems.com>, 2015-04-13 17:11:44 +0300, , future add std accumulate style map_reduce variant,,
4839,6e185d21f0a5e633b21381112b51de5147622b39,vi Kivity <avi@cloudius-systems.com>, 2015-04-13 16:22:42 +0300, , future remove bogus when_all forward declaration match definition unneeded anyway,,
4840,88d02120f444cfad36609349bcc4c3cefa7f4088,vi Kivity <avi@cloudius-systems.com>, 2015-04-11 11:01:35 +0300, , merge branch tgrabiec optimize compilation github.com cloudius system seastar dev,,
4841,3a211c4db5e55682bf1cc36cc67e467327aaddb9,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-04-10 18:38:24 +0200, , test move seatar boost test framework separate compilation unit compiled every test change reduced recompilation time dummy test module second laptop change also make possible pas seastar framework command line argument every test using framework,,
4842,e87f76ac463c5215051044586fb4a67e88ad2436,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-04-10 18:30:34 +0200, , test fix deadlock test_runner engine exit premauterly _task exchanger may occupied pending task case give block indefinitely fix using interruption,,
4843,026d169638e0afb4cd98d7bddf00d6f4aa6093ec,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-04-10 18:28:36 +0200, , test exchanger add support interrupting party,,
4844,fd18edc652a2e2539b3cf796c6635ef88bdc49c0,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-04-10 18:20:50 +0200, , core let exception posix thread callback callback throw program segfault gdb useless diagnosing failure gdb run ... get thread info generic error gdb let fail better way,,
4845,819bf6244e68e970607f7f3743d6d91f195d3c95,alle Wilund <calle@cloudius-systems.com>, 2015-04-09 11:36:57 +0200, , collectd remove extra brace parameter packing expression added make clang happy cause compilation failure one bound value value list using paranthesis instead signed calle wilund calle cloudius systems.com,,
4846,1bdf366f79c58f6123e4c883f34ee5bdb996c92f,alle Wilund <calle@cloudius-systems.com>, 2015-04-09 11:39:47 +0200, , reactor fix broken errno check fixing missing file behaviour code checked result instead error actual error code signed calle wilund calle cloudius systems.com,,
4847,aa1f33df221c03c4ed069e677ba7666d6f02e08c,lauber Costa <glommer@cloudius-systems.com>, 2015-04-08 19:54:32 -0400, , output_stream generalize basic_sstring writes current code assumes sstring char_type output_stream working well forced change type basic_sstring another one backed signed char course best solution would change output_stream well input_stream take signed char well boy tried data_sink assumes char type try allocate new buffer buffer choice char type fix one another one appears eventually gave code compile struct fragment char type using template simple struct well sprinkling cast place used sounded like horrible idea true quitter never win winner never quit proposal would generalize write code accept basic_sstrings general type least cast life single place signed glauber costa glommer cloudius systems.com,,
4848,1760a8c5ad2bf8ecba978348f2e40bd6fb7d8fee,lauber Costa <glommer@cloudius-systems.com>, 2015-04-08 08:54:58 -0400, , output_stream generalize string writing basic_sstring writes way using sstring signature would require user using variant basic_sstring add signature general version cover use case well signed glauber costa glommer cloudius systems.com,,
4849,2c78fcdc4e099ef44d866e0709cdec6c308a89fc,adav Har'El <nyh@cloudius-systems.com>, 2015-04-06 00:15:51 +0300, , clean byteorder.hh byteorder.hh net packed subclassed basic unaligned added method completely unnecessary ntoh generic implementation indeed method also specialized overload ntoh packed generic implementation would never used packed anyway net packed need anything unaligned make alias bonus hton function work also unaligned result convenient unaligned_cast net packed signed nadav har nyh cloudius systems.com,,
4850,9dff2bfa409baf93147ef05c80602a59e3790b79,sias He <asias@cloudius-systems.com>, 2015-04-08 17:45:33 +0800, , rpc fix indentation signed asia asia cloudius systems.com,,
4851,60ece9f40d84192ce9a95001bf8bf79885a6b8fb,sias He <asias@cloudius-systems.com>, 2015-04-08 17:45:32 +0800, , rpc initialize msgtype _type fix compiling issue using rpc msgtype int signed asia asia cloudius systems.com,,
4852,7c1bcc3deddd6b491765068521d15913d071c87b,sias He <asias@cloudius-systems.com>, 2015-04-08 17:45:31 +0800, , core add args_as_tuple type function_traits signed asia asia cloudius systems.com,,
4853,04e0c5293b41bafdfc9d33ba45318d602aa9458b,akuya ASADA <syuu@cloudius-systems.com>, 2015-04-06 15:00:19 +0900, , dpdk enable mavx mavx2 available support head version dpdk need mavx mavx2 seastar cflags enable host cpu feature need check signed takuya asada syuu cloudius systems.com,,
4854,88e67cb3796511a1a77e9d050c86a7843c46f1f7,mnon Heiman <amnon@cloudius-systems.com>, 2015-04-08 10:34:23 +0300, , http fix wrongly used string_view transformers.cc,,
4855,db113d04f770fc2aa80204a37581e196278e17a1,akuya ASADA <syuu@cloudius-systems.com>, 2015-04-08 06:35:59 +0900, , dpdk ignore rte_mbuf_refcnt v2.0.0 later latest dpdk v2.1.0 cause compile error referencing rte_mbuf_refcnt defained pragma gcc poison rte_mbuf_refcnt configuration entry available v2.0.0 later signed takuya asada syuu cloudius systems.com,,
4856,0c971d095947fbbe760ae99e0589b91b47341d79,vi Kivity <avi@cloudius-systems.com>, 2015-04-08 08:55:45 +0300, , sstring fix std string conversion char_type char,,
4857,3c908f1ed0115eca966d99cdf79a3c6d19b12053,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-04-07 16:50:07 -0300, , core add do_for_each variant variant intended simplify do_for_each idiom iterators begin end implicit allowing user something follow return do_for_each map ... signed raphael carvalho raphaelsc cloudius systems.com,,
4858,558af3d9a5dcdcfa9bbccb09f534c1755af34446,vi Kivity <avi@cloudius-systems.com>, 2015-04-07 21:04:57 +0300, , shared_ptr add nullptr_t overload,,
4859,b90e4ef4d3d2d33f56ffc001a5f79c54cadca9a1,mnon Heiman <amnon@cloudius-systems.com>, 2015-04-06 16:11:58 +0300, , sstring cleanup replace implementation clean sstring replace method also std move optimization missing cbeging cend method edded return const_iterator signed amnon heiman amnon cloudius systems.com reviewed nadav har nyh cloudius systems.com,,
4860,520a4c4135becde7b1281485960f06f72e545ee9,vi Kivity <avi@cloudius-systems.com>, 2015-04-06 13:17:14 +0300, , test add verbose parameter test.py non interactive test,,
4861,3c4edd9eeb46c35a8dbca083b96b1aaf1cd405e2,vi Kivity <avi@cloudius-systems.com>, 2015-04-05 20:00:10 +0300, , sstring fix string_view interface string_view also template taking char_type parameter need use order string_view compatible sstring,,
4862,d80d35148c5aa72a37852b41bdbd18b1521b5a30,vi Kivity <avi@cloudius-systems.com>, 2015-04-05 17:41:16 +0300, , merge branch amnon dynamic_swagger github.com cloudius system seastar dev http server improvement amnon series continue http server osv code migration adaptation add ability dynamically register swagger definition file also simplified server creation configuration applying seriese api doc json file available http localhost 10000 api doc demo api available http localhost 10000 api doc demo series also add missing functionality sstring support boost replace functionality,,
4863,399f3d29c54c26f01e13b313dae012f8fe2f0673,mnon Heiman <amnon@cloudius-systems.com>, 2015-04-01 13:10:50 +0300, , httpd main using start server use start configure server use register demo api change call http localhost 10000 api doc return swagger doc file call http localhost 10000 api doc demo return demo swagger file signed amnon heiman amnon cloudius systems.com,,
4864,c129b8658948527bfefe85a5e76dad5545a4369d,mnon Heiman <amnon@cloudius-systems.com>, 2015-04-01 12:58:23 +0300, , adding api_docs http migration api_docs osv replaces static api doc.json dynamic generated reply allows register api run time helper class hold file api path simplifying registring api_doc handler registering additional api use api_doc first generate registry supply two function one registring api_doc handler one registering api function passed argument set_routes method object find handler get_exact_match route object needed become public signed amnon heiman amnon cloudius systems.com,,
4865,f4c1f5d647b0ea87ae9b9f52f347e0dadd1eef0f,mnon Heiman <amnon@cloudius-systems.com>, 2015-04-01 12:52:07 +0300, , adding http server_control simplify server handling multiple task need performed setting running http server specifically route need set server need start server control wrap server initiation functionality add iteration function route signed amnon heiman amnon cloudius systems.com,,
4866,53604f1faef22a734d4a8ca91615af7f72625260,mnon Heiman <amnon@cloudius-systems.com>, 2015-03-31 14:45:59 +0300, , adding file transformer http file transformer used replace file content retrieving specifically used return swagger definition file host protocol replaced signed amnon heiman amnon cloudius systems.com,,
4867,f709f3a30d44b4681c56b50ee271753c8a949fb6,mnon Heiman <amnon@cloudius-systems.com>, 2015-03-31 13:10:16 +0300, , configure.py break http dependency http library different internal apps would need use include dependency list simplify http general dependency moved variable signed amnon heiman amnon cloudius systems.com,,
4868,04b5bad2b7e7b39a4f998546bd5ea74db22fbfa5,mnon Heiman <amnon@cloudius-systems.com>, 2015-03-31 10:45:41 +0300, , adding insert replace erase sstring boost replace_all insert erase perform change method missing sstring following std string implemntation implementation functionality based replace method either string replace templated iterators variation insert replace erase added possible add future needed calling existing functionality signed amnon heiman amnon cloudius systems.com,,
4869,dca4b25e8b5305e9d4551be94a99cc04ff59e537,mnon Heiman <amnon@cloudius-systems.com>, 2015-04-02 15:20:45 +0300, , http allows function handler return future function handler general json function particular easiest way add logic handler case method return immediately case required perform async operation support case function handler modified use future receives old style function would wrap result could still assign function like new const_req req return hello  would also support function return future json possible assign logic like new std unique_ptr request req return json json future  future case note auto boxing still work although need use json_path also modified accept new kind function support common case route definition based code generation signed amnon heiman amnon cloudius systems.com,,
4870,084481da01bdba60b8175faf67a6adc7b9946acb,vi Kivity <avi@cloudius-systems.com>, 2015-04-02 11:42:38 +0300, , build relax link pool depth setting allow link run concurrently,,
4871,4e21cedc0f3703fc9ef8d018a636877e9e040818,adav Har'El <nyh@cloudius-systems.com>, 2015-04-02 01:01:42 +0300, , add do_with utility add convenient function do_with rvalue func ensures moved copy rvalue live future returned func concludes func passed object needing recurring idiom seastar application signed nadav har nyh cloudius systems.com avi mark inline,,
4872,dbe2443c03080795854a94eff199627baa2c7d57,leb Natapov <gleb@cloudius-systems.com>, 2015-04-01 13:19:51 +0300, , rpc wait message send rpc no_wait client handler rpc no_wait no_wait currently client sends no_wait message immediately get ready future return client know data actually sent discarded patch fix returning future become ready data longer needed,,
4873,08a67006e720da47de65eb93772f2969e97e6225,arek Waszkiewicz <marek.waszkiewicz77@gmail.com>, 2015-04-01 01:58:47 +0200, , build build either xen dpdk signed marek waszkiewicz gmail.com,,
4874,58c62dd121e7dbf9663bb3007e64ed48d6be8032,leb Natapov <gleb@cloudius-systems.com>, 2015-04-01 11:21:42 +0300, , core drop superfluous qualifier discard_result,,
4875,6f3e25d93523e3e3b14b69cd4b06a5315150bd05,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-03-31 11:29:49 -0300, , core add future remove_file far function asynchronously remove file signed raphael carvalho raphaelsc cloudius systems.com,,
4876,5558abe9ec7ccf3c457512154c820aa7e631b9c0,leb Natapov <gleb@cloudius-systems.com>, 2015-03-31 16:42:16 +0300, , rpc drop unused template parameter,,
4877,f49888c64917856a4422f6a782307bc20125c7cd,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-03-26 11:35:10 -0300, , fstream sync file file output stream closed signed raphael carvalho raphaelsc cloudius systems.com,,
4878,22b08208ef043b43bfabc62005bbccede56e297f,vi Kivity <avi@cloudius-systems.com>, 2015-03-30 17:57:51 +0300, , merge branch amnon future_http1 github.com cloudius system seastar dev futurize http server stack amnon,,
4879,006b061aba37a8cdb4cca202d256fe0f14c973c0,mnon Heiman <amnon@cloudius-systems.com>, 2015-03-19 12:34:53 +0200, , adding hello world swagger demo demonstrate use swagger definition file create api swagger file demo.json define one api called hello_world query path parameter return object result handler implementation simply place given parameter return object signed amnon heiman amnon cloudius systems.com,,
4880,ff6d48bb27de2555b68f18ac2f5ceb7d0fc37ffb,mnon Heiman <amnon@cloudius-systems.com>, 2015-03-19 12:38:19 +0200, , adding swagger code generation configure,,
4881,b93dcf3dbd3d7269b717c211b70c364c69dd76e8,mnon Heiman <amnon@cloudius-systems.com>, 2015-03-19 12:24:01 +0200, , json adding swagger code generation take json2code perl script osv pas small adaptation take swagger definition file creates file following code support api opperations translated name determine nick name moduls defined json object name enums defined enum class string enum function defined query enum parameter enums part json object conversion function defined enum different type assigned target enum long enum value signed amnon heiman amnon cloudius systems.com,,
4882,f2147e74903d87317763cffa8aa44f265ad2d54f,mnon Heiman <amnon@cloudius-systems.com>, 2015-03-19 12:12:00 +0200, , http adding json path json path used parsing swagger file path represent operation swagger file used simplified setting handler function path example code generation would define json_path like hello_world hello world get hello_world define handler would use hello_world simply hello_world.set const_req req return hello world  reference route object signed amnon heiman amnon cloudius systems.com,,
4883,f6d253b713f80359406ba2b543fbf51a775e2e9c,mnon Heiman <amnon@cloudius-systems.com>, 2015-03-19 12:10:02 +0200, , request return http protocol name,,
4884,2ff0f41cfba9f5319c0af796c00a0d23f0a2cc8b,mnon Heiman <amnon@cloudius-systems.com>, 2015-03-19 12:05:49 +0200, , http adding file handler file handler support reading local file return result http request two kind handler file handler return specific file called directory handler expect find path parameter called path would concatinate parameter direcoty path signed amnon heiman amnon cloudius systems.com,,
4885,cb535f1fa9068ec8fce5dba7b326a420b320d2ef,mnon Heiman <amnon@cloudius-systems.com>, 2015-03-22 19:38:00 +0200, , add file_type method reactor method check file type retrun optional value file doe exists value return error exception thrown signed amnon heiman amnon cloudius systems.com,,
4886,6512d7f7fb08a4b8b083be1f0600556bb7c40064,mnon Heiman <amnon@cloudius-systems.com>, 2015-03-19 12:02:07 +0200, , http support query parameter url encoding http url encode query parameter adding question mark uri pair key value item value url url decoded add url encoding query parameter support signed amnon heiman amnon cloudius systems.com,,
4887,be33b31ae23156661480d996d22ad1a31836e088,mnon Heiman <amnon@cloudius-systems.com>, 2015-03-22 14:31:37 +0200, , httpd adding function handler time implementing http handler consist small amount logic function handler simplified way adding logic accept lambda expression various type eliminate need create type handler prefered way creating handler using would use auto boxing return json object signed amnon heiman amnon cloudius systems.com,,
4888,950d921df30ce86c02d22a4f60482480a268f696,mnon Heiman <amnon@cloudius-systems.com>, 2015-03-22 14:24:52 +0200, , http server handler use future http server handler sometimes need perform async operation specifically reading file disk support async behavior handler handle function return future propagate back future ready return reply sent switching direct function call future also need switch reference pointer note request discarded reply propagate back via future caller signed amnon heiman amnon cloudius systems.com,,
4889,c420b75e26934c0d4af02e34ea306fb241872231,mnon Heiman <amnon@cloudius-systems.com>, 2015-03-15 16:21:58 +0200, , remove leading space header,,
4890,0faf9cbb56f05498923de8206e3556d233ba10a0,mnon Heiman <amnon@cloudius-systems.com>, 2015-03-11 14:11:06 +0200, , adding back find_last_of append sstring add back method return reference const reference last char sstring find_last_of return index last occurance char string append append string string logic definition similiar std string note following std string definition calling back empty string forbiden result undefined signed amnon heiman amnon cloudius systems.com,,
4891,d3504f90a920c93dce510bbf7f08619e3ffbc1fc,awe Dziepak <pdziepak@quarnos.org>, 2015-03-27 01:32:09 +0100, , memory fix trimming allocated span trimmer may request buffer smaller n_pages original value passed t.nr_page used final size allocated span another issue handling span trimming order operation page beginning buffer trimmed case span updated point actual beginning requested buffer afterwards used retrieve span span_size value expected size originally allocated page span span pointer changed value invalid trimming free trimmed page signed pawe dziepak pdziepak quarnos.org,,
4892,7cf25ce4925b3477a6136dcb3c0f9eab858a241a,vi Kivity <avi@cloudius-systems.com>, 2015-03-30 11:18:16 +0300, , distributed fix use move distributed stop pass pointer instance destroyed reference attempt keep thing clean nulling pointer deleting illegal however since lambda moved bowel submit_to release mode optimized away code work debug mode lead crash fix capturing value instead could also fixed switching enclosing capture reference credit gleb identifying problem,,
4893,cbf972c135680812c91ba9783818467268d9656b,hlomi Livne <shlomi@cloudius-systems.com>, 2015-03-12 23:45:44 +0200, , test set test file name instead generic seastar test signed shlomi livne shlomi cloudius systems.com,,
4894,514bead08bf343b4e57d85d82775a0aca725fcb1,hlomi Livne <shlomi@cloudius-systems.com>, 2015-03-18 16:27:38 +0200, , test fix output bug test.py change add timeout test.py introduced bug caused thestdout stderr printed case error patch fix bug signed shlomi livne shlomi cloudius systems.com,,
4895,bf564b463a2ad252a024f717c3d43e646c48867d,arek Waszkiewicz <marek.waszkiewicz77@gmail.com>, 2015-03-26 01:16:23 +0100, , readme add xen devel boost devel fedora build instruction signed marek waszkiewicz gmail.com,,
4896,937970ccd3abe2d0fff64fd0715301b9e4caf478,leb Natapov <gleb@cloudius-systems.com>, 2015-03-25 11:26:05 +0200, , rpc keep shared pointer client connection client connection may outlive do_until loop make connection point shared overcome connection async handler running deleted handler executed,,
4897,4eff2e0db91c880dd0f9ec397aedb8d4183c0df9,vi Kivity <avi@cloudius-systems.com>, 2015-03-25 11:19:13 +0200, , merge branch tgrabiec distributed github.com cloudius system seastar dev distributed start fix tomasz,,
4898,4dc8a6a09cb8fda6e769316a645d4b8aa58f0f4d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-03-25 09:37:30 +0100, , test test constructor argument copied core,,
4899,5133a0b2abc34349695f983846aa7c0ea21c8a71,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-03-25 09:37:01 +0100, , test add missing start invocation,,
4900,dc4eb7af2d2e3910c3a3ebb6dc188847bbbedd04,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-03-25 09:36:26 +0100, , test rename,,
4901,040f8ffcfb1ce1a083c44adb0a79278974e415c1,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-03-25 09:26:39 +0100, , test convert tab space,,
4902,8abd982ec9d83e66e2d0cc471c4594c94c4fcbe4,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-03-24 19:26:42 +0100, , distributed move argument passing many core,,
4903,54875279f69045b03b88eab4736924825b11ab23,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-03-19 17:37:05 -0300, , slab fix comment signed raphael carvalho raphaelsc cloudius systems.com,,
4904,087a34a5444897ba2bce7dd084e84409fa5ddef7,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-03-19 17:37:04 -0300, , slab free slab page page desc alloc failed signed raphael carvalho raphaelsc cloudius systems.com,,
4905,66924357577b2e16323c639727133c87f6a4c4e4,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-03-23 10:39:53 +0100, , core implement operator smart pointer allow implement generic join work sequence thing use std vector shared_ptr printable,,
4906,e8764371e7b9fcc5b8b259d13e20c8b226aee648,vi Kivity <avi@cloudius-systems.com>, 2015-03-22 16:35:00 +0200, , merge branch gleb rpc github.com cloudius system seastar dev no_wait client info support rpc gleb,,
4907,406fbf76f7f0366ea85a5fc521bfc197bc32d833,leb Natapov <gleb@cloudius-systems.com>, 2015-03-22 11:24:42 +0200, , rpc add no_wait client_info test,,
4908,9f0900ee0f58d2585b7aabaee5e0b51d980defbb,leb Natapov <gleb@cloudius-systems.com>, 2015-03-22 15:26:34 +0200, , rpc add logger log exception no_wait callback,,
4909,12885b924ca44857c497c1b60236b32e0239c605,leb Natapov <gleb@cloudius-systems.com>, 2015-03-22 11:24:22 +0200, , rpc add possibly pas client_info rpc handler rpc handler need locally held information rpc client making call may client_info first parameter rpc handler rpc framework pas callback invocation,,
4910,7fe06f006eee7fe7166dabaa9f5b7634c4b934a9,leb Natapov <gleb@cloudius-systems.com>, 2015-03-20 21:12:56 +0200, , rpc introduce rpc no_wait registered callback return rpc no_wait client wait remote function execution get immediately ready future,,
4911,7f90c314da1746def3b286ae2911daa809bed70b,leb Natapov <gleb@cloudius-systems.com>, 2015-03-22 14:18:16 +0200, , net provide const version socket_address function,,
4912,6e049a4a98e409b564273d9f8bcc68e883bcd5c9,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-03-13 13:35:48 -0300, , test add testcase fstream test signed raphael carvalho raphaelsc cloudius systems.com,,
4913,6852f21463a3966c0fce91697ee46bc8d2a45f60,vi Kivity <avi@cloudius-systems.com>, 2015-03-18 12:34:32 +0200, , future mark state invalid moving away avoid inconsistency future thinking exception exception pointer null fix smp_test,,
4914,a7d6e22bafe23979da3fabc75683f62700ffe6f9,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-03-17 08:31:24 +0100, , sstring fix bound check find end iterator set past end,,
4915,ceb4778ad216adaf91306d6d3f9ac4e4eedf87a2,vi Kivity <avi@cloudius-systems.com>, 2015-03-16 10:14:23 +0200, , merge branch log exception,,
4916,c0d7e4e748a47dfd33e28ef19cb091894bda0aed,adav Har'El <nyh@cloudius-systems.com>, 2015-03-16 09:56:19 +0200, , core implement future sleep seastar application obviously use posix sleep function entire thread block patch implement future sleep duration expected future becomes ready given duration pass example one sleep .then std cout done useful example future continuation seastar tutorial people might find sleep implemented term timer sleep easier use aligned rest seastar continuation instead set_callback method downside sleep compared timer canceled started version sleep implemented without shared_ptr making implementation tiny bit efficient still heap allocation unavoidable std function requires copyable type reference counting unfortunately requires use bare new delete signed nadav har nyh cloudius systems.com,,
4917,facb2ffdc6f35476d8416b7d941438e1e6237a1f,vi Kivity <avi@cloudius-systems.com>, 2015-03-16 07:53:54 +0200, , build allow disabling debug info generation close,,
4918,d2c0e485f8d9b24bc8577329a865eb53dee091f6,vi Kivity <avi@cloudius-systems.com>, 2015-03-15 20:18:17 +0200, , posix fix posix recv return shuts warning gcc aligned method,,
4919,24bc1b412651dfa760eb855e323b038083b587ea,vi Kivity <avi@cloudius-systems.com>, 2015-03-15 18:13:29 +0200, , build improve seastar.pc generation generate build time get rebuilt even build wiped,,
4920,25c37c92f5fdb15230bda0d0f43c49479a03f977,adav Har'El <nyh@cloudius-systems.com>, 2015-03-15 16:05:07 +0200, , core fix engine_exit engine_exit without parameter meant engine .exit forget return function calling engine .exit continued crashed signed nadav har nyh cloudius systems.com,,
4921,f8c69904cdef4ae62e94ffab4edd932043bd957d,vi Kivity <avi@cloudius-systems.com>, 2015-03-15 16:16:41 +0200, , build fix seastar.pc generation need ensure directory first,,
4922,3578d3d01626cf113935b169debf2084bed72052,adav Har'El <nyh@cloudius-systems.com>, 2015-03-15 13:40:40 +0200, , build make easy compile seastar based project patch make compiling file hello.cc using seastar simple pkg config cflags libs build release seastar.pc hello.cc current build system make hard user build project using seastar basically requiring integrate project seastar tree makefile ninja framework patch simplifies thing considerably two thing first build archive seastar object build mode libseastar.a enough user know use currently whole archive needed unfortunately reliance static constructor also need long list library wall various definition include path compilation solution use pkg config become facto standard method linux makefiles figure compile certain library patch someone example compile test fileiotests.cc pkg config cflags libs build release seastar.pc test fileiotest.cc note different .pc file mode appropriate compile link flag eleborate example separate compile link stage use pkg config cflags compilation stage libs linking stage eventually ninja install install libseastar.a seastar.pc system wide default location command line become simple pkg config cflags libs seastar test fileiotest.cc signed nadav har nyh cloudius systems.com,,
4923,d1601b46f26af6d42c89a3ed6ce5940a865758b4,adav Har'El <nyh@cloudius-systems.com>, 2015-03-11 13:52:31 +0200, , net implement net packed term unaligned previous patch moved functionality net packed new template unaligned core unaligned.hh patch implement net packed term unaligned former basically latter addition feature networking code expects signed nadav har nyh cloudius systems.com,,
4924,1f8e0dbbab82ea5a4d5688634e35ae502877563a,adav Har'El <nyh@cloudius-systems.com>, 2015-03-11 13:52:30 +0200, , unaligned new header file unaligned access patch add new header file core unaligned.hh defines new operation unaligned_cast work exctly like except safe use even address multiple alignof long comment header file explains unaligned_cast necessary esoteric architecture quiet gcc fsanitize alignment header file also defines new template holding unaligned version type unaligned unaligned almost identical existing net packed next patch implement net packed term unaligned unaligned_cast unaligned template course generally useful outside network code wanted networking header file namespace signed nadav har nyh cloudius systems.com,,
4925,b968f8069506f7b160a20ef5ceda3dd62d6e8a5b,vi Kivity <avi@cloudius-systems.com>, 2015-03-15 15:18:56 +0200, , future report abandoned failed future report abandoned future containing exception corresponding uncaught exception ordinary program,,
4926,bd00d908061faa5c5753f10e41f9bef963fdaf4f,vi Kivity <avi@cloudius-systems.com>, 2015-03-15 15:33:25 +0200, , merge branch gleb future github.com cloudius system seastar dev future implementation cleanup gleb,,
4927,d3acb5acc29d8e91edccfdde5dda48d45ac6cd9b,vi Kivity <avi@cloudius-systems.com>, 2015-03-15 14:48:52 +0200, , linecount better error handling,,
4928,0537a8ffe563a2625c25e79235083d59c784c73e,vi Kivity <avi@cloudius-systems.com>, 2015-03-15 14:48:31 +0200, , linecount try create file read,,
4929,c3ba8678e4cfc348ef1d2bb532949731a9e55f39,leb Natapov <gleb@cloudius-systems.com>, 2015-03-15 14:44:58 +0200, , core consolidate finally implemetations,,
4930,186e25717e873e8df7b1d56c57d709226935a96d,leb Natapov <gleb@cloudius-systems.com>, 2015-03-15 14:12:54 +0200, , core consolidate then_wrapped code,,
4931,ad63b70d53daffc16494f55d84ee5e26c834f0c1,leb Natapov <gleb@cloudius-systems.com>, 2015-03-15 14:11:51 +0200, , core remove unused structure future_task,,
4932,c138e31a2a4652e6362490764a1e86a906e05e09,leb Natapov <gleb@cloudius-systems.com>, 2015-03-15 12:41:26 +0200, , core check then_wrapped,,
4933,ecb72e995ad7534c19ed2a3de9b7385b609b6887,leb Natapov <gleb@cloudius-systems.com>, 2015-03-15 12:18:44 +0200, , core drop superfluous qualifier or_terminate,,
4934,74e34ed6a4f284c03dd498af5261f7d11e96896e,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-03-13 20:37:09 +0100, , core use futurize simplify smp submit_to,,
4935,7bc7951192b4d799d746405427359ea2a451500a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-03-13 16:20:17 +0100, , core use perfect forwarding invoke_on submit_to make invoking non copyable lambda possible distributed  t.invoke_on std move auto side effect could save copyable lambda needlesly copied,,
4936,d5817ab965a45f3b007dbd3d812677432842c1b5,vi Kivity <avi@cloudius-systems.com>, 2015-03-12 16:30:15 +0200, , merge branch gleb rpc github.com cloudius system seastar dev conflict configure.py,,
4937,83998a89349ea216378da8986505e9c430cde6ea,hlomi Livne <shlomi@cloudius-systems.com>, 2015-03-12 13:33:35 +0200, , test boostify fstream_test signed shlomi livne shlomi cloudius systems.com,,
4938,7adf4f935d9bcb5f15313099f9ddae210be86ec0,leb Natapov <gleb@cloudius-systems.com>, 2015-03-09 15:37:41 +0200, , rpc test program,,
4939,36b76af7cc3ebc772f0abe42affb117c10e8a08a,leb Natapov <gleb@cloudius-systems.com>, 2015-03-09 15:36:57 +0200, , implementation rpc register rpc handler func param1 param2 param3 server client auto remote_func func call return another function client use invoke rpc call like remote_func client param1 param2 param3 call return future func result,,
4940,83c0196255ed2f095b78555375908162fb6e6edb,hlomi Livne <shlomi@cloudius-systems.com>, 2015-03-12 14:24:09 +0200, , test make sure least single boost_xxx check execute single boost_xxx check maakred message test case .... check assertion placed usr include boost test impl instead correct test file signed shlomi livne shlomi cloudius systems.com,,
4941,3a35fe061ba80576b18ae31ad1a2666856fbb7b3,vi Kivity <avi@cloudius-systems.com>, 2015-03-11 19:31:55 +0200, , test tighten when_all compare fails one compiler,,
4942,5b6e23ebde4ed1abeff214f8b72f3438e2e05d13,vi Kivity <avi@cloudius-systems.com>, 2015-03-11 19:21:54 +0200, , test reduce boost_require call when_all test generate two million call boost_require overwhelms test result parser replace two call use all_of process result array,,
4943,45cffd56813f979d292aba53c711b5192667bbfa,vi Kivity <avi@cloudius-systems.com>, 2015-03-10 17:23:06 +0200, , core add seastar api one file seastar.hh containing main entry point free function class forward declared avoid need include entire world,,
4944,0838a0ce2f11716a3163295385341ad8a588ec06,leb Natapov <gleb@cloudius-systems.com>, 2015-03-11 17:15:27 +0200, , core drop future casting rvalue call then_wrapped longer required,,
4945,a10c6681e3e7796b97e4e4c08ed39d5cf2cb767d,hlomi Livne <shlomi@cloudius-systems.com>, 2015-03-11 15:38:10 +0200, , build fix jenkins boost test integration signed shlomi livne shlomi cloudius systems.com,,
4946,e659ca2629d7bce1084ea76f33c60a70a5ce521f,vi Kivity <avi@cloudius-systems.com>, 2015-03-11 17:06:23 +0200, , merge branch when_all github.com cloudius system seastar dev when_all variant runtime sized list future,,
4947,a4aae5b6abd4c122ce0590d3499dba659b11c359,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-03-11 08:01:51 -0300, , fstream fix comment signed raphael carvalho raphaelsc cloudius systems.com,,
4948,293a6e75475e72bf2ccaec9f9f49091d425c651b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-03-11 13:33:27 +0100, , test test distributed map_reduce version take functor,,
4949,976c9da31495f27dfa566bf5705581b8db88b10e,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-03-11 13:33:01 +0100, , core add distributed map_reduce version take functor,,
4950,200f4698b55586d665100f930e6bac6ce2fde31b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-03-11 13:21:02 +0100, , test add test map_reduce,,
4951,56f6d12baef3bfe28ad151557bb954fdfc85eead,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-03-11 13:19:57 +0100, , core fix map_reduce incorrectly move away argument,,
4952,8f168d3abc1d26154a0b91462e4df828ed408e1c,leb Natapov <gleb@cloudius-systems.com>, 2015-03-03 16:38:37 +0200, , helper get function return parameter argument list,,
4953,820ea940ba73ae21bd694b30509e43777bc0eeea,hlomi Livne <shlomi@cloudius-systems.com>, 2015-03-11 00:45:04 +0200, , test generate boost report file parsed jenkins boost xml report file parsed jenkins provide mean jenkins track specific test case status signed shlomi livne shlomi cloudius systems.com,,
4954,c89df6748c65f5549f42ade3dde62b8f4c11ca06,vi Kivity <avi@cloudius-systems.com>, 2015-03-11 09:54:01 +0200, , merge branch master http github.com raphaelsc seastar file output stream raphael,,
4955,10a71dadac00432e485b5dcea4bfbe8a28f57a52,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-03-10 18:44:40 -0300, , test add fstream testcase,,
4956,971a3bb0b9950b992f2f7c021f84ef94ab6646cb,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-03-10 18:44:22 -0300, , fstream add file output stream support,,
4957,a3695dbcc4362f9abcd59f915f78efd48f373bdc,vi Kivity <avi@cloudius-systems.com>, 2015-03-10 22:01:55 +0200, , future add test case runtime sized when_all,,
4958,239475e10b2cee1e43ce3482c9c313a8fb509ced,vi Kivity <avi@cloudius-systems.com>, 2015-03-10 22:00:02 +0200, , future add runtime sized variant when_all add when_all variant wait runtime variable number future type function return future containing vector input future ready state containing either result exception,,
4959,baf62adbabdef8c230d141df3f75c24a146fadbf,vi Kivity <avi@cloudius-systems.com>, 2015-03-10 21:55:54 +0200, , future make when_all future ... future mode selective currently one version when_all accepts compile type variable number independently typed future wish add overload must ensure variant match accomplish requiring first argument future accept type,,
4960,de5a70282d624aaa1b27b4b4a6027a59b7a072b5,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-03-10 16:08:21 -0300, , core add truncate entry open_flags used opening file intended used ,,
4961,fe896fa4e48df599291b9ba32c75d32ced5478a1,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-03-10 15:43:39 -0300, , core add truncate function file class,,
4962,1a1368342b8b01ca53599bfaf6b0faaaf219a70b,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-03-10 15:39:56 -0300, , output_stream add allocate_buffer method data_sink use allocate_buffer added data_sink virtual method class extending override implementation output_stream also start using allocate_buffer whenever need temporary buffer,,
4963,8b4117cc6633c6917be944339d97ebb648766c49,adav Har'El <nyh@cloudius-systems.com>, 2015-03-10 17:23:59 +0200, , fstream use char aligned fstream.cc use convenient new char aligned function creating aligned temporary buffer instead repeating implementation signed nadav har nyh cloudius systems.com,,
4964,f8d773dd47d88258477ba42323195fbe528fbbe9,hlomi Livne <shlomi@cloudius-systems.com>, 2015-03-10 15:59:39 +0200, , test fix future unitest sometimes fails scheduling signed shlomi livne shlomi cloudius systems.com,,
4965,3637b2f09cda63a6b80ccf9eeeb3c35f497618c0,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-03-10 11:28:23 -0300, , add static method aligned used allocate aligned buf signed raphael carvalho raphaelsc cloudius systems.com,,
4966,7a04d1f66270b7a6aa40e95385d3b27b8a968ade,adav Har'El <nyh@cloudius-systems.com>, 2015-03-10 15:29:11 +0200, , fstream refactor file input stream interface interface messy fiber safe e.g. code seek middle ongoing read_exactly went pimpl philosophy patch remove class replaces completely different design fstream.hh global function input_stream char  lw_shared_ptr file file uint64_t offset uint64_t buffer_size 8192 word instead seeking input stream open new input stream object particular offset given file multiple input stream might concurrently active file note return regular input_stream subtype used like normal input_stream read stream starting given position patch make input_stream final type longer subclass code future pimpl design subclass inner working like input_stream signed nadav har nyh cloudius systems.com,,
4967,20df45de442895ed9931e2a2072b2999de306f6f,adav Har'El <nyh@cloudius-systems.com>, 2015-03-10 14:51:51 +0200, , fix include loop include loop cause problem case iostream.hh includes includes reactor.hh reactor.hh includes iostream.hh patch fix loop removing unnecessary include signed nadav har nyh cloudius systems.com,,
4968,e45a507100a75813b1297bdd7c4f16246f4a1dcb,adav Har'El <nyh@cloudius-systems.com>, 2015-03-10 13:16:43 +0200, , remove unnecessary forward declaration reactor.hh reactor.hh includes forward declaration input_stream output_stream template class unnecessary include iostream.hh contains full definition class unnecessary forward declaration harmless current code become harmful change definition iostream.hh e.g. wanted make input_stream final class signed nadav har nyh cloudius systems.com,,
4969,8fd570d854429f9ab02062f6b66bf6e411767ab3,leb Natapov <gleb@cloudius-systems.com>, 2015-03-10 12:51:12 +0200, , core use perfect forwarding function object apply,,
4970,4868bde49ef1f44a73de53347ee09f2d0869d48b,adav Har'El <nyh@cloudius-systems.com>, 2015-03-10 12:26:37 +0200, , remove duplicate include reactor.hh core reactor.hh two include line middle file duplicate previous include line top file remove signed nadav har nyh cloudius systems.com,,
4971,8628d985427ccda25b129b43e3082aa3758d92e6,vi Kivity <avi@cloudius-systems.com>, 2015-03-09 15:44:22 +0200, , shared_ptr fix reference count loss creating derived type e_s_f_t make_shared special case detecting created class deriving point refcount pointer object data area instead creating code however fails detect creating class deriving indirectly  struct base base struct derived base make_shared derived allocates independent refcount result object reference counter life two location fix detecting derived class case well,,
4972,49b560e9696ec063c8843b474d262f218d1635b6,vi Kivity <avi@cloudius-systems.com>, 2015-03-09 10:57:40 +0200, , merge branch amnon basic_http github.com cloudius system seastar dev httpd librarification generalization work amnon,,
4973,810d8c88d86c91f286a3b4cf34af564698fc9a85,mnon Heiman <amnon@cloudius-systems.com>, 2015-02-28 02:02:31 +0200, , adding httpd test,,
4974,427a6165b3bf6f49e24bda65bc1f28e038ec1ce8,mnon Heiman <amnon@cloudius-systems.com>, 2015-03-03 06:17:06 +0200, , using route request http directory use route reqeuest found http directory move file main http directory signed amnon heiman amnon cloudius systems.com,,
4975,8fccdb77a00adf297384ae4c57ccc2f00caaaaab,mnon Heiman <amnon@cloudius-systems.com>, 2015-02-28 01:53:04 +0200, , adding route object route object url dispatcher matching rule find handler handle request perform call handle exception hanend handling signed amnon heiman amnon cloudius systems.com,,
4976,1866091b3d31f9702d9de7fb2905304db234d9c0,mnon Heiman <amnon@cloudius-systems.com>, 2015-02-28 01:49:59 +0200, , adding basic json support migration basic json support taken osv httpserver route json object return error json format also add json_exception constructor exception signed amnon heiman amnon cloudius systems.com,,
4977,5aca499a7ecbfc7220b4c84128038c638d3a9547,mnon Heiman <amnon@cloudius-systems.com>, 2015-02-28 01:44:19 +0200, , adding matcher match rule matcher match rule used define match url rule rule define list string parameter example rule api get name mapped list matcher str_match api get param_match str_match name signed amnon heiman amnon cloudius systems.com,,
4978,8577a8886e73d72b40d261f4b7bed4212469161e,mnon Heiman <amnon@cloudius-systems.com>, 2015-02-28 01:39:28 +0200, , adding handler class handler_base base class handler handler inherit implement handle method signed amnon heiman amnon cloudius systems.com,,
4979,4bdbd2c80a3a0a526d9d3e5763044944ce750542,mnon Heiman <amnon@cloudius-systems.com>, 2015-02-28 01:37:13 +0200, , adding http exception,,
4980,baedb5e77531818de1060c5b7809941e11ff64fa,mnon Heiman <amnon@cloudius-systems.com>, 2015-02-28 01:32:03 +0200, , adding request object request object originally taken boost server example modified osv http implementation signed amnon heiman amnon cloudius systems.com,,
4981,1ffd418ded9c93049b58cac1ce17fbd34d03dc9b,mnon Heiman <amnon@cloudius-systems.com>, 2015-02-28 01:29:55 +0200, , adding common html operation support,,
4982,29391d9a9baa0d496be307ee127a9c251ce503fa,mnon Heiman <amnon@cloudius-systems.com>, 2015-02-25 01:20:15 +0200, , extending sstring patch add common functionality std string sstring add length implement size define constant npos indicate possition add reference const reference define find char find sstring method substr method signed amnon heiman amnon cloudius systems.com need merge sstring,,
4983,100a667ab87dcb616fe5c017667f76f6df024d3c,mnon Heiman <amnon@cloudius-systems.com>, 2015-02-24 19:40:42 +0200, , httpd use reply class support error code,,
4984,6cf25b8c5a17dfd48909bd45c4d1f33fef3094fb,mnon Heiman <amnon@cloudius-systems.com>, 2015-02-28 01:31:18 +0200, , add mime type support,,
4985,8a760f23f94d317ff33778a1753d1c590bfe1fd3,mnon Heiman <amnon@cloudius-systems.com>, 2015-02-23 20:51:06 +0200, , break httpd implementation library main would like extend httpd capability use api implementation first step make library main call instanse break implementation header file implementation main simply call implementation signed amnon heiman amnon cloudius systems.com,,
4986,722bf0fe1f0eb19a0bf2f97f8da9af2cbced74a0,mnon Heiman <amnon@cloudius-systems.com>, 2015-03-02 06:06:46 +0200, , request_parser missing pragma,,
4987,a40ef8bfe14df6e93974be20bc945380ad32389c,hlomi Livne <shlomi@cloudius-systems.com>, 2015-03-08 16:47:53 +0200, , future add test case finally called non immediate available future found missing test code coverage review signed shlomi livne shlomi cloudius systems.com avi fix formatting,,
4988,e4b5408bbd18bda0f60ea1ce3646c9eb784390e1,vi Kivity <avi@cloudius-systems.com>, 2015-03-08 11:00:38 +0200, , core improve apply forwarding currently apply work moveable input add overload non moveable input reference const reference,,
4989,808ac29cf37649ef74e7b942425ee5ce0c4b29d1,vi Kivity <avi@cloudius-systems.com>, 2015-03-08 10:53:49 +0200, , core mark apply inline,,
4990,ee8fa7b07a4581bfb0eff2d3739cb2d8a9266689,hlomi Livne <shlomi@cloudius-systems.com>, 2015-03-03 10:06:38 +0200, , block signal reactor deleted moved signal handler function member wrapping class block signal desctuctor call resetting signal handler enough since signal arive even reset signal handler sig_dfl e.g timer fix use free signal caught reactor destroyed signed shlomi livne shlomi cloudius systems.com,,
4991,4d286f050462acd66fa79e19f1f2a6d4c4d1d5f4,leb Natapov <gleb@cloudius-systems.com>, 2015-03-05 12:35:49 +0200, , core drop superfluous qualifier then_wrapped,,
4992,11dfbdfaf5a721b2d4b2b568dc4bb47d5cf1e692,vi Kivity <avi@cloudius-systems.com>, 2015-03-06 12:40:17 +0200, , merge branch tgrabiec futurize github.com cloudius system seastar dev unify future callback specialization callback return value tomasz,,
4993,7502f2a3a34caf63bb90bbea4f7910ddb49ea57d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-03-06 10:06:46 +0100, , test add test returning bare value callback,,
4994,af82e23c750c37f8b1c5c99fda778773949bd093,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-03-06 10:04:20 +0100, , core use futurize unify then_wrapped specialization,,
4995,a232b7e6c5da3004425fd02a511c88a092bcac12,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-03-06 10:02:24 +0100, , core use futurize unify future specialization side benefit returning non void non future allowed future int return later .then return  ,,
4996,f25d7ac068927133eedfb5805c2491e8973cd93d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-03-06 10:01:25 +0100, , core add futurize apply invokes given function wrapping result future necessary,,
4997,422d642cf47c08711de41573aa2949fecefbb84e,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-03-06 10:01:08 +0100, , core add futurize primise_type,,
4998,f5485c667d1b9649b41e46c30297c932a6184e2a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-03-06 10:00:47 +0100, , core move futurize future.hh,,
4999,5d1b10d97ae280c5b7ca7be1c988eb7c12d3bc3d,leb Natapov <gleb@cloudius-systems.com>, 2015-03-05 12:35:50 +0200, , core properly propogate exception do_until avi use std move .then_wrapped patch removing rvalue qualification then_wrapped land,,
5000,41846256d86a3d35154b85b74d574fae6113cf00,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-03-03 23:18:30 -0300, , test fix fileiotest engine called local_engine constructed dereferences pointer local_engine create reference consequently following error seen running fileiotest core reactor.hh 854 runtime error reference binding null pointer type struct reactor asan sigsegv let switch test use app_template signed raphael carvalho raphaelsc cloudius systems.com,,
5001,e7e58d446ce5d0d31e4542c37f16614c8b48daf0,lad Zolotarov <vladz@cloudius-systems.com>, 2015-03-05 18:33:25 +0200, , dpdk explicitly set mempool value passed opaque parameter equal buffer size default value pmd using value minus configuring data buffer size configures ring signed vlad zolotarov vladz cloudius systems.com,,
5002,d674cd7debcff35ab4b38e6a95fec560d151b4b7,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-03-04 17:38:12 +0100, , core add make_shared overload allows code like auto make_shared object,,
5003,83963b23d34d485fb2e589f62038cec80fdc20dd,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-03-04 17:05:24 +0100, , replace rescue usage then_wrapped pretty much change remove rescue,,
5004,e36115e1d4e56006994d9d4a251eb931b0558151,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-03-04 17:04:11 +0100, , core add then_wrapped overload work void returning callback,,
5005,7b5193b80c3d095f1583e0c106ed5eed6073ec4b,alle Wilund <calle@cloudius-systems.com>, 2015-03-04 16:52:31 +0100, , future deferring finally callback add finally continuation overload function returning future type awaits finishing continuation question continuing present one i.e wrapper around then_wrapped remove need deal original return value signed calle wilund calle cloudius systems.com,,
5006,89ec1f8f6a82d113b417f7333497978553b840c2,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-03-03 14:35:36 -0300, , slab add reclaimer functionality basic explanation reclaimer algorithm slab page descriptor containing information refcnt vector free object link lru etc lru list contain slab page item unused make reclaiming process faster easier maintaining lru slab page performance penalty 1.3 shlomi suggested approach lru would longer exist timestamp would used instead keep track recency reclaimer would iterate slab page checking unused slab page lowest timestamp reclaimer get least recently used slab page lru list management stuff required iterate page erasing item contained reclaimer called likely slab memory usage calibrated thus slab page allocated anymore reclaimer enabled default disabled specifying slab size using application parameter max slab size signed raphael carvalho raphaelsc cloudius systems.com,,
5007,68d0cd2441738c1e22eb8f0ba38244dffd71a3b1,adav Har'El <nyh@cloudius-systems.com>, 2015-03-04 17:38:41 +0200, , input_stream remove buf_size parameter input_stream constructor unused buf_size parameter parameter needed whenever input_stream need data call underlying data_source get thus data_source get decide buffer size moreover implementation read buffer size different time e.g. chunk compressed file uncompressed chunk size different time signed nadav har nyh cloudius systems.com,,
5008,1bf71073e67c0a8bf56f29dfb8cfa8f012bbb997,hlomi Livne <shlomi@cloudius-systems.com>, 2015-03-04 15:00:48 +0200, , test add timeout limit execution time test support timout assure run away test signed shlomi livne shlomi cloudius systems.com,,
5009,56dce3df5155d8f279cf1e05bab1d81be4883da6,alle Wilund <calle@cloudius-systems.com>, 2015-03-03 12:17:29 +0100, , basic lock impl around semaphore signed calle wilund calle cloudius systems.com,,
5010,55a43eb5f983ed74e505e6dd421f297c54bf7260,sias He <asias@cloudius-systems.com>, 2015-03-02 11:45:25 +0200, , tcp improve retransmit store tcp header unacked queue partial ack segment happens trim acked part segment retransmits recalculate tcp header retransmit unacked part,,
5011,3aaac55a7ac3bcafb229c171936f6d1e5c252158,vi Kivity <avi@cloudius-systems.com>, 2015-03-01 18:45:35 +0200, , tcp fix bad checksum rst packet neglected set offload_info needs_csum reset packet resuling ignored recipient symptom include connection attempt closed port seastar passive end hanging instead active end understanding port closed,,
5012,27913013b10b9dcf28bec62996c9ae16bd5a697e,vi Kivity <avi@cloudius-systems.com>, 2015-03-01 16:40:29 +0200, , virtio tighten packet debug mode allocate exactly available fragment size order catch buffer overflow get similar behaviour dpdk since without huge page must copy packet newly allocated buffer,,
5013,590d8da4f11fefd4b33d8ceab23d726946aa261a,leb Natapov <gleb@cloudius-systems.com>, 2015-03-01 15:54:38 +0200, , core provide void promise specialization make easier write generic code,,
5014,e1aa9f85a192b29d432ad4e1a9d878e987526d38,leb Natapov <gleb@cloudius-systems.com>, 2015-03-01 14:25:22 +0200, , fix xenstore compilation,,
5015,cefe6a9b3ec5ada6709b431a4bf06ef008b3a283,vi Kivity <avi@cloudius-systems.com>, 2015-03-01 15:26:46 +0200, , tcp fix option parsing two bug get_header type offset used size given offset opt_end failed account mandatory tcp header thus byte large resulting overflow,,
5016,25168fc73da1ab022ac5654fd4d3090107f4d932,vi Kivity <avi@cloudius-systems.com>, 2015-03-01 13:32:34 +0200, , enum fix std hash non specialization enum type sfinae work substituted template parameter complication error would called ceinae therefore hash enums fail compile given non enum rather ignored possible specialize hash enums since primary template doe extra enable template argument use enable_if therefore rename enum_hash require user explicitly define hash myenum inheriting,,
5017,1e5df06f9ad5198052be4fe160340e6b4c3d3e44,vi Kivity <avi@cloudius-systems.com>, 2015-03-01 11:50:44 +0200, , shared_ptr provide default std hash specialization folloing std shared_ptr,,
5018,eb384236fd1e7c92da333ef47e7161ee8d2f1b1a,lauber Costa <glommer@cloudius-systems.com>, 2015-02-27 15:43:57 -0500, , iostream extend eof condition read_exactly user well currently signal eof consume user one calling read_exactly eof never signalled might make sense continuous stream specially dealing file eof natural part line happen time every read finish file loop point rely eof signed glauber costa glommer cloudius systems.com,,
5019,5bc8d7cfadb78caf37b47e1bd351852c52de04d1,vi Kivity <avi@cloudius-systems.com>, 2015-02-26 19:26:32 +0200, , build speed linking large machine,,
5020,cb5c2de06c00f045105e42dc65bd22aefe70457e,lauber Costa <glommer@cloudius-systems.com>, 2015-02-26 11:44:55 -0500, , readme add documentation then_wrapped signed glauber costa glommer cloudius systems.com,,
5021,1fadd7d608c89fbe9ab46332db23395a7a5bf0a7,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-02-26 16:31:56 +0100, , net move ipv4_addr constructor source file boost join provided boost algorithm string.hpp conflict boost join boost range join.hpp look like boost issue let pollute namespace unnecesssarily regarding change configure.py look like scollectd.cc part core package need net api.hh added net net.cc core,,
5022,6b77cf7d080f9a429768f36c27c831dabdbbe860,lauber Costa <glommer@cloudius-systems.com>, 2015-02-26 10:19:55 -0500, , linecount change avi say enough signed glauber costa glommer cloudius systems.com,,
5023,9861bfca015ec8503f68e12ceb53690135053379,lauber Costa <glommer@cloudius-systems.com>, 2015-02-26 10:19:54 -0500, , open_file_dma allow specification open flag sometimes frustrating use open_file_dma hardcoded behavior always assuming o_creat sometimes desirable would nice option note design including open_flags enum thing want user api control stuff like o_direct optional therefore included visible interface changing function signature include paramater specifies whether create file doe exist signed glauber costa glommer cloudius systems.com,,
5024,6f36fd48addbc954e5389121f3fe909e4b72efae,or Laor <dor@cloudius-systems.com>, 2015-02-26 12:53:40 +0200, , tiny nitpicks readme file,,
5025,381717a66e60265a70f52588bf8551ff96c9ce6f,or Laor <dor@cloudius-systems.com>, 2015-02-26 12:47:30 +0200, , run ispell readme.md,,
5026,1492ae9040f451d098ab63a3cb70fc0e0ac8a6f6,or Laor <dor@cloudius-systems.com>, 2015-02-26 12:27:49 +0200, , readme add explanation 100 cpu consumption recommended configuration,,
5027,76b19e920b93192ec9118a84109a739a91a8901a,vi Kivity <avi@cloudius-systems.com>, 2015-02-26 11:49:11 +0200, , merge branch slab github.com cloudius system seastar dev slabify memcached raphael,,
5028,67560bec4888521766953b0867aedf522f46ec8b,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-02-25 19:32:57 -0300, , test add slab allocator testcase signed raphael carvalho raphaelsc cloudius systems.com,,
5029,aa6d850228601977f6376ef0434f0606ddbb87df,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-02-20 12:54:43 -0200, , memcached integrate slab allocator item structure changed work slab last field used access key value ascii prefix respectively item structured worked smaller footprint reduced 104 byte byte reclaimer temporarily disabled global lru removed cache lru eviction done per slab class basis whenever slab allocator run slab page fragmentation issue naturally solved slab algorithm slab class chunk size,,
5030,6dea362304a597084836c9fb8daa080ce094bb0f,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-02-19 20:51:24 -0200, , add experimental string_view option append_static signed raphael carvalho raphaelsc cloudius systems.com,,
5031,66117b2697ef7633b3a493d967079b69834de61b,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-02-16 15:42:49 -0200, , memcached expiry stored bit value expiration time bit value specified memcached protocol thus need store bit value value needed convert target type change intended save space item structure addition need insert entry _alive expiration time zero meaning item never expire signed raphael carvalho raphaelsc cloudius systems.com,,
5032,03ae698ce17a138e58039caaa64bdb8904c9f422,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-02-16 15:33:21 -0200, , core add slab allocator slab allocator resembles one used stock memcached composed slab class slab class composed chunk size per slab class lru also available slab allocator export stats collectd signed raphael carvalho raphaelsc cloudius systems.com,,
5033,b461b42ce81a326506c7d82277a42b25e982d7d7,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-02-20 12:49:02 -0200, , memcached revert flashcached flashcached integration done relying certain similarity flashcached memcached old assumption longer hold result current code terrible integrate slab allocator keeping flashcached alive patch reverts flashcached memcached integrated future definitely better way,,
5034,11f5a8e3982d4036d44665156da3632172e94906,leb Natapov <gleb@cloudius-systems.com>, 2015-02-25 12:43:47 +0200, , add default constructor iostreams make life programmer easier since allows define variable type ahead object creation,,
5035,b64f26832ec7ccc17f0bea5aa6e914b71ee9c7fa,adav Har'El <nyh@cloudius-systems.com>, 2015-02-25 11:59:27 +0200, , reactor terminate cleanly or_terminate .or_terminate continuation needed one need exit application unhandled exception instead letting event loop continue spin forever or_terminate currently call std terminate incidentally gcc specific implementation print exception type call abort result painfully slow core dump abort helpful point debugger find abort called original exception thrown see issue instead calling std terminate patch switch calling engine .exit cleanly shut application without dumping core also print like gcc std terminate exception type printing requires non standard gcc extension signed nadav har nyh cloudius systems.com,,
5036,e0bff0c28ec9292ee3c0b13230ff2df7b8bdedf4,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-02-25 10:52:53 +0100, , test add test exploiting bug,,
5037,3d81e0635339d698e598a748406aa24a713a205d,vi Kivity <avi@cloudius-systems.com>, 2015-02-25 11:02:00 +0200, , shared_ptr fix dropping ref failure input faild conversion leaked reference input object,,
5038,4240ab6e95713b185be74b69e4f0c0a37e92851b,lauber Costa <glommer@cloudius-systems.com>, 2015-02-10 12:29:32 -0500, , fix syntax error readme reading file see correct functioning rescue clause noticed small syntax error example code signed glauber costa glommer cloudius systems.com,,
5039,0d7b87853908074273cdfa58a7e0dccee7f63404,vi Kivity <avi@cloudius-systems.com>, 2015-02-24 15:10:33 +0200, , memory sprinkle magic attribute allow building flto,,
5040,f730ae9814cbfc52e9c87a18f2cea18e72f07e2c,vi Kivity <avi@cloudius-systems.com>, 2015-02-23 18:23:18 +0200, , sstring add static_assert prevent use byte type,,
5041,9519f04b0bc7c59ab4b11a8d8006b9d4da81a00a,vi Kivity <avi@cloudius-systems.com>, 2015-02-23 18:11:39 +0200, , sstring remove unused to_sstring declaration actual overload sufficient,,
5042,51ff807a11e92e248a0df784b3123faec2e4e346,vi Kivity <avi@cloudius-systems.com>, 2015-02-23 17:26:10 +0200, , sstring fix to_sstring sstring type sstring family type basic_string ... make to_sstring work ,,
5043,fbf88440793b9ffc2832e1fc55422fdfe98f010b,vi Kivity <avi@cloudius-systems.com>, 2015-02-23 10:15:19 +0200, , move input_stream output_stream header,,
5044,c35b61bda588f253989670959c50658b9fef8972,vi Kivity <avi@cloudius-systems.com>, 2015-02-22 16:20:36 +0200, , distributed fix return type lambda friendly invoke_on result_of mean used type member use result_of_t instead,,
5045,2d4b46d8e75fceeec7f12b6d103c8fbc4b447d61,akuya ASADA <syuu@cloudius-systems.com>, 2015-02-20 09:07:12 +0900, , readme.md add fedora document since fedora need use rawhide package 4.9 signed takuya asada syuu cloudius systems.com,,
5046,f116ef8fb60fcde78ed1ee6b6fbaa7a031b16f4f,vi Kivity <avi@cloudius-systems.com>, 2015-02-20 10:13:15 +0200, , file skip directory listing,,
5047,842a0f70cac8165bec29c22a68f9771aaaf19609,vi Kivity <avi@cloudius-systems.com>, 2015-02-19 18:55:43 +0200, , revert core demangle stdout reverts commit cause problem dpdk conflict core stdio.cc core stdio.hh,,
5048,caa83858f0b026009d1627d955c65c6c64e101ab,vi Kivity <avi@cloudius-systems.com>, 2015-02-16 15:28:33 +0200, , reactor handle sigterm sigint stop prepared called twice,,
5049,3928092053f49b00d6ad5aecbc78b0a8e7f90346,leb Natapov <gleb@cloudius-systems.com>, 2015-02-19 13:28:49 +0200, , smp put cache line smp statistic structure cpu may automatically prefetch next cache line statistic collected different cpu resided adjacent cache line cpu may erroneously prefetch cache line guarantied accessed another cpu fix putting cache line two structure,,
5050,e752975b08087497580204de41427d1c5339fd67,lad Zolotarov <vladz@cloudius-systems.com>, 2015-02-19 16:47:37 +0200, , dpdk copy data allocated buffer non decopuled case data buffer decoupling rte_mbuf available hugetlbfs available copy newly received data memory buffer allocate build packet object buffer allow returning rte_mbuf immediately would solve issue decoupling solving hugetlbfs available implementation simplistic preallocation packet data cache alignment etc signed vlad zolotarov vladz cloudius systems.com,,
5051,06565c80d5f9dcea98d496f65a54cf9a31b3e722,lad Zolotarov <vladz@cloudius-systems.com>, 2015-02-19 12:31:19 +0200, , dpdk decouple data buffer allocate data buffer instead using default inline rte_mbuf layout implement rx_gc add _rx_gc_poller call refill mbuf least free buffer threshold chosen sane enough number introduce mbuf_data_size allocate buffer detached flow still going allocate data buffer inline case since buffer would require page per mbuf due mbuf_overhead signed vlad zolotarov vladz cloudius systems.com,,
5052,a4345fa9bf4e8dc5fe4d9c358071d42ace0d7b2e,lad Zolotarov <vladz@cloudius-systems.com>, 2015-02-19 12:31:18 +0200, , dpdk rename mbuf_size mbuf_data_size signed vlad zolotarov vladz cloudius systems.com,,
5053,e04cb93d2f5b675df14eaf0311f346a2a03a4c7e,lad Zolotarov <vladz@cloudius-systems.com>, 2015-02-19 12:31:17 +0200, , dpdk use std vector instead std deque tx_buf_factory internal cache std vector promised continuous storage std deque addition std vector semantics yield simpler code deque therefore std vector deliver better performance stack semantics need signed vlad zolotarov vladz cloudius systems.com,,
5054,d22af60057d87b152b11fa977b8904412a517fff,lad Zolotarov <vladz@cloudius-systems.com>, 2015-02-19 12:31:16 +0200, , dpdk fix mempool external buffer size calculation take account alignment header trailer mempool adding element signed vlad zolotarov vladz cloudius systems.com,,
5055,bebefe2afe73b82e2a0c40a13534a6c2046d7e2b,leb Natapov <gleb@cloudius-systems.com>, 2015-02-19 09:53:55 +0200, , net return reference hw_feature instead copying structure noticed tcp hw_features inlined copy structure caller function take 1.5 httpd profiling,,
5056,7f8d88371aaf72125b6dd5b6e7c1cfb33d86f470,vi Kivity <avi@cloudius-systems.com>, 2015-02-19 10:08:12 +0200, , add license notice copyright header source file two file imported osv project retain original license,,
5057,a8698fa17c62542a98e928d395f38e66f6ff148c,vi Kivity <avi@cloudius-systems.com>, 2015-02-18 18:03:34 +0200, , core demangle stdout using print debug smp annoying get interleaved output fix wrapping stdout fake stream line buffer thread,,
5058,861d2625b23b1cf299a6d135699f306ba2308b6a,lauber Costa <glommer@cloudius-systems.com>, 2015-02-18 15:46:09 -0500, , file_stream proper seek support file_stream interface support seek try seek arbitrary location smaller aio boundary say instance seek end able perform read need guarantee read aligned present caller buffer properly offset signed glauber costa glommer cloudius systems.com,,
5059,c4c5899f898fc17ba2f6754d6a72687f22836f1c,leb Natapov <gleb@cloudius-systems.com>, 2015-02-18 17:14:15 +0200, , net handle arp resolution error tcp pas timeouts calling chain schedule retry waiter list long,,
5060,84234b5b9a85fd9090e7800d21aa956239c46d9e,vi Kivity <avi@cloudius-systems.com>, 2015-02-18 19:48:18 +0200, , memory implement c11 aligned_alloc function,,
5061,b4098dac2f412e5f04ced0505b0fa7d1fdb3c806,vi Kivity <avi@cloudius-systems.com>, 2015-02-16 19:00:18 +0200, , core add distributed invoke_on variant requiring pointer member current variant distributed invoke_on require member function invoke may tedious implement case add variant support invoking functor accepting local instance reference,,
5062,17914a80cde88c36eb03bf837a9eb93150dd6a60,vi Kivity <avi@cloudius-systems.com>, 2015-02-16 18:15:16 +0200, , future add utility promote type future core function accept function returning either immediate type future return future either case e.g smp submit_to make easier metaprogram function provide utility computes return type futurize futurize_t bar future bar futurize_t void future futurize_t future bar future bar,,
5063,f7cade107b0c02feea466b6de15b2ab8dad8259a,leb Natapov <gleb@cloudius-systems.com>, 2015-02-18 16:42:20 +0200, , seawreck abort connection error,,
5064,1cfaa7eefef4825216d6ad24e1d1efc40de1d83a,leb Natapov <gleb@cloudius-systems.com>, 2015-02-18 16:42:18 +0200, , net populate dpdk redirection table even one queue tcp connect redirection table figure queue handle connection,,
5065,c1abe0e573275da7085dca1b82d8860230f8ecfe,vi Kivity <avi@cloudius-systems.com>, 2015-02-17 18:00:12 +0200, , smp remove gratuitous cache miss response pending boost lockfree spsc_queue push writes producer index even data pushed check whether need work beforehand,,
5066,193416054902915a1a99916e2243682d0c4326ae,lad Zolotarov <vladz@cloudius-systems.com>, 2015-02-17 11:33:35 +0200, , dpdk add tso support tcp.hh properly calculate pseudo header tso case calculated ip_len zero enable tso dpdk network backend signed vlad zolotarov vladz cloudius systems.com,,
5067,c11de0476e9a12ae141013f121037347a7970179,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-02-16 19:10:18 +0100, , net add overload ntoh hton int8_t uint8_t make templating easier,,
5068,9ee05fdddc9998fe412b3a444560d79e0713465d,leb Natapov <gleb@cloudius-systems.com>, 2015-02-12 15:55:03 +0200, , seawreck exit test done,,
5069,b8cc243b177a6204a17e310ba49b4feb1ada0d5c,lad Zolotarov <vladz@cloudius-systems.com>, 2015-02-15 18:59:16 +0200, , tcp pas correct value tso segment size downstream signed vlad zolotarov vladz cloudius systems.com,,
5070,8ca0f21ae63e813383c64d6459cb29f554dd2a5d,vi Kivity <avi@cloudius-systems.com>, 2015-02-15 15:55:35 +0200, , posix add missing include,,
5071,5daa8478f416f2d3f176e8453cf06bac506a56da,lad Zolotarov <vladz@cloudius-systems.com>, 2015-02-12 19:18:47 +0200, , dpdk_rte add weak definition dpdk signed vlad zolotarov vladz cloudius systems.com,,
5072,d82efca3a8fe0a587d341c12a542e5b500947a85,lad Zolotarov <vladz@cloudius-systems.com>, 2015-02-12 18:46:36 +0200, , dpdk use std unique_ptr storring _xmem blob signed vlad zolotarov vladz cloudius systems.com,,
5073,95bf98977dfe5b0d5add29f60e9142a1c375d594,lad Zolotarov <vladz@cloudius-systems.com>, 2015-02-12 18:46:35 +0200, , dpdk recover dpdk 1.7.x support define marker type defined adjust zero copy rte_mbuf layout dpdk 1.7.x readme.md bump dpdk latest version 1.8.0 add new dpdk configuration description signed vlad zolotarov vladz cloudius systems.com,,
5074,d4e3cafd10ddf4e2bd498325d09bbcd69ceb6558,leb Natapov <gleb@cloudius-systems.com>, 2015-02-12 15:46:09 +0200, , net start polling upper layer ready receive,,
5075,a258f290b520ad456fab776ca25ea3ccb14cee42,vi Kivity <avi@cloudius-systems.com>, 2015-02-12 14:43:12 +0200, , seawreck fix include,,
5076,ebc2ebbf125cfd2739e951691a544b2424896056,vi Kivity <avi@cloudius-systems.com>, 2015-02-12 14:21:44 +0200, , upgrade http_client application test rename seawreck wrk,,
5077,9f87d5bc3497bc316ef03f2d2dbd9ef27cf9b065,vi Kivity <avi@cloudius-systems.com>, 2015-02-12 11:56:46 +0200, , merge branch zero copy github.com cloudius system seastar dev dpdk zero copy vlad patch series introduces zero copy dpdk networking backend split dpdk_qp mempool separate pool queue configure dpdk_qp mempools use external memory buffer ensure pinning virt2phys translation currently running top hugetlbfs properly divide memory seastar dpdk running top hugetlbfs zero copy see detail patch7 description,,
5078,21f4c88c85c83a5be6d0a3db51e4439698135774,lad Zolotarov <vladz@cloudius-systems.com>, 2015-02-03 20:33:12 +0200, , dpdk zero_copy_tx initial attempt send packet without copying fragment data poll descriptor place circular_buffer take need send new packet pmd return completed buffer descriptor mempool way going know may release buffer move packet object last segment descriptor private data fragment completed mean whole packet sent memory may released calling packet destructor exception copy hugepages backend enabled copy failed send zero copy flow e.g failed translate buffer virtual address copy first frag requires fragmentation 128 byte level order avoid header splitting signed vlad zolotarov vladz cloudius systems.com new null nullptr across board removed unused macro mbuf_zc_private max_frags_zc improved local variable localization according nadav remark tx_buf class regress whole packet copy send single fragment failed sent zero copy manner e.g data failed virt2phys translation send fragment copy way try send rest fragment zero copy way make set_packet receive packet fixed comment check_frag0 check first 128 byte first 2kb starting use assert instead rte_exit do_one_frag rename buf_len improve assert size private data tx_buf class added two marker field beginning end private field section going allocated mbuf private data section assert distance two marker replace sanity_check check packet zero length copy flow assert general function since check relevant copy zero copy flow make sanity_check explicitly called frag0_check make from_packet receive packet case frag0_check fails copy first fragment whole packet tx_buf_factory class change interface work tx_buf instead tx_buf better utilize loop facility kill extra init_factory use std deque instead circular_buffer storing element tx_buf_factory optimize tx_buf_factory get first take completed buffer mempool take factory cache make mempools using cache significantly improves performance despite fact right mempool configuration single producer single consumer mode remove empty size method add comment near assert fast path removed needed inline qualifier need specify inline qualifier class defined method including static method defining process_packets poll_rx_once inline degraded performance 1.5 added _tx_gc_poller call tx_buf_factory check pointer calling free use posix_memalign instead memalign new improve info message simplified mempool name creation code configure.py opt invalid offsetof compilation warning new add missing macro definition dropped mistake new use mbufs lifo way better cache utilization lower frag0 non split thresh 128 byte use new iterators semantics circular_buffer use optional packet storing packing mbuf use instead introduce tx_buf class hide private rte_mbuf area handling hide packet rte_mbuf cluster translation handling introduce buffer factory class hide rte_mbuf flow detail mempool circular_buffer pmd mempool templatization make dpdk_qp class template parameter unite from_packet_xxx code single template function unite copy_one_frag single template function,,
5079,51adb20bda54cc4eed50ab9b6db0f0757fe74d1d,sias He <asias@cloudius-systems.com>, 2015-02-12 08:53:44 +0200, , test add http_client based tcp_client work httpd server timer based run test second http_client server 192.168.66.100 10000 conn 100 duration smp http_client server 192.168.66.100 10000 connection 100 request connection dynamic timer based request cpu 33400 request cpu 33368 total cpu total request 66768 total time 10.011478 request sec 6669.145442 done reqs per connection based run test 100 connection run 1000 reqs http_client server 192.168.66.100 10000 conn 100 reqs 1000 smp http_client server 192.168.66.100 10000 connection 100 request connection 1000 request cpu 50000 request cpu 50000 total cpu total request 100000 total time 15.002731 request sec 6665.453192 done patch based shlomi initial version signed shlomi livne shlomi cloudius systems.com signed asia asia cloudius systems.com,,
5080,20151b7b2a83deeb6b9f237d7f3fdd802e03ea92,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-02-11 18:59:56 -0200, , memcached capture port value signed raphael carvalho raphaelsc cloudius systems.com,,
5081,4d0f2d3e4cb6143f34ae72e3bdd816cb3ef82569,lad Zolotarov <vladz@cloudius-systems.com>, 2015-01-26 18:39:31 +0200, , dpdk_rte give rte_eal_init parameter use hugetlbfs use hugetlbfs give mempools external buffer allocation mempool internals still need memory assume cpu core going worst case provide dpdk enough memory able allocate memory subtracted total amount memory given application seastar application parameter signed vlad zolotarov vladz cloudius systems.com,,
5082,46b6644c35fade766eada9bf228862dc13f1a54b,lad Zolotarov <vladz@cloudius-systems.com>, 2015-01-26 18:35:32 +0200, , dpdk add function return number byte needed mempool object function needed want estimate number memory want give dpdk provide mempool external memory buffer signed vlad zolotarov vladz cloudius systems.com,,
5083,82e20564b0d3bf32fc0e521799db3ca3ea39b657,lad Zolotarov <vladz@cloudius-systems.com>, 2015-01-27 15:06:56 +0200, , dpdk initialize mempools work external memory seastar configured use hugetlbfs initialize mempools external memory buffer way going better control overall memory consumption signed vlad zolotarov vladz cloudius systems.com new use char instead void pointer arithmetic,,
5084,d4cddbc3d0851611cf75531b94102419ccf4cc66,lad Zolotarov <vladz@cloudius-systems.com>, 2014-12-24 20:36:01 +0200, , dpdk use separate pool queue adjust size reason pool size pool time ring size give upper layer time free buffer ring stall buffer absolutely different constraint since provides back pressure upper layer keep need allow buffer air amount may send single call therefore need time ring size buffer since may release whole ring buffer single call thus may able place another whole ring buffer call signed vlad zolotarov vladz cloudius systems.com new fixed info message,,
5085,18f35236dbd29e5e9fad75a73d9832edb63b6e03,lad Zolotarov <vladz@cloudius-systems.com>, 2015-01-25 14:49:53 +0200, , memory move page_size page_bits huge page size definition header going used place memory.cc signed vlad zolotarov vladz cloudius systems.com,,
5086,3f848c5714bb03108a4336506c7ecc27fb3d795b,vi Kivity <avi@cloudius-systems.com>, 2015-02-11 17:45:13 +0200, , merge branch file add adapter block based file character stream interface input_stream test program demonstrating use,,
5087,64930bc610d9fbe325f314c7c2e7d7c61889c440,vi Kivity <avi@cloudius-systems.com>, 2015-02-10 19:03:20 +0200, , test add linecount test demonstrates test,,
5088,d7eb4e96fb3e251c33fe53523a44730255753d98,vi Kivity <avi@cloudius-systems.com>, 2015-02-10 19:02:19 +0200, , app template add support positional option example app_template app namespace bpo boost program_options  file bpo value std string file process ,,
5089,af0bf06836422e088a5ed65620d2c212c188e404,vi Kivity <avi@cloudius-systems.com>, 2015-02-10 19:01:31 +0200, , core add implement character stream backed file,,
5090,d31de31aac0f65a59dca0d8d19f80fdeb89a6e45,vi Kivity <avi@cloudius-systems.com>, 2015-02-11 15:35:11 +0200, , core add input_stream reset useful seekable stream drop existing buffered data,,
5091,c7250146146e91caed9fae32890826d308829636,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-02-10 15:26:20 -0200, , memcached add option listen different port useful testing multiple memcached server signed raphael carvalho raphaelsc cloudius systems.com,,
5092,2dadcdc5e7c5a178d1b8d9d88afa70b1d7225764,vi Kivity <avi@cloudius-systems.com>, 2015-02-10 19:00:06 +0200, , core make data_source internals available derived class useful adding functionality seekable stream,,
5093,381814aeaf56d61cb0a027163adfc1b72f257140,vi Kivity <avi@cloudius-systems.com>, 2015-02-10 18:59:38 +0200, , stream.hh add missing include,,
5094,951a93a534c09c1bbc50157dac6837fbf14aaea6,vi Kivity <avi@cloudius-systems.com>, 2015-02-10 18:59:16 +0200, , file.hh add missing include,,
5095,10e58e0cda8a4d922388fc9038a76cccb2537fe8,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-02-10 13:14:25 +0100, , test make test runner catch forward exception thrown directly task,,
5096,85c67001ddd8d261d9c7adbbbc9775c289f94d63,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-02-10 13:14:24 +0100, , test add test exception thrown do_until,,
5097,331d5e1569d0628aeec4159cd75d525a98a9fcfd,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-02-10 13:14:23 +0100, , core fail do_until future callback throw otherwise aband result promise result abort,,
5098,ee58c7700875d880918d332d20ba48ce2cafb71d,vi Kivity <avi@cloudius-systems.com>, 2015-02-10 12:00:32 +0200, , httpd fix unbounded memory use eerror handling httpd recursion read loop future read .then ... work return read   however error handling added look like future read .then ... work return read .rescue ...  problem rescue called every iteration loop instead loop entirety mean rescue continuation allocated every processed request called entire loop terminates result ton allocated memory fix moving error handling end loop incidentally using do_until instead recursion,,
5099,29366cb07683e7b12a849e3058681b8b911942c1,vi Kivity <avi@cloudius-systems.com>, 2015-02-09 17:07:21 +0200, , net add byteorder ntoh hton variant signed type,,
5100,f0c1bcdb3369bc3dbaeb42338fbbc76370c00072,sias He <asias@cloudius-systems.com>, 2015-02-09 08:52:20 +0200, , tcp switch debug print persist timer left development,,
5101,a192391ac6a5d259588d053764bd29496092435a,sias He <asias@cloudius-systems.com>, 2015-02-09 08:52:21 +0200, , tcp init timer callback using constructor,,
5102,0ac0e06d3217f0e8d0c433bc8d71810f9f116794,sias He <asias@cloudius-systems.com>, 2015-02-09 08:52:22 +0200, , packet linearize merge packet merged old packet anyway linearize merge,,
5103,bf41da8974bf58d5662c89749f4a9fc401845e9b,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-01-30 11:20:17 -0200, , core small optimization constructing std vector cpu size std vector cpu pre determined let reserve memory ahead time push back call would optimized signed raphael carvalho raphaelsc cloudius systems.com,,
5104,7a704f7a40de6893994b06bf682d0ea6b0fb3e14,vi Kivity <avi@cloudius-systems.com>, 2015-02-08 11:41:22 +0200, , sstring fix truncation compare difference size two string larger represented int truncation occur sign result undefined fix using explicit test return value,,
5105,9a55e9fd22a51e43d475cb4ba6e0433501cf3918,ekka Enberg <penberg@cloudius-systems.com>, 2015-02-06 10:58:20 +0200, , sstring add compare operator add string comparison function basic_sstring required container std map std multimap signed pekka enberg penberg cloudius systems.com,,
5106,fc7cb5ab5e729a0e65e0f9bf33adccf85fd69757,ekka Enberg <penberg@cloudius-systems.com>, 2015-02-06 10:58:22 +0200, , shared_ptr fix assignment polymorphic type fix assignment operator work polymorphic type suggested nadav signed pekka enberg penberg cloudius systems.com,,
5107,f948ee79bd04078f360996fc3e99cb20d6f49561,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-02-06 11:47:51 +0100, , test.py add name filtering option,,
5108,ead03f1b08ecfb9eb6ddab4bc4b47eece8271be5,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-02-06 11:47:50 +0100, , test.py add mode parameter filtering test,,
5109,4b28eb638fe9a114ce804c9f7bf0cb467ebaf314,vi Kivity <avi@cloudius-systems.com>, 2015-02-07 20:20:57 +0200, , merge branch asia tcp_v1 github.com cloudius system seastar dev tcp queue asia contains fix improvemnts,,
5110,2195f77879fb1f26ce2c4c6c07dccffb038a2036,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-02-06 18:43:46 -0200, , memcached stats rename evicted eviction change compliance stock memcached signed raphael carvalho raphaelsc cloudius systems.com,,
5111,a9ef189a54ffd5d3d5df7d533ab36762a09d30e2,adav Har'El <nyh@cloudius-systems.com>, 2015-02-03 23:50:17 +0200, , core add support enum type hash table key patch add header file core enum.hh code includes header file able use enumerated type key hash table header file implement hash function enumerated type using standard hash function underlying integer type,,
5112,abd5a24354ed872132309daa0d0c987fa077f5fd,sias He <asias@cloudius-systems.com>, 2015-02-05 15:38:12 +0800, , tcp implement persist timer used recover race sender waiting window update receiver waiting sender send somehow window update carried ack packet seen sender,,
5113,6a468dfd3dadbcd3c29bb684b6bd2c6059bfc5a3,sias He <asias@cloudius-systems.com>, 2015-02-04 10:39:54 +0800, , packet linearize packet_merger merge fix tcp_server rxrx test dpdk problem receive order packet hold packet ooo queue linearize incoming packet copy packet thus free old packet however missed one case need linearize result original packet held ooo queue dpdk fixed buffer pool dpdk buffer ooo queue able receive packet hang even ping work,,
5114,4f21d500cb12a270e16ba75ac13fa875217ff616,sias He <asias@cloudius-systems.com>, 2015-02-05 14:02:55 +0800, , tcp nothing already closed state close fix following server side tcp_server client side run client.go host 192.168.66.123 conn test txtx control time connection tcp_server closed state reset remote tcp_server call tcp tcb close wait one signal thus ton leaked connection closed state,,
5115,dd741d11b89a53f8b06f61c071ed87071b0a4a7e,sias He <asias@cloudius-systems.com>, 2015-02-02 16:16:45 +0800, , tcp fix fin sent case call output_one make sure packet fin actually generated sent call output _packetq empty tcp tcb get_packet packet fin generated thus send fin happen retransmit packet queued _packetq ack come ack unacked data application call close close connection,,
5116,f600e3c902a16f0eb54a7f63a4f169f6051c043c,sias He <asias@cloudius-systems.com>, 2015-02-02 14:24:27 +0800, , tcp add queued_len take number queued data account checking data sent,,
5117,fca74f95632843442a57cddc50c84c93cc681496,sias He <asias@cloudius-systems.com>, 2015-01-30 11:34:59 +0800, , tcp implement rfc6582 newreno currently rfc5681 a.k.a reno tcp congestion control algorithm slow start congestion avoidance fast retransmit fast recovery rfc6582 describes specific algorithm responding partial acknowledgment referred newreno improve reno,,
5118,426938f4ede68c795902dcbc51e4c5d8256fe325,sias He <asias@cloudius-systems.com>, 2015-01-30 08:31:07 +0800, , tcp add limited transfer per rfc3042 rfc5681 rfc3042 use additional data sent limited transmit must included calculation update _snd.ssthresh,,
5119,2289b0335424fd588efce903c4135152595c396c,sias He <asias@cloudius-systems.com>, 2015-02-02 15:44:13 +0800, , httpd fix rst handling found wrk sometimes sends rst instead fin close connection case reset connection closed state however httpd delete leaked connection closed state fix handling exception sending empty response eof case pas exception upper layer otherwise httpd noise,,
5120,89763c95c92b44d3482e7500ddd5c14b8c47b76e,leb Natapov <gleb@cloudius-systems.com>, 2015-01-29 09:42:06 +0200, , core optimise timer completion periodic timer way periodic timer rearmed timer completion cause timer_settime called twice periodic timer completion rearm second time enable_fn fix providing another function add timer timer container call timer_settime,,
5121,94e01e6d0e3cf989b0be81cba0a0cd9f8ea1a862,vi Kivity <avi@cloudius-systems.com>, 2015-01-29 12:24:03 +0200, , test exit timertest end,,
5122,070eb7d496272724649bf0d4bfa071abd8231c35,vi Kivity <avi@cloudius-systems.com>, 2015-01-29 12:20:39 +0200, , test serialize timer test otherwise output get interspersed,,
5123,59c0d7e8939b922da9d9de96948fd17a7f82e0eb,vi Kivity <avi@cloudius-systems.com>, 2015-01-29 12:14:05 +0200, , smp fix work item deletion delete completion responding,,
5124,bcae5f2538cbc327ef03c94a39bb17774983c133,leb Natapov <gleb@cloudius-systems.com>, 2015-01-29 11:31:44 +0200, , smp fix memory leak smp queue delete completed item fix regression,,
5125,42bc73a25d4daac3be72066397dd78c43ced85c4,vi Kivity <avi@cloudius-systems.com>, 2015-01-29 11:18:54 +0200, , dpdk initialize _tx_burst_idx fix random segfault,,
5126,0ab01d06ac7ed632009f82a7d58613dfaa79c892,sias He <asias@cloudius-systems.com>, 2015-01-29 10:38:57 +0200, , tcp rework segment arrival handling follow rfc793 section segment arrives major case state closed state listen state syn sent state state note change significant page rfc793 describing segment arrival handling test needed good news far tcp_server ping txtx rxrx test httpd work fine,,
5127,661bb3d478daaf68cbaeaa96be57efd1e7e09b13,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-01-28 15:10:48 +0100, , test use test_runner run boost test,,
5128,a1fecad8cb60e990beac09f3d0521e53534503b7,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-01-28 15:10:47 +0100, , test introduce test_runner class app_template launch seastar framework used outside thread inject task,,
5129,8ad50d6614ca98cba4237c13feaf4d7cc66e6edc,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-01-28 15:10:46 +0100, , core add exchanger class,,
5130,b3dd1c828542abdab90b2f49f021ef421df6d7e2,vi Kivity <avi@cloudius-systems.com>, 2015-01-29 10:08:27 +0200, , merge branch signal seastar simplify signal handling,,
5131,9de86ed6514157250f4a6e5b024f3c3396f11359,akuya ASADA <syuu@cloudius-systems.com>, 2015-01-28 23:20:29 +0900, , test support tcp_server test ping txtx rxrx tcp_client signed takuya asada syuu cloudius systems.com,,
5132,7a55f21b2960f09493c577816a936a823aaed937,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-01-28 15:10:45 +0100, , core move _timer instance field callback set allocated cpu destroyed cpu clock otherwise attempt delete cpu thread gone cpu main thread,,
5133,8a126b9088185ecaef39a28dd6d464c46aa68071,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-01-28 15:10:44 +0100, , core fix use free error _threads smp configure called non main thread global state allocates destroyed reactor destroyed destroyed main thread reactor destroyed together thread called smp configure result sigsegv allocator try free _threads vector across cpu thread target cpu alrady freed see issue fix introduced smp cleanup method cleanup global state called thread smp configure called need call smp configure non main thread integration boost unit testing framework,,
5134,555977f5e6985312dcd8d7a0db4576975ccdd0fe,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-01-28 15:10:43 +0100, , core drop bsd license text resource.hh,,
5135,ada48a5213c73a99a94102da21c752c5febd0c81,leb Natapov <gleb@cloudius-systems.com>, 2015-01-28 11:56:27 +0200, , net use iterators iterate circular_buffer dpdk,,
5136,bb072fc5c96b1c4348f05b80b4d043764c177108,leb Natapov <gleb@cloudius-systems.com>, 2015-01-28 11:56:26 +0200, , core add iterator circular_buffer container,,
5137,be5568ae310398e52c314cebe493011b2b47d108,akuya ASADA <syuu@cloudius-systems.com>, 2015-01-28 17:25:10 +0900, , distributed handle invoke_on void return value signed takuya asada syuu cloudius systems.com,,
5138,38839293f92bb2b9922cc24085ca10a384a8abbd,vi Kivity <avi@cloudius-systems.com>, 2015-01-28 11:29:16 +0200, , reactor simplify timer handling instead scheduling timer processing happen future process timer context poller signal poller high resolution timer lowres time poller low resolution timer reduces timer latency important remove use promise future repetitive task error prone,,
5139,770214ea63378c805487fe91ddd65f22da141194,vi Kivity <avi@cloudius-systems.com>, 2015-01-28 11:07:14 +0200, , reactor simplify signal handling signal repetitive therefore good match promise future single shot replace plain callback,,
5140,24d5c319a38aadd3571749d13818d4bda84e4ec1,vi Kivity <avi@cloudius-systems.com>, 2015-01-27 18:54:06 +0200, , httpd return server date header required benchmark,,
5141,a9c0fbd8f721900f7697e14bdb36cafce16a8083,vi Kivity <avi@cloudius-systems.com>, 2015-01-27 18:53:44 +0200, , timer add constructor callback,,
5142,5454c79613054ee87cfd9716bc1dc1654d6f7b8b,leb Natapov <gleb@cloudius-systems.com>, 2015-01-27 14:03:49 +0200, , core allocate reactor cpu instead using thread_local variable see init function engine high cache miss profile yes patch define,,
5143,7a92efe8d1f079e223e2b3243a6ecc44bd1878e2,leb Natapov <gleb@cloudius-systems.com>, 2015-01-27 14:03:48 +0200, , core add local engine accessor function use thread local engine variable directly use accessor instead,,
5144,18d212b04e566cd9099486faf220277d39e24cf4,leb Natapov <gleb@cloudius-systems.com>, 2015-01-27 12:25:28 +0200, , core use separate thread_local variable track pending signal access thread_local variable throw helper function,,
5145,74f9f1fdd2c141496bbe00d718809e61dad3013a,leb Natapov <gleb@cloudius-systems.com>, 2015-01-25 17:36:42 +0200, , core prefetch different amount work item different queue incoming item processing usually take work completion item processing prefetch completion item make sure ready access,,
5146,0383459b939122cb84b0f6fbc77ee83abb75cc1c,leb Natapov <gleb@cloudius-systems.com>, 2015-01-25 17:36:41 +0200, , core prefetch valid address prefethcing non mapped address incurs address translation cost,,
5147,ff4aca2ee0787b98d64090546adb63ef23b4dc7d,leb Natapov <gleb@cloudius-systems.com>, 2015-01-25 14:35:28 +0200, , core prefetch work item processing,,
5148,b9554219dc977202f6880927c35d84122e98cd48,leb Natapov <gleb@cloudius-systems.com>, 2015-01-25 14:35:27 +0200, , core add prefetch function,,
5149,85b62d813205bc22b69fdbdef028ecc0f9a28676,lad Zolotarov <vladz@cloudius-systems.com>, 2015-01-25 13:19:05 +0200, , memory hugetlbfs mapping may invalid turn condition assert since mapping invalid may mean bug signed vlad zolotarov vladz cloudius systems.com,,
5150,24227fd93351f63d496d0d3501ed95d5aa592160,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2015-01-23 18:46:03 +0100, , shared_ptr add helper hashing shared_ptr value,,
5151,be7dbcbf50dd90c140ee73aee5e315abe4c4337e,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-01-22 23:17:11 -0200, , core improve reactor receive_signal receive_signal unordered map signo mapped signal_handler either register signal find existing one get future promise associated signal problem called unconditionally resulting constructor signal_handler always called needlessly register handler even signo already inserted map signed raphael carvalho raphaelsc cloudius systems.com,,
5152,b250b53004566186a46fcd279fc1113db3d3f04d,leb Natapov <gleb@cloudius-systems.com>, 2015-01-22 13:02:01 +0200, , core remove reference async_work_item unused,,
5153,d83e4c49fceacb95322ed5850e22542e0306328e,leb Natapov <gleb@cloudius-systems.com>, 2015-01-22 13:02:00 +0200, , smp put field used different core different cache line,,
5154,a8054e5aaec4a563bd64be00ceaa4e52eefb0bd0,vi Kivity <avi@cloudius-systems.com>, 2015-01-22 12:38:22 +0200, , memory init virt phys mapping binding memory node binding may cause memory move initialize page map done,,
5155,d0ec99317ddbbd446a630f4d09fc559880b27cfa,vi Kivity <avi@cloudius-systems.com>, 2015-01-22 09:44:44 +0200, , net move device method line,,
5156,5678a0995ec6112e91c5cc8b3d9dc2d590e5ce44,vi Kivity <avi@cloudius-systems.com>, 2015-01-20 18:16:58 +0200, , net use redirection table forward packet proxy queue build 128 entry redirection table select cpu service packet core queue thus need dispatch internally add queue weight control relative weight hardware queue weight core service hardware queue process packet weight default process equal share packet compared proxy queue,,
5157,285d4af07795aee4a72414767410da4134c3e201,vi Kivity <avi@cloudius-systems.com>, 2015-01-21 19:06:30 +0200, , memory adjust pagemap parsing pfn bit inclusive missed high bit effect system exabyte memory,,
5158,71ac2b5b24e258c65d4690edfae4e94977ac2f16,sias He <asias@cloudius-systems.com>, 2015-01-21 10:51:50 +0200, , tcp rename tcp send unlike tcp tcb send tcp connection send send tcp packet associated tcb tcp send send packet associated without tcb bunch send function rename make code readable,,
5159,917247455c626584f346b97c2d95d8a1351c7c6d,sias He <asias@cloudius-systems.com>, 2015-01-21 11:10:09 +0200, , tcp use set_exception instead set_value notify user rst,,
5160,8ce7cfd64ba0cf91fb9c8d41189f04e88c456402,sias He <asias@cloudius-systems.com>, 2015-01-21 10:59:09 +0200, , tcp fix listener port supposed zero origin port,,
5161,0af3af9d8dbe33f6732986592086bb4a838c8479,vi Kivity <avi@cloudius-systems.com>, 2015-01-21 10:30:09 +0200, , merge branch asia github.com cloudius system seastar dev tcp fix asia adding syn fin retransmits handling timeouts around ,,
5162,0c09a6bd7af63a341b3d662490e03d9a39d733dc,sias He <asias@cloudius-systems.com>, 2015-01-21 11:59:10 +0800, , tcp return future tcp connect,,
5163,d6d7e6cb47bb4dffa3df10646c4e26a1d339191b,sias He <asias@cloudius-systems.com>, 2015-01-19 22:32:20 +0800, , tcp support syn fin retransmit timeout tested tcp_server client.go using iptables dropping syn ack fin ack client side verified syn fin packet retransmitted connection closed currently retries,,
5164,602c7c9c98a8211b1d7bcf3f9983009eeff9ace3,sias He <asias@cloudius-systems.com>, 2015-01-19 16:52:40 +0800, , tcp free packet sent rst,,
5165,fff2920c55e449475b3f2979e616c9613e4dbf48,vi Kivity <avi@cloudius-systems.com>, 2015-01-20 12:21:41 +0200, , test disable address sanitizer alloc dealloc mismatch test generates false positive new with_alignment ... ...,,
5166,88067922a0802369e84f52e1f40c116faa082a82,vi Kivity <avi@cloudius-systems.com>, 2015-01-20 12:06:53 +0200, , merge branch semaphore add semaphore broken,,
5167,2e4122ddd7757eff9ba99acc257082d000f47bb8,vi Kivity <avi@cloudius-systems.com>, 2015-01-20 11:30:56 +0200, , futures_test add broken semaphore test,,
5168,90e77cc3a0514ee58672506c3e689eae30fcf905,vi Kivity <avi@cloudius-systems.com>, 2015-01-20 11:29:48 +0200, , semaphore support breaking semaphore tell waiter something bad happened away used waiter clean must new waiter,,
5169,a6dea57f5bde196b6b5a65ab9e55e88767e9cf53,vi Kivity <avi@cloudius-systems.com>, 2015-01-20 11:29:26 +0200, , semaphore add missing include,,
5170,4c86eab910c82f2acc23435f783b7c4606535fd0,vi Kivity <avi@cloudius-systems.com>, 2015-01-19 20:16:15 +0200, , merge branch docker improve docker build,,
5171,811fba9bc18b7212008d6fd5ba8abe8b592672ca,vi Kivity <avi@cloudius-systems.com>, 2015-01-19 20:15:51 +0200, , merge branch align aligned allocation facility,,
5172,b452e33bd1bfc47bbf2696b6e18872bd10b679bb,vi Kivity <avi@cloudius-systems.com>, 2015-01-19 20:02:23 +0200, , readme simplify docker build instruction run build command directly docker using shell function instead opening shell forward user group build artifact belong user root,,
5173,1a29177d78a8ad0ff4b824e4dbbc9b2305084678,vi Kivity <avi@cloudius-systems.com>, 2015-01-18 11:51:23 +0200, , build add cryptopp libpciaccess zlib libxml2 docker installation,,
5174,6e9d4f367d451477345837bd793cbc7fc5b928f1,vi Kivity <avi@cloudius-systems.com>, 2015-01-18 11:19:49 +0200, , build move dockerfile docker dev docker build transfer directory containing dockerfile container take quite pre built environment,,
5175,93ae11cf6388069351a9aa210de560cf5a9912ae,vi Kivity <avi@cloudius-systems.com>, 2015-01-19 16:08:58 +0200, , resource fix type getting number processing unit effect lose hyperthreads numa machine,,
5176,e0d5bd2fb890a35a77fd22d31e8eb20d687c4446,vi Kivity <avi@cloudius-systems.com>, 2015-01-19 15:57:57 +0200, , collectd improve default hostname,,
5177,56f8ba3303dd1210ab09e540ae155a0ba5ac9c2d,sias He <asias@cloudius-systems.com>, 2015-01-19 11:10:06 +0200, , tcp clear tear connection,,
5178,555be6f4bcf9f8e6c6be22c9655b9bbef1ee4ed8,vi Kivity <avi@cloudius-systems.com>, 2015-01-18 19:25:39 +0200, , test test aligned allocator,,
5179,45f9c869433e9cc559de632b6bbe4076621361e0,vi Kivity <avi@cloudius-systems.com>, 2015-01-18 19:23:43 +0200, , memory provide facility aligned allocation new with_alignment foo ... cache aligned foo std vector foo foo cached aligned foo vector,,
5180,b22186e6231c72db0bc6364711be26701cc6bc53,vi Kivity <avi@cloudius-systems.com>, 2015-01-18 19:21:36 +0200, , memory fix small aligned allocation size align simply call small allocator provided size doe guarantee alignment default round allocation size nearest power two case guarantee alignment,,
5181,23b9605fc4a971efc1bec63b134354ecabf127ce,leb Natapov <gleb@cloudius-systems.com>, 2015-01-18 13:11:51 +0200, , net fix virtio bulk sending zero net_hdr_mrg packet otherwise wrong flag may used,,
5182,4920f309e819267cb205bacada5aa32e18b43ce9,leb Natapov <gleb@cloudius-systems.com>, 2015-01-18 13:11:50 +0200, , net fix dpdk bulk sending _tx_burst_idx may zero _tx_burst still hold packet top circular_buffer avoid refilling case,,
5183,b8185d5afe88103e8436e31b914e0730215f6bfa,lad Zolotarov <vladz@cloudius-systems.com>, 2015-01-18 12:27:19 +0200, , dpdk set rss_bits correct value reta_size available rss_bits equal number bit used calculation use available signed vlad zolotarov vladz cloudius systems.com,,
5184,e3915cfcf8a92523c60c6e745e190b92b11f243c,leb Natapov <gleb@cloudius-systems.com>, 2015-01-15 15:14:38 +0200, , reactor call pause instruction idle loop,,
5185,2ff006da4aed659a73e45c790c75790bdeb70f08,leb Natapov <gleb@cloudius-systems.com>, 2015-01-15 14:35:01 +0200, , core calculate system load report via collectd,,
5186,1ef28087500c806e20b5ec3903cd23219189e6c5,leb Natapov <gleb@cloudius-systems.com>, 2015-01-15 14:35:00 +0200, , reactor return proper value pollers currently return true matter work actually done fix return true poll work,,
5187,201a9617bf268aaebfb3ad9b7fa37499d356f33f,vi Kivity <avi@cloudius-systems.com>, 2015-01-18 10:43:22 +0200, , merge branch v2p virtual physical translation dma requires hugetlbfs backed memory,,
5188,69a39dbb6c71650a5c2c60c2e0039635f518874e,on Marti <dmarti@zgp.org>, 2015-01-16 13:38:29 -0800, , build install rpm one command dockerfile save one intermediate container little time signed marti dmarti cloudius systems.com,,
5189,57bcec15c7041f8395080419976eabe339bd3a25,leb Natapov <gleb@cloudius-systems.com>, 2015-01-15 15:28:28 +0200, , memcached flush cache destruction also add assert item cancel function called cache flushed reviewed tomasz grabiec tgrabiec gmail.com,,
5190,80bcf3f973798686fe8b0f6c79ec931ef30c839e,vi Kivity <avi@cloudius-systems.com>, 2015-01-15 18:23:19 +0200, , memory provide virt phys translation api convert virtual address physical address work hugepages effect,,
5191,d77d0cddcaf4aa25f17e967b5c860646e793f774,vi Kivity <avi@cloudius-systems.com>, 2015-01-15 18:22:07 +0200, , posix implement pread interface,,
5192,bbe4d3b7d6478fe32babc2f40a672c4ff1fa79a6,akuya ASADA <syuu@cloudius-systems.com>, 2015-01-16 00:17:49 +0900, , net implemented so_reuseport support udp signed takuya asada syuu cloudius systems.com,,
5193,ae64fe7d6c504cfdbfc4652ef4c2ea6cad3e60a7,vi Kivity <avi@cloudius-systems.com>, 2015-01-15 15:42:26 +0200, , merge branch cross cpu alloc library imposed smart pointer std exception_ptr may free cpu one allocated unfortunately impossible wrap std exception_ptr since interacts directly stack unwinder fix allowing cross cpu free slow path abuse,,
5194,4c3eb49aaf2dbfc984bee0caa03378696b119d4a,vi Kivity <avi@cloudius-systems.com>, 2015-01-15 14:24:31 +0200, , test add smp test test calling function calling function return exception second test verifies cross cpu free work,,
5195,e746eb7f84d7fff3f5872bcd79dd557961b1616c,vi Kivity <avi@cloudius-systems.com>, 2015-01-15 14:23:23 +0200, , future fix build error add missing std,,
5196,311e1c834e55e3a70c0d3bfa9d23044a8f883d7b,vi Kivity <avi@cloudius-systems.com>, 2015-01-15 14:22:13 +0200, , future fix future then_wrapped exception case calling state.get throw exception instead calling function thus denying called function chance deal exception fix constructing future directly state,,
5197,809c6edee27a4d7f89e7c45af03c917b17141458,vi Kivity <avi@cloudius-systems.com>, 2015-01-15 12:11:03 +0200, , reactor periodically call allocator drain cross cpu free item,,
5198,e57be410b5f3f06c2c9a723ad32c8f3f34f420b1,vi Kivity <avi@cloudius-systems.com>, 2015-01-15 12:07:09 +0200, , memory support cross cpu freeing currently require memory freed cpu allocated doe impose difficulty user code since code already smp unsafe must use message passing run destructor origin cpu memory naturally freed well however library code doe run assumption specifically std exception_ptr transport across core support use case add low performance support cross cpu free using atomic singly linked list per core,,
5199,30aa81819a22459641ac70581aa8c713f723faf4,vi Kivity <avi@cloudius-systems.com>, 2015-01-15 10:46:44 +0200, , app handle command line parsing error,,
5200,f004db89cf2b83b8d63ad027efbeb72f985f5f6b,sias He <asias@cloudius-systems.com>, 2015-01-15 03:55:49 +0200, , tcp make tcp_option get_size fill readable,,
5201,8ed3584a5e4b3e4c831d630c846623c9da7ce7b7,sias He <asias@cloudius-systems.com>, 2015-01-15 08:35:33 +0200, , app allow show help message support help moment quite annoying see httpd terminate called throwing instance boost clone_impl boost boost program_options unknown_option unrecognised option aborted support help,,
5202,c6c6c6055d4664b8d90a2440698ae85b2947d745,leb Natapov <gleb@cloudius-systems.com>, 2015-01-14 15:36:32 +0200, , core add various statistic smp communication,,
5203,354280fd7ccac57d748f971f890e44ae81004bfd,leb Natapov <gleb@cloudius-systems.com>, 2015-01-14 15:36:31 +0200, , core scollectd use move instead forward rvalue reference,,
5204,340a871a98576af905b387e251a5face2ebd2fbc,leb Natapov <gleb@cloudius-systems.com>, 2015-01-14 15:36:30 +0200, , core use seastar shared ptr scollectd,,
5205,660434c3a0eef61d28a732854e88965ccc15d7d9,leb Natapov <gleb@cloudius-systems.com>, 2015-01-14 15:36:29 +0200, , core change collectd namespace instead class class used provides better encapsulation namespace easier deal,,
5206,1ecc67885709b81f3e09c9f0bbc1f7515fb8ae24,vi Kivity <avi@cloudius-systems.com>, 2015-01-14 16:47:12 +0200, , reactor fix potential allocation syscall thread pool throwing exception may allocate memory want syscall thread pool reactor thread support allocation move conversion negative syscall result exception separate task running reactor thread avoid,,
5207,ceeab9a33008f9780d5350ff7bdb914a7da77818,leb Natapov <gleb@cloudius-systems.com>, 2015-01-14 14:50:14 +0200, , replace hoc index list generator standard one,,
5208,e1552ad3b6fbab5b824324d50fad5c1fba764ed4,akuya ASADA <syuu@cloudius-systems.com>, 2015-01-14 18:13:54 +0900, , core rename smp.hh distributed.hh signed takuya asada syuu cloudius systems.com,,
5209,58f614d858ea778dd27119b149fdd1fb9c5423fb,alle Wilund <calle@cloudius-systems.com>, 2015-01-13 17:26:49 +0100, , make align method constexpr usage static constexprs,,
5210,759681903432a857d5c71e63bdd1a414fbfe465e,vi Kivity <avi@cloudius-systems.com>, 2015-01-13 19:08:48 +0200, , file define move assignment operator,,
5211,8135865ad665e10e5791fb5725f11a61599b4f08,vi Kivity <avi@cloudius-systems.com>, 2015-01-13 17:38:38 +0200, , merge branch takuya reuseportv3 github.com cloudius system seastar dev use so_reuseport let kernel distribute accepted connection takuya,,
5212,98c9a7f52f94e3324e5121de2c96e6ff944c829a,leb Natapov <gleb@cloudius-systems.com>, 2015-01-13 15:13:38 +0200, , core make sconnectd.hh include file list reasonable currently include whole reactor.hh need small part brings,,
5213,2b4a309ad6fc93473594dc842a4dbafb5ee679f3,leb Natapov <gleb@cloudius-systems.com>, 2015-01-13 15:13:37 +0200, , core start smp queue self,,
5214,d4db9493aef2e85091fffa456f90493a11fa18ed,leb Natapov <gleb@cloudius-systems.com>, 2015-01-13 15:13:36 +0200, , core remove unused smp code,,
5215,16705be1f4bc250092fe315588bc1954c2b02389,akuya ASADA <syuu@cloudius-systems.com>, 2015-01-12 03:34:13 +0900, , distribute incomming connection kernel using so_reuseport so_reuseport bind accept thread kernel dispatch incomming connection signed takuya asada syuu cloudius systems.com,,
5216,fde6c412c266122429fc0b7b6a39c51d35f2cf24,akuya ASADA <syuu@cloudius-systems.com>, 2015-01-12 11:46:58 +0900, , reactor add so_reuseport availability check method signed takuya asada syuu cloudius systems.com,,
5217,4c46f4db8c7334ac6802a9c1ca1005e66f3538a8,vi Kivity <avi@cloudius-systems.com>, 2015-01-13 10:13:05 +0200, , test test literal sstring concatenation,,
5218,16c841452349caa00831f282d8505f54b15db9c8,vi Kivity <avi@cloudius-systems.com>, 2015-01-13 10:12:36 +0200, , sstring add literal sstring concatentation overload,,
5219,a52a3dd5cab3f41932d96fd2c13de7386801c0db,vi Kivity <avi@cloudius-systems.com>, 2015-01-12 20:25:21 +0200, , sstring add standard member typedefs add standard member typedefs standard algorithm looking using standard name find spew error message,,
5220,66a6a3b50e5963835feda82f708a8e5c178929f6,lauber Costa <glommer@cloudius-systems.com>, 2015-01-12 14:56:52 -0200, , add header file.hh currently unable use core file.hh fresh include file type conflict arise probably happen existing file existing includes end getting environment right beforehand failed mmd build release db.o build release db.o.d std gnu wall werror fvisibility hidden pthread dhave_xen dhave_hwloc dhave_numa build release gen build release db.o db.cc file included sstables.hh database.hh composite composite.hh db.cc core file.hh error iovec declared scope virtual future size_t write_dma uint64_t std vector iovec iov adding sys uio.h include list file.hh make includable apparently anywhere signed glauber costa glommer cloudius systems.com,,
5221,585f6452b92a3578ce77717eb589196912f3b432,lad Zolotarov <vladz@cloudius-systems.com>, 2015-01-12 18:29:07 +0200, , dpdk properly handle case info available e.g case adjust asserts add assert place get info provided signed vlad zolotarov vladz cloudius systems.com signed avi kivity avi cloudius systems.com,,
5222,a706cada5f02e4757fae61d77a1b7e5c1101ff0d,vi Kivity <avi@cloudius-systems.com>, 2015-01-12 18:39:49 +0200, , merge branch gleb net github.com cloudius system seastar dev expand network path inversion udp icmp gleb,,
5223,f11e1f31d693f2290352247bf9dd654b45e1748e,leb Natapov <gleb@cloudius-systems.com>, 2015-01-12 15:52:22 +0200, , net cleanup ipv4 code longer used,,
5224,19ced3da4c1e657be8ba3d68d77b8753c243d301,leb Natapov <gleb@cloudius-systems.com>, 2015-01-12 14:08:20 +0200, , net fix dhcp use use udp socket send packet need hoc code create udp packet,,
5225,9c229d449a279703dc33a2c2dc9946bc0e2733c7,leb Natapov <gleb@cloudius-systems.com>, 2015-01-12 13:08:08 +0200, , net remove unused ipv4_l4 send function previous patch one longer used,,
5226,d10575aea5c68999f672172377144e14e3069757,leb Natapov <gleb@cloudius-systems.com>, 2015-01-12 13:01:20 +0200, , net add tcp packet queue non tcb packet packet generated tcp belong connection currently packet pushed ipv4 directly patch add packet queue ipv4 poll limit amount memory packet consume,,
5227,fda06cd81f62f67648364758a6d4cf207245311a,leb Natapov <gleb@cloudius-systems.com>, 2015-01-12 11:38:01 +0200, , net continue network stack inversion icmp poll icmp ipv4 instead pushing packet icmp ipv4 also limit much memory outstanding icmp packet consume,,
5228,6da00ab956fd7e4ea55b0f5f204630aaf2673390,leb Natapov <gleb@cloudius-systems.com>, 2015-01-12 10:19:36 +0200, , net continue network stack inversion udp poll udp channel ipv4 instead pushing packet udp ipv4,,
5229,f58926acd158d6f6e54e822677fc01ec9d4b9edd,leb Natapov <gleb@cloudius-systems.com>, 2015-01-12 10:16:09 +0200, , core fix circular_buffer emplace_ back front take universal reference,,
5230,20d2725ed94deaa51c51e6d4dccc646da33b252b,leb Natapov <gleb@cloudius-systems.com>, 2015-01-12 10:08:53 +0200, , core shared_ptr add noexcept add missing noexcepts constructor needed able store shared pointer growable container efficiently,,
5231,94ffb2c94859891cf21256c81380f0f9c4fbed41,vi Kivity <avi@cloudius-systems.com>, 2015-01-12 14:07:54 +0200, , net add missing includes byteorder.hh,,
5232,4dd4fa67c12874ab7ee1b2a3ae2faed17ed99e37,ekka Enberg <penberg@cloudius-systems.com>, 2015-01-12 10:37:54 +0200, , configure.py fix error hadling rule found typo configure.py cause rule found handler die signed pekka enberg penberg cloudius systems.com,,
5233,bef054f8c8735238d7bd6c4fe627d81db96c875b,leb Natapov <gleb@cloudius-systems.com>, 2015-01-11 12:24:33 +0200, , net rename udp_v4 ipv4_udp consistency protocol,,
5234,37026f8c5f3bacb3895cec5f6b46002c3039cd28,vi Kivity <avi@cloudius-systems.com>, 2015-01-11 12:26:39 +0200, , merge branch gleb net ssh github.com cloudius system seastar dev network stack inversion tcp gleb tcp doe transmit user write instead signal packet generated layer layer polled poll tcp turn generate packet improves batching,,
5235,32b42af49fc7f75c4220a417f94f9cacc75253a0,leb Natapov <gleb@cloudius-systems.com>, 2015-01-07 15:00:32 +0200, , net register poller tcp connection patch change tcp register poller poll tcp packet instead pushing packet tcp ipv4 push networking path inversion little bit closer application,,
5236,d5c309c74e669a1784af02b1b3fcc32857c1ae9a,leb Natapov <gleb@cloudius-systems.com>, 2015-01-07 11:15:48 +0200, , net provide poller registration api push pull method supported patch,,
5237,2b340b80ce0947ddb3248783d45c225eea9352ea,leb Natapov <gleb@cloudius-systems.com>, 2015-01-06 15:23:38 +0200, , net unfuturize packet fragmentation since sending single packet doe involve future anymore simplify code,,
5238,4c59fe6436e97381602c6f65fda26c15af6609a4,vi Kivity <avi@cloudius-systems.com>, 2015-01-08 18:44:23 +0200, , xen ensure _xenstore member initialized early enough thanks clang,,
5239,062f621aa0d8b4f57d939206231640db9497a62c,vi Kivity <avi@cloudius-systems.com>, 2015-01-08 18:43:49 +0200, , net wrap toeplitz hash initializer brace nagging clang,,
5240,0aaea57838631655b29de0ed8b1a9870c21bcfc5,vi Kivity <avi@cloudius-systems.com>, 2015-01-08 18:36:51 +0200, , test fix missing timertest thanks clang,,
5241,13c1324d45e0ad21ac802f493ce069165f31da0c,leb Natapov <gleb@cloudius-systems.com>, 2015-01-08 17:39:32 +0200, , net provide statistic via collectd provide batching overall send received packet stats,,
5242,51fb18aba0573a06f850854841c89bdeddd81e89,leb Natapov <gleb@cloudius-systems.com>, 2015-01-08 15:36:46 +0200, , net remove unused variable virtio,,
5243,5002f0f10ef6bc76497448ba400e9d5b39009028,mnon Heiman <amnon@cloudius-systems.com>, 2015-01-08 16:37:17 +0200, , readme boost needed ubuntu compilation,,
5244,902b5b00a4ab75f9fd47249d01dab7a0449dda73,akuya ASADA <syuu@cloudius-systems.com>, 2015-01-08 19:02:42 +0900, , make pollable_fd private variable use pollable_fd writeable readable instead signed takuya asada syuu cloudius systems.com,,
5245,b824790798d011627403e797e319484ed4621c30,leb Natapov <gleb@cloudius-systems.com>, 2015-01-08 10:08:52 +0200, , net move udp_v4 network_stack ipv4 class ipv4 class manages tcp icmp reason udp managed network_stack fix make protocol handling,,
5246,65d496950493d3a6bd72fbe277d2bc61af5e2d97,vi Kivity <avi@cloudius-systems.com>, 2015-01-08 11:21:04 +0200, , build limit link concurrency linker easily overwhelm desktop limit linker concurrency preserve interactiveness,,
5247,c95e452a3a0672c5eb960eb98b6e9bfc61615c8b,vi Kivity <avi@cloudius-systems.com>, 2015-01-08 11:09:49 +0200, , merge branch directory directory listing support using subscription sstring represent stream file name produced directory lister running parallel directory consumer,,
5248,4fd5ab936b9d95e07a3d0ca4edfbbd6f136012a6,vi Kivity <avi@cloudius-systems.com>, 2015-01-07 15:16:51 +0200, , test add directory_test list current directory testing open_directory list_directory,,
5249,3be04e700940a51417c1823d34374d377d02ee05,vi Kivity <avi@cloudius-systems.com>, 2015-01-07 15:15:13 +0200, , reactor implement open_directory list_directory open_directory similar open_file_dma flag adjusted list_directory return subscription producer consumer asynchronous,,
5250,f26e74b1ffbf118e9a78cc281e5c3cd7c3d66b77,vi Kivity <avi@cloudius-systems.com>, 2015-01-08 10:46:12 +0200, , merge branch takuya tcp clientv16 github.com cloudius system seastar dev tcp client takuya reviewed asia asia cloudius systems.com,,
5251,46d8b2462668672183b4ae870d7e97757a57c17f,akuya ASADA <syuu@cloudius-systems.com>, 2014-11-28 23:20:49 +0900, , add tcp_client test signed takuya asada syuu cloudius systems.com,,
5252,e9e1ed79779da4be2a6cf9d2229fc10496e54cc7,akuya ASADA <syuu@cloudius-systems.com>, 2015-01-02 04:41:11 +0900, , implement tcp client native stack,,
5253,7b3b9e5a463fd91f0e3ae89dbc80166e22a2db57,akuya ASADA <syuu@cloudius-systems.com>, 2014-11-28 05:56:19 +0900, , implement tcp client posix stack signed takuya asada syuu cloudius systems.com,,
5254,b9a2541c7e04bba2eca433b4ffab1447b2399e7c,akuya ASADA <syuu@cloudius-systems.com>, 2014-11-28 05:31:46 +0900, , add reactor connect client_socket definition network stack stub code signed takuya asada syuu cloudius systems.com,,
5255,2118fe5a09ec618147b26237b9e2e6672c61c15c,akuya ASADA <syuu@cloudius-systems.com>, 2015-01-02 04:40:40 +0900, , add l4connid hash,,
5256,9c2ca3d6b6379aecdfe80871e6fcd32b9315c293,akuya ASADA <syuu@cloudius-systems.com>, 2014-12-24 02:19:46 +0900, , return correct option size new syn packet sending signed takuya asada syuu cloudius systems.com,,
5257,7730ef29cd5c2abe6970003cdb0f9a17387cf4e2,akuya ASADA <syuu@cloudius-systems.com>, 2015-01-08 01:03:32 +0900, , add readable writeable method pollable_fd,,
5258,24820543ff265698fae34a257786b2ca045bbc91,akuya ASADA <syuu@cloudius-systems.com>, 2014-11-28 04:18:27 +0900, , add reactor posix_connect signed takuya asada syuu cloudius systems.com,,
5259,d3e83dde8b646c74d7032a81376b29255acd2a54,akuya ASADA <syuu@cloudius-systems.com>, 2015-01-01 03:32:59 +0900, , add file_desc getsockopt,,
5260,ff39f8c93e8e177aa4389ca0512770d7094cd611,akuya ASADA <syuu@cloudius-systems.com>, 2015-01-07 23:48:41 +0900, , initialize _snd.initial next tcb constructor,,
5261,8101c1f2a65be391323b14fee88871f3eb5c58aa,vi Kivity <avi@cloudius-systems.com>, 2015-01-07 15:12:23 +0200, , stream subscription fix build error stream close,,
5262,fa8d120d70ac81adbb8332bc9f6c226bf59cc656,ekka Enberg <penberg@cloudius-systems.com>, 2015-01-07 12:57:26 +0200, , core fix shared_ptr pointer cast fix compilation error shared_ptr pointer cast function update shared_ptr constructor take suggested avi signed pekka enberg penberg cloudius systems.com,,
5263,c01e9dc8d6542fea12e2a70eef9521d73817abbd,akuya ASADA <syuu@cloudius-systems.com>, 2014-11-28 04:17:10 +0900, , add file_desc connect signed takuya asada syuu cloudius systems.com,,
5264,a5802e36a2927a65fe1b6caab3b5eb1882180164,vi Kivity <avi@cloudius-systems.com>, 2015-01-06 15:48:03 +0200, , merge branch gleb net github.com cloudius system seastar dev network path inversion gleb instead pushing packet upper layer towards patch change networking stack opposite poll upper layer packet send several advantage approach first one instead getting packet one one get bulk another packet queueing happens closer application layer sender stopped accurately without dropping packet,,
5265,8d4e6b832a4d7da23af8dabf0c12346da7aad37e,leb Natapov <gleb@cloudius-systems.com>, 2015-01-05 14:09:14 +0200, , net implement bulk sending interface dpdk,,
5266,aae617f9f544fe34c28bbbe2b3a0dc2be53003de,leb Natapov <gleb@cloudius-systems.com>, 2015-01-05 11:18:32 +0200, , net revert whatever left virtio batch transmitted packet commit revert remains commit 503f1bf4 since need batch packet inside virtio upper layer doe already,,
5267,72324f02e22ceffef0e5910d0133b5b9e34d889f,leb Natapov <gleb@cloudius-systems.com>, 2015-01-05 11:09:04 +0200, , net implement bulk sending interface virtio,,
5268,77bd21c387feac7fc0bf75c008a4a0b63152377a,leb Natapov <gleb@cloudius-systems.com>, 2015-01-04 18:43:01 +0200, , net implement bulk sending interface proxy queue take advantage bulk interface send several packet simultaneity one submit_to remote cpu,,
5269,c98bdf513742130e4739563bbe5c6db27b8df989,leb Natapov <gleb@cloudius-systems.com>, 2015-01-04 16:25:46 +0200, , net limit native udp send buffer size currently udp sender send whenever data doe faster packet transmitted run memory patch limit much outstanding data native udp channel may ,,
5270,0fd014fc355793104299793f0419a254aeb584eb,leb Natapov <gleb@cloudius-systems.com>, 2015-01-04 13:45:29 +0200, , net add add completion callback provide callback called packet handled lower layer transmission know queue data user point patch also change send function longer block return void instead future,,
5271,e80fa4af7d6b99df5de4554bc1020de0d31efdd3,leb Natapov <gleb@cloudius-systems.com>, 2015-01-04 12:28:05 +0200, , net drop top level remaining ipv4 send needed,,
5272,12bce3f4fcfd29ba3a49341d49bdd2dcdde4abd6,leb Natapov <gleb@cloudius-systems.com>, 2014-12-31 16:57:14 +0200, , net make interface get packet instead arp ipv4 pushing packet interface queue make register function interface use ask packet,,
5273,e5d0adb33944531f2f0b3446ef63d8cec1a77dec,leb Natapov <gleb@cloudius-systems.com>, 2014-12-31 14:09:44 +0200, , net make poll packet networking stack packet accumulated interface packet queue queue polled see something send,,
5274,865d95c0f16bb5378662b54542c762dc401b3149,leb Natapov <gleb@cloudius-systems.com>, 2014-12-30 12:46:58 +0200, , net provide bulk sending interface implement call send loop device get proper implementation later,,
5275,3f483b22bcbbb03fed618b2212d916ca60c1b64a,leb Natapov <gleb@cloudius-systems.com>, 2015-01-06 12:54:26 +0200, , future add missing std forward,,
5276,66eea763bf9fa4930fedf291066bdca2776ca135,vi Kivity <avi@cloudius-systems.com>, 2015-01-05 13:20:54 +0200, , shared_ptr add comparison operator,,
5277,7a317f78a2f9d4494917b01b542d3368c78f8bb3,vi Kivity <avi@cloudius-systems.com>, 2015-01-05 13:18:57 +0200, , shared_ptr friend self needed converting constructor,,
5278,f2e25b844204bc321d03fef93dc434663ff54a62,vi Kivity <avi@cloudius-systems.com>, 2015-01-05 10:40:09 +0200, , merge branch shared_ptr split shared_ptr traditional polymorphic shared_ptr implementation lighter weight non polymorphic lw_shared_ptr,,
5279,c7d7494a6531e839ed870964bc199c9075c2b6ee,vi Kivity <avi@cloudius-systems.com>, 2015-01-05 10:39:35 +0200, , shared_ptr add documentation,,
5280,b6d76ed6508854439aac808a02523299be8ef064,vi Kivity <avi@cloudius-systems.com>, 2015-01-04 22:18:31 +0200, , shared_ptr add polymorphic capable shared pointer cost doubling pointer size shared_ptr polymorphic upcast base class,,
5281,87f63f7b907bf33aab43eca95d749c548c522adc,vi Kivity <avi@cloudius-systems.com>, 2015-01-04 21:45:45 +0200, , shared_ptr rename lw_shared_ptr light weight current shared_ptr implementation efficient doe support polymorphic type rename order make room polymorphic shared_ptr,,
5282,b7a83903b5ce869af1ed746b674418a2a14cb969,hlomi Livne <shlomi@cloudius-systems.com>, 2015-01-01 13:21:57 +0200, , test terminate memcached instance sigterm terminate running memcached instance sigterm instead sigkill allow process close cleaner manner signed shlomi livne shlomi cloudius systems.com,,
5283,3362851e5599c02ea85ada91017d6031c3090cab,hlomi Livne <shlomi@cloudius-systems.com>, 2015-01-01 13:21:56 +0200, , reactor add sigterm handler signed shlomi livne shlomi cloudius systems.com,,
5284,d72de7e959b391d0eb9de0ca6648a839d6c7297e,leb Natapov <gleb@cloudius-systems.com>, 2015-01-04 16:36:25 +0200, , net signal space availability tcp buffer currently space availability signaled packet taken unsend queue packet still alive long time point,,
5285,cef37f15460945d121ad7ea7fb260548d3596228,vi Kivity <avi@cloudius-systems.com>, 2015-01-01 15:02:32 +0200, , tcp fix unfulfilled read promise rst user may waiting data never never notify receive rst result tcb connection user data structure hang around memory fix notifying user waiting marking connection nuked try read reviewed asia asia cloudius systems.com,,
5286,33518ea9d080f8d4ce91737c5e393c94c9d84948,vi Kivity <avi@cloudius-systems.com>, 2015-01-01 10:12:58 +0200, , shared_ptr fix uninitialized ref count caused immediate leak,,
5287,05a02b93a0196fe1709c60583213911663bd79fb,vi Kivity <avi@cloudius-systems.com>, 2014-12-31 12:17:21 +0200, , merge branch tcp tcp protects tcbs using shared_ptr case capture unprotected lambda outlive shared_ptr introduce use fix reviewed asia asia cloudius systems.com,,
5288,5b071fd2247fe8c2fedf054bfa7ca4d8ecb06718,adav Har'El <nyh@cloudius-systems.com>, 2014-12-30 15:46:41 +0200, , sstring support to_sstring floating point std to_string also convert floating point argument string using printf format see http cpp string basic_string to_string add support to_sstring well note want use different format e.g. using function example 12345678.9 result 1.23457e signed nadav har nyh cloudius systems.com,,
5289,c2fe4c3e29f8adaf71fe76e510830570d351c6da,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-12-30 15:49:06 +0100, , memcached tests.py wait memcached process proceeding ensure old process longer running new one started,,
5290,6ad9114c0b60df2071b211669697269472036445,leb Natapov <gleb@cloudius-systems.com>, 2014-12-29 15:17:35 +0200, , reactor add at_destroy function reactor use unfortunately at_exit used delete object since run reactor still active deleted object may still used need another api run task reactor already stopped at_destroy api,,
5291,2fb7490bf9bd629eb046ee87d5b0d282bf56f71f,leb Natapov <gleb@cloudius-systems.com>, 2014-12-29 15:17:34 +0200, , stream reset subscription stream pointer stream destructor,,
5292,7a84dff0b2bd7d3fb9f72bbde2a6a60029bac88e,adav Har'El <nyh@cloudius-systems.com>, 2014-12-29 17:12:21 +0200, , sstring constructor string constructor const char_type really work char_type char strlen work pointer convenient constructor ordinary const char e.g. string literal solve type problem ugly cast make sense sizeof char_type i.e. char unsigned char signed char think make assumption place well e.g. determining size need allocate signed nadav har nyh cloudius systems.com,,
5293,f7fbf8ba02432d27f9e178430d1575a775f0e229,adav Har'El <nyh@cloudius-systems.com>, 2014-12-29 16:30:36 +0200, , sstring add operator std string operator get access read modify one character string patch add operator sstring signed nadav har nyh cloudius systems.com,,
5294,9be5590fcd8b7093c51580fb0b23e89b19367103,adav Har'El <nyh@cloudius-systems.com>, 2014-12-29 16:30:35 +0200, , sstring fix character type basic_sstring template allows picking char_type instead char could chosen something similar like unsigned char signed char unfortunately hard coded char left code cause problem existing code implicit conversion doe cause problem try implement operator char_type char result attempt return reference result conversion allowed patch fix leftover char char_type signed nadav har nyh cloudius systems.com,,
5295,f0cdc47a3a217b36fd266b24d652660ee4c6f1f9,leb Natapov <gleb@cloudius-systems.com>, 2014-12-29 10:35:50 +0200, , net sleep waiting link dpdk use promise seastar timer instead,,
5296,a445b8174ee61660b89659d968226e17f5380e67,leb Natapov <gleb@cloudius-systems.com>, 2014-12-29 10:35:49 +0200, , net wait link ready creating network stack,,
5297,073d6062a4829d7b2dce9d729096098a7485f287,vi Kivity <avi@cloudius-systems.com>, 2014-12-29 11:12:44 +0200, , tcp protect continuation launched tcb destruction tcb destroyed say connection closed rst continuation launched would see destroyed executes fix protecting tcb using shared pointer reference,,
5298,b05f33cf63efd7f593ea86e7ed853c9adbeb2764,vi Kivity <avi@cloudius-systems.com>, 2014-12-29 11:12:17 +0200, , tcp drop two useless continuation nothing,,
5299,3cecef365f8d5983cd9591ab4c4d96b3405eae9e,vi Kivity <avi@cloudius-systems.com>, 2014-12-29 11:02:31 +0200, , shared_ptr implement mirror std,,
5300,efd6c33af0ae7316ec38836c37d08774976073f9,leb Natapov <gleb@cloudius-systems.com>, 2014-12-28 16:28:07 +0200, , reactor remove longer needed thread_pool function,,
5301,3eefc1ada2d4eb85b305b72017911d9fe37ba246,leb Natapov <gleb@cloudius-systems.com>, 2014-12-28 16:28:06 +0200, , reactor replace thread_pool poller signal notification drop one poller since signal poller used process thread_pool completion,,
5302,27955d47f6675b68a360a5a9cc2be3221bd4d8e3,vi Kivity <avi@cloudius-systems.com>, 2014-12-28 15:26:19 +0200, , merge branch gleb nopoll github.com cloudius system seastar dev remove pre poll mode code gleb series move eventfd user use form notification polled without entering kernel moving epoll poller enabled need polled avi add lrt linker command line,,
5303,367bbd75f3922de844a54b25a725c49262ed65f0,leb Natapov <gleb@cloudius-systems.com>, 2014-12-28 13:01:55 +0200, , reactor move epoll poller enable poll,,
5304,889cc69a28db3bf910dd1d2ed355395a44e2d317,leb Natapov <gleb@cloudius-systems.com>, 2014-12-28 12:39:51 +0200, , reactor remove non polling mode,,
5305,7d3fb282c5a18acbd0e1d0954e62bd7ee43e884b,leb Natapov <gleb@cloudius-systems.com>, 2014-12-28 11:15:56 +0200, , reactor poll thread pool completion instead using eventfd,,
5306,d329a0a614e6941d984daa134c2f7d5826679c70,leb Natapov <gleb@cloudius-systems.com>, 2014-12-28 10:45:30 +0200, , net remove non polling mode virtio net,,
5307,a57e75ab9fc73d61dad6cd9f475836c36a7e379c,leb Natapov <gleb@cloudius-systems.com>, 2014-12-24 15:11:49 +0200, , reactor move timer use signal instead timerfd signal completion,,
5308,51b56d90f2c3dc47cfa26f1e6f2ec51ab53a5357,leb Natapov <gleb@cloudius-systems.com>, 2014-12-25 11:22:22 +0200, , reactor poll signal completion instead using signalfd,,
5309,3d374110c6292ca100afe00f51e642083a5126f2,leb Natapov <gleb@cloudius-systems.com>, 2014-12-24 12:56:27 +0200, , reactor poll aio completion instead using eventfd io_getevents avoids system call timeout zero completed event,,
5310,6d7916a9f8678bde8853b49fde8074024865461f,leb Natapov <gleb@cloudius-systems.com>, 2014-12-25 12:56:48 +0200, , reactor disable batching engine termination smp message send engine stopped sent immediately engine stopped,,
5311,efe6e4f5eb10316997a8604a3a29aa6b2d7f6474,vi Kivity <avi@cloudius-systems.com>, 2014-12-28 13:16:00 +0200, , sstring fix conversion std string nul byte sstring std string conversion c_str construct value conversion broken value contains nul sstring std string contain nuls string use terminator fix using size length std string constructor,,
5312,48019c2df26e4e99628963e5caacbf0f60bd3d73,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-12-27 15:26:31 -0200, , memcache fix cache item_footprint size sstring _ascii_prefix also added computing item footprint without change reclaimer would end evicting needed signed raphael carvalho raphaelsc cloudius systems.com,,
5313,466acedcb281bdaadac98d574835566a7ceeaa13,leb Natapov <gleb@cloudius-systems.com>, 2014-12-24 17:46:27 +0200, , timer cancel timer reactor destruction timer canceled try cancel destruction may happen engine already destroyed,,
5314,4d25571349e80ff91bbb9787a5671b7fc0e9ccd6,leb Natapov <gleb@cloudius-systems.com>, 2014-12-23 18:40:08 +0200, , net fix dhcp renewing current code forgets install dhcp packet filter renewing dhcp patch fix,,
5315,133d39131c74beee436da50bcca913579d9da4dd,vi Kivity <avi@cloudius-systems.com>, 2014-12-23 17:46:25 +0200, , net fix const correctness byte order function byte order function changed place conversion still accept non const input although modify make harder use case fix marking input const,,
5316,510171d083f8746d6b1949f038cdeba5bb31ea06,leb Natapov <gleb@cloudius-systems.com>, 2014-12-23 17:12:35 +0200, , net add function map packet hash cpu provide function map packet hash cpu handle function needed find appropriate src port outgoing tcp udp connection use function forward fragmented packet avoid one extra hop,,
5317,db50b480a3a2469013dec419db1d56d90a9ea2eb,lad Zolotarov <vladz@cloudius-systems.com>, 2014-12-22 20:31:19 +0200, , dpdk cosmetic fix printout add space checking link status prevent merging done link immediatelly instance going case already established link e.g aws signed vlad zolotarov vladz cloudius systems.com,,
5318,1a6474d6cc5267dce1b3b4d8a43fa086be4fe582,lad Zolotarov <vladz@cloudius-systems.com>, 2014-12-22 20:31:18 +0200, , dpdk added asserts check assumption regarding csum feature assume ipv4 tcp udp checksum offload feature suported supported supported together udp tcp checksum offload add assert check assumption signed vlad zolotarov vladz cloudius systems.com,,
5319,38781639ef9c3dabe8968bcb7a6a5ec297b48f85,lad Zolotarov <vladz@cloudius-systems.com>, 2014-12-22 20:31:17 +0200, , dpdk use availiable parser option limit ipv4 tcp udp even currently care signed vlad zolotarov vladz cloudius systems.com,,
5320,02dd7a3e24fe4c109b421bf30d94050db8c8111e,lad Zolotarov <vladz@cloudius-systems.com>, 2014-12-23 15:11:27 +0200, , packet change type std experimental optional signed vlad zolotarov vladz cloudius systems.com,,
5321,c9e0e7aff89fa3f9853b121bd16e79f721d245f3,lad Zolotarov <vladz@cloudius-systems.com>, 2014-12-23 15:10:45 +0200, , dpdk set mode enable seastar configured cpu even port single queue still want feature available order make calculate hash signed vlad zolotarov vladz cloudius systems.com,,
5322,15e432715ac1492681e921828cfc0d5164fe37a6,lad Zolotarov <vladz@cloudius-systems.com>, 2014-12-22 22:17:51 +0200, , dpdk use dpdk provided default configuration queue parameter dpdk 1.8 provides per device default queue configuration output use instead ixgbe tuned hardcoded value signed vlad zolotarov vladz cloudius systems.com,,
5323,51bb90a397cafdb6d452521ff51015d31d049e05,lad Zolotarov <vladz@cloudius-systems.com>, 2014-12-22 17:29:13 +0200, , dpdk print mac address hw_address method signed vlad zolotarov vladz cloudius systems.com,,
5324,2b4f9f69f8fbe3e5ea98ec4265bc40eda456bc17,lad Zolotarov <vladz@cloudius-systems.com>, 2014-12-22 17:29:12 +0200, , dpdk make port initialization stage pronounced rename init_port init_port_start added function init_port_fini code originally found flat  moved link state check init_port_fini since link state checked port started signed vlad zolotarov vladz cloudius systems.com,,
5325,59403f0774cdce1b9ad458b3d6a5fdba2e326af3,lad Zolotarov <vladz@cloudius-systems.com>, 2014-12-22 17:29:11 +0200, , dpdk first version support 1.7.x 1.8.x current git master dpdk version signed vlad zolotarov vladz cloudius systems.com,,
5326,11c54bd1d5046397dec0cfe96983811348002508,lad Zolotarov <vladz@cloudius-systems.com>, 2014-12-22 17:29:10 +0200, , dpdk change default behavior dpdk pmd set make dpdk pmd parameter flag instead key value default default hugetlbfs dpdk setting hugepages given dpdk pmd set allow friendly user experience general one want provide hugepages parameter particular signed vlad zolotarov vladz cloudius systems.com,,
5327,ddf239a94307f654d4ca9c17db7cc1cf58d780c3,lad Zolotarov <vladz@cloudius-systems.com>, 2014-12-22 17:29:09 +0200, , dpdk move scattered dpdk eal initialization dpdk eal move smp dpdk_eal_init code dpdk eal init belongs removed unused opts parameter dpdk dpdk_device constructor usage moved dpdk eal init cleanup reactor.cc have_dpdk ifdef have_dpdk since give dhave_dpdk option compiler signed vlad zolotarov vladz cloudius systems.com,,
5328,7ec062e2226084d873dc0ff1ab525db44d9e3de1,lad Zolotarov <vladz@cloudius-systems.com>, 2014-12-22 17:29:08 +0200, , dpdk move dpdk_eal class separate file make method static rename dpdk dpdk_eal dpdk eal signed vlad zolotarov vladz cloudius systems.com,,
5329,b958a443044c7182cc5a92ea49d78bdaa337ea7e,leb Natapov <gleb@cloudius-systems.com>, 2014-12-18 14:36:09 +0200, , smp create seastar thread using dpdk compiled dpdk support dpdk initialization creates thread assumes application otherwise thing work correctly rte_lcore_id return incorrect value instance patch dpdk thread run seastar main loop making dpdk apis work expected,,
5330,10079c758a3738e22c3605a009aceab58059b5a7,vi Kivity <avi@cloudius-systems.com>, 2014-12-18 10:57:26 +0200, , merge branch poller race fix corruption function called poller context usually smp request try install poller,,
5331,c09694d76c73c0575b0ce320f73cadca17a28190,vi Kivity <avi@cloudius-systems.com>, 2014-12-17 16:56:20 +0200, , reactor fix corruption _pollers register_poller adjusts _pollers may called iterating since std vector mutation invalidate iterators corruption occurs fix deferring manipulation _pollers task executed time _pollers touched,,
5332,481080feb895a228dc157f84a69711d19f84858e,vi Kivity <avi@cloudius-systems.com>, 2014-12-17 16:20:52 +0200, , reactor refactor reactor poller currently reactor _pollers hold reactor poller pointer since movable type hard maintain _pollers pointer keep changing refactor poller _pollers point internal type doe move reactor poller move requires getting rid std function since lack comparison operator,,
5333,16f4b7dec7a258f98faf0120dc4fa6a9225b6a62,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-12-16 14:45:41 +0100, , test make immune value order,,
5334,a0daeae8651c178db0a55646ff0bbd4b9670f696,vi Kivity <avi@cloudius-systems.com>, 2014-12-16 11:01:12 +0200, , sstring optimize release switching malloc free use doe require extra memory,,
5335,ebf89ac56066d4ae907e91d093bf405744403b0f,vi Kivity <avi@cloudius-systems.com>, 2014-12-16 11:02:19 +0200, , virtio use,,
5336,692ee47456091819973e253a1e97f16df595f6c1,vi Kivity <avi@cloudius-systems.com>, 2014-12-16 10:58:42 +0200, , deleter introduce object acting resource guard memory convert deleter using make_deleter obj std move obj introduce simpler interface std move obj thing,,
5337,3e4c53300d9e403bec3fb469e419a614e25b0eb4,vi Kivity <avi@cloudius-systems.com>, 2014-12-16 11:11:22 +0200, , merge branch ssh github.com cloudius system seastar dev multiqueue support cpu gleb,,
5338,c8189157ed49ba91148e64f304641f24e6365e14,leb Natapov <gleb@cloudius-systems.com>, 2014-12-15 12:31:11 +0200, , net use hash key calculated available capable provides hash used select queue packet delivered hash available better use forward packet instead calculating hash ourself suffering cache missed,,
5339,d796487976240b6565f0dabebad3a1b14efb3430,leb Natapov <gleb@cloudius-systems.com>, 2014-12-11 11:14:19 +0200, , net use key instead letting dpdk select one,,
5340,d8ddaeb1047afe9152e5bd0c575ddf98a17a4d7e,leb Natapov <gleb@cloudius-systems.com>, 2014-12-11 11:06:26 +0200, , net forward reassembled packet correct queue figure cpu handle reassembled tcp packet redirection table consulted,,
5341,64adef7deff2f8acc469243091ca334ee0567b75,leb Natapov <gleb@cloudius-systems.com>, 2014-12-11 10:48:33 +0200, , net copy redirection table device need later patch,,
5342,fbef83beb023e8c89d71ce4d3a542798ac0b2586,leb Natapov <gleb@cloudius-systems.com>, 2014-12-10 10:47:34 +0200, , net support num cpu num queue patch introduce logic divide cpu available queue pair cpu get set cpu distribute traffic algorithm take topology consideration account yet,,
5343,7ac3ba901c688875b5edf7721f9f7e4ef55e2725,leb Natapov <gleb@cloudius-systems.com>, 2014-12-14 17:15:39 +0200, , net rework packet forwarding logic instead forward deciding packet destination make collect input hash function depending packet type data collected use toeplitz hash function calculate packet destination,,
5344,dd2f73401fa93a9866fa9c623be31810c9cade09,leb Natapov <gleb@cloudius-systems.com>, 2014-12-10 16:16:14 +0200, , net add toeplitz hash function,,
5345,bd9b0b896217a6e4a8e1fb00b8bca9bc9cef61e7,leb Natapov <gleb@cloudius-systems.com>, 2014-12-14 15:36:05 +0200, , net remove broadcast logic forwarding path longer used,,
5346,055fbb94305e4c008daa67ac1666033cd376f126,leb Natapov <gleb@cloudius-systems.com>, 2014-12-14 15:27:59 +0200, , net broadcast arp reply arp protocol level instead returning special value forward broadcast arm reply call arp.learn cpu arp protocol lever ability forward return special value removed later patch,,
5347,c13adb9c1232d60ca7f5054c7091bee533c20972,leb Natapov <gleb@cloudius-systems.com>, 2014-12-11 15:32:11 +0200, , net rework dhcp handle dhcp packet currently dhcp assumes cpu get packet redistributes multiqueue necessary case current trick disable forwarding installing special dhcp forward function work rework installing packet filter cpu running dhcp forward dhcp packet cpu,,
5348,ad29ccd3df6a8507689af7919673ecd9154b9b98,leb Natapov <gleb@cloudius-systems.com>, 2014-12-14 12:30:44 +0200, , net start dhcp stack created cpu,,
5349,e83361010b507649f873065a6d797dbcd3c4a4e3,vi Kivity <avi@cloudius-systems.com>, 2014-12-15 13:26:54 +0200, , merge branch asia lowres_clock github.com cloudius system seastar dev asia add low resolution clock source addition std chrono provides reduce expensive std chrono call,,
5350,c9553b7825355ada3060a7d3daa117f657437a36,sias He <asias@cloudius-systems.com>, 2014-12-15 18:22:00 +0800, , tcp switch user lowres_clock,,
5351,0790266be0d79b9ae67d1395c57b73da79420ea0,sias He <asias@cloudius-systems.com>, 2014-12-15 18:21:31 +0800, , switch use lowres_clock,,
5352,42c4085f29af549f0380c4ca7486dfc6969aa098,sias He <asias@cloudius-systems.com>, 2014-12-15 17:59:22 +0800, , timer introduce lowres_clock,,
5353,1d48610f1b151454ae47c8a61821434aed89abee,sias He <asias@cloudius-systems.com>, 2014-12-15 10:03:17 +0800, , test improve timertest test high low clock timer,,
5354,f1e46791f5d45225727748b0d8e384ad4c879d09,sias He <asias@cloudius-systems.com>, 2014-12-15 10:02:58 +0800, , timer drop unused ulong_bits,,
5355,db0124ef057d3e1ef499c47e7f58e939eb6624df,sias He <asias@cloudius-systems.com>, 2014-12-11 10:53:03 +0800, , timer add timer_set,,
5356,0242d402b75be4c8a29f180d76f67032c9ddc57f,sias He <asias@cloudius-systems.com>, 2014-12-11 10:42:45 +0800, , timer drop clock template parameter time_set,,
5357,62fff15e544bad4f4c166f9016ef864492aae1d5,sias He <asias@cloudius-systems.com>, 2014-12-11 10:28:16 +0800, , timer make timer template,,
5358,a3f08c32dea04d9aa18294a95927d365340fac08,vi Kivity <avi@cloudius-systems.com>, 2014-12-15 11:41:44 +0200, , virtio rename misleading _deleters field set buffer albeit maintained unique_ptrs destructors deleter type,,
5359,38b1398750e9ec870f966f76812a5bda85b40726,vi Kivity <avi@cloudius-systems.com>, 2014-12-15 11:39:00 +0200, , virtio remove outdated todo single fragment packet already special case single fragment packet receive path,,
5360,c56dcaf17a13e3b2240bf0f290578090d21b2853,vi Kivity <avi@cloudius-systems.com>, 2014-12-14 18:58:44 +0200, , smp fix cross cpu access poll mode look _poll mode another cpu cache accidentally pard peer idle call fix looking _poll variable first,,
5361,52be2f2bf4331fe7ca2407cc79e8666c7a05af26,vi Kivity <avi@cloudius-systems.com>, 2014-12-15 11:29:35 +0200, , merge branch virtio future great complicated asynchronous operation synchronous operation like destroying packet transmit converting buffer packet receive overkill patchset fix two case virtio future used abstraction layer vring transmit receive queue converting vring template completion function adjusted transmit receive case compile time instead run time improvement httpd smp smp,,
5362,508322c7dac9ff8df56c4dcdc2f5729997e7110c,vi Kivity <avi@cloudius-systems.com>, 2014-12-14 12:34:04 +0200, , virtio futurize receive move completion handling destroy packet adjust descriptor count completion function rather future reduces allocation task executed,,
5363,1ee959d3e27e959498a4bb88d80ef59768050a78,vi Kivity <avi@cloudius-systems.com>, 2014-12-14 12:34:04 +0200, , virtio futurize transmit move completion handling destroy packet adjust descriptor count completion function rather future reduces allocation task executed,,
5364,c7c0aebf07bffa5a4772f1b51cf750d86c243ffe,vi Kivity <avi@cloudius-systems.com>, 2014-12-14 12:24:58 +0200, , virtio abstract vring request completion currently vring request completion handled fulfilling promise contained request promise flexible come cost allocating executing task flexibility unneeded request handling regular virtio net completion handling make vring flexible allowing completion function specified template parameter change actual user specify completion function fulfilling promise vring previously ,,
5365,a86faf020947033933e7e17781b198e81384748b,vi Kivity <avi@cloudius-systems.com>, 2014-12-14 11:55:11 +0200, , virtio virtualize virt_to_phys device property system property,,
5366,f3d2908757d5e2d3c5006a1d76da58fb283369d1,vi Kivity <avi@cloudius-systems.com>, 2014-12-14 10:49:42 +0200, , virtio move buffer config vring class prior templating best get common element,,
5367,fcbcc19231b65794267bdb72c1e0445516bed1b6,vi Kivity <avi@cloudius-systems.com>, 2014-12-14 10:44:10 +0200, , virtio remove buffer_chain class concept instantiated user true class,,
5368,5c4ae7a7269aa8b6165ef88052c8002235871428,vi Kivity <avi@cloudius-systems.com>, 2014-12-14 10:42:06 +0200, , virtio minor code movement,,
5369,d14da53171bb6c3d2966c1241c3cd24e08f0427a,vi Kivity <avi@cloudius-systems.com>, 2014-12-14 10:41:08 +0200, , virtio move namespace virtio,,
5370,4ab36be8c978776869531d7640aea8eb8ae57dbf,vi Kivity <avi@cloudius-systems.com>, 2014-12-14 15:58:56 +0200, , reactor fix pointless allocation expects std function pas lambda forcing allocate prepare sdt function advance pas reference,,
5371,ea2cfbbcd8ee20ce5ec4b6eccd435d87e23d1c41,vi Kivity <avi@cloudius-systems.com>, 2014-12-14 10:28:48 +0200, , virtio fix indentation,,
5372,535b447343374b91ee1bc753e590fde99be6c29a,vi Kivity <avi@cloudius-systems.com>, 2014-12-14 10:00:43 +0200, , circular_buffer get rid pre post _push_ front back nadav suggests simplified circular_buffer implementation longer provide value obfuscate code,,
5373,94a1cdd6e4b5bbf4ff21e6c4867ede30e043a630,vi Kivity <avi@cloudius-systems.com>, 2014-12-13 18:45:47 +0200, , merge branch circular_buffer circular_buffer simplification enhancement,,
5374,209e0958d2b95d43b43eacc53deffdb723f7003d,vi Kivity <avi@cloudius-systems.com>, 2014-12-13 18:44:45 +0200, , merge branch nettx virtio smp batching,,
5375,9de1b1072409a0328c18d30a9d39344085fa1fa5,vi Kivity <avi@cloudius-systems.com>, 2014-12-11 22:20:50 +0200, , circular_buffer add unsafe array access method allowing access past end prefetch ahead queue without checking current queue size,,
5376,ec0fb398fb25b2f947444d8fdab542e0b8215695,vi Kivity <avi@cloudius-systems.com>, 2014-12-11 21:59:10 +0200, , circular_buffer optimize using masking instead test since control capacity force power two use masking instead test handle wraparound side benefit allocate extra element,,
5377,aaf98840642fac6bdb59dcc444829bf2d7ae81be,vi Kivity <avi@cloudius-systems.com>, 2014-12-11 21:54:21 +0200, , circular_buffer fix pop_front pop_back method destroy object popping probably seen leak since usually move item popping,,
5378,746dfae3552eed243bba935b7b260f150373b13c,vi Kivity <avi@cloudius-systems.com>, 2014-12-11 21:32:56 +0200, , circular_buffer add array dereference operator useful prefetching,,
5379,8a5a8192e4ec7e206a565ab5502d502820ed6f69,vi Kivity <avi@cloudius-systems.com>, 2014-12-11 19:25:06 +0200, , merge branch hugepages seastar allow backing seastar memory hugetlbfs file reviewed nadav har nyh cloudius systems.com,,
5380,d11803d1b998f2a4e90f0cd263baede0d637e528,vi Kivity <avi@cloudius-systems.com>, 2014-12-11 15:05:05 +0200, , smp batch request processing currently using boost lockfree consume_all consume smp request two problem consume_all call consume_one internally mean access ring index per message interleave calling request function accessing ring allows side access ring bouncing ring cache line fix copying available item one show using pop array processing afterwards,,
5381,5855f0c82aa7d0f0b93fe22a07e5104359e1dc5f,vi Kivity <avi@cloudius-systems.com>, 2014-12-11 15:05:05 +0200, , smp batch completion processing currently using boost lockfree consume_all consume smp completion two problem consume_all call consume_one internally mean access ring index per message interleave calling request function accessing ring allows side access ring bouncing ring cache line fix copying available item one show using pop array processing afterwards,,
5382,04488eebea6542b1080ecd02b7a405c232964864,vi Kivity <avi@cloudius-systems.com>, 2014-12-07 12:26:08 +0200, , smp batch message across smp request response queue instead incurring overhead pushing message queue two cache line miss amortize message cache line miss per batch batch size limited poll frequency adjust dynamically,,
5383,2717ac3c373bd32aa0822f448a010ac94ca36e0f,vi Kivity <avi@cloudius-systems.com>, 2014-12-07 11:24:58 +0200, , smp improve _pending_fifo flushing instead flushing pending item one one flush amortizing write index,,
5384,b6485bcb7c8440f09884caf0d235bf965af1e6d0,vi Kivity <avi@cloudius-systems.com>, 2014-12-07 13:52:59 +0200, , smp initialize _pending_fifo sending cpu need resized cause deallocation wrong cpu initialize sending cpu doe break circular_buffer going circular_buffer long,,
5385,503f1bf4d049cfb5b5a8b9cae8a1200f0d5b5cc7,vi Kivity <avi@cloudius-systems.com>, 2014-12-11 19:19:09 +0200, , virtio batch transmitted packet instead placing packet directly virtio ring add temporary queue flush polled reduces cross cpu writes kick,,
5386,97dff834615364b430a9aa4eb3ce7c2652a5829e,vi Kivity <avi@cloudius-systems.com>, 2014-12-04 12:00:28 +0200, , virtio try complete posting buffer poll mode poll soon anyway completing soon simply reduces batching,,
5387,4e653081a4b127e4aba6eaf1eea0572efd523559,vi Kivity <avi@cloudius-systems.com>, 2014-12-04 11:51:24 +0200, , virtio poll mode support new virtio poll mode poll queue instead waiting interrupt increase httpd throughput,,
5388,0a12cb6d656cfb3babfde2bfebaa47cb6e9973fe,ekka Enberg <penberg@cloudius-systems.com>, 2014-12-11 14:14:30 +0200, , readme add libpciaccess devel package pre requisite needed fedora build seastar signed pekka enberg penberg cloudius systems.com,,
5389,da53dcff807d7eede528a6fc4b658ce9d246d91d,leb Natapov <gleb@cloudius-systems.com>, 2014-12-11 12:58:26 +0200, , net simplify calculation number queue,,
5390,649210b5b607dc0a37bfdf439298ea570e96842f,leb Natapov <gleb@cloudius-systems.com>, 2014-12-11 12:58:25 +0200, , net rename net net device,,
5391,0e70ba69cff19369d767441ffc4143b2226cee3d,leb Natapov <gleb@cloudius-systems.com>, 2014-12-11 12:58:24 +0200, , net rename net device net,,
5392,8ff89f7f01f3967c968500fc5bc54f217b4cee2a,leb Natapov <gleb@cloudius-systems.com>, 2014-12-11 12:58:23 +0200, , net remove unused struct,,
5393,db88632456cfb8dacc5f7bbfb70ad039bf424573,vi Kivity <avi@cloudius-systems.com>, 2014-12-10 20:03:28 +0200, , reactor wire hugetlbfs support,,
5394,4453fd1d6a717fbec137bc065899714c3d866f7e,vi Kivity <avi@cloudius-systems.com>, 2014-12-10 20:01:10 +0200, , memory add support allocating memory via hugetlbfs little tricky since know want hugetlbfs memory initialized start anonymous memory later switch hugetlbfs copying hugetlb backed memory mremap ing back place,,
5395,ca2c7d87678698f279baba466aa76cd5c18f29ed,vi Kivity <avi@cloudius-systems.com>, 2014-12-10 18:20:51 +0200, , memory abstract mmap call support hugepages need different mmap call abstract ,,
5396,0043c1a994a5711bf8df3e8b524eb14872f252b2,vi Kivity <avi@cloudius-systems.com>, 2014-12-10 17:50:14 +0200, , memory drop duplicate madvise call,,
5397,38443e2c4c69858bc083d50538d350ac0c5709c6,vi Kivity <avi@cloudius-systems.com>, 2014-12-11 10:58:39 +0200, , posix change file_desc mmap api return mmap_area mmap_area munmap destroyed reclaiming memory,,
5398,158c61063bf1793c405bcf3483d3795b1a5ad374,vi Kivity <avi@cloudius-systems.com>, 2014-12-11 10:49:58 +0200, , posix allow providing hint addr parameter mmap,,
5399,fe8785fb6a9bb2c018636b75bc099569df258cee,vi Kivity <avi@cloudius-systems.com>, 2014-12-11 10:48:33 +0200, , posix allow specifiying mmap flag change shared flag parameter specify flag map_private map_shared,,
5400,ee339bb6ea7d3fc0a260d6f4267e5b4419e3ae91,vi Kivity <avi@cloudius-systems.com>, 2014-12-11 10:46:25 +0200, , posix fix file_desc map flag parameter name actually protection flag change align syscall avoid confusion,,
5401,2e0035dac827b2552263d777276eca08922b4b94,vi Kivity <avi@cloudius-systems.com>, 2014-12-11 10:43:44 +0200, , posix fix file_desc map error checking mmap return map_failed error nullptr,,
5402,c95927f2231a32dd2e218a4ac6e6369cd0884b3c,vi Kivity <avi@cloudius-systems.com>, 2014-12-11 12:21:32 +0200, , posix add file_desc size,,
5403,160907bf051bfce5295418f97517fc1b48ae9e21,vi Kivity <avi@cloudius-systems.com>, 2014-12-10 20:03:05 +0200, , posix add support ftruncate,,
5404,91dc788a334a6820315cc99d16a9b8e697e1504a,vi Kivity <avi@cloudius-systems.com>, 2014-12-10 18:19:43 +0200, , posix add support creating temporary file,,
5405,3d874892a79248887407029e277b56940f301707,adav Har'El <nyh@cloudius-systems.com>, 2014-12-10 17:58:00 +0200, , dpdk enable transmit side checksumming offload patch nic capability calculate hardware tcp udp checksum outgoing packet instead sending cpu save quite bit calculation especially tcp udp checksum full sized packet avoid cache polution cpu sending cold data setup patch improves performance single cpu memcached together recent patch receive side checksum offloading total improvement patch somewhat complicated fact many different combination checksum offloading capability virtio offload layer checksumming tcp udp dpdk let offload layer checksum moreover packet tcp udp e.g. icmp packet even e.g. arp patch modifies hardware feature flag per packet offload information flag fit new need signed nadav har nyh cloudius systems.com,,
5406,53f95abd96eaa5297680228e51cd03b02cfd3855,sias He <asias@cloudius-systems.com>, 2014-12-10 16:42:46 +0800, , virtio fix feature setup fix big tcp_server regression  rxrx server 192.168.66.123 10000 connection 100 byte sent mib 10000 total time sec 85.074086675 big regression bandwidth mib sec  rxrx server 192.168.66.123 10000 connection 100 byte sent mib 10000 total time sec 9.905637754 bandwidth mib sec,,
5407,fa5c61d4e4d012476bcff0836f8b2db889bd0165,vi Kivity <avi@cloudius-systems.com>, 2014-12-10 10:33:29 +0200, , fix wrong oom check malloc allowed return nullptr throw exception case,,
5408,9aadcb771837ecf881c9f03bb1a443cfac9f53bb,vi Kivity <avi@cloudius-systems.com>, 2014-12-10 09:53:59 +0200, , merge branch deleter fix memory leak packet bug deleter class make likely,,
5409,441331f158a5b5530286226161cca576a4d715a8,vi Kivity <avi@cloudius-systems.com>, 2014-12-09 11:29:32 +0200, , fix missing exception since switched malloc longer throw exception running memory lead segfault referencing null buffer,,
5410,9ae2075d54ddeda445ed67fcd66a532e62964c61,vi Kivity <avi@cloudius-systems.com>, 2014-12-09 20:37:44 +0200, , deleter remove bad unused interface,,
5411,b87a76412cf34fe93eca096700d7977f244ffbee,vi Kivity <avi@cloudius-systems.com>, 2014-12-09 20:33:42 +0200, , packet avoid hand rolled deleter chaining use deleter append instead hand rolled deleter chaining packet append invalidated optimization since deleter _next longer guaranteed valid deleter operator still exposed despite  switch deleter append doe right thing fix memory leak tcp_server,,
5412,7708627144f5bb8c6524be96e7854039a6502e86,vi Kivity <avi@cloudius-systems.com>, 2014-12-09 20:30:41 +0200, , deleter improve null input nullptr function correctly deleter operator bool result fix checking null avoiding free deleter optimization case help anyway,,
5413,15dd8ed1bba4a51694191c248538ff2b333bfeaa,vi Kivity <avi@cloudius-systems.com>, 2014-12-09 20:24:35 +0200, , deleter mark final class prevent accidental inheritance,,
5414,8bb82512a1072716889987a2ef7813738015796c,leb Natapov <gleb@cloudius-systems.com>, 2014-12-09 12:19:22 +0200, , net enable udp tcp,,
5415,73f6d943e12d4e7f9146a038e742289f760eef79,leb Natapov <gleb@cloudius-systems.com>, 2014-12-09 12:19:21 +0200, , net separate device initialization queue initialization patch add new class responsible initializing device shared cpu old device class responsibility becomes managing queue pair local per cpu cpu call create device logic distribute cpu available queue case enough queue cpu currently really implemented yet one queue queue cpu scenario supported currently fixed later plan rename device device queue_pair later patch,,
5416,2fb3dc03f6eab12aeff1739345f87d4a1573b252,leb Natapov <gleb@cloudius-systems.com>, 2014-12-09 12:19:20 +0200, , net remove unused opts parameter constructor,,
5417,34a8744fd37ffa8561d9071a5a42a82d3db26aca,leb Natapov <gleb@cloudius-systems.com>, 2014-12-09 12:19:19 +0200, , smp wait cpu signaling start promise start promise initial cpu signaled cpu networking stack constructed collected initialization crash since try create udp socket available cpu initial one ready,,
5418,7dfd7de8cda6650ecdbb2be0c47922ae231feed6,vi Kivity <avi@cloudius-systems.com>, 2014-12-09 01:39:45 +0200, , future optimize data future future doe carry data future sibling promise heavily used code optimize overlaying future payload case std exception_ptr future state pointer enum disjoint value course depends std exception_ptr implemented pointer happens sizeof future reduced byte byte,,
5419,20acb6db9c9775580f0962dc7d41e6bd4f66e581,sias He <asias@cloudius-systems.com>, 2014-12-09 14:48:52 +0800, , xen fix mismatched signature found clang cxx build release core xen evtchn.o failed clang mmd build release core xen evtchn.o build release core xen evtchn.o.d std gnu wall werror fvisibility hidden pthread wno mismatched tag dhave_xen dhave_hwloc dhave_numa build release gen build release core xen evtchn.o core xen evtchn.cc core xen evtchn.cc error xen umask hide overloaded virtual function werror woverloaded virtual virtual void umask int port unsigned count  core xen evtchn.hh note hidden overloaded virtual function xen evtchn umask declared type mismatch 2nd parameter int unsigned int virtual void umask int port int count  error generated,,
5420,9a9297c89d70b2a5983f459260372630bb7dc670,sias He <asias@cloudius-systems.com>, 2014-12-09 14:47:45 +0800, , implement fragment timeout memory usage limit,,
5421,89c8c6148ff3a95a5b93cc1f8a1874a9b0e3fcf1,sias He <asias@cloudius-systems.com>, 2014-12-09 14:47:44 +0800, , net add packet memory add packet memory estimate memory load adding sizeof packet impl note accurate linearize compact,,
5422,c03e356873d23bef1265f42ddb9d40f956555828,sias He <asias@cloudius-systems.com>, 2014-12-09 14:47:43 +0800, , net improve packet linearize free original memory earlier copied,,
5423,3f2ea82e6ddce0032f781a667c3402a1b2c223ed,adav Har'El <nyh@cloudius-systems.com>, 2014-12-08 20:36:05 +0200, , dpdk checksum offloading card support usually doe enable checksum offloading card avoid calculating checksum checksum offloading card check incoming packet header checksum tcp udp checksum give flag one wrong meaning need calculation patch improves memcached performance setup almost signed nadav har nyh cloudius systems.com,,
5424,2f5644db1b027ef5bb3880576b9529ffcdaa4421,hlomi Livne <shlomi@cloudius-systems.com>, 2014-12-08 15:52:28 +0200, , update readme additional instruction running dpdk,,
5425,30143fe18dae785d04681c2e5ab0090bd1204185,vi Kivity <avi@cloudius-systems.com>, 2014-12-07 10:49:33 +0200, , reactor destroy network_stack timer infrastructure network stack contains timer must constructed timer infrastructure destroyed fix segfault shutdown,,
5426,674076c7bd8c5109717d203a6fd388a552ae76de,vi Kivity <avi@cloudius-systems.com>, 2014-12-07 10:01:31 +0200, , smp fix indentation,,
5427,f4d7bd7e00756a83fd8ae06a772186d244127214,vi Kivity <avi@cloudius-systems.com>, 2014-12-04 11:08:17 +0200, , reactor register pollers using raii class avoids leaking poller,,
5428,5b7ebc0f6f5e3378f3f385103e8575c899c64378,vi Kivity <avi@cloudius-systems.com>, 2014-12-04 11:06:54 +0200, , build disable string literal warning building dpdk,,
5429,5bc89b974a7f2e3bff28ebe96a3aa6803482e0bf,lad Zolotarov <vladz@cloudius-systems.com>, 2014-12-04 17:15:14 +0200, , dpdk first proper offload feature initialization query port cap properly adjust queue number according cap enable final queue number greater enable vlan stripping signed vlad zolotarov vladz cloudius systems.com,,
5430,5cc8785b967e1c23d600e2d0546f03433e6cdd54,lad Zolotarov <vladz@cloudius-systems.com>, 2014-12-04 17:15:13 +0200, , packet added vlan stipping option signed vlad zolotarov vladz cloudius systems.com,,
5431,2d100188708d32d064c6339d123a84d485b3f3f3,lad Zolotarov <vladz@cloudius-systems.com>, 2014-12-04 17:15:12 +0200, , dpdk separate eal initialization port initialization create new class dpdk_eal initializes dpdk eal get rid portmask crap provide port index dpdk net_device constructor signed vlad zolotarov vladz cloudius systems.com,,
5432,4ade76a182c859147558970fcfff1f9158caa295,leb Natapov <gleb@cloudius-systems.com>, 2014-12-07 16:34:18 +0200, , reactor add missing std forward at_exit,,
5433,a2016bc1dd6aef4ba2e2ca44af4f997a864934cc,vi Kivity <avi@cloudius-systems.com>, 2014-12-07 11:59:23 +0200, , fix smp fragment reassembly ipv4 handle_on_cpu properly convert network byte order saw packet fragmented fix applying proper conversion,,
5434,2ee0239a4a6d874ce1064810cd58cad80d43449c,vi Kivity <avi@cloudius-systems.com>, 2014-12-04 16:31:04 +0200, , merge branch tgrabiec zero copy github.com cloudius system seastar dev zero copy memcached get tomasz measured memcached muninn huginn 7.5 better vhost stack,,
5435,8bfca6f74079ed864133fd56405f19be8c3628fc,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-26 17:08:15 +0100, , memcached convert get use zero copy send,,
5436,e831884c138b77cf5510e3f1546d957966168da1,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-30 16:30:57 +0100, , test add zero copy udp test listens request port 10000 sends response comprised three chunk data one packet chunk size specified via chunk size argument reqest anything content ignored switch equivalent copying version passing copy argument,,
5437,c4335c49f689f823da0708cd46fd5688a38fb4fd,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-27 20:33:30 +0100, , core convert output apis work packet way zero copy supporting code put data directly packet object pas layer efficiently,,
5438,ba0ac1c2b88edc9ad74c51f281b6fc08be30d94a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-28 13:20:39 +0100, , core simplify write_all case write_all doe write data fiber fails point case resulting future failed,,
5439,cd3ba33ead68fbb5c63ba9d4c623090feb192793,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-27 20:36:02 +0100, , core introduce builder class creating message comprised multiple fragment,,
5440,a2ca5568369c2f782477de890b468b0650ac2a33,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-28 11:09:20 +0100, , sstring introduce release release owenrship data give away way avoid allocation putting rvalue sstring already using external storage except need allocate deleter delete fixed later,,
5441,72b079475923d6d1178f1cc0b944d7d78af71692,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-28 13:23:52 +0100, , packet add constructor appending,,
5442,3a2d74e3d330843377532911f5974784f59a8744,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-26 17:12:44 +0100, , packet add reserve method,,
5443,f3dada6f1dc3956220db8812ccfe9fff9268e1e9,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-26 17:06:30 +0100, , packet add constructor appending deleters deleters always come fragment multiple fragment share deleter first fragment appended one deleter ,,
5444,8ffcdac455f7b8b5da332edbe044d7c468b48738,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-27 20:35:31 +0100, , packet move lambda rather copy lambda copyable,,
5445,2650c68824846706638d099fad521ddef4e4dd88,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-28 11:08:34 +0100, , packet add constructor variant,,
5446,e720f53c2242345315019e14fcf77cd289783010,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-30 16:59:27 +0100, , deleter add chaining overload,,
5447,8e38cb4159f9ac21cb22e84a93eb852695db97b5,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-30 16:58:07 +0100, , deleter introduce append help chaining deleters appending fragment anq already created deleter,,
5448,7fd878b1edc8a76ed8b3016f54735b8235b04b7d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-28 13:17:47 +0100, , test memcached fix value may reported different order order key request,,
5449,411e6c1b0211c841c41137243ca258f27d924d14,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-27 10:28:14 +0100, , test memcached add test checking splitting large response,,
5450,b6cb2b7477391e37537645cf98e09ed0497573c8,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-12-03 15:50:22 +0100, , memcached add missing return,,
5451,e4583699fd54efa86ffe36a398a2da99748972f2,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-26 17:36:46 +0100, , memcached make sure datagrams size limit,,
5452,71556de0e6d68adc1c65c9390e7e57c6ecbd807a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-26 16:50:10 +0100, , test add test case,,
5453,11a501d88499392818e42558fb9ba2cbeb1e104c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-12-04 13:32:35 +0100, , test fix assertion failure test program exit seastar allocator assertion check memory block freed cpu allocated reasonable allocation seastar need cpu local problem boost library program_options make heavy use lazily allocated static variable instance const variable_value variables_map get const std string name const  static variable_value empty ...  variable allocated current thread freed main thread exit handler executed result core memory.cc 415 void memory cpu_pages free void assertion uintptr_t ptr cpu_id_shift 0xff cpu_id failed change work around problem forcing initialization main thread see issue,,
5454,a88ddcec25598dc782305463875b41bfc5ba5dac,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-12-04 13:30:18 +0100, , sstring overload to_sstring,,
5455,bcea3a67cadf89b74d26fd3b281fbc896b6ffaa5,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-26 14:06:20 +0100, , output_stream support output packet trimming udp memcached generate arbitrarily large chunk need trim datagram size efficient split output_stream,,
5456,4b7c42a5c74c8ddba6a99aa69525a14eb649e485,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-26 14:03:46 +0100, , output_stream fix bug write coalescing large buffer buffered data _end updated flush would yield shorter packet,,
5457,6ae5177c2ce10ecf97e95ddf3f4cabd6c1800f3f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-21 14:05:23 +0100, , output_stream allocate flush udp memcached flush always last operation outpout_stream allocation wasted,,
5458,584139decdfaabbf12149607cacb1f2fca6b12ae,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-26 17:03:01 +0100, , future util make do_for_each propagate failure,,
5459,8d48c91a35b681ba8a201ca11767e6c28ab9b8fc,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-26 14:09:32 +0100, , future util introduce function belongs group function associating future time point currently server shorthand ,,
5460,3e4842a2a1413250e1b3747e883aa5c15c59b147,vi Kivity <avi@cloudius-systems.com>, 2014-12-03 16:03:18 +0200, , merge branch asia github.com cloudius system seastar dev fragment reassembly asia,,
5461,59aa280f0d0e60eeaba31446f7f0afdf4986ac31,sias He <asias@cloudius-systems.com>, 2014-12-03 16:12:27 +0800, , add ipv4 reassembly support tcp udp datagram fragmented first fragment contain port information fragment without port information received idea stream fragment belongs thus idea forward packet solve problem use forward twice method datagram need fragmentation received forward using frag_id src_ip dst_ip identification protocol hash fragment received forward using connection_id src_ip src_port dst_ip dst_port hash,,
5462,4fd3313e3e1b8a16bfff0206e50fe06f68ea659d,leb Natapov <gleb@cloudius-systems.com>, 2014-12-03 13:43:51 +0200, , reactor add poll command line switch switch used reactor never idle,,
5463,d15176396706a3d26b384fd52ae8da3a9385120e,leb Natapov <gleb@cloudius-systems.com>, 2014-12-03 13:43:50 +0200, , reactor move memory barrier idle accessors,,
5464,4d3b6497ea6352c3fcb727999e975bfb83776126,leb Natapov <gleb@cloudius-systems.com>, 2014-12-03 13:43:49 +0200, , reactor rework poll infrastructure move idle state management smp poller back generic code poller return useful work generic code decided idle based poller requires constant polling always return true,,
5465,f556172619d693ec4012b54ac485d5b4c4d058c4,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-14 18:58:17 +0100, , make empty buffer need malloc,,
5466,1c49669f599df58ef01f9129b2362d8d1c113b61,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-26 15:55:45 +0100, , introduce operator bool used test emptiness convention allows thing like buf empty ,,
5467,cbe6169d362cf969bcc9b79fbf4bdc3d4635bfc1,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-20 12:20:30 +0100, , test.py speed allocator test running test fast mode,,
5468,76a8908b21ef9099ca68e5b2d92a0d0faa0d4586,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-14 18:59:10 +0100, , virtio fix indentation,,
5469,2702af5e7d364ae7ea7b984f23a7e7257710d133,sias He <asias@cloudius-systems.com>, 2014-12-03 16:07:11 +0800, , net add help packet_merger used tcp order fragmentation merging,,
5470,8335787268c73cc2d32140b15f82a3476c58d271,sias He <asias@cloudius-systems.com>, 2014-12-03 16:05:58 +0800, , net expose interface forward used ipv4 fragmentation,,
5471,7ca33fdd72f02955986a929202c2b905cb8e8793,sias He <asias@cloudius-systems.com>, 2014-12-03 16:04:43 +0800, , add helper fragmentation,,
5472,7dbc333da64e62401db8fb5473ebfdc0c5519a58,leb Natapov <gleb@cloudius-systems.com>, 2014-12-02 15:57:13 +0200, , core allow forwarding cpu,,
5473,6c097fe2e9991fed188a9a3149ccd134dfd011a1,sias He <asias@cloudius-systems.com>, 2014-12-03 16:50:44 +0800, , test make udp_server smp aware,,
5474,1e572a3248ea99ac2511390a2eb57327c5ed8dd7,vi Kivity <avi@cloudius-systems.com>, 2014-12-01 18:01:12 +0200, , app template add missing app template.cc,,
5475,8827eb3b272730b4af8080e7d12bcab28214dd51,adav Har'El <nyh@cloudius-systems.com>, 2014-12-01 15:19:35 +0200, , clean link line dpdk command line linking dpdk library looked like cross random character generator black magic reading bit dpdk mailing list turn method madness flawed method method nontheless instead using ... used ... everywhere turn ugliness hide option libtool use libtool need hide anything used start group ... end group avoid figure right link order easy figure right link order avoid option used whole archive dpdk library unfortunately option needed way dpdk written suited compiled non shared library dpdk driver librte_pmd_ constructor function need run register work fine shared library whose constructor run load library whole library left nothing outside refers symbol use whole archive pmd driver fully compiled generated program rest dpdk library linked normally hopefully use large part dpdk big chunk compiled add whole archive none driver compiled program initialization able find driver complain ethernet port patch seastar dpdk still compiles run signed nadav har nyh cloudius systems.com reviewed vlad zolotarov vladz cloudius systems.com,,
5476,6b5973af7001d738501abaf6caa364feb9492cf3,vi Kivity <avi@cloudius-systems.com>, 2014-12-01 17:56:34 +0200, , app template alias boost program_options bpo header file one global namespace let work together keep free pollution,,
5477,78691fc72f33631d8e9067edddac38958afdea4b,vi Kivity <avi@cloudius-systems.com>, 2014-12-01 17:48:18 +0200, , app template move .cc file reduce compile load,,
5478,1820c8eaf629a1a77d5ae6580301f8f2255e1f04,vi Kivity <avi@cloudius-systems.com>, 2014-12-01 17:47:57 +0200, , blkdiscard_test add missing include keep_doing,,
5479,e1397038d420580f8a5533be3e6232b4a3d0c297,vi Kivity <avi@cloudius-systems.com>, 2014-12-01 17:47:28 +0200, , future util.hh add missing include task_quota need reactor.hh,,
5480,256d1823c6c1ce8df50342c84c2481c9e8a6f380,vi Kivity <avi@cloudius-systems.com>, 2014-12-01 17:33:47 +0200, , app template warn debug mode,,
5481,7619c0194185cec25e1660701020522bb9bd6e07,vi Kivity <avi@cloudius-systems.com>, 2014-12-01 14:53:22 +0200, , merge branch flashcache github.com cloudius system seastar dev flashcache fix raphael,,
5482,be0ae4f5dc027cc2ebe274d34aed94fe6d7b207f,vi Kivity <avi@cloudius-systems.com>, 2014-12-01 14:49:04 +0200, , memory hide standard allocator function fvisibility hidden executable symbol hidden shared object allowing optimization especially flto however hiding allocator symbol mean memory allocated executable freed library since use different allocator fix exposing symbol default visibility fix crash loading dpdk library,,
5483,0653a9f3f76711b532348234885ba00ba8142b7b,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-12-01 10:29:19 -0200, , flashcache fix _total_mem_disk accounting erasing mem disk item signed raphael carvalho raphaelsc cloudius systems.com,,
5484,9de9f3442364ecf115a1bf16a67e47cd7eb2c3a2,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-12-01 10:26:19 -0200, , flashcache fix erase disk based item fixed adding missing break statement signed raphael carvalho raphaelsc cloudius systems.com,,
5485,c90e56e4fb204d4f66e50c7a6bdae16f10d0438a,leb Natapov <gleb@cloudius-systems.com>, 2014-12-01 13:50:59 +0200, , memory dynamically search memory level topology current code assumes memory node level non numa machine node level instead assuming memory location topology search dynamically,,
5486,99e18901c1a154f17c29db1d4b452cb63c66d77c,adav Har'El <nyh@cloudius-systems.com>, 2014-11-30 18:47:21 +0200, , fix build dpdk gcc 4.9.2 build dpdk enabled break error like dpdk 1.7.1 x86_64 native linuxapp gcc include rte_pci.h warning invalid suffix literal requires space literal string macro wliteral suffix define prix8 prix8 prix8 problem outlawed breaking decade proud preprocessor tradition using macro stuck end string used dpdk header file need turn error warning let keep warning hopefully disappear newer version dpdk signed nadav har nyh cloudius systems.com,,
5487,e1887713bee31de77d2290f84ec99090abce8d3d,adav Har'El <nyh@cloudius-systems.com>, 2014-11-30 18:24:16 +0200, , add missing ubuntu package readme since recently also need libcrypto dev package compile seastar libcrypto used tcp sequence number randomization ... signed nadav har nyh cloudius systems.com,,
5488,bf46f9c948332544c8111a9ae75fe277c17e290c,leb Natapov <gleb@cloudius-systems.com>, 2014-11-30 17:58:57 +0200, , net change networking device created currently cpu creates network device part native networking stack creation cpu create native networking stack independently make impossible use data initialized one cpu another cpu networking device initialization multiqueue device often part initialization handled one cpu cpu wait first one creating network device even without multiqueue proxy device created master device created proxy device may get pointer master creation time existing code global per cpu device pointer assume master device created cpu compensate lack ordering patch make possible delay native networking stack creation network device created allows one cpu responsible creation network device multiple cpu single queue device initialize master device one cpu call cpu pointer master device cpu used proxy device creation remove need per cpu device pointer master cpu assumption code since master device slave device know communicate directly,,
5489,a38f189f5a77922a62c6cfb3eca95e405e1c63ec,leb Natapov <gleb@cloudius-systems.com>, 2014-11-30 15:28:47 +0200, , memory handle hwloc cousin list circular use instead directly following cousin list handle list wrap around also fixed use uninitialized variable wonder compiler complain,,
5490,e9432e9254a7a7b036ad6f9efefb8fcd20734fd8,vi Kivity <avi@cloudius-systems.com>, 2014-11-30 14:24:19 +0200, , reactor move collectd initialization reactor run complicated enough without,,
5491,cbc2f4068088f134bcf8be97ea98656726a0ba29,leb Natapov <gleb@cloudius-systems.com>, 2014-11-30 12:43:29 +0200, , memory fix numa memory initialization current code crash assert dividing memory cpu number cpu seastar configured use smaller number available numa node reason seastar try use available memory considers one numa node dividing patch make memory division two phase process first cpu try grub much memory local node second free memory left divided cpu algorithm work like prevent one cpu stealing local memory another cpu,,
5492,987b6ca3eb13559632a8f6947817a146278f45e3,vi Kivity <avi@cloudius-systems.com>, 2014-11-30 12:19:04 +0200, , merge branch dpdk dpdk support vlad currently single port single queue supported dpdk eal configuration hard coded dpdk_net_device constructor instead coming app parameter offload feature enabled spin dpdk_net_device send till place ring place current packet copy data packet frags rte_mbuf data,,
5493,a0769ae189f6eb7d76aafdfa8677596288868302,lad Zolotarov <vladz@cloudius-systems.com>, 2014-11-27 21:52:20 +0200, , echotest added support dpdk pmd backend fixed address swapping added cmdline parameter choose virtio dpdk test signed vlad zolotarov vladz cloudius systems.com,,
5494,93f7cc434d4442d881531e9b87b15e07899371d5,lad Zolotarov <vladz@cloudius-systems.com>, 2014-11-27 21:52:19 +0200, , test rename virtiotest echotest signed vlad zolotarov vladz cloudius systems.com,,
5495,857719556ad59c7bcca13260ff1e14e6c284517b,lad Zolotarov <vladz@cloudius-systems.com>, 2014-11-27 21:52:18 +0200, , readme.md added dpdk related chapter signed vlad zolotarov vladz cloudius systems.com,,
5496,12caa3afe4866a00cb74d33534a6da70ad1762b1,lad Zolotarov <vladz@cloudius-systems.com>, 2014-11-27 21:52:17 +0200, , net add option use dpdk pmd networking backend added dpdk pmd option defaulted false true use dpdk pmd driver call dpdk net_device creation function dpdk poll option given added dpdk networking backend option option list signed vlad zolotarov vladz cloudius systems.com,,
5497,5cd984b5ccbecaac74932cc4e359852838f16d48,lad Zolotarov <vladz@cloudius-systems.com>, 2014-11-27 21:52:15 +0200, , dpdk initial commit currently single port single queue supported dpdk eal configuration hard coded dpdk_net_device constructor instead coming app parameter offload feature enabled spin dpdk_net_device send till place ring place current packet copy data packet frags rte_mbuf data signed vlad zolotarov vladz cloudius systems.com,,
5498,47b3721ccfbec789b7f5ab9fdc4df98cedb2bce2,lad Zolotarov <vladz@cloudius-systems.com>, 2014-11-27 21:52:14 +0200, , reactor added pollers abstraction poller register non blocking callback called every iteration reactor main loop poller callback return boolean true main loop allowed block e.g epoll registered pollers return false reactor main loop forbidded block current iteration signed vlad zolotarov vladz cloudius systems.com,,
5499,88a1a37a88458a02eeaeb121501414e2b2d2e876,sias He <asias@cloudius-systems.com>, 2014-11-28 11:49:18 +0800, , support fragmentation path tested udp sending large datagrams ufo,,
5500,f4daca803d187d00c96d8f27e2f44f8d599cf2ab,vi Kivity <avi@cloudius-systems.com>, 2014-11-29 14:03:35 +0200, , merge branch glommer xen github.com cloudius system seastar dev xen fix userspace osv glauber,,
5501,2cf187590f40ae0ba1382b070c8ba612e7ad9a49,lauber Costa <glommer@cloudius-systems.com>, 2014-11-28 14:23:14 +0100, , xen fix userspace interrupt local variable used read port valid return function moving instance member ideal work unmask port ready signaling signed glauber costa glommer cloudius systems.com,,
5502,b3c163e603a9f9930e5368dd103a21c12cd65f20,lauber Costa <glommer@cloudius-systems.com>, 2014-11-28 14:15:36 +0100, , xen fix typo event channel detection signed glauber costa glommer cloudius systems.com,,
5503,c3ae30b760a58da06edb940c97bb787083213e78,lauber Costa <glommer@cloudius-systems.com>, 2014-11-27 17:33:16 +0100, , xen delete event channel well split channel need delete relevant property xs_rm return true feature doe exist affect transaction delete therefore need conditional test signed glauber costa glommer cloudius systems.com,,
5504,a4667c48e69a8fefc656002d7d71281cd36a8ec1,lauber Costa <glommer@cloudius-systems.com>, 2014-11-27 17:20:17 +0100, , xen fix gntalloc userspace broke changed thing accomodate osv function following code work signed glauber costa glommer cloudius systems.com,,
5505,f06233695cba5f3d0b8cd7e857ae27da3ab59240,lauber Costa <glommer@cloudius-systems.com>, 2014-11-27 17:08:22 +0100, , xenstore bail error error opening xenstore instance run without privilege bail segfault later signed glauber costa glommer cloudius systems.com,,
5506,3848130f2f721214ad917f1e7d080c99e7a3fa65,lauber Costa <glommer@cloudius-systems.com>, 2014-11-27 16:54:40 +0100, , xen add feature feature array adding everything read feature array destructor remove everything feature list end removing thing like mac address handle etc never deleted problem osv usually destructor called whole guest userspace network card left cease work delete much _features array original intent becomes reduntant feature nack signed glauber costa glommer cloudius systems.com,,
5507,bd8a18c1780a0d49d1d5cf7a855ff0925d7b9832,lauber Costa <glommer@cloudius-systems.com>, 2014-11-27 16:53:56 +0100, , xen umask event channel setup ready required osv required userspace operation work without signed glauber costa glommer cloudius systems.com,,
5508,861957e5ba5970e97748ae17c6efe53531ab178a,vi Kivity <avi@cloudius-systems.com>, 2014-11-26 18:30:26 +0200, , merge branch glommer xen github.com cloudius system seastar dev glauber say patch yield small performance boost complete since rest performance work still missing since half osv importantly work aws,,
5509,b56a89d5c9f1246eeae20ecfcd11ee995b58e466,lauber Costa <glommer@cloudius-systems.com>, 2014-11-26 17:14:11 +0100, , xen translate feature name backend advertises feature copy frontend register request copy local hypervisor seems forgiving one aws doubly first recognize second refuse connect backend feature advertised frontend signed glauber costa glommer cloudius systems.com,,
5510,a9a79e3ba66495a57c352846066da03059ac1817,lauber Costa <glommer@cloudius-systems.com>, 2014-11-25 14:17:22 +0100, , xen ring unification ring processing almost exception core action actually unify nicely use template programming signed glauber costa glommer cloudius systems.com,,
5511,e7c9aeb8a5b66c3c82441854bac79267a2643494,lauber Costa <glommer@cloudius-systems.com>, 2014-11-25 13:37:06 +0100, , xen interrupt mitigation two thing lead interrupt sent first read new rsp_cons value end every interaction backend produce frame mean time able process round without getting another interrupt set rsp_event frame processed matter fact ring one one next patch unify ring code avoid problem like future signed glauber costa glommer cloudius systems.com,,
5512,4f4731c37be1c334a7a46963277e2e7b43bb4fc2,leb Natapov <gleb@cloudius-systems.com>, 2014-11-26 16:23:14 +0200, , net delay network stack creation network device available network stack created sometimes network device creation wait device initialization another cpu patch make possible delay network stack creation network device available,,
5513,87fdf5220537f2487f12a5f63561dc7ea0a1651d,vi Kivity <avi@cloudius-systems.com>, 2014-11-26 15:01:14 +0200, , merge branch clang,,
5514,e8894227bc8f988fd04727bd8ba14e41d52d0956,vi Kivity <avi@cloudius-systems.com>, 2014-11-26 15:00:13 +0200, , xen declare nr_ents higher satisfy clang,,
5515,8ce969740166741c6a830241db7cb59b199a1c00,vi Kivity <avi@cloudius-systems.com>, 2014-11-26 14:59:49 +0200, , dhcp wrap initializers brace prevent ambiguity,,
5516,58487b55d4492c194530b869ea03f43dea93c9ff,vi Kivity <avi@cloudius-systems.com>, 2014-11-26 14:59:03 +0200, , smp massage init capture satisfy clang,,
5517,44c3e9fc04b921db222d2d2a172068c7c6aa8a13,vi Kivity <avi@cloudius-systems.com>, 2014-11-26 14:57:58 +0200, , collectd wrap initializers brace help prevents ambiguity constructor accept multiple parameter,,
5518,c30b3e93c23aa6043bab0a84c3319caedf188b49,vi Kivity <avi@cloudius-systems.com>, 2014-11-26 14:57:02 +0200, , reactor massage collectd registration satisfy clang warns unused variable even though destructor side effect,,
5519,9ab5dce5c4c818d7c49be7f6b9714dae9a1a7429,vi Kivity <avi@cloudius-systems.com>, 2014-11-26 14:56:40 +0200, , memory fix throw specifier sized delete noticed clang,,
5520,9c7fc9d5d1a8ee96c4178163252ca12d88c1d5c0,vi Kivity <avi@cloudius-systems.com>, 2014-11-26 14:56:18 +0200, , memcache massage init capture satisfy clang,,
5521,05e8ee5e0c6e9d3592f0321cf4d889b6dd9c3a9b,vi Kivity <avi@cloudius-systems.com>, 2014-11-26 14:55:30 +0200, , memcache remove unneeded use variable length array noticed clang,,
5522,239f4a3bf5565d4ab804d6b6736dd13680476f69,vi Kivity <avi@cloudius-systems.com>, 2014-11-26 14:55:01 +0200, , memcache remove unused subdevice _length noticed clang,,
5523,1a1ff2a22ab4c80ded342ea147cc72d9b1cd7288,sias He <asias@cloudius-systems.com>, 2014-11-26 19:24:50 +0800, , tcp fix get_isn microsecond instead millisecond signed asia asia cloudius systems.com,,
5524,fecf47b50a76d7ab6eeb55889dc4446296dc68fb,sias He <asias@cloudius-systems.com>, 2014-11-26 18:19:35 +0800, , tcp defending sequence number attack patch implement initial sequence number generation algorithm per rfc6528,,
5525,01e9410adc080ac7d4ae4b87648a0fda319aec6e,leb Natapov <gleb@cloudius-systems.com>, 2014-11-25 14:39:23 +0200, , smp move thread creation sync point configure smp queue calling may use submit_to api note message still processed engine.run executed,,
5526,cee8eb3121ccc18ea832723cdbb83a5c128e8999,leb Natapov <gleb@cloudius-systems.com>, 2014-11-25 14:39:22 +0200, , net remove unused function net native stack.hh,,
5527,33ed01d35481058d5c887fdbb5894135870f7678,vi Kivity <avi@cloudius-systems.com>, 2014-11-25 13:42:14 +0200, , merge branch flashcache github.com cloudius system seastar dev raphael flashcache basically extension memcache flash device used achieve considerably higher cache hit ratio 130x better flashcache major addition  flashcache device length divided number cpu portion assigned per cpu cache let readily mention item stored disk instead data item key always remain stored memory item state field describes status item following state mem item stored memory to_mem_disk transition mem mem_disk state mem_disk item stored memory disk disk item stored disk erased item invalidated algorithm added balance item mem mem_disk state three lru list added keep track mem mem_disk disk item item erased list working set fit memory item stored mem mem_disk list upon set request ratio mem mem_disk mem_disk mem mem_disk taken account decide whether lru item moved mem_disk state consists scheduling lru item stored disk data field remains intact item scheduled moved mem_disk state set transition state called to_mem_disk basically handle client request transitioning item example get request let provide data given data remains intact upon memory pressure specialized reclaiming function called following get lru item mem_disk list reader i.e refcount zero remove mem_disk list erase data set state disk step executed repeatedly request amount memory reclaimed satisfied upon get request disk item per item semaphore used guarantee first request proceed loading data flash device others wait process complete erased state used inform flashcache item invalidated thus moved list e.g invalidation request could happen data item loaded disk result  performance worse unfortunate also expected time waiting item loaded hit ratio considerably better also expected thinking adding new state item called loaded data item loaded disk mark item loaded insert mem list schedule item mem list moved mem_disk list may bring good performance benefit data back claim though time item loaded directly moved mem_disk list data already stored disk could quickly evicted upon memory pressure sudo memcached stats device dev sdb mem 600m posix stack memcache tcp memaslap 127.0.0.1 256 server 127.0.0.1 thread count concurrency 256 run time window size 10k set proportion set_prop 0.10 get proportion get_prop 0.90 cmd_get 6310281 cmd_set 701266 get_misses 1783262 written_bytes 1216572735 read_bytes 5039263122 object_bytes 762977408 run time 60.0s ops 7011547 tps 116837 net_rate 99.4m flashcache tcp memaslap 127.0.0.1 256 server 127.0.0.1 thread count concurrency 256 run time window size 10k set proportion set_prop 0.10 get proportion get_prop 0.90 cmd_get 3067576 cmd_set 340959 get_misses 13576 written_bytes 591452430 read_bytes 3392472330 object_bytes 370963392 run time 60.0s ops 3408535 tps 56804 net_rate 63.3m,,
5528,35f37a423532555cc6ea87e5f6dab3d0074a1c5c,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-11-24 20:19:38 -0200, , memcache generate flashcache flashcached.cc memcached.cc file created generate flashcached memcached respectively template parameter,,
5529,300b310a2764284f62fdfc0d5fc6cfc63f2a67a8,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-11-24 20:10:39 -0200, , memcache move memcached.cc memcache.cc actual purpose explained subsequent commit,,
5530,087038bd47f8cc3af0835be7fdb0af1c340fc75d,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-11-24 19:52:29 -0200, , memcache flashcache integration flashcached generated build process yet please check subsequent commits,,
5531,8b632ca2fb440c0b2e7bce3f4e77d52504319915,vi Kivity <avi@cloudius-systems.com>, 2014-11-25 12:05:52 +0200, , revert bogus allocator deleter commits reverts  add  core special case deleter raw memory  use default allocator introduced accidentally,,
5532,9eea1752b09d4cfbf9b299c43aadd107d5e6335f,vi Kivity <avi@cloudius-systems.com>, 2014-11-25 11:58:47 +0200, , merge branch asia tcp github.com cloudius system seastar dev tcp improvement asia,,
5533,bd0849f40b8e1af172e876c236072d19a7fa0f18,sias He <asias@cloudius-systems.com>, 2014-11-25 16:27:34 +0800, , tcp send ack immediately segment fill gap arrives see rfc5681 3.2. fast retransmit fast recovery detail  addition tcp receiver send immediate ack incoming segment fill part gap sequence space ,,
5534,e1f4499b286795dd8b4661a7d1486ac4c8dc3c3a,sias He <asias@cloudius-systems.com>, 2014-11-25 15:57:52 +0800, , tcp send ack immediately order segment arrives see rfc5681 3.2. fast retransmit fast recovery detail,,
5535,49c17db25ef19af78a6e9b7dc838273e4f9470be,vi Kivity <avi@cloudius-systems.com>, 2014-11-25 09:55:12 +0200, , merge branch glommer xen github.com cloudius system seastar dev glauber patch xen surviving full round wrk survives 20min one mean devoid bug still seeing warning generated definitely work least crash stable performance wise xen osv fare 32k req sec laptop lwan doe 45k,,
5536,8a754386c22cf30ab990243b92e1eb61f3982cea,leb Natapov <gleb@cloudius-systems.com>, 2014-11-24 15:09:17 +0200, , net remove unused variable,,
5537,e14674ff3c735c1fea8c6070d610b447d8752315,sias He <asias@cloudius-systems.com>, 2014-11-25 15:44:59 +0800, , tcp improve case seg_beg _rcv.need stop looking since seg_beg grow,,
5538,2a3ce92b19826440bf9a6104a85976e2d560bd18,sias He <asias@cloudius-systems.com>, 2014-11-25 15:35:57 +0800, , tcp reduce maximum delayed timer maximum delayed ack timer allowed rfc1122 500ms implementation use 200ms default including window linux,,
5539,dd8c5a35210fed3282f29a8941f13202e16b2abc,lauber Costa <glommer@cloudius-systems.com>, 2014-11-24 16:44:40 +0100, , xen fix index calculation xen protocol need work filling position circular ring index become free used processed side problem however index must sequential side share produced consumed index situation call get_index produce index .then clause schedule caller send run place one turn call get_index create packet index put ring packet index end process packet fast respond saying processed packet act marking processed well since come really processed chaos ensue solution semaphore count many space ring guarantee current caller space compute get_index inside .then clause work well index sequential anyway reason actually able remove queue resort simple counter know room get next index whatever may signed glauber costa glommer cloudius systems.com,,
5540,3f67c129254b01cd63001332bda9876b204a3410,lauber Costa <glommer@cloudius-systems.com>, 2014-11-24 16:44:05 +0100, , xen make idx method static doe depend instance member signed glauber costa glommer cloudius systems.com,,
5541,3c195d25e679094d3e7a34dab1c7272d9e135cc9,lauber Costa <glommer@cloudius-systems.com>, 2014-11-24 16:42:55 +0100, , xen useful assert reach place negative ref let assert make sure fine help catching bug signed glauber costa glommer cloudius systems.com,,
5542,fa252087c473e527aa08a909da64026029168071,lauber Costa <glommer@cloudius-systems.com>, 2014-11-24 16:38:38 +0100, , xen use right index index ring packet tends situation backend frontend get sync totally valid one example backend skb already enough room hold data transmitted netback.c line 1611 3.16 netback respond immediately even though pending packet yet fully processed ring index must come rsp value req rsp signed glauber costa glommer cloudius systems.com,,
5543,e0df395124acacc707be5ae3d95fb39801285e70,sias He <asias@cloudius-systems.com>, 2014-11-11 22:28:33 +0800, , add,,
5544,cfd8a1f997b3382e7774a5ab60de1d85a7b4acbc,sias He <asias@cloudius-systems.com>, 2014-11-11 21:55:05 +0800, , revert core special case deleter raw memory reverts commit,,
5545,5eaecc8805105cfdfccc56a572b30d41e9be04cc,sias He <asias@cloudius-systems.com>, 2014-11-11 15:19:13 +0800, , use default allocator,,
5546,35186f659abee94413e2c79a1eb64a0506be97e7,sias He <asias@cloudius-systems.com>, 2014-11-24 16:10:03 +0800, , tcp fix transmission bulk data passed user application tcp layer call output send data slow lot output send size data might way send send remote ack data sent slowness seen easily tso turned fix send much allowed patch boost bandwidth 0.n mib sec hundred mib sec  asia hjpc pingpong run client txtx.go server 192.168.66.123 10000 connection byte received mib total time sec 76.217338072 bandwidth mib sec  asia hjpc pingpong run client txtx.go server 192.168.66.123 10000 connection byte received mib 100 total time sec bandwidth mib sec,,
5547,18565277f331968bd7bd8e9e10828030b2e3ab95,sias He <asias@cloudius-systems.com>, 2014-11-24 16:10:02 +0800, , tcp add congestion control support patch add congestion control tcp according rfc5681 four algorithm slow start congestion avoidance fast retransmit fast recovery added reviewed pekka enberg penberg cloudius systems.com,,
5548,347b135b789160128335b3bf1c651132c6688ec3,vi Kivity <avi@cloudius-systems.com>, 2014-11-24 11:53:13 +0200, , memory rename statistic member function readable requested gleb,,
5549,f32a8be72387e4c01ec472ca93218c73a68143e6,vi Kivity <avi@cloudius-systems.com>, 2014-11-24 11:50:07 +0200, , memory make statistic thread local noticed gleb,,
5550,3b69d76f06ee2917c193bee33a2a722349fbd2ab,vi Kivity <avi@cloudius-systems.com>, 2014-11-24 10:00:34 +0200, , merge branch stats add statistic memory allocation httpd,,
5551,88b38bfbdf70d66d8b61d45cc58a67d70aa5cb3b,vi Kivity <avi@cloudius-systems.com>, 2014-11-24 09:28:41 +0200, , revert virtio lazy interrupt reverts commit cause hang throughput problem,,
5552,1238807d98c18da36066f962ce021071576254d3,lad Zolotarov <vladz@cloudius-systems.com>, 2014-11-20 19:14:39 +0200, , net implement proper constructor signed vlad zolotarov vladz cloudius systems.com,,
5553,80396b5153dd0179c67a650aad4a856809828423,lad Zolotarov <vladz@cloudius-systems.com>, 2014-11-20 19:14:37 +0200, , packet use const_cast original cast gave error werror cast qual signed vlad zolotarov vladz cloudius systems.com,,
5554,0903e36179b6ce528c2432c595ef1633aa9f5b03,vi Kivity <avi@cloudius-systems.com>, 2014-11-23 19:28:54 +0200, , httpd export statistic via collectd,,
5555,a7f14fa13e8f38c9bbf6a90fb346ba0b1117fee2,vi Kivity <avi@cloudius-systems.com>, 2014-11-23 19:28:26 +0200, , core export memory statistic via collectd,,
5556,5cd200831b67e2f96178a617a35b274e0e6be364,vi Kivity <avi@cloudius-systems.com>, 2014-11-23 19:28:07 +0200, , memory add allocation statistic collection,,
5557,5f82f7296f7169985192a300758b90c80f819f29,lauber Costa <glommer@cloudius-systems.com>, 2014-11-20 16:57:16 +0100, , xen debug function helpful local debugging signed glauber costa glommer cloudius systems.com,,
5558,bc617f8340f10334e0f8f94fde0aa5642c931b47,lauber Costa <glommer@cloudius-systems.com>, 2014-11-20 13:43:25 +0100, , make xen work latest reactor rework nadav longer allowed use eventfds reactor osv change code use reactor notifier instead could use instead semaphore altogether semaphore per listener need translation anyway let keep one interrupt processing semaphore rest work signed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com,,
5559,af010324502b834a1320f336aee4fcb57d56903b,lauber Costa <glommer@cloudius-systems.com>, 2014-11-20 13:41:20 +0100, , make xen work latest reactor rework nadav longer allowed use eventfds reactor osv change code use reactor notifier instead could use instead semaphore altogether semaphore per listener need translation anyway let keep one interrupt processing semaphore rest work signed glauber costa glommer cloudius systems.com,,
5560,e85371112b717d10bd3e750a980bd31b6e1eff5c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-20 12:21:53 +0100, , memcached optimize handle_get really need copy key parser reused done also case single key use map_reduce save one allocation reducer,,
5561,7737871ea03a15a2020f6d4fdde2494ca7970598,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-20 12:21:52 +0100, , memcached move data rather copy,,
5562,37bf4898e34af83d6b454de4daf116decaa3b441,vi Kivity <avi@cloudius-systems.com>, 2014-11-20 13:04:03 +0200, , allocator_test limit runtime second,,
5563,cabdf1dcbc9528fb15ca9e48cfbf492c8f175ab1,vi Kivity <avi@cloudius-systems.com>, 2014-11-20 12:37:18 +0200, , allocator_test reindent,,
5564,3d0724c4c13b4efbd090d0bf573e5f91589bc4da,vi Kivity <avi@cloudius-systems.com>, 2014-11-20 12:33:45 +0200, , merge branch xen,,
5565,57fdff17ff862f94e1d9fe0aa9afca83b9dda0cd,vi Kivity <avi@cloudius-systems.com>, 2014-11-20 12:23:19 +0200, , xen fix non split event channel xenbus notification xenbus name non split event channel different,,
5566,62693f884f17bbbf7a10a11a3520bf7e505cd1bc,vi Kivity <avi@cloudius-systems.com>, 2014-11-20 12:19:10 +0200, , xen bind event channel determining split event channel support,,
5567,3118c5b464e87a3893fde3da63948a22cb157d16,vi Kivity <avi@cloudius-systems.com>, 2014-11-20 12:21:49 +0200, , xen positively acknowledge supported feature instead nacking unsupported feature respond feature nack unsupported one ack supported one,,
5568,ce03a3a9c0878b585c921760f73864c7d486b98c,vi Kivity <avi@cloudius-systems.com>, 2014-11-20 12:17:29 +0200, , xen add evtchn port default constructor move assignment operator,,
5569,c588eb66d434782d86201e025fcc9f35592d3a3f,vi Kivity <avi@cloudius-systems.com>, 2014-11-20 12:16:40 +0200, , xen fix evtchn port destructor move constructor uninitialized port,,
5570,4fe794a4e6aa5987e77158e260519b6d3a460b85,leb Natapov <gleb@cloudius-systems.com>, 2014-11-20 12:06:24 +0200, , smp fix barrier usage smp initialization code inited variable may destroyed still use thread fix making scope static,,
5571,f458117b83eae8aa550158cc856468c817a5d2c2,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-18 17:35:02 +0100, , core avoid recursion keep_doing recursion take space stack take space cache mean room useful data addition limit iteration count larger limit recursion limited stack size also recursion make flame graph really hard analyze keep_doing frame appear different level nesting profile leading many short tower instead one big tower change reuses counter limiting iteration used limit number task executed reactor polling run time parameter added controlling task quota,,
5572,8cb9185cb6ba89d2773967860d48f87feef0fc02,sias He <asias@cloudius-systems.com>, 2014-11-20 16:48:14 +0800, , tcp set retransmission timer dynamically set rto retransmission timer according rfc6298 dynamic rto istead hard coded second exponential back timer retransmission,,
5573,9c9f3d21bf1a2a6fb2e98e1e0487f70a80b74a2c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-18 17:35:01 +0100, , test make option default effective test,,
5574,f80b2a65544fa56b135c097f68a877c01fbe6436,vi Kivity <avi@cloudius-systems.com>, 2014-11-18 10:28:23 +0200, , hwloc fix leaking topology object,,
5575,d222ea6ceb260aa3892a686bfee8e31570513207,vi Kivity <avi@cloudius-systems.com>, 2014-11-18 10:27:51 +0200, , util add defer function defers work end scope,,
5576,817023f91741e43731823e72d60800016cbf2633,sias He <asias@cloudius-systems.com>, 2014-11-18 11:23:53 +0800, , virtio lazy interrupt tell host interrupt useful queue completion since care much completed exactly passed test memcached tcp_server,,
5577,e386b726386b73edea7ab45253cd1e7394a0ade5,sias He <asias@cloudius-systems.com>, 2014-11-18 08:58:08 +0800, , tcp fix ack closed channel case local send data fin remote ack data fin strip byte data ack sent fin otherwise think byte remote acked retransmit patch fix unnecessary retransmission last memcache get response found issue looking tcp flow memaslap testing  38811 1.000117000 192.168.66.100 192.168.66.123 memcache 124 get 38812 1.000593000 192.168.66.123 192.168.66.100 memcache 1164 value 38813 1.000624000 192.168.66.100 192.168.66.123 tcp 59708 11211 fin ack seq 2217067730 ack 20399459 win 185856 len 38814 1.000769000 192.168.66.123 192.168.66.100 tcp 11211 59708 ack seq 20399459 ack 2217067731 win 3737600 len 38815 4.000883000 192.168.66.123 192.168.66.100 memcache 1164 tcp retransmission value 38816 4.000934000 192.168.66.100 192.168.66.123 tcp tcp dup ack 38813 59708 11211 ack seq 2217067731 ack 20399459 win 185856 len 38817 4.001054000 192.168.66.123 192.168.66.100 tcp 11211 59708 fin ack seq 20399459 ack 2217067731 win 3737600 len 38818 4.001094000 192.168.66.100 192.168.66.123 tcp 59708 11211 ack seq 2217067731 ack 20399460 win 185856 len  38547 1.000224000 192.168.66.100 192.168.66.123 memcache 124 get 38548 1.000264000 192.168.66.123 192.168.66.100 memcache 1164 value 38549 1.000292000 192.168.66.100 192.168.66.123 tcp 59717 11211 fin ack seq 1862323816 ack 20267265 win 185856 len 38550 1.000441000 192.168.66.123 192.168.66.100 tcp 11211 59717 ack seq 20267265 ack 1862323817 win 3737600 len 38551 1.000602000 192.168.66.123 192.168.66.100 tcp 11211 59717 fin ack seq 20267265 ack 1862323817 win 3737600 len 38552 1.000626000 192.168.66.100 192.168.66.123 tcp 59717 11211 ack seq 1862323817 ack 20267266 win 185856 len,,
5578,6e9521b86be945c77542161da24c9ca10aba170e,sias He <asias@cloudius-systems.com>, 2014-11-18 11:30:55 +0800, , test increase byte transfered test 10mib 100mib stress,,
5579,ee023f4f84eb60ccb77c033af0225706d974e4e8,sias He <asias@cloudius-systems.com>, 2014-11-12 18:09:22 +0800, , tcp fix delayed ack tcp testing saw lot retransmission delayed ack current delayed ack algorithm doe comply rfc 1122 suggests described rfc 1122 host may delay sending ack response 500 ms. additionally stream full sized incoming segment ack response must sent every second segment  asia hjpc pingpong run client rxrx.go byte sent mib 100 total time sec 322.620879376 bandwidth mib sec 2.412385 192.168.66.100 192.168.66.123 tcp 32174 37672 10000 ack seq 2149425323 ack 1000001 win 229 len 32120 2.612985 192.168.66.100 192.168.66.123 tcp 1514 tcp retransmission 37672 10000 ack seq 2149425323 ack 1000001 win 229 len 1460 2.613131 192.168.66.123 192.168.66.100 tcp 10000 37672 ack seq 1000001 ack 2149457443 win 29200 len  asia hjpc pingpong run client rxrx.go byte sent mib 100 total time sec 0.244951095 bandwidth mib sec retransmission seen,,
5580,8e47ed8b060a1c6e173e7a3145c5eca75db37109,vi Kivity <avi@cloudius-systems.com>, 2014-11-15 12:19:37 -0800, , test whitelist allocator_test,,
5581,05d89f1ab98fd75dd6483a8013be13413d7befae,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-13 13:55:14 +0100, , test add,,
5582,b8344e31e0eedde64bb8a37a946d3e39ee175600,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-13 13:55:13 +0100, , output_stream coalesce large buffer data already buffer assuming output_stream size set sequence writes length 128b 128b would yield three fragment exactly size optimal one could fit fragment size change make output_stream yield 256b fragment case,,
5583,b1208d65013b39007d76c222efb03e5e158fac9f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-13 13:55:12 +0100, , output_stream simplify flush output_stream used one fiber time correctness point view matter set _end put setting allows one future win,,
5584,825b3608a48cfc9f970b03650641b487182426d2,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-13 13:55:11 +0100, , test configure reactor test commit changed reactor _network_stack longer default initialized posix nullptr caused test segfault becayse using application template take care configuration fix call configure netwrok stack set posix,,
5585,c52c56ce7b33cde13350281ef1a589be1a01df69,vi Kivity <avi@cloudius-systems.com>, 2014-11-15 11:56:16 -0800, , test add memory allocation test,,
5586,1a7fd983acbca22feb05acb30398929d73d028af,vi Kivity <avi@cloudius-systems.com>, 2014-11-15 11:52:39 -0800, , memory fix buffer overrun store span freelist span size however picking span satisfy allocation must use next larger list size power two sure span list satisfy request current code allocates leading memory corruption,,
5587,5b24dd78e26f328c26b490b931a7635fbc957772,adav Har'El <nyh@cloudius-systems.com>, 2014-11-11 18:42:22 +0200, , virtio use file eventfd osv notification reactor support non file descriptor notification mechanism switch using one instead eventfd notifying virtio interrupt allow change osv code run handler directly separate thread longer need sleepable write eventfd file descriptor signed nadav har nyh cloudius systems.com,,
5588,c262060d9234963c2c8fb4844664c42aa4ccb1d7,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-12 20:52:48 +0100, , memcache avoid vprintf improves memaslap udp posix throughput laptop 73k 105k item created cache flag size part response need call expensive string formatting get side pollutes item object protocol specific field since ascii protocol supported like fix later think fine,,
5589,627e14c2e49f2b54b5e3fb696860c54dbf1867f1,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-12 20:52:47 +0100, , sstring introduce make_sstring concatenates multiple string like entity one give away sstring doe one allocation final sstring one copy per string work heterogenous argument sstrings constant string supported string_views planned,,
5590,42b20cdad12294e86138d0623225b98eef5a5d21,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-12 20:52:46 +0100, , test.py print output test error,,
5591,405f3ea8c34cc2b4be85b0c4da0a1b9a3f919bd9,adav Har'El <nyh@cloudius-systems.com>, 2014-11-12 11:18:46 +0200, , reactor refactor main loop epoll osv reactor currently designed around concept file descriptor polling every source event file descriptor like timer signal inter thread notification converted file descriptor event using timerfd signalfd eventfd respectively running osv directly assigned virtio device want use file descriptor notification need interrupt signal eventfd slow also problematic file descriptor contain lock signal eventfd interrupt time causing existing code use extra thread patch refactors reactor allow main loop based file descriptor different type abstraction reactor_backend epoll osv implementation add file descriptor rather abstract notion like timer signal notifier similar eventfd linux epoll implementation indeed file descriptor internally timer using timerfd signal using signalfd notifier using eventfd osv implementation doe use file descriptor signed nadav har nyh cloudius systems.com,,
5592,bfbdbdf29c90fc482164b1765dadf2cb04d6b9b1,alle Wilund <calle@cloudius-systems.com>, 2014-11-11 13:01:57 +0100, , dhcp fix assert crash dhcp renew cycle must signal _config promise renew also needed signed calle wilund calle cloudius systems.com,,
5593,067112a3195963a4365bd4eaf26820ec07fe1cbe,vi Kivity <avi@cloudius-systems.com>, 2014-11-11 13:52:59 +0200, , merge branch tgrabiec smp tomasz separate per core serving subset key space sharding outside appears behave one,,
5594,691307992799fe833d31da85833472cd6abc143c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-06 20:22:04 +0100, , test memcache constrain test cpu,,
5595,b0dd9e736ce0a7199b0f105d0f1d56d7e72f4c75,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-06 11:56:42 +0100, , memcached smp support separate per core serving subset key space outside appears behave one item_key type changed include hash calculate hash hash used sharding hashing need store_hash option unordered_set seastar specific hashtable specific stats moved general stats command stats hash show per core statistic,,
5596,a82b2beb3280d5a7375f56566cab7824a16ccd69,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-06 20:10:31 +0100, , core add shutdown hook registration facility use like engine.at_exit std cout long return  lambda executed reactor stopped order cpu registerred,,
5597,95e09be799b695dd2eeabb89d25bbd98ed906c62,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-07 10:17:27 +0100, , net add attribute network stack posix stack doe allow one bind one socket given port native stack hand doe way service set depends instance native stack one might want start service core posix stack one,,
5598,b647bb57460da633c363da4b9c5075b59033d203,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-07 10:20:03 +0100, , smp introduce distributed start_single service create udp socket port posix stack one instance decision need made run time,,
5599,618cbd5729153fe13a9a7a89135d24b3c3e60923,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-06 11:31:56 +0100, , smp introduce foreign_ptr smart pointer wrapper deletes pointer cpu wrapped,,
5600,0b4ee2ff602b1cc7bc506890e5cdcded53a822d6,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-10 10:54:21 +0100, , core advertise element type shared_ptr smart pointer also help foreign_ptr,,
5601,a77ecbeeef16146c5975f319f5fe1ae84b34318b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-06 11:30:40 +0100, , smp introduce distributed invoke_on_all overload void returning function,,
5602,c71f762f598e1a9a9c1a885c159f9ac092450d4b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-06 11:29:44 +0100, , smp introduce distributed local,,
5603,79982a854511400dfaa060f9078e429d0388b62a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-06 11:26:42 +0100, , smp add distributed invoke_on overload void returning function,,
5604,8bbe285004b69edfef0efd2b2651583315d7f183,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-06 11:24:53 +0100, , smp improve forwarding argument distributed invoke_on capable moving value rather copying,,
5605,198874888532e9613ec84f2354820182e7f91fd5,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-06 11:23:25 +0100, , smp introduce distributed map_reduce,,
5606,7e25d70392a13532364775be1c8d4fa30fb31f53,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-06 11:09:20 +0100, , core introduce map_reduce utility spawn async mapping action parallel reduces result come,,
5607,6df3a03c0ac1c25ad43e029d945657cece58e42a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-06 10:59:37 +0100, , core make submit_to accept function return non future add overload automatically wrap non future non void result ready future pro boiler plate code call site,,
5608,c2fbfe8e844327f16f28867901309301b9e0e954,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-10 15:01:29 +0100,9, core destroy network stack destroying timer list fix assert failure raise lib64 libc.so.6 abort lib64 libc.so.6 lib64 libc.so.6 __assert_fail lib64 libc.so.6 boost intrusive list_impl boost intrusive mhtraits timer boost intrusive list_ usr include boost intrusive list.hpp 1263 iterator_to optimized value ... core timer set.hh reactor del_timer optimized tmr tmr entry 0x60000005cda8 core reactor.cc 287 timer 0x60000005cda8 __in_chrg optimized core reactor.hh 974 resolution 0x60000005cd90 __in_chrg optimized net arp.hh pair 0x60000005cd88 __in_chrg optimized usr include 4.9.2 bit stl_pair.h,,
5609,c3ba7a73bb640b286cab1ea14e7d44062eaae221,alle Wilund <calle@cloudius-systems.com>, 2014-11-10 16:00:52 +0100, , dhcp actually ensure packet processed cpu previous code lack thereof hoped achieve quite successfully signed calle wilund calle cloudius systems.com,,
5610,63fb31a8be3fcde61808f51b22a85a61504899ff,adav Har'El <nyh@cloudius-systems.com>, 2014-11-10 16:17:31 +0200, , readme another missing package use lpciaccess need install libpciaccess dev ubuntu signed nadav har nyh cloudius systems.com,,
5611,4298ad2a3c771984eac015861856101360e27a7a,adav Har'El <nyh@cloudius-systems.com>, 2014-11-10 15:57:47 +0200, , readme explain install missing piece ubuntu 12.04 say prerequisite install ubuntu 12.04 set gcc 4.9 side side existing gcc 4.8 without harming existing gcc 4.8 installation signed nadav har nyh cloudius systems.com,,
5612,c908d5508efa5d7c9a4df4b4c8069293817e9dcf,leb Natapov <gleb@cloudius-systems.com>, 2014-11-10 15:16:04 +0200, , smp reorder task submitted smp queue currently semaphore used keep track free space smp queue semaphore doe guaranty order task call wait order get access resource may cause packet reordering smp desirable tcp performance patch replaces semaphore simple counter another queue hold item place smp queue due lack space,,
5613,e2b1186cca3c2fc22aea7c39243f6f9065be535f,sias He <asias@cloudius-systems.com>, 2014-11-10 15:35:59 +0800, , net add tcp header const net tcp_hdr_len_min net net inettraits ip_hdr_len_min added handle ipv4 ipv6,,
5614,7260d7b9de5efd6e4f40e7a3cda2673602925225,sias He <asias@cloudius-systems.com>, 2014-11-10 12:28:48 +0800, , tcp order input support tested emulated packet reordering using tcp_server test sudo qdisc add dev tap0 root netem delay 100ms reorder,,
5615,ead391491d3b4a4e36e5b25d09ce853c8b0367e3,sias He <asias@cloudius-systems.com>, 2014-11-10 12:28:47 +0800, , net add test tcp_server,,
5616,2a56c52fcbf0bb6fbc2f730309f77bf7ed2866f9,leb Natapov <gleb@cloudius-systems.com>, 2014-11-09 16:58:07 +0200, , net distribute udp packet according address pair,,
5617,c64e1e27fbbd537782408d597867814fb23b72f2,leb Natapov <gleb@cloudius-systems.com>, 2014-11-09 16:58:06 +0200, , net move connid tcp reused udp,,
5618,25da340e076d64b6e893e049cce260df40d7058b,leb Natapov <gleb@cloudius-systems.com>, 2014-11-06 10:00:56 +0200, , net remove feedback proxy net device virtio proxy,,
5619,136a56859f9e98fdb8b0695ec7790c6c5be31979,leb Natapov <gleb@cloudius-systems.com>, 2014-11-06 10:00:55 +0200, , net limit number packet waiting sent another cpu packet arrive faster forwarded run memory,,
5620,fcce3049085ec7faefa072777ecf3698ad163716,adav Har'El <nyh@cloudius-systems.com>, 2014-11-09 16:44:15 +0200, , collectd use network stack set current code change soon reactor patch construct default posix network stack reactore configure reassigns requested network stack turn one place use network stack calling reactore configure end using posix stack even though want native stack silly plainly work osv setup problem app_template.hh try configure scollectd engine started call scollectd impl start call engine.net happens early creates posix socket ... patch move scollectd configuration engine started make sense far understand scollectd sending packet diagnostic packet kind silly start sending packet starting machinary allows send packet signed nadav har nyh cloudius systems.com avi use customary indentation remove unneeded,,
5621,39a688d173ce82c058a6c9f88a7e5fa1f4a80bc7,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-07 16:11:57 +0100, , memcache udp remove dead code,,
5622,6611160db1af794c4fd8860143e7674208b98ed0,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-07 16:11:53 +0100, , smp fix distributed stop one problem inst const another vector cleared made distributed complain,,
5623,48d57a6cd9cb5b9fb42f5da5a6e84416b1b3497e,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-07 16:11:45 +0100, , core make distributed start capable forwarding reference,,
5624,b6511ce3f41b6e4701c59ff30ba9de8148c03065,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-07 16:11:42 +0100, , core add future discard_result use want care result want return future current implementation may optimal way improved later need,,
5625,761d6119efcd70c8f4643e6e53bfae0183d6b130,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-07 16:11:41 +0100, , posix simplify setsockopt,,
5626,bf774e1b92e77ce05f8e370477ba3e835dea96e0,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-07 16:11:40 +0100, , posix make setsockopt accept value via universal reference convenient user way someone want pas reference use reference pass value accept use parameter value instead,,
5627,2ac24ced669cc6a20802f1235ca86e26ea8e6238,leb Natapov <gleb@cloudius-systems.com>, 2014-11-09 13:09:31 +0200, , smp smp queue idle polling patch add smp queue polling going idle reactor allows avoid signalfd overhead case receiver thread idle message sent patch top two patch still waiting committed see 450120 request sec wrk httpd network stack native native stack one cpu result 316002 around scaling bottleneck test cpu take 100 cpu time,,
5628,f265fe5ecd2282d02c20bd75c3eb6bf836420961,vi Kivity <avi@cloudius-systems.com>, 2014-11-09 16:19:37 +0200, , xen allow disabling split event channel feature debugging,,
5629,59a7eeeea00af9ea489c9b7d52d6e9e779f2345c,vi Kivity <avi@cloudius-systems.com>, 2014-11-09 16:13:25 +0200, , dhcp retry bridge delay forwarding time passed requires dhcp retries,,
5630,adc97c0162889f0f9ca018179ebe55f18b21f32e,vi Kivity <avi@cloudius-systems.com>, 2014-11-09 15:03:07 +0200, , dhcp filter dhcp failure start system address actually get address fail assert _config promise already fulfilled,,
5631,5bb13601feeafcd6367c5041082ab54d9e59bdb4,vi Kivity <avi@cloudius-systems.com>, 2014-11-09 14:41:01 +0200, , xen wrap xen namespace name like port generic global namespace,,
5632,fede31896c9985108cb41d73a0f8049a08889934,vi Kivity <avi@cloudius-systems.com>, 2014-11-09 14:36:06 +0200, , xen mark port constructor explicit prevent accidental construction,,
5633,14968812fe25a930d69face04681000dea68561d,vi Kivity <avi@cloudius-systems.com>, 2014-11-09 14:34:25 +0200, , xen remove port operator int dangerous invoked unexpected place,,
5634,16b0013c6b33a35a30d623c40794b71318f88acd,vi Kivity <avi@cloudius-systems.com>, 2014-11-09 13:34:30 +0200, , xen add port destructor register port list add fixme unbinding port xen,,
5635,46aac4270492504adaf263f61b80e92e80382c7f,vi Kivity <avi@cloudius-systems.com>, 2014-11-09 13:30:52 +0200, , xen make port value object make easier user manage lifetime,,
5636,f5a2dcd9ec89e2630b68977608f237b6a4a7e363,vi Kivity <avi@cloudius-systems.com>, 2014-11-09 13:14:23 +0200, , xen simplify evtchn port management switching map list semaphore multimap port indirection thing become straightforward,,
5637,885741236592c13ddfd539dacb83380c6c919918,vi Kivity <avi@cloudius-systems.com>, 2014-11-09 12:08:49 +0200, , xen fix explicitly disabled split event channel feature case hypervisor support split event channel feature advertises disabled must assume work,,
5638,b2af728f0e869d0bb27f53f021b39c4046c4c190,vi Kivity <avi@cloudius-systems.com>, 2014-11-09 12:07:31 +0200, , xen provide xenstore read_or_default useful feature provided incrementally may present hypervisors value present return user provided default also system provided default,,
5639,9a8cde51703b99c9e70eb922e8022e9e0718e69c,lauber Costa <glommer@cloudius-systems.com>, 2014-11-08 12:57:30 +0100, , xen list semaphore per event channel current one port per event channel need list semaphore made ready interrupt kick useful case bound event channel signed glauber costa glommer cloudius systems.com,,
5640,7ae3ab57d48be6417a70f24d07fa472cbe17bb6c,lauber Costa <glommer@cloudius-systems.com>, 2014-11-08 12:57:29 +0100, , xen change take port rather semaphore plus make instance method able use make_ready_port consistent userspace implementation point change propagated signed glauber costa glommer cloudius systems.com,,
5641,ab3d02e3474936338f83dc14684a16be40777fd9,lauber Costa <glommer@cloudius-systems.com>, 2014-11-08 12:57:28 +0100, , xen use port class instead integer represent event channel representation event channel integer pose problem waiting integer port work well event channel assigned future ready one side process one alternative condition future processing case event channel bound port process event better solution use class represent bound port instance class pending method infrastructure written following patch make sure listener port made ready interrupt kick signed glauber costa glommer cloudius systems.com,,
5642,4dcc48c306fad23be826ee9faa9892857c990287,lauber Costa <glommer@cloudius-systems.com>, 2014-11-08 12:57:27 +0100, , evtchn allow retrieve instance without parameter gntalloc already method like code evtchn well signed glauber costa glommer cloudius systems.com,,
5643,9cd9fda57010953c771198c9d61794fa315939b5,lauber Costa <glommer@cloudius-systems.com>, 2014-11-08 12:57:26 +0100, , xen take split feature granted backend may completely silent existence split channel feature case trying read template directly would cause exception since convert empty string backend otoh guaranteed exist using template signature signed glauber costa glommer cloudius systems.com,,
5644,467ff9cbe2820bcb092ed09d6b8a9ed88a6987c7,vi Kivity <avi@cloudius-systems.com>, 2014-11-07 14:21:36 +0200, , xen fix grant refernce leak copy grant reference temporary free_ref doe clear real entry causing assert trigger later fix capturing grant reference entry reference xen network driver survives multiple trip around ring,,
5645,ee7ec972ebbba8403d3e692bac6b8dc7681c44d5,vi Kivity <avi@cloudius-systems.com>, 2014-11-07 13:46:07 +0200, , xen request notification completion otherwise never learn transmission completed never recycle ring entry still little lame batching,,
5646,8a29d4a78a581fc2a17114c497568a211aecd806,vi Kivity <avi@cloudius-systems.com>, 2014-11-07 13:26:12 +0200, , xen replenish ring entry keep recycling free ring entry back receive ring receive 256 packet code little lame moment since writes index notifies host every frame adjusted later,,
5647,8dff32eea519c77d5d13f1aaa66d52bb62514a17,vi Kivity <avi@cloudius-systems.com>, 2014-11-07 13:09:24 +0200, , xen simplify free grant table ref management reason wait pushing back free nothing could possibly block switch queue std queue use semaphore guard popping queue,,
5648,dbfd636a0b04532ae073d7f00daacb857d7857d3,sias He <asias@cloudius-systems.com>, 2014-11-07 16:25:28 +0800, , net fix option parse running tcp stream test smp sometimes server sends tso frame sometimes doe set smp server always sends tso frame proxy device doe parse feature opts copy _hw_features real device easy simply duplicate parse code,,
5649,ff674d3e0e6ef3abe6456ee2f489799bcd43679e,sias He <asias@cloudius-systems.com>, 2014-11-07 16:25:27 +0800,981, tcp avoid unnecessary ack e.g avoid dup ack packet 981 979 4.115432000 192.168.66.123 192.168.66.100 tcp 20406 tcp window full 10000 50112 ack seq 10675905 ack 801512443 win 3737600 len 20352 980 4.119002000 192.168.66.100 192.168.66.123 tcp tcp zerowindow 50112 10000 ack seq 801512443 ack 10696257 win len 981 4.119063000 192.168.66.123 192.168.66.100 tcp tcp dup ack 979 10000 50112 ack seq 10696257 ack 801512443 win 3737600 len 982 4.137244000 192.168.66.100 192.168.66.123 tcp tcp window update 50112 10000 ack seq 801512443 ack 10696257 win 40704 len,,
5650,5b994fb4f03d3816ae89384188ac9a75edc66547,sias He <asias@cloudius-systems.com>, 2014-11-07 16:25:26 +0800, , tcp fix clear right set value otherwise might set value,,
5651,3878d387f0f363fbb5bb022b0a41b2373b1c0108,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-11-06 13:58:54 -0200, , memcache udp allocate conversation state fix udp memcache native stack memcached apps memcached memcached.cc 807 void memcache assert_resolved future assertion f.available failed tomek writes udp path relied fact handle could block output stream doe block passed reference variable live stack since block handle_get longer hold chnage allocate conversation state like tcp signed raphael carvalho raphaelsc cloudius systems.com,,
5652,784bf7a7e2933d8c207a584fcdc866cd076ef1e9,sias He <asias@cloudius-systems.com>, 2014-11-06 21:01:03 +0800, , test rename class http_server tcp_server,,
5653,26361873bce9b5365e00f5130eaaa7f5306f0473,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-11-06 14:27:57 +0100, , fix potential use free error,,
5654,1e40660248a9fc1190a60ff37046cb6b7c261e61,sias He <asias@cloudius-systems.com>, 2014-11-06 20:47:22 +0800, , net switch optional _data_received,,
5655,14130ab1e8f3d50c45fbf385816a17729aa53555,sias He <asias@cloudius-systems.com>, 2014-11-06 20:47:21 +0800, , net fix tcp sending bulk data fix tcp_server test still native stack run client txtx.go byte received mib 1000 total time sec 1.567927562 bandwidth mib sec posix stack run client txtx.go byte received mib 1000 total time sec 1.014354958 bandwidth mib sec note client txtx 100 concurrent connection,,
5656,2a582fd1a6e41fc0ce6c0a1b79985dc95bb3c5be,sias He <asias@cloudius-systems.com>, 2014-11-06 20:47:20 +0800, , net fix tso maximum packet size tso enabled see ethernet frame larger 64k tap device make wireshark unable handle complains capture file appears damaged corrupt cap_len 65549 larger 65535,,
5657,2e9366ba2430ff2a35ba207a76c7da3b6ce74147,sias He <asias@cloudius-systems.com>, 2014-11-06 20:47:19 +0800, , test add send test tcp_server printf txtx 192.168.66.123 10000 server send large mount data client tcp testing currently sends 10mb char,,
5658,4df81e0fbae9d8b87ef0c9f0b7356bf3299fc7bf,vi Kivity <avi@cloudius-systems.com>, 2014-11-06 12:45:30 +0200, , merge branch glommer xen github.com cloudius system seastar dev glauber xen work still improvement made ring management memory allocation area,,
5659,6c0aaa126c9d693c04d7acb2609a10a1b201f7bf,lauber Costa <glommer@cloudius-systems.com>, 2014-11-05 23:45:19 +0100, , xen grant recycle handle buffer recycles right simple allocate new receive buffer succesful receival mark spot free get event notification signed glauber costa glommer cloudius systems.com,,
5660,3d0f2de8bb51d6c23e5a11c166c12a9c93f70eae,lauber Costa <glommer@cloudius-systems.com>, 2014-11-05 23:41:33 +0100, , xen method end grant operation signed glauber costa glommer cloudius systems.com,,
5661,0a1f5f9e731367be5e19727de7f2460d8be47194,lauber Costa <glommer@cloudius-systems.com>, 2014-11-05 23:26:29 +0100, , xen defer grant table operation instead returning reference grant already present array defer initialization osv driver handle honestly sure really needed seems able reuse old grant need check backend code smarter however right need something recycle buffer ref would lead inconsistency best close reopen grant later rework way work initial setup recycle signed glauber costa glommer cloudius systems.com,,
5662,722926d5459d98fa6feb322ac6d6b2c98d622ce0,lauber Costa <glommer@cloudius-systems.com>, 2014-11-05 23:13:13 +0100, , xen factor allocation single entry need code later refill buffer factor signed glauber costa glommer cloudius systems.com,,
5663,01c861fba48577b60071d143d1758324c4d46cef,lauber Costa <glommer@cloudius-systems.com>, 2014-11-05 23:06:22 +0100, , xen increment producer index receive path right allocate whole index notify backend produced nr_ents index increment producer index receive new package would make index overflow basically responsible biggest part slowdown seeing patch seeing rtt ping patch byte 192.168.100.79 icmp_seq ttl time 0.437 byte 192.168.100.79 icmp_seq ttl time 0.431 byte 192.168.100.79 icmp_seq ttl time 0.475 signed glauber costa glommer cloudius systems.com,,
5664,ae1122bfc8b15632d576f61e647c8e4cf326583b,lauber Costa <glommer@cloudius-systems.com>, 2014-11-05 22:34:04 +0100, , xen manage index list aside managing grant reference also need manage positional index array need keep track index free used need actual position number fill xen data structure figured could use queue fill integer range queue already futurized easy signed glauber costa glommer cloudius systems.com,,
5665,ee172e36c1d041548af2c5f5317f7235f4c6771f,lauber Costa <glommer@cloudius-systems.com>, 2014-11-05 22:31:55 +0100, , xen enhance gntref enhance gntref useful operation also provide default object represents invalid grant signed glauber costa glommer cloudius systems.com,,
5666,d698811bddfd473931097e14ed799d2ae2143eed,leb Natapov <gleb@cloudius-systems.com>, 2014-11-05 18:13:20 +0200, , fix smp broadcast packet handling packet like arp reply broadcast cpu handling packet structure copied cpu actual packet data currently networking stack mangle packet data travel stack ntoh translation obviously work broadcaster packet patch fix code modify packet data ntoh stack allocated copy data instead,,
5667,86aa39948211128c74ee634cc0948610349fda87,ekka Enberg <penberg@cloudius-systems.com>, 2014-11-06 10:00:48 +0200, , net fix build xen support disabled fix following link error xen support disabled build release net native stack.o function net boost program_options seastar net native stack.cc 101 undefined reference build release net native stack.o function net boost program_options variables_map seastar net native stack.cc undefined reference boost program_options variables_map bool collect2 error returned exit status signed pekka enberg penberg cloudius systems.com,,
5668,63c8db870fda03dda4d0488ed32679c4f7d3e527,lauber Costa <glommer@cloudius-systems.com>, 2014-11-05 22:30:25 +0100, , xen remove debug printfs packet flow working reasonably print signed glauber costa glommer cloudius systems.com,,
5669,73b8f983184a60693599660f748c9a0e803f68a4,lauber Costa <glommer@cloudius-systems.com>, 2014-11-05 14:29:14 +0100, , xen use nr_ents instead numeric constant netfront header signed glauber costa glommer cloudius systems.com,,
5670,5052d34d23e83bbc934591fe6085ac38889af57f,vi Kivity <avi@cloudius-systems.com>, 2014-11-05 15:31:23 +0200, , merge branch xen partial xen support,,
5671,369f31d4c59788b9cd31af4477be54734c6404fd,vi Kivity <avi@cloudius-systems.com>, 2014-11-04 15:45:30 +0200, , xen simplify front_ring constructor,,
5672,2d14053e6e9d6e61bb2c0fe6a4c884d3c9f85726,vi Kivity <avi@cloudius-systems.com>, 2014-11-04 15:43:13 +0200, , xen make gntref readable convert std pair meaningless .first .second field proper struct,,
5673,0a0dc6eb90815ba0f7ee00b6cc69f3870aced107,vi Kivity <avi@cloudius-systems.com>, 2014-11-04 14:58:43 +0200, , xen provide correct checksum offload flag host tell xen computed checksum partial checksum filled,,
5674,c52b4fdc4729f7d84405e3fc0b5b3e48ef5e2ac4,vi Kivity <avi@cloudius-systems.com>, 2014-11-03 19:11:13 +0200, , xen partial support checksum offload checksum offload disabled xen least figured advertise enabled tcp drop packet failing checksum still need flesh transmit path seastar sends syn ack packet response connection request,,
5675,6581de0fa77da098d4c9a15d92c0ffa19fb9ac04,vi Kivity <avi@cloudius-systems.com>, 2014-11-03 19:09:12 +0200, , xen nack feature support yet pretending support feature lead protocol failure,,
5676,2fdaac313212c9582c5b4eee5b6bc9f11832966f,vi Kivity <avi@cloudius-systems.com>, 2014-11-03 17:56:02 +0200, , xen linearize packet transmitting since negotiated scatter gather capability yet support scatter protocol linearize packet sending,,
5677,a9a87c8dbdd5ed3fe550d0696ea03700a311da29,vi Kivity <avi@cloudius-systems.com>, 2014-11-03 15:15:22 +0200, , xen fix low level interrupt handling osv xen code register function call semaphore signal interrupt handler however function smp safe may crash event generates likely ignored since appended reactor queue without real wakeup reactor thread switch using eventfd still unsafe little better since signalling smp safe cause reactor thread wake case asleep able receive multiple packet,,
5678,6e193b2874689bafe4de8cfd4e15dd156fdc9c08,vi Kivity <avi@cloudius-systems.com>, 2014-11-03 13:45:28 +0200, , xen fix memory barrier writing buffer ring barrier must separate writing ring data ring index otherwise side may see unwritten ring data,,
5679,9f5a4e90d1b4a1ec1118a31d9262d68413f6a06b,vi Kivity <avi@cloudius-systems.com>, 2014-11-03 13:42:16 +0200, , xen fix misaccounting prepared buffer prepared buffer told host one meant host stopped forwarding received packet almost immediately fix writing xen visible ring index correctly,,
5680,80c8337eefc4a91c4ea2789b383f52cc2238a18a,vi Kivity <avi@cloudius-systems.com>, 2014-11-02 17:48:52 +0200, , xen receive packet created subscription code fall null _sub,,
5681,a769737faaa12373ce8e01b05b67e28aec6e4d15,vi Kivity <avi@cloudius-systems.com>, 2014-11-02 17:29:04 +0200, , xen fix another bad grant operation used instead two function similar enough signature different thing change able receive packet xen though crash immediately,,
5682,afbe7882357bf149a098de3c6e1104d8c6bfdb27,vi Kivity <avi@cloudius-systems.com>, 2014-11-02 16:55:45 +0200, , xen fix bad grant operation used instead two function similar enough signature different thing change able transmit packet xen,,
5683,6269fe2bdf5cb4efc67c5fc61aea8212869320c8,vi Kivity <avi@cloudius-systems.com>, 2014-11-02 15:43:20 +0200, , xen fix virt_to_mfn need shift get frame number host accepts guest interface,,
5684,6bb8d687d053c5ba9ee40a514b116a55406be9cc,lauber Costa <glommer@cloudius-systems.com>, 2014-10-17 04:50:49 -0400, , native stack support virtio support xenfront well xen domain signed glauber costa glommer cloudius systems.com,,
5685,72abe62c4e6320147d414c238c2565dfabee4f6d,lauber Costa <glommer@cloudius-systems.com>, 2014-10-17 10:09:01 -0400, , xenfront basic support basic support xenfront used domu provided network interface hijacked code follows mechanic managing grant event channel etc however doe yet work see netback injecting data still debugging protocol wanted flush current state signed glauber costa glommer cloudius systems.com,,
5686,9fa8124adecca1a6a056b82566ddcc75c07ebb17,lauber Costa <glommer@cloudius-systems.com>, 2014-10-26 21:35:51 -0700, , xen evtchn support patch enables xen event channel creates placeholder kernel evtchns move osv well main problem patch evtchn pending return one evtchn technically wrong probably call keep_doing pending store reference future equivalent possible event channel would made ready however bit hard time coding since still unclear future consumed would generate next please note moot disable split event channel done masking feature case even available case one event channel notified ready process yet another reason insisted much fixing properly signed glauber costa glommer cloudius systems.com,,
5687,891b40a2af25787a5f2d356553bf83d928d4d8d2,lauber Costa <glommer@cloudius-systems.com>, 2014-10-26 21:36:05 -0700, , xen gntalloc device patch creates seastar enabled version xen gntalloc device todo grow table dynamically fix index selection algorithm always bump signed glauber costa glommer cloudius systems.com,,
5688,7963eb026cd40ed97703ef5beff745b506add94b,lauber Costa <glommer@cloudius-systems.com>, 2014-11-01 07:53:26 -0400, , header function osv xen come osv fix soon signed glauber costa glommer cloudius systems.com,,
5689,6d2095e12d3089b5fc5862ced222d414b07b923e,alle Wilund <calle@cloudius-systems.com>, 2014-11-05 12:34:37 +0100, , net dhcp simple discovery class usage native stack init dhcp discovery default option set command line explicitly turned signed calle wilund calle cloudius systems.com,,
5690,2417fb9612d546d562fb7aaa1cbfc3265073330d,alle Wilund <calle@cloudius-systems.com>, 2014-11-05 12:34:36 +0100, , reactor make engine_started dependent network stack init also make queue init identical main secondary cpu ensure notification across thread possible engine start signed calle wilund calle cloudius systems.com,,
5691,bd263b3b4e3c85baeca136ab3fd5a23f44b4deda,alle Wilund <calle@cloudius-systems.com>, 2014-11-05 12:34:35 +0100, , net add packet filter functionality accessors raw packet send function perhaps best way enable hijacking stack dhcp querying considering option seems least intrusive signed calle wilund calle cloudius systems.com,,
5692,534d4017a12e9e851d2f7d8161226fa4248fb5c6,sias He <asias@cloudius-systems.com>, 2014-11-03 17:17:49 +0800, , script add tap.sh script used setup tap device seastar,,
5693,6a2532fb009b4354b74494c8eb7e819d0f40c9d7,vi Kivity <avi@cloudius-systems.com>, 2014-11-05 11:34:57 +0200, , print add log function like print time information prepended,,
5694,d77ee625bd4f7042517040403022c60338799c1d,leb Natapov <gleb@cloudius-systems.com>, 2014-11-04 11:31:41 +0200, , virtio signal availability virtio buffer vring sending packet currently implicit unbounded queue virtio driver networking stack packet may accumulate received faster networking stack handle queuing happen virtio buffer availability signaled immediately received buffer promise fulfilled promise fulfilment doe mean buffer processed task process placed task queue patch fix problem making virtio buffer available previous buffer completion task executed make aforementioned implicit queue virtio driver networking stack bound virtio ring size,,
5695,99941f0c1601fe0e7209cc8c807a447ba5678b33,leb Natapov <gleb@cloudius-systems.com>, 2014-11-04 11:31:40 +0200, , virtio remove feedback queue_rx_packet instead providing back pressure towards nic cause nic slow drop packet network stack drop packet handle otherwise one slow receiver may cause drop others native network stack correctly drop packet instead providing feedback safe remove feedback api,,
5696,f0416f44b13b009cedb7c542716f0fb5044dba2b,leb Natapov <gleb@cloudius-systems.com>, 2014-11-04 11:31:39 +0200, , keep_doing remove infinite loop prevent keep_doing monopolizing cpu,,
5697,e5dfd8e8634e0df8c2e45b0f87fe28ffca4ddb88,leb Natapov <gleb@cloudius-systems.com>, 2014-11-04 11:31:38 +0200, , future limit number ready future executed without scheduling task otherwise stack may overflow long chain ready future executed,,
5698,f8575a1745bc3f76dee72bfab4d11b8362738943,leb Natapov <gleb@cloudius-systems.com>, 2014-11-04 11:31:37 +0200, , reactor limit number task reactor run polling fds task always add another task ready task list epoll_wait never run,,
5699,174cc6b876acbcfa3e15750ec43a610a3eaa6172,vi Kivity <avi@cloudius-systems.com>, 2014-11-03 17:55:07 +0200, , packet add linearize helpful net device support scatter gather,,
5700,31078be7f758157cf05cf5fe735954e83e74f01b,vi Kivity <avi@cloudius-systems.com>, 2014-11-02 17:49:11 +0200, , net initialize interface _proto_map early driver start pushing packet early need field initialized properly ignored,,
5701,c33270105b36431d11f45e6b871d6b67cde47bb5,sias He <asias@cloudius-systems.com>, 2014-11-04 16:36:03 +0800, , net handle extra byte contained ethernet frame ethernet frame might contain extra byte packet padding trim extra byte order confuse tcp e.g tcp connection syn syn ack ack packet byte sender might send packet size byte containing extra byte padding fix httpd ran sif,,
5702,345d3a3628b03bb9c07fdb4ac6a99714e8929dfd,sias He <asias@cloudius-systems.com>, 2014-11-04 14:52:10 +0800, , net add trim_back packet,,
5703,52f2a2b35b709b292759893925ae1be2ca3fca19,sias He <asias@cloudius-systems.com>, 2014-11-03 15:32:28 +0800, , test add tcp_sever currently ping pong sever client sends ping server responds pong add test extend useful testing tcp_rr,,
5704,dbbd9865ad34df83ebfd6a32471ad821c8a4f466,sias He <asias@cloudius-systems.com>, 2014-11-03 15:14:28 +0800, , core fix read_exactly return empty tmp buf eof,,
5705,9a86af95430f90e8fb1e48ab79a38bc2e3ac4852,lauber Costa <glommer@cloudius-systems.com>, 2014-11-02 16:19:27 +0300, , xen xenstore communication patch enables interact xenstore since osv fake presence libxenstore code userspace kernel signed glauber costa glommer cloudius systems.com,,
5706,5c5a5b827968868ef841e954ec6e3051e58345ec,lauber Costa <glommer@cloudius-systems.com>, 2014-11-02 16:12:27 +0300, , build reorder configure.py reorder file way allow usage command line switch construction compiled object signed glauber costa glommer cloudius systems.com,,
5707,c845606a2db33bece9106ef3b18310358c867028,vi Kivity <avi@cloudius-systems.com>, 2014-11-01 19:38:09 +0200, , merge branch join rewrite http connection termination management support various case dictated http spec client side connection close server side connection close header specified connection close,,
5708,55f3a03e1dcc1e2e85fbe33bffb4247bc705a284,vi Kivity <avi@cloudius-systems.com>, 2014-11-01 17:26:44 +0200, , reactor make internal variable private,,
5709,7a1f84a556d6898e5633b696c765dc3d82569ae4,vi Kivity <avi@cloudius-systems.com>, 2014-11-01 17:26:10 +0200, , reactor replace reference reactor _id accessor cpu_id,,
5710,d382a314b3ffe7957eb6b9cc352c58dfab65d618,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-10-31 22:35:23 -0200, , core sstring move public member required instantiating sstring constructor basic_sstring size_t size signed raphael carvalho raphaelsc cloudius systems.com,,
5711,6188745a98a3088124a8dffd7c27dece3e5ed3b0,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-10-31 22:35:22 -0200, , core introduce size method file_impl signed raphael carvalho raphaelsc cloudius systems.com,,
5712,b4544a3c7641f4ae556a6a0fb8b72e3a870ccbea,sias He <asias@cloudius-systems.com>, 2014-10-31 16:45:44 +0800, , tcp retransmission support manage rto timer using algorithm rfc6298,,
5713,3de4680e56b90bb8503c315475dabeff12c56661,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-30 18:46:27 +0100, , fix postfix operator,,
5714,95fd885996e638c84cffad0a3dce3c816fd4117d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-30 18:46:06 +0100, , virito fix typo,,
5715,af91a11b2bba788f7740eac39be56c5bbf3915fb,leb Natapov <gleb@cloudius-systems.com>, 2014-10-30 16:32:08 +0200, , net implement virtual packet queue net proxy send currently net proxy send wait previous packet sent another cpu accepting next packet slows sender much patch implement virtual queue allows many packet send simultaneously start drop packet number outstanding packet limit try queue run memory sender generates packet faster sent also try generate back pressure returning feature become ready queue limit return first sender caller may option clear one many wake queue limit,,
5716,d9992ee98cd1c5620d5119e8a1b3ba70309d0a13,vi Kivity <avi@cloudius-systems.com>, 2014-10-30 16:47:39 +0200, , merge branch osv nadav writes patch set allows seastar native stack work osv osv assigning virtio queue directly seastar control well keeping existing support vhost running seastar linux host guest seastar compiled have_osv flag api osv virtio assign.hh forget appropriate well make use virtio device assigned osv run time seastar either osv interface linux vhost interface depending available current code work sake quickly producing something working made two compromise need fixed later virt_to_phys function become virtual function slowing need measure much matter doe switch template ... host guest notification done inefficient matter catch host interrupt wake thread wake eventfd noticed seastar epoll event loop need silly extra thread eventfd signalling lock free done interrupt handler,,
5717,b1964be121145aebbcd58de2985c5d1cc42a3784,adav Har'El <nyh@cloudius-systems.com>, 2014-10-30 16:40:16 +0200, , build add osv ... configuration option add osv path option configure.py shortcut long list option needed compile seastar osv explained readme osv signed nadav har nyh cloudius systems.com,,
5718,f497299f446846767eda74a7265411b573b5a280,adav Har'El <nyh@cloudius-systems.com>, 2014-10-30 15:57:00 +0200, , virtio support virtio ring assigned osv second option beyond running linux vhost patch allows seastar run osv virtio network device assigned application i.e. use virtio ring directly osv involvement beyond initial setup use feature one need compile seastar have_osv flag osv assigned_virtio get symbol need available mean run osv return non null object mean osv run assign net signed nadav har nyh cloudius systems.com,,
5719,4b44968e869fb6f0763fe33d17d4fba6209cc440,adav Har'El <nyh@cloudius-systems.com>, 2014-10-30 15:56:50 +0200, , virtio expose notifier wake_wait wake_wait method available notifier expose vring holding notifier queue holding vring signed nadav har nyh cloudius systems.com,,
5720,5db5f7622a4cb46957af1bf78ccb472af09be863,adav Har'El <nyh@cloudius-systems.com>, 2014-10-30 15:56:40 +0200, , virtio make abstract class make abstract class move vhost specific code subclass subsequent patch second subclass virtio device assigned osv signed nadav har nyh cloudius systems.com,,
5721,8326f43deda6a9629af7e6d33c1a26dbcab81aad,adav Har'El <nyh@cloudius-systems.com>, 2014-10-30 15:56:30 +0200, , virtio make virt_to_phys virtual function existing code virt_to_phys fixed nothing function good vhost good enough osv convert virtual address physical need actual calculation solution patch using virtual function optimal probably replaced template later signed nadav har nyh cloudius systems.com,,
5722,db16e4f634c86b4b804a635393aca95cc3c43c5f,adav Har'El <nyh@cloudius-systems.com>, 2014-10-30 15:56:19 +0200, , virtio separate notification vring currently vring class hardcoded guest host notification via eventfd patch switch general notification object two virtual function host_notify unconditionally notifies host host_wait return future one wait host notify patch provides one implementation notification object using eventfd needed using vhost later provide different implementation running osv patch pointer virtual function add bit overhead every notification small compared cost notification nevertheless change future make notification object template parameter instead abstract class signed nadav har nyh cloudius systems.com,,
5723,6f48e27bfd673fe98cddd3ef38d2aac74a5e18dd,vi Kivity <avi@cloudius-systems.com>, 2014-10-30 14:09:47 +0200, , httpd simplify connection termination current implementation sort manual reference counting place may last one using connection check indeed last one deletes connection object recent change become unwields many case track fix separate connection two stream read stream internally serialized one request parsed time return request parse respond stream also internally serialized termiantes last response written caller wait two stream when_all,,
5724,79e8497e1da0fa364eb1595af97fb4ee383f4f2d,vi Kivity <avi@cloudius-systems.com>, 2014-10-30 14:08:23 +0200, , queue add size accessor,,
5725,3d414111eb01a5f23ec5505d028675a2c5f4872d,vi Kivity <avi@cloudius-systems.com>, 2014-10-30 14:07:42 +0200, , future make .rescue require rvalue reference future make harder misuse,,
5726,7f91f1b937641868cbb5d81c9bd2b44ac0714024,vi Kivity <avi@cloudius-systems.com>, 2014-10-30 13:59:17 +0200, , future add when_all future ... when_all return future becomes ready input future ready return value tuple input future value exception accessed,,
5727,c4bc67414e16d5d46d8eef7eb76fe95b3a4aa321,vi Kivity <avi@cloudius-systems.com>, 2014-10-30 13:55:31 +0200, , future add then_wrapped unlike future unwraps value then_wrapped keep wrapped future exceptional still accessed similar proposed std future later rename match rename existing future future next,,
5728,fa7ea4f86ea8122b05a07618a5ee4fc0ef21bee4,vi Kivity <avi@cloudius-systems.com>, 2014-10-30 13:44:38 +0200, , revert tcp retransmission support reverts commit leak memory like crazy,,
5729,c5b7bbf37f813c8d71a833d25e4bb65a566fc876,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-30 10:00:43 +0100, , net udp use packet data native_datagram method easy shoot foot trying call get_src packet data moved reported asia asia cloudius systems.com,,
5730,ca85016556b56bae04d220f71ff40a1ede4cdb28,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-29 19:55:27 +0100, , test memcache fix regex version python tolerate regex  error test_incr  traceback recent call last file test memcached line 464 test_incr call incr key .decode file usr lib64 python3.3 unittest case.py line 1178 deprecated_func return original_func args kwargs file usr lib64 python3.3 unittest case.py line 1153 assertregex expected_regex re.compile expected_regex file usr lib64 python3.3 re.py line 214 compile return _compile pattern flag file usr lib64 python3.3 re.py line 281 _compile pattern flag file usr lib64 python3.3 sre_compile.py line 498 compile code _code flag file usr lib64 python3.3 sre_compile.py line 483 _code _compile code p.data flag file usr lib64 python3.3 sre_compile.py line _compile elif _simple repeat file usr lib64 python3.3 sre_compile.py line 362 _simple raise error nothing repeat nothing repeat,,
5731,4b4f33c1baeb436e19c55385f222f6653108d473,alle Wilund <calle@cloudius-systems.com>, 2014-10-28 17:29:45 +0100, , collectd add counter reactor might slightly useful monitoring might also serve example signed calle wilund calle cloudius systems.com,,
5732,95975151f6b766fbd68daa4046051f99fab1d55b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-29 18:09:43 +0100, , virtio change descriptor free list fifo instead lifo based observation packet comprised multiple fragment higher cpu profile avi suggested current lifo handling free descriptor cause contention cache line seastar vhost give boost depending hardware,,
5733,c16384a9fdaff4ae992370733e0ab137aecb85c1,sias He <asias@cloudius-systems.com>, 2014-10-29 10:06:08 +0800, , tcp delete connection rst received wrk might send rst instead fin close connection,,
5734,71ecf7650a2d977c84abe91e4d17aedbd0ed4337,sias He <asias@cloudius-systems.com>, 2014-10-29 10:06:07 +0800, , tcp retransmission support use simple algorithm starter,,
5735,1c827805bc2108a542ef5c124c3115f49b4c47af,leb Natapov <gleb@cloudius-systems.com>, 2014-10-28 13:24:29 +0200, , virtio use correct eventfd virtio queue nice able actually kick queue time time reviewed nadav har nyh cloudius systems.com,,
5736,04dd72efd307ed3015b306272928fb25736a36ed,sias He <asias@cloudius-systems.com>, 2014-10-28 17:36:54 +0800,3, tcp support close initiated server side posix stack fix hang test posix stack 1000 http 127.0.0.1 fix,,
5737,57861d39ce9ba468f16c8eb9e8e766215dcf6527,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-28 11:18:24 +0100, , memcache add stats hash command print detail hashtable usage,,
5738,1891a7ab1f551b4fcbe03dc459f5a20d15359432,alle Wilund <calle@cloudius-systems.com>, 2014-10-28 09:42:57 +0100, , collectd add gauge absolute value counter well registered signed calle wilund calle cloudius systems.com,,
5739,66c2a6225930e6a3e7f00d57551b0e7ae79c4cd5,alle Wilund <calle@cloudius-systems.com>, 2014-10-28 09:42:56 +0100, , collectd use low timestamps since seems work poorly least fedora bit overkill anyway signed calle wilund calle cloudius systems.com,,
5740,774e48e42ec6bdf2cb8c95ea6141c7150d6175e2,alle Wilund <calle@cloudius-systems.com>, 2014-10-28 09:42:55 +0100, , collectd enforce encoding double uint64_t depending data_type signed calle wilund calle cloudius systems.com,,
5741,030709a3c9da720fb86ee6558cc4c31fcd32f1c3,alle Wilund <calle@cloudius-systems.com>, 2014-10-28 09:42:54 +0100, , collectd fix bug function value binding remove unneeded code send loop value need copied signed calle wilund calle cloudius systems.com,,
5742,abb15db28ff6d33439808529dfcbfec7ab3ca1fa,alle Wilund <calle@cloudius-systems.com>, 2014-10-28 09:42:53 +0100, , collectd ensure protocol writer consistent ref daemon also make talkative lower byte overhead keeping track sent signed calle wilund calle cloudius systems.com,,
5743,8619bf2ba74236244488100032ce4fee47bd0ef7,alle Wilund <calle@cloudius-systems.com>, 2014-10-28 09:42:52 +0100, , collectd modify scollectd module counter use well known type consumed unmodified collectd server signed calle wilund calle cloudius systems.com,,
5744,b42ec4caea9034ea66384fb6579eade63277a84d,alle Wilund <calle@cloudius-systems.com>, 2014-10-28 09:42:51 +0100, , collectd typo value list composition signed calle wilund calle cloudius systems.com,,
5745,b1ec66900f002acb214399d17fb446ab780e2a9f,vi Kivity <avi@cloudius-systems.com>, 2014-10-28 11:04:45 +0200, , memcached reindent ascii parser test,,
5746,90cb9376ab7de2863ac6e0d3c43ff4fad66ee704,vi Kivity <avi@cloudius-systems.com>, 2014-10-27 19:58:57 +0200, , memcached enhance test check differently scattered packet use funky indentation reduce diff size adjutsed later,,
5747,929f714e4cef5276963496ba5b472876298b7099,vi Kivity <avi@cloudius-systems.com>, 2014-10-27 19:58:14 +0200, , net allow constructing packet const data since copying data call const_cast without fear,,
5748,d5675c32a794db25993d80c3d62585bcca3e63f0,vi Kivity <avi@cloudius-systems.com>, 2014-10-28 10:59:18 +0200, , net add ostream support packet print packet print got packet ,,
5749,ae7c071a01223e94033a836210a79c829498ba10,vi Kivity <avi@cloudius-systems.com>, 2014-10-28 11:00:11 +0200, , net fix packet append internal data,,
5750,fd56c6345c29b4cd2e619324161451e8053568cb,sias He <asias@cloudius-systems.com>, 2014-10-28 14:08:29 +0800, , net remove leftover code packet.hh,,
5751,6dcf24f98d0569ec1f0b6efe051885bb7174d264,vi Kivity <avi@cloudius-systems.com>, 2014-10-27 19:27:33 +0200, , move content async action.hh future util.hh,,
5752,c6545bf2df5af21cbc0fb3b40112ee2713c110fb,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-27 13:46:06 +0100, , test add another test case future forward_to,,
5753,eb84a3b78b2002806259f6673c6a8dafd6f56f43,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-27 13:46:05 +0100, , core fix future forward_to handle properly case target promise future get dead without installing callback future never installed mishanlding former case causing httpd abort smp,,
5754,0aee62c4ae31f586251e20c767af1cf8e2834c1e,leb Natapov <gleb@cloudius-systems.com>, 2014-10-27 10:53:38 +0200, , smp forward exception thrown rpc callback back caller exception uncaught prevents listen tail call rpc stop working,,
5755,bfb1d17843516d440cfa0dda64e5296757f73067,leb Natapov <gleb@cloudius-systems.com>, 2014-10-26 17:46:02 +0200, , reactor remove unused local variable,,
5756,8818af1c2342c89eff3b1364888d96771e8842f6,vi Kivity <avi@cloudius-systems.com>, 2014-10-26 15:52:01 +0200, , core move semaphore class file,,
5757,5fef7395440df9cccd1aff69575ddf094ab10632,vi Kivity <avi@cloudius-systems.com>, 2014-10-26 14:35:19 +0200, , merge branch distributed infrastructure service distributed across cpu,,
5758,3e4e2344b8610b2cc353bb81734ab73fc9dfbd69,vi Kivity <avi@cloudius-systems.com>, 2014-10-26 14:35:07 +0200, , merge branch semaphore semaphore speedup,,
5759,5e4f649a57dfb09138a606ee87d4ab1133a4aced,vi Kivity <avi@cloudius-systems.com>, 2014-10-26 12:06:40 +0200, , semaphore switch list circular_buffer circular_buffer much efficient since allocation amortized,,
5760,0d745abf69b94e0c796d3a645745bf0f6ede7eca,vi Kivity <avi@cloudius-systems.com>, 2014-10-26 12:05:59 +0200, , future sprinke noexcept everywhere used correctly noexcept allows container optimize reallocation code,,
5761,4af8036677a3a708991c2f7bf36e689865bc6edb,vi Kivity <avi@cloudius-systems.com>, 2014-10-26 11:28:34 +0200, , http convert use distributed infrastructure,,
5762,e7ce27ea32c7424b98d9700f4184beaabadf8dae,vi Kivity <avi@cloudius-systems.com>, 2014-10-26 11:25:36 +0200, , smp add distributed infrastructure distributed service summary distributed my_service dist dist.start construct my_service cpu dist.stop destroys previously constructed instance dist.invoke cpu my_service method args ... run method one cpu cpu my_service method args ... run method cpu,,
5763,82321d435f6e3ed60e33d7b53c2cb205b3a38c47,vi Kivity <avi@cloudius-systems.com>, 2014-10-26 13:20:41 +0200, , future add helper run function paralllel return future becomes ready complete,,
5764,2639c284f3f634d8276a98b3a1a1ffa99755523a,vi Kivity <avi@cloudius-systems.com>, 2014-10-26 11:25:16 +0200, , reactor add cpu_id accessor,,
5765,01a1c1c3c2711fe09e52f99cc89be83214f7f40f,leb Natapov <gleb@cloudius-systems.com>, 2014-10-26 09:33:17 +0200, , smp delete non existent function declaration listen_one,,
5766,bb522a55923c28ad6194c41745ffbd5fedfa0af9,vi Kivity <avi@cloudius-systems.com>, 2014-10-24 22:25:46 +0300, , revert keep_doing fix memory leak reverts commit core optimize future forward_to longer needed,,
5767,734b758470cef082b941c199807804edea94a7d1,vi Kivity <avi@cloudius-systems.com>, 2014-10-24 22:24:40 +0300, , merge branch tcp include reduce includes tcp.hh,,
5768,9fbd13175b69159803e11ad724a1e2d40c38bcf5,vi Kivity <avi@cloudius-systems.com>, 2014-10-24 22:17:05 +0300, , net move mechanic listening tcp connection tcp.cc remove include tcp.hh,,
5769,e18b77d5cd0f801b555a0cd09beb36962a9dea68,vi Kivity <avi@cloudius-systems.com>, 2014-10-24 22:15:03 +0300, , udp add missing include,,
5770,04db8374506d746ba7e673e1ce4536d3bb3d0dc3,vi Kivity <avi@cloudius-systems.com>, 2014-10-24 21:59:07 +0300, , net move native stack implementation class new header file allow instantiate tcp tcp.cc reducing compile time,,
5771,332cd6424b52dd66faf1c8436a457b950b21a186,vi Kivity <avi@cloudius-systems.com>, 2014-10-24 21:53:45 +0300, , use indirection access tcp reduces number file include tcp.hh,,
5772,ec7b5eeed231b1f3a1e32c9e63606e29ce06a0ee,vi Kivity <avi@cloudius-systems.com>, 2014-10-24 21:41:34 +0300, , tcp move ipv4_tcp implementation tcp.cc first step isolating tcp rest stack,,
5773,6b23750255257ec7bdf97922110cf9cd6b49cbc3,vi Kivity <avi@cloudius-systems.com>, 2014-10-24 19:46:59 +0300, , merge branch avi distributed github.com cloudius system seastar dev often function wish execute another cpu able complete immediatley patchset allows return future caller resumed future ready,,
5774,658d52589e8c4d6c180c1773ea790611e695d856,vi Kivity <avi@cloudius-systems.com>, 2014-10-24 19:43:57 +0300, , merge branch asia tcp github.com cloudius system seastar dev,,
5775,0cf656409780563583adf7dc08de852c51a7a572,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-24 14:24:33 +0200, , test add test future forward_to,,
5776,74ac65a4912aef0fa5941e6eb75c7e4999bc1974,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-24 14:24:32 +0200, , core optimize future forward_to avoid extra allocation chaining linking current future promise target promise future target promise moved current future promise,,
5777,c08879edea3fdb010989e32830c873e49669d386,sias He <asias@cloudius-systems.com>, 2014-10-24 16:27:00 +0800, , tcp advertise zero window ack remote fin follow linux behavior,,
5778,fb0123ec61cf7e8a8bacbae18d700d63a5c5e314,sias He <asias@cloudius-systems.com>, 2014-10-24 16:25:35 +0800, , tcp ack data fin single packet,,
5779,cbc5e9392f06573f196992a0c15954c6d260f799,sias He <asias@cloudius-systems.com>, 2014-10-24 16:24:06 +0800, , tcp send ack packet ack data data present,,
5780,6018b27bab131285208c3747882df52fc85b220a,sias He <asias@cloudius-systems.com>, 2014-10-24 16:23:25 +0800, , tcp add comment syn,,
5781,4717d0bc4829b6e620e53648e6060afeeaebe514,sias He <asias@cloudius-systems.com>, 2014-10-24 09:12:55 +0800, , net rename stack native stack,,
5782,d251f331238aa09d92d33d20acb7fb0b744a2d59,sias He <asias@cloudius-systems.com>, 2014-10-24 09:10:23 +0800, , net remove unnecessary include stack.hh,,
5783,5a3e4f20e30d43b780545bb4ed85b0da1dde6910,vi Kivity <avi@cloudius-systems.com>, 2014-10-23 19:24:29 +0300, , keep_doing fix memory leak keep_doing keep chaining future stop usually never resulting facto memory leak even though memory still reachable fix avoiding chainining using promise,,
5784,7428717be9c6a19fe48b26c9e7d78f0ee0e7d02c,vi Kivity <avi@cloudius-systems.com>, 2014-10-23 16:57:36 +0300, , keep_doing cosmetic,,
5785,1f80f7ee14a954e483c2f97986b1e16c2d695783,vi Kivity <avi@cloudius-systems.com>, 2014-10-23 15:57:01 +0300, , memory fix realloc memcpy declared gcc receiving non null attribute gcc assumes ptr null passed memcpy though size zero result ignores null pointer check free call memory free directly doe expect null pointer fix calling memcpy ptr non null,,
5786,6b84f666f7c9473176ce3afbfa10c0a71dcd95e9,vi Kivity <avi@cloudius-systems.com>, 2014-10-23 13:16:50 +0300, , smp move smp listen_one class doe access internals,,
5787,1bdc2a1f6c64960fabb4d6b916956173696db831,vi Kivity <avi@cloudius-systems.com>, 2014-10-23 13:04:52 +0300, , smp asynchronous function allow function run another cpu return future case result exception returned future resolved note potential livelocks smp submit_to ... return smp submit_to ...   mirror image sending happen concurrently queue become full system able make forward progress fixed making inner submit_to use different queue,,
5788,e2c2580e817ae6a775b63184b4eba2fd50cffe02,sias He <asias@cloudius-systems.com>, 2014-10-23 17:41:24 +0800, , tcp fix ack data fin local send fin remote send ack response local fin packet remote send ack packet acking data fin avoid consuming extra one byte data handling,,
5789,c3d225eb5f1766f9d0b13d25a1de3a26f91f3592,sias He <asias@cloudius-systems.com>, 2014-10-23 17:41:23 +0800, , httpd support close initiated server side make work 1000 http 10000,,
5790,d12e495653662c6471215e66921c34e24cebd8be,sias He <asias@cloudius-systems.com>, 2014-10-23 17:41:22 +0800, , tcp support close initiated server side,,
5791,cec8b6c5de42fa517b74cf3baa25e4f6b15ea350,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-23 10:10:10 +0200, , core fix sigsegv packet packet fragment frag packet move x._impl initializer list hold nullptr later,,
5792,502ecb84854ac55cc3981571b92ffaaef52e2a74,sias He <asias@cloudius-systems.com>, 2014-10-23 15:35:42 +0800, , ignore cscope file,,
5793,0b3fc256b6fbfcb96e62d26916f503d2790385f6,sias He <asias@cloudius-systems.com>, 2014-10-23 15:08:46 +0800, , httpd drop dead code,,
5794,b7ab4621fea2d52eedd90ab34990f7db7bf106ed,sias He <asias@cloudius-systems.com>, 2014-10-23 15:08:45 +0800, , httpd allow tune http server port,,
5795,9aaaded8948ec671ac097e26beece31a3546237b,sias He <asias@cloudius-systems.com>, 2014-10-23 15:07:30 +0800, , app template put option application app option group e.g app option help show help message port arg 10000 http server port,,
5796,1f34dc4b2a09c104a042732be33e8f165037f3ab,vi Kivity <avi@cloudius-systems.com>, 2014-10-23 10:19:55 +0300, , remove submit void used syscalls almost always return result,,
5797,4b020f387495d0c44377ecd7d0644d7edac3fd31,vi Kivity <avi@cloudius-systems.com>, 2014-10-23 10:11:35 +0300, , smp split serf two purpose minimal work queue running blocking syscalls thread context outside main reactor passing message reactor different thread order evolve second task without harming first split two class currently exactly equivalent,,
5798,a8828fdf8c232f727058bd16c15b204007102cbf,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-22 17:35:14 +0200, , core use standard hash sstring turn current hash implementation yield bad hash change improves memcache throughput muninn huginn,,
5799,544a990f80e26c6f1feea63c57c3576b540448e4,leb Natapov <gleb@cloudius-systems.com>, 2014-10-22 17:50:04 +0300, , timer_set fix expired time cancellation expired timer cancellation broken since timer_set assumes timer canceled expired yet patch fix problem moving expired timer management outside timer_set letting code managed cancellation expired timer memcached never happen core queued timer get expired flag tell timer queued timer set expired timer list,,
5800,a8c64386b23583e8734860962f55c51b963b96ce,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-22 16:02:26 +0200, , memcache enable hash caching hash comparison std unordred_map doe default std string switched boost intrusive unordered_set doe default key see improvement throughput,,
5801,aa06198f0a7f59ff011c603926220f7a64544ffe,sias He <asias@cloudius-systems.com>, 2014-10-22 17:53:31 +0800,5, tcp remove tcb tcbs connection closed currently tcb inserted never removed tcbs patch also remove unnecessary ack packet packet client client fin server ack server fin client ack server ack,,
5802,05effc0b2de60ca871d04f83a7f6c95b35f598b1,vi Kivity <avi@cloudius-systems.com>, 2014-10-22 16:33:39 +0300, , array_map fix initialization force value initialization array rather default default initialization doe nothing primitive type pointer,,
5803,40db2c0ba1e33fd1e01655311c1cee81cb6ee74b,alle Wilund <calle@cloudius-systems.com>, 2014-10-22 09:50:34 +0200, , collectd daemon module per cpu value list registry polling udp send allows registration metric value associated collectd path plugin plugin inst type type instance value broadcast sent periodic interval config config seastar.conf app template value registration revoked safely either manually anchor signed calle wilund calle cloudius systems.com,,
5804,8b737c95e55a20b9f1031115a6d1636f9d97b275,sias He <asias@cloudius-systems.com>, 2014-10-22 15:39:50 +0800, , core add use_count shared_ptr useful debugging shared_ptr,,
5805,6561bde96431638b9f6fac438e6e35f2fe6a2f8a,sias He <asias@cloudius-systems.com>, 2014-10-22 09:46:24 +0800, , net add tcp option support maximum segment size window scale option supported currently,,
5806,5d1930643524177cb22e2c6c45299ee56e0dfb49,sias He <asias@cloudius-systems.com>, 2014-10-22 10:31:44 +0800, , httpd delete connection client close client close connection one direction make httpd close direction way httpd send back fin packet client receiving client fin packet,,
5807,3ce9762fcdad8286ea3abf301a5527253971d182,vi Kivity <avi@cloudius-systems.com>, 2014-10-21 18:02:51 +0300, , merge branch memcache github.com cloudius system seastar dev memcache implement memory reclamation tomasz,,
5808,1d439ec2b61ba92b67558a28b48891f848814eb0,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-21 15:22:33 +0200, , memcache try handle hashtable resize failure big hashtables may fail resize let crash happens evict item continue,,
5809,137d465b7222bd8933ab4db7ec4952050dbb88d7,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-21 13:23:23 +0200, , memcache hook memory reclaimer implement simple reclaimer triggered try free around data assumes amount anyone would want allocate low memory event detected reclaimer task run amount chosen arbitrarily sure amount right,,
5810,9478601abf2e44628619e5ebf37efb83ed58333a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-21 16:43:32 +0200, , core introduce units.hh,,
5811,1a84e3560c9c08cf9073f94f22672e501b296d95,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-21 13:22:38 +0200, , core implement reclaimer instance method running default allocator,,
5812,bd31ea1f6a12b2bb04c31264de106dd02563b522,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-21 11:22:39 +0200, , memcache add stats expired item,,
5813,0f1c499154148a2e0f41624c0fdbfd63008fcd8c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-20 21:09:46 +0200, , memcache track item lru list,,
5814,658fe77afa88863591ae56137567accd93c27f62,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-20 21:01:50 +0200, , memcache switch cache use boost intrusive unordered_set allow lru eviction removal expired item involve key lookup,,
5815,4ac3c1d1e1f8194ef1d2b99698f66d11cd780612,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-20 21:10:49 +0200, , core add to_sstring sstring overload need special case template,,
5816,3eaac67a09572dd3c6b0b87b3a1399319e651891,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-21 14:00:31 +0200, , test memcache make bit robust time fails server record connection closure delay,,
5817,f921a9787bcfd05a7f21599196da4f98500a8c8f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-20 21:13:33 +0200, , test make return non zero exit code failure,,
5818,6723c0cbdddc1ad132d4cda1af8a4c063120d516,ekka Enberg <penberg@cloudius-systems.com>, 2014-10-20 10:26:12 +0300, , apps memcache apps memcached protocol called memcache protocol server follow naming convention httpd doe big deal annoys hell simple people like brain hard wired type final ... signed pekka enberg penberg cloudius systems.com,,
5819,d1c8d6d64a0fa32f20647ba523dfed54e098bbec,vi Kivity <avi@cloudius-systems.com>, 2014-10-21 15:50:53 +0300, , merge branch deleter deleter object relatively heavyweight since need remember destructor call however raw memory need destructor exploit fact,,
5820,a1533cc67154b780b695b5a5509d115cf52c9030,leb Natapov <gleb@cloudius-systems.com>, 2014-10-21 12:16:51 +0300, , memory call madv_dontdump whole mmaped memory mmap alloc byte alloc,,
5821,9cecc2ce79eef1c11187d833e1d0e1f146175be4,vi Kivity <avi@cloudius-systems.com>, 2014-10-21 12:08:00 +0300, , add .gitorderfile  git config diff.orderfile .gitorderfile patch become readable header change come source change,,
5822,b8b39499ff3a9d0737386b23fb109de0ff8c69f4,vi Kivity <avi@cloudius-systems.com>, 2014-10-21 12:07:30 +0300, , smp cleanup smp always defined need test,,
5823,5a12154f3a12cb919e57f947dd42eaa683e1eb49,vi Kivity <avi@cloudius-systems.com>, 2014-10-21 11:46:12 +0300, , core fix memory initialization order initizalize memory initializing reactor object might require lot memory e.g virtio ring,,
5824,91782ac6a2b8434b646dac0aae04ff30ddee2b30,vi Kivity <avi@cloudius-systems.com>, 2014-10-21 11:25:43 +0300, , virtio optimize single buffer packet deleter instead allocating vector store buffer destroyed case single buffer use ordinary free deleter currently help much packet share later may able eliminate sharing one day,,
5825,61782fcc05d3f4b2302050aba7eef17b6d1936a8,vi Kivity <avi@cloudius-systems.com>, 2014-10-21 11:24:27 +0300, , packet add vectored constructor deleter add packet iterator iterator deleter unfortunately template version template parameter named deleter non template version parameter called deleter need sort naming,,
5826,fe8ed688787457d543d77f520dc89738109a8fd3,vi Kivity <avi@cloudius-systems.com>, 2014-10-21 11:23:41 +0300, , use raw object deleter destroy allocated buffer remove allocation,,
5827,f75d1822cc168222d48225d9a36ab42b589f9e08,vi Kivity <avi@cloudius-systems.com>, 2014-10-21 11:20:12 +0300, , core special case deleter raw memory many case deleter used protect raw memory e.g char array something destructor case simply free deleter need remember destructor need called doe need remember whether raw object take least significant bit use marker store pointer object deleter instead using proxy impl object control actual deletion deleter subsequently share convert back standard form since reference count life impl object,,
5828,5a6771ee33c6ae97607b7de1c29b4784ce7874e6,vi Kivity <avi@cloudius-systems.com>, 2014-10-19 17:42:47 +0300, , drop eclipse workaround reference qualified member function latest eclipse understands,,
5829,7ac12f4839c16c56d52ed4e13a4986f631205082,vi Kivity <avi@cloudius-systems.com>, 2014-10-19 10:58:30 +0300, , merge branch virtio remove allocation virtio receive transmit path,,
5830,79b90537517e05af35b93db4d4cea3148cd670b1,lauber Costa <glommer@cloudius-systems.com>, 2014-10-19 07:19:20 +0400, , net parse ethernet address string given string return corresponding ethernet address useful specially xen read mac address xenstore signed glauber costa glommer cloudius systems.com,,
5831,932a6e8752a79cae7af94e6219b1bad4be5a7063,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-10-17 18:15:18 -0300, , core move file specific content reactor.hh specialized header semantic change cleaning thing signed raphael carvalho raphaelsc cloudius systems.com,,
5832,60b70974d4bcb9b79b71dc8df447e34bcb17188d,vi Kivity <avi@cloudius-systems.com>, 2014-10-18 16:33:20 +0300, , merge branch memcache github.com cloudius system seastar dev memcache update tomasz memcache towards ascii protocol completeness contains also bug fix,,
5833,7903acdeb8c322759fdfa2ea8b7f74f5df8c79bb,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-17 17:32:35 +0200, , test memcache add incr decr test,,
5834,f00bc22067e6e922fcccd30d164bec524793241a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-17 17:32:05 +0200, , memcache add support incr decr command,,
5835,3093e2c54357c5f3861bee405867d38b0d1c6807,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-18 11:36:02 +0200, , memcache make data change atomic transmission data atomic replace item field place lead inconsistency get response rather allocate new item object replacing one cache,,
5836,e3fa358075a238c9c8d7cbfce903bea936417652,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-17 16:09:55 +0200, , test memcache flush key test,,
5837,6ed212e7c61a3a576bf2611cb267f50a7f293fc3,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-17 14:18:12 +0200, , test memcache add test stats command,,
5838,7ae9178439cd3f816a5fe2315455afabeaaa713d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-17 13:39:21 +0200, , memcache introduce stats command version print subset statistic printed stock memcache,,
5839,4edfc4f0c2ecbffaecab6661b6fa2cce486a10de,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-17 14:17:00 +0200, , core implement to_sstring const char,,
5840,287ad01f768b33af070f2732db988ead2b4b397f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-17 14:16:37 +0200, , memcache make cache size return live item,,
5841,51f52ed2b528e28343dcb7d600b597584902d399,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-17 13:36:46 +0200, , test memcache make test robust automatically detecting memcache running,,
5842,e07e6ccbef607d72b47ab5eddfa191511e909206,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-17 10:40:48 +0200, , test memcache add test get,,
5843,7c9e31a0b23040a1b7568a4f495606500839daa4,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-17 10:40:27 +0200, , memcache add get command,,
5844,f134fe1a94bb7676a63423fdcff1d5e17e87dac4,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-16 18:24:08 +0200, , test memcache add test add replace,,
5845,5c649c54fb354fdf97339bb1244b840110f32c15,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-16 18:19:07 +0200, , memcache add support add replace command,,
5846,d5a0e9654ebdabd44ec2adea1ddc703fedae0e06,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-16 18:00:41 +0200, , test memcache add test noreply variant set delete also extract code common base class,,
5847,f3ebe8abe97ee13c8688cec4f1fbc2f22d55a79d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-16 17:59:30 +0200, , memcache support noreply set delete,,
5848,a1848ca6a76877744958669a44f39e5580c9fe1c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-16 17:05:32 +0200, , test memcache add test version command,,
5849,84d5b7098f98ac334cfd8147d804b5a86b2d72f2,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-16 17:05:21 +0200, , memcache implement version command,,
5850,e30b097867a5c9e1d966315029eff3b5d42435f0,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-16 16:51:37 +0200, , test memcache fix assertion work stock memcached,,
5851,3347a7828990235e7b7afee022d550d4e97576e2,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-16 16:32:19 +0200, , test memcache add test flush_all command,,
5852,fdc4e7bbf5a571fb02154871ac15618d54fe9e8c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-16 16:50:50 +0200, , test memcache cleanup rename method,,
5853,f2b1d16ce5a6a41aae46cee6d855b4dc06c456f4,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-16 16:32:19 +0200, , memcache implement flush_all command,,
5854,09faeff19668c267a541b7ee0ae14b42db91dee9,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-16 16:03:26 +0200, , test distinguish fast slow test test fast cover functionality slow minority test take significantly time run developer run test frequently order get feedback correctness change test runner distinguishes fast slow test given fast switch skip test marked slow time test.py passed test memcache test.py mode release  real 0m33.084s user 0m0.501s sys 0m0.271s time test.py fast passed test memcache test.py mode release fast  real 0m1.012s user 0m0.464s sys 0m0.247s,,
5855,db5cdc39182f6ccd4101b23263ae90103c424731,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-16 12:35:09 +0200, , test memcache add test exploiting string_builder issue,,
5856,5d6eaaea339ac9c584ad4610bb52329f89c666ae,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-16 12:24:30 +0200, , ragel reset string builder init otherwise contain stale data previous unsuccessful pas,,
5857,6b970957d92a7fb165e1595e01271371afccee92,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-16 11:44:23 +0200, , core never throw keep_doing exception thrown async action returned failed future rather thrown caller keep_doing,,
5858,c1dc3b0d53da07505e91f63a5221408aa7b0d5ea,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-16 11:43:08 +0200, , memcache handle end stream properly tcp,,
5859,2e5c3c33172fda6676f6f0db3c1bd2718a410fa2,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-15 18:16:54 +0200, , memcache test add test error recovery,,
5860,cf2d72a360589d305ea795f7a04901a11494a0dd,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-15 18:15:50 +0200, , memcache recover error tcp stream mostly make memcapable libmemcached happy client issued bad command discard data next command connection succeed,,
5861,45772b9ab7b0ae6048da39399f70e6ea203b86ce,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-16 08:51:06 +0200, , test.py run memcache smp support one cpu yet symptom tcp connection chance hanging routed cpu memcache run,,
5862,9ef466bae2fa1af327e35d4b90656abca180d8d8,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-10-15 15:18:54 -0300, , blkdiscard_test switch app template signed raphael carvalho raphaelsc cloudius systems.com,,
5863,7f33a52cf824140e82f55b529c8becec826829d5,vi Kivity <avi@cloudius-systems.com>, 2014-10-15 19:20:39 +0300, , merge branch memcache github.com cloudius system seastar dev initial version memcached seastar tomasz support subset ascii protocol command get set delete udp tcp supported,,
5864,e6834b9fb3d127df10dec535cdf38292895d6d54,vi Kivity <avi@cloudius-systems.com>, 2014-10-15 16:57:00 +0300, , virtio remove allocation transmit path instead allocating buffer vector construct virtual vector transforms packet fragment needed,,
5865,ba5447871b3425205b3f23b0d245d26f327c6786,vi Kivity <avi@cloudius-systems.com>, 2014-10-15 16:29:52 +0300, , virtio switch allocating virtio decriptors front back simplifies requirement caller,,
5866,a331b5a1297d188b4a06cd80dad4a9acc63a0c2f,vi Kivity <avi@cloudius-systems.com>, 2014-10-15 16:00:43 +0300, , virtio move vring buffer completed vring buffer_chain interested completion buffer buffer_chain aka request move simplify thing,,
5867,6f1dab52fed5fe3059452d8047c96dc74a563dff,vi Kivity <avi@cloudius-systems.com>, 2014-10-14 18:05:01 +0300, , virtio reduce allocation preparing buffer part instead producing range buffer chain produce range buffer array std array buffer require allocation,,
5868,7684f00ebeaad94fa774a0a12d3d44dbcf030687,vi Kivity <avi@cloudius-systems.com>, 2014-10-14 18:05:01 +0300, , virtio reduce allocation preparing buffer part instead returning vector buffer chain return iterator range produce vector fly removing vector allocation,,
5869,de4de65d46ff4f0fab913e7a7414855b89b90c98,vi Kivity <avi@cloudius-systems.com>, 2014-10-14 18:02:52 +0300, , virtio convert vring post accept iterator range instead iterator vector buffer accept iterator container buffer increasing flexibility caller,,
5870,d63489d6b84f78d0cf16713d909c655c1c797519,vi Kivity <avi@cloudius-systems.com>, 2014-10-15 17:15:57 +0300, , util add like boost iterator applies function result underlying iterator unlike boost support using lambda function,,
5871,bb5d1164b18e7730c5058c87fc1a3635df413dcb,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-14 19:13:28 +0200, , test memcache test tcp udp,,
5872,ec42ca860a6c5cb1cf0d05ff7a5d7d74e1f2aadc,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-14 15:00:56 +0200, , memcache add tcp server,,
5873,319ae0b530107dce510c27f45d21b4ad696ef07d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-14 15:00:00 +0200, , core add shared_ptr operator allows move item directly existing shread_ptr,,
5874,a4eba9b03122a10888bf61c7263232fdbc56cf7d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-14 17:23:40 +0200, , posix suppress sigpipe socket closed side try write process get sigpipe suppress failure handled locally failure percolate exception,,
5875,d575ad2dfbebd4a10fbe77536319401d254f975b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-14 13:28:47 +0200, , memcache introduce periodic stats printer,,
5876,50feeef580204599b9d542cd09130d31cc9409cc,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-09 20:03:06 +0200, , test memcache introduce end end test test exercise memcache instance using real client suite run memcache instance conforms ascii protocol,,
5877,6a31f3762c5bb72d9cf762cc3293ffd4c13422cc,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-09 17:52:33 +0200, , test memcache add test ascii parser,,
5878,97a16c16fda24baed3de935ee57fbc4933850f01,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-09 17:14:07 +0200, , core add operator print vector useful test,,
5879,88537320f36aec1a12ae10ab7bfaeff792b5b437,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-08 18:25:27 +0200, , memcache initial version support udp subset ascii protocol following command get set delete,,
5880,454ee88bb6da896e667c5b0f87fbc45c9e2244fa,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-14 13:49:21 +0200, , core make keep_doing propagate failure,,
5881,ca077f33ef20fd589f50f4eb4f8ed90138c9f308,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-14 13:35:17 +0200, , core introduce or_terminate call std terminate future fails used like do_something .or_terminate,,
5882,277535ca75110bcf002d31f4b96a8c593210ae63,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-09 20:01:38 +0200, , core introduce,,
5883,dec042f9c22397e20b4365309f890b51606fb98e,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-09 17:16:59 +0200, , core introduce do_for_each useful composing iteration async operation,,
5884,ceeda8508090a99b2abf326a0b46dc9d83f5a4fe,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-09 17:15:31 +0200, , core add overload output_stream write,,
5885,4c64750f76457f5235ca1422277358dabff8c4e8,vi Kivity <avi@cloudius-systems.com>, 2014-10-14 18:01:28 +0300, , util add like boost template name work lambda,,
5886,6fabc8700f641caebd2f8ebad86f36faab31e02e,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-08 18:29:11 +0200, , core introduce timer rearm,,
5887,d97c8eb50cd8d900e4f7ee89885d75456ba6a4aa,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-08 18:30:19 +0200, , net introduce packet data_source adapter,,
5888,930181d361e9999e149413a73967ca49d46e15f8,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-08 18:28:31 +0200, , net fix packet constructor thy compile,,
5889,c4d18b6ae6ecc632056a64aa1747509850d4f337,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-09 15:46:15 +0200, , test introduce test runner script run unit test test.py running build release test sstring_test,,
5890,da10ab64438ff10578b06235cbbdba7c8f4e934a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-09 15:45:26 +0200, , test add sstring test,,
5891,5f3352b7e3d9e0b3edb8b2d689eefc52df647e66,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-08 18:29:26 +0200, , test integrate boost utf asynchronous test case delared using macro equivalent function body run inside reactor return future resolve test done,,
5892,4e3317b0723998f0a15caf365f1379a5d12c8c55,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-11 14:30:52 +0200, , core fix formatting,,
5893,700325886db5be79f82c95a3c377dbfe049da42a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-13 14:01:31 +0200, , convert non system includes use quote,,
5894,b90670417be9389f7127034646d8241281663a6c,vi Kivity <avi@cloudius-systems.com>, 2014-10-15 16:38:22 +0300, , memory fix one resize cpu_pages initialize established one past end page sentinel avoid boundary condition check cpu_pages do_resize considers last page sentinel discrepancy cause last page considered free do_resize promptly end use free page fix aligning do_resize initialize,,
5895,d7fe901005243d31aa7063d428967bf5f9014032,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-10-14 14:14:26 -0300, , test add blkdiscard_test signed raphael carvalho raphaelsc cloudius systems.com,,
5896,2a7efbd8841bf1bc0f641350317f86d7af1eaa37,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-10-14 14:14:25 -0300, , core introduce trim support ioctl fallocate used trimming effect block regular file respectively feature useful ssds write amplification reduced drive life increased unlike hdd ssd explicitly notified block longer used interface consists passing range function offset length parameter signed raphael carvalho raphaelsc cloudius systems.com,,
5897,f3e429bc435a97f66e4687413a5da94ebf382b84,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-10-14 14:14:24 -0300, , core add support file class intended allow different file class implement file operation currently supporting regular block device file support would also required native file system example signed raphael carvalho raphaelsc cloudius systems.com,,
5898,a85baa4e8f431f72e2fbe146acccb88ff3c0eaa2,adav Har'El <nyh@cloudius-systems.com>, 2014-10-14 23:44:37 +0300, , instruction run seastar osv due popular demand patch add readme osv containing detailed instruction run seastar inside osv seastar moving fast pace new exotic linux feature almost every day please make sure use latest master osv otherwise likely missing feature seastar need time writing even need apply uncommited osv patch add thread pinning support hopefully patch committed today osv master back enough seastar master clarify though also mentioned readme osv seastar run osv posix network stack native network stack doe work yet completed mechanism assign virtio xen osv directly seastar work signed nadav har nyh cloudius systems.com,,
5899,d450cba365569ac9fb91af1e3a05ce07cb4b8a05,sias He <asias@cloudius-systems.com>, 2014-10-15 16:17:55 +0800, , tcp send rst response listened port  curl http 192.168.66.123 20000 client keep sending syn packet hang  curl http 192.168.66.123 20000 curl failed connect 192.168.66.123 20000 connection refused linux avi drop declaration,,
5900,20349885e3e7bff5ef8b86a8c4cb6d99b53fc53b,sias He <asias@cloudius-systems.com>, 2014-10-15 12:01:13 +0800, , queue add missing including future.hh,,
5901,3765bec1559cf37d4237e656214417d8b275b596,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-14 10:31:22 +0200, , net speculate epollin epollout sendmsg sendto recvmsg improves memaslap score udp memcache note recvmsg always speculate case udp know exact sizeof datagram thus always specify larger size msghdr,,
5902,5b28d5455b9a118287a881a062df927e124b70ef,leb Natapov <gleb@cloudius-systems.com>, 2014-10-14 10:08:48 +0300, , build add libm library list needed static compilation clang,,
5903,c85e269c9927645a3524ef575ee911ec0a13a3ff,vi Kivity <avi@cloudius-systems.com>, 2014-10-14 09:36:32 +0300, , build move posix stack core otherwise anything linked net network stack abort net meant native stack anyway,,
5904,7b4ea128faa1a1a3ce25469c7c7ad8c7ac09ddf7,vi Kivity <avi@cloudius-systems.com>, 2014-10-13 23:23:45 +0300, , build fix default tristate configs none false note emitted optional package installed,,
5905,8445f66d91ad438542c42d267c6b540e609a2598,vi Kivity <avi@cloudius-systems.com>, 2014-10-13 17:48:23 +0300, , app template make command line option override config file option instead vice versa,,
5906,f2ee7d09de90ca38936d1006b399edf1f61ca152,vi Kivity <avi@cloudius-systems.com>, 2014-10-13 16:22:08 +0300, , docker update,,
5907,07a32698097abe1ee256307a476be18bd59e3a3d,vi Kivity <avi@cloudius-systems.com>, 2014-10-13 16:19:19 +0300, , build fix warning detection gcc gcc ignores wno mismatch tag even though supported invert sense warning test,,
5908,2982efbac0eb5320492d46c34733c3aed11bbd9b,leb Natapov <gleb@cloudius-systems.com>, 2014-10-13 13:29:00 +0300, , virtio remove unneeded allocation txq post txq post allocates temporary vector time call vring post since later expects get vector parameter change vring post get two iterators instead remove needle vector allocation,,
5909,41c2fcb109476f7552f620a33b346349c7101012,lauber Costa <glommer@cloudius-systems.com>, 2014-10-13 06:30:51 -0400, , posix provide mmap helper mmaps file descriptor make sense operation method file_desc signed glauber costa glommer cloudius systems.com,,
5910,e4cd6cc786ae8c8d469c945e835324980642ce6c,adav Har'El <nyh@cloudius-systems.com>, 2014-10-13 14:39:44 +0300, , new requirement readme.md unfortunately two new non obvious prerequisite numactl hwloc list readme.md signed nadav har nyh cloudius systems.com,,
5911,2d13f95a9fa363f7014c006f75dff990f63bded0,vi Kivity <avi@cloudius-systems.com>, 2014-10-13 15:41:18 +0300, , memory support non hwloc build,,
5912,e8e9177def7929e334fa4a19305942406881389c,vi Kivity <avi@cloudius-systems.com>, 2014-10-13 15:25:59 +0300, , build configurable hwloc support allow requiring disabling autodetecting hwloc support,,
5913,e1bdbbf2e8231675a193c5fd89358f1591d32bf6,vi Kivity <avi@cloudius-systems.com>, 2014-10-13 07:48:21 -0400, , docker update,,
5914,c630bd817159eb09b9e96f62593021a4541228f7,vi Kivity <avi@cloudius-systems.com>, 2014-10-13 13:07:46 +0300, , merge branch numa add option tuning memory size use mbind pinning cpu engine access local memory possible,,
5915,60b4756a3601ddc00fd249aafee01cd1e89e53e1,vi Kivity <avi@cloudius-systems.com>, 2014-10-12 16:40:02 +0300, , smp allow tuning memory size,,
5916,56598903f6ff07c065b82a885817fd767bcbe4c7,vi Kivity <avi@cloudius-systems.com>, 2014-10-12 16:39:08 +0300, , memory add support reconfiguring memory add memory cpu bind memory numa node,,
5917,e2ea9336cd14eea5b469204ee837e0470f00640e,vi Kivity <avi@cloudius-systems.com>, 2014-10-13 11:57:53 +0300, , sockaddr declare operator global namespace needed argument dependent lookup pointed clang,,
5918,3397812551b0c6ade8737424cddd47bade89f660,vi Kivity <avi@cloudius-systems.com>, 2014-10-13 11:55:05 +0300, , build disable debug information clang missing support,,
5919,51261a2ff18b313d1f249c051cd8ac2c0b414d8a,vi Kivity <avi@cloudius-systems.com>, 2014-10-13 11:18:06 +0300, , build disable mismatched tag warning,,
5920,7f8d92ee3cc026744c815ed78fb90a55876b8604,vi Kivity <avi@cloudius-systems.com>, 2014-10-13 09:31:04 +0300, , posix stack.cc add missing copyright,,
5921,4a66794331e8f0fc05e2eccf3586460044c41576,vi Kivity <avi@cloudius-systems.com>, 2014-10-13 09:24:44 +0300, , merge branch asia net github.com cloudius system seastar dev net queue asia,,
5922,c2650971b9b829371b193848473725f475cf0bc7,sias He <asias@cloudius-systems.com>, 2014-10-11 13:44:16 +0800, , virtio net improve packet building use begin end iterator build packet one,,
5923,4d71913a5b63cf53ec607c0e4ad80e56aac0e794,sias He <asias@cloudius-systems.com>, 2014-10-11 09:35:24 +0800, , virtio net enable guest side tso4 ufo merge receive buffer support handle large packet path,,
5924,c5861476b99c37be272831ab338112a6785f36fc,sias He <asias@cloudius-systems.com>, 2014-10-11 09:19:33 +0800, , net rename already make name consistent,,
5925,2625dd5944461716e360f8b5370fd40452f32773,sias He <asias@cloudius-systems.com>, 2014-10-11 09:08:15 +0800, , net introduce,,
5926,5cf3f200c549681ccc914e09cb2272ce156b062c,sias He <asias@cloudius-systems.com>, 2014-10-10 16:35:41 +0800, , net introduce ip_protocol_num use place protocol number used,,
5927,05c72b0808ab5a82f50aeccc856b08576f34006d,sias He <asias@cloudius-systems.com>, 2014-10-10 14:16:00 +0800, , net udp checksum offload upd fragmentation offload,,
5928,5c661b503419b532fab39e8ef1100e52a8bc52ce,sias He <asias@cloudius-systems.com>, 2014-10-09 14:24:58 +0800, , tcp setup initial sequence number,,
5929,d5c8155e0077f08334db00f1de93ebcc35ac11e0,sias He <asias@cloudius-systems.com>, 2014-10-10 10:25:21 +0800, , net split posix stack related code net posix stack.cc note patch make pollable_fd get_file_desc public order access accept maybe better solution fow avoids lot including game,,
5930,0ffaa0cbdd5947c0eee303a10ecfdfc8d699dca5,sias He <asias@cloudius-systems.com>, 2014-10-10 09:52:25 +0800, , net reorder net stack.cc make file readable class defined order,,
5931,2d85ac902fdc69e863b6cc19fd2ac8ac908eab25,vi Kivity <avi@cloudius-systems.com>, 2014-10-12 19:56:49 +0300, , build disable sanitizers static build fix static debug build,,
5932,8d5924a734682dcea4037233e431c8c1e67221f6,vi Kivity <avi@cloudius-systems.com>, 2014-10-12 16:37:30 +0300, , posix add function pin current thread,,
5933,77f13169c0f71cfc3785b9d8cfef7b8b37e137ce,vi Kivity <avi@cloudius-systems.com>, 2014-10-12 16:35:48 +0300, , core add numa resource allocation function add wrapper around libhwloc discover memory processing resource divide among configured cpu thread,,
5934,cca41658aa9578c908c93401bbe9475a7def33ae,vi Kivity <avi@cloudius-systems.com>, 2014-10-12 16:34:16 +0300, , util add conversion library time support parsing memory size e.g,,
5935,d89e09c9ed72979bb0f410e75a5d7b91e8c09ddf,vi Kivity <avi@cloudius-systems.com>, 2014-10-12 14:47:11 +0300, , memory switch page_list use page index instead pointer two motivation reduce size struct page allow relocating page array needed dynamically changing amount memory supported,,
5936,1bdb73e5da947b2c09feef9ec71910b1b6002984,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-09 18:08:40 +0200, , core fix buffer overflow to_sstring,,
5937,eac955cc73c184682a085c29f62fcace03919647,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-09 18:05:30 +0200, , core simplify output_stream write flush result result used anything sure could used result carry little write none flush information went ahead simplified future easier return place expect future,,
5938,d90bab775dda9aaf826814f0034c1981d11d4de9,sias He <asias@cloudius-systems.com>, 2014-10-09 11:23:24 +0800, , virtio net merge receive buffer,,
5939,a111b2fa1e38edfece3574a6134a485d1867dc17,sias He <asias@cloudius-systems.com>, 2014-10-09 10:03:04 +0800, , net tcp segment offload udp fragmentation offload support path added enable path merge receive buffer feature supported virtio net udp fragmentation offload hooked separate patch,,
5940,f14c04a132b2bf67262bcf679b3cd2afdf8715b3,sias He <asias@cloudius-systems.com>, 2014-10-09 10:03:03 +0800, , net add offload_info packet class useful adding tcp segment offload ethernet driver way need parse tcp packet,,
5941,37ef3bc899727a6d0602f3c17e47f9365b15f073,vi Kivity <avi@cloudius-systems.com>, 2014-10-07 15:23:30 +0300, , memory request huge page backing heap worth httpd,,
5942,c6069ac4d9a98afa5bc7eacc14f7b9538f9506a4,vi Kivity <avi@cloudius-systems.com>, 2014-10-07 10:25:23 +0300, , core set memory reclaim hook allow memory manager call back requesting reclaim push task front queue run memory waiting fire,,
5943,6746bcfd684788c23d78e8b4f4bc0e98f550155c,vi Kivity <avi@cloudius-systems.com>, 2014-10-07 10:18:17 +0300, , memory reclaim support allow memory user declare method reclaiming memory reclaimers allow main loop declare safe point calling reclaimers memory mananger schedule call reclaimers memory run low,,
5944,252ca596bbe14af9d7810803bbf07d43081538f1,vi Kivity <avi@cloudius-systems.com>, 2014-10-07 11:04:22 +0300, , merge branch smp gleb patchset add smp support networking posix native stack implementation completely disjoint present api application speaking application api application expected create server socket cpu otherwise connection stuck reset,,
5945,304f6a317ec8463f83196e266aaae67680364db0,leb Natapov <gleb@cloudius-systems.com>, 2014-10-07 10:47:27 +0300, , run httpd available cpu,,
5946,2a662af09259b8b3fb2b3c4c697a46e92263b340,leb Natapov <gleb@cloudius-systems.com>, 2014-10-07 10:47:26 +0300, , forward received packet according classification,,
5947,cc9146403dff5bef4cbd3c20ba0c0b18a7dec4aa,leb Natapov <gleb@cloudius-systems.com>, 2014-10-07 10:47:25 +0300, , proxy net interface one cpu talk virtio nic directly least without multiqueue cpu receive packet one drive virtio forward packet need send back done proxy net interface,,
5948,c8ffffa557f8571ca3fc37553ece30ea74f73903,leb Natapov <gleb@cloudius-systems.com>, 2014-10-07 10:47:24 +0300, , add packet free_on_cpu function packet processed cpu one allocates fragment free_on_cpu function called cpu doe processing return packet deletable current cpu done copying packet packet impl locally allocated one adding new deleter run old deleter original cpu,,
5949,4e7d8a8506782fc3166d5f370c70b46566e72964,leb Natapov <gleb@cloudius-systems.com>, 2014-10-07 10:47:23 +0300, , introduce packet classification mechanism classifier return cpu packet processed may return special broadcast identifier patch includes classifier tcp udp arp arp classifier broadcast arp reply cpu default classifier doe forward packet,,
5950,0b59abafa700ebeafc042ecfbe09e91b9fc3f5d3,leb Natapov <gleb@cloudius-systems.com>, 2014-10-07 10:47:22 +0300, , add net device l2inject function need later handle forwarded packet also save net device pointer thread local variable get device instance easily ill one device per cpu change something sophisticated,,
5951,19addf6e6491923a2d005343c9e08b896211912f,leb Natapov <gleb@cloudius-systems.com>, 2014-10-07 10:47:21 +0300, , implement smp handling posix networking stack idea one thread open listen socket run accept thread emulate listen accept waiting connected socket main thread main thread distributes connected socket according round robin pattern patch introduce new specialization network_stack respectively _ap_ stand auxiliary processor,,
5952,526312253f87c607877de232917805586cd26525,leb Natapov <gleb@cloudius-systems.com>, 2014-10-07 10:47:20 +0300, , introduce smp main_thread function sometimes need know running main thread engine initialization engine._id available function used,,
5953,850545df6d27ea26059732a0be166ca9a6828f0a,leb Natapov <gleb@cloudius-systems.com>, 2014-10-07 10:47:19 +0300, , catch exception app template print exit program gracefully,,
5954,20dcbbd12d8632d22d3f6b913db6bcad61ebd0b8,leb Natapov <gleb@cloudius-systems.com>, 2014-10-07 10:47:18 +0300, , provide engine exit call exit smp program gracefully,,
5955,5ca6ddc281e4457b8a4bbaf17912d7c386d7e90d,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-10-06 15:08:00 -0300, , reactor introduce reactor stat basically wrapping stat around _thread_pool might block waiting metadata read underlying device signed raphael carvalho raphaelsc cloudius systems.com,,
5956,4a080eb008a71c374dc2b12666dac9d8aab76b99,vi Kivity <avi@cloudius-systems.com>, 2014-10-06 21:30:49 +0300, , core switch spsc_queue interthread communication much faster normal queue,,
5957,daca47af67177709f94b0f4064dc025564b3c36d,vi Kivity <avi@cloudius-systems.com>, 2014-10-06 20:00:28 +0300, , merge branch tgrabiec udp github.com cloudius system seastar dev posix native udp tomek,,
5958,e4d55258c11107bcaf6980aaf9f0f395c76bcd30,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-30 14:19:38 +0200, , test add udp test start server build release test udp_server start client build release test udp_client server localhost 10000,,
5959,f907f6a99956a4dcd15e1fe96cc38bd830da928d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-19 16:36:09 +0200, , reactor add getter network stack,,
5960,ba49d24b01a181204d94e78e5d33450159517989,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-24 11:12:31 +0200, , net add support udpv4 native posix stack,,
5961,cf7a084457911a8dbf5b4b14dfe97bcf5a037027,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-24 11:01:12 +0200, , core move networking abstraction net api.hh,,
5962,3775dae6fb0056a83fc4e865ec72e3912a9d7f28,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-19 16:29:32 +0200, , net convert ipv4_addr.host array uint32_t easier convert format native stack work,,
5963,623129b45b98e7a67f286cf778f87390336d0bd8,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-16 13:59:09 +0200, , net add packet constructor accepts static data,,
5964,269b05afc2e16a0dd157ba9554561f765d084628,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-01 18:16:32 +0200, , core add queue push_eventually asynchronous version blocking push,,
5965,57bc48ddbb1ddceff902ff2d01d9a5476d0656c9,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-17 17:03:30 +0200, , core add queue pop_eventually asynchronous version blocking pop,,
5966,b27b200e943c151d67a7e2717983ef6d9ee317de,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-06 18:13:37 +0200, , virtio simplify rxq buffer preparation,,
5967,b255039284b518458c8c02657fd5711eaa69d8e8,vi Kivity <avi@cloudius-systems.com>, 2014-10-06 18:17:11 +0300, , build add flag dropped accidentally,,
5968,5db2c1b506d2f570a50cf723c02dbfb4ba77ced4,adav Har'El <nyh@cloudius-systems.com>, 2014-10-06 14:28:26 +0300, , build compile time option use default memory allocator add compile time option use existing memory allocator malloc friend instead redefining option workaround needed run seastar osv without workaround seems happen code compiled kernel notably standard malloc inline code compiled seastar seastar free try free memory resulting spectacular crash signed nadav har nyh cloudius systems.com,,
5969,90d99c4009b34b192ca1d04eff36b06368c7b801,adav Har'El <nyh@cloudius-systems.com>, 2014-10-03 01:42:05 +0300,352, build add option compile pie first step journy many mile able run seastar application httpd memcached top osv patch add configure.py option build application shared object instead executables also add option pie build position independent executables instead needed run seastar application osv osv run normal position dependent executable note currently pie actually work osv bug 352 unfortunately seastar thread_local one place useful build application run osv resulting shared object yet run osv many bug ahead well missing feature start signed nadav har nyh cloudius systems.com,,
5970,255c3ec7a732206e876107d4430acc297e48e3eb,vi Kivity <avi@cloudius-systems.com>, 2014-10-05 21:08:12 +0300, , reactor.hh get rid errant include,,
5971,20c27ceebd003ae1d4ddd1005785f565a123c609,vi Kivity <avi@cloudius-systems.com>, 2014-10-05 20:49:37 +0300, , build properly quote configure parameter,,
5972,00fc8fb38aa9bf1cc46ec80ea0e268a28a19eedb,vi Kivity <avi@cloudius-systems.com>, 2014-10-05 20:46:18 +0300, , build split cflags cflags ldflags clang dislike cflags given linker unfortunately mean option need repeated,,
5973,2b12c13055d2f2eaeb2e9641f227bccbf7a77aec,vi Kivity <avi@cloudius-systems.com>, 2014-10-05 20:24:00 +0300, , memory support sized deallocation n3778 compiler provide size object avoid looking page array unfortunately implemented clang moment,,
5974,0019c858a6faad7e5e4bb5b132c9039024502a56,vi Kivity <avi@cloudius-systems.com>, 2014-10-05 20:05:41 +0300, , readme remove gperftools unneeded,,
5975,fa6b731a689488bd4f23a80fab08eb5d98057bb2,vi Kivity <avi@cloudius-systems.com>, 2014-10-05 19:58:55 +0300, , merge branch memory patchset add memory allocator inspired tcmalloc paritions memory per cpu pool allows allocation local memory result efficient,,
5976,9cd0e4f4056fe196eeb8ffebc3aca57ae4b4fc39,vi Kivity <avi@cloudius-systems.com>, 2014-10-02 14:16:32 +0300, , memory improve allocation density instead rounding power two four equally spaced region power two example 1024 1280 256 1536 256 1792 256 2048 256 2560 512 3072 512 3584 512 4096 512,,
5977,3db75b272e6c0d56776eb14f53e41e3ad84732eb,vi Kivity <avi@cloudius-systems.com>, 2014-10-02 14:15:58 +0300, , bitops mark function constexpr luckily gcc builtins also constexpr,,
5978,e42158aea695d59b61cf1f386100c6e152bb50f6,vi Kivity <avi@cloudius-systems.com>, 2014-10-02 13:02:50 +0300, , memory small allocation support allocate small object within span minimizing waste object size class pool freelist overflow free object pushed span span completely free returned main free list,,
5979,c407f5e0910c20c2910c8bf58cbefa3d0f0bc348,vi Kivity <avi@cloudius-systems.com>, 2014-10-02 10:18:48 +0300, , memory hook standard library allocation function,,
5980,b849b6b4cd9fc8ca27a9e4e0074c935ff973b61a,vi Kivity <avi@cloudius-systems.com>, 2014-10-02 10:18:23 +0300, , memory add support aligned large allocation,,
5981,86c0b7b7c9423688a5e1ff934e1ade625ea74ac0,vi Kivity <avi@cloudius-systems.com>, 2014-10-01 18:52:55 +0300, , memory add per cpu memory allocator largely inspired tcmalloc simpler support small allocation moment,,
5982,8806fbd4d4bba89ce62050406e5997006f466c85,vi Kivity <avi@cloudius-systems.com>, 2014-10-05 18:07:31 +0300, , smp use posix_thread instead std thread friendlier towards allocator support malloc free different cpu,,
5983,4e9f7804c95a7842a4e905aca64f42c06c033fdc,vi Kivity <avi@cloudius-systems.com>, 2014-10-02 13:10:20 +0300, , core switch thread_pool posix_thread std thread allocates interferes seastar memory allocator support allocation worker thread,,
5984,50c4dcbd5f55965cd4144c19af7c0945cad05dd5,vi Kivity <avi@cloudius-systems.com>, 2014-10-05 18:05:38 +0300, , posix posix_thread allocate stack manually otherwise stack allocated creating thread destroyed created thread support,,
5985,08706fcc6d7bac3dfe27e2f99542db41e71829f2,vi Kivity <avi@cloudius-systems.com>, 2014-10-05 18:04:18 +0300, , posix wrap mmap anonymous map automatically munmap result destroyed,,
5986,1cd888c4a912b05bfec8b65eeee131a0355265aa,vi Kivity <avi@cloudius-systems.com>, 2014-10-05 17:15:10 +0300, , posix move posix_thread implementation new source file,,
5987,10ea65cc0bf151d4788ca0a2fc836b2654c26241,vi Kivity <avi@cloudius-systems.com>, 2014-10-05 17:11:34 +0300, , posix support std move ing posix_thread useful storing container,,
5988,96c83e1bdd01c7f9827760cef9e0e07dd68ab941,vi Kivity <avi@cloudius-systems.com>, 2014-10-01 18:45:20 +0300, , posix add pthread wrapper std thread allocates memory want non allocating version worker thread,,
5989,1dbab3504cbee80427a99552f386f9316b651f6f,vi Kivity <avi@cloudius-systems.com>, 2014-10-01 18:45:05 +0300, , posix add missing includes,,
5990,5bc6f8911b4996f7c0d2c3ef87398c6d53108152,vi Kivity <avi@cloudius-systems.com>, 2014-10-01 18:46:24 +0300, , build define debug debug build,,
5991,7a16599f70c99b62c322025696c78027da9c576c,vi Kivity <avi@cloudius-systems.com>, 2014-10-01 18:44:35 +0300, , core add bit operation library,,
5992,a597379db89c98e4e4fadb7ce1d0735f9c4beb9c,vi Kivity <avi@cloudius-systems.com>, 2014-10-01 18:44:07 +0300, , core add align_down,,
5993,0bbd42bc638af018def4b75102c1bedc8cbc13e1,vi Kivity <avi@cloudius-systems.com>, 2014-10-01 15:56:55 +0300, , core extract align_up include file,,
5994,ef96af29f2e645ab7b60971eb61516025ffd045b,vi Kivity <avi@cloudius-systems.com>, 2014-10-05 15:44:09 +0300, , future avoid generalized lambda forward_to crash gdb,,
5995,4cc5ce93de6f9552d2325cbe78adf43d2268258c,vi Kivity <avi@cloudius-systems.com>, 2014-10-05 09:59:43 +0300, , merge branch tgrabiec virtio back pressure github.com cloudius system seastar dev back pressure virtio rest stack plus removal virtio queue tomek conflict net virtio.cc,,
5996,d08b1dcacda125b18b3b7fe54c045735a96f6950,adav Har'El <nyh@cloudius-systems.com>, 2014-10-02 10:24:53 +0300, , readme say need run configure.py add readme instruction run configure.py ninja build work build.ninja file missing signed nadav har nyh cloudius systems.com,,
5997,05aece51dc7d4a8d80897a3255570eac2b7201da,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-01 18:27:28 +0200, , virtio remove intermediate queue currently send path buffer packet unbounded _tx_queue virtio ring queue would suffice though change also prpagates back pressure resulting queue full condition send path needed becasue otherwise sender faster network eventually run memory would also cause buffer bloat effect hurt latency sensitive workload,,
5998,076d3b2682c4c79600825b1732544f8191484d6d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-01 16:36:13 +0200, , connect send action send action back pressure failure lower layer tranferred,,
5999,6fa9cd7ac92dc57d56765c97cb19d0b962a14034,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-26 15:23:32 +0200, , core introduce do_until keep_doing,,
6000,24aafbf8f9c87140f1ec9d4d187521196693962d,vi Kivity <avi@cloudius-systems.com>, 2014-10-04 10:16:44 +0300, , virtio reduce allocation transmit path reserve enough entry buffer chain store fragment,,
6001,0a3df514cb7d88d4c17697479210d96ab12a95de,leb Natapov <gleb@cloudius-systems.com>, 2014-10-02 11:11:41 +0300, , smp fix completion handling currently completion processing start object creation since object created main thread run cpu incorrect patch start completion processing correct cpu,,
6002,89147b253278266f3fec6645941e741a18c52e95,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-10-01 01:04:14 -0300, , fileiotest verify read size add assert dma_read return signed raphael carvalho raphaelsc cloudius systems.com,,
6003,534ce9b0dbf8eb91f23a30a03dbe878f8c1d4fb0,leb Natapov <gleb@cloudius-systems.com>, 2014-10-01 09:17:34 +0300, , packet use delegating constructor instead duplicating code,,
6004,1f44e71cb2b6371f0626ae76a36a804d2c8eb90d,vi Kivity <avi@cloudius-systems.com>, 2014-09-30 19:11:56 +0300, , virtio switch circular_buffer,,
6005,98665bf944dc4438085694da688c99af2f898e0b,vi Kivity <avi@cloudius-systems.com>, 2014-09-30 19:11:03 +0300, , reactor switch _pending_tasks circular_buffer let get rid double buffering since pop task one end inserting,,
6006,2d012e1df8d800e87e244ea04e43c29c0672fd07,vi Kivity <avi@cloudius-systems.com>, 2014-09-30 19:10:34 +0300, , queue switch circular_buffer,,
6007,c8b602e7133d8508bbe9186fb38b127a72ba2b24,vi Kivity <avi@cloudius-systems.com>, 2014-09-30 19:10:14 +0300, , httpd switch circular_buffer,,
6008,df32573bf28b4670175b49ea90777e341c743842,vi Kivity <avi@cloudius-systems.com>, 2014-09-30 19:09:40 +0300, , tcp mark connection noexcept move constructible,,
6009,bc8a940dfaa37b021bb1f7f855d61bd85f19717a,vi Kivity <avi@cloudius-systems.com>, 2014-09-30 19:09:10 +0300, , packet mark noexcept move constructible,,
6010,dacf81745ebbccadd6e77fdf97ec1c0bb216ff1b,vi Kivity <avi@cloudius-systems.com>, 2014-09-30 19:06:54 +0300, , core add circular_buffer since lot queue need efficient queue structure esp moveable type libstdc std deque quite hairy boost assignment instead constructor slower available constructor patch implement growable circular buffer need,,
6011,42db87a8c2fc7e9b8f3df6146ffbab8f00d0499f,vi Kivity <avi@cloudius-systems.com>, 2014-09-30 19:02:27 +0300, , core add helper function transferring object transferring defined moving object new location either via move copy constructor destroying source useful implementing container,,
6012,26f78f97f4f4ec4d7dd10962ea82b298e1443a93,vi Kivity <avi@cloudius-systems.com>, 2014-10-01 16:34:21 +0300, , merge branch tgrabiec arp github.com cloudius system seastar dev arp related fix including many core update,,
6013,73413748a735b71ef074d3c11535d47d72301695,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-30 09:46:09 +0200, , arp limit number waiting request currently waiter queue grow infinity pretty quickly,,
6014,a435a0561d370dca4180c7c08408148e9333a028,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-29 22:05:51 +0200, , arp fail request timeout,,
6015,281d986c341147e2c3c12c7c07b49a959d470e42,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-26 14:15:18 +0200, , arp retry lookup request every second bridge forwarding delay ignore request time retry request eventually get response,,
6016,04b53b7498592baaac153e693ed3f189fe59e093,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-25 14:24:39 +0200, , make send composable allows caller compose action send done fails,,
6017,86246a4c0e715961cd9e10d63f771a6dad1acf86,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-30 20:10:36 +0200, , test add test bug error propagation future,,
6018,6fa321288802e898ce20c267453ea5846f572e65,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-30 13:55:27 +0200, , core fix missing error propagation intermediate future involved test case added next patch promise promise auto p1.get_future .then std move p2.get_future mutable return std move future fail .then never reached  p1.set_value std runtime_error boom get resolved eventually error,,
6019,6f1d1d6627e7c3e2f64495aecc48de1492df6aa0,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-01 13:09:15 +0200, , test add test future rescue,,
6020,0269fd6f159853e7288fcb114678168a13a82415,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-30 19:59:04 +0200, , test add test future finally,,
6021,d9bf08c1b3e142b50281123c71891eacfaa1cc86,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-30 19:26:53 +0200, , core introduce future finally callback passed executed future get resolved successfully returned future mimic state target future,,
6022,fcb55c1f0489a78b4671b557be7d739e7b9b9480,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-30 20:13:40 +0200, , core introduce future forward_to cause future resolved target promise resolved state,,
6023,07d6df11a832fbbca4dc19dd7127c626cb9cb66f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-30 20:18:48 +0200, , core introduce work exception object,,
6024,125a696d6cb0fdbda10580d8f531500893302ca2,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-30 20:15:58 +0200, , core introduce promise set_exception work exception object,,
6025,061bccd084feba94e5c00ef112b39f8302904f03,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-29 21:23:40 +0200, , core timer add support periodicy simplifies client side periodic timer,,
6026,48a86b70732df4ee32bd8fc40f13b80671e57602,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-26 14:43:17 +0200, , core make timer callback synchronous state change allows simpler client code client assume cancel return callback run thus need handle race timer teardown execution callback,,
6027,9a0ab2f1a407ad31c0f1b05452507e16e3f6103f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-30 13:38:00 +0200, , test introduce basic utility used test,,
6028,eeea3640f2e0ba46d6a793022aa65ae9b9a1e23f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-30 13:53:34 +0200, , core make future rescue return future allow compose rescue like,,
6029,5f2e06beda6e7e9c114ce43837f26288adc7687e,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-30 13:48:39 +0200, , core make future result obtainable via future rescue allow user one handler success failure simplifies client code bit path need work object split function two callback one passed rescue resulting promise would make necessary wrap object shared_ptr suboptimal,,
6030,4f5059fa758a15725364363fe9f7276ff9ed0792,vi Kivity <avi@cloudius-systems.com>, 2014-09-30 21:29:53 +0300, , app template support configuration file .config seastar seastar.conf,,
6031,475c9a39dcde6638429e951aef8fe0351fddbefb,vi Kivity <avi@cloudius-systems.com>, 2014-09-30 20:11:44 +0300, , tcp fix fin handling advance sequence number fin acknowledged sent  fix fin storm connection closed,,
6032,ca9019cdfed4592ddd47c5e5409d2a7c9fdecd9c,sias He <asias@cloudius-systems.com>, 2014-09-30 15:53:34 +0800, , virtio rename std vector vring buffer_chain ret vbc make naming consistent,,
6033,4db98d515973a32c4f6188e068adca457153bba0,sias He <asias@cloudius-systems.com>, 2014-09-30 15:38:14 +0800, , virtio fix ring size fix error tcp_test terminate called throwing instance boost clone_impl boost boost bad_any_cast boost bad_any_cast failed conversion using boost any_cast,,
6034,3daee77c9e2d93898bc63b9ebc6c05fb811679fc,vi Kivity <avi@cloudius-systems.com>, 2014-09-30 10:43:46 +0300, , build support configuring compiler,,
6035,404cabc645eae6ef2e03df39e3abf8e77a4e89c0,vi Kivity <avi@cloudius-systems.com>, 2014-09-30 10:43:16 +0300, , build list required library explicitly clang add library add explicitly,,
6036,4f83aab5f02b635862b4f9e30ba22f3522c8d711,vi Kivity <avi@cloudius-systems.com>, 2014-09-30 10:43:01 +0300, , ragel remove unused variable,,
6037,9cbd099fe516df835206302a93f612c47f1f4724,vi Kivity <avi@cloudius-systems.com>, 2014-09-30 09:34:32 +0300, , readme dockerfile update ragel,,
6038,3ea40b2848ab326b6f6ff8ee3497cecdabb14995,vi Kivity <avi@cloudius-systems.com>, 2014-09-29 17:53:04 +0300, , core get rid input_stream _scanned input_stream read_until gone really needed,,
6039,cd27c4342dfaadd3d5d930750a3316a6e39b37d9,vi Kivity <avi@cloudius-systems.com>, 2014-09-29 17:41:56 +0300, , core drop input_stream read_until superceded consume,,
6040,1472c245330bd7c40efedc27115ff797e6025810,vi Kivity <avi@cloudius-systems.com>, 2014-09-29 14:27:41 +0300, , httpd replace custom parser ragel based parser,,
6041,9b2290228be6436b75bbe6f4ecb4d2d85d520ccf,vi Kivity <avi@cloudius-systems.com>, 2014-09-29 14:24:48 +0300, , core add infrastructure building ragel parser,,
6042,7724a616fdf69b9a3f606e5a8c541c9eb124c332,vi Kivity <avi@cloudius-systems.com>, 2014-09-29 14:25:29 +0300, , core add input_stream consume method intended request parser receives stream temporary buffer determines parsing done point return unconsumed partial buffer back input stream intended replacement read_until since parse single pas,,
6043,1f4c063c58ba2e1898182c0cfb76d720abf461f6,vi Kivity <avi@cloudius-systems.com>, 2014-09-29 15:11:28 +0300, , build make static option use full static linking libstdc runing pre glibc2.18 host like impossible without downside developer download build install static version libtcmalloc libaio,,
6044,ca0a0b60e1c4ddb724b000f0df0822e41e594aef,leb Natapov <gleb@cloudius-systems.com>, 2014-09-28 13:19:51 +0300, , smp fix smp submit_to handle submission local cpu handle submission local cpu executing function immediately returning ready future,,
6045,4c51d387d7fcfb5e87d994e4310ed8731db9ceaf,leb Natapov <gleb@cloudius-systems.com>, 2014-09-28 13:19:50 +0300, , smp remove debug output,,
6046,9a0d0336b5f02b58f818986e3271d72f526a235d,vi Kivity <avi@cloudius-systems.com>, 2014-09-24 14:01:06 +0300, , virtio allow tuning ring size,,
6047,cff8cb353a9b4712f1bc4c6a510bb655b9da34b2,sias He <asias@cloudius-systems.com>, 2014-09-28 11:29:34 +0800, , net add netmask option,,
6048,7ab735d3c760e112209564797e3a32f799478d24,sias He <asias@cloudius-systems.com>, 2014-09-28 11:29:33 +0800, , net gateway support,,
6049,099c4cfcc25493f61176345fae3be25792935979,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-25 19:11:15 +0200, , core get rid reactor _next_timeout timer_set maintains next timeout need duplicate also fix potential issue upon timer expiry timer pending update _next_timeout result timer updated upon next arm,,
6050,ac7b3921f85371ae44b513fa1e7d041692b26250,vi Kivity <avi@cloudius-systems.com>, 2014-09-25 17:58:07 +0300, , readme fix typo future introduction,,
6051,5c7df1bebc412b9750728417bc9edb904ef53ba3,vi Kivity <avi@cloudius-systems.com>, 2014-09-25 17:57:08 +0300, , readme update wrt disappearance makefile,,
6052,ec616d7ae554fb90b4bf400c6e629a09ef0ffc55,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-25 14:35:43 +0200, , arp add missing host network conversion caused arp request seastar dropped,,
6053,c5d623265d9f70bd1454c47da92b182bfe59a7dc,sias He <asias@cloudius-systems.com>, 2014-09-25 20:23:54 +0800, , net support ping,,
6054,812fe7b0ae569beb00f5bff07a51e3430aec7a83,vi Kivity <avi@cloudius-systems.com>, 2014-09-25 13:46:53 +0300, , build remove makefile,,
6055,24780a8a8a5a2f2b3e7b0022ea7ba5b9e13201b6,vi Kivity <avi@cloudius-systems.com>, 2014-09-25 13:46:17 +0300, , build move cscope rule ninja,,
6056,a17d216d034435ee8d195cc64a6f0f7cd1bfe719,vi Kivity <avi@cloudius-systems.com>, 2014-09-25 13:24:20 +0300, , build add debug release target build artifact build mode,,
6057,eda11080cbdb44f4127fd6dc08eac0759e36145e,sias He <asias@cloudius-systems.com>, 2014-09-25 16:36:02 +0800, , virtio check tcp packet using ip_hdr ip_proto signed avi kivity avi cloudius systems.com,,
6058,4bd9f4d49d0869d599b7c1a6734801efda0064d5,sias He <asias@cloudius-systems.com>, 2014-09-25 16:41:20 +0800, , net always check header checksum virtio net tcp checksum offload header checksum offload signed avi kivity avi cloudius systems.com,,
6059,8081c4fd18f5a143246147d68237d635ad212000,vi Kivity <avi@cloudius-systems.com>, 2014-09-24 16:18:09 +0300, , build add way insert additional compiler flag,,
6060,4f94fc46ce2b0e870db0dbc52a1e4c54149e9ee7,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-24 14:08:03 +0200, , httpd use app_template,,
6061,1c58e8e45bc61520b4708271a71c22c79c58aeb0,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-24 14:08:02 +0200, , core introduce application template,,
6062,1ac98c475f69fac9932b3bf81c9f18174b785852,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-24 14:08:01 +0200, , build add way specify list build artifact want build eveything narrow list artifact liek configure test test reactor apps httpd httpd,,
6063,740e0d59bc18ff690246dce5d4fdffad9c6ef904,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-24 14:08:00 +0200, , build convert file list list awkward concatenate list string file list prone merge conflict also make split call unnecessary,,
6064,630d57146c9af7a81beac317190b878bcf4e371a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-24 14:07:59 +0200, , build add mode option configure.py default debug release binary built make build take longer necessary rarely needed version development build one configure mode debug ninja,,
6065,0141171dae474a3516b54a139d4412241a67f8dd,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-24 14:07:58 +0200, , build make ninja.build depend configure.py,,
6066,736b07b2b6366279aacb9c702d814c13d75587ad,leb Natapov <gleb@cloudius-systems.com>, 2014-09-24 12:29:20 +0300, , run http smp patch show change needed http run multiple event loop useful still actual work yet distributed,,
6067,074bc17c71b00681d866c3d874b77b3f9b2b94d3,leb Natapov <gleb@cloudius-systems.com>, 2014-09-24 12:29:19 +0300, , stop smp thread sigint execute stop function thread sigint join exit,,
6068,6253166d0bad2fe70819f6e644c615914a4703b5,leb Natapov <gleb@cloudius-systems.com>, 2014-09-24 12:29:18 +0300, , extend support messaged without return value,,
6069,0a93385a4d2794be3ee163765c26082c58fc2ddd,leb Natapov <gleb@cloudius-systems.com>, 2014-09-24 12:29:17 +0300, , add smp support patch add ability specify much thread seastart spawn thread run instance event loop separate communication channel created pair thread,,
6070,0c7d511858c9e90a218bf809c0029cf7c0a559c7,leb Natapov <gleb@cloudius-systems.com>, 2014-09-24 12:29:16 +0300, , allow creation vice versa needed two seastart thread get two sided file communication,,
6071,a452ede21e03820a2f187ad341c66194967bcc0e,leb Natapov <gleb@cloudius-systems.com>, 2014-09-24 12:29:15 +0300, , remove unneeded friend declaration,,
6072,cfbfce3d6d3ad253b49133367c841da15df8ff38,leb Natapov <gleb@cloudius-systems.com>, 2014-09-24 12:29:14 +0300, , separate thread_pool currently thread_pool implement cross thread communication channel internally separate communication logic class reuse smp communication later patch,,
6073,236418d262a66a259652cdb3cd2cd16f5fd0f074,sias He <asias@cloudius-systems.com>, 2014-09-24 15:21:19 +0800, , net support tcp checksum offload give httpd improvement monster csum offload option added e.g. disable httpd network stack native csum offload,,
6074,0fb796a6c457585987433a2b613087b26320aaac,vi Kivity <avi@cloudius-systems.com>, 2014-09-24 10:54:32 +0300, , tcp store empty packet unacknowledged queue,,
6075,d7737b34d725a047aa2067407d7d516757af184f,vi Kivity <avi@cloudius-systems.com>, 2014-09-24 10:52:22 +0300, , tcp optimize simplify many possible state unsent queue empty return empty packet one small packet dequeue return one large packet head split return many packet starting small one merge first split last,,
6076,a1f3708fabdf4914df156f1571281a60d331804b,vi Kivity <avi@cloudius-systems.com>, 2014-09-23 18:57:11 +0300, , packet optimize sharing move reference counting deleter core instead relegating shared_deleter allocated external reference counted also allocated dramatically reduces dynamic allocation,,
6077,26d713e3412f89ad50bdf6cdf820d1e2a2109fbf,vi Kivity <avi@cloudius-systems.com>, 2014-09-23 18:10:10 +0300, , remove,,
6078,9994e09792734df16a70b4a49f878934ea30ddcb,vi Kivity <avi@cloudius-systems.com>, 2014-09-23 18:08:46 +0300, , stop using much point since packet use,,
6079,75f07adb69624a0dedd31bddb09dbb1ae01c5a19,vi Kivity <avi@cloudius-systems.com>, 2014-09-23 18:02:18 +0300, , packet store header data inside packet instead using unwieldy store header data inside packet impl allocating anyway add complication need reallocate impl number fragment overflow usually save two allocation one one data,,
6080,e223f748ecad648e045065370710f1b69f747d59,vi Kivity <avi@cloudius-systems.com>, 2014-09-23 11:15:31 +0300, , core great deleter rename deleter share causing massive amount allocation first since usually packet deleter shared_deleter need allocate shared_deleter second need external reference count requires yet another allocation making reference counting part deleter class would solve problem easily since user hold std unique_ptr deleter clearly sharable could massive unique_ptr shared_ptr would side effect making sharing easy simply copy pointer like keep explicit make change easier rename existing unique_ptr deleter plain deleter whereas old deleter becomes deleter impl old name new name  deleter deleter impl unique_ptr deleter deleter exactly semantics later patch add explicit sharing,,
6081,c096787c8cd8f2f363d6aeb12872bc54437f7a3b,vi Kivity <avi@cloudius-systems.com>, 2014-09-23 10:36:37 +0300, , net specialize single fragment data_sink put native stack save vector allocation loop,,
6082,bca61c198fe9a7274db3e4a37358b4288f067a63,vi Kivity <avi@cloudius-systems.com>, 2014-09-23 10:35:33 +0300, , core add non vectored data_sink put specialization often caller vector single buffer allow implementation optimize,,
6083,e76328b2c932fed58a7dadf26e29ab44dea49a9d,vi Kivity <avi@cloudius-systems.com>, 2014-09-23 10:34:55 +0300, , packet add zero copy single fragment constructor useful converting packet,,
6084,bddbb3d938b609a3e61f7c1ae9ff266d10234a54,vi Kivity <avi@cloudius-systems.com>, 2014-09-23 10:19:29 +0300, , add release method allows caller take responsibility deleting data useful different data structure use deleter infrastructure,,
6085,96cc1440a8fa373e7994dd1588d36242633df4f6,vi Kivity <avi@cloudius-systems.com>, 2014-09-22 19:08:08 +0300, , build disable lto unstable,,
6086,9816422a6708d3ef050ca8767273baddc2012c81,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-22 19:23:48 +0200, , core fix sigsegv future fix sigsegv happens promise get resolved callback registerred via latter assumes _promise must nullptr state resolved yet dying promise move resolved state future local state,,
6087,ef03d2957fb6353ce428aef4b5c6c1db0d118b70,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-22 19:23:47 +0200, , core make cancel right event led hang client interleaved readable writable,,
6088,d131b4cce393419cdb7fe1b62cf61f1430e97043,vi Kivity <avi@cloudius-systems.com>, 2014-09-22 17:57:18 +0300, , packet optimize appending empty packet tcp doe quite often optimize trivial append moving packet,,
6089,f13149269536aa3d08fae62b1f394e4a4f05eede,vi Kivity <avi@cloudius-systems.com>, 2014-09-22 17:19:44 +0300, , tcp fix harmless struct class mismatch,,
6090,907792fe26664aff3d739a0e5588cbfb87f5a8fa,vi Kivity <avi@cloudius-systems.com>, 2014-09-22 17:19:15 +0300, , net ipv4 remove unused field please clang,,
6091,195ee5c82fa43d54e08e9d71f97b6e34e6ea655e,vi Kivity <avi@cloudius-systems.com>, 2014-09-22 17:18:46 +0300, , bitset make function inline please compiler,,
6092,46402831ae4873af4c95b610ae99ff5c286f5c30,vi Kivity <avi@cloudius-systems.com>, 2014-09-22 17:18:06 +0300, , httpd remove unused field make clang happy,,
6093,0dfdd3e5484032ee525c79f8c4cfa0409cdd3cbc,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-22 16:22:07 +0300, , use brace around subobject initialization seems issue std array initialization brace elision clang http question 16985687 brace elision stdarray initialization sprinkle enough brace make clang happy,,
6094,45506327386da1f360cc21c735b341d9ba94a0ef,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-22 16:22:06 +0300, , make inline function mark function inline avoid clang complaining unused function,,
6095,6dc0e9ba79f0c7aecb0819d26e579a94d2f5e576,vi Kivity <avi@cloudius-systems.com>, 2014-09-22 15:53:04 +0300, , packet fix allocation failure path since allocate impl custom allocator must provide custom deallocator case constructor throw found pekka clang,,
6096,9501601727d7c1e0b33e98356f917ba4960e6871,vi Kivity <avi@cloudius-systems.com>, 2014-09-22 15:44:54 +0300, , tcp checksum incoming packet obsoleted checksum offload good completeness,,
6097,abbc62588b701fa03b475e8f19b6af03b057f771,vi Kivity <avi@cloudius-systems.com>, 2014-09-22 15:46:35 +0300, , net checksum incoming ipv4 packet,,
6098,969892d66eccb60a94ec5d3be4f3060dc249719c,vi Kivity <avi@cloudius-systems.com>, 2014-09-22 15:44:17 +0300, , tcp fix ntoh hton mixup effect code clear mental wtf,,
6099,7f7a550f983fcf283bbf343ef74efb62fd08082b,vi Kivity <avi@cloudius-systems.com>, 2014-09-22 14:26:34 +0300, , net extend packet doubling fragment vector size avoid quadratic behavior,,
6100,4ca2d674068671a6b4492cc666281916420332c2,vi Kivity <avi@cloudius-systems.com>, 2014-09-22 14:22:17 +0300, , tcp_test terminate connection closed,,
6101,280bf1a5c86d2e5ed218cddbcf0c279989e8812a,vi Kivity <avi@cloudius-systems.com>, 2014-09-22 14:21:43 +0300, , tcp wait_for_data return immediately data available,,
6102,4c10d9c270d490077d4f9d90332dc7a799dea037,vi Kivity <avi@cloudius-systems.com>, 2014-09-22 14:14:37 +0300, , packet fix early free extending packet fragment vector run space extend forgot move deleter resulting early free flagged address sanitizer,,
6103,dd88f66825578905e327badd1dc6950c8ff1d812,vi Kivity <avi@cloudius-systems.com>, 2014-09-22 12:57:07 +0300, , tcp fix sequence number unacknowledged data kept sending sent sequence number previous packet use _send.next instead,,
6104,4ce192c3e013d4cd36fb860c164f184a23912ce5,vi Kivity <avi@cloudius-systems.com>, 2014-09-22 11:55:37 +0300, , net drop dropping packet message longer useful,,
6105,313768654ad297af85e76efa1881a7898b53740d,vi Kivity <avi@cloudius-systems.com>, 2014-09-22 09:44:49 +0300, , net remove queuing path use subscription instead queueing implemented highest possible level e.g tcp avoid double queueing,,
6106,bc8df099846f7af8aa82df7fddd6094e23b5c40a,vi Kivity <avi@cloudius-systems.com>, 2014-09-21 19:52:26 +0300, , virtio net remove internal queue,,
6107,4738f3f05c1a520ce0b5164f7fc750aa83a62a49,vi Kivity <avi@cloudius-systems.com>, 2014-09-21 19:23:58 +0300, , net switch device stream packet still internal queue,,
6108,af1c0155267d2a7a35a0cb16fbab6a09d5439257,vi Kivity <avi@cloudius-systems.com>, 2014-09-21 18:25:25 +0300, , core add stream subscription abstraction future promise pair single shot use make useful repetitive processing add stream subscription abstraction stream produce data repetitively consumed subscription end stream error condition provided future inspired dart stream class,,
6109,3b1d37ff2fefc937f0f06ddf7925b3b2e6788cf2,vi Kivity <avi@cloudius-systems.com>, 2014-09-22 09:41:59 +0300, , future implement available whole point future promise decouple producer consumer available generally useful however still useful special case want know got first one deciding drop packet consumer ready queue space available drop packet instead waiting consumer,,
6110,1d11ecfbcd4714c4d568ed1c44ee2df07dfba735,vi Kivity <avi@cloudius-systems.com>, 2014-09-21 19:52:04 +0300, , future implement move assignment,,
6111,64ce4570537bba247f78aaa243285268b76c1d84,vi Kivity <avi@cloudius-systems.com>, 2014-09-21 19:20:58 +0300, , future fix move constructor longer tracking promise either gone never existed update,,
6112,4dc70e95c7a50488516791209d10b85ab8584bc3,sias He <asias@cloudius-systems.com>, 2014-09-22 15:59:46 +0800, , virtio add event index option virtio net option event index arg enable event_index feature default event index enable disable e.g httpd network stack native event index,,
6113,1472e8f282892c1f33498646d352667009d71de0,sias He <asias@cloudius-systems.com>, 2014-09-22 15:59:45 +0800, , virtio add event index support,,
6114,588fe22a8b1fda8148f573ba3d737f50c77ff59b,leb Natapov <gleb@cloudius-systems.com>, 2014-09-21 12:32:02 +0300, , readme add libasan prerequisite,,
6115,b14e2069ebccd4dc8667828e71da8d4afb7e94be,vi Kivity <avi@cloudius-systems.com>, 2014-09-19 12:58:16 +0300, , build store build.ninja outside build directory preserve configuration option make clean also allows call ninja build directly,,
6116,eadac1f2a6059e4525c96a2298f0dd9055bb950e,vi Kivity <avi@cloudius-systems.com>, 2014-09-19 12:50:08 +0300, , build support using static libstdc useful building one host running another,,
6117,698d35da2ba7b0ecfc20c0967851c4c5cf80dbae,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-19 11:57:44 +0300, , dockerize development environment add dockerfile used build development environment seastar useful people want install package rawhide main development machine step use fedora install docker http docs.docker.com installation fedora sudo yum install docker sudo systemctl start docker sudo systemctl enable docker note edit etc sysconfig docker disable selinux support use btrfs build docker image docker build seastar dev launch docker instance seastar git repository located home seastar host docker run home seastar seastar seastar dev bin bash build seastar seastar make run application build release apps httpd httpd signed pekka enberg penberg cloudius systems.com,,
6118,a1bbe485704977b577a9ba8f518ba6384aa384db,vi Kivity <avi@cloudius-systems.com>, 2014-09-19 10:02:59 +0300, , readme document libubsan requirement,,
6119,18ca5e6047a6800f07f265d14b3e0a50b5ef8d32,vi Kivity <avi@cloudius-systems.com>, 2014-09-18 21:13:01 +0300, , build fix typo,,
6120,5be3fa082d0c06afd39fddf9178fbcb43daa2582,vi Kivity <avi@cloudius-systems.com>, 2014-09-18 21:10:02 +0300, , build make configure.py readable,,
6121,f98c99b210df670fe738927d933aee25ea0ac85c,vi Kivity <avi@cloudius-systems.com>, 2014-09-18 20:57:07 +0300, , build build everything default people break debug build randomly,,
6122,e56c54c55bf8b49ffa4d39f424edcf3f5354d1c6,vi Kivity <avi@cloudius-systems.com>, 2014-09-18 17:22:58 +0300, , build switch ninja make saner integrate code generator plus cool,,
6123,e7c470c5c788204108b93397a9fb77790ec0c7f1,vi Kivity <avi@cloudius-systems.com>, 2014-09-18 15:32:08 +0300, , readme fix loop example termination condition must chain tail call infinite loop noted gleb,,
6124,bf59db0ef03e6fd8b22ef5776eff4ca2d18ad3b1,vi Kivity <avi@cloudius-systems.com>, 2014-09-18 12:46:25 +0300, , tcp use pseudo header checksum calculate directly instead,,
6125,d04ebe833ac947070e054158d6799bd5babb8277,vi Kivity <avi@cloudius-systems.com>, 2014-09-18 12:45:45 +0300, , net allow direct checksum field without structure allows removing usage pseudo header,,
6126,4826970d250f9257148689bbc2d24881d2a6bcc5,vi Kivity <avi@cloudius-systems.com>, 2014-09-18 12:05:31 +0300, , net use __int128 partial value storage checksum make carry handling simpler compiler though able without help,,
6127,f6cb06a3cb8a17ebe7095b7b8242b2b426057577,vi Kivity <avi@cloudius-systems.com>, 2014-09-18 11:31:59 +0300, , net implement ip_checksum term checksummer class easier maintain partial checksum way later change,,
6128,4e76590ed60f496bad3f8105629d25708d1615a1,vi Kivity <avi@cloudius-systems.com>, 2014-09-17 17:52:02 +0300, , net allow configuring address,,
6129,3168a2fc7cbb77fc10e5ade42865cdf853d141b1,vi Kivity <avi@cloudius-systems.com>, 2014-09-17 17:44:58 +0300, , allow providing option configure network stack,,
6130,f81760aba7494b97888affcc1cce4d8a0200c295,vi Kivity <avi@cloudius-systems.com>, 2014-09-17 12:42:30 +0300, , spit file,,
6131,2f103a8558f28514465b66f3987f7cde954d8cca,vi Kivity <avi@cloudius-systems.com>, 2014-09-17 11:31:22 +0300, , packet reduce allocation fragment array instead std vector manage fragment array allocate end impl struct manage manually result pretty doe remove allocation,,
6132,804aec33fd640b21b8e7e7c1ce3f35a07b9cbeac,vi Kivity <avi@cloudius-systems.com>, 2014-09-17 09:49:39 +0300, , packet fix appending constructor actually append fragment,,
6133,82922fb6ff84f80480b7f340b31bc2b6524280eb,vi Kivity <avi@cloudius-systems.com>, 2014-09-16 19:44:21 +0300, , readme cosmetic,,
6134,efa0a124a183b7b475fac8daa39f603ff1f4d4ac,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-09-16 13:39:46 -0300, , add building instruction section readme file signed raphael carvalho raphaelsc cloudius systems.com,,
6135,32bfefa6b9085c08cee1abddf734adbb6fc527db,vi Kivity <avi@cloudius-systems.com>, 2014-09-16 19:26:53 +0300, , readme add section exception handling,,
6136,bafc6cb18e6588047ebe41404aa3d19e8205adfb,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-16 16:48:59 +0200, , add method check address wildcard,,
6137,53ce24c8508479572839cd1152d528091ab1820d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-16 16:48:58 +0200, , add method register protocol handler,,
6138,4311f5dafa7a63549fec24ee42a89b55e0a61e65,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-16 16:48:57 +0200, , array_map introduce,,
6139,791797669fc7b52837a80b7a13b59c5ec9c9c1fa,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-16 16:48:56 +0200, , net make offset default packet get_header simplify call site,,
6140,48ba89f06080097b6674fcfdc50bc7b631fcdf66,vi Kivity <avi@cloudius-systems.com>, 2014-09-16 15:50:35 +0300, , packet optimize move ing packet around move data field impl struct pimpl idiom move ing packet becomes cheap downside need extra allocation later recover placing fragment array structure even extra allocation performance,,
6141,37c90fe54e43991129ba87b49b1a8d2e11885ea2,vi Kivity <avi@cloudius-systems.com>, 2014-09-16 11:24:13 +0300, , net make packet data member private assist future refactoring,,
6142,5e2f1f0bc6fa511b8e251403f52d5d4d0e7a2b63,vi Kivity <avi@cloudius-systems.com>, 2014-09-16 10:24:28 +0300, , net spit checksum routine file,,
6143,812ac77d2f086c82730e400a1ad20aea691a8bd9,vi Kivity <avi@cloudius-systems.com>, 2014-09-16 10:13:09 +0300, , net spit packet class file,,
6144,52ab79753696dc1422e6bdb8c6a83fe19ae8c96d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-15 20:08:58 +0200, , rename engine start engine when_started imperative form suggests addition returning future performs action thus needed regardless whether want add callback fact doe anything give away future signed tomasz grabiec tgrabiec cloudius systems.com,,
6145,26a02f30c816ef5f4f1efc853ec0c8c5d1230346,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-15 19:59:24 +0200, , make fix build ubuntu needed need included library otherwise effect signed tomasz grabiec tgrabiec cloudius systems.com,,
6146,8b86f9d93cdfff7ad1f08d89232a51cceba0f340,vi Kivity <avi@cloudius-systems.com>, 2014-09-15 19:27:10 +0300, , net increase queue length 1000,,
6147,89827a3d92cc9bb0a7e4f523435ba683d0c86031,vi Kivity <avi@cloudius-systems.com>, 2014-09-15 19:24:52 +0300, , tcp implement delayed acks start timer processing loop control tcp input output input toggle arming state timer output clear unconditionally worth http benchmark since longer ack http get request instead coalescing response,,
6148,22e29a7001f48da5224d169ee8fa4071c76047dc,vi Kivity <avi@cloudius-systems.com>, 2014-09-15 19:23:41 +0300, , timer add accessor arming state,,
6149,8ca94a8ea8931ea6c8049658577e42b3eb4a2f49,vi Kivity <avi@cloudius-systems.com>, 2014-09-15 19:23:18 +0300, , timer disarm timer expiring,,
6150,f7a0a3cdc61d2ef9531a769ca224f6615791f726,vi Kivity <avi@cloudius-systems.com>, 2014-09-15 14:28:37 +0300, , future reduce allocation instead keeping future state heap storage referenced promise future task keep state promise future allocate heap last resort stack improves httpd throughtput,,
6151,e0c111563fd02efc900e66cdd0710375ad4e48c6,vi Kivity <avi@cloudius-systems.com>, 2014-09-15 09:50:13 +0300, , httpd simplify exception handler need rename still strange used maybe_done,,
6152,b81869e541c85679c6675c3d0a99523f0d070d9b,vi Kivity <avi@cloudius-systems.com>, 2014-09-15 09:43:15 +0300, , httpd use modern future chaining style need create temporary promise pas around instead use future chaining accomplish result,,
6153,fd8034ac945d527e263179f904bd3a3251a32c51,vi Kivity <avi@cloudius-systems.com>, 2014-09-14 20:03:27 +0300, , readme explain happens hood,,
6154,89ec8f2ae76f1dae9cff29771e3fa89a3d17d186,vi Kivity <avi@cloudius-systems.com>, 2014-09-14 16:58:27 +0300, , net fix checksum overflow reduction reducing checksum bit bit intermediate get overflow first overflow handling step  10_ffff 1_000f 0010 since lacked second step got one checksum,,
6155,752b12738cfeef307877b0c5881e7d2c63f9854e,vi Kivity <avi@cloudius-systems.com>, 2014-09-14 16:42:12 +0300, , tcp tighten initial ack handling initial ack contain data must match initial sequence number respond rst anything else,,
6156,3def4bc7d787b40cb2d4d53bb0309c3be866150e,vi Kivity <avi@cloudius-systems.com>, 2014-09-14 16:05:48 +0300, , tcp queue connection accepted current listen future connection interface new connection established connection handler able register port drop connection fix adding queue accepted connection switching standard listen accept future connection model,,
6157,4d28e910db33ca9b48858d9e9c5cf8b863093f20,vi Kivity <avi@cloudius-systems.com>, 2014-09-14 16:00:07 +0300, , net queue packet protocol level packet receiver able register packet receiver processing packet simply dispatched quickly enough drop packet add queue protocol layer buffer packet,,
6158,46c1683ceb0b9cb33f0a51882d48b7c66e47f502,vi Kivity <avi@cloudius-systems.com>, 2014-09-14 15:59:09 +0300, , tcp abort connection refused,,
6159,acd317157b8dc16b47b0bd8f73db5ba84660e26d,vi Kivity <avi@cloudius-systems.com>, 2014-09-14 15:57:39 +0300, , add future friendly queue template standard queue allows obtaining future queue empty condition consumer queue full condition producer,,
6160,9b294f28294c60e9849f3a7ec41812b36bf9d6dc,sias He <asias@cloudius-systems.com>, 2014-09-13 09:47:16 +0800, , httpd print port info startup signed asia asia cloudius systems.com signed avi kivity avi cloudius systems.com,,
6161,647a0cacd3aec0a8cd149d0c87714a88dd1f03f5,sias He <asias@cloudius-systems.com>, 2014-09-13 09:47:15 +0800, , net add ipv4_address string constructor set ipv4 address using dotted decimal form signed asia asia cloudius systems.com signed avi kivity avi cloudius systems.com,,
6162,92b9d5198c9898bee12a1e3b2a33062dc2ff2da4,sias He <asias@cloudius-systems.com>, 2014-09-13 09:47:14 +0800, , build add cscope target signed asia asia cloudius systems.com signed avi kivity avi cloudius systems.com,,
6163,9553ef779f32ddb76cd131e4716c17da86346c85,vi Kivity <avi@cloudius-systems.com>, 2014-09-12 23:18:34 +0300, , readme fix typo,,
6164,fbf043bf07b6b0b8c531743e28a1de118a1c322c,vi Kivity <avi@cloudius-systems.com>, 2014-09-11 20:24:34 +0300, , markdown fix yuch,,
6165,e43299463f2d62bb6799a6c98c1f2f5899df2a8a,vi Kivity <avi@cloudius-systems.com>, 2014-09-11 20:20:27 +0300, , fix github flavored markdown,,
6166,2310354c246e409b0638c57761e65357c97e35fb,vi Kivity <avi@cloudius-systems.com>, 2014-09-11 20:19:06 +0300, , convert github flavored markdown,,
6167,178aa39d329a3e5d7ea98acf2f54a83229f3d06c,vi Kivity <avi@cloudius-systems.com>, 2014-09-11 20:12:27 +0300, , add readme,,
6168,cbcfbf86ca5af6109a0ff68043aa9f202d78e125,vi Kivity <avi@cloudius-systems.com>, 2014-09-11 17:37:34 +0300, , tcp respond rst packet,,
6169,b68aa3080edb88944122631a04b1fbb4748f1669,vi Kivity <avi@cloudius-systems.com>, 2014-09-11 17:35:59 +0300, , tcp send rst packet network byte order,,
6170,42843b0286760d83faeb9c4636929ce09f36aead,vi Kivity <avi@cloudius-systems.com>, 2014-09-11 17:35:24 +0300, , tcp rst packet received connection,,
6171,663ba971ba5d7fdbb867fe0a531cc742d6835c38,vi Kivity <avi@cloudius-systems.com>, 2014-09-11 14:46:56 +0300, , tcp drop acknowledged packet send queue keep resending find http server keep resending reply much else,,
6172,7c7eebbab4e860c95e68ba042d4c334e389c6481,vi Kivity <avi@cloudius-systems.com>, 2014-09-11 13:03:59 +0300, , virtio fix overzealous vring completion complete function loop around waiting notification cleaning ring happen however also call produce time happens start another loop background leaking memory fix splitting complete do_complete loop complete doe call do_complete produce loop,,
6173,b39ab60a4fd1f298d215c4828563cc7542127b43,vi Kivity <avi@cloudius-systems.com>, 2014-09-11 12:41:35 +0300, , core allow ignoring sigint debugger work handle sigint provide way handling,,
6174,8121741973c106ff4cc800cc919ceb8375ffcd41,vi Kivity <avi@cloudius-systems.com>, 2014-09-11 12:23:25 +0300, , core move startup code reactor constructor run method let change thing parameter provided configure,,
6175,28e457db92be84cd71a8ba63ea60750d28f0903a,vi Kivity <avi@cloudius-systems.com>, 2014-09-11 12:08:04 +0300, , build use tcmalloc release mode,,
6176,ef0c3dcc7d69c8fdb6b8be0d16196ce31c20bd49,vi Kivity <avi@cloudius-systems.com>, 2014-09-11 11:51:16 +0300, , arp reduce console chatter,,
6177,5af55ac97593134f5136100fab00d5b59aecceab,vi Kivity <avi@cloudius-systems.com>, 2014-09-11 11:38:03 +0300, , virtio fix descriptor leak free first descriptor descriptor chain causing starvation fix freeing entire chain,,
6178,d3fa5996f3fdf2cab9a34425eba273a33a78757b,vi Kivity <avi@cloudius-systems.com>, 2014-09-11 11:37:35 +0300, , tcp support local close queue fin send possible,,
6179,67fc9dfe9a84290cb3f749499a91e3def12a1b12,vi Kivity <avi@cloudius-systems.com>, 2014-09-11 11:35:02 +0300, , net fix eof reporting native data_source adapter empty packet signal end stream ignored note empty packet report caller,,
6180,1623d928da5a3a2becd39483ca59101a89377357,vi Kivity <avi@cloudius-systems.com>, 2014-09-11 11:36:39 +0300, , tcp report foreign fin upper layer let caller know data,,
6181,16731cbd39494feb0c5aa60b2186481551ad8747,vi Kivity <avi@cloudius-systems.com>, 2014-09-10 18:33:59 +0300, , tcp fix data segment already fully acknowledged case trim med packet length bad,,
6182,8fe20173c285fcea03e0850703b0ed06ac9824e0,vi Kivity <avi@cloudius-systems.com>, 2014-09-10 18:15:54 +0300, , tcp improve fin processing accept fin within receive window otherwise rst process order fin otherwise drop,,
6183,e28f87ec8a7184b07df66c7721fd1fa1fb562cc9,vi Kivity <avi@cloudius-systems.com>, 2014-09-10 17:58:09 +0300, , tcp add rst response,,
6184,b6d85fc6a65bae31c63ef435554bb783c2ae4ab8,vi Kivity <avi@cloudius-systems.com>, 2014-09-10 15:46:33 +0300, , the_reactor engine thing named engine faster,,
6185,e0d7b5f1f6ed4b0a578bec649b68a86087dc28b9,vi Kivity <avi@cloudius-systems.com>, 2014-09-10 15:45:23 +0300, , networking network ,,
6186,c0f87bbf408f9004c48336d6049140a66a714a6d,vi Kivity <avi@cloudius-systems.com>, 2014-09-10 15:42:24 +0300, , net fix byte order confusion listen posix sockaddr_in give port network byte order,,
6187,430acf71094fb8cfa22d2a02c3048c1a9a058d17,vi Kivity <avi@cloudius-systems.com>, 2014-09-10 15:41:51 +0300, , net set native network stack correctly start interface set address,,
6188,bb26a0c08a6508f48a2fdfd8abde418511fab130,vi Kivity <avi@cloudius-systems.com>, 2014-09-10 13:46:54 +0300, , httpd allow switching network stack,,
6189,e1e85ca5ff27a9b8b6ce9a0e6dcbcde8fc126dff,vi Kivity <avi@cloudius-systems.com>, 2014-09-10 13:46:25 +0300, , core allow configuring network stack,,
6190,82cf2eff7cf7f0a2a58dbb0cf6df8bc96be0237e,vi Kivity <avi@cloudius-systems.com>, 2014-09-10 13:45:54 +0300, , sstring add conversion std string,,
6191,1fc5069503cc26b765d7e676727edefadfcfa49c,vi Kivity <avi@cloudius-systems.com>, 2014-09-10 13:44:46 +0300, , core add producing nice comma separated list,,
6192,033f941a1c3f37741c587360c018ffe920c11f1f,vi Kivity <avi@cloudius-systems.com>, 2014-09-10 13:44:10 +0300, , core add sprint fmt ... similar sprintf type safe,,
6193,9c2a31bf0f4c0c498f32fd547ba6aafcad62d331,vi Kivity <avi@cloudius-systems.com>, 2014-09-10 11:42:33 +0300, , core add networking stack registry registry allows stack name core networking stack selected startup,,
6194,5ad3648c4f73220b27953d89c0c9b56395d03be8,vi Kivity <avi@cloudius-systems.com>, 2014-09-10 11:36:13 +0300, , sstring fix assignment operator missing return,,
6195,5630f636cd35e60eff3a49afd91ecf22111eee89,vi Kivity <avi@cloudius-systems.com>, 2014-09-10 10:42:21 +0300, , net add protcol stack adapter native stack defines adapter class converting tcp class abstraction application use still inefficient due impedance mismatch data type used,,
6196,509e4e2768a08dfeaa335f71bec827741427bf0c,vi Kivity <avi@cloudius-systems.com>, 2014-09-10 10:42:05 +0300, , net add packet move assignment operator,,
6197,c443c2852ead36943276ab870d26c64c55f371d3,vi Kivity <avi@cloudius-systems.com>, 2014-09-10 10:41:23 +0300, , core add escape accessors socket_address posix type,,
6198,96563bbf5bc17ebe996cae1bc4e93303041424c2,vi Kivity <avi@cloudius-systems.com>, 2014-09-09 13:10:03 +0300, , core abstract reactor listen virtual method since every connection thus far established via listen allows abstract entire stack,,
6199,1385a5278e6e686713eef8d2f3dfdc3e65f37853,vi Kivity <avi@cloudius-systems.com>, 2014-09-09 12:37:13 +0300, , core get rid embarassing loop future_state get,,
6200,b3b5e1964f6ea1df6685ff8b45e88119b58d7d7b,vi Kivity <avi@cloudius-systems.com>, 2014-09-09 11:39:39 +0300, , core switch output_stream use data_sink instead pollable_fd,,
6201,7acbae1e5a31a36264740219ad2ec19a049c759b,vi Kivity <avi@cloudius-systems.com>, 2014-09-09 11:38:58 +0300, , core implement data_sink posix socket,,
6202,cdf11e69f978eeeddccf88b2e13df69be071246c,vi Kivity <avi@cloudius-systems.com>, 2014-09-09 11:37:34 +0300, , core add data_sink abstraction data_sink somewhere send chunk data back pressure provided future becomes ready okay push data,,
6203,6565909722b2751a78da55f91b62bd78d44937ad,vi Kivity <avi@cloudius-systems.com>, 2014-09-09 09:18:39 +0300, , bsd posix bsd context refers bsd socket lot confusing refer posix api,,
6204,d71ac705a693d60e044f8f8ae1309e965eb5eee5,vi Kivity <avi@cloudius-systems.com>, 2014-09-08 21:39:52 +0300, , core reactor run cosmetic rearrangement,,
6205,014657eaff6c859fd1a5fb8c1ec346cdae287e42,vi Kivity <avi@cloudius-systems.com>, 2014-09-08 21:31:43 +0300, , core switch input_stream use data_source change input_stream used either hosted native stack plugged,,
6206,f9084a20855a5657ff8bfbff6c916cc0ca043692,vi Kivity <avi@cloudius-systems.com>, 2014-09-08 21:31:11 +0300, , core add helper,,
6207,2847a1de6577bf90cfeae8facc5b5da0dc9d608a,vi Kivity <avi@cloudius-systems.com>, 2014-09-08 21:29:08 +0300, , core add data_source abstraction stream data arriving chunk native tcp stack serve individual buffer arriving network interface queued tcp stack hosted stack unfortunately allocate chunk individually,,
6208,e5e59dc7c23d9a5ca12940616a9bc1274a789fb5,vi Kivity <avi@cloudius-systems.com>, 2014-09-08 21:24:30 +0300, , support sharing shared buffer destroyed last clone destroyed,,
6209,6f86186e6db6448d1c90c9fb0bdeab7260ddfc27,vi Kivity <avi@cloudius-systems.com>, 2014-09-08 21:22:51 +0300, , eclipse support lvalue reference,,
6210,c14daba9e61c3f86e1cf210b2ff83f2c5ae5b630,vi Kivity <avi@cloudius-systems.com>, 2014-09-08 21:21:00 +0300, , core exit program breaking loop rather exit give destructors option run making easier job leak detector,,
6211,d06508927e0f521d59c51881eed1254e1f47a310,vi Kivity <avi@cloudius-systems.com>, 2014-09-08 21:20:25 +0300, , core add share helper deleter class,,
6212,2cc4728325937a261b3fefbd91568b2482c1aaea,vi Kivity <avi@cloudius-systems.com>, 2014-09-08 21:20:00 +0300, , core fix shared_ptr memory leak,,
6213,be5e75b6a60ea5c0df4b3984799b6d077d11ff53,vi Kivity <avi@cloudius-systems.com>, 2014-09-08 21:19:36 +0300, , core disable shared_ptr assignment implemented,,
6214,12aba7e9cb009a5df18b0f92648bb3e8bafcc68f,vi Kivity <avi@cloudius-systems.com>, 2014-09-08 21:00:09 +0300, , core fix promise move assignment leaked object assigned,,
6215,b725fa8ecc24e593094c280e44d931bdad07c82f,vi Kivity <avi@cloudius-systems.com>, 2014-09-08 15:24:49 +0300, , core support signal using signalfd convert signal future completed signal delivered handle sigint exiting cleanly,,
6216,a4beb74fa5584ea5704bca0ddeb6937bbf4be572,vi Kivity <avi@cloudius-systems.com>, 2014-09-08 15:23:59 +0300, , posix add signalfd wrapper,,
6217,a4b1716d696072546c78992c88d7f2d396513cb3,vi Kivity <avi@cloudius-systems.com>, 2014-09-08 15:20:10 +0300, , core join non async worker thread termination cleanly join worker thread termination avoid ebadf signalfd used communication destroyed let atexit handler run specifically leak detector,,
6218,147046adeada88826c54951a1593281d6b9e0832,vi Kivity <avi@cloudius-systems.com>, 2014-09-04 18:39:25 +0300, , fix copyright,,
6219,effca50ae0691501f7eb0965d895873169d381ab,vi Kivity <avi@cloudius-systems.com>, 2014-09-04 15:33:28 +0300, , core fix assigned,,
6220,78154f46065b1a6147ab99b6836792d4889480c3,vi Kivity <avi@cloudius-systems.com>, 2014-09-04 15:29:05 +0300, , switch use deleter cleanup flexibility integration native stack,,
6221,6092ac617b6577800636f30de08b5e4005229cec,vi Kivity <avi@cloudius-systems.com>, 2014-09-04 15:19:13 +0300, , build use linker flag linking clang complains,,
6222,b91389b1d57da69b4b241fefb6057249bd6d3c61,vi Kivity <avi@cloudius-systems.com>, 2014-09-04 13:28:51 +0300, , core extract packet deleter core class useful everywhere zero copy used,,
6223,ce7d8c5835f2eb3912ccbca436fc09a668735408,vi Kivity <avi@cloudius-systems.com>, 2014-09-04 12:32:33 +0300, , reactor.hh remove dead code,,
6224,3b0a9d89d9a6ea2504dc9e5bb8d5f4ffc28463d7,vi Kivity <avi@cloudius-systems.com>, 2014-09-04 12:31:02 +0300, , core abstract connected socket instead returning pollable_fd server_socket accept return new abstract class able provide input_stream output_stream caller,,
6225,6c1aabd7e172edfa266447e16dc88105163eaed8,vi Kivity <avi@cloudius-systems.com>, 2014-09-04 11:45:37 +0300, , core abstrace reactor listen instead returning unix tied pollable_fd return abstract server_socket class implement atop pollable_fd replaced native implementation,,
6226,065de692dba770bf2af6841b44a6b88e9a03cb6e,vi Kivity <avi@cloudius-systems.com>, 2014-09-04 11:24:08 +0300, , core rename since going abstract interface bsd socket layer native tcp stack rename generic name input_stream output_stream,,
6227,6f22345cf0a51b95d4a49a0e5b55a6f02140670f,vi Kivity <avi@cloudius-systems.com>, 2014-09-04 10:42:01 +0300, , add eclipse.hh hide eclipse cdt parsing error,,
6228,300abc77d8f7c3cd1be50085b9060f1683408f5c,vi Kivity <avi@cloudius-systems.com>, 2014-09-04 10:37:59 +0300, , core split future promise new header file,,
6229,03c532eb0347d3d53895ef4d35d1216871ae4e21,vi Kivity <avi@cloudius-systems.com>, 2014-09-04 09:21:18 +0300, , net tcp emit packet needed,,
6230,21d79c6a57c0b032cb3b72ae3fa69f220e491628,vi Kivity <avi@cloudius-systems.com>, 2014-09-04 09:20:44 +0300, , net tcp transmit data outgoing packet,,
6231,6e37ef5a6c33d674a87bc54f1920cd4b484cc0a7,vi Kivity <avi@cloudius-systems.com>, 2014-09-04 09:15:37 +0300, , net tcp advance sequence number syn acked,,
6232,e16ccd5fc5971370d4a418ab6f5da739c49c8d95,vi Kivity <avi@cloudius-systems.com>, 2014-09-04 09:16:30 +0300, , net tcp keep track whether syn sent,,
6233,f81450c1de806e24cce39ef55f06967d96de6b81,vi Kivity <avi@cloudius-systems.com>, 2014-09-04 09:14:02 +0300, , net add iostream support tcp_seq,,
6234,8c5ce8c63fb245e3e60a4ae80cc218ed47f16f0d,vi Kivity <avi@cloudius-systems.com>, 2014-09-04 09:13:42 +0300, , net add iostream support packed,,
6235,6a53e4105377bc442aede3f9a2ae363626c9c122,vi Kivity <avi@cloudius-systems.com>, 2014-09-03 16:22:58 +0300, , net packet sharing support add share method enables reference counting packet return clone packet deleter invoked clone destroyed useful tcp keep packet unacknowledged transmit queue sending lower stack,,
6236,e659c7fafc82cbe1c98ba383e21d8aaa41408d2d,vi Kivity <avi@cloudius-systems.com>, 2014-09-03 16:22:27 +0300, , add specialization make_shared,,
6237,7739e5a85e5bb0da9364d481d8a5f10fb69b3411,vi Kivity <avi@cloudius-systems.com>, 2014-09-03 11:59:46 +0300, , net tcp handle trivial case,,
6238,99e0d27b7cba048947ed07f7d9fbc7858a8dfb30,vi Kivity <avi@cloudius-systems.com>, 2014-09-03 11:59:26 +0300, , net tcp add empty packet receive queue,,
6239,1bf121230620a587cd9cea08c3c571180e731089,vi Kivity <avi@cloudius-systems.com>, 2014-09-03 11:59:05 +0300, , net tcp insert newly created tcb hash table,,
6240,f8132a818033514c501fe02b5244e0f437d66f36,vi Kivity <avi@cloudius-systems.com>, 2014-09-03 11:57:44 +0300, , net tcp change receive interface instead returning future packet return future signifying data available provide read method useful case user want consume exactly one packet,,
6241,d74b732396bd281f2f5281cad6b40e688c9d45dd,vi Kivity <avi@cloudius-systems.com>, 2014-09-03 11:56:42 +0300, , net tcp set initial receive window,,
6242,ee3c7a0c1d242ce8eaab0c7333c0c1b103301a80,vi Kivity <avi@cloudius-systems.com>, 2014-09-03 11:55:07 +0300, , net add packet append packet allows constructing mega packet several input packet,,
6243,144da7d568b5521694443590a3c8fc93f67c43f9,vi Kivity <avi@cloudius-systems.com>, 2014-09-03 11:42:49 +0300, , core friendly debugger,,
6244,c70ab64e1aee637868522823989a0bd3e64cd715,vi Kivity <avi@cloudius-systems.com>, 2014-09-03 10:30:25 +0300, , net tcp rename tcb received tcb input,,
6245,3d6a7bfdc6860120ee27acde901835c2ac91b374,vi Kivity <avi@cloudius-systems.com>, 2014-09-03 09:58:32 +0300, , net tcp drop non syn packet map existing tcb,,
6246,47a473b3f275d3e657d15cd87b2824ef0b9959e0,vi Kivity <avi@cloudius-systems.com>, 2014-09-03 09:57:41 +0300, , net split tcp processing input output,,
6247,b65e054604f2f21853b7ba6004d603213572428b,vi Kivity <avi@cloudius-systems.com>, 2014-09-03 09:56:56 +0300, , net optimize prepending header empty packet,,
6248,602eaeded7243fafb6a775b7a3c493e5aa1a9155,vi Kivity <avi@cloudius-systems.com>, 2014-09-02 23:32:15 +0300, , net fix printing ethernet address,,
6249,1fbe325f633b5228b5f3ee6fffd15c241efcd7b7,vi Kivity <avi@cloudius-systems.com>, 2014-09-02 23:29:43 +0300, , net add helper allocate header existing packet use ethernet layer,,
6250,32a1001ddff944aa195bf4e70bde7b670b8b38c2,vi Kivity <avi@cloudius-systems.com>, 2014-09-02 20:40:29 +0300, , test add tcp test simple echo server famous port 10000,,
6251,13964590854132284a65efc62147103f449810e3,vi Kivity <avi@cloudius-systems.com>, 2014-09-02 20:39:12 +0300, , net integrate tcp ipv4 define trait class used communicate address type pseudo header tcp glue class,,
6252,a5812f249520ccb071558558728e7b2711ef3703,vi Kivity <avi@cloudius-systems.com>, 2014-09-02 20:35:49 +0300, , net tcp rudimentary tcp support establishes connection fall lot thing missing departure tradition state enum traditional listening state etc instead boolean value indicating whether event like remote syn received syn acknowledged happened simplifies thing tcp sending side receiving side mostly orthogonal tcp state mix two tcp implemented template order tune difference tcp ipv4 vs. tcp ipv6 mostly address size pseudo header,,
6253,673dd21c8bd236e3c42123c226fef66e01dee0d2,vi Kivity <avi@cloudius-systems.com>, 2014-09-02 20:34:19 +0300, , net fix checksum total length endianness wrong,,
6254,c6412f23fc33cdbe8406b08a2756e0a828be8e45,vi Kivity <avi@cloudius-systems.com>, 2014-09-02 20:33:49 +0300, , net fix netmask check,,
6255,9a731c9a566a6d70bb378497a0f856b53bdafc85,vi Kivity <avi@cloudius-systems.com>, 2014-09-02 20:33:13 +0300, , net make packed friendly ntoh hton,,
6256,577ac850c85aef8ade6850308e9a934f69afe1f4,vi Kivity <avi@cloudius-systems.com>, 2014-09-02 20:32:03 +0300, , inet move ip_checksum separate header thus used tcp,,
6257,48f570f57cf0bd00b62ba04ad375e06665d3018e,vi Kivity <avi@cloudius-systems.com>, 2014-09-02 19:08:52 +0300, , core add shared_ptr smart pointer like std shared_ptr except atomics,,
6258,7473b1327503c81ed3e2b53e1c04e7a0495f8f0e,vi Kivity <avi@cloudius-systems.com>, 2014-09-02 18:24:34 +0300, , net fix packet trim_front trimming entire packet trimming tcp header tcp packet without data syn nothing remains trim_front account crashed fix checking condition,,
6259,0a45d4d73b74db6c6da1395d2bd2e55de078569e,vi Kivity <avi@cloudius-systems.com>, 2014-09-01 15:19:17 +0300, , net implement ipv4 dispatching,,
6260,93f1af6f3348450103bd29eac1df20750e63933b,vi Kivity <avi@cloudius-systems.com>, 2014-09-01 15:18:13 +0300, , core add array_map map implemented using array fast lookup small contiguous search space,,
6261,b2b24031e9c774506e2ab36b5462513158f7063f,vi Kivity <avi@cloudius-systems.com>, 2014-09-01 15:17:27 +0300, , net generalize checksummer allow checksum packet fragment,,
6262,001616f7e4c9c00d9a09c237eb103fb54da47eb6,vi Kivity <avi@cloudius-systems.com>, 2014-09-01 15:16:53 +0300, , arp fix build error,,
6263,2aa3d0a75557f83a32da59b3a2b57a4bd8f6a160,vi Kivity <avi@cloudius-systems.com>, 2014-09-01 12:57:55 +0300, , test add timer test,,
6264,b397ac699a7ae881d95ada7538bebbc03c47353f,vi Kivity <avi@cloudius-systems.com>, 2014-09-01 12:56:57 +0300, , core implement timer,,
6265,e1f14eded46acd7fd487ab6ae7d199e5049913c6,vi Kivity <avi@cloudius-systems.com>, 2014-09-01 12:50:37 +0300, , posix timerfd support,,
6266,1b6892abf8e9d2596f24aeebd5bda0be06c7f1a6,vi Kivity <avi@cloudius-systems.com>, 2014-09-01 11:57:07 +0300, , core switch read_some use read recv used non socket,,
6267,32f8a84949b4c84e44a22ef82c6c41ba26920564,vi Kivity <avi@cloudius-systems.com>, 2014-09-01 11:55:07 +0300, , core add reactor start obtain initial future future becomes ready system start running make easier start known state,,
6268,105015b552fa1cb6cd2e24f4eb95f7b4b5408d67,vi Kivity <avi@cloudius-systems.com>, 2014-09-01 08:43:11 +0300, , import timer wheel code osv,,
6269,0fbda7c1ec551a7da36eedc72dd9ce174739d5ae,vi Kivity <avi@cloudius-systems.com>, 2014-08-31 23:37:34 +0300, , fix checksum length since data network byte order must pad last word right,,
6270,3a75cf1d55c36e11fb2430d27606f928c74fc191,vi Kivity <avi@cloudius-systems.com>, 2014-08-31 22:43:03 +0300, , virtio clear entire virtio net header linux look gso hdr_len field even gso used refuse send packet reasonable mode debug poison memory causing value unreasonable fix clearing entire header,,
6271,c77f77ee3f9460893fc3f6cdb5fe6acb994d9637,vi Kivity <avi@cloudius-systems.com>, 2014-08-31 21:25:27 +0300, , build organize file directory structure,,
6272,fc5ad77fc86615bfe5f87d8fb77fd3aa4d1e2df5,vi Kivity <avi@cloudius-systems.com>, 2014-08-31 20:57:08 +0300, , build support subdirectory,,
6273,99ed043a41ad67d44e585a855d5680cd1fa7232f,vi Kivity <avi@cloudius-systems.com>, 2014-08-31 20:38:59 +0300, , net add ipv4 test,,
6274,ad312f988901a940a5ecfbdca1be8a4f3385f728,vi Kivity <avi@cloudius-systems.com>, 2014-08-31 20:38:06 +0300, , net add ipv4 support currently arp integrated,,
6275,370a46462c2a8d9429091437cbac89d954075782,vi Kivity <avi@cloudius-systems.com>, 2014-08-31 20:36:06 +0300, , net add arp support per support provided template protocol parameter address type protocol concrete type without requiring dynamic allocation virtual function hashing comparing address,,
6276,7844b18f755c6374abfddf60860a891b122adb4a,vi Kivity <avi@cloudius-systems.com>, 2014-08-31 20:34:46 +0300, , net include ip.hh avoid include dependency hell,,
6277,50bcea8b5cdac1cdbc86b71697639f44250c0ed3,vi Kivity <avi@cloudius-systems.com>, 2014-08-31 20:33:22 +0300, , ethernet add ethernet class serf mostly type trait providing type name address useful function obtaining broadcast address,,
6278,9812b44c624ea00596b7a4c3022b6e98340e7c77,vi Kivity <avi@cloudius-systems.com>, 2014-08-31 20:32:08 +0300, , net add missing interface l3_protocol send function,,
6279,ea7d91ac2c8f9828110d90363dd40683d5eaf33c,vi Kivity <avi@cloudius-systems.com>, 2014-08-31 20:30:48 +0300, , net teach interface device hardware address since interface must add hardware address sending packet better know,,
6280,ac4f9a65b5799084e9113d25c5898a1a1e5dd333,vi Kivity <avi@cloudius-systems.com>, 2014-08-31 20:26:59 +0300, , add ipv4_address type rather using dangerous uint32_t,,
6281,d7eb75e0ecf47249f32a6cecdb61208106dc127c,vi Kivity <avi@cloudius-systems.com>, 2014-08-31 20:22:15 +0300, , add print helper,,
6282,ae87a8f689c0b004921322edf634c8afb037a47f,vi Kivity <avi@cloudius-systems.com>, 2014-08-31 20:20:29 +0300, , make type aliasing std array cause confusion,,
6283,9e16c5ab62d77872bcfd726e7e8e5b0958e3d48f,vi Kivity <avi@cloudius-systems.com>, 2014-08-31 20:18:09 +0300, , add print helper forward everything boost format nicer syntax,,
6284,ee8558283d2a37dac1f4e34f7ed611bb0fb79f0c,vi Kivity <avi@cloudius-systems.com>, 2014-08-31 13:37:21 +0300, , split ethernet support new file ethernet.hh,,
6285,93804c2b25868b27d0e3e84220ad65624d639cc7,vi Kivity <avi@cloudius-systems.com>, 2014-08-31 13:34:08 +0300, , split byte order support new file byteorder.hh,,
6286,3aec580cbe340f9308279b17071fecbf286fe5ca,vi Kivity <avi@cloudius-systems.com>, 2014-08-31 13:29:54 +0300, , add test listen arp packet print something see,,
6287,4baf051763e33170bf7a0b624ffa36febd2ba0e1,vi Kivity <avi@cloudius-systems.com>, 2014-08-31 13:29:14 +0300, , net add support dispatching packet protocol handler,,
6288,607b3af7e647165a57f7acb3f63e78905a59aa72,vi Kivity <avi@cloudius-systems.com>, 2014-08-31 13:26:11 +0300, , net add helper playing packet trim_front remove prefix packet get_header linearize return section packet direct access,,
6289,28d50bbc7a7027b0ba433b1f7b18fb789dd55019,vi Kivity <avi@cloudius-systems.com>, 2014-08-31 13:23:10 +0300, , net define type,,
6290,9f5c0dbf59945c84e2fde37346c4de09b272a4de,vi Kivity <avi@cloudius-systems.com>, 2014-08-28 21:30:33 +0300, , improve endianness adjustment rather hacking around inability bind reference unaligned scalar wrap struct marked unaligned use wrapped value everywhere ensures code work platform need special instruction unaligned access adjust forwarding function require reference passing value accidentally lose conversion,,
6291,00b462ef6779cbcc35baf0810f1ef9528f19d41c,vi Kivity <avi@cloudius-systems.com>, 2014-08-28 20:40:48 +0300, , fix checksum odd sized packet,,
6292,71bef7233251a569203b1d72ee34e556d51064c0,vi Kivity <avi@cloudius-systems.com>, 2014-08-28 20:02:28 +0300, , virtio correctly prepend net_hdr transmitting packet instead assuming room header front packet use packet prepending constructor check allocate missing requires splitting waiting two part first acquiring packet know many fragment waiting virtio dscriptors also requires prepare full buffer_chain rather one exactly one fragment,,
6293,b89787eedad65c514fb9b2b1bb07cac5a9723257,vi Kivity <avi@cloudius-systems.com>, 2014-08-28 20:01:04 +0300, , virtio fix multi buffer request set has_prev first really last buffer,,
6294,859c99971c54de141a477822a6c51ef46f30848d,vi Kivity <avi@cloudius-systems.com>, 2014-08-28 18:34:29 +0300, , virtio introduce net_hdr structure used virtio control offload,,
6295,82489025a1b81e6f4aa7ad580ec3436332e96213,vi Kivity <avi@cloudius-systems.com>, 2014-08-28 20:00:35 +0300, , net forget copy data prepending fragment packet,,
6296,9e7dd74bfad5b9c5ffc4d1030981941e61d7335e,vi Kivity <avi@cloudius-systems.com>, 2014-08-28 19:59:13 +0300, , net fix build debug mode due missing static variable,,
6297,a7930ffcaa9fb39a441d2bb2674d5ba0a6749da7,vi Kivity <avi@cloudius-systems.com>, 2014-08-28 17:29:27 +0300, , net rework packet class replace completion promise custom deleter class lighter weight really need destructor executed scheduler add lot consuctors composing packet existing packet appending prepending packet allocate case accomodate common practice prepending protocol header,,
6298,e69709120109f8084b71be78c7f6d28db0695fc2,vi Kivity <avi@cloudius-systems.com>, 2014-08-27 20:25:53 +0300, , build link libtcmalloc improvement,,
6299,9813207ed26789f5dae5ead8cd49690770f87d1b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-27 13:28:10 +0200, , build fix build ubuntu build fails like tmp function reactor reactor home tgrabiec src seastar build release reactor.cc undefined reference io_setup tmp function reactor process_io home tgrabiec src seastar build release reactor.cc 133 undefined reference io_getevents collect2 error returned exit status build.mk recipe target seastar failed workaround taken http ubuntu source gcc default bug 1228201 signed tomasz grabiec tgrabiec cloudius systems.com avi move separate line comment justify ugliness signed avi kivity avi cloudius systems.com,,
6300,b957650a033a016af69461be3f6161f94b449a3a,vi Kivity <avi@cloudius-systems.com>, 2014-08-27 19:17:03 +0300, , build simplify link rule,,
6301,64c8302f39628788af8b218cf9277be6f11f9573,vi Kivity <avi@cloudius-systems.com>, 2014-08-27 18:26:54 +0300, , move posix function posix.hh simplifies checking error especially constructor,,
6302,268d24170d4ad86cda7a68e5351978180e0ea7cd,vi Kivity <avi@cloudius-systems.com>, 2014-08-27 17:37:10 +0300, , make posix.hh independent reactor.hh move friend,,
6303,34667e8dfe599488448435e454a7e413d863c421,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-27 13:28:23 +0200, , reactor fix io_setup failure _io_context must set otherwise io_setup fails einval signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
6304,462a285dc1b7501ddf03fb5082af942f14d7a12e,vi Kivity <avi@cloudius-systems.com>, 2014-08-27 17:25:42 +0300, , add simple virtio test able reply broadcase ping ping 192.168.122.2,,
6305,67952a24d45c22784402fe659eef313ca22fa49e,vi Kivity <avi@cloudius-systems.com>, 2014-08-27 17:25:19 +0300, , add ipv4 definition helper,,
6306,bdd012511626e3c156a9a650eb4cff37571c21b1,vi Kivity <avi@cloudius-systems.com>, 2014-08-27 17:24:29 +0300, , build unconditionally build flto mode release,,
6307,888298778aef1b588d615d1c595af449a72e6f5f,vi Kivity <avi@cloudius-systems.com>, 2014-08-27 17:24:17 +0300, , build pas mode sub make,,
6308,5b27163071f9c52f73e1f17aaa387abd79741c1e,vi Kivity <avi@cloudius-systems.com>, 2014-08-27 17:22:13 +0300, , add rudimentary virtio support supported basic virtio ring pump basic virtio net driver feature missing vhost interface running privileged user process guest,,
6309,6b265e9c3315b1e1502ef87fab53043aec857293,vi Kivity <avi@cloudius-systems.com>, 2014-08-27 17:21:41 +0300, , add network stack interface definition,,
6310,85e3645866d2a73634a0f91bd1484fb3b225dd75,vi Kivity <avi@cloudius-systems.com>, 2014-08-27 17:21:12 +0300, , extend semaphore try_wait,,
6311,1cfa018243e23eb8a525c90e4af680e7f6a74019,vi Kivity <avi@cloudius-systems.com>, 2014-08-27 17:20:34 +0300, , add helper creating structure ending variable length array,,
6312,90b766db2e351ffba8170d76a0e6402ea9fcbfe9,vi Kivity <avi@cloudius-systems.com>, 2014-08-27 17:20:06 +0300, , add wrapper common posix functionality,,
6313,344a4fe4bc45e98ce192afc44628866af68b41d4,vi Kivity <avi@cloudius-systems.com>, 2014-08-27 17:18:38 +0300, , add linux virtio interface definition linux virtio vhost header polluted included code create local copy,,
6314,68a66b3c142dc3e4cf1a1b75b2392ded714137ae,vi Kivity <avi@cloudius-systems.com>, 2014-08-25 09:28:55 +0300, , add .gitignore,,
6315,f7da882a404f23dbfe051654bcf6c9a9923bad41,vi Kivity <avi@cloudius-systems.com>, 2014-08-25 09:26:53 +0300, , build generate object build directory,,
6316,53dcf701b9db3ad6e1267f80f656d6b10764724b,vi Kivity <avi@cloudius-systems.com>, 2014-08-24 19:44:52 +0300, , encapsulate eventfd class typically one side read write eventfd used within framework side used external process two class provided depending side used framework new class used thread pool,,
6317,745a420aea2aaf7869fd1ef2f30f3691db77e3b1,vi Kivity <avi@cloudius-systems.com>, 2014-08-24 19:44:22 +0300, , move pollable_fd around later reuse,,
6318,78998946437bf53bd85486a2db8da904fb626731,vi Kivity <avi@cloudius-systems.com>, 2014-08-24 18:08:38 +0300, , httpd handle error,,
6319,547756ce95b403f8fec39f627ad46384518d5197,vi Kivity <avi@cloudius-systems.com>, 2014-08-24 15:52:18 +0300, , exception handling support .then clause whose chained function return future throw exception returned future contain exception chain .then clause propagae exception end add .rescue clause used catch exception,,
6320,fedb0d787fc099460876abfa6ad1ce05f1c398a3,vi Kivity <avi@cloudius-systems.com>, 2014-08-24 11:05:05 +0300, , fileiotest flush completing test,,
6321,754a245d597c122f56ff0e39b50d778d2de58eab,vi Kivity <avi@cloudius-systems.com>, 2014-08-24 11:04:59 +0300, , implement file flush,,
6322,2bec091b9e1435f75007e9215245bc4fc1c77175,vi Kivity <avi@cloudius-systems.com>, 2014-08-24 11:04:42 +0300, , fix future chaining argument future,,
6323,3f1c383e46e70fb872e7ccc360de2da779a32a6a,vi Kivity <avi@cloudius-systems.com>, 2014-08-24 11:03:27 +0300, , fix is_future non single argument future is_future support zero argument future multiple argument future,,
6324,239f76c342fa73ceff885e632ff7c9093e95c3f6,vi Kivity <avi@cloudius-systems.com>, 2014-08-24 10:36:24 +0300, , implement open_file_dma using thread pool,,
6325,ebd10bf34907a998f047a77054dda0b37a168b05,vi Kivity <avi@cloudius-systems.com>, 2014-08-24 10:34:08 +0300, , add thread pool augment kernel support aio operation done either non blockingly asynchronously add thread pool execute currently thread pool one thread,,
6326,7f609a1959b6489fdcbd26c3928611afcff4d134,vi Kivity <avi@cloudius-systems.com>, 2014-08-24 10:30:54 +0300, , fileiotest limit concurrency otherwise writes submitted consuming ton memory preventing read happening parallel writes add semaphore limit amount parallel,,
6327,91f10b8a9c1f10d114af60f77c288f32760a5afe,vi Kivity <avi@cloudius-systems.com>, 2014-08-21 13:50:36 +0300, ," add asynchronous test launch 10,000 concurrent writes one complete launch read offset compare read write data read complete terminate",,
6328,ec7b440a99de885dba163c31139386515859ef09,vi Kivity <avi@cloudius-systems.com>, 2014-08-21 13:54:52 +0300, , add asynchronous file add dma read write operation open presently synchronous,,
6329,f05e31dfc821874575b7df41a78f65e78f9e7a4b,vi Kivity <avi@cloudius-systems.com>, 2014-08-21 13:54:39 +0300, , asynchronous infrastructure add integration linux libaio framework context initialized asynchronous request kernel notify eventfd semaphore used guard access context exceed maximum parallelism internal function submit_io used submit kernel returning future representing completion internal loop running process_io used consume completion eventfd signalled,,
6330,cfeec3799e616b3ad5fd67b4e4819ad030b045f2,vi Kivity <avi@cloudius-systems.com>, 2014-08-21 13:45:09 +0300, , add asynchronous semaphore class,,
6331,f96b0d5b539302e335d22191805b3269789e6230,vi Kivity <avi@cloudius-systems.com>, 2014-08-21 12:12:36 +0300, , move around allows using inside class reactor,,
6332,10695644d71146a8265ea8869ac212c98bb6e0e8,vi Kivity <avi@cloudius-systems.com>, 2014-08-20 16:37:11 +0300, , get rid regex http parser slow replacing double throughput 110k req,,
6333,26527252c530a54a70049fe352313b0cf92b52a5,vi Kivity <avi@cloudius-systems.com>, 2014-08-20 11:31:01 +0300, , remove accept_result,,
6334,b9148304b63de5f8e718abcf0a05be612e4bcb15,vi Kivity <avi@cloudius-systems.com>, 2014-08-20 11:24:32 +0300, , make future friend variadic template remove need create structure future multiple return value nice side effect removing specialization future void replacing future,,
6335,8b3690af80b596e35b73aba0f01b4c270d37fe05,vi Kivity <avi@cloudius-systems.com>, 2014-08-20 11:18:23 +0300, , add apply func tuple helper call function tuple component argument,,
6336,2207e8e5f34965d8f7b757ba8792cbbe9588ef87,vi Kivity <avi@cloudius-systems.com>, 2014-08-18 16:59:25 +0300, , add helper async work need done use applicable,,
6337,ccb052a418422b9dc9579699c103633c92a66bdd,vi Kivity <avi@cloudius-systems.com>, 2014-08-18 15:52:52 +0300, , speculate epoll result many case guess result epoll_wait happens read write consumes entire buffer following call likely succeed likely accept completes write likely succeed speculatively add event events_known mispredict fail eagain need retry,,
6338,b9ebc652cbbcd3e1372de496fed7ae0876c98de3,vi Kivity <avi@cloudius-systems.com>, 2014-08-18 14:46:02 +0300, , extract epoll completion handling helper,,
6339,96b813fbfcafd88d38e056db67f8fa9d25c8c19b,vi Kivity <avi@cloudius-systems.com>, 2014-08-18 13:04:44 +0300, , lazy epoll management reduce call epoll_ctl allowing epoll event requested user still satisfied system remain installed epoll may get spurious wakeup later remember user doe want event ready without syscall,,
6340,784b2bf3ed8c0f63b4c541c35a9d44eb0a7f28e0,vi Kivity <avi@cloudius-systems.com>, 2014-08-18 12:36:01 +0300, , extract common part reactor readable reactore writeable helper,,
6341,b10da4fa1d01afe2b08635adc78d68c8634ae799,vi Kivity <avi@cloudius-systems.com>, 2014-08-18 10:56:36 +0300, , switch epoll_add_int epoll_add_out future void integrates better rest framework allows adding specialization likely_readable easily,,
6342,c8e04c8cd9093b451c8845bbf82473aeb13e1364,vi Kivity <avi@cloudius-systems.com>, 2014-08-18 10:56:09 +0300, , implement missing future void specialization,,
6343,22f0721a3900845fbb69addf67eeeecb32dfd462,vi Kivity <avi@cloudius-systems.com>, 2014-08-18 10:55:43 +0300, , implement missing promise move assignment,,
6344,ecf989901f089fcf277e475a7b85aa980a657a55,vi Kivity <avi@cloudius-systems.com>, 2014-08-18 00:23:34 +0300, , future void specialization,,
6345,acdf96947c4973decbdeb28d081b62e77072c8ef,vi Kivity <avi@cloudius-systems.com>, 2014-08-18 00:23:19 +0300, , fix promise deleted copy constructor,,
6346,ef749bf26c439f3c3d51a47734a97cf9b0f83a1a,vi Kivity <avi@cloudius-systems.com>, 2014-08-18 00:22:55 +0300, , fix assigning exception future,,
6347,216ac3cdf0e95148a6f833f80a6fe8f6cd80fd47,vi Kivity <avi@cloudius-systems.com>, 2014-08-17 09:38:42 +0300, , need move return stmt,,
6348,1ee08b01ab3e95af9e6a7ef798ceb61db013970d,vi Kivity <avi@cloudius-systems.com>, 2014-08-15 14:50:46 +0300, , switch pollable_fd move semantics,,
6349,c539cdcbee0bad742097d8c68b3d21bef91fed69,vi Kivity <avi@cloudius-systems.com>, 2014-08-15 01:09:54 +0300, , short circuit future ready,,
6350,cec55519fe0542e952e3f793c9dcda6a2293bf71,vi Kivity <avi@cloudius-systems.com>, 2014-08-15 00:35:32 +0300, , future chaining httpd reduces perf,,
6351,c7a2417c9892038d530b778678940d686516d137,vi Kivity <avi@cloudius-systems.com>, 2014-08-15 00:35:11 +0300, , allow future chained fut.then ... .then ...,,
6352,3140f146975c7c4542fcddf9e58a7814159b62d1,vi Kivity <avi@cloudius-systems.com>, 2014-08-14 23:55:11 +0300, , future callback longer accept future,,
6353,1c66118a72de82a9836e6f073777396e6f7bf910,vi Kivity <avi@cloudius-systems.com>, 2014-08-14 18:05:11 +0300, , wip,,
6354,b6c91052e2f987560dc582d763fbcddacdec545b,vi Kivity <avi@cloudius-systems.com>, 2014-08-14 11:07:05 +0300, , work,,
6355,7ea696c29e25d958021f7f32ab7292c89b99b910,vi Kivity <avi@cloudius-systems.com>, 2014-08-14 09:20:03 +0300, , checkpoint,,
6356,919e9c4214a7e527ada1b68e52016397cd1bb31c,vi Kivity <avi@cloudius-systems.com>, 2014-08-12 23:52:23 +0300, , checkpoint,,
6357,c3292aeb63a1ce5639e325e24564dfebbee10e2a,vi Kivity <avi@cloudius-systems.com>, 2014-08-12 22:10:20 +0300, , checkpoint,,
6358,96dab351d4b3d580bdb747c839320cf4fa6b21c9,vi Kivity <avi@cloudius-systems.com>, 2014-08-12 18:51:17 +0300, , checkpoin,,
6359,ebc58c56c3771d38e7fa2281b16fd69f96758953,vi Kivity <avi@cloudius-systems.com>, 2014-08-12 17:06:18 +0300, , checkpoint,,
6360,1b05c9ab9c2bc6678b4dc6ce703175873ed91efe,vi Kivity <avi@cloudius-systems.com>, 2014-08-11 17:59:46 +0300, , checkpoint,,
6361,30b73db07096b1874c40982576c0ba429f829cfc,vi Kivity <avi@cloudius-systems.com>, 2014-08-10 19:26:30 +0300, , checkpoint,,
6362,193ac5919df51df2366604fc5cbfd73d15bb52f5,vi Kivity <avi@cloudius-systems.com>, 2014-08-10 08:56:33 +0300, ,,,

id,sha,author,date,issue,message,file,content
0,3c4a6fa0958cbb1f7b609bf3ed8a2b69f633f910,ALDEMAR KOZACZUK <jwkozaczuk@gmail.com>, 2021-07-16 15:02:58 -0400, , update readme.md update preparation release 0.56.0,,
1,31105ff82f718f1db4dfea334f0e144ea2a56113,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-07-14 14:41:54 -0400, , apps update latest signed waldemar kozaczuk jwkozaczuk gmail.com,,
2,4af62f56cf98d2f73dfb097f2305bf5d12c69826,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-07-12 21:06:06 -0400, , cirp pas travis api url http api.travis ci.com work round bug cirp plugin signed waldemar kozaczuk jwkozaczuk gmail.com,,
3,185556012ceac9045a4776e669452863119a50b0,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-07-12 15:15:25 -0400,813, vfs harden drele check null v_op vop_inactive patch enhances vfs drele check null v_op vop_inactive vnode level trying call vop_inactive allows handle case dynamically loaded filesystems like nfs osv would crash trying mount nfs filesystem missing nfs library described 813 patch case result osv print message instead crashing  osv v0.55.0 297 g7c9d742f eth0 192.168.122.15 booted 140.91 cmdline tool mount fs.so nfs nfs 192.168.122.1 ggg tmp fff nfs module active please add nfs module image error mount error information  fix 813 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
4,7c9d742f8d59d206b85fa93f850bc44b030ac35c,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-07-12 00:03:13 -0400, , apps update latest signed waldemar kozaczuk jwkozaczuk gmail.com,,
5,8407066f8844e271cf766cfa9b5a358a61308c2b,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-07-09 17:46:40 -0400, , apps updated latest signed waldemar kozaczuk jwkozaczuk gmail.com,,
6,371ff15cafeda8056fbd72133003970561dae85a,kozaczuk <jwkozaczuk@gmail.com>, 2021-06-29 18:55:23 -0400, , replace __aarch64__ __x86_64__ nadav har noted abused original intention macro name suggests mark code done quick hack stub aarch64 end patch replaces ifdef ifdef __aarch64__ ifndef ifdef __x86_64__ signed wkozaczuk jwkozaczuk gmail.com,,
7,ee12c73e6050bbeda96911575e5213418b24f844,kozaczuk <jwkozaczuk@gmail.com>, 2021-06-28 13:00:12 -0400, , script updated test.py reflect date state test aarch64 signed wkozaczuk jwkozaczuk gmail.com,,
8,5c58f155e83535c44f66825e4b6566be731e9acf,kozaczuk <jwkozaczuk@gmail.com>, 2021-06-27 11:26:49 -0400, , setup add ubuntu 21.04 distribution signed wkozaczuk jwkozaczuk gmail.com,,
9,6dec325ea45025d7b0b411cf7beb202d940e9133,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-06-26 17:34:21 -0400, , aarch64 fedora download aarch64 artifact version reason gcc aarch64 linux gnu package fedora ship installs version 10.2.1 gcc aarch64 cross compiler different regular x86_64 gcc compiler 11.1.1 avoid compilation error caused mismatch compiler aarch64 header fedora provides patch modifies script download relevant artifact fedora instead version cross compiler 10.2.1. version cross compiler fedora exactly therefore header downloaded version compatible used cross compiler fedora signed waldemar kozaczuk jwkozaczuk gmail.com,,
10,c00eba1656e581ff3570d08fdf809afa76825c95,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-06-25 18:26:10 -0400, , travis disable running tst time.so signed waldemar kozaczuk jwkozaczuk gmail.com,,
11,31558831af7aabc7fde1e0d63a2547675450d5db,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-06-25 17:34:16 -0400, , travis enable running unit test signed waldemar kozaczuk jwkozaczuk gmail.com,,
12,9114458280eb5f753e53616a925b0df5a4336a5b,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-06-24 15:26:18 -0400, , test disable java test cross compiling aarch64 although might possible download aarch64 version jdk cross compile java base related binary let disable java test scenario still support building running java test native aarch64 machine signed waldemar kozaczuk jwkozaczuk gmail.com,,
13,4fa14833629489bef538a8d40039d0b317edfc03,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-06-23 17:06:52 -0400, , acpi capture acpi root address booting pvh mode hypervisors like cloud hypervisor pas address acpi root rsdp_paddr field hvm_start_info structure booting pvh mode patch modifies logic discovering acpi root address testing new acpi pvh_rsdp_paddr variable set pvh boot otherwise fall back original logic patch effectively make osv boot properly cloud hypervisor example command cloud hypervisor static 0.15.0 console serial tty kernel build release kernel stripped.elf disk path build release usr.raw cpu boot memory size 128m rng cmdline verbose defaultgw 172.16.0.1 nameserver 172.16.0.1 hello net tap fc_tap0 mac 172.16.0.1 mask 255.255.255.252 signed waldemar kozaczuk jwkozaczuk gmail.com,,
14,5716f8c4a2f45c60d9ee75d66731d9fc29a91e09,adav Har'El <nyh@scylladb.com>, 2021-06-21 12:55:32 +0300,1148, implement statx function linux 4.11 introduced statx system call allows retrieving specific stat field instead normal stat beneficial remote filesystems collecting information might slower collecting moreover statx may ask additional attribute available classic stat recently lot code including boost library started use statx instead stat osv need implementation patch simple call stat translates output struct stat desired format struct statx explained code retrieve field desired one retrieve original stat able retrive patch osv unit test still failed fedora updated boost statx pas make check pass fedora unfortunately musl header file use declare statx struct statx statx_ constant included declaration inside source file implementing statx future update header file remove declaration source file fix 1148 signed nadav har nyh scylladb.com message nyh scylladb.com,,
15,bcaad08e0eb108c569e9c85ced921cad29f649a3,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-06-21 02:06:40 -0400,1147, futex implement new version standard library part gcc toolchain started using futex syscall operation turn pretty lucky far least bitmask value passed val3 parameter equal according spec mean val3 equal equivalent futex_wait except different handling timeout argument patch implement minimal functionality handle enough make failing tst async.cc tst promise.cc pas fix 1147 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
16,660345d512f454f58938694894c240e29f967cca,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-06-16 18:11:46 -0400, , boost update path silence warning apparently boost 1.66 moved location header boost boost iterator boost 1.75 started giving warning patch fix warning adding coditional include depending version boost used signed waldemar kozaczuk jwkozaczuk gmail.com,,
17,9984174ec5ded2c09c6e32b785c362b297ecb6cf,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-06-16 17:53:13 -0400,1144, tst async.cc include thread silence error gcc new gcc throw error compiling tst async.cc possibly caused removed include thread header directly indirectly included tst async.cc fix explicitly include thread tst async.cc ref 1144 signed waldemar kozaczuk jwkozaczuk gmail.com,,
18,06e8b79c49d1a8d7ca78740b1a1281dffeb32230,adav Har'El <nyh@scylladb.com>, 2021-06-16 00:52:18 +0300, , test fix warning tst epoll.cc tst poll.cc function write_one writes one byte care byte writing bother initialize variable holding byte gcc warns solution initialize byte something e.g. signed nadav har nyh scylladb.com message nyh scylladb.com,,
19,a669c61a702559cd81147f63baa1d4ec6787167a,tewart Hildebrand <stewart.hildebrand@dornerworks.com>, 2021-06-10 16:09:02 -0400, , script boost update url update boost download url reflect new location signed stewart hildebrand dornerworks.com message dornerworks.com,,
20,ebcc2968c69da90c314e269e0609faa7213a18ef,adav Har'El <nyh@scylladb.com>, 2021-06-14 09:20:57 +0300, , script setup.py add fedora yet aware anything special need installed version signed nadav har nyh scylladb.com message nyh scylladb.com,,
21,5aabd029959f8659d284043ffe874f45804157c2,adav Har'El <nyh@scylladb.com>, 2021-06-14 09:20:56 +0300, , add symbol glibc variable see http www.gnu.org software libc manual html_node library function recently started use need define signed nadav har nyh scylladb.com message nyh scylladb.com,,
22,ad9e0fb0b875c7940ad7aa78dbfe3f2eb5f9d750,adav Har'El <nyh@scylladb.com>, 2021-06-14 09:20:55 +0300, , core mmu.cc silence warning gcc warns mmu code writing 4096 byte area byte guessing false alarm code convoluted prove let slience build error signed nadav har nyh scylladb.com message nyh scylladb.com,,
23,3a7c0db761cc65e908b1d3e8ef41d433dad517a8,adav Har'El <nyh@scylladb.com>, 2021-06-14 09:20:54 +0300, , sched free aligned_alloc free memory allocated aligned_alloc freed free delete although actual implemention really thing gcc warns using sched thread make align_alloc deleting delete using std unique_ptr gcc warns issue sched.cc fix file note place code also unique_ptr thread eventually use similar fix fix new method sched thread make_unique return std unique_ptr hold thread know properly delete signed nadav har nyh scylladb.com message nyh scylladb.com,,
24,b37a3fc68e9bd20f0bb7580eaa0d2444e35fbdc0,adav Har'El <nyh@scylladb.com>, 2021-06-14 09:20:53 +0300, , core trace.cc free aligned_alloc free memory allocated aligned_alloc freed free delete although actual implemention really thing gcc warns one case instead silencing warning let make use free signed nadav har nyh scylladb.com message nyh scylladb.com,,
25,b3965a9e8a9b195e5ed958c1a3f8cfa4b26d620a,adav Har'El <nyh@scylladb.com>, 2021-06-14 09:20:52 +0300, , vfs main.cc fix gcc build error vfs main.cc bootfs_start defined single character extern char bootfs_start really treated beginning longer memory area gcc recognize access beyond single character fail compilation work around problem declare bootfs_start extern char bootfs_start little need changed besides except changing bootfs_start offset gcc like bootfs_start offset signed nadav har nyh scylladb.com message nyh scylladb.com,,
26,b589e38b791de3e71d3909f1f70f9d3f95408a41,adav Har'El <nyh@scylladb.com>, 2021-06-14 09:20:51 +0300, , makefile avoid warning one musl source file gcc warns musl src prng seed48.c seed48 signature header file char array implementation char pointer correct gcc warns inconsistency turn warning error original musl source file want needlessly change let avoid warning cflags wno array parameter specific file signed nadav har nyh scylladb.com message nyh scylladb.com,,
27,d4fe97c973af52a76fc52d7027ce474fe9d055f2,adav Har'El <nyh@scylladb.com>, 2021-06-14 09:20:50 +0300, , xen fix overread overwrite bug gcc detected bug many place using function used function work many type operation assumes read write maximal size operation parameter byte yet called smaller specific operation object patch fix call build maximal size operation object happy patch needed situation marked unlikely problematic copying happens want restore ability build fedora gcc  signed nadav har nyh scylladb.com message nyh scylladb.com,,
28,cdc136c3e4de251be488224727719927aefe9530,adav Har'El <nyh@scylladb.com>, 2021-06-14 09:20:49 +0300, , fix warning misleading indentation gcc found several place code indentation may hint bug example something onething anotherthing code indentation suggests programmer indented thing done something true yet lack brace mean onething condition anotherhing run unconditionally fixed indentation code seems intention case seems gcc found real bug code however bug seem obscure case issue reminds osv coding convention require must always use brace even single statement involved code predates coding convention signed nadav har nyh scylladb.com  signed nadav har nyh scylladb.com message nyh scylladb.com,,
29,9d5fe18949eef6014d3e3c91006647235842aca9,adav Har'El <nyh@scylladb.com>, 2021-06-14 09:20:48 +0300, , bsd sha2.c fix mismatched signature gcc give warning make error signature function declared header file type parameter function defined type need repeat type fix several mistake sort one file sha2.c signed nadav har nyh scylladb.com message nyh scylladb.com,,
30,4f67366db385450a36ca897bd3fe443015150703,adav Har'El <nyh@scylladb.com>, 2021-06-14 09:20:47 +0300, , fix __cxa_finalize signature starting gcc cxxabi.h declares __cxa_finalize function return void int previously change practical importance implementation always returned anyway never interesting integer returned get implementation compile gcc pre gcc version cxxabi.h need hide cxxabi.h declaration signed nadav har nyh scylladb.com message nyh scylladb.com,,
31,3601eba46eaf1156215e6a53e8963eb47b2bc02a,adav Har'El <nyh@scylladb.com>, 2021-06-14 09:20:46 +0300, , fix compatibility features.h fedora recently example fedora header file started include system include features.h assumes enough define __begin_decls however macro actually defined sys cdefs.h get many build error like usr include sys error __begin_declsâ doe name type __begin_decls  fix include sys cdefs.h compatibility features.h glibc doe signed nadav har nyh scylladb.com message nyh scylladb.com,,
32,665a0ec1bc31663f0842233a9703090420412dda,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-06-14 00:20:47 -0400, , aarch64 make java base related module compile patch doe title suggests ideally split least part would require substantial amount work untangle importantly test point firstly patch modifies makefiles module.py file java related module others like golang include module java base common.gmk make possible build aarch64 host achieves mostly including module common.gmk provides necessary rule compiling x64 aarch64 host well cross compiling aarch64 x64 host also remove lot repeated boiler plate make many changed makefiles consistent finally build artifact like object file output build release debug arch module module directory instead module module secondly patch also modifies build process dynamically determine jdk use java test run therefore new version module java module.py detects version java path accordingly selects openjdk8 host openjdk9_1x host addition also make java test makefile generate list java test executed test.py run necessary java wrapper mechanism longer compatible java need filter java isolated java non isolated test new version test.py simply read list java test executed module java test test_commands generated build time signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
33,615e456ec91690c608f6e4a7b33e8d849cd4ae69,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-06-14 00:20:46 -0400, , openjdk8 make work aarch64 patch modifies existing openjdk8 host module make work aarch64 linux host signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
34,bdf15a7ff79c165d1630256e31e856efefb6165f,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-06-14 00:20:45 -0400, , java add openjdk module java patch add new module allow building image jdk newer file found linux host doe locating javac executable found path navigating corresponding directory collect required file signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
35,a9fe93480f1e2b7bfafa05a7027cf18d8b2177c9,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-06-11 01:01:49 -0400, , apps update latest tag signed waldemar kozaczuk jwkozaczuk gmail.com,,
36,d0a7c612cb28245d5aeb00998771eb497a500f6f,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-06-10 17:53:54 +0000, , script update firecracker.py properly support aarch64 signed waldemar kozaczuk jwkozaczuk gmail.com,,
37,59d1c1d6ec05b4dd8530eca1bffcc3cd7c17dd82,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-06-10 17:53:04 +0000, , aarch64 probe pci signed waldemar kozaczuk jwkozaczuk gmail.com,,
38,73454764c413286563b6be22e5b34a86046d9a97,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-06-11 00:54:43 -0400,1143, aarch64 enable test_net.py test_tracing.py patch modifies script test.py executed properly qemu tcg mode also force test executed cpu tcg mode issue 1143 addressed signed waldemar kozaczuk jwkozaczuk gmail.com,,
39,8a722ab07d855623073042be472b1d3fd60d8413,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-06-10 19:19:16 -0400,1131, script build default rofs building aarch64 image please note zfs supported osv issue 1131 fixed therefore default rofs ramfs also supported make bit convenient user build aarch64 image need explictly append rofs create disk signed waldemar kozaczuk jwkozaczuk gmail.com,,
40,f9ba533ad6fddb7f4fd78f113e245226c2e9ca0f,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-05-25 11:35:07 -0400,1047, sigaction handle null sa_sigaction sig_dfl comment issue 1047 http github.com cloudius system osv issue 1047 issuecomment 846535939 explains linux treat null value sa_sigaction parameter sigaction function sig_dfl even sa_siginfo set per sa_flags parameter behavior doe seem standard stack overflow http question 24079875 doe mean sigaction set null calling sigaction explains probably stem fact sa_sigaction sa_handler field union mean sa_sigaction null treat sa_handler sig_dfl invoke default signal handler corresponding signal arrived effect patch refines is_sig_dfl helper function implemented expected behavior finally patch add new test tst sigaction.cc built run linux osv verify handling null sa_sigaction ideally would wanted expand existing tst kill.cc test however need separate test verify default action terminate app sigterm received testable fix 1047 signed waldemar kozaczuk jwkozaczuk gmail.com,,
41,7272f35cdc20fd14f5b1b5dde8c61ecfee289ba7,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-05-14 16:41:31 -0400, , aarch64 make synch_thread synch_port work weak memory model patch change bsd porting synch.cc change _awake variable atomic similar reason variable waiter case synch_port wakeup method use void thread wake_with action action need make sure _awake variable visible cpu signed waldemar kozaczuk jwkozaczuk gmail.com,,
42,9054d34bc55d62d2ad74dd9a84519b5c0483a18c,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-05-14 16:41:17 -0400, , aarch64 make queue_mpsc work weak memory model patch change queue_mpsc make poplist variable atomic poplist intended manipulated single thread point time single consumer mean need protect regular race however poplist consumer even one time may run different cpu therefore need see latest value variable write different cpu reason make poplist atomic use acquire release semantics archieve cross cpu visibility signed waldemar kozaczuk jwkozaczuk gmail.com,,
43,c953384e4e047616730ab3e8ffde8c120d02d082,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-05-14 16:40:53 -0400,1123, aarch64 make wait_record weak memory model issue 1123 describes osv quite often hang booting cpu smp mode inspecting state thread relevant variable seems reveal thread waiting mutex end waiting forever even though corresponding waker thread wake called thread wake specifically thread do_wait_until called waiter wait running cpu doe seem see expected value nullptr shared variable waiting thread even though thread waker running cpu call do_wake_with method called part responsibility hand protocol problem waiter member variable pointer waiting thread shared variable properly synchronized visible across multiple cpu read writes need guarded correct read writes atomic variable establish appropriate inter thread happens relationship according memory model inter thread happens based happens synchronizes relationship former one quite intuitive whereas latter formulated suitably tagged atomic write operation variable synchronizes suitably tagged atomic read operation read value stored either write subsequent atomic write operation thread performed initial write sequence atomic read modify write operation fetch_add thread value read 1st thread sequence value written section 5.3.1 chapter memory model operation atomic type book concurrency action anthony williams essence mean write shared variable happens atomic write operation variable thread corresponding read happens synchronize read operation thread see value written thread simple example illustrates std vector int data shared variable std atomic bool data_ready false void reader_thread  data_ready.load  std this_thread sleep std chrono millisecond  std cout answer data  void writer_thread  data.push_back data_ready true  happens happens synchronizes read true finally inter thread happens case coming back waiter member variable need guarded synchronize operation atomic variable seems context do_wake_with do_wait_until candidate could thread member variable type atomic status matter fact thread prepare_wait called do_wait_until doe call load store thread wake_impl called do_wake_with call loop might seem provide desired synchronize relationship problem loop wake_impl sometimes exit without writing status thread neither waiting sending_lock case wake_impl fails provide necessary synchronize relationship store load prepare_wait therefore write waiter shared variable may visible cpu executing prepare_wait clear change relevant code provide necessary synchronize relationship around member variable lieu patch change waiter member variable atomic replaces key read writes load std store ... std call respectively acquire release memory ordering enough enforce writes correctly visible across cpu hard prove correctness patch based empirical result able run hello example cpu 100k time would hang executing 100 time finally please note x86_64 operation load std store ... std make binary expensive strong memory model come implicit acquire release semantics therefore load store translate lock instruction general note never seen kind problem x86_64 think explained fact intel amd architecture come strong memory model way forgiving specifically x86_64 operates according called tso total store order model regular read writes come implicitly acquire release semantics atomic sequential writes one translate lock instruction acquire global system memory lock flush cpu store buffer read wait lock released mean lock instruction enforce sequential consistency arm architecture come weak memory model cpu essence seperate view memory synced via common interconnect example memory system doe guarantee write becomes visible cpu time behavior called write non atomicity arm way forgiving signed waldemar kozaczuk jwkozaczuk gmail.com,,
44,bddef3a4b48c10cd9a17381f2db0e7a13f26384e,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-05-26 13:17:52 -0400, , script fix trace.py newer version tcpdump trace.py emit slightly longer text reading file link type en10mb ethernet make tst tracing fail patch make trace.py check line begin expected text signed waldemar kozaczuk jwkozaczuk gmail.com,,
45,5faf85bf685ebc3770b3f31a01e3621192856923,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-05-26 13:16:12 -0400, , test fix tst kill.cc commit changed kernel pid also broke tst kill.cc test specifically adding sa_resethand test getpid case caused situation sigusr1 signal sent user handler set way default handler would cause test app prematurely exit patch fix bug also add necessary ifdefs make test run linux otherwise case would cause test terminate also shell process kill able way signed waldemar kozaczuk jwkozaczuk gmail.com,,
46,aedab9a2381d47734c230d591239ef03e553b974,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-05-26 13:07:43 -0400, , test fix style issue tst kill.cc signed waldemar kozaczuk jwkozaczuk gmail.com,,
47,daca1415060445116d2d0188113a5f1f16e12f35,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-05-25 17:35:05 -0400, , travis attempt enable kvm signed waldemar kozaczuk jwkozaczuk gmail.com,,
48,237bbae7a4ff82e2ec6f245c799001da7c467244,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-05-25 17:18:18 -0400, , java test upgrade common 2.7 silence github.com warning signed waldemar kozaczuk jwkozaczuk gmail.com,,
49,e54b9de0276db5041206986adb4295d20fb78bb8,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-05-25 17:01:18 -0400, , travis authenticate docker hub signed waldemar kozaczuk jwkozaczuk gmail.com,,
50,aa966f4dda840c7706138feb7dbbbf3931d518e2,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-05-25 01:02:53 -0400, , libc add brk sbrk stub application like keydb use jmalloc call sbrk startup even though later fall back mmap patch provides simple stub function set errno enomem return error signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
51,ce7620c84a82f38e6f17e047e8a1e8fb0e5065af,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-05-25 01:02:52 -0400,1047, syscalls minimally implement tgkill golang application use tgkill syscall implement raise function issue 1047 describes raise function used propagate sigterm signal process ctrl pressed reason patch add basic implementation tgkill syscall specifically handle case tpid specifies current process tid specifies current thread caller essence golang raise pass case tgkill syscall implementation delegate kill otherwise return failure patch also modifies implementation pthread_kill make consistent implementation tgkill syscall pthread_kill actually called raise see libc pthread.cc like tgkill check specified pthread_t equal current thread case delegate kill lastly patch enhances tst kill.cc test raise pthread_kill ref 1047 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
52,afe3af45608d1144d92e1805d0b1122b77e1669f,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-05-25 01:02:51 -0400, , libc add strerrordesc_np per specification strerrordesc_np supposed return pointer string describes error code passed argument errnum like strerror doe however unlike strerror strerrordesc_np supposed apply translation per current locale osv implementation strerror doe apply translation anyway please see lctrans macro locale_impl.h return msg without translation given simply make strerrordesc_np alias strerror strerrordesc_np needed newer version nginx signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
53,af793ae1472113f27425ea77d308adbea619c188,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-05-25 00:29:50 -0400, , apps update latest signed waldemar kozaczuk jwkozaczuk gmail.com,,
54,1433c08b66d4d0eef6cc2e8c94539cfaae7dee54,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-05-12 11:15:13 -0400,1134, aarch64 make rcu work correctly smp mode change since changed check method use qualifier set_generation method use qualifier order establish another acquire release relationship check always called different cpu also need make sure _generation atomic change visible across cpu  issue 1134 explains unit test hang do_main_thread shutting osv run cpu aarch64 happens even patch address issue 1123 applied connecting gdb thread dump always look similar do_main_thread thread wait semaphore osv rcu_flush method call rcu_defer force execution outstanding callback callback never seems executed thread type one cpu seem stuck waiting converge progress next generation specifically seems even though condition involving atomic variable _generation true one thread stuck sched thread wait_until seems indicate likely even though thread woken could see correct value _generation atomic variable modified thread cpu look somewhat similar issue 1123 caused memory order related deficiency code come light running aarch64 come weak memory model address patch modifies memory order qualifier atomic operation rcu.cc make sure change made one cpu visible another one specifically thread interact converging next generation writing reading _request _requested _generation atomics currently operation use qualifier guarantee atomicity visibility make sure change _request _requested _generation visible across cpu sched thread wait_until modify memory modifier relevant place reading writing operation change create proper acquire release relationship relevant read write operation atomics thus enforce necessary memory barrier instruction generated around patch tst evenfd.so test would hang 100 run vcpus symptom described 1134. patch could execute test 13k time fix 1134 signed waldemar kozaczuk jwkozaczuk gmail.com,,
55,2237e2d05cf0eb3da4a6d4e0651fa72ab8906424,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-05-09 20:43:39 -0400,1129, aarch64 handle at_hwcap getauxval issue 1129 explains starting version 10.1.0 gcc compiler enables usage outline atomics based lse instruction also add runtime detection optional cpu feature handled init function part libgcc.a call __getauxval fetch at_hwcap check presense hwcap_atomics flag __getauxval osv doe handle __getauxval show warning getauxval stubbed patch build code processor features_str add new hwcap32 function return bit integer representing relevant cpu feature new function called __getauxval aarch64 besides making annoying warning away patch also make osv take advantage armv8.1 platform implement function based lse instruction fix 1129 signed waldemar kozaczuk jwkozaczuk gmail.com,,
56,78468234de48fe9d395a7e1dcb22f0fd2359d3cf,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-05-03 16:48:38 -0400, , mempool resize l1_pool_stats osv emailing list david smith reported sporadic crash running osv firecracker nested virtualization setup looking like osv v0.55.0 168 g31a04239 cpu detected firmware vendor unknown bsd failed sched preemptable arch x64 mmu.cc page_fault backtrace  osv v0.55.0 237 g7cd33926 cpu detected firmware vendor unknown trying execute access missing symbol backtrace long back forth able create issue firecracker qemu microvm able connect gdb turned osv would trigger page fault core mempool.cc 1198 l1_pool_stats cpu_id ._nr l1_pool_stats vector get sized number cpu every time cpu notifier called unfortunately approach may occasionally experience race condition vector get resized parallel time multiple cpu another race scenario counter might incremented fill_thread smp_allocator set true l1_pool_stats get resized cpu notifier case access l1_pool_stats might result page fault fix need guarantee l1_pool_stats vector resized smp_allocator flag set achieve patch add another atomic counter track number initialized pool counter equal number cpu system resize l1_pool_stats vector also incrementing  signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
57,f412e89fc9ed8ba6758478eb5f446ef6f08abc5a,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-04-29 12:11:55 -0400, , dynamic linker properly handle stt_notype symbol elf file define global variable symbol stt_notype like example 13030 notype global default 13136 notype global default currently osv dynamic linker resolve symbol relative offset specified st_value cause page fault patch fix logic correctly adding base elf st_value patch effectively make possibly run latest node.js osv signed waldemar kozaczuk jwkozaczuk gmail.com,,
58,9734d927ea752e65bbdf798896cd87155d5d8941,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-04-28 23:00:10 -0400,1132, aarch64 unmask clock event interrupt secondary cpu issue 1132 explains order timer interrupt work many dot need connected firstly timer condition met cval global system counter specific cpu interrupt signal asserted interrupt controller gic generic interrupt controller timer enabled enable bit interrupt unmasked imask bit per cpu timer ctl register secondly signal asserted gic side setting gic side dictate corresponding timer interrupt ppi private peripheral interrupt delivered back corresponding cpu one setting gicd_isenabler register essence dictate corresponding interrupt forwarded specific cpu see http documentation ihi0048 programmer model distributor register description interrupt set enable register gicd isenablern lang patch essence enhances gic_driver init_cpu method called cpu unmask timer ppi interrupt cpu secondary one please note interrupt unmasked primary cpu interrupt handler registered fix 1132 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
59,17bb6ae35c31b79615913a4a0363dae0a151c6f6,ALDEMAR KOZACZUK <jwkozaczuk@gmail.com>, 2021-04-19 00:28:44 -0400,1133, merge pull request 1133 codegik fix open file fixed nameerror name file defined,,
60,988bb578861ac96dd27918ec8060841fc89d7df1,nacio Klassmann <inacioklassmann@gmail.com>, 2021-04-15 18:58:18 -0300, , fixed nameerror name file defined,,
61,9d1f51113fbbdecc789864874452e60f37306056,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-04-01 10:38:31 -0400, , script enhanced build qemu arbitrary repo enable virtiofsd signed waldemar kozaczuk jwkozaczuk gmail.com,,
62,47601e6e1c796bcaf29c5049dfd1b37d5d55278d,otis Xenakis <foxen@windowslive.com>, 2021-03-06 23:34:18 +0200, , script add virtio dax option run.py signed fotis xenakis foxen windowslive.com message,,
63,2eda04543966d3269f14fd070392c578116b568c,otis Xenakis <foxen@windowslive.com>, 2021-03-31 20:46:15 +0300, , support d_off readdir filesystems trivial patch set dirent.d_off readdir implementation mentioned readdir value returned d_off would returned calling telldir current position directory stream signed fotis xenakis foxen windowslive.com message,,
64,7cd339269d19356626dff3fcd06784bcbc166cc3,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-03-30 13:51:20 -0400, , aarch64 enable detection virtio driver signed waldemar kozaczuk jwkozaczuk gmail.com,,
65,a8583536a21174a2f2b549281e166586b6e8c309,otis Xenakis <foxen@windowslive.com>, 2021-03-28 19:28:24 +0300, , loader extend root auto discovery extends fallback root file system auto discovery mechanism include virtio search order becomes rofs virtio zfs also ensure even zfs fails mount fstab entry continuing ramfs root file system signed fotis xenakis foxen windowslive.com message,,
66,f80864dc3e63b67cbc712391152acbe0026fd087,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-03-29 23:19:03 -0400,1091, aarch64 implement minimal pl031 support patch provides basic implementation subset functionality primecell real time clock pl031 device enough capture boot time number second since epoch please note implementation doe handle host clock drift provides current time functionality accurate second patch effectively fix unit test tst time.cc tst timerfd.cc fix 1091 signed waldemar kozaczuk jwkozaczuk gmail.com,,
67,cdb0ab634f30310423301b2a415232863ca0d4e9,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-03-29 22:43:41 -0400,1127, aarch64 mask interrupt disable timer handler please note patch code wise identical version add extra comment better clarify motivation specific change aarch64 programmer guide generic timer chapter 3.4 page state following interrupt generated timer behave level sensitive manner mean timer firing condition reached timer continue signal interrupt one following situation occurs imask set one mask interrupt enable cleared disables timer tval cval written firing condition longer met indicates timer interrupt handler need mask timer interrupt disable timer otherwise interrupt delivered scenario might cause underlying vmm like qemu tcg mode stop delivering subsequent interrupt case per description guide correct mask interrupt disable timer timer interrupt handler also linux doe http github.com torvalds linux blob driver clocksource l638 l652 patch also work around likely bug qemu tcg mode qemu stop delivering timer interrupt timer disabled interrupt masked tval value tiny related experiment seemed indicate alternatively could changed set method read ctl right setting tval see timer condition met cancel work around qemu bug former solution seems correct follows linux doe besides patch also sligthly optimizes method set make set new timer calculated number tick tval greater fix 1127 signed waldemar kozaczuk jwkozaczuk gmail.com,,
68,4a8257d87237a52ffafb5096e7159f4eaa670c9b,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-03-29 21:39:31 -0400, , loader.py improve osv info thread patch enhances loader.py used gdb provide osv specific functionality specifically add number feature osv info thread command revived timer functionality show active timer thread present enabled timer option set new option no_location remove location column new column total_cpu_time show value _total_cpu_time field informs much given thread run cpu useful get sense specific thread cpu stuck slightly arranged layout move widest location column right added header line let save real estate new column signed waldemar kozaczuk jwkozaczuk gmail.com,,
69,eee34a198421d18fa9dd9066627e6cd5b222288e,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-03-29 17:48:43 -0400,1128, aarch64 add cfi directive page fault interrupt handler assembly patch add necessary cfi call frame information directive assembly code entry.s macros.s make stack trace page fault interrupt handler look correct otherwise debugging scenario involve becomes painful patch  mmu file_vma fault addr 17592186171392 0x200000100110 core mmu.cc 1708 mmu vm_fault addr 17592186171392 0x200000100110 core mmu.cc 1354 page_fault 0x200000100110 arch aarch64 mmu.cc arch aarch64 entry.s 161 backtrace stopped previous frame identical frame corrupt stack patch  mmu file_vma fault addr 17592186171392 0x200000100110 core mmu.cc 1708 mmu vm_fault addr 17592186171392 0x200000100110 core mmu.cc 1354 page_fault 0x200000100110 arch aarch64 mmu.cc signal handler called elf object _dynamic_tag tag core elf.cc 649 elf object dynamic_exists tag core elf.cc 641 elf object load_needed loaded_objects std vector length capacity ... core elf.cc 1068 elf program load_object entry name libvdso.so extra_path std vector length capacity loaded_objects std vector length capacity ... build aarch64 gcc install usr include bit 1321 elf program get_library name libvdso.so extra_path std vector length capacity delay_init false core elf.cc 1459 osv application prepare_argv entry program program entry core app.cc 361 osv application application std __cxx11 basic_string char std char_traits char std allocator char const std vector std __cxx11 basic_string char std char_traits char std allocator char std allocator std __cxx11 basic_string char std char_traits char std allocator char const bool std unordered_map std __cxx11 basic_string char std char_traits char std allocator char std __cxx11 basic_string char std char_traits char std allocator char std hash std __cxx11 basic_string char std char_traits char std allocator char std equal_to std __cxx11 basic_string char std char_traits char std allocator char std allocator std pair std __cxx11 basic_string char std char_traits char std allocator char const std __cxx11 basic_string char std char_traits char std allocator char const std __cxx11 basic_string char std char_traits char std allocator char const std function void command test tst hello.so args ... new_program false env 0x0 main post_main ... core app.cc 182 ... patch  virtio blk ack_irq driver virtio blk.cc 103 operator __closure driver virtio blk.cc 143 std __invoke_impl bool virtio blk blk virtio virtio_device lambda pci device lambda __f ... build aarch64 gcc install usr include bit invoke.h std __invoke_r bool virtio blk blk virtio virtio_device lambda pci device lambda __fn ... build aarch64 gcc install usr include bit invoke.h 141 std bool virtio blk blk virtio virtio_device lambda pci device lambda _m_invoke const std _any_data __functor ... build aarch64 gcc install usr include bit std_function.h 291 std function bool operator const optimized build aarch64 gcc install usr include bit std_function.h 622 interrupt_table entry 0x40780968 idt entry arch aarch64 exceptions.cc 135 interrupt frame optimized arch aarch64 exceptions.cc 167 entry_irq arch aarch64 entry.s 175 entry_irq arch aarch64 entry.s 175 entry_irq arch aarch64 entry.s 175 entry_irq arch aarch64 entry.s 175 entry_irq arch aarch64 entry.s 175 entry_irq arch aarch64 entry.s 175 ... infinite number frame patch  virtio blk ack_irq driver virtio blk.cc 103 operator __closure driver virtio blk.cc 143 std __invoke_impl bool virtio blk blk virtio virtio_device lambda pci device lambda __f ... build aarch64 gcc install usr include bit invoke.h std __invoke_r bool virtio blk blk virtio virtio_device lambda pci device lambda __fn ... build aarch64 gcc install usr include bit invoke.h 141 std bool virtio blk blk virtio virtio_device lambda pci device lambda _m_invoke const std _any_data __functor ... build aarch64 gcc install usr include bit std_function.h 291 std function bool operator const optimized build aarch64 gcc install usr include bit std_function.h 622 interrupt_table entry 0x40780968 idt entry arch aarch64 exceptions.cc 135 interrupt frame optimized arch aarch64 exceptions.cc 167 signal handler called sched cpu do_idle entry core sched.cc 454 sched cpu idle core sched.cc 472 operator __closure optimized __closure optimized core sched.cc 165 std __invoke_impl void sched cpu lambda __f ... build aarch64 gcc install usr include bit invoke.h std __invoke_r void sched cpu lambda __fn ... build aarch64 gcc install usr include bit invoke.h 153 std void sched cpu lambda _m_invoke const std _any_data __functor ... build aarch64 gcc install usr include bit std_function.h 291 sched thread main core sched.cc 1267 sched thread_main_c arch aarch64 arch switch.hh 162 thread_main arch aarch64 entry.s 114 ref 1128 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
70,7feab52fccdfdddd824b9343575a13ed48f47485,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-03-29 17:10:41 -0400,1128, aarch64 add thread_main improve stacktraces patch improves debugging experience making gdb show correct stack trace look similar one see x86_64 port also solves sporadic error iterating list thread using osv info thread gdb would break like python exception class gdb.error attempt assign unmodifiable value error occurred python attempt assign unmodifiable value essence patch add new function implemented assembly thread_main call thread_main_c address new function also set field thread _state instead thread_main_c main benefit adding extra redirection add proper cfi call frame information directive .cfi_undefined x30 force gdb look stack call frame beyond thread_main one similar x86_64 port end besides fixing sporadic gdb error iterating thread also get much better correct looking stacktraces end start bottom patch  arch aarch64 sched.s sched cpu schedule core sched.cc 229 sched thread wait optimized core sched.cc 1273 sched thread do_wait_until sched sched thread dummy_lock sched cpu load_balance lambda mtx synthetic pointer ... pred ... include osv sched.hh 1101 sched thread wait_until sched cpu load_balance lambda pred ... include osv sched.hh 1112 sched cpu load_balance 0x40700960 construction vtable std ostream std __cxx11 char std char_traits char std allocator char core sched.cc 730 sched thread main core sched.cc 1267 sched thread_main_c arch aarch64 arch switch.hh 161 arch aarch64 sched.s  patch  arch aarch64 sched.s sched cpu schedule core sched.cc 229 sched thread wait optimized core sched.cc 1273 sched thread do_wait_until sched sched thread dummy_lock sched cpu load_balance lambda mtx synthetic pointer ... pred ... include osv sched.hh 1101 sched thread wait_until sched cpu load_balance lambda pred ... include osv sched.hh 1112 sched cpu load_balance 0x407009b8 construction vtable std ostream std __cxx11 char std char_traits char std allocator char core sched.cc 730 sched thread main core sched.cc 1267 sched thread_main_c arch aarch64 arch switch.hh 162 thread_main arch aarch64 entry.s 112 ref 1128 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
71,2e4ce2853ca85769872ad1076f353521665d6cb7,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-03-18 14:12:25 -0400, , apps updated latest signed waldemar kozaczuk jwkozaczuk gmail.com,,
72,c36d8fba5c4da4cc87e7946e248bb77cf671ad7a,tewart Hildebrand <stewart.hildebrand@dornerworks.com>, 2021-03-17 14:27:12 -0400, , aarch64 populate image size header depending bootloader place loader.img dtb conflict resulting zero_bss loop boot.s overwriting dtb observed certain ramfs size building osv lynxsecure hypervisor example bootloader happened load dtb address 0x01080000 end .bss tcb section .edata 0x0108c000 resulting zero_bss subroutine zeroing dtb could also reproduce qemu adding large ramfs resulting loader.img approximate size 127.27mb example qemu placed dtb address 0x48000000 kernel address 0x40080000 end .bss 0x4805c000 bootloader awareness elf section account .bss section section need take room elf file due nobits type fix populating arm64 image size field osv kernel header size includes .bss section thus bootloader reserve area avoid overlapping dtb add case imgedit.py helper function http www.kernel.org doc documentation arm64 booting.txt signed stewart hildebrand dornerworks.com message dornerworks.com,,
73,2bfa95ca38b946364b786195afb1b391214cefd8,tewart Hildebrand <stewart.hildebrand@dornerworks.com>, 2021-03-17 14:27:11 -0400, , setup.py add readelf grep pre requisite needed next patch specifically next patch need following shell utility package readelf binutils grep grep next patch also need awk utility part posix installed default supported distribution need install  note actually new dependency making explicit readelf grep awk already used elsewhere makefile signed stewart hildebrand dornerworks.com message dornerworks.com,,
74,30509e90c7c8043d705be071e62b7ae8c79a9833,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-03-17 22:17:22 +0000, , tst condvar.cc run smp test vcpus patch also enables test aarch64 signed waldemar kozaczuk jwkozaczuk gmail.com,,
75,40c2658e1843a9f0d9ecff4efa60a6aaa58d1c44,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-03-17 22:03:39 +0000, , aarch64 change unsigned int one asserts tst pthread barrier.cc verifies size type byte fails aarch64 digging turn definition type include api aarch64 bit alltypes.h.sh wrong unsigned long patch change mapping two related type unsigned int fix assert tst pthread barrier.cc enable test well signed waldemar kozaczuk jwkozaczuk gmail.com,,
76,41040ee61bbc77d743c3193fd7dc4cd780537326,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-03-17 17:46:36 +0000,1114, tst stdio.cc disable slow test take longer second run qemu tcg mode fails even though test run perfectly fine hardware accelleration let use simply remove doe bring much value fix 1114 signed waldemar kozaczuk jwkozaczuk gmail.com,,
77,15507c0349d8b6c0c65652855644e14dcd8251a0,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-03-17 17:25:53 +0000, , arch64 enable sampler corresponding unit test signed waldemar kozaczuk jwkozaczuk gmail.com,,
78,942f56e6c58ddbb34d36af99923dc5332de41d6c,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-03-17 16:25:20 +0000,1127, aarch64 enable unit test fixed latest patch patch enables unit test fixed patch aarch64 move fpu_state_save load entry.s aarch64 implement assembly please note smp support vcpus aarch64 still pretty flaky see issue 1123 also force number cpu aarch64 addition enabled unit test pas consistently release debug mode qemu kvm unfortunately resolve 1127 sent patch proposal many unit test would hang qemu tcg mode finally note even kvm test take much longer intel might worth investigating especially tst ring spsc wraparound.cc long run tst rcu hashtable.so 40.284 tst ring spsc wraparound.so 174.108 tst yield.so 37.321 signed waldemar kozaczuk jwkozaczuk gmail.com,,
79,89c1e1ffb6fd9b499471dea66c2de30ddfb5e862,tewart Hildebrand <stewart.hildebrand@dornerworks.com>, 2021-03-16 14:07:34 -0400, , boost add missing library cross compiling boost centos aarch64 library missing list boost library step reproduce source script cross_prefix aarch64 none linux gnu script 1.72.0 aarch64 script build arch aarch64 rofs create disk image test j12 failure observed ... imgedit build release.aarch64 loader.img writing image adding libenviron.so adding libvdso.so adding tool mount fs.so adding tool umount.so adding usr lib libgcc_s.so.1 adding usr lib adding usr lib adding usr lib adding usr lib adding usr lib adding usr lib adding usr lib adding usr lib adding usr lib traceback recent call last file home stew osv script gen rofs img.py line 369 module main file home stew osv script gen rofs img.py line 366 main gen_image outfile manifest file home stew osv script gen rofs img.py line 269 gen_image bytes_written write_fs manifest file home stew osv script gen rofs img.py line 246 write_fs count write_dir manifest.get manifest file home stew osv script gen rofs img.py line 207 write_dir count write_dir val dirpath entry manifest file home stew osv script gen rofs img.py line 207 write_dir count write_dir val dirpath entry manifest file home stew osv script gen rofs img.py line 222 write_dir inode.count write_file val file home stew osv script gen rofs img.py line 164 write_file open path errno file directory home stew osv build aarch64 boost upstream boost_1_72_0 stage lib script build failed src script gen rofs img.py rofs.img usr.manifest libgcc_s_dir libgcc_s_dir signed stewart hildebrand dornerworks.com message dornerworks.com,,
80,19e2807d1d925e749a7989695b33344d61f8bca2,tewart Hildebrand <stewart.hildebrand@dornerworks.com>, 2021-03-16 14:03:01 -0400, , aarch64 move fpu_state_save load entry.s d15 callee saved register since q15 listed clobber list inline asm compiler added instruction save restore d15 stack exact fpu_state_load surrounded callee register saving snippet like example stp stp d10 d11 stp d12 d13 stp d14 d15 ... inline asm ... ldp ldp d10 d11 ldp d12 d13 ldp d14 d15 effectively zeroing upper bit q15 interrupt pre emptive context switch two possible way work around issue would remove q15 clobber list move implementation real assembly file chose move fpu_state_save load assembly entry.s guarantee compiler potentially add unwanted instruction also take guesswork syntax inline assembly work http documentation ihi0055 latest see section simd floating point register d15 bit name v15 q15 128 bit name v15 signed stewart hildebrand dornerworks.com message dornerworks.com,,
81,17d7b1d5f4095745272358dc52e9bcf6f48d313c,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-03-15 01:18:24 -0400,1124, aarch64 implement assembly issue 1124 thread http osv dev ystzelfndbi mailing list explains test aarch64 debug build fail consistent manner page fault suggesting possibly value parameter passed function function get somehow currupt painful research pin pointed crash method doe work correctly voluntary non preemptive context switch scenario thread yield method called app turn situation called callee save register used app function calling thread yield saved context switch later restored thread get resumed later following step illustrate scenario function push one callee saved register x23 example stack becuase something must per calling convention function store value x23 function call thread yield directly indirectly eventually called call switch_to switch stack pointer new thread stack debug version neither switch_to store x23 use register unlike release version point later called necessarily next time call switch_to switch back resume eventually return control function right called yield code calling yield read value x23 ... boom x23 quite likely contains garbage never restored calling yield per calling convention yield callees saved restored rather different routine different thread running cpu ruined one way solve problem would add callee saved register x19 x28 d15 per http github.com arm software abi blob aapcs64 aapcs64.rst see 6.1.1 general purpose register 6.1.2 simd floating point register v15 register list clobberred register inline assembly thread switch_to arch aarch arch switch.hh doe always work version gcc see http gcc.gnu.org bugzilla show_bug.cgi 99342 depending optimization level etc inline switch_to generate machine code doe intention top code destroys terminated thread current cpu thread local memory pointer register tpidr_el0 read switch_to cause interesting crash issue 1121 describes given fact call switch_to switch thread tricky right using pure inline assembly patch implement high level version assembly aarch64 x64 stay patch modifies include osv sched.hh core sched.cc number ifdef keep x64 split new method aarch64 two new function correspond part switch_to call please note return simple field struct pointer old new thread state tcb etc get used  top patch add arch aarch64 sched.s implement function assembly essence call new save callee save register old thread stack executes context switch old switch_to restores callee save register new thread stack finally call comparing original version one refines switch_to_first use early clobber switch_to also save restores one extra register fpcr make tst fpu.cc work correctly patch tested optimization level release debug real arm hardware emulated tgi mode please note new code make context switch little bit expensive per number  taskset script run.py test misc ctxsw.so osv v0.55.0 204 g837a9b5d getauxval stubbed eth0 192.168.122.15 booted 58.19 cmdline test misc ctxsw.so 664 colocated 665 apart 665 nopin  taskset script run.py test misc ctxsw.so osv v0.55.0 205 g7e7c49f7 getauxval stubbed eth0 192.168.122.15 booted 58.20 cmdline test misc ctxsw.so 683 colocated 690 apart 690 nopin fix 1121 fix 1124 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
82,1353656bba2b632c3e60e68d693b39455d44b97c,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-03-14 15:57:28 +0000,1087, aarch64 make kernel_vm_base equal kernel_base implement 1087 dynamically map kernel elf located anywhere physical memory always need make sure kernel_base eqaul kernel_vm_base makefile let explicitly state rule makefile extra benefit bit easier build kernel hypervisors load kernel elf place different default qemu one 0x40080000 example build loader.img firecracker easy  pushd build release.aarch64 loader arch aarch64 arch dtb core elf core mmu popd script build nproc image native example rofs mode release create disk kernel_base 0x80080000 script firecracker.py build release loader.img build release disk.raw ideally point future could enhance makefile make generate sort header file variable like kernel_base included source file core mmu.cc etc depend way simply passing kernel_base parameter build command would automatically rebuilt necessary source without explicitly delete relevant object file  signed waldemar kozaczuk jwkozaczuk gmail.com,,
83,c5e69e875b2602f5ac1fdda4902298fddd2b6bf4,tewart Hildebrand <stewart.hildebrand@dornerworks.com>, 2021-03-11 12:14:31 -0500, , cadence add barrier early boot good way map uart page device ngnrne memory testing hypervisor map uart page device gre memory 2nd stage translation table osv early page table map everything normal memory stage result missed character early boot osv version message appear garbled memory barrier introduced osv print proper early version message uart page doe eventually get mapped device ngnrne memory later boot process switch runtime page table signed stewart hildebrand dornerworks.com message dornerworks.com,,
84,3f09060dc73714ca26b1ee5e9fdbe9c4c66c2b7b,tewart Hildebrand <stewart.hildebrand@dornerworks.com>, 2021-03-11 12:14:30 -0500, , cadence initialize device tree add runtime map cadence uart signed stewart hildebrand dornerworks.com message dornerworks.com,,
85,d5aeb3028636604cc33f26329f4a50af83f379d4,tewart Hildebrand' via OSv Development <osv-dev@googlegroups.com>, 2021-03-11 12:14:29 -0500, , cadence add device tree parsing function par cadence uart base address irq signed stewart hildebrand dornerworks.com message dornerworks.com,,
86,3a7d6cceb0adb920fd694aa1f189c61b009b71ad,tewart Hildebrand <stewart.hildebrand@dornerworks.com>, 2021-03-11 12:14:28 -0500, , introduce cadence uart driver irq bit need cleared reading fifo register fifo register need read interrupt context therefore introduced variable _input_ready _uart_fifo store character interrupt handler retrieved service thread later driver initialized device tree follow patch modeled structure driver roughly osv pl011 driver signed stewart hildebrand dornerworks.com message dornerworks.com,,
87,be495011a39d18e6fcd702abb7ccb84a9feaa28e,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-03-13 20:00:31 -0500, , apps updated latest one signed waldemar kozaczuk jwkozaczuk gmail.com,,
88,0697b9f64536ba556bbb8e17c816a79950d2d5c6,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-03-13 17:52:13 -0500, , apps update correct tag signed waldemar kozaczuk jwkozaczuk gmail.com,,
89,7828666a28e2b4d8f9d5f088628344a762969196,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-03-13 11:56:54 -0500, , apps updated latest one signed waldemar kozaczuk jwkozaczuk gmail.com,,
90,260626d4b6d24e53fcfff8263b0b4e634088b921,otis Xenakis <foxen@windowslive.com>, 2021-03-06 17:52:40 +0200, , test add dax manager white box unit test signed fotis xenakis foxen windowslive.com message,,
91,ad7ea90ff43a33641cd49afb7bf3b7824c518f5e,otis Xenakis <foxen@windowslive.com>, 2021-03-06 17:51:51 +0200, , virtio make dax manager testable mainly includes change allowing actual dax window operation replaced stub achieve introduce new class virtiofs dax_window_impl encapsulating dax window operation previously member dax_manager introduce stub version dax window virtiofs dax_window_stub turn dax_manager class template dax window flavour normal stub parameter deemed cleaner going run time polymorphism make previously private member dax_manager protected allowing accessed test code signed fotis xenakis foxen windowslive.com message,,
92,2275ed4857c1fb5c5e3f0773cdfc45a8360e30f2,otis Xenakis <foxen@windowslive.com>, 2021-03-06 23:37:18 +0200, , virtio update fuse protocol header taken upstream qemu 5.2.0 signed fotis xenakis foxen windowslive.com message,,
93,4d329346c02e4289e480497addd429fea5b5e474,otis Xenakis <foxen@windowslive.com>, 2021-03-06 23:33:38 +0200, , script enhance virtiofsd functionality run.py signed fotis xenakis foxen windowslive.com message,,
94,999c876316c0a21a77fdd361927d08cad2f33954,otis Xenakis <foxen@windowslive.com>, 2021-03-06 23:32:42 +0200, , script add kernel command line option run.py thia add mount bootchart option signed fotis xenakis foxen windowslive.com message,,
95,a6ec0cdbe053403117f2260ecb518849bc418d29,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-03-13 10:26:27 -0500, , test improve makefile using portable case statement test makefile shell statement detect cross_prefix order use appropriate method identifying boost dependency unfortunately work shell used make bash fix replace case statement also work default shell used make signed waldemar kozaczuk jwkozaczuk gmail.com,,
96,36432c3a1cef79b7b15d79d9b7d64d82a369f1e2,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-03-01 12:14:58 -0500,1117, aarch64 use memory barrier force completion pte writes issue 1117 describes osv crash often early running qemu kvm accelleration backtrace looking like  osv v0.55.0 164 gd58635f3 getauxval stubbed page fault outside application addr register mmio_getl void volatile x00 x01 x02 x03 x04 x05 x06 x07 x08 x09 x10 x11 x12 x13 x14 x15 x16 x17 x18 x19 x20 x21 x22 x23 x24 x25 x26 x27 x28 x29 x30 esr pstate aborted backtrace mmu vm_fault unsigned long exception_frame 724 page_fault 192 1075882020 virtio device_manager 180 256 do_main_thread void 104 1077178944 thread_main_c sched cpu bool std chrono duration long std ratio 1000000000l 788  crash would happen virtio method right mmio mmap call code try access memory mapped configuration area device researching issue discovered calling mmu flush_tlb_all right mmio_mmap would make issue away clear punit agrawal discovered flush_tlb_all issue memory synchronization barrier instruction dsb followed instruction synchronization barrier instruction isb turn aarch64 architecture come weak memory model necessary force completion memory writes page table entry flush cpu instruction pipeline subsequent page table walk otherwise page table walk could trigger translation fault like one please see related fragment arm architecture reference manual 2557 state translation table walk considered separate observer explicit write translation table might observed separate observer either following translation table walk caused different explicit write generated instruction translation table walk caused explicit access generated instruction appearing program order instruction explicit write translation table explicit write translation table guaranteed observable extent required shareability attribute execution dsb instruction dsb instruction instruction performed explicit write translation table must executed writes translation table observed translation table walk explicit memory access generated load store occurs program order instruction performs write translation table comment related patch linux kernel explain need use isb instruction http github.com torvalds linux commit http github.com torvalds linux commit http github.com torvalds linux commit far solution could added inline assembly issue dsb isb pte write modification method found include osv mmu defs.hh void hw_ptep_impl write pt_element pte void write pt_element pte pt_element hw_ptep exchange pt_element newval pt_element hw_ptep pt_element newval turn central method mmu related logic get called every page manipulation case template typename pageop void map_range uintptr_t vma_start uintptr_t vstart size_t size pageop page_mapper size_t slop page_size patch modifies map_range call arch specific function issue dsb isb sequence aarch64 doe nothing x64 special credit punit agrawal discovered real culprit issue patch fixing fix 1117 signed waldemar kozaczuk jwkozaczuk gmail.com,,
97,b49485b8f39b05de20b16280419e1bcfa8911af3,hawn Barber' via OSv Development <osv-dev@googlegroups.com>, 2021-03-09 15:30:29 -0500, , modifying time function gracefully handle passed null pointer signed shawn barber shawn.barber dornerworks.com message shawn.barber dornerworks.com,,
98,bd2fa23fde8881ccf15d6b709aea3be4ba3b2c38,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-03-01 10:19:55 -0500, , aarch64 fix building ramfs image fedora signed waldemar kozaczuk jwkozaczuk gmail.com,,
99,aaab8ebcdb779cbc60651f674530869ac5cb2390,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-02-26 13:40:40 -0500,1122, aarch64 fix kernel variable access apps described issue 1122 tst promise.so tst async.so fail null pointer execution page fault crash test apps access __once_callable __once_call variable part library given linked part kernel must make sure tls_desc relocation logic handle case correctly patch change logic handle relocation arch_tlsdesc symbol found kernel accessed using correct kernel block offset like pie top patch also fix relocation logic happens get_init early boot make sure offset relevant variable __once_call case adjusted size structure essential make sure __once_proxy function see assembly calling __once_call variable using offset stored got work correctly  __once_proxy stp x29 x30 tpidr_el0 mov x29 adrp 0x40098000 ldr 2608 access offset __once_call got set nop nop ldp x29 x30 ldr mov x16 x16  fix 1122 signed waldemar kozaczuk jwkozaczuk gmail.com,,
100,94d7842b9efa29683015c5372b2d065afb04e9a0,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-02-25 00:10:28 -0500,1120, aarch64 align size kernel byte unlike x86_64 linker script aarch64 version doe align size segment byte release build happens byte aligned debug one doe cause assertion fail setup_tcb described issue 1120 segment doe need byte aligned loader elf file however setup tcb block thread initialize memory block kernel initial exec application elf object need make sure start first application block starting right kernel block byte aligned theory could deal non byte aligned segment modifying number place dynamic linker align kernel block byte easier simply align size kernel segment right parse kernel elf get_init early boot phase actually work byte size aligned segment x64 build unaligned one aarch64 build logic relevant place zero initialize correct part kernel block patch also modifies arch_setup_tls zero block 1st thread similar way done setup_tcb fix 1120 signed waldemar kozaczuk jwkozaczuk gmail.com,,
101,b4639fc827447c485418305bc1d5b4f459f2d2f8,unit Agrawal <punitagrawal@gmail.com>, 2021-02-25 20:52:58 +0900, , script build simplify libgcc_s.so.1 detection cross compiling would good support following two case distro provided cross compiler library case distro multi arch support e.g. debian derivaties local library installation needed distro support multi arch need use local installs update libgcc detection query compiler regarding location library provided correct cross_prefix specified fails find library fall back hard coded location also add message inform user fallback usage signed punit agrawal punitagrawal gmail.com message punitagrawal gmail.com,,
102,27b530f66d75bf02a59a3bc688a5d55461d18961,unit Agrawal <punitagrawal@gmail.com>, 2021-02-20 07:38:13 +0900, , update boost library detection logic cross compiling cross compiling aarch64 x86_64 host build system assumes boost library placed build aarch64 boost install assumption work well system cross library provided need manually installed doe support using multiarch distros use standard location cross library cross compiler resolve update boost library detection logic first use compiler resolve boost library native cross build failing aarch64 falling back looking hardcoded path signed punit agrawal punitagrawal gmail.com message punitagrawal gmail.com,,
103,c6c6e0cbad574d6d651fc8f2ded8c777bc61e27f,tewart Hildebrand <stewart.hildebrand@dornerworks.com>, 2021-02-19 16:52:49 -0500, , aarch64 use psci method device tree introduce separate invoke_hvc invoke_smc function determine one use based method property device tree signed stewart hildebrand dornerworks.com message dornerworks.com,,
104,b90c08c05213c330a601ca710c23e4c346a9ac4a,tewart Hildebrand <stewart.hildebrand@dornerworks.com>, 2021-02-19 16:52:48 -0500, , aarch64 add function get psci method device tree need get method property psci node device tree determine use hvc smc issue psci command http www.kernel.org doc documentation devicetree binding arm psci.txt signed stewart hildebrand dornerworks.com message dornerworks.com,,
105,84c6300f3cb22d6ed11293fde45b62fac545bb8b,tewart Hildebrand <stewart.hildebrand@dornerworks.com>, 2021-02-19 16:52:47 -0500, , aarch64 introduce dtb relocation allows use global dtb pointer switching runtime page table qemu reserve 1mb device tree 7kb actually used use fdt_pack shrink size dtb minimum relocate 64kb reserved area overwriting preboot.s code explained following commit 3024ac37 aarch64 dtb read amount memory device tree partially reverts following commit 69a0ce39 arm relocate dtb instead read ahead time use fdt_open_into relocate dtb reserve whole 64kb area allow extra room case osv driver would ever want manipulate add property device tree relocation 64kb reserved area hopefully large enough describe device see running hypervisor guest seen dtbs large 58kb case ton extra peripheral unlikely ever see running hypervisor guest signed stewart hildebrand dornerworks.com message dornerworks.com,,
106,dd5f9c3a38539969ec83fdc4b8551f7f36a87126,adav Har'El <nyh@scylladb.com>, 2021-02-21 10:32:11 +0200, , update apps submodule fix download cassandra app app used jenkins nightly run broke download problem patch fix nightly build signed nadav har nyh scylladb.com,,
107,dd2a9881de097ef1c3b240d2bb1d609780f5e769,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-02-18 17:51:51 -0500, , script make firecracker.py point artifact last signed waldemar kozaczuk jwkozaczuk gmail.com,,
108,b390b40b873a75be4bf8c8e69588dd29db36263e,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-02-16 23:22:59 -0500, , script allow building qemu source add new script allows building qemu source installs necessary package build qemu source downloads qemu source build x86_64 aarch64 version  signed waldemar kozaczuk jwkozaczuk gmail.com,,
109,52d38574efcfe0e193dcff50be432fcaa1cb174b,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-02-17 00:30:05 -0500, , script download build arbitrary version boost distribution like centos default version boost really old best option build newer one source also even fedora ubuntu might useful point different version boost script setup.py installs script automates process downloading source specified version boost building using default specified toolchain please set proper cross_prefix intend cross compile aarch64 version boost x86_64 machine like cross_prefix aarch64 none linux gnu script 1.70.0 aarch64 built version boost symlinked build arch boost install directory automatically used cross compiling aarch64 osv kernel order use x64 version boost built using script still need make change main makefile module common.gmk signed waldemar kozaczuk jwkozaczuk gmail.com,,
110,9635c453d042d324f8d7a255559294bbad2151fb,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-02-08 12:15:21 -0500, , setup support centos patch modifies setup.py support installing necessary package build test osv centos please note unlike distribution use default package gcc qemu pretty old instead enable scl repo install developet toolset come gcc binary package repo qemu guess could install one fedora instead provide script build qemu source see patch signed waldemar kozaczuk jwkozaczuk gmail.com,,
111,765fa172ab4172c49e5c8636ebb6a828552a1cae,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-02-07 15:31:15 -0500, , boost enhance module common.gmk build arbitrary boost distribution like centos version boost come old desirable use version boost built independently using script script patch enhances module common.gmk used test module detect handle new parameter boost_base point base folder boost built example kernel test module built arbitrary boost boost_base build x86_64 boost install script build image test signed waldemar kozaczuk jwkozaczuk gmail.com,,
112,5a9be20243fd15ef1875a5dac18a4293d96ba87c,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-02-07 15:30:39 -0500, , boost enhance main makefile build arbitrary boost distribution like centos version boost come old desirable use version boost built independently using script script patch enhances make makefile detect handle new parameter boost_base point base folder boost built example kernel built arbitrary boost boost_base build x86_64 boost install script build image native example signed waldemar kozaczuk jwkozaczuk gmail.com,,
113,20b3bab45ab8a777057771d01152b26750baa014,tewart Hildebrand <stewart.hildebrand@dornerworks.com>, 2021-02-08 13:45:45 -0500, , add script download aarch64 cross compiler toolchain source able script downloads aarch64 toolchain extract sourced add path path ccache installed also add ccache directory front path add check osv build script source toolchain arch aarch64 toolchain downloaded build directory add centos option download toolchain change logic ubuntu due possibility ending unvetted combination gcc version various ubuntu system library could built different version gcc toolchain still used ubuntu sourcing directly case recommend building boost dependent library source ensure built toolchain used build osv apps module toolchain work distribution arm support ubuntu 16.04 lts later rhel later tested centos ubuntu 18.04 primary motivation support aarch64 build centos epel repository centos doe aarch64 cross compiler toolchain available quite old version 4.8.5 ubuntu aarch64 cross compiler toolchain conflict gcc multilib package using arm toolchain allows avoid particular issue toolchain doe provide boost boost need built boost built script script directory built manually instruction used building boost source ensure current working directory root osv repository run following command source script mkdir build aarch64 boost pushd build aarch64 boost wget http dl.bintray.com boostorg release 1.70.0 source tar boost_1_70_0 boost_dir pwd bootstrap.sh echo using gcc arm aarch64 none linux gnu user config.jam user config boost_dir user config.jam toolset gcc arm architecture arm address model nproc building boost need set symlinks osv find boost header library ensure current working directory boost source directory boost_dir already run following command boost_1_70_0 stage install mkdir stage usr include boost stage usr include boost popd building boost setting symlinks ready build osv aarch64 toolchain script build arch aarch64 ramfs create disk image native example nproc signed stewart hildebrand dornerworks.com message dornerworks.com,,
114,a796c9ac6a2a58987962174c3aa68c62efe2a73b,tewart Hildebrand <stewart.hildebrand@dornerworks.com>, 2021-02-08 13:45:44 -0500, , build set arch arg parsing loop add case initial argument parsing loop set variable append args array follow patch need know cross build case passing arch aarch64 required thus arch variable set initial arg parsing loop arch given build command line unset initially okay since need arch variable early explicitly given build command line arch variable still set later script regardless use cleaner syntax appending array fixup outdated comment signed stewart hildebrand dornerworks.com message dornerworks.com,,
115,fd2ef3a51e80d6fc9a9e5911aa809ee06d7aacc4,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-02-07 14:37:04 -0500, , aarch64 make dl_tests makefile build aarch64 patch change dl_tests makefile delegate module common.gmk support building dl_tests module x64 aarch64 patch also effectively make tst dlfcn.so pas aarch64 signed waldemar kozaczuk jwkozaczuk gmail.com,,
116,6d522a5850a226ec2c94429c720df74fe4aacfe0,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-02-07 20:25:12 -0500, , test handle generic cross_prefix aarch64 build instead gcc specific aarch64 linux gnu cross_prefix look generic one start aarch64 make test makefile function properly toolchains gcc also explicitly set ld_library_path boost lib dir set module common.gmk make ldd find location boost binary even test built arbitrary version boost specified boost_base parameter signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
117,320f808446e2f1f773a858757589d5d000851c81,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-02-07 14:24:52 -0500, , script run.py use qemu_path use arbitrary qemu executable sometimes desirable use arbitrary version qemu executable running osv script run.py take qemu path already script like script build delegate run.py either accept qemu path argument pas run.py instead allow one set environment variable qemu_path would used set exported shell invoking run.py script calling signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
118,6a02ba879426bf185627c71c1348a4e382421fb7,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-02-07 09:57:47 -0500, , aarch64 handle r_aarch64_copy relocation patch enhances dynamic linker handle copy relocation aarch64 exactly way x86_64 enough support running python osv arm signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
119,5e68ed9fc76d9d1e5b454dd2c5a7fed0b172eb09,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-02-07 09:49:47 -0500, , aarch64 fix loader.py use correct register script loader.py used gdb provide extra osv specific capability wrong register x30 reference instruction pointer x30 actually used link register hold address return branching instead patch change loader.py use proper register signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
120,e91639038d989234e2210ba60d4e1554aaaaabf9,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-02-02 23:14:49 -0500, , test tst disable part testing pinning cpu aarch64 running tst single cpu osv crash page fault accessing 2nd cpu pin thread therefore patch change test like tst pin.cc disable warn part exercising pinning run single cpu signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
121,9c8ee44bd67b3031d857f31319783a53e3889258,tewart Hildebrand' via OSv Development <osv-dev@googlegroups.com>, 2021-01-29 21:59:25 -0500, , aarch64 use proper data size __loader_argc __loader_argc bit must use bit register load value otherwise risk unintentionally loading wanted debug build mode debug failed following linker error build debug.aarch64 arch aarch64 boot.o function start_elf home stew osv arch aarch64 boot.s .text 0x5c relocation truncated fit symbol __loader_argc defined .bss section build debug.aarch64 loader.o aarch64 none linux gnu ld.bfd home stew osv arch aarch64 boot.s warning one possible cause error symbol referenced indicated code larger alignment declared defined patch resolve linker error signed stewart hildebrand dornerworks.com message dornerworks.com,,
122,db719ec150ffda274402f1e7104dc8408389f00e,tewart Hildebrand' via OSv Development <osv-dev@googlegroups.com>, 2021-01-29 21:58:41 -0500, , virtio mmio add null check fix following crash observed early boot hypervisor without virtio device variable null page fault outside application addr register virtio device_manager 136 x00 x01 x02 x03 x04 x05 x06 x07 x08 x09 x10 x11 x12 x13 x14 x15 x16 x17 x18 x19 x20 x21 x22 x23 x24 x25 x26 x27 x28 x29 x30 esr pstate aborted backtrace 1910276 mmu vm_fault unsigned long exception_frame 300 page_fault 192 2115620 448 do_main_thread void 120 3385640 thread_main_c sched cpu bool std chrono duration long std ratio 1000000000l 804 signed stewart hildebrand dornerworks.com message dornerworks.com,,
123,b4803ae66d55fa37fafa8c7375664ed263f1d206,tewart Hildebrand' via OSv Development <osv-dev@googlegroups.com>, 2021-01-29 21:58:12 -0500, , build use cross_prefix defined signed stewart hildebrand dornerworks.com message dornerworks.com,,
124,8f1e82512ca935b20434f7ba052c709cb68c9b86,tewart Hildebrand' via OSv Development <osv-dev@googlegroups.com>, 2021-01-29 21:57:30 -0500, , aarch64 boot.s fix preboot pagetables preboot page table mapping lower 3gb patch add identity mapping range 3gb 4gb comment pagetables wrong patch also fix comment signed stewart hildebrand dornerworks.com message dornerworks.com,,
125,4f7e9584050eb2358c6831197dbcabcfe1bf0e27,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-01-21 16:17:11 -0500, , httpserver api include common.gmk patch simplifies enhances httpserver api makefile including new module common.gmk identifies common compiler flag depending architecture possibly cross compiler prefix locates common shared library patch also make generated output artifact build release arch module httpserver api instead module httpserver api signed waldemar kozaczuk jwkozaczuk gmail.com,,
126,6ee2f5340078b7005f2640c88e8967159c62c6ee,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-01-21 16:14:51 -0500, , httpserver monitoring api include common.gmk patch simplifies enhances httpserver monitoring api makefile including new module common.gmk identifies common compiler flag depending architecture possibly cross compiler prefix locates common shared library patch also make generated output artifact build release arch module httpserver monitoring api instead module httpserver monitoring api signed waldemar kozaczuk jwkozaczuk gmail.com,,
127,c606c2295afa6b1a2748d9121ec401db7aaa1d08,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-01-21 15:56:29 -0500, , libtools include common.gmk patch simplifies enhances libtools makefile including new module common.gmk identifies common compiler flag depending architecture possibly cross compiler prefix locates common shared library patch also make generated output artifact build release arch module libtools instead module libtools signed waldemar kozaczuk jwkozaczuk gmail.com,,
128,f2fc4a1f959c215009dcf1efdadbd0fcacaa5c1f,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-01-21 15:54:09 -0500, , test simplify makefile including new module common.gmk patch simplifies test makefile including new module common.gmk identifies common compiler flag depending architecture possibly cross compiler prefix locates common shared library signed waldemar kozaczuk jwkozaczuk gmail.com,,
129,9ac66a3afff2d30a67bbede9e85928044c0eb08b,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-01-21 15:52:04 -0500,1105, module add common makefile allow cross compiling currently many variable rule repeated across makefiles individual module module subdirectory make thing worse module except test support cross compiling aarch64 address patch add common makefile module common.gmk intended included makefiles individual module use common rule variable specificaly common.gmk similarly main makefile discovers host architecture cross compiler prefix applicable identify directory standard boost header well location shared library like libstdc .so libgcc_s.so.1 similarly main makefile logic work native x86_64 aarch64 host well cross compiling aarch64 x64 ubuntu fedora eventually common compiler flag including include header set common variable fix 1105 signed waldemar kozaczuk jwkozaczuk gmail.com,,
130,37fc9b1233a5348e4092bcc00eaa90f902949cb7,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-01-20 10:23:13 -0500, , include support compiling osv centos gcc specifically setup centos reference obsolete glibc isinf isnan function cmath header doe defining macro bit config.h osv doe provide obsolete function compiling source using math header get error caused clash isinf isnan macro solve problem simply undef osv math.h header signed waldemar kozaczuk jwkozaczuk gmail.com,,
131,d4829a53fcf3c7fd26dc0a291046e41af7ec2a6c,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-01-20 13:48:53 -0500, , aarch64 enhance setup.py install multi arch gdb package ubuntu signed waldemar kozaczuk jwkozaczuk gmail.com,,
132,0161a23a70a41c068e823e4b338f3eed280aab95,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-01-20 10:08:48 -0500, , syscalls ignore missing sys_mkdir aarch64 mkdir syscall available aarch64 like many one let try provide syscall handler linux.cc otherwise get compilation error signed waldemar kozaczuk jwkozaczuk gmail.com,,
133,f4aa69d3c9a92a059980e460fd080e51f7271a14,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-01-19 13:16:26 -0500, , script enhance work aarch64 host signed waldemar kozaczuk jwkozaczuk gmail.com,,
134,583803437d991011be73e2d253784e815a7504ec,tewart Hildebrand' via OSv Development <osv-dev@googlegroups.com>, 2021-01-16 10:51:26 -0500, , aarch64 support downloading package ubuntu 18.04 x64 codename returned ubuntu 18.04 bionic beaver want bionic switch codename grab correct form codename also fixup url generated downloading boost package include patchlevel boost version patchlevel non zero tested ubuntu 18.04 ubuntu 20.04 fedora signed stewart hildebrand dornerworks.com message dornerworks.com,,
135,a0761f8dac58e51b6cb01d6a6b0250625683a796,avid Smith <d7878291@gmail.com>, 2021-01-15 13:33:59 +0000, , fix mkdir syscall issue implement mkdirat signed david smith d7878291 gmail.com message d7878291 gmail.com,,
136,0a591e0050f5d0582be58b9faedfb4e4e75e75f0,ALDEMAR KOZACZUK <jwkozaczuk@gmail.com>, 2021-01-07 17:23:55 -0500, , doc update readme.md aarch64 build information,,
137,29fc6b82f45a3322e00256bdb5ca29c95d1ac93a,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-01-05 11:37:08 -0500,1106, aarch64 support compiling kernel natively aarch64 host patch mainly modifies main makefile support compiling osv kernel natively aarch64 hardware like rpi odroid rockpro64 time also support cross compiling aarch64 kernel x86_64 ubuntu fedora host achieve mainly drop many conditionals ifeq arch aarch64 ifeq arch x64 drive inclusion aarch64 x64 boost gcc header favour sigle block testing cxx_includes cross_prefix variable please note cxx_includes variable set header path x86_64 aarch64 host compiling corresponding arch artifact host_arch arch well ubuntu x86_64 cross compiling aarch64 version host_arch x64 arch aarch64 latter work like corresponding ubuntu package come gcc header fedora still need point build aarch64 gcc install directory install aarch64 package fedora repo library binary like .so file use cxx print file name technique find x86_64 aarch64 host compiling natively cross compiling aarch64 ubuntu x86_64 otherwise cross compiling fedora x86_64 fallback directory build aarch64 gcc install finally cross compiling aarch64 boost always point header includes patch build aarch64 boost install fix 1106 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
138,b6508bffb751821b4e815138308038ff501f617d,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-01-05 10:03:17 -0500, , aarch64 support downloading aarch64 package ubuntu x64 patch add ability download necessary package ubuntu x86_64 host support cross compiling aarch64 version osv kernel essence add new shell script downloads debian style package deb either main universe ubuntu port repository also enhance renamed support detecting ubuntu host delegating download individual deb package please note unlike fedora ubuntu package aarch64 linux gnu doe come header gcc library binary like libstdc .so.6 libgcc_s.so need download aarch64 version boost library signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
139,55771e1faa42ba2d5382c0f042ec728565d55ab5,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-01-03 16:25:19 -0500, , setup install aarch64 cross compile package x86_64 host patch mainly adjusts list package installed x86_64 ubuntu host replaces meta package multilib aarch64 linux gnu provide aarch64 cross compiler tool header library time also tweak logic ubuntu fedora install relevant aarch64 cross compiler related package host x86_64 also make setup.py work properly aarch64 hardware eventually allow build aarch64 kernel natively hardware fix makefile accommodate case signed waldemar kozaczuk jwkozaczuk gmail.com,,
140,a0c1a5a275445c1b2b65b67b690efe1e371e855f,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-01-03 09:56:28 -0500,1091, aarch64 implement armclock patch provides missing implementation arm_clock driver simply use formula arm_clock uptime method instead reading counter simply apply passed one convert nanosecond enough make bootchart work properly aarch64 partially address 1091 signed waldemar kozaczuk jwkozaczuk gmail.com,,
141,978a522ba7b8605102612577a59e9f49d10dc07a,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-01-03 09:53:59 -0500, , aarch64 make boot message quieter consistent x86_64 likely early stage aarch64 port development valuable print debug message unfortunately creates lot noise console output especially every page fault get extensively loggged patch simply disables relevant debug statement using macro would still get printed debug build also make console output consistent print x86_64 verbose flag signed waldemar kozaczuk jwkozaczuk gmail.com,,
142,8c691c576c271e7f423543d5004ed32b4a969157,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-01-03 09:47:11 -0500, , bootchart print empty entry aarch64 first bootchart entry never recorded specific x86_64 measuring bit phase boot process unfortunately cause printed null bootchart option added command line patch simply change boot_time_chart print_one_time ignore empty entry signed waldemar kozaczuk jwkozaczuk gmail.com,,
143,0840e0f21bdf4aa966b04ac58666dc7c9d6db7fa,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2021-01-03 09:44:14 -0500, , aarch64 disable rofs cache run.py clear commit fixed issue possibly musl upgrade rofs work well cache aarch64 patch remove unnecessary logic run.py signed waldemar kozaczuk jwkozaczuk gmail.com,,
144,0cf6acc7b2504a3aa985ceed26b187e6061a31e1,adav Har'El <nyh@scylladb.com>, 2020-12-29 15:58:30 +0200, , add test fread hang reading directory commit fixed bug fread directory hang instead resulting error expected however test case patch add one new test hang aforementioned commit pass without test also pass linux signed nadav har nyh scylladb.com message nyh scylladb.com,,
145,bba66686bf6a67184bd6ab8af172bec115dcff31,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-12-28 15:05:17 -0500, , travis upgrade newer docker base image ubuntu 20.10 signed waldemar kozaczuk jwkozaczuk gmail.com,,
146,0d4d8fd6752521bed92a4be194403b89955b591f,adav Har'El <nyh@scylladb.com>, 2020-12-28 15:53:52 +0200, , musl fix __stdio_read.c conform new musl copy __stdio_read.c complicated take musl locking difference however one recent change file forgot take commit f92804188 musl repository rich felker feb. 2018 changed fread assume read return error instead patch fix __stdio_read return need well without patch new musl fread encounter error e.g. try read directory infinite loop iteration increase remaining byte instead decreasing number read byte normal signed nadav har nyh scylladb.com message nyh scylladb.com,,
147,d70d0932abfd8c066640ae4bb11a2f6ab5e27d94,adav Har'El <nyh@scylladb.com>, 2020-12-28 12:50:35 +0200, , script setup.py simplify fedora lua requirement fedora release installs whatever lua version available release pointless specify specific version install happens default anyway signed nadav har nyh scylladb.com message nyh scylladb.com,,
148,71919b9bb50604da56dec0ebe6cd046fc6f2db8a,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-12-28 01:41:01 -0500,1100, aarch64 synchronize data instruction cache loading code memory quite small simple patch taken almost month researching understanding problem finding right solution involved reading armv8 programmer guide posting question arm forum well trying debug problem mostly trial error fashion somewhat documented issue 1100. special credit claudio fontana helped tremendously explaining suggesting many valuable idea issue 1100 explains osv would occasionally quite repeatedly depending application crash due unexpected unknown reason class synchronous exception would never happen emulated mode qemu tcg quite freqently real arm hardware like rpi qemu kvm firecracker per arm documentation http doc ddi0595 aarch64 system register esr_el1 many potential cause exception including attempted execution instruction bit pattern allocated instruction mean trying execute garbage potential cause quite meticulously researched examined discussed claudio seem apply make much sense osv context one stumbled across article http developer product processor processor blog post cache self modifying code self modifying code initially article seemed apply jit type scenario eventually seeing small font annotation common though obvious example operating system kernel point view processor code system modifying code system every time process swapped kind started making think osv dynamic linker somewhat close eventually found paragraph armv8 programmer guide chapter 11.5 cache maintenance sometimes necessary software clean invalidate cache might required content external memory changed necessary remove stale data cache also required mmu related activity changing access permission cache policy virtual physical address mapping cache must synchronized dynamically generated code jit compiler dynamic library loader essence aarch64 architecture modified harvard defines separate instruction data cache cache cache therefore sometimes necessary synchronize cache cleaning cache invalidating cache cache loading code memory exactly article self modifying code explains doe apply osv well osv dynamic linker part kernel code load memory application code doe mean osv modifies kernel code however dynamically load another code executes memory space making long story short patch modifies critical part osv memory management code populate_vma get called time vma portion page filled due page fault eagerly change populate_vma making synchronize data instruction cache vma executable per permission essence time code loaded memory achieve delegate obscure built __clear_cache logic actually x86 port architecture strong coherency instruction data cache need anything special case fix 1100 signed waldemar kozaczuk jwkozaczuk gmail.com,,
149,52d4f05da9579e5c6caaa4f0ef92893f70df91a2,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-12-21 11:34:49 -0500, , makefile added comment justifying building kernel object fno pie signed waldemar kozaczuk jwkozaczuk gmail.com,,
150,5c7f4c083b7059526076748b1425a2a765681353,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-12-16 22:49:50 -0500,1112, kernel enforce object file compiled fno pie linux distribution like ubuntu gcc compiles file fpic flag default discovered accident researching issue 1112. detail please read http ubuntu source gcc default bug 1574982 default behavior doe seem affecting x86_64 version loader.elf negative way hand aarch64 version loader.elf cross built built natively ubuntu get produced way code early boot code relies dynamic relocation processed ahead time essence compiler generates machine code reference address got table access global variable prevents osv booting due crash caused invalid memory access initializing early console one way fix hide problem compile specific source file fvisibility hidden fvisibility inlines hidden even better proper solution enforce object file kernel linked compiled fno pie regardless gcc default given distribution effectively make gcc generate machine code doe rely got access global variable instead reference variable address calculated linking time addition compiling fno pie make sence given osv kernel loader.elf kernel.elf position dependant executable intended loaded specific address memory fix 1112 signed waldemar kozaczuk jwkozaczuk gmail.com,,
151,21440360f41803fc54460ae78b3d928837621e5d,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-12-19 16:03:35 -0500, , aarch64 update syscall.h correct number original version bit syscall.h likely copied x64 thus contains completely wrong number patch update include api aarch64 bit syscall.h correct number based musl version file arch aarch64 bit syscall.h.in please note aarch64 missing older syscalls like sys_open sys_epoll_wait sys_select sys_stat reason also need update linux.cc ifdef disable defined finally also need add couple new syscall function translation libc signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
152,4499f2c742dab01eb009e90a64267e2e89ed7268,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-12-19 16:03:34 -0500, , vfs add minimal implementation unlinkat aarch64 version linux doe implement sys_unlink musl stdio tmpfile.c case fall back sys_unlinkat patch add minimal implementation unlinkat enough make tmpfile functional tmpfile call unlinkat dirfd at_fdcwd flag version unlinkat implement signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
153,5e865726d8f1352862920044f111a1b1cd2fb3c7,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-12-15 00:12:18 -0500,1100, aarch64 properly handle unexpected synchronous exception per code arch aarch64 entry.s set exception vector table osv handle exception current spx word implemements proper handler exception raised exception level el1 exception never really happen would caught entry_invalid routine essence make osv guest hang synchronous exception handler el1 entry_sync intended handle page fault caused attempt read write execute page memory filled yet accomplish assembly code determines class exception based value esr register exception syndrome register different data abort instruction abort branch entry_invalid handler unfortunate make debugging crash problem like 1100 way laborious requires connecting gdb jus see issue patch change entry_sync make branch new instead entry_invalid order print state register backtrace console finally abort guest signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
154,04a3d7e557c3813a2ffc9ca7b66880c821e92b4f,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-12-13 09:43:45 -0500, , build enforce partial relro internal apps linux distribution like ubuntu fedora gcc link shared library executables partial relro others like nix full relro mode used essence partial relro mode certain part elf segment like got left writable processing header thus allowing called lazy resolving symbol later hand full relro mode symbol resolved eagerly got part disabled writing detail please read article http exploitation 20mitigation 20techniques exploitation 20techniques 2011 relro relocation read mode supported osv dynamic linker full relro mode osv actually ignores symbol found resolving eagerly internal applizations like mkfs.so zfs.so depend common library libzfs.so weirdly libzfs.so also symbol mkfs.so zfs.so aforementioned apps linked full relro creates problem executed sequentially osv instance case building zfs image specifically mkfs.so full relro executed first symbol mkfs.so libzfs.so found point resolved eagerly got made read example one symbol referenced libzfs.so bsd_getmntany bsd_getmntany part zfs.so loaded yet point reference libzfs.so left unresolved finally zfs.so loaded osv resolve symbol zfs.so eagerly try run unfortunately process bsd_getmntany called code libzfs.so trigger resolve_pltgot find bsd_getmntany symbol fails page fault got libzfs.so marked read clear situation real world scenario would apply real linux app case would mean osv dynamic linker limitation handle scenario explictly telling gcc use partial relro mode mkf.so zfs.so internal apps library regardless default given linux distribution signed waldemar kozaczuk jwkozaczuk gmail.com,,
155,8a2339ebc873bf54242714302327b1b844bf1f65,amuel Laberge <samlaberge817@gmail.com>, 2020-12-09 09:30:09 -0700,1104, reject executables non matching machine type whenever elf file loaded machine identifier compared kernel differ executable rejected fix 1104 signed samuel laberge samlaberge817 gmail.com message samlaberge817 gmail.com,,
156,fa6c5c437131ecdc26b92d4e5e0deb56065d90c4,amuel Laberge <samlaberge817@gmail.com>, 2020-12-06 12:52:48 -0700, , fix kill test non zero pid signed samuel laberge samlaberge817 gmail.com message samlaberge817 gmail.com,,
157,c5a08457c6d0ce82eee4f9899c2e84591d80e7f6,amuel Laberge <samlaberge817@gmail.com>, 2020-12-06 12:52:47 -0700, , make getpid return non zero number getpid longer return pid kernel application instead constant defined include osv pid.h signed samuel laberge samlaberge817 gmail.com message samlaberge817 gmail.com,,
158,6759936942df8de66a1d7dfe96c2e3e617da0d2d,atthew Kenigsberg <matthewkenigsberg@gmail.com>, 2020-12-05 09:09:18 -0800, , handle newline etc release current code assumes every line split throw exception newlines signed matthew kenigsberg gmail.com message 3a466afd 3314 4ef4 9542 ca774c52fb36n,,
159,8ed8868d4a655d2d4c141a1fee5d64d9b021a5cb,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-11-25 00:04:44 -0500, , libc add alias getauxval signed waldemar kozaczuk jwkozaczuk gmail.com,,
160,f2ad7cebb4f42faabf754796a0e6a1edae50bce4,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-11-24 10:49:25 -0500, , setup support fedora script also remove support older version fedora signed waldemar kozaczuk jwkozaczuk gmail.com,,
161,78013c49c9126768c92254ed9f1326ea19d75da3,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-11-24 10:44:57 -0500, , script make test script work latest python fedora old method isalive thread class removed latest version python fedora 33. let test isalive present otherwise fallback newer is_alive signed waldemar kozaczuk jwkozaczuk gmail.com,,
162,3d352706c8e6886de68ee6f1555ca0621b5fe3e4,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-11-23 09:59:16 -0500, , setup support ubuntu 20.10 signed waldemar kozaczuk jwkozaczuk gmail.com,,
163,9326e52e51d55073d91ef353f5e1f75483e1b9b7,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-11-23 09:56:42 -0500, , java make optional openjdk8 host module look like openjdk8 newer version ubuntu longer depend library let make optional also work older version ubuntu signed waldemar kozaczuk jwkozaczuk gmail.com,,
164,32714ce9b6c86c64721953efc48be2d305410e55,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-11-23 09:49:49 -0500, , script add optional mode option script used find library file linux host filesystem building many module apps sometimes individual library may present specific version given linux distribution see openjdk8 host case let add new option make script ignore missing library signed waldemar kozaczuk jwkozaczuk gmail.com,,
165,447c5ecc3b0c0ba1d8dd2a369e6a292d18d6bb6d,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-11-23 09:47:15 -0500, , x64 fix assembly warning vmlinux boot64.s newer version gcc started complaining unspecific size version lret instruction let make specific quiet signed waldemar kozaczuk jwkozaczuk gmail.com,,
166,43006912eadfb33a841258c88fff39644dd47ba5,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-11-22 00:26:44 -0500, , aarch64 store esr exception syndrom register exception frame chasing another bug discovered synchronous exception handler entry_sync saving state esr_el1 part exception frame even though already field handler entry_sync acting correctly value esr_el1 saved part frame downstream logic arch aarch64 mmu.cc core mmu.cc relying value returned get_error method would receive bogus value occasionally crash error like page fault outside application ... due wrong permission patch fix adding single line assembly entry.s save esr_el1 esr field frame signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
167,04056235f0533ae90ca07ba9341ae308f18f78d7,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-11-22 00:26:43 -0500, , aarch64 implement dump_registers patch provides full implementation dump_registers help diagnose exception list state relevant register including x30 esr exception syndrom register pstate processor state signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
168,ad36240fd7d2bb76b0361e3424a42631a9768d8f,avid Woodhouse <dwmw2@infradead.org>, 2020-11-18 21:48:58 +0000,0, x64 parse x2apic cpu definition madt table osv failing boot handle old style bit definition fix handle new acpi 4.0 2009 one also add fallback parse_mp_table register cpu else fails signed david woodhouse dwmw2 infradead.org,,
169,7d1a4f1901d6f84b0ed04ab1480f58067ead792d,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-11-10 11:10:33 -0500, , test make irrelevant build message quiet signed waldemar kozaczuk jwkozaczuk gmail.com,,
170,cf95715570b89236d26fa39a12e1abe87bbb9015,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-11-10 10:59:30 -0500, , build run maven java module nothing change currently every time one build run unit test build process executes maven dependant java module like java isolated java test even change made relevant java source file pom file add second every unit test run make process building running test unnecessary slow patch remove unnecessary maven run optimizing java module makefiles make run java source file pom file change make unit test build fall second signed waldemar kozaczuk jwkozaczuk gmail.com,,
171,cd6c1a2de78234bd322bb0dc22e93a39fdc0f880,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-11-08 17:09:35 -0500,855, test enable tst feexcept running kvm issue 855 explains tst feexcept.cc fails asserts running qemu fully emulated mode tcg due shortcoming qemu emulation certain type fpu exception unit test test test work correctly qemu kvm well firecracker patch modifies test.py detect hypervisor enable tst feexcept.so kvm signed waldemar kozaczuk jwkozaczuk gmail.com,,
172,6ddb9c20b4a43f067ba0932477ff1f4ecb4a899e,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-11-08 14:20:56 -0500, , replaced offensive name variable method better one signed waldemar kozaczuk jwkozaczuk gmail.com,,
173,24de423a0c4f8d3efe7f6222d791c28a7fdd0f14,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-11-08 11:35:09 -0500, , virtio removed commented sleep virtio constructor signed waldemar kozaczuk jwkozaczuk gmail.com,,
174,d16c789fd79c277cdeffc23462b064c423e0be2c,otis Xenakis <foxen@windowslive.com>, 2020-11-04 18:09:31 +0200, , virtio set feature bit virtio modern virtio device current qemu implementation failed set corresponding feauture bit driver device complain qemu commit changed virtiofsd fails feature bit offered driver patch driver offer said feature bit signed fotis xenakis foxen windowslive.com message,,
175,571e8f2db9bcc6f3b3e3b3d53c59a063780a2387,otis Xenakis <foxen@windowslive.com>, 2020-11-04 18:08:45 +0200, , virtio fix return type virtio spec defines feature field bit lower part virtio driver virtio virtio_driver treated interface specific driver override feature bit virtio virtio_driver limited bit patch rectifies changing function signature override various driver signed fotis xenakis foxen windowslive.com message,,
176,ec8d020a5a2281860bf7f0f0054e44672f76cf2d,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-11-08 11:23:20 -0500, , firecracker upgrade latest 0.23.0 signed waldemar kozaczuk jwkozaczuk gmail.com,,
177,9e7010d5eb8c2d1ec4d339a0336ed99be381f649,ALDEMAR KOZACZUK <jwkozaczuk@gmail.com>, 2020-11-06 14:35:31 -0500,1107, merge pull request 1107 punitagrawal master script update script download rpm package,,
178,c7d02f47f103603a34385f4d7194c3507045725f,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-11-06 13:25:42 -0500, , script fixed build capstan mpm package use correct parameter new capstan 0.5 signed waldemar kozaczuk jwkozaczuk gmail.com,,
179,8eac5bf89f491483f3d0c4c27b2f7d465169faf9,unit Agrawal <pagrawal@lynx.com>, 2020-11-03 10:00:33 +0900, , script update script download rpm package since script originally written thing location fedora repository format html page changed lead error setting cross build environment arm64 fix issue updating repo url regular expression used parse package version note mechanism download package little fragile may break future hopefully away build system migrated use native distro package signed punit agrawal pagrawal lynx.com,,
180,3e898f4d9ceb32d6e23df8518589881883414a8e,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-10-22 14:23:54 -0400,1101, aarch64 support static thread local storage patch implement necessary change support static local exec initial exec aarch64 port please note effectively allows apps using along initial exec loaded library dlopen run osv includes related unit test overall code change mimic x64 static counterpart except layout static conforms variant described drepper paper block left right offset positive also specifically support aarch64 requires handling called descriptor essence provide extra redirection based resolvers called yield based offset variable besides also need handle regular relocation detail please see http www.fsfla.org lxoliva writeups rfc tlsdesc arm.txt fix 1101 signed waldemar kozaczuk jwkozaczuk gmail.com,,
181,8ef3841f23d8c7987037bddf05071cd9833ff232,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-10-22 14:02:12 -0400, , elf refine logging patch add new build configuration option conf debug_elf intended enable logging dynamic linker logic also refines add relevant comment signed waldemar kozaczuk jwkozaczuk gmail.com,,
182,ef62b24d3b1dfe310aca7a1732abce223e4a124a,ALDEMAR KOZACZUK <jwkozaczuk@gmail.com>, 2020-10-19 10:12:08 -0400,1102, fix typo mention osv boot virtio filesystem fix 1102,,
183,5a2353cf7fd03212317f0b50178825ac10472bfb,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-10-18 10:15:38 -0400, , test fixed dependabot junit security alert signed waldemar kozaczuk jwkozaczuk gmail.com,,
184,a00819d305aabc832bbc906080e3dad77d0681d5,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-10-18 10:11:01 -0400, , test make related test build aarch64 signed waldemar kozaczuk jwkozaczuk gmail.com,,
185,60369ab0bd30aa240538f2cff525760a2e828a41,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-10-09 17:02:08 -0400,1092, aarch64 fix memory mapping initialization booting vcpus issue 1092 explains osv hang time booting vcpus specifically happens non emulated mode qemu firecracker kvm acceleration real hardware host like raspberry also important mention occasionally osv successfully boot one vcpu setup based result remote debugging session seems osv hang primary vcpu smp_launch routine waiting secondary vcpus come specifically stack backtrace secondary cpu seems indicate exception raised init_mmu function boot.s line 161 http github.com cloudius system osv blob arch aarch64 boot.s l161 executed right would mean secondary vcpu crashed secondary cpu register ttbr0_el1 ttbr1_el1 hold address translation table root set seems incorrect likely caused crash init_mmu ttbr0_el1 ttbr1_el1 register prepared set copy value smpboot_ttbr0 smpboot_ttbr1 global variable smpboot_ttbr0 smpboot_ttbr1 variable set loop smp_launch every secondary vcpu seems wrong done seems secondary vcpu boot call doe see correct value global variable memory possibly due memory coherency side effect patch make smpboot_ttbr0 smpboot_ttbr1 set much earlier exactly runtime translation table switch executed primary cpu function change make osv boot time vcpus still hang sometimes likely explained fact directly runtime tranlation table resides memory visible default counter patch also change boot.s first enable boot translation table switch runtime table see added call init_boot_pt init_mmu based empirical test 100 execution osv boot vcpus kvm acceleration fix 1092 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
186,0051eb5dd74b9aa2d429629b046f4d0dc58b7b3a,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-10-09 15:40:56 -0400, , libc updated arch signal readmes signed waldemar kozaczuk jwkozaczuk gmail.com,,
187,df598c6e8fabdaf5883ef502a0a26fb8f8805dec,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-10-07 12:03:06 -0400, , aarch64 implement sigsetjmp siglongjmp musl upgrade version 1.1.24 easiest way support sigsetjmp siglongjmp aarch64 would simply point new musl version sigsetjmp.s siglongjmp.c get rid stub libc arch aarch64 setjmp x64 version libc arch x64 setjmp originate older musl unfortunately latest musl x64 code sigsetjmp.s siglongjmp.c doe work correctly osv unknown reason likely due change made musl part commit http git.musl libc.org cgit musl commit detail speculation doe work please see discussion osv mailing list http osv dev ejxv0daam20 ryvdj1hbcgaj reason forced keep current version sigsetjmp.s siglongjmp.c libc arch tree x64 update non functional stubbed implementation sigsetjmp.s pre version sigsetjmp.s musl aarch64 unfortunate end old musl code mixed almost latest 1.1.24 hand number file related signal setjmp functionality come musl relatively small file hopefully future upgrade musl require change area unless example implementation setjmp.s longjmp.s new version somehow becomes incompatible old sigsetjmp.s siglongjmp.c addition patch clean libc arch moving non arch specific code siglongjmp.c block.c libc arch aarch setjmp new folder libc signal patch also enables unit test failing due missing sigsetjmp siglongjmp support aarch64 brings number test pas aarch64 100 finally patch make tst setjmp.cc pas aarch64 signed waldemar kozaczuk jwkozaczuk gmail.com,,
188,8afecd2ed0dde62ca78eae35049ed5e4445abc0b,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-10-07 10:46:48 -0400, , test add simple tst setjmp.cc verify setjmp longjmp sigsetjmp siglongjmp functionality test fails aarch64 fix broken setjmp longjmp sigsetjmp siglongjmp aarch64 signed waldemar kozaczuk jwkozaczuk gmail.com,,
189,e60cf78e7ed50bb9d24da63b0a8f406bb4bf4ff9,adav Har'El <nyh@scylladb.com>, 2020-10-08 18:37:56 +0300,1099, simplify avoid extension macro used __va_opt__ extension older compiler ubuntu 18.04 understand luckily even need use extension macro file used elaborate way change fcntl parameter intact easiest way achieve goal define name without even telling preprocessor function change fcntl worry anything may may appear afterwards parenthesis easier shorter specific fix 1099 signed nadav har nyh scylladb.com,,
190,bd3c1e8b1443ca0521303f4a09a352c374121a96,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-10-06 22:19:18 -0400, , aarch64 implement feenableexcept fedisableexcept fegetexcept patch add real implementation feenableexcept fedisableexcept fegetexcept new code mostly come newlib file newlib libc machine aarch64 sys fenv.h commit new functionality enough get tst feexcept.cc working sigsetjmp siglongjmp still missing signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
191,3af01e018f0a5d360d55cba47051264cc6990fe5,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-10-06 17:40:01 -0400, , test enhance test.py support running unit test aarch64 add new parameter test.py arch used pas parameter run.py order run unit test image specified architecture qemu mostly aimed support running unit test aarch64 patch also add new list test disabled aarch64 various aarch64 related shortcoming osv addressed build rofs test image run using test.py script build arch aarch64 rofs create disk image test script test.py arch aarch64 run_options please note pas force running test single vcpu test simply fail hang vcpus moment 130 unit test pas aarch64 time signed waldemar kozaczuk jwkozaczuk gmail.com,,
192,f61494abfd451311d613aef6bafca3163ecf9cb0,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-10-06 16:56:14 -0400, , test pas macro building aarch64 image patch also fix compilation tst stdio.cc aarch64 signed waldemar kozaczuk jwkozaczuk gmail.com,,
193,5372a230ce0abf0dc72e92ec1116208145e595c5,ALDEMAR KOZACZUK <jwkozaczuk@gmail.com>, 2020-10-01 17:29:20 -0400, , create funding.yml added wkozaczuk one sponsored developer,,
194,815398537f665fca72b4c2040a6f70262d597ac5,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-09-30 00:25:37 -0400, , upgrade musl 0.9.12 1.1.24 comparing 1st version one fix bug identified sys_lseek also refined commit message somewhat better describing change patch upgrade osv musl 1.1.24 last release 1.1 series unit test passing test apps verified using script test lastly verified symbol lost patch even though patch pretty large many change removal file still minimal term number file changed added removed make existing functionality work properly example patch leaf number file mostly stdio network module potentially later upgraded musl 1.1.24 patch also add number readme page document state individual libc folder term potentially left upgrade non exhaustive list change add new include folder include api symlinks sometimes copy internal musl header musl src include folder need point osv version corresponding header include api see musl commit http github.com ifduyue musl commit diff replace header include api aarch64 bit symlinks latest musl equivalent one replace link.h sys inotify.h time.h copy musl original using symlinks refine sys_lseek return einval invalid type whence parameter passed remove copy longjmp.s setjmp.s sigrtmax.c sigrtmin.c libc arch arch setjmp point new musl equivalent one adjusting main makefile replace encrypt.c copy new musl partially update locale module make number original new musl source like strcoll.c compile correctly effect update internal locale_impl.h add number new macro like current_locale lctrans_cur c_locale utf8_locale provide minimal behavior addition patch replaces copy catopen.c duplocale.c intl.c lib locale symlinks copy musl 0.9.12 retain old minimal musl part locale implementation detail please read locale readme.md replace old math finite.c math finitef.c new musl copy directly referencing main makefile replace old misc ffs.c new musl copy directly referencing main makefile 10.replace old network inet_ file new musl copy directly referencing main makefile file libc network folder copied older version musl modified largely left untouched updated new musl later detail please read network readme.md 11.replace prng __rand48_step.c new musl copy directly referencing main makefile 12.replace process execle.c new musl copy directly referencing main makefile 13.update __fdopen.c fmemopen.c vfprintf.c vsnprintf.c vswprintf.c vsscanf.c newest musl retain functional osv specific changed leaf another half file folder untouched possibly updated newest musl later detail please stdio readme.md 14.update time __tz.c latest musl 15.enable tst stdio.cc unit test please note patch also partially fix aarch64 floating point support finally detail left upgrade please read individual readme page added patch especially folder stdio network locale arch signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
195,d361d8e623a61a699f733feb75bc31f374c29ae8,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-09-21 10:03:51 -0400, , rename musl submodule musl_0.9.12 add new submodule musl_1.1.24 patch renames existing submodule musl musl_0.9.12 add new submodule musl_1.1.24 pointing new musl repo copy also add symlink musl pointing musl_0.9.12 change aimed help upgrade musl version 0.9.12 1.1.24 patch equivalent following chain command  git submodule deinit musl git musl git submodule add http github.com cloudius system musl musl_0.9.12 pushd musl_0.9.12 git checkout v0.9.12 popd git add musl_0.9.12 musl_0.9.12 musl git submodule add http github.com osvunikernel musl musl_1.1.24 pushd musl_1.1.24 git checkout v1.1.24 popd git add musl_1.1.24  signed waldemar kozaczuk jwkozaczuk gmail.com,,
196,1a2f1cf4cd1cd0b5be0c9ca4eb2773bcb2fdf71e,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-09-20 11:44:37 -0400, , test added bionic based tst stdio.cc unit test patch add another unit test based original unit test originating android bionic project test somewhat adapted make work osv mostly conform boost unit test bionic version libc doe quite adhere glibc like musl may subtlety like ifdef bionic apply osv asserts apply osv like ftell behavior commented comment added test disabled forthcoming musl upgrade meant help test upgrade stdio one delicate part libc musl need better test coverage confidence musl upgrade relatively bug free signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
197,65efcaee0cef6e00ad73a0697898b7f49b45cd40,otis Xenakis <foxen@windowslive.com>, 2020-09-04 00:30:10 +0200, , script build exit exporting file allows exporting image file complete build invocation anyway orthogonal signed fotis xenakis foxen windowslive.com message,,
198,f398a3b3574a48c3122c48993f61f022e55e2fd1,otis Xenakis <foxen@windowslive.com>, 2020-09-04 00:29:05 +0200, , loader add support booting virtio make necessary pretty straight forward addition laoder support using virtio root filesystem also make minimal change script build add support well note obtain directory content specified manifest file usable virtio host directory one use existing export export_dir previously undocumented option script build ref http github.com cloudius system osv issue 1062 signed fotis xenakis foxen windowslive.com message,,
199,c04f22618b082e0f75e2f1284e282c52c4141ae5,otis Xenakis <foxen@windowslive.com>, 2020-09-04 00:28:05 +0200, , loader add rootfs type command line option previously loader always attempted mount rofs root filesystem mount zfs root filesystem previous failed nothing i.e keep ramfs mounted bootfs others failed add new command line option better control behaviour specifying filesystem attempted mounting root falling back specified option set script build script run.py would obvious choice setting command line option would require user specifying root type run time addition build time addition way formalizes supporting ramfs root filesystem noted code support consists simply mounting fstab entry ramfs selected sync happened previously mounting zfs failed functionality added documenting option making code clear explicit signed fotis xenakis foxen windowslive.com message,,
200,042485f3d7a6ce7fc7408e6396f6fdb65582dace,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-09-08 00:41:34 -0400, , includes fixed fenv.h symlink point right musl directory signed waldemar kozaczuk jwkozaczuk gmail.com,,
201,98102c4ff1d9abeae24d998511dc9de7ad3f5a4b,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-27 14:45:30 -0400, , header get rid fenv.h copy signed waldemar kozaczuk jwkozaczuk gmail.com,,
202,c00c74d7a43e2d8ad19a5cbdb121f26b3e986a2c,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-09-07 09:20:55 -0400, , libc drop header symlinks musl copy header mostly identical musl copy except modified comment macro serve aliasing mechanism musl side conflict place use lfs64 macro weak_alias provide symbol copy order avoid collision replace header symlinks drop lfs64 favor aliases.ld mechanism achieves goal signed waldemar kozaczuk jwkozaczuk gmail.com,,
203,15e711912c4157c2166c468f8a6e017aee2d6811,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-09-07 02:01:38 -0400, , libc replace include api aarch64 bit mman.h symlink musl copy file aarch64 equivalent differs musl copy extra macro order drop header define libc mman.cc signed waldemar kozaczuk jwkozaczuk gmail.com,,
204,090bf17a0d0f6f6a7d5b84de65eae4f84b8f2fa4,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-30 09:23:55 -0400, , libc replace libc internal libm.h symlink musl original file originally copied earlier version musl never changed osv side differs line current musl original  math.h include moment double scalbn double int exp int __isnan double  let replaces symlink original musl signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
205,cd5133bdabbd8d20504f120606592c3c4568a136,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-29 00:36:01 -0400, , libc replace include api sys eventfd.h symlink musl copy eventfd.h differs presense declaration eventfd2 function linux abi function syscall name probably added header accomodate implementing eventfd2 syscall linux.cc let move declaration linux.cc used signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
206,97ff0af67fe7dbc0d1f56ea72e8b64a75f809fbf,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-29 00:19:29 -0400, , libc replace include api x64 bit socket.h symlink musl copy file identical musl copy except added ifndef ... may necessary point signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
207,921600bdd1d2edf13faeccfb819b75963a129ab2,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-29 00:13:56 -0400, , api replace include api header musl copy patch replaces following header symlinks musl copy include api stdint.h include api stdio.h include api x64 bit stdint.h file come older version musl touched osv side however changed newer version 0.9.12 musl way requires changing alltypes.h.sh x64 aarch64 turn musl commit http git.musl libc.org cgit musl commit replaced alltypes.h.sh mechanism alltypes.h.in tool mkalltypes.sed also split type common alltypes.h.in specific one given architecture would nice update osv side well might necessary upgrade enough manually add __isoc_va_list typedef alltypes.h.sh file int_fast typedefs aarch64 version bit stdint.h signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
208,43939b184ae520c430a0f19ac9b4d1612a9d484a,otis Xenakis <foxen@windowslive.com>, 2020-08-19 12:42:37 +0300, , vfs homogenize signed fotis xenakis foxen windowslive.com message,,
209,0aa552c38e64b542ecc4826c71ca633e0e84a228,otis Xenakis <foxen@windowslive.com>, 2020-08-19 12:41:40 +0300, , virtio use exclusive device previously devfs entry virtio device derived virtio virtio_driver _disk_idx used virtio blk virtio scsi anyway share devfs namespace introduced unnecessary complexity since e.g changing number virtio blk device could introduce shift naming virtio device switch virtio using separate exclusive logic behind devfs name i.e virtiofs instance remains signed fotis xenakis foxen windowslive.com,,
210,7597b2e87ecb056eea3359f8efc16a1d3bf7537c,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-27 00:57:23 -0400, , libc replace header include api symlinked copy file copied musl modified rename field like __unused __unused2 ___unused ___unused2 respectively avoid conflict exactly named macro bsd source tree header previous patch renamed bsd macro __bsd_unused __bsd_unused2 reverting file musl copy symlinks signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
211,20907d645b3cea9ca05f82013ce81aef0cf7a079,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-27 00:56:12 -0400, , bsd rename __unused macro __bsd_unused avoid conflict musl header bsd source tree defines __unused __unused2 macro map __attribute__ unused __attribute__ __unused__ respectively caused conflict around musl header use field name like __unused __unused2 reason initialy renamed field ___unused ___unused2 respecively musl header prevents replacing copied modified header symlinks original musl one patch change bsd macro name __unused __unused2 __bsd_unused __bsd_unused2 avoid conflict hopefully musl never start using field name like __bsd_unused alternatively could modified bsd source file use __attribute__ unused directly without macro signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
212,ced385f73a7024721b46225882d84533ec45e63f,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-25 23:53:56 -0400, , libc replaced wcsftime file almost identical musl copy signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
213,1fdb70b74ca74387bd7b4da071f558ed9eb6eed2,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-25 23:53:55 -0400, , libc replace langinfo musl copy relevant file libc locale libc time __asctime.c pretty much identical copy musl replacing current version signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
214,d5c274ce9f277cd9bb6b9857afb1d06d266f3a68,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-25 23:53:54 -0400, , libc replaced libc time file musl copy file libc time copied older version musl musl folder never changed since gmtime.c gmtime_r.c localtime.c localtime_r.c mktime.c strftime.c timegm.c __time.h __tm_to_time.c following file changed point support different way locking default utc timezone __time_to_tm.c tzset.c patch replaces file libc time musl copy via makefile also patch drop file __time.h __time_to_tm.c __tm_to_time.c __tm_to_time.c add many new one __map_file.c __secs_to_tm.c __tm_to_secs.c time_impl.h via makefile please note __tz.c actually copied musl src time modified following way adjust locking logic use mutex_t use utc instead gmt default timezone fixed newer version musl upgrading fix one bug parsing timezone data manually applied newer version musl musl please note patch effectively follows change made original musl source commit http git.musl libc.org cgit musl commit new logic also support reading timezone data directory like usr share zoneinfo reason add file test image host accomodate unit test tst time.cc finally could waited update upgrade new musl think eliminating file libc time actually going make easier eventual updgrade future structure directory changed fundamentally future version musl signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
215,6cf2f5221a99a66c6a7cb72ff35e85017486eac8,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-25 23:53:53 -0400, , libc copy time __tz.c musl signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
216,3e38526aca6ed1fe5aa85364c1eeaeaccf96bed1,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-25 23:53:52 -0400, , test added bionic based unit test test time libc function patch add new unit test tst time.cc test many time related including following tzset gmtime gmtime_r localtime localtime_r mktime strftime timegm strftime strptime test actually based bionics time test.cpp comment top source file document please note test mostly related strptime strftime commented fail current version musl hopefully enable upgrade newer version musl signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
217,7d5877bc337d74622e966f1cc53841830a5c4c15,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-25 23:53:51 -0400, , libc replace string strsignal.c musl copy patch replaces libc string strsignal.c musl copy musl src string strsignal.c musl copy newer slightly different patch also add relevant test tst string.cc test strsignal logic please note disable real time signal test upgrade newer version musl also noticed linux strsignal return message ending signal number like unknown signal whereas musl version simply return unknown signal without signal number might fixed future version musl signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
218,d70c60ca3db21830fd8e5d972b61f71a98fc21f7,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-21 16:04:28 -0400, , libc replace floatscan.c intscan.c shgetc.c symlinks almost identical copy three file libc internal floatscan.c intscan.c shgetc.c almost identical copy one musl src internal except osv copy include stdio shgetc.h musl one include shgetc.h theory could directly compile musl copy per makefile afraid shgetc.h includes stdio_impl.h different musl copy locking related change might end including wrong copy therefore find even better solution patch remove file put symlinks musl copy also make header inclusion work add 2nd symlink already one libc stdio shgetc.h please see commit background info signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
219,f0202dd41be2334d4a2202c33ece226e55215301,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-21 11:27:16 -0400, , test fix compilation tst wctype.cc older version gcc whatever reason tst wctype.cc compiles fine gcc even though std cout doe include iostream header older version gcc reason lenient patch simple add missing include make file compile older version fedora signed waldemar kozaczuk jwkozaczuk gmail.com,,
220,b0fc5a30d246bc24109aa5652511fc3cd104e3bc,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-15 00:28:33 -0400, , libc replaced file libc stdio syscall instruction musl copy macro signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
221,6a945fdc09c0fe74ba9cb81b0ecde5a10d5748b2,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-15 00:27:19 -0400, , libc replace locale strcoll old musl musl copy locale strcoll.c signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
222,0c35f27de9d8c3c44dbdd1d04f536623dc02a3dc,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-15 00:27:18 -0400, , libc replace locale strfmon.c musl copy file imported musl part commit look like got slightly modified possibly silence compiler see diff  diff musl src locale strfmon.c libc locale strfmon.c 12c12 int fill nogrp negpar nosym left intl message jwkozaczuk gmail.com,,
223,28f5e62eaae90c35d2f49f3193662368625bd6a6,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-15 00:27:17 -0400, , libc replace locale strxfrm old musl musl copy locale strxfrm.c signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
224,a3c98a11421f06cfb71ec73a96d9218ebf7f71b3,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-15 00:27:16 -0400, , libc replace locale wcscoll old musl musl copy locale wcscoll.c signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
225,df4fd1582dba94740fa862ff6f504ce5aecc2d36,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-15 00:27:15 -0400, , libc replace locale wcsxfrm old musl musl copy locale wcsxfrm.c signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
226,54b51203cc5c6624712c937a79997a17d669044d,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-15 00:27:14 -0400, , libc drop setlocale.c duplocale.c add __setlocale alias signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
227,1bc14a356a9e59434d7786e3b3b04d57cff6e9f6,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-15 00:27:13 -0400, , libc drop towlower_l towupper_l favor musl copy signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
228,ce89450980539ae2d8b5942d9f8daf04c1ca9801,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-15 00:27:12 -0400, , libc drop osv toupper_l favor musl copy add alias __toupper_l signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
229,f0307275b17c31e63237ad557fd654b3dd7ecff3,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-15 00:27:11 -0400, , libc replace iswctype_l wctype_l.c musl equivalent signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
230,e4735c51abc1363d56df04955b5e8e1120aa06db,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-14 17:32:11 -0400, , test adapted ctype test work boost unittest added tst string signed waldemar kozaczuk jwkozaczuk gmail.com,,
231,17dbc65430d30923a1d995cb6617dfe54ecf39a3,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-14 14:25:53 -0400, , test add verbatim copy bionic test ctype signed waldemar kozaczuk jwkozaczuk gmail.com,,
232,84278e73ed58e2b6353a92c31dd56de8d317dfdd,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-10 23:03:14 -0400, , libc replace header libc internal symlinks identical copy musl src unfortunately remove header included relative source file libc internal like floatscan.c replaced musl copy kind reason replacing file symlinks musl src internal copy save time upgrading musl hopefully upgrade musl might able get away many file libc internal delete symlinks altogether well signed waldemar kozaczuk jwkozaczuk gmail.com,,
233,c1248bb179f827b6bc5fb352bc8a8d74d3d993cb,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-17 11:53:15 -0400,1095, change uiomove use size_t signature instead int wonsup yoon reported issue 1095 following trying read large number byte dev random fails  include fstream include vector include iostream define read_bytes 1ll int main std ifstream file dev urandom std vector char data read_bytes data file.read data.data read_bytes std cout data std endl return   make long story short see issue detail turn culprit wron signature uiomove function int instead size_t parameter patch fix fix 1095 signed waldemar kozaczuk jwkozaczuk gmail.com,,
234,d8a8cbcf64aae4f6a5c0782e1a82a85a9287f1da,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-14 01:13:37 -0400, , libc replace header include api musl copy signed waldemar kozaczuk jwkozaczuk gmail.com,,
235,0aaf8923811c10548c74d4ab29c757f5b7d52ff5,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-14 01:11:06 -0400, , libc replace network gai_strerror.cc identical copy musl signed waldemar kozaczuk jwkozaczuk gmail.com,,
236,1522fb1bcd71c5205212f5e06dd016cb4f05a934,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-14 01:05:52 -0400, , libc replace __strndup.c adding entry aliases.ld signed waldemar kozaczuk jwkozaczuk gmail.com,,
237,64d4b8212e707308ea85fe1db438be86da6ad9fd,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-13 22:29:24 -0400, , libc remove unused file signed waldemar kozaczuk jwkozaczuk gmail.com,,
238,538c814d7f3346dc64d29ad610a2a3080864735d,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-10 21:44:27 -0400, , libc point file libc musl patch add alias using aliases.ld point file libc musl one file simply changed significantly musl side point musl version diff libc musl src version  diff multibyte mbrlen.c 12c12 include internal.h message jwkozaczuk gmail.com,,
239,e7dce67a58cdc32e35e05c3e7cdd7e8c61ade3db,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-07 10:41:53 -0400, , libc replace include api header musl copy header initially copied earlier version musl changed since osv side though changed musl side early version one corresponding musl folder 0.9.12 change minimal affect compilation osv replaces header symlinked copy musl folder please note one header signal.h changed way may require updating include api arch bit alltypes.h.sh file specifically siginfo_t struct defined musl signal.h whereas osv defines typedef struct __siginfo siginfo_t alltypes.h.sh strangely change doe cause conflict possibly typedef need removed alltypes.h.sh side side diff affected header   diff dlfcn.h define rtld_di_linkmap  int dlinfo void int void  diff float.h define flt_true_min 1.40129846e 45f define dbl_true_min 324  diff langinfo.h define __need_nl_item include nl_types.h   diff netdb.h include netinet in.h endif  define define __need_uint32_t  endif  diff netinet if_ether.h define eth_p_batman 0x4305  define eth_p_802_3_min 0x0600  diff netinet tcp.h define  diff nl_types.h define __need_nl_item typedef int nl_item include bit alltypes.h typedef void nl_catd  typedef long nl_catd  diff signal.h define __siginfo siginfo define define bus_mceerr_ar define bus_mceerr_ao struct sigaction typedef struct sigaltstack union void sa_handler int void sa_sigaction int siginfo_t void __sa_handler sigset_t sa_mask int sa_flags void sa_restorer void  define sa_handler define sa_sigaction  typedef struct struct __siginfo typedef struct short si_addr_lsb struct void si_call_addr int si_syscall unsigned si_arch __sigsys siginfo_t define si_addr_lsb define si_call_addr define si_syscall define si_arch  struct sigaction union void sa_handler int void sa_sigaction int siginfo_t void __sa_handler sigset_t sa_mask int sa_flags void sa_restorer void  define sa_handler define sa_sigaction  diff sys ptrace.h include stdint.h  define 0x4209  define  struct uint64_t uint32_t flag int32_t   diff sys select.h defined _gnu_source defined _bsd_source define nfdbits int sizeof long endif  diff sys wait.h define typedef int idtype_t typedef enum p_all p_pid p_pgid idtype_t  define p_all define p_pid define p_pgid  diff utmp.h define ut_addr ut_addr_v6 define _path_utmp dev null define _path_utmp dev null utmp define _path_wtmp dev null define _path_wtmp dev null wtmp  define utmp_file _path_utmp define wtmp_file _path_wtmp define utmp_filename _path_utmp define wtmp_filename _path_wtmp  diff wctype.h define typedef const int wctrans_t  define weof define weof 0xffffffffu  signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
240,3e3e087654497deb9399b3700285976c56075dd0,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-05 19:30:28 -0400, , libc replace weak_alias wrapper function linker symbol copy mechanism patch eliminates wrapper function libc math aliases.c week_alias macro defined symbol libc math finite using new linker symbol copy mechanism designed nadav also replaced __finite function finite one make easy drop libc math finite file upgrade musl 1.1.24 provides finite function finally patch also add simple unit test verify modified function still work signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
241,21e2bb94b55f47f5a394b501b61ad45cb7e012e5,adav Har'El <nyh@scylladb.com>, 2020-08-04 02:18:09 +0300, , add new mechanism function alias outside original source file long time adding alias function required use weak_alias macro source file original function caused modify musl file want modify patch add new mechanism creating alias function without modifying original file original symbol address known link time compile time symbol copying via linker script new file libc aliases.ld simple list symbol assignment demonstrate easiness useful feature drop one file change musl res_init.c wanted add alias new aliases.ld longer need modify original file followup patch move lot alias added way weak_alias alias modified file wrapper libc math aliases.cc new aliases.ld signed nadav har nyh scylladb.com message nyh scylladb.com,,
242,1ed4a9dfd71660fb8d7dd495ca9e34b981089c0d,otis Xenakis <foxen@windowslive.com>, 2020-07-30 02:43:32 +0300,1094, virtio add error check ref http github.com cloudius system osv issue 1094 signed fotis xenakis foxen windowslive.com message,,
243,d3f2af60aa255cf703a87a4f25cb71ca59f44fe1,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-03 10:09:16 -0400, , libc replace identical header symlinks musl copy roughly half header include api symbolic link copy musl include others seems modified version probably originate musl well modified later patch replaces header symbolic link identical copy musl include signed waldemar kozaczuk jwkozaczuk gmail.com,,
244,0efc2262d0cd3997080d4b9601f3c55a30a80597,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-08-02 18:48:19 -0400, , libc replace unistd ttyname.c musl copy patch eliminates one file unistd ttyname.c identical musl copy except extra memset buf sizeof buf line doe seem necessary already existing unit test verifies ttyname ttyname_r behavior patch also clean osv specific implementation ttyname_r remove string unnecessary return per original review rean patch finally patch effectively make file .cc libc unistd neutral future musl upgrade signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
245,d8cb0b64d828f2a56144a53688df153621cfe8ca,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-07-30 12:25:41 -0400, , libc replace two file musl copy patch remove two file libc directory pretty much identical musl equivalent  diff misc basename.c 2d1 include libgen.h diff network h_errno.c 8c8 return h_errno  return h_errno  signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
246,7a9f5eceaf44623bf4c169a1c32874d6a26b92f7,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-07-30 11:52:55 -0400, , libc remove unused libc regex glob.c commit replaced libc regex glob.c musl equivalent never deleted file patch remove file osv source tree signed waldemar kozaczuk jwkozaczuk gmail.com,,
247,ac7bdcc4261be877d836eef3340b2dd3bb2325c5,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-07-29 00:56:12 -0400, , libc revert file undef point back musl like one earlier patch one also remove file libc folder differ undef macro necessary anymore signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
248,2cce7ccdb445f14a243c1a1a5b9ee77879bcb499,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-07-27 17:41:45 -0400, , libc remove string function libc favor original musl one like last two libc related patch patch also eliminates source file libc string favor equivalent one musl src string case file differed like example  diff musl src string strchrnul.c libc string strchrnul.c 10c10 define haszero one high message jwkozaczuk gmail.com,,
249,c741802e3043bb2127c03391a9ae13cac772557f,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-07-27 12:43:50 -0400, , libc revert file __restrict point back musl point beginning osv musl source copied libc folder gradually removed favor original copy musl src folder patch remove another file libc string differred __reserved restrict keyword original musl source restrict keyword corresponding copy __reserved keyword even though per commit log seem copied musl based researched __restrict keyword gcc extension predates restrict happens effect pointer optimization latter one also compile source file std gnu99 option add gcc extension c99 think drop difference simply point original musl source patch eliminates unnecessary file libc folder signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
250,c65aa88c76f940a350bbc6a1ff8b7e9f1f3346bc,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-07-27 12:43:49 -0400, , libc revert file undef point back musl apparently network string function implemented using macro glibc seems osv used depend glibc header maybe commit avi kivity modified file undef function look like anymore patch simply remove file libc folder change makefile point back musl equivalent one signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
251,a16e5c9c0ef11217be374824587e05225fbfde61,otis Xenakis <foxen@windowslive.com>, 2020-07-20 01:02:28 +0300, , virtio implement readdir signed fotis xenakis foxen windowslive.com message,,
252,f9ae1e5d7008252a7e43bb9f3498f5b750eb24eb,otis Xenakis <foxen@windowslive.com>, 2020-07-20 01:01:38 +0300, , virtio use fuse_opendir fuse_releasedir file open close directory use fuse_opendir fuse_releasedir instead fuse_open fuse_release respectively signed fotis xenakis foxen windowslive.com message,,
253,afe903f6216e682ace064d7733e5dfb4c4048a78,otis Xenakis <foxen@windowslive.com>, 2020-07-20 01:00:40 +0300, , virtio expose fuse reply length signed fotis xenakis foxen windowslive.com message,,
254,a6fb0d6e00e47a4ea98d35acfe2af285e8040fc9,otis Xenakis <foxen@windowslive.com>, 2020-07-20 00:59:38 +0300, , virtio fix allocation failure condition signed fotis xenakis foxen windowslive.com message,,
255,ccef5caf2d694c7afd593ce1ebe5c23963d8b6b0,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-07-21 17:48:19 -0400, , test include java test aarch64 signed waldemar kozaczuk jwkozaczuk gmail.com,,
256,3165172d8ae74a0972ddfc2aa50b197eb4f3edf1,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-07-21 17:34:03 -0400, , script enhance run.py allow running aarch64 image kvm enabled patch also optimizes firecracker.py use python native mechanism detect host architecture signed waldemar kozaczuk jwkozaczuk gmail.com,,
257,9938d4419de9bf1bc85caa9eda73ac6f1fb48295,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-07-21 17:24:19 -0400, , test fix shell else syntax make work ubuntu fedora signed waldemar kozaczuk jwkozaczuk gmail.com,,
258,dd2ef74176be26232836c000c305bdfaf10d19cc,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-07-20 22:05:24 -0400, , script make firecracker.py default host architecture signed waldemar kozaczuk jwkozaczuk gmail.com,,
259,0cd62fe2385289eed3652e018046116f0f80b457,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-07-20 17:35:41 -0400, , script update firecracker.py support aarch64 signed waldemar kozaczuk jwkozaczuk gmail.com,,
260,48e5247500a1009f84b82e89ac90a104d3ab4cc4,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-07-19 11:27:59 -0400, , license add newlib license signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
261,2edf850f1a1c2f88ffcf2f287aa1d44356161393,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-07-19 11:27:43 -0400,1090, aarch64 fix memmove bug patch replaces arch aarch string.s newest copy memcpy.s memset.s memmove.s newlib library fix memmove bug seems original string.s merge memset.s memcpy.s memmove.s newlib circa beginning 2015. based comparison newlib tree might commit least based memcpy.s memset.s memcpy memset copied pretty much however memmove actually replaced memcpy like implementation seems bug rather identifying fixing bug instead replace string.s newest copy memcpy.s memset.s memmove.s latest version newlib commit apart fixing bug extra benefit newest version function heavily optimized speed fix 1090 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
262,eca04e209a175bb6e1b7e84054cad30f8b828f10,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-07-14 20:55:40 -0400, , aarch64 support building unit test image patch mostly modifies module test makefile support building unit test image aarch64 architecture please note handful test get built aarch64 kind reason please see comment test makefile moment possible build rofs test image zfs file system functional point like script build image test rofs arch aarch64 create disk make script test.py arch aware one need execute test manually like script run.py arch aarch64 test tst chdir.so look like many test passing good chunk mostly lack floating point support missing feature aarch64 port finally please note aarch64 test image contains java test x64 jvm binary obviously work aarch64 somehow disable adding aarch64 test image signed waldemar kozaczuk jwkozaczuk gmail.com,,
263,639d62bda5929d10ab5720eb8fd7e40cf4d7df8c,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-07-13 22:43:40 -0400, , aarch64 parse activate virtio mmio device aarch64 version firecracker unlike x64 one pass configuration information virtio device using dtb patch add necessary logic parse information dtb activate relevant device patch effectively enables support virtio net block device aarch64 version firecracker signed waldemar kozaczuk jwkozaczuk gmail.com,,
264,36f50d61779dd9bccc55a13c16e43015a498fa8d,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-07-13 21:39:22 -0400, , aarch64 support virtio mmio device pretty trivial patch add support virtio net block device mmio aarch64 architecture accomplishes adding proper factory method register relevant interrupt handler signed waldemar kozaczuk jwkozaczuk gmail.com,,
265,9c607ccab62bbd33f4f6f648a79698a84ea440ee,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-07-10 15:26:08 -0400, , script build refine build process aarch64 since create usr.img artifact aarch64 try set command line script build usr.img doe exist also let export strip environment variable point aarch64 version strip utility script module.py related python script use version matching achitecture signed waldemar kozaczuk jwkozaczuk gmail.com,,
266,a0d0077b0bdfc94038a567cd3d859f82c6d430e5,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-07-10 15:24:35 -0400, , script run.py hardcode memory size cpu count aarch64 signed waldemar kozaczuk jwkozaczuk gmail.com,,
267,64d26a4f7187c8ab7b044fad7cab72f0c0cbd998,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-07-08 14:06:11 -0400, , dynamic linker fix old bug logic calculate elf base order properly calculate map elf object virtual memory set_base method need identify lowest highest pt_load header term p_vaddr value unfortunately seems bug implemented case example multiple pt_load non pt_load header sharing p_vaddr value end using wrong header overwriting segment data patch fix separating filtering pt_load header indentifying lowest highest one signed waldemar kozaczuk jwkozaczuk gmail.com,,
268,2419e22f46c1bac372ca6fcfc850245dc1e057fa,otis Xenakis <foxen@windowslive.com>, 2020-07-11 14:33:44 +0300, , virtio fix lost wakeup driver previously virtio fuse_request used waitqueue waiting request processed device request dispatched calling thread would wait waitqueue woken driver request callback thread request processed left room lost wakeup request would processed interested thread would wait happened testing fio fixed using waiter instead waitqueue signed fotis xenakis foxen windowslive.com message,,
269,477efc3f44c373b8e0ff4c839b98d01809493410,otis Xenakis <foxen@windowslive.com>, 2020-07-11 14:32:58 +0300, , virtio minor driver code improvement signed fotis xenakis foxen windowslive.com message,,
270,a5f209ac736ee7929879b07276447661b7bd9fc9,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-07-09 12:23:08 -0400, , debugging enhance loader.py support x64 aarch64 patch enhances loader.py support x64 aarch64 architecture first make loader.py dynamically recognize architecture loader.elf secondly modifies loader.py use proper register x64 aarch64 navigating thread frame cpu signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
271,0db46a41177f5df8676680afa0404047f7a6fc4c,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-07-08 16:02:55 -0400, , debugging fix loader.py handle osv runqueue properly apparently existing implementation osv runqueue loader.py navigates sched cpu runqueue structure rbtree way started breaking point probably newer version boost fix simply use existing method help navigate runqueue resilient way signed waldemar kozaczuk jwkozaczuk gmail.com,,
272,771b61dc6813aa4807f020ad96edb9929259deab,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-07-06 23:54:46 -0400,1088, aarch64 msi support becomes functional try setup vqueue msi vector patch follow previous commit disables logic set msi vector setting vqueues ref 1088 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
273,bc0148acd040261f1c4a7106125552c12af25cd0,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-07-06 23:29:18 -0400, , script support running aarch64 rofs image signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
274,cf10bc257d3294e40809a9def051016fe5bf6761,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-07-06 21:42:28 -0400, , script use common binary partition header file build disk image script build accepts create disk option allow creating disk image disk.img intended used booting osv direct kernel mode option run.py currently build script build last boot.bin partition table disk header even though end result working boot.bin contains unnecessary code arch x64 boot16.s importantly present aarch64 build patch add tiny 512 byte partition table template file 510 zero followed 0xaa 0x55 used disk image header creating rofs zfs disk signed waldemar kozaczuk jwkozaczuk gmail.com,,
275,b98cd8dc851282bd1b53860460831f77c63b18b3,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-07-04 00:31:21 -0400, , aarch64 msi support becomes functional enable regular pci interrupt signed waldemar kozaczuk jwkozaczuk gmail.com,,
276,bc0a0f01cca086f15b73dd6c40ce864dd097daae,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-06-25 23:24:53 -0400, , arm firecracker recognize gic arm skip parcing pci count signed waldemar kozaczuk jwkozaczuk gmail.com,,
277,291b98a62a8e5980d770bc20916e058b47b42dad,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-06-27 11:21:28 -0400, , patch arm firecracker clean cmdline early console artifact order enable early console firecracker prepend command line console ... name value pair firecracker appends extra name value pair containing memory address console base register form earlycon actually need parse information command line instead get dtb one previous patch address purpose patch remove irrelevant information present command line contains normal osv boot parameter signed waldemar kozaczuk jwkozaczuk gmail.com,,
278,d2172716fe48afb7c23051cc149565d1485a323e,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-06-25 23:01:02 -0400, , arm firecracker map first 6gb one one early boot unlike qemu firecracker load osv kernel 0x80080000 slightly 4gb patch extends early boot mapping 4gb 6gb allow osv kernel execute properly linked kernel_base set 0x80080000 firecracker signed waldemar kozaczuk jwkozaczuk gmail.com,,
279,8945b980c130bcdc881433cdd0b4a9208803d0e4,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-06-25 20:33:47 -0400, , arm firecracker detect enable mmio isa early console patch add logic detect memory mapped serial console configuration dtb tree enable running osv arm version firecracker signed waldemar kozaczuk jwkozaczuk gmail.com,,
280,3368871919e78e9d253d550ef95aadfcf46a4932,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-06-27 11:00:45 -0400, , arm mmio serial console use passed dtb irqid instead hardcoded number signed waldemar kozaczuk jwkozaczuk gmail.com,,
281,df5ce400ef938269b0937fdee0f6c3d7f1fbc533,otis Xenakis <foxen@windowslive.com>, 2020-06-21 12:07:51 +0300, , virtio use multiple dax mapping filesystem integrates dax window manager virtio file system operation remove lock virtio dax_window since handled window manager single manager instance maintained virtio device least singe mount multiple concurrent mount device share common dax_manager fuse_read fallback well logic using dax window available read using fails untouched signed fotis xenakis foxen windowslive.com message,,
282,253919f2123583c608f1445393362caa633369b8,otis Xenakis <foxen@windowslive.com>, 2020-06-21 12:06:12 +0300, , virtio implement dax window manager detail manager policy please see virtiofs virtiofs_dax.hh signed fotis xenakis foxen windowslive.com message,,
283,0db76eb3c03b6f158634e5d81dedbf6af0253e61,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-06-25 17:35:06 -0400, , arm add memory mapped isa console patch add mmio memory mapped isa console class used firecracker next patch add logic detect enable console signed waldemar kozaczuk jwkozaczuk gmail.com,,
284,d66dbb247ea5ad997df184ff6c83eb6b93d6a9f2,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-06-22 00:13:53 -0400, , serial console refactor common logic allow use implementing mmio version patch extract generic logic serial console base class isa serial basee specialization like isa serial mmio isa serial later patch implement relevant static method read_byte write_byte provide specific way reading writing byte signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
285,a2128797e43d793b44ffd0d406ae1742923d237b,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-06-12 17:20:58 -0400, , pthreads expose symbol properly signature pthread.cc doe match declaration function include api pthread.h header cause exported symbol  pthread_attr_t int  patch adjusts signature definition match declaration export symbol properly    signed waldemar kozaczuk jwkozaczuk gmail.com,,
286,67fcc08ea9e5a3ecec875f67e83d4882d2110a42,otis Xenakis <foxen@windowslive.com>, 2020-05-17 12:51:47 +0300, , virtio refactor driver since virtio filesystem tightly coupled driver try make clear dependence first second well simplify includes definition fuse_request moved driver since part interface provides also enhanced method somewhat promoting proper class fuse_strategy redirection driver removed instead dependence driver made explicit last virtio fs_req removed fuse_request used place since offered value fuse_request defined driver signed fotis xenakis foxen windowslive.com message,,
287,7a2eaf2d78d99cbe14bbdd88ca9d1d81f6e43e92,otis Xenakis <foxen@windowslive.com>, 2020-05-17 12:50:51 +0300, , virtio add basic read using dax window dax window available device filesystem prefers use instead regular fuse_read request fails fuse_read used fallback use dax window part file mapped content copied user buffer mapping cleaned naive implementation window used single mapping time caching readahead signed fotis xenakis foxen windowslive.com message,,
288,cf78fa9eff917a9c8ec2243848e7d685bfb72764,obin GÃ¶gge <r.goegge@outlook.com>, 2020-05-24 14:21:20 +0200,1085, script fix setup.py ubuntu version explained issue 1085 setup script broken ubuntu version commit installs package python dpkt python3 dpkt respective ubuntu version signed robin gge r.goegge outlook.com,,
289,91de2b920c79f58fdc7fd7ac107c764813db3eac,adav Har'El <nyh@scylladb.com>, 2020-05-23 21:52:12 +0300, , setup.py support fedora previous patch osv correctly build fedora support fedora setup.py package needed previous fedora release also needed fedora signed nadav har nyh scylladb.com,,
290,f50218ffc783a5d27a8262087408513df9dd0347,adav Har'El <nyh@scylladb.com>, 2017-10-10 14:48:32 +0300, , lzloader fix memset implementation compiler apparently optimize code fastlz call memset uncompressing boot loader fastlz lzloader.cc need implement function current implementation called builtin memset look compilation result actually call memset result endless recursion hanging boot ... started happening fedora gcc example let implement memset using base_memset already libc string memset.c fix 1084 signed nadav har nyh scylladb.com,,
291,86471776627d3625c481d7e8fff6614bccec95cc,adav Har'El <nyh@scylladb.com>, 2017-10-10 14:48:31 +0300, , memset_base avoid warning stricter compiler try compile memset.c compiler get warning various implied pointer conversion let make explict way code compile either code want able compile code next patch want use fastlz lzloader.cc signed nadav har nyh scylladb.com,,
292,27c7140c5e859c014663f3aecb138715d944ae5d,adav Har'El <nyh@scylladb.com>, 2020-05-23 17:52:03 +0300, , libosv.so fix warning truncated symbol name code makefile build esoteric libosv.so library used readelf get list symbol kernel however readelf default truncates symbol name limit default documented unfortunately long mangled symbol name get truncated string lead add symbol trice libosv.so get warning assembler fix pas wide option readelf cause truncate symbol name fix 1083 signed nadav har nyh scylladb.com,,
293,dbc97987caa35da83c2083c88e4e212214c882b9,otis Xenakis <foxen@windowslive.com>, 2020-05-17 12:49:58 +0300, , virtio implement fuse_init map_alignment field signed fotis xenakis foxen windowslive.com message,,
294,0dbb47df474b27876573efa75c118673cda15019,otis Xenakis <foxen@windowslive.com>, 2020-05-17 12:48:37 +0300, , virtio update fuse protocol header copy http gitlab.com virtio qemu  signed fotis xenakis foxen windowslive.com message,,
295,557251e1614bd9ac81ab6d3a9e46b5942f3ec275,ALDEMAR KOZACZUK <jwkozaczuk@gmail.com>, 2020-05-15 11:40:48 -0400, , update readme.md emphasize osv support aarch64,,
296,13d2b5fc205c31a53720a54bf24a47f20315803f,otis Xenakis <foxen@windowslive.com>, 2020-05-13 13:05:39 +0300, , docker update default ubuntu 20.04 signed fotis xenakis foxen windowslive.com message,,
297,4567226aee38f602d5401515cfe65837b56a9aea,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-05-14 21:31:59 -0400, , maven fix recursive expression cycle problem long time possibly since beginning building module java code using maven would getting warning using version expression pom.xml warning version contains expression constant io.osv java parent version home wkozaczuk project osv module java base pom.xml line column starting maven 3.6.3 one ubuntu 20.04 come would see error preventing building running test like error resolving expression version detected following recursive expression cycle version version io.osv runjava isolated version home wkozaczuk project osv module java base runjava isolated pom.xml error io.osv runjava common jar missing io.osv runjava isolated version home wkozaczuk project osv module java base runjava isolated pom.xml line column error resolving expression version detected following recursive expression cycle version version io.osv runjava non isolated version home wkozaczuk project osv module java base runjava non isolated pom.xml error io.osv runjava common jar missing io.osv runjava non isolated version home wkozaczuk project osv module java base runjava non isolated pom.xml line column patch fix hardcoding version parent pom project 1.0 snapshot instead declaring variable signed waldemar kozaczuk jwkozaczuk gmail.com,,
298,ecba01aaaca25354d3fdf82cfd0bc751e23d15da,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-05-13 00:41:56 -0400, , setup.py support ubuntu 20.04 signed waldemar kozaczuk jwkozaczuk gmail.com,,
299,dbfb0bb1da1c9de9d06c6c6bb29f9d6695b5df0d,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-05-12 19:24:25 -0400, , lua added missing lpeg library signed waldemar kozaczuk jwkozaczuk gmail.com,,
300,e1a6f2781749e44ffc22434dc26fd01ca71750b5,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-05-12 18:45:25 -0400, , apps update latest signed waldemar kozaczuk jwkozaczuk gmail.com,,
301,622947e7e79295f9c0639983a85d01563de65f90,ALDEMAR KOZACZUK <jwkozaczuk@gmail.com>, 2020-05-12 15:08:05 -0400, , readme add information nfs virtio,,
302,9c4ba00b3fda21c07f7df045ba0219f6469b7953,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-05-11 01:20:13 -0400, , readme revise add new information patch revise readme adding information new feature introduced new upcoming release also enriches adding link relevant wiki page better explain existing capability osv signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
303,1f0df4e4ee482f9ed7611e78737452b27139a6bd,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-05-05 23:44:02 -0400, , gcc fix duplicate linker symbol error sudden gcc linker found number duplicate zfs related symbol patch fix g_zfs aok zfsdev_state signed waldemar kozaczuk jwkozaczuk gmail.com,,
304,eae971822e94d1952e60ad02c03a89116479b878,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-05-05 23:42:04 -0400, , module.py replace literal make python 3.8 happy signed waldemar kozaczuk jwkozaczuk gmail.com,,
305,e51dc4d9163c99465d1c58310fa68ce5863b20c6,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-05-05 18:13:03 -0400, , zfs replace strncpy safer strlcpy detected gcc signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
306,13f879e30b9412e2d979a818ff61d9b74f75b26b,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-05-05 18:13:02 -0400, , gcc fix warning including various standard header couple file sudden new gcc complains missing type definition make happy including proper header right place signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
307,530fb0544452ae05fcd03857cc55428591a63dc2,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-05-05 18:13:01 -0400, , pthreads add stub new clockwait clocklock function fix gcc error nadav writes appears new mutex header file included include osv mutex.h remember need defined pthread header file let implement function seeing already stub nobody ever complained ... also stub think easy hopefully work signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
308,fee41ef7b6f3ab2ffc5d090b7ef378c048ed0fb7,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-05-05 10:10:25 -0400, , mempool fix reallocarray properly handle overflow signed waldemar kozaczuk jwkozaczuk gmail.com,,
309,11f55bc3f76f01fdb9171f2b1b78c443021c5c0f,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-05-03 18:26:51 -0400, , apps update latest signed waldemar kozaczuk jwkozaczuk gmail.com,,
310,5eb484715d9b3617cf9d15a389b0f2c441e0e686,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-05-03 18:22:23 -0400, , libc add reallocarray apps like xclock fedora need reallocarray patch add simple delegation realloc signed waldemar kozaczuk jwkozaczuk gmail.com,,
311,bb15d96bfe4693e5f55de7946e51122e9adceeb4,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-05-02 20:09:12 -0400, , apps update latest signed waldemar kozaczuk jwkozaczuk gmail.com,,
312,90c8f02740e6ec48afee63abdf8feccd950d5051,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-05-02 20:05:05 -0400, , socket warn missing ancillary information handling nadav har writes think never properly implemented ancillary data control message feature socket used among thing send open file descriptor two process communicating unix domain socket remember never implemented think problem considering file compat linux linux_socket.cc bsd based code assumes ancillary data one structure linux api assumes different structure unfortunately hard fix properly without looking code socket manual page trying remember heck code supposed also see lot code area perhaps take patch outright remove asserts replaces warn_once something allow control message warn may handled properly patch make possible run som xwindows apps like xclock xeyes etc signed waldemar kozaczuk jwkozaczuk gmail.com,,
313,47c7e9268ff96f67f4649bb6c63685a5c2d74f00,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-05-01 16:09:30 -0400, , run.py add support mounting directory via virtiofs device patch add two new option virtio tag myfs virtio dir allow mounting directory via virtiofs device requires qemu 4.2 virtio dir passed run.py also try start virtiofsd daemon provided found path example using new option script run.py qemu path home wkozaczuk project qemu build x86_64 softmmu qemu system x86_64 virtio tag myfs virtio dir home wkozaczuk project osv apps native example mount virtiofs dev virtiofs1 tmp virtiofs tmp virtiofs hello signed waldemar kozaczuk jwkozaczuk gmail.com,,
314,b1452f9a371100108f60b9e4c72958415e346cf9,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-05-01 16:01:01 -0400, , loader add option mount extra filesystem patch add new loader option mount arg arg format fs_type url path allows adding arbitrary mount point filesystems like nfs virtio even ramfs top functionality based etc fstab option becomes handy appending etc fstab using tool mountfs already present image cmdline example mounting virtio filesystem mount virtiofs dev virtiofs1 tmp virtiofs tmp virtiofs hello signed waldemar kozaczuk jwkozaczuk gmail.com,,
315,509e9fe7774db2b288a2ecf94754c684c3dba7bd,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-04-30 18:34:29 -0400, , revert virtio update fuse protocol header reverts commit,,
316,08dcb7c04738d83d574d0fe31d182cbae5de1c65,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-04-30 17:57:16 -0400, , travis fix build signed waldemar kozaczuk jwkozaczuk gmail.com,,
317,aab9715197602e66cc4a2766e8106743a8d68ecd,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-04-30 17:53:34 -0400, , docker refine build docker file based original patch sent fotis xenakis change since create redundant osv directory builder dockerfiles remove dependency wget runner dockerfiles signed fotis xenakis foxen windowslive.com signed waldemar kozaczuk jwkozaczuk gmail.com,,
318,b5c1f280127c27b409125bbc62ce401f723dcbc4,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-04-30 14:31:33 -0400, , travis simplify cirp publishing add new artifact patch simplifies travis cirp publishing collapsing stage one also add kernel.elf httpserver monitoring mpm list published artifact signed waldemar kozaczuk jwkozaczuk gmail.com,,
319,4f23868d3ae22825abf0078724ec5d706be33a64,otis Xenakis <foxen@windowslive.com>, 2020-04-17 19:08:37 +0300, , docker update default distros signed fotis xenakis foxen windowslive.com message,,
320,54b30715a6b6defd6b5c5008539824a0d3ca8a45,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-04-28 21:38:56 -0400,979, rofs optimize memory utilization integrating page cache patch optimizes memory utilization integrating page cache essence eliminates second copy file data memory mapping file using mmap example simple java example need 9mb run crux change involves adding new vnops function type vop_cache ensures requested page file loaded disk rofs cache triggering read disk missing eventually register page pagecache calling pagecache partially address 979 signed waldemar kozaczuk jwkozaczuk gmail.com,,
321,4c0bdbc1011bcc54b50f7d63d2fb5d55b5fb911f,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-04-28 21:20:37 -0400, , pagecache refactor allow integration non zfs filesystems far pagecache layer pretty tightly integrated zfs specifically arc cache layer patch refactors pagecache implementation make support filesystems zfs essence modify necessary place like retrieving releasing cached file page behave slightly differently depending filesystem zfs versus non zfs given vnode belongs change apply read cache zfs page caching requires tighter integration arc patch add new integration function intended used non zfs filesystem implementation register cached file page page cache signed waldemar kozaczuk jwkozaczuk gmail.com,,
322,28350928d2465fcf5466f42984d86948d913adc2,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-04-07 23:04:10 -0400, , sysfs add new pseudo file pool help monitor memory utilization patch enhances sysfs adding two new pseudo file aimed help monitor memory utilization http api one new file located sys osv memory give detailed insight hold free registered physical memory given point time like example huge 0001 002114469888 0002 000000040960 row show information free page range given size range huge 256mb number order log2 minimum corresponding range size page example represents page range size 16k 32k second column display number page range given size order always huge last column display total number byte given range order information please read http github.com cloudius system osv wiki managing memory page second new file located sys osv memory pool give detailed information local memory pool global memory pool like example global batch cpu page 512 128 384 158 cpu page 512 128 384 255 cpu page 512 128 384 251 cpu page 512 128 384 000 last column show respectively max low watermark high watermark current number page batch page given pool information please read http github.com cloudius system osv wiki memory management high level layer signed waldemar kozaczuk jwkozaczuk gmail.com,,
323,b0ce61706866c76d3778b0b3830862cfc541c499,otis Xenakis <foxen@windowslive.com>, 2020-04-21 00:05:09 +0300, , virtio add driver support dax window signed fotis xenakis foxen windowslive.com message,,
324,bfe114878a194a9230686a8c1c38122f55d9524c,otis Xenakis <foxen@windowslive.com>, 2020-04-21 00:04:12 +0300, , virtio update fuse protocol header copy virtiofsd includes definition signed fotis xenakis foxen windowslive.com message,,
325,52254596df7df395959b2214403f786878ddc6ed,otis Xenakis <foxen@windowslive.com>, 2020-04-21 00:03:05 +0300, , virtio minor code improvement filesystem include checking memory allocation using smart pointer possible using static_cast instead style cast possible formatting consistency signed fotis xenakis foxen windowslive.com message,,
326,360ab4088f85c247e2a53a734961aff66432a9b7,otis Xenakis <foxen@windowslive.com>, 2020-04-21 00:01:18 +0300, , virtio minor code improvement driver include checking memory allocation using static_cast instead possible formatting consistency signed fotis xenakis foxen windowslive.com message,,
327,80be3cef2a09d915b47d408956dd912335c6c5f7,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-04-28 21:26:55 -0400, , rofs report fsid filesystem properly patch slightly enhances rofs report non zero unique fsid important later integrate pagecache laye relies unique combination inode st_dev come fsid signed waldemar kozaczuk jwkozaczuk gmail.com,,
328,c193437ba68ee5bd6b1d941bd31ed5812d473514,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-04-27 21:24:01 -0400, , zfs modify fsid_guid store extra bit allow detecting zfs pagecache patch slightly modifies logic zfs_domount put zfs identifier highest bit vfs_fsid field allow detect file system type pagecache logic please note vfs_fsid field used source st_dev value zfs getattr function combination st_dev ino used uniquely identify file pagecache implementation logic signed waldemar kozaczuk jwkozaczuk gmail.com,,
329,312b53ca76ef920ccbf5a98c963b29ed19f5aca2,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-04-27 20:58:01 -0400, , zfs avoid f_fsid sign extension translating f_fsid va_fsid would cosmetic change except future patch rely full value f_fsid field including higher bit order determine type file system patch lower bit f_fsid stored signed int represented negative number would lead overwriting higher bit translating va_fsid zfs_getattr function example f_fsid composed like lower bit 0x9a16baf6 higher bit 0x06567a36 patch resulting va_fsid would translated  lose high bit f_fsid patch va_fsid would look like  patch loosely similar patch applied year ago original zfs source tree freebsd http github.com freebsd freebsd commit signed waldemar kozaczuk jwkozaczuk gmail.com,,
330,f3f09687f4e61b2de3191ef0ef9c9865bb8dab43,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-04-21 00:47:17 -0400, , travis fix build take account renamed unit test artifact signed waldemar kozaczuk jwkozaczuk gmail.com,,
331,69209ebe70c7ac2bc3861d8e33880de5de437d37,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-04-20 18:42:41 -0400, , apps update latest apps signed waldemar kozaczuk jwkozaczuk gmail.com,,
332,292b79dd073894866a70f82a53efbe4dbbc81e2d,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-04-20 12:28:50 -0400, , test improve automated testing framework patch modifies number shell python script script test directory improve enhance automated testing framework described wiki page http github.com cloudius system osv wiki automated testing framework following way refine properly build independently run zfs rofs image refine log success fail message summary file tmp refine support running zfs rofs unit test image well httpserver api test refine python test script support running test image arbitrary osv kernel kernel.elf revamp python script intended test http apps new name support apache bench wrk stress test tool signed waldemar kozaczuk jwkozaczuk gmail.com,,
333,2c3537e36bd15baa9d5fc832611632f991e51148,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-04-20 11:20:06 -0400, , capstan add kernel.elf httpserver monitoring module list generated artifact patch also enhances build capstan mpm package script build common rofs zfs test mpm package signed waldemar kozaczuk jwkozaczuk gmail.com,,
334,8474e80cb68bfb02c1e4eddc038e24fa05c9aec9,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-04-20 11:15:06 -0400, , script resolve symlink target exporting signed waldemar kozaczuk jwkozaczuk gmail.com,,
335,d62dfa1d2bd8958548c397e10f13720e8e1ba424,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-04-20 10:58:12 -0400, , test allow building zfs rofs version test patch modifies test makefile generate manifest file common file system zfs rofs specific set test allows creating capstan mpm package intended use automated testing framework signed waldemar kozaczuk jwkozaczuk gmail.com,,
336,11b6a1f7bda245c143012de6793ebad249bda558,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-04-20 10:56:04 -0400, , httpserver api add kernel_path parameter allow running test specific kernel signed waldemar kozaczuk jwkozaczuk gmail.com,,
337,b513d5f2d3136bba37affb7e233bdb69c370a2a9,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-04-20 09:42:57 -0400, , cert make certificate work apps running firecracker patch add 172.16.0.2 list valid address make apps running firecracker communicating http function properly patch also add client key mpm package signed waldemar kozaczuk jwkozaczuk gmail.com,,
338,981190e4c41492bbe36786b7ff6bd27b71e7d083,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-04-11 00:04:54 -0400, , build allow building kernel zfs rofs disk image patch enhances build shell script adding new create disk option allows building kernel disk image kernel disk image intended used direct kernel boot please note used qemu 4.0 later requires pvh boot support signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
339,781bc20cfc5a1bc8a920dbe3e9316490bc919369,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-04-11 00:04:53 -0400, , make add new uniform kernel.elf artifact intended direct kernel boot mode loader.elf main build artifact besides kernel code also contains small bootfs filesystem purpose bootfs provide mkfs.so zpool.so binary intended help create zfs filesystem main drive populated tool build process usr.img created bootfs filesystem still part original loader.elf therefore usr.img longer necessary boot osv image zfs file system already created average bootfs add 800k loader stripped.elf cause unnecessary memory waste slightly slows kernel loading worth pointing loader.elf created rofs filesystem empty bootfs patch change main makefile produce new artifact kernel.elf effect loader.elf empty bootfs kernel.elf intended direct kernel boot firecracker qemu kernel mode used boot either zfs rofs disk patch alse change firecracker.elf run.py option use kernel.elf instead loader.elf boot osv signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
340,2e315e352af92e5121eb3c88e879ab5138155bdf,onsup Yoon <pusnow@kaist.ac.kr>, 2020-04-13 23:00:12 +0900, , run.py add tap option currently osv need root permission tap networking however tap interface proper permission tap networking without root permission add tap option specify tap interface enables tap networking without root permission usage root adduser user1 kvm allow user use kvm tunctl user1 user1_tap0 add tap interface user1 user1 without root sudo script run.py tap user1_tap0 signed wonsup yoon pusnow kaist.ac.kr message pusnow kaist.ac.kr,,
341,89de007e5dfedd56e48d3db8f07d1ed8c008b864,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-04-10 17:25:35 -0400, , build cleanup export file regardless filesystem chosen signed waldemar kozaczuk jwkozaczuk gmail.com,,
342,f3503f42c2411860897a33a1e27b16639c151a6c,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-04-10 17:18:05 -0400, , build reference source prevent rebuiding kernel everytime zfs build signed waldemar kozaczuk jwkozaczuk gmail.com,,
343,d2202bc65a7a203b53e772671a4524ac7b820136,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-04-10 17:12:32 -0400, , bootfs fix harmless message complaining libgcc_s.so.1 uploading manifest signed waldemar kozaczuk jwkozaczuk gmail.com,,
344,2bc4e63d9eca9556c68fa8d5f853f9f0d68669ce,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-04-10 17:07:49 -0400, , module.py resolve java base non java apps reduces little bit noise making build resolve java base related module non java apps signed waldemar kozaczuk jwkozaczuk gmail.com,,
345,60a5b0e0b5973f44f997082df970c337b5436841,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-04-07 21:16:21 -0400, , httpserver fix monitoring module makefile properly generate json file signed waldemar kozaczuk jwkozaczuk gmail.com,,
346,828f9cfb52fa238ab573b01c5928d8d0681a0b50,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-03-29 12:50:56 -0400,1077, mempool use map_anon large allocation memory fragmented patch mostly address issue 854. essence change malloc_large use mmu map_anon requested memory greater size huge page doe contiguous physical memory also make fallback map_anon based allocation request 2mb satisfied memory heavily fragmented supposed help osv memory allocation behave better memory heavily fragmented large allocation 2mb satisfied single contiguous page range working patch also become clear application heavily use realloc allocates new chunk memory free old one might much encounter heavy fragmentation memory hopefully patch going help scenario happens object_size needed adjusted work new malloc_large implementation discovered therefore related issue fixed patch well lastly patch add new test verifying realloc fix 784 fix 854 fix 1077 signed waldemar kozaczuk jwkozaczuk gmail.com,,
347,4b817f8e463cc49c3c5b75f38a71694f89ca2f73,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-03-24 00:49:42 -0400, , mempool fix bug handling worst case scenario signed waldemar kozaczuk jwkozaczuk gmail.com,,
348,e7079c96fc5f510eee50ca115b1cab680d282f20,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-03-19 15:32:27 -0400, , httpserver add monitoring api unit test signed waldemar kozaczuk jwkozaczuk gmail.com,,
349,aa32614221254ce300f401bb99c506b528b85682,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-03-19 15:06:19 -0400,820, httpserver add read monitoring module patch add new module httpserver monitoring api provides read subset api intended monitoring purpose monitoring flavor httpserver provides following route api env file  hardware network  route expose get path monitoring module disables yaml file based configuration well ssl connectivity also possible add trace plugin libhttpserver api_trace.so please note monitoring module httpserver api source code however compiling pas dmonitoring flag disable subset code needed monitoring functionality also compile code fvisibility hidden reduce size monitoring executable 800k fix 820 signed waldemar kozaczuk jwkozaczuk gmail.com,,
350,9f3bdda6181e37da2a9039d18843268887089cf9,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-03-19 14:21:59 -0400, , httpserver allow compiling feature needed monitoring api patch modifies httpserver api source code add pre processor conditionals defined monitoring disable fragment code needed monitoring api specifically disables non get route exception trace api yaml file based configuration also disables ssl done allow creating minimal read version httpserver api intended monitoring purpose finally also explicitly make certains symbol like main public using compiler directive like __attribute__ visibility default pragma gcc visibility push default pragma gcc visibility pop latter used make portion common code public available module like trace api hiding symbol monitoring module also help reduce size signed waldemar kozaczuk jwkozaczuk gmail.com,,
351,2006f3bb14d07826eecf7799a730bf17e5d31cdb,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-03-22 12:17:19 -0400, , test move nfs testing separate module patch move nfs testing logic script test.py module nfs test test.py also refreshes nfs test pull build unfs3 nfs user space new repo eventually add new check target build test image nfs nfs test run test.py signed waldemar kozaczuk jwkozaczuk gmail.com,,
352,4ffb0fa9329849cd587d62f91b6979bc0e0ce6d1,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-03-22 12:14:27 -0400,1078, move nfs support kernel lieu separate pluggable module patch remove external libnfs module make nfs support pluggable moving module shared library added image instead compiled kernel using nfs true build option nfs support added adding nfs module image specifically external libnfs removed equivalent module libnfs get created nfs code except get moved kernel new module nfs built shared library vfs mount logic able dynamically load extra filesystem library usr lib completes 1078 signed waldemar kozaczuk jwkozaczuk gmail.com,,
353,69ea10059c579ccdfbcd154c13a466e18fd81a38,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-03-19 14:15:18 -0400, , httpserver use openjdk8 host module test signed waldemar kozaczuk jwkozaczuk gmail.com,,
354,f4bc684a51ef5847535d903c180a83f5d8de1c54,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-03-17 00:39:52 -0400, , virtio extract common logic map capability bar signed waldemar kozaczuk jwkozaczuk gmail.com,,
355,ae529f012b6f9703447f62b7d6e59581b6c4873a,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-03-18 10:43:46 -0400, , virtio optimize number exit parsing capability signed waldemar kozaczuk jwkozaczuk gmail.com,,
356,22a0f99048ce0d9aa51faa50a2579a9971790c9e,otis Xenakis <foxen@windowslive.com>, 2020-03-16 15:44:14 +0200, , virtio expose shared memory region signed fotis xenakis foxen windowslive.com message,,
357,a7c4a46c5ff319e8bdee8c460afe3475a1bb4b9c,otis Xenakis <foxen@windowslive.com>, 2020-03-16 15:43:09 +0200, , virtio pci discover shared memory region latest virtio spec add shared memory region shared memory region additional facility available device need region memory thatâ continuously shared device driver rather passed way virtqueue element virtio pci enumerated sequence capability one per region patch extends virtio pci implementation discover region provided device signed fotis xenakis foxen windowslive.com message,,
358,753ac13826d598de606980ed032587bc49b757c6,otis Xenakis <foxen@windowslive.com>, 2020-03-16 15:41:24 +0200, , pci add batch capability discovery signed fotis xenakis foxen windowslive.com message,,
359,4426bdc0c34556e6feef2c61a1c79992a3b9c5b5,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-03-15 15:54:51 -0400, , libc refine timerfd_ function handle wall clock jump patch adjusts logic timerfd read arm clock clock jump backwards expiration time point still ahead signed waldemar kozaczuk jwkozaczuk gmail.com,,
360,c1ef66737757a4e0fd2d6589d8a5ea87ab436b72,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-03-15 15:22:51 -0400, , libc make timerfd_ function handle wall clock jump wall clock jump backwards triggered example host clock change propagated kvmclock synchronization mechanism implemented commit http github.com cloudius system osv commit timerfd read may see timepoint expiration upon wakeup event opposite current implementation expects lead broken assert crash patch fix implementation timerfd read differentiating clock_monotonic clock_realtime handling case clock realtime wall clock expiration case simply arm wake expiration interval timepoint partially address 1076. please note need adjust tst timerfd account clock jumping forward backwards signed waldemar kozaczuk jwkozaczuk gmail.com,,
361,752b6bb8b2fe01d693b9ffb751669ec476771087,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-03-13 21:16:53 -0400, , cloud init replace boost program_options light option utility function signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
362,946b26cc3cc8d5fd12154c42d256bac7851d633a,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-03-13 17:42:16 -0400, , dl_tests fix makefile duplicate building artifact patch clean dl_tests makefile replacing duplicate rule common cxxflag2 variable importantly remove duplicate make call creating race condition parallel build signed waldemar kozaczuk jwkozaczuk gmail.com,,
363,93a3e4d65db737b0aa1e0ddb2668fb23bac5f17f,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-03-02 08:12:48 -0500,743, external eliminate aarch64 gcc boost library external patch eliminates aarch64 gcc boost library external lieu new mechanism download package fedora repository please note jenkins build need modified call script building aarch64 image fix 743 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
364,179e9f68ce9f9e21062ae5af547666419fbde26f,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-03-13 10:53:48 -0400, , travis clean build tree case signed waldemar kozaczuk jwkozaczuk gmail.com,,
365,715a8bd5ef367a635c2e35667c1de03f7296b5b5,otis Xenakis <foxen@windowslive.com>, 2020-03-08 16:42:22 +0200, , pci allow bit bar offset signed fotis xenakis foxen windowslive.com message,,
366,7305d0ff9f961ae2f983c5141801ad4aa9b0dc51,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-03-08 23:45:44 -0400,1044, travis setup nightly publishing osv artifact patch set osv travis pipeline build publish kernel well couple capstan package every push main osv repo make possible use open source project release publisher provides python shell script automate building publishing build artifact github repo part travis build chain detail please read http github.com nurupo release publisher release publisher please note osv setup follows publishing different repository approach high level everytime new commit pushed cloudius system osv repo travis would execute logic defined .travis.yml build osv docker builder image defined docker run osv build docker container build kernel unit test publishes kernel unit test form capstan mpm file new repo http github.com osvunikernel osv nightly release release eventually might tweak setup publish artifact day commit pushed note .travis.yml delegate script defined .travis cirp futher delegate python script part release publisher module lastly patch add useful python based script aimed help list daily release artifact push downloads delete artifact completes 1044 signed waldemar kozaczuk jwkozaczuk gmail.com,,
367,e4d91034718e958d1d01cc469a76103e3fc28a1f,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-03-08 11:31:09 -0400, , docker changed builder file git clone full signed waldemar kozaczuk jwkozaczuk gmail.com,,
368,f6cdcd73a631100a780c1b90ceeb44fc6c26286b,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-03-08 00:43:15 -0500, , script fix build capstan mpm package remove obsolete font module signed waldemar kozaczuk jwkozaczuk gmail.com,,
369,fd11b53834d556d2e04edf914c509649ee7e3b02,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-03-08 00:38:48 -0500, , script enhance test.py allow blacklisting test specifying test manifest signed waldemar kozaczuk jwkozaczuk gmail.com,,
370,6e20241a5add166e4c37c6b923033139d4768b29,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-03-08 00:36:21 -0500, , script remove redundant parsing argument run.py signed waldemar kozaczuk jwkozaczuk gmail.com,,
371,d1c9f0d5d7fb1dc0924abe6bfa6bd98dc291885d,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-03-08 00:29:54 -0500, , docker add docker file defining base image patch add new docker file one fedora another ubuntu essence provide package installed setup.py patch also add new generic docker builder file based one base image signed waldemar kozaczuk jwkozaczuk gmail.com,,
372,92eb26f3a64506c24ae5746c8d1eabced3699e48,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-03-03 00:03:29 -0500, , docker added build hook file allow specifying particular fedora ubuntu version signed waldemar kozaczuk jwkozaczuk gmail.com,,
373,e57fc72975c85d8c084eedfa9a289ab5194baaad,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-03-02 08:21:14 -0500, , docker add new docker file build osv runner image patch add new docker file build runner test osv image also parameterizes docker file let user specify fedora ubuntu version well git repo owner one clone osv please see example new image built  docker build osv builder fedora fedora build arg fedora_version build arg git_org_or_user a_user  signed waldemar kozaczuk jwkozaczuk gmail.com,,
374,bbb9e1e01f420f5bd7f072d999455d0949a5ad7c,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-03-02 08:06:01 -0500, , script setup.py move code download aarch64 package script signed waldemar kozaczuk jwkozaczuk gmail.com,,
375,ca231e458e80706a0e3c67e6c128529a9d2e2978,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-03-01 18:45:54 -0500, , script setup.py refactored moving common package distribution level signed waldemar kozaczuk jwkozaczuk gmail.com,,
376,b71a86321262edd42bf31e8eef9cbd9cdeeb613e,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-02-29 11:18:43 -0500,1074, memmove fix bug memory area overlap src offset dest offset memmove implementation call src dest offset long aligned first copy byte byte starting end index long aligned problem doe byte early overwrites single byte cause dire consequence like crash patch fix decrementing src dest pointer ahead copying byte fix 1074 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
377,4a07fea6b15772a9a9b80dea86b0a0d01711727d,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-03-01 00:20:20 -0500, , script setup.py add support ubuntu 19.10 signed waldemar kozaczuk jwkozaczuk gmail.com,,
378,8cf72c0b59fa1519e96d2960a1d02a727118d2a2,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-02-29 23:41:54 -0500,743, external enhance setup.py download aarch64 gcc boost code library reference 743 signed waldemar kozaczuk jwkozaczuk gmail.com,,
379,d36bbe23e8c995c948904b40d981e32decb03e91,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-02-25 00:42:16 -0500, , script new script download extract arbitrary fedora rpm signed waldemar kozaczuk jwkozaczuk gmail.com,,
380,88092624996f1574db9c8c1f6118ac8ff16db4d0,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-02-25 23:28:30 -0500, , script use strip command set makefile work properly aarch64 signed waldemar kozaczuk jwkozaczuk gmail.com,,
381,4ee4b788d135a5090bbb982f8b60473502037e76,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-02-25 08:54:15 -0500, , aarch64 support jump_slot relocation kernel signed waldemar kozaczuk jwkozaczuk gmail.com,,
382,99156d787298e94fca33e4c86eb796368451bf36,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-02-24 17:09:25 -0500, , script loader.py make osv info callouts work older abi signed waldemar kozaczuk jwkozaczuk gmail.com,,
383,7175a5a820ee1669579a944359b2bbbd073493ac,adav Har'El <nyh@scylladb.com>, 2020-02-24 14:15:11 +0200, , script setup.py fix fedora package python3 fedora python package may refer python2 need install python3 package specifically script require python3 patch fix build failure fedora fedora debian ubuntu setup may need similar fix test fix included patch signed nadav har nyh scylladb.com,,
384,a3892ce3abff743dfa18f84bdb5eb0056ccc2ab7,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-02-22 16:12:58 -0500, , script enhance run.py allow running osv arm signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
385,228190adf949164ec83acea791dad72f5c8f0f75,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-02-22 09:20:04 -0500,1056, script upgrade python part third last batch python upgrade change focus debug loader.py trace related script following script either adapted version verified need changed patch series module httpserver api json2code.py module httpserver api test api testenv.py module httpserver api test api testfile.py module httpserver api test api testfs.py module httpserver api test api testjolokia.py module httpserver api test api testjvm.py module httpserver api test api testnetwork.py module httpserver api test api testos.py module httpserver api test api testtrace.py module httpserver api test basetest.py module httpserver api test testhttpserver api.py module httpserver html5 gui test static teststatic.py module httpserver html5 gui test module openjdk8 host module.py script script firecracker.py script freq.py script gen rofs img.py script imgedit.py script libosv.py script loader.py script script script metadata.py script mkbootfs.py script nbd_client.py script osv client.py script osv debug.py script osv module api.py script osv module filemap.py script osv module resolve.py script osv prof.py script osv trace.py script osv tree.py script prof.py script run.py script setup.py script tester.py script test.py script test test_app.py script test script test script test testing.py script test test_net.py script test test_tracing.py script top.py script trace.py script test tst tcp hash cli.py following relevant python file left upgrade possibly never upgraded bsd script init order.py bsd sys xen interface foreign mkchecker.py bsd sys xen interface foreign mkheader.py bsd sys xen interface foreign structs.py script bench zfs_mount.py script ec2 gc.py script ec2 make ami.py script ec2 simulator.py script post processing scheduler histo.py script post processing scheduler script silentant.py script tester.py script test ruby.py fix 1056 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
386,418c636bcaefec96a803d0eb474cf7816b866a08,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-02-22 10:52:01 -0500, , script enable run firecracker signed waldemar kozaczuk jwkozaczuk gmail.com,,
387,f7c9408f3b8e19a38fdb32b7478faf67454dc20c,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-02-22 10:45:43 -0500, , script change firecracker.py default api mode patch change firecracker.py default api mode start firecracker create temporary json file specifying configuration memory cpu etc patch also bump firecracker latest 0.21.0 version signed waldemar kozaczuk jwkozaczuk gmail.com,,
388,6eab117ad3307e8fef6730acba149cb3e8c91c99,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-02-22 08:04:48 -0500, , script upgrade python part 1.2 signed waldemar kozaczuk jwkozaczuk gmail.com,,
389,93773a84cb8c5394bcbb63494f09bdcee5cc6d68,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-02-17 17:04:30 -0500,1056, script upgrade python part second batch python upgrade change one focuces httpserver api unit test change revolve around change urllib module script tested runnin following test root module httpserver api directory make check http make check ssl ref 1056 signed waldemar kozaczuk jwkozaczuk gmail.com,,
390,e037d864ef236437f02ec1b96a61b95ed562fcde,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-02-17 16:45:41 -0500, , httpserver properly handle chunked post request body bug discovered running httpserver unit test python script upgraded version new version request module chunk post request body sent socket two part request body httpserver bug consumed request instead completing request body chunk fully received would try consume body chunk next request failing would send back 400 bad request response patch simply change connection logic complete handling request scenario proceed next request signed waldemar kozaczuk jwkozaczuk gmail.com,,
391,34d1dc8d671fa32cf63900dbd1f4e6a35b90b0d6,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-02-21 12:47:29 -0500, , script migrate setup.py python setup.py relies determine linux distribution host python unfortunately deprecated aforementioned method order migrate python patch change setup.py parse information standard file located etc specifically new setup.py try parse name version etc release found fall back etc lsb release signed waldemar kozaczuk jwkozaczuk gmail.com,,
392,69486729cde2a991335ad4d155d274b32a966231,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-02-19 07:27:11 -0500,1056, script upgrade python part 1.1 patch incorporates change original patch submitted matt bass well extra change made waldemar kozaczuk upgrade python script version version trivial change result automated upgrade tool like future module 2to3 others involving proper handling binary string data especially using subprocess module manually made code tried compare non uniform data python strict script tested maybe scenario flow missed ref 1056 signed matt bass bassmatt0515 gmail.com signed waldemar kozaczuk jwkozaczuk gmail.com,,
393,8492bd7bd8b3f0c4bd0f08366a4e1421fdc576e7,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-02-17 23:32:16 -0500, , test improve regex rule catch failure tst dlfcn asserts tst dlfcn.cc failing regex rule testing.py would catch patch fix rule also temporarily disables portion test fails signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
394,ee5ceeb37d217ed299296146e6ba71ccca660094,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-02-17 23:16:58 -0500, , test add bionic test source tree instead cloning full bionic source repo 70mb everytime need build test image patch simply add seven small source file osv repo file copy directory test libs http platform bionic commit  please note bionic test source code licenced permissive bsd like license apache 2.0 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
395,3d2ea5dbc8f289b9581fbc0eb166398b7e728fc1,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-02-17 18:39:03 -0500, , apps upgraded latest signed waldemar kozaczuk jwkozaczuk gmail.com,,
396,d4c167ece02efe1f4ad856e84ff70cd85ee0bada,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-02-12 07:47:54 -0500, , revert signed bassmatt bassma ... gmail.com reverts commit,,
397,6ab0e285e52cb7d66b59073d22d2c29ef5bc5940,assMatt <bassma...@gmail.com>, 2019-12-12 14:02:48 -0600,1056, signed bassmatt bassma ... gmail.com main script script folder updated use python3 went script detailed script readme updated use python3 used python future module provide suggestion manually went applied change future module give suggestion allow cross compatibility python2 since expressed python3 needed supported left issue detailed http github.com cloudius system osv issue 1056 message bassmatt0515 gmail.com,,
398,84b9fe2b827f734f1a738ca929065698a4cdae24,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-02-10 00:00:26 -0500, , aarch64 fixed linker error introduced virtio change signed waldemar kozaczuk jwkozaczuk gmail.com,,
399,bae4381d1d0558b7a684294e9203864f9652395c,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-02-08 18:22:00 -0500,1062, virtio initial implementation read subset patch provides initial implementation read subset new virtio filesystem one main two part new virtio driver virtio handle interaction virtio device specified new 1.2 virtio spec http virtio virtio fs.html 41500011. second part implement vfs sublayer provides virtio filesystem osv essence serf passthrough vfs abstract layer virtio device host filesystem main motivation provide way run application osv without need create specific image app duplicate file already available host essence one eventually able execute app linux host reading binary exposed virtio deamon reason decision implement read inly subset fuse interface deliberate may never implement full read write functionality please note initial implementation missing readdir functionality also implementation file read operation pretty naive probably quite slow read requires exit host eventually optimize latter using sort cache logic like rofs ideally implement dax direct access would provide direct guest host mapping step required mount arbitrary directory host run app get latest qemu source master 4.2 build along virtiofsd daemon qemu source directory mkdir build build configure prefix pwd target list x86_64 softmmu make make virtiofsd apply patch osv tree add following line static etc fstab dev virtiofs1 virtiofs virtiofs default add following line virtiofs static build standard osv image native example app run command line make set proper command line script run.py virtiofs hello give permission virtiofsd daemon able execute unshare http man7.org linux man page man2 unshare.2.html sudo setcap cap_sys_admin build virtiofsd start virtiofs daemon another terminal build virtiofsd socket path tmp vhostqemu source osv_root apps native example cache always finally run osv manually starting qemu proper parameter eventually change run.py support please see parameter new device qemu_build_root build x86_64 softmmu qemu system x86_64  smp vnc gdb tcp 1234 server nowait device virtio blk pci blk0 drive hd0 scsi bootindex drive file osv_root build last usr.img none hd0 cache none aio native netdev user un0 net 192.168.122.0 host 192.168.122.1 device virtio net pci netdev un0 device virtio rng pci enable kvm cpu host x2apic chardev stdio mux stdio signal mon chardev stdio mode readline device isa serial chardev stdio chardev socket char0 path tmp vhostqemu device vhost user pci queue size 1024 chardev char0 tag myfs object memory backend file mem size mem path dev shm share numa node memdev mem last line may necessary info read http virtio fs.gitlab.io howto qemu.html information information virtiofs please read http vmsplice.net stefan virtio fs_ 20a 20shared 20file 20system 20for 20virtual 20machines.pdf http virtio fs.gitlab.io index.html faq partially implement 1062 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
400,dc8e340aa94c90897aaef46437cbd39a5b4d5b24,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-02-08 18:21:59 -0500, , virtio add fuse protocol header file copy http github.com libfuse libfuse blob include fuse_kernel.h provides wire level interface fuse protocol used exchange data guest host virtio device signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
401,f5432c9627fa1f24d1335bcbb3d67332f9adf3bd,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-02-05 22:48:01 -0500, , setup support fedora signed waldemar kozaczuk jwkozaczuk gmail.com,,
402,c7db4fc01a586889d68708ac151e5edaed5d3203,adav Har'El <nyh@scylladb.com>, 2020-01-26 15:38:53 +0200, , alarm fix crash alarm rearmed alarm handler quite common application set alarm expires set new alarm signal handler example ping application doe patch often crash random number time problem start alarm wanting know thread ran need information alarm happens interrupt system call sleeping specific thread unfortunately alarm run signal handler described osv signal handler separate transient thread patch remember thread alarm next happens try wake thread longer exists time result course undefined depending else happened since may result crash solution patch alarm change old owner thread called signal handler thread hope previous one still relevant true application ping workaround kind ugly doe fix ping crash described issue 1073 fix 1073 signed nadav har nyh scylladb.com message nyh scylladb.com,,
403,3fdce4ae6c9dd61b434948696ad67eb74cf04266,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-01-26 17:19:15 -0500, , module add simple sysinfo utility add simple tiny sysinfo utility added image periodically report system memory utilization every second default changed parameter eventually sysinfo enhanced report cpu utilization well signed waldemar kozaczuk jwkozaczuk gmail.com,,
404,c297ddf51b593bc954cc41adb167199c48cd6e18,adav Har'El <nyh@scylladb.com>, 2020-01-26 16:45:27 +0200, , update apps.git signed nadav har nyh scylladb.com,,
405,42251396c7944bafc37fda391731614e6110c380,hiting Zhu <zhitingz@cs.utexas.edu>, 2020-01-19 19:17:27 -0600, , implement rtld_next signed zhiting zhu zhitingz cs.utexas.edu message zhitingz cs.utexas.edu,,
406,3ffc18ac25075ca39f167fe2c7fe81cbd38c15ab,hiting Zhu <zhitingz@cs.utexas.edu>, 2020-01-19 19:17:26 -0600, , lookup symbol deeper dlsym function seem lookup symbol deep enough patch includes bfs version collect dependency fix  signed waldemar kozaczuk jwkozaczuk gmail.com signed zhiting zhu zhitingz cs.utexas.edu message zhitingz cs.utexas.edu,,
407,8c8e0b315e1f20d05b1cef1a10a406826de87567,adav Har'El <nyh@scylladb.com>, 2020-01-22 12:13:15 +0200, , submodules cleanly remove unused submodules remove submodule enough remove .gitmodules also need git otherwise git submodule init fails new clone signed nadav har nyh scylladb.com,,
408,fe61b3133a2941e1f7e32b3fc86c6b3cabc14cf8,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-01-21 22:21:53 -0500,743, external x64 remove gcc.bin patch essence change skel manifest pull libgcc_s.so host instead gcc.bin external also remove external x64 gcc.bin module reference 743 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
409,2b3bac57968af0f5d045ccbfed1c0fdd018488e4,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-01-21 22:21:52 -0500,743, external x64 remove misc.bin essence patch remove obsolete library java base manifest change libz module pull libz.so.1 host eliminates unneeded dependency font app also remove external x64 misc.bin module reference 743 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
410,4046f9847ad891e07880b81acf21ed0ff9bd9942,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-01-21 22:21:51 -0500,743, external x64 replace openjdk7 module new openjdk8 host one java reached end life almost year ago since largely replaced java still widely used patch eliminates openjdk7 module add new openjdk8 host one default java module patch also replaces dependency main makefile antique openjdk7 external x64 openjdk8 host installed setup.py patch also remove external x64 openjdk.bin external aarch64 openjdk.bin module reference 743 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
411,19ffcabebfe6f83d456b7899472ecd16759ae388,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-01-21 22:21:50 -0500,743, external x64 move java balloon code kernel module java base main motivation patch eliminate compile time dependency kernel jdk header achieves moving java balloon shrinker implementation requires java header compile kernel java jvm module java base given kernel code mmu mempool mman depended directly necessary create new abstraction interface jvm_balloon_api class pure virtual method kernel code would use interact jvm balloon code enabled code moved java jvm module java base balloon would provide implementation jvm_balloon_api hiding direct interaction jni java native interface essence function jvm_balloon.cc adopted method class singleton implementing interface defined jvm_balloon_api reference 743 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
412,03da50bcd4583a0ce2f0c4684b8f3f332b3f603b,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-01-20 10:00:54 -0500, , apps updated latest signed waldemar kozaczuk jwkozaczuk gmail.com,,
413,83e64f02a5f9f14feccfa6f2e70087b2209df833,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-01-19 18:11:29 -0500, , apps updated latest signed waldemar kozaczuk jwkozaczuk gmail.com,,
414,27bd7c667e1d0dd2ea701d3584195f289ba1a5b0,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-01-15 23:21:11 -0500, , java move java_api jni_helpers java module java_api jni_helpers actually used java.cc following httpserver java related plugins httpserver jolokia plugin httpserver jvm plugin josvsym patch move relevant code kernel make part java.so signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
415,364d086247cb2427834ae0d2d78f360ce70e6e75,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-01-15 23:03:54 -0500, , external removed unneeded x64 git submodules glibc.bin glibc testsuite signed waldemar kozaczuk jwkozaczuk gmail.com,,
416,97d15450b23aa22bc1cc09d3d6758a659c1b5b5e,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-01-14 22:08:13 -0500,743, external eliminate unused glibcbase build parameter reference 743 signed waldemar kozaczuk jwkozaczuk gmail.com,,
417,091fdae95e63078b795ec8128f742bea25cb7768,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-01-14 21:59:25 -0500, , httpserver use libyaml header host instead external signed waldemar kozaczuk jwkozaczuk gmail.com,,
418,b87298e1a1e63890100bb1b814d59f7047bbcf7c,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-01-14 07:59:01 -0500,1045, elf separate loading segment processing header issue 1045 exposed bug dynamic linker processing header like pt_note require accessing data pt_load segment pt_note header come earlier pt_note end page fault portion elf file mapped yet patch separate loading segment load_segments processing header adding new method process_headers fix 1045 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
419,33a2ad8aaffe2a556c56cc037db946bd71ded1cc,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-01-14 07:32:12 -0500, , git ignore json compilation database file used clion ide signed waldemar kozaczuk jwkozaczuk gmail.com,,
420,5a1d4c2451a94809d1ad580272410d8c51e5171b,adav Har'El <nyh@scylladb.com>, 2020-01-14 13:18:38 +0200, , stdio fix scanf bug lewis tian noted mailing list application reading fscanf large file fails passing one bufsiz data turn old musl code using correct assuming certain bizarre readv bug workaround osv dropped commit musl developer noticed rely workaround even apply unbuffered stream came fix commit http git.musl libc.org cgit musl commit src internal shgetc.c patch doe fix copy musl code way change libc internal shgetc.c identical musl src internal shgetc.c drop former yet header file difference still need cleared original musl commit message describing change fix major scanf breakage unbuffered stream fmemopen etc shgetc api used internally scanf int float scanning code handle field width limiting pushback designed assuming pushback could achieved via simple decrement file buffer pointer worked chance regular file stream due linux readv bug workaround __stdio_read move last requested byte buffer rather directly back caller unbuffered stream stream using __stdio_read underlying read function first character read could completely lost replaced whatever junk happened unget buffer fix simply shgetc performs underlying read operation stream store character read offset read buffer pointer valid even unbuffered stream unget buffer located start zero length buffer check avoid storing character already handle possibility read buffer application exposed file type allowed use read buffer sscanf strto may use internally calling function use shgetc api signed nadav har nyh scylladb.com message nyh scylladb.com,,
421,b6654d075a77152fc6d37fcc08bad96395accffb,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-12-12 14:54:00 -0500, , elf ignore versioning table symbol looked object commit http github.com cloudius system osv commit enhanced dynamic linker skip old symbol per version table unfortunately relevant code take account whether old symbol looked object relocation sentence http www.akkadia.org drepper symbol versioning highest bit bit set hidden symbol referenced outside object seems indicate old symbol visible object patch enhances lookup method help track looking object version table ignored background information main far one motivation patch allow upgrading libgcc_s.so newest version host instead relying antique version external see turn point starting version gcc team moved __cpu_model constructor function symbol shared library libgcc_s.so static one libgcc.a please see commit detail http github.com gcc mirror gcc commit diff marked compat libgcc_s.so shown single make symbol invisible osv linker per symbol version table effectively old ignored lookup object try relocate patch actually make change version symbol handling logic achieve exactly version symbol handling logic osv based musl musl doe try expose old symbol object like patch doe turn musl team complained original change libgcc_s.so gcc team changed libgcc_s.so musl built commit http github.com gcc mirror gcc commit discussion http patch 693782 shed light signed waldemar kozaczuk jwkozaczuk gmail.com,,
422,ee3838976a076c0d9598baee837b9f32132f29d9,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-01-12 17:44:34 -0500, , thread make walking parent child thread relationship safer patch replaces _parent_link thread_list simple field make walking parent child list safer elf visible method signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
423,f9ed9e0e5f0082e8de291db8d9bbfde7d5757807,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-01-11 13:00:20 -0500,1067, elf fix thread visiblity issue commit address issue 1067 relaxed elf visibility rule loaded child thread resolve symbol thread created init function unfortunately inadvertently patch allowed access elf ebjects early case would lead crash concrete scenario would happen cli app thread resolve object httpserver app thread start httpserver app new thread thread continues load object cli app thread try resolve symbol example end attempting look symbol cli object loaded thread ready yet however thread child  clearly example illustrates hole original patch patch fill hole restricting back access symbol object loaded thread used relaxes access child thread brief time object initialized doe introducing elf access visibility level public threadonly  public threadonly equivalent old nullptr non nullptr visibility attribute set period init function called reference 1067 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
424,c1330b3b84197d7f217973ec8e87b783dae23b65,hiting Zhu <zhitingz@cs.utexas.edu>, 2020-01-10 01:16:41 -0600, , add dlsym test patch includes module called dl_tests clone bionic compile needed library file signed zhiting zhu zhitingz cs.utexas.edu message zhitingz cs.utexas.edu,,
425,287c379ae35a96b6c19179e9fa4a191099aa6295,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-01-09 23:23:26 -0500, , libc expose musl patch expose libc implementation greatly subset musl binary built musl based linux distribution like alpine complain absence reference 1070 signed waldemar kozaczuk jwkozaczuk gmail.com,,
426,e5515cf0170358bd4588456182540720672f015c,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-01-09 23:22:04 -0500, , glibc add explicit_bzero function signed waldemar kozaczuk jwkozaczuk gmail.com,,
427,8ae44187d8b53a2cc2018036328c5ed815371a5c,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-01-09 23:19:36 -0500, , procfs add meminfo pseudo file signed waldemar kozaczuk jwkozaczuk gmail.com,,
428,fe37650fbbcd352806bab3e9e70949a65fadf29b,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2020-01-06 00:34:01 -0500,1067, elf make symbol visible object thread created init function issue 1067 explains sometimes init function create thread reference symbol object initialized current visibility logic prevents new thread seeing symbol lead crash patch fix problem loosening visibility rule allow child thread see object symbol initialized achieves utilizing new capability tracking parent child relationship thread checking parent grand parent etc see object new parent child capability also act debugging tool example could allow httpserver api expose new bit information fix 1067 signed waldemar kozaczuk jwkozaczuk gmail.com,,
429,69a0ce39eb7c5af76bd2c714939c02ceb7ea398f,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-12-30 22:04:07 -0500, , arm relocate dtb instead read ahead time noted one email thread aarch64 build osv fails boot following error dtb_setup failed move dtb dtb large turn dtb device tree blob provided qemu 1mb size far larger 64k buffer reserved beginning osv_kernel_base address fdt_move call relocate copy dtb original place reserved buffer fails could early day dtb might small enough fit 64k area fdt_move would succeed also clear dtb relocated first place possibly done memory dtb originally located would unavailable mapped switching runtime page table one way fix error would increase buffer 1mb enough future another way relocate dtb simply pre read configuration value original dtb store known variable accessed needed without read dtb later patch modifies dtb contructor function arch dtb.cc parse following configuration value dtb dtb_cpu_count dtb_cpus_mpids dtb_timer_irq dtb_pci_irqmask  dtb_pci_bdfs dtb_pci_irq_ids also modifies relevant dtb_get_ function simply return value variable caller instead parsing dtb patch enough make osv aarch64 build boot tested fedora script build image native example ramfs arch aarch64 qemu system aarch64 nographic machine virt machine gic version kernel build release.aarch64 loader.img cpu cortex a57 1024m append verbose nomount maxnic tool uush.so smp signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
430,7230f35e0efb7f7e89a27dee895d38812513afe8,hiting Zhu <zhitingz@cs.utexas.edu>, 2019-12-30 13:34:02 -0600, , add implementation signed zhiting zhu zhitingz cs.utexas.edu message zhitingz cs.utexas.edu,,
431,c7fce2e19f21b625559e7af3947b27db3aa93943,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-12-30 21:54:49 -0500, , arm moved constructor init function preparation next patch signed waldemar kozaczuk jwkozaczuk gmail.com,,
432,abf9cba5635ba51d172f4884ce16f6be46509eb8,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-12-26 23:30:28 -0500, , elf lookup symbol twice resolve_pltgot signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
433,e694d066d20d87897d4a9b6dc721c0926d0fdc74,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-12-25 23:59:41 -0500, , kvm keep wall clock sync host patch updated version one originally authored rick payne year ago add logic start thread periodically update kvm wall clock date time stay sync host wall clock updated writing wall clock msr explained quote linux virtual kvm msr.txt  .... hypervisor guaranteed update data moment msr write user want reliably query information write msr authored rick payne rickp rossfell.co.uk authored waldemar kozaczuk jwkozaczuk gmail.com signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
434,1106761a4cc18efa6e0956795de602ef45b07f5e,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-12-23 12:07:51 -0500,1065, elf relocating lookup stb_local symbol name issue 1065 describes linkers like gold certain scenario generate elf object end symbol local binding stb_local need relocated known concrete scenario involve symbol type stt_section stt_tls fail get relocated osv linker attempt look name present relevant string lookup table worse point empty name string table index address follow musl doe simply looking symbol index current elf object instead name patch also add extra unit test fails without patch prove fix correct fix 1065 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
435,c9640a385c44704626a9169c03cff0752bfe764d,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-12-22 10:05:26 -0500,918, zfs default device name vblk0.1 vdev_path different dev vblk patch allows mounting osv zfs image linux host modifying using boot osv also allows mounting zfs disk created linux host typically mounting osv image linux zpool utility would change called vdev_path dev vblk0.1 dev nbd0p2 osv would fail mounting afterwards try open device using vdev_path stored disk patch effectively validates vdev_path make sure start dev vblk fix 918 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
436,474c538d0db2739beb809241fb25f0bfcfc7382b,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-12-22 10:04:33 -0500, , zfs import extra pool unless requested patch make osv try import extra zfs beyond root one unless specifically requested passing new extra zfs pool boot parameter improves osv boot time zfs image around 200ms qemu 400ms 40ms firecracker 60m signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
437,d539a7126492e05cd91da1b16f6b76bc86bbd8bb,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-12-18 08:36:40 -0500, , elf add debug statement aiming help diagnose problem signed waldemar kozaczuk jwkozaczuk gmail.com,,
438,e322059c857c99565dd834df42bb68d0daba1ea4,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-12-09 18:06:59 -0500,743, test stop using boost external patch make necessary change test module makefile replace antique version boost version host also another step effort eliminate usage artifact external described issue 743 ref 743 signed waldemar kozaczuk jwkozaczuk gmail.com,,
439,889f0653bf57a95e690fac4789b2fbef7e73d623,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-12-08 23:44:00 -0500, , libtools make gcc compiler message quiet signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
440,6c3cebcfc9521b96f3aff8d9934e0c1e6e461780,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-12-08 23:27:29 -0500,976, test replace tmpnam mkdtemp implementation tempdir last patch addressing compiler warning unit test reported issue 976 ref 976 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
441,15e689d35379529a38213676465684925ff5cb9b,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-12-08 22:09:13 -0500, , misc stress replace mktemp mkstemp fix compiler warning signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
442,9b1451b0977dd7d62e95d186e92654338b327a41,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-12-08 20:22:33 -0500, , tst zfs mount replace mktemp mkstemp fix compiler warning signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
443,0a94e2cac173979e1382eca15689e0f9449f4368,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-12-08 20:06:43 -0500, , tst link replace mktemp mkstemp fix compiler warning signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
444,5415cf4b9db2744c8d225a58201d6514d3c168ad,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-12-08 13:54:37 -0500,14, elf reverse unloading object needed list new version boost like 1.69.0 complicated dependendencies cause issue unit test  tst rcu list.so     libgcc_s.so.1  libgcc_s.so.1  libgcc_s.so.1   libgcc_s.so.1 libgcc_s.so.1  specifically unit test like tst rcu list tst rcu hashtable crash executing fini function unloading boost library stack trace like  processor cli_hlt arch x64 processor.hh 247 arch arch x64 arch.hh osv halt arch x64 power.cc abort fmt fmt entry 0x4064155f aborted runtime.cc 132 abort runtime.cc osv generate_signal siginfo ... libc signal.cc 124 osv addr optimized sig optimized optimized libc signal.cc 139 mmu vm_fault addr 17592187015168 addr entry 17592187015648 entry core mmu.cc 1337 page_fault arch x64 mmu.cc signal handler called std __cxx11 basic_string char std char_traits char std allocator char basic_string __cxxabiv1 __cxa_finalize dso optimized runtime.cc 183   elf object run_fini_funcs core elf.cc 1105  order fini function executed currently follows order object unloaded exactly clear seems dependency child object dt_needed list paricular object example tst rcu list.so unloaded first unloaded later std string destructor called fini function cause page fault shown commit year ago made process unloading object symmetrical loading one quite exactly seems culprit patch refines elf unload_needed method changing order dependent object reference released first release reference held set mostly added dt_needed processed _needed populated want symmetrical secondly release reference _needed vector iterating removing element starting end also make unloading behavior symmetrical order object dt_needed loaded first place concluding patch unit test pas linked boost 1.69.0 fedora host signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
445,70bbe0d36d5c16c5f59e83c99a9c43b2ae35641d,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-12-08 17:18:39 -0500, , tst truncate replace tmpnam mkstemp fix compiler warning signed waldemar kozaczuk jwkozaczuk gmail.com,,
446,87ffa3af52d7b0899c43a6660caa92750b5657ff,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-12-08 17:13:16 -0500, , tst fallocate replace mktemp mkstemp fix compiler warning signed waldemar kozaczuk jwkozaczuk gmail.com,,
447,2c01ff5f0260c28adfdda58b9ce1efcf624267d1,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-12-08 14:40:08 -0500, , test clean makefile print quiet message consistenly signed waldemar kozaczuk jwkozaczuk gmail.com,,
448,337cd2b5720a87ea82348271c4fbc006a9074264,uchenq <yuchenq@amazon.de>, 2019-12-04 09:44:13 +0100, , osv properly assign gsi number inside handler initialize gsi number inside handler unreachable number gsi number properly initialized default previously caused interrupt misfiring level triggered interrupt pin check gsi number interrupt sharing commit fixed misfiring pin fix 5fc9daf82ffc interrupt support interrupt sharing signed yuchen qian yuchenq amazon.de reviewed amadeusz juskowiak ajusk amazon.de reviewed marius hillenbrand mhillenb amazon.de team kaos brimstone kaos brimstone amazon.com http code.amazon.com review 14472907 message yuchenq amazon.de,,
449,35c85d06895ddd5b8e25e33c2f43c7037b1e8ef8,ason Davis <mason.davis@utexas.edu>, 2019-12-03 13:02:47 -0600,1044, add bare .travis.yml testing build patch subsequent commits osv github repo trigger build http travis ci.org cloudius system osv moment build consists building ubuntu docker image building osv easily expanded upon adding new entry .travis.yml addtionally could also changed use docker image desired future expansion functionality detailed http github.com cloudius system osv wiki automated testing framework goal would build test various apps ensure change make major regression ref 1044 signed mason davis mason.davis utexas.edu message mason.davis utexas.edu,,
450,2b62eac12bad9e3d6d0d659a6bd8a0d096a128df,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-11-29 23:12:17 -0500, , vfs make fcntl handle f_dupfd_cloexec signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
451,b04ee1b9083bbbee718c563499ca2a94067fcdcf,uchenq <yuchenq@amazon.de>, 2019-11-28 15:29:31 +0100, , osv fix keyboard reset add pci reset original keyboard reset doe wait short period see triple fault triggered even keyboard reset successful sometimes added wait make sure keyboard reset completes triggering triple fault added pci reset enabled acpi reset acpi reset doe work currently kvm qemu nevertheless try first signed yuchen qian yuchenq amazon.de reviewed hendrik borghorst hborghor amazon.de reviewed marius hillenbrand mhillenb amazon.de team kaos brimstone kaos brimstone amazon.com http code.amazon.com review 14659421 message yuchenq amazon.de,,
452,9e40fc8844c2d189ba6c8576b209388b2d3df3db,adav Har'El <nyh@scylladb.com>, 2019-11-28 10:44:25 +0200,976, test fix compilation warning test tst run.cc generally bad idea catch exception value force unnecessary copy caught value even worse type polymorphic case copy slice original type recent compiler started warn code catch polymorphic type value specific case fixed warning spurious caught exception even used trivial fix get rid one warning test compilation ref 976 signed nadav har nyh scylladb.com message nyh scylladb.com,,
453,0edc01a7e917fb5eacf0a954c48bd2ce022eea29,adav Har'El <nyh@scylladb.com>, 2019-11-28 10:35:55 +0200, , test fix warning tst symlink compiler correctly warns fill 4097 byte array size 4096 path_max know code 4097 first place test still pass fix warning gone ref 976 signed nadav har nyh scylladb.com message nyh scylladb.com,,
454,b265324f9c4df5b4a04378af4082bc6989f85f73,adav Har'El <nyh@scylladb.com>, 2019-11-28 10:27:23 +0200,976, test fix warning tst mmap.cc building test get warning tst mmap.hh warning dereferencing type punned pointer break strict aliasing rule wstrict aliasing char byte volatile char func  think code actually wrong ... func function pointer function name already point function code reason take func even sure work patch warning gone relevant test tst elf permissions.so still pass ref 976 signed nadav har nyh scylladb.com message nyh scylladb.com,,
455,3693d1f8337d152ac0c337b433e9de912f525fb7,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-11-28 00:42:58 -0500, , unit test replace deprecated boost_message patch resolve compilation error newer version boost signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
456,73b35b7f2bb935bfa5fcbea09ebe21828858b52e,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-11-28 00:36:28 -0500, , httpserver jvm plugin remove dependency external patch also make httpserver api test pas fedora signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
457,a3d5acf0041c0ef6cfbe9f92a4d980f3f41e586c,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-11-27 16:08:08 -0500, , apps updated latest signed waldemar kozaczuk jwkozaczuk gmail.com,,
458,775783dcada970b0d00870874cbfd33dd83e942e,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-11-27 16:07:39 -0500, , script enhance allow running vhost tap networking signed waldemar kozaczuk jwkozaczuk gmail.com,,
459,a75808b83cdd22c053fb61a68154a8959e16c03f,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-11-27 13:45:39 -0500, , makefile remove redundant linker script vmlinuz.bin cause gcc 9.2 linker error signed waldemar kozaczuk jwkozaczuk gmail.com,,
460,084663547b091cccf04c2b5d73ea876c3f727c35,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-11-25 08:23:08 -0500, , apps update latest signed waldemar kozaczuk jwkozaczuk gmail.com,,
461,90979c5750fc4e91ac1c5a4d88b5d32f621d874d,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-11-23 17:04:22 -0500, , makefile move one level signed waldemar kozaczuk jwkozaczuk gmail.com,,
462,0b8eb874b7c54ed5cd148f363550c6f2bb849848,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-11-22 16:47:02 -0500, , makefile introduce better way pas linker script signed waldemar kozaczuk jwkozaczuk gmail.com,,
463,bba793104f515908aa6e0105dc23d2b8dceae815,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-11-22 08:21:03 -0500, , script run.py support running osv new qemu microvm machine signed waldemar kozaczuk jwkozaczuk gmail.com,,
464,b548972dabb8da2e641f946d7f1a4525785eff62,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-11-22 08:18:20 -0500, , script run.py allow pas block device cache mode qemu signed waldemar kozaczuk jwkozaczuk gmail.com,,
465,983cdca6be7ce6bc7deec2d9bcb75edafd0dd161,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-11-22 08:11:29 -0500, , script modify run.py return easier read output dry run signed waldemar kozaczuk jwkozaczuk gmail.com,,
466,ccb9cd127403922c5fabd2261fd45105f0a9bc2b,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-11-21 23:59:45 -0500, , virtio adjust virtual queue initialization adhere suggestion spec patch change slighly virtual queue get detected activated patch queue would first detected first loop activated next one virtio spec suggests especially virtio mmio device 4.2.3.2 virtqueue configuration driver typically initialize virtual queue following way select queue writing index first queue queuesel check queue already use read queueready expect returned value zero 0x0 read maximum queue size number element queuenummax returned value zero 0x0 queue available allocate zero queue page making sure memory physically contiguous recommended align used ring optimal boundary usually page size notify device queue size writing size queuenum write physical address queueâ descriptor table available ring used ring respectively queuedesclow queuedeschigh queueavaillow queueavailhigh queueusedlow queueusedhigh register pair write 0x1 queueready patch change logic queue detected activated single loop way osv properly boot qemu microvm machine signed waldemar kozaczuk jwkozaczuk gmail.com,,
467,2ff33e72fa8e5680e93c767bc400c347e7dc25b3,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-11-21 23:58:26 -0500, , power cause triple fault keyboard controller method work non acpi hypervisors signed waldemar kozaczuk jwkozaczuk gmail.com,,
468,7fe9f507bf4e6b18c65749f31e4977f62fea7348,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-11-21 23:53:16 -0500, , virtio mmio pretend osv implement version signed waldemar kozaczuk jwkozaczuk gmail.com,,
469,09aa0b1c293c00521ae1ea2f43c763166ecaffe2,atthew Pabst <pabstmatthew@gmail.com>, 2019-11-21 08:50:24 -0600, , setup added make dependency signed matthew pabst pabstmatthew gmail.com message pabstmatthew gmail.com,,
470,7366bf6e71919a328b5516e426572c7a729af152,ALDEMAR KOZACZUK <jwkozaczuk@gmail.com>, 2019-11-21 08:31:51 -0500, , added patch pull request clarification main readme,,
471,3357ae0798fc3abece7a068d0b48cea050281852,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-11-07 00:02:30 -0500, , procfs implement proc self exe patch add proc self exe symlinks application executed also add symlink support procfs signed waldemar kozaczuk jwkozaczuk gmail.com,,
472,2d5f2d55e158759ba584957194e7a20fa4baef96,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-11-07 07:21:58 -0500, , parameterize static reservation patch make possible pas size app static reservation build parameter makefile also add logic calculate value parameter resevation small given app signed waldemar kozaczuk jwkozaczuk gmail.com,,
473,b0478dfd0ca3c0dc2e0906525d5a6e6085c21cb1,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-11-06 08:11:14 -0500, , make local exec aligned patch added support local exec used pie position dependant executables unfortunately missed make sure static case properly aligned per alignment segment patch fix making sure init placed aligned offset similarly variable accessed using aligned offset signed waldemar kozaczuk jwkozaczuk gmail.com,,
474,cccc7d4035f8c81e263340df1ba4c5db305714a1,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-11-03 14:24:45 -0500, , libc added __log2f_finite alias signed waldemar kozaczuk jwkozaczuk gmail.com,,
475,56baf71cfb1ae7160678a71e1043a098485ba5b1,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-11-02 10:16:23 -0400, , apps updated latest one signed waldemar kozaczuk jwkozaczuk gmail.com,,
476,3fc7638e02577694c3aa17cb7d2f94750f26de0c,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-10-07 22:01:42 -0400, , virtio net use large buffer negotiated hypervisors like firecracker support feature allows efficient fine grain utilization memory receiving incoming packet host negotiated virtio spec mandate guest use large receive buffer size 65562 byte patch change osv implementation vitio net detect large receive buffer need used accordingly allocate free necessary relevant place prior patch attempt fetch large enough data example 1mb file http would fail firecracker message receiving buffer small hold frame current size please note using large buffer requires time memory around 17mb buffer merged single page obviously ideal future might lower number currently 256 case lower memory used signed waldemar kozaczuk jwkozaczuk gmail.com,,
477,65e14b692e022481a5c09232c90d980ebc63adc3,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-11-01 23:53:59 -0400, , test enhance automated test script run firecracker patch modifies recently added script help automate testing various application osv firecracker signed waldemar kozaczuk jwkozaczuk gmail.com,,
478,a1a1dd70bedce9780775c31a943e847352253f31,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-11-01 23:33:13 -0400, , firecracker enhance firecracker.py save restore terminal patch borrows similar logic run.py save restore terminal line setting prevent firecracker.py mess terminal signed waldemar kozaczuk jwkozaczuk gmail.com,,
479,3b7700e7e2cc49a19646cba0ba38081a1aeb18f4,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-11-01 23:21:02 -0400, , firecracker improve networking setup tool patch slightly enhanced version patch submitted originally zhiting zhu mainly add number new script aiming help setup proper networking environment osv firecracker top level script orchestrates networking setup delegate script called firecracker.py creates tap device setup nat bridge set start dnsmasq service provide dns setup outgoing traffic set table allow outgoing traffic tap selected physical nic restores table state called destroys dnsmasq setup created script also refactors firecracker.py delegate networking setup  information nat bridging firecracker read http jamielinux.com doc libvirt networking handbook custom nat based network.html http github.com firecracker microvm firecracker blob master doc network setup.md signed zhiting zhu zhitingz cs.utexas.edu signed waldemar kozaczuk jwkozaczuk gmail.com,,
480,8f4451614431ff53cda54cd551ea7c8f2e8f0116,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-10-27 15:13:12 -0400, , aarch64 make build signed waldemar kozaczuk jwkozaczuk gmail.com,,
481,a28717bc018c4702b3f0b3032c8065ca947902e7,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-10-26 00:18:10 -0400, , firecracker upgrade latest version 0.19.0 enhance script use api mode patch enhances firecracker.py allow starting firecracker api mode api mode firecracker take parameter config file instead listening domain socket need created beforehand way firecracker start faster  signed waldemar kozaczuk jwkozaczuk gmail.com,,
482,10afbb43a9cbf97db8309b31478a9073c89fb0c9,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-10-24 22:10:19 -0400, , script improved automated test script explicitly report success signed waldemar kozaczuk jwkozaczuk gmail.com,,
483,70547a6c64c56cbdf4c5b5d0c7eaa1e85badb0f7,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-10-09 08:33:53 -0400,352, support local exec access patch enhances osv dynamic loader support pie position dependant executables use thread local storage local exec mode doe reserving extra slot kernel static block end designating user static executable elf dependant elf object still placed area kernel specific please read comment added arch elf.cc arch switch.hh please note solution limit size application block byte plus extra gap due byte alignment kernel sufficient application either use tiny golang byte long rust elf tend rely quite large case limit loader.ld need increased accordingly loader.elf relinked fix 352 signed waldemar kozaczuk jwkozaczuk gmail.com,,
484,d44e7c65a5c99b75baf97672815aa70113cb96df,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-10-24 13:14:15 -0400, , script generate meta descriptor creating kernel capstan repo,,
485,361bcbc496f8459c09b3b396dfe315ad2c1cf44e,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-10-23 23:44:00 -0400, , updated apps latest one signed waldemar kozaczuk jwkozaczuk gmail.com,,
486,3334f17d059149da0801ccbe71e695dbfbe1de5d,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-10-23 23:43:09 -0400, , script tweaked simplify building golang test example signed waldemar kozaczuk jwkozaczuk gmail.com,,
487,45c555cd9639790e957d7e450722a704fc24dd58,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-10-23 07:58:11 -0400, , script add automated testing framework patch add number shell python script help automate integration testing involves running variety test apps osv validate behavior motivation expanded test bed beyond unit test catch regression become handy give confidence testing complicated patch new test framework also help automate building running test image new process main idea framework quite simple way compose test image pre built package using capstan run image validate behavior using app specific test.sh shell script also instead building app scratch every time want test given app use pre built capstan package created using script build capstan mpm package new script test automates process composing image running corresponding test.sh normally delegate one following new python script test_app.py run app validates standard output run http validates http response output stress test using apache bench run app delegate arbitrary python tester script would test app sophisticated way like example using sysbench mysql redis benchmark redis testing following app automated unit test httpserver api cli command line golang example golang pie example golang httpserver golang pie httpserver rust example rust httpserver graalvm example graalvm httpserver graalvm netty plot python2 host python3 host node express example node socketio example lua hello host jetty tomcat vertx spring boot example apache derby apache kafka elasticsearch stream lighttpd nginx iperf3 redis memonly mysql ffmpeg signed waldemar kozaczuk jwkozaczuk gmail.com,,
488,9ba8142aea95fed38320d4f96da03407a19ed457,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-10-23 07:47:39 -0400, , script enhance test testing.py patch enhances script following way make work regardless place filesystem called allows piping standard input guest input help automate testing interactive apps like cli add couple new method test appearance text guest output signed waldemar kozaczuk jwkozaczuk gmail.com,,
489,bf4c37a551416b3515f4dc57d1c3c349f79172ca,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-10-23 07:29:38 -0400, , script make run.py behave correctly regardless called patch tweak run.py make sure doe assume called script run.py osv root directory invoked place filesystem signed waldemar kozaczuk jwkozaczuk gmail.com,,
490,d6787f8e2eed83cbd59ec7e3de70cd53ffd34a58,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-10-23 07:22:55 -0400, , script enhance build capstan mpm package patch fix script retain file attribute copying export directory capstan creates package also add number new package tomcat httpserver api http test node socket example signed waldemar kozaczuk jwkozaczuk gmail.com,,
491,0f55b9624ff0d834c161a39eacdf0568ec60e079,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-10-03 18:24:13 -0400,1040, test add boost_system.so external test manifest boost 1.69 symbol hidden kernel longer export boost_system.so however application module notably unit test link much older version boost 1.55 external see issue 743 fail missing symbol boost_system.so patch add boost_system.so external test manifest skeleton make unit test pas fedora please note address 743 adding boost_system.so necessary case least hope unit test linked version host kernel fix 1040 signed waldemar kozaczuk jwkozaczuk gmail.com,,
492,5836333912fd11a8dc73741b53668383bd403ecf,adav Har'El <nyh@scylladb.com>, 2019-10-03 13:09:57 +0300, , elf.cc boost library visible application report elf.cc list library already fully included inside osv kernel user need load another copy one boost library list starting boost version 1.69.0 boost compiled hidden visibility meaning symbol library available application boost 1.69.0 later claim kernel contains library ref 1040 signed nadav har nyh scylladb.com message nyh scylladb.com,,
493,58fe5f216183df40296067651527edd48ca6df17,adav Har'El <nyh@scylladb.com>, 2019-10-03 12:31:34 +0300, , build stop including caused various problem difference visibility version issue 1040 significant code size issue 980 others previous patch removed osv small utility application like cpiod httpserver longer used stop compiling kernel pretending elf.cc included kernel signed nadav har nyh scylladb.com message nyh scylladb.com,,
494,a4e48ba562315bfde8fa4ea20dc65e4a8d749278,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-09-28 09:39:33 -0400,1014, command remove program option patch partially address 1014 remove usage boost program_options library core commands.cc specifically reimplements handling runscript option env var abc using simple logic detect parse individual argv element order fully address 1014 also need modify loader.cc use program option signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
495,c08cebc87dd6c4ba31b19abe333fc7589b5cfccf,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-10-03 00:24:37 -0400,1053, httpserver replace boost program_options light option utility function fix 1053 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
496,1dbb579fc4fd46bd2ac8a724420caa0739952d61,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-10-03 00:24:36 -0400,980, cpiod reduce cpiod size replacing boost program option custom light alternative fix 980 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
497,43b7c4c302610f377a640f461c732cb6b9d53a43,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-10-03 00:24:35 -0400,1014, loader replace boost program_options light option utility function patch change loader.cc use light option utility instead boost program option patch partially address 1014 together one previous patch sent update core commands.cc remove boost program option fully address 1014 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
498,e08f8f0a91b9f6958b795b9b30240c124d368915,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-10-03 00:24:34 -0400, , option implement light simple alternative boost program option patch provides simple light alternative boost program option library add handful utility function aimed help parse command line option intended used kernel loader utility apps like cpiod httpserver cloud init detail particular function look comment options.hh options.cc signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
499,f0344a94f7c63b1662f933a05c3ca6f54095910e,adav Har'El <nyh@scylladb.com>, 2019-09-26 16:53:54 +0300, , script write error stderr currently writes error message e.g. lddtree command installed stdout user script like lua makefile redirect output user see error let move error stderr visible instead script build silently fail signed nadav har nyh scylladb.com message nyh scylladb.com,,
500,3e658b8ab32a424ae58a24d01d5b2e22da61932e,ALDEMAR KOZACZUK <jwkozaczuk@gmail.com>, 2019-09-16 00:59:15 -0400, , made small correction added paragraph clarifying state osv seeking volunteer,,
501,f82710902d6d86c99b4315307bf6383e8d5f440e,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-09-14 18:53:23 -0400, , script replace old build capstan img build capstan image single build capstan base image signed waldemar kozaczuk jwkozaczuk gmail.com,,
502,e9d6a1312cf6c95fca60dc5954e0848fb17d8bd2,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-09-12 09:02:14 -0400, , updated apps latest one signed waldemar kozaczuk jwkozaczuk gmail.com,,
503,e0831468e3f6981ae3e3762fe81c767f991f380e,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-09-12 08:43:31 -0400, , capstan add script automate building capstan mpm package patch add new script build capstan mpm package help automate process creating capstan package intended used assemble osv image script actually refined version original one external project http github.com wkozaczuk detail use script doe read comment section beginning build capstan mpm package essence build osv module app export content create corresponding capstan mpm package placed home .capstan package requires capstan present script least intended usage help build package uploaded new release help build package osv module apps eventually help automates testing osv using prebuilt test package composes test image finally patch add package descriptor file mpm package.yaml help drive annotating package correct meta information signed waldemar kozaczuk jwkozaczuk gmail.com,,
504,dfc894903b11bd284a9e63e59468c6cd80cafdff,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-09-11 08:18:37 -0400, , loader print boot command line expanded runscript line applicable often clear resolved boot command line built image might make big difference see command line troubleshooting reason especially new user patch address shortcoming signed waldemar kozaczuk jwkozaczuk gmail.com,,
505,8dbf5fe719e0675310b0c9f5856e755ab1c3da8c,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-09-11 07:58:57 -0400, , httpserver enhance test script accept different location test image signed waldemar kozaczuk jwkozaczuk gmail.com,,
506,d49d29db50c8721ccf1582af0682178e651efc03,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-09-11 07:54:12 -0400, , httpserver make test image use openjdk8 new jetty app requires signed waldemar kozaczuk jwkozaczuk gmail.com,,
507,0d913b6d2e667ee03daaccaca2a18b7cd5a2f2fa,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-09-11 07:31:30 -0400, , script enhance put cmdline example executables signed waldemar kozaczuk jwkozaczuk gmail.com,,
508,4120ae29e9bd81e54fde4279e9f3105e29976ffd,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-09-11 07:25:34 -0400, , script fix handle symlinks properly signed waldemar kozaczuk jwkozaczuk gmail.com,,
509,dc0b60a9c1373a2c582996b89e6aea6d35b2fd25,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-09-05 09:08:21 -0400, , apps updated latest one signed waldemar kozaczuk jwkozaczuk gmail.com,,
510,0b75cf74e8ace7e38c8dd5b0535dca6fa1714413,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-09-05 09:04:10 -0400, , ramfs make sure node number stay node allocation patch effectively fix bug ramfs implementation would make fstat call return different st_ino every time node would cause apps like mysql fail start signed waldemar kozaczuk jwkozaczuk gmail.com,,
511,d1f5f3e1233a35d94c82516fb5b552d1fd9e6a9b,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-09-05 08:16:39 -0400, , firecracker upgraded 0.18 signed waldemar kozaczuk jwkozaczuk gmail.com,,
512,7635774c876492925e73be898186a397ce05dbbc,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-09-05 08:14:17 -0400, , ramfs make sure pas absolute path mkbootfs.py signed waldemar kozaczuk jwkozaczuk gmail.com,,
513,d14a5dca10c167c03bcc355c8d78e70701cc1930,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-09-01 01:40:07 -0400, , add subset sysfs implementation needed numa library signed waldemar kozaczuk jwkozaczuk gmail.com,,
514,30c9e8a06cab26d51a5035a7ce73de074a7cc3bd,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-08-31 23:41:08 -0400, , extracted common pseudofs logic signed waldemar kozaczuk jwkozaczuk gmail.com,,
515,70c72b31431a47835436503607da34833a97f1a5,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-08-31 00:56:01 -0400, , procfs add minimum subset status file intended linuma consumption signed waldemar kozaczuk jwkozaczuk gmail.com,,
516,89472ab530c6e7ad4b2425fae687179f042e4169,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-08-26 21:18:10 -0400,1023, ignore missing symbol processing certain relocation type load commit http github.com cloudius system osv commit addressed issue 993 relax handling missing symbol relocate_pltgot loading elf object bind_now patch hand attempt close gap allow running unmodified linux executables reference symbol missing osv kernel relocated relocate_rela loading phase never used later execution missing symbol would typically include global variable pointer function solution similar relocate_pltgot doe let missing symbol get ignored hope used however case rely lazy symbol resolution logic would catch missing symbol later used later abort instead allocate single page memory setup trigger fault read write execution attempt made anytime missing symbol identified relocate_rela set symbol address got point new page address page fault recognized attempt access missing symbol invoke function read write variable program aborted stack trace like trying execute access missing symbol backtrace page_fault 288 1077568278 one way test patch modify cargo.toml rust httpserver app change crate type dylib run app another way misspell comment mprotect function libc mman.cc build run graalvm example fix 1023 signed waldemar kozaczuk jwkozaczuk gmail.com,,
517,9feea361b9a28d941a6ced8369446bd5753286ee,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-08-30 15:03:56 -0400, , syscall add set_mempolicy needed libnuma signed waldemar kozaczuk jwkozaczuk gmail.com,,
518,ed1eed7a567ec17138c65f0a5628c2311603c712,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-08-28 22:52:49 -0400, , elf skip old version symbol lookup patch modifies dynamic loader lookup logic make skip old symbol marked per version symbol table gap symbol lookup logic would affect executables depend library happen multiple symbol implementation version good example numactl depends libnuma.so one test patch trying run numactl  script numactl script build rofs append manifest script run.py numactl show  detail elf symbol versioning please read http www.akkadia.org drepper symbol versioning paragraph applicable patch address highest bit version symbol value set object hidden must used case linker must treat symbol present object please note patch doe make osv dynamic linker fully implement symbol versioning logic signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
519,8cb3ffe383fd97b0b1ce764384ca8d00a96797f2,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-08-27 23:14:14 -0400, , libc added __exp2_finite wrapper needed newer libx265 signed waldemar kozaczuk jwkozaczuk gmail.com,,
520,7114af214eaac4ec245a9342c83cc8118d41d331,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-08-25 17:01:34 -0400, , memory setup ignore sized e820 region patch also add extra comment mmu signed waldemar kozaczuk jwkozaczuk gmail.com,,
521,d39860d112c33959970405006469604ad543a415,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-08-25 13:16:39 -0400, , pthreads provide minimal implementation handle sched_other policy signed waldemar kozaczuk jwkozaczuk gmail.com,,
522,fb7ef9a791c494889b060c3ae8e1cc2cb33d5c5a,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-08-24 00:14:01 -0400,1050, memory enforce physical free memory range start time kernel code reference memory using virtual address however allocated system structure like page table use physical address reason critical physical address never example case page table would mean given entry empty patch enforces free physical memory range registered initial memory setup start address enforced physical range address get translated virtual one effct slightly modify method mmu detect passed range start address adjust accordingly 1st page range skipped case also remove similar unneccesary code mempool.cc operates virtual address fix 1049 fix 1050 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
523,5377a50b878c8d11a9fbf55f3faf20c121a8c32a,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-08-20 22:53:11 -0400,1048, fix bug commit adjusted logic improve memory utilization making osv use memory kernel 2mb ironically new logic introduced new bug led much bigger waste memory specifically take account case memory region starting 2mb ending 1gb time make skip part 1gb altogether patch fix bug make issue reported away fix 1048 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
524,f7b6bee552b41f56a5522c280e9b99cc612ab05a,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-08-19 21:43:04 -0400, , hpet handle wrap around bit counter patch enhances hpet clock bit main counter handle wrap arounds doe maintaining separate upper bit counter per cpu incrementing wrap around detected signed waldemar kozaczuk jwkozaczuk gmail.com,,
525,783a49a55187ff27cd225bf4532b2ffc989513a4,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-08-18 23:56:41 -0400, , doc updated main readme make better reflect current state osv signed waldemar kozaczuk jwkozaczuk gmail.com,,
526,d84539823eb02ebc2b39313374a91e22ae478380,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-08-15 22:55:54 -0400, , dynamic linker adjust message symbol missing patch adjusts message displayed dynamic linker better reflect case symbol missing ignored loading elf object bind_now signed waldemar kozaczuk jwkozaczuk gmail.com,,
527,ad1eda6acdb404d7e7049d7c5ca01a156c489ee2,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-08-12 23:32:50 -0400,1022, upgrade cli lua httpserver api module use openssl 1.1 lua 5.3 issue 1022 explains building default osv image implicitly add cli module turn implicitly pull httpserver api cli module requires bizarre workarounds modern linux distribution caused fact lua module based lua 5.2 older version luasec openssl library lua requires old version openssl 1.0 patch update following module cli make necessary change work lua 5.3 drop explicit dependency module ncurses libedit lieu new terminfo script pull necessary dependency host creates common cli executable used host osv side httpserver api drop explicit dependency module libyaml lieu using pull necessary dependency host lua revamps module completely upgrading lua 5.3 remove custom made makefiles build lua source extensively employ pull lua library host see change setup.py minimize building source update lua module like luasec newest version openssl instead using hardcoded usr.manifest pull openssl 1.0 library external new makefile employ find relevant main openssl 1.1 library required dependency host finally add new terminfo module change setup.py uninstall compat openssl10 devel present install openssl devel lua 5.3 package patch tested following linux distribution using docker ubuntu 18.10 openssl 1.0 openssl 1.1 upgrade ubuntu 19.04 fedora openssl 1.0 openssl 1.1 upgrade ubuntu fix 1022 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
528,0aad78b3dfb9fac783b2135bb3c2b59ddf8d1bab,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-08-13 23:48:44 -0400, , add docker file help setup osv build environment ubuntu fedora signed waldemar kozaczuk jwkozaczuk gmail.com,,
529,18df2ad247af81b9eb4c24beda31bb760673af92,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-08-12 21:50:20 -0400, , setup add pax utils package ubuntu fedora fairly recently added script lddtree tool recursively scan elf file dependency patch add package provides lddtree signed waldemar kozaczuk jwkozaczuk gmail.com,,
530,2e71ce349e99c00c3504444782e4a769d7dff29e,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-08-12 00:16:25 -0400, , java tweaked openjdk7 add usr bin java symlink signed waldemar kozaczuk jwkozaczuk gmail.com,,
531,5eb8f9eb609ddc625a75eae71490dc1f4308526d,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-08-11 23:59:40 -0400, , made maven quiet show error signed waldemar kozaczuk jwkozaczuk gmail.com,,
532,b619927e2ac91e7cbe0064123b0ad4120d790fa1,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-08-11 23:04:22 -0400, , java add basic java test doe use osv wrapper signed waldemar kozaczuk jwkozaczuk gmail.com,,
533,1ac666b5b844270b67495825155558aa06e65bb1,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-08-11 11:42:19 -0400, , updated apps signed waldemar kozaczuk jwkozaczuk gmail.com,,
534,66ab79750231c23a9e2624c1b205558e785c263f,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-08-11 11:34:59 -0400, , pthreads make implementation correct signed waldemar kozaczuk jwkozaczuk gmail.com,,
535,5d0c8b7ae3e69bb091437523678589620b35e096,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-08-10 00:29:07 -0400, , pthreads implement function used java enabling logging trace level signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
536,6b459dd9905021c5a052232e52085311aed9bc6e,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-08-10 00:09:11 -0400, , semaphore fix sem_trywait patch fix subtle critical bug sem_trywait underlying implementation semaphore.cc example prevented new version java hang startup infinite loop also add new unit test around sem_ function signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
537,ef56fde773f71662d193de8c4e799ec5ae55bf4b,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-08-08 00:53:32 -0400, , scheduler initialize _cpu field detached_state struct patch enhanced osv start using physical memory 2mib second mib part memory osv copy compressed kernel uncompress later loader.elf mean contains garbage non one liner patch explicitly initializes one field detached_state struct good practice general otherwise unstarted thread tcpu method return invalid pointer lead page fault example httpserver handle thread call signed waldemar kozaczuk jwkozaczuk gmail.com,,
538,d7054e0bb2ec9f32cd35f53491f0838e8cb0761d,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-08-07 00:06:39 -0400, , ramfs fix arithmetic bug leading write overflow patch fix quite obvious bug single line write operation logic would lead overflow page fault due overwritten data also add couple invariant check critical place bug would appear trying run jetty rofs ramfs image app would generate file tmp folder crash page fault error reporting reading corrupt file besides unit test script build rofs check one also able build jetty rofs image make boot properly script build rofs image openjdk zulu jetty script run.py signed waldemar kozaczuk jwkozaczuk gmail.com,,
539,14b2fe27f28a70afcb373f37939cb55f06b9afe6,ALDEMAR KOZACZUK <jwkozaczuk@gmail.com>, 2019-08-02 11:02:29 -0400, , added initial version readme script directory,,
540,ee7a2cd4e639998a16083495cfc6e3c4b5ea0385,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-07-31 23:32:02 -0400, , fixed httpserver file system integration test signed waldemar kozaczuk jwkozaczuk gmail.com,,
541,df6c235822ff00cbe96a82084a3b04178801b115,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-07-31 23:25:36 -0400, , fixed compilation error module httpserver jolokia plugin josvsym monitoring agent mostly related strlcpy signed waldemar kozaczuk jwkozaczuk gmail.com,,
542,cbc423f33931da74e6c6134ee42f3b7f91683915,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-07-31 22:41:11 -0400, , script enhanced better support regular expression filter x86_64 elf file signed waldemar kozaczuk jwkozaczuk gmail.com,,
543,fef26ec0108fe58020b6eb746973beb6c14fb78c,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-07-31 12:10:56 -0400, , reverted change related upgrading openssl got checked prematurely signed waldemar kozaczuk jwkozaczuk gmail.com,,
544,a31a1aa81c5ac1478999f19a60fbb8a832b471d2,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-07-30 12:13:04 -0400, , script fixed typo setup.py signed waldemar kozaczuk jwkozaczuk gmail.com,,
545,e5880d0b3e6dbbf385b3bd97146d453c6faf662a,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-07-30 11:59:51 -0400, , script remove old ubuntu fedora setup.py added support fedora signed waldemar kozaczuk jwkozaczuk gmail.com,,
546,160aec3adec2acbb0a7f016708e5da839492df55,aldemar Kozaczuk <wkozaczuk@localhost.localdomain>, 2019-07-30 11:33:10 -0400, , script hardened verify lddtree installed system signed waldemar kozaczuk wkozaczuk,,
547,0b411c997fceac58b4a5d174137d55d8bf6dbcbd,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-07-29 22:06:49 -0400, , removed remains external reference httpserver api makefile signed waldemar kozaczuk jwkozaczuk gmail.com,,
548,b0f78ec98decba887920d5651919b416bbb287cd,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-07-29 21:28:52 -0400, , remove reference external httpserver api makefile patch addressed compilation issue related strlcpy refactoring module makefiles reference module java base common.gmk unfortunately common.gmk referenced boost header external caused httpserver crash like processor cli_hlt arch x64 processor.hh 247 arch arch x64 arch.hh osv halt arch x64 power.cc abort fmt fmt entry 0x406372db aborted runtime.cc 132 abort runtime.cc osv generate_signal siginfo ... libc signal.cc 124 osv addr optimized sig optimized optimized libc signal.cc 139 mmu vm_fault addr addr entry entry core mmu.cc 1337 page_fault arch x64 mmu.cc signal handler called boost filesystem detail status boost filesystem path const boost system error_code boost filesystem exists ... home wkozaczuk project waldek osv external x64 misc.bin usr include boost filesystem operations.hpp 289 httpserver global_server set_routes 181 httpserver global_server global_server 153 httpserver global_server get httpserver global_server run _config ... main argc optimized argv optimized main.cc osv application run_main usr include bit stl_vector.h 805 osv application main core app.cc 320 osv application lambda void operator __closure 0x0 app optimized core app.cc 233 osv application lambda void _fun void core app.cc 235 pthread_private pthread lambda operator __closure libc pthread.cc 114 std void pthread_private pthread pthread void void void sigset_t const pthread_private thread_attr lambda _m_invoke const std _any_data __functor ... usr include bit std_function.h 297 sched thread_main_c arch x64 arch switch.hh 271 thread_main arch x64 entry.s 113 please note reference boost header operations.hpp external patch removed external reference httpserver api makefile let use header host signed waldemar kozaczuk jwkozaczuk gmail.com,,
549,02ce2e38d881703968af20be66e787849373d700,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-07-28 13:46:34 -0400, , updated apps signed waldemar kozaczuk jwkozaczuk gmail.com,,
550,513e776b2a5512af33e50335fed68405827bbb43,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-07-25 00:11:01 -0400, , add help option build script explain usage signed waldemar kozaczuk jwkozaczuk gmail.com,,
551,2a34f9f2acb582b8351c3ca7cac0ac2ad18dfe2a,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-07-24 17:54:56 -0400, , remove obsolete loader.bin build artifact related source file point long time ago loader.bin artifact added way boot osv multiboot bootloaders unfortunately got abandoned time resurrected commit allow osv boot hyperkit multiboot mode never became fully functional given linux compatible vmlinuz.bin artifact generated used boot osv hyperkit need keep arifact around boot process kind variation complex enough signed waldemar kozaczuk jwkozaczuk gmail.com,,
552,4be1ee86ae6a3e8bc32bad86a79f3381c1d78611,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-07-24 08:57:50 -0400, , updated apps signed waldemar kozaczuk jwkozaczuk gmail.com,,
553,0e271f0df583220986a925025e100930d1ad5f40,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-07-24 00:59:56 -0400, , enhance script build allow passing argument module apps patch enhances script build allow passing argument module apps makefiles like script build java_version java_modules java.base java.sql java.logging java.xml way corresponding app makefile receive passed extra variable customize build behavior new mechanism let remove redundant openjdk apps author patch nadav har idea feature come waldek kozaczuk signed waldemar kozaczuk jwkozaczuk gmail.com,,
554,7eda847a12dd2d89ea4ce516544a063635abf040,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-07-20 15:52:01 -0400, , fixed compilation error module mostly related strlcpy signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
555,5aef70f4193f6eb8be1a8e6a70a36b9df3c03251,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-07-15 17:40:53 -0400, , updated apps fix broken download zulu openjdk8 signed waldemar kozaczuk jwkozaczuk gmail.com,,
556,ed89ebdc9618efd85bebe1df4f34db445278a1da,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-07-12 00:57:20 -0400, , updated apps signed waldemar kozaczuk jwkozaczuk gmail.com,,
557,9f1f6456a782edea8b0d69cc9741c32dd9084cdf,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-07-12 00:50:02 -0400, , enhanced support building apps host docker image signed waldemar kozaczuk jwkozaczuk gmail.com,,
558,e9ef51b2f28677143a641a58995728af84d15a39,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-07-03 23:57:52 -0400, , refine confstr conform closely linux spec please see http linux.die.net man confstr detail signed waldemar kozaczuk jwkozaczuk gmail.com,,
559,d83662821e2b7e6e18deb64ef0d213c3a37a1acb,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-07-09 18:25:02 -0400, , enhance script test.py allow running unit test firecracker patch enhances script test.py allow running unit test firecracker doe adding new parameter hypervisor please note script build doe ability pas new parameter script test.py invoking order execute test firecracker one build test image first manually invoke test.py like script build image test script test.py firecracker finally please first test run firecracker.py script ask enter root password allow setting tap device needed enable networking firecracker signed waldemar kozaczuk jwkozaczuk gmail.com,,
560,68727220fb18018b2637ab2c653d6a755761f0e0,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-07-07 00:22:37 -0400, , support pvh hvm direct kernel boot qemu 4.0 later support new way booting linux specifying bit vmlinux elf please see detail http patch 10741013 patch enhances osv boot logic loader.elf support new mode test show osv boot 10ms pvh mode example script execute osv qemu system x86_64 64m smp nodefaults append bootchart hello machine q35 accel kvm kernel_irqchip kernel build release loader stripped.elf vga none display none serial mon stdio device virtio blk pci blk0 drive hd0 scsi drive file build last usr.img none hd0 cache none aio thread signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
561,c7cbc4a3b7e1fa9eade714fac5433360dec7c984,adav Har'El <nyh@scylladb.com>, 2019-07-09 10:34:04 +0300, , update apps submodule signed nadav har nyh scylladb.com,,
562,dea2e3071eab74544558f77fb7d03cdfd9350c35,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-07-06 23:46:44 -0400, , clean boot logic redundant passing osv_kernel_base patch remove unnecessary operation booting code passing osv_kernel_base parameter signed waldemar kozaczuk jwkozaczuk gmail.com,,
563,b04d8fddf81cc6ba8f22883b1701d48af4b97876,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-07-04 00:38:47 -0400, , prepare local exec patch patch mostly add comment relevant place code related relocating elf symbol order make easier review follow patch adding support local exec signed waldemar kozaczuk jwkozaczuk gmail.com,,
564,1e460f5985c54496795f5aebea413881bc43ebd3,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-07-02 17:18:31 -0400, , make osv boot vmlinuz patch add new type build artifact vmlinuz.bin allows osv boot vmlinuz image essentialy vmlinuz.bin wrap uncompressed version osv loader.elf prepending long vmlinuz header long bit bootstrap code provides simple logic jump start32 boot.s please note osv vmlinuz.bin requires bootloader load physical memory address osv_kernel_base 0x400 expressed setting header field field pref_address point mentioned address unfortunately bootloaders like part qemu disregard field load kernel fixed load address determined value version header field see document future could allow creating vmlinuz version wrapping lzloader.elf would decompress correcttly desired osv_kernel_base address physical memory detail vmlinuz format see document http www.kernel.org doc documentation x86 boot.txt patch effectively allows osv boot docker hyperkit hypervisor signed waldemar kozaczuk jwkozaczuk gmail.com,,
565,33bea608faff461cf6d4a61053712c28d2de0e75,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-07-02 07:17:02 -0400, , signal tag user handler thread application one signed waldemar kozaczuk jwkozaczuk gmail.com,,
566,0dd2ce0f04166bf45f188455504fd61343e3ec90,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-07-02 07:04:14 -0400, , syscall add getpid signed waldemar kozaczuk jwkozaczuk gmail.com,,
567,6c09383b770120e7e0442bd0b2706de0600b73e5,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-07-01 23:00:48 -0400, , firecracker bumped version 0.17.0 signed waldemar kozaczuk jwkozaczuk gmail.com,,
568,ef0696c583d21e66915a5f71576a56c255c70bf1,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-07-01 22:23:53 -0400, , procfs add device information map file signed waldemar kozaczuk jwkozaczuk gmail.com,,
569,6f8d6cdd7b284b80b1b8802e5036fab80b6bff71,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-06-30 00:14:05 -0400, , procfs populate map file node number patch refines implementation procfs generate map file contains correct file node number instead file vmas shown 00000000 100000000000 100000001000 00000000 libvdso.so 100000001000 100000002000 00001000 libvdso.so 100000002000 100000003000 00002000 libvdso.so 100000003000 100000004000 00002000 libvdso.so 100000004000 100000005000 00003000 libvdso.so 100000005000 100000007000 00000000 cat 100000007000 10000000c000 00002000 cat 10000000c000 10000000e000 00007000 cat 10000000f000 100000010000 00009000 cat 100000010000 100000011000 0000a000 cat 200000000000 200000001000 00000000 200000001000 200000100000 00000000 200000100000 200000101000 00000000 200000101000 200000200000 00000000 800000000000 800000000000 00000000 doe capturing saving file node number constructing file_vma used generating proc self map signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
570,276aa1bfc58b69f6903a14b7c1c1ffb662a275bc,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-06-29 00:07:27 -0400, , mprotect page align len parameter instead returning error signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
571,4c2c72dfc9f6c2fa8ede4c967725b87142ba064c,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-06-27 23:14:53 -0400, , hpet support bit counter patch add limited support hpets bit main counter doe handle wrap around typically around minute enough run hello world example platform support hpet bit main counter like hyperkit also refactors hpet code allow future refinement bit bit implementation independently signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
572,6a5784cc46d78aed1aaf703a2200138ae1e71bf6,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-05-21 23:08:01 -0400,884, fix slow write append file ramfs patch improves performance memory utilization writing appending file ramfs patch every write file size needed increase required allocating bigger buffer copying data old one new one especially applied type log file residing ramfs case appending every single line required malloc free memcpy leading lot thrashing potentially situation big enough free fragment memory available anymore allocate patch change internal data structure file data stored using std map key file offset value file segment offset eliminates need copy data well allocates enough memory needed next file desired increase fix 884 signed waldemar kozaczuk jwkozaczuk gmail.com,,
573,2e45b3374111a530c74d868045c59d7ed94e2818,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-05-16 00:04:02 -0400,1035, make ramfs free file data file still opened even though valid delete file data node deleted file descriptor closed patch fix bug file deletion logic ramfs make sure file node doe get deleted file descriptor closed fix 1035 signed waldemar kozaczuk jwkozaczuk gmail.com,,
574,1e22a86f693e1b38a2d642e9344ee2c241fd650c,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-06-21 00:09:47 -0400,190, allow running non pie executables collide kernel patch provides necessary change osv dynamic linker allow running non pie position dependant executables long collide virtual memory kernel fix 190 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
575,2a1795db8a22b0b963a64d068f5d8acc93e5785d,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-06-20 00:07:07 -0400,1043, move kernel 0x40200000 address gib higher virtual memory patch provides necessary change move osv kernel gib higher virtual memory space start 0x40200000 change involve adding subtracting 0x40000000 relevant place please note kernel still loaded 2mib physical memory motivation patch make much space possible enough virtual memory allow running unmodified linux non pie executables issue 190 even though due advancement aslr application pie position independent executables pretty well supported osv still many non pie position dependent executables prominent one actualy jvm whose distribution come tiny 20k bootstrap java non pie executable many example small non pie executable load shared library issue 1043 explains least possible solution patch implement 3rd last one described please note future little effort could provide slightly beter scheme would allow place kernel even higher end 2gib limit small memory model thus support virtually non pie built using small memory model due impact patch tested following hypervisors qemu without kvm qemu kvm firecracker virtualbox vmware player xen ec2 xen locally hvm mode fix 1043 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
576,9e34f428454934ea24c3b4f6d04861667fe81c9f,adav Har'El <nyh@scylladb.com>, 2019-06-20 10:58:29 +0300, , sched.hh add missing include sched.hh strlcpy defined string.h include directly instead hoping code including sched.hh also include string.h ref 1022 signed nadav har nyh scylladb.com,,
577,e1260d56a987f0191f77d88bd97b3780a4bf1409,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-06-19 17:26:24 -0400, , fixed indentation xen.cc signed waldemar kozaczuk jwkozaczuk gmail.com,,
578,414a54cb9fd9dfe282f955298cbd0a829f743bb6,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-06-14 23:46:22 -0400, , change vmlinux_entry64 switch protected mode jump start32 patch change vmlinux_entry64 switch protected bit mode jump start32 order setup transition long mode single consistent way essence patch remove unnecesary duplication vmlinux boot.s boot.s importantly corrects vmlinux boot code used firecracker making sure data segment register etc setup correctly point osv gdt table see start32 critical kernel mapped signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
579,97fe8aa3d2d8f2c938fcaa379c44ae5a80dfbf33,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-06-05 00:33:42 -0400,1012, start using memory kernel patch improves memory utilization making osv use area kernel loaded normally save 640k low memory howewer make bigger difference kernel_base makefile bumped higher one change kernel_base 10m patch would waste almost 10m memory fix 1012 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
580,982acdbdb382ac573beca87b31afc8ff3a8911dc,ANATSU Minoru <icc.po...@gmail.com>, 2019-05-28 22:57:40 +0900, , libc add needed newer version ruby signed kanatsu minoru icc.po ... gmail.com message icc.pot.tyew272 gmail.com,,
581,c1b8059bc2be24734013edb042639195b4efb8c2,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-06-01 23:26:14 -0400, , provide full implementation epoll_pwait patch provides full implementation epoll_pwait expose public function needed node.js implementation modeled pselect select signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
582,e37d8edba83125a8e0bfea4faf45c39fa1fb6636,adav Har'El <nyh@scylladb.com>, 2019-05-19 18:58:45 +0300, , imgedit.py open port entire world since commit 464f4e0 imgedit.py open run qemu nbd random port qemu nbd needlessly listens interface including potentially connection outside world practical risk minimal imgedit.py run short duration need take qemu nbd listen 127.0.0.1 interface see issue 709 turn imgedit.py contact 127.0.0.1 rely alias localhost working ipv4 see issue 534 signed nadav har nyh scylladb.com message nyh scylladb.com,,
583,5deec8ff1f84eaea82512c30f6abe0c6b7c4d784,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-05-19 16:47:08 -0400, , move _post_main invocation run_main patch also fix used example java terminate remaining app thread _post_main signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
584,b4a042212dfadb9293fd627873301458927c4966,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-05-19 16:46:43 -0400, , added option suffix force termination remaining application thread application like jvm leave thread running main thread terminates osv pedantic like keep application running prevents regular java hello world app exiting exactly java.cc terminates thread upon exit main one order run unmodified jvm osv without osv java wrapper need allow ability pas suffix command line give hint osv terminate remaining application thread like script run.py usr bin java hello signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
585,7bc0155de695c5b937b22fa9705c2a3edd18f026,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-05-19 16:47:28 -0400, , vfs harden task_conv return efault cpath argument null patch also reverts commit signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
586,edcf25938f1b7c3a2420b9770ff14321540d10dc,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-05-19 19:06:04 -0400, , enhanced __fxstata handle patch also effectively make unmodified coreutils find work expected script find script build rofs append manifest script run.py find signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
587,c4c155c947dffd41f4f9f5ec71dbc470615a7ca9,adav Har'El <nyh@scylladb.com>, 2019-05-19 15:26:28 +0300, , acpi ignore new gcc warning gcc started give following warning external x64 acpica source component table tbfind.c 162 error strncpyâ specified bound equal destination size werror stringop truncation 162 acpi_strncpy header.oemid oemid  let turn warning acpi file going fix problem library even sure real problem know oemid really guaranteed null terminated signed nadav har nyh scylladb.com message nyh scylladb.com,,
588,51722a9552122cbd834329f4c2f13017f353855a,adav Har'El <nyh@scylladb.com>, 2019-05-19 15:26:27 +0300, , libc avoid weak_alias warning gcc gcc started warn alias created different attribute __attribute__ ... source symbol unfortunately couple case gcc also started add gratuituous nothrow attribute code never throw case ... result weak_alias throw tried fix number way none worked satisfactorily patch doe something ugly work add nothrow attribute manually two place problem unfortunately mean edited yet another musl source file stdio sscanf.c signed nadav har nyh scylladb.com message nyh scylladb.com,,
589,27cf87848f0963d29721419fe44f05d2e17e1a18,adav Har'El <nyh@scylladb.com>, 2019-05-19 15:26:26 +0300, , sched fix gcc warning gcc 9.1.1 warns strncpy lead missing null end destination let use strlcpy problem signed nadav har nyh scylladb.com message nyh scylladb.com,,
590,cb96e9388da480cf9d33d6d7985dd5543e39627d,adav Har'El <nyh@scylladb.com>, 2019-05-19 15:26:25 +0300, , tracepoints fix compiling gcc gcc 9.1.1 strictly following standard one longer allowed specify attribute e.g. gnu cold function definition function declaration annoying side effect get warning specify lambda declaration definition easiest workaround use old style __attribute__ cold instead modern syntax gnu cold old style syntax bound standard behavior changed gcc 9.1.1 signed nadav har nyh scylladb.com message nyh scylladb.com,,
591,31926c3db54fe49b8940e4ef49a8a701a87ce443,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-05-17 18:01:53 -0400,1039, elf handle new dt_runpath patch enhances dynamic linker resolve dependent object rely dt_runpath entry specify directory search elf dt_runpath dt_rpath case linker disregard latter per specification detail read slide finding shared library run time http man7.org training download fix 1039 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
592,b3aef656ddd79df7299c385d7ad9e28e813727ea,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-05-17 08:32:20 -0400, , update latest apps signed waldemar kozaczuk jwkozaczuk gmail.com,,
593,a0dcf8530c352536ab6633952b6f614f73eed154,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-05-16 14:52:07 -0400, , tweak open sys_open return efault error pathname null signed waldemar kozaczuk jwkozaczuk gmail.com,,
594,9cb7e73e2205935f0cc863bd88fc0eef2cee3b2d,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-05-16 14:08:37 -0400, , tweaked nbd_client.py properly handle handshake transport flag new handshake protocol signed waldemar kozaczuk jwkozaczuk gmail.com,,
595,e1292e794772d21d1e8e038bf5f39d1008800c66,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-05-16 11:36:53 -0400, , updated firecracker.py download latest version 0.16.0 signed waldemar kozaczuk jwkozaczuk gmail.com,,
596,5cf047847fb422ba4dc2a9d4aefb030bf182db76,adav Har'El <nyh@scylladb.com>, 2019-05-14 00:45:52 +0300, , update apps submodule signed nadav har nyh scylladb.com,,
597,e688e21f606efccdf7cd82965f574facd5eac820,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-05-13 07:36:51 -0400,689, enhance getopt family function work pie patch enhances implementation getopt getopt_long function work pie newer gcc compiler optimizes pie emitting machine code called copy relocation affect caller pie callee osv kernel see logical global variable like optarg new implementation getopt getopt_long detects caller copy global variable like optind copy value kernel copy likewise return getopt function copy value output global variable kernel equivalent caller copy variable fix 689 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
598,7a4d96b6252524d639130aac9bd1b4111be3fde5,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-04-30 23:49:38 -0400, , move getopt file libc folder convert signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
599,83128b2b10b641ab09892954eb2bdeffaea5e869,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-05-09 23:53:35 -0400, , simplify building image artifact found host filesystem building osv image apps built source scratch fun best advancement aslr executables modern ditributions linux come pie position independent executables osv mostly support patch provides new script aiming simplify building image elf file found linux host filesystem new script relies lddtree part pax utils package example using script script create manifest executable script directory create manifest file directory script libz.so.1 create manifest libz.so.1 library script script build append manifest create manifest executable build image signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
600,fcfa8770e376b150e9bf6f1b5803482caf64e283,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-05-08 08:42:19 -0400, , update nbd_client.py support old new style handshake qemu nbd qemu 3.1.0 stopped supporting old style handshake patch update nbd_client.py support new old style handshake make work older newer version qemu signed waldemar kozaczuk jwkozaczuk gmail.com,,
601,4e425d4927ce1562ab6803c46525ca26289610e6,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-05-01 00:03:02 -0400, , add gnu libc extension variable __progname __progname_full patch add gnu libc extension variable __progname __progname_full used coreutils seem come bsd bsd paragraph explains http rosettacode.org wiki program_name signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
602,47804c46d24eefa9d511fdd8f0f4d5fa613a65b5,adav Har'El <nyh@scylladb.com>, 2019-04-30 11:43:41 +0300, , update apps submodule openjdk8 zulu full module makefile properly handle new version openjdk causing build old directory jenkins doe fail update fix jenkins build signed nadav har nyh scylladb.com,,
603,3b606e9a3510066822b5cfb5cb49549d0e14465c,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-04-28 00:07:34 -0400, , add gnu libc extension function error patch add gnu libc extension function error specified http linux.die.net man error function used core utils program linux signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
604,e37bbc912041bb5b1674979a396042c1efd7ae0a,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-04-27 22:45:32 -0400, , enhanced setup.py support ubuntu 18.10 19.04 signed waldemar kozaczuk jwkozaczuk gmail.com,,
605,c8395118cb580f2395cac6c53999feb217fd2c2f,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-03-25 07:46:54 -0400, , changed loader print total boot time default signed waldemar kozaczuk jwkozaczuk gmail.com,,
606,053e0a40de122950fcc69f36c14ef2e647e84a09,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-03-24 10:54:36 -0400, , refactor enhance firecracker script patch refactors firecracker.py better handle error scenario add ability use external networking bridge parameter see script setup external bridge.sh add ability specify custom location kernel image file signed waldemar kozaczuk jwkozaczuk gmail.com,,
607,e36de53b88b7acd4ae3b53c16dff361587dbecec,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-03-24 10:51:00 -0400, , add script setup external bridge script used setup external bridge add physical nic one expose osv lan script would normally executed script run.py script firecracker.py would receive name bridge virbr1 parameter signed waldemar kozaczuk jwkozaczuk gmail.com,,
608,8cd7d8aa0d474c02cbc3a99b57d82c900ab5645d,adav Har'El <nyh@scylladb.com>, 2019-03-17 15:49:46 +0200, , trace.py fix failure newest python http www.python.org dev pep pep 0479 done python 3.5 four year ago appears recently python 2.7.15 fedora least tested suddenly implemented change well change mean generator call call next iterator hoping end iteration via stopiteration exception automatically translate end generator need manually patch make check fails fedora part failing run trace.py signed nadav har nyh scylladb.com,,
609,15c8ff7d0ccfaab37cbcf5e32f3760e95760628e,adav Har'El <nyh@scylladb.com>, 2019-03-14 15:24:51 +0200,1034, build fail build pathname space ideally build care pathname build directory part build process use historical reason convenience full pathnames code correctly handle case pathname might contain space build fails fix use relative pathnames easy careful quote filename avoid using shell argument splitting python code fix 1034 basic make script build image rogue module e.g. java still build properly case fixed separately signed nadav har nyh scylladb.com message nyh scylladb.com,,
610,3f7ce1907019215cc37e6109b4cd6320d428e8c7,adav Har'El <nyh@scylladb.com>, 2019-03-14 11:01:32 +0200, , script build gracefully handle space image parameter space image module parameter really useful cause strange error message bad parameter module.py quoting missing signed nadav har nyh scylladb.com,,
611,12b39c686a18813f3ee9760732ade41be94c2aa2,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-03-11 22:44:15 -0400, , updated apps signed waldemar kozaczuk jwkozaczuk gmail.com,,
612,979f685cb2c71003f9b1242f6f5baa9cb07e36ef,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-03-11 22:43:17 -0400, , lowered default zfs qcow2 image size 10gb 256mb signed waldemar kozaczuk jwkozaczuk gmail.com,,
613,528162338c7bc83aee26f5e040ce669f025f09ec,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-03-10 22:32:59 -0400, , updated apps signed waldemar kozaczuk jwkozaczuk gmail.com,,
614,566e4df9246da20de8a3528659fca05411af2578,adav Har'El <nyh@scylladb.com>, 2019-03-10 23:51:42 +0200, , update apps submodule signed nadav har nyh scylladb.com,,
615,576b9ce1155555a48e73d85473862f0fce63f70b,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-03-10 00:51:38 -0500, , adjusted rest api server print listen port signed waldemar kozaczuk jwkozaczuk gmail.com,,
616,03ed630433be20b4a4bb1354cf06ff1a4a04889e,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-03-10 00:49:41 -0500, , changed httpserver html5 gui conf location etc signed waldemar kozaczuk jwkozaczuk gmail.com,,
617,b8bba9c71c0ca6848e66fe4738cb232e437a169c,adav Har'El <nyh@scylladb.com>, 2019-03-08 10:40:35 +0200, , elf support pt_gnu_property segment type recently binutils added yet another segment type called pt_gnu_property http sourceware.org git gitweb.cgi binutils gdb.git since osv linker currently abort see unknown segment type saw crash loading specific shared object like recent java build fedora patch add missing segment type ignores also improves error message case future encounter newly invented segment type fix 1030 signed nadav har nyh scylladb.com,,
618,a191c10e38ba6e36a8a31f0d342ee4156a75b33e,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-03-07 07:38:19 -0500, , fix virtio blk disk size reporting patch tweak virtio blk disk size calculation using 512 size sector instead might even negotiated per virtio 1.0 spec 5.2.5 step feature negotiated blk_size read determine optimal sector size driver use doe affect unit used protocol always 512 byte awareness correct value affect performance make disk reporting work correctly firecracker signed waldemar kozaczuk jwkozaczuk gmail.com,,
619,ff289b9d4ad2f7ed75e57c8f9b076cca307c7c37,adav Har'El <nyh@scylladb.com>, 2019-03-07 11:21:21 +0200, , tracepoints fix build error debug mode recent gcc patch fix link error debug mode gcc 8.3.1 e.g fedora error list several case tracepoint code refers discarded section good practice suggests tracepoints defined source file header file issue static tracepoint defined header file multiple copy created one source file include header file fact legal support separate copy waste memory discouraged nevertheless rare case decide tracepoint header file particular inline code header file need use tracepoint function tracepoint must inlined compiler decides inline several copy function compiled different source file copy identical refers different copy tracepoint variable linker assume discard copy except one problem happens compiler decides inline inline function apparently gcc 8.3.1 debug mode inline common used started seeing problem easy workaround use __attribute__ always_inline force inlining problematic function case fix debug build workaround still leaf violation odr one definition rule i.e. multiple translation unit define method different way since writes different tracepoint copy violation caused bug first place cleaner solution would eliminate odr violation word define tracepoints header file rather define source file extern header file let leave future patch fix 1029 signed nadav har nyh scylladb.com,,
620,ddf9c07153ce61a0f8e00566322f1281435c145d,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-03-05 23:13:02 -0500, , fix another aarch64 compilation error signed waldemar kozaczuk jwkozaczuk gmail.com,,
621,080271698cac2b7855b6b5c6ffa53a0aa888e26e,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-03-05 18:40:15 -0500, , tweak firecracker.py disable rate limiting network device signed waldemar kozaczuk jwkozaczuk gmail.com,,
622,4f747e252e16c6f92549afe72b0be8066ff5b48a,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-03-05 18:35:19 -0500, , tweaked firecracker.py set disk root device patch effectively make firecracker add root dev vda command line make interactive apps like rogue python2x python3x work properly signed waldemar kozaczuk jwkozaczuk gmail.com,,
623,6d882fe65c4639f3edb92e5655b35993c7f9ee42,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-03-05 18:30:47 -0500,1028, fix firecracker.py pas input osv fix 1028 signed waldemar kozaczuk jwkozaczuk gmail.com,,
624,47ae2b65e0428336a841d07d9add01359f523377,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-03-02 01:30:49 -0500, , enhance smp logic parse table add logic parse information cpu system acpi available doe parsing called table table found assumes single vcpu signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
625,97fbc069cd3f79aa29685061272e292d05a87cee,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-03-05 07:29:25 -0500, , fixed typo virtio mmio code signed waldemar kozaczuk jwkozaczuk gmail.com,,
626,e9dba537f188ef0e28785a28ba8b984453c78aae,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-03-03 17:11:31 -0500, , add virtio mmio implementation add implementation virtio mmio device needed support block networking device firecracker signed waldemar kozaczuk jwkozaczuk gmail.com,,
627,1f98d36f64a4c9ec1a04a446bb5fb68d778938c8,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-03-02 01:26:30 -0500, , clean virtio code patch clean refines various aspect virtio code specifically remove unused method corrects logic read element virtio configuration corresponding feature bit indicate add step modern virtio device initialization add code register gsi edge interrupt handler used virtio mmio driver code next patch signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
628,1fd5435e98d6c40f7b96caf583c4e61dd4751811,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-03-04 17:44:55 -0500, , refactor enhance firefracker.py patch refactors script firecracker.py address original review comment also enhances allow setting networking block device finally upgrade firecracker version latest 0.15.0 signed waldemar kozaczuk jwkozaczuk gmail.com,,
629,44d7218ffc7a15935d6afe7da1820c1c236d67e1,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-03-04 16:03:33 -0500, , fix compilation error vmlinux boot64.s patch remove macro setup.s meant remove duplication logic boot.s vmlinux boot.s even though logic setting bit mode regular osv boot phase vmlinux like one required firecracker identical subtle difference register specifically rax eax used depending bit bit code depending version gcc gas used old macro code would sometimes compile patch effectively duplicate ten assembly instruction bid make build tool happy generate correct machine code signed waldemar kozaczuk jwkozaczuk gmail.com,,
630,c5a02126ed0e87b94b200da040c8c36a804ac4b8,adav Har'El <nyh@scylladb.com>, 2019-03-04 00:27:12 +0200, , loader fix aarch64 compilation recent addition firecracker support break aarch64 compilation ifdef offending part aarch64 build signed nadav har nyh scylladb.com,,
631,fc4886bfe00e906d135954eaa3e6158a1dea9827,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-03-03 16:49:48 -0500, , add boot option disable pci enumeration signed waldemar kozaczuk jwkozaczuk gmail.com,,
632,a218f0185248dc6efd38a4482a582d7d56d77564,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-03-03 14:51:05 -0500, , refactor vmlinux boot code signed waldemar kozaczuk jwkozaczuk gmail.com,,
633,a2a27a85f975bc0e921e774744bf575f8d5517a3,adav Har'El <nyh@scylladb.com>, 2019-03-03 15:20:50 +0200,1027, merge pull request 1027 felixonmars patch fix typo arch x64 string.cc,,
634,56197e8b4dd6fdf601eca5f902edd8f81ca45e02,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-02-20 09:30:59 -0500, , make osv bootable linux bit elf patch make necessary change osv boot logic make bootable firecracker please note add virtio mmio support boot ramfs image firecracker like script build ramfs image native example signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
635,ba5b8a342243ef9359944e91f415225d357f8737,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-02-22 09:15:51 -0500, , add python script run osv fireracker patch add simple python script allows booting osv loader.elf firecracker also automates process downloading installing firecracker evenntually might incorporated script run.py signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
636,8ba468d75b0b2efa3ce7068e0213735dd7f2110f,elix Yan <felixonmars@archlinux.org>, 2019-03-02 03:58:40 +0800, , fix typo arch x64 string.cc,,
637,e684397e3374162e4b5272de45cb95592eac52c2,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-02-24 21:28:23 -0500,956, add missing readlinkat function corresponding syscall fix 956 signed waldemar kozaczuk jwkozaczuk gmail.com,,
638,5be8f1749f02f6e7e7042a9a70edb6330db900ed,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-02-22 09:13:29 -0500, , make osv boot without acpi present patch make osv boot without requiring acpi present example case firecracker simply treat failure find acpi root pointer indicator acpi available mark also acpi power osv using non acpi method skip probing panic driver relies acpi well lastly skip madt table parsing apci assume single vcpu eventually parse vcpu information table alternative signed waldemar kozaczuk jwkozaczuk gmail.com,,
639,84a4cbcdfb92613b48faef48defe6270ed5642b2,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-02-24 00:55:42 -0500, , updated osv apps latest version signed waldemar kozaczuk jwkozaczuk gmail.com,,
640,f4d3c4f39ed17a093acdb6ddcb302cf74eca6679,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-02-08 23:31:02 -0500, , enhance script test.py pas extra argument run.py patch enhances script test.py allow passing extra argument run.py allows executing running unit test different default parameter see example run test different virtio configuration script test.py run_options virtio legacy script test.py run_options virtio modern script test.py run_options virtio modern signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
641,35b40bcf3c250ebd9d439f360b7fee4a982f56ac,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-02-06 23:21:57 -0500, , fix compilation aarch64 target signed waldemar kozaczuk jwkozaczuk gmail.com,,
642,45d71130c729d609cbb17a85c49dc7002e14ae70,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-02-06 08:29:50 -0500, , implemented modern virtio pci device patch implement modern virtio pci device make necessary change virtio driver behave slighlt differently whether modern legacy device please note qemu emulate virtio device legacy modern transitional default one transitional mean device act either legacy modern currently osv would detect transitional device legacy one use future may change osv opposite feel comfortable modern virtio pci implementation osv correct run osv modern legacy transitional device simulated qemu passing correct value new virtio parameter script run.py signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
643,a87f397559e3903e971ab1a66540db8807bcb48f,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-02-05 22:53:27 -0500, , add option run osv legacy modern virtio signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
644,43777010faf8e3fe3abbfa65c915ce05b2715581,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-02-05 07:30:05 -0500, , refactor virtio layer support modern pci mmio device patch refactors virtio layer order support modern pci mmio device also step list task make osv boot aws firecracker patch introduces virtio_device class abstract virtio transport layer way virtio_driver class specialization interact host device without tied specific transport pci mmio etc class define specialization virtio_device pci transport patch move pci related logic virtio_driver class effectively make virtio driver class transport agnostic follow patch provide implementation future struct defines mechanism used virtio driver specify particular creating registering proper interrupt logic transport additionally patch slightly change sequence initialization step conforms list specified virtio specification please see section 3.1 http docs.oasis open.org virtio virtio v1.0 virtio v1.0.html finally patch also remove unused code signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
645,25209d81f7b872111beb02ab9758f0d86898ec6b,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-01-29 00:15:53 -0500,1018, reset fpu state saving upon context switch patch add emms instruction critical place osv thread scheduler code reset fpu state saved upon involuntary context switch example interrupt right executing context switch new thread clear fpu status word clearing fpu status word necessary old thread switching might used mmx instruction code executing new thread switching cpu need execute traditional fpu instruction would fail fpu overflow exception leading kind mysterious nasty bug detailed explanation please look issue 1019 1020 patch also add new unit test verifies fpu status word cleared upon involuntary context switch thread using mmx instruction thread traditional fpu instruction printf float number please note voluntary context switch scenario fpu get non clean state right context switch may lead kind bug like infinite loop printf leading page fault see 536 1010 1018 patch fix well however able provide unit test would demonstrate clear understanding fpu status word get corrupted fix 1019 fix 1020 fix 536 based around successful test run would crash every time patch fix 1010 based 100 successful test run would crash almost every time fix 1018 based successful test run thread api used tight loop patch would crash sporadically signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
646,a52e73ceec726378f642f5621caf5966f96bad9c,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-01-25 21:54:39 -0500, , add sys_exit_group syscall used golang normally application directly call exit_group instead use wrapper function _exit however golang system library bypass libc call sys_exit_group handling sys.exit function techically sys_exit sys_exit_group behave slighly differently linux however given osv unikernel exit osv terminates app kernel make sense sys_exit_group thing signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
647,65c558ce17f89d4ae053eb536e2de2d0b23b4e84,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-01-18 17:23:40 -0500, , delete assigned_virtio driver patch deletes code related supporting assigned virtio driver functionality idea assigned virtio api new api let user space application interact directly virtio ring without kernel involvement would allow user space tcp implementation bypass osv tcp implementation app using api seastar seastar run osv anymore nobody else maintains api given api tested without seastar get way upgrading virtio layer support modern pci device virtio mmio device decided remove osv codebase future somebody find useful bring back adjust accordingly signed waldemar kozaczuk jwkozaczuk gmail.com,,
648,e3b57c696ef74f6737c8f8d0270574d9da9ec74f,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2019-01-25 08:00:40 -0500, , add missing syscall fstatat used golang signed waldemar kozaczuk jwkozaczuk gmail.com,,
649,6e583954252a61973d27462bc4124e4dc9dad8f9,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-12-13 22:28:29 -0500,1017, change randomly select host upload port patch enhances select random upload port host side instead fixed 10000 fix 1017 signed waldemar kozaczuk jwkozaczuk gmail.com,,
650,fbc22bd69ecc3271e2920f2bbd1de22605afbabb,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-12-11 09:54:28 -0500,270," implement space efficient early memory allocation scheme patch implement naive efficient scheme allocating memory smp enabled regular malloc pool setup patch every single pre smp allocation would backed full page regardless requested size 2000 byte new pre smp allocation scheme based fact relatively object allocated 2,000 rarely freed small byte algorithm simple finding next big enough aligned space page memory marking size resetting offset next free area page otherwise allocating new page detail read comment code even though scheme simplistic roughly time space efficient allows save around memory measured net sum size requested allocation typically around 125k new scheme page 176k memory satisfy request patch possible run native example 18.5m memory script build rofs image native example script run.py 19m fix 270 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com",,
651,e4a991651d070b6d8f1be4abf311f90e8ac26121,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-11-22 10:19:54 -0500, , add libc alias mathematical function library like x265 fmpeg codec linked reference libc alias math function like log exp pow one unfortunately version funcions provided musl modify musl code add alias simple weak_alias construct therefore add simple stub file libc define function alias name delegate corresponding function provided musl another alternative would copy corresponding file musl libc directory add weak_alias would slightly performant would avoid unnecessary instruction involved calling function signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
652,99de61b28838a301e68df83f8f4b596335766de5,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-11-21 10:40:16 -0500, , refine tst small malloc check alignment signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
653,f59b18eb8b6733ce4cb17c8fe48ce908b6d0b8b9,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-11-20 17:44:39 -0500, , refine malloc pool allocation accomodate edge case patch build previous commit refine malloc pool allocation correctly handle scenario involving various size alignment combination patch also greatly enhances tst small malloc unit test cover allocation scenario signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
654,0619545ee5bcfc40d55a2b7fbe5f8722b4d584b0,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-11-19 17:52:46 -0500, , updated latest apps signed waldemar kozaczuk jwkozaczuk gmail.com,,
655,099fb0b92f766a9269bdde7aa665f965a74c075f,eraldo netto <geraldonetto@gmail.com>, 2018-11-18 18:08:46 +0100, , readme document option make script build case document option make script build someone might unaware option also document nproc built command bash core utils count number available processor case using compilation without take minute 1.5 minute nproc used overcommit cpu thread number make script build saturation actually slow thing ... http www.gnu.org software coreutils manual coreutils.html nproc invocation signed geraldo netto geraldonetto gmail.com message geraldonetto gmail.com,,
656,a58f446482edc5b4e2991c7ee9b20e42431d10c1,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-11-16 22:49:12 -0500,1011, handle small memory allocation byte space efficiently patch adjusts std_malloc handle small allocation smaller byte efficiently specifically instead allocating whole page request adjusted std_malloc memory pool adequate requested size thus save almost entire page memory fix 1011 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
657,b0df7a7e4e85e6da6b8f763c75864a1e88a26037,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-11-07 18:15:55 -0500, , fixed warning test misc free perf.cc fixed warning test misc free perf.cc warning newâ type queue_tâ aka ring_spsc void 67108864 extended alignment waligned new queue_t queue2 new queue_t adding proper compiler option signed waldemar kozaczuk jwkozaczuk gmail.com,,
658,2306c1465b849b8f36b17d3064ad0fe5e0469b8f,eraldo netto <geraldonetto@gmail.com>, 2018-11-04 15:33:13 -0200, , test fix possible undefined behaviour loop fill buffer crypt test patch avoids possible undefined behviour loop try access password field 6th position password fixed size string char home netto desktop osv osv tomcat9 test tst crypt.c warning iteration invokes undefined behavior waggressive loop optimization buf password  home netto desktop osv osv tomcat9 test tst crypt.c note within loop   signed geraldo netto geraldonetto gmail.com message geraldonetto gmail.com,,
659,0e041d0a04ff69ffb5441a5f19004ef19d6d6ad7,eraldo netto <geraldonetto@gmail.com>, 2018-11-06 01:11:23 -0200, , test replace strncat strcat fix crypt warning patch fix following warning home netto desktop osv osv tomcat9 test tst crypt.c function concat_strâ home netto desktop osv osv tomcat9 test tst crypt.c warning argument sizeofâ strncatâ call expression source mean provide explicit length wsizeof pointer memaccess strncat tmp first_block sizeof first_block  home netto desktop osv osv tomcat9 test tst crypt.c warning argument sizeofâ strncatâ call expression source mean provide explicit length wsizeof pointer memaccess strncat tmp second_block sizeof second_block  signed geraldo netto geraldonetto gmail.com message geraldonetto gmail.com,,
660,2856c973f4839418f0a660cf7ee8205b58c0c7b2,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-11-06 01:12:53 -0500, , fixed compiler warning misc fsx.c fixed compiler warning strncpyâ specified bound 1024 equal destination size wstringop truncation signed waldemar kozaczuk jwkozaczuk gmail.com,,
661,76ea085fb77dfaa84adf46a636ed5a24e0bfed6b,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-11-05 02:20:57 -0500, , fix uio_maxiov redefine warning compiling httpserver warning httpserver api include host uio.h header indirectly boost library header osv include uio.h define uio_maxiov prevent collision undef macro osv uio.h define osv version signed waldemar kozaczuk jwkozaczuk gmail.com,,
662,5d3ddd5f1760498a5338d9d16de71f2af06f60a8,eraldo netto <geraldonetto@gmail.com>, 2018-11-01 00:21:02 -0300, , test fix implicit declaration function including stdlib unistd patch fix following warning adding stdlib.h unistd.h home netto desktop osv osv tomcat9 test tst crypt.c function mainâ home netto desktop osv osv tomcat9 test tst crypt.c warning implicit declaration function setkeyâ mean setbufâ wimplicit function declaration setkey key  setbuf home netto desktop osv osv tomcat9 test tst crypt.c warning implicit declaration function encryptâ mean cryptâ wimplicit function declaration encrypt buf  crypt signed geraldo netto geraldonetto gmail.com message geraldonetto gmail.com,,
663,c665948cab5777b13f4e1574154624ba1cc3e48b,eraldo netto <geraldonetto@gmail.com>, 2018-10-31 12:19:12 -0300, , test fix warning tst calloc removing unused variable patch fix following warning home netto desktop osv osv tomcat9 test tst calloc.cc function int main home netto desktop osv osv tomcat9 test tst calloc.cc warning unused variable refxâ wunused variable const char refx xxxxxxxxxx  signed geraldo netto geraldonetto gmail.com message geraldonetto gmail.com,,
664,2b139e141e56e276c4b42f496a867868a6b246ee,adav Har'El <nyh@scylladb.com>, 2018-10-31 21:37:31 +0200, , fix assertion failure running shared object linked gold gnu_relro header mark area memory make read relocation rel taken place since header describe area memory permission flag natural assume relro would come read flag indeed case linking gnu classic linker ld.bfd however newer linker gold flag used header make difference glibc ld.so header unconditionally make memory read ignoring flag see glibc elf reloc.c drop undue assert saw problem past issue 891 switched makefile link ld.bfd however file compiled makefile mkfs.so compiled directly gcc separate compilation linking stage end linked ld.gold ref 891 signed nadav har nyh scylladb.com,,
665,ef542fb1ef4d0d557e7575d6a0daf087313184e7,eraldo netto <geraldonetto@gmail.com>, 2018-10-31 12:09:10 -0300, , test fix warning tst pthread.c including unistd.h patch fix following warning adding unistd.h home netto desktop osv osv tomcat9 test tst pthread.c function mainâ home netto desktop osv osv tomcat9 test tst pthread.c 171 warning implicit declaration function usleepâ mean fseekâ wimplicit function declaration usleep 1000  fseek signed geraldo netto geraldonetto gmail.com message geraldonetto gmail.com,,
666,ea75831f78a8846c6f2b7d07f137ac340847df0b,rzemek PikuÅa' via OSv Development <osv-dev@googlegroups.com>, 2018-10-30 11:56:23 +0000, , added ubuntu bionic 18.04 setup script based mint signed przemek pikuå ppikula rocketmail.com message ppikula rocketmail.com,,
667,65f0e384beebab92ff0f898bba691f635f653b04,adav Har'El <nyh@scylladb.com>, 2018-10-29 16:58:55 +0200, , test makefile clean non fpic compilation line printed compiling non fpic test wrong defined fix furthermore avoids duplication entirely separate rule non fpic compilation normal compilation slightly different cxxflags completely normal linking signed nadav har nyh scylladb.com,,
668,671aef5e9e2ef082bca5cb67dc26ea1736e1c8d7,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-10-29 09:24:53 -0400,1004, support non fpic shared object patch enhances elf dynamic loader support position dependent shared library doe detecting presence dt_textrel marker temporarilily making pt_load section writable corresponding reference code get updated point correct address memory eventually fix permission pt_load section make non writable patch notably allows run graalvm generated java apps fix 1004 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
669,1ec157b001618eee3c0e3c43084f19ce06574aa6,adav Har'El <nyh@scylladb.com>, 2018-10-29 11:36:31 +0200, , update apps submodule signed nadav har nyh scylladb.com,,
670,eb28d3bd9395d25476f8aaa173a308f87b90b263,aldek Kozaczuk <jwkozaczuk@gmail.com>, 2018-10-28 14:47:35 -0400,1006, add fcntl64 function fix 1006 signed waldek kozaczuk jwkozaczuk gmail.com,,
671,63726a8c45b6eb2c5046732b8e36af64e26f7d75,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-10-28 09:34:27 -0400, , make httpserver api configuration file configurable signed waldemar kozaczuk jwkozaczuk gmail.com,,
672,00299190414e4c7c5b0f2d74cd11763dac34e5b9,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-10-18 09:03:12 -0400, , updated latest osv apps adding seven demo apps signed waldemar kozaczuk jwkozaczuk gmail.com,,
673,ea69b89d83d980ec4bb5f40f3dc5eefff8978517,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-10-13 00:26:43 -0400, , disable linking libgcc.a whole archive option patch disables linking libgcc.a library whole archive order make resulting loader stripped.elf 2.5 smaller libgcc.a contains number function huge table number part decimal float library http gcc.gnu.org onlinedocs gccint decimal float library routines.html decimal float library routine used osv kernel potential side effect caused patch tested almost different apps including java python golang rust mysql redis issue found size kernel rofs version patch 9.2m loader stripped.elf 6.2m lzloader.elf reduction size kernel rofs version patch 6.7m loader stripped.elf 3.9m lzloader.elf reduction related patch   signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
674,2dac58b79f56a1a00d87c35f1fc64b9d1c795733,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-10-12 19:52:43 -0400, , revert automatic clean build check instead rebuild boot16.o boot32.o every time patch reverts previous one automatically clean build directory build check instead change makefile rule rebuild boot16.o boot32.o everytime lzloader.elf change make build process slightly robust case change lzloader.elf require rebuilding two object due implicit dependency like lzkernel_base variable signed waldemar kozaczuk jwkozaczuk gmail.com,,
675,4b32aeb44afb1ec34224e0c163b430c599b9fb3e,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-10-06 00:43:50 -0400, , clean build tree script build check make check apparently missing dependency makefile case lead situation certain artifact properly rebuilt manual cleanup build machine necessary patch change script build automatically clean main build artifact well module build start signed waldemar kozaczuk jwkozaczuk gmail.com,,
676,186779b2e477815bbcea8ccff6ba26a7e21cea09,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-09-29 15:47:59 -0400, , fix alloctracker properly memcpy data signed waldemar kozaczuk jwkozaczuk gmail.com,,
677,baf5c301f74a45072cdc551eaf1cd53618958bd6,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-09-29 15:24:42 -0400,985, implement almost place kernel decompression patch implement almost place decompression kernel described 985 caveat segment decompressed starting last one detailed explanation new decompression strategy work found extensive comment added fastlz source code new decompression strategy following benefit minimizes amount ram execute osv image new minimum ram execute native example rofs 27.5 instead 31mb difference almost twofold executing ramfs image java example one longer need adjust lzkernel_base manually build bigger ramfs image fix 985 signed waldemar kozaczuk jwkozaczuk gmail.com reviewed nadav har nyh scylladb.com,,
678,78e8b999b1296790542f5f06ee51f4abb4d29db8,adav Har'El <nyh@scylladb.com>, 2018-09-16 10:48:11 +0300,999, add nanosleep syscall support sys_nanosleep syscall syscall instruction golang starting version 1.11 fix 999 signed nadav har nyh scylladb.com message nyh scylladb.com,,
679,a6fd682431056c5aac20d2b3a1026077b9e05940,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-09-09 00:38:55 -0400, , update apps module signed waldemar kozaczuk jwkozaczuk gmail.com,,
680,f725e2564651fac204b68dd82d0693de1e808281,adav Har'El <nyh@scylladb.com>, 2018-09-04 10:15:32 +0300, , makefile unbreak aarch64 build least currently build loader.bin x64 architecture try build default aarch64 architecture patch make arch aarch64 failed signed nadav har nyh scylladb.com,,
681,adb0fc73c6e24396b465d737453442e0b95fa145,adav Har'El <nyh@scylladb.com>, 2018-09-04 09:31:53 +0300, , makefile fix misleading message compiling file.s makefile used print compiling file.s lowercase fix signed nadav har nyh scylladb.com,,
682,e44133273ebdbb305b045b6a74c347a96cab9943,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-08-31 13:34:15 -0400, , revive multiboot mode patch revives old boot32 loader.bin mode apparently used boot osv multiboot mode aka kernel qemu please note gap multiboot implementation example cmdline doe get properly passed work multiboot loader put multiboot info structure low memory signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
683,161b4a1e9fd9ff766a1fe57b0f08f5f09ec3be58,adav Har'El <nyh@scylladb.com>, 2018-08-29 16:05:24 +0300, , implement __sigsetjmp __sigsetjmp stubbed already sigsetjmp __sigsetjmp exactly patch python3 app longer print annoying stub warning startup control also work weirdly control take effect pressing enter know unrelated bug fix 645 signed nadav har nyh scylladb.com,,
684,c381595ed834665e340a74e44f20458d179facb7,adav Har'El <nyh@scylladb.com>, 2018-08-29 14:28:17 +0300, , update apps submodule signed nadav har nyh scylladb.com,,
685,f5cc12d56dd986d2c7982c5738b1f859702b07fb,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-08-29 07:19:05 -0400,993, relax elf symbol resolution failure bind_now sometimes object file compiled flag resulting elf file end bind_now setting requires dynamic linker eagerly resolve dependent symbol osv satisfies requirement abort find first unresolvable symbol harsh behavior undesired many case missing symbol may never used patch change osv dynamic linker relaxing behavior handling missing symbol bind_now scenario instead aborting simply warns missing symbol leaf unresolved trigger abort potentially referenced later essence postponing abort absolutely necessary fix 993 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
686,b632bf3c441f37a6d39abb87c160256d1c6724bc,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-08-28 21:54:07 -0400, , bumped apps latest version signed waldemar kozaczuk jwkozaczuk gmail.com,,
687,bf73b9a4a3ef0e5616be7b7ed51cd1fbae39038e,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-08-23 18:53:54 -0400,977, optimize bootfs memory utilization patch optimizes ram utilization bootfs eliminating unnecessary copy data doe pointing created file node existing data offset memory part area kernel copied decompression essence add new flag rn_owns_buf ramfs ramfs_node track actually free memory whenever happens default rn_owns_buf set true new function called unpack_bootfs set false saving ram equal size build release bootfs.bin mean save around 700k zfs image rosf much application code size ramfs improvement significant especially java image please note file data referenced node created unpack_bootfs would point wherever bootfs.bin data uncompressed kernel area mean likely aligned possibly mean slower access could improved making individual file aligned bootfs.bin fix 977 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
688,9e3f243fe9cb2dda2dceb8ca8acca013b9c874d6,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-08-15 18:30:48 -0400, , changed getrandom return enosys grnd_nonblock passed signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
689,abedb6934572e0b41c01d79bd445acc9c62b1012,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-08-15 21:21:44 -0400, , bumped apps latest version signed waldemar kozaczuk jwkozaczuk gmail.com,,
690,55b82f93036e4b1c6f80b7d813f1252c6065b5c7,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-08-15 17:51:06 -0400, , enhanced setup.py support fedora signed waldemar kozaczuk jwkozaczuk gmail.com,,
691,0076b466d0db07a5ddbb49bcbc1849834416ab2c,adav Har'El <nyh@scylladb.com>, 2018-08-15 16:22:22 +0300, , aarch64 add missing __nr_getrandom add missing __nr_getrandom definition unbreak aarch64 build correct number 278 according expert found internet arm64 unlike arm system call number one asm generic.h seems way number include api aarch64 bit syscall.h wrong signed nadav har nyh scylladb.com,,
692,777646b5e2078aa1e5963e41ef3fb36f3b71166f,adav Har'El <nyh@scylladb.com>, 2018-08-15 16:03:52 +0300, , fix compilation error due multiple sys random.h previous patch added sys random.h include api third file also bsd sys sys random.h bsd sys cddl compat opensolaris sys random.h bsd file get one include api instead intended one bsd sys fail compile disambiguate one bsd including sys sys random.h patch also drastically reduce number place needlessly include header file signed nadav har nyh scylladb.com,,
693,8e8ee0942db04474f7fa34309c858d8dda4d2280,adav Har'El <nyh@scylladb.com>, 2018-08-15 15:51:48 +0300, , fix compilation gcc 8.1.1 usually necessary use silly keyword typename referring member type another template type e.g. typename width shift reg_file specific file use typename gcc used accept version 8.1.1 longer doe requires typename probably preparation future standard make necessary let add missing typename allow compile signed nadav har nyh scylladb.com,,
694,88538665fe69f29c6f874109a4467b594d825c77,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-08-14 22:49:32 -0400,989, added getrandom implementation fix 989 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
695,2138522bb5d34b6b8e9c7def2780f75ceea65a06,adav Har'El <nyh@scylladb.com>, 2018-08-14 15:11:34 +0300,990, stub implementation mkfifoat implement stub mkfifoat print message implemented like existing mkfifo symbol needed used ... python 3.6 fix 990 signed nadav har nyh scylladb.com,,
696,7fe688b7f7f6afec796ad38faec8dbd4fe058b8a,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-08-13 20:58:55 -0400, , added libc __wcscpy_chk function patch add libc __wcscpy_chk needed python please see http refspecs.linux foundation.org lsb_4.1.0 lsb core generic lsb core generic libc wcscpy chk 1.html detail signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
697,2db02e99aac09b54b8b300e5a6913f0636462093,adav Har'El <nyh@scylladb.com>, 2018-08-14 11:12:42 +0300, , update apps submodule signed nadav har nyh scylladb.com,,
698,e54f98e63acf93741b0448546c6b54871767a734,harles Myers <charles.myers@spirent.com>, 2018-08-03 17:04:42 -1000, , bsd modify kassert macro print included message better debug message 1533351882 4248 git send email charles.myers spirent.com,,
699,a34840838faff9052ae5a575e0628c27dbab281c,harles Myers <charles.myers@spirent.com>, 2018-08-03 17:03:10 -1000, , bsd added mtx_trylock used freebsd ipv6 code sys netinet6 frag6.c ip6q_trylock message 1533351790 4194 git send email charles.myers spirent.com,,
700,45f93e16f4727d506135101b51b9f2ea98e3a651,adav Har'El <nyh@scylladb.com>, 2018-07-04 18:52:37 +0300,984, zfs smaller kernel dropping utf8 normalization support zfs utf8 normalization option need enabled filesystem creation believe default ugly part code implement huge table build last bsd sys cddl contrib opensolaris common unicode u8_textprep.o 300 grows osv disk image size memory use patch comment obscure feature u8_textprep.o becomes tiny compressed kernel 130 smaller saving memory uncompressed even larger fix 984 signed nadav har nyh scylladb.com message nyh scylladb.com,,
701,dac13d5fb4c5db6a9b6871dd06a0c546c2645041,adav Har'El <nyh@scylladb.com>, 2018-07-29 20:19:01 +0300, , update apps submodule signed nadav har nyh scylladb.com,,
702,c2bc6cc62ff6063e3ad1f1636947af0a41947247,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-07-29 13:09:35 -0400, , changed build script use empty bootfs rofs image patch make build script pas empty bootfs manifest skeleton rofs image relevant file needed mounting rofs image thanks patch loader stripped.elf roughly 700k smaller signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
703,b4dd17911882a6fdf0f3989e5e563e39f015f872,adav Har'El <nyh@scylladb.com>, 2018-07-23 12:08:56 +0300, , update apps submodule signed nadav har nyh scylladb.com,,
704,345da93062a3ffe48c3234dbe7e03c334b376ab0,eraldo netto <geraldonetto@gmail.com>, 2018-07-19 00:08:24 -0300, , setup add support linux mint signed geraldo netto geraldonetto gmail.com message geraldonetto gmail.com,,
705,78653e647ab1348473900f3ff9b07e895ec2f0d3,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-07-07 00:20:21 -0400, , added extra file .gitignore signed waldemar kozaczuk jwkozaczuk gmail.com,,
706,e3b25136a0fee3c96bd3f7b20b5bd12c1b87e5df,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-07-07 00:09:33 -0400, , adjusted unit test properly usr isolated non isolated java signed waldemar kozaczuk jwkozaczuk gmail.com,,
707,99dd1c5b521a0ab4642e79a2e992c50ad719f7c6,eraldo netto <geraldonetto@gmail.com>, 2018-07-05 10:09:11 -0300, , java set non isolated mode default patch make non isolated mode default increase compatibility newer jdks detail following link http github.com cloudius system osv commit http github.com cloudius system osv commit http github.com cloudius system osv commit signed geraldo netto geraldonetto gmail.com message geraldonetto gmail.com,,
708,a3cd022fcda2c88eae89476aa6c29e3c4be04926,immons C. Player <timmons.player@spirent.com>, 2016-08-31 11:13:28 -0400,792, driver vmxnet3 fix driver state issue commit fix two observed issue vmxnet3 driver handle missing sop eop descriptor loop esxi drop descriptor load always leave least one descriptor available driver appears hang run ref 792 signed timmons player timmons.player spirent.com message 1472656408 17560 git send email timmons.player spirent.com,,
709,3932108562882c62f6967a3b90ed6a25b3025f8c,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-06-16 14:05:10 -0400, , allow execution non public java class osv thin java wrapper bootstrap execution jvm program doe using reflection select static main method program entry class java specification doe require entry main class public program started standard java executable however osv use java.so thin java wrapper io.osv.jvm class fails execute main method program class public happens jvm class reflection default java security manager enforces class access program class invoked doe program class non public one example latest elasticsearch patch supresses java security access check allow execution main method non public class signed waldemar kozaczuk jwkozaczuk gmail.com,,
710,bcaa7b7f9d0b75b5c44106f301062b7bf78ce66a,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-06-13 00:01:55 -0400,781, fix qemu redir warning patch adjusts script run.py replace deprecated redir option corresponding equivalent construct hostfwd also update script using run.py pas forwarding rule new format please note new format tcp guest_port host_port instead old tcp guest_port host_port fix 781 signed waldemar kozaczuk jwkozaczuk gmail.com message jwkozaczuk gmail.com,,
711,18c79ba0bdf55f9801be4a66a49c31a6e3618f81,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-06-05 00:37:04 -0400, , updated apps,,
712,64dfbcdd8be2d9b40698660b8fba139be1426a1f,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-05-31 00:33:11 -0400, , fixed osv version unit test new tag v0.51.0 created preparation new release broke unit test expected version patch part part case patch modifies allow signed waldemar kozaczuk jwkozaczuk gmail.com,,
713,0ff36ed17d134454aaa32f6dcda61d77ca4b5f80,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-05-29 00:48:54 -0400, , updated latest apps,,
714,4b2dfce6960d3486adc1cebee6bdef630eccc4e2,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-05-28 02:07:42 -0400, , updated latest apps,,
715,7da3d16440d0748915fbead7a0a211a2a0b43cb8,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-05-24 23:46:47 -0400, , added new benchmark stream app upgraded nginx mysql node apps signed waldemar kozaczuk jwkozaczuk gmail.com,,
716,d76e530402a18f60383206a158089a7858b88c12,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-05-19 17:19:01 -0400, , added simple implementation epoll_pwait golang 1.10.x started using epoll_pwait instead regular epoll_wait golang httpserver app doe work anymore patch add basic implementation epoll_pwait return error non null sigmask passed otherwise delegate epoll_wait signed waldemar kozaczuk jwkozaczuk gmail.com,,
717,a6b372987d50f89d690ae8e0e85e0a906d016204,adav Har'El <nyh@scylladb.com>, 2018-05-19 21:26:59 +0300,974, epoll fix regression epollet network socket changed epoll pas unknown bit file implementation poll method worthy cause issue 971 caused unknown bit got poll_no_poll turn complained however change caused new regression epollet socket see issue 974 reporting regression socket poll function relies knowing whether epollet used need avoid optimization would cause missed wakeups epollet see commit information although epollet bit traditionally supported poll method osv need pas poll bit namely epolloneshot still need pas fix 974 signed nadav har nyh scylladb.com message nyh scylladb.com,,
718,7f0392a097e2d501dd441a9b938b885df337b9cb,adav Har'El <nyh@scylladb.com>, 2018-05-17 14:46:34 +0300, , epoll test polling proc file test reproduces issue 971 verifies fixed previous patch epolls file proc linux allow epolling ext4 file doe allow proc file verifies epoll crash even unorthodox request bit happened 971 test run linux osv succeds signed nadav har nyh scylladb.com,,
719,ede858a767e6dd93f1da6a5d50af3dddff159679,adav Har'El <nyh@scylladb.com>, 2018-05-17 10:50:03 +0300, , poll return pollnval poll_no_poll trivial poll_no_poll returned pollnval got bit recognize wrong poll ignore bit recognize poll state pollnval returned file descriptor open patch drop wrong test patch adding extra bit listed like epollrdhup caused pollnval returned worse using epoll expect ever get back pollnval poll caused assertion failure fix 971 signed nadav har nyh scylladb.com,,
720,9eb6f2e38dc0103bd0d64a17221e2cc59b8cb138,adav Har'El <nyh@scylladb.com>, 2018-05-17 10:44:55 +0300, , epoll pas unknown bit poll epoll implementation based poll pas poll event bit know identical epoll poll particular epollet epolloneshot passed poll patch passed epollet epolloneshot poll could confuse poll inplementations particular poll_no_poll caused assertion failure ref 971 signed nadav har nyh scylladb.com,,
721,3f2ca0c4eecfb89432896459d650c2c4055ee679,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-05-15 15:20:43 -0400,808, implement switch separate syscall call stack patch implement separate syscall call stack needed runtimes like golang use syscall instruction execute system call specifically case golang tiny stack used coroutines deep enough execute system call osv handle regular function call case like linux tiny golang stack problem system call executed separate kernel stack example golang httpserver app function well load least 100 concurent request per second using specifically application thread pre alllocates tiny 1024 byte deep syscall call stack syscall instruction called first time given thread call stack switched tiny syscall stack order setup large stack switch eventually execution syscall continues large syscall stack point second subsequent execution syscall instruction handled large syscall stack please note stack switched original caller stack syscall stack allocated lazily stack pointer jump higher address gdb perspective result backtrace stopped previous frame inner frame corrupt stack message gdb assumes stack pointer decrease value stack grows case stack switched syscall stack patch based original patch provided hawxchen fix 808 signed waldemar kozaczuk jwkozaczuk gmail.com message 1526412043 2380 git send email jwkozaczuk gmail.com,,
722,603fabab3aa59158227b6fcf38a462782b2d7046,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-03-22 01:10:48 -0400, , enhanced test allows testing rofs ramfs image patch add new unit test modifies existing one make possible test image read filesystem mounted root ramfs mounted tmp following change part patch modified test module makefile divide test three group zfs specific rofs ramfs specific remaining one applicable filesystem test filtered temporarily rofs ramfs image due bug shortcoming ramfs filesystem described detail makefile  added new test tst concurrent read.cc verify concurrent read test compiled test either read write zfs read filesystem rofs enhanced tst chdir.cc tst readdir.cc tst symlink.cc test adding read_only_fs macro parameter test read write zfs read file system rofs test tst concurrent read.cc part rofs ramfs image compiled read write read mode example tst chdir.so tst chdir rofs.so modified tst fallocate.cc tst link.cc use tmp directory instead usr order build rofs test image execute following command used script build check rofs default test image built zfs filesystem mounted signed waldemar kozaczuk jwkozaczuk gmail.com message 1521695448 28564 git send email jwkozaczuk gmail.com,,
723,dada29ad581ee5fd3485339da1f5a1d103795204,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-05-13 01:46:25 -0400, , updated latest apps signed waldemar kozaczuk jwkozaczuk gmail.com,,
724,49b3ae2647d5e8a71b7421e025dc4a40e26965f4,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-05-12 10:12:30 -0400,966, gracefully handle case missing libvsdo.so current implementation application prepare_argv abort execution fails load libvdso library far libvdso library used golang program application function fine without unfortunately prevents older osv image especially created mikelangelo capstan boot patch change prepare_argv implementation print warning libvdso missing skip passing address auxv array fix 966 signed waldemar kozaczuk jwkozaczuk gmail.com,,
725,dc2ba6775180e7e6f0352a659f63d735e1c483d2,adav Har'El <nyh@scylladb.com>, 2018-05-10 10:48:01 +0300, , gdb fix enum lookup gdb 8.1 patch fix problem gdb 8.1 find numeric value one enumerated type appears gdb regression perhaps confused name expired used function name enumerated value nevertheless since easily work around problem new code work also older gdb let fix 964 patch make check finally pass fedora signed nadav har nyh scylladb.com,,
726,d44fe0f3a6939ddf23e3940c81447e18fa9a2686,adav Har'El <nyh@scylladb.com>, 2018-05-10 00:17:24 +0300, , elf fix typo typo value dt_flags guess previous patch worked practice dt_flags_1 also set linker signed nadav har nyh scylladb.com,,
727,cc6e8f59425bc32bc2944856324b81b287d50390,adav Har'El <nyh@scylladb.com>, 2018-05-09 16:05:29 +0300, , elf improve recognition object asking load resolution default lazy function call resolution function looked first use shared object may ask various reason resolution front object loaded marked creating object linker option several standard way linker use mark option elf file though method encountered past inclusion dt_bind_now dynamic tag however appears newer linkers instead put bit df_bind_now dt_flags tag document claim dt_bind_now tag obsolete also linux linkers also put df_1_now flag dt_flags_1 tag originally solaris way marking patch add support alternative tag flag one appears shared object treated bind fix 967 signed nadav har nyh scylladb.com message nyh scylladb.com,,
728,54e6c424806757e2ea192e72090c9ee8fd84176c,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-05-02 23:09:07 -0400, , adjust apic enabling logic make work hyperkit order enable apic advanced programmable interrupt controller osv set 0x800 bit executing wrmsr instruction currently xapic enable x2apic enable method pas value _apic_base get rejected hyperkit happens _apic_base 4096 byte aligned apic base address rdmsr msr ia32_apic_base return specific cpu hyperkit expects receive back wrmsr enabling apic order properly enable apic hyperkit patch change apic enable method read value apic base address use instead _apic_base input wrmsr instruction patch follows suggestion nadav har fix 965 signed waldemar kozaczuk jwkozaczuk gmail.com,,
729,e03b704645dee65e471bd016bf7c1aa4f91ec0f7,adav Har'El <nyh@scylladb.com>, 2018-05-03 00:45:55 +0300,600, httpserver use boost regex library using boost regex library httpserver module caused lot grief version mismatch annoying warning straw broke camel back failure load boost 1.66 without huge icu library available never really good reason use boost regex since std regex patch finally stop using boost regex switch using std regex fix 962 fix 600 signed nadav har nyh scylladb.com,,
730,a3aab6784120b00ad69816ee5ed37f256775641a,adav Har'El <nyh@scylladb.com>, 2018-05-02 23:51:21 +0300, , fix warning strncat implementation __strcat_chk used strncat way length equal length source string cause gcc warn think warning false positive nevertheless easiest way shut switch strcat work well signed nadav har nyh scylladb.com,,
731,c779216e589e3bf50320b88311111c1ba88bf1a5,adav Har'El <nyh@scylladb.com>, 2018-05-02 23:45:20 +0300, , test add missing include include boost asio io_service.hpp missing test using boost asio io_service older boost version somehow work boost 1.66 longer doe signed nadav har nyh scylladb.com,,
732,6198e9b2b9c19fee5613aa5a549fbfe6930e6186,adav Har'El <nyh@scylladb.com>, 2018-05-02 23:35:27 +0300, , fix warning copying polymorphic type rarely good idea capture exception value making copy instead reference even worse type polymorphic copying result slicing gcc started complaining case even case matter i.e. even use exception captured need change capture reference signed nadav har nyh scylladb.com,,
733,422be0e0fa9cf0e8bba561afcb76691819341af3,adav Har'El <nyh@scylladb.com>, 2018-05-02 23:31:51 +0300, , avoid gcc warning bzero memcpy old style code lot bsd code used code commonly bzero memcpy object done object constructor assignment gcc start warn instead fixing occurances let ask gcc ignore warning code bsd directory least signed nadav har nyh scylladb.com,,
734,1f17287d0021547d8b90e86c288c547cf1419786,adav Har'El <nyh@scylladb.com>, 2018-05-02 23:28:28 +0300, , remove unnecessary bzero remove bzero global variable anyway zero initialized gcc complains code signed nadav har nyh scylladb.com,,
735,5fee2918d74b0bf5707bb48f07a0a2808e6ffe69,adav Har'El <nyh@scylladb.com>, 2018-05-02 23:13:11 +0300,958, fix warning route.cc route.cc code writes socket address routing socket write supposed byte aligned length code also read multiple byte even though actual structure may shorter gcc discovers inconsistency reading byte structure known byte long complains fix size length copy correctly byte align cursor write quieting compiler change fix real bug fix 958 signed nadav har nyh scylladb.com,,
736,05f053b3c8b1be20b19c6dbcec2f20047a71cb06,adav Har'El <nyh@scylladb.com>, 2018-05-02 23:08:41 +0300, , implement __swprintf_chk add missing function apparently needed boost 1.66 compiled fortified mode signed nadav har nyh scylladb.com,,
737,00472bc9fed0b0b4d5a929fc70a5704ba11ae274,adav Har'El <nyh@scylladb.com>, 2018-05-02 21:50:46 +0300, , fix strncpy warning gcc gcc added check strncpy used write array known length length used parameter strncpy length used result null terminated patch fix case problem gcc found solution usually use strlcpy instead strncpy signed nadav har nyh scylladb.com,,
738,303f83e126a62d8e43eaf7ddf09bfed477d75738,adav Har'El <nyh@scylladb.com>, 2018-05-02 21:23:54 +0300,961, add dlvsym function dlvsym linux specific extension posix dlsym asks specific version given symbol needed recent version openjdk8 fedora package always pick latest build fedora change frequently stub implementation ignores version string print warning little tested seems good enough run java always complete implementation later fix 961 signed nadav har nyh scylladb.com,,
739,95b04354666f01cf0359d436cee003cdc3321f4d,adav Har'El <nyh@scylladb.com>, 2018-05-02 18:14:15 +0300,957, clean mutex_init mutex_destroy warning gcc theory function mutex_init mutex_destroy needed code creating mutex object already initializes zero destructed nothing automatically however historic reason lot code started later moved call function code mutex_init memset gcc starting version complains code doe memset friend non trivial object fix pronged reduce usage mutex_init mutex_destroy code e.g. new mutex static variable need initialize little code remaining messy fix still call mutex_init mutex_destroy leave function macro instead function allows compiler complain call site every file includes mutex.h mutex_init call site remain generate gcc warning add following patch wno class memaccess tell gcc test specific file fix 957 signed nadav har nyh scylladb.com,,
740,7286eff749049fb4f089dd8f5599c350946f4522,adav Har'El <nyh@scylladb.com>, 2018-05-02 17:43:16 +0300, , fix wrong signature wrong signature take flag bitmask boolean gcc started warn created alias another function right signature think fix cause functional difference signed nadav har nyh scylladb.com,,
741,6fd32c7e2bc6207583502715c30a9533034cc23e,adav Har'El <nyh@scylladb.com>, 2018-05-02 16:07:17 +0300,960, add getpagesize function fix 960 signed nadav har nyh scylladb.com,,
742,4534c91a16109073b6c988fee67db6c6d4dcac84,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-04-30 22:58:40 -0400, , make tst unordered ring mpsc test robust changed test case acquire lock migration_lock ensure thread test executed doe migrate one cpu another one seen one occurenence test failed likely issue signed waldemar kozaczuk jwkozaczuk gmail.com,,
743,ba35016cffb52b2a8c88a54478bc6775f3524a9d,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-04-26 01:43:27 -0400,859, remove soisconnected syncache_socket patch fix intermittent issue happening tcp stack code session way handshake protocol due inconsistent state transmission control block tcb data structure specifically right server sends syn ack client function syncache_socket would prematurely invoke soisconnected move child socket so_incomp queue so_comp queue release accept lock result premature accepting new connection lead sending data using inconsistent variable tcb structure snd_nxt snd_una finally manifested client missing receive 1st octet server think sent data see failing tst tcp nbwrite test bug inadvertently introduced backporting patch freebsd http github.com cloudius system osv commit diff two year later part patch reversed freebsd codebase http github.com freebsd freebsd commit diff detail please see http bugzilla show_bug.cgi 183659 http d8072 essence patch remove invocation soisconnected along sock_lock syncache_socket add sock_lock right soisconnected invocation tcp_do_segment unfortunately clear soisconnected added syncache_socket first place original freebsd patch backported 2014 osv neither longer necessary per patch 2016. former patch also removed locking logic around v_tcbinfo tcp_usr_accept alleviate lock contention clear consequence removing soisconnected syncache_socket might however based 1000 successful run tst tcp nbwrite test many execution concurrent test rust httpserver using apache benchmark tool 100 concurrent client tcp stack seems functioning fine doe seem perform similar way around 15k request per second cpu setup fix 859 signed waldemar kozaczuk jwkozaczuk gmail.com message 1524721407 10659 git send email jwkozaczuk gmail.com,,
744,b5c940087cf6f08e65453629aefe4c41ac5fdaee,adav Har'El <nyh@scylladb.com>, 2018-04-24 10:20:41 +0300, , update apps submodule golang example finally working without problem hallelujah thanks benoit canet work golang support waldemar kozaczuk completed work signed nadav har nyh scylladb.com,,
745,438008362a8ef74666b4e44af4b3205b86a52d06,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-04-23 22:51:49 -0400,850, add tiny golang front end module patch add new golang module order bootstrap golang application osv role pas golang shared object specific main function name gomain terminate lingering golang application thread main thread completes end two new argument default value added application constructor application run static method allow overriding main function name specifying post main function finally patch close list patch necessary basic golang support osv allows running simple apps like golang example fix 850 signed waldemar kozaczuk jwkozaczuk gmail.com message 1524538309 1710 git send email jwkozaczuk gmail.com,,
746,997563430aaf6862d24e31ee420475bf7af48dd4,eraldo netto <geraldonetto@gmail.com>, 2018-04-06 17:08:38 -0300, , add crypt test unit test cover following algorithm crypt.c md5 sha256 glibc 2.7 musl 0.9.8 sha512 glibc 2.7 musl 0.9.8 following algorithm tested blowfish musl 0.9.8 blowfish glibc mainline glibc distribution encrypt.c also covered http man7.org linux man page man3 crypt.3.html http www.musl libc.org release musl 0.9.8.tar.gz musl 0.9.8 src crypt crypt_r.c http man7.org linux man page man3 encrypt.3.html signed geraldo netto geraldonetto gmail.com message 1523045318 9274 git send email geraldonetto gmail.com,,
747,38e38657b9d46b6638917aaab0b97d6ce55409fa,eraldo netto <geraldonetto@gmail.com>, 2018-04-06 17:08:37 -0300, , add encrypt function fix 945 implementation based musl libc version 1.1.19 http git.musl libc.org cgit musl plain src crypt encrypt.c http git.musl libc.org cgit musl plain src crypt crypt_des.c signed geraldo netto geraldonetto gmail.com message 1523045318 9274 git send email geraldonetto gmail.com,,
748,f4a8119f2fefb7af815629b608e579c958e566ea,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-04-22 16:36:08 -0400, , updated latest apps signed waldemar kozaczuk jwkozaczuk gmail.com,,
749,facce8699f2e15625b565dbd760b19e499c3a7d8,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-04-22 09:38:28 -0400, , added example hello world http server apps rust signed waldemar kozaczuk jwkozaczuk gmail.com,,
750,0b3c7f436535e9bb024742260febc085cb6d0425,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-04-21 00:13:23 -0400, , added res_init needed run rust apps osv res_init function part libresolv library see resolver manual page osv pretend implement rust application need patch add nop implementation res_init corresponding alias symbol __rest_init signed waldemar kozaczuk jwkozaczuk gmail.com,,
751,e60339de2676b186c1ec957102a5a384506d127e,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-04-08 00:02:23 -0400,795, delay elf initialization pas argv dso function patch address two issue related golang support osv firstly provides workaround around issue described 810 essence application like golang runtime initialization elf object invoke init function access variable thread local storage memory area static offset determined compilation type access called initial exec static supported osv shared library run new thread address limitation patch introduces change allow delaying elf initialization new thread run secondly patch provides change elf initialization code allow passing argv data shared object init function explained 795. example required golang runtime fix 795 content patch authored benoit canet signed waldemar kozaczuk jwkozaczuk gmail.com message 1523160143 6976 git send email jwkozaczuk gmail.com,,
752,c604860ca40bde72ef07aeb0b9161b7375c1e3b3,ang Yu <yuwang@linux.alibaba.com>, 2018-04-12 15:08:14 +0800, , add boot_time event uncompress lzloader.elf sometimes found uncompres cost serival time add boot_time event uncompress lzloader.elf patch ... disk read real mode 45.09ms 45.09ms uncompress lzloader.elf 76.90ms 31.81ms initialization 77.65ms 0.75ms .init function 82.69ms 5.04ms smp launched 83.72ms 1.03ms vfs initialized 88.67ms 4.95ms ... signed wang yuwang message 1523516894 14812 git send email yuwang,,
753,6c44fdb7f039a39055aa432c9380ce9f556c3745,ang Yu <yuwang@linux.alibaba.com>, 2018-04-12 15:08:13 +0800, , fix output boot_time event initialization patch boot bootchart initialization output ... disk read real mode 50.71ms 50.71ms .init function 89.20ms 5.48ms smp launched 90.56ms 1.36ms vfs initialized 95.76ms 5.20ms ... patch ... disk read real mode 50.71ms 50.71ms initialization 83.72ms 33.01ms .init function 89.20ms 5.48ms smp launched 90.56ms 1.36ms vfs initialized 95.76ms 5.20ms ... signed wang yuwang signed waldek kozaczuk jwkozaczuk gmail.com message 1523516894 14812 git send email yuwang,,
754,238ab6f59c42aca71d21c33aa261a0ce8a499914,adav Har'El <nyh@scylladb.com>, 2018-03-25 11:27:16 +0300, , fix libvdso compilation jenkins build libvdso.o failed missing time.h think forgot cflags compilation line build system header file taken api directory anyway signed nadav har nyh scylladb.com,,
755,3b697be5fb9ae5653fb738a7a5d8c3b86d1bc630,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-03-22 18:07:27 -0400, , enhanced ramfs implementation handle time mode node attribute patch enhances ramfs implementation handle time mode node attribute additionally add extra check relevant place enforce maximum name length signed waldemar kozaczuk jwkozaczuk gmail.com message 1521756447 2368 git send email jwkozaczuk gmail.com,,
756,5802a0283862f179ccf0ed2915d32ff60a7b773d,adav Har'El <nyh@scylladb.com>, 2018-03-22 12:20:09 +0200, , update apps submodule signed nadav har nyh scylladb.com,,
757,37ae421e5dda99a275bf1773ed5540a881d760ef,adav Har'El <nyh@scylladb.com>, 2018-03-22 12:18:41 +0200, , ncurses fix terminfo already know qemu bug wrongly translates bare linefeed sent guest intentionally bug known year see http qemu bug 1407813 http qemu bug 1715296 take host terminfo file want use guest need avoid using moving cursor directly qemu extra cause cursor move beginning line sed script use something else instead assumed file text work file doe fedora example update sed script allow signed nadav har nyh scylladb.com,,
758,1f122aee15bd294a34990f81fd1133121dde87f5,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-03-22 01:10:46 -0400, , added read around cache layer rofs patch adda simple read around cache layer logic rofs cache mode rofs read data disk needed per uio store memory anticipation subsequent contiguous read data change default rofs operate cache mode changed non cache passing boot option specifically rofs cache mode implement simple read around strategy dividing file size 32k segment reading entire segment memory corresponding offset file requested file smaller 32k loaded full first read simple read around strategy achieve cache hit ratio many conducted measurement also deliver increase read speed non cache mode cost much unneeded data read lastly loaded data stay memory forever lru logic implemented could limit memory used signed waldemar kozaczuk jwkozaczuk gmail.com message 1521695448 28564 git send email jwkozaczuk gmail.com,,
759,cd449667b7f86721095ddf4f9f3f8b87c1c414c9,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-03-22 01:10:45 -0400,195, implemented read file system rofs read file system rofs simple implementation file system data disk read never written simple enough many stateless application deployed osv need read code local disk never write local disk rofs inspired share idea original implementation james root 2015 initial implementation rofs operates without cache mean rofs read much data disk requested per uio passed read function doe retain cache subsequent read data image built rofs automatically set mount tmp ramfs filesystem allow writing transient data like log layout data disk follows super block 512 byte contains magic number specifies meta information including block size location size table containing node dentries symbolic link file data file padded 512 byte block table directory entry referenced index directory node entry hold string direntry name node number table symlinks referenced symlink node entry hold symbolic link path string table inodes specifies type dir file symlink data offset file block disk symlinks directory offset one table besides rofs implementation patch also change vfs main automatically mount rofs zfs also add number new metric captured output verbose mode image built specified rofs option like script build image node example rofs script build image openjdk9 java base java example rofs potential future improvement rofs add caching layer read ahead data disk anticipation sequantial access add compression file segment memory page sharing file mmaping implement vnop_cache add lru logic rofs cache fix 195 signed waldemar kozaczuk jwkozaczuk gmail.com message 1521695448 28564 git send email jwkozaczuk gmail.com,,
760,6454485dd590a590bb6c64149fd0b0ddd9aa5b7a,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-03-17 14:46:56 -0400, , add vdso fast syscall compatibility library application runtimes like golang need libvdso order lookup time specifically startup golang get passed address libvdso library lookup address function symbol __vdso_time detail please look http github.com golang blob master src runtime vdso_linux.go http github.com golang blob master src runtime patch add implementation required function vdso.c modifies makefile bootstrap skeleton file produce libvdso.so add user image one follow patch actually add logic pas base address libvdso elf part auxv initializing golang shared object alternative separate libvdso.so would linking __vdso_ function directly loader.elf passing base address auxv unfortunately would work following reason reason possibly bug base address loader.elf per object base instead expected golang guard address even issue high probability golang would able find symbol __vdso_ function loader.elf given directly read content elf parse find symbol binary level doe use standard dlopen dlsym content patch authored benoit canet signed waldemar kozaczuk jwkozaczuk gmail.com message 1521312416 29803 git send email jwkozaczuk gmail.com,,
761,6f5e403da0bb5f47c6834b0ef81f96ceac1800fd,adav Har'El <nyh@scylladb.com>, 2018-03-11 12:20:21 +0200, , update apps submodule signed nadav har nyh scylladb.com,,
762,9e28c908cd18520f22111613d45bea07f55e2deb,eraldo netto <geraldonetto@gmail.com>, 2018-02-25 03:18:59 -0300,855, test.py black list tst feexcept.so order avoid qemu failure workaround 855 maybe future could create blacklist per hypervisor quick workaroud 855 signed geraldo netto geraldonetto gmail.com message 1519539539 50064 git send email geraldonetto gmail.com,,
763,58c358d9c0e8061e19c5081e93f2d3c74b82f4f9,eraldo netto <geraldonetto@gmail.com>, 2018-02-16 01:19:07 -0200, , mkbootfs reuse manifest_common fix 905 signed geraldo netto geraldonetto gmail.com message 1518751147 30424 git send email geraldonetto gmail.com,,
764,87b2f3a7347d1c4a5dc752a6e4a4f6e1538958f0,eraldo netto <geraldonetto@gmail.com>, 2018-02-22 02:40:21 -0300, , setup.py add support debian 9.3 bit signed geraldo netto geraldonetto gmail.com message 1519278021 5325 git send email geraldonetto gmail.com,,
765,aad563bad4f91fbd5190ccea09d14e5ab1a4ed74,eraldo netto <geraldonetto@gmail.com>, 2018-02-22 02:40:20 -0300, , setup.py add missing package ubuntu signed geraldo netto geraldonetto gmail.com message 1519278021 5325 git send email geraldonetto gmail.com,,
766,ef923946eae6536de24a00470ede585508326506,eraldo netto <geraldonetto@gmail.com>, 2018-02-22 02:40:19 -0300, , setup.py add curl fedora package list signed geraldo netto geraldonetto gmail.com message 1519278021 5325 git send email geraldonetto gmail.com,,
767,72d7fd852a548b7688351f674c187ea75ca27a6b,eraldo netto <geraldonetto@gmail.com>, 2018-02-20 10:42:28 -0300, , add __vprintf_chk fix busybox help command add function __vprintf_chk make busybox help command happy work busybox 1.27.2 code copied old musl post josiah worcester http list musl 2015 signed geraldo netto geraldonetto gmail.com message 1519134148 22094 git send email geraldonetto gmail.com,,
768,ab788ae8b0c7a11f358e4323d1794aef51bd5b05,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-02-18 10:00:49 -0500, , update apps submodule signed waldemar kozaczuk jwkozaczuk gmail.com,,
769,af87bb94a2d957a9abbf5e44fccca3a17f90dc70,eraldo netto <geraldonetto@gmail.com>, 2018-02-13 15:07:19 -0200, , setup.py sort package signed geraldo netto geraldonetto gmail.com message 1518541640 30192 git send email geraldonetto gmail.com,,
770,f59610d326889f9ad9a9cd2851a0704accf81bff,ustin Cinkelj <justin.cinkelj@xlab.si>, 2018-02-15 10:45:09 +0100,946, makefile replace realpath pwd realpath installed default ubuntu use pwd instead fix 946 signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
771,329c03b95e8dd078088ebe7a0ee5c5fe4c8c337c,eraldo netto <geraldonetto@gmail.com>, 2018-02-14 11:37:37 -0200, , script setup.py add support linux mint 18.3 ubuntu based signed geraldo netto geraldonetto gmail.com message 1518615457 3971 git send email geraldonetto gmail.com,,
772,ced3b26277258eff7c67f8f3fa7ca301900552e7,eraldo netto <gerald...@gmail.com>, 2018-02-09 09:54:39 -0200, , commands.cc avoid possible dereference null pointer signed geraldo netto gerald ... gmail.com message 1518177279 17153 git send email geraldonetto gmail.com,,
773,3397bd14c553ed5a565c133385000b1cb41d8866,eraldo netto <gerald...@gmail.com>, 2018-02-04 03:03:51 -0200, , fix permission license prex know rather irrelevant patch quick signed geraldo netto gerald ... gmail.com message 1517720631 22486 git send email geraldonetto gmail.com,,
774,06704deb471f4117737a7f68c336af8a728774a3,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-01-31 06:40:04 -0500, , fixed code style ramfs fixed code style issue ramfs source code mainly replacing tab space signed waldemar kozaczuk jwkozaczuk gmail.com message 1517398804 9292 git send email jwkozaczuk gmail.com,,
775,1800f0c8fc88a88f79e1acf502767301313008b2,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-01-31 06:23:01 -0500, , fixed path resolution futimesat sys_utimensat function another filesystem mounted tmp similar mount point function futimesat utimensat resolve absolute path properly cause relevant unit test fail patch address bug making sure mount point also prepended path signed waldemar kozaczuk jwkozaczuk gmail.com message 1517397781 8383 git send email jwkozaczuk gmail.com,,
776,edaa9dc9894a0331410337462620d8fa1083b665,adav Har'El <nyh@scylladb.com>, 2018-01-28 16:58:25 +0200, , update apps submodule signed nadav har nyh scylladb.com,,
777,3696a028a3695333faf1fad67f704dc6b1e16d5b,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-01-26 00:47:13 -0500, , changed directory test located tmp test image read filesystem tmp folder may assumed read write make sure following four test would also pas configuration relevant place code change use file directory tmp signed waldemar kozaczuk jwkozaczuk gmail.com message 1516945633 24238 git send email jwkozaczuk gmail.com,,
778,022ff6202f8b67fd3225a6d944c5a4376f604a5a,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-01-22 00:42:15 -0500, , fix code style issue test source code fixed code style issue test source code mainly replaced tab space signed waldemar kozaczuk jwkozaczuk gmail.com message 1516599735 16943 git send email jwkozaczuk gmail.com,,
779,5e37170dec99a5f76a4e98c96227e1e98e0f12c4,adav Har'El <nyh@scylladb.com>, 2018-01-28 13:13:35 +0200, , script build fix upload unstrip able shared object patch upload process script build see shared object .so stripped uploading new file stripped.so strip process fails reason e.g. host strip tool support newer shared object stripped.so file created nevertheless try upload course fail patch strip fails print warning message continue uploading original unstripped file signed nadav har nyh scylladb.com,,
780,bffe8eac99a76038fb96d7701ab2fda9fb59f4a3,ustin Cinkelj <justin.cinkelj@xlab.si>, 2018-01-26 18:39:53 +0100,929, cloud init test first disk nocloud configuration data iso image nocloud configuration data cloud management platform attached different position dev vblk1 allow case testing first vblk device proper confuguration data fix 929 signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
781,69adb24b08fc596765a5281533b049f826431d2a,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-01-27 00:17:26 -0500, , improved procfs hostname implementation improved procfs hostname implementation address code review suggestion signed waldemar kozaczuk jwkozaczuk gmail.com message 1517030246 8062 git send email jwkozaczuk gmail.com,,
782,4e38afe666dd24136151c14a9cb88fdcf7a5e5fe,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-01-23 07:11:00 -0500, , enhanced procfs support proc sys kernel hostname add proc sys kernel hostname procfs order support os.hostname implementation golang please look http golang.org src sys_linux.go patch authored benoit canet signed waldemar kozaczuk jwkozaczuk gmail.com message 1516709460 3837 git send email jwkozaczuk gmail.com,,
783,7ce5eb751d5975457ae3c894ff4d84a1d0dbb2c0,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-01-17 00:17:50 -0500, , added number syscalls support golang patch add number syscalls needed make golang apps run osv change produced benoit canet signed waldemar kozaczuk jwkozaczuk gmail.com message 1516166270 13397 git send email jwkozaczuk gmail.com,,
784,db37a5677c4ca81d4651cc3039512c5a65db209c,adav Har'El <nyh@scylladb.com>, 2018-01-16 12:39:36 +0200, , update apps submodule signed nadav har nyh scylladb.com,,
785,267fc675fd990663cddef5e9fa05fdaa618db249,eraldo netto <geraldonetto@gmail.com>, 2018-01-11 19:20:41 -0200, , remove todo directory message 1515705641 5705 git send email geraldonetto gmail.com,,
786,7bf2f652833c3ce784321eb5d2e3133650d47ea4,immons C. Player <timmons.player@spirent.com>, 2018-01-15 12:52:13 -0500, , memory respect _bitset length bound attempt merge neighbor page range page range freed order minimize memory fragmentation however original implementation validate index checking _bitset determine whether page range neighbor change make sure index stay within bound correct fix fix attempted  signed timmons player timmons.player spirent.com message 1516038733 31578 git send email timmons.player spirent.com,,
787,44f8324e3f2e53f55022a1d93c8b072514e7ac07,immons C. Player <timmons.player@spirent.com>, 2018-01-12 13:23:33 -0500, , memory fix error free method neglected subtract index checking end page range _bitmap fix calculation note change end index calculated free match end index calculated set_bits signed timmons player timmons.player spirent.com,,
788,9cceaca880c7a4871ec4dc20cc34f63a243b6e65,adav Har'El <nyh@scylladb.com>, 2018-01-14 11:18:36 +0200, , setup.py add allowerasing yum command recent fedora setup.py asks install compact openssl10 devel package package openssl devel already installed installation fails conflict add allowerasing option allow delete conflicting package signed nadav har nyh scylladb.com,,
789,3cb04a19949f480ba2bd6c9f89f0a47d5c61882f,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2018-01-14 02:00:00 -0500, , fix bug syscall implementation called argument patch fix bug identified testing golang support osv specifically invocation syscall instruction involving argument plus syscall number like pselect6 mmap would often fail last 6th argument carrying wrong random value diffent caller would pas nadav explains osv forum original syscall_wrapper implementation assumed argument received would passed correctly stack syscall function case led corruption 6th argument instead new syscall_wrapper implementation explicitly call syscall function seven parameter explicitly passed fix authored nadav har new unit test tst syscall.cc added waldemar kozaczuk signed waldemar kozaczuk jwkozaczuk gmail.com,,
790,f240a5950a4b08979d4c8ca22c0ab4e100ffcac6,dht.ybuc@gmail.com <hdht.ybuc@gmail.com>, 2018-01-08 14:33:00 -0800, , add missing unzip package script setup.py ubuntu fix 899 signed hidehito yabuuchi hdht.ybuc gmail.com,,
791,1c5f25012e7340dcfef461cbc1501be485f94f0e,adav Har'El <nyh@scylladb.com>, 2018-01-08 13:16:14 +0200, , explicit build process fails run qemu osv build process script build need run osv qemu upload file new image currently qemu fails run.py notice exit error code even call also check run.py error code result script build fail upload file image completely silent appears correctly created image file patch fix oversight run.py exit error code qemu fails exit error code run.py called error script build already catch error result build stop ending message qemu failed example qemu fail port 10000 taken process port forwarding port number  future shoud choose port number random like commit verify use calling qemu let least give user decent error message signed nadav har nyh scylladb.com,,
792,fbbc26d5aa9844f3280731d74f5dfbcfc33a1cff,adav Har'El <nyh@scylladb.com>, 2018-01-07 13:50:58 +0200, , x64 processor.hh fix wrongly named variable commit introduced new x64 function saving restoring fpu control register patch correct used misleading variable name addr fact function pas value actual bit mask saved register address patch change variable name functional significance signed nadav har nyh scylladb.com message nyh scylladb.com,,
793,2eab5f34f18939cba062559efbc9c23df21ae8a4,adav Har'El <nyh@scylladb.com>, 2017-12-10 10:46:49 +0200, , fix httpserver makefile module httpserver makefile added clean target also need add module target even doe nothing signed nadav har nyh scylladb.com,,
794,049484f82cec9d2f559d7ca08bb89b246ffeef31,adav Har'El <nyh@scylladb.com>, 2017-12-10 10:26:05 +0200,931, fix build existing working directory system upgrade commit c446634 httpserver module longer makefile nothing built directory front module however directory may old file notably usr.manifest break build system upgraded old library refers longer exist need add makefile clean target least script build clean clean mess fix 931 signed nadav har nyh scylladb.com,,
795,d52cb12546ff2acd5255a2ac8897891e421f07dc,ick Payne <rickp@rossfell.co.uk>, 2017-11-16 16:55:57 -1000,913, lzloader miscompiles gcc 6.2 optimisation lzloader compiled gcc 6.2.0 cause resulting image fail boot reducing optimisation resolve problem fix 913 signed rick payne rickp rossfell.co.uk message 1510887357 17125 git send email rickp rossfell.co.uk,,
796,bdf7e9fee0dabbf1c9657ee6a9b76c5e39f969a5,adav Har'El <nyh@scylladb.com>, 2017-11-19 14:54:48 +0200, , update apps submodule signed nadav har nyh scylladb.com,,
797,e83eae9bd19582211feb89834d248644e9e658cf,adav Har'El <nyh@scylladb.com>, 2017-11-16 14:11:43 +0200, , aarch64 gcc fix build commit fixed code wrongly new type strict requirement forgot fix one place specific aarch64 architecture break compilation aarch64 gcc 7.2.1. let fix signed nadav har nyh scylladb.com,,
798,4caf065ea57fa2e6a206b986d4c296b038fdf3a3,adav Har'El <nyh@scylladb.com>, 2017-11-16 14:02:19 +0200, , script setup.py support fedora change appear needed fedora needed fedora signed nadav har nyh scylladb.com,,
799,9232d8d460ce2765412158684a23057bd3a2ddca,adav Har'El <nyh@scylladb.com>, 2017-11-16 12:29:39 +0200,925, script build clearer message hang case missing file patch one file manifest missing script build print problem long python stack trace message mixed guest output file saved image guest doe exit look user like silent hang build error message often even visible user scroll see patch problem uploading file stop printing guest output print clear message failure stop guest script build say build failed reason clear hang fix 925 signed nadav har nyh scylladb.com,,
800,d9a87715c8ce545b4399853088eb3767565f43a7,ilmos Nebehaj <v.nebehaj@gmail.com>, 2017-11-14 10:14:41 -0800,873, invalidate route cache removing address core dhcp.cc osv start_if used configure interface based dhcp lease cloud init call dhcp_renew hostname changed due data_source returning different hostname current one dhcp code renew lease calling osv start_if remove old address network interface even unchanged route using particular network interface also removed lead stale entry route cache might cause later network connection fail seen timeout operation canceled problem ec2 osv trying fetch user data renewing dhcp lease commit implement invalidate route cache bsd sys net routecache.hh siocdifaddr handler call method removing active address fix connection problem seeing note bug 873 might related signed vilmos nebehaj v.nebehaj gmail.com message v.nebehaj gmail.com,,
801,7fb1b32156c63b7f3f66029b215f1772032d276f,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-11-08 18:01:35 +0100, , cpiod add verbose program option cpiod started verbose print line uploaded file per http msg osv dev zsd57qbawm4 vnp7fno8baaj output significantly slows capstan image compose secundes virtualbox even minute second default verbose output left enabled capstan expected start cpiod extra option ref 921 signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
802,6896fa12cb5dde67d173ccdc0308d5aff02095a8,adav Har'El <nyh@scylladb.com>, 2017-11-07 15:51:44 +0200, , script setup.py support ubuntu 17.04 allow script setup.py install necessary package ubuntu 17.04 list ubuntu 16.04 fix 920 signed nadav har nyh scylladb.com,,
803,a543b9e6dd8776c43e070ec1b677f2fe1dcbb72e,"layer, Timmons <Timmons.Player@spirent.com>", 2017-10-30 12:45:54 +0000, , driver isa serial.cc prevent spinning vmware line status register lsr non existant serial port vmware maybe platform return 0xff ignore value instead polling terminal character fix 567 signed timmons player timmons.player spirent.com message e96fc58e fd03 4cf3 bd80 d2405f9fdea2 spirent.com,,
804,51caf68c22ef64a1e72e0a9d8c0e3fa4e0e18163,cox@elotl.co <bcox@elotl.co>, 2017-10-19 20:25:53 -0700, , new object loading exception core elf.cc differentiate object loading error loader error add new exception caught osv_execve set error code enoexec fix 904 one thing probably explicitly point couple runtime_error elf.cc memory_image read unsupported symbol lookup fail latter raise question invalid elf chosen answer since caller probably asked wrong symbol end see side could invalid elf signed brendan cox bcox elotl.co message 2ff01606 0234 42f8 aa27 c46911d7741f,,
805,80a7f8299b666e27e76656eaf9f426df9cbce527,adav Har'El <nyh@scylladb.com>, 2017-10-26 00:26:26 -0500, , update apps submodule signed nadav har nyh scylladb.com,,
806,b1bef250a804a8e348c0b36d923f7842ff8e08a5,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2017-10-24 07:34:47 -0400,912, support java jre layout java changed specifically jre amd64 subfolders removed symlinking directory make look like pre java9 doe work therefore java.so look usr lib jvm java lib server libjvm.so alternative location libjvm.so please look http issues.jenkins ci.org browse jenkins 25993 information also please note way run java apps osv using java non isolated mode default one due removal extension class loader method effectively isolated mode dead end starting java unless significant change made make work fix 912 signed waldemar kozaczuk jwkozaczuk gmail.com message 1508844887 4764 git send email jwkozaczuk gmail.com,,
807,13b8acbf712fd18f5b5e39da3b4faa8d40a2e951,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2017-10-11 00:05:16 -0400,917, fixed pci function constructor explicitly initialize msi flag trivial patch address bug identified investigation issue 917 describes random instance osv hanging booting virtualbox boot process osv probe initializes ahci driver requires setting appropriate interrupt handler like _pci_dev.is_msi ack_irq nullptr else _gsi.reset new return ack_irq  _have_msi _msi_enabled member variable pci function object explicitly initialized instantiation may lead false positive detection msi capability reality gsi global system interrupt available concluding patch force explicit initialization _have_msi _msi_enabled false fix 917 signed waldemar kozaczuk jwkozaczuk gmail.com message 1507694716 31676 git send email jwkozaczuk gmail.com,,
808,591aa38e40c5f1499130f950cbb54f09e45910c6,adav Har'El <nyh@scylladb.com>, 2017-10-08 11:26:05 +0300,915, merge pull request 915 problame patch readme arch linux dependency lua openssl 1.0 python3,,
809,1c23d69ba436e9b877b3658b813fc716f298bcc8,hristian Schwarz <me@cschwarz.com>, 2017-10-06 21:58:23 +0200, , script fix missing import module,,
810,64e14440624998d0ebf2f04bee9a8fa3cc9db757,hristian Schwarz <me@cschwarz.com>, 2017-10-06 21:45:54 +0200, , readme arch linux workaround openssl 1.0,,
811,aca794bf5cfd7e5c2956fe3f592c4ca0f7fab525,hristian Schwarz <me@cschwarz.com>, 2017-10-06 21:06:03 +0200, , readme arch linux add dependency unzip otherwise luarocks built,,
812,44f2050dc91e5e760e89a7742c597099e7d11547,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2017-09-30 21:24:27 -0400, , added blocksize httpserver api call added blocksize property payload httpserver api call make possible calculate free total size given mount byte also replaced statfs universal statvfs call signed waldemar kozaczuk jwkozaczuk gmail.com message 1506821067 4890 git send email jwkozaczuk gmail.com,,
813,a3f3e579b0f4d97774c049289f28dbfccbfb69ae,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2017-09-30 18:55:12 -0400, , fixed sed expression problem httpserver api makefile circumstance rebuilding httpserver api module would populate usr.manifest entry starting due bug relevant sed regular expression makefile patch fix signed waldemar kozaczuk jwkozaczuk gmail.com message 1506812112 4428 git send email jwkozaczuk gmail.com,,
814,829bf76f18992abf34f2ac767748d151c9c8669e,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-09-19 14:37:00 +0200, , update cloudinit use new libhttpserver api splited httpserver httpserver api httpserver html5 gui new httpserver api module uploads binary libhttpserver api.so old httpserver module run broke cloud init module link time found fix linking aginst lhttpserver api also upload libhttpserver api.so unmodified name cloud init able find elf loading signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
815,c20374819e178e7590596ac823a18cd134d40671,adav Har'El <nyh@scylladb.com>, 2017-09-20 13:06:22 +0300, , scsi fix code typo scsi command two separate field response status code fixed patch obvious typo response copied status fixing make difference anything able test usually zero anyway think fix might make difference error situation encounter future signed nadav har nyh scylladb.com,,
816,3199c28bd46f38d3e7692653815000c818dab247,adav Har'El <nyh@scylladb.com>, 2017-09-20 12:58:31 +0300, , fix crash find disk device try read partition table perhaps divide device several partition fail find partition table fine mean disk partition however error reading partition table happens case scsi see issue 909 exiting code continued process read data even though none crashed processing brelse end case nothing certainly crash fix 903 signed nadav har nyh scylladb.com,,
817,d47424b19faf4eacb825328bf8c06554be68822e,adav Har'El <nyh@scylladb.com>, 2017-09-14 11:55:53 +0300,888, fix test tst tcp listen test tst tcp listen two separate test listen port depending timing second test may start still remaining entry socket table despite file descriptor already closed need use so_reuseaddr allow second listen succeed every time also patch even thought second test sometimes failed nobody noticed test silently exit test boost framework fail fixed fix 888 signed nadav har nyh scylladb.com,,
818,7e0ba6b6d5be73998a0faba7e3a30b72fe1c8220,adav Har'El <nyh@scylladb.com>, 2017-09-14 10:41:54 +0300, , update apps submodule signed nadav har nyh scylladb.com,,
819,a7a474174d0137e98162d02553f2f2106d26268f,adav Har'El <nyh@scylladb.com>, 2017-09-13 16:25:01 +0300, , fix aarch64 build commit global symbol __argv __argv containing kernel boot option part application command line renamed __loader_argc __loader_argv also need fix reference aarch64 source file aarch64 build break signed nadav har nyh scylladb.com,,
820,9f783e5d597b9f378bd30ae906a543df36c94112,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-09-13 14:05:16 +0200, , command line check empty cmdline case parsing cmdline always parse app_cmdline nothing run command array empty signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
821,648781d7bc04fe413c14a039f95dd1a8ea23ef7d,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-09-13 14:05:15 +0200, , command line add test empty commandline string parsing signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
822,c218a8f2c32fde628658234ede86540ffd33f7a8,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-09-13 14:05:14 +0200,892, command line use parse loader option instead strtok_r cmdline passed osv reassebled already parsed argv anymore app_cmdline contains unmodifed commandline string loader option removed minor bug commandline whitespaces result nicely shutdown instead reporting image empty command line nothing run e.g script run.py env script run.py env bug fixed last 6th commit title command line check empty cmdline case parsing cmdline cosmetic change many argc argv renamed loader_argc loader_argv fix 892 signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
823,6462f294985064bdc1f8d492795c0ffbe967cd56,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-09-13 14:05:13 +0200, , command line add test accepts input str osv commandline say env env bb1 bb2 app.so arg1 arg2 loader option parsed saved argv first loader option token argc set number loader option app_cmdline set unconsumed part input str note quoting loader option containing space actual double quote single quote character supported instead backlash character used allow space loader option missing support quoting single double quote reason left commandline beyond loader option unmodified parsed later code support quoting signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
824,86015dbaf00dfd2b2cf8f5b8dfa32dccbd1a3231,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-09-13 14:05:12 +0200, , include stresep function remove unneded define reference namespace.h stresep.c include file makefile signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
825,764c09d3add6a31c86d3507343bc78fde8539561,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-09-13 14:05:11 +0200, , libc add stresep.c file file literal copy ftp.tku.edu.tw netbsd netbsd current src lib libc string stresep.c signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
826,024e92af9a62600c2176b4cadb520629ae8dc671,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2017-08-21 15:54:15 -0400,885, modularized httpserver rest api broke osv rest api provides httpserver api number fine grained plugins implement specific subset api thus make possible compose rest api carte fashion deprecated hard coded serving specific static content swagger osv gui favor generic logic allows configure redirects file directory mapping rule via tmp httpserver.conf file please see json example demonstrates two section redirects file_mappings yaml obviously work well  ipaddress 0.0.0.0 port 8000 redirects  path target_path dashboard   file_mappings  path api gui file usr mgmt swagger dist index.html exact_match true path matched exactly otherwise treat path like rule   path api directory usr mgmt api content_replace json   path directory usr mgmt gui   path dashboard file usr mgmt gui dashboard index.html   path api gui directory usr mgmt swagger dist    created default httpserver.conf configures httpserver serve static content way backwards compatibility added integration test httpserver module verify serf static content per configuration supplied tmp httpserver.conf fix 885 signed waldemar kozaczuk jwkozaczuk gmail.com message 1503345255 22147 git send email jwkozaczuk gmail.com,,
827,c446634acbb354497f21fba0149c5ca716b277f1,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2017-08-21 15:54:02 -0400,822, split httpserver module httpserver api httpserver html5 gui split httpserver httpserver api httpserver html5 gui httpserver module new httpserver api module subset original httpserver implement osv rest api without modularity functionality change another new httpserver html5 gui module contains static content swagger osv gui html5 apps depends httpserver api remaining httpserver module provides backwards compatibility combine httpserver api httpserver html5 gui functionality updated makefiles httpserver jolokia plugin httpserver jvm plugin cloud init point new location header file fixed 822 signed waldemar kozaczuk jwkozaczuk gmail.com message 1503345242 22096 git send email jwkozaczuk gmail.com,,
828,f4d1dfb9b0c68f731900c71113380c267c3a9c92,adav Har'El <nyh@scylladb.com>, 2017-09-03 11:33:33 +0300, , update apps submodule signed nadav har nyh scylladb.com,,
829,1cfa73c86ec013328ab02e773dd2b7eb868a4aab,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2017-09-03 10:38:46 +0300, , waldek kozaczuk discovered nginx using sendfile experiencing various failure multiple concurrent connection attempted turn sendfile wrong return type ssize_t long int sendfile returned application sometimes thought positive 4294967295. particular interest nginx case sendfile expected temporarily fail non blocking socket buffer full error path part normal nginx operation happen correctly fix course change sendfile return type ssize_t match linux also patch include sys sendfile.h compiler check function signature include earlier would caught bug immediately signed nadav har nyh scylladb.com,,
830,4a716433ceca860b9b94b24384b96cd45ea32b01,adav Har'El <nyh@scylladb.com>, 2017-08-21 14:48:56 +0300, , update apps submodule signed nadav har nyh scylladb.com,,
831,67ecd81258ed4898f828292f4fa38863e372e2ef,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-08-18 14:01:41 +0200, , osv_execve failure set errno return failure execve return set errno patch implement behaviour osv_execve addition clear errno success osv_execve run different thread send errno value first second additional value saved exited_threads map instead saving single int thread app exit code exited_threads save object containing exit errno code osv_execve wait check errno_code set requires osv_execve always ask thread_id newly started app later search exit errno code app actualy already required always dereferences thread_id pointer second also requires osv_execve always pas valid parent_waiter always check possible failure additional assert added case signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
832,2e97728ece995f5a3af0965c5befd0a9f146eaf9,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-08-18 14:01:40 +0200, , osv_execve fail gracefully program file doe exist non existent path passed osv_execve osv launch_error raised terminates nobody catch exception patch implement exception catching silently ignores osv_execve still return set errno exception occurs signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
833,683d8310523ff2a92d4fa0adce92286f3e352448,adav Har'El <nyh@scylladb.com>, 2017-08-20 19:01:43 +0300, , elf fix assertion failure trying run short non executable trying run short non executable e.g script run.py etc host used fail assertion failure function read fileref ... fs.cc function assumes read desired buffer file short crash try read executable header file shorter expected size header crashed solution simple verify size file big enough calling read function throw exception exception exception core elf.cc loading object converted new type explained issue 904 signed nadav har nyh scylladb.com,,
834,8703c9927076a4039c0d4080bbe040181e47f173,adav Har'El <nyh@scylladb.com>, 2017-08-20 16:00:14 +0300, , script build reindent change indentation three line space tab like rest file signed nadav har nyh scylladb.com signed nadav har nyh scylladb.com,,
835,b805cf244c04b1f151d225c39e7365224f530802,adav Har'El <nyh@scylladb.com>, 2017-08-20 15:39:47 +0300, , script build make slightly harder remove file new export export_dir parameter delete entire content target directory exporting sure like personally like even deletion wrong directory existing code current directory explictly given export_dir contains space name pas part first space option cause unindented path name deleted potentially although unlikely deleting unrelated existing directory signed nadav har nyh scylladb.com,,
836,279effd05f2ee32d4e7efa44e607d55ecf3202e6,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2017-08-19 12:51:31 -0400,900, enhanced script build related python script support export file make image versus uploading image patch enhances osv build script allow exporting file addition uploading image address usage scenario described 900 demostrated example script build image empty export export file specified order able produce capstan osv.bootstrap package script build image java isolated export usrskel none export file part osv module module directory along dependent module minus part script build image openjdk8 zulu compact1 export selected usrskel none export file part app applicable apps openjdk8 without dependent module export logic enabled passing new parameter export none selected script build exported file placed build export directory directory indocated export_dir parameter please note change backwards compatible however change script break patch part http github.com mikelangelo project capstan package tree master docker_files common hopefully patch make patch obsolete fixed 900 signed waldemar kozaczuk jwkozaczuk gmail.com message 1503161491 6200 git send email jwkozaczuk gmail.com,,
837,77b1f056a672d00b439a053b66f3f45ec9bd643e,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2017-08-09 13:59:44 -0400, , fixed httpserver module test patch fix httpserver module test correcting issue test basetest.py incorrectly loading jvm.json file format timestamp returned date api call must changed point include utc corresponding test adjusted signed waldemar kozaczuk jwkozaczuk gmail.com message 1502301584 3838 git send email jwkozaczuk gmail.com,,
838,3e3426599126802962a06b3591573b7fae00babb,adav Har'El <nyh@scylladb.com>, 2017-08-03 15:28:46 +0300, , update apps submodule renames source python package python27 fromsource new python27 package take unmodified python 2.7 build machine signed nadav har nyh scylladb.com,,
839,7f58b2e5f089f6c8208c6f551906628c09de805c,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-08-02 12:46:52 +0200, , cli fix run command broke cli run command possible run newprogram myapp run myapp anything even complain failed load object myapp signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
840,ae27453ed293ef7447dcae799136f207cd25ad36,adav Har'El <nyh@scylladb.com>, 2017-08-02 00:28:29 +0300, , runtime.c avoid explicit extern header file available signed nadav har nyh scylladb.com,,
841,e15edaa5f7f2b663aea953b19acc114e26f9b770,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-08-01 18:11:42 +0200, , libc add function required libpython2.7.so try reuse python build system instead compiling source libpython2.7.so requires additional libc glibc symbol seems least trivial python program function really called implemented stub patch prepared fedora signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
842,9aba80aa777eeb1e92e8f6a47fcffe909673ef67,awxChen <yingjheng.chen@gmail.com>, 2017-07-26 14:01:29 -0700, , fix compilation error older compiler complete commit fix 896 signed hawxchen yingjheng.chen gmail.com message 1501102889 14514 git send email yingjheng.chen gmail.com signed avi kivity avi scylladb.com,,
843,a675ae787660648a22cef984522e27bafb398bc8,adav Har'El <nyh@scylladb.com>, 2017-07-26 12:39:31 +0300, , fix compilation error older compiler allowing static_assert without separate message string unfortunately extension older compiler need string silly fix 896 signed nadav har nyh scylladb.com,,
844,8ab5c775bf232998a54bd6d3ccdf839cdffdcdf4,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2017-07-25 13:51:23 +0200, , lua add check openssl header version openssl version 1.1 prompt message explaining user install compat header signed benoã canet benoit scylladb.com message benoit scylladb.com,,
845,af16f934ab795e607e3041dc707dbcd7ea4a7229,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2017-07-24 15:07:03 +0200, , setup make fedora26 take compat openssl header using default openssl devel package would break lua sec start dependency mess use compatibility header package build run work fine signed benoã canet benoit scylladb.com message benoit scylladb.com,,
846,d4fc68e2a621dbb997adda18c8e112567f40f6a4,adav Har'El <nyh@scylladb.com>, 2017-07-24 22:23:14 +0300, , revert lua upgrade luasec compilation fails fedora fedora benoit asked try different approach reverts commit,,
847,dc447e66dea85d283fa98425837f1c983adc9067,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2017-07-22 12:51:49 +0200, , lua upgrade luasec luarock repository date latest release luasec year old doe successfully compile new distribution gcc new openssl use github repository signed benoã canet benoit scylladb.com message benoit scylladb.com,,
848,509b2698c38ff840cd1b224d0c840ab99bc8f764,ongjiu Geng <gengdongjiu@huawei.com>, 2017-07-24 14:28:19 +0800, , pci generic free device pointer parse device config failure parse device config failure break circulation loop free allocated device pointer patch free pointer avoid memory leakage signed dongjiu geng gengdongjiu huawei.com message 1500877699 12208 git send email gengdongjiu huawei.com,,
849,c07fd4f2d109c21cdd1642ad993c3e3fc2ec7f17,adav Har'El <nyh@scylladb.com>, 2017-07-24 11:05:44 +0300, , gcc fix crash initial exec used initial exec model used tst tls.so application area move osv area offset aligned particular alignment linker know see arch x64 loader.ld template segment aligned byte boundary object placed placed particular alignment example variable set sigprocmask every new pthread 128 bit variable gcc starting version movaps sse instruction set instruction assumes variable byte aligned explicitly specified variable mod tst tls.so test variable longer byte aligned test crash fault patch fix initial exec byte aligned break alignment osv variable also safe size use aligned_alloc actual allocation although strictly necessary allocation larger page page aligned case fix 894 signed nadav har nyh scylladb.com message nyh scylladb.com,,
850,c7acbc1c1b4c199dbb6c4ef41f7849c9f6c6acf1,adav Har'El <nyh@scylladb.com>, 2017-07-24 00:01:44 +0300, , run.py drop unnecessary qemu option recent version qemu complain nothing deprecated default option mon get rid signed nadav har nyh scylladb.com,,
851,4349bfd3583df03d44cda480049e630081d3a20b,adav Har'El <nyh@scylladb.com>, 2017-07-23 22:58:43 +0300, ," gcc fix crash due corruption xmm0 register patch fix 890 reported multiple case early crash osv compiled gcc common feature crash small random part memory got zeroed various sad consequence cause crash failing correctly save fpu state modern code fpu sse used floating point operation also various vector operation generated compiler alternative multiple instruction corrupting fpu state cause vector operation haywire including zeroing wrong place length memory memory place save fpu state current stack using fpu_lock class class constructor call fpu_state_init initialize save area fpu_state_save save restore state fpu_state_init called saving fpu state must modify fpu register unfortunately gcc optimization enabled zeroed xmm0 register xsave based variant fpu_state_init want zero byte memory call memset compiler optimizes call away replaces direct instruction zero byte prior gcc generated movq instruction totalling byte machine code movq 0x0,0x200 rdi  movq 0x0,0x208 rdi  movq 0x0,0x210 rdi  starting gcc significantly elaborate technique using sse register used zero first byte result byte code saving whopping byte code pxor xmm0 xmm0 movq 0x0,0x210 rdi  movups xmm0,0x200 rdi case course care saving byte code function ruined using sse register patch add tag function telling gcc use sse compiling function p.s patch new world record zero line code line explanation signed nadav har nyh scylladb.com message nyh scylladb.com",,
852,daef76d96b2b319cc677979169dbd754057ebdd9,adav Har'El <nyh@scylladb.com>, 2017-07-23 12:30:47 +0300, , update apps submodule add python27 application signed nadav har nyh scylladb.com,,
853,8cf16ce00146bd05e0d278020acc094a0e1199a4,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-07-21 12:45:13 +0200, , libc add __mbrlen least symbol need defined python2.7 file mbrlen.c moved musl libc weak alias declaration must file function definition signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
854,4a891af66faeb43d5baa20aee562d561607fb87f,adav Har'El <nyh@scylladb.com>, 2017-07-23 11:26:16 +0300, , use musl unchanged mbsrtowcs change musl mbsrtowcs unnecessary taken slightly older version musl signed nadav har nyh scylladb.com,,
855,1c0c6f5848e826f9dd79aeab7c341568bcd90685,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-07-21 12:45:12 +0200, , libc add tcflow least symbol need defined python2.7 signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
856,67e5061ddbeacc63bb8aafdf37bcf140b61ba04b,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2017-07-20 23:54:16 +0200, , setup.py enable fedora message benoit scylladb.com,,
857,05baa614c460f7033828adf926ce0224df40fd8f,adav Har'El <nyh@scylladb.com>, 2017-07-20 00:31:14 +0300, , gcc replacement new type special alignment osv various type special alignment requirement e.g. object aligned cache line size performance object aligned processor requirement e.g. fpu state need byte aligned abi requirement stack need byte aligned correctly aligns object stack created heap new actually ignores requested alignment reason new call operator new specify desired alignment lucky practice missing alignment matter case alignment supposed performance optimization mandatory case like thread object large already allocated using entire page ended getting 4096 byte alignment enough gcc starting release warns using new type non standard alignment requirement patch create template function aligned_new ... used instead new aligned_alloc implement properly aligned allocation switch future new fully support alignment version operator new taking alignment see http www.open std.org jtc1 sc22 wg21 doc paper 2012 n3396.htm able revert patch back using regular new signed nadav har nyh scylladb.com,,
858,73295984c389d688873e86c110ce3a7aebd3c357,adav Har'El <nyh@scylladb.com>, 2017-07-19 15:22:45 +0300, , update apps submodule signed nadav har nyh scylladb.com,,
859,b88aa485e8beac18cb51f28dcbb710ed5bdcdab8,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-07-18 11:16:22 +0200, , af_local stub ioctl fioasync nginx start ioctl cmd fioasync fails stub nginx start unpatched signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
860,62839c888be763a3afb1051234ae9a6fef04e654,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-07-18 13:46:47 +0200, , signal provide sigsuspend symbol sigsuspend used nginx current yet commited patch never really called nginx master process code used execute worker code prevents master code actually call sigsuspend unimpl implementation sufficient signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
861,ec5361393b9e6b0a5fb50585835e6ed611a356a1,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-07-18 11:16:23 +0200, , fcntl stub f_setown fcntl f_setown used nginx stub nginx started unmodified signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
862,e9c99d6be850c0a15c2e4216b6b1ca20c997d36a,adav Har'El <nyh@scylladb.com>, 2017-07-17 15:21:39 +0300,891, test avoid gold linker three problematic test three test fail system default linker gold osv makefile explicitly choose bfd linker gold shortcoming test makefile let build machine distribution choose default fix failure tst mmap tst elf permission tst fix 891 work around fix signed nadav har nyh scylladb.com,,
863,e6fadac71b5cb8d3fb569c1855ed1172cd818602,adav Har'El <nyh@scylladb.com>, 2017-07-13 10:27:04 +0300, , gcc fix osv info thread internal structure std unique_ptr changed need support osv info thread gdb command patch old new layout supported signed nadav har nyh scylladb.com message nyh scylladb.com,,
864,9428cfd0a6e98356aa52094ca8e588f653ec9392,adav Har'El <nyh@scylladb.com>, 2017-07-13 10:23:36 +0300, , gcc remove inappropriate use constexpr one test assigned constant expression marked constexpr pointer constexpr variable gcc like need bother constexpr qualification test let remove signed nadav har nyh scylladb.com message nyh scylladb.com,,
865,16f7218d77f84d4028835da1835a5e6ba409a0c8,adav Har'El <nyh@scylladb.com>, 2017-07-13 00:18:13 +0300, , remove unused interrupt stack boot.s reserved 40960 byte interrupt stack actually used anywhere since almost start osv see commit get rid signed nadav har nyh scylladb.com message nyh scylladb.com,,
866,3b0f662796831dcd2c1014516cb59f3ad7135c3e,adav Har'El <nyh@scylladb.com>, 2017-07-13 00:18:12 +0300, , boot.s increase main stack size use init_stack_top end stack loader.cc premain main function thread allocate stack dynamically size 4096 16384 byte reserved stack actually use main put sched thread object stack size currently 20880 byte patch increase boot stack size 4096 40960 byte note currently written stack continues take space even boot want excessively big sure overflow cause serious problem right stack percpu section quite possible part e.g. worker queue trace buffer etc overwritten early boot nothing bad happens nothing using area time certainly good reason leave bug behind especially know bug one guess caused overwrite per cpu area see issue 382 signed nadav har nyh scylladb.com message nyh scylladb.com,,
867,a8591e3b4b200b2a6e937e15a4c54f2155a65872,adav Har'El <nyh@scylladb.com>, 2017-07-12 21:59:22 +0300, , gcc fix alignment main stack patch fix early boot crash optimized build built gcc according x86_64 abi function must called stack byte aligned called function may use assumption create aligned object stack without wasting time verify actual alignment stack gone great length ensure alignment guarantee preserved throughout osv one place got wrong call loader.cc main function set properly aligned stack used jmp instead call call function main might seem using jmp function never return anyway fine fine call push byte return address stack mean jmp leaf stack offset byte expected byte alignment interesting question noticed gcc one oldest line code osv december 2012 reason bug effect loader.cc main function function thread osv main tiny function doe little little chance care alignment however one thing doe create thread object stack compiler think thread object byte aligned alignof thread offset byte correct alignment appears gcc optimizer something thread constructor certain instruction work byte aligned data e.g. movaps compiler assumes wrongly aligned result general protection fault crash without optimization enabled wrong alignment cause crash even gcc patch trivially fix jmp call callee main expects would call preserve stack alignment signed nadav har nyh scylladb.com message nyh scylladb.com,,
868,2c9a652de407533588c464139974df503ac0527d,adav Har'El <nyh@scylladb.com>, 2017-07-12 18:13:34 +0300, , gcc use dynamic exception specification dynamic exception specification throw ... specification function deprecated use gcc started complaining time get rid use noexcept instead appropriate instead empty throw signed nadav har nyh scylladb.com message nyh scylladb.com,,
869,7608f2bb51860594afbeab1281df32f4ebac5d18,adav Har'El <nyh@scylladb.com>, 2017-07-12 18:13:33 +0300, , gcc array non negative length gcc rightly complains try allocate array signed int length changing length variable unsigned int fix signed nadav har nyh scylladb.com message nyh scylladb.com,,
870,0a922de5cf768c1ab06e7a094ee2b24fd68830fd,adav Har'El <nyh@scylladb.com>, 2017-07-12 18:13:32 +0300, , gcc fix use uninitialized variable gcc rightly complains bsd_init create uninitialized timeval structure use see random number generator intention probably fetch current time let  signed nadav har nyh scylladb.com message nyh scylladb.com,,
871,446a3a7d6bd563e6794c1e61dc2f480c5a63cdd4,adav Har'El <nyh@scylladb.com>, 2017-07-12 18:13:31 +0300, , gcc ignore warning bsd sys netinet in_mcast bsd sys netinet in_mcast get maybe uninitialized warning far tell false alarm also checked freebsd tree fixed anything area probably correct let ignore warning signed nadav har nyh scylladb.com message nyh scylladb.com,,
872,ef387eda37bbbbd4f2112284d71a314ff6878773,adav Har'El <nyh@scylladb.com>, 2017-07-12 18:13:30 +0300, , gcc add missing include gcc complains defining memset include header file prototype let signed nadav har nyh scylladb.com message nyh scylladb.com,,
873,4141e81d76ff76e194841a62de725a625b709c75,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-07-12 23:37:24 +0200, , cloud init support standard iso image added option reading configuration file secondary disk called nocloud configuration method see also http 0.7.9 topic datasources nocloud.html due missing iso filesystem support custom disk format used patch replaces custom disk format standard iso image iso support provided libcdio preparing user data file meta data file currently ignored image build cloud localds program provided cloud utils package fedora signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
874,cb37aef8d53e6faf32b9dbe7716db2ee1dc140e2,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2017-07-13 18:37:14 -0400,874, added ability osv boot logic detect running hyper implemented hyper specific clock change enough allow execution simple osv apps need networking storage access image built using command successfully boot execute hyper script build image native example ramfs list specific change added features_type indicate hyper reference time count msr available modified cpuid.cc alllow detection availability hyper reference time count msr moved rtc class hpet file separate header implementation file shared hpet pervclock implemented hypervclock class provide time source running hyper fix 874 signed waldemar kozaczuk jwkozaczuk gmail.com message 1499985434 3665 git send email jwkozaczuk gmail.com,,
875,b380677c3285b21896c65dd6c07fe6db33b1faa3,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2017-07-13 18:36:56 -0400, , ported subset hyper vmbus driver code hyperv.cc freebsd adapted necessary use osv apis list specific change required compiler applied appropriate cast static_cast const_cast necessary replaced freebsd header osv bsd porting header like bsd porting replaced msr call corresponding osv processor msr call example rdmsr processor rdmsr replaced do_cpuid processor cpuid temporarily disabled code eventually used vmbus based driver ported osv commented disabled code doe apply osv added allow detection time reference count mechanism disabled freebsd sysctl related code removed code hyperv.h applicable osv signed waldemar kozaczuk jwkozaczuk gmail.com message 1499985416 3612 git send email jwkozaczuk gmail.com,,
876,e0d2983590cb55c1bb826e3ad411c6c7430ffe7b,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2017-07-13 18:36:37 -0400, , added subset original freebsd driver code hyper added subset original freebsd driver code hyper http github.com freebsd freebsd tree limited vmbus driver basic functionality common header file renamed file .cc replaced tab space code necessary make osv boot hyper however included anticipation network disk support later signed waldemar kozaczuk jwkozaczuk gmail.com message 1499985397 3562 git send email jwkozaczuk gmail.com,,
877,c601abb21091512f967c1e4305bb64d7a20d2500,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-07-11 16:31:27 +0200, , command line expand env var using expand cmdline previously runscript content env port 1111 usr lib mpi_hello.so aaa port ccc run script run.py env port newport runscript script script started mpi_hello.so argv newport environ port 1111 wrong confusing fix first evaluating env var insert env var value final command line signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
878,1ee7cee78f8cf62d84541650034e6c41175bae34,adav Har'El <nyh@scylladb.com>, 2017-07-12 09:29:06 +0300, , add openat64 creat64 function add function openat64 creat64 alias usual function ref 747 signed nadav har nyh scylladb.com message nyh scylladb.com,,
879,0c3d1989d8bb1978c9d236b076de0b2b97058906,adav Har'El <nyh@scylladb.com>, 2017-07-11 17:51:37 +0300, , support mmap flag map_32bit support mmap flag map_32bit asks allocated address lower bit application like wrk luajit use flag need work expected default osv mapping look hole starting 0x200000000000 patch map_32bit change 0x2000000 signed nadav har nyh scylladb.com message nyh scylladb.com,,
880,3eec7251d07c118b4310a7b2220fcd938e688e91,adav Har'El <nyh@scylladb.com>, 2017-07-11 15:38:10 +0300, , update apps submodule signed nadav har nyh scylladb.com,,
881,5f9de8ceba72117ae5aae227666d6fd3fa11a85e,adav Har'El <nyh@scylladb.com>, 2017-07-11 15:36:18 +0300, , fix module libcdio relink binary.sh script module libcdio used link binary shared assumed compiler ccache gcc reason assume failed system gcc despited ccache installed fix trivial signed nadav har nyh scylladb.com,,
882,269b789a2cb2d86f872f407818d1b0b1b7ee461c,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-06-15 12:31:10 +0200, , module add libcdio iso read libcdio used read iso image cloud metadata image allow use standard iso image osv cloud init implementation instead using custom format see signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
883,c7065b0c4784ac1b299a2a8dbc617abaa71e8b41,adav Har'El <nyh@scylladb.com>, 2017-07-11 13:16:38 +0300, , update apps submodule add lighttpd application signed nadav har nyh scylladb.com,,
884,2a06b5ae6a5e20428d7f126d1c0e6b59668737ab,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-06-15 08:12:05 +0200, , calloc allow sized allocation calloc nmemb size failed due division std numeric_limits size_t max size fix checking value division included also small test case calloc signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
885,1c24b50e263905b018cc1bac91765cbc3b8439e7,adav Har'El <nyh@scylladb.com>, 2017-07-07 01:07:39 +0300, , update apps submodule signed nadav har nyh scylladb.com,,
886,c1482e3c2b4ecc565df0714edb974e015ef3a198,adav Har'El <nyh@scylladb.com>, 2017-07-07 00:59:53 +0300, , return correct errno socket af_inet6 osv doe support ipv6 trying create socket address family af_inet6 fail currently fails eprotonosupport unexpected considering address family unsupported logical return eafnosupport existing software like redis even assume testing ipv6 support patch socket differentiates unknown address family returning eafnosupport known address family unknown socket type protocol returning eprotonosupport fix 865 signed nadav har nyh scylladb.com message nyh scylladb.com,,
887,751e1aebabac2247f13913f0d739d12189b12230,adav Har'El <nyh@scylladb.com>, 2017-06-30 01:13:33 +0300, , also support tcp_nodelay socket option previous patch supporting tcp_cork socket option broke tcp_nodelay option previously worked accidentally tcp socket option numeric value linux bsd patch return support test support test test tcp_cork tcp_nodelay need uncork small write sends data immediately right second write reader almost immediately read data signed nadav har nyh scylladb.com message nyh scylladb.com,,
888,c80d96c74c5fa82bbd693fec0dc0807572b9f70d,adav Har'El <nyh@scylladb.com>, 2017-06-29 18:02:30 +0300, , support tcp_cork socket option patch add missing support tcp_cork socket option easy already supported freebsd based stack name tcp_nopush different numeric value need appropriate translation patch also includes test tcp_cork work expected test two consecutive small writes socket without tcp_cork first one happens immediately second one delayed much 100ms interaction nagle algorithm sender delayed ack reciever tcp_cork used released second write get sent immediately saw 100ms hang tcp session real benchmark nginx usage tcp_cork silently ignored fix 883 signed nadav har nyh scylladb.com,,
889,c621a007340913aa4832f3fda195b29114a41a6a,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-06-27 09:49:52 +0200, , cli optionaly run command new elf namespace extend cli run option start program new elf namespace required starting wrk crash run elf namespace cli.so see also 882 signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
890,79272b1f558942440a53278f423f4d1a86ef5a3c,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-06-20 14:22:56 +0200, , fcntl stub f_setlkw f_setlk f_getlk already implemented stub f_setlkw missing patch add f_setlkw stub signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
891,0b651428b91663255d8da9a4913663d0cd4cc710,adav Har'El <nyh@scylladb.com>, 2017-06-13 15:28:24 +0300,877, stdio fix fread block device justinc1 discovered strangely fread implementation fails read block device even fread 1024 byte implementation asks readv system call 1023 byte last byte block device refuse make unaligned read crashing assertion failure turn musl strange thing work around bug linux terminal explained http git.musl libc.org cgit musl commit osv doe bug linediscipline read block entire readv scattered buffer expected need workaround hurt performance present case prevent fread working block device fix 877 signed nadav har nyh scylladb.com message nyh scylladb.com,,
892,2b1a07ec162fccfd9f1b7f2bb77cd618fc31bc80,adav Har'El <nyh@scylladb.com>, 2017-06-11 10:59:20 +0300, , update apps submodule new openjdk8 zulu full full non compact version azul openjdk waldemar kozaczuk signed nadav har nyh scylladb.com,,
893,6841c3eb40fb17cf70c628d115b3fb3b5eaeafcb,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-06-08 18:54:11 +0200,879, ramfs strip usr.manifest filename usr.manifest contain line like osv path host path host path symlink need remove searching host filesystem file fix 879 signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
894,8a9e230d0a255239d0006d3a87da9d7c7ae9ba6d,adav Har'El <nyh@scylladb.com>, 2017-06-08 15:51:54 +0300, , dladdr fix return value mistake check whether base base may actually kernel module ... rather need check fname without patch tst dlfcn.cc fails signed nadav har nyh scylladb.com,,
895,bd05a84ecbba3b5f081891827aa1437601ea93ef,adav Har'El <nyh@scylladb.com>, 2017-06-08 15:32:56 +0300, , update apps.git submodule signed nadav har nyh scylladb.com,,
896,a70cbd06c2e58ffa5422984fc409ea152d30e821,adav Har'El <nyh@scylladb.com>, 2017-06-08 14:51:57 +0300, , fix dladdr return value dladdr function supposed return shared library found containing given address neglected always returned patch fix return value dladdr match linux one return need one consequence bug nspr4 library assumed dladdr returned also returned non null filename could strlen wrong return value broke assumption patch also fix underlying osv method object lookup_addr set returned fname base object value address belongs object even known symbol need behavior dladdr fix 878 openjdk8 fedora tomcat still doe work yet another bug signed nadav har nyh scylladb.com message nyh scylladb.com,,
897,679cf09d6bcd80385a562264f96094772ad64d4d,adav Har'El <nyh@scylladb.com>, 2017-06-08 13:26:17 +0300, , update apps.git add missing library openjdk8 fedora app signed nadav har nyh scylladb.com,,
898,3cb3ccc2d47ceaf86daef3848afd4a922a509fcf,adav Har'El <nyh@scylladb.com>, 2017-05-18 17:41:34 +0300, ," build allow easily increasing maximum allowed kernel size explained issue 872 patch uncompressed osv kernel required 23,068,672 byte size usually problem becomes problem certain unoptimized build easily becomes problem kernel includes large ram disk example command script build image cli java ramfs fails patch stating kernel big failure message suggests user increase limit suggested workaround complex incomplete patch add simple workaround variable lzkernel_base makefile increased raise limit kernel size kernel big makefile directs user increase lzkernel_base value recompile lzkernel_base determines uncompressed kernel loaded decompressed address kernel_base lzkernel_base kernel_base maximum allowed length uncompressed kernel replace hard coded limit address boot16.s need know compressed kernel uncompress lzloader.ld build compressed kernel lzloader.cc arbitrarily stopped uncompressing reading certain length makefile verifies kernel large fix 872 signed nadav har nyh scylladb.com message nyh scylladb.com",,
899,a879880a21419744a1abb3baa22ce9a70b6e986b,adav Har'El <nyh@scylladb.com>, 2017-05-18 16:37:47 +0300, , include libosv.so java module patch remove unused libosv.so library java module libosv.so built based kernel executable executable need contain libosv.so vicious circle patch command make clean script build image java ramfs note ramfs causing file included kernel executable fails strip libosv.so file patch simply remove libosv.so java module nothing seems rely signed nadav har nyh scylladb.com message nyh scylladb.com,,
900,f29dba0d3e2324a038bd4db2543012d18482c1f9,adav Har'El <nyh@scylladb.com>, 2017-05-08 14:48:27 +0300, , update apps submodule signed nadav har nyh scylladb.com,,
901,2168d8a17d9528a1cc7a6ab51668ee54151d1456,regor Berginc <gregor.berginc@gmail.com>, 2017-05-08 08:12:47 +0200, , add dup3 syscall mapping trying update node osv app version 6.x noticed dup3 syscall mapping missing patch add corresponding mapping allow node.js 6.x launch signed gregor berginc gregor.berginc gmail.com message 1494223967 28585 git send email gregor.berginc gmail.com,,
902,18a2e45c13d61832de4b2fc37131035cb36fa568,adav Har'El <nyh@scylladb.com>, 2017-04-26 01:50:10 +0300,871, ramfs support symbolic link patch add missing support ramfs creating reading symbolic link modifies bootfs format use pack unpack ram disk file also allow symbolic link patch following work script build image cli ramfs fix 871 signed nadav har nyh scylladb.com message nyh scylladb.com,,
903,00576f566f7aa0ec4237c38b09673a15e8fda4be,adav Har'El <nyh@scylladb.com>, 2017-04-26 01:50:09 +0300, , remove dead code remove dead code ifdef static function never used vfs main.cc signed nadav har nyh scylladb.com message nyh scylladb.com reviewed benoã canet benoit scylladb.com,,
904,6a98b0606fe652d57f1ecd3ea3cb79d26a1b0863,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-04-21 12:50:50 +0200,870, command line add makefile like syntax conditionally set environ var add key value syntax set environ variable set yet allows runscript contain default value case key set yet default value overriden setting value via rest api runscript started fix 870 signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
905,e63c887628fa37e17710e2a72fc36dd7e74315c9,adav Har'El <nyh@scylladb.com>, 2017-04-18 15:29:56 +0300,869, fix smp initialization paravirtual kvm clock issue 869 reported bug supposedly fixed commit 34232de9 returned running osv linux 4.10 host patch fix issue yet correctly fix 869 paravirtual kvm xen clock implementation uptime initially return time _smp_init set afterwards uptime return system_time thinking _smp_init set indeed correct problem point system_time necessarily work first cpu call pv_based_clock setup_cpu set _smp_init point cpu yet called setup_cpu zero system_time result subtraction negative uptime return negative time cpu previously returned time timer implementation detect clock going backward manner cause crash reported issue 869 long time ago commit 34232de9 fix set _smp_init first cpu clock initialized cpu clock set point system_time correct cpu downside fix clock continues stuck time even longer early boot benchmark time grow almost 0.3 second vcpus however stuck time doe cause real problem code need functional clock preemptive multitasking run later anyway signed nadav har nyh scylladb.com message nyh scylladb.com reviewed benoã canet benoit scylladb.com,,
906,30af86fc40528c1a61a5c7a419678727fbdfa097,adav Har'El <nyh@scylladb.com>, 2017-04-10 01:47:14 +0300, , reimplement pthread barrier implementation race described issue 857 one thread may start next round waiting counter reset lead hang enough thread decrease counter patch provides completely new implementation inspired first algorithm http locklessinc.com article barrier basically thread need agree reset counter bringing negative value back see explanation code fix 857 new implementation use latch rather use single mutex single condition variable actually waitqueue like condition variable doe require additional internal mutex implementation signed nadav har nyh scylladb.com message nyh scylladb.com,,
907,97bbc8727de5097d4f763bb67e1c2a3ab89daa04,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-03-29 14:54:39 +0200,868, command line expand environ var runscript rest command command run via cli run.py cmd cmd string contain key key replaced corresponding value environ patch implement also command run via rest via runscript fix 868 signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
908,ef1b37810f0462b70074e779580080eb283ea348,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2017-03-30 09:00:08 -0400,866, changed dhcp logic send back hostname received part dhcpoffer dhcp server init phase dhcp server may send suggested hostname part dhcpoffer reply message right osv ignores suggested hostname always sends back osv.local patch slightly change logic make osv return back suggested hostname present part dhcprequest message fix 866 signed waldemar kozaczuk jwkozaczuk gmail.com message 1490878808 9154 git send email jwkozaczuk gmail.com,,
909,c38806f49cd2d0610227b62ee7170983684c6987,adav Har'El <nyh@scylladb.com>, 2017-03-28 23:30:39 +0300, , math disable optimization file gcc 4.8.4 miscompiles appears see detail issue 867 one optimization gcc 4.8.4 miscompiles code function called round call lround instead cause lround function call round silly infinite loop sadly seems none specific fno option disable specific optimization avoid optimization workaround patch use affected source file implement various round function slow function little bit hopefully heavily used performance minded application anyway fix 867 signed nadav har nyh scylladb.com message nyh scylladb.com,,
910,e67596b4b1117a716a94b5bc11c91e201819f36c,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-03-22 23:41:13 +0100, , dhcp additional refinement rfc 2131 page dhcprequest generated selecting state client insert address selected server server identifier ciaddr must zero requested address must filled yiaddr value chosen dhcpoffer dhcprequest generated renewing state server identifier must filled requested address option must filled ciaddr must filled client address understand server identifier requested address must filled instruction include two dhcp option renewing rebinding dhcprequest tried add additional change attempt rfc compliant change code still work well least dnsmasq waldek kozaczuk tested infoblox aws work message zimbra.xlab.si,,
911,ed1c6e2eb9da6b2b0a2c7ee0931cb1f5baf3c83e,immons C. Player <timmons.player@spirent.com>, 2017-03-24 17:07:14 -0400, , driver fix maxnic argument usage change added maxnic option loader limit number nics used osv user space apps may use remainder however updated driver probe code neglected consider whether driver actually used decrementing maxnic count resulted nics possibly unusable option set change decrement maxnic counter driver match device signed timmons player timmons.player spirent.com message 1490389634 2371 git send email timmons.player spirent.com,,
912,64d1883d7af31046ab8199b01d59dc64d9d4b2f2,kozaczuk <jwkozaczuk@gmail.com>, 2017-03-22 08:57:48 -0400,864, changed dhcp client logic properly broadcast dhcprequest patch addressing issue 816 changed dhcp_mbuf compose_request method make unicast dhcprequest message dhcp server incorrect per rcf 2131 requires dhcp client broadcast message address bound case renewing phase selecting one dhcp_mbuf compose_request take extra enum parameter specifies phase per page http www.ietf.org rfc rfc2131.txt message composed fix 864 signed waldemar kozaczuk jwkozaczuk gmail.com message 1490187468 6838 git send email jwkozaczuk gmail.com,,
913,17884da4eabd9b30fa8fed383b2361448d27ac5f,adav Har'El <nyh@scylladb.com>, 2017-03-22 14:24:52 +0200, , update apps submodule signed nadav har nyh scylladb.com,,
914,d230e99996cdbb542d950c06f961aff22a5b69ad,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2017-02-23 08:54:41 -0500, , updated ec2 make ami.py boto3 added timer allowed specify location img create ami new ec2 make ami.py boto3 interact aws also log time take execute step involved creating ami also accepts new parameter allows specify location osv image file please note new script old one need run ec2 instance mount volume locally copy osv image dev xvdf also creating snapshot take longest proportinonal size image signed waldemar kozaczuk jwkozaczuk gmail.com message 1487858081 2694 git send email jwkozaczuk gmail.com,,
915,cd035a47d49e4708d23b9105f4bc633a2e22f1ec,adav Har'El <nyh@scylladb.com>, 2017-03-21 13:03:07 +0200, , build aarch64 eliminate warning imgedit.py commit eliminated annoying complaint newer qemu explicitly specify format raw image forgot fix one place specific aarch64 build patch fix place signed nadav har nyh scylladb.com,,
916,4f00532f8cf4c9ed4f60ecb83c1138d440bf109a,ergiy Kibrik <sergiy.kibrik@globallogic.com>, 2017-03-20 15:55:56 +0200, , xenconsole shared ring suport complete driver properly work console utility i.e full read write access driver extended work shared structure ring event channel signed sergiy kibrik sergiy.kibrik globallogic.com message 1490018156 16491 git send email sergiy.kibrik globallogic.com,,
917,87cb5bc72b92b30820a51e3f88413b8f12d34a94,ergiy Kibrik' via OSv Development <osv-dev@googlegroups.com>, 2017-03-03 11:45:50 +0200, , bsd xen add console parameter add standard console hvm interface parameter intended use console driver get shared ring page event channel xen signed sergiy kibrik sergiy.kibrik globallogic.com message 1488534351 8263 git send email sergiy.kibrik globallogic.com,,
918,ad6766a8272f99f0bd04b198743533739194ff32,ergiy Kibrik' via OSv Development <osv-dev@googlegroups.com>, 2017-03-03 11:45:49 +0200, , aarch64 mmu dispose device address range arm socs system chip family different address space division device regular memory hard coded range forbids passing device range directly guest also shared xen page console xenstore shared ring reside hard coded device range mapped without mangling range provided seem much value keeping check particularly mattr introduction extention xen support signed sergiy kibrik sergiy.kibrik globallogic.com message 1488534351 8263 git send email sergiy.kibrik globallogic.com,,
919,015c50fe72c2db62321ad8c1fc6114db0fe0f0ed,ergiy Kibrik <sergiy.kibrik@globallogic.com>, 2017-03-21 12:07:16 +0200, , osv aarch64 map xen shared_info page shared structure used various protocol communicating hypervisor e.g event processing signed sergiy kibrik sergiy.kibrik globallogic.com message 1490090836 18154 git send email sergiy.kibrik globallogic.com,,
920,c8bf9ef0e683198c2917f31e5f34bd04c83a620d,ergiy Kibrik <sergiy.kibrik@globallogic.com>, 2017-03-21 12:07:15 +0200, , osv aarch64 support processor feature feature used various xen driver i.e xenbus signed sergiy kibrik sergiy.kibrik globallogic.com reviewed nadav har nyh scylladb.com message 1490090836 18154 git send email sergiy.kibrik globallogic.com,,
921,d7ae498272d0908a79f21e1c6e4ac35ff9275abc,ergiy Kibrik' via OSv Development <osv-dev@googlegroups.com>, 2017-03-03 11:45:46 +0200, , bsd xen extend features.h additional definition signed sergiy kibrik sergiy.kibrik globallogic.com message 1488534351 8263 git send email sergiy.kibrik globallogic.com,,
922,2d9f0e49d785505702df7db6a62e91159e820460,ergiy Kibrik <sergiy.kibrik@globallogic.com>, 2017-03-20 15:54:47 +0200, , osv xen split xenbus generic pci part xen platform pci x86 specific feature currently present aarch64 xenbus work platform generic xenbus driver probed directly aarch64 case xen detected case x64 special pci driver check xen platform pci device probe generic xenbus driver device found pretty much like way done linux signed sergiy kibrik sergiy.kibrik globallogic.com message 1490018087 16439 git send email sergiy.kibrik globallogic.com,,
923,688b58f281037eb567bc17ef03ee418907193817,ergiy Kibrik <sergiy.kibrik@globallogic.com>, 2017-03-20 15:52:47 +0200, , osv xen independent event interrupt bring initialize xen event interrupt separately xenbus driver event served xenbus even case xenbus probed required e.g case aarch64 xen console signed sergiy kibrik sergiy.kibrik globallogic.com message 1490017967 16388 git send email sergiy.kibrik globallogic.com,,
924,4e80d2c66809d84e2dab2d2528b46048cd671dcd,adav Har'El <nyh@scylladb.com>, 2017-03-16 10:39:10 +0200, , gdb fix osv mmap connect older distros commit ce177a50 fixed osv mmap newer distros gdb started requiring quote around typename mmu vma unfortunately quote considered syntax error older gdb patch try syntax trying new one first fails old one signed nadav har nyh scylladb.com message nyh scylladb.com,,
925,07ef8519119fb85223d07b5fbfee2bdcca5a72f4,adav Har'El <nyh@scylladb.com>, 2017-03-15 20:44:00 +0200, , gdb fix error connect older distros commit adf78de4 noticed access value enum class needed add class name previously speculated needed newer gdb confirmed indeed one try debug osv old distro still new enough compile osv new name work need use old one commit adf78de4 otherwise get error connect patch try name trying new name first fail old name signed nadav har nyh scylladb.com message nyh scylladb.com,,
926,6990e5718b2b3b50f1dc08ddfbe53741ce07f543,adav Har'El <nyh@scylladb.com>, 2017-03-14 15:33:15 +0200,862, siocgifflags ioctl remove bsd specific bit siocgifflags ioctl return set flag network interface many classic bit like iff_up iff_loopback internal implementation bsd based desired output linux already function convert internal bitmask linux bitmask incomplete particular importance bsd iff_simplex flag doe exist linux set osv xen network driver failed clear flag client thought seeing linux iff_slave bit position 0x800 particular openmpi like seeing flag refused use network interface fix 862 signed nadav har nyh scylladb.com message nyh scylladb.com,,
927,f38fac6f3a71484ca242e45ba625cb1757feb64a,adav Har'El <nyh@scylladb.com>, 2017-03-13 15:06:50 +0200, , line discipline move update comment code driver line discipline.cc moved around lot result comment trying explain purpose file got moved middle file referred longer existing function patch move update comment actual code change signed nadav har nyh scylladb.com message nyh scylladb.com,,
928,bc15586e8362dabdfec8051e8e6a88b65edb18cb,adav Har'El <nyh@scylladb.com>, 2017-03-06 15:44:38 +0200, , test tst kill fix failing test linux tested killing non existant process resulted error linux quite possible process doe exist test fail change even likely exist number signed nadav har nyh scylladb.com message nyh scylladb.com,,
929,7ab58d3916d35808045eec645eb53c636bf908f8,adav Har'El <nyh@scylladb.com>, 2017-03-06 15:39:02 +0200, , test tst kill fix hang linux test interrupted system call used signal linux function always restarts interrupted system call also blocking network system call test would hang linux fix use sigaction properly interrupt system call linux osv signed nadav har nyh scylladb.com message nyh scylladb.com,,
930,2e39a64eb0bc8aac77aadb832f4f960fe6db3f6d,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-03-06 15:37:06 +0100, , loader fix log redirection append option o_append flag missing redirect my.log ... used thus new output started overwrite old content signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
931,122eeb049a180e940aaca357461d1906a95c28da,adav Har'El <nyh@scylladb.com>, 2017-03-06 14:13:00 +0200, , test tst kill make compilable linux well stop using osv specific feature namely debug test also run linux test currently hang linux test assumes signal set system call restart linux signed nadav har nyh scylladb.com message nyh scylladb.com,,
932,96e1d71e7230983460ec244f5921ef872f2e41f1,adav Har'El <nyh@scylladb.com>, 2017-03-06 15:12:41 +0200, , script setup.py support fedora signed nadav har nyh scylladb.com,,
933,31281662f64dcbf2c9496b514d694bbf53cb5018,adav Har'El <nyh@scylladb.com>, 2017-03-06 14:01:13 +0200, , kill remove duplicate code line exactly code ... need  signed nadav har nyh scylladb.com message nyh scylladb.com,,
934,21d69b74dd1ba0e8ed80888bfb66e229c1051457,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-03-06 13:23:03 +0100,861, test tst kill set flag global waiting global already set kill second wait loop test program slow enough signal handler got cleaned sig_dfl check debug build nested slow enough report printout test tended fail run physical host fix 861 message justin.cinkelj xlab.si,,
935,d6caf00c99220fe790b83d744efda66ae36c21ee,adav Har'El <nyh@scylladb.com>, 2017-02-26 15:50:56 +0200, , test tst tcp siocoutq forget close listening socket keep listening socket open end test run another test need port 1234 signed nadav har nyh scylladb.com,,
936,8f0acb3aab1ee5308da198a2badaf1a6338f63e8,ergiy Kibrik' via OSv Development <osv-dev@googlegroups.com>, 2017-02-20 13:32:09 +0000, , osv xen make shared structure arch independent xen_shared_info xen_vcpu_info different x64 aarch64 couple fix needed shared data consistent hypervisor presumes signed sergiy kibrik sergiy.kibrik globallogic.com message 1487597529 28580 git send email sergiy.kibrik globallogic.com,,
937,c5b67eafcd19a81248bfcad6c762984a6cdeb3a6,ergiy Kibrik' via OSv Development <osv-dev@googlegroups.com>, 2017-02-20 13:32:08 +0000, , osv xen_intr use unmask_evtchn irq handler unmask_evtchn side effect setting triggering interrupt xen unmasked port pending work fine unmasking new port case calling irq handler lead race lost interrupt do_irq already handle pending interrupt need check pending port mess interrupt handler logic simply set mask bitfield continue fix lost interrupt aarch64 platform signed sergiy kibrik sergiy.kibrik globallogic.com message 1487597529 28580 git send email sergiy.kibrik globallogic.com,,
938,830f3017536435a59382d7dfdd75dabc571c29ea,ergiy Kibrik' via OSv Development <osv-dev@googlegroups.com>, 2017-02-20 13:32:07 +0000, , osv xen_intr use evtchn.h replace local declaration unmask_evtchn evtchn_from_irq inclusion evtchn.h declared additionally declare evtchn_from_irq header used xen core interrupt handler include evtchn driver common build aarch64 code link signed sergiy kibrik sergiy.kibrik globallogic.com message 1487597529 28580 git send email sergiy.kibrik globallogic.com,,
939,805b765078d773664202a3cf423e1270954f0dba,ergiy Kibrik' via OSv Development <osv-dev@googlegroups.com>, 2017-02-20 13:32:06 +0000, , osv generic bitops semantics bsrq differs x64 aarch64 e.g following sample input produce different result x64 aarch64 bsrq 0x1 bsrq 0x1 bsrq bsrq bsrq bsrq bsrq 0x80000000 bsrq 0x80000000 bsrq 0x8008 bsrq 0x8008 bsrl 0x1 bsrl 0x1 bsrl 0xffffffff bsrl 0xffffffff bsrl 0x80000000 bsrl 0x80000000 bsrl 0x8008 bsrl 0x8008 fsl 0x1 fsl 0x1 fsl 0xffffffff fsl 0xffffffff fsl 0x80000000 fsl 0x80000000 fsl 0x8008 fsl 0x8008 quite behaviour bitops user expects use gcc built overcome provide consistent behaviour across platform arch specific instruction generated avoid loop hurt performance signed sergiy kibrik sergiy.kibrik globallogic.com message 1487597529 28580 git send email sergiy.kibrik globallogic.com,,
940,f44a817d376e83839da59d0a72f4dceab9a1e9d7,ergiy Kibrik <sergiy.kibrik@globallogic.com>, 2017-02-24 15:25:14 +0000, , bsd xen add synch_bitops.h xen os.h aarch64 evtchn gnttab driver use operation extensively signed sergiy kibrik sergiy.kibrik globallogic.com message 1487949914 3523 git send email sergiy.kibrik globallogic.com,,
941,5e9041bfd7b0e5d3b59437f5033128f11ba7ec4e,ergiy Kibrik' via OSv Development <osv-dev@googlegroups.com>, 2017-02-20 13:32:04 +0000, , bsd xen move common header outside x64 machine xen xenvar.h xenpmap.h used aarch64 well without modification signed sergiy kibrik sergiy.kibrik globallogic.com message 1487597529 28580 git send email sergiy.kibrik globallogic.com,,
942,1774a108bc47e9de0da03495e859205a9b33d3db,ergiy Kibrik' via OSv Development <osv-dev@googlegroups.com>, 2017-02-20 13:32:03 +0000, , bsd remove unused xenfunc.h header contains definition non existing osv tree routine used original bsd code absolutely trace use osv signed sergiy kibrik sergiy.kibrik globallogic.com message 1487597529 28580 git send email sergiy.kibrik globallogic.com,,
943,65a90d478567792b90fc6d28e3dadb24b1a3328e,ergiy Kibrik' via OSv Development <osv-dev@googlegroups.com>, 2017-02-20 13:32:02 +0000, , bsd evtchn unused code cleanup remove related code used anywhere else probably never xen_irq do_irq already handle event osv specific way bsd code contributes duplication cause confusion signed sergiy kibrik sergiy.kibrik globallogic.com message 1487597529 28580 git send email sergiy.kibrik globallogic.com,,
944,43b6da8248cc722b6508f83bef76fcc024fac298,adav Har'El <nyh@scylladb.com>, 2017-02-21 15:58:18 +0200,824, really fix wake_lock race commit ad94d79 fixed important race wake_lock trying wake something wait_for possible do_wait_for currently sleeping wait rather woken different reason acquire mtx case wake_lock need allow thread continue sleeping mutex however fix commit ad94d79 got rid crash bug actually remained whole point wake_lock cause given eventually marked woken case would queue mutex mutex becomes available woken case wait_for_all waiting mutex never woken different queued mutex thread need clear wake thread immediately waiting mutex different doe wake poll see woken woken expected fix 824 signed nadav har nyh scylladb.com message nyh scylladb.com,,
945,4c24250b5751305ecfa7fdf1fa847c5fd23d2056,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-02-17 13:15:11 +0100, , httpserver optionaly start app new elf namespace running multiple instance program time even program multiple time fail elf object requied library already loaded program run second time global data reinitialized program fail unexpected way solved starting program new elf namespace program library get new copy global data commit extends rest api app handler optional new_program parameter allow starting program elf namespaces rest indentation app.json also fixed signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
946,b19275dd49dd7f4e193bec4e3ac7798fa09a9b3c,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-02-17 11:05:47 +0100, , httpserver unify string bool parameter conversion boolean parameter type used file network trace.json corresponding .cc file diffrent string bool conversion implementation slightly different behaviour trace.cc true true otherwise false file.cc false false true true otherwise throw exception handled inconsistently fix using common implementation reused module signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
947,32ccac4e1c1349bac76713c16b5a49b31c10fb5d,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2017-02-16 08:07:06 -0500, , changed java.policy file give permission jolokia agent java application like apache derby elasticsearch 2.4. enable java security manager java security manager .java.policy would grant necessary permission runjava.jar jolokia agent.jar would result following exception trying use osv dasboard exception thread thread access denied 372 559 549 thread.java 1503 dispatcher.java dispatcher.java exception caught jolokia read java.lang type memory heapmemoryusage used access denied change appends necessary statement java.policy file grant necessary permission jolokia agent.jar signed waldemar kozaczuk jwkozaczuk gmail.com message 1487250426 4703 git send email jwkozaczuk gmail.com,,
948,cbfaec5fb1427f711df8f5c5427f388add3c76fa,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-02-02 15:52:00 +0100,849, command line report runscript file missing previously runscript file missing std instream constructor silently failed open file filebuf descriptor likely remained reading stdin never reaching eof fixed extra checking error bit .good addition empty runscript file permitted previously runscript filename part removed command line loader tried execut binary named runscript argv filename fix 849 signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
949,bf7fbc320ad0f7dd0d953238d359af5cfc93206f,adav Har'El <nyh@scylladb.com>, 2017-02-12 10:41:37 +0200, , signal proper support sigaltstack sa_onstack sigaction flag application get sigsegv overflowed thread stack pointless try run signal handler stack room run linux provides sigaltstack function allows user specify per thread stack running signal handler sa_onstack flag sigaction ask use alternative stack specific handler far feature stubbed patch provides complete implementation also test overflow stack try recover signal handler without sa_onstack properly working test crash try run signal handler fix 809 proper support sigaltstack important golang see issue 522 signed nadav har nyh scylladb.com message nyh scylladb.com,,
950,d3866580fa72ad7a4636797815ae977033a393f8,ergiy Kibrik' via OSv Development <osv-dev@googlegroups.com>, 2017-02-09 15:55:34 +0000, , loader fix page fault init scan scandir syscall fail returning e.g rootfs mounted case subsequent free call try deallocate garbage pointer namelist variable leading page fault initialize namelist nullptr free always get valid pointer value signed sergiy kibrik sergiy.kibrik globallogic.com message 1486655734 4431 git send email sergiy.kibrik globallogic.com,,
951,39d8ccdb5c32b8f8129a377e85d5952d1a807f16,ergiy Kibrik' via OSv Development <osv-dev@googlegroups.com>, 2017-02-06 13:45:39 +0000, , bsd xen place __ffs proper header move x64 specific implementation common event channel code platform specific header asm snippet reside allow aarch64 reuse common code signed sergiy kibrik sergiy.kibrik globallogic.com message 1486388740 18296 git send email sergiy.kibrik globallogic.com,,
952,5ae12a5303a2c781fcd0a4b1d571e6afd0c98cb0,ergiy Kibrik' via OSv Development <osv-dev@googlegroups.com>, 2017-02-06 13:45:38 +0000, , osv xen move common code outside arch x64 split arch x64 xen.hh common x64 specific part fixing inclusion along way move xen_intr.cc core mostly platform agnostic aarch64 able reuse code header signed sergiy kibrik sergiy.kibrik globallogic.com message 1486388740 18296 git send email sergiy.kibrik globallogic.com,,
953,4691ddc543962f1a27c4a069af1d98dc4f4183a4,adav Har'El <nyh@scylladb.com>, 2017-02-07 00:08:38 +0200, , update apps submodule signed nadav har nyh scylladb.com,,
954,cdd253e9e06eda407c026f6f24c896d4a32d3a1c,ergiy Kibrik' via OSv Development <osv-dev@googlegroups.com>, 2017-02-06 14:39:38 +0000, , makefile use dummy fenv platform provide one fix aarch64 build broken commit db4a954fc5 math add nearbyint friend signed sergiy kibrik sergiy.kibrik globallogic.com message 1486391978 20268 git send email sergiy.kibrik globallogic.com,,
955,db4a954fc5bebf02a0ad38b2323f874ed05c8c5f,adav Har'El <nyh@scylladb.com>, 2017-02-06 10:55:35 +0200, , math add nearbyint friend nearbyint like rint slightly different handling inexact exception use musl implementation need ignore warning unsupported pragmas file fix 851 signed nadav har nyh scylladb.com message nyh scylladb.com,,
956,fd0b9e187f1d188c4da11334d1ef7087b0f4c71b,uentin Barnes' via OSv Development <osv-dev@googlegroups.com>, 2017-02-05 17:48:35 -0600, , mkostemp function missing makefile fix 604 signed quentin barnes qbarnes yahoo inc.com message,,
957,cba792aac64e3a76b072a18d11210eea33e3bc5e,adav Har'El <nyh@scylladb.com>, 2017-02-02 16:50:58 +0200, , makefile avoid known warning lgamma musl src math lgamma known warning wrongly complaining maybe uninitialized variable already made sure warning cause compilation error let show warning instead could fixed source file cause warning took file unmodified musl want modify get rid warning signed nadav har nyh scylladb.com message nyh scylladb.com,,
958,a6dbbb5110ff84e8967a7557a82a2c07bbb98359,adav Har'El <nyh@scylladb.com>, 2017-02-02 15:57:25 +0200, , makefile avoid known warning exp2l.c musl src math exp2l.c known warning musl src math exp2l.c 206 warning unused variable wunused variable already made sure warning cause compilation error let show warning instead could fixed source file cause warning took file unmodified musl want modify get rid warning signed nadav har nyh scylladb.com message nyh scylladb.com,,
959,3484c29a43e6fd364151e06f331da94d1b5e7de6,adav Har'El <nyh@scylladb.com>, 2017-02-02 15:50:30 +0200, , get rid osv run_background remove osv run_background function nothing call nothing alias osv application run commit application use osv application run commit signed nadav har nyh scylladb.com message nyh scylladb.com,,
960,911e97b52a50908f13a4ebc586d2b21a063d0dfa,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-02-02 22:44:20 +0100,848, gdb search binary help usr.manifest gdb search binary host filesystem binary basename searched multiple application use name say osv_dir app1 hello.so osv_dir app2 hello.so simply first found file used might correct case usr.manifest available used find binary reliably implemented commit usr.manifest found contain info binary old method traversing selected directory used fix 848 signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
961,0701ede73acd925317187e6d1ecc8c5986957670,uentin Barnes' via OSv Development <osv-dev@googlegroups.com>, 2017-01-06 16:46:39 -0600, ," add rhel 1,2,3 support signed quentin barnes qbarnes yahoo inc.com message",,
962,33e3a36fa0f666e5817ff4dfa48e2b087af2ecab,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-02-02 01:22:23 +0100, , httpserver report application finish fix 845 signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
963,898e359526e1c0e777c4469c99fa06e9bedaf636,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-02-02 01:22:22 +0100, , httpserver return thread started app caller use returned thread check app finished check finished implemented follow patch signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
964,f142ccf42f5d4465e827e3ff0a330b62d070755d,adav Har'El <nyh@scylladb.com>, 2017-02-02 01:02:13 +0200, , sched existing function sched thread find_by_id efficiently find sched thread object given numerical however call race thread exit returned thread pointer may longer valid using might result crash patch add safer function sched run given function thread given holding mutex prevents thread including one exiting hold mutex function typically short e.g. test something thread signed nadav har nyh scylladb.com message nyh scylladb.com,,
965,0141eb10ffdb6768e45ca086f270d953da722361,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-01-31 22:36:42 +0100, , app return thread running app main function signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
966,b784ca6b5df1a7333c5dc7fa743a76cdc2900acc,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-01-31 22:36:41 +0100, , libc add get thread arbitrary pthread_t added portable differs even one work current thread signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
967,d300e1981fefc1663b996d1a1168086eb114ac22,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-01-30 17:17:07 +0100, , gdb allow pas hostname port connect patch enables debugging vms remote host connecting localhost non default port port string used almost additonaly typing requried signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
968,51b8595a557b546fc809852edc49b2d16699233a,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-01-30 17:11:14 +0100, , run.py add option additional cloud init disk additional disk second device virtio bus dev vblk1 tested magic header see also actual code provided gregor berginc signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
969,585a73e4ac7a4376f391f63f0c55ee072ec66201,adav Har'El <nyh@scylladb.com>, 2017-01-30 16:32:47 +0200, , osv app.hh remove _kernel restriction osv app.hh osv application api hidden ifdef _kernel probably avoid header file conflict application include normal linux header file fixed conflict previous patch longer need _kernel stuff mean application chooses include osv app.hh use offer couple wrapper function end signed nadav har nyh scylladb.com message nyh scylladb.com,,
970,e37ae7c4a73c6efe6aa0a3911eb1282ca41bab6d,adav Har'El <nyh@scylladb.com>, 2017-01-30 15:48:22 +0200, , header file include api ... osv header file include poll.h api poll.h one without api work well extra api actually harmful mean user want compile application regular linux header file also secondly osv header file user might include linux poll.h osv header file e.g. osv file.h force load api poll.h create conflict mess forced strange workarounds like ifdef _kernel osv app.hh longer needed patch patch remove outright remove strange inclusion api unistd.h syscall.h added actually needed caller include unistd.h need syscall.h see syscall signed nadav har nyh scylladb.com message nyh scylladb.com,,
971,b1236d241612e6101ef9757db66c2d91621d63e7,adav Har'El <nyh@scylladb.com>, 2017-01-26 15:11:08 +0200, , app clear osv run confusion patch two unrelated variant osv run one defined core run.cc run program current thread one defined app.cc run background many reservation second function work especially commit e270cf9c prevented cleanup completed application bother even two unrelated function confusingly exactly name slightly different parameter type give hint one called patch change name second function osv run_background signed nadav har nyh scylladb.com message nyh scylladb.com,,
972,2531d70be4eb2a99987ee2c89652c932dc51d96e,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2017-01-17 01:04:15 -0500, , added json application json mapping mime_types httpserver module added json application json mapping mime_types.cc httpserver module make return correct application json response header instead text plain make compliant swagger spec apis well make browser side javascript automatically parse response json fix 833 signed waldemar kozaczuk jwkozaczuk gmail.com message 1484633055 9489 git send email jwkozaczuk gmail.com,,
973,4014346c82a4490ab9e4a4acd62fb2c192426a30,adav Har'El <nyh@scylladb.com>, 2017-01-25 11:38:50 +0200, , update osv gui submodule signed nadav har nyh scylladb.com,,
974,7f92a57d65797e5b2b44d52921c2593557dd5d31,adav Har'El <nyh@scylladb.com>, 2017-01-24 16:00:02 +0200,842, merge pull request 842 kib aarch64 xen rfc aarch64 basic xen support reviewed nadav har nyh scylladb.com,,
975,3269dee4f7456ffabb03bed7d9bc99fd1a397c91,ergiy Kibrik <sergiy.kibrik@globallogic.com>, 2017-01-20 10:17:19 +0000, , aarch64 choose early console driver runtime case xen detected use xenconsole driver output otherwise fallback pl011 backwards compatibility signed sergiy kibrik sergiy.kibrik globallogic.com,,
976,3004522afa296797e935acb77a0b350ea03302b7,ergiy Kibrik <sergiy.kibrik@globallogic.com>, 2017-01-20 10:09:01 +0000, , aarch64 detect xen hypervisor xen craft provides dtb special node know hypervisor using load corresponding driver is_xen macro introduced future use signed sergiy kibrik sergiy.kibrik globallogic.com,,
977,b2bb1d2ad1296e94ed91faa9e440a91592684fb6,ergiy Kibrik <sergiy.kibrik@globallogic.com>, 2017-01-20 10:01:32 +0000, , osv add xen console basic driver primitive driver hypercall provide early console signed sergiy kibrik sergiy.kibrik globallogic.com,,
978,c47679831d4ec2985eba98b2a6b20bbd1ab82e11,ergiy Kibrik <sergiy.kibrik@globallogic.com>, 2017-01-20 09:56:15 +0000, , bsd xen add header aarch64 support signed sergiy kibrik sergiy.kibrik globallogic.com reviewed nadav har nyh scylladb.com,,
979,dc3a3b6d91a1de3619a771496871be6d8e5377be,ergiy Kibrik <sergiy.kibrik@globallogic.com>, 2017-01-20 09:53:03 +0000, , aarch64 add xen hypercalls signed sergiy kibrik sergiy.kibrik globallogic.com reviewed nadav har nyh scylladb.com,,
980,f16f5db21aebce36bbe97eac580115bc633aa1ae,ergiy Kibrik <sergiy.kibrik@globallogic.com>, 2017-01-20 09:37:10 +0000, , aarch64 mmu extend device memory range gic start device range 0x3000000 aarch64 xen guest map gic seems lowest address required signed sergiy kibrik sergiy.kibrik globallogic.com reviewed nadav har nyh scylladb.com,,
981,d30ee98fbd0001b7fd2f2e3961c0c000f9ce121d,ergiy Kibrik <sergiy.kibrik@globallogic.com>, 2017-01-20 09:29:59 +0000, , aarch64 make pci optional continue boot pci host found dtb every platform provides namely non x86 xen guest seem support pci yet signed sergiy kibrik sergiy.kibrik globallogic.com reviewed nadav har nyh scylladb.com,,
982,d02220894e5c019b59e196d30536a1c7bbab8ab8,ergiy Kibrik <sergiy.kibrik@globallogic.com>, 2017-01-20 08:34:10 +0000, , osv use __assembly__ instead assembly __assembly__ definition used extensively throughout bsd tree make asflags compatible usage signed sergiy kibrik sergiy.kibrik globallogic.com reviewed nadav har nyh scylladb.com,,
983,241b3d62ff50fb1ee8a903e228b260cad982cda8,ergiy Kibrik <sergiy.kibrik@globallogic.com>, 2017-01-20 08:15:09 +0000, , bsd xen console_io hypercall accepts constant string modify interface accept const char argument compliant console console_driver write interface xen doe mangle input buffer upon consoleio_write hypercall signed sergiy kibrik sergiy.kibrik globallogic.com reviewed nadav har nyh scylladb.com,,
984,d52b3fb46ea48db1e24c0fafde533742449b10cc,ergiy Kibrik <sergiy.kibrik@globallogic.com>, 2017-01-13 11:49:20 +0000, , aarch64 preboot add magic linux header add linux resembling header begining image recognized loaded xen arm64 image loader probably loader signed sergiy kibrik sergiy.kibrik globallogic.com,,
985,e9963e7aeec281eceec887a2cbb4bd607944bb09,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-01-24 10:56:50 +0100, , libc implement gethostid sethostid mac address first real ethernet interface used unique host identifier fix 841 signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
986,698a49a871007e9b6ff640d36eab33d16d99cfd2,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-01-23 11:41:03 +0100, , elf.cc expect .note.osv mlock section string code remove end string tried copy strlen data byte expect .note.osv mlock section contains 0x00 caused attempt allocate copy byte converted 4gb commit addes extra check length string case fix 840 signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
987,e0d2ea143e865d24b03180afa1c75f87ca0d6d16,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-01-23 11:44:17 +0100, , libc implement sched_getcpu signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
988,9cae5b81943fd009f1e042bb6eb5b3f845061db9,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2017-01-19 22:55:08 -0500, , changed httpserver request handler route request option method change allows called preflighted request properly handled httpserver taking action instead responding standard cors response header see http doc web http http tools.ietf.org html rfc7231 section 4.3.7 detail fix 832 signed waldemar kozaczuk jwkozaczuk gmail.com message 1484884508 2864 git send email jwkozaczuk gmail.com,,
989,dd0f4e2352afac15cc1518922d117623d29ee847,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2017-01-20 00:08:22 -0500, , omit content type response header content length changed logic httpserver omit content type header content length returned please read http tools.ietf.org html rfc7231 section 3.1.1.5 detail fix 839 signed waldemar kozaczuk jwkozaczuk gmail.com message 1484888902 3821 git send email jwkozaczuk gmail.com,,
990,0a224fdccaf4985f896baa99e6bcb0dbbb2d3bf2,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2017-01-18 23:52:25 -0500, , changed json formatter escape string according spec changed formatter to_json method format string json properly escape according http www.json.org fix 836 signed waldemar kozaczuk jwkozaczuk gmail.com message 1484801545 11777 git send email jwkozaczuk gmail.com,,
991,b148e96c65b527f851a917b3bc70c964447780ef,adav Har'El <nyh@scylladb.com>, 2017-01-18 11:32:21 +0200,778, pthread allow unpinning thread allow unpinning thread cpu mask bit set cpu still support setting cpu mask arbitrary subset cpu either one cpu fix 778 signed nadav har nyh scylladb.com message nyh scylladb.com reviewed benoã canet benoit scylladb.com,,
992,92c80bd0211a128aecbd02d82ea28d027a3c1485,adav Har'El <nyh@scylladb.com>, 2017-01-17 15:57:35 +0200, , sched thread add unpin method patch add unpin method undo pin operation thread operating either current thread different thread supported unpin operation thread may migrated cpu unless course temporary migrate_disable force patch doe yet change friend call new unpin method come next patch ref 778 signed nadav har nyh scylladb.com message nyh scylladb.com,,
993,23aa0f637bee6225e5a1d63ef500531eccc4f609,adav Har'El <nyh@scylladb.com>, 2017-01-13 15:35:50 +0200, , mount fix deadlock patch fix deadlock caused lock order inversion deadlock described issue 817 sometimes hang entire vfs mount attempted vfs code take lock various node later internal zfs code call vfs_busy take mount_lock patch sys_mount code took lock opposite order mount_lock first held called lookup code locked various node fix sys_mount hold mount_lock looking path hold actually reading writing mount_list object twice sys_mount beginning check path already mounted end add newly prepared mount point list patch also add new mutex serialize call sys_mount situation two concurrent mount decide mount device path fix 817 signed nadav har nyh scylladb.com message nyh scylladb.com,,
994,434315730d0023eb4186a30166a96ed71b833715,adav Har'El <nyh@scylladb.com>, 2017-01-13 15:35:49 +0200, , mount use osv mutex instead std mutex reason use std mutex use osv mutex std mutex basically wrap osv mutex posix mutex mutex implementation adding compile time run time overhead huge zero either use mutex need stop using namespace std make name mutex ambiguous signed nadav har nyh scylladb.com message nyh scylladb.com reviewed benoã canet benoit scylladb.com,,
995,7ac0b4dbd3fb909536274204c19929f14c6f41a2,adav Har'El <nyh@scylladb.com>, 2017-01-16 16:31:52 +0200,835, dhcp fix wake long irrelevant thread dhcp api set _waiter variable point current thread waiting dhcp response however finish waiting need clear variable otherwise find long time later e.g. spurious dchp packet arrives later waking thread may longer exist bug caused actual random crash described issue 835 fix 835 signed nadav har nyh scylladb.com,,
996,1b0ca8b2db31974c8feba46892cffa92afcf3df5,ergiy Kibrik' via OSv Development <osv-dev@googlegroups.com>, 2017-01-16 11:04:10 +0000, , script setup.py add support ubuntu 16.04 signed sergiy kibrik sergiy.kibrik globallogic.com message 1484564650 2843 git send email sergiy.kibrik globallogic.com,,
997,7ca15b57375d556d8087668557956408d154b4b0,ergiy Kibrik' via OSv Development <osv-dev@googlegroups.com>, 2017-01-16 11:04:09 +0000, , script setup.py separate openjdk version ubuntu move openjdk jdk package distro package list per distro version package newer distros already provide newer jdk signed sergiy kibrik sergiy.kibrik globallogic.com message 1484564650 2843 git send email sergiy.kibrik globallogic.com,,
998,0b89fe4777c6ac4bfd0212fa937ecbc069bd9c83,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-01-15 22:49:19 +0100, , cloud init allow multiple parameter nfs mount option nfs mount option format uid num gid num case mount nfs.so requires replacement whole nfs_server string quoted see also 829 signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si reviewed benoã canet benoit irqsave.net,,
999,b7b0d69c5ddf651e92b8429272390f81bc244bd1,adav Har'El <nyh@scylladb.com>, 2017-01-10 03:32:15 +0200, , test feenableexcept friend test feeenableexcept sigfpe work linux osv signed nadav har nyh scylladb.com message nyh scylladb.com,,
1000,d5cf37af8be57beed4c78c7fa95ac135d96640e8,adav Har'El <nyh@scylladb.com>, 2017-01-10 03:32:14 +0200, , implement feenableexcept friend implement function feenableexcept fedisableexcept fegetexcept non standard glibc function allows controlling fpu event generate floating point exception signed nadav har nyh scylladb.com message nyh scylladb.com,,
1001,08f59b8c65bc0a03fa0027add0b47a8db07b8713,adav Har'El <nyh@scylladb.com>, 2017-01-10 03:40:09 +0200, , add feenableexcept friend fenv.h include api fenv.h copied musl missing function signed nadav har nyh scylladb.com message nyh scylladb.com,,
1002,c63c603c4f869b4d9102c797a0b85c178a6104ba,adav Har'El <nyh@scylladb.com>, 2017-01-10 03:32:13 +0200, , exception support exception simd exception may generated request via feenableexcept trap exceptional fpu case floating point division zero generate sigfpe case code currently incomplete set si_code field exception happend one fpe_fltdiv fpe_fltovf fpe_fltund fpe_fltres fpe_fltinv fpe_fltsub signed nadav har nyh scylladb.com message nyh scylladb.com,,
1003,5f95e2edee41129aab3cb9449e26da082dd1b968,adav Har'El <nyh@scylladb.com>, 2017-01-10 03:32:12 +0200, , signal remove nested signal protection reverts commit aborted nested signal handling signal handler inside signal handler nested signal never strictly impossible even importantly signal handler exited longjmp siglongjmp test code would think still inside handler next signal handler called thi thread abort supposedly nested signal perhaps test redeemed siglongjmp would also clear signal_nesting flag easier remove test signed nadav har nyh scylladb.com message nyh scylladb.com,,
1004,6884a484e2305e2227dc741b973ccfd3960b21bd,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-01-09 23:08:35 +0100,829, cloud init use linux compatible syntax mount previous syntax mount slightly different linux particular first entry tailor made libnfs nfs dir linux string like dir resulted additional complication converting linux code osv fix required conversion inside osv cloud init provided example two option uid 1000 gid 1000 partially functional first option accepted second silently ignored fixed 829 fixed signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
1005,06cc46f3e91090a0eca1681acff982522403b803,ustin Cinkelj <justin.cinkelj@xlab.si>, 2017-01-09 21:48:47 +0100,819, command line allow env runscript multiple script try set environment variable last one win fix 819 signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
1006,6e179ebd9f768bb79d8241753b108c1157c8e0bb,immons C. Player <timmons.player@spirent.com>, 2017-01-04 11:25:32 -0500, , percpu enforce alignment dynamic percpu allocation dynamic memory buffer used percpu allocation congruent requested alignment returned memory actually aligned correctly change force bitmap search start proper alignment signed timmons player timmons.player spirent.com message 1483547132 22868 git send email timmons.player spirent.com,,
1007,dc6e7b9883164dcdbd928e3d7d606af0a5d17edc,immons C. Player <timmons.player@spirent.com>, 2017-01-04 11:25:31 -0500, , align add helper check alignment signed timmons player timmons.player spirent.com message 1483547132 22868 git send email timmons.player spirent.com,,
1008,d9649db10894e74e7e8c1a55e01e5b0758808f9a,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-12-28 23:17:55 +0100,816, dhcp release assigned update dns name want propagate new hostname dns server via dhcp server previously dhcp release followed new dora cycle used update dns name short period time without valid early lease renew new hostname included sent thus doe need stop using assigned address fix 816 signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
1009,932051e42ae1993dc530c2e761cd123234ee2790,adav Har'El <nyh@scylladb.com>, 2016-12-28 22:43:10 +0200, , osv run const correctness variant osv run take argv doe need string array writable since copy std vector anyway take const char const instead char also fix non const string warning tst run.cc signed nadav har nyh scylladb.com,,
1010,394ae72809ccbf866e9439e514279159727ce97c,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-12-28 21:19:49 +0100,823, libc move pthread_barrier separate file nyh noted 823 gcc 4.8 like using redefining file workaround seems compiler bug code using unlock function moved new .cc file fix 823 signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
1011,d415d6761d91a461c24b54f720b74d895addad53,adav Har'El <nyh@scylladb.com>, 2016-12-26 00:04:55 +0200, , loader kill httpserver prematurely commit e270cf9c two year ago well intentioned introduced new bug longer wait background program finish stopping httpserver example command line something like cli cli.so finish quickly wait cli.so finish killing httpserver one user discovered image created script build image java example cli run short lived java example cli work run command httpserver relies already dead patch partially reverts e270cf9c ... keep app registry introduced still separate list background apps started command line wait finish asking httpserver exit signed nadav har nyh scylladb.com message nyh scylladb.com,,
1012,c10db26559ef3b963668d8fee618612b2d142cbe,adav Har'El <nyh@scylladb.com>, 2016-12-26 09:42:46 +0200, , makefile remove space cross compilation prefix space ... ignored result space beginning cross_prefix variable mostly harmless except mkbootfs.py strip pass popen shell like begin space signed nadav har nyh scylladb.com,,
1013,bed71225eaff00beb2c1d9d0f1b1bfeb8b019d80,adav Har'El <nyh@scylladb.com>, 2016-12-26 09:33:53 +0200, , aarch64 fix compilation gcc gcc like member redefined start complaining visibility shortcut want let use auto member revives make arch aarch64 gcc 6.2.1 signed nadav har nyh scylladb.com,,
1014,38700ef44f1a4d626a7c1a4143f4be36714af1c9,adav Har'El <nyh@scylladb.com>, 2016-12-25 23:16:25 +0200, , build possibly use cross compilation strip previous patch script mkbootfs.py started use strip however run makefile allows cross compilation case need use strip instead strip patch export correct strip makefile child use script mkbootfs.py signed nadav har nyh scylladb.com,,
1015,c2a67b89c5a69d23050e0248020eeeeefa67fb7e,adav Har'El <nyh@scylladb.com>, 2016-12-25 15:28:24 +0200, , build strip binary bootfs well patch mkbootfs.py unlike stripping leading unnecessary inflating bootfs patch shared object copied bootfs also stripped example image created script build image httpserver  fix 667 ref 820 signed yuri volchkov iurii.volchkov neclab.eu signed nadav har nyh scylladb.com,,
1016,92c1d8254c00dd2f5aaa9ef9bd12ee0fdce5fb79,adav Har'El <nyh@scylladb.com>, 2016-12-25 15:19:07 +0200,822, build strip binary module dir well stripped binary build directory binary module module httpserver stripped arguably module makefile could strip result convenient keep unstripped binary debugging stripped one image patch extends module apps already existing mechanism uploading file something.so strip something stripped.so uploads patch also ensures even something stripped.so match wildcard independently upload image causing loop patch image generated script build image httpserver reduced ref 822 signed yuri volchkov iurii.volchkov neclab.eu signed nadav har nyh scylladb.com,,
1017,c1c6939dec9ff6b74e13743d45598a56396553f0,ean' via OSv Development <osv-dev@googlegroups.com>, 2016-12-22 02:03:20 -0800, , pthread_barrier add osv specific wait destroy test pthread_barrier patch clean address review comment pthread_barrier patch clean address review comment abridged test output microsec usleep thread round barrier crossing tst pthread barrier.so pthread_barrier patch clean address review comment reformat patch per osv style reformat patch per osv style special return value thread crossed barrier round thread crossed barrier round thread crossed barrier round thread crossed barrier round signed rean rean message 1482401000 9043 git send email rean,,
1018,27965e4bafb9799cf36ce0fe7cf3b3dc473268b8,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2016-12-22 00:20:12 -0500, , changed java test module require module java patch address build issue build command would fail due jdk included script build image java test openjdk8 fedora script test.py name java following build command work script build image java test script test.py name java script build image openjdk8 fedora java test script test.py name java signed waldemar kozaczuk jwkozaczuk gmail.com message 1482384012 20585 git send email jwkozaczuk gmail.com,,
1019,eb30e1ed179baeb6dc377b296f3f31b9e0bd3cae,ick Payne <rickp@rossfell.co.uk>, 2016-12-21 08:36:01 -0400, , add missing signed rick payne rickp rossfell.co.uk message rickp rossfell.co.uk,,
1020,396ed02de00466ccbb2f186b9e4014e73661f0e4,adav Har'El <nyh@scylladb.com>, 2016-12-21 09:33:59 +0200, , update apps submodule particular update various java implementation apps use new java module structure update also fix script build clean signed nadav har nyh scylladb.com,,
1021,19bf18f97de002af0f832bd39bc78b156ceb6371,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2016-12-21 02:01:18 -0500, , move java module java modularize java image build process main goal patch move java related artifact build logic main makefile folder java relevant existing new module goal following minimize module corresponding artifact part default java image modularize runjava accomodate either isolated non isolated mode jar non isolated jar 400k smaller provide managable way build image run java apps isolated non isolated mode without proliferation new module remove mgmt related artifact default java image park new module java mgtm make jolokia related artifact added image httpserver module included make change backwards compatible script build capstan image standard one need change list existing new java related module apps new marked module java base contains common code runjava code module java isolated requires java base provides java cmd build isolated mode specific java.so runjava jar module java non isolated requires java base provides java cmd build non isolated mode specific java.so runjava jar module java cmd requires java isolated act provides necessary default module java module java requires java isolated openjdk7 module java test requires java base module java mgmt parking place cloudius jar jni used obsolete mgmt app module openjdk7 requires java cmd provides java module httpserver requires josvsym httpserver jolokia plugin httpserver jvm plugin java module included apps openjdk8 fedora requires java cmd provides java apps openjdk8 zulu compactn requires java non isolated provides java implictly build non isolated mode apps openjdk9 java base requires java non isolated provides java apps openjdk8 zulu compact3 java bean requires java cmd provides java new module allows building minimal java image 2mb bigger compact3 run java apps example build example java app script build image java example build jre isolated mode script build image java non isolated openjdk7 java example build jre non isolated mode script build image java non isolated openjdk8 fedora java example build jre non isolated mode script build image openjdk8 zulu compact1 java example build jre compact non isolated mode compact java require java non isolated signed waldemar kozaczuk jwkozaczuk gmail.com message 1482303678 23150 git send email jwkozaczuk gmail.com,,
1022,6fc526690ffc3ed8b4c4083dcf8a3192345f185e,adav Har'El <nyh@scylladb.com>, 2016-12-14 18:34:37 +0200, , printf fix prefix musl like posix allows prefix used long double prefix long long int however glibc actually allows type patch change prefix allow type work like linux also add test work saw problem actual application used format worked linux osv osv entire printf happen format parse error fix 818 signed nadav har nyh scylladb.com message nyh scylladb.com,,
1023,666a77f2580309596577bb7aeb2bbb3f2d5a9411,adav Har'El <nyh@scylladb.com>, 2016-12-14 18:34:36 +0200, , move vfprintf.c musl libc copy vfprintf.c musl libc unchanged preperation fixing bug issue 818 signed nadav har nyh scylladb.com message nyh scylladb.com,,
1024,36a7b2c6e31a9e9e4693cff590aa7a1579a8743f,ean' via OSv Development <osv-dev@googlegroups.com>, 2016-12-11 23:24:16 -0800, , ttyname_r ttyname add osv specific ttyname_r ttyname implementation test nodejs prep pt.1 signed rean rean message 1481527456 18774 git send email rean,,
1025,506eb73bf670c847bb29604f166e7650de8d93e0,ean' via OSv Development <osv-dev@googlegroups.com>, 2016-12-07 22:45:12 -0800, , semaphore wait clean stack allocated wait_record timeout add test signed rean rean message 1481179512 22817 git send email rean,,
1026,b556389c44604d6e2d40c0ceb4b735d8bbb8e1e4,ick Payne <rickp@rossfell.co.uk>, 2016-12-04 23:14:00 -0400,815, sendfile try send beyond end file ensure sendfile try send beyond end source file added test ensured result observed linux osv fix 815 signed rick payne rickp rossfell.co.uk message 1480907640 15245 git send email rickp rossfell.co.uk,,
1027,0fa0273cab4708d25cd494a3d85683d14c53b4a7,ick Payne <rickp@rossfell.co.uk>, 2016-12-02 11:38:08 -0400, , return ebusy ebusy signed rick payne rickp rossfell.co.uk message 1480693088 22453 git send email rickp rossfell.co.uk,,
1028,0641a0b4ffbe00d8ed32b284e947b0ee6a56edb4,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-11-29 15:12:22 +0100, , test new pthread inherit parent cpu affinity new pthread cpu affinity requested cpuset attribute explicit cpu pinning requested parent thread cpu pinning used signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
1029,976a9ffec93d85f6ba44a9ec8f9385306bf23647,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-11-29 15:12:21 +0100,761, loader start do_main_thread unpinned main_cont pinned cpu 761 asks pthread_create use caller thread cpu pinning new thread case explicit pinning requested pthread_attr_t fix 761 result new thread pinned cpu includes do_main_thread start cli.so httpserver.so program started httpserver.so also pinned patch explicitly set cpuset do_main_thread cpu pthread_create treat special case warning pinnig one cpu printed instead new thread started unpinned signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
1030,667d9f2048e750326bd1c73b5875e49e97be0d98,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-11-29 15:12:20 +0100,761, libc new thread inherit parent thread cpu pinning fix 761 signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
1031,5290383f3ad5553bc663034b5bd3f770bfbff568,adav Har'El <nyh@scylladb.com>, 2016-11-30 13:05:33 +0200,814, pthread must disabled preemption implementation incorrectly used kernel spinlock implementation disabled preemption inappropriate unnecessary application code ironically commit became completely unusable appliction call spin lock held first call require symbol resolution asserts preemption disabled crash patch fix implementation disable preemption patch also add test case crash patch succeeds fix 814 signed nadav har nyh scylladb.com message 1480503933 8157 git send email nyh scylladb.com,,
1032,b35084b11b131d945e00a8ec35d265bd56919241,adav Har'El <nyh@scylladb.com>, 2016-11-29 00:52:29 +0200, , update apps submodule signed nadav har nyh scylladb.com,,
1033,f5b941783a4b10298707e2e3be9485c2e4ca3be7,ick Payne <rickp@rossfell.co.uk>, 2016-11-28 11:57:02 -0400, , shmget handle call non existant object without ipc_creat signed rick payne rickp rossfell.co.uk message bc16e713 0cdd 421f b2fb 0f89390df025 rossfell.co.uk,,
1034,7ea953ca7d6533c025e535be49ee5bd2567fc8f3,adav Har'El <nyh@scylladb.com>, 2016-11-24 17:35:09 +0200, , malloc make easier debug ridiculous allocation explained issue 585 application malloc attempt fails lack memory abort inside reclaimer thread making hard debug application oom actually happened patch solve whole problem solves important special case application try allocate ridiculous amount larger entire memory patch abort happen allocation attempt making easy debug application wrongly sized malloc signed nadav har nyh scylladb.com message 1480001709 673 git send email nyh scylladb.com,,
1035,fb96e559bda4af683b0a57898b75849ab61c6242,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-11-22 15:32:49 +0100, , command line allow runscript multiple line signed justin cinkelj justin.cinkelj xlab.si message 1479825169 15499 git send email justin.cinkelj xlab.si,,
1036,532633d693b4548f0bcab0f6c71b2fbff77015e0,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-11-22 15:32:48 +0100, , command line allow multiple command per runscript file extend runscript allow file content like prog1 prm1 prog2 prm2 test included signed justin cinkelj justin.cinkelj xlab.si message 1479825169 15499 git send email justin.cinkelj xlab.si,,
1037,55d87839926e555610b1225635f2f4108873eec2,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-11-22 15:32:47 +0100, , test add test commandline runscript option also double return false removed one function signed justin cinkelj justin.cinkelj xlab.si message 1479825169 15499 git send email justin.cinkelj xlab.si,,
1038,ac7bf9ff1db0fc27526f45d6d2ae2a3dd2f4d8b4,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-11-22 15:32:46 +0100, , command line run simple script runcript option added command line parser allow running simple one line script say image file named zpool list content zpool.so list run.py runscript zpool list cli cli.so equivalent run.py zpool.so list cli cli.so usecase patch example hdfs one java program run one namenode multiple datanodes whish provide convinient shortcut selection two distinc java commandline parameter put required parameter two script like file user select one need arose using osv openstack build image capstan build time know purpose serve e.g namenode datanode pre prepared run configuration script ensure correct mandatory parameter supplied sync namenode datanodes signed justin cinkelj justin.cinkelj xlab.si message 1479825169 15499 git send email justin.cinkelj xlab.si,,
1039,ee8d4251bcc4225186e58e6322e831e33a4c7276,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-11-24 21:28:54 +0100, , dhcp remove dns resolvers dhcp release send signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
1040,0593bcde9d1651d0d99856b4b22f4005218cb536,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-11-24 21:28:53 +0100, , dhcp remove interface dhcp release send currently dhcp release send removed still responding ping etc fix removing iface in_control siocdifaddr ... called stop_if also remove route corresponding iface signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
1041,964166756c134dd21b7bd626f8cc2dc3c63d5bcd,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-11-23 15:43:11 +0100, , cloud init trigger dynamic dns update hostname change cloud init change hostname dns name updated try releasing dhcp lease requesting new lease new name instructs dhcp server perform dynamic dns update dns update succeed new name already claimed obviously dhcp dns server need support dynamic dns update dhcp_worker init split two part init start discovery resend logic reused signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
1042,66d8f0bf3c144877a219f5fa6af768fa26f97e71,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-11-23 14:27:45 +0100, , dhcp set src dest dhcp release packet dhcp release packet valid header need use inaddr_any src dest address signed justin cinkelj justin.cinkelj xlab.si message justin.cinkelj xlab.si,,
1043,dd5bfcb5cfcba9be664e1f2d95c388b9981c7312,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-11-22 16:52:46 +0100,557, dhcp send dhcp release shutdown release packet need contain client server stored dhcp ack received shutdown interface dhcp address release dhcp code doe properly wait udp packet actually put wire simple usleep used hopefully wait long enough see also 557 720 signed justin cinkelj justin.cinkelj xlab.si message 1479829966 26491 git send email justin.cinkelj xlab.si,,
1044,e1630347ace75a911243b3d005bb09564f72f6fd,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-07-05 09:22:05 +0200, , return list thread given application signed justin cinkelj justin.cinkelj xlab.si message 1467703325 17598 git send email justin.cinkelj xlab.si,,
1045,beb9a813d46664cac4603723a8bb3602089ee2d2,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-11-17 16:06:53 +0100, , cloud init use hostname yaml file previously cloud init set hostname ec2 gce used source ignored hostname specified via yaml file image commit fix hostname set via yaml file example cloud init.yaml file updated commented example setting hostname nfs mount signed justin cinkelj justin.cinkelj xlab.si message 1479395213 14565 git send email justin.cinkelj xlab.si,,
1046,1cf8972d61208df14843ca5b5e589811cf8e3024,adav Har'El <nyh@scylladb.com>, 2016-11-17 14:01:58 +0200, , dhcp ignore empty hostname dhcp server doe send back hostname existing code called sethostname empty host name signed nadav har nyh scylladb.com,,
1047,4709f1e8a96572946e9abd0878fd8757c1920aee,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-11-16 19:42:22 +0100, , dhcp propose hostname dhcp server send hostname dhcp server give dhcp server option update dns server usecase assumes hostname set descriptive unique value say via cloudinit dhcp discover request cloudinit usually requires functional networking possible networking case additional dhcp discover request cycle forced cloudinit supplied name would propagated immediately implemented signed justin cinkelj justin.cinkelj xlab.si message 1479321742 11967 git send email justin.cinkelj xlab.si,,
1048,4624ae6b0170468e60fdf3d755a2f4dd204c6f9f,adav Har'El <nyh@scylladb.com>, 2016-11-17 12:05:19 +0200, , rng ignore zero byte sent entropy source get zero byte entropy source obviously nothing input clear really ignores zero byte expected let explicitly ignore input signed nadav har nyh scylladb.com message 1479377119 18146 git send email nyh scylladb.com reviewed pekka enberg penberg scylladb.com,,
1049,e0a0afd9f7f5b5b416adac98d0a9765544fff898,adav Har'El <nyh@scylladb.com>, 2016-11-17 10:39:05 +0200,805, virtio rng hang waiting entropy random_kthread loop try get entropy source including ring internal event feed entropy pool sleep bit try infinitum read function one entropy source block entire random_kthread block none entropy source get used even internal one bad example one entropy source block boot none plenty internal random event happen boot get used user application dev urandom startup get blocked entropy pool filled read function live entropy source never block fact comment suggests quick since live entropy source entropy source point provide entropy return zero byte instead blocking caller find random byte source want wait specific source virtio rng read function wait random byte provide whatever byte right fix 805 signed nadav har nyh scylladb.com message 1479371945 17239 git send email nyh scylladb.com reviewed pekka enberg penberg scylladb.com,,
1050,6eb48ee9c457f1aacf813e57090a8c1cc53aaab4,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-10-18 10:42:41 +0200, , cloud init mount specified mountpoints cloud init allows specify mountpoints via configuration commit implement actual mount action nfs mountpoints assumed far also supported filesystem signed justin cinkelj justin.cinkelj xlab.si message 1476780161 7282 git send email justin.cinkelj xlab.si,,
1051,09281071d64436c0f86a126537d84a8a703804f3,adav Har'El <nyh@scylladb.com>, 2016-11-03 14:31:12 +0200, , update apps latest version signed nadav har nyh scylladb.com,,
1052,01c6edc1c6001444328fe439d17b2f689d5c41d8,adav Har'El <nyh@scylladb.com>, 2016-11-02 15:00:57 +0200, , update apps latest version signed nadav har nyh scylladb.com,,
1053,bee9421617a4f812b49ada00e83127bb112f4499,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2016-10-20 22:05:05 +0000,804, modifed runjava class support running java apps added switch display java classloader diagnostic information bulk change part patch modifying runjava java.cc runjava class loaded system classloader instead extension classloader deprecated java removed java way osv run java application java jre demostrated seperate patch following change part commit added number missing permission appclassloader load application class isolated mode see issue 804 added utility class determine classloader along parent used load individual class added handling switch multijarloader runjvmapphelper show classloader security information added intended non isolated mode application like tomcat rely standard java logmanager jul properly initialize logging changed java.cc set jvm system classpath java runjava.jar set relevant classloader depending mode added java.policy make runjava.jar permission loaded extension classloader matter security manager enabled see derby changed module java module.py place runjava java runjava.jar instead jre extension folder fix 802 fix 803 fixed 804 signed waldemar kozaczuk jwkozaczuk gmail.com message 1477001105 1698 git send email jwkozaczuk gmail.com,,
1054,3ab8dd46ff8c32e9b610b02ea729c16a071f0ce7,adav Har'El <nyh@scylladb.com>, 2016-11-02 14:18:00 +0200, , update apps latest version signed nadav har nyh scylladb.com,,
1055,f0bb5c24d5ba00a7418b1bf5a46043ce2c12eae5,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2016-10-14 20:13:05 +0000,800, support building running java apps non isolated mode added new java non isolated module refactored script module.py provide isolated_jvm way build run java apps isolated old default non isolated mode non isolated mode get enabled module.py detects selected java module provides java following attribute set true like true example build image isolated jvm default script build image java java example example build image non isolated jvm script build image java non isolated java example fix 800 signed waldemar kozaczuk jwkozaczuk gmail.com message 1476475985 1980 git send email jwkozaczuk gmail.com,,
1056,2d8d39c357a00ab9e3b119a39514a29a73c50e28,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2016-10-14 04:44:56 +0000, , reformatted java runjava java test signed waldemar kozaczuk jwkozaczuk gmail.com message 1476420296 4125 git send email jwkozaczuk gmail.com,,
1057,03cc06a52188385c638e5f2f57a705314c73da6b,adav Har'El <nyh@scylladb.com>, 2016-10-26 18:36:16 +0300, , test getifaddrs add rudimentary test getifaddrs test example two loopback interface one af_inet one af_packet test run osv linux additionally print information available interface useful manual testing signed nadav har nyh scylladb.com message 1477496176 4706 git send email nyh scylladb.com,,
1058,480668d8b96a04e48f73f1061e0716e864f08cb9,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2016-10-27 14:07:02 +0200,798, syscall restore rflag syscall handled syscall assembly instruction save x64 flag register rflag r11 sysret instruction restore since osv syscall hander doe use sysret since switch privilege level must restore rflag final jump doe pushing r11 stack using popfq restore rflags fix 798 signed benoã canet benoit scylladb.com message 1477570022 14541 git send email benoit scylladb.com signed nadav har nyh scylladb.com,,
1059,71d8fd21727830ebe29bddf797c2c7e40d0349be,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2016-10-27 14:07:01 +0200,798, syscall save restore fpu state syscall issue 798 explains application floating point function also call syscall instruction compiler realize need save caller saved floating point state think call x86 instruction function need saving syscall implementation calling osv function might clobber fpu state patch fpu_lock work saving restoring fpu state case fix actually needed rare fact never saw practice application fact mix fpu use syscall calling single function nevertheless add safe case application ever doe unfortunately extra fpu saving mean slow every syscall instruction note slows syscall instruction application use golang notable exception doe slow normal osv abi call system call ordinary function also slow vdso abi golang instead syscall system call supposed really quick signed benoã canet benoit scylladb.com message 1477570022 14541 git send email benoit scylladb.com signed nadav har nyh scylladb.com,,
1060,75900f6cf5e9aad755d463018d0593531f01916c,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2016-10-27 14:07:00 +0200, , add missing syscalls running hello world signed benoã canet benoit scylladb.com message 1477570022 14541 git send email benoit scylladb.com signed nadav har nyh scylladb.com,,
1061,e9f12c3f35aa22db1c947690e5049b52b6246381,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2016-10-26 14:32:34 +0200, , libc getifaddrs also return ifaddrs ether address patch osv getifaddrs return network interface single entry af_inet address family sockaddr_in address type linux getifaddrs return additional entry interface af_packet address family sockaddr_ll address type sockaddr_ll structure link level contains mac address interface code expects find interface see issue 787 patch add list af_inet interface fix 787 signed benoã canet benoit scylladb.com signed nadav har nyh scylladb.com message 1477485154 13682 git send email benoit scylladb.com,,
1062,41fc1499ed9cdf4f876135a723e5b0fa98453161,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2016-10-26 14:32:33 +0200, , libc getifaddrs extract use code need allocate twice much ifaddr_storage structure able return mac address ifaddrs structure signed benoã canet benoit scylladb.com message 1477485154 13682 git send email benoit scylladb.com,,
1063,631addc81b49ac968adb619e180ae1c3a166b390,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2016-10-26 14:32:32 +0200, , libc move getifaddrs.c musl libc signed benoã canet benoit scylladb.com message 1477485154 13682 git send email benoit scylladb.com,,
1064,ca7b47232671071edf1e87d9ad410e88fda40443,immons C. Player <timmons.player@spirent.com>, 2016-09-09 14:19:31 -0400, , uipc_socket.cc prevent use free bug simultaneously closing socket network user space side trigger use free bug change existing socket reference counting mechanism prevent socket freed function completed signed timmons player timmons.player spirent.com message 1473445171 17551 git send email timmons.player spirent.com,,
1065,74543fc182354eb495ce46bafe37c8d0cdaea317,immons C. Player <timmons.player@spirent.com>, 2016-09-20 09:23:00 -0400, , memory prevent array overflow page buffer pool high level memory page churn array page page buffer pool overflow overwrite data adjacent memory page change verifies indeed enough room add page pool additionally change limit page pool size management fill thread call refill unfill minimum amount work necessary continue signed timmons player timmons.player spirent.com message 1474377780 32583 git send email timmons.player spirent.com signed nadav har nyh scylladb.com,,
1066,3c4d155cc1e398575453537cfa7d65512e4eb20b,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2016-09-21 03:38:21 +0000, , fix wrong full name multijarloader class jvm api module.py signed waldemar kozaczuk jwkozaczuk gmail.com message 1474429101 3714 git send email jwkozaczuk gmail.com signed nadav har nyh scylladb.com reviewed tomasz grabiec tgrabiec scylladb.com,,
1067,6bac9a0ab1258953545cc8abfd5dc0752f54243e,adav Har'El <nyh@scylladb.com>, 2016-10-05 18:42:25 +0300, , run.py add port redirection ssh osv doe include default ssh server long time forwarding guest port port 2222 guest pretty pointless generates annoying message issue 781 signed nadav har nyh scylladb.com,,
1068,8ebf43bc4f4a300cdd7b5e7855602bdb8485978d,adav Har'El <nyh@scylladb.com>, 2016-10-05 18:33:18 +0300, , update apps submodule signed nadav har nyh scylladb.com,,
1069,c9e5af6deef6ef9420bdf6437f8c34371c8df4e9,adav Har'El <nyh@scylladb.com>, 2016-09-19 14:50:08 +0300,143, sched allocate sched thread object heap issue 790 timmons player discovered something dangerous stack sched thread object application stack may mmap scheduler need access application mmap memory area access potentially sort problem e.g. page fault scheduler although practice issue 143 precludes concretely lazy tlb flush code added commit 7e38453 mean scheduler may see old page application mmap page work sched thread mmap area patch prevents stack sched thread construction hiding constructor allowing thread created function sched thread make ... creates object heap patch long contains following type change change sched.hh hide sched thread constructor instead offer sched thread make ... function every class used sched thread member replaced std unique_ptr sched thread member one casualty change class used hold sched thread member hold sched thread pointer use extra allocation indirection even know sure containing object always allocated heap case pthread.cc pthread _thread example worked around making exceptional class friend sched thread able use hidden constructor decided tiny performance benefit important enough make exception every place used new sched thread ... create thread sched thread make ... instead sadly longer allow new sched thread ... although nothing wrong disabling constructor also disables new expression one test misc wake.cc run default anyway named misc commented relied creating thread object mmap area one place modified rcu_flush whose stack sched thread object caused issue 790 fix 790 signed nadav har nyh scylladb.com,,
1070,8f82c9380ce927cb0813e03b8dbd184f782ae811,adav Har'El <nyh@scylladb.com>, 2016-09-14 09:05:12 +0300, , update apps submodule signed nadav har nyh scylladb.com,,
1071,0e13562f8ebb90f66fb1f24324099526f87d9dfc,enoit Canet <benoit.canet.contrib@gmail.com>, 2016-08-30 14:00:02 +0000, , signal make room 64th signal last signal list enough room signal number start make room sigaction fail lib execute reviewed benoã canet benoit scylladb.com message 1472565602 9330 git send email benoit scylladb.com,,
1072,332692b35cb655e68484a5deee2bc01bc1239ab3,adav Har'El <nyh@scylladb.com>, 2016-08-30 12:55:45 +0300, , syscall fix gdb support cfi code syscall_entry still perfect sorry ... application fomit frame pointer rbp set caller tell cfi restore caller rsp need trickery backtracing crash system call gdb possible hope case failed previously signed nadav har nyh scylladb.com,,
1073,e33ac4ebe759b5da576fe32b96ad28380fb36971,adav Har'El <nyh@scylladb.com>, 2016-08-30 01:08:13 +0300, , syscall change stack alignment trick stack alignment trick used syscall_entry worked cfi code actually wrong worked certain alignment others get gdb work either stack alignment case needed move place alignment trick end beginning gdb see rsp end push calculate back stored register without caring moved stack beginning really funky appears work functionally gdb signed nadav har nyh scylladb.com,,
1074,2a6c87d0d4493b0d136c6a315b7b6162a32d1f98,adav Har'El <nyh@scylladb.com>, 2016-08-29 23:47:18 +0300, , syscall fix cfi information debugging gdb gdb dwarf cfi meta instruction know backtrace function call frame register get saved patch fix cfi instruction syscall_entry assembly code patch system call code backtrack syscall_entry example syscall_wrapper number 186 linux.cc 332 syscall_entry arch x64 entry.s 238 main argc argv optimized home nyh osv test tst syscall.cc osv application run_main path test tst syscall.so argc argv core app.cc 338 note syscall_entry look like normal function longer pretend signal frame particular longer need obey specific layout register saved stack took opportunity remove useless thing saved like rax overwritten return value anyway saved multiple time rcx rsp signed nadav har nyh scylladb.com message 1472503638 5362 git send email nyh scylladb.com,,
1075,1cdc140876ac152feb6357b16570187ce0ead781,adav Har'El <nyh@scylladb.com>, 2016-08-29 23:47:17 +0300, , syscall fix indentation mishmash entry.s functional change signed nadav har nyh scylladb.com message 1472503638 5362 git send email nyh scylladb.com,,
1076,499b9433ae748b6c04dedc2125ea17010ffbdaf1,adav Har'El <nyh@scylladb.com>, 2016-08-29 17:14:49 +0300, , syscall skip red zone amd64 abi allows function use 128 byte beyond bottom stack without updating stack pointer optimization known red zone function call another function supposed update stack pointer first syscall instruction aware end calling function implementation syscall need skip 128 byte stack may used caller red zone making use stack able reproduce failure without patch believe necessary signed nadav har nyh scylladb.com message 1472480089 10155 git send email nyh scylladb.com,,
1077,4f082693e4d28fc1153e6e998f10a4b213300041,adav Har'El <nyh@scylladb.com>, 2016-08-29 17:56:09 +0300, , pthread fix compilation arm reason pthread_key_t unsigned int arm int x86 causing compilation warning int unsigned comparison arm type unsigned int like linux signed nadav har nyh scylladb.com,,
1078,844e87f10202906d8846d27fd3d940f46fd2e56a,adav Har'El <nyh@scylladb.com>, 2016-08-28 15:29:22 +0300, , osv run run pthread tsd destructors resetting app runtime change osv run friend reuse calling thread rather start new one run new shared object introduced new problem new shared object may use add destructors run closing thread currently global list destructors added never get removed even object unloaded danger osv run run code add destructors allocates data program unloaded thread exit destructors run later crash trying run destructor pointing already deleted code previously problem osv run new thread exited ran destructors reference counter application dropped shared object unloaded hacky workaround added patch run application start_and_join used osv run application run_and_join osv_execve new function run destructors assumes thread starting run function thread specific data would deleted hack good enough use case like osv_execve anyway fresh thread running application signed nadav har nyh scylladb.com message 1472387362 11913 git send email nyh scylladb.com,,
1079,4b46ebecc29491e776f8aebf92a1d12d7d10a902,adav Har'El <nyh@scylladb.com>, 2016-08-28 16:02:51 +0300, , pthread implement implement currently mark key available use danger allowing use leave data key manpage explains happens get new destructor running old unrelated data great side using key current implementation limited 128 key run patch make worse signed nadav har nyh scylladb.com message 1472389371 13580 git send email nyh scylladb.com reviewed benoã canet benoit scylladb.com,,
1080,54d9165ce998e7d7db5b55f22db40ff6e3f3e727,adav Har'El <nyh@scylladb.com>, 2016-08-29 15:42:16 +0300, , syscall save also rbp align stack saving restoring rbp register cause tst syscall crash debug build patch debug build test longer crash save rbp let kill two bird one stone also enable backtrace_safe e.g. abort syscall_entry function correctly need set old style frame pointer mean need push stack return address get rcx old rbp set rbp rsp extra complication adding odd number byte item stack make debug build test longer byte aligned according abi stack must byte aligned calling function syscall_wrapper debug build fpu saving code make assumption crash add patch also code align stack byte calling function use nice trick without using another register signed nadav har nyh scylladb.com message 1472474536 31851 git send email nyh scylladb.com,,
1081,dc0eab192ab3e45cb13bb70b7497ec52c0d0a71f,adav Har'El <nyh@scylladb.com>, 2016-08-29 14:52:24 +0300, , syscall set syscall_entry symbol size non zero readelf dyn syms syscall_entry symbol appears zero size cause print_backtrace code display name syscall_entry backtrace code appears inside symbol probably need assembly function well one bothered signed nadav har nyh scylladb.com message 1472471544 26676 git send email nyh scylladb.com,,
1082,93ce1c9386061df039f3ea65d68307f92cb51831,enoit Canet <benoit.canet.contrib@gmail.com>, 2016-08-29 13:10:02 +0000, , syscall implement rt_sigprocmask next syscall required hello world signed benoã canet benoit scylladb.com message 1472476202 25587 git send email benoit scylladb.com,,
1083,5332297a7b96172e1b212bbf34fb45d5ae605c3a,enoit Canet <benoit.canet.contrib@gmail.com>, 2016-08-29 13:06:19 +0000, , syscall implement rt_sigaction one first syscall used binary kernel syscall custom layout must convert forth back libc signed benoã canet benoit scylladb.com message 1472475979 24981 git send email benoit scylladb.com,,
1084,ac9312f91c597994e17d5116d783e4756135bc61,adav Har'El <nyh@scylladb.com>, 2016-08-29 12:49:13 +0300, , partial fix syscall instruction need set lstar msr friend processor enough processor otherwise system call instruction always fails happens run vcpu first one patch tst syscall pass machine release compilation single vcpu run.py many debug build patch still fails fix make work ref 791 signed nadav har nyh scylladb.com message 1472464153 3523 git send email nyh scylladb.com signed pekka enberg penberg scylladb.com,,
1085,c2fd3e80a6b64f305d57deafff00ea36d124bcc3,adav Har'El <nyh@scylladb.com>, 2016-08-28 21:21:57 +0300, , tst syscall minor improvement ensures tst syscall test syscall instruction actually test something beyond crashing aspect also use __nr_gettid macro instead bare number couple cosmetic improvement signed nadav har nyh scylladb.com,,
1086,8430c7a743a6fba773ca6f0fcedeb050a99c378a,enoit Canet <benoit.canet.contrib@gmail.com>, 2016-08-28 15:24:04 +0000, , test add gettid syscall test call gettid inline asm print result signed benoã canet benoit scylladb.cm message 1472397844 14376 git send email benoit scylladb.com,,
1087,66d57b9f48d9e8c5155dfc1a648b2cfdb863bc99,enoit Canet <benoit.canet.contrib@gmail.com>, 2016-08-28 13:01:08 +0000,590, x64 syscall instruction support enable fast system call via syscall instruction osv instruction used program linux x86 system call fix 590 signed pekka enberg penberg scylladb.com signed benoã canet benoit sylladb.com message 1472389268 11004 git send email benoit scylladb.com,,
1088,9cfe7fa09408dbf9575ab7904ae87df71e0fce9f,adav Har'El <nyh@scylladb.com>, 2016-08-25 13:41:57 +0300, , rfc osv_execve wait app_runtime set patch make osv_execve wait little bit longer returning thread return set also thread new app_runtime set thought least dozen way uglier next ended solution considered least ugly still pretty ... osv_execve application run_and_join directly instead trivial osv run wrapper run_and_join function received new parameter waiter object wake app_runtime set osv_execve wait object use waiter idiom see wait_record.hh ensure parent thread running osv_execve request waiting child thread running run_and_join waking caveat emptor osv_execve return returned thread expected new app_runtime however application exit run_and_join restores previous app_runtime becomes visible brief period thread exit fixing require yet another ugly workaround wanted ask first whether actually problem know use case signed nadav har nyh scylladb.com message 1472121717 2972 git send email nyh scylladb.com,,
1089,bd46dd0836325443194c51b6d6c276cb317ee2ec,adav Har'El <nyh@scylladb.com>, 2016-08-28 12:46:09 +0300, , update apps submodule signed nadav har nyh scylladb.com,,
1090,41c6e62b1a2bbcd80fad94ffa5fbe7345ad0016a,adav Har'El <nyh@scylladb.com>, 2016-08-24 00:13:04 +0300, , osv run also restore thread name application start_and_join therefore osv run run new application thread application end thread resume restore information application running forgot also restore thread name application main override patch fix signed nadav har nyh scylladb.com,,
1091,9a3066c91d449553fe7eceb79db267efdd5555f8,adav Har'El <nyh@scylladb.com>, 2016-08-23 11:52:58 +0300, , test test osv run add simple test osv run test try run verifies run thread new thread needlessly created also check return code returned expected running non existant object fails exception expected signed nadav har nyh scylladb.com message 1471942378 19972 git send email nyh scylladb.com,,
1092,550ad08f8867b0734d96adc2729178d91f77de71,adav Har'El <nyh@scylladb.com>, 2016-08-23 01:00:12 +0300, , osv_execve fix race setting returned thread osv_execve promise return new thread given pointer actually let new thread set osv_execve may return new thread got run set fix patch osv_execve wait variable set returning signed nadav har nyh scylladb.com message 1471903212 13623 git send email nyh scylladb.com,,
1093,93822f5fa0a8e2a20eba20fa595d69befde6ad6f,adav Har'El <nyh@scylladb.com>, 2016-08-22 15:05:29 +0300, , osv run create new thread osv run api wait program started complete really need start new thread could run program existing thread yet doe create new thread application run api start new application return caller immediately therefore must create new thread patch add new method application run_and_join like application run followed application join except control doe return caller need new thread osv run new application run_and_join osv_execve suffered unnecessary thread actual application code doe run thread returned rather child thread patch return right thread signed nadav har nyh scylladb.com message 1471867529 2741 git send email nyh scylladb.com,,
1094,d88b6adcbc6a60eb3c9287ff4db48bab8f25f263,adav Har'El <nyh@scylladb.com>, 2016-08-21 18:25:18 +0300, , update apps add golang example work yet might useful debugging signed nadav har nyh scylladb.com,,
1095,e9292855ee2f6e56bb4e63418a924423fcab9486,adav Har'El <nyh@scylladb.com>, 2016-08-21 12:53:11 +0300, , script test.py forgive old file build directory patch fix failure report jenkins build machine includes build directory make clean month test.py currently find list test run listing file build release test test image makefile module test makefile actually put everything directory test image rather list test test get listed usr.manifest therefore put image decide delete one test happened commit make clean old compiled test remain build release test get included image test.py fail try run commit problem benign test.py used ignore missing object file longer doe need solve problem solution test.py take list test image usr.manifest used build signed nadav har nyh scylladb.com,,
1096,927b41abcb483bc5a5ff8c73f4139f2086c8064e,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-08-18 14:30:09 +0200, , libc add cpu_count_s cpu set allocated dynamically cpu_alloc_size processed set macro e.g cpu_count_s instead cpu_count open mpi dynamic cpu set hence need implement macro cpu_count_s actually needed one implemented setaffinity function missed use cpu_count_s possibly dinamically allocated cpu set fixed ref 776 signed justin cinkelj justin.cinkelj xlab.si message 1471523409 24235 git send email justin.cinkelj xlab.si signed nadav har nyh scylladb.com,,
1097,c2f1de4eb17ec25f9979e19fca77f510063b04f5,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2016-08-19 04:28:59 +0000, , fix failing changed guest class testing.py allow conditional detection failed load object error need handled differently test_tracing.py close 788 signed waldemar kozaczuk jwkozaczuk gmail.com message 1471580939 19147 git send email jwkozaczuk gmail.com signed nadav har nyh scylladb.com,,
1098,785e57e60969e25c19c87ad1b922ad9b66428c0e,aldemar Kozaczuk <jwkozaczuk@gmail.com>, 2016-08-12 16:01:17 +0000,497, provide alternative java.so start jvm without classloader log manager isolation order run jre compact profile order run jvm app using compact profile jre java bootstrap code runjava depend java.beans part compact profile specifically runjava depends cglib asm java library manipulate bytecode rely java.beans therefore change part commit essentially allow bootstrap jvm app one two mode old one provides classloader jul log manager isolation potential multiple apps runjava code apps possibly target multi apps single jvm osv requires full jre new one doe provide classloader jul log manager isolation target single main method apps jvm osv allows using compact profile following change part commit added io.osv.isolated package java runjava refactored contextisolator create jvm nonisolatedjvm isolatedjvm class changed java.cc makefile support producing two executable old java.so run multiple jvm apps isolated fashion class loader log manager etc new run single jvm app without isolation former one changed java jvm java.cc print java class bootstrap isolated nonisolated one fixed makefile properly handle building added module java test usr.manifest added test test.py modified testing.py detect failure start .so added unit test test running non isolated jvm app test isolates fix 497 signed waldemar kozaczuk jwkozaczuk gmail.com message 1471017677 4249 git send email jwkozaczuk gmail.com signed avi kivity avi scylladb.com,,
1099,f53c0c397a0dfc6cf8048d423c5d744d10a66a9a,adav Har'El <nyh@scylladb.com>, 2016-08-10 22:35:22 +0300, , script setup.py add support fedora add support setup.py installing prerequisite package fedora appears list fedora work also fedora signed nadav har nyh scylladb.com message 1470857722 5639 git send email nyh scylladb.com,,
1100,e527e3296a3ec38b00dd3fed577113ec7372d706,adav Har'El <nyh@scylladb.com>, 2016-08-10 02:23:20 +0300, , net allow siocgifbrdaddr even without iff_broadcast linux one may query even network interface broadcast flag siocgifbrdaddr example loopback interface doe flag yet linux one may query broadcast address fail interface address returned trying query broadcast address interface without one useful unfortunately musl getifaddrs implementation doe assumes non point point interface broadcast address wrong loopback interface linux graceful compatible linux patch previous patch another ioctl getifaddrs work fix 783 signed nadav har nyh scylladb.com message 1470785000 22927 git send email nyh scylladb.com,,
1101,c4df1043285b7597709f5199d619658909a22794,adav Har'El <nyh@scylladb.com>, 2016-08-10 01:08:15 +0300, , fix if_nameindex if_nameindex implementation got musl based various ioctls explained netdevice manual page explains ioctls used socket file descriptor regardless family type unfortunate musl implementation chose create unix domain socket currently supported osv see issue 355 changing code use af_inet instead af_unix make work correctly signed nadav har nyh scylladb.com message 1470780495 10772 git send email nyh scylladb.com,,
1102,cd4973af32e59bdca156b404b78c7b361f9ea77f,adav Har'El <nyh@scylladb.com>, 2016-08-10 00:53:20 +0300, , fix siocgifconf ioctl zero size siocgifconf ioctl socket explained netdevice say given ifc_len field small hold returned data kernel return partial data success passing ifc_len also although useful existing code returned einval musl if_nameindex code call ioctl increasing ifc_len starting need patch fail first iteration loop signed nadav har nyh scylladb.com message 1470779600 10405 git send email nyh scylladb.com,,
1103,fffb2fee76919476d570a405dd721e3acf12d9e9,adav Har'El <nyh@scylladb.com>, 2016-08-09 18:22:33 +0300, , delete libc network getifaddrs.c file libc network getifaddrs.c used makefile using one musl working anyway issue 783 signed nadav har nyh scylladb.com message 1470756153 26310 git send email nyh scylladb.com,,
1104,657717c89e065cb825c82d2fd3e6eaa8e734054f,adav Har'El <nyh@scylladb.com>, 2016-08-08 00:12:15 +0300,779, test add missing library boost using test unit test use boost filesystem library past added every image starting commit 8693761 longer add library every image need explicitly add test image test like tst rename.so example fail missing boost filesystem symbol fix 780 ref 779 signed nadav har nyh scylladb.com,,
1105,ab3472717f13b224ddffebc33efb083cff11a791,adav Har'El <nyh@scylladb.com>, 2016-08-07 22:53:28 +0300, , sched make sched thread_map great hnon static commit 7a6cdd3b cleaned type sched thread_map among thing made static osv code outside sched.cc map unintended side effect gdb longer able find variable python function broke osv info thread command gdb also broke one osv test gdb script test.py name dropping static fix problem fix 772 signed nadav har nyh scylladb.com,,
1106,5df1eeea47e511f083494fe94b1a2ba0edfffa7d,adav Har'El <nyh@scylladb.com>, 2016-08-07 22:33:40 +0300, , script build fix check exit code script build check make check build osv test run using script test.py test.py correctly return failed non zero exit code one test failed turn script build lost exit code causing script build check make check always appear succeed example jenkins noticed test failing reported issue 779 signed nadav har nyh scylladb.com,,
1107,49fc4deac34481b80aa1efe5c830d0ebb65c23ab,adav Har'El <nyh@scylladb.com>, 2016-08-03 20:27:06 +0300,775, socket fix recvmsg function recvmsg function bug internal implementation modified iovecs receives keep track much read unexpected caller example issue 775 exactly bug gather scatter function readv writev sendmsg fixed commits    respectively interestingly sendmsg already fixed recvmsg  fix problem way commits making temporary copy iovec array calling internal code mess patch also add test sendmsg recvmsg pass linux failed osv patch pass osv fix 775 signed nadav har nyh scylladb.com reviewed benoit canet benoit scylladb.com message 1470245226 7199 git send email nyh scylladb.com,,
1108,cb59dade113c7da21fc4e32784add13a1851b703,adav Har'El <nyh@scylladb.com>, 2016-08-03 18:27:30 +0300, , libc thread support thread current thread patch add support also since function behave almost patch creates single function call note return value differ though follows pthread tradition return error directly follows unix tradition return error errno fix 776 signed nadav har nyh scylladb.com message 1470238050 25706 git send email nyh scylladb.com,,
1109,7f12b5cb01227855cf3ba1eb53899b0fa339c704,adav Har'El <nyh@scylladb.com>, 2016-08-03 18:27:29 +0300, , libc improve implementation problem unpinned thread might appear pinned temporarily holding migration_lock starting commit actually tell situation apart deliberate pin vs. temporary migration lock let start using ref 776 signed nadav har nyh scylladb.com,,
1110,705f9cf96cd47a5e0916e2d8641a0ab1d2743c8c,adav Har'El <nyh@scylladb.com>, 2016-08-03 18:27:28 +0300, , libc thread starting commit support thread current thread patch add support also since function behave almost patch creates single function call note return value differ though follows pthread tradition return error directly follows unix tradition return error errno ref 776 signed nadav har nyh scylladb.com,,
1111,066bb1f4c1e2416aa37f3d391804aa8a7bf214c8,adav Har'El <nyh@scylladb.com>, 2016-08-03 18:40:25 +0300, , libc fix setaffinity cpusetsize handling cpusetsize low code incorrectly looked beyond end array found random bit usually complained one set use correct set size specified user fix 771 signed nadav har nyh scylladb.com message 1470238825 26256 git send email nyh scylladb.com,,
1112,c468fb98a831ed64fb5feadb9ab71f30e2ae3295,adav Har'El <nyh@scylladb.com>, 2016-07-27 17:14:59 +0300, , libc thread previously supported working current thread patch use new sched thread pin thread cpu support pinning thread well fix 520 signed nadav har nyh scylladb.com message 1469628899 5537 git send email nyh scylladb.com,,
1113,a2d03f8b2b8004a43dde625cfbaf8fe3cdb84cdd,adav Har'El <nyh@scylladb.com>, 2016-07-27 17:14:58 +0300, , sched test pin thread cpu add test pin ing thread different thread attempted capture edge case pin running thread sleeping thread thread often migrate disable state pinning cpu thread already pinning already pinned thread signed nadav har nyh scylladb.com message 1469628899 5537 git send email nyh scylladb.com,,
1114,6bb95442c6eb46350b6e563a759541d3b76e301c,adav Har'El <nyh@scylladb.com>, 2016-07-27 17:14:57 +0300, , sched add pin variant pin another thread already sched thread pin cpu migrate current thread given cpu pin patch add similar function pin thread cpu migrate thread calling one pin variant necessary complete implementation example see issue 520 thread migrated course running runnable sleeping cpu code need handle case correctly code also need handle case thread temporarily migrate_disable thread must migrated code surrounded migrate_disable handle migrated middle pin sleep bit loop thread becomes migratable pinning already pin thread supported though signed nadav har nyh scylladb.com message 1469628899 5537 git send email nyh scylladb.com,,
1115,558b963c3f5321cf1c80d03808ed464460fa0647,adav Har'El <nyh@scylladb.com>, 2016-07-27 17:14:56 +0300, , sched add _pinned flag thread thread currently positive prevent thread migrated different cpu using sched thread pin make counter permanently positive distinguish temporary increase due migrate_disable future support pinning pinning thread want make distinction patch add _pinned flag thread true thread permanently pinned pin _pinned set true also explains increase future _pinned boolean flag replaced bitmask cpu thread allowed thread pinned set cpu instead one signed nadav har nyh scylladb.com message 1469628899 5537 git send email nyh scylladb.com,,
1116,df80e2e97e2e8702bcf93f130ccd6b84a26872cf,adav Har'El <nyh@scylladb.com>, 2016-07-27 17:14:55 +0300, , sched make export_runtime idempotent allow running export_runtime twice without ill effect following patch allow migrating sleeping thread migrating got run possible signed nadav har nyh scylladb.com message 1469628899 5537 git send email nyh scylladb.com,,
1117,0a4b84bdffcf324631db60945cdfc4d582b77dd7,adav Har'El <nyh@scylladb.com>, 2016-07-27 17:14:54 +0300, , sched ignore thread wrong wakeup queue patch discovers cpu wakeup queue thread doe actually belong simply ignores case never happen however following patch add ability pin migrate waiting thread operating might race wake thread resulting thread remaining old cpu wakeup queue better ignore signed nadav har nyh scylladb.com message 1469628899 5537 git send email nyh scylladb.com,,
1118,ccb79930a93682aaedd35154fe2a3461116d1edb,adav Har'El <nyh@scylladb.com>, 2016-07-27 19:01:44 +0300,773, merge pull request 773 iori yja add yaml cpp package list arch linux readme,,
1119,dc600b7acd234f80f620c5b03bdf5483454b87b3,ori YONEJI <fivo.11235813@gmail.com>, 2016-07-27 07:56:01 +0900, , add yaml cpp package list arch linux readme,,
1120,e3570c135e0e60276b83c39cc0f44ee2a4aebeb0,adav Har'El <nyh@scylladb.com>, 2016-06-27 11:51:44 +0300, , remove deprecated mgmt submodule mgmt submodule shell called crsh ssh implementation written jruby predated osv rest api simple shell written lua top came old mgmt shell became deprecated recommended moreover running script build image mgmt working year relies external repository holding osv specific version crsh shell longer available time get rid mgmt submodule git repository remain http github.com cloudius system mgmt longer attached osv repository submodule signed nadav har nyh scylladb.com message 1467017504 13732 git send email nyh scylladb.com,,
1121,98f145ca1bd4b3d0d46f6b3afc3154958971b758,enoit Canet <benoit.canet.contrib@gmail.com>, 2016-07-24 09:14:05 +0000, , tcp_lro add missing brace gcc 6.1.1 fedora requires alway break malloc returning null order null pointer inserted signed benoã canet benoit scylladb.com message 1469351645 6453 git send email benoit scylladb.com,,
1122,2512872ff1cae1d60c061081e853127ca2034b6c,enoit Canet <benoit.canet.contrib@gmail.com>, 2016-07-24 09:14:04 +0000, , tcp_lro add missing brace gcc 6.1.1 fedora requires hint brace position comment   grab current time record know recent congestion event record timeout fired reasonable chance first one false alarm may indicate congestion  signed benoã canet benoit scylladb.com message 1469351645 6453 git send email benoit scylladb.com,,
1123,18f619a76900d6ce073a546f31c0ca66d52bf14b,enoit Canet <benoit.canet.contrib@gmail.com>, 2016-07-24 09:14:03 +0000, , bus_dma correctly indent gcc 6.1.1 fedora requires signed benoã canet benoit scylladb.com message 1469351645 6453 git send email benoit scylladb.com,,
1124,7f8b7eb07224c7f80fbb71c8584b4b0a7dc2412d,adav Har'El <nyh@scylladb.com>, 2016-07-24 00:15:57 +0300, , test add missing include tst rcu hashtable.cc test tst rcu hashtable.cc std forgot include random somehow still worked older version gcc longer work gcc need add missing include signed nadav har nyh scylladb.com,,
1125,a0a4e8f5ff08c1b49c11f135405479e313136f8d,adav Har'El <nyh@scylladb.com>, 2016-07-24 00:09:25 +0300, , gcc fix josvsym module josvsym module may change header though usually gcc need fix main makefile commit  signed nadav har nyh scylladb.com,,
1126,1caf1b15713675a90c6ccbedbd82ca816a5721a5,adav Har'El <nyh@scylladb.com>, 2016-07-23 23:32:26 +0300, , gcc fix test module test module osv header gcc need fix main makefile commit  signed nadav har nyh scylladb.com,,
1127,12333172adef670047da972327a255750c2b8fb4,adav Har'El <nyh@scylladb.com>, 2016-07-23 22:04:36 +0300, , gcc fix libtools module libtools module osv header gcc need fix main makefile commit  signed nadav har nyh scylladb.com,,
1128,af2fe8fc4df02d13ce32857aed747cddb8ee1d05,adav Har'El <nyh@scylladb.com>, 2016-07-22 21:32:39 +0300,768, makefile fix gcc compilation failure due header order starting gcc header file like cmath cstdlib assume using non standard preprocessor directive include_next header come later header file search path assumption explained http gcc.gnu.org gcc porting_to.html http gcc.gnu.org bugzilla show_bug.cgi 70722 osv break assumption putting header file search path header file last default search path breaking header file assumption wrongly include system standard header file instead osv compilation fail fix must explicitly list header directory directory compilation line header include api find header directory running compiler figure default header search path look name usually include usr include version also usr include version arch fix 768 signed nadav har nyh scylladb.com message 1469212359 15476 git send email nyh scylladb.com,,
1129,200598eb5a0b92e13d732fb8d75e968c39836eee,adav Har'El <nyh@scylladb.com>, 2016-07-21 02:21:59 +0300, , avoid warning wno tautological compare needed gcc one file signed nadav har nyh scylladb.com message 1469056919 18549 git send email nyh scylladb.com,,
1130,f64455f330125c4f336dc0f238d954058e67e721,adav Har'El <nyh@scylladb.com>, 2016-07-21 02:17:10 +0300, , assume enum class implicitly convert int enum class explicitly converted underlying int using static_cast int conversion doe happen implicitly gcc even stricter previous version compiler signed nadav har nyh scylladb.com message 1469056630 17663 git send email nyh scylladb.com,,
1131,bbb7e8161417289a202b3d66d7c1bd3888a17304,adav Har'El <nyh@scylladb.com>, 2016-07-21 00:55:48 +0300, , use fno strict aliasing needed gcc became much strict strict aliasing catch warn illegal case type punning assumption optimization lead incorrect code generation assumption violated file contain violation need use fno strict aliasing compilation parameter gcc avoids making assumption optimization resulting slightly optimized code file wno strict aliasing used previously good idea avoids warning case continues generate bad code need stop patch doe signed nadav har nyh scylladb.com message 1469051748 11818 git send email nyh scylladb.com,,
1132,6f3016f565343e55c99c64c6be354baa90496b99,adav Har'El <nyh@scylladb.com>, 2016-07-21 00:43:19 +0300, , pthread change type pthread_t pthread_t type pointer linux unsigned long binary compatibility size unnecessary difference cause problem source code doe cause problem gcc gcc thread header file code thread try convert integer pthread_t failed pthread_t pointer patch trivially change pthread_t type unsigned long linux nothing else code need change code always see pthread from_libc pthread_t whatever pointer additionally add static_assert verify two type pointer pthread_t really length intended fix 770 signed nadav har nyh scylladb.com message 1469050999 10574 git send email nyh scylladb.com,,
1133,161ab0cb660126e990196044f160450b457939b3,adav Har'El <nyh@scylladb.com>, 2016-07-21 00:32:09 +0300, , use function overload template instantiation gcc complains static template instance created never used like complains regular static function used reason first place function template run mill overloading function name different argument signed nadav har nyh scylladb.com message 1469050329 9553 git send email nyh scylladb.com,,
1134,923a015e5a6c59a68d7feaeb6781994a0433d8ad,adav Har'El <nyh@scylladb.com>, 2016-07-21 00:27:01 +0300, , avoid unsized array union gcc doe like unsized array union fortunately real reason trickery first place traditional cast char work well signed nadav har nyh scylladb.com message 1469050021 9116 git send email nyh scylladb.com,,
1135,9a24cb210dffd56b9f4c6b4c46c657c8179928be,adav Har'El <nyh@scylladb.com>, 2016-07-21 00:23:20 +0300, , drop unneeded include statement signed nadav har nyh scylladb.com message 1469049800 8691 git send email nyh scylladb.com,,
1136,0730ae6f18d3c94423d8e5ac64eaf4c1da79ad2a,adav Har'El <nyh@scylladb.com>, 2016-07-21 00:21:03 +0300, , add missing includes add two include statement necessary declare function use expf std accumulate older compiler somehow got without include perhaps header file included gcc longer compile without explicitly including header file signed nadav har nyh scylladb.com message 1469049663 8332 git send email nyh scylladb.com,,
1137,816935578606d4d7d915b3df0acf71af820547be,adav Har'El <nyh@scylladb.com>, 2016-07-21 00:02:52 +0300,769, use enum class constructor priority according http gcc.gnu.org bugzilla show_bug.cgi 59281 gcc longer allows use enum class constructor priority include osv prio.hh constructor priority must integer enum class support conversion int solution back old style enum conversion int put enum inside namespace still use name like init_prio sched need change caller fix 769 signed nadav har nyh scylladb.com message 1469048572 6581 git send email nyh scylladb.com,,
1138,dd35970ce33a445b723bbeca003dc2ff7fb9e2c4,adav Har'El <nyh@scylladb.com>, 2016-07-21 00:12:00 +0300, ," fix error xen ring.h character strangely missing original code familiar idiom calculating offset field structure know code ever worked compiled nobody noticed gcc error caused compiler complain illegal conversion integer pointer huge macro expansion resulting line 130,000 character easy find needle haystack eventually found signed nadav har nyh scylladb.com message 1469049120 7330 git send email nyh scylladb.com",,
1139,64c8fbe3c047d98f0c1567a10d08c9848ef014cf,adav Har'El <nyh@scylladb.com>, 2016-07-21 00:15:22 +0300, , fix typo ide_drive constructor ide_drive constructor contained obvious typo setting _dev member intended rather copying older compiler happily accepted error gcc refused accept found bug signed nadav har nyh scylladb.com message 1469049322 7678 git send email nyh scylladb.com signed pekka enberg penberg scylladb.com,,
1140,879b7885a9f98fcc37993332c8f6c63103bc3c22,adav Har'El <nyh@scylladb.com>, 2016-07-17 11:27:17 +0300,765, libc stub implementation function glibc see http 20948.html hook adding printf support new type format specifier modifier function used example libquadmath library 128 bit quadruple precision floating point add ability print 128 bit floating point number patch doe fully implement hook require extensive modification printf implementation come musl rather stub print warning return error hopefully level support would enough application want use libquadmath example calculation intend use printf extension ref issue 765 issue closed full implementation function make decision never signed nadav har nyh scylladb.com message 1468744037 7194 git send email nyh scylladb.com,,
1141,da53d9772b5db21a3a9a3850aa656af79be7b817,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-07-04 18:26:38 +0200, , app execute function thread one application application identified one thread signed justin cinkelj justin.cinkelj xlab.si message 1467649599 5449 git send email justin.cinkelj xlab.si signed nadav har nyh scylladb.com,,
1142,7a6cdd3bd2b3de6ae8b187dab598766e3e16fc99,adav Har'El <nyh@scylladb.com>, 2016-07-03 10:31:09 +0300, , sched fix key type thread_map justin cinkelj justin.cinkelj xlab.si noticed reason key thread_map unsigned long actual thread unsigned int thread_map key leftover thread indeed byte unsigned long using byte thread meant worry wrap around also caused problem compatibility linux function take byte thread process switched byte forgot could make thread_map key smaller patch make smaller actually instead assuming type thread tell compiler use thread return type thread_map key type additionally patch replaces date comment thread_map set thread_map longer list thread also used find thread numeric must map set make thread map mutex static visible core sched.cc signed nadav har nyh scylladb.com message 1467531069 20765 git send email nyh scylladb.com signed avi kivity avi scylladb.com,,
1143,512e9c69adcc7f81dad3ae61c86cca2ef834e7a2,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-06-30 13:15:01 +0200, , sched accept pid current tid need reject non zero pid tid equal current tid pid mean current tid anyway signed justin cinkelj justin.cinkelj xlab.si message 1467285301 18719 git send email justin.cinkelj xlab.si signed nadav har nyh scylladb.com,,
1144,abd451d59822816115dd099270893e9d0cc30b59,adav Har'El <nyh@scylladb.com>, 2016-06-27 13:57:46 +0300, , script setup.py fix dependency list fedora fedora recently obsoleted python request package favor python2 request setup.py fails try install obsolete package new one already installed need script ask new name fedora assumes people use script updated system think fair assumption signed nadav har nyh scylladb.com,,
1145,a174dbec56e3039aba6d5fb86fd6f5063b535da0,adav Har'El <nyh@scylladb.com>, 2016-06-08 19:12:00 +0300, , cli add run command cli lack direct command run arbitrary executable image indirect way know take parameter see issue 679 patch add simple new run command used example run java.so version signed nadav har nyh scylladb.com message 1465402320 11131 git send email nyh scylladb.com,,
1146,1504716fda06ede0cdf4ef4f36a8ac4996e52b3a,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-06-27 10:52:13 +0200, , gdb make connection port optional parameter useful debugging one per host signed justin cinkelj justin.cinkelj xlab.si message 1467017533 19162 git send email justin.cinkelj xlab.si signed nadav har nyh scylladb.com,,
1147,30fe998d83dd419f25088ace5ef73b3a9c24d92c,adav Har'El <nyh@scylladb.com>, 2016-06-05 12:27:32 +0300,757, return error crash unknown syscall currently abort osv case unknown syscall used harsh linux return enosys case application elasticsearch use check runtime availability system call kernel support patch replaces abort warning message return errno enosys fix 757 signed nadav har nyh scylladb.com message 1465118852 27742 git send email nyh scylladb.com,,
1148,56c6195b252b127c7fe90cb9fa46c370b384b51a,adav Har'El <nyh@scylladb.com>, 2016-05-11 12:34:54 +0300, , cloud init add option put config file second disk cloud init module several option find configuration file take file inside image fetch cloud patch add third option find configuration file separate mounted disk host simply writes configuration separate tiny disk image run tiny disk image second disk traditionally second disk rom iso 9660 vfat filesystem one file see nocloud data source linux cloud init osv doe yet support either filesystems moreover overkill use filesystem store single file patch provides script script file2img trivially convert file image prepending file magic header file length also add cloud init code automatically recognize second disk exists carry magic header case load configuration try feature convert yaml configuration file image script file2img add image second disk hd1 example qemu system x86_64 smp vnc gdb tcp 1234 server nowait device virtio blk pci blk0 bootindex drive hd0 scsi device virtio blk pci blk1 bootindex drive hd1 scsi drive file home nyh osv build last usr.img none hd0 cache none aio native drive file tmp a.img none hd1 netdev user un0 net 192.168.122.0 host 192.168.122.1 device virtio net pci netdev un0 redir tcp 2222 device virtio rng pci enable kvm cpu host x2apic chardev stdio mux stdio signal mon chardev stdio mode readline default device isa serial chardev stdio patch doe add option run.py add later signed nadav har nyh scylladb.com message 1462959294 24819 git send email nyh scylladb.com,,
1149,272325d1b556ba468db8895368b381a8e807dc3d,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-05-30 12:32:39 +0200, , httpmodule tls1.2 workaround boost 1.53 old boost version 1.53 doe declare ssl context tlsv12 start sslv23 context upgrade 1.2 openssl flag fix 746 signed justin cinkelj justin.cinkelj xlab.si message 1464604359 23469 git send email justin.cinkelj xlab.si signed nadav har nyh scylladb.com,,
1150,abcbccbe41218cf7527a69f124ea957555d579d0,uri Volchkov <iurii.volchkov@neclab.eu>, 2016-05-17 13:10:30 +0200, , makefile make compatibility hack handle option parameter usrskel intended used script build patch implement correct handling compatibility hack user run make image app option conflict makefile variable patch renames latter one signed yuri volchkov iurii.volchkov neclab.eu message 1463483430 10011 git send email iurii.volchkov neclab.eu signed nadav har nyh scylladb.com,,
1151,370afe87520d1e33bdf6a8718f74184e92bf1375,adav Har'El <nyh@scylladb.com>, 2016-05-26 08:38:09 +0300,751, module fix build error fix 751 signed nadav har nyh scylladb.com,,
1152,7de7bea9c5d98da251777915115ffdd9395b1265,uri Volchkov <iurii.volchkov@neclab.eu>, 2016-05-25 09:36:48 +0200, , fix unexpanded wildcard usr.manifest variable miscbase resolved mkbootfs.py problem doe resolving _after_ calling expand expand deal string like miscbase usr lib64 openssl obviously path doe exists expand failed walk directory structure consequence running script build image httpserver file openssl engine missing resulting image fix simple resolving variable expanding signed yuri volchkov iurii.volchkov neclab.eu message 1464161808 29343 git send email iurii.volchkov neclab.eu signed nadav har nyh scylladb.com,,
1153,2781c85fc041b5a8a7c34a441e0830480e940940,adav Har'El <nyh@scylladb.com>, 2016-05-23 10:15:40 +0300, , module openssl add duplicate library linux shared library normally short name like libssl.so.10 linking specific version library like module openssl package also name library instead using symbolic link two copy library great idea library pretty big e.g. libcrypto patch completely drop long name application always linked therefore would require run time short name image use openssl module become smaller example default script build image cli rest api  signed nadav har nyh scylladb.com message 1463987740 17232 git send email nyh scylladb.com,,
1154,ca6bcd4128e13175879933c328281cf21bc21d57,adhuri Yechuri <cosmokramer@gmail.com>, 2016-05-23 13:29:45 -0700, , implement unit test message 1464035385 26264 git send email cosmokramer gmail.com signed nadav har nyh scylladb.com,,
1155,fe21edc3caf3f7eb1d737553046eaf9c77bb5b38,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-05-23 12:29:19 +0200, , add mkfifo stub fifo implemented different error code returned linux cifs mount would return eperm freebsd enotsup enosys used case say gnu gnulib enosys used mkfifo used open mpi orterun mpirun signed justin cinkelj justin.cinkelj xlab.si message 1463999359 7027 git send email justin.cinkelj xlab.si signed nadav har nyh scylladb.com,,
1156,8693761b737ad74e3d116f923bf0b4323d9df8b4,adav Har'El <nyh@scylladb.com>, 2016-05-23 09:58:29 +0300,750, build put unnecessary library every image add boost regex filesystem shared library every image usually unnecessary httpserver package need moreover added wrong version image add version external default use version build machine build size script build image rogue ramfs image example 7.5 patch 6.6 fix 750 signed nadav har nyh scylladb.com message 1463986709 15280 git send email nyh scylladb.com signed avi kivity avi scylladb.com,,
1157,7b0982ce253b9da64f8999b8ae03fbb4ffb2444d,adav Har'El <nyh@scylladb.com>, 2016-05-21 22:27:28 +0300, , build move libtools.so separate module libtools.so osv specific library wrote use ifconfig route implementation rest api operation patch compiled main osv makefile although never actually needed building osv kernel rather specific module httpserver mgmt always ugly comment asking change became real bug issue 748 since commit 477035dc2b34 script build doe full make building requested module doe make stage1 libtools.so built module needed example make clean make image httpserver failed fix patch move compilation libtools.so ifconfig.so lsroute.so separate module module libtools already existed source code file also moved module libtools httpserver module requires libtools module get built httpserver fixing bug fix 748 signed nadav har nyh scylladb.com message 1463858848 2973 git send email nyh scylladb.com,,
1158,fc5ee7c6063101aed7355489dbf861fb516674e0,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-05-20 10:44:50 +0200, , osv_execve allow null argv envp debug printf check case signed justin cinkelj justin.cinkelj xlab.si message 1463733890 5724 git send email justin.cinkelj xlab.si signed nadav har nyh scylladb.com,,
1159,714cfd97e48ba5fecba224430762d2c8aac7c0eb,uri Volchkov <iurii.volchkov@neclab.eu>, 2016-05-17 13:08:04 +0200, , introduce ramfs image small application reasonable heavy memory consuming zfs put everything bootfs without zfs necessary keep mkzfs cpio bootfs reduces memory consumption even case bootfs build file ignored reduced version used total save 14mb ram usr.img reduced 6mb build bootfs image run script build image rogue ramfs ignore completely use script build image rogue ramfs usrskel none want use custom skeleton specify usrskel custom_skel signed yuri volchkov iurii.volchkov neclab.eu message 1463483284 9838 git send email iurii.volchkov neclab.eu signed nadav har nyh scylladb.com,,
1160,477035dc2b3402dfa0b159857b1b6a303a36e2fe,uri Volchkov <iurii.volchkov@neclab.eu>, 2016-05-17 13:07:00 +0200, , split building loader.img stage build everything needed loader.elf except bootfs.o build bootfs.o link everything final loader.elf produce final loader.img needed building ramfs image next patch script build need file produced make example module httpserver jolokia plugin depends libtools.so hand script module.py produce binary manifest required generate bootfs.o brake recursion patch introduces intermediate target stage1 build every app dependency think script build running make twice building application make stage1 make signed yuri volchkov iurii.volchkov neclab.eu message 1463483220 9779 git send email iurii.volchkov neclab.eu signed nadav har nyh scylladb.com,,
1161,2a867fa9156124c908d4ca75343d1318796dbb0e,adav Har'El <nyh@scylladb.com>, 2016-05-16 02:26:39 +0300, , makefile overhaul make image ... compatibility hack quite recommending use separate script script build build osv complete application e.g. script build image rogue backward compatibility also want support command like make image rogue call script build way patch somewhat inefficient basically doe make first dependency run script build end calling make duplication becomes even annoying uncommitted patch ramfs image overhead mean image built twice costing second build time patch something different image option example passed simply add new target default_target call script build target first makefile run image module specified ifdef add new target first target makefile return get done resulting code simple natural plug existing ifdef already neither image module defined doe nothing signed nadav har nyh scylladb.com message 1463354799 23737 git send email nyh scylladb.com,,
1162,c12f88199ce928699e4e131017fbb2fca90432fc,uri Volchkov <iurii.volchkov@neclab.eu>, 2016-04-21 23:38:30 +0200, , mkbootfs.py allow empty directory purpose ramfs image want pas usr.manifest script mkbootfs.py however user.manifest contains directory record proc dev tmp describe directory bootfs metadata zero size record created name record end kernel recognize directory without adding new field struct bootfs_metadata signed yuri volchkov iurii.volchkov neclab.eu message 1461274714 7230 git send email iurii.volchkov neclab.eu signed nadav har nyh scylladb.com,,
1163,0bca5eea45ecb8be7cd6d955aaaaeacea93db58b,uri Volchkov <iurii.volchkov@neclab.eu>, 2016-04-21 23:38:29 +0200, , makefile absolute path gcc glibc jdk misc base variable calculated twice makefile script build makefile path relative script build absolute since script mkbootfs launched makefile working directory search gccbase wrong path mean reference apps anyapp bootfs.manifest variable would work patch make variable containing absolute pathes signed yuri volchkov iurii.volchkov neclab.eu message 1461274714 7230 git send email iurii.volchkov neclab.eu signed nadav har nyh scylladb.com,,
1164,9bc757a543afcda2a2a6b6d5df87aa5efdb84487,adav Har'El <nyh@scylladb.com>, 2016-05-15 17:35:18 +0300, , update apps submodule recent version signed nadav har nyh scylladb.com,,
1165,8a15e5ee01f439706a4b5f9985f2deb81bab3e40,adav Har'El <nyh@scylladb.com>, 2016-05-15 12:26:14 +0300, , stub implementation mlock munlock already stub implementation mlockall munlockall mlock munlock fix 745 signed nadav har nyh scylladb.com message 1463304374 15856 git send email nyh scylladb.com signed avi kivity avi scylladb.com,,
1166,04604cf734850bd6c8e7df4a399b9693cdc40f6e,adav Har'El <nyh@scylladb.com>, 2016-05-15 12:26:13 +0300, , mlockall munlockall add stub warning mlockall munlockall stub nothing would usually fine still certain performance implication involved nothing implementation bring memory mmap file doe ensure stay similarly executable code better warn function used stubbed signed nadav har nyh scylladb.com message 1463304374 15856 git send email nyh scylladb.com signed avi kivity avi scylladb.com,,
1167,ee1e5d4b37acd91d1c8716e3b8a49446d8dc7a05,adav Har'El <nyh@scylladb.com>, 2016-05-11 00:49:46 +0300, , spuriously recognize partition disk partitioned start mbr master boot record must end two byte 0x55 0xaa first sector doe end two byte mbr look inside list partition signed nadav har nyh scylladb.com message 1462916986 31794 git send email nyh scylladb.com,,
1168,1ffd84c17c020d8d2db30250991051ccaf9acd40,yujugu <yujun.gu@ericsson.com>, 2016-05-12 20:57:40 +0800, , fix package name libyaml ubuntu signed nadav har nyh scylladb.com,,
1169,8dcc28205dd966810a74d7907acc05b8bad24e70,adav Har'El <nyh@scylladb.com>, 2016-05-11 11:51:25 +0300, , cloud init fix build newer distribution makefile cloud init tool use libyaml cpp boost external unfortunately work newer distribution new version gcc newer abi patch take libyaml cpp boost library header file build machine external fix 738 signed nadav har nyh scylladb.com message 1462956685 20210 git send email nyh scylladb.com signed avi kivity avi scylladb.com,,
1170,287fdbb66cb2269cedaa9a4ae3e41ab34ca4aec8,adav Har'El <nyh@scylladb.com>, 2016-05-11 11:28:20 +0300, , elf fix crash unloading shared object working fixing cloud init compilation fedora issue 738 noticed crash cloud init.so unloaded running actual application turn following sequence event shared object run requires shared object completes run reach reference count unloads program remove_object called part remove_object clear needed list object longer needed start unload part unloading fini function called one fini function call function never called causing object resolve_pltgot called resolve_pltgot find function object save reference crash already reached reference count step note one condition crash unusual situation find function need probably happened cloud init issue 738 cloud init requires httpserver contain identical code like compiled template fix patch change step remove module list running fini function rather existing code even patch remains possibility different race condition need fixed separately one thread cause shared object unloaded another thread run new function found object unloaded crash object unloaded finding saving shared pointer signed nadav har nyh scylladb.com message 1462955300 18185 git send email nyh scylladb.com signed avi kivity avi scylladb.com,,
1171,3fb34875648a474fa52c61a5292b6d0a362856d3,adav Har'El <nyh@scylladb.com>, 2016-05-09 15:49:06 +0300,742, script setup.py add missing requirement starting commit f64563 need httpserver module host yaml library instead taking one external need modify script setup.py also require package patch also add missing fedora support setup.py fix 742 signed nadav har nyh scylladb.com,,
1172,abf49c03d6cfb46e483ce00b3b989dd43625c871,adav Har'El <nyh@scylladb.com>, 2016-05-08 12:26:27 +0300, , update apps newest version submodule signed nadav har nyh scylladb.com,,
1173,a36441d64708e9d3f10d67b39b56d2df90d59c40,regor Berginc <gregor.berginc@xlab.si>, 2016-05-07 21:47:57 +0200, , use hostname cloud init data source patch extends cloud init initialisation loaded cloud case active data source contains hostname set hostname osv instance accordingly signed gregor berginc gregor.berginc xlab.si message 1462650477 20209 git send email gregor.berginc xlab.si signed nadav har nyh scylladb.com,,
1174,bb85c2fec047409a920daa423b6b3cd22f303f5a,adav Har'El <nyh@scylladb.com>, 2016-04-20 12:06:04 +0300, , system ipc destroy shared memory segment early shmctl manual page explains shmctl ipc_rmid called destroy shared memory segment actual destruction delayed last attachment shmat detached shmdt patch done properly ipc_rmid destroyed segment immediately including internal file descriptor used represent later call shmdt would crash file null pointer dereference file descriptor assumed exists simple patch shmat dup internal file descriptor create another reference shared memory segment ipc_rmid close one duplicate shmdt close duplicate previously created shmat end result underlying object destoryed duplicate closed i.e. ipc_rmid used attachment detached patch also add test case test crashed patch succeeds problem ipc_rmid destroying segment early noticed running openmpi system shared memory communicate separate thread signed nadav har nyh scylladb.com message 1461143164 22959 git send email nyh scylladb.com,,
1175,d83013cd8f679085b1799166d1a4597151ad91c2,adav Har'El <nyh@scylladb.com>, 2016-04-17 15:04:52 +0300, , makefile clean bootfs.o handling one dependency loader.elf bootfs.bin need bootfs.bin directly rather need bootfs.o turn depends bootfs.bin need dependency loader.elf bootfs.bin replacing bootfs.bin dependency also allows get rid silly code remove link command note bootfs.o already dependency loader.elf bootfs.o listed object bootfs.o already patch separate dependency loader.elf finally bootfs.o removed object make easy compile object without building bootfs.bin signed nadav har nyh scylladb.com,,
1176,9388d9e268632c0217a22feb119ca985e52b2880,uri Volchkov <iurii.volchkov@neclab.eu>, 2016-04-14 18:19:05 +0200, , makefile allow using different bootfs.manifest bootfs.manifest generated anyways module.py script using generated instead hardcoded open possibility alternate context resulting bootfs image however bootfs.manifest generated script build user want build kernel bootfs.manifest exists moment solved extra parameter makefile bootfs_manifest parameter specified old good used functionality used patch yet preparation following bootfs configuration signed yuri volchkov iurii.volchkov neclab.eu message 1460650745 17348 git send email iurii.volchkov neclab.eu signed nadav har nyh scylladb.com,,
1177,1f2fe1177f81849df3e09028fb50d35e3b7432d9,adav Har'El <nyh@scylladb.com>, 2016-04-17 10:25:02 +0300, , script build fix triple run make noticed originally fixed yuri volchkov case compatibility hack make image makeflags passed script build might might space image second case construction makeflags makeflags image zzz work cause extra run make patch addition rule replacing image preceded space add second rule replacing image beginning line want avoid replacing string image middle word likely let play safe ... suggested yuri volchkov iurii.volchkov neclab.eu signed nadav har nyh scylladb.com,,
1178,2c690f750bbb212c3531bc1e331f3578075cc32d,adav Har'El <nyh@scylladb.com>, 2016-04-14 17:10:51 +0300, , makefile slightly modify align message instead message align build release.x64 lzloader.elf print align lzloader.elf similar link message immediately preceeds align message signed nadav har nyh scylladb.com,,
1179,099c0c98f1dfd96adac7c7662c1232af60a7b2f0,uri Volchkov <iurii.volchkov@neclab.eu>, 2016-04-14 13:12:18 +0200, , make sure lzloader.elf integer number block x86 boot process lzloader read disk block block using bios interrupt however end lzloader.elf aligned doe integer number block doe produce issue case usr.img zfs partition stored lzloader loader.img last block going truncated end disk int13 fails process last read request tiny part osv kernel missing memory patch truncates lzloader.elf nearest integer number block signed yuri volchkov iurii.volchkov neclab.eu message 1460632342 11202 git send email iurii.volchkov neclab.eu signed nadav har nyh scylladb.com,,
1180,86d2be406078b47a8835882819ef95671928bb79,uri Volchkov <iurii.volchkov@neclab.eu>, 2016-04-14 13:12:17 +0200, , notify disk read error reason interrupt failed read full image memory osv warn still able course might save debuging time signed yuri volchkov iurii.volchkov neclab.eu message 1460632342 11202 git send email iurii.volchkov neclab.eu signed nadav har nyh scylladb.com,,
1181,95577d16d0a46720fa005daef3f344704cafcff5,uri Volchkov <iurii.volchkov@neclab.eu>, 2016-04-13 21:52:21 +0200, , script mkbootfs make script importable refactoring done reason provide easy way debug pdb unify stile mkbootfs.py signed yuri volchkov iurii.volchkov neclab.eu message 1460577141 439 git send email iurii.volchkov neclab.eu signed nadav har nyh scylladb.com,,
1182,f8866c0dfd7ca1fcb4b2d9a280946878313a75d3,adav Har'El <nyh@scylladb.com>, 2016-04-11 17:14:56 +0300, ," test another mutex benchmark test add paramterized mutex benchmark test tst mutex2.so benchmark simulates situation mutex held short duration could achieve better performance mutex retried lock short spinning putting thread sleep goal test reproduce situation discovered justin cinkelj sysbench benchmark sysbench test memory num thread run benchmark intensive memory accessing code often much million time second update counter protected mutex sysbench benchmark run significantly slower osv doe linux see freq.py hundred thousand context switch per second caused sleeping mutex benchmark reproduces sysbench slowdown much simpler benchmark run thread iteratively increment mutex protected counter doe small amount computational work example run benchmark one particular core machine followed analysis result  run parameter osv guest linux host  37,000,000 49,000,000 500 5,700,000 6,100,000 500 3,700,000 9,300,000  first two line show uncontended osv mutex lock unlock bit slower linux something rejoice big problem ... big problem third line osv result significantly worse linux exactly noticed sysbench benchmark moreover osv result large variance would expect result 500 better 500 indeed happened linux osv benchmark doe quite bit computation outside mutex loop 500 step every iteration two thread get work done osv adding second thread actually slowed benchmark one thread find locked mutex sleep take substantial amount time also force thread thread wake released mutex also taking time hand linux mutex try spin bit going sleep usually lock gained short time spinning without context switch occuring reason high variance osv result 500 case follows osv place two thread cpu result identical one thread 5,700,000 osv place two thread different cpu result significantly worse around 3,300,000 osv move thread cpu rather sporardically end result something two number run end different number depending much time thread spent cpu signed nadav har nyh scylladb.com message 1460384096 11635 git send email nyh scylladb.com",,
1183,f64563a97e9e8a4492e5e18d01c17638f2654780,adav Har'El <nyh@scylladb.com>, 2016-04-04 09:03:52 +0300,691, httpserver use host boost existing httpserver makefile tried take boost library version 0.55 osv external repository unfortunately recent distribution ubuntu 15.10 fedora library match compiler standard library boost host system used compile osv result mess may work bizarre way e.g. issue 691 noticed mkdir longer work boost filesystem crashed patch modifies httpserver makefile use build machine boost library fix 691 signed nadav har nyh scylladb.com message 1459749832 22687 git send email nyh scylladb.com,,
1184,ac63a5fca13ab65cadc3860f0fd90584e9348197,adav Har'El <nyh@scylladb.com>, 2016-04-04 18:41:59 +0300, , update osv apps signed nadav har nyh scylladb.com,,
1185,3544629e5fb7935af8149b36395b72a9ae588350,adav Har'El <nyh@scylladb.com>, 2016-03-08 19:35:51 +0200, , test rename tst execve osv_execve test run part make check regression test require parameter named tst prefix cause make check pick rename misc prefix instead tst signed nadav har nyh scylladb.com,,
1186,4f896493116c34409e58df8084b29381c63725fe,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-03-08 18:13:15 +0100, , add test osv_execve one example payload included osv_waittid test still missing signed justin cinkelj justin.cinkelj xlab.si message 1457457195 17597 git send email justin.cinkelj xlab.si signed nadav har nyh scylladb.com,,
1187,8a68840703f40b448cbe0676ddf24c88ba95bfa4,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-03-08 18:13:14 +0100, , add osv_execve osv_waittid osv_execve replacement execve start given program new thread new elf namespace thread returned caller later wait thread termination osv_waittid used optionally caller notified thread termination via file descriptor returned eventfd signed justin cinkelj justin.cinkelj xlab.si message 1457457195 17597 git send email justin.cinkelj xlab.si signed nadav har nyh scylladb.com,,
1188,af6eb65dc23ad3de6db07a0c3cc930a357d903d5,adav Har'El <nyh@scylladb.com>, 2016-03-06 09:44:04 +0200, , console delay std function setting since commit e42bf80b7bf set writing std function avoid creating allocating memory every time however turn old version gcc 4.8 compile code perhaps capture constructor patch delay setting std function start function also function set _ldisc since use writing function together _ldisc fine set time signed nadav har nyh scylladb.com,,
1189,40d3dc8a4634370ecf3fed5baa5cc91808357549,adav Har'El <nyh@scylladb.com>, 2016-03-03 16:54:41 +0200, , update osv apps submodule signed nadav har nyh scylladb.com,,
1190,e42bf80b7bfb86c176cea86280fc87b02221070a,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-03-03 13:41:09 +0100, , prealocate std function avoid malloc debug_ll fix 712 signed justin cinkelj justin.cinkelj xlab.si message 1457008869 22425 git send email justin.cinkelj xlab.si signed nadav har nyh scylladb.com,,
1191,ed54abad6972fa2b85ecbae5c81f9c3aa321725f,adav Har'El <nyh@scylladb.com>, 2016-03-03 11:58:58 +0200,729, fix race thread stop_wait shutdown patch fix assertion failure shutdown happened osv thread sleep wakeup mechanism particular thread stop_wait race thread unsafe_stop mechanism used shutdown fix 729 shutdown call sched thread unsafe_stop thread attempt pause avoid crash exit application code mounted filesystems continues run filesystem unmounted see commit 703bf08d72ef617 information unsafe_stop change thread waiting state terminated state never run relative safety thread really waiting thread preparing wait might decide switching state waiting wait condition test turn already fulfilled case call thread stop_wait stop_wait assumed asserts find thread either waiting state stage already woken unsafe_stop code added possibility thread already terminated state need allow case well case call scheduler schedule thread forever signed nadav har nyh scylladb.com,,
1192,08e2dc70977d50bbb7ffdba4b020de9d9f1e5c36,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-02-24 10:53:07 +0100,725, dhcp ignore injected packet static used fix 725 signed justin cinkelj justin.cinkelj xlab.si message 1456307587 28234 git send email justin.cinkelj xlab.si signed nadav har nyh scylladb.com,,
1193,6aef7ef140a9183ecb15db16512ce1f6dd20c976,adav Har'El <nyh@scylladb.com>, 2016-02-17 11:25:34 +0200, , clock clearer message clock source available neither paravirtual clock like kvm clock hpet available osv run unexpected case printed mysterious assertion failure let print clearer message case signed nadav har nyh scylladb.com message 1455701134 28282 git send email nyh scylladb.com signed avi kivity avi scylladb.com,,
1194,fcb6372bc2f8564ec8efab24b5c0e383a327dcca,adav Har'El <nyh@scylladb.com>, 2016-02-17 11:21:55 +0200, , fix reboot loop abort happened early boot abort try print backtrace early boot process dynamic linker fully set check elf get_program used enough recent elf namespace patch early boot process call elf get_program crash call sched thread current_app assumes current thread sched thread current nullptr null pointer dereference idt fully set cause triple fault hence reboot osv fail way next boot inifintum annoying signed nadav har nyh scylladb.com message 1455700915 27919 git send email nyh scylladb.com signed avi kivity avi scylladb.com,,
1195,a0cf9fa146b23a845fc70fe78dd87fb78226572b,ichael Meeuwisse <mickeymeeuw@gmail.com>, 2016-02-13 16:05:52 +0100, , bug fix crash due post upload consuming disk space signed michael meeuwisse mickeymeeuw git gmail.com message 1455375954 21475 git send email mickeymeeuw git gmail.com signed nadav har nyh scylladb.com,,
1196,2bcede879972f9d7dcfea426da7c129c6c32a3f4,ichael Meeuwisse <mickeymeeuw@gmail.com>, 2016-02-13 16:05:50 +0100, , bug fix alert failure change temporary file name even though created file sure exists file system might run resource facilitate rename signed michael meeuwisse mickeymeeuw git gmail.com message 1455375954 21475 git send email mickeymeeuw git gmail.com signed nadav har nyh scylladb.com,,
1197,d5fd577e8c2838d6ce7f95317a326fbcc20003bb,adav Har'El <nyh@scylladb.com>, 2016-02-14 11:04:36 +0200, , _cxa_finalize hold mutex long need hold mutex running destructors need hold taking list destructors map signed nadav har nyh scylladb.com,,
1198,5147879f2ee7ee8443afb73b7acc138d95985e2c,adav Har'El <nyh@scylladb.com>, 2016-02-12 08:26:02 +0200,723, __cxa_atexit finalize thread safe linux abi function __cxa_atexit __cxa_finalize implement static constructor shared object shared object global variable constructed __cxa_atexit called remember destructor destructors finally called __cxa_finalze called bug implementation thread safe several shared object loaded parallel happened call static constructor parallel several parallel call __cxa_atexit could lead corrupted hash table crash next time object loaded unloaded hash table consulted  obvious fix use mutex fix 723 fix 713 signed nadav har nyh scylladb.com,,
1199,c93ebf9d140f1aebfee21392877fec0b66d62df8,adav Har'El <nyh@scylladb.com>, 2016-02-11 13:58:29 +0200, , script setup.py add ubuntu previous patch added ncurses debian really wanted add ubuntu signed nadav har nyh scylladb.com,,
1200,38dc98c4220f8937821d1a8b396c29c19491d0d8,adav Har'El <nyh@scylladb.com>, 2016-02-11 11:46:02 +0200, , script setup.py add ncurses also ubuntu requirement module libedit module used cli default built image compiles ncurses missing host see issue 716 workaround rethought future tell script setup.py install ncurses host already fedora machine forgot ubuntu well signed nadav har nyh scylladb.com,,
1201,78854b4f0d32740f222869d4111461680f42ba3b,adav Har'El <nyh@scylladb.com>, 2016-02-10 15:15:44 +0200, , remove archaic dev ram0 driver early day osv virtio block device yet simple ram disk block device ram test filesystem work silly driver remained osv used fixed amount memory 4mb ram disk one hand useful hand waste patch drop driver constant memory usage note dev ram0 ramdisk ramfs use holding tool bootstrap image like formatting zfs partition uploading file completely separate thing ramfs read file system ram ram0 block device ram fix 666 signed nadav har nyh scylladb.com,,
1202,631bc978088fcf14929ef74ea818efc96c606cd6,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2016-02-10 03:26:22 +0100, , nfs discard new nfs file handle end vop_create vop_create meant directly create reference inode corresponding new file case sys_open subsequent call vop_open done needed case mknod function doe return file descriptor simply success discard nfs file handle right file creation reported justin cinkelj justin.cinkelj xlab.si signed benoã canet benoit scylladb.com message 1455071182 7850 git send email benoit scylladb.com signed nadav har nyh scylladb.com,,
1203,a719a6bb53b2d082b00cb4f3bc32fffc18f3f58c,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2016-02-09 20:37:35 +0100, , nfs expect filesystem open file truncating vfs rightfully call vop_truncate yet openned file take fact account unit test condensed integrated test provided justin helpfull reported justin cinkelj justin.cinkelj xlab.si signed benoã canet benoit scylladb.com message 1455046655 4037 git send email benoit scylladb.com signed nadav har nyh scylladb.com,,
1204,cccb076c95dcfc206050f08e2ea5a3c6223e11c0,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2016-02-07 18:18:35 +0100, , nfs close nfslib handler vnode marked inactive patch make multiple open idempotent delay close nfslib handler vnode marked inactive way file safely opened multiple time also take care opening nfs file maximum right allowed vfs layer limit operation anyway signed benoã canet benoit scylladb.com message 1454865515 17830 git send email benoit scylladb.com signed nadav har nyh scylladb.com,,
1205,bad6699cb69f091994f8e32468b586985a5e6f2e,ichael Meeuwisse <mickeymeeuw+git@gmail.com>, 2016-02-06 12:07:27 +0100, , bug fix int overflow file size signed michael meeuwisse mickeymeeuw git gmail.com message 1454756847 9963 git send email meeuwisse signed nadav har nyh scylladb.com,,
1206,93c8100ed09c7876e0fc784d0dafe849b6449022,adav Har'El <nyh@scylladb.com>, 2016-01-31 18:16:20 +0200,715, locale fix std toupper std tolower std regex osv default locale locale correctly supported character class isprint isspace etc support toupper tolower partial caused breakage function rely glibc implementation example std regex constructor used crash reported issue 715 problem normal function toupper tolower worked owing trivial implementation musl however version function std toupper std tolower rely lookup table assume glibc placed locale_t object default locale implementation put nothing place locale_t causing toupper tolower attempt crash lookup table random memory location patch add missing lookup table default locale sadly waste another 384 6144 byte osv memory sure 256 512 deemed enough ... confirms std toupper std tolower work default std locale also std regex constructor longer crash fix 715 signed nadav har nyh scylladb.com message 1454256980 8456 git send email nyh scylladb.com,,
1207,2b04babae92d6b8f45bec0807237c15fe5d5f533,adav Har'El <nyh@scylladb.com>, 2016-02-01 08:44:47 +0200,714, published image drop monitoring agent since commit 98b88ee3 appliance capstan image pre prepared osv image included component monitoring agent report basic static like number boot central server amazon unnecessary never actually looked statistic user started report failing patch remove module image preparing script included next osv release note module never automatically included user built image via script build via capstan capstan base image include component user never used module anyway fix 714 signed nadav har nyh scylladb.com,,
1208,46fcceadbe076e66f11136bf99f14085505fead6,adav Har'El <nyh@scylladb.com>, 2016-01-31 15:32:55 +0200,706, vfs better handling failure filesystem open osv vfs open implementation sys_open desired filesystem open operation prepared open implementation fail example issue 706 nfs whose open fail eacess file exists allowed read user mount nfs directory tell specific user masquerade problem discovered benoit canet opening file fails call fdrop partially filled file structure unnecessary wrong unnecessary fdrop designed allow many reference file exist last fdrop cause deleted case know file never opened possibly used code moreover fdrop wrong call close call close open failed probably led crash issue 706 instead call delete right thing signed nadav har nyh scylladb.com tested benoã canet benoit scylladb.com message 1454247175 14869 git send email nyh scylladb.com,,
1209,3ca4b72ece70f72f938b0c1ccd9c9b33d5ab0b55,adav Har'El <nyh@scylladb.com>, 2016-01-31 15:03:55 +0200, , httpserver also fix usage getpwuid_r previous patch fixed usage getgrgid_r bug existed also call getpwuid_r patch fix case function return success mean user group actually found need check returned pointer nullptr found thus doe name arguable whether default case write empty string user name group name make much sense probably written numeric least code longer crash signed nadav har nyh scylladb.com,,
1210,e3e49419c9dc3ee8151e70170c01381e4beaf94a,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2016-01-31 13:07:38 +0100, , httpserver verify getgrgid_r returned result signed benoã canet benoit scylladb.com message 1454242058 7809 git send email benoit scylladb.com signed nadav har nyh scylladb.com,,
1211,0ccc4ec1b2c8ac606e2abd7dc6408bda092b1403,incent Schwarzer' via OSv Development <osv-dev@googlegroups.com>, 2016-01-21 19:16:02 +0100, , added script command xen creating xen domu possible specify configuration script vif used instead default one added functionality script flag run.py script signed vincent schwarzer yahoo.de message 1453400162 3028 git send email yahoo.de signed nadav har nyh scylladb.com,,
1212,204ecbaf857efbb8d7445de72d33f07f8af1bcbe,adav Har'El <nyh@scylladb.com>, 2016-01-24 01:07:30 +0200, , elf.cc protect s_objs mutex program s_objs static object shared instance program a.k.a elf namespaces need protect concurrent modification using mutex chance would caused bug practice slim elf namespaces used zero signed nadav har nyh scylladb.com,,
1213,38d61690c3e66b43964fdd9409c60d247a482d55,adav Har'El <nyh@scylladb.com>, 2016-01-24 00:59:46 +0200, , elf.cc remove silly using namespace std using std standard stuff nice clear accepted coding standard osv real reason using namespace std elf.cc saved std anyway make thing uglier want use osv mutex becomes ambiguous std mutex osv mutex signed nadav har nyh scylladb.com reviewed benoã canet benoit scylladb.com,,
1214,83d32a74a6fe49233b877fff3605a8ff9f0256d6,adav Har'El <nyh@scylladb.com>, 2016-01-24 00:47:04 +0200,711, elf.cc avoid overflow s_obj early osv existance see commit fa0826a added array s_obj listing loaded shared object allow debugger via osv syms command find loaded object however using array simplification failed bound checking issue 711 came across case overflowed array solution patch use std vector instead array stl take care ugly lookup deletion code reallocates array needed code simpler overflow bug ask course loader.py osv syms defined also need modified read std vector instead array using read_vector function already new code even simpler old one fix 711 signed nadav har nyh scylladb.com reviewed benoã canet benoit scylladb.com,,
1215,eab39c031e80d6717d2980d05a34b19985f5e1dc,yh@scylladb.com <nyh@scylladb.com>, 2016-01-21 10:13:02 +0200, , sched avoid recursion timer_list fired patch fix rare osv crash page fault caused interrupt time recursion caused small interrupt stack overflow page fault allowed interrupt time therefore cause crash problem follows timer_list fired run expired timer call rearm set interrupt next timer coming rearm call set timepoint call find timepoint already passed well run callback function immediately i.e. recursive call timer_list fired rare case many close timer lead deep recursion stack overflow solution check whether next timer already passed call set timepoint loop finally call set call relative time duration time_point longer need set timepoint variant remove variant obscures fact need call recurses given time past signed nadav har nyh scylladb.com,,
1216,464f4e05c70e756a1a54e3751c710393371b7f5f,ustin Cinkelj <justin.cinkelj@xlab.si>, 2016-01-15 12:41:26 +0100, , enable running multiple script run.py cmd time requires qemu nbd process listen different port signed justin cinkelj justin.cinkelj xlab.si message 1452858086 16783 git send email justin.cinkelj xlab.si signed nadav har nyh scylladb.com,,
1217,3b429c74f27970ecfdc70060deff3692b2015df9,adav Har'El <nyh@scylladb.com>, 2016-01-17 09:41:45 +0200, , makefile fix libenviron.so compilation error libenviron.so incorrectly list dependency list file compile wrong second build built dependency file additional dependency header file caused pas header file compilation command line resulting bizarre compilation failure problem manifested sometimes make would fail stating compilation error libenviron.so target make clean make would work correctly fix use list source file environ_sources dependency fix 708 signed nadav har nyh scylladb.com,,
1218,a7a245350e3f53df1cab7866ca81abda4c810772,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2016-01-14 15:42:53 +0100, , nfs allow opening method much cleaner previous one fix issue 705 signed benoã canet benoit scylladb.com message 1452782573 8794 git send email benoit scylladb.com signed nadav har nyh scylladb.com,,
1219,0c457cddfc1207afe1a29baead16c580203f908f,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2016-01-14 15:42:52 +0100, , nfs revert cleaner patch possible signed benoã canet benoit scylladb.com message 1452782573 8794 git send email benoit scylladb.com signed nadav har nyh scylladb.com,,
1220,38b03b45ecf340135171b023374cb3ab2e23530a,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2016-01-14 13:15:19 +0100, , nfs add test readdir test previous nfs commit non regression test signed benoã canet benoit scylladb.com message 1452773719 12382 git send email benoit scylladb.com signed nadav har nyh scylladb.com,,
1221,f151af9e130ca2debf0534b05e5e5538f5467a64,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2016-01-14 13:15:18 +0100, , nfs create nfs lib directory handle corner case handled nfs lib directory handle created mount time readdir causing nullptr exception fix issue 705 signed benoã canet benoit scylladb.com message 1452773719 12382 git send email benoit scylladb.com signed nadav har nyh scylladb.com,,
1222,af69a0f5830b49d7da85958977918c4e484b3796,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2016-01-14 13:15:17 +0100, , mount nfs improve error message signed benoã canet benoit scylladb.com message 1452773719 12382 git send email benoit scylladb.com signed nadav har nyh scylladb.com,,
1223,6a3bff38a281e65ee715bab4fadef63e0918f7d3,adav Har'El <nyh@scylladb.com>, 2016-01-10 00:07:55 +0200, , test fix boost test new distribution building testing osv host new linux distribution based gcc fedora boost based test fail missing symbol turn problem gcc gcc 4.9 different abis test code compile gcc would able use boost library module test makefile take external compiled gcc 4.9 proper solution would properly stop taking boost library external would probably cause whole cascade issue simpler workaround used patch use magic flag cause new libstdc header file revert using old abi like past workaround work unfortunately turning old abi break abis communicated new library like osv problem caused practice break osv specific debug call boost based test great loss patch simply convert std cerr printout solution probably rethought future work fine prevents needing even bigger change osv osv test build system fix 686 signed nadav har nyh scylladb.com,,
1224,68548f577546e7f57744d0cc9daed3aa6e6267c0,adav Har'El <nyh@scylladb.com>, 2016-01-09 23:41:34 +0200, , test fail test abort default osv encounter abort crash hang allow debugger attached annoying automated testing using make check script test.py certain bug osv kind cause test crash hang test forever instead promptly failing fix patch trivial run osv power abort kernel option cause abort power instead hanging patch also recognizes string backtrace preceeds backtrace crash yet another sign test failure parsing test output message looked like aborted optional guaranteed appear fix 704 signed nadav har nyh scylladb.com,,
1225,7835dcc32c5b8d8adb25eb593b8d36c534042ba2,oel Thompson <joel@jthompson.io>, 2015-12-30 23:15:59 -0500, , add stubbed fpathconf pathconf exists stubbed method adding fpathconf stub adjusting pathconf call fpathconf minimally address 703 signed joel thompson joel jthompson.io signed nadav har nyh scylladb.com,,
1226,cd362a2192869f3f4e6fa19adb5b1873e8e0394e,oel Thompson <joel@jthompson.io>, 2015-12-27 12:55:16 -0500, , add missing __realpath_chk openjdk8 fedora app included osv always try download latest jre fedora rawhide fedora recently updated jre requires __realpath_chk libc installation commit add __realpath_chk fix 701 signed joel thompson joel jthompson.io signed nadav har nyh scylladb.com,,
1227,b3af071f252707337f5dc475e7e59af5b951ffcd,adav Har'El <nyh@scylladb.com>, 2015-12-27 11:45:31 +0200, , header take inotify.h newer musl include api sys inotify.h old musl date lsb declaration say second parameter int uint32_t one side effect definition libc inotify.cc become extern see issue 702 solution patch copy inotify.h newer version musl 1.1.11 verbatim copy file difference older one protoype fix 702 signed nadav har nyh scylladb.com,,
1228,7a505f425b41fdfb9fe5bc909024ab826311d470,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2015-12-17 11:35:02 +0100, , tool create mount nfs.so umount.so user need simple command line mount umount nfs share implement signed benoã canet benoit scylladb.com signed nadav har nyh scylladb.com,,
1229,ce742e77e18b733ebd20d4992d80cd79f6072956,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2015-12-17 11:35:01 +0100, , nfs add nfs client unit test signed benoã canet benoit scylladb.com signed nadav har nyh scylladb.com,,
1230,6cbd1a0f173ed88441dc4e8b5774944433e90a5f,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2015-12-17 11:35:00 +0100, , nfs add nfs client signed benoã canet benoit scylladb.com signed nadav har nyh scylladb.com,,
1231,9fba642a08cc4aa8fa951b5b99ca77741f092d9b,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2015-12-20 09:08:33 +0100, , mmu properly sync file_vma sync ops nfs arc cache used doe implement flush add back proper code commit e7bb7b97 file_vma sync flush suggested signed nadav har nyh scylladb.com suggested gleb natapov gleb scylladb.com signed benoã canet benoit scylladb.com signed nadav har nyh scylladb.com,,
1232,b3579eee9e1d698e411c3e21e7b9eec642160c0b,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2015-12-20 09:08:32 +0100, , nfs add nfs server nfs server used unit test done way nfs kernel server broken distribution due systemd introduction without corresponding unit file nfs ganesha usable currently packaged debian nfs test build module signed benoã canet benoit scylladb.com signed nadav har nyh scylladb.com,,
1233,c121f37bbb5b4dc35d87bcf3526e9491d3f8254e,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2015-12-20 09:08:31 +0100, , nfs add makefile option build libnfs libnfs lgpl licensed nfs client implementation handy implement osv nfs client required hlrs hpc use case require nfs mount regularly save data build make nfs true signed benoã canet benoit scylladb.com signed nadav har nyh scylladb.com,,
1234,b2581abfd5acfca1d3a111f074658e4f87d780ba,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2015-12-20 09:08:30 +0100, , musl add getservbyport since needed libnfs signed benoã canet benoit scylladb.com signed nadav har nyh scylladb.com,,
1235,6ad99b0fd8dc822fd595d4fdeace94f9463c6e35,adav Har'El <nyh@scylladb.com>, 2015-12-17 23:28:20 +0200, , test fix incorrect dependency makefile module test makefile used script build image test dependency error need usr.manifest actual test rather say needed listed usr.manifest said depended test executables executables deleted make clean usr.manifest remained test executables would rebuilt result script build image test think built test upload file image fail solution fix dependency module depends usr.manifest actual test usr.manifest really depend test built list test making list really depend file existing script build image test make clean work signed nadav har nyh scylladb.com,,
1236,4231ce1d580da4b8b62c41398fae95c882cdd6f6,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2015-12-15 17:24:12 +0100, , signal cosmetic cleanup signed benoã canet benoit scylladb.com signed nadav har nyh scylladb.com,,
1237,f0521a389ec94f209041c2b86fa0cc14ff7c684e,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2015-12-15 17:06:39 +0100,699, signal add sigwaitinfo sigwaitinfo required julia mathematical programming language fix 699 signed benoã canet benoit scylladb.com signed nadav har nyh scylladb.com,,
1238,d21e39fee2fa0b9a90873340509b8f4031e44bf4,adav Har'El <nyh@scylladb.com>, 2015-12-06 14:23:12 +0200,151, makefile use ld.bfd explicitly last year gnu binutils shipped two different linkers classic libbfd based ld.bfd newer ld.gold sadly gold various advantage classic notably speed never reached feature parity classic successfully link osv see issue 151 problem distribution allow user switch default ld.bfd ld.gold user switch osv makefile longer work correctly run default might link ld.gold system compiling osv fail link loader.elf error arch x64 loader.ld syntax error unexpected fatal error unable parse script file arch x64 loader.ld makefile 1767 recipe target build release.x64 loader.elf failed patch switch explicitly use ld.bfd instead use older linker even system switched default gold signed nadav har nyh scylladb.com,,
1239,d46dcdbcbb86bc39ac2966f7d42acd06588cca84,hiqing Fan <shiqing.fan@huawei.com>, 2015-12-04 08:20:57 +0100, , make possible build ubuntu 15.04 signed shiqing fan shiqing.fan huawei.com signed nadav har nyh scylladb.com,,
1240,ed2bebc96a124f1eb94d2c116387884950e60a05,enoÃ®t Canet <benoit.canet.contrib@gmail.com>, 2015-11-26 21:23:53 +0100, , vfs fix vfsop_umount_t prototype declaration plain wrong probably nobody ever used signed benoã canet benoit scylladb.com reviewed nadav har nyh scylladb.com signed pekka enberg penberg scylladb.com,,
1241,522f1da46d74e8af084f63fd99ca30b5302afc97,adav Har'El <nyh@scylladb.com>, 2015-11-25 17:23:37 +0200, , module test redundant target makefile testrunner.so unnecessarily listed twice list test signed nadav har nyh scylladb.com,,
1242,bbb5f013e9bb03949c7c8873407a2d03263d6d82,adav Har'El <nyh@scylladb.com>, 2015-11-12 16:04:39 +0200, , module httpserver jolokia plugin clean makefile makefile httpserver jolokia plugin module dependency java module mess make clean left behind empty directory dependency accurately specified cause random strangeness parallel compilation patch fix issue signed nadav har nyh scylladb.com,,
1243,b54b334b0fbfa9572c145643b03313bce72e00d7,enoÃ®t Canet <benoit@cloudius-systems.com>, 2015-11-17 12:48:04 +0100, , httpserver set permission file operation reported justin wp4 mailling list permission variable ignored rest api file operation fix close 681 suggested nadav har nyh scylladb.com suggested justin cinkelj justin.cinkelj xlab.si signed benoã canet benoit scylladb.com signed nadav har nyh scylladb.com,,
1244,aab62534cae238078b6c00800e90ded480ae59dd,enoÃ®t Canet <benoit@cloudius-systems.com>, 2015-11-17 13:39:51 +0100, , httpserver look query parameter right place module httpserver request.hh std vector header httpserver parameter param would lead incorrect permission set spotted justin original justin cinkelj justin.cinkelj xlab.si signed benoã canet benoit scylladb.com signed nadav har nyh scylladb.com,,
1245,24a9da4ba8ffcac21115bf420e03ce0cda822e00,enoÃ®t Canet <benoit@cloudius-systems.com>, 2015-11-16 20:26:56 +0100, , elf optimize get_program get_program using couple shared pointer could potentially slow rewrite critical code path suggested nadav har nyh scylladb.com signed benoã canet benoit scylladb.com signed nadav har nyh scylladb.com,,
1246,423519246f01100362feaeecf9708034d6393524,enoÃ®t Canet <benoit@cloudius-systems.com>, 2015-11-15 17:15:35 +0100, , test fix breakage non english locale one test broken french locale machine set locale test script signed benoã canet benoit scylladb.com signed nadav har nyh scylladb.com,,
1247,39648b16ff54c9790e5f1274618b81fd9c0503fe,enoÃ®t Canet <benoit@cloudius-systems.com>, 2015-11-13 17:33:59 +0100, , namespace add optional environement parameter osv run provided optional environment merged current environ variable signed benoã canet benoit scylladb.com signed nadav har nyh scylladb.com,,
1248,2dc602f419774bc703560026b7fde531c04099c0,enoÃ®t Canet <benoit@cloudius-systems.com>, 2015-11-15 16:37:10 +0100, , test add test per namespaces environment variable test payload env.so setenv modify main osv environ variable called without creating namespace test without namespaces kept separate way start test clean state still factorize code putting common function common file signed benoã canet benoit scylladb.com signed nadav har nyh scylladb.com,,
1249,e93af8d3622ba1cf491ba12c780f05bb447de8ac,enoÃ®t Canet <benoit@cloudius-systems.com>, 2015-11-13 17:33:57 +0100, , namespace enable per namespace environment variable load libenviron.so file program started new namespace also take care copying osv environment variable libenviron.so instance variable signed benoã canet benoit scylladb.com reviewed nadav har nyh scylladb.com signed nadav har nyh scylladb.com,,
1250,1d3645b6c1a119ea34e1a3dca6ae814d4902905f,enoÃ®t Canet <benoit@cloudius-systems.com>, 2015-11-13 17:33:56 +0100, , namespaces create new per namespace environment library purpose patch following patch give osv application option set environment variable getenv friend program including openmpi framework use function like getenv rather directly use extern char environ see environ reason obvious approach modifying getenv support per osv application environment enough need application see different environ global variable could hack dynamic linker modify meaning environ symbol ugly instead solution chosen build shared object libenviron.so containing environ elf namespace load library get different environment however end story osv function like getenv linked build time continue use main environ used need libenviron.so also contain copy function copy used first time dynamic linker resolve use environ one belonging current namespace additional copy function libenviron.so add memory overhead every namespace optional overhead tiny tiny function beauty approach new code needed libenviron.so contains unmodified __environ getenv etc code doe exactly thing doe main osv dynamic linker pick different __environ object running code note compile libenviron.so source file rather link existing object file reason mundane usually compile object file without fpic building shared object requires commit message nadav har nyh scylladb.com signed benoã canet benoit scylladb.com reviewed nadav har nyh scylladb.com signed nadav har nyh scylladb.com,,
1251,0bc30f67079b228d19f55d4ba74969b7b546f154,adav Har'El <nyh@scylladb.com>, 2015-11-08 16:03:15 +0200, , makefile better warning missing submodules someone try make without running git submodule update init first result really hard understand compilation error readme tell user run git submodule command hidden among lot text easy miss patch add makefile test important submodules needed default run make one missing tell user exactly wrong run signed nadav har nyh scylladb.com,,
1252,25bc4655c3a0067988ee8191f309bfc04399b57b,adav Har'El <nyh@scylladb.com>, 2015-11-12 10:50:21 +0200, , app ignore running elf namespaces current elf namespace code silently ignores case failing create new program elf namespace case program run run namespace caller even know lead unexpected result situation far fetched current application new_program code limited namespaces even worse current code doe free namespace elf program osv application destructor even running different program one another parallel lead failure quick fix patch abort reach problem course better long term fix would free namespace longer used reconsider limit really fit address space use exception abort caller really try run concurrent namespaces signed nadav har nyh scylladb.com,,
1253,e6de6925a1b65982e574914c7f3d47c2704b6f27,adav Har'El <nyh@scylladb.com>, 2015-11-12 10:12:26 +0200, , elf.hh update comment previous patch default search path longer defined loader.cc rather elf program constructor signed nadav har nyh scylladb.com,,
1254,8f680288cf3cef1f0981aa592deb903216b7816a,enoÃ®t Canet <benoit@scylladb.com>, 2015-11-11 13:02:34 +0100, , test create simple test check namespaces work suggested nadav har nyh cloudius systems.com signed benoã canet benoit scylladb.com signed nadav har nyh scylladb.com,,
1255,d0b28fc0023c606c7a455b8e60da709882ac757b,lauber Costa <glommer@cloudius-systems.com>, 2015-11-11 13:02:33 +0100, , run expose new run function patch add new parameter run new_program parameter set true new application program run new namespace signed glauber costa glommer cloudius systems.com signed benoã canet benoit scylladb.com signed nadav har nyh scylladb.com,,
1256,e9758b9107c28f42eacaedd466f49d343bbddeae,enoÃ®t Canet <benoit@scylladb.com>, 2015-11-11 13:02:32 +0100, , sched elf pave way creating new namespace order create new partial namespace new instance elf program needed patch keep elf s_program running thread creating way add new per application elf program needed idea suggested glauber alternative previous series somewhat intrusive patch also introduces application method allows new program created calling thread new program created different slice address space effectively imposes lower amount memory program use limit still big enough enough anybody signed benoã canet benoit scylladb.com signed glauber costa glommer cloudius systems.com signed nadav har nyh scylladb.com,,
1257,d4cf98fe2fd0c35991cab5b487a98c79e0051c57,adav Har'El <nyh@scylladb.com>, 2015-11-08 17:40:00 +0200, , cpiod fix handling prefix absolute symlinks use script build cpiod prefix feature allow uploading file mount point case zfs zfs problem absolute pathname symbolic link imagine someone add symbolic link target pointing orig uploads file target file existing code uploaded file prefix path i.e. zfs zfs target file however work zfs zfs target absolute pathname symbolic link orig link indeed work final system filesystem mounted work upload orig doe exist zfs zfs orig exists recourse process expand symbolic link code ignore relative symbolic link already treated correctly although using many let escape prefix need implement link absolute path differently adding prefix target link patch fix existing module preemptively fix bug could noticed future module example following manifest trigger bug fixed fix xyz tmp silly construct creates empty directory zzz xyz zzz qqq tmp signed nadav har nyh scylladb.com,,
1258,87d8d93db5473983d22b30797787ddbdce2e550f,adav Har'El <nyh@scylladb.com>, 2015-11-08 12:52:35 +0200, , currently include osv file.h vanishes nothing _kernel defined make sense place include need definition break user space code compiled osv header instead patch move ifdef _kernel around file.h bsd compatibility code really needed signed nadav har nyh scylladb.com,,
1259,7df1e7e11a161fccce8c36729395e266805c3353,adav Har'El <nyh@scylladb.com>, 2015-11-04 13:20:31 +0200, , getrlimit add missing limit add last limit linux getrlimit implement unsurprisingly return answer limit still realtime scheduling realtime signal related limit implemented osv yet fix 676 signed nadav har nyh scylladb.com signed pekka enberg penberg scylladb.com,,
1260,aa5725af24e9d5df8b95c3f264e1a788e3674286,adav Har'El <nyh@scylladb.com>, 2015-11-03 21:43:51 +0200, , module josvsym fix make clean fix missing parenthesis module josvsym makefile signed nadav har nyh scylladb.com signed pekka enberg penberg scylladb.com,,
1261,887bdec3832a3527d0ee21616e8e81c9fbaf45e5,adav Har'El <nyh@scylladb.com>, 2015-11-04 13:05:11 +0200, , getrlimit abort warning hidden mistake call debug kprintf abort debug message always appear osv run verbose user see bare unexplained aborted message better idiom call abort message ensures message printed unconditionally replacing usual aborted message abort signed nadav har nyh scylladb.com signed pekka enberg penberg scylladb.com,,
1262,ccaf871aaf4aca6af20aa850c4d24c5ad25cddb3,adav Har'El <nyh@cloudius-systems.com>, 2015-10-28 20:48:53 +0200, , vfs fix expansion symbolic link inside mount bug processing symbolic link filesystem mounted since recently script build run cpiod.so zfs filesystem mounted zfs zfs bug exposed made build image java test openjdk8 fedora example fail trying use symbolic link seemed set correctly problem namei function among thing expands symbolic link translating pathname vnode internally namei separate full path like zfs zfs usr lib jvm java mount point zfs zfs node usr lib jvm java look node inside file system however target symbolic link context whole system necessarily inside mountpoint code forgot full path contains mountpoint zfs zfs node doe mountpoint messed calculation result botched symbolic link translation using symbolic link inside path failed signed nadav har nyh cloudius systems.com signed pekka enberg penberg scylladb.com,,
1263,5e9f153f5c21aad70799f80873b5ff07ce3b03df,adav Har'El <nyh@cloudius-systems.com>, 2015-10-28 11:47:56 +0200, , update apps submodule signed nadav har nyh cloudius systems.com,,
1264,151d6a8959d4f65c37234482f6aea57d23037751,adav Har'El <nyh@cloudius-systems.com>, 2015-10-26 23:17:20 +0200, , script build add slash prefix cpiod.so blindly concatenates prefix give path get prefix end slash zfs zfs patch path start slash case ruby app concetenation result nonsense solution end prefix slash zfs zfs relative path considered relative zfs root directory signed nadav har nyh cloudius systems.com signed pekka enberg penberg scylladb.com,,
1265,5ccc0214549eb10a09b7788db7ac7aedc3edd55c,adav Har'El <nyh@cloudius-systems.com>, 2015-10-27 00:04:23 +0200, , update apps submodule signed nadav har nyh cloudius systems.com,,
1266,852cad7b71caa8f7a91bd7c948d5c3e3647b013c,vi Kivity <avi@scylladb.com>, 2015-10-26 11:48:51 +0200, , external update gcc boost latest fedora package signed avi kivity avi scylladb.com,,
1267,67bf1ceca1ae940c33d643116937a96d157c374f,adav Har'El <nyh@cloudius-systems.com>, 2015-10-22 10:23:29 +0300, , vfs clean sys_symlink old path given symlink necessarily real path string never need process path need variable holding directory entry old path never actually used remove signed nadav har nyh cloudius systems.com signed pekka enberg penberg scylladb.com,,
1268,90e51b8cfbe0dd52a18e9bf784282635adff0c89,adav Har'El <nyh@cloudius-systems.com>, 2015-10-22 10:17:01 +0300, , zfs creating symlink mark inactive zfs_inactive call missing creating new symbolic link see similar zfs_inactive call zfs_create zfs_mkdir place need zfs_symlink result missing call zfs believed newly created symbolic link still used asked unmount file system rejected request ebusy error resource still use one symptom bug often building script build image contains symbolic link would fail reporting unmount failure cpiod.so given prefix zfs zfs explicitly tried unmount directory exiting unmount failed claiming filesystem busy patch longer happens signed nadav har nyh cloudius systems.com signed pekka enberg penberg scylladb.com,,
1269,d9c58162f51cf40ac57f14d4076fdfae40231857,adav Har'El <nyh@cloudius-systems.com>, 2015-10-22 10:39:24 +0300, , update apps submodule update apps latest head including fix netperf tomcat build signed nadav har nyh cloudius systems.com,,
1270,0c55171c6a75228f3b298a468cae6b21e9612968,adav Har'El <nyh@cloudius-systems.com>, 2015-10-21 18:40:11 +0300, , build get rid mkzfs.py comment script build pointed unnecessarily upload file image twice build mkzfs.py result code duplication confusion needing run osv three time one build patch fix patch eliminates mkzfs.py run osv build everything necessary one boot run osv ramdisk mkfs.so cpio.so zfs.so start running mkfs.so format zfs partition mount zfs zfs without exiting osv cpio.so still ramdisk upload file onto zfs partition zfs zfs finally set zfs option zfs.so one run allow avoid extra upload step old code needed upload cpio.so also zfs partition patch also make image build faster machine fast disk script build image rogue time dropped 3.5 second 2.5 second patch also make clearer doe list file ramdisk loader.img compiled makefile file added zfs partition want need explicitly patch add backward compatibility default per module bootfs.manifest file used used long time osv kernel makefile build ram disk know module  signed nadav har nyh cloudius systems.com signed avi kivity avi scylladb.com,,
1271,3ec2cc7669bb51972a0321267bf09f3080ab961c,adav Har'El <nyh@cloudius-systems.com>, 2015-10-19 23:09:47 +0300, , run.py default run last built image easy forget run run.py compiling build mode debug without option default run release mode build even built debug version patch run.py default running last built image whether debug release build compiled version want explicitly choose version run instead running one compiled last use existing option choose debug build new option choose release build additionally patch add clearer error message requested image doe exist example script run.py exception image file home nyh osv build debug usr.img doe exist signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1272,bfa26dad2e1861d4af475493707aa281a2c8dd75,adav Har'El <nyh@cloudius-systems.com>, 2015-10-18 10:04:08 +0300, , zfs zpool.so try mount dev vblk0.1 boot unconditionally mount dev vblk0.1 later run zpool.so import potentially search zfs disk mount test usually futile look various irrelevant file dev whether might disk volume quick find dev vblk0.1 open slow machine slow seek i.e. spinning disk adding second boot usually take one second patch modifies search function normally iterates file dev ignore dev vblk0.1 assuming already mounted ugly really help boot speed machine spinning disk perhaps cleaner patch would exclude already mounted device probably list proc etc fstab something instead hard coding name think make improvement later signed nadav har nyh cloudius systems.com signed avi kivity avi scylladb.com,,
1273,375389021875494353cdb5069982d051f29a1782,adav Har'El <nyh@cloudius-systems.com>, 2015-10-16 10:51:08 +0300, , run.py eliminate warning option run.py unsafe option passed qemu combination cache unsafe aio native make sense cache unsafe implies o_direct used aio native requires o_direct qemu used silently fall back aio thread case starting qemu 2.3 print annoying warning run.py used script build see annoying warning every build patch fix explicitly use cache unsafe aio thread changing behaviour avoiding warning newer qemu fix 663 signed nadav har nyh cloudius systems.com signed avi kivity avi scylladb.com,,
1274,6703d2283158f062eb0bccf0db9ccb73c6bbe6ac,adav Har'El <nyh@cloudius-systems.com>, 2015-10-16 00:41:40 +0300, , build eliminate warning imgedit.py imgedit.py used makefile script build qemu nbd modify image raw format format e.g. qcow2 recent version qemu started print annoying warning qemu nbd need guess image type raw image raw image need explicitly tell qemu nbd raw instead adding new option imgedit.py esoteric case decided pas filename raw file.raw imgedit.py qemu nbd command line pretty ugly work patch make progress issue 663 warning remain well signed nadav har nyh cloudius systems.com signed avi kivity avi scylladb.com,,
1275,dc6abb5a08aed1a515921d45b72a31c421cd2a84,adav Har'El <nyh@cloudius-systems.com>, 2015-10-16 23:59:13 +0300, , fix reference leak unlink error previous patch unlink introduced subtle bug forget vn_unlock parent directory writable patch add  real way fix use raii instead explicit error prone lock unlock gotos would require substantial overhaul file another time ... signed nadav har nyh cloudius systems.com signed avi kivity avi scylladb.com,,
1276,f86fb80e5d0fb72a76f0f7d6df9ffb0a217ce678,adav Har'El <nyh@cloudius-systems.com>, 2015-10-16 22:29:47 +0300, , test make tst rename runnable linux useful osv test also compiled linux confirm test really testing correct behavior tst rename unnecessary dependency osv debug.h patch remove additionally test try move file directory tmp linux distribution different device move disallowed need also allow exdev error code signed nadav har nyh cloudius systems.com signed avi kivity avi scylladb.com,,
1277,b464899632ec0e232e5a8dcc9db649dd511ef75b,adav Har'El <nyh@cloudius-systems.com>, 2015-10-16 23:17:19 +0300, , test make tst remove runnable linux useful osv test also compiled linux confirm test really testing correct behavior tst remove unnecessary dependency osv debug.h debug function patch instead iostream operator signed nadav har nyh cloudius systems.com signed avi kivity avi scylladb.com,,
1278,7fa53520d9a4c26d948723adc0c1696e4d1b547b,adav Har'El <nyh@cloudius-systems.com>, 2015-10-16 23:30:47 +0300, , fix unlink permission checking arguable see issue 593 whether osv file permission checking given linux root however file permission checking let least botch unlink checked file deleted writable incorrect perfectly fine delete unwritable file checked writeability parent directory file patch also includes test deleting unwritable file succeeds linux failed osv succeeds patch signed nadav har nyh cloudius systems.com reviewed raphael carvalho raphaelsc cloudius systems.com signed avi kivity avi scylladb.com,,
1279,91e484f1350fe2808307819cfc384359647e1487,adav Har'El <nyh@cloudius-systems.com>, 2015-10-16 23:50:55 +0300, , fix rename permission checking arguable see issue 593 whether osv file permission checking given linux root user however file permission checking let least botch rename checked file renamed writable incorrect perfectly fine rename unwritable file checked writeability file parent directory well destination directory patch also includes test renaming unwritable file succeeds linux failed osv succeeds patch patch also might solve issue 661 although might yet another bug exposed issue stat vn_access see different permission signed nadav har nyh cloudius systems.com signed avi kivity avi scylladb.com,,
1280,c60331da68b075feddecb04394015cf07310b87c,adav Har'El <nyh@cloudius-systems.com>, 2015-10-12 10:59:12 +0300, , build add mode variable module makefiles depended script build set variable module makefiles use figure build directory osv_build_path architecture building arch turn makefiles module httpserver makefile also assumed mode variable set actually mode variable unset makefile default release mode even trying build debug mode instead fixing module makefiles try use mode appears used osv_build_path instead ... simpler bite bullet add mode variable fix 659. hopefully time good need reopen yet  signed nadav har nyh cloudius systems.com signed avi kivity avi scylladb.com,,
1281,1c7136c9521a3a518d1c20212ac145b377b9235b,vi Kivity <avi@scylladb.com>, 2015-10-12 10:38:19 +0300,40, update apps submodule apps 922711c ... 8ccc734 cassandra update jna version download site cassandra remove redundant line manifest merge pull request davedoesdev master merge pull request glauciom patch merge pull request bhuztez otp 18.0 upgraded ono 1.2.1 perl fix build merge pull request russt osv apps cado fix module.py cado makefile fix merge pull request russt osv apps merge pull request cosmo0920 update jruby sinatra example perl hello support script build perl add default command line script build perl support script build perl fix makefile parallel make perl use tab makefile merge pull request russt osv apps signed avi kivity avi scylladb.com,,
1282,2e2d49847125ff95f07c6a995e834fe033afed95,adav Har'El <nyh@cloudius-systems.com>, 2015-10-12 10:17:12 +0300, , script build support script build patch passing script build work correctly passing without numeric argument fails weird way problem option passed script module.py expects option value swallow next command line parameter python parsearg actually allows option optional value could done module.py action store default none const nargs unfortunately doe work well module.py current command line structure command line passed script module.py script module.py build rogue python think build optional value figure tell build integer separate argument make behaves opted simpler fix patch script build see without value give module.py fake value i.e module.py see replaces back signed nadav har nyh cloudius systems.com signed avi kivity avi scylladb.com,,
1283,c344d3035264608d4cf920407750be134236bf17,adav Har'El <nyh@cloudius-systems.com>, 2015-10-12 09:25:40 +0300, , script build fix handling space run script build parallelism option passed osv makefile individual module makefiles however existing code supported syntax correctly parse space syntax supported make user expect work script build well patch fix  fix 660 note patch script build without number limiting number parallel job still work require another patch signed nadav har nyh cloudius systems.com signed avi kivity avi scylladb.com,,
1284,5fec7c6d6dfd6e3a5d8fa69c5f64a89dc6469afb,adav Har'El <nyh@cloudius-systems.com>, 2015-10-11 13:35:19 +0300, , makefile fix missing dependency makefile need create dynamically generated header file e.g. build gen include bit alltypes.h compiling source file achived adding dependency generated header default rule compiling file example .cc generated header makedir call quiet cxx cxxflags cxx .cc however unfortunately still handful case makefile use different compilation line place forgot generated header dependency makedir call lead failed compilation make decided compile one file compiling anything else default rule listed make considerable freedom reorder build make even messier theoretically could hit problem randomly hopefully fix 659. please reopen bug reproduce bug patch fix real bug know really fix bug signed nadav har nyh cloudius systems.com signed avi kivity avi scylladb.com,,
1285,443661745368dd0ea7e024a3f300bf0b5375ffa6,ustin Cinkelj <justin.cinkelj@xlab.si>, 2015-10-09 10:47:44 +0200, , add mmap system call void return value typecasted long signed justin cinkelj justin.cinkelj xlab.si signed pekka enberg penberg cloudius systems.com,,
1286,43536e17f860e0bc0029558dba3992999c09f3ed,ustin Cinkelj <justin.cinkelj@xlab.si>, 2015-10-09 10:47:43 +0200, , add munmap system call signed justin cinkelj justin.cinkelj xlab.si reviewed nadav har nyh scylladb.com signed pekka enberg penberg cloudius systems.com,,
1287,e96d89f9f8cfebc6f26da18ac652f0ba9cc3e43b,adav Har'El <nyh@cloudius-systems.com>, 2015-10-06 14:57:06 +0300,657, libc implement __asprintf_chk implement __asprintf_chk linux abi instead asprintf code compiled implement additional checking compared regular asprintf least prevents code compiled way crashing missing symbol thanks justin inkelj noticing function missing proposing patch fix 657 signed nadav har nyh cloudius systems.com signed avi kivity avi scylladb.com,,
1288,7831937400c11edface72db134ebd4e3151ffcf4,adav Har'El <nyh@cloudius-systems.com>, 2015-10-04 19:35:10 +0300,621, implement memalign patch implement memalign older sunos originating variant posix_memalign aligned_alloc latter two alternative available standardized posix c11 respectively little reason use memalign posix_memalign manual page label obsolete still application use let implement especially easy basically identical aligned_alloc fix 621 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1289,33706cd90f4d8f4c130d9c489aec53c6c5030b64,adav Har'El <nyh@cloudius-systems.com>, 2015-10-02 03:39:39 +0300, , mmu fix bug newer version boost reported issue 635 vma searching code worked older version boost 1.55 new version 1.57 longer work correctly resulting example java crashing turn nice trick using alternative comparator addr_compare find intersecting vmas considered illegal boost developer see http svn.boost.org trac boost ticket 11701 result undefined behavior happened expected boost 1.55 longer patch replaces nice working addr_compare trick finding intersecting vmas eleborate working code find separately beginning end intersection range comparator compatible vma_compare code slightly slower previous code lower_bound hint start still logarithmic size vma_list believe acceptable implementation course without patch osv work fedora distro switched boost 1.57 need patch fix 635 signed nadav har nyh cloudius systems.com signed avi kivity avi scylladb.com,,
1290,7b3e22cdfa8698a4878ee9b57e69d30ccbb49894,adav Har'El <nyh@cloudius-systems.com>, 2015-10-02 03:39:38 +0300, , mmu vma searching function issue 635 discovered way search range address vma list doe work correctly newer version boost fix bug let move vma searching code duplicated several time mmu.cc two function search range address search single address patch make functional change code reorganizes pave way next patch signed nadav har nyh cloudius systems.com signed avi kivity avi scylladb.com,,
1291,543097248301eea61b78ee9fe3b84ad778aa17ec,adav Har'El <nyh@cloudius-systems.com>, 2015-09-30 18:21:07 +0300, , elf copy relocation copy recent version gcc compiling pie curious thing global variable gcc place referenced globals executable use copy relocation allow overriden library case osv reason slightly improve performance common case pie access globals library explained gcc commit http gcc problem implementation copy relocation looked symbol library also first executable ended copying symbol obviously doe nothing need copy symbol one loaded library executable relocated patch doe without patch pie external global variable e.g. stdout see value i.e. zero initialized global variable instead correct pointer osv global variable fix 654 signed nadav har nyh cloudius systems.com signed avi kivity avi scylladb.com,,
1292,63c6ac5a74855cbe5ca27a5f6918cf546533b1df,adav Har'El <nyh@cloudius-systems.com>, 2015-09-30 01:48:33 +0300, , build fix python2 ism script used script build contained one use free function split work python2 would work system switched default python3 solution use split method string object like code already doe several place fix 655 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1293,dfdf08f6b9554af357e245992e0deadc6228d790,adav Har'El <nyh@cloudius-systems.com>, 2015-09-29 11:09:47 +0300, , build fix manifest java application jvm specific code module.py added manifest line looking like however manifest parser rewritten commit 1b4ffe29c8a8c requires space colon patch add missing space signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1294,255fe19c107a9757e17e7afeaa783fd795626467,ao Zheng <bhuztez@gmail.com>, 2015-09-13 19:22:09 +0800, , add fake clock_gettime clock_boottime erlang otp 18.0 work around long system never suspended clock_boottime identical clock_monotonic signed yao zheng bhuztez gmail.com reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1295,3bebd6cfcd4edfe537cdf23f4bd6782ac81bf914,adav Har'El <nyh@cloudius-systems.com>, 2015-09-06 11:55:04 +0300, , libc update time.h musl 1.1.11 include api time.h copied old version musl miss newer clock type linux clock_boottime need definition want implement one clock unfortunately version time.h musl include musl 0.9.12 also good spelled constant name patch took time.h latest version musl 1.1.11 version good patch include api time.h identical musl one time.h patch also added constant new constant place time.h private constant need share implementation two function libc pthread.cc libc time.cc patch instead add constant new header file libc pthread.hh allows keep time.h unmodified musl signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1296,41dffab9bbbd7fd558d1a275ce01815d0113a739,adav Har'El <nyh@cloudius-systems.com>, 2015-09-03 11:47:59 +0300, , gdb fix support newer version boost patch fix osv info thread osv mmap osv heap gdb command see http github.com cloudius system osv wiki debugging osv got broken using recent version boost none three command work boost 1.57 e.g. fedora problem debugging command inspect boost type use namely boost intrusive set boost intrusive list need know internal structure type internal structure changed recent version boost patch check run time older newer field name work correctly older newer version boost new has_field function added patch also useful future boost undoubtedly change signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1297,1b4ffe29c8a8caef276710d43c3c57c3e8cdf6e1,adav Har'El <nyh@cloudius-systems.com>, 2015-08-10 22:45:14 +0300, , build fix wrong reading manifest file existing build code manifest file contained two line left hand side e.g. home nyh osv apps perl rootfs home nyh osv apps cado rootfs first one incorrectly ignored broke build osv apps.git cado example application perl dependency added one line manifest aiming add file image code incorrectly ignored one resulting image without perl problem parsing manifest file used python configparser facility sophisticated microsoft window inspired option parser whose feature set quite orthogonal really need parse trivial manifest file relevant problem configparser treated manifest line setting option left hand side giving option name second line example changed value option shadowing former setting patch stop using configparser implement trivial parser really need ignoring comment empty line breaking etc fix 650 make script build image cado work expected signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1298,0126919922da5c2b21143524edbb740bd7160d24,yril Plisko <cyril.plisko@mountall.com>, 2015-08-05 11:13:31 +0300, , pci incorrect bar enumeration following 64bit bar advance bar_idx counter one time following enumeration bit bar signed cyril plisko cyril.plisko mountall.com signed avi kivity avi cloudius systems.com,,
1299,6a78adac13343d9182bb948c50d5a23d0eba51ca,yril Plisko <cyril.plisko@mountall.com>, 2015-08-05 11:13:30 +0300, , pci function dump_config fix dump_config stop first non existing bar thus missing inconsecutive bar signed cyril plisko cyril.plisko mountall.com signed avi kivity avi cloudius systems.com,,
1300,d00aff56fd97a47d9b5761a16bd0bdb0631fbca7,yril Plisko <cyril.plisko@mountall.com>, 2015-08-05 11:13:29 +0300, , pci fix msi_disable msi_disable erroneously call instead msi_set_control fortunately msi_disabled used anywhere signed cyril plisko cyril.plisko mountall.com signed avi kivity avi cloudius systems.com,,
1301,4933b09b73bb5d96fe90dfb4260a3130fc0e8ffb,yril Plisko <cyril.plisko@mountall.com>, 2015-08-05 11:13:28 +0300, , pci nitpicks slight optimization cleanup need call return void method arrange follow true false logic signed cyril plisko cyril.plisko mountall.com signed avi kivity avi cloudius systems.com,,
1302,6a368e8d59ec4b3d53cfec698af38116de65cbd2,yril Plisko <cyril.plisko@mountall.com>, 2015-08-05 11:13:27 +0300, , pci support 64bit read write add readq writeq method bit pci access signed cyril plisko cyril.plisko mountall.com signed avi kivity avi cloudius systems.com,,
1303,b12d57e1125ecea715b243a09cc16830f48dbc14,yril Plisko <cyril.plisko@mountall.com>, 2015-08-05 11:13:26 +0300, , pci programming interface support add pci programming interface accessor method signed cyril plisko cyril.plisko mountall.com signed avi kivity avi cloudius systems.com,,
1304,35ef963616a8c6eb7356b83ebd9444cd4ee83f4a,ekka Enberg <penberg@cloudius-systems.com>, 2015-07-31 14:11:34 +0300, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1305,405230eb37d26c024acab09316381d482c2de159,ekka Enberg <penberg@cloudius-systems.com>, 2015-07-31 13:44:35 +0300, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1306,0c876995c89fcfc9dcfcb5c2793e4deff0d0f835,yril Plisko <cyril.plisko@mountall.com>, 2015-07-26 22:02:41 +0300, , change make_phys_array signature replace align template parameter function argument useful used template class instantiated different alignment requirement signed cyril plisko cyril.plisko mountall.com signed avi kivity avi cloudius systems.com,,
1307,88ef87dd95b8a69aa12ceaf467a807e8f61ed55f,laudio Fontana <claudio.fontana@huawei.com>, 2015-07-22 17:53:42 +0200, , aarch64 arch dtb improve pci irq mapping code qemu upstream changed interrupt map arm pci host controller adding two address cell entry since change code bit dynamic actually follow phandle pointer get right unit address size signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
1308,d26b0e7e36338b391f1cde87297ce4dca332eae5,adav Har'El <nyh@cloudius-systems.com>, 2015-07-19 10:00:25 +0300, , httpserver fix include path commit balloon_api.hh moved need fix used default script build compiling among thing httpserver break signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1309,3f4ec8ed98f86658000e4127a85fae401e4c217c,ekka Enberg <penberg@cloudius-systems.com>, 2015-07-15 18:23:42 +0300, , merge fixed typo release ec2.sh jordan wilberding signed pekka enberg penberg cloudius systems.com,,
1310,49150088b783901841d94e0ed5089955c1cde4f0,ordan Wilberding <jwilberding@gmail.com>, 2015-07-15 08:07:31 -0700, , fixed typo release ec2.sh signed jordan wilberding jwilberding gmail.com,,
1311,6470f8f873e97f10fcb98c20e454895538fb2cff,adav Har'El <nyh@cloudius-systems.com>, 2015-07-08 23:09:20 +0300, , fcntl clean o_cloexec friend patch clean fcntl assertion fail similar nonsense importantly corrects somewhat bogus treatment o_cloexec fd_cloexec flag treatment fcntl f_setfd fd_cloexec inherently flawed decided save bit open file flag f_flags mean dup licate file descriptor get setting bit contrary expectation bit per file descriptor usually unset newly dup file descriptor however small flaw really matter close exec flag really matter osv exec nevertheless implementation additional even serious bug namely put bit fd_cloexec f_flags fd_cloexec different meaning f_flags fread need use o_cloexec bit fd_cloexec ... patch change finally patch also add bit 0100000 response f_getfl bit bit formerly known o_largefile returned bit linux return bit standardized posix linux standard base documentation fcntl claim linux within right add guessing application depends better safe sorry ... also patch test situation described patch pass linux osv one check commented test still fails osv check dup file descriptor get fd_cloexec reset explained yet supported osv probably practical significance anyway signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1312,de4739c5702be19abaa4cf05206fcbb67fb85f29,ekka Enberg <penberg@cloudius-systems.com>, 2015-07-08 09:54:05 +0300, , vfs fix f_setfl fcntl mask james writes recently come across think might bug osv basically call fcntl f_setfd fd_cloexec socket work expected although based understand osv might useless call set cloexec flag run follow two line get error vfs main.cc int flag fcntl f_getfl fcntl f_setfl flag o_nonblock reason error f_setfl attempt ignore nearly every flag allow specific one however ignore list exhaustive miss o_cloexec mean assertion line 1467 vfs main.cc fails cloexec set think proper solution add o_cloexec setfl_ignored wanted ask entirely certain possible fix would change setfl_ignored setfl assume reason done first place ... fix reported james root jamesroot gmail.com signed pekka enberg penberg cloudius systems.com signed avi kivity avi cloudius systems.com,,
1313,34099103e69a928fb85060d372cad3144d8ff4a0,yor Goldstein <lgoldstein@vmware.com>, 2015-06-29 08:08:24 +0300, , moved jvm startup code separate folder signed lyor goldstein lgoldstein vmware.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1314,c76a8ff15dd44ab1270c752e5d1bf6a8b8802cf6,laudio Fontana <claudio.fontana@huawei.com>, 2015-07-06 14:21:05 +0200, , aarch64 remove unneeded ifdefs remove lingering ifdefs signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
1315,b45542a8d241abbfd730503fb431538ee6899e58,adav Har'El <nyh@cloudius-systems.com>, 2015-07-02 14:22:03 +0300, , readme fix outdated information information readme.md img_format make parameter outdated current build script always build qcow2 image converted script convert script signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1316,9f0ef3effda4920be6cd321c70df10a2995aab56,adav Har'El <nyh@cloudius-systems.com>, 2015-07-03 11:05:23 +0300, , sched fix boot time hang sleeping idle thread idle thread must sleep raison etre make sure scheduler always something run idle thread runnable scheduler find evaluating runqueue.begin empty queue undefined practice lead endless loop boost mark empty queue head pointing unfortunately idle thread implementation run cpu early boot function take mutex theoretically sleep cause scheduler hang claudio saw problem practice rare hang boot arm port patch fix problem changing sleep mutex lock rather mutex try_lock loop instead patch also make idle thread preempt_disable debugging measure hopefully produce earlier clearer crash somebody try add sleeping code idle thread signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1317,5e76a2f05b379fe5693e8b935dec6b15a34bd291,adav Har'El <nyh@cloudius-systems.com>, 2015-07-03 11:05:22 +0300, , add macro with_lock lock ... really useful idiom safely running piece code lock taken without forgetting unlock wanted similar idiom try_lock ensuring forget unlock successfully acquired lock patch achieves goal macro like scope_lock i.e. drop lock end current block unlike scope_lock assumes lock already taken instead taking example one lock try_lock lock code run lock else code run failed take lock  another example lock try_lock lock yet ...  got lock lock ... use something like second example next patch signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1318,58ad9dcce14af9711e64b43f246c6c087e38d5f6,adav Har'El <nyh@cloudius-systems.com>, 2015-06-30 12:04:49 +0300, , httpserver fix bug app rest api app command ... request always ran command one spurious parameter problem command line parser always end command line suffix saying command supposed run sequence parallel need drop last item command line attempt run  signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1319,9211c5e09120a07cd3d3ec943c46e00a7e686f6b,adav Har'El <nyh@cloudius-systems.com>, 2015-07-01 22:13:20 +0300, , sched thread const correctness method thread read mark const operator const reference thread signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1320,1d7dac098d099c944df3cd4c1b9d00a7a4f58f78,adav Har'El <nyh@cloudius-systems.com>, 2015-06-29 18:46:54 +0300, , test repeated boot test add program test misc reboot.cc doe osv reboot soon start running test long time letting boot gain may able spot boot time bug test continue forever rebooting first boot time hang crash signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1321,b76416fd3849798e30c91bbaf298ffd0c31beb4f,laudio Fontana <claudio.fontana@huawei.com>, 2015-06-18 10:51:43 +0200, , power separate away arch specific functionality x64 move implementation halt poweroff reboot arch specific subdirectory keeping sys reboot.h api implementation core core power.cc arch x64 power.cc aarch64 implement halt poweroff reboot using psci arch aarch64 power.cc note halt send nmi aarch64 send sgi trigger halt cpu signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
1322,3c2351b2fe0e07719e922102ce38be842747ae7a,laudio Fontana <claudio.fontana@huawei.com>, 2015-06-18 10:51:42 +0200, , aarch64 reduce debug verbosity relegate debug message debug mode signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
1323,5b9b26368766a48f5227f30516ae2085132bf70d,laudio Fontana <claudio.fontana@huawei.com>, 2015-06-18 10:51:41 +0200, , interrupt generalize ipis sgis x64 ipis aarch64 sgis used signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
1324,d59e4b8af945660303a902c0e39e3bf89b5a0705,laudio Fontana <claudio.fontana@huawei.com>, 2015-06-18 10:51:40 +0200, , aarch64 change gic lock mutex spinlock necessary sleep place need deal gic signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
1325,7b011e141ab9dcec8ee6da8b76a7c27e09f5a61c,ani Kokkonen <jani.kokkonen@huawei.com>, 2015-06-18 10:51:39 +0200, , aarch64 setup secondary cpu get information available cpu mpids devicetree add per cpu initial stack using mechanism x64 adjust boot.s secondary cpu copying ttbr0 ttbr1 setting boot cpu smp.cc set arch cpu structure initial stack cpu index necessary gicv2 mpidr launch cpu smp.cc using psci cpu_on functionality signed jani kokkonen jani.kokkonen huawei.com claudio rework bugfixing signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
1326,6e4b9bfea68e2f8e5b4b911e7985f56e96c96435,ani Kokkonen <jani.kokkonen@huawei.com>, 2015-06-18 10:51:38 +0200, , aarch64 use setup_on_cpu arm clock signed jani kokkonen jani.kokkonen huawei.com claudio minor change signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
1327,a87125284933800b1c9805a8427864f3d5975695,laudio Fontana <claudio.fontana@huawei.com>, 2015-06-18 10:51:37 +0200, , aarch64 separate distributor cpu interface work clear separation work necessary smp signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
1328,9956da21bf59d5c1603de83fb7de695ba815b184,yril Plisko <cyril.plisko@mountall.com>, 2015-06-21 12:19:22 +0300, , pci fix pci bar definition bit prefetch signed cyril plisko cyril.plisko mountall.com signed avi kivity avi cloudius systems.com,,
1329,41f04140ee1573760254545b5930410ef6b707e2,adav Har'El <nyh@cloudius-systems.com>, 2015-06-11 15:17:41 +0300, , test yet another fix test misc wake.cc misc wake code something really stupid creates thread another thread busy looped new thread run chance new thread scheduled cpu looping thread looping thread continue looping preempted later significantly slowed test point looked like hanging prgressing slowly solution call yield busy loop thread waiting chance run patch test misc wake work succeeds taking second machine finish signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1330,468bb2e48b060397da5657cdd4903864c3532d22,ekka Enberg <penberg@cloudius-systems.com>, 2015-06-12 09:58:58 +0300, , makefile wire nftw symbol needed netserver netperf specifies command line option signed pekka enberg penberg cloudius systems.com signed avi kivity avi cloudius systems.com,,
1331,460a99e7aaef47f00c9991685c90dca08dd68429,adav Har'El <nyh@cloudius-systems.com>, 2015-06-11 17:56:40 +0300, , sched clean handling code handle field used _cpu worked quite correct wrong continued access destroying bug escaped detection long time fixed previous commit believe still doe wrong thing one corner case able demonstrate exit rather migrated another cpu cpu might point new cpu start messing cpu variable parallel might good thing wrong access point point switching back stack local variable access one function rather one existed function returning cpu often always correct thing use cpu current note use i.e. explained point longer point current cpu scheduled rather cpu thread context switched could since migrated cpu test misc wake.so continues run patch also catch problem old code ... signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1332,6bfae690c2dfd39c9046587cab52b1683d4fbfd3,adav Har'El <nyh@cloudius-systems.com>, 2015-06-11 16:58:06 +0300, , sched fix race thread destruction scheduling new thread help previous thread asked exit notify joiner thread notification result destruction thread happen finish running see commit 96ee4249 introduced however code bug thread get cpu notifying joiner point thread quickly freed another cpu longer available need remember cpu notifying joiner patch doe claudio saw problem practice smp aarch64 machine test misc wake.so continues work patch good question code need use cpu caused problem fixed simply current cpu probably trivial get work send another patch signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1333,910649dcad127e407754296600ee9d00efbb1514,adav Har'El <nyh@cloudius-systems.com>, 2015-06-11 14:52:18 +0300, , test another fix misc wake.cc osv deal well part thread object paged normally happen malloc thread misc wake.cc deliberately put thread object mmap area fix problem mmap ing map_populate parameter ensuring memory preallocated first half misc wake.cc test work second half hang guess need yet another patch signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1334,fcd2411c5e891f706a6f2b458b441de38f965a55,adav Har'El <nyh@cloudius-systems.com>, 2015-06-11 14:31:53 +0300, , test update test misc wake.cc run test misc wake.cc long time test suite rusted bit patch fix mmap parameter wrong ignored early version osv cause failure also mark test shared object use non preemptable feature like wait_until wake_with test still work hang fixed separate patch signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1335,2dfdcced815a978bd0afb046e1e3c27ffdb33cc6,adav Har'El <nyh@cloudius-systems.com>, 2015-06-11 11:46:37 +0300, , mman move error message abort debug followed abort used kernel verbose usually see silent abort better move message abort function print message unconditionally signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1336,2d5da306a30b0e34f4cdec7ebe381265678161b9,iroshi Hatake <cosmo0920.oucc@gmail.com>, 2015-06-07 21:03:04 +0900, , add libc api groonga http groonga.org api signed hiroshi hatake cosmo0920.oucc gmail.com signed pekka enberg penberg cloudius systems.com,,
1337,6a399379fe659d1a4d6825c365b966c98d6a9231,ani Kokkonen <jani.kokkonen@huawei.com>, 2015-06-02 17:23:37 +0200, , aarch64 add initial psci support signed jani kokkonen jani.kokkonen huawei.com signed pekka enberg penberg cloudius systems.com,,
1338,5c26ca162eb7f4d0bf011bef51ab677d83df1216,laudio Fontana <claudio.fontana@huawei.com>, 2015-06-02 17:13:52 +0200, , aarch64 add read_mpidr function reading mpidr_el1 register useful uniquely identify cpu mask away reserved uniprocessor bit order able directly use result target cpu psci future functionality related smp signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
1339,7ec2831a90d8c3ea099ec74972b7767a6cbb48ea,ekka Enberg <penberg@cloudius-systems.com>, 2015-06-02 09:37:23 +0300, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1340,8eb78e5d0f67696923c50c41d796598093d249c5,ekka Enberg <penberg@cloudius-systems.com>, 2015-05-31 17:50:40 +0300, , merge branch scsi_inquiry http github.com imp osv reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1341,5204ac254144c1a1ba2fa562f5965a0b19153ba8,yril Plisko <cyril.plisko@mountall.com>, 2015-05-31 14:06:50 +0300, , lapsus clavis fix spelling inquery inquiry,,
1342,5e5c227b2aec23418e5e3fd104cc21e98f31729c,adav Har'El <nyh@cloudius-systems.com>, 2015-05-28 16:00:50 +0300, , test fix compilation fedora fedora newer gcc boost compiler complains namespace ambiguity test tst strerror_r.cc fix signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1343,d14c516aea9607c0c6709061a33a99cddd1c1703,adav Har'El <nyh@cloudius-systems.com>, 2015-05-28 12:41:09 +0300, , script setup.py support fedora support fedora script setup.py mostly identical fedora except fedora longer java 1.7 need use 1.8 instead signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1344,c8402a8cc897a43cd67f24a52769482591d1a519,adav Har'El <nyh@cloudius-systems.com>, 2015-05-27 19:35:58 +0300, , build fix dependency external build_env host even use make boost_env host currently default wrongly took boost header file external directory pre compiled library taken build machine combination likely work facvt see issue 633 patch fix include directory path make boost_env host used external x64 misc.bin usr include added include path instead add nostdinc compilation line system installed header file including boost header file used supplied osv fix 633 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1345,66008d835949a700e64a67fd235512815964b608,adav Har'El <nyh@cloudius-systems.com>, 2015-05-28 13:05:10 +0300, , fix compilation problem boost compiling osv fedora sure problem seen earlier distros compilation fails source file bsd boost header file try include sys endian.h problem boost header file try guess whether glibc based bsd based system guess bsd system assumes header file exist like sys endian.h  patch expands include glibc compat features.h add two macro __glibc__ __glibc_minor__ found glibc feature.h boost header file use macro check glibc system determines doe get confused bsd ish header file use compiling bsd source code signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1346,07e2d9032dbb3f4f2b0d0133e0eccd5be05dd05d,adav Har'El <nyh@cloudius-systems.com>, 2015-05-27 10:57:05 +0300, , module ncurses fix complation gcc 5.1 ncurses 5.9 download compile building image need ncurses see module ncurses compile latest gcc known problem see example discussion http lists.gnu.org archive html bug ncurses 2014 msg00020.html unfortunately official release ncurses year fixed patch applies patch taken gentoo turn backported ncurses trunk ncurses build script fix problem fix 634 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1347,6bae611621198cfcd8f1afcabd336e9e26305a74,akuya ASADA <syuu@cloudius-systems.com>, 2015-05-26 14:37:00 +0900, , bsd fix narrowing conversion compile error gcc 5.1.1 fedora gcc 5.1.1 radix.cc fails build following error bsd sys net radix.cc function radix_node rn_addmask void int int bsd sys net radix.cc 520 error narrowing conversion 128 int char inside 0x80 0xc0 0xe0 0xf0 0xf8 0xfc 0xfe 0xff  bsd sys net radix.cc 520 error narrowing conversion 192 int char inside bsd sys net radix.cc 520 error narrowing conversion 224 int char inside bsd sys net radix.cc 520 error narrowing conversion 240 int char inside bsd sys net radix.cc 520 error narrowing conversion 248 int char inside bsd sys net radix.cc 520 error narrowing conversion 252 int char inside bsd sys net radix.cc 520 error narrowing conversion 254 int char inside bsd sys net radix.cc 520 error narrowing conversion 255 int char inside patch fix problem signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1348,dae2649050bbec8efea851eada123a0c307a6c91,akuya ASADA <syuu@cloudius-systems.com>, 2015-05-26 14:11:05 +0900, , java quiet maven asked people script build image java apps freeze mvn package suppose actually working downloading many .pom .jar take time maven say anything think drop option usually see mvn package take long time cache .m2 first time user cache signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1349,2e68dac87423acc2f2af4cc51b87fa6f1671d3b9,illiam Dauchy <william@gandi.net>, 2015-05-18 10:45:12 +0200, , script fix bad whitespaces global cleaning whitespaces according pep8 see http dev pep pep 0008 signed william dauchy william gandi.net reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1350,a6031b1cef73137e57eb88f72c7333d55b408a3e,ekka Enberg <penberg@cloudius-systems.com>, 2015-05-08 16:13:10 +0300, , revert cat.lua throw error case reading directory reverts commit nirmoy say sent wrong version signed pekka enberg penberg cloudius systems.com,,
1351,d16ec32bc117077dc32855633a24a20a196ac79e,irmoy das <nirmoy.aiemd@gmail.com>, 2015-05-07 12:36:14 +0530, , cat.lua throw error case reading directory minor fix cat command signed pekka enberg penberg cloudius systems.com,,
1352,600d3a3cb886292f0bc529410892594a2fe79dac,adav Har'El <nyh@cloudius-systems.com>, 2015-05-07 15:27:50 +0300, , makefile fix typo error message error message complained wrong library fix 629 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1353,212f20bb16518b76d0a569413a1146a3a9be4d75,ekka Enberg <penberg@cloudius-systems.com>, 2015-05-06 11:05:21 +0300, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1354,b5e2ef6646e4d9f511eca356a29a705c1059ebc1,adav Har'El <nyh@cloudius-systems.com>, 2015-05-04 19:11:28 +0300, , loader add kernel option redirect stdout stderr file application openfoam rely user ability redirect abundant output file via shell osv convenient way redirection patch add simple kernel parameter i.e. used application command line redirect log redirects file descriptor stdout stderr file log syntax redirect log doe appending file already exists instead truncating another question extract file image later one simple way using httpserver example build image additional httpserver running script build image openfoam httpserver.none run openfoam redirect log script run.py run finish run httpserver guest extract log file script run.py api curl http localhost 8000 file log get log signed nadav har nyh cloudius systems.com reviewed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1355,a939a885a13f923477d863c47d7ff24572505696,adav Har'El <nyh@cloudius-systems.com>, 2015-04-29 13:21:41 +0300, , linux support syscall add support syscall ... used example libnuma instead function fix 625 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1356,9f2f12e26eecbaa32a19353190850fe87d0b63ec,adav Har'El <nyh@cloudius-systems.com>, 2015-04-29 13:21:40 +0300, , libc stubby common use case pid i.e. current thread case already supply implementation need return error still return error print stubbed message case signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1357,6b1f8d02250fa340d94258ef58c5c4d265370b59,ekka Enberg <penberg@cloudius-systems.com>, 2015-04-28 13:57:11 +0300, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1358,65e54ea7ffe3b2b5f22c20d5376bdb81a003e095,adav Har'El <nyh@cloudius-systems.com>, 2015-04-27 15:53:26 +0300, , osv reboot try harder reboot famously many method software reboot see example http 2009 rebooting pc.html existing osv reboot implementation tried one known method based system control port fast reset method seemed usually work one report suggests always see issue 624 patch add two method try first method failed second method keyboard controller third method cause triple fault triggering interrupt empty idt many method could add getting silly osv new operating system history reboot museum let add reboot method find hypervisor support three fix 624 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1359,0bc99b819bb18db02c2bd03c5ef73e60d04da483,adav Har'El <nyh@cloudius-systems.com>, 2015-04-27 15:30:41 +0300, , build make fails script build fail make failed script build exit return make exit code fixing allows something like script build script run.py script run.py run build unsuccessful signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1360,7829097172c0389c52f7a55a275477cdfcce52e7,adav Har'El <nyh@cloudius-systems.com>, 2015-04-22 01:37:43 +0300, , implement get_mempolicy system call patch implement syscall ... libnuma library call syscall implement get_mempolicy function need expose get_mempolicy function osv emulates glibc library user want libnuma link include image hopefully work implement syscall case thing libnuma patch needed application use libnuma openfoam implementation patch trivial always reporting one numa node much point eleborate implementation osv currently awareness support numa node fix 620 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1361,46b61911eb424da907c5ca803b999684afa042f3,adav Har'El <nyh@cloudius-systems.com>, 2015-04-20 11:27:30 +0300,1, gdb take libstdc pretty printer host external libstdc come python script help gdb pretty print useful type unique_ptr vector etc current gdb script take script external unfortunately script external fedora written python system gdb python script work sensible thing given already using default build machine libstdc gdb run script installed build machine patch doe unfortunately ugly way robust way namely two version libstdc installed pick one arbitrarily figure cleaner way fix cloudius gcc bin signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1362,e63c2c9d95bd40026176937fcbfca41486668b57,adav Har'El <nyh@cloudius-systems.com>, 2015-04-19 15:22:44 +0300, , build default take host boost library makefile option build_env host currently default take gcc library installed build machine instead one external however also use couple boost library always take external problem one external necessarily compatible host libstdc use case build_env host external boost library compiled gcc 4.9 host libstdc gcc 4.8 osv link boost library compiled gcc 4.9 symbol std gcc 4.8 standard library doe supply patch build_env host default boost library taken host user still take one external using make boost_env external take library including boost external use make build_env external downside patch default user need static boost library installed todo reconsider version boost elf.cc claim provide todo module test probably compile put image host boost library one external doubly true considering today use host header file precompiled library external make little sense signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1363,fc5d2680e8c19ba4a24df9dca82f2eb2cd656479,irmoy das <nirmoy.aiemd@gmail.com>, 2015-04-17 20:53:42 +0530, , build stop execution make fails signed nirmoy nirmoy.aiemd gmail.com signed avi kivity avi cloudius systems.com,,
1364,ca00e8d665d4a14b2a3eb0cf95511a71e85cd7e6,ekka Enberg <penberg@cloudius-systems.com>, 2015-04-17 09:58:28 +0300, , procfs add missing cpuid.hh include fix aarch64 build breakage introduced commit c1dff82 procfs add initial support proc cpuinfo signed pekka enberg penberg cloudius systems.com,,
1365,e6863376bb49f6604b679a2a29e41ea209616172,irmoy das <nirmoy.aiemd@gmail.com>, 2015-04-17 00:46:29 +0530, , runtime.cc cleanup signed nirmoy nirmoy.aiemd gmail.com signed pekka enberg penberg cloudius systems.com,,
1366,c1dff82f3312712d0078d397a8b775c1de9d15ac,van Krivonos <int0dster@gmail.com>, 2015-04-16 01:03:23 -0700, , procfs add initial support proc cpuinfo fix 615 signed ivan krivonos int0dster gmail.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1367,b221e4b3b76c87810c1d7ab5533040f98bbc0768,adav Har'El <nyh@cloudius-systems.com>, 2015-04-16 15:59:50 +0300, , test fix reference wrong boost library unfortunately test refers specific version boost fixed future let update version number run test patch also fix test makefile recognize changed recreate usr.manifest signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1368,de25f0b550ed3bdccd51d10b906634da6ea05ad5,adav Har'El <nyh@cloudius-systems.com>, 2015-04-16 16:03:50 +0300, , elf update list provided library update version boost library osv provides linked patch make little practical difference patch running test tst vfs.so example give warning could load know library actually included osv warn signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1369,055b2e657b01a8a44d62b72231abfa4d985afcdb,van Krivonos <int0dster@gmail.com>, 2015-04-14 21:15:19 -0700, , libc add stubbed patch provides stubbed implementation required phantomjs application fix 605 signed ivan krivonos int0dster gmail.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1370,5f91b41679e4499cf9dabeaea4e22c9f2a5caffa,ekka Enberg <penberg@cloudius-systems.com>, 2015-04-16 10:38:51 +0300, , loader add osv_version environment variable pull request jline osv_cpus environment variable detect running osv introduce osv_version environment variable people use instead reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1371,51e488f7f81b4f0672dbc258522b0d3fa03088d0,ekka Enberg <penberg@cloudius-systems.com>, 2015-04-16 10:32:04 +0300, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1372,f65fe3d1f19773ab11ee85ebded454799a567230,ekka Enberg <penberg@cloudius-systems.com>, 2015-04-16 09:42:30 +0300, , manifest fix version number misc.bin upgrade signed pekka enberg penberg cloudius systems.com,,
1373,3dcf5917d21afda3dc9ecc7a1fdd0643fdcfc057,ekka Enberg <penberg@cloudius-systems.com>, 2015-04-16 09:36:58 +0300, , script build capstan img fix qcow2 image use old format explained commit 1696666 script convert allow converting image old version qcow2 qemu introduced new qcow2 format incompatible older qemu version switch old format using script convert convert virtualbox vmware image conversion also use script convert signed pekka enberg penberg cloudius systems.com,,
1374,1696666909607d636d3497b2431db11bf21db931,adav Har'El <nyh@cloudius-systems.com>, 2015-04-16 00:31:03 +0300, , script convert allow converting image old version qcow2 qemu changed format qcow2 recently called qcow2 instead changing extension qcow3 fact incompatible format understood older version qemu therefore qcow2 image build new machine actually qcow2 unusable older machine ... older machine capstan example download one official image qcow2 format unable read patch add new target script convert qcow2 old create old style qcow2 image usable also older qemu may want consider using old style qcow2 image capstan image example file build release.x64 usr.img build release.x64 usr.img qemu qcow image 10737418240 byte script convert qcow2 old input image build release.x64 usr.img created image build release.x64 osv.qcow2 file build release.x64 osv.qcow2 build release.x64 osv.qcow2 qemu qcow image 10737418240 byte signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1375,7dac0e4f48526fcd89811ef2624b694c548aa57d,vi Kivity <avi@cloudius-systems.com>, 2015-04-15 19:07:18 +0300, , update external aarch64 misc.bin,,
1376,5f7227ae7d20b9d7a71b3021d8f0f419452f2892,vi Kivity <avi@cloudius-systems.com>, 2015-04-15 17:56:03 +0300, , merge branch master github.com cloudius system osv,,
1377,03c328cf48a12123caf476196076b99d4b9329f1,vi Kivity <avi@cloudius-systems.com>, 2015-04-15 17:55:23 +0300, , update external x64 misc.bin latest fedora package primarily boost,,
1378,6d8795e9fa292ebdc71926973a5f37611c3b0cd4,adav Har'El <nyh@cloudius-systems.com>, 2015-04-15 13:54:03 +0300, , implement fstatat patch implement fstatat function hidden abi relative __fxstatat latter function used version hwloc library turn used openfoam application also patch test pass linux osv fix 616 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1379,db4e3e4cc576cad46fa2b3a516152b2bb33c0471,ekka Enberg <penberg@cloudius-systems.com>, 2015-04-15 09:46:47 +0300, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1380,74ee2758589642b10230a2a1663e300234e9d0f8,adav Har'El <nyh@cloudius-systems.com>, 2015-04-14 19:15:02 +0300, , makefile hide false alarm newer gcc itaru kitayama discovered newer gcc find array bound error bsd sys cddl contrib opensolaris common zfs dnode_sync.c code int nblkptr dn_phys dn_nblkptr ... nblkptr bp_is_hole dn_phys dn_blkptr break code ugly legal trick defines dn_blkptr bsd sys cddl contrib opensolaris common zfs sys dnode.h blkptr_t dn_blkptr uint8_t dn_bonus dn_max_bonuslen sizeof blkptr_t i.e. compiler think dn_blkptr item long actually room patch simply disables warning compiling zfs code code using dnode.h likely suffer similar warning signed nadav har nyh cloudius systems.com tested itaru kitayama itaru.kitayama riken.jp signed pekka enberg penberg cloudius systems.com,,
1381,3750dd4328c29fc25f0444bdf63b3116afbe4c8f,adav Har'El <nyh@cloudius-systems.com>, 2015-04-13 19:13:04 +0300, , x64 fpu attempt save avx state avx actually available according intel sdm xsave cpu feature available avx feature second bit xcr0 signifying avx state saved must set true xsetbv call cause saw one case relatively old machine running vmware xsave available avx machine osv crash early possibly failing xsetbv call sure way check avx feature entirely justified though guess sdm suggest section 13.3 instead look cpuid eax 0dh ecx eax belive value avx cpu feature checking fix 607 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1382,2fea650385a524495b4b6c4aae2c070c213f8a61,adav Har'El <nyh@cloudius-systems.com>, 2015-04-14 18:37:18 +0300, , libc make mallopt visible among cleanup mallopt stopped extern rendered invisible application broke example apps erlang patch make mallopt visible also move eclectic runtime.cc file file libc mallopt.cc problem fix discovered wegh signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1383,02247385a2ae4c0a952f631d73cd80dbf6934f80,adav Har'El <nyh@cloudius-systems.com>, 2015-04-14 11:18:24 +0300, , libc fake support malloc_hooks patch provides fake support hook malloc friend patch doe add full support hook considered unsafe deprecated malloc_hooks manual page malloc friend call instead patch doe simply declare hook variable application may set setting blissfully ignored useful application openfoam try set hook variable esoteric unused debugging code path unfortunately unlike resolution function name happen first used never function unused usual code path variable name resolution always happens object load openfoam code even unreached code variable looked patch crash symbol lookup failure fix 614 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1384,a8243974218be418e978349de27ed40792832fb9,adav Har'El <nyh@cloudius-systems.com>, 2015-04-14 00:46:32 +0300, , elf helpful error message symbol lookup fails application involves several dozen shared library getting osv abort message like failed looking symbol __malloc_hook helpful idea needed symbol patch change message something like usr lib libopenfoam.so failed looking symbol __malloc_hook i.e. message begin name object looked missing symbol signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1385,87460f13d2b52637b5bc66c29b7c28930868a908,adav Har'El <nyh@cloudius-systems.com>, 2015-04-08 19:23:44 +0300, , implement faccessat implement faccessat function needed openfoam application implementation ugly involves building full pathname similar rest function already think start maybe point future rewrite function option yet supported let hope openfoam need used cause unimplemented abort fix 609 signed nadav har nyh cloudius systems.com reviewed raphael carvalho raphaelsc cloudius systems.com signed avi kivity avi cloudius systems.com,,
1386,44b01b118f7d95c51b4400267e573b203ab8ccbe,adav Har'El <nyh@cloudius-systems.com>, 2014-11-11 10:26:39 +0200, , new osv newpoll api linux event driven application often use file descriptor epoll way notified event file descriptor often traditional pipe socket rather special file descriptor added linux especially purpose eventfd thread thread notification signalfd signal capturing timerfd timer problem file descriptor efficient could unix baggage carry example file descriptor could accessed concurrently multiple thread need locking used multiple concurrent poll might active file descriptor accessing file descriptor via number requires locking global file descriptor table file descriptor especially problematic try use interrupt context use lock might sleep interrupt context assigned virtio api event driven application handle virtio interrupt could notifiy via eventfd needed resort separate handler running thread ugly slow purpose patch add osv new api event driven application use notification instead file descriptor epoll api lock free recommend using virtio interrupt handler longer need separate handler running thread patch remove signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1387,769ea7d5a0de6d3d015443936c11fb7850d9ba6a,adav Har'El <nyh@cloudius-systems.com>, 2015-04-05 16:00:36 +0300, , build use readlink instead realpath changed script build script convert use realpath utility turn relative base option using specific gnu version tool debian based distribution including ubuntu implementation utility predates gnu one year doe option instead use simpler standardized readlink utility ubuntu fedora readlink come gnu coreutils bonus always installed fix 611 signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1388,98ba958761ecf339c0e5e5a29b9b7565e0c962ca,ekka Enberg <penberg@cloudius-systems.com>, 2015-04-05 10:46:06 +0300, , merge branch bug lua use posix http github.com ankon osv reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1389,b9b6e6c5184a8a9a1f8423872a5b9e8402d13a7c,adav Har'El <nyh@cloudius-systems.com>, 2015-04-02 00:08:29 +0300, , update gitignore update .gitignore ignore various file module module i.e. osv core repository osv apps seem build outside build directory also ignore build.out file new file script build save output last make patch git status empty even building image fix 610 signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1390,9d57649592b6d1d106dc7a2d61e1a3063ae0693d,adav Har'El <nyh@cloudius-systems.com>, 2015-04-01 15:00:22 +0300, , libc locale newlocale.c unused file unused commented makefile age time remove newlocale implementation runtime.cc signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1391,08000096c9267da723c4bae587754a3865da5c65,adav Har'El <nyh@cloudius-systems.com>, 2015-04-01 14:52:18 +0300, , build enable compilation several small tool mgmt image script build image mgmt assumes small tool ifconfig lsroute compiled compilation removed new makefile bring back added todo move stuff mgmt module perhaps put separate module signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1392,5c54483a2da6bf9761ff868d9ae1f8216d7b374b,adav Har'El <nyh@cloudius-systems.com>, 2015-03-31 11:53:10 +0300, , build allow overriding jdkbase allow user script build jdkbase ... image java like possible old make parameter need passed main makefile also passed individual makefiles signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1393,05382afab088bf1f84c93e7e26e3300a99a576e8,adav Har'El <nyh@cloudius-systems.com>, 2015-03-31 11:53:09 +0300, , build rely build last instead build log makefile generates build last link need search last build directory build log signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1394,fe91c332af5247a6cc52e81130152ccda5b6692f,ekka Enberg <penberg@cloudius-systems.com>, 2015-04-01 12:23:58 +0300, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1395,30fdfe37b57bd41a45da113248d5bda6c6a1b827,ekka Enberg <penberg@cloudius-systems.com>, 2015-04-01 09:57:20 +0300, , script fix release script work new build system release script longer work change commit f37cef7 build makefile rewrite fix build release image signed pekka enberg penberg cloudius systems.com,,
1396,d3a85a59529f03e68769dbed1003ce1478683b4d,ekka Enberg <penberg@cloudius-systems.com>, 2015-03-31 10:40:53 +0300, , build remove missing test makefile test module makefile refers tst bzero tst inherited tst date exist tree remove fix make check  signed pekka enberg penberg cloudius systems.com,,
1397,bf177bc8cbd04e74405866ab7b8e20e0a026a776,adav Har'El <nyh@cloudius-systems.com>, 2015-03-30 14:53:31 +0300, , build fix make check breakage test failed latest code forgot link boost unit test library fix signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1398,747eff0659563c55fb704909bb75b890f0d7f516,adav Har'El <nyh@cloudius-systems.com>, 2015-03-30 14:53:30 +0300, , build speed make image test using ccache make clean make extremely fast building test make clean script build image test slow almost two minute machine turn module test makefile compiled linked test one command ccache avoids caching compilation line result slow compilation test code repeated every make clean fix separating compilation linking step result unnecessary intermediate file stay behind reason see comment code much faster second compilation make clean ccache installed second signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1399,94ae2c8e431c5be1872ad1729b6ae73dd46cd08c,akuya ASADA <syuu@cloudius-systems.com>, 2015-03-31 05:21:49 +0900,579, httpserver jvm plugin add makefile module.py mistakenly merged fix 579 signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1400,6f2d271aacadc2e08729fad7ba22af7396e31575,vi Kivity <avi@cloudius-systems.com>, 2015-03-31 10:27:26 +0300, , revert dpdk example add readme reverts commit wrong repository signed avi kivity avi cloudius systems.com,,
1401,707c02a38a8cca6bb9b190ef3db0cb6de57c0b6a,adav Har'El <nyh@cloudius-systems.com>, 2015-03-30 15:37:03 +0300, , build add script convert script add simple script script convert convert last built image script build different format supported format current version vmdk vdi raw example script convert vmdk creates new image build last osv.vmdk signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1402,e19044c6ebb5dcc710e6a14228155fb78df88da8,adav Har'El <nyh@cloudius-systems.com>, 2015-03-30 15:37:02 +0300, , build add convenience link build last add convenience link build last last successful build useful script want know care last build release build debug build signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1403,5a6907c65c9dd9fe0b7dc5ec4aa241fa81ed7e83,adav Har'El <nyh@cloudius-systems.com>, 2015-03-30 14:23:22 +0300, , build fix typo module test makefile need use latter includes additional dependency header file try compile lot mess error message happen signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1404,ed58371be4e9f610e0e53675c58545f0241bc1dd,adav Har'El <nyh@cloudius-systems.com>, 2015-03-30 14:23:21 +0300, , build revert unintended partial patch previous script module.py crep half unrelated patch revert signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1405,7862332999d391ff7441ca70a264c4851efdf818,adav Har'El <nyh@cloudius-systems.com>, 2015-03-30 14:06:56 +0300, , build remove img_format option img_format option could mislead someone think create vmdk image whatever way qemu img resize command fail patch remove option also show better error message failure using bash err trap previously qemu img resize failed silently user clueless happened signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1406,9baadbed788d23446213d382d886fc9de12cc5df,adav Har'El <nyh@cloudius-systems.com>, 2015-03-27 12:07:19 +0300, , runtime.cc cleanup remove unnecessary forward declaration small cleanup signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1407,41c44b7afdd5bbbdb43487c472f1abb61593876f,adav Har'El <nyh@cloudius-systems.com>, 2015-03-27 11:54:24 +0300, , clearer message stack overflow stack overflow detected program compiled fstack protector abort clear message instead confusing complaint implemented signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1408,f4dca03301f33c31c9d169a8b7d591edee2854db,akuya ASADA <syuu@cloudius-systems.com>, 2015-03-26 09:40:51 +0900, , device prevent attach osv dpdk driver prevent attaching dpdk driver osv driver attached need tell device attached driver signed takuya asada syuu cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1409,a382e81ad47751434e1010e1bde4370d807a319a,akuya ASADA <syuu@cloudius-systems.com>, 2015-03-30 17:06:30 +0900, , dpdk example add readme signed takuya asada syuu cloudius systems.com signed avi kivity avi cloudius systems.com,,
1410,400d6c94de358b71ec37475e5786ec9d81d8bf6e,adav Har'El <nyh@cloudius-systems.com>, 2015-03-30 11:52:46 +0300, , build pas option module make running script build image ... option passed module building script handled wrong failed fix pas option module make signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1411,b187e4b6eb72720d02fa80765021b30e5d068235,adav Har'El <nyh@cloudius-systems.com>, 2015-03-26 15:43:23 +0200, , futex implement futex_wait timeout patch implement previously unimplemented timeout futex_wait option futex system call implementation quite perfect expiration futex_wake race possible futex_wake happen still return etimedout futex_wait timeout feature needed gccgo runtime unfortunately futexes directly signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1412,91317cef0336af65b135590e1a8a5839dd19af9d,adav Har'El <nyh@cloudius-systems.com>, 2015-03-29 23:13:09 +0300, , build support old style make image ... support make image ... make module ... like makefile rewrite call script build parameter make mode debug image rogue also work etc thrilled supporting building image make really think image building deserves separate command script build automated test machine continue build image like signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1413,df601e23c9987e247f2aeecb44fee851f40672b3,adav Har'El <nyh@cloudius-systems.com>, 2015-03-30 08:08:19 +0300, , build fix script build shell bug discovered patch suggested franco venturi script build started shebag line usr bin bash ubuntu example bash bin instead fixing shebang bin would also work fedora portable solution use usr bin env bash work unix like system bash path signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1414,7644af6d3e5c04252e6d18fb2db3cdfbdf2bf25c,adav Har'El <nyh@cloudius-systems.com>, 2015-03-30 08:01:26 +0300, , build fix non standard use echo bug discovered patch written franco venturi battle faction bsd inspired echo systemv inspired echo escape sequence raging decade fall trap taking side battle turn ubuntu shall default dash bash dash builtin echo command unlikes linux gnu echo doe support option signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1415,d9a7eba6e3f0a92074b579c0c181663e6c1d5e46,adav Har'El <nyh@cloudius-systems.com>, 2015-03-30 08:28:37 +0300, , build fix missing maven subproject bug noticed franco venturi broke make check fresh installation module java makefile run maven compile bunch subirectories java forgot also build java jolokia agent understand worked ... better future java module build stuff build instead module responsible java build example module httpserver jolokia plugin makefile run mvn build jolokia agent assume java module took care fix future signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1416,00c5acdd54102d5d6d4f7cb0943d70a672bcad93,vi Kivity <avi@cloudius-systems.com>, 2015-03-29 19:03:58 +0300, , test fix makefile typo noted franco venturi,,
1417,f3858ce42e4e4e558ef953cfa5a392c38d60da7b,adav Har'El <nyh@cloudius-systems.com>, 2015-03-29 18:29:32 +0300, , build allow make check make make check simply run script build check environment propagated make mode debug check also work still recommend using script build building image make check doe allowing make check work allow test machine continue performing test usual signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1418,f37cef7d2f3bdde0234077cee3428caea02a46fc,adav Har'El <nyh@cloudius-systems.com>, 2015-03-26 15:53:30 +0200,595, build makefile rewrite support setting cross_prefix environment alternative setting arch arch still supported well example someone set environment command line cross_prefix prefix prefix used compiler also arch need specified figure automatically given compiler patch complete rewrite osv build system rewrite two main goal simplify makefile old build system several makefiles including playing trick current directory vpath dynamically rewriting makefiles running submakes new build system one makefile building entire osv kernel still short could simplified future everything one file also better commented separate kernel building application building old build system used make everything building osv kernel building various application building image containing osv collection application complicated makefile resulted unexpected build requirement e.g. building osv always built java test thus required maven working internet connection new system make build osv kernel script build build application image theoretically capstan could used instead script build make command line worked previous build system continue work unchanged changed use script build example script build build image default osv application script build image rogue script build module rogue script build clean clean kernel module script build mode debug make parameter also given build script build check build image test run additional benefit rewrite include faster rebuilds example touch loader.cc script build image rogue take second second previously make make clean ccache second second previously fairly easy add like script build additional build script build different type image using osv kernel one popularly requested option ability create bootfs image without zfs smaller improvement like accurate setting desired image size 595 supporting setting cross_prefix without additionally needing specify arch fix 571 fix 595 signed nadav har nyh cloudius systems.com avi adjust new test tst select timeout.cc signed avi kivity avi cloudius systems.com,,
1419,6ac2b4fc3c287305e6d9716b08834f5ada19ce03,akuya ASADA <syuu@cloudius-systems.com>, 2015-03-26 03:25:27 +0900, , loader add maxnic argument use dpdk osv prevent load osv nic driver skip load nic driver lose way control osv instance outside still want access rest server even bypassing osv nic driver network stack using dpdk use multiple nics make possible assign one nic osv nic dpdk dpdk apps argument blacklisting nic domain bus devid.func whitelisting nic domain bus devid.func osv way patch limit number nics attach osv leave others application signed takuya asada syuu cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1420,d316477d392d81db5a06a97339a408c9b4b5963c,ndreas Kohn <andreas.kohn@gmail.com>, 2015-03-26 11:10:13 +0100, , use lua_use_posix fix tmpnam linker warning lua build controlled lua_use_mkstemp using lua_use_posix also enables lua_use_isatty lua_use_popen already explicitly enabled signed andreas kohn andreas.kohn gmail.com,,
1421,be50797f7dc47e51fa52bf320310dc5bad219d21,adav Har'El <nyh@cloudius-systems.com>, 2015-03-26 11:18:09 +0200, , put envp argv linux argv envp array pointer appear program stack one another array final zero tell end word envp argv argc unfortunately program make use fact gcc libgo example doe runtime.c assumes find pointer environment variable argv argc patch ensures also put copy environment variable pointer right argv patch run gccgo compiled program note monkey business doe play well later modifying environment setenv friend let assume happen extra safe perhaps future also make copy environment variable gccgo problem anyway copy environment string startup signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1422,2ca90abccc8d1c8069e2b2802e8c22474b5c7bdb,ranco Venturi <fventuri@comcast.net>, 2015-03-21 20:07:13 -0400, , make select system call update timeout argument return discussed forum linux select system call update timeout argument amount time slept although posix standard specify timeout argument updated patch keep behavior osv consistent linux also please notice patch doe modify timeout returned pselect system call required posix specification pselect pselect implementation osv doe copy back timeout value returned select fix 598 signed franco venturi fventuri comcast.net reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1423,3b377a6d96405269b95cd95ccad78983e8514198,irmoy das <nirmoy.aiemd@gmail.com>, 2015-03-20 02:12:45 -0700, , script setup.py allow compilation fedora patch compiling osv fedora signed nirmoy nirmoy.hcu gmail.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1424,0df9862102f289ea0b66462f53b1176230c9572f,akuya ASADA <syuu@cloudius-systems.com>, 2015-03-02 14:00:29 +0900, , memory add non blocking operation malloc_large dpdk osv currently using memory pool allication osv doe enough room allocation dpdk app block allocation instead returning error expected behavior application add optional parameter non blocking allocation signed takuya asada syuu cloudius systems.com signed avi kivity avi cloudius systems.com,,
1425,669f51b4a68beddb7eb3e62d02c7da46c4a66752,akuya ASADA <syuu@cloudius-systems.com>, 2015-03-08 07:06:38 +0900, , elf check loaded file modifying requested name signed takuya asada syuu cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1426,f09fa1ab64192fd23c3b1ce72bc9fb627c196a5a,adav Har'El <nyh@cloudius-systems.com>, 2015-03-03 12:10:03 +0200, , fix build aarch64 previous commit added support siocoutq ioctl macro defined include api x64 bit breaking build aarch64 tcp manual page explains siocoutq defined sys ioctl.h added include api x64 bit first place rather siocoutq defined linux sockios.h tcp explain siocoutq synonym tiocoutq latter defined sys ioctl.h need use tiocoutq siocoutq code obviously unmodified linux application still able use linux sockios.h name siocoutq wish resulting ioctl number identical tiocoutq support tcp guarantee signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1427,afe58333fdf4fe062c056a6959e7af4b05a278d2,van Krivonos <int0dster@gmail.com>, 2015-02-24 06:31:32 -0800, , net siocoutq socket ioctl support patch implement support siocoutq socket ioctl fix 557 signed ivan krivonos int0dster gmail.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1428,58812d8d10b5481298089f2eb19e34175e18c3d8,laudio Fontana <claudio.fontana@huawei.com>, 2015-03-02 13:23:14 +0100, , vfs make pivot zfs optional debugging virtio blk zfs issue useful mount zfs filesystem without actually pivoting root without mounting extra pool allows check basic functionality zfs even without full ability construct proper zfs image new arch default nothing change user specifies new nopivot option mounting zfs file system followed root pivot extra pool mounting signed claudio fontana claudio.fontana huawei.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1429,112e7bfce336481f2d71fd1848d5d2d4128a6b13,akuya ASADA <syuu@cloudius-systems.com>, 2015-03-02 14:58:27 +0900, , script add uploader libvirt signed takuya asada syuu cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1430,4841ed9f80c79065ae35c794f7dc09ec1ffba89a,vi Kivity <avi@cloudius-systems.com>, 2015-03-02 11:46:17 +0200, , merge branch aarch64 next http github.com claudio osv_aarch64 aarch64 pci support claudio signed avi kivity avi cloudius systems.com,,
1431,95dc421090e5038223e65b8c60a7d4fa7424dfd8,laudio Fontana <claudio.fontana@huawei.com>, 2015-01-30 15:48:52 +0100, , pl011 add comment update copyright year add comment specification used signed claudio fontana claudio.fontana huawei.com,,
1432,ce75b82e8f226315324a91e4dd34e2de285c1751,laudio Fontana <claudio.fontana@huawei.com>, 2015-01-30 13:09:30 +0100, , pl011 use appropriate interrupt pending register unconditionally assume irq shared signed claudio fontana claudio.fontana huawei.com,,
1433,3c0e256a1f76c7b8fee55463ba597787189ce22a,laudio Fontana <claudio.fontana@huawei.com>, 2015-01-30 11:54:05 +0100, , pl011 get irqid device tree signed claudio fontana claudio.fontana huawei.com,,
1434,c2a599a44b3d273dac7345658066f088ddbe6921,laudio Fontana <claudio.fontana@huawei.com>, 2015-01-13 13:40:07 +0100, , aarch64 support virtio net signed claudio fontana claudio.fontana huawei.com,,
1435,ebab1043d330b80f790b0e7e97ddbecb1dd51ce1,laudio Fontana <claudio.fontana@huawei.com>, 2015-01-13 13:39:02 +0100, , aarch64 support virtio blk signed claudio fontana claudio.fontana huawei.com,,
1436,57241c50c1de27caac50af37b3f225d5db87d7f5,laudio Fontana <claudio.fontana@huawei.com>, 2015-01-13 13:36:21 +0100, , aarch64 support virtio virtio rng first support virtio arm including simple virtio rng device first virtio device signed claudio fontana claudio.fontana huawei.com,,
1437,f6f3515050232090261481f6ee33fb55b5fd07b8,laudio Fontana <claudio.fontana@huawei.com>, 2015-01-13 13:28:53 +0100, , aarch64 implement basic pci pci support enables cam ecam configuration space device probing including programming memory bar arm information passing via device tree moment due lack acpi support qemu implementation still basic interrupt method used pci intx msi msi etc signed claudio fontana claudio.fontana huawei.com,,
1438,82c32cec8e22d9fcb027a53b4d67f1468413d5fc,laudio Fontana <claudio.fontana@huawei.com>, 2015-02-27 14:17:18 +0100, , interrupt separate msi ioapic apic interrupt give msi header file include osv msi.hh separate implementation arch arch msi.cc populate arch x64 interrupt.cc interrupt class implementation create skeleton aarch64 msi.cc signed claudio fontana claudio.fontana huawei.com,,
1439,510685f19dbbe00bc8d63eb092e9525e3701ebad,laudio Fontana <claudio.fontana@huawei.com>, 2015-02-17 10:57:16 +0100, , interrupt add interrupt class abstraction create abstraction existing interrupt reusable aarch64 well todo msi xen direct callback signed claudio fontana claudio.fontana huawei.com,,
1440,9f82f723ceb9b0584f17131c472ee0ab851ca1f0,ranco Venturi <fventuri@comcast.net>, 2015-03-01 10:46:06 -0500, , optionally disable vnc gdb server script run.py patch add option disable vnc gdb server script run.py added option novnc disables vnc nogdb disables gdb gdb port specifies port number gdb server default 1234 default behavior script run.py unchanged signed franco venturi fventuri comcast.net reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1441,062f82a2a197b8d687e102d85f5a54440b6e93de,adav Har'El <nyh@cloudius-systems.com>, 2015-02-24 17:10:29 +0200, , signal minor cleanup minor cleanup arch x64 signal.cc change functionality signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1442,20e862567841cff2367d308c3321fd3195f82826,adav Har'El <nyh@cloudius-systems.com>, 2015-02-24 17:10:28 +0200, , simplify fpu saving signal handling current code saved fpu state inside signal_frame object object allocated stack messy way needed make ugly explicit call constructor placement new destructor two different place moreover fpu saving object created one function used another needlessly confusing instead let put fpu save area signal_frame signal_frame need contain minimum amount information need communicated need create fpu saving object right used actually safe fpu state normal object fpu_lock need worry explicit alignment construction destruction taken care compiler signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1443,d8300689ded1a53abbadd811fe6121443dfd32ff,adav Har'El <nyh@cloudius-systems.com>, 2015-02-24 15:14:36 +0200, , fix fpu saving signal handler recent switch xsave broke fpu saving signal handling apparent running java program java make heavy use signal even make check fails patch patch fix two problem function aligned signal_frame structure put stack byte xsave signal_frame contains saved fpu state need byte alignment compiler know simply need align signal_frame alignof signal_frame fpu state constructor unfortunately xsave header need zeroed later xrstor may fail failed call simply used cast patch placement new cast make check pass signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1444,4214f3345f6cbb1174dfba3cc64abb780eb0fa95,akuya ASADA <syuu@cloudius-systems.com>, 2015-02-07 06:35:48 +0900, , x64 enable xsave available signed takuya asada syuu cloudius systems.com reviewed nadav har nyh cloudius systems.com reviewed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1445,ca35d5c9aabacc57262a437551d03bcb776af153,akuya ASADA <syuu@cloudius-systems.com>, 2015-02-07 06:35:47 +0900, , x64 add fpu_state function signed takuya asada syuu cloudius systems.com reviewed nadav har nyh cloudius systems.com reviewed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1446,10f0d881392be7b03b04748ba8553f8c600d7893,akuya ASADA <syuu@cloudius-systems.com>, 2015-02-07 06:35:46 +0900, , x64 align fpu_state byte xsave signed takuya asada syuu cloudius systems.com reviewed nadav har nyh cloudius systems.com reviewed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1447,91852507aa97e2531f86c0e37eb17228b66a7052,akuya ASADA <syuu@cloudius-systems.com>, 2015-02-07 06:35:45 +0900, , x64 rename osxsave add xsave signed takuya asada syuu cloudius systems.com reviewed nadav har nyh cloudius systems.com reviewed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1448,97556ebc98dc78fc917edcb0905b939a23a8018c,akuya ASADA <syuu@cloudius-systems.com>, 2015-02-07 06:35:44 +0900, , x64 extend fpu_state size xsave signed takuya asada syuu cloudius systems.com reviewed nadav har nyh cloudius systems.com reviewed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1449,37b97b9060d80c26b6d764de928187132db817d2,akuya ASADA <syuu@cloudius-systems.com>, 2015-02-07 06:35:43 +0900, , x64 add xcr0 bit signed takuya asada syuu cloudius systems.com reviewed nadav har nyh cloudius systems.com reviewed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1450,969a13a4f4c3d8593569c77670ee3e665094ade6,akuya ASADA <syuu@cloudius-systems.com>, 2015-02-07 06:35:42 +0900, , x64 add xcr read write function signed takuya asada syuu cloudius systems.com reviewed nadav har nyh cloudius systems.com reviewed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1451,a2a99586f90a590ce84432d27b4dfb42ba094ec2,akuya ASADA <syuu@cloudius-systems.com>, 2015-02-09 20:22:02 +0900, , x64 fix typo signed takuya asada syuu cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1452,7b7e5037139354470ffc537ccf68dd7a97c7f0b3,akuya ASADA <syuu@cloudius-systems.com>, 2015-02-22 14:37:26 +0900, , apps update latest signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1453,6537616f582238102ad5f16007ec50d42ff42d39,akuya ASADA <syuu@cloudius-systems.com>, 2015-02-23 12:54:12 +0900, , memory move alloc small header signed takuya asada syuu cloudius systems.com reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1454,520ffc6d71eb836c7f1889f5f57c63762c6d7d53,akuya ASADA <syuu@cloudius-systems.com>, 2015-02-23 12:54:11 +0900, , mmu move virt_to_phys small header signed takuya asada syuu cloudius systems.com reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1455,296864d7bc84f2091ac31a9f0a4895b8a1f5dea9,ranco Venturi <fventuri@comcast.net>, 2015-02-21 16:22:39 -0500, , add alternate path usr lib qemu searching qemu bridge helper found ubuntu ubuntu program qemu bridge helper located usr lib qemu instead usr libexec found fedora patch allows script run.py search qemu bridge helper multiple alternate path signed franco venturi fventuri comcast.net reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1456,31e525b3d6be7c907bd5341d1967ab9ed0fb1f05,akuya ASADA <syuu@cloudius-systems.com>, 2015-02-23 14:40:31 +0900, , pthread store thread thread executing found dpdk code depending glibc pthread_create implementation store thread thread executing bad look like posix doe defined behavior function although better implement libc function way get better compatibility signed takuya asada syuu cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1457,6844a1d15d322ccba2e46e2b8eb1260a743cd0d9,adav Har'El <nyh@cloudius-systems.com>, 2015-02-23 02:25:51 +0200, , httpserver fix date format date rest api result used strftime hour 12. used hour hour time intended hour time also printed ... signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1458,d25357afa28da89b3d85d290886995b2807b5bfc,aweÅ Dziepak <pdziepak@quarnos.org>, 2015-02-17 00:48:28 +0100, , test remove tst static thread variable test made obsolete tst reviewed nadav har nyh cloudius systems.com signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
1459,84142057ef0d4eeb51798ad12451e8ce3a887be9,aweÅ Dziepak <pdziepak@quarnos.org>, 2015-02-17 00:48:27 +0100, , tst add test case static initial exec variable patch add test case initial exec relocation symbol associated reviewed nadav har nyh cloudius systems.com signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
1460,ba8f025f179febc6015f8663f61b00ef0533ba57,aweÅ Dziepak <pdziepak@quarnos.org>, 2015-02-17 00:48:26 +0100, , tst add test case accessing external thread local variable patch extends tst tls.so also verifies accessing thread local variable defined dsos work also includes accessing variable using different model reviewed nadav har nyh cloudius systems.com signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
1461,e634aaa396d3df2344e1c44de1c1016728ac7cc5,adav Har'El <nyh@cloudius-systems.com>, 2015-02-17 00:48:25 +0100, , test add test various model simple test four model general dynamic local dynamic initial exec local exec basically initialize thread local variable four model check read initial value test compiled linux four model succeed osv local exec model compiled work shared library makefile compiles test test inspired pawel dziepak mail osv mailing list june regarding general dynamic local dynamic model explained follows __thread int foo 123 static __thread int bar 456 int main assert foo 123 assert bar 456  note code foo handled general dynamic model two relocation emitted tls_dtmod tls_dtoff bar handled local dynamic model one tls_dtmod associated symbol using two dsos test may useful want make sure accessing thread local variable another dso work correctly also might good idea one variable use general dynamic mode make sure tls_dtoff resolved correctly one variable per dso offset zero may hide problem signed nadav har nyh cloudius systems.com signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
1462,8e99d1537dc753410cca0197528118ed370ad589,aweÅ Dziepak <pdziepak@quarnos.org>, 2015-02-17 00:48:24 +0100, , elf sched support initial exec model patch add support initial exec model relocation encountered static_tls target object set mean block need available initial exec code area block reserved loading library pie dependency complete checked whether object static_tls flag set case template user static prepared tcb setup thread osv check object associated application thread belongs prepared static template used together kernel template create thread block moreover static also need accessible __tls_get_addr order achieve vector used implementation function store address block module appropriately initialized thread creation address block module use static reviewed nadav har nyh cloudius systems.com signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
1463,779d672cbaf7bb31cf173fa1df88877062cfe380,aweÅ Dziepak <pdziepak@quarnos.org>, 2015-02-17 00:48:23 +0100, , elf add object object build unordered_set containing pointer object dependency signed paweå dziepak pdziepak quarnos.org reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1464,814335e92124d5f0676b5b806f5565909e6e7338,aweÅ Dziepak <pdziepak@quarnos.org>, 2015-02-17 00:48:22 +0100, , app remove adopt_current abandon_current function needed anymore reviewed nadav har nyh cloudius systems.com signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
1465,3173f7b4fc26ec222bfdcdd92b1e104dd4e4d663,aweÅ Dziepak <pdziepak@quarnos.org>, 2015-02-17 00:48:21 +0100, , app allow overriding current applicaton sometimes need create thread belongs different application unfortunately high level interface like pthread_create std thread allow passing information low level thread implementation original solution create thread change application belongs however support initial exec model requires correct application set thread creation trick longer work thread introduces thread local variable set make thread constructor use value instead application get_current reviewed nadav har nyh cloudius systems.com signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
1466,d36cd04595b4d005a32a195ed38605f6c2e5f1ef,aweÅ Dziepak <pdziepak@quarnos.org>, 2015-02-16 20:39:29 +0100, , elf fix misleading assertion fail message signed paweå dziepak pdziepak quarnos.org reviewed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
1467,2a577a0a3156070cb981847f3a11100803371faa,mitry Voytik <dmitry.voytik@huawei.com>, 2015-02-16 15:57:46 +0100, , mmu add mem_attr parameter linear_map aarch64 memory region special attribute normal memory device memory cacheable non cacheable etc add new parameter mem_attr linear_map arch specific code use parameter pas necessary attribute make_pte setup corresponding ptes signed dmitry voytik dmitry.voytik huawei.com signed avi kivity avi cloudius systems.com,,
1468,f26e09a5c5a8bb05ccf591607f855ab77adb7096,adav Har'El <nyh@cloudius-systems.com>, 2015-02-12 22:28:51 +0200, , musl enable regex function patch enables regex function musl regcomp regexec regerror regfree one strange thing patch change type regoff_t long musl defined int long like off_t make lot sense glibc regex.h regoff_t actually defined int want compatible linux abi i.e. able run executables compiled linux need use int well see http sourceware.org bugzilla show_bug.cgi 5945 discussion glibc keep int even long make sense signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1469,4cac37218d4da3b057cf7e91a90c75bcfc11a5e2,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2015-02-13 17:19:32 -0200, , fix chmod sys_chmod updating mode field vnode stat relies get current mode file stat would return outdated mode following chmod problem easily fixed updating vnode mode function vn_setmode changing vn_stat use mode returned underlying file system safer option close 570 signed raphael carvalho raphaelsc cloudius systems.com signed avi kivity avi cloudius systems.com,,
1470,d1ab60ab33c0feb04fe214d466fb526ec6b24d17,mitry Voytik <dmitry.voytik@huawei.com>, 2015-02-12 11:41:48 +0100, , libc use regex routine musl use regex routine musl rather copied version libc remove copy result future upgrade musl easier signed dmitry voytik dmitry.voytik huawei.com reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1471,e28119952fc6d603090fa6c60fdf4737145c0b25,laudio Fontana <claudio.fontana@huawei.com>, 2015-02-10 11:19:14 +0100, , aarch64 arch dtb mandate dtb trying handle default becomes mess dealing pci enablement mandate dtb acpi support signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
1472,adf78de4ca7db5a137e051799f4d5a32aa8d4f84,adav Har'El <nyh@cloudius-systems.com>, 2015-02-10 13:27:46 +0200, , gdb fix error connect connect ing osv gdb always get following message traceback recent call last file home nyh osv script loader.py line 137 invoke sched thread running gdb.error field named running need change sched thread running include name enum sched thread status running know worked without error maybe gdb changed behavior recently signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1473,c992bc9745bc700d230618dac8abaade543374e4,adav Har'El <nyh@cloudius-systems.com>, 2015-02-10 13:13:06 +0200, , add missing cpu_set hidden function glibc header file implement macro described cpu_set calling hidden function need implement function fix failure loading libgomp library cpu_count macro patch faled missing symbol signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1474,26703d527dd88c42cb5626a97118935d89e040f5,laudio Fontana <claudio.fontana@huawei.com>, 2015-02-10 11:16:56 +0100, , aarch64 string import optimized string function import optimized string function linaro bsd licensed memset.s memmove.s memcpy.s distributed newlib redhat minor adaptation needed convert memmove signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
1475,f028a206daef6bdef3ed92a21ca5c6b10bc15165,laudio Fontana <claudio.fontana@huawei.com>, 2015-02-10 11:18:40 +0100, , aarch64 rework interrupt enable shared irqs future pci work need support shared irqs need distinguish enable_ppis enable_spi primitive moment unify path start true smp support work implement initial support shared irqs adapt existing interrupt user including clock uart signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
1476,1247ead3b154f991333f891e58daab97d4190fc3,laudio Fontana <claudio.fontana@huawei.com>, 2015-02-10 11:24:39 +0100, , aarch64 mmu add debugging statement elr exception proven useful debugging might better keep thing get settled signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
1477,e00f2aeddb79fd3eb19c7a11935f21d195ca2b10,adav Har'El <nyh@cloudius-systems.com>, 2015-02-10 00:48:22 +0200, , libc implement newlocale glibc newlocale __newlocale alias implemented latter used within standard library also need implement former application call posix api one application imagemagick signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1478,2c81afe1ebc92090e67c0fd742a6a65627932b42,adav Har'El <nyh@cloudius-systems.com>, 2015-02-10 11:12:16 +0200,586, implement stubbed incorrectly returning einval according manual page tell caller cpuset gave small lead try larger set example libgomp library initialization trying figure number available cpu thread misled absurd behavior growing cpuset memory consumed implement osv doe currently maintain thread linux notion list allowable cpu emulate osv returning list cpu non pinned thread thread current cpu pinned thread note thread temporary pinned e.g. holding migration_lock held accessing per cpu variable lead reporting pinned pretty much better without directly supporting linux notion per thread cpu bitmask anyway particular problem happen call pthread_self libgomp figure number cpu current thread allowed use fix 586 signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1479,b9868a94f6f62ce664e7084f02f3f16529520a00,adav Har'El <nyh@cloudius-systems.com>, 2015-02-10 01:11:12 +0200, , fix freelocale usually newlocale allocates memory freelocale supposed free however implementation newlocale return pointer static data c_locale freed freelocale must ignore  without patch imagemagick convert crash end call freelocale signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1480,ab7a44a98555b1356e44f6d7511179556ce18af7,adav Har'El <nyh@cloudius-systems.com>, 2015-02-09 16:16:34 +0200, , elf abort trying execute non pie executable osv currently support running shared object position independent executables pie enforce given regular executable instead telling user unsupported executable osv try run crash mysterious way like allocating much memory reaching illegal instruction jumping random place patch fix elf loading code verify given elf object indeed et_dyn shared object pie something else like et_exec ordinary executable et_rel object file ridiculously enough et_core core dump trying run ordinary executable osv abort bad executable type shared object pie supported powering signed nadav har nyh cloudius systems.com reviewed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
1481,703bf08d72ef617b212632e038a93be0d00e879f,adav Har'El <nyh@cloudius-systems.com>, 2015-02-02 11:55:56 +0200,580, avoid crash exit reported issue 580 also earlier issue 374 sometimes osv crash call exit message exception nested deeply usually printed shutdown rest api probably cause similar issue though reported practice problem exit calling osv shutdown forcibly unmounts filesystem thread might still running code executables mapped file thread happen run osv shutdown unmounts filesystem power cause osv crash crash usually accompanied exception nested deeply message page fault handler crash complete solution problem difficult unix usually solved killing user process unmounting filesystem osv reliable method killing thread closest approximation patch use thread unsafe_stop stop application thread presumably would thread running code filesystem technique usually work particular eliminates crash reported issue 580. entirely reliable solution application thread happens hold critical osv mutex stopped deadlock entire system rare problem reasonable application unlikely call exit thread busy important work nevertheless consider workaround future one idea consider preemptively stop application thread unmounting patch instead leave thread running page fault handler code recognize case backing file unmounted stop thread point still remains seen whether technique completely avoid deadlock theoretically holding mutex page fault happens ... type horrible crash fix 580 fixed 374 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1482,c284a3f07339b344c40b70ad64d0d554d8738f84,sheesh Laroia <asheesh@sandstorm.io>, 2015-01-25 23:46:36 -0800, , add line break codingstyle commit viewing codingstyle.md markdown renderer github website would result paragraph like 5.1 5.2 visually line patch add trivial newlines hope improving readability reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1483,8606074aa1c107a2da61a05ffadb121cd6564a0b,adav Har'El <nyh@cloudius-systems.com>, 2015-01-21 17:59:44 +0200, , fix bug test tst link.cc code saved pointer automatic variable promptly destroyed continued use pointer cause newpath oldpath sometimes perhaps also depending compilation parameter overwritten stuff test fails reviewed raphael carvalho raphaelsc cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1484,40fb59472410ed08a613640095bd76dbdc8584a7,akuya ASADA <syuu@cloudius-systems.com>, 2015-01-20 08:58:58 +0900, , java require jolokia jvm rest apis reviewed nadav har nyh cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1485,23037196affb5c1b7b9db26fe096f3c63267094c,akuya ASADA <syuu@cloudius-systems.com>, 2015-01-20 08:58:57 +0900, , httpserver remove jvm api make plugin reviewed nadav har nyh cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1486,fef4cf8a240c6f848df44a6000a28a1833e65b33,akuya ASADA <syuu@cloudius-systems.com>, 2015-01-20 08:58:56 +0900, , httpserver make jolokia api plugin reviewed nadav har nyh cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1487,87dd5b7f2ccfc0c4b123dc8819f93255049707db,ekka Enberg <penberg@cloudius-systems.com>, 2015-01-19 10:03:48 +0200, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1488,7e5afc7ec89262d6b44e4bdb130dc243cea20dac,ekka Enberg <penberg@cloudius-systems.com>, 2015-01-15 09:38:11 +0200, , httpserver osv gui update latest signed pekka enberg penberg cloudius systems.com,,
1489,524653a4a9232a1a75a0f9c580737984cba7f002,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2015-01-15 04:04:32 +0900, , http server remove api doc api docs.json signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
1490,80974f178cbfc4f4d2c6ac5014f3f4bce2048dd3,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2015-01-15 04:04:31 +0900, , cli change use api api docs.json api doc api command signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
1491,0a0718bcca07b69c172a3653e42e1df798c33466,ekka Enberg <penberg@cloudius-systems.com>, 2015-01-15 09:33:03 +0200, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1492,6e5ac1913c8bf2775b4d056dc18a9d76c0961343,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2015-01-15 02:39:17 +0900, , http server load plugin module http server plugin make user able add definition rest api jvm function get status application jmx language runtime application e.g cruby memcached etc using plugin function could dismount unecessary rest api e.g jmx api loading launguage runtime acked takuya asada syuu cloudius systems.com signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
1493,a7a8411fd74a5a733662a121191038b3b094fe33,enato Cunha <renato@renatocunha.com>, 2015-01-07 22:09:53 -0200, , ncurses assume tic read stdin ncurses version currently use date linux distribution e.g arch linux tic implementation read input stdin building cli distribution would fail following message infocmp vt100 sed cud1 cud1 ind ind vt100 vt100 qemu tic terminfo tic open makefile recipe target terminfo vt100 qemu failed make terminfo vt100 qemu error directing tic version read dev stdin help either complain dev stdin file solution thus save sed output temporary file direct tic read file approach taken patch ensures modified file read tic implementation nadav pointed using mktemp would overkill especially time make invoked would create new temporary file mktemp help much well terminfo generation fails temp file would still laying around tmp signed renato cunha renato renatocunha.com signed pekka enberg penberg cloudius systems.com,,
1494,8be7167803f3ed3665d169452756b5c587f3ee8a,adav Har'El <nyh@cloudius-systems.com>, 2015-01-12 02:26:46 +0200, , java.cc allow osv poweroff java done since commit 28bef7c java application end osv even trivial invocation java.so version osv wait forever instead powering patch fix regression fix 572 commit 28bef7c fixed loader start power process application thread really gone well written application good idea even application tell one detached thread exit take unknown amount time actually happen unforunately jvm well written application even call destroyjavavm bunch daemon thread remain behind forever include thread compilation thread presumably nothing still cause loader wait vain finish solution patch main application thread java wait non daemon thread end call osv application method previous patch stop remaining java thread stop waiting perfect solution possibly someone could write java program daemon thread doe busy loop something potential stopping thread deadlock shutdown process usual scenario every test tried run deadlock occurs patch solves regression 28bef7c osv finally power finishing java run signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1495,2d519785ad2cfc4b3ddea991ede42318763b5b72,adav Har'El <nyh@cloudius-systems.com>, 2015-01-12 02:26:45 +0200, , java.cc delete jvm even error case error case returned program without deleting jvm use osv convenient defer raii class make sure forget cleanup case signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1496,6e02e25681e449631ef931463ae95f9c4db930cc,adav Har'El <nyh@cloudius-systems.com>, 2015-01-12 02:26:44 +0200, , osv application add application end cleanly make sure application thread exited soon exit returning main thread loader starting commit 28bef7c loader correctly wait thread really completed shuts unfortunately application know thread outside direct control e.g. created library always remain abandoned application want exit thread active application simply way clean exiting sometimes application belief thread idle almost idle belief osv shut despite thread one important example jvm destroyed always leaf behind thread thread compilation thread etc hopefully nothing application patch provides new method unsafe_stop application thread except one causing thread never run also abandon waiting application wait thread example method used java seen next patch signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1497,b10238b28aec5e089a1f93b1bbf4cff3086a251f,adav Har'El <nyh@cloudius-systems.com>, 2015-01-12 02:26:43 +0200, , sched add thread unsafe_stop method unsafe_stop method take waiting thread cause never wake method inherently unsafe waiting thread might holding critical resource wait queue one never release holding internal osv mutexes related networking disk memory management method basically deadlock whole system nevertheless method come handy poor man substitute killing renegade thread remain alive application end see following patch use signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1498,f90e2e6e4d7e5148b681cd27cd17924ae5b7b0b5,adav Har'El <nyh@cloudius-systems.com>, 2015-01-14 00:35:58 +0200, , osv application use simple list instead boost signal2 need use esoteric buggy boost signal2 regular std list would result shorter easier understand code right start bug fixed previous commit signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1499,18e5c08821b875c016d55e8e7a6edccd5888e73f,adav Har'El <nyh@cloudius-systems.com>, 2015-01-12 01:08:32 +0200, , fix case osv crashing shutdown patch fix issue 568 certain case saw osv crashing shutdown stack trace pointing boost signal2 signal destruction application join function know return application code running thread shared library referenced thus perhaps unloaded _lib.reset one catch though code already supposed handle osv application object also field list callback set application application set callback destructor code shared library delete destructors first code command following command  unfortunately simply work turn boost signals2 known bug feature whereby disconnected slot immediately deleted rather marked invalid deleted later object reused destroyed end result callback object really deleted deleting shared library many case finally deleted abort resulted unmapped code run easy way reproduce bug run image httpserver second application end loader.cc do_main_thread keep two shared pointer application one list detached application object really deleted signal slot significantly later shared library unload always causing abort solution patch use boost signals2 signal directly instead unique_ptr boost signals2 signal want clear slot instead using work clear unique_ptr cause whole boost signals2 signal object deleted point boost really destructs slot incredibly bug workaround used known year ... see example http question 2049291 force deletion slot boostsignals2 show boost mixed bag perhaps enthusiastic adopting every feature osv fix 568 reviewed paweå dziepak pdziepak quarnos.org signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1500,3a6cc904fcae6211a3335fcc9d9ec499857d6ad5,enato Cunha <renato@renatocunha.com>, 2015-01-08 10:50:00 -0200, , libc add complex number arithmetic function currently impossible c99 program use function defined complex.h consider example program calculates created apps native complex shown complex.h manpage linux cat apps native complex complex.c include math.h include stdio.h include complex.h int main double atan 1.0 double complex cexp printf creal cimag return  also consider application manifest single entry like depicted  cat apps native complex usr.manifest complex module_dir complex consider well application built full relro osv try bind symbol boot shown makefile cat apps native complex makefile .phony module module complex cflags std gnu99 fpie rdynamic relro complex complex.c pie cflags ldflags complex.c clean complex case building osv plus app make image native complex file omitted brevity would succeed running would result failure osv would correctly unable find symbol cexp script run.py osv v0.16 gd36952a eth0 192.168.122.15 failed looking symbol cexp backtrace ... one could argue changing manifest complex module_dir complex usr lib libm.so.6 glibcbase lib64 libm.so.6 would make work reason libm symbol whose relocation type supported osv readelf external x64 glibc.bin lib64 libm.so.6 grep irelativ  trying run application would result script run.py osv v0.16 gd36952a eth0 192.168.122.15 assertion failed type arch_jump_slot home renatoc repos osv core elf.cc relocate_pltgot 589 easiest correct solution actually add musl complex arithmetic handling function osv done program print correct output script run.py osv v0.16 gd36952a eth0 192.168.122.15 1.000000 0.000000 signed renato cunha renato renatocunha.com signed pekka enberg penberg cloudius systems.com,,
1501,d36952a37efbd7dec8295468492ea2b1769a1c6a,adav Har'El <nyh@cloudius-systems.com>, 2015-01-07 01:25:00 +0200, , makefile think version.h changed every time commit d8530b6d made gen include osv version.h .phony file two implication rule regenerates file invoked every time intended effect commit solved bug version file regenerated target depend phony file need rebuilt every time particular every make even nothing changed think version.h changed need recompile file use e.g. loader.cc link kernel ironic script gen version header way touch version.h timestamp version changed phony cause timestamp ignored instead patch doe gen include osv version.h real file longer marked phony order prerequisite see http www.gnu.org software make manual make.html prerequisite type make something namely run script gen version header attempting use version.h although order prerequisite need run hence order doe imply version.h changed judged usual timestamp change script gen version header continues run every time doe version.h changed timestamp target depend get rebuilt running make second time longer rebuilds various object longer need link kernel unfortunately patch need include another bizarre change making src build.mk rule .phony rule whose target makefile little known make trick cause something compiled first anything else worked well adding order prerequesite reason explain get confused order dependency marking phony fix problem make sense anyway makefile timestamp irrelevant rule signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1502,927ea7e7e1e65abda70e958f3353b0fca1ef450b,as Wegh <BasWegh@gmx.de>, 2015-01-03 10:32:17 +0100, , vga initialize history current screen fix 564 reviewed nadav har nyh cloudius systems.com signed wegh baswegh gmx.de signed pekka enberg penberg cloudius systems.com,,
1503,67e04217646400da62249b6c622c5607672e91fb,adav Har'El <nyh@cloudius-systems.com>, 2015-01-01 23:56:26 +0200,570, implement fchmod patch implement previously stubbed fchmod fix 565 implementation fchmod similar chmod mostly wrapper lower level vn_setmode function patch also add test fchmod test tst chmod.cc usual test run osv linux verify behave identically note bug 570 still open result fchmod may visible stat file descriptor close however bug chmod signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1504,28bef7c6a44d8061cb7a4b408c8121d5d6b982fe,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-12-24 15:49:30 +0100, , core wait detached thread application join application join wait thread terminate including detached one osv may start shutting application object destroyed thread keep reference  signed paweå dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
1505,524e8c4a9c53b38ef9043706f93973a53a8cd01b,akuya ASADA <syuu@cloudius-systems.com>, 2014-12-25 23:30:44 +0900, , libc add qsort_r qsort_r patch musl available merged upstream musl http github.com esmil musl commit let add libc required ruby 2.2.0 publify reviewed nadav har nyh cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1506,b79223584be40459861d1c12e1cb67e3e49e2a12,adav Har'El <nyh@cloudius-systems.com>, 2014-12-21 00:43:02 +0200,564, cli.c handle bizarre response qemu broken terminal emulator patch hopefully fix last bug causing issue 564 keyboard problem using serial port following several fix previous patch remaining problem cli.c expects terminal emulator either support ansi device status report escape sequence 033 support fully returning 033 qemu appears bug serial stdio used default serial qemu builtin terminal emulator return dsr 033 nothing patch recognize nothing follows 033 quickly give instead hanging user type character fix 564 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1507,84734c4f184fb98c5b88f59094419da54ba19d38,adav Har'El <nyh@cloudius-systems.com>, 2014-12-19 08:58:23 +0200, , vga answer status report escape sequence way console multiplexor work vga driver always enabled parallel serial console latter exists user sends status report escape sequence 033 driver respond duplicate response confuses application cli.c patch disable status response escape sequence vga driver serial console enabled host terminal emulator respond serial console enabled nobody respond cli.c give waiting 500ms patch cli.c back working serial console vga console still bug spurious escape character 033 available input initially still confuses cli.c still need fix signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1508,b1c96eb5d255c02e694e180533e3894a763cff3c,adav Har'El <nyh@cloudius-systems.com>, 2014-12-18 14:58:04 +0200, , fix spurious input keyboard driver testing keyboard driver noticed get spurious input character like shift never typed seem happen always pause user input turn reason understand keyboard send instead normal input byte transmit timeout message know happen data register content usually 0x0 0x8 treated character note 0x8 scan code signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1509,f7d3ddd648b38789daa8287626a66863a780f139,adav Har'El <nyh@cloudius-systems.com>, 2014-12-18 14:20:56 +0200, , initialize shift state keyboard driver shift variable initialized random value lead believe shift cap lock mode reported issue 564 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1510,0306aa9a466dab2ec5ae54d344dc1f47f94b599e,adav Har'El <nyh@cloudius-systems.com>, 2014-12-18 13:13:18 +0200, , fix missing wakeup vga driver vga driver addition actual keyboard driver also buffer injected input _read_queue input injected terminal emulator code libtsm example status report escape sequence used cli.c however forgot wake sleeping input thread input injected result various delay hang mentioned issue 564. patch doe fully solve issue however appears additional bug area signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1511,a6c87f0188229b9e7568676ab4c78701d309b8d3,ekka Enberg <penberg@cloudius-systems.com>, 2014-12-17 12:51:24 +0200, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1512,a2a4b3193d20fb0536f9ab2485b7b970a1be047c,huztez <bhuztez@gmail.com>, 2014-12-17 13:47:48 +0800, , libc implement pause select nfds timeout null erlang main thread use select null null null null sleep forever signed bhuztez bhuztez gmail.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1513,45a703299c91c4bd839380a85daac34797855ad2,huztez <bhuztez@gmail.com>, 2014-12-17 13:15:15 +0800, , libc fix waitpid return code waitpid return error returning mean child process whose pid exited confuse erlang child waiter thread signed bhuztez bhuztez gmail.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1514,a6c2b32fb1201b38a315aeb3d1c20ea842fd6ff4,ekka Enberg <penberg@cloudius-systems.com>, 2014-12-15 10:01:14 +0200, , httpserver osv gui update latest signed pekka enberg penberg cloudius systems.com,,
1515,50a431a731af759ed3a2e774fd19b5808676cf49,as Wegh <BasWegh@gmx.de>, 2014-12-10 12:36:25 +0100, , add support waking given amount thread enable erlang run option thread smp osv reviewed nadav har nyh cloudius systems.com signed wegh baswegh gmx.de signed pekka enberg penberg cloudius systems.com,,
1516,361c42b66bfd05bd9a29117ac000b317089b1947,akuya ASADA <syuu@cloudius-systems.com>, 2014-08-13 09:55:32 -0700, , console remove unused header signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1517,d740e3b8ba9febfae06cb1ca8c118b3b52569092,ekka Enberg <penberg@cloudius-systems.com>, 2014-12-10 10:35:43 +0200, , run.py support multiple virtual nics add nics command line option run.py specifies number virtual nics launched example launch qemu nics penberg nero osv sudo script run.py nics osv v0.16 g2514672 eth0 192.168.122.89 eth3 192.168.122.92 eth2 192.168.122.91 eth1 192.168.122.90 please note work dhcp command line interface allows specify mac address static configuration single nic reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1518,8232541f5935ea5cf624b9bc9dc6f6c12e0c2f6a,ekka Enberg <penberg@cloudius-systems.com>, 2014-12-10 11:05:06 +0200, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1519,2514672988f9c19e3849bc0fa6f2cd19065b6135,ekka Enberg <penberg@cloudius-systems.com>, 2014-12-09 10:56:04 +0200, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1520,49e4ae303df18b29216a4624e63ff27419dc71f0,leg Sadov <oleg.sadov@gmail.com>, 2014-12-08 16:27:18 +0400, , rhel based distros support patch implement initial support rhel based distribution rhel centos scientific naulinux oracle linux building host setup script added possibility using distribution flavor array possibility partial description distribution name rhel oracle specific partial version numbering accordingly new scheme centos minor version numbering signed oleg sadov oleg.sadov gmail.com signed pekka enberg penberg cloudius systems.com,,
1521,bc3b9f63bd9ec230420d35d0f6729a0055e79716,ekka Enberg <penberg@cloudius-systems.com>, 2014-12-08 15:36:14 +0200, , monitoring agent fix boost asio error handling osv image started qemu without networking blow follows penberg nero osv qemu system x86_64 hda build release usr.img nographic osv v0.16 g1d18311 stubbed  aborted backtrace osv generate_signal siginfo exception_frame osv unsigned long int exception_frame mmu vm_fault unsigned long exception_frame 147 page_fault 105 3739782 boost asio boost asio tcp dereference const boost asio boost asio tcp operator const client getaddr std string const 424 client upload std string const std string const unsigned int std string const std string const std string const 101 92747332 92720208 osv application run_main std string int char 266 osv application run_main 567 osv application main 4270024 4454101 thread_main_c 3743749 qemu terminated fix checking error host_not_found resolving address reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1522,83f7876123b4b4921ff8679582a97674e9315a6a,ekka Enberg <penberg@cloudius-systems.com>, 2014-12-08 16:37:26 +0200, , httpserver osv gui update latest signed pekka enberg penberg cloudius systems.com,,
1523,1d1831101e31c52e48b64144471a3b1ce434323b,ekka Enberg <penberg@cloudius-systems.com>, 2014-12-04 18:02:07 +0200, , runtime remove duplicate libintl.h include signed pekka enberg penberg cloudius systems.com,,
1524,8b1a613108e1caf552f79509c3b960a25d854744,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-12-06 20:12:29 +0100, , sched kernel thread keep reference app possible application thread cause creation kernel thread e.g zfs related ioctls tend thread keep reference application thread spawned since may needlesly defer destructon application reviewed nadav har nyh cloudius systems.com signed paweå dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
1525,62babcc8e1a94be15bcc0ebc6f5e71f6b13c2ca6,ekka Enberg <penberg@cloudius-systems.com>, 2014-12-08 11:38:18 +0200, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1526,8ad5524dcc43f1c8743c8db2ea1de385a5eb8238,ekka Enberg <penberg@cloudius-systems.com>, 2014-12-04 17:36:11 +0200, , include api migrate upstream musl header replace include api header identical upstream musl version symlinks musl header migrated header make include api symlink musl include reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1527,e42258914b9b65791b1c64bee0391a5c2b0790c7,huztez <bhuztez@gmail.com>, 2014-12-05 11:29:50 +0800, , add stub implement sysconf _sc_open_max needed start erlang shell signed bhuztez bhuztez gmail.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1528,e54a9f14446c89b7b810d19de6f0227e6a8a27b4,ehal J Wani <nehaljw.kkd1@gmail.com>, 2014-12-04 17:26:13 +0530,535, cli fix api network route output fix 535 changed type get network route array route added renderer route signed nehal wani nehaljw.kkd1 gmail.com signed pekka enberg penberg cloudius systems.com,,
1529,5278acb9ca6105eecf936e24fd6be8e67138a89a,ehal J Wani <nehaljw.kkd1@gmail.com>, 2014-12-02 23:24:48 +0530,558, cli add timezone os_date api response fix 558 add timezone info date hour api cli response reviewed nadav har nyh cloudius systems.com signed nehal wani nehaljw.kkd1 gmail.com signed pekka enberg penberg cloudius systems.com,,
1530,3a1562b5202a238d9bab823782972204c82eb091,adav Har'El <nyh@cloudius-systems.com>, 2014-12-02 13:06:02 +0200, , eliminate libc dirent directory dirent function readdir opendir etc implementation vfs main.cc taken musl therefore silly took one small function fdopendir.c musl even modify function fit code patch eliminates libc dirent directory fdopendir.c dirent.h instead put tiny fdopendir implementation friend vfs main.cc patch also take include api dirent.h unmodified musl previously small modification file real justification signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1531,29d43e424b454134b9d67dac1f68b1e000e641d3,adav Har'El <nyh@cloudius-systems.com>, 2014-12-02 11:59:36 +0200, , use two libc time file musl unfortunately many file libc time quite heavily modified musl sure found least two function strptime time change musl trivial unnecessary use musl version two file signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1532,ecd65c2ecce1980c192f303cdedb9df35be92276,adav Har'El <nyh@cloudius-systems.com>, 2014-12-02 11:27:25 +0200, , take fcvt.c musl instead modified copy change fcvt.c circumvent conflict glibc header irrelevant longer use glibc header signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1533,814d4344692af1609cf38d9ca4aa0a0d5cb67291,ekka Enberg <penberg@cloudius-systems.com>, 2014-12-01 10:08:16 +0200, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1534,cd1c30f3d6be0fcb37b7e5921504d347b01b27a6,lauber Costa <glommer@cloudius-systems.com>, 2014-11-27 14:54:53 +0100, , xen return non null xs_daemon_open nothing open return nullptr compatibility function problem however libxenstore version return handle nullptr meaning failure lead breakage code using libxenstore signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1535,d3dfd4728632b5a4553443295e5ceeddaa4679ff,ehal J Wani <nehaljw.kkd1@gmail.com>, 2014-11-26 22:56:41 +0530, , cli add command uptime uptime tell long system running signed nehal wani nehaljw.kkd1 gmail.com signed pekka enberg penberg cloudius systems.com,,
1536,c77679f5d64b8d9a2ab5730d7adec4591f4475c3,laudio Fontana <claudio.fontana@huawei.com>, 2014-11-26 15:04:41 +0100, , aarch64 mmu extend device memory range point need get rid hardcoded address requires change propagate property mmu template code still manage work reliably suppress debug message emitted page memory attribute device memory since adding full pci space mach virt starting pollute output much seems working fine anyway signed claudio fontana claudio.fontana huawei.com reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1537,b0e767eb48303ae5e1f446d2de6a4d28ac04df59,laudio Fontana <claudio.fontana@huawei.com>, 2014-11-26 15:04:40 +0100, , pci enable bar issuing pci command architecture x64 need reprogram bar register magical good value already programmed firmware qemu ... also possible need reprogram x64 future trying without explicitly enabling space memory space using pci command lead case qemu reprogramming silently ignored therefore minor restructuring pci device function code account slightly different procedure bar enable access mem bar first read bar size call arch dependent code fix final bar reg arch chance reprogram proceed assign final address bar signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
1538,dece299f7c475ef53728ba159f5a5bbafa07f2c2,laudio Fontana <claudio.fontana@huawei.com>, 2014-11-26 15:04:39 +0100, , pci remove use processor pci function.hh need get processor namespace including pci function.hh processor independent signed claudio fontana claudio.fontana huawei.com reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1539,edfb9b77b454b120250b08b8f4b47cc29af1e003,laudio Fontana <claudio.fontana@huawei.com>, 2014-11-26 15:04:38 +0100, , pci separate generic code x64 specific code patch move common pci definition prototype architecture dependent pci function driver pci.hh arch common pci.hh put x64 specific pci stuff arch x64 pci.cc prepare arch pci.hh x64 specific definition build new arch x64 pci.o module signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
1540,39106719807bbd2dbfd2df2e53f30f99d044d260,lauber Costa <glommer@cloudius-systems.com>, 2014-11-26 14:15:28 +0000, , ec2 script allow name specified test ami may already used whatever name end choosing allow user specifiable signed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com,,
1541,9a3ee777d160403ad811da5eacbdc3c6bd78d0ea,adav Har'El <nyh@cloudius-systems.com>, 2014-11-25 17:59:14 +0200,556, fix crash test misc mutex.so test misc mutex.so would consistently crash testing spinlock problem locking spinlock preemption remains disabled test program continues call spinlock unlock first time attempt resolve symbol allowed preemption disabled time similar problem another piece program text need paged preemption disabled solution use shared object ensures symbol resolved load instead first used possibly preemption disabled executable always remains memory fix 556 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1542,f6bf5cb1a7cc617978d5833e09d1a930fcba6f16,ekka Enberg <penberg@cloudius-systems.com>, 2014-11-25 13:19:06 +0200, ," libc use time getdate.c upstream musl difference minimal switch upstream musl penberg nero osv diff libc time getdate.c musl src time getdate.c libc time getdate.c 2014 30.627818727 0300 musl src time getdate.c 2014 44.906664048 0300 6,8 6,6 int getdate_err char strptime const char __restrict const char __restrict struct __restrict  struct getdate const char  static struct tmbuf reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com",,
1543,db446cd57a5e39df025311a3a71259978ddc8c5e,ekka Enberg <penberg@cloudius-systems.com>, 2014-11-25 13:24:13 +0200, , libc ctype migrate upstream musl file libc ctype added commit 5cd0168 add string library musl modified since imported version unknown difference musl git submodule cosmetic reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1544,13f907f984d3f2d5752c56a68787dfc9e9fcc8ce,mnon Heiman <amnon@cloudius-systems.com>, 2014-11-16 18:09:59 +0200, , http server test switch shutdown power running test better use power running image make sure test would end signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1545,8518a15ce30da184757f8b030abc22bf7966db77,mnon Heiman <amnon@cloudius-systems.com>, 2014-11-16 18:09:57 +0200, , http server modify image testing testing require image contains java application test java api java based cli longer supported image used jetty addition simplify specific testing without ssl make check broken two task check ssl check http signed pekka enberg penberg cloudius systems.com,,
1546,3d1433c9ddbdb4af90811fc7e28f100639e7cd61,mnon Heiman <amnon@cloudius-systems.com>, 2014-09-09 14:39:27 +0300, , http server testing update get file status test reflect etc host permission etc host permission changed 666 664 break test relay permission check file status api update test compare updated permission suggested nadav har nyh cloudius systems.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1547,56b5ef75ba0a657716f3ec974a4fdd627864f5dc,adav Har'El <nyh@cloudius-systems.com>, 2014-11-24 23:17:00 +0200, , improve __tls_get_addr speed previous sped __tls_get_addr measured tst misc tls.so 27ns 8ns patch speed 4ns subtracting test iteration time non variable 2ns left 2ns overhead accessing variable probably small enough tolerate patch reorganize code called __tls_get_addr make sure fast path indeed fast possible notice fast path use module number even need find elf object pointer previous code organization always found elf object wasting time furthermore use inline code previous code layer line function calling mentioned change together reduce __tls_get_addr overhead 6ns 2ns signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1548,545bfc500f4ddd6838bf8537d2e82a447d13c5cf,adav Har'El <nyh@cloudius-systems.com>, 2014-11-24 14:39:47 +0200, , improve speed scalability __tls_get_addr explained issue 555 application use thread local variable noticably slowed slow implementation __tls_get_addr compiler call function shared library code thread local variable implementation used mutex slow relative ordinary variable access non scalable two thread concurrently access thread local variable patch switch rcu significantly faster doe prevent concurrent use patch improves test misc tls.so benchmark 27ns 8ns __tls_get_addr still significantly slower without 2ns still room improvement good start also measured patch improve performance actual application make heavy use thread local variable application also abysmal performance run two thread thread performance time slower one thread problem improved well signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1549,3489f301f274567ba6e5e7569db99c3ebe3bdc96,ehal J Wani <nehaljw.kkd1@gmail.com>, 2014-11-24 18:25:58 +0530, , cli add command poweroff signed nehal wani nehaljw.kkd1 gmail.com signed pekka enberg penberg cloudius systems.com,,
1550,ca13246fbe430c6a8fa417d093209aba6e9c32d0,ehal J Wani <nehaljw.kkd1@gmail.com>, 2014-11-24 13:52:45 +0530, , cli add option command cli add option recursively list subdirectory fix option signed nehal wani nehaljw.kkd1 gmail.com signed pekka enberg penberg cloudius systems.com,,
1551,29e09bc440013b68fe66a25e59e06918119cc632,adav Har'El <nyh@cloudius-systems.com>, 2014-11-24 10:48:21 +0200, , benchmark measuring access performance patch add tool test misc tls.cc quanitifying issue 555 i.e. tool help measure much slower access variable osv application compiled shared object compared linux application result benchmark laptop follows simple loop accessing global variable iteration length linux switching thread local variable noticably change iteration length osv changing variable thread local one dramatically increase iteration length nanosecond signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1552,e41e8ced814102fdaa106a10bb1bbbf9ce93fd36,mnon Heiman <amnon@cloudius-systems.com>, 2014-11-16 18:09:58 +0200, , http sever add power api shutdown api attempt clean power sometimes fails halt shutdown process sometimes desireable power force unsafe shuting system add power functionality api test http localhost 8000 poweroff reviewed nadav har nyh cloudius systems.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1553,b0a58a8d02483631e8a353a994315eb8518295b9,laudio Fontana <claudio.fontana@huawei.com>, 2014-11-19 11:33:48 +0100, , tool uush add builtin mkdir binary reviewed nadav har nyh cloudius systems.com signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
1554,99d77f320104a6096f475f1cf23c5dcaa12e91ee,ekka Enberg <penberg@cloudius-systems.com>, 2014-11-18 11:52:57 +0200, , linux wire uname system call reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1555,f4189c57c088e538d5f77956b05de1eabb7e59fd,ekka Enberg <penberg@cloudius-systems.com>, 2014-11-18 11:52:56 +0200, , linux fix futex command bitmask argument passed futex also include flag need mask command bit reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1556,dbb7d1a8cf01c5cebfdc6960b344d64606338f8f,on Marti <dmarti@cloudius-systems.com>, 2014-11-20 08:24:22 -0800, , mention script setup.py ubuntu section readme setup.py script work ubuntu without install missing dependency signed marti dmarti cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1557,e959f3f12663e9ea9210df3e2066b622557a3d3e,ekka Enberg <penberg@cloudius-systems.com>, 2014-11-18 11:52:54 +0200, , x64 make dummy_handler dumb nice least see rip invalid opcode exception happened ... reviewed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1558,8ffd3183378502baf4092af71ca46f628a802b67,mnon Heiman <amnon@cloudius-systems.com>, 2014-11-17 10:49:14 +0200, , swagger definition app.json use type currect way defining return type parameter type type keyword signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1559,ad0c3aa2a0dd07a07dafb77c1757be8e916a4e1f,vi Kivity <avi@cloudius-systems.com>, 2014-11-17 18:57:30 +0200, , script add alternative script create ec2 amis script creates amis snapshot instead running instance doe require uploading converting volume result much much faster downside must run ec2 run local host signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1560,d6fa715ec1c1054f30e2e26ffe7b035cfd237af7,vi Kivity <avi@cloudius-systems.com>, 2014-11-17 19:58:34 +0200, , loader add delay option delay boot specified number second slow log collector ec2 catch reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1561,61b3f772e2b0a95850b36c6fd9d3fde40e13b96e,leb Natapov <gleb@cloudius-systems.com>, 2014-11-16 17:42:36 +0200, , mmu flush tlb clearing pde entry cpu may pde cache even ptes invalid need flushed pde change signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
1562,2e151240daaf215c76f69d583b741b866c709af5,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-11-13 15:00:24 +0100, , fix buffer overflow setup kernel elf image contains .tdata section .tbss information differenct pt_tls file memory size therefore incorrect create full ready use template place i.e zeroing memory area directly following .tdata section since may overwrite something important overwritten something else reviewed nadav har nyh cloudius systems.com signed paweå dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
1563,8df49f586b63ad52451b5a4dcab3634b1fb6056d,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-11-13 15:00:25 +0100, , memory merge std_realloc dbg realloc std_realloc need handle debug allocation object_size supporting patch add logic dbg realloc std_realloc basically reason former exist also since object_size handle memory allocated debug allocator abort anymore given allocation reviewed nadav har nyh cloudius systems.com signed paweå dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
1564,c2fb41dc06ab9d1d75fe439cd300657da0e4e056,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-11-13 15:00:23 +0100, , x64 fix format string dump_registers rip rflags bit used instead reviewed nadav har nyh cloudius systems.com signed paweå dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
1565,bbb67ac46618472ec0e17e3d5cda65db9cf25c52,adav Har'El <nyh@cloudius-systems.com>, 2014-11-13 12:55:02 +0200, , debugging malloc fix realloc boot debugging allocator enabled conf debug_memory fail setenv free memory think see overflow real setenv bug false alarm bug debugging allocator patch fix bug debugging malloc enabled conf debug_memory malloc call done dbg malloc allocation still performed standard allocator includes early allocation debugging allocator enabled nested allocation within debugging allocator reason free check every address debugging allocator range standard allocator range realloc need course old pointer passed realloc called dbg realloc called free unqualified free end calling dbg free always even address allocated debugging allocator need call free free ensure address checked separately free bug seen setenv setenv realloc allocate environment variable buffer loader.cc set one environment variable enabling debugging allocator originally allocated standard allocator later realloc debugging allocator enabled fix 549 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1566,e4d5a7d0347da07e4688bc9b4140415907ce58cd,ekka Enberg <penberg@cloudius-systems.com>, 2014-11-13 11:27:50 +0200, , merge branch stable v0.15,,
1567,0290c5d1143f3d883fa01d61ac642793d8fbf399,ekka Enberg <penberg@cloudius-systems.com>, 2014-11-13 10:41:28 +0200, , revert script make release image include default configuration reverts commit want automatically pull cli example redis appliance switch back requiring release image explicitly specify dependency signed pekka enberg penberg cloudius systems.com,,
1568,402765d98bcb85db378d6d18c041a99acc758593,adav Har'El <nyh@cloudius-systems.com>, 2014-11-13 01:16:39 +0200, , libc use getenv musl chasing bug noticed copy getenv.c add secure_getenv better add separate file use unmodified getenv.c musl signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1569,a188843e9462fd6d689d7fb5749d4ab90920c578,ekka Enberg <penberg@cloudius-systems.com>, 2014-11-12 14:38:51 +0200, , merge branch stable v0.15,,
1570,d53910af381be6267f1322b4877549391be553c0,ekka Enberg <penberg@cloudius-systems.com>, 2014-11-12 14:29:14 +0200, , loader.cc fix if_name related use free conf debug_memory seeing following splash building new image home penberg osv script mkzfs.py bare.img bare.img.d bootfs.manifest osv v0.15 eth0 192.168.122.15 page fault outside application addr register rip strlen rfl rax rbx rcx rdx rsi rdi rbp r10 r11 r12 r13 r14 r15 rsp aborted backtrace 3327023 mmu vm_fault unsigned long exception_frame 147 page_fault 105 3735078 setenv 122 do_main_thread void 2987 4453797 thread_main_c 3739045 505224191 4115855 1409059144 looking code take pointer string returned osv if_ip however soon exit scope string destroyed memory recycled bug introduced commit a296f8b loader adding osv_ip environment variable reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1571,adbf67dfe0b89d041743e401f3d0479d5720f72c,ekka Enberg <penberg@cloudius-systems.com>, 2014-11-12 09:38:23 +0200, , merge branch stable v0.15,,
1572,953cc92a5f3ed552306d755b8a27ca5376a84569,ekka Enberg <penberg@cloudius-systems.com>, 2014-11-12 09:29:53 +0200, , x64 use dmi bios vendor detecting xen hypervisor fail detect xen clocksource fallback checking firmware vendor dmi table signed pekka enberg penberg cloudius systems.com,,
1573,a92a233acbfe7e43381e02ba0a3203e5a8842d6f,ekka Enberg <penberg@cloudius-systems.com>, 2014-11-12 09:03:05 +0200, , merge branch stable v0.15,,
1574,a0d83efcfdbb0dd39aedbebf5ccff6efa37fb409,ekka Enberg <penberg@cloudius-systems.com>, 2014-11-12 08:59:01 +0200, , x64 remove vmware hypervisor probing remove vmware hypervisor probing introduced commit 7cb1ddf hypervisor api vmware support people reporting cause boot issue amazon ec2 instance type reported asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1575,2fda93fdf98ad38918269f2141893f4ac097e972,adav Har'El <nyh@cloudius-systems.com>, 2014-11-10 20:42:06 +0200, , setup.py required ubuntu package use run.py option bridged networking need install libvirt bin particular set virbr0 interface dhcp server also cause brctl tool installed prerequisite signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1576,70c1c485d1793eaf5d09999b65b355e94238dfb1,ekka Enberg <penberg@cloudius-systems.com>, 2014-11-10 16:52:48 +0200, , httpserver fix hardware.cc build aarch64 add missing cpuid.hh include fix build brekage aarch64 partial fix 538 signed pekka enberg penberg cloudius systems.com,,
1577,ee8c539bf9fe3b61a8c3dfea2855d062eb24f0fc,ekka Enberg <penberg@cloudius-systems.com>, 2014-11-10 16:28:57 +0200, , monitoring agent fix hypervisor name confusion code firmware vendor hypervisor name ... signed pekka enberg penberg cloudius systems.com,,
1578,bdeccdd742cef67ff79fb8797a77c8b5858c7dc4,ekka Enberg <penberg@cloudius-systems.com>, 2014-11-10 16:26:46 +0200, , hypervisor name api convert restful api hypervisor name translation function osv api used elsewhere well signed pekka enberg penberg cloudius systems.com,,
1579,98b88ee300421e8bc113ec34853e60015e348d22,ekka Enberg <penberg@cloudius-systems.com>, 2014-11-10 12:34:04 +0200, , script add monitoring agent appliance add monitoring agent appliance image publish add capstan base image otherwise image built user include default signed pekka enberg penberg cloudius systems.com,,
1580,949b3ee993a24df5ed16cdbfacb9a78e9ad97b1a,hlomi Livne <shlomi@cloudius-systems.com>, 2014-11-10 14:44:09 +0200, , monitor agent support cloud init patch add support enabling disblaing monitor agent via cloud init default monitor agent enabled monitor agent configuration structure monitor agent enable true false patch also update message provided user signed pekka enberg penberg cloudius systems.com,,
1581,9c72d9b9e52edcda883635da30b65a15e0da8db0,hlomi Livne <shlomi@cloudius-systems.com>, 2014-11-10 14:44:08 +0200, , cloud init add support monitoring agent patch add support monitoring agent configuration section cloud init signed pekka enberg penberg cloudius systems.com,,
1582,213a810254c8d6bba7e741cb128d9abe4b746a8b,ekka Enberg <penberg@cloudius-systems.com>, 2014-11-10 13:12:39 +0200, , module monitoring agent run background let monitoring code run asynchronously avoid slowing boot signed pekka enberg penberg cloudius systems.com,,
1583,478be973ada8cc45f63c95acd7653d52110c7f48,ekka Enberg <penberg@cloudius-systems.com>, 2014-11-10 13:46:16 +0200, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1584,dc0339985257f02a9851cc4570d31ffb0f3db0ef,ekka Enberg <penberg@cloudius-systems.com>, 2014-11-10 12:23:42 +0200, , revert config.json add monitoring agent default image configuration reverts commit want agent enabled binary push image built developer,,
1585,b8c01c6e093a69749a42978717143be18b7771a3,adav Har'El <nyh@cloudius-systems.com>, 2014-11-10 11:35:45 +0200, , build.mk remove unintended line make progress tell make print two silly comment output also call quiet macro print empty line give anything print nothing good print let use instead avoid empty line signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1586,ea77c2dfe955656513c6ec526a32353fc585051b,ekka Enberg <penberg@cloudius-systems.com>, 2014-11-10 11:57:52 +0200, , config.json add monitoring agent default image configuration signed pekka enberg penberg cloudius systems.com,,
1587,222114eb419de48c4f1e7125750aca9e5f7506b4,mnon Heiman <amnon@cloudius-systems.com>, 2014-11-03 11:02:04 +0200, , upload cli script upload standalone cli script create rpm would upload result use call script upload cli signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1588,a05f632b04d915abf7e845b88f4b8f1c1955d5a7,mnon Heiman <amnon@cloudius-systems.com>, 2014-11-03 09:55:58 +0200, , create rpm external cli add option creat rpm external cli rpmbuild create rpm cli dependency lua library file changed relevant current directory would copy lua depnedencies including lua file run either call inside cli make rpm rpmbuild directory call make install cli use yum example sudo yum install rpm x86_64 osv cli 1.0 uninstall sudo yum remove osv cli installation call cli signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1589,05d65314352f50f1ada4200e37bb412f4a1211ed,lauber Costa <glommer@cloudius-systems.com>, 2014-11-07 16:26:42 +0100, , xenbus expose function detach device signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1590,55038866d39fc783dd668ac6a1ab8245d2b7d327,lauber Costa <glommer@cloudius-systems.com>, 2014-11-07 16:26:41 +0100, , xen allow interrupt handler unregistered part teardown process device need able unregister interrupt handler driver layer call function currently unimplemented signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1591,b7d226508dfee59c43c386502b9f8572f89d549a,lauber Costa <glommer@cloudius-systems.com>, 2014-11-07 16:26:40 +0100, , xenfront code teardown sequence close endpoint backend let grant stop network interface free ring element release grant free ring well remaining structure signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1592,ffcfd6a73cc02d4106a3314247b735e28f805346,lauber Costa <glommer@cloudius-systems.com>, 2014-11-07 16:26:39 +0100, , xenfront derive unit number xenstore currently bump integer index number however interface already indexed xenstore following different indexing scheme possible valid side effect referring interface outside guest necessarily match interface within signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1593,c5ae3b9ec761426c515edd8a89c0c4c6a15fd4c9,lauber Costa <glommer@cloudius-systems.com>, 2014-11-07 16:26:38 +0100, , xenbus add detach function device driver regiter detach function far using probe attach add detach mix signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1594,85ac917f1b6e7668ecae0ac49966a1ea31ee43b1,lauber Costa <glommer@cloudius-systems.com>, 2014-11-07 16:26:37 +0100, , xenbus get rid initialized trick use instance method place signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1595,d2687a41129c988837463394e0bcebff9a380a1d,ekka Enberg <penberg@cloudius-systems.com>, 2014-11-10 10:48:53 +0200, , module monitoring agent trivial coding style cleanup various trivial cleanup spelling formatting copyright banner signed pekka enberg penberg cloudius systems.com,,
1596,2a8348aecf1de63471c0e5134c5855149fee1dc8,mnon Heiman <amnon@cloudius-systems.com>, 2014-11-05 15:45:06 +0200, , adding monitor agent module monitor agent responsible gotharing sending usage information remote server currently upload information bucket boot gothered information saved uuid file predefine bucket collected data function fill_data additional information added needed copy saved data stored locally bucket name local file name overriden command line signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1597,e17995df367ad1007c56be54937f178def17a7ac,adav Har'El <nyh@cloudius-systems.com>, 2014-11-09 19:51:24 +0200, , setup.py need curl ubuntu need curl default make used fetch lua default image cli add requirement ubuntu setup.py signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1598,b80fee72bb4c86e9d153411f5978f587daead24c,zach Livyatan <tzach@cloudius-systems.com>, 2014-11-09 10:08:55 +0200, , update readme remove ssh support default image signed tzach livyatan tzach cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1599,cec13e02a9902a461fd0a53c6c69c85643190bf8,adav Har'El <nyh@cloudius-systems.com>, 2014-11-07 18:53:33 +0200, , sched fix rare case idle thread runtime becoming nan patch fix bug idle thread runtime could become nan value causing bad decision scheduler rare case thread runtime updated thread_runtime ran_for key line code _rtt _priority cnew cold word runtime consumption cnew cold multiplied thread priority thread priority consumes runtime twice normal rate result run half priority comrade run idle thread _priority inf intention addition lead _rtt inf idle thread always lose lowest runtime contest unfortunately one case happen correctly ran_for called extremely tiny duration one extreme case saw called idle thread ran nanosecond case end two single precision float cnew cold equal end calculation inf whose result nan instead inf patch change code explicitly set _rtt inf _priority inf without attempting multiplication signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1600,10299652a18c771b8cdcac61584592523bf95a21,adav Har'El <nyh@cloudius-systems.com>, 2014-11-09 18:18:15 +0200, , build.mk build loader.elf wrong parameter explained issue 545 makefile bug rule building libosv.so depends loader.elf variable usually defined compiling .so inherited compilation loader.elf causing osv object compiled slightly different flag object file e.g. saw runtime.o compile fpic result compilation without come identical patch give notion libosv.so separate target build right loader.elf anyway closely related fix 545 signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1601,cf4211a4f1067924471caef7d1782deb46368d6f,ekka Enberg <penberg@cloudius-systems.com>, 2014-11-07 15:12:38 +0200, , httpserver osv gui update latest signed pekka enberg penberg cloudius systems.com,,
1602,16f1d8b578f6aeb3937d73f2e5b63e554f9ab28a,ekka Enberg <penberg@cloudius-systems.com>, 2014-11-07 15:12:05 +0200, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1603,9a1712b6f2f18faa85a935201d5abab613408cbb,ekka Enberg <penberg@cloudius-systems.com>, 2014-11-06 15:10:10 +0200, , x64 fix dmi table scanning legacy system even detect smbios system also need check dmi table marker also validate smbios entry point checksum spotted code inspection signed pekka enberg penberg cloudius systems.com,,
1604,f14151d2b1a7e6489905658e837793e2b06949c9,mnon Heiman <amnon@cloudius-systems.com>, 2014-11-06 17:06:59 +0200, , http server setting download mode file seting target file upload file mechanism got broken additional option added send information server change first set upload mode file temp_file name set also clean file handler upload setting target file download start signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1605,048f30b58c22aacae2ecd4b023b632987e995357,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-11-05 03:03:57 +0000, , change option name nohalt power abort signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
1606,adb4987f089a2cf5462aef2d50e8600d95eb4150,mnon Heiman <amnon@cloudius-systems.com>, 2014-09-15 14:54:17 +0300, , http server support wildcard searching filename add support wildcard search dirctory listing supported match regular expression replaced replaced test wildcard added signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1607,fd081a2ec1b7dacbdf76e8f8b4e62142e5249613,mnon Heiman <amnon@cloudius-systems.com>, 2014-10-08 11:32:23 +0300, , http server add stop server api add api stop httpserver httpserver running foreground would cause system stop signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1608,0203f5aa88fa957816193e89f88fd6184e5d00fb,mnon Heiman <amnon@cloudius-systems.com>, 2014-10-08 11:32:22 +0300, , http server add stop method server add stop method stop global server allows stop api signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1609,64b50396ea98ec887dbefecc1d1c9ea8e2090932,mnon Heiman <amnon@cloudius-systems.com>, 2014-10-08 11:32:21 +0300, , swagger definition file reference api.json missing api.json need listed api doc shown swagger gui signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1610,41220e191e845bc5d38ec4f366f5bc30d4157384,adav Har'El <nyh@cloudius-systems.com>, 2014-11-05 14:27:23 +0200, , fix build gcc 4.8 commit added bunch extern inline function instrumented inlined unfortunately work gcc 4.8 gcc bug fixed 4.9 http gcc.gnu.org bugzilla show_bug.cgi 49718 patch undoes fix patch insteads tell compiler via command line option instrument anything mmintrin.h header also solves original problem work gcc 4.8 well signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1611,4f870a5f53dff13bae041d845a119aa3bc1b449b,adav Har'El <nyh@cloudius-systems.com>, 2014-11-04 18:15:39 +0200, , solve finstrument function problem solve finstrument function problem see issue 530 build.mk compiles independent decompressing executable regular cxxflags including finstrument function includes work without instrumentation function add fno instrument function compiling decompresser signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1612,def5fbbb6ff9fd077ee5683c34bfd549fc745413,adav Har'El <nyh@cloudius-systems.com>, 2014-11-04 17:38:58 +0200,530, fix finstrument function problem conf tracing build option give compiler finstrument function option break linking stage long list missing function see issue 530 error involve function x86intrin.h header defines function extern inline __attribute__ __gnu_inline__ arcane combination basically tell gcc make function inline without possibility writing function independently appears function also instrumented use ugly define trick force function also get attribute avoid instrumenting unfortunately error fix issue 530 still open signed nadav har nyh cloudius systems.com,,
1613,86748d776b5fd7bcbb0af61da22ef148d40c66f0,adav Har'El <nyh@cloudius-systems.com>, 2014-10-30 12:21:29 +0200, , new assigned virtio api application patch add new experimental api include osv virtio assign.hh application use want directly access virtio device host gave osv virtio network device virtio device assigned application osv need know use boot time option assign net tell osv use virtio net device given host instead assign guest application use osv assigned_virtio get get access device see include osv virtio assign.hh full api properly set use signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1614,9783510d28b6e7af89fe1d84ab35f7c5d78730ff,ekka Enberg <penberg@cloudius-systems.com>, 2014-11-03 12:23:28 +0200, , merge branch stable v0.14,,
1615,1fa749165e4521988305910b3a771927f71520a0,ekka Enberg <penberg@cloudius-systems.com>, 2014-11-03 11:48:53 +0200, , script make release image include default configuration use make module instead make image capstan image release script build thing like cloud init default configuration signed pekka enberg penberg cloudius systems.com,,
1616,ea36192535a11ed64a2b31941788d0a5b115b07c,aifeng Gao <gaohaifeng.gao@huawei.com>, 2014-10-30 16:49:29 +0800, , virtio net vmxnet3 fix if_ioctl siocaddmulti siocdelmulti case current code siocaddmulti siocdelmulti print message make different signed wangbicheng wangbicheng huawei.com signed haifeng gao gaohaifeng.gao huawei.com signed pekka enberg penberg cloudius systems.com,,
1617,11e608f94b7410bca3ab6ef37b7aba1a46ac9e87,aifeng Gao <gaohaifeng.gao@huawei.com>, 2014-10-30 16:37:18 +0800, , pci fix bdf format format bdf look like 07.0 signed haifeng gao gaohaifeng.gao huawei.com signed pekka enberg penberg cloudius systems.com,,
1618,da3e2511a49be7d4dd27169864ac7fd2a35a013e,lauber Costa <glommer@cloudius-systems.com>, 2014-10-31 05:01:47 -0500, , xen generate symbol event channel notification already symbol event channel notification via irq number would useful allow external user access notification via event channel well currently done fully inline make sense situation let generate symbol external user benefit signed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com,,
1619,bcdd0acc7f48136489c49b1073df7dd78162bac9,lauber Costa <glommer@cloudius-systems.com>, 2014-10-31 05:01:46 -0500, , move symbol creation macro header use file well signed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com,,
1620,25147ebaf5e25d5cd7ad08a049f74720896826ec,lauber Costa <glommer@cloudius-systems.com>, 2014-11-01 17:58:09 -0500, , xen make global call module signed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com,,
1621,0fcdf73faa67c5a1f219e3ff2c10c4cf34bfeaee,ekka Enberg <penberg@cloudius-systems.com>, 2014-10-31 14:04:07 +0200, , merge branch stable v0.14,,
1622,b1fb85cc10730e0161f98123e96d9fd8133268df,ekka Enberg <penberg@cloudius-systems.com>, 2014-10-31 13:51:10 +0200, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1623,965d26a1680d7a664d5a6b558b05e6dedb2dd68f,ekka Enberg <penberg@cloudius-systems.com>, 2014-10-31 13:48:32 +0200, , script osv respect allow_symlink flag filemap module definition specify symlinks allowed need respect fix default image bootup problem broken symlink signed pekka enberg penberg cloudius systems.com,,
1624,55c865b9b82f51ce9314952aa86d006779598802,ekka Enberg <penberg@cloudius-systems.com>, 2014-10-31 11:55:00 +0200, , merge branch stable v0.14,,
1625,de4c178319a712067c18092268bada7ff260552b,ekka Enberg <penberg@cloudius-systems.com>, 2014-10-31 09:57:44 +0200, , script osv add support symlinks filemap.py currently filemap.py generates manifest file file mapped path cause consider symlinks simply upload copy target file fix 539 reviewed tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
1626,341b7dd42ca1a7f2e13b6280f3e9827b75435dc8,ekka Enberg <penberg@cloudius-systems.com>, 2014-10-31 09:54:25 +0200, , script upload_manifest fix symlink permission os.stat function follows symbolic link therefore fails encounter symlink missing target file host fix code use os.lstat look permission symlinks reviewed tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
1627,cc53c460ff146a3548dc27fb8b7123818f1290e5,lauber Costa <glommer@cloudius-systems.com>, 2014-10-30 15:58:02 -0500, , xen fix xs_directory xs_directory signature still non conforming libxenstore requires return directory string pas parameter signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1628,ae28d4ed178da0d6e318a91f4640659cb1ec08bd,ekka Enberg <penberg@cloudius-systems.com>, 2014-10-30 11:42:07 +0200, , merge branch stable v0.14,,
1629,794a43e2405bbcd3877b4739a41998c681a64931,mnon Heiman <amnon@cloudius-systems.com>, 2014-10-30 11:14:41 +0200, , http server add run_app api add api execute app via api command passed command line parameter example equivalent script run.py java.so java example hello curl put http localhost 8000 app command java.so 2fjava example 20hello multiple command passed single command separate ampersand clarity reason semicolon separator allowed signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1630,e270cf9c6b9928c6797411ff7f123f79a15fe443,mnon Heiman <amnon@cloudius-systems.com>, 2014-10-30 11:14:40 +0200, , adding application registry support api able start application startup sequence completed application register main thread call join method application call join also remove registry add app_registry class hold apps application created run static method added registery app call join method removed registry join static method added main thread call would call join thread avoid _kernel compiler directive helper function used create application register reviewed tomasz grabiec tgrabiec gmail.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1631,929d9a35e3eeb5bcb776769f9c065a6e9bed93f4,lauber Costa <glommer@cloudius-systems.com>, 2014-10-29 14:12:27 -0500, , xen make xenstore function match one libxenstore libxenstore function named exactly internal function signature different mean trying run program written libxenstore confusion ensue internal user function already ified moving __end_decls already get rid name conflict name resolve libxenstore however libxenstore expects manage userpace xenstore mean opening socket dealing multiple thing would complicate osv best course action provide function signature libxenstore expects signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1632,90d86223071ece1a62428366e2549067d646fdaf,laudio Fontana <claudio.fontana@huawei.com>, 2014-10-29 12:46:21 +0100, , driver repeat pci config parsing pci config already parsed pci.cc thus doe need parsed every driver work left specific driver make sense bar signed claudio fontana claudio.fontana huawei.com tested claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
1633,f54b515cedfcea9dd3183945c7f90765a1dccbd4,ekka Enberg <penberg@cloudius-systems.com>, 2014-10-29 10:44:07 +0200, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1634,b9b73661543e614c7dfb3616bd3a75acfa30911e,ergei Turukin <rampage644@gmail.com>, 2014-10-28 15:28:29 +0200, , x64 fix relocation without symbol reviewed nadav har nyh cloudius systems.com signed sergei turukin sergei.turukin rackspace.com signed pekka enberg penberg cloudius systems.com,,
1635,a296f8b81d185e9aceab9a9c46fa8a652be78058,hlomi Livne <shlomi@cloudius-systems.com>, 2014-10-19 11:32:21 +0300, , loader adding osv_ip environment variable osv_ip set incase single address including local interface multiple address environment variable set signed shlomi livne shlomi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1636,e3d9654554e181683830f9f115b6e6a709c85185,hlomi Livne <shlomi@cloudius-systems.com>, 2014-10-19 11:32:20 +0300, , bsd porting adding if_ip function return interface address reviewed nadav har nyh cloudius systems.com signed shlomi livne shlomi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1637,3ec7c7f6fe18bcb6e776ff2a17c75258ac4c9f0c,hlomi Livne <shlomi@cloudius-systems.com>, 2014-10-19 11:32:19 +0300, , loader extend resolution arg environment variable allow resolution arg enviornment variable arg composed value enviornment varialbles e.g osv_ip signed shlomi livne shlomi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1638,b7cd3f7c2675ee0012827285ced94ad8380ff371,hlomi Livne <shlomi@cloudius-systems.com>, 2014-10-22 13:03:59 +0300, , ec2 simulator allow reuse address allow ec2 simulaor reuse address consecutive restarts delayed signed shlomi livne shlomi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1639,bd81c8efb0c3b54efe784f6834f12705c2f87d33,avid Halls <dahalls@gmail.com>, 2014-10-23 21:01:16 +0100, , libc fix pipe flag logic non blocking need flag david explains diff fix problem ctrl node.js node signal handler pipe internally dealing signal without change write returning ebadf fwrite flag set file structure node would assert expect ever happen reviewed nadav har nyh cloudius systems.com signed david hall dahalls gmail.com signed pekka enberg penberg cloudius systems.com,,
1640,252524a0785fc048d6a0c6447686e19c9db55f2d,lad Zolotarov <vladz@cloudius-systems.com>, 2014-10-27 17:29:16 +0200, , sched yield get rid extra dereferencing reviewed nadav har nyh cloudius systems.com signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1641,fd45f513ec0185c02a7ad4452303981ed8caab33,lad Zolotarov <vladz@cloudius-systems.com>, 2014-10-27 17:29:15 +0200, , sched yield overwrite runtime yielding thread yield function guarantee another runnable thread unconditionally switch thread however implemented overwriting yielding thread runtime measurement copy next thread runtime causing scheduler prefer thread course normal flow deleting yield ing thread runtime history may create lot weird unpredictable situation e.g almost running yield ing thread may getting fair share cpu time would want run another frequently running thread cpu otherwise frequently running yield ing thread may steal cpu time unfair way frequently running thread cpu namely calling yield may cause scheduler become unfair solution change yield implementation instead changing yielding thread runtime scheduler regular flow take care yielding leave runtime unmodified pas yielding flag scheduler scheduler see flag behaves differently leave current thread running even still lowest runtime also switch another thread need pick preemption time eventually return yielding thread time passed scheduler parameter note patch alone applied master head 5c48ba8fa4567 introduce regression redis lrange_500 socket pipeline test vcpus kvm guest signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1642,f54544f79ff17f643b71d84a77d786e120e6e70f,lad Zolotarov <vladz@cloudius-systems.com>, 2014-10-27 17:29:14 +0200, , percpu_xmit poll_until call yield trying bypass control next worker significantly improves chance control actually pas next worker reviewed nadav har nyh cloudius systems.com signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1643,f3ce7da702acc92e3ea936220a29c175a8445119,lad Zolotarov <vladz@cloudius-systems.com>, 2014-10-27 17:29:13 +0200, , percpu_xmit poll_until beautify code bit reviewed nadav har nyh cloudius systems.com signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1644,bdb863ac2432923f2de180329b866aee3a472f41,lad Zolotarov <vladz@cloudius-systems.com>, 2014-10-27 17:29:12 +0200, , virtio net set infinite priority worker thread patch utilizes priority order ensure fast response low latency thread addition prevents context switch ping pong worker thread wake application thread context netchannel per cpu flow correspondingly ping pong may happen since runtime worker usually greater runtime single application thread scheduler likely switch application thread woken worker patch improves performance ycsb workload cassandra test kvm guest vcpu osv guest 7.47 17.02 29.24 24.45 128 200 400 thread correspondingly degrades performance test single vcpu kvm guest 128 thread improves 18.3 34.2 200 400 thread degrades redis benchmark lrange_500 test result socket pilelines kvm vcpu guest cassandra smp case main beneficiary patch make sure virtio thread running one cpu always get chance quickly distribute work cpu instead letting another thread single cpu run long time cause cpu become idle reviewed nadav har nyh cloudius systems.com signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1645,c7f30cb50967a1c06bdde5bda35f1a4b1aa33779,akuya ASADA <syuu@cloudius-systems.com>, 2014-10-27 19:24:49 +0900, , libc add __strncpy_chk reviewed nadav har nyh cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1646,44a9ec91b0b9e0e090b2f0dcc86ff8f1b06bbd0b,ekka Enberg <penberg@cloudius-systems.com>, 2014-10-27 11:26:54 +0200, , libc sys_errlist sys_nerr symbol add sys_errlist sys_nerr symbol osv deprecated apparently still application around use reviewed nadav har nyh cloudius systems.com sergei turukin sergei.turukin rackspace.com constantine peresypkin pconstantine gmail.com signed pekka enberg penberg cloudius systems.com,,
1647,dd7d4e24a3a4bbb4c62bb2e1324150222b0cff29,mnon Heiman <amnon@cloudius-systems.com>, 2014-10-27 11:21:27 +0200, , http server expose hypervisor type expose hypervisor type path would possible call http localhost 8000 hardware hypervisor get hypervisor name signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1648,55b5ffea81feff65685e24420c4563f7dd5ffe90,mnon Heiman <amnon@cloudius-systems.com>, 2014-10-27 11:21:26 +0200, , http server add firmware provider api expose firmware provider api patch would possible call http localhost 8000 hardware firmware vendor get vendor name signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1649,3aa6872ceeac71cb46a86e65e737e79b2d8a1ac5,sias He <asias@cloudius-systems.com>, 2014-10-27 09:16:10 +0800, , epoll fix trace_epoll_ctl event null signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1650,88f432a17e2ea316b20cbf80cf37303b6a35ef21,avid Halls <dahalls@gmail.com>, 2014-10-23 20:58:48 +0100, , libc time return gmt instead null tm_zone fix node.js check tm_zone member null reviewed nadav har nyh cloudius systems.com signed david hall dahalls gmail.com signed pekka enberg penberg cloudius systems.com,,
1651,7ff64ff212033b90679035156be7befce6a9b715,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-23 14:25:56 +0200, , httpserver test ensure sslv3 rejected signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1652,3b7bf3187a3d08fcf9801103d8d0476d3ece4152,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-23 14:25:55 +0200, , httpserver accept tlsv1.2 sslv3 prone poodle attach accept method http 2014 poodle bite exploiting ssl 30.html reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1653,3da8808f979ac28bca81852f94b3e3035ed1ed3d,adav Har'El <nyh@cloudius-systems.com>, 2014-10-26 18:04:49 +0200, , stub signalfd silly warn fail implementation linux signalfd system call obviously useful application really need signalfd useful application gracefully fail without call still need symbol available e.g. load symbol resolution enabled object signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1654,e63e90c6a4eaf138a6102b66584c3663d1429f10,adav Har'El <nyh@cloudius-systems.com>, 2014-10-26 18:22:58 +0200, , libaio stub function stub libaio function warn abort usually additional stub function necessary application call io_setup fails call one function however application compiled load symbol resolution important additional symbol well signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1655,46fe850a51914458359d348c69a901a78be5ba8f,ekka Enberg <penberg@cloudius-systems.com>, 2014-10-23 09:44:26 +0300, , java jvm assertion command line option add support jvm assertion command line option java launcher yaroslav litvinov gmail.com tested tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
1656,5c48ba8fa45670f55707e3a4c5d071dcb11b47fb,mnon Heiman <amnon@cloudius-systems.com>, 2014-10-22 16:01:45 +0300, , http server setting gui root url move gui root path call localhost 8000 redirect localhost 8000 dashboard display gui instead swagger swagger moved localhost 8000 api gui signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1657,ed9f597c7db6330d6378fdc0d75ddd697a5a0c9f,mnon Heiman <amnon@cloudius-systems.com>, 2014-10-22 16:01:44 +0300, , http server add force path option file_handler file_handler return html file sometimes relay path would end slash case called without slash desire behaviour would redirect request url slash add optional parameter file_handler constructor force path end slash signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1658,0320fabb6f4c653caf35668c82bf41dd63ce68ab,mnon Heiman <amnon@cloudius-systems.com>, 2014-10-22 16:01:43 +0300, , http server add redirect exception add redirect execption would allow handler return 301 redirect given url handler wish redirct new_url call throw new_url signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1659,ae370f4d43c92e93574f6c4e5ceca7845d91c4b8,mnon Heiman <amnon@cloudius-systems.com>, 2014-08-19 09:48:03 +0300, , http server add thread information add status priority stack size information thread info reviewed nadav har nyh cloudius systems.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1660,546aaccfbb37241c0430e8e7bb62e934e3454fea,hlomi Livne <shlomi@cloudius-systems.com>, 2014-10-22 13:12:29 +0300, , enhance run.py xen networking support allow mac address run.py kvm support passing mac argument set mac address patch extends support xen reviewed glauber costa glommer cloudius systems.com signed shlomi livne shlomi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1661,6e0723f9b7b09c35c7dfeb4ef46a06cc14e4cd2a,hlomi Livne <shlomi@cloudius-systems.com>, 2014-10-21 18:50:20 +0300, , ec2 tester bug fix fixing bug related difference bash reviewed nadav har nyh cloudius systems.com signed shlomi livne shlomi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1662,e4c9310e06316a78e8827f05b9e0c4810b216e49,mnon Heiman <amnon@cloudius-systems.com>, 2014-10-21 09:52:47 +0300, , http server register model call init function add description parameter module auto generated init function use description register api calling init also change init call include description check either call http localhost 8000 api doc get list apis example get env api call http localhost 8000 api doc env env use inside swagger gui url http localhost 8000 api doc signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1663,9db51c3a509269690e3a5b422b640e4a849461b8,mnon Heiman <amnon@cloudius-systems.com>, 2014-10-21 09:52:46 +0300, , http server dynamically generate api doc swagger add handler collect api entry return api doc needed allows dynamically add api entry example jvm active possible register api swagger returned signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1664,ee9664556c96593e8f83ab3794bc0430df1f4803,mnon Heiman <amnon@cloudius-systems.com>, 2014-10-21 09:52:45 +0300, , swagger api definition batch command parameter declare form batch command form parameter fully declare swagger would able display signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1665,0f75b3af75fe5e4c3b20b93cc8bbc5a56951ee5e,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-10-21 20:18:18 +0200, , app use object entry point failed looking main case pie may impossible look main function way start executable jump entry point case called soon thereafter initialize environment application going execute however stage osv already called constructor global object initialized doe prepare command line call main fix 350 signed paweå dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
1666,06e851c4ae9dbb4667f9d6fb407cc67edf1f2424,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-10-21 20:18:17 +0200, , elf get object entry point entry point set valid value iff shared object fact pie determined presence pt_interp segment signed paweå dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
1667,bd580eafc510aa92e59da170e0ad5861881d7d26,ekka Enberg <penberg@cloudius-systems.com>, 2014-10-21 15:39:55 +0300, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1668,08faeb4e9f1b3d0e676611a9acaa4da73570c876,hlomi Livne <shlomi@cloudius-systems.com>, 2014-10-21 12:05:40 +0300, , build.mk allow setting environment variable image args reviewed nadav har nyh cloudius systems.com signed shlomi livne shlomi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1669,e7e71b061d4ff70eda407f00a778ecf4617499ae,adav Har'El <nyh@cloudius-systems.com>, 2014-10-20 23:27:22 +0300, , implement chmod implement chmod function using existing low level vnode ultimately zfs mechanism also added test verify chmod stat return expected mode fix 523 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1670,bae26decdc8d7081bb1cd6491cbc737490c3d801,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-10-21 02:58:14 +0200, , x64 skip unformated section iterating dmi table dmi structure consists formated unformated section size former stored header end unformated section denoted two consecutive fix 521 signed paweå dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
1671,9bd0087f9f376b0cccdb440d0dbca7080aaa492f,ekka Enberg <penberg@cloudius-systems.com>, 2014-10-20 16:28:20 +0300, , httpserver osv gui update latest signed pekka enberg penberg cloudius systems.com,,
1672,cb292761e0153f273e4f9a992116f17aec0a5570,mnon Heiman <amnon@cloudius-systems.com>, 2014-09-09 14:40:35 +0300, , http server testing add basic network testing add basic test ifconfig get route api signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1673,fd9ae6fda87fad9610f56871addf181851d147c1,mnon Heiman <amnon@cloudius-systems.com>, 2014-09-09 14:41:30 +0300, , http server testing add basic testing add basic testing api signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1674,1033d7eebc3e379d247c7f5e104ff52f3acddc94,hlomi Livne <shlomi@cloudius-systems.com>, 2014-10-19 11:32:18 +0300, , loader moving resolution environment cmdline args moving resolution environment cmdline args networking started allow adding enviornment varilable hold network information e.g address reviewed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed shlomi livne shlomi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1675,cb712c1921da07950d3f4a787339516c6059931c,akuya ASADA <syuu@cloudius-systems.com>, 2014-10-18 02:32:42 -0700, , cli add reboot command signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1676,6e58b6e568365dc402a80d7cce7ca4e3a0623573,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-10-18 18:50:29 +0200, , eventfd release mutex calling poll_wake nadav pointed calling poll_wake mutex taken may cause unnecessary context switch since woken thread also want acquire mutex reviewed nadav har nyh cloudius systems.com signed paweå dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
1677,2ebb88c2e9b8647f230ca148de3753d47bab06b0,adav Har'El <nyh@cloudius-systems.com>, 2014-10-19 17:53:02 +0300, , gdb look object also apps directory debugging osv add gdb osv syms command attempt load gdb shared object loaded osv looked object bunch place build directory module directory etc patch also add path apps directory stuff osv apps.git compiled convenient debugging osv running various application signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1678,ad7f30f45fe5dbd94ee3602c83e5dcfd4cbeac73,adav Har'El <nyh@cloudius-systems.com>, 2014-10-19 15:06:21 +0300, , cpiod create implicit directory default permission dir_add created parent directory permission leaf directory fail intent create non writable directory instead need always create parent directory default permission different permission intended parent appear separately archive mode need control leaf file directory moreover really reason umask using chmod clearer make sure intended file intended permission signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1679,6097db4048a7ce764b655b19cfa35da75e73ee13,adav Har'El <nyh@cloudius-systems.com>, 2014-10-19 15:06:20 +0300, , cpiod exit early create directory current cpiod print message stop immediately create directory needed hold extracted file directory unfortunately add_dir add_file fails current code doe know skip continuing pointless confusing follow bad magic error cpio parser try parse unskipped file content new header mkdir fails throw exception instead continuing user see right error silly bad magic error signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1680,f17ecb43710df1efcc71933d9236a25725b6b6ee,ekka Enberg <penberg@cloudius-systems.com>, 2014-10-17 09:57:24 +0300, , tool cpiod mkdirp error reporting mkdirp fails kind person debugging dubious issue silent reviewed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1681,d7a6f13e82e65ad4da2addb7f76c520382c84295,ekka Enberg <penberg@cloudius-systems.com>, 2014-10-17 09:56:21 +0300, , tool cpiod show bad cpio magic cpio magic check fails include faulty magic exception message give clue poor sod need debug issue reviewed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1682,f82521e91be334b3540a0ce92278d54667187f1b,ekka Enberg <penberg@cloudius-systems.com>, 2014-10-15 10:28:11 +0300, , testing.py fix broken regular expression regular expression bug match message three character ... bug introduced commit 0f41b2b script add word filtering error test testing.py signed pekka enberg penberg cloudius systems.com,,
1683,1ac9bc01f059e2afe5ab4412be3957c6298a002f,ekka Enberg <penberg@cloudius-systems.com>, 2014-10-15 09:52:49 +0300, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1684,ae67e38a71b06019ae1da3d443c03ce9588e2a0c,hlomi Livne <shlomi@cloudius-systems.com>, 2014-10-12 14:33:27 +0300, , ec2 tester script launch instance run test ec2 tester.sh ec2 tester script launch ec2 instance test run test using tester.py requires setting usage ec2_tester.sh help src src override image image region region zone zone placement group placement group osv version osv version test directory ... ec2 tester create ami raw image start instance using ami verify instance accesible ping use tester.py run test toward initiated instance clean temporary item end used manually launch ec2 instance run test signed pekka enberg penberg cloudius systems.com,,
1685,efcfc325ccd45a086b465e745252735c0dd8aa9e,hlomi Livne <shlomi@cloudius-systems.com>, 2014-10-12 14:33:26 +0300, , tester script compile execute test tester.py compilation execution test dirctories usage tester run config_param config_param directory directory ... usage tester compile config_param config_param directory directory ... used manually compile run test signed pekka enberg penberg cloudius systems.com,,
1686,9603a9cdd6316dbf5191ebc7d53675f4adf535d0,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-10-15 05:14:34 +0000, , script add test script cruby signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
1687,0f41b2baa94e12a084cab003296c63dda2faf63f,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-10-15 05:14:33 +0000, , script add word filtering error test testing.py signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
1688,e40fd713b0252f24bcf784a70338248d3bdfc58c,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-10-15 05:14:32 +0000, , driver add tiocgwinsz support ioctl ruby test script need tiocgwinsz hard coded window size 80x25 signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
1689,46d1fae02c6b5e274a4a94766f7476411f5a8938,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-10-15 05:14:31 +0000, , add option nohalt use osv poweroff instead osv halt guest aborted signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
1690,ff65c3900a4e0a1b6b57c4040281f9e32cad84c7,zach Livyatan <tzach@cloudius-systems.com>, 2014-10-13 16:42:52 +0300, , update wiki url error message update wiki url match new wiki structure reviewed tomasz grabiec tgrabiec gmail.com signed tzach livyatan tzach cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1691,c76605e096ec6511149cc20653dad676f93bd984,adav Har'El <nyh@cloudius-systems.com>, 2014-10-14 14:37:39 +0300, , test misc ctxsw eliminate osv code osv support linux function test misc ctxsw.cc alternative osv code supported drop osv code signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1692,0238e118f967b94d3c6f5322a4548d7f2d6aa937,adav Har'El <nyh@cloudius-systems.com>, 2014-10-14 14:37:38 +0300, , support linux affinity setting function already support linux function pin newly created thread particular cpu patch add support linux function pin existing thread cpu currently support limited one cpu cpu set pinning calling thread one thread pinning another thread useful case thread apis including one support creating pinned thread user need create thread pin signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1693,0f6d8741634ef6612738d89881c72c4a438260a5,adav Har'El <nyh@cloudius-systems.com>, 2014-10-14 14:37:37 +0300, , sched allow migrating existing thread already allow pinning new thread particular cpu patch allows moving existing thread particular cpu new api currently limited thread moving via new function thread pin used one thread moving another thread subtle point running thread migrating must start run target cpu stop running cpu thread code wake remote cpu might run two place concurrently short duration need auxiliary thread migration instead using existing auxiliary thread e.g. load balancer patch take quick dirty approach temporarily creating new thread purpose since function likely called rarely believe inefficient approach good enough signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1694,41089c75db3e71dfa4ac32e6da79e2482d5060c6,adav Har'El <nyh@cloudius-systems.com>, 2014-10-14 14:37:36 +0300, , api sched.h improve const correctness inline function modify cpu_set take const one noticed trying use function signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1695,b6bf693936d9f85b9c0f6d996a79b99be44f0dda,r Cohen <orc@fewbytes.com>, 2014-10-13 17:08:55 +0300, , cli fix depends build executable properly reference version lua add missing package script setup.py signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1696,06f07c98e9b59fd2cc13a1af7ee2ec9b01417168,r Cohen <orc@fewbytes.com>, 2014-10-13 23:11:42 +0300, , cli poll waiting ansi code response fix 513 reviewed nadav har nyh cloudius systems.com signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1697,e31c3ddbd4d88bbc036dd5bb1684cbacfbec474b,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-10-13 02:06:41 +0200, , libc use poll_wake eventfd implementation nadav pointed libc add poll_ install function event_fd basically duplicate much already implemented poll logic eventfd actually lacking patch call poll_wake appropriate place reviewed nadav har nyh cloudius systems.com signed paweå dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
1698,b4bf18d92915c54ee97c6fab67bcc5256d60dae3,adav Har'El <nyh@cloudius-systems.com>, 2014-10-13 09:31:50 +0300, , setup.py add missing comma noticed morgan wang comma missing setup.py code resulting error locating package multiliblibssl dev fix 517 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1699,c48b3aad77490bff7fa829cbdd9a22f7491b38ea,adav Har'El <nyh@cloudius-systems.com>, 2014-10-12 19:34:39 +0300, , console support poll poll console never implemented always returned i.e. input available patch fix various use case poll console easy part polling current availability input slightly harder part blocking input becomes available line discipline need know file structure hold know call poll_wake everying made simpler changing code single file structure refers single console several fds pointing console multiple separate open console dup refer single file structure patch also includes new test test tst console.cc console including current poll issue test work even user input test fine point user doe press key working used developing fix patch note patch fix poll poll still work dev console vfs layer hide poll implementation issue 515 fixed separately signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1700,dd5ec692e9e96038118e4f727cd5a5dbde6f5cf7,adav Har'El <nyh@cloudius-systems.com>, 2014-10-12 15:42:01 +0300, , poll fix bug no_poll issue 514 discovered recent regression run openssl random number generation traced back poll dev random returning pollnval problem recent commit 1545b50 poll call file poll bit turned poll_no_poll silly incorrect ... poll implementation vfs file return pollnval get bit outside pollstandard need use pollstandard instead  fix 514 bigger question even use poll_no_poll dev random open separate new issue least patch make openssl random previously worked work signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1701,e7d1e5e494942d428c9a5d93b0da6629f4249beb,akuya ASADA <syuu@cloudius-systems.com>, 2014-10-07 18:46:32 +0900, , zcopy_rx add socket type check drop unsupported protocol zcopy_rx currently doe supported udp therefore need reject udp socket signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1702,0a025104c7ab82ba2ced255961ab0788344c2299,akuya ASADA <syuu@cloudius-systems.com>, 2014-10-07 18:46:31 +0900, , zcopy_tx add socket type check drop unsupported protocol zcopy_tx currently doe supported udp therefore need reject udp socket signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1703,469de2f830f4699fa4225f06756e0414ea5f5e0a,akuya ASADA <syuu@cloudius-systems.com>, 2014-10-07 18:46:30 +0900, , zcopy_rx assert byte connection suddenly closed function may return error byte condition zm_rxhandle set data received signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1704,01f4c4f63a10cf10ec487f0e0857660d7805d635,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-10-09 03:19:12 -0300, , vfs use va_size instead calculating st_blocks st_size field assigned va_size let use va_size calculating st_blocks better use value structure returned vop_getattr supposed fill needed field vn_stat also avoid needle read underlying vnode signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1705,9be7fed0e30d61826114009331390cec806b1a10,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-10-09 03:19:11 -0300, , vfs update file system vnode operation list update vnode operation list ramfs devfs procfs signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1706,f12d7d590b9fff471724231a16f1317fccfabf90,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-10-09 00:44:56 +0200, , test zcopy wait pollin instead pollout sent data acked ztx_release writes eventfd receive notification user code wait become available reading correct event pollin takuya asada syuu cloudius systems.com signed paweå dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
1707,c8f26614f3d44ca095376248fe444d70c3f02ad0,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-10-09 00:44:55 +0200, , zcopy make sure non zero value written eventfd originally first byte zmsghdr written eventfd order notify client transmitted data acked unfortunate byte might zeroed takuya asada syuu cloudius systems.com signed paweå dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
1708,24879e781bd3f46b46270cce1313502e780b4fe6,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-10-09 00:44:54 +0200, , zcopy create eventfd calling zsend transmitted data acked period zsend completion eventfd creation client never receive notification transmission successful takuya asada syuu cloudius systems.com signed paweå dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
1709,79fa4e8adf9b3065ea7f9c039f396ffa78f3e8ff,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-10-09 00:44:53 +0200, , libc add poll_ install function event_fd needed make eventfd work correctly poll list interested thread maintained notified successful write read happens signed paweå dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
1710,f77c8cbda796ff633b3d43511c49710c8411f031,akuya ASADA <syuu@cloudius-systems.com>, 2014-10-09 11:44:38 +0900, , setup.py add support fedora signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1711,9eb192f66ed45770d15d0af22c2bb6612c0541c0,akuya ASADA <syuu@cloudius-systems.com>, 2014-10-09 11:39:56 +0900, , setup.py lua cli requires openssl header signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1712,7cb1ddfbf1711cfa8ba438d3fe5780c79655e074,akuya ASADA <syuu@cloudius-systems.com>, 2014-10-09 09:34:51 +0900, , hypervisor api vmware support signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1713,849280048ee30989487b0fc3f8eb3925ed87ecc1,ekka Enberg <penberg@cloudius-systems.com>, 2014-10-01 14:11:59 +0300, , config.json enable cloud init default longer probe cloud data source local kvm turn cloud init default signed pekka enberg penberg cloudius systems.com,,
1714,7d9c432053bfd84f852094f11d09ab0c48d729f1,ekka Enberg <penberg@cloudius-systems.com>, 2014-10-01 13:55:13 +0300, , cloud init probe data source ec2 gce osv running ec2 gce probing slows osv boot please note probing perfect still probe data source non ec2 xen hypervisor live command line option force probe also added cloud init force data source probing even detected running ec2 gce reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1715,30f6ecb850dad46bea5f11c2afefe007bd449a39,ekka Enberg <penberg@cloudius-systems.com>, 2014-10-01 14:04:18 +0300, , hypervisor api add api probing information hypervisor run currently kvm xen detected reported everything else report unknown hypervisor used cloud init detect running gce reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1716,4bbb9ac8fe2b2d7b25ca4a5d72b8b0e976b66125,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-30 12:38:55 +0300, , firmware api add api probing information platform firmware x86 information obtained probing smbios aarch64 stubbed return unknown time used cloud init auto detect osv running google compute engine signed pekka enberg penberg cloudius systems.com,,
1717,f7e2900bcc05c05a176f6743f55ac87c6305d3ad,adav Har'El <nyh@cloudius-systems.com>, 2014-10-08 01:01:37 +0300, , mmap special treatment map_stack linux mmap api flag map_stack linux added api case architecture require special treatment stack allocation see mmap unfortunately osv indeed special requirement stack memory explained issue 143 currently support demand paged stack i.e. accessing stack cause page fault stack must allocated pre faulted pinned application courtesy actually using map_stack mmap ing stack let return favor mapping pre faulted memory actually work used stack signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1718,63a7e4d8fe79fa8a3ca017e0f5562827c37eed48,r Cohen <orc@fewbytes.com>, 2014-10-06 18:42:02 +0300, , lua add luasec module used ssl connection api luarocks manually look shared object library file predefined location reason ignores usr lib64 available contains small workaround address specifically luasec signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1719,984e3e56bda587c7f52e519217e60b482f0ea21f,ekka Enberg <penberg@cloudius-systems.com>, 2014-10-07 15:56:48 +0300, , revert lua add luasec module reverts commit,,
1720,a215988f5cffd4616b112aaa78915b483b4af01b,r Cohen <orc@fewbytes.com>, 2014-10-06 18:42:03 +0300, , cli add support http added support ssl osv_api.lua added context option related ssl key cert added program option set ssl key cert signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1721,6066440cabe32523fedb1ed99286f86c864f1ce3,r Cohen <orc@fewbytes.com>, 2014-10-01 16:50:19 +0300, , lua add luasec module used ssl connection api signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1722,7b6e03e10d867dc220bd47bfbefabc722d527324,r Cohen <orc@fewbytes.com>, 2014-10-05 16:22:32 +0300, , setup.py add libssl.so installation needed ssl module lua luasec signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1723,2a8c04b0a39c9a73d960c8c02bf4f92f6efc9b90,ekka Enberg <penberg@cloudius-systems.com>, 2014-10-07 12:54:31 +0300, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1724,3944d030fa2695e37b424614acbc52ee0f6e4cd3,ekka Enberg <penberg@cloudius-systems.com>, 2014-10-07 12:21:50 +0300, , cloud init fix formatting glitch main.cc signed pekka enberg penberg cloudius systems.com,,
1725,02c6fb3b9e325cde881677747e510b373707c4c7,akuya ASADA <syuu@cloudius-systems.com>, 2014-10-04 05:19:10 +0900, , test add zerocopy send recv test signed takuya asada syuu cloudius systems.com signed avi kivity avi cloudius systems.com,,
1726,61f608591fb0ec433c6fe6ff96312f9aa15cf697,akuya ASADA <syuu@cloudius-systems.com>, 2014-10-04 05:19:09 +0900, , test add zerocopy recv test signed takuya asada syuu cloudius systems.com signed avi kivity avi cloudius systems.com,,
1727,e5450a536fc5f0cef89184ea09d59a43b19dffd6,akuya ASADA <syuu@cloudius-systems.com>, 2014-10-04 05:19:08 +0900, , test add zerocopy send test signed takuya asada syuu cloudius systems.com signed avi kivity avi cloudius systems.com,,
1728,ce88e3afba6da633ab8918bb77ca73064cac6663,akuya ASADA <syuu@cloudius-systems.com>, 2014-10-04 05:19:07 +0900, , net implement zerocopy signed takuya asada syuu cloudius systems.com signed avi kivity avi cloudius systems.com,,
1729,428ff20d384f815f7daef0233aab797f65f8d5d8,akuya ASADA <syuu@cloudius-systems.com>, 2014-10-04 05:19:06 +0900, , net implement zerocopy signed takuya asada syuu cloudius systems.com signed avi kivity avi cloudius systems.com,,
1730,cb767661fabbd7ce09b51f585bad8372439c9983,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-10-06 22:50:39 +0200, , test fix quitting qemu apparently recent version qemu got unfriendly toward automated script client conntects unix socket monitor available qemu first sends welcome message error cause qemu immediately close connection socket added poll pollhup pollerr reported qemu also close connection discarding unread data sending command qemu immediately closing connection work patch deal qemu shyness taking advantage fact send_command quit use method particular case self.join used connection closed soon qemu actually executes command reviewed nadav har nyh cloudius systems.com signed paweå dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
1731,f1bad6f04edd346f81fe7c7c76f13babd26241cd,onstantine Peresypkin <pconstantine@gmail.com>, 2014-10-06 16:17:05 +0300, , add gnu_dev_ symbol three linux specific symbol gnu_dev_major gnu_dev_minor gnu_dev_makedev implemented musl libc patch add reusing major minor makedev code musl macro also macro newer version musl work around bug see musl changelog http github.com rofl0r musl commit reviewed nadav har nyh cloudius systems.com signed constantine peresypkin rackspace.com signed pekka enberg penberg cloudius systems.com,,
1732,6fe2d19066835f65dac8f7ec407fedb2027a5a9d,adav Har'El <nyh@cloudius-systems.com>, 2014-10-06 13:58:54 +0300, , libc implement implement function surprisingly missing various stack getting setting variant already implemented signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1733,8f9c9aaec41e91ede063d5d96876aefdb5a436fe,lauber Costa <glommer@cloudius-systems.com>, 2014-10-06 14:45:30 +0400, , script setup.py fix prerequisite ubuntu 14.04 osv currently failing compile freshly installed ubuntu 14.04. reason missing multilib package even setup script run signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1734,addf9bb653d19776608b9ec9204dc2fae9cf5a14,ekka Enberg <penberg@cloudius-systems.com>, 2014-10-06 12:46:47 +0300, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1735,34651582ab9a37a88e88c8e0ea18b31fe6453026,ekka Enberg <penberg@iki.fi>, 2014-10-06 11:13:42 +0300,511, merge pull request 511 master derivates sun jdk treat dfoo dfoo true,,
1736,1948eeb676960f13ef1f459fa21b56736c8469fc,ekka Enberg <penberg@cloudius-systems.com>, 2014-10-06 11:05:26 +0300, , httpserver osv gui update latest signed pekka enberg penberg cloudius systems.com,,
1737,d7406f7e07607f7abf34319a5c4febc72d2fc6c1,mnon Heiman <amnon@cloudius-systems.com>, 2014-09-29 18:33:08 +0300, , http serve add batch api implementation patch add batch api support get definition message body list json object parser create request object handler route object perform request result combined list object parser unable parse request would fail request attempted test change curl batch method get relative_url version method get relative_url name http localhost 8000 api batch signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1738,ceb4b509ec624444e198dd6db5c2c9d50b4079dd,mnon Heiman <amnon@cloudius-systems.com>, 2014-09-29 18:33:07 +0300, , swagger definition add api batch processing add definition batch api batch request content passed request body reply list object swagger doe support object defined return type set string signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1739,10fb621d21a2476b933779b564744b60be69384a,mnon Heiman <amnon@cloudius-systems.com>, 2014-09-29 18:33:06 +0300, , http server expose url parsing method patch expose url static parsing method outside class would used new batch api signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1740,abc57e926dd86eba2cdd18688605136413957b63,mnon Heiman <amnon@cloudius-systems.com>, 2014-09-29 18:33:05 +0300, , http server return json object handler found api request return json object change return json object 404 error code even handler found also return json object 404 page found file found signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1741,34de42c32976adcedb294bf5910091c6b825ee34,mnon Heiman <amnon@cloudius-systems.com>, 2014-09-29 18:33:04 +0300, , http server make set_headers static set_headers doe need virtual helper method doe require anything handler make static allow use without handler example handler found 404 returned signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1742,3abe032b7aa0a458567eb167273a598619f2b649,mnon Heiman <amnon@cloudius-systems.com>, 2014-09-29 18:33:03 +0300, , http server move json_exception wrapper exception.hh json_exception wrapper class translate exception json format response required outside routes.cc would move exception.hh signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1743,59011dbf61a87b303930ce1243298229910ce381,mnon Heiman <amnon@cloudius-systems.com>, 2014-09-29 18:33:02 +0300, , http server support stringstream multi part body http request multi part body used transfer form parameter case using strningstream adequate file patch add default behavior multi part parser would store information stringstream object original behavior using temporary file remain handler define file signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1744,26e19c541ed06b63fb17cf3d5d4140a2aa4e7ff0,ekka Enberg <penberg@cloudius-systems.com>, 2014-10-06 10:20:08 +0300, , script add osv crash image add osv crash image developer includes java based crash shell requested roman shaposhnik roman shaposhnik.org signed pekka enberg penberg cloudius systems.com,,
1745,98a08b22159655b2c7d5bb635800f0af14da43ae,oman Shaposhnik <rvs@cloudera.com>, 2014-10-05 19:09:54 -0700, , derivates sun jdk treat dfoo dfoo true,,
1746,e14e1f36cec376e7fbe8854de471770b3f788990,adav Har'El <nyh@cloudius-systems.com>, 2014-10-05 18:37:43 +0300, , stub libaio support patch begin add libaio support osv see issue 494 note libaio linux asynchronous api distinct posix aio api newer supposedly better implementation patch silly trivial implement io_setup doe nothing except print stubbing warning enough satisfy application think need libaio end actually using practice patch also serve starting point serious work libaio support osv application attempt call one io_ function io_setup find function unimplemented crash signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1747,3ca3a971fb0d43336ae16920bcd9e46963d47151,aifeng Gao <gaohaifeng.gao@huawei.com>, 2014-09-30 17:16:23 +0800, , virtio net remove unnecessary colon signed haifeng gao gaohaifeng.gao huawei.com signed pekka enberg penberg cloudius systems.com,,
1748,7f5fdbf2bc3f678e718af0ccdd72541e9311e084,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-10-02 22:57:21 +0200, , tests.py add ability run test match regex way possible start java test like script test.py name java test java 1.556 test java perm 1.323 test run 2.880 signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1749,4428e806b8c4514fb252f3a080721adae65573af,leb Natapov <gleb@cloudius-systems.com>, 2014-10-02 16:01:47 +0300, , pagecache calculate size write page cache dynamically make total available memory signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1750,cb8437d3af5d6bdbe7d98f9e9ddae14d0bc4ada1,ekka Enberg <penberg@cloudius-systems.com>, 2014-10-02 15:09:33 +0300, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1751,a9a4e20d8a4deaa6f7d407712d96a20280137120,mnon Heiman <amnon@cloudius-systems.com>, 2014-10-02 11:24:04 +0300, , http server jolokia api return 404 jvm similiar jvm api jolokia api return 404 jvm available server error add check jvm available attempting use throw 404 found exception signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1752,f8fdd3d65c821b7f3f4dc1fe197aaad9a52bac8b,alle Wilund <calle@cloudius-systems.com>, 2014-10-01 14:46:25 +0200,339, run dt_init dt_fini iff present libs previous comment modern gcc generating dt_init fini section longer likely quite true certain older gcc used centos build openjdk oracle build open jdk doe fact ref 339 signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1753,c3646e5bd3a0be73d171ed65a9adfb48939581f9,alle Wilund <calle@cloudius-systems.com>, 2014-10-01 14:46:24 +0200,339, add weak symbol etc seems certain binary compiled centos contains inlined reference turn seems like bug copied weak defs musl version file option modify musl version deal osv file struct use instead ref 339 signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1754,c9129eefecd9c78f86efe37a8ef2623a3ae6d6cf,mnon Heiman <amnon@cloudius-systems.com>, 2014-10-01 15:56:50 +0300, , routecache fails cache full cache full route cache erase last entry simple way correctly pop_back signed amnon heiman amnon cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1755,697943f631960b3d55f66381581e1435b726a1a8,ekka Enberg <penberg@cloudius-systems.com>, 2014-10-01 10:27:49 +0300, , revert vfs zfs remove per file lock enforcement zfs read write ops reverts commit introduces deadlock outlined issue 504 signed pekka enberg penberg cloudius systems.com,,
1756,1545b50af9b29b237eb23f3357a582cc9adad9d0,adav Har'El <nyh@cloudius-systems.com>, 2014-09-30 17:31:22 +0300, , poll generate pollerr even event requested according posix actual linux behavior verified another test add tst pipe.cc pollerr event generated even user ask poll even user ask event event far tell fix last known poll incompatibility linux described issue 35. fix signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1757,2ee085116903f12f56cf799289a57d1ca4566266,adav Har'El <nyh@cloudius-systems.com>, 2014-09-30 15:53:37 +0300, , test pipe.cc make run linux well test able run linux osv ensure behavior testing actually correct linux behavior patch modifies test pipe.cc also compile succeed linux required changing osv specific construct sched thread debug standard one std thread std cout fixing bug test noticed osv ignoring sigpipe osv changing test assume pipe size exactly linux happens 64k signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1758,9fed2f4719737f0469bdd5940b7c16ee075fec79,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-30 15:58:36 +0300, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1759,f620e01ea5fede08eae929f1042f740929e82d34,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-30 15:49:57 +0300, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1760,6f9a4f8919a3e76995b8d0742b2ad0c0901efca5,aifeng Gao <gaohaifeng.gao@huawei.com>, 2014-09-30 17:24:12 +0800, , select add exceptfds poll request signed haifeng gao gaohaifeng.gao huawei.com signed wangbicheng wangbicheng huawei.com signed pekka enberg penberg cloudius systems.com,,
1761,22b9588be275cc21ae21412f12ae8b67b969da5f,mnon Heiman <amnon@cloudius-systems.com>, 2014-09-29 14:58:41 +0300, , change permission import nss.sh script script executable permission signed amnon heiman amnon cloudius systems.com reviewed tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
1762,a0690349f47d43d69cd6029e7479c747a473602c,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-29 18:35:43 +0300, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1763,e7d5ed46b2fc147d7258859f04c274e2810caa36,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-29 15:11:38 +0300, , cloud init cassandra fix logging printout key value printout missing quotation mark value signed pekka enberg penberg cloudius systems.com,,
1764,d2422b700848f52e61912fd3f87afbaffff8eaeb,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-29 13:13:23 +0300, , cloud init remove dead code signed pekka enberg penberg cloudius systems.com,,
1765,810149f54e98f0ee230dac1a76441eb69c213d74,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-29 13:25:35 +0200, , module cert fix import error private key generated certtool generate privkey longer accepted pk12util recent upgrade unclear tool fails rather ambiguous message pk12util pkcs12 decode import bag failed unable import error attempting import private key signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1766,ce303a6e77f1a9096a5385e7efd16cbe1c0c7a6e,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-29 13:35:18 +0300, , cloud init cassandra use debug logging reason output cout doe show ec2 log switch debug sorted signed pekka enberg penberg cloudius systems.com,,
1767,9ee298e0e2f8206df2253c429bf6d405ddadb0bf,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-29 13:32:23 +0300, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1768,7e50fb2ce464e006c956957da30179507d4106ae,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-29 12:01:59 +0300, , httpserver osv gui update latest signed pekka enberg penberg cloudius systems.com,,
1769,1429256e37189409399da2b7ac5c47011af7914f,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-29 11:26:17 +0300, , httpserver osv gui update latest signed pekka enberg penberg cloudius systems.com,,
1770,798ec78a39263e7c378f64666390502bfa8802ee,r Cohen <orc@fewbytes.com>, 2014-09-28 15:08:13 +0300, , gitignore httpserver test module signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1771,b9e57ff680b297c0d6bba7f95c1d4d17abfaa143,r Cohen <orc@fewbytes.com>, 2014-09-28 18:10:58 +0300, , cli add test non 200 api response signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1772,444b31be98d34aa01b36a71d97b7192314a319a6,r Cohen <orc@fewbytes.com>, 2014-09-28 18:10:57 +0300, , cli enable non 200 reply signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1773,3ba9055f2d0140631ed26a589f552c1443608a30,r Cohen <orc@fewbytes.com>, 2014-09-28 12:37:56 +0300, , cli use cli_interrupt top signed cohen orc fewbytes.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1774,3afee104231e35284810325f632d4c2ad4a31133,r Cohen <orc@fewbytes.com>, 2014-09-28 12:37:55 +0300, , cli add cooperative interrupt add new function cli cli_interrupted meant infinite command like top sigint set cli_interrupted variable queried lua cli_interrupted since signal handler running different thread setting value directly lua might interfere thread currently running code value set embedding part signed cohen orc fewbytes.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1775,0bd0ba3384aaf308ca43c4618f67aadc77f4d9c8,r Cohen <orc@fewbytes.com>, 2014-09-28 17:21:58 +0300, , cli add help missing command reported shlomi livne shlomi cloudius systems.com signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1776,8755a8616ef8e8baaa69941c153cc82827464fb9,r Cohen <orc@fewbytes.com>, 2014-09-28 17:21:57 +0300, , cli fix api working remaning args api command positivley matched api path even unrelated argument comand line reported shlomi livne shlomi cloudius systems.com signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1777,d91c28b0cf582d7782ba954055eddd793c78e32b,r Cohen <orc@fewbytes.com>, 2014-09-28 17:21:56 +0300, , cli fix causing shell terminate help registered special handler std.optparse behavior print help text call exit unwanted since cause entire shell exit way override behavior registering handler help default cli override help command would actually use option something else need solved thoroughly option parser behave nicely without workarounds simple thing replacement considered fix confuse user reported shlomi livne shlomi cloudius systems.com signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1778,0a7cd88682c3908d9a6c70832d5b21f7bc3fe8b3,r Cohen <orc@fewbytes.com>, 2014-09-28 17:21:55 +0300, , cli fix error message mount found reported shlomi livne shlomi cloudius systems.com signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1779,01803c8ee069bddb372e3b2a452d9880853be4ff,r Cohen <orc@fewbytes.com>, 2014-09-28 17:21:54 +0300, , cli fix error output reported shlomi livne shlomi cloudius systems.com signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1780,b5d1778c24601645fd038e8131db5f08def23545,r Cohen <orc@fewbytes.com>, 2014-09-28 17:21:53 +0300, , cli fix relative path command reported shlomi livne shlomi cloudius systems.com signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1781,30aea9e465dd01a50518f67831a53cc717b1b2cb,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-24 16:21:05 +0300, , cloud init datastax reflector support cassandra add datastax reflector support discovering cassandra seed node ec2 configured similar datastax amis specify cluster name total number node user data cassandra clustername pekkas cluster totalnodes launch many instance osv cassandra ami cloud init query datastax reflector service seed node practice cloud init wait node always act seed node registered similar datastax ami doe http documentation cassandra 2.0 cassandra install initial token cassandra left job partioning data patch tested ec2 simulator signed pekka enberg penberg cloudius systems.com,,
1782,c9d38ba68fda3e15af88d56a703773ebca1e52de,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-24 17:29:12 +0300, , cloud init json support import json library dropbox http github.com dropbox json11 reviewed tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
1783,e36908a9f3b6265bdc04f06bb07f64025b9cc423,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-25 10:40:05 +0300, , cloud init add launch index reservation hostname data source add launch index reservation hostname data source api able find gce equivalent first two throw exception needed datastax reflector service reviewed tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
1784,754026ece7801239277183f3e0221fb8e0c6db64,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-25 10:30:30 +0300, , script ec2 simulator make default launch index zero first instance launched launch index zero use default ec2 simulator reviewed tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
1785,53e4a592e89085ea1786cf785e92e4a799283986,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-24 17:23:48 +0300, , cloud init add address resolution http client http service accessed address fix using boost.asio address resolver reviewed tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
1786,5c739d7ebac186ffc917e755459b39fe6fbc0288,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-24 14:48:47 +0300, , ec2 simulator ec2 availability zone add availability zone metadata needed cassandra ec2 multi region snitch signed pekka enberg penberg cloudius systems.com,,
1787,a54a8bc7e84e8fffb836ce53b71f593d7bda4e91,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-24 14:17:29 +0300, , cloud init external internal templating add external internal address template marker external_ip internal_ip respectively needed configure address cassandra ec2 multi region snitch signed pekka enberg penberg cloudius systems.com,,
1788,c3b9e2dce596671d435408e4a11543a9b353c925,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-24 14:16:54 +0300, , script ec2 simulator public address add public address ec2 metadata reviewed tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
1789,8150c9aba3f036bbe0c77847b665cde546789a34,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-24 13:54:54 +0300, , cloud init external internal accessors add external internal accessors data_source class exposed cassandra configuration module templating engine reviewed tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
1790,cb7bfabc9e5f2def7cf95f4ca64c174a1d650ce7,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-24 10:52:49 +0300, , cloud init cassandra configuration module add new cassandra section cloud init used configure cassandra feature currently limited configuring cluster name user data follows cassandra clustername pekkascluster module find file filesystem substitute template marker clustername configured value test ec2 simulator creating user data file starting ec2 simulator sudo script ec2 simulator.py cassandra.yaml building cloud init capable cassandra image make j16 image cassandra httpserver cloud init starting script run.py template file available cloud init warn cloud init cassandra configuration clustername pekkascluster cloud init warning usr cassandra conf template found adding file image changing cluster name use clustername marker cassandra start newly configured cluster name cloud init cassandra configuration clustername pekkascluster info hostname osv.local info loading setting file usr cassandra conf cassandra.yaml info node configuration ... cluster_name pekkascluster ... signed pekka enberg penberg cloudius systems.com,,
1791,71435b7440fa64f396e73d1b4caec00798103ed7,r Cohen <orc@fewbytes.com>, 2014-09-23 17:33:40 +0300, , cli add help command add help command new property command desc meant short description listing command close 439 signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1792,8be366e6e51ec70198e13e02b35416c517f71e23,r Cohen <orc@fewbytes.com>, 2014-09-23 17:33:39 +0300, , cli move util signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1793,34c1b7d923455274d7c3c13f3245299caceed60a,lad Zolotarov <vladz@cloudius-systems.com>, 2014-09-22 19:35:42 +0300, , percpu_xmit prevent worker thread running endlessly single cpu possible situation worker thread never release control sender thread constantly create new work e.g sender create work handle case worker constantly run single cpu creating load disbalance order handle case check every packet stay without releasing control time wake worker cpu right cpu worker last cpu wake one first cpu way ensure load spread among cpu choose queue size 100ms like load_balancer period signed vlad zolotarov vladz cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1794,6589babdc752d46daa8203c7fa313ac9f678f736,lad Zolotarov <vladz@cloudius-systems.com>, 2014-09-22 19:35:41 +0300, ," ipi initial commit change per cpu worker thread beiing single thread may migrated load balancer set per cpu pinned thread way application thread need wake worker wake worker cpu thus ipis going sent move worker thread initialization per cpu class xmitter move initialization code xmitter poll_until xmitter constructor name virtio net worker thread virtio 0,1,2 ... name vmxnet3 worker thread vmxnet3 0,1,2 ... signed vlad zolotarov vladz cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com",,
1795,b202c342603e88f7a1989aaa6bcc6818d0eadb7f,laudio Fontana <claudio.fontana@huawei.com>, 2014-09-24 10:09:49 +0200, , virtio move functionality assert expression functionality inside assert expression dangerous someone could tempted use ndebug macro assert expression would disappear generated code signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
1796,d8d503429a9506b8f8a7a94f5e1e803ef9558410,laudio Fontana <claudio.fontana@huawei.com>, 2014-09-23 15:29:24 +0200, , virtio assert pci configuration failure virtio constructor need assert pci config parsing successful found developing integrating new generic qemu pci host implementation virt platform signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
1797,2708d0d701dc88e9dd54790a96caf70772997e10,lad Zolotarov <vladz@cloudius-systems.com>, 2014-09-22 19:35:44 +0300, , virtio vring make refill condition agressive number packet handled rx_bh wakeup relatively small common case spread overhead allocation evenly rx_bh wakeups good least two reason periodic long wakeups fill half ring page stress memory management system since patch spread refill operation different cpu patch kill vring function since used virtio net opening make code readable signed vlad zolotarov vladz cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1798,0289fc88552e1b464396d9bc0922b583c3517891,lad Zolotarov <vladz@cloudius-systems.com>, 2014-09-22 19:35:43 +0300, , virtio net improve refill policy check refill condition refill needed inside loop polling completion outside later case may situation ring may become empty causing undesirable delay packet dropps signed vlad zolotarov vladz cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1799,a9c31611fe976fe0f88a909d6f1f5d9ba9f383d3,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-23 11:18:45 +0300, , httpserver osv gui update latest signed pekka enberg penberg cloudius systems.com,,
1800,791bd6c9eb60af2ab38d4842ef2c2cfefe931b38,adav Har'El <nyh@cloudius-systems.com>, 2014-09-23 00:33:43 +0300, , fix thread_local support recent gcc recently see http gcc.gnu.org gcc patch 2014 msg02091.html gcc changed way implement destruction thread_local variable requires implement function nothing implementation without complete implementation thread_local object get destroyed thread end test tst thread local.so fails patch add missing implementation test succeeds  fix 501 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1801,06a5d9bcbc0095fe5fb48785587008e05fd9e17d,adav Har'El <nyh@cloudius-systems.com>, 2014-09-23 00:33:42 +0300, , elf function finding shared object containing address add function program look loaded module elf object contains symbol given address function linear number loaded module module loaded pretty quick module need check given address module start end address need function next patch signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1802,659d9df3a6909032ca163774317b6adb6d132558,illiam Dauchy <william@gandi.net>, 2014-09-23 00:30:31 +0200, , module baseexception meant directly inherited see http docs.python.org library exceptions.html tomasz grabiec tgrabiec cloudius systems.com signed william dauchy william gandi.net signed pekka enberg penberg cloudius systems.com,,
1803,7cb22eed1f46d897e777e9d1cdf7f69db4059295,illiam Dauchy <william@gandi.net>, 2014-09-23 00:30:30 +0200, , script module massive cleaning unused import signed william dauchy william gandi.net signed pekka enberg penberg cloudius systems.com,,
1804,cd046807b7b78b2560499025477f352683559ac0,r Cohen <orc@fewbytes.com>, 2014-09-22 18:47:08 +0300, , cli fix test previous patch squelched whitespaces signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1805,b6b286203015b72748dcbb34e2935582ae6fef4d,r Cohen <orc@fewbytes.com>, 2014-09-22 18:47:07 +0300, , cli rename osv command api signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1806,a30132332dee8aa14a83641b538cfe18697cea49,r Cohen <orc@fewbytes.com>, 2014-09-22 18:47:06 +0300, , cli various fix improvement osv command fix output use io.stdout instead print handle apis named path parameter better add help specfic api parameter close 422 signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1807,dea28a88c03bea887fe3ea4093642aaf5ccc4112,r Cohen <orc@fewbytes.com>, 2014-09-22 18:47:05 +0300, , cli small fix lib osv_api removed global declaration create_socket osv_schema removed body http request fix renderer support recent change api definition signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1808,26312e9ad3d97b39cf2f61313f64e3bdb5c13364,adav Har'El <nyh@cloudius-systems.com>, 2014-09-22 15:10:00 +0300, , libc take rand rand_r musl replace libc prng rand.c musl rand.c rand_r.c addition adopting unmodified musl patch also improves two problem existing code first copied rand_r old version musl include improvement rand_r quality http git.musl libc.org cgit musl commit second code built rand top rand_r sound like good idea reality achieve better quality rand constrained like rand_r bit key musl version bit key return high order bit linear congruential generator provide better quality random number signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1809,79f460fcc2214c5b1696c6081d8bc1f50ab681f4,adav Har'El <nyh@cloudius-systems.com>, 2014-09-22 16:39:50 +0300, , queue mpsc fix comment fix comment queue mpsc.hh typo date reference code already changed signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1810,38b24b48fda2f96faa95aebef17472b19dc43d46,adav Har'El <nyh@cloudius-systems.com>, 2014-09-22 14:39:31 +0300, , libc fix rand48 bug rand48 function musl bug caused sign extension causing generated sequence different posix specifies algorithm exactly patch applies musl fix bug http list musl 2014 musl code patched code put libc prng signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1811,52c2ff8af2c2ae5154f0c13c3a870c9d0eeeef7f,mnon Heiman <amnon@cloudius-systems.com>, 2014-09-21 08:10:09 +0300, , swagger definition file allign java swagger codegen using swagger codegen java client restriction apply hanlde well module start lower case doe handle path parameter called path support datetime doe support object patch change definition minimal impact actuall code signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1812,86c4507530659b058aad31698a39fe84c80d735c,oqun Feng <boqun.feng@gmail.com>, 2014-09-21 21:17:08 +0800, , libedit pas cflags ldflags configure make pas cflags ldflags automatically sub make set cflags ldflags environment variable configure signed boqun feng boqun.feng gmail.com signed pekka enberg penberg cloudius systems.com,,
1813,599908731cce57de99a972462c823419fbc43add,adav Har'El <nyh@cloudius-systems.com>, 2014-09-22 00:18:57 +0300, , always show stubbing.hh message make stubbed unimplemented function warning always shown regardless whether verbose kernel option enabled stubbing.hh warning use debug print error stubbed inimplemented function called default run without verbose option kernel run.py message seen bad whole point message seen see one message likely application intended example thread_local destructors stopped working compiled newer version gcc stubbed used see issue 501 nobody noticed guess nobody ran verbose otherwise message invisible patch add new debug_always function like debug depend verbose option already way many variant debugging function put function stubbing.hh general debug.hh like function want use place move debug.hh debug.cc signed nadav har nyh cloudius systems.com  change debug_always also debug doe print console signed pekka enberg penberg cloudius systems.com,,
1814,7d03db3f9518f3a1e4fd7cf867fa1de03980bffc,adav Har'El <nyh@cloudius-systems.com>, 2014-09-21 13:55:13 +0300, , libc implement drand48 implement bit state random number generation function drand48 friend patch trivial take implementation musl function date simpler time 1989 release svr4 even declared obsolete fact never actually made obsolete later still appear posix standard function drand48 returning random floating point number still convenient alternative program still use unfortunately wrote simple test program got different random sequence new drand48 one linux happened posix standard linux drand48 man page specify explicit formula used ... probably reported musl bug fixed signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1815,feb05b3704f2d39cf5a338b634a9954fa7d75683,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-19 17:57:20 +0200, , runtime add stub sysctl needed memcached link time signed tomasz grabiec tgrabiec cloudius systems.com reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1816,335c5362a063b4079defbd81aaf124573d827481,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-19 17:57:19 +0200, , libc define __strtok_r needed memcached signed tomasz grabiec tgrabiec cloudius systems.com reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1817,810a7a7daf8dc769ed122893beb197e4d15b69fc,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-19 13:57:25 +0200, , cli set tcp_nodelay http request socket lua using multiple send call per request data one coming first send delayed increasing request latency tcp_nodelay fix latency cost sending packet best would fix lua http library signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1818,d17d8d653e90127773b434850ee7d013c19390b0,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-19 13:43:48 +0300, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1819,8d7d1cb08af3559b326fa535694b925ca3740c5b,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-19 10:45:17 +0300, , libc fix missing reported james peach jorgar gmail.com signed pekka enberg penberg cloudius systems.com,,
1820,065e8d03478ab1344119a0443bff33893234fb9d,leb Natapov <gleb@cloudius-systems.com>, 2014-09-17 15:02:21 +0300, , remove prototype non existing function signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1821,d54689a1626244c59d49f3e43368fd000bb44b23,laudio Fontana <claudio.fontana@huawei.com>, 2014-09-18 16:21:32 +0200, , arch dtb cascading prop ignore current node strangely enough device tree current node property ignored cascading address cell reg signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
1822,d9d167095a0763900ed27ebca2e3bb6d0eeda6b2,lauber Costa <glommer@cloudius-systems.com>, 2014-09-16 13:43:59 -0700, , test enhance tst stat let also test case stat expected succeed also dealing symlinks stat lstat behave test tricky case one signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1823,8bac14d9bf5ac13f8ddfcf18434d9629277a41ab,lauber Costa <glommer@cloudius-systems.com>, 2014-09-16 13:43:58 -0700, , fix namei lookup linux stat lstat name like tmp get result tmp osv stat work expected lstat doe look last element path separately see link looking last character current algorithm treat everything last thing look directory like tmp would looking empty string reviewed raphael carvalho raphaelsc cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1824,a4899cb7dfd949a3d2d95fc84e30a6738dd2a051,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-09-19 01:29:51 -0300, , zfs return failure o_direct requested first let say o_direct semantics easily supported within zfs due copy write nature currently unlike zfs linux opening zfs file o_direct flag osv return success fail einval instead returning success result fooling application o_direct supported underlying file system definitely good thing said zfs linux let handle case properly signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1825,6ebfc082019253ac49c2f25453d8ba647643826e,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-09-19 01:29:50 -0300, , vfs fix sys_open error handling vop_open fails fdrop called release recently created file pointer later vnode associated recently released file pointer unlocked problem vn_unlock function unlock vnode asserts vnode refcnt greater zero fdrop release associated dentry turn release associated vnode thefore assert likely fail solution firstly call vn_unlock lately call fdrop found cooking patch return einval o_direct requested zfs file cause vop_open fail signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1826,31e77791c88ababe53ad7b54e732ced535de6bbb,lauber Costa <glommer@cloudius-systems.com>, 2014-09-18 16:40:42 -0700, , loader support environment variable command line patch extends prepare_command function take variable command line signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1827,04c3ac561e21c8ff68dcd84700a3623c907935ad,lauber Costa <glommer@cloudius-systems.com>, 2014-09-18 16:40:41 -0700, , loader set environment variable amount cpu patch creates environment variable osv_cpus present boot name implies contains amount cpu system useful create appliance whose parameter conditional number cpu system property easily follow signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1828,ae41f2d27a0248e45854dc5327815dc2abcee5e2,lauber Costa <glommer@cloudius-systems.com>, 2014-09-18 16:40:40 -0700, , loader prepare command later important parse command line early global switch like verbose control general behavior system actually preparing command line run come later right actually execute command signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1829,2d1c2613e9f5a590d10f7f7537dd643ffa17f120,ifei Tong <zifeitong@gmail.com>, 2014-09-18 20:51:13 +0800, , script use item instead iteritems iteritems removed python use item might slow little bit running python give compatibility python signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
1830,444a4e94e1aaf6b97410e0c6c122a5a13fe41c5a,leb Natapov <gleb@cloudius-systems.com>, 2014-09-18 14:43:48 +0300, , sched reduce number wakeup ipis time thread woken remote cpu ipi sent cpu process belongs order run scheduler cause lot ipis sent avoid sending ipi know rescheduling happen remote cpu reasonable time frame usually cpu idle scheduler run reasonable time frame pathological case one running process cpu never sleep accommodate case patch avoids sending ipi one runnable process remote cpu mean scheduler run shortly switch running thread signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
1831,93a95431d08167026c7c12ee6c599abf945b2e2f,r Cohen <orc@fewbytes.com>, 2014-09-18 13:02:51 +0300, , cli fix refactor top.lua remove unused code is_idle table header remove unneeded conversion time millis refactored readability table key multiple variable assigments reported nadav har nyh cloudius systems.com signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1832,d80823bb40a13a899e8f755936a87c3420982673,leb Natapov <gleb@cloudius-systems.com>, 2014-09-18 13:13:11 +0300, , provide correct iterator std copy_if flush_tlb_all regular iterator doe support vector grows ipis vector always end empty signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
1833,e69fa2b6364da0c38068216eee4aeabeef82a3fa,leb Natapov <gleb@cloudius-systems.com>, 2014-09-18 09:52:36 +0300, , disable jvm balloon commit broke java balloon since assumes page fault path doe modify vma_list hence possible take vma_list_mutex read assumption doe hold java balloon vma easy fix problem doe reduce page fault parallelism one solution take lock write page fault downgrade vma fault handler possible addition ugly solution create contention vma_list_mutex taking read patch disables java balloon unbreak master satisfactory solution found signed avi kivity avi cloudius systems.com,,
1834,306d94e51c13630fc93d73e5eb2ef506a7a5595c,vi Kivity <avi@cloudius-systems.com>, 2014-09-17 14:17:14 +0300, , build default external environment cross build signed avi kivity avi cloudius systems.com,,
1835,8806f012c8157bb64cf3fb9da7d49e7e7e6a2741,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-17 14:11:10 +0300, , apps update latest signed pekka enberg penberg cloudius systems.com,,
1836,d0fd7af8fbef3bb95732d0aacc550f7a62157ea6,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-17 12:41:48 +0200, , java add josvsym default needed get jvm symbol backtrace signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1837,c86454dc932c80feda7ce82d4bcdc547c629e034,vi Kivity <avi@cloudius-systems.com>, 2014-09-17 13:52:02 +0300, , setup.py require libstdc static signed avi kivity avi cloudius systems.com,,
1838,0f661373bd16d6b85c8ebde316d1b920287c36a3,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-17 12:46:32 +0200, , build use host build environment default always use gcc host perhaps use host gcc libs default currently bare make fail gcc 4.9 incompatible gcc libs external see 474 signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
1839,8c72735bf82df4a40afcbb302729d34a455bc04d,mnon Heiman <amnon@cloudius-systems.com>, 2014-09-16 11:07:27 +0300, , swagger api clean api alligned 1.2 patch clean swagger definition file could validated 1.2 swagger validator main change type declared type module field code change result patch result renaming path parameter intf rejected reserve word signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1840,e4fd5989f1c9b46c258b7b6942856d5991840f7e,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-09-15 17:22:04 -0300, , vfs fix comment describing locking get_arcbuf vn_lock longer taken calling vop_cache thus locking description fixed signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1841,528b5054a488ebf716b2c2f95dfbc4eb2ffdd132,r Cohen <orc@fewbytes.com>, 2014-09-16 18:41:14 +0300, , cli top.py cli replacement show thread information api advised use command outside interactive shell since proper way stop yet except using example  export osv_api http 192.168.122.89 8000 cli top  close 489 signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1842,f79a2f7c88c5b2b0f2c991503a1047bdb736150d,alle Wilund <calle@cloudius-systems.com>, 2014-09-16 16:55:12 +0200, , httpserver test jolokia rest api test signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1843,f473453cb85d6894079c0274ef8eb5118836ee22,alle Wilund <calle@cloudius-systems.com>, 2014-09-16 16:55:11 +0200, , httpserver test trace rest api test signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1844,f42590dc5846a58e81e68758ef48d6424fbc5c14,alle Wilund <calle@cloudius-systems.com>, 2014-09-16 16:55:10 +0200, , httpserver test kill osv instance running connect mode server start alive server end alive signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1845,87133b559557d2db83fa0c9e51238680eb5fdf9e,alle Wilund <calle@cloudius-systems.com>, 2014-09-16 16:55:09 +0200, , httpserver pick empty string allowed domain cors signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1846,390a958f145782b5a90738fd3019dd5c5b2bc828,alle Wilund <calle@cloudius-systems.com>, 2014-09-16 16:55:08 +0200, , httpserver http body request content dependent content type content length determine request body signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1847,3f540d327f0b635f9d6b7ead58b4c27feb6787a5,alle Wilund <calle@cloudius-systems.com>, 2014-09-16 16:55:07 +0200, , httpserver http header treated case insensitive signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1848,2b7169ecf5f99d96106e5e25adcc366700ac1c4b,alle Wilund <calle@cloudius-systems.com>, 2014-09-16 16:55:06 +0200, , jolokia ensure request run context classloader set internal lookup fail exception otherwise esp write case signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1849,8d8c2e5f34404f2c473d035efee643f868460f8f,illiam Dauchy <william@gandi.net>, 2014-09-16 17:58:10 +0200, , script fix bad indentation space signed william dauchy william gandi.net signed pekka enberg penberg cloudius systems.com,,
1850,092edabfaece215babcef7f7eb0094f3fb527389,illiam Dauchy <william@gandi.net>, 2014-09-16 17:58:09 +0200, , script remove unnecessary parens keyword signed william dauchy william gandi.net signed pekka enberg penberg cloudius systems.com,,
1851,f2902f1bc375707b28643e023d32f6784239f8d5,illiam Dauchy <william@gandi.net>, 2014-09-16 17:58:08 +0200, , script remove unnecessary semicolon signed william dauchy william gandi.net signed pekka enberg penberg cloudius systems.com,,
1852,7e38453390d6c0164a72e30b2616b0f3c3025349,leb Natapov <gleb@cloudius-systems.com>, 2014-09-14 17:52:59 +0300, , mmu flush tlb lazily cpu running system thread since osv system thread access application mmaped area possible delay tlb flush cpu run application thread next context switch time potentially avoids lot ipis workload heavily mmap munmap patch mark thread created pthread_create application thread add logic int flush_tlb_all lazily flush tlb cpu run non application thread non application thread doe tlb flush happens eagerly like signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
1853,40b65a3e6a4e3c062cf2b96813a8fae7898ab35d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-16 14:53:08 +0200, , httpserver fix command line argument currently command line argument declared accepting value example port 30000 result port set empty value 30000 ignored doe affect parameter passed via cloud init reported cohen orc fewbytes.com analysed calle wilund calle cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1854,188003da77a1eb1c3847f4e26467518a9d1702de,vi Kivity <avi@cloudius-systems.com>, 2014-09-16 09:56:13 +0300, , setup.py add ncurses cli signed avi kivity avi cloudius systems.com,,
1855,fc4100b6305b2044efe8a35512858dd6bc5563a2,mnon Heiman <amnon@cloudius-systems.com>, 2014-09-15 14:54:16 +0300, , http server need search question mark path code left time route parameter splitting path parameter return without query parameter url decode stage question mark part path indication query parameter start reviewed tomasz grabiec tgrabiec gmail.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1856,ebcdd0830f39d265680814fd070e653795d5ff43,adav Har'El <nyh@cloudius-systems.com>, 2014-09-15 23:55:20 +0300, , sched allow sched thread sleep shared object fix sched thread sleep duration wait_until part inline function used shared object without crash lazy symbol resolution page fault preemption disabled fix 499 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1857,a583c3ae05656f5f7c9db7b4e2415508c28df734,adav Har'El <nyh@cloudius-systems.com>, 2014-09-15 15:39:33 +0300, , demangle add demangler class add third variant demangler interface one designed called loop avoiding allocation demangling instead growing buffer needed api written calle patch also add full doxygen documentation three demangling variant signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1858,13095938e7c1d03899e61dc831acef6fa7f08663,adav Har'El <nyh@cloudius-systems.com>, 2014-09-15 15:33:00 +0300, , doxygen add include strip path tell doxygen show include osv clock.hh osv clock.hh example osv clock uptime shown requiring include osv clock.hh without patch last component header name would shown i.e. signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1859,8b5ab99e8cf1fad2fa4bf9d455289c0615e16255,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-16 09:36:24 +0300, , script setup.py add unzip prerequisite luarocks need unzip add prerequisite attempt fix jenkins build signed pekka enberg penberg cloudius systems.com,,
1860,c2fc5117260146fdc61a70845106a36a19fdc3fc,alle Wilund <calle@cloudius-systems.com>, 2014-09-10 13:59:12 +0200, , tracedump add public library symbol export dump symbol table demangle append library func data export dump give slightly better backtraces trace dump reviewed nadav har nyh cloudius systems.com signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1861,7bc85515512c8f3db8f69c724c5647b0206cc60c,adav Har'El <nyh@cloudius-systems.com>, 2014-09-15 15:57:10 +0300, , setup.py add wget requirement fedora add wget another requirement fedora probably need distros well vast majority module apps require signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1862,d8454263851a80059ecc167a2467540bf9112b14,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-15 16:23:38 +0200, , virtio fix typo signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
1863,08a4ed619ba8811a6373591bfbcc0575cf36b447,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-15 16:23:37 +0200, , virtio remove unimplemented function signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
1864,8ded88e19760b624e0a4e1dd82e14d6f51de4c75,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-15 16:23:36 +0200, , virtio move tracepoint probably make sense trigger kicked assigned value otherwise always true signed tomasz grabiec tgrabiec cloudius systems.com reviewed vlad zolotarov vladz cloudius systems.com signed avi kivity avi cloudius systems.com,,
1865,1802737bb35dfc226bbeb4ff0c689c55cc789f6e,laudio Fontana <claudio.fontana@huawei.com>, 2014-09-15 17:26:46 +0200, , aarch64 arch setup get gic address dtb update exception table constructor accordingly signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
1866,237b6a8b21e08de2dbe72d1cb756d64712046460,laudio Fontana <claudio.fontana@huawei.com>, 2014-09-15 17:26:45 +0200, , aarch64 arch setup linear map uart using base addr remove hardcoded address value linear map uart fix compatible string arm pl011 signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
1867,e4b251716ca2f4a042914b8589465e08ec96af1f,laudio Fontana <claudio.fontana@huawei.com>, 2014-09-15 17:26:44 +0200, , aarch64 arm clock get timer interrupt dtb usual use known value mach virt default signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
1868,4ff4df41ad6855782e280dd882ab4175200357c0,akuya ASADA <syuu@cloudius-systems.com>, 2014-09-15 19:40:08 +0900, , cli ignore empty line currently cli try handle empty command pressed return key better ignore show new prompt next line signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1869,c336588e42328c83e5e9ef144a07c27cf839bc8a,r Cohen <orc@fewbytes.com>, 2014-08-29 16:58:14 +0300, , lua parallel luarocks installation luarocks mirror limiting amount allowed connection cause build fail make installs parallel reported william dauchy william gandi.net signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1870,e33ec5345cc8545a747a488efd2c424be9dd0f71,zach Livyatan <tzach@cloudius-systems.com>, 2014-09-11 12:31:33 +0300, , add patch fedora prerequisite package patch add patch fedora prerequisite package patch used part build application example cassandra signed tzach livyatan tzach cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1871,4d891e7fd29be682f928d45007e399df9cef772d,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-11 12:00:11 +0300, , instruct people use script setup.py fedora prerequisite script setup.py script installing prerequisite known work fedora drop duplicate list prerequisite package readme.md tell people use script setup.py really thing operating system well done people access signed pekka enberg penberg cloudius systems.com,,
1872,c2d8e233ee7dc6df73dba9b486dd601e3e10c20a,mitry Fleytman <dmitry@daynix.com>, 2014-08-28 17:00:42 +0300, , setup.py install p11 kit package build failure fixed patch make entering directory mnt jenkins workspace cassandra ec2 perf module certificate mkdir build etc pki trust extracted openssl test tst bsd kthread.so mkdir build etc pki trust extracted pem mkdir build etc pki trust extracted java p11 kit extract format openssl bundle filter certificate overwrite build etc pki trust extracted openssl make p11 kit command found makefile recipe target module failed make module error 127 make leaving directory mnt jenkins workspace cassandra ec2 perf module certificate reviewed tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
1873,9604c56fb25441b514dd064f1db76fe28aeeb430,r Cohen <orc@fewbytes.com>, 2014-09-11 16:37:57 +0300, , cli add test make testable replace print signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1874,ea4e02ec5fc21e5096249f4dd4e116bd38f4e279,r Cohen <orc@fewbytes.com>, 2014-09-11 16:37:56 +0300, , cli add test signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1875,9d19d9ed245742d698eb95373df511b4c644e195,r Cohen <orc@fewbytes.com>, 2014-09-11 16:37:55 +0300, , cli add test mkdir also fix mkdir signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1876,81595611a7ac9ac287aa36474cdd3ef69b1fe287,r Cohen <orc@fewbytes.com>, 2014-09-11 16:37:54 +0300, , cli add test free make free testable replace print signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1877,d2fcc6ccbdac60005630f230dd2751357f7099d3,r Cohen <orc@fewbytes.com>, 2014-09-11 16:37:53 +0300, , cli add test make testable replace print signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1878,d9ac1dc4b2d8f799473af71621119d3988caf679,r Cohen <orc@fewbytes.com>, 2014-09-11 16:37:52 +0300, , cli add test date fix date make testable replace print signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1879,b1542685900de1da7caddad9a8aea18929a82fe9,r Cohen <orc@fewbytes.com>, 2014-09-11 16:37:51 +0300, , cli add test signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1880,ef15e76c4b7b8ad6d8ce8cf09cafec0316c13d57,r Cohen <orc@fewbytes.com>, 2014-09-11 16:37:50 +0300, , cli add test cat fix cat testable replace print signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1881,7bd1ab0515208d8e992f194224a8d855ffbbdecf,r Cohen <orc@fewbytes.com>, 2014-09-11 16:37:49 +0300, , cli add test dmesg fix dmesg testable replace print signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1882,88ff7f9be0c2223a0fd4b223db555b9beee50c00,r Cohen <orc@fewbytes.com>, 2014-09-11 16:37:48 +0300, , cli add test echo command signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1883,5e7cdf9d024802a7da2bf87315d35a216ecfbd83,r Cohen <orc@fewbytes.com>, 2014-09-11 16:37:47 +0300, , cli enable mocking osv api testing signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1884,54910e67ecf030816fc5dcb835736732247e63e4,r Cohen <orc@fewbytes.com>, 2014-09-11 16:37:46 +0300, , cli add test flag test command running cli test providing command name run test requested command also set console size 24x80 enable expected consistent output formatting signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1885,c09f37f9e8c6d90d5eebe1b633320218480b963b,r Cohen <orc@fewbytes.com>, 2014-09-11 16:37:45 +0300, , cli add testing module test command function signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1886,98d603a226fb9daabee4628be74e3a38f3fe34d4,r Cohen <orc@fewbytes.com>, 2014-09-11 16:37:44 +0300, , cli separate url constructing code construction code used testing mock api request signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1887,96b8fc6a7e3968eb1559d0349a6c61dc28f11c0d,adav Har'El <nyh@cloudius-systems.com>, 2014-09-15 09:08:56 +0300, , another osv demangle variant add second osv demangle variant return unique_ptr newly allocated buffer allow caller like elf.cc stop using obscure probably non standard internal gcc api reason return std unique_ptr char instead std string silly concern performance gcc api already allocates memory demangled name std string adopt already allocated memory need allocate copy hand std unique_ptr char simply wrap already allocated memory zero performance overhead compared underlying gcc demangling api signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1888,42b54328fae7f3781bc4a77b7a1754d34fde5264,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-12 17:20:47 +0200, , trace make symbol resolution efficient fix two issue addr cache call delegate instead returning cache cache delegate result symbol always browse table change signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1889,c876b0f35878217d51c748e675accd8d307b9359,adav Har'El <nyh@cloudius-systems.com>, 2014-09-14 13:53:36 +0300, , execinfo implement linux execinfo.h already implemented backtrace patch implement function used several application including mysql fix 493 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1890,60ec976fc59ac0ab82fce10267ed546c4a855918,adav Har'El <nyh@cloudius-systems.com>, 2014-09-14 13:53:35 +0300, , osv demangle.hh add missing include definition osv demangle.hh require size_t include stddef.h case user file never included one header file define size_t case signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1891,4e3599ad115da5fcfccf1d6ea09932e26ce0243e,adav Har'El <nyh@cloudius-systems.com>, 2014-09-15 09:27:30 +0300, , remove unneeded includes cxxabi.h signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1892,00849f6ae165eb888a75ac5cf89558157eca327a,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-10 14:30:42 +0300, , image default switch new cli default preparation v0.13 switch default image new cli reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1893,3173ccf9a6a329a7e0b2aa4c46d244ff7ae1243a,illiam Dauchy <william@gandi.net>, 2014-09-14 23:17:47 +0200, , script except import error stringio signed william dauchy william gandi.net signed pekka enberg penberg cloudius systems.com,,
1894,198c636fe0077f3e941211ba1b3523143460f2c7,illiam Dauchy <william@gandi.net>, 2014-09-14 23:17:46 +0200, , script unnecessary parens keyword signed william dauchy william gandi.net signed pekka enberg penberg cloudius systems.com,,
1895,92492f1602b9dd99cf11ff2063ea856afa188f4b,illiam Dauchy <william@gandi.net>, 2014-09-14 23:17:45 +0200, , script unnecessary semicolon signed william dauchy william gandi.net signed pekka enberg penberg cloudius systems.com,,
1896,d9c81b60b15c9700f290b3b107d34917bece5e99,illiam Dauchy <william@gandi.net>, 2014-09-14 23:17:44 +0200, , script space allowed around keyword argument assignment signed william dauchy william gandi.net signed pekka enberg penberg cloudius systems.com,,
1897,144a5c062265026be9087ad1170bb1c9d5174572,laudio Fontana <claudio.fontana@huawei.com>, 2014-09-05 18:47:23 +0200, , aarch64 loader.ld fix elf initial program counter offset mixed 1000 0x1000 went undetected since linker adjusts page anyway spotted evil seeing eye paul mundt paul mundt paul.mundt huawei.com reviewed raphael carvalho raphaelsc cloudius systems.com signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
1898,ea282c33628b5800a6cc34732bc6d723068f3803,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-09-11 20:11:30 -0300, , zfs update zfs_write check maximum allowed offset code ported freebsd commit hash reference 2063f01 small step towards synchronicity freebsd zfs codebase posix compliance signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1899,8b656fcc005ddc256180c272cbe74294f4c7b248,vi Kivity <avi@cloudius-systems.com>, 2014-09-11 18:51:17 +0300, , update misc.bin boost regex signed avi kivity avi cloudius systems.com,,
1900,7da0646f46625e10d60d1c8e0b3b3e0e71c8eee3,vi Kivity <avi@cloudius-systems.com>, 2014-09-11 18:48:59 +0300, , update boost version 1.54 signed avi kivity avi cloudius systems.com,,
1901,4581f7301eea3fd0f79b979cf06fb02c98982592,akuya ASADA <syuu@cloudius-systems.com>, 2014-09-11 00:25:31 -0700,484, vmxnet3 initialize buf array prevent assertion error reboot seems like cold boot _buf zero reboot initialize fixed 484 signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1902,00ec79ab8170e7d43c4936b5b59d9126ffd838ba,laudio Fontana <claudio.fontana@huawei.com>, 2014-09-10 16:48:11 +0200, , build.mk fix parallel build libtools route similarly commit build.mk tool route lsroute.so extra_libs ltools ltools mean libtools.so need exist lsroute.so built signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
1903,98ddc424dc20583c7e5e3adf490b03e7b435a696,alle Wilund <calle@cloudius-systems.com>, 2014-09-10 15:52:25 +0200, , module josvsym optional module add jvm jit symbol resolution trace dump loaded jvm register symbol callback generate symbol entry jit code currently running doe deal interpreter dead unloaded code note call frame rbp walkable i.e work osv backtrace long jit code get least symbol almost free reviewed tomasz grabiec tgrabiec gmail.com signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1904,057c306ccc616038c5d2413037d1edb07b2f92cc,alle Wilund <calle@cloudius-systems.com>, 2014-09-10 15:52:24 +0200, , trace add callback registry trace symbol resolution let code module hook symbol dictionary callback called trace dump returned info included binary dump note symbol module format slightly revised see doc make useful module include size symbol optionally include source line number info reviewed tomasz grabiec tgrabiec gmail.com signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1905,03dbd6f00c7aae18ffb38f8d268c172f5d2a2e64,alle Wilund <calle@cloudius-systems.com>, 2014-09-10 15:52:23 +0200, , java mechanism auto load resident jvmti agent iff included image make java launcher add jvmti agent i.e .so present usr lib jvm agent autoload since dickering actual appliance command line error prone feature agent included image distinction enough picking extension way feel purpose course able optional java symbol agent loaded jvm image built reviewed tomasz grabiec tgrabiec gmail.com signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1906,fb5c96e1c137ec16531ac118662e09da6fe3d087,alle Wilund <calle@cloudius-systems.com>, 2014-09-10 15:52:22 +0200, , script trace.py transparent dumpfile tracefile usage extended symbol resolution avail instead converting trace dump file tracefiles basically raw trace data detect reading opening file use appropriate reader extract data also allow chaining symbol resolution making possible use trace dump symbol info available debug symbol resolution fails note dump format reader assumes slightly revised dump symbol format turn different patch since nothing patch actually creates symb chunk dump file safe reviewed tomasz grabiec tgrabiec gmail.com signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1907,3acf14f37db19a0922e93b418b457ebe8e12f00a,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-11 11:52:03 +0300, , mgmt bump latest signed pekka enberg penberg cloudius systems.com,,
1908,155c93ae537b7cbfc59473fde5c234addc0e1c9d,leb Natapov <gleb@cloudius-systems.com>, 2014-09-10 16:11:55 +0300, , drop write_lock retrieving arc buffer zfs code may sleep data page cache asking present memory sleeping holding lock prevent thread processing page fault patch drop write_lock calling zfs lock acquired back need recheck page instantiated write cache write page cache need mapped instead arc cache patch achieves returning faulting thread without mapping anything point fault retried write cache page mapped signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
1909,4bd87202ef862c7ac6039775ad2721387cca0ad2,leb Natapov <gleb@cloudius-systems.com>, 2014-09-10 16:11:54 +0300, , change vma_list_mutex mutex rwlock vma_list_mutex protects vma_list page table modification mean one thread time serve page fault others sleep mutex pte instantiation code mostly written lockless instantiation mind mutex could allow page fault proceed parallel changing vma_list_mutex mutex rwlock taking read page fault handler since doe modify vma_list allow one page fault proceed simultaneously operation either modify page table locklessly modify vma_list take lock write patch tie couple loose end lockless pte instantiation change vma_list_mutex rwlock add write page cache lock previously write page cache protected vma_list_mutex longer signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
1910,e27658e55d8c34283fb36e54d0a112cb4f2e7724,adav Har'El <nyh@cloudius-systems.com>, 2014-09-10 14:56:45 +0300, , fix crash file non ascii name python notorious crashing string non ascii character unexpected place unsurprisingly bit ... apps node demo module couple file non ascii name using cjk character crash trying upload file image unfortunately python2 python3 crazy way come string handling getting work python2 python3 real nightmare result patch necessary using apps node demo module signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1911,6e3e676003b22b6d4dacd1689301188a4e8211ae,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-10 14:18:02 +0300, , vfs move __open_2 function vfs main.cc move __open_2 function rest family life reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1912,2b8b873778bbaeca692ecf71ae63d2522fea36f6,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-10 14:32:20 +0300, , add node capstan release image signed pekka enberg penberg cloudius systems.com,,
1913,7b9f6c1b1777241d510612d2d4f010eb6f95d6c1,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-10 14:31:33 +0300, , apps bump latest version signed pekka enberg penberg cloudius systems.com,,
1914,1b0bab17289aa05b96c0e99164477a93984f352d,r Cohen <orc@fewbytes.com>, 2014-09-09 14:51:16 +0300, , cli override default help handler default std.optparse handle help display help text followed os.exit cause entire shell close command parser register handler help parse argument executing case since already parse argument also override parse function return already parsed result signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1915,0c27e17f1cbadf577724640dcd729486512c13e9,r Cohen <orc@fewbytes.com>, 2014-09-09 14:51:15 +0300, , cli remove alt_getopt use stdlib optparse signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1916,c1de0c5d924139327994c8e99d3e2421819cad6c,lad Zolotarov <vladz@cloudius-systems.com>, 2014-09-10 13:01:33 +0300, , httpserver added wakeup statistic ifconfig interface signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1917,2a33ef48be68229182fedd5e9e55440855c59f37,lad Zolotarov <vladz@cloudius-systems.com>, 2014-09-10 13:01:32 +0300, , vmxnet3 added rx_bh_wakeups statistic counter signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1918,6d3ed6be98cea7039b3f11f141edbd08cef38009,lad Zolotarov <vladz@cloudius-systems.com>, 2014-09-10 13:01:31 +0300, , vmxnet3 collect wakeup statistic signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1919,138f7c11f6f408fcd43e977aa2a115c87da91996,lad Zolotarov <vladz@cloudius-systems.com>, 2014-09-10 13:01:30 +0300, , netfront added ifnet if_getinfo callback callback pack internally collected statistic standard structure known ifconfig interface without callback ifconfig interface properly function since netfront collect statistic counter internal structure default callback initialized function copy ifnet internal statistic structure output buffer since netfront update structure outcome probably far correct signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1920,8c758faad91a617c2a9034ea3127796fa1fd4c5c,lad Zolotarov <vladz@cloudius-systems.com>, 2014-09-10 13:01:29 +0300, , netfront added missing statistic counter intr_cnt number time xn_intr called rx_wakeup_stats counter number time handled packet single xn_intr call reviewed nadav har nyh cloudius systems.com signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1921,1349b83b0efc4c9ab93a21c7d1dc479286fec9e0,lad Zolotarov <vladz@cloudius-systems.com>, 2014-09-10 13:01:28 +0300, , virtio net added wakeup statistic added collecting wakeup statistic virtio net driver modified vmxnet3 order prevent compilation breakage new statistic count number wakeups handled packet reviewed nadav har nyh cloudius systems.com signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1922,81b56fd9e9443835c6c7ff91440114b52280bd39,lad Zolotarov <vladz@cloudius-systems.com>, 2014-09-10 13:01:27 +0300, , net added wakeup statistic counter if_data struct count number wakeups packet handled signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1923,da5e59d1598ba89dd996bddb9e006dba034aa150,lad Zolotarov <vladz@cloudius-systems.com>, 2014-09-10 13:01:26 +0300, , net moved struct if_data separate file allows clean ugly code duplication reviewed nadav har nyh cloudius systems.com signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1924,ee5b64ab0ba29c4a48ab36c74737f00b939ce69b,laudio Fontana <claudio.fontana@huawei.com>, 2014-09-10 09:58:00 +0200, , aarch64 dtb get base address pl011 dtb reuse early console full console class lose base address setting signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
1925,40006323fdcbe5c02541f92f00f7e0a94e7e02ec,lauber Costa <glommer@cloudius-systems.com>, 2014-09-09 10:07:04 -0400, , musl bring crypt function reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1926,ac8c4dea2eb37198de4cf7d0641838141035a76f,adav Har'El <nyh@cloudius-systems.com>, 2014-09-10 12:31:24 +0300, , fix python3 support python3 octal constant like 0777 supported form 0o777 must used instead also work python2 noticed running using python3 reviewed tomasz grabiec tgrabiec gmail.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1927,4e12b24809d560f77f142f934f63ac489c1ae952,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-10 11:47:55 +0200, ," trace introduce cpu load command print per cpu load based sched_load tracepoint example trace cpu load 5.791242759 5.791243882 5.791262612 5.791269467 5.791270651 5.791305531 5.791306129 5.791316507 5.791388241 5.791388999 5.792139203 5.792140146 trace cpu load 5.791388241 5.791388999 5.792139203 5.792140146 trace cpu load csv 5.791242759,3 5.791243882,2 5.791262612,0 5.791269467,0 5.791270651,0 5.791305531,0 5.791306129,0   signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com",,
1928,ea8f40b76d32241a8a454cbe81b8842bbe934658,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-10 11:47:54 +0200, , sched add sched_load tracepoint record cpu load runqueue size change wakeups reschedule signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1929,98acdb8f6b553eb22c71b6a8f6589b2480f815c9,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-10 11:47:53 +0200, , trace introduce wakeup latency command sched_wait sched_wait_ret sched_wake tracepoint sample calculate wakeup latency wake event example trace wakeup latency thread thread name cpu timestamp wakeup wait backtrace balancer2 5.450296508 0.005352 10.064 balancer2 5.460325089 0.004435 10.024 balancer2 5.521223741 0.006707 10.031 java.so 5.526478430 0.004586 50.018 balancer2 5.531256612 0.005243 10.021 balancer2 5.541294190 0.007497 10.028 balancer2 5.551348229 0.006181 10.038 java.so 5.558015355 0.005727 100.047 balancer2 5.561364355 0.005475 10.012 java.so 5.565284278 0.001366 0.040 java.so 5.565286537 0.001098 0.003 java.so 5.565413877 0.012507 0.118 java.so 5.565419369 0.001764 0.014 java.so 5.565566115 0.060521 0.137 signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1930,06e3b106573ce5fb6679d660c7ce18fcdd57ff0c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-10 11:47:52 +0200, , trace fix formatting per cpu time range signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1931,d4f33dbfd02e25a5b64e971c48a55dcf7d8b2333,adav Har'El <nyh@cloudius-systems.com>, 2014-09-10 00:56:50 +0300, , top.py rewrite make easier add configure column top.py written hard coded set column adding new column messy caused lot code repetition worse code option allowing turn subset column ugly could hardly ever expand combination column even controlling appearance disappearance individual column patch rewrite top.py cleaner way start definition supported column defined source field rest api e.g. cpu_ms name etc various transformation according command line argument select list column finally code render selected set column patch also add two new option top.py idle show idle thread normal thread idle0 idle1 ... instead summarizing idle percentage top useful want see statistic idle thread number switch average microsecond ran switch etc period allows changing number second wait refreshes e.g refreshes every second 0.5 refreshes every half second remember rate shown e.g. switch second always scaled per second regardless refresh period signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1932,1896e5ebb5e1520a09df207e99a59a5e519b75e0,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-10 11:08:36 +0200, , bsd avoid space thread name space thread name make harder split trace list output column reliably reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1933,a376a6b88f95af42f92c53404e4b09327be1fef7,adav Har'El <nyh@cloudius-systems.com>, 2014-09-09 13:18:39 +0300, , top.py add per thread preemption statistic patch add per thread counter number time thread preempted i.e. thread still runable nevertheless scheduled also add counter rate top.py switch signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1934,f91264689bf87a1128646019b6e886964383f052,adav Har'El <nyh@cloudius-systems.com>, 2014-09-09 13:18:38 +0300, , top.py add migration count add per thread statistic also counter cpu migration thread also add top.py display thread overall count migration number migration per second last refresh interval reviewed tomasz grabiec tgrabiec gmail.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1935,944a381ef8d0f24a16420a92e5844b004c9fc221,adav Har'El <nyh@cloudius-systems.com>, 2014-09-09 13:18:37 +0300, , top.py remove extra newline remove extra blank line printed several cpu reviewed tomasz grabiec tgrabiec gmail.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1936,4658d3a1d5857dfd3976d93d6536a88b4fb203ec,adav Har'El <nyh@cloudius-systems.com>, 2014-09-09 13:18:36 +0300, , top.py make number line parameter top.py currently hard coded number top thread shown patch add parameter line allowing change default useful example intend dump output top.py file case reason limit thread easily ask 500 reviewed tomasz grabiec tgrabiec gmail.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1937,c6fe158507b0953debaaa1e622dc3e0cba9c79c3,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-10 10:31:14 +0300, , libc add missing syslog.c forgot include syslog.c commit 25286ac libc stdio based syslog ... signed pekka enberg penberg cloudius systems.com,,
1938,0ac7e863f93f2b7940406cb1f3ca4fd040d4993d,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-09-09 19:44:07 -0300, , add __open_2 function nadav say open optional third argument mode needed case o_creat mode used safety feature recent version glibc add feature open two argument replaced call __open_2 verifies called o_create close 483 nadav har nyh cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1939,25286ac5f88a661eac761be9f4513874e42a4758,avid Halls <dahalls@gmail.com>, 2014-09-09 21:16:40 +0100, , libc stdio based syslog needed node.js reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1940,789f63b07d598794929cb6b0e5e57e913f63f0cb,avid Halls <dahalls@gmail.com>, 2014-09-09 21:16:39 +0100, , libc add _chk function needed node.js reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1941,16080832761b58a454b79981ef9f6f9cb5e4581f,avid Halls <dahalls@gmail.com>, 2014-09-07 22:08:49 +0100, , libc open64_2 needed node.js signed pekka enberg penberg cloudius systems.com,,
1942,256272a06b0989a015bda2cbcc399af331317a19,avid Halls <dahalls@gmail.com>, 2014-09-07 22:08:48 +0100, , linux add system call required node.js wire various system call required node.js syscall libc function reviewed nadav har nyh cloudius systems.com signed david hall dahalls gmail.com penberg fold multiple patch one signed pekka enberg penberg cloudius systems.com,,
1943,27a1c1c2e77798ebc1a574086a5b2d121382630f,avid Halls <dahalls@gmail.com>, 2014-09-08 07:32:33 +0100, , libc add function needed node.js signed david hall dahalls gmail.com signed pekka enberg penberg cloudius systems.com,,
1944,f566ab770bc81994e556b3eb688cd7aa6720e490,laudio Fontana <claudio.fontana@huawei.com>, 2014-09-09 18:10:01 +0200, , aarch64 dtb better cmdline handling clean command line handling dtb allow overriding default command line using passed fdt particular allows run qemu append bootargs signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
1945,ccb13e30456f4bbf01d6d578f08b3915efca808d,mnon Heiman <amnon@cloudius-systems.com>, 2014-09-08 21:40:24 +0300, , http server handling type conversion complex type json object allow auto type conversion based field name handle situation translated type contains structure setting functionality modified first basic json element assignment additional template implementation allowing setting value type compiler assign i.e field type json_element assigned type assigned second set template method defined json object copy field rename template assignment operator json object assigned type field field assigned field name field structure equivalent field structure limitation verified vlad zolotarov vladz cloudius systems.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1946,c73739e8c6859cf438947b7ede4ed0b331877d94,lauber Costa <glommer@cloudius-systems.com>, 2014-09-09 10:06:35 -0400, , memcpy make small_memcpy larger number test found technique use small_memcpy faster sse loop number much larger 16. fact performs better 128 byte start degrade somewher 128 256 gain order seen aligned unaligned case gain 128 byte range bit lower order however generated code large size lik 125 quite fishy reason let conservatively byte  ran full redis script result get cmdline numactl physcpubind redis benchmark csv 192.168.122.89 100000000 get  get 1236858.38  get 1301591.75 yield improvement put slightly ahead stumbled upon current regression looking perf kvm version cache miss branch miss yet performance way better signed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com,,
1947,93f66e650d7047e39025b67400e91434f8a9c3cc,lauber Costa <glommer@cloudius-systems.com>, 2014-09-09 08:25:09 -0400, , fpu enhance test fpu present patch introduces test case reproduces bug described issue happens yield case completeness including test yield test doe yield signed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1948,0959f20863b119c5ca7d1e663bc22e6329814386,lauber Costa <glommer@cloudius-systems.com>, 2014-09-09 08:25:07 -0400, , save fpu state control register every context switch described issue dangling problem related context switch fpu state quick summary problem arises fact fpu state per caller saved control register callee saved mean thread voluntarily taken cpu state broken simplest way solve problem save restore register every context switch expensive since talking whole fpu state rather couple register sure using misc ctxt.so yield following number base osv v0.12 rc1 g8660a6f eth0 192.168.122.15 454 colocated 704 apart 546 nopin patched osv v0.12 rc1 g8660a6f eth0 192.168.122.15 459 colocated 685 apart 506 nopin signed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1949,3024ac373b2efa9e83a43c5c2b2d82021bee676b,laudio Fontana <claudio.fontana@huawei.com>, 2014-09-05 11:09:02 +0200, , aarch64 dtb read amount memory device tree start making use device tree reading amount memory fdt flattened device tree made available guest dtb device tree blob reading dtb requires reshuffling dtb moved initial location final place physical memory location osv_kernel_base overwriting preboot code preboot.s also overwriting command line like therefore need parse command line dtb move adaptation memory setup code also needed account dynamic amount memory signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
1950,0e321522b0f0018f0a5a6121a67c80c3ca99534e,mnon Heiman <amnon@cloudius-systems.com>, 2014-09-05 21:29:44 +0300, , http server list api api allows calling http localhost 8000 without file system parameter would avaialbe file system return list signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1951,3ca76c111ffeb467831ef4b9a155688a10f0f530,r Cohen <orc@fewbytes.com>, 2014-09-08 12:19:20 +0300, , cli fix table format padding signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1952,4cd9eae4f1c3d6a8a334d7af95acc3eca1ecc237,r Cohen <orc@fewbytes.com>, 2014-09-08 12:19:19 +0300, , cli improve command add flag close 488 signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1953,c03765b5c2b2c0587c666b5743937ecad9dcdf35,r Cohen <orc@fewbytes.com>, 2014-09-08 12:19:18 +0300, , cli refactor function name consisitency signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1954,f2db2d1672acdc9c2c18053bdfd4ec64f57d7c07,r Cohen <orc@fewbytes.com>, 2014-09-08 12:19:17 +0300, , cli properly parse string command line interactive shell split line argument properly treating quote properly cli accepts list string signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1955,2b036b957c019080557eedab7ece4897ae127bb0,r Cohen <orc@fewbytes.com>, 2014-09-08 12:19:16 +0300, , cli hoc command execution enable hoc command execution cli previous commit enabled talking different instance 13a7576 make possible execute remote command still using one tool shell example executable name changed future commits  export osv_api http 192.168.122.89 8000 cli dmesg grep foobar  signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1956,e5ba08aa47a37adcee5a9d8a460be6287b54f9d8,illiam Dauchy <william@gandi.net>, 2014-09-08 18:14:39 +0200, , script clean bracket run.py need make thing pythonic reviewed tomasz grabiec tgrabiec gmail.com signed william dauchy william gandi.net signed pekka enberg penberg cloudius systems.com,,
1957,03e2bbf1167145519aa0cd4ec483cc884fdda883,illiam Dauchy <william@gandi.net>, 2014-09-08 18:14:38 +0200, , script clean space behavior follow bit pep8 signed william dauchy william gandi.net signed pekka enberg penberg cloudius systems.com,,
1958,a2c60565e4e31d74cef8133f3fa087c5d323e3fe,adav Har'El <nyh@cloudius-systems.com>, 2014-09-07 11:35:19 +0300, ," top.py add option context switch statistic patch add top.py ability show per thread statistic number time context switched average cpu time got per switch last refresh period example cpu cpu time name 478 2.9 0.39 630 38.0 763 java.so 630 total number time thread ever switched 38.0 number switch per second last refresh period time slice last refresh period thread ran average 763 microsecond either preempted voluntarily giving cpu waiting yielding reduce user information overload switching information displayed top.py default user need pas switch option enable feature useful understanding scheduling behavior workload function individual thread example one particular cassandra read workload one cpu see virtio net thread switched 13,000 time second running microsecond see java worker thread scheduled time second fairly large amount work around 800 microsecond see dozen java thread scheduled frequently 600 time second little work microsecond presuably latter thread read request dispatch worker thread signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com",,
1959,583d5132f681f3a0056503a165102d5381946396,adav Har'El <nyh@cloudius-systems.com>, 2014-09-08 14:56:34 +0300, , sched per thread switch statistic currently sched_switch tracepoint count e.g. using trace.py frequency context switch entire system patch add per thread counter number time thread switched performance cost extra counter small non atomic increment variable cache line already touched cpu time statistic test misc ctxsw.so show measurable slowdown context switch note dividing thread runtime thread_clock number switch result another interesting statistic average length time thread ran switched signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1960,a467c738e5753c331ac34960aab8e0eab977a5c0,adav Har'El <nyh@cloudius-systems.com>, 2014-09-08 14:56:33 +0300, , sched separate thread statistic class thread big messy add per thread statistic following patch become even messier patch simply move member related statistic together end class signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1961,d48ecfbb29cf074403c912b9deb7dbe94e1733b4,illiam Dauchy <william@gandi.net>, 2014-09-08 14:27:01 +0200, , script move global variable used main signed william dauchy william gandi.net signed pekka enberg penberg cloudius systems.com,,
1962,873429525999e866674d030388b748e359ebfed9,illiam Dauchy <william@gandi.net>, 2014-09-08 14:27:00 +0200, , script replace old style class ec2 signed william dauchy william gandi.net signed pekka enberg penberg cloudius systems.com,,
1963,8d10618f2c8ec2869cd8cc1082ff7f966a4de202,illiam Dauchy <william@gandi.net>, 2014-09-08 14:26:59 +0200, , script reorder import main ec2 signed william dauchy william gandi.net signed pekka enberg penberg cloudius systems.com,,
1964,38ec6de52c3d03c583562e09fef50791e19d4b8a,illiam Dauchy <william@gandi.net>, 2014-09-08 14:26:58 +0200, , script unify string ec2 signed william dauchy william gandi.net signed pekka enberg penberg cloudius systems.com,,
1965,ddfcf903e6037aff8adc638e9b0d8e36db824d52,illiam Dauchy <william@gandi.net>, 2014-09-08 14:26:57 +0200, , script fixing space ec2 script signed william dauchy william gandi.net signed pekka enberg penberg cloudius systems.com,,
1966,021ba6030de16eae9bda5a6fff0e3fd5005aba38,illiam Dauchy <william@gandi.net>, 2014-09-08 14:26:56 +0200, , script fix indentation ec2 script signed william dauchy william gandi.net signed pekka enberg penberg cloudius systems.com,,
1967,0e8d9b5e0a1af02a31799fe1d40e434bc2c2a5fb,leb Natapov <gleb@cloudius-systems.com>, 2014-09-08 17:45:11 +0300, , initialize fpu starting new thread currently new thread inherits fpu state previously running thread running process rescheduled voluntarily fpu sane state due x86 calling convention guaranty rescheduled interrupt fault fpu state may clean signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
1968,3e5f05ef41254d1c02fafd227444f8a51b26f3ed,lauber Costa <glommer@cloudius-systems.com>, 2014-09-05 13:10:12 +0400, , musl import floating point rounding exception interested symbol fesetround libc allows user set rounding mode floating point unit let proactive bring  present musl aarch64 reviewed claudio fontana claudio.fontana huawei.com reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1969,738e01ffd3e626db66f770c836e9dcf862e082e0,mnon Heiman <amnon@cloudius-systems.com>, 2014-09-04 20:13:51 +0300, , http server ifconfig return mac address return interface mac address libtools interface definition added phys_addr parameter interface passed set_intrface info method allow settting additional parameter ifnet structure equivelent parameter added api return call http localhost 8000 network ifconfig signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1970,f6848f8bdd4190e8d5e775bc0df820d57483d274,mnon Heiman <amnon@cloudius-systems.com>, 2014-09-04 19:08:37 +0300, , http server add reboot api add reboot option api check post http localhost 8000 reboot signed amnon heiman amnon cloudius systems.com penberg fix formatting signed pekka enberg penberg cloudius systems.com,,
1971,506e519bb6755678e8144698e8c571d4d7f2dda0,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-08 11:45:31 +0300, , revert top.py add option context switch statistic reverts commit depends patch merged signed pekka enberg penberg cloudius systems.com,,
1972,3ad9c8c9d9fecb887441b6e607a04daf373277b3,adav Har'El <nyh@cloudius-systems.com>, 2014-09-07 11:35:19 +0300, ," top.py add option context switch statistic patch add top.py ability show per thread statistic number time context switched average cpu time got per switch last refresh period example cpu cpu time name 478 2.9 0.39 630 38.0 763 java.so 630 total number time thread ever switched 38.0 number switch per second last refresh period time slice last refresh period thread ran average 763 microsecond either preempted voluntarily giving cpu waiting yielding reduce user information overload switching information displayed top.py default user need pas switch option enable feature useful understanding scheduling behavior workload function individual thread example one particular cassandra read workload one cpu see virtio net thread switched 13,000 time second running microsecond see java worker thread scheduled time second fairly large amount work around 800 microsecond see dozen java thread scheduled frequently 600 time second little work microsecond presuably latter thread read request dispatch worker thread signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com",,
1973,4da67b297ee0787e8ec6b0801fb08f8faba23263,adav Har'El <nyh@cloudius-systems.com>, 2014-09-07 10:43:57 +0300, , top.py fix cpu case sched thread object created start often two unstarted thread created itimer feature used application thread cpu currently top.py print ugly 4294967295 thread ruin nice column alignment patch change case print cpu instead signed nadav har nyh cloudius systems.com penberg use hexadecimal constant signed pekka enberg penberg cloudius systems.com,,
1974,ae110c6e8b302a46f59a2a0b4531f278b1aa87c9,lad Zolotarov <vladz@cloudius-systems.com>, 2014-09-07 16:20:29 +0300, , libc added init emtpy wrapper signed vlad zolotarov vladz cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1975,012d67bbec1d02ee1a57dec50b4c2eccd7fa5037,lauber Costa <glommer@cloudius-systems.com>, 2014-09-08 11:09:30 +0400, , eventfd2 provide alias eventfd signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1976,f89dcf20323c0dca24386a1cf4b58843477b444a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-31 11:37:52 +0200, , cli require httpserver running fix 479 signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
1977,da619c76e1fac8111e3d6ed18c9104d76ad0d746,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-31 11:37:51 +0200, , module introduce require_running require_running used module declare need purticular module started caller may optionally specify run configuration name name specified specified later stage make via image line different module run configuration specified stage default run configuration used present solution problem cli module depending httpserver running regular require declaration make module present image run user built image like cli would function properly make image cli signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
1978,ca9fbf550aad98e9085b4272be888c2f4ddff36c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-04 18:57:09 +0200, , trace add prof idle command like prof wait idle period signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1979,8fe294bad10792cf00232218faafd7f3bc1c5896,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-04 18:57:08 +0200, , trace add sched_idle sched_idle_ret tracepoints signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1980,14200344c19bb235399dedb145c703ad9d99c43f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-09-04 18:57:07 +0200, , trace make status command print time range cpu cpu independent trace buffer time range cpu drift apart useful information example trace status collected 126412 sample spanning 490.59 time range cpu 0x07 8491.076312715 8491.566654742 490.34 cpu 0x05 8491.141218471 8491.566898049 425.68 cpu 0x06 8491.183973423 8491.566506406 382.53 cpu 0x00 8491.296960376 8491.566879656 269.92 cpu 0x01 8491.325686399 8491.566878958 241.19 cpu 0x03 8491.345375696 8491.566899815 221.52 cpu 0x04 8491.360735410 8491.566881841 206.15 cpu 0x02 8491.377589381 8491.566895689 189.31 ... signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1981,121054e695e0078016e6be5ed31b725c7c91e255,mnon Heiman <amnon@cloudius-systems.com>, 2014-09-04 18:52:52 +0300, , http server list envinronment variable add api return list environment variable patch also add test testenv.py verify variable added test part list return new api signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1982,5dfe09f5fcda4ffaab413462d6a14f8708d61061,r Cohen <orc@fewbytes.com>, 2014-08-28 15:55:20 +0300, , cli add api renderer response class thread fix 416 signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1983,1965b3bb65151dd66d857c91c0ad3953521b55af,r Cohen <orc@fewbytes.com>, 2014-08-28 15:55:19 +0300, , cli print formatting utility formatting function changed format output return instead printing signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
1984,e34c1c9bc3541c44f869fe4c0425922457278aae,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-08-31 00:11:19 -0300, , gdb osv zfs add zfs prefetch stats useful tracking zfs prefetch efficiency signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1985,ac5e22182ba4b50b338c149d4e10f86ed641c4ac,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-08-31 00:11:18 -0300, , test misc concurrent refactor code add new test signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1986,cefaef012533112333e888a8a6aee7aaaf40f37d,adav Har'El <nyh@cloudius-systems.com>, 2014-08-31 13:31:59 +0300, , osv reboot halt failure osv reboot documentation say fails reboot may return call halt halt added stub arm leave arm case add fixme comment replaced real reboot signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1987,bf4c56c9a535c30e1340c56b4eca1e383e4848c3,adav Har'El <nyh@cloudius-systems.com>, 2014-08-31 14:26:23 +0300, , reboot remove redundant extern extern specifier reboot unnecessary already done sys reboot.h include api sys reboot.h signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1988,42c9b41240a87d97a91ace26e9717acf9513016c,mitry Fleytman <dmitry@daynix.com>, 2014-09-02 13:58:10 +0300, , script introduce ec2 garbage collector script signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
1989,5893f5ab207035f50835b53b5ff0b1111373af80,mitry Fleytman <dmitry@daynix.com>, 2014-09-02 13:58:09 +0300, , release ec2 mark created amis permanent release garbage collection script scope signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
1990,9c4faef2bcb88dc0fb9ab34cd4af04f685c44713,ifei Tong <zifeitong@gmail.com>, 2014-09-03 20:49:58 +0800, , build use private build.mk commit introduced private keyword solve dependency issue caused inheritance target specific variable keyword however available since make 3.82 patch remove lstatic thread variable option since already added library one target prerequisite compiling target option needed fix 405 reviewed nadav har nyh cloudius systems.com signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
1991,371cf7f9ba3b9f4fc4a5b3531fd023cc98d63088,laudio Fontana <claudio.fontana@huawei.com>, 2014-09-04 14:57:09 +0200, , build.mk remove unrelated change creep remove unrelated change introduced commit due dirty working tree signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
1992,b2d2d023d0b69cb542676b01a4a3a982a743073e,lauber Costa <glommer@cloudius-systems.com>, 2014-09-04 13:21:30 +0400, , tst fpu change debug printf otherwise see result useful running test standalone signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1993,9e45850fd888b3290c2ddd4ea22cb6edb8bfe498,lauber Costa <glommer@cloudius-systems.com>, 2014-09-03 18:55:59 +0400, , utimensat fix access check make check still work umask patch except utimesnat test reason access check happen helper function check ogw protection bit set utimensat explicitly explicit check check world bit ignores others moving also use helper make make check happy signed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com,,
1994,3983fc92b1b6a8301567220105d5eaf5ae1b425a,lauber Costa <glommer@cloudius-systems.com>, 2014-09-03 18:55:58 +0400, , cpiod fix broken build latest cpiod patch worked well module tried broke others investigating seemed due fact creating file instance well create intermediate directory mask active whole process end creating directory wrong permission one solution would reset mask altogether creation ugly robust instead passing mask along callee let final step creation mask place signed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com,,
1995,a33495f35b8d7519cf325b08331c143231d4d1db,lauber Costa <glommer@cloudius-systems.com>, 2014-09-03 16:34:21 +0400, , cpiod respect original mode file mode usually interesting able live without fine uploading file guest set type bit left rest blank however program like mysql conduct test permission flag configuration file poor guy know running osv therefore abort seeing believe insecure setting patch mode respected one need upload file specific mode matter guaranteeing host file set correctly signed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com,,
1996,0dea0b8e2419b039c2df6266c65d02b10859c52b,lauber Costa <glommer@cloudius-systems.com>, 2014-09-03 16:34:12 +0400, , actually implement umask umask syscall implemented sense exchange global mask new value passed mask used anywhere meaning system call effect patch properly implement signed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
1997,c51e3daba983401fe2cb7b9f6f58c882f2778763,adav Har'El <nyh@cloudius-systems.com>, 2014-09-03 14:45:16 +0200, , build.mk fix parallel build libtools build.mk tool ifconfig ifconfig.so extra_libs ltools ltools mean libtools.so need exist ifconfig.so built signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
1998,034dd662707aee7c0d918e339346e1606ed4d16c,lauber Costa <glommer@cloudius-systems.com>, 2014-09-03 13:27:13 +0400, , libc import getsrvbyname musl conjunction module provided etc service allows program find register mysql need signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
1999,9776af063821f26a3f64a62600d11d405012a715,illiam Dauchy <william@gandi.net>, 2014-09-03 11:41:11 +0200, , script remove unused import signed william dauchy william gandi.net signed pekka enberg penberg cloudius systems.com,,
2000,9f706acc81cfaa37193a8570f3104fe3e17b6b0a,illiam Dauchy <william@gandi.net>, 2014-09-03 11:41:10 +0200, , script clean leading whitespaces python script signed william dauchy william gandi.net signed pekka enberg penberg cloudius systems.com,,
2001,91207dd7ff1401fcc70b60ca24a383d469855d0e,sias He <asias@cloudius-systems.com>, 2014-09-03 18:10:56 +0800, , epoll fix clearing evt.events epolloneshot case commit epoll search epolloneshot case clear evt.events clear local copy instead one map fix taking reference epoll_event passed script run.py test tst epoll.so test signed asia asia cloudius systems.com signed avi kivity avi cloudius systems.com,,
2002,de0dee138c5fb04e0059d50aa5c1cc00846ea3e9,sias He <asias@cloudius-systems.com>, 2014-08-29 11:33:53 +0800, , epoll update comment epoll wait reflect current locking scheme signed asia asia cloudius systems.com signed avi kivity avi cloudius systems.com,,
2003,e8a60448031b07cf7ae9e71ce269ad6eea07c46e,sias He <asias@cloudius-systems.com>, 2014-08-29 11:33:52 +0800, , epoll search epolloneshot case f_lock dropped need searth key map signed asia asia cloudius systems.com signed avi kivity avi cloudius systems.com,,
2004,64a9db906fdc1e0625d203d9b8cfc8b44b3bee54,illiam Dauchy <william@gandi.net>, 2014-08-29 11:16:45 +0200, , setup.py adding base support debian also update base list package debian jessie readme signed pekka enberg penberg cloudius systems.com,,
2005,becd9ca28b658c6e5ea79656aac5f27c73183415,illiam Dauchy <william@gandi.net>, 2014-08-29 11:16:44 +0200, , setup.py fixing typo ubuntu package list reviewed tomasz grabiec tgrabiec gmail.com signed william dauchy william gandi.net signed pekka enberg penberg cloudius systems.com,,
2006,ca3a0b755f7fce6663a4560fdc06b21f0deee4b3,aifeng Gao <gaohaifeng.gao@huawei.com>, 2014-09-01 19:40:06 +0800, , test remove unused code misc timeslice.cc _loop function long used remove reviewed nadav har nyh cloudius systems.com signed haifeng gao gaohaifeng.gao huawei.com signed pekka enberg penberg cloudius systems.com,,
2007,570e5220fe82812f2bf224f01511a0635aedb8ef,adav Har'El <nyh@cloudius-systems.com>, 2014-09-01 12:56:30 +0300, , sched add tracepoint rescheduling add tracepoint sched_sched scheduler run note scheduler may decide nothing continuing run current thread sched_switch frequency sched_sched frequency showing frequency sched_sched sched_switch one example workload cassandra noticed half reschedule call decide context switch suggests might good idea optimize case realise quickly possible nothing already try return quickly maybe even quickly signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2008,ce95ff944f3b91c6307d9f7d9360460ce7d75f9c,adav Har'El <nyh@cloudius-systems.com>, 2014-09-01 12:54:20 +0300, , sched add tracepoint yield add tracepoint sched_yield sched thread yield sched_yield pthread_yield call second tracepoint yield operation actually yielded i.e. another thread run queue source web suggest java sched_yield heavily yield behavior make big difference see issue 482 however tracepoint disproved conjecture come workload interest example cassandra yield rarely used time second time 1000 time second rare case used usually thread yield never see couple occurances per second implementation yield consequence cassandra performance signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2009,e6f5afc33e3be3e855bf2b7e8f19c56405d827b7,adav Har'El <nyh@cloudius-systems.com>, 2014-09-01 12:52:09 +0300, , sched add tracepoint wakeup ipis add tracepoint sched_ipi ipis sent wake thread remote cpu signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2010,bd3ae1ddc6ce37b5b04fd2b3fd68531d02ba8ec4,laudio Fontana <claudio.fontana@huawei.com>, 2014-09-01 16:40:45 +0200, , aarch64 gic set target mask zero uniproc commit removed abort changed warning read cpu mask target gic zero allowed special case uniprocessor however logically still need set cpu target mask zero gic driver state signed claudio fontana claudio.fontana huawei.com geyslan bem geyslan gmail.com signed pekka enberg penberg cloudius systems.com,,
2011,ac825c5170d97b2cfbc6a1fbb27e2d675bf3e4dd,lauber Costa <glommer@cloudius-systems.com>, 2014-09-02 13:56:50 +0400, , libc implement ftime.c import musl exists newer version one using update get rid one concious coordinated decision let bring keep verbatim reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2012,6c66f084c936aae00785834ae13e84f2279cef22,lauber Costa <glommer@cloudius-systems.com>, 2014-09-02 13:56:47 +0400, , pthread implement missing scope function function set get scheduling scope thread luckily two scheduling scope defined linux support one implementation function therefore trivial reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2013,14111cfa94b8a7db783c91603b951984125eb6a3,lauber Costa <glommer@cloudius-systems.com>, 2014-09-02 13:56:46 +0400, , libc missing __isnanf implement together one already reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2014,5527be60b242012b300f1175871ec357d006be34,laudio Fontana <claudio.fontana@huawei.com>, 2014-09-02 14:16:06 +0200, , build.mk replace kernel base include file definition build.mk allows set different base address different architecture avoids call preprocessor make visible build.mk make accessible architecture base address might need adjusted signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
2015,972fdb46851dc49dd1ba52c4f59a729e62597189,mitry Fleytman <dmitry@daynix.com>, 2014-08-31 11:06:36 +0300, , routecache initialize route cache early initialize global variable route cache networking subsystem patch fix chashes observed ec2 page fault outside application addr register rip route_cache lookup bsd_sockaddr_in unsigned int rtentry 1000 rfl rax rbx rcx rdx rsi rdi rbp r10 r11 r12 r13 r14 r15 rsp aborted backtrace 3310879 mmu vm_fault unsigned long exception_frame 147 page_fault 105 3705062 ip_output mbuf mbuf route int ip_moptions inpcb 2754 tcp_respond 413 2544289 tcp_input 2712 ip_input 417 2394190 417 2654256 xen xen_irq do_irq 376 3784446 thread_main_c 3709029 reviewed nadav har nyh cloudius systems.com signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
2016,63684ed26b786a32895b60f217a734d11db2c5f1,ekka Enberg <penberg@cloudius-systems.com>, 2014-09-02 17:00:33 +0300, , mgmt update latest signed pekka enberg penberg cloudius systems.com,,
2017,cd0cbfc769883585b11874cf57d0179cb577aa0e,sias He <asias@cloudius-systems.com>, 2014-09-01 15:00:40 +0800, , epoll reduce lock contetion epoll_file wake saw lock contention _activity_lock epoll_file wake collected 30667 sample spanning 11.97 2.73 100.00 15332 lockfree mutex lock data asia osv core lfmutex.cc 1.82 66.64 8153 lock_guard data asia osv external x64 gcc.bin usr include 4.8.2 mutex 414 1.82 66.64 8151 data asia osv include osv mutex.h 1.69 61.90 4200 epoll_file wake epoll_key data asia osv core epoll.cc 249 1.68 61.51 4102 epoll_wake epoll_ptr const data asia osv core epoll.cc 362 file wake_epoll int data asia osv vfs kern_descrip.cc 177 poll_wake data asia osv core poll.cc 168 patch contention gone signed asia asia cloudius systems.com signed avi kivity avi cloudius systems.com,,
2018,2f30790a194b9d57b8d9d42562dc4e95722354f1,sias He <asias@cloudius-systems.com>, 2014-08-28 18:25:58 +0800, , epoll drop leftover comment epoll implemented top poll remove incorrect comment signed asia asia cloudius systems.com signed avi kivity avi cloudius systems.com,,
2019,9f460284cbbd322730e200b3ccb53163e331154a,sias He <asias@cloudius-systems.com>, 2014-08-28 18:25:56 +0800, , poll remove poll_wake_count commit epoll real epoll epoll top poll remove hack implementing epoll poll signed asia asia cloudius systems.com signed avi kivity avi cloudius systems.com,,
2020,01923d54b6498f5041b313d730bf94661f5e13c9,sias He <asias@cloudius-systems.com>, 2014-08-28 18:25:55 +0800, , epoll get rid commit epoll real epoll epoll top poll used remove leftover signed asia asia cloudius systems.com signed avi kivity avi cloudius systems.com,,
2021,84adbb36af536b470141bf194344b16a234369be,sias He <asias@cloudius-systems.com>, 2014-08-28 18:25:54 +0800,19, epoll remove _file map twice problem epoll_wait remove key _file map doe remove key _epoll map epoll_ctrl del try remove _file_map hit assert fix following  revert revert epoll fix lock ordering issue saw sudo script run.py m4g test tst epoll.so ... pas epoll_wait pas write pas epoll_wait pas epoll_ctl mod pas epoll_wait pas epoll_ctl add pas errno eexist assertion failed f_epolls end home asia src cloudius system osv vfs kern_descrip.cc epoll_del 249 backtrace __assert_fail file epoll_del epoll_ptr 186 epoll_ctl 786 12595931 osv application run_main std string int char 266 osv application run_main 551 osv application main 4220568 4405061 thread_main_c 3710069 gdb cli_hlt home asia src cloudius system osv arch x64 processor.hh 242 home asia src cloudius system osv arch x64 arch.hh osv halt home asia src cloudius system osv core power.cc abort fmt fmt entry 0x603b60 assertion failed home asia src cloudius system osv runtime.cc 150 __assert_fail expr optimized file optimized line optimized func optimized home asia src cloudius system osv runtime.cc 156 file epoll_del optimized ... home asia src cloudius system osv vfs kern_descrip.cc 249 del key ... home asia src cloudius system osv core epoll.cc epoll_ctl epfd optimized optimized optimized event 0x2000002f9d50 home asia src cloudius system osv core epoll.cc 283 home asia src cloudius system osv test tst epoll.cc main optimized optimized home asia src cloudius system osv test tst epoll.cc 231 osv application run_main entry path test tst epoll.so argc argc entry argv argv entry home asia src cloudius system osv core app.cc 182 osv application run_main entry home asia src cloudius system osv core app.cc 197 osv application main home asia src cloudius system osv core app.cc 144 operator __closure 0x0 app optimized home asia src cloudius system osv core app.cc 104 osv application __lambda3 _fun app optimized home asia src cloudius system osv core app.cc 106 operator __closure home asia src cloudius system osv libc pthread.cc std void pthread_private pthread pthread void void void sigset_t const pthread_private thread_attr __lambda7 _m_invoke const std _any_data __functor ... home asia src cloudius system osv external x64 gcc.bin usr include 4.8.2 functional 2071 main home asia src cloudius system osv core sched.cc 940 sched thread_main_c home asia src cloudius system osv arch x64 arch switch.hh 137 thread_main home asia src cloudius system osv arch x64 entry.s 113 signed asia asia cloudius systems.com signed avi kivity avi cloudius systems.com,,
2022,63fd9764418dc8209d18d8cddf2f5a972bd6f284,sias He <asias@cloudius-systems.com>, 2014-08-28 18:25:53 +0800, , revert revert epoll fix lock ordering issue reverts commit never see build issue mentioned nadav tested patch tomcat nio connector epoll intensively see issue signed asia asia cloudius systems.com signed avi kivity avi cloudius systems.com,,
2023,ecbb8a7153b5d22b6c806e64d350b7ce2668ea34,lauber Costa <glommer@cloudius-systems.com>, 2014-08-28 14:14:51 +0400,441, implement reboot call simple wrapper around reboot halt poweroff one lyor requesting note however glibc version linux version man page say glibc constant involved gotten symbolic name rb_ library call argument wrapper around argument system call constant value reused directly signature argument glibc call fix 441 signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2024,13a75761fdbae3339fe9bf7c9bf9e31b6150c6e9,r Cohen <orc@fewbytes.com>, 2014-08-28 11:42:30 +0300, , cli add option choose api address added api address context module added option set environment variable osv_api command line option api precendence command line argument api environment variable osv_api default http 127.0.0.1 8000 close 436 signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2025,e74b709720aee573ac28c437ca9e3bf2d541b465,r Cohen <orc@fewbytes.com>, 2014-08-28 11:42:29 +0300, , cli created context module hold various context variable signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2026,78691c747ce50893b4b34f1df5bd67c71e631c5d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-28 10:14:56 +0200, , net fix page fault route_cache lookup route found fix 475 route in_rtalloc_ign set ro.ro_rt null caused following memcpy page fault memcpy ret ro.ro_rt sizeof ret change make lookup exit early failure propagate information back caller signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2027,d2c0a71ba525482dd11bcfaaec328be072584bcd,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-27 18:08:19 +0200, , java depend certificate fix 400 signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2028,9267eb3c7193b7bb91dcc991cf290d1878e57760,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-27 18:08:18 +0200, , module add certificate module module extract trust information host upon building based certificate 2014.2.1 signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2029,cc9b35f1dcf4ae9550a06b23b44f07ce7524de84,aifeng Gao <gaohaifeng.gao@huawei.com>, 2014-08-22 18:13:51 +0800, , print address set static set static cmdline osv print address necessary show address signed haifeng gao gaohaifeng.gao huawei.com signed pekka enberg penberg cloudius systems.com,,
2030,bcffa364c9dba184a117d37e9624519826d6bccf,aifeng Gao <gaohaifeng.gao@huawei.com>, 2014-08-26 11:54:32 +0800, , ifconfig fix flag value ifr.ifr_flags type short short type convert u32 expand bit short value negative signed haifeng gao gaohaifeng.gao huawei.com signed bicheng wang wangbicheng huawei.com signed pekka enberg penberg cloudius systems.com,,
2031,b52b6b559cfa87e3a4f79231db2d346b2b911b7d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-26 18:34:07 +0200, , openssl add dependant library image make following debug message away could load could load libkrb5.so.3 could load really use krb5 functionallity doe fix functional problem signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2032,a37e1fa2bf358571664041b3cd8f2a6ce56b4b9b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-26 18:34:06 +0200, , libc use in6addr_any.c muls fix 472. also needed one libs openssl depends signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2033,ddb9ef9dce9a22037d2e2ca6b7dfa42b806b613c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-26 18:34:05 +0200, , elf add libresolv.so.2 supplied library part glibc whose interface kernel provides needed krb5 libs signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2034,113a909acdec38b798ef1dcd03cbf4a13c6876b1,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-27 16:47:38 +0300, , misc.bin x64 update submodule head signed pekka enberg penberg cloudius systems.com,,
2035,6d3ac23f4b301a1f075c89c7e4e879e27cc3192a,alle Wilund <calle@cloudius-systems.com>, 2014-08-27 13:08:47 +0200, , httpserver add cors header support access control request method access control allow method access control request header access control allow header access control max age caching signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2036,0bb14a59d73db4f68b4ce0ae26d9a51272c2c9de,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-27 15:02:48 +0300, , httpserver fix broken test case broken commit 9ce9c37 httpserver copy edit operating system api documentation ... signed pekka enberg penberg cloudius systems.com,,
2037,f7c125a1f407a64f4def772bdb5d921dab2a4937,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-27 13:43:46 +0200, , bump mgmt submodule head commit author pekka enberg penberg cloudius systems.com remove dependency cloud init commit author nehal wani nehaljw.kkd1 gmail.com shell allow multiple file argument command cat commit author pekka enberg penberg cloudius systems.com remove obsolete example project signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2038,298ccf72c279a9eb6ddfdbdc123a98d570d88df3,sias He <asias@cloudius-systems.com>, 2014-08-26 18:40:21 +0800, , vfs fix race fdrop race window f_count reach set f_count int_min race would result multiple call close rcu_dispose call fdrop fix set f_count int_min using way make sure close rcu_dispose called twice fix 293 signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2039,9ce9c37061a7188efc4ac148a377950209cf7b33,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-27 11:38:41 +0300, , httpserver copy edit operating system api documentation inject sanity api documentation functional change renaming manufacturer vendor adding name api completeness signed pekka enberg penberg cloudius systems.com,,
2040,d3a000ab6f3039b2b8d3968ecaee88d73f93720a,lad Zolotarov <vladz@cloudius-systems.com>, 2014-08-27 13:37:18 +0300, , httpserver network.json api added statistic counter network ifconfig output signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2041,9b8e4896ec150b8d5ccf7637f888bd14fd9528f7,lad Zolotarov <vladz@cloudius-systems.com>, 2014-08-27 13:37:17 +0300, , virtio net added statistic counter contain number timer packet unable sent due free space ring counter incremented per packet signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2042,9fb24362ae76c0736273a94ed9fe605d127fa2bc,lad Zolotarov <vladz@cloudius-systems.com>, 2014-08-27 13:37:16 +0300, , net added statistic counter number time packet could sent due lack free space ring signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2043,7bc971ee9103c2e282840ac3ac6a7c345da3518f,lad Zolotarov <vladz@cloudius-systems.com>, 2014-08-27 13:37:15 +0300, , httpserver network.json api added new statistic counter ifconfig interface ifi_ibh_wakeups number time woken number kick worker number time worker woken number packet handled worker ifi_okicks total number kick signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2044,8a62f8c0d06ecbd1f6c68b0f4f1a68e1d53b9962,lad Zolotarov <vladz@cloudius-systems.com>, 2014-08-27 13:37:14 +0300, , net make statistic collected time signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2045,73d5a97ba3f68a2d9d9df9a654e73b973ff676ad,lad Zolotarov <vladz@cloudius-systems.com>, 2014-08-27 13:37:13 +0300, , virtio net added debug_virtio_rx stats signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2046,4d62142398081379fd0defb2f120a1c05536960a,lad Zolotarov <vladz@cloudius-systems.com>, 2014-08-27 13:37:12 +0300, , vmxnet3 added debug statistic enable debug_virtio_tx compilation signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2047,617ccf7bc8966740dccbc9cf19c318b69b90e67a,lad Zolotarov <vladz@cloudius-systems.com>, 2014-08-27 13:37:11 +0300, , net added new statistic counter if_data signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2048,1e9f4b12b82a8aa997a4b2ff86218b8e7085c65b,sias He <asias@cloudius-systems.com>, 2014-08-27 10:01:29 +0800, , net remove poll_wake sofree call chain stop_polls close soclose sorele sofree poll_wake fhold fdrop set null soclose nothing poll_wake null need call poll_wake sofree besides call close stop_polls stop poll poll list empty anyway signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2049,ee53093b4a29a5dd63a34fe8375c3ed94872a907,r Cohen <orc@fewbytes.com>, 2014-08-26 12:48:30 +0300, , cli add command initial version command signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2050,1cc6ecc18804265115f0b14e450767cd003d4570,r Cohen <orc@fewbytes.com>, 2014-08-26 12:48:29 +0300, , cli add method print list console signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2051,8cc937f0d57a8c322a3575a905667ddd913973c9,r Cohen <orc@fewbytes.com>, 2014-08-26 12:48:28 +0300, , cli pas console size lua output formatted nicely console need know dimension patch add support inside outside osv inside use ansi escape code thanks nadav nyh outside use ioctl tiocgwinsz signal size change also bind detail used lua cli_console_dim signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2052,795cb89823fd9f8d31a27f3ce19d0a1c03e06df2,r Cohen <orc@fewbytes.com>, 2014-08-26 12:48:27 +0300, , cli handle non decodable api output signed pekka enberg penberg cloudius systems.com,,
2053,cabcae143ea263707b607216292a50f116568d22,r Cohen <orc@fewbytes.com>, 2014-08-26 12:48:26 +0300, , cli make cat command use cwd signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2054,5a3b7b8823bf0238ab464d5a54b8e3ed99471e40,r Cohen <orc@fewbytes.com>, 2014-08-26 12:48:25 +0300, , cli add command signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2055,a62baf64ac228cd148f5106a46e3bf1f6ecf1736,r Cohen <orc@fewbytes.com>, 2014-08-26 12:48:24 +0300, , cli get prompt lua code cwd signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2056,7aabf0b3664e82e15bba14a74fba6d81acf08409,r Cohen <orc@fewbytes.com>, 2014-08-26 12:48:23 +0300, , cli add cwd handler basically import previous shell signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2057,ec13dc99ccd9eaaa530a74c5039b05ec9ec36718,r Cohen <orc@fewbytes.com>, 2014-08-26 12:48:22 +0300, , cli add ncurses build includes signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2058,d93cb0ab36a8f66501399c75f705e88af3d446a1,r Cohen <orc@fewbytes.com>, 2014-08-26 12:48:21 +0300, , lua added luafilesystem luapath used cli path manipulation signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2059,e9aa0d5a2ad5cc3528de9d373e0547f06d9c34fc,r Cohen <orc@fewbytes.com>, 2014-08-26 12:48:20 +0300, , lua fix build flag library flag lua_use_linux implicitly set make build require readline.h use readline readline header might available machine built lua_use_linux group flag include group exclude luarocks requires popen support lua flag added well remove ledit build needed also took chance refactor module makefile signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2060,9da2facfb767d0df80f7e155b434154a070eb302,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-08-26 11:53:44 -0300, , test misc concurrent add option measure read range cleanup done within patch well signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2061,2c6d3819ecca429aba4712aa87f3d9b1453711ad,aniel Zautner <daniel@fewbytes.com>, 2014-08-26 12:08:23 +0300, , api return thread status response signed daniel zautner daniel fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2062,f6f1f7d37aba57ca3cd9df8decec656cd67b6db4,akuya ASADA <syuu@cloudius-systems.com>, 2014-08-26 16:44:53 +0900, , libc add gethostbyaddr needed mysql signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2063,7fd638ffa9da8b6d0b0d6eefc4bb7ec5413a6951,alle Wilund <calle@cloudius-systems.com>, 2014-08-26 14:59:21 +0200, , httpserver allow specific cors host use origin header instead binary nothing accept number accepted host match origin supplied client true still accept anything signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2064,0f8d2928d1aa1eaa7ddbc802338a146527418673,alle Wilund <calle@cloudius-systems.com>, 2014-08-26 14:59:20 +0200, , cloud init generate httpserver.conf yaml using yaml cpp emit compatible handle arbitrary yaml subnodes signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2065,fbdbe2d7beefd9eca3e4e1431c7f15981340a336,alle Wilund <calle@cloudius-systems.com>, 2014-08-26 14:59:19 +0200, , cloud init use dependency makefile signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2066,4d0d1df9118f44f8edcd2fd006c5a89f7bdc25be,lauber Costa <glommer@cloudius-systems.com>, 2014-08-26 16:12:22 +0400, , enhance symbol detection script symbol script problem detecting symbol form glibcxx particular match grep part expression replaced sed part expression garbage output leading script incorrectly guess symbol missing expanding regular expression also match symbol fix signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2067,13d7bf1164a565bf76c0839ed4dd22ef49e6af3f,sias He <asias@cloudius-systems.com>, 2014-08-27 09:01:32 +0800, , epoll check fileref valid epoll_ctl happpen someone cloeses concurrently nothing fileref empty saw happens tomcat benchmark signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2068,a4ceec5d6f3c874837b076d6a7fc2a99ccaea0e0,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-08-27 03:37:19 -0300, , zfs initialize znode z_vnode field zfs osv initializes znode without necessarily associate vnode e.g certain operation involve looking target node unlink z_vnode initialized null make explicit znode vnode associated also correct thing signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2069,2aaef19887bf81bb75bc218bdda214caa46ab0bf,lad Zolotarov <vladz@cloudius-systems.com>, 2014-08-26 10:47:10 +0300,470, httpserver network.json api fix interface enumeration function fix issue 470 signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2070,fe4d38c2ae05b1ae31e6293cc580704f42c24796,lauber Costa <glommer@cloudius-systems.com>, 2014-08-26 16:20:00 +0400, , linux make close syscall available syscall gate signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2071,741b5563f9045ed07c387bbad63f6c8a9ee75209,lauber Costa <glommer@cloudius-systems.com>, 2014-08-26 16:28:53 +0400, , add __syscall symbol alias syscall __syscall also valid symbol using weak_alias macro part musl tricky part get header right syscall.h file includes one sys come musl want change change unistd.h definition syscall already life include one main syscall header signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2072,0c3387ad907e4317235d35d4fcafcac7ffdc6557,zach Livyatan <tzach@cloudius-systems.com>, 2014-08-26 15:50:57 +0300, , script add redis memonly image add redis memonly image make redis part official osv release signed tzach livyatan tzach cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2073,59b3cab245c268caef2734a96e2051d5cf821c8d,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-26 09:54:15 +0300, , httpserver drop xml support swagger definition support xml stop telling everyone reviewed tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
2074,9c56fd1f86f91903310eca833abe82c3c591b3e3,alle Wilund <calle@cloudius-systems.com>, 2014-08-25 15:14:42 +0200, , jolokia change parameter non required swagger definition make jolokia without args function identically vanilla jolokia version signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2075,3d10962558be7713a893dff6dc1915148654c81d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-25 12:21:09 +0200, , httpserver add missing libyaml.so cloud init module included httpserver dso linked libyaml doe include manifest fix depending libyaml module make following dmesg line away could load libyaml cpp.so.0.5 currently cause run time problem functionality libyaml run httpserver configured via cloud init case libyaml already included signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2076,1a11bbe2d63abebefa05299fdcaa51e7e9966a54,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-25 12:21:08 +0200, , cloud init depend libyaml signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2077,fbeebd2f17a79c4f40eaddd076cb71f9a3d702b8,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-25 12:21:07 +0200, , module add libyaml module signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2078,9638c3daa3a317b2f5c805c49998d3787806b6ff,lauber Costa <glommer@cloudius-systems.com>, 2014-08-25 11:01:28 +0400, , pthread_yield mark extern apparently pthread_yield declaration standard header end exported symbol manually signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2079,5073ce0f04c477bf971fea76f3ec8c6c37484ebf,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-08-22 15:55:32 -0300, , vfs remove dead code namei reviewed prasad joshi gmail.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2080,7b0ef4ba4757fef4f0a962fa6973718004ff0397,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-08-22 15:52:42 -0300, , vfs simplify namei external loop reviewed prasad joshi gmail.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2081,2da92fd376d0b00e54994770209daa11131f4d41,rasad Joshi <prasadjoshi.linux@gmail.com>, 2014-08-22 23:53:57 +0530, , vfs count_match return failure mountpt doe match zfs allows user create multiple file system pool part file system creation zfs creates new mount directory mount new file system default mountpoint pool name example zfs create tank fs1 would mount new tank fs1 path lookup namei find mount point given path list mount point find one match function count_match mount point found namei skip mount point portion path rest component path mapping component dentry example namei proc mount called namei would find mountpoint proc try map mount dentry count_match function match character path given mountpoint match found function return number character matched character doe match break loop case must return match i.e set length match however bug mount point matching function count_match mountpoint tank fs1 matched tank fs2 incorrectly return match set length match result namei lookup fails since path failure particularly happens strlen path strlen mountpoint last character path match example failure run  run zfs.so create tank fs1 run_elf running main context thread vfs mounting zfs tank fs1 zfs mounting tank fs1 device tank fs1 run finished exitcode run zfs.so create tank fs2 run_elf running main context thread vfs mounting zfs tank fs2 mount tank fs2 file directory filesystem successfully created mounted program zfs.so returned run finished exitcode tank could access tank fs2 file directory fs1  reviewed smile raphael carvalho raphaelsc cloudius systems.com signed prasad joshi gmail.com signed pekka enberg penberg cloudius systems.com,,
2082,22b1e5b2ca5b5faf8e680f403892a82660084525,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-08-22 21:44:15 -0300, , vfs kill vcount c59e0fd vcount used anywhere signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2083,54f39517e8062e5ab82f543667f52c6580c3a531,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-22 10:13:03 +0300, , vfs use locking vfs_mount.cc use scope_lock with_lock vfs_mount.cc signed pekka enberg penberg cloudius systems.com,,
2084,77570b3a9090cd80af9db860456b65c2d5fdaafa,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-22 10:05:40 +0300, , vfs use delete instead free vfs_mount.cc mount struct allocated new use delete deallocate symmetry avoid future bug destructor introduced signed pekka enberg penberg cloudius systems.com,,
2085,9c5899a03922eff40f7414d5909e18ab81820d6d,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-15 10:54:24 +0300, , vfs convert mount point list convert vfs mount point list list standard library reviewed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2086,fc75543536a59700888de8e8825d1c8a73901ba3,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-18 11:28:57 +0300, , script add redis memonly capstan image add redis memonly capstan image make redis part official osv release tzach livyatan tzach cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2087,5d8ae3119712f5cb14f638d2c270bcddd6f32017,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-21 10:00:25 +0300, , kernel base address constant replaces kernel base address magic number constant make code readable simplifies thing want move kernel base new address acked raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2088,cd4f6d9e97f3c78a0fc9c666e32fc19c68d49d50,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-08-21 16:01:54 -0300, , test add misc concurrent signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2089,25c9e5e4a5b776600928ada61abc39e5fab25feb,sias He <asias@cloudius-systems.com>, 2014-08-21 15:24:15 +0800, , vfs cleanup vfs_bio.cc functionality change signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2090,dc5a5b40ded349650823b77d1215374548935423,sias He <asias@cloudius-systems.com>, 2014-08-21 15:24:14 +0800, , vfs use boost intrusive list code instead using old bsd tailq use boost intrusive list signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2091,b015650378808261eeda17bb31127bfcd14a33ff,zach Livyatan <tzach@cloudius-systems.com>, 2014-08-21 13:33:05 +0300, , jolokia rest api add documentation json file additional documentation field json spec clearify jolokia parameter format swagger user signed tzach livyatan tzach cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2092,dfce334e541960e2f7921102abcd2378f4d748a1,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-08-20 14:40:56 -0300, , fix exception nested deeply enabling zfs code problem easily seen running cassandra typing ctrl operation done e.g stressing cassandra stress zfs asked operate file underlying file system unmounted zfs provides mechanism prevent problem happening however currently disabled signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2093,b5eadc37f12c4b97a52705830d2d9097498049c2,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-08-20 10:36:31 -0300, , vfs zfs remove per file lock enforcement zfs read write ops osv vfs layer enforces per file lock file operation including read write operation approach prevents zfs parallel read file even parallel writes different region file zfs allows parallelism using range lock internal node mapped vfs vnodes properly satisfies posix requeriments currently every write read specific file always serialized workload many thread concurrently read write file would perform terribly bad compared freebsd example freebsd also range lock within vfs layer protect concurrent read write ops however implies double range locking necessary also redundant specifically zfs bottleneck prevents parallel zfs read writes file happening could pulverized discarding vnode lock surrounding vop_read vop_write within vfs_file read vfs_file write respectively read write ops virtual file system vnode locking could moved respective function unlike zfs virtual file system deal per file lock zfs range lock would working effectively parallelism working file vfs_file get_arcbuf entirely intended zfs could also discard vnode lock call zfs_arc also range lock approach properly protecting underlying file writeback pagecache need take vnode lock either given call zfs_write protected range lock change involved zfs_read use zfs internal node data avoid reading vnode zfs_write file grown size take vnode lock updating vnode size virtual file system surround read write ops vnode lock signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2094,000ce9a2cb638d00ecafe77780e21ad57331f239,adav Har'El <nyh@cloudius-systems.com>, 2014-08-21 09:32:54 +0300, , libc stdio flush stdout read stdin fix read stdin flush stdout happens linux glibc traditional unix although never guaranteed standard behavior added unix useful program print prompt read input forgetting fflush stdout meantime later done linux run program assumed reason also want osv fix 464 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2095,24d0e2da0bc7e66951e1ddd2f588e9cd4c25a693,vi Kivity <avi@cloudius-systems.com>, 2014-08-20 18:10:44 +0300, , test convert misc memcpy.c signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2096,2b14b2a66f37a9ebd7557942c85ac4a9d10f04e9,vi Kivity <avi@cloudius-systems.com>, 2014-08-20 14:29:04 +0300, , string use ssse3 memcpy available signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2097,810a1200017a1f42bfb12104d3a32b86c623f794,vi Kivity <avi@cloudius-systems.com>, 2014-08-20 14:29:03 +0300, , string ssse3 optimized unaligned copier use ssse3 palignr instruction shift data register use aligned load store even relatively misaligned data signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2098,dd7d22fb915c22b0280950607b5439252d850cb9,vi Kivity <avi@cloudius-systems.com>, 2014-08-20 14:29:02 +0300, , x64 add xmm register helper add nice helper easily access specific register signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2099,cd34d0647dbb308ed2d7fe6ee16af0f45e947f57,vi Kivity <avi@cloudius-systems.com>, 2014-08-20 14:29:01 +0300, , string extract sse register file helper sse.hh help use sse multiple source file signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2100,15ae26e525ae5b78cd2961461bd41d35eacdc27f,adav Har'El <nyh@cloudius-systems.com>, 2014-08-20 13:13:56 +0300, , fix compilation problem apparently compiler accepts code std queue  clear queue element compiler jenkins refuse code claiming std queue constructor explicit rewrite code different way hopefully make jenkins happy signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2101,ce8dab5c3f74acb74a0512b210e0e42a8d8625dd,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-20 11:14:25 +0300, , merge branch jolokia signed pekka enberg penberg cloudius systems.com conflict module httpserver module.py,,
2102,8ff12a2d4a6c92b37e58b82a962547795b2aa0c7,alle Wilund <calle@cloudius-systems.com>, 2014-08-13 18:45:03 +0200, , jolokia jmx rest integration integrates jolokia jmx via rest osv http server library loaded demand side side classloader request rudimentarily defined swagger json forwarded via jni call http server dispatched inside jolokia includes helper library code easy jni usage well trying ensure proper synchronization jvm lifecycle ensure either run request jni attach jvm shutdown combined request could otherwise cause crash signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2103,06d41171c8266b559b46e054967b8469b29e0df5,adav Har'El <nyh@cloudius-systems.com>, 2014-08-19 23:41:42 +0300,461, console fix support discarding keeping input switching tty raw mode two option unread input including perhaps partially edited line keep partially edited line make available reading imediately never edited even later back cooked mode happens tcsets ioctl tcsetattr tcsanow option discard unread input including partial edited line happens tcsetsf ioctl tcsetattr tcsaflush option unfortunately supported neither two option correctly ... instead case hide partially edited line duration raw mode bring back going back cooked mode linux behaves caused problem one application tried switch raw mode input already available patch fix two case right thing add line discipling object two new operation copying partially edited line ready read buffer discarding partially edited line ready read buffer call two new operation appropriate ioctl operation console device fix 461 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2104,acde3ee03e0fe509d9ecd6078603154b3ff98a2b,alle Wilund <calle@cloudius-systems.com>, 2014-08-19 16:23:12 +0200, , ensure plain_transport close doe throw iff side shuts early previous code would throw exception course handled termination handler httpserver exit likely want signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2105,930cb83d914796893746d5d7f7f9cf6df37db5e6,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-08-19 04:20:30 +0200, , elf fail early resolving plt preemption disabled lazy resolution plt entry involves action require enabled preemption e.g acquiring mutex allocating freeing memory calling preemption disabled despite incorrect often doe cause abort catastrophic failure using normal build however case debug allocator form non contiguous memory allocation used adding assert would help catching error early avoid bug report like abort osv low memory large memory allocator able postpone oom falling back non contiguous memory mapping reviewed nadav har nyh cloudius systems.com signed paweå dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
2106,8c505790453c8a14ad72a64968faa1747de73e4b,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-08-19 04:20:29 +0200, , elf eagerly resovle plt entry mlocked object object need locked memory example part code executed preemption disabled usually also need eager resolution plt entry reviewed nadav har nyh cloudius systems.com signed paweå dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
2107,0c340c6ca74725ed70b06cfd68865d870e458cb2,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-19 15:55:39 +0300, , fix git submodule url relative use relative url git submodules hopefully avoid git submodule update issue dor others seeing signed pekka enberg penberg cloudius systems.com signed avi kivity avi cloudius systems.com,,
2108,3dd17f4e02205c8039795855daaae7510a820e9d,mnon Heiman <amnon@cloudius-systems.com>, 2014-08-19 09:48:02 +0300, , sched expose thread status expose thread status moving status enum public add getter method reviewed nadav har nyh cloudius systems.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2109,340763cae27c0d102e5e4cc1701a77bfa6758e48,mnon Heiman <amnon@cloudius-systems.com>, 2014-08-19 09:48:01 +0300, , swagger definition file add thread status priority add definition thread status priority reviewed nadav har nyh cloudius systems.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2110,9f9c4858660ef0fd853f51189fbff9184b59500c,mnon Heiman <amnon@cloudius-systems.com>, 2014-08-18 20:53:49 +0300, , http server code generation extended enum support return member declare enum string local enum decalre proper value wrapper class enum used return type enum value replaced string representation wrapper class also support auto enum conversion based enum value long origin enum declared value example swagger json definition file following entry added model thread status type string description thread status enum invalid prestarted  code another enum class defined enum class my_status invalide prestarted created thread class member called status enum class thread_status declare value my_status my_status status my_status invalid use set value  t.status status signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2111,d7f8c50d7402c0afc93004d206e599c11920c0e8,mnon Heiman <amnon@cloudius-systems.com>, 2014-08-19 09:47:59 +0300, , http server allow extending json interface common base class allow extending json interface user defined type common jsonable class added class single method to_json add user define class inherit jsonable class implement to_json method formatter changed use signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2112,51fedcda4839d4c7b6d03a28d3508386220f1b47,mnon Heiman <amnon@cloudius-systems.com>, 2014-08-19 09:47:58 +0300, , http server add float support json formatter add float support json formatter unfortunately json format support infinity inifity number would represented flt_max similiarly minus inifinity represented flt_max nan return replaces default std behavior returning inf nan reviewed nadav har nyh cloudius systems.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2113,c40ee015cab7ea269ef043ab87065e24506b0956,vi Kivity <avi@cloudius-systems.com>, 2014-08-17 18:34:57 +0300, , string copy 256 1023 byte using sse well faster rep movsb signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2114,029113294a6260ecfa09d5216b55643c203e1fb0,vi Kivity <avi@cloudius-systems.com>, 2014-08-17 18:34:56 +0300, , string use instead enumerating list inline signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2115,86d0cfeac21128b0787889d3302d4c30b95966e7,vi Kivity <avi@cloudius-systems.com>, 2014-08-17 18:34:55 +0300, , initialize add variant compile time initialization via template instantation signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2116,c9f29355fbd005f24e997f4bbd6c5ac7404e7252,vi Kivity <avi@cloudius-systems.com>, 2014-08-17 18:34:54 +0300, , add helper template generating compile time index list ... signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2117,4aa685fbd555c899bf26b1417ef1992e7319bfb5,vi Kivity <avi@cloudius-systems.com>, 2014-08-17 18:34:53 +0300, , memcpy omit frame pointer wrapper quite expensive small size signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2118,069b32f615a89c1a7e3d5b329cbb33e3d0fa814f,vi Kivity <avi@cloudius-systems.com>, 2014-08-17 18:34:52 +0300, , memcpy use aligned sse load store alignment permit signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2119,fd4768217e168297cbfd66d68c8f13bef2e5d19d,laudio Fontana <claudio.fontana@huawei.com>, 2014-08-13 17:47:35 +0200, , aarch64 add build libfdt need use libfdt moment pas information hardware guest implementation acpi guest seems major effort happen quickly also contains one liner fix arch use arch used internally signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
2120,ac950fc3dcad5be65cf1c3c80a45bc653646b1f2,sias He <asias@cloudius-systems.com>, 2014-08-18 22:48:44 +0800, , bio switch use mutex_t waitqueue simplfy code bit switching pthread_mutex_t pthread_cond_t mutex_t waitqueue reviewed nadav har nyh cloudius systems.com signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2121,682b9304075c943eec7c5580a76340463c3634e5,adav Har'El <nyh@cloudius-systems.com>, 2014-08-18 22:34:43 +0300, , sched change default timeslice length patch change thyst hysteresis time scheduler paramter 2ms 5ms shown two cpu hog thread compete alternate running timeslices length thyst i.e. patch time slice case 10ms exactly happens linux measured test misc timeslice.cc thyst also cap number preemption timer setting operation require slow apic exit thyst i.e. 200 second please note ideal time slice defined thyst rarely achieved practice waking low runtime thread cause context switch long full time slice used example network handling thread often woken many thousand time second another example page access scanner thread wake one cpu every 1ms run short duration rescheduling occurs example switch two cpu hugging thread every 1ms instead every 5ms signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2122,c59e0fdaab37f13e6d3d0b8cc1dd6b14fe9760d5,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-08-18 15:34:13 -0300, , vfs avoid recursive locking checking vnode refcnt vcount used get vnode refcnt amount unnecessarily take another lock vnode found auditing code reviewed nadav har nyh cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2123,cedb876ff6ff8bdfd8280fe136e33af3a58d3ffc,vi Kivity <avi@cloudius-systems.com>, 2014-08-18 19:00:17 +0300, , runtime stub needed gcc 4.9 signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2124,05559ee1ffeb070a276ab15dd4bbf37648ccbe3c,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-08-19 04:34:34 +0200, , tst async migration lock enough nadav pointed tst async disabled preemption make sure two function call happen cpu purpose migration lock sufficient signed paweå dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
2125,bc2f8ce818be0a6a5f98b5bf9fae5f7da259e6e9,vi Kivity <avi@cloudius-systems.com>, 2014-08-18 15:27:00 +0300, , build place mnttab.o source directory found another place break cross arch build signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2126,911d52c794e027838988e70b589a609f200b0535,sias He <asias@cloudius-systems.com>, 2014-08-18 18:11:00 +0800, , net kill unused struct protosw inetsw  spotted code inspection signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2127,a4b980e159cc60f608aac5d5d71786295dd33e95,vi Kivity <avi@cloudius-systems.com>, 2014-08-18 14:34:31 +0300, , build place mnttab.o source directory break cross arch build signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2128,a58efd60fd91530d1fdcb80e0190f5ec2df3c11b,mnon Heiman <amnon@cloudius-systems.com>, 2014-08-18 12:45:20 +0300, , httpserver mapping gui file server add mapping gui server patch call http 192.168.122.89 8000 dashboard display gui reviewed tomasz grabiec tgrabiec gmail.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2129,0abf3ce0133d1fbca46efe2a18a7acf595bd0b6e,mnon Heiman <amnon@cloudius-systems.com>, 2014-08-18 12:45:19 +0300, , http server compile copy gui image httpserver compilation need verify gui submodule pulled compile add part image signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2130,dd95249d1993878471413a5d45f8d699de32ea96,mnon Heiman <amnon@cloudius-systems.com>, 2014-08-18 12:45:18 +0300, , adding osv gui submodule httpserver add osv gui repository submodule httpserver reviewed tomasz grabiec tgrabiec gmail.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2131,db9f4d91f3c1233abd891497b0c85a46988ae6f1,ifei Tong <zifeitong@gmail.com>, 2014-08-14 16:40:07 +0800, , loader remove unused extern declaration longer used signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
2132,94fe0631ded54bf58941f61192da6cf8962e24b2,sias He <asias@cloudius-systems.com>, 2014-08-15 22:07:51 +0800, , poll fix two indention spotted code inspection signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2133,862e6c52f4223422d4a366641a536778d3aa73ca,mitry Fleytman <dmitry@daynix.com>, 2014-08-17 18:40:03 +0300, , setup.py fix regression ubuntu 14.04 fedora patch fix attribute error traceback recent call last file script setup.py line module  attributeerror type object ubuntu_14_04 attribute signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
2134,3da8248647ecbd7266abfae4a7e351d15e3a3d69,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-12 09:24:44 +0300, , percpu.hh fix pointer arithmetic fix following complaint gcc file included include osv per cpu counter.hh include osv trace count.hh api trace.cc include osv percpu.hh instantiation dynamic_percpu align addr void long unsigned int long unsigned int align 8ul include osv percpu.hh required void dynamic_percpu align construct long unsigned int long unsigned int align 8ul include osv percpu.hh required dynamic_percpu align dynamic_percpu long unsigned int long unsigned int align 8ul include osv per cpu counter.hh required include osv percpu.hh warning pointer type void used arithmetic wpointer arith return static_cast base _offset reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2135,36f78327bbde3815965420ac3b79feaec43b3310,iao Xiang <jxwr.cn@gmail.com>, 2014-08-15 17:38:49 +0800, , libc implement __strndup reviewed glauber costa glommer cloudius systems.com signed jiao xiang jxwr.cn gmail.com signed pekka enberg penberg cloudius systems.com,,
2136,e62503ab8be6ab0ac87127ce5a50707c1ae000fd,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-15 10:05:47 +0300, , vfs use nullptr code signed pekka enberg penberg cloudius systems.com,,
2137,b0718a6e04f1e2f270802ef55cee1c6a462606da,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-15 10:09:27 +0300, , vfs fix vget error handling return type vget int unfortunately gcc doe complain attempt return null spotted converting vfs use nullptr reviewed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2138,7ee1c7e9e0bc28c99c8d247e40fbba14437bb229,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-14 09:49:55 +0200, , freq.py calculate column width dynamically tracepoints name longer fixed character result hard read table let adjust column width tracepoint name length minimum width reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2139,b7f519261fe588ea8e20f06df67c9e280d5ac2c2,sias He <asias@cloudius-systems.com>, 2014-08-15 14:32:10 +0800, , net remove socket access dead code used signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2140,afe504cd13f3860edd2b7842d6cc9192d6cff018,mitry Fleytman <dmitry@daynix.com>, 2014-08-14 17:12:06 +0300, , setup.py add support ubuntu 13.10 signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
2141,feac1f4753c9864764bce27f64613cdb167f23cf,sias He <asias@cloudius-systems.com>, 2014-08-15 08:45:53 +0800, , vfs convert ramfs ramfs_vfsops.c ramfs ramfs_vfsops.cc signed asia asia cloudius systems.com,,
2142,706256b352be42d321c0659ac9637fd83b340650,sias He <asias@cloudius-systems.com>, 2014-08-15 08:06:11 +0800, , vfs convert devfs device.c devfs device.cc signed asia asia cloudius systems.com,,
2143,a514cf46b587aef3e0a03f0f0052acb8e72e1e3a,sias He <asias@cloudius-systems.com>, 2014-08-14 17:39:44 +0800, , vfs convert vfs vfs_conf.c vfs vfs_conf.cc extern modifed fix following issue bootfs.o loader.elf vfs vfs_conf.o .rodata 0x8 undefined reference ramfs_init vfs vfs_conf.o .rodata 0x20 undefined reference devfs_init vfs vfs_conf.o .rodata 0x38 undefined reference procfs_init vfs vfs_conf.o .rodata 0x50 undefined reference zfs_init make loader.elf error make leaving directory home asia src cloudius system osv build release.x64 make error signed asia asia cloudius systems.com,,
2144,0aca787937074845a659d8111a3b8d3126c09c5e,sias He <asias@cloudius-systems.com>, 2014-08-14 18:36:36 +0800, , vfs convert vfs vfs_task.c vfs vfs_task.cc signed asia asia cloudius systems.com,,
2145,13dade27ee6a0594e62f6b05d4097debdf9abf5d,sias He <asias@cloudius-systems.com>, 2014-08-14 18:33:23 +0800, , vfs convert vfs vfs_vnode.c vfs vfs_vnode.cc signed asia asia cloudius systems.com,,
2146,bb7e315830dd0f3dc72cde4d801b2c45eefc4d72,sias He <asias@cloudius-systems.com>, 2014-08-14 17:27:59 +0800, , vfs convert vfs subr_uio.c vfs subr_uio.cc fixed following home asia src cloudius system osv vfs subr_uio.cc function int uiomove void int uio home asia src cloudius system osv vfs subr_uio.cc error comparison signed unsigned integer expression werror sign compare cnt  removed dead code uiomove_frombuf fix home asia src cloudius system osv vfs subr_uio.cc function int uiomove_frombuf void int uio home asia src cloudius system osv vfs subr_uio.cc error comparison signed unsigned integer expression werror sign compare offset uio uio_offset uio uio_offset  home asia src cloudius system osv vfs subr_uio.cc error comparison signed unsigned integer expression werror sign compare buflen offset buflen  signed asia asia cloudius systems.com,,
2147,99eb339a06563201f472f598e6dfa8c54b070db3,sias He <asias@cloudius-systems.com>, 2014-08-14 16:49:12 +0800, , vfs convert vfs vfs_bdev.c vfs vfs_bdev.cc signed asia asia cloudius systems.com,,
2148,cdfe107aba566511df72cc7c5fcf3ffd5bda5bc2,sias He <asias@cloudius-systems.com>, 2014-08-14 16:46:08 +0800, , vfs convert vfs vfs_bio.c vfs vfs_bio.cc signed asia asia cloudius systems.com,,
2149,67014586011e83d31fefd5805e9f84291d86e4b1,sias He <asias@cloudius-systems.com>, 2014-08-14 16:37:39 +0800, , vfs convert vfs kern_physio.c vfs kern_physio.cc signed asia asia cloudius systems.com,,
2150,02cbb72ff63445a3b248f1d46890c360fbb8fce6,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-14 17:50:27 +0300, , script fix python compatibility client.py seems like renaming thing python fun ... signed pekka enberg penberg cloudius systems.com,,
2151,87124447e6cccb8a29205b40c9189c754396876e,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-14 17:45:16 +0300, , merge branch ssl github.com tgrabiec osv ssl series add ability start httpserver ssl mode configured run time via command line cloud init check documentation draft http github.com cloudius system osv wiki restful api configuring ssl signed pekka enberg penberg cloudius systems.com,,
2152,7ed69d19dae80ef7a40c51027b4684d90f5a139b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-22 14:20:51 +0200, , httpserver abort graceful way upon exception,,
2153,e8f361d23250e07fe4239fdcce2f039617866106,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-04 18:32:15 +0200, , script make trace.py download support ssl,,
2154,a574d15ed9342f571247bd42ce35639cbe1e2dcf,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-04 18:31:35 +0200, , script convert top.py use ssl transport,,
2155,ad7f721039b3ddb5d10cab8495548d412a1317be,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-06 12:17:18 +0200, , httpserver add ssl specific test,,
2156,21ff76cf1721192983ead9440762ecbdec8f99e6,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-06 12:13:34 +0200, , httpserver run test ssl non ssl server,,
2157,181c36879441188c9983e6e6a17ec71bb4133e24,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-04 14:48:50 +0200, , document dependency python request state art library writing http client python supoprt ssl much better urllib urllib2 latter provide easy way certificate based client authentication immediate reason switching  package readily available fedora ubuntu distribution see http docs.python requests.org package used python client like trace.py top.py,,
2158,05cf58b64a96367cd62a46ebae800e780c9f4035,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-04 18:29:37 +0200, , script add utility writing rest api client add helper class common code client osv restful api,,
2159,d1e988c177130921cf162f05d64ced852e63253c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-04 18:45:22 +0200, , module add module ssl certificate module generates certificate key server client useful development included build certificate server key server certificate installed image picked http server various command line tool pick certificate key module build directory,,
2160,6611fa359cdddb8bca379df12ab398f301534bbd,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-05 21:17:38 +0200, , httpserver add support ssl transport http server support plain http ssl based http protocol flavor chosen run time either command line argument cloud init configuration start httpserver ssl mode pas ssl command line parameter build module using fg_ssl run configuration make image detail check documentation draft http github.com cloudius system osv wiki restful api configuring ssl,,
2161,fb2fe8ba5bc6b64def8badf5ecf4159fc1dc96e3,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-06 13:58:38 +0200, , bump swagger ui.git head ref,,
2162,0d9475466396489c81ec639e080558fb78142887,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-05 17:49:32 +0200, , httpserver introduce .fg run configuration image built like make image httpserver.fg osv wait exiting foreground useful want generic image api command started externally,,
2163,539f30302d579341394d997322db8c7aadc25ae8,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-05 17:41:22 +0200, , module introduce run_on_init declaration api.run_on_init cmdline mean cmdline executed init time file put inside init directory prefix order command declared way run depends order module depend dependant module run module depend mean automatic priority assignment motivation change allow run init behavior optional depending chosen run configuration example time want http server run daemon time standalone app simplest reuse already present run configuration mechanism,,
2164,26aa304bce66c6ce69dcd9e451e6cb6981f7b026,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-05 12:46:33 +0200, , httpserver abstract away http transport allow switch http http run time,,
2165,a17455742f5b4470c4b75880a5a11d560d1b8608,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-04 21:02:03 +0200, , httpserver remove unused field,,
2166,7d319dc410d4381c84cfd1a8372d73bdf47f4afc,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-04 13:29:43 +0200, , httpserver template api doc protocol name,,
2167,bd0690a3667cba9e9192f4bee6f6eb7d1376445a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-09 14:04:25 +0200, , httpserver make use relative path evil broken relative path src some_path src,,
2168,8d5ed7e11ea8371200a4c1685e41078428e7c136,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-30 15:57:17 +0200, , httpserver make link openssl,,
2169,0f446656c28db632427b119c37371c387148d775,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-02-14 14:13:25 +0100, , httpserver make simplify rule,,
2170,0743288c8121367022cbb5be024374643698813f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-02-14 14:13:11 +0100, , httpserver make make init target phony,,
2171,eb7c4ee528dae6bf79fbd930cb7550c84442d197,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-02-14 12:38:25 +0100, , httpserver link boost_program option match includes use includes misc.bin shared object host linked boost_program options.so host got obj main.o function boost program_options char run home tgrabiec src osv mgmt httpserver external x64 misc.bin usr include boost program_options detail parsers.hpp 107 undefined reference boost program_options detail cmdline collect2 error returned exit status,,
2172,2dbd8c8bbc1cc1679c1376d7621f99097b56f767,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-02 17:45:25 +0200, , module add openssl module,,
2173,bd09f2c41083212669823e2ab850072f796c5df1,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-02 17:44:41 +0200, , module make java depend libz,,
2174,c6fa1fe29937cb5a6451dd9e172ead4caa394c02,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-02 17:43:39 +0200, , module add libz module needed java openssl,,
2175,60c0e19d73e0c1d8599af51504772ff4deb50b46,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-11 14:56:09 +0200, , libc implement __fread_chk needed rand_load_file openssl,,
2176,03779336861772faeeebb4955cbb713ea42c41ac,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-14 16:13:25 +0200, , httpserver test fix assetion failure testfile.py fix assetion failure message 666 666 permission field string integer,,
2177,9a1acc70aedbbd1d7229ee85cd3e240cf9f01706,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-14 16:04:09 +0200, , httpserver test fix invalid use assert_between method take parameter cause run time error,,
2178,8a0c751c44857216ceff82569041972a3d858c9d,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-14 16:41:11 +0300, , x64 misc.bin update latest library needed openssl signed pekka enberg penberg cloudius systems.com,,
2179,137648cb6d77f61e78399d6e4c4df0d87c2c3096,adav Har'El <nyh@cloudius-systems.com>, 2014-08-14 11:18:01 +0300, , test add benchmark timeslice length patch add test misc timeslice.cc simple benchmark running two cpu hog thread seeing time slice one get i.e. often switch two thread test run linux osv use callibrate choice thyst whatever mechanism use controlling time slice running linux host see using 10ms time slice run osv see 1ms time slice sadly nothing intentional choice scheduler thyst higher 1ms rather cause switching every 1ms unrelated page access scanner thread thread run every 1ms extremely short duration stop running scheduler pick thread least runtime without letting thread running earlier complete time slice thyst advantage taken away stopped running page access scanner disable page access scanner see average timeslice 3.95ms thyst thyst 2_ms expected benchmark suggests change thyst 2_ms 5_ms callibrate time slice cpu hog like linux rethink page access scanner desire run 1000 time second 1000 alternatively woke scanner thread 1000 time second reschedule point could get running 1000 time second already many context switch running fewer time context switch signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2180,32084bbee2a6c5fbbddaf7d28cca7b5def99cf8a,lauber Costa <glommer@cloudius-systems.com>, 2014-08-12 15:10:11 +0400, , page scanner change sharp currently running redis top.py show page scanner eating cpu record see ec2 barely touch 0.5 maybe local cpu slower back patch redis doe use mmap mapping initial mapping happen load elf library initialization tracing access pattern could see two interwined run one would _cpu set 0.1 minimum would set maximum sharp change would definitely explain figure patch try use _cpu instead _max_cpu correction factor next _cpu calculation way even burst scan increase slowly rather drastically scan rate persists high increasing maximum patch trace output look lot smoother page access sca 25.381661111 access_scanner scanned cleared cpu 0.1 page access sca 25.382729839 access_scanner scanned cleared cpu 0.46 page access sca 25.383742419 access_scanner scanned cleared cpu 0.722857 page access sca 25.384820323 access_scanner scanned cleared cpu 0.592506 page access sca 25.385900359 access_scanner scanned cleared cpu 0.239396 cpu usage shown top.py usually averaging around 0.8 signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2181,0e08f2ef7f0f969c21da2d9a4221d78d27ecc2a1,sias He <asias@cloudius-systems.com>, 2014-08-14 12:12:30 +0800, , memory global page buffer pool currently maintain percpu page buffer pool page allocator pool empty full global mutex take refill unfill pool patch introduces global page buffer pool addition percpu page buffer pool pool percpu page buffer pool max refill max unfill pool global page buffer pool max refill max unfill pool need refill unfill move batch page pool pool need refill unfill move batch page global free page list note fast path allocation deallocation require lock atomic operation amortized large number page page exchanged batch currently page global pool percpu thread added pool refill unfill look killing seems better way one option use async run_later interface refill unfill operation block thus blocking task cpu another option use core percpu worker.cc interface block task using per cpu thread approach nr_cpus pool pool additional thread added compared current allocator thread help filling pool aggressively level compared level test used test misc malloc.so stress memory allocation deallocation seq 100 sudo script run.py c16 m16g test misc malloc.so done 100 round test passed tomcat wrk running test http 192.168.122.89 8081 servlet json running test http 192.168.122.89 8081 servlet json round test passed signed asia asia cloudius systems.com signed avi kivity avi cloudius systems.com,,
2182,8978472ecd625210f1ec91589edcdded20939ba1,adav Har'El <nyh@cloudius-systems.com>, 2014-08-13 16:41:51 +0300, , net channel drop packet channel full classifier post_packet net_channel push queue received packet appropriate net channel however push return false meaning channel full neglect check checking push succeeded returning true post_packet anyway basically drop packet bad tcp performance lead remote side reduce transmission rate even worse even drop packet correctly never free dropped mbuf memory leaked patch net channel full post_packet return false lead caller net receiver use normal tcp stack packet tcp stack tcp_input consume packet queued netchannel first new packet reviewed avi kivity avi cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2183,f1c0cbac86ef667509927be967c357aa3e98d6c5,lauber Costa <glommer@cloudius-systems.com>, 2014-08-13 08:51:59 -0400, , test gtod seen gettimeofday pvclock function general show quite heavily profile although course normal expected system lot time operation wanted make sure going anything wasteful wrote simple benchmark attest since seem none far good news quite faster centos guest albeit slower host hard avoid signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2184,182a9e228885ccc734f4106ef35624dcca0b4c8b,lauber Costa <glommer@cloudius-systems.com>, 2014-08-13 08:51:50 -0400, , test test case misc memcpy.so vlad recently hypothesized may lagging behind redis memcpy address redis usually misaligned relative cpu word size adding test case misc memcpy.so signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2185,658992af46155e844bc05613d9797e8dac354e08,adav Har'El <nyh@cloudius-systems.com>, 2014-08-12 14:42:38 +0300, , move function kernel patch trace count.hh purly header file used shared object httpserver.so code tracepoint hit function ended part shared object hit function often run preemption disabled context caused bunch problem one problem already worked around first call might call function first time cause possibly sleeping symbol resolution another bug never solved page shared object might evicted case suddenly hit cause page fault patch move hit implementation line trace count.hh new trace count.cc i.e. kernel code moved inline function line signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2186,9e4ee4469ee5078feac479a4f38e3289020fb3f4,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-12 15:49:08 +0200, , tst seek add test case check seek actually work signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2187,56e14af28df9b25de249ee8dea11ca1bfb6f8109,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-12 15:49:07 +0200, , tst seek convert boost utf signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2188,87c9bae7569b762d9e94f235f1e1fa32ca79db88,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-12 16:15:29 +0200, , trace make trace.py download convert buffer tracefile default signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2189,02602aa644a69db11c312981c336264bedd17ac3,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-12 16:15:28 +0200, , trace fix trace.py download broken signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2190,4a8a2fd2fee76fac7de3a82764678b10ec1ad6eb,leb Natapov <gleb@cloudius-systems.com>, 2014-08-12 16:43:18 +0300, , use file offset msync instead vma address current code erroneously vma address lookup write cache page instead file offset patch fix fix 452 signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2191,1146a63e26af89df1e640b954cff5be46ef6224d,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-08-09 03:35:34 -0300, , vfs move zfs_init vfs switch table vfs_init table automatically calling initialization function installed zfs_init properly called vfs initialization process signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2192,fad233f4dba428d6a80e831cd10c05a1e0d94dd2,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-12 13:08:22 +0200, , trace show thread name list timed output signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2193,49a1f9b49d608c9f892f7b6b9e521eb586bed448,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-12 12:59:22 +0200, , zfs add missing zfs_exit fix something since zfs_exit currently osv one day would like bring back would matter signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2194,3730c3953ca0cbae940f41134f73764ec1abb9d1,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-12 12:57:29 +0200, , trace show thread name trace.py prof applies grouping thread  thread  thread java.so signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2195,bd77b045dd89f886657e929fb144f00124f6f98d,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-08-08 20:48:24 -0300, , gdb rework osv zfs provide better arc data new output gdb osv zfs zfs tunables     zfs_txg_timeout    arc size current size 1493512 target size 1341923840 1279 min target size 167740480 159 max target size 1341923840 1279 arc size breakdown recently used cache size 670961920 639 50.00 frequently used cache size 670961920 639 50.00 arc efficiency cache access total 136422 cache hit ratio 132326 97.00 cache miss ratio 4096 3.00 real hit ratio 132751 97.31 data demand efficiency 99.99 data prefetch efficiency 0.00 cache hit cache list recently used 108539 82.02 frequently used 24212 18.30 recently used ghost 0.00 frequently used ghost 0.00 cache hit data type demand data 127471 96.33 prefetch data 0.00 demand metadata 4855 3.67 prefetch metadata 0.00 cache miss data type demand data 0.20 prefetch data 3998 97.61 demand metadata 2.10 prefetch metadata 0.10 arc hash info total hash element 4103 max hash element 4103 hash collision hash chain signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2196,244fc65701eb4a0096efeb5be0b5fc6534a79947,adav Har'El <nyh@cloudius-systems.com>, 2014-08-12 01:30:58 +0300, , sched add sched_preempt tracepoint commit sched_preempt tracepoint tracepoint still exists used patch different meaning sched_preempt mark case running thread preempted i.e. scheduler switched different thread despite original thread still runnable note every sched_preempt event also sched_switch event practice sched_preempt happen one four basic case running thread wake another thread cpu scheduler decides switch woken thread instead continuing run waker similarly interrupt handler wake thread cpu reschedule scheduler decides switch thread preemption happens example thread wait timer preemption timer expired causing scheduler run notice another thread become one lowest runtime run thread instead running one another cpu woke one cpu thread sent cpu ipi sheduler run decide switch newly woken thread note currently vcpu osv completely idle see 1000 sched_preempt per second expected thread timer wake 1000 time second time woken preempt idle thread runnable time signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2197,4d43597c6cddde190987f33ed239f19717dc29d5,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-11 10:28:15 +0300, , remove obsolete todo.zfs file file updated since may 2013 perhaps time finally remove ... signed pekka enberg penberg cloudius systems.com,,
2198,044cc5e94578de2140526d703f60987f0cc8d5bb,mnon Heiman <amnon@cloudius-systems.com>, 2014-08-08 17:35:09 +0300, , http server returned error message json object using exception indicate error message return body json object patch json helper class translate exception formatted json object reviewed tomasz grabiec tgrabiec gmail.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2199,66c2b27bb13b30defd616f5c2b3b9b6c7e2a7511,ifei Tong <zifeitong@gmail.com>, 2014-08-08 16:45:50 +0800, , app remove application adopt function longer needed use adopt_current thread context instead signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
2200,fa8b7a5d6c6359f0da7faee8f6bb8187e361c9b3,ifei Tong <zifeitong@gmail.com>, 2014-08-08 16:45:49 +0800, , sched adopt application thread context application adopt used access thread thread_local variable via however thread_local variable initialized first use compiler clever enough recognize indirect use variable  properly initialized access particularly deconstructor current_app registered called thread exit shall done initialization cause use_count current_app decreasing thread exit result application pointed current_app deleted patch move call adopt_current thread context thread_local properly initialized app adopt passed via lambda expression wrapping _func signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
2201,e00a1f87f06e0fb8d3fbde33f8b2c0f2dd1f421c,ifei Tong <zifeitong@gmail.com>, 2014-08-08 16:45:48 +0800, , sched remove abandon_current call thread complete application abandon_current call used workaround thread_local deconstruction issue explicitly deconstructing current_app variable longer needed since thread_local deconstruction work previous patch variable deconstructed automatically thread exit signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
2202,cde2a4a29f79a8568d1d27981cdf12039b923eed,ifei Tong <zifeitong@gmail.com>, 2014-08-08 16:45:47 +0800, , test add test pthread tsd related function signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
2203,7358e74e5e05f95f0a424dbababc967528c8377d,ifei Tong <zifeitong@gmail.com>, 2014-08-08 16:45:46 +0800, , pthread call dtors pthread thread specific data use call dtors thread specific data right thread_local variable deconstruction relies pthread task specific data management function work patch also fix 373 signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
2204,34d08e2d700397ab3c23827065086e6f0ff99601,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-08-07 14:27:27 -0300, , libc add mount linux definition mount requires parameter data const change made whenever needed follow signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2205,0d52af5c655f681cc1d2868193f24d3391c8d469,mnon Heiman <amnon@cloudius-systems.com>, 2014-08-11 17:08:37 +0300, , http server add test thread cpu test cpu parameter correct test check cpu idle1 idle thread cpu1 equal signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2206,17f9a61bff18a677d559ad8f6728fa7e2e09e16f,rasad Joshi <prasadjoshi.linux@gmail.com>, 2014-08-11 20:31:40 +0530, , module lua fix build failure building cli image fails following error make mode release image cli make entering directory ... osv module lua src make build luarocks 2.1.2 configure prefix ... osv module lua force config lua include ... osv module lua src lua version 5.2 make entering directory ... osv module lua src gcc wall fpic dlua_compat_all dlua_use_linux shared liblua.so lapi.o ........... gcc lua lua.o liblua.a ldl ledit make leaving directory ... osv module lua src src lua bin lua lua found path may want use flag lua lua suffix see help configure failed make build luarocks 2.1.2 makefile error make leaving directory ... osv module lua patch fix build signed prasad joshi gmail.com signed pekka enberg penberg cloudius systems.com,,
2207,8cb55244b6dc1b3a8a8457b521818a9a9350bd65,rasad Joshi <prasadjoshi.linux@gmail.com>, 2014-08-08 00:25:33 +0530, , zfs fix umount export functionality zfs mount umount allows user mount unmount given dataset zpool export allows user export already imported zfs pool export functionality ensure dataset file system belonging exported pool mounted zfs unmount mount export rely common functionality implemented libzfs give correct list mounted file system libzfs read mount information etc mnttab patch etc mnttab symlink proc mount zfs code bsd specific mechanism find list mount entry specifically bsd different structure called mnttab opposed mntent used linux api getmntent bsd linux assumes different prototype patch introduces new bsd porting function map linux equivalent reviewed raphael carvalho raphaelsc cloudius systems.com reviewed glauber costa glommer cloudius systems.com signed prasad joshi gmail.com signed pekka enberg penberg cloudius systems.com,,
2208,de262cc6d9da2f6f5f3850a4b4764be42771878c,rasad Joshi <prasadjoshi.linux@gmail.com>, 2014-08-08 00:25:32 +0530, , procfs add mount file file proc mount maintains list filesystems currently mounted format data similar standard fstab format reviewed glauber costa glommer cloudius systems.com signed prasad joshi gmail.com signed pekka enberg penberg cloudius systems.com,,
2209,00671abab7078b3020673226b0b85a35f73a3630,rasad Joshi <prasadjoshi.linux@gmail.com>, 2014-08-08 00:25:31 +0530, , libc add special file class implement mnt function well known file like etc mtab etc mnttab proc mount give view mounted file system apis like getmntent setmntent etc simple interface work file however osv doe manage well know file therefore order function work mounted file system information generated memory patch implement new class call mtab_file inherited special_file class allows implement standard file operation patch essential zfs mount unmount export work correctly zfs mechanism mount unmount zfs file system example zfs mount command mount zfs file system zfs unmount command unmounts zfs file system zfs export command export earlier imported pool pool exported file system created mounted must unmounted pool exported therefore zfs need exact view currently mounted file system zfs getmntent function read currently mouted file system reviewed glauber costa glommer cloudius systems.com signed prasad joshi gmail.com signed pekka enberg penberg cloudius systems.com,,
2210,74a0b6ed1230743d61a765d427d7e9a57c281dd6,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-11 10:06:13 +0300, , elf fix sigsegv dynamic table section missing elf object doe dynamic table section throw proper exception _dynamic_tag instead faulting nullptr spotted trying run static elf binary reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2211,08b1d9a3ec2008c4ddcdfad92d6ebdc0450baea0,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-11 11:21:38 +0300, , top.py fix typo fix typo top.py slipped commit 0911e53 httpserver export thread cpu via api spotted nadav signed pekka enberg penberg cloudius systems.com,,
2212,0911e53399b3fec11341e905fad74aa2e9fd7e45,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-11 09:59:09 +0300, , httpserver export thread cpu via api export cpu thread running display top.py example top.py output look like 301 thread cpu idle 100 100 total 398 cpu cpu time name 1.1 0.74 page access sca 264 0.1 0.02 java.so 0.1 0.03 rand_harvestq 266 0.1 0.03 java.so 411 0.1 0.02 java.so 269 0.1 0.02 java.so 239 0.1 0.01 libhttpserver 0.1 0.01 virtio rng 405 0.1 0.00 java.so 408 0.1 0.00 java.so 409 0.1 0.00 java.so 253 0.0 0.43 java.so 254 0.0 0.35 java.so 242 0.0 0.26 java.so 394 0.0 0.13 java.so 271 0.0 0.11 java.so 272 0.0 0.05 java.so 277 0.0 0.04 java.so 275 0.0 0.02 java.so 0.0 0.01 init signed pekka enberg penberg cloudius systems.com,,
2213,d67f213fd98aafe1b634a14857e5cdf548d07305,mnon Heiman <amnon@cloudius-systems.com>, 2014-08-07 09:29:41 +0300, , cloud init change run command model include functionality identical regardless data source make clearer include script command include functionality moved module patch also move load cloud functionality include local init file option read cloud source way possible set image local configuration without attempting call cloud source cloud source option decide handle missing cloud source functionality dropped cloud source introduce put back following option used include module include load cloud ignore missing source true file usr mgmt tmp.yaml remote server 254.1.1.1 path usr data signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2214,e7afc6111a7f4c88b3fdc2d4c6d3df154969119b,mnon Heiman <amnon@cloudius-systems.com>, 2014-08-07 09:29:40 +0300, , cloud init add httpserver module httperver module allows setting httpserver configuration cloud init example set port 4000 allow cross site access httpserver access allow true port 4000 signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2215,41f11d21014b0247a3bb89fc9b41381e9c1631eb,mnon Heiman <amnon@cloudius-systems.com>, 2014-08-07 09:29:39 +0300, , http server add optional configuration file add optional configuration file etc httpserver.conf configuration file yaml formated file optional server configuration read server start configuration priority follow first configuration file second command line parameter taken though common httpserver last default value patch remove default value main leave added last run method signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2216,7be417a52ad03b21e04b7e93aab461e528442ad6,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-11 10:11:35 +0300, , x64 misc.bin openssl library signed pekka enberg penberg cloudius systems.com,,
2217,b22fde7b46f0e461c6af83b157eaa0092e163f73,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-08-10 02:12:29 +0000, , release ec2 add image size option add image size option suggest fs_size_mb build image reviewed dmitry fleytman dmitry daynix.com signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
2218,df283a1997a186b9a5b61ea75ac5cbebcfb33e10,adav Har'El <nyh@cloudius-systems.com>, 2014-08-10 14:36:56 +0300, , top.py also print total idle time cpu guest top.py currently print something like idle first cpu idle second cpu idle patch add another statistic sum cpu idle time idle total 353 number 353 mean 353 strength one cpu idle often useful statistic fully loaded guest want see get near reason print total idle percentage 353 average 353 keep percentage top.py consistent single cpu total cpu start printing type percentage screen confusing signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2219,28c67d8ff41f050770178fbff179e4beb8c91528,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-08 15:20:01 +0200, , runtime make sure halt called abort message printed concurrent abort call call osv halt immediately may result halting nmi delivered cpu middle printing abort message lead silent abort message screen make debugging easier let first aborter call osv halt others spin wait leader halt cpu signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2220,0d2aaf6ea4ece9beb7c6d0dc7ac8500e0a3257e1,adav Har'El <nyh@cloudius-systems.com>, 2014-08-08 23:59:02 +0300, , add freq.py tool show tracepoint frequency running osv guest patch add tool freq.py used outside osv guest find frequency tracepoint done efficiently see doe involve fully enabling logging tracepoint even used tracepoints occur million time second freq.py take guest address port port default 8000 list tracepoints whose frequency display see whole list tracepoints choose run freq.py without parameter except host frequency selected tracepoint number occurances per second averaged second period displayed every second example output three tracepoints guest running memcached memaslap started exercising script freq.py 192.168.122.89 sched_switch mutex_lock memory_malloc showing number event per second refreshing every second sched_switch mutex_lock memory_malloc 2650 4057 265 2274 1298 163 2033 1665 175 3447 6344 343 52782 805701 227800 memaslap started 78631 1068659 304723 84144 1060092 301155 reiterate need enable tracepoints traditional sense e.g. trace ... paramters run.py work ask freq.py count existing tracepoint counted tracepoints counted logged trace log course wish one caveat implementation design rest api session freq.py enables counter kernel never stop counting freq.py asks stop counting careful stopping counter freq.py exit even killed signal still happen e.g. host running freq.py moreover freq.py currently designed support two freq.py run osv guest concurrently code written second concurrent freq.py invocation cancel counter requested first invocation confuse situation fixed easily involve sort reference counting leave follow patch think patch already quite useful signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2221,49995f5f6bc51b0c1a4cc10eea6e5e9e4a25f0c7,adav Har'El <nyh@cloudius-systems.com>, 2014-08-08 23:59:01 +0300, , httpserver add operation counting tracepoints patch add httpserver rest api ability efficiently count number time particular tracepoint reached using osv feature provided previous patch next patch use rest api provide freq.py script efficiently display frequency various tracepoints outside guest patch add three operation trace count tracepoint name post enable disable counting particular tracepoint counting tracepoint enabled time tracepoint reached counter efficiently per cpu incremented counting continues indefinitely counting tracepoint later disabled disabling later renabling counter start zero count similarly enabling already enabled counter also zero counter trace count delete shortcut disabling enabled counter trace count get retrieve count enabled tracepoint counter signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2222,57fbede0dfba9ad6f1904536b6d3e16c03ce4aa4,adav Har'El <nyh@cloudius-systems.com>, 2014-08-08 23:59:00 +0300, , tracepoints make generally useful useful class allows counting number time particular tracepoint occured without enabling tracepoint post processing tracepoint log work setting tracepoint every time reached increment per cpu counter without logging tracepoint process efficient incurs small performance overhead even tracepoints reached million time second logging event post processing would totally unrealistic previously lived tracepoint.cc jni library used implement perf stat command java based shell patch extract class new header file osv trace count.hh use java code next patch intend use class provide tracepoint counting also rest api signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2223,17d9a2db2a60acdbe34fa61b7b3344dd8a81d1ad,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-08 12:06:39 +0200, , vfs stop poll calling close close called file used need stop pollers otherwise epoll_wait attempt calling poll file closed result abort like one socket attempted locked already freed backtrace __assert_fail lockfree mutex unlock 487 epoll_file wait epoll_event int int 1165 epoll_wait 112 210 fix 424 signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2224,69e73dc44251f1b263c951e04d1a310e1876154a,rasad Joshi <prasadjoshi.linux@gmail.com>, 2014-08-08 01:13:18 +0530, , cloud init fix spelling mistake error message observed becuase cloud init fails setup signed prasad joshi gmail.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2225,7cfb7f98f3c8cbf53ed6f87bff3d6229629fb252,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-08 11:23:07 +0300, , revert trace.py optimize unpack reverts commit change break trace extract penberg localhost osv trace extract warning unable find dynamic linker breakpoint function gdb unable debug shared library initializers track explicitly loaded dynamic code sched cpu do_idle entry home penberg osv core sched.cc 388 388 python exception type unpack_from argument must convertible buffer concat saving trace tracefile ... error occurred python command unpack_from argument must convertible buffer concat signed pekka enberg penberg cloudius systems.com,,
2226,71e8c7a52b6794dac8a38e000dbeb2114a1a70fb,adav Har'El <nyh@cloudius-systems.com>, 2014-08-07 22:32:08 +0300, , httpserver fix json boolean formatting json standard specifies boolean value written true false without quote standard far specifying ascii value letter particular case sensitive one write true true synonym true erronenously used true false capital letter python json parser example fails recognize broken json patch fix signed nadav har nyh cloudius systems.com reviewed tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
2227,c077d1fd8efbc007e137262962c8a504bd269eee,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-07 19:35:29 +0200, , trace.py optimize unpack brings small noticable improvement signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2228,862e9e7fd56998c98302b9fb3b7f2cfd54a8185d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-07 19:35:28 +0200, , trace.py optimize split_format improves trace.py command using memoization techinque save computation signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2229,452471e7c212b953dfc99f73b3a686ecdea84fad,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-07 14:01:25 +0300, , libc move _chk variant separate file move _chk variant separate file simplify migration upstream musl signed pekka enberg penberg cloudius systems.com,,
2230,4745b4425cf7cbbc7d58e6393121afe3f8aecea0,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-07 13:53:59 +0300, , libc thread migrate upstream musl migrate identical file libc thread upstream musl signed pekka enberg penberg cloudius systems.com,,
2231,37cd3c455598924818efb26c44fce8536b3ac6e2,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-07 13:52:33 +0300, , libc passwd migrate upstream musl migrate identical file libc passwd upstream musl signed pekka enberg penberg cloudius systems.com,,
2232,ddda9e1e1e684bb2c09c1c07b29a1163023047d5,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-07 13:51:21 +0300, , libc misc migrate upstream musl migrate identical file libc misc upstream musl signed pekka enberg penberg cloudius systems.com,,
2233,826a40a653702faa478c047997744b7d9ae12b06,mnon Heiman <amnon@cloudius-systems.com>, 2014-08-07 11:55:27 +0300, , http server add api return balloon size add api return balloon size test call get http localhost 8000 memory balloon signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2234,ca41cdf1f5b1c827ecfe50794957b4a4390e88c3,mnon Heiman <amnon@cloudius-systems.com>, 2014-08-07 11:55:26 +0300, , jvm_balloon add api get jvm balloon size add api header file return balloon size using separate header file remove dependency header jni reviewed glauber costa glommer cloudius systems.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2235,b9149ab5c48b335edd3e7a723980735c6d83e5de,mnon Heiman <amnon@cloudius-systems.com>, 2014-08-07 12:19:45 +0300, , http server file length missing file api file length missing file api add missing attribute add test verify attribute file api signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2236,683a92df4fd657482af9d1ad690bfe2a489973db,aifeng Gao <gaohaifeng.gao@huawei.com>, 2014-08-07 19:43:18 +0800, , ifconfig dmesg fix mac address format example set mac address osv display using ifconfig dmesg command signed haifeng gao gaohaifeng.gao huawei.com signed pekka enberg penberg cloudius systems.com,,
2237,550c7a52ba62ed213eae922c10c9b06a0d1326e1,mnon Heiman <amnon@cloudius-systems.com>, 2014-08-07 10:48:11 +0300, , http server add recursive operation directory directory deletion support recursive deletion support deleting sub content patch add directory recursive deletion modify directory creation aligned hadoop hdfs make given file non existent parent directory semantics unix mkdir existence directory hierarchy error reviewed tomasz grabiec tgrabiec gmail.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2238,364207701f20e1d326e6d34767f5f12ebbdead22,mnon Heiman <amnon@cloudius-systems.com>, 2014-08-05 10:48:31 +0300, , http server expose ifconfig infromation api add equivalent ifconfig information api network ifconfig return list interface configuration data check specific interface lo0 network ifconfig lo0 interface information return timestamp currently interface single call timestamp assume difference neglegtable api support specific timestamp per interface signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2239,6bfd51a8399f1cf5db7ffa896356f04b1e45133a,mnon Heiman <amnon@cloudius-systems.com>, 2014-08-01 10:52:05 +0300, , http server support optional access control allow origin header gui api placed server useful access control allow origin header set add command line flag option set header server pass configuration request handler flag set request add access control header reviewed tomasz grabiec tgrabiec gmail.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2240,9c9fde5f86794607caa8bd79ecc2888a48ad4d0f,mnon Heiman <amnon@cloudius-systems.com>, 2014-08-01 10:52:04 +0300, , http server add helper function reply add header add helper function reply object add header list header reviewed tomasz grabiec tgrabiec gmail.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2241,408a982f3f2fbd4a3aaddafb60233909eb6b7b83,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-07 09:40:50 +0300, , revert epoll fix lock ordering issue reverts commit fix 448 signed pekka enberg penberg cloudius systems.com,,
2242,3846204866d99a113817889cf5d7d9a0fd9b56a5,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-06 16:50:20 +0200, , core make sched cpu current line dsos line dso accessing thread local variable defined kernel object involves calling program tls_addr may block however lot code assumes current doe block causing abort tst unordered ring mpsc fix 447 reviewed nadav har nyh cloudius systems.com reviewed glauber costa glommer cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2243,05c5560e46bf3bc2713665c4d5e7cb6f2231fda1,adav Har'El <nyh@cloudius-systems.com>, 2014-08-06 16:43:28 +0300, , musl take alphasort scandir musl copy identical trivial change header file inclusion original musl version work probably imported slightly newer version signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2244,8545185f25b89ad59f15332f35d68e9fc9edea7c,adav Har'El <nyh@cloudius-systems.com>, 2014-08-06 13:48:00 +0300, , sched fix exit notifiers mutual exclusion pawel dziepak noticed rcu protection thread exit_notifiers entirely safe copied std function object rcu lock could cause allocation ultimately sleeping patch replaces rcu protection read write lock rwlock code greatly simplified warning deleting function gone run notifier function inside rwlock read lock allowed sleep like rcu solution several thread complete parallel existing rwlock read side slower rcu read side roughly 50ns overhead 50ns slowdown thread exit negligable moreover old rcu using code also included slow code like copying list unnecessary signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2245,10487ba3f82c0507d031be1e4157b55dd9e411e8,laudio Fontana <claudio.fontana@huawei.com>, 2014-08-05 13:40:32 +0200, , build.mk aarch64 switch image uush default ... build system confusion module sorted signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
2246,34c5b4ecd63e449d6e93a40c28f6fe5cf99dcc2f,laudio Fontana <claudio.fontana@huawei.com>, 2014-08-05 13:39:15 +0200, , build.mk aarch64 add nomount cmdline try mount zfs first simplified loader image add comment manually add hello world program since way customize loader image signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
2247,02f2faa53aa2fbc9cbea525c338ace796196e62b,adav Har'El <nyh@cloudius-systems.com>, 2014-08-06 16:38:05 +0300, , musl remove libc errno two file libc errno identical musl use one musl signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2248,5c3594d55d6aa2190c4edf36791f0faace3ad6c4,adav Har'El <nyh@cloudius-systems.com>, 2014-08-06 16:25:25 +0300, , musl get rid stdio file trivial change get rid several file identical musl except trivial change like adding unnecessary header include changing include signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2249,cbd60cd6d499894b39f2349fd9b6f4fc1e8b806a,adav Har'El <nyh@cloudius-systems.com>, 2014-08-06 16:04:12 +0300, , musl remove libc stdio stdio.h remove libc stdio stdio.h unnecessary slightly modified copy include api stdio.h musl stdio stdio.h file either place included stdio.h similar include stdio.h instead signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2250,82855eb2543ed80dd275d57c2a47c2283701fb7d,adav Har'El <nyh@cloudius-systems.com>, 2014-08-06 15:50:00 +0300, , musl stdio file musl libc stdio stdio_ext.h identical include api stdio_ext.h removed ext.c change stdio_ext.h stdio_ext.h removed signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2251,2e23a42527ff353abe9dbf8be038d7827405be94,lauber Costa <glommer@cloudius-systems.com>, 2014-08-06 16:42:45 +0400, , libc add new memory file build signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2252,9e33303969ac26a2c8270c508943b92a838c514e,adav Har'El <nyh@cloudius-systems.com>, 2014-08-06 15:30:07 +0300, , musl clean file libc stdio file added define _gnu_source original musl code supposedly make work together glibc header since longer use glibc header compilation done long time different longer relevant dropped signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2253,9d4790eca1f21d04182c7b41d7ccab6a4d7a752e,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-06 15:33:30 +0300, , libc network migrate upstream musl migrate identical file libc network upstream musl signed pekka enberg penberg cloudius systems.com,,
2254,d2dabb4e1233b8ca3d980c6263544328aaca4566,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-06 15:31:56 +0300, , libc temp migrate upstream musl migrate identical file libc temp upstream musl reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2255,262193d1bcd3feb7f50c5d7c9102f315641eb5ac,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-06 15:28:29 +0300, , libc time migrate upstream musl migrate identical file libc time upstream musl reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2256,e17c7a024700c8aa527965688cc7938a6f218931,lauber Costa <glommer@cloudius-systems.com>, 2014-08-06 16:23:32 +0400, , libc _chk version memset memmove needed check pretty trivial matter ensuring size respected move towards common implementation bringing new function _chk_fail called check fails converting user agree upon approach case abort _chk_fail current behavior consistent existing check signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2257,3d85839d7430248e39376140d7a093b42c03ac7d,adav Har'El <nyh@cloudius-systems.com>, 2014-08-06 15:16:30 +0300, , musl cleanup stdio remove file identical musl original except include stdio.h replaced either stdio.h stdio_impl.h working well stdio.h use unmodified musl file signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2258,181e99646891dec340b6a62e4bc64725cddebd92,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-06 15:07:59 +0300, , merge branch vmxnet3,,
2259,2addcb8d8ba329953efc3fb59531f96aca5d0286,akuya ASADA <syuu@cloudius-systems.com>, 2014-08-06 20:44:04 +0900, , vmxnet3 drop error packet receiver reviewed vlad zolotarov vladz cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2260,60715ea923ce178b207303aac8ba2a14655535da,akuya ASADA <syuu@cloudius-systems.com>, 2014-08-06 20:44:03 +0900, , vmxnet3 switch vmxnet3_rx txqueue enable reviewed vlad zolotarov vladz cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2261,596a7c48f15ccf02343c5534623abdf507f66bf9,akuya ASADA <syuu@cloudius-systems.com>, 2014-08-06 20:44:02 +0900, , vmxnet3 move vmxnet3 method vmxnet3_txqueue reviewed vlad zolotarov vladz cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2262,702df96ac0fedce446edf9d092d3e5cdd6e00d04,akuya ASADA <syuu@cloudius-systems.com>, 2014-08-06 20:44:01 +0900, , vmxnet3 move vmxnet3 method vmxnet3_rxqueue reviewed vlad zolotarov vladz cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2263,20b325fe8240183f31b97ab63e49f4cb2c17bacf,akuya ASADA <syuu@cloudius-systems.com>, 2014-08-06 20:44:00 +0900, , vmxnet3 rename enums reviewed vlad zolotarov vladz cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2264,6e60c26eecf31ccb8f3163a78d171f551c2f314b,akuya ASADA <syuu@cloudius-systems.com>, 2014-08-06 20:43:59 +0900, , vmxnet3 move slice_memory header reviewed vlad zolotarov vladz cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2265,a3042a8527b82e488d71133e379dd52089244042,akuya ASADA <syuu@cloudius-systems.com>, 2014-08-06 20:43:58 +0900, , vmxnet3 implement xmitter reviewed vlad zolotarov vladz cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2266,7880242f7c203ee58bc92279c820f93532313438,akuya ASADA <syuu@cloudius-systems.com>, 2014-08-06 20:43:57 +0900, , xmitter move xmitter_functor driver indipendent header another driver use better move percpu_xmit.hh reviewed vlad zolotarov vladz cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2267,0645b186da1733d8747dd5c538311e7ffc2bd85f,adav Har'El <nyh@cloudius-systems.com>, 2014-08-06 14:52:21 +0300, , musl clean libc math file clean remaining libc math file take musl file modify took slightly different version modified avoid unjustified warning instead modifying musl file avoid error unused variable false maybe uninitialized error added libc build.mk explicit wno error directive warn stop compilation known issue happen known file e.g. maybe uninitialized lgammar_r.c hopefully necessary newer version musl signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
2268,4eb729eaa4a11d5fbb8b5f5d26209b5149097513,vi Kivity <avi@cloudius-systems.com>, 2014-08-05 18:40:27 +0300, , epoll fix lock ordering issue epoll suffers basic lock ordering issue epoll_ctl need protect concurrent add need epoll wide lock held operation also involve polled file lock hand polled file event already holding lock want enqueue epollers need epoll lock protect _activity data structure fix splitting epoll_file f_lock two f_lock used protected epoll_file map used epoll_ctl new _activity_lock used protect _activity rest notification side simplifies lot code prevents race allows fix close path reviewed tomasz grabiec tgrabiec gmail.com signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2269,a15a70657efe49af5572b37f3a52f7b81ca5c19f,adav Har'El <nyh@cloudius-systems.com>, 2014-08-06 13:18:46 +0300, , musl take trigonometric function upstream musl take bunch trigonometric function upstream musl directory dropping copy upstream file identical one file simply taken slightly different version modification reason keep specific version signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
2270,4a61d89df7f33aabc5a55eece16c74cdae71fcfe,vi Kivity <avi@cloudius-systems.com>, 2014-08-06 13:34:13 +0300, , build fix missing include path libc multibyte included file moved upstream musl signed avi kivity avi cloudius systems.com,,
2271,2771234100ebbaf683dcfaa38976f2537f680fdd,adav Har'El <nyh@cloudius-systems.com>, 2014-08-06 13:09:37 +0300, , musl use _gnu_source musl file like math exp10.c define _gnu_source musl file define _gnu_source otherwise get compilation error home nyh osv musl src math exp10.c error _gnu_source redefined werror note always override libc moving source file need musl well signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
2272,999fdfe00433a31f6098b297852da5b4e600c8cd,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-06 11:33:46 +0300, , libc stdlib migrate upstream musl migrate identical file libc stdlib upstream musl signed pekka enberg penberg cloudius systems.com,,
2273,684d1e2eb23e1435f0acb77c4c48a53a5f0bc65d,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-06 11:32:16 +0300, , libc env migrate upstream musl migrate identical file libc env upstream musl signed pekka enberg penberg cloudius systems.com,,
2274,7f6b227084c36581ed1576997d65f43fa91cefad,vi Kivity <avi@cloudius-systems.com>, 2014-08-06 11:53:40 +0300, , build simplify building musl file reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2275,9826e59543abd11971af7b91967d87480f69d620,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-08-06 03:19:44 +0200, , tst async ensure callback fire cancellation test possible main thread manages acquire mutex value proceed set callback acquires mutex happens callback get cancelled therefore fire patch move setting value proceed callback actually fire never prematurely cancelled signed paweå dziepak pdziepak quarnos.org reviewed tomasz grabiec tgrabiec gmail.com signed avi kivity avi cloudius systems.com,,
2276,2d9d6da39d083710593f9785af6a8694ac6e124f,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-06 11:29:50 +0300, , libc unistd migrate upstream musl migrate identical file libc unistd upstream musl signed pekka enberg penberg cloudius systems.com signed avi kivity avi cloudius systems.com,,
2277,768e5e0e5c25dce8905218a69af4458847a0c9e9,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-06 11:28:18 +0300, , libc process migrate upstream musl migrate identical file libc process upstream musl signed pekka enberg penberg cloudius systems.com signed avi kivity avi cloudius systems.com,,
2278,f5f658abaccc5125e466ffd2414fb723c8cc5554,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-06 11:31:35 +0300, , libc multibyte migrate upstream musl migrate identical file libc multibyte upstream musl signed pekka enberg penberg cloudius systems.com signed avi kivity avi cloudius systems.com,,
2279,eb5ba514968c50f2c4ac1e62e4394341476df2aa,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-08-06 03:19:42 +0200, , test add test need test need test least partially executed preemption disabled includes limited using preempt_lock rcu_read_lock sched thread wait_until signed paweå dziepak pdziepak quarnos.org reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
2280,fc210752567cc3fae3e9bdd90db3eec81102456e,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-08-06 03:19:40 +0200, , elf make sure section .note.osv mlock actually exists serious linker fooled creating empty section single .long would enough .long actually valid entry note section readelf reason complain reading file containing signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
2281,fe7f05102e4a722280198b4496188bd739e3ebff,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-08-06 03:19:39 +0200, , mmu fix freeing huge page shm_file _pages shm_file _pages contains huge page allocated shm_file page freed calling memory free_huge_page memory free_page signed paweå dziepak pdziepak quarnos.org reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
2282,2b1f8d5c7f4dbeb580f33f77eec7a0ed5a99b3c4,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-08-06 03:19:38 +0200, , shm access iterator invalidating debug allocator keen point unordered_map erase invalideates iterator thus erase read operation pair done reverse order signed paweå dziepak pdziepak quarnos.org reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
2283,7a42536d3322477b0e21f4d1ed90ceba772ed9cb,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-06 11:12:42 +0300, , include clean osv app.hh header clean osv app.hh header file reorganizing member definition improving api documentation reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2284,1ed6b4b134ed04754377e3ee864f9f087120dc4d,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-06 11:02:55 +0300, , core fix code duplication application run need duplicate code specialized version application run call general one reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2285,722b49775935af998cbfb2f8668eacd8ce498ab2,adav Har'El <nyh@cloudius-systems.com>, 2014-08-06 10:44:11 +0300, , fix error make clean currently make clean print error like bin script osv version.sh file directory problem apps rpm makefile osv_base script osv version.sh passed osv_base current directory changed instead passing pas full path name current directory error message gone signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2286,1ddfd12ea48747674d0122f6f7d8f8d90956b0a5,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-06 10:25:20 +0300, , core simplify application construction need two constructor run function variant pick command name argv use general constructor simplifies application construction code make obvious going reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2287,14c94cb9857455cc02495357280435af267c03a6,adav Har'El <nyh@cloudius-systems.com>, 2014-08-06 01:50:36 +0300, , sched run exit notifiers earlier thread context exit notifiers mechanism call number registered function whenever thread exit patch callback called time thread i.e. time join patch make called complete time immediately thread function end call thread exit callback called exiting thread context callback simplified need called unknown thread unknown stack limitation importantly subsystem could used exit notifiers mechanism need complete one place call app abandon_current complete could exit notifier second uncommitted inherited patch third zifei patch need run destructors thread end joined context thread patch also change mutual exclusion scheme callback list never change boot instead global mutex use rcu mean thread different cpu may exit parallel without causing unnecessary contention callback may sleep run rcu critical section make copy callback list rcu critical section technique fine long support removing thread exit callback currently support tested zifei tong zifeitong gmail.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2288,bb434fd6cc03a32f2ee12308df893861aae7a966,lauber Costa <glommer@cloudius-systems.com>, 2014-08-05 14:12:07 +0400, , upload_manifest forgiving encoding error situation osv may print garbage console particular printing content stream debugging purpose sane case handling build process end hitting trigger point contains garbage fail decode character default encoding ascii patch change error mode python decode method strict default replace mean print something since touching parameter anyway encoding also changed utf reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2289,ab9b758af20c58090624dd547e1f7e3c2a1b56ee,r Cohen <orc@fewbytes.com>, 2014-08-05 17:08:29 +0300,410, libedit reference ncurses library properly fix 410 signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2290,7cb183c9fa4fe48653c3560d8881b14dc0b8e18e,vi Kivity <avi@cloudius-systems.com>, 2014-08-05 15:12:35 +0300, , net drop custom net_channel allocator upon time allocating page much faster allocating half page used custom allocator day fast custom allocator interferes memory debugging signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2291,d4005d12a8237bdd8ae3e3f6bac4f80f8033861c,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-05 08:39:53 +0300, ," libc locale use iconv upstream musl use iconv.c upstream musl clean include path hack added commit 480ce64 libc add include path locale diff version musl version look like penberg localhost osv diff libc locale iconv.c musl src locale iconv.c libc locale iconv.c 2013 24.042750927 0300 musl src locale iconv.c 2014 25.446850394 0300 316,8 316,8   128 totype legacy_chars map map 1023 legacy_chars tomap tomap 1023 128 goto revout  imported copy january 2013 earlier penberg localhost osv git log libc locale iconv.c commit author christoph hellwig hch lst.de date thu jan 2013 0100 import locale support dependency musl musl version git submodule february 2013 signed pekka enberg penberg cloudius systems.com",,
2292,b2b3df133368ec10c51c56fce436b63a5893cb31,r Cohen <orc@fewbytes.com>, 2014-08-05 15:03:50 +0300, , cli remove code reference error message use lua error assert raise error command lua make bit informative prefix filename line number need still want use error assert detail file line number added internally lua using method lual_where patch doe string lookup remove doe internal cli error implementation need detail type error fix 414 signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2293,c8638d5bc21f9a38cfe1ecbb10f6e74b00d4f9e9,rasad Joshi <prasadjoshi.linux@gmail.com>, 2014-08-04 20:35:08 +0530, , vfs remove unnecessary loop reviewed glauber costa glommer cloudius systems.com signed prasad joshi gmail.com signed pekka enberg penberg cloudius systems.com,,
2294,8ae12afed60f15a093b8cc671b12a8510632e796,adav Har'El <nyh@cloudius-systems.com>, 2014-08-05 17:09:28 +0300, , musl cleanup remove two header file remove two header file libc math found musl src math file identical except using double_t instead double signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2295,4fd2c1f865585728db4a36308e49264f799e67f0,vi Kivity <avi@cloudius-systems.com>, 2014-08-05 15:02:42 +0300, , apps update signed avi kivity avi cloudius systems.com,,
2296,564f279f6c012a9d80a2dfc94a81deae8b039724,adav Har'El <nyh@cloudius-systems.com>, 2014-08-05 14:49:32 +0300,438, sched calibrate setpriority match linux behavior setpriority implementation arbitrarily decided map maximal nice value osv priority resulting maximally nice thread getting 5th runtime competing default thread however turn see test misc setpriority.cc linux maximally nice thread actually get 86th runtime competing thread get 5th aligned linux behavior patch change setpriority constant patch test misc setpriority.cc benchmark show near perfect agreement runtime ratio osv linux nice value runtime ratio competing default thread two begin slightly diverge linux get ratio expected osv get ratio  get i.e. doe setting osv priority result thread run time priority thread time reason runtime decay mechanism interaction hysteresis minimum time slice mechanism priority thread run normal time slice determined hysteresis mechanism 4ms thread priority basically run much longer time slice ideally time longer long time slice thread runtime decay get back run longer might expected probably fix future adjusting minimum time slice load machine load like probably need use shorter time slice adjusting decay constant load patch also make java benchmark described issue 438 behave osv like linux linux ratio priority priority thread benchmark 7.5. patch result osv ratio 2.0. patch 7.0 fix 438 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2297,4d2858bcd89bc92afcf14422a78a21fd7ac3dde5,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-05 13:07:38 +0200, , trace adjust prefix changed probably arch trace.hh introduced signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2298,7dc5797353ea820e2fc78f96d334d8b5f24e4bd6,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-05 13:07:20 +0200, , trace use monotonic clock trace sample tracing tool assume timestamps monotonic trace buffer merging relies produce stream sorted timestamps signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2299,93e8ddd200c9c377553989e2d665aab4cd479291,adav Har'El <nyh@cloudius-systems.com>, 2014-08-05 12:49:14 +0300, , test add benchmark calibrating setpriority setpriority implementation arbitrarily decided make nice value mean thread get time runtime competing thread default nice value never verified whether linux actually constant indeed whether logarithmic unit assumed i.e. adding nice value multiplies runtime ratio constant benchmark patch run linux osv measure effect setpriority ratio thread runtime running osv confirms behavior tried get nice value get time runtime running linux indeed show logarithmic behavior nice correspond fold increase runtime actually fold increase benchmark related issue 438 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2300,71bb5b84a94c24ce7449ae3e798a9a10aff9c1e6,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-05 09:07:57 +0300, , revert build.mk pas arch module compilation reverts commit glauber costa writes make image redis memonly fails build failure make hiredis hiredis make static make entering directory home glauber osv clean apps redis memonly upstream redis 3.0.0 beta3 deps hiredis std c99 pedantic fpic fpic wall wstrict prototype wwrite string ggdb x64 net.c error x64 file directory looking history seems introduced indeed reverting restores build normal conflict build.mk,,
2301,c0fb6186aeb0593fbbf9ca7b6f31be94dd654072,laudio Fontana <claudio.fontana@huawei.com>, 2014-08-04 18:02:42 +0200, , aarch64 implement cpuid features_str api signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
2302,f9b2218ff8e652e83f835ee12abff34a50e13129,mitry Fleytman <dmitry@daynix.com>, 2014-08-04 18:34:51 +0300, , release ec2 rely hard coded template ami find suitable ami intead signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
2303,38e361ff64c2c4328d8a90a48e329063305a379d,vi Kivity <avi@cloudius-systems.com>, 2014-08-04 16:43:05 +0300, , epoll fix deadlock socket_file epoll_add normal lock order socket lock file f_lock socket_file epoll_add inverts order fix moving thing around use expected order fix wrk running osv client reviewed tomasz grabiec tgrabiec gmail.com signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2304,1e1be7691e2279cf22ca5a16e1134a1afcc9958f,vi Kivity <avi@cloudius-systems.com>, 2014-08-04 16:44:16 +0300, , epoll improve tracepoints since keep may well emit tracepoints useful file pointer also provide event information reviewed tomasz grabiec tgrabiec gmail.com signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2305,17fd470838628276f04176c26cfdb1e6d40fc250,ifei Tong <zifeitong@gmail.com>, 2014-08-04 22:32:17 +0800, , pthread remove magic number limit pthread tsd key use value 128 instead reviewed nadav har nyh cloudius systems.com signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
2306,eed51c59ac37f64c04ecaf3bb50740f163642eac,vi Kivity <avi@cloudius-systems.com>, 2014-08-04 19:45:44 +0300, , vfs better rcu file deletion instead rcu disposing memory file object rcu dispose object prevents issue accessing destroyed freed object reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2307,ff1476a2859549bb7f9c7a0b945bf541f0731fad,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-08-04 19:06:16 -0300, , vfs fix rename non empty directory opened let say dir1 file1 renamed dir1 non empty directory dir2 would still possible find file file1 path dir1 file1 entry dentry hashtable invalidated patch fix problem keeping list child dentries dentry non empty directory renamed active child invalidated dentry hashtable per dentry lock added deal concurrency testcase added tst rename.cc assert problem indeed gone signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2308,480ce6477487278c5adf9c238056549cfa968db5,akuya ASADA <syuu@cloudius-systems.com>, 2014-08-05 07:43:42 +0900, , libc add include path locale signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2309,c5a3af0ededf978bd682595c493dee149ad18a08,adav Har'El <nyh@cloudius-systems.com>, 2014-08-04 22:12:26 +0300, , fix finite definition include api math.h include api math.h included wrong declaration finitef finite finitel always return int basically boolean floating point number probably commit removed duplicate math.h matter matter compilation fails declaration inconsistent actual definition signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2310,e4165dceb8a5f53ec36efe6e2f8ebcdb8eb8666e,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-04 17:39:11 +0300, ," libc math migrate upstream musl take migrate file trivial diff osv.git note file even compiled osv image change anyway safe diff libc math fmal.c musl src math fmal.c libc math fmal.c 2014 10.214333672 0300 musl src math fmal.c 2014 25.453850373 0300 162,6 162,7  long double fmal long double long double long double  pragma stdc fenv_access long double adj struct int oround 261,6 262,8  need worry double rounding directed rounding mode todo underflow raised correctly example downward rounding fmal 0x1.0000000001p 16000l 0x1.0000000001p 400l 0x1p 16440l  fesetround oround adj r.lo xy.lo diff libc math llrintl.c musl src math llrintl.c libc math llrintl.c 2014 10.215333669 0300 musl src math llrintl.c 2014 25.457850361 0300 18,6 18,7  long long llrintl long double  pragma stdc fenv_access int fetestexcept fe_inexact diff libc math lrintl.c musl src math lrintl.c libc math lrintl.c 2014 10.216333665 0300 musl src math lrintl.c 2014 25.458850358 0300 18,6 18,7  long lrintl long double  pragma stdc fenv_access int fetestexcept fe_inexact diff libc math nearbyint.c musl src math nearbyint.c libc math nearbyint.c 2014 10.217333662 0300 musl src math nearbyint.c 2014 25.459850355 0300 6,6 6,7 double nearbyint double  ifdef fe_inexact pragma stdc fenv_access int fetestexcept fe_inexact diff libc math nearbyintf.c musl src math nearbyintf.c libc math nearbyintf.c 2014 10.217333662 0300 musl src math nearbyintf.c 2014 25.459850355 0300 4,6 4,7 float nearbyintf float  ifdef fe_inexact pragma stdc fenv_access int fetestexcept fe_inexact diff libc math nearbyintl.c musl src math nearbyintl.c libc math nearbyintl.c 2014 10.217333662 0300 musl src math nearbyintl.c 2014 25.459850355 0300 11,6 11,7 long double nearbyintl long double  ifdef fe_inexact pragma stdc fenv_access int fetestexcept fe_inexact reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com",,
2311,a572afd7b89e0098c616b65f9aa3de44db566be3,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-04 17:30:55 +0300, ," libc math migrate upstream musl take migrate libc math file use upstream musl one trivial type change osv.git diff libc math acos.c musl src math acos.c libc math acos.c 2013 23.991751105 0300 musl src math acos.c 2014 25.449850385 0300 51,7 51,7 static double double  double double_t ps0 ps1 ps2 ps3 ps4 ps5 1.0 qs1 qs2 qs3 qs4 return diff libc math acosf.c musl src math acosf.c libc math acosf.c 2013 24.009751042 0300 musl src math acosf.c 2014 25.449850385 0300 25,7 25,7 static float float  float float_t ps0 ps1 ps2 1.0f qs1 return diff libc math asin.c musl src math asin.c libc math asin.c 2013 23.999751077 0300 musl src math asin.c 2014 25.450850382 0300 58,7 58,7 static double double  double double_t ps0 ps1 ps2 ps3 ps4 ps5 1.0 qs1 qs2 qs3 qs4 return diff libc math asinf.c musl src math asinf.c libc math asinf.c 2013 24.025750986 0300 musl src math asinf.c 2014 25.450850382 0300 26,7 26,7 static float float  float float_t ps0 ps1 ps2 1.0f qs1 return diff libc math atan.c musl src math atan.c libc math atan.c 2013 24.006751053 0300 musl src math atan.c 2014 25.450850382 0300 62,7 62,7 double atan double  double double_t uint32_t sign int diff libc math atanf.c musl src math atanf.c libc math atanf.c 2013 24.028750976 0300 musl src math atanf.c 2014 25.450850382 0300 40,7 40,7 float atanf float  float float_t uint32_t sign int diff libc math __cos.c musl src math __cos.c libc math __cos.c 2014 10.209333688 0300 musl src math __cos.c 2014 25.448850388 0300 60,7 60,7 double __cos double double  double double_t   diff libc math __cosdf.c musl src math __cosdf.c libc math __cosdf.c 2014 10.209333688 0300 musl src math __cosdf.c 2014 25.448850388 0300 25,7 25,7 float __cosdf double  double double_t try optimize parallel evaluation __tandf.c  diff libc math erf.c musl src math erf.c libc math erf.c 2013 24.026750982 0300 musl src math erf.c 2014 25.451850379 0300 176,7 176,7 static double erfc1 double  double double_t fabs pa0 pa1 pa2 pa3 pa4 pa5 pa6 186,7 186,8 static double erfc2 uint32_t double  double double_t double 0x3ff40000 1.25 return erfc1 diff libc math erff.c musl src math erff.c libc math erff.c 2013 24.003751062 0300 musl src math erff.c 2014 25.451850379 0300 86,7 86,7 static float erfc1 float  float float_t fabsf pa0 pa1 pa2 pa3 pa4 pa5 pa6 96,7 96,8 static float erfc2 uint32_t float  float float_t float 0x3fa00000 1.25 return erfc1 diff libc math j0.c musl src math j0.c libc math j0.c 2013 24.017751014 0300 musl src math j0.c 2014 25.456850364 0300 263,7 263,7 static double pzero double  const double double double_t uint32_t get_high_word 359,7 359,7 static double qzero double  const double double double_t uint32_t get_high_word diff libc math j0f.c musl src math j0f.c libc math j0f.c 2013 23.996751087 0300 musl src math j0f.c 2014 25.456850364 0300 201,7 201,7 static float pzerof float  const float float float_t uint32_t get_float_word 297,7 297,7 static float qzerof float  const float float float_t uint32_t get_float_word diff libc math j1.c musl src math j1.c libc math j1.c 2013 23.989751112 0300 musl src math j1.c 2014 25.456850364 0300 250,7 250,7 static double pone double  const double double double_t uint32_t get_high_word 346,7 346,7 static double qone double  const double double double_t uint32_t get_high_word diff libc math j1f.c musl src math j1f.c libc math j1f.c 2013 24.000751074 0300 musl src math j1f.c 2014 25.456850364 0300 198,7 198,7 static float ponef float  const float float float_t uint32_t get_float_word 294,7 294,7 static float qonef float  const float float float_t uint32_t get_float_word diff libc math __sin.c musl src math __sin.c libc math __sin.c 2014 10.211333681 0300 musl src math __sin.c 2014 25.449850385 0300 51,7 51,7 double __sin double double int  double double_t   diff libc math __sindf.c musl src math __sindf.c libc math __sindf.c 2014 10.211333681 0300 musl src math __sindf.c 2014 25.449850385 0300 25,7 25,7 float __sindf double  double double_t try optimize parallel evaluation __tandf.c  diff libc math tgamma.c musl src math tgamma.c libc math tgamma.c 2013 24.008751046 0300 musl src math tgamma.c 2014 25.461850349 0300 89,7 89,7 rational function positive static double double  double num den double_t num den int avoid overflow handle large differently reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com",,
2312,7655ef029e374ae70400b07834e759f664fe983e,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-04 17:25:22 +0300, , fix musl submodule url signed pekka enberg penberg cloudius systems.com,,
2313,6741a1daa8f24bc2a5ba72bc9134cb8e3fba46d2,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-04 16:44:47 +0300, , libc math migrate upstream musl signed pekka enberg penberg cloudius systems.com,,
2314,4e8076829f3e8126b967f1d5b51c10b02ff290ba,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-04 16:43:05 +0300, , libc internal remove math.h header file math.h header file broken duplicate include api math.h forgets pull bit alltypes.h defines double_t among others needed migrating libc math source file upstream musl signed pekka enberg penberg cloudius systems.com,,
2315,be56244781fba68fe20193cd419a723d6dc68cac,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-04 16:37:40 +0300, , libc stdio migrate upstream musl signed pekka enberg penberg cloudius systems.com,,
2316,ec8f88e9c3f95eda6a3cfabc48e4d0ff62f1dc85,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-04 16:36:25 +0300, , build.mk include libc stdio directory preparation switching source file musl upstream include libc stdio directory internal header musl need signed pekka enberg penberg cloudius systems.com,,
2317,8aa600ad1a7e1587b3c1eb20aed6abcbbaa34bfd,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-04 16:26:47 +0300, , libc locale migrate upstream musl signed pekka enberg penberg cloudius systems.com,,
2318,c34646d86f5988cd91e2ea2de87bf71e619d5618,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-04 15:58:04 +0300, , libc ctype migrate upstream musl signed pekka enberg penberg cloudius systems.com,,
2319,1a08bf1bf940b00703a362165998bbd989c9900b,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-04 15:57:14 +0300, , libc string migrate upstream musl signed pekka enberg penberg cloudius systems.com,,
2320,37461b3c83292352d2445c330a9683c8adb85cd7,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-01 22:09:31 +0300, , add musl git submodule add submodule musl git tag v0.9.12 initial step moving upstream musl signed pekka enberg penberg cloudius systems.com,,
2321,60fa1e93f0e1e01394cc7bd8bd1e79e34fefbfa9,lauber Costa <glommer@cloudius-systems.com>, 2014-08-04 13:10:57 +0400, , ucontext implement swapcontext function supposed atomically get current context set new one matter calling getcontext setcontext row thread descheduled come back later set register signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2322,aa28ea0fa6d9907a2b7f3b846c34bad2126255ae,vi Kivity <avi@cloudius-systems.com>, 2014-08-04 13:41:17 +0300, , pagecache assume arc buffer virtual address map using debug allocator arc cache virtual address outside map compare using physical address fix total failure conf debug_memory suggested pawel signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2323,4c671c5f1cb5679e56d81141049613eb1962631b,vi Kivity <avi@cloudius-systems.com>, 2014-08-04 13:44:21 +0300, , mgmt update signed avi kivity avi cloudius systems.com,,
2324,247e0c206ebfd16c9d22cf856a727ad95154f1bd,vi Kivity <avi@cloudius-systems.com>, 2014-08-04 13:44:11 +0300, , apps update signed avi kivity avi cloudius systems.com,,
2325,a457708021432cf37933c51e329393ff83e2f00a,lauber Costa <glommer@cloudius-systems.com>, 2014-08-04 13:07:56 +0400, , simple getdtablesize implementation man page say return maximum number file process open really limit tuning equivalent fdmax case signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2326,d579ff3fd78df7a030174c2ae646ab2a8a7a283e,lauber Costa <glommer@cloudius-systems.com>, 2014-08-04 13:05:36 +0400, , libc stub system libc function bin execute command fail fork fails emulate signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2327,27da6a74c26c7fb5bb43c65c83ecf973e16a80d0,adav Har'El <nyh@cloudius-systems.com>, 2014-08-03 14:25:56 +0300, , remove bogus taskq implementation zpool.so two implementation taskq_ function one compiled kernel bsd sys cddl compat opensolaris kern second one compiled libzfs bsd cddl contrib opensolaris lib libzpool common taskq.c latter broken e.g. umem_zalloc function even compile never called cause bug 433 load libzfs.so forget unload another bug tst solaris taskq fails wrong taskq implementation patch drop second broken taskq.c fix 433 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2328,92651c2ab4dd8be871ae2bd8ca55da75d942ee27,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-03 12:54:15 +0200, , app fix osv application never getting destroyed fix 434 app variable never went scope causing shared_ptr remain live tested nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2329,9eace2f5f47759f56d8a553db0d84235663f1d97,adav Har'El <nyh@cloudius-systems.com>, 2014-08-03 14:43:55 +0300, , remove dead code umem.c remove opensolaris umem.c defining memory allocation function use also remove umem.h directory messy code make difficult ... turn two zfs_context.h version one includes umem.h try remove version zfs_context.h compilation break take effort clean mess signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2330,274042211913d20475009a4fbe6104b5e27f3f58,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-01 09:41:28 +0300, , mmu fix mmap fail address space exhausted throw exception find_hole address space exhausted needed supporting map_32bit properly reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2331,1fd141046edf906ce0cdafea64c092cfaed981b3,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-01 21:15:16 +0200, , tst sendfile fix use uninitialized variable client_len passed accept uninitialized resulted erratic einval failure fix removing altogether interested peer address signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2332,6a9dd3577763ebfee7e175b1b355245ceda6822b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-01 21:15:15 +0200, , tst sendfile fail test accept fails otherwise test could pas even though check anything signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2333,4614e38f1e30bbc7f62c6cc33368692b27e24e32,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-01 21:15:14 +0200, , tst sendfile add printout failure signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2334,a5f68586a7b7fcdcea0e2999e67b81622d9da6c4,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-01 21:15:13 +0200, , tst sendfile indent using space signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2335,e15aaced588d2f3cc2c97fc8d6f9b4286eed3ae6,ifei Tong <zifeitong@gmail.com>, 2014-08-01 22:42:22 +0800, , bsd separate network unrelated code net_init strange net_init initialize thing like physmem zfs create function bsd_init initializing network unrelated component reviewed glauber costa glommer cloudius systems.com signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
2336,40bddcfc171567fe8d7c0169c2e046ab2cddaeea,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-08-01 12:20:38 +0200, , api doc cleanup description unifies capitalization first letter first word upper case rest lover case signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2337,63c2a232c0c07b3e690caecbcd5c4c281177460a,ekka Enberg <penberg@cloudius-systems.com>, 2014-08-01 13:24:09 +0300, , merge branch app github.com tgrabiec osv merges terminate http server shutting patch series tomek introduces new application abstraction refactors http server use enables osv stop http server properly shutting fix random crash caused thread still running osv shutting acked nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2338,e61ce5f69766db6af8c882193aa4771547e64ca7,lad Zolotarov <vladz@cloudius-systems.com>, 2014-07-30 21:21:33 +0300, , virtio net call vring add_buf instead vring try actually send frame instead checking going succeed achieves goal optimizes succeesfull sending flow term branching current code would check virtually twice case first call vring second check available buffer vring add_buf vring add_buf kick available buffer going improve latency buffer freeing current code kick right going poll xmit_one_locked worker thread long time signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2339,00599b8a67c09eb7e36ab1ad0da2768f86c26508,lad Zolotarov <vladz@cloudius-systems.com>, 2014-07-30 21:21:32 +0300, , virtio net xmit_one_locked call kick_pending staring poll signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2340,8e89eab22b7ca26be9500ae51e4538b5f260ea97,lad Zolotarov <vladz@cloudius-systems.com>, 2014-07-30 21:21:31 +0300,2, virtio kick fix missed notification follow patch 053bcf8e18539d commit handle issue event_idx_cap supported e.g gce currently support feature event_idx_cap negotiated possible race guest read _used flag updating _avail idx cleared clear flag sleep since _avail idx updated yet guest update _avail idx wake since read old _used _flags value result pending work handled signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2341,d10382b7405597aa5f9adfc0ebf09e72a8d44ad1,lad Zolotarov <vladz@cloudius-systems.com>, 2014-07-30 21:21:30 +0300, , tso descrease maximum aggregation size take header account signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2342,f5698a836da1c36583cd3d3ec354c0626d89522c,lad Zolotarov <vladz@cloudius-systems.com>, 2014-07-30 21:21:29 +0300, , virtio added tracepoints signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2343,d9027ee4aa13188acc9006d4324631b19b06e48f,lad Zolotarov <vladz@cloudius-systems.com>, 2014-07-30 21:21:28 +0300, , tcp_output.cc added tracepoints allowing debug flow follow socket buffer life follow cwin offset unacknowledged data current tcp sequence follow sending sending reason signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2344,81071498999297f7b5cc97ebeed207a7b46ae44e,vi Kivity <avi@cloudius-systems.com>, 2014-07-31 17:50:35 +0300, , trace reduce tracepoint fast path overhead compile tracepoint single nop instruction still overhead fast path since compiler belief calling function belief happens correct since tracepoint enabled compiler must assume side effect calling line function happen register clobbered memory may read written however tracepoint slow path touch memory compiler interested writes buffer affect calling function way pretend calling function calling assembly saving restoring caller saved register note save restore fpu register note case prevent compiler flushing data memory e.g string signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2345,c36ff0411a366f4bd484e5acdc2dc6055f19a17a,lauber Costa <glommer@cloudius-systems.com>, 2014-07-31 16:19:41 +0400, , elf use get_program program context using elf namespaces unmerged together application patch unmerged lead problem problem occurs line like elf get_program some_function called program context called time application context still fully ready point address get_program point another lead crash later course possible squeeze patchsets produce correct result believe code wrong fixed independently pointer program resolution method called instance must refer particular instance instance whoever calling patch fix two user pattern reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2346,3082e79f14339be0737fed55f2d3ab3f8c260983,vi Kivity <avi@cloudius-systems.com>, 2014-07-30 16:12:57 +0300, , epoll real epoll add _activity container hold epoll key seen activity sample epoll_wait woken net channel present complication add _activity rcu read side critical section instead use lock free _activity_ring pas event ring overflow fall back sampling entire set reviewed tomasz grabiec tgrabiec gmail.com signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2347,68e2ca61d8d8bcc041eb118c5f786319e8e7d412,mnon Heiman <amnon@cloudius-systems.com>, 2014-07-31 09:34:32 +0300, , add dependency ifconfig libtools add library dependency ifconfig.so libtools.so problem arises image doe contain api manually added ifconfig.so signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2348,46961c8b0e30edbfacb69ae59016ab105d935c60,lauber Costa <glommer@cloudius-systems.com>, 2014-07-31 13:29:42 +0400, , elf open code s_program make upcoming elf namespaces patch smaller since quite independent open coded user far signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2349,37527c2c5364e6353b9ca1caf887dd2204fd2e70,lazar Leibovich <elazarl@gmail.com>, 2014-07-31 08:24:33 +0300, , init_prio apic never used git log sinit_prio apic find nothing signed elazar leibovich elazarl gmail.com signed pekka enberg penberg cloudius systems.com,,
2350,5e4394a2469f233427ce7b2f4ce547b3fb757ead,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-31 11:35:22 +0300, , merge branch stable v0.11,,
2351,0513cda6d00679bb4f0fec7ae4a1ebeed2c7fbd3,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-31 11:29:34 +0300, , mgmt update latest signed pekka enberg penberg cloudius systems.com,,
2352,684d95827d03a81f5386b203fe6d214ecaf08933,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-31 10:16:12 +0300, , merge branch stable v0.11,,
2353,4afd205d238d313bfa0268bb95a967aed610070b,adav Har'El <nyh@cloudius-systems.com>, 2014-07-30 16:22:52 +0300,425, fix empty path case futimesat linux futimesat specifies glibc note pathname null glibc futimesat wrapper function update time file referred dirfd word pathname null futimesat behaves like futimes work whether given directory support corner case turn openjdk exactly case futimesat null time supporting resulted weird directory message trying change time non directory file since futimes time equivalent newly fixed futimesat null time also implement former function missing calling latter fix 425 lyor please confirm patch also add test case signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2354,5bd3f2b71451b55a98fa787ea3264806b4065605,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-31 09:45:22 +0300, , merge branch stable v0.11,,
2355,9330f5f663590b55600e432601d511532a5c7205,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-07-31 03:17:11 +0200, , memory update memory allocation related comment recent change memory allocation algorithm made comment outdated signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
2356,6869ae4232ccc908eadab4445e1e279fc5169237,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-07-31 03:16:23 +0200, , memory allocate huge page range big enough embarassing obviously possible even largest huge page range big enough blindly taking biggest huge area trying use allocation without size check wrong thing found looking code signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
2357,58f6362a5ce1b5d60656959e7fce6c1932a0fb15,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-07-31 03:17:35 +0200, , memory call on_alloc on_free hook bitmap allocation _bitmap special role custom allocator reason though call on_alloc on_free hook signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
2358,80d06403af2c1d4cd2afa58203d5452913ece69c,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-07-31 03:18:02 +0200, , loader.py get free memory memory free_memory zifei suggested need iterate unallocated page range get amount free memory signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
2359,5df0d65c3b41cb6233575067e9f584499f651c40,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-07-31 03:16:23 +0200, , memory allocate huge page range big enough embarassing obviously possible even largest huge page range big enough blindly taking biggest huge area trying use allocation without size check wrong thing found looking code signed paweå dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
2360,abd3f3ccede201171adfb904a4ff875ba00e0aaf,vi Kivity <avi@cloudius-systems.com>, 2014-07-30 17:59:02 +0300, , apps update asia tomcat benchmark update clean target dmitry fleytman apps tomcat introduce script ec2 test automation apps tomcat fix perfpublisher xml generation tomcat ec2 introduce instance placement parameter apps tomcat ec2 move script jenkins subdir apps netperf add script ec2 testing jenkins glauber costa add basic rpm support kanatsu minoru remove makefile bug kanatsu minroru add readme build use ruby rail nadav har jython add default command line pekka enberg cassandra fix multiple invocation get script add rootfs gitignore cassandra remove start cassandra script tomasz grabiec add wrk module jython adapt module signed avi kivity avi cloudius systems.com,,
2361,973107d13661b0001311c5015f586768453c815e,lauber Costa <glommer@cloudius-systems.com>, 2014-07-30 15:18:05 +0400, , vfs stub lchown already stub chown fchown rpm hit lchown package installation looked detail likely happens installing symlinks signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2362,6bc1e77d9d4627c112c1b3f1774897bcd2586a9a,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-30 14:15:52 +0300, , merge branch stable v0.11,,
2363,dd92edae2d600e8da701fc49c002f1819e9bdf4d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-28 10:32:33 +0200, , test epoll add test epolloneshot signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2364,cdfaac97c74bac33c4963e767d83923c2888314f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-28 10:32:32 +0200, , epoll add support epolloneshot fix 413 signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2365,1c8ed67b0ef94c4f9a5730deadfb16ea8224e180,vi Kivity <avi@cloudius-systems.com>, 2014-07-29 18:55:50 +0300, , rcu hashtable add size empty signed avi kivity avi cloudius systems.com,,
2366,d5538839cd73ecc187fa5b4aea3694078627bc0b,vi Kivity <avi@cloudius-systems.com>, 2014-07-29 18:55:49 +0300, , libc fix __unused name collision __unused used libc unused field also bsd mark unused argument change libc instance resolve include conflict signed avi kivity avi cloudius systems.com,,
2367,6cd8e547fad425e6a0725f0db1e87e8e124d5b35,sias He <asias@cloudius-systems.com>, 2014-07-30 15:30:56 +0800, , timer_task use external lock timer_task internal mutex lock protects various timer_task operation patch change lock reference external lock way instead recursive locking share lock mutex lock test tst async.c modified use new locking scheme signed asia asia cloudius systems.com reviewed tomasz grabiec tgrabiec gmail.com signed avi kivity avi cloudius systems.com,,
2368,d7470e56b54e56c04b61d30a8375cd415ae3a934,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-30 10:14:16 +0300, , fix spinlock busy loop use non atomic test optimize spin_lock busy loop without using atomic operation contended case reduces need inter cpu communication cache line doe need locked every iteration loop improves spinlock performance contended case  running mutex test size mutual exclusion primitive size lockfree mutex size spinlock size rwlock benchmark uncontended single thread lock unlock cycle measuring uncontended lockfree mutex lock unlock measuring uncontended lock unlock measuring uncontended spinlock lock unlock measuring uncontended lock unlock benchmark contended test using contended mutex test lockfree mutex pinned thread   contended mutex test lockfree mutex pinned thread  709 contended mutex test lockfree mutex non pinned thread  672 contended mutex test spinlock pinned thread   contended mutex test spinlock pinned thread  252 contended mutex test spinlock non pinned thread  253 contended mutex test pinned thread  1531 contended mutex test pinned thread  2167 contended mutex test non pinned thread  1432 misc test trylock test using contended mutex test lockfree mutex pinned thread  101 mutual exclusion test using checker_thread contended mutex test lockfree mutex pinned thread 2087 contended mutex test lockfree mutex pinned thread 2956 contended mutex test lockfree mutex non pinned thread 2259 mutex test succeeded  running mutex test size mutual exclusion primitive size lockfree mutex size spinlock size rwlock benchmark uncontended single thread lock unlock cycle measuring uncontended lockfree mutex lock unlock measuring uncontended lock unlock measuring uncontended spinlock lock unlock measuring uncontended lock unlock benchmark contended test using contended mutex test lockfree mutex pinned thread  484 contended mutex test lockfree mutex pinned thread  902 contended mutex test lockfree mutex non pinned thread  592 contended mutex test spinlock pinned thread   contended mutex test spinlock pinned thread   contended mutex test spinlock non pinned thread   contended mutex test pinned thread  1302 contended mutex test pinned thread  1773 contended mutex test non pinned thread  1249 misc test trylock test using contended mutex test lockfree mutex pinned thread   mutual exclusion test using checker_thread contended mutex test lockfree mutex pinned thread 2652 contended mutex test lockfree mutex pinned thread 5129 contended mutex test lockfree mutex non pinned thread 2004 mutex test succeeded signed pekka enberg penberg cloudius systems.com signed avi kivity avi cloudius systems.com,,
2369,a72877419be2925e12a7b6d99bf8cd7e04964a9d,vi Kivity <avi@cloudius-systems.com>, 2014-07-28 13:23:06 +0300, , build parallel build support module pas jobserver fds internal make option submakes module built parallel currently module built serially individual module built parallel signed avi kivity avi cloudius systems.com,,
2370,3ec297da3da7c4b71754aca85446501f862f2b6c,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-07-25 12:52:35 -0300, , zfs automatically import extra pool patch provide osv important functionality multiple zfs pool used system follows zfs linux scheme available pool system imported dataset mounted system initialization process tested locally ec2 detail ec2 test started ec2 instance created new zfs pool comprising two additional non ephemeral disk stopped instance started instance meaning new osv instance checked new zfs pool would automatically available subsequent osv instance signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2371,357080d256d2dffa76b2533df65c51f36b3e5993,adav Har'El <nyh@cloudius-systems.com>, 2014-07-29 22:13:58 +0300, , rwlock prevent construction rwlock_for_ object rwlock_for_read meant interface instanciated private constructor ensure never constructed unfortunately gcc 4.9 bug http gcc.gnu.org bugzilla show_bug.cgi 56429 explicit default constructor always public protection work rwlock_for_ object created obviously crash used patch change default constructor empty constructor doe thing avoids gcc bug signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
2372,a1f2ace1c405e604e061b40a152ef56b87016fe9,adav Har'El <nyh@cloudius-systems.com>, 2014-07-29 14:20:00 +0300, , fix scope_lock usable twice scope asia discovered scope_lock used twice block give compilation error lock name used  existing code attempted solve problem using __counter__ wrongly ... problem preprocessor operator doe concatenation macro expansion literal string __counter__ used numeric counter hoped correctly need pas task another macro two actually detailed explanation solution define concatenate2 macro concatenates two literal argument passed doe macro expansion naively calling concatenate2 _scope_lock __counter__ would result string define concatenate concatenate2 concatenate _scope_lock __counter__ expands concatenate2 _scope_lock actual counter exapnded get actual behaviour need signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
2373,da0d45a653e3438a9c501e321b3064da211de67a,adav Har'El <nyh@cloudius-systems.com>, 2014-07-30 00:52:05 +0300, , add rwlock read lock benchmark test misc mutex patch add test misc mutex measurement rwlock reader lock explain benchmark rwlock showing sad state another benchmark contended mutexes ideally read mostly workload like see quick reader lock excellent scalability one cpu reading bother another cpu reading measure benchmark complete opposite instead read lock cycle taking couple nanosecond measure uncontended read lock cycle 50ns twice slower mutex understandable given rwlock implementation two thread two different cpu want read concurrently lock cycle jump 1800ns reason slowness twofold first need better scalable rwlock implementation second taking given current rwlock implementation translates concurrent read access mutex contention could benefit better performance mutex contended adding spinning mutex dropped 1800 read lock unlock cycle 110 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2374,24a5a7f4c4a79eef55588849389929cbe99cf86b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-24 10:25:04 +0200, , test add test application termination requesting,,
2375,99a9768bb94bd0b658a499d62bb57e216f8d8b9a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-25 15:05:03 +0200, , core integrate osv run osv application osv application model process accurately osv run hence used instead place currently use osv run change move osv run logic osv application make run variant create application user run expected get informed whether application run need change api application thrown launch_error instead aborting caught interested party nice feature propagating detail run application,,
2376,060d19a2f15bd8e99e541c8126d222fd569b4b8b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-24 11:45:53 +0200, , core request termination detached command proceeding shutdown letting command run shut may result page fault due dsos getting unmapped use often case httpserver change make osv trigger termination detached command shuts callback supposed cause application return main timely manner,,
2377,2732d9077df3fe6383bf93b0876e3043bf3fd51a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-24 11:43:28 +0200, , httpserver add termination handler,,
2378,1b889abb5752f1d9c56d038effffe263b639b38b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-24 11:42:46 +0200, , core add application get_command,,
2379,86cab2047c1902342030c85490dbf2a9f8c80087,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-24 11:42:05 +0200, , core sprinkle tracepoints around application management code,,
2380,907760619cb7527afcffc184443285193bf9e7bc,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-24 10:23:10 +0200, , core introduce application get_return_code,,
2381,c3f06d3083277c52d3ac80e9eb42e1330578a5f8,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-24 10:22:39 +0200, , core add support requesting application termination application register many callback want callback executed exactly application termination requested callback registerred termination already requested executed immediately way avoid race callback registration termination,,
2382,10eedeee697e209f56c53eacbf7aff782a572e6b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-24 09:23:10 +0200, , core track current application context need know application current thread belongs expose per application apis like termination callback registreation future could also used decide thread terminated application fall main,,
2383,2c4f23a87863a518b962a08842c03c7d776477aa,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-23 09:36:13 +0200, , core introduce applicaton abstraction introduces abstration osv process called application represents execution single command goal uniform interface managaing process osv class responsible tracking resource associated running application example used track termination callback application register executed application termination requested,,
2384,38fa0c853afd15a0161ea3eca99b1627fc480b5c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-23 09:40:51 +0200, , loader print boot chart command run,,
2385,e77392f71ae333bb27135495343da175332e5c4c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-23 09:39:51 +0200, , loader handle opt_leak command run,,
2386,1313b6a761a41dc20a6077629d63575f2e893f64,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-23 21:45:00 +0200, , loader remove redundant postfix incrementation trick hasted reader actually mean want skip first element fact postfix effect whatsoever,,
2387,53b7f6069f06a12c87fa1b08cd493e3c6cb5775c,mitry Fleytman <dmitry@daynix.com>, 2014-07-29 11:30:08 +0300, , release ec2 introduce aws region zone placement group parameter parameter define created amis instance placement useful performance test instance locality matter signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
2388,4b9078dd138e61838071b398e9f631e7ad67217e,lauber Costa <glommer@cloudius-systems.com>, 2014-07-29 12:58:03 +0400, , httpserver document cmdline explicit signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2389,a72af3cdffbc2d9bac8b24b080fa6b95185e9e1b,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-29 11:04:11 +0300, , routecache remove debugging printout remove following debuggign printout osv boot added commit c9f3702 route cache patch routecache.hh caching route fea9fea9 ffffff reviewed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2390,b721524169e218c1c427aa285d6aa7cb34fe5fca,adav Har'El <nyh@cloudius-systems.com>, 2014-07-27 18:16:52 +0300, , revert make image add new make module compromise people insistance see issue 390 module added default people vigorous insistance module like httpserver essential every image patch doe return make image ... used i.e. module explicitly listed list dependency added image default module added new make module ... behaves like make image doe patch i.e. build image using listed module default module make module httpserver still work anyone want internally patch doe add module list syntax prefix signifies want list exactly without default make module add prefix make image doe i.e. make image equivalent make module signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2391,e4e11c2cd1c13eb36988a0ce482a385d81786739,adav Har'El <nyh@cloudius-systems.com>, 2014-07-28 15:03:56 +0300, , clean test misc mutex.cc test misc mutex.cc includes mutex benchmark test big mess patch clean dead code useless stuff verbose output test includes main part measure size byte mutual exclusion primitive spinlock mutex come byte byte respectively measure single cpu uncontended lock unlock cycle mutex spinlock machine show 25ns 12ns respectively measure lock unlock cycle several thread tight loop requesting lock try thread thread cpu thread cpu mutex significantly slower spinlock spinlock context switch thread time slice mutex context switch lock unlock cycle sleep waiting another thread release lock additional correctness test useful benchmark reviewed dor laor dor cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2392,9712c2d5758f5005492aef9ca42a631a4fe56679,ifei Tong <zifeitong@gmail.com>, 2014-07-28 21:40:54 +0800, , gdb show offset path file mapped vma osv mmap  gdb osv mmap flag none perm none 656 flag fmf perm flag fmf perm flag fmf perm flag fmf perm flag fmf perm flag perm none 1020 flag perm ...  gdb osv mmap flag none perm none 656 flag fmf perm offset 0x00000000 path flag fmf perm offset 0x000a3000 path flag fmf perm offset 0x00000000 path usr lib libgcc_s.so.1 flag fmf perm offset 0x00014000 path usr lib libgcc_s.so.1 flag fmf perm offset 0x00015000 path usr lib libgcc_s.so.1 flag perm none 1020 flag perm ... signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
2393,f45d47fa3ad2722562f4920b656656d684dcd376,ifei Tong <zifeitong@gmail.com>, 2014-07-28 21:40:53 +0800, , gdb fix padding short bit str bits2str length bit char add padding printing field patch fix situation length bit char len none signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
2394,d240749e370b6c6edf3883fcb12c5c8060eeb865,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-28 11:57:02 +0200, , module lua fix build assignment prefix env var effect makefile variable prefix resolved enpty string need put inside eval fix build make image cli ... make entering directory home tgrabiec src osv module lua prefix home tgrabiec src osv module lua build luarocks 2.1.2 configure prefix force config lua include src lua version 5.2 lua interpreter found usr bin lua5.2 ... lua version detected 5.2 looking lua ... lua5.2 found path usr bin checking lua includes ... lua.h found looked src src lua 5.2 src lua5.2 may want use flag lua lua include see help configure failed makefile recipe target build luarocks 2.1.2 makefile failed make build luarocks 2.1.2 makefile error make leaving directory home tgrabiec src osv module lua signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2395,6442cafd35ac4658bf87e2b0dc29f8e9aec3f59f,r Cohen <orc@fewbytes.com>, 2014-07-23 16:24:00 +0300, , lua add lua stdlib available lua module contains many useful utility used cli signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2396,fce06794733fff9f75e8bbf7511a47f6fcbf0dff,r Cohen <orc@fewbytes.com>, 2014-07-23 16:23:59 +0300, , lua install module luarocks replace manual building installation lua module luarocks management system lua module added regular lua executable execute luarocks luarocks library executables excluded image since needed build time signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2397,b9d31ebcb08100f442ebdaf94f8d826f0d9e7606,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-07-22 20:00:44 +0200, , loader get offset list set hook page_range hardcoded value nice make easy break something demonstrated 9202b75 fix 407 signed paweå dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
2398,7c066966af4abd41e36bfd13eee3555c5f71db93,sias He <asias@cloudius-systems.com>, 2014-07-28 16:24:25 +0800, , net leak ifa ip_output backport freebsd commit author glebius glebius freebsd.org date wed jul 2014 0000 several case ip_output obtain reference ifa leak signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2399,8ad9f53c5dbcacf5632ef878ab9cf93b0d860b10,sias He <asias@cloudius-systems.com>, 2014-07-28 16:24:24 +0800, , net remove ifa_ref ifa_free atomic ip_output backport freebsd commit author glebius glebius freebsd.org date tue mar 2014 0000 remove ifa_ref ifa_free atomic ip_output ifaddr already referenced rtentry holding reference rtentry throughout function execution sponsored netflix sponsored nginx inc signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2400,180041cfa69c8c4912e5d152b062a1eb6db8beea,sias He <asias@cloudius-systems.com>, 2014-07-28 16:13:34 +0800, , net remove dead code if.cc backport freebsd commit author melifaro melifaro freebsd.org date tue jan 2014 0000 remove dead code reported coverity coverity cid 1018057 mfc week reviewed signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2401,8a0d9f1efec07bc6a1114a525f5826df4926cf81,sias He <asias@cloudius-systems.com>, 2014-07-28 16:13:33 +0800, , net kill arp_ifinit2 used sys netinet ip_carp.c carp protocol support little chance support future http www.freebsd.org doc en_us.iso8859 book handbook carp.html http www.freebsd.org cgi man.cgi query carp sektion signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2402,d93fd63ffaacad7c1ec5a3563380fab794489653,sias He <asias@cloudius-systems.com>, 2014-07-28 16:13:32 +0800, , net kill lltable_drain freebsd dead code remove signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2403,6af8fe30ed485a5220fe631f9322a12af4e413ec,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-28 11:12:37 +0300, , merge branch route cache nadav writes cover letter series two patch aimed remove routing table locking rwlock mutex currently happens bsd code every time packet set often resulting million lock per second multi threaded scenario also cause contention unscalable rwlock implementation reader must syncrhonize among despite reader first patch replaces call bsd function three place call new function route_cache lookup lookup new function still doe slow lock full lookup point patch twofold verify indeed three place lookup done fast path udp memcached benchmark benchmark may involve code path fixed later lookup take care locking need unlock route calling first patch verifies movement unlock code indeed work expected second patch starting rewrite lookup rcu cache route first looked cache look old slow way first patch add cache experiment memcached udp tomcat tcp patch indeed eliminated lock rwlock mutex coming route lookup every output packet tomek confirms improves tomcat performance performed series experiment using http github.com tgrabiec tomcat bench config load_driver ssh huginn  tomcat ssh muninn src_base home tgrabiec src image_run_dir data tgrabiec  bridge bridge2 tested image master nadav master series nadav hack nadav result throughput name avg stdev min max count master 63892.49 2349.59 59199.80 67261.25 nadav 70142.33 9.8 1975.55 65920.22 73026.45 nadav hack 79104.87 23.8 1246.69 77063.41 80862.42 see series alone brings improvement throughput also look like remainder hack branch also brings improvement probably due arp lock removal signed pekka enberg penberg cloudius systems.com,,
2404,c9f3702c88979323dabaa3bbe08276de42d9e1e8,adav Har'El <nyh@cloudius-systems.com>, 2014-07-20 23:23:11 +0300,2, route cache patch second patch starting rewrite lookup rcu cache route first looked cache look old slow way first patch add cache instead using sophisticated radix tree possibly even bsd super convoluted implementation cache patch linear search netmasks handful route usually two three linear search fast enough signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2405,77a76f65f8ec6fe0f943498685f2f6865e2204b0,adav Har'El <nyh@cloudius-systems.com>, 2014-07-20 23:12:50 +0300,1, route cache patch first patch replaces call bsd function three place call new function route_cache lookup lookup new function still doe slow lock full lookup point patch twofold verify indeed three place lookup done fast path udp memcached tomcat benchmark benchmark may involve code path fixed later lookup take care locking need unlock route calling first patch verifies movement unlock code indeed work expected note patch defines invalidate function nothing ever defines confident direction two patch think pretty straighforward implement call invalidate route change signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2406,87ca0a8a454f1deb19b59bd623778587f2ac0ead,ifei Tong <zifeitong@gmail.com>, 2014-07-25 17:03:51 +0800, , elf get rid zero length vmas fix reviewed nadav har nyh cloudius systems.com signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
2407,2a86b396c72e036a0149e27764432e2ab3046713,mnon Heiman <amnon@cloudius-systems.com>, 2014-07-28 10:40:58 +0300, , unset environment varaible change swagger definition swagger documentation unset api wrong signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2408,31103619976f372c8c406092be2546ddead91f8e,vi Kivity <avi@cloudius-systems.com>, 2014-07-27 18:50:17 +0300, , rcu hashtable fix documentation signed avi kivity avi cloudius systems.com,,
2409,36b0c988f46ff38bc924d61771695b4708fb515c,vi Kivity <avi@cloudius-systems.com>, 2014-07-23 12:45:20 +0300, , rcu hashtable add documenation add doxygen style documentation addition add separate helper owner_find reader_find special case type key equal type data element signed avi kivity avi cloudius systems.com,,
2410,00c9cccaae45fa383e0c00801b5ce5321051cea0,mnon Heiman <amnon@cloudius-systems.com>, 2014-07-23 15:25:46 +0300, , http server add api unset environment variable add api test unset environment variable signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2411,b491665a1ffcb35578a2109186d3a71a7bb508d1,mnon Heiman <amnon@cloudius-systems.com>, 2014-07-23 15:05:15 +0300, , move get interface logic outside ifconfig libtools.lib expose logic getting interface outside ifconfig implementation allows module use implementation hide bsd related detail module  signed avi kivity avi cloudius systems.com,,
2412,3c47984cb7b66813c45c14f48907b4333865680d,mnon Heiman <amnon@cloudius-systems.com>, 2014-07-27 17:25:29 +0300, , libtools added image libtools got module added dependency httpserver model signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2413,09123b5eda152eefe63fc9e4ac524736f9936b5e,mnon Heiman <amnon@cloudius-systems.com>, 2014-07-27 17:30:29 +0300, , driver get_name method const point returning const object name useful make method const patch change hw_driver virtual const std string get_name virtual std string get_name const signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2414,3bf827279791b67a17f9564e10c135560aaacd85,sias He <asias@cloudius-systems.com>, 2014-07-25 15:18:45 +0800, , net get rid unnecessary recursive locking already get sock_lock call sblock everywhere need recursive locking similarly call sock_unlock call sbunlock everywhere signed asia asia cloudius systems.com reviewed tomasz grabiec tgrabiec gmail.com signed avi kivity avi cloudius systems.com,,
2415,abc1fb13cc622dc08f99862dac1d5d6c841f2aa9,sias He <asias@cloudius-systems.com>, 2014-07-25 15:18:44 +0800, , syscall drop sendfile code killing simplifies sblock sbunlock code auditing signed asia asia cloudius systems.com reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
2416,47a5c5386f7abe6ad13767885ad896923acdce6d,sias He <asias@cloudius-systems.com>, 2014-07-25 14:07:36 +0800, , net add fast path arp lookup patch add fast path arpresolve rcu protected arp cache introduced accelerate arpresolve lookup ipv4 address mac address cached hit cache mutexes taken fast path normal slow path time hit fast path case single lookup if_afdata_rlock ifp ifp lle_rlock lle lle_runlock lle saved currently arpresolve return struct llentry lle used ether_output might hit use free take lle lock fast path however ether_output lle used check lle contains lle_ifaddr flag solve issue return is_ifaddr flag instead lle fix 300 signed asia asia cloudius systems.com avi remove debug call signed avi kivity avi cloudius systems.com,,
2417,59bad8a8a3915b3a5765239e5d563f0c46701014,vi Kivity <avi@cloudius-systems.com>, 2014-07-27 14:56:49 +0300, , revert build remove .secondary reverts commit according nadav analisys .secondary fault libstatic thread local.so trying link fixed a4b52857d38 signed avi kivity avi cloudius systems.com,,
2418,b9fa6ff041b0e9150c0ff3bd3fd0c4c3bf529008,vi Kivity <avi@cloudius-systems.com>, 2014-07-23 15:22:37 +0300, , net tcp fix indentation signed avi kivity avi cloudius systems.com,,
2419,f3ff9f60c0f47124944e393d2254a5e6e3760fad,vi Kivity <avi@cloudius-systems.com>, 2014-07-23 15:22:36 +0300, , net tcp remove dead code remove ipv6 tcp signature ipsec support pain add back later impossible maintain modifying code signed avi kivity avi cloudius systems.com,,
2420,de0e07eeceff68c9cf8ff6e21f755747989f888e,vi Kivity <avi@cloudius-systems.com>, 2014-07-23 15:22:35 +0300, , net convert inpcbinfo ipi_lock mutex ipi_lock rwlock expensive complicated reason however everywhere interesting taken write except accept convert ordinary mutex without loss parallelism rw_assert defined asserts converted way avoid triggering latent bug signed avi kivity avi cloudius systems.com,,
2421,4bf38fd717ae3c532d0b166fa3a115217eec981d,vi Kivity <avi@cloudius-systems.com>, 2014-07-23 15:22:34 +0300, , net remove tcp offload support unused unusable virt context signed avi kivity avi cloudius systems.com,,
2422,384f69f1413dec715a7c5dad5aeb484055156374,vi Kivity <avi@cloudius-systems.com>, 2014-07-23 15:22:33 +0300, , net inpcb replace bzero initialization signed avi kivity avi cloudius systems.com,,
2423,55681733f8e697b5ffc61c2f61a9ad15a7621035,vi Kivity <avi@cloudius-systems.com>, 2014-07-23 15:22:32 +0300, , net remove unused field struct inpcb signed avi kivity avi cloudius systems.com,,
2424,ec58e06847d08166490af7d7c89522702e43ffb2,vi Kivity <avi@cloudius-systems.com>, 2014-07-23 15:22:31 +0300, , net simplify inpcb allocation remove inpcbinfo ipi_zone replacing normal new delete reduces indirection make easier modify stack call lost since change functionality desired restored using something like new inpcb ... new inpcb ... fails overflow socket limit signed avi kivity avi cloudius systems.com,,
2425,bbbe1f62b81e5b058214e0ee18a9bb98af34aa5b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-25 20:42:37 +0200, ," test fix tst sigwait.cc observing tst sigwait hanging time time turned culprit concurrent access non atomic variable set one thread read another like   variable neither volatile std atomic compiler legitimately elide subsequent read fact check variable first access lead infinite loop right timing assembly loop 1ec0 mov rax eax 1ec2 test eax eax 1ec4 20ab ... right round baby right round 20ab nopl 0x0 rax rax,1 20b0 jmp 20ab signed tomasz grabiec tgrabiec cloudius systems.com reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com",,
2426,5d906b08d86fb0f23dacd22039b322d4eff41884,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-25 18:44:32 +0200, , test make tst epoll return non zero exit code error signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
2427,9a114c76e5a209f8ef47286c418d4aaa69b9cd48,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-25 18:44:31 +0200, , test add test epoll_ctl concurrent epoll_wait signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
2428,cf0cfa2183df71ecd4cfd8cd96cf5baf5eb004b7,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-25 18:44:30 +0200, , epoll make epoll_wait respect concurrent update fix 331 solution rather workoaround using extra pipe file added poll list interrupt epoll_wait upon update fix needed implement httpserver shutdown signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
2429,83276d261882a4496502797592db133ad5b18ddf,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-25 12:52:49 +0200, , dlfcn fix corruption caused dlclose dlopen return elf program filename null however dlclose always assumed std shared_ptr elf object resulted memory corruption noticed unrelated httpserver change tst dlfcn started hang make check trying lock mutex got corrupted signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2430,dbdd63a94df244b7d62f9c40db9c876df609f6bb,ifei Tong <zifeitong@gmail.com>, 2014-07-23 19:11:31 +0800, , mmu show path offset file mapped vma signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
2431,8fb28d3eaedf0ad632e9c3c1b693dc086bac9dce,lazar Leibovich <elazarl@gmail.com>, 2014-07-23 13:21:41 +0300, , x64 explain rbp rbx set signed elazar leibovich elazarl gmail.com signed pekka enberg penberg cloudius systems.com,,
2432,d72ab0db84b7bf5cb7c2dfd1c13b7dd258f1455e,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-23 12:35:43 +0200, , setup.py use standard ec2 package ubuntu signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2433,57e723d665845eeeba6850ba546b93616408bf19,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-23 12:35:42 +0200, , setup.py backup etc environment override signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2434,bdfee7a28b1c631995cf84c4a3120dd83825de26,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-23 12:35:41 +0200, , setup.py append ec2_home bin path signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2435,e1ca1708d69575eac439ebb5422313cdd0f2f028,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-22 14:42:59 +0200, , script use ec2 tool path ec2_home set even know set script failed tool seem path installing releant package ubuntu sure case fedora signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2436,aa3cfd2a82424335617126c230d52641034ceb5e,mnon Heiman <amnon@cloudius-systems.com>, 2014-07-21 16:11:53 +0300, , http server clean implementation using updated api simplified api implementation simplified series clean implementation align updated api signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2437,262d492b8bddf0fad3aa379243d1fa97102cadd3,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-23 12:49:11 +0300, , merge branch cli port command writes porting command previous shell paused sent currently considering change shell execution environment make easier work specifically implementing feature like cwd patch set modification api utility library update cat command use api add command previous shell signed pekka enberg penberg cloudius systems.com,,
2438,c15963372ca71ef330c935e593fc3c6264230370,r Cohen <orc@fewbytes.com>, 2014-07-23 12:32:38 +0300, , cli add dmesg command signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2439,ed90d694556b08fb689fd94270b19bf25c5bac4c,r Cohen <orc@fewbytes.com>, 2014-07-23 12:32:37 +0300, , cli add command currently simple api support operation yet signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2440,4d8ce9fd5c9e856079f1d46cb571949b740d2543,r Cohen <orc@fewbytes.com>, 2014-07-23 12:32:36 +0300, , cli add mkdir command signed pekka enberg penberg cloudius systems.com,,
2441,df16d6201ca11cfa896e5bcd0ba2febe3db96266,r Cohen <orc@fewbytes.com>, 2014-07-23 12:32:35 +0300, , cli add free command signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2442,b6a35481378ecb0aeb8acd63fa02d64e2c4a4433,r Cohen <orc@fewbytes.com>, 2014-07-23 12:32:34 +0300, , cli add command signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2443,c883b8bef0894bc2a93e8c3b5c13e08a45060d56,r Cohen <orc@fewbytes.com>, 2014-07-23 12:32:33 +0300, , cli add date command signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2444,eb29287ac76171fb5e121c77098a1cef20028614,r Cohen <orc@fewbytes.com>, 2014-07-23 12:32:32 +0300, , cli cat use api retrieve file content signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2445,66d7dc85eb6f815de60b95c0ae4ff80c3b6b4513,r Cohen <orc@fewbytes.com>, 2014-07-23 12:32:31 +0300, , cli multiple modification api utility add function doc made sure url fragment parameter properly escaped enable parameter value string previously array required return status code header request add shorthand assert response code add map function general cli utility signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2446,140a29c0c1072c86fa57593f7efa1ae60bc89dc8,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-07-21 16:08:23 -0300, , vfs log file system unmounts mount let print message file system unmounted signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2447,cfcb8a3c13f7fd62ab69ca526dbddc349c85d604,lazar Leibovich <elazarl@gmail.com>, 2014-07-21 21:07:21 +0300, , x64 replace magic constant variable elf entry point offset signed elazar leibovich elazarl gmail.com signed pekka enberg penberg cloudius systems.com,,
2448,723ce7215c1b474c70646e8e2644cd84e2934e3c,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-07-22 23:56:49 -0300, , random kill function intended load entropy cache file code needed even tree compiled neither intended used future afaic let kill signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2449,343ed1e5fc5f53f430ef6a67359f79edc2b2cd26,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-23 12:31:47 +0300, , merge branch cloud init improvement tomek writes following series add necessary ground needed set ssl key via user data decided split series two independent part speed review cloud init module included image fetch configuration cloud metadata service parse currently ec2 gce cloud supported series also add support pluggable yaml configuration module example series add file module quite useful set content file boot using syntax like file etc file1.txt yoyoyo etc file2.txt  large multi line content old restful command moved new run section signed pekka enberg penberg cloudius systems.com,,
2450,dc5a8105932ca2e5ebaaf7c76fe3ba69bf977611,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-22 17:35:21 +0200, , cloud init clean error handling signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2451,830146797c5259239c6667f36e866674dcdda519,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-22 17:35:20 +0200, , cloud init add support file syntax allows create file guest following syntax file path file  file content path yet another file content signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2452,33b89a7c3ac0ef5e475125fdae07d945abfdd6be,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-22 17:35:19 +0200, , cloud init link achieved fixing placement library gcc command line signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2453,9b1045db8c30c190e55736ecb909a72ce607db6e,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-22 17:35:18 +0200, , cloud init load config cloud user data default ec2 load latest user data gce load user data attribute signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2454,5d2f0e2840c63d710fdbcaa2dfea63ffbafbc7fa,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-22 17:35:17 +0200, , cloud init introduce meta data service abstraction signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2455,5581abb11e6e6e6260f049b63139c75bd76b67c6,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-22 17:35:16 +0200, , cloud init add support pluggable configuration module preparation allowing simple configuration syntax like file etc host localhost 127.0.0.1 current pseudo rest command moved run section preserving functionality run post shutdown signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2456,58b752435eec29653235e63be5d7d2fab9991041,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-22 17:35:15 +0200, , cloud init turn flag standard behavior simplify thing make refactorings easier apparently behavior always want signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2457,e06330dcb665a06402b9719b7b4fe6bb5b7b32bd,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-22 17:35:14 +0200, , cloud init call load method directly simpler call load directly rather fake user config constructing yaml node signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2458,e6ba4441a8f9d3bf88704f1bffa17bc6c6c025d3,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-22 17:35:13 +0200, , cloud init client throw response code 200 response code 200 general considered error http request higher layer interpret alwasy throw higher layer chance making interpretation result example 404 requesting attribute may perfectly fine mean attribute missing want distinguish actual connection error signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2459,870d2d4c8f99498fb9b349ce0dec47ea921fbe05,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-22 17:35:12 +0200, , cloud init client introduce text method getting response content signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2460,b300dc7f7f9585d209dc651d2b1678ae070a2080,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-22 17:35:11 +0200, , cloud init client support setting http header signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2461,6c0079e1cce25d0344336b9e16633e8bc4fe0dda,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-22 17:35:10 +0200, , cloud init client make connection time second default timeout seems long second seems enough ping local meta data service note implementation really seems way set timeout using boost asio sync api author recommends using async api timer achieve make code bloated want stick boost asio choice according research signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2462,65b21aac2df285e43db09aaad74dad3d86dcca06,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-22 17:35:09 +0200, , cloud init run httpserver cloud init need run anything else read configuration anything else since httpserver included run init need make sure cloud init run  signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2463,88f1ee26950a2cd8fb17cea5c2fe7fe6fe4983f4,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-22 17:35:08 +0200, , add utility working exception signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2464,a4c412facd9ba06397a7d992a3d83e7c3eda6990,mnon Heiman <amnon@cloudius-systems.com>, 2014-07-22 19:01:57 +0300, , adding libtools.so library libtools hold code part kernel required tool api first step hold logic lsroute remove kernel signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2465,7ec82f862a594136a1b4de800f4e5a44dc038076,mnon Heiman <amnon@cloudius-systems.com>, 2014-07-22 19:01:56 +0300, , build.mk pas arch module compilation module compilation need arch currently compiled add arc parameter make file module signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2466,c564d3b483fc99462bf9d1f8f210898f51f9b515,ifei Tong <zifeitong@gmail.com>, 2014-07-22 20:30:14 +0800, , build use system gcc header build_env host fix following error running tst async.so tst promise.so due abi change gcc 4.9 failed looking symbol vtable std __future_base _state_base signed zifei tong zifeitong gmail.com signed avi kivity avi cloudius systems.com,,
2467,3b479c15e216ffe56366374a996c48d16ef7e9b5,ifei Tong <zifeitong@gmail.com>, 2014-07-22 20:30:13 +0800, , script add gcc 4.9 support loader.py since abi unordered_map changed gcc 4.9 also remove tailing space signed zifei tong zifeitong gmail.com signed avi kivity avi cloudius systems.com,,
2468,25b2d7809e604651df8d0aef24ba5564f589027f,ifei Tong <zifeitong@gmail.com>, 2014-07-22 20:30:12 +0800, , script add python3 support test framework change use python3 style print function use absolute import enabled default python3 add encode decode string bytearray use python2 explicitly script trace.py since dpkt library python2 tested python 3.4.1 2.7.8 signed zifei tong zifeitong gmail.com signed avi kivity avi cloudius systems.com,,
2469,d36bb127bc0ec8a8578a276bd6a29c00aa4c8f44,ifei Tong <zifeitong@gmail.com>, 2014-07-22 20:30:11 +0800, , httpserver python3 support json2code.py signed zifei tong zifeitong gmail.com signed avi kivity avi cloudius systems.com,,
2470,3f4100686c048e6c99bb39cba401d1c1b015134f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-22 11:33:26 +0200, , core move form osv lockfree lock free data structure signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
2471,ef1d31cd21dfc4a4fddfd704dfcade3d48f5a41c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-22 11:33:25 +0200, , lockfree align stl standard stl emplace construct element place passing argument constructor change make behave signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
2472,7aafb031c3003f569d7bb3390689c3412c0b3c22,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-22 11:33:24 +0200, , bsd ify source file realted entropy harvesting file need converted constructor struct harvest added signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
2473,7d4b21f3b2934515befbb9e229091b93c4594fd7,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-22 11:33:23 +0200, , bsd reorder field struct random_adaptor match initialization order needed make initializers using field designators work converted gcc 4.8 produce error initializers used different order one struct definition signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
2474,3a9bf9fc46a19d23d215669de1c61c41f80b5c08,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-22 11:33:22 +0200, , bsd extract get_clockcycles declaration header signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
2475,ce9488170930d3218fc082a574a8a0cdb24decfd,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-22 11:33:21 +0200, , bsd make hash.h includeable code signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
2476,f0f59599b1635a1cc3e49f5bc1397fa456b416ea,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-21 22:00:33 +0200, , gdb fix osv runqueue python3 signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2477,330d85c2e858fd0f32f7377ce40ea21cd8a87041,sias He <asias@cloudius-systems.com>, 2014-07-21 20:06:46 +0800, , net decrease lock contention within tcp accept case backport freebsd commit author gnn gnn freebsd.org date tue jan 2014 0000 decrease lock contention within tcp accept case removing inp_info lock tcp_usr_accept patch state following advice already code see full disucssion change measured effect 183659 submitted julian charbo related url http bugzilla show_bug.cgi 183659 http base view revision revision 175612 modification made compared original patch osv call sock_lock soisconnected becasue 79005e32 net remove socket lock use protocol layer connection lock instead extra sock_unlock added soisconnected see tomcat bechmark gain help removing inp_info lock signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2478,ee29e97eb44da75aafa2ba535afecfae27f9c7b2,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-21 17:21:01 +0300, , script test.py fix output alignment bump alignment character accommodate long test name fit character signed pekka enberg penberg cloudius systems.com,,
2479,482fa265152de66558ecfe8d17a2212fa03b5a54,lad Zolotarov <vladz@cloudius-systems.com>, 2014-07-20 19:53:06 +0300, , tcp_output maximize lso frame size maximizing lso packet size reduce cpu usage guest improves netperf tcp_stream test performance executed netserver host run osv guest 8gb ram vcpu following margin message size compared origin 33.92 128 36.08 256 57.10 512 111.92 1024 186.63 2048 260.38 4096 214.22 8192 93.80 16384 43.14 32768 13.44 65536 4.76 patch introduces following algorithm previously missing freebsd code based aggregate many byte possible sending unless one condition full window data window greater maximum tso aggregation size data pending 64k clock tick passed since started current tso aggregation signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2480,37ffd7cfec89624e59148cc3fe808293b3f13062,sias He <asias@cloudius-systems.com>, 2014-07-21 15:57:39 +0800, , tcp remove function backport freebsd commit author silby silby freebsd.org date fri may 2014 0000 remove function eight year original concept improve corner case run ephemeral port causing performance problem mechanism limiting number time_wait socket serf purpose end signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2481,fc996a4de5bcabcfea533fbe1022589096a289f1,vi Kivity <avi@cloudius-systems.com>, 2014-07-21 10:38:11 +0300, , net kill inpgroups inpgroups bsd mechanism used group together connection sharing affinity thread cpu enable however dead code hamper development network stack remove signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2482,cfe36971ee019416827379a1f5aebe1d149aa02a,vi Kivity <avi@cloudius-systems.com>, 2014-07-21 16:05:14 +0300, , build fix build release link generation since rule link need forced every build signed avi kivity avi cloudius systems.com,,
2483,d62f7e48f684477246d8a2914479ddd6aace6299,mnon Heiman <amnon@cloudius-systems.com>, 2014-07-21 11:36:25 +0300, , http server implicitly call json formatting json handler api method return json type object patch remove need explicitly call json formatter returning result wrapper return type added autoboxing translate return type json formatted representation set_handler method default return type set return json accept lambda expression return wrapper change possible call const_req req  return osv version  return string translated json string need call formatter anymore need set return type json signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2484,67d436245649c03e762bde6c2c32a0dfca6dca26,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-21 11:17:32 +0300, , revert adding libtools.so library reverts commit break aarch64 build signed pekka enberg penberg cloudius systems.com,,
2485,d410a87cad88aafaef21f7dd7779edc2de5eeceb,mnon Heiman <amnon@cloudius-systems.com>, 2014-07-14 15:41:57 +0300, , http server code generation improve error handling series change somehow cryptic code generation error message meaningful one catch exception print error message current file parsed also try identify missing attribute cause error report missing attribute whereabout signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2486,31a1b59c443ea5a422cae71080be498c7f1d88e8,mnon Heiman <amnon@cloudius-systems.com>, 2014-07-21 09:36:16 +0300, , http server write text file add ability write text file new code write write content file overwrite flag set true file truncated text append calling put file f.txt write overwrite true content hello write hello f.txt overwrite content exist signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2487,049b1a9bb60e8a9d179c11afd0b74601e81b29f3,mnon Heiman <amnon@cloudius-systems.com>, 2014-07-20 17:26:09 +0300, , adding libtools.so library libtools hold code part kernel required tool api first step hold logic lsroute remove kernel reviewed nadav har nyh cloudius systems.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2488,ce7ac4d71a0162d8aa7dc0e6aa7d8d965e3a2d4f,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-21 10:21:22 +0300, , merge branch archlinux build fix,,
2489,c7e0db73cd4a8648b43c8f409c014b30a98830a0,ifei Tong <zifeitong@gmail.com>, 2014-07-21 00:24:50 +0800, , script encode string use buffer python3 string bytearray different patch fix adding usr lib jvm java lib tools.jar ... traceback recent call last file osv script line 192 module main file osv script line 180 main upload osv manifest depends file osv script line 120 upload cpio_send link file osv script line cpio_send s.sendall data typeerror str doe support buffer interface signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
2490,a4b52857d38427c784adeee48a3a513f89fd3450,ifei Tong <zifeitong@gmail.com>, 2014-07-21 00:24:49 +0800, , build fix tst static thread variable.so dependency commit 7a69d0d8 99d80368 introduced test tst static thread variable.so common test lstatic thread variable however make variable inherited prerequisite cause libstatic thread variable.so added dependency resulting error test libstatic thread variable.so file recognized file truncated add private keyword surpass inheritance http www.gnu.org software make manual html_node suppressing reviewed nadav har nyh cloudius systems.com signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
2491,5332d8bb627d8f8e03d027e5937cc9671e2fbfa2,ifei Tong <zifeitong@gmail.com>, 2014-07-21 00:24:48 +0800, , build change libgcc_s.a libgcc.a fix following error gcc 4.9 build_env host osv include api sched.h 125 undefined reference __popcountdi2 reviewed nadav har nyh cloudius systems.com reported minoru kanatsu icc.pot.tyew272 gmail.com signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
2492,0670a4a999ef4bab962ff2ecf1ea0c82bccf7a7f,ifei Tong <zifeitong@gmail.com>, 2014-07-21 00:24:47 +0800, , fix sign compare error fix following error compiling osv archlinux machine gcc 4.9 file included tst unordered ring mpsc.cc error comparison signed unsigned integer expression werror sign compare _idx  error comparison signed unsigned integer expression werror sign compare _idx _ring.rings _idx .pop _element reviewed tomasz grabiec tgrabiec gmail.com signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
2493,93a520b9665193659edd953021b18c394065328f,vi Kivity <avi@cloudius-systems.com>, 2014-07-21 10:15:58 +0300, , build remove .secondary somehow confuses make causing ignore explicit dependency libstatic thread variable.so tst static thread variable.so breaking parallel build signed avi kivity avi cloudius systems.com,,
2494,eb4bb8e01b487a97fae1a0c8c4fb9c7de477d5d9,vi Kivity <avi@cloudius-systems.com>, 2014-07-21 09:56:09 +0300, , merge branch dbg alloc small debug allocator improvement signed avi kivity avi cloudius systems.com,,
2495,a8d47291d3a068a3e7aefe911a0f93d60e28507f,vi Kivity <avi@cloudius-systems.com>, 2014-07-20 15:22:34 +0300, , memory debug allocator helper add helper template defines appropriate new delete operator debug allocator signed avi kivity avi cloudius systems.com,,
2496,f0ecb7febd47f8e484c692960f9dd5c7c91248f1,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-07-20 21:11:12 +0200, , revert revert mempool use new page range allocator reverts commit signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
2497,5aaa788a47c74f010f6758942c919bb8859cb2f9,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-07-20 21:11:11 +0200, , mempool fix _bitmap resize resizing dynamic_bitset memory may freed case safe attempt merge unallocated block since bitmap undefined state instead memory free deferred moment resize done bitmap reinitialized date value _bitmap custom allocator get rid numerous check agains _nobitmap allocation deallocation code signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
2498,aef1ffc197c88d1b0daaa170cf4a2928087efb83,vi Kivity <avi@cloudius-systems.com>, 2014-07-20 15:20:57 +0300, , memory allow using debug allocator parallel standard allocator minor change allowing dbg malloc used parallel malloc allows use free debugging misbehaving type known suspected signed avi kivity avi cloudius systems.com,,
2499,a62a017e4a702db345faf8192ed73920821aedd5,vi Kivity <avi@cloudius-systems.com>, 2014-07-20 15:18:35 +0300, , bsd avoid define malloc possible bsd argument variant malloc instead standard single argument malloc cause problem including standard header along bsd header fix using function overload instead define used code signed avi kivity avi cloudius systems.com,,
2500,760f3710742323f7706774d362a4f93557173d6a,vi Kivity <avi@cloudius-systems.com>, 2014-07-20 19:06:27 +0300, , revert revert net use rcu_hashtable net channel classifier reverts commit 181d26253d5e reverted 181d26253d rcu hashtable fixed 16ab9520eb use rcu_hashtable net channel classifier signed avi kivity avi cloudius systems.com,,
2501,16ab9520ebdac9e3c07c200f920f95f8af2c01a9,vi Kivity <avi@cloudius-systems.com>, 2014-07-20 18:03:41 +0300, , rcu_hashtable fix bad erase erase first shrink hash table needed era element given iterator however element copied shrinking satisfy rcu erase element old table rather new shrunk one effect element removed found using wrk vs. tomcat net channel rcu hashtable patch applied reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
2502,d4d9219f9a04bd318cf887b04d38ec6f7cfdfdaa,vi Kivity <avi@cloudius-systems.com>, 2014-07-20 14:29:14 +0300, , revert build ask nuking old build release reverts commit cause problem non interactive build signed avi kivity avi cloudius systems.com,,
2503,0ff46442658062554221fc22f7bf2225b2f9b4b0,vi Kivity <avi@cloudius-systems.com>, 2014-07-20 13:49:22 +0300, , revert mempool use new page range allocator reverts commit cause assert failure iperf backtrace home vladz work osv external x64 gcc.bin usr include 4.8.2 bit vector.tcc 519 home vladz work osv external x64 gcc.bin usr include 4.8.2 bit stl_vector.h 1024 signed avi kivity avi cloudius systems.com,,
2504,15aebf20b2c17b0e30d34ce0b001aa264ec7577e,vi Kivity <avi@cloudius-systems.com>, 2014-07-20 13:34:16 +0300, , build ask nuking old build release suggested nadav signed avi kivity avi cloudius systems.com,,
2505,b4fcb6b6706377af5295330fa2748ea697c18550,vi Kivity <avi@cloudius-systems.com>, 2014-07-20 11:19:21 +0300, , build regenerate makefiles constantly phoney prepare dir target mean keep regenerating makefiles avoid folding regular target reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
2506,af3cbec05390f611c1a48707af2fda8a6cf30bc9,vi Kivity <avi@cloudius-systems.com>, 2014-07-20 09:40:44 +0300, , improve complexity large allocator paweå dziepak pdziepak quarnos.org patch series improves complexity large allocator large object small log large object small still one fallback make worst case complexity easily improved falling back non contiguous allocation implemented detail allocator described fourth patch series i.e mempool introduce new page range allocator hopefully time stopped spam filter signed avi kivity avi cloudius systems.com,,
2507,9202b754911e59f1c958d1be5d322edad4a4a9ee,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-07-18 03:40:33 +0200, , mempool use new page range allocator signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
2508,7d71116dbec2cab2c84f82ec18b256b53edeb990,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-07-18 03:40:32 +0200, , mempool introduce new page range allocator main goal new page range allocator improve computational complexity achieve currently doubly linked list used list contains area size range huge area i.e large list kept multiset sorted size memroy block size requested allocator get area empty list contains smallest object greater equal ceil log2 list area taken tree huge area still allocator find appropriate area temporary solution search list floor log2 obviously ruin worst case computational complexity algorithm replaced fallback non contiguous implemented memory block freed allocator check merged neighbouring area put resulting area appropriate container quickly find whether neighbouring unallocated area bitmap maintained bit represents one page bit set page allocated moreover unallocated page range contains valid header beginning end pr.size sizeof page_range pointer header signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
2509,62198b9690a4ccaf518937af8e608c2bf2da5bbc,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-07-18 03:40:31 +0200, , mempool remove unused function signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
2510,48f149aff76ccec3a99f329c948495fa55fd5dc7,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-07-18 03:40:30 +0200, , include add function signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
2511,105bdb6f57290d2f333754e1b9b98d3bd4e28cbe,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-07-18 03:40:29 +0200, , include add ilog2 signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
2512,fac05c95136892b9d8a593a1d0d06fd8578cad87,adav Har'El <nyh@cloudius-systems.com>, 2014-07-17 15:06:17 +0300,161, add .secondary build.mk year ago commit removed .secondary statement build.mk unfortunately turn removal caused issue 161 issue 161 describes weird phenomenon first make make clean remove test leaving behind .so fine second make compiles test time leaving behind third make finally recompile test turn known bug hfeature chained rule work make see http www.gnu.org software make manual html_node chained rules.html chained rule create test.so follow two implict rule one second .so chain rule file considered intermediate file deleted superflous make completes deletion seeing first make next time make run make considers whether .so newer without building another thing happens first build dependency file generated used second make suddenly explicitly mention test.o target rule e.g. test.o something.h point make suddenly think test.o intermediate file normal file care need exist hence recompilation second make delete end hence finally everything quite third make adding empty target .secondary tell make intermediate file deleted done make behave second run like would second solves weird recompilation issue understand .secondary dropped first place commit need always remove remake specific file every run definitely .phony need drop .secondary fix 161 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2513,82c7fc03dd3015af125a80b6b616764307237a1b,alle Wilund <calle@cloudius-systems.com>, 2014-07-17 16:24:22 +0200, , httpserver support post request application www form urlencoded add handling post request application www form urlencoded content type actually normal way send parameter post also propagate content data request handler needed handle json structured request i.e prereq jolokia somewhat naive implementation assumes non multipart content smallish propagated memory stream management would proper signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2514,a8edbd9cc2b5adc8f71526cfa46c02a7dda4d44a,lauber Costa <glommer@cloudius-systems.com>, 2014-07-17 18:29:02 +0400, , time function implement utime utime almost time second resolution different signature current time automatically time argument null signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2515,82ace7cf054d6272b19f3aaad5c178c2491ce24b,lauber Costa <glommer@cloudius-systems.com>, 2014-07-17 17:00:03 +0400, , libc implement glibc glob_pattern_p currently glob implemented glob_pattern_p function trivially implemented existing glob machinery since doe tell whether string contains special symbol basically logic is_literal inverted return value value quote parameter also inverted since man page state quote parameter non zero backslashes ignored is_literal ignores useesc zero signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2516,a6645434d7435784b5878cc9e3717cde3d1d6898,lauber Costa <glommer@cloudius-systems.com>, 2014-07-17 14:48:57 +0400, , tst increment tst utimes lutimes functionality signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2517,2fbc65147bd0168add4add43b4119e4098c8e53a,lauber Costa <glommer@cloudius-systems.com>, 2014-07-17 14:48:56 +0400, , test return failure code tst utimes fails tst utimes.so currently always returning relying string mark success failure better reflect return code signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2518,5a4ee01f3fddaf82babb3116e72fd85bf9a3113a,lauber Costa <glommer@cloudius-systems.com>, 2014-07-17 14:48:55 +0400, , implement lutimes code common utimes patch factor utimes do_utimes sys_utimes accept flag paramater implement utimes lutimes based signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2519,48b7efefc8e26ab4b9190dc2cfb1f2d15fae3b1a,lauber Costa <glommer@cloudius-systems.com>, 2014-07-17 14:48:54 +0400, , path lookup allow null pointer name argument name argument contains pointer place string basename many sitations interested information declaring variable clutter allow take null parameter signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2520,2cd909fe95587aefe417916d3c101a6863a8010b,adav Har'El <nyh@cloudius-systems.com>, 2014-07-17 13:21:33 +0300, , bsd change recently changed rwlock api patch remove reader method rwlock use actual number reader question whether replace unsigned reader bool has_readers want unnecessarily reader count method need scalable rwlock implementation actually keep coherent count reader across cpu knowledge whether see example snzi patch also renames rw_rowned rw_has_readers calling has_readers add comment explaining function different rw_owned rw_owned check thread owns write lock rw_has_readers check thread read lock reviewed gleb natapov gleb cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2521,d49a37bb369347cfc0536d18199a412e2210fa8b,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-17 11:30:08 +0300,5, revert tcp_output maximize lso frame size reverts commit raphael report following breakage tst poll.so osv  test tst nway merger.so 0.782 test tst openat.so 0.731 test tst pipe.so 6.840 test tst poll.so osv v0.10 319 g1bdd4a2 eth0 192.168.122.15 running test case ... assertion failed t_flags 0x1000000 data osv bsd sys netinet tcp_timer.cc 438 backtrace __assert_fail 2596324 async timer_task fire async 125 async async_worker run 1587 thread_main_c 3613989 gdb  gdb cli_hlt data osv arch x64 processor.hh 242 data osv arch x64 arch.hh osv halt data osv core power.cc abort fmt fmt entry 0x5c9980 assertion failed data osv runtime.cc 139 __assert_fail expr optimized file optimized line optimized func optimized data osv runtime.cc 145 timer ... data osv bsd sys netinet tcp_timer.cc 438 async timer_task fire entry task ... data osv core async.cc 362 fire task ... data osv core async.cc 227 async async_worker run data osv core async.cc 175 main data osv core sched.cc 915 sched thread_main_c data osv arch x64 arch switch.hh 137 thread_main data osv arch x64 entry.s 113 gdb print t_flags symbol current context gdb frame timer ... data osv bsd sys netinet tcp_timer.cc 438 438 kassert t_flags tf_tso tso disabled gdb print t_flags 992 signed pekka enberg penberg cloudius systems.com,,
2522,1bdd4a21d5e1e35adbc1c6c88054d592f7a52e0e,leb Natapov <gleb@cloudius-systems.com>, 2014-07-17 10:18:17 +0300, , bsd change zfs rwlock implementation use osv rwlock instead mutex gleb explains needed common sense see improvement cassandra unfortunately signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2523,58ba00ec720530ebe976f1ec909a65e4e94e5eda,mnon Heiman <amnon@cloudius-systems.com>, 2014-07-16 15:59:47 +0300, , http server add route api patch add api route table call http localhost 8000 network route return list available route signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2524,902535a0a88e73f5373843da07d6452266bf8f24,lad Zolotarov <vladz@cloudius-systems.com>, 2014-07-15 14:18:30 +0300, , tcp_output maximize lso frame size maximizing lso packet size reduce cpu usage guest improves netperf tcp_stream test performance executed netserver host run osv guest 8gb ram vcpu following margin message size compared origin 30.18 128 31.86 256 59.60 512 97.88 1024 214.14 2048 247.84 4096 208.82 8192 106.49 16384 38.51 32768 12.69 65536 5.01 signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2525,10fda3e607b6dc35f06587ad0f14767093bef74f,lauber Costa <glommer@cloudius-systems.com>, 2014-07-16 18:28:02 +0400, , elf initial implementation getauxval getauxval quite arcane function return characteristic elf loader initial support rpm couple field needed reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2526,5b61c4b459cacdb518bbb74680d1b8239e5d47d3,rasad Joshi <prasadjoshi.linux@gmail.com>, 2014-07-17 08:55:48 +0530, , zfs ioctl tryimport must fail config buf insufficient zfs maintains pool configuration nvlist inside vdev label block device part pool called vdevs vdevs form hierarchical tree like structure vdev label contains information describing physical vdev well vdevs share common top level logical vdev pool imported zfs find appropriate block device read vdev label pool configuration since single vdev maintains information vdevs share common logical vdev refresh configuration information know logical vdevs zfs ioctl try pool import tryimport also return caller complete pool configuration along health information however passed buffer userland insufficient capture config information must fail enomem instructing caller pas larger buffer expected size buffer also passed caller caller refresh_config allocates larger buffer retries ioctl reviewed raphael carvalho raphaelsc cloudius systems.com signed prasad joshi gmail.com signed pekka enberg penberg cloudius systems.com,,
2527,e2d417f845fa374327fa0d7a390af46f19376ed5,rasad Joshi <prasadjoshi.linux@gmail.com>, 2014-07-17 08:55:47 +0530, , zpool fix pool import assert name start number reviewed raphael carvalho raphaelsc cloudius systems.com signed prasad joshi gmail.com signed pekka enberg penberg cloudius systems.com,,
2528,4377f1401db9dd1637d0fcaa49b2fc28a718db06,rasad Joshi <prasadjoshi.linux@gmail.com>, 2014-07-17 08:55:46 +0530, , zfs skip character device zfs pool lookup zfs zpool would created block device passed osv instance patch remove character device lookedup pool change essential since reading console example would block indefinitely signed prasad joshi gmail.com signed pekka enberg penberg cloudius systems.com,,
2529,38d8dd1347cb29c35e904ef02620e9e28e97f534,rasad Joshi <prasadjoshi.linux@gmail.com>, 2014-07-17 08:55:45 +0530, , libzfs disable bsd specific geom_gettree call reviewed raphael carvalho raphaelsc cloudius systems.com signed prasad joshi gmail.com signed pekka enberg penberg cloudius systems.com,,
2530,f7ca153b15b1b7ced2881b3cde515afcc0113501,rasad Joshi <prasadjoshi.linux@gmail.com>, 2014-07-17 08:55:44 +0530, , libzfs define unresolved devid_get function reviewed raphael carvalho raphaelsc cloudius systems.com signed prasad joshi gmail.com signed pekka enberg penberg cloudius systems.com,,
2531,9e8fb661dbc18577f94e6d6006757208d6b7e808,rasad Joshi <prasadjoshi.linux@gmail.com>, 2014-07-17 08:55:43 +0530, , test add openat testcase reviewed nadav har nyh cloudius systems.com signed prasad joshi gmail.com signed pekka enberg penberg cloudius systems.com,,
2532,c6d54cb60e5309a6d057c1a09baf2c9fcf75db63,rasad Joshi <prasadjoshi.linux@gmail.com>, 2014-07-17 08:55:42 +0530, , libc add dirfd api reviewed nadav har nyh cloudius systems.com reviewed raphael carvalho raphaelsc cloudius systems.com signed prasad joshi gmail.com signed pekka enberg penberg cloudius systems.com,,
2533,74c115a469f65a395047438790333368cdfdf86a,rasad Joshi <prasadjoshi.linux@gmail.com>, 2014-07-17 08:55:41 +0530, , add openat systemcall openat system call used open file relative passed directory  reviewed nadav har nyh cloudius systems.com signed prasad joshi gmail.com signed pekka enberg penberg cloudius systems.com,,
2534,87d19ef06acd1bc8fcd95c2caba9403bf8591785,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-07-16 20:55:19 +0200, , random print warning source entropy available introduced purpose checking whether live entropy source registered reviewed nadav har nyh cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2535,3d5fd7475149953275db878350cf465d8568b885,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-16 20:55:18 +0200, , random collect entropy interrupt based freebsd implementation slight modification freebsd collect bit entropy interrupt based interrupt vector number current thread cycle counter collect bit following information interrupt vector number instruction pointer cycle counter reference describe linux linux using following information entropy interrupt vector number instruction pointer cycle counter jiffy counter information hashed linux using unsecure fast hash per cpu pool every interrupt every interrupt second passed feed accumulated hash common entropy pool credit bit entropy performance test performed test laptop netperf iperf result see significant impact performance netperf osv  size size size time throughput byte byte byte sec 6bits sec 65536 16384 16384 10.00 1998.67 65536 16384 16384 10.00 1958.58 65536 16384 16384 10.00 1976.67 65536 16384 16384 10.00 2050.17 65536 16384 16384 10.00 2069.08 avg 2010.63 stdev 42.39  recv send send socket socket message elapsed size size size time throughput byte byte byte sec 6bits sec 65536 16384 16384 10.00 1938.42 65536 16384 16384 10.00 2003.05 65536 16384 16384 10.00 2055.37 65536 16384 16384 10.00 2016.63 65536 16384 16384 10.00 1982.83 avg 1999.26 stdev 38.56 iperf osv grep sum  sum 0.0 10.0 sec 1.85 gbytes 1.58 gbit sec sum 0.0 10.0 sec 1.78 gbytes 1.52 gbit sec sum 0.0 10.1 sec 1.84 gbytes 1.57 gbit sec sum 0.0 10.0 sec 1.77 gbytes 1.51 gbit sec sum 0.0 10.0 sec 1.92 gbytes 1.64 gbit sec sum 0.0 10.0 sec 1.87 gbytes 1.60 gbit sec sum 0.0 10.1 sec 1.78 gbytes 1.52 gbit sec sum 0.0 10.0 sec 1.83 gbytes 1.57 gbit sec sum 0.0 10.0 sec 1.78 gbytes 1.52 gbit sec avg 1.82 gbytes stdev 0.05 gbytes  sum 0.0 10.0 sec 1.85 gbytes 1.59 gbit sec sum 0.0 10.0 sec 1.82 gbytes 1.56 gbit sec sum 0.0 10.0 sec 1.83 gbytes 1.57 gbit sec sum 0.0 10.0 sec 1.82 gbytes 1.56 gbit sec sum 0.0 10.0 sec 2.02 gbytes 1.73 gbit sec sum 0.0 10.0 sec 1.81 gbytes 1.55 gbit sec sum 0.0 10.1 sec 1.80 gbytes 1.53 gbit sec sum 0.0 10.0 sec 1.50 gbytes 1.28 gbit sec sum 0.0 10.0 sec 1.83 gbytes 1.57 gbit sec sum 0.0 10.0 sec 1.89 gbytes 1.61 gbit sec avg 1.82 gbytes stdev 0.12 gbytes signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2536,cf529975bd3648c6649d07556d9f4a03b151b3c1,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-16 20:55:17 +0200, , random make random_harvest non blocking need make non blocking use interrupt context reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2537,5151e939a201a70729d193615a1d8bfa1bb91e47,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-16 20:55:16 +0200, , bsd ify signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2538,f2beb57c62f095ac2aa6e0ea2f81f8d86597d11b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-16 20:55:15 +0200, , test add test signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2539,e2e23ff16c31d00d3176cc94f7c569a45d43f0dd,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-16 20:55:14 +0200, , core introduce supposed efficient multiple producer single consumer non blocking container based per cpu ring signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2540,8b313d1e0bfc2d781d5b0c1043d12c7e2fde6025,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-16 20:55:13 +0200, , ring_spsc introduce emplace method method accepts template functor used construct element place useful storing large object avoid copying cost signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2541,ff2b941d839278b47198b223cf0be8090a892cbb,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-16 20:55:12 +0200, , bsd add missing include random.h reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2542,10c4ee92e39df7a64a3f3a77e31701b5f43a6f45,lauber Costa <glommer@cloudius-systems.com>, 2014-07-16 18:07:49 +0400,395, use canonical arch string uname instead hard coding fix 395 signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2543,89c7afc9da6d2cc390c3fb96ded9722b5f236fc5,lauber Costa <glommer@cloudius-systems.com>, 2014-07-16 18:07:48 +0400, , build export meaningful arch string used osv use x64 linux refer x86_64 drawing distinction arch arch_str later official architecture string uname pov signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2544,5626e3bf14c260696bcd14583b7e1e7d8c3ff2a6,laudio Fontana <claudio.fontana@huawei.com>, 2014-07-16 15:01:23 +0200, , driver pl011 convert reviewed nadav har nyh cloudius systems.com signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
2545,4e2f3f1d89243e51e163427ff047c6a6842fbaf1,laudio Fontana <claudio.fontana@huawei.com>, 2014-07-16 14:52:30 +0200, , aarch64 implement processor tick using virtual counter signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
2546,83217da156f488ba1ddb5e4b9f554be0d15c1111,lauber Costa <glommer@cloudius-systems.com>, 2014-07-16 14:22:53 +0400, , user nitpick getlogin_r nadav corretly noted need erange case signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2547,4218b9c6f3b1174538e54eb2a81ce89082e40a23,mnon Heiman <amnon@cloudius-systems.com>, 2014-07-16 12:36:11 +0300, , remove route gathering logic outside lsroute route gathering logic lsroute used module specifically api hide logic detail foreach function iterate route foreach_route function iterate route call lambda expression function current route detail reviewed nadav har nyh cloudius systems.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2548,1d231e370da3dc2f0abf3eede7be6e0ac99804ae,lauber Costa <glommer@cloudius-systems.com>, 2014-07-16 13:58:17 +0400, , user implement getgrgid currently reentrant version implemented missing non reentrant symbol reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2549,5761cdf5e79138a6209bb72a1f15c7583e8ccd3a,lauber Costa <glommer@cloudius-systems.com>, 2014-07-16 13:47:43 +0400, , user implement user function interested getlogin symbol completeness implementing whole family signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2550,36cce4cbd8375d0b2398c06879150d5f9e994111,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-16 10:24:10 +0300, , test test case lseek add test case lseek check proper error code negative offset reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2551,f7bd2624fff4bab3fc769f615ac18b8594059022,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-16 10:35:46 +0300, , vfs fix lseek boundary case lseek man page say error case einval whence valid resulting file offset would negative beyond end seekable device fix lseek return proper error instead limiting offset zero offset beyond vnode size let underlying filesystem deal  fix hang reading proc self map via osv crash shell reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2552,2138c03fbef3fd3fb5b3c69167c9fecb0b6af9ef,lauber Costa <glommer@cloudius-systems.com>, 2014-07-15 23:33:53 +0400, , pthread implement pthread_rwlock function trivial wrapper around rwlock unfortunately placement trick work allocate rwlock lazy_indirect mechanism also check lock taken write read unlocking one unlock function pthread family exact pthread_mutex implementation including missing attr handling reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2553,8a8c292a7fc6cdb4947220b6bfa6fd5689451ca0,lauber Costa <glommer@cloudius-systems.com>, 2014-07-15 23:38:00 +0400, , libc implement passwd handling function already user handling function others like getpwent endpwent group variant function read entry passwd file emulate easily keeping counter whether return single user group back beginning file function reentrant reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2554,0ffa5e7095f5d5dbd03d6f5d051f1b6776d74843,vi Kivity <avi@cloudius-systems.com>, 2014-07-15 19:11:14 +0300, , libc import if_nametoindex musl needed debug build random boost dependency signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2555,41aa0ae7fc125e6d933772d5f988a1f78c56199c,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-07-15 17:57:22 -0300, , random fix random_harvest visibility source file signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2556,7f0a8dc757a229c1edf4fff24b921f9dda8c31ef,vi Kivity <avi@cloudius-systems.com>, 2014-07-15 18:46:07 +0300, , net avoid tcp_close tcp_do_segment commit 8340e21b58b net close tcp connection within tcp_do_segment removed call tcp_close within tcp_do_segment preparation net channel missed two case tcp_drop call tcp_close cause locking mismatch th_ack th_rst packet received fix calling new function instead set want_close deferred closing seen tomcat workload many 600 connection reviewed tomasz grabiec tgrabiec gmail.com signed avi kivity avi cloudius systems.com,,
2557,1ca4eca3bbeadb4f06e4152024dd23444aa5d41e,adav Har'El <nyh@cloudius-systems.com>, 2014-07-15 17:15:11 +0300,373, test test thread_local support test support thread_local feature support construction use variable correctly test demonstrates neglect run variable destructor thread end test currently fails osv succeeds linux test currently failing added blacklist ignored test still useful test around remember exactly need fixed thread_local support also opened issue 373 bug tracker explain track issue signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2558,faa16ab3dfc82cfdc17fb6225142692439f694dc,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-15 16:16:47 +0200, , bump apps.git pointer signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2559,244a05e248ccd5aba18a0f08c13a5b3f010add02,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-15 17:32:47 +0200, , bsd wire get_cyclecount processor tick currently wired osv clock uptime later trimmed 1ms accurracy bsd tick however supposed provide raw tsc access highest accurracy possible global monotonicity important used entropy harvesting routine quoting manual get_cyclecount function register available modern cpu return value monotonically increasing inside cpu ... amd64 intel processor use tsc register signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2560,577c437f9cba5e25551914f8241ecbf289547fab,lauber Costa <glommer@cloudius-systems.com>, 2014-07-15 19:26:04 +0400, , pthread implement pthread yield trivial wrapper around sched yield reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2561,cfa45b00c3eda245cf8ad3db66884935f939a09c,leb Natapov <gleb@cloudius-systems.com>, 2014-07-15 14:33:56 +0300, , vfs increase vnode refcount vnode_lock lock dentry_alloc v_refcnt protected vnode_lock accessed without holding signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2562,ebbc8293229cad2fbd75117dd1c4460f6ba70bd3,aspal Singh Dhillon <jaspal.iiith@gmail.com>, 2014-07-15 15:58:54 +0530, , test fix tst sendfile.cc fix test expect ebadf bad use std thread allow test compiled run linux move setup part socket bind listen server outside thread signed jaspal singh dhillon jaspal.iiith gmail.com signed pekka enberg penberg cloudius systems.com,,
2563,aacb0149356e1035ee91245575f8d654a4b6c380,aspal Singh Dhillon <jaspal.iiith@gmail.com>, 2014-07-15 15:58:53 +0530, , vfs fix errno sendfile man page sendfile say return following error ebadf input file opened reading output file opened writing einval descriptor valid locked mmap like operation available in_fd sendfile linux return ebadf descriptor valid return einval writing file failed change sendfile behave linux also replace style code using mmu page_size instead pagesize reviewed nadav har nyh cloudius systems.com signed jaspal singh dhillon jaspal.iiith gmail.com signed pekka enberg penberg cloudius systems.com,,
2564,38cf9b830437a1a9c740ab12966152b37b35e1da,lad Zolotarov <vladz@cloudius-systems.com>, 2014-07-13 13:38:38 +0300, , percpu_xmit use proper memory order clear_pending std std need ensure clear_pending reordered _mg.pop poll_until use relaxed ordering clear_pending renamed _mg.pop return false put std std call _mg.pop ensure proper ordering signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2565,cbc32c26639030ef53227ec44e5682e14f94a69e,lauber Costa <glommer@cloudius-systems.com>, 2014-07-11 18:04:52 +0400, , xen blkfront software barrier support code come largely bsd review r252260 modification infrastructure patch filesystem request ask serialization freeze request queue command processed unless hypervisor support serialization present modern xen hypervisor present ec2 tested gleb natapov gleb cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2566,07d0cbd59269264a4898e2133b186affe1971be6,lauber Costa <glommer@cloudius-systems.com>, 2014-07-11 18:04:51 +0400, , xen blkfront quiesce absent flush bsd seems upper layer lack linux also report flush supported barrier different story handled different patch tested gleb natapov gleb cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2567,6d918092cac7cf8072a743dbafa2fe5114a015d6,hlomi Livne <shlomi@cloudius-systems.com>, 2014-07-15 11:57:41 +0300, , test tst poll.cc runned twice test tst poll throw exception second execution tst poll.cc fatal error critical check bind struct sockaddr laddr sizeof laddr failed test left binded socket open cuasing second execution fail bind eaddrinuse address already use reviewed nadav har nyh cloudius systems.com signed shlomi livne shlomi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2568,cd0403b9cdbf46619ddd13eb528eb9e0cb1a5f96,vi Kivity <avi@cloudius-systems.com>, 2014-07-15 11:22:50 +0300, , test run test unsafe cache much faster spinning disk signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2569,fb397549211000bedb0f1732b587eb2afcc7b81e,akuya ASADA <syuu@cloudius-systems.com>, 2014-07-14 02:11:53 +0900,369, ide fix drive availability check nadav explains commit fixed pci offset constant osv suddenly became able mount ide device unfortunately vmware wrongly recognized ide pscsi device resulting two driver trying take vblk0 name causing sys_panic crashed boot see full stack trace issue 369 turn ide device recognition code diligent enough trying recognize device appear actually happened vmware remember physical computer ide controller disk actually plugged virtual counterpart patch add better test existence ide disk vmware longer wrongly see ide disk vmware boot back normal fix 369 reviewed nadav har nyh cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2570,00f152dbde8c03016a4d09a5640fab2a2091a888,aspal Singh Dhillon <jaspal.iiith@gmail.com>, 2014-07-14 19:53:17 +0530, , test add test sendfile battery test sendfile test belong group copy data file file copy data file socket case two sub case arise offset null signed jaspal singh dhillon jaspal.iiith gmail.com signed pekka enberg penberg cloudius systems.com,,
2571,6c23ae883365db744d5067eecb05ab5a516b2043,aspal Singh Dhillon <jaspal.iiith@gmail.com>, 2014-07-14 19:53:16 +0530,273, vfs implement sendfile implementation sendfile using mmap write copy data in_fd out_fd without intermediate assumes mmap succeeds munmap likely succeed ignores return value munmap fix 363 fix 273 reviewed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed jaspal singh dhillon jaspal.iiith gmail.com signed pekka enberg penberg cloudius systems.com,,
2572,eaec3c8913728f202135de28b29604c45ea13688,r Cohen <orc@fewbytes.com>, 2014-07-14 13:19:24 +0300, , cli add hello boilerplate command example signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2573,6152ac67cd47816bc97603d1a960c044c058efb5,r Cohen <orc@fewbytes.com>, 2014-07-14 13:19:23 +0300, , cli refactoring command structure small needed refactoring hopefully cli gain attention upstream refactor command structure match lua suggested module structure change run method name main signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2574,5e4315ca6563fb01e62b09037f95746343f45727,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-14 17:58:10 +0300, , ec2 simulator add metadata api cassandra autoconfig add metadata apis needed cassandra ec2 cluster auto configuration service called datastax reflector reviewed tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
2575,bdbf056a0a57c1f29169d1bd081208a0f07e750a,vi Kivity <avi@cloudius-systems.com>, 2014-07-15 10:51:48 +0300, , test reduce rcu hashtable test running time signed avi kivity avi cloudius systems.com,,
2576,2a493451b41d86ade0007181d7e27a5c800c0c7f,vi Kivity <avi@cloudius-systems.com>, 2014-07-15 10:44:06 +0300, , test fix tst dlfcn info.dli_sname null account suggested nadav signed avi kivity avi cloudius systems.com,,
2577,6c4135eeaeb1a6865f28d73b979f43c6471757e1,vi Kivity <avi@cloudius-systems.com>, 2014-07-14 17:18:46 +0300, , build teach osv version.sh pick random tag otherwise build blow regex match signed avi kivity avi cloudius systems.com signed avi kivity avi cloudius systems.com,,
2578,053bcf8e18539d42719a2da0738ab7029a1f9a1c,vi Kivity <avi@cloudius-systems.com>, 2014-07-14 16:26:53 +0300, , virtio fix missed notification virtio vring kick read avail_event written host order see need notify host last write however processor may speculate read moving avail_idx write virtio vring add_buf case see stale value insert memory fence order ensure read fresh value fix throughput issue request repsonse benchmark esp netperf tcp_rr fixed 383 reviewed dor laor dor cloudius systems.com reviewed vlad zolotarov vladz cloudius systems.com signed avi kivity avi cloudius systems.com,,
2579,b548b0ef8400b00ccb89ac620a60de0c6bfb8daf,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-14 15:17:27 +0200, , script add ec2 metadata service simulator run like sudo script ec2 simulator.py tool start http server reached via standard cloud meta data service 169.254.169.254 need modify nat rule insert address need run sudo set user data via command line argument sudo script ec2 simulator.py user data.yaml signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2580,d8905d350500d3f4a2c4cb73e8c90d13b74e1d79,mnon Heiman <amnon@cloudius-systems.com>, 2014-07-13 15:38:25 +0300, , http server testing adding test thread api test check thread api timestamp progress thread idle time cpu_ms counter progress test call thread api twice time difference look idle thread check cpu_ms changed reviewed nadav har nyh cloudius systems.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2581,75d651cc528b80f1d22d8e11fc07600b9f2d79c5,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-14 10:40:33 +0200, , httpserver fix rule swagger path wrong fix 384 signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2582,181d26253d5ed92306a7cda85be8fe4fbe89972f,vi Kivity <avi@cloudius-systems.com>, 2014-07-14 11:31:05 +0300, , revert net use rcu_hashtable net channel classifier reverts commit cause regression everywhere signed avi kivity avi cloudius systems.com,,
2583,fc7f1f72ec07ecfa42b3ef8bd5af9c988bbe5c63,vi Kivity <avi@cloudius-systems.com>, 2014-07-13 18:00:31 +0300, , sched fix allocation interruptible wait_until wait_until interruptible throw exception interrupt runtime allocates memory need enable preemption happens found leak netperf though directly related reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2584,2b8f915f530b01a206118075fcba1a6dc4b0ee68,adav Har'El <nyh@cloudius-systems.com>, 2014-07-14 10:33:41 +0300, , add missing backtrace line explained issue 380 often backtrace result bogus one problem often function crash happened missing backtrace turn print_backtrace function always assumed ignore two frame abort call abort aborted however abort message called directly often case unnecessarily ignored one interesting frame patch ignore first frame abort const char later ignore abort frame one note still bogus backtrace problem partial solution signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2585,d71ee09b07fe91a65ac9c92ce0b2f580ebfc7b28,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-14 09:25:35 +0200, , timer set make assertion expire verbose help bit diagnosing happening assertion fails signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2586,ae6677fe056e1e173cda7b94055832f5f14fd644,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-07-11 03:53:21 -0300, , mkfs automatic detection insertion additional vblk device mkfs code changed detect additional vblk device insert vblk device argument list pool creation signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2587,2b2859f29f8d3662f825ab36599767f0021ab7f9,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-07-11 03:53:20 -0300, , zfs fix spa import procedure multi vdev pool patch fixing bug using zfs pool single vdev i.e blk device word allow use zfs pool multiple device even add device existent pool fly root osv specific function limited single vdev therefore spa_root_vdev structure keeping root vdev information would aware additional vdevs available underlying pool problem happens asks spa_root_vdev additional vdevs doe using function vdev_lookup_top intended return requested vdev spa_root_vdev however return null spa_root_vdev aware requested vdev consequently null dereference always happen using pool one vdev example page fault outside application addr backtrace ... 2427 ... investigation discovered fixed generate proper information vdevs associated pool imported solution use freebsd specific procedure importing root pool vdev child information properly added spa namespace pool single vdev start working expected reviewed glauber costa glommer cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2588,1302d981b2d9d101ef2e3a607192ae18df986acf,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-07-11 22:41:23 -0300, , random init deinit live entropy source function intended initialize uninitialize live entropy source called role initialize destroy static global mutex respectively therefore would say lack call prevented csprng functionality working desired freebsd relies sys_init sysuninit get function called respectively osv let simply remove static modifier properly called outside reviewed nadav har nyh cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2589,c4ee9760cc69e2d6718f7d5b3cf99e4450eda332,akuya ASADA <syuu@cloudius-systems.com>, 2014-07-11 08:10:30 +0900, , ahci use pci classcode probe function signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2590,154ae715e629b61cc2b8f238cd56d1f34c61e085,akuya ASADA <syuu@cloudius-systems.com>, 2014-07-11 08:10:29 +0900, , pci add ahci classcodes signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2591,b4ce8de2d8398c2b6d43ea6535c5e28451cb7cca,akuya ASADA <syuu@cloudius-systems.com>, 2014-07-13 09:59:46 +0900, , vga use pci classcode probe function signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2592,92ed65ed03a51c0677a2c2bda50da3243bd8e86f,akuya ASADA <syuu@cloudius-systems.com>, 2014-07-13 09:59:45 +0900, , pci add vga classcode reviewed nadav har nyh cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2593,6cd7c12b76902e1ae2382d315f1c4a54c9ac4085,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-10 15:28:47 +0300, , elf make lookup_addr respect symbol size make lookup_addr check addr within bound best symbol symbol found clean backtraces following obviously bogus symbol large offset backtrace mmu jvm_balloon_vma split unsigned long 367 mmu vm_fault unsigned long exception_frame 146 page_fault 105 ex_pf main osv run std string int char int 507 run_elf int char int 128 172 6370485 6316499 6292746 919944 918503 463895 468327 402 fix 263 reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2594,8d9a1dbdfe09029028a8180e5641e0b6068740e6,lauber Costa <glommer@cloudius-systems.com>, 2014-07-11 17:44:53 +0400, , httpserver harware probing api patch provides interface allow client rest probe current processor flag currently available level intend soon create call disk feature network interface feature etc signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2595,3876d1f6921ce1962bab7afd8e881c6b56924743,lauber Costa <glommer@cloudius-systems.com>, 2014-07-11 17:44:52 +0400, , move cpuid.hh processor.hh header although naming processor arch independent cpuid arch neutral code include processor.hh still access cpuid.hh goody signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2596,dd646997e1c470e6a8f3d23a3f907c37367e62fb,lauber Costa <glommer@cloudius-systems.com>, 2014-07-11 17:44:51 +0400, , processor provide string representation processor feature signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2597,94883cdedbd48615ca9a053f09fa29042af80381,lauber Costa <glommer@cloudius-systems.com>, 2014-07-11 17:44:50 +0400, , cpuid add string cpuid parser would like dump later string format signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2598,3395f546661faac9e49c3c4b8c92fcfce4600d1d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-11 16:27:17 +0200, , random create random device even virtio rng fix bug manifest dev random dev urandom missing platform virtio rng includes gce ec2 problem virtio rng register random device initialized hardware source rdrand rely virito rng alone fix always initialize random device virtio rng probed successfully register entropy source reviewed raphael carvalho raphaelsc cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2599,f010618b1c32a2696879535c61cd086e77252f19,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-11 16:27:16 +0200, , random fix includes reviewed raphael carvalho raphaelsc cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2600,6232b62cced49d9a7041e04ca25ac603c90adc9b,enato Cunha <renato@renatocunha.com>, 2014-07-11 11:46:53 -0300, , test tst pthread affinity remove bogus struct tst pthread affinity implement useless copy pthread.cc thread_attr structure structure used code hence removed signed renato cunha renato renatocunha.com signed pekka enberg penberg cloudius systems.com,,
2601,3de0948f4a0ee97cf24e89b1f4c451ab0d9b88af,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-11 12:00:47 +0200, , net respect mtu set via ioctl fix 372 ioctl handler virtio net ignoring mtu change gce interface mtu default 1460 1500 respecting mtu led communication failure large packet sent example truncated osv.8443 tomek.52012 flag seq 1449 ack 179 win 1040 option nop nop val 476582182 ecr 62762835 length 1448 10.240.0.1 osv icmp tomek unreachable need frag mtu 1460 length problem existed vmxnet3 driver fix remove handler siocsifmtu doe nothing logging fall ether_ioctl default clause reviewed glauber costa glommer cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2602,7c3871679cec41cb35fb9f6e26116e6751b3c205,akuya ASADA <syuu@cloudius-systems.com>, 2014-07-11 06:50:09 +0900, , call abort sys_panic instead kprintf want backtrace sys_panic signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2603,ef2a3c7428ae63f116714cda23d0cabf33a726cd,adav Har'El <nyh@cloudius-systems.com>, 2014-07-10 15:46:34 +0300, , another early boot linefeed fix previous patch get linefeeds early boot fixed see issue 371 except one first line printed debug_early need debug_early exactly thing described previous patch i.e. translate string output reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2604,11f3e81285a4630a079a7dcbebc34efb3962b8a5,akuya ASADA <syuu@cloudius-systems.com>, 2014-07-11 07:01:50 +0900, , isa serial introduce early_init init driver ealier introduce early_init initialize driver using early console required vmware signed takuya asada syuu cloudius systems.com penberg squash one commit bisectability signed pekka enberg penberg cloudius systems.com,,
2605,d6f2407d2634e2209a9efe2c6170859576372ad5,adav Har'El <nyh@cloudius-systems.com>, 2014-07-10 14:39:16 +0300, , console fix bare linefeeds early output xen patch fix 371 reported osv early output first line verbose message scrambled sense line start place previous line ended instead beginning line even modern terminal follow typewriter doe anyone even remember two separate concept line feed move one line column carriage return return first column line ascii line feed 012 carriage return 015 actually need output people normally expect new line i.e. first column next line since unix adopted convention take mark new line terminal driver need convert sequence conversion turned using onlcr flag ioctl terminal driver see termios normally cooked mode conversion enabled implementation conversion done linediscipline write working fine see linefeed problem early output early console output separate code outputting case forgot conversion patch add problem effect xen xen use qemu turn qemu long known bug hide osv bug qemu enables onlcr bit host tty confused host onlcr code osv described earlier word qemu translates every get serial port printing screen even code outputted would show correctly may sound like bug feature really bug qemu also mean guest way output bare linefeed one line apps rogue patch terminal definition use cursor escape sequence instead linefeed signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2606,881e5aa8c55d95e68533f3af24cd7195048bd397,lazar Leibovich <elazarl@gmail.com>, 2014-07-08 23:38:20 +0300, , x64 document boot16.s get loader size signed elazar leibovich elazarl gmail.com signed pekka enberg penberg cloudius systems.com,,
2607,c24a71faa01bb8fe8439eb1b0447757694ebfa35,r Cohen <orc@fewbytes.com>, 2014-07-10 13:44:14 +0300, , httpserver fix dmesg output format output json formatted according schema signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2608,d77cdafe8614b0cb1b01cd5e8bd14583420bd616,r Cohen <orc@fewbytes.com>, 2014-07-10 13:22:02 +0300, , cli use proper terminal definition patch take vt100 terminal definition change fit qemu handling taken nadav rogue module update cli code use definiton remove weird warning message find dumb using dumb running outside osv need libedit find proper terminal definition according term environment variable signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2609,0813477fd1b0cf11d6986ee81100b8d60372d42d,mnon Heiman <amnon@cloudius-systems.com>, 2014-07-10 10:54:38 +0300, , vfs mount change char const char reason char passed mount const char important using code forgiving using quoted text string reviewed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2610,dea7624a757177160c1f663918005a5a063fbc54,vi Kivity <avi@cloudius-systems.com>, 2014-07-10 11:10:56 +0300, , net use rcu_hashtable net channel classifier reduce overhead creating tcp connection existing connection count  reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
2611,fedae0866539ea3df5288ebebd46e087b4c29952,vi Kivity <avi@cloudius-systems.com>, 2014-07-10 11:10:55 +0300, , test add test rcu_hashtable reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
2612,7fa2728e5d03b2174b4a39d94b21940d11926e90,vi Kivity <avi@cloudius-systems.com>, 2014-07-10 11:10:54 +0300, , rcu hashtable generic hash table doe follow stl convention since using iterator difficult thing change foot reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
2613,e30e104c0efa7bc5eab88e8b071cf155e2cc3943,vi Kivity <avi@cloudius-systems.com>, 2014-07-10 11:36:27 +0300, , test misc malloc fix data corruption worker thread capture len reference even though stack variable immediately scope change capture value fix 370 signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2614,c1c6054f2415f58f87b2f98db8aa45fb1fa7f3fa,adav Har'El <nyh@cloudius-systems.com>, 2014-07-09 16:56:54 +0300, , module system add httpserver module unless explicitly removed fix 357 patch add config.json default list list module always added every built image unless explicitly subtracted syntax name patch put httpserver new default list user doe make image memcached get image memcached httpserver make image memcached httpserver used get memcached without httpserver one make image memcached httpserver reviewed tomasz grabiec tgrabiec gmail.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2615,ccab67e89e6eca35d819fe2048443fdb95dc0042,alle Wilund <calle@cloudius-systems.com>, 2014-07-09 17:44:06 +0200, , add module symbol search path get httpserver etc symbol reviewed nadav har nyh cloudius systems.com signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2616,69c5ad94cab4a5f3d354f4dafbcc8520a97a0149,hlomi Livne <shlomi@cloudius-systems.com>, 2014-07-09 14:06:53 +0300, , http server file system restful api add information based statfs api api provides block usage node usage sample exexcution http 127.0.0.1 8000 signed shlomi livne shlomi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2617,3dfa0ba7f6e697c3ea6585e8316d2840239f6ff9,alle Wilund <calle@cloudius-systems.com>, 2014-07-09 13:14:21 +0200, , libc fix initialize attr provided pre initialized fix following boot time crash penberg localhost osv script run.py osv v0.10 223 gd1ec5ce eth0 192.168.122.15 page fault outside application addr register rip pagecache access_scanner access_scanner 4032 rfl rax rbx rcx rdx rsi rdi rbp r10 r11 r12 r13 r14 r15 rsp aborted backtrace mmu jvm_balloon_vma split unsigned long 367 mmu vm_fault unsigned long exception_frame 146 page_fault 105 ex_pf pagecache access_scanner access_scanner 4925 free  3798 4012 1232327 1258433 102 mkoption std string 1067 mkoption std string 2696  thread_main_c thread_main 1468691713 sched thread thread 815 1409059144 qemu terminated signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2618,2a56d98d7de1db014d8ac03cca12ecfb524dd83c,onya.vic@gmail.com <konya.vic@gmail.com>, 2014-07-09 04:06:44 -0700, , pci fix wrong offset pci configuration fix wrong offset cause boot ide fail probably also causing pci class code related issue stated previous discussion http msg osv dev bu4p54xhsdu p4_2ebogxaqj fix 362 reviewed nadav har nyh cloudius systems.com signed chenyi lee konya.vic gmail.com signed pekka enberg penberg cloudius systems.com,,
2619,0c2d01cbe270e4f7a49b54c5f944c4c50e6e69fd,r Cohen <orc@fewbytes.com>, 2014-07-09 12:36:58 +0300, , cli fix usage httpserver module commit f079923 loader always run httpserver made httpserver load regardless included cmdline thus removing default full attribute module.py patch remove reference default requires httpserver think httpserver included default building cli signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2620,caf43cd74627cc80ba58610d7c0109830a3f1644,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-09 11:46:45 +0300, , rename osvinit cloud init name osv init redundant code life osv.git rename module cloud init reflect really doe also add alias config.json compatibility mgmt.git submodule signed pekka enberg penberg cloudius systems.com,,
2621,ca5f374ef2bc32ad923715d1ecdce3d8b6984659,mnon Heiman <amnon@cloudius-systems.com>, 2014-07-09 12:24:32 +0300, , http server split testing multiple file split api testing multiple file testing directory api directory equivalent api directory httpserver test api name .py file api api api inherit get api functionality base class test file api directory picked automatically signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2622,2d31bf6ac3c347752d96a8fa3c466bf7284b1299,enato Cunha <renato@renatocunha.com>, 2014-07-08 16:43:59 -0300, , test add testing get counterpart added basic sanity checking test code new pthread affinity functionality test try pin one thread cpu two variant sequential one thread created destroyed assigned one cpu time parallel one thread created simultaneously still one thread per cpu signed renato cunha renato renatocunha.com signed pekka enberg penberg cloudius systems.com,,
2623,175766f37f354bc99b9055e74dbad8554d44c6e7,enato Cunha <renato@renatocunha.com>, 2014-07-08 16:43:58 -0300, , pthread add stubbed version get counterpart binary especially make use gcc openmp implementation expect available since still know functionality would best implemented adding stubbed version said function least make program runnable reviewed nadav har nyh cloudius systems.com signed renato cunha renato renatocunha.com signed pekka enberg penberg cloudius systems.com,,
2624,aab0d62f6ff9a085e016c94ade9fba0ac68aeaf1,enato Cunha <renato@renatocunha.com>, 2014-07-08 16:43:57 -0300, , pthread add add support setting thread affinity actually pinning cpu cpuset member present internal thread_attr type reviewed nadav har nyh cloudius systems.com signed renato cunha renato renatocunha.com signed pekka enberg penberg cloudius systems.com,,
2625,dc98519d4de417757cbc3b27601351a04e82331a,enato Cunha <renato@renatocunha.com>, 2014-07-08 16:43:56 -0300, , pthread add cpu_set_t support pthread add cpu_set_t instance pthread thread_attr implementation way new thread created already pinned specific cpu member set reviewed nadav har nyh cloudius systems.com signed renato cunha renato renatocunha.com signed pekka enberg penberg cloudius systems.com,,
2626,7d8f0978dfa1e8faa8ea4f3aaa29ed380e2d5df7,enato Cunha <renato@renatocunha.com>, 2014-07-08 16:43:55 -0300, , sched add cpu_set_t expected linux program affinity related function defined gnu non portable pthread extension need access cpu_set_t type found glibc sched.h given intend implement function improve linux application support need type type usually manipulated set macro also included patch notice macro function implemented strictly necessary purpose going used pthread implementation reviewed nadav har nyh cloudius systems.com signed renato cunha renato renatocunha.com signed pekka enberg penberg cloudius systems.com,,
2627,8e4d473465667187239f97b1f35f63099b98a5ad,akuya ASADA <syuu@cloudius-systems.com>, 2014-07-09 03:11:32 +0900, , loader add nameserver cmdline nameserver address signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2628,4c38180e68eb8facc2845cb9cc4f4e18e862fe6e,akuya ASADA <syuu@cloudius-systems.com>, 2014-07-09 03:11:31 +0900, , loader add defaultgw cmdline default gateway address signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2629,86fd1f6f2511c20517d8a4fe2420769647dd432f,akuya ASADA <syuu@cloudius-systems.com>, 2014-07-09 03:11:30 +0900, , loader add cmdline static configuration signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2630,c09aa94c7f9920a20da7b21bb9ea814f2d489d15,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-09 11:11:51 +0300, , mgmt update latest signed pekka enberg penberg cloudius systems.com,,
2631,1a990af853965dab0ce7ab8d8301983e25c94765,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-09 11:11:11 +0300, , module osvinit fix module path osv init module life module osvinit mgmt osvinit signed pekka enberg penberg cloudius systems.com,,
2632,f3a98f10005efa3e7d9b84aab7f9646f666e1dc2,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-09 10:50:40 +0300, , module osvinit fix module configuration point module configuration module osvinit instead mgmt git submodule signed pekka enberg penberg cloudius systems.com,,
2633,d0922167f2d12ab85562f85309f4f70ed2e65391,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-09 10:49:51 +0300, , move osvinit osv.git move osvinit code mgmt.git osv.git preserving commit history signed pekka enberg penberg cloudius systems.com,,
2634,6063a51abecb95a183395a9ce6062f3c6fc5be09,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-09 09:52:17 +0300, , merge branch lua cli  patch set add initial version lua based cli development continue upstream also add dependant osv module lua ncurses libedit signed pekka enberg penberg cloudius systems.com,,
2635,f079923c043d566189181b02e104961c2666795a,adav Har'El <nyh@cloudius-systems.com>, 2014-07-08 22:19:28 +0300, , loader always run httpserver stuff init module especially httpserver command line always want run regardless run.py paramter example user build image make image httpserver memcached default run someone run.py run memcached special parameter httpserver run patch fix annoyance adding new mechanism run command line module boot time idea file directory init specify command line run filename alphabetical order command line content init file usual command line syntax supporting quote patch httpserver module longer classic command line setting rather includes file init httpserver content  command line always run boot regardless whether command line specified run.py option mean main command line finish osv shut without waiting finish would never happen noinit kernel option provided override init file run fix 358 reviewed tomasz grabiec tgrabiec gmail.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2636,1bb8a91ac0fe972548d459057676e62b194baf9f,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-09 09:48:13 +0300, , mgmt update latest signed pekka enberg penberg cloudius systems.com,,
2637,4e902c164221f1e28db001cf4c417ee930d5fd9b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-08 14:48:48 +0200, , osvinit fix linking osvinit.so placement significant put dynamic library last otherise recorded dependency lead symbol resolution error like one failed looking symbol yaml detail node_data empty_scalar signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2638,e80c69cc9a4c3757d327af04873df80f3e2019e4,adav Har'El <nyh@cloudius-systems.com>, 2014-07-08 22:19:27 +0300, , command line wait disowned thread run run.py command1 command2 run command1 command2 parallel two command return main osv shut service background thread delaying shutdown feature bug example run run.py test tst chdir.so guest never exit despite tst chdir.so finishing second libhttserver never completes even annoying automatically add every command line even run.py test tst chdir.so never complete patch add new alternative syntax inspired zsh mean creating disowned background process one shell track worry shell exit patch run.py test tst chdir.so shutdown soon chdir.so finish matter finished never ... signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2639,1f6fd50afe26ebfc1d99864058d87f8a58ee9a6b,adav Har'El <nyh@cloudius-systems.com>, 2014-07-08 23:21:40 +0300, , add __longjmp_chk compiled default ubuntu program longjmp end calling __longjmp_chk instead patch add trivial implementation missing function ideally __longjmp_chk sanity check env jumping namely actually point stack frame earlier stack patch functionally correct includes check glibc doe check also far bulletproof little checking env address higher current stack pointer signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2640,5e39aa82e218d992bdd7258b31d4e3cae9870795,adav Har'El <nyh@cloudius-systems.com>, 2014-07-09 01:20:10 +0300, , libc snprintf infinite length fix 111 standard snprintf interesting design flaw snprintf take size_t length return int unfortunately size_t bit int bit theoretically possible snprintf succeed writing gigabyte able return actual size wrote posix mandate snprintf given length fit bit must immediately fail set errno eoverflow implementation copied musl however turn neither glibc gcc builtin snprintf along decision test patch demonstrates snprintf maximum length work well patch test like linux test run osv linux remove eoverflow case like linux interestingly issue caused bug 111. ncurses use sprintf converted __sprintf_chk len implementation function called snprintf len failed implementation refused work given len signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2641,73ab2be95be6ba3e83e94891f1e4a558639fbff6,alle Wilund <calle@cloudius-systems.com>, 2014-07-08 16:12:24 +0200, , mmu file mapped vma flag add flag bit mark vma region file mapped add gdb script query individual vma entry signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2642,7d09014c6e7f01ed3d50c524076d009e0a7c5a16,alle Wilund <calle@cloudius-systems.com>, 2014-07-08 13:44:53 +0200, , java fix jvm stack protection issue run jvm init main thread jvm destroy child thread avoid stack protection issue tomek captured jvm crash one jenkins build aborted backtrace jvm_findsignal 1647320 1569582 550 338  413097 238721 jvm_findsignal 1643345 setpgid 229 thread_main_c thread_main calle explains problem java.so doe createjavavm attache thread jvm initial thread linux somewhat special hard get accurate stack info thus attach init code fille horrendous stuff figure reasonable stack bound order add stack guard page somewhere appropriately pretty fine find something reasonable continues let call protected region java.so call turn start bunch thread return java.so main thread detaches unprotects stack guard page however due linux somewhat glued thread library actually done munmap ing page question time java thread load zip file asks map section file vma code find nice empty hole time main thread call destroyjavavm attache main thread main thread stack info already collected protects region mmap fixed woho except wrote file mapping way problem osv doe treat memory region could stack area interpreted special allows mmap give back page solution way easier fact jdk launcher employed quite time namely _never_ use main thread anything java java launcher create run destroy jvm immediate child thread avoid problem misinterpreted stack area use hopefully info returned blabla signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2643,5d3dc242dfe616f0b4d3eb6856c848dd10335db2,alle Wilund <calle@cloudius-systems.com>, 2014-07-08 13:44:52 +0200, , java add chained exception contextisolator runjar somewhat better error reporting signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2644,9b026b6d7a03c3cc3ec31a9f450264db12f7faa4,lauber Costa <glommer@cloudius-systems.com>, 2014-07-08 13:25:41 +0400, , command line fix issue commited code patch commited nadav realized could one way handling maximum string size also wanted see api taking const char instead char done also leaking string far know since std vector char std string args.resize call free signed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2645,2eb62f8110507b9d13de19cb07ee6dbea023a9f0,akuya ASADA <syuu@cloudius-systems.com>, 2014-07-07 03:35:23 +0900, , libc add __fdelt_chk reviewed nadav har nyh cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2646,43c9acc9229cf570472226573b6594a4c7e6c7ba,mnon Heiman <amnon@cloudius-systems.com>, 2014-07-06 17:22:07 +0300, , http server make file git pull pull root directory http server new location placed two level root module directory signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2647,9e2def05cfb167114f09a6a05c4f1fe0c608b97f,lauber Costa <glommer@cloudius-systems.com>, 2014-06-12 14:27:05 +0400, , libc regex function interested fnmatch function application avoid future problem also importing glob function function regular expression parser work shell wildcards instead usual posix taking musl instead implementing top boost engine 100 verbatim copy relevant musl file aside verbatim copy moving definition fnmatch.h outside gnu_source musl code doe expect remove function patch leave wildcard one signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2648,843ddd85e83864151c1c6520b1e30fc9294a7065,laudio Fontana <claudio.fontana@huawei.com>, 2014-07-03 16:16:01 +0200, , core elf validate note segment length pt_note segment linker script note section end zero length segment handle case validating phdr length reviewed glauber costa glommer cloudius systems.com avi kivity avi cloudius systems.com signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
2649,5478c8d0b2c4d6564b6879a198790b7b642bc3e0,sias He <asias@cloudius-systems.com>, 2014-07-08 14:07:17 +0800, , tcp increase tcbhashsize 512 4096 netperf tcp_cc test observed high cpu usage increasing tcbhashsize 4096 imporves tcp_cc drop cpu usage  tcbhashsize 512 cpu usage rate sec  tcbhashsize 1024 cpu usage rate sec tcbhashsize 4096 cpu usage 11k rate sec signed asia asia cloudius systems.com reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
2650,cbd94619709bfc880c5e8e9ce512cf5495d30d56,r Cohen <orc@fewbytes.com>, 2014-07-07 12:04:26 +0300, , document created working cli signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2651,e58d6f5e02e946856a6ed844dcc50da48a33c8ac,r Cohen <orc@fewbytes.com>, 2014-07-07 15:55:55 +0300, , build code cli module signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2652,0bfd248c9fc9cf2b9ced2c570432c053190cd44c,r Cohen <orc@fewbytes.com>, 2014-07-07 12:04:24 +0300, , add cli module code cli.c embeds lua engine cli make dynamic scriptable added benefit lua maintains state enables treat single entity reset needed cli take command libedit pass cli cli.lua error occures assert error taken care proper message utility available like table column printing see table_print getopt_long like method see echo command usage example possible use cli locally outside osv need build dependency first module ncurses libedit lua command placed command folder documentation placed doc currently signed pekka enberg penberg cloudius systems.com,,
2653,7e969dc5818d081b31651dddeb09449b52f14044,r Cohen <orc@fewbytes.com>, 2014-07-07 12:04:23 +0300, , add lua module required cli downloads build lua 5.2 lua original makefile come without target create shared object build extract source src contains makefile creates shared object also add following module luasocket lpeg luajson reviewed nadav har nyh cloudius systems.com signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2654,3dbc1168e7c71258a0fb9228a5b088053eb6c42a,r Cohen <orc@fewbytes.com>, 2014-07-07 12:04:22 +0300, , add libedit module required cli reviewed nadav har nyh cloudius systems.com signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2655,ce73951ffdafd59d0e6196e9588629f73475957c,r Cohen <orc@fewbytes.com>, 2014-07-07 12:04:21 +0300, , add ncurses module requirement libedit required cli reviewed nadav har nyh cloudius systems.com signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
2656,bf540b239f3b94a77fd019a2dce5b2e6682e4022,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-07-08 03:03:30 -0300, , random add debug message available source signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2657,b412a000cc473b9c9efda6eff64e62e410b9b58d,adav Har'El <nyh@cloudius-systems.com>, 2014-07-07 16:25:45 +0300, , update mgmt.git head failing make clean annoying solved newer mgmt.git signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2658,ce61c98507ef04c8007506ed140ff2dcd5346fd1,adav Har'El <nyh@cloudius-systems.com>, 2014-07-06 14:21:13 +0300, , fix thread thread_clock running thread thread_clock function returning amount cpu time spent thread estimated called different running thread case accounted full time slice underestimate usually forgivable load balancer wake time second keep time slice 0.1 second explained issue 366 noticed problem idle percentage top.py hovering 105 instead 100 expected problem estimating cpu time used thread running different cpu need consistent set two different value running_since total_cpu_time may become visible different time unknown order additionally running_since currently per cpu per thread rather adding additional memory fence context switch path went solution patch pretty efficient solution could find surprisingly even measure nanosecond slowdown context switch benchmark anybody suggest prettier solution similar performance please let know good performance patch happens add context switch single write switching thread memory fence locked instruction written memory cache line cache anyway additionally extra code switching thread idea switching thread atomically write bit thread field comprised running_since total_cpu_time bit make bit enough give bit accuracy thread_clock running thread accurate microsecond bit range range 2200 second way context switch code simple quick even measure one nanosecond slowdown context switch fix 366 reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2659,4134ff17a249538a08635f5482421fa77bc3ebc0,adav Har'El <nyh@cloudius-systems.com>, 2014-07-04 01:25:55 +0300, , libosv.so add missing weak symbol define lot symbol using weak_alias unfortunately script libosv.py copied global binding symbol weak binding also need copy weak binding note currently marked weak symbol resulting libosv.so make practical difference osv respect weakness symbol anyway fix 365 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2660,3a6868e9f586c8dfdf7579ea480056ef5a6d6f97,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-07-07 00:45:41 +0200, , mempool make sure alignof max_align_t sizeof size_t default alignment object allocated glibc malloc sizeof size_t make sure alignof max_align_t fulfils requirement nadav har nyh cloudius systems.com signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
2661,7f795407d78f1056142d967d320e3f3117cee101,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-07-06 23:01:37 -0300, , x64 random provide rdrand source entropy csprng add rdrand conditional hardware source entropy i.e. registered csprng supported underlying cpu wrapper function created fit csprng interface registering source entropy also handle certain caveat rdrand instruction implementation based following intel manual intel digital random number generator drng signed raphael carvalho raphaelsc cloudius systems.com signed avi kivity avi cloudius systems.com,,
2662,0232581a93b35be707f6c3c1cabddfc122da3631,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-07-06 23:01:36 -0300, , x64 introduce instruction rdrand note size register used output determines size random data returned instruction goal i.e. adding rdrand instruction source entropy csprng variant quite sufficient signed raphael carvalho raphaelsc cloudius systems.com signed avi kivity avi cloudius systems.com,,
2663,ece07c476c1afa6fb13fdc0d946ff8d5f4d35e00,asami Ichikawa <masami256@gmail.com>, 2014-07-05 10:08:03 +0900, , script support python2 python3 api.py since python3 basestring removed therefor use isinstance need pas str instead basestring signed masami ichikawa masami256 gmail.com signed pekka enberg penberg cloudius systems.com,,
2664,e87ca49ffe9201bd42d594fc45781ca6b718d26a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-04 12:45:44 +0200, , make clean module make clean want clean module run make clean core signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2665,43badb47ad71888f98bf7924c6a4763aa909ac9f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-04 12:45:43 +0200, , make fix typo .phony signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2666,fc875a39113416d14658c43c0bfb1db56c53127a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-04 12:45:42 +0200, , bump apps.git pointer signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2667,8ed9ee60f7031c6e3bf24861ff0f7337a091556f,adav Har'El <nyh@cloudius-systems.com>, 2014-07-07 01:26:38 +0300, , readdir set missing d_reclen field struct dirent returned readdir field d_reclen implementation set given bsd based implementation constant size file name limited 256 byte d_reclen interesting since always sizeof dirent nevertheless must set linux program may rely patch correctly set d_reclen particular scandir implementation copied musl relies d_reclen correctly set patch work correctly returned empty dirent structure patch also add test scandir fails patch succeeds patch signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2668,abb5e38ab97ebfee49d01f6c3966bf17656821a5,vi Kivity <avi@cloudius-systems.com>, 2014-07-06 18:35:56 +0300, , merge tag epoll fix http github.com avikivity osv epoll fix signed avi kivity avi cloudius systems.com,,
2669,d34952ff9e1979387421919a1314bacff916fb27,vi Kivity <avi@cloudius-systems.com>, 2014-07-06 18:23:11 +0300, , test add epoll test file differnt signed avi kivity avi cloudius systems.com,,
2670,1d5a1ef4e2707ef17d5a8c8d270ee290e7f5f888,vi Kivity <avi@cloudius-systems.com>, 2014-07-06 15:29:39 +0300, , epoll use epoll_file epoll_ptr epoll_ptr refers two file file watched epoll file watching use epoll_file type second order promote type safety signed avi kivity avi cloudius systems.com,,
2671,2066b3f6167e24cc038142702f8a21931c2164a0,vi Kivity <avi@cloudius-systems.com>, 2014-07-06 13:21:35 +0300, , epoll handle race epoll_wait epoll_ctl epoll_ctl_del epoll_ctl may remove file waited case able look key handle case ignoring reported event since one waiting  signed avi kivity avi cloudius systems.com,,
2672,7b9e83e2c2e42805268517fb8ce40477873a326d,vi Kivity <avi@cloudius-systems.com>, 2014-07-06 13:12:07 +0300, , epoll properly lock epoll file epoll operation executed concurrently protect using file f_lock signed avi kivity avi cloudius systems.com,,
2673,d2b957d6e222407e3a24af76bd9dda305673eda0,vi Kivity <avi@cloudius-systems.com>, 2014-07-06 12:56:37 +0300, , epoll use correct key according epoll key used distinguish file descriptor registered epoll set key combination file descriptor number open file description also known open file handle kernel internal representation open file right use file pointer mean two epolls file using different fail succeed fix using combination file descriptor file pointer epoll_key signed avi kivity avi cloudius systems.com,,
2674,4d614b5d71c8125dfeb2ebef57da7578817162b3,vi Kivity <avi@cloudius-systems.com>, 2014-07-06 12:34:35 +0300, , vfs remove unneeded extern osv file.h get way template declaration signed avi kivity avi cloudius systems.com,,
2675,e7f713b7be29cce70193e3f882d278c68197a464,vi Kivity <avi@cloudius-systems.com>, 2014-07-03 11:09:43 +0300, , vfs convert file f_poll_list boost intrusive list also use new delete instead malloc free safer everyone signed avi kivity avi cloudius systems.com,,
2676,094b5faaea5e6c93c71c9a701b162534d4b3f68a,vi Kivity <avi@cloudius-systems.com>, 2014-07-03 10:46:17 +0300, , vfs move poll_link file.h avoids problem forward declaration following patch signed avi kivity avi cloudius systems.com,,
2677,985d4759ba4061404063d6f39dcc6cf145f87021,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-07-05 02:15:50 +0200, , mempool increase size arbitrary aligned object rewrite conditionals responsible choosing appropriate allocator requested size alignment allocator given object size exactly requested signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
2678,2ddef72bdac250664e4231a8eb88e7e82a609172,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-07-05 02:15:49 +0200, , mempool set default alignment min size alignof max_align_t signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
2679,afc1fb571ae953aec3692692d8c68d83bdf10b9f,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-07-05 02:15:48 +0200, , mempool replace alignof max_align_t signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
2680,d7ab59b95e3ac43fc187293113319f3f3c64f737,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-07-05 02:15:47 +0200, , mempool limit max_object_size page_size page_header mempool allocator put one half page sized object page page allocator exactly space overhead much simpler need setting page_header freeing object allocated another cpu trivial signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
2681,2c798fedd72bec85d62bd5f523cb925dbaa3e8c0,akuya ASADA <syuu@cloudius-systems.com>, 2014-07-04 06:05:05 +0900, , math add __isinff reviewed nadav har nyh cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2682,fdbd6303204104eca4642e0e91d8bb6de8094b32,akuya ASADA <syuu@cloudius-systems.com>, 2014-07-04 06:05:04 +0900, , add chown stub reviewed nadav har nyh cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2683,2d28c1175bab3d33ff8f0cd6ea8fcef6a649faa5,adav Har'El <nyh@cloudius-systems.com>, 2014-07-03 22:46:44 +0300, , httpserver add make clean add httpserver cleanup make clean previously mgmt makefile moved mgmt need fix make clean signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2684,63fbbf6cef8c1faa8303ed7c5a17f77e30705cb6,adav Har'El <nyh@cloudius-systems.com>, 2014-07-03 23:07:04 +0300, , remove bsd include pthread_np.h header file bsd include pthread_np.h needed place includes definition file introduce chance collision similar definition api pthread.h e.g. upcoming patch adding better signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2685,2c35e4588cede48855ee29680e185e129c784e98,lauber Costa <glommer@cloudius-systems.com>, 2014-07-03 16:31:43 +0400, , add api modify command line add support runtime instalation provisioning would like way edit command line currently executed exposing rest api signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2686,c253d90144b0dc512ba8191d3f0841e77da67cb5,lauber Costa <glommer@cloudius-systems.com>, 2014-07-03 16:31:42 +0400, , create exception code 500 way handle 400 custom exception handling error code 500 way save lot typing signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2687,3b03f7049e65515bf6a33763dcb77aca87ce2ac4,lauber Costa <glommer@cloudius-systems.com>, 2014-07-03 16:31:41 +0400, , command add method save command line disk signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2688,6758bac1ebfc08ca537334acf5ed4ae18031148f,lauber Costa <glommer@cloudius-systems.com>, 2014-07-03 16:31:40 +0400, , inspect current command line patch add function allow determine current command line use parse_cmdline called duty updating string signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2689,f57b0442698fdab17c4ba081f8a9181ff6dc5555,lauber Costa <glommer@cloudius-systems.com>, 2014-07-03 16:31:39 +0400, , arch factor parse_cmdline aside code locates string x64 code actually par command line always architecture factor  signed glauber costa glommer cloudius systems.com claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
2690,95329a1bac8edeb0cd2e058d21a85e2f78436541,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-03 15:35:11 +0300, , mgmt update latest signed pekka enberg penberg cloudius systems.com,,
2691,b1ca191c74565c6a60024a11cc8588ca970b647e,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-03 14:14:54 +0200, , osvinit update location httpserver module fix make osv.git signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2692,88fe11574baeb9b9adf26539e8da82ee42cbeaf3,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-03 14:28:05 +0200, , httpserver test ignore request failure currently curl would return case http network error becasuse test test_env passing even though server returned 404 get env test param val test request test case could also incorrectly pas signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2693,5f0fbb976fd63e260c6bb114d5bc762f40573c8c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-03 14:28:04 +0200, , httpserver register env api signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2694,b614588b3c58af4b5ebf52849979f178f7e7e367,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-03 12:07:46 +0300, , script gce image uploading add script uploads osv image gce signed pekka enberg penberg cloudius systems.com,,
2695,ba33707e909851d30003795ba149ec1c081202d5,mnon Heiman <amnon@cloudius-systems.com>, 2014-07-01 14:15:58 +0300, , http server code generation removing tracing printout printout introduce mistake prvevious commit signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2696,16a964c562d0db96c624fc2985eb72f64fe238f9,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-03 13:03:04 +0300, , mgmt update latest signed pekka enberg penberg cloudius systems.com,,
2697,110d7c5b23414add439b936ed0cac788968c0e87,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-03 12:53:54 +0300, , module httpserver fix path make check signed pekka enberg penberg cloudius systems.com,,
2698,a26ffd3a34f455f8e825d54a1150eef58a259599,ekka Enberg <penberg@iki.fi>, 2014-07-03 12:35:25 +0300,1, merge pull request tgrabiec httpserver httpserver migration fix,,
2699,120bfc24c80ca2d5860892d1f8f95a5a99b512a8,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-03 11:31:18 +0200, , httpserver fix module path used module.py,,
2700,7bc1460d477f546c817b44f48d4a5a86057e3d7c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-03 11:30:29 +0200, , module locate httpserver module,,
2701,7781d7945daaf26ecbf7f4b418cf2e5e20bbdb6f,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-02 11:47:51 +0300, , httpserver fix swagger submodule signed pekka enberg penberg cloudius systems.com,,
2702,cd48150e2f6d9468ea78f6e6a0e3c852fa3ff18f,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-03 12:15:05 +0300, , merge httpserver mgmt.git osv.git restful api used thing like top.py move code mgmt.git osv.git signed pekka enberg penberg cloudius systems.com,,
2703,b16f41ec9e5d08d50c30c8004069701fc6d9ae9a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-03 11:11:23 +0200, , httpserver test script using wrong command line longer usr mgmt httpserver.so installed image  patch change script doe alter command line default signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2704,c137aa5bb10daa8962ce7e92591d40f3091e9ec0,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-07-02 19:02:51 +0200, , libosv add padding content note name desc field include padding size multiple field namesz descsz contain size respective field without padding though patch readelf longer complains corrupted note signed paweå dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
2705,062964edb9c6d1f90789a34088b48c87cdd5e429,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-07-02 19:02:50 +0200, , libosv use .balign instead .align directive .align different behavior depending target architecture arch e.g x64 make sure location counter multiple parameter arch e.g aarch64 argument number low order bit zero i.e .align make location counter multiple directive .balign consistent behavior regardless target architecture signed paweå dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
2706,853c2a5316ebe053af72876142955a855e5a00ce,adav Har'El <nyh@cloudius-systems.com>, 2014-07-03 00:06:17 +0300, , kbd change mapping backspace patch make backspace work correctly vga console part issue 360 multiplexed console one termios setting two distinct keyboard serial console input keyboard defaulted verase character 177 ascii del expecting get serial console user press backspace key keyboard driver generated ascii therefore recognizing backspace patch change keyboard driver generate backspace press instead linux console linux terminal emulator also generate key admit really saddened sending patch year warning slow sure attempt displace ascii character backspace used generate use del character instead year insisted keeping backspace system also home desktop set obviously lost modern linux distribution return backspace pressed set verase old post backspace delete issue http copilotco.com mail archive linux kernel.2001 msg47697.html http www.mail archive.com linux cs.huji.ac.il msg52834.html signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2707,5cb378d118450f62f046e05e04842725b6c31207,adav Har'El <nyh@cloudius-systems.com>, 2014-07-02 22:15:45 +0300, , console fix echo vga console fix 360 input echo visible vga console newline pressed immediately visible serial console part multi console work see commit c0a1e555 console_driver interface layer added whose write side includes write function always also flush serial console implementation flush doe nothing vga console implementation nothing displayed either flush newline written line discipline.cc longer enough call write echo imput character need also add call flush every write adding solves bug doe solve backspace working vga console separate issue handled separate patch signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2708,452a13e5c9d3dd580756e20634d04679ec66d493,mitry Fleytman <dmitry@daynix.com>, 2014-07-02 18:39:12 +0300, , ec2 utils introduce optional timeout wait instance start helper useful avoid inifinite wait case instance startup failure signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
2709,a26ec3eb2601edec101f29f644e25612aac88637,vi Kivity <avi@cloudius-systems.com>, 2014-06-30 10:20:44 +0300, , vfs stop poll destroying file object stop current poll file destruction race window outer destructor called say socket_file socket_file poll stopped file file race window poll called partial object fix stopping poll fdrop fix 293 signed avi kivity avi cloudius systems.com,,
2710,fe14a2b9a9d0d69b808f86517dad6b87a2105940,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-02 16:57:49 +0300, , revert build.mk move module test usr.manifest build reverts commit jaspal writes commit break make check location module test usr.manifest changed module.py need updated signed pekka enberg penberg cloudius systems.com,,
2711,4e50ce3c0af4fdc5bba6a63e0e1b06280e1b7ede,aspal Singh Dhillon <jaspal.iiith@gmail.com>, 2014-07-02 17:46:34 +0530, , test enable test negative fds tst poll enable test negative fds poll issue 323 fixed reviewed nadav har nyh cloudius systems.com signed jaspal singh dhillon jaspal.iiith gmail.com signed pekka enberg penberg cloudius systems.com,,
2712,1416f4b77618c0ba0d39b718bb5eebc32ef75cc4,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-02 14:41:05 +0300, , fix infinite loop unsymlink symlink point path doe exist return instead entering infinite loop nadav har nyh cloudius systems.com reviewed tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
2713,10d5a05f62a06f57d1931d4aa25baf4d3cea1e62,akuya ASADA <syuu@cloudius-systems.com>, 2014-07-02 20:17:43 +0900, , console use existing instance instead creating new one acked claudio fontana claudio.fontana huawei.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2714,421c5fbc8b8a6ed73a6df2ecfc545a29c1c8694c,akuya ASADA <syuu@cloudius-systems.com>, 2014-07-02 20:17:42 +0900, , console probe pci vga device using driver_manager load vgaconsole pci vga adapter available hypervisor signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2715,ba57aac222e51748ed25de3bfd20b41321b72902,aspal Singh Dhillon <jaspal.iiith@gmail.com>, 2014-07-02 16:05:30 +0530,323, poll handle case negative fds poll_many doe handle case negative fds handle case setting revents processing fds fix 323 signed jaspal singh dhillon jaspal.iiith gmail.com reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
2716,7ff2612a679f79958befdc682adb4b844d05599e,adav Har'El <nyh@cloudius-systems.com>, 2014-07-02 12:04:57 +0300, , top.py add tie breaker sort criterion usually thread non zero cpu usage rest tied add secondary sorting criterion total cpu time thread using cpu see thread using lot cpu time past instead bunch random thread reviewed tomasz grabiec tgrabiec gmail.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2717,7555bca3205d0d55f8d0b46f7f90bbee2481471d,aspal Singh Dhillon <jaspal.iiith@gmail.com>, 2014-07-02 15:28:59 +0530, , build.mk move module test usr.manifest build move module test usr.manifest build mode module test usr.manifest file generated make image test appears untracked git status moving inside build get rid message signed jaspal singh dhillon jaspal.iiith gmail.com signed pekka enberg penberg cloudius systems.com,,
2718,7264d95e12580a1c9e3306a471e95c2b93792aed,adav Har'El <nyh@cloudius-systems.com>, 2014-07-02 11:46:48 +0300, , fix libosv build python commit attempted fix libosv.py also support python used __future__ import statement necessary work python 2.7.5 say misplaced abort removing statement make build work fedora python 2.7.5 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2719,0177bfabf2b7d7a131b610e3e3187842d6776f32,lad Zolotarov <vladz@cloudius-systems.com>, 2014-06-19 20:27:29 +0300, , virtio net txq added debug statistic uncomment define debug_virtio_tx rebuild running ifconfig show interesting related statistic kick caused number packet handled worker number worker wakeups interesting ratio signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2720,ff928d4b31c04bf5066facad6ab4cbadb30de6ff,lad Zolotarov <vladz@cloudius-systems.com>, 2014-06-19 20:15:58 +0300, , percpu_xmit xmit fix xmit_prep exit code netdevtxq xmit_prep return zero success error code may different einval one thus right thing check exit code non zero signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2721,e413a67d11e2b46b4bf32e53d8261806e492508e,lad Zolotarov <vladz@cloudius-systems.com>, 2014-06-19 20:15:57 +0300, , percpu_xmit cleanup signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2722,b6fb19b00744a1593eefa83059794cddb5e2d538,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-07-02 03:58:38 -0300, , random clarify unblocking message change message random unblocking device random device unblocked purpose avoid people misinterpreting meaning i.e think device still unblocked message printed one classical example running mgmt shell osv often hang right message printed hard think unblocking slowing boot process true signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2723,b520d79d3fb798a5fb0c0105640500bcfec1536a,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-02 09:58:46 +0300, , mgmt update latest signed pekka enberg penberg cloudius systems.com,,
2724,c88def7592a9fb8d2fb665149aef2d1222dfc506,alle Wilund <calle@cloudius-systems.com>, 2014-07-01 11:06:30 +0200, , add rest api call trace dump extraction signed calle wilund calle cloudius systems.com penberg adapt new handler api signed pekka enberg penberg cloudius systems.com,,
2725,7d80b774bad2c1c0359d3d61e5c809e5bc2cebc9,alle Wilund <calle@cloudius-systems.com>, 2014-07-01 13:27:20 +0200, , trace binary trace dump api add api generate binary trace dump file varying optional level information contained suitable wire export signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2726,3ddd3e6dba94558419169edc41ad82d3ce191ce9,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-07-02 00:32:27 -0300, , vfs move dentry specific function new file created file vfs_dentry.cc directory vfs hold dentry specific function detail moved lookup_init content new function called dentry_init call dentry_init lookup_init add declaration dentry_lookup dentry_init vfs vfs.h semantic change made refactoring thing signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2727,26ec6270d99757d9c378ac0970f4603970121a1d,mitry Fleytman <dmitry@daynix.com>, 2014-07-01 17:59:25 +0300, , ec2 utils introduce instance related function function introduced query instance name query instance private name signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
2728,f8ddbda640b54b3d021736206cd91aa662974562,mitry Fleytman <dmitry@daynix.com>, 2014-07-01 17:59:24 +0300, , release ec2 move generic code separate file generic ec2 related code moved separate file reused jenkins test automation script signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
2729,c00e6e14bc0164b5bb38b723ac1499fa4b9028b9,lauber Costa <glommer@cloudius-systems.com>, 2014-07-02 10:44:03 +0400, , libosv.so make work python2 well signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2730,48881fa3578a0483832b17d78d7c20145d44618b,adav Har'El <nyh@cloudius-systems.com>, 2014-07-01 20:25:32 +0300, , script top.py patch add top script script top.py one run host connects osv guest rest api every two second make thread request get list thread one total cpu time subtracting two consecutive list provides cpu time consumed thread period divided elapsed time produce cpu usage percentage thread refresh top thread displayed example single threaded memcached run 155 thread cpu idle cpu time name 216 91.5 19.30 memcached 17.9 3.32 virtio net 2.1 1.25 page access sca 0.5 0.09 rcu0 0.4 0.04 percpu1 0.1 0.04 rcu1 0.0 0.02 balancer0 0.0 0.04 percpu0 0.0 0.01 rcu2 idle thread shown main list rather top summary line say many cpu found percentage time cpu idle last period percentage including idle percentage accurate number slightly even slightly 100 expected running thread quirk thread thread_clock implementation see running thread current time slice typical time slice much shorter top period second problem usually negligable signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2731,9145f3315e17d5226c47aafe7fbf868d40a1d9ae,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-02 09:43:59 +0300, , mgmt update latest signed pekka enberg penberg cloudius systems.com,,
2732,810541324ab244795178f651f5af607f6e99bee8,adav Har'El <nyh@cloudius-systems.com>, 2014-07-01 14:03:18 +0300, , rest api add thread request add thread request used implement top command separate patch request return list thread thread specifies numeric name total cpu time usage list also accompanied current time useful top run slow network time printed millisecond resolution deemed enough purpose api nanosecond resolution needlessly increase size output future additional field thread cpu priority pinned status state running waiting etc stack size etc. added field added minimum selection field necessary useful top help finding cpu hogging thread signed nadav har nyh cloudius systems.com,,
2733,de0fc5ea31b732aeba4b2afe95ebb2aef6d72d7f,adav Har'El <nyh@cloudius-systems.com>, 2014-07-01 17:13:37 +0300, , add name thread running external executables gdb osv info thread new top.py useful thread name osv internal thread already informational name run external executables like java memcached often see empty name patch change loader.cc run_main run executable main set current thread name executable name moreover thread spawn another thread explicitly set name inherit parent name prepended character example top running memcached java shell might show 157 thread cpu idle cpu time name 216 90.4 27.28 memcached 19.6 5.01 virtio net 234 6.1 1.61 java.so 3.4 5.60 page access sca 227 2.5 0.69 java.so 228 1.8 0.61 java.so .... note thread using 90.4 cpu named memcached meaning thread spawned memcached main thread another 6.1 spend java.so great grandson java.so main thread know function thread would nice able somehow figure least knowing part java part memcached libhttpserver anonymous part kernel interesting signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2734,030a9bd64a8384080aac8ed6b7e93dfdba84141e,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-01 16:58:37 +0200, , build fix build chagne unintentionally introduced commit signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
2735,4031f113188068bf696da94ff81cb634af541bb2,mitry Fleytman <dmitry@daynix.com>, 2014-07-01 17:46:00 +0300, , readme add gawk debian prerequisite gawk required build.mk gensub supported plain awk signed dmitry fleytman dmitry daynix.com signed avi kivity avi cloudius systems.com,,
2736,7d514098808a4f3c5f91ebeddba8944e379f518b,mitry Fleytman <dmitry@daynix.com>, 2014-07-01 17:44:44 +0300, , setup.py introduce ec2 testing environment patch introduces command line option ec2 prepare environment ec2 release process test install package needed testing help standard help screen signed dmitry fleytman dmitry daynix.com signed avi kivity avi cloudius systems.com,,
2737,355b81fa4d9da822d57358ddf474c068d2170ec0,mitry Fleytman <dmitry@daynix.com>, 2014-07-01 17:44:43 +0300, , setup.py introduce ubuntu 14.04 support signed dmitry fleytman dmitry daynix.com signed avi kivity avi cloudius systems.com,,
2738,09a8858ea4ff7c7494afcaedf2803d523c3a8b78,mitry Fleytman <dmitry@daynix.com>, 2014-07-01 17:44:42 +0300, , setup.py get distribution type version portable way distribution identification file patch make script use portable python facility instead looking specific file signed dmitry fleytman dmitry daynix.com signed avi kivity avi cloudius systems.com,,
2739,ba53f3b7c8602a4e62dbcab8675101b5ad55dbb5,mitry Fleytman <dmitry@daynix.com>, 2014-07-01 17:44:41 +0300, , setup.py add missing package fedora signed dmitry fleytman dmitry daynix.com signed avi kivity avi cloudius systems.com,,
2740,6c858ea547b96f7feb90f4d1474399979853d252,mitry Fleytman <dmitry@daynix.com>, 2014-07-01 17:44:40 +0300, , setup.py fix error handling signed dmitry fleytman dmitry daynix.com signed avi kivity avi cloudius systems.com,,
2741,6a292524742470346145e9a0ec33783fc2891304,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-01 14:09:02 +0200, , module java simplify creation link reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2742,5923adcdcc4be2b2f6685ad3341e7afec696f8b1,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-01 14:09:01 +0200, , module add syntax creating symbolic link following usr_files.link lib .to lib.1.0 result creation lib linked lib.1.0 guest file system reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2743,6c7d5456c04a71c02fd8cbdb2545e865672afbb6,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-01 14:09:00 +0200, , cpio log creation symbolic link log adding file let also log creating link consistency useful debugging build reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2744,59f48f35c48f849c417278594b924eca24d4b2bd,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-01 14:08:59 +0200, , manifest add syntax creating symbolic link guest image following lib lib.1.0 create lib linked lib.1.0 reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2745,584bca85c8ddf0abd6ffe86731662f170de164c6,mitry Fleytman <dmitry@daynix.com>, 2014-07-01 13:55:33 +0300, , release ec2 make credential management robust patch introduces change fix help text make instruction credential definition clearer verify credential presence starting release process signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
2746,c5105558231d0d8d5b80bb8c676a18bb43b50644,alle Wilund <calle@cloudius-systems.com>, 2014-06-17 16:43:21 +0200, , trace cleanup function minor change removing exposing glob regex avi suggestion nicer interface signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2747,ca3b7bdf92a760c790a7f30d24613ad39d5c1522,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-05-16 13:05:58 -0300, , random add note avoid misconception virtio_rng_read signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2748,873b61392fbff6040a50f5ba5a24adbf787759c7,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-06-26 09:07:49 +0900, , libc add run webrick ruby http server reviewed nadav har nyh cloudius systems.com signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
2749,50d8b7c0a19df40c0f30ddf3321dc02ec8933571,mitry Fleytman <dmitry@daynix.com>, 2014-06-26 09:03:25 +0300, , ec2 release check image format upload ec2 support image format raw however doe verify image format upload qcow2 image may successfully imported volume attached instance instance volume fail start indication went wrong image format verification added ec2 release.sh script eliminate possibility signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
2750,348fce9723dc4dcc3f23e5f98cf10ba4251220bd,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-30 17:36:25 +0300, , http server auto code generation determine class order model inside model required determine creation order set valid order call error cyclic found also add assignment operator used canonical model signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2751,7e629ac945336d255eedeb8580724698110fc567,ekka Enberg <penberg@cloudius-systems.com>, 2014-07-01 13:24:12 +0300, , mgmt update latest signed pekka enberg penberg cloudius systems.com,,
2752,1a4e13c6a946a98f8566590a476a6f70a26fad44,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-30 17:36:24 +0300, , http server code generation add template function copy set structure working json object sometimes useful copy information structure define somewhere else add ability copying struct field signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2753,4b1a1eb339ec2c6ad615f34a4d5d0d209c05da6e,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-01 11:57:32 +0200, , osvinit express compilation time dependency httpserver require reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2754,8871da6361cf100a0e51758638c4498aa84ca401,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-01 11:57:16 +0200, , osvinit fix compilation error handle return void signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2755,984a5c158212c648c189e9e04050afff9d55d8db,lauber Costa <glommer@cloudius-systems.com>, 2014-07-01 13:59:57 +0400, , libosv warn version mismatch cumbersome fail loading elf version mismatch proposed solution warn loudly case signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2756,c009a1ad2cba73042c7e395d8a089982da385779,lauber Costa <glommer@cloudius-systems.com>, 2014-07-01 13:59:56 +0400, , provide shared library containing osv symbol patch introduces script autogenerate library libosv.so besides future allowing linking agains special symbol external application outside osv build system immediate use allow osv internals exposed mechanism java jna jni relies readelf command work shipped binutils therefore extra dependency required symbol either object func explicitly left behind would complicate implementation revisit future really need script work scanning global symbol final osv elf generating corresponding symbol libosv.so linker script guarantee address match one kernel mean version libosv.so kernel must match whitelist blacklist make case everything normally visible osv elf visible shared library making symbol invisible done earlier unrelated step tested jna wrapper call getpid gettid due simplicity working perfectly signed glauber costa glommer cloudius systems.com lyor goldstein lgoldstein vmware.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2757,ae06ab472ed39c2fe1b81117a529df9a8d0816c5,aspal Singh Dhillon <jaspal.iiith@gmail.com>, 2014-06-23 11:14:55 +0530, , core implement pselect add implementation pselect signed jaspal singh dhillon jaspal.iiith gmail.com signed pekka enberg penberg cloudius systems.com,,
2758,4a21f85c60d1ee705dff45e1806e15ab43d97d3d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-01 11:36:11 +0200, , module configure osv.git module module repository signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2759,139fd05b4bbedebb387319a051f31ef211c19118,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-07-01 11:36:10 +0200, , module include apps.git module repository way longer need apps.git modules.json file currently hold zero information purpose source merge conflict signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2760,b62e5f3426f7a2fa75e36cee85a7aa0ee2ea8a4d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-23 13:39:01 +0200, , sampler make start_sampler always succeed simpler way api user would typically want sampler already running restarted signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2761,20ba234d699bd41800ad2940b066b342411ffa6e,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-23 14:04:00 +0200, , api add restful api controlling sampling profiler starting curl post http osv 8000 trace sampler freq 1000 stopping curl post http osv 8000 trace sampler freq signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2762,4661f6c36436992259c03fc0ce5401ad93cbe006,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-23 14:03:58 +0200, , httpserver cleanup make handle return void return value handler_base handle used anything signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2763,cb4a66dd4005c323e3d1ca02eda3f3aea8e6223f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-23 14:03:57 +0200, , httpserver cleanup remove unused parameter reply400 reply500 parameter effect give false ilusion error code controlled fix signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2764,e2eb1712bfdb2ebcc0cb2934feb3f2774ce67af1,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-23 14:03:56 +0200, , httpserver override response code request post processing phase fix issue response code set lambda handler getting overriden 200 signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2765,fb279a8608548a657c7d438ddd6859f50649b3f0,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-30 15:39:18 +0200, , module make api.require impose compilation ordering change make api.require express run time dependency also imply compilation order osvinit depends httpserver artifact build require could reused simple way express dependency reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2766,6bf452526e3db62618c6b27efe461edabe1be44f,adav Har'El <nyh@cloudius-systems.com>, 2014-06-24 09:47:08 +0300, , add test sethostname friend test run linux need root permission osv signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2767,ed639c75189c32038c8f9320e5197a2bc32f9ebc,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-26 14:02:43 +0200, , module introduce concept repository repository hold module directory extra config file needed layout implied reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2768,fe7b6e318fb4246783a6fddaf6bf88553bbc8748,aspal Singh Dhillon <jaspal.iiith@gmail.com>, 2014-06-29 17:48:47 +0530,60, rest_api expose set get hostname api patch mgmt allows get set hostname via rest api example get hostname curl http localhost 8000 hostname set hostname osv_rocks curl post http localhost 8000 hostname name osv_rocks fix signed jaspal singh dhillon jaspal.iiith gmail.com signed pekka enberg penberg cloudius systems.com,,
2769,2a9d3018aa1e9a61b9d7f150afc013af59640df8,laudio Fontana <claudio.fontana@huawei.com>, 2014-06-26 14:48:29 +0200, , tool add uush add micro micro interactive shell allows run command either foreground background using appended command useful testing purpose especially running directly loader.img full usr.img build available cmdline argument uush module add image using make image uush example use loader.img aarch64 script imgedit.py setargs build release loader.img nomount tool uush.so qemu system aarch64 nographic virt enable kvm kernel loader.img cpu host 1024m full usr.img script x64 script run.py tool uush.so reviewed nadav har nyh cloudius systems.com signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
2770,aa909ec230a3f323ad76008a2280b443e3272cd6,adav Har'El <nyh@cloudius-systems.com>, 2014-06-30 23:56:08 +0300, , mgmt httpserver add include directory httpserver makefile list osv include directory use osv apis implementation request however add enough include directory allow including osv header osv sched.hh patch add include path arch arch needed arch.hh needed driver clockevent.hh needed able include osv sched.hh honest osv api situation bit mess many different directory header file api header like sched.hh include huge number header define class field unfortunately exposed also clear official policy mixing linux osv header file solve problem patch interim fix signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2771,ddcfc924a739565f6dd2f7189ef6d6471216a179,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-05-16 10:56:31 -0300, , random avoid uneeded buffer allocation deletion reviewed nadav har nyh cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2772,517426446f3632f3d33ef4847001c74a024ce4e5,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-05-16 10:56:30 -0300, , random source entropy conditionally registered hardware source entropy registered available e.g virtio rng reviewed nadav har nyh cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2773,3b36ade79df64b6d4c58687a1909008eb904ffe7,adav Har'El <nyh@cloudius-systems.com>, 2014-07-01 09:19:56 +0300, , sched add api iterating thread currently provide method iterating thread something top would like example thread_map private sched.cc stay way patch provides new function iterates thread call given std function one function supposed safe thread freed someone running inefficient hold throughout entire iteration currently used debugging purpose e.g. implementing top reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2774,016a707706398d0db1db7094d9af9f41d2ac8fc7,adav Har'El <nyh@cloudius-systems.com>, 2014-06-30 22:37:28 +0300, , remove unnecessary include remove include api assert.h osv debug.hh unnecessary also needlessly cause problem program httpserver module combine host header file osv assert.h api assert.h end used slightly different definition __assert_fail include added commit b40cb27a know seem needed signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2775,eb0554cfce80d79099b485b59979129a3913b0e9,rasad Joshi <prasadjoshi.linux@gmail.com>, 2014-06-30 23:45:17 +0530, , test add eventfd unit test reviewed nadav har nyh cloudius systems.com signed prasad joshi gmail.com signed pekka enberg penberg cloudius systems.com,,
2776,3ed506bd0d9824c7bcbe21a19bfa8d9bca9956d9,rasad Joshi <prasadjoshi.linux@gmail.com>, 2014-06-30 23:45:16 +0530, , eventfd add eventfd support eventfd object used event notification eventfd object maintains counter read written using normal read write system call depending eventfd created read may either wipe counter reduce read write service immediately execution blocked event occurs unblock execution example read eventfd would blocked counter similarly write would blocked counter ullong_max writing eventfd unblocks reader waiting reviewed nadav har nyh cloudius systems.com signed prasad joshi gmail.com signed pekka enberg penberg cloudius systems.com,,
2777,6b8ac32bc0e827adaaf2a35e016796a36dbdbd71,akuya ASADA <syuu@cloudius-systems.com>, 2014-06-30 21:08:40 +0900, , vmxnet3 enable multicast signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2778,6b6b19b08d1bb15f6b1f34304d34e9e6c70d455a,akuya ASADA <syuu@cloudius-systems.com>, 2014-06-30 21:08:39 +0900, , virtio net enable multicast signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2779,77b14014ac148b0bea876fdff4a5240a75486725,akuya ASADA <syuu@cloudius-systems.com>, 2014-06-30 21:08:38 +0900, , bsd add support socket option signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2780,90d645acd430b148cad104a8cbb2671efee32d44,akuya ASADA <syuu@cloudius-systems.com>, 2014-06-30 21:08:37 +0900, , libc add inet_addr inet_aton code taken musl libc signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2781,4a201cea8fdec23ec56e6d32b4917a33a7bae78f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-30 10:36:43 +0200, , test rely osv power_off sleep nadav saw failing run inside qemu without kvm test failed trace osv power_off backtrace trace prof wait concluded best rely function always sleep changed assertion use sched thread wait instead generic probably always reported nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2782,621c9a4543b2ae422ac78d6bb49c7fba5561ef3c,ekka Enberg <penberg@cloudius-systems.com>, 2014-06-30 10:26:09 +0300, , mgmt update latest signed pekka enberg penberg cloudius systems.com,,
2783,ff54d54cd14ce7f44dea4abc4593bc8b99429501,adav Har'El <nyh@cloudius-systems.com>, 2014-06-29 22:46:35 +0300, , mgmt compile osvinit httpserver explicitly specify build system osvinit module need compiled httpserver module otherwise may randomly get opposite order compilation fail signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2784,059f3f91a3ffeb542acea4215d088b8c27b87088,aspal Singh Dhillon <jaspal.iiith@gmail.com>, 2014-06-24 07:09:01 +0530,353, libc implement sethostname sethostname set hostname struct utsname declared uname.c patch also remove hostname.cc libc network duplicate implementation gethostname used build fix 353 reviewed nadav har nyh cloudius systems.com signed jaspal singh dhillon jaspal.iiith gmail.com signed pekka enberg penberg cloudius systems.com,,
2785,05bccd719c10400c225b793e2c87c5951f6db56f,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-06-27 13:14:38 -0300, , test fix misc readbench use stat follow symbolic link get correct file type misc readbench supposed jvm directory contains symbolic link signed raphael carvalho raphaelsc cloudius systems.com signed avi kivity avi cloudius systems.com,,
2786,568753cb9f5f38d476145f70755774582b0ffa1d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-26 18:10:33 +0200, , module make run_java interface convenient following allowed equivalent api.run_java args jar1 jar2 mainclass api.run_java args jar1 jar2 mainclass api.run_java jar1 jar2 mainclass signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
2787,2a71c077f3852f8ab84327c11ccd5190c3682395,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-06-28 09:38:56 +0900, , libc use weak_alias instead declare eaccess signed kanatsu minoru icc.pot.tyew272 gmail.com signed avi kivity avi cloudius systems.com,,
2788,126e333ed488865e603fd1fe9833f9793a7242dd,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-06-28 04:46:47 +0900, , libc add finite finitef finitel signed kanatsu minoru icc.pot.tyew272 gmail.com signed avi kivity avi cloudius systems.com,,
2789,dd4efe19322d8f14dbab84afc8e4e8847ff2c5a1,laudio Fontana <claudio.fontana@huawei.com>, 2014-06-26 16:48:09 +0200, , aarch64 handle page fault case need handle access fault permission fault well translation fault data abort also instruction abort signed claudio fontana claudio.fontana huawei.com jani kokkonen jani.kokkonen huawei.com signed avi kivity avi cloudius systems.com,,
2790,e56704c496a0a4adfb5f63840c5054a1eff3ccc2,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-27 15:44:51 +0200, , test add test exploiting class path issue test class put loaded via global default system class loader signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
2791,7bb1303ed1d22e1663cc86e7c1f26f31b1f7922b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-27 15:44:50 +0200, , java exclude default system class loader class path java.class.path set jvm using default causing problem class put root directory isolated context part class path let consider following command start new isolated context classpath consisting some.jar java.so some.jar main suppose definition main look like class main extends supermain  supermain class definition some.jar main defined main.class main class looked parent class loader queried first default system class loader class path class loader become defining class loader main however able locate definition supermain class loading fail  prevent must ensure default system class loader created jvm catch user class may specified context class path setting dev null achieves goal alternative solution would put default system class loader parent class loader app class loader however former one putting extension jar class path need accessible isolated constext signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
2792,4079bf045648b6ab3f4e8de1f74caba68a827bcf,lauber Costa <glommer@cloudius-systems.com>, 2014-06-27 12:35:15 +0400, , linux adjust gettid visibility gettid currently available symbol usually doe appear standard libc header lot caller syscall path since global symbol better linkage  signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2793,45676e9a24a90cc7a0cb91cbe966718e1340f8de,adav Har'El <nyh@cloudius-systems.com>, 2014-06-26 13:47:26 +0300, , use osv run run_elf run_elf jni function running executable used example shell run command use osv run instead reimplementing osv run recently acquired step namely copying argument consecutive memory future might get even complex e.g. treat executables differently shared object let use osv run signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
2794,3dcc13cd1964232f684b034760170ab6a692d7a8,laudio Fontana <claudio.fontana@huawei.com>, 2014-06-20 09:34:17 +0200, , build.mk fix info message broken previous commits signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
2795,42e767f6d2b7d2c36f480ab763aae8445481490b,laudio Fontana <claudio.fontana@huawei.com>, 2014-06-23 17:23:23 +0200, , async remove unused include directive also remove becomes useless signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
2796,4790792bdb1b8a70ac660048f41b6da03298ca66,laudio Fontana <claudio.fontana@huawei.com>, 2014-06-23 17:32:25 +0200, , aarch64 libc remove unnecessary stub implementation necessary anymore mmu page fault signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
2797,8659e288ac2206133415f1f135ba1e5991155a2e,laudio Fontana <claudio.fontana@huawei.com>, 2014-06-23 13:30:08 +0200, , aarch64 entry.s treat sync abort page fault sync abort made equal treat everything translation fault everything else put interesting value x21 x24 halt easily debug happened signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
2798,351e409e4c763dee6397afa77b40396c48f78121,vi Kivity <avi@cloudius-systems.com>, 2014-06-26 13:43:46 +0300, , mgmt update signed avi kivity avi cloudius systems.com,,
2799,9d643d21b70dce9913c1b0acc76448f9532a8665,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-18 18:11:28 +0300, , module add osvinit module add osvinit module image signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2800,1a785e2f03de16170a18ea1f277d48a6c7ef7bab,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-26 13:13:50 +0300, , http server global server header file global server singleton class access api signed avi kivity avi cloudius systems.com,,
2801,d8835c7f407e8bc29cba9cc2758021ecd6dd2515,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-26 13:13:51 +0300, , osvinit add directory yaml cpp library add directory yaml cpp library path signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2802,ebfa61808276388b75fc63adced183e3986356c3,vi Kivity <avi@cloudius-systems.com>, 2014-06-26 13:02:37 +0300, , mgmt update signed avi kivity avi cloudius systems.com,,
2803,e5b7faac9951790ebead75c2e999580adf527eb2,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-18 18:10:32 +0300, , http server rename httpserver.so osvinit depends httpserver library nameing httpserver lib prefix allows using compilation lib placed load path found osvinit signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2804,7c4913ebce14e0759a1686c25129b7d18edd62ca,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-18 18:10:38 +0300, , osv init add module.py package yaml cpp lib osvinit.so osvinit.yaml init file default osvinit started httpserver change starting line uncommentted osvinit started directly osvinit httpserver started signed amnon heiman amnon cloudius systems.com module.py need merge signed avi kivity avi cloudius systems.com,,
2805,77e73ce71b212ce90513c40b85d651548f8357de,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-18 18:10:31 +0300, , http server make file create stub library osvinit stand alon mode need linkage stub file httpserver makefile target creates lib stub file signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2806,81b1718e0d5d5a3a36b7db740a25685d770b2f02,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-18 18:10:37 +0300, , osv init makefile adding make file create osvinit.so use image osvinit standalon testing signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2807,eb3d965b82eae12f62b307e21ccd158d16a3e553,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-18 18:10:30 +0300, , http server singleton class starting httpserver osvinit need access httpserver internal logic start serve external client also need ability delay operation initilization process completed global server singleton class hold httpserver responsible initialization access httpserver expose server route object used directly osv init server need started explicitely start serving external client logic global_server replaces code used main instead starting httpserver main call global_server run server route initilization done global_server class signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2808,3bd186b7dd69d0847acbb6a17425d108bfab1435,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-18 18:10:36 +0300, , osv init basic configuration file default configuration file empty osvinit use replace httpserver osvinit would start api server configuration done signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2809,90fad5af391e5dfbf9891978e2d5aec72053686d,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-18 18:10:35 +0300, , osv init main main start osvinit task get command line either file name server name path server init file parser passing configuration osvinit call osvinit wait would return imidiatialy httpserver run signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2810,f9db11d32169e05773d1ba1a251ca4cfd388469a,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-18 18:10:34 +0300, , osv init osvinit class osvinit object command yaml parser either call api command perform internal command supported option command contains get put post delete url command path parameter come part url query parameteres follow yaml parameter osvinit set stop error ignore opening api osv init creates new thread would wait thread terminate signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2811,bea20dcbd63670be1fd760be2a550324921ad157,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-18 18:10:33 +0300, , osv init http client http client loosely based boost http client example original example found http www.boost.org doc libs 1_55_0 doc html boost_asio example cpp03 http client sync_client.cpp client class redirect output output stream client following done std cout client used retrieve init file remote server replaced library client need arises signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2812,2fd17a3738458c0ffc207a5975869eca44c028b5,leb Natapov <gleb@cloudius-systems.com>, 2014-06-26 11:20:49 +0300, , dhcp add handling option 121 classless static route signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
2813,c9d3ee53d03178bc39b0d0906461d9e3639a9f34,adav Har'El <nyh@cloudius-systems.com>, 2014-06-23 00:44:17 +0300, , elf warn using unsupported combination pie explained issue 352 pie position independent executable using thread local storage doe currently work correctly fixing case easy dangerous allow case ignored cause reading writing wrong position memory whenever used pie patch add warning printout stdout whenever one attempt load pie variable course temporary measure real solution fix object load warn signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
2814,79c13c3b6bae0172bfb170d2a2bb6356989a50bb,adav Har'El <nyh@cloudius-systems.com>, 2014-06-25 22:47:00 +0300, , fix writev well patch fix bug writev identical one already fixed readv illegally modified const argument patch also add test tst uio.cc test bug signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
2815,e125fd55bc6427e9a16ce7364724b17b8594e5a5,adav Har'El <nyh@cloudius-systems.com>, 2014-06-25 19:22:33 +0300, , test readv fread test confirms bug issue 354 verifies fix demonstrates readv wrongly modified const parameter fread returned garbage data compared correct data returned getc read bug fix readv fread work correctly signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
2816,e4ec7057000fd87cdf3ce7b8dfa03657094c62ba,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-25 18:50:29 +0200, , tcp trim mbuf packet length net channel path fix 342 according rfc894 minimum ethernet frame size byte packet smaller padded look like vmxnet constrast virtio net respect rule pad small packet zero freebsd stack prepared mbuf trimmed called ip_input however net channel fast path logic patch add missing processing reported lyor goldstein lgoldstein vmware.com signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
2817,a36399ac2e6813ec57f55e57986af7d906318a6e,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-06-26 04:58:48 +0900, , remove double include signed kanatsu minoru icc.pot.tyew272 gmail.com signed avi kivity avi cloudius systems.com,,
2818,53b6bba9ec56c3fa571b2bb0f78b8299e1ecad76,adav Har'El <nyh@cloudius-systems.com>, 2014-06-25 23:03:47 +0300, , remove dead code remove copyinuio function needed needed future reason allocate uio heap reason copy iovecs function signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
2819,8b2c765478974845c0c5ca96696ce0953a21f552,akuya ASADA <syuu@cloudius-systems.com>, 2014-06-26 06:58:32 +0900,340, vmxnet3 fix tso support vmware player workstation fusion report tso support vmware player workstation fusion broken upstream driver freebsd http bugzilla show_bug.cgi 185849 patch backported fix freebsd http base view revision revision 267253 fixed 340 signed takuya asada syuu cloudius systems.com reviewed dmitry fleytman dmitry daynix.com signed avi kivity avi cloudius systems.com,,
2820,835c332326fcea454de31dd4ad2fba71d745cf8e,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-06-26 04:27:09 +0200, , xen align grant table page boundary signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
2821,804c3ece4d12ce7468d596b7f4430f865c62508c,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-06-26 04:27:10 +0200, , zfs align vdev_label_t buffer page boundary signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
2822,7b7849c22401675b67b21c96c57955fe99da097f,adav Har'El <nyh@cloudius-systems.com>, 2014-06-25 19:10:27 +0300, , fix bug readv fread readv take pointer const iovecs meaning allowed change unfortunately internal read implementation modify iovecs zeroing length field turn non conformity standard also break fread implementation readv assumes touch iovec length without patch fread large enough length return garbage interestingly compiler warned writing const field except explicit cast removing constness yuck solution copy iovecs sys_read new vector allocated heap interestingly existing code already used silly function copyinuio allocated uio structure heap need forgot copy iovec needed use correct inline code instead useless copyinuio fix 354 separate patch provide test case bug also patch writev perhaps user copyinuio signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
2823,72c73c90136a96f156bd783de87ce3914e29e919,adav Har'El <nyh@cloudius-systems.com>, 2014-06-25 13:20:26 +0300, , fix cfsetspeed according termios cfsetspeed set input output speed signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
2824,f3ecca328336752c8878701ca9fc243b5ae11062,adav Har'El <nyh@cloudius-systems.com>, 2014-06-25 13:13:29 +0300, , fix cfset speed nonsense termios line speed thing interesting nevertheless implement set get speed function let least right current code weird wrong combination archaic unix linux archaic unix one speed setting input output controlled c_cflag field termios structure bitmask cbaud posix allows two separate speed input output specify kept linux glibc keep seperate field termios structure c_ispeed c_ospeed abi compatible linux also field structure use summarize getispeed getospeed function correct reading relevant field termios structure setispeed setospeed apparently copied musl using old cbaud technique fit getispeed getospeed patch modifies set function match get function also match glibc implementation signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
2825,c1467517a6da775b1d58936b701295a7b84dd816,adav Har'El <nyh@cloudius-systems.com>, 2014-06-25 12:42:13 +0300, , add missing cfgetispeed add missing trivial function termios signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
2826,a6d6ce8f8d882cada2ffde27cd108c27c6c8657c,lad Zolotarov <vladz@cloudius-systems.com>, 2014-06-25 13:29:25 +0300, , virtio net txq use proper size virtio_net_hdr according virtio specification virtio_net_hdr include num_buffers field feature negotiated although field used flow presence impact size whole virtio_net_hdr struct therefore taken account posting virtio_net_hdr flow broken commit f99c90b9 patch fix back signed vlad zolotarov vladz cloudius systems.com reported gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
2827,d511e6c091b6de11aa3bb6b16a4c41dbbe2e56fc,lauber Costa <glommer@cloudius-systems.com>, 2014-06-23 16:28:31 +0400, , run fix redis boot finally found preventing redis booting reliably two main comment absolutely idea working well fpu thing really red herring nothing believe technically redis bug however kind agree linus famous memcpy discussion something fail written specification mean assigning blame around end matter work problem simple redis assumes string argv array contiguous memory conscious well though manner led believe maybe specified somewhere find anything saying requirement still redis doe assume contiguous storage memset whole region start end string start contiguous get command line last stage composing array copy redis ran single parameter problem specify configuration file also memory allocator happens make string contiguous problem close enough problem maybe notice likely scenario far said really idea point time around fpu commits becomes likely maybe due pawel allocator change also nearby fpu commits could tricked redis advocate fixing osv maybe people making assumption proposed fix easy last step calling main copy string contiguous buffer signed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com,,
2828,0ce815ad7ca1d117ebe72d66b3b4d3569ac7faa8,lad Zolotarov <vladz@cloudius-systems.com>, 2014-06-24 15:35:19 +0300, , sendmsg kern_sendit create local copy user iovec kern_sendit call sosend change content iovec uio parameter specifically result uiomove call patch set uio uio_iov msg_iov come application application assume msg_iov changed e.g memcached result application may get seriously confused example memcached send corrupted responces value size greater mtu e.g 5024b 1500b mtu easiest way fix create local copy iovec may consider creative approach future signed vlad zolotarov vladz cloudius systems.com signed avi kivity avi cloudius systems.com,,
2829,852a84adf5cff4831e47cd8892ea0df91747d28e,vi Kivity <avi@cloudius-systems.com>, 2014-06-24 14:05:09 +0300, , acpi run interrupt handler thread acpi interrupt handler allowed take lock must run thread add class take care arranging thread exit done signed avi kivity avi cloudius systems.com,,
2830,accc2cd2d53d6d6e3c17a8ecb95290ec9ebf281c,leb Natapov <gleb@cloudius-systems.com>, 2014-06-24 15:55:12 +0300, , acpi shutdown osv power button acpi event signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
2831,b5fe3bc375da7fbf6e1faa7d4f98ff09ca0a81c5,vi Kivity <avi@cloudius-systems.com>, 2014-06-22 15:07:16 +0300, , script add script setup development environment installs required package signed avi kivity avi cloudius systems.com,,
2832,4a5c6123f10616dc0c403792f53defb3e2f6f494,laudio Fontana <claudio.fontana@huawei.com>, 2014-06-24 11:25:22 +0200, , elf support r_x86_64_copy relocation relocation necessary run netperf.so signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
2833,615cacee0d8acc172891dc4e19565983ac5db0df,vi Kivity <avi@cloudius-systems.com>, 2014-06-23 17:55:31 +0300, , apps update signed avi kivity avi cloudius systems.com,,
2834,f96ea1dca225d7838de7ec54e77b0864363da625,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-06-22 17:44:46 +0900, , libc add eaccess run irb eaccess refer access signed kanatsu minoru icc.pot.tyew272 gmail.com reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
2835,62f54c96d30bd4a77f3e3009ecc26b8abaed5f2f,aspal Singh Dhillon <jaspal.iiith@gmail.com>, 2014-06-20 10:01:15 +0530, , core implement ppoll simple implementation ppoll using poll minoru say ppoll needed program tcpserver signed jaspal singh dhillon jaspal.iiith gmail.com signed avi kivity avi cloudius systems.com,,
2836,4b0faf75aa6c7142048be2bd531b16055e61ad50,lad Zolotarov <vladz@cloudius-systems.com>, 2014-06-19 21:25:10 +0300, , virtio net txq caclucate length caclucate length use vqueue _sg_vec.size instead signed vlad zolotarov vladz cloudius systems.com signed avi kivity avi cloudius systems.com,,
2837,84ec83ccfebda30f48547362b1ca0c6143f3708c,lad Zolotarov <vladz@cloudius-systems.com>, 2014-06-19 21:24:12 +0300, , virtio net use indirect buffer improve tcp performance signed vlad zolotarov vladz cloudius systems.com signed avi kivity avi cloudius systems.com,,
2838,4bc74c88bdb70108745d0deef910c289d491a2fe,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-06-19 22:05:28 -0300, , zfs implement zfs_ioctl function zfs_ioctl ported freebsd code osv port detail copyright properly updated added missing header bsd sys sys filio.h freebsd solved conflict later lseek modified take advantage change add support finding hole data signed raphael carvalho raphaelsc cloudius systems.com signed avi kivity avi cloudius systems.com,,
2839,05c80f33a81e4c71b3cc6bfb725a18528838648f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-20 14:06:05 +0200, , java isolated context inherit system property context started another context inherit system property may interfere state badly example inheriting logging property may result child class present parent context found child context initial system property set jre available though signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
2840,85b5409fbd9fabd08161aa0a4d719e1be91eea46,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-20 14:00:57 +0200, , test add test presence osv.version property feature introduced commit signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
2841,1683f6f7d66800b7179ddd71fd43252f4637186f,laudio Fontana <claudio.fontana@huawei.com>, 2014-06-18 09:48:28 +0200, , runtime make abort __assert_fail callable early backtrace functionality elf function acquire lockfree mutex lock require thread initialized s_current nullptr well elf program contructed s_program null abort used print debug_ll meantime debug_ll changed semantics due console framework change therefore need use debug_early ensure message end console time call condition patch make abort assert callable even full construction init array premain available signed claudio fontana claudio.fontana huawei.com nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
2842,9a0443278d75183c96e2e9b84556563d1937238c,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-06-20 15:33:58 -0300, , elf unload object removal like _needed cleared well underlying object removed signed raphael carvalho raphaelsc cloudius systems.com signed avi kivity avi cloudius systems.com,,
2843,7ce14568366e6c64505e4e1fd38c6903ad727ef7,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-06-20 19:58:46 -0300, , vfs bio call bio_sync closing vfs layer bio_sync function intended called bio layer done cached buffer sync buffer marked b_delwri meaning delayed underlying buffer reused simply put delayed writes osv powered unlikely buffer marked b_delwri used time patch fixing bug zfs currently make use delayed writes doe vfs layer anyway bio_sync initialize function bio layer called closing vfs layer signed raphael carvalho raphaelsc cloudius systems.com signed avi kivity avi cloudius systems.com,,
2844,52a0abc961e03a37d5b356491cc3fd4e7eb1ec45,vi Kivity <avi@cloudius-systems.com>, 2014-06-22 10:41:37 +0300, , merge tag rpath http github.com avikivity osv recent jvm change caused java fail openjdk rpath shared object referring full path usr lib jvm java 1.7.0 openjdk 1.7.0.60 since also need support standard path usr lib jvm java usr lib jvm jre employ symlinks series including prasad symlink series add symlink support osv module system change java module include extra path cassandra work signed avi kivity avi cloudius systems.com,,
2845,569a7ba52b89fdd526cd639191ce149303411f11,vi Kivity <avi@cloudius-systems.com>, 2014-06-18 16:50:28 +0300, , java fix rpath trouble newer openjdk rpath shared object containing full package path usr lib jvm java 1.7.0 openjdk release.x864_64 try load package path evnetually place file large change instead keep jdk usr lib jvm java create symbolic link usr lib jvm java 1.7.0 openjdk release.x864_64 point rpath satisified signed avi kivity avi cloudius systems.com,,
2846,ff463d0307e1d64cfbdadd09193b87089811ef59,vi Kivity <avi@cloudius-systems.com>, 2014-06-19 17:26:07 +0300, , build teach upload_manifest symlinks signed avi kivity avi cloudius systems.com,,
2847,54722a45252520aa2ff3fcab225e61839de8da05,vi Kivity <avi@cloudius-systems.com>, 2014-06-18 16:52:15 +0300, , module allow symbolic link complain broken link unbroken entire image assembled signed avi kivity avi cloudius systems.com,,
2848,e65ad8201199212293cc554de3f2e52721a171c4,vi Kivity <avi@cloudius-systems.com>, 2014-06-18 16:49:26 +0300, , cpiod ignore symlinks java want symlinks allow signed avi kivity avi cloudius systems.com,,
2849,a5665fe0ad2cb688a9364fe5e51d3015a03bd209,vi Kivity <avi@cloudius-systems.com>, 2014-06-19 17:22:26 +0300, , vfs remove check symlink target perfectly legal create dangling symlink symlink note checking oldpath done signed avi kivity avi cloudius systems.com,,
2850,6c68c4c61676b047da29dd6b90f65a7382c4a141,rasad Joshi <prasadjoshi.linux@gmail.com>, 2014-06-17 01:11:28 +0530, , test add symlink test signed prasad joshi gmail.com signed avi kivity avi cloudius systems.com,,
2851,6f2a7d4b71b623d000724b575fc79c3228f2d847,rasad Joshi <prasadjoshi.linux@gmail.com>, 2014-06-17 01:11:27 +0530, , vfs add symlink support  refactored code remove gotos replaced char std unique_ptr removed directory entry check race signed prasad joshi gmail.com signed avi kivity avi cloudius systems.com,,
2852,78efe68215f890c24bc6650f4d1756f84428c467,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-06-19 22:28:44 -0300, , libc stub getgroups setgroups roman say getgroups need stubbed required jre lib amd64 libjaas_unix.so pretty easy fix 349 reported roman shaposhnik roman shaposhnik.org reviewed nadav har nyh cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2853,d431f7ec75716f713272b8bbd0913a20e6681883,lad Zolotarov <vladz@cloudius-systems.com>, 2014-06-18 20:14:29 +0300, , net increase minimum allocation size mbuf tcp xmit increase minimum mbuf allocation size tcp xmit flow mclbytes 2048 byte minimum allocation size data mbuf 256 byte consequent data buffer compressed mbuf sbcompress therefore patch first prevent creation enormous tcp mbuf cluster 256 element biggest lso packet 64k keep around sane element secondly bigger mbuf cluster element let work efficiently need copy signed vlad zolotarov vladz cloudius systems.com signed avi kivity avi cloudius systems.com,,
2854,5a5f21615f5dc4bbf17386a550137f8a83fc17b2,mitry Fleytman <dmitry@daynix.com>, 2014-06-19 16:32:03 +0300, , smp boot x64 fix switch long mode patch clear read bit efer value writing register write efer value read bit set esxi 5.0 lead vcpu reset result osv failed boot vcpus problem doe affect newer vmware hypervisors esxi 5.5 latest vmware player worstation suceeded boot smp configuration hypervisors like kvm xen look affected well signed dmitry fleytman dmitry daynix.com reviewed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com,,
2855,f9dfd864179f1c0b5d452636146adcfb8c4fe0ea,leb Natapov <gleb@cloudius-systems.com>, 2014-06-19 17:17:06 +0300, , mmu populate address beyond file size mmap map_populate attempt fails assert deep zfs code signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
2856,394533404c7b90dab5d8fcc89017ecb039c11853,leb Natapov <gleb@cloudius-systems.com>, 2014-06-19 17:17:05 +0300, , mmu align vma range end address page size signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
2857,8f4fb8053e6770386f2191787c152e4856c16f51,leb Natapov <gleb@cloudius-systems.com>, 2014-06-19 17:17:04 +0300, , mmu inject sigbus file accessed beyond end via mmap behaviour undefined linux injects sigbus better fail mysterious assert inside zfs code like signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
2858,e83c541c0bf95b513e6157e199d69eb216a4c3f6,leb Natapov <gleb@cloudius-systems.com>, 2014-06-19 17:17:03 +0300, , pagecache trace dirty page eviction signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
2859,77fffefc1cdc7ba28a86371a7256d3827205b32c,leb Natapov <gleb@cloudius-systems.com>, 2014-06-19 17:17:02 +0300, , mmu enable clear_pte tracepoint signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
2860,1fbfd4ed15a715ff0e4f3b5d59a642e51a5dc27c,rasad Joshi <prasadjoshi.linux@gmail.com>, 2014-06-17 01:11:26 +0530, , vfs add lstat support signed prasad joshi gmail.com signed avi kivity avi cloudius systems.com,,
2861,0c2a450595fbb5c04585252a5571f3e722d7f9e3,rasad Joshi <prasadjoshi.linux@gmail.com>, 2014-06-17 01:11:25 +0530, , vfs unlink change work symlink signed prasad joshi gmail.com signed avi kivity avi cloudius systems.com,,
2862,3fcb70bbb260a57264b6b3dff81aede7a184af57,rasad Joshi <prasadjoshi.linux@gmail.com>, 2014-06-17 01:11:24 +0530, , vfs modify rename work symlink signed prasad joshi gmail.com signed avi kivity avi cloudius systems.com,,
2863,9475f6f7c7dd045b54e32599bd5ab40233e95222,rasad Joshi <prasadjoshi.linux@gmail.com>, 2014-06-17 01:11:23 +0530, , vfs open o_nofollow must fail path symlink open fucntion must return eloop given path symbolic link patch add corresponding check open flag signed prasad joshi gmail.com signed avi kivity avi cloudius systems.com,,
2864,6620d22a4ad58921ed1a0c659605ea62b2af46f2,rasad Joshi <prasadjoshi.linux@gmail.com>, 2014-06-17 01:11:22 +0530, , vfs add support follow symlink namei namei function resolve path return directory entry namei process component path separately ensure correct processing path namei follow symbolic link may encounter symbolic link pointer another directory entry contains path point follow symbolic link path point must read first standard system call read path symbolic link point readlink readlink read value symbolic link copy return buffer however readlink work last component given path must followed summary patch modifies namei follow symbolic link add new api work like namei except last component path symbolic link follow add readlink functionality  changed return prototype sys_readlink added lock read_link reading link value changed plan char std unique_ptr refactored namei code removed goto signed prasad joshi gmail.com signed avi kivity avi cloudius systems.com,,
2865,ddb778159753efcc8b42f5b0a5170d6419c5ccbb,rasad Joshi <prasadjoshi.linux@gmail.com>, 2014-06-17 01:11:21 +0530, , vfs delete dentry removed directory sys_rmdir signed prasad joshi gmail.com signed avi kivity avi cloudius systems.com,,
2866,faf581d758eb4885b3bcf3c7cf4711cd134813ad,rasad Joshi <prasadjoshi.linux@gmail.com>, 2014-06-17 01:11:20 +0530, , vfs change vfs_lookup cpp code signed prasad joshi gmail.com signed avi kivity avi cloudius systems.com,,
2867,ee8ad909eb38cc27335c3b02b5812d29807dfb14,leb Natapov <gleb@cloudius-systems.com>, 2014-06-19 13:00:59 +0300, , zfs call set vnode size zfs_write original frebsd zfs code changed osv lacked function function introduce signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2868,7bd655ab918eb5cd0bf9f690bfe32066acd6c5f9,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-18 15:25:34 +0200, , java set osv version osv.version system property osv.version system property used java code query system version run time signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2869,604916e3b86fb707fd19cabb8fed444a2d18ced6,lad Zolotarov <vladz@cloudius-systems.com>, 2014-06-18 20:08:04 +0300, , virtio vring make use_indirect inline since heavily used fast path signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2870,2e2c6e9604db17993273f077ecc671cbec732469,lad Zolotarov <vladz@cloudius-systems.com>, 2014-06-18 20:08:03 +0300, , virtio vring bug fix use_indirect use indirect number needed descriptor greater number currently available descriptor fix possible dead lock situation number needed descriptor greater size virtio ring add_buf_wait used side effect fix also make use_indirect return true case add_buf would fail e.g _avail_count _num desc_needed _avail_count also good thing reviewed dor laor dor cloudius systems.com signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2871,75d225bb58eaefada0be18fc1b69eb3388f183fa,vi Kivity <avi@cloudius-systems.com>, 2014-06-18 17:17:20 +0300, , merge branch build build cleanup signed avi kivity avi cloudius systems.com,,
2872,75753e8442396529a8d89fa3f45fef1ec06b04a4,alle Wilund <calle@cloudius-systems.com>, 2014-06-18 10:29:36 +0200, , remote rest api trace point introspection control requires corresponding patch osv core api used signed calle wilund calle cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2873,19b0dbde5645f86068199e79f0933b5df9dc8d85,vi Kivity <avi@cloudius-systems.com>, 2014-06-18 11:52:30 +0300, , build move arch specific configuration conf arch .mk signed avi kivity avi cloudius systems.com,,
2874,bd0a0e12395d7d48a74d5b2b1ec22cc2d6f040e8,vi Kivity <avi@cloudius-systems.com>, 2014-06-18 11:46:12 +0300, , build move mode related configuration conf .mk signed avi kivity avi cloudius systems.com,,
2875,5d6a06ce7743443e9545e64334fcfc32f0ea4653,lauber Costa <glommer@cloudius-systems.com>, 2014-06-18 12:14:04 +0400, , libc basic getrusage implementation field null accordance already procfs example revisit later right implementation expose process thread time getrusage interface lot useful signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2876,eb804f9dd0ad5a1d4e70e8ba7e66580fcc9f9cbc,lauber Costa <glommer@cloudius-systems.com>, 2014-06-18 12:14:03 +0400, , time move process_time common code useful location inside osv lot convenient call access richer structure clock api signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2877,383cbbe2a3f1eec03cff80f170f5fd54865be236,lauber Costa <glommer@cloudius-systems.com>, 2014-06-18 12:14:02 +0400, , libc fix rusage definition rusage_thread linux defines rusage_children use since program compiled signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2878,b54a2f900e84e2da432c7218a4d40b4d95481b5d,lauber Costa <glommer@cloudius-systems.com>, 2014-06-17 22:09:01 +0400, , lib fix size struct rusage currently stubbing getrusage zeroing whole structure problem structure definition osv conforming one main page reserved field end mean memset idiom overwrite extra word end zero cause stack corruption since getrusage come stack one could argue would implement getrusage properly would disappear true zeroing entire structure first keep perfectly valid idiom absolutely excuse reserved field structure clearly defined syscall manpage signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2879,c6d7ff979a6bcfef79bb24454c6cc10f970562fd,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-06-17 11:53:25 -0300, , elf reuse page_size definition mmu header reviewed claudio fontana claudio.fontana huawei.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2880,7374afbb68fc7cf2db00420f10d803f540a2c6df,vi Kivity <avi@cloudius-systems.com>, 2014-06-18 10:38:09 +0300, , build rename .mak .mk consistency eclipse groks .mk better signed avi kivity avi cloudius systems.com,,
2881,4f1c4d358182f59372efe0aa57ce907c541b7c30,vi Kivity <avi@cloudius-systems.com>, 2014-06-18 10:35:33 +0300, , build avoid referring internal makefile already building output directory need state explicitly signed avi kivity avi cloudius systems.com,,
2882,5eefc6b7b17cae191db0038c7d772cb2b8086af4,vi Kivity <avi@cloudius-systems.com>, 2014-06-18 10:33:17 +0300, , build use build mode arch preference build mode symlink symlink ambiguous working multiple target avoid esp embedding output path build directory makefile signed avi kivity avi cloudius systems.com,,
2883,a1b2354971022b6a541df3a92e25c97c10dc694b,vi Kivity <avi@cloudius-systems.com>, 2014-06-17 17:15:14 +0300, , build cross_prefix always defined provide default cross_prefix always defined drop ifndef signed avi kivity avi cloudius systems.com,,
2884,7a6180b6472e2bb56af293a0acd623a8dd523021,vi Kivity <avi@cloudius-systems.com>, 2014-06-17 17:14:20 +0300, , build provide default cross_prefix signed avi kivity avi cloudius systems.com,,
2885,ceabce0e0223b7871711daccbb25bac25d2ddf0e,vi Kivity <avi@cloudius-systems.com>, 2014-06-17 17:01:08 +0300, , build allow side side aarch64 x64 build build build release.x64 build release.aarch64 instead build release build release symlink retained avoid confusion transition period tooling plus everyone finger used  signed avi kivity avi cloudius systems.com,,
2886,149d3a4ed679f7edc02a0b19bafce2c46861bb56,laudio Fontana <claudio.fontana@huawei.com>, 2014-06-17 15:18:11 +0200, , build.mk aarch64 destroy instruction offset 0x10 caused lot self inflicted pain signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
2887,972533d787a528b423d0209311c239759e5998d8,laudio Fontana <claudio.fontana@huawei.com>, 2014-06-17 15:18:09 +0200, , elf initialize init_table zero ensure found elf code unable find pt_tls section complain loudly fail signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
2888,3a2b4c62c0d9feced8326d1cbb81d1044e2c1361,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-16 18:55:58 +0200, , clock use migration_lock protect access per cpu data migration lock sufficient bit faster preemption lock signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
2889,8da400150b2980b06b63a16dd0c6d394a195694b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-16 18:55:57 +0200, , test introduce microbenchmark various locking primitive result machine script run.py test misc lock perf.so osv v0.09 119 g59c0cec eth0 192.168.122.15 dummy 0.037 cycle preempt 6.360 cycle migrate 5.297 cycle mutex 25.474 cycle signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
2890,cfd44d0cb7d632dc79d16dce7e6b7968cd5b0f1f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-16 18:55:56 +0200, , clock extract common code kvmclock xenclock recent commit fixed bug kvmclock turn xenclock suffers problem clock share lot logic change extract common code pv_based_clock base class force xenclock inherit fix signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
2891,570153e9da3e2957728f5ea84e2162a8508470e0,lazar Leibovich <elazarl@gmail.com>, 2014-06-12 18:37:03 +0300, , gdb pretty print percpu type var osv variable duplicated copy cpu avoid synchronization overhead typically object would cpu local cache example core mempool.cc percpu page_buffer free page buffer cpu printing variable trivial gdb thus introduce command print value cpu typical usage gdb osv percpu memory would print value available  gdb osv percpu memory would print field available cpu finally gdb osv percpu memory free would print available cpu usage gdb osv percpu per cpu instance field descend ... reviewed tomasz grabiec tgrabiec gmail.com signed elazar leibovich elazarl gmail.com signed pekka enberg penberg cloudius systems.com,,
2892,59e0dc67142706efe45a0d43198afd8e76fc8b54,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-06-16 18:22:30 +0200, , mmu make get_mem_area static inline instead constexpr use function constant expression anyway signed paweå dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
2893,739322ce538d35aa6e8d57aa30ebae303c8f4fdb,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-06-16 18:22:29 +0200, , mmu use static_casts signed paweå dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
2894,767b50c4056588f975bf7f6ea531e1914e2432de,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-06-16 18:22:28 +0200, , mmu remove constant expression subexpressions result gcc 4.9 decides call initialize phys_mem runtime done .init function invoked much later first use phys_mem signed paweå dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
2895,dea75da51e6263229669d96b32a74fa4e9a9f337,aspal Singh Dhillon <jaspal.iiith@gmail.com>, 2014-06-15 18:42:09 +0530, , test add test utimes add small test check whether utimes handle null signed jaspal singh dhillon jaspal.iiith gmail.com signed pekka enberg penberg cloudius systems.com,,
2896,5e74dc7f48d8992fa6ab5038ea23e83b34e98f17,aspal Singh Dhillon <jaspal.iiith@gmail.com>, 2014-06-15 18:42:08 +0530, , vfs fix utimes handle null argument null passed argument utimes fails man utimes say also handle null argument update timestamps current time case signed jaspal singh dhillon jaspal.iiith gmail.com signed pekka enberg penberg cloudius systems.com,,
2897,5b17daa03632d62594956cc8ec9594336bc4584d,mitry Fleytman <dmitry@daynix.com>, 2014-06-15 11:46:45 +0300, , vmxnet3 avoid excessive kick mechanism vmxnet3 device allows decrease number device kick patch make driver use feature patch applied throughput improvement around observed small packet test reviewed takuya asada syuu cloudius systems.com signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
2898,a7a1bc56c94c926a3a07b9fa1c5c023e3e6967c1,mitry Fleytman <dmitry@daynix.com>, 2014-06-15 11:46:44 +0300, , vmxnet3 mimic linux driver registration vmxnet3 driver supply information version guest device device probably information enable disable feature accordingly since going use feature absent freebsd driver code rather mimic linux driver registration reviewed takuya asada syuu cloudius systems.com signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
2899,e04e63e251ad71f0b1870081163e5e25b1a92131,lauber Costa <glommer@cloudius-systems.com>, 2014-06-13 12:49:15 +0400, , sysconf available number physpages correctly report number physical page system totally fail report number available page system used java may lead application stupid decision instance heap heap placement example apache solr log report  sysconf stubbed parameter system memory 100.0001 used 3.9996223 gib  system memory 2.9508517 used 3.9996223 gib unfortunately help benchmark result expecting could wrong nevertheless signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2900,f1176ce942afe39ef26e26795a17aa249a2ccd3f,laudio Fontana <claudio.fontana@huawei.com>, 2014-06-13 14:17:49 +0200, , driver pl011 implement data input path allows reading incoming data pl011 device signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
2901,8b92a0864e70aba34bddc95e49c0117033554a71,laudio Fontana <claudio.fontana@huawei.com>, 2014-06-13 14:17:48 +0200, , aarch64 exception enable ppis spis separately enable ppis batch cpu init instead enable single spis later boot process needed signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
2902,d90a6a9c7a9380316cbd6aac1b516bb9b83fc1d7,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-16 18:46:30 +0200, , xen remove trailing newline form xenirq thread name screw trace list output xenirq0 0.000035096 timer_cancel timer signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2903,1365a7075b40b6afc740e2f4696fc85a6c4ed48a,alle Wilund <calle@cloudius-systems.com>, 2014-06-17 08:35:29 +0200, , trace make trace point active state backtrace individually controlled api call external rest management slightly underwelming sort prerequisite ever adding full rest control export etc rest part obviously patch set http server signed calle wilund calle cloudius systems.com signed avi kivity avi cloudius systems.com,,
2904,9a1b9dae6d52cab2457b3e9082b7c59c5ea7dbe8,inicius Tinti <viniciustinti@gmail.com>, 2014-06-07 23:22:25 -0300, , x64 remove extra comma boot16.s signed vinã cius tinti viniciustinti gmail.com signed pekka enberg penberg cloudius systems.com,,
2905,95c32d16485e32387b046030050760259598d8fb,vi Kivity <avi@cloudius-systems.com>, 2014-06-16 15:56:08 +0300, , mgmt update signed avi kivity avi cloudius systems.com,,
2906,20632892678d3e6ff349c051abb04e2236c4e9ef,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-12 16:55:04 +0300, , http server add test environment variable add test set retrieve environment variable signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2907,dedfb874ca867997bbe3e83f51937225a5758016,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-12 16:55:03 +0300, , http server call env init main add call initialize env implementation main signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2908,2a3c22e20f5df4a701d08ba87cc68fefde7bfc77,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-12 16:55:02 +0300, , http server adding env api implementation adding implementation environment variable support signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2909,ef6f5606bb98d16080727d48b36ee4747a4a222d,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-12 16:55:01 +0300, , swagger api adding env.json api doc adding env.json api doc appear swagger gui signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2910,0ed0e4b3027e3993d1dea320b506896a4710b1fd,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-12 16:55:00 +0300, , swagger api adding env.json swagger definition file environment variable signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2911,ae29aca1410b58341967ef475ae09e49386fb4ed,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-16 14:11:19 +0200, , pvclock abi respect tsc_stable_bit flag according abi assume clock monotonic unless tsc_stable_bit set use global variable prevent clock backwards jump signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
2912,cedecf923b9e7e27fb09db10345920ca044851a8,vi Kivity <avi@cloudius-systems.com>, 2014-06-16 15:20:44 +0300, , mgmt update signed avi kivity avi cloudius systems.com,,
2913,50c02216b0c0f2d35b839a6f8673d99f3cbf2156,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-16 11:09:04 +0300, , http server move parameter object request parameter map hold path parameter example url matching rule defined file path url file etc host param object hold entry path etc host simplify api parameter object moved request object calculated route depends specific handler file etc path file path different value path entry route get request non const reference use parameter object request signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2914,53a58dd55c010cd46cd79d18cf39d40df89ea08d,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-16 11:09:03 +0300, , http server set default type path holder json case return type handler json add default behavior path holder osversion handler function possible   txt keeping simplified option type supplied allows ommit common case signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2915,420f919b24eff08511f74a658fca435e0a47c107,vi Kivity <avi@cloudius-systems.com>, 2014-06-16 10:03:13 +0300, , build make boost lib dir robust find find one library due leftover junk make robust signed avi kivity avi cloudius systems.com,,
2916,1160371cb9e59bfe927e67963f896bc90fe662e2,vi Kivity <avi@cloudius-systems.com>, 2014-06-15 19:07:02 +0300, , merge branch mmu pt_element templificatoin signed avi kivity avi cloudius systems.com,,
2917,a3708da9f79f5054ae7d372ae65f63e3c92259b2,leb Natapov <gleb@cloudius-systems.com>, 2014-06-15 18:35:23 +0300, , mmu assert dirty called wrong pte signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
2918,8e34806abab391f0f1619876c0f2d071bca3d307,leb Natapov <gleb@cloudius-systems.com>, 2014-06-15 18:35:22 +0300, , mmu provide pt_level_traits class instead coding meaning different pte level may place provide pt_level_traits class provide information level use instead signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
2919,db31a457d03fcc089bdcd0e685cad02b085e8a3e,leb Natapov <gleb@cloudius-systems.com>, 2014-06-15 18:35:21 +0300, , mmu hide large property pte instantiation code pte creator care pte leaf non leaf low level code figure large setting needed signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
2920,1b31de0e831a79881b37ad4aaf899ac3a618485e,leb Natapov <gleb@cloudius-systems.com>, 2014-06-15 18:35:20 +0300, , mmu drop large parameter pt_element addr pt_element know large signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
2921,31be3df9869c8c8dab9821b754d372bb73f4c96c,leb Natapov <gleb@cloudius-systems.com>, 2014-06-15 18:35:19 +0300, , mmu make pt_element large check level signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
2922,0b94ae84da1e96069ae2c5476e7f8fb001cba6d8,leb Natapov <gleb@cloudius-systems.com>, 2014-06-15 18:35:18 +0300, , mmu remove unused make_large_pte function signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
2923,f92cee51776d73af678adfd1b664977b50bac044,leb Natapov <gleb@cloudius-systems.com>, 2014-06-15 18:35:17 +0300, , mmu make pt_element class template parametrized pte level utilize type system make harder pas wrong level ptes function expect certain pte level also allow utilize fact different pte level slightly different format signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
2924,df5a8a6ca2e438d38497cce404f4331ab0b9f9e3,leb Natapov <gleb@cloudius-systems.com>, 2014-06-15 18:35:16 +0300, , mmu make user accessed function arch independent interface implemented x64 aarch64 signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
2925,d9482f3b6465c56906dba028cc80865b97a569c0,leb Natapov <gleb@cloudius-systems.com>, 2014-06-15 18:35:15 +0300, , mmu replace static arch_pt_element function class inheritance instead implementing arch dependant pt_element functionality static function arch_pt_element class implement common functionality class let architecture extend make fully functional pt_element class signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
2926,21bb71f3df8714957272e331eccdcee075518cc4,leb Natapov <gleb@cloudius-systems.com>, 2014-06-15 18:35:14 +0300, , mmu drop need hw_ptep specialize map_range hw_ptep ptep ... instead map_level remove need dubious hw_ptep class signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
2927,05b6681f6afacaa4460e7cb64947ef4a43e64bf0,leb Natapov <gleb@cloudius-systems.com>, 2014-06-15 18:35:13 +0300, , mmu check parentlevel checking pte large pte large parentlevel always greater zero signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
2928,43900c9948eb9da27b8d010ae776bdc78838becf,vi Kivity <avi@cloudius-systems.com>, 2014-06-11 10:52:25 +0300, , switch newer gcc signed avi kivity avi cloudius systems.com,,
2929,d7990a90c961e93bcb659ea5c928199d52724d7d,vi Kivity <avi@cloudius-systems.com>, 2014-06-11 10:51:48 +0300, , runtime define needed newer libstdc signed avi kivity avi cloudius systems.com,,
2930,74711a81e287923938b54a346dbd97cec0272b53,vi Kivity <avi@cloudius-systems.com>, 2014-06-11 10:51:21 +0300, , libc define max_align_t needed newer libstdc signed avi kivity avi cloudius systems.com,,
2931,6ce5e946a142c115115f3802bcc26c1088415a69,vi Kivity <avi@cloudius-systems.com>, 2014-06-10 17:12:38 +0300, , build relax naming boost library aarch64 boost library dropped suffix adapt build process accept library without suffix change also arrives x64 drop hack signed avi kivity avi cloudius systems.com,,
2932,514c551574d8e5619413640ad015570fc5de5066,vi Kivity <avi@cloudius-systems.com>, 2014-06-10 16:55:22 +0300, , update gcc.bin glibc sysroot signed avi kivity avi cloudius systems.com,,
2933,8cdc54ecae04eca7ad01c59d341aef7351e05763,vi Kivity <avi@cloudius-systems.com>, 2014-06-10 16:53:56 +0300, , build add gcc sysroot cross build cross build shared object need libc link even though used runtime startup file provide gcc.bin external repository cross build signed avi kivity avi cloudius systems.com,,
2934,3ae8739a28549cacc3c26ca69f51842183661138,vi Kivity <avi@cloudius-systems.com>, 2014-06-03 14:34:02 +0300, , external add aarch64 submodules openjdk.bin gcc.bin misc.bin signed avi kivity avi cloudius systems.com,,
2935,c23142e15c5efe2617c994c62a0899289669c88e,vi Kivity <avi@cloudius-systems.com>, 2014-06-11 16:31:10 +0300, , mempool protect debug allocator recursion sometimes need allocate memory free example clean page table use rcu_defer allocates memory prevent recursion flag signed avi kivity avi cloudius systems.com,,
2936,f601ed3a061b525b6797a20da874e857dc03baf6,vi Kivity <avi@cloudius-systems.com>, 2014-06-11 16:27:43 +0300, , add defer utility following add way defer cleanup function exit scope way return exceptio break file fopen ... auto cleanup defer fclose ... thing knowledge closed going scope deferred operation cancelled  cleanup.cancel return  course use raii type available preference defers signed avi kivity avi cloudius systems.com,,
2937,8587da0c88edb5fe29aa781710bedd19614cb2fe,vi Kivity <avi@cloudius-systems.com>, 2014-06-11 16:25:55 +0300, , x64 switch stack abort likely print backtrace call safe_load likely generate exception switch stack generates exception new stack preserving old one developer examine signed avi kivity avi cloudius systems.com,,
2938,00e118ee43b1f6aca9e64b476e1d0b45a1bc3ac4,vi Kivity <avi@cloudius-systems.com>, 2014-06-11 14:22:04 +0300, , mmu avoid allocation allocation cause recursion debug allocator signed avi kivity avi cloudius systems.com,,
2939,729a633f970e580c4ab1330935f11a83a27b0159,vi Kivity <avi@cloudius-systems.com>, 2014-06-15 16:47:57 +0300, , xen comment hypervisor_poll call get_system_time exist link fails mode debug exposed build use debug build instead signed avi kivity avi cloudius systems.com,,
2940,fdf6356d4fbda3e0b25ec1da1e26116f3b6ceedc,mitry Fleytman <dmitry@daynix.com>, 2014-06-15 11:47:39 +0300, , run elf cancel alarm native program execution native program may leave alarm pending exit cancel module unload signed dmitry fleytman dmitry daynix.com signed avi kivity avi cloudius systems.com,,
2941,c46fd06eb9b557c009f87fad1d4ac8e116b45398,mitry Fleytman <dmitry@daynix.com>, 2014-06-15 11:47:38 +0300, , elf loader avoid module self referencing local symbol resolution function object resolve_pltgot never put collection otherwise module lock memory forever problem make native application fail different way multiple consequtive execution .bss section zeroed main invocation particular iperf fails parse command line argument corresponding code heavily relies global variable signed dmitry fleytman dmitry daynix.com reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
2942,5471471b6bd27f8831f2ceddc1832da127e69e1f,aspal Singh Dhillon <jaspal.iiith@gmail.com>, 2014-06-13 03:55:14 +0530, , test add test utimensat add test utimensat add build.mk signed jaspal singh dhillon jaspal.iiith gmail.com signed avi kivity avi cloudius systems.com,,
2943,9ae9f80e75d1ce8b5c6417880fee2d63827bc3c0,aspal Singh Dhillon <jaspal.iiith@gmail.com>, 2014-06-13 03:55:13 +0530, , vfs implement utimensat futimens add utimensat futimens update file timestamps nanosecond precision implementation handle flag enabled default namei currently doe follow symbolic link signed jaspal singh dhillon jaspal.iiith gmail.com signed avi kivity avi cloudius systems.com,,
2944,53bd531cb1013e15531836cf1d8e478504541e9b,vi Kivity <avi@cloudius-systems.com>, 2014-06-15 11:48:10 +0300, , external update x64 openjdk.bin signed avi kivity avi cloudius systems.com,,
2945,dcc4a0e7357796b71ed10c89b3f3251ac0790b7e,vi Kivity <avi@cloudius-systems.com>, 2014-06-15 11:06:17 +0300, , update external x64 misc.bin yaml cpp signed avi kivity avi cloudius systems.com,,
2946,6ab8d1e7c5a1337c4c0781058d0085bde3186868,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-06-13 16:38:18 +0900, , mempool add linkage porting cruby signed kanatsu minoru icc.pot.tyew272 gmail.com signed avi kivity avi cloudius systems.com,,
2947,1fefc90f2c44b517a2cdcc14ba7bb1a447f25d07,aspal Singh Dhillon <jaspal.iiith@gmail.com>, 2014-06-13 03:27:14 +0530, , vfs fix namei friend add const function prototype namei friend allow passing converted string using c_str return const char signed jaspal singh dhillon jaspal.iiith gmail.com signed pekka enberg penberg cloudius systems.com,,
2948,1fc9805949a9272257b0730344eca93d33d75e36,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-06-13 11:09:23 +0900, , libc add porting cruby signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
2949,98c2a1e2873595b83001df7a5d7dac454cfa1f48,lauber Costa <glommer@cloudius-systems.com>, 2014-06-09 18:27:57 +0400, , linux compat define macro syscalls lot boilerplate need write whenever want syscall reachable syscall function patch reduces implementer specify name argument probably slightly better believe simple enough already signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2950,bf392f028d6894a95c3479a0f2785e67f94fbad3,angbicheng <wangbicheng@huawei.com>, 2014-06-12 11:35:09 +0800, , dhcp fix mtu logging osv started using dmesg command see message configuring eth0 192.168.122.15 subnet mask 255.255.255.0 gateway 192.168.122.1 mtu found dhcp packet carry positive interface mtu order avoid change mtu value displaying message ethermtu 1500 dhcp packet mtu zero signed wangbicheng wangbicheng huawei.com signed pekka enberg penberg cloudius systems.com,,
2951,6d36f015516f69d5f3c88affd73bf03375ba9edd,lauber Costa <glommer@cloudius-systems.com>, 2014-06-12 14:22:02 +0400, , stub may implement future support static pie sure moment handle initialization still object without lazy linking abort symbol present reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2952,88aa85d383d891c2d4edd92e001cd376f2f3a3f0,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-06-12 04:22:20 +0900, , libc add waitpid porting cruby signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
2953,661b72fe9d5daaf2b95abf88debde0de410311e6,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-06-12 04:20:35 +0900, , libc add sid function porting cruby signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
2954,a32a8d4d501ccdf2bdda3578df4f8170b83d5302,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-06-12 04:21:44 +0900, , libc add setreuid porting cruby signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
2955,84816f5b07190d8da22a466385099f1c99f2332c,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-06-12 04:21:12 +0900, , libc add setregid porting cruby signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
2956,a0608b6a1f8b6cb6613179519303536a499b4287,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-06-12 04:22:06 +0900, , libc add seteuid porting cruby signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
2957,832bdb78bbba6ccddd8f6970a9cdfad38b833881,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-06-12 04:21:56 +0900, , libc add setegid porting cruby signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
2958,4b93e9f860e21f900ec5a58a34f2766c8b12afa6,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-06-11 23:55:20 +0900, , libc add getpwnam_r porting cruby getpwnam_r getpwuid_r almost function implement getpw_r commonly function change two function call getpw_r signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
2959,5552fc04500ebd24b1a0bed8dd365ce0ac2b6fbd,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-06-12 04:20:22 +0900, , libc add getppid porting cruby signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
2960,7c53c08dbc6402779b9fe3d8f647092a8b86a853,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-06-12 04:19:44 +0900, , libc add getpgrp porting cruby signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
2961,f3e32fe856686be50cb1ba6260262e8c9c1df7cf,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-06-12 04:09:50 +0900, , libc add function pgid porting cruby signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
2962,98fc8c187cf76a1ec9be205067caa2bbd38f8653,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-12 14:36:47 +0200, , build use debug build instead one reason using debug build able debug symbol read release build optimized gdb var optimized unfortunatelly doe prevent doe signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
2963,e4aee9a6105aca8b19854580ee79efba2abe9573,vi Kivity <avi@cloudius-systems.com>, 2014-06-12 15:19:08 +0300, , mgmt update signed avi kivity avi cloudius systems.com,,
2964,fa98263b221531c2bd12bf69a4cedf62624ff619,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-12 14:58:17 +0300, , http server modify parameter order path_holder modifying parameter order path holder possible add lambda expression directly parameter set_handler function possible write json const_req req  return formatter to_json osv version  os.cc jvm.cc modified use shorten version signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2965,d582cd9d35df67efdef15a7056556ce1732365fd,lauber Costa <glommer@cloudius-systems.com>, 2014-06-12 16:07:30 +0400, , poll fix problem event noticed bug testing poll today constructing pfd array correctly emplace ith element event revents always come first cause problem fds set waiting different event signed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com,,
2966,d91ae9db4b8f093e4d96a1aa71ce52fa2a5147c9,lauber Costa <glommer@cloudius-systems.com>, 2014-06-12 14:58:23 +0400, , libc add header ffsl ffsll implementation function external user call anywhere header osv user find correct function signature man page say include string.h int ffsl long int int ffsll long long int signed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com,,
2967,e9c238749bb7d703ac97e5340b94fa297e791266,vi Kivity <avi@cloudius-systems.com>, 2014-06-12 13:03:06 +0300, , mgmt update signed avi kivity avi cloudius systems.com,,
2968,59a31d070c927f1ae9fd14451176e70ce7782dfc,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-12 10:44:53 +0300, , http server jvm api implementation use new api introduce new api jvm implementation use cleaner safer way signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2969,7f891d5b918c8d4f59dfe47ba91833c162ff93f6,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-12 10:44:52 +0300, , http server running astyle jvm.cc signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2970,4906f5d38246da098184ed4c22e8ff9f545ec487,mitry Fleytman <dmitry@daynix.com>, 2014-06-10 09:17:44 +0300, , release ec2 update template amis due deletion old release changing template ami v0.09 signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
2971,36168f5f43e769a655c508efe811a7983cb1ef3a,ekka Enberg <penberg@cloudius-systems.com>, 2014-06-11 16:06:18 +0300, , x64 move pvclock abi.cc arch directory pvclock x86 specific move arch x64 reviewed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
2972,0eab3e4bbccb3918b0cc0ed1dfcaee4aeadf5a37,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-06-09 15:22:20 -0300, , zfs enable relatime default creating zfs dataset relatime match default ext4 xfs semantics improves performance conditionally updating atime i.e either mtime ctime change atime updated within past hour atime would provide better performance satisfies posix requeriments thus set default reviewed glauber costa glommer cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2973,7c3818c1d616290dbaf3b80ed63c39f0d91e87b6,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-06-09 15:22:19 -0300, , zfs port relatime property zfsonlinux osv port detail adapted change discarded man page change solved conflict zfs zfs_znode.c solved conflict ... opensolaris lib libzfs common added lacking mtnent definition ... opensolaris sys mntent.h adapted description add relatime property set file atime updated existing atime least day old existing ctime mtime updated since last access behavior compatible linux relatime mount option reviewed glauber costa glommer cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2974,d36e454db1abac00f8cf3afa16e03f082096fe4b,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-06-09 15:34:51 -0300, , driver null read must return zero upon success signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2975,88fe8e7410ae2ae21b69d3b4eb2a897c18e297a1,vi Kivity <avi@cloudius-systems.com>, 2014-06-11 17:48:24 +0300, , update mgmt signed avi kivity avi cloudius systems.com,,
2976,bf58a07bb2ab8b9c978adfa4ca1bdba34069e66d,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-11 12:37:30 +0300, , http server file.cc use new api changed api changed handler set action file.cc modified use new api setting handler becomes new signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2977,54bb3148381ececd9347ca5982a3f5099efc0ca6,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-11 12:37:29 +0300, , http server initilialize path_holder path_holder hold pointer route object main initialize creating route object signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2978,7e2e279775c9de35fb7f29f8bd001479acda3e8f,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-11 12:37:28 +0300, , http server code generation declare path holder path holder replaces constant name operation code generation instead string signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2979,e2fe73746dde2e6e0fe6250a3dcbdf866d7a81ad,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-11 12:37:27 +0300, , http server code generation support mandatory parameter mandatory query parameter set path description signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2980,8d7e41a052f24a93eb3acff944a0a7a1a499a099,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-11 12:37:26 +0300, , http server adding path holder path holder object simplifies setting handler api define swagger definition file code generation set path holder object api call example api action getfile following define static const path_holder getfile getfile getfile used set handler operation handler  also support lamda expression define handlers.hh file json new api need access route object case signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2981,8317258133873baa00a0e6671b596e84b8cd9d2d,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-11 12:37:25 +0300, , http server add mandatory parameter support route route object copy mandatory parameter path object handler mandatory parameter handler verify mandatory parameter request calling handler logic signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2982,51350636118f13e730e4127f52679f54bb840ea0,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-11 12:37:24 +0300, , http server add parameter found exception mandatory parameter missing missing mandatory exception thrown exception constructor get parameter name parameter return 400 bad request signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2983,4744f4fcfbf506f0b66d8000b27982e06b2d0e73,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-11 12:37:23 +0300, , http server add mandatory parameter path path object hold information form swagger definition file hold list mandatory parameter parameter used validate mandatory parameter included calling handler logic signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2984,88d4977d19c7c1823e06a3f680547eac83668043,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-11 12:37:22 +0300, , http server handler support mandatory parameter mandatory parameter query parameter handler expect exists starting handler logic handler hold list mandatory parameter verify handler called handler logic safely assume mandatory parameter need verify parameter missing 400 return appropriate error message code generator automatically add mandatory parameter swagger definition file also possible add additional parameter handler calling h.mandatory add query parameter mandatory parameter signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2985,25d6692db6f3da52e3a4d55b594b88f29ebab030,mnon Heiman <amnon@cloudius-systems.com>, 2014-06-11 12:37:21 +0300, , http server clean lambda expression handler simplify use lambda expression handler function type define additional function added one get request also reply allow using lambda expression complicated scenario function handler modified use general function temporary function used translation signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
2986,a9bbb4a836d63c79f21347ea2065cc6ddc51612a,vi Kivity <avi@cloudius-systems.com>, 2014-06-11 17:46:16 +0300, , httpserver add build dependency chase mysterious bug forever signed avi kivity avi cloudius systems.com,,
2987,1615f9fc3d6a90b97c92e0c27ac53b29e216190d,vi Kivity <avi@cloudius-systems.com>, 2014-06-11 14:36:14 +0300, , vga initialize _offset debug allocator purposely copy junk memory catch uninitialized field like signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2988,4d653d4d7dd93e82d74680c6a01b3419791de0bb,vi Kivity <avi@cloudius-systems.com>, 2014-06-11 14:42:19 +0300, , procfs fix use free release dentries used afterwards vnode ought free point reviewed raphael carvalho raphaelsc cloudius systems.com signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
2989,43647add64102ffe370781957e1fd643ce43383e,vi Kivity <avi@cloudius-systems.com>, 2014-06-11 17:29:23 +0300, , httpserver build optimization seeing wierd miscompile without good idea anyway signed avi kivity avi cloudius systems.com,,
2990,f7f4cad207394458f5f65a671e1277eb883d8cc5,ekka Enberg <penberg@cloudius-systems.com>, 2014-06-11 16:34:21 +0300, , merge branch java http github.com tgrabiec osv fix issue running apache derby osv reported takuya signed pekka enberg penberg cloudius systems.com,,
2991,d30b243976b07abe0bdf34bd3d8fa07bcf8ac9c4,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-06-10 17:18:29 +0900, , libc move getgrnam runtime.cc signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
2992,df6d67795cce23e1ba45ecd4cc1d635009b9865e,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-06-10 17:18:28 +0900, , libc add getgrnam_r porting cruby signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
2993,e634bbd95109e83e77dc32c4ffbf9449b1306249,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-11 10:26:41 +0200, , trace remove use global state function accessing _active_cpus actually access input variable var reported nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
2994,df48eb555d315dae543bef4de0191862c8b58624,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-06-09 20:45:28 +0200, , mempool make large memory allocator wasteful requested alignment smaller page header begining allocated block page save memory signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
2995,6232d8f3c6cc5a64e6b1a46b076fdd028399bdbc,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-06-09 20:45:27 +0200, , mempool introduce page memory allocator allocator meant object large mempools still fitting inside one page case additional metadata need stored signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
2996,00bcf4eef0498565ef3f4dfda4d35dbc30fbb879,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-06-09 20:45:26 +0200, , zfs align zio buffer page boundary since arc buffer used directly read page cache aligned page boundary signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
2997,760dac53be703444d00addcfc8059307f98dc713,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-06-09 20:45:25 +0200, , kmem_cache ignore alignment requirement signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
2998,ca42dfd20e7bba885c60aeaf63b76de7864f9ade,leb Natapov <gleb@cloudius-systems.com>, 2014-06-10 10:15:51 +0300, , console capture local variable reference seeing intermittent crash running make check appears come serial input initialization nadav reviewed relevant code found two place local stack variable captured refference lambda expression patch fix case lambda needed seam fixing crash signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
2999,84556435da4c47e9f60f2225ef90aecaa497f356,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-06-10 23:18:03 +0900, , readme add description building arch user signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
3000,194e72844b0f3957bbcb59e7489a305ebbc5da57,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-06-10 10:02:38 -0300, , vfs fix isatty console file descriptor file descriptor vfs file thus isatty rely vnode determine whether device underlying file tty avi suggested adding new file subclass using dynamic_cast avoid introcucing new file type specifically address problem according gilad bug preventing lua starting interactive mode reported gilad ben yossef gilad benyossef.com signed raphael carvalho raphaelsc cloudius systems.com reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
3001,b014a9a21a29e86798f0f7489a374fbdc9f66980,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-10 14:02:05 +0200, , test add test exitvm permission presence securitymanager,,
3002,768f12cd0cf61071ce35f3a9f86f240cb5a23166,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-10 14:01:31 +0200, , java grant exitvm permission isolates default openjdk launcher doe want behave also,,
3003,34232de90fc982293d9beadab6930b2f013552e9,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-10 12:53:41 +0200, , kvmclock ensure set eeach vcpu executing kvmclock setup_cpu modifies shared variable kvmclock used base osv clock uptime race causing osv clock uptime appear moving backwards boot time bumped another cpu initializing clock patch also ensures proper memory ordering _smp_init  apparently making assertion failure away backtrace sched timer_list fired 1054 unsigned int 166 interrupt  acpipscreateop 218 acpipsparseloop 349 acpipsparseaml 567 927  875 288 165  100 acpi init main_cont int char 326 thread_main_c thread_main workman _duty 2566 signed tomasz grabiec tgrabiec cloudius systems.com reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
3004,886d30ef153a04a0d82b6de5c639cbfc2444816c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-06 17:30:22 +0200, , test add test exploiting issue protection domain permission,,
3005,72c64ce02268d0e497e3c8866c00a2b3b9eb5962,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-06 17:24:59 +0200, , java make runjava.jar domain privileged application installed securitymanager child protection domain would declined right read file jar making apache derby fail find bundle base name locale 1499 1322 795 184 311 273 3536 3492 705 bundle actually exists resides derbynet.jar since securitymanager installed runjava.jar domain parent derbynet.jar doe permission reading jar fail permission check inside class loader code run host pass check derbynet.jar invoked directly privileged context think solution make runjava.jar privileged default one way grant permission explicitly java.policy file put runjava.jar extension directory usr lib jvm jre lib ext latter simpler went approach,,
3006,82a54a06acc6dde86005dc3aa2721928ddcb58d7,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-06 17:38:34 +0200, , test detect failure pattern,,
3007,7230ada6ef7823fcbedddd6e5532aa366e83cf7d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-06 17:32:32 +0200, , java print uncaught exception form child context console parent context join print anyway end duplication also currently running java test expect context fail output polluted stack trace denote failure,,
3008,71c34cf0de49eb2f8a01a1a850ff31583240f3f4,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-06 17:20:09 +0200, , java add copyright banner usr.manifest,,
3009,9169ace671fe998a15a6fd4c2960d03a438f6881,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-06 17:18:51 +0200, , java make java module depend font reduces duplication,,
3010,245fe18a44eb42a6057ab89b7695ed7a62e6fec7,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-06 16:41:33 +0200, , java remove redundant local variable,,
3011,19dba21d94a7c937804e910c1631fd9a4857271e,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-06 16:40:54 +0200, , java fix indentation issue,,
3012,ad8466ba18d24c72c96c4d78d173f5042974f5f7,laudio Fontana <claudio.fontana@huawei.com>, 2014-06-10 10:48:48 +0200, , aarch64 gic abort cpumask read zero uniprocessor register read zero interrupt assumed target processor signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
3013,8aed1fc5ab8515159ad5d6ccc398736c7089d23c,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-06-09 16:25:04 -0300, , random save needlessly entropy waste osv build process entropy needlessly wasted building osv let avoid  signed raphael carvalho raphaelsc cloudius systems.com signed avi kivity avi cloudius systems.com,,
3014,13fbbe53c714e9793de1679da40a53dd2ba94dc2,vi Kivity <avi@cloudius-systems.com>, 2014-06-10 13:14:47 +0300, , merge branch dref add dentry_ref cousin fileref automatic reference counted smart pointer dentries start using reviewed pekka enberg penberg cloudius systems.com signed avi kivity avi cloudius systems.com,,
3015,589957367ec252ed1207b86b5adad39224b2f7be,vi Kivity <avi@cloudius-systems.com>, 2014-06-10 12:55:18 +0300, , test add monotonic clock test case ensure clock backwards signed avi kivity avi cloudius systems.com,,
3016,f197498d2a72519337048e81b6fda65cc9099638,vi Kivity <avi@cloudius-systems.com>, 2014-06-10 10:56:55 +0300, , pvclock add lfence reading time stamp counter rdtsc instruction unordered ensure processor order lfence instruction signed avi kivity avi cloudius systems.com,,
3017,7b757a992d72eb46afcd34e30a2e1f5031d8a5f3,vi Kivity <avi@cloudius-systems.com>, 2014-06-10 10:56:15 +0300, , x64 add lfence accessor signed avi kivity avi cloudius systems.com,,
3018,fd36783567ceef2b17fedee56c14eaca1997a950,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-09 18:46:43 +0200, , pvclock fix system_time atomic read logic pvclock host ensures update complete version even update progress version odd enough check version equal sequence event possible host guest   field1 field2  field1  field1 field2  field2   wrong also check update progress checking version odd fixing following occasional assertion failure running make check seems away assertion failed timestamp _last home avi osv maint include osv timer set.hh expire 162 backtrace sched timer_list fired 1054 unsigned int 166 interrupt  acpipscreateop 218 acpipsparseloop 349 acpipsparseaml 567 927  875 288 165  100 acpi init main_cont int char 326 thread_main_c thread_main workman _duty 2566 signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3019,8e42e07e3416ecfc7faf43e41f76262e6bc16be3,ika L'Etrange <zika.letrange@gmail.com>, 2014-06-09 13:49:05 +0200, , posix add getcontext setcontext makecontext function posix function saving restoring thread context used program written language reviewed glauber costa glommer cloudius systems.com signed zika etrange zika.letrange gmail.com penberg fix aarch64 build signed pekka enberg penberg cloudius systems.com,,
3020,99d80368fdaf4bb08e9f9dec4a0da5ee4c3022db,vi Kivity <avi@cloudius-systems.com>, 2014-06-09 17:39:41 +0300, , build fix tst static thread variable.so dependency signed avi kivity avi cloudius systems.com,,
3021,0d3c4e4c3176e291aa68c0f3a983d7c359e632a5,vi Kivity <avi@cloudius-systems.com>, 2014-06-09 17:01:39 +0300, , merge branch timerwheel http github.com tgrabiec osv series introduces data structure implementing optimized algorithm managing timer optimized expiring timer async timer global core per cpu timer switched use new implementation applying timer_task reschedule longer top cpu profile footprint reduced overhead coming across cpu garbage collection routine async_worker borrow_task seem significant impact tomcat benchmark signed avi kivity avi cloudius systems.com,,
3022,74f0d3237d27936774c721a85720693d77b44ab8,ekka Enberg <penberg@cloudius-systems.com>, 2014-06-09 16:46:25 +0300, , test rename tst fsx.c misc fsx.c manual test case rename misc fsx.c remove blacklist signed pekka enberg penberg cloudius systems.com,,
3023,76159ef5c05c8f27364c53b6ba3ba3e760c64184,leb Natapov <gleb@cloudius-systems.com>, 2014-06-09 15:43:40 +0300, , mmu consolidate small huge _page mapper operation page level encoded hw_ptep need separate handler small large leaf page nearly identical anyways signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
3024,6d89359f4b6981b0ab7b0fc51fa0c7b3af08a75a,leb Natapov <gleb@cloudius-systems.com>, 2014-06-09 15:43:39 +0300, , mmu remove size parameter page ops class file map unmap function page level encoded hw_ptep size parameter longer needed since size deduced pte signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
3025,289f530dca473c30beea1eb934c99ed2e7bf1438,leb Natapov <gleb@cloudius-systems.com>, 2014-06-09 15:43:38 +0300, , mmu make hw_ptep class template parametrized pte level utilize type system make harder pas wrong level ptes function expect certain pte level also since hw_pte level different type implement accessors differently level allows use rcu accessors level point page bee rcu freed namely level signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
3026,780a2d13da943e96f9f31ccdaf8eedf9911b8103,leb Natapov <gleb@cloudius-systems.com>, 2014-06-09 15:43:37 +0300, , mmu fix rcu page table walking hw_ptep hold pointer pt_element rcu_ptr object pointer protected rcu hw_ptep object always live stack never accessed one thread one protected rcu changed concurrently resides page table fix making pointer point atomic type use correct memory order various access signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
3027,46691cf154900bc7862be81e1da68b8d6173a9c1,lauber Costa <glommer@cloudius-systems.com>, 2014-06-09 16:33:56 +0400, , sem implement sem_timedwait exactly sem_wait timer luckily semaphore api already option use reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3028,7a69d0d8709898d47634e4b50c816dd9d9d6ca70,ika L'Etrange <zika.letrange@gmail.com>, 2014-06-09 13:56:04 +0200, , test add test check access static __thread variable regression test check access static __thread variable doe generates page fault signed zika etrange zika.letrange gmail.com signed pekka enberg penberg cloudius systems.com,,
3029,ad45b5adacdd23144eb3552396df44789fb68dde,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-04 17:53:45 +0200, , core use burn bit cycle queue_mpsc suffice case,,
3030,ca8fbd91e0a535d210304b8bd1724e367876ca52,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-04 17:33:27 +0200, , core avoid unnecessary clock reschedules sched timer_list tracking last time point clock set _last field seems optimization would prevent clock set timer repeatedly cancelled set field updated rearm method timer_list resume using method could leave _last stale value spotted code inspection,,
3031,05bd51c1a264ab505fe1b0983010a8e8625a7b26,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-04 12:29:34 +0200, , core switch sched timer_list use timer_set,,
3032,09241f9ae836e9c2554925397c2bbfe42b9ce9e9,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-03 14:13:22 +0200, , core switch async timer use timer_set,,
3033,a86415ed6b52c10598454d1081101d2d23b4c884,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-03 14:14:07 +0200, , test add test timer_set,,
3034,ecd847fd3c85ba5a032dd0ee81d642467da96ad4,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-03 13:03:34 +0200, , core introduce timer_set data structure data structure optimizes timer non delivery deferring sorting cost expiry time optimization based observation many workload timer canceled rescheduled expire especially case tcp timer implementation based hierarchical timer wheel scheme described hashed hierarchical timing wheel efï cient data structure implementing timer facility george varghese anthony lauck description timer wheel implementation linux kernel found http lwn.net article 156329 implementation tick precision limited precision underlying clock idea behind implementation patch originally proposed avi timer assigned list based length common bit prefix timer expiry time point aka timeout last expiry time point _last timer whose timeout _last leading bit _last land bucket expire time point _now calculate prefix index _now _last call e_index need consider bucket index lower e_index fire yet index change base switched _now timer bucket index higher e_index known expired finally need walk timer inside bucket e_index check expired timer bucket e_index expired need hash using new base time point computational complexity cost insert remove always expiring timer involves checking timer placed bucket cost single expire varies let see amortized cost expiring timer look like imagine set timeouts spread evenly period 0000 _last 0001 0010 0011 0100 0101 0110 0111 1000 1001 1010 1011 1100 1101 1110 1111 timer need expired one one starting soonest let notice timer expire timer bucket promoted higher bucket based common prefix expiring timer timeout promotion extends common prefix next timeout binary representation number promotion timer equal number one binary representation total number promotion therefore log amortized cost expiry per timer log,,
3035,1f0c86c52fab9d87eb152b5247e40103f61441bc,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-04 12:22:35 +0200, , core introduce bitset iteration utility main utility allows iterate index set bit like int index for_each_set my_bitset ... ,,
3036,d817a9fe9ae2c87b65ce9beda169b12a33b73852,lauber Costa <glommer@cloudius-systems.com>, 2014-06-09 15:27:57 +0400, , stub chroot provide symbol fail every call signed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com,,
3037,4fc393a0100be6d4d9bbc9a53492e9f57ad1fce1,vi Kivity <avi@cloudius-systems.com>, 2014-06-09 12:36:57 +0300, , vfs covert sys_stat sys_statfs namei signed avi kivity avi cloudius systems.com,,
3038,6b8d574e51768a9ffdd3e24e586e20b91670286e,vi Kivity <avi@cloudius-systems.com>, 2014-06-09 12:36:16 +0300, , vfs add namei signed avi kivity avi cloudius systems.com,,
3039,3467ba12e8712abab91704f8a8f750e67b826a58,vi Kivity <avi@cloudius-systems.com>, 2014-06-09 12:35:59 +0300, , vfs make error class build code signed avi kivity avi cloudius systems.com,,
3040,b3c5995c7a10b45f8507c34409625c127c44a33a,vi Kivity <avi@cloudius-systems.com>, 2014-06-09 12:19:41 +0300, , vfs convert file f_dentry dentry_ref fix possible leak sys_open vfs_file close error case signed avi kivity avi cloudius systems.com,,
3041,08887ffe7617a24fa86562cdc88b5f7431ad371d,vi Kivity <avi@cloudius-systems.com>, 2014-06-09 12:00:15 +0300, , vfs add dentry_ref smart pointer dentrys make managing reference easier signed avi kivity avi cloudius systems.com,,
3042,e4494b8db97feefdc14d86be76cbc95c8e4febad,vi Kivity <avi@cloudius-systems.com>, 2014-06-08 13:45:06 +0300, , merge branch memarea series first step implementing memory allocator enhancement described avi 87. virtual memory starting address divided memory area object allocator currently mempool large early return address memory block memory area memory block freed bit virtual address used identify responsible allocator phys_to_virt make thing bit tricky since possible determine memory area returned virtual address belong current solution return address memory_area main used also large memory allocator make use memory malloc_large  signed avi kivity avi cloudius systems.com,,
3043,3314de6212661525e8ef0fa7f1907bbd8882ec58,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-06-05 05:34:05 +0200, , mempool remove signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
3044,76fbcdb8e0bd427b10802673b73017ce372f788a,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-06-05 05:34:04 +0200, , mempool use memory area determine object allocator two new memory area introduced early mempool large allocation physically contiguous allocation mmio mapping happen main memory area signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
3045,e51266d8a6291a77d4f3dcb7604a3b39f31f5da5,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-06-05 05:34:03 +0200, , mmu introduce memory area patch introduces memory area going used determine memory allocator responsible particular object signed paweå dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
3046,705c1f9014e12eb48430e656bc991407a730f49b,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-06-07 21:40:40 -0300, , driver add null device signed raphael carvalho raphaelsc cloudius systems.com signed avi kivity avi cloudius systems.com,,
3047,d01846268366e3b55df02f2a2eba7d4f0a636740,laudio Fontana <claudio.fontana@huawei.com>, 2014-06-06 16:33:14 +0200, , elf move arch specific initial dynamic segment relocs move initial arch specific relocation done get_init arch specific directory signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
3048,6e97bce2dabae06118c5f7c795a3bca405eaeefa,laudio Fontana <claudio.fontana@huawei.com>, 2014-06-06 13:51:46 +0200, , elf move arch specific object jump slot relocs arch signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
3049,e6f75e301131985de1db289173c9c37e8f01de17,laudio Fontana <claudio.fontana@huawei.com>, 2014-06-06 13:51:45 +0200, , elf move arch specific object rela relocs arch signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
3050,f888c39d744c38cf6fa2f7568c04cea3a7217dca,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-06-03 21:54:40 -0300, , shrinkers wake_waiters called target zero __do_reclaim call get target amount memory freed however pressure system zero returned going either ballooning registered shrinkers used aliviate pressure respectively latter case _shrinker_loop called registered shrinkers asking release memory problem code currently assumes target greater zero wake waiter memory released eventually block everything solution call even target zero given __do_reclaim wake even memory pressure change tested memory hog good project test play shrinker infrastructure interested follow http github.com dmarti memory hog reviewed glauber costa glommer cloudius systems.com reported marti dmarti cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3051,28ffaac34a74cc3348814d9140a189eaa4abb730,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-06-05 15:40:32 -0300, , add entry .gitignore pekka suspicious adding global osv.git ignore list neither generated build system bother workflow hide local git configuration ... raphael explains applies many file already discussed .gitignore could afford file would make osv experience better tracefile always generated trace tool make sense show imagine every new people osv needlessly add tracefile local git configuration glauber win agree raphael discussed criterion generated build totally arbitrary real thing matter many people likely locally quite pervasive file agreed raphael glauber costa glommer cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3052,7183fa0422c6c7c465161d3e5ab7f536a7b555ac,laudio Fontana <claudio.fontana@huawei.com>, 2014-06-05 15:28:30 +0200, , elf aarch64 relocate pltgot add basic support aarch64 object relocate_pltgot object resolve_pltgot including support lazy binding signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
3053,61f1da2d45a1ea28c75a103acfe8e4b0c6faedbc,laudio Fontana <claudio.fontana@huawei.com>, 2014-06-05 14:45:01 +0200, , elf replace non ascii character combination replace mysterious utf character combination two ascii character signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
3054,0af0d99b2d8b069d5e92230eeb78950ad219b03a,laudio Fontana <claudio.fontana@huawei.com>, 2014-06-05 14:33:38 +0200, , elf move arch specific relocation enums arch add per arch jump slot define pltgot relocation add basic rela relocation aarch64 signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
3055,92391407c1d2057baec65f5c1a0105238eb77622,on Marti <dmarti@cloudius-systems.com>, 2014-06-05 13:27:42 -0700, , fix spelling comment signed marti dmarti cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3056,43af20a4972f9d937faed87978e9ff4776504f96,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-06-03 15:34:06 -0300, , zfs improve mount time previous instance performed patch considerably improves zfs mount time previous osv instance performed tried type benchmark zfs linux result shown apparently affected problem tracing investigation result showed slowness exists spa_load_impl procedure whose purpose load existent storage pool back time discussed mailing list thing unfinished storage pool carried next osv instance consequently slowing next zfs mount overall problem quite complex requires investigation discover everything coming temporary solution consists syncing pool last zfs dataset unmounted result  sudo script bench zfs_mount.py sample running zfs mount time benchmark total sample unit time millisecond time min max avg stdev  2417.8 2417.8 2417.8 2417.8 0.0 1329.3 1329.3 2417.8 1873.6 384.8 2949.5 1329.3 2949.5 2232.2 519.8 1296.9 1296.9 2949.5 1998.4 570.7 3337.5 1296.9 3337.5 2266.2 700.1 3399.8 1296.9 3399.8 2455.1 746.4 3358.2 1296.9 3399.8 2584.1 750.4 2946.7 1296.9 3399.8 2629.5 710.9 3002.2 1296.9 3399.8 2670.9 679.2 1169.5 1169.5 3399.8 2520.8 773.2  sudo script bench zfs_mount.py sample running zfs mount time benchmark total sample unit time millisecond time min max avg stdev  103.0 103.0 103.0 103.0 0.0 73.5 73.5 103.0 88.2 10.4 76.8 73.5 103.0 84.5 9.6 91.8 73.5 103.0 86.3 8.7 120.0 73.5 120.0 93.0 14.4 84.3 73.5 120.0 91.6 13.5 162.7 73.5 162.7 101.7 26.2 103.9 73.5 162.7 102.0 24.5 80.0 73.5 162.7 99.6 24.0 127.8 73.5 162.7 102.4 24.2 reviewed glauber costa glommer cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3057,ffa8f2df7747261e5d85fabf7005ce117cc0bf2e,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-06-03 15:34:05 -0300, , script add script benchmarking zfs mount time script basically stress zfs dataset misc stress lately measure zfs mount time output example sudo script bench zfs_mount.py sample running zfs mount time benchmark total sample unit time millisecond time min max avg stdev  103.0 103.0 103.0 103.0 0.0 73.5 73.5 103.0 88.2 10.4 76.8 73.5 103.0 84.5 9.6 reviewed glauber costa glommer cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3058,89537a6bfe3ee925c97d84dc1e9ced71a1810f9d,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-06-03 15:34:04 -0300, , test make misc stress work zfs linux zfs linux support o_direct flag reviewed glauber costa glommer cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3059,f79110970f92558fa472dff9bc7d157b36fa8c31,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-06-03 15:34:03 -0300, , zfs enable spa_config_load patch bsd implement kobj function set spa_config_load enabled spa_config_load called spa storage pool allocator initialization phase i.e spa_init intended populate spa namespace information stored pool configuration file reviewed glauber costa glommer cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3060,8c4c04d1fdab14af7ef0d978d6c67be70979e772,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-06-03 15:34:02 -0300, , bsd implement kobj function freebsd implement kobj function use vnode operation whereas simplified thing making use system call otherwise bunch code would ported adapted implementing needed function spa_config_load reviewed glauber costa glommer cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3061,6fcec39fdcb3c93dc7133052fd59ed0aceef9132,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-05 09:27:59 +0200, , gdb add osv load elf command sometimes one need load external elf file loader.py find automatically example running application built outside osv signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3062,b8c736e2c1082ab41a081f096be9f04b604c8b36,lauber Costa <glommer@cloudius-systems.com>, 2014-05-28 14:00:49 +0400, , math provide floating point symbol application may require symbol like __isinf __isnanl etc standard math.h header provides macro currently implementation __isnan important symbol requested application implementation need craft assemble trully idea asm inline efficient version honestly imagine program calling isinf loop million time per sec record obvious possibility implementation could use symbol verified least x86 example code __isinfl movsd 0x0 rip xmm1 __isinfl 0x8  xor eax eax push rbp andpd xmm1 xmm0 mov rsp rbp pop rbp ucomisd 0x0 rip xmm0 __isinfl 0x1b  seta retq signed glauber costa glommer cloudius systems.com claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
3063,b1afe52082f5df9e416d8cfb4030489b5a1ecdba,aspal Singh Dhillon <jaspal.iiith@gmail.com>, 2014-06-05 17:12:29 +0530, ," dlfcn implement dlclose outline implementation object need unordered_set std shared_ptr elf object object used resolve symbol add std class object would allow get shared_ptr without additional code object resolve_pltgot symbol sym return symbol_module includes pointer object containing symbol object call object add unordered_set delete shared_ptr dlclose decrease reference count dependent module via shared_ptrs tested via following method add printf remove_object extern int add int int dlopen add.so rtld_now resolve add function int add 1,2 running .so contains reference add.so dlclose add.so doe result call remove_object return remove_object first called .so add.so fix 150 reviewed nadav har nyh cloudius systems.com signed jaspal singh dhillon jaspal.iiith gmail.com signed pekka enberg penberg cloudius systems.com",,
3064,13b4db1cabf97786d1b90bb10e3ff536d442f039,adav Har'El <nyh@cloudius-systems.com>, 2014-06-02 15:24:56 +0300, , elf run init function loading object hierarchy amnon discovered bug dynamic linker bug happens load object a.so need dt_need second object b.so identical function variable e.g. using header file inline function b.so init function e.g. static constructor b.so init function run first function belong a.so a.so first search list verified happens linux well existing code needed library b.so init function run a.so yet fully prepared relocated global variable resolved etc use function caused crash unrelocated plt entry unresolved global variable get used fix need split loading hierarchy object two phase first load object needed object needed object etc. keep list loaded without running init function yet object fully loaded symbol relocated resolved needed finally run init function object loaded first phase course run init function reverse order deepest library init function run first signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3065,ab077dc1a35295e43b8c2066fd42a5aa4479b1d9,leb Natapov <gleb@cloudius-systems.com>, 2014-06-02 15:27:24 +0300, , mmu remove unneeded code sub_page default implementation signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3066,25e6c2c9e790a953d3d904c28a66b0ccba86069d,leb Natapov <gleb@cloudius-systems.com>, 2014-06-05 14:10:35 +0300, , mmu fix race fast sigsegv code fast sigsegv code detects cow page checking cow bit write page fault page cowed fault check cow bit present check pte write permission avoid false positive race happens page writable reviewed nadav har nyh cloudius systems.com signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3067,ca2a5e655f9ad64d7431f7af40273ad323077681,leb Natapov <gleb@cloudius-systems.com>, 2014-06-03 11:27:56 +0300, , mmu fix name function read pte virt_to_pte_rcu name incorrect default function used instead signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3068,0da0d234917beeb00693369ae91be82be7688b15,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-06-05 09:18:22 +0200, , gdb implement __bool__ required python3 __nonzero__ python2 __bool__ python3 change fix issue osv info thread printed line starting timer even timer reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3069,39be31de285430885ea907f82ef3bd8d10864add,sias He <asias@cloudius-systems.com>, 2014-06-03 17:17:24 +0800, , script zero download gce support generate url file gce image type example build capstan cloudius osv iperf index.yaml osv iperf.gce.gz osv iperf.qemu.gz osv iperf.vbox.gz osv iperf.vmw.gz osv file copied repo file uploaded google compute engine zcat build capstan cloudius osv iperf osv iperf.gce.gz osv v0.09 g140ac67 osv following cmd create gce instance directly ... url capstan run gce cloudius osv iperf signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3070,e6f583a4b08aad6df8166bb5a947ee8317b1a723,ekka Enberg <penberg@cloudius-systems.com>, 2014-06-04 10:19:35 +0300, , driver rename switch snake case reviewed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3071,e4453dc02101f69437c45c9bf47a67a5fa7c965c,ekka Enberg <penberg@cloudius-systems.com>, 2014-06-04 10:01:24 +0300, , serial rename writebyte putchar fix camel case rename letter argument appropriate reviewed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3072,56dbd25dfe19820d5fa7658c082e93347b27dfc9,ekka Enberg <penberg@cloudius-systems.com>, 2014-06-04 10:16:26 +0300, , serial split register definition split register definition per register enumeration reviewed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3073,20fce3019af755472c7cef76442c86708ff931bb,ekka Enberg <penberg@cloudius-systems.com>, 2014-06-04 09:57:23 +0300, , serial move register definition source file move register definition isa serial.cc used make looking register value easier need jump two file signed pekka enberg penberg cloudius systems.com,,
3074,d93832d6899922c33f5980cb24d3c0dc8101b0df,ekka Enberg <penberg@cloudius-systems.com>, 2014-06-04 09:53:21 +0300, , serial drop unused string.h include reviewed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3075,e965c62c57176b49746ef31e8f0917792132bafc,ekka Enberg <penberg@cloudius-systems.com>, 2014-06-04 09:50:01 +0300, , serial eliminate temporary variable lcr class member variable used temporary variable hold constant value inline ... reviewed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3076,0aad982a752844f8f1a82395b1236941f51d1983,ekka Enberg <penberg@cloudius-systems.com>, 2014-06-04 09:40:35 +0300, , serial fix formatting fix mixed space tab formatting use space make working code painful reviewed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3077,a27a6c986a2f205b67cb0ab713e8784ded82bb9e,ekka Enberg <penberg@cloudius-systems.com>, 2014-06-04 09:34:28 +0300, , driver rename use snake case osv code reviewed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3078,723a173bd39cfb52d5c83dac0ef9585242fe6907,ekka Enberg <penberg@cloudius-systems.com>, 2014-06-04 09:31:58 +0300, , driver rename consoledriver console_driver use snake case osv code reviewed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3079,725fae894cec795abd9d560604b7add336dc3f17,ekka Enberg <penberg@cloudius-systems.com>, 2014-06-04 12:50:06 +0300, , merge branch master github.com elazarl osv github pull request description running make check fresh ubuntu gave following error message test warning file home elazar dev osv script loader.py auto loading declined auto load safe path set debugdir datadir auto load signed elazar leibovich elazarl gmail.com,,
3080,afa73ccdfa1754082022e75c1faa7bec59e8e43b,laudio Fontana <claudio.fontana@huawei.com>, 2014-06-03 15:24:43 +0200, , aarch64 update latest mach virt address acpi ported follow mach virt address gic recently changed signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
3081,4719729f33d42b6cd05df9382430996ed0f44afe,ekka Enberg <penberg@cloudius-systems.com>, 2014-06-03 14:02:53 +0300, , test printf benchmark add printf test benchmarking serial console performance signed pekka enberg penberg cloudius systems.com,,
3082,9b34fc7cb890c968f37a4589387d610e326fbca5,aspal Singh Dhillon <jaspal.iiith@gmail.com>, 2014-06-04 07:04:24 +0530, , test add test futimesat add test futimesat signed jaspal singh dhillon jaspal.iiith gmail.com signed pekka enberg penberg cloudius systems.com,,
3083,e807ca684a3782bba55f569789fd16074e12835c,aspal Singh Dhillon <jaspal.iiith@gmail.com>, 2014-06-04 07:02:42 +0530, , vfs fix errno futimesat dirfd invalid fstat return set errno return errno instead returning errno found writing test futimesat signed jaspal singh dhillon jaspal.iiith gmail.com signed pekka enberg penberg cloudius systems.com,,
3084,563516fbd8e238697f9d939b3d1a2085547af441,akuya ASADA <syuu@cloudius-systems.com>, 2014-06-04 03:37:56 +0900, , pthread implement pthread_exit iperf client mode call connection fails needed prevent abort condition signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3085,cb1f11126acffa917e46e295facd7a8b84941d87,lauber Costa <glommer@cloudius-systems.com>, 2014-05-28 14:00:50 +0400, , math make math function generic using implementation since seem rely intrinsics provided symbol trust aarch64 compiler provide something well make generic signed glauber costa glommer cloudius systems.com tested claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
3086,c9e45454b8663eff49a27f5845a51fbd155f82cb,awel Dziepak <pdziepak@quarnos.org>, 2014-05-29 03:54:32 +0200,295, mempool trace use single tracepoint track memory allocation 295 per cpu tracepoint buffer sample may lost quite effectively ruin attempt track lifetime allocation since ability show allocation still unfreed crucial simplest solution use memory_free tracepoints put needed information memory_malloc_ large mempool signed pawel dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
3087,ff40ce11b285ce9f7cc279df81c684a4e61fd7eb,aspal Singh Dhillon <jaspal.iiith@gmail.com>, 2014-06-03 09:11:59 +0530,330, vfs implement futimesat fix 330 openjdk futimesat place dirfd must point directory pathname absolute reviewed nadav har nyh cloudius systems.com signed jaspal singh dhillon jaspal.iiith gmail.com signed pekka enberg penberg cloudius systems.com,,
3088,4e8021c6a6bd835f06d0c0521c6c7d941fca6c32,sias He <asias@cloudius-systems.com>, 2014-06-03 10:36:27 +0800,321, runtime implement time java application call turn call time get process cpu time patch solr benchmark report average cpu load correctly patch also make jvisualvm get correct cpu usage http hg.codespot.com apache extras.org luceneutil fix 321 reviewed nadav har nyh cloudius systems.com signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3089,7836d09dfdda574761a13e082643adf8c074a1a0,adav Har'El <nyh@cloudius-systems.com>, 2014-05-29 12:10:59 +0300, , clock_gettime subtract idle time clock_gettime currently return full wall time since boot expected remove least idle time patch doe explained comment accuracy implementation limited length idle time slice cpu inside idle time slice know believe busy currently 0.1 second busy system usually much shorter think fine certainly better bother anyone fix future reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3090,11fa67185efba3c09ff0fcc798665c076333f0de,laudio Fontana <claudio.fontana@huawei.com>, 2014-06-02 12:05:42 +0200, , aarch64 implement lock adapter arch_fpu fix aarch64 build broken 202b2ccc avi kivity avi cloudius systems.com signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
3091,7e3d1ecedd56702a4e5bfc3cdf99415cfe45bfd0,leb Natapov <gleb@cloudius-systems.com>, 2014-06-02 15:05:32 +0300, , mmu call correct unmap callback huge page unpopulate class signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
3092,474a18fa024bf45693a47015066255c172524585,lad Zolotarov <vladz@cloudius-systems.com>, 2014-05-19 15:01:32 +0300, , ring_spsc revert previous commit push load _begin relaxed ordering size since store _ring end maxsizemask may reordered due control dependency see documentation memory barriers.txt linux tree signed vlad zolotarov vladz cloudius systems.com signed avi kivity avi cloudius systems.com,,
3093,ddaf36dba1d2a131bd4025c91e3789cde7a73497,leb Natapov <gleb@cloudius-systems.com>, 2014-06-02 13:33:18 +0300, , mmu remove unused function signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3094,ff90f43595a4ca2c5cef85473fa1f7216781bdc5,ekka Enberg <penberg@cloudius-systems.com>, 2014-06-02 11:41:11 +0300, , script fix capstan release upload longer use delete removed bucket host capstan executables access log signed pekka enberg penberg cloudius systems.com,,
3095,ad9c4096d724368445b4411962d072b74185127f,ekka Enberg <penberg@cloudius-systems.com>, 2014-06-02 11:22:48 +0300, , script fix download.osv.io bucket name signed pekka enberg penberg cloudius systems.com,,
3096,b2c6447217bd079c2469e57e9ce12f38f31b97dc,aweÅ Dziepak <pdziepak@quarnos.org>, 2014-06-02 02:31:36 +0200, , test fix unsigned signed comparison misc free perf.cc next_core compared sched cpus.size gcc 4.9 like fact former signed latter unsigned reviewed tomasz grabiec tgrabiec gmail.com signed paweå dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
3097,fd3034ec7bbe8784818973edc42f8e849c14c1ca,leb Natapov <gleb@cloudius-systems.com>, 2014-06-01 16:20:24 +0300, , gdb fix osv info thread show correct thread address signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
3098,8d453be5d3f630be9a5dc2bd9d1c1a64331cd01a,leb Natapov <gleb@cloudius-systems.com>, 2014-06-01 11:36:14 +0300, , mmu implement madvise madv_nohugepage signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
3099,03939c3f93ce1e8d61974da42ea61b06a36d2eee,vi Kivity <avi@cloudius-systems.com>, 2014-06-01 11:43:29 +0300, , mgmt update signed avi kivity avi cloudius systems.com,,
3100,c93ae2120f46b3fae56b81349988447b448faf5b,mnon Heiman <amnon@cloudius-systems.com>, 2014-05-28 10:12:10 +0300, , move swagger api submodule mgmt remove swagger api submodule add file mgmt submodule directory name makefile longer need pull submodule signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
3101,46b222644390c669b1a65e22f970c2cf771f13b8,vi Kivity <avi@cloudius-systems.com>, 2014-05-31 17:51:40 +0300, , poll fix poll_sync early termination sbwait return false positive say ack packet return incorrect result fix looping get either event timeout seen netperf signed avi kivity avi cloudius systems.com,,
3102,259099c41c333461aa881f119798eeed950ea104,vi Kivity <avi@cloudius-systems.com>, 2014-05-31 17:50:29 +0300, , poll fix poll_sync unconnected socket unconnected socket need wait connection event doe change sockbuf sb_cc waited sbwait detect bail early signed avi kivity avi cloudius systems.com,,
3103,df9b6df72cc8a75ed0985858cf3baeb14005a777,lauber Costa <glommer@cloudius-systems.com>, 2014-05-30 19:11:04 +0400, , mount read initial entry fstab main problem supporting setmntent function code per quite trivial rather one expects function addmntent instance used somebody make change system initial mount point make volatile suspect user would frustrated find modification made reflected system patch doe creates fstab file included main build contains currently dynamic mount proc dev osv find file proceed mounting result except people booting using bootfs.manifest iow initial build since build fine without pseudo filesystems really bother anything know patch bit polemic since dynamically building filesystem list without depending file fit model bit better towards stateless much believe right approach since allow mntent function write correct expectation signed glauber costa glommer cloudius systems.com lyor goldstein lgoldstein vmware.com signed pekka enberg penberg cloudius systems.com,,
3104,c5bcc0c48c2a09e713613f44296e4590a8239a62,lauber Costa <glommer@cloudius-systems.com>, 2014-05-30 19:11:03 +0400,326, libc implement whole mnt family function implementation getmntent signature wrong begin doubt ever working since common function even lacked function family like setmntent patch implement main matching code come musl end result significantly different particular really want mess creating new virtual proc file symlinks instead trying opening dynamic file like proc mount famous alias return special value function like getmntent able parse value act accordingly code show dynamic mount come old getmntent implementation modified use static string implement getmntent_r correctly fix 326 signed glauber costa glommer cloudius systems.com lyor goldstein lgoldstein vmware.com signed pekka enberg penberg cloudius systems.com,,
3105,2b1a66cecfa8aeab92c8bc8dfe03d9e4be2a0fe6,lauber Costa <glommer@cloudius-systems.com>, 2014-05-26 16:16:05 +0400, , libc implement terminal function code come musl moved libc.cc together function already present signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3106,1bf43a19afdb72f25bc3df0bff3a532b08789ca4,lad Zolotarov <vladz@cloudius-systems.com>, 2014-05-18 13:52:51 +0300, , virtio vring rename db_used signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3107,913e5cbb901ef5d66b8dfeb2cbc56a70dd6f6204,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-05-28 19:41:36 -0300, , test add fallocate testcase signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3108,19994c40f9e79be326e9872f1d6a5b6f6c396dc0,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-05-28 19:41:35 -0300, , zfs implement zfs_fallocate zfs_fallocate ported zfs linux along convoff zfs_fallocate limited alone though useful fallocate require ored  semantics implemented zfs_fallocate relevant change introduced zfs_space conversation zfs folk realized alone could implemented probably take long time give proportional value signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3109,225b81bf82eec7023839585b375214f51c07dc01,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-05-28 19:41:34 -0300, , vfs fix corner case stat variant report dated file size turn vnode vn_size always synchronized file system underlying vnode vn_stat always provide caller file size known vfs layer latter changed get instead found bug using stat file zfs either truncated extended probably change zfs later update vnode vn_size whenever respective znode z_size updated signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3110,5c157181c677302555b107167466f2e567ca9127,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-05-28 19:41:33 -0300, , vfs implement fallocate system call patch add fallocate vnode operation implement fallocate function system call signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3111,2be3063526c219065989758cd665fe533e63e454,mitry Fleytman <dmitry@daynix.com>, 2014-05-28 19:13:45 +0300, , release ec2 add parameter osv module list specification module list parameter introduced signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
3112,1d2eea331db42dfaad12f8534dec79775c128318,mitry Fleytman <dmitry@daynix.com>, 2014-05-28 19:13:30 +0300, , release ec2 choose availability zone dynamically turned set availability zone region may different different account one hard code availability zone name choose dynamically instead signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
3113,33cec229980eae52e1d1d36e1fc2f2c321b8a9e6,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-05-29 15:30:43 -0300, , shrinker fix visibility apps capstan run created instance memory hog osv v0.08 memory hog failed looking symbol reported marti dmarti cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3114,3afa0ad6c4be6bd7610b8b2ace080f796558f1dc,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-05-29 23:25:43 -0300,324, etc host remove non relevant entry close 324 signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3115,9714ea0d3a594b56dfcbbe35b99875bcc49068d5,lazar Leibovich <elazarl@gmail.com>, 2014-05-30 06:56:17 +0300, , test add auto load safe path init command gdb signed elazar leibovich elazarl gmail.com,,
3116,06f850401f2505f993f66f9f2621cb4328ae9527,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-29 13:07:43 +0200, , test add test poll socket signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3117,de7d4d922f68d7fe7dd51ea5cbbd66d4a83dff05,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-29 13:07:42 +0200, , poll special case pollin one file descriptor openjdk calling poll support timeout call site look like pfd.fd pfd.events pollin pollerr poll pfd timeout current implementation poll quite complex need handle polling many file also allocates memory several place poll due std vector poll_install net_channel add_poller net_channel del_poller poll one socket greatly simplified avoid memory allocation completely change add special casing reduces allocation rate half tomcat benchmark 256 connection signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3118,69dbf7db2ac2a665095bcb52304bd5e2ed7928f9,adav Har'El <nyh@cloudius-systems.com>, 2014-05-29 13:37:59 +0300, , sched remove bit dead code commit scheduler responsible saving fpu state needed know whether scheduler fpu state always saved interrupt time longer care whether scheduler fpu drop flag also drop optional pseudo float integer based floating point operation support scheduler never real advantage actual floating point save fpu state unconditionally make even sense avoid floating point signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
3119,5f5b6144a5950e5b6897450a51f424ab28df3812,adav Har'El <nyh@cloudius-systems.com>, 2014-05-29 13:22:28 +0300, , sched remove unnecessary parameter commit cpu needed know whether called interrupt preempt true ordinary function preempt false know whether save fpu state save fpu state interrupt code longer need deal patch remove unneeded paramter preempt function one thing losing patch sched_preempt tracepoint previously interrupt caused actual context switch reschedule call actually switching different thread still sched_switch tracepoint trace context switch probably interesting anyway signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
3120,4ab20ab30b5170982386b28e57073533c3f3cc35,leb Natapov <gleb@cloudius-systems.com>, 2014-05-29 10:38:41 +0300, , mmu remove unused count_maps code signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
3121,da8bbb44c0d29746499f8a48348950bc90a1ea79,i Yu <raise.sail@gmail.com>, 2014-05-29 10:04:47 +0800, , net abort receive vlan frame bsd sys net if_ethersubr.cc assert check incoming frame vlan frame kernel abort dropping may bettter choice signed raise.sail gmail.com signed avi kivity avi cloudius systems.com,,
3122,7c41277101febd3393cbbc4e13c752dc24212c2c,ekka Enberg <penberg@cloudius-systems.com>, 2014-05-28 16:47:28 +0300, , mgmt update latest signed pekka enberg penberg cloudius systems.com,,
3123,883094bb5e4e2d92332729d1a102420d9ada5353,ekka Enberg <penberg@cloudius-systems.com>, 2014-05-28 15:51:08 +0300, , libc fix getpwuid_r use osv user info user.home jvm system property example getpwuid make sure returning proper value reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3124,16c189b8a674d263c714782d4a45f11d7111ae59,ekka Enberg <penberg@cloudius-systems.com>, 2014-05-28 15:49:23 +0300, , libc move getpwuid user.cc move getpwuid getpwuid_r libc user.cc osv user defined reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3125,6f6c2bef39bfeb231ffd4c552fcb3c7b698d034f,vi Kivity <avi@cloudius-systems.com>, 2014-05-28 12:02:10 +0300, , rwlock replace condition variable waitqueues waitqueues fullfil role condition variable much lighter since rely external mutex already provided rwlock replacing condvars waitqueues significantly reduces size rwlock addition reduces number atomic operation contended case significantly reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
3126,75b3b4baf5f6a05bcde4b809b9739a5b46853c99,leb Natapov <gleb@cloudius-systems.com>, 2014-05-26 15:22:22 +0300, , mmu fix madvice madv_dontneed fix madvice madv_dontneed use correct page ops vma try use today mmaped file signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3127,056b9318d44703b13a1cde84afd7db373109acbb,ekka Enberg <penberg@cloudius-systems.com>, 2014-05-28 13:42:37 +0300, , script separate capstan image building separate capstan image building two script needed able drop useless image like osv base osv openjdk make sense capstan base image standalone image people boot tzach livyatan tzach cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3128,8d9ebb5d1abfd4bcd25fbafb037fd39b7fa20260,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-05-22 20:08:01 -0300, , test add testcase dev console signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3129,7e4ba139494db864eac87f0645f3884e78caeddb,awel Dziepak <pdziepak@quarnos.org>, 2014-05-28 02:50:00 +0200, , trace allow custom printer memory analyzer signed pawel dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
3130,b4ed134ff82513320539a9b411f80e8044ca94a8,awel Dziepak <pdziepak@quarnos.org>, 2014-05-28 02:49:59 +0200, , trace show backtraces memory allocator reviewed tomasz grabiec tgrabiec gmail.com signed pawel dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
3131,675436c702a8c74344e4e537cd3b9c3f6ad4eb45,awel Dziepak <pdziepak@quarnos.org>, 2014-05-28 02:49:58 +0200, , trace group memory allocation given criterion reviewed tomasz grabiec tgrabiec gmail.com signed pawel dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
3132,cfb364368438f9506135eb3f824114dfd17648aa,awel Dziepak <pdziepak@quarnos.org>, 2014-05-28 02:49:57 +0200, , trace sort memory allocation given criterion reviewed tomasz grabiec tgrabiec gmail.com signed pawel dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
3133,02d5ba2f9c9e5f3eb43647d29d6c31aeffbffcc8,awel Dziepak <pdziepak@quarnos.org>, 2014-05-28 02:49:56 +0200, , trace filter memory analyzer output minimum allocation count signed pawel dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
3134,4c995e5ea9316dd5ffb86732ad9156c2fbe6e3cb,awel Dziepak <pdziepak@quarnos.org>, 2014-05-28 02:49:55 +0200, , trace integrate memory analyzer trace.py reviewed tomasz grabiec tgrabiec gmail.com signed pawel dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
3135,43a41db6b0f0e6567681ed6b927df57a29234a58,sias He <asias@cloudius-systems.com>, 2014-05-23 20:14:39 +0800,305, libc add needed run iperf3 http github.com cloudius system osv issue 305 signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3136,8d866083aadc1bf4185c0a221c02255ac4fa5afe,mitry Fleytman <dmitry@daynix.com>, 2014-05-22 16:55:22 +0300, , release ec2 always authenticate aws credential avoid using x.509 keypair became deprecated generally available person release signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
3137,cd7c2834a4c1929d3269e3ae2f7e79577e0ce0b4,vi Kivity <avi@cloudius-systems.com>, 2014-05-28 11:56:50 +0300, , revert revert memcpy aggressive unrolling reverts commit fpu vulnerability fixed 202b2ccc d9addd0b9 fpu based memcpy work signed avi kivity avi cloudius systems.com,,
3138,3531f08037077ee8761919148ad756f2f506d0c0,lad Zolotarov <vladz@cloudius-systems.com>, 2014-05-19 17:10:19 +0300, , virtio net implement using boost signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3139,685be812b2ce67c7c7744b265165912b6eb5ebbd,mitry Fleytman <dmitry@daynix.com>, 2014-05-22 16:55:23 +0300, , syscalls implement getpeername getpeername required iperf client mode without iperf crash following run tool iperf.so 10.0.0.144 failed looking symbol getpeername backtrace elf object resolve_pltgot unsigned int  client client thread_settings 301 client_spawn thread_stop 272 sync thread_main_c thread_main signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
3140,641dddbdadc28b955025c452f9e7e003682ed28c,lad Zolotarov <vladz@cloudius-systems.com>, 2014-05-19 15:47:37 +0300, , vitio net fix description net_req net_req return einval anymore appropriate code moved xmit_prep signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3141,907a94faba7dbe9e85506f1bf6fe46744b1b4772,vi Kivity <avi@cloudius-systems.com>, 2014-05-27 14:42:46 +0300, , rwlock helper with_lock friend implement facade rwlock used with_lock specifying whether want read lock write lock rwlock my_rwlock with_lock read stuff  with_lock write stuff  signed avi kivity avi cloudius systems.com,,
3142,d9addd0b927094be708f7d5f641c6939924e5129,vi Kivity <avi@cloudius-systems.com>, 2014-05-27 12:09:44 +0300, , elf allow use fpu called anywhere including dirty fpu state ensure fpu clobbered execution signed avi kivity avi cloudius systems.com,,
3143,202b2cccc14a43d088002a80f7add51e3e4bc4ce,vi Kivity <avi@cloudius-systems.com>, 2014-05-27 12:06:02 +0300, , fpu early save restore interrupt exception context since guarantee fpu used interrupt exception must save earlier rather later discovered fpu based memcpy triggered way signed avi kivity avi cloudius systems.com,,
3144,fdd0ad25f48a680f3ec697679a3cd43f6295f9a7,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-23 12:46:29 +0200, , trace support time slicing option trace summary summary include sample within specified range timed sample trimmed given time range requested glauber costa glommer cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3145,36700d449b917e728c18a934eb7ca86e83e696ae,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-05-22 18:12:34 -0300, , libc add fdopendir musl fix missing symbol using zpool.so import fdopendir symbol missed code taken musl libc additional detail fcntl f_setfd fd_cloexec call removed close exec flag left unchanged linux glauber costa also removing struct __dir_s definition vfs main.c referencing new one added libc dirent dirent.h reviewed glauber costa glommer cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3146,c4e1e147054fb8b4de7d480a3215e4339e320221,ekka Enberg <penberg@cloudius-systems.com>, 2014-05-27 15:53:21 +0300, , include api remove dead code code api x86 reloc.h used avi say dead code originates fro musl signed pekka enberg penberg cloudius systems.com signed avi kivity avi cloudius systems.com,,
3147,336d416ed0937359903cd885a7ab9d6294d61c9e,vi Kivity <avi@cloudius-systems.com>, 2014-05-27 16:56:16 +0300, , merge branch pagecache http github.com gleb cloudius osv nothing spectacular making msync pagecache aware reduces code size bit nothing else signed avi kivity avi cloudius systems.com,,
3148,9466cf134d5505975e6f9df4a16920372f92d7d5,awel Dziepak <pdziepak@quarnos.org>, 2014-05-27 15:26:52 +0200, , elf resolve properly may associated symbol common linker local dynamic mode case resovled index current module signed pawel dziepak pdziepak quarnos.org signed avi kivity avi cloudius systems.com,,
3149,6e70f178a4760d16ae1b8b8f638c2ca5aeb7d246,leb Natapov <gleb@cloudius-systems.com>, 2014-05-25 18:16:16 +0300, , pagecache write back clean page write page eviction page write page cache dirty sync msync may write back check write back clean page needlessly signed gleb natapov gleb cloudius systems.com,,
3150,6163c030668b4142ff52bf4acaa2add39df19a7b,leb Natapov <gleb@cloudius-systems.com>, 2014-05-25 17:58:44 +0300, , mmu clear pte unmap function allow pagecache code atomically clear pte check dirty bit signed gleb natapov gleb cloudius systems.com,,
3151,e7bb7b977c3e52cb929ebf78afe9ef5c918ec965,leb Natapov <gleb@cloudius-systems.com>, 2014-05-25 11:03:13 +0300, , pagecache make msync pagecache aware current msync implementation scanning page msync via pagetables find dirty page pagecache already know page potentially dirty given file offset check dirty via rmap signed gleb natapov gleb cloudius systems.com,,
3152,05f66d2f52adf1ede14aed51e078897df4cdd057,leb Natapov <gleb@cloudius-systems.com>, 2014-05-25 13:20:45 +0300, , pagecache unify rmap flush access scanning class avi pointed ptep_flush ptep_accessed class replaced general map reduce mechanism customizable map reduce function patch implement signed gleb natapov gleb cloudius systems.com,,
3153,7ac4442e87ab95b146d5ec7e2fdb7ed499c60aa3,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-05-22 20:08:00 -0300, , console fix isatty refers dev console problem flag d_tty meaning device tty passed device_create signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3154,f931188409f028290ba090e82e759f06768e40b9,vi Kivity <avi@cloudius-systems.com>, 2014-05-27 10:59:21 +0300, , revert memcpy aggressive unrolling reverts commit apparently calling memcpy non safe path revert signed avi kivity avi cloudius systems.com,,
3155,771099ca6e0d2775736f9dccac6da8b384f02b81,adav Har'El <nyh@cloudius-systems.com>, 2014-05-25 14:40:19 +0300, , test allow running test tst mmap.cc fix missing include allow tst mmap.cc compiled linux add comment far obvious command line needed compile signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3156,a99b0a96fea09d3753e851fb1fa06524a5b25a27,lauber Costa <glommer@cloudius-systems.com>, 2014-05-26 15:44:19 +0400, , pthread implement raise function man page raise say single threaded program equivalent kill getpid sig multithreaded program equivalent pthread_kill pthread_self sig case mimic second good question whether function generic place pthread.cc argue second since make easier people notice implementation doe course moment pthread_kill stubbed raise ever implement first gain later free signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3157,b9ec8c36cda84e0cce58c9952c43ac4e99a09a4d,lauber Costa <glommer@cloudius-systems.com>, 2014-05-26 16:35:52 +0400, , libc implement gai_strerror code musl signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3158,c5ed256f160ca2301fcc3e054423a1e1be62b328,lauber Costa <glommer@cloudius-systems.com>, 2014-05-26 16:35:07 +0400, , libc implement ffsl ffsll function already ffs function ffsl ffsll easy theoretically a_ctz_l job well since found a_ctz_64 safer signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3159,6be064a2b6d920ce698bdb496cedce356f41a35e,lauber Costa <glommer@cloudius-systems.com>, 2014-05-26 16:21:49 +0400, , pipe implement pipe2 similar pipe taking flag ignore exec related flag signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3160,bef7533150f1f96a96c3cea7f3793eeaafe73ffd,lauber Costa <glommer@cloudius-systems.com>, 2014-05-26 16:26:21 +0400, , libc implement lockf mainly wrapper around fcntl work extent fcntl work fail gracefully code imported musl modification allow compile code signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3161,3f9d203bcee816fe6c840d41f906979ee0b4f45d,lauber Costa <glommer@cloudius-systems.com>, 2014-05-26 17:51:08 +0400, , pthread implement sem_destroy note allocate memory sem_init using placement new construct object already existing memory location therefore need release unique_ptr thanks pawel noticing need release memory internal semaphore signed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com,,
3162,2da050a4b50713d0f4e3d117f0f216b15da07cb1,vi Kivity <avi@cloudius-systems.com>, 2014-05-26 16:19:29 +0300, , memcpy aggressive unrolling copy 256 byte without loop byte use sse reduce instruction count signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3163,041b07dba2da25723e7eb8c26ad4733e5d4ea7dd,vi Kivity <avi@cloudius-systems.com>, 2014-05-26 15:24:22 +0300, , test test size memcpy simple power two easy signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3164,c1e0888e6aadc9936ee1255c3074bf50b4f45987,vi Kivity <avi@cloudius-systems.com>, 2014-05-26 16:21:15 +0300, , merge branch mempool http github.com tgrabiec osv main improvement last patch remove contention inside sync._mtx improves micro benchmark signed avi kivity avi cloudius systems.com,,
3165,ce0c0f998451591a18dbc809e7c239df27ee5c79,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-20 09:53:30 +0200, , mempool remove contention inside fix 308 per cpu pair ring fill freeing thread blocked enters synchronous object hand synchronous hand cause contention instead bounded ring use link freed object chain implementation push always succeeds need block test allocates block cpu two thread freeing two cpu improvement free throughput tested various implementaions based different queue statistic free sec reported misc free perf one sample one run current avg 8133055.09 stdev 118322.06 sample ring_spsc blocking avg 10442665.98 stdev 476334.93 sample  avg 10258212.69 stdev 418194.22 sample  avg 11701334.99 stdev 725299.97 sample testing showed performs best case dead object collected per cpu worker thread thread woken every 256 free threshold chosen behavior would correspond  signed tomasz grabiec tgrabiec cloudius systems.com,,
3166,f86b36a65d6186a2785765883a26f7e764d8efdc,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-21 10:46:39 +0200, , test add test free throughput across cpu one allocating thread two freeing thread thread allocated different core test measure throughput object freed thread signed tomasz grabiec tgrabiec cloudius systems.com,,
3167,328537ba7620796bc5439baee8547409fff0cc47,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-22 13:27:37 +0200, , test introduce latch.await_for signed tomasz grabiec tgrabiec cloudius systems.com,,
3168,a1b0b9633d1102334dee6f6094d374ff14293a35,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-22 13:27:16 +0200, , test introduce signed tomasz grabiec tgrabiec cloudius systems.com,,
3169,7788b5b24792a64674fac700538b7841e70bceca,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-22 13:24:25 +0200, , lockfree introduce meant provide speed ring buffer non blocking property linked queue combining two unlike ring_spsc push always guaranteed succeed signed tomasz grabiec tgrabiec cloudius systems.com,,
3170,f0135963b943412efa90ecc647ce659d1d384d13,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-21 13:14:13 +0200, , lockfree introduce like queue_mpsc two improvement consumer producer link cache line aligned avoid false sharing tempted apply queue_mpsc discovered queue embedded mutex would greatly bloat mutex size gave idea contract pop relaxed return item particular order avoid cost reversing chain signed tomasz grabiec tgrabiec cloudius systems.com,,
3171,850bf8935fdc43cb989bf39b50916208297e0f06,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-19 15:46:48 +0200, , mempool erase page range using iterator rather reference intrusive set erasing via reference requires iteration reference equal_range hood mean traversing tree leaf whereas erasing via iterator requires lookup faster signed tomasz grabiec tgrabiec cloudius systems.com,,
3172,91ac7d376fa82149bff5d30a6dae5cb5a904bb95,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-22 17:53:51 +0200, , mempool drop redundant assert signed tomasz grabiec tgrabiec cloudius systems.com,,
3173,6423593d42b9c84881675a9eb48123644f0d1ff1,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-21 11:23:52 +0200, , mempool make mempool_cpuid inline run callq mempool_cpuid show perf kvm top profile signed tomasz grabiec tgrabiec cloudius systems.com,,
3174,a85ed5018ea4f1c06c77164605a45d672dc3d39b,lauber Costa <glommer@cloudius-systems.com>, 2014-05-26 15:36:52 +0400, , stub setsid fork vfork etc place signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3175,2af316f89ee9ac574087eb0f6b686c72060a25c8,adav Har'El <nyh@cloudius-systems.com>, 2014-05-25 17:43:17 +0300, , driver clock fix comment fixed error clock doxygen comment referred osv clock monotonic fact correct name osv clock uptime signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3176,bf76dc2b27df4d6352025450cfae24be9e743a0c,vi Kivity <avi@cloudius-systems.com>, 2014-05-25 19:54:19 +0300, , pagecache define access_scanner static member fix debug build signed avi kivity avi cloudius systems.com,,
3177,ac9c832223f0cc2f05e05776fb53580c24a1a99f,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-05-23 13:54:33 -0300, , zfs lz4 recognize __aarch64__ detecting cpu word size lz4 code check predetermined list definition cpu word size 64. otherwise therefore __aarch64__ definition must added afore mentioned list signed raphael carvalho raphaelsc cloudius systems.com signed avi kivity avi cloudius systems.com,,
3178,6a29063c0ef05595e268aa757752f4b826cfe371,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-05-20 17:22:59 -0300, , zfs enable compression zfs dataset creating image patch enables lz4 compression zfs dataset right insertion pool image creation process step compression enabled done compression disabled moment compression stop taking effect file previously compressed still supported disabling compression image creation seems corner case setting compression default would affect application performance example application compress data e.g cassandra might end slower zfs would duplicating compression process previously done consequently wasting cpu cycle worth mentioning lz4 300 faster lzjb compressing compressible data might good even cassandra additional information first version patch used lzjb algorithm however slowed read operation compressed file hand lz4 improves read compressed file improves boot time still provides good compression ratio result  uncompressed image size root root 154533888 may build release usr.img read benchmark report  file 552 read 127399kb time 1069.90ms mbps 115.90 boot time  zfs mounted 426.57ms 157.75ms  zfs mounted 439.13ms 156.24ms compressed lz4 image size root root 81002496 may build release usr.img read benchmark report  file 552 read 127399kb time 957.96ms mbps 129.44 boot time  zfs mounted 414.55ms 145.47ms  zfs mounted 403.72ms 142.82ms signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3179,9ca6522abf9a68b75fde7067225cfda42019c48a,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-05-20 17:22:58 -0300, , mkfs code refactoring allow instance shared object besides refactoring code patch make mkfs support one instance shared object within mkfs instance i.e releasing resource function prologue signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3180,cb5db36cc1972c1965d2d5c5eb84117c64bd1dc8,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-05-20 17:22:57 -0300, , test add read fsop benchmark useful getting notion response time throughput sequential read operation random read option added later currently used measure read performance compressed uncompressed data example output osv v0.08 160 gddb9322 eth0 192.168.122.15 zpool.so 96kb 1.77ms 1.77ms libzfs.so 211kb 6.57ms 4.80ms zfs.so 96kb 8.25ms 1.68ms tool mkfs.so 10kb 9.32ms 1.07ms tool cpiod.so 244kb 14.08ms 4.76ms ... usr lib jvm jre lib content 5kb 1066.17ms 2.87ms usr lib jvm jre lib cmm gray.pf 556b 1066.74ms 0.57ms usr lib jvm jre lib cmm ciexyz.pf 784b 1067.34ms 0.60ms usr lib jvm jre lib cmm srgb.pf 6kb 1067.96ms 0.62ms usr lib jvm jre lib cmm linear_rgb.pf 488b 1068.61ms 0.64ms usr lib jvm jre lib cmm pycc.pf 228kb 1073.96ms 5.36ms usr lib jvm jre lib 1kb 1074.65ms 0.69ms report  file 552 read 127395kb time 1074.65ms mbps 115.39 signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3181,ac3f540a307d3f26a34731960ecdcb934a2fff6a,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-05-20 17:22:56 -0300,3035, zfs port lz4 compression algorithm freebsd osv port detail discarded manpage change lz4 license added license directory addressed conflict zfs zfs_ioctl.c add unused attributed function zfs lz4.c actually unused illumos zfs issue 3035 lz4 compression support zfs lz4 new high speed bsd licensed compression algorithm created yann collet delivers high compression decompression performance compared lzjb faster compression faster decompression around faster compression incompressible data giving better compression ratio freebsd commit hash c6d9dc1 signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3182,28ff5b270a367457b93b6396cd4833782be30812,lauber Costa <glommer@cloudius-systems.com>, 2014-05-23 12:52:56 +0400, , memset make memset faster small size like memcpy memset also benefit special case small size however expected tradeoff different benefit large best case able get better byte still gain workload memcpy deal small size memset likely well compared simple loop duff device glommer device latest winner result point one start losing original        loop      duff       glommer        signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3183,94f00eec24438f4ed0c0934122ec787839000d9c,lauber Costa <glommer@cloudius-systems.com>, 2014-05-23 12:52:55 +0400, , test increment memcpy test test memset really kind test let reuse memcpy example signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3184,5878840b92904a2a78c32eabfdb1743a414d746e,awel Dziepak <pdziepak@quarnos.org>, 2014-05-22 02:45:37 +0200, , memory_analyzer major rework patch make memory_analyzer understand newly introduced tracepoint argument allocator type allocated memory requested alignment allocation grouped shown tree together frequency information number block freed yet amount memory wasted internal fragmentation signed pawel dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
3185,8fd55c8d751fb9187ff1f66f0dc0e15a4b84140b,awel Dziepak <pdziepak@quarnos.org>, 2014-05-22 02:45:36 +0200, , mempool add information tracepoints signed pawel dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
3186,4e4c45645bceb07482612a8922fddffb0e7b8da7,awel Dziepak <pdziepak@quarnos.org>, 2014-05-22 02:45:35 +0200, , post processing memory strict trace format signed pawel dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
3187,01e8261ab45ef5850b00006b955b12bdf28b01c1,awel Dziepak <pdziepak@quarnos.org>, 2014-05-22 02:45:34 +0200, , post processing memory remove unnecessary gdb import signed pawel dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
3188,78950796252d97f8e6c34b80c059e3be661f0293,awel Dziepak <pdziepak@quarnos.org>, 2014-05-22 02:45:33 +0200, , post processing memory make script work python3 signed pawel dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
3189,7d122f7d7e27aa6152051a0dec04fcdb6bbafa9c,leb Natapov <gleb@cloudius-systems.com>, 2014-05-18 11:56:43 +0300, , pagecache add accessed bit scanner thread run thread background scan pagecache accessed propagate arc thread may take anywhere 0.1 cpu time hard science behind current cpu usage determined page access rate calculate hard pagecache scanned currently improved taking eviction rate account signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3190,88d44e95e5dbe92adb31597eaf72db42f80c4315,lauber Costa <glommer@cloudius-systems.com>, 2014-05-23 00:28:17 +0400, , runtime stub daemon symbol symbol exists expect people run program foreground linked without lazy binding symbol may required reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3191,e7055f047367491f141dfa626da317fa555dad51,lauber Costa <glommer@gmail.com>, 2014-05-22 23:50:36 +0400, , memcpy improve performance x86 memcpy according reality idea rep movsb preferred way implement memcpy x86 presence rep_good flag false implementation performs better misc memcpy benchmark pretty much size also tested simple loop byte byte copy duff mechanism duff seeing weird bug implemented together memcpy course possible implement 256 separately analysis seen result version start faster rep movsb small object loop start slower size low byte duff slower byte element patch faster size measured copy 64i byte 5.6ns 128 byte 7.7ns 256 byte 13.3ns original number would 11ns 11ns 13.8  balloon safety balloon memcpys 128mb size even partial copy least range expecting funny interaction anticipating need insert fixups full result original                loop                duff         patch                signed glauber costa glommer gmail.com signed pekka enberg penberg cloudius systems.com,,
3192,e507e3b655c506a2704eca6d6aabf2d40ba9d06d,ifei Tong <zifeitong@gmail.com>, 2014-05-22 22:38:34 +0800, , fix nit readme.md use backtick quote inline code signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
3193,b71c7da39ef1e127ae5559f186821e01ea7c0807,mnon Heiman <amnon@cloudius-systems.com>, 2014-05-22 17:11:34 +0300, , http server makefile depend file makefile depends header file well dependency file signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3194,5d291c259322d91633bf237ea60817ca5f8e3438,lauber Costa <glommer@cloudius-systems.com>, 2014-05-22 19:30:59 +0400, , test memcpy benchmark log doe memcpy take misc memcpy let find signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3195,f102fe0a159a5ba9e745d8030d5a1636875b3008,adav Har'El <nyh@cloudius-systems.com>, 2014-05-22 14:23:24 +0300, , acpi fix early acpi partial linear map running kvm host without ept osv used crash ran 1gb memory crash early acpi initialization called acpiosmapmemory called linear_map small chunk physical memory requested acpi turn chunk requested 4096 byte caused linear_map implementation break huge page small page work know yet exactly bug show host use ept memory smaller 1gb ... case since know complete linear map always huge page think make sense map single small page map whole huge page cause linear_map try break huge page bug away signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
3196,9045f06d8e6f559a8a8de877ce77775dcdbe1cc9,leb Natapov <gleb@cloudius-systems.com>, 2014-05-22 14:56:11 +0300, , mmu fix currently code overwrites large pte pointer intermediate page populating intermediate page ptes correct value happen work ept since tlb still valid without ept case fix 316 reviewed nadav har nyh cloudius systems.com signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3197,7f3fc78011c3915612cccf0858820d6caa8c3e08,lad Zolotarov <vladz@cloudius-systems.com>, 2014-05-21 18:13:02 +0300, , virtio net txq fix bug causing false asserts vec_sz net txq net_req initialized since always net_hdr element vec_sz incremented fragment taking account header element miscalculation caused vqueue add_buf return false vqueue vec_sz returning true amount element avail ring equal vec_sz since actual size _sg_vec vec_sz signed vlad zolotarov vladz cloudius systems.com signed avi kivity avi cloudius systems.com,,
3198,5df56084202297a584cd43040fa96ed2156b05fe,ekka Enberg <penberg@cloudius-systems.com>, 2014-05-22 12:23:30 +0300, , apps update latest signed pekka enberg penberg cloudius systems.com,,
3199,1972eb39b448a6961a3eae50b1e036225edc6794,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-22 10:01:44 +0200, , trace use second default unit timestamp trace.py allows slice sample time range using since period currently default unit timestamps nanosecond however timestamp pretty much always come trace list output display timestamp second dot separating nanosecond precision part required explicit unit designating appending suffix timestamp passing since change make since use second default unit timestamp copied trace list used without change script trace.py since default unit period nanosecond remains unchanged signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3200,ccdf90266f42a972f6f6522da56f0f944c093b40,laudio Fontana <claudio.fontana@huawei.com>, 2014-05-22 09:30:25 +0200, , aarch64 mmu fix page_fault assert daif_i aarch64 bit set daif mean interrupt disabled therefore assertion check must inverted page_fault signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
3201,e9427a5256777d139ee6a1fcc416d08571f965b0,laudio Fontana <claudio.fontana@huawei.com>, 2014-05-22 09:16:28 +0200, , aarch64 arch switch implement thread switch_to signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
3202,1e835e71b17eb5cfb5f13b234b029be8e10be59b,laudio Fontana <claudio.fontana@huawei.com>, 2014-05-21 15:18:43 +0200, , aarch64 entry.s show exception vector entry backtraces marking function get show backtrace signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
3203,2a8544227a37fa248a848f41395c86d89f52a0d8,lauber Costa <glommer@cloudius-systems.com>, 2014-05-21 22:56:52 +0400, , vfs lfs64 version two function preadv pwritev reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3204,cec23838caf815b9ea66d6ffa72c341cb9b31ed3,adav Har'El <nyh@cloudius-systems.com>, 2014-05-22 09:44:42 +0300, , locale add test locale support test catch bug locale support see issue 314 previous patch test succeed test verifies trying use unsupported locale support throw exception required rather crashing std isspace std locale return true previously ctype array shifted one returned false istream input operator operator stop space previously recognize space signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3205,e1b3b6b4debcefac257aca2311af114fd284d671,adav Har'El <nyh@cloudius-systems.com>, 2014-05-22 09:32:15 +0300, , locale fix shifted ctype array fix 314 two complement lowest signed bit number 128 127 wrongly starting generate ctype array starting 127 instead 128 got locale ctype question shifted one character example character considered space see bug library isspace friend currently implemented without using locale framework fine support locale anyway however bug apparent explained issue 314 std isspace return wrong answer facility use hood reading istream supposed stop space also got broken signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3206,669f657f66fac0cf7c8078e501e4206b39de62fd,adav Har'El <nyh@cloudius-systems.com>, 2014-05-22 01:39:19 +0300, , abort unknown locale application attempt use unknown locale abort rather fail normally linux doe unknown locale theoretically posix specifies newlocale also fail einval category_mask malformed however reasonable usage function support base null locale locale ignore category_mask case complain enoent meaning find named locale case caller like std locale actually care newlocale failed anyway assume failure mean localename recognized reviewed raphael carvalho raphaelsc cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3207,35a40ceee18fdbcbd01adb630ac7427f27da5e27,adav Har'El <nyh@cloudius-systems.com>, 2014-05-21 23:59:35 +0300, , reindent __newlocale __newlocale function runtime.cc used mixture space tab reindent change actual content would come later reviewed raphael carvalho raphaelsc cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3208,803b52dc3c99a6245d95e54876f37152d4e0d0eb,leb Natapov <gleb@cloudius-systems.com>, 2014-05-21 16:43:49 +0300, , fix osv info thread gdb command thread started cpu pointer null handle case properly signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
3209,fadc5fdc22bf1c4d3372bb44a8d65b39648a8ce4,laudio Fontana <claudio.fontana@huawei.com>, 2014-05-20 11:25:08 +0200, , move detail initialization arch structure need different x64 aarch64 aarch64 implementation local execution try match layout glibc generated code align .tdata .tbss section .tdata align affect load signed claudio fontana claudio.fontana huawei.com glauber costa glommer cloudius systems.com newton will.newton linaro.org signed avi kivity avi cloudius systems.com,,
3210,8e388e1b24e22b7782356e3bd239cd67eaf206bc,leb Natapov <gleb@cloudius-systems.com>, 2014-05-20 20:25:50 +0300, , mmu x64 optimize detection prot_read mem region checking cow bit pte java prot_read page synchronize thread worthwhile able catch fast possible without taking vma_list_mutex patch doe checking pte marked cow write fault present pte since cow prot_read reason pte write protected problem get pte need walk page table access page table currently protected vma_list_mutex patch rcu free intermediate page table level make possible get pte without taking vma_list_mutex lock signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
3211,212a81ebed0fb58222a5161f36ecd2f3ed3121a9,leb Natapov <gleb@cloudius-systems.com>, 2014-05-20 20:25:49 +0300, , mmu remove reference noexistent hw_pte_ref class signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
3212,392e51c95258a909d8fb9b11efc6bc57448c60a4,leb Natapov <gleb@cloudius-systems.com>, 2014-05-20 20:25:48 +0300, , mmu rename function called otherwise never called signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
3213,e77f5b1d180f43ff7aa570e2012f1a0781014197,leb Natapov <gleb@cloudius-systems.com>, 2014-05-20 20:25:47 +0300, , mmu x64 optimize detection prot_none mem region using reserved bit java access prot_none region stop thread sometimes worthwhile able catch fast possible without taking vma_list_mutex patch doe setting reserved bit ptes prot_none vma cause rsvd bit set page fault error code enough check know access valid vma permission lacking signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
3214,ffe9d99c28eef7119ffd006f49616ee4e1dc839a,leb Natapov <gleb@cloudius-systems.com>, 2014-05-20 20:25:46 +0300, , mmu x64 fix getting setting address pte currently address get pte includes reserved bit setting zero available reserved bit signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
3215,34fd7cdfb8e96d4acedab6899bdda6a2dce8e1c3,leb Natapov <gleb@cloudius-systems.com>, 2014-05-20 20:25:45 +0300, , mmu x64 get maximum supported phys virt bit cpuid later patch use reserved bit want sure available signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
3216,772dde83049bb424b33e6c94b1804285bdaca697,rasad Joshi <prasadjoshi.linux@gmail.com>, 2014-05-21 17:56:30 +0530, , vfs enable support debug_vfs moment defining debug_vfs fails osv compilation patch ensures osv compiles correct debug log emitted reviewed glauber costa glommer cloudius systems.com signed prasad joshi gmail.com signed pekka enberg penberg cloudius systems.com,,
3217,943459484d6fc7b4082281b757459c9a2c37dfc1,lauber Costa <glommer@cloudius-systems.com>, 2014-05-21 12:45:39 +0400, , test initial malloc benchmark currently covering three case thread allocation thread allocation thread allocation free different cpu improve case test designed run linux well let keep way signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3218,a88888b6fbf8554af6ac1bf3c67f296e6ee6c5b5,oqun Feng <boqun.feng@linux.vnet.ibm.com>, 2014-05-20 11:31:28 +0800, , build.mk introduce _env variable make system according http gcc.gnu.org onlinedocs libstdc manual abi.html version standard library strong matchup version compiler linkage error occur using libstdc external submodule using gcc 4.9.0 mixup build system environment standard library link time switchable support gcc whose version match external _env variable introduced build image standard library host run make build_env host fine grained setting use gcc_lib_env cxx_lib_env reviewed nadav har nyh cloudius systems.com signed boqun feng boqun.feng signed pekka enberg penberg cloudius systems.com,,
3219,7b475da9cb77658511b9aa0ef20cf6d8f9739174,akuya ASADA <syuu@cloudius-systems.com>, 2014-05-20 11:27:35 +0900, , readme add debian stable description linked wiki page signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3220,34ddac252b87ec664220c89158a7728c40a818fc,lauber Costa <glommer@cloudius-systems.com>, 2014-05-19 12:32:17 +0400, , rework osv_sym macro nadav pointed review macro could use bit work use single parameter instead one done patch unfortunately pasting __counter__ work preprocessor rule need indirection get working also visibility hidden already implied static problem becomes fact gcc doe really like unreferenced static variable solved used attribute gcc doc used attribute attached variable static storage mean variable must emitted even appears variable referenced signed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com,,
3221,8b641c50a6fd38300be044f8c22b1913971f0a6e,laudio Fontana <claudio.fontana@huawei.com>, 2014-05-19 10:58:25 +0200, , aarch64 bsd atomic.h use stlr signed claudio fontana claudio.fontana huawei.com avi kivity avi cloudius systems.com signed avi kivity avi cloudius systems.com,,
3222,96996da2f6ad26bbec9a246c6e66604d7411c76c,aspal Singh Dhillon <jaspal.iiith@gmail.com>, 2014-05-19 13:42:36 +0530,33, java throw exception user main class found fix http github.com cloudius system mgmt issue user run java xyz instead throwing stacktrace simple message informing user missing class suffice signed jaspal singh dhillon jaspal.iiith gmail.com reviewed tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
3223,d6dfa22dfdb0936a17c61e86e1d90fb2231ec68f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-14 17:17:00 +0200, , mmu make flush_tlb_all migration safe thread invokes flush_tlb_all migrated call flush_tlb_local send_allbutself cpu onto migrated would get tlb flushed spotted code inspection signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3224,4dbcc248b866ee9727bb83a3783ecfde804e225f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-19 09:17:48 +0200, , sched strengthen fence migrate_disable doe prevent previous store moving past barrier incrementation split two access eligible tmp std load load load store critical instruction tmp moved past barrier prevent need order previous store future load store given std signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3225,69d3b109fb94fda8fff98c2c3167031789b8d184,lad Zolotarov <vladz@cloudius-systems.com>, 2014-05-18 14:59:56 +0300, , virtio net fix spelling comment signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3226,7b0f326a8afd094ba1f2361c4d8dee4ee0c29942,vi Kivity <avi@cloudius-systems.com>, 2014-05-18 15:14:52 +0300, , sched simplify load_balance determination pinned thread take migration lock pinned thread instead separate check whether pinned reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
3227,618c2ff6cf64f16945d98d35725b90f7594a215e,vi Kivity <avi@cloudius-systems.com>, 2014-05-18 15:01:24 +0300, , sched relax migration lock barrier instead forcing reload flush variable memory use minimum required barrier via std reviewed tomasz grabiec tgrabiec gmail.com signed avi kivity avi cloudius systems.com,,
3228,7dde399751f62b86e81cc2a350318e393510f132,lad Zolotarov <vladz@cloudius-systems.com>, 2014-05-18 15:45:29 +0300, , ring_spsc put proper memory barrier reading storing _begin proper memory ordering implied load store _begin field otherwise may reordered appropriate store load _ring array corner case ring full may lead ring data corruption signed vlad zolotarov vladz cloudius systems.com reported nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
3229,d88e399c72e6f1fbc27b105cf561e97783764baf,ani Kokkonen <jani.kokkonen@huawei.com>, 2014-05-16 16:39:47 +0200, , x64 arch switch remove unused code signed jani kokkonen jani.kokkonen huawei.com signed avi kivity avi cloudius systems.com,,
3230,dca107494af5bab5bc653ce6929844c17c436903,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-16 12:50:43 +0200, , sched add barrier migrate_disable migrate_enable function used demark critical section follow contract say operation inside critical section moved migrate_disable migrate_enable function declared inline compiler could theoretically move instruction across spotted code contemplation signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3231,992070a48b6d6a5815b852b0aeca5efccf6248dc,vi Kivity <avi@cloudius-systems.com>, 2014-05-18 10:12:29 +0300, , virtio net fix debug build due missing lock pushed helper class accessed remove assert signed avi kivity avi cloudius systems.com,,
3232,255e78655be9197ab30da5d17e7fb26ce3d2bf2d,laudio Fontana <claudio.fontana@huawei.com>, 2014-05-13 16:12:10 +0200, , aarch64 bsd atomic.h change revert simple implementation atomic adding barrier compiler store release used without load acquire signed claudio fontana claudio.fontana huawei.com,,
3233,c2828711882778b6be2899633480b94e487ea20d,laudio Fontana <claudio.fontana@huawei.com>, 2014-05-13 15:26:13 +0200, , aarch64 build.mk enable real bootfs.bin start tst hello.so signed claudio fontana claudio.fontana huawei.com,,
3234,d695a2cfaa10407db8d61d06a3ef19ebbb5ad597,laudio Fontana <claudio.fontana@huawei.com>, 2014-05-13 13:34:26 +0200, , loader move leftover arch dependent code arch move driver setup console creation arch setup ioapic init x64 smp_launch remove ifdefs increase amount common code signed claudio fontana claudio.fontana huawei.com reviewed nadav har nyh cloudius systems.com,,
3235,6a9f46ec7719dd68e793dd7f084649122f365d24,laudio Fontana <claudio.fontana@huawei.com>, 2014-05-09 14:14:53 +0200, , aarch64 loader allow execution main_cont allow execution flow main_cont reach backtrace signed claudio fontana claudio.fontana huawei.com,,
3236,0045d66a089b6e4cea8fa0b164baced38f244eaf,laudio Fontana <claudio.fontana@huawei.com>, 2014-05-14 15:05:53 +0200, , runtime backtrace subtract instruction size ret addr need move one instruction back return address get address want show also format pointer long signed claudio fontana claudio.fontana huawei.com,,
3237,300ea570e6e05f4e0943d43135fabbb4ea687aa5,ani Kokkonen <jani.kokkonen@huawei.com>, 2014-05-15 13:31:17 +0200, , arch move common fixup code arch common directory signed jani kokkonen jani.kokkonen huawei.com claudio renamed fixup.hh fault fixup.hh signed claudio fontana claudio.fontana huawei.com,,
3238,706c8b6328d1fb93166be3e975d28de3c519eaae,ani Kokkonen <jani.kokkonen@huawei.com>, 2014-05-14 16:12:18 +0200, , aarch64 implement fixup fault backtrace implement fixup fault backtrace functionality first simple user signed jani kokkonen jani.kokkonen huawei.com claudio added elf change allow lookup demangling work signed claudio fontana claudio.fontana huawei.com,,
3239,5455519f6a9a208d2d0636d4c1363e45e2246e42,ani Kokkonen <jani.kokkonen@huawei.com>, 2014-05-14 16:07:10 +0200, , aarch64 implement initial page fault handling signed jani kokkonen jani.kokkonen huawei.com signed claudio fontana claudio.fontana huawei.com,,
3240,2c6374feedeb95b9b0a0e186030ee05726acfee1,laudio Fontana <claudio.fontana@huawei.com>, 2014-05-07 17:50:20 +0200, , aarch64 arch switch implement switch first signed claudio fontana claudio.fontana huawei.com,,
3241,6ee29e3a9737b8dc75239487652933558e31b04e,ani Kokkonen <jani.kokkonen@huawei.com>, 2014-04-30 13:50:19 +0200, , aarch64 implement exception entry exit generate exception frame signed jani kokkonen jani.kokkonen huawei.com signed claudio fontana claudio.fontana huawei.com,,
3242,3d52ce0cca07789267c78610f71309373e52c865,laudio Fontana <claudio.fontana@huawei.com>, 2014-04-29 11:13:19 +0200, , aarch64 implement basic general timer infrastructure signed claudio fontana claudio.fontana huawei.com,,
3243,e8c57fe6ce176067143428c2ede6bbf4e5654406,laudio Fontana <claudio.fontana@huawei.com>, 2014-05-08 12:55:42 +0200, , aarch64 smp forget create signed claudio fontana claudio.fontana huawei.com,,
3244,6342bab28d7ec9e46481eed1b046c90c989cc9e2,laudio Fontana <claudio.fontana@huawei.com>, 2014-04-25 17:01:03 +0200, , aarch64 smp prepare gic initialization per cpu arch init_on_cpu initialize gic cpu interface boot cpu already done signed claudio fontana claudio.fontana huawei.com,,
3245,8f0c38ff4ee20ace6fac1db7b825475dfc437eab,laudio Fontana <claudio.fontana@huawei.com>, 2014-04-23 15:07:25 +0200, , aarch64 mmu distinguish device normal memory need load store instruction behave differently device ngnrne memory signed claudio fontana claudio.fontana huawei.com,,
3246,abe38111b112997cbeac095bbe4d1e58455f3b52,laudio Fontana <claudio.fontana@huawei.com>, 2014-05-14 11:26:31 +0200, , aarch64 remove verbosity processor.hh signed claudio fontana claudio.fontana huawei.com,,
3247,d7bc664c9269b6b0a24e9136fc4bb74ab82ce5dd,laudio Fontana <claudio.fontana@huawei.com>, 2014-04-30 14:20:12 +0200, , aarch64 exception fix debug statement signed claudio fontana claudio.fontana huawei.com,,
3248,8332553ffcbc7f0bd71ccaa5d43e53a9496a92f6,akuya ASADA <syuu@cloudius-systems.com>, 2014-05-16 05:13:48 +0900, , run.py add qemu path argument add qemu command path argument test different version qemu signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3249,c4ebb11a4e4e6c627d272ca0bbdfc47bd5b53873,adav Har'El <nyh@cloudius-systems.com>, 2014-05-16 01:14:11 +0300, , sched high resolution thread current thread_clock thread current thread_clock return cpu time consumed thread thread wish measure amount cpu time consumed short section code want clock high resolution existing code updated context switch shorter duration could measured patch fix thread_clock also add time passed since time slice started running thread_clock another thread thread current still return cpu time snapshot last context switch even thread happens running another cpu fixing case quite difficult probably require additional memory ordering guarantee anyway important usually need high resolution estimate different thread cpu time fix 302 reviewed gleb natapov gleb cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3250,9d1e1e62395afd92a72d4f75dae3f559b53a7bdf,mnon Heiman <amnon@cloudius-systems.com>, 2014-05-15 11:20:05 +0300, , http server add stub debugger buffer debug buffer need stub stand alone server would able compile signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3251,97f5c29d745dfae6ae53967b21a927455cbf60e6,lauber Costa <glommer@cloudius-systems.com>, 2014-05-16 12:20:36 +0400, , sched make preempt function inline currently calling function everytime disable enable preemption actually pair function simple mov instruction would signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3252,19b9d16f81124fe07cc5c2450a0adcc1788f0bd5,lauber Costa <glommer@cloudius-systems.com>, 2014-05-16 12:20:35 +0400, , sched make current inline heavily using function grab address current thread mean function call issued every time done simple mov instruction would object outside main elf want inlined since would mean resolution would expensive __tls_get_addr present symbol inline make sure symbol always generated signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3253,dca531ae0edfa4091d6fb8c8772692ad776a5e68,lauber Costa <glommer@cloudius-systems.com>, 2014-05-16 12:20:34 +0400, , build.mk define constant osv kernel build sometimes useful programatically learn something end main elf shared library function usually performed _kernel however using proved quite difficult asia trying conditionally compile zfs tool lot header expect _kernel defined also included tool build messy unfortunately defining new constant available every object end main elf defined otherwise signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3254,af33bdb00973b9b5caad4119de45008906b78749,aspal Singh Dhillon <jaspal.iiith@gmail.com>, 2014-05-15 04:22:09 +0530, , remove vnc option make remove unnecessary default vnc argument make also doe allow make proceed another already using reviewed nadav har nyh cloudius systems.com signed jaspal singh dhillon jaspal.iiith gmail.com signed pekka enberg penberg cloudius systems.com,,
3255,2bc3f1c22e8583a1b3e42871dbeaf1fb76ddfacd,sias He <asias@cloudius-systems.com>, 2014-05-15 17:12:14 +0800, , zfs make zpool zfs list work script run.py zpool.so list osv v0.08 gc3422a7 eth0 192.168.122.15 name size alloc free cap dedup health altroot osv 9.94g 148m 9.79g 1.00x online script run.py zfs.so list osv v0.08 gc3422a7 eth0 192.168.122.15 name used avail refer mountpoint osv 148m 9.64g 32k osv zfs 148m 9.64g 148m zfs enable compiling missing function reviewed glauber costa glommer cloudius systems.com signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3256,3c9a43b61b8f8ea76312b2380757f5e24f8b903a,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-05-16 08:10:30 +0900, , reflect add execv execl signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
3257,96ea44ba8d11ed283ed81f47155a3a89a8635935,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-05-16 08:10:29 +0900, , add execl libc add symbol porting cruby function depend execv signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
3258,fec57f1c269bbb8e72f9996c9b6b404fa938b7a0,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-05-16 08:10:28 +0900, , add execv libc add symbol porting cruby signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
3259,6439aa7d4d4c75af52a9f082062a991d060b157e,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-15 12:39:54 +0200, , trace update version built muninn doe leading tracepoint_base log_backtrace trace_record unsigned char frame signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3260,708fb28b3143622399e94282b7da690804eade2e,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-15 12:39:53 +0200, , trace hide operator function important case hide lambda function reported like signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3261,ef84e014cc385fcadff4d03317b7462864f46e6b,adav Har'El <nyh@cloudius-systems.com>, 2014-05-15 13:32:55 +0300, , build.mk fix breakage caused makeflags passed module build makefile run build.mk make disable default rule flag saved make makeflags variable passed child process unfortunately also passed makefiles individual module apps build specific module makefiles completely stand alone normally written assume default rule e.g. exist fail run makeflags recently noticed redis memonly memcached exhibit problem committed workarounds see apps.git however right fix build.mk acknowledge module makefiles stand alone must inherit prefered flag like patch clear makeflags variable calling module.py module.py later invoke make module module directory reviewed tomasz grabiec tgrabiec gmail.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3262,91199cb0f7cef294101b33ba626135aa86ce2bf4,lad Zolotarov <vladz@cloudius-systems.com>, 2014-05-15 14:19:42 +0300, , ring_spsc use static_assert instead assert template maxsize parameter checking reviewed nadav har nyh cloudius systems.com signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3263,19128e05bcc8fd4ac812bf7bc3ab192a72684660,akuya ASADA <syuu@cloudius-systems.com>, 2014-05-15 15:57:18 +0900, , readme add warning support debian stable add qemu package apt get line signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3264,64946d15a510be7230ea3122d0df000e3dbd2970,mitry Fleytman <dmitry@daynix.com>, 2014-05-15 09:28:37 +0300, , vmxnet3 fix descriptor length field overflow descriptor length bit field overflow allocating 16k buffer device treat descriptor buffer length zero signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
3265,c880a2b200e85b47f2e5f3dd085ab0ad28dc6f69,mitry Fleytman <dmitry@daynix.com>, 2014-05-15 09:28:36 +0300, , vmxnet3 drop memory allocation error handling path packet discard logic path incorrect take account incoming packet may spread ring time discard logic called case newbuf failure newbuf never fails since memory allocation error discard logic may safely dropped excellent fix original problem signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
3266,e68e1b3e279abd03c37a2890fbc8485b9f7413cc,mitry Fleytman <dmitry@daynix.com>, 2014-05-15 09:28:35 +0300, , vmxnet3 fix long packet processing function vmxnet3 rxq_eof may exit middle multi descriptor packet processing case expected resume processing packet next invocation fixed making corresponding pointer vmxnet3_rxqueue class member instead stack variable signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
3267,7a0a17aea3dd3facc20a1dbaaddacef21b1f4c4d,mitry Fleytman <dmitry@daynix.com>, 2014-05-15 09:28:34 +0300, , vmxnet3 fix ring initialization 2nd ring queue filled descriptor immediately cleared lead inability driver receive packet loger 16k signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
3268,bb1ad0cd9f19d1944582762d4a2e971cc25aaea6,lad Zolotarov <vladz@cloudius-systems.com>, 2014-05-14 18:26:45 +0300, , virtio net white space column comment spelling fix signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3269,0296a6c9b906195cee98fcc25c974d792f9d6bf5,lad Zolotarov <vladz@cloudius-systems.com>, 2014-05-14 18:26:44 +0300, , virtio net use per cpu framework involves introduction xmit iterator worker thread signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3270,aa45bbb4894d6f46545e301052e7a4e6c78c2f2f,lad Zolotarov <vladz@cloudius-systems.com>, 2014-05-14 18:26:43 +0300, , xmitter class class heart per cpu framework except constructor two public method xmit buff push packet descriptor downstream either per cpu queue contention poll_until cond main function worker thread consume packet descriptor per cpu queue send output iterator responsible ensure successful sending channel signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3271,9741e82d692e5a65ac13a13dab2e4bdc97ec6210,lad Zolotarov <vladz@cloudius-systems.com>, 2014-05-14 18:26:42 +0300, , cpu_queue class class represent single per cpu queue queue subject merging nway_merger class order address reordering issue therefore class implement following method class push val empty front return iterator implement operator access underlying value erase would pop front element producer fails push new element queue queue full may start waiting queue request woken queue full anymore consumer free entry queue push_new_waiter method signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3272,48a8f7cab46be30180dff13910a57eb25ff2b366,lad Zolotarov <vladz@cloudius-systems.com>, 2014-05-14 18:26:41 +0300, , added test nway_merger ring_spsc base sorted container signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3273,e15cd7df268b0ac7c0c9f38cb748cb55880b807b,lad Zolotarov <vladz@cloudius-systems.com>, 2014-05-14 18:26:40 +0300, , nway_merger helper class implementation class allows efficiently merge sorted container allows single call merging merge method iterator like semantincs pop method case merged stream next element streamed output iterator signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3274,881d38ac3056e74952c95aa81506d0a28c480bad,lad Zolotarov <vladz@cloudius-systems.com>, 2014-05-14 18:26:39 +0300, , virtio net make drop signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3275,f99c90b992840e58ee438d3f18f11948ab60fe0f,lad Zolotarov <vladz@cloudius-systems.com>, 2014-05-14 18:26:38 +0300, , virtio net move related code txq class signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3276,cff3aac27a18c5c03c3b3fb850410f0ecb644de9,lad Zolotarov <vladz@cloudius-systems.com>, 2014-05-14 18:26:37 +0300, , virtio net use indirect buffer descriptor signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3277,7d9e9c1f4bcbabd26a9163f51cb11b708b960039,lad Zolotarov <vladz@cloudius-systems.com>, 2014-05-14 18:26:36 +0300, , virtio net coalesce doorbell host finalizing buffer signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3278,6c096634b4c1c59e124d1c0fc6bbafd236557b66,lad Zolotarov <vladz@cloudius-systems.com>, 2014-05-14 18:26:35 +0300, , virtio vring rework interface new interface allows send single doorbell host per buffer bulk signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3279,76d3b061439076f13e5d4550c664901cf0cebc37,lad Zolotarov <vladz@cloudius-systems.com>, 2014-05-14 18:26:34 +0300, , virtio vring fix kick return correct value signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3280,c2bc94f2392c7ce187b5c9ca7c39ad689c477f19,lad Zolotarov <vladz@cloudius-systems.com>, 2014-05-14 18:26:33 +0300, , ring_spsc use size method instead duplicating code signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3281,1eb8e83701bd6377dfbcf9f07c93f67562b7be2a,lad Zolotarov <vladz@cloudius-systems.com>, 2014-05-14 18:26:32 +0300, , ring_spsc use bitwise instead modulo calculating entry index signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3282,dd33a91daa6f35a590f2df70b94c2a2bc975b815,awel Dziepak <pdziepak@quarnos.org>, 2014-05-14 16:11:52 +0200, , sched relax memory ordering cpu_set fetch_clear reviewed nadav har nyh cloudius systems.com signed pawel dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
3283,bca7bbbeba2493d4e427bce36b36e3f5db574412,awel Dziepak <pdziepak@quarnos.org>, 2014-05-13 17:21:55 +0200, , sched reimplement patch implement lockfree_queue used need exchange operation idea use linked list interleave actual object stored queue helper object pointer next element object queue owns helper precedes dequeued together last helper doe precede object owned queue new object enqueued gain ownership last helper queue exchange helper owned becomes new tail list unlike original implementation version lockfree_queue really requires one concurrent producer one concurrent consumer result oftests misc ctxs test machine follows value median five run  colocated 332 apart 590  colocated 313 apart 558 reviewed nadav har nyh cloudius systems.com signed pawel dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
3284,e5ef01e32d6f01e9a30e2f11185a8ea13c5a148d,vi Kivity <avi@cloudius-systems.com>, 2014-05-14 22:05:11 -0500, , update mgmt upload api signed avi kivity avi cloudius systems.com,,
3285,07712f85a4002fb743693bb8249258b1b0f23814,mnon Heiman <amnon@cloudius-systems.com>, 2014-04-17 16:01:58 +0300, , http server testing file upload api test creates temporary file upload download back check file identical signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
3286,4f30213266f1cf9fa1c2234a5a9eccab9b6aecd2,mnon Heiman <amnon@cloudius-systems.com>, 2014-04-17 16:01:57 +0300, , http server file api file upload upload file file api handler register two function one set temporary file inside target directory one move temporary file upload complete call upload resume file upload signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
3287,fefbbeba298a64090bc7f4ef72e5744dc71da4ea,mnon Heiman <amnon@cloudius-systems.com>, 2014-04-17 16:01:56 +0300, , http server file upload handled handler file upload via multi part message handled handler change made request hold reference connection able complete upload retain async nature reading call back interface added multi part message parser allows handler load file directly file position upload temporary file inside target directory rename file download complete new behavior connection stop parsing first part message parsed copy remaining buffer multipart parser call handler continue processing handler wish continue upload set temporary file name either immediately registering call back function call upload upload function called connection return response immediately wait upload complete signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
3288,16d33f1876ed6e15f3e785b45dcc91cadac08ad0,laudio Fontana <claudio.fontana@huawei.com>, 2014-05-14 14:45:55 +0200, , loader use early console display osv string early loop around init_array signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
3289,1b2dd8d3cf0f9562bfa547e737a9261f7e9ec399,laudio Fontana <claudio.fontana@huawei.com>, 2014-05-14 14:43:11 +0200, , aarch64 fix build broken recent change fix build aarch64 broken commit 66317807 b3fa77d3 signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
3290,1b354a722e4341c4036699c294ad70b332f2e048,leb Natapov <gleb@cloudius-systems.com>, 2014-05-07 10:12:33 +0300, , pagecache zfs make hole detection logic efficient instead searching next data offset file getting arc buffer patch add function variant return error requested offset belongs hole reduces amount lock taken avoids file syncing dmu_offset_next doe reviewed glauber costa glommer cloudius systems.com signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3291,73494e422382c2672f4c5386b4f070442673176d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-14 12:17:34 +0200, , test add sampler enabling disabling test reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3292,b3fa77d36beec6aa68a512d091bb6e3d5c25cb2c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-14 12:17:33 +0200, , trace introduce sampling profiler introduces simple timer based sampling profiler reusing tracing infrastructure collect sample enable sampler run.py run like script run.py ... sampler frequency frequency optional parameter overriding sampling frequency default 1000 tick per second bigger frequency bigger sampling overhead low value hurt profile accuracy hoc sampler enabling planned code already take account see profile need extract trace trace extract show like trace prof prof option applied example group cpu trace prof cpu signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3293,f59a8a12c0def46764c510c2bba4cddd38573724,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-14 12:17:32 +0200, , trace strip leading unimportant frame backtrace first couple frame always come trace logging function think show add information already list function name filtered appropriate case tracing function named log pretty generic name could well application symbol filter function named log patch add support knocking leading sequence frame form backtrace accurate seems good enough reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3294,ada97980b2b329ee0788327b269866dd004cf3ab,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-14 12:17:31 +0200, , trace allow atomic change _log_backtrace via tracepoint_base log_backtrace sampler need set later restore value option reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3295,0fa88c554d0c48de16b046f0a317a8dd1671489a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-14 12:17:30 +0200, , trace ensure buffer initialized tracepoint enabled tracepoints enbaled via std string via tracepoint_base enable also change also make initialization thread safe may called aribtrary thread reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3296,49949840739c51768ec7e2f63e8a9ecb8ba4b185,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-05-08 04:51:11 -0300, , libzfs add missing file libzfs build fix missing symbol functionality zfs zpool command require function contained zfs_prop.c zpool_prop.c patch solves problem adding file part libzfs compilation process currently osv fall failed lookup symbol scenario using certain parameter aforementioned command e.g script run.py zfs.so list osv added cflags fix confliction struct uio defined twice glauber costa reviewed glauber costa glommer cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3297,66317807ff9f6318a7b8817df624629b54807a5c,akuya ASADA <syuu@cloudius-systems.com>, 2014-05-01 12:13:55 +0900, , show current rip symbol name sigsegv using dump_registers signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3298,17244715bf69823f99bb1c73be3ba8c318b73763,akuya ASADA <syuu@cloudius-systems.com>, 2014-05-01 12:13:54 +0900, , add symbol name dump_registers resolve demangle symbol name rip show signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3299,8aa4f83dbb6b312d2634ced5e61f2fcdf78872c6,akuya ASADA <syuu@cloudius-systems.com>, 2014-05-01 12:13:53 +0900, , use abort backtrace signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3300,4474ac95a7e091364b978e1b4c3fe4576718e93b,akuya ASADA <syuu@cloudius-systems.com>, 2014-05-01 12:13:52 +0900, , add convert addr demangled symbol name lookup symbol name demangle snprintf onto preallocated buffer signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3301,8b778b346554456b80696f97def4345e4987e51d,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-05-13 21:29:44 +0900, , reflect add libc process signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
3302,5958348d12e7e28e2acca29f4b43030a2b8f01a5,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-05-13 21:29:43 +0900, , reflect add libc process code signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
3303,b7ef185582187bdf44b26f07619c13148dfc97ea,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-05-13 21:29:42 +0900, , add execle libc add symbol libc port cruby signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
3304,acc69bb735b2695ba997a09d7826ce3c95287b55,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-05-13 21:29:41 +0900, , libc fixed include directive signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
3305,56996315925aab1dc5ee54974c673e9ad2c9c2e1,laudio Fontana <claudio.fontana@huawei.com>, 2014-05-12 12:47:44 +0200, , debug allow debug_early work really early effect commit 9bbbe9dc output possible prio console initializers run change allows least one api available really early boot code premain document requirement early console class regarding write method signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
3306,8e087635e91bdec071e27033e468643698afce8a,lauber Costa <glommer@cloudius-systems.com>, 2014-05-12 21:53:48 +0400, , netchannels specialize new delete operator running one redis benchmark saw around 23k call malloc_large among 11k page sized managed track creation net channel problem net channel structure slightly larger half page maximum size small object pool throw allocation malloc_large besides slow also waste page every net channel created since malloc_large include extra page beginning allocation patch fix overloading operator new delete netchannel structure use efficient wasteful alloc_page reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3307,6ca9e6b42e2c4773ec630fa43709ff952c8a7199,mnon Heiman <amnon@cloudius-systems.com>, 2014-05-04 15:42:38 +0300, , http server move exception file exception handling httpserver cover http exception general exception http exception mainly result bad input resource found argument wrong general exception result error code exception file hold base class exception basic derivation found bad request missing parameter http server exception message status code used reply exception handler use message status exception httpserver exception exception result 500 internal server error reply reviewed tomasz grabiec tgrabiec gmail.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3308,34bf92d2ba3a36af62180ee5f0a405abb2af30ec,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-09 19:10:01 +0200, , trace make timed trace recognition handle discontinuous stream properly change aim reduce likelihood running issue merged stream may sample cross cpu cpu second sample earliest sample first sample ignore pair second sample high chance belonging pair change doe solve problem completly may situation sample recorded another cpu discarded next sample first cpu signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3309,116a64f75b913575f3ab1b684497fc562cc81144,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-09 19:10:00 +0200, , test increase coverage trace.py signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3310,699e8997ebdd7d8de73e5b2aa8a6e6272b07ee74,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-09 19:09:59 +0200, , trace introduce prof timed command command show duration profile like prof wait prof lock generic work timed trace trace prof wait equivalent trace prof timed sched_wait trace prof lock equivalent trace prof timed mutex_lock_wait signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3311,aea2e98e8eea478a4001bf5b3d614399cf37028e,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-09 19:09:58 +0200, , trace unify timed trace extraction algorithm duplicated prof wait prof lock list timed summary timed change unifies path side effect mutex_lock_wait mutex_lock_wake pair recognized timed sample appears summary timed trace list timed refactoring also make easy declare timed sample correlated data rather calling thread signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3312,23fb36da07f6447186f8a7565e257c01d9f50748,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-09 19:09:57 +0200, , trace fix trace list timed broken commit signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3313,2ef04bad714981349b54fea4af9a629bc0a20c18,lauber Costa <glommer@cloudius-systems.com>, 2014-05-12 16:06:36 +0400, , shrinker export export shrinker interface user signed glauber costa glommer cloudius systems.com reviewed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3314,3185a1726c09e78dc8101f9d14168548a9e0284d,mitry Fleytman <dmitry@daynix.com>, 2014-05-12 12:35:00 +0300, , ec2 upload fix batch upload small instance due global variable image type definition code small instance directive becomes sticky applies automatically image batch fixed making variable local signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
3315,abbdb53bb96b286820825e834cb178e1a3c2d0bd,laudio Fontana <claudio.fontana@huawei.com>, 2014-05-08 13:59:13 +0200, , aarch64 exception implement interrupt table implement simple interrupt table descriptor record interrupt handler interrupt type signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
3316,693e9706f298e0cd85167fa0c73dcbfa2c16e169,aspal Singh Dhillon <jaspal.iiith@gmail.com>, 2014-05-09 20:55:56 +0530,282, remove warning mgmt.log test present fix 282 signed jaspal singh dhillon jaspal.iiith gmail.com signed pekka enberg penberg cloudius systems.com,,
3317,d0b5d9e0f7ae6623c3debd78082991be4af55cbc,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-09 15:35:00 +0200, , gdb fix osv leak show traceback recent call last file home tgrabiec src osv script loader.py line 1165 invoke show_leak file home tgrabiec src osv script loader.py line 1104 show_leak syminfo file home tgrabiec src osv script loader.py line 117 syminfo return addr typeerror object take parameter error occurred python command object take parameter reported gleb natapov gleb cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3318,edb1a31de0213d419ab640427ac8a23d2992993b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-09 15:34:59 +0200, , gdb make osv leak show work python3 signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3319,1b880d17faf273a3a49c121a3bf65c8c0617cd1b,leb Natapov <gleb@cloudius-systems.com>, 2014-05-10 11:04:49 +0300, , fix memory leak bio handling pthread_mutex lazy_indirect object allocate actual object first use lazily allocated object destroyed unless called reviewed nadav har nyh cloudius systems.com signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3320,7166013b2927cd9a0c6bf080db07e04d4823f01b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-08 11:56:38 +0200, , trace fix default backtrace formatter construction formatter used hoc printing sample error message fix following error message traceback recent call last file script trace.py line 576 module args.func args file script trace.py line 244 prof_lock show_profile args get_profile file script trace.py line 208 show_profile max_levels args.max_levels file home tgrabiec src osv script osv prof.py line 170 print_profile sample sample file home tgrabiec src osv script osv prof.py line 108 raise exception double entry str old str trace file home tgrabiec src osv script osv trace.py line 125 __str__ return self.format file home tgrabiec src osv script osv trace.py line 122 format bt_formatter self.backtrace file home tgrabiec src osv script osv trace.py line __call__ frame list self.resolver backtrace file home tgrabiec src osv script osv debug.py line 107 resolve_all return map resolver raw_addresses typeerror __init__ take exactly argument given actually printed traceback recent call last file script trace.py line 576 module args.func args file script trace.py line 244 prof_lock show_profile args get_profile file script trace.py line 208 show_profile max_levels args.max_levels file data tgrabiec osv script osv prof.py line 170 print_profile sample sample file data tgrabiec osv script osv prof.py line 108 raise exception double entry str old str trace exception double entry mutex_lock_wait ... mutex_lock_wait ... signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3321,86dfdca84b286217b8ea7da9336c28b468ea8119,ekka Enberg <penberg@cloudius-systems.com>, 2014-05-09 09:30:18 +0300, , mgmt update latest signed pekka enberg penberg cloudius systems.com,,
3322,649f38938e784254f606f7552fb76b637ad35991,aspal Singh Dhillon <jaspal.iiith@gmail.com>, 2014-05-08 19:35:08 +0530, , add handler dmesg add dmesg command minimal implementation dmesg signed jaspal singh dhillon jaspal.iiith gmail.com signed pekka enberg penberg cloudius systems.com,,
3323,dfdd655427a8d03621327476c49d5438b1b6deda,ekka Enberg <penberg@cloudius-systems.com>, 2014-05-09 09:29:28 +0300, , api doc update latest signed pekka enberg penberg cloudius systems.com,,
3324,0dfc7a8be8455d49e9b199639e85542c9fc65a44,aspal Singh Dhillon <jaspal.iiith@gmail.com>, 2014-05-09 07:05:08 +0530, , loader poweroff cpus.size max_cpus patch fix case silently hanging osv cpu provided signed jaspal singh dhillon jaspal.iiith gmail.com signed pekka enberg penberg cloudius systems.com,,
3325,8dd67e0d8bd0f797cfe056afedf7a91aac2adbcb,adav Har'El <nyh@cloudius-systems.com>, 2014-05-08 13:46:10 +0300, , fix bug booting cpu osv currently limited vcpus use bit bitmask wakeups see max_cpus sched.cc exactly cpu work unfortunately bug cpu_set operator first incremented index called advance find following one bit bug index expect operator return end signaling end iteration happened incremented index advance wrongly handled case idx return unexpectedly moved back idx patch fix operator call advance idx reached work correctly also idx booting cpu work fix 234 signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
3326,3a76d4818d1b2664a00d179a612ac749f27cf895,laudio Fontana <claudio.fontana@huawei.com>, 2014-05-08 13:32:59 +0200, , aarch64 mmu add include proper place add include osv prio.hh time beginning file signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
3327,3a6d4e60ee2b52377ae7b70a35a435c623c247b4,adav Har'El <nyh@cloudius-systems.com>, 2014-05-07 17:01:26 +0300,77, vfs implement rewinddir telldir seekdir implement three linux function still missing see issue list thing pretty easy add need correctly call lower layer function sys_ already exist patch also add test three function tst readdir.cc signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3328,a02a6bc56cc94dd63c5fb89967edf1c3793510c0,adav Har'El <nyh@cloudius-systems.com>, 2014-05-07 17:01:25 +0300, , vfs cleanup readdir friend readdir_r friend implemented libc dir.cc calling function ll_readdir vfs main.cc name function confusing ll_ seemed imply lock way extern ugly comment even admitted moreover want implement missing function like rewinddir see issue need write silly ll_ wrapper function instead let move dir.cc function main.cc latter already defines filesystem system call feel right place anyway change allows get rid silly ll_readdir layer make implementing rewinddir trivial see next patch signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3329,caf9cbe02dffb61417a5217140d5a0a1c5e5f827,laudio Fontana <claudio.fontana@huawei.com>, 2014-05-07 16:31:24 +0200, , aarch64 mmu remove spurious include remove spurious include osv prio.hh seems merge artifact signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
3330,7254b4b06876401464d4b1baf52d6dda38e121fa,aspal Singh Dhillon <jaspal.iiith@gmail.com>, 2014-05-08 14:16:36 +0530, , assert fix __assert_fail patch change definition __assert_fail api assert.h would allow header file include debug.hh used mgmt submodules fix conflict declaration __assert_fail external x64 glibc.bin usr include assert.h signed jaspal singh dhillon jaspal.iiith gmail.com signed pekka enberg penberg cloudius systems.com,,
3331,649d2e17928a32bcb3a78c43e6fbec046a5e1a1f,akuya ASADA <syuu@cloudius-systems.com>, 2014-05-06 23:59:17 +0900, , vmxnet3 support net channel vmxnet3 signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3332,5d3ef773463294e397d280417bd81f33a4cbe1e2,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-05 17:38:07 +0200, , net cleanup syncache_head construction change move syncache_head construction constructor timer nicely embedded structure signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3333,7f05817130878e893480b20ac7a90349da48dc9c,akuya ASADA <syuu@cloudius-systems.com>, 2014-05-07 00:02:50 +0900, , build.mk remove vga cmdline osv.vmdk .vdi enabled vga serial nolonger need add vga cmdline vmw vbox reviewed asia asia cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3334,d51289622fd47072c075711a8e297c4cc8d96027,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-05-06 12:50:03 -0300, , timerfd add nsec validity check timerfd_settime according manual page nsec field it_value it_interval must checked wrong return einval reviewed nadav har nyh cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3335,6bcc07408340bbb11c4472e96a8715f998a82b49,awel Dziepak <pdziepak@quarnos.org>, 2014-05-07 12:01:28 +0200, , libc lock unlock return value return value lock unlock never used besides current musl version macro return value reviewed nadav har nyh cloudius systems.com signed pawel dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
3336,b065bcd1844755743a24ccb0953c8f54ca51090d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-07 13:00:30 +0200, , trace fix symbol resolving addr2line v2.23 script parse response properly case symbol unknown version addr2line responds two line   script assuming one line returned addr2line v2.24 reported asia asia cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3337,b4a2237d11830bb59c7ec6b514ec371016132cd2,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-07 12:45:14 +0200, , trace introduce trace.py prof lock command command show profile amount time thread blocked mutex used estimate lock contention use profile mutex_lock_wa tracepoints need enabled backtrace signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3338,a2ebf1500e2efc1a690243fb99470039a008700b,laudio Fontana <claudio.fontana@huawei.com>, 2014-05-07 11:28:02 +0200, , aarch64 gic implement gicv2 implement simple gic class interacting gic distributor cpu interface signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
3339,8f9b688c9d184b2fb9ab2dd785445e7201f2cf12,ani Kokkonen <jani.kokkonen@huawei.com>, 2014-05-06 17:47:31 +0200, , mmu destroy root double initialization class construction page_table_root must happen priority mempool work arch setup destroyed class constructor problem noticed working page fault handler aarch64 signed jani kokkonen jani.kokkonen huawei.com signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
3340,8ba4681a1aed35409e32051cd2aa1be869f1b5a7,leb Natapov <gleb@cloudius-systems.com>, 2014-05-07 10:12:32 +0300, , pagecache save vnode pointer instead dentry write page cache dentry object represents directory vnode represent file better use vnode page cache signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
3341,3d279a8bb34ef9b720f410e0064b1393faf1325f,leb Natapov <gleb@cloudius-systems.com>, 2014-05-07 10:12:31 +0300, , vfs remove unnecessary vcount check rename elevated vnode reference count prevent rename working signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
3342,40272bd4e98db87fefb6db6b190dc9900d8a684f,leb Natapov <gleb@cloudius-systems.com>, 2014-05-07 10:12:30 +0300, , vfs prepare read uio get_arcbuf accidentally changed write signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
3343,445410aa07d6874572e58d6fa6e1306c245b72c1,laudio Fontana <claudio.fontana@huawei.com>, 2014-05-06 11:27:01 +0200, , early console implement arch independent early console includes implementation x64 using isa serial implementation aarch64 using write pl011 restores output functionality aarch64 lost commit 9bbbe9dc signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
3344,9ef48b03ab6b9517981b3ec75ca1c10dfcabfd60,awel Dziepak <pdziepak@quarnos.org>, 2014-05-06 11:05:56 +0200, , elf use symbol_binding appropriate already defined unused patch function extract binding type elf_sym st_info signed pawel dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
3345,3ca124190e304d2208dc3395c063f5c97279151b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-05 13:44:12 +0200, , trace suppress displaying _m_invoke backtrace cluttering backtrace signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3346,fff28fad2e18f7d8ef1d20ec50e6db0465f2da61,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-05 13:43:57 +0200, , trace include inlined function backtrace fix 255 default osv build plenty inlined function tracing tool using addr2line cfp resolve symbol mode operation addr2line yield one line per symbol line show inlined function even though information logical caller also available example addr2line cfp build release loader.elf 0x32963d lock_guard ... switch could use also see code location function inlined addr2line cfpi build release loader.elf 0x32963d lock_guard ... inlined ... inlined mmu vm_fault unsigned long exception_frame ... case mmu vm_fault much interesting lock_guard thus would like show backtrace change allows symbol resolvers return multiple source address per raw address change default implementation return inlined function default new behavior suppressed inlined signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3347,3361a737b03e15433edaa4de30bc7276580f9f0e,oqun Feng <boqun.feng@linux.vnet.ibm.com>, 2014-05-06 12:44:48 +0800, , libc fix unused value error lock unlock according http gcc.gnu.org gcc 4.9 porting_to.html gcc warns unused right hand side comma expression contains side effect rewrite lock unclock using inline funciton instead comma expression signed boqun feng boqun.feng signed pekka enberg penberg cloudius systems.com,,
3348,a27ae1ff52fb245bb23978ff696da28c9db643c5,oqun Feng <boqun.feng@linux.vnet.ibm.com>, 2014-05-06 12:44:47 +0800, , elf add unused attribute unused function werror unused function complains symbol_binding unused add attribute unused mark function unused signed boqun feng boqun.feng signed pekka enberg penberg cloudius systems.com,,
3349,101daf6b5f43193f19d08f78d08160da7f5c1705,oqun Feng <boqun.feng@linux.vnet.ibm.com>, 2014-05-06 12:44:46 +0800, , mmu fix unsigned signed comparison error werror sign compare complains comparing unsigned level  since nr_page_sizes meaningful non negative mmu nr_page_sizes unsigned changing return type nr_page_sizes function unsigned reasonable signed boqun feng boqun.feng signed pekka enberg penberg cloudius systems.com,,
3350,4db42e4f675169b0f44148b916269ea517ee2cd5,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-30 17:33:38 +0200,283, test add test exploiting client rst problem test fails problem described issue 283 exists signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3351,67a3299d50313d9e33513794cfa0c64215c280ca,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-30 17:33:37 +0200, , core add latch synchronizer synchronizer allows thread block unlocked unlocked count_down called given number time signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3352,bc8b01b61d6bae7178181259ce79010c45371dce,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-30 17:33:36 +0200, , net keep syn cache entry expansion failed fix 283 backlog full upon receiving ack keep entry syn cache client eventually retransmit unacknowledged data connection state promotion retried later time dropping syn cache entry causing connection reset client side entry dropped either occurs connection successfully ack invalid packet received connection syn ack retransmission limit exceeded syn cache hashmap bucket fill oldest entry removed could also implement yet another protection mechanism next step could drop syn request know backlog full patch make biggest difference syn dropping might needed avoid reset number sudden connection large syn cache bucket fill assuming connection hashing good quite lot connection hash map 512 entry bucket element signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3353,83cc3feb2e03bcd9e3764b7e768cb7de794a68fb,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-05 12:35:57 +0200,287, net convert syn cache use async instead callouts fix lock order inversion problem mentioned 287 syn cache problem may affect place use callout_init_rw place left change in_lltable_new creating timer expiring arp entry signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3354,a03b4dbab82c793687ac5f4a2e6d929f9c499064,akuya ASADA <syuu@cloudius-systems.com>, 2014-05-04 11:41:04 +0900, , vmware add gdb stub signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3355,2017a401af23c3748bed30a680b4f2c843c018dd,akuya ASADA <syuu@cloudius-systems.com>, 2014-05-04 11:41:03 +0900, , vmware add serial forwarding tcp port signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3356,d0aa50f9b08447a60609d7282132657335414bf3,akuya ASADA <syuu@cloudius-systems.com>, 2014-05-04 11:41:02 +0900, , vmware shrink vmx config signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3357,ffb0209364078354178435381e722e2f34d778dd,akuya ASADA <syuu@cloudius-systems.com>, 2014-05-04 11:41:01 +0900, , trace add remote gdb option debug vmware reviewed tomasz grabiec tgrabiec gmail.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3358,6e6d60bc68d8e913c49bf1dde35b18ce0cf31be2,akuya ASADA <syuu@cloudius-systems.com>, 2014-04-24 23:41:24 +0900, , replace vga console signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3359,c0a1e5552fc31c0d2545388f7bdebee110eafab3,akuya ASADA <syuu@cloudius-systems.com>, 2014-04-24 23:41:23 +0900, , implement console multiplexer signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3360,5103b339ec0bdbae5a86fef9e0d2df3f3d305f2b,akuya ASADA <syuu@cloudius-systems.com>, 2014-04-24 23:41:22 +0900, , fix including header console signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3361,9bbbe9dcce405daf0a6e51dab422d94699486139,akuya ASADA <syuu@cloudius-systems.com>, 2014-04-24 23:41:21 +0900, , merge debug_console console.cc isa serial.cc signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3362,4b518f44d7f964357482c23a16ab69444c8b3a9c,akuya ASADA <syuu@cloudius-systems.com>, 2014-04-24 23:41:20 +0900, , move console class console namespace signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3363,8f7385ba9c226459eab6c190ea4ac1b2fd434c84,akuya ASADA <syuu@cloudius-systems.com>, 2014-04-24 23:41:19 +0900, , add console init_prio signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3364,1e3bb0fb5a4d1bb80da1e3ae9a3da29d25e7d6ab,akuya ASADA <syuu@cloudius-systems.com>, 2014-04-24 23:41:18 +0900, , add signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3365,593f26d68878e27111555c87851d98b0e772c840,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-30 12:30:04 +0200, , trace cleanup packet tracing current tracepoint coverage doe handle situation well particular doe cover link layer device virtio net change fix tracing abstract layer record incoming packet enqueue time whereas sometimes better trace handling time useful correlating tcp state change incoming packet new tracepoint introduced doe record protocol buffer non ethernet protocol set appropriate protocol type reconstructing ethernet frame dumping pcap following tracepoints net_packet_in incoming packet enqueued handled directly net_packet_out outgoing packet hitting link layer loopback packet queued handled signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3366,48130435944599dc0fc6097b77c6e2ce406be2a0,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-30 12:30:03 +0200, , net add tcp_state tracepoint tracepoint invoked whenever tcp state changed example output tcp_state pretty printer yet state number decoded using defines tcp_fsm.h useful tracing reaction stack particular network packet used together net_packet tracepoints trace list tcpdump also get information code location given state changed enabling backtrace collection using flag trace list signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3367,3b9e2a08be58f8e6a54da2322a1ca0e96a2656f4,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-30 12:30:02 +0200, , net hide tcpcb.t_state behind setter getter allow insert tracepoint invocation setter cover occurrence tcp control block state change signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3368,2a4ee3490149ad31798ba3e26807a1e0961c4ec2,akuya ASADA <syuu@cloudius-systems.com>, 2014-05-01 15:20:40 +0900, , libc get interval correct field itimerval signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3369,2cb094fe0fe4392e2b806a4f451826a3b72ecbf7,lad Zolotarov <vladz@cloudius-systems.com>, 2014-05-01 15:19:52 +0300, , virtio vring prevent delaying kick half u16 range u16 wrap around avoided since may loose _avail_event update thus miss point woken kicked choose half u16 range threshold since kick usually called bulk buffer every separate buffer number buffer bulk limited size virtio ring virtio ring size unlikely 32k entry nearest future 256 entry thus kicking least every 32k buffer ensure prevent mentioned wrap around result bulking reviewed nadav har nyh cloudius systems.com signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3370,4cdc279ff7d022d640f12cfd980719b0a257ed40,akuya ASADA <syuu@cloudius-systems.com>, 2014-05-04 00:18:43 +0900, , run.py add support vmware patch enables run osv vmware using run.py serial console vga supported signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3371,2afa361eb0f97a79fa4646d1550b4ad5a5d68d4b,vi Kivity <avi@cloudius-systems.com>, 2014-05-04 11:16:48 +0300, , update file api signed avi kivity avi cloudius systems.com,,
3372,9cfcbe32f4b82e1e664c9256d1218f5b12ea09be,mnon Heiman <amnon@cloudius-systems.com>, 2014-04-30 09:52:04 +0300, , http server testing adding file api testing add testing liststatus status copy rename delete signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
3373,74fa3d07866ccd5e413bfb900d79833d8046b7bb,mnon Heiman <amnon@cloudius-systems.com>, 2014-04-30 09:52:03 +0300, , http server testing support additional version support version type v0.06 rc4 signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
3374,17cbe04ed2738914814f6e1689096d05a3a60ff9,mnon Heiman <amnon@cloudius-systems.com>, 2014-04-30 09:52:02 +0300, , http server additional file support patch series change file api implementation use enum string also introduce following operation get getfilestatus return information file liststatus return information file directory put mkdirs create directory rename rename file directory copy copy file simplest way testing change use swagger file operation signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
3375,116ea5752b1b01e42c7edf5f4822b2aa3b39aef0,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-03 15:14:57 +0200, , test add test tracepoint nine argument exploit issue 288 signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3376,b7bc004529adafb2342a91847099afa21fce0d4d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-05-03 15:14:56 +0200, , trace support tracepoint signature arbitrary length currently tracepoint signature string encoded u64 give character limit signature signature doe fit limit first character preserved patch fix problem storing signature string arbitrary length fix 288 signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3377,4658e56364a6a31b197e071690519dd6d53c687e,leb Natapov <gleb@cloudius-systems.com>, 2014-04-30 12:22:22 +0300, , pagecache map zero page instead arc page hole file attempt get read arc buffer hole file result temporary arc buffer destroyed immediately use mean mapping buffer impossible unmapped page fault handler return application patch solves detecting hole file accessed mapping special zero page instead mapped cow write attempt new page allocated signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3378,9f8f7068b5f0280524274d5a19173508783a45de,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-04-29 20:45:49 -0300, , test add simple test case dev urandom signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3379,2ac61aaf9052f6034263d9dd46b1e0a3f04db372,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-04-29 20:45:48 -0300, , driver register virtio rng hardware source entropy used random_kthread yarrow hardware source entropy whenever thread wake happens around time second system provide hardware rng lack property gather environmental noise specific interrupt system provide still gather environmental noise interrupt available one round gathering rng hardware signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3380,ca1299623ac083459728b9e3a749e6000a8c8467,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-04-29 20:45:47 -0300, , driver change random use yarrow cprng add urandom alias patch change device behind dev random start using freebsd yarrow cprng algorithm similar freebsd dev urandom created alias dev random device operation linked yarrow random adaptor api signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3381,ea95dda6b74bf965b955a5f817abb66664cf024a,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-04-29 20:45:46 -0300, , bsd port random infrastructure freebsd simply put freebsd specific code sysctl api etc disabled besides gone throughout code made sure overall semantics remained osv signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3382,3150fb812b9a6bb93dc0572494c91278ec088c1c,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-04-29 20:45:44 -0300, , bsd add snippet code needed random infrastructure signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3383,78f22ec611cffbf8978d5c6485b1667137317ae8,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-04-29 20:45:43 -0300, , bsd crypto port rijndael osv rijndael encryption algorithm dependency porting random infrastructure freebsd let add bsd tree signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3384,11c880f7929ebeea62ff4bb94c0a2b387115cfa3,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-04-29 20:45:45 -0300, , bsd commit original bsd random file unmodified state glauber say would advise commiting original file bsd unmodified state include build different patch put change osv need proven useful conjunction git blame determine whether snippet already bsd code signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3385,91617e9752e181cb4882d67a34eb1fe839a3d649,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-30 18:11:07 +0200, , readme advertise need tcpdump gdb needed trace.py run part make check harness signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3386,d90d41fccf969a5fb3d4440c4a8f65f56e86e37c,akuya ASADA <syuu@cloudius-systems.com>, 2014-05-01 16:24:42 +0900, , dhcp print address default current osv implementation suppress output verbose mode may speed bootup speed supress printing address inconvenient user added infof act like debugf print string even verbose mode use dhcp.cc print address signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3387,c2d1ecd5b15a08693758539c1691440cc6450497,ANATSU Minoru <icc.pot.tyew272@gmail.com>, 2014-04-30 19:01:36 +0900, , libc implement stub function execve porting cruby call execve etc support exec ruby function need fail signed kanatsu minoru icc.pot.tyew272 gmail.com signed pekka enberg penberg cloudius systems.com,,
3388,885fab7d6ddf9bc951b358599e9a0d67ee2edde4,mnon Heiman <amnon@cloudius-systems.com>, 2014-04-30 09:52:01 +0300, , http server add enum support code generation parameter declare enum swagger definition file code generation create enum internal namespace operation set value num_items value added last value enum declared enum mkdirs rename operation putfile declared enum would namespace ns_putfile enum class mkdirs rename num_items  enum translation string created translation function return enum value found num_items found similar string method return npos signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
3389,37655468d033f5efbe53fe9dc14f8f4a3f3b31b6,mnon Heiman <amnon@cloudius-systems.com>, 2014-04-30 09:52:00 +0300, , http server override default error message non default error message return like case exception message need used content body signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
3390,f0cd44336ad0f8d8b8366264e8452486018c809b,ekka Enberg <penberg@cloudius-systems.com>, 2014-04-30 09:40:53 +0300, , mgmt update latest signed pekka enberg penberg cloudius systems.com,,
3391,d45299081379137b8086673cd5984c5911803d58,mnon Heiman <amnon@cloudius-systems.com>, 2014-04-29 11:58:26 +0300, , http server makefile depend code generation script changing code generation script generated code recompiled generated code depends code generation script clean clean auto generated file well signed amnon heiman amnon cloudius systems.com reviewed tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
3392,d399579c48c3688366b6834b4ccef6a7b2789152,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-29 17:15:11 +0200, , test add test overflowing listen backlog test pass linux failed osv patch changed solisten_proto always use somaxconn signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3393,01f4fd6a9abb0b69d9603bfe7321d269053ce926,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-29 17:15:10 +0200, , net always use somaxconn backlog size tcp stack current form causing lot connection reset server running inside osv swarmed connection attempt doe happen linux kind workload scenario follows client sends syn server run inside osv syn cache entry created syn ack sent back client sends ack response connect call exit side form client may already start write socket server receives client ack look entry syn cache find remove try create full blown connection socket attempt append listening socket backlog fails backlog full result ack dropped longer syn cache entry connection client know next client packet arrives data server find syn cache entry try syn cookie check fails client sequence doe match result server sends rst client could get linux alike behavior situation applying following modification stack drop syn request backlog full _and_ syn cache one entry client try resend syn packet backlog full upon receiving ack keep entry syn cache client eventually retransmit unacknowledged data connection state promotion retried later time interim workaround let set socket backlog somaxconn 128 regardless desired backlog size apparently benchmarking tool iperf set really low value since osv designated run one process typically listen handful port big threat memory footprint signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3394,b829959cac2009067d946c910c9d76fe39fa3815,laudio Fontana <claudio.fontana@huawei.com>, 2014-04-29 16:19:38 +0200, , libc separate x64 specific code provide aarch64 stub signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
3395,3a779f1cce8c57a3ed8f54b6aa4c445a6e8ebcac,adav Har'El <nyh@cloudius-systems.com>, 2014-03-23 17:29:39 +0200, , libc implement sigsetjmp siglongjmp patch implement sigsetjmp siglongjmp function fix 241 sigsetjmp siglongjmp similar setjmp longjmp except also save restore signal mask signal hardly useful osv necessarily need signal mask feature still want implement function application use default could run see issue 241 code patch musl 1.0.0 small modification namely call sigprocmask function instead linux syscall note copied x64 version sigsetjmp.s musl also file arm architecture interestingly already source tree use block.c patch start use signed pekka enberg penberg cloudius systems.com,,
3396,fb0e08824bf1b28a48f4027ce9fe51937aff38b9,lauber Costa <glommer@cloudius-systems.com>, 2014-04-28 17:59:49 +0200, , test test sigwait signed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3397,ee0e61834432def11b46631416f715a2eef2ae0b,lauber Costa <glommer@cloudius-systems.com>, 2014-04-28 17:59:48 +0200, , signal implement sigwait mongodb call sigwait expect process actually stop stub also feature may depend fact program resume wait signal actually reach cleanup whatever let come actual implementation signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3398,6613c1ec801ebf79eb0de76e9d29e75fa4b1f482,lauber Costa <glommer@cloudius-systems.com>, 2014-04-28 17:59:47 +0200, , sched provide thread exit notifiers function run thread finish signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3399,508762bc3dd4aa6ea8957e941ad9c89f39201079,lauber Costa <glommer@cloudius-systems.com>, 2014-04-28 17:59:46 +0200, , sched expose outside user working blocked signal notification would good test current state thread pending signal mask machinery exists sched.cc exposed patch expose together convenient helper interested pointer without dereferencing signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3400,e804299c3f62e1739c16385193620810e0259f00,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-28 18:34:10 +0200, , test introduce tracing smoke test test verifies basic tracing functionallity sample collected osv extraction via trace extract succeeds trace summary show expected tracepoint name listing via trace list show tracepoints argument network packet parsing work test run part standard make check note single test executed easily script test.py test signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3401,ee3bfb76d21e671dadc980e07a7020a159f66853,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-28 17:03:43 +0200, , trace fix recommendation given error message case dpkt missing since adveritse use system package readme also recommend signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3402,4ac5a1bb542d34be471d0725ec79e2c4c88df676,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-28 17:03:42 +0200, , advertise need python dpkt system module needed tcp related tracing command trace.py list tcpdump trace.py tcpdump signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3403,e76523429dd9a45e08a983592e5b747909a6bf5b,alle Wilund <calle@cloudius-systems.com>, 2014-04-28 13:51:45 +0200, , trace make trace point code patching thread smp safe also move platform dependent fast dispatch platform arch code tree patching code bit complex would seem immediately even factually neccesary however depending cpu might issue trying code patch across cache line unaligned safe old bit jmp write finish dance avi fix build.mk signed calle wilund calle cloudius systems.com signed avi kivity avi cloudius systems.com,,
3404,185b8032b3372ea1a9daa58941790239d7bc0388,vi Kivity <avi@cloudius-systems.com>, 2014-04-28 18:29:06 +0300, , mgmt update http server signed avi kivity avi cloudius systems.com,,
3405,372d3ac8c164b0e161bb23a312020a1739106793,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-25 17:02:50 +0200, , trace disable port number conversion tcpdump mode tcpdump port number conversion vary system system turn conversion consistent output also simpler assert test signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3406,272774f0e987a42deb9da7c22fbd0ae6cde2718c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-25 17:02:49 +0200, , trace fix string conversion error python 2.7.5 python 2.7.5 python complains struct accepting unicode argument fix adding explicit conversion signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3407,f4ec9949627d9e897ee39132c4390342b6ac5d1d,vi Kivity <avi@cloudius-systems.com>, 2014-04-28 11:10:18 +0300, , ahci use phys_ptr physically allocated memory signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3408,d29f65d1b97c872f60b75764f53cd5d30496fcff,vi Kivity <avi@cloudius-systems.com>, 2014-04-28 11:10:17 +0300, , memory add utility raii class aligned physically contiguous memory phys_ptr unique_ptr physical memory make_phys_ptr allocate initialize phys_ptr make_phys_array allocate phys_ptr referencing array signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3409,550277e8b29120d2f010e36b2ceba751181ebb61,mnon Heiman <amnon@cloudius-systems.com>, 2014-04-08 13:36:05 +0300, , http server change file.cc use constant string code generation produce constant operation name file.cc modified use constant signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
3410,ac5155d858b17527321a3f4d3c9f4bf1f8ef6c97,mnon Heiman <amnon@cloudius-systems.com>, 2014-04-08 13:36:04 +0300, , http server use const operation name operation name used mapped operation path possible use constant instead string result compilation failure instead run time failure example instead using getfile locate operation possible use file_json getfile reason operation name changed compilation fail signed amnon heiman amnon cloudius systems.com signed avi kivity avi cloudius systems.com,,
3411,0853dbcad1b0ac3cc78da8966b0bc8fbd24b2508,leb Natapov <gleb@cloudius-systems.com>, 2014-04-28 15:30:29 +0300, , test add test removing opened file signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3412,0822c3ca245c616f992ede3d7fb4aef7920bac6c,leb Natapov <gleb@cloudius-systems.com>, 2014-04-28 15:30:28 +0300, , vfs remove dentry unliked file dentry cache dentry elevated reference count unlink file opened instance destroyed remains dentry hash result unlinked file still accessible signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3413,b46664312b6b3ffa3a8b2454c5aee4bd8a932e39,leb Natapov <gleb@cloudius-systems.com>, 2014-04-28 15:30:27 +0300, , test add test renaming opened file signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3414,9ce32c0029566fc6f29600e2fa96fe3f3ee2ca93,leb Natapov <gleb@cloudius-systems.com>, 2014-04-28 15:30:26 +0300, , vfs remove dentry destination rename dentry elevated reference count rename file opened instance destroyed remains dentry hash result old file accessible destination path instead new one signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3415,a8526d28a800fa75982d8be2a98933d1a70dbd33,leb Natapov <gleb@cloudius-systems.com>, 2014-04-28 15:30:25 +0300, , test add test renaming opened file signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3416,3f050ee4a143ca310982b3d1e427e13fe12ab49e,leb Natapov <gleb@cloudius-systems.com>, 2014-04-28 15:30:24 +0300, , vfs move dentry new location file rename dentry elevated reference count rename file opened instance destroyed still hashed old path result renamed file still accessed old name signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3417,db571962db6ac221c4e71264d19769a807fa7150,akuya ASADA <syuu@cloudius-systems.com>, 2014-04-28 06:36:46 +0900, , libc move alarm implementation itimer class add setitimer getitimer move static variable alarm related function itimer class itimer class offer interface implement setitimer getitimer added setitimer getitimer alarm rewrite wrapper function call setitimer signed takuya asada syuu cloudius systems.com signed avi kivity avi cloudius systems.com,,
3418,e684d88a19e3f8586a68cda99503f4a267ba86c1,akuya ASADA <syuu@cloudius-systems.com>, 2014-04-28 06:36:45 +0900, , clock add fill_tv duration timeval conversion function signed takuya asada syuu cloudius systems.com signed avi kivity avi cloudius systems.com,,
3419,c8845bb544b37438622bf2e7b8bcd7c7874dda93,adav Har'El <nyh@cloudius-systems.com>, 2014-04-22 11:45:03 +0300,271, malloc fix small allocation alignment size small allocation requested large alignment ignored alignment consequence posix_memalign could crash failed achieve desired alignment common case usually size alignment new c11 aligned_alloc even support case still might happen saw cloudius system capstan size alignment patch change size achieve desired alignment small alignment mean setting size alignment example get alignment 1024 byte need least 1024 byte allocation waste memory allocation rare expect acceptable large alignment e.g. alignment 8192 need size alignment need size large enough use malloc_large malloc_large already support arbitrarily large alignment patch also add test case tst align.so test alignment larger desired size fix 271 cloudius system capstan signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
3420,a1aa52431f1cb209c3cddc1075a2c062be3faed7,sias He <asias@cloudius-systems.com>, 2014-04-28 10:32:09 +0800, , ahci relax _cmd_table _recv_fis alignment ahci spec say cmd_table need aligned 128 byte respect ahci spec doe specify alignment requirement _cmd_list _recv_fis safe align size i.e 1024 256 byte fix issue reported roman shaposhnik capstan run vbox created instance i1398297574 osv v0.07 assertion failed uintptr_t ret align home penberg osv core mempool.cc 1378 backtrace 0x398316 memory unsigned long unsigned long 214 0x3542bb ahci port setup 283 0x3549ae ahci port port unsigned int ahci hba 142 0x354a5f ahci hba scan 111 0x354d34 ahci hba hba pci device 148 0x354e07 ahci hba probe hw_device 119 0x33e65c driver_manager register_driver std function hw_driver hw_device 188 0x33c8c3 device_manager for_each_device std function void hw_device 0x33e3de driver_manager load_all 0x20edf5 do_main_thread void 629 0x3ff0a5 sync 0x3a3eaa thread_main_c 0x361585 thread_main signed asia asia cloudius systems.com signed avi kivity avi cloudius systems.com,,
3421,2e7bb5c6cea620c49e18859654e1ac867b525663,vi Kivity <avi@cloudius-systems.com>, 2014-04-27 11:44:11 +0300, , apps update netperf jenkins integration signed avi kivity avi cloudius systems.com,,
3422,e15caa09f79440a07d5d6c845c2f6a238842b03e,mitry Fleytman <dmitry@daynix.com>, 2014-04-25 15:44:16 +0300, , ec2 script optionally support small instance type hvm amis amazon window based support instance type linux based support instance larger medium linux based amis suit osv better default seciurity policy exactly fit osv model ssh access require reconfiguration window based amis require default security policy reconfiguration order allow ssh access hand allow running osv free tier eligible micro instance good enthusiast initial evaluation order support option patch extends release script ability choose window linux based template amis creation signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
3423,b41c4c5020df9a2f1ff13699921fef96c83bc60b,ekka Enberg <penberg@cloudius-systems.com>, 2014-04-25 12:49:09 +0300, , revert test introduce tracing smoke test reverts commit make mr. jenkins unhappy signed pekka enberg penberg cloudius systems.com,,
3424,532abb89023b2034699a78f6b66278c2171c7cb2,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-24 18:46:53 +0200, , test introduce tracing smoke test test verifies sample collected osv extraction via trace extract succeeds trace summary show expected tracepoint name listing via trace list show expected tracepoints network packet parsing work test run part standard make check note single test executed easily script test.py test signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3425,6aa066d3bd6d0038a4e8ae840712d5e1ee66c54d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-24 18:46:52 +0200, , trace make trace extract silent command run gdb chatty spoil clean output make check tracing test added let hide gdb output unless fails tracefile created signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3426,1e53a52f6664b0c53a3d867386565511efeae25a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-24 18:46:51 +0200, , trace introduce trace list tcpdump tcpdump switch enables line decoding net_packet sample packet content displayed human readable form next sample allows corelate packet sample easily signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3427,0f477a6f793161fbbfa23afdd33dd29f575f5363,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-24 18:46:50 +0200, , trace introduce pcap dump tcpdump command script trace.py pcap dump command process packet capturing sample output pcap stream format used tcpdump used together tcpdump display packet human readable form like script trace.py pcap dump tcpdump pcap stream often used together tcpdump also introduce shorthand script trace.py tcpdump signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3428,f30ba40d5a67e141d054e2066f8c057e076b3e45,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-24 18:46:49 +0200, , net log packet going loopback virtio net way sniff packet going osv loopback interface faced need debug guest tcp traffic packet logged using tracing infrastructure packet data serialized sample data limit currently hardcoded 128 byte enable capturing packet enable tracepoints named  net_packet_eth raw data seen trace list output better presentation method added following patch may also become useful debugging network problem cloud ability run tcpdump host signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3429,2d795f99f501d4df34969617c49166a19f5970f8,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-24 18:46:48 +0200, , trace support serializing variable length sequence byte tracepoint argument extends blob_tag interpreted range byte sized value storage required serialize object proportional size need implement storage fiendly packet capturing using tracing layer could also used capture variable length string current limit char short path passed vfs call variable length encoding could set generous limit signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3430,5768358a32f22560da53e6337874b92af54968f5,ekka Enberg <penberg@cloudius-systems.com>, 2014-04-25 12:23:26 +0300, , merge branch pcfixes github.com gleb cloudius osv,,
3431,7136fe188a8a78ff437fbaaa64d5bcfee9e85fb7,vi Kivity <avi@cloudius-systems.com>, 2014-04-24 17:16:42 +0300, , rcu declare memory reclaimer rcu thread need memory let since use free even memory reviewed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3432,09b8cc8f3c093955c4ae89a6c5bbe61c287d05d6,vi Kivity <avi@cloudius-systems.com>, 2014-04-24 17:16:28 +0300, , memory fix debug allocator interaction reclaimer malloc must wait memory since page table operation allocate memory must able dip reserve pool free indicate reclaimer reviewed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3433,cfba1a5e88838c2095be966c1061115ee241bf40,vi Kivity <avi@cloudius-systems.com>, 2014-04-24 17:16:17 +0300, , memory add facility indicate thread temporarily reclaimer already facility indicate thread reclaimer allowed allocate reserve memory since memory used free memory extend allow indicating particular code section used free memory entire thread reviewed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3434,f5ba2ce522d8373ab2b7c33398694ac4613ae672,adav Har'El <nyh@cloudius-systems.com>, 2014-04-24 23:21:04 +0300, , loader read elf fail normally instead crashing previous patch try run executable read e.g. directory see issue struct error exception thrown osv run nobody catch user see somewhat puzzling uncaught exception error patch catch read error exception inside osv run happens return normal load failure nullptr e.g trying run directory result normal failure script run.py osv v0.07 g03feb99 run_main execute powering fix osv run api currently patch also way say loading failed could executable directory elf shared object shared object main case return value nullptr future probably change signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3435,15fd92c13dc4937fa549632d61896e47643eec45,adav Har'El <nyh@cloudius-systems.com>, 2014-04-24 23:11:23 +0300, , fileref replace assertion exception read fileref ... write fileref ... notice error currently assert causing crash look non expert user like osv bug cause example bug osv run directory instead executable cause assertion failure patch read write throw exception struct error instead asserting fix user see uncaught exception instead buggy looking assertion failure next patch catch exception user even see signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3436,f5a46140a7d44914e327852e936011dfaefaa105,leb Natapov <gleb@cloudius-systems.com>, 2014-04-24 11:40:15 +0300, , mmu drop finalize page_allocator longer used signed gleb natapov gleb cloudius systems.com,,
3437,395dd21ecc9535d4060b7a38c2a15250f86ecab6,leb Natapov <gleb@cloudius-systems.com>, 2014-04-22 14:58:57 +0300, , mmu enable pagecache bug caused disabled fixed signed gleb natapov gleb cloudius systems.com,,
3438,4792e60c4140dea64e09d6f7b7c2c48f63e2df30,leb Natapov <gleb@cloudius-systems.com>, 2014-04-23 15:28:48 +0300, , pagecache change locking mmu arc vma_list_mutex used protect race arc buffer mapping mmu eviction zfs problem mmu code call zfs vma_list_mutex held path zfs related lock taken vma_list_mutex attempt acquire vma_list_mutex arc buffer eviction many zfs lock already held cause deadlock solved using trylock skipping eviction vma_list_mutex acquired appears mmapped buffer destroyed eviction writeback destruction delayed call locking scheme redesign patch introduce arc_lock held access read_cache prevents simultaneous eviction mapping arc_lock inner lock held code path code change adhere rule patch replaces arc_shared_buf flag new b_mmaped field reason access b_flags field guarded hash_lock impossible guaranty order hash_lock arc_lock code path dropping need hash_lock nice solution signed gleb natapov gleb cloudius systems.com,,
3439,31d939c7b2343536465b7e538d2c9b91e0776e50,leb Natapov <gleb@cloudius-systems.com>, 2014-04-22 13:36:46 +0300, , mmu populate pte page_allocator currently page_allocator return page page mapper later populates pte sometimes page allocation pte population need appear atomic though instance case pagecache want prevent page eviction pte populated since page eviction clear pte allocation mapping atomic pte populated stale data eviction current approach wide scoped lock needed guaranty atomicity moving pte population page_allocator allows much simpler locking signed gleb natapov gleb cloudius systems.com,,
3440,4fd8693af883a3281dfaf70bbdc28f1c5db66255,leb Natapov <gleb@cloudius-systems.com>, 2014-04-10 18:27:39 +0300, , pagecache track arc buffer pagecache current code assumes file offset zfs always return arc buffer appears case zfs may create new arc buffer old one undergoing writeback mean need track mapping file offset mmapped arc buffer exactly patch add new kind cached page hold pointer arc buffer store new read_cache map signed gleb natapov gleb cloudius systems.com,,
3441,b11aa4d130d1c227a532e0fed0dcc888130b8c2f,leb Natapov <gleb@cloudius-systems.com>, 2014-04-08 14:50:53 +0300, , pagecache avoid unnecessary tlb flush unmap_address signed gleb natapov gleb cloudius systems.com,,
3442,39cdb2db008f4ef5b6fe2ceadaaf00e4a435e9f3,leb Natapov <gleb@cloudius-systems.com>, 2014-04-08 12:34:30 +0300, , pagecache remove redundant locking pagecache function run vma_list_lock additional locking needed signed gleb natapov gleb cloudius systems.com,,
3443,832a16f6196ff0af7c5e9021c0c4fea06776f574,leb Natapov <gleb@cloudius-systems.com>, 2014-04-08 12:30:21 +0300, , pagecache move cache management code pagecache.cc signed gleb natapov gleb cloudius systems.com,,
3444,e9756adc4d7374444e344a30440f4c01d4bcb3db,leb Natapov <gleb@cloudius-systems.com>, 2014-04-08 11:39:24 +0300, , mmu separate page unmapping freeing unmap page soon possible instead waiting max_pages accumulate allow free page outside vma_list_mutex feature signed gleb natapov gleb cloudius systems.com,,
3445,150522a2062a9c12b7be53c50bec4d957808506d,leb Natapov <gleb@cloudius-systems.com>, 2014-04-06 09:01:18 +0300, , pagecache add trace pagecache function useful debugging cache related problem signed gleb natapov gleb cloudius systems.com,,
3446,059db30b9d07a85044aea9a0eeab326f6fe9f6df,leb Natapov <gleb@cloudius-systems.com>, 2014-04-03 10:16:05 +0300, , mmu propagate error msync application signed gleb natapov gleb cloudius systems.com,,
3447,4e5fc71cb39888fac50a28089ade87450fd427c4,leb Natapov <gleb@cloudius-systems.com>, 2014-04-03 10:06:37 +0300, , pagecache assert sys_read fails sys_read error propagated application assert instead silent memory corruption signed gleb natapov gleb cloudius systems.com,,
3448,e6a4e1557ec0a2e264cfd04f4476b5607da8b04b,leb Natapov <gleb@cloudius-systems.com>, 2014-04-02 19:08:21 +0300, , pagecache use boost variant store rmap cached page rmap usually contain one element using unordered_set little bit heavy boost variant allow use direct pointer common case fall back unordered_set one element added signed gleb natapov gleb cloudius systems.com,,
3449,dfb7b624154a43613280f017d7b11cea76ff8f6f,leb Natapov <gleb@cloudius-systems.com>, 2014-04-01 15:57:36 +0300, , mmu mark cow ptes skip protection change write permission granted ptes write permission cow currently way distinguish write protection due vma permission write protection due cow use bit reserved software use pte marker cow ptes check permission change signed gleb natapov gleb cloudius systems.com,,
3450,17330251341b758410461c9827ff7f21aa3b8be8,leb Natapov <gleb@cloudius-systems.com>, 2014-04-02 16:08:54 +0300, , mmu map page dirty write fault mapping page dirty save cpu additional memory access write dirty bit access succeed signed gleb natapov gleb cloudius systems.com,,
3451,0ad78a141dc255fa3bc8183dcf51f66af6b76f9d,adav Har'El <nyh@cloudius-systems.com>, 2014-04-24 18:01:44 +0300,94, zfs fix read directory return eisdir posix allows read directory filesystems however linux always return eisdir case emulating linux every filesystem filesystems except zfs e.g. ramfs already return eisdir reading directory zfs patch add missing check zfs patch related issue first step fixing return right error reading directory patch also add test case compiled osv linux verify behavior patch test succeeded linux failed osv directory zfs instead fixing zfs_read like patch could also fixed sys_read vfs_syscalls.cc top layer read operation could done f_dentry f_dentry d_vnode v_type vdir return eisdir  cover filesystems decided filesystems except zfs already check lower layer like zfs_read already natural access d_vnode reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3452,cc8dd4d2cfbfd1a971af094064bbbaf643096cf4,akuya ASADA <syuu@cloudius-systems.com>, 2014-04-24 08:12:42 +0900, , vmxnet3 fix avail count txq_gc txq_encap decrement txq.avail mbuf need increment number reviewed raphael carvalho raphaelsc cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3453,fe6b2d505759d3478fd7a8a9490bd9ce71700380,lauber Costa <glommer@cloudius-systems.com>, 2014-04-24 13:06:09 +0400, , vfs simple flock implementation patch implement version flock performs error checking assumes valid operation succeeds since using single process model signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3454,0b00f490abfddfa4899665949d40716602189898,lauber Costa <glommer@cloudius-systems.com>, 2014-04-24 13:21:17 +0400, , mmu implement madvise madv_dontneed jemalloc memory allocator make intense use madv_dontneed flush page longer using respect advice let keep returning remaining case fool anybody signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3455,e7bfa6cb1bb043d6ea66e03b32981e26965d2da3,lauber Costa <glommer@cloudius-systems.com>, 2014-04-24 11:32:28 +0400, , linux provide proc stat compatibility file mongodb want general providing information easy get ignoring one exception process count seemed easy enough implement kind thing mongo doe 2014 15t09 12.322 0000 clientcursormon mem 670160 virt 25212 2014 15t09 12.323 0000 clientcursormon mapped incl journal view 160 2014 15t09 12.324 0000 clientcursormon connection signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3456,c152b50eaaeba725b1ad86ec5bc92bc85174b232,lauber Costa <glommer@cloudius-systems.com>, 2014-04-24 11:32:27 +0400, , sched export total sys user time statistic one statistic show proc self stat linux generally interesting application since kernel mode userspace mode hard differentiate time spent userspace kernel time spent behalf process therefore present system time always wanted could least differentiate clearly osv specific thread system time need trouble signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3457,7bdbb32877a1998c4b83671848b6a1c44c3805d4,lauber Costa <glommer@cloudius-systems.com>, 2014-04-24 11:32:26 +0400, , mmu export function measure amount mmaped area used procfs compatibility application may want know much memory potentially available mmap mapping necessarily allocated signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3458,56ddf6528546a501803a4f385f3458fa87cbc46a,lauber Costa <glommer@cloudius-systems.com>, 2014-04-23 16:43:48 +0400, , af_local allow ioctl unix socket current code doe allow ioctls unix socket real world application nginx example issue starting implementing fionbio set blocking nonblocking mode notice already flag read write function seem handle flag internal pipe_buffer implementation doe check act let flip reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3459,a2cc73e2a6540e988aefffd080ba4c8525eb28fb,lauber Costa <glommer@cloudius-systems.com>, 2014-04-23 17:56:59 +0400, , runtime basic prctl functionality first need symbol far fine returning einval everybody except pr_set_dumpable situation see man prctl flag automatically cleared program nginx proceed set make sure flag meanginless since producing per thread coredumps dump dump regardless need call suceed reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3460,2cf5ba49ff8f83fae695220e127d6c7c27becdca,lauber Costa <glommer@cloudius-systems.com>, 2014-04-23 18:53:42 +0400, , runtime stub initgroups empty implementation suit signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3461,3d94a0c30d10389e61cce41d342adf98d93b3293,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-04-23 16:38:00 -0300, , libc implement stubbed clock nadav say clock function stubbed easily implement calling clock_gettime close 275 reviewed glauber costa glommer cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3462,cbfab212eea5feaf25227bde73945f29c54226d8,adav Har'El <nyh@cloudius-systems.com>, 2014-04-09 12:07:41 +0300, , test compile tst mmap compile tst mmap.so symbol resolved load time instead needed problem tst mmap wait_until run function sched thread wait sched thread stop_wait preemption disabled run tst mmap.so caused assertion failure crash symbol resolution caused sleeping preemption disabled fix 256 signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
3463,9d30d585ec639b5eea2eeadc3e649c72626288d4,ekka Enberg <penberg@cloudius-systems.com>, 2014-04-23 15:17:23 +0300, , build osv release add openjdk base image signed pekka enberg penberg cloudius systems.com,,
3464,f1f87f7e7b46cd85f7f978b13cc2d3d53702813c,ekka Enberg <penberg@cloudius-systems.com>, 2014-04-23 15:16:24 +0300, , apps update latest signed pekka enberg penberg cloudius systems.com,,
3465,db01bc0337eaffd4c347782fbbb4b1752c7d7878,lauber Costa <glommer@cloudius-systems.com>, 2014-04-22 14:34:50 +0400, , rlimit set data maximum size currently show value unlimited reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3466,be1f93eae89d1e4af9f58cadd8be7dc058380b48,akuya ASADA <syuu@cloudius-systems.com>, 2014-04-22 19:44:52 +0900, , vga rename private member signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3467,3c0da7753b11e00d9045d36165f95f18c15e34ab,akuya ASADA <syuu@cloudius-systems.com>, 2014-04-22 19:44:51 +0900, , vga scroll support signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3468,c96e1ff86533a8adca0245d15c69b52e41de5243,akuya ASADA <syuu@cloudius-systems.com>, 2014-04-22 19:44:50 +0900, , libtsm add scroll callback signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3469,8e008730ada3771d6825b7b0cbcb8da6f4caf708,lauber Costa <glommer@cloudius-systems.com>, 2014-04-22 17:12:10 +0400, , runtime implement getgrnam function enhance runtime getgrnam function although group recognize group nobody compatibility return group  signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3470,0e44e96e1e8da158f0b4358bbb77b9a5698747bb,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-23 10:38:06 +0200, , trace implement __lt__ trace python3 longer support __cmp__ need define __lt__ make object comparable fix trace extract gdb linked python3 signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3471,a0446f6dd0f5145927003bc78776018e6baa8b3c,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-04-15 15:51:25 -0300, , vfs leak release refcnts hold main_task structure shutdown whenever change working directory either fchdir chdir file structure holding refcnts underlying mount point set field t_cwdfp main_task t_cwdfp previously set older data freed replaced newer one problem exists refcnts never released afterwards change introduced patch create function use lambda reuse much code possible suggested glauber costa create vfs_exit use function previously created free main_task resource call unmount_rootfs afterwards needle say vfs_exit replaces function unmount_rootfs shutdown procedure applying change described refcnt leak root mount point gone reviewed glauber costa glommer cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3472,2b459c31267422eed56fa48f7ed50cae3d280c19,vi Kivity <avi@cloudius-systems.com>, 2014-04-22 16:56:06 +0300, , merge tag v2p debug http github.com avikivity osv patchset fix bad interaction debug allocator virtio patchset make check still fails due genuine use free problem vfs fixed later fix 240 signed avi kivity avi cloudius systems.com,,
3473,bdf010694a0b8e1b6345b15447166bade90c7adb,leb Natapov <gleb@cloudius-systems.com>, 2014-04-22 12:53:15 +0300, , gdb fix osv pagetable walk command mmu page_table_root symbol longer global take make work arm signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3474,2e13c8875c877d00fccb85bfb99b3bbfb9cec35d,lauber Costa <glommer@cloudius-systems.com>, 2014-04-22 13:06:14 +0400, , bsd linux convert tcp sockopt linux bsd number comment state option name bsd linux true lot checking constant came following conversion list patch mongodb complains getsockopt query interval time return error signed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3475,424b779675f8b4c76ed07b7a4035d9f646018caa,lauber Costa <glommer@cloudius-systems.com>, 2014-04-22 13:06:13 +0400, , tcp expose getsockopt value tcp_keepintvl tcp_keepidle currently setting value okay getting take default clause simple case copying variable matter option mentioned used mongodb tcp_keepinit well hurt signed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3476,01a266ff811668c6f0904b4f2a45685b7e99024f,lauber Costa <glommer@cloudius-systems.com>, 2014-04-22 13:06:12 +0400, , libc cheat version number since application running osv compiled glibc linux need provide symbol unless find case lie though answer osv specific data signed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3477,fd905d5cf9139bac289fdd9551c56ca538f57f6f,lauber Costa <glommer@cloudius-systems.com>, 2014-04-22 13:06:11 +0400, , pthread implement spinlocks take pride spinlocks system application want use deny god given right application implement spinlocks pthread interface implement standard trylock mechanism one provided interface pretty trivial except fact seems provide protection deadlock ignore moment assume well behaved application signed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3478,6e438d21fe85ad73c6d9f4b3eae11e39a8d87643,lauber Costa <glommer@cloudius-systems.com>, 2014-04-22 13:06:10 +0400,265, stub posix_fallocate mongodb expects call would like guarantee allocation block file doe fallback time providing symbol opened issue 265 track signed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3479,45299bc97625f9067e307b5657f3a2d056c7143c,lauber Costa <glommer@cloudius-systems.com>, 2014-04-22 13:06:09 +0400, , runtime provide _exit _exit alias right exit since support atexit handler anyway signed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3480,cee87017833691479cb910ae8a860d5b0c7dc3af,lauber Costa <glommer@cloudius-systems.com>, 2014-04-22 13:06:08 +0400, , fadvise64 alias fadvise signed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3481,e9177ca8dddfdb663d7ab0e02f7c743384c38f4d,vi Kivity <avi@cloudius-systems.com>, 2014-04-20 15:06:44 +0300, , virtio fix virtio blk debug allocator debug allocator allocate non contiguous memory large request since b7de9871b31 one entry entire buffer one possible fix allocate contiguous memory even debug allocator future may wish allow discontiguous allocation enough contiguous space available instead implement virt_to_phys variant take range output physical segment make use construct minimal list depending input signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3482,a5f04a2416128b73d4f4fa877363abbeaec041e0,vi Kivity <avi@cloudius-systems.com>, 2014-04-20 15:06:43 +0300, , mmu separate lock vpopulate friend debug allocator active call vpopulate manage page table cause deadlock vpopulate take vma_list_mutex operation hold vma_list_mutex may allocate memory fix using separate mutex debug range safe since page table root pre allocated lower page table either vma list range debug range signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3483,6b4f6b430a1671d71876963e2131df434a66b146,adav Har'El <nyh@cloudius-systems.com>, 2014-04-09 11:59:39 +0300,256, elf support load symbol resolution normally symbol binding shared object lazy using pltgot mechanism mean symbol resolved first used great speed object load also allows never implement symbol actually used real code path however issue 256 show symbol used dsos preemption disabled context resolved first use symbol resolution may sleep two important example sched thread wait sched thread stop_wait used wait_until preempt_disable patch add missing support standard dt_bind_now tag tag added added object option object tag symbol resolved load time instead lazily first used bug 256 fixed linking tst mmap.so separate patch signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
3484,a888df1a61753fdc33947eb6a8f522dbe9152ff2,vi Kivity <avi@cloudius-systems.com>, 2014-04-20 14:56:56 +0300, , virtio fix virtio blk debug allocator debug allocator allocate non contiguous memory large request since b7de9871b31 one entry entire buffer one possible fix allocate contiguous memory even debug allocator future may wish allow discontiguous allocation enough contiguous space available instead implement virt_to_phys variant take range output physical segment make use construct minimal list depending input signed avi kivity avi cloudius systems.com,,
3485,87883d8a29694c7222359e84ad8807e89880bbf4,vi Kivity <avi@cloudius-systems.com>, 2014-04-20 14:45:35 +0300, , mmu separate lock vpopulate friend debug allocator active call vpopulate manage page table cause deadlock vpopulate take vma_list_mutex operation hold vma_list_mutex may allocate memory fix using separate mutex debug range safe since page table root pre allocated lower page table either vma list range debug range signed avi kivity avi cloudius systems.com,,
3486,ffd40f68b53e872682d2dda08ebd37adb71c47ac,adav Har'El <nyh@cloudius-systems.com>, 2014-04-16 01:03:56 +0300, , malloc fix constant constant supposed default minimum alignment returned malloc set actually normally done recent modern glibc linux take maximum sizeof size_t indeed alignof long double byte abi compatible linux note patch good future reference actually practical consequence current implementation current small malloc implementation used alignment determined size allocated object byte object would byte alignment anyway large allocation alignment always full page change matter either signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
3487,c947c654ee5d548af70ed0a3f4cf4c6e08eeab43,alle Wilund <calle@cloudius-systems.com>, 2014-04-16 15:51:52 +0200,146, trace per cpu trace buffer event terminator per cpu trace buffer actual buffer space kept roughly previously vcpu used space higher doe handle vcpu appearing disappearing runtime trace event allocated done terminator marker finalized event written prevent partial data messing extraction fix 146 signed calle wilund calle cloudius systems.com signed avi kivity avi cloudius systems.com,,
3488,4a1a240cb99e310757289846cec536b2f7cb7037,lauber Costa <glommer@cloudius-systems.com>, 2014-04-16 16:22:03 +0400, , x86 fix dump_registers usign instead x86_64 effect trimming bit bit creating confusing situation people debugging osv signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3489,a19f4faa8de5d888baf8eda33e1bcfa160c0879b,sias He <asias@cloudius-systems.com>, 2014-04-16 16:13:58 +0800, , script fix gen version header mount osv build directory another fast disk device make complaint make make entering directory home asia src cloudius system osv build release gen gen include osv version.h fatal git repository parent mount point home asia src cloudius system osv build stopping filesystem boundary set fix making scirtps osv version.sh using git dir signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3490,c5466812d7f32d013b12f6c93bc13218e8a35afa,laudio Fontana <claudio.fontana@huawei.com>, 2014-04-08 17:47:54 +0200, , aarch64 remove related mmu also enable core pagecache.cc aarch64 build signed claudio fontana claudio.fontana huawei.com,,
3491,645ac7dc57f153e88f31f677328dd08c0a70b313,ani Kokkonen <jani.kokkonen@huawei.com>, 2014-04-11 09:49:38 +0200, , mmu implement mmu aarch64 refactoring x64 signed jani kokkonen jani.kokkonen huawei.com claudio fix signed claudio fontana claudio.fontana huawei.com,,
3492,908db4cc01fa1a364dd11d675ff04190682ed618,ani Kokkonen <jani.kokkonen@huawei.com>, 2014-04-08 17:10:36 +0200, , mmu add flush_tlb_local flush_tlb_all add apis flush single processor tlb tlbs cluster signed jani kokkonen jani.kokkonen huawei.com signed claudio fontana claudio.fontana huawei.com,,
3493,2eaa4ac40054fe60b47a0f2790b0de8bfade89ae,ani Kokkonen <jani.kokkonen@huawei.com>, 2014-04-08 16:28:18 +0200, , aarch64 create initial page table create initial page table ttbr0 ttbr1 set register mmu signed jani kokkonen jani.kokkonen huawei.com signed claudio fontana claudio.fontana huawei.com,,
3494,dec954a554b0097c3f522c3d76d35830d823320e,laudio Fontana <claudio.fontana@huawei.com>, 2014-04-08 16:16:25 +0200, , exception add accessors error order share fault code core mmu.cc add accessors get program counter error code whose interpretation arch dependent error_code x64 esr aarch64 signed claudio fontana claudio.fontana huawei.com,,
3495,0e4d170e69d29c1efc6dbad390dbe90db54c4860,laudio Fontana <claudio.fontana@huawei.com>, 2014-04-08 16:05:42 +0200, , mmu remove overloaded align_up align_down align.hh function name name used instead without downside upside confusion signed claudio fontana claudio.fontana huawei.com,,
3496,391bdb62b5774d1633380bf4e2e7f52c7fdddb2d,laudio Fontana <claudio.fontana@huawei.com>, 2014-04-08 15:43:59 +0200, , build.mk build arm clock stub forgot build arm clock stub cause null pointer dereference turn mmu signed claudio fontana claudio.fontana huawei.com,,
3497,4028dba291467d4bfb42e68aea7a7d17d93227d7,awel Dziepak <pdziepak@quarnos.org>, 2014-04-15 17:49:12 +0200, , test make sure tst elf permission gnu_relro segment tested claudio fontana claudio.fontana huawei.com reviewed nadav har nyh cloudius systems.com signed pawel dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
3498,bb20ffd6ac40ad167eab2141f3bab3fb91b6bc4d,awel Dziepak <pdziepak@quarnos.org>, 2014-04-15 01:43:37 +0200, , test test elf segment permission signed pawel dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
3499,fbb6e578baf242a64de113b4c1289b696c0b9d91,awel Dziepak <pdziepak@quarnos.org>, 2014-04-15 01:43:36 +0200, , test move memory permission check implementation header file code going shared tst mmap tst elf permission signed pawel dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
3500,24b1c3a803ab0593349ff65957ee25167ceaa443,awel Dziepak <pdziepak@quarnos.org>, 2014-04-15 01:43:35 +0200, , elf make area described gnu_relro read segment gnu_relro used inform dynamic linker section need writable relocating elf file made read later usually gnu_relro overlap standard load segment contains readable writable data elf file generated way possible properly set per page permission signed pawel dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
3501,43e0c7d48c5c36ee01ae0cd6779b2d4204f9d55a,awel Dziepak <pdziepak@quarnos.org>, 2014-04-15 01:43:34 +0200, , elf set segment permission exactly specified p_flags reviewed glauber costa glommer cloudius systems.com signed pawel dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
3502,435bb00d1407c5c044e7a2d56f2fdd51ae34cd49,awel Dziepak <pdziepak@quarnos.org>, 2014-04-15 01:43:33 +0200, , trace make section writable contains pointer location .text section need relocated reviewed glauber costa glommer cloudius systems.com signed pawel dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
3503,b97d05c7c5c22ef9a3657c63266a521b611a3843,awel Dziepak <pdziepak@quarnos.org>, 2014-04-15 01:43:32 +0200, , x64 make .fixup section writable content .fixup section sorted boot moreover since .fixup contains pointer location .text section requires relocation reviewed glauber costa glommer cloudius systems.com signed pawel dziepak pdziepak quarnos.org signed pekka enberg penberg cloudius systems.com,,
3504,1adfb5ec8a9ddb6287280c864f2e7dce7b752189,lauber Costa <glommer@cloudius-systems.com>, 2014-04-14 17:13:23 +0400, , limit provide alias limit64 function signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3505,4958b207be8bd3a0a3015a212c9003bad23a4bd7,ekka Enberg <penberg@cloudius-systems.com>, 2014-04-14 11:26:33 +0300, , x64 switch msse2 gcc option virtualbox example doe enable sse 4.1 default avi tell qemu doe either make osv always bootable switch sse2 guaranteed present x86 reviewed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3506,df5b7e3806942e51b1e0dc2f34f353fdad73211a,ekka Enberg <penberg@cloudius-systems.com>, 2014-04-14 15:51:27 +0300, , script rename capstan release upload script rename script upload capstan release match naming convention upload standalone release signed pekka enberg penberg cloudius systems.com,,
3507,8611617e99a827a36fd4a54307b51d1d2a32d72c,ekka Enberg <penberg@cloudius-systems.com>, 2014-04-14 15:50:55 +0300, , script add upload script standalone image signed pekka enberg penberg cloudius systems.com,,
3508,fc5fc8673a71a5c1ac6a5dfc232cd686d079cdf7,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-13 13:47:26 +0200, , test add test closing tcp connection pending packet test supposed trigger problem issue 259. able trigger problem using guest local communication hence client external guest reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3509,88c5c4f8a95f2410adfeef253b36a67c0ca7cdd7,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-13 13:47:25 +0200, , test introduce test option option allows run single test using test runner example script test.py test tst async.so reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3510,f87bfd61a1616c58b38144917d6d422faf7cd65d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-13 13:47:24 +0200, , test use singular form noun count one reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3511,25ed71034c46b3e122ae5510aacdf42092271dec,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-13 13:47:23 +0200, , test extract testing framework refactoring allow create complex test limited running one command inside guest also perform action validation external guest test case managed common test runner script test.py use guest management infrastructure error detection etc common code extracted testing.py module done intent write test involve external tcp communication signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3512,ce1cbf01e78b45dcbb950ee754f3e94b7950dd1b,lauber Costa <glommer@cloudius-systems.com>, 2014-04-10 17:59:48 +0400, , zfsarc temporarily disable arc mapping fix take time disable entirely cook solution acked gleb natapov gleb cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3513,278efde7b039b22bb1a648b3a46ea6df78ce3923,vi Kivity <avi@cloudius-systems.com>, 2014-04-14 10:27:16 +0300, , merge branch rcu list signed avi kivity avi cloudius systems.com,,
3514,1bbcd274752d76b9f696fcc12120e2c703800638,vi Kivity <avi@cloudius-systems.com>, 2014-04-07 16:01:16 +0300, , test add rcu list test signed avi kivity avi cloudius systems.com,,
3515,8c417e23033882674e9623a57c36a7ec391bcf2e,adav Har'El <nyh@cloudius-systems.com>, 2014-04-13 18:58:17 +0300, , memory support larger page alignment existing implementation posix_memalign c11 aligned_alloc used regular malloc work worked alignment 4096 byte crashed failed achieve higher desired alignment application ask higher alignment example mongodb allocates large buffer 8192 byte alignment accordingly crash half time desired alignment achieved half time achieved chance patch make support alignment better organized fix alignment 4096 case alignment longer available outer function like posix_memalign rather passed lower level allocation function like malloc_large allocates whole page function know pick page start properly aligned boundary patch doe improve wastefulness malloc_large overhaul would still welcome case point malloc_large always add full page allocation larger half page multiple allocation posix_memalign 8192 8192 rather tightly packed take page separated free page page wasted cause fragmentation heap note patch still one bug posix_memalign size align small size large alignment small size use pool allocator size alignment may achieve desired alignment causing assertion failure bug also fixed unrelated patch patch also add test posix_memalign checking alignment including large alignment topic patch test small size explained still buggy commented fail fix 266 signed nadav har nyh cloudius systems.com signed avi kivity avi avi.cloudius,,
3516,4e46586093aeaf339fef8e08d123a6f6b0abde5b,vi Kivity <avi@cloudius-systems.com>, 2014-04-07 15:59:30 +0300, , rcu introduce rcu list type singly linked list suitable building rcu hash table minimal interface implemented far list expose two list like interface one mutating owner read rcu access reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
3517,c54c7e5e35a5d206966c3c5aed9f22b7f3562cd9,vi Kivity <avi@cloudius-systems.com>, 2014-04-07 15:56:38 +0300, , elf flush rcu callback unloading module rcu callback may refer text data section loaded module prevent access unmapped memory forcing rcu callback complete removing module fix 231 reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
3518,da9e1352dfb50f7edc8814e3ea6cdfaba82574a0,vi Kivity <avi@cloudius-systems.com>, 2014-04-07 15:55:40 +0300, , rcu add rcu_flush add callback force currently queued callback execute useful global state change removing loaded module unit test reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
3519,8f866331e3199df272db0df3b65d4b99a7fe3480,vi Kivity <avi@cloudius-systems.com>, 2014-04-07 15:54:23 +0300, , rcu destroy callback executing callback destructor may refer dynamically linked section destroy executing prevent destructor firing next pas referencing deallocated memory reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
3520,55df99e0387595e468135edb272c363843e865b2,vi Kivity <avi@cloudius-systems.com>, 2014-04-07 12:41:02 +0300, , elf fix bad indent reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
3521,ff63795d6f3b750238e1d4b0d6631ba28d1e9c3f,vi Kivity <avi@cloudius-systems.com>, 2014-04-07 11:54:52 +0300, , elf populate segment .note.osv mlock section present allows shared object disable preemption work correctly since faulting executable page preemption disabled supported reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
3522,a65c7a7af6a909f551699882245ae2fa58768bb4,vi Kivity <avi@cloudius-systems.com>, 2014-04-07 11:40:20 +0300, , elf add function read section table section table entry name reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
3523,ef99adec4615656d73fcbe36ee137a53e1c6c930,vi Kivity <avi@cloudius-systems.com>, 2014-04-13 11:09:43 +0300, , net reset connection overflow listen backlog queue networking stack queue connection established yet accepted connection exceed length queue dropped stack two way dropping connection sending rst silently default sending rst affect sender dropping packet silently allow sender retry hopefully allow connection established change default silently dropping packet friendly user match linux seen iperf quickly overwhelms listen backlog cause stream fail signed avi kivity avi cloudius systems.com,,
3524,a2917f796aa12ce0427e93ed8cf62f862674452c,vi Kivity <avi@cloudius-systems.com>, 2014-04-13 10:48:48 +0300, , merge branch 259 signed avi kivity avi cloudius systems.com,,
3525,5875942cfcba0ee11ba97e20f28612e833994875,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-11 09:55:49 +0200,259, net drain net channel queue socket closed fix 259 commit introduced assertion verifies tcpcb socket freed justified called place assume remain live bug 259 revealed situation doe hold possible socket closed moved fin_wait_1 state still packet net channel later packet flushed tcp_do_segment try reset connection according protocol must happen hit asseriton failure solve problem must ensure tcp_do_segment try close tcp called packet net channel let walk possible place able find inside thflags th_rst ... happen net channel classifier doe let packet rst fin syn flag inside so_state ss_nofdref t_state tcps_close_wait tlen one hit issue 259. order avoid must ensure packet net channel drained classifier unregistered socket marked ss_nofdref closed fixed patch t_state tcps_last_ack ourfinisacked state moved tcps_last_ack socket closed tcps_close_wait state state move happens net channel classifier unregstered reaction received fin send fin side send final ack final ack land net channel good entering time_wait state via tcp_twstart tcp_twstart free socket catched want_close flag much prohibited enter time_wait must first enter fin_wait_1 receive ack side fin among thing classifier unregistered entering fin_wait_1 final ack net channel therefore trigger time_wait state good signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3526,43a7292aaf509981477f81d86ec506da3f6858d8,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-11 09:55:48 +0200, , net extract common code signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3527,7d469fdf452db9c43557c76e949d5918b414c916,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-11 09:55:47 +0200, , net fix potential deadlock sblock fails left locked would cause current thread hold lock forever spotted code inspection signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3528,129ac4bb79667930e24034ee421b7749548181fd,adav Har'El <nyh@cloudius-systems.com>, 2014-04-03 19:21:10 +0300, , loader power command line invalid currently several case bad command line set image empty command line make image empty one invalid paramters e.g. run.py use abort abort two annoying feature hang forever show ugly stack trace useful debugging make sense use debugger command line misconfigured need print message power calling osv poweroff early time boot fine previous patch fixed osv poweroff way running non existant file e.g. run.py already correct behavior powering hanging reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3529,810909382cb5c3f15b09922219892abd70d40fc9,lauber Costa <glommer@cloudius-systems.com>, 2014-04-10 19:06:39 +0400, , acpi move part table initialization earlier would like able use acpi dependentant functionality earlier one example hpet need consult acpi table run acpi full initializatio particular case already covered provide early_init function another case order poweroff work need table actually loaded found nadav also moved inside early_init patch function   acpiloadtables executed early safe part really need come apic initialization reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3530,c0f3184d658d53956b68e210039bfd9a40522c04,lad Zolotarov <vladz@cloudius-systems.com>, 2014-04-10 17:24:10 +0300, , readme.md fixed java example option new added new example instead deletion invalid old one signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3531,cb139dba52315defce48f153563ef4c772d3d394,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-10 12:57:07 +0200, , backtrace show call site instead return site think useful analyze backtrace want see call chain rather return chain return addres may lay inside inlined function little call site example follows showing address translated addr2line   std __atomic_base unsigned int load std memory_order operator   std function void mbuf operator mbuf  reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3532,a2f4d6f640d8b352ebfd719672090212010b7cb6,sias He <asias@cloudius-systems.com>, 2014-04-08 17:01:21 +0800, , build fix revert build skip rebuild usr.img osv.vmdk osv.vdi target adding usr.img dependency makefile broken usr.img target makefile happened work file named usr.img src osv adding usr.img dependency build.mk cause rebuild usr.img reason osv.vmdk osv.vdi usr.img ... .phony osv.vmdk osv.vdi order build correct image let drop usr.img dependency completely fix issue signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3533,db09228b1e9d410ca6378e03fc1d0a398317fa5e,ekka Enberg <penberg@cloudius-systems.com>, 2014-04-10 09:41:45 +0300,65, libc add inotify stub patch add inotify api stub lack inotify prevents booting application osv completely http github.com cloudius system capstan issue signed pekka enberg penberg cloudius systems.com signed avi kivity avi cloudius systems.com,,
3534,d4bc3a7cc619cb8296aa46125eac31fb43f46e89,ladimir Murzin <murzin.v@gmail.com>, 2014-04-09 19:39:38 +0100, , arch aarch64 fix storage size fpsr fpcr fpsr fpcr register bit wide reviewed claudio fontana claudio.fontana huawei.com signed vladimir murzin murzin.v gmail.com signed pekka enberg penberg cloudius systems.com,,
3535,4989dfc4446224a8d6591b6945f5beb50713beb2,ladimir Murzin <murzin.v@gmail.com>, 2014-04-09 19:39:39 +0100, , bsd aarch64 clean atomics cbnz instruction affect condition flag sense clobber reviewed claudio fontana claudio.fontana huawei.com signed vladimir murzin murzin.v gmail.com signed pekka enberg penberg cloudius systems.com,,
3536,d437a24e0c372f646e02949f8e36f0c3a6b8c99f,lauber Costa <glommer@cloudius-systems.com>, 2014-04-09 12:11:27 +0400, , linux make write syscall available jemalloc memory allocator like bypass libc calling write call syscall directly let make write available interface well reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3537,c86c915b047e93798aca4ccb5aafba4782fa2c56,lauber Costa <glommer@cloudius-systems.com>, 2014-04-09 12:11:26 +0400, , pthread implement mutexattr function redis jemalloc precise actually expects function succeed returning mean initialize correctly memory allocator simple implementation store desired value doe change anything underlying mutex signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3538,ed2a70f1321e2e315ce82deff75a4d24ee031b86,lauber Costa <glommer@cloudius-systems.com>, 2014-04-09 12:11:25 +0400, , test enhance mmap test recently discovered bug fail unmap valid region fixed patch add failing condition test suite signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3539,a4999feb97502a086775cfedf020e51377d27d00,lauber Costa <glommer@cloudius-systems.com>, 2014-04-09 12:11:24 +0400, , mmu correctly calculate size unmap operation right graciously accept doe linux mmap call size smaller page align serve alignment missing unmap user rightfully try unmap using size fail following test program succeeds linux fails osv int main void ret mmap null prot_read map_anon map_private ret null return  return munmap ret  patch work well reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3540,8f5944ccee583115d7011757385dcedc81c8626e,lauber Costa <glommer@cloudius-systems.com>, 2014-04-09 12:11:23 +0400, , pthread stub setcanceltype implementation anything anyway setcancelstate reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3541,6375fbd58a36f8c94520c674aadcefda5d0c8653,lauber Costa <glommer@cloudius-systems.com>, 2014-04-09 12:11:22 +0400, , pthread_at_fork bogus implementation support fork need anything upon fork change future revisit get away simple implementation return signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3542,4aa2675eb6415e96945634ce27da4e5ee0c40c83,lauber Costa <glommer@cloudius-systems.com>, 2014-04-09 12:11:21 +0400, , libc add variable redis relies variable present correctly set reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3543,238b3db78acb03cc07326abecc2a3f400c776b15,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-08 15:49:52 +0200, , httpserver fix make rule submodules current rule causing submodules updated even .git directory existed reported amnon heiman amnon cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3544,cb2c236eb418b47211bd84fd3a03949dd9879e59,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-02 16:51:21 +0200, , run.py allow multiple argument trace allow pas trace multiple time run.py command line interface osv loader script run.py trace sched_wait trace memory_ reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3545,257194a2ae51fa27a68d1c38a4a6c08b0551b1ce,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-09 10:48:00 +0200, , bump apps submodule head signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3546,68fe6e1a44e36f625727f945f6a6b27138f53ea7,ekka Enberg <penberg@cloudius-systems.com>, 2014-04-09 11:54:52 +0300, , merge branch ec2 release script,,
3547,4a45eddac593d5405c8541348242301b9e6b30ec,mitry Fleytman <dmitry@daynix.com>, 2014-04-08 20:07:07 +0300, , upload ec2 introduce script image upload introduce script upload ec2.sh get prebuilt osv image convert ec2 amis signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
3548,c0f53020f20ad357a94a72e2bf71b93929723a5f,mitry Fleytman <dmitry@daynix.com>, 2014-04-08 20:07:06 +0300, , release ec2 base released image linux ami linux ami suit osv better default setting instance inherit creation mainly preconfigured ssh access open ssh port signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
3549,42493eef3e01b594f9bca705e6bf3d64d064a7da,mitry Fleytman <dmitry@daynix.com>, 2014-04-08 20:07:05 +0300, , release ec2 introduce aws region list parameter parameter override region added signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
3550,ed690e4b2133ff13bc4c82327ac209063d4587be,mitry Fleytman <dmitry@daynix.com>, 2014-04-08 20:07:04 +0300, , release ec2 trivial help screen enhancement help screen enhanced make parameter syntax clear signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
3551,ef16933014fb8343e7a52d87a5596551f5119769,adav Har'El <nyh@cloudius-systems.com>, 2014-04-07 21:42:36 +0300, ," vfs fix partial non blocking write read write variant pread pwrite readv writev preadv pwritev shared bug come partial read write returned ewouldblock eagain instead returning successfully number byte actually written read internals bsd read write operation e.g. sosend_generic operation return error number number byte left end system call expected return one either error number byte existing read write code saw internals returning error code always returned ignored number byte wrong error ewouldblock number byte non zero return number byte i.e. successful partial write ewouldblock error bug went unnoticed almost since dawn osv partial read writes common example write blocking socket always return entire write successful partially succeed write o_nonblock socket possible see partial write even would need pretty large write see partially succeeding bug noticable running jetty web server see issue point like response restarted complete second copy header jetty demo seen half shown image well corrupt output fetching large text file like test da.txt turn jetty sends static response surprisingly efficient java code ... way using single system call entire response mmap file wish send one writev call send two array http header built malloc memory file mmapped memory jetty try write even 1mb file one huge writev call added twist doe socket configured o_nonblock large writes write partially succeed empirically 50kb succeed jetty notice partial write continue writing rest whole file sent bug part request written jetty still thought write write anything would start writing beginning causing weird sort response corruption seeing patch also includes test case confirms bug fix test tst tcp nbwrite two thread communicate tcp socket loopback interface one thread write large buffer receives try two time blocking socket non blocking socket case expect number byte written one thread return write number read second thread return read bug non blocking case saw write returning errno ewouldblock read returned 50,000 byte causing test fail fix 257 signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com",,
3552,6e110e24fbaa3c40dad770d389b76095a14ba9c8,ekka Enberg <penberg@cloudius-systems.com>, 2014-04-09 11:10:06 +0300, , mgmt update latest signed pekka enberg penberg cloudius systems.com,,
3553,4ef65eb6bac7e8d03e1a0f2b2c14eb74c349f7ea,vi Kivity <avi@cloudius-systems.com>, 2014-04-08 15:55:23 +0300, , sched fix waitqueue race causing failure wake waitqueue wake_all wake waiting thread call sched thread wake_lock enqueue waiting thread mutex protecting waitqueue thus avoiding needle contention mutex however thread already waking let wake naturally acquire mutex problem waitqueue code wait_object waitqueue poll examines wait_record sleep see woken back sleep since nothing thread already awake path clear wait_record happens thread stall timeout occurs fix clearing wait record protected mutex extra synchronization needed observed iperf guest likely triggered net channel waking thread chance wake fin packet arrives processed driver thread packet consumed thread waking state reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3554,04ac707f52694eb0095c31d7741b946cb9444721,leb Natapov <gleb@cloudius-systems.com>, 2014-04-07 15:11:25 +0300, , jvmballoon fix check number released balloon calculated difference current number balloon sof max equal balloon released loop repeat signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
3555,c74afb15ab3b4db67daa454c40236c6587bc2eae,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-03-24 18:41:11 -0300,3581, zfs spa_zio_taskq zio_type_free zio_taskq_issue tq_lock contention reviewed matthew ahrens mahrens delphix.com reviewed george wilson george.wilson delphix.com reviewed christopher siden delphix.com reviewed gordon ross gordon.ross nexenta.com approved richard lowe richlowe richlowe.net reference http illumos.org issue 3581 patch taken illumos slight change needed port osv patch target improvement taskq lock contention dispatching work independent task queue zfs linux devops mention clear whether issue affect port profile result showed time spent taskq_thread reduced apart getting performance benefit number thread osv nicely reduced 344 thread 224 possibly saving good amount memory footprint also good stepping towards synchronicity zfs upstream addressing issue 247 reviewed glauber costa glommer cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3556,40d4ae32af4b4c4fa05359722849f1b40aad4dfe,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-07 19:53:52 +0200, , dhcp fix parsing dhcp option several issue current code firstly length_ok macro used condition macro checking option op_len doe exceed packet limit macro work fine used parse_op inside switch option bumped op_len end loop body use macro condition may result premature exit loop causing time osv parsing network mask gateway leaving 0.0.0.0 started goodle compute engine result osv responding network see issue 254 another issue stop condition check dhcp_option_end using outer context never overwritten actual variable changed based packet content redeclared inside loop third problem spotted vlad code handling dhcp_option_pad properly option opcode byte following length byte currrent code would attempt read length byte skip amount would yiled incorrect parsing result reviewed vlad zolotarov vladz cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3557,abbfc5570ba7fad8b79706d2e7c0fd60a19acc1b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-07 19:54:25 +0200, , dhcp remove lookup_opcode lookup_opcode function incorrect mishandling dhcp_option_pad doe following length byte also condition reading value never change may result read beyond packet size since function unused best fix remove reveiwed vlad zolotarov vladz cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3558,06cf7b0fe8a3565ecba19bdf9cbc177be96f928c,ekka Enberg <penberg@cloudius-systems.com>, 2014-04-07 14:51:47 +0300, , build standalone img fix image versioning typo commit 425c5ce build standalone img add version number image filename caused shell script evaluate version command instead expanding version variable fix signed pekka enberg penberg cloudius systems.com,,
3559,425c5ce776c7e6ead87c53b63e23798dd8510f96,ekka Enberg <penberg@cloudius-systems.com>, 2014-04-07 14:37:44 +0300, , build standalone img add version number image filename add osv version number image filename actually one release available download ... signed pekka enberg penberg cloudius systems.com,,
3560,9d4983fe23937b3a2ad4ffea2bbe1883223f1c5b,ekka Enberg <penberg@cloudius-systems.com>, 2014-04-07 12:58:51 +0300, , revert build skip rebuild usr.img osv.vmdk osv.vdi target reverts commit break building osv.vdi altogether signed pekka enberg penberg cloudius systems.com,,
3561,87001a10e84c5a667d9a5c50c8d38aa2a230a1ad,ekka Enberg <penberg@cloudius-systems.com>, 2014-04-07 12:58:00 +0300, , build osv release standalone image support make script build osv release support capstan standalone image signed pekka enberg penberg cloudius systems.com,,
3562,ee5be0ee8cd3c9ef313a60aed764bd8058386126,sias He <asias@cloudius-systems.com>, 2014-04-03 12:26:20 +0800, , script add build standalone img build image used without capstan script similar build capstan img later hook script script build osv release build image used without capstan take args build capstan img example output find build standalone build standalone cloudius build standalone cloudius osv iperf build standalone cloudius osv iperf osv iperf.esx.ova build standalone cloudius osv iperf osv build standalone cloudius osv iperf osv iperf.vbox.ova build standalone cloudius osv iperf osv iperf.vmw.zip build standalone cloudius osv iperf osv signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3563,94996a8c556a1200ec8adfef4faed9e9a216ca51,laudio Fontana <claudio.fontana@huawei.com>, 2014-04-07 10:26:56 +0200, , aarch64 stub new mmu function bsd commit 82f881a2 zfs mmu take vma_list_mutex introduces code need stubbed aarch64 signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
3564,52f64ac311f946f484b9cc16150a94884880e298,laudio Fontana <claudio.fontana@huawei.com>, 2014-04-04 18:00:10 +0200, , aarch64 fix merge issue lot mmu related change require fixups aarch64 signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
3565,82f881a28fd4e175e8dea92b01bd5d88f847774a,leb Natapov <gleb@cloudius-systems.com>, 2014-04-06 15:53:23 +0300, , zfs mmu take vma_list_mutex tearing arc buffer eviction without lock page mapping buffer eviction run parallel may cause following race page mapper thread thread calling arc_evict map_addr page arc_get_page add_mapping page ptep evict page ptep get_mapping page ptep.write free page  ptep.write page  arc code well defined order taking mutexes trylock skip buffer required lock acquired patch approach vma_list_mutex evicted buffer shared try lock vma_list_mutex skip buffer fails signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
3566,23275cd085df65d930fdeb401c8144688b989e76,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-04 13:11:30 +0200, , gdb fix osv thread osv thread apply thread_list populated reference sched thread rather sched thread command assuming latter result command printing comparing sched thread address address pointer sched thread sched thread_map signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3567,d82f6fcafe330fde5b806ac8fba58a3b4a7d188d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-04 13:09:57 +0200, , gdb fix osv info virtio look like gdb.value implicitly converted int range gdb python3 qidx range _num_queues typeerror gdb.value object interpreted integer error occurred python command gdb.value object interpreted integer signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3568,3640debb80d5555e9e573217b8d21553dc5b4306,vi Kivity <avi@cloudius-systems.com>, 2014-04-06 09:25:10 +0300, , apps update signed avi kivity avi cloudius systems.com,,
3569,f6064ddbc369f3e914120db29f5707d15ebb8a40,lad Zolotarov <vladz@cloudius-systems.com>, 2014-04-03 18:31:16 +0300, , readme.md run.py default osv guest requested ram size 2gb ram 1gb reviewed tomasz grabiec tgrabiec gmail.com signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3570,40d8032c052eb21405cecb32a03f32a3a1e368c1,lad Zolotarov <vladz@cloudius-systems.com>, 2014-04-03 18:11:11 +0300, , readme.md use proper name debian package containing maven shade plugin.jar reviewed tomasz grabiec tgrabiec gmail.com signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3571,ee92f736da97b655671911673262fdb3cda9f776,adav Har'El <nyh@cloudius-systems.com>, 2014-04-03 19:06:13 +0300, , sched fix rare crash caused reschedule running wrong cpu long time bug summarized issue 178 rarely consistently various run cassandra netperf tst queue mpsc.so saw osv crashing corruption timer list arming already armed timer canceling already canceled timer turn problem schedule function basically cpu current schedule problem unlucky enough thread migrated right calling cpu current irq disable schedule cause rescheduling one cpu different cpu big faux cause example mess one cpu different cpu causing timer related race crash seen issue 178 clearly method cpu schedule operate cpu rather function class static cpu schedule operates current cpu make sure find current cpu within irq lock ensure among thing thread get migrated another benefit patch actually simplifies code one function called schedule fix 178 signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
3572,955ab86178c396094461451b3e2eb7b3797a8202,vi Kivity <avi@cloudius-systems.com>, 2014-04-03 14:45:46 +0300, , mgmt update signed avi kivity avi cloudius systems.com,,
3573,9b26f480d500faa328225cbc9791d61a17357a99,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-03 12:44:34 +0200, , test fix pattern version currently fails v0.06 rc3 g54808ec signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3574,8191f54867908c89a1153a574c2b8e888834daa8,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-03 11:51:44 +0200, , bump mgmt submodule head change commit author tomasz grabiec tgrabiec cloudius systems.com httpserver add missing module.py signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3575,a5f78c5cb55fc1df2a2b41d8501a54c280814b78,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-03 11:18:09 +0200, , httpserver add missing module.py file omitted mistake signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3576,2902db4a5dd58f87fc79735bc31e0da5af357698,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-03 10:52:40 +0200, , build use httpserver module release image,,
3577,2f9a353a5955db791ff89be7e5648049b775ef11,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-03 10:52:14 +0200, , add httpserver module config.json also bump mgmt submodule head version httpserver separate module,,
3578,3544f98e5b6505eab237dc243b5f5a219a02ab24,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-03 09:54:54 +0200, , extract httpserver separate module base osv image doe contain shell httpserver latter doe need openjdk bloat image greatly 160m 16m change extract httpserver spearate module included alone without pulling openjdk,,
3579,bd5afb0c45a1b0a428e758b2e4bfa8727714e58b,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-04-02 14:34:15 -0300, , test add test case procfs readdir functionality specific output reading directory entry proc ... dentry name dentry name dentry name self reading directory entry proc self ... dentry name dentry name dentry name map signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3580,6296d671ec8df40239a8f091728bb5df79a29611,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-04-02 14:34:14 -0300,243, procfs implement procfs_readdir patch fix application read directory entry procfs e.g proc modeled ramfs close 243 signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3581,a68aebdadbed35f5f5b88a0e143bffe121aa39e2,ekka Enberg <penberg@cloudius-systems.com>, 2014-04-02 19:59:16 +0300, , build osv release switch empty image currently mgmt.httpserver pull entire openjdk want osv base image supposed around switch empty image configuration problem resolved signed pekka enberg penberg cloudius systems.com,,
3582,6cbbcfb1f85ce168a89392cf9ca5b3685b76d489,sias He <asias@cloudius-systems.com>, 2014-04-03 11:23:54 +0800, , script build capstan img build vmw image signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3583,e85f8d2b745fe4ee76a3c67cd5410f705f6f2fff,sias He <asias@cloudius-systems.com>, 2014-04-03 11:23:53 +0800, , script build capstan img build gce image signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3584,82b69aaa63f7345f1c29d9babbd63e7ce4eba27d,vi Kivity <avi@cloudius-systems.com>, 2014-04-02 18:43:44 +0300, , merge branch aarch64 next http github.com claudio osv_aarch64 patch series enables first stubbed support aarch64 signed avi kivity avi cloudius systems.com conflict bsd porting mmu.cc build.mk vfs vfs_fops.cc,,
3585,3751c5b1fc359f9d5396887396758f50ab7f9655,laudio Fontana <claudio.fontana@huawei.com>, 2014-03-24 19:14:16 +0100, , aarch64 install simple vector get cmdline get command line elf header start try stay clear apparent random limitation boot early stage model set vector soon possible enable minimal post mortem info signed claudio fontana claudio.fontana huawei.com,,
3586,c642794c4bc12df710e2034a7c558fc8119aacea,laudio Fontana <claudio.fontana@huawei.com>, 2014-03-20 18:04:25 +0100, , build.mk enable first aarch64 stubbed support build reach end premain see porting initial build instruction signed claudio fontana claudio.fontana huawei.com,,
3587,8e77679066a67e3a7a643b0cc23db281c535e158,laudio Fontana <claudio.fontana@huawei.com>, 2014-03-20 18:03:24 +0100, , loader runtime add stub aarch64 signed claudio fontana claudio.fontana huawei.com,,
3588,9feb4842c77f40bd3abd86247be21d41dc660b2a,laudio Fontana <claudio.fontana@huawei.com>, 2014-03-20 18:02:12 +0100, , core add aarch64 stub sched.cc signed claudio fontana claudio.fontana huawei.com,,
3589,77f43a301caedaa1a5c134c3702797314cab8f3a,laudio Fontana <claudio.fontana@huawei.com>, 2014-03-20 17:57:09 +0100, , core add aarch64 stub mempool mmio signed claudio fontana claudio.fontana huawei.com,,
3590,a7db4920677efb0a15628a68b93eec37402c1ae7,laudio Fontana <claudio.fontana@huawei.com>, 2014-03-20 17:45:03 +0100, , include remove unused include file include api x64 atomic.h used anywhere signed claudio fontana claudio.fontana huawei.com,,
3591,301780965157eb8601fc13feee8608924ed396fc,laudio Fontana <claudio.fontana@huawei.com>, 2014-03-20 17:44:30 +0100, , add minimal stub aarch64 signed claudio fontana claudio.fontana huawei.com,,
3592,d16c41a668633eb90da449165a7a662e40604cb3,laudio Fontana <claudio.fontana@huawei.com>, 2014-03-20 17:40:05 +0100, , elf ifdef x64 specific code add aarch64 dynamic rels implementation includes rels actually encountered elf get_init signed claudio fontana claudio.fontana huawei.com,,
3593,ae0e824f272ec98523aa15f626d580a98b561c52,laudio Fontana <claudio.fontana@huawei.com>, 2014-03-20 17:35:22 +0100, , include osv trace.hh ifdef x64 specific code protect x64 machine code ifdef __x86_64__ signed claudio fontana claudio.fontana huawei.com,,
3594,d812d971391c26bd60399af4b7150ee83ef55b2d,laudio Fontana <claudio.fontana@huawei.com>, 2014-03-20 17:31:30 +0100, , driver console allowing building aarch64 stub console_init aarch64 signed claudio fontana claudio.fontana huawei.com,,
3595,3e460ce339b1dd769cc58d8c79cd32a3817fac4c,laudio Fontana <claudio.fontana@huawei.com>, 2014-03-20 17:27:45 +0100, , debug add debug_early functionality function debug_early debug_early_u64 used early premain signed claudio fontana claudio.fontana huawei.com,,
3596,c56bebbb515f89f264471144150a60bc22d5b2c7,laudio Fontana <claudio.fontana@huawei.com>, 2014-03-20 17:16:53 +0100, , include api aarch64 first implementation signed claudio fontana claudio.fontana huawei.com,,
3597,67e4864c816b52b10e957d60d2ce5e633f5253bf,ani Kokkonen <jani.kokkonen@huawei.com>, 2014-03-20 17:15:40 +0100, , driver move debug console arch specific dir signed jani kokkonen jani.kokkonen huawei.com signed claudio fontana claudio.fontana huawei.com,,
3598,8f363e5d7123feec49f7a8bad98fdf99b9e3bc0e,laudio Fontana <claudio.fontana@huawei.com>, 2014-03-20 17:06:50 +0100, , arch aarch64 first implementation signed claudio fontana claudio.fontana huawei.com,,
3599,1201ac28bde882e6dccd5ac9cd71829d1bf0af9f,laudio Fontana <claudio.fontana@huawei.com>, 2014-03-20 15:41:34 +0100, , arch.hh introduce arch rename processor cli_hlt logically match existing processor sti_hlt make use arch core power.cc enclose x64 specific code ifdefs well putting code aarch64 signed claudio fontana claudio.fontana huawei.com,,
3600,2df1be5d3d190d0c347b1a93054ee29e1919c1f9,laudio Fontana <claudio.fontana@huawei.com>, 2014-03-20 15:06:20 +0100, , bsd add stub aarch64 virt_to_phys return virtual address aarch64 mmu_unmap abort signed claudio fontana claudio.fontana huawei.com,,
3601,0510c8661030a34a6fe8ace070d0055c5c6b61f4,laudio Fontana <claudio.fontana@huawei.com>, 2014-03-20 14:46:13 +0100, , bsd aarch64 improve asm atomic endian use referring non extended register referring extended register emit right memory barrier instruction get semantics hopefully right signed claudio fontana claudio.fontana huawei.com,,
3602,8a6ec661af2bb80504b1a37a9dae57de568a27af,laudio Fontana <claudio.fontana@huawei.com>, 2014-03-20 13:20:14 +0100, , libc add minimal support aarch64 contains still prototyped code reached either hang setjmp longjmp abort requires mmu implement differently allocating malloc instead mmap enough libc aarch64 support reaching end premain signed claudio fontana claudio.fontana huawei.com,,
3603,f900f548814c0d20c53f3ac6dccddf377b66344f,vi Kivity <avi@cloudius-systems.com>, 2014-04-02 14:58:17 +0300, , merge branch pagecache http github.com gleb cloudius osv  write page cache implemented top arc read cache read fault page initially mapped arc directly marked page table write fault page copied small write page cache shared mapping anonymous page private mapping page removed write cache written back file fifo order pass make check misc mmap big file modified write addition read cassandra stress  signed avi kivity avi cloudius systems.com,,
3604,9a42fcacfa0b37edb116cb15e47c1d3174230d35,leb Natapov <gleb@cloudius-systems.com>, 2014-03-30 12:20:12 +0300, , revert uio super structure around uio reverts commit structure longer used signed gleb natapov gleb cloudius systems.com,,
3605,eeac30c793ff3288545df6401f46920c44f5bb92,leb Natapov <gleb@cloudius-systems.com>, 2014-03-20 11:54:18 +0200, , mmu add write pagecache implementation top arc patch add write page cache implementation read fault page initially mapped arc directly marked page table write fault page copied small write page cache shared mapping anonymous page private mapping page removed write cache written back file fifo order signed gleb natapov gleb cloudius systems.com,,
3606,96adaad92b99403fc36919cec82df82c154bff3b,leb Natapov <gleb@cloudius-systems.com>, 2014-03-30 16:43:10 +0300, , mmu pas fault type shared status get_page return cow status file page allocator need know fault type read write mapping type shared private handle page allocation correctly also need way communicate caller page need mapped cow patch add required functionality without using yet signed gleb natapov gleb cloudius systems.com,,
3607,ea17eedc1f9862e98011cc4197efd859fc0f959f,leb Natapov <gleb@cloudius-systems.com>, 2014-03-30 16:34:18 +0300, , mmu rename _map_offset _foffset hold offset file mapping also consistent  signed gleb natapov gleb cloudius systems.com,,
3608,97ce592ea629e16e04e815bd0a76f0b0c0060d41,leb Natapov <gleb@cloudius-systems.com>, 2014-03-25 15:36:10 +0200, , mmu return cow status page allocator page allocator may return shared page need cowed write access way notify page mapper page mapped read currently patch allows page allocator control signed gleb natapov gleb cloudius systems.com,,
3609,885e821211706c988f75d044ed281c17d0949f5e,leb Natapov <gleb@cloudius-systems.com>, 2014-03-25 10:15:45 +0200, , mmu pas type page fault page allocator page allocation may behave differently depending type fault read fault may return arc page write may cow instance reviewed glauber costa glommer cloudius systems.com signed gleb natapov gleb cloudius systems.com,,
3610,a8d22f2306a2aaa406733853b7646b5d7b7486c3,leb Natapov <gleb@cloudius-systems.com>, 2014-03-30 15:44:15 +0300, , mmu save flag passed file mapping vma currently flag saved anon_vma file_vma examining flag gdb proved helpful remove _shared since longer needed information flag reviewed glauber costa glommer cloudius systems.com signed gleb natapov gleb cloudius systems.com,,
3611,0c5fd67f5ae133f9f83e152820990e9217567e45,leb Natapov <gleb@cloudius-systems.com>, 2014-03-30 17:08:05 +0300, , mmu map file private mapping small page private mapping also done arc cache problem shared mapping reviewed glauber costa glommer cloudius systems.com signed gleb natapov gleb cloudius systems.com,,
3612,940b60f0e805d8f997d594286e83617f28aefbec,leb Natapov <gleb@cloudius-systems.com>, 2014-03-20 11:38:25 +0200, , mmu constify hw_ptep method change pte point allows function called const object signed gleb natapov gleb cloudius systems.com,,
3613,1b1067980ffb1d28ee58395850df42a9ab8a70f6,leb Natapov <gleb@cloudius-systems.com>, 2014-03-27 12:58:14 +0200, , mmu track mapping arc page ptep instead virtual address currently track mapping arc page virtual address require walk page table get pte pointer invalidation required change track pointer pte directly signed gleb natapov gleb cloudius systems.com,,
3614,2712138ca8eb49a063899a0c57e158429079f251,leb Natapov <gleb@cloudius-systems.com>, 2014-03-27 12:57:12 +0200, , mmu split mmu defs.hh header arch mmu.hh depend mmu.hh currently make impossible include header mmu.hh includes mmu.hh pretty heavy header containing many definition code move bare definition separate header file reviewed glauber costa glommer cloudius systems.com signed gleb natapov gleb cloudius systems.com,,
3615,35a54536e5ff0aff442fc08189630cb1e0b0c43a,leb Natapov <gleb@cloudius-systems.com>, 2014-03-24 12:54:44 +0200, , mmu consolidate code alloc free reviewed glauber costa glommer cloudius systems.com signed gleb natapov gleb cloudius systems.com,,
3616,e1a04ad1fc21df803e721b51dac58f66267c08dc,ifei Tong <zifeitong@gmail.com>, 2014-04-01 15:47:06 +0800, , script python3 support script mkbootfs.py stringio configparser removed python3 use io.stringio configparser instead backported io.stringio requires unicode string basestring python2 file removed python3 use open use byte instead string packing format signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
3617,a9308882d43c91908f69d2b0af890daf942236ed,ifei Tong <zifeitong@gmail.com>, 2014-04-01 15:47:05 +0800, , script python3 support script mkzfs.py stringio configparser removed python3 use io.stringio configparser instead backported io.stringio requires unicode string basestring python2 file removed python3 use open signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
3618,405885a69000f3f51802ce715280889df8acac3a,ifei Tong <zifeitong@gmail.com>, 2014-04-01 15:47:04 +0800, , script python3 support script stringio configparser removed python3 use io.stringio configparser instead backported io.stringio requires unicode string basestring python2 use python3 style print function send byte socket guest instead string decode byte read sys.stdout signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
3619,293102fd5526c556c9a4b8b9b3d9e0d1eaa1b6d2,ifei Tong <zifeitong@gmail.com>, 2014-04-01 15:47:03 +0800, , script leave one manifest manifest file started python 3.2 configparser allow section duplicate reading file default change default behavior cause failing make sure one manifest section tag left generating manifest file reviewed nadav har nyh cloudius systems.com signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
3620,ea1016def642cce262b42a17dabf750b0c53d888,ifei Tong <zifeitong@gmail.com>, 2014-04-01 15:47:02 +0800, , script python3 support script module.py use python3 style print function basestring removed python3 use str instead reduce removed build python3 import functools signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
3621,bac061e40a2d60ee0363a015514f9e6c32147cba,ifei Tong <zifeitong@gmail.com>, 2014-04-01 15:47:01 +0800, , script python3 support script osv module filemap.py dict.iteritems removed form python3 use dict.items build filter function change loop variable name avoid shadow build filter function reviewed nadav har nyh cloudius systems.com signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
3622,f3e678996f8f0a35bf7213bc038fcbfc5f5d1bbf,ifei Tong <zifeitong@gmail.com>, 2014-04-01 15:47:00 +0800, , script python3 support script osv module resolve.py use python3 style print function fix inconsistent use tab space reviewed nadav har nyh cloudius systems.com signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
3623,1c49e9b36dcb79572ec7be73e585d52ab73339cd,ifei Tong <zifeitong@gmail.com>, 2014-04-01 15:46:59 +0800, , script python3 support script imgedit.py use floor division python3 default division float division encode string byte required use python3 style print function signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
3624,9f11f128384247f36eca334f09a6d1ded5a9d8a5,ifei Tong <zifeitong@gmail.com>, 2014-04-01 15:46:58 +0800, , script python3 support script nbd_client.py standard exception build exception module removed python3 use byte instead string since implicitly conversion python3 signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
3625,2c3eeef3441353fc3d028b3b1e2fc5f6ad797e22,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-01 09:33:27 +0200, , gdb use parenthesis print work gdb python3 reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3626,fe129dc1a033b6944bef32c70945f483d18ded29,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-01 09:33:26 +0200, , gdb fix osv pagetable walk gdb.value handled int differently long python2 value int gdb tried fit long signed whereas long tried unisgned long long python3 longer long gdb.value treat python3 int way python2 int relied able put unsigned long number gdb.value seems way python3 workaround use instead gdb.value constructor reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3627,22826833bbe392178c67d6a77a5054f672685233,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-04-01 09:33:25 +0200, , gdb fix osv thread work gdb python3 gdb python2 interpreting long typed value fit long long unsigned long long python3 int function adjusted replicate long behavior throw overflow error value exceeds long range value converted using function example passed gdb.value argument gdb.value used comparison target gdb_value fail overflowerror python int large convert long gdb try fit numeric constant right long python3 workaround convert gdb_value python like  ulong gdb_value reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3628,ca1dd1a2c9f993697e5b2e45da0aca2c47b4791f,adav Har'El <nyh@cloudius-systems.com>, 2014-04-02 13:29:23 +0300, , serial fix input interrupt vmware serial port input working vmware interrupt received turn vmware doe send serial port interrupt irq unless aux output bit mcr register uart enabled many physical also require bit surprising vmware bother check qemu patch turn bit serial port input start work correctly vmware signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3629,2d451866ca45eea5e77df5621ea929f7a1877a9d,vi Kivity <avi@cloudius-systems.com>, 2014-04-02 11:18:21 +0300, , merge branch master github.com cloudius system osv sync master signed avi kivity avi cloudius systems.com,,
3630,37da4e9b549cd5ee5564d651aa1e36a5d20a8809,vi Kivity <avi@cloudius-systems.com>, 2014-04-02 10:47:08 +0300, , merge branch glommer jvmballoon http github.com glommer osv balloon update glauber signed avi kivity avi cloudius systems.com,,
3631,df30ec8d32dac5ad72d71314ab327c48d4e8a054,sias He <asias@cloudius-systems.com>, 2014-04-02 08:53:52 +0800, , build skip rebuild usr.img osv.vmdk osv.vdi target support following work flow make image netperf make osv.vmdk btw rename usr.img osv.qcow2 let release since lot script use hardcoded usr.img naming signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3632,e5fc1f1b7c4743c7ca54262c4515b4f1b1003638,adav Har'El <nyh@cloudius-systems.com>, 2014-03-31 19:17:54 +0300, ," rcu per cpu rcu_defer change following avi review use with_lock migration_lock instead migrate_disable enable make global rcu generation counter static class variable instead static function variable rename next_generation name generation grossly overloaded previously rcu_synchronize use migration_lock sure wake thread added work use thread_handle instead thread safer atomic variable see half set esoteric cpu cleaner need check thread_handle bit overkill performance sensitive area existing rcu_defer used global list deferred work protected global mutex also woke cleanup thread every call decision made rcu_dispose noticably slower regular delete point commit introduced rcu_dispose every poll call saw performance udp memcached call poll every request drop much slowness rcu_defer even apparent artificial benchmark repeatedly call new rcu_dispose one several concurrent thread machine new delete pair take new rcu_dispose single thread cpu take whopping 330 worse thread cpu tight new rcu_dispose loop mutex contention fact free memory wrong cpu excessive context switch bring measurement much 12,000 patch new rcu_dispose number single thread cpu 111 concurrent thread cpu x5.5 x120 speedup patch replaces single list function per cpu list rcu_defer add callback per cpu list without mutex instead single garbage collection thread running callback per cpu rcu thread already one run work deferred cpu list per cpu work particularly effective free work i.e. rcu_dispose faster free memory cpu allocated patch also eliminates single garbage collection thread previous code needed per cpu work queue fixed size currently set 2000 function actually double buffer continue accumulate work cleaning rcu_defer used quickly outpaces cleanup rcu_defer wait buffer longer full choice buffer size tradeoff speed memory larger buffer mean fewer context switch thread rcu_defer rcu thread cleanup also memory temporarily used unfreed object unlike previous code wake cleanup thread every rcu_defer rcu cleanup work frequent still small relative main work application e.g. memcached server rcu cleanup thread would always low runtime meant suffered context switch almost every wakeup thread rcu_defer patch wake cleanup thread buffer becomes full far fewer context switch mean currently rcu_defer may delay cleanup unbounded amount time normally problem namely rcu_synchronize wake thread immediately signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com",,
3633,2271a65b76426e5d8b91ed8a00be56f58ddb779e,vi Kivity <avi@cloudius-systems.com>, 2014-04-02 09:54:31 +0300, , merge branch async http github.com tgrabiec osv net channel merge commit performance tomcat benchmark dropped significantly investigation revealed biggest bottleneck callout subsystem using global mutex protect operation series improves performance replacing use callouts inside tcp stack new framework supposed scale better signed avi kivity avi cloudius systems.com,,
3634,6d68d1ab6ecab3e927b6261f70eb951c3b719589,vi Kivity <avi@cloudius-systems.com>, 2014-04-01 20:24:04 +0300, , revert rcu per cpu rcu_defer reverts commit want migration_lock merged first signed avi kivity avi cloudius systems.com,,
3635,d24cda2c394f94e603eaae7cb6f02edc41c2ff47,adav Har'El <nyh@cloudius-systems.com>, 2014-03-31 19:17:54 +0300, ," rcu per cpu rcu_defer existing rcu_defer used global list deferred work protected global mutex also woke cleanup thread every call decision made rcu_dispose noticably slower regular delete point commit introduced rcu_dispose every poll call saw performance udp memcached call poll every request drop much slowness rcu_defer even apparent artificial benchmark repeatedly call new rcu_dispose one several concurrent thread machine new delete pair take new rcu_dispose single thread cpu take whopping 330 worse thread cpu tight new rcu_dispose loop mutex contention fact free memory wrong cpu excessive context switch bring measurement much 12,000 patch new rcu_dispose number single thread cpu 111 concurrent thread cpu x5.5 x120 speedup patch replaces single list function per cpu list rcu_defer add callback per cpu list without mutex instead single garbage collection thread running callback per cpu rcu thread already one run work deferred cpu list per cpu work particularly effective free work i.e. rcu_dispose faster free memory cpu allocated patch also eliminates single garbage collection thread previous code needed per cpu work queue fixed size currently set 2000 function actually double buffer continue accumulate work cleaning rcu_defer used quickly outpaces cleanup rcu_defer wait buffer longer full choice buffer size tradeoff speed memory larger buffer mean fewer context switch thread rcu_defer rcu thread cleanup also memory temporarily used unfreed object unlike previous code wake cleanup thread every rcu_defer rcu cleanup work frequent still small relative main work application e.g. memcached server rcu cleanup thread would always low runtime meant suffered context switch almost every wakeup thread rcu_defer patch wake cleanup thread buffer becomes full far fewer context switch mean currently rcu_defer may delay cleanup unbounded amount time normally problem namely rcu_synchronize wake thread immediately signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com",,
3636,782de281005a307dc638ca378b559195912a1b9d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-19 14:14:59 +0100, , net replace callouts new async framework callout subsystem using shared global lock operation became bottleneck merging net channel explanation phenomenon net channel merged packet processing receive side done form one virtio thread contention lock merge packet started processed many cpu made taking lock expensive new framework per timer lock worker lock free measurement improvement measurement taken nadav per cpu rcu_defer improvement applied also bottleneck value measured http request response throughput tomcat server reported wrk tool server client different machine vcpus guest memory connection  avg 39272.61 stdev 3611.84  avg 52701.82 stdev 3953.76 improvement 256 connection  avg 35225.19 stdev 2504.27  avg 50576.67 stdev 3533.39 improvement one challenge integrating new framework tcp stack proper teardown timer current code assumed calling callout_cancel safe free timer memory correct timer may already fired try access memory freed tcp stack workaround race timer checked inp field tcpcb block null supposed indicate block freed still perfect though timer may performed check field nulled tcp_discardcb block mutex promptly freed solution went delegate release memory async deferred task executed soon possible safe context wait timer done free memory,,
3637,e70b0276331ec13d0cbe14c48ad7b430dbbe9777,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-31 20:28:35 +0200, , net convert in_pcb lock struct mtx mutex new async api accepts lock type mutex need convert in_pcb lock type used synchronize callback,,
3638,a87583d148b7307770ddf5e2f586a3ef01be2349,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-21 10:38:36 +0100, , net remove dead code,,
3639,d7fa401b4c89f69883201c1f2b8db2998970d863,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-19 13:16:10 +0100, , net add tracepoints inpcb life cycle,,
3640,bd179712d659735b93b8b341807e5a43e543d0ab,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-31 22:00:07 +0200, , core introduce wrapper timer_task used atomicity callback task timer operation required class accepts external lock serialize operation provides sufficient abstraction replace callouts network stack unfortunately requires cooperation callback code see try_fire extract in_pcb lock acquisition callback code tcp stack lock taken _could_ result lock order inversion problem hence deadlock prove safe api could simplified may also worthwhile propagate lock passed timer_task save extra,,
3641,34620ff0339bf42c96cf4d84b027a1e811e3466a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-07 17:21:32 +0100, , core introduce deferred work framework design behind timer_task timer_task design making cancel reschedule scale well number thread cpu system method may called frequently different cpu task scheduled one cpu may rescheduled later another cpu avoid expensive coordination cpu lockfree per cpu worker implemented every cpu worker async_worker task registry thread execute worker state may changed cpu run timer_task rescheduled register percpu part current cpu worker rescheduled another cpu previous registration marked valid new percpu part registered percpu task fire check last registration fire timer_task state scattered across cpu extra housekeeping need done destroyed need make sure percpu task try access timer_task object destroyed ensure walk list registration given timer_task atomically flip state active released succeeds mean task revoked worker try execute fails mean task middle firing need wait finish per cpu task moved released state appended worker queue released percpu task using lockfree mpsc queue object may later reused registration,,
3642,6c8a861d3d5413a6dfda7f0907d0b5813d974a4f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-14 13:02:40 +0100, , sched introduce thread migration lock useful need perform operation per cpu structure need executed cpu code may sleep malloc example used ensure dynamically allocated object always freed cpu allocated with_lock migration_lock auto _owner percpu_owner auto new _owner enqueue ,,
3643,b122a92477201a56c69eeb1562f205c78c5a0fc5,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-14 13:02:00 +0100, , sched add atomic reset operation timer_base needed new async framework,,
3644,a71f8c536ed2f97266a73f67d3f455059dc7584f,lauber Costa <glommer@cloudius-systems.com>, 2014-02-11 13:52:37 +0400, , test add java reclaim test test two thread compete resource one hopefully trigger memory allocation served heap stress filesystem read writes mapping designed test well balloon code work together arc reclaimer three main goal expect osv achieve running test filesystem activity balloon never trigger arc cache reduced minimum java activity balloon much leaving memory available filesystem one trickier code java application purpose eventually stop happening tandem system stabilize reasonable value spend useless cycle switching memory back forth signed glauber costa glommer cloudius systems.com,,
3645,9bbc86fc4f2c24e99a87a74d5c15f2f445c541a3,lauber Costa <glommer@cloudius-systems.com>, 2014-03-28 18:57:05 -0300, , balloon define soft maximum amount one main problem face balloon fact time jvm need memory may late many mechanism place try mitigate trying release memory back jvm actually even notice need yet another soft maximum defined unlike hard maximum osv create many balloon see fit however ever beyond maximum start putting pressure reclaimer order able react quicker pressure build jvm side also limit need release balloon keep releasing back safe zone regardless many asked signed glauber costa glommer cloudius systems.com,,
3646,dad4357f995cab2019596369f32a616add324adf,lauber Costa <glommer@cloudius-systems.com>, 2014-03-29 12:19:54 -0400, , reclaimer hard throttling case throttling try serve memory non aggressive shrinker going particular current waiter may allocating memory behalf balloon instance stack bad idea block may memory soon enough signed glauber costa glommer cloudius systems.com,,
3647,6afa159163948dbb40855a7d1f3d1371efc3959f,lauber Costa <glommer@cloudius-systems.com>, 2014-03-24 15:47:54 -0300, , balloon return memory voluntarily situation jvm allocation rate way high account better also return memory voluntarily memory available memory made available anything reclaimer called might arc cache flushed memory available memory available balloon threshold give back since assume memory available heap eventually consumed fact reclaimer called sign using much kernel memory signed glauber costa glommer cloudius systems.com,,
3648,67b1b23d0a17be92e31c7456c885cdfb905a6dfa,lauber Costa <glommer@cloudius-systems.com>, 2014-03-28 18:46:52 -0300, , zfs give thread access emergency pool issue thread given access emergency pool although would prefer cut write sync one even read one responsible actually carrying setup happens normal codepath way hard differentiate additionally transaction sync thread also given access signed glauber costa glommer cloudius systems.com,,
3649,d4740d80c742a1c9d54f68dc555ec262fb52614d,lauber Costa <glommer@cloudius-systems.com>, 2014-03-28 17:25:34 -0300, , jvm_balloon correctly calculate total heap function totalmemory necessarily give want return total committed memory total memory correct function maxmemory signed glauber costa glommer cloudius systems.com,,
3650,af767977aaf49e31e91b76b3dad16871bf6cd259,lauber Costa <glommer@cloudius-systems.com>, 2014-03-28 12:53:08 -0300, , zfs throttle zfs allocation balloon create new balloon memory soon available however actually create high rate arc user continue fill arc easily lead memory exhaustion blocking allocation balloon created option order balloon need allocate memory source memory quite unpredictable backing heap stack even file object destruction need flush something luckily arc mechanism avoid growing cache function return true free buffer give place new one instead growing natural way making function return true would implement function already generic code would require arc change however would imply would return true well would evict buffer actually put arc aggressive mode especially allocation keep coming solution chosen implement new function arc wrapped ifdef lose track allow communicate throttle new buffer due request case waiting balloon signed glauber costa glommer cloudius systems.com,,
3651,f3799d6ee85ac0f55f884f4cc91fc1f21e80ba22,lauber Costa <glommer@cloudius-systems.com>, 2014-03-26 18:12:14 -0300, , jvm_balloon tracing function let track move creation destruction signed glauber costa glommer cloudius systems.com,,
3652,2266917b0f5c3af6677ba54a4f83a7a6c4404e22,lauber Costa <glommer@cloudius-systems.com>, 2014-03-14 11:20:48 -0300, , osvmonitor change criterion removing balloon signed glauber costa glommer cloudius systems.com,,
3653,66a998258345e363f08a2ac58642f4ec3168be97,lauber Costa <glommer@cloudius-systems.com>, 2014-03-13 12:54:38 -0400, , bsd also use jvm figure kmem_used calculation defined kmem_used total free however name implies field supposed report amount kernel memory used total phys memory granted situation trickier determine running everything together situation lead interesting performance deterioration jvm touch memory heap lead large memory usage even though arc using little arc shrink never chance grow size including jvm_heap figure allow arc better idea happens signed glauber costa glommer cloudius systems.com,,
3654,371987ab75fc18ae2b6d9a72abb3890af5fa5351,lauber Costa <glommer@cloudius-systems.com>, 2014-03-30 17:29:41 +0400, , mmu remove lock guard balloon_fault fault method always called lock held locking slow signed glauber costa glommer cloudius systems.com,,
3655,5c2aba309b88a0f34a3b53d581417acf1baf6e70,lauber Costa <glommer@cloudius-systems.com>, 2014-03-29 11:26:25 -0400, , shrinkers allow soft hard mode shrinkers like arc may become agressive called row waiter relaxed best effort shrinking patch introduce soft mode shrinking future may introduce another threshold smaller minimum hard mode even waiter signed glauber costa glommer cloudius systems.com,,
3656,61205674605d886e7409b38870c28b6251fcdd0a,lauber Costa <glommer@cloudius-systems.com>, 2014-03-29 11:13:37 -0400, , bsd_shrinkers create specialized arc shrinker give freedom apply arc shrinking strategy particularly important given fact arc two mode shrinking aggressive conservative may always want trigger policy change signed glauber costa glommer cloudius systems.com,,
3657,227421fa75c0ea7854324738ea531c153029db21,lauber Costa <glommer@cloudius-systems.com>, 2014-03-29 10:58:25 -0400, , reclaimer wake reclaimer memory used osv current waking criterion wake reclaimer memory overall short really work ballooning enabled situation whole memory likely taken heap mean constantly bellow threshold reclaim every opportunity osv memory usage grow placing memory needed really need keep waking reclaimer memory usage caused osv high balloon policy need call stats jvm_heap return balloon therefore case keep seeing difference signed glauber costa glommer cloudius systems.com,,
3658,e3e03c8c0f3a2a2e0004401203e19a7481c2fca6,lauber Costa <glommer@cloudius-systems.com>, 2014-03-28 12:48:01 -0300, , reclaimer wipe conditionals one reason overly aggressive zfs reclaim reach reclaimer unless take away pressure situation keep reclaiming happens even need extra memory particularly problematic given way zfs reclaimer designed called twice row change mode operation conservative aggressive shrink cache current cache usage since wake reclaimer every time reason believe memory pressure need reclaimer keep looping patch applied reclaimer still called sequentially allocation rate high wake many time left alone signed glauber costa glommer cloudius systems.com,,
3659,585555a90e8e34a65502392b00145a63b7dbbaa9,lauber Costa <glommer@cloudius-systems.com>, 2014-03-28 12:46:05 -0300, , mempool.cc print amount memory available oom consider memory allocation satisfied reach free memory heavily fragmented two situation quite departed never printed amount free memory oom abort could handle format  signed glauber costa glommer cloudius systems.com,,
3660,ba7fc6ca0afc176034f5f31a69ec1d6f54c11392,lauber Costa <glommer@cloudius-systems.com>, 2014-03-24 15:39:19 -0300, , reclaimer add tracepoint waiter useful debugging specially backtrace signed glauber costa glommer cloudius systems.com,,
3661,18a82a55089b2505f0803bce8784dcc2e762da4b,lauber Costa <glommer@cloudius-systems.com>, 2014-03-05 14:16:41 +0400, , mempool transform reclaimer thread normal thread balloon longer synchronous life thread used requirement reclaimer needed full pthread api longer make normal thread signed glauber costa glommer cloudius systems.com,,
3662,923fca361b8e486ccc73b2a3d49dadae1964d2fa,lauber Costa <glommer@cloudius-systems.com>, 2014-04-01 12:06:13 +0400, , balloon fix move self partial copy similar bug already fixed move self normal balloon case also happens partial copy fix early code path last part avoid useless spent cycle reminding move self happens jvm move object address would stupid address close enough old address fall mapping signed glauber costa glommer cloudius systems.com,,
3663,b897053454b79eba7dab376aad03df649babefd9,lauber Costa <glommer@cloudius-systems.com>, 2014-03-26 17:53:27 -0300, , balloon close balloon earlier region intersect instead looking region start address fall iterate vmas affected installing new vma close region earlier design one major big advantage split never happen case balloon becomes lot predictable point blow sanity whole thing signed glauber costa glommer cloudius systems.com,,
3664,0caaff9bc51db08f5ed618473f35c5e2231c8a85,lauber Costa <glommer@cloudius-systems.com>, 2014-03-26 18:47:19 -0300, , jvm_balloon fix braino small logic invertion copy break important always executing loop important execute multiple time signed glauber costa glommer cloudius systems.com,,
3665,045c602a3c385ec9145578e89ee99749dffe7d61,lauber Costa <glommer@cloudius-systems.com>, 2014-03-14 17:10:38 -0300, , balloon use separate thread balloon synchronously ballooning unfortunately work usual garbage collector run order release memory balloon block since make balloon worker synchronous set priority really high number would guarantee java thread run help really fast allocation situation durin notification time thread get run jvm may well exhausted memory remaining notice value guaranteed lower jvm created thread ever get since jvm thread priority set setpriority interface wich yield 0.2 maximum prio,,
3666,b3da98ea6b269e93abe788ed26e95a5622893855,lauber Costa <glommer@cloudius-systems.com>, 2014-02-24 14:05:51 +0200, , balloon longer use recent statistic moving balloon reclaimer path doe really make lot sense signed glauber costa glommer cloudius systems.com,,
3667,797674dc3d888040ad590bc240e51a76724f0bfd,lauber Costa <glommer@cloudius-systems.com>, 2014-03-14 12:03:27 -0300, , mmu return vma size instead evacuated page move towards reservation system actual memory freed matter little return instead size vma passed osv signed glauber costa glommer cloudius systems.com,,
3668,3c716bda31399aa271b11db1b4006fae87971a2a,lauber Costa <glommer@cloudius-systems.com>, 2014-02-24 14:12:42 +0200, , balloon longer make part shrinker infrastructure current ballooning mechanism serious design flaw became obvious test advanced wait memory short release memory may jvm may block particular blocking thread running garbage collector likely start running open space object big balloon believe something fix quick hack pushing redesign solution use reservation system work ballooning beforehand amount reserved memory low system work noting balloon effectively limiting maximum amount memory java ever use already account amount free memory amount memory allocated heap figure easily find amount used memory full heap would amount available memory happens balloon signed glauber costa glommer cloudius systems.com,,
3669,2618f166c5bbd9b745e2f6a19d2344905547fb58,lauber Costa <glommer@cloudius-systems.com>, 2014-03-10 09:01:21 -0700, , zfs add ability control amount reclaimed currently although arc_evict told size reclaim high level reclaimer always aggressive reclaiming parametrized value situation would like reclaim enough make room something case introducing function allow inform zfs size need see evicted cache signed glauber costa glommer cloudius systems.com,,
3670,39d5c1469c72481174518773ff9ec4bff82f1f29,lauber Costa <glommer@cloudius-systems.com>, 2014-04-01 13:17:30 +0400, , map_jvm update balloon object address reuse reusing address might balloon move self scenario might simply another balloon moved address previously another balloon held chance close later case balloon object used compute offset object wrong copy thing unpredictable location need update correctly signed glauber costa glommer cloudius systems.com,,
3671,12f70bf01994892d42069dd3201c66d8166346f9,lauber Costa <glommer@cloudius-systems.com>, 2014-03-14 17:32:00 -0300, , jvm_balloon handle partial writes situation garbage collector copy large object parallel using various thread responsible part object particular easily happens high memory pressure parallel parallelold collector copy happens simple balloon move algorithm break however offset source always copied offset destination still calculate final destination object problem open new balloon yet since jvm belief copying part object destination may usually contain valid object need moved somewhere else install object also close object fully someone writes part object already freed jvm may ahead copy another object location quite tricky problem patch bellow solves keeping source balloon open counting number partial byte copied make assumption jvm need always copy whole object different location meaning doe balloon closed signed glauber costa glommer cloudius systems.com,,
3672,967b5ded9a39e361ce9a896ab76e7df280b109be,lauber Costa <glommer@cloudius-systems.com>, 2014-03-07 11:45:32 +0400, , jvm balloon doe take balloon lock fault lock longer needed past balloon directly put vma besides leading subtle deadlock let say new balloon inserted list need done lock held garbage collection kick time happens move balloon stop lock mean java thread stop waiting finish take single jni call lock taken achieve deadlock particular deleting balloon involves destroying reference enough trigger signed glauber costa glommer cloudius systems.com,,
3673,c10418df5f7aea16921c1f4290b0a96f5b0a50d1,lauber Costa <glommer@cloudius-systems.com>, 2014-02-23 09:59:07 +0200, , jvm_balloon remove probe new method doe rely physical memory accounting probe useless signed glauber costa glommer cloudius systems.com,,
3674,f2d154f61abc4da905a3189a5739928a3769b75d,lauber Costa <glommer@cloudius-systems.com>, 2014-03-13 12:12:39 -0400, , java heuristically determine heap region startup determine mapping jvm heap area robust way flipping flag start jvm creation flipping back finished early robust work better bigger set although heuristic calle agrees safe tested confirmed work following option useserialgc useg1gc useparallelgc  useparnewgc   pretty much cover relevant signed glauber costa glommer cloudius systems.com,,
3675,e93bd6bab6a0001a6df99e424b76ac6ec5002d08,lauber Costa <glommer@cloudius-systems.com>, 2014-03-13 11:00:59 -0400, , jvm_balloon better define boundary balloon right starting jvm maximum amount memory however terribly bad reason reclaim heap allocation easily crash system granted allocation turn done behalf case java thread make progress meaning balloon activated even balloon longer part shrinker infrastructure may still problem may need use deflate memory best solution limit heap usage available memory reclaim criterion also pointless activate balloon low memory condition total memory 1gb leave alone signed glauber costa glommer cloudius systems.com,,
3676,80646cd6d3bfff07321d672cf014f649b01e5342,lauber Costa <glommer@cloudius-systems.com>, 2014-01-15 18:00:05 +0400, , reclaimer implement stronger data structure waking sleeper avi last comment new take reclaimer wake queue doe abuse semaphore way need extend patch applied semaphore extension patch reverted new approach check free memory scalar instead transverse remaining page range notice case fragmentation large set try find range would allow allocation happen also implementing wait post method waking reclaimer happens atomically problem tomek described wake waiter set longer exists finally another advantage approach longer need keep track amount memory freed making oom decision wake someone continue otherwise oom specially helpful shrinkers since may always able synchronously return meaningful number accurately due instance writeback signed glauber costa glommer cloudius systems.com,,
3677,c035ba98593355a5c2ef869519a54dda68c92fcb,lauber Costa <glommer@cloudius-systems.com>, 2014-02-24 14:03:17 +0200, , balloon use shared ptr balloon object old explicit pattern would break vma hold balloon already destroyed use shared pointer avoid complication signed glauber costa glommer cloudius systems.com,,
3678,b079217cae2645d4842dce95a13292e7d9d487be,lauber Costa <glommer@cloudius-systems.com>, 2014-02-20 12:30:26 +0400, , balloon fix move bug working reclaim policy came across unhandled balloon case seem happen certain low memory condition balloon moved address seems weird first perfectly plausible think space balloon almost page size jvm shifting element slightly end ballooned region problem evacuate called first vma still place found call delete jvm fault handler executes also call delete double free patch avoids delete problem actually intricate follow normal path remove newly created address candidate list right insert address also address fall region theoretical evacuate called split region two code handle finish_move would significantly complicated deal fact patch also handle theoretical case making sure whole region always disposed finishing old balloon manually evacuate called using new mmu flag search old vma need identify type vma dealing anonymous ballooned area use extra flag avoid type field anything like  take vma list delete case region would empty could assume ballooned region would also solution copying flag previous vma would fallback default flag set solution marking jvm vma leaving place allows flag information carried signed glauber costa glommer cloudius systems.com,,
3679,aff9eca535d9f3fdbc791d04190566a2a1484f16,lauber Costa <glommer@cloudius-systems.com>, 2014-03-29 10:12:25 -0400, , gdb update flag translation added new mmap_small flag translation need updated taken let signed glauber costa glommer cloudius systems.com,,
3680,44d8450ab9cebc5e5577d50f285efde1b4fc3171,ekka Enberg <penberg@cloudius-systems.com>, 2014-03-31 14:19:03 +0300, , build osv release openjdk osv base image add openjdk osv base image developer want use capstan package run java application signed pekka enberg penberg cloudius systems.com,,
3681,16d13511f379c2c67fe2f9973421a7916abaf291,ekka Enberg <penberg@cloudius-systems.com>, 2014-03-31 11:49:13 +0300, , build osv release osv memcached server add memcached server osv release pushed capstan repository signed pekka enberg penberg cloudius systems.com,,
3682,8192b61a2a5cafb7380150a9db574a5c3465486b,adav Har'El <nyh@cloudius-systems.com>, 2014-04-01 10:02:33 +0300, , x64 fix early halt halt called early smp_launch crash calling processor idt yet set example loader.cc call abort failed parse command line caused crash reported issue 252 patch doe nothing processor yet set normally case smp_launch note single vcpu remain case throughout run fix 252 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3683,fd9d1c747a83f24ef9e1eea58448e63a54413a0b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-31 22:20:26 +0200, , trace fix use undefined symbol run nested trace sample undefined backtrace element signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3684,7427933cf264bc9b39de1d18492442e29fc8e36e,lauber Costa <glommer@cloudius-systems.com>, 2014-04-01 00:10:21 +0400, , gdb add function check waiter useful figure thread waiting signed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com,,
3685,0f48e2ca2372dab6e75602eb9f53d2d665380097,ekka Enberg <penberg@cloudius-systems.com>, 2014-03-31 15:25:26 +0300, , mgmt update latest signed pekka enberg penberg cloudius systems.com,,
3686,1c40ada721332c91a3f005bf8d185d41901aa39a,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-03-28 20:45:35 -0300, , update osv apps submodule signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3687,c4205d2c6648420ae96684a0937094eeca1a5e63,ekka Enberg <penberg@cloudius-systems.com>, 2014-03-28 15:32:10 +0200, , script add script uploading osv release add script uploading osv release capstan bucket using s3cmd sync signed pekka enberg penberg cloudius systems.com signed avi kivity avi cloudius systems.com,,
3688,c44361655e53d62c6fdfea5bf3e134da25c62fa4,ekka Enberg <penberg@cloudius-systems.com>, 2014-03-28 15:32:09 +0200, , script add script building osv release add script building capstan repository osv release following image osv core api cli default api cli cassandra virtual appliance api tomcat virtual appliance api iperf virtual appliance api signed pekka enberg penberg cloudius systems.com signed avi kivity avi cloudius systems.com,,
3689,b1c4335a1fc47627fdaec5d03f722519558d087f,ekka Enberg <penberg@cloudius-systems.com>, 2014-03-28 15:32:08 +0200, , script add script building capstan image add script creating capstan compatible image uploaded bucket distribution use build base image example type script build capstan img cloudius osv base empty osv base image build capstan image named cloudius osv base make image empty place qemu virtualbox image build capstan cloudius osv base together index file signed pekka enberg penberg cloudius systems.com signed avi kivity avi cloudius systems.com,,
3690,b7f9b5d2d96ab9ad67812c311ee43180a66661c0,akuya ASADA <syuu@cloudius-systems.com>, 2014-03-28 04:54:40 +0900, , support vga cursor add cursor update callback libtsm update cursor position register vga device using callback fix 220 signed takuya asada syuu cloudius systems.com signed avi kivity avi cloudius systems.com,,
3691,4b4fa05ed1eddf17a24b6138a0c702daa5940883,mitry Fleytman <dmitry@daynix.com>, 2014-03-23 16:37:00 +0200, , blkfront introduce indirect descriptor support indirect descriptor xen disk newly introduced protocol feature increase block device performance case long transfer detailed description http blog.xen.org index.php 2013 indirect descriptor xen disk measurement result ram backed storage xen indirect descriptor 1046.251 1097.931 1149.672 1137.696 1135.481 1249.163 1115.417 1118.063 wrote 11344.750 10.00 1134.165 xen indirect descriptor bdev write test offset limit 250000000 byte 1234.715 1360.013 1323.663 1336.916 1342.617 1332.882 1302.094 wrote 13233.250 10.04 1318.639 kvm bdev write test offset limit 250000000 byte 674.729 698.736 627.677 630.209 742.977 759.205 681.476 655.717 713.231 688.478 wrote 6872.750 10.00 687.124 signed dmitry fleytman dmitry daynix.com signed avi kivity avi cloudius systems.com,,
3692,6f10005c0c71728738b70d9293c6acb721a611ee,mitry Fleytman <dmitry@daynix.com>, 2014-03-23 16:36:59 +0200, , blkfront isolate command allocation refactoring commit simplify future indirect descriptor code signed dmitry fleytman dmitry daynix.com signed avi kivity avi cloudius systems.com,,
3693,1bf389c692b15df67dd6897ae66011e48fbdbef1,mitry Fleytman <dmitry@daynix.com>, 2014-03-23 16:36:58 +0200, , blkfront isolate command data grant reference aquisition refactoring commit simplify future indirect descriptor code signed dmitry fleytman dmitry daynix.com signed avi kivity avi cloudius systems.com,,
3694,7e7796ecb429ca46c4cbf3fd9fe3d9c110e1c5aa,mitry Fleytman <dmitry@daynix.com>, 2014-03-23 16:36:57 +0200, , blkfront introduce function device feature detection refactoring commit isolated xenstore access logic make reusable signed dmitry fleytman dmitry daynix.com signed avi kivity avi cloudius systems.com,,
3695,96a9ebcbfbc9210b2205f96cfe2f0152c5db7e36,mitry Fleytman <dmitry@daynix.com>, 2014-03-23 16:36:56 +0200, , test introduce write read verify test test misc bdev introduced test writes buffer various length block device read data back verifies data read data written signed dmitry fleytman dmitry daynix.com signed avi kivity avi cloudius systems.com,,
3696,08b04e4a6ed2d6efd12be085867dc06d974d07ce,mitry Fleytman <dmitry@daynix.com>, 2014-03-23 16:36:55 +0200, , test test various buffer size misc bdev write test xen block driver support new featute called indirect descriptor feature allows put data ring cell activates long read writes longer page patch test default run scenarious page buffer page buffer also introduced command line parameter specify size buffer explicitly signed dmitry fleytman dmitry daynix.com signed avi kivity avi cloudius systems.com,,
3697,1e6cd8f71e934087f68d11fc622ea1d26710947e,ifei Tong <zifeitong@gmail.com>, 2014-03-28 16:20:14 +0800, , script python3 support script silentant.py add explicit conversion form byte array string returned  use python3 style print function signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
3698,ff9cb6103761d360e0149ca7f23717d3e29c29bb,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-03-26 17:59:55 -0300, , mkfs switch newly created zfs device driver remove embedded driver start using one driver sub system still relies manual creation etc mnttab upload manifest yet processed reviewed nadav har nyh cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3699,ff3534e27e59bd06cc0c1c434b609cc923a309d0,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-03-26 17:59:54 -0300, , driver add zfs device allow use zfs command previously zfs device provided allow use command needed create zpool file system time quite enough however making zfs device i.e dev zfs part every osv instance would allow use command help analysing debugging tuning zpool file system contained basic explanation command use libzfs turn relies dev zfs communicate zfs code command example zpool zfs zdb latter one ported osv yet patch also helpful ongoing ztest porting reviewed nadav har nyh cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3700,8078bc20b4d0b94a18157addc2647a5bc1e69b0c,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-03-26 17:59:53 -0300, , manifest add etc mnttab upload manifest process etc mnttab required libzfs get running properly let create empty file ryao zfsonlinux openzfs told empty etc mnttab used linux also reading libzfs code show etc mnttab mostly used management file nothing would prevent libzfs functionality working reviewed nadav har nyh cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3701,7f6529e745ee2b438b749249ee41317e58e0cb4a,ekka Enberg <penberg@cloudius-systems.com>, 2014-03-27 19:30:16 +0200, , script test.py blacklist tst dns resolver.so tst dns resolver.so fails spuriously blacklist problem fixed keep jenkin build running signed pekka enberg penberg cloudius systems.com,,
3702,12d1df73b60213753671de806de3c90d487f872b,ekka Enberg <penberg@cloudius-systems.com>, 2014-03-27 19:19:37 +0200, , merge branch glommer zfsbuffers github.com glommer osv,,
3703,8e31549c3aa65b8f7c67d6770d60f1cff7c768dd,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-03-25 03:07:12 -0300, , cpiod.so unmount file system mounted mkfs phase root dataset zfs mounted mkfs phase unmounted aftwards running mkfs verbose flag enabled show following running mkfs ... vfs mounting zfs zfs zfs mounting osv device osv vfs mounting zfs zfs zfs zfs mounting osv zfs device osv zfs first mount happens issuing zpool create zfs osv dev vblk0.1 ret creates pool called osv mount root dataset zfs latter mount happens issuing zfs create osv zfs creates file system called zfs pool osv automatically mount root dataset mountpoint data inconsistency problem seen mkfs.so cpiod.so explicit sync end thus ensuring everything correctly flushed stable storage expression dutch say prevention better cure thus patch change cpiod.so unmount mount point zfs zfs prefix passed done mkfs.so cpiod.so called afterwards osv instance signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3704,1563c9166909d8f635f73a5a82f1c96ea45a60e4,ifei Tong <zifeitong@gmail.com>, 2014-03-26 19:03:12 +0800, , script make script test.py support python3 python3 longer allow implicitly conversion form byte string add explicit decode convert input byte tested python2 python3 reviewed nadav har nyh cloudius systems.com signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
3705,063a8a56177a1bad4169693e0acc974e1923300f,lauber Costa <glommer@cloudius-systems.com>, 2014-03-25 17:36:52 -0300, , zfsbuffers reference count arc buffer gleb noticed arc buffer unshared early happen call unmap operation every put certainly want since buffer unshared last reference gone design decision obviously use arc natural reference count since bumping would make buffer unevictable could modify arc_buf structure add another refcnt minimum byte however trying keep core zfs modification minimum place totally unavoidable therefore solution add another hash hash whole buffer instead physaddr like one currently term memory usage add byte per buffer 128k buffer make memory usage 64k per mapped compared arc refcount solution good trade also avoiding adding new vop_map unmap style operation query buffer address file attribute needed put side instead conventioning empty iovec mean query filled iov mean unshare signed glauber costa glommer cloudius systems.com,,
3706,7c8d7415ea0f5103cf2bf30ab29cdecc42e6250a,ifei Tong <zifeitong@gmail.com>, 2014-03-27 14:45:38 +0800, , core fix misbehaving debugf debugf used write log message respect length format string cause message wrongly truncated also change confusing variable name exchange fmt msg reviewed nadav har nyh cloudius systems.com signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
3707,fd233dd753a7ef74ebc9323b4a0d8e4221f52273,lauber Costa <glommer@cloudius-systems.com>, 2014-03-25 17:28:41 -0300, , zfsbuffers kill bogus variable spotted code review gleg spotted one improper use another case iterate nothing always uninitialized begin code work set luck signed glauber costa glommer cloudius systems.com,,
3708,28186c2994f52a3fa3279b12ef45c125934a84f6,lauber Costa <glommer@cloudius-systems.com>, 2014-03-25 14:56:30 -0300, , test improve zfs shared buffer test seen bug mmap shared file handling small file patch test corner scenario find problem signed glauber costa glommer cloudius systems.com,,
3709,d3ed5bef275067d199744aba0dc38f4a6b784609,lauber Costa <glommer@cloudius-systems.com>, 2014-03-25 14:55:22 -0300, , zfsbuffers truncate file problem way zfs currently handle buffer actually limitation allocator buffer smaller page page aligned even ask therefore buffer mapping fall category map wrong location way solved problem stupid retrospect even believe file would run size would truncate file obviously wrong reading file expected change size circumstance anybody relied actual size crashing something bug plagued cassandra truncating however brings back original problem one solution considered always allocate least page data allocation leaving metadata alone would deviate zfs harm many small file workload however testing noticed though zfs allocate small buffer file small mean avoid using special shared mapping small file make sense anyway instance file 128k 1byte remember 128k zfs maximum buffer size buffer large enough aligned ever fails hold see assertion hit instead random bug time fix allocator provide alignment guarantee signed glauber costa glommer cloudius systems.com,,
3710,054997f5b7b6cf3028ca91870683b6fe43578dae,leb Natapov <gleb@cloudius-systems.com>, 2014-03-26 18:24:00 +0200, , mmu fix mapping arc buffer tracked currently mapping keyed arc buffer start mapping added remove pointer arc buffer used remove may leave longer valid mapping database patch fix using pointer arc key pointer used removal signed gleb natapov gleb cloudius systems.com signed glauber costa glommer cloudius systems.com,,
3711,2d8eefd7c5f5cba34bcf13fdcb8bdcd376f6ed8a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-26 09:38:27 +0100, , trace pas option always used without flag output smaller screen output shown reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3712,a5129a99a6cc1a72295db1e5d7b9332875c45092,ekka Enberg <penberg@cloudius-systems.com>, 2014-03-26 11:00:25 +0200, , mgmt update latest signed pekka enberg penberg cloudius systems.com,,
3713,e49ef8970619efe02456a2732319b8cbc3f232ed,adav Har'El <nyh@cloudius-systems.com>, 2014-03-26 09:51:58 +0200, , build forgiving missing newlines manifest running make image mgmt iperf failed last line apps iperf usr.manifest newline copied without newline caused stuck together first line mgmt manifest fix explicitly adding newline character line add generated manifest file whether original manifest one reviewed tomasz grabiec tgrabiec gmail.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3714,b5eb9f12e9bade53e3bef122ca2589fcc9839578,sias He <asias@cloudius-systems.com>, 2014-03-26 09:39:53 +0800, , script gen vmx.sh reduce virtualhw version esxi 5.5 edit vmx file reducing work esxi signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3715,33e518ee8ffde3154cd275aeb80337a7d212eec3,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-24 16:07:49 +0100, , sched change timer state inside atomic context timer_base thread agnostic interface per cpu timer current code prone race condition involving set cancel latter may attempt remove timer inserted timer tree found code inspection reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3716,df126759d3dcd944a849f4412719a953fe6a5d8f,mnon Heiman <amnon@cloudius-systems.com>, 2014-03-24 22:38:41 +0200,39, http server change swagger gui instead patch mgmt repository address http github.com cloudius system mgmt issue connecting http server common connect gui http 192.168.122.89 8000 support rule match moved last rule lowest priority mapped anything i.e empty string rule added match index.html root signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3717,901e67bc0a39ff72195d74b643ce30560bc335a3,adav Har'El <nyh@cloudius-systems.com>, 2014-03-11 18:46:21 +0200, , __sysv_signal implement __sysv_signal used code using signal compiled _xopen_source std ... something similar see signal manual page full discussion two variant signal fix 238 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3718,88dfa52e48532594996ee1120e615b32809d703c,adav Har'El <nyh@cloudius-systems.com>, 2014-03-11 18:44:10 +0200, , signal using sigaction instead duplicating sigaction code let use signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3719,86927e2df644711a6fb61cc572d7c65dd7e38b82,adav Har'El <nyh@cloudius-systems.com>, 2014-03-11 18:42:00 +0200, , sigaction error checking add signal number verification sigaction also add fixme comment support mode sa_flags signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3720,41ed70e935d6df18d3f478cb3bf74f8b5c64979b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-25 12:07:47 +0100, , httpserver add missing stub java_api is_valid needed build host version signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3721,e81acc440d0f2a5d40f5a43b6d3996b1f0a73ba8,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-03-24 20:44:24 -0300, , script print number thread osv info thread last thread might mislead people thinking number thread osv let simply print thread already printed reviewed nadav har nyh cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3722,229020d2f3d6e5179fbfdfd90ba0af049c23189f,adav Har'El <nyh@cloudius-systems.com>, 2014-03-24 21:46:37 +0200, , tst kill fix crash tst kill run various signal handler run separate thread test completes may unlucky enough last signal handler still running point module memory unmapped e.g. test.py test unmapped end get page fault crash patch sleep second end tst kill make sure signal handler completed sleep bit ugly think cleaner way posix provides way check running handler like add new api test fix 249 reviewed raphael carvalho raphaelsc cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3723,10455c5bcc8996fdf044c257f6c46c1f71c38f01,lauber Costa <glommer@cloudius-systems.com>, 2014-03-24 12:13:38 -0300, , bsd set smaller default stack bsd thread thread created bsd porting kthread interface thread used kernel thread bsd mean expected use stack although idea default stack size bsd linux thing need little importantly thread whose memory usage control could fix heavy offender without problem say anything start 64k way way much proposing lower get 16k even still quite conservative measuring memory mount zfs currently heaviest user save around 7mb patch pass make check except tst kill broken afaict misc stress reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3724,a69b2d2da003fec48546fcfd10de9a0d6bc52536,akuya ASADA <syuu@cloudius-systems.com>, 2014-03-25 12:33:09 +0900, , support make osv.vmdk without make add dependent target osv.vmdk .vdi prevent build error signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3725,c9c94f51e255042f9a9af6f250b55c53e4afef3f,sias He <asias@cloudius-systems.com>, 2014-03-24 21:57:47 +0800, , loader print osv version info correctly vbox vmw version info printed correctly fix print console initialized reviewed nadav har nyh cloudius systems.com signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3726,97414db013e8ab3a701eae8f54034f04b4c95f23,ekka Enberg <penberg@cloudius-systems.com>, 2014-03-25 09:54:07 +0200, , mgmt update latest signed pekka enberg penberg cloudius systems.com,,
3727,07bb6565985eb3d3d81d1d045388fb4098ed0ef0,ekka Enberg <penberg@cloudius-systems.com>, 2014-03-25 09:52:25 +0200, , merge github.com amnonh osv,,
3728,2e74fbbc1b7b7825214cb28f366c589f8eb26838,angbicheng <wangbicheng@huawei.com>, 2014-03-24 10:38:44 +0800, , balloon fix jni detach request_memory request_memory function early exit condition forgot call _detach fix attaching later function ensures eventually detach signed wangbicheng wangbicheng huawei.com signed pekka enberg penberg cloudius systems.com,,
3729,678e297fc016f7a7cf292d56c3aece4c05a97df0,adav Har'El <nyh@cloudius-systems.com>, 2014-03-24 14:48:19 +0200, , networking remove double socket unlock sogeneric_send one error case unlocks socket goto release unlocks socket resulting assertion failure unlocking unlocked mutex crash patch remove extra unlock fix 248 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3730,0ec685439bcfd2c5e0d1790deb2b16783b4a059c,sias He <asias@cloudius-systems.com>, 2014-03-24 15:11:43 +0800, , script gen vbox ova.sh add vga option vdi image generate osv.vdi image make osv.vdi makefile target convert image vdi well add vga option reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3731,6b72a23dad5eb4d861d3aa2e33e5f8a38714016b,akuya ASADA <syuu@cloudius-systems.com>, 2014-03-24 15:11:42 +0800, , support vmdk vdi format add osv.vmdk osv.vdi target makefile signed takuya asada syuu cloudius systems.com signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3732,1fa1a602857cdb131680b799968ac0b1d7e2c572,akuya ASADA <syuu@cloudius-systems.com>, 2014-03-24 21:31:11 +0900, , add vmxnet3 argument run.py signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3733,7a78ad846a5607f07a9deea94ab9d68554840222,akuya ASADA <syuu@cloudius-systems.com>, 2014-03-24 21:31:10 +0900, , add vmxnet3 driver signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3734,c230c9397a6dd46d39693e518146901013d655c9,akuya ASADA <syuu@cloudius-systems.com>, 2014-03-24 21:31:09 +0900, , mempool contiguous physical memory holder class signed takuya asada syuu cloudius systems.com penberg fix formatting signed pekka enberg penberg cloudius systems.com,,
3735,fc1d36c5dad473e048af575326a4fd97852aafe5,leb Natapov <gleb@cloudius-systems.com>, 2014-03-17 10:36:50 +0200, , sched add assert capture rescheduling attempt nested exception rescheduling nested exception supported since nested exception stack per cpu without assert reschedule cause stack corruption hard debug reviewed nadav har nyh cloudius systems.com signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3736,66dccdd7966a6a4df945af81c8702a6c1cd2e1f7,sias He <asias@cloudius-systems.com>, 2014-03-24 11:28:16 +0800, , ahci use cmd slot ahci cmd slot issue cmd first slot used currently make queue depth patch cmd slot make cmd completion async queue depth test test misc bdev write.so vbox show improvement 10mb 20mb 1000 round test misc bdev rw.so test passed vbox qemu signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3737,4dbb2044cbd0fb0a2172823b98c87bc2091c3799,sias He <asias@cloudius-systems.com>, 2014-03-24 11:28:15 +0800, , ahci assert data buffer address assert make sure data buffer address satisfies ahci spec data alignment requirement signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3738,403bbebe33daa8b62e9d24fffa6bfa435245d3c1,sias He <asias@cloudius-systems.com>, 2014-03-24 11:28:14 +0800, , ahci align cmd_table table 128 byte address ahci spec 4.2.2 command list structure say command table descriptor base address must aligned 128 byte cache line indicated bit reserved cmd_table allocated one linear space size cmd_table 144 byte larger 128 byte pad cmd_table 256 bye signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3739,e11552ce0632886e8aa018d202d917cff408d379,sias He <asias@cloudius-systems.com>, 2014-03-24 11:28:13 +0800, , ahci limit max size bio request one prdt entry contain 4mb buffer currently use one prdt per ahci cmd limit size bio request respect larger bio split smaller bios signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3740,0e12a9187d93c44d5899d1533d9711ec32adb0cf,adav Har'El <nyh@cloudius-systems.com>, 2014-03-23 15:56:29 +0200, , libc add scandir musl add missing scandir function musl 1.0.0. fix 237 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3741,3e3d22d99e8951fd23f4f94bbcc78302d829c024,sias He <asias@cloudius-systems.com>, 2014-03-24 15:54:05 +0800, , driver make block device init silent default print disk probe information like virtio scsi add scsi device target lun vblk0 devsize 10842275840 disable default verbose option make info available useful debug reported pekka enberg penberg cloudius systems.com signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3742,a520111ba0a7836279609d0d529c7de0a6d911a1,mnon Heiman <amnon@cloudius-systems.com>, 2014-03-10 23:51:24 +0200, , http server add file init main.cc main need call file init support file api functionality signed amnon heiman amnon cloudius systems.com,,
3743,6d594fd3fbb44ffb3c061007d9c4a811672a0ee0,mnon Heiman <amnon@cloudius-systems.com>, 2014-03-11 17:21:17 +0200, , http server adding file api implementation supported operation series uploading delete get file simplest way testing via swagger gui file part use post upload file note path parameter swagger contains destination file name need leading slash place file chosen name 2.png tmp directory path tmp 2.png get file use open get operation delete file use delete delete operation signed amnon heiman amnon cloudius systems.com,,
3744,94c4464c9674a7db3be452f445f87bc986de6ba1,mnon Heiman <amnon@cloudius-systems.com>, 2014-03-10 23:44:01 +0200, , http server add bad parameter exception file api requires mandatory parameter support general bad parameter exception added signed amnon heiman amnon cloudius systems.com,,
3745,cffd89b80a36d10f5c6ad6cca4f5011700a9aaee,mnon Heiman <amnon@cloudius-systems.com>, 2014-03-11 02:18:00 +0200, , http server read multi part message file uploading done multi part message connection object reading message header request parser check message multi part message multi part parser read file save temporary file call handler free use temporary file copy done temporary file deleted signed amnon heiman amnon cloudius systems.com,,
3746,16164e56dd5a659cb4be6fcf99e31f0b12e5012c,mnon Heiman <amnon@cloudius-systems.com>, 2014-03-11 02:12:04 +0200, , http server add method check multi part message connection object parse message header identify multi part message update request set boundry multipart parser signed amnon heiman amnon cloudius systems.com,,
3747,d0a0b097e98674d63ea7e9b5785ae16da292a49e,mnon Heiman <amnon@cloudius-systems.com>, 2014-03-11 02:17:26 +0200, , http server add multi part parser connection object file upload based multi part request support multi part parser added internal state machine create temporary file data temporary file name support file placed fully partially header message logic good bad indeterminate request parser parser state machine state look message boundry look content disposition header look closing empty line read write temporary file done successful completion safe call parse method would always return good result would nothing signed amnon heiman amnon cloudius systems.com,,
3748,8f3c2e83165c0254157ada8c2be218127c0011da,mnon Heiman <amnon@cloudius-systems.com>, 2014-03-06 03:02:17 +0200, , http server add multi part field request file upload support server need support multi part request request object hold indication multipart message signed amnon heiman amnon cloudius systems.com,,
3749,a4e0b2cae7c46c5bafdcf9505371997c14023383,mnon Heiman <amnon@cloudius-systems.com>, 2014-03-11 02:05:27 +0200, , http server add helper read string function connection reading multi part content need read string header buffer helper function read byte buffer creates string remove final signed amnon heiman amnon cloudius systems.com,,
3750,f96607db24fa994a3e98d3f15d26ee55fb3f73ca,mnon Heiman <amnon@cloudius-systems.com>, 2014-03-11 01:58:29 +0200, , http server add message handling exception connection reading multi part content problem handling message like header message erroneous problem writing file exception thrown signed amnon heiman amnon cloudius systems.com,,
3751,01bc5998985f2ebfe87720650fc65998832d84bf,mnon Heiman <amnon@cloudius-systems.com>, 2014-03-07 19:42:55 +0200, , http server use typedef connection.hh multi part support need create iterator buffer based buffer type simplify buffer type define typedef signed amnon heiman amnon cloudius systems.com,,
3752,f12f38d5f2167e360f01a655e612c9ce8e8dccac,mnon Heiman <amnon@cloudius-systems.com>, 2014-03-07 19:37:50 +0200, , http server support put delete http command file api put delete support common helper function need parse route need store rule put delete remove magic number route object enum hold size signed amnon heiman amnon cloudius systems.com,,
3753,4f6490e63751a2babf4226778afd8d398530067d,mnon Heiman <amnon@cloudius-systems.com>, 2014-03-03 02:57:50 +0200, , http server add put delete operation file.json api put delete operation need added common.hh definition auto generated code compiled signed amnon heiman amnon cloudius systems.com,,
3754,ffbc579154802d49d5d2670d5046e29101e51196,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-19 17:03:20 +0200, , http server add stub java_api java_api java front end part osv code standalone application keep working need stub locally signed amnon heiman amnon cloudius systems.com,,
3755,25f02b161cd89fbe275da78c1c4ac1b1649b8a92,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-19 17:01:15 +0200, , http server add jvm init main main need call jvm init signed amnon heiman amnon cloudius systems.com,,
3756,2b99b45439fd2ff490a9d3fdbd1eb47168dc0f23,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-19 16:51:42 +0200, , http server add jvm implementation add implementation jvm.json supported operation  jvm version get jvm version jvm memory get get garbage collection information jvm memory post force garbage collection jvm jmx mbean get mbean information jvm jmx get list mbean system jvm jmx mbean attribute post set attribute mbean signed amnon heiman amnon cloudius systems.com,,
3757,d6d2bb1157a1ecb1bbf451ebc7c5cf7c29dba7a3,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-19 16:55:54 +0200, , http server add java directory include list jvm implementation depends include file java directory directory added makefile signed amnon heiman amnon cloudius systems.com,,
3758,9d534a760116e605f25bfb929f192248b785ef6f,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-19 16:11:20 +0200, , http server route dispatching need support get post jvm api implementation api url differ http type get post support route need handle matching rule http type rule array vector support multiple command currently get post supported request matched matching rule entry array picked according http command signed amnon heiman amnon cloudius systems.com,,
3759,fc85fa84b96768221aa54972c99f2be46223aa98,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-19 15:48:06 +0200, , http server support query parameter jvm api implementation requires query parameter support support request handler parse url decode find contains query parameter add parameter request request handler need get request reference const reference parameter parsing need done url decode signed amnon heiman amnon cloudius systems.com,,
3760,3083aeb34a73f10d780c350d921f7e6043622998,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-20 18:43:03 +0200, , http server add found exception handler sometimes required handler return 404 example handler interact jvm return 404 jvm available support handler throw not_found exception caught route response return 404 request addition set_header method change handler use return status different signed amnon heiman amnon cloudius systems.com,,
3761,8d5b0737e3f3f829871345807d6cc2fcd0022b47,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-20 17:25:47 +0200, , http server fix comment format handler.hh comment wrong astyle applied file signed amnon heiman amnon cloudius systems.com,,
3762,fa96199a8c4bdfc636162f92c4157fec9ed87d6d,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-20 17:00:54 +0200, , http server add query parameter request structure request structure support query parameter vector hold search function look signed amnon heiman amnon cloudius systems.com,,
3763,7af41a14db147cef9967541a3a90c34e5b5ce8de,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-19 15:41:44 +0200, , http server adding copy constructor generated code sometimes generated json object need copied construct code generation script add copy constructor signed amnon heiman amnon cloudius systems.com,,
3764,b256d05f3cf747929c80b0f3619ac175020c7f75,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-19 15:33:34 +0200, , http server fix error comma json parsing testing jvm implementation error find position comma parsed json object signed amnon heiman amnon cloudius systems.com,,
3765,30da3fafaa9753f095256cf7a693dac29505ed2a,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-19 15:27:11 +0200, , http server remove copy constructor assignment json base implementation jvm api used list json object cause sometimes json object copied construct support json object copying base copy constructor doe need anything copying done inherit class enforce copy constructor assignment operator deleted json base class logic copying object added code generation signed amnon heiman amnon cloudius systems.com,,
3766,00389f1638e3ee690cf212dd9b211fa3b68f3f7f,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-19 15:24:54 +0200, , http server fix bug initilization bufferbuilder way buffer builder initilized first character ignored signed amnon heiman amnon cloudius systems.com,,
3767,9075bff752b15a3b14213b61a81bd21ba59bde03,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-19 15:22:04 +0200, , http server missing class method decleration class name missing method decleration would cause symobol found error tried use signed amnon heiman amnon cloudius systems.com,,
3768,10a587717cf017f9720c1e10badacf4e06ed5d1e,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-19 14:52:24 +0200, , build.mk add java_api compilation packaging java_api.cc helper class api use get information java need compiled added image signed amnon heiman amnon cloudius systems.com,,
3769,2003b2621ac6092a5efade4d1ff1cdab6cab36d2,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-19 14:24:54 +0200, , java set javavm java_api java_api used api jni connect running jvm need javavm pointer get able connect jvm javavm set jvm created signed amnon heiman amnon cloudius systems.com,,
3770,5b38fb67511a54da3175df591ba9e552de973282,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-19 15:13:49 +0200, , java add interface java api api requires retrieve modify information jvm simplify java_api used front end java backed java class javainfo act front end java signed amnon heiman amnon cloudius systems.com,,
3771,5365a0d145b6fdabd78ae210db96abfc39584fe6,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-19 15:06:40 +0200, , java adding javaino class javainfo simplify getting information java return via jni api set simple front end internal java information currently support get set mbean information get garbage collection information system property signed amnon heiman amnon cloudius systems.com,,
3772,30746a8b866598513f67855f5082ba11ff85f54f,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-19 15:01:26 +0200, , java javainfo garbage collection information helper class hold garbage collection information simplified getting data side signed amnon heiman amnon cloudius systems.com,,
3773,c207b9e448d1f41902f6aa2b4cb59eb86a2f309f,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-20 14:57:26 +0200, , java json generator add helper class json generator javainfo class retrieve information java pas information json format helper class add static method create json formatted string signed amnon heiman amnon cloudius systems.com,,
3774,d7c871f398d3609dfba9f827a2960142dfcb32b7,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-19 15:02:53 +0200, , java add helper class create json like list helper class used needed create array object json like format signed amnon heiman amnon cloudius systems.com,,
3775,b0cf5d7636210843fddda5d360450858bab2182c,lauber Costa <glommer@cloudius-systems.com>, 2014-03-07 16:40:44 +0400, , test test larger memory mmaps create file disk twice large memory map entirely memory file read using different sequential pattern later threaded pattern test doe handle writes misc take long time run especially random pattern example output total ram 586 write done double pas 13.6323 usec page recency 3.35954 usec page random access 640.926 usec page threaded pas address ended threaded pas many address ended passed signed glauber costa glommer cloudius systems.com,,
3776,a6e826b43c3bc6d858ac379d2ef4a24198f09753,lauber Costa <glommer@cloudius-systems.com>, 2014-03-20 17:20:06 -0300, , mmu handle page sized map buffer mapping gleb noticed problem buffer mapping logic would make unrelated mapping would adjacent file mapping invalidated well invalidated area large buffer mapping would instance end middle buffer would keep invalidated adjacent region solution change code handle per page per buffer mapping would likely need something like anyway cow map let start handling signed glauber costa glommer cloudius systems.com,,
3777,a17309e248fded086249e3c25728fe8bf35fe040,lauber Costa <glommer@cloudius-systems.com>, 2014-03-10 15:54:23 -0700, , mmu handle multiple mapping file case supposed utterly common handle anyway implementation slightly naive okay number mapping small revisit number start growing much signed glauber costa glommer cloudius systems.com,,
3778,a4e9cc32b41d2e80fa1092f2a2a26a27be054bad,lauber Costa <glommer@cloudius-systems.com>, 2014-03-03 21:56:53 +0400, , mmu map underlying file directly filesystem page cache signed glauber costa glommer cloudius systems.com,,
3779,7aac5e10666ce9562fec83a2e4a414cd9799d60b,lauber Costa <glommer@cloudius-systems.com>, 2014-03-20 12:12:29 -0300, , mmu call set unconditionally historically call vma set non fixed mapping reason fixed mapping already know set address putting map however operation tagging along vma set better call unconditionally signed glauber costa glommer cloudius systems.com,,
3780,36eea36680f92b934944e72bd1b47cb3d2a17714,lauber Costa <glommer@cloudius-systems.com>, 2014-03-19 15:39:07 -0300, , mmu avoid naked _range update vma class method update range use split instead naked coding particularly important want tag operation along range update signed glauber costa glommer cloudius systems.com,,
3781,3c77122fbe67a813e5fce516914ded90bcbeb702,lauber Costa <glommer@cloudius-systems.com>, 2014-03-19 09:54:25 -0300, , map_file expand parameter get_page put_page better deal shared buffer expand interface get_page put_page three change needed first start virtual address passed together offset used uniquely identify virtual address mapped used manage mapping list regarding offset need also pas file offset downwards one specified mapping reading file pointer enough user asked change map lifetime also separate parameter mapping offset summed together otherwise would make impossible mapping function differentiate two concept also put_page called free operation doe receive actuall address knowing physical address important shut mapping list signed glauber costa glommer cloudius systems.com,,
3782,e2a6a2bdd445422225333748317712253bf820b1,lauber Costa <glommer@cloudius-systems.com>, 2014-03-03 16:45:02 +0400, , zfs posix map unmap function provide map unmap function map directly arc cache boilerplate code inspired read function decided leave separate avoid complicating original function signed glauber costa glommer cloudius systems.com,,
3783,23800c52f3a74782a008a6f911b444014cb6a696,lauber Costa <glommer@cloudius-systems.com>, 2014-03-03 16:34:18 +0400, , vfs allow mapping operation require filesystems implement return enosys signed glauber costa glommer cloudius systems.com,,
3784,43ba32f17656b62780f5d6401978292cbbe3f30b,lauber Costa <glommer@cloudius-systems.com>, 2014-03-03 15:56:08 +0400, , zfs provide dmu mapping function allow read dmu arc backed buffer acquire pointer instead copying somewhere else function mapping unmapping depending last parameter signed glauber costa glommer cloudius systems.com,,
3785,64889277bc3c36dde9f8168642b85f37b5cd8f46,lauber Costa <glommer@cloudius-systems.com>, 2014-03-03 16:51:30 +0400, , uio super structure around uio using name solaris code expect first field uio rest something use specialized function signed glauber costa glommer cloudius systems.com,,
3786,b271236c068e3c6653837813e4f14a654dc195d9,lauber Costa <glommer@cloudius-systems.com>, 2014-03-20 18:19:03 -0300, , mmu force shared mapping use small page underlying filesystem able back huge page force small signed glauber costa glommer cloudius systems.com,,
3787,b60aa1fce532a99d61dc3562920c8b56c3b5b2d4,lauber Costa <glommer@cloudius-systems.com>, 2014-03-03 15:45:31 +0400, , mmu page class avoid overloading change_perm meaning taking advantage nice template based page walker patch creates another walker unmap range page marking non present signed glauber costa glommer cloudius systems.com,,
3788,a0baef6c492944cf3bc3acebc688f88f90454d0c,lauber Costa <glommer@cloudius-systems.com>, 2014-03-03 15:29:43 +0400, , arc unmap shared buffer evicted come together placeholder mmu side get warning actual functionality yet implemented signed glauber costa glommer cloudius systems.com,,
3789,15aa342e173da714918ac0acc23f95360561d8a2,lauber Costa <glommer@cloudius-systems.com>, 2014-03-03 15:19:22 +0400, , arc mark arc buffer shared new private flag added mark buffer shared zfs page cache indicates evicting buffer zfs take action right action taken besides clearing flag signed glauber costa glommer cloudius systems.com,,
3790,4afc2d321c9f58ae0cc3366b16cd0d047c199012,leb Natapov <gleb@cloudius-systems.com>, 2014-03-20 17:09:31 +0200, , mmu introduce mmap_small flag flag set vma backed small page signed gleb natapov gleb cloudius systems.com reviewed glauber costa glommer cloudius systems.com,,
3791,b42e5b4b32482fe96516861b1af1b45521f8a0ff,ekka Enberg <penberg@cloudius-systems.com>, 2014-03-21 11:17:06 +0200, , mgmt update latest signed pekka enberg penberg cloudius systems.com,,
3792,15dfac35986cfbab3899b882a75354cea7266463,adav Har'El <nyh@cloudius-systems.com>, 2014-03-12 13:14:34 +0200, , signal handling support sa_resethand add support sa_resethand signal handler flag mean signal handler reset default one handling signal admit useful feature default handler powering system ... reason support signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3793,80c94e43ac2c5cf2e63ae1a159d19db7bf1b17e2,akuya ASADA <syuu@cloudius-systems.com>, 2014-03-10 21:24:26 +0900, , libc function availability checker shared library script list missing libc function called shared library usage script check libcfunc avail.sh release apps memcached memcached.so signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3794,67adcb00bafa69473cf4f400eca34deb4aed10d6,zach Livyatan <tzach@cloudius-systems.com>, 2014-03-19 16:02:04 +0200, , use git submodule update init recursive case nested submodules like swagger inside mgmt inside osv recursive update submodules way signed tzach livyatan tzach cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3795,dd61c5dae8547897028104f79c554df3991d9da8,leb Natapov <gleb@cloudius-systems.com>, 2014-03-17 16:18:55 +0200, , mmu use thread_handle instead thread pointer tlb thread pointed may exit tlb_flush_ipi call wake cause access freed memory fix using thread_handle introduces handle exactly kind race reviewed nadav har nyh cloudius systems.com signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3796,c6120b148b93ab364ba93908f1fab03f4a81372b,adav Har'El <nyh@cloudius-systems.com>, 2014-03-19 12:52:20 +0200, , fix type documentation sched thread commit thread bit bit patch fix return type function replaces incorrect comment claimed unique lifetime system accurate description function using doxygen comment seen doxygen api documentation signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3797,4d5f00eadf6d79a2968787322a6d39adefbe8481,akuya ASADA <syuu@cloudius-systems.com>, 2014-03-20 01:49:45 +0900, , kbd fix type definition shift variable keeping value uint32_t shiftcode uint32_t well reviewed nadav har nyh cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3798,c91f321dec724b4c00cc25554041d8820079fada,akuya ASADA <syuu@cloudius-systems.com>, 2014-03-20 01:49:44 +0900, , kbd reset modifier key state every readkey fix 219 reviewed nadav har nyh cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3799,6f273b1f4dea22598b830015320f2ccf11dd9174,adav Har'El <nyh@cloudius-systems.com>, 2014-03-19 23:46:30 +0200, , doxygen exclude driver libtsm driver libtsm includes bunch doxygen comment worst mainpage tag controlling doxygen main page since libtsm really part api intend advertise let exclude directory scanned doxygen signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3800,00a2284f1c1bdfc9fb02158cbc509a75b8a47c51,ekka Enberg <penberg@cloudius-systems.com>, 2014-03-21 10:05:11 +0200, , libc add alphasort function martin writes experimenting capstan trying rule thing getting bigger application working simple program recursively list directory content ... http github.com dmarti mini work host build .so capstan build step work capstan run ... capstan run osv v0.05 501 gdbdf4f7 failed looking symbol alphasort missing libc functionality osv fix add alphasort function musl signed pekka enberg penberg cloudius systems.com,,
3801,3d31cf91cc80507f3b00ca35f727707ff9a5fd6d,vi Kivity <avi@cloudius-systems.com>, 2014-03-19 18:02:42 +0200, , virtio net fix handling bad buffer discard bad buffer advance next one free next pas resulting double free tested asia asia cloudius systems.com signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3802,99a6e6a296613ccefc09a69863ad0179fe1f5203,ekka Enberg <penberg@cloudius-systems.com>, 2014-03-19 15:23:20 +0200, , run.py fix api user networking port forwarding api listening port 8000 8080 reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3803,310b61c6e4c14fd323efb5e316319437050927fd,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-12 17:39:38 +0100, , build.mk unify boost test list construction method reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3804,0eacb21133138701046f1d8ccf5f91949d1c82b0,sias He <asias@cloudius-systems.com>, 2014-03-19 12:36:01 +0800,1, route add host route support add similar function following route command freebsd osv route add host host_ip interface interface_name e.g route add host 10.240.0.1 interface eth0 useful gateway reachable within network specified interface instance gce dhcp server provides 10.240.10.15 netmask 255.255.255.255 10.240.10.1 host route entry needed add default route entry patch route table look like destination gateway flag netif default 10.240.0.1 ugs eth0 10.240.0.1 uhs eth0 10.240.10.15 link eth0 10.240.10.15 link uhs lo0 127.0.0.1 link lo0 signed asia asia cloudius systems.com signed avi kivity avi cloudius systems.com,,
3805,656472a2d3e68a6eecf2885842a0ebfdfe73f79b,anidhya Kashyap <sanidhya.k@gmail.com>, 2014-03-18 15:15:29 +0530, , use memory image build fix 198 signed sanidhya kashyap sanidhya.k gmail.com signed pekka enberg penberg cloudius systems.com,,
3806,49a44cc3ff53c95a22dd44ebee77e93df1e68baa,anidhya Kashyap <sanidhya.k@gmail.com>, 2014-03-18 15:03:38 +0530, , mkzfs.py use memory image build fix 198 signed sanidhya kashyap sanidhya.k gmail.com signed pekka enberg penberg cloudius systems.com,,
3807,eaec0773105a17df224a2d1094f5a407b35789aa,vi Kivity <avi@cloudius-systems.com>, 2014-03-18 11:56:30 +0200, , merge branch net_channel tcp_close related bug fix switch virtio page buffer signed avi kivity avi cloudius systems.com,,
3808,5199b971bf0516affb865d0dd082801345528453,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-17 13:58:25 +0100, , gdb fix conversion gdb.value int python3 longer long type long python2 int make code portable commit switched long conversion int conversion equivalent turn gdb implementation gdb.value compiled python slight difference int long conversion long conversion used pointer whereas int conversion reason like maybe gdb bug int handler is_intlike type error convert value int value_as_long value long handler is_intlike type error convert value long value_as_long value note second argument is_intlike differs variant mean pointer allowed since python3 int conversion call long handler work expected workaround defined to_int function performs conversion portable way need done value may pointer place check int simplified  work pointer number version reported raphael carvalho raphaelsc cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3809,6b4f530b0211303101209fd896df5334f8cbef81,vi Kivity <avi@cloudius-systems.com>, 2014-03-18 10:18:43 +0200, , merge branch shm http github.com gleb cloudius osv  system shared memory implementation look like fio need although single address space memory shared anyway  signed avi kivity avi cloudius systems.com,,
3810,ccec00f7817de0bc13e034a010a4d63bee3abc70,leb Natapov <gleb@cloudius-systems.com>, 2014-03-10 10:24:03 +0200, , test add system shared memory test signed gleb natapov gleb cloudius systems.com,,
3811,91402cdb1cb49ea1f2a46ba717b4516e1292fab4,leb Natapov <gleb@cloudius-systems.com>, 2014-03-09 18:06:01 +0200, , libc implement system shared memory interface implement shmget shmat shmdt shmctl function required system shared memory interface signed gleb natapov gleb cloudius systems.com,,
3812,36b003f700a6e6cd6e224163e59ea7639010d23a,leb Natapov <gleb@cloudius-systems.com>, 2014-03-09 18:03:23 +0200, , mmu mark address parameter const shmdt defined get const pointer next patch implement shmdt using unmap const qualifier either need casted unmap friend need get const pointer parameter patch implement later signed gleb natapov gleb cloudius systems.com,,
3813,5c9a0502dc678b7e4b7a816d4a0cd9d6a4d9ba50,leb Natapov <gleb@cloudius-systems.com>, 2014-01-26 17:11:52 +0200, , mmu implement shared memory file shmfd pseudo file allows sharing anonymous memory mapping file point memory huge page supported signed gleb natapov gleb cloudius systems.com,,
3814,03db4a63d786eea82177165bfa069f92558b049d,leb Natapov <gleb@cloudius-systems.com>, 2014-01-27 16:01:29 +0200, , mmu provide page_allocator specialization file support mmap semantic implement page_allocator specialization delegate page allocation deallocation mmaped file used mmap file support get_page put_page call others fall back old way reading file signed gleb natapov gleb cloudius systems.com,,
3815,d7f62a362241abc47813a41eae36402df6540e41,leb Natapov <gleb@cloudius-systems.com>, 2014-03-13 12:19:20 +0200, , mmu rename map_page_ops related structure map_page_ops used page mapper managed individual page allocation freeing name reflects page_allocator describes better purpose structure signed gleb natapov gleb cloudius systems.com,,
3816,78e8a98d38b17700805ec9d5775b217ecaafe001,leb Natapov <gleb@cloudius-systems.com>, 2014-01-27 15:01:16 +0200, , mmu delegate file_vma creation file class kind file may want handle mmap differently delegating file_vma creation file class possible file create customized vma signed gleb natapov gleb cloudius systems.com,,
3817,9ad8163d10dba270f1705858e36d9ddee4905006,vi Kivity <avi@cloudius-systems.com>, 2014-03-17 14:32:23 +0200, , merge branch scsi.cleanup http github.com asia osv scsi fix improvement signed avi kivity avi cloudius systems.com,,
3818,4c1c296f6e863ab1df1bb162c6f8d4061442df6b,leb Natapov <gleb@cloudius-systems.com>, 2014-03-11 13:11:08 +0200, , move addr_range class separate file used outsize mmu code signed gleb natapov gleb cloudius systems.com,,
3819,1d6bf02d29e2da08cbc91684de70e950cc0583a6,vi Kivity <avi@cloudius-systems.com>, 2014-03-02 13:01:26 +0200, , virtio switch page sized external buffer curently virtio mclbytes 2kb buffer virtio hit weakness uma memory allocation implementation uma appends byte reference count allocation resulting 2052 byte allocation request allocator service request 2048 byte mempool allocator larger request serviced large allocator significately slower also serialized mutex switch ext_extref mbuf buffer refcount allocated separately also allows switch allocation serviced page allocator memory alloc_page fastest allocator half length mbuf chain streaming workload increase iperf stream host guest result 12gbps 34gbps desktop signed avi kivity avi cloudius systems.com,,
3820,8340e21b58b12af72d886fdfd58d307340d19e47,vi Kivity <avi@cloudius-systems.com>, 2014-03-02 12:56:17 +0200, , net close tcp connection within tcp_do_segment tcp_do_segment nasty habit sometimes closing tcp connection play havoc locking rule updated net channel since tcp_do_segment supposed return lock held yet tcp_close unlock connection disassociated socket fix tcp_do_segment close connection instead indicate desire caller signed avi kivity avi cloudius systems.com,,
3821,43c7016bc8923d6dbc28b8520226e3cb0922e03e,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-12 15:31:58 +0100, , trace fix prof currently fails traceback rtraceback recent call last file script trace.py line 433 module args ... file usr lib python2.7 argparse.py line 601 _expand_help return action params valueerror incomplete format signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3822,e62a3bfae02216f5b5f9c1f451bce325a76cbb8b,vi Kivity <avi@cloudius-systems.com>, 2014-03-16 20:39:32 +0200, , apps update tomcat jenkins integration signed avi kivity avi cloudius systems.com,,
3823,c21cb9a7a2eb8483794263ea1c401e398578b72b,vi Kivity <avi@cloudius-systems.com>, 2014-03-16 17:40:58 +0200, , merge branch flush fix http github.com gleb cloudius osv series fix problem see glaubers glommer zfsbuffers branch branch code map read page directly zfs arc cache heavy testing lot tlb flush page fault point test fails stack corruption signed avi kivity avi cloudius systems.com,,
3824,efee5a91bb089315e61a9270d186834f1c088923,leb Natapov <gleb@cloudius-systems.com>, 2014-03-16 15:46:25 +0200, , x64 enlarge exception stack 16k page fault handler may call zfs case cause exception stack overflow enlarge exception stack 16k prevent overflow signed gleb natapov gleb cloudius systems.com,,
3825,3531e5ace0f6f204a90ed15c991110e6b554eb42,leb Natapov <gleb@cloudius-systems.com>, 2014-03-16 15:38:53 +0200, , x64 disable interrupt switching exception stack interrupt may happen exception stack switched exception handler return interrupt handler cause exception overwrite current stack signed gleb natapov gleb cloudius systems.com,,
3826,d1cc9d1789f09960fa66a716e1492dc001f6bd3d,leb Natapov <gleb@cloudius-systems.com>, 2014-03-16 15:27:17 +0200, , sched x64 save restore exception stack reschedule switch_to always set exception pointer tss primary exception stack scheduling happens exception nested stack configuration lost fix saving restoring current exception stack tss signed gleb natapov gleb cloudius systems.com,,
3827,e05efee82e2271545024686dce27e61572acd7d6,vi Kivity <avi@cloudius-systems.com>, 2014-03-16 17:10:35 +0200, , update apps tomcat programmatic management signed avi kivity avi cloudius systems.com,,
3828,5d26da32c720e95cb89c4776fb9a7e2f0a0e3582,vi Kivity <avi@cloudius-systems.com>, 2014-03-16 15:11:11 +0200, , merge branch ahci.cleanup http github.com asia osv signed avi kivity avi cloudius systems.com,,
3829,3aed69bc69b89c4fe6e07c0a21ac1acb683d367f,adav Har'El <nyh@cloudius-systems.com>, 2014-03-13 18:46:50 +0200, , fix crash perf stat memory_malloc patch fix perf stat memory_malloc used crash tracepoint first reached called per_cpu_counter increment first time function called lazy symbol resolution caused program resolve called among thing allocates memory yielding endless recursion fix call per_cpu_counter increment silly junk counter setting tracepoint probe ensure function already resolved time called actual tracepoint fix 239 signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
3830,ab42e87c1016fc336ed6ddffaff86b7166ff55ad,sias He <asias@cloudius-systems.com>, 2014-03-14 15:54:32 +0800, , ahci remove commented code line useless signed asia asia cloudius systems.com,,
3831,1c8e9b9dcc9537eddc165ba307fb873b3b096335,sias He <asias@cloudius-systems.com>, 2014-03-14 15:40:15 +0800, , ahci write port_sact writing port_sact need ncq cmd signed asia asia cloudius systems.com,,
3832,0306b0c4589428573ea037ff82458db46ab3d5f0,sias He <asias@cloudius-systems.com>, 2014-03-14 15:41:59 +0800, , ahci wait device command issue ready currently one cmd pending device always ready send next cmd signed asia asia cloudius systems.com,,
3833,d15cfc104e2b42d6819ce1fc48fe318fb7da7787,sias He <asias@cloudius-systems.com>, 2014-03-14 15:36:59 +0800, , ahci use cmd_active port_ci indicate completion cmd simplifies cmd completion code bit signed asia asia cloudius systems.com,,
3834,8c3c102397e5d9a5181539a21866088b184216d8,sias He <asias@cloudius-systems.com>, 2014-03-14 15:28:29 +0800, , ahci add slot parameter wait_cmd_poll wait_cmd_irq preparation next patch need slot number wait_cmd_poll wait_cmd_irq signed asia asia cloudius systems.com,,
3835,67147ef2f0bed5021cede3dadc2cdaa14137c868,sias He <asias@cloudius-systems.com>, 2014-03-14 15:24:45 +0800, , ahci add slot parameter wait_ci_ready instead wait hardcoded slot add slot parameter signed asia asia cloudius systems.com,,
3836,dbdf4f7b1e6c85ce294a3ce3e5afe49fd99e457c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-12 15:32:03 +0100, , trace use tracefile default cumbersome type file every trace command let use tracefile default  trace extract file trace summary file trace prof file  trace extract trace summary trace prof signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3837,35335c6654fa97f15b4e07e20dd29e8c07621e19,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-12 15:32:02 +0100, , trace auto paginate output using instead trace list  trace list signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3838,e4fa52afc7abf9bcf544afac3b404645166eae85,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-12 15:32:01 +0100, , trace make prof show trace sample default often profile one tracepoint let save user typing showing default  trace prof sched_wait  trace prof signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3839,e07d86855b768737fe496e9c5807dae309e5636a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-12 15:32:00 +0100, , run.py add trace backtrace option signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3840,3b1b6828b176bedfafd8898636fe0879d55dde55,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-12 15:31:59 +0100, , run.py add trace option option enables given tracepoint beginning useful want enable tracing want alter command line  run.py trace ... cat build release cmdline  run.py trace ... signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3841,bd173c1afe1814e5539928aa85f38678b91d83a2,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-12 15:31:57 +0100, , trace fix command help signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3842,8482b109196c2650eb1b476b0caf373ce5dbfa18,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-12 20:26:31 +0100, , gdb concatenate trace_log generic way gdb python3 return memoryview object read_memory class doe support operator added concatenation wrapper work indexable type signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3843,702a3b01239d84269dbb233746072bb61316d827,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-12 20:26:30 +0100, , gdb strip thread_name portable way python3 struct.unpack return byte str doe rstrip signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3844,430406fd79a251a1def3505e1ca17762454b4191,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-12 20:26:29 +0100, , gdb apply 2to3 fix work version signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3845,bd3d138af37ba2d70a586c3ab52d0fad1e904d22,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-12 20:26:28 +0100, , gdb create wrapper getting dict value python3 dicts itervalues viewvalues value signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3846,798698ad4803f711c6d27441b9d9bef1bae715a4,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-12 20:26:27 +0100, , gdb use print parenthesis needed python3 signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3847,eb5eb91041bb6316b29c38679a4d575d40e860ed,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-12 20:26:26 +0100, , gdb use int type instead long difference python2 python3 longer long signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3848,6a7a2d34244818291ee36ba25f498a06344d29c2,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-12 20:26:25 +0100, , gdb remove dead import signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3849,caf63102df766d69517a1cf52a1498a895de355a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-12 20:26:24 +0100, , trace encode decode string python3 became restrictive regard string handling python2 python3 string longer conform byte array interface encoded explicitly current code throw exception run python3 signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3850,efed092e645ed6b7f30f912b54acfbdf303f16ac,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-12 20:26:23 +0100, , trace attempt read across pivot page optimization first check entry valid using field try read rest signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
3851,1879d200f403ed6316328a625a2c8ad368431d4b,vi Kivity <avi@cloudius-systems.com>, 2014-03-13 13:40:29 +0200, , apps update cassandra jenkins integration signed avi kivity avi cloudius systems.com,,
3852,6d9cdfc97dd82fe755941af7902eebd0f0db4751,sias He <asias@cloudius-systems.com>, 2014-03-12 11:17:56 +0800, , scsi construct cdb place instead copying scsi cdb construct place save byte memory copying every read write signed asia asia cloudius systems.com,,
3853,e922e64769da4f6d3f26ba1e9df3d20986d7b899,sias He <asias@cloudius-systems.com>, 2014-03-12 11:00:04 +0800, , scsi introduce req cdb_len set req cdb_len actual size scsi command copy actual size command reduces number byte copy also fix warning pvscsi complains size cdb larger expected signed asia asia cloudius systems.com,,
3854,38300d8c0ebf76d902adae554477fb0c68978ec5,sias He <asias@cloudius-systems.com>, 2014-03-12 10:41:06 +0800, , scsi intorduce req free_by_driver flag used tell lower level scsi driver free request otherwise scsi layer free request read write flush scsi async request freed lower level scsi driver scsi request freed scsi layer signed asia asia cloudius systems.com,,
3855,62fb5a8d9f21f0e1806cb88318d097cde4136e43,sias He <asias@cloudius-systems.com>, 2014-03-12 10:23:44 +0800, , scsi free req data scsi_common exec_inquery freed done signed asia asia cloudius systems.com,,
3856,fb3b6febf626c6ea564b25904745a6f8b8be85af,ndrei Preda <andreipreda07@gmail.com>, 2014-03-11 16:30:10 +0200, , dhcp.hh replaced const constexpr replaced const specifier constexpr dhcp.hh signed andrei preda andreipreda07 gmail.com signed pekka enberg penberg cloudius systems.com,,
3857,6d20446fd7a13f4ec581286aba2a639780d70133,vi Kivity <avi@cloudius-systems.com>, 2014-03-11 13:22:37 +0200, , run reuse command line standalone image user specifies image take command line instead looking unrelated build release cmdline todo support verbose friend using imgedit.py signed avi kivity avi cloudius systems.com,,
3858,38e45bd28acc38912a45c0b3b818bf8ee56286e6,angbicheng <wangbicheng@huawei.com>, 2014-03-11 08:37:48 +0000, , x64 fix duplicate ex_pf declaration duplication osv exception signed wangbicheng wangbicheng huawei.com signed pekka enberg penberg cloudius systems.com,,
3859,319cf42ddcce0db62fb1d8118e8454dcbcd5a7ea,adav Har'El <nyh@cloudius-systems.com>, 2014-03-10 15:47:23 +0200, ," fix uma_zone cache regression commit turned uma allocation caching hid bug least intended patch actually opposite turned cache normal compilation caused deterioration udp memcached performance 159,000 131,000 req sec second half recent memcached performance deterioration see issue 227 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com",,
3860,c69162389e8388729e035391cf418cf2949e4923,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-03-10 08:02:50 -0300, , test check st_dev f_fsid validity signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3861,d529c4db628130206f7eea4460a0d377ab05b291,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-03-10 08:02:48 -0300,216, vfs zfs add st_dev field support stat tomek say program rely fact stat.st_ino stat.st_dev pair uniquely identifies file osv st_ino set vn_stat st_dev zeroed possible file different file system inode number hence appear referring file spotted code inspection openssl vfs run issue related yet patch address issue 216 signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3862,8e112e302656318edc578cf66ffb24191d379170,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-03-10 08:02:49 -0300, , zfs set f_fsid zfs_statfs signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3863,36b915461a905e238717875875820ad28b17a5b4,ekka Enberg <penberg@cloudius-systems.com>, 2014-03-10 13:47:13 +0200, , tst zfs mount.so disable reference count check commit 951cca4 revert vfs zfs sync vnode znode refcounts forgot disable zfs reference count test case reported avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3864,951cca458783d15964d2ccf46b6f7d8a7190d958,ekka Enberg <penberg@cloudius-systems.com>, 2014-03-10 11:18:05 +0200, ," revert vfs zfs sync vnode znode refcounts reverts commit commit break cassandra startup follows info 00,244 opening var lib cassandra data system local system local 5677 byte page fault outside application addr backtrace 0x31899b mmu vm_fault unsigned long exception_frame 219 0x34c105 page_fault 101 0x34acc7 ex_pf 0x391e94 vn_stat 132 0x3935c9 sys_stat 0x38a4ee __xstat raphael explains found following commit guilty one correctly fix mismatch znode vnode refcnts move vop_inactive vrele keep synchronized change assumes mismatch anymore however apparently corner case patch address example vnode one refcnt ahead respective znode eventual vrele znode would destroyed vnode still alive zfs_getattr attempt dereference field znode exist anymore thus page fault regression revert commit signed pekka enberg penberg cloudius systems.com",,
3865,65d7e881e0f5bdd9f52b6644a5eafae70dbaf9b2,leb Natapov <gleb@cloudius-systems.com>, 2014-03-10 10:32:10 +0200,228, mmu read page content populating page table page accessible page table contains valid data otherwise thread running another vcpu see garbage rely zfs file prefetch mechanism minimize actual disk mmap_populate mapping feature replaced proper page cache integration fix 228 signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3866,326e20dca7011024d85eea5032bf9d696dc765d5,akuya ASADA <syuu@cloudius-systems.com>, 2014-03-08 14:09:55 +0900, , script add script generate osv vmware configuration script gen vmx.sh create build release osv.vmx run image vmware executing following command vmware build release osv.vmx signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3867,31b4362f3db24411f5680cad2cc2eabf1b5c843a,vi Kivity <avi@cloudius-systems.com>, 2014-03-09 17:46:19 +0200, , osv apps update jenkins integration signed avi kivity avi cloudius systems.com,,
3868,ab8eb942cbdb951b43e2721e619b1d52ee3320a6,sias He <asias@cloudius-systems.com>, 2014-03-07 11:08:38 +0800, , script add script generate osv virtualbox appliance run script gen vbox ova.sh build release osv.ova created import osv virtualbox appliance click file import appliance choose osv.ova import signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3869,6d383afb738dc266da4a45ebef21332699f74b55,sias He <asias@cloudius-systems.com>, 2014-03-07 11:08:20 +0800, , script add script generate gce image upload disk tarball google cloud storage gsutil osv.tar.gz osv.tar.gz create image used start instance gcutil addimage osv osv.tar.gz signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3870,8b1c8ac3039dfed1a45024f2f0c5e40971fb4ab3,adav Har'El <nyh@cloudius-systems.com>, 2014-03-06 13:58:52 +0200, , avoid memory allocation rcu_dispose rcu_dispose pass rcu_defer lambda function deletes given object unfortunately std function created lambda existing std function implmentation gcc allocates memory mean new rcu_dispose always least twice slower new delete patch tell gcc standard library implementation fine use small functor optimization namely store lamda inside std function without allocating external storage machine patch shave 37ns rcu_dispose sanity check hack rcu_defer run function immediately rcu_dispose fast delete patch time slower signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3871,b7de9871b3190bd8ce1fc7a4e5a80740ea25c67b,sias He <asias@cloudius-systems.com>, 2014-03-07 17:35:47 +0800, , virtio blk split buffer bio bio_data zfs allocated either alloc_page malloc physically contiguous buffer need break contiguous buffer several physical page mapping even virtual space contiguous reduces virtio buffer element usage lot large buffer test setup using ramdisk backend script run.py test misc bdev write.so vblk1 200000000  wrote 13644.500 10.00 1364.157  wrote 30219.750 10.00 3021.261 reviewed glauber costa glommer cloudius systems.com signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3872,f99ea6023a5c5a9bc53c34043944391b7249b9ba,akuya ASADA <syuu@cloudius-systems.com>, 2014-03-06 22:24:27 +0900, , apps move submodule head tomcat add missing shebang line get added sqlite module modules.json add sqlite signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3873,ef4c9199e85962e5df0f85e803c6fc2e0d3fe276,vi Kivity <avi@cloudius-systems.com>, 2014-03-06 12:58:17 +0200, , run add pas args option useful playing around qemu like starting monitor socket example signed avi kivity avi cloudius systems.com,,
3874,fc4d8be8c99e6ef4d0422bdaf2910100244f6ce5,akuya ASADA <syuu@cloudius-systems.com>, 2014-03-06 19:47:05 +0900, , add atof libc required interval option iperf code taken musl libc reviewed nadav har nyh cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3875,d0229270ef3f7b8910bb0a4ec6924baebe967450,akuya ASADA <syuu@cloudius-systems.com>, 2014-03-06 16:32:35 +0900, , add backtrace abort print backtrace abort prevent breaking system backtrace printouted call malloc disabled context switch cli reviewed nadav har nyh cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3876,7897aa96226c16f3d0116c40b7d53e88dc8182ed,akuya ASADA <syuu@cloudius-systems.com>, 2014-03-06 16:32:34 +0900, , add demangle build.mk reviewed nadav har nyh cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3877,4ef747c62db9b479d9e5ee82bed42ae6e7a57aa4,akuya ASADA <syuu@cloudius-systems.com>, 2014-03-06 16:32:33 +0900, , add malloc demangler malloc implementation demangler backtrace abort using libstdc demangle api reviewed nadav har nyh cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3878,2c79b540ba8c9df6ae203b10fc6deb1f625579e4,adav Har'El <nyh@cloudius-systems.com>, 2014-03-05 17:02:33 +0200, , make assertion failure visible notice disabling debugging message also disabled assertion failure message user see aborted tell happened debugger instead using kprintf pas message directly abort print argument console expected since using overloading abort ... need done source file move function libc exit assert.c runtime.cc reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3879,3eec64e0b92a9c5d3cef1eb03f6a9cafd1404534,ifei Tong <zifeitong@gmail.com>, 2014-03-06 16:29:08 +0800, , script python support run.py add python support script run.py tested python 3.3.4 python 2.7.6 style issue mixed tab space trailing space also fixed signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
3880,75c404dc015dc72845d9689695a84108d338a4b8,vi Kivity <avi@cloudius-systems.com>, 2014-03-06 10:53:22 +0200, , merge branch pvscsi http github.com asia osv vmware pvscsi support asia signed avi kivity avi cloudius systems.com,,
3881,e08d731139ed7c0214750158a88cabf35b271ad0,sias He <asias@cloudius-systems.com>, 2014-03-06 13:33:43 +0800, , scsi specify virtual keyword virtual function avi suggested add virtual keyword reduce possible confusion signed asia asia cloudius systems.com,,
3882,bb47eb2b156385e060b77f0fa9ade6890c462f00,sias He <asias@cloudius-systems.com>, 2014-03-06 13:24:51 +0800, , scsi add scsi_common handle_bio helper eliminates duplicated code make_request scsi driver signed asia asia cloudius systems.com,,
3883,1836e94be2262504464ccc39297e3ac47332f0d0,sias He <asias@cloudius-systems.com>, 2014-03-05 15:03:09 +0800, , vmw pvscsi limit max number luns per target vmware support lun per target limit max_lun speed probe signed asia asia cloudius systems.com,,
3884,7297154872885f7b9130293200a663b19c5533d2,sias He <asias@cloudius-systems.com>, 2014-03-05 15:01:09 +0800, , scsi enable multiple target scan since handle non exist target correctly enable multiple target scan signed asia asia cloudius systems.com,,
3885,72298f695bea4a87bda676713d01d7de7f06a808,sias He <asias@cloudius-systems.com>, 2014-03-05 15:00:14 +0800, , scsi introduce use limit max number target scan signed asia asia cloudius systems.com,,
3886,3c39391e5cf161108921bbf6602498ac24b1e2fb,sias He <asias@cloudius-systems.com>, 2014-03-05 14:48:48 +0800, , virtio scsi assert response req_done req response zero case instance report luns command send target doe exist pas handling req response command handling allows probe multiple target signed asia asia cloudius systems.com,,
3887,81fdc730a938179d60c974f6998290a79545b5e7,sias He <asias@cloudius-systems.com>, 2014-03-04 22:27:20 +0800, , vmw pvscsi initial support driver vmware pvscsi disk better performance using ahci device vmware driver common scsi code scsi common driver written scratch qemu linux pvscsi driver used reference specification available tested qemu pvscsi implementation vmware workstation signed asia asia cloudius systems.com,,
3888,45f9c97d8185ee608228faddfd3df5ed99188119,sias He <asias@cloudius-systems.com>, 2014-03-04 22:21:22 +0800, , scsi introduce scsi common split common scsi code virtio scsi.cc scsi common.cc way share code scsi driver e.g. vmw pvscsi tested local kvm gce signed asia asia cloudius systems.com,,
3889,da9463e4e4dd043ef67a18bdd34b81c309df763a,sias He <asias@cloudius-systems.com>, 2014-03-05 14:27:29 +0800, , pci fix header type check header type bit bit used identify multi function device lower bit bit used identify header type 00b defined normal device 01b defined pci pci bridge 10b defined card standard fix check masking lower bit patch fix device probe vmware workstation signed asia asia cloudius systems.com,,
3890,2609f47efe357a83f8f2c9629f05206f16fd0713,vi Kivity <avi@cloudius-systems.com>, 2014-03-05 16:11:30 +0200, , trace fix bad interaction debug mode template asm goto call safe_load serializing const char trace argument generates reference label .text.fixup template function safe_load function line eliminate duplicate copy template removed except one cause linker error fix marking function template function call always inline fix 217 signed avi kivity avi cloudius systems.com,,
3891,24674711120762ab121c16590f81fa9aad7fc547,vi Kivity <avi@cloudius-systems.com>, 2014-03-05 15:39:55 +0200, , build fix building directory containing string debug unrestrained grep ate gcc include directory fix grepping right thing signed avi kivity avi cloudius systems.com,,
3892,7dac0b0456e708c02ea58ed1b336a15467033b07,sias He <asias@cloudius-systems.com>, 2014-03-05 17:36:22 +0800, , dhcp fix dhcp issue vbox seen osv get dhcp address virtual box linux dhcp client sends dhcp option discover request packet however osv sends option discover packet fix issue making osv behave linux dhcp client though people vlad issue hurt send option packet patch fix dhcp issue reviewed vlad zolotarov vladz cloudius systems.com signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3893,c979213c3a959bc7db4a2be33ed45eaf33982e14,adav Har'El <nyh@cloudius-systems.com>, 2014-03-04 23:18:46 +0200, , x64 fix nested exception support commit added support nested exception one reason needed using tracepoints keeping backtraces using backtrace_safe tracepoint happens handling exception call backtrace_safe might cause exception handling nested exception per cpu nested exception stack need second nested exception stack second stack ever used print nested deep error however existing code one error test actually aborted nested exception exception_depth rather setting exception stack aborting exception_depth reach despite aforementioned commit actually support nested exception turning malloc tracing backtraces kernel argument trace memory_malloc trace backtrace quickly resulted abort patch tracing longer abort signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3894,211ae4537d9b90bbcc770c418febccef1742a9f0,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-03-04 15:41:38 +0100, , x64 fix exception stack restoring exiting second exception exception_depth restore exception stack value used second exception happened reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3895,3033abb8d8d695f897fd217320e0cc236ab8dcfb,lauber Costa <glommer@cloudius-systems.com>, 2014-03-04 17:45:36 +0400, , balloon improve tracing add tracepoint information balloon help find bug easily signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3896,c46dd00f06c5bd157e7bceeaa1c9f63282ed91cc,lauber Costa <glommer@cloudius-systems.com>, 2014-03-04 17:44:33 +0400, , balloon add size information memcpy fixup recently introduced size calculation memcpy fixup mean make sure move sane however static function like implemented rcx register hold number iteration number byte therefore also need include size information fixup make member function signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3897,19acd7a6974a9845d18d69dbc4779adaad3fac35,ifei Tong <zifeitong@gmail.com>, 2014-03-04 17:53:40 +0800, , add parenthesis print statement support py3k patch osv compiles default configuration system usr bin env python point python signed zifei tong zifeitong gmail.com signed pekka enberg penberg cloudius systems.com,,
3898,198c79a823c0c335e0b3a448ecf5356f0678530e,ekka Enberg <penberg@cloudius-systems.com>, 2014-03-04 11:48:16 +0200, , mgmt update latest remove web module mgmt signed pekka enberg penberg cloudius systems.com,,
3899,2cc20311106bc6b914c956fad3df78916a94366b,ekka Enberg <penberg@cloudius-systems.com>, 2014-03-04 11:34:05 +0200, , mgmt update latest signed pekka enberg penberg cloudius systems.com,,
3900,fd8b52af0bdf8db912cbb71d882bb9cd949c16e8,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-03-03 15:59:30 -0300, , zfs boost zfs mount time fixing zfs_sync functionality main reason behind slowness zfs mount time zfs_sync definitely broken zfs perspective sync wait underlying pool commit dirty data previously bunch work handed next osv instance thus slowing mount process tracing exactly location hang found actual bottleneck load existent spa spa_load going discovered zil replay necessary success spa_load zfs_sync flush zil record need replay afterwards happening though original implementation bsd show called mount point specified i.e null however work differently osv clause even exist basically sync pool zfs mount time patch ssd zfs mounted 1943.29ms 1691.20ms spinning disk zfs mounted 13048.46ms 12773.31ms old laptop incredible horrible zfs mount time patch ssd zfs mounted 520.28ms 160.36ms spinning disk zfs mounted 1596.60ms 1281.39ms time faster might better fix path doe sync specified file system however something simple requires deep investigation requeriments needed zfs vfs side see zfs_sync function call vfs_stdsync removed yet implemented vfs layer function basically call fsync opened vnode turn call zil_commit correspondent znode implemented vfs_stdsync enough fix sync problem pool patch change zfs_sync sync present pool case one fixing real bug zfs_sync behavior also nicely boosting zfs mount time make check succeeded signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3901,f19c137a4dc9b3fd54699a26b9cc80d3ed4ad63b,adav Har'El <nyh@cloudius-systems.com>, 2014-03-03 18:04:56 +0200, , loader remove unused declaration removed unused declaration unnecessary cause warning eclipse signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3902,235857dcda21eca781aebcad5705b220345ab6bf,vi Kivity <avi@cloudius-systems.com>, 2014-03-03 20:52:06 +0200, , run redirect port 8080 default conflict jenkins add option instead signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3903,38efc1a75124173603865d81edc7bcbbaefff020,lauber Costa <glommer@cloudius-systems.com>, 2014-03-03 12:33:38 +0400, , move malloc pool mempool.cc reason expose header reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3904,c28497130ef7970be7f7462f9edfd9215481685c,lauber Costa <glommer@cloudius-systems.com>, 2014-03-03 12:37:21 +0400, , balloon remove obsolete assert currently able trigger assert come old day found opportunistic copying bug right possible balloon list empty still old vmas lying around remove assertion signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3905,1ba76eb03cba4431b557183d1001b16991cd1fa4,lad Zolotarov <vladz@cloudius-systems.com>, 2014-03-02 14:52:30 +0200,225, test added test verifying fix issue 225 running make check fix ... test tst ring spsc wraparound.so 8.817 ... reviewed nadav har nyh cloudius systems.com signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3906,b0e9c8d1f9278b1dafc3f2279862f175631aa9fc,lad Zolotarov <vladz@cloudius-systems.com>, 2014-03-02 14:52:29 +0200, , ring_spsc mpsc fix pop method failing ring index wrap around fixed ring_spsc empty check _beg _end _beg _end deleted ring_mpsc since currently used anywhere fix 225 reviewed nadav har nyh cloudius systems.com signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3907,31750ff07b8e386f7599c26b87fda59f725ca08b,lad Zolotarov <vladz@cloudius-systems.com>, 2014-03-02 14:52:28 +0200, , test misc lfring.cc delete test ring_mpsc kill ring_mpsc delete corresponding test reviewed nadav har nyh cloudius systems.com signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3908,ba96d73164ed02ce62bb63bf9b24465a6f6c759d,lauber Costa <glommer@cloudius-systems.com>, 2014-03-03 13:02:57 +0400, , balloon protect ill sized move carl noticed legal java program think instance somebody using jni move stuff manually middle balloon case would move smaller size object put much tought handle case certainly better fault silent weird behaviour reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3909,2d5107f67e81234a5f9f77242adfac0cc5faa6d6,vi Kivity <avi@cloudius-systems.com>, 2014-03-03 10:38:59 +0200, , net fix poll abort net channel net channel poller list vector pollreq managed via rcu do_poll modifies pollreq without protection clear pollreq _poll_thread cause net_channel wake_pollers wake null thread fix converting pollreq _poll_thread sched thread_handle internal rcu protection seen running wrk static tomcat page home page reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3910,ec69a0476be488eda6e23ab29f48e4457a61b8b5,duardo Piva <efpiva@gmail.com>, 2014-02-21 14:26:28 -0300, , core elf explicit return type lambda function mandatory increase code readability nadav writes verify indeed clear last false error message eclipse see osv file amazing think commit patch signed eduardo piva efpiva gmail.com signed pekka enberg penberg cloudius systems.com,,
3911,5b805e636814e4e0f4669f88400eb2afa81c7ff4,adav Har'El <nyh@cloudius-systems.com>, 2014-02-25 18:09:44 +0200, , test load balancer test patch add two load balancing test test misc loadbalance.cc three thread two cpu load balancing working correctly slow thread x1.5 equally get two thread one performance test fairly close expected three thread two cpu one thread priority 0.5 meaning get twice cpu time two thread fair load balancing keep priority 0.5 thread cpu two normal priority thread together second cpu end priority 0.5 thread get twice cpu time thread unfortunately test get bad result x0.93 x0.94 x1.14 instead load balancer currently take account thread priority think cpu running priority 0.5 thread load considered load signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3912,f5310a814ed5776656735eb298cbd8f3e46daf6c,laudio Fontana <claudio.fontana@huawei.com>, 2014-02-24 16:56:52 +0100, , bsd add simple machine file implementation aarch64 enabled yet build system signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
3913,7d6054906f1d7fcf1932e4d82ffc8deba4ec40cc,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-02-21 12:11:16 +0100, , remove redundant test image signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3914,77320733c2cff7e029c51fd9dbc2b371ab6a4087,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-02-21 12:11:15 +0100, , java test simplify removing image configuration module definition enough signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3915,743d99a7e22f72181c5f24157d82dc3402bf38b6,lauber Costa <glommer@cloudius-systems.com>, 2014-02-21 01:26:54 +0400, , string.cc make sure fixup value sane rcx register hold amount byte need copy copy operation advance fixup mean never ever bellow saw happening due bug took time figure result memory corruption manifest weird way assert place would noticed sooner signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3916,117060d17b3022057b98a5a46159daf53123320d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-02-21 12:05:58 +0100, , java make runjava handle empty argument currently would throw java called without argument signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3917,fb3b2a7b00eae367b61258de3fbc9ffc183964cc,laudio Fontana <claudio.fontana@huawei.com>, 2014-02-24 11:16:21 +0100, , bsd move arch dependent machine x64 file subdir also update isa defs aarch64 value signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
3918,a54a6cee081778a7d7bd0e7ecd98b29d407992d7,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-02-21 13:36:53 +0100, , trace introduce min hit option useful suppressing unimportant branch example using percentage trace.py min hit using absolute count trace.py min hit signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3919,84c03b85f47fe2069ea04c78465c1ad6f369684f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-02-21 13:36:52 +0100, , trace add ability group profile cpu signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3920,1d7b612559bef1627b4543ed4779442c0baabc20,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-02-21 13:36:51 +0100, , trace introduce group option option allow introduce grouping criterias thread replaces merge thread option default grouping sample grouped thread passing thread signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3921,80fabe7e0fd510abaa2aa6c5f12d71b962b14512,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-02-21 13:36:50 +0100, , trace apply node filter root node signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3922,4ea4c62267691d1280494937b74f7a272b569843,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-02-21 16:43:54 +0100, , devfs implement devfs_getattr fix openssl issue manifesting inability establish ssl connection openssl refused create new connection due insufficient entropy generate session entropy rand_poll manage read anything randomness source default dev urandom dev random dev srandom however dev random osv problem openssl try different source skip one already tried comparing stat.st_ino stat.st_dev returned fstat devfs implement getattr operation field always even though dev random present considered signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3923,32ce10916583a7f0080ec9277d028d3753f816bd,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-02-21 16:43:53 +0100, , libc implement secure_getenv needed openssl supposed return null environemnt trusted implementation delegate getenv signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3924,3fd98df2de19a9380cdce8dcf3029d105c875929,adav Har'El <nyh@cloudius-systems.com>, 2014-02-18 13:20:00 +0200, , update gcc version requirement readme.md stated gcc 4.7 required 4.8 recommended 4.7 longer work sched.hh class wait_object constructor inheritence feature added 4.8 see http gcc.gnu.org gcc 4.8 changes.html patch fix readme.md say gcc 4.8 required gcc 4.8 almost year old reason use feature still missing 4.7 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3925,611490f38bbb77419caa1e2c126c9e72ba63a260,adav Har'El <nyh@cloudius-systems.com>, 2014-02-19 19:37:06 +0200, , allow empty directory manifest support empty directory resorted uploading file .keep inside directory kind ugly file remains final image instead given file directory directory ... put cpio directory cause empty directory created image longer file like tmp .keep signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3926,17dccbfba3164b98a4f6b711342e5ee14acc0a8e,lauber Costa <glommer@cloudius-systems.com>, 2014-02-19 21:51:48 +0400, , mmu show address page fault print formatted stuff abort printing address fault helpful reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3927,ce39f68c127fa0783aa84fc871ab00ae4af95cb3,lad Zolotarov <vladz@cloudius-systems.com>, 2014-02-13 15:05:36 +0200, , virtio net zero req zero req path mrg_rxbuf negotiated virtio spec demand reviewed zhi yong zwu.kernel gmail.com reviewed asia asia cloudius systems.com signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3928,9bd90d4db0466821f308d257afba6e9953290070,ekka Enberg <penberg@cloudius-systems.com>, 2014-02-19 13:10:00 +0200, , cpio directory support add support directory found streaming openjdk rpm2cpio output osv reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3929,fb484e94e3f3f26bc6d88f63fe1677556c291d64,ekka Enberg <penberg@cloudius-systems.com>, 2014-02-19 11:08:59 +0200, , cpio symbolic link support add symbolic link support cpiod.so parser osv doe yet support symlinks file never created filesystem needed streaming rpm2cpio osv guest reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3930,06625d1c97f2a5d75f835602bd47a38db778ddc5,ekka Enberg <penberg@cloudius-systems.com>, 2014-02-19 12:13:49 +0200, , cpio file type checking make cpiod.so robust checking file type explicitly reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3931,02db65c46669dcdce3e3581cb9f3f583867d593a,ekka Enberg <penberg@cloudius-systems.com>, 2014-02-19 12:16:13 +0200, , specify file type specify file type cpio header needed make cpiod.so robust explicitly checking file type reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3932,b8458df9d486d59a9e10dc45b969a84fd0caff9d,ekka Enberg <penberg@cloudius-systems.com>, 2014-02-18 18:02:58 +0200, , revert cpio fix zero length file reverts commit make cpiod.so completely ignore zero length file break make check tmp directory longer created example signed pekka enberg penberg cloudius systems.com,,
3933,a03be3cb741dce10d7702b0e648d53e6d0848add,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-02-18 16:01:29 +0100, , trace fix serialization const char tracepoint argument serializer reading destination buffer instead source string result string argument appeard empty string trace signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3934,05694dafe199e23cf2283d3576e806efdc714e2c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-02-18 13:48:58 +0100, , module fix reference undefined variable filemap.py look like omission run multiple mapping file guest reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3935,19b0d7b666cbdb5f1c3e09aa6ae68b7acd392ee7,lauber Costa <glommer@cloudius-systems.com>, 2014-02-18 12:53:38 +0400, , loader.py show thread name printing thread really helpful know printing backtrace thread reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3936,860d6c53e2ec0cec0e4f5411029cd62767059b6d,ekka Enberg <penberg@cloudius-systems.com>, 2014-02-17 15:27:22 +0200, , cpio fix zero length file c_filesize zero bail immediately parse_one otherwise rdbuf pubsetbuf call wreak havoc stream position cause next header corrupt cpio magic found streaming openjdk rpm2cpio output osv reviewed glauber costa glommer cloudius systems.com benoã canet benoit irqsave.net signed pekka enberg penberg cloudius systems.com,,
3937,5b26ed0ce954d7efb5ce1ad085a92ef54b24d9bb,ekka Enberg <penberg@cloudius-systems.com>, 2014-02-17 15:12:59 +0200, , cpio check header magic number add cpio header magic number checking fail fast something wrong cpio format found code inspection reviewed glauber costa glommer cloudius systems.com benoã canet benoit irqsave.net signed pekka enberg penberg cloudius systems.com,,
3938,2d441bddbb8c09e4a7af30de87999707826e5354,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-02-17 12:17:44 +0100, , httpserver fix path misc.bin path changed recently x64 prefix added signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3939,85e96fb3ebfbe6f9f0358b31aba0238a0a97f8f9,duardo Piva <efpiva@gmail.com>, 2014-02-15 11:57:15 -0200, , readme fix instruction network test setting osv network today following readme instruction noticed run test invoke command missing maybe syntax change older version signed eduardo piva efpiva gmail.com signed pekka enberg penberg cloudius systems.com,,
3940,a21e78cd382dc656d288a9de69ba3237ffc45003,ekka Enberg <penberg@cloudius-systems.com>, 2014-02-14 12:41:32 +0200, , mgmt update latest signed pekka enberg penberg cloudius systems.com,,
3941,826c344b841d71d1530567ade39880d70b2fca21,vi Kivity <avi@cloudius-systems.com>, 2014-02-13 17:53:43 +0200, , bsd export recv correctly 3c16063a6b forgot make recv linkage signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3942,f08ba30d05a8dd815ddd43f1d21fca4253c51de1,lad Zolotarov <vladz@cloudius-systems.com>, 2014-02-13 15:05:35 +0200, , virtio net copy virtio_net_hdr receiver copy virtio virtio_net_hdr local buffer receiver prevents cpu optimization cast mbuf beginning virtio_net_hdr use relevant field needed allowing proper load prediction result branch prediction reviewed dor laor dor cloudius systems.com reviewed zhi yong zwu.kernel gmail.com signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3943,94e9e41c6cdea48f7fa7847848fa169d923b3c66,vi Kivity <avi@cloudius-systems.com>, 2014-02-13 12:53:40 +0200, , gdb fix backtrace parsing expects string syminfo python kind enough point reviewed tomasz grabiec tgrabiec gmail.com signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3944,08835b4e608eddcbd0ce17e3ef7a813d7b239731,vi Kivity <avi@cloudius-systems.com>, 2014-02-13 12:53:39 +0200, , bsd cache uma allocation caching allocation hide use free bug signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3945,3c16063a6b75d48fe01219b3a8fe5a7d2b1b90d1,vi Kivity <avi@cloudius-systems.com>, 2014-02-13 12:53:38 +0200, , bsd convert file easier add tracepoints etc signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3946,4f6a326171c712d8e8a64ca59cc3c6a58a24c7fc,vi Kivity <avi@cloudius-systems.com>, 2014-02-13 12:53:37 +0200, , virtio use physically configuous memory indirect descriptor using malloc fails debug allocator fail normal allocator well since doe guarantee physical memory signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3947,61470a1c025f64ff14903fccb64061240803047b,vi Kivity <avi@cloudius-systems.com>, 2014-02-13 12:53:36 +0200, , virtio blk fix use free tracepoints called argument freed reverse order signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3948,85888b684dcc4f720e2903440eb8291eb23d74eb,vi Kivity <avi@cloudius-systems.com>, 2014-02-13 12:53:35 +0200, , mmu reclaim intermediate page debug allocator debug allocator doe recycle virtual address order improve detection use free bug creates lot intermediate page address space consumed leading rapid oom fix reclaiming intermediate page point nowhere signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3949,afa8343ea23ffcbde89e7ff9612a0d8f32cc38d9,vi Kivity <avi@cloudius-systems.com>, 2014-02-13 12:53:34 +0200, , mmu prevent allocation vdepopulate unpopulate used vdepopulate maintains std stack page freed order defer tlb flush must done page unlinked page table actually freed however debug allocator vdepopulate ensure freed memory made inaccessible detecting use free bug cause endless recursion fix using fixed size queue free page flushing fill signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3950,b12f0a29e8da91968b99c0ecf2d81ebe94c82613,vi Kivity <avi@cloudius-systems.com>, 2014-02-13 12:53:33 +0200, , trace fix tracepoint argument string demand paged memory char tracepoint argument point demand paged memory may try access unmapped non preemptible context fix handling fault gracefully signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3951,bf5139038f5eaad380402d5526dd30eb47abf592,adav Har'El <nyh@cloudius-systems.com>, 2014-02-13 13:48:59 +0200, , strip test keep make check working patch reverts commit stopped stripping test order fix make check instead fix latter fix trivial make check find list test image manifest list file build release test need subtract list list stripped.so question strip test past several people raised desire include test production image make image test one rationale behind image encounter unexpected problem cloud run included test see something find problem sure compelling reason include test every image let least rule option include image difference size stripped unstripped test huge currently unstripped test total stripped 2.2 time smaller easily imagine future test perhaps many many test making difference even significant signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3952,e902d578b52e129f8e3208df63b597702e31dcb2,adav Har'El <nyh@cloudius-systems.com>, 2014-02-13 13:10:55 +0200, , add dependency readme.md since commit need maven shade plugin yet another dependency need list readme.md ... signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3953,8c40ecd960ad3ad98cd6b1a517e81ae05f7ebfbd,ekka Enberg <penberg@cloudius-systems.com>, 2014-02-13 12:40:15 +0200, , merge branch java,,
3954,831b017e74fedb5dc46be09e6a7a0f6705dff33e,ekka Enberg <penberg@cloudius-systems.com>, 2014-02-13 12:23:38 +0200, , strip test stripping test break make check test tst local stripped.so osv v0.05 386 gdf0fd92 run_main execute test tst local stripped.so powering test tst local stripped.so failed make check error fix problem stripping test signed pekka enberg penberg cloudius systems.com,,
3955,df0fd92cc3a713f11874af369eb5f54c560d8b1f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-02-13 11:06:10 +0100, , build build java artifact processing module currently file part java module built part main osv build file need ready module processed module relies explicit dependency processing module building java artifact build failed parallel job used proper fix move java stuff module java would built part module build happens quick fix add explicit dependency build.mk signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3956,b16df0f917eddc5c85529dda97d1701c84661f26,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-02-12 14:52:45 +0100, , java add test checking extension class visible signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3957,f730c54d6472ec67ea73e23b30b1534320fbe637,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-02-12 14:52:44 +0100, , java mask system class commit introduced masking system class isolate point view order prevent runjava dependency form becoming visible might cause conflict application would like use class different version currently dependency include cglib asm also used spring framework hibernate making visible would force application use version library older newer required one unfortunately cause extension class jre lib ext unavailable application part system class loader bootstrap one side effect security provider found see issue 208 fix chooses another approach fix problem instead masking dependency move io.osv namespace cause conflict task use apache plugin maven automatically renames package uber runjava jar fix 208 reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3958,3cb967b4f497a6008b7f66f4c655a6d513f24655,duardo Piva <efpiva@gmail.com>, 2014-02-12 18:11:32 -0200,133, upload_manifest strip object included image patch strip .so included build image regardless debug release build basically object ended .so stripped sent image without strip suffix code check already stripped object timestamp match strip unecessary file everything outside build target ignored fix 133 reviewed nadav har nyh cloudius systems.com signed eduardo piva efpiva gmail.com signed pekka enberg penberg cloudius systems.com,,
3959,36c42dbc273eb7df668d76fcc674b7f074f62660,duardo Piva <efpiva@gmail.com>, 2014-02-12 18:10:53 -0200, , boot make match coding standard process making lzloader noticed boot.s boot16.s tab change done using regexp signed eduardo piva efpiva gmail.com signed pekka enberg penberg cloudius systems.com,,
3960,597db05fe2159501408b228f09bb05671ee708fc,duardo Piva <efpiva@gmail.com>, 2014-02-12 18:10:52 -0200, , lzloader build fastlz related stuff call lzloader boot16.s build.mk two image target created lzloader.elf lzloader stripped.elf lzloader stripped.elf imaged included loader.img process need call fastlz tool link fastlz fastlz.o dependency added calling lzloader boot16.s hence need compile fastlz related stuff m32 bit binary code design used order minimal change osv core possible since boot.s page table gdt also compressed remain address lzloader introduced design easier revert patch needed also could add make target build osv without compression scenario exists minimal effort address 0x1800000 choosen still enough memory uncompress kernel time make osv boot 32mb memory day enough decompress kernel build fail signed eduardo piva efpiva gmail.com signed pekka enberg penberg cloudius systems.com,,
3961,516816b15ab5057956cb4150adbbe4dfc710e679,duardo Piva <efpiva@gmail.com>, 2014-02-12 18:10:51 -0200, , check image size check enough space exists kernel decompression script called build.mk check enough space exists kernel decompression break build signed eduardo piva efpiva gmail.com signed pekka enberg penberg cloudius systems.com,,
3962,c5057d562f95bdab9d9563e18b2bffba06290a17,duardo Piva <efpiva@gmail.com>, 2014-02-12 18:10:50 -0200, , lzloader load compressed kernel image memory lzloader simple read data compressed using command line tool uncompress address kernel running i.e 0x200000 max_buffer address range 0x200000 0x0x1800000 extern symbol compressed kernel image created build process using objcopy command line tool signed eduardo piva efpiva gmail.com signed pekka enberg penberg cloudius systems.com,,
3963,2a37808f949b546bc5fbed5f4481b349d4c3abe0,duardo Piva <efpiva@gmail.com>, 2014-02-12 18:10:49 -0200, , simple command line compress tool fastlz library provides two default tool compression uncompression 6pack 6unpack using tool since work chuncks checksum assume restriction buffer size common usage compression tool reading disk writting back compressed image since working image memory output buffer memory uncompress data making much simpler faster solution must compress image way simple command line written signed eduardo piva efpiva gmail.com signed pekka enberg penberg cloudius systems.com,,
3964,93a2af95f8ae8634e0f42cf21772544cb50a6394,duardo Piva <efpiva@gmail.com>, 2014-02-12 18:10:48 -0200, , fastlz library included kernel compression fastlz project added source code fastlz fastlz.org original library written also compatible hence patch added source code without preprocessor extern code signed eduardo piva efpiva gmail.com signed pekka enberg penberg cloudius systems.com,,
3965,744c06706fb1097d269d54a5240d004389a97558,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-02-12 17:09:40 -0200, , mmu fix page_ops initialization anonymous vmas _flags currently used determine page_ops assigned anonymous vma however variable flag received parameter one must used purpose problem found searching root general protection fault often happening running test suite bisect pointed commit gpf probably happening due code proceed completely initialized anonymous vmas reviewed nadav har nyh cloudius systems.com reviewed gleb natapov gleb cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3966,bd8eb22e8b92698af719cf2709f8eadd36cb42b6,vi Kivity <avi@cloudius-systems.com>, 2014-02-12 18:15:01 +0200, , mempool call constructor instance reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3967,ed989d43b3198d80d75f442030070413cdfb5aaa,mitry Fleytman <dmitry@daynix.com>, 2014-02-12 15:26:56 +0200, , run.py fix vnc parameter xen current code injects vnc parameter domain configuration file improperly thus broking run.py xen signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
3968,aff328352803b19294b4f8300bd0e20f0e1ba6b6,ekka Enberg <penberg@cloudius-systems.com>, 2014-02-12 17:12:05 +0200, , codingstyle use common sense mandatory make explicit use common sense required applying rule style guide also point explicitly multiple variable declaration supposed violate earlier rule reviewed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3969,39c4c7a96ddbd2a460969b5a17158896e089a313,hi Yong Wu <zwu.kernel@gmail.com>, 2014-02-12 20:50:57 +0800, , codingstyle.md add rule coding convention bind type variable signed zhi yong zwu.kernel gmail.com signed pekka enberg penberg cloudius systems.com,,
3970,c7da7a02a1eeb687b2557a25c7f6b32589e55d79,hi Yong Wu <zwu.kernel@gmail.com>, 2014-02-12 20:50:56 +0800, , virio make void signed zhi yong zwu.kernel gmail.com signed pekka enberg penberg cloudius systems.com,,
3971,402585aedb9b38721e0687da2e34ee9f8b7ef2ee,hi Yong Wu <zwu.kernel@gmail.com>, 2014-02-12 20:50:55 +0800, , virtio make set_features void signed zhi yong zwu.kernel gmail.com signed pekka enberg penberg cloudius systems.com,,
3972,73bd046130e74712fbc74fd238723ae2344cc4ce,hi Yong Wu <zwu.kernel@gmail.com>, 2014-02-12 20:50:54 +0800, , virtio unify coding style signed zhi yong zwu.kernel gmail.com signed pekka enberg penberg cloudius systems.com,,
3973,288a3c8499cb36b8394c89dc76c4cd12b280a12d,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-02-10 22:26:27 -0200, , test use rare value symbol content comparison zero regularly used value let instead use rare one compare content symbol addressing stylistic issue well follow new output sudo script run.py test tst resolve.so osv v0.05 348 g8b39f8c target value 0x05050505 success nonexistant 0x05050505 success debug 0x05050505 success condvar_wait 0x05050505 time 1392076964 success reviewed nadav har nyh cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3974,8ef7f248887d2f39eb84f82f52ee860f78cb4643,adav Har'El <nyh@cloudius-systems.com>, 2014-02-12 13:42:34 +0200, , fix concurrent static initialization multiple thread concurrently use function static variable constructor gcc guarantee one thread run constructor one wait release abort implementing guarantee unfortunately function implemented standard library use linux futex syscall implement futex system call used rare case contention normal case __cxa_guard_ function atomic memory operation patch implement bare minimum need futex make __cxa_guard_ function work need futex_wait futex_wake timeout futex_wait wake futex_wake nice new waitqueues fit implementation like glove hand could use condvars anyway need wake mutex locked get futex atomic test wait case use waitqueues without additional internal mutex patch also add test bug catching bug real application rare test expose defining function static object slow constructor sleep second call function several thread concurrently patch test fails constructing syscall unimplemented system call 202. aborting fix 199 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3975,af1547c4099c49886f4bf8ff6654a2a2248d141e,hi Yong Wu <zwu.kernel@gmail.com>, 2014-02-12 16:41:04 +0800, , virtio vring add reduce duplicated code signed zhi yong zwu.kernel gmail.com signed pekka enberg penberg cloudius systems.com,,
3976,0b3c37a9e4bc16238c7cb97aca1f45c4163e3a54,hi Yong Wu <zwu.kernel@gmail.com>, 2014-02-12 16:41:02 +0800, , virtio blk net scsi make read_config void signed zhi yong zwu.kernel gmail.com signed pekka enberg penberg cloudius systems.com,,
3977,5e1d9b4b6bff7c1aa70195ce9abfd00a7944054e,hi Yong Wu <zwu.kernel@gmail.com>, 2014-02-12 16:41:00 +0800, , virtio rng unify coding style signed zhi yong zwu.kernel gmail.com signed pekka enberg penberg cloudius systems.com,,
3978,ff2f30c7701acf77ca1519105ea0b5218c6cb756,hi Yong Wu <zwu.kernel@gmail.com>, 2014-02-12 16:40:59 +0800, , virtio vring unify coding style signed zhi yong zwu.kernel gmail.com signed pekka enberg penberg cloudius systems.com,,
3979,897639d488692748f3cd52aeb11277a1c1e624ec,hi Yong Wu <zwu.kernel@gmail.com>, 2014-02-12 16:40:57 +0800, , virtio net unify coding style signed zhi yong zwu.kernel gmail.com signed pekka enberg penberg cloudius systems.com,,
3980,ea5663d15bc228c6aea99edc05a549979c5dbe0d,hi Yong Wu <zwu.kernel@gmail.com>, 2014-02-12 16:40:56 +0800, , fix codingstyle.md signed zhi yong zwu.kernel gmail.com signed pekka enberg penberg cloudius systems.com,,
3981,fbd7d0846f3daa980b7182ca08a7f83248d24853,mitry Fleytman <dmitry@daynix.com>, 2014-02-12 11:42:07 +0200, , readme maven added fedora prerequisite build failed fedora due lack maven package reviewed zhi yong zwu.kernel gmail.com signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
3982,d87b5c2bb7aad98d49f2164554641e23f6a53078,hi Yong Wu <zwu.kernel@gmail.com>, 2014-02-11 14:11:43 +0800, , vfs remove dead code namei control flow reach bottom inner loop namei pointer point either character upper inner loop break condition path_max  break  name  loop never executed eliminate dead code reviewed raphael carvalho raphaelsc cloudius systems.com signed zhi yong zwu.kernel gmail.com signed pekka enberg penberg cloudius systems.com,,
3983,adf23e05a8ee7dc2ee3d5e2ab204ee2031ef99e3,sias He <asias@cloudius-systems.com>, 2014-02-12 10:46:47 +0800, , run.py enable sata option add sata option use ahci driver instead virtio blk qemu make sense use sata device instead virtio blk device mainly test purpose signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3984,1ee8e2d1f6da4b808fd4a0721bd1c70043004ce8,sias He <asias@cloudius-systems.com>, 2014-02-12 10:46:46 +0800, , ahci initial support ahci supported various vmm e.g virtual box vmware workstation adding ahci support enables osv run para virtualized block device present supported yet tested virtualbox vmware workstation qemu signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3985,708d2e6130eaf4b90dfe427c2e780205abd806ed,sias He <asias@cloudius-systems.com>, 2014-02-12 10:46:45 +0800, , pci support msi interrupt currently msi support pci layer device like ahci controller support msi interrupt pave way ahci driver signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3986,3f2039b950c4f443cf9506b111aedeba6fb3d2ef,sias He <asias@cloudius-systems.com>, 2014-02-12 10:46:44 +0800, , interrupt support msi interrupt msi support supported pci layer enable msi support signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3987,ed3030f33208981c11a8e5bf9f6214db8a4cbe0e,sias He <asias@cloudius-systems.com>, 2014-02-12 10:46:43 +0800, , pci fix probe bar first bar present doe mean entire bar present implementation ahci controller bar6 present bar1 bar5 empty keep probing bar present signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3988,6c5a00b323746016f579102a019a8cd36c3e9d76,r Cohen <orc@fewbytes.com>, 2014-02-11 18:19:06 +0200, , git ignore java build target reviewed tomasz grabiec tgrabiec gmail.com signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
3989,d41d748f89cf6e47820e8585cef6eedb837c05be,adav Har'El <nyh@cloudius-systems.com>, 2014-02-10 10:52:10 +0200, , epoll support epoll epollet patch add support epoll edge triggered mode epollet fix 188 explained issue 188 boost asio epollet heavily use library management http server also image creation tool cpiod.so ignoring epollet like code worked unnecessarily wasted cpu epoll_wait always returned immediately instead waiting new event patch work within confines existing poll mechanism epoll call poll change patch changed future see issue patch add struct file field poll_wake_count name suggests count number poll_wake done file additionally epoll remembers last value saw counter poll_scan see polled epollet unchanged counter last time return readiness regardless whether readable data complication epollet socket sb_sel optimization avoids calling poll_wake think new data interesting old data yet consumed also avoids calling poll_wake poll previously done optimization counter productive epollet cause missed wakeups need work around epollet case patch also add test epollet case tst epoll.cc test run osv linux confirm tested scenario linux osv behave including even one false positive epoll_wait tell data pipe read data come pipe epoll_wait return new event despite really edge event pipe change empty empty previously empty well concluding remark primary goal implementation stop epollet epoll_wait returning immediately despite nothing happened file caused 100 cpu use patch said goal patch avoid false positive unnecessary wakeups event occur file may bit wakeups strictly necessary think acceptable epoll worse problem posterity want explain already mentioned one false positive also happens linux another false positive wakeup remains one epollet classic use case consider several thread sleeping epoll socket e.g. tcp listening socket udp socket one packet arrives normal level triggered epoll wake thread one read packet rest find nothing read edge triggered epoll one thread woken rest would implementation poll_wake wake pollers file currently support optimization signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
3990,b4e8d47d5eed133f4460aa72fe60a15400386ed4,lad Zolotarov <vladz@cloudius-systems.com>, 2014-02-10 19:45:11 +0200, , msix thread affinity instead binding msix interrupt cpu chase interrupt service routine thread pin cpu patch based patch avi kivity avi cloudius systems.com used idea nadav har nyh cloudius systems.com improves performance single thread netperf test 25694 mbps 29875 mbps new dropped functor class use lambda instead fixed race waking flow added comment added performance number patch description signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3991,ce177a50019e82b72636945dcfccd0d07341a88e,adav Har'El <nyh@cloudius-systems.com>, 2014-02-11 13:40:15 +0200, , gdb fix osv mmap friend appears gdb mmu vma doe work one need enclose type name single quote mmu vma broke vma_list function script loader.py caused exception osv mmap command using vma_list function patch add missing single quote understand code ever worked anybody ... using gdb 7.6.1 fedora matter signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3992,a06c22d7b71c5957fe419dff8f19ab7a8e50ebb1,laudio Fontana <hw.claudio@gmail.com>, 2014-02-11 11:01:23 +0100, , loader move x64 specific stuff premain move arch specific stuff premain arch x64 arch setup.cc introduce arch_setup_tls supposed perform arch specific initialization common premain code run arch_setup_tls run _after_ common setup_tls code reviewed glauber costa glommer cloudius systems.com signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
3993,16086d77d9b524ab20fc1190fbc7a12e5653f004,vi Kivity <avi@cloudius-systems.com>, 2014-02-11 11:09:07 +0200, , net fix deadlock net channel poll support path poll take file lock file poll_install take socket lock path sowakep holding socket lock so_wake_poll take file lock fix running poll_install outside file lock really needed reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3994,c9b322306b99914109b1e3560ae6cffa3789e942,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-02-10 22:26:26 -0200, , elf fix program lookup found problem running tst resolve.so follow output success nonexistant failed debug 443987883 failed condvar_wait 443987883 time 1392070630 failure bisect pointed commit 1dc81fe5483 understanding actual purpose change introduced commit figured program lookup simply lack return target symbol found underlying module reviewed nadav har nyh cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3995,8b39f8ca205f4c557468606b14dac750b501b617,mitry Fleytman <dmitry@daynix.com>, 2014-02-10 15:42:54 +0200, , run.py map image using loop device xen guest xen block device backend implementation exist first host kernel driver xen_blkback linux another anti driver implemented qemu used xen hvm guest toolset used run.py selects implementation use based following rule simplified avoid non relevant detail block device specified storage use host kernel driver file specified storage use qemu anti driver linux xen_blkback highly optimized support newly introduced feature qemu implementation rather simple outdated patch force use xen_blkback driver mapping osv image file loop block device write speed latency measurement result image ram disk image file approach patch misc bdev write.so 109.434 107.822 106.684 102.080 111.211 117.465 107.311 115.834 wrote 1099.867 10.03 109.689 misc bdev wlatency.so min 99.99 99.999 max msec  0.1000 0.1121 0.1079 0.1245 0.1309 0.2199 0.4412 loop device approach patch misc bdev write.so osv v0.05 193 g021dad4 444.600 579.262 547.984 615.998 519.428 535.732 471.388 wrote 5535.938 10.40 532.126 misc bdev wlatency.so min 99.99 99.999 max msec  0.0304 0.0362 0.0341 0.0394 0.0487 0.0781 0.1331 signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
3996,89c5c1a292e17de849ed19a84d50239f95a625e4,mitry Fleytman <dmitry@daynix.com>, 2014-02-10 17:00:38 +0200, , test misc bdev write introduce offset limitation useful testing ram disk writes fast enough fill whole image test execution time signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
3997,89464d6a037dd06ac5ca37f0c70a65786193866a,vi Kivity <avi@cloudius-systems.com>, 2014-02-10 15:49:48 +0200, , x64 nested exception scenario run elf file demand fault allocation leak detector tracking backtrace_safe page fault lead nested exception add support allocating extra stack signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3998,0568e8fe68a7f2e0a3d3dfbac998024819d0fb90,vi Kivity <avi@cloudius-systems.com>, 2014-02-10 15:49:47 +0200, , memory switch leak detector backtrace_safe scenario run elf image demand page fault allocation leak detector tracking backtrace access dwarf table lead nested demand page fault probably support switch backtrace_safe lower quality safer signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
3999,41f04a1cd42a1581aee217e5a28099c419a1e49f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-02-10 13:18:27 +0100, , java fix npe context called thread attached via jni case current context initialized fix default master context reported amnon heiman amnon cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4000,89b9b3e8b62858323daff1b839ccc5ad5edae183,vi Kivity <avi@cloudius-systems.com>, 2014-02-10 14:37:51 +0200, , completely ignore submodules ignore dirty work tree wrong head make impossible update submodules signed avi kivity avi cloudius systems.com,,
4001,5767c948449005603b0929b4a76dcf6498dee3c7,vi Kivity <avi@cloudius-systems.com>, 2014-02-10 14:37:22 +0200, , update openjdk.bin submodule signed avi kivity avi cloudius systems.com,,
4002,2828ef505f398b18e0a6a973b890278ee31046a5,vi Kivity <avi@cloudius-systems.com>, 2014-02-10 12:55:56 +0200, , merge branch net_channel net channel implementation signed avi kivity avi cloudius systems.com,,
4003,4293ad37af6f0dc421377419678e6d13a0e6e2e8,odrigo Campos <rodrigo@sdfg.com.ar>, 2014-02-07 23:25:29 +0000, , readme.md add maven dependency compile debian without maven bin mvn found error shown trying compile reviewed tomasz grabiec tgrabiec gmail.com signed rodrigo campos rodrigo sdfg.com.ar signed pekka enberg penberg cloudius systems.com,,
4004,f6717dbc2e82c40d181690cec8ba15d1fa76f310,leb Natapov <gleb@cloudius-systems.com>, 2014-02-03 15:15:46 +0200, , mmu map file mapping clear ptes one doe care dirty bit page table beneficial map everything dirty since relieve setting bit first access since file mapping use dirty bit reduce write back sync let map clean initially file shared since private file mapping sync disabled signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4005,1a9de4fb834ec0eab462c8f2b9d56c9fe7ecb2bd,leb Natapov <gleb@cloudius-systems.com>, 2014-02-03 15:15:45 +0200, , mmu enable demand file paging everything ready enable demand file paging disable unconditional populate mmap file provide fault file backed vmas fact file vma fault different anon vma fault provide one general vma fault handler reviewed glauber costa glommer cloudius systems.com signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4006,b6a1aa2e24c0e06099146134974caad159c0b4a0,leb Natapov <gleb@cloudius-systems.com>, 2014-02-03 15:15:44 +0200, , mmu write back dirty page file sync walk page table write dirty page file sync instead writing back entire mapping reviewed glauber costa glommer cloudius systems.com signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4007,bce4136900eff7ba904c7cbf0736da8385b95fe0,leb Natapov <gleb@cloudius-systems.com>, 2014-02-03 15:15:43 +0200, , mmu make map_file_page object reusable currently map_file_page object used since internal state change mapping operation demand paging want allocate delete object time mapping needed make map_file_page object reusable patch reset sate starting one finalize signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4008,55693e5c066b6393c1393c4406b6936b40149f01,leb Natapov <gleb@cloudius-systems.com>, 2014-02-03 15:15:42 +0200, , mmu separate page allocation page mapping process currently page allocated mapped sometimes want map preallocated page shared mapping mapping page cache page instance patch move page acquisition process separate class allow add subclass provides page shared page pool page cache signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4009,8336e39212af89a3e5666ea858e9ebc3f40d0b71,leb Natapov <gleb@cloudius-systems.com>, 2014-02-03 15:15:41 +0200, , mmu rely short read figure zeroed file_vma populate make code easier understand reviewed glauber costa glommer cloudius systems.com signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4010,0b098b93d1be50c20630fb0d5e7fd14b3dc0a5d7,leb Natapov <gleb@cloudius-systems.com>, 2014-02-03 15:15:40 +0200, , mmu fix fill_file_page starting read offset currently fill_file_page used populate entire vma starting offset mapped file offset always fill_file_page used populate part vma longer necessarily true keep track lowest file offset populated use read signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4011,cd8dc4a5fdcb31beaf26ad24a59353b50d108122,leb Natapov <gleb@cloudius-systems.com>, 2014-02-03 15:15:39 +0200, , mmu fix iovecs initialization fill_file_page value passed std vector constructor increase vector capacity also size want former later achieved reserve function also remove prev_off leftover debug code reviewed glauber costa glommer cloudius systems.com signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4012,d8b67a3fd997241e7222c83bdb920bc60fb94257,leb Natapov <gleb@cloudius-systems.com>, 2014-02-03 15:15:38 +0200, , mmu fix offset calculation page mapper generic page mapper code provides offset mapper small huge_page callback make offset meaningful offset beginning vma mapped currently offset starting address current mapping operation mean always zero mapping done page page fix passing starting vma address page mapper correct offset calculation signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4013,f9e68a26fd1149fb8c1e5d1062e8d009767b2d6d,leb Natapov <gleb@cloudius-systems.com>, 2014-02-03 15:15:37 +0200, , mmu fix vma execution permission checking trying execute unmapped page punishable offense long vma permission correct check reviewed glauber costa glommer cloudius systems.com signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4014,146690d145c6d9843acec5013a82057f877572f8,leb Natapov <gleb@cloudius-systems.com>, 2014-02-03 15:15:36 +0200, , test fix test_malloc use condvar synchronisation low level thread wait_until call caller supplied predicate preemption disabled caller supplied code access yet mapped memory trigger assertion page fault path reviewed glauber costa glommer cloudius systems.com signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4015,75b7a78989b1d27078d4c765f4f0788122877359,vi Kivity <avi@cloudius-systems.com>, 2014-02-10 11:41:58 +0200, , merge branch gce http github.com asia osv google cloud engine enabling signed avi kivity avi cloudius systems.com,,
4016,d9e6966f12afb1dc20b1a80826365da997c5a528,lauber Costa <glommer@cloudius-systems.com>, 2014-02-08 03:39:40 +0400, , reclaimer name reclaimer thread showing name gdb help name signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4017,b406ae7aeeb2c839988d8ad71dc0ce571c230609,adav Har'El <nyh@cloudius-systems.com>, 2014-02-09 15:45:14 +0200,188, convert tst epoll.cc standard replace osv specific construct tst epoll.cc standard counterpart i.e. std thread std chrono std cout test also run course succeeds linux general important linux abi test test implementation linux glibc functionality able run linux well otherwise possible test actually test right thing may test expected behavior actual behavior linux different preparation fixing issue 188 fix edge triggered epoll signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4018,b1d5e081665bac95de7b4be3698de3e8b68d6d41,adav Har'El <nyh@cloudius-systems.com>, 2014-02-09 13:15:29 +0200, , syscall make abort message visible syscall asked perform unknown syscall printed message debug called abort since recently message debug visible console pas message directly abort right thing signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4019,bd198d61cc0f5d4c06875965f483d3f52dfc4fc2,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-02-07 20:19:27 -0200, , makefile fix make clean line respective mgmt building instead cleaning  reviewed nadav har nyh cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4020,d73d5842c0f782325b4501985abba3109081ba7c,sias He <asias@cloudius-systems.com>, 2014-02-07 16:55:25 +0800, , ide fix ide probe ide_drive probe device probed including virtio scsi device way ide driver hijack virtio scsi handling fix matching device signed asia asia cloudius systems.com,,
4021,4c6187045ac377fe60215b16ddaca7512c44683e,sias He <asias@cloudius-systems.com>, 2014-01-28 20:27:28 +0800, , pci fix pci enumeration gce pci bus look like lspci 01.0 isa bridge intel corporation 82371ab piix4 isa rev     01.3 bridge intel corporation 82371ab piix4 acpi rev     03.0 scsi storage controller red hat inc virtio scsi     04.0 ethernet controller red hat inc virtio network device     make code single_bus branch however device present device scanned obviously want fix following almost correct except bus might void void  check_bus  address scan starting bus exit scan first non empty bus found first non empty bus find entire hierarchy signed asia asia cloudius systems.com,,
4022,98e72a1e676f5af28637d2e003765def566a68c4,sias He <asias@cloudius-systems.com>, 2014-01-28 17:30:16 +0800, , virtio scsi scan target default currently support scan one target scan target default gce default target let scan scan target signed asia asia cloudius systems.com,,
4023,44e49bad2443f7553a9bab7456d35f15ce63328d,sias He <asias@cloudius-systems.com>, 2014-01-28 16:59:26 +0800, , virtio scsi use response instead req already copied req response use shorter one signed asia asia cloudius systems.com,,
4024,dbf6a30e3daf0de20c5c9600caa9698ed5faa9f5,sias He <asias@cloudius-systems.com>, 2014-01-28 16:54:11 +0800, , virtio scsi fallback test_unit_ready scan luns gce doe support report luns fallback test_unit_ready scan luns signed asia asia cloudius systems.com,,
4025,20dfa3c383689ed214943728c44078a350c17e6f,sias He <asias@cloudius-systems.com>, 2014-01-28 16:51:10 +0800, , virtio scsi limit size request virtio scsi device handle request infinite size report max_sectors config space respect using dev max_io_size limit max request size work splitting large bios multiple smaller bios signed asia asia cloudius systems.com,,
4026,8eeece3334e6f21d828899b7f6d4477cc60139ae,sias He <asias@cloudius-systems.com>, 2014-01-28 11:11:34 +0800, , virtio scsi set tag scsi cmd tag unique identifier scsi cmd tag required one concurrent request flight set tag address bio using bio tag fine since two bio flight time one bio reused previous one finished already signed asia asia cloudius systems.com,,
4027,afecee3fa2e4952b10055b8799719c0c08a15e7c,sias He <asias@cloudius-systems.com>, 2014-02-09 09:40:54 +0800, , scsi fix typo scsi common.hh resreved reserved signed asia asia cloudius systems.com,,
4028,af03440d811cd3228834c0c734f7f2c6ccb23459,sias He <asias@cloudius-systems.com>, 2014-01-28 10:46:34 +0800, , scsi fix cdb_report_luns command format fix report luns cdb format according scsi spec signed asia asia cloudius systems.com,,
4029,f8eace8611f34f1776bc24c4f85536fa8467effd,sias He <asias@cloudius-systems.com>, 2014-01-28 11:07:49 +0800, , bio copy bio_private bio bio_private uesed low level device driver e.g virtio scsi one bio splitted multiple smaller bios copy bio_private newly created bios signed asia asia cloudius systems.com,,
4030,ef6db0583a44e67404a9b5e3f890f8120d73be4b,sias He <asias@cloudius-systems.com>, 2014-01-28 11:04:34 +0800, , virtio simplify device reset operation need reset reset device required virtio spec set device status zero enough reset device signed asia asia cloudius systems.com,,
4031,454338a59c87ac7344ea513822e8ff476fa997ba,sias He <asias@cloudius-systems.com>, 2014-01-28 10:56:16 +0800, , virtio scsi enable gsi interrupt support msi interrupt always implemented fallback gsi interrupt msi interrupt available signed asia asia cloudius systems.com,,
4032,62fb7db83a81546406fb531badb3e6949ff1e971,sias He <asias@cloudius-systems.com>, 2014-02-09 16:17:49 +0800, , virtio net enable gsi interrupt support msi interrupt always implemented fallback gsi interrupt msi interrupt available signed asia asia cloudius systems.com,,
4033,76137f3ac8da76e3f653be04b816fc612ebe79b6,sias He <asias@cloudius-systems.com>, 2014-01-28 10:49:03 +0800, , virtio blk enable gsi interrupt support msi interrupt always implemented fallback gsi interrupt msi interrupt available signed asia asia cloudius systems.com,,
4034,ca9eea6a8997ada671fe027e2a7116d583e7ddda,sias He <asias@cloudius-systems.com>, 2014-02-10 11:37:18 +0800, , interrupt handle unregister shared vector properly introduce handle unregister shared vector signed asia asia cloudius systems.com,,
4035,50bb8a78faa2e6251534366c2280965123bdf3f3,sias He <asias@cloudius-systems.com>, 2014-02-10 09:10:34 +0800, , interrupt rename gsi version overloaded overloaded version gsi parameter used fold  signed asia asia cloudius systems.com,,
4036,7ac5f0b49e211cee37878d622f4b1ad5bc4504a5,sias He <asias@cloudius-systems.com>, 2014-02-09 18:14:49 +0800, , interrupt call rcu_dispose unconditionally nullptr check done rcu_dispose signed asia asia cloudius systems.com,,
4037,d1ed2244be2c309e2f31df54e036fda20aeaed75,sias He <asias@cloudius-systems.com>, 2014-02-09 18:11:36 +0800, , rcu optimize rcu_dispose call rcu_defer pointer nullptr signed asia asia cloudius systems.com,,
4038,277189e4aba486d87ae61b5eaba843ad7d3dd2f2,sias He <asias@cloudius-systems.com>, 2014-02-09 09:20:37 +0800, , interrupt introduce add helper setup ack handler function gsi level interrupt signed asia asia cloudius systems.com,,
4039,5fc9daf82ffcb1fca71522819d6e325733e8bdee,sias He <asias@cloudius-systems.com>, 2014-02-09 09:19:12 +0800, , interrupt support interrupt sharing patch make multiple device share interrupt line work e.g gce share virito net virtio scsi interrupt signed asia asia cloudius systems.com,,
4040,6739a08dde044134a8d301c1039fa0ef9bd92893,vi Kivity <avi@cloudius-systems.com>, 2014-02-03 18:20:56 +0200, , test add shutdown test net channel caused crash shutdown add test excercise signed avi kivity avi cloudius systems.com,,
4041,bdb8ee130487e6fdf3dc9b0603272873e09cadbf,vi Kivity <avi@cloudius-systems.com>, 2014-02-03 16:47:24 +0200, , test convert tst bsd tcp1 boost unit test framework signed avi kivity avi cloudius systems.com,,
4042,45c9d09086573cc00ab4402f34fb77c5481bdff6,vi Kivity <avi@cloudius-systems.com>, 2014-01-19 14:27:20 +0200, , virtio net_channel integration reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4043,bd59ebb9d2db8dad7d5990bea012098416e2ac6c,vi Kivity <avi@cloudius-systems.com>, 2014-01-28 13:30:06 +0200, , net adjust net channel teardown lifetime tcpcb socket exactly either destroyed adjust net channel teardown take effect signed avi kivity avi cloudius systems.com,,
4044,09ca74207e12a07f04b366f9adfb70e03b5e007a,vi Kivity <avi@cloudius-systems.com>, 2014-01-27 17:15:19 +0200, , net process net channel sosend_generic process acks may arrived since previous send possibly moving send window allowing current send proceed signed avi kivity avi cloudius systems.com,,
4045,cca76f952ca6952d72df4dbe58244db790e7cabf,vi Kivity <avi@cloudius-systems.com>, 2014-01-27 17:15:48 +0200, , net flush net channel tcp_input avoid packet reordering flush net channel packet processing current packet tcp_input non net channel path doe guarantee prevention reordering since net channel packet may arrived later prevents common case tcp handle reordering optimization signed avi kivity avi cloudius systems.com,,
4046,128af65368a421e28bea16c303aee68b8b34de24,vi Kivity <avi@cloudius-systems.com>, 2014-01-29 13:26:27 +0200, , net allow tcp_do_segment without inpinfo global lock bsd stack requires global lock held state might want insert remove connection global hash insert case problem net channel since wire channel connection established removal different since may already packet channel back ignore encounter situation try acquire global lock usually succeed without problem esp net channel global lock taken infrequently fails drop packet rely sender tcp timer retry signed avi kivity avi cloudius systems.com,,
4047,70502950c097d082565952bfc9915278c7aedbce,vi Kivity <avi@cloudius-systems.com>, 2014-01-26 15:27:38 +0200, , net net channel poll integration add net channel poll net channel created connection existing file socket net channel attached file remove net channel poll net channel torn connection attached file connection net channel disassociated socket signed avi kivity avi cloudius systems.com,,
4048,0d355c1f16ee607a4a357199031daf983430bc9b,vi Kivity <avi@cloudius-systems.com>, 2014-01-23 16:55:17 +0200, , net check net channel soreceive add eager net channel check soreceive avoid sbwait high bandwidth streaming reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4049,3450a44d2c9710dc7e5ab29d7957317dffee3cc6,vi Kivity <avi@cloudius-systems.com>, 2014-01-23 13:26:54 +0200, , net flush net channel timer processing timer may invoked due application processing packet behalf timer processing proper avoid timing case reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4050,18ae6eb56b30bf751979305cd290d9c9cc357599,vi Kivity <avi@cloudius-systems.com>, 2014-01-25 20:10:21 +0200, , net wire tcp net channel packet processing strip away ethernet packet prepare packet tcp_do_segment signed avi kivity avi cloudius systems.com,,
4051,f27133b08f4a8990a22a6cd7ef9122a1e79c3da4,vi Kivity <avi@cloudius-systems.com>, 2014-01-25 20:08:38 +0200, , net wire net channel poll support socket socket associated net channel make sure wake polling thread packet arrives reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4052,7166ad017497c79e3d54368815e169000fa8d938,vi Kivity <avi@cloudius-systems.com>, 2014-01-25 20:05:53 +0200, , net add poll support net channel add additional optional list poll request net channel producer awakens used poll ensure awakened net channel activity signed avi kivity avi cloudius systems.com,,
4053,73f4669287ee2a81faa1e927994bea97ef348ca0,vi Kivity <avi@cloudius-systems.com>, 2014-01-26 18:26:48 +0200, , poll avoid false negative due net channel net channel cause poll awaken due received packet yet packet may cause change polled state case need loop avoid returning indicating timeout happened yet triggered netserver expects select return reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4054,07fcb7a950dd48441073bd9ef0c63c30798350c9,vi Kivity <avi@cloudius-systems.com>, 2014-01-25 20:02:41 +0200, , vfs add file poll_install poll_uninstall file type may interested know polled add hook  needed net channel polling thread must wake activity channel signed avi kivity avi cloudius systems.com,,
4055,b04676e2c4b30027863bccd651a3b4bb9070ffea,vi Kivity <avi@cloudius-systems.com>, 2014-01-22 15:51:05 +0200, , net add iostream support net channel tcp connection reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4056,c8f7d91acd58612f7fdbaaa24c031f2a45e54813,vi Kivity <avi@cloudius-systems.com>, 2014-01-22 15:48:32 +0200, , net tcp level net channel processing add hook setting tearing net channel connection enters leaf respectively define tcp packet processing callback signed avi kivity avi cloudius systems.com,,
4057,ecf6eff2062f3c7d8fb7e989386f558944f2901d,vi Kivity <avi@cloudius-systems.com>, 2014-01-22 15:47:21 +0200, , net add classifier helper ifnet signed avi kivity avi cloudius systems.com,,
4058,ce90e64898dbc485ff77d59c46287192967015a9,vi Kivity <avi@cloudius-systems.com>, 2014-01-22 15:43:26 +0200, , net consume net channel packet sbwait waiting socket buffer filled also wait net channel packet consume available since net channel support single consumer allow one thread wait net channel thread awakens wake waiting thread compete channel happen rarely reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4059,f820516b2b414be95d8fe74a8bca2f6f31da834a,vi Kivity <avi@cloudius-systems.com>, 2014-01-21 17:15:48 +0200, , net change tcp_do_segment conventional locking tcp_do_segment unlocks inp making difficult inefficient run loop change unlock inp adjust caller reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4060,e0e8e3cd54a9499a0fc612b1cfd44dab3888007e,vi Kivity <avi@cloudius-systems.com>, 2014-01-19 15:25:53 +0200, , net split ip_input split ip_input validation preprocessing stage dispatch stage preprocessing stage useful net channel packet already dispatched via classifier reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4061,3fc3c2daa4e19f4218f3f7d794470533bab7b97f,vi Kivity <avi@cloudius-systems.com>, 2014-01-19 15:01:27 +0200, , net split split packet validation preprocessing stage dispatch state first stage useful net channel implementation since packet already dispatched need preprocessing signed avi kivity avi cloudius systems.com,,
4062,2f2d7a979aa631f2e993fbb383e5ed36da959137,vi Kivity <avi@cloudius-systems.com>, 2014-01-21 13:36:23 +0200, , net allow state changing packet net channel let take normal path avoid complicating locking rule reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4063,1e4c9941dd0b430dff4afb35ddcb46c5aa6fb156,vi Kivity <avi@cloudius-systems.com>, 2014-01-19 13:02:03 +0200, , net add classifier object ifnet reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4064,65330e3412f79865ef4922bd09f15546220b1e91,vi Kivity <avi@cloudius-systems.com>, 2014-01-19 12:10:39 +0200, , net packet classifier add structure hold hash table net channel able classify tcp ipv4 packet dispatch via channel signed avi kivity avi cloudius systems.com,,
4065,264adbb5121709a7fab061b3292a38413aa8c398,vi Kivity <avi@cloudius-systems.com>, 2014-01-16 14:16:13 +0200, , net add net channel support add net_channel class connects packet producer packet consumer signed avi kivity avi cloudius systems.com,,
4066,79005e321f2f578e0b254d4ecd1c15e8485ac4b5,vi Kivity <avi@cloudius-systems.com>, 2014-01-21 13:16:42 +0200, , net remove socket lock use protocol layer connection lock instead protocol layer lock socket lock mainly used protecting socket buffer since stack traversed two different direction incoming packet first undergo protocol processing reach socket layer outgoing data first socket layer protocol processing upshot locking rule complicated since protocol connection lock held time real concurrency gained also problematic net channel since user layer want sleep single lock need socket lock protects buffer watching acquire procotol lock within socket lock due locking rule must drop acquire socket lock instead spaghetti use single lock layer lock recorded socket pru_attach time normal locking macro used important path converted avoid taking lock path remain still work since mutex recursive original locking look like outer lock inner lock global protocol rwlock protects tcp udp connection hash table inpcbinfo ipi_lock protocol level tcp udp rwlock protects tcp state udp state inpcb inp_lock socket buffer lock protects separate so_rcv so_snd socket buffer receive lock also protects entire socket sockbuf sb_mtx socket interleave prevention rwlock sockbuf sb_rwlock already replaced challenge net channel implementation face lock reading writing socket via syscall sleep sbwait socket buffer lock sockbuf sb_mtx since longer async packet processing sbwait must also wait net channel net channel support single consumer recv blocked sbwait so_rcv send blocked sbwait so_snd must communicate packet processed one affect requires unification send two sb_mtxs note tcp never made much sense since received packet affect unless pure send pure receive stream pure send pure receive stream suffer contention anyway lock order inverted app driven processing notice original locking take protocol level lock socket buffer lock appears fine dispatch packet stack working round sleeping socket lock sbwait need take inp_lock order process packet result unification socket lock protocol lock signed avi kivity avi cloudius systems.com,,
4067,0a1fd425af646712b96d8d86a00805cbaa5a1044,vi Kivity <avi@cloudius-systems.com>, 2014-01-21 11:31:59 +0200, , net convert inpcb lock mutex read write lock overhead always taken write inpcb lock tcp protocol used also prevents merging socket lock convert loser udp support parallelism single socket use separate data structure tcp udp future signed avi kivity avi cloudius systems.com,,
4068,038b36d151eb513b16768337a07bfcc3f5c40191,vi Kivity <avi@cloudius-systems.com>, 2014-01-20 20:23:46 +0200, , net unify socket so_rcv socket so_snd lock bsd split lock send receive socket buffer however tcp espcially net channel problematic tcp packet contain infomation stream lock taken anyway bsd try avoid unneeded often needed chatty protocol ack received data send reply tcp serialized anyway prococol layer mutex lock increase lock traffic without improving concurrency rare tcp active multiple thread simultaneously contention stack application solved net channel net channel want packet consumer sleep single mutex two mutexes impossible tcp writer also need consume incoming packet increase window size enable start sending prevents unifying socket layer locking tcp layer locking fix merging two lock single socket lock flip side parallel udp send receive suffer address later specialized locking udp signed avi kivity avi cloudius systems.com,,
4069,7851a8ca0555e01de21b507e0abbce8fe099b01d,vi Kivity <avi@cloudius-systems.com>, 2014-01-20 17:49:15 +0200, , net change sowakeup_locked family conventional locking semantics sowakeup_locked related function expect entered lock held drop exiting make hard understand modify code change conventional semantics signed avi kivity avi cloudius systems.com,,
4070,c772cd93fb3e131838e3d68c9b53b95bf0e7982a,vi Kivity <avi@cloudius-systems.com>, 2014-01-20 17:32:30 +0200, , net remove unused locking helper code churn later reviewed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4071,b231dbc8a7f0ac22d1cdb5bd0daa4c4cb4f6c996,vi Kivity <avi@cloudius-systems.com>, 2014-01-20 17:27:05 +0200, , net convert sowakeup helper inline function easier read modify reviewed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4072,5710bf2f24345f048d142396942487c96dd50b0b,vi Kivity <avi@cloudius-systems.com>, 2014-01-25 20:13:57 +0200, , sched add operator thread_handle useful removing handle container reviewed nadav har nyh cloudius systems.com reviewed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com,,
4073,5bfee0dba8faaa74f9092ad4170325fd1578ddd9,vi Kivity <avi@cloudius-systems.com>, 2014-01-25 20:13:28 +0200, , sched add operator bool thread_handle reviewed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4074,d61611ff56e9c43c4a803eb7ea3cb2c955e02fa5,vi Kivity <avi@cloudius-systems.com>, 2014-01-25 20:12:26 +0200, , sched add assignment operator thread_handle useful stored container reviewed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com,,
4075,0e087fd7015cd2d762eb98ebd4835ebf6b8f0900,vi Kivity <avi@cloudius-systems.com>, 2014-01-25 20:11:23 +0200, , rcu make read_by_owner const like iterators fact rcu pointer changable mean anything pointed data reviewed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4076,75e25751c7a3a7b44cc578e0e069bb653e16e1d5,sias He <asias@cloudius-systems.com>, 2014-02-09 08:59:42 +0800, , interrupt change signature pre_eoi pre_eoi return true interrupt device false otherwise preparation interrupt sharing support signed asia asia cloudius systems.com,,
4077,cd79456a2271ee7c70ddf3b756b887706b73ffc7,hi Yong Wu <zwu.kernel@gmail.com>, 2014-02-07 00:17:32 +0800, , build ignore change submodules commit change osv.git usually make mistake also commit change submodules avoid patch trying add ignore .gitmodules file signed zhi yong zwu.kernel gmail.com signed pekka enberg penberg cloudius systems.com,,
4078,60319ba71ed7d2b3b418455c202e6f8523745c08,adav Har'El <nyh@cloudius-systems.com>, 2014-02-05 18:05:22 +0200, , mempool waste 8mb memory unused buffer patch reduces size 9mb 1mb reduces minimum amount memory required run rogue image together previous patch fix almost lock free smp allocator cpu cpu ring send freed memory one cpu another cpu need buffer apparent attempt support cpu hotplugging current code allocated queue cpu instead real number cpu even single cpu always buffer little totaling whopping 8mb wile tiny fraction ever used patch change code allocate number queue really need doe support cpu hot plugging lot place code support hot plugging either left fixme remind need fix reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4079,1d6732e585ed165933c336544dc7dfb9b744a546,hi Yong Wu <zwu.kernel@gmail.com>, 2014-02-07 00:16:14 +0800, , cleanup libunwind stuff .gitmodules signed zhi yong zwu.kernel gmail.com signed pekka enberg penberg cloudius systems.com,,
4080,58bead6d3a7981787cb00c58100b929e56f261d9,adav Har'El <nyh@cloudius-systems.com>, 2014-02-07 11:00:25 +0200, , module add provides feature recently added thanks gleb openjdk8 module provides java however one hope get shell openjdk8 using make image openjdk8 mgmt.shell mgmt.shell requires java module end using java openjdk8 module simple patch allows openjdk8 module.py say provides java mean later loaded module doe require java load java module opendjk8 claim already provides signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4081,b010973e3813013b0b9a65edc9769b06812648ce,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-02-07 10:18:52 +0100, , apps move submodule head tomek say commit author tomasz grabiec tgrabiec cloudius systems.com tomcat set logging property app level commit author nadav har nyh cloudius systems.com openjdk8 provide java commit author nadav har nyh cloudius systems.com add openjdk8 module commit author avi kivity avi cloudius systems.com add iperf module nadav also writes openjdk8 provides java meaning module need java statisfied openjdk8 instead mean one simply make image openjdk8 mgmt.shell get crsh shell running openjdk instead default openjdk  make image mgmt.shell continue use default openjdk note since openjdk yet officially released openjdk8 module fetch latest openjdk source repository compiles lengthy process requires quite esoteric development package e.g. various window header file installed build machine compilation unlikely succeed first attempt attempted faint heart also note currently one need apps openjdk8 get get compile source put makefile cause happen automatically thanks gleb script compile openjdk fix 193 signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4082,f48a16ec7a14e81bd54f4402eab922b13d73592a,adav Har'El <nyh@cloudius-systems.com>, 2014-02-07 11:07:38 +0200, , elf use abort ... elf.cc abort message ever since debug default putting message memory console useful call debug abort need pas message abort right thing signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4083,5a60accd731d21d26de886d4e44de2b6c5d8d195,adav Har'El <nyh@cloudius-systems.com>, 2014-02-07 11:11:18 +0200, , elf informative exception program lookup_function program lookup_function used example java.cc find function throw std runtime_error exception used useful message symbol found patch add symbol demangled name exception printed e.g. caught get informative message signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4084,d4a16108a43bd59c2b96d22658f7cb1e61975b00,ekka Enberg <penberg@cloudius-systems.com>, 2014-02-07 10:57:53 +0200, , merge branch boot time measurement signed pekka enberg penberg cloudius systems.com conflict loader.cc,,
4085,2209c95a2417c8e54c2ecf11fe4ec0c125f1bdc3,lauber Costa <glommer@cloudius-systems.com>, 2014-02-06 16:03:06 +0400, , loader add bootchart option booting bootchart osv print summary boot time spent point right execution main mechanism extended later keep measuring later using facility account application etc example output osv v0.05 156 gd3918a1 disk read real mode 132.94ms 132.94ms .init function 146.10ms 13.16ms smp launched 147.57ms 1.47ms rcu initialized 150.61ms 3.04ms vfs initialized 154.08ms 3.46ms network initialized 160.79ms 6.71ms pvpanic done 162.31ms 1.52ms pci enumerated 171.45ms 9.14ms driver probe 171.46ms 0.02ms driver loaded 182.52ms 11.06ms zfs mounted 2116.32ms 1933.80ms total time 2116.70ms 0.38ms signed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4086,d38883fa0ba07eba5967a7756c5153ab7ed498da,lauber Costa <glommer@cloudius-systems.com>, 2014-02-06 16:03:05 +0400, , boot take early timing past struggled long delay reading data disk real mode leading big boot time totally gone reason useful know much time spent process unstable broken tsc pretty much ally proposing patch take timing key state bootloader pas main loader adding space end multiboot_info structure pas field right using byte pas bit tsc read signed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4087,61842f119031628a5e58216248c1d0c8a10f2d00,lauber Costa <glommer@cloudius-systems.com>, 2014-02-06 16:03:04 +0400, , loader measure key point signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4088,3ab3a6bb616c233a113a8d4723d9b32df16c7d22,lauber Costa <glommer@cloudius-systems.com>, 2014-02-06 16:03:03 +0400, , general infrastructure boot time calculation proposing mechanism allow better idea much time spend booting also much time piece contribute need able get time stamp really early place tracepoints may available clock definitely  proposal one able register event system boot calculate total time since first event well delta since last event first event early enough produce good picture boot time signed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4089,2df3c0293aa2b237402e97cc90408baccf0e4440,lauber Costa <glommer@cloudius-systems.com>, 2014-02-06 16:03:02 +0400, , pvclock reuse pvclock functionality convert tsc nano patch provides way given measurement tsc acquire nanosecond figure work xen kvm pvclocks intend use acquiring early boot figure possible measure tsc frequency figure convert tsc read nanosecond think pay price pvclock driver already provide functionality planning many user interface anyway signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4090,3ea5ea3418bd312f61af14a9efc37634de78f358,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-01-30 18:36:56 -0200, , test tst zfs mount add check vop_inactive functionality reviewed glauber costa glommer cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4091,ca805bdb48465fdc7dbd46e1c4eee2e64d7c6d1e,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-01-30 18:36:55 -0200, , vfs zfs sync vnode znode refcounts mismatch vnode znode refcount found working leak series able come good solution time patch address problem could potentially leak znode object function vrele vfs layer along change made zfs_inactive prevent zfs_inactive working properly znode simply put zfs_inactive able release refcnt znode actual problem come effect znode holding two refcounts happens underlying znode object would stay around forever least till osv switched scenario example problem would take place consider opened file link znode structure created refcnt set afterwards open file link inode link another znode created instead refcnt znode used link would bumped thus fix problem first allow zfs_inactive work znode till refcnt reach zero vdata must set null sure znode actually destroyed let conditionally regarding znode refcnt note also properly initialize field z_vnode every znode creation finally fix vrele call vop_inactive even vnode object supposed destroyed would release refcnt znode properly zfs_zinactive called zfs_inactive would destroy znode object refcnt reach would also synchronize vnode refcnts znode one script test.py succeeded reviewed glauber costa glommer cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4092,1dc81fe5483731bfb6af3c7073ff2dbb0374dc22,adav Har'El <nyh@cloudius-systems.com>, 2014-02-07 10:24:01 +0200, , elf access object preemption disable program lookup program lookup_addr written optimal performance look freedom using rcu lock protect short module iteration however demand paged file mapping actual object demand page assume object memory read without sleeping switch function use with_modules general somewhat slower technique iterate module with_modules rcu lock used copy list module protection individual module deleted done separately incrementing reference count preventing module deleted make symbol lookup bit slower symbol lookup relatively infrequent usually occur early application startup first time symbol used measuring java startup time example see measureable slowdown fix 169 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4093,0f3a2351effad574d90f284180639261fed90fc2,akuya ASADA <syuu@cloudius-systems.com>, 2014-01-30 15:24:05 +0900, , ignore len write call upper layer function may call console write null pas console driver signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4094,4b18685daa5544e0766195fec9eddd454aac149b,akuya ASADA <syuu@cloudius-systems.com>, 2014-01-30 15:24:04 +0900, , wait next character readch return kbd.cc vga.cc may return readch readable character available need ignore wait next character signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4095,5c39d824b4c23e068698ff1e22043a222d4a8acb,akuya ASADA <syuu@cloudius-systems.com>, 2014-01-30 15:24:03 +0900, , handle vga console input output libtsm pas received str libtsm emulate use kbd.cc handle console input signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4096,25e0b4a36fdd112fa74b1702678cc6bd1d9c7c16,akuya ASADA <syuu@cloudius-systems.com>, 2014-01-30 15:24:02 +0900, , add kbd build.mk signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4097,e02061627154d31e92ac3a405fd39a6d7b1ccaa2,akuya ASADA <syuu@cloudius-systems.com>, 2014-01-30 15:24:01 +0900, , add keyboard driver add keyboard driver use inside vga console driver provides console input functionality signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4098,2410085394925bfaadd59aa74ae07c116626e286,akuya ASADA <syuu@cloudius-systems.com>, 2014-01-30 15:24:00 +0900, , add libtsm build.mk signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4099,f46982037cbfb0d73cd4f0f07eef60a82c538e90,akuya ASADA <syuu@cloudius-systems.com>, 2014-01-30 15:23:59 +0900, , add libtsm license file signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4100,dff73dc047e3c958ddc60858c11ad6560a0ee760,akuya ASADA <syuu@cloudius-systems.com>, 2014-01-30 15:23:58 +0900, , import libtsm implement terminal emulation vga console import terminal emulation library called libtsm http wiki software kmscon libtsm used terminal emulation vga console signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4101,d3d70a9a944c657754e85cc23663de56fa6a7a30,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-28 17:22:56 +0100, , module fail build module make fails error unnoticed cause manifest upload failure necessarily reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4102,81aa5e8168f8e87f4a3667c0606680e6798d73df,laudio Fontana <claudio.fontana@huawei.com>, 2014-02-06 16:02:35 +0100, , api aarch64 add alltypes.h.sh script first header add alltypes.h.sh first header bit signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
4103,cb89b6d79a10ca2fdb04643c4d00c6f8fe262125,lauber Costa <glommer@cloudius-systems.com>, 2014-02-06 23:33:27 +0400, , java reenable balloon fix known problem balloon tree reenable signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4104,bc35d033df6d5261f48703f5c1e5d65f8211c452,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-06 17:55:59 +0200,119, module move module mgmt mgmt pointed http github.com cloudius system osv issue 119 module mgmt placed mgmt complete move deleting file signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4105,604789d89102379f0200b7b53441663f41857d78,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-06 17:55:58 +0200,119, makefile remove gradle main makefile pointed http github.com cloudius system osv issue 119 mgmt placed module mgmt mgmt treated module config.json point mgmt makefile mgmt take care running gradle signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4106,ee22aa3d18a44867a6201d5424b4083dc3f9b419,ekka Enberg <penberg@cloudius-systems.com>, 2014-02-06 21:34:52 +0200, , mgmt update latest signed pekka enberg penberg cloudius systems.com,,
4107,1c70b3c159e9b83477d60d3e34b5441bb811388e,ekka Enberg <penberg@cloudius-systems.com>, 2014-02-06 21:24:49 +0200, , merge branch isolation github.com tgrabiec osv,,
4108,29d61f83eed80fb1ff2987afae97027b62b4c65d,vi Kivity <avi@cloudius-systems.com>, 2014-02-06 18:23:40 +0200, , gdb fix osv info thread std chrono time_point change representation time changed update osv info thread work reviewed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4109,cbb86b1874c094d5ffcc8fbc7875e1557f753387,vi Kivity <avi@cloudius-systems.com>, 2014-02-06 18:16:46 +0200, , gdb adjust external external x64 move arch autodetection yet reviewed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4110,8aead15fb18462a9af34b074dfc17ad1a9a30c62,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-27 17:30:37 +0100, , test.py run java test java test fit current model well created basic abstration allows fit java test single mode especially problematic assumed testrunner.so able run test longer case changed test managed testrunner ran single guest instance test ran one one,,
4111,cc8f286ec84767e9cd0ae531071e2e04c5ec42c0,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-27 16:59:30 +0100, , test.py exit error code run.py fails,,
4112,07251bf40cc357213e71c2f86354c41af4026b7e,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-27 16:57:11 +0100, , java add java test module run java test osv make image java test script run.py,,
4113,f138fe08bbaad5243c5fe09624eadcbd829b505c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-27 15:32:12 +0100, , java add test java code test run host using host jre like java mvn test mainly useful development short modify test cycle test eventually executed osv support follow test code split two module yield two separate jar test contains test case test isolates contains code started isolated context need separate jar two different classpath isolate thus realistic test,,
4114,710ed6dac3b72badb84108efa09f6fe4462bbe6f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-27 12:50:57 +0100, , java reduce visibility contextisolator method,,
4115,c6c55dae2192abc437a221ce76c8dbcd14bd2cad,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-27 12:34:09 +0100, , java add support sending message isolated context since class space isolated exchange object context using static field anymore need mechanism pas object isolates started test able coordinate execution solution simple send receive support allows pas object around,,
4116,4ed3be33b0d2fef36a042288ef595fb64e99ed66,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-25 17:36:39 +0100, , java pas exception thrown context joiner help invoker determine isolate executed successfuly,,
4117,29e4f3bba3b0d7e87ec4642b963605111f49dd3f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-22 13:42:28 +0100, , java implement getclasspath method system class loader tomcat try invoke method class loader instance urlclassloader make message like away jan 2014 buildclasspath info unknown loader fce56f8 class,,
4118,a23220ae84094ecfb54c1c0bdc8f276f1bcfccf3,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-24 17:34:26 +0100, , java set context class loader context main thread optimization save isolate code going proxy,,
4119,211bb7fb61916fe4aad45745da60a22fd8b46f8b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-24 17:13:12 +0100, , java pollute isolate classpath isolator dependency want cglib class needed io.osv class accessible application class could cause problem application would want use version cglib case application provided cglib would masked one inside osv solve problem set current class loader application class loader parent instead link proxy combine bootstrap class loader original system class loader allowing class io.osv package loaded system class loader class loader diagram  bootstrap     io.osv system filtering      app    app  way application may still use osv java apis doe see class dependency may load version class,,
4120,b174b89c9b04af2d84545f9911cbb913b1400ea9,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-24 17:00:30 +0100, , java isolate system property context solution using java reflection api replace property object system.prop version delegate per context property allows application see different value property work property set via command line parameter programatically,,
4121,af60e6cf2acffde91a4293b81b080ef45754cd94,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-22 15:43:00 +0100, , java get rid redundant class,,
4122,e5cff9cc3ad4a33608331cd79864472608044951,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-22 13:53:46 +0100, , java fix possible npe expandclasspath file.listfiles may return null spotted intellij,,
4123,2f0c9395fa84f5880e54f24e4b89de9bc3db633c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-22 15:04:53 +0100, , java use varargs run argument make api friendly,,
4124,424e12455bab9f686399570e498d0d7f18360468,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-22 13:49:08 +0100, , java cleanup,,
4125,868ac399d87cfac768fc8946124d9e5bdf18c75b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-22 10:54:08 +0100, , java remove support xclassloader use hardly think way could useful,,
4126,21f2af701fb60d890d05198f67448d5e3e9edfdc,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-21 20:25:54 +0100, , java make contextisolator throw exception argument invalid currently error printed console throwing exception allows api user react situation appropriate way example new application started using web interface printing console useless,,
4127,c0e2c6e314783c36a6bb4c442948fd4699e35bdb,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-21 20:07:49 +0100, , java move version handling runjava doe belong isolate api command line java starter,,
4128,e8e3f3a3d40ce39aea685892afe9c5c9a88fea97,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-21 20:01:06 +0100, , java apply coding style auto reformat performed intellij alt ctrl,,
4129,f3df41808655e0003a461eefbf74cdd9b4e52a3e,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-21 19:49:39 +0100, , java make runsync interrupt context wait interrupting thread blocked waiting isolate complete started via runsync interrupt isolate waiter return isolate terminated think user would expect happen interrupting foreground process,,
4130,98d95bc2b733ef3969a61f52287ce91e8e1397b6,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-21 19:40:00 +0100, , java move context creation logic runjava contextisolator contextisolator generic api starting new application inside single jvm runjava command line starter api tried change little possible code move change logic clearly visible change adapt code generic api next patch,,
4131,901a68d0003202abca42d5a1513c108c0f7287fe,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-20 18:13:54 +0100, , java implement isolation manager j.u.l framework allows one log manager exist isolate logging configuration need install log manager delegate context local log manager see 172 order fully isolated logging config system property need also isolated come following patch,,
4132,ce6cc028cc9a08cf4ece4a462a540101f28f1512,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-20 09:36:24 +0100, , java use maven build runjava module allow use automatic dependency management slows build bit incremental build take second longer previously first build take longer due downloading maven artifact per machine,,
4133,1db1633aa487f370060d44ad4eff44f0e92ab209,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-21 18:27:48 +0100, , java create standard java module structure runjava module convention organize java module following way src main java source root production code src test java source root test code,,
4134,a0be9a346ae5e917cf7db116c7c0eade9b7e9024,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-21 13:22:34 +0100, , java introduce utility lazy initialization need static initialization like semantics several place abstraction make easier,,
4135,c0c1ef63368e33d0cc294c824563c9d5d7ad8a63,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-20 18:08:06 +0100, , java extract abstraction isolated application aim support running multiple isolated java application one jvm work already done isolate system class loader much isolated application aka context map class loader one context may many different class loader change extract context specific logic separate class base addition,,
4136,61e5692938b6a73c2265b046d231d764cfbd77be,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-23 14:28:14 +0100, , java print exception thrown findclass env findclass trigger class initialization may throw exception instead printing misleading information class found print exception stack trace,,
4137,0a21c05bb4398efe476013f38ec28d956ac80adc,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-22 17:54:50 +0100, , java print error stderr rather debug ring currently debug message printed console default,,
4138,f79965e5c12795382723cb3075074ad3c1072f02,hi Yong Wu <zwu.kernel@gmail.com>, 2014-02-06 22:25:22 +0800, , run.py introduce vnc option allow user specify vnc port number port often occupied application signed zhi yong zwu.kernel gmail.com signed pekka enberg penberg cloudius systems.com,,
4139,fc469b4d732a8ab06173ec1c64be66ef9b4d21aa,lauber Costa <glommer@cloudius-systems.com>, 2014-02-03 17:04:10 +0400, , jvm_balloon handle explicit unmapping case jvm may unmap certain area heap completely confirmed code inspection gleb case current balloon code break deleting vma finish_move recreating old mapping implicitly process new patch tear jvm balloon mapping done separate function unmapping evacuating region trigger still need communicate balloon code address balloon list calling page fault handler empty frame patched interpret empty frame correctly signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4140,a814c5a71b13c58e89efd5949cb00784b3e54d90,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-09 13:11:24 +0300, , runtime support format specifies abort add format specifier support abort make easier produce useful error message signed pekka enberg penberg cloudius systems.com,,
4141,b0b5462ffa1ed9fbecf542738c5e178522c02d30,adav Har'El <nyh@cloudius-systems.com>, 2014-02-04 22:54:53 +0200, , elf fix also fix also concurrent use per module use new mutex mutex protect could probably done something rcu instead adding new mutex lot easier signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4142,8213bf13b4c4184e862721453dccd260c80606e0,adav Har'El <nyh@cloudius-systems.com>, 2014-02-04 22:54:42 +0200, , elf fix shared object unload concurrent dynamic linker use patch one race remains dynamic linker object unloaded symbol resolution object iteration dl_iterate_phdr progress function progress may reach object already unmapped memory crash therefore need delay unmapping object object iteration going need allow object deleted _modules _files list new call find temporarily delay actual freeing object memory cleanest way achieve would increment module reference rcu section modules_get get deleted still use however signficantly slow user like backtrace dozen atomic operation chose different solution keep counter non zero cause module deletion delayed counter drop back zero with_modules need increment single counter every separate module fix 176 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4143,8906d4da192d017f5b7995281e2c067f6acb0c2d,adav Har'El <nyh@cloudius-systems.com>, 2014-02-04 22:54:32 +0200, , elf refactor shared object deleter current code shared object reference count drop zero shared_ptr object call delete object call object destructor see file file call program remove_object remove object program _files list order always awkward unexpected even comment file noting delete contrary delete call next patch longer live order awkward also wrong next patch want shared object immediately removed program longer found resolving symbol etc actual deletion object delayed till convenient time work deletion object start removal program need opposite removal object program delete object luckily easy properly using shared_ptr deleter lambda tell shared_ptr call remove_object delete reference count drop zero signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4144,68afb68ee84769db064949839ee50bff08145c6e,adav Har'El <nyh@cloudius-systems.com>, 2014-02-04 22:54:21 +0200, , elf fix shared object load concurrent dynamic linker use patch address bug use dynamic linker looking symbol iterating list loaded object parallel new library loaded get_library underlying problem unprotected _modules vector loaded object need iterate look symbol list module change new shared object loaded decided solve problem using mutex protecting object load unload _mutex would make boot slower thread using new symbol blocked another thread concurrently loading unrelated shared object big problem demand paged file mmaps using mutex also cause deadlock leak detector lock order reversal malloc elf mutexes malloc take lock first backtrace take elf lock hand elf take lock call malloc taking malloc lock instead patch rcu allow lock free reading module list rcu writing adding removing object list manufacture new list defering freeing old one allowing read continue using old object list note patch concurrent lookup get_library work correctly concurrent lookup object unload still still correct need defer object unloading memory lookup progress solved following patch signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4145,bf92fe7f25b277e1bc9812981213719eb93b7e93,adav Har'El <nyh@cloudius-systems.com>, 2014-02-04 22:54:11 +0200, , elf fix rare load unload race previous patch fixed concurrent shared object load unload bug except one still rare race loading unloading library word possible library reference count went destruction promptly start mutex yet taken get_library get called load library return already loaded one process destructed case need ignore library found load luckily std weak_ptr notion expired shared pointer already went lock atomic implementation thereof make fixing problem easy natural existing code already assert place protect race rare never actually saw patch fix race signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4146,566c77f6454db53c2a11288845ab138c4fe3f7be,adav Har'El <nyh@cloudius-systems.com>, 2014-02-04 22:54:01 +0200, , elf serialize shared object load unload current dynamic linker code elf.cc thread safe sort disaster happen shared object loaded unloaded used concurrently following patch solve problem stage first stage patch protect concurrent shared library load unloads dynamic linker also use concurrently still cause problem solved next patch library load unload use bunch shared data without protection concurrency cause disaster example two concurrent load pick address map object solve using mutex ensure one shared object loaded unloaded time instead coarse grain locking could used finer grained lock allow several library load proceed parallel protecting actual shared data however benefit small demand paged file mmaps loading library set memory map quickly object actually read disk later page get used fix 175 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4147,8947cb9ac249c2edfaae75c3acfcb25ca7cf61fe,adav Har'El <nyh@cloudius-systems.com>, 2014-02-04 22:53:39 +0200, , fix loader.cc parallel running bug running command background do_main_thread pass command line std vector pointer new pthread unfortunately soon afterwards vector scope result crash fix oversight signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4148,30ea16cea884ec28ef7d6e178172ae849ca15d92,adav Har'El <nyh@cloudius-systems.com>, 2014-02-04 22:53:28 +0200, , add scope_lock mutex macro add macro scope_lock mutex lock given mutex unlocks scope end raii mutex correctly get unlocked even scope exited via return exception doe std lock_guard far verbose use std lock_guard mutex one nees something like std lock_guard mutex guard mutex type need repeated name need invented guard likely used macro make thing unnecessary one writes scope_lock note with_lock ... usually preferred scope_lock however scope_lock come handy case example adding lock function without reindenting signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4149,0a823ad24e67c8a6cd299d660760c40a90650bd5,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-01-29 18:36:52 -0200, , vfs unmount proc release refcnts pertained root proc must unmounted release refcnts pertains root mountpoint i.e zfs preventing zfs_umount releasing dentries properly thus vop_inactive called respective vnodes found problem dumping mountpoint refcnts reviewed glauber costa glommer cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4150,021dad4409f07fb5981d05a824508a3f534cf343,hi Yong Wu <zwu.kernel@gmail.com>, 2014-01-25 22:36:23 +0800, , script add checkpatch.pl qemu project osv coding style similar qemu script probably need work specific coding style start somewhere ... signed zhi yong zwu.kernel gmail.com signed pekka enberg penberg cloudius systems.com,,
4151,e2da4e3e8c5a64990dc3173c6b6214a181ed5122,lauber Costa <glommer@cloudius-systems.com>, 2014-02-05 13:21:19 +0400, , xen tracepoints interrupt handler following patch implement two tracepoints helped debug xen blkfront problem two tracepoint pair one measuring time spent processing interrupt time interrupt huge latency could due either signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4152,4a68aee367df05acfb4858423c55e3869bfc56e8,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-02-05 23:43:55 -0200, , test add tool analyze arc shrink functionality main purpose tool understand analyze arc behavior performance specific workload script run.py test misc zfs arc.so help osv v0.05 155 g1f04e49 allowed option help produce help message set max target set arc max target system memory check arc shrink check arc shrink functionality test arg analyze arc performance given testcase e.g test tst 001.so set max target used check performance arc max target higher usual given data load arc zfs operation need would perform better chosen low watermark avoiding bunch memory pressure thus stability check arc shrink check functionality function arc_shrink arc test arg check arc performance specified testcase e.g script run.py test misc zfs arc.so test tst link.so default run i.e test misc zfs arc.so provides four distinct workload non linear one prefetch effective load data cache read afterwards check performance case almost speed main memory linear workload amount data 1.5 size system memory thus page replacement strongly used operation sequential prefetch readahead must effective lead high cache hit ratio block read ahead time keep allocating memory populated anonymous mmaping see shrink would take place release memory back operating system eventual report arc stats provided ease task understanding arc performance specific workload signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4153,0ee2e41701fe0dd132bed38d39b15c90cdf40e74,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-02-05 23:43:54 -0200, , test testcase reproduce variety workload mainly created used tool reproduces specific workload allowing understand underlying component performing e.g adjustable replacement cache arc zfs reviewed glauber costa glommer cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4154,0560d33f5bfaf71f6acb83816986d26c09b21502,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-02-05 23:43:53 -0200, , bsd register arc shrinker patch register arc shrinker using event handler list bsd side arc initialized insert lowmem event handler external event handler list lowmem basically signal reclaiming thread wake decide approach used shrink arc memory pressure osv activated watermark reached shrink policy decide shrinker called event responsible find lowmem event handler external list integrate shrinker infrastructure arc_lowmem needed change return amount released memory arc glauber tested functionality filling arc target allocating much memory possible see arc shrinker would take place release memory back operating system signed glauber costa glommer cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4155,76404d3ce5dd72aa77d03241fa64de26a6222e63,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-02-05 23:43:52 -0200, , arc enable portion code needed reclaim thread check reclaiming needed looking two possible condition variable needfree set memory used higher system memory actual problem completely disabled would always return i.e reclaim needed add stub avoid unneeded ifdef reclaiming support planned let enable needed implement kmem_used used determine amount memory used far reviewed glauber costa glommer cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4156,d86cdb1117a8be33d3e703a0ef8f3ef356a2055d,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-02-05 23:43:51 -0200, , kstats initial implementation important make initial implementation arc_stats completely relies exported outside world reviewed glauber costa glommer cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4157,1f68b4b7b06bf97d235050f6f82fdd2c202480cf,laudio Fontana <claudio.fontana@huawei.com>, 2014-02-06 10:30:05 +0100, , build provide simple starting point implement simple target detection borrowing idea previously makefile add basic recognition passed envs arch cross_prefix along cxx host_cxx host_cxx necessary compiler used produce run binary build time signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
4158,5fe27b88c706242a597fe5b5c332ddafc6f5b2a5,ekka Enberg <penberg@cloudius-systems.com>, 2014-02-06 12:37:00 +0200, , merge branch code cleanup signed pekka enberg penberg cloudius systems.com conflict arch x64 processor.hh driver pci function.cc,,
4159,3f155c96b10eaf4c8b3746c878a6638e851ccd86,akuya ASADA <syuu@cloudius-systems.com>, 2014-02-05 08:23:02 +0900, , coding style fix xen_intr.cc signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4160,7b1a9f1f0e3b3fbcf753e16a9d9871f77dccec57,akuya ASADA <syuu@cloudius-systems.com>, 2014-02-05 08:23:01 +0900, , coding style fix processor.hh signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4161,61b4f41303cd82975212e9be477be42cfd14f236,akuya ASADA <syuu@cloudius-systems.com>, 2014-02-05 08:23:00 +0900, , coding style fix xenfront.cc signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4162,f1a6232d7e98686410eeb555ea8bcc8f78d794ca,akuya ASADA <syuu@cloudius-systems.com>, 2014-02-05 08:22:59 +0900, , coding style fix xenfront xenbus.cc signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4163,403da2f54299a530b6c786a9d73b1820bad443ff,akuya ASADA <syuu@cloudius-systems.com>, 2014-02-05 08:22:58 +0900, , coding style fix virtio.cc signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4164,74ee22cca761efd8ce82b57a358658bac3f377ad,akuya ASADA <syuu@cloudius-systems.com>, 2014-02-05 08:22:57 +0900, , coding style fix virtio vring.cc signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4165,b2da9adee8d1a4ff09a28bd35e795e70de723c08,akuya ASADA <syuu@cloudius-systems.com>, 2014-02-05 08:22:56 +0900, , coding style fix virtio rng.hh signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4166,519389ac7ae492dbbea281e30f70e3fac0ca7f83,akuya ASADA <syuu@cloudius-systems.com>, 2014-02-05 08:22:55 +0900, , coding style fix virtio scsi.cc signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4167,b36f1e3effe0cb0d43aeb54a08ed2801862ad68d,akuya ASADA <syuu@cloudius-systems.com>, 2014-02-05 08:22:54 +0900, , coding style fix virtio net.cc signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4168,15baf372e7480070353e32d6f5c913fb6f4e12a4,akuya ASADA <syuu@cloudius-systems.com>, 2014-02-05 08:22:53 +0900, , coding style fix virtio blk.cc signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4169,3ffadb0648ea6dd0a8d3651d175ba6c30d038c9b,akuya ASADA <syuu@cloudius-systems.com>, 2014-02-05 08:22:52 +0900, , coding style fix pci.cc signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4170,3b6d6100aa0cbf5df5ae043b55d63887cc4a84d3,akuya ASADA <syuu@cloudius-systems.com>, 2014-02-05 08:22:51 +0900, , coding style fix pci device.cc signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4171,d5a7a84221cd5adc81632ac977712b97b641d3e0,akuya ASADA <syuu@cloudius-systems.com>, 2014-02-05 08:22:50 +0900, , coding style fix pci bridge.cc signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4172,9787aa705708cc61e9a0979c0c844c79a9ae7fc0,akuya ASADA <syuu@cloudius-systems.com>, 2014-02-05 08:22:49 +0900, , coding style fix isa serial.cc signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4173,eeb0e925f8748d06a17a3cb0d539c2778f740a60,akuya ASADA <syuu@cloudius-systems.com>, 2014-02-05 08:22:48 +0900, , coding style fix hpet.cc signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4174,e10e39319bc95c3ed1a5f457b45363d5259736a9,akuya ASADA <syuu@cloudius-systems.com>, 2014-02-05 08:22:47 +0900, , coding style fix driver.cc signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4175,6140d4c469d37906ed91b48e83ff896b94f32001,akuya ASADA <syuu@cloudius-systems.com>, 2014-02-05 08:22:46 +0900, , coding style fix device.cc signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4176,4aaa62ba541f3c5869fb12a1c48ab0d063ef893d,akuya ASADA <syuu@cloudius-systems.com>, 2014-02-05 08:22:45 +0900, , coding style fix acpi.cc signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4177,1b32e3d00bfb6236cba306fad012f34315d01dab,akuya ASADA <syuu@cloudius-systems.com>, 2014-02-05 08:22:44 +0900, , coding style fix pci function.cc signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4178,4da6547b9db86b163d9aadf70ff31da36acf1fd2,adav Har'El <nyh@cloudius-systems.com>, 2014-02-04 16:00:52 +0200, , codingstyle.md update coding style issue collected review last day mostly avi signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4179,851cd10f597c0d4e4201fec7a1317591c0de3896,akuya ASADA <syuu@cloudius-systems.com>, 2014-02-05 08:59:47 +0900, , script add ide run.py signed takuya asada syuu cloudius systems.com signed avi kivity avi cloudius systems.com,,
4180,e4b607065dc455e2114e1b90975684e02e8b9c82,akuya ASADA <syuu@cloudius-systems.com>, 2014-02-05 08:59:46 +0900, , ide register ide driver signed takuya asada syuu cloudius systems.com signed avi kivity avi cloudius systems.com,,
4181,3469b0962b6681a5ddbd92f339214390194c19a9,akuya ASADA <syuu@cloudius-systems.com>, 2014-02-05 08:59:45 +0900, , ide add ide driver build.mk signed takuya asada syuu cloudius systems.com signed avi kivity avi cloudius systems.com,,
4182,df2b106c3483b7f354e27b78b259e1f2881f15a5,akuya ASADA <syuu@cloudius-systems.com>, 2014-02-05 08:59:44 +0900, , ide add ide driver simple polling pio ide driver signed takuya asada syuu cloudius systems.com signed avi kivity avi cloudius systems.com,,
4183,4458f5153a185a571c8e2aac9f25b63582df8481,akuya ASADA <syuu@cloudius-systems.com>, 2014-02-05 08:59:43 +0900, , x64 add insl outsl function add insl outsl perform pio ide driver signed takuya asada syuu cloudius systems.com signed avi kivity avi cloudius systems.com,,
4184,e379f54ca8a20d99cc83e4ddc4da8d03371ffed1,akuya ASADA <syuu@cloudius-systems.com>, 2014-02-05 08:59:42 +0900, , pci add enum pci class sub_class code add enum pci class subclass signed takuya asada syuu cloudius systems.com signed avi kivity avi cloudius systems.com,,
4185,93329412935a7b97d0fa80ff653fbfa36db3b5ab,akuya ASADA <syuu@cloudius-systems.com>, 2014-02-05 08:59:41 +0900, , pci add pci function add method get base_class sub_class find ide device signed takuya asada syuu cloudius systems.com signed avi kivity avi cloudius systems.com,,
4186,6d5d43c983d681120b7f9e08216a88450c9ed6b2,vi Kivity <avi@cloudius-systems.com>, 2014-02-06 10:44:26 +0200, , merge branch atomics signed avi kivity avi cloudius systems.com conflict build.mk external x64 acpica external x64 gcc.bin external x64 glibc testsuite external x64 glibc.bin external x64 misc.bin external x64 openjdk.bin,,
4187,c50a090f086968fbfc24ff0a1f085ebd570aa77d,adav Har'El <nyh@cloudius-systems.com>, 2014-02-05 16:15:27 +0200, , trace allocate trace_log tracepoints enabled current code trace_log 4mb array store tracepoint data global array word explained issue part always add 4mb memory usage osv whether tracepoints actually enabled patch change trace_log dynamically allocated array allocated first tracepoint enabled e.g. trace ... boot option also allow future choose size trace log run time rather compile time patch reduces 13mb 9mb correspondly lower minimum memory use whereas minimum memory requirement rogue image used signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4188,824f0f64e0767d8946b4c573df4cdf2444f4c35f,laudio Fontana <claudio.fontana@huawei.com>, 2014-02-05 14:54:49 +0100, , build move x64 specific module x64 subdirs first step towards moving x64 specific stuff arch subdirectory move submodules external external x64 rename amd64 x64 opensolaris rename x86_64 x64 include api adapt build.mk reference updated path improve detection include dirs libs external submodules signed claudio fontana claudio.fontana huawei.com signed avi kivity avi cloudius systems.com,,
4189,d372603b942c4039faf21b9c7d818632fdc381b7,vi Kivity <avi@cloudius-systems.com>, 2014-02-05 15:46:38 +0200, , solaris switch solaris atomics generic implementation based hopefully reduce porting effort signed avi kivity avi cloudius systems.com,,
4190,e4a19397053eb2366503298a4bcfa20394466597,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-04 12:00:53 +0200, , http server add file mapping main main call init method initilize file mapping reviewed tomasz grabiec tgrabiec gmail.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4191,d1044d1aa29331e11df897b1f2950a845ce23925,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-04 12:00:52 +0200, , http server add file mapping scenario httpserver return file disk reply request currently swagger library json definition file call http 192.168.122.89 8000 api api docs.json return api doc swagger libray located usr mgmt swagger mapped call http 192.168.122.89 8000 index.html open swagger gui swagger index.html mapped call http 192.168.122.89 8000 would also open swagger gui reviewed tomasz grabiec tgrabiec gmail.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4192,0e489c5924e676852ae00abb5d1057d9119cb006,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-04 12:00:51 +0200, , http server simplify route api url object adding route parameter syntex complicated simplify api url class introduce possible add rule api path path parameter match url end like routes.add get url api .remainder path handler reviewed tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
4193,b6b9fb2b5b9603be5d7a8993fbb5e3eb5037018c,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-04 12:00:50 +0200, , http server add file transformer http server read file disk sometimes required file content transform string substitution perform example reading json file required place real host name swagger able use file file transformer look variable file given right extension replace currently support host variable additional variable added needed reviewed tomasz grabiec tgrabiec gmail.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4194,b58baebf7e19783ee36c91a52e326cacd04d2d4e,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-04 12:00:49 +0200, , http server requesting directory add index.html path act web application returning file according relative path path directory index.html added path slash missing end path redirect url slash end returned reviewed tomasz grabiec tgrabiec gmail.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4195,3c0f2474bed3fc4d7eaff6af1caf3478dcd7267f,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-04 12:00:48 +0200, , http server add redirect missing slash returning file server path specify doesnot include file name must end slash slash ommitted request redirect url slash end check path missing slash end would redirect request reviewed tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
4196,982c904b686e9cd5ea667e90a11a27bb1482bbb2,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-04 12:00:47 +0200, , http server allows empty paramter path parameter speficially parameter get entire url used file path empty parameter valid value change allows rule match file path match url file path equal empty string reviewed tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
4197,047b75591fbc52e29f5771e83b0da738f2f7e6bc,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-04 12:00:46 +0200, , http server fix bug matcher testing code bug found matcher matcher use find find_first find_first return first character given string location given string practice code url parameter would passed search string start slash becasue url call always return part succeed consider case url param uiabc two different find return npos find_first return entire evaluate true reviewed tomasz grabiec tgrabiec gmail.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4198,15d022e7b0e72ce5c501d8d3e1babc19b3006b91,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-04 12:00:45 +0200, , http server add get_url request sometimes required full url request combination protocl host uri get_url return url reviewed tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
4199,6fcc84a2b912293a220682f26b6171f7283efb5d,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-04 12:00:44 +0200, , http server search header request name request object hold header vector header apear sometimes nessary find header one header found get_header method search first header name reviewed tomasz grabiec tgrabiec gmail.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4200,00b862fe1677d6db9130e27ea4a645d6a1f45796,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-04 12:00:43 +0200, , http server file interaction handler complete support option modify file reading modify part content example swagger json api need contain abosolute valid url path variable placed inside json file host file read transformer would replace host host identifier taken request 192.168.122.89 8000 simplify using transformer added optional parameter constructor destructor added remove reviewed tomasz grabiec tgrabiec gmail.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4201,c118f09abd4c25dfdfa3a00ce5a439617d404e5b,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-04 12:00:42 +0200, , http server rename parser transformer transformer used modify content return file previous name parser could confusing base class file content transformation method transform reviewed tomasz grabiec tgrabiec gmail.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4202,9951347d801e7430d278e9f702b4073a091147c5,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-04 12:00:41 +0200, , http server code clean astyle handler patch result running astyle file remove redundant code reviewed tomasz grabiec tgrabiec gmail.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4203,0691836eaa354c3e33f77fa85cc66bec32d08bd0,mnon Heiman <amnon@cloudius-systems.com>, 2014-02-04 12:00:40 +0200, , http server code cleanup route matchrules clean patch modify camel case snake case bit formatting reviewed tomasz grabiec tgrabiec gmail.com signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4204,6e87ff7d5491590784cd74a2474f8e1b2e8eb2f1,vi Kivity <avi@cloudius-systems.com>, 2014-02-04 10:08:58 +0200, , apps update latest bba6263 apps added netperf3 module 19d0873 fix haproxy module 09f8699 apps drop obsolete netperf patch signed avi kivity avi cloudius systems.com,,
4205,7b16a77b0fcca48845b2b0e22a4a999e075e7e9e,lauber Costa <glommer@cloudius-systems.com>, 2014-02-03 16:58:36 +0400, , cleanup remove public access flag perm jvm balloon vma end ended done object remove public accessors signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4206,49e0231c7f59bc09379fd3b7270062abe3fe085a,lauber Costa <glommer@cloudius-systems.com>, 2014-02-03 17:34:56 +0400, , trace order sample time well duration list_time currently sorted duration since read thing buffer buffer order construct trace list list already quasi sorted timestamp key per cpu sorted globally lot guarantee sample get reordered would useful list strongly sorted well reviewed tomasz grabiec tgrabiec gmail.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4207,6deb0bc11b30b4e9ca072b093c7790e608a41687,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-02-03 13:40:32 +0100, , run.py fix issue memory size parsing xen think current code broken case trim memory string twice spotted skimming file reviewed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4208,3d3c1319e90052439f81cbf74699338d11a15949,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-02-03 13:26:17 +0100, , run.py add option specify mac address useful trying detect assigned guest using arp table arp signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4209,7d005f583bec44f463aabbb450f9ee9a92c86cda,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-01-29 18:37:20 -0200, , test misc stress provide default file path currently file path always need specified argument let make thing easier providing default file path reviewed glauber costa glommer cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4210,f5004cf090cf43c35e428708a7fc0310203f0929,lauber Costa <glommer@cloudius-systems.com>, 2014-01-29 20:55:40 +0400, , trace omit first entry backtrace first entry backtrace tends point arrived trace logtrace function clutter output long named function basically adding meaningful information could pop first element unconditionally would robust function inlining compiler also add trace function future popping element loop trace stuff beginning backtrace backtrace trace lot easier follow patch signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4211,41b7af8ecaff491f1655e498aa25861ac812fc99,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-30 16:48:37 +0100, , gdb make osv syms fail object file path known currently object file located gdb fails enigmatic python exception type concatenate str nonetype object better read much warn failed locate signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4212,86b0526247a60a1dc4ed0a66f4806a73e8c1e928,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-30 16:48:36 +0100, , gdb make osv syms work httpserver.so image need add mgmt search list otherwise fails like gdb osv syms none 0x100000000000l python exception type concatenate str nonetype object error occurred python command concatenate str nonetype object signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4213,e6a278882a40215d65d046851e5fe877d3a041d4,lauber Costa <glommer@cloudius-systems.com>, 2014-01-29 18:57:44 +0400, , test malloc bdev write page sized allocation better use alloc_page use malloc reason malloc size arrive malloc_large locked operation alloc_page proceed locklessly room per cpu buffer although test since goal saturate disk allow get closer picture since completion handler block kvm weird disk see mbps previously saw 45mbps interestingly enough seem make whole lot difference xen difference nowhere near reviewed tomasz grabiec tgrabiec gmail.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4214,a9e63f3ab1b02121aa4816ed039061f67c1a8f42,lauber Costa <glommer@cloudius-systems.com>, 2014-01-30 00:35:55 +0400, , test add test disk latency test similar spirit misc bdev write instead pushing many bios push one bio time example output xen osv v0.05 118 g0f2973c min 99.99 99.999 max msec  0.2344 0.3240 0.2847 0.8185 2.4095 6.5230 13.6572 example output kvm osv v0.05 118 g0f2973c min 99.99 99.999 max msec  0.2626 0.3976 0.3273 0.4791 0.5993 7.6401 15.9672 hint current xen blkfront slowness related latency ... signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4215,f6ab17a4b11506a259edf7e525b7b168cd1e3831,akuya ASADA <syuu@cloudius-systems.com>, 2014-02-03 16:54:25 +0900, , x64 add symbol assembly function abort called result exception segv backtrace abort patch output incorrect symbol name exception handler enough information elf header patch add information patch applied page fault outside application backtrace 0x2f3b31 mmu vm_sigsegv unsigned long exception_frame 0x2f3d4d mmu vm_fault unsigned long exception_frame 215 0x325b34 page_fault 157 0x324797 void std fault_fixup long fault_fixup fault_fixup long 1129 incorrect 0x312a05 vmware vmxnet3 vmxnet3 pci device 473 applied page fault outside application backtrace 0x2f3b31 mmu vm_sigsegv unsigned long exception_frame 0x2f3d4d mmu vm_fault unsigned long exception_frame 215 0x325b34 page_fault 157 0x324797 ex_pf correct name 0x312a05 vmware vmxnet3 vmxnet3 pci device 473 reviewed nadav har nyh cloudius systems.com reviewed glauber costa glommer cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4216,ad94d796143698de1538b1ac2922b23488586153,vi Kivity <avi@cloudius-systems.com>, 2014-02-02 15:51:33 +0200, , sched fix race wake_lock wake_lock prevents race target thread waking wake_lock attempting take mutex changing thread status sending_lock however prevent reverse race   wait_for mutex unlock thread wait wake mutex lock mutex lock thread wait wake_lock waiting mutex waiting twice impossible abort assertion failure fix detecting already waiting send_lock aborting send_lock signed avi kivity avi cloudius systems.com,,
4217,6c9712a044f4b9539e9d655000e43f55684c484f,vi Kivity <avi@cloudius-systems.com>, 2014-02-02 15:50:44 +0200, , queue_mpsc add iteration support consumer side iteration pop invalidates iterators signed avi kivity avi cloudius systems.com,,
4218,56f3bbf603cc308728ef818b7d43f673607cd8dd,r Cohen <orc@fewbytes.com>, 2014-02-02 23:00:52 +0200, , java remove previous obsolete cli class signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
4219,835be2936c7e8d0a02932ca08460d93266aeef46,r Cohen <orc@fewbytes.com>, 2014-02-02 23:00:51 +0200, , java shrew unchecked unsafe operation signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
4220,905d0263203f24b373ccfa993b6d8cdeae369466,r Cohen <orc@fewbytes.com>, 2014-02-02 23:00:50 +0200, , java remove sshd module old obsolete sshd implementation signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
4221,5954a2e2641fbd45016fbd5ffbbdb3b3505cf6cd,r Cohen <orc@fewbytes.com>, 2014-02-02 23:00:49 +0200, , java added stty jni method jline support previously added stty mgmt tree signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
4222,810548dcc1b468be7b778665628459bd46e493b7,r Cohen <orc@fewbytes.com>, 2014-02-02 23:00:48 +0200, , java remove unused build.xml signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
4223,7dd1cb15f17dfbee87ff552bd0c3c4e5da7cc193,r Cohen <orc@fewbytes.com>, 2014-02-02 23:00:47 +0200, , java refactored cli cloudius package combined java cli java cloudius package one added java cloudius.jar jar build signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
4224,344807012b08587c6bd7710b70b43d28865a7a76,vi Kivity <avi@cloudius-systems.com>, 2014-02-02 14:56:55 +0200, , trace update format version thread_name signed avi kivity avi cloudius systems.com,,
4225,610313386797b0001d5f7f7802052be8b18cd1e8,vi Kivity <avi@cloudius-systems.com>, 2014-02-02 14:45:30 +0200, , merge branch sched thread name signed avi kivity avi cloudius systems.com conflict core sched.cc libc timerfd.cc,,
4226,9ac6a0cc7e01bc7eba0b6457d924e46857556486,vi Kivity <avi@cloudius-systems.com>, 2014-02-02 12:30:59 +0200, , libc provide useful debugging signed avi kivity avi cloudius systems.com,,
4227,0338b4a1abd3d736f2dd1ca896b66703532a5a78,vi Kivity <avi@cloudius-systems.com>, 2014-02-02 12:30:42 +0200, , libc name internal thread signed avi kivity avi cloudius systems.com,,
4228,eb7f1ad6f7765950a354d204531ac111e1f01089,vi Kivity <avi@cloudius-systems.com>, 2014-02-02 12:30:20 +0200, , virtio name virtio thread signed avi kivity avi cloudius systems.com,,
4229,f9487d668562bb1d979342a540b626dc540c7941,vi Kivity <avi@cloudius-systems.com>, 2014-02-02 12:29:39 +0200, , console name console thread signed avi kivity avi cloudius systems.com,,
4230,2087c993bb927fd75b02e4a83d889f23ee9e05b3,vi Kivity <avi@cloudius-systems.com>, 2014-02-02 12:29:12 +0200, , rcu name thread signed avi kivity avi cloudius systems.com,,
4231,317483acddc7efb8e6b07961e9353d6b15b3a5e3,vi Kivity <avi@cloudius-systems.com>, 2014-02-02 12:28:50 +0200, , percpu worker name thread signed avi kivity avi cloudius systems.com,,
4232,19acbf3e5df6da7495faad0e0337b439c99f88db,vi Kivity <avi@cloudius-systems.com>, 2014-02-02 12:28:21 +0200, , dhcp name dhcp thread signed avi kivity avi cloudius systems.com,,
4233,addd33ceada1d01740339cf66ab256fdece184ec,vi Kivity <avi@cloudius-systems.com>, 2014-02-02 12:28:06 +0200, , bsd name bsd provided thread signed avi kivity avi cloudius systems.com,,
4234,9869ed19d97ccfb4e8b1fbae2f6bd566eba9669a,vi Kivity <avi@cloudius-systems.com>, 2014-02-02 12:27:39 +0200, , xen name interrupt thread signed avi kivity avi cloudius systems.com,,
4235,4dc9591b0e9ebb315a3f512557c90cb959ccf0c9,vi Kivity <avi@cloudius-systems.com>, 2014-02-02 12:27:11 +0200, , sched name core thread idle load balancer init signed avi kivity avi cloudius systems.com,,
4236,4fa6c6ddb2189a31370e6c9fb2693496040023bb,vi Kivity <avi@cloudius-systems.com>, 2014-02-02 12:25:48 +0200, , trace record display thread name signed avi kivity avi cloudius systems.com,,
4237,1ba9a8bc85cf1bfac04a753221f6feda42776afc,vi Kivity <avi@cloudius-systems.com>, 2014-02-02 12:23:58 +0200, , sched add thread name attribute useful debugging signed avi kivity avi cloudius systems.com,,
4238,b3bf16db5c4cc6972de7d4b232424d4a47181a6e,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-30 18:29:54 +0100, , httpserver compile using boost header matching library link spotted analyzing gdb backtrace compiled server using header installed host may come different version boost one put image signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4239,50ea3f0477ada5ccaf123073f482a235543280fd,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-30 20:53:24 +0100, , epoll fix epollet checking condition bitwise used instead logical condition always false epollet warned 0x80000000 warning epollet ignored never printed reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4240,9b6be880afd0146afae2018ac95f495f0acc1ba9,laudio Fontana <hw.claudio@gmail.com>, 2014-01-29 18:13:51 +0100, , loader.ld merge init_array ctors init_array put .ctors .init_array .ctors init_array init_array section fix build mixed ctors init_array tooling dependency reviewed nadav har nyh cloudius systems.com signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
4241,aba1e5360b2a574105ea16d7e72de007f3352a7c,lauber Costa <glommer@cloudius-systems.com>, 2014-01-29 16:23:51 +0400, , xen fix identation device file automatically   manually align constant definition block.h signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4242,0a863192a31d560d8f8c9d635a9115ed19cbd3b6,adav Har'El <nyh@cloudius-systems.com>, 2014-01-29 14:19:34 +0200, , build convenient shortcut image several module previous patch made possible run make image rogue module rogue exists without creating image rogue file patch expands feature even powerful first allows choosing alternative command line particular module example make image mgmt.shell creates image mgmt module dependency command line mgmt shell command line i.e. run shell without web server instead default command line second instead specifying one module put image plus dependency allow giving comma separated list unrelated module put image example make image memcached netperf test default command line image run parallel default command line module exists example test module command line labeled default memcached netperf run test file still included image non default command line module also chosen example make image memcached mgmt.shell build image memcached mgmt module run parallel memcached default command line mgmt shell command line want include module file image run command line use special word none example make image memcached netperf.none create image memcached netperf file run memcached command line reviewed tomasz grabiec tgrabiec gmail.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4243,a30c58f79d26bae1a5615606aee72b9e43491994,aphael S. Carvalho <raphael.scarv@gmail.com>, 2014-01-28 11:35:24 -0200, , enable vm_lowmem arc_fini commit 622d8bba3 enabled code register vm_lowmem event respective deregister also enabled every osv specific ifdef remove zfs god ressurects kitten glommer signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4244,e9af222fca1f3dbb43823188153db0d477da2891,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-29 08:56:20 +0100, , module support running one simple app since support parallel launching command line implement support module example image config run api.require netperf .default api.require mgmt .shell  result script run.py osv v0.05 132 g779307c starting netserver host addr_any port 12865 family af_inet  reviewed nadav har nyh cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4245,de83169bc50673b489ba160a48ddcf1dbf99d5df,lauber Costa <glommer@cloudius-systems.com>, 2014-01-28 21:40:38 +0400, , blkfront limit size blkfront queue previously seen situation lot request handle leading oom initially thought since max_requests usually request new request would overwrite old bio queue leading bio_done function never called closer look code enough show wrong since end ring consumption iterate old request processing real problem generate memory lot faster process disk give idea order magnitude spike would happen xen block problem tracking causing processing interrupted 18k request would accumulate queue since draining ring requeue new request end result 18k request never really processed new spike 18k sit solution adopt strategy similar virtio add condition variable queue block new request processing new one patch applied misc bdev write.so run completion unfortunately still quite slow signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4246,164034eec64f7595424b46ac3a1a36eb10680e05,lauber Costa <glommer@cloudius-systems.com>, 2014-01-28 21:40:37 +0400, , blkfront add io_mutex structure signed glauber costa glommer cloudius systems.com penberg fix mixed formatting signed pekka enberg penberg cloudius systems.com,,
4247,43dd2be35232596a98d3e1f10f457ca5a3f59e76,lauber Costa <glommer@cloudius-systems.com>, 2014-01-28 21:40:36 +0400, , blkfront convert bio list list going work exactly std list instead signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4248,5403c4a1260deec522388ecae23f507cdc647e6a,lauber Costa <glommer@cloudius-systems.com>, 2014-01-28 21:40:35 +0400, , blkfront ify bit patch make blkfront structure bit friendly creating version device private structure goal convert slowly field inside point expect easy turn function method etc sorry would really like mass translation urgent bug requiring attention note converting blkfront leaving netfront old code hard deferred risk mistake future oportunity notice line added following original file identation deliberate much guideline preserve original ident since slowly converting file identation eventually win think form cultural domination bother viewer tab space signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4249,0983aa9c78df6de348fb2c53b4af410ea53f707e,adav Har'El <nyh@cloudius-systems.com>, 2014-01-28 17:00:18 +0200, , build system need trivial image file whenever added new module apps.git e.g. apps tomcat also add file image tomcat.py osv.git make image tomcat would work patch make unnecessary image tomcat.py one doe make image tomcat image tomcat.py absent try build image containing single module tomcat dependency defined usual apps modules.json apps module.py non default image contain one unrelated module e.g. mgmt test still defined file image reviewed tomasz grabiec tgrabiec gmail.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4250,277e3f20a2d2615574f420f5a0a49cf9eaac2a55,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-28 20:58:55 +0100, , readme update dependency list debian system qemu nbd used imgedit.py contained qemu utils package installed default signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4251,1e6d0ad00a91b26384dc1bd496d65956cc70e80d,lauber Costa <glommer@cloudius-systems.com>, 2014-01-27 15:12:09 +0400, , test add hello world test useful measure osv boot speed iow fast without cli java etc reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4252,9253abbe2b2eec3804cacd687644432d8f5a9702,lauber Costa <glommer@cloudius-systems.com>, 2014-01-28 15:07:47 +0400, , xen silence message xen boot totally silent device usually print device_printf right hooked printf changing debugf already get rid message however netfront manually print message printf changed well please note message netfront changed directly debug instead device_printfs well although hook printer device_printf supposed prepend message device information could future original code used printf directly keeping intent reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4253,f3fe2238ce7490c07812f6b7d201c9d213e0b426,akuya ASADA <syuu@cloudius-systems.com>, 2014-01-28 17:29:52 +0900, , add f_setlk f_getlk stub fcntl reviewed nadav har nyh cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4254,592c572d16fc3d7f6b1eb0b75dc28f82c9f7573f,akuya ASADA <syuu@cloudius-systems.com>, 2014-01-28 17:29:53 +0900, , add fchown stub reviewed nadav har nyh cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4255,6e0632276325c92a04043a4bf46bc4abe8f068f3,akuya ASADA <syuu@cloudius-systems.com>, 2014-01-28 17:29:51 +0900, , add fchmod stub reviewed nadav har nyh cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4256,63cb902f26905178e5b81556d1a586b84fa55823,adav Har'El <nyh@cloudius-systems.com>, 2014-01-28 12:11:41 +0200, , codingstyle.md update add coding convention codingstyle.md three coding convention mentioned avi kivity review also fit code convention void function declaration code space function name argument list parantheses around return value signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4257,3c267a617e14859d5de40e6ba69e6025c824b550,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-27 17:49:59 +0100, , run.py introduce dry run option print command line without actually running  change since changed option dry run print glauber addition qemu xen suppress imgedit.py invocation printing wrap argument containing space quote signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4258,31d2bd92c27a4af834fce3585cc63c85d850912e,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-27 17:51:54 +0100, , include test module default image assume required make check without image work let make check use test image default unless overwritten signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4259,09eddf37678a1ea15382fad7a39c5e8b054b15c2,mitry Fleytman <dmitry@daynix.com>, 2014-01-26 15:40:18 +0200, , netfront configure mtu address route read interface mtu address configuration case dhcp mtu propagated parameter patch fix last big mtu related problem see ec2 patch applied osv tcp performance ec2 pretty much equal linux instance limited ec2 networking infrastructure buffer size osv ubuntu 12.04 hvm tcp 5129.27 5128.11 5129.18 5128.26 128 5129.33 5133.59 256 5130.63 5128.64 512 5129.4 5133.04 1024 5129.7 5131.87 2048 5128.27 5132.73 4096 5129.57 5133.04 8192 5129.18 5132.16 16384 5129.02 5131.77 32768 5129.36 5132.55 65536 5129.29 5132.05 tcp 298.26 292.31 571.4 540.72 128 1069.91 1014.22 256 1953.42 1925.36 512 3282.79 3261.96 1024 4963.05 5002.54 2048 5127.83 5121.33 4096 5124.61 5127.28 8192 5129.35 5136.58 16384 5128.05 5124.87 32768 5130.63 5135.68 65536 5132.22 5137.49 reviewed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
4260,0b6bc10e640a964c3a91eb09006f4cc5cc4bf1b5,adav Har'El <nyh@cloudius-systems.com>, 2014-01-26 15:49:44 +0200, , clock clean unneeded stuff patch series bisectable previous patch left behind feature temporarily added feature remove longer use finally delete unused feature previous patch stopped using clock get time sched.cc drop alias osv clock get added temporarily make easier compile first patch series drop clock_event set s64 variant drop timer_base set s64 variant fix reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4261,8bf2fedda1b4e8c13115018258376b629bdc8cb9,adav Har'El <nyh@cloudius-systems.com>, 2014-01-26 15:48:22 +0200, , clock remove unnecessary include driver clock.hh remove unused include driver clock.hh except clock driver osv clock.hh source file include header rather osv clock.hh used code including sched.hh also get osv clock.hh automatically reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4262,4513537e3b1bad7bc232385868d56fa89b6421f6,adav Har'El <nyh@cloudius-systems.com>, 2014-01-26 15:45:07 +0200, , clock support different clock fix set absolute timer using timepoint instead old s64 moreover wall clock monotonic clock support patch also add support openjdk example run without support assumes support clock_monotonic also configure condition variable use unfortunately supporting condition variable attribute really exists grows pthread condition variable structure fix 168 reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4263,0f5992ca97b84424bc6cb4531b2ac2b4e86839ac,adav Har'El <nyh@cloudius-systems.com>, 2014-01-26 15:40:25 +0200, , clock condvar wait time point replace old function condvar wait mutex uint64_t one taking timepoint timepoint use clock timer support namely osv clock uptime osv clock wall usual wall clock timer recommended converted uptime timer point instantiation leave function condvar_wait convar mutex s64 comment take reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4264,770e21f1032906dbd71a98f37625ac7289eac95a,adav Har'El <nyh@cloudius-systems.com>, 2014-01-26 15:38:51 +0200, , clock drop nanotime function drop nanotime function change remaining caller use appropriate osv clock std chrono replacement already got rid previous patch reference nanotime switching absolute time relative time direct equivalent old nanotime function actually need number nanosecond since unix epoch rather verbose expression osv clock wall .count shorter clock get time reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4265,74a57376abeda468767903692c8d4efd6c348ef6,adav Har'El <nyh@cloudius-systems.com>, 2014-01-26 15:38:00 +0200, , clock remove old type time literal drop s64 literal _ms _ns etc. driver clock.hh fix place still use old literal std chrono duration version osv clock.hh remains remember need using namespace osv clock literal use reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4266,de89218b16924a586b607d28fd5e53ebafe9d705,adav Har'El <nyh@cloudius-systems.com>, 2014-01-26 15:37:21 +0200, , clock use new clock apis tst wait for.cc fix tst wait for.cc use new osv clock.hh apis test std time duration unfortunately fails implement std std chrono duration patch also add support form trivial template function osv clock.hh reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4267,ab0982547d165c46716e60180e44e6f9c30c10b6,adav Har'El <nyh@cloudius-systems.com>, 2014-01-26 15:36:50 +0200, , clock use new clock apis sbwait implementation fix sbwait implementation use new osv clock.hh apis monotonic clock reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4268,ec81df3de82175159ba6c649ad3b29d45a4e3f18,adav Har'El <nyh@cloudius-systems.com>, 2014-01-26 15:36:18 +0200, , clock use new clock apis bsd time function reimplement bsd function getmicrotime getmicrouptime variable tick using new clock apis getmicrotime return system time wall clock getmicrouptime tick return time since boot believe correct implementation according freebsd documentation previous implementation quite also worked previous implementation pretended according getmicrouptime get_ticks system since 1970 yet variable time_uptime freebsd never updated fixed second reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4269,99eafa7ed95e191db165ac5a6eff5efd24bcd885,adav Har'El <nyh@cloudius-systems.com>, 2014-01-26 15:35:58 +0200, , clock use new clock apis msleep implementation fix msleep implementation use new osv clock.hh apis monotonic clock reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4270,3c30aa330717955ab9922f9207f4b8ca4043888c,adav Har'El <nyh@cloudius-systems.com>, 2014-01-26 15:35:42 +0200, , clock use new clock apis callout implementation change callout implementation use new osv clock.hh apis monotonic clock since _callout.h type osv clock uptime time_point used code relevant code already reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4271,eb37787bb2fcda1cf34b72191d0b94d1a61a6b26,adav Har'El <nyh@cloudius-systems.com>, 2014-01-26 15:35:22 +0200, , clock use new clock apis alarm implementation change alarm implementation use new osv clock.hh apis monotonic clock reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4272,b3bfe5fa8cd61b0260bc44db0bcc804d614ea851,adav Har'El <nyh@cloudius-systems.com>, 2014-01-26 15:35:06 +0200, , clock drop sched thread sleep_until delete sched thread sleep_until function user function actually wanted relative time absolute time use simpler new sched thread sleep instead reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4273,ddc6a11405072b5461aa5c1c98e72722ea3707a1,adav Har'El <nyh@cloudius-systems.com>, 2014-01-26 15:34:56 +0200, , clock allow various function take duration std chrono allows clearly differentiating absolute time std chrono time_point relative time std chrono duration longer risk confusing absolute relative time patch allows various function also take relative time duration instead absolute time time_point making easier use use monotonic clock current time osv clock uptime convert relative absolute time shortcut tmr.set 10_ms tmr.set osv clock uptime 10_ms similarly add duration version condvar wait used condvar wait mutex 10_ms add new function sched thread sleep 10_ms new variant shorter also make unnecessary caller understand clock use relative wait mistakenly use wrong clock reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4274,2c47a392544fd23249e82cc4f8e80c4589b6538b,adav Har'El <nyh@cloudius-systems.com>, 2014-01-26 15:34:46 +0200, , clock test timerfd support monotonic clock tst timerfd test timerfd monotonic clock addition existing test realtime clock patch also change test use linux apis anything osv specific also run linux reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4275,c5634b6e2cbdd6d37a056dca6ca87da0ad031525,adav Har'El <nyh@cloudius-systems.com>, 2014-01-26 15:34:35 +0200, , clock support monotonic clock timerfd switch timerfd use std chrono type add support also monotonic clock fix 142 reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4276,d73fe79c72fbfc67094341afd9ba83e8783e7862,adav Har'El <nyh@cloudius-systems.com>, 2014-01-26 15:34:25 +0200, , clock use monotonic clock thread scheduler switch thread scheduler using s64 type duration wall time osv clock uptime duration type std chrono nanosecond monotonic clock also per thread cpu time clock thread thread_clock return std chrono duration instead s64 longer need fill_ts s64 variant libc time.cc leave unused get compilation warning reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4277,af5407990a99d153ea1ffa7800c835ee0ddc2423,adav Har'El <nyh@cloudius-systems.com>, 2014-01-26 15:34:14 +0200, , clock allow comparison std chrono duration duration compared unit integer one check one need something like 7_ms unfortunately rule also applies zero work user need add unit zero course unit would work 0_ms 0_ns time unit physicist requirement make perfect sense even zero unit programmer extra unit would seem surprising redundant patch make possible compare std chrono duration without needing add unit still leaving comparison non zero integer error convenient existing code compared s64 duration unit continue work unmodified switch s64 std chrono duration reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4278,477b9427cc3a955f6ab03f9a33edbe7f4b226660,adav Har'El <nyh@cloudius-systems.com>, 2014-01-26 15:34:04 +0200, , clock base timer monotonic clock sched timer_base used implement form timeouts osv currently based wall clock time s64 form problematic two reason type s64 say unit used whether time absolute relative epoch wall clock time bad choice short term timer thread intends sleep millisecond wall clock back minute thread end sleeping whole minute patch change basis sched timer_base strongly typed time point monotonic clock osv clock uptime time_point also allow setting timer using wall clock time big caveat expiration time converted wall uptime clock moment timer_base set wall clock adjusted later wall time expiration may exactly one intended change timer user one patch also temporarily implement old weakly typed timer_base set s64 using new mechanism variant removed later patch series longer used reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4279,0b4623417bb040a0ed410c17a41330399cd5c401,adav Har'El <nyh@cloudius-systems.com>, 2014-01-26 15:33:54 +0200, , clock temporary alias osv clock get clock get unfortunately sched.cc using namespace osv causing big mixup clock driver clock.hh osv clock osv clock.hh next patch want start using osv clock.hh sched.cc need first clear mixup temporarily adding alias osv clock get resolve clock get used throughout sched.cc later patch series remove call clock get sched.cc end series revert patch reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4280,3cc0e96f2d836c8e02935dceea45ecef08de1360,adav Har'El <nyh@cloudius-systems.com>, 2014-01-26 15:33:43 +0200, , clock add clock boot_time function currently osv sched timer mechanism support wall clock clock get time following patch intend support wall clock monotonic clock timer keep single list timer using monotonic clock need way convert wall clock time monotonic uptime patch add clock driver function clock boot_time return current offset wall time uptime i.e. current estimate wall time boot note estimate change wall time adjusted host since osv currently mechanism adjusting clock within reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4281,9781a6f2e76ccd8717cbef81135622c9cf081d9e,adav Har'El <nyh@cloudius-systems.com>, 2014-01-26 15:33:33 +0200, , clock add clock_event set timepoint previous patch built clock_event set s64 top set duration patch add set timepoint absolute time clock supporting static method following patch convert timer using monotonic clock osv clock uptime use timepoints clock call clock_event set temporarily s64 std chrono time_point version set make patch series bisectable end series s64 variant removed reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4282,5c5f5971d1874c93ef5d7d05cf0ad974ca700c37,adav Har'El <nyh@cloudius-systems.com>, 2014-01-26 15:33:22 +0200, , clock relative time clock_event set osv timer mechanism hinge local apic per cpu one shot timer delivers interrupt requested number nanosecond api set timer clock_event set took absolute time next interrupt however really need duration nanosecond next interrupt patch change basic clock_event set api take duration implement original clock_event set s64 taking s64 absolute wall clock time simple wrapper next patch add wrapper set taking absolute time different clock later patch series stop using old set s64 version dropped end series reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4283,e1c4aa827053d6aab78beee24b7208348d184964,adav Har'El <nyh@cloudius-systems.com>, 2014-01-26 15:33:11 +0200, , clock avoid include driver clockevent.hh several source file include driver clockevent.hh though low level feature actually use sched.cc doe use driver clockevent.hh already get sched.hh also need include explicitly patch remove unnecessary includes reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4284,7b8bdf8e049e9dc691848b187a0c8e8ec66e824c,adav Har'El <nyh@cloudius-systems.com>, 2014-01-26 14:55:42 +0200, , change test misc bsd callout rename test misc bsd callout.c test misc bsd callout.cc need upcoming patch set change needed code continue compiling signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4285,ebd23772dd2b18965f055a878d4be5b1b20c6a34,vi Kivity <avi@cloudius-systems.com>, 2014-01-26 10:23:57 +0200, , external update openjdk 1.7.0.60 2.4.4.1.fc20 signed avi kivity avi cloudius systems.com,,
4286,4eb7d9c2d376e31c9e4488d1b29f1c0a96a8a17c,lauber Costa <glommer@cloudius-systems.com>, 2014-01-23 16:26:13 +0400, , balloon fix double move problem recently discovered parallel move object two different location time later decide one use break implementation final object second one copied original region already mapped fault unmapped region actual balloon bogus fault core solution keep region unmapped garbage know java read anything writes something new doe declare longer balloon movement split two phase normal phase finish phase finish phase remove old vma create new vma heap characteristic special care need taken conciliating array use difference first faulting address original array address calculate many byte skipping need store information somewhere using unordered_map hash keep track flight ballooned region hold original address array detect movement region know new location update balloon object new address signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4287,95c644dcd0491d297568d562b6a22625455dc6f6,lauber Costa <glommer@cloudius-systems.com>, 2014-01-23 16:26:12 +0400, , balloon store flag original vma ballooning avoid using hard code value original anonymous vma mapped region ballooned let store original flag jvm vma patch doe yet use lay infrastructure user come next patch signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4288,2b8ceebc7d3d2b7e00fbaed4868cc4e0ce2f2bae,lauber Costa <glommer@cloudius-systems.com>, 2014-01-23 16:26:11 +0400, , balloon introduce conciliation phase patch introduces separate operation conciliate calculates balloon parameter given arbitrary address signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4289,54b1d4dc6975633113a282105f899f1c61739f6c,lauber Costa <glommer@cloudius-systems.com>, 2014-01-23 16:26:10 +0400, , mmu give jvm balloon write permission jvm balloon explicitly forbade writes range expect jvm ever write recently problem gleb discovered double copying object inside heap use writes figure object longer balloon still need able back jvm specific fault handler therefore need write permission vma signed glauber costa glommer cloudius systems.com penberg use perm_rw suggested gleb signed pekka enberg penberg cloudius systems.com,,
4290,5d83b36dfef0b7c6e9c49a807295ec5fb442d4c2,lauber Costa <glommer@cloudius-systems.com>, 2014-01-23 16:26:09 +0400, , balloon fix stack like behavior balloon always remove last balloon created two main reason older balloon likely already tenured generation move whereas younger balloon could younger generation removing like stack avoid needle move probe inserted stay long always intended behavior made small mistake inserting wrong order fix signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4291,9e09145f7c7fdb4ebba74d47fdcceb136ba9fe9e,laudio Fontana <claudio.fontana@huawei.com>, 2014-01-23 13:53:38 +0100, , mempool ensure error visible calling debug abort buffer message never chance reach console early pas message display directly abort instead signed claudio fontana claudio.fontana huawei.com signed pekka enberg penberg cloudius systems.com,,
4292,1d641f38e249c0211a38361833e6f42b2b90b3ac,hi Yong Wu <zwu.kernel@gmail.com>, 2014-01-20 15:44:17 +0800, , network fix compile error build successful total time 35.396 sec make build release make entering directory home zwu osv build release cxx loader.o cxx runtime.o cxx driver vga.o cxx bsd net.o cxx bsd porting networking.o home zwu osv bsd porting networking.cc function int osv if_set_mtu std string u16 home zwu osv bsd porting networking.cc error missing brace around initializer char werror missing brace cc1plus warning treated error make bsd porting networking.o error make leaving directory home zwu osv build release make error signed zhi yong zwu.kernel gmail.com signed pekka enberg penberg cloudius systems.com,,
4293,8d4a18062037eded6c4e6de62328a6a3a9850946,hi Yong Wu <zwu.kernel@gmail.com>, 2014-01-17 17:21:39 +0800, , mmu fix signed unsigned integer comparison error bsd sys cddl contrib opensolaris common zfs zvol.o cxx core mmu.o home zwu osv core mmu.cc instantiation void mmu map_level pageop parentlevel operator mmu hw_ptep uintptr_t uintptr_t pageop mmu int parentlevel uintptr_t long unsigned int home zwu osv core mmu.cc 323 required void mmu map_range uintptr_t size_t pageop size_t pageop mmu uintptr_t long unsigned int size_t long unsigned int home zwu osv core mmu.cc 623 required home zwu osv core mmu.cc 383 error comparison signed unsigned integer expression werror sign compare ... signed zhi yong zwu.kernel gmail.com signed pekka enberg penberg cloudius systems.com,,
4294,47c0afdc6cbd544f66224899a4f1d99817da5172,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-01-16 19:58:25 -0200, , tst zfs mount add zfs refcnt consistency check reviewed glauber costa glommer cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4295,08290fd52ae606eab5fd511826fe9b4ee6628fb2,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-01-16 19:58:24 -0200, , zfs fix zfs_inactive unlinked znode case patch address corner case zfs_inactive potentially leak znode object background znode zfs_inactive used deallocate specific data destroying znode dmu transaction created sync znode backing store z_atime_dirty set relevant patch though removing link zfs_remove set field z_unlinked underlying znode number link reached simply put present anymore problem actual problem show zfs_inactive used znodes unlinked field set code wrapped around patch previously added speed call vrecycle whose name partially explains first functionality eliminate activity associated vnode put vnode back list free vnodes osv vfs layer support vrecycle zfs_inactive acting supported another thing vrecycle call also removed solution let fix problem simply wrapping around test prevented zfs_inactive working properly unlinked znodes thus leaking reference underlying mount point afterwards commentary added zfs_inactive also explains change needed would also make thing easier people look future try understand thing way reviewed glauber costa glommer cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4296,76c0caa79a73aa9c086fbd05fde6d3a68c6be364,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-01-16 19:58:23 -0200, , zfs fix znode reference count leak zfs_remove function call zfs_dirent_lock turn call zfs_zget bump underlying znode reference count however neither zfs_remove zfs_rmdir release reference count using prevents zfs_zinactive used destroy znode object working properly another consequence znode hold reference underlying mount point keeping busy unmount fix znode refcnt calling zfs_zinactive znode usage reviewed glauber costa glommer cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4297,ef9b23174995282b8ec149e202df474e306ea433,mnon Heiman <amnon@cloudius-systems.com>, 2014-01-02 00:55:44 +0200, , add boost license license directory http server implementation code based example boost library boost license included license directory signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4298,c5e72cea85fc7fa691e7db3769c73e2cbf7af484,mnon Heiman <amnon@cloudius-systems.com>, 2014-01-23 12:06:06 +0200, , http server code generation script error local testing code generation notice error dic reference key attribute signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4299,75311f28c69342831801546f313bd260b10e2157,mitry Fleytman <dmitry@daynix.com>, 2014-01-22 14:57:50 +0200, , netfront get ioctl definition proper place place ioctl definition xen netfront driver compiled ioctl definition wrong place fixed changing include deleting file improper definition signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
4300,15ca3b15f69d9536145a56687c84bff243b72176,akuya ASADA <syuu@cloudius-systems.com>, 2014-01-21 18:45:33 +0900, , add mruby apps add mruby apps support make image mruby reviewed tomasz grabiec tgrabiec gmail.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4301,dfab7c2d635d4d82680ed466ac3597dc65bb2e3e,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-22 15:25:55 +0100, , run.py modify input parameter set_imgargs function modify input parameter easier analyze friendly user signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4302,91971b1b188721d87d33f7d8ab7a948cc3518a93,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-22 15:25:54 +0100, , run.py add option starting jvm debugger server start jvm debugger server run sudo script run.py jvm debug want jvm wait debugger client sudo script run.py jvm suspend listens port 5005 signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4303,c20175becd991ec14762ad9a6ef15da9c78a3d6f,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-22 15:46:30 +0200, , http server show code generation build make code generation visible build obvious source file generated signed pekka enberg penberg cloudius systems.com,,
4304,2257350d7de0f83293589c1931fb9f1c57b223dd,mnon Heiman <amnon@cloudius-systems.com>, 2014-01-22 13:06:59 +0200, , http server implement api swagger os.json api defines set related operation self explenatory list supported following would work get http 192.168.122.89 8000 manufacturer http 192.168.122.89 8000 uptime http 192.168.122.89 8000 date http 192.168.122.89 8000 memory total http 192.168.122.89 8000 memory free following would work post http 192.168.122.89 8000 shutdown signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4305,b43efe2b414021c353cec93632fb34c24e3396ba,mnon Heiman <amnon@cloudius-systems.com>, 2014-01-22 13:06:58 +0200, , http server add stub shutdown shutdown function called api part osv need stub standalone server would link stub implementation interfere linux operating system calling shutdown exit server signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4306,f8c2ce68236e64f857a1b970c6b021a66b269a4a,leb Natapov <gleb@cloudius-systems.com>, 2014-01-22 11:22:22 +0200, , mmu correctly calculate huge page pte address unpopulate signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4307,7a4444c3d400786d9a4046fe9336ecb60e4e6b9a,adav Har'El <nyh@cloudius-systems.com>, 2014-01-21 00:42:28 +0200, , fix tst commands.cc previous test changed loader.cc command line parsing also support separator command causing previous command executed new thread achieve parser end command another string containing depending appeared end command change caused tst commands.cc check result command line parsing fail patch fix test match code signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4308,995fe31a52e28a8a5cae53782594afc6b2f665ec,adav Har'El <nyh@cloudius-systems.com>, 2014-01-19 17:13:58 +0200, , loader add support command line loader command line given option run.py already allows running multiple command shared object argument separated semicolon e.g. run.py program1.so program2.so program3.so patch allows like unix use instead case preceding program run background case mean new thread example run.py httpserver.so java.so ... command line constitute multiple command whitespaces around separator optional take care intend run object multiple time concurrently e.g. something.so something.so object support use case support main called parallel particular avoid using global variable signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4309,8883c34a9cf5654f0727448dbbe94054bad42731,lauber Costa <glommer@cloudius-systems.com>, 2014-01-17 14:36:33 +0400, , balloon capture exception monitor start least current incarnation risky start balloon without monitor tomek found problem problem tomcat logging system would cause exception thrown mistaken effect problem namely exception seems caught logger affect functioning monitor drew attention fact exception happen prepared catch abort reviewed tomasz grabiec tgrabiec gmail.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4310,2abe7c3fe44a3d9bb68867e47db342b536f7952c,adav Har'El <nyh@cloudius-systems.com>, 2014-01-21 16:55:57 +0200,178, tst queue mpsc fix one bug test second stack trace mentioned issue 178 happens bug tst queue mpsc happens test become complex bug ... popper thread read item lockfree queue_mpsc wake pusher thread item bug pusher thread done return condvar remains valid item containing doe continue use index item value.waiter woke thread return item point invalid memory ... need save index item value.waiter waking thread unfortunately doe completely solve issue 178 timer bug similar two stack trace issue 178 still seen rarely patch signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4311,9ed4ab4ccf076e1ae40dbd807d6ac71ac0bb8438,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-22 09:41:18 +0100, , tool remove netperf life apps.git netperf sending rfc text file apps.git sure relevant enymore signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4312,e1b5997319466b9fca1a64c34aa2cd898be2a1df,adav Har'El <nyh@cloudius-systems.com>, 2014-01-21 21:45:37 +0200, , timer add assertion issue 178 recent netperf experiment vlad suggests bug timer code rarely cause crash timer_list fired appears somehow corrupt per cpu timer list armed timer object still able figure  patch add assertion timer find list actually armed unfortunately consistantly fails see assertion failure every 100 200 run tst queue mpsc.so failure seems replace page fault crash issue 178 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4313,9a451ec7470cc6f569fbed726fa259dbfe8fdc8d,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-21 14:12:51 +0200, , include move execinfo.h include osv signed pekka enberg penberg cloudius systems.com,,
4314,6275a371a0d03d6ad382c01091dbd22b083a8eca,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-21 14:04:55 +0200, , include merge debug.h osv debug.h move definition debug.h osv debug.h update includes use latter signed pekka enberg penberg cloudius systems.com,,
4315,7809519bb5dc529e0c5fbb0643aa37a5ceb9b847,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-21 14:02:24 +0200, , include move debug.hh include osv signed pekka enberg penberg cloudius systems.com,,
4316,9c95f49df7bbe1e14bc1cbc78d6b3ac15e476c2f,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-21 13:58:40 +0200, , include move mempool.hh include osv signed pekka enberg penberg cloudius systems.com,,
4317,b42b49ad3e54fafbba1bbbe50f0713ed6941ac9b,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-21 13:57:40 +0200, , include move irqlock.hh include osv signed pekka enberg penberg cloudius systems.com,,
4318,5e374b7fe73398515c4e55e1f5eb92b8fd9efb97,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-21 13:56:51 +0200, , include move preempt lock.hh include osv signed pekka enberg penberg cloudius systems.com,,
4319,5bb3e7b462ba9d3f313052ee87d0017b98e30c1d,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-21 13:56:12 +0200, , include move prio.hh include osv signed pekka enberg penberg cloudius systems.com,,
4320,d8df3fd143422cfd6eb4eae621cdde462aff4b63,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-21 13:55:33 +0200, , include move ilog2.hh include osv signed pekka enberg penberg cloudius systems.com,,
4321,f7e2eb41f1a5686bd25df848d15bb531b3ca2617,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-21 13:54:44 +0200, , include move tls.hh include osv signed pekka enberg penberg cloudius systems.com,,
4322,372b4df65873725d6c0c561bebbb4e9032b5f5de,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-21 13:54:01 +0200, , include move alternative.hh include osv signed pekka enberg penberg cloudius systems.com,,
4323,93e5e338a4251f2dcbc865b2b96f485b713e0b1b,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-21 13:50:39 +0200, , include move alloctracker.hh include osv signed pekka enberg penberg cloudius systems.com,,
4324,078d473290528fa5bedce8ccfbacb9126b55512d,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-21 13:39:31 +0200, , include move mmio.hh include osv signed pekka enberg penberg cloudius systems.com,,
4325,f880005c780fa1f7e2dadfff9bf1a9b87b078f4b,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-21 13:26:33 +0200, , include move dhcp.hh include osv signed pekka enberg penberg cloudius systems.com,,
4326,b8034e34199c5f03269b38439aefe058e7260abd,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-21 13:20:40 +0200, , include move elf.hh include osv signed pekka enberg penberg cloudius systems.com,,
4327,86110819d6f778e1c3e0e46139eab30c36c4f338,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-21 13:16:47 +0200, , include move commands.hh include osv signed pekka enberg penberg cloudius systems.com,,
4328,c80be886f25177a7c7513ec3ad5ee2e46a71ad03,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-21 13:12:27 +0200, , include move barrier.hh include osv signed pekka enberg penberg cloudius systems.com,,
4329,9cb900b7d3c39375bca89aaa1f15e0a4adf14d91,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-21 13:08:36 +0200, , include move mmu.hh include osv signed pekka enberg penberg cloudius systems.com,,
4330,d7cc621650f91e6f360b80155a14680ecd3e96b8,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-21 12:43:15 +0200, , include move interrupt.hh include osv signed pekka enberg penberg cloudius systems.com,,
4331,4473f2ca457c1ebd31ac8d819d564648d4c89334,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-21 12:40:16 +0200, , include move align.hh include osv signed pekka enberg penberg cloudius systems.com,,
4332,fae5693e5228e969a9af82cd73c93d67fe20c240,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-21 12:35:43 +0200, , include move sched.hh include osv signed pekka enberg penberg cloudius systems.com,,
4333,4ae8779eefc4a0fcb7a53c6bb89c61d7a1e275dd,adav Har'El <nyh@cloudius-systems.com>, 2014-01-20 17:31:28 +0200, , chdir fix error path add test patch fix chdir normal file used succeed fail enotdir patch also add exhaustive test chdir success error case latest chdir patch test would fail succeed test standard posix code run also linux important verifing whatever expect osv linux really doe signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4334,05fc5774667fae28c2112668d0806be0e2441559,adav Har'El <nyh@cloudius-systems.com>, 2014-01-20 17:24:01 +0200, , open add o_directory flag patch add o_directory flag sys_open cause open fail enotdir given file type file directory need flag part correct implementation chdir fail non directory file also required linux compatibility o_directory flag exists since linux 2.1.126 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4335,330343970b11f813065900dce17d76a44b8b84ba,adav Har'El <nyh@cloudius-systems.com>, 2014-01-20 16:29:25 +0200, , loader add cwd env option add cwd current directory env environment variable option loader useful certain application expect certain directory certain environment variable exist example usage run.py cwd tmp usr bin something.so signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4336,dba673154a87ef17cb98eb88f95b60bbc02826ca,akuya ASADA <syuu@cloudius-systems.com>, 2014-01-20 21:37:02 +0900, , test case dladdr test case dladdr make sure return correct symbol case addr vfprintf return another symbol addr equal vfprintf return vfprintf result addr bigger vfprintf also inside return vfprintf result reviewed nadav har nyh cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4337,1283d80048230c41c9e6738c3f3416f18c56b9f9,vi Kivity <avi@cloudius-systems.com>, 2014-01-20 15:38:57 +0200, , net optimize sblock sbunlock instead acquiring sockbuf sb_mtx inside sblock sbunlock rely caller take lock expand existing lock hold region caller make reduces acquisition sb_mtx side effect copy userspace done lock affect msg_nowait demand paging major fault screwed anyway signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4338,ac5e19c66c47df2dd87e09460de3d351ed5f200b,vi Kivity <avi@cloudius-systems.com>, 2014-01-20 15:38:56 +0200, , net replace sockbuf sb_rwlock waitqueue sb_rwlock used serialize concurrent writer reader socket buffer quite expensive requires atomic operation per transaction even contention replace waitqueue use sockbuf sb_mtx serialization still exactly cost later move sblock sbunlock context sockbuf sb_mtx already acquired signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4339,ec5c91e72cc134e781a8cc4d1811f8f30dadda59,vi Kivity <avi@cloudius-systems.com>, 2014-01-20 15:38:55 +0200, , net fix sblock sblock take sb_rwlock reading locker clearly effect change acquire lock writing serializes access socket buffer intended bug introduced 6296cbabf89f10b reviewed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4340,e0e4e11ad493c2f2fdd6f912076b1846c44116ce,vi Kivity <avi@cloudius-systems.com>, 2014-01-20 15:38:54 +0200, , net enable ifnet constructor destructor allows placing object ifnet reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4341,a81ca9e6462aebdd0bd23f1a985f81485f098755,vi Kivity <avi@cloudius-systems.com>, 2014-01-20 15:38:53 +0200, , net add comparison operator in_addr reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4342,5f36ebb7bc6f400497a12117a06cec4d4eaa36b7,vi Kivity <avi@cloudius-systems.com>, 2014-01-20 15:38:52 +0200, , net add ntoh hton in_addr reviewed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4343,ef235552ef428baf86cc03920af64e569fb0d298,vi Kivity <avi@cloudius-systems.com>, 2014-01-20 15:38:51 +0200, , bsd reconcile sys param.h system header include system header remove duplicate definition change solaris import use _gnu_source make rlim64_t defined consistently reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4344,a24adb4b6c22fddfe1d4d9bc6adbfd927197b2d6,vi Kivity <avi@cloudius-systems.com>, 2014-01-20 15:38:50 +0200, , bsd convert netport.c allows making ifnet class reviewed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4345,e7eb5073a43119d97859de53884817121ac97992,vi Kivity <avi@cloudius-systems.com>, 2014-01-20 15:38:49 +0200, , rcu add disposer template parameter rcu_ptr resource signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4346,f113ab1ff087e6df987c010457dfeb717a806a3c,vi Kivity <avi@cloudius-systems.com>, 2014-01-20 15:38:48 +0200, , rcu allow initializing pointer reviewed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4347,d241a2c0f60f92f66b2ae8f547698fe33cb3d066,mitry Fleytman <dmitry@daynix.com>, 2014-01-17 17:57:15 +0200, , dhcp repeat dhcp discovery timeout bad practice dhcp discovery without timeout retries case discovery packet get lost boot stucks beside interesting phenomenon system first dhcp discovery packet sent boot get lost case started happen time time kvm system almost every time xen system installing recent fedora core update packet leaf interface never arrives bridge interface packet built properly arrives dhcp server fine retransmissions probably phenomenon bug limitation current linux bridge version patch actually work around since general case good idea dhcp timeouts retries worth anyway signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
4348,d8530b6df9f8bd278f0c7612a9c489b64e983863,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-21 10:23:20 +0200, , build force version.h regeneration force version.h generation make sure version number match git version noticed problem tagging v0.05 rc1 noticing osv happily reported version even applying patch use special .phony target suggested tomek avoid breakage previous attempt documented commit 996fdfd revert build force version.h generation signed pekka enberg penberg cloudius systems.com,,
4349,0f9bf9b606ce3f7c6c8a75b91a5bfce976de1e88,adav Har'El <nyh@cloudius-systems.com>, 2014-01-20 16:20:44 +0200, , fix non functional chdir know chdir ever worked apparently took argument pathname declared local path used pathname path obviously call task_conv convert relative pathname absolute path missing ... chdir still mess incompatible error case linux chdir fix add test follow patch signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4350,333b0b3d4932c1a02c320c2cc9d03081cb9675db,vi Kivity <avi@cloudius-systems.com>, 2014-01-20 18:29:10 +0200, , merge branch waitqueue2 lightweight waitqueue wait_for primitive signed avi kivity avi cloudius systems.com,,
4351,9950d3f18b1cca29d75e6036511584171bc1451d,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-20 14:01:19 +0200, , java disable jvm balloon dor laor writes ballooning cause issue like disable parallel thread trying move memory around optimistically without locking fool memmov logic gleb glauber solution use gcmonitor take time implement logger clash existing gcmonitor bean access logger early tomcat logger handy tomek working solution take day complete therefore disable jvm balloon v0.05 acked glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4352,79a27ef48e7c7bb312ae083977cf02cf9af1e119,leb Natapov <gleb@cloudius-systems.com>, 2014-01-20 13:09:25 +0200, , loader.py print flag permission osv mmap reviewed tomasz grabiec tgrabiec gmail.com signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4353,078e5690fd731ed8c10f868df719d575ae7df4eb,vi Kivity <avi@cloudius-systems.com>, 2014-01-14 11:50:31 +0200, , test add test wait_for predicate signed avi kivity avi cloudius systems.com,,
4354,5bcb1d5c3ee1d07e5abc5ab9534c1e8302f3b590,vi Kivity <avi@cloudius-systems.com>, 2014-01-14 11:49:11 +0200, , sched wait_for support predicate allow arbitrary predicate waited signed avi kivity avi cloudius systems.com,,
4355,d125e4a23675fc91956f7cd3cdc026c89ca7a0a2,vi Kivity <avi@cloudius-systems.com>, 2014-01-13 17:10:37 +0200, , net convert sockbuf waiting use waitqueues add sockbuf sb_cc_wq using instead msleep sb_cc pave way lockless wakeups net channel wait primitive thread wait_for instead msleep addition reduces lock acquisition improves netperf bandwidth reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4356,0e69a2d09936bee90a407e6cadd616772776c818,vi Kivity <avi@cloudius-systems.com>, 2014-01-13 16:25:05 +0200, , net remove sockbuf test_fn used ensure socket using code converted cleaned later clean reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4357,3136db04e67b148f6fa04223512ecc24f739bb6b,vi Kivity <avi@cloudius-systems.com>, 2014-01-02 12:05:45 +0200, , test add test wait_for timer object reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4358,f559807e1e333ac3d48674551ac6110aa5fb6f25,vi Kivity <avi@cloudius-systems.com>, 2014-01-13 18:58:53 +0200, , core add waitqueue support waitqueue object multiple thread wait thread wake either one waiting thread waitqueue associated external mutex user must supply wait wake operation waitqueues differ condition variable three respect waitqueues contain internal mutex make smaller reduces lock acquisition hand waker must hold associated mutex whereas required condition variable waitqueues support sched thread wait_for waitqueues support wait morphing cause excess lock contention even wake_all reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4359,acd36f2df4da8de917c8b59d18f1aa75577cadb9,vi Kivity <avi@cloudius-systems.com>, 2014-01-12 15:21:31 +0800, , sched wake_lock add facility wake thread intention acquire certain lock waking waker hold lock implemented using regular wait morphing code send_lock receive_lock additional mutual exclusion allow regular wake parallel signed avi kivity avi cloudius systems.com,,
4360,fd17a9ed8c09c1e50b1f7912a0979f9845af6bd2,vi Kivity <avi@cloudius-systems.com>, 2014-01-12 14:49:03 +0800, , sched document state machine signed avi kivity avi cloudius systems.com,,
4361,ac08cc6f903eed1800d832a9ba60506c228e687e,vi Kivity <avi@cloudius-systems.com>, 2014-01-13 17:14:30 +0200, , core add signal catching mechanism add signal catching class signal_catcher use signal_catcher wait wait signal use sched thread wait_for ... signal_catcher ... wait signal addition event signed avi kivity avi cloudius systems.com,,
4362,c32caaca3b4f6c06106ba0651dcfa12d186e1282,vi Kivity <avi@cloudius-systems.com>, 2014-01-02 12:05:17 +0200, , sched make timer waitable object suitable wait_for reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4363,3004491e59eb5c1cbfc4b816f6e094aa29568384,vi Kivity <avi@cloudius-systems.com>, 2014-01-02 11:58:58 +0200, , sched support waiting multiple object different type waiting complicated wait condition variable timer wait queue signal semaphore need wait multiple event thing become even complicated sort abstraction needed poll example support waiting multiple object conform interface timeout allow flexible waiting patch add poll like interface scheduler except interface compile time add new function wait_for accepts variable number waitable object waitable object object support three method poll check waiting complete arm prepare waiting disarm finish waiting make waitable object usable wait_for function supplied reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4364,4b29d7f7e1ed39b97ed517345aee490127ff8bcc,lad Zolotarov <vladz@cloudius-systems.com>, 2014-01-19 14:14:22 +0200, , libc added rand_r reviewed nadav har nyh cloudius systems.com signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4365,b800a2452f6aa4467e7f74e09b1f776af0692fb0,lad Zolotarov <vladz@cloudius-systems.com>, 2014-01-19 14:14:21 +0200, , libc added __snprintf_chk __vasprintf_chk reviewed nadav har nyh cloudius systems.com signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4366,f5f0501df639b8b828bde6d2691d897991914aa4,lad Zolotarov <vladz@cloudius-systems.com>, 2014-01-19 14:14:20 +0200, , libc added gethostbyname reviewed nadav har nyh cloudius systems.com signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4367,d0c473d44296ccb00a4976825f579c9fc240457b,lad Zolotarov <vladz@cloudius-systems.com>, 2014-01-19 14:14:19 +0200, , posix_memalign remove extra check size remove extra check size like remark implies reviewed nadav har nyh cloudius systems.com signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4368,7c390bb0bbf03bcc20a7b976a794aefe0a925384,sias He <asias@cloudius-systems.com>, 2014-01-17 21:20:28 +0800, , virtio scsi skip uio size check driver check moved bdev_read bdev_write signed asia asia cloudius systems.com signed avi kivity avi cloudius systems.com,,
4369,e3e67a5796045103330575ea71e1a3d92b6b6678,sias He <asias@cloudius-systems.com>, 2014-01-17 21:14:57 +0800, , virtio call setup_features twice setup_features called twice virtio_driver constructor virtio device driver constructor driver constructor enough signed asia asia cloudius systems.com signed avi kivity avi cloudius systems.com,,
4370,bc399781fcf0a60d829c38feae25c9bfc89eb9ba,sias He <asias@cloudius-systems.com>, 2014-01-20 09:00:00 +0800, , pci enable mmio bar support would useful device mmio bar e.g ahci controller signed asia asia cloudius systems.com signed avi kivity avi cloudius systems.com,,
4371,cc03cc23645ea0b39df882d286a091345ad1d370,mnon Heiman <amnon@cloudius-systems.com>, 2014-01-19 17:45:44 +0200, , http server initilize route json path definition json_path initilized based swagger json api definition setting route match version operation done operation nickname situation api modified path changed accordingly without change code signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4372,5878b2c7daf843de1c5039dfb013ad5cd631aea5,mnon Heiman <amnon@cloudius-systems.com>, 2014-01-19 17:45:43 +0200, , http server makefile support code generation makefile dependcy rule create file json file temporary source file kept allow code brawsing make clean delete autogen code well patch also contains removal library dependency linkage file object signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4373,a9282bafb97cdb5c181721ecbef750c805f5a048,mnon Heiman <amnon@cloudius-systems.com>, 2014-01-19 17:45:42 +0200, , http server auto code generation script python script creates json object json path json swagger definition json file header file contain object definition source file contain path initilization later used declare path route object script run makefile compilation signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4374,ec712b8e03a63c476528477fe9f36bac827613a0,mnon Heiman <amnon@cloudius-systems.com>, 2014-01-19 17:45:41 +0200, , http server route configure json path json_path object initilized information taken swagger definition file route defintion use json_path object set route handler os_version pointer handler getosversion nickname operation possible call routes.add_path getosversion os_version set path signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4375,052f86bca64c32fa47335e43bd5b78008d0b9a3a,mnon Heiman <amnon@cloudius-systems.com>, 2014-01-19 17:45:40 +0200, , http server expend formatter formatter format various data type json patch add support two additional type unsigned long used os.json swagger file json object obj json object get string representation possible call formatter to_json obj signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4376,b0597fd1b5d75b91aad9a500521329604d9a3348,mnon Heiman <amnon@cloudius-systems.com>, 2014-01-19 17:45:39 +0200, , http server support json object json object struct inherit json_base member json_element able format json object member name flag mark set json element inherit hold set bit name flag specify mandatory optional json element instantiate json_element template type specific json_element implementation handle list json list set part result value pushed json_base base class json object hold vector element inherit class set member base class vector mimic reflection functionality allowing iterate class member ability iterate class member used format method verify method signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4377,96767bf773b95ef814276a56b13f85828df66606,mnon Heiman <amnon@cloudius-systems.com>, 2014-01-19 17:45:38 +0200, , http server add json path support path information defined swagger api definition file include url path e.g version method get post nickname patch api mapped object stored hash located nickname actuall mapping json code done extenrnal json script compilation signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4378,3fef719fe415fcfc2b477323fc659c996b3fbf03,adav Har'El <nyh@cloudius-systems.com>, 2014-01-19 23:01:57 +0200, , run.py add verbose option osv loader verbose option enable debug output printed console memory buffer however needing pas option string annoying even worse want use default command line even want explict option patch add verbose run.py used whether option given example run.py verbose  run.py verbose test tst timerfd.so shorthand verbose used unfortunately lowercase already taken vhost option fix 173 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4379,38c699448284fb44cb7f8953e5421e58789e4299,adav Har'El <nyh@cloudius-systems.com>, 2014-01-19 22:48:04 +0200,128, run.py without revert default command line issue 128 explains annoying option used run.py override default command line running run.py without rerun modified command line default one usual simple patch change behavior every run run.py command line set given set given command line absent command line reset default one basically behavior people always wanted run.py patch behavior performs much simpler alternative proposed issue 128 please complain used development ec2 creating image distribute patch run.py obviously relevant anyone running osv image run.py patch make run.py convenient use fix 128 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4380,b52e67efa1e9c0adbae06f3870fb6019bd5c6219,adav Har'El <nyh@cloudius-systems.com>, 2014-01-19 14:06:27 +0200, , sysinfo provide real measurement sysinfo stub patch fill information already provide namely uptime second recently added osv clock uptime total free memory recently added memory stats free total function number process always osv patch also change couple type unsized name like unsigned fixed sized one like u32 match definition structure linux make difference x86_64 perhaps future architecture tested amnon heiman amnon cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4381,a2277a0d65e902d70d6c3852427e63fbd51260d4,adav Har'El <nyh@cloudius-systems.com>, 2014-01-19 13:42:29 +0200, , sysinfo fix stack overwrite sysinfo used sizeof struct sysinfo decide many zero write problem struct much larger linux much larger padding end run code compiled linux code would allocate small structure stack zero much larger structure causing stack corrupted drop reserved field making structure larger needed fix 174 tested amnon heiman amnon cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4382,38566444d45fb6321e018e2389562bb4b86b6d6b,akuya ASADA <syuu@cloudius-systems.com>, 2014-01-18 16:52:30 +0900, , elf fix object lookup_addr lookup correct symbol fix object lookup_addr lookup correct symbol return nearest symbol s_addr addr compare opposite way signed takuya asada syuu cloudius systems.com signed avi kivity avi cloudius systems.com,,
4383,69bf74a72cde442e2f9ded7e8e6ab4c6954c1154,mitry Fleytman <dmitry@daynix.com>, 2014-01-17 19:32:33 +0200, , dhcp support mtu option patch introduces support mtu option described rfc2132 chapter 5.1. interface mtu option amazon ec2 networking option case give throughput improvement 250 big instance 10g networking netperf result hi1.4xlarge instance tcp_maerts test osv run netserver send buffer size throughput patch mbps throughput patch mbps improvement 4912.29 1386.28 254 4832.01 1385.99 249 128 4835.09 1401.46 245 256 4746.41 1382.28 243 512 4849.04 1375.23 253 1024 4631.8 1356.69 241 2048 4859.59 1371.92 254 4096 4864.99 1383.67 252 8192 4627.07 1364.05 239 16384 4868.73 1366.48 256 32768 4822.69 1366.63 253 65536 4837.67 1353.87 257 signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
4384,88a2c035c862751423d6d09907941b00d56bbb5c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-17 11:07:41 +0100, , build generate file uploaded manifest fix 116 module add file handled build system incremental build fails message like make rule make target home tgrabiec src osv apps cassandra upstream jna signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4385,6b5b66967df65b706f5aa045422116f32c44fe95,hi Yong Wu <zwu.kernel@gmail.com>, 2014-01-17 16:18:42 +0800, , xen fix error unable find tring literal operator total time 30.77 sec make build release make entering directory home zwu osv build release cxx bsd sys xen gnttab.o file included home zwu osv bsd sys xen hypervisor.h home zwu osv bsd sys xen gnttab.cc home zwu osv bsd machine xen hypercall.h function int const trap_info_t home zwu osv bsd machine xen hypercall.h 146 error unable find string literal operator operator strâ home zwu osv bsd machine xen hypercall.h function int mmu_update_t unsigned int unsigned int domid_t home zwu osv bsd machine xen hypercall.h 154 error unable find string literal operator operator strâ home zwu osv bsd machine xen hypercall.h function int mmuext_op unsigned int unsigned int domid_t ...... make bsd sys xen gnttab.o error make leaving directory home zwu osv build release make error reviewed glauber costa glommer cloudius systems.com signed zhi yong zwu.kernel gmail.com signed pekka enberg penberg cloudius systems.com,,
4386,4f954108ff2fa9a3987e1e9e03d09dece4e78c76,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-17 09:52:32 +0200, , revert build support vmdk image format reverts commit cause significant slowdown first time boot qcow2 image penberg localhost osv time script run.py osv v0.05 rc1 108 g0639dd8 openjdk bit server warning detect initial thread stack location find_vma failed   real 0m9.954s user 0m4.958s sys 0m1.309s penberg localhost osv git revert  penberg localhost osv time script run.py osv v0.05 rc1 108 g0639dd8 openjdk bit server warning detect initial thread stack location find_vma failed   real 0m4.441s user 0m3.785s sys 0m0.530s signed pekka enberg penberg cloudius systems.com,,
4387,fc0715e0de23d0a9f0ca0de48ad20d77f3b4c648,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-15 16:25:51 +0200, , test miscs procfs.so add simple manual test case checking proc self map output signed pekka enberg penberg cloudius systems.com,,
4388,b21423eccdf244bbbe915d9d22b54a25abb5498a,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-10 15:01:14 +0200, , vfs mount procfs boot add proc directory osv image mount procfs reviewed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4389,e293854fa29d942320229898da9fbb6cb03f1916,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-10 14:45:35 +0200, , proc filesystem patch add simple linux compatible procfs filesystem currently implement proc self map file looked openjdk startup signed pekka enberg penberg cloudius systems.com,,
4390,b01a54444fdf6c758355d99225798f926fb451c6,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-15 10:44:07 +0200, , mmu procfs support add procfs_maps function core mmu.cc return vmas formatted linux compatible proc pid map file called procfs filesystem limitation shared mapping identified file backed mmap offset device inode pathname reported special region name heap stack reported reviewed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4391,9f68c2d9990e9c9f348aa1e311f9f03c6079ddac,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-14 13:50:45 +0200, , vfs struct file vop_read add struct file vop_read api needed procfs generates file content open time read must operate vnode signed pekka enberg penberg cloudius systems.com,,
4392,11545281390fb9365cf30208098564bea67e8dff,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-15 12:30:02 +0200, , libc use pthread stack info rlimit_stack currently rlimit_stack small jvm limit stack size rlimit_stack vma range cover address found proc self map preparation procfs support switch rlimit_stack reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4393,1152ad988fad9f3bbfee2cfc4a07e549b34766b6,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-16 16:33:33 +0200, , pthread add add preparation fixing rlimit_stack reviewed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4394,b3245e643f369d2df9ec0fb2a22cede4abc5a131,lauber Costa <glommer@cloudius-systems.com>, 2014-01-17 00:58:52 +0400, , java disable balloon heap size set noted many need mechanism control whether balloon mechanism enabled trivial way allow boot option control may may right route future least right safest way proceed view xmx declaration intent case disable balloon leaving enabled people went trouble calculating value signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4395,32abe7841e4514e8a1c4925e18d7ac242ed00d98,lauber Costa <glommer@cloudius-systems.com>, 2014-01-16 20:00:17 +0400, , balloon remove leftover code code 100 positive removed testing must forgotten git add remove sent patch ended tree simply test leftover effect thread loop forever never waiting initial value signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4396,0639dd85a19a81faf7422efd267dbea0c6634ef0,akuya ASADA <syuu@cloudius-systems.com>, 2014-01-17 00:43:12 +0900, , console add vga.hh include isa serial.hh need include vga.hh required console.cc move signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4397,a07a7dfc311f0c71801588f9a39bcfbc3b9c8aa0,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-16 15:09:38 +0200, , loader remove copyright statement boot log remove copyright statement boot log keep osv version banner tidy boot signed pekka enberg penberg cloudius systems.com,,
4398,f40fdbae432ae4e65996a0988d4b1aa80ff4d767,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-16 15:52:10 +0200, , devfs remove device found printout openjdk look dev urandom startup work fine without need display error message osv happens signed pekka enberg penberg cloudius systems.com,,
4399,654dfc3e64bc52708d25c0152c5f11916e11508c,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-16 14:13:13 +0200, , readme replace debugging section link wiki osv debugging trace analysis much better covered wiki page replace text readme link date wiki signed pekka enberg penberg cloudius systems.com,,
4400,b53d8721bd6a95f3de70fcee56b7e14e7fd4862d,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-16 15:20:04 +0200, , mgmt.git boot message cleanup take latest mgmt.git fix make osv boot verbose signed pekka enberg penberg cloudius systems.com,,
4401,8ac6a873d3fb1e20a0327ff9797762cbf1108355,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-16 14:03:22 +0100,167, revert conf make release build use reverts commit change cause osv abort jvm started following option agentlib jdwp transport dt_socket server suspend address 5005 result error transport error 202 setsockopt tcpnodelay failed protocol available error jdwp transport dt_socket failed initialize transport_init 510 jdwp exit error 197 transport initialized src share back debuginit.c 750 fatal error native method jdwp transport initialized jvmtierror 197 aborted think best revert root cause solved see issue 167 signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4402,822a93ba80b9e12ccc6ed98a3fc468876228f286,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-16 14:56:46 +0200, , loader bring back osv version boot signed pekka enberg penberg cloudius systems.com,,
4403,116b4988d04b33c5f429fca17a053b24825fb341,adav Har'El <nyh@cloudius-systems.com>, 2014-01-16 14:53:40 +0200, , loader.cc make error message visible since recently debug message default visible mean good way print error message patch fix two error message loader.cc longer visible example script run.py xyz completed without message instead telling user xyz exist signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4404,5d9e5e7cf8f38bab50b24b7f8607bda68c2ab740,adav Har'El <nyh@cloudius-systems.com>, 2014-01-16 14:49:49 +0200, , fix regression early output stdout output stdout normally file descriptor however early boot console opened file descriptor also want printf work case specially treated libc stdio early case used debug_write directly instead write file descriptor however recent patch changed debug_write write memory buffer instead screen unless verbose option given loader made early printf break patch change __stdout_write use console write debug_write use console write convert source file signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4405,1cfe110f74660fee65198d66f65ff6d176717449,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-15 17:52:34 +0200, , trace add extract command add trace extract command hide gdb magic future proof change trace transport protocol reviewed tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
4406,a8a0874956b631847299a5c86aeb95f2c088d988,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-16 13:08:57 +0200, , run.py add graphic option add graphic option run.py enables qemu graphic mode using sdl needed testing osv vga support requested takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4407,b88a7bf010e64b1495b35dee963c3567ec468e71,or Laor <dor@cloudius-systems.com>, 2014-01-16 09:45:58 +0200, , silence qemu ifup script drop echoing script tap0 signed pekka enberg penberg cloudius systems.com,,
4408,337f4eb0180c07ef457bc9c408ed63beed3873c7,vi Kivity <avi@cloudius-systems.com>, 2014-01-15 19:28:17 +0200, , tst kill fix timeout test timeout test set second timeout second alarm expects timeout happen first change timeout 0.5 second signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4409,9b9aa6cb90a340746f3f71c4a93b74136187b1c6,vi Kivity <avi@cloudius-systems.com>, 2014-01-15 19:26:36 +0200, , net fix socket send receive timeout microsecond value passed instead scaled signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4410,bf6929c5b0cf8796222203a8b5908f4188e9d6e2,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-15 21:28:34 +0200, , java use debugf autotuning message make jvm heap autotuning message silent default signed pekka enberg penberg cloudius systems.com,,
4411,f37b7e53e3536030e6fed944d6c07d537e7e9210,duardo Piva <efpiva@gmail.com>, 2014-01-15 16:50:51 -0200,118, debug change call printf boot message change printf call boot message call apropriate debug function enable osv operate silent mode added debug.h header link debug function file fix 118 signed eduardo piva efpiva gmail.com signed pekka enberg penberg cloudius systems.com,,
4412,e90924268c60325857011bb5ab0862a49b816d3d,duardo Piva <efpiva@gmail.com>, 2014-01-15 16:50:50 -0200, , loader add verbose option osv add verbose option osv flush buffer handling kernel option set verbose boolean flag debug code signed eduardo piva efpiva gmail.com signed pekka enberg penberg cloudius systems.com,,
4413,63ff4d0644cf739d5b9be5e157beb81c7c4b7cee,duardo Piva <efpiva@gmail.com>, 2014-01-15 16:50:49 -0200, , debug create circular buffer silent mode create circular buffer stored debug message accordingly debug buffer full reuse method called added enable printing message console verbose mode configured global variable used track flushing debug buffer console need flush buffer side verbose boolean variable set message printed console beeing stored buffer size buffer 50kb defined debug.hh function debugf received variable list argument defined change printf boot sequence debugf call different name used prevent overload signed eduardo piva efpiva gmail.com signed pekka enberg penberg cloudius systems.com,,
4414,6244e69f788d8ff0eb78dc20a7cac7d8cf6df085,vi Kivity <avi@cloudius-systems.com>, 2014-01-15 17:20:25 +0200, , gdb fix osv info thread thread address printout print thread pointer address thread pointer reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4415,1511b313d46fe28ae0725a7ff3a4c84f0851c69d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-15 16:27:01 +0100, , trace get rid extra new line list timed output signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4416,fa4782602085738d607303b67b30a1f508139e3b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-15 14:23:00 +0100, , trace fix help text trace.py summary signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4417,25462ceb40c9a2b8fd2b7086ddef622412ee56db,adav Har'El <nyh@cloudius-systems.com>, 2014-01-15 11:49:30 +0200, , add osv clock wall add type safe std chrono interface wall clock time e.g. use use osv clock wall get std chrono time_point instead clock get time return s64 patch also change clock_gettime clock_realtime gettimeofday use new osv clock wall interface signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4418,a77c1282d047a1c0f64ca09c62596f0868fe5b1f,adav Har'El <nyh@cloudius-systems.com>, 2014-01-15 09:49:04 +0200, , osv clock.hh add std chrono duration literal driver clock.hh support time literal looking like 100_ns 100_us 100_ms 100_s simply translated integer number nanosecond added osv clock.hh similar literal using strongly typed std chrono duration 100_ms translates std chrono millisecond 100 usual automatically scaled compiler unit unit e.g. nanosecond required literal driver clock.hh osv clock.hh name use latter need explicitly enable scope using statement using namespace osv clock literal one entire codebase converted use osv clock.hh std chrono old literal driver clock.hh removed signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4419,f6d28b1b5a47862bda020acf5d03bec73df5ca95,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-15 12:16:33 +0100, , trace get rid unnecessary int_or_none signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4420,0b1cd12a733990a16b33ee4af0fc01af43e15f2a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-15 12:16:32 +0100, , trace make option required prof command signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4421,dcfc6c56b0dc3f5f79ef65f27792e3811205470c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-15 12:16:31 +0100, , trace accept time unit since timestamp typically come trace.py list output change make easier paste timestamp listing print time separating second nanosecond option since accept timestamp nanosecond dot must removed one need append suffix change unit second signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4422,8ab9113a7e818b1f2dbf3df2213beb5eda0f2d18,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-15 12:16:30 +0100, , trace introduce period time slicing option  since 10.0 period 100ms equivalent since 10.0 10.1 option make easier slice time based output trace.py list timed print trace timestamp duration signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4423,e8509c7fab6d239928620cc1bf68de5cd62e3ebb,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-15 12:16:29 +0100, , trace make time slicing option available trace listing signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4424,0345ca0e5a89c2d8ba60f10cad05e77044678459,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-15 12:16:28 +0100, , trace move timerange prof.py trace.py signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4425,033ec230af3248c6d8b25005930fbb2fcb415924,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-15 12:16:27 +0100, , trace move trace related command loader.py trace.py removing osv trace summary osv trace duration command loader.py first added trace.py summary timed second one added trace.py list timed easier move one commit coupled  signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4426,97c10b1ae954d25057bf35e5a31e9d9a2f8b7885,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-15 12:16:26 +0100, , trace use call site instead return site flat backtrace call graph tree already using call site make also trace.py list also use signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4427,8608124308ffc986a5fb79a762d8875ed6987b17,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-15 12:16:25 +0100, , trace add summary command print output like collected 36843 sample spanning 8.85 tracepoint statistic name count  sched_wait 18420 sched_wait_ret 18423 signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4428,2031c7de5d0ace9861aa6b0e2db18d029defa3c9,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-15 12:16:24 +0100, , trace exit silently stdout pipe broken output fully consumed piping head get ugly exception traceback recent call last file script trace.py line 274 module args.func args file script trace.py line 227 list_timed bt_formatter t.backtrace ioerror errno broken pipe let ignore normal condition signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4429,cf9e4260293153c19163211293bd78f9afaa303a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-15 12:16:23 +0100, , trace improve help added command description improved clarity option extracted argument group changed command help start lower case letter signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4430,9aae7bcd4aad574387f978e5f401293b58ed9cae,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-15 12:16:22 +0100, , trace remove left used signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4431,ae65b676ab35c1a815a4a34ba6bb73e235f0cdce,adav Har'El <nyh@cloudius-systems.com>, 2014-01-15 10:55:23 +0200, , document clock time fix implementation kvmclock clock time function return current wall clock time number nanosecond since unix epoch never clearly documented patch add documentation moreover kvmclock assumed host never adjusts wall clock time good assumption prevents benefiting ntp running host avi kivity explains wall clock need sample wall clock base every time since changed host patch change kvmclock time sample wall clock boot reported paravirtual clock every time call downsite patch clock get time therefore nanotime become bit slower kvmclock need sample wall_clock_boot every time require couple barrier arithmetic operation note even using non monotonic clock get time timer using monotonic clock get uptime switch using get back bit performance lost patch signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4432,402d70b2bdc5427a23cdc24349085840bc2d5d42,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-15 14:00:50 +0200, , module remove httpserver.so mgmt httpserver.so doe build propery many link httpserver usr bin find lboost_system usr bin find usr bin find collect2 error returned exit status drop osv.git build doe signed pekka enberg penberg cloudius systems.com,,
4433,0444401ea0e99f9037019e38b348eba46cac17ac,mnon Heiman <amnon@cloudius-systems.com>, 2014-01-14 14:21:54 +0200, , makefile add httpserver rule httpserver part compilation mgmt signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4434,c270689aa279ca988471df7c9f8163441dd8d78c,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-14 15:35:14 +0200, , revert makefile add httpserver rule reverts commit applied broken version signed pekka enberg penberg cloudius systems.com,,
4435,3aa448589511b950fedb6bb363e697c5e190d131,mnon Heiman <amnon@cloudius-systems.com>, 2014-01-14 14:21:55 +0200, , module add httpserver.so mgmt module httpserver.so added image placed usr mgmt signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4436,a39cde7853e742846cd2a8a79cc41699d36e6dee,mnon Heiman <amnon@cloudius-systems.com>, 2014-01-14 13:13:22 +0200, , makefile add httpserver rule httpserver part compilation mgmt signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4437,aafcf38281700ccc218499091e7799e4601652cd,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-14 15:16:22 +0200, , update latest mgmt.git preparation adding httpserver.so mgmt module update latest mgmt.git fix unsupported library dependency signed pekka enberg penberg cloudius systems.com,,
4438,7786219bca1613e508236d645b782ba61b87fe7f,mnon Heiman <amnon@cloudius-systems.com>, 2014-01-14 15:13:09 +0200, , http server switch change http server use instead compatible osv boost library signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4439,d13cbb5319e4cab0b15012506ce16773f4fbf4e5,mnon Heiman <amnon@cloudius-systems.com>, 2014-01-14 10:52:33 +0200, , http server change version work json formatter version handler use json formatter return json formatted result signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4440,cb58f9e19f0884445ad5a97f3e30616a9a5d3d56,mnon Heiman <amnon@cloudius-systems.com>, 2014-01-13 19:47:37 +0200, , http server json formatter json formatter format primitive json format overload to_json method different type used directly format return value json primitive also used json object help format themselfs signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4441,4d0ed4c3586d8756890372ca995b5e4c798c92d1,adav Har'El <nyh@cloudius-systems.com>, 2014-01-14 00:51:57 +0200,160, move test separate module instead always putting test image patch add option putting image making new module module test default image image default.py continues require test module test included default image building make image test make image test nothing else image e.g. memcached cassandra ... currently require test module generated image doe include test patch make image memcached example contains bare minimum needed memcached resulting qcow image included test fix 160 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4442,996fdfde4422bcfa56a56c0101fab26b281313e2,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-14 10:07:26 +0200, , revert build force version.h generation reverts commit break build trying compile latest source code git head heaving following error make build release make entering directory home eduardo workspace osv build release make rule make target home eduardo workspace osv build release gen include osv version.h needed home eduardo workspace osv build.mk stop make waiting unfinished job .... gen gen include bit alltypes.h make leaving directory home eduardo workspace osv build release make error reported eduardo piva efpiva gmail.com signed pekka enberg penberg cloudius systems.com,,
4443,e51cf4ee63df8ad8e2d3cf972ce8dd0ab183a6c1,adav Har'El <nyh@cloudius-systems.com>, 2014-01-13 22:51:13 +0200, , makefile get rid make external need make external plagued problem first formost annoying people need told run make external instead make vlad recently discovered strangely relied debug mode build happened also make clean undo make external make external glorious past today left measly test compile external glibc testsuite malloc getcwd clock tiny test 796 test full glibc test suite really important enough cause make external mess patch remove need make external ever want bring back test think need delete partial external glibc testsuite directory bring full glibc test suite 796 test separate module glibc test suite downloaded together glibc source code file named tst glibc source tree signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4444,7f5d1d0f27672f0e600a8cafd0a006a36648f387,adav Har'El <nyh@cloudius-systems.com>, 2014-01-13 22:30:34 +0200, , module move file module java mgmt usr.manifest creation java mgmt module still left bunch file main really belong module java mgmt usr.manifest patch move various shared library font java need font needed awt including headless awt well various jni shared object java.so runjava.jar java module move couple tool ifconfig lsroute configuration file etc inputrc used management module mgmt module reduces small osv appliance like make image memcached need java still left test next item todo move test test module signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4445,305c749f4b5610929b5f09f5370b0bf48fd2b0b6,adav Har'El <nyh@cloudius-systems.com>, 2014-01-14 01:01:19 +0200, , tst vfs rely random java file tst vfs.cc currently stat file usr lib jvm jre lib amd64 headless libmawt.so exist since java optional image good idea check file might exist e.g. make image test check fail patch change check filename certain exist like namely test test tst vfs.so wanted pathname component test rewritten create pathname say test stat newly created file rely file pre exist signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4446,2f9a889e200a67eb66210f81899502db214ba379,adav Har'El <nyh@cloudius-systems.com>, 2014-01-13 23:27:21 +0200, , makefile remove unnecessary lstdc since kernel includes entirety libstdc point specifying lstdc linking shared object like test cpio.so linking actually linking specifies libstdc library needed already needed list object needing libstdc unnecessary probably also date since stopped bothering update libstdc added kernel patch remove lstdc line signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4447,622d8bba303bce4ba81ca6d2e8cd43460906aa87,lauber Costa <glommer@cloudius-systems.com>, 2014-01-11 01:22:18 +0400, , zfs remove one osv ifdef every osv specific ifdef remove zfs god ressurects kitten recent addition fix piece code compiled reclaimer code welcome beware doe mean reclaiming yet mean wired zfs arc reclaiming process bsd notification system need somehow wire notification system osv shrinking infrastructure easy part course balance call arc balloon hard part signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4448,5a60e13d0cba5df406d74d6639cc6b58dd24d350,lauber Costa <glommer@cloudius-systems.com>, 2014-01-11 01:22:17 +0400, , reclaim export address osv reclaimer zfs perform check determine current calling process reclaimer export address reclaimer thread test work signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4449,36c0cebc205407b5d6d7676027d69d70f979d439,lauber Costa <glommer@cloudius-systems.com>, 2014-01-11 01:22:16 +0400, , bsd glue simplify curproc return pointer currently commented code zfs check thing like curproc pageproc something really great  problem current implementation curproc designed xen break return pointer stack variable created demand contains pid process returning thread address make check work forced give accessing field inside altogether really must structure field offset thread class thread class defined .hh file good luck calculating offset field say compile time include file contains exclusively code since xen user pid test resistance changing xen code quite low ahead change storing address process allow compare test way zfs doe get everything working signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4450,72d4d8f40da85c0058c850cb02312ea4c82a43fb,lauber Costa <glommer@cloudius-systems.com>, 2014-01-11 01:03:28 +0400, , msleep make accept kind mutex first sorry sorry avi dor pekka god dennis ritchie caterva sorry probably one ugliest thing ever written programmer history programming story zfs defines mutex type kmutex_t basically osv implementation piece code currently commented long call msleep needfree zfs lowmem problem msleep implementation expects struct mtx wrapper around mutex maybe changed doe anybody remember done way keep mind going great lenghts change zfs ifdefing code generally fine casting solution could used tried change zfs definition mutex bsd glue code couple hour still resolving conflict part would break expecting certain type changed eventually set current ugly functional solution code msleep way accept kind mutex really ugly kind mutex really mean kind crap user pass good bye type safety altogether work minimal change importantly change glue code anybody idea would happy try time believe best compromise signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4451,d914ee0dbc54e39c698e5a3c887987db98b8bdb7,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-13 18:03:03 +0200, , build force version.h generation force version.h generation make sure version number match git version noticed problem tagging v0.05 rc1 noticing osv happily reported version even applying patch signed pekka enberg penberg cloudius systems.com,,
4452,59563357b4b8dfe21bf4f6f570b51b3cab04046d,akuya ASADA <syuu@cloudius-systems.com>, 2014-01-10 20:41:14 +0900, , build support vmdk image format current makefile accept make img_format vmdk external qemu doe support format mkzfs.py requires run osv qemu patch image conversion performs mkzfs.py prevents error qemu execution tested qemu kvm vmware using format raw qcow2 vmdk probably work another format vdi used virtualbox signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4453,4be775336b9617d66f94f4eea767c5469cb6476e,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-13 19:06:08 +0200, , http server fix include path makefile fix build breakage caused commit c69fad2 http server clean api os.hh cxx obj api os.o file included api os.cc api os.hh fatal error routes.hh file directory include routes.hh  signed pekka enberg penberg cloudius systems.com,,
4454,8ee52bfe8d38440735713b5e43d8f2b9825a828d,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-13 18:55:13 +0200, , http server clean api os.hh fix include guard odd include path signed pekka enberg penberg cloudius systems.com,,
4455,3f7fc62de8ba782bb4a170ba396676e30de0b546,mnon Heiman <amnon@cloudius-systems.com>, 2014-01-13 18:45:29 +0200, , http server move handler api directory version handler moved main api directory idea api swagger definition file mgmt api listing file handler signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4456,89778c71bfb6338c855692068c8df591ac4de350,mnon Heiman <amnon@cloudius-systems.com>, 2014-01-13 18:14:19 +0200, , http server change version stub use uname run locally version use linux uname method return version signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4457,44ebba3b8ae3055dd9c40b7ff1097208ef6bd777,mitry Fleytman <dmitry@daynix.com>, 2014-01-11 14:07:29 +0200, , netperf drop patch limited alarm implementation workaround patch needed anymore since alarm implementation extended missing feature signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
4458,2dc3caf3fdfd3c62f8806a3bd69ae23bad4ffe7b,mitry Fleytman <dmitry@daynix.com>, 2014-01-11 14:07:28 +0200, , tst kill add test interrupted syscalls sig_alrm signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
4459,8b5d9994acb7cb48dcf1db5fb46c9d5de74d4cd8,mitry Fleytman <dmitry@daynix.com>, 2014-01-11 14:07:27 +0200, , alarm wake thread interruptible sleep signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
4460,407301a5cfdece7fe71ddca9d61584cc0f7760d9,mitry Fleytman <dmitry@daynix.com>, 2014-01-11 14:07:26 +0200, , msleep wait interruptible manner signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
4461,a98b708d51c08bb8e4d6e2c740582d778b0077c1,mitry Fleytman <dmitry@daynix.com>, 2014-01-11 14:07:25 +0200, , wait_until introduce infrastructure interruptible wait signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
4462,b03f081c61626ba24b0482eb194c337f636dd647,mitry Fleytman <dmitry@daynix.com>, 2014-01-11 14:07:24 +0200, , msleep prepare interruptible sleep implementation synch_port msleep merge time non time case one conditional branch avoid code duplication simplifies code make future implementation interruption handling code interruptable sleep easier signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
4463,530d00cce0b1def7601519b6ecffaa31c14600a0,mitry Fleytman <dmitry@daynix.com>, 2014-01-11 14:07:23 +0200, , alarm prepare syscall interruption implementation move alarm cancellation logic separate function cancel_alarm_ll fucntion called thread destruction avoid post mortem alarm also move alarm scheduling logic separate function set_alarm_ll make code symmetric signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
4464,17eb9fda90a10f69b9ab1b842224353fcfbdb142,mnon Heiman <amnon@cloudius-systems.com>, 2014-01-13 17:18:21 +0200, , http server version api return version using version method part osv image use stub function run locally signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4465,53399b86e445ca80a51a23414a3c2872bbf34fa0,mnon Heiman <amnon@cloudius-systems.com>, 2014-01-13 16:10:08 +0200, , api add osv version querying osv version uname function return fake linux version number application compatibility add new osv version api return osv version used management code signed amnon heiman amnon cloudius systems.com penberg cleanup signed pekka enberg penberg cloudius systems.com,,
4466,0b97eeb683101a43314959b107069acf63298a44,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-13 14:33:48 +0100, , debug.py fix output parsing addr2line ver 2.23.52.0.1 9.fc19 pekka noticed addr2line responds unknown symbol whereas mine responds reported pekka enberg penberg cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4467,1c04a96ded80de04531d103d24fb812bb7a72c41,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-13 13:08:30 +0100, , trace show digit timestamp easier use timestamp argument since prof command accept full timestamp nanosecond signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4468,c3473ce110c3225cac54855f0f570d480798e5fc,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-13 13:08:29 +0100, , trace separate backtrace element comma rather space affect output trace.py list osv trace gdb command make trace readable filename also included signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4469,2808e2dff45156cdb4dc94608859872baeb150f5,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-13 13:08:28 +0100, , trace add command printing tracepoint hit profile new prof command show hit profile arbitrary tracepoint many option accepted prof wait also accepted command example script trace.py prof sched_wait thread 100.00 7696 99.51 7658 sched thread do_wait_until 83.38 6417 condvar wait lockfree mutex unsigned long condvar_wait 81.21 6250 cv_timedwait txg_delay    dmu_tx_assign 81.19 6248 zfs_write vfs_file write uio int sys_write pwritev writev __stdio_write __fwritex fwrite 0x100000005a5f osv run std string int char int signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4470,ca3be96c78a98f2dac321ee6bbb2d641273a6ca1,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-13 13:08:27 +0100, , trace add command printing wait profile see script trace.py prof wait command using sched_wait sched_wait_ret tracepoints calculate amount time thread waiting sample collected presented form call graph tree default callees closer root inverse order pas caller oriented much output narrowed using max level min duration option presented time spectrum narrowed using since option accept timestamps example script trace.py prof wait max level trace file thread 12.43 100.00 7696 12.43 99.99 7658 sched thread do_wait_until 10.47 84.22 6417 condvar wait lockfree mutex unsigned long condvar_wait 6.47 52.08 6250 cv_timedwait txg_delay    dmu_tx_assign  2.37 19.06 arc_read_nolock arc_read dsl_read   911.75 7.33 txg_wait_open dmu_tx_wait zfs_write vfs_file write uio int sys_write pwritev writev __stdio_write __fwritex fwrite 0x100000005a5f osv run std string int char int default every thread separate tree duration best interpreted context particular thread however option merge sample thread one tree merge thread may useful want inspect path going particular function direction changed caller oriented option function name passed function parameter example check zfs_write block script trace.py prof wait function zfs_write trace file 7.46 100.00 7314 zfs_write 6.48 86.85 6371 dmu_tx_assign 6.47 86.75 6273  6.47 86.75 6248 txg_delay cv_timedwait condvar_wait condvar wait lockfree mutex unsigned long sched thread do_wait_until  87.87 0.00 mutex_lock sched thread do_wait_until  6.40 0.00 mutex_lock sched thread do_wait_until  7.32 0.10 mutex_lock sched thread do_wait_until  911.75 12.22 dmu_tx_wait txg_wait_open condvar_wait condvar wait lockfree mutex unsigned long sched thread do_wait_until signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4471,60f39aea78c0986731ae3fbe06e720d22ec388d3,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-13 13:08:26 +0100, , sched add tracepoint resuming wait useful calculating time thread scheduled wait signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4472,52432f51c7a01048bf1519f3c76bea823b5bedf2,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-13 13:08:25 +0100, , trace add source address formatting option signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4473,2efddcd41ee9354e0d3f46ab8c6b894ff096ebcb,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-13 13:08:24 +0100, , introduce python module tree printing print hierarchical data form tree example node0 node1 node2  node3  node4 signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4474,7eab3eef94a2f3f72fbab685f8974e3b6eb4f2c8,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-13 13:08:23 +0100, , trace add command line tool processing trace file option check script trace.py example list trace script trace.py list trace file signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4475,5e304774a2e4cca5ecd7ba5b4910e54dba25ebe5,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-13 13:08:22 +0100, , gdb introduce command save trace binary form usage osv trace save filename signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4476,84f139e31078c046c60bf091949aaa3550c0cf0a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-13 13:08:21 +0100, , trace support persisting trace stream file trace persisted file follwing advantage trace collection decoupled trace analysis trace analysis tool longer part gdb script important ec2 instance connect gdb case trace data downloaded using channel tool remain unchanged trace analysis performed osv session trace collected osv shut left running without disturbance trace saved binary format following structure format version n_tp tracepoint ... tracepoint n_tp trace trace ... trace n_t  tracepoint tp_key name signature format trace tp_key thread time cpu backtrace_addr data signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4477,6e10ed184aa13d8947f5954bfb64ac162a854070,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-13 13:08:20 +0100, , gdb extract trace related abstraction independent module signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4478,da3a36765714e893b14fa09cb9a17597401b4004,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-13 13:08:19 +0100, , add python wrapper addr2line signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4479,c790dae6e7fc1f238e3ba39921e6bbc9cf48f372,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-13 13:08:18 +0100, , gdb resolve tracepoint_base outside loop speed thing slightly signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4480,8e0e6c5b6d577f5a173caab9373b5598ec9d9570,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-13 13:08:17 +0100, , gdb support backtraces shorter backtrace_len fewer frame backtrace_len remaining address zero let print signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4481,b567109ee94ec39dc98484a887fe7e941d3ae97d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-13 13:08:16 +0100, , gdb make trace convertible string useful hoc printing signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4482,692a2a9c4e56c743ab90012ccaad717ef9c64cde,adav Har'El <nyh@cloudius-systems.com>, 2014-01-10 23:39:48 +0200, , time.cc generalize std chrono timespec conversion code file_ts converting std chrono duration struct timespec unnecessarily constrained take input std chrono nanosecond whereas actually work duration resolution duration_cast convert correct unit patch make generalization think make code clearer first decided move general function osv clock.hh make bit friendly returning timespec instead writing one end decided move typespec dangerous type though doe specify clock resolution always nanosecond specify clock epoch one make mistake like calling clock_gettime clock_monotonic pas returned timespec expects clock_realtime clock_monotonic avoid timespec whenever think need fill_ts function anywhere outside time.cc signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4483,ad941117b5d664a53cab59234a6b7b3ed0b611ba,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-13 11:09:04 +0200, , add patch command backup file gitignore prevent similar mistake commit cc6b3a3 vga handle line feed add backup file generated patch gitignore signed pekka enberg penberg cloudius systems.com,,
4484,2f7ed1df3c500dffa9c5a590eaa99de958168d12,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-10 22:14:04 +0200, , remove vga.cc.orig committed mistake messed commit cc6b3a3 vga handle line feed clean reported nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4485,4931c5744f3a64be69f753db2e09c8685ea40f93,adav Har'El <nyh@cloudius-systems.com>, 2014-01-10 21:29:28 +0200, , loader fix spurious error message trying run nonexistant program e.g. run.py xyz sometimes especially debug build would see spurious message program xyz returned 16384 bug simple osv run return null meaning program found doe set ret value code checked ret checking osv run actually found program wrong simply changing order code solves bug fix 156 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4486,66d02657af331b686ce2d64c4189c2326e873d39,akuya ASADA <syuu@cloudius-systems.com>, 2014-01-11 03:13:34 +0900, , loader add vga switch console add vga cmdline switch vga console reviewed nadav har nyh cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4487,555c8f9a0628d7f546e73e839603a0d2cefef0c6,akuya ASADA <syuu@cloudius-systems.com>, 2014-01-11 03:13:33 +0900, , vga add input_ready readch stub use vgaconsole class add empty input_ready readch signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4488,cc6b3a3cc22339ed1239abaa3e824120260d903d,akuya ASADA <syuu@cloudius-systems.com>, 2014-01-11 03:13:32 +0900, , vga handle line feed handle line feed vga access termios flag add constructor signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4489,8e0bcb66b4e755425d634f7d9408dcb2080be81a,akuya ASADA <syuu@cloudius-systems.com>, 2014-01-11 04:06:29 +0900, , vga fix vga base address physical memory base address vga base address  reviewed nadav har nyh cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4490,89c50e8a243d51e2dfd5be90cafd534216c4e96d,lauber Costa <glommer@cloudius-systems.com>, 2014-01-10 16:11:31 +0400, , test add test thread clock signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4491,bcc2fbb865f4c9b61684c3ebd5411811b14532c0,lauber Costa <glommer@cloudius-systems.com>, 2014-01-10 16:11:30 +0400, , libc support time mode currently answering request clock_realtime could easily handle effective clock_realtime faster case time source equally fast since easily get runtimes thread publish signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4492,ba7250c95c276338268d4a9338f647c328a0170a,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-10 13:15:06 +0200, , x64 drop apic base boot message apic base message useful user drop reviewed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4493,d291601dbc237fa24df2d8b442b10d8da1fe71fd,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-10 13:07:45 +0200, , x64 simplify cpu bringup boot message currently osv print following boot acpi apic acpi apic acpi apic acpi apic replace simpler message cpu detected lose acpi cpu mapping terribly important user suggested nadav har nyh cloudius systems.com reviewed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4494,c69e2d347749bc3355bbc87f292de7d6d95ecfaf,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-10 12:55:40 +0200, , bsd simplify networking init message simplify networking boot initialization message suggested tzach suggested tzach livyatan tzach cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4495,7740d2cb8ecab59db8ec6073c2eb05db7559a056,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-08 18:40:49 +0200, , loader update cloudius copyright 2014 signed pekka enberg penberg cloudius systems.com,,
4496,8ea89c9c1ac3c650b8b9a20c72624b17eed8fdee,lauber Costa <glommer@cloudius-systems.com>, 2014-01-09 19:24:10 +0400, , jvm set max_heap available memory respect xmx instructed user left blank set remaining memory 100 perfect jvm use memory good enough estimate specially given memory currently use osv could potentially freed future need signed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4497,0034af3fe2aa5fe8cb72cdc38f6246c22b117bf1,lauber Costa <glommer@cloudius-systems.com>, 2014-01-09 19:24:09 +0400, , jvm_balloon disable balloon upon jvm memory pressure biggest problem seeing balloon right time call balloon seeing memory pressure pressure coming jvm livelock quite interesting way need detect disable ballon situation since ballooning pressure come jvm trash workload yet working reliably direction plan start signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4498,478f8746da3d144f35a5b9fe7cb99907152fcc2b,lauber Costa <glommer@cloudius-systems.com>, 2014-01-09 19:24:08 +0400, , count total memory used jvm heap make informed reclaim decision need much relevant information possible reclaim target specifically useful know much memory currently used jvm heap reasoning behind pressure coming heap ballooning harm instead helping note really first approximation ideally total memory matter rather memory delta since last common event counting memory initial first step signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4499,b32a006b928ef2d3c99108d063d929712abce663,lauber Costa <glommer@cloudius-systems.com>, 2014-01-09 19:24:07 +0400, , jvm insert probe find vmas hold java heap use technique close ballooning implementation effectively insert small element page mark vma object present containing jvm heap due way jvm allocates object end young generation time pass object move way balloon move every new vma seen marked holding jvm heap mechanism work every generational encompass jdk7 work g1gc debut jdk8 something lot simpler namely jvm tell advance map area contain heap signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4500,883437147a79085210781b802f82baffc6aeaf66,lauber Costa <glommer@cloudius-systems.com>, 2014-01-09 19:24:06 +0400, , java memory pressure monitor best possible criterion deflating balloon heap pressure whenever pressure jvm give back memory pressure stop accomplish need somehow tap jvm patch register mxbean send notification collection ignore minor collection act upon major collection deflating existing balloon signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4501,52cb473805e83bd273110d12780d395bbec67e13,lauber Costa <glommer@cloudius-systems.com>, 2014-01-09 19:24:05 +0400, , jvm_balloon control shrinker activation deactivation restriction shrinker run instance balloon inflated nothing deflate relaxer deactivated also jvm fails allocate memory extra balloon pointless keep trying would lead unnecessary spin least next garbage collection phase believe behavior activation deactivation ought shrinker specific reclaiming framework provide infrastructure  patch jvm balloon inform reclaimer make sense shrinker relaxer called signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4502,9c59e7e895bb443eb5086c709bbd16cb9a01bad4,lauber Costa <glommer@cloudius-systems.com>, 2014-01-09 19:24:04 +0400, , jvm ballon driver patch implement jvm balloon driver responsible borrowing memory jvm osv short memory giving back plentiful work allocating java byte array unmapping large page aligned region inside big size allows array good decides move happens need carefuly emulate memcpy fault put thing back place signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4503,b657d2b308b40bd8e577e5ccb1b4ffbef63ababc,lauber Costa <glommer@cloudius-systems.com>, 2014-01-09 19:24:03 +0400, , mmu implement new jvm vma carrying testing quickly realized old fixup solution attempting ballooning really flying reason would take fault figure fixup address return jvm fault forced take another fault since already fault context demand paging reality vast majority fault non balloon address effectively doubling number page fault reason decided vma fixups instruction decoding route way efficient seems working fine jvm vma really close normal anonymous vma except never hold page fault handler call jvm balloon facility decoding signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4504,4afd087baa7b4eb77a65d6214a756e426f1ae10c,lauber Costa <glommer@cloudius-systems.com>, 2014-01-09 19:24:02 +0400, , mempool shrink memory longer used patch introduces memory reclaimer thread hope use dispose unused memory pressure kick pressure right defined total memory available revisited way work memory user able dispose memory register shrinker reclaimer loop however current loop work one shrinker registered appears need better policy drive much take memory allocation wait memory available instead aborting decision aborting belong reclaimer one else never expect unbounded importantly opaque number shrinkers like linux doe control behave expect able make lot better decision long run signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4505,21d9c318a420e02ce482102d4d7ab754cff3fb2b,lauber Costa <glommer@cloudius-systems.com>, 2014-01-09 19:24:01 +0400, , semaphore allow extending interface following early suggestion nadav trying use semaphore balloon instead keeping queue work need bit functionality may belong main balloon class namely need query presence waiter maybe future number waiter need special post would allow make sure almost posting much waiting nothing patch transforms post method unlocked version expose trivial version lock around make change necessary allow subclassing signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4506,ab459e83b278b5414b21edcc89a9d09fc6687c45,lauber Costa <glommer@cloudius-systems.com>, 2014-01-09 19:24:00 +0400, , mmu account evacuated size useful shrink know much memory newly released system consumption signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4507,f1cd4f8d436a0c41af5b09142f3ce1e55bec5965,lauber Costa <glommer@cloudius-systems.com>, 2014-01-09 19:23:59 +0400, , mmu make operate quantifiable operate far operates page range set success flag somewhere extending api allow return much data manipulated example fault 2mb empty range return fault 2mb range already contained sparse page return previous_pages useful count memory usage certain vmas signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4508,9cce0f87f4bb1023fa63250e4c5a79ba76658cdc,lauber Costa <glommer@cloudius-systems.com>, 2014-01-09 19:23:58 +0400, , string add fixups memcpy operation start using jvm balloon memcpy could fail valid reason jvm moving memory unmapped region handle register fixup trigger jvm call fault happens well able continue normally signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4509,f0aa814364af45481017ba4ab1e38c60929c2d7e,akuya ASADA <syuu@cloudius-systems.com>, 2014-01-10 18:40:33 +0900, , pci fix offset _pci_config_ vmware pci_readw return vendor pci_readw return vendor well compare freebsd implementation read write pci config space freebsd mask lower bit offset write add lower bit offset pci_config_data http fxr.watson.org fxr source amd64 pci pci_cfgreg.c l206 patch change accessing method osv freebsd way tested qemu kvm vmware reviewed glauber costa glommer cloudius systems.com signed takuya asada syuu cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4510,8dffa9123304eefaf7618a5c6e3cac90f0f1e893,adav Har'El <nyh@cloudius-systems.com>, 2014-01-10 00:18:55 +0200,142, clock add monotonic uptime clock patch start solve issue 142 support monotonic_clock issue use chrono time first add uptime function clock interface implement kvm xen hpet returning system time subtract system time boot adding correction wallclock second add new std chrono based interface clock new header file osv clock.hh instead old style clock get uptime one prefer osv clock uptime return std chrono time_point type safe sense know epoch i.e. belongs osv clock uptime know unit nanosecond allows compiler prevent user confusing measurement clock clock making mistake unit third patch implement clock_gettime monotonic_clock using new osv clock uptime note though new osv clock uptime almost identical std chrono steady_clock confused former actually osv implementation latter steady_clock implemented standard library using posix clock_gettime implemented patch using osv clock uptime patch done either issue 142 issue 142 i.e. supporting monotonic_clock timerfd need osv timer work uptime clock get time issue add osv clock wall type similar clock get time doe today correctly use either osv clock wall osv clock uptime everywhere clock get time currently used code clock get time removed reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4511,5c68e049959c463cc5ae09250749f4d7a6b55a86,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-10 09:33:35 +0100,153, build incremental make without image argument use default currently parameter read generated makefile generated incremental build fix move default build.mk way default always picked unless masked command line argument fix 153 signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4512,2243e500de39e3f2a9922850e03b966f8ef3e37a,mnon Heiman <amnon@cloudius-systems.com>, 2014-01-09 11:07:23 +0200, , http server add mime type ico txt review process http server noted mime type might used specifically ico txt poular used server return page web server signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4513,31874575687f7c718461979769dd6ead3b91b2eb,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-09 10:00:51 +0100, , add netperf image configuration start netserver inside osv make image netperf sudo script run.py signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4514,2d93af3be98513b249fb037094fdaee0a5dfbcf8,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-01-08 00:38:16 -0200, , zfs fix disk data inconsistency shutdown problem found running test tst zfs mount.so multiple time first time test succeed however subsequent run would fail test mkdir foo bar error message reported target file already exists test basically creates directory foo bar rename foo bar2 remove foo bar2 could foo bar still quite simple shutdown function call unmount_rootfs attempt unmount zfs flag mnt_fource however passed zfs_unmount neither unmount_rootfs test return status always getting failure previously osv really shutdown remaining data waiting synced backing store result inconsitency problem fixed passing flag vfs_unmount unmount properly sudden shutdown signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4515,69c49ea04e0e72c149bd387aa015091905af03bf,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-09 09:24:23 +0100, , module.py move processing jvm class processing manifest inside jvm specific code caused manifest processed java application image example make image empty check ... run_main execute test tst local.so powering test tst local.so failed make check error let move main manifest processing function signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4516,f7ba230d5711eac4e31e44e47dcbd56c75100371,mnon Heiman <amnon@cloudius-systems.com>, 2014-01-09 08:13:23 +0200, , http serve clean matcher class tidying matcher class moved parameter private set helper function class static signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4517,4af010f18bd9656cf021303ab2c4f86a155e3212,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-08 09:11:50 +0100, , conf make release build use workload noticably improves performance measured increase netperf throughput laptop object file size slightly bloated loader.elf 47246227 loader.elf 51272625 8.5 signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4518,4d10cf6b86ae0e9ecdd5c722b1d639cc4c833830,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-08 16:22:26 +0200, , http server fix small formatting glitch fix formatting glitch introduced commit 01158e4 http server remove unused config object signed pekka enberg penberg cloudius systems.com,,
4519,127a63cb586f2a6ecd85f996810f3eb29215d242,mnon Heiman <amnon@cloudius-systems.com>, 2014-01-08 16:17:55 +0200, , http server remove unused config object config object passed object used cause warning compilation signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4520,4366e2e1532e3510eb980e0151314f953f266b48,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-08 14:58:43 +0200, , update mgmt.git version change web added upload view class shell rewrite add formatting sort flag update jvm api verbose adding rest api specification api jvm signed pekka enberg penberg cloudius systems.com,,
4521,7a232cca476520c7698fec6536e8efde2380bd54,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-08 13:45:14 +0200, , rename miniweb httpserver name miniweb doe really mean anything rename project httpserver signed pekka enberg penberg cloudius systems.com,,
4522,856bb3619525791ae55faceb3404c3956b97b2ea,lauber Costa <glommer@cloudius-systems.com>, 2014-01-08 15:44:42 +0400, , string implement memmove using memcpy current implementation memmove pita mean bread course decode fault happens little control exactly code fault happens therefore difficult reason patch implement memmove term memcpy specific fixups possible fault site allow decode fault ease note originally reason first branch memcpy would like handle alignment since implementation memcpy fast enough ignore end even faster signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4523,d25859ceaa34b42de3cca272f45dfa1e03dce071,lauber Costa <glommer@cloudius-systems.com>, 2014-01-08 15:44:41 +0400, , x64 provide backwards version memcpy patch provides backwards version memcpy work start copy dst src instead dst src needed memmove source destination operand overlap nonstandard interface named signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4524,8d7812fac09982efc45f1d16a0ebe782f50bf7a7,lauber Costa <glommer@cloudius-systems.com>, 2014-01-08 13:21:56 +0400, , mem fix allocation accounting small bug free memory tracking code hit recently wrong assuming first branch huge page allocation erase entire range account byte assumption came wrong understanding would range exactly byte looking code fresh eye definitely happens previous stress test hitting second branch time bug lived turn delete entire page range may bigger allocation size therefore whole range discounted calculation remainder bigger part accounted later reinsert page range way second branch code signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4525,b35affb3cf70f70b2e72c106bea91bb94b35e594,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-07 20:19:05 +0100, , java add jre file image default fix issue jvm failing started debugger following message npt error find nptinitialize missing openjdk file usr.manifest fertile source issue patch aim making likely adding file except blacklisted file image patch skip two file jre broken link inclusion would cause manifest upload failure jre lib audio default.sf2 jre lib security cacerts fixed incrementally reported oded gabbay oded.gabbay gmail.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4526,e1b95d8e4728e0cad416106789844d37245e97f5,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-07 20:19:04 +0100, , module allow file mapping declaration module.py module usr_files bootfs_files declared value interpreted filemaps appended appropriate manifest signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4527,71d88f94b32dcd5723e40b4002e4ba64c1b05479,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-07 20:19:03 +0100, , module introduce higer level api aid manifest generation plain manifest enough concise alternative improved expresiveness allows declare exclude include pattern python based example filemap m.add osv_build_path test .to test .include .so .exclude host declared mapping saved manifest form subject processing save manifest format my.manifest signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4528,31c55622e1c227f0bd5a48cbae910010d431feff,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-07 20:19:02 +0100, , module make java separate osv module patch make java file copied guest image java modue included module pull explicitly stating require java implicitly creating api.run_java run configuration future could consider moving api.run_java java meta module signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4529,a5357cf509f824496bcd23dd31ced3b38b406181,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-07 20:19:01 +0100, , module cleanup resolve.py functional change renames adequate name signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4530,772c320cbbe101f432e6428b8ebb91d264811e8b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-07 20:19:00 +0100, , module make presence either manifest optional need create empty bootfs.manifest anymore signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4531,76267d45c0a908517ab8e6b70abe3de292c5c1d9,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-07 20:18:59 +0100, , module support nested module dependency currently importing module module definition would fail call import module name module.py recursively __import__ complain removed module sys.modules simple solution problem use runpy.run_path work like charm addition cache loaded module load file twice signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4532,4fa757b30e3ce63dc1373f8e94e0524aa666c378,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-07 20:18:58 +0100, , config.json convert tab space signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4533,cb19cf98155a4509ffda11d07c7be1ee56c425c5,adav Har'El <nyh@cloudius-systems.com>, 2014-01-07 23:42:05 +0200, , refactor timerfd.cc review timerfd.cc avi asked simplify implementation single timerfd object instead two timerfd_file timerfd_object using single mutex instead complex combination mutexes atomic variable new version indeed doe easier understand code line shorter performance code slightly inferior previous one particular poll lock unlocks mutex negligible practice signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4534,9b53859d849ab7de969eaf06ca2b366bd90c6bb7,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-01-07 23:01:39 -0200, , gdb improve osv zfs command patch improves command adding useful info debugging zfs general also address stylistic issue new output follow gdb osv zfs zfs tunables     zfs_txg_timeout    arc size actual arc size 122905056 target size arc 1341923840 min target size arc 167740480 max target size arc 1341923840 recently used mru size 670961920 50.00 frequently used mfu size 670961920 50.00 arc efficiency total arc access 42662 arc hit 41615 97.55 arc mru hit 12550 30.16 ghost hit arc mfu hit 29045 69.79 ghost hit arc miss 1047 2.45 prefetch workload ratio 0.0097 prefetch total 412 prefetch hit prefetch miss 392 total hash element 1053 max hash element 1053 hash collision hash chain reviewed glauber costa glommer cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4535,ce68645c556750fdc53010831b872bba230518d0,adav Har'El <nyh@cloudius-systems.com>, 2014-01-07 17:49:15 +0200, , build.mk fix dependency previous patch renamed mutex.cc spinlock.cc fix build.mk dependency make code compile ... sorry signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4536,00f9a97ead722e94ac74a6914becdce1db8d2fc7,mnon Heiman <amnon@cloudius-systems.com>, 2014-01-07 10:25:38 +0200, , osv coding style document describe osv coding style signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4537,8fcad5091c0cdbe6adc82b7151e2090dad186858,adav Har'El <nyh@cloudius-systems.com>, 2014-01-07 13:35:40 +0200, , exile spinlock separate file early osv history spinlock used mutex implementation made sense put mutex.cc mutex.h spinlock left mutex.cc real mutex lfmutex.cc rename file spinlock.cc also move spinlock definition osv mutex.h new osv spinlock.h someone want make grave mistake using spinlock least need explicitly include header file currently remaining user spinlock console using spinlock mutex console allows printing debug message preemption disabled arguably use case longer important tracepoints future consider dropping spinlock completely signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4538,86391f961ec5d05634e05d4a62a80879c91ef15d,lauber Costa <glommer@cloudius-systems.com>, 2014-01-07 12:31:10 +0400, , test add test memmove string library functionality signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4539,b7c59ac5a5d75ad711134ef0d7bf30e34c66c018,lauber Costa <glommer@cloudius-systems.com>, 2014-01-06 22:45:23 +0400, , pthread add support patch implement simplified version enough need reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4540,a9169887783ba3d1a589330b80eb578e74d45a57,lauber Costa <glommer@cloudius-systems.com>, 2014-01-06 22:45:22 +0400, , sched reserve thread patch reserve thread kept unused construct value reuse thread public add together information still fit bit reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4541,880c729189f1cc3d404d70ad43e2b1ff3cdb637e,lauber Costa <glommer@cloudius-systems.com>, 2014-01-06 22:45:21 +0400,135, sched keep track thread runtime used later determine long thread running easily updated right call ran_for reusing interval parameter fix 135 reviewed nadav har nyh cloudius systems.com signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4542,079e1b9e250147ab7113276848bd79a84fd8ea21,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-01-03 21:12:32 -0200, , fix test testrunner.cc coding style start using space instead tab surround single line control statement curly brace signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4543,03f0bd2a24fde1f8b6c54876aeda7006a0344c2e,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-01-03 21:12:31 -0200, , script test add option run test case single osv instance previously script test.py option launched osv instance test case terribly slow like mine took bunch time run test case make check let take advantage testrunner.so use single osv instance run test case consequently boosting speed considerably let also change testunner.so conform need e.g blacklist run fast check script test.py single result show option 2.5x faster current one let use approach default version given output better formatted signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4544,dd2a0af1651efbc33d69fef582181b35a7d00c77,adav Har'El <nyh@cloudius-systems.com>, 2014-01-05 14:41:29 +0200,148, readme add short intro osv add top readme.md short introduction osv someone get github page http github.com cloudius system osv scroll strange explain build osv without first mentioning fix 148 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4545,41614da6db52940089a55cf71d8ee9fc2abea19a,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-01-03 16:16:45 -0200, , tst vfs add test case dentry hierarchy support signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4546,67d8255708830f8ca7cce30a44cfe20815957802,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-01-03 16:16:44 -0200, , fix vfs vfs_lookup.c coding style start using space instead tab surround single line control statement curly brace signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4547,3bd235e9e5583beaeda731933ce8d029cdea0fa1,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-01-03 16:16:43 -0200, , vfs add hierarchy support directory entry useful take better safer vfs decision future example avoiding code absolute path determine something signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4548,e30bed5c9d00b06ed94b9de9967156d8fecb04fb,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-01-03 16:16:42 -0200, , vfs fix dentry leak sys_pivot_root newmp m_covered must released null found problem dumping dcache content signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4549,af466dbc7b342c25e011c907e560bd77df9a0a61,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2014-01-03 16:16:41 -0200, , vfs change approach releasing dentries unmount currently vflush used unmount process release remaining dentries vflush turn call vevict releasing dentries  behavior correct neither good future vfs avi suggested switching different approach could release dentries owned mountpoint unmounting anything else dcache given functionality problem fixed following step drop vflush call sys_umount2 make vevict empty function remove vevict created function release dentries mount point called vfs_unmount called vfs_unmount failure must considered neither mount point would considered busy respect rule previously seen zfs replay transaction error would happen note vflush currently duplicated zfs unmount case address problem patch fix duplication well signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4550,657cbc4fd3a320917eec5100e866cc3297ee9801,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-03 16:52:00 +0100, , imgedit fail qemu exit non zero code good practice propagate failure make doe succeed something wrong signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4551,d85494a59f063a3f7754ca690cb7301e3700e0ff,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-03 16:51:59 +0100, , imgedit fix hang case qemu terminates nbd client connects make work self._closed need initialized early even though exception thrown __init__ __exit__ still called one expects self._closed defined signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4552,5e3605f5817ac0ae02a305165dcd5f0091b93d06,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-03 16:51:58 +0100, , imgedit simplify loop signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4553,9976ddcd67af531c1263adef2e7ab215d1fff259,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-03 16:51:57 +0100, , imgedit fix potential deadlock qemu found code inspection qemu process started stdout pipe pipe read called called nbd_file closed pipe buffer fill may deadlock qemu blocked stdout.write imgedit.py waiting open socket solution redirect dev null effect current code signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4554,12a222e1dd1fb17689660cfa8c50e5f21520e2a9,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-03 16:39:18 +0100, , test add test dlopen signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4555,3f78bcfdbb12316b90526b51f28cc82973cfe89c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-03 16:39:17 +0100, , libc make dlopen return main program empty file name documented behavior glibc dlopen behaves way spotted debugging assertion failure java started debugger try read elf header dlopen ... assertion failed data.uio_resid osv fs.cc read signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4556,b97c0e3ab896747a5f2920033430746caa42c9c6,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-02 17:23:08 +0100, , sched add tracepoint thread creation useful want know created large pile thread signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4557,47234057552d4c834e26df31fa723e28c258f909,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-02 16:32:08 +0100, , netinet fix uninitialized use nim inm_merge gcc complains uninitialized use nim fact inm_get_source return error without setting nim later read macro look like nim intended hold last value inm_get_source returned success uninitialized access would happen function never succeded sure possible practice let initialize nim null cause iteration macro signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4558,9381a22cc0d283395a285fb50412e0fa6f793317,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-02 16:32:07 +0100, , bsd xdr silence uninitialized use warning gcc comaplins attempt read size via dereferencing pointer xdr_u_int case xdrs x_op xdr_encode however case size set switch case inside xdr_string xdr_u_int invoked think spurious code clearly assumes xdrs x_op change two execution point let initialize size make gcc happy signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4559,c31fff095aa585776ac8bbae81488182b36f21ed,leb Natapov <gleb@cloudius-systems.com>, 2014-01-01 18:28:10 +0200, , mmu make map_file efficient currently map_file three pass vma memory worst case first map memory write permission zeroing read file memory vma read doe one pas fix memory permission fix providing new specialization fill_page class build iovec allocated memory read file using iovec end populate stage signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4560,958d62576a0c6190475b8d685afb4ab770fcefe5,ekka Enberg <penberg@cloudius-systems.com>, 2014-01-02 16:11:30 +0200, , build.mk fix java test build commit 2ebfd91 build.mk generate manifest test automatically separated native test java test unfortunately broke build forgot add dependency new java_tests variable signed pekka enberg penberg cloudius systems.com,,
4561,4bed7ed5f1857a952ba70ad306849f14e4dd8149,adav Har'El <nyh@cloudius-systems.com>, 2014-01-01 16:29:59 +0200,145, sched fix race issue 145 reported crash boot actually able replicate bug master happens quite frequently e.g. virtually every make check run patch mine seem unrelated bug problem added iterates thread thread list thread work thread initialized unfortunately thread constructor first added new thread list later called setup_tcb allocates initializes unlucky find thread list still allocated crash simple fix switch order construction first set new thread add list thread fix 145 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4562,2ebfd9156956cf7946a3bd58a843a475bb79b1da,lad Zolotarov <vladz@cloudius-systems.com>, 2013-12-26 19:55:09 +0200, , build.mk generate manifest test automatically generate manifest test automatically makefile based value test java_tests variable signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4563,23ea59edd29e90d1b78f859adf6714338e706a4b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-02 11:06:23 +0100, , runtime call shutdown exit currently call poweroff doe umount file system lead data loss next boot happens example start cli type exit next boot get tx_create tx_create solaris warning zfs replay transaction error dataset osv zfs seq 0x1 txtype reported pekka enberg penberg cloudius systems.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4564,8b616285e7bf6b5574d37b5c87156504c0946553,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-02 11:06:22 +0100, , core extract graceful shutdown logic order reuse logic need extracted signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4565,fe87a4822171e5c5089ed9dd2dbf29e0103b343b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2014-01-02 11:48:34 +0100, , runtime fix may uninitialized warning compiling gcc detects may uninitialized true happens given prio_user prio_pgrp signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4566,d2260e9e785833ca505763cd9fc1d41def15a38e,mnon Heiman <amnon@cloudius-systems.com>, 2014-01-01 10:03:47 +0200, , java fix argument splitting multijarloader multijarloader read command line parameter file split make list params calling parseargs currently regular expression mean consecutive space split empty string consecutive space ignored found code inspection reviewed nadav har nyh cloudius systems.com signed amnon heiman amnon cloudius systems.com,,
4567,a844d248e210e2761e02c21358984738a9d68568,adav Har'El <nyh@cloudius-systems.com>, 2014-01-01 17:55:53 +0200, , clean old fo_ function instead old style file operation function type fo_ function since recently method file class filesystem code use method directly patch drop old type function class method instead signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4568,da577595603f56b0146f3426c5408735f5e06587,vi Kivity <avi@cloudius-systems.com>, 2014-01-01 17:56:08 +0200, , mutex remove spinlock based mutex code bitrotted support wait morphing signed avi kivity avi cloudius systems.com,,
4569,5295f19f4d7693c02a4a6522d366021e3defc554,vi Kivity <avi@cloudius-systems.com>, 2014-01-01 15:46:01 +0200, , condvar switch implementation member function instead free standing function use member function easier work signed avi kivity avi cloudius systems.com,,
4570,a0dbf72a08927cdabdfce5dce2e0f5589d52ee61,vi Kivity <avi@cloudius-systems.com>, 2014-01-01 15:11:14 +0200, , condvar improve constructor prevent memset overwriting initialized mutex instead initialize member individually signed avi kivity avi cloudius systems.com,,
4571,7460be08c2b33ecccad4f057568c956ed133b5c8,vi Kivity <avi@cloudius-systems.com>, 2014-01-01 15:08:27 +0200, , condvar rename member conform coding style prefix help distinguish member non member help next patch signed avi kivity avi cloudius systems.com,,
4572,8b224474dc29d007a22cc7553b70bdaa49ed22dd,vi Kivity <avi@cloudius-systems.com>, 2014-01-01 14:51:01 +0200, , condvar make wait_morphing required make code maintainable removing ifdefs make sense disable wait morphing signed avi kivity avi cloudius systems.com,,
4573,b42fd865ac4f53b8a8f1a26895baa81fe125dad7,vi Kivity <avi@cloudius-systems.com>, 2014-01-01 13:27:38 +0200, , net call socket constructor destructor drop socket uma zone replace call new delete allows constructor destructor called add object socket structure take care use default initializing form constructor since socket code requires zero initialization lose ability limit socket count add future want signed avi kivity avi cloudius systems.com,,
4574,9478a14db1d853c7e1e3efff1c3bc235a4bbbde1,adav Har'El <nyh@cloudius-systems.com>, 2014-01-01 15:06:55 +0200, , file reduce boiler plate code special file implementation struct file need implement different file operation special file implementation pipe socketpair epoll timerfd support many operation unsupported.h function reused unsupported operation resulted lot ugly boiler plate code instead patch switch cleaner like method defines new file subclass called special_file implement file operation except close default implementation identical old unsupported.h implementation file pipe socketpair timerfd epoll_create inherit special_file override file operation really want implement signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4575,015d96ce2e1d705b5bab24a7f1e08e5a825a017f,leb Natapov <gleb@cloudius-systems.com>, 2013-12-31 15:42:52 +0200, , mmu fix vma locking mmap related operation right mmap related function bug related vma locking validate mapping vma lock release lock actual vma operation since validation operation mapping away incorrect patch fix validation operation lock signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
4576,c0b170fc734ba2be9158f875170985c5db7fa191,leb Natapov <gleb@cloudius-systems.com>, 2013-12-31 15:42:50 +0200, , mmu fix calculation offset page table traversal currently offset calculation incorrect fix tracking base address region calculating offset subtracting base address current mapping address signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
4577,b1011d60fd02ed1a9674b5edc0735aecf97c6546,leb Natapov <gleb@cloudius-systems.com>, 2013-12-31 15:42:49 +0200, , mmu make map_level usable map_range function map_range entry point page mapper make impossible instantiate map_level class directly making function constructor private declaring map_range friend signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
4578,95c5149ce59b617f4f79bac4de1fd5a42cece635,leb Natapov <gleb@cloudius-systems.com>, 2013-12-31 15:42:48 +0200, , mmu split map_range two function one initial call another recursion get rid default parameter need std make code much readable signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
4579,1a64aca2010ebc88d154c97ead44437b7a605b4e,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-31 12:08:35 +0200, , image bring back haproxy.py bring back haproxy.py deleted accident commit 3e48ad6 module support include ing module list signed pekka enberg penberg cloudius systems.com,,
4580,3e48ad6562b4ef36ed89de7fbd98719d03e330ba,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-31 11:34:08 +0200, , module support include ing module list instead listing module apps repository osv config.json patch add support include specification config.json use include apps modules.json allows adding module apps repository without needing patch also main osv repository signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4581,9ba24697f40e3616dfc08f52998797788184be69,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-12-30 12:49:28 -0200, , gdb add osv zfs command zfs analysis example output look follows gdb osv zfs zfs tunables    arc size actual arc size 16742872 target size arc 16777216 min target size arc 16777216 max target size arc 16777216 recently used mru size 1222656 7.29 frequently used mfu size 15554560 92.71 arc efficiency total arc access 47477 arc hit 44668 94.08 arc mru hit 18737 41.95 ghost hit 183 arc mfu hit 25733 57.61 ghost hit 1084 arc miss 2809 5.92 total hash element 341 max hash element 449 hash collision hash chain signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4582,73fc368f8ee4b65a486bf6917b0c9e8eb8dba28c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-30 14:51:01 +0100, , vring add tracepoint tracking _avail_count useful tracing virtio queue utilization issue get plottable data save trace gdb.txt grep virtio_add_buf gdb.txt grep queue awk print sed avail signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4583,026ab6058e3649b0c981c6679f52d0d1eb6155fa,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-30 14:51:00 +0100, , vring move add_buf_wait definition .cc clean virtio vring.hh move add_buf_wait line benefit play well tracepoints recompilation code changed signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4584,23e62836b8a4cb2a3cd77855ba086987a3a5d71d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-31 09:19:36 +0100, , loader.py fix osv info thread likely introduced signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4585,05d1bef8df3f8e42f50d87e3e25de4aa0302d580,sias He <asias@cloudius-systems.com>, 2013-12-31 13:13:45 +0800, , add make image haproxy see apps haproxy readme howto run haproxy signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4586,9b72ad475e9af40231615e10754d9f6d05aeb8bb,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-30 13:24:58 +0100, , bsd initialize physmem variable cause poor zfs performance misc stress test  wrote 168.129 10.12 16.610 wrote 194.688 10.00 19.469 wrote 183.004 10.06 18.186 wrote 167.754 10.28 16.315  wrote 636.227 10.00 63.623 wrote 666.979 10.00 66.696 wrote 613.512 10.00 61.350 wrote 573.502 10.00 57.346 wrote 668.607 10.00 66.857 wrote 630.920 10.00 63.087 turned limiting factor arc cache check inside forcing txg synced often every 400ms arc_c variable 16m arc_c_min allowed write per transaction turn arc_c depends kmem_size based physmem never initialized would hold commiting yet several reason want put consideration improves write throughput make boot time make much longer disk boot time increased 1.5s zfs verifies last txgs upon mount patch increase txg size result data check next boot working solving right something worth noting larger transaction sync often incresing throughput also sync longer increasing worst case latency test pause get high second guest memory signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4587,b8b5df334bf739c958098bef65bd947fed11b45c,vi Kivity <avi@cloudius-systems.com>, 2013-12-29 18:05:54 +0200, , serial initialize word size correctly current initialization something like bit word truncates everything control character vmware qemu somehow ignores word size fix initialize serial port 8n1 yielding useful output signed avi kivity avi cloudius systems.com,,
4588,7c800136a4ea07071602d16a4882a2cac21ad18d,leb Natapov <gleb@cloudius-systems.com>, 2013-12-30 11:06:42 +0200, , test add mprotect permission checking test signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4589,0dfda5886b072b324bc67321eb75ef4a3e9ad424,leb Natapov <gleb@cloudius-systems.com>, 2013-12-30 11:06:41 +0200, , mmu validate file permission mprotect mprotect prot_write file opened read fail current mprotect implementation missing check patch implement signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4590,b5278126781c3822ed7780f62f8fd4a4111c2590,leb Natapov <gleb@cloudius-systems.com>, 2013-12-30 11:06:40 +0200, , mmu align mmap start address large page possible mmap size greater large page better align large page size since ensure optimal coverage region large page signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4591,31973bda46690ecff6fa083869c1a2f9663bbfab,r Cohen <orc@fewbytes.com>, 2013-12-29 17:18:24 +0200, , libc add getgrgid_r group querying getgrgid_r needed querying file attribute java see  needed long format flag getgrgid_r also requires sysconf signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
4592,fb1a5c948f264b60a25f3282953f4184e0577dda,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-30 10:35:24 +0200, , build require bit x86 compiler fail build immediately compiler doe support x86 signed pekka enberg penberg cloudius systems.com,,
4593,cb3e0d0aaa07f8a57f048061ade64e8e5bbb7a70,adav Har'El <nyh@cloudius-systems.com>, 2013-12-29 11:32:04 +0200, , readme build requires bit distribution osv built bit linux distribution otherwise compiler default least generate bit code able run guest needed building zfs filesystem make requirement explicit readme.md signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4594,14e6485dfdbbcce60b60142bf883995277b6d7c6,vi Kivity <avi@cloudius-systems.com>, 2013-12-29 11:05:28 +0200, , xen remove designated initializer code unfortunately support designated initializers compiler reject one instance survived xenbus strangely gcc 4.8.2 generates correct code gcc 4.8.0 fails internal compiler error instead rejecting code signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4595,0a73fbe60948b5641879cbf3a8edca5d3f5ba4cc,vi Kivity <avi@cloudius-systems.com>, 2013-12-29 17:48:09 +0200, , x64 enable a20 gate early without even megabyte accessible access odd megabyte hit even megabyte example address 0x312345 aliased address 0x212345 enable a20 gate prevent fix boot vmware signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4596,95f43d96b120cd0ed6987039ffefca85537eaabb,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-27 13:15:06 +0200, , pci remove unused driver forward declaration signed pekka enberg penberg cloudius systems.com,,
4597,e4d0304b21d589414afc39cca805b34c5af934a9,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-27 14:48:59 +0100, , test convert total double instead float total long casting float may cause precision loss signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4598,be73a7d2790ea8c8ed5720c996e3fc9b24571efa,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-27 14:43:45 +0200, , java simplify uncaught exception reporting pointed tomek call printstacktrace already print exception message drop uncaught exception message simplify thing acked tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4599,58332c736f9d371299fc0d9de653c8263dcebf86,sias He <asias@cloudius-systems.com>, 2013-12-27 18:23:31 +0800, , test print err bio finished correctly bdev write useful notify something wrong reviewed tomasz grabiec tgrabiec gmail.com signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4600,f69c9d0f5c4ac254e301c7115512d70e88004282,sias He <asias@cloudius-systems.com>, 2013-12-27 18:23:30 +0800, , test fix bytes_written overflow bdev write stress bytes_written overflow testing fast device reviewed tomasz grabiec tgrabiec gmail.com signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4601,26d1ea3d1267d57c05d173c97861a558cc07ef71,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-27 13:22:57 +0200, , acpi use tprintf based api logging start using tprintf driver pci.cc example switch error severity disable early boot acpi message eventually core debug.cc need dynamically configured good enough use standardized api make output silent default signed pekka enberg penberg cloudius systems.com,,
4602,4ca1f3bf3b3623511f50ac0d98cbffb026fb069b,mnon Heiman <amnon@cloudius-systems.com>, 2013-12-24 09:59:59 +0200, , java add exception information uncaught exception uncaught exception handler state exception signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4603,85e3c018171b5c38543d55f3d01a091809ef69aa,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-23 10:05:45 +0100, , test print average transfer rate test signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4604,c4a31f244a5a5e1ec24a10cf927027364d3e8fd7,lad Zolotarov <vladz@cloudius-systems.com>, 2013-12-26 17:25:37 +0200, , add missing test tst commands.so tst fsx.so missing signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4605,55f413ca86456a92128e6ad1cba37d6a165a99ae,lad Zolotarov <vladz@cloudius-systems.com>, 2013-12-26 17:25:36 +0200, , test.py blacklist tst fsx test since fails signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4606,21e65b526b7b6ac55ff6e01d7c0b7c895cfa0455,lad Zolotarov <vladz@cloudius-systems.com>, 2013-12-26 17:25:35 +0200, , test.py add additional error pattern test.py add additional error pattern test.py test missing without test.py reporting missing test passed test fail critical error like missing symbol without make check hanging silently leaving dazed confused test return non zero status use exit user return signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4607,0e7a786636afca84daeba66a4d5b5f7188fae76c,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-12-26 17:25:34 +0200, , tst fsx.c fix fallocate defined fallocate defined signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4608,e89cc204f6c14537c68d2796df3f6c6df253dc0b,lad Zolotarov <vladz@cloudius-systems.com>, 2013-12-26 17:25:33 +0200, , loader.cc print message program return non zero status signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4609,ff7c8dca6e1703655b57003003aedd1d9c78bb0f,vi Kivity <avi@cloudius-systems.com>, 2013-12-26 19:02:59 +0200, , virtio support udp fragmentation offload ufo indicate virtual hardware stack support udp fragmentation offload improves performance factor 3.3 20gbps 66gbps running netperf udp stream test signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4610,a268b4ac7f38e137c5757ed8b490d1251491aa52,vi Kivity <avi@cloudius-systems.com>, 2013-12-26 19:01:25 +0200, , virtio fix received packet size tracepoint reported size last buffer packet rather size complete packet fix report total size signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4611,4ec750b777536aaf39032da3c07f311dbe14def4,sias He <asias@cloudius-systems.com>, 2013-12-27 16:11:50 +0800, , virtio enable indirect descriptor vblk vscsi indirect descriptor queue buffer queue indirect descriptor help block device making large request doe consume entire ring making queue depth deeper indirect descriptor doe help net device make queue longer add latency test show indirect descriptor make blk faster real measurable degradation net also indirect turn short descriptor patch enables indirect descriptor vblk vscsi vnet enabled vblk 340mb 350mb vscsi 320mb 410mb signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4612,24d81adc499602b65bf1aeef074ab91fa3b69cd6,sias He <asias@cloudius-systems.com>, 2013-12-23 15:32:35 +0800, , virtio net specify twice belongs base feature bit need specify net driver signed asia asia cloudius systems.com reviewed dor laor dor cloudius systems.com signed avi kivity avi cloudius systems.com,,
4613,5cd8c877966a291764003dd9b42e9c894ef8a518,leb Natapov <gleb@cloudius-systems.com>, 2013-12-26 11:09:28 +0200, , mmu remove tlb_flush vdepopulate operate_range already signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
4614,eefcb083a65dd5693b9dbe792f5f3e3ef0b167df,leb Natapov <gleb@cloudius-systems.com>, 2013-12-26 11:09:27 +0200, , mmu tlb flush changing permission permission reduced permission elevated another cpu fault see new permission page walk signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
4615,73a97f11490c579e7ac771d998c8ee8cb5086187,leb Natapov <gleb@cloudius-systems.com>, 2013-12-26 11:09:26 +0200, , mmu free page flushing remote tlbs unpopulate page freed remote tlbs flushed since remote cpu page tlb page reallocated purpose remote cpu still access page tlb corrupt content think two thread running two different cpu first one writes virtual address constantly second unmaps virtual address physical page virtual address mapped freed cpu tlb flushed signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
4616,325a7b8250b4b9a0d0c8c17aa0208e1d25ca6ee4,leb Natapov <gleb@cloudius-systems.com>, 2013-12-26 11:09:25 +0200, , mmu add constexpr function add constexpr make sure evaluated compile time possible compiler probably anyway though signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
4617,441793bc4b467bd6fe95cfd10ac505f4ff7d3769,leb Natapov <gleb@cloudius-systems.com>, 2013-12-26 11:09:24 +0200, , mmu convert virt_to_phys_pt page walker generic one implement page_mapper variant virt_to_phys mapping map_level class hold reference page_mapper since page_mapper state need preserved function call signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
4618,2df0402701c6322f12207734f33e9a64eeac16d6,leb Natapov <gleb@cloudius-systems.com>, 2013-12-26 11:09:23 +0200, , mmu convert populate unpopulate protect page walker generic page walker pretty straightforward provide page_mapper variant operation remove unused walker signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
4619,192c99704704bd3b1e3187cf9b6a3ec7923eb73d,leb Natapov <gleb@cloudius-systems.com>, 2013-12-26 11:09:22 +0200, , mmu generic page table walker based patch implement generic page table walker traverse page table level compile time accepts page_mapper class control various aspect page traversing parameter control whether non present intermediate page allocated handle leaf small huge page whether split huge page handle sub area huge page case splitting disabled whether walker loop multiple page entry modified use new page walker signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
4620,fdeacd77964dd8831219e1581af236bfe3a1ae77,leb Natapov <gleb@cloudius-systems.com>, 2013-12-26 11:09:21 +0200, , mmu move code around move code needed unified page walker change generated code signed gleb natapov gleb cloudius systems.com signed avi kivity avi cloudius systems.com,,
4621,e072be26c0fd4427723f2696c60571766bd4ec2d,vi Kivity <avi@cloudius-systems.com>, 2013-12-25 19:41:01 +0200, , net fix excessive window update backported freebsd r242252 improves netperf signed avi kivity avi cloudius systems.com,,
4622,f015cd5bb90aa00bb316c1553671ef0da5b3a635,vi Kivity <avi@cloudius-systems.com>, 2013-12-25 18:10:13 +0200, , bsd change operator tcp_seq tcp_seq signed useful ordering two number either one ahead change bytes_this_ack return unsigned prevent unsigned division turning signed division signed avi kivity avi cloudius systems.com,,
4623,15d9e5e44ae0ae9afecee5daeb06d47474285f6f,vi Kivity <avi@cloudius-systems.com>, 2013-12-25 18:00:42 +0200, , bsd add comparison operator tcp_seq add comparison operator use modulo arithmetic order sequence number use replace seq_lt friend increasing code readability consequence std min std max used instead seq_min seq_max signed avi kivity avi cloudius systems.com,,
4624,07cad895ac51f4511b18a10377058ef69ce5cce6,vi Kivity <avi@cloudius-systems.com>, 2013-12-25 15:23:50 +0200, , bsd convert tcp_seq class tcp sequence number similar integer different comparison operation separate class mix two signed avi kivity avi cloudius systems.com,,
4625,a89ebcb76811a73bd96b8ead3797c18ac8d65263,vi Kivity <avi@cloudius-systems.com>, 2013-12-25 17:00:14 +0200, , bsd refine __ntohl friend inline function inline function overloaded nasty macro way like evaluating argument note touch ntohl since defined line function libc signed avi kivity avi cloudius systems.com,,
4626,a2866393d3a4ec0060b029fa1679d745dc661e8d,adav Har'El <nyh@cloudius-systems.com>, 2013-12-24 17:50:26 +0200, , tst mmap fix two leak patch fix two place tst mmap.cc munmap everything mmap make difference leak detection tst mmap.cc see page table handling code leaked memory signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4627,68a3b6dbc8fd1d17b3644089c2fa50f7e6b950fd,adav Har'El <nyh@cloudius-systems.com>, 2013-12-24 17:57:08 +0200, , libc fix size check select select previously returned einval nfds fd_setsize right test nfds fd_setsize i.e. nfds fd_setsize also error signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4628,828ec291a56c975081e99748e13e91a1280bb654,vi Kivity <avi@cloudius-systems.com>, 2013-12-24 19:34:42 +0200, , bsd convert xen stuff help making bsd header change xen includes signed avi kivity avi cloudius systems.com,,
4629,eb48b15019ec6da5c204eba62540f396d2a042ca,adav Har'El <nyh@cloudius-systems.com>, 2013-12-23 15:29:56 +0200, , sched overhaul sched thread attr construction use sched thread attr pas parameter sched thread creation i.e. create thread non default stack parameter pinned particular cpu detached thread previously constructor taking many combination stack size integer pinned cpu cpu detached boolean right thing however make code hard read doe attr 4096 specify constructor hard expand new parameter replace attr constructor called named parameter idiom attr null constructor attr one modifies call pin cpu detach stack size example attr default attribute attr .pin sched cpu pin cpu attr .stack 4096 .pin sched cpu pin non default stack  signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4630,71086617a056a44bd6d202cb10b0ea4ceb83cfba,mitry Fleytman <dmitry@daynix.com>, 2013-12-23 17:38:56 +0200, , netinet fix broken checksum verification lro mechanism patch applies bugfix published freebsd list feb 2013 http pipermail svn src stable 2013 february 003928.html lro mechanism broken system without checksum verification offload due improper checksum verification packet omit lro path directly tcp stack good performance ec2 xen one example system bug one reason see bad performance amazon test result fix buffer size improvement tcp 557.52 1386.28 149 552.38 1385.99 151 128 546.43 1401.46 156 256 565.25 1382.28 145 512 557.32 1375.23 147 1024 549.71 1356.69 147 2048 551.11 1371.92 149 4096 556.13 1383.67 149 8192 559.49 1364.05 144 16384 567.25 1366.48 141 32768 546.18 1366.63 150 65536 553.4 1353.87 145 tcp 107.37 105.48 187.56 179.9 128 297.16 301.71 256 300.47 503.92 512 294.76 826.13 180 1024 299.95 1916.69 539 2048 287.04 1924.44 570 4096 300.78 1929.37 541 8192 304.52 1934.02 535 16384 305.04 1957.54 542 32768 309 1921.84 522 65536 296.48 1935.41 553 still pretty far linux problem fixed signed dmitry fleytman dmitry daynix.com signed avi kivity avi cloudius systems.com,,
4631,08f353e6770a73fe85438c24bfdb304793a4f370,sias He <asias@cloudius-systems.com>, 2013-12-23 17:10:19 +0800,11, test wait bio done bdev write test saw abort 35.159 50.230 46.648 68.850 wrote 613.418 10.00 aborted backtrace say gdb  home asia src cloudius system osv arch x64 processor.hh 241 osv halt home asia src cloudius system osv core power.cc abort msg msg entry 0x55197f aborted home asia src cloudius system osv runtime.cc abort home asia src cloudius system osv runtime.cc osv generate_signal siginfo ...  home asia src cloudius system osv libc signal.cc osv addr optimized optimized home asia src cloudius system osv libc signal.cc mmu vm_sigsegv addr addr entry 17592186060800 entry home asia src cloudius system osv core mmu.cc 763 mmu vm_fault addr optimized addr entry 17592186061840 entry home asia src cloudius system osv core mmu.cc 773 page_fault home asia src cloudius system osv arch x64 mmu.cc signal handler called  virtio blk req_done  home asia src cloudius system osv driver virtio blk wait bio done fix use free patch also make test measure completed writes instead submitted writes reviewed tomasz grabiec tgrabiec gmail.com signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4632,e277174981e8897ac62d334999952685eecbd151,adav Har'El <nyh@cloudius-systems.com>, 2013-12-23 10:23:31 +0200, , update pre requisite readme.md missing prerequisite qemu img needed qemu nbd used build course qemu system x86 run guest part build write file zfs image signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4633,c52a03b1b458b9f807b9607f723de4f6dd1f2edc,sias He <asias@cloudius-systems.com>, 2013-12-23 16:05:52 +0800, , run.py add aio native virtio blk device aio native make qemu use linux native implementation aio instead emulated thread pool improves tst bdev write.so performance blk aio thread wrote 691.910 10.03 wrote 590.020 10.00 wrote 605.578 10.01 wrote 662.828 10.01 wrote 624.762 10.01 blk aio native wrote 789.566 10.00 wrote 744.691 10.00 wrote 537.125 10.00 wrote 732.230 10.00 wrote 683.383 10.00 scsi aio thread wrote 200.863 10.02 wrote 193.758 10.02 wrote 193.680 10.03 wrote 195.211 10.03 wrote 190.762 10.02 scsi aio native wrote 414.344 10.05 wrote 483.148 10.00 wrote 537.477 10.01 wrote 477.727 10.01 wrote 462.805 10.01 signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4634,d11a6daa29768da5fc2b804fb08ab7266f09e7b0,vi Kivity <avi@cloudius-systems.com>, 2013-12-22 18:32:17 +0200, , vring avoid expensive divide replace divide variable hard constant mask divide easy constant improves netperf 1.6 noted vlad reviewed dor laor dor cloudius systems.com reviewed asia asia cloudius systems.com signed avi kivity avi cloudius systems.com,,
4635,53c1632cc6501a95d12b32409f817cd724ae7216,leb Natapov <gleb@cloudius-systems.com>, 2013-12-19 12:52:47 +0200, , mmu hold vma list lock mmap path page table operation hold vma lock currently populate race unpopulated best case may remain populated worst case unpopulate may free intermediate page populate populate race protect ptes may end incorrect permission vma list lock may big hammer prevent race least per vma lock needed signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4636,0dc50432c7af531e96756109591d2cbfc2d81c2a,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-12-20 03:05:07 -0200, , loader fix leak library object currently library object leaked run_main success osv run addition leaking memory make dcache leak directory entry cause problem releasing library object fine even dependent object released automatically tested dcache leaked dentries anymore problem found attempt implement dentry hierarchy help avi kivity signed raphael carvalho raphaelsc cloudius systems.com reviewed asia asia cloudius systems.com penberg improve changelog signed pekka enberg penberg cloudius systems.com,,
4637,359db0e53db967c8cbbe5beed6a277e5f3b70914,sias He <asias@cloudius-systems.com>, 2013-12-20 15:31:56 +0800, , virtio rng make class name virtio rng virtio namespace make sense repeat virtio prefix virito_rng driver change naming virtio virtio_rng virtio rng signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4638,705336180519747733a81da0bdcada2ba9fc31a5,sias He <asias@cloudius-systems.com>, 2013-12-20 09:15:22 +0800, , net rename if_get_if_info if_getinfo if_getinfo shorter consistent if_ function name e.g. if_init if_ioctl signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4639,81417f82a6df20f5726e71b510411d1ab6fb9ae4,sias He <asias@cloudius-systems.com>, 2013-12-20 09:15:21 +0800, , virtio net rename vnet_txq_stats vnet_rxq_stats rename txq_stats rxq_stats consistent struct txq struct rxq signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4640,af62f2537c4399973d339bcb0bbadd930e4bd71c,sias He <asias@cloudius-systems.com>, 2013-12-20 09:15:20 +0800, , virtio net rename if_ function virtio namespace need repeat virtio prefix signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4641,f8142f2354d1e937312fcfa9b32299235db2a6b9,sias He <asias@cloudius-systems.com>, 2013-12-20 09:15:19 +0800, , virtio net make class name virtio net virtio namespace make sense repeat virtio prefix virito_net driver change naming virtio virtio_net virtio net signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4642,a70479150001f63ea05551f25a38438f953eafc8,sias He <asias@cloudius-systems.com>, 2013-12-20 09:15:18 +0800, , virtio net reduce extra indention better indent namespace specifier signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4643,5f8e30d5f582f443b113d04824ae7cbcc876b5b2,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-20 10:28:09 +0100, , loader.py fix osv memory osv mmap command vma layout changed commit signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4644,21f708c2231261acf4cee2d1e81d39e33ac885f1,sias He <asias@cloudius-systems.com>, 2013-12-20 10:42:16 +0800, , run.py use newer device drive syntax virtio blk device signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4645,25295deed22c3621f71529b7f30a9aa8967a4814,sias He <asias@cloudius-systems.com>, 2013-12-20 10:42:15 +0800, , run.py add scsi option boot virtio scsi use scsi boot virtio scsi instead virtio blk device option default false signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4646,c733e6ec1423ac239deba239a385b3ca5092f698,sias He <asias@cloudius-systems.com>, 2013-12-20 10:42:14 +0800, , virtio scsi share vblk name virtio blk virtio scsi disk use name virtio blk e.g. vblk0 vlbk1 scsi blk added guest share global disk index number signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4647,e9e93762708b5967ecbd0fcbdde0d12dab957274,adav Har'El <nyh@cloudius-systems.com>, 2013-12-20 02:06:21 +0200, , tst timerfd.cc test timerfd_ test includes large number test timerfd_ function many bizarre use case corner case signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4648,46e73b66de8251640466fe51f66a6af4baaeb081,adav Har'El <nyh@cloudius-systems.com>, 2013-12-20 02:01:38 +0200, , add timerfd_ system call patch implement linux timerfd_ system call declared sys timerfd.h define file descriptor usable read poll friend becomes readable timer expires aspires full implementation timerfd intricate detail explained timerfd_create timerfd added linux five year ago linux 2.6.25 boost asio particular feature think available fix 129 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4649,a19c3fda0ad4211973fde2ed6577af698635a6d7,adav Har'El <nyh@cloudius-systems.com>, 2013-12-19 23:49:26 +0200, , convenience attr constructor thread small stack sched thread make rather difficult create thread non default attribute patch make easier create thread non default stack size e.g. light thread one page stack sched thread func sched thread attr 4096 probably overhaul sched thread constructor point make easier specify option specific constructor convenient signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4650,7a7bfb82e953c8a637ba27ff998473370ac6de4d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-20 09:51:59 +0100, , fix compilation error uips_socket.cc error message bsd sys kern uipc_socket.cc function socket soalloc vnet bsd sys kern uipc_socket.cc 245 error expected prix64 uipc_d soalloc prix64 uint64_t  introduced one commits   suggested pekka including cinttypes proper fix signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4651,963d0e11e83498319ec26f15c6bea19c0f1d1744,adav Har'El <nyh@cloudius-systems.com>, 2013-12-19 16:59:52 +0200, , sched correctly fix timer set bug commit 870d8410b avi fixed bug timer_base timer_fired function set timer fired timer_list fired erroneously removed timer list timer set fix commit avoid removing timer timer_list timer still armed call timer_fired unfortunatley commit quite make timer set work tried use timer.set timer_base timer_fired implementing timerfd discovered still work set try add timer timer_list still resulting assertion failure right thing first remove fired timer list call timer_fired timer_fired want set timer anyway always set timer different time timer anyway occupy different position sorted list right thing always remove timer list add right place want curious way commit 870d8410b actually solved could check fix ruin test appear still pas patch also new timerfd test signed nadav har nyh cloudius systems.com reviewed tomasz grabiec tgrabiec gmail.com signed avi kivity avi cloudius systems.com,,
4652,6773685911d6a91ee1624e96c02bc775f95f3edb,vi Kivity <avi@cloudius-systems.com>, 2013-10-30 13:29:32 +0200, , net convert networking stack painful piecemeal signed avi kivity avi cloudius systems.com,,
4653,406a93ed446506bd912e2c5e94255bf8792d868d,vi Kivity <avi@cloudius-systems.com>, 2013-12-19 12:20:10 +0200, , netport make ctassert work signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4654,203cd79e1569cd5a559289c17d846cb54dafbceb,lauber Costa <glommer@cloudius-systems.com>, 2013-12-18 20:25:39 +0400, , linux add support clock_getres syscall commit 49497bdb689 added support clock_gettime syscall one library way turn clock_getres also reached way signed glauber costa glommer cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4655,44b40878dc0fc6ede8e33dbbd6850d45f3859229,lad Zolotarov <vladz@cloudius-systems.com>, 2013-12-19 08:39:27 +0200,134, ifconfig fix issue 134 make ifconfig code use new if_get_if_info interface expanded output ifconfig exposed statistic signed vlad zolotarov vladz cloudius systems.com reviewed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4656,3057a18c621900908342effe3a898bec33785d6d,lad Zolotarov <vladz@cloudius-systems.com>, 2013-12-19 08:39:26 +0200, , net added ifnet if_get_if_info added ifnet if_get_if_info method collect internally gathered statistic standard if_data struct signed vlad zolotarov vladz cloudius systems.com reviewed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4657,9ba1558d5ff91e52ecc99e43a09b1b23e4243fe6,lad Zolotarov <vladz@cloudius-systems.com>, 2013-12-19 08:39:25 +0200, , virtio net collect statistic virtio net signed vlad zolotarov vladz cloudius systems.com reviewed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4658,095d5b770ada53274ad84530a2f36d8bfc3f24c4,lad Zolotarov <vladz@cloudius-systems.com>, 2013-12-19 08:39:24 +0200, , net added ifcap_hwstats added ifcap_hwstats iface capability indicating device driver capable handle statistic internally signed vlad zolotarov vladz cloudius systems.com reviewed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4659,2d8b6d40c2315f83d33e5141cca54b722b6e0155,lad Zolotarov <vladz@cloudius-systems.com>, 2013-12-19 08:39:23 +0200, , virtio net introducing rxq txq structs introducing rxq txq structs representing queue data correspondingly signed vlad zolotarov vladz cloudius systems.com reviewed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4660,447f240f9d953f6e8c2ebbc7547b6308d46dfbc4,mitry Fleytman <dmitry@daynix.com>, 2013-12-18 19:18:42 +0200, , build allow size specification command line introduced variable fs_size_mb size megabyte useful debugging ec2 reviewed asia asia cloudius systems.com signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
4661,9010ba2cfdad1b3034a82f8c15d7ad7e18d8a8ec,vi Kivity <avi@cloudius-systems.com>, 2013-12-18 16:25:54 +0200, , rcu add variant assign null pointer need release memory ordering assigning null pointer rcu pointer since null pointer dereferenced add specialization assign take advantage fact reviewed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4662,465276dc020fc86a188b42bef3540a104e4ce410,sias He <asias@cloudius-systems.com>, 2013-12-19 14:01:55 +0800, , virtio scsi use add_buf_wait wakeup_waiter signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4663,b57f503615fac1831e005ce4ba3a54d134fafb32,sias He <asias@cloudius-systems.com>, 2013-12-19 14:01:54 +0800, , virtio blk use add_buf_wait wakeup_waiter signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4664,b4f7944c529c67c5e2ee23ba350b71cc3e1352ad,sias He <asias@cloudius-systems.com>, 2013-12-19 14:01:53 +0800, , virtio add add_buf_wait wakeup_waiter add_buf_wait sleep enough buf avail ring space available woke wakeup_waiter signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4665,9bfdbd9d53c02184d29a4717b905da913b7b9bf3,mitry Fleytman <dmitry@daynix.com>, 2013-12-18 16:48:03 +0200, , netperf patch work around partial alarm functionality case netperf relies sigalrm wake sleeping send recv call alarm api osv fully comply specification i.e executes sigalrm handler interrupt sleeping syscalls race condition make netserver sleep infinitely case commit introduces patch netperf act work around problem setting socket timeout network operation commit also introduces simple script build patched netperf automated manner signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
4666,167d052ad0641ce6de69bf22bfda9fab1e296f8e,sias He <asias.hejun@gmail.com>, 2013-12-19 12:16:47 +0800, , virtio blk rename response_worker req_done name shorter clearer consistent name used virtio scsi signed asia asias.hejun gmail.com signed pekka enberg penberg cloudius systems.com,,
4667,5a81ca7d5727fce26d2fa2c40bb46809cea5ea4d,sias He <asias.hejun@gmail.com>, 2013-12-19 12:16:46 +0800, , virtio blk add space around signed asia asias.hejun gmail.com penberg keep comment vertically aligned signed pekka enberg penberg cloudius systems.com,,
4668,117b9d14e35ae0c87c602e7de380bb671807c156,sias He <asias@cloudius-systems.com>, 2013-12-19 12:16:45 +0800, , virtio blk initialize req bio constructor signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4669,bdf4532b6a7dc02d6f358dd665f09d16fbf43d0f,sias He <asias@cloudius-systems.com>, 2013-12-19 12:16:44 +0800, , virtio blk call biodone struct blk_req destructor bio already signalled case need destructor signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4670,3f82eee282d7aa4e67cce14e3ac6208699ff8504,sias He <asias@cloudius-systems.com>, 2013-12-19 12:16:43 +0800, , virtio blk remove camelcase naming signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4671,123a7631259e2ec3d77a8158991ee96ae11b305a,sias He <asias@cloudius-systems.com>, 2013-12-19 12:16:42 +0800, , virtio blk reduce extra indention better indent namespace specifier signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4672,4a0034ad33d437638740d13ad7303e0eab29d592,sias He <asias@cloudius-systems.com>, 2013-12-19 12:16:41 +0800, , virtio blk make make request func name shorter change blk blk make_request signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4673,9e971a494b47ca4e493006d1a436c3677709ec6d,sias He <asias@cloudius-systems.com>, 2013-12-19 12:16:40 +0800, , virtio blk make class name virtio blk virtio namespace make sense repeat virtio prefix virito_blk driver change naming virtio virtio_blk virtio blk signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4674,05c1481bcedc8b858a567813f16231ca57eb7b13,sias He <asias@cloudius-systems.com>, 2013-12-18 16:05:08 +0800, , xenfront blk skip uio size check driver check moved bdev_read bdev_write signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4675,1c413b784bf91a349e60ee65090e5393181fc4f2,sias He <asias@cloudius-systems.com>, 2013-12-18 16:05:07 +0800, , virtio blk skip uio size check driver check moved bdev_read bdev_write signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4676,9e2753fc7d347c320fbbbe56d24b1756e6838ba9,sias He <asias@cloudius-systems.com>, 2013-12-18 16:05:06 +0800, , ramdisk skip uio size check driver check moved bdev_read bdev_write sigaed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4677,af12394bbc8945d8aa26f796c5c95288c9960ab5,sias He <asias@cloudius-systems.com>, 2013-12-18 16:05:05 +0800, , vfs uio size check bdev_read adn bdev_write signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4678,1194fb25bbd7f20e0c355b41404c9fbabf9baa18,sias He <asias@cloudius-systems.com>, 2013-12-18 16:05:04 +0800, , ramdisk use dev size instead size signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4679,cc8bf69569b1ea738d128a8db2a6b8d4c9900bb1,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-12-18 22:25:36 -0200, , bsd fix unimplemented copystr copyinstr process creating zpool history_str_get eventually called history_str_get work expected fully relies function copyinstr currently unimplemented spa_create called history_str storing trash thus making spa_history_log filled completely wrong entry let fix problem simply implementing copyinstr way copystr basically semantics copyinstr let implement well used anywhere know might needed future bsd compliant application far know problem manifest visibly anywhere spa history log intentionally used yet found problem auditing code signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4680,1708d1f8bc2ad1a7c1ae4e012691f99bb8604eb0,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-19 09:35:17 +0200, , revert build allow image cacheing build reverts commit pointed tomek flag already passed mkzfs.py,,
4681,410efce0a84d2d0be7b24e16ac781fd3de17df4a,leb Natapov <gleb@cloudius-systems.com>, 2013-12-18 15:46:55 +0200, , mprotect fail encounter non present pte mprotect fails enomem called non mapped virtual address check done mmu ismapped signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4682,a961d048937f5b4db9455017e4049bd9f352fed4,lauber Costa <glommer@cloudius-systems.com>, 2013-12-18 16:58:26 +0400, , runtime fix hard coded _sc_pagesize came across trivial fix signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4683,97626d36eeeda9a59576efeb1da0af488cdb79b2,vi Kivity <avi@cloudius-systems.com>, 2013-12-18 14:55:53 +0200, , build allow image cacheing build since user data image safely cache improving build performance helpful duing git bisect signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4684,0a29747a6e7ff577a051f26cabfd6788a0f943c7,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-18 13:34:05 +0200, , test.py bring back tst commit 649654a fix race join thread completion fixed problem bring back test case signed pekka enberg penberg cloudius systems.com,,
4685,2e0c30f4214a4bc7905f96a1a75dcbc39878be1f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-18 11:34:42 +0100, , make bsd code use hardware atomics currently use implementation bsd sys cddl compat opensolaris kern using global mutex showes wait profile zfs writes ... 469.96 0.00 250 469.96 0.00 250 dbuf_do_evict 355.93 0.00 154 dbuf_destroy ... 76.60 0.00 zrl_add atomic_cas_32  sched thread wait  66.14 0.00 dbuf_clear zrl_add atomic_cas_32  sched thread wait  47.89 0.00   sched thread wait patch switch amd64 implementation signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4686,5f9a0a4a061cf1dca22b7ab798cb61958a331311,adav Har'El <nyh@cloudius-systems.com>, 2013-12-18 11:21:27 +0200, , trivial pipe.cc need include af_local.h af_local.h declares couple function implemented af_local.cc reason pipe.cc include signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4687,ca1ac80b5a472557deee1c11dc570bae1bd5fe07,lauber Costa <glommer@cloudius-systems.com>, 2013-12-17 17:16:25 +0400, , mempool memory statistic patch add basic memory tracking expose interface data collected basically start stats zero add memory system bump recalculate watermark avoid recomputing time page range come added free memory operate based currently sitting page range mean effectively ignoring memory sit pool memory usage think good assumption allow focus big picture leave pool used liquid currency signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4688,c7e560f1f82cf7d2fc387578960fbd20e556ac67,sias He <asias@cloudius-systems.com>, 2013-12-17 22:25:11 +0800, , virtio scsi initial support add initial virtio scsi support scsi layer osv implementation virtio scsi work directly bio layer translates bio_read bio_write bio_flush scsi cmd signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4689,bd238b24ed948294dd262bde693e7de615cc068b,sias He <asias@cloudius-systems.com>, 2013-12-17 22:25:10 +0800, , bio introduce bio_scsi bio bio_scsi flag contains scsi command signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4690,4b9ae14b47a94a38eac12c532d27386c25432bb4,sias He <asias@cloudius-systems.com>, 2013-12-17 22:25:09 +0800, , bio add bio_private used low level driver store private data e.g virtio scsi driver store virtio scsi request bound bio signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4691,2d9c5f7d7553fdf8be7b26d93defa3aa80e5b12c,sias He <asias@cloudius-systems.com>, 2013-12-18 16:25:25 +0800, , virtio net use std stringstream _driver_name signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4692,30e1b35a1ae3136bca5594a9d60995c39e8051cd,sias He <asias@cloudius-systems.com>, 2013-12-18 16:25:24 +0800, , virtio blk use std stringstream _driver_name signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4693,86f741fe98e4114d9bd9b4f8b5b025f669ae56dc,sias He <asias@cloudius-systems.com>, 2013-12-18 16:34:58 +0800, , virtio blk switch sched thread_handle thread wakeup lock used protect away signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4694,1b87abf452909ea72d16d758a81b755391c2fe06,vi Kivity <avi@cloudius-systems.com>, 2013-12-17 15:24:22 +0200, , poll move away bsd msleep net channel poll need wait poll wakeups timeout also request network interface flush net channel polled socket preparation switch bsd msleep native wait_until signed avi kivity avi cloudius systems.com,,
4695,0b9fc40b0833ced01dae012f8025134fdafb51f0,adav Har'El <nyh@cloudius-systems.com>, 2013-12-17 13:23:10 +0200, , fix assertion failure many cpu boot booting many cpu e.g. run.py sometimes saw crashed trying sleep preemption disabled assertion failed preemptable home nyh osv include sched.hh do_wait_until 605 aborted turn since commit 223b2252815f22 half year ago main_cont ran smp_launch preemption disabled smp_launch creates thread thread constructor may sleep e.g. preemption disabled ... dropped preempt_disable enable main_cont reasoning expressed 223b2252815f22 appears longer relevant fix 130 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4696,7b8c9d3b72db000b89f40fd005373c7eba42e9b8,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-16 11:23:32 +0100, , test print stats asynchronously bdev write test printing asynchronously affected write stall hence period partial amount constant signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4697,0a62979daf65aa4c7b47d74ac92f65193c078833,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-12-16 16:45:15 -0200, , mmu replace magic value constant reviewed dor laor dor cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4698,7570ef5359561aa9b5bfaff785fa391579b7c832,sias He <asias@cloudius-systems.com>, 2013-12-17 15:51:41 +0800, , virtio add init_sg helper signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4699,e6ff43a7bf173cfdb5265002add22dc26fb56a76,sias He <asias@cloudius-systems.com>, 2013-12-17 15:51:40 +0800, , virtio add add_out_sg add_in_sg helper signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4700,20c870a56bfb25360b37fc8eb5a1e4f1753e4534,sias He <asias@cloudius-systems.com>, 2013-12-17 15:51:39 +0800, , virtio use emplace_back instead push_back skip construct vring sg_node signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4701,f81d5121ca4e557b1c3020f5341152bc4d8706de,vi Kivity <avi@cloudius-systems.com>, 2013-12-16 13:42:13 +0200, , bsd fix horrible macro clash bsd defines macro example m_flags save typing however variable name another header example m_flags fun trying compile code expand code place eliminate macro signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4702,3409d13dc55d855104136e9c02e4b29951197e2f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-13 14:14:46 +0100, , elf fix handling relocation code seems obviously broken tls_data .size tls_data function struct creating temporary uninitialized struct read size field meant instead probably size calculated function returned tls_data structure able actually test change dso relocation idea test also broken initializes file_size field instead size field file_size field added point place updated appears actually used anywhere patch get rid signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
4703,e5de0745271e492335d0ffb90bc6c463bb46f5c9,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-13 14:10:06 +0100, , test add test std promise signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
4704,3c0133a1c9e57c81b0e479f506a19c76e2ef69cf,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-13 14:10:05 +0100, , make __tls_get_addr work symbol defined core module dynamically loaded module use __tls_get_addr locate thread local symbol symbol identified module index offset module area module index offset filled dynamic linker dso loaded area given dso allocated dynamically demand osv keep area vector indexed module index inside per thread vector area core module handled differently dynamically loaded module offset thread local symbol defined core module known link time code inside core module use offset directly offset relative tcb pointer register x86 problem __tls_get_addr treating core module dynamically loaded module returned pointer inside dynamically allocated area instead pointer inside core module result code inside core module reading value different location code inside dso written value offending thread local varaible __once_call set call_once defined dso inlined definition inside header read __once_proxy defined core module fix 125 signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
4705,9d4aeaf11523ff782192b9b116d0ef386e87f4b2,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-13 14:10:04 +0100, , elf change module_index type unsigned long ulong order unform naming ulong used several place signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
4706,7a823108723ac4d377e0193dae0391d7e531ea07,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-13 14:10:03 +0100, , elf implement missing module_index function signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
4707,d841f0e2ebe1bc9ceca03831da9655ddd32d5254,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-16 10:29:47 +0200, , virtio blk use auto possible clean virtio blk.cc using auto type specifier possible reviewed dor laor dor cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4708,d761f58f2f825ff86fb7b9e10e478d0ea99bd14b,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-12 12:38:28 +0200, , x64 move pte definition arch mmu.hh move x86 pte definition new arch specific arch mmu.hh header file make core mmu.cc smaller portable signed pekka enberg penberg cloudius systems.com,,
4709,09f4ec17d238f8cecf8a3b717d749978fceb6672,sias He <asias@cloudius-systems.com>, 2013-12-13 16:42:50 +0800, , vfs fix endless loop bdev_read bdev_write iov iov_len loop forever uiomove take care zero iov len case signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4710,0a02e276a0133f2f4f6ff11b1ed568dec0b16a12,vi Kivity <avi@cloudius-systems.com>, 2013-12-15 20:39:54 +0200, , net reconcile bsd api signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4711,6dcaca1db76eacd813b6ef45ced6d14c3536bba2,vi Kivity <avi@cloudius-systems.com>, 2013-12-15 20:39:53 +0200, , net reconcile api bsd inaddr_ macro signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4712,84b96e0f4eb57e88d4d37de75d0c988452861b16,vi Kivity <avi@cloudius-systems.com>, 2013-12-15 20:39:52 +0200, , net reconcile bsd linux ip_ socket option bsd specific one nenumbered avoid clash signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4713,8fa97c1ba5b2d17f08cd3e9ce2f184310712e1d0,vi Kivity <avi@cloudius-systems.com>, 2013-12-15 20:39:51 +0200, , net reconcile in.h in_class macro friend signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4714,e9c888e132737dc7db7ea4e27331fcb5b47cf6f5,vi Kivity <avi@cloudius-systems.com>, 2013-12-15 20:39:50 +0200, , net reconcile bsd api sol_ macro since sol_ macro equivalent ipproto_ defines one define need changed signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4715,4c5a10d5b0926fe07b79b6bfb13fac1afc30c7ab,vi Kivity <avi@cloudius-systems.com>, 2013-12-15 20:39:49 +0200, , net reconcile bsd api ipproto_ macro move common include file since defined externally real conflict signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4716,55b05046bc9a088e50d2580f3b237777eee61b29,vi Kivity <avi@cloudius-systems.com>, 2013-12-15 20:39:48 +0200, , net remove unneeded linux compatibility macro unused signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4717,0b3bf210b0de00cda7da8aba34213a32d422f218,lad <vladz@cloudius-systems.com>, 2013-12-11 19:15:50 +0200, , virtio net use if_transmit instead legacy if_start switched virtio net driver use if_transmit instead legacy if_start save least additional lock unlock sequence per mbuf since if_enqueue if_dequeue take lock pushing removing mbuf queue ifnet legacy mode signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4718,9ad8663aef1b0dadda0725f617f5ffbf70aaa9f2,vi Kivity <avi@cloudius-systems.com>, 2013-12-15 15:49:39 +0200, , build get rid libunwind.a backtrace use libunwind remove signed avi kivity avi cloudius systems.com,,
4719,1d581c759ed320ca4946e28222d2d150f0484815,adav Har'El <nyh@cloudius-systems.com>, 2013-12-15 15:12:44 +0200, , backtrace use libgcc_eh.a instead libunwind.a patch change backtrace use _unwind_ facility provided gcc runtime libgcc_eh.a instead separate libunwind.a patch use libunwind.a osv removed see issue signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4720,649654afa87a31b7fe232da688a1f806f404bc0c,adav Har'El <nyh@cloudius-systems.com>, 2013-12-15 14:23:16 +0200, , fix race join thread completion thread destroy fixme comment fixme problem case race join thread completion see _joiner notify anyone time join decided sleep status yet status terminated never wake indeed bug glauber discovered hanging tst test test sometimes hang one thread terminated state waiting someone join second thread waiting join missed thread termination event solution work like join set _joiner succeeded wait like status become terminated failed mean concurrent destroy call beat race return join destroy check _joiner already set need wake thread like original code _joiner yet set either one join concurrent join call soon return joiner doe loses race case need set status terminated must _detached_state saved earlier join already returned thread may already deleted signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4721,a6bbd0e7db624a4f4b6cb7239cb622f1fbc754f4,adav Har'El <nyh@cloudius-systems.com>, 2013-12-15 14:21:05 +0200, , fix wake_with wake_with action implemented using thread_handle following thread_handle handle action h.wake implementation wrong take rcu lock prevents destruction _detached_state h.wake meaning thread sleeping action cause exit _detached_state may also destructed h.wake crash thread_handle simply needed wake_with designed completely different use case mind long term holding thread handler need use line appropriate rcu lock keep _detached_state alive resulting code even simpler nicely parallel existing code wake patch fix real bug unfortunately concrete test case known fix signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4722,9f0e1287a2841c5cd3f86afd0d1357586edc9527,adav Har'El <nyh@cloudius-systems.com>, 2013-12-15 14:18:55 +0200, , add add new lock exactly like rcu_read_lock assuming preemption already disabled rcu_read_lock doe disable preemption new lock type currently doe absolutely nothing future implementation rcu might need something use new lock type following patch optimization regular rcu_read_lock signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4723,ec7ed8cd25b213c6d018ef1e97890ed06592b701,lauber Costa <glommer@cloudius-systems.com>, 2013-12-13 14:50:09 +0400, , enable interrupt page fault handling context going wait irqs_disabled call disaster true every time call wait actually end waiting invalid call due time may wait would good express nonsense assertion however place sleep irqs disabled currently although technically safe implicitly enable interrupt end reaching wait non safe state happens page fault handler explicitly enabling interrupt allow test valid invalid wait status test applied test whitelist still pass signed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com,,
4724,12d2efdf205234b1b6dbc69eb827db8a9884b736,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-12-12 17:45:51 -0200, , tst zfs mount rename change test use report approach signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4725,2afd6f60912621d78cb60bd5fe1bc395cdb7ae11,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-12-12 18:24:01 -0200, , umount2 add parameter check signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4726,fd2e7bed727dfe0cda8c06f81c7621e74e0699fe,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-12-12 23:15:44 -0200, , mmu add page_size_shift constant avoid magic value signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4727,1eba19dfeba3fb035c1369d0642bd45dc89762e0,vi Kivity <avi@cloudius-systems.com>, 2013-12-05 13:04:14 +0200, , linux_ioctl.cc fix unicode comment fix unicode character author name signed avi kivity avi cloudius systems.com,,
4728,df69a596ac6502028b839cd772a238d4107dbdf8,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-12 15:29:53 +0200, , munmap fail munmap address range mapped make sure address range passed munmap actually mapped reviewed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4729,6495e14c978b83a55458559e59e30977ef60f6c0,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-12 15:23:45 +0200, , mman simplify mmap simplify mmap converting flag permission one place reviewed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4730,c41a394aab1d546289a51f581b2415358365aaca,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-12 14:11:16 +0200, , mman move mincore libc mman.cc move mincore libc mman.cc memory mapping libc function reviewed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4731,71f1ffdaac852673e0d8c6046cd48a0574b3e56a,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-12 14:10:34 +0200, , mmu add is_page_aligned helper function add mmu is_page_aligned helper function use get rid open coded check reviewed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4732,b40cb27adea46bca9a5c68e99d6ccfa5b5f60f38,lad Zolotarov <vladz@cloudius-systems.com>, 2013-12-12 15:28:19 +0200, , added debug_assert macro compiled mode release assert issuing assert printf like semantics signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4733,5e55a29bc1467665ffed81ed24470434cc10d33c,lad Zolotarov <vladz@cloudius-systems.com>, 2013-12-12 15:28:18 +0200, , build.mk add dndebug mode debug add dndebug compiler flag mode debug prevent assert compiling kernel mode release signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4734,6f3a966a386bdabf1bbf253ed3bf3a2102618a66,lad <vladz@cloudius-systems.com>, 2013-12-12 15:28:17 +0200, , compilation fix compilation error fix compilation error would arrise ndebug defined test misc tcp.cc missing include iostream would come include boost assert.hpp line ndebug defined bsd cddl contrib opensolaris lib libzfs common ndebug defined assert defined __assert_fail noreturn attribute satisfies compiler ndebug defined assert completly compiles compiler start complaining missing return statment signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4735,7ea87b984bb6dcfe8b63d60234cdf23d96e537c2,lad <vladz@cloudius-systems.com>, 2013-12-12 15:28:16 +0200, , include api assert.h add missing protection add missing infdef define protection include api assert.h signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4736,28bdd3e73f38f91ac05713588f3b713c4f22bb9b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-11 18:34:37 +0100, , loader.py make osv trace duration sorted default patch add sorting option example sorted gdb osv trace duration sorted narrowed one function gdb osv trace duration vfs_pwritev sorting allows start printing trace right away also need keep memory make command bit faster signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4737,645d7ebc619ce1a1ce5efba98f206e51f28968e9,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-12 12:57:31 +0200, , test.py show blacklisted test make blacklisted test visible test.py run attract attention hopefully get fixed test tst strerror_r.so 1.083 test tst skipped test tst tracepoint.so 1.120 signed pekka enberg penberg cloudius systems.com,,
4738,5022f95122aa49e68a2ce4c7721bd75e2f0f5df9,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-12 12:54:46 +0200, , test.py add tst blacklist test hang time fix brewing making make check useful let add back work time signed pekka enberg penberg cloudius systems.com,,
4739,32869e0149c5a3110f0b9ce0722d31f63b7b99b5,uan Antonio Osorio <jaosorior@gmail.com>, 2013-12-11 22:08:25 +0200, , run.py remove global variable usage previously variable image_file cmd_args opt_path used globally along run.py script consider convenient thus opted convert global variable one variable passed parameter variable renamed option mindset desired variable could come configuration file thus making passing command line argument optional functionality configuration file ... perhaps default value added script would much need refactoring renaming would global variable reviewed tomasz grabiec tgrabiec gmail.com signed juan antonio osorio roble jaosorior gmail.com signed pekka enberg penberg cloudius systems.com,,
4740,02abeaaea25376a89f8e4a953db8d50519685d9b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-11 09:53:43 +0100, , run.py use signal option chardev control signal behavior nographic option deprecated longer imposes behavior want since commit qemu.git use signal option chardev instead work current qemu master well 1.4.0 patch renames option former longer adequate name reported juan antonio osorio roble jaosorior gmail.com signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4741,2c505d3aa6fc720a1e0498448a12bf0f2083d631,adav Har'El <nyh@cloudius-systems.com>, 2013-12-12 00:34:20 +0200, , gdb make osv info thread work commit place _cpu _status field thread moved structure pointed field fix loader.py use new location osv info thread work signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4742,0bb804e3957d729f385715da25b1b1337320c05e,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-11 17:47:14 +0200, , loader remove locale test reason run locale test part osv boot sequence ... avi writes used major stumbling block interest signed pekka enberg penberg cloudius systems.com,,
4743,43491705f621ef9fb9cdc0eb7d158a1e42d411c4,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-11 17:20:25 +0200, , x64 make page fault handler arch specific simplify core mmu.cc make portable moving page fault handler arch x64 mmu.cc arch specific code core mmu.cc also moved signed pekka enberg penberg cloudius systems.com,,
4744,bbec1a1836e15ea42d07dff00cf69a698fe17fb6,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-11 17:09:05 +0200, , mmu use addr_range vma constructor make vma constructor strongly typed using addr_range type signed pekka enberg penberg cloudius systems.com,,
4745,d83db0c979dee58e8301efb84fabc538a5791d6e,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-11 16:58:47 +0200, , core vma abstract base class separate common vma code abstract base class inherited anon_vma file_vma signed pekka enberg penberg cloudius systems.com,,
4746,01a31dee65d04f5d2b08ad928a2f6d501e186bb4,adav Har'El <nyh@cloudius-systems.com>, 2013-12-11 17:30:36 +0200, , add make image memcached add image memcached.py make image memcached would work use also need check recent version osv apps repository apps directory check master branch git pull signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4747,2752a285a286caf4047b14beb1ebc8e6518db373,mnon Heiman <amnon@cloudius-systems.com>, 2013-12-04 11:08:15 +0200, , random separate device node virtio rng separate dev random virtio rng driver register virtio rng rng entropy source signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4748,3e6763f7b045c042969fbe504a7a503608f5d446,lauber Costa <glommer@cloudius-systems.com>, 2013-12-11 17:30:24 +0400, , mmu fix recently seen problem eventual page fault outside application would occur managed track huge page failure patch really sure going kudos raphael figured problem happened called split_huge_page problem case enter pte emptied previously expecting write new pte happen unconditionally broke exchange really happen many way fix issue least confusing given caller function could potentially display problem deffensive programming clearly separate semantics type caller signed glauber costa glommer cloudius systems.com tested raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4749,b7620ca23144b323af62ea51f9bafb6685481646,adav Har'El <nyh@cloudius-systems.com>, 2013-12-11 14:15:00 +0200, , verify slow page fault happens preemption allowed page_fault check fast fixup see safe_load reach page fault slow path need allocate memory even read disk might sleep ever get slow page fault inside kernel code preemption interrupt disabled serious bug code question think sleep patch add two assertion verify preemptable assertion easily triggered stack demand paged explained commit patch solve fit margin however also seen assertion without demand paged stack running test together testrunner.so hoping assertion helpful hunting elusive bug still patch add third use 0x200 constant nineth bit rflags register interrupt flag replaces new symbolic name processor rflags_if signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4750,7ab5f9e8d654e876803650b248ebcac5f3053942,lauber Costa <glommer@cloudius-systems.com>, 2013-12-11 15:29:53 +0400, , vma_fault propagate exception frame fault handler suddenly stop propagating exception frame vma_fault path reason propagate aside fact currently user however aside fact present consistent frame passing intend use jvm balloon signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4751,9dab3e92f06dc792282bb662f24308e42c86e288,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-12-11 09:19:52 -0200, , tst link.so use mktemp signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4752,4e4e191f7c966558c800e13a1ba1de404df12979,adav Har'El <nyh@cloudius-systems.com>, 2013-12-11 00:24:12 +0200, , rename blacklisted test rename blacklisted test tst wake.cc misc wake.cc different name cause test automatically run make check without needing separate blacklist test.py patch deletes patch testrunner.so also run test called tst run misc test misc test still run manually e.g. run.py test misc mutex.so addition previously blacklisted test patch blacklist renames additional test fail quickly test.py know use word fail example tst schedule.so existed immediately run vcpu patch also renames misc schedule.so make check testrunner.so run test note patch testrunner.so new way run test working well yet still expose new bug exist separate test depending view point might considered feature bug testrunner.so ... signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4753,8cc46dcadcd87c3f8be51aec9cf3f66100ae0b16,sias He <asias@cloudius-systems.com>, 2013-12-11 16:19:46 +0800, , virtio blk disable interrupt irq handling progress reduces unnecessary interrupt host could send guest guest progress irq handling virtio_driver wait_for_queue enable interrupt nothing process signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4754,df4a7bd24f8d1ee6f956802350221bee75108289,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-11 10:37:30 +0200, , tst link.so use mktemp path name using hard coded path name problematic test case may use path name forget clean make tst link.so robust using mktemp generate unique path name reviewed tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
4755,b0dc3f1a5399690a6803bb9d35312d1f3e1d6dfc,lauber Costa <glommer@cloudius-systems.com>, 2013-12-11 02:24:50 +0400, , test fix thread destroyed earlier last part standard thread test created thread call detach one body live block guarantee destroyed time expect avi however demonstrated mistake prevents actual case start run start run start run start run detached destroyed destroyed detached join terminate detached late introduces simple wait mechanism avoid thread terminated block gone signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4756,4d24b90aa38d90bdcf5ebecf7a5badeca3b657eb,adav Har'El <nyh@cloudius-systems.com>, 2013-12-10 17:41:21 +0200, , fix shared object finalization patch fix two bug shared object finalization i.e. running static destructors unloaded bug seen osv run ing test program using mt.so crashed test program finished two related bug need call module destructors run_fini_funcs removing module list otherwise destructors able call function module got symbol found error destructor need unload module needed module unloading module like implictly done make sense symmetry module load needed module loaded one also practically needed module destructor case boost unit test framework might refer object needing module case test program call needed module destructor already unloaded needing module signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4757,1017f90d832e94a7940af47df7a16365d22c7568,uan Antonio Osorio <jaosorior@gmail.com>, 2013-12-10 22:10:42 +0200, , corrected small typo readme.md signed juan antonio osorio roble jaosorior gmail.com signed pekka enberg penberg cloudius systems.com,,
4758,3acafce285f5892d3d70c213d761905ed7684142,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-10 16:10:59 +0200, , test.py add repeat option add repeat option test.py repeat test suite test fails useful detecting test case fail time reviewed tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
4759,fbf2a946c884995bd25dd9b7aae84ff7ba1786d0,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-10 14:15:00 +0200, , test.py make output pretty show duration make test runner output look pretty show test duration make visible test take longest time run output look follows test tst local.so 3.288 test tst bdev write.so 1.058 test tst bsd evh.so 1.071 test tst bsd kthread.so 1.234 test tst bsd taskqueue.so 1.062 test tst bsd tcp1.so 2.114 test tst commands.so 1.141 test tst condvar.so 1.776 test tst dns resolver.so 2.560 test tst epoll.so 1.952 test tst except.so 1.146 test tst fpu.so 2.630 test tst link.so 1.051 test tst stress.so 1.027 test tst fsx.so 1.067 test tst hub.so 6.256 test tst huge.so 2.199 test tst kill.so 4.147 test tst libc locking.so 2.110 test tst loadbalance.so 1.070 test tst mmap file.so 1.080 test tst mmap.so 1.087 test tst pipe.so 7.306 test tst preempt.so 1.119 test tst pthread.so 1.100 test tst queue mpsc.so 3.748 test tst ramdisk.so 1.078 test tst readdir.so 1.094 test tst remove.so 1.030 test tst rename.so 1.157 test tst resolve.so 1.095 test tst scheduler.so 1.087 test tst sleep.so 3.083 test tst solaris taskq.so 1.061 test tst stat.so 1.106 test tst strerror_r.so 1.102 test tst tcp sendonly.so 2.014 test tst tcp.so 1.080 test tst 2.770 test tst tracepoint.so 1.109 test tst truncate.so 1.083 test tst utimes.so 1.079 test tst vblk.so 1.310 test tst vfs.so 1.118 test tst yield.so 1.992 test tst zfs mount.so 1.087 test run 82.944 reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4760,637eb584d45147f0b2ab9b2d4fe85bec3cb4c9d7,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-09 17:28:47 +0200, , test.py switch blacklist switch whitelist blacklist increase testing coverage signed pekka enberg penberg cloudius systems.com,,
4761,36a1528836e4462ba5bc74a5610ce0d8cc1e7a1d,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-12-10 09:23:00 -0200, , add test tst link.so check vnode duplicity signed raphael carvalho raphaelsc cloudius systems.com signed avi kivity avi cloudius systems.com,,
4762,9ecda822ed8853ea3f1ef4959d9cdcccb2a91b39,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-12-10 09:22:59 -0200, , vfs fix duplicate memory vnodes currently namei doe vget unconditionally dentry found wrong path hard link point vnode already memory fix problem use inode number part hash vget use vn_lookup vget make sure one vnode memory per inode number push vget call individual filesystems make vop_lookup return vnode change since dropped lock vn_lookup thus assert vnode_lock held change since fix lock ordering issue dentry_lookup lock respective parent node must acquired dentry_lookup released process done otherwise second thread looking dentry may take null path incorrectly signed pekka enberg penberg cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed avi kivity avi cloudius systems.com,,
4763,a95e2f5cc83eaae46d48e848e83a260bf387c045,vi Kivity <avi@cloudius-systems.com>, 2013-12-10 15:34:24 +0200, , tst threadcomplete fix race running destroying sched thread nullptr sched thread new sched thread wait object exist necessarily run sched thread wait_until return nullptr quick return  sched thread sleep_until nanotime 10_ms sched thread attr sched cpu new sched thread wake sched thread attr sched cpu start start delete delete may start complete destroyed get chance run case call wake access deallocated memory fix making sure destroyed completes reviewed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com,,
4764,af70c145cbb37f87f0a04c7ac25a2269ee870620,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-09 17:14:53 +0200, , test.py make test runner silent default make test.py silent default print osv log error verbose command line option passed reviewed tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
4765,86b5374fa58c0c076fd5844b886207786c257dcc,adav Har'El <nyh@cloudius-systems.com>, 2013-12-09 17:05:41 +0200, , fix wrong error code unlink rmdir readdir patch fix error code four error case unlink directory used return eperm posix return eisdir linux rmdir non empty directory used return eexist posix return enotempty linux rmdir regular file non directory used return ebadf return enotdir linux readdir regular file non directory used return ebadf return enotdir linux patch also add test tst remove.cc various unlink rmdir success failure mode fix 123 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4766,9c9262b00f372f4c16cded5e67ec1ce27d888f1e,vi Kivity <avi@cloudius-systems.com>, 2013-12-09 20:01:12 +0200, , sched remove thread _ref_counter ref never called remove reference counter make unref unconditional signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4767,3dec98957f65568151c3562616517ce409e3afd5,vi Kivity <avi@cloudius-systems.com>, 2013-12-09 20:01:11 +0200, , sched change wake_with use rcu locking signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4768,dc40b49eb3342748b76f38a385eed6aee5b19d25,vi Kivity <avi@cloudius-systems.com>, 2013-12-09 20:01:10 +0200, , sched add wake function safe use thread may terminate one problem wake thread waking cuncurrently exit may touch freed memory belonging thread structure fix separating state wake touch detached_state structure free using rcu add thread_handle class reference detached state access via rcu signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4769,a828b3407a06a58d39d11fbfd58fd3137314bccb,vi Kivity <avi@cloudius-systems.com>, 2013-12-09 20:01:09 +0200, , rcu make rcu_ptr default initialize reasonable value make much easier use signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4770,18cee681534c203861b866a781604ff9c0e8da8b,vi Kivity <avi@cloudius-systems.com>, 2013-12-09 20:01:08 +0200, , rcu add rcu_read_lock disables preemption implementation detail user make use add take advantage implementation detail doe nothing allows user explicitly disable preemption signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4771,dff2830604e3b170d1664a5c2c88254d3c086b74,vi Kivity <avi@cloudius-systems.com>, 2013-12-09 20:01:07 +0200, , rcu forward declare preempt_enable avoid include hell signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4772,2358ac62f9639cc6de428e7f3d86af59db630ceb,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-10 11:10:57 +0200, , mman fix errno handling mmap munmap nadav har explains traditionally function succeed set errno zero rather leave unchanged errno linux say example errno never set zero system call library function reviewed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4773,06d3b771330107c83520cf3cde1da084cfe0f96b,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-12-10 06:30:55 -0200, , test add munmap test tst mmap file signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4774,8c57f76709874f0aea44942657b474f77e486c62,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-12-10 06:30:54 -0200, , libc add munmap validation signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4775,f7249e73b97b0ee57bec4c1a6a859ae19ec73df5,lauber Costa <glommer@cloudius-systems.com>, 2013-12-09 16:09:58 +0400, , mmu support flag seeing flag page fault filled zero pattern rather left alone whatever state find  signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4776,2a4f991dfaedc6e9eb14dcb2dc5799a116e8f6a3,lad Zolotarov <vladz@cloudius-systems.com>, 2013-12-09 11:29:21 -0500, , build fix debug build error add wno maybe uninitialized compilation flag mode debug avoid bogus compilation error signed vlad zolotarov vladz cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4777,0fd4f25989917388fad3f3a614f7e81973001a9f,vi Kivity <avi@cloudius-systems.com>, 2013-12-09 15:54:16 +0200, , runtime fix ignoring missing thread checking correctly missing thread may return null caller signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4778,dd701e2ddac68f9c373fb478d7494644957700f6,adav Har'El <nyh@cloudius-systems.com>, 2013-12-09 14:44:28 +0200, , implement mknod tried using test called mknod create empty regular file despite mknod implementation work failed lookup symbol __xmknod turn glibc mknod source converted abi function __xmknod whose first parameter version number x86 linux patch implement __xmknod mknod work note already kind trick __xstat needed stat would work signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4779,2050ce8c74c06872deac488f76a7bec7661edb81,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-12-06 14:41:13 -0200, , libc mount change umount2 add umount umount2 call sys_umount2 instead add umount call sys_umount signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4780,82cd05481bddf802777b452cb33f1e9db857f5cb,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-09 13:24:01 +0100, , loader.py skip inlined frame osv info thread gdb python api doe handle inlined function nicely regular backtrace command doe part frame attribute point inlined function variable symtab part point caller example frame.function return nearest non inlined function break code print thread joining information code think sched thread join actually sched schedule context doe variable solution skip inlined function considering print candidate printed information would confusing anyway file line number would inlined function printed function name would belong caller finally reach non inlined caller print call site properly fix 124 signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4781,9e91603f324edb5165a5b5802dfaddeff3589ae3,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-09 13:24:00 +0100, , loader.py make osv info thread fail frame blacklisted resolved frame blacklisted try print oldest resolved frame signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4782,f0706ceca01fe9feb08a4f354a80e03a944b0047,sias He <asias@cloudius-systems.com>, 2013-12-09 17:53:57 +0800, , virtio rng call queue get_buf_gc wait_until signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4783,1cc3dee769f8c3a86307a4f893d6a9b61b776c42,sias He <asias@cloudius-systems.com>, 2013-12-09 17:53:56 +0800, , virtio blk call queue get_buf_gc wait_until hacked use_indirect always use indirect buffer saw assertion running script run.py test tst bdev write.so vblk1 vfs mounting devfs dev 51.671 assertion failed _status.load status running home asia src cloudius system osv core sched.cc prepare_wait 655 aborted turned making waiting thread waiting get_buf_gc call free might make thread waiting state suggested dor laor dor cloudius systems.com signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4784,b7f8fa6d6c93d2a0e5e6ca6bbc98b19e85c92b43,sias He <asias@cloudius-systems.com>, 2013-12-09 17:53:55 +0800, , virtio add vring helper useful test used ring signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4785,4eb97417e9a09b9b490b528579618a2338e77612,lauber Costa <glommer@cloudius-systems.com>, 2013-12-09 16:06:32 +0400, , test test huge page allocation failure implementation operate try fill much address space possible huge page fails able fill range small page instead failing test make sure scenario resulting mapping look sane signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4786,eeeaf888b6752d13fabb5258e1935fb0e69ca92e,lauber Costa <glommer@cloudius-systems.com>, 2013-12-09 16:06:31 +0400, , mmu bail huge page failure addressing fixme part memory reclamation series ready already goal retry serve allocation huge page allocation fails fill range page simplest robust way found propagate error reach operate need walk range page instead 2mb could theoretically bail huge page move hp_end specially reclaim likely one operation fail upcoming one may succeed signed glauber costa glommer cloudius systems.com penberg null nullptr signed pekka enberg penberg cloudius systems.com,,
4787,eb8451a01f3b83407af1511a47016f30dc057f0f,adav Har'El <nyh@cloudius-systems.com>, 2013-12-09 14:34:26 +0200, , reindent vfs main.cc main.cc still using tab character instead space coding convention dictate reindent using eclipse ctrl patch change anything else signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4788,0984e12e24532987d3ed3718814270b5a9964e2e,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-09 14:41:43 +0200, , revert vfs fix duplicate memory vnodes reverts commit cause tst vfs.so hang signed pekka enberg penberg cloudius systems.com,,
4789,dfeb8a1395ae263ea21ae0eee2fb0a68538d9476,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-09 14:41:35 +0200, , revert add test tst link.so check vnode duplicity reverts commit signed pekka enberg penberg cloudius systems.com,,
4790,99456e07d2005ed32be3cae19ac916259a1540ea,adav Har'El <nyh@cloudius-systems.com>, 2013-12-09 00:28:37 +0200, , small fix tst pipe.cc tst pipe.cc read buffer freeing could theoretically caused segfaults practice better fix oversight also forgot return return code play nicely test framework like testrunner.so surprised compiler bothered int main returning int signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4791,7a986ba7818b8549968a1b6648c97d70ac9ed537,adav Har'El <nyh@cloudius-systems.com>, 2013-12-09 01:45:11 +0200, , libc fix remove return value remove function part iso 1989 standard used example implement java file.delete supposed remove file regardless whether unlink rmdir needed remove implementation musl assumed unlink directory fails eisdir case tried rmdir however returning eisdir unlink linux extension deliberately posix standard specified eperm returned case zfs implementation unlink following solaris freebsd linux return eperm case meant remove used fail deleting empty directory java code like specjvm2008 derby benchmark using recursively delete directory left behind undeleted empty directory patch fix remove try rmdir unlink returned either linux specific eisdir posix standard eperm also add readdir test another test verifies remove delete file directory regular file empty directory fix 112 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4792,6e549175d3ad2e04d13a1525e55a1a2bc3e5d9fc,adav Har'El <nyh@cloudius-systems.com>, 2013-12-09 00:23:47 +0200, , assert test tst readdir.cc patch tst readdir.cc assert every test meaning failure cause crash change use report function count failure instead immediately crashing first one patch change anything test actually test signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4793,f44ed7b9e0f492c2cb474f226c792a8712c3a24c,vi Kivity <avi@cloudius-systems.com>, 2013-12-08 20:34:14 +0200, , build use mode debug available gcc recommends debugging follow advice signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4794,6204bf4eb69f7de598ae3b8ea87afd19afd686ff,sias He <asias@cloudius-systems.com>, 2013-12-09 11:30:08 +0800, , virtio fix vring use_indirect _avail_count ring start using indirect descriptor signed asia asia cloudius systems.com signed dor laor dor cloudius systems.com signed avi kivity avi cloudius systems.com,,
4795,24bbcd780bb15b268e909be1f87d7c0c5bee2883,sias He <asias@cloudius-systems.com>, 2013-12-09 11:30:07 +0800, , virtio scale desc_needed _num reason scale signed asia asia cloudius systems.com signed dor laor dor cloudius systems.com signed avi kivity avi cloudius systems.com,,
4796,d213c3fe4ca70049c50052a4cbdeff3641a38ed0,lauber Costa <glommer@cloudius-systems.com>, 2013-12-08 20:44:58 +0400, , test add test thread completion test together thread detach also calling join make sure breaking unfortunate quite non deterministic really surely test failure flip side help catch couple bug implementation eventually explode somewhere bug appears signed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com,,
4797,afcf47354ddc2a3394c58ad9eb2fc6eebe8efb35,lauber Costa <glommer@cloudius-systems.com>, 2013-12-08 20:44:57 +0400, , sched implement pthread_detach needed call detach test code mine implemented code wrote use may may stay end nevertheless let implement signed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com,,
4798,d754d662f908a58d87a1344e238b61d3aecd202d,lauber Costa <glommer@cloudius-systems.com>, 2013-12-08 20:44:56 +0400, , sched standardize call _cleanup set_cleanup quite complicated piece code easy get race thread destruction site made abundantly clear tried implement pthread detach patch try make easier restricting set_cleanup called trick currently thread may may cleanup function call set_cleanup decision cleanup may change point set_cleanup tell cleanup decision make instance thread block local destructor called end block case _cleanup function anyhow call  setting default cleanup function created thread deletes current thread object anything coming pthread try override also deleting pthread object important node set cleanup function unconditionally signed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com,,
4799,5c652796fe8d08b7ecc87739025492505c9c1b5a,lauber Costa <glommer@cloudius-systems.com>, 2013-12-08 15:39:31 +0400, , sched use integer thread linux bit integer pid_t let well function return back application one application gettid already tree theoretically could come mapping bit linux one since maintain mapping anyway might well use linux pid default max size bit enough allocating pid bumping counter since maintain bitmap bit allow much billion pid avi remove unneeded include signed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com,,
4800,0ddd6ef158602c4cff0bf2911a744a7f2214957a,lauber Costa <glommer@cloudius-systems.com>, 2013-12-08 20:32:40 +0400, , xen disable pvclock cpu xen shared info contains hardcoded space cpu use structure derive timing information would basically accessing random memory hard test trigger demonstrate right although really needed math could used ... print first timing information cpu would produce could verify timing cpu behind time time produced cpu possible move vcpu area different location relatively new feature xen hypervisor amazon support need disable path anyway open issue somebody implement support eventually another user vcpu structure interrupt interrupt story easier since select cpu take interrupt take first cpu case taking cpu0 already control signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4801,1d31d9c3561c174c0ea5e4e3cdab03e846a7205a,lauber Costa <glommer@cloudius-systems.com>, 2013-12-08 20:32:39 +0400, , sched initialize clock later right taking clock measure early cpu initialization force unnecessary dependency sched clock initialization since lock used determine long cpu running initialize runtime later init idle thread nothing running move sched initialization bit earlier signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4802,1bbe05ddeecfaed90421b431ecbd200e26913043,lauber Costa <glommer@cloudius-systems.com>, 2013-12-08 20:32:38 +0400,113, xen int long issue osv side seems also problem code int long issue really surprised compiler throw warning since word size quite explicit case seems missing piece xen booting many cpu boot fine cpu problem start appear fix 113 signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4803,bdd99c7b2d3a6852c5422852449d1e5c7e9a77d3,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-12-07 00:17:29 -0200, , add test tst link.so check vnode duplicity signed raphael carvalho raphaelsc cloudius systems.com signed avi kivity avi cloudius systems.com,,
4804,e4aad1baabc326d11eebb05622832563d616cb60,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-12-07 00:17:28 -0200, , vfs fix duplicate memory vnodes currently namei doe vget unconditionally dentry found wrong path hard link point vnode already memory fix problem use inode number part hash vget use vn_lookup vget make sure one vnode memory per inode number push vget call individual filesystems make vop_lookup return vnode drop lock vn_lookup assert vnode_lock held signed pekka enberg penberg cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed avi kivity avi cloudius systems.com,,
4805,d604307d512bf6f887b4d2c1fda9cc7f8c4c7548,lauber Costa <glommer@cloudius-systems.com>, 2013-12-07 04:47:03 +0400, , loader.py unbreak info thread thread patch broke info thread bad nadav noticed review would ended forgetting reworked case following fix work signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4806,50de21685e64edf20afb6706f725fd584ed0db0c,mitry Fleytman <dmitry@daynix.com>, 2013-12-06 17:45:14 +0200, , release ec2 beautification use multithreaded build possible suppress output bucket removal signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
4807,af1678bc8c7717980fca0782e12903b6cb778e53,mitry Fleytman <dmitry@daynix.com>, 2013-12-06 17:45:13 +0200, , release ec2 bugfixes turned amazon change standard amis time time ami change well case result window ami used template osv release became anavailable script use earlier osv release ami instead avoid class problem invalid string compare syntax fixed signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
4808,c62c9dd82fe35cf31270f8cd236303da31c1fd2b,sias He <asias@cloudius-systems.com>, 2013-12-06 20:55:14 +0800, , virtio fix vring calculation patch fix order _used _idx latter advanced former unwanted promotion int pekka wrote however right hand side expression type master evaluates int innocent looking constant lack parenthesis cast also force left hand side promote int really claim follow integer promotion rule used typeid .name verify compiler penberg localhost tmp cat types.cpp include typeinfo include stdint.h include cstdio using namespace std int main  unsigned int _num printf int typeid int .name printf uint16_t typeid uint16_t .name printf uint16_t _num typeid uint16_t _num .name printf uint16_t _num typeid uint16_t _num .name  penberg localhost tmp std wall types.cpp penberg localhost tmp a.out int uint16_t uint16_t _num uint16_t _num signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4809,b92c33ebd77c5834a3d9efe6bad86094b3484757,sias He <asias@cloudius-systems.com>, 2013-12-06 23:16:24 +0800, , virtio net remove _tx_gc_lock lock thread gon code called one place need lock anymore signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4810,d41ccda82435b46b0897ec7361f9ff06bd02bb9d,sias He <asias@cloudius-systems.com>, 2013-12-06 23:16:23 +0800, , virtio net _tx_queue get_buf_gc virtio_net tx_gc unifies code bit queue one common code path signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4811,5b71c0f427198a9a9bcb72da568d1acddf80d49b,sias He <asias@cloudius-systems.com>, 2013-12-06 17:28:01 +0800, , virtio net drop tx_gc_thread thread queue path enough space queue thread must dropping save running thread save thread wakeup every interrupt signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4812,4d2eb1d25546df8b6c1ac58bd80b0fc5f5fea6f1,sias He <asias@cloudius-systems.com>, 2013-12-06 17:28:00 +0800, , interrupt allow providing bottom half thread easy_register signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4813,b24298789fded7d984065d15b5e4fb4a311c3233,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-05 14:24:10 +0100, , virtio blk enable write caching used qemu determine guest using explicit flush request enabled flush using fdatasync every write request causing dramatic performance degradation using spinning disk test test tst bdev write.so expose issue  0.469 0.312 0.323 0.354 0.163 0.100 0.388 0.293 0.401 written 3.117 10.02  49.151 53.126 32.079 49.082 29.575 42.553 35.909 37.592 67.425 written 440.562 10.00 using test tst stress.so  2.414 3.633 0.630 0.279 2.497 written 15.379 10.51 latency write 0.000000090 0.5 0.000004532 0.9 0.000005969 0.99 0.000022659 0.999 0.001138458 1.0 4.020670891  11.893 20.292 13.801 16.102 24.811 18.113 21.336 18.976 written 182.254 10.00 latency write 0.000000089 0.5 0.000004497 0.9 0.000005878 0.99 0.000018114 0.999 0.000111873 1.0 0.681828260 signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4814,ccbf8e6109575cca933c066e664751787faa035f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-05 14:24:09 +0100, , add test sequential write performance bdev layer signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4815,35d82c64b049db53c13d6929c10f75f238079a73,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-05 14:24:08 +0100, , add test sequential write performance file layer signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4816,f6806e036bdd4d7fc163a0e17cbc90485128d282,lauber Costa <glommer@cloudius-systems.com>, 2013-12-06 03:20:01 +0400, , loader.cc start dhcp interface found kvm always network interface provided qemu xen necessarily fixed probably broken multiple interface work interface list structure easiest way handle keep track whether non loopback interface need know many skip dhcp startup signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4817,89fbc8ce7fd3efbe44d66b0c3027e06839db273c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-06 10:45:53 +0100, , tst rename simplify since using zfs need workarounds tmpfs bug signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4818,f7449d938a0a93b2bd3e6d804dd5cd0a2dd6a118,adav Har'El <nyh@cloudius-systems.com>, 2013-12-05 19:59:30 +0200, , revive testrunner.so revive testrunner.so run run.py testrunner.so run test test directory image changed simplicity use osv run api next step todo list change manifest non test copied test image add option run test parallel maximum testing speed trivial need redirect test output mix also figure load run many test parallel need fill cpu signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4819,3c062cf6f5ca3667e56752c63dfbc027f0ee628f,enoÃ®t Canet <benoit@irqsave.net>, 2013-12-05 23:44:13 +0100, , loader move back loader exact location stack end needed java move back variable restore state done mkfs.so cpiod.so split signed benoit canet benoit irqsave.net signed pekka enberg penberg cloudius systems.com,,
4820,0b5ef8bdcc5d10b89764dfdebd727b2f31dd22fa,adav Har'El <nyh@cloudius-systems.com>, 2013-12-05 19:06:36 +0200, , support make image specjvm add file needed make image specjvm using osv apps.git build image containing management tool specjvm default command line management run specjvm explicitly e.g. run.py m3g java.so jar specjvm.jar ikv derby signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4821,a0f5824811d9f8f9c472ce1e842e7a9c8e6553ab,adav Har'El <nyh@cloudius-systems.com>, 2013-12-05 17:39:35 +0200, , support make image rogue unfortunately addition change osv apps.git needed rogue image also need make couple change repository signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4822,7257cb9199e6fc079dd8ee3295af38fbdd7198df,leb Natapov <gleb@cloudius-systems.com>, 2013-12-05 16:00:41 +0200, , pthread add stub function needed jdk8 run add stub signed gleb natapov gleb cloudius systems.com reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4823,ccc021b28987c6f76724760a3040fda5ca42bf1c,vi Kivity <avi@cloudius-systems.com>, 2013-12-05 15:13:43 +0200, , elf fix dptmod64 relocation null symbol object dptmod64 relocation null symbol presumably set value much trouble write zero file link phase apparently detect condition write zero needed jdk8 signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4824,7d0c554c79243402c90a96a161132a700bc21fa3,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-05 16:56:23 +0200, ," usr.manifest add missing jvm security file fix following error ssh daemon startup started appearing commit c0daa41 external update openjdk 1.7.0.60 2.4.3.0.fc19 2013 11,596 error 177 could start crasshd failed register bouncycastle defaut jce provider crash 1.0.0.jar crash 1.0.0.jar sshserver.java 430 crash 1.0.0.jar 112 crash 1.0.0.jar crash 1.0.0.jar sshplugin.java 134 crash 1.0.0.jar crash 1.0.0.jar 340 crash 1.0.0.jar crash 1.0.0.jar bootstrap.java 205 crash 1.0.0.jar crash.java 332 crash 1.0.0.jar native method 1.7.0_45 1.7.0_45 1.7.0_45 method.java 606 1.7.0_45 1.invoke 189 crash 1.0.0.jar 106 crash 1.0.0.jar 100 crash 1.0.0.jar main.java crash 1.0.0.jar main.java crash 1.0.0.jar main.java crash 1.0.0.jar native method 1.7.0_45 1.7.0_45 1.7.0_45 method.java 606 1.7.0_45 runjava.java 153 runjava.jar io.osv.runjava 1.run runjava.java 124 runjava.jar 1.run runjava.jar caused null 223 1.7.0_45 crash 1.0.0.jar crash 1.0.0.jar ... common frame omitted caused initialize cryptographic mechanism clinit 1.7.0_45 ... common frame omitted caused locate policy framework file 254 1.7.0_45 000 1.7.0_45 1.run 1.7.0_45 native method 1.7.0_45 clinit 1.7.0_45 ... common frame omitted needed ssh daemon start openjdk upgrade signed pekka enberg penberg cloudius systems.com",,
4825,3530feed0c8b434b24cd86f11c6e7f1d6a8ff0f7,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-05 17:09:13 +0200, , apps bump version switch latest apps.git fix cassandra jna woe signed pekka enberg penberg cloudius systems.com,,
4826,8ab1a76e08d78d311cbf48e94522008b7103e2bf,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-05 14:22:00 +0200, , zfs fix build breakage zfs_setattr osv doe support xattrs zfs fix build breakage reported glauber home ubuntu osv bsd sys cddl contrib opensolaris common zfs zfs_vnops.c function zfs_setattrâ home ubuntu osv bsd sys cddl contrib opensolaris common zfs zfs_vnops.c 2152 error xoapâ may used uninitialized function werror uninitialized reported glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4827,ef2d0b1c37ff28f5971933301dee44fba3f03518,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-05 13:11:29 +0100, , configure module path tomcat cassandra signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4828,03d0021afe0eb38388718e94ebd5b0ea3db15e1d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-05 13:11:28 +0100, , add osv apps submodule apps signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4829,1d7e5627c0bdc22d767b8720035481667bfde389,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-05 12:23:42 +0100, , mgmt use prod environment module run config fix 114 building osv image use set path prod config introduced commit copied module.py signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4830,ee2f287123f8f3c0e391a3b883cb1f53817b34cf,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-05 12:43:50 +0200, , run.py make guest memory default currently clicking monitor link osv web console get nasty crash switch make thing work box fix tzach livyatan tzach cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4831,23a3ce4ddec4ca9d4d8c597aa6f239289e5ac866,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-05 12:42:44 +0200, , mgmt start web earlier absolutely reason delay web startup second second enough make crash start quickly amnon heiman amnon cloudius systems.com tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4832,3b21d389f59007698e040a83b557a57a2d38128c,vi Kivity <avi@cloudius-systems.com>, 2013-12-05 13:08:51 +0200, , linux_ioctl.cc fix indentation probably worst indented file whole tree set eclipse ctrl  also fix unicode character author name signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4833,6b071736574788aad6147fce3ddd2ecda2e94272,vi Kivity <avi@cloudius-systems.com>, 2013-12-05 12:53:21 +0200, , net fix socket ioctl bypassing linux adjustment prior net use file derived class socket socket_file ioctl socket directed thence soo_ioctl however commit short circuited dipatched directly previously known soo_ioctl became socket_file ioctl caused interface enumeration ioctl fail example cassandra fix bringing back previous behaviour signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4834,b9481581640e310b7f079e8692413b78ae453a4e,lauber Costa <glommer@cloudius-systems.com>, 2013-12-05 13:15:59 +0400, , linux add priority stub cassandra crashing invocation really understand running find setpriority getpriority symbol since priority implemented scheduler implement equivalent function linux getpriority setpriority ignore non thread entity possibly forever signed glauber costa glommer cloudius systems.com look gooded nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4835,a5a3aedc8ff13229f208262b907f33581ba15119,lauber Costa <glommer@cloudius-systems.com>, 2013-12-05 13:15:58 +0400, , sched add function find thread given signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4836,54a0beff875ef49b173d860060b0be2dbf72a62e,lauber Costa <glommer@cloudius-systems.com>, 2013-12-05 13:15:57 +0400, , sched change thread list unordered map list slow search element many thread even normal load number thread span may classified huge tiny either change map implement function operate given thread without much overhead common case note ideally would use unordered_set require extra key however would also mean key implicit set type key_type thread lightweight create search purpose key approach signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4837,9bd939f8054e099219beea0f9ad2c1a4edc979a5,lauber Costa <glommer@cloudius-systems.com>, 2013-12-05 12:44:47 +0400, , sched remove on_thread_stack user tree signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4838,edd7e2a42a42789824bc3414d16e92ff4b5a1a8c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-04 16:40:20 +0100, , add image configuration cassandra allows build runnable image like make image cassandra signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4839,cf190da3f8781dab6ca95bc5b28502f3b600ef61,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-04 15:56:00 +0100, , add image configuration tomcat appliance change build tomcat image like make image tomcat run like script run.py osv apps repo yet linked submodule need edit config.json specify location tomcat module like  module mgmt ...  tomcat type direct dir path home src osv apps tomcat    signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4840,fbb54062290feef707fc792fc48f4f86d08bdd02,enoÃ®t Canet <benoit@irqsave.net>, 2013-12-04 22:08:15 +0100, , core make osv run return shared pointer null store loader.cc restore original behavior osv run place mkfs.so cpiod.so split committed day ago signed benoit canet benoit irqsave.net reviewed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4841,db28809b56138e83dd9f9669bbc41b26fbad65fe,sias He <asias@cloudius-systems.com>, 2013-12-05 10:47:40 +0800, , virtio blk switch add tracepoint switch existing printout based debug info tracepoint add new tracepoint signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4842,a9b3e1c34a5b07085d8c1ff66ba1910b3cb6b362,adav Har'El <nyh@cloudius-systems.com>, 2013-12-05 00:02:29 +0200, , fix error __vsnprintf_chk __vsnprintf_chk passed wrong length argument vsnprintf call aware specific bug solves found error auditing _chk function figure rogue work compiled  signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4843,8a48cb55a08ee231a0316f77c2e87a8a91e13bba,lauber Costa <glommer@cloudius-systems.com>, 2013-12-05 01:54:35 +0400,110, apic fix allbutself delivery mode apic code wrong wrong even produce incorrect result x2apic fine xapic using xapic ipi interrupt problem costumary place vector inverted case allbutself delivery mode therefore sending ipis god know processor sure result would spin waiting irq acks would never arrive could invert reorganize parameter comment decided lot clearer open code also need set icr2 allbutself destination already embedded firing mode one issue nmi copied also wrong reason fixed test case fix 110 signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4844,587063a83ce5db4b3e02252177473ad2046a280b,lauber Costa <glommer@cloudius-systems.com>, 2013-12-05 00:33:14 +0400, , xen use bsrq instead bsrl event channel patch fix amazon crash many cpu funny enough actually related number cpu situation port number allocated event channel quite high really know reason maybe hypervisor reserve small bit cpu related thing ... cpu bit shift rightwards eventually reach second long word event channel quadword operating brsl reach long word bit instance interpreted bit bit registered handler turn nullptr access cheer dima debugging heavy lifting hang issue still present fix 109 signed glauber costa glommer cloudius systems.com signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
4845,2f4b8777236d2775f404c824174b366d255f582e,adav Har'El <nyh@cloudius-systems.com>, 2013-12-04 22:30:52 +0200, , add missing _chk function source code compiled linux various function sometimes replaced _chk variant e.g. __strcpy_chk help avoid buffer overflow compiler know buffer size compilation want run source compiled linux either deliberately unintentionally see issue 111 need implement function otherwise program crash missing symbol already implement bunch _chk function definitely missing patch implement _chk function needed run rogue program mentioned issue 111 compiled  following philosophy existing _chk function aim either ultimate performance iron clad security implementation function becomes important revisit _chk function compiled rogue still work missing symbol fails reading terminfo file yet unknown reason patch issue sent separately signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4846,43e77bbbe4772bf145375eecc3490a032b815cb2,an Schatzberg <schatzberg.dan@gmail.com>, 2013-12-04 14:05:08 -0500, , x64 fix rare smp deadlock acquiring stack smp bringup code linked list stack aps brought concurrently acquire stack compare swap smp_stack_free current code work long compare swap succeeds fails smp_stack_free must read otherwise deadlocked patch fix current code enforcing read cmpxchg failure reviewed glauber costa glommer cloudius systems.com signed dan schatzberg schatzberg.dan gmail.com signed pekka enberg penberg cloudius systems.com,,
4847,cd987b5020ec61dca026eb0e9eac0f4a6d02e2db,vi Kivity <avi@cloudius-systems.com>, 2013-12-04 17:27:02 +0200, , virtio rng drop excessive producer consumer serialization need hold lock waiting host refill entropy buffer drop signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4848,b641f57204b92cdf36718d3e3a6aaf254d2eb551,vi Kivity <avi@cloudius-systems.com>, 2013-12-04 17:27:01 +0200, , virtio rng fix incorrect use valarray std valarray doe guarantee element allocated contiguously form guaranteed point first element rest switch std vector contiguity guaranteed signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4849,73bac4923f8f26ae3c719133c640c98d57f10713,vi Kivity <avi@cloudius-systems.com>, 2013-12-04 17:27:00 +0200, , virtio rng fix excessive serialization multiple consumer suppose thread try acquire byte entropy empty pool serialize mutex waiting pool refill however pool eventually refilled one consumer awakened rest continue sleeping even though entropy available pool eventually awakened worker refill pool unneeded latency fix using wake_all wake consumer signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4850,df4bb086e350a24483a273dd012172d87e1c71ec,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-04 15:42:57 +0200, , virtio rng remove blocking dev urandom bad idea claim support dev urandom rely rng starting cassandra example take age drop secure prng osv used implement dev urandom properly signed pekka enberg penberg cloudius systems.com signed avi kivity avi cloudius systems.com,,
4851,9e84c8983e46c1a7793f7a0e59412489e4eff39b,vi Kivity <avi@cloudius-systems.com>, 2013-12-04 13:09:01 +0200, , merge branch file convert file f_ops fileops file vtable reviewed pekka enberg penberg cloudius systems.com signed avi kivity avi cloudius systems.com,,
4852,c0daa41a2d2217fcc2f7087be665fc53bceee1bd,vi Kivity <avi@cloudius-systems.com>, 2013-12-04 12:54:24 +0200, , external update openjdk 1.7.0.60 2.4.3.0.fc19 signed avi kivity avi cloudius systems.com,,
4853,c67f9ebf055c62392a422f093b1ffe778790203c,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 19:04:36 +0200, , file remove fileops everyone overriding file virtual function make pure virtual remove fileops completely signed avi kivity avi cloudius systems.com,,
4854,577414460d0aecd7650b5becda5656a4fd9fb74e,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 18:59:02 +0200, , file remove badfileops unused signed avi kivity avi cloudius systems.com,,
4855,356d69099f3a43ff1cee3a45b861bf4a6f8614c8,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 18:56:56 +0200, , file remove unused make_file implementation everyone switched nifty variadic type signed avi kivity avi cloudius systems.com,,
4856,b086d996f558adfc52c28ae96b5d1147d4980a66,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 18:35:31 +0200, , vfs convert vfs file derived class file signed avi kivity avi cloudius systems.com,,
4857,008d5245ef29bb8c34fb1927d431ffe53fbf6a76,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 18:18:52 +0200, , epoll convert derived class file signed avi kivity avi cloudius systems.com,,
4858,d40418a7447d74b6a4a78926abc7401f5393088c,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 17:55:59 +0200, , af_local convert derive class file signed avi kivity avi cloudius systems.com,,
4859,0343c154b59947daf74cf79b60ffb070134b1e98,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 17:18:15 +0200, , pipe make derived class file signed avi kivity avi cloudius systems.com,,
4860,65ccda4c7b15909e7a9f2d6278dc309b76f50e65,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 16:59:56 +0200, , net use file derived class socket socket_file signed avi kivity avi cloudius systems.com,,
4861,ee0cb841d1feaa67fa5a7ed1e5f62343e85c86a4,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 16:36:24 +0200, , convert signed avi kivity avi cloudius systems.com,,
4862,9e73f02ce51cb9bf019689b542a3482cd88dd83c,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 15:18:58 +0200, , sys_socket.c convert signed avi kivity avi cloudius systems.com,,
4863,6338e1d303208ab837680bffff5178b41c943f8b,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 15:53:12 +0200, , initialize add way initialize array similar c99 designated initializers useful conversion signed avi kivity avi cloudius systems.com,,
4864,d102880f102f21e4079cc05ed1eea2fb6d187eaf,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 15:15:37 +0200, , console make derived class file signed avi kivity avi cloudius systems.com,,
4865,4eee51238b10190c4a0be8e88a36ec5be234f6b0,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 15:14:00 +0200, , file make opaque optional everyone want signed avi kivity avi cloudius systems.com,,
4866,ff6fa58e5f74734a1cdaef45b26bf397f053ddb7,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 15:11:39 +0200, , file make fo_init optional derived file object initialized class constructor need fo_init signed avi kivity avi cloudius systems.com,,
4867,4bb5ad281bc793428b9bd19483918812d2e64d66,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 16:57:50 +0200, , file close outside destructor file file called virtual function longer dispatch derived type since destroyed base type uninteresting move call close destructor fdrop signed avi kivity avi cloudius systems.com,,
4868,1e1f530978bc30f67cec2790892dd6f7ac46a306,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-04 09:42:45 +0100, , add empty image config signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4869,ef3b7ffe1ecf58484a35e9a39c527536451edb8c,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-04 09:42:44 +0100, , module use osv_base variable manifest mgmt temporary measure module definition moved mgmt repo signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4870,e4728e1e99d439bb608a2a9d974cd6806e30f180,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-04 09:42:43 +0100, , module add support resolving variable manifest rule manifest contain path file system image built currently manifest assumed module downloaded copied build module cwd inside build always case direct dir module type copied example use usr module_dir patch add module_dir variable replaced path module local file system depending module type either direct path path inside build module signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4871,ccc51b6f6f607f66b0c6dbb9b6026c6ae0186264,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-04 09:42:42 +0100, , module add support run configuration description problem currently module specify file need copied need module also declare way run automatically prepare runnable image easy switch run configuration currently enough image configuration happen time image make process future allowed already built image also need able combine multiple module one image example addition main application one might want start various service like cli management api server etc java apps able specify jvm argument must passed jvm upon creation well regular run java argument classpath main class main argument etc solution intended permanent solution aim solve immediate need fully modularized build scalable way every module new kind file root directory hold configuration file named module.py python script osv api declaring run configuration using python config language several advantage expresiveness unlike json allows expression reuse easier extend config language need much parsing gluing error checking error reporting code already currently two kind application declared run cmdline basic .so application run_java jvm_args classpath args java application run configuration declared simple module attribute referenced image configuration file image configuration new configuration file kind defines module run configuration included image file located using path osv_base image image name .py syntax require module declares module included image return object allows access module attribute run list run configuration example _mgmt require mgmt run _mgmt.shell use particular image configuration run make like make image fancy tomcat default configuration named default patch extract mgmt module embedded osv_base module mgmt purpose osv_base config.json changed doe list module included anymore image config file doe module look configuration tell build look module signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4872,c794324cd0e37f480b51164797be4ee7974a7432,sias He <asias@cloudius-systems.com>, 2013-12-04 09:02:32 +0800, , add .swp file gitignore temporary file vim ignored signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4873,8197a553382ecb5bbca2e23e3cf3c59e5a83af0a,sias He <asias@cloudius-systems.com>, 2013-12-04 10:21:53 +0800, , build.mk rename usr.raw bare.raw intermediate bare.img rename usr.raw bare.raw make naming consistent bare.raw bare.img usr.img signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4874,c4fb37c35b0ae78b92bd4e4bf785bceb4895aa58,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-12-03 17:50:00 -0200, , mmu simplify mmu map_file interface besides simplifying mmu map_file interface let make similar mmu map_anon signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4875,7637377611f7689750b30c5aaa2222214d1ecc50,enoÃ®t Canet <benoit@irqsave.net>, 2013-12-03 15:55:04 +0100, , build.mk create intermediate bare.img containing formated usr allow user populate usr simple binary like haproxy config runtime intented combined loader ability run multiple binary sequential way example tool cpiod.so usr haproxy.so usr haproxy.conf signed benoit canet benoit irqsave.net signed pekka enberg penberg cloudius systems.com,,
4876,1c01c6b67913a289d48f5274b11c2945544eb19c,enoÃ®t Canet <benoit@irqsave.net>, 2013-12-03 15:55:03 +0100, , mkfs.so split mkfs.so mkfs.so cpiod.so pave way creation bare image user populate using cpiod need signed benoit canet benoit irqsave.net signed pekka enberg penberg cloudius systems.com,,
4877,3352489dcd7f0d8b6d1efeb2256d70e6960cf58a,enoÃ®t Canet <benoit@irqsave.net>, 2013-12-03 15:55:02 +0100, , loader allow execute multiple .so file sequential order end parameter mark end program argument list goal patch able split mkfs.so part mkfs.so cpiod.so patch full spirit parser escape split command around signed benoit canet benoit irqsave.net signed pekka enberg penberg cloudius systems.com,,
4878,d6dfe96d5110a673702db16dead149b38290041c,lauber Costa <glommer@cloudius-systems.com>, 2013-12-03 20:02:06 +0400, , x64 use inline assembly setcsr function least one report system __mm_setcsr function using found since heavily arch specific anyway use inline assembly generated code verified 33c6e7 movl 0x1f80 0x20 rbp 33c6ee ldmxcsr 0x20 rbp signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4879,c58c79d68228e260d27a129d5964b651f0d1a319,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-12-03 14:05:50 -0200, , test add new test tst mmap file.so main purpose exercise new parameter check added mmap handle wrong combination parameter let intentionally force error catch respective errno code signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4880,25806da3f989d5b92c252d29486e786f75753d34,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-12-03 14:05:49 -0200, , mmap check file backed mmap argument flag map_anonymous must instead determine mapping type latter one valid argument file mapping test related file added signed raphael carvalho raphaelsc cloudius systems.com penberg cleanup signed pekka enberg penberg cloudius systems.com,,
4881,761a501483e8832bae666ce26d59545f029e2d2e,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-12-03 14:05:48 -0200, , mmap improve mmap validation rename mmap_validate related flag add new test check bad paramater value signed raphael carvalho raphaelsc cloudius systems.com penberg cleanup signed pekka enberg penberg cloudius systems.com,,
4882,b365e31440eb2df0a92c0220f3c9b86d95365928,leb Natapov <gleb@cloudius-systems.com>, 2013-12-03 12:46:56 +0200, , trace infer storage runtime args assign signature storage runtime argument tracepoint inferred assign function signature instead specified explicitly storage_args runtime_args make boilerplate code smaller signed gleb natapov gleb cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4883,cc1e31d103c5c5a00b696f30286c97287ce58f18,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 15:02:41 +0200, , file add virtual function corresponding f_ops default dispatch directly corresponding member f_ops overridden fo_ function redirected dispatch via virtual function signed avi kivity avi cloudius systems.com,,
4884,e4552a8b179e664446f8c480624ca00b0cec8dcb,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 14:45:16 +0200, , file generalize make_file able create derived type signed avi kivity avi cloudius systems.com,,
4885,369edd8135dbc7fc667c739e9a8d80af08e1195a,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-03 10:44:14 +0200, , loader unmount rootfs poweroff make sure zfs intention log flushed disk unmounting rootfs poweroff fix 108 signed pekka enberg penberg cloudius systems.com,,
4886,5312c368641223802bf4f4505cab06d2aaeaa045,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-03 11:28:13 +0200, , vfs fix sys_pivot_root make sure new root vnode evicted vflush keep reference old root dentry m_covered fix negative dentry count pivoted root unmounted signed pekka enberg penberg cloudius systems.com,,
4887,66658a6b021ce297ffb4925ccfd6585cd80421a7,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-03 10:53:23 +0200, , vfs mnt_force unmount add sys_umount2 implement support mnt_force used force rootfs unmount poweroff signed pekka enberg penberg cloudius systems.com,,
4888,3cc8263188cd59418e9b81e885892c1b226ff98f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-03 14:12:20 +0100, , test.py extend failure pattern temporary fix really feel need failure detection based exit code signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4889,6bad4121d781e427c6983ef81dda6ca28c13119e,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-29 14:14:45 +0200, , test.py stop test execution error add error scanning test.py based known pattern stdout stderr stop test execution error make broken test case stand  example output look follows pas link return enoent source path doe exists pas create file pas close file pas create hard link pas link return eexist destination path exists pas read content another link pas stat file pas hard link count increased pas stat hard link pas stat device match pas stat inode number match pas remove hard link pas stat file fail hard link count decreased pas remove file summary test failure powering test test tst link.so failed make check error signed pekka enberg penberg cloudius systems.com,,
4890,af5d4fc89d5da56faab45d99f15693392c36b91a,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 14:13:45 +0200, , file allow make_file create file type derived file pave way moving f_ops vtable signed avi kivity avi cloudius systems.com,,
4891,54f41759095318f5657793167f920d36b83a618d,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 14:08:11 +0200, , file convert finit file constructor signed avi kivity avi cloudius systems.com,,
4892,5c44cf81b9c3ca636989acbe77e627e9e676fe30,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 14:02:06 +0200, , file fold make_file simpler signed avi kivity avi cloudius systems.com,,
4893,31c32930291c23dd00f5910e607a3aa30a8582a6,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 13:59:59 +0200, , file fix error case new file return nullptr throw well except osv new always succeeds replace new nothrow get expected behaviour signed avi kivity avi cloudius systems.com,,
4894,c1f855d6d2cde79885a140d85161b23da644689d,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 13:22:07 +0200, , file move initialization finit called time make responsible purely allocation signed avi kivity avi cloudius systems.com,,
4895,cabd6f1e3059c66231102974397929b86f0f5c7d,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 13:02:19 +0200, , file initialize memset going vtable memset kill instead add initializers member already initialized make_file signed avi kivity avi cloudius systems.com,,
4896,69daf614cca58e7caa2eac9d6af2c3ad047127c9,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 12:49:55 +0200, , file drop file_makebad caller soo_close called context file reference remain file api call made remove signed avi kivity avi cloudius systems.com,,
4897,adc3da8e8b995aebb8eea201dd25868f5a1f612c,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 12:25:46 +0200, , file drop public declaration finit subsumed make_file signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4898,c5459392cbfef7adb17fccd9d0d96d4e095fa633,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 12:25:45 +0200, , pipe convert make_file signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4899,247cb9f4d9b77d9549d24352c94c96bb3899114e,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 12:25:44 +0200, , af_local convert make_file signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4900,e340acf26707d6497230d6855d7a72556ef47c82,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 12:25:43 +0200, , sys_open convert make_file signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4901,035b2bf5d8d542e01891127d1a6143cdad62bbe9,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 12:25:42 +0200, , console convert make_file signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4902,a4adc4f996fb9b2457f86d4339346dbbe594a21c,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 12:25:41 +0200, , epoll convert make_file signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4903,4f54cf51ebb63d5f4ae961536764b56ccb83a391,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 12:25:40 +0200, , net switch kern_socketpair make_file signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4904,f46e4e690023487fcdc43bfeb1c803d87a663047,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 12:25:39 +0200, , net switch kern_accept make_file signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4905,dd04f4d5029c64f9c95c52caf65fa711bb45baae,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 12:25:38 +0200, , net switch sys_socket make_file signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4906,b437285431f91610a4cbe40c2404a19dbf95c39d,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 12:25:37 +0200, , file add variant make_file unique_ptr opaques make easy avoid losing signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4907,ebe3d4d5f56245c92c90f2641b77ed2be129b299,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 12:25:36 +0200, , file add make_file api combine finit always used together signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4908,0fc8d65755742059d3323548b199cd8b415f2ccc,vi Kivity <avi@cloudius-systems.com>, 2013-12-03 11:16:17 +0200, , merge branch file falloc inherently racy make visible via file structure initialized remove falloc signed avi kivity avi cloudius systems.com,,
4909,3b6eef191696aace5ba0a1f27f3e719f713e28b4,vi Kivity <avi@cloudius-systems.com>, 2013-12-02 18:36:35 +0200, , vfs drop falloc falloc inherently racy installs uninitialized file descriptor user accessible also hard use correctly error occurs luckily use anywhere remove signed avi kivity avi cloudius systems.com,,
4910,8121d044462cd0e9f207b6d055ac35dd5949e05c,vi Kivity <avi@cloudius-systems.com>, 2013-12-02 18:03:19 +0200, , net avoid falloc kern_socketpair falloc racy since installs uninitialized file accessible use fdalloc instead also fix leak error signed avi kivity avi cloudius systems.com,,
4911,7384e1a40748235ce935c83fd4f076f4110ee449,vi Kivity <avi@cloudius-systems.com>, 2013-12-02 18:03:19 +0200, , net avoid falloc kern_accept falloc racy since installs uninitialized file accessible use fdalloc instead also fix leak error signed avi kivity avi cloudius systems.com,,
4912,0864db992442d3b91397ba5b138afad181e520a0,vi Kivity <avi@cloudius-systems.com>, 2013-12-02 18:03:19 +0200, , net avoid falloc sys_close falloc racy since installs uninitialized file accessible convert sys_close avoid race also fix leak case error signed avi kivity avi cloudius systems.com,,
4913,7de6f676606f6977da138e2d22d4750ba62b2d00,vi Kivity <avi@cloudius-systems.com>, 2013-12-02 11:37:28 +0200, , fdesc make little efficient copying filerefs expensive since reference count incremented avoid signed avi kivity avi cloudius systems.com,,
4914,6d6a1ea369bd2eb3346e8046d36984ef440b0d84,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-12-02 10:46:23 -0200, , mmap fail flag contain map_shared map_private currently check neither map_private map_shared passed mmap however called flag einval returned signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4915,3dc111c4917dd51a0539023dc41f4e190c3d3849,sias He <asias@cloudius-systems.com>, 2013-12-03 15:57:49 +0800, , zfs remove unused zfs_freebsd_xxx zfs_vnodeops signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4916,4c2e3d1adf928de56acb09feed5d1911f7ec32a4,ekka Enberg <penberg@cloudius-systems.com>, 2013-12-03 09:42:30 +0200, , update latest mgmt.git admin link fixed crash 1.3.0 beta11 signed pekka enberg penberg cloudius systems.com,,
4917,b46855c9209deb30654b359ff49bf676ce5de028,r Cohen <orc@fewbytes.com>, 2013-12-02 17:41:20 +0200, , use interrupt flag jline stty mode use isig flag stty call jline order translate int isig added add interrupt quit key d729262 related issue reviewed tomasz grabiec tgrabiec gmail.com signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
4918,660471e8a75df1905b2ca3f429ff6d6bfb9807cd,sias He <asias@cloudius-systems.com>, 2013-12-03 14:49:36 +0800, , remove execute mode file directory signed asia asia cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4919,d2e3b47bb034899a166b82c22bce134f45198fff,vi Kivity <avi@cloudius-systems.com>, 2013-12-02 11:34:37 +0200, , uipc_syscalls.c convert signed avi kivity avi cloudius systems.com,,
4920,153f6513f13ff9e49cf98ca81ad9ec46e1747671,vi Kivity <avi@cloudius-systems.com>, 2013-12-02 10:34:03 +0200, , file make sys_open allocate file structure currently sys_open receives uninitialized file structure caller awkward caller must handle opening file two step also fit well notion object always fully initialized valid fix making sys_open allocate return file structure also fix window open would point uninitialized file fdalloc sys_open signed avi kivity avi cloudius systems.com,,
4921,261056e79e252f77a562c1ca6841411531cedac2,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-11-28 10:10:53 +0100, , add java.security property image without secure random generator use dev random source lead slow startup tomcat signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4922,5eb1522d7534b8b1f062b31fc82a165812bb189e,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-27 21:13:54 +0200, , test tst random.so add simple test case dev random read file print random byte signed pekka enberg penberg cloudius systems.com,,
4923,fd1be6620a62a406030152c39dc4bb24d0c8f5ab,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-27 21:13:54 +0200, , virtio add virtio rng driver add virtio rng driver osv implementation simple start thread keep byte entropy cached internal buffer entropy gathered host virtio rng create device node dev random dev urandom use virtio_rng_read hook use entropy buffer virtio_rng_read exhaust buffer wake thread wait entropy appear eventually move device node creation separate driver random.c multiplex different hardware rng implementation however support virtio rng leaving whomever implement support next rng signed pekka enberg penberg cloudius systems.com,,
4924,5dfaac26b27e558fef822254d91605ecdc69e452,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-28 14:21:25 +0200, , virtio fix device init msi support virtio device support msi fix device initialization writing register pci device doe advertise msi support needed initialize virtio rng device running kvm qemu signed pekka enberg penberg cloudius systems.com,,
4925,765c9afcfa162e2bde7bce38039d0a4d81c5e0bc,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-28 17:13:36 +0200, , devfs device_destroy api enable device_destroy api virtio rng driver signed pekka enberg penberg cloudius systems.com,,
4926,989cf8abb42a6cb745b61d72e14ac243b6910355,adav Har'El <nyh@cloudius-systems.com>, 2013-11-26 12:02:29 +0200, , add license fastlog2.txt add license file bsd license fastlog2 function used new scheduler quick approximate logf http code.google.com fastapprox signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4927,082ff373f1d0074707213afd5990a0b18ff393b7,adav Har'El <nyh@cloudius-systems.com>, 2013-12-01 19:22:36 +0200, , fix crash malformed command line patch osv crash continuously reboots given unknown command line paramters e.g. script run.py help patch say expected option recognized display list known option unrecognised option osv option help show help text trace arg tracepoints enable trace backtrace log backtraces tracepoint log leak start leak detector boot nomount mount file system noshutdown continue running main return env arg set unix like environment variable putenv cwd arg set current working directory aborted problem parse command line option used boost throw exception unrecognized option seen need catch exception show message accordingly patch exception work correctly stage boot process exception use elf program set later patch move setup elf program object earlier boot beginning main_cont able use exception throughout main_cont command line parsing patch also remove unused filesystem paramter elf program rather move initializion empty object well fix 103 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4928,f1e6ba497df4a3d130dfcd65a074503b2b545e75,vi Kivity <avi@cloudius-systems.com>, 2013-12-01 20:49:47 +0200, , file make type signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4929,c75c29850f8ea728b71d1cfb534504aaa84e93c3,vi Kivity <avi@cloudius-systems.com>, 2013-12-01 20:49:46 +0200, , file add helper accessing field needed conversion signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4930,d05d900afd14754883dc2b7533acd6d151c7c54b,vi Kivity <avi@cloudius-systems.com>, 2013-12-01 20:49:45 +0200, , socketpair fix wierd initialization socketpair store temporary data field going copied  use local instead signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4931,11540a674fb49aa541884aef12e3c6d09cc8d3a1,vi Kivity <avi@cloudius-systems.com>, 2013-12-01 20:49:44 +0200, , file move file operation line preparation making file type signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4932,f64165466ba45102280a56f5724f1c9d1c2bc1c8,vi Kivity <avi@cloudius-systems.com>, 2013-12-01 20:49:43 +0200, , devfs_vnops convert signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4933,0dec2e850d10a996f4e8f531f4fa14e4421e899b,vi Kivity <avi@cloudius-systems.com>, 2013-12-01 20:49:42 +0200, , ramfs_vnops convert signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4934,7473714ea4ade4943e2e89cd35b51f34ff2852fd,vi Kivity <avi@cloudius-systems.com>, 2013-12-01 20:49:41 +0200, , vfs_fops.c convert signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4935,e5753f2b8488b6133fbb22253e8e8bd3824ef45c,vi Kivity <avi@cloudius-systems.com>, 2013-12-01 20:49:40 +0200, , add helper converting designated initializers unfortunately doe support designated initializers add function help fill place use example static struct netisr_handler ether_nh .nh_name ether .nh_handler ether_nh_input .nh_proto netisr_ether .nh_policy .nh_dispatch  static netisr_handler ether_nh initialize_with netisr_handler x.nh_name ether x.nh_handler ether_nh_input x.nh_proto netisr_ether x.nh_policy x.nh_dispatch  signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4936,a888f210afbf1c934ed0da58729f69b52213993b,vi Kivity <avi@cloudius-systems.com>, 2013-12-01 20:49:39 +0200, , vfs_syscalls.c convert signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4937,7226ac11cfe9d517e7b8c8e1b3bf2ff4543f7198,vi Kivity <avi@cloudius-systems.com>, 2013-12-01 20:49:38 +0200, , zfs remove fake struct file definition strange incorrect struct file definition zfs forward declaration needed remove unsafe definition signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4938,cba2f09a516ba047f8c3511174426dfa95445a65,adav Har'El <nyh@cloudius-systems.com>, 2013-12-01 18:39:22 +0200, , fix exception x86 sense handling boot boot time main set idt later smp_launch called idt actually work correctly problem use separate stack feature ist work without also setting gdt idt use init_on_cpu initialize idt stuff well fix smp_launch repeat initialization boot cpu already done signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4939,59f7e5cf15c7a926dd9381666d72b3d084124781,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-12-01 16:41:43 +0100, , module.py fix make module invocation shell command line passed one argument additional argument passed shell reported nadav signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4940,778394c31c3fc87fef9ad80eac59cc2e69b9d570,adav Har'El <nyh@cloudius-systems.com>, 2013-11-30 14:09:57 +0200, , fix hpet driver clock rollback kvm paravirtual clock available e.g. xen plain qemu used hpet clock hpet clock driver rolled back clock clock get time every second causing strange thing like scheduler assertion clock jump back problem read bit bit hpet counter mean roll back clock every tick 10ns tick seems case qemu mean second douglas adam would liked bug fixed code removed overly optimistic comment stated rollback take year added assertion hpet really bit counter intel hpet specification 2004 already specify bit counter recommended qemu xen implement bit counter deal bit counter would need write handler interrupt hpet sends every time counter wrap around signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4941,2d9fb5d23251ec0854c94649b345c4ae80ccc264,mitry Fleytman <dmitry@daynix.com>, 2013-11-29 18:07:37 +0200, , release ec2 use tput message coloring tput portable raw color specification signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
4942,d7c0330f90787422e88c95efcbc043759eeba5a0,mitry Fleytman <dmitry@daynix.com>, 2013-11-29 18:07:21 +0200,454676, release ec2 make replicated amis public bug aws engine making copied public amis invisible patch implement work around problem described http thread.jspa messageid 454676 454676 signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
4943,d9d3a7c4e9db2bbdce90f79945330d642d475abe,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-11-29 17:01:04 +0100, , add tmp entry usr.manifest line absent usr.manifest tmp index.rb mgmt web view index.rb ... tst rename.so test fails assertion failed c_str ... osv external misc.bin usr include boost filesystem path_traits.hpp dispatch 214 reason failure missing tmp supposed created unpack_bootfs later masked zfs root pivot line manifest recreated since mgmt separate module may always patch fix adding explicit entry tmp usr.manifest dev signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4944,122dc8fc39dada004d9694cdb4309b1e1da208f0,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-11-29 11:03:13 +0100, , consolidate module manifest generation patch change module.py generates manifest need split one step make also need resolve module signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4945,eca2c41b2cec00a79cb0f9316bacbb8bfb7e0a0f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-11-29 11:03:12 +0100, , module.py refactor refactoring modification semantic change item file.readlines necessary file line iterable use cwd named parameter subprocess.call instead explicit auto close using scope manager xxx yyy os.path.exists instead os.access mmod_path os.f_ok false extract path containing variable signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4946,674f064f2dc5e064ac2ca520085baf0c44a8f39c,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-28 10:29:39 +0200, , vfs make dev directory image creation time move runtime creation dev image creation avoid bogus unable create dev directory error message boot signed pekka enberg penberg cloudius systems.com,,
4947,ab64b48ed4b4e0e80e5aaf7325c5c6092ab495be,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-11-29 15:59:41 +0100, , vfs end message printed sys_panic new line look like serial console display anything new line character received look like written serial console qemu display line signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4948,1c6d8758c8f005e82af39b75ee8e81d0d972b27d,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-11-27 17:01:23 -0200, , add tst link.so whitelist test.py signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4949,324014ea8305630d07d1f0229cccd660b3d0a516,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-11-27 17:01:22 -0200, , vfs fix hard link subsequent call dentry link system call currently keep dentry cache avoiding calling drele success however right thing link creates entry reference much create currently link work subsequent call dentry would fail refcount would wrong strangely problem come time link syscall implemented something changed recently made bug manifest patch fix signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4950,ceb2cea368af6dd36f9fc78667db586480068d30,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-28 17:00:11 +0200, , virtio blk use virtio probe helper signed pekka enberg penberg cloudius systems.com,,
4951,ec1ccccb0430f79209505464f9fd9d49eacde035,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-28 16:53:48 +0200, , virtio net use virtio probe helper signed pekka enberg penberg cloudius systems.com,,
4952,d8ac7e4917437d4c4bca1e0a2e7e0f852f79aa0a,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-28 16:52:25 +0200, , virtio add virtio probe helper add new virtio probe helper function simplify virtio driver probing signed pekka enberg penberg cloudius systems.com,,
4953,0f56c7d3a71fe46f77aaedd1f4dd4048f2515eb4,adav Har'El <nyh@cloudius-systems.com>, 2013-11-28 16:04:52 +0200, , sched ignore backward jump clock due unknown bug bug hpet driver osv crashed build machine assertion clock foward clock jumping backward bad sign really necessary crash happens assuming happens rarely patch make scheduler handle time like time signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4954,6affaf77d970755af0767019ab79bc676eec4719,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-11-27 22:27:35 -0200, , zfs fix debug mode build undefined reference error show building osv debug mode mode debug bsd sys cddl contrib opensolaris common zfs zfs_vnops.o function zfs_setattr bsd sys cddl contrib opensolaris common zfs zfs_vnops.c 2529 undefined reference zfs_xvattr_set signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4955,ad46be1b8f569b511eb304f84dd826c79a364839,adav Har'El <nyh@cloudius-systems.com>, 2013-11-27 17:12:36 +0200, , fix boot time stdout support open file descriptor relatively late boot process see vfs_init vfs main.cc would like able use stdout std cout much earlier example include acpi information message help command line parameter patch early writes stdout almost work strange twist write string last newline whatever left buffered much later string end lumped together basis musl stdio write mechanism write method need write two thing whatever buffered previously new string given __stdio_write default implementation doe correctly using writev early implementation __stdout_write write new string buffered part remained buffered collecting various string part finally flushed switched correct __stdio_write patch fix __stdout_write write string expected fix 104 signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4956,d2c488b754833ec8f1e0a6dbeb7cb638aec590d1,adav Har'El <nyh@cloudius-systems.com>, 2013-11-27 17:55:24 +0200, , trivial typo core lfmutex.cc fix couple spelling mistake core lfmutex.cc signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4957,046e717ffd539e800953d0b335452a09897fcfa7,vi Kivity <avi@cloudius-systems.com>, 2013-11-27 18:00:34 +0200, , gdb add osv info virtio dump virtio driver state queue sample output gdb osv info virtio virtio virtio_net queue avail 0xbe09 0xbe09 used 0xbe09 0xbd11 248 used notification enabled queue avail 0xc951 0xc951 used 0xc951 0xc8fd used notification enabled queue avail 0x0 0x0 used 0x0 0x0 used notification enabled virtio virtio_blk queue avail 0x15f 0x15f used 0x15f 0x15f used notification enabled signed avi kivity avi cloudius systems.com,,
4958,c3f1f15c992d126f9729bda5711423539a3b6bc6,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-11-27 12:59:48 +0100, , build.mk process module one rule race usr.manifest bootfs.manifest rule call module.py script doe complex stuff wrt module preparation like fetching module file calling make etc run concurrently change fix problem moving call one rule end story refactoring follow module.py script split part one fetch module one generates manifest way dependency could made fine grained job paralellized fix issue 100 signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4959,e54778d54f030a501b513405a976e4084b20328b,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-11-27 12:59:47 +0100, , makefile use abolute path generated variable allows use variable inside build.mk regardless cwd clear cascade change also unifies submake modulemk generation reduce duplication signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4960,3f49406880958a44b8ea75aee8d6cdacc0785f72,adav Har'El <nyh@cloudius-systems.com>, 2013-11-26 16:32:34 +0200, , test small bugfix tst loadbalance add missing join tst loadbalance avoid rare crash test signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4961,a8c2fea764904bf9da4442bf821911e2a7075183,adav Har'El <nyh@cloudius-systems.com>, 2013-11-26 16:26:50 +0200, , test scheduler single cpu fairness patch add tst scheduler.cc containing test fairness scheduling several thread one cpu scheduling issue involving load balancing across multiple cpu check existing tst loadbalance test written standard compiled run linux osv compare scheduler behavior actually benchmark test succeed fail test begin several test long term fairness schduler thread different identical priority run second look much work thread got done second test work osv support float priority second part test test long term fairness scheduler thread default priority test standard run loop take run alone second thread parallel expect see thread finish exactly time second osv linux pas test flying color third part test run two different thread concurrently one thread want use available cpu loop second second thread want loop amount take millisecond sleep millisecond completing number loop iteration run alone take second fair behavior test thread get equal cpu time finish together thread run millisecond sleeping thread get run measure 32ms osv new scheduler indeed thread get almost fair share 32ms one thread finish second second 21.4 second expect total fairness runtime decay signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4962,63a99d2266eafca3c83c02bf00be04a1538589ae,vi Kivity <avi@cloudius-systems.com>, 2013-11-27 11:31:47 +0200, , tst tcp set so_reuseaddr allows longer test run signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4963,672191371f5a42b3c044823121dd3e061e81533a,vi Kivity <avi@cloudius-systems.com>, 2013-11-27 11:31:46 +0200, , net adjust so_reuseaddr match linux semantics detailed so_reuseaddr mean slightly different thing bsd linux one difference treatment socket bound address already occupied existing socket time_wait state linux allows new socket so_reuseaddr set bsd refuse adjust code match linux behaviour allows multiple connection test pas likely required network intensive application http question 14388706 socket option reuseaddr reuseport differ mean signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4964,8cf576ca04236200d5db419f7570430512336978,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-27 11:57:57 +0200, , test.py add tst pipe.so signed pekka enberg penberg cloudius systems.com,,
4965,41efdc1cb8b19216d98fc0baf38e5312fd3c27d9,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-27 11:03:50 +0200, , pthread populate mmap stack page nadav har report tst pipe.so start hang time commit c1d5fcc mmu anonymous memory demand paging tracing page fault point pthread stack demand faulted avi kivity explains logical bug design user code run mmap stack call kernel code tolerate page fault interrupt disabled preemption disabled already page fault path whatever possible solution insert thunk code user kernel code switch stack known resident stack could abuse elf linker code run time use fsplit stack allow dynamically allocated discontiguous stack physical memory use map_populate live memory wastage switch map_populate stop gap measure osv kernel code able deal page fault signed pekka enberg penberg cloudius systems.com,,
4966,54ad72e4ddb3a2a2f771e3e904376559eeded14f,adav Har'El <nyh@cloudius-systems.com>, 2013-11-26 14:55:49 +0200, , gdb fix printout runtime fix printout runtime osv info thread osv runqueue debugger command fit new scheduler different variable name float integer signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4967,03aaf6b8b7bb9fe4a4dd2f255914240181801e07,adav Har'El <nyh@cloudius-systems.com>, 2013-11-26 17:46:10 +0200, , reduce number unnecessary section executable patch resolve issue 26. see objdump build release loader.elf executable thousand separate section really merged already started arch x64 loader.ld complete work patch merges section one .data.rel.ro section one merge left section instead 1000 default linker script run verbose see also doe similar merges reason reducing number elf section come name header etc patch also reduces size loader stripped.elf 140k fix signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4968,3f518a9b5aa3dde7abd9ec3393892da32e303a4f,vi Kivity <avi@cloudius-systems.com>, 2013-11-26 14:53:19 +0200, , build add missing tst strerror.so test list signed avi kivity avi cloudius systems.com,,
4969,8966897775c620f7d356448214d8ce5d34a5eabb,adav Har'El <nyh@cloudius-systems.com>, 2013-11-26 12:48:54 +0200, , overhaul debugging section readme debugging section readme.md misleading suggested one need build mode debug debug usually disabling preemption good idea debugging change drop preempt suggestion make mode debug option recommendation also link debugging osv wiki page much informative includes important information still missing readme line one need add .gdbinit handle multiple vcpus signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4970,1242b2099d52e4fdf397915ec6a31ad854e37418,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-26 13:48:00 +0200, , test.py add tst strerror_r.so signed pekka enberg penberg cloudius systems.com,,
4971,052d1b461f0324c179dc96d383c2593c9e6b451e,vi Kivity <avi@cloudius-systems.com>, 2013-11-26 13:20:57 +0200, , test add strerror_r test signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4972,d2a06d343b2047c995e16acd28b8e6c02e242f65,vi Kivity <avi@cloudius-systems.com>, 2013-11-26 13:20:56 +0200, , test add test strerror_r signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4973,7053ac3ac021bf5e1508e1e6a68fa1dc7da13525,vi Kivity <avi@cloudius-systems.com>, 2013-11-26 13:20:55 +0200, , libc implement gnu variant strerror_r previously posix variant implement gnu variant well update header point correct function based dialect selected posix variant renamed conform abi standard fix call strerror_r binary compiled _gnu_source preserve correct behaviour bsd derived source signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4974,3e1e86c43dab8fc98e4ca57be995d430d225d4b5,vi Kivity <avi@cloudius-systems.com>, 2013-11-26 13:20:54 +0200, , build source dialect control function strerror_r defined differently based source dialect need provide dialect since mixed source add source dialect macro defaulting _gnu_source override appropriate signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4975,6f82581616143820ff7953c3c72bce2ab0d794d6,adav Har'El <nyh@cloudius-systems.com>, 2013-11-26 11:41:28 +0200, , sched doxygen documentation bit scheduler started adding doxygen documentation scheduler currently set_priority priority documented signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4976,dbc0d5073cdfa0d7591e0ef6300f51201a8d6afa,adav Har'El <nyh@cloudius-systems.com>, 2013-11-26 11:39:18 +0200, , sched new scheduler algorithm patch replaces algorithm scheduler keep track thread runtime choose thread run next long previous algorithm used raw cumulative runtime thread runtime measure comparing number directly impossible e.g. thread slept hour get hour uninterrupted cpu time resulted hodgepodge heuristic modified fixed runtime heuristic work quite well test case forced add unjustified heuristic constant fix scheduling bug discovered existing scheduler especially problematic thread migration moving thread one cpu another runtime measure one cpu meaningless another bug corrected e.g. patch sent month ago cause crucial thread acquire exceedingly high runtimes mistake resulted tst loadbalance test using one cpu two cpu guest new scheduling algorithm follows much rigorous design proposed avi kivity http docs.google.com document 1w7kcxoxp edit usp sharing make long story short read document want detail new algorithm based runtime measure running decaying average thread running time decaying average sense thread act running sleeping recent history given weight behavior long time ago measure tell runnable thread run next one lowest using highschool level mathematics calculate long run thread preempted next one carry meaning cpu cpu migration becomes trivial actual implementation normalized version called rtt code also explained detail document rtt allows updating running thread runtime thread runtime time pass making whole calculation much tractable benefit new scheduler code existing one rigourous design fewer unjustified heuristic thread runtime measurement correctly survives migration different cpu unlike existing code sometimes botch leading thread hanging particular tst loadbalance give good result intermittent thread test unlike previous code run caused one cpu completely wasted load balancing thread hung new algorithm look much longer runtime history previous algorithm default tau 200ms one cpu intermittent thread test tst scheduler provides good fairness sleep duration 1ms 32ms previous algorithm never fair test new algorithm deterministic use timer thyst 2_ms 500 timer second resulting varied performance high context switch benchmark like tst ctxsw scheduler doe well fairness test tst scheduler fairly well tst loadbalance even better performance second test require additional patch idle thread wake cpu load balanacing thread expected new scheduler somewhat slower existing one relatively complex calculation instead trivial integer operation thanks using approximation possible various optimization difference relatively small laptop tst ctxsw.so measure context switch time actually also including time use mutex condvar test cause context switching colocated test measured 355 old scheduler 382 new scheduler meaning new scheduler add 27ns overhead every context switch see penalty minor consider tst ctxsw extreme example million context switch second even slows workload signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4977,e1722351d9d4f6e84723a94c3cab262ac996be50,adav Har'El <nyh@cloudius-systems.com>, 2013-11-26 11:37:07 +0200, , sched need yield parameter schedule schedule cpu schedule function yield parameter parameter inconsistently used clear specific place called true false moreover always ignored patch remove parameter schedule really want yield call yield schedule signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4978,da583f27bc3b2ccde39209f23b84b939213bf780,adav Har'El <nyh@cloudius-systems.com>, 2013-11-26 11:34:57 +0200, , sched use schedule yield idle thread idle thread cpu idle wait thread become runnable let run used yield cpu calling yield early osv history idle priority simply calling schedule would guarantee new thread idle thread run actually idle priority run queue empty sure calling schedule run another thread idle thread patch call schedule simpler faster reliable yield signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4979,e60ebaf315862e8b8d5d0f2110abf212015bd070,adav Har'El <nyh@cloudius-systems.com>, 2013-11-26 11:32:47 +0200, , sched change runtime queued thread scheduler change runtime current thread assumes current thread runqueue runqueue sorted runtime modifying runtime thread already runqueue ruin sorted tree invariant unfortunately existing code broke assumption two place wake current thread i.e. thread prepared wait woken could sleep current thread queued need instead simply return thread running state yield queued current thread rather need change runtime decide queue thread patch fix first problem second problem solved yield rewrite part new scheduler later patch way fix problem also sure strange thread current scheduler always true picked run queue could never current thread current thread run queue signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
4980,64d97a066fcc90fe73b3ee793837c3b32b7ee1f4,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-26 10:28:18 +0200, , test.py add utimes.so signed pekka enberg penberg cloudius systems.com,,
4981,2570b30ca595da744aaf2b18b64eb057a6c5e984,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-11-25 19:42:15 -0200, , test add tst utimes let convert everything std chrono timepoint avi kivity use to_timeptr approach suggested nadav har test check functionality utimes support signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4982,832bba6e07398ea515592270a3b903810d9e950e,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-11-25 19:42:14 -0200,93, vfs add utimes system call check limit microsecond among minor change nadav har avi kivity get rid goto label adding else clause nadav har patch add utimes support patch address issue signed raphael carvalho raphaelsc cloudius systems.com tested tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
4983,1519d3d1a474b204e1b287ec9822868c8cd9f8a9,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-11-25 19:42:13 -0200, , vfs unify attribute flag common place attribute flag moved bsd sys cddl compat opensolaris sys vnode.h include osv vnode_attr.h bsd sys cddl compat opensolaris sys vnode.h includes include osv vnode_attr.h exactly place flag previously located vfs vfs.h includes include osv vnode_attr.h function rely setattr feature must specify flag respective attr field going changed approach sugested nadav har signed raphael carvalho raphaelsc cloudius systems.com tested tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
4984,fe3c7df07d09b6d6bbb6aacf73b213e209e4afd1,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-11-25 19:42:12 -0200, , devfs ramfs change vop_null vop_eperm use vop_eperm instead warn caller lack support glauber costa signed raphael carvalho raphaelsc cloudius systems.com tested tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
4985,3854b9db23e996091292092e2a839992e4054dee,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-11-25 19:42:11 -0200, , zfs wire vop_setattr signed raphael carvalho raphaelsc cloudius systems.com tested tomasz grabiec tgrabiec gmail.com signed pekka enberg penberg cloudius systems.com,,
4986,8add1b91854143c0b365dfb49de937e132bf9596,adav Har'El <nyh@cloudius-systems.com>, 2013-11-25 15:21:13 +0200, , warn incorrect use percpu percpu patch cause incorrect usage percpu percpu cause compilation error instead silent runtime corruption thanks dmitry first noticing issue xen_intr.cc see separate patch avi suggesting compile time fix patch using percpu ... define per cpu variable fails compilation instead percpu ... must used definition important place variable .percpu section declaration needed additionally e.g. static class member percpu ... must used percpu trying use percpu declaration cause compilation error percpu work statically constructed object global variable static function variable static class member trying use dynamically constructed object stack variable class field operator new cause compilation error patch bug xen_intr.cc would caught compile time signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4987,63d2e472a370dfb73e25eeb472f764356f7d0e59,mitry Fleytman <dmitry@daynix.com>, 2013-11-26 10:27:29 +0200, , xen move per cpu interrupt thread .percpu section bug fixed patch made osv crash xen boot problem started show commit commit author nadav har nyh cloudius systems.com date mon nov 2013 0200 percpu reduce size .percpu section signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
4988,cf482bcca540bd06f12a478cf800fbb4bd000cb9,mitry Fleytman <dmitry@daynix.com>, 2013-11-22 19:28:14 +0200, , release ec2 introduce image version parameter feature used release image preinstalled application signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
4989,c29222c6bc09015c22a1b85979297d4387bdab75,mnon Heiman <amnon@cloudius-systems.com>, 2013-11-25 18:12:41 +0200, , start shell management web parallel start shell management web parallel make boot faster note also switch latest mgmt.git decouples jruby crash startup signed amnon heiman amnon cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4990,10d6f18bac6d18a607a4d729fa0a7ffe08f7fb12,mnon Heiman <amnon@cloudius-systems.com>, 2013-11-20 12:30:44 +0200, , java support loading multiple main using multijarloader main class use configuration file java loading line file used start main use jar line specify main class signed amnon heiman amnon cloudius systems.com reviewed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4991,20aad632d72a9c2e2fff85cd20a5dfe6bbf3bd63,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-25 17:30:13 +0200, , test mincore test demand paging suggested nadav add test mincore interraction demand paging signed pekka enberg penberg cloudius systems.com,,
4992,d4bcf559d987b59ac56758b807787599dd299f26,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-25 17:30:13 +0200, , test anonymous demand paging microbenchmark add simple mmap microbenchmark run osv linux benchmark mmaps memory various size touch mmap memory increment fault memory benchmark also repeat test using map_populate reference osv page fault slightly slower linux first iteration faster subsequent iteration host operating system faulted memory guest included full number core sandy bridge osv guest linux guest linux host osv guest  iteration time second mib demand populate 0.004 0.000 0.000 0.000 0.000 0.000 0.001 0.000 0.003 0.000 0.007 0.000 0.013 0.000 128 0.024 0.000 256 0.052 0.001 512 0.229 0.002 1024 0.587 0.005 iteration time second mib demand populate 0.001 0.000 0.000 0.000 0.000 0.000 0.001 0.000 0.002 0.000 0.004 0.000 0.010 0.000 128 0.019 0.001 256 0.036 0.001 512 0.069 0.002 1024 0.137 0.005 iteration time second mib demand populate 0.001 0.000 0.000 0.000 0.000 0.000 0.001 0.000 0.002 0.000 0.005 0.000 0.010 0.000 128 0.020 0.000 256 0.039 0.001 512 0.087 0.002 1024 0.138 0.005 iteration time second mib demand populate 0.001 0.000 0.000 0.000 0.000 0.000 0.001 0.000 0.002 0.000 0.004 0.000 0.012 0.000 128 0.025 0.001 256 0.040 0.001 512 0.082 0.002 1024 0.138 0.005 iteration time second mib demand populate 0.001 0.000 0.000 0.000 0.000 0.000 0.001 0.000 0.002 0.000 0.004 0.000 0.012 0.000 128 0.028 0.001 256 0.040 0.001 512 0.082 0.002 1024 0.166 0.005 linux guest  iteration time second mib demand populate 0.001 0.000 0.001 0.000 0.002 0.000 0.003 0.000 0.005 0.000 0.008 0.000 0.015 0.000 128 0.151 0.001 256 0.090 0.001 512 0.266 0.003 1024 0.401 0.006 iteration time second mib demand populate 0.000 0.000 0.000 0.000 0.001 0.000 0.001 0.000 0.002 0.000 0.005 0.000 0.009 0.000 128 0.019 0.001 256 0.037 0.001 512 0.072 0.003 1024 0.144 0.006 iteration time second mib demand populate 0.000 0.000 0.001 0.000 0.001 0.000 0.001 0.000 0.002 0.000 0.005 0.000 0.010 0.000 128 0.019 0.001 256 0.037 0.001 512 0.072 0.003 1024 0.143 0.006 iteration time second mib demand populate 0.000 0.000 0.001 0.000 0.001 0.000 0.001 0.000 0.003 0.000 0.005 0.000 0.010 0.000 128 0.020 0.001 256 0.038 0.001 512 0.073 0.003 1024 0.143 0.006 iteration time second mib demand populate 0.000 0.000 0.001 0.000 0.001 0.000 0.001 0.000 0.003 0.000 0.005 0.000 0.010 0.000 128 0.020 0.001 256 0.037 0.001 512 0.072 0.003 1024 0.144 0.006 linux host  iteration time second mib demand populate 0.000 0.000 0.001 0.000 0.001 0.000 0.001 0.000 0.002 0.000 0.005 0.000 0.009 0.000 128 0.019 0.001 256 0.035 0.001 512 0.152 0.003 1024 0.286 0.011 iteration time second mib demand populate 0.000 0.000 0.000 0.000 0.001 0.000 0.001 0.000 0.002 0.000 0.004 0.000 0.010 0.000 128 0.018 0.001 256 0.035 0.001 512 0.192 0.003 1024 0.334 0.011 iteration time second mib demand populate 0.000 0.000 0.000 0.000 0.001 0.000 0.001 0.000 0.002 0.000 0.004 0.000 0.010 0.000 128 0.018 0.001 256 0.035 0.001 512 0.194 0.003 1024 0.329 0.011 iteration time second mib demand populate 0.000 0.000 0.000 0.000 0.001 0.000 0.001 0.000 0.002 0.000 0.004 0.000 0.010 0.000 128 0.018 0.001 256 0.036 0.001 512 0.138 0.003 1024 0.341 0.011 iteration time second mib demand populate 0.000 0.000 0.000 0.000 0.001 0.000 0.001 0.000 0.002 0.000 0.004 0.000 0.010 0.000 128 0.018 0.001 256 0.035 0.001 512 0.135 0.002 1024 0.324 0.011 reviewed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4993,fb24dc3ed2342f6e11aa8fc73677a87503019d04,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-25 17:30:13 +0200, , mmu map_populate support anon mmap reviewed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4994,c1d5fccba5771426daa479d006c590b3b69b4e90,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-25 17:30:13 +0200, , mmu anonymous memory demand paging switch demand paging anonymous virtual memory used specjvm2008 verify performance impact number mostly exception visible serial benchmark however quite lot variance specjvm2008 run read much need demand paging mechanism performance number suggest implementation reasonable merge patch see optimize later  running specjvm2008 benchmark osv guest score 331.23 ops score 131.87 ops score compress 118.33 ops score crypto.aes 41.34 ops score crypto.rsa 204.12 ops score 196.49 ops score derby 170.12 ops score mpegaudio 70.37 ops score 36.68 ops score 13.43 ops score 22.29 ops score 29.35 ops score 195.19 ops score 233.95 ops score 90.86 ops score 64.11 ops score 145.44 ops score serial 94.95 ops score sunflow 73.24 ops score xml.transform 207.82 ops score xml.validation 343.59 ops  score 346.78 ops score 132.58 ops score compress 116.05 ops score crypto.aes 40.26 ops score crypto.rsa 206.67 ops score 194.47 ops score derby 175.22 ops score mpegaudio 76.18 ops score 34.34 ops score 15.00 ops score 24.80 ops score 33.10 ops score 168.67 ops score 236.14 ops score 110.77 ops score 121.29 ops score 146.03 ops score serial 87.03 ops score sunflow 77.33 ops score xml.transform 205.73 ops score xml.validation 351.97 ops reviewed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4995,7e568ba0d0005ce5f60a2aa93235ccf3ee5941e8,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-25 17:30:13 +0200, , mmu optimistic locking populate use optimistic locking populate make robust concurrent page fault reviewed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4996,8a56dc8c6f88abde491853a16a045461eb60bce9,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-25 17:30:12 +0200, , mmu vma permission flag add permission flag vmas used mprotect page fault handler reviewed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4997,af72308411afd92fd5dfa6d5aa3ac4e7ce76b168,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-11-25 13:47:51 +0100, , loader.py add command function duration analysis duration analysis based trace pair follow convention function entry generates trace named end either trace x_ret x_err trace accompanying return tracepoint ignored new command osv trace summary print execution time statistic trace osv trace duration function print timed trace sorted duration descending order optionally narrowed specified function gdb osv trace summary execution time name count min 99.9 max total vfs_pwritev 0.682 1.042 1.078 1.078 1.078 1.078 2.801 vfs_pwrite 0.006 1.986 3.313 6.816 6.816 6.816 53.007 gdb osv trace duration 6.816 vfs_pwrite 3.923 vfs_pwrite signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4998,9e3210626e9c85b648b5119bb1d00a939200c467,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-11-25 13:47:50 +0100, , loader.py extract trace iteration reused signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
4999,6cc939a6a69b8bf0129134b10f04eb012f483396,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-11-25 13:47:49 +0100, , loader.py add wrapper intrusive list iteration logic duplicated two place patch yet come would add yet another place let refactor first signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5000,df6278fec836f74d9f7374c7b92f9269020b7987,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-11-25 10:44:41 -0200, , libc network feof used closed file calling feof closed file safe result undefined found auditing code signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5001,9c3308f1a4e08f871a6e00fa0e0bc89a4c8424a3,vi Kivity <a...@cloudius-systems.com>, 2013-11-25 10:27:59 +0200, , sched fix iteration across timer list iterate timer list using iterator timer list change iteration due timer inserted switch looking head list instead maintaining state across loop iteration signed avi kivity avi cloudius systems.com tested pekka enberg penberg cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5002,870d8410b6737fdc44ce2d01d7eb40b6dca8a2f2,vi Kivity <avi@cloudius-systems.com>, 2013-11-25 10:27:58 +0200, , sched prevent armed timer ignored hardware timer fire walk timer list expiring timer erasing list well good except timer may rearm callback hold timer_base client sched timer consumes callback doe end erasing even though want triggered fix checking armed state erasing signed avi kivity avi cloudius systems.com tested pekka enberg penberg cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5003,15a32ac8b1053d24794c8b181bda6fac203bb331,adav Har'El <nyh@cloudius-systems.com>, 2013-11-25 13:14:40 +0200, , fix possible deadlock condvar condvar timeout wakeup race wait concurrent wakeup complete crash wr.wait condvar internal mutex locked fine code written wait morphing wr.wait wait wakeup complete also user_mutex become available locked waiting user_mutex deadlock territory common idiom using condvar lock opposite order lock user_mutex first use condvar lock think easy way actually demonstrate deadlock short locked condvar_wait timeout racing racing additional locked condvar operation coming concurrently test case demonstrating hoping fix lockup pekka seeing cassandra test reason looked possible condvar deadlock first place signed nadav har nyh cloudius systems.com tested pekka enberg penberg cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5004,d91d7799ba37049be6184317e015b8ac4d8be686,lauber Costa <glommer@cloudius-systems.com>, 2013-11-25 19:35:50 +0400, , sched delay initialization early thread problem sleep initialize early thread cpu initialized note init_on_cpu become clear void cpu init_on_cpu   clock_event setup_on_cpu  finally initialize clock_event get lost already pending timer kind may early thread start played many potential solution end think sensible thing delay initialization early thread point first idle best way guarantee everything properly initialized running signed glauber costa glommer cloudius systems.com signed avi kivity avi cloudius systems.com,,
5005,f336eaa8502b5b4fede4ae5c8539bb5f47348ee4,fokaradagli@gmail.com <ufokaradagli@gmail.com>, 2013-11-22 03:25:11 -0800, , readme.md fix typo fixed couple spelling mistake readme.md signed omer karadagli ufokaradagli gmail.com signed pekka enberg penberg cloudius systems.com,,
5006,c8d212eb149a0a5133a3f5cec779b32ecd70d996,vi Kivity <avi@cloudius-systems.com>, 2013-11-21 21:51:40 +0200, , epoll remove epoll registration close prevent leak file close without epoll_ctl_del record epoll registration file structure remove file destroyed signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5007,0f085966fc0074eb020691a6a1b917a2a22d1c03,vi Kivity <avi@cloudius-systems.com>, 2013-11-21 21:51:39 +0200, , tst tcp close socket retaking lock avoid possible blocking signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5008,4ed4e4da8f829ba37bfc9bb4ec03c8fb648cc659,vi Kivity <avi@cloudius-systems.com>, 2013-11-21 21:51:38 +0200, , tst tcp clean better thread make sure wait running thread count drop zero destroying thing signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5009,b38cd33b2aa754adfb108aef9e59d6705b6a1c01,vi Kivity <avi@cloudius-systems.com>, 2013-11-21 21:51:35 +0200, , vfs prevent double initialization file f_lock since initialized constructor mutex already initialized signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5010,cfb1d736210f36b2d3c9fa44dc6a165141b71fa8,vi Kivity <avi@cloudius-systems.com>, 2013-11-21 21:51:34 +0200, , vfs give file proper destructor use file operator delete ensure reclaimed via rcu let rest cleanup happen via destructor allows add member file let standard construction destruction sequence take place note constructor already used signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5011,7185874b550e49e8d0ad7b1e124977d257f5e01a,vi Kivity <avi@cloudius-systems.com>, 2013-11-21 21:51:33 +0200, , epoll switch epoll_object using file pointer holding filerefs cause close delayed indefinitly case user forgets epoll_ctl_del file close signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5012,2f2b5a4f291de0797c2009361170d95a55c17e3b,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-22 10:57:10 +0200, , test.py add tst except.so signed pekka enberg penberg cloudius systems.com,,
5013,9ce64a115f9634141e5388675da17742eb926ce2,vi Kivity <avi@cloudius-systems.com>, 2013-11-21 18:47:45 +0200, , tst except add test _unwind_resume previously _unwind_resume available function handled exception implicitly running destructors crashed signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5014,be565320c082c00069614c850d29b42831b3dea6,vi Kivity <avi@cloudius-systems.com>, 2013-11-21 18:47:44 +0200, , build bring back libgcc_s.so commit c9e61d4a45d88d build link libstdc libgcc_s threw away libgcc_s.so since already link libgcc.a libgcc_eh.a provide symbol since symbol multiple object violates certain rule however libgcc_eh.a provides certain symbol local symbol mean available payload manifest error failing find _unwind_resume exception thrown likely due requirement mulitple object linked libgcc_eh.a work together also brings confidence odr violation two version library bite fix problem adding libgcc_s.so filesystem allowing payload link signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5015,147de06c5fbe3669af7a8d33b6e0d32f071c90d9,adav Har'El <nyh@cloudius-systems.com>, 2013-11-20 18:28:42 +0200, , replace number prio.hh automatically defined number prio.hh defines various initialization priority actual number matter order add many priority existing one may hit need renumber plain ugly reminds basic programming patch switch enum enum class actually list priority name order number would straightforward bug gcc see http gcc.gnu.org bugzilla show_bug.cgi 59211 init_priority attribute accept enum constructor attribute doe luckily simple workaround explicitly casting int work signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5016,be940896f29da86d9ae99ec6cd2d66fc1204eb91,vi Kivity <avi@cloudius-systems.com>, 2013-11-20 19:27:19 +0200, , test add tcp connection test test creates destroys thread creates random number connection transferring random number byte echo server used stress tcp stack test portable build host command pthread std gnu lboost_system test tst tcp.cc signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5017,e771caabdcf0a5d57b1bc5cb7935ea48c72e4227,vi Kivity <avi@cloudius-systems.com>, 2013-11-20 19:07:37 +0200, , epoll switch file based implementation using do_poll instead using file descriptor poll use do_poll allows get rid user supplied fds early important lifetime decoupled epoll lifetime signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5018,0b68144e6fa878ddcafe3ebd49a56bcc0fe40542,vi Kivity <avi@cloudius-systems.com>, 2013-11-20 19:07:36 +0200, , poll refactor poll term file pointer file descriptor epoll lifetime ongoing poll may longer lifetime file descriptor close expect silently removed epoll current implementation epoll call poll impossible correctly since poll implemented term file descriptor add intermedite do_poll work file pointer allows refactored epoll convert file descriptor file pointer close open descriptor added without problem side effect lot atomic operation fget fdrop saved signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5019,f0d968165c795d333dc778cc802eba5fa3a9b704,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-11-20 14:47:14 -0200, , vfs make error message mounting rootfs verbose provide better error message instead simply printing error code  failed create dev error  failed create dev error file exists signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5020,56cdfc4978d0e040c093ecb9da1b006481cea0c6,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-11-20 16:06:51 -0200, , script change mkzfs.py call run.py unsafe cache patch add unsafe cache option run.py change mkzfs.py always call run.py option enabled thus change build run suggested nadav har main goal boost time take complete entire process reviewed nadav har nyh cloudius systems.com signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5021,9dc7cc25aa5d9f77b22105a9bffce46588159d54,lauber Costa <glommer@cloudius-systems.com>, 2013-11-21 01:54:07 +0400, , mmu allow early tlb flush tlb flush happen early try send ipis around ready funny thing happen test size cpu vector cpu initialized vector empty limit soon initialize cpu let change test also acount empty vector obvious clear empty vector one cpu present triggered context last patchset thread test script set sorry soon tested smp exploded signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5022,63216e85978ea2f38c55dcac1d9bd0eba8c8e6d0,lauber Costa <glommer@cloudius-systems.com>, 2013-11-20 13:55:16 +0400, , sched start initialize early thread may thread initialized started early sched init took place easily identify thread thread thread list far exception main thread finish initialization safe state also may started already since really start anything main thread put special state called prestarted every thread found state started moment note code need run main thread since depend initialization happen inside switch_to_first properly function procedure signed glauber costa glommer cloudius systems.com reviewed pekka enberg penberg cloudius systems.com signed avi kivity avi cloudius systems.com,,
5023,e005a7382c1e04315f91a298b3d299439243c2d9,lauber Costa <glommer@cloudius-systems.com>, 2013-11-20 13:55:15 +0400, , sched add new thread state prestarted may thread initialized early also started early need somehow mark thread already started start real later scheduler ready adding extra state prestarted later take action start thread properly signed glauber costa glommer cloudius systems.com reviewed pekka enberg penberg cloudius systems.com signed avi kivity avi cloudius systems.com,,
5024,d6ea366f8868d55709c9663d03fda399e7f9cc4b,lauber Costa <glommer@cloudius-systems.com>, 2013-11-20 13:55:14 +0400, , sched avoid dereferencing current field thread creation thread created early see field null address test dereferencing found current available skip step use default value signed glauber costa glommer cloudius systems.com reviewed pekka enberg penberg cloudius systems.com signed avi kivity avi cloudius systems.com,,
5025,9381f4b618ad290cf6f3e2396890b09ebcf1f640,lauber Costa <glommer@cloudius-systems.com>, 2013-11-20 13:55:13 +0400, , sched start thread list early since thread list doe depend nothing memory allocator allocate early signed glauber costa glommer cloudius systems.com reviewed pekka enberg penberg cloudius systems.com signed avi kivity avi cloudius systems.com,,
5026,3615b8854acfb93236481364755c95e25ff8793f,adav Har'El <nyh@cloudius-systems.com>, 2013-11-19 14:57:47 +0200, , power instead halt loader run command currently try run invalid shared object e.g run.py aaa loader.cc call abort patch change use osv poweroff useful example measure much time boot poweroff cycle take without running payload time script run.py aaa signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5027,e5cf0f1d1f1eb1d3ac45ff80c5f8b03c844d19e0,lauber Costa <glommer@cloudius-systems.com>, 2013-11-19 18:36:51 +0400, , mmu move huge_page_size mmu.hh reason page_size mmu.hh huge_page_size mmu.cc move also use huge_page_size outside mmu.cc scope signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5028,e9549266f8ea45de3b030fcad9a22275a1693080,adav Har'El <nyh@cloudius-systems.com>, 2013-11-19 15:18:20 +0200, , explicitly request alignment allocating per cpu area commit used malloc allocate per cpu variable area avi pointed need area aligned like strictest alignment per cpu variable strictest alignment need probably byte easiest require 4096 byte alignment code prior patch commit worked luckily enough malloc doe return page aligned memory large allocation possible case future patch switch use aligned_alloc instead explicitly requesting 4096 byte aligned block memory signed nadav har nyh cloudius systems.com reviewed pekka enberg penberg cloudius systems.com signed avi kivity avi cloudius systems.com,,
5029,7e06bd33fe9fe7c44e5591eb20b42e8c081977a0,adav Har'El <nyh@cloudius-systems.com>, 2013-11-19 15:11:40 +0200, , partial implementation aligned_alloc patch provides trivial implementation two similar function allocating aligned memory block aligned_alloc c11 standard posix memory returned either function freed ordinary free trivial implementation call malloc assert got desired alignment aborting many case good enough malloc already return 4096 byte aligned block large allocation particular use function next patch allocating large page aligned per cpu area ever fail assertion replace function full implementation see issue signed nadav har nyh cloudius systems.com reviewed pekka enberg penberg cloudius systems.com signed avi kivity avi cloudius systems.com,,
5030,a0ce1b50678057dd6253bffec9a22ba2bec42c3a,akuya ASADA <syuu@dokukino.com>, 2013-11-18 12:24:32 -0800, , add negotiation flag check flush older version qemu nbd cuases error exit nbd_client.py look http msg osv dev ew5btnfnfzs i33befxg2f0j nbd_client.py sending flush command unconditionally extended feature nbd client check nbd server capability accept flush nbd server sends capability flag negotiation stage sends has_flags 0x1 send_flush 0x4 server support flush patch add capability check skip send flush server support signed takuya asada syuu dokukino.com reviewed benoã canet benoit.canet irqsave.net signed avi kivity avi cloudius systems.com,,
5031,ed808267d4a87ab355b0958fa89607659dc64f88,adav Har'El <nyh@cloudius-systems.com>, 2013-11-18 23:01:09 +0200, , percpu reduce size .percpu section patch reduces size .percpu section fold solves issue .percpu section part .data section executable loader stripped.elf executable roughly text code data whopping .percpu section executable read real mode especially slow amazon ec2 hence wish make executable small possible percpu section start percpu variable defined program believe single variable 65k see percpu.cc need copy variable cpu unpatched code duplicated 70kb section time executable file used memory location cpu reason duplicate data executable need dynamically allocate copy section cpu patch doe patch remove executable patch loader stripped.elf 9.7 data section size 2.8 reviewed glauber costa glommer cloudius systems.com signed nadav har nyh cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5032,f1ee72edf7cff63fe8f045ce18923ff4a6abb869,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-11-18 20:25:05 -0200, , vfs introduce vop_eperm vop_eperm allows code reuse suggested glauber costa signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5033,3587c3f18cc189ec7269a9774c1f6967491d9715,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-18 14:09:23 +0200, , reformat java code use four space indentation use unix linefeeds signed pekka enberg penberg cloudius systems.com,,
5034,aa49cd96fd285cc1884adb4b0356baa61e2ab959,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-15 12:13:25 +0200, , script test.py show running test case name show running test case name make debugging test failure painful ... signed pekka enberg penberg cloudius systems.com,,
5035,27030264d09ecdd19bd206f074c2424312c36b03,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-14 13:38:50 +0200, , zfs root filesystem use new pivot_root functionality switch zfs root filesystem osv running signed pekka enberg penberg cloudius systems.com,,
5036,240edb49f7c0e406f33c884aacc981388d756be4,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-14 16:11:00 +0200, , ramfs unmount needed pivot_root unmount initial rootfs signed pekka enberg penberg cloudius systems.com,,
5037,377f438312b011fbb3a6254606c2be1686a2d290,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-14 13:37:12 +0200, , vfs add pivot_root system call add simple pivot_root system call work mountpoints simply remove put_old mount list vfs know add renames new_root m_path signed pekka enberg penberg cloudius systems.com,,
5038,59250dee0dc8592253115451af256b1c3f16e230,aphael S. Carvalho <raphaelsc@cloudius-systems.com>, 2013-11-14 09:56:16 -0200, , mmu make fill fill_page support variable page size previously fill supported small page size chunk however possible avoid calling fill multiple time simply allowing variable page size signed raphael carvalho raphaelsc cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5039,e5b8acd43c525bbadc5e2dcabd495ff0dab6cc58,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-14 12:33:14 +0200, , libc pthread.cc switch warn_stubbed signed pekka enberg penberg cloudius systems.com,,
5040,c4a45f446acdef8a2704d6581bd66e68d324bf0f,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-14 10:50:26 +0200, , build.mk fix bootfs usr manifest dependency commit 0dcf1f8 osv module support add dependency cause image rebuilt file changed fix signed pekka enberg penberg cloudius systems.com,,
5041,39b9c04bf2496387c25db61a9e53c5c5d2ab026a,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-14 12:03:26 +0200, , libc pthread_kill stub add pthread_kill stub needed cassandra stopped ctrl signed pekka enberg penberg cloudius systems.com,,
5042,10bd596d72bf420ddec7b5b9ec6f03b2205e7787,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-11-12 20:45:58 +0100, , add missing tst libc locking.cc file add actual test case forgotten commit a9f8092 introduce test libc locking signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5043,a3006cdb76bc32b489d6c90fc21f1568ba789a8a,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-13 14:12:35 +0200, , add .pyc file gitignore temporary file ignored signed pekka enberg penberg cloudius systems.com,,
5044,2d4d65f2567abbe00af1417d69c1af9dbca77a2c,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-13 14:10:26 +0200, , remove script nbd_client.pyc tree committed file accidentally temporary file  signed pekka enberg penberg cloudius systems.com,,
5045,a9f8092a94d241d71853509cdbcd40e4666c4488,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-11-12 20:45:58 +0100, , introduce test libc locking signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5046,3f053b8f950be4b89fcb928f956ddc31ba8ba68a,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-11-12 20:45:57 +0100, , fix lack locking libc file memstream related operation spotted nadav libc.threaded field set used several statement setting lock_owner field libc.threaded false lock_owner file set special value indicates locking field initially set original musl code logic upon creation first thread set true adjusted lock_owner field open file value osv logic resulted locking file structure patch fix issue using threaded mode beginning also rely anymore posix thread existence stdlib used early boot process without unexpected behavior used rightfully example ramdisk_init hold pthread lock_owner field mutex already track owner check using mutex_owned function patch also get rid magic value type pthread_t used disable locking known necessary new field introduced named no_locking serf purpose signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5047,0dcf1f8f33dff11f64f970576bc5a4d7f8b3a9f2,akuya ASADA <syuu@dokukino.com>, 2013-11-01 02:37:59 -0700, , osv module support idea patch basically described prevoius post http msg osv dev rl2s3al9tne l4xzjo3 li0j whis patch able install osv apps disk image make stage apps doe require exist osv repository install apps git repository svn repository local directory need write config file add apps format file json sample file  module  name osv mruby type git path http github.com syuu1228 osv mruby.git branch master    add module config file make call script module.py script perform git clone fetch repository module invoke make module module make module output bootfs.manifest usr.manifest module directory script merge module local manifest single file bootfs.manifest usr.manifest app makefile example http github.com syuu1228 osv mruby blob master makefile module target target build binary generates .manifest signed takuya asada syuu dokukino.com signed pekka enberg penberg cloudius systems.com,,
5048,2c994347ebb424e899245e73c7acd4b973b8e399,aphael S. Carvalho <raphael.scarv@gmail.com>, 2013-10-29 17:51:03 -0200, , script run.py add wait feature simply tell qemu start osv startup continue execution possible use either qemu monitor gdb remote connection signed raphael carvalho raphael.scarv gmail.com signed pekka enberg penberg cloudius systems.com,,
5049,9be9dd9977520be4cc2ca0c04ea6e881d7c2eefa,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-21 14:32:03 +0300, , x64 fix stack alignment fault handler make sure stack pointer byte aligned fault handler required x86 abi needed page fault handler able use stack fpu state save restore spotted nadav signed pekka enberg penberg cloudius systems.com,,
5050,188d11db28629c93dd59a84fbb300bd8c16572b0,mitry Fleytman <dmitry@daynix.com>, 2013-11-11 18:27:40 +0200, , release ec2 fix ami replication code signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
5051,3527954fe315984218688d150c96e283be8b83cf,vi Kivity <avi@cloudius-systems.com>, 2013-11-11 17:29:46 +0200, , build fix calculation unknown reason current calculation yield 0x10 instead correct value result part initial block freed arch setup subsequent corruption fix switching sizeof operator signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5052,bfc7bd1017de7a1285a456dd6b6fa1d67e4bfc6b,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-11 10:27:15 +0200, , bsd fix formatting porting network.cc use four space tab indentation signed pekka enberg penberg cloudius systems.com,,
5053,4a10bbe2cf970c2c267945544a8efb4986c45a3d,leifker@gmail.com <dleifker@gmail.com>, 2013-11-10 05:57:16 -0800, , fix make flag readme debug mode must included mistake otherwise make unlimited job signed david leifker dlei ... gmail.com signed pekka enberg penberg cloudius systems.com,,
5054,870a9a55ab1a3e8761ee88f0d3c7fe7694d6b31b,¤§è°·æ´¥æå­£ <kaishuu0123@gmail.com>, 2013-11-09 10:57:32 -0800, , fix build error bsd porting networking.cc need initialize variable use memset zero clear set value ioctl siocgifflags  snip bsd sys kern sys_socket.o bsd sys kern subr_disk.o bsd porting route.o cxx bsd porting networking.o bsd porting networking.cc function int osv ifup std string bsd porting networking.cc error missing brace around initializer char werror missing brace cc1plus warning treated error make bsd porting networking.o error make leaving directory home kouki work kaishuu0123 osv build release make error snip  signed kouki ooyatsu kaishuu0123 gmail.com signed pekka enberg penberg cloudius systems.com,,
5055,a450a612bfd071aa28777218e93d9d24bcd432d3,mitry Fleytman <dmitry@daynix.com>, 2013-11-11 09:05:03 +0200, , fix defragmentation mechanism big packet current limit fragment number packet enough packet bigger 24k standard mtu patch increase number theoretical maximum problem found udp performance testing throughput dropped 32k udp packet signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
5056,bd3f49a770c8c1f40e3a5f5ec5a14bc2bdca52b2,mitry Fleytman <dmitry@daynix.com>, 2013-11-10 12:07:01 +0200, , release ec2 force build create raw osv image ec2 doe support qcow2 force build create raw image signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
5057,a7797df59065c614c834bc4d1b28f6d1a826169f,mitry Fleytman <dmitry@daynix.com>, 2013-11-10 12:07:00 +0200, , build option choose osv image format via make command line default image format stay qcow2 may changed via img_format variable make img_fomat raw option required release ec2 script ec2 doe support qcow2 also useful hypervisors like vmware signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
5058,c5e5aa70d207711d360e27f25487f699ac287ed3,mitry Fleytman <dmitry@daynix.com>, 2013-11-10 16:31:48 +0200, , run.py make xen treat osv image qcow2 file xen requires explicit image format specification signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
5059,c02d5388e65e58fac5b9dc8404c7cb20a4979ef8,leifker@gmail.com <dleifker@gmail.com>, 2013-11-10 05:53:36 -0800, , elf ignore pt_pax_flags fixed following abort build running mkzfs.py done eth0 ethernet address dhcp waiting ... dhcp server acknowledged interface eth0 dhcp configuring eth0 192.168.122.15 subnet mask 255.255.255.0 gateway 192.168.122.1 aborted signed david leifker dlei ... gmail.com signed avi kivity avi cloudius systems.com,,
5060,a100b01f7595b3e020c19e353d3f00f79b9a5fb6,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-11-08 17:33:54 +0100, , fix lack locking libc causing memory corruption libc.h optimization disabled locking one thread using threads_minus_1 field struct __libc osv field always locking causing memory corruption running apache benchmark tomcat osv smp patch make away fix always lock osv always one thread signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5061,dca15677abf7ec0f28dc8c6eeee16f553a12f2b9,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-11-08 12:49:02 +0100, , skip lo0 initializing interface loader.cc attempt reassign lo0 fails leaf without address break tomcat severe create localhost 8005 address available signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5062,c5d96b3e97cecf090f2c66e85f58f3cfa4af72df,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-11-07 17:03:24 +0100, , loader.py make osv info thread display thread joiner wait save bit manual work example gdb osv info thread 0x1de9e08 cpu0x0 waiting sched thread join core sched.cc snip joining signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5063,c16f6f5b65ba692296c4d423d1c7fdf623cba781,mitry Fleytman <dmitry@daynix.com>, 2013-11-05 19:30:52 +0200, , run.py run xen guest user mode networking implicitely xen guest support user mode networking fall back qemu hypervisor detection used external networking configured logic required build support xen host properly signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
5064,bda97ddc2fed7fc3811cd5c8133c68c48849d917,akuya ASADA <syuu@dokukino.com>, 2013-11-07 01:31:22 -0800, , multiple nic support patch add support multiple nic initialization loader.cc signed takuya asada syuu dokukino.com signed pekka enberg penberg cloudius systems.com,,
5065,8ef337485f11f56c079535152db8bca8bc78ddf2,vi Kivity <avi@cloudius-systems.com>, 2013-11-07 12:34:53 +0200, , eventlist remove dead code boost signals2 signal doe job better signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5066,faebec4408213111dc5488237e6ff41c888578cc,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-18 14:03:40 +0300, , mmu drop find_vma preferable use equal_range vma lookup drop unused find_vma function signed pekka enberg penberg cloudius systems.com,,
5067,f77a8c320bbaf7562b922628192cd4f224c240c1,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-03 11:10:35 +0300, , x64 use constant cr0 cr4 value replace magic number constant cr0 cr4 control register value arch x86 boot.s signed pekka enberg penberg cloudius systems.com,,
5068,67703fb42fb3e9698c989eccb04ee82ca51fb13f,enoÃ®t Canet <benoit@irqsave.net>, 2013-11-06 16:54:33 +0100, , script imgedit.py remove usage o_direct qemu nbd prevented script work tmpfs signed benoit canet benoit irqsave.net signed pekka enberg penberg cloudius systems.com,,
5069,1ae6a0664cd570eb5ee46b9f29fb3db8e99e2c65,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-11-06 12:42:41 +0100, , loader.py fix indentation signed tomasz grabiec tgrabiec cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5070,ad3db3afbb5a36c82a073f2177208862e9aed130,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-06 11:39:08 +0200, , script release fix osv qcow2 image release script commit 31fee0f build build image qcow2 file longer build raw image signed pekka enberg penberg cloudius systems.com,,
5071,229b070daa47e33af5cf69f3e076e7ea9b06518a,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-04 10:39:19 +0200, , driver xenfront xenbus fix condvar_wait timeout condvar_wait expects absolute time duration signed pekka enberg penberg cloudius systems.com,,
5072,592c7ca3c816b450713cfac4a7aaaf9d22b488b7,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-05 13:22:55 +0200, , loader enable debug allocator acpi init acpi subsystem memory allocator lot enable debug allocator initializing detect boot time problem signed pekka enberg penberg cloudius systems.com,,
5073,d1e693888806be9b1850da75da05736fda59f573,vi Kivity <avi@cloudius-systems.com>, 2013-11-06 10:39:02 +0200, , memory poison newly allocator object debug allocator fill newly allocated memory well known pattern byte byte byte ... catch uninitialized memory signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5074,c05e06427705386fc6369cdb535e743842578593,vi Kivity <avi@cloudius-systems.com>, 2013-11-05 16:29:05 +0200, , elf fix program use init create memory_image assign _core fully initialized triggering corruption program fix memory corruption issue seen upcoming demand paging patch signed avi kivity avi cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5075,31fee0faf8215a6002d1ffe70df6c589b0d8c6b3,enoÃ®t Canet <benoit@irqsave.net>, 2013-11-05 16:32:52 +0100, , build build image qcow2 file make use python nbd client signed benoit canet benoit irqsave.net signed avi kivity avi cloudius systems.com,,
5076,091aab16c904cfcb7695d749285affea4e594596,enoÃ®t Canet <benoit@irqsave.net>, 2013-11-05 16:32:51 +0100, , nbd add small python nbd client future usage script imgedit.py signed benoit canet benoit irqsave.net signed avi kivity avi cloudius systems.com,,
5077,37eaef5f22071e2834b11ebe7dffe372b2ec08c2,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-11-05 13:19:56 +0100, , loader.py fix thread_context stack high end fix osv info thread command rsp hold ulong gdb.value representing return int range cause throw numeric constant large exception set rbp fix remove additional conversion seems unnecessary gdb.value format properly signed tomasz grabiec tgrabiec cloudius systems.com signed avi kivity avi cloudius systems.com,,
5078,fe211a1c15b8e12a3e475e289a1a234faa6ad8b0,or Laor <dor@cloudius-systems.com>, 2013-11-05 11:50:56 +0200, , configure bridge spanning tree spanning tree cause bridge port start listening mode cause dhcp packet ignored since fearing layer2 loop safely remove spanning tree config signed dor laor dor cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5079,71592e9df39169ab8752ad214ec913ad9b10df18,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-05 10:57:54 +0200, , driver acpi document add explanation avi kivity explain  signed pekka enberg penberg cloudius systems.com signed avi kivity avi cloudius systems.com,,
5080,09a9c797a2a0468cf22ed18c51be005ce7e21912,mitry Fleytman <dmitry@daynix.com>, 2013-11-04 17:14:36 +0200, , ec2 release script amazon ec2 service script support mode operation public release default official release private release internal testing development instance development public release mean ami created public visible everyone replicated existing amazon region private release mean ami created private visible releaser account replicated region development instance mean ami created script stop instance creation script help screen help command line parameter provides detailed information script interface dependency configuration required interesting note public release made script cost usd mainly ami replication amazon region signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
5081,5eaa124ba87bf0b863a784ea847134c6e5ff86ff,mitry Fleytman <dmitry@daynix.com>, 2013-11-04 17:14:35 +0200, , build release unify osv version string build release signed dmitry fleytman dmitry daynix.com signed pekka enberg penberg cloudius systems.com,,
5082,9ec9407e3b3acf49b687185575b5568c2f019e63,mitry Fleytman <dmitry@daynix.com>, 2013-11-04 16:42:54 +0200, , acpi mapping long table fixed due incorrect mapping logic acpi table longer page_size mapped partially wrong base address result system crashed acpi table checksum verification found running ec2 hvm instance problematic table acpi dsdt 0xfc002c40 0321f v02 xen hvm 00000000 intl 20090220 signed dmitry fleytman dmitry daynix.com,,
5083,9bd5556dbfda5b2faf666f743991bcbca4489a96,mitry Fleytman <dmitry@daynix.com>, 2013-11-04 18:18:30 +0200, , mmu default value slop parameter linear_map slop made page size default frequent case signed dmitry fleytman dmitry daynix.com,,
5084,b14b78c4450fe49c8294c4354b2e07eec8652153,lauber Costa <glommer@cloudius-systems.com>, 2013-11-04 17:08:38 +0400, , xen start xen interrupt thread non xen guest extra xen thread running around reason xen case is_xen already work since initializers run cpuid discovery information is_xen filled signed glauber costa glommer cloudius systems.com signed pekka enberg penberg cloudius systems.com,,
5085,3337580d01acf576455b0754935f0d638036e75a,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-04 14:11:28 +0200, , fix setup_libstdcxx script loader.py fix following breakage caused commit c98b928 explicitly use python version number starting gdb traceback recent call last file home penberg osv script loader.py line 833 module setup_libstdcxx file home penberg osv script loader.py line 496 setup_libstdcxx signed pekka enberg penberg cloudius systems.com,,
5086,0bdd4bc6e5211b8d7010c809989439d4d3df4619,aphael S. Carvalho <raphael.scarv@gmail.com>, 2013-11-03 15:31:47 -0200, , xen fix xen_features initialization ironically commit 0c77d3c broke xen_features initialization patch fix reported avi kivity avi cloudius systems.com signed raphael carvalho raphael.scarv gmail.com signed pekka enberg penberg cloudius systems.com,,
5087,7deeca945e433c7dd73ff5cf44c99e113497df60,vi Kivity <avi@cloudius-systems.com>, 2013-11-03 19:01:53 +0200, , build move generated ctype data.h gen include consolidates generated file make easier maintain eclipse index signed avi kivity avi cloudius systems.com,,
5088,c9ce21f889f2caa7f49e01474df829b816663661,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-30 14:10:35 +0100, , copy default config jdk currently log message silently ignored probably want default jdk config log console signed tomasz grabiec tgrabiec cloudius systems.com,,
5089,151a7bffdb0fc1e4976148fac2f929bf3ec37f95,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-10 17:35:16 +0200, , configure slf4j bridge mgmt app dismissed idea configure bridge default jvm configuration default like would force apps use particular slf4j api version signed tomasz grabiec tgrabiec cloudius systems.com,,
5090,3fad3fe8aa61663a0beb819de3dcd7759edf57b6,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-30 13:48:50 +0100, , allow interrupting java apps crash ssh shell signed tomasz grabiec tgrabiec cloudius systems.com,,
5091,53e883a2d1b091b2082b022e9f6ecb7a85639112,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-30 13:39:37 +0100, , mute javac unsafe warning make away note osv unchecked unsafe operation note recompile xlint unchecked detail unfortunately javac doe recognize statement level suppression like noinspection unchecked return method.invoke target args need switch coarse grained suppression method level unchecked signed tomasz grabiec tgrabiec cloudius systems.com,,
5092,30d0063be7b616ef1679e7072d0c9ac6603c1429,ekka Enberg <penberg@cloudius-systems.com>, 2013-11-01 10:25:26 +0200, , use markdown readme switch markdown syntax readme minimal amount change make rendering github look sane prettify even later signed pekka enberg penberg cloudius systems.com,,
5093,c98b928e7e0503d9d7f3cf897612b8b25ec6a8bf,natol Pomozov <anatol.pomozov@gmail.com>, 2013-10-31 08:01:00 -0700, , explicitly use python version number needed system python point python3 signed anatol pomozov anatol.pomozov gmail.com signed pekka enberg penberg cloudius systems.com,,
5094,0c77d3c2675dc1f06a3526c8079eae5442ed1a59,aphael S. Carvalho <raphael.scarv@gmail.com>, 2013-11-01 08:01:33 -0200, , x64 xen fix assignment xen_features code work currently assignment xen_features must take well consideration signed raphael carvalho raphael.scarv gmail.com signed pekka enberg penberg cloudius systems.com,,
5095,2ce381c0269049c0ce07f378ab18ad96bde1f471,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-31 13:40:06 +0200, , acpi simplify acpica initialization use initialization sequence specified 10.1.2.2 acpica initialization early acpi table access acpica reference manual signed pekka enberg penberg cloudius systems.com,,
5096,82037caf9e6c27e1af569559e4bcff424f119e44,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-31 14:00:13 +0200, , acpi use mmu isreadable acpiosreadable use mmu isreadable actually check memory region readable acpiosreadable signed pekka enberg penberg cloudius systems.com,,
5097,aae1a5a16001f0e998242dc8637b58080640eac4,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-06 11:21:36 +0300, , mempool fix realloc debug version fix following issue debug version realloc make realloc null ptr behave like malloc make realloc non null pointer zero size behave like free avoid malloc enough space original memory block return null new allocation fails deallocate original memory block signed pekka enberg penberg cloudius systems.com,,
5098,c9dadf2d351e8893f004648180bc10cda1d4852b,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-31 11:19:58 +0200, , acpi use console acpiosprintf switch console write_ll acpiosprintf acpiosvprintf make acpi boot time output readable penberg localhost osv script run.py acpi rsdp 0xfd8d0 00014 v00 bochs acpi rsdt 0x3fffe380 00034 v01 bochs bxpcrsdt 00000001 bxpc 00000001 acpi facp 0x3fffff80 00074 v01 bochs bxpcfacp 00000001 bxpc 00000001 acpi dsdt 0x3fffe3c0 011a9 v01 bxpc bxdsdt 00000001 intl 20100528 acpi facs 0x3fffff40 00040 acpi ssdt 0x3ffff6e0 00858 v01 bochs bxpcssdt 00000001 bxpc 00000001 acpi apic 0x3ffff5b0 00090 v01 bochs bxpcapic 00000001 bxpc 00000001 acpi hpet 0x3ffff570 00038 v01 bochs bxpchpet 00000001 bxpc 00000001 acpi apic acpi apic acpi apic acpi apic apic base fee00000 osv v0.02 ga556eab copyright 2013 cloudius system locale work acpi rsdp 0xfd8d0 00014 v00 bochs acpi rsdt 0x3fffe380 00034 v01 bochs bxpcrsdt 00000001 bxpc 00000001 acpi facp 0x3fffff80 00074 v01 bochs bxpcfacp 00000001 bxpc 00000001 acpi dsdt 0x3fffe3c0 011a9 v01 bxpc bxdsdt 00000001 intl 20100528 acpi facs 0x3fffff40 00040 acpi ssdt 0x3ffff6e0 00858 v01 bochs bxpcssdt 00000001 bxpc 00000001 acpi apic 0x3ffff5b0 00090 v01 bochs bxpcapic 00000001 bxpc 00000001 acpi hpet 0x3ffff570 00038 v01 bochs bxpchpet 00000001 bxpc 00000001 acpi acpi table successfully acquired signed pekka enberg penberg cloudius systems.com,,
5099,d1c5a7235fde648b4e161237cdf956e5e0a9dac0,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-30 20:25:53 +0100, , cleanup stubbing.hh signed tomasz grabiec tgrabiec cloudius systems.com,,
5100,be3e55d60a8affc5019d324085a9c6c90ee19e1a,adav Har'El <nyh@cloudius-systems.com>, 2013-10-30 17:31:48 +0200, , simplify host side zfs image build patch simplifies host side work new usr zfs filesystem build process previously copied file temporary directory used cpio archive sent output guest netcat patch longer temporary directory need either cpio netcat build machine rather mkzfs.py using python instead separate process connects guest sends file still using cpio format rather arbitrarily sleep second host try connect guest might enough waste time others patch host look guest output connects see message waiting connection signed nadav har nyh cloudius systems.com,,
5101,a06948de0617143436b71f5b7c1abdd43443ef1a,adav Har'El <nyh@cloudius-systems.com>, 2013-10-30 15:55:12 +0200, , small fix condvar wait return code want return etimedwait wake_one consumed one racy case returned wrong one received wakeup still returned etimedwait probably matter practice ... signed nadav har nyh cloudius systems.com,,
5102,212a061ae75330b3e73dc9d4e4c1c6576938c9b3,adav Har'El <nyh@cloudius-systems.com>, 2013-10-30 15:53:25 +0200, , start documenting condvar add doxygen comment condvar class interface condvar method documented alternative interface condvar_ function reminder run doxygen point browser doxyout html index.html see api documentation far lot still added condvar documentation including good introduction use condition variable mutex etc least start signed nadav har nyh cloudius systems.com,,
5103,f966188ed960c3a7f0216c30ab5d0ab176abee41,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-24 11:28:18 +0300, , test remove tst zfs simple.so tst zfs simple.so test case serverd purpose bringup osv build relies working zfs need run test furthermore full ztest stress test tree bsd cddl contrib opensolaris cmd ztest ztest.c use needed signed pekka enberg penberg cloudius systems.com,,
5104,5a11cc6e98cd63d47c34a2ce4cd7be3ac5282ccd,vi Kivity <avi@cloudius-systems.com>, 2013-10-30 11:19:43 +0200, , external update gcc 4.8.2 signed avi kivity avi cloudius systems.com,,
5105,15d30a11524238e06345e917daa322be06e8f706,vi Kivity <avi@cloudius-systems.com>, 2013-10-30 10:38:28 +0200, , x64 fix segment alignment segment little wierd grows backwards percpu_base instead forward cause alignment code calculate wrong offset segment size mod failure seen percpu_base set offset code translation unit percpu_base elsewhere caused dynamic_percpu instance crash fix aligning segment size good measure align also segment base cacheline boundary signed avi kivity avi cloudius systems.com,,
5106,fe1752e56fea6a77c35227f989d2b85f1cbc24b6,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-15 12:37:48 +0200, , runjava add missing delegation osv system classloader system classloader used parent protected method called lookup resource also add delegation remaining protected public method signed tomasz grabiec tgrabiec cloudius systems.com,,
5107,03a825d3f214c9579831daad96e6dd62041fa9d8,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-28 12:44:00 +0100, , extend test whitelist signed tomasz grabiec tgrabiec cloudius systems.com,,
5108,9bb5c7d76c77aedb2391c6f3676a58ca6b4be741,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-25 12:56:21 +0200, , vfs make rename return enoent one path empty signed tomasz grabiec tgrabiec cloudius systems.com,,
5109,e90300336f35559b330d79eab260c6d5cd122fb7,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-25 12:10:11 +0200, , vfs rename fail either path end signed tomasz grabiec tgrabiec cloudius systems.com,,
5110,06f842f0370467f3fba2031cb3aedabb6227eb44,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-18 18:32:32 +0200, , vfs fix incorrect rename behavior trailing slash fix renaming existing directory existing file destination path trailing slash fail rename tmp dir tmp file errno enotdir fix renaming exisitng directory nonexisting path path trailing slash succeed rename tmp dir tmp im_missing fix renaming exisitng file nonexisting path path trailing slash fail rename tmp file tmp im_missing errno enotdir reference http onlinepubs 9699919799 function rename.html change also add bunch test case various condition mentioned spec note case raname fail discrepancy linux osv error code set call understanding spec ambiguous condition match one error code description test therefore allowing call set error code set matching error code eexist enotempty allowed applicable decide osv return exactly error code linux condition changed later vfs rename fail path differ trailing slash fail rename tmp file tmp file signed tomasz grabiec tgrabiec cloudius systems.com,,
5111,1fe308408b0ad9f9ce5ebc71bc680655412e109f,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-28 10:42:51 +0100, , vfs namei return enotdir component directory call namei dir file currently fails enoent dir file exists standard way return enotdir instead way call stat open rename etc line posix spec also useful rename implementation need differentiate behaviour case target doe exist case doe path trailing slash last component directory addition check performed inconsistent matter dentry lookup failed change make check performed always signed tomasz grabiec tgrabiec cloudius systems.com,,
5112,905018f22df4e0f48f156360d4a4618ab5df86b0,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-28 09:20:22 +0100, , vfs fix ancestry check rename renaming destination substring source path parent succeed rename tmp one_two tmp one renaming child fail rename tmp tmp child errno einval signed tomasz grabiec tgrabiec cloudius systems.com,,
5113,47d3d232fe26c8f9e37e4f91a7d72edee07a1902,vi Kivity <avi@cloudius-systems.com>, 2013-10-29 12:32:23 +0200, , build omit source file converting source file .cc make complain old source file missing annoying especially bisecting compile testing patch set fix removing source file dependency since dependency alread specified explicitly makefile information lost signed avi kivity avi cloudius systems.com,,
5114,7547eee7430fd435d7b59d8de81f20b804319d1b,enoÃ®t Canet <benoit@irqsave.net>, 2013-10-29 07:59:27 +0100, , acpi timer.set requires absolute value sched timer set function expects absolute time value fix incorret use signed benoit canet benoit irqsave.net signed pekka enberg penberg cloudius systems.com,,
5115,305c373e8ea7b6cf7fd8c304c8c16d4bdf1b2fe2,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-28 23:21:35 +0100, , cpio simplify stream creation signed tomasz grabiec tgrabiec cloudius systems.com,,
5116,c19e28f409fa43808db742c37f5880c97ed3a2ed,vi Kivity <avi@cloudius-systems.com>, 2013-10-28 14:48:04 +0200, , x64 fix apic register read qemu expression unsigned optimized compiler reading significant byte dropping shift optimization applied reading apic qemu return zero processor since manual requires reading entire word fix using volatile pointer disabling optimization note qemu technically correct though violates known real x86 implementation signed avi kivity avi cloudius systems.com,,
5117,e7ba2287eebe0fc3d811f79ac9a164a6700987a0,vi Kivity <avi@cloudius-systems.com>, 2013-10-28 14:45:22 +0200, , x64 fix xapic init ipi xapic init_ipi shift apic_id unaware xapic ipi result boot processor reset instead auxiliary processor remove extraneous shift found booting qemu without kvm signed avi kivity avi cloudius systems.com,,
5118,3832440a0bc8487da2bbc93c47cc736274b6625f,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-28 13:16:34 +0200, , driver xenfront xenbus fix scanf variable type spotted gcc wformat driver xenfront xenbus.cc function xenbusstate device_t driver xenfront xenbus.cc 219 warning format expects argument type int argument type xenbusstate aka xenbus_state wformat xs_scanf xst_nil dev get_node_path .c_str state null state signed pekka enberg penberg cloudius systems.com,,
5119,5554207598804658aecba1602803ae246fb47caf,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-25 12:15:35 +0300, , bsd fix printf format string spotted gcc wformat bsd sys netinet tcp_subr.c function tcp_log_addrâ bsd sys netinet tcp_subr.c 2286 warning unknown conversion type character format wformat sprintf tcpflags th_flags print_th_flags  bsd sys netinet tcp_subr.c 2286 warning many argument format wformat extra args bsd nice printf extension printing bitfields switch hexadecimal output signed pekka enberg penberg cloudius systems.com,,
5120,f636017071d03d1b10760702362c3f177afc17d0,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-25 11:56:50 +0300, , build add werror option makefile add werror option makefile used disable werror gcc option temporarily follows make werror useful fixing build breakage caused addition new default compiler warning signed pekka enberg penberg cloudius systems.com,,
5121,8dbcbbf1c25b1824abfc7c87624fbea92cacb269,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-25 12:09:45 +0300, , percpu fix arithmetic pointer void spotted clang file included loader.cc file included driver virtio net.hh file included bsd sys net if_var.h file included bsd sys sys mbuf.h file included bsd porting uma_stub.h 161 include osv percpu.hh error arithmetic pointer void return base offset  signed pekka enberg penberg cloudius systems.com,,
5122,569bbd998fc0b741987214d5a9a38efe00044b40,vi Kivity <avi@cloudius-systems.com>, 2013-10-28 11:35:50 +0200, , build run mkfs one vcpu smp currently work non accelerated qemu help anyway mkfs restrict vcpu avoid problem signed avi kivity avi cloudius systems.com,,
5123,88d0a0e11583aa877fb3b8af79bb5f13f6af9172,vi Kivity <avi@cloudius-systems.com>, 2013-10-28 11:35:29 +0200, , run auto detect hypervisor signed avi kivity avi cloudius systems.com,,
5124,6d9405aae23641c49a348977e5865e48e92a79bb,mitry <dmitry@daynix.com>, 2013-10-27 17:03:21 +0200, , dlopen return null case error patch fix regression dlopen must return null case error pointer shared_ptr holding null returned instead signed dmitry dmitry daynix.com,,
5125,0e7c8e423b4a0e4a0c4e3e461a7ff2fbf28216ca,enoÃ®t Canet <benoit@irqsave.net>, 2013-10-26 19:48:50 +0200, , dhcp handle dhcp_mt_nak packet restarting dhcp configuration follow section 3.1.5 rfc2131 signed benoit canet benoit irqsave.net signed avi kivity avi cloudius systems.com,,
5126,cc6073f39e8c7d7d973c4d162481fa65f2d801d4,enoÃ®t Canet <benoit@irqsave.net>, 2013-10-26 19:48:49 +0200, , dhcp configure setting dhcp server committed new behavior wait dhcp_ack received osv configure network parameter signed benoit canet benoit irqsave.net signed avi kivity avi cloudius systems.com,,
5127,dc8fbf3a1b417db817cd8cab5cb401da5e4928fe,enoÃ®t Canet <benoit@irqsave.net>, 2013-10-26 19:48:48 +0200, , dhcp remove superfluous comment signed benoit canet benoit irqsave.net signed avi kivity avi cloudius systems.com,,
5128,01576ce6fcd8017e2efc5602cc33d8c5122eba5d,adav Har'El <nyh@cloudius-systems.com>, 2013-10-27 10:15:00 +0200, , test unhandled exception commit fixed issue made unhandled exception work correctly patch add test tst except.cc test unhandled exception really doe call custom termination handler standard allows set commit test would hang unfortunately gcc libsupc try hard ensure terminination handler really doe abort handler return throw exception library nevertheless abort need trick ugly longjmp make test able complete without aborting system signed nadav har nyh cloudius systems.com,,
5129,ae5b31b8aa97fb580f7acc8e40a2675f03ee6b7e,r Cohen <orc@fewbytes.com>, 2013-10-25 13:03:02 +0300, , add wno format security build distribution enabled gcc wformat security default cause build raise format warning even though wformat used setting format security build consistency distros signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
5130,7f5e3bd1966152626b983878c940c8cfc16e7eb3,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-25 12:11:45 +0300, , tool route fix line break run dos2unix sucker ... signed pekka enberg penberg cloudius systems.com,,
5131,446352e145bfd241c9c41914c85807d688caff3d,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-24 12:26:59 +0300, , mmu fix constexpr doe allow constant expression http question 10369606 constexpr pointer value gcc enforce clang doe signed pekka enberg penberg cloudius systems.com,,
5132,9ee4a63e78867104ffd791241e3b3c2249f8c2cc,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-23 18:19:34 +0200,66, cpio reduce memory pressure current implementation copying whole file content array stringstream hood copied even bigger array allocation causing memory fragmentation time led malloc failure new approach using fixed amount memory file wrap cpio input stream restricted stream limit amount data read represents view file data consumer read simply ignore remaining padding cpio stream fix issue signed tomasz grabiec tgrabiec cloudius systems.com,,
5133,57131a6fdb63dce50043d0237f26e0218a293e95,vi Kivity <avi@cloudius-systems.com>, 2013-10-24 19:39:24 +0100, , build connect osv via ipv4 mkfs sometimes pick ipv6 supported force use ipv4 signed avi kivity avi cloudius systems.com,,
5134,15fe3098b0ed780e85a5a0ed88d6fde6402a6587,enoÃ®t Canet <benoit@irqsave.net>, 2013-10-14 16:17:41 +0200, , panic create test crash osv pvpanic testing signed benoit canet benoit irqsave.net signed avi kivity avi cloudius systems.com,,
5135,768949d2281fcc65d409804436eca4e935c9f159,enoÃ®t Canet <benoit@irqsave.net>, 2013-10-14 16:17:40 +0200, , panic add pvpanic.cc kvm panic driver signed benoit canet benoit irqsave.net signed avi kivity avi cloudius systems.com,,
5136,0d2d27e90713ca497f4d0e87c981d732cff0baf8,enoÃ®t Canet <benoit@irqsave.net>, 2013-10-14 16:17:39 +0200, , acpi initialize acpica subsystem main_cont initialization done time everything needed ready signed benoit canet benoit irqsave.net signed avi kivity avi cloudius systems.com,,
5137,646c92b87d13201ae90e10fa7339ced8ea64b090,enoÃ®t Canet <benoit@irqsave.net>, 2013-10-14 16:17:38 +0200, , acpi fill two missing function acpica able initialize fully signed benoit canet benoit irqsave.net signed avi kivity avi cloudius systems.com,,
5138,97ef56d16d5eea7a964ad8606c38fcf4ee270212,enoÃ®t Canet <benoit@irqsave.net>, 2013-10-14 16:17:37 +0200, , acpi fill start fill missing acpica osv primitive order able fully initialize acpica use driver probe function signed benoit canet benoit irqsave.net signed avi kivity avi cloudius systems.com,,
5139,a7e25757a2a504632cbd473947a26f0b394616d9,r Cohen <orc@fewbytes.com>, 2013-10-24 15:48:33 +0300, , fix calling strftime null opensolaris version strftime accepts char format translates locale default strftime http www.unix.com man page opensolaris strftime signed cohen orc fewbytes.com,,
5140,04fec61457b8aa96a30317179186b62aca86b8b6,r Cohen <orc@fewbytes.com>, 2013-10-24 15:43:55 +0300, , fix trivial format warning signed cohen orc fewbytes.com,,
5141,22efa7828a5d4cfac5f3f5b31a97949ffac08fa5,r Cohen <orc@fewbytes.com>, 2013-10-24 15:30:12 +0300, , fix format warning width specifier signed cohen orc fewbytes.com,,
5142,9ece7993996ba2992b2536734b79d4e7cea0bf50,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-23 13:58:54 +0200, , vfs fix lookup path ending slash example assuming following file exists tmp dir following sondiered absent tmp dir considered present tmp dir signed tomasz grabiec tgrabiec cloudius systems.com,,
5143,858a228989dd9f1de418ea27e0caf2e8d65cb3cc,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-17 19:14:39 +0200, , ramfs fix use free ranaming file happens move file different directory thread thread  arch x64 processor.hh 239 osv halt core power.cc abort msg msg entry 0x580160 page fault outside application runtime.cc 109 page_fault core mmu.cc 981 signal handler called merge core mempool.cc 421 memory range range entry core mempool.cc 436 memory free_page_range range range entry core mempool.cc 448 free_large obj core mempool.cc 460 std_free object core mempool.cc 790 free obj core mempool.cc 892 ramfs_free_node entry ramfs ramfs_vnops.c dnp ramfs ramfs_vnops.c 131 ramfs_rename dvp1 vp1 name1 optimized dvp2 vp2 optimized name2 0x2000001fedf1 prefix_suffix ramfs ramfs_vnops.c 380 sys_rename src optimized dest optimized vfs vfs_syscalls.c 671 rename oldpath optimized newpath tmp 26e1b47c prefix_suffix vfs main.cc 634 signed tomasz grabiec tgrabiec cloudius systems.com,,
5144,e0b7db2303bfe0d7f21da79663a6f02e114df7b9,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-24 12:38:48 +0300, , driver vga fix vgaconsole write spotted clang driver vga.hh error vgaconsole write hide overloaded virtual function werror woverloaded virtual virtual void write const char str  driver console.hh note hidden overloaded virtual function console write declared different number parameter virtual void write const char str size_t len  signed pekka enberg penberg cloudius systems.com,,
5145,ba2abdf7f151cc1050dbdc46041ac7512535b28e,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-24 12:35:41 +0300, , arch cpu.hh fix arch_thread forward declaration spotted clang arch x64 arch cpu.hh error arch_thread defined struct previously declared class werror wmismatched tag struct arch_thread  arch x64 arch cpu.hh note mean struct class arch_thread  struct signed pekka enberg penberg cloudius systems.com,,
5146,d24fbaeb03b5e01d312ca88985838beb4de6d296,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-24 12:35:02 +0300, , elf.hh fix symbol_module forward declaration spotted clang signed pekka enberg penberg cloudius systems.com,,
5147,1cc07c2b99843de8e474eb9ac73b8022d414ce2e,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-24 12:34:24 +0300, , sched.hh fix struct cpu friend forward declaration spotted clang signed pekka enberg penberg cloudius systems.com,,
5148,f5eb3fdd73822315851ff0faea34a487f3d26f9d,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-24 12:31:05 +0300, , sched.hh fix arch_cpu friend declaration spotted clang include sched.hh 278 error class arch_cpu previously declared struct werror wmismatched tag friend class arch_cpu  arch x64 arch cpu.hh note previous use struct arch_cpu  include sched.hh 278 note mean struct friend class arch_cpu  struct signed pekka enberg penberg cloudius systems.com,,
5149,766b97197b5893838938353c92e7a9196e9de55e,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-24 12:32:21 +0300, , arch cpu.hh fix arch_cpu forward declaration spotted clang include sched.hh 278 error class arch_cpu previously declared struct werror wmismatched tag friend class arch_cpu  arch x64 arch cpu.hh note previous use struct arch_cpu  include sched.hh 278 note mean struct friend class arch_cpu  struct signed pekka enberg penberg cloudius systems.com,,
5150,986afc389d61ed98907a4f05ce49b9171af7c632,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-24 12:29:25 +0300, , trace.hh fix assigner_type forward declaration spotted clang include osv trace.hh error assigner_type defined struct template previously declared class template werror wmismatched tag struct assigner_type storage_args s_args ... runtime_args r_args ...  include osv trace.hh note mean struct class assigner_type  struct signed pekka enberg penberg cloudius systems.com,,
5151,2ed159eb108088c22f918723b14684f8a472555e,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-17 19:14:22 +0200, , tst rename convert boost unit test framework signed tomasz grabiec tgrabiec cloudius systems.com,,
5152,dcd14af793d09a5762e1a7ed9f01924b1b4da892,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-20 21:39:30 +0200, , stub function needed link boost filesystem signed tomasz grabiec tgrabiec cloudius systems.com,,
5153,d955e3164a222a30f5d2b6553d31047addf67b36,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-18 18:15:01 +0200, , stub call needed link run signed tomasz grabiec tgrabiec cloudius systems.com,,
5154,495641c033c58316d70e8693050d38703efe03b6,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-19 22:00:32 +0200, , vfs implement truncate64 needed link signed tomasz grabiec tgrabiec cloudius systems.com,,
5155,8c3856a6e64da7bfaf4010f2bde01c62681f30d1,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-21 12:20:46 +0200, , elf.cc update list core object signed tomasz grabiec tgrabiec cloudius systems.com,,
5156,f9616057366b3385ba1070a0c3d211e7bc8b40a3,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-23 20:42:28 +0300, , tst solaris taskq.so fix printf format string spotted gcc test tst solaris taskq.c function tq_test_funcâ test tst solaris taskq.c error format expects argument type char argument type void werror format kprintf called __func__ arg  signed pekka enberg penberg cloudius systems.com,,
5157,b02b6825044f48d2ba8ec22f2517235e7209141f,r Cohen <orc@fewbytes.com>, 2013-10-23 19:48:37 +0300, , fix usage non literal format print signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
5158,18e12f5ab9c5076180442b6080c7b4799c12f48b,r Cohen <orc@fewbytes.com>, 2013-10-23 19:48:39 +0300, , removed m_print wrong format used m_print used special format specifier bsd printf http www.unix.com man page freebsd printf instead implementing specifier different way method used anywhere completely removed signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
5159,6caee7bf3366f246492100a2267d1e90f7e45af5,r Cohen <orc@fewbytes.com>, 2013-10-23 19:48:40 +0300, , removed ether_sprintf wrong format used ether_sprintf used special format specifier bsd printf http www.unix.com man page freebsd printf instead implementing specifier different way method used anywhere completely removed signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
5160,259f177a5675192da78ff679654cf62db28ec366,r Cohen <orc@fewbytes.com>, 2013-10-23 19:48:42 +0300, , tst rename.so fix printf file name instead descriptor signed cohen orc fewbytes.com signed pekka enberg penberg cloudius systems.com,,
5161,701019cdaa09c5095102ab97bf6be42fd69d51df,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-23 17:22:02 +0300, , script use short tag format release currently osv release number would look like git describe tag long v0.02 gc40b86b stop using long let git describe right thing git describe tag v0.01 298 g42d11fb git tag v0.02 git describe tag v0.02 signed pekka enberg penberg cloudius systems.com,,
5162,a96151b221def8481e85e03e5c3a6e01fb6ee8dd,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-23 17:50:28 +0300, , bump mgmt version use latest greatest mgmt preparation v0.02 signed pekka enberg penberg cloudius systems.com,,
5163,7fc023e8eba872260932e1c4264caf3b0b3b6932,adav Har'El <nyh@cloudius-systems.com>, 2013-10-23 17:43:34 +0300, , fix top call stack treatment unhandled exception noticed tomek issue unhandled exception cause osv silently hang endless loop inside unwinding code patch fix wrong cfi dwarf call frame information caused unwinder loop single line assembly missing topmost frame thread main function need undefine saved rip prevent going back gdb end every output warning frame save hey nobody complained ... unwinding library unfortunately endless loop seen issue one line patch unhandled exception work expected abort message like terminate called throwing instance int aborted attaching debugger see exactly offending throw came i.e. stack doe unnecessarily unwind nobody waiting catch exception work uncaught exception anywhere including inside main constructor loading object running main gdb also longer end stack trace error message last frame show thread_main signed nadav har nyh cloudius systems.com,,
5164,a3fe392419f4a95d3f7f3abf5978a612c32244a7,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-23 15:56:00 +0300, , automate release amazon switching amazon osv pre built image release script s3cmd http s3tools.org s3cmd installed fedora yum install s3cmd python magic please remember configure amazon credential running script s3cmd configure release new version osv git tag version scrip release git push tag signed pekka enberg penberg cloudius systems.com,,
5165,7b7a291e5e9b47fb49a92b41c3bbaf3dfc169315,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-23 14:25:27 +0300, , runtime make exit power use osv poweroff instead abort exit make stop cleanly jvm system.exit needed dacapo signed pekka enberg penberg cloudius systems.com,,
5166,6ed1b58167df2e3bb08e026cd7368dee267d8c61,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-21 14:07:25 +0300, , loader version numbering patch add version numbering loader use git tag generating unique version number little bit shell script magic make sure version number always date signed pekka enberg penberg cloudius systems.com,,
5167,336c1a970453d9a2f71e9e8e7a2d8fa1318618dd,adav Har'El <nyh@cloudius-systems.com>, 2013-10-23 09:57:00 +0300, , fix broken example readme commit name jar contains version number 1.0.0 instead 1.0. default command line changed accordingly build.mk forgot likewise update example readme trivial patch fix example signed nadav har nyh cloudius systems.com,,
5168,ab623c9f186030960418d48ec682eb328e7488c3,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-17 12:14:34 +0300, , x64 make dump_register fault handler safe debug call deadlock using boost format switch debug_ll signed pekka enberg penberg cloudius systems.com,,
5169,518c60ff1039930ef0a14b6b77e87bc5582db968,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-17 11:24:45 +0300, , debug add format specifier debug_ll needed make dump_registers safe call fault handler signed pekka enberg penberg cloudius systems.com,,
5170,e8b33142905170dab79be7c8e409c9585354238e,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-22 12:15:26 +0300, , x64 fix missing newline dump_registers debug format string missing newline fix signed pekka enberg penberg cloudius systems.com,,
5171,7f9faa65a4993ac0de0000452cec36956a0badf8,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-21 17:17:55 +0200, , fix linker error make mode debug workaround linker error compiling referenced section .text.fixup core mmu.o defined discarded section  core mmu.o safe_load template used runtime.cc core mmu.cc linker keep one section discarding signed tomasz grabiec tgrabiec cloudius systems.com,,
5172,b440bfe6ff3f170121a698a9a269051d43518498,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-21 16:49:05 +0200, , fix make mode debug build building get bsd sys cddl contrib opensolaris common zfs zfs_ioctl.o function ... bsd sys cddl contrib opensolaris common zfs zfs_ioctl.c 3265 undefined reference look like problem missing symbol referenced zfs_ioctl.o zvol.o defined inside ifdef notyet block work normal build compiled even reference zfs_ioctl.c optimized away patch put block using also inside ifdef notyet consistent signed tomasz grabiec tgrabiec cloudius systems.com,,
5173,b9618f949e7e56103ac3ecdb61f98921b75b8411,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-21 12:14:47 +0300, , automate releasing artifactory add script releasing osv qcow2 image artifactory signed pekka enberg penberg cloudius systems.com,,
5174,a69d39a67903fcdf8e7c070a5bbfcb3d46f83721,mitry Fleytman <dmitry@daynix.com>, 2013-10-18 18:39:03 +0300, , net maximum datagram size decreased eth header length freebsd networking code limit datagram size ip_maxpacket exactly 64k calculation take account ethernet header length may generate ethernet packet longer 64k packet processed properly device xen netback dropped patch fix corner case supported protocol signed dmitry fleytman dmitry daynix.com,,
5175,f6a8880b5343e18c9bf382bc7ce25b36c4b055c3,mitry Fleytman <dmitry@daynix.com>, 2013-10-16 22:08:33 +0300, , net use jubmo packet zone m_defrag allocation patch fix part tcp instability low throughput problem xen transmit networking stack pass xen netfront driver list mbufs page_size 4096 byte case list consists fragment driver try defragment m_defrag m_defrag turn try build list buffer mclbytes 2048 byte lead even longer chain packet dropped result around tcp segment lost intensive tcp retransmissions slowdown occur patch make m_defrag use jumbo packet zone allocation i.e page_size per mbuf patch pretty similar glauber done path signed dmitry fleytman dmitry daynix.com,,
5176,bf6765e5c41941832280fd1b2c86e22af989e511,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-18 11:30:46 +0300, , makefile add make check target add make check target run whitelisted test osv signed pekka enberg penberg cloudius systems.com,,
5177,6a3ace8117aa0e15d0ba3efb7fd8a6e252f1a959,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-15 16:16:00 +0300, , mmu vma search optimization like commit b17819d mmu optimize searching vmas rest core mmu.cc signed pekka enberg penberg cloudius systems.com,,
5178,35de555d4d8986804ff1458ab874984ffb04ac27,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-17 14:40:43 +0300, , mkfs clean info message make adding file message intimidating signed pekka enberg penberg cloudius systems.com,,
5179,520ee4a445ef3e261261e4e43223262bfadba743,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-17 12:49:05 +0200, , run.py simplify signed tomasz grabiec tgrabiec cloudius systems.com,,
5180,64b6d793f6b4ee54b58c54664f7a0c0ebefc0924,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-17 12:32:40 +0200, , fix make mode debug pas image path run.py signed tomasz grabiec tgrabiec cloudius systems.com,,
5181,14c0225c1f76d92c01a110aa48a8536f16cf703e,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-17 12:32:18 +0200, , run.py allow specify image path needed mkzfs.py signed tomasz grabiec tgrabiec cloudius systems.com,,
5182,8170485914013c7e691abb4a943f471bf37dcc08,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-17 11:43:29 +0300, , mkfs start listening earlier start listening soon guest running make host mkzfs.py conneciton racy fix osv image creation problem seeing signed pekka enberg penberg cloudius systems.com,,
5183,767c807ffb1f4da34cec91ccd479d6748bd7cff8,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-16 15:30:01 +0200, , ramfs fix rename new name longer strlcpy expects buffer length string length signed tomasz grabiec tgrabiec cloudius systems.com,,
5184,1989d9eabc97d68c3a57181ff584f1b830705d98,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-17 09:05:59 +0200, , fix run.py build doe support direct build directory tmpfs cache none option make qemu fail error could open disk image build release usr.img invalid argument using tmpfs build make _huge_ difference build time setup patch add fallback unsafe mode direct supported signed tomasz grabiec tgrabiec cloudius systems.com,,
5185,87b8f73b84f55a353474fb2f0ebc6b4fc484dae2,vi Kivity <avi@cloudius-systems.com>, 2013-10-16 18:33:54 +0300, , build drop qemu img create supported older qemus signed avi kivity avi cloudius systems.com,,
5186,a9aed0579baa392158c5e440c4e5afa452e10f29,vi Kivity <avi@cloudius-systems.com>, 2013-10-16 18:24:00 +0300, , zfs cmd disable jail command supported osv reported break build system signed avi kivity avi cloudius systems.com,,
5187,36c52dca535d08cfeaf1a71cce3b956a9d697bfe,vi Kivity <avi@cloudius-systems.com>, 2013-10-16 18:13:53 +0300, , merge branch mkfs switch osv built mkfs rather zfs fuse signed avi kivity avi cloudius systems.com,,
5188,5884e7c0eabdd9ab3098a969ae67da9d33e2fa72,vi Kivity <avi@cloudius-systems.com>, 2013-10-16 13:43:50 +0300, , build clean mkzfs.py drop sudo global zfs temporary directory signed avi kivity avi cloudius systems.com,,
5189,d60511a1970051ba50575fee0de1766ddac3ba93,vi Kivity <avi@cloudius-systems.com>, 2013-10-03 11:20:43 +0300, , build switch osv supplied mkfs rather zfs fuse drop superuser requirement build process reduces build prerequisite list signed avi kivity avi cloudius systems.com,,
5190,d767cfbb66c18bc41df5877bdb07f0ffd577ec10,vi Kivity <avi@cloudius-systems.com>, 2013-10-16 11:32:08 +0300, , mkfs sync adding file signed avi kivity avi cloudius systems.com,,
5191,cd19186d9d890ab417ff96d3b6a4573132617cde,vi Kivity <avi@cloudius-systems.com>, 2013-10-14 17:57:46 +0300, , mkfs stream file data signed avi kivity avi cloudius systems.com,,
5192,4369b011e31fc94733626139c6f49a09091102b6,vi Kivity <avi@cloudius-systems.com>, 2013-10-14 17:57:11 +0300, , mkfs cpio stream parser implement parser cpio newc format signed avi kivity avi cloudius systems.com,,
5193,ba81256363b84dea79cdbfa956af95822cac8421,vi Kivity <avi@cloudius-systems.com>, 2013-10-16 12:08:56 +0300, , loader add nomount option useful filesystem yet available signed avi kivity avi cloudius systems.com,,
5194,3cfa6d993dbab1d68d7b982ded39205c339ab011,vi Kivity <avi@cloudius-systems.com>, 2013-10-16 12:06:37 +0300, , build include entirety boost library link allows using boost library shared object signed avi kivity avi cloudius systems.com,,
5195,ca52fa23a379699a0d3eded2d8e95e7011aa1418,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-16 14:55:12 +0300, , x64 register dump fault dump register general protection fault debugging purpose even gdb available getting exception frame always possible osv crashed example output look follows register rip rfl rax rbx rcx rdx rsi rdi rbp r10 r11 r12 r13 r14 r15 rsp general protection fault signed pekka enberg penberg cloudius systems.com,,
5196,72c5b0115e0bd33953694fc51ed2dfb5d1da9ad8,vi Kivity <avi@cloudius-systems.com>, 2013-10-03 11:20:03 +0300, , zfs port unmounting support signed avi kivity avi cloudius systems.com,,
5197,7d8ee54d33c2e0788c1e0a718ef46710a23d16e3,vi Kivity <avi@cloudius-systems.com>, 2013-10-03 11:12:23 +0300, , bsd implement getmntent signed avi kivity avi cloudius systems.com,,
5198,eb90cc58c3640e8d742e66de983cac79eb268f74,vi Kivity <avi@cloudius-systems.com>, 2013-10-03 11:10:44 +0300, , bsd reconcile ms_rdonly definition api mount.h make two definition exactly equal compiler doe complain signed avi kivity avi cloudius systems.com,,
5199,157e22a5f327da0aaa7329171377920ccf2228c7,vi Kivity <avi@cloudius-systems.com>, 2013-10-03 11:09:24 +0300, , bsd allow mnttab.h included code signed avi kivity avi cloudius systems.com,,
5200,e7911ecd0c27133b2d2d49c516a8c7628b56cf5c,vi Kivity <avi@cloudius-systems.com>, 2013-10-03 11:04:45 +0300, , mkfs create filesystem create file system top pool signed avi kivity avi cloudius systems.com,,
5201,7405523c3c12e39d4323999f9a2be7663bc1abc9,vi Kivity <avi@cloudius-systems.com>, 2013-10-03 11:03:43 +0300, , mkfs create etc mnttab zfs utility want etc mnttab let signed avi kivity avi cloudius systems.com,,
5202,632636a6ef1937a52e9bfb4053d0d30c23b53b0b,vi Kivity <avi@cloudius-systems.com>, 2013-10-02 14:55:08 +0300, , zfs wire exporting functionality,,
5203,53dc59471dae81db1052d289bc3cb4df7d93475b,vi Kivity <avi@cloudius-systems.com>, 2013-10-16 12:07:51 +0300, , libc stub epoll epollet treatment ignoring epollet generate wakeups work application signed avi kivity avi cloudius systems.com,,
5204,4a487e2c0142084c2f5fbc4dfb7a3797fb287e9c,vi Kivity <avi@cloudius-systems.com>, 2013-10-03 12:41:00 +0300, , paths.h fix _path_mnttab signed avi kivity avi cloudius systems.com,,
5205,4547fe98906a02610e9f8b51111aeea9e4244003,vi Kivity <avi@cloudius-systems.com>, 2013-10-02 18:35:10 +0300, , mkfs add stub mkfs moment creates zpool filesystem signed avi kivity avi cloudius systems.com,,
5206,192ea84608e36d5de04d1920a9f6d400e92caa57,vi Kivity <avi@cloudius-systems.com>, 2013-10-03 11:23:49 +0300, , build package zfs.so zfs utility bootfs signed avi kivity avi cloudius systems.com,,
5207,1de53a0c2a5fac9a78efc245cad5efc950d31d12,vi Kivity <avi@cloudius-systems.com>, 2013-09-30 17:08:06 +0300, , imgedit fix large partition chs large partition set head 254 255. also accurate calculating exact point overflow,,
5208,82175a9ca39cfcc5eb3230c0aaa65ddecd49ed11,vi Kivity <avi@cloudius-systems.com>, 2013-10-16 12:09:45 +0300, , run allow forwarding tcp port run.py signed avi kivity avi cloudius systems.com,,
5209,2f7c1c809644d3b4cefe9af96ec4ac33da6ca05a,vi Kivity <avi@cloudius-systems.com>, 2013-10-03 12:41:42 +0300, , run switch cache none realistic signed avi kivity avi cloudius systems.com,,
5210,c1bc9b9a2e000e9cc5b27712922e794f8b4599f0,vi Kivity <avi@cloudius-systems.com>, 2013-10-06 19:40:09 +0300, , libc implement epoll_create1 superset epoll_create implement latter term former signed avi kivity avi cloudius systems.com,,
5211,8e6d5cbe62690a18846769c2ec6293c1f696bd91,vi Kivity <avi@cloudius-systems.com>, 2013-10-06 19:14:39 +0300, , libc stub eventfd needed boost.asio signed avi kivity avi cloudius systems.com,,
5212,7918cea9908331ca8f74bdf8f312aef2e45d689c,vi Kivity <avi@cloudius-systems.com>, 2013-10-06 18:52:44 +0300, , libc define mbstate_t __mbstate_t std streambuf char defined extern template mean instantiated library point use order reduce object size compilation time one member function std basic_streambuf seekpos ... parameter whose type depends mbstate_t embeds type name mangled function name linux mbstate_t typedef __mbstate_t latter type name embedded mangled function name osv typedef mbstate_t embedded cause lookup fail loading shared object streambufs fix defining mbstate_t way glibc signed avi kivity avi cloudius systems.com,,
5213,f2ccf8af5e85db0a81fda42d4c7f1270338e7d2f,vi Kivity <avi@cloudius-systems.com>, 2013-10-15 19:46:21 +0300, , libc implement sync signed avi kivity avi cloudius systems.com,,
5214,e1b50090066c8c91935bde6dc776ed0ff760bb05,vi Kivity <avi@cloudius-systems.com>, 2013-10-16 11:39:59 +0300, , merge branch run fix signed avi kivity avi cloudius systems.com,,
5215,313a3ed96e940b53a86aa81923efc3438e8e9a1d,vi Kivity <avi@cloudius-systems.com>, 2013-10-14 16:37:09 +0300, , run save optind across invocation optind global variable expected zero initialized getopt running one object another violates use getopt fix saving value optind across call signed avi kivity avi cloudius systems.com,,
5216,0601452f09da7b125b30a5660102b56e22dde4df,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-15 20:10:18 +0200, , fix build gnu make 3.82 define form introduced gnu make 3.82 meaning without default make ubuntu 13.04 stil 3.81. let drop better compatibility symptom make entering directory src osv build release bsd cddl contrib opensolaris cmd zpool zpool_iter.o bsd cddl contrib opensolaris cmd zpool zpool_iter.c fatal error solaris.h file directory include solaris.h  compilation terminated signed tomasz grabiec tgrabiec cloudius systems.com,,
5217,03f032f18bd8ba097b43172c08401f241c68c1f2,vi Kivity <avi@cloudius-systems.com>, 2013-10-14 16:32:54 +0300, , run add helper running vector string argv much easier constructing traditional argc argv signed avi kivity avi cloudius systems.com,,
5218,0d2f4c4a422badaa6935cd17c8d3afaeb1e0fccf,vi Kivity <avi@cloudius-systems.com>, 2013-10-14 16:32:30 +0300, , build build core run.cc signed avi kivity avi cloudius systems.com,,
5219,c85f7dd9b3382d3f582ecc846359972c7e94a897,vi Kivity <avi@cloudius-systems.com>, 2013-10-15 17:47:41 +0300, , elf implement shared object unlike main module simply offset shared object use indirection scheme since module get base address need found initialized via __get_tls_addr implement __get_tls_addr associated relocation storage management signed avi kivity avi cloudius systems.com,,
5220,b17819df81165457963ddfa106ccafa3b16e5051,vi Kivity <avi@cloudius-systems.com>, 2013-10-15 14:17:48 +0300, , mmu optimize searching vmas currently search entire vma list looking range optimal define vma addr_compare function object used comparator boost rbtree equal_range use search bound simultaneously signed avi kivity avi cloudius systems.com,,
5221,f60bb980997fae347a8ebbba9fa9520ec89269b8,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-15 09:57:28 +0200, , runjava set source level 1.7 signed tomasz grabiec tgrabiec cloudius systems.com,,
5222,f26c83d65ccd21fa18d426a7df6d9554e58a0236,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-14 16:14:40 +0200, , runjava move runjava.jar code separate directory related change previously made java build.xml reverted moved java runjava build.xml signed tomasz grabiec tgrabiec cloudius systems.com,,
5223,c0a8e41a347833ecb6a43c7535d8af3118360953,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-10 17:34:20 +0200, , runjava system class loader contain application resource system classloader class specified command line using classpath jar change runjava.jar included system class loader queried explicitly framework lookup class configred logging property file solve problem custom system classloader set starting jvm delegate application classloader created java program started also handle case new java application started within jvm application view system class however able install one system classloader per jvm solve start java application separate thread use hold application class loader used system class loader view thread family signed tomasz grabiec tgrabiec cloudius systems.com,,
5224,d93d6cfdebf17b3f501467d54e146d10f790f1b0,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-11 09:20:52 +0200, , runjava.jar build jar using ant building ant requires change build script new class added standrd tool build java program signed tomasz grabiec tgrabiec cloudius systems.com,,
5225,e15b3322f8bfdc9448d93a17f2a439dd8a88b407,adav Har'El <nyh@cloudius-systems.com>, 2013-10-14 15:25:14 +0300, , add osv run function add convenience function osv run run elf executable patch includes extensive doxygen documentation new function also detailing osv run differs familiar linux function like exec signed nadav har nyh cloudius systems.com,,
5226,7d5324488e915a9d171dd59822de6fbc16c41129,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-09 14:25:37 +0300, , mmu fix mincore non resident mmaps fix mincore follow linux abi return enomem part memory range unmapped even resident needed mincore work demand paged mmaps signed pekka enberg penberg cloudius systems.com,,
5227,bdc4a282d4d31d36dcef2f5cc687d0e83e0e5638,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-14 13:30:46 +0300, , libzpool fix rw_count type struct krwlock fix following compilation error bsd cddl contrib opensolaris lib libzpool common kernel.c function rw_enterâ bsd cddl contrib opensolaris lib libzpool common kernel.c 205 error pointer target passing argument atomic_add_intâ differ signedness werror pointer sign atomic_add_int rwlp rw_count  file included bsd sys cddl compat opensolaris sys atomic.h bsd cddl contrib opensolaris lib libzpool common sys zfs_context.h bsd sys cddl contrib opensolaris common zfs sys spa.h bsd cddl contrib opensolaris lib libzpool common kernel.c bsd machine atomic.h 285 note expected volatile u_int argument type int atomic_asm add int addl  signed pekka enberg penberg cloudius systems.com,,
5228,4fd23254139cdeb31691e91f1404f071da8754f9,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-14 14:01:40 +0300, , libzpool fix gettimeofday include fix following build breakage bsd cddl contrib opensolaris lib libzpool common kernel.o bsd cddl contrib opensolaris lib libzpool common kernel.c function cv_timedwaitâ bsd cddl contrib opensolaris lib libzpool common kernel.c 322 error implicit declaration function gettimeofdayâ werror implicit function declaration gettimeofday null  cc1 warning treated error signed pekka enberg penberg cloudius systems.com,,
5229,d2397b7e434513e98fffe4f77b2886d0637ee3c0,adav Har'El <nyh@cloudius-systems.com>, 2013-10-14 14:30:06 +0300, , add forgotten dlfcn.cc forgot commit change dlfcn.cc previous patch sorry ... signed nadav har nyh cloudius systems.com,,
5230,ba3e3efaf0da3eb9d175c9ce1be072206fea9a94,adav Har'El <nyh@cloudius-systems.com>, 2013-10-14 12:23:42 +0300, , rework elf program api patch incorporating comment previous round solves issue elf program api add_object remove_object problematic two respect reference counting loaded object add_object done time single remove_object would unmap object user crash like patch replaces two function single function get_library std shared_ptr elf object get_library std string lib std vector std string extra_path get_library return shared_ptr reference counting doe proper style raii example code auto lib elf get_program get_library path auto main lib lookup int int char main int main argc argv lib scope reference count elf object automatically nobody else hold another shared pointer library object destroyed causing shared library unloaded patch also document doxygen function touch important note reference count completely unrelated issue concurrent use dlopen dlclose dl_iterate_phdr still buggy need fix patch long fit margin signed nadav har nyh cloudius systems.com,,
5231,e4a948eb2145a6b081ddda504e69bdf2d8e01db6,vi Kivity <avi@cloudius-systems.com>, 2013-10-14 12:03:03 +0300, , merge branch mkfs mkfs infrastructure signed avi kivity avi cloudius systems.com,,
5232,765b993eb0373b2af10676a5938076c96b0a4df5,vi Kivity <avi@cloudius-systems.com>, 2013-10-02 18:57:10 +0300, , build wire zfs command build signed avi kivity avi cloudius systems.com,,
5233,ca8ff095a67475e6350db5cd429cd68a382aea11,vi Kivity <avi@cloudius-systems.com>, 2013-10-02 18:55:12 +0300, , build package libuuid.so bootfs signed avi kivity avi cloudius systems.com,,
5234,9e5d9bc701563c568d163cd5689209aa9e29bc54,vi Kivity <avi@cloudius-systems.com>, 2013-09-10 19:24:52 +0300, , zfs adjust mount non root mount root mount accept device pool name non root mount accept pool name device already known mounting pool root mount adjust mount protocol signed avi kivity avi cloudius systems.com,,
5235,57b430c3d84bdd8aea73658bd901c6ed3e4e032b,vi Kivity <avi@cloudius-systems.com>, 2013-09-10 18:48:17 +0300, , zpool build pool zfs zpool zfs userspace interface call create disabled part porting effort enable osv create zpools signed avi kivity avi cloudius systems.com,,
5236,cb8bf7f55fe6947ad23909b6be466c27fb31d7fd,vi Kivity <avi@cloudius-systems.com>, 2013-09-10 18:47:07 +0300, , zfs_context build adjustment signed avi kivity avi cloudius systems.com,,
5237,0e3e6e0d2afae8cc21a184a7322102449c9e6251,vi Kivity <avi@cloudius-systems.com>, 2013-09-10 18:46:22 +0300, , libzfs makefile adjustment signed avi kivity avi cloudius systems.com,,
5238,b84d74d5c551296fe2c3c833c963b069ec0bb5c3,vi Kivity <avi@cloudius-systems.com>, 2013-10-02 18:56:23 +0300, , build wire libuutil build signed avi kivity avi cloudius systems.com,,
5239,0846d187ebd2ef65269e2e74e4fb0383f3d66b4f,vi Kivity <avi@cloudius-systems.com>, 2013-09-10 18:45:39 +0300, , libzfs build adjustment osv signed avi kivity avi cloudius systems.com,,
5240,1436d37d661b7404f3e6dafe7618774214ca7605,vi Kivity <avi@cloudius-systems.com>, 2013-09-10 18:43:42 +0300, , libuutil build adjustment osv signed avi kivity avi cloudius systems.com,,
5241,95fedaf28b3d5318950133b285f8a24965666f57,vi Kivity <avi@cloudius-systems.com>, 2013-09-10 18:42:21 +0300, , zpool adjust is_whole_disk build is_whole_disk need pull lot partition code ignore instead signed avi kivity avi cloudius systems.com,,
5242,ffae4c4e80f5888a8695d3b81e7411b0cb58e576,vi Kivity <avi@cloudius-systems.com>, 2013-09-10 18:39:08 +0300, , bsd fix mnttab mnttab point dev zero exist long anyway point correct place signed avi kivity avi cloudius systems.com,,
5243,4f0d2656e05b8d878ce65fd13b98d55bfc68a34c,vi Kivity <avi@cloudius-systems.com>, 2013-09-10 18:21:52 +0300, , build wire libuutil build signed avi kivity avi cloudius systems.com,,
5244,3e5a0a26805fc9df9239c556152f775f9103a239,vi Kivity <avi@cloudius-systems.com>, 2013-09-10 18:21:36 +0300, , build wire zfs.so build signed avi kivity avi cloudius systems.com,,
5245,2b13f1bf9836877dcde19d27b4ac059a0c4fbd0b,vi Kivity <avi@cloudius-systems.com>, 2013-09-10 18:38:23 +0300, , zfs cmd adjustment build signed avi kivity avi cloudius systems.com,,
5246,4f60125f0c6b40cae5f194fa54de1df2567f0a0a,vi Kivity <avi@cloudius-systems.com>, 2013-10-02 18:32:19 +0300, , build include zpool.so bootfs want usr created yet signed avi kivity avi cloudius systems.com,,
5247,e8aecdd950e72b9433dcb0da3443f431a57de3fb,vi Kivity <avi@cloudius-systems.com>, 2013-10-02 18:12:35 +0300, , libc implement umount2 signed avi kivity avi cloudius systems.com,,
5248,7174aa9e73ac5f297c2f4c029fc3476c467c6be2,vi Kivity <avi@cloudius-systems.com>, 2013-10-02 18:31:03 +0300, , build build zpool command signed avi kivity avi cloudius systems.com,,
5249,882df3d9a4c02b9d140a5018667d5cc199a66cf0,vi Kivity <avi@cloudius-systems.com>, 2013-10-02 18:57:44 +0300, , build add rrwlock zvol zfs build signed avi kivity avi cloudius systems.com,,
5250,34832e22e5ff734d7b56ed516a246224dabf065f,vi Kivity <avi@cloudius-systems.com>, 2013-09-10 18:47:43 +0300, , sunddi build part previously disabled osv signed avi kivity avi cloudius systems.com,,
5251,04537cb9893bf45328bea6f31b59e67589b8fb6a,vi Kivity <avi@cloudius-systems.com>, 2013-09-10 19:07:14 +0300, , bsd adjust geom.h osv signed avi kivity avi cloudius systems.com,,
5252,f7091b35faa4675a22382ca36bb49feccfafe20c,vi Kivity <avi@cloudius-systems.com>, 2013-09-10 18:49:36 +0300, , zfs build adjustment rrwlock signed avi kivity avi cloudius systems.com,,
5253,cf0a1f39bc8b2c81a77cc1bebc275ea58ead6e5a,vi Kivity <avi@cloudius-systems.com>, 2013-10-13 16:43:39 +0300, , zfs build adjustment signed avi kivity avi cloudius systems.com,,
5254,0cc4e1ceb2e47deb77d228708dbd5a63847b35f4,vi Kivity <avi@cloudius-systems.com>, 2013-10-13 16:42:50 +0300, , zfs add missing include zfs_ioctl.c signed avi kivity avi cloudius systems.com,,
5255,9d87ebe8116efd33cdb5ec526d79ee5dc09bcc02,vi Kivity <avi@cloudius-systems.com>, 2013-10-13 16:41:16 +0300, , zfs reduce size zfs ioctl command buffer maxpathlen osv larger bsd leading zfs ioctl command buffer overflowing maximum allowable size reduce buffer size avoid compile time assert failure signed avi kivity avi cloudius systems.com,,
5256,24665da0a91aaedaab5d77aaf20346c108f627eb,vi Kivity <avi@cloudius-systems.com>, 2013-09-05 19:00:19 +0300, , build wire zpool cmd build signed avi kivity avi cloudius systems.com,,
5257,8e15d13ce8c374ba7bdc046d2d9b7ae0552ce9fd,vi Kivity <avi@cloudius-systems.com>, 2013-10-02 18:10:42 +0300, , bsd add missing include sys malloc.h signed avi kivity avi cloudius systems.com,,
5258,0390b93f90544ae247069b8cd59e18e46a1e9929,adav Har'El <nyh@cloudius-systems.com>, 2013-10-14 11:50:26 +0300, , change default signal handler poweroff instead abort default signal handler e.g. used abort result hung useful change osv poweroff give useful behavior one example run test run.py interrupt middle causing power run.py complete signed nadav har nyh cloudius systems.com,,
5259,9325f833b32c1b31097d3b133cf8ff258207ea64,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-12 18:17:07 +0200, , runjava handle directory classpath properly urlclassloader determines whether url denotes jar directory checking last character path  java java hello uncaught java exception hello 1.run 366 1.run 355 native method 354 424 357 runjava.java 175 runjava.java 115 runjava.java runjava.java  java java hello hello world signed tomasz grabiec tgrabiec cloudius systems.com,,
5260,e0b8739c1fbff5e66c6bc73d84d8e65133e73780,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-11 16:01:04 +0200, , java.cc return error rather abort currently call abort something wrong whith java.so command allow run process command line may best behavior problem starting import program abort system run java.so java hello run_elf running main context thread java.so create aborted instead could return system still usable run java.so java hello run_elf running main context thread java.so create run finished exitcode  signed tomasz grabiec tgrabiec cloudius systems.com,,
5261,51c749a976fbf041f5624a22457db57c6f80e4f1,adav Har'El <nyh@cloudius-systems.com>, 2013-10-13 23:15:14 +0300, , allow using float double value tracepoints new scheduling algorithm based floating point runtimes like able tracepoints debug adding float double trivial need tell tracing code use character float double python run gdb use osv trace already know unpack value designation signed nadav har nyh cloudius systems.com,,
5262,0c6565f65da2e17fabf87f2d6c706aa7faf67678,vi Kivity <avi@cloudius-systems.com>, 2013-09-10 19:05:26 +0300, , vnode define vattr_null signed avi kivity avi cloudius systems.com,,
5263,25f056e133ae617b6cc6cffb49fcf34f3b8c58ff,vi Kivity <avi@cloudius-systems.com>, 2013-10-02 18:01:10 +0300, , zfs add osv_zfs_ioctl shortcut various kernel layer avoid complication intended called various zfs utility signed avi kivity avi cloudius systems.com,,
5264,cbb52bb2f0141802bd9a056ae220dacb849e96f3,vi Kivity <avi@cloudius-systems.com>, 2013-10-02 17:59:27 +0300, , zfs disable jail ioctls supported osv signed avi kivity avi cloudius systems.com,,
5265,1ad0a6c26dc664d9d92a5468b3ea990a6891c3db,vi Kivity <avi@cloudius-systems.com>, 2013-10-02 17:58:45 +0300, , bsd implement ctassert wanted zfs_ioctl.c signed avi kivity avi cloudius systems.com,,
5266,052123a17a10851750f70e5df6e7c8ae29699ebc,vi Kivity <avi@cloudius-systems.com>, 2013-10-02 17:57:58 +0300, , zfs prepare zfs_ioctl inclusion build signed avi kivity avi cloudius systems.com,,
5267,54f7402f04445c264e1bff70f9dfb3da557fda13,vi Kivity <avi@cloudius-systems.com>, 2013-10-02 17:18:42 +0300, , devfs move debugging macro file avoid name conflict signed avi kivity avi cloudius systems.com,,
5268,e23ab6befd354239a6d88ce07643d8b9324fa76d,vi Kivity <avi@cloudius-systems.com>, 2013-09-03 18:23:41 +0300, , libzpool build adjustment signed avi kivity avi cloudius systems.com,,
5269,6ca2acc490e40db05e0cfd47e0d2f24c3649fac1,vi Kivity <avi@cloudius-systems.com>, 2013-09-03 18:25:38 +0300, , build build libzpool make part libzfs need separately anyway signed avi kivity avi cloudius systems.com,,
5270,03367e0ece04ced80795e0048de77022c072cb21,vi Kivity <avi@cloudius-systems.com>, 2013-09-03 18:25:09 +0300, , uio define uio_sysspace needed libzpool signed avi kivity avi cloudius systems.com,,
5271,930d471a9706bb9eb39eb827da6101fd9f25b656,vi Kivity <avi@cloudius-systems.com>, 2013-09-03 18:24:46 +0300, , cpuset add missing include signed avi kivity avi cloudius systems.com,,
5272,c24d2b81dd68473eea1b81a51fa37f472e2953c3,vi Kivity <avi@cloudius-systems.com>, 2013-09-03 18:24:07 +0300, , netport allow writing physmem strangely still work even though initialized signed avi kivity avi cloudius systems.com,,
5273,7b006413396bafe3cad12421170e21e8ecdfe8fc,vi Kivity <avi@cloudius-systems.com>, 2013-09-03 17:17:48 +0300, , build wire libzfs signed avi kivity avi cloudius systems.com,,
5274,dc3043bdbf58904f7ee841d392c7501e5f8aeb0e,vi Kivity <avi@cloudius-systems.com>, 2013-09-03 17:16:55 +0300, , path define _path_devzero needed mnttab,,
5275,71ec36ff4fd87212507c48d3d03bc0cafdddacd1,vi Kivity <avi@cloudius-systems.com>, 2013-09-03 17:15:33 +0300, , param.h include limits.h fixed maxpathlen signed avi kivity avi cloudius systems.com,,
5276,c7903f04489202067cd87ddad2147e2730d22295,vi Kivity <avi@cloudius-systems.com>, 2013-10-13 17:29:53 +0300, , build allow building management code make mgmt skip building management code developer ensure previously built tree place signed avi kivity avi cloudius systems.com,,
5277,b8cfd3ce0d6e31c42104514d6ad3d3a90db84d88,vi Kivity <avi@cloudius-systems.com>, 2013-09-03 17:14:53 +0300, , mount add ms_force define signed avi kivity avi cloudius systems.com,,
5278,6206564ee5e5ac42e942b274ee91a524215e3d99,vi Kivity <avi@cloudius-systems.com>, 2013-09-03 17:14:27 +0300, , netport add module stub needed libzfs signed avi kivity avi cloudius systems.com,,
5279,15f4d1aacf6bdff7f21269ed52a240dc58a2af6d,vi Kivity <avi@cloudius-systems.com>, 2013-09-03 17:14:04 +0300, , libzfs add missing includes signed avi kivity avi cloudius systems.com,,
5280,8bf9af270f33beea0e524f7b306c6707635b05c8,vi Kivity <avi@cloudius-systems.com>, 2013-10-13 14:53:50 +0300, , external update boost 1.53.0 signed avi kivity avi cloudius systems.com,,
5281,9bb558386dc295e23f2043d7f2c36571db0ca982,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-07 10:16:10 +0200, , move mgmt submodule head also requires fixing path mgmt jar build.mk usr.manifest version scheme changed git log format short 7a4db4e759b 54f4810a7 commit author tomasz grabiec tgrabiec cloudius systems.com revert supporting artifactory publish commit author tomasz grabiec tgrabiec cloudius systems.com mgmt web ditch jline 2.7 pulled jruby core commit author nadav har nyh cloudius systems.com moved runjava io.osv namespace commit author ronen narkis narkisr gmail.com supporting testing jruby rake test doe work matter commit author ronen narkis narkisr gmail.com ignoring build commit author ronen narkis narkisr gmail.com verfying json existence giving meaning full error commit author ronen narkis narkisr gmail.com moving three digit versioning order finer grained control rel commit author ronen narkis narkisr gmail.com supporting artifactory publish commit author ronen narkis narkisr gmail.com clearing unused repo commit author cohen orc fewbytes.com migrated ifconfig previous console commit author cohen orc fewbytes.com migrated run command previous cli commit author cohen orc fewbytes.com added helper method command commit author cohen orc fewbytes.com moved elfloader cloudius.cli cloudius.util,,
5282,82301253e500d0a8cf2cd0896e345d8e2cad1fc0,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-10 16:55:41 +0300, , x64 fix nested exception debugging commit a449b88 x64 enable sleeping fault context safe another thread enter fault handler cpu fix exception guard reflect needed demand paging page fault another thread happen cpu thread sleeping page fault handler signed pekka enberg penberg cloudius systems.com,,
5283,b0d2821fe951d3868e80d11acf25cb6ca8f390af,inakar Guniguntala <dino@linux.vnet.ibm.com>, 2013-10-11 02:13:39 +0530, , dlfcn fix dladdr return value noticed minor bug osv dlfcn implementation according linux man page dladdr return non zero success zero error http linux.die.net man dladdr signed dinakar guniguntala dino signed pekka enberg penberg cloudius systems.com,,
5284,95eb4d3ca79be97644ec824610fecb16b0b50d99,vi Kivity <avi@cloudius-systems.com>, 2013-09-03 13:33:19 +0300, , build make possible disable including bsd includes want tweak include order solaris solaris bsd osv compared osv osv bsd bsd bsd osv put includes variable nulled signed avi kivity avi cloudius systems.com,,
5285,3ae25f099907120e4e9ec56652e57e63ce9da37d,vi Kivity <avi@cloudius-systems.com>, 2013-09-03 13:25:37 +0300, , build add way prepend include directory signed avi kivity avi cloudius systems.com,,
5286,67dc96deb97b4f1ed41ec7c364c59006a5bec049,vi Kivity <avi@cloudius-systems.com>, 2013-09-03 13:25:00 +0300, , types.h add cpu add required solaris type signed avi kivity avi cloudius systems.com,,
5287,95ce17e30783cd748f3592104a6adbec7fad3856,vi Kivity <avi@cloudius-systems.com>, 2013-09-03 13:23:19 +0300, , build define _kernel everywhere _kernel defines scattered throughout code make understanding difficult define adjust source build define overridable variable non kernel imported code undo,,
5288,0228c7cc4e1c6d1e740b2347a89094c400f7615f,vi Kivity <avi@cloudius-systems.com>, 2013-09-10 18:20:53 +0300, , bsd import libumem imported freebsd 245655 change signed avi kivity avi cloudius systems.com,,
5289,5fca31d57c525e6f10b3e504f263d3d1a817a88f,vi Kivity <avi@cloudius-systems.com>, 2013-09-03 17:12:19 +0300, , bsd random import import freebsd file changeset 245655 signed avi kivity avi cloudius systems.com,,
5290,f3d263d19bb0fddeb26118843d267d7aab4937c8,vi Kivity <avi@cloudius-systems.com>, 2013-08-18 18:18:28 +0300, , bsd import libuutil imported change freebsd 245655 signed avi kivity avi cloudius systems.com,,
5291,90f19a2a256e32342893bc39b12e9e814e7dc64c,vi Kivity <avi@cloudius-systems.com>, 2013-08-18 17:16:41 +0300, , zfs import zpool zfs command line utility imported change freebsd 245655 signed avi kivity avi cloudius systems.com,,
5292,a7db78bd2537495b79372c414611469b1c3a8a5d,vi Kivity <avi@cloudius-systems.com>, 2013-10-10 15:09:44 +0300, , merge branch vfs.mount vfs mount unmount related functionality signed avi kivity avi cloudius systems.com,,
5293,6cf3c8f2e7957eb7b5b1abee3d8126747e9e671a,vi Kivity <avi@cloudius-systems.com>, 2013-10-03 12:40:27 +0300, , vfs implement vflush iterate inodes droping directory entry vnodes belonging mount point signed avi kivity avi cloudius systems.com,,
5294,dedb2d5b4ec80b3204561fb1efd38173a8b4b3cf,vi Kivity <avi@cloudius-systems.com>, 2013-10-03 12:39:32 +0300, , vfs export dref signed avi kivity avi cloudius systems.com,,
5295,6edfb24a1eefa5d0a7145826f21f9e38a2a9ba23,vi Kivity <avi@cloudius-systems.com>, 2013-10-03 12:37:38 +0300, , vfs store directory entry pointer vnode order unmount need drop vnodes mount point need find directory entry pointing signed avi kivity avi cloudius systems.com,,
5296,dd882c51d62da1a927f5267cf2df2fd30c5baa7b,vi Kivity <avi@cloudius-systems.com>, 2013-10-03 12:29:44 +0300, , vfs save mount resource mount entry signed avi kivity avi cloudius systems.com,,
5297,95b0f17e410bca64a38f7c5e7f0d2b2f75c39512,vi Kivity <avi@cloudius-systems.com>, 2013-10-03 12:22:22 +0300, , vfs add function getting current mount similar etc mnttab without going file system signed avi kivity avi cloudius systems.com,,
5298,3acdc46c79582aa7b60a9e3e867a63d6ce1c79da,vi Kivity <avi@cloudius-systems.com>, 2013-09-11 18:35:06 +0300, , vfs convert vfs_mount.cc osv indent signed avi kivity avi cloudius systems.com,,
5299,6f917c552476d8fe7f197db17e72216fb837e874,vi Kivity <avi@cloudius-systems.com>, 2013-09-11 18:30:21 +0300, , vfs convert vfs_mount.c signed avi kivity avi cloudius systems.com,,
5300,1fef16dd78478cfc09422bfaf0247661ba33aa04,vi Kivity <avi@cloudius-systems.com>, 2013-10-10 14:59:21 +0300, , vfs const correctness dentry_alloc signed avi kivity avi cloudius systems.com,,
5301,b082ede8ca1fada2a94f911897308a4663b44bcf,vi Kivity <avi@cloudius-systems.com>, 2013-10-02 18:59:36 +0300, , vfs implement nmount nmount mount variant work key value pair provide option implement osv signed avi kivity avi cloudius systems.com,,
5302,7549ba9546dca97f5c71367007d752b74854a368,vi Kivity <avi@cloudius-systems.com>, 2013-09-10 19:06:16 +0300, , vfs allow mount device parameter valid device zfs interprets device parameter pool name insist opening device signed avi kivity avi cloudius systems.com,,
5303,6371871ce6d4acd9d1a542c0c046cc4ef653caf5,vi Kivity <avi@cloudius-systems.com>, 2013-10-10 11:55:56 +0300, , merge branch partition partition table fix signed avi kivity avi cloudius systems.com,,
5304,d260fade2fdbe936e107a90b816eac9e941b0aec,vi Kivity <avi@cloudius-systems.com>, 2013-09-30 17:16:12 +0300, , partition fix partition offset truncation partition offset bit allow calculation signed avi kivity avi cloudius systems.com,,
5305,9c724a4b9c8966d4c8cca92673d8a86d638e9bdc,vi Kivity <avi@cloudius-systems.com>, 2013-09-30 17:14:25 +0300, , partition remove bad check paritition table entry head 254 legal check also assumes head 255 given remove check trust lba signed avi kivity avi cloudius systems.com,,
5306,eb035c21e817afec8df28c3290fead7acb63b4b1,vi Kivity <avi@cloudius-systems.com>, 2013-09-30 17:13:04 +0300, , partition fix empty parititon table entry detection partition table entry cyl head legal avoid false positive signed avi kivity avi cloudius systems.com,,
5307,bdd658dad670bd1b33e5f3109262289974d148d8,vi Kivity <avi@cloudius-systems.com>, 2013-10-10 11:47:35 +0300, , merge branch mkfs.vfs vfs fix needed mkfs already posted part mkfs patchset signed avi kivity avi cloudius systems.com,,
5308,0ace60800ab633705b46e1a6aadeac0de32dc364,vi Kivity <avi@cloudius-systems.com>, 2013-09-03 17:16:17 +0300, , vfs declare vfs64 entry point needed libzfs signed avi kivity avi cloudius systems.com,,
5309,f01945de54a225b4d47b063694bf089b004e6dfa,vi Kivity <avi@cloudius-systems.com>, 2013-10-10 11:34:20 +0300, , vfs fix open definition open prototype traditionally open const char int ... since third mode_t parameter optional needed o_creat specified change definition conform allows lfs64 macro used define open64 similar prototype signed avi kivity avi cloudius systems.com,,
5310,4b5a11887fb18378e0ed49a38ddaa115d7d1f2a7,vi Kivity <avi@cloudius-systems.com>, 2013-10-07 12:57:39 +0300, , vfs const correctness vget make vget accept const char adjust various function call way make easier convert vfs_mount.c  signed avi kivity avi cloudius systems.com,,
5311,4ffa58343075d6c8ae830d59bcc0eff9cd0e4a25,vi Kivity <avi@cloudius-systems.com>, 2013-09-08 21:09:28 +0300, , vfs define fexcl zfs signed avi kivity avi cloudius systems.com,,
5312,f4e98cd468154b7b5374456caca9b027f4b60246,vi Kivity <avi@cloudius-systems.com>, 2013-09-08 21:06:02 +0300, , vfs fix fcntl getfl setfl store flag different format fcntl expects perform needed conversion signed avi kivity avi cloudius systems.com,,
5313,823abc564a0cb3ce3fd40c43a884f4d109706a8e,vi Kivity <avi@cloudius-systems.com>, 2013-09-08 20:56:19 +0300, , vfs fix flag conversion open vfs convert read write flag read write bit field easily testable corrupts flag fix fflags oflags preserve flag test file readable writable dropped since impossible fail signed avi kivity avi cloudius systems.com,,
5314,cf5619f0057e484a480e365dbd40aeadaf574288,mitry Fleytman <dmitry@daynix.com>, 2013-10-09 16:10:39 +0300, , run.py configurable bridge name qemu vhost configuration signed dmitry fleytman dmitry daynix.com,,
5315,705eab2ccfa56d32ab42a4232352a331f31aa633,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-02 12:42:18 +0300, , virtio blk clean signedness cast switch size_t type bio_bcount struct bio clean virtio blk signedness cast signed pekka enberg penberg cloudius systems.com,,
5316,1429e5c05b644823bc29207cf4733242c7c43a10,mitry Fleytman <dmitry@daynix.com>, 2013-10-08 18:12:01 +0300, , run.py configurable bridge name command line option bridge added signed dmitry fleytman dmitry daynix.com,,
5317,9b61936cdd9a764c9071cb4e63cbb229728fcb4d,adav Har'El <nyh@cloudius-systems.com>, 2013-10-08 11:59:08 +0300, , trivial change load balancing scheduler benchmark trivial change tst loadbalance.so particular benchmark assumes run two cpu anything true signed nadav har nyh cloudius systems.com,,
5318,e2554eafee2a8f0e94ea9eea49f7cbbb980488f4,adav Har'El <nyh@cloudius-systems.com>, 2013-10-08 09:50:17 +0300, , use version linux version.h uname different linux version compiled uname 3.7.0 compiled code via linux version.h patch make pretend 3.7.0 arbitrarily chosen current linux version time osv created new code verifies static assertion file contain version diverge uname.c fail compilation signed nadav har nyh cloudius systems.com,,
5319,cd39acb1f46d52d9de50b336f4e7c73a35216d54,adav Har'El <nyh@cloudius-systems.com>, 2013-10-07 17:31:20 +0300, , gdb add osv runqueue command patch add osv runqueue command gdb show sorted run queue cpu note run queue doe include thread currently running ready run command useful debugging scheduler load balancer generally useful osv info thread command list thread specially marking runnable well running signed nadav har nyh cloudius systems.com,,
5320,bc420c7ace88279786c698da8483ae18effa990e,adav Har'El <nyh@cloudius-systems.com>, 2013-10-07 16:13:24 +0300, , start using doxygen osv api documention patch begin document osv native non linux compatible apis using doxygen doxygen function class apis documented using comment inside source code similarly way javadoc used java world patch running doxygen generates documentation html form also ugly one latex ... doxyout directory running doxygen osv top level directory open browser file ... doxyout html index.html view documentation patch add doxygen configuration file doxyfile document three function osv namespace osv halt osv poweroff osv halt format resulting documentation perfect bad feared also documentation uglify code much mainly impact header file believe better writing man page avenue explored previously signed nadav har nyh cloudius systems.com,,
5321,d7292625d33f5cb89f651a611ccb164154d10009,adav Har'El <nyh@cloudius-systems.com>, 2013-10-07 16:08:19 +0300,49, add interrupt quit key console driver patch add interrupt default ctrl quit default ctrl handling console driver isig termios flag enabled patch enables flag default application change character disable isig ioctls exactly unix character sends sigint process sends sigquit default abort osv running java get much interesting sigquit handler show trace running thread information note line discipline code currently sits console driver ptys yet applies console ssh connection like also note default patch issue qemu catch even pas osv apply patch change interrupt quit character see feature working patch relates issue signed nadav har nyh cloudius systems.com,,
5322,79746c74cabe0983bbca0c9567fa538e71454bb8,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-02 14:36:33 +0300, , mempool fix early page allocator tracepoint fix tracepoint early page allocator signed pekka enberg penberg cloudius systems.com,,
5323,7d06588d4e94c199d222a022530c8ec5585eebda,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-02 14:04:10 +0300, , post processing memory page allocator support patch add page allocator support memory analyzer post processing script signed pekka enberg penberg cloudius systems.com,,
5324,2987d7a643375d28bd003239a216f7508e09f2bc,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-07 11:41:55 +0300, , mman check mmap map_shared map_private flag signed pekka enberg penberg cloudius systems.com,,
5325,db0bddbde6b83ea107cde5252664d526421c6900,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-03 15:22:16 +0300, , mmu fix msync vma range walk tst mmap.so test case noticed following breakage msync running mmap test assertion failed msync buf 4096 ms_async test tst mmap.cc main 207 aborted problem msync contains function check start end vma range really interested whether vma intersects start end signed pekka enberg penberg cloudius systems.com,,
5326,5f43b6a50dad84121af4bddb64c7542e4a014590,enoÃ®t Canet <benoit@irqsave.net>, 2013-10-06 15:59:48 +0200,8, dhcp wire dhcp dns server libc dns resolver code close issue make java work signed benoit canet benoit irqsave.net signed avi kivity avi cloudius systems.com,,
5327,bab9b9e156905e530dedb720d3628c2611ea59e0,enoÃ®t Canet <benoit@irqsave.net>, 2013-10-06 15:59:47 +0200, , libc add setter getter function nameservers search domain signed benoit canet benoit irqsave.net signed avi kivity avi cloudius systems.com,,
5328,560e0f8b7125b0601640b4498d114f74dae005ef,enoÃ®t Canet <benoit@irqsave.net>, 2013-10-06 15:59:46 +0200, , libc convert __dns.c __dns.cc also convert header change caller includes patch done libc resolver able retrieve dns osv dns api signed benoit canet benoit irqsave.net signed avi kivity avi cloudius systems.com,,
5329,b63fd4d3b86f4abfb365672ab96ec7bff56c528d,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-07 11:56:04 +0300, , runtime check mincore address page aligned make mincore error path compatible linux requiring addr page aligned signed pekka enberg penberg cloudius systems.com,,
5330,95c320143c66ccad9ccfdb716397a59ee552360e,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-07 11:53:06 +0300, , tst mmap.so fix mincore stack malloc test linux requires mincore address page aligned signed pekka enberg penberg cloudius systems.com,,
5331,c724ce8cd30e3680e6a7df8b122cb4b140ab490d,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-03 15:20:15 +0300, , mmu fix vma sync return value fix vma sync return zero msync ing anonymous vmas like linux doe signed pekka enberg penberg cloudius systems.com,,
5332,264d780bdb211de62edc739516d8a021155284a2,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-07 10:58:39 +0300, , tst mmap.so fix mmap flag fix tst mmap test linux passing map_private mmap flag signed pekka enberg penberg cloudius systems.com,,
5333,34c5f5cba78f0b1c0efcf8dc2e08302016d1b431,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-07 10:56:15 +0300, , tst mmap.so test map_failed mmap function return map_failed error test signed pekka enberg penberg cloudius systems.com,,
5334,b8ca9badc037276ddd65f625561b7570c17f7bba,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-03 14:49:13 +0300, , tst mmap.so switch apis use apis remove dependency osv internals run test linux make concurrency test depend osv api binding thread specific cpu want clutter test pthread ism signed pekka enberg penberg cloudius systems.com,,
5335,14cbc48023e9553974d9a5055ac357e88bde20ef,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-03 11:47:45 +0200, , run.py start qemu nographic mode order make send ctrl guest instead killing lead surprise working interactive shell inside osv suppress new behavior run graphic relates issue signed tomasz grabiec tgrabiec cloudius systems.com,,
5336,ccdd817330a60991b86e16f0bbed1a07bfd8cecf,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-02 10:05:58 +0200, , run.py convert tab space order consistent indentation signed tomasz grabiec tgrabiec cloudius systems.com,,
5337,751bf56022aaf69aaafefa6a22abcbf1d3afdf7d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-02 09:57:34 +0200, , imgedit introduce getargs command new command print argument set image signed tomasz grabiec tgrabiec cloudius systems.com,,
5338,7dc2fe235d421fb9126b895048578b7db59f7941,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-02 17:46:33 +0200, , java.c add support agentlib jvm option needed start jvm debugger interface signed tomasz grabiec tgrabiec cloudius systems.com,,
5339,3ce04ca1faa8b51f3d56f72d352b871df82116d5,adav Har'El <nyh@cloudius-systems.com>, 2013-10-06 14:27:14 -0700,51, merge pull request anttikantee master cosmetic add missing linefeed signed nadav har nyh cloudius systems.com,,
5340,8edcdb4246173c65cbf24fdf77751e8335dcb5f3,adav Har'El <nyh@cloudius-systems.com>, 2013-10-06 13:22:11 +0300, , add runjava.jar instead runjava.class boot image signed nadav har nyh cloudius systems.com,,
5341,a8af5dde165c153745ff16984095624aec7ae360,adav Har'El <nyh@cloudius-systems.com>, 2013-10-06 13:11:55 +0300, , put runjava.class jar runjava.jar use runjava java class run java application java.so java cli command use used runjava.class uncompressed java directory caused two problem noticed directory java classpath cause thousand stat call java try look class directory jar content read java cli command java.groovy work apparently groovy deal class top level package patch move runjava io.osv package put jar java runjava.jar note java.groovy changed separate patch different sub repository .... signed nadav har nyh cloudius systems.com,,
5342,04382f2f286cbad14700d48953743b6024cea357,enoÃ®t Canet <benoit@irqsave.net>, 2013-10-04 02:18:00 +0200, , libc add missing musl if_indextoname debug build broken since boost asio used signed benoit canet benoit irqsave.net signed avi kivity avi cloudius systems.com,,
5343,ab7addf1fc18fd2e9cf79df7760be6fb85a90541,enoÃ®t Canet <benoit@irqsave.net>, 2013-10-05 14:38:47 +0200, , prio remove rendundant signed benoit canet benoit irqsave.net signed avi kivity avi cloudius systems.com,,
5344,0cb87a5d752f2beee2b0796931560e6534561987,enoÃ®t Canet <benoit@irqsave.net>, 2013-10-05 14:38:46 +0200, , pthread initialize earlier boost asio.hpp module init function calling tried manipulate libc pthread.cc unitialized object returned enomem exception thrown boost causing loader premain function fail boot loop patch lower priority initialization libc pthread.cc object ready premain calling boost module init function signed benoit canet benoit irqsave.net signed avi kivity avi cloudius systems.com,,
5345,00d0c4924c3f51cc0277226b4d0704d64936da75,ntti Kantee <pooka@iki.fi>, 2013-10-04 16:06:27 +0000, , add missing linefeed,,
5346,b18bdfca9053e523c87b410dc60dde732642b051,enoÃ®t Canet <benoit@irqsave.net>, 2013-10-03 00:28:32 +0200, , dhcp boost cleanup patch boost asio address cleanup core dhcp code signed benoit canet benoit irqsave.net signed avi kivity avi cloudius systems.com,,
5347,fec150f389fbf185861142e9b6baa62910dc614e,enoÃ®t Canet <benoit@irqsave.net>, 2013-10-03 00:13:30 +0200, , sys socket.h rename bsd_sockaddr using function bsd_ signed benoit canet benoit irqsave.net signed avi kivity avi cloudius systems.com,,
5348,341373c8b945a52c2a1c7882f3bd4477cc2e489f,enoÃ®t Canet <benoit@irqsave.net>, 2013-10-03 00:13:29 +0200, , net if.h reconcile osv bsd header signed benoit canet benoit irqsave.net signed avi kivity avi cloudius systems.com,,
5349,77a4dd1b6a91802854786d7ae5fec889b399e545,enoÃ®t Canet <benoit@irqsave.net>, 2013-10-03 00:13:28 +0200, , bsd rename osv tick macro bsd_ticks avoid conflict boost tick usage signed benoit canet benoit irqsave.net signed avi kivity avi cloudius systems.com,,
5350,877771dcd4d767e72f5f1be8a51215e55808aef0,vi Kivity <avi@cloudius-systems.com>, 2013-10-03 00:13:27 +0200, , bsd rename ifconf bsd ifconf conflict osv rename use bsd version osv ioctl.h since currently support linux abi variant ioctls signed avi kivity avi cloudius systems.com tested benoit canet benoit irqsave.net,,
5351,53cf9be02506124b0e148d0b00a009a08f1582c8,vi Kivity <avi@cloudius-systems.com>, 2013-10-03 00:13:26 +0200, , bsd rename ifaddr bsd ifaddr struct conflict osv ifaddr struct public interface rename bsd struct avoid conflict signed avi kivity avi cloudius systems.com tested benoit canet benoit irqsave.net,,
5352,defedb390f8b0f4cb5879ac6797807b61036ca0f,vi Kivity <avi@cloudius-systems.com>, 2013-10-03 00:13:25 +0200, , arpa inet.h reconcile osv bsd header workaround bytorder function conflict reconcile declaration signed avi kivity avi cloudius systems.com tested benoit canet benoit irqsave.net,,
5353,6a87d1a34cc0913c13acdcb5da7aa3a4362c29cb,vi Kivity <avi@cloudius-systems.com>, 2013-10-03 00:13:24 +0200, , netinet in.h reconcile osv bsd header structure duplicated move duplicate common header netinet __in.h signed avi kivity avi cloudius systems.com tested benoit canet benoit irqsave.net,,
5354,9798c432918b35fba49003bad0b9f62d422935a5,vi Kivity <avi@cloudius-systems.com>, 2013-10-03 00:13:23 +0200, , sys socket.h reconcile bsd osv variant structure duplicated deduplicate source compatible binary compatible use one bit socket.h others source binary compatible put new header sys __socket.h included work around problem byteorder function macro signed avi kivity avi cloudius systems.com tested benoit canet benoit irqsave.net,,
5355,e990aa2aaeeba2efa2564d3a7acc27f2444c6205,adav Har'El <nyh@cloudius-systems.com>, 2013-10-03 14:15:36 +0300, , yet another silly variant sprintf used somewhere within libcurses provide implementation signed nadav har nyh cloudius systems.com,,
5356,bdb7fb8f16dff8486fe630a8339f129cd5d2b8e6,adav Har'El <nyh@cloudius-systems.com>, 2013-10-03 14:12:40 +0300, , update instruction readme readme contained date example run thing osv fixed btw much content readme really belong already separate document debugging osv compile code osv probably documentation git repository instead wiki google doc signed nadav har nyh cloudius systems.com,,
5357,06d36948082e152f7c7d41693101fdf7608a037b,adav Har'El <nyh@cloudius-systems.com>, 2013-10-03 14:10:50 +0300, , add missing terminal related function patch add simple terminal related libc function ncurses requires needed run curse based application osv signed nadav har nyh cloudius systems.com,,
5358,5e9b5b0f52b032c6e4e36987d1c000dd4e3cafe7,ang Bai <hamo.by@gmail.com>, 2013-10-03 10:47:10 +0800, , test allow specify test name testrunner allow specify test name testrunner testrunner.so tst foo1.so tst foo2.so run tst foo1 tst foo2 order specified doe change default behavior cmdline testrunner.so run test test dir change help developer run test case need quickly verify new feature find possible regression signed yang bai hamo.by gmail.com signed pekka enberg penberg cloudius systems.com,,
5359,9fa59ae9f09aca56bdce0f7847bcbcab49f9faee,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-02 10:27:10 +0300, , mman fix mmap tracepoint exit tracepoints useful record error also timing mmap operation signed pekka enberg penberg cloudius systems.com,,
5360,cd4c543481c6d3e2618a3a9c0716b300e7222127,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-02 12:08:57 +0300, , virtio net remove unused page size constant page_size constant used code let remove signed pekka enberg penberg cloudius systems.com,,
5361,a02408f53bb479d53c8f2d4887a5fdca1a3d271d,omasz Grabiec <tgrabiec@cloudius-systems.com>, 2013-10-01 16:57:47 +0200, , make java benchmark runnable box added missing bench.jar file back image fixed obsolete description readme file signed tomasz grabiec tgrabiec cloudius systems.com,,
5362,ed1fd2e177901643c4c619e3a8db65279999cd86,ang Bai <hamo.by@gmail.com>, 2013-09-28 10:05:54 +0800, , fix relative path submodule fork project github cause submodule trying fetch submodule fork user cloudius system signed yang bai hamo.by gmail.com signed avi kivity avi cloudius systems.com,,
5363,a449b889df79d83bc03bcde2bd2c74dd0337066d,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-01 10:53:18 +0300, , x64 enable sleeping fault context preparation enabling demand paging enable sleeping fault context using per thread exception stack normal fault per cpu exception stack nested fault avi kivity explains demand paging even hope work need enable sleeping fault context right cpu exception stack lead immediately stack corruption thread fault enters exception stack try take mutex scheduler switch thread thread fault enters exception stack need switch stack done way interrupt stack see thread switch_to signed pekka enberg penberg cloudius systems.com signed avi kivity avi cloudius systems.com,,
5364,ee242a3071d08aa8549ab5241ff1615507918112,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-01 15:18:05 +0300, , build use gradle daemon mode make clean  penberg localhost osv time make clean clean gradle clean real 0m4.026s user 0m8.732s sys 0m0.212s  penberg localhost osv time make clean clean gradle clean real 0m1.658s user 0m0.962s sys 0m0.162s signeg pekka enberg penberg cloudius systems.com,,
5365,cc4f5cbb06521a5108ff3b069069d6cdcd05aceb,vi Kivity <avi@cloudius-systems.com>, 2013-10-01 15:04:03 +0300, , merge branch build faster build signed avi kivity avi cloudius systems.com,,
5366,7b98fcf0ccd3fafb8cab2b472a920eb2a9ec70b2,vi Kivity <avi@cloudius-systems.com>, 2013-10-01 14:23:14 +0300, , build delete loader.img removing loader.img cause null build rebuild usr.img signed avi kivity avi cloudius systems.com,,
5367,60c1d76c8235ea821d7d0e6228c8495d7ee2352d,vi Kivity <avi@cloudius-systems.com>, 2013-10-01 14:03:28 +0300, , build speed native null build drop implicit makefile rule prevents make looking fortran source file etc signed avi kivity avi cloudius systems.com,,
5368,00143114bfac1687e29d64c959b47215dcbc98e0,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-01 13:13:28 +0300, , usr.manifest add content type.properties jre fix following warning osv startup warning default mime table found usr lib jvm jre lib content signed pekka enberg penberg cloudius systems.com,,
5369,e787d286e2dc3fc90538fd1b8a342fc7a432b16b,ekka Enberg <penberg@cloudius-systems.com>, 2013-10-01 09:54:19 +0300, , kvmclock simplify probe function make kvmclock probe easier follow simplifying processor feature check venkatesh srinivas venkateshs google.com signed pekka enberg penberg cloudius systems.com,,
5370,e4ceea63b2072f7ca94a7444e4133602d3b4df72,enkatesh Srinivas <venkateshs@google.com>, 2013-09-30 11:36:39 -0700, , kvmclock implement support old kvmclock msrs older version kvm user vmms expose kvmclock msrs different msr offset detect old flag kvmclock probe use old msrs one available signed venkatesh srinivas venkateshs google.com signed glauber costa glommer cloudius systems.com,,
5371,0abdd7175eb2b42193e6849b0290ca7936abc09b,enoÃ®t Canet <benoit@irqsave.net>, 2013-09-29 16:24:36 +0200, , compat add missing linux version.h boost asio signed benoit canet benoit irqsave.net signed avi kivity avi cloudius systems.com,,
5372,f8793eb5e909c3a9e42277af5fbca89993788c24,vi Kivity <avi@cloudius-systems.com>, 2013-09-30 10:45:22 +0300, , build run gradle daemon mode speed mgmt null build considerably,,
5373,f5ea1cbedc746a93ceca1c53348738e785f6b126,adav Har'El <nyh@cloudius-systems.com>, 2013-09-29 16:11:42 +0300, , condvar add comment add comment condvar explaining make guarantee posix thread condition variable spurious wakeups comment explain least one place semaphore.cc make use added guarantee condition variable implementation ever rewritten need keep guarantee signed nadav har nyh cloudius systems.com,,
5374,0ec190c00a1bb3dd8fd088529ba7871f9a94d44b,adav Har'El <nyh@cloudius-systems.com>, 2013-09-29 15:20:41 +0300, , add version option runjava add version option runjava therefore java.so java cli command java version show java version 1.7.0_25 openjdk runtime environment 1.7.0_25 b00 openjdk bit server build 23.7 b01 mixed mode explain version second line different java version fedora show libjvm.so java version 1.7.0_25 openjdk runtime environment fedora 2.3.10.4.fc18 x86_64 openjdk bit server build 23.7 b01 mixed mode signed nadav har nyh cloudius systems.com signed avi kivity avi cloudius systems.com,,
5375,61be0c33840551689e5df176ced736dd613a1751,mitry Fleytman <dmitry@daynix.com>, 2013-09-25 12:24:21 +0300, , pci debug printout fix msi printous fixed duplicate eols removed signed dmitry fleytman dmitry daynix.com,,
5376,201d611dfdcb6e50fd034492c34f639d1b3d93fb,adav Har'El <nyh@cloudius-systems.com>, 2013-09-29 13:14:50 +0300, , trivial prototype change change name argument wake_with pred action argument function run predicate supposed return boolean value make sense call pred implementation wake_with already used name action patch fix prototype signed nadav har nyh cloudius systems.com,,
5377,afa0836383b57e1b0b0b624996a7bd0ec175bc53,mitry Fleytman <dmitry@daynix.com>, 2013-09-27 15:20:04 +0300, , netperf since alarm support added special patch needed netperf patch removed repository documentation updated signed dmitry fleytman dmitry daynix.com signed nadav har nyh cloudius systems.com,,
5378,ee88c900938296cc1a5a6df87e15e1eb55e0d15d,adav Har'El <nyh@cloudius-systems.com>, 2013-09-29 12:54:08 +0300, , support alarm patch add support linux alarm system call alarm needed ancient unix software like netperf implementation fully compatible linux alarm please note alarm doe alarm time kill sigalrm caveat mentioned previous patch regarding kill also apply alarm implemented running one alarm thread started first alarm call alarm thread wait alarm expire instruction change alarm alarm expires alarm thread doe kill sigalrm tst kill.cc previous patch includes test see alarm really sends sigalrm signal time also cancel pending alarm receive signal signed nadav har nyh cloudius systems.com,,
5379,aecb3d90efc540104b836d46b34ab3d87f296ded,vi Kivity <avi@cloudius-systems.com>, 2013-09-29 12:47:22 +0300, , merge branch trace fixups trace backtrace plus symbol resolution log output signed avi kivity avi cloudius systems.com,,
5380,b9ed15c2d1530d39bdd577416dfb5155142d32be,adav Har'El <nyh@cloudius-systems.com>, 2013-09-29 12:37:34 +0300, , add kill support sort patch add support linux kill function next patch add alarm support kill honest sort implement kill implementation compatible api semantics somewhat different linux kill cause signal handler run one existing thread implementation signal handler run new thread implementing exact linux semantics osv would require tracking osv run kernel code i.e. code main executable shared object delay running signal handler returning user code moreover need able interrupt sleeping kernel code complicated add overhead even signal used used modern code expect code good enough many use case code good enough program expect one following program using posix thread signal mask tried ensure signal delivered one specific thread arbitrary thread program used kill alarm intending run signal handler rather intending interrupt sleeping system call like sleep read kill doe interrupt sleeping osv function call continue sleep thread run  support patch see next patch alarm good enough netperf use alarm p.s kill used send signal current process process osv also use pid pid achieve result patch also add test kill alarm alarm test fail next patch signed nadav har nyh cloudius systems.com,,
5381,e6eb7d57fb076834e088c27b15643029600cf88a,vi Kivity <avi@cloudius-systems.com>, 2013-09-29 12:07:27 +0300, , gdb resolve backtrace symbol trace log signed avi kivity avi cloudius systems.com,,
5382,f60ea9a8b82f723f38b2baf4ec6e2b0ba4dda3de,vi Kivity <avi@cloudius-systems.com>, 2013-09-29 12:06:09 +0300, , gdb cache syminfo object looking symbol expensive store cache speed dumping trace log backtrace taken signed avi kivity avi cloudius systems.com,,
5383,0c51e4b9b5a97d670a1344f7ca3ff22185f1282d,vi Kivity <avi@cloudius-systems.com>, 2013-09-29 11:56:30 +0300, , gdb extract symbol file line resolution class signed avi kivity avi cloudius systems.com,,
5384,f53d6ca749e82f331c2ffb61f6904c766bb96b9a,vi Kivity <avi@cloudius-systems.com>, 2013-09-29 09:46:42 +0300, , trace fix trace backtraces uninitialized data backtrace also fix review comment related 1f161695d86d signed avi kivity avi cloudius systems.com,,
5385,580c1f91f895dc58db94db139d847edcaa799606,aphael S.Carvalho <raphael.scarv@gmail.com>, 2013-09-27 05:02:16 -0300, , mmu fix one range covered elf correct range elf_start elf_start elf_size signed raphael s.carvalho raphael.scarv gmail.com signed pekka enberg penberg cloudius systems.com,,
5386,fbed517984c23f80e36e26bb9d72d77d2c32b5a4,r Cohen <orc@fewbytes.com>, 2013-09-25 12:54:12 +0300, , vfs_task fix path conversion certain case task_conv wrongly converting produced path unexpected character consequently repeated call java new file .exists returned ambigous result mention property like isdirectory confused shell completion mechanism detail situation len line 105 caused tgt pointing begining full point whatever stopped backward search line 109 112 unexpected guess might occur combination set len starting absolute path conversion match behavior relative path conversion set len strlen cwd signed cohen orc fewbytes.com,,
5387,fec7775d365abf7f91ce0992e246be794873b597,adav Har'El <nyh@cloudius-systems.com>, 2013-09-26 11:34:25 +0300, , explain gcc version requirement readme explain readme gcc 4.7 required gcc 4.8 recommended signed nadav har nyh cloudius systems.com,,
5388,8a60204c105a15ce27095fbd58fd4dea499d2cdb,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-25 12:43:40 +0300, , tst link.so add test case link destination exists check link return eexist destination exists signed pekka enberg penberg cloudius systems.com,,
5389,04b76b26c3f9f81b9400f0e8119b1edacde5c50f,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-25 12:35:21 +0300, , tst link.so test case link source doe exist check link return enoent source doe exist signed pekka enberg penberg cloudius systems.com,,
5390,b94793ee4fe6c9295410616d913a7c206a773056,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-25 12:32:45 +0300, , tst link.so make path configurable make link source target path configurable test run linux std tst link.cc a.out foo foo2 signed pekka enberg penberg cloudius systems.com,,
5391,81aacf3c0ae3278b5bc3559a5c21828056d370b9,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-25 11:34:33 +0300, , vfs simplify sys_link unwinding safely use function exit point successful error case signed pekka enberg penberg cloudius systems.com,,
5392,a2966cc6149ddad18fb77c6ecc4116583abd1e72,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-25 11:29:39 +0300, , vfs call parent directory dentry newdirdp sys_link call dentry refers newpath parent directory newdirdp make code explicit signed pekka enberg penberg cloudius systems.com,,
5393,1f86f4be665d06fb5d0ddebd4bc1854c62de8492,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-25 11:06:30 +0300, , vfs drop vop_link null check sys_link filesystems expected wire vop_link never null signed pekka enberg penberg cloudius systems.com,,
5394,c995c41f7d71860323cf1219af9984b39f3141c5,aphael S. Carvalho <raphael.scarv@gmail.com>, 2013-09-23 08:57:10 -0300, , tst link add extra check add new test see content one link would another signed raphael carvalho raphael.scarv gmail.com signed pekka enberg penberg cloudius systems.com,,
5395,809688ce116137568680fc2e456e7b364551fd3f,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-23 08:57:02 -0300, , tst link.so link test add basic test case filesystem hard link support run follows script run.py test tst link.so signed pekka enberg penberg cloudius systems.com,,
5396,9211557a68f87755e7b0bb5eb0f337ff7dd0e69e,aphael S. Carvalho <raphael.scarv@gmail.com>, 2013-09-23 08:56:42 -0300, , vfs return inode number link count vn_stat make vn_stat return inode number link count st_ino st_nlink respectively signed raphael carvalho raphael.scarv gmail.com signed pekka enberg penberg cloudius systems.com,,
5397,08e2de781dee820c0cf0c6c054cbf1780267ee52,aphael S. Carvalho <raphael.scarv@gmail.com>, 2013-09-23 08:56:55 -0300, , vfs add link system call patch add link system call system call filesystem specific vop_link vnode operation actual work zfs currently available file system support hard link filesystems return eperm signed raphael carvalho raphael.scarv gmail.com signed pekka enberg penberg cloudius systems.com,,
5398,95f7777049250e5d62aa8127911418c0c6f8e537,aphael S. Carvalho <raphael.scarv@gmail.com>, 2013-09-23 08:56:34 -0300, , zfs update va_nlink zfs_getattr update va_nlink zfs_getattr preparation sys_link signed raphael carvalho raphael.scarv gmail.com signed pekka enberg penberg cloudius systems.com,,
5399,5caf1af3435d6067af378abd6dc7a8be2b656459,aphael S. Carvalho <raphael.scarv@gmail.com>, 2013-09-23 08:56:18 -0300, , zfs wire vop_link wire vop_link vnode operation zfs preparation sys_link signed raphael carvalho raphael.scarv gmail.com penberg drop fignore cleanup split signed pekka enberg penberg cloudius systems.com,,
5400,ea939c2526c813a91fcd5a0b17748e5e9bbdff26,aphael S. Carvalho <raphael.scarv@gmail.com>, 2013-09-23 08:56:55 -0300, , ramfs wire vop_link wire vop_link vnode operation ramfs preparation sys_link signed raphael carvalho raphael.scarv gmail.com penberg split separate commit signed pekka enberg penberg cloudius systems.com,,
5401,4f261f92a6953bb1c36a197aaf83a7ef2440896a,aphael S. Carvalho <raphael.scarv@gmail.com>, 2013-09-23 08:56:55 -0300, , devfs wire vop_link wire vop_link vnode operation devfs preparation sys_link signed raphael carvalho raphael.scarv gmail.com penberg split separate commit signed pekka enberg penberg cloudius systems.com,,
5402,c668f4f92023a4a7476e23d2b0f5e05fda3f98e5,aphael S. Carvalho <raphael.scarv@gmail.com>, 2013-09-23 08:56:55 -0300, , vfs add vop_link vfs interface add vop_link vfs interface preparation sys_link signed raphael carvalho raphael.scarv gmail.com penberg split separate commit signed pekka enberg penberg cloudius systems.com,,
5403,5fa38eb7dafe3d8589cc52e4de38789d5c42190b,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-25 13:20:13 +0300, , ramfs fix strlcpy size use rn_namelen destination buffer size strlcpy spotted coverity signed pekka enberg penberg cloudius systems.com,,
5404,ad11223915e73280c9af4488945495a7c1b8964d,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-25 13:13:56 +0300, , ramfs fix use free ramfs_remove free v_data look ramfs_remove spotted coverity signed pekka enberg penberg cloudius systems.com,,
5405,9871d993cfa0e4391fb5eb3a888b051d1335691e,adav Har'El <nyh@cloudius-systems.com>, 2013-09-25 22:57:42 +0300, , signal one argument check signal verified argument nsigs nsigs nsigs already illegal ... nsigs valid signal discovered coverity signed nadav har nyh cloudius systems.com,,
5406,4bc7f599061f525b7b9bf7621ee972088afabbd4,adav Har'El <nyh@cloudius-systems.com>, 2013-09-25 21:41:02 +0300, , runtime shared object static destructors gcc implement static destructors shared object dso registering single finalization function __cxa_finalize run dso unloaded constructor call __cxa_atexit register destructor __cxa_finalize call patch implement missing __cxa_finalize __cxa_atexit function nothing stub never registered never ran destructors implementation patch amazingly simple write fix crash running tst tracepoint.so twice first run ran tracepoints constructor added global linked list tracepoints pointer mapped dso dso later unmapped destructors run linked list tracepoints left pointer unmapped memory ran test wanted construct tracepoints accessed broken linked list crashed signed nadav har nyh cloudius systems.com,,
5407,bf0688f4a24fba2070a7b81efdc1490321056e96,adav Har'El <nyh@cloudius-systems.com>, 2013-09-25 21:36:36 +0300, , dynamic linker run finalizers unloading shared object elf allows specifying initializers function run loading shared object dt_init_array also finalizers function run unloading shared object dt_fini_array existing code ran initializers forgot run finalizers patch fix oversight fix necessary destructors static object defined shared object fix sufficient destructors see also next patch signed nadav har nyh cloudius systems.com,,
5408,b0aa34701ed49502575c8a1a6b02633273b7b4d6,adav Har'El <nyh@cloudius-systems.com>, 2013-09-25 21:33:38 +0300, , add stub setresuid setresgid add libc user.cc stub setresgid setresgid usual osv allow user group function used rogue also move getuid friend runtime.cc libc user.cc feel home signed nadav har nyh cloudius systems.com,,
5409,0159034a3eb173bf8408175ca13a78e135160030,adav Har'El <nyh@cloudius-systems.com>, 2013-09-25 21:02:57 +0300, , fix bug cscope make target cscope make target piped list file cscope command read input command cscope read list file stdin signed nadav har nyh cloudius systems.com,,
5410,649eb30afaf1480c5817864484617d18fa409d0f,mitry Fleytman <dmitry@daynix.com>, 2013-09-24 09:50:34 +0300, , netperf close test time tracking warning added documentation signed dmitry fleytman dmitry daynix.com,,
5411,7a6a329125d8a669f3d248a8c95810d7ec5e8173,adav Har'El <nyh@cloudius-systems.com>, 2013-09-24 19:53:19 +0300, , move statement appease coverity coverity think use assigned despite join let move test inside thread make warning away signed nadav har nyh cloudius systems.com,,
5412,f6d134bc58e236ed72f764685baa535463d7f3bd,adav Har'El <nyh@cloudius-systems.com>, 2013-09-24 18:53:16 +0300, , change pipe event pollrdhup pollerr pollout used return pollrdhup event polling write side pipe whose reader closed linux return pollerr pollout let  linux behavior explained reader closed write return immediately hence pollout moreover return error epipe since read also cause error ebadf reading write side pipe pollerr make sense say operation result error patch also add test case signed nadav har nyh cloudius systems.com,,
5413,35117245af36f3eff2d0b7c54409bc226829201f,adav Har'El <nyh@cloudius-systems.com>, 2013-09-24 18:05:34 +0300, , fix pollhup pipe code pipe_buffer.cc meaning pollhup pollrdhup reversed result pollhup correctly returned polling read end pipe whose write end closed fix mixup result test added tst pipe.cc previous commit also another one added patch pas still incompatible linux regarding pollrdhup separate patch signed nadav har nyh cloudius systems.com,,
5414,554e80f69ba3efe9ca412be52b86fc15f3e94832,adav Har'El <nyh@cloudius-systems.com>, 2013-09-24 17:59:41 +0300, , fix missing poll wakeup pollhup poll_wake code ignored call pollhup event user explicitly ask event cause poll waiting read pipe whose write side close wake patch add test case tst pipe.cc fix bug adding poll structure _events also i.e. bit explicitly requested user new macro defined patch patch poll wake needed test instead hang return wrong event another bug fixed separate patch signed nadav har nyh cloudius systems.com,,
5415,dcfad008597c31b4e4766444681b2d1303569a49,ladimir Kirillov <proger@wilab.org.ua>, 2013-09-18 14:27:06 +0300, , readme debian added build essential libtool jdk dependency signed pekka enberg penberg cloudius systems.com,,
5416,e4c4696f98129563070a73575fc5678adb193a47,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-24 13:07:30 +0300, , elf fix assert object relocate_pltgot assertion object relocate_pltgot assignment instead comparison fix spotted coverity signed pekka enberg penberg cloudius systems.com,,
5417,a5b7c7d12f33694479657d5e7c9be0fe3f1c619e,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-24 13:02:25 +0300, , java.so fix javavmoption initialization javavmoption extrainfo member initialized mkoption used special case option provide function pointer hook jvm harmless fix anyway spotted coverity signed pekka enberg penberg cloudius systems.com,,
5418,3fb19c2eda87fafb19877dc14da5d86d97fd76dd,iu Yuan <namei.unix@gmail.com>, 2013-09-24 11:14:46 +0800, , makefile add make cscope command generate cscope index source file signed liu yuan namei.unix gmail.com signed pekka enberg penberg cloudius systems.com,,
5419,c0ae1bbec032b9b98d45a014674d506cac789137,adav Har'El <nyh@cloudius-systems.com>, 2013-09-23 15:04:42 +0300, , makefile hide gradle progress currently osv make build kernel using normal makefile sample management framework using gradle tool carefully hid gradle progress one output line gradle lead make process hanging long time several minute puzzled user see line gradle user coffee likely kill build point even worse gradle fails hang e.g. bad slow network connection user even know let run gradle normally let user see full output output rather pretty organized real reason hide signed nadav har nyh cloudius systems.com,,
5420,ea6a0dca0af35c0e33c91d69d6af50ef3519863d,adav Har'El <nyh@cloudius-systems.com>, 2013-09-23 15:03:06 +0300, , clean tag tag target tag tag make target done different way causing different problem tag ctags used option turn nonportable available exuberant ctags tag etags ran etags command separately source file slowing best world use xargs ctags etags operate multiple file run using xargs sure xargs run ctags etags must delete file first use append option also patch reduces code duplication one rule tag tag target correct tool ctags etags respectively signed nadav har nyh cloudius systems.com,,
5421,f771d2cf85de9ccf78660748dccf8afa8a62fc22,adav Har'El <nyh@cloudius-systems.com>, 2013-09-23 04:15:55 -0700,41, merge pull request jnider master update device drivers.txt,,
5422,b53d39ac7bf9bc7beaf5b015e0972eadb978dbd6,adav Har'El <nyh@cloudius-systems.com>, 2013-09-23 08:32:10 +0300, , select function emulated using poll sensible thing however several thing wrong patch fix thanks paolo bonzini finding problem see issue poll returned bare pollhup without pollin select return read event nothing manpages guarantee pollhup accompanied pollin special file implementation might forget example linux pollhup without pollin common pollhup already mean nothing read read return immediately without blocking therefore select need turn readable bit similarly bare pollrdhup turn writable bit reader file hug write fail immediately poll select confused pollerr mean pollerr doe mean poll found bad file descriptor pollnval patch fix poll set pollnval pollerr select return errno ebadf see pollnval pollerr rather pollerr mean file descriptor error state every read write return immediately error see need turn read write bit case meaning exceptfds clear manual page seems lot opinion might mean patch paolo suggested set except bit pollpri set exceptfds pollerr case signed nadav har nyh cloudius systems.com,,
5423,e0e2d9a49c74e49d8fd26de1cfb6b79ed2b6e159,oel Nider <joel@nider.org>, 2013-09-22 16:20:24 +0200, , update device drivers.txt fixed minor spelling mistake,,
5424,ea4cb9f64c006e973c53ebc73f908e7cee686082,lauber Costa <glommer@cloudius-systems.com>, 2013-09-20 22:33:50 -0300, , xen use interrupt handler efficient interrupt handler use it.no need delete old bsd code avoid disrupting file much make sure assertion never used though signed glauber costa glommer cloudius systems.com,,
5425,a837afe5f645bae71ac8de37f52fce738ed35590,lauber Costa <glommer@cloudius-systems.com>, 2013-09-20 22:31:31 -0300, , xen rework interrupt handler version xen interrupt handler try work possible interrupt previous version previous fix attempt would still clean channel interrupt pending_sel still set irq thread ditch _irq_pending completely one xen_irq entire system therefore registering one per cpu since eventually process different cpu different event channel course host guest netperf test achieving 9600 bps linux reach 10000 bps getting close recv send send socket socket message elapsed size size size time throughput byte byte byte sec 6bits sec 65536 16384 16384 10.00 9589.32 signed glauber costa glommer cloudius systems.com,,
5426,de6ba640c32e5a4f955093bfb79a6f86d2fd5b1c,lauber Costa <glommer@cloudius-systems.com>, 2013-09-20 22:31:18 -0300, , xen declare shared type atomic field xen shared structure need accessed atomically move std atomic using primitive signed glauber costa glommer cloudius systems.com,,
5427,ab700030b5647eebb8497841a0cdb987af6383dd,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-21 11:56:07 +0300, , run.py fix qemu missing error message fix error message suggested nadav signed pekka enberg penberg cloudius systems.com,,
5428,d1d08d4b9527a18a612f81659362dd57fe30618d,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-20 13:57:17 +0300, , run.py fix error message qemu kvm installed add user friendly error message run.py qemu kvm installed signed pekka enberg penberg cloudius systems.com,,
5429,fd7cbd0c2ed432eee4bb6bc54f062750f460c049,enoÃ®t Canet <benoit@irqsave.net>, 2013-09-21 06:49:51 +0200, , dhcp remove double htonl conversion 5f0e973398 htonl called twice calling dhcp_mbuf compose_request inside function fix verified wire packet wireshark audited code signed benoit canet benoit irqsave.net signed glauber costa glommer cloudius systems.com,,
5430,5a080419d0ec379b2fff8d6837a65e3d80ae0864,ekka Enberg <penberg@iki.fi>, 2013-09-20 14:17:27 -0700,40, merge pull request hamo support_etags support etags,,
5431,5f0e973398728ab57e53628817b1190b9f5ff136,enoÃ®t Canet <benoit@irqsave.net>, 2013-09-19 22:00:27 +0200, , dhcp store address field host order field stored host order network order make discovery code difficult convert field host order propagate caller signed benoit canet benoit irqsave.net,,
5432,e1d1c009d8d4dc9d794e508510df9b5a04f7e8ff,lauber Costa <glommer@cloudius-systems.com>, 2013-09-19 14:58:54 -0300, , pcpu register cpu glue code field pcpu structure bsd expects initialized event channel except cpu code expects already initialized signed glauber costa glommer cloudius systems.com,,
5433,9fcde6a081f613f9708642a901cfe64f31627dc1,ang Bai <hamo.by@gmail.com>, 2013-09-20 21:01:30 +0800, , comment tag target added comment explain target tag tag also ignore output file ctags signed yang bai hamo.by gmail.com,,
5434,19c9b7e0c60aa2602da817df6220fdaf4205ca72,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-20 13:38:47 +0300, , management update finally remove rhino dependency update latest mgmt.git mgmt 97be48e ... 7a4db4e crash remove rhono import used remove last dependency old rhino based cli ... signed pekka enberg penberg cloudius systems.com,,
5435,4600ef752bc2d55aa2c99abaf486b69dcbc4a16a,adav Har'El <nyh@cloudius-systems.com>, 2013-09-20 13:03:04 +0300, , comment cleanup queue mpsc.hh trivial comment cleanup line break queue mpsc.hh signed nadav har nyh cloudius systems.com,,
5436,fced9ebf09b4beddaa8ea831dc68b133c31788cf,adav Har'El <nyh@cloudius-systems.com>, 2013-09-20 12:53:38 +0300, , fix comment lfmutex.cc trivial fix comment lock free mutex implementation signed nadav har nyh cloudius systems.com,,
5437,ade5bc3e31a32678f3e0beea8a932814adbb28f5,adav Har'El <nyh@cloudius-systems.com>, 2013-09-20 12:26:17 +0300,26, test add trivial sleep test add trivial sleep test sleep second verifies finish slept roughly second used debugging issue attempt ruined timer particular trivial test hang sleep never return note future automatic testing implementor need allow possibility test cleanly fail rather hang consider failure signed nadav har nyh cloudius systems.com,,
5438,777f24df834a53bc403330e9684bc877bed9469f,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-20 11:10:08 +0300, , virtio blk use mmu page_size constant switch mmu page_size constant instead inventing signed pekka enberg penberg cloudius systems.com,,
5439,eacb1a3da857584abf2344eca43760e4098a28bd,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-17 11:22:32 +0300, , virtio blk fix dead assignment virtio_blk offset variable first assigned bio bio_offset immediately overwritten bio bio_data 0xfff fix signed pekka enberg penberg cloudius systems.com,,
5440,bc322202296b1b3df6e6605d3dcb1758878b7ffb,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-20 10:57:00 +0300, , management update update latest mgmt.git mgmt 76f0e7e ... 97be48e md5sum fix ugly spew file exist handle non existing file correctly mgmt crash fix printf format string test.groovy mgmt kill obsolete rhino based cli code mgmt perf fix perf callstack usability gitch trace important part rhino based cli removal seem cause lot problem people building osv distribution usability fix perf md5sum command also worth update signed pekka enberg penberg cloudius systems.com,,
5441,9261321ad2a42cd429fb0f0369469d8b982b8561,asha Levin <levinsasha928@gmail.com>, 2013-09-19 08:28:43 -0400, , run.py open port user mode networking port usually taken host use port 2222 instead signed sasha levin levinsasha928 gmail.com signed pekka enberg penberg cloudius systems.com,,
5442,91a44f350b9e22daf3f6945353b08bd2bb1b26fe,ang Bai <hamo.by@gmail.com>, 2013-09-20 09:54:32 +0800, , support etags add tag target makefile support etags signed yang bai hamo.by gmail.com,,
5443,ecc6501e74a135c4bc3e06e1c2c953269fd0f027,asha Levin <levinsasha928@gmail.com>, 2013-09-19 08:59:24 -0400, , cli kill old console implementation tree even though superceded confusing really unnecessary signed sasha levin levinsasha928 gmail.com signed pekka enberg penberg cloudius systems.com,,
5444,2a1064ce58bff214fc98d1ab4b8ccf944324ec5d,enoÃ®t Canet <benoit@irqsave.net>, 2013-09-19 13:58:27 +0200,8, test add dns resolver test regression test trigger issue make java work exercising dns resolver localhost dns root server test take care specifying ni_nofqdn resolve hostname part localhost appears dns communicated libc core dhcp.cci etc resolv.conf filled test contributed waiting fix idea implement signed benoit canet benoit irqsave.net signed pekka enberg penberg cloudius systems.com,,
5445,97cec783ec26360e9bfbdfff143c27d8f46176a4,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-19 10:55:56 +0300, , script silenant.py fix error message ant found apache ant found build fails cryptic error message penberg localhost osv make ant test bench traceback recent call last file script silentant.py line module stderr subprocess.pipe file usr lib64 python2.7 subprocess.py line 711 __init__ errread errwrite file usr lib64 python2.7 subprocess.py line 1308 _execute_child raise child_exception oserror errno file directory make error make human friendly penberg localhost osv make ant test bench apache ant found please install ant package make error signed pekka enberg penberg cloudius systems.com,,
5446,6def48d40f8ff5ba13d32f37c6099d22edb4aead,enoÃ®t Canet <benoit@irqsave.net>, 2013-09-19 00:56:20 +0200, , run.py give clue user subprocess.call fail oserror exception throwed subprocess.call made silent using pas fix properly catching exception pretty print signed benoit canet benoit irqsave.net,,
5447,439bad31778723422f3efe6b073c0d6beb7bf4b4,asha Levin <levinsasha928@gmail.com>, 2013-09-18 18:46:48 -0400, , percpu use correct percpu sect size support vcpus percpu little space allocated support vcpus lead crash booting vcpus fix using correct size support vcpus signed sasha levin levinsasha928 gmail.com signed avi kivity avi cloudius systems.com,,
5448,86c5fbe9652deee67db21e80dd4f05aaec00d07b,hi Yong Wu <wuzhy@linux.vnet.ibm.com>, 2013-09-19 00:35:11 +0800, , osv fix one compile issue make entering directory home zwu virt osv build release gen gen include bit alltypes.h arch x64 boot16.o boot.bin arch x64 boot.o cxx loader.o file included command line compiler include intrinsics.hh 127 error new declaration unsigned char unsigned char long unsigned int long unsigned int long long unsigned int werror compiler include intrinsics.hh 127 error ambiguates built declaration unsigned char unsigned char long long unsigned int long long unsigned int long long unsigned int werror cc1plus warning treated error make loader.o error make leaving directory home zwu virt osv build release make error signed zhi yong wuzhy,,
5449,05d9297f01521097f53073c57a148993918bbf0b,ekka Enberg <penberg@iki.fi>, 2013-09-18 04:12:36 -0700,36, merge pull request raphaelsc master fix ant dependency debian,,
5450,296dec692d4f6f0cabb4a62f7065723fc2f807a4,aphael S.Carvalho <raphael.scarv@gmail.com>, 2013-09-18 08:06:34 -0300, , fix ant dependency debian ant package must also explicitly specified otherwise following error raise building osv raphaelsc debian desktop osv_dir osv make ant test bench traceback recent call last file script silentant.py line module stderr subprocess.pipe file usr lib python2.6 subprocess.py line 623 __init__ errread errwrite file usr lib python2.6 subprocess.py line 1141 _execute_child raise child_exception oserror errno file directory make error,,
5451,d58843121a22a3f89e4a858d4dd3247f4288be9d,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-17 11:29:55 +0300, , virtio blk fix minor coding style issue fix minor annoying coding style issue driver virtio blk.cc signed pekka enberg penberg cloudius systems.com,,
5452,48def0cea7037e0f847af82fd6f8f31b0afb2a67,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-17 11:12:06 +0300, , virtio blk use with_lock virtio_blk signed pekka enberg penberg cloudius systems.com,,
5453,9826d074b2d1c5fce5b572cdcc40e3b28c74aeac,r Cohen <orc@fewbytes.com>, 2013-09-17 16:39:52 +0300, , remove magic number msleep,,
5454,b0c8bf2abaffddf5c740d735a892de599cbe5431,adav Har'El <nyh@cloudius-systems.com>, 2013-09-17 15:32:06 +0300, , remove unnecessarily copied structure runtime.cc included verbatim copy structure __locale_data glibc need mention supposed copy anything glibc wrong license previously believed libstdc poke structure need exact format glibc believe case __nl_langinfo_l implementation even adhere locale locale,,
5455,05264097b0f665145eb8f1cb881b39eacb088271,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-17 10:52:48 +0300, , makefile add target generating tag running ctags take long time git submodules penberg localhost osv time ctags real 0m35.076s user 0m18.770s sys 0m3.929s add make tag target much faster run penberg localhost osv time make tag find name .cc name .hh name name ctags real 0m0.980s user 0m1.033s sys 0m0.158s signed pekka enberg penberg cloudius systems.com,,
5456,9649e2226f87241dbb091fdb835aa149e055ee5b,ekka Enberg <penberg@iki.fi>, 2013-09-16 22:19:02 -0700,32, merge pull request sashalevin sasha run run.py trivial fix,,
5457,35a5bd2419a0209f0dbfe677918bdee0cd329ece,asha Levin <sasha.levin@oracle.com>, 2013-09-16 21:06:34 -0400, , run.py fix typo signed sasha levin levinsasha928 gmail.com,,
5458,e20086d1709be9417da93cabc3dc88f63e415a12,asha Levin <sasha.levin@oracle.com>, 2013-09-16 19:20:29 -0400, , run.py support daemonize qemu use stdio specify daemonize user want attach qemu signed sasha levin levinsasha928 gmail.com,,
5459,5b9a35d9ccce891bf9d58968c0490070315df2ed,asha Levin <sasha.levin@oracle.com>, 2013-09-16 19:21:09 -0400, , run.py detach expect parameter detach boolean accept flag signed sasha levin levinsasha928 gmail.com,,
5460,109de1e7c0a89d466a4f2a167ceaa528132a1211,asha Levin <sasha.levin@oracle.com>, 2013-09-16 19:08:58 -0400, , run.py redirect 8080 usermode networking want access guest even using usermode networking redirect port 8080 outside signed sasha levin levinsasha928 gmail.com,,
5461,e4f3448e4b1b94f0c78f1d7ce863f082fed61a04,r Cohen <orc@fewbytes.com>, 2013-09-16 15:56:26 +0300, , merge branch master github.com cloudius system osv,,
5462,ff155c90ff41666abc4026084aa6b1855a250d51,r Cohen <orc@fewbytes.com>, 2013-09-16 15:52:34 +0300, , merge branch crash osv,,
5463,960fb315c2eef4c3c972fcd4363d8b6ed0006b4a,r Cohen <orc@fewbytes.com>, 2013-09-16 15:11:03 +0300, , updated mgmt index various command fix,,
5464,865308e84a3d88cd80064a64c72bb668c0ef41e0,mitry Fleytman <dmitry@daynix.com>, 2013-09-12 16:28:10 +0300, , xenstore support device without virtual device property,,
5465,295d80ffccb4bd6aa8c7407f55acf9b30061fb32,lauber Costa <glommer@cloudius-systems.com>, 2013-09-16 05:06:45 -0300, , routing provide valid mtu route message right send route message mtus zeroed lead following assert ip_output.c line 308 triggering kassert mtu mtu rte rt_flags 08x ifp __func__ mtu rte rte null rte rt_flags ifp happens code assume valid route route valid mtu case always use route mtu instead interface one allocate route valid mtu send route message overwrite value see route message done rtsock.c rt_setmetrics patch assertion stop happening note seen local instalations ec2 looking nothing xen specific reason happening local local traffic doe default route rather local 192.168.100.0 route one seems take different configuration path thus set mtu correctly,,
5466,2e08770f4858bae70d200f036cc8b41f3c7dd3b6,mitry Fleytman <dmitry@daynix.com>, 2013-09-16 11:33:00 +0300, , build all.sh script converted make target,,
5467,bc979de76e1f46c40193a72736079d58c0e9aa34,r Cohen <orc@fewbytes.com>, 2013-09-16 02:16:46 +0300, , replaced libvirt fuse zfs fuse,,
5468,c1ba8b153717ea9bf2e4530e1bcc4cf92b7be066,r Cohen <orc@fewbytes.com>, 2013-09-16 02:11:38 +0300, , update mgmt index change ssh port removed telnet also fixed java command forward argument runjava,,
5469,d6b0034849cf92fe1dc4d83848a5e45ab70b2a03,adav Har'El <nyh@cloudius-systems.com>, 2013-09-16 00:01:00 +0300, , add copyright statement test add cloudius copyright statement test java code,,
5470,bec69a6248134e812986facafd8e729f98d17bb8,adav Har'El <nyh@cloudius-systems.com>, 2013-09-15 23:51:50 +0300, , add copyright statement libc add cloudius copyright statement libc one unfortunate problem libc code copied musl musl copyrighted licensed individual file carry statement rich felker explains musl copyright file decision exclude comment intentional possible carry around complete source code tiny storage medium future find musl file add one line copyright 2005 2013 rich felker need carefully wrongly attribute non musl code musl meantime documentation license musl claim copyright musl file think playing fair,,
5471,fd038e7a5d4a2bc3fe3247f9f3c4510e0b7c9a2e,adav Har'El <nyh@cloudius-systems.com>, 2013-09-15 19:40:54 +0300, , add copyright statement file java add cloudius copyright statement file java one java.cc rest java source code code,,
5472,4a13410059e08111f7226e2cd9e094875f085a18,adav Har'El <nyh@cloudius-systems.com>, 2013-09-15 18:31:05 +0300, , add copyright statement file include subdirectory added cloudius copyright statement code include also added include api license saying copied musl public domain according musl copyright file,,
5473,e29aa2596de99f509fec935ef656f75d444711b3,adav Har'El <nyh@cloudius-systems.com>, 2013-09-15 17:56:55 +0300, , add license file main project patch addes license file explaining copyright status clause bsd license also includes documentation license license four project copied code freebsd prex open solaris musl top level license file refers separate license file,,
5474,f198bd01d58008e871b693a2adfb3dab1984dd4c,adav Har'El <nyh@cloudius-systems.com>, 2013-09-15 17:54:05 +0300, , add contributing file add contributing file instruction based mostly linux developer certificate origin 1.1 documentation sendingpatches,,
5475,bc213b600d7e7dda0d74b078c6df005e7ad40a17,adav Har'El <nyh@cloudius-systems.com>, 2013-09-15 17:47:38 +0300, , add copyright statement file subdirectory added cloudius copyright statement source file code prex freebsd also added copyright statement addition original one thought made non trivial change original,,
5476,c0e0ebf2b1b2cdb4c0c5d3f1ac06eeec0d2d8183,adav Har'El <nyh@cloudius-systems.com>, 2013-09-15 16:20:44 +0300, , add copyright statement driver add cloudius copyright license statement driver couple header file based linux bsd licensed header file e.g. include uapi linux virtio_net.h included bsd license copyright statement replace statement bsd license,,
5477,4c0b39f3d87632c4a39506a237a7ee83408e21ac,adav Har'El <nyh@cloudius-systems.com>, 2013-09-15 15:01:41 +0300, , add copyright statement core added cloudius copyright statement core poll.cc already bsd copyright statement believe mistake think guy wrote code scratch wanting rush conclusion leaving copyright statement address issue later,,
5478,62f3e58d555b6a8d86bdade098e269f3ae80dbe2,adav Har'El <nyh@cloudius-systems.com>, 2013-09-15 14:53:22 +0300, , add copyright statement console added copyright statement javascript command old cli console eventually remove directory still exists let add copyright statement,,
5479,fe9e6a8272cbef0a0a05d3523ed9c453f2d254db,adav Har'El <nyh@cloudius-systems.com>, 2013-09-15 14:22:32 +0300, , add copyright statement bsd added copyright statement file top bsd directory bsd porting added copyright file completely attempt hunt bsd solaris file modified add copyright think important later also found one header file uma_stub.h large chunk copied freebsd added freebsd copyright,,
5480,6e918b0c78615b6140a49e6fbca81e9115bd6591,adav Har'El <nyh@cloudius-systems.com>, 2013-09-15 13:42:31 +0300, , add cloudius copyright everything arch x64 add cloudius copyright everything arch x64 includes code assembly code script,,
5481,ee8e2ce6977cf8d5b2929e0de774dc7f2fe22fa9,adav Har'El <nyh@cloudius-systems.com>, 2013-09-15 12:23:02 +0300, , undo destruction loader.cc sorry previous commit left loader.cc copyright statement copyright important important careful next time ...,,
5482,c89e6b6d04c1b73081efe4c962b482b4d03fb63c,adav Har'El <nyh@cloudius-systems.com>, 2013-09-15 12:14:22 +0300, , add copyright statement code top level directory add copyright statement source file top level directory except trivial dummy shlib.cc way think code really belongs top level directory,,
5483,21285383bc7c7315190e1deb077914586bd68fed,lauber Costa <glommer@cloudius-systems.com>, 2013-09-15 05:46:57 -0300, , trivial small fix blkfront reading flush barrier flag bug ended recreating flush move check xb_flags check flag null spotted dima,,
5484,f8c106aeade6f6c33335b9a480f65905d8d0c645,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-13 11:01:10 +0300, , poll improve tracepoints pas function argument tracepoint add tracepoints poll return value errno,,
5485,02442f3f2452728eae14420cbd67f1b745d76a8d,lauber Costa <glommer@cloudius-systems.com>, 2013-09-14 10:17:55 -0300, , hpet convert counter nanosecond made mistake presenting counter value directly instead converting nanosecond need grabbing period device using since hpet already slow fallback anyway using simple multiplication bothering complex mult shift stuff,,
5486,6842d8ce30fe946fa81c914524c85a57349fe31b,lauber Costa <glommer@cloudius-systems.com>, 2013-09-13 17:44:34 -0300, , xenfront guest side implementation flush xen version implement barrier feature disk case amazon ec2 interpret flush request wait request handled also still try use one either barrier flush disk operation resort guest side software implementation driver currently test one patch also implement flush request luckily implementation xb_dump currently use need well also quite well isolated xb_quiesce need call xb_quiesce flushing available backend,,
5487,1025a960a215b1f47d4497289a7e71a4c9276ef3,lauber Costa <glommer@cloudius-systems.com>, 2013-09-13 17:25:53 -0300, , xenfront initialize softc structure xen hypervisor always initialize page bsd driver however assume zeroed thing may break misterious flag test suddenly true instance initialize manually data received malloc deal softc,,
5488,0e62d585de51500dcba7dc46789eabff63a31bbe,lauber Costa <glommer@cloudius-systems.com>, 2013-09-13 15:39:00 -0300, , overwrite buffer writes even lord make brown paper bag mistake left code initial testing buffer set pre existing value make sure going forgot remove result read fine writes would wipe previous data buffer incidentally write read data back test would also obviously pas noticed far fix leave buffer alone,,
5489,23d0d8276a15cd84c0fc7890b78b8f910fc5a834,lauber Costa <glommer@cloudius-systems.com>, 2013-09-09 20:29:32 -0300, , run.py also execute xen far run.py script run qemu based vms like kvm xen resorting manually run patch implement xen support script need bit extra information like bridge name defaulting f19 allowing user set better trying guess reading system another problem console xen doe redirect stdio attach one detaching doe kill guest happens qemu based vms defaulting include option automatically attach console people would like background option include,,
5490,4e1b38504a3537cefde9b9f8be9fbe56d9e8a739,r Cohen <orc@fewbytes.com>, 2013-09-14 16:25:37 +0300, , updated mgmt index fixed perf command,,
5491,1f18e2e2fba534f84ae41c9e1a3a5b0f48d99d36,lauber Costa <glommer@cloudius-systems.com>, 2013-09-12 19:41:18 -0300, , run dhcp network interface stated previously true qemu always user provided network interface true xen quite possible boot network interface case get stuck asking never come patch take care call dhcp interface really since networking core service print message,,
5492,bc209ae9a4c4fae628e67924dd8531bebafa379f,lauber Costa <glommer@cloudius-systems.com>, 2013-09-09 20:32:30 -0300, , initialize console later time ago moved console initialization bit earlier message could seen earlier however creating spurious problem boot xen hvm reason isa serial reset code enables interrupt upon reset isa irq interrupt call wake pool thread point yet started since day already simple_write dealing early stuff move back used p.s dima found way make problem 100 reproduceable queueing data input line console start patch problem gone even dima method used,,
5493,26a30376d8fc8a4ffe868b4e178f416dfefda924,adav Har'El <nyh@cloudius-systems.com>, 2013-09-14 16:01:21 +0300, ," change fix poll premature timeout msleep measure time unit second 1,000,000 give excellent resolution microsecond terible range limit msleep timeout minute program cassandra poll timeout hour caused msleep think gave negative timeout patch reduces 1,000 i.e. msleep operate unit poll looking code believe change ill effect need higher resolution freebsd code used 1,000 default code convert time unit correctly always using macro allowed range timeouts grow day match poll allowed range",,
5494,ddec52d16ed09dad2b545b9e70eae904caeba80b,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-13 11:33:47 +0300, , libc add time stub needed jmx,,
5495,8b1117966833bd21420b089df287cdb0d511301e,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-13 11:23:41 +0300, ," usr.manifest add librmi.so fix following problem connecting jvm via jmx rmi error 55,278 exception thread thread rmi tcp connection idle rmi runtime rmi 1878 runtime.java 849 system.java 1087   native method clinit 122 133 transport.java 142 553 808 667 1145 worker.run 615 thread.java 724",,
5496,a301051a1a1e0da80a9eaeed5897c38f6e0b5f0f,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-12 10:03:07 +0300, , usr.manifest add fix following problem jmx enabled jvm error config file found usr lib jvm jre lib management program exited status aborted,,
5497,02a52874372a388a2c7ff2da63e19d955465262c,r Cohen <orc@fewbytes.com>, 2013-09-14 14:52:56 +0300, , added jdwp related library remote debugger sure target location libnpt.so jvm library debug agent find able start debug agent recommended jvm option xdebug xrunjdwp transport dt_socket server suspend address 5005 remote debugging favorite ide enabled,,
5498,656952de3a943455b473f08e2a4ef297ac2fdc81,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-14 14:14:25 +0300, , add makefile target qcow2 image creation add qcow2 target makefile qemu img convert build smaller qcow2 image osv raw image,,
5499,de1b8d10e8707f186d4c7fac84904c5ad37d8729,arkisr <narkisr@gmail.com>, 2013-09-14 01:09:13 +0300, , replacing old cli osv crash console console include many enchacments remote ssh server basic cli command etc,,
5500,cbd60caa70f7672ee2fcad0e9c6cd85283e5d0ce,arkisr <narkisr@gmail.com>, 2013-09-14 01:08:08 +0300, , clearing cloudius cli sshd jar replaced crash jar usr.manifest moving tmp crash usr.manifest,,
5501,2c7f0a58b98abdf12d17c4ac71e334db4512b72f,uy Zana <guy@cloudius-systems.com>, 2013-09-12 16:41:59 +0300, , getnameinfo try find entry etc host first musl implementation immidiately issue dns query instead looking first etc host file patch fix side effect long boot duration shortened second,,
5502,7920045a4ee9089d46e1cd2ef4e6123179a37932,uy Zana <guy@cloudius-systems.com>, 2013-09-12 12:37:34 +0300, , post processing add memory analyzer capable showing size allocation histogram,,
5503,3cc2c305decde52edf1caee0ce43ea369cfe4958,uy Zana <guy@cloudius-systems.com>, 2013-09-12 12:19:22 +0300, , post processing scheduler visually view histogram thread time slice,,
5504,3109fd9316f994f22c0b3c9c9e53f1453fbe1814,uy Zana <guy@cloudius-systems.com>, 2013-09-10 19:30:19 +0300, , improve tcp hash cli srv test,,
5505,1f161695d86dfc5e875918e9b31fdb64ed44467b,vi Kivity <avi@cloudius-systems.com>, 2013-09-12 13:50:22 +0300, , trace add option log backtraces tracepoint record command line option trace backtraces,,
5506,1d3e336c91df6681dd09ee90d02d8ebfed42aa35,mitry Fleytman <dmitry@daynix.com>, 2013-09-08 17:14:08 +0300, , support xen vector callback patch implement gsi interrupt support xen bus needed xen environment vector callback hvm one example environment amazon ec2,,
5507,aeb82f51cb32f7407086d539c3b59a29f1a623fe,mitry Fleytman <dmitry@daynix.com>, 2013-09-11 10:45:37 +0300, , logic gsi level triggered interrupt added,,
5508,b255c2594af655351c63ea72e1855345ace6c5e9,adav Har'El <nyh@cloudius-systems.com>, 2013-09-12 09:34:50 +0300, , test cpu load balancing test test effectiveness scheduler load balancing running several thread several cpu full description test expected result included comment beginning code briefly test run multiple concurrent busy loop thread additional intermittent thread one busy loop short duration sleep expects busy thread get fair share cpu intermittent thread bother much testing current code test demonstrates following problem  two busy loop thread cpu slower one kernel overhead profiling show 100 time test inner loop see exactly slowdown running test linux host might related host multitasking let worry much worrying intermittent thread sometimes half test cause fully use one cpu course get bad performance many test involving thread thread intermittent thread load balancing fair thread got cpu others later send patch fix issue appear happen load balancer thread run often vruntime problem,,
5509,babbde697a77ecde0d74d5b3be1eea697c8876e4,mitry Fleytman <dmitry@daynix.com>, 2013-09-12 07:45:07 +0300, , readme update new build script,,
5510,29160b6b0267f2adfe5fc65cc1f6f8d6c2b13e7c,mitry Fleytman <dmitry@daynix.com>, 2013-09-11 18:05:43 +0300, , simple script initial build component,,
5511,337eda3be0f3f9cabdfba0d894489585f3549bfd,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-11 14:51:39 +0300, , java.so pas command line option jvm pas command line option used configure jmx example jvm,,
5512,aa98b3064906a03778e92f9cd90d0cc769d0b59f,mitry Fleytman <dmitry@daynix.com>, 2013-09-09 16:51:40 +0300, , xapic support implemented xapic supported fall back x2apic available,,
5513,d19a8d4be67de3330e7d32aea19519f606780be9,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-11 13:49:24 +0300, , gdb remove vma address osv mmap output nobody care vma address easy confuse vma start address drop osv mmap output suggested nadav har,,
5514,49497bdb689b4d899f5d1691559c15035fc03a0f,adav Har'El <nyh@cloudius-systems.com>, 2013-09-11 11:16:56 +0300, , support clock_gettime syscall strangely new std chrono system_clock wanted use test case call clock_gettime function syscall interface add support,,
5515,542c319b66ee4cc3143f6d5142bdd37d21375452,adav Har'El <nyh@cloudius-systems.com>, 2013-09-11 11:13:23 +0300, , add reboot function added new function osv reboot declared osv power.hh rebooting also added java interface note power.java jni power.cc also need copied mgmt submodule,,
5516,a919d5f4d350632a3cdec58046524949fd036891,vi Kivity <avi@cloudius-systems.com>, 2013-09-11 10:37:48 +0300, , mutex make constructor constexpr statically allocated mutexes common make mutex constructor constexpr ensure statically allocated mutex initialized use even use static constructor,,
5517,b7dc6b67de6589160b38f829440f0871f9d64b54,arkisr <narkisr@gmail.com>, 2013-09-10 23:50:36 +0300, , switching mgmt submodule latest mgmt master,,
5518,e2bef725e9a0314761b73834c741562e447dabaf,arkisr <narkisr@gmail.com>, 2013-09-10 23:00:34 +0300, , adding internal jmx server launch disabled since osv fails start,,
5519,6ea1a813aa6ad2ff650dac6a67e0b2fbd2a3499a,arkisr <narkisr@gmail.com>, 2013-09-10 18:56:08 +0300, , moving web related folder usr.manifest setting folder path usr,,
5520,ba6ba3b166db2e3e6ba98c60f7eddab9b1d8c143,arkisr <narkisr@gmail.com>, 2013-09-10 03:10:57 +0300, , latest commits,,
5521,9ee0d6156044a24803a4e1f318aed8fa039c7419,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-10 10:11:20 +0300, , gdb fix osv mmap memory layout fix memory layout class vma osv mmap gdb command,,
5522,d72b550cedd261e1d3e5684c817b876612461e94,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-10 12:28:50 +0300, , mmu fix file backed vma splitting commit 3510a5e mmu file backed vmas forgot fix vma split take file backed mapping account fix problem making vma split virtual function implementing separately file_vma spotted avi kivity,,
5523,c5c4534c9d7292826da2c6c839261c54b35ac7da,r Cohen <orc@fewbytes.com>, 2013-09-10 17:26:44 +0300, , added basic readline configuration parsed jline crash console better understand key like home end arrow,,
5524,8b0ea169fd91462774c0f92d77a7747690b12dac,r Cohen <orc@fewbytes.com>, 2013-09-10 16:38:08 +0300, , merge branch stty jni,,
5525,6b5487137acde22566a5470c976a39e70559fa4b,r Cohen <orc@fewbytes.com>, 2013-09-10 16:16:36 +0300, , added stty jni call ioctl flag needed jline,,
5526,68f4d147e2fc11c577235a23330f75b64ae111e1,adav Har'El <nyh@cloudius-systems.com>, 2013-09-10 10:59:56 +0300, , dhcp fix crash rarely every run osv crash boot dhcp code turn code first sends dchp request creates thread handle reply reply arrives code wake thread rare occasion thread yet set still null pointer crash fix reversing order first create reply handling thread send request,,
5527,32ff60e41fc54941a2dd8f87b3883882ea56f972,uy Zana <guy@cloudius-systems.com>, 2013-09-08 19:02:58 +0300, , gdb add osv trace2file use dump tracepoints file trace.txt x100 faster,,
5528,e9f0cf2997953c93ccaa24325ec6e1b556c5dd57,adav Har'El <nyh@cloudius-systems.com>, 2013-09-08 20:30:38 +0300, , scheduler fix load balancer bug load_balance code check another cpu fewer thread run queue thread migrates one cpu thread cpu however count core runnable thread overcount soon load_balance back sleep one runnable thread start running core one runnable thread remote core runnable thread actually even case migrate thread overcounting number thread core running load_balance caused bad performance core thread specjvm normally size run queue core core running one two thread run queue idle thread load_balance run see runnable thread idle thread preempted benchmark thread second core decides migrate one thread second cpu second cpu benchmark thread first cpu nothing fixed time later second cpu load_balance thread run later balance ruined time two thread run cpu significantly hurt performance host top see qemu taking 120 150 instead 200 doe patch,,
5529,253e45362a0a170cee8dc1918b0275a32440012f,adav Har'El <nyh@cloudius-systems.com>, 2013-09-08 20:28:25 +0300, , scheduler avoid vruntime jump clock jump currently clock get time jump system_time i.e. host uptime point initialization huge jump e.g. week host uptime week fixing jump hard rather tolerate handle clock jump badly calculates current_run amount time current thread run include jump thread running example run time whole week wrongly attributed thread added vruntime causing scheduled thread yield cpu fix patch limit vruntime increase long run max_slice 10ms even thread run longer think ran longer penalized dynamic priority thread ran 10ms note cap make sense cpu enqueue already enforces similar limit vruntime bonus woken thread patch work toward similar goal avoid giving one thread huge bonus another thread given huge penalty bug visible cpu bound specjvm2008 benchmark running two benchmark thread two virtual cpu happens load_balancer one get huge vruntime increase get run thread want run start cpu bound thread cpu hardly yield cpu even rarely two thread sleeping time load balancer thread cpu get run two thread remain cpu giving halved performance cpu performance identical cpu performance host see qemu using 100 cpu instead 200 expected two vcpus,,
5530,a8d3a5cafb0294d60cfbd4c4a340f8ca19fa21eb,uy Zana <guy@cloudius-systems.com>, 2013-09-08 16:38:29 +0300, , run.py fix image name write argument usr.img,,
5531,6bdae19f7b8d893fc293eb85650bd27d99faa74c,uy Zana <guy@cloudius-systems.com>, 2013-08-26 15:10:27 +0300, , run_elf add debug print running elf easy debugging,,
5532,962eed709097f5dbf6a821de48dd161c0eac1655,uy Zana <guy@cloudius-systems.com>, 2013-08-22 12:59:25 +0300, , test add tcp hash server test multiple tcp stream,,
5533,e51ef87233009cbcbf4f5dfaf89e4e61a8020c85,uy Zana <guy@cloudius-systems.com>, 2013-08-18 13:20:12 +0300, , test tcp send test test guest connects host sends small packet data used verify retransmits working van jacobson tcp stack general,,
5534,d4d8f01498fba98523be204477ed2cdc670e728a,uy Zana <guy@cloudius-systems.com>, 2013-09-08 14:09:47 +0300, , dhcp start eth0 configure dhcp default running payload,,
5535,6be8f6b06c82b393c2da19219b17b68918187ae0,uy Zana <guy@cloudius-systems.com>, 2013-09-08 13:58:51 +0300, , dhcp add option wait make default,,
5536,9c10b7845963b72bbd250715770cc25bd0dc5343,vi Kivity <avi@cloudius-systems.com>, 2013-09-08 13:52:44 +0300, , build fix sizing image clean build shell call stat evaluted rule build image triggered point loader stripped.elf doe exist yet cause stat fail build break fix moving creation loader stripped.elf target time recipe evaluated file known exist,,
5537,484dee50554d73f0c349255a6d67d3e72d8b4cd4,r Cohen <orc@fewbytes.com>, 2013-09-06 20:14:47 +0300, , removed bash zsh specific arithmetic expansion changed calculating zfs start size,,
5538,16b472617a41d8ef96b18461bfbc70a6a238d9e1,lauber Costa <glommer@cloudius-systems.com>, 2013-08-29 16:54:43 -0300, , build adaption single image,,
5539,7b0354b9ab7c536dcb9ce315dcecc157136ae9c6,lauber Costa <glommer@cloudius-systems.com>, 2013-09-02 10:45:51 -0400, , blkfront mark device ready earlier read partition table device device marked ready since stall believe fine mark device ready mark state connected change proceed normally,,
5540,b3e47d9a7eb134cc888e2f2fb4c60d3b6be6669f,lauber Costa <glommer@cloudius-systems.com>, 2013-08-31 18:18:08 -0300, , call read partition table would like call automatically device_register would guarantee every device come partition scanned although totally possible kvm possible xen due assynchronous nature bringup protocol device exposed created moment yet possible reading partition table fail read driver sure driver ready,,
5541,7fb8b99b3cc8239eb990949ccd958d5a243aa424,lauber Costa <glommer@cloudius-systems.com>, 2013-08-31 12:00:16 -0300, , read partition table code living device.c maximum generality read partition table disk call ideally new device would private data would mean callback driver set partition therefore found easier convention partition drive private data make sense consider hypervisors usually agnostic partition addressing communication single entry point disk,,
5542,cd14aeccb29afbf9f18f552808847fde98d65265,lauber Costa <glommer@cloudius-systems.com>, 2013-08-31 11:57:54 -0300, , add offset calculation support multiple partition disk found easier add post processing offset calculation bio calling strategy reason many really many entry point bio preparation pre strategy two entry point strategy driver since good thing used even virtio although converting since allows arbitrary sized request could well reduce one moment offset always everything work,,
5543,bfff3c6a116922ca0829ff07c92ab59c826c0ab3,lauber Costa <glommer@cloudius-systems.com>, 2013-08-31 11:46:59 -0300, , blk derive size information device currently get private data since plan use private data partition need unique value already exists device use,,
5544,4a6d51d5d9eeca78b5c5cd42baa1ec7f390f6645,lauber Costa <glommer@cloudius-systems.com>, 2013-08-31 09:09:50 -0300, , boot16.s open space partition table copying bootloader code beginning disk make sure step partition table space technically needed code small enough guard code make sure happen make sure space zeroed signature though needed set byte span vso end,,
5545,716ad81d198fb97982d68e3dd6b109e35e02b6fc,lauber Costa <glommer@cloudius-systems.com>, 2013-08-30 22:15:35 -0300, , imgedit extend image editing script deal partition given partition size start address edit image passed parameter create partition entry assumes disk always bigger 8gb setting chs address osdev wiki drive smaller 8gb lba field chs field must match value converted format drive bigger 8gb generally chs field set cylinder 1023 head 254 255 sector considered invalid setting,,
5546,b6e0120f760c344134294df76b4292bae19fbc48,lauber Costa <glommer@cloudius-systems.com>, 2013-08-30 07:56:40 -0300, , use stripped loader size calculation size bootloader count32 since copying stripped binary anyway probably reading much data reason increase boot time bit,,
5547,fcf173eb10907f4e72104b41486ab417368a4464,lauber Costa <glommer@cloudius-systems.com>, 2013-09-02 13:16:11 -0400, , bootloader move count32 variable currently sits middle partition table move safer location,,
5548,e2991fce1de3d1a17a99d01c801b4fa7033eb394,lauber Costa <glommer@cloudius-systems.com>, 2013-09-02 23:32:33 -0400, , hpet clock driver patch implement hpet clock driver work fallback xen kvm case paravirtual clock present unfortunately situation hvm guest running ec2 support paramount tested kvm forcing kvmclock disappear seems work right,,
5549,bf15592d8669665e48c6f29835c4af15c9317cda,lauber Costa <glommer@cloudius-systems.com>, 2013-09-03 09:36:40 -0400, , acpi move table initialization constructor right right parse madt far madt specific user planned best way resolve dispute separate constructor,,
5550,5524f1ef50fd4f4838eeb61721ff179b5a1c6c69,lauber Costa <glommer@cloudius-systems.com>, 2013-08-30 22:10:46 -0300, , trivial remove dangling reference xb_strategy,,
5551,455c4bec549010282236e3a4d5b77c16e1778aa1,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-09 16:29:26 +0300, , virtio blk use wait_for_queue response_worker cleanup use wait_for_queue like virtio net doe,,
5552,90390cca96b9b582c1f14f58bc9f4c638f534f92,vi Kivity <avi@cloudius-systems.com>, 2013-09-03 17:36:28 +0300, , irq_lock avoid irq_lock defined used warning attempt clever define irq_lock object anonymous namespace translation unit get copy optimized away since object never touched compiler complains object defined used include file use irq_lock simplify declaring object defining somewhere else,,
5553,057e0e28832a54ab927ea91a48489002c9910d5b,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-03 11:46:27 +0300, , add libjli.so usr.manifest needed jvm javaagent command line option used patch jamm memory meter javaagent enabled cassandra,,
5554,92745e88f4b467ec07eae3ea1644630fd5db015a,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-07 16:09:41 +0300, , java.so support javaagent option,,
5555,a83cdf852ef5db1017d95c3be4c2342034b88bcd,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-03 11:42:11 +0300,20, dlfcn fix dlopen error handling javaagent option enabled jvm page fault gdb arch x64 processor.hh 232 osv halt core power.cc abort msg msg entry 0x57ea90 page fault outside application runtime.cc page_fault core mmu.cc 943 signal handler called __stpncpy entry 0x2000001fe7f0 dlsym symbol found 0x0 1023 libc string stpncpy.c strncpy 0x2000001fe7f0 dlsym symbol found optimized optimized libc string strncpy.c dll_load filename filename entry 0x2000001febf0 ebuf ebuf entry 0x2000001fe7f0 dlsym symbol found ebuflen ebuflen entry 1024 usr src debug java 1.7.0 openjdk 1.7.0.25 openjdk hotspot src linux os_linux.cpp 1841 lookup_on_load agent agent entry on_load_symbols on_load_symbols entry 0x2000001ffd40 usr src debug java 1.7.0 openjdk 1.7.0.25 openjdk hotspot src share runtime thread.cpp 3585 agent usr src debug java 1.7.0 openjdk 1.7.0.25 openjdk hotspot src share runtime thread.cpp 3617  usr src debug java 1.7.0 openjdk 1.7.0.25 openjdk hotspot src share runtime thread.cpp 3656 thread create_vm args optimized cantryagain cantryagain entry 0x2000001ffdb0 usr src debug java 1.7.0 openjdk 1.7.0.25 openjdk hotspot src share runtime thread.cpp 3177 0x2000001ffe58 penv 0x2000001ffe60 args optimized usr src debug java 1.7.0 openjdk 1.7.0.25 openjdk hotspot src share prims jni.cpp 5127 main argc optimized argv java java.cc run_main prog optimized args args entry loader.cc 196 do_main_thread _args loader.cc 217 operator __closure libc pthread.cc std void pthread_private pthread pthread void void void sigset_t const pthread_private thread_attr __lambda0 _m_invoke const std _any_data __functor ... external gcc.bin usr include 4.8.1 functional 2071 main core sched.cc 536 sched thread_main_c arch x64 arch switch.hh 133 thread_main arch x64 entry.s 101 backtrace stopped frame save caused jvm expecting dlerror return error string dlopen fails fix,,
5556,22c859332a50360763e54f9b883494145b46fb12,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-01 12:46:58 +0300, , filed backed mmap test add simple test munmap file backed memory map expose limitation munmap writing map_shared mapping,,
5557,c66f9d8b6f493a0bb24fcc1a27d508b9c8eaee12,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-29 14:51:13 +0300, , mman write file backed memory map munmap use new mmu msync function make sure file backed memory map written disk munmap,,
5558,1691c89d775bf1e4623a44eba42764a9e09b4d48,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-29 14:26:41 +0300, , mmu msync file backed memory map add simple msync implementation file backed memory map newly added file_vma data structure write fsync msync region suggested avi kivity,,
5559,3510a5ea36f203bb14bfd5a3719b6b6deb7542b6,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-29 14:14:03 +0300, , mmu file backed vmas add new file_vma class extends vma needed keep track fileref offset file backed vmas msync,,
5560,7a21aa3e972b5cddc8aeaf092d1040cac23c7b4c,vi Kivity <avi@cloudius-systems.com>, 2013-09-02 12:29:31 +0300, , error fix inverted condition error_to_libc spotted pekka,,
5561,c0f7f0f902d56f5aa9cf859c71f85eb8b7a6f9ba,vi Kivity <avi@cloudius-systems.com>, 2013-09-02 11:35:41 +0300, , osv add error class different source base different error convention libc errno rest source base error wrap error class prevent confusion two,,
5562,e8c8a90fc04c7f35cffb694028bc4f8c876b520a,arkisr <narkisr@gmail.com>, 2013-09-02 02:10:37 +0300, , fixing missing commit adding artifactory wasnt,,
5563,a8a76b8898377cf54102cf45cbaa660d7f86c691,arkisr <narkisr@gmail.com>, 2013-09-01 21:46:16 +0300, , merge branch master github.com cloudius system osv,,
5564,3033358055fa8463eedaf02e5d674c7724b9caef,arkisr <narkisr@gmail.com>, 2013-09-01 21:41:23 +0300, , latest master,,
5565,f4cedea284518fac56327417cbd84c5ca981e69b,arkisr <narkisr@gmail.com>, 2013-09-01 21:34:41 +0300, , adding managment.so tools.jar,,
5566,9404b92dac0ac452e4e49d663ca0917894a6d823,onen Narkis <narkisr@gmail.com>, 2013-09-01 18:47:34 +0300, , using artifactory,,
5567,584c17374f657fdca55f1097c34ccc35d397f4e9,ekka Enberg <penberg@cloudius-systems.com>, 2013-09-01 13:34:18 +0300, , mman fix missing libc.hh include fix following build brekage caused commit a7d6b26 mman use libc_error mprotect libc mman.cc function int mprotect void size_t int libc mman.cc error libc_errorâ declared scope return libc_error einval  libc mman.cc error libc_errorâ declared scope return libc_error enomem  cxx libc pipe_buffer.o cxx libc pipe.o make libc mman.o error,,
5568,a7d6b269ec6d416509a442e583848404cb5829d9,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-29 21:36:34 +0300, , mman use libc_error mprotect,,
5569,1ab19610c3bd75c7aaa587c481fbac41f9259539,arkisr <narkisr@gmail.com>, 2013-08-29 18:14:34 +0300, , adding crash jar,,
5570,72d21c4974dd93afb8e2c074030bcef636ad2904,vi Kivity <avi@cloudius-systems.com>, 2013-08-29 15:00:02 +0300, , mempool use drop_lock,,
5571,db907b1a58189b111b52f692ff7091ccbc771801,vi Kivity <avi@cloudius-systems.com>, 2013-08-29 14:54:15 +0300, , mutex add drop_lock used temporarily dropping lock lexical scope reacquiring exit scope similar wait_until mutex without waiting with_lock preempt_lock stuff enough resource drop_lock preempt_lock acquire resource  reload anything may changed drop_lock  stuff acquired resource  note drop_lock work recursively taken lock,,
5572,d92eac1264515e0a83bd2db5949b67358c523076,vi Kivity <avi@cloudius-systems.com>, 2013-08-29 14:53:02 +0300, , rcu add compiler barrier rcu read unlock want compiler moving read possible rcu_defer,,
5573,aa10d56437151c303a11a3ad3f3b38062218c765,arkisr <narkisr@gmail.com>, 2013-08-29 16:17:43 +0300, , deleting jars.bin,,
5574,779957350b306d1b3420929c0e0d90413b913339,arkisr <narkisr@gmail.com>, 2013-08-26 15:41:34 +0300, , adding mgmt,,
5575,aad01cf777a9ecfe6264eb07b7d21f170fe9de2e,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-28 14:22:11 +0300, , mman add tracepoints mmap munmap,,
5576,5d524c12470c4d9e5decd127927815d3ff1bd94b,or Laor <dor@cloudius-systems.com>, 2013-08-29 09:54:30 +0300, , describe dhcp application execution etc,,
5577,441cae8ef7f03d3e2c268ce2e204e34900049489,or Laor <dor@cloudius-systems.com>, 2013-08-29 09:48:46 +0300, , flex bison required build acpi library,,
5578,d96bb41a1797cdccccf53bb0a7133e4f08427674,adav Har'El <nyh@cloudius-systems.com>, 2013-08-29 09:44:39 +0300, , java.so allow classpath jar existing code classpath jar paramter replaced classpath inconvenient unlike unix java program better add classpath example run java.so java cli.jar jar java web.jar app run web.jar main class add cli.jar web.jar classpath,,
5579,0d466fab3a9a497236840d2e941662bfcac37755,lauber Costa <glommer@cloudius-systems.com>, 2013-08-27 15:17:55 -0300, , mbufs use entire page jumbop zone allocation xen hard requirement page transfer feed grant table address need page aligned since pfns address used need provide least full page per buffer since hypervisor free fill data within page achieve netfront driver use m_cljget attach extended buffer mbuf jumbop zone since page sized however two problem arise allocating page malloc_large implementation malloc_large currently terribly inefficient creates heavy contention site patch switch uma implementation alloc_page free_page instead malloc caller zcreate specified course specify jumbop cache refcount attached end buffer would either extend buffer 4100 byte defeating purpose buffer would page_size accomodate refcount since hypervisor write whole page eventually overwrite refcount address allocating external reference counter bsd already infrastructure taking advantage however found way implementing way reference count easily deduceable address extended buffer without supporting mbuf start external data structure hash would probably make freeing way slow thankfully uma_find_refcnt uma_zone_refcnt seems used mostly setup destruction phase mbuf refcount used directly open coded proposal remove uma_zone_refcnt zone,,
5580,cc3d517a87d0b4aee787d3f05f880eb11454dd07,lauber Costa <glommer@cloudius-systems.com>, 2013-08-16 16:18:33 +0400, , work around xen x2apic bug x2apic specification say reading x2apic_id msr return physical apic current processor however xen implementation 4.2.2 broken read actually return old style xapic even fix still hvs deployed around return wrong work around testing returned apic form since case first bit zeroed least get working everywhere may pose problem want ever support vcpus random x2apic highly unlikely anyway,,
5581,5cb16020c34861349081184198cbefd82e48cc78,lauber Costa <glommer@cloudius-systems.com>, 2013-08-16 13:37:47 +0400, , apic bringup cpu individually instead time described previous patch xen hypervisor nasty bug cause x2apic msr writes trigger gpf although request proceeds fine despite gpf doe bring problem self style init sequence using failing succeeding returning failure deliver interrupt first cpu group xen break loop therefore delivering sipis cpu system work around delivering interrupt cpu individually instead self,,
5582,a7ea5784b17324c64c6db9654e23906e4a1ec909,lauber Costa <glommer@cloudius-systems.com>, 2013-08-16 13:33:39 +0400, , implement wrmsr_safe unfortunately xen hypervisor nasty bug seems fixed 2013 patch mean although fixed lot hypervisors cause x2apic msr writes init related register init sipi etc trigger gpf way work around implement form wrmsr_safe,,
5583,c6bc34785222151cfcc6be31a56d84e05f24b90b,lauber Costa <glommer@cloudius-systems.com>, 2013-08-27 20:57:02 -0300, , trivial remove device debug message ended forgetting remove kprintfs device.c inserted xen blkfront development,,
5584,34efd7644eb1d36519fad593cab49f0954b08dba,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-28 12:15:40 +0300, , gdb add mmap info osv mem walk vma list add mmap number osv mem gdb osv mem total memory 4294564864 byte mmap memory 3278278656 byte 76.34 free memory 474492928 byte 11.05,,
5585,448ef255843de580b7f70a0cd576cc6ccd8185eb,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-28 11:55:34 +0300, , gdb osv mmap inspecting vmas,,
5586,6924f7dbedab914ea6ece8b0c53ffde0960a4155,adav Har'El <nyh@cloudius-systems.com>, 2013-08-27 17:15:11 +0300, , fix mincore non mmap memory commit fixed mincore recognize unmapped address however used mmu ismapped check mmap address know malloc memory cause trouble libunwind use backtrace test mincore stack variable non pthread thread stack might malloc mmap patch add mmu isreadable check given memory range readable memory mmapped malloced stack whatever mincore mmu isreadable implemented following avi idea trying read safe_load one byte every page range approach faster page table walking especially one byte check libunwind anyway also simple,,
5587,73cc470d2552158299cd62778313de00bf0ca1a0,adav Har'El <nyh@cloudius-systems.com>, 2013-08-27 16:28:48 +0300, , test mincore stack malloc memory unlike msync mincore also work non mmapped memory stack malloc memory currently fails malloc memory sometimes work stack work pthread stack mmapped sched thread stack malloced default patch add test tst mmap.cc demonstrate problem test currently fails fixed follow patch,,
5588,0a798e4d401bccf53c6adb0b083c8fdc1d9db621,lauber Costa <glommer@cloudius-systems.com>, 2013-08-26 19:03:24 -0300, , mempool.c trace large allocation performance problem found xen due fact hitting malloc_large consistently allocation able service way malloc_large implementation bottleneck useful separate tracepoints proposing inclusion,,
5589,227eb39b1401a279dca33b0b3b5adad4f0cbb998,adav Har'El <nyh@cloudius-systems.com>, 2013-08-27 12:50:42 +0300, , fix deadlock leak detector commit fixed mincore exposed deadlock leak detector caused two thread taking two lock opposite order thread malloc doe alloc_tracker remember take tracker lock call backtrace calling mincore take vma_list_mutex thread mmap doe mmu allocate take vma_list_mutex mmu populate small_page call memory alloc_page call alloc_tracker remember take tracker lock patch fix deadlock alloc_tracker remember drop lock running backtrace lock needed protect allocation array need retake lock backtrace completes copy backtrace back allocation array previously lock depth also used avoiding nested allocation tracking e.g. tracking memory allocation done inside backtrace backtrace run without lock need different mechanism per thread in_tracker flag turned inside alloc_tracker remember forget method,,
5590,6f56f6a5a7dcb40c9201d774b28615ba332c985b,lauber Costa <glommer@cloudius-systems.com>, 2013-08-20 17:23:55 -0300, , doc fix netperf instruction allows lazy people like copy instruction,,
5591,04ddff7a7f4ba467ba86568037bc006b97293fb3,lauber Costa <glommer@cloudius-systems.com>, 2013-08-20 16:38:59 -0300, , cpu initialize fpu csr register trust state fpu csr register always sane apparently least one version xen happens one using initialize manually cpu bringup,,
5592,bcf77dc9249d53a04b084e886db00d5bb1a9665e,lauber Costa <glommer@cloudius-systems.com>, 2013-08-20 14:12:14 -0300, , xen correctly ack interrupt xen interrupt code made mistake exchanging previous value _irq_pending true mean constantly polling data interrupt thread responsible latency spike seeing simple ping test still show bad result absolute term least spike gone,,
5593,714d313a091bd517bd6428b97b06f106b3189969,adav Har'El <nyh@cloudius-systems.com>, 2013-08-27 01:09:17 +0300, , avoid including elf.hh sched.hh sched.hh included elf.hh refer elf tls_data type rcu.hh includes sched.hh therefore elf.hh wish use rcu elf.hh later patch include loop mess better include elf.hh sched.hh declare one struct need sched.hh longer includes elf.hh dozen includes included need add missing includes code included sched.hh relied implict includes,,
5594,4af3677117a5bb2f4660d750fa4eddc6ef44e7f2,vi Kivity <avi@cloudius-systems.com>, 2013-08-26 16:19:35 +0300, , signal avoid nested signal signal within signal handler really bad news abort happens let developer debug,,
5595,6f464e76cf5dd2c3fbb6b7ea84d00e21ee88cdbf,vi Kivity <avi@cloudius-systems.com>, 2013-08-26 16:18:24 +0300, , mmu pas really bad fault application trying execute null pointer fault within kernel code really bad sign better abort early,,
5596,0affe14a7cb7818afba942efd33f0650bd172262,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-26 15:22:41 +0300, , alloctracker fix forget remember called leak detector enabled osv startup first call free malloc fix alloctracker forget deal fix sigsegv osv leak used enable detection gdb osv started  fatal error detected java runtime environment  sigsegv 0xb pid tid  jre version 7.0_25 java openjdk bit server 23.7 b01 mixed mode linux amd64 compressed oops problematic frame   core dump written default location core core.0  error report file information saved tmp jvm hs_error.log  would like submit bug report please include instruction reproduce bug visit http bugzilla  aborted penberg localhost osv addr2line build debug loader.elf  home penberg osv build debug core alloctracker.cc,,
5597,65afd0754fe419302efca95599b19e53ffca8dbd,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-26 14:20:58 +0300,27, runtime fix mincore unmapped address fix mincore deal unmapped address like msync doe fix sigsegv libunwind access_mem leak detector enabled gdb page_fault core mmu.cc 871 signal handler called contiguousspace optimized 0x77d2f3968 usr src debug java 1.7.0 openjdk 1.7.0.25 openjdk hotspot src share oops oop.inline.hpp 411 do_space 0x2000001f9100 optimized usr src debug java 1.7.0 openjdk 1.7.0.25 openjdk hotspot src share memory generation.cpp 242 space_iterate blk 0x2000001f9100 usedonly optimized usr src debug java 1.7.0 openjdk 1.7.0.25 openjdk hotspot src share memory 480 generation block_start optimized optimized usr src debug java 1.7.0 openjdk 1.7.0.25 openjdk hotspot src share memory generation.cpp 251 print_location entry 0x2000001f9560 32165017960 verbose verbose entry false usr src debug java 1.7.0 openjdk 1.7.0.25 openjdk hotspot src share runtime os.cpp 868 0x2000001f9560 context 0x2000001f9740 usr src debug java 1.7.0 openjdk 1.7.0.25 openjdk hotspot src os_cpu linux_x86 839 vmerror report 0x2000001f9610 entry 0x2000001f9560 usr src debug java 1.7.0 openjdk 1.7.0.25 openjdk hotspot src share utility vmerror.cpp 551 vmerror report_and_die entry 0x2000001f9610 usr src debug java 1.7.0 openjdk 1.7.0.25 openjdk hotspot src share utility vmerror.cpp 984 sig info 0x2000001f9bb8 ucvoid 0x2000001f9740 optimized usr src debug java 1.7.0 openjdk 1.7.0.25 openjdk hotspot src os_cpu linux_x86 528 frame 0x2000001f9b10 arch x64 signal.cc signal handler called access_mem dwarf_get _ulx86_64_step backtrace buffer 0x1ff9d80 memory alloc_tracker remember void int size libc misc backtrace.cc memory alloc_tracker remember 0x1777ae0 memory tracker addr size core alloctracker.cc memory addr size core mempool.cc std_malloc size core mempool.cc 723 malloc size core mempool.cc 856 env env entry jstr jstr entry iscopy iscopy entry 0x0 src share native common jni_util.c 801 env optimized file optimized src solaris native java 111      spotted avi kivity,,
5598,31fe17842706662a686be8eec1d43ad9ee765882,adav Har'El <nyh@cloudius-systems.com>, 2013-08-26 14:00:02 +0300, , __xstat64 check version argument __xstat commit __fxstat problem,,
5599,018c672eb1f053d87b43ec8dcb9db3982fa9884e,adav Har'El <nyh@cloudius-systems.com>, 2013-08-26 12:56:05 +0300, , __fxstat64 check version argument linux _stat_ver bit bit glibc never verifies argument __fxstat64 jnr library used jruby wrongly believe pass ver __fxstat64 see jnr posix .... linuxposix.java linux wrong argument ignored implementation fails check patch remove check code well let jnr therefore jruby use stat without failing,,
5600,3d3c65b317bc1434e05dafe30ce36497f4ef344d,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-23 15:02:14 +0300,22, zfs fix gpf zfs_rmnode crashed osv guest restarted zfs mount cause gpf early startup vfs mounting zfs usr zfs mounting osv usr device dev vblk1 aborted gdb backtrace point finger zfs_rmnode processor arch x64 processor.hh 212 osv halt core power.cc abort msg 0x636df0 aborted runtime.cc abort runtime.cc osv generate_signal siginfo ... libc signal.cc osv addr libc signal.cc page_fault core mmu.cc 876 signal handler called zfs_rmnode bsd sys cddl contrib opensolaris common zfs zfs_dir.c 611 zfs_zinactive bsd sys cddl contrib opensolaris common zfs zfs_znode.c 1355 zfsvfs bsd sys cddl contrib opensolaris common zfs zfs_dir.c 523 zfsvfs_setup zfsvfs mounting true bsd sys cddl contrib opensolaris common zfs zfs_vfsops.c 881 zfs_domount vfsp osname 0x6b14cb osv usr bsd sys cddl contrib opensolaris common zfs zfs_vfsops.c 1016 zfs_mount dev 0x6b14d7 dev vblk1 flag data 0x6b14cb bsd sys cddl contrib opensolaris common zfs zfs_vfsops.c 1415 sys_mount dev 0x6b14d7 dev vblk1 dir 0x6b14a3 usr fsname 0x6b14d3 zfs flag data 0x6b14cb vfs vfs_mount.c 171 mount_usr vfs main.cc 1415 do_main_thread _args loader.cc 215 pthread_private pthread pthread void void void sigset_t pthread_private thread_attr const lambda operator const libc pthread.cc std void pthread_private pthread pthread void void void sigset_t const pthread_private thread_attr __lambda0 _m_invoke const std _any_data __functor ... external gcc.bin usr include 4.8.1 functional 2071 std function void operator const external gcc.bin usr include 4.8.1 functional 2468 sched thread main core sched.cc 581 sched thread_main_c arch x64 arch switch.hh 133 thread_main arch x64 entry.s 101 problem zfs try check znode attribute directory trip z_vnode null however explained commit b7ee91e zfs port vop_lookup even support extended attribute drop check completely osv,,
5601,1397a3ec429ca178b60593f8aa46b01fb1c9fe64,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-23 15:30:20 +0300, , test add tst zfs mount.so bootfs.manifest,,
5602,f43cdb68c77dd0d0e71d696eb3b7816b32953f50,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-23 13:35:42 +0300, , tst zfs disk drop broken assert assert compile zfs debugging enabled test tst zfs disk.o file included bsd sys cddl compat opensolaris sys debug.h bsd sys cddl contrib opensolaris common zfs sys zfs_context.h test tst zfs disk.c test tst zfs disk.c function make_vdev_rootâ test tst zfs disk.c 119 error undeclared first use function assert  bsd sys cddl contrib opensolaris common sys debug.h note definition macro assertâ define assert void assfail __file__ __line__  test tst zfs disk.c 119 note undeclared identifier reported function appears assert  bsd sys cddl contrib opensolaris common sys debug.h note definition macro assertâ define assert void assfail __file__ __line__ ,,
5603,ac7a8447fc291d48bbc85f308590c68f30194ce0,vi Kivity <avi@cloudius-systems.com>, 2013-08-25 12:40:39 +0300, , rcu fix hang due race awaiting quiescent state waiting quiescent state happens two stage first request cpu schedule least wait two stage cpu brought online request cpu schedule wait respond course never happens system hang fix copying vector hold cpu signal wait forcing consistent safe since newly added cpu accessing rcu protected variable started signalling fix random hang rcu mostly seen perf callstack,,
5604,748b168d7fd157c7caa260bfe628822f2196ed18,r Cohen <orc@fewbytes.com>, 2013-08-22 18:19:19 +0300, , use pathconvert generate sshd manifest fix previous commit 717693 implicit dependency ant js.jar,,
5605,043847b13f6d0959e5e49f09d17b8d30eb694d18,r Cohen <orc@fewbytes.com>, 2013-08-22 14:19:49 +0300, , runtime stub utimes needed sshd using sshfs,,
5606,b8c07f4e6540b89a7772bccd406b5e45ffe629f6,vi Kivity <avi@cloudius-systems.com>, 2013-08-22 14:27:29 +0300, , build drop funky javascript build.xml break build,,
5607,5c5bc4f2ef9b612c325818e9e3bfc9121032c64c,r Cohen <orc@fewbytes.com>, 2013-08-21 17:58:35 +0300, , added sshd.jar dependency bootfs.manifest,,
5608,7176936a62258be83becf7960ed045200419ab4d,r Cohen <orc@fewbytes.com>, 2013-08-21 17:36:07 +0300, , initial implementation sshd straightfoward implementation sshd support scp sftp subsystem shell current cli,,
5609,804d10f0810be5b913c2421f3c4b52939424d153,r Cohen <orc@fewbytes.com>, 2013-08-21 17:32:10 +0300, , added external jar sshd,,
5610,4bc96b95f0c7d69e66ee59f7523026b4d5b0e08f,vi Kivity <avi@cloudius-systems.com>, 2013-08-18 19:30:20 +0300, , libc drop sse4.1 ceil floor dependency sse4.1 crash older cpu use generic musl implementation,,
5611,e93b0a257cb9c8fd76ae9e8470484852ff88908e,vi Kivity <avi@cloudius-systems.com>, 2013-08-20 16:21:21 +0300, , vfs implement umask currently umask ignore pointless since user needed jruby,,
5612,eed5bafd16e15a37acec844231759d59d7d2bb51,vi Kivity <avi@cloudius-systems.com>, 2013-08-18 16:17:34 +0300, , dhcp convert with_lock,,
5613,4d64c3c3d2eedf8b1159145d898e7ab701e3db99,vi Kivity <avi@cloudius-systems.com>, 2013-08-19 17:07:50 +0300, , add jars.bin repository binary jvm component,,
5614,367a5eb4e4217249aef19ab8f21502f515c937b1,vi Kivity <avi@cloudius-systems.com>, 2013-08-19 14:58:16 +0300, , vfs improve response time dup3 closing original file dup3 called oldfd pointing existing file close file 37988879086 converted operation rcu caused close deferred rcu grace period 43df74e7062 fixed close dup3 asynchronous operation dup3 fine except trigger bug sys_rename reference count vnode either source destination elevated rename fails ebusy due coupling vnodes pathnames fixed move separate dentries whole sequence look like vfs_lseek 0x0 vfs_lseek_ret 0x0 vfs_dup3 0x0 vfs_dup3_ret vfs_close vfs_close_ret ... vfs_close vfs_close_ret vfs_rename usr var lib cassandra data system local system local tmp index.db usr var lib cassandra data system ocal system local index.db vfs_pwritev_ret 0x56 vfs_rename_err dup3 still open time rename fix deferring fdrop fdset 43df74e70626 already made fdrop safe use directly fix failure cassandra,,
5615,1cd7aae52f259dad6df22f1e63a064b269269283,vi Kivity <avi@cloudius-systems.com>, 2013-08-19 14:15:53 +0300, , vfs add tracepoints vfs entry point,,
5616,cca01c857aeb2ca84072edab59e364739d23527d,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-18 16:51:07 +0300, , merge branch penberg dentry christoph big preparation work hardlink support,,
5617,91cd1e4cdf0b669cacb0758e1d18702681a804f9,vi Kivity <avi@cloudius-systems.com>, 2013-08-18 11:46:13 +0300, , osv_start_if set address instead adding new one siocaifaddr appends address interface address list instead replacing cause ifconfig display 0.0.0.0 first address configured instead correct address obtained dhcp fix also deleting existing address exists,,
5618,d9a5ed590a84634556b81a4af514b393ded96fcc,vi Kivity <avi@cloudius-systems.com>, 2013-08-14 17:44:12 +0300, , dhcp allow broadcast response qemu dhcp server responds broadcast packet allow,,
5619,5b05badeb0ff67ac3ef18ddfa89fa48d05a02a81,vi Kivity <avi@cloudius-systems.com>, 2013-08-18 09:54:43 +0300, , sched reduce wakeup ipis following note bit wakeup mask set ipi cpu either imminent already flight elide ipi cpu,,
5620,8b08f27c06bdb0a5136d736db23b26c0bd9de9de,vi Kivity <avi@cloudius-systems.com>, 2013-08-16 20:22:20 +0300, , build allow building gcc 4.7 gcc 4.7 define builtins use 4.8 header require declare compilation pass,,
5621,71fec99814dc0fe644462674278dd246707199c3,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-16 13:50:31 +0300, ," sched avoid ipis thread wake avoid sending ipi cpu already woken another ipi reduces ipis cassandra stress run execution time obviously unaffected execution bound lock contention  penberg localhost sudo perf kvm stat kvm pidof qemu system x86_64  performance counter stats process 610 6,909,333 kvm kvm_entry kvm kvm_hypercall kvm 1,035,125 kvm kvm_pio kvm kvm_cpuid 5,149,393 kvm kvm_apic 6,909,369 kvm kvm_exit 2,108,440 kvm kvm_inj_virq kvm 982 kvm kvm_page_fault 2,783,005 kvm kvm_msr kvm kvm_cr 7,354 kvm kvm_pic_set_irq 2,366,388 kvm kvm_apic_ipi 2,468,569 kvm 2,067,044 kvm kvm_eoi 1,982,000 kvm kvm_pv_eoi kvm kvm kvm kvm kvm kvm kvm_invlpga kvm kvm_skinit 3,677 kvm kvm vcpu_match_mmio kvm kvm kvm_track_tsc 7,354 kvm 7,354 kvm kvm_set_irq 7,354 kvm 674 kvm kvm_msi_set_irq kvm kvm_ack_irq kvm kvm_mmio 609,915 kvm kvm_fpu kvm kvm_age_page kvm kvm kvm kvm kvm 81.180469772 second time elapsed  penberg localhost sudo perf kvm stat kvm pidof qemu system x86_64  performance counter stats process 30824 6,411,175 kvm kvm_entry 100.00 kvm kvm_hypercall 100.00 kvm 100.00 992,454 kvm kvm_pio 100.00 kvm kvm_cpuid 100.00 4,300,001 kvm kvm_apic 100.00 6,411,133 kvm kvm_exit 100.00 2,055,189 kvm kvm_inj_virq 100.00 kvm 100.00 9,760 kvm kvm_page_fault 100.00 2,356,260 kvm kvm_msr 100.00 kvm kvm_cr 100.00 3,354 kvm kvm_pic_set_irq 100.00 1,943,731 kvm kvm_apic_ipi 100.00 2,047,024 kvm 100.00 2,019,044 kvm kvm_eoi 100.00 1,949,821 kvm kvm_pv_eoi 100.00 kvm 100.00 kvm 100.00 kvm 100.00 kvm 100.00 kvm 100.00 kvm kvm_invlpga 100.00 kvm kvm_skinit 100.00 1,677 kvm 100.00 kvm vcpu_match_mmio 100.00 kvm 100.00 kvm kvm_track_tsc 100.00 3,354 kvm 100.00 3,354 kvm kvm_set_irq 100.00 3,354 kvm 100.00 927 kvm kvm_msi_set_irq 100.00 kvm kvm_ack_irq 100.00 kvm kvm_mmio 100.00 620,278 kvm kvm_fpu 100.00 kvm kvm_age_page 100.00 kvm 100.00 kvm 100.00 kvm 100.00 kvm 100.00 kvm 79.947992238 second time elapsed",,
5622,388ad45f8b033a0f799d5c48a1c6bd9a08cc4faf,hristoph Hellwig <hch@cloudius-systems.com>, 2013-08-14 09:30:43 -0400, , vfs replace v_path refernece d_path v_path away vnode cache numeric index hardlink support,,
5623,42912366bfd2bb4ea5845c73fad41029221b710d,hristoph Hellwig <hch@cloudius-systems.com>, 2013-08-14 09:30:42 -0400, , vfs store struct dentry struct file need pathname related action,,
5624,85dda0a8adaf17f40d071cf1f22f935d9681943c,hristoph Hellwig <hch@cloudius-systems.com>, 2013-08-14 09:30:41 -0400, , vfs split dentries vnodes create new dentry structure pathname component following linux vfs model vnodes left always fronted dentries pathname lookup second step moved use non pathname index penberg fix open o_creat o_excl breakage,,
5625,68a1624d18bfd7dc0919fd7d5b44966716aad170,hristoph Hellwig <hch@cloudius-systems.com>, 2013-08-14 09:30:40 -0400, , vfs pas file structure vnop_open,,
5626,d0d853d0d9e3b1449be8899a1ab01a604597aa8b,hristoph Hellwig <hch@cloudius-systems.com>, 2013-08-14 09:30:39 -0400, , vfs fully initialize struct file calling vop_open pas file open method soon make sure fully constructed,,
5627,fc3dc4586c170163225ee9ba64a8e48da7750493,hristoph Hellwig <hch@cloudius-systems.com>, 2013-08-14 09:30:38 -0400, , remove romfs fatfs used build bitrot badly changing vfs significantly,,
5628,ba81e15ac4a4eaa031ef6547be5e0e4324b8a5f5,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-16 09:27:33 +0300,21, mempool fix gpf debug realloc starting cassandra debug memory allocator gpfs follows breakpoint abort runtime.cc  gdb abort runtime.cc osv generate_signal siginfo ... entry libc signal.cc osv addr addr entry entry libc signal.cc page_fault core mmu.cc 876 signal handler called dbg realloc entry size size entry core mempool.cc 846 realloc obj size core mempool.cc 870           strcpy dest 0x100001087420 src optimized libc string strcpy.c     problem introduced commit 1ea5672 memory let debug allocator mimic standard allocator closely forgot convert realloc use pad_before,,
5629,c19c8aec88a3f11265303e0c124e006a3b803586,vi Kivity <avi@cloudius-systems.com>, 2013-08-15 14:56:44 +0300, , mempool workaround unaligned allocation allocation larger half page smaller page end badly aligned work around using large allocator object larger half page wasteful slow least work later improve moving slab header end page interfere alignment,,
5630,8162f64fa0cdf5f826b079f0e5e6ae12e8d41332,lauber Costa <glommer@cloudius-systems.com>, 2013-08-15 15:22:26 +0400, , fix idiotic xen stack corruption blkfront driver planning run test xen today found guest current tip failing mount zfs spent time debugging memory allocator since culprit last time find even reaching memory allocator noticed zfs failing error eoverflow looking one bootup message showing disk 0mb information read xenstore read correctly however time calculate disk size longer correct indicating stack corruption found culprit subsequent call xs_gather call variant scanf internally call passed argument read int variable would explain corruption sector right stack indeed fix zfs fails different way,,
5631,2149839e4c6bd3774c6f27285470c0aa3a32ad65,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-15 10:34:40 +0300,12, mempool fix memory building osv debug memory allocator enabled make mode debug conf preempt conf debug_memory cause guest enter busy loop right jvm start script run.py ... openjdk bit server warning detect initial thread stack location find_vma failed gdb explains  boost intrusive rbtree_impl boost intrusive setopt boost intrusive detail memory page_range boost intrusive set_member_hook boost intrusive none boost intrusive none boost intrusive none boost intrusive none memory page_range member_hook memory addr_cmp unsigned long true private_erase 0x1d2f8c8 memory ... ... 0x3b40e9 external misc.bin usr include boost intrusive rbtree.hpp 1417  boost intrusive rbtree_impl boost intrusive setopt boost intrusive detail memory page_range boost intrusive set_member_hook boost intrusive none boost intrusive none boost intrusive none boost intrusive none memory page_range member_hook memory addr_cmp unsigned long true erase memory page_range memory addr_cmp memory page_range const memory addr_cmp boost intrusive detail enable_if_c boost intrusive detail is_convertible memory addr_cmp boost intrusive tree_iterator boost intrusive rbtree_impl boost intrusive setopt boost intrusive detail memory page_range boost intrusive set_member_hook boost intrusive none boost intrusive none boost intrusive none boost intrusive none memory page_range member_hook memory addr_cmp unsigned long true true value void type 0x1d2f8c0 memory key ... comp ... external misc.bin usr include boost intrusive rbtree.hpp 878  boost intrusive rbtree_impl boost intrusive setopt boost intrusive detail memory page_range boost intrusive set_member_hook boost intrusive none boost intrusive none boost intrusive none boost intrusive none memory page_range member_hook memory addr_cmp unsigned long true erase 0x1d2f8c0 memory value ... external misc.bin usr include boost intrusive rbtree.hpp 856  boost intrusive set_impl boost intrusive setopt boost intrusive detail memory page_range boost intrusive set_member_hook boost intrusive none boost intrusive none boost intrusive none boost intrusive none memory page_range member_hook memory addr_cmp unsigned long true erase 0x1d2f8c0 memory value ... external misc.bin usr include boost intrusive set.hpp 601 memory core mempool.cc 487 memory core mempool.cc 569 memory alloc_page core mempool.cc 577 mmu populate small_page 0x2000001fd460 ptep ... offset core mmu.cc 456 mmu operate_page 0x2000001fd460 huge false addr offset core mmu.cc 438 mmu operate 0x2000001fd460 start size 4096 core mmu.cc 387 mmu vpopulate addr size 4096 core mmu.cc 657 dbg malloc size core mempool.cc 818 malloc size core mempool.cc 854 fix problem checking empty fix busy loop issue show really happening openjdk bit server warning detect initial thread stack location find_vma failed alloc_page memory aborted,,
5632,9502e8508946ca78d966addfc153cfb79ace688d,uy Zana <guy@cloudius-systems.com>, 2013-08-14 16:20:25 +0300, , cli fix broken test command broken test command cli work javascript work java string array array surprised see assumed work apparently test command got broken patch properly returning scriptable object javascript code understands acquires thread specific rhino context used cast test name array code pick,,
5633,30f1782a460e2f599d6a2a10f7435dd7d6409ae0,vi Kivity <avi@cloudius-systems.com>, 2013-08-13 18:08:26 +0300, , uma allocate refcounts explicitly requested waste memory esp power two allocation,,
5634,31fe10b3ff1e84c450ed0cbd8a12c9dfcc044800,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-14 10:25:43 +0300, , trace rcu protect tracepoint_base probe suggested avi rcu protect tracepoint_base probe make sure probe really stopped caller access collected trace,,
5635,59c61f31fbfda920994789a919bdc3e945e06564,vi Kivity <avi@cloudius-systems.com>, 2013-08-13 17:43:49 +0300, , rcu add rcu_synchronize api,,
5636,eff44bc7ede8c3ff3bb5570e50329fe2db1fbc28,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-14 13:39:18 +0300, , callstack fix list iteration merge call erase invalidates iterators switch range based loop using iterators manually fix bug resulted jvm crashing smp perf callstack run  fatal error detected java runtime environment  sigsegv 0xb pid tid  jre version 7.0_19 java openjdk bit server 23.7 b01 mixed mode linux amd64 compressed oops problematic frame   core dump written default location core core.0  error report file information saved tmp jvm hs_error.log  would like submit bug report please include instruction reproduce bug visit http bugzilla  aborted,,
5637,da3e7b768106bead16bbd3807b07875d326f4df1,vi Kivity <avi@cloudius-systems.com>, 2013-08-14 13:21:44 +0300, , libc define libstdc switched relying symbol gthread machinery define work fix std thread used mpsc queue test,,
5638,f5827bc3accdde41ee75fef3df8572c8069667a7,vi Kivity <avi@cloudius-systems.com>, 2013-08-14 13:02:05 +0300, , build update external gcc.bin 4.8.1 1.fc19,,
5639,dfdc4e6a027e22340106065817aca909166b3db8,vi Kivity <avi@cloudius-systems.com>, 2013-08-14 13:01:14 +0300, , libc implement atexit stub needed libstdc gcc 4.8.1,,
5640,637fd8408088059b535782fd094f69497c361652,vi Kivity <avi@cloudius-systems.com>, 2013-08-14 11:21:26 +0300, , update external openjdk.bin,,
5641,6c2af722a3d76c383b810c1717125924cf5f358e,vi Kivity <avi@cloudius-systems.com>, 2013-04-25 17:00:43 +0300, , main touch pic xen exist glommer use alternative system,,
5642,3f4c4e19f2b592f9a987df7589389ee00ed08813,lauber Costa <glommer@cloudius-systems.com>, 2013-08-13 19:00:45 +0400, , xen alternative make matter even clearer enclose main alternative macro xen specific macro code xen presence condition everywhere,,
5643,2f453e38c018ef0c5811d48c534f2aa007c82944,lauber Costa <glommer@cloudius-systems.com>, 2013-08-13 19:10:53 +0400, , simple alternative system proposing patch simple alternative system serve basis xen operation end goal patch performance critical instruction defer later since performance optmization let get working first however figured already writing xen code enclosed kind macro patch change anything said expect lot pure user 2013 even vmware discontinued vmi leaving xen relevant player need fully featured core ops like linux system alternative simple enough accomodate xen work providing two code block condition first block executed condition false second condition true future reference note use patching something similar linux jump label replace branch jump instruction jump right place taken taken part brings simplicity runtime efficiency expense little bit icache pressure,,
5644,53ccd7a27f0146ebf6e132157e53abe3d0d36285,vi Kivity <avi@cloudius-systems.com>, 2013-04-21 12:57:04 +0300, , xen skeleton init sequence add xen_init function currently store start_info pointer jump normal init sequence glommer rebased current tip,,
5645,72f795e6ec61e4ed6425bb4601912e152a1231b9,vi Kivity <avi@cloudius-systems.com>, 2013-04-18 18:48:21 +0300, , xen add xen metadata metadata identifies kernel xen enables loader glommer adjusted current tip fixed header include,,
5646,05268cbf00450cd9620abc88b4ab21925a1cf0bd,lauber Costa <glommer@cloudius-systems.com>, 2013-07-29 20:40:37 +0300, , loader probe xenbus everything place ask loader able probe xenbus,,
5647,d6800985c24300754474966e93269fa1ac73eb60,lauber Costa <glommer@cloudius-systems.com>, 2013-07-29 20:41:31 +0300, , enable compile blkfront driver xen block driver need extra state needed network driver namely way virtio blk doe need tell block layer strategy read write function need extra code implementing xenfront blk.cc,,
5648,980179d4870a324a7f94e8828095c2ccf03aab29,lauber Costa <glommer@cloudius-systems.com>, 2013-08-09 12:53:02 +0400, , bsdedit blkfront fix sector number calculation bsd expects sector number already provided bio could add field bio easier calculate given offset many place bios filled including many zfs code easier change,,
5649,be8e3c597733345e8bb65408edc970b828a86ee4,lauber Costa <glommer@cloudius-systems.com>, 2013-08-09 11:40:23 +0400, , bus_dma implementation simple implementation bsd bus_dma interface since constrained virtual environment able cut thing,,
5650,369f7b86d52d2f0b444a0d09a282538b7585f038,lauber Costa <glommer@cloudius-systems.com>, 2013-08-09 11:46:42 +0400, , make bus_dma header available use bus_dma implementation,,
5651,a372023a5019ebb66684c69431441d3120fe8c12,lauber Costa <glommer@cloudius-systems.com>, 2013-07-27 21:46:42 +0400, , bsdedit blkfront bio adjustment version biodone take two argument instead one adjust passing status second argument expected could adjust biodone function bsd decided way around least need locking synchronization via cond var bio completion although xenfront driver lock user rely internal lock correctness adjusting would mean adjusting locking semantics although doable work adjusting xenfront,,
5652,f849892e780f19eeb852a90a65c8666501fac311,lauber Costa <glommer@cloudius-systems.com>, 2013-08-09 19:44:20 +0400, , compile subr_disk need add header first rest ready,,
5653,8cdbb22da896df6401cd398f3a17e4a5cdd2a0d6,lauber Costa <glommer@cloudius-systems.com>, 2013-07-29 19:17:22 +0300, , import subr_disk bsd provides simple queue dequeue function bios,,
5654,ea8a589129279d9852b197c3e708a4094e6db8ec,lauber Costa <glommer@cloudius-systems.com>, 2013-08-09 12:21:19 +0400, , simple implementation bio_finish used subr_disk bio flush operation,,
5655,ea3b0171e4dec5db32603c1ce0e14352544cb6c0,lauber Costa <glommer@cloudius-systems.com>, 2013-08-09 12:17:50 +0400, , multiplex strategy,,
5656,c71d0cdfc2573bec4af2b3a861e22b021ae8acea,lauber Costa <glommer@cloudius-systems.com>, 2013-07-27 21:49:13 +0400, , enable osv xenbus provide netfront driver infrastructure place compile xenbus code enble netfront driver,,
5657,6f7398a074e72c651ecfa6a9faa246b7af75d78f,lauber Costa <glommer@cloudius-systems.com>, 2013-07-23 13:55:55 +0400, , bsdedit xenfront initialize data expected bsd code doe initialize structure work well memory previously zeroed otherwise xen hypervisor compiled debug mode fill memory poison pattern code break variable force,,
5658,4318a7bddf0d8d25db58691ed48daf14773a31e1,lauber Costa <glommer@cloudius-systems.com>, 2013-07-28 16:49:40 +0300, , xen fix build.mk need bsd directory listed includes bsd file cpp code well main includes second overly optmistic interface version driver expect inteface version slightly older maximum present header,,
5659,1e38861ff8c97d28848075a74f8f6622061fd2b3,lauber Costa <glommer@cloudius-systems.com>, 2013-07-28 02:07:38 +0400, , bsd fill header file blkfront netfront header needed blkfront netfront empty stub usual import bsd bringing separately obvious,,
5660,0bcc9395442d966226bd9082f142b061c8e052df,lauber Costa <glommer@cloudius-systems.com>, 2013-07-27 23:11:13 +0400, , bsdedit netfront statically determine ring size macro calculate ring size really gigantic nested somewhere somehow gcc belief one size calculation yield variadic size seem case maybe using lacking compiler flag explain although clearly suboptimal let set huge problem unless update xen header,,
5661,db09902bcd3d853e8a9e2ccaf846698a4f470f2b,lauber Costa <glommer@cloudius-systems.com>, 2013-07-27 23:04:47 +0400, , netfront method derive blkfront softc softc private void pointer outside blkfront need helper return correct device softc representation used osv side determine trigger,,
5662,297ebbdf3ac5ca8701ae0c9f3dbb67471e7e05fd,lauber Costa <glommer@cloudius-systems.com>, 2013-07-27 23:00:37 +0400, , bsdedit xenfront standardize device name bsd non standard device name standard meaning network block interface reason play complexity deal different name change,,
5663,92975a181f1b413062b2ff5971015a890e0db85c,lauber Costa <glommer@cloudius-systems.com>, 2013-07-27 22:56:30 +0400, , bsdedit netfront trivial netfront adjustment patch contains trivial osv adjustment osv like type fixing header conciliation sysctl removal etc,,
5664,69ba5c7bb19d4b06b385ba2a0a663fb199ed57e8,lauber Costa <glommer@cloudius-systems.com>, 2013-07-27 22:51:52 +0400, , netport empty ifmedia function implement interface medium change routine least stub ,,
5665,38e514882ab1b6a13b11397e5b269206a514d92e,lauber Costa <glommer@cloudius-systems.com>, 2013-07-27 21:43:08 +0400, , bsdedit blkfront trivial adjustment osv type conciliation osv porting header inclusion deleting unused statement,,
5666,797e97f757aca743a33c03fcd6d84b2b12916e87,lauber Costa <glommer@cloudius-systems.com>, 2013-07-27 19:32:53 +0400, , bio.h augment bio structure xen blkfront many bio field function blkfront provided simplified bio adding one thing need type definition daddr_t already exists fatfs.h make sense live lower level code instead including fatfs bio.h including bio.h fatfs moving daddr_t definition,,
5667,7357d75dc3c68bad3d472a0dbd66e3c3f0beceda,lauber Costa <glommer@cloudius-systems.com>, 2013-07-27 18:01:01 +0400, , if_var check interface queue drive size empty check current test doe ifq ifq_drv_len ifq ifq_len ifq_drv_len doe exist funny enough doe exist bsd basic interface queue well,,
5668,0140180d222f183bf62e01d0823138a73cb8bcd8,lauber Costa <glommer@cloudius-systems.com>, 2013-08-07 22:07:19 +0400, , allow device communcation maximum size block device xen blkfront maximum per request size need obeyed order need aware requirement upper layer set device initialize default structure make sure interested party need set,,
5669,1381d1815e73bdd72b8434ea3426519a9b9a9eb7,lauber Costa <glommer@cloudius-systems.com>, 2013-07-25 15:12:03 +0400, , factor device_create xen would like use already existing device instead creating one still need register though factoring device_create allocation registering part use later,,
5670,2ee111949bd0a7f82802a0a9fb3db9b254dea301,lauber Costa <glommer@cloudius-systems.com>, 2013-07-21 22:37:43 +0400, , xen osv xenbus commit includes basic translation layer support bsd device xen believe room improvement provides good starting point would like provide guy smaller commit quite cumbersome separate device implementation bus implementation per part due way xen doe thing instance talking virtio device pci device xen one pci device exposed interrupt xenbus xenbus responsible querying xenstore figuring device maybe different way thing believe instance reason shared interrupt device way bsd doe thing bus device even linux far know another thing note bsd device registered device_method_t seem fully hierarchical way mostly ignoring xenbus device_method_t definition mean lot assumption probably hold kind driver hard extend simplifies thing,,
5671,30313c4fc8edd2b49b062992408783ccf09af77a,lauber Costa <glommer@cloudius-systems.com>, 2013-07-20 23:33:41 +0400, , xen set callback hypercall issuing hypercall control xen delivers interrupt right support vectored callback hard extend gsi intx hvm guest,,
5672,965639f396e74ab4b3b30785264854c380a80afb,lauber Costa <glommer@cloudius-systems.com>, 2013-07-20 23:01:44 +0400, , xen build feature array array bsd code check feature run unmodified,,
5673,1bb0512a276bc314ae6c7246cc9dce3feac0ecbe,lauber Costa <glommer@cloudius-systems.com>, 2013-07-09 17:51:29 +0400, , bsdedit xenbus compile xenbus file change needed xenbus operation usual delete function table make previously static function public comment sysctl code change order includes sbuf.h malloc.h sbuf call function single malloc instead argument one far easiest way handle modify calling convention way easier path creation time bsd doe need creates device equal device_t structure way convenient create appropriate class,,
5674,2b7e37e5776787efaca35f9a2b7e69be99dcda3f,lauber Costa <glommer@cloudius-systems.com>, 2013-07-02 14:58:27 +0400, , bsdedit xenstore connect osv stub compile particular implementing struct filling end file comment make relevant static function public call code,,
5675,01221ec0c8fc6122b64f81e9b75a73f5d6b53c78,lauber Costa <glommer@cloudius-systems.com>, 2013-08-09 16:21:58 +0400, , bsdedit xenstore mechanically convert log bsd_log suggested guy,,
5676,29baec5da0112603353e273ae5b41e52bf256739,lauber Costa <glommer@cloudius-systems.com>, 2013-08-09 19:04:48 +0400, , bsdedit evtchn make irq evtchn translation available,,
5677,2cd983e4fed9a1cb71b3c3fbd7811a0a3926ff5e,lauber Costa <glommer@cloudius-systems.com>, 2013-07-29 13:14:23 +0300, , bsdedit evtchn.c change event channel mostly trivial change needed compile event channel need type adjustment complex one assembly fix bsd seems bit guest need adjust inline asm instruction take quad word longs force int type double word evtchn compiled,,
5678,a8560f2d8781002d9414589a9f3d7b435d1c605d,lauber Costa <glommer@cloudius-systems.com>, 2013-07-28 18:10:20 +0300, , xen paravirtual event channel file implement hvm event channel mechanism verbatim copy bsd,,
5679,fbec66089a5328783ee5ce821586b06430ab982c,lauber Costa <glommer@cloudius-systems.com>, 2013-07-29 12:25:44 +0300, , xen layer interrupt registering bsd event channel expect underlying able register pic allow xen provide expected translation function allow xen work design chosen let xen event handler run interrupt context threaded really becomes problem right handler though threaded function nothing wake respective thread bsd provide function thread common thread executes function given one exception xenstore xenstore already threaded interrupt handler also wake thread could better future,,
5680,d8dd6623698641b0a6d58d351068f62d5582cc0b,lauber Costa <glommer@cloudius-systems.com>, 2013-07-09 15:15:27 +0400, , porting bus definition contains interrupt device bus definition bus file bsd anyway,,
5681,b16bdd4969d174fdba23f8a17cee700cc0c91a12,lauber Costa <glommer@cloudius-systems.com>, 2013-07-08 22:07:49 +0400, , bsdedit gnttab compile grant table patch grant table code compiled osv edits file reflect fact need pci memory xen special device even hvm mapping way simpler use rest kept unchanged could,,
5682,3e5657edc20573abceb70eca9d0ab4e9d37cb799,lauber Costa <glommer@cloudius-systems.com>, 2013-06-26 16:18:14 +0400, , bsd mmu stub function,,
5683,6fc3d6636dc780dd35c18be041878a0ac80b7fe5,lauber Costa <glommer@cloudius-systems.com>, 2013-07-08 21:27:36 +0400, , xen provide accessible xen file bsd linux matter expect variable called point hypercall page case statically defined need point correct name shared info page note type mismatch defining xen_shared_info able access part structure like wallclock conveniently need type cast,,
5684,4fbb1834e9ae0c0ea6456b15dbbc07e16ad7c379,lauber Costa <glommer@cloudius-systems.com>, 2013-07-29 21:29:53 +0300, , generalize interrupt handler xen doe need eoi least apic anywyay signal end interrupt flipping vcpu_info already done bsd handler might well nothing avi generalized irq handler pre_eoi handler patch taking extra step adding eoi indirection well,,
5685,d4f0a78f3b7ae7d6cb3dc3bf01fedc11864e9317,lauber Costa <glommer@cloudius-systems.com>, 2013-08-09 19:42:28 +0400, , add uoff_t netport.h lack better place,,
5686,2a4d0aa46aaa442461ad6aab99be34604f7ff32e,lauber Costa <glommer@cloudius-systems.com>, 2013-08-09 11:46:23 +0400, , bus_dma verbatim copy,,
5687,d22e88c8664f0e6681d107227e4a253008bcf235,lauber Costa <glommer@cloudius-systems.com>, 2013-08-09 21:37:56 +0400, , xen verbatim copy bsd blkif header,,
5688,ecbaccf35baf79c1a9c4862079b702dbfe7acce7,vi Kivity <avi@cloudius-systems.com>, 2013-08-13 16:26:24 +0300, , build drop extraneous libstdc linking already specified elsewhere noted nadav,,
5689,14865fa2643cb7457f6a9c4264a22875c19ffe7a,vi Kivity <avi@cloudius-systems.com>, 2013-08-13 16:08:53 +0300, , rcu fix debug build rcu_read_lock release build optimizes away reference object debug build doe define,,
5690,26a04985224414e1f14f74c6a6042c263a24e419,vi Kivity <avi@cloudius-systems.com>, 2013-08-13 15:17:53 +0300, , dhcp fix random dhcp failure initialize dhcp packet get relay agent set dhcp discover packet get sent random address internet usually dhcp server installed guest doe get configured fix zero initializing packet,,
5691,fba589996b3826d0ce92c399ec893b6e18647aff,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-13 12:14:47 +0300, , cli catch error perf callstack currently looking non existing tracepoint kill guest wrapped find tracepoint console perf.js context.java 1786 memberbox.java 202 284 202 2440 console perf.js console perf.js optruntime.java console perf.js 114 console perf.js optruntime.java console perf.js console perf.js optruntime.java cli.js 202 cli.js optruntime.java cli.js 223 cli.js optruntime.java cli.js 237 cli.js optruntime.java 108 cli.js 290 cli.js optruntime.java 108 cli.js 323 cli.js 426 3178 cli.js cli.js context.java 1142 unknown source unknown source 1.run unknown source caused find tracepoint native method init unknown source native method   525 memberbox.java 194 ... fix catching error like perf stat doe,,
5692,c9e61d4a45d88d8c8e79cd52fbcd38b91b291d5e,vi Kivity <avi@cloudius-systems.com>, 2013-08-12 16:52:12 +0300, , build link libstdc libgcc_s currently statically link libstdc libgcc_s also dynamically link library since payload requires cause symbol available static dynamic version resolution order change introduced 82513d41350245 resolve symbol different address different time violates one definition rule fact break std string destructor fix linking library statically use whole archive flag bring symbol including may used payload kernel symbol become duplicate drop version,,
5693,286dd7a0c05e4cec4f344500f76e8cf96859b8fe,vi Kivity <avi@cloudius-systems.com>, 2013-08-12 16:45:01 +0300, , runtime add get_nprocs needed link entirety libstdc,,
5694,96f8d59529ed8128bbba7caa733ed33301b8319c,vi Kivity <avi@cloudius-systems.com>, 2013-08-12 16:43:23 +0300, , libc add sigdelset needed statically linking entirety libgcc_eh.a,,
5695,20e7eb13d160ecc5c3bbe81dc8487e209af15774,vi Kivity <avi@cloudius-systems.com>, 2013-08-12 19:29:02 +0300, , tst lfring reduce memory overhead reduce memory consumption test 1gb guest,,
5696,61c54fb218e5756b3d6840bb0cb51ababae61a7c,vi Kivity <avi@cloudius-systems.com>, 2013-08-12 19:28:19 +0300, , bsd fix msleep mtx null msleep fault mtx null,,
5697,40d1a8fe16a5a424c0e32de2e6ee1fc4650dc7db,vi Kivity <avi@cloudius-systems.com>, 2013-08-12 19:08:50 +0300, , tst rwlock fix rwlock test test try acquire write lock read lock taken thread deadlock remove deadlocking construct,,
5698,5ecaf3df780a21aa06559c3da814abb6727db243,vi Kivity <avi@cloudius-systems.com>, 2013-08-12 18:11:55 +0300, , tst bsd taskqueue fix taskqueue creation expects pointer pointer taskqueue context give,,
5699,45cf1b953e6b0192b0ce268cb2d6f88d93b74c2e,vi Kivity <avi@cloudius-systems.com>, 2013-08-12 17:28:26 +0300, , tst bsd evh reduce excessive printout,,
5700,43df74e706267c72647e2f3f18a705ad00231c96,vi Kivity <avi@cloudius-systems.com>, 2013-08-11 14:18:03 +0300, , vfs relax dependency close performance rcu grace period currently perform final fdrop rcu callback mean considerable latency turn place restriction optimization rcu need prompt close execution relax performing fdrop immediately deferring final free harden fget expects file positive refcounts make sure final fdrop refcounts either zero negative also make close take effect immediately fix tst pipe.so,,
5701,0873adf54625b7c674ae3f1ad1ab65adf2592546,lauber Costa <glommer@cloudius-systems.com>, 2013-07-31 19:15:53 +0300, , trivial name event channel field vcpu two space event channel field xen vcpu data far pad using event channel name use also taking opportunity fix tab space structure,,
5702,656ea3faf74e590cd54afa04f1c2fa02e1e1ab3e,vi Kivity <avi@cloudius-systems.com>, 2013-08-12 12:24:26 +0300, , bench add tcp echo client server,,
5703,caf0ca5c378590b0287b60ae4ade77d83a9c7e67,vi Kivity <avi@cloudius-systems.com>, 2013-08-11 18:27:12 +0300, , virtio net advertise tso hwassist flag without networking stack ignore tso improves java echo test 2gbps 5gbps dor laor,,
5704,bcea2aef707ab49cd39d6d4d73a8cbb0c5137fef,vi Kivity <avi@cloudius-systems.com>, 2013-08-11 13:49:05 +0300, , merge branch rcu basic rcu implementation initial user,,
5705,3798887908667fa8b43f98646957cac5d1b87d18,vi Kivity <avi@cloudius-systems.com>, 2013-08-07 17:40:25 +0300, , convert global file descriptor table rcu patch change fget longer take gfdt_lock using rcu instead,,
5706,ff599fab785a25699a18125e207d1e0de6518c0e,vi Kivity <avi@cloudius-systems.com>, 2013-08-07 17:04:11 +0300, , use with_lock gfdt_mutex,,
5707,2d2bafd1855f89c76803e88b0ace41ea03296630,vi Kivity <avi@cloudius-systems.com>, 2013-08-07 16:56:16 +0300, , fix kern_descrip indentation,,
5708,c1aa115c5e1e80d05df3f04c919fb79296628454,vi Kivity <avi@cloudius-systems.com>, 2013-08-07 16:50:01 +0300, , convert kern_descrip.c rcu,,
5709,94b69794fb9e6c99d78ca9a58ddaee1c31256b43,vi Kivity <avi@cloudius-systems.com>, 2013-08-07 16:42:52 +0300, , rcu add basic read copy update implementation add fairly basic support rcu declaring mutex mtx rcu_ptr my_object my_ptr read side with_lock rcu_read_lock const my_object my_ptr.read thing block  write side with_lock mtx my_object old my_object new my_object ... my_ptr.assign rcu_dispose old rcu_defer some_func old ,,
5710,d703ec00218bff52e7a1a331596aa26b62d54818,adav Har'El <nyh@cloudius-systems.com>, 2013-08-09 00:24:14 +0300, , dynamic linker fix crash smp patch fix following bug cli memcached two vcpus crashing startup cause crash java running two thread one load new shared library example libnio.so second thread running normally run function run demand resolver code try resolve function name iterates module list see libnio.so object completely set yet put list first see program add_object looking symbol crash problem noticed recent link order change change half loaded library always last list osv first existing symbol always found reaching partially set object osv many symbol last half set object middle problem common also could happen previously unresolved symbol e.g. weak symbol probably rare enough bug happen practice fix patch hacky wanted avoid restructuring whole code problem function called add_object including relocate_rela nested add_object etc assume look symbol set object want object visible thread exactly object get visiblity field visibility thread use object visibility thread pointer thread search object add_object start object visibility set thread add_object done set visibility thread see solves common bug patch still leaf small room smp bug add locking _modules lookup add_object see broken vector short duration fix remaining problem later using rcu,,
5711,a26fe58c2955ad50916f4053d81b676f2a073265,adav Har'El <nyh@cloudius-systems.com>, 2013-08-08 23:53:18 +0300, , dl_iterate_phdr pas pointer stack callback patch fix exception handling bug seen tst except.so callback given dl_iterate_phdr libgcc_eh.a used implement exception may decide cache previous information gave long add sub field unchanged bug passed callback stack copy obj _phdrs vector callback saved pointer cache became invalid next call need pointer remain valid long add sub change need pas actual obj _phdrs change object load copy note locking issue remaining someone dlclose object callback running already checked add sub use stale pointer fixed separately probably using reference counting object,,
5712,4d8353ac395fc753ef28a12e4ac696b21bc5f98c,adav Har'El <nyh@cloudius-systems.com>, 2013-08-08 23:32:50 +0300, , dl_iterate_phdr fill missing add sub field callback function passed dl_iterate_phdr used libgcc_eh.a implement exception may want cache previous lookup want know list iterated module changed since last call dl_iterate_phdr dl_iterate_phdr supposed fill two field dlpi_adds dlpi_subs counting number time object loaded unloaded program dlpi_subs dlpi_adds unchanged callback guaranteed list object unchanged existing code forgot set two field got random value caused exception unwinding code sometimes cache sometime cache depending phase moon patch add counting correct sub add counter exception unwinding always use cache long list object change note doe fix crash tst except.so bug appears caching enabled patch happend randomly fixed next patch,,
5713,6883527e9011aba17bf623ccf6b6ab9d9a01d303,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-29 10:37:59 +0200, , zfs enable log replay,,
5714,29dac567c8973d5a49289ae074add8bde4359d45,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-25 14:37:08 +0200, , zfs provide osv compatible defintion zfs_log,,
5715,88ef6ce9c7844e989edcc3affb94c3af92767fbb,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-25 14:34:17 +0200, , zfs compile stubbed log recovery code,,
5716,f6a464dfd5048758c5f4c1f0a25895464e13bcb2,lauber Costa <glommer@cloudius-systems.com>, 2013-08-08 15:00:32 +0400, , console automatically insert console work well kvm redirects serial stdio xen seems work well documentation source list serial stdio valid option really work case automatically translated crlf terminal output totally borked obviously exclusive xen changing qemu command line run instead stdio connecting thing happens patch modifies console write function respect termios onlcr flag set default write see newline character flag set output termios structure left outside specific console pas pointer pre console implementation simple_write output unconditionally normal stdio serial still work telnet still work,,
5717,35df99c4f9c7080a1c91c900198bcf2847af9639,lauber Costa <glommer@cloudius-systems.com>, 2013-08-08 18:35:44 +0400, , cli insert missing carriage return call render still raw mode need insert carriage return,,
5718,58954552574eec69d836ff48975692c44ec448b3,lauber Costa <glommer@cloudius-systems.com>, 2013-08-08 14:35:18 +0400, , remove newline function console console write take parameter last one control whether issue newline end input true call console implementation newline always passed false though remove fix caller,,
5719,31751201d414820acd1dec75520d3364174a67c3,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-06 14:33:25 +0300, , dlfcn dlerror support dlerror needed application started jvm javaagent option defined,,
5720,6f77fcf0a99d78d440e98c6763f3633cdde98622,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-06 11:11:26 +0300, , mempool fix formatting,,
5721,9cc3da68eb226222bd85ca1ec2c0da19fc7022b5,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-06 10:54:05 +0300, , mempool switch with_lock,,
5722,f39792ff617df3d99f90e79f758e08200bd64066,hristoph Hellwig <hch@cloudius-systems.com>, 2013-08-07 08:46:34 +0200, , vfs require writable fsync posix require writeable file descriptor fsync common operating system allow fsync non writable required synchronize directory operation also fix indentation sys_fsync bit,,
5723,5b6a099c4cee9c094399486fbd46cccbe31061f5,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-06 17:56:45 +0300, , fix typo readme,,
5724,1be25db97590ca7fc43c4fd817278e73091e6def,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-06 16:55:00 +0300, , vfs convert bit alias lfs64 suggested hch,,
5725,1f522518db7e977a0164806a0a25a39bbcab695d,lauber Costa <glommer@cloudius-systems.com>, 2013-08-06 15:00:40 +0300, , stub statvfs64,,
5726,141a86e75877c03f7ea35ab1a513cf79cfdbbc6c,lauber Costa <glommer@cloudius-systems.com>, 2013-08-06 15:00:39 +0300, , stub ftruncate64,,
5727,55da95b7565c2a70b255d3bd67c19fd00752ef36,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-06 16:19:41 +0300, , fix posix_fadvise return value pointed nadav posix_fadvise set errno instead return error number http onlinepubs 009695399 function,,
5728,1630b1e14682644a9e18d46970aad9c6ac33ac47,vi Kivity <avi@cloudius-systems.com>, 2013-08-06 16:35:59 +0300, , merge branch idle poll prevent ipis cpu idle short time,,
5729,7b20de3c426d49aac3c7be1eb418dd7b24cd3faa,adav Har'El <nyh@cloudius-systems.com>, 2013-08-06 16:24:44 +0300, , condvar disable wait morphing old spin based mutex option undef lockfree_mutex osv mutex.h enable old spin based mutex got broken addition wait morphing feature wait morphing need two feature never added spin based option probably never near future remove old mutex implementation mutex send_lock feature wait morphing feature built ability add another field user_mutex condvar mean condvar constraint size libc pthread.cc must use pointer currently larger lockfree_mutex patch add wait_morphing compile time option disables wait_morphing lockfree_mutex disabled osv compiled undef lockfree_mutex,,
5730,12e906a816f15d9ca3ab3c02eb46f5a6486613e2,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-06 11:18:43 +0300, , mempool fix calloc oom make calloc deal malloc returning null,,
5731,8722491c4a8410626fda279d52cc79519b28d47c,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-06 10:58:34 +0300, , mempool use nullptr instead null,,
5732,5ed2a304d621b3d5e43b8fa23426a6b4b546c612,lauber Costa <glommer@cloudius-systems.com>, 2013-08-06 15:33:56 +0300, , stub posix_fadvise ignore permitted advice reject invalid one,,
5733,bcb54efc24740cb3a2e73838601256c61fc36bc1,hristoph Hellwig <hch@cloudius-systems.com>, 2013-08-06 07:50:30 +0200, , test o_sync fsync,,
5734,38e9131bcc9c02180c54e8c91eeb6aec02406ec4,hristoph Hellwig <hch@cloudius-systems.com>, 2013-08-06 07:45:53 +0200, , zfs reference count znode strutures unlike solaris znode separate structure osv need separate reference count implementzation optimized yet instead optimizing would better unify two structure lifetime,,
5735,e7a9573c22ea3d58495c605a2eb9efc7b0f8d99e,hristoph Hellwig <hch@cloudius-systems.com>, 2013-08-05 16:50:29 +0200, , zfs add support reclaiming unlinked open file,,
5736,7d6f0aafd124095d3d32f632f436421181b117ae,adav Har'El <nyh@cloudius-systems.com>, 2013-08-06 13:16:21 +0300, , test exception previous commit fix symbol resolution order caused regression tst pipe.so stopped working aborting segfault handling expected exception one place osv use exception signal error running file descriptor however turn commit exposed already existing bug exception unwinding support following trivial test exception throwing integer catching crash previous commit without,,
5737,e5b876a0b069b8155c9dec4c8ae330c37e9abcc7,adav Har'El <nyh@cloudius-systems.com>, 2013-08-05 17:18:07 +0300, , test dynamic linker order bug christoph discovered bug dynamic linker symbol exist kernel used shared object cause nasty bug trying run existing program test demonstrates bug verifies fix previous commit,,
5738,82513d413502457c8280c6582876653527b9dd1d,adav Har'El <nyh@cloudius-systems.com>, 2013-08-05 16:37:19 +0300, , elf fix symbol resolution order patch fix bug tst resolve.so osv symbol debug hide symbol application shared object running look symbol load order tst resolve.so need libstdc .so search symbol order first tst resolve.so libstdc .so order mostly fine one problem though osv loaded first always get searched first really user expect user expect osv behave like glibc library searched last like main executable search first patch keep first loaded object osv last search list,,
5739,b6b43e2dd372cf44f2bf044520340516bfc154ba,adav Har'El <nyh@cloudius-systems.com>, 2013-08-05 14:37:06 +0300, , java.so pas option jvm pas course also option jvm xmx option useful example,,
5740,3c5f44d99e1a7516603b11e821b99ea794764464,adav Har'El <nyh@cloudius-systems.com>, 2013-08-05 14:34:57 +0300, , java.so fix end option jvm option end first jar classname fix typo,,
5741,566ab6b88420250d0f2cd3795bc4a448efee16e0,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-05 12:38:08 +0300, , zfs wire vop_getattr vn_stat support vop_getattr wire zfs implementation,,
5742,1ab6e43958a8e134f20cd6d187e70bf855fc22d4,ekka Enberg <penberg@cloudius-systems.com>, 2013-08-05 12:36:52 +0300, , vfs wire vop_getattr vn_stat,,
5743,8a3693cf2124322edcbc94a3eceb72989d9c4359,lauber Costa <glommer@cloudius-systems.com>, 2013-08-01 10:50:56 +0300, , java pas verbose option jvm,,
5744,4e3177e3ebb8f1f36d484f3daeda5af568761477,vi Kivity <avi@cloudius-systems.com>, 2013-08-05 11:23:29 +0300, , sched poll longer hlting increasing poll time increase chance avoid ipi idle host load increase negligible,,
5745,032aa932daa2b730cb79e0a94f1130539f04cd28,vi Kivity <avi@cloudius-systems.com>, 2013-08-05 11:19:32 +0300, , sched disable ipis polling wakeup queue idle scheduler poll wakeup queue idle short time hlting order avoid expensive hlt instruction wakeup arrives early patch extends also disable remote wakeups polling period reducing waking cpu need issue ipi whicj requires exit help synchronous multithreaded workload thread block wake together following patch netperf throughtput increase 17gbps 19gbps context switch benchmark improves run test tst ctxsw.so 345 colocated 5761 apart 633 nopin  run test tst ctxsw.so 347 colocated 598 apart 467 nopin,,
5746,4089b7e4a0a1b6c130123033cee3f2d1fd76a4cb,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-31 18:09:52 +0300, , hack rename debug variable fsx without somehow get non zero value running osv need investigated would bad effect user workload,,
5747,9559b1cd63e090c7e481647beb526432f938a019,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-31 17:56:28 +0300, , vfs allow seeking beyond file size,,
5748,7df73eaef67c713d083cc5a09abdcb3f879e228e,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-31 17:53:43 +0300, , vfs remove superflous cast sys_lseek off_t cast superflous int cast cause actual truncatation bug,,
5749,e450b89ab6b3cc1fe1b3b9765cd5dc946017ce77,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-31 17:28:36 +0300, , vfs wire truncate ftruncate,,
5750,e15258b8437d7219c613166d1030befa5b2d4868,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-31 18:15:23 +0300, , fsx exit currently cause abort implementation look ugly let return main work,,
5751,914a112dd0117f556be8c58e161112f4b0e6cd7a,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-31 18:14:12 +0300, , fsx disable mapped writes support writing shared mmaps yet,,
5752,708b5a3be06dbb0a82309af393cc8779225e4c86,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-31 17:24:52 +0300, , test add fsx add fsx xfstests test case currently fails first due lacking truncate implemenation,,
5753,3d58de8e8176eceed2bd04cb2b45c8b8636b2944,vi Kivity <avi@cloudius-systems.com>, 2013-07-31 16:47:45 +0300, , build improve .text section generation gcc generates function section wildcard catch section merged global .text section make perf kvm top format output better catch wildcard placed last since first match,,
5754,7f3df3ef4b572ccf071bbc11c9aec95bb3f441e8,vi Kivity <avi@cloudius-systems.com>, 2013-08-01 16:47:57 +0300, , string fast memcpy memset machine without erms machine enhanced rep movsb stosb erms provide optimized fallback,,
5755,6d87c464e1c2c363ee492beb5306742e935b0faa,vi Kivity <avi@cloudius-systems.com>, 2013-08-04 11:27:37 +0300, , merge branch uma early part cache uma initialized object avoid initializing allocation,,
5756,e1686fc4c02bc883da568c21cbd5a540a9070aa4,adav Har'El <nyh@cloudius-systems.com>, 2013-08-04 10:50:07 +0300, , convert poll.c poll.cc convert poll.c poll.cc add tracepoints,,
5757,c4b60f7b74d7a0c06eca24720c7f6ae10c600bed,adav Har'El <nyh@cloudius-systems.com>, 2013-08-04 10:44:51 +0300, , cli run init.js telnet session patch ran init.js every new shell init.js run thing need done like setting address runnig dhcp telnet server need somebody telnets patch add init flag tell shell read init.js flag true cli main run telnetcli flag false,,
5758,a8e0b0036efb1e213ef0a96d0dda681b5249b3d5,adav Har'El <nyh@cloudius-systems.com>, 2013-08-04 10:41:33 +0300, , cli telnet connection mess console stty cli change console tty mode raw line editing back original cooked mode running command obviously running telnet connection touch console mode like existing code osv least ptys handle telnet connection exactly like handled console kernel implement cooked line discipline like implemented console similar thing java instead patch add new java class tty input output stream stty interface one implementation console using system.in system.out console stty different implementation telnettty telnet connection patch doe currently implement line discipline cooked mode telnettty always stay raw mode fine current cli future command read user input expect cooked mode echo line editing need implement line discipline,,
5759,633a0b7c49a15ff34367113b493eb92f79e3d128,lauber Costa <glommer@cloudius-systems.com>, 2013-07-30 15:03:34 +0300, , unmap bios memory harm leaving mappend potential harm unmapping since mapping code doe keep reference counter map already mapped area unmap code unmap good avi spotted,,
5760,436c8e59e8df6a24c181ecf5decd79c04737db80,lauber Costa <glommer@cloudius-systems.com>, 2013-07-30 11:27:55 +0300, , speed pci discovery currently using pci brute force enumeration consists scanning possible combination make issue many inb operation lot could using smarter enumeration system inbs alone account cycle take around run remember xen faster kvm lot better using recursive discovery scanning bus need case virtual system difference even bigger since unlikely complex setup one bridge boot feel instantaneous get start osv,,
5761,776221bd289bc570aae6e17317d96c2d1ca3c112,vi Kivity <avi@cloudius-systems.com>, 2013-07-31 20:22:21 +0300, , uma cache initialized object init fini function fairly expensive networking cache initialized object percpu pool save cost implementation imperfect since allocating one cpu freeing another reuse low improved future made unnecessary ring increase netperf 14.6gbps 17.8gbps machine,,
5762,88e3d43e7105d0aaf502b05615c99b6db8e67314,vi Kivity <avi@cloudius-systems.com>, 2013-07-31 20:21:03 +0300, , uma honor m_zero m_zero request zeroing object regardless constructor honor work bzero object unconditionally soon ,,
5763,5a6ca26e369c943f11644451d44269e7aed213b2,vi Kivity <avi@cloudius-systems.com>, 2013-07-31 19:04:32 +0300, , uma dynamically allocate zone going make zone expensive allocate allocate many need,,
5764,13d28a21236410d2062ae795685a889943556bfb,vi Kivity <avi@cloudius-systems.com>, 2013-07-30 15:19:04 +0300, , bsd switch uma allows integrating mempools,,
5765,2cbb2df6639f7d86c9389ba387e9f2ec88bea0b3,vi Kivity <avi@cloudius-systems.com>, 2013-07-31 20:17:55 +0300, , percpu add indirect dynamic percpu dynamic_percpu exhaust percpu pool quickly dynamic_percpu unique_ptr work awkward construct need cpu notifier allocate newly onlined cpu add allocate object cpu automatically brought completely general pas constructor argument work ,,
5766,4ac239ded2fe908bf088451906d1179a22a29b72,vi Kivity <avi@cloudius-systems.com>, 2013-07-31 20:15:59 +0300, , dhcp remove m_zero mbuf allocation m_zero request zeroing entire mbuf clear field initialized init function work honor m_zero remove m_zero replace bzero packet data,,
5767,4829c0bc7f7b432a1ef9544137aeb4cfd1087d2f,vi Kivity <avi@cloudius-systems.com>, 2013-07-31 15:56:29 +0300, , callstack fix uninitialized data trace object trace object contains list link hash table need initialized constructor however trace_alloc call constructor returned uninitialized memory fix calling constructor simplicity object initialization moved constructor,,
5768,f801c763e8aa06fe1c3923ce5fe9cb13dc3d88eb,lauber Costa <glommer@cloudius-systems.com>, 2013-07-30 14:47:28 +0300, , make initialization priority explicit recently ran early init bug due ended tracked changeset initialization priority constructor changed one changed one kvmclock change update kvmclock propose use constant avoid thing like future wherever priority used believe come place order utterly obvious handle creating prio.hh file sticking priority definition,,
5769,322bd4fbf3b2b746b8b5bc0d8c69831cd5932f55,lauber Costa <glommer@cloudius-systems.com>, 2013-07-30 23:37:18 +0300, , msleep respect bsd pdrop bsd code buggy semantics slightly different version mlock thanks christoph whether drop lock controlled value pdrop flag msleep queue protected internal lock lock user passed msleep call therefore version wait_until doe take lock argument locking manually may lock back depending presence pdrop flag,,
5770,f797c68695939ccf0630c86c4b579a72efd7955a,lauber Costa <glommer@cloudius-systems.com>, 2013-07-28 11:11:24 +0300, , make xen header usable plan use wrap _decls,,
5771,fd45df71008809c8fc1abd06bf540946ffae8166,lauber Costa <glommer@cloudius-systems.com>, 2013-07-09 12:43:25 +0400, , sync_stub provide stub xen provides simple msleep implementation simply call empty mtx_init macro,,
5772,a8f92c584fe604299f2b86bfa312ecaa10b7cd6c,lauber Costa <glommer@cloudius-systems.com>, 2013-06-28 13:45:57 +0400, , bsd header file xen file quasi empty usual ifdef case need add thing later relevant also add code file sometimes including file providing extra definition providing stub make importing bsd file lot easier,,
5773,44426468fd363e3dedb5d7d2cda95f8ade5550d0,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-30 11:11:03 +0300, , zfs support o_sync o_dsync fsync,,
5774,d1b8d05cd985cb3a3c2b7bc5d58d322a6ebdc860,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-30 11:10:07 +0300, , vfs pas io_sync flag o_sync o_dsync,,
5775,a9ab874543dfafbdaa6dc08271e89b78a1e46f2a,vi Kivity <avi@cloudius-systems.com>, 2013-07-30 10:28:02 +0300, , assert mark __assert_fail noreturn allows gcc infer asserts usually trigger move code line,,
5776,0b2df7d9a8bd745ce42888d1dd6165b5fe32f912,adav Har'El <nyh@cloudius-systems.com>, 2013-07-30 11:40:23 +0300, , cli telnet server patch add simple telnet server osv implemented java one telnet address default port get cli shell multiple concurrent telnet session supported shell independent expected start telnet server simply run class example cli start telnet server background use java start osv telnet server try sudo script run.py m2g java.so jar java cli.jar java cli.jar last example needed set address ... future turn telnet server default let add password feature first right password requested someone telnets,,
5777,08ce572fb7612e538a48aad47ca504410b5031e9,adav Har'El <nyh@cloudius-systems.com>, 2013-07-30 11:32:11 +0300, , cli allow setting cli input output stream cli used assume using system.in system.out point console make parameter need run cli telnet connection send output console try read,,
5778,61f465e6390fc2ae3c1619894f02c58de7a0e905,or Laor <dor@cloudius-systems.com>, 2013-07-30 11:25:14 +0300, , add write cache enable bit virtio blk,,
5779,895166af3c729f6d5b7b4f9daf6d31f4bc9f35bb,or Laor <dor@cloudius-systems.com>, 2013-07-30 11:24:19 +0300, , update host guest virtio feature,,
5780,eaeb15425e4e1dda7ca2ac1f71ed0fe62891d07d,or Laor <dor@cloudius-systems.com>, 2013-07-30 11:11:11 +0300, , revert virtio blk read correct register device config correct fix add setup_features call constructor reverts commit,,
5781,db65a9fe11cbd2c9550709fc4af53b52f9d9bfd3,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-29 11:53:12 +0200, , virtio blk read correct register device config need read various config bit device config guest config,,
5782,c329764598f3d43e5ebfe0a6e90b10ae14a22860,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-29 11:42:35 +0200, , virtio blk pas error,,
5783,3c67c099abd478a783c3ba284ef548a5e5570ce2,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-29 17:28:12 +0300, , virtio blk truncate bio_offset without get error reading writing larger imageá¹ current 10g usr.img actually enough trigger lack error handling papered far,,
5784,a21c220d992a58d9c9ef0d0ed81f17233506d3a8,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-29 11:56:14 +0200, , make sure usr.img writeable bug error handling virtio blk fixed actually need,,
5785,46b5ee0ce63e21a24671a97c53a116241ed3c727,lauber Costa <glommer@cloudius-systems.com>, 2013-07-27 23:06:44 +0400, , bsdedit blkfront implement disk_alloc disk alloc simple function well allocates disk supposed provided device code simplicity providing blkfront really better way put device.c quite generic seem disk specific file time brings user function move somewhere else,,
5786,c7f7d13bdfbf1792e49edb0cc6133c25ab42c187,lauber Costa <glommer@cloudius-systems.com>, 2013-07-27 17:52:41 +0400, , bsd initialize taskqueue xenbus use bsd taskqueues following way xbs seems main bsd taskqueue ported initial port definiting initializing seems bit odd net.cc rest bsd initialization life anyway maybe filename change let know feel strongly change okay,,
5787,909bc45cda6628b4b9ec1f9833c98db75e8f24b9,lauber Costa <glommer@cloudius-systems.com>, 2013-07-20 19:00:59 +0400, , device expand device state bsd device use state currently extend current device cope,,
5788,277318d72354ba5990b5c9379202bf64031700e5,lauber Costa <glommer@cloudius-systems.com>, 2013-07-20 18:59:24 +0400, , expand flag bsd flag define patch defines aditional missing flag,,
5789,71940e91369c5d3b6ab48ae6fbf5358f0e16edc8,lauber Costa <glommer@cloudius-systems.com>, 2013-07-17 10:40:47 +0400, , bsd block network xen driver verbatim file straight bsd,,
5790,05f014f2a92655d23fee97284a566c6ae0b2cc11,lauber Costa <glommer@cloudius-systems.com>, 2013-06-26 16:16:09 +0400, , bsd pcpu stub bsd register structure per cpu data using field need,,
5791,171e09a5fd02fbad5f183faa42b4ee4dacec57b4,lauber Costa <glommer@cloudius-systems.com>, 2013-06-26 16:05:42 +0400, , expand bsd compile flag compile time definition make importing bsd code easier straightforward trivially true current setup x86_64 current arch support others replace static d__x86_64__ test precisely make sense support code smp string included pretty much every bsd file believe interest,,
5792,4d2f9bfe78d7b7dbbc487d42a90055df017a134c,lauber Costa <glommer@cloudius-systems.com>, 2013-06-26 15:23:11 +0400, , kthread also allow process creation xen bsd code attempt create process serve deamons xenstore basically emulate creating thread thing differently already existent thread creation layer caller expect struct proc returned stub creating small struct pid serve return placeholder listener process xenstore never implementing deallocate routine,,
5793,8593a8c50d534adb79c4b834cfa7ecca36c064b6,lauber Costa <glommer@cloudius-systems.com>, 2013-07-27 17:42:02 +0400, , bio change bio_list bio_queue bio queue name used bsd since name difference would better change code since user ramdisk patch code importing bsd,,
5794,024a1d9e72112d85dcbba85bdaffd42fed3543a3,lauber Costa <glommer@cloudius-systems.com>, 2013-07-29 20:38:09 +0300, , trivial fix bsd porting slock implementation take write version instead read version locking unlocking fine,,
5795,6d151431e4b1f34277c8af2997b6498589291dcb,vi Kivity <avi@cloudius-systems.com>, 2013-07-29 18:39:19 +0300, , build avoid using __attribute__ cold compiler support __attribute__ cold label supported gcc 4.7. detect support feature enable conditionally,,
5796,c2815d3e27ba70a1f1911026f093ca804a5b75d4,or Laor <dor@cloudius-systems.com>, 2013-07-29 12:37:01 +0300, , change max per cpu free page buffer netperf executed high demand page table value max constant matching netperf result buf size throughput mbps 1024 16700 512 16800 256 15500 128 14500 13680,,
5797,33316048697f568c15a679823428597d9a05f350,vi Kivity <avi@cloudius-systems.com>, 2013-07-29 14:17:30 +0300, , merge branch eoi kvm pveoi support,,
5798,99ba7e34c70ee26f0bc231815764bd043655f0e1,vi Kivity <avi@cloudius-systems.com>, 2013-07-29 14:11:23 +0300, , lock_guard avoid using using constructor feature allowing reuse inherited constructor available gcc 4.7,,
5799,d450e60de018f5669e94a56dff817b1d57d69d97,vi Kivity <avi@cloudius-systems.com>, 2013-07-29 13:06:34 +0300, , apic kvm eoi kvm provides way eoi without exiting detect availability use,,
5800,66bd77a0f5585a8ae15e39f020b2d06444330e44,vi Kivity <avi@cloudius-systems.com>, 2013-07-29 13:04:58 +0300, , interrupt use apic eoi method instead directly writing x2apic work xapic allows hook eoi,,
5801,5f8652e9243e53ff2ce0497964118c52c31d6ac8,vi Kivity <avi@cloudius-systems.com>, 2013-07-29 13:04:03 +0300, , apic add read method,,
5802,f496f7a7371dbdde46ed736ccb2c09cb91956829,vi Kivity <avi@cloudius-systems.com>, 2013-07-29 12:59:35 +0300, , interrupt add separate pre post eoi interrupt handler kvm pv_eoi functionality fails vmexits taken eoi likely due bug work around deferring handler interrupt eoied since level triggered interrupt must acked device level prior eoi add additional handler called prior eoi,,
5803,38b6390a9abd122f4dba5885abe6212bcf12764b,vi Kivity <avi@cloudius-systems.com>, 2013-07-29 13:07:32 +0300, , percpu align percpu data make sure percpu data aligned correctly hardware feature expect,,
5804,92b6753b0aa9ed4063dedffbedfecdb3990f2b7d,adav Har'El <nyh@cloudius-systems.com>, 2013-07-29 11:52:18 +0300, , cli remove global jvm wide variable rhinocli relied bunch global java variable _cx _args ugly also prevents running multiple instance cli jvm e.g. support multiple telnet connection actually need jvm wide global variable need global use variable javascript interpreter instance interpreter would copy patch put main argument new global per javascript interpreter variable mainargs instead global entire jvm _args _cx needed one java convert string equivalent javascript alternative java return string let javascript worry handling seems work fine without change second use returning exit code appropriate method thing without global variable exist,,
5805,fa5e2b322ea6055338b4cd289cbc27b12215bf58,or Laor <dor@cloudius-systems.com>, 2013-07-27 00:20:32 +0300, , implement networking offloads based freebsd virtio code provides boost netperf,,
5806,9cf1a043db9d09d56a55e914b4fe36977b7f9d10,or Laor <dor@cloudius-systems.com>, 2013-07-25 17:24:31 +0300, , adding net if_vlan_var.h file needed tcp offload,,
5807,17d3d9c9b73ad509307b16c703192ae43783229d,uy Zana <guy@cloudius-systems.com>, 2013-07-25 18:01:54 +0300, , cli add dhclient command start dhcp discovery,,
5808,d59ed3312235dd6b9cca2b8c7263630e084c4436,uy Zana <guy@cloudius-systems.com>, 2013-07-25 18:01:19 +0300, , jni add interface start dhcp discovery,,
5809,979fe1e0671c50028bb592fb62f223506732a91b,uy Zana <guy@cloudius-systems.com>, 2013-07-25 18:48:24 +0300, , dhcp networking stack hook dhcp path allows dhcp worker see incoming dhcp packet using simple hook reason make kind hook generic bpf alternative already many protocol specific hook networking stack ever need hooking pfil interface may used implement generic solution reasonable single user dhcp,,
5810,fc428fcf3f7b9989ad573f41a050e103f3cf5d58,uy Zana <guy@cloudius-systems.com>, 2013-07-25 17:58:31 +0300, , dhcp initial dhcp implementation use dhcp discover address per interface dhcp packet hooked networking stack ip_input queued deffered processing using dhcp worker thread sending dhcp packet done directly ethrernet building udp still alot done setting lease time timeouts error handling possible implement later,,
5811,2b4a704ca52368c86e7d594ae4be624dbab31008,uy Zana <guy@cloudius-systems.com>, 2013-07-25 12:22:57 +0300, , route add fixme,,
5812,c39aab22ffb22869a5ea652fab57ac16e982cfa8,uy Zana <guy@cloudius-systems.com>, 2013-07-25 12:22:21 +0300, , in_cksum allow in_cksum invoked code,,
5813,1a2b4b8708252c27370073192aa27b8e3fb90dd1,uy Zana <guy@cloudius-systems.com>, 2013-07-21 14:50:37 +0300, , elf add error print unknown relocation,,
5814,98be27b4f6bc5041c14ba6a45daf2904fc5297f1,vi Kivity <avi@cloudius-systems.com>, 2013-07-28 17:33:03 +0300, , merge branch callstack facility capturing call stack arbitrary tracepoints new command perf callstack tracepoint,,
5815,92c584b7250cf22ec72aa7aee94375a2bbae5d1f,lauber Costa <glommer@cloudius-systems.com>, 2013-07-27 18:37:23 +0400, , console nitpick print interface name although expecting many interface still useful print interface name fail set parameter starter may well plenty also good debugging,,
5816,4245fe5cde7411d39b24cdd147e30726eb0f5d68,vi Kivity <avi@cloudius-systems.com>, 2013-07-28 17:26:09 +0300, , merge branch with_lock replace lambda based with_lock api block based api,,
5817,79986907dbd239cf3798478c77a87fe23a34668a,vi Kivity <avi@cloudius-systems.com>, 2013-07-28 17:15:48 +0300, , mutex remove old with_lock,,
5818,a12e8a6b9bd0fd91c240a46894ea10c603a6fe4e,vi Kivity <avi@cloudius-systems.com>, 2013-07-28 17:01:38 +0300, , pipe_buffer switch new with_lock,,
5819,c666cc11b7f626fdf74e28da10266bc8557c59f8,vi Kivity <avi@cloudius-systems.com>, 2013-07-28 17:01:38 +0300, , virtio net switch new with_lock,,
5820,37f258231ab89c58b0b5536f5946772d9959647a,vi Kivity <avi@cloudius-systems.com>, 2013-07-28 17:01:38 +0300, , virtio blk switch new with_lock,,
5821,203638dc9c7b3e30c5b64c391d382b5314843749,vi Kivity <avi@cloudius-systems.com>, 2013-07-28 17:01:38 +0300, , console switch new with_lock,,
5822,aa73a2633cdb536591accc3f74629e21f86d21c7,vi Kivity <avi@cloudius-systems.com>, 2013-07-28 17:01:38 +0300, , semaphore switch new with_lock,,
5823,df15d4e0bf1eb3973dfff1cb3f0279a6dec72f34,vi Kivity <avi@cloudius-systems.com>, 2013-07-28 17:01:38 +0300, , sched switch new with_lock,,
5824,714bdb4373a11496a580f358047a13dcd9cb395e,vi Kivity <avi@cloudius-systems.com>, 2013-07-28 17:01:38 +0300, , rwlock switch new with_lock,,
5825,ebfb17f76d9088cabe540b09ac6525f78023404d,vi Kivity <avi@cloudius-systems.com>, 2013-07-28 16:58:04 +0300, , mempool switch new with_lock,,
5826,6a73ebb022beae3ada27ef84de9a75123b71a353,vi Kivity <avi@cloudius-systems.com>, 2013-07-28 16:56:37 +0300, , mempool switch new with_lock,,
5827,35aa5c63f966494727f96b69c150ff27221c3205,vi Kivity <avi@cloudius-systems.com>, 2013-07-28 16:53:00 +0300, , ioapic switch new with_lock,,
5828,4af8b945969ec9a4fa85df97e77f345aba5add87,vi Kivity <avi@cloudius-systems.com>, 2013-07-28 16:50:53 +0300, , debug console switch new with_lock,,
5829,a7cad57613a10f6db258df27d4c0715f593bc4d3,vi Kivity <avi@cloudius-systems.com>, 2013-07-22 12:36:46 +0300, , mutex better with_lock current with_lock downside using relatively large lambda lambda need extra syntax thought capture variable change meaning return break continue new with_lock named with_lock since macro accepts statement instead lambda with_lock mtx do_something with_lock preempt_lock    with_lock context return break continue exception exit block cause lock unlock method called,,
5830,a623c33a0b161e3b9f151167f82321fc22526764,vi Kivity <avi@cloudius-systems.com>, 2013-07-28 13:17:38 +0300, , add printf style output function sprintf fmt ... return std stream fprintf fmt ... print std ostream easier usualy method constructing temporary ostringstream formatting,,
5831,219dcfd10990151fedc75c95fa8e24ebc46711c9,vi Kivity <avi@cloudius-systems.com>, 2013-07-25 19:54:09 +0300, , cli add perf callstack use perf callstack tracepoint list frequent callstacks tracepoint perf list,,
5832,f44d739f6ef1cd6099252b63f0db6cf990eaf964,vi Kivity <avi@cloudius-systems.com>, 2013-07-25 19:53:52 +0300, , cli add printf implementation,,
5833,77aa31a39b3c9fc7f672fdcf26eca209bda3b939,vi Kivity <avi@cloudius-systems.com>, 2013-07-25 19:53:20 +0300, , java add java interface,,
5834,805ffcb65ea0abfefc5a5de38591a4b8bf8827f8,vi Kivity <avi@cloudius-systems.com>, 2013-07-24 18:43:01 +0300, , core add callstack collector collector attach tracepoint collect backtraces later trace dumped histogram,,
5835,cf13ee296fcf2ae6079bdacba5a2f2f98877c893,vi Kivity <avi@cloudius-systems.com>, 2013-07-24 18:39:14 +0300, , build compile fno omit frame pointer needed safe backtrace,,
5836,54e1bbea687fcb44c66817aca4a2307677757fcf,vi Kivity <avi@cloudius-systems.com>, 2013-07-24 18:38:20 +0300, , x64 add backtrace_safe backtrace implementation safe use wierd context like interrupt need fno omit frame pointer crash object compiled without,,
5837,19ff9c754ccb1610deca3a58ba53728133601a69,lauber Costa <glommer@cloudius-systems.com>, 2013-07-28 10:56:24 +0300, , sanitize header file include header inside extern declaration problem eventually definition linkage since inside extern included place __cplusplus defined specifically worked around int sx_xlock implementation starting create bigger problem fix making header usable whichever place instead relying extern inclusion cpp file,,
5838,b497e87a7a663b0428790df77ce95bf5026c2e1e,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-27 10:56:13 +0200, , zfs check access permission vnode operation mostly get bit directory right lookup well check hard readonly file,,
5839,0df657ba2a71f290a0f82dd5038d3a01e0740979,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-27 10:56:28 +0200, , zfs compile zfs_zaccess_ function,,
5840,85f32895267e41a5b38dd4a102d3bc8fb1619a3f,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-27 10:56:00 +0200, , zfs compile,,
5841,cfa7953c73271e6ecc645bb654dfe5600b0f242c,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-27 11:06:08 +0200, , zfs access vnode may available yet change mode check use z_mode remove devvp check support device node outside devfs,,
5842,923d3c81acf814dda8312942a88c5e893fa77618,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-27 10:51:41 +0200, , zfs deal partially initialized znodes might vnode assigned znode yet access check lookup,,
5843,0b51d6e640beaf97ab5041ffb462514e6c0f87be,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-25 07:31:39 +0200, , test zfs renames,,
5844,791ca6f873d7a2269865307ad8a339d42e078c93,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-23 15:30:50 +0200, , test zfs truncation using open ... o_trunc ... truncate ftruncate wired vfs yet far way get vnop_truncate,,
5845,93b498ec3dff3cb0075dc2d7a77bde300682b723,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-23 08:59:02 +0200, , test zfs rmdir,,
5846,15facc7f99e9115b914a484cb162e5effccb45ae,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-25 07:20:00 +0200, , zfs implement vnop_rename,,
5847,2881688b15b6a877b6561713bc13580f7c5130b4,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-23 15:23:08 +0200, , zfs implement vnop_truncate,,
5848,6a2febca38872aa450afd68c2147bbd2458bd16a,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-23 15:22:57 +0200, , zfs compile znode code,,
5849,78853a930648fc37a9662896ab4c792ba8457cd1,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-23 08:58:53 +0200, , zfs implement vnop_rmdir,,
5850,8634859ee23708b2d0ecfece69550f6e81491ed4,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-25 07:19:44 +0200, , solaris provide v_vfsp compat define,,
5851,235d9f208690422dd04ab40bb597f1e2730db027,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-23 15:22:34 +0200, , solaris provide mandatory locking related stub,,
5852,a063ab93059e123fc939cd4f14818f73f8a1971c,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-23 15:22:19 +0200, , vfs provide,,
5853,7445c1e05275103e80d5c3211a9aa15c2439a8ad,lauber Costa <glommer@cloudius-systems.com>, 2013-07-27 19:59:56 +0400, , bsd add implementation arch specific adding newly created file arch x64 making available bsd netport lack better place,,
5854,1d44eb79b9ac674136c563ca77cb717b8de0bd6c,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-25 17:30:04 +0200, , zfs support cache flush vdev_disk,,
5855,865d5138c6f5396b94769d31e2249515f6f43130,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-25 17:26:18 +0200, , zfs wait bios synchronously vdev_disk zfs expects vdev provider work asynchronously wait higher level code needed,,
5856,86fd1c16da1b7414214e2a0c950c4510c6438c96,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-25 17:34:01 +0200, , virtio blk add cache flush support,,
5857,8062bae42199227fa56cfbcafc80739ce84e9fa1,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-25 17:25:25 +0200, , bio add caller private data struct bio required user want asynchronous completion bios taken freebsd,,
5858,60a5b5fae6e93264c5cd2c0c85e2fc3d07b79ee4,lauber Costa <glommer@cloudius-systems.com>, 2013-07-15 17:08:17 +0400, , stub fork vfork never implement code still insist calling best effort return error hope code cope well,,
5859,8401d9dfc927c6ca98bd2dc2da3c5ae89a0a4901,lauber Costa <glommer@cloudius-systems.com>, 2013-07-16 17:17:46 +0400, , fix linux compat layer typedef dear bsd developer long long int define struct linux ifreq ioctl different size fine bit machine course causing network request get borked,,
5860,dec50e177d37a7606b8e2bb2ab94edc53b199ba0,adav Har'El <nyh@cloudius-systems.com>, 2013-07-25 16:43:06 +0300, , readme better instruction run zfs fuse fedora make fail zfs fuse missing print strange message resulting image fail would nice makefile checked use zfs fuse actually working let start instruction readme enable way survives reboot,,
5861,2114b426bedcd7995531b6ffa2bb871c99be16f1,adav Har'El <nyh@cloudius-systems.com>, 2013-07-25 15:19:15 +0300, , condvar context switch two unlocks waiting condvar_wait release two lock user lock internal lock reschedule first unlock waiting thread may start running hang also doe condvar_wait let use preempt_disable enable around two lock patch improves single cpu performance cond perf benchmark extreme case cond perf try condvar_wait almost immediately waking previous wait,,
5862,4f6303f1e0ea4b974c3ea2bc559652aeade81792,adav Har'El <nyh@cloudius-systems.com>, 2013-07-25 15:19:15 +0300, , condvar hold condvar internal lock wake_all wake_all large number thread hold condvar internal lock throughout loop waking thread reason need lock timeouts condvar_wait time need remove wait_record queue potentially happen concurrently wake_all want item deleted list scanning patch protects concurrency different way requiring hold internal mutex long period time lock grab whole wait list copy head reset zero walk list wake wait_records without lock timeout occurs condvar_wait grab lock look wait record queue happened zeroed list succeed removing list wait_record list mean already zeroed list know already woke wait_record return condvar_wait yet need wait wait_record wait either return immediately wait wake loop get record lock need taken idea improve common case waking many thread suffer potential added wait rare case race wake timeout despite advantage dubious helpful patch real scenario first holding internal mutex wake hurt woken thread access condvar usually happens work done woken thread trivial immediately get condvar wait clear interesting scenario second wake_all anyway called user mutex locked often doe code none woken thread actually wake wake_all done code try touch condvar locked entire duration wake_all seems patch likely help artificial benchmark like glibc cond perf.c,,
5863,9a085f36c94d59a23a05190341dd21b7e41eeaa3,adav Har'El <nyh@cloudius-systems.com>, 2013-07-25 15:19:15 +0300, , condvar allow condvar wait take mutex reference convenience overload condvar wait also take mutex reference mutex pointer,,
5864,f7d6e2692def3820c78a5d2f0a20f6954ca72aca,adav Har'El <nyh@cloudius-systems.com>, 2013-07-25 15:19:15 +0300, , condvar add tracepoints,,
5865,ac76d75a4f99682045e3e70338da8f9bce040d62,adav Har'El <nyh@cloudius-systems.com>, 2013-07-25 15:19:15 +0300, , condvar order wakeups cpu wait morphing full control thread wakeup order queued mutex wait queue certain order woken one one order posix thread leaf order undetermined saying scheduling policy shall determine order patch improve wakeup performance ordering wakeups cpu thread cpu wake unlock another thread cpu faster waking thread another cpu,,
5866,ccc911b617743b4fbd0eca2a0c36009f9992d78a,adav Har'El <nyh@cloudius-systems.com>, 2013-07-25 15:19:15 +0300, , condvar make thread tcpu const function thread tcpu change thread object let mark const used const sched thread object need following patch use,,
5867,aa3a62440e603aedb7400cdbbe40a55a748cba22,adav Har'El <nyh@cloudius-systems.com>, 2013-07-25 15:19:14 +0300, , condvar add wait morphing condvar patch add wait morphing condvar condvar wake wake thread take user mutex rather attempt grab lock sleeping thread lock already taken move sleeping thread wait mutex queue without waking thread condvar wait assumes woken already mutex wait morphing reduces unnecessary context switch therefore improves performance two case thundering herd problem many thread waiting condvar condvar wake_all wake race get mutex likely many back sleep locked wakeup problem condvar_ wake done user mutex locked often doe wake waiter take lock may find lock already held waker back sleep,,
5868,45dc4dcc00415a37a5a010a8f1bbcaf0cd763bca,adav Har'El <nyh@cloudius-systems.com>, 2013-07-25 15:19:14 +0300, , condvar remember mutex user associated condvar allowed condvar wait call specify different mutex support wait morphing need condvar waker know mutex waiter want lock different mutex wait need remember mutex wait_record adding field condvar wait_record mutex wait_record possible quite ugly patch implement simpler solution practice condvar user normally associate single mutex condvar use wait ing condvar posix thread even officially support use case state using one mutex concurrent ... operation condition variable undefined patch remembers condvar last mutex used condvar wait later patch use implement wait morphing wake take mutex instead waking thread take add assertion verify assumption broken user price pay simplicity new assumption single mutex per condvar adding byte size condvar,,
5869,7351461aada8102bda2345b6431a83b9f3c90ce1,adav Har'El <nyh@cloudius-systems.com>, 2013-07-25 15:19:14 +0300, , condvar move unlock user mutex move unlocking user mutex condvar_wait bit earlier still hold condvar internal mutex doe change correctness needed wait morphing protocol assume condvar_wake find thread wait_record happen soon release internal mutex longer holding user mutex,,
5870,5ec8e6d06c1f16cc8bdfe47a5fc4856ac76bec05,adav Har'El <nyh@cloudius-systems.com>, 2013-07-25 15:19:14 +0300, , condvar add mutex send_lock wait_record method add mutex send_lock wait_record similar lock rather taking mutex current thread take different thread already waiting given wait_record thread waiting wait_record woken lock taken need accept lock calling mutex receive_lock feature used later patch enable wait morphing moving waiter condvar wait queue mutex wait queue,,
5871,eceaefafe78f6e564dd5a931aeb53594ef85999c,adav Har'El <nyh@cloudius-systems.com>, 2013-07-25 15:19:14 +0300, , condvar use wait_record condvar use wait_record condvar instead ccondvar_waiter use wait_record method wake wait instead including tricky code condvar.cc unfortunately patch also contains bunch non iteresting change replacing name ccondvar_waiter newer field wait_record next,,
5872,7bbd7a00eee1a1a679af8ee12c7dd746af5cc199,adav Har'El <nyh@cloudius-systems.com>, 2013-07-25 15:19:14 +0300, , condvar use wait_record lockfree mutex use wait_record lockfree mutex instead linked_item thread use wait_record method wake wait instead including tricky code lfmutex.cc,,
5873,6c44f99daa63ad86f119aeb6d32015a950aaf901,adav Har'El <nyh@cloudius-systems.com>, 2013-07-25 15:19:14 +0300, , condvar make linked_item type unnecessary lock free queue queue_mpsc used assume record stored queue type linked_item template really need assume type really need queued record inside next pointer patch allow queue_mpsc take type field next linked_item left example implementation importantly struct wait_record defined previous patch also used queue_mpsc next pointer,,
5874,a00aa4ab07abbc6cea97697bdf0186ed051319ce,adav Har'El <nyh@cloudius-systems.com>, 2013-07-25 15:19:14 +0300, , condvar new wait_record type mutex condvar wait queue linked list wait record containing thread pointer wake next pointer unfortunately mutex condvar used different type mutex used linked_item thread condvar used struct ccondvar_waiter want mutex condvar use wait_record structure add later patch wait morphing feature moving waiter condvar queue mutex queue patch defines single type struct wait_record suitable particular struct template pointer used code see osv condvar.h wait_record structure containing waiter next pointer waiter thread pointer together method becomes simple synchronization mechanism always used first time encapsulate type,,
5875,a026333425e821147d821c354fa11030a4333f38,vi Kivity <avi@cloudius-systems.com>, 2013-07-25 13:37:58 +0300, , percpu fix failure gcc 4.7.2 lambda capture runtime turn zero fails gcc 4.7.2 work gcc 4.8.1 replace std bind helper,,
5876,fbe386e5fa2e849cc53ae6b8d677131da6483ba5,vi Kivity <avi@cloudius-systems.com>, 2013-07-24 18:34:31 +0300, , x64 add facility loading storing via unsafe pointer safe_load safe_store used even pointer may fault,,
5877,5f1e97d6f3bcd5fe28595c5d553d0c7ff6388c6b,or Laor <dor@cloudius-systems.com>, 2013-07-23 00:53:44 +0300, , fix memcached networking issue caused unsecure parallel device invocation aware device lock held callback look deeper tomorrow patch solves issue,,
5878,e2ba7581199f536cdb2819f1929bb51c6d6b7ca9,or Laor <dor@cloudius-systems.com>, 2013-07-23 00:53:43 +0300, , rename _lock _tx_gc_lock,,
5879,2379771f6b786237b018a790217e5e20deba7c21,or Laor <dor@cloudius-systems.com>, 2013-07-18 10:10:17 +0300, , use wake_with scheme order wake lock held way possible wake thread holding lock protects thread pointer going away lock held waker thus wakee able use immedietly ctx suggested nadav,,
5880,2fc78575f4978929c03745080fd61ec518ebd027,adav Har'El <nyh@cloudius-systems.com>, 2013-07-24 13:02:20 +0300, , add another test pipe sure read write pipe correctly avoided poll_wake side pipe closed added test turn already work correctly poll_wake check zero file pointer ignores fine give zero file pointer,,
5881,3b273ec6bfe41b51237354b3ac77f8159b235478,vi Kivity <avi@cloudius-systems.com>, 2013-07-22 17:09:06 +0300, , elf change program with_modules avoid allocation want use backtrace therefore therefore program with_modules interrupt disabled context change with_modules avoid allocation,,
5882,96a56d83cd846dfcbd0d7741c070d996eca5cd83,vi Kivity <avi@cloudius-systems.com>, 2013-07-21 18:42:45 +0300, , merge branch netperf scheduler allocator improvement,,
5883,c5e8825464eff82eb5cbfde034844c3ed156f25d,vi Kivity <avi@cloudius-systems.com>, 2013-07-17 12:57:41 +0300, , memory lockless page allocation since memory pool backed page allocator need fast page allocator particularly pool large object object per page page exhausted quickly patch add per cpu cache allocated page page allocated freed cache without locking buffer filled drained empty full taking page range lock,,
5884,c549e0e88d007a04c5d07ee3b89c516fbc6c80e0,vi Kivity <avi@cloudius-systems.com>, 2013-07-15 19:33:14 +0300, , mempool add hysteresis allocate free one object empty pool continuously allocate page format pool free wastefull allow pool keep one empty page page kept back free list get fragemented needlessly,,
5885,a76e1813ed4dfc8383e7c920d85ae83adefd5e92,vi Kivity <avi@cloudius-systems.com>, 2013-07-15 19:01:49 +0300, , mempool switch dynamic_percpu instead array free list let dynamic_percpu manage allocation reduces waste since longer require cache line alignment,,
5886,03a711c71b90be7a0aae111207b34b672765718d,vi Kivity <avi@cloudius-systems.com>, 2013-07-15 19:00:56 +0300, , per_cpu_counter switch dynamic_percpu instead managing counter manually use generic infrastructure,,
5887,44bd271f2dbbf302c0ed40b90687646590741421,vi Kivity <avi@cloudius-systems.com>, 2013-07-15 18:57:24 +0300, , percpu introduce dynamic_percpu dynamic_percpu allocates initializes object type cpu cpu later hotplugged also get instance unlike ordinary percpu variable dynamic_percpu object used dynamic scope object static scope one stack heap,,
5888,c148b7545955e4bc20a27f930839f6026c9b4382,vi Kivity <avi@cloudius-systems.com>, 2013-07-15 18:53:52 +0300, , mempool make early allocator depend mempools dynamic percpu allocation allocator available first cpu created creates circular dependency since first cpu need allocated use simple wasteful allocator time ready object allocated simple allocator marked page offset,,
5889,48688d5cccbb3b27abccbc2bc5a1808497d3df0d,ekka Enberg <penberg@cloudius-systems.com>, 2013-07-20 11:15:50 +0300, , mempool fix calloc integer overflow check,,
5890,7f0955ae1bb87b35ef7255c0f42d69266abc1390,ekka Enberg <penberg@cloudius-systems.com>, 2013-07-19 15:56:20 +0300, , fix fedora build prerequisite add ant gcc package build prerequisite needed build osv newly installed fedora,,
5891,6d2448f1c06f7ccf4deb815223b1a51d97e18684,vi Kivity <avi@cloudius-systems.com>, 2013-07-17 13:00:46 +0300, , sched initialize earlier needed per cpu storage initialize rest scheduler,,
5892,5984eb5d271fe66f0d400a5de403c44e331b7979,vi Kivity <avi@cloudius-systems.com>, 2013-07-15 18:52:11 +0300, , reorganize startup order make early allocator available earlier support dynamic per cpu allocator,,
5893,7f7df8486dd49574a11ea907d72584d2da7923c8,vi Kivity <avi@cloudius-systems.com>, 2013-07-15 18:49:35 +0300, , sched make cpu current depend current thread depending current thread cause circular dependency later patch use per thread variable instead maintained migration similarly percpu_base small speedup nice side effect,,
5894,decf07bad8fb3cf9fcaaa71ea3c88af12e812de0,vi Kivity <avi@cloudius-systems.com>, 2013-07-14 15:09:25 +0300, , sched convert tracepoints new unique free syntax,,
5895,7a4cf22f6ebaae58f37d7973fb9d777760754cce,vi Kivity <avi@cloudius-systems.com>, 2013-07-14 15:01:55 +0300, , memory move page allocation function header avoid include loop later patch,,
5896,e2f0c5aaf52e68de8d14ca992f755ee62b89b67d,vi Kivity <avi@cloudius-systems.com>, 2013-07-17 18:47:28 +0300, , sched penalize thread preempt much preemption expensive cycle spent scheduler cache line evicted new thread penalize thread cause preemption adding small preemption tax vruntime decrease relative priority thread sleep long time relatively unaffected retain low latency thread wake often wait wake loop another thread penalized lot avoid excessive wake,,
5897,b0e7f721f0d2b8599d7ee62e8d17ec9e2ec7276f,vi Kivity <avi@cloudius-systems.com>, 2013-07-02 18:35:46 +0300, , sched limit vruntime backlog accrued sleeping thread current implementation sleeping thread accrue large vruntime backlog sleeping result thread preempting anything move borrow mechanism attempt correct working well reduce backlog limiting vruntime difference single round trip currently queued thread borrow mechanism removed similar guy patch except vruntime move forward capped negative minimum direction forward also similar linux,,
5898,71d4c88aaac13d0c81a183a5ff066b057e4efadc,vi Kivity <avi@cloudius-systems.com>, 2013-07-02 17:50:56 +0300, , sched reasonable initial thread vruntime currently initialize new thread vruntime clock time however acquire vruntime run clock always run unreasonably high initialize instead parent thread vruntime since parent thread running vruntime represents fairly high priority may want tune later signed avi kivity avi cloudius systems.com,,
5899,20b15e78c9d21c2d0685f9a4d16554e01c790dff,vi Kivity <avi@cloudius-systems.com>, 2013-07-18 14:50:47 +0300, , x64 add optimized memset implementation,,
5900,d3421d25cee5d30837150ec91959f5cd1fa19128,or Laor <dor@cloudius-systems.com>, 2013-07-18 00:29:22 +0300, , fix long int trancation identified christoph,,
5901,0080ee69d552c8c50a16c0aaafe2ab97b97c7c7e,adav Har'El <nyh@cloudius-systems.com>, 2013-07-18 08:00:27 +0300, ," micro benchmark waking condvar one waiting patch add tst condvar two benchmark measuring condvar wake_all condvar nobody waiting first benchmark doe wake single thread measuring 26ns commit 3ns second benchmark doe wake_all loop two thread two different cpu aforementioned commit frequently involved contented mutex context switch much 30,000 delay commit benchmark measure 3ns single threaded benchmark",,
5902,3509b19bb5c7acc5d97559a44e66e007133b647b,adav Har'El <nyh@cloudius-systems.com>, 2013-07-18 07:55:45 +0300, , improve performance unwaited previously took condvar internal lock testing anyone waiting condvar_wake nobody waiting mutex_lock mutex_unlock time machine contention much much higher involving context switch several cpu trying condvar_wake concurrently patch first test queue head null acquiring lock acquire lock condvar_wake empty queue micro benchmark see next patch take 3ns regardless many cpu concurrently note queue head test atomic use memory fence read queue head see safe decide nobody waiting nothing read queue head see anything value read might half set pointer atomic architecture set value point use memory fence enforce ordering see head need acquire lock also imposes required memory visibility ordering try ,,
5903,93aeb06149434449793018300b3d2b15aa47c7ef,or Laor <dor@cloudius-systems.com>, 2013-07-18 00:20:20 +0300, , cleanup various old unrelevant comment code change,,
5904,69e1182dea96c62502794233a6c8ee7f18ecdad5,or Laor <dor@cloudius-systems.com>, 2013-07-17 18:04:18 +0300, , queue blk request ring empty instead cancelling block request due space ring lead corruption upper layer block space,,
5905,fa8ad1581a70b3c3eca0813a319f9b31dfeadd59,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-15 13:42:15 +0200, , test simple zfs unlink,,
5906,1e57124ab9f52ae65406d218e43b144c1ddec447,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-15 13:28:19 +0200, , test simple zfs file writes,,
5907,ecdac9c02180589760d0b04bf92d7acba8561140,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-13 17:17:41 +0200, , test zfs mkdir,,
5908,008ae3cab11db0037e17334bafdae7ac30d04138,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-12 14:30:07 +0200, , test file creation zfs,,
5909,5f85a35e646c5110cb190ec103946841be9e86de,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-02 11:44:04 -0400, , run zfs test usr,,
5910,d2b85a29e7620b6eafc4f3f7fe3051be118d8968,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-15 13:39:36 +0200, , zfs implement vnop_remove,,
5911,c218cd1ed55f6903f38d8bb204786852b1027e99,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-13 17:17:49 +0200, , zfs implement vnop_write,,
5912,faa63420e9867ed29041055fe4002e180dca2002,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-12 14:42:22 +0200, , zfs implement vnop_mkdir,,
5913,03235bc94b2b1002caf1adc6f4d3944f5d19f200,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-08 07:05:45 -0400, , zfs implement vnop_create operation different freebsd solaris vfs create actual entry creation opening file similar linux split operation lot code already handled vnop_open vfs thus away,,
5914,875e18dc531a11557ec8cad4f135b7f2ce0cf7fd,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-10 14:03:36 +0200, , zfs open intent log mount required write operation actually replay yet requires lot hairy specific code,,
5915,72dd52b18d490519f6fd829e5bce1eb094024372,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-10 13:50:25 +0200, , zfs assume vnode initialized zfs_link_create,,
5916,eb3bdca572eb1522f6298018b593ba0b676c2b79,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-10 14:30:07 +0200, , zfs fix overzealous compile warning zfs_fuid.c one show non debug build reason,,
5917,3457dddbb0b6b1861d808dc40a5837bdc6d703c9,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-10 14:05:24 +0200, , zfs build zfs_get_data,,
5918,dc30e1e8c16ca1c3572d95172df4d1acbe3b88fd,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-15 13:39:25 +0200, , zfs build dir code,,
5919,807e8853d6735daf7276e6654cdb1fdf58bc4cb3,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-10 10:24:01 +0200, , zfs build acl code,,
5920,97e0ab8346ef6db71298b7583d247fb8d1542bf3,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-10 10:27:58 +0200, , zfs build zfs_log.c,,
5921,a3d64b490c925b58a581ec364978e2e1af8b5b4a,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-10 10:19:42 +0200, , zfs build zfs_fuid.c,,
5922,4bd285d8c4c8bfd1d8256c3de3ac95fca94e2c67,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-10 04:10:03 -0400, , zfs build znode code,,
5923,6fdcbd0582491ca87da6401759846bdfb86f5d45,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-13 17:20:13 +0200, , solaris wire compat uio helper,,
5924,852cf32d3f2809f0752b0f237d5af2fcc9a31a80,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-12 14:16:50 +0200, , solaris provide secpolicy_ stub,,
5925,b513c1fae27dd7b0142f45050f9ba7b5f344be6d,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-12 14:24:25 +0200, , solaris provide groupmember stub,,
5926,44f6185535e3ce50210e5f1cf5da8abe00fb7d66,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-10 12:59:46 +0200, , solaris provide vfs_t mount_t mapping,,
5927,3d700a9d44184512a2d7bf28f40b91c89a41d445,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-12 14:16:33 +0200, , bsd provide accmode_t type,,
5928,179cd477ad101f0fdd0c562755861ba906733103,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-10 10:19:29 +0200, , bsd provide uid gid related defines,,
5929,a5856ed3b46974fee175ce7646d0934e299dca53,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-10 13:05:13 +0200, , vfs provide makeimode,,
5930,eb55808d18ac41a9741561d10b1fcfda3685030b,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-10 13:00:13 +0200, , vfs provide vappend defintion,,
5931,9ea9000f2a8e5a06edf9c448115417e84528b6ba,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-10 04:10:17 -0400, , vfs provide complete struct vattr,,
5932,1eb0425c073260fb4d32e8cb0b77edd78a139d9e,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-15 13:29:09 +0200, , update readme mention package need installed bare bone fedora system make sure service zfs fuse start done using sudo,,
5933,5beb27df4306fc3a086a9fc34ced02e7b2d7223b,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-12 14:02:09 +0200, , solaris implement taskq flag reliable number cpu indicator implementation trivial,,
5934,b49f066c4f58ae912d2bebfecb1bbfe2541fc4f4,vi Kivity <avi@cloudius-systems.com>, 2013-07-11 19:40:29 +0300, , merge branch v2p debug fix various issue debug allocator,,
5935,8919c66a961507ea55d3ee46737be434679934ef,vi Kivity <avi@cloudius-systems.com>, 2013-07-11 18:19:46 +0300, , mmu fix map_file deadlock map_file take lock call read pre fault data however read may cause allocation require lock well fix faulting data dropping lock,,
5936,1ea5672fc0ba25eefdecdd792bbbf7ef3701de33,vi Kivity <avi@cloudius-systems.com>, 2013-07-11 18:15:32 +0300, , memory let debug allocator mimic standard allocator closely standard allocator return page aligned address large allocation osv code incorrectly relies fix incorrect code adjust debug allocator return aligned address debug allocator following layout header page guard page user data pattern tail guard page,,
5937,79aa5d286950fb2f599dce27c3938dc85114e3fe,vi Kivity <avi@cloudius-systems.com>, 2013-07-11 18:14:33 +0300, , virtio explicitly request contiguous memory virtio ring required virtio spec,,
5938,b15db0458e22a826b9500f679445ffc02a1f99bf,vi Kivity <avi@cloudius-systems.com>, 2013-07-11 18:12:36 +0300, , memory add api virtio hardware need physically contiguous memory beyond one page also requires page aligned memory add explicit api contiguous aligned memory allocation default allocator return physically contiguous memory debug allocator doe causing virtio device fail,,
5939,bbd2ec6fa8cfc2e9e2a7d75e55c3a61a58de2dc1,vi Kivity <avi@cloudius-systems.com>, 2013-07-10 14:58:21 +0300, , mmu adjust virt_to_phys cope debug allocation,,
5940,5bcb95d96c7de14f86c3b1f9ab8c97282d5fed86,or Laor <dor@cloudius-systems.com>, 2013-07-11 18:18:24 +0300, , move request array approach back allocation virtio_blk pre allocates request cache avoid allocation possibly unneeded optimization current allocator however take account request completed order simply reuses request cyclic order noted avi although made using peak index ring complex solution performance degradation smp due good allocator today,,
5941,1e65eb5462b01c025f55069b7ead13eb64ef7e09,adav Har'El <nyh@cloudius-systems.com>, 2013-07-11 16:18:43 +0300, , fix socket poll deadlock commit added poll_install stage poll check current state file avoid sleep file became ready managed install poll request however wrongly believed necessary put check inside fd_lock together request installation fact need lock need check happen installation call fo_poll need fd_lock even fd_lock moreover turn must fd_lock result deadlock polling socket caused two different code path taking lock opposite order fix poll took fd_lock called fo_poll called sopoll_generic took sockbuf_lock wake path sockbuf_lock taken so_wake_poll called call poll_wake take fd_lock,,
5942,8ebb16939447697d17bfa50b3f566ce81c093540,adav Har'El <nyh@cloudius-systems.com>, 2013-07-11 14:52:33 +0300, , fix hang virtio_driver wait_for_queue virtio_driver wait_for_queue would often hang memcached mc_benchmark workload waiting forever received packet although arrive part virtio protocol need set host notification flag call somewhat confusingly queue check anything queue wait interrupt order important check queue set notification flag data came check empty interrupt never sent wait indefinitely data already arrived right order host code running different cpu might see memory access different order need memory fence ensure order also seen processor patch add memory fence end function continue use wait_for_queue note add memory fence current use expected use care ordering memory access,,
5943,fd28e12d382ea4fe7503cdffc21bba763f19c078,adav Har'El <nyh@cloudius-systems.com>, 2013-07-11 14:43:49 +0300, , fix missed wakeups so_wake_poll patch fix two bug so_wake_poll caused missing poll wakeups resulting poll never wake seen hang following simple loop exercising memcached echo stats 192.168.122.100 11211 done two fix so_wake_poll decides call poll_wake see zero data packet reset sb_sel flag socket ignore next event even doe data see socket readable need call soreadable soreadabledata former add connection close event readability see sopoll_generic also set readability event case,,
5944,8d48ef436d3b0df39af5feafcc14a9e1fdcd23fc,adav Har'El <nyh@cloudius-systems.com>, 2013-07-11 13:41:23 +0300, , revert returning dor original virtio_driver wait_for_queue rewrite masked slightly different timing redundant second check waiting real bug missing memory barrier see separate patch fixing dor original code good feature waking sleep presumably already something queue check queue pessimisticly enabling host notification let use dor original code,,
5945,7ab8afa520a3c99f96788f74edb50d88a866c655,lauber Costa <glommer@cloudius-systems.com>, 2013-07-08 21:34:09 +0400, , add page_shift macro usually useful together page_size,,
5946,e0948398440c59421cb6c1f65b55b32e86106cb6,lauber Costa <glommer@cloudius-systems.com>, 2013-07-08 18:40:45 +0400, , stub mlock mlockall plan sight page anonymous memory stub may revisit support proper mmap semantics specially ranged mlock munlock,,
5947,d9aa9d6355f5edf6e284109b5cb4479125efff52,lauber Costa <glommer@cloudius-systems.com>, 2013-07-08 15:38:15 +0400, , allow null argument dlopen dlopen man page filename null returned handle main program patch exactly,,
5948,81f4242621a39c62269bb80007f6dbd8beb5afdb,lauber Costa <glommer@cloudius-systems.com>, 2013-06-27 17:21:59 +0400, , xen massage xen.cc since xen interface file bsd anyway let use readable definition instead hardcoded number duplicated string,,
5949,5da2d0223defd3d9cf729430a65756d7dd55809c,lauber Costa <glommer@cloudius-systems.com>, 2013-06-27 17:18:26 +0400, , delete xen buggy hypercall badly adapted avi argument hypercall use let delete,,
5950,bf2061fb0fee870daf04d198d7adb5500feedd28,lauber Costa <glommer@cloudius-systems.com>, 2013-07-09 12:41:09 +0400, , xen include xen file verbatim header file import plus code build.mk find,,
5951,4c1dd505a6a68172c019bf20ae797f4fbf6b05c2,adav Har'El <nyh@cloudius-systems.com>, 2013-07-10 22:04:44 +0300, , rewrite virtio_driver wait_for_queue memcached test mc_benchmark driver saw virtio_driver wait_for_queue appears bug race condition case hang waiting queue simply never return say understand bug code however instead wrote scratch different way think much clearer code longer exhibit bug put finger new version correct old one even difference ... dor maybe find difference definitely behaves differently,,
5952,0cdb5741bc59f98bb7417e3d475ba5a94f8a7e7d,or Laor <dor@cloudius-systems.com>, 2013-07-09 12:17:24 +0300, , add vhost invocation option,,
5953,350fa51899be8b39fe2271b3b68881ee9f6dd8f0,or Laor <dor@cloudius-systems.com>, 2013-07-08 14:26:42 +0300, , allow parallel execution add get _buff prevent fast path allocs virtio vring user net blk changed request header allocated run time except init order change get_buf break multiple part get top item used ring void get_buf_elem u32 len let host know consumed used entry separate get_buf_elem one cycle request header location finished upper layer void used item already read emptied within ring called add_buf separated get_buf flow allow parallelism two void get_buf_gc result simple get rid shared lock protected _avail_head variable today thread call add_buf update variable add_buf call get_buf_gc internally two new lock instead virtio net tx_gc lock rarely accessed tx_gc thread normally xmit thread virtio blk make_requests parallel request,,
5954,cc8cc19edd72d480fca9059ffe6ddd8c7961d222,or Laor <dor@cloudius-systems.com>, 2013-07-04 00:04:12 +0300, , trivial move code preparation preventing past path allocation virtio request data,,
5955,9e35c5c0913eebe896ad8c1a74ed74ce3e744a74,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-09 14:19:48 -0400, , libc import getprotobyname friend musl,,
5956,87c7f23271763907ae1a063847de59a8fb037f8f,adav Har'El <nyh@cloudius-systems.com>, 2013-07-09 13:55:16 +0300, , fix thread exit issue msleep wakeup wakeup wakeup_one dropped lock waking thread thread timed time planning wake thread imediately exited attempt wake could crash therefore wakeup need continue holding lock wake msleep time return reacquires lock ensuring return concurrent wakeup doe wake note ordinary wakeup case racing timeout negatively affected holding lock wake ing waking msleep doe try reacquire lock non timeout case additionally use wake_with instead separate set wake instruction without wake_with exceedingly rare possibility merely setting _awake true cause msleep return caller decides exit thread wake right _awake true would crash,,
5957,29d05537a424309a1bf74e9800dc0ede3334851e,lauber Costa <glommer@cloudius-systems.com>, 2013-06-26 16:09:46 +0400, , bsd stub sx_xlock aside mutex bsd always implement lock form rwlock according bsd sx.h difference rwlock implementation detail let use rwlocks declaration uglier wanted file end included code rwlock.h call condvar.h inside full sync_stub.h result condvar.h usually included extern block expected use sxlocks fine,,
5958,d2a5235e86f8fdafa077279c45b613b9c71cacc3,lauber Costa <glommer@cloudius-systems.com>, 2013-06-27 15:33:49 +0400, , if.c redefine sx_lock since compiled empty macro absense definition fine implement lock need back,,
5959,9747f66170944226a82592c91a94b5445fbec0e5,lauber Costa <glommer@cloudius-systems.com>, 2013-07-09 10:48:52 +0400, , include cdefs rwlock.h __begin_decls better practice includes always explicit rely includers include remaining needed includes,,
5960,7ecbf29fd3965602b8a54436e3778d08934014a4,adav Har'El <nyh@cloudius-systems.com>, 2013-07-09 12:01:57 +0300, , fix missed event poll patch poll problem missed event poll going sleep despite event arrived e.g. socket readable poll still sleep code buggy two place event happened poll_scan checked poll_install installed poll item lost event happened poll_install poll actually went sleep via msleep lost wakeup sent channel nobody sleeping simply ignored patch solves problem poll_install check installs locked avoid poll_wake coming middle note poll_scan beginning redundant future removed however decided leave improved performance non waiting case poll return immediately also poll need rewrite anyway based good epoll like base new _awake flag lock request structure poll_wake poll_install set way know whether received wake even calling msleep note also _awake_mutex mutex lock request structure need hold write _awake poll_wake checking _awake msleep ing poll,,
5961,534d542c84a81b3ab0d2ae703ea11c033fd0547c,vi Kivity <avi@cloudius-systems.com>, 2013-07-08 12:12:17 +0300, , percpu speed virtual address calculation percpu address calculation something like addr base var start  base per cpu base per cpu area var variable address per cpu template elf image start beginning per cpu template elf image patch simplifies calculation subtracting start base allows compute addr one addition,,
5962,571d39dd500c9c23f7eb9a20d139cce03de08778,vi Kivity <avi@cloudius-systems.com>, 2013-07-07 15:29:06 +0300, , percpu speed percpu base address calculation currently look current thread current cpu cpu percpu base vector slow speed storing percpu base thread local variable variable updated thread started migrated,,
5963,a6d7531fe40ce3869dfd3624164051eeb4be49da,vi Kivity <avi@cloudius-systems.com>, 2013-07-07 15:09:31 +0300, , build fix dependency usr.img jni need defined right point,,
5964,e3f69cf3c1f2777c96da60d8b1e31f6d96174ff4,adav Har'El <nyh@cloudius-systems.com>, 2013-07-08 15:23:03 +0300, , stub getrusage memcached getrusage implement stats request added stub implementation future implement getrusage field real,,
5965,492efb779f67d6beff8c782c6c06218196f59ab6,adav Har'El <nyh@cloudius-systems.com>, 2013-07-08 15:20:20 +0300, , include osv poll.h osv file.h include osv poll.h osv file.h needed cause mess added use bsd struct mtx poll.h turn code using osv file.h using name mtx something else removing unneeded include osv poll.h osv file.h need add include sys poll.h additional source file note include sys poll.h osv poll.h,,
5966,3c018a8fa8c4d530bf415ad68452d59e88364b6e,adav Har'El <nyh@cloudius-systems.com>, 2013-07-08 15:02:41 +0300, , trivial wake_with rename pred action avi correctly pointed called pred return boolean action let call action,,
5967,20d084f19ef9dca710349b3e6508fe272f7cbad9,adav Har'El <nyh@cloudius-systems.com>, 2013-07-08 15:01:37 +0300, , trivial get rid unnecessary undef previously necessary undef log bsd define log already renamed bsd_log ago strange undef necessary,,
5968,7e32d6aa8f3e66d75fe4fbfc2352608948154d8c,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-08 07:23:48 -0400, , bsd mark kthreads detached one going join making resource leak,,
5969,31625533d8deb416c1b7343b6f506dd0c055e30f,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-08 07:18:55 -0400, , mkzfs warn non empty zfs alternatively could remove recursive remove top level directory root seem bit dangerous build process,,
5970,13df70e67b72ac59e862134742d1744b72e7c585,hristoph Hellwig <hch@cloudius-systems.com>, 2013-07-08 07:10:13 -0400, , update readme account zfs fuse usage,,
5971,c714e257acb7ab41659663025254875f0d5ee1f3,adav Har'El <nyh@cloudius-systems.com>, 2013-07-08 14:48:53 +0300, , improve error message java.so jar print useful error message instead cryptic exception trace three case java.so jar something.jar something.jar exist something.jar exists read jar zip file something.jar exists main class field manifest,,
5972,dae261c5cd2996c87f68bd78caca1afc0403c75c,uy Zana <guy@cloudius-systems.com>, 2013-07-07 16:37:08 +0300, , test write test lockfree mspc queue.hh compare throughput change test process number element display throughput well duration test end,,
5973,08d94f139e4ee31794388fa426f2bad01d72bde9,uy Zana <guy@cloudius-systems.com>, 2013-07-07 11:40:52 +0300, , test add mpsc ringbuffer test show comparison spsc ring test ringbuffer correctness print duration run result spsc ring buffer mpsc ring buffer compared amount ring operation,,
5974,96e18aa85a2ef1f8a8224599de78956f083b4fe3,uy Zana <guy@cloudius-systems.com>, 2013-07-06 13:01:12 +0300, , lockless implement mpsc ring buffer multi producer single consumer lockless ring buffer fixed size push fails return index attempted succeeds push_to note doe fit use case since want wait push succeeds even fair since push fail reserve slot attempted,,
5975,524f71086c3ddc2c458d93ebba749b66ddcef465,uy Zana <guy@cloudius-systems.com>, 2013-07-06 13:29:01 +0300, , clock conveniently add nanotime function return current time nanosecond,,
5976,a071bed1c149da1f0aad3a591893eed7f5f9d0fb,uy Zana <guy@cloudius-systems.com>, 2013-07-06 13:27:39 +0300, , cli test command print duration test end,,
5977,3d4653e75f21cd0a93dd45a99bcb27ff408d8bc6,uy Zana <guy@cloudius-systems.com>, 2013-07-04 14:37:28 +0300, , mempool convert memory allocator per cpu new code paritions free list page pool per cpu allocation deallocations done locklessly worker item avoid problem free buffer done cpu different one allocated buffer use ring used communicating thread worker item worker item actually free buffer cpu allocated,,
5978,c19649484ae04a49abbe9d119ef7780276e57315,uy Zana <guy@cloudius-systems.com>, 2013-07-03 14:15:27 +0300, , preempt lock conveniently add preemption lock used std lock_guard with_lock,,
5979,f13e49c345a0c319f47a0f5f1cfa2b32b0941914,uy Zana <guy@cloudius-systems.com>, 2013-07-04 18:13:33 +0300, , percpu map percpu variable static elf section want use malloc percpu framework since allocator percpu design,,
5980,96ee87bae7add242cda19e3ea27cd6cc66785b2a,uy Zana <guy@cloudius-systems.com>, 2013-07-03 14:05:53 +0300, , mmu handle static variable address virt_to_phys phys_to_virt elf mapped fashion patch allows address static variable translated well needed next patch,,
5981,45e4042157cedebd9e221ee726aa9d2f00c05b6a,uy Zana <guy@cloudius-systems.com>, 2013-06-25 19:20:16 +0300, , pcpu worker add per cpu worker thread execute work item simply allows setting execution handler context specified cpu handler defined staticly compile time invoked worker_item signaled specied cpu use lock avoid unnecessary contention needed per cpu memory allocator instead creating additional thread per cpu plan define register simple handler lambda function example usage void say_hello  debug hello world  define hello_tester worker_item pcpu_workeritem hello_tester say_hello    anywhere code sched cpu invoke say_hello context cpu thanks avi adding code able copy paste,,
5982,c00f2dc180661e6945be20041341db10dbb37183,uy Zana <guy@cloudius-systems.com>, 2013-06-30 14:44:22 +0300, ," test test spsc lockless ring thread created different vcpus one consumer one producer thread pushing popping concurrently 1,000,000,000 element producer pushing random number consumer pop number thread keep track value pushed popped per value number pushed element equal number popped element ring_spsc 14.8 mop per core",,
5983,120a19d92f43c06144daa063e88934158c42dfc6,uy Zana <guy@cloudius-systems.com>, 2013-06-30 14:40:57 +0300, , lockless spsc ring buffer fixed size single producer single consumer lockless ring buffer fixed size _begin point head ring _end point tail advance forward adding item _end consuming item _begin index ring running condition empty ring different full ring empty _begin _end full _end _begin maxsize store load operation rmw,,
5984,2f6cf02fc1cc2a8562353faae167755a7e6ccae4,uy Zana <guy@cloudius-systems.com>, 2013-07-07 16:34:39 +0300, , arch add macro,,
5985,506c464223f6eebcdab62b22a2ac1e8289b384ea,adav Har'El <nyh@cloudius-systems.com>, 2013-07-04 18:07:12 +0300, , fix misalignment bug lock free mutex_t lockfree mutex type heavy char static assertion verifying indeed correct size quite correct mutex contained another structure char come anywhere lockfree mutex type start pointer compiler add padding ensure byte alignment pointer serious bug code used structure containing mutex example struct ifqueue if_var.h language thought mutex positioned different place inside structure causing attempt access mutex different address offset byte instead char mutex union char achieve desired size void achieve desired alignment static assertion verify indeed result alignment size object,,
5986,40afd5b503487bfc764df0f588b3b47fa5de57e5,adav Har'El <nyh@cloudius-systems.com>, 2013-07-04 18:04:17 +0300, , trivial used relaxed memory ordering lockfree mutex owned reason anything relaxed memory ordering touching memory function owned expected synchronize access memory,,
5987,18beb1b6651bc80d437459d0b99986c5c0cc4a76,or Laor <dor@cloudius-systems.com>, 2013-07-03 17:13:14 +0300, , trivial get rid sglist entirely,,
5988,ddef97f6d721bd812f9082f52d384d70e23b901e,or Laor <dor@cloudius-systems.com>, 2013-07-03 17:25:59 +0300, , sglist virtio usage refactore use single instance per queue vector sglist data patch sglist implemented std list caused allocate heap memory travel pointer use single vector per queue temoprary keep buffer data upper virtio layer lower one,,
5989,481f4ebd9416889f697cff553c68f11f7947df9a,or Laor <dor@cloudius-systems.com>, 2013-07-03 17:18:41 +0300, , trivial code movement preparation sglist change,,
5990,a90a024af7afef81c5630841c75c0d4e130af191,adav Har'El <nyh@cloudius-systems.com>, 2013-07-04 17:53:06 +0300, , fix typo bug lockfree mutex try_lock could seen department bring following bug try_lock last attempt try get handoff concurrent unlock take lock obviously handoff variable set non zero typo checked handoff instead handoff took non existant handoff possibly got lock someone else still holding bug especially visible java try_lock lot monitor implementation spin try_lock lock giving spinning visible tst mutex.cc test try_lock,,
5991,3432dc6eee7419193afee98e1cf100f53689533d,adav Har'El <nyh@cloudius-systems.com>, 2013-07-04 17:46:48 +0300, , add assertion lockfree mutex unlock assert unlock done mutex locked thread helped catch couple nasty lockfree mutex bug see next patch think good check least  previously avoided assertion thinking significantly impact performance seems big impact least benchmark tried future perhaps mechanism disable assertion release build,,
5992,7b91c1e90a7e9d26f0851987516a10942821cb57,adav Har'El <nyh@cloudius-systems.com>, 2013-07-04 17:41:57 +0300, , add sigignore function add simple sigignore function obsolete system day memcached exists doe exist linux,,
5993,d7af14162b249a7d268881883538dca2b60e5959,lauber Costa <glommer@cloudius-systems.com>, 2013-06-28 13:34:57 +0400, , bsd xenbus original file,,
5994,df37a640da293ba01730a57f68400e4d865592a0,lauber Costa <glommer@cloudius-systems.com>, 2013-06-26 16:21:46 +0400, , bsd original gnttab file included separately easily diff change,,
5995,1a67d9272916546b0a596614a9b4efd421770117,lauber Costa <glommer@cloudius-systems.com>, 2013-06-26 16:19:29 +0400, , bsd xenstore file unmodified bsd xenstore file including separately easily diff modification,,
5996,37008a2b9bfdd96e21aba7715fadc4dd32af7e85,or Laor <dor@cloudius-systems.com>, 2013-07-03 10:44:50 +0300, , add virtio_kick trace point,,
5997,8bbb7d26274fdaace05db7a15ca81992ab32cfdf,or Laor <dor@cloudius-systems.com>, 2013-07-03 09:27:06 +0300, , use right memory barrier accessing used data guest read used pointer must make sure relevant writes descriptor host date direction guest update ring get_buf write used_event make descriptor change visible host,,
5998,723e8efc58870c2da3c42e4512b3108877bf76b3,or Laor <dor@cloudius-systems.com>, 2013-07-03 09:19:51 +0300, , use nullptr instead,,
5999,6a323929038ef5436b0ea230f6ac9c70a399b18f,or Laor <dor@cloudius-systems.com>, 2013-07-01 18:10:20 +0300, , reduce singifincantly amount interrupt instead enabling interrupt host single used pkt ring wait ring improves amount irqs one per pkt practically zero note actively call tx_gc place ring performance boost netperf test,,
6000,be462b48648b87e9764bee49c2c78fbcd8574caa,or Laor <dor@cloudius-systems.com>, 2013-07-01 13:39:01 +0300, , convert avail._idx std atomic variable result get rid compiler barrier call since use std atomic load store instead,,
6001,4f7085d493f039ac18418d843727184a744067ed,or Laor <dor@cloudius-systems.com>, 2013-07-01 13:39:00 +0300, , use std atomic load share guest host index,,
6002,26ef8e21ab40668f3671b0e2daba7f1ce816674b,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-19 11:50:46 +0200, , create zfs filesystem usr,,
6003,9796da74942dd9667f512281d2ff001b91927e51,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-26 13:46:58 +0200, , tst zfs mount test reading file,,
6004,8694f457ead133c88a96aa13937c4f4f24923bdc,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-26 13:36:15 +0200, , zfs wire vop_read,,
6005,497c2b9c3e21356d0501f7d0edb1c5d60fddece1,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-27 12:59:12 +0200, , zfs add missing zfs_exit zfs_lookup currently stub really matter let stick code convention,,
6006,69a62f03fd1715c547886c62d37541231c0a2f9a,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-27 12:58:34 +0200, , zfs handle fully constructed vnode zfs_inactive get lookup fails,,
6007,7a6b8963884ccd4a7f93c11dfb4610585fd63ece,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-27 13:02:34 +0200, , libc use readdir way multiple thread use readdir time safeláº required posix glibc common implementation work way,,
6008,6c8a21ad570d68b4b3437fd9a9d9b3046d6e64d6,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-27 13:02:02 +0200, , libc return proper error readdir_r,,
6009,2bd91d7fcb0701858c4bd669c98b8f0160fd3be8,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-27 13:01:14 +0200, , vfs set errno ll_readdir readdir_r want errno set readdir doe already,,
6010,2689d43de40c018e8de740aedb8b0499c2ee590b,adav Har'El <nyh@cloudius-systems.com>, 2013-07-02 13:42:02 +0300, , implement __vsnprintf_chk __vsnprintf_chk used glibc know size buffer verify size parameter given vsnprintf overflow buffer unfortunately happens used libevent.so used memcached,,
6011,81b22cd6a053607eb5593bc9a9b13fe33be8af57,adav Har'El <nyh@cloudius-systems.com>, 2013-07-02 12:58:59 +0300, , fix msleep timeout bug msleep woken timeout wakeup would leave wait record pointer structure stack _evlist wakeup wakeup_one next called find structure stack point random garbage even unmapped area thread exited bug caused easy reproduce crash memcached fix case timeout reacquire lock remove thread _evlist still might longer timeout wakeup raced,,
6012,ef155e5a6ac8b73032ce0c9c5e95d07aa3bcfc5d,vi Kivity <avi@cloudius-systems.com>, 2013-07-01 18:23:12 +0300, , merge branch sched2 timer based thread preemption,,
6013,0a2cc13e696273b4c7a3cd551012fb6dd3028779,vi Kivity <avi@cloudius-systems.com>, 2013-06-27 16:58:26 +0300, , sched reduce eager timer rearming thread schedule time slice expires due blocking made runnable scheduled back scheduler update preemption timer first cancelling possibly setting another thread setting original thread usually new expiration time later original context switch intensive load cause lot timer arm fairly slow reduce amount arm remembering last expiration time set new expiration time come time bother rearming timer instead expiration already set timer recalculate expiration time set new expiration time reduces timer arming greatly speed context switch back performance preemption patch,,
6014,3b7ede7d1e8698a50740447106192cc864515239,vi Kivity <avi@cloudius-systems.com>, 2013-06-27 13:04:34 +0300, , sched initialize borrow reset future context switch best start clean slate,,
6015,a56b258e80fdeb1217ceb404a5684211c126f69d,vi Kivity <avi@cloudius-systems.com>, 2013-06-27 13:03:47 +0300, , sched initialize idle thread vruntime make sure start high see needle context switch startup,,
6016,56c55def5257dc966a109e850d9d5eacb6043f5c,vi Kivity <avi@cloudius-systems.com>, 2013-06-27 13:03:20 +0300, , sched add vruntime sched_switch tracepoint,,
6017,0d1606ce1c21bd1fffb7b3aa679eee3e5f64e55a,vi Kivity <avi@cloudius-systems.com>, 2013-06-27 13:01:35 +0300, , sched preemption timer switching new thread new thread queued calculate vruntime difference set timer point time need context switch change make tst fpu.so thread run completely parallel,,
6018,4723a5927c023471c9295009cfb11fae40a5a5f3,adav Har'El <nyh@cloudius-systems.com>, 2013-07-01 17:11:42 +0300, , elf allow using prelinked library patch allows use shared library copied linux even already underwent prelink modification without patch prelinked library used one library function e.g. malloc address would correctly calculated call made random address crash detail problem fix using function shared library call .plt function make long story short jump address written .plt.got entry function normally existing code expected .plt.got entry initialized point second instruction .plt function jump call linker look function allows lazy symbol lookup lookup next call plt function jump right function address immediately prelinking change prelinker look symbol fill .plt.got address assigned function library address make sense context osv system besides one prelinker ran use instead need overwrite link .plt function,,
6019,6085ca371f61040a3ec3ffcc55c466f9b32e5c27,vi Kivity <avi@cloudius-systems.com>, 2013-06-27 12:57:34 +0300, , sched adjust timer expiration clock running change condition expiration allow exact match current time timer expiration time help scheduler keep going clock still running system startup ideally depend detail fixing complicated,,
6020,5c96e31cb42727d8a4c2e905a8fbe8849e16b294,vi Kivity <avi@cloudius-systems.com>, 2013-06-27 12:06:19 +0300, , sched stop vruntime overflow idle thread set idle thread vruntime maximum possible ensure lowest priority cause overflow add idle thread running time detect overflow prevent,,
6021,667cec203eb094abe7f7eccce5a3a9f46f314b7e,vi Kivity <avi@cloudius-systems.com>, 2013-06-27 11:43:15 +0300, , sched simplify vruntime currently running thread since vruntime need advanced scaled running time thread start running subtract start clock value stop add stop clock value end result add running time work make code readable since meaning _vruntime drastically different running thread vruntime minus reading clock point past simplify instead keeping start time separate field running_since note _vruntime running thread still subtly different stopped thread since need add delta time,,
6022,5f63b5f66ababa0a550c1ed382b5d3914ae6c57f,vi Kivity <avi@cloudius-systems.com>, 2013-06-26 18:16:40 +0300, , trace fix early function tracer faulting kvmclock kvmclock work scheduler fully initialized work around,,
6023,667e1c107f8faa6f71b70b7620d3b902abf9c849,vi Kivity <avi@cloudius-systems.com>, 2013-06-26 13:07:43 +0300, , sched set thread current new thread earlier currently current set thread initialization sequence mean preemption prior point see wrong current irq_enable effective since interrupt disabled place early smp bringup trivial disable interrupt new thread,,
6024,472731b9f5dc6fecd79155ca930c14b37481b7e3,vi Kivity <avi@cloudius-systems.com>, 2013-06-26 13:06:27 +0300, , sched add interface access thread local variable another thread useful setting important thread local variable s_current since quite specialized kept private moment,,
6025,802d3633d25f33fa46f4a93d784b8bd30b566563,vi Kivity <avi@cloudius-systems.com>, 2013-06-26 18:11:23 +0300, , sched late initialize idle thread currenly initialize idle thread cpu constructor lead cycle since thread initialization need cpu work somehow fragile break succeeding patch defer idle thread initialization later stage,,
6026,f5ce13888638fd1e48f98290999c2d5ae2d526ef,vi Kivity <avi@cloudius-systems.com>, 2013-06-26 15:11:54 +0300, , sched allow timer modified interrupt disabled context scheduler,,
6027,2e448a64a4f1d70eece1df5ffc2dff1a9d501d2e,vi Kivity <avi@cloudius-systems.com>, 2013-06-26 15:06:11 +0300, , mutex avoid disabling interrupt spinlock disable interrupt spinlocks way disabling preemption since preemption spinlock held lead deadlock however restore interrupt flag previous state end inadvertantly enabling interrupt lock taken interrupt disabled first place fix switching preempt_disable instead disabling interrupt since spinlocks used debug code matter much,,
6028,695375f65303e13df1b9de798577ee9a4f8f9892,vi Kivity <avi@cloudius-systems.com>, 2013-06-26 15:03:52 +0300, , sched start preemption disabled usually care thread started preemption enabled disabled since interrupt disabled preemption take place thread startup however system bringup want avoid call scheduler initialized due stray preempt_enable call initializing preempt_counter dropping thread start,,
6029,073dc61247f7fa139fbca503cc6684c186ba42c8,vi Kivity <avi@cloudius-systems.com>, 2013-06-25 12:15:56 +0300, , clock change time type s64 easier compute delta limit range 292 year,,
6030,10690891a019d94c88c54b3724d452028639584b,vi Kivity <avi@cloudius-systems.com>, 2013-06-25 11:49:49 +0300, , sched add tracepoints timer,,
6031,786a576e06e4c2b6ce1834afeefee4ce751e9415,vi Kivity <avi@cloudius-systems.com>, 2013-06-25 11:34:37 +0300, , sched divorce timer thread want use timer waking thread case scheduler time slice need remove internal dependency timer class split timer_base doe work timer preserve original timer interface timer related part class thread split new class timer_base client thread inherits,,
6032,3d7687890970b0b22cc1eaa3d4b371e6d6a7b709,vi Kivity <avi@cloudius-systems.com>, 2013-06-24 17:10:20 +0300, , sched fix timer state machine timer currently two state expired expired cancel distinguish armed expired timer timer never armed using set probably crash fix adding state timer three distinct state free armed expired corresponding timer life cycle,,
6033,b81a47a5c56c5c2f970d11a079303e7fc2d52965,vi Kivity <avi@cloudius-systems.com>, 2013-06-25 14:26:33 +0300, , x64 add separate interrupt stack make easier debug fault happen interrupt e.g scheduler note mean schedule within exception e.g page fault since exception stack per cpu interrupt stack per thread allow scheduling implement scheduling within page fault handler either need trampoline interrupt stack per thread exception stack,,
6034,801e2b4da6d6bc7728eba070f78a11c27f073e69,lauber Costa <glommer@cloudius-systems.com>, 2013-06-27 17:28:36 +0400, , xen import bsd file xen interface import whole xen interface.h directory disk space cheap going file seeing need,,
6035,26e046a34597aae5064ef45ef32fae3aefe5ddb4,or Laor <dor@cloudius-systems.com>, 2013-06-30 01:08:19 +0300, , implement event index virtio optimization optimization improves performance letting side ring know last index read remote party case side older index waiting processing trigger another update kick irq depending direction optimization reduces irq injection along way collapse vring need_event code use std atomic access variable shared host,,
6036,ef270ea42de60e4c90e00e41fdef99cae42aa573,uy Zana <guy@cloudius-systems.com>, 2013-06-25 13:10:58 +0300, , mempool remove undefined member function pool free_object,,
6037,7736d91baf83948264f344f0dc70c83fd6b098ae,uy Zana <guy@cloudius-systems.com>, 2013-06-25 12:10:27 +0300, , malloc free add tracepoints debugging purpose,,
6038,5c21ca267a392ccf1d3819b53b3d6c0b41ca8cdc,uy Zana <guy@cloudius-systems.com>, 2013-06-27 19:31:29 +0300, , gdb add convenient logtrace dump tracepoints file,,
6039,0f32a2f697c41caa59894afd0cae90e9e94af481,uy Zana <guy@cloudius-systems.com>, 2013-06-27 18:54:33 +0300, , cli.js cast command line argument string mainargs string set java see rhinocli.java command access element array fail string java string javascript string patch perform proper cast init invoking command also possible start test command line like sudo script run.py java.so jar java cli.jar test test name m1g,,
6040,dc8114dd654d05bf51b7b5dcde0b70f88454b42b,vi Kivity <avi@cloudius-systems.com>, 2013-06-30 16:12:45 +0300, , cli add ability run command background example test foo,,
6041,c6399e552ae40578dbeffe0882fecf0292dcf85d,adav Har'El <nyh@cloudius-systems.com>, 2013-06-30 09:26:10 +0300, , stub getpwnam setuid setgid implement getpwname setuid setgid simplest way possible considering support userid except getpwname return user username given setuid setgid doe nothing uid gid otherwise fails would caller get anyway memcached need call want clever warn user running root ....,,
6042,1ca1bd430e2a015edaeaf98fbde5ed1ce56d8ca6,adav Har'El <nyh@cloudius-systems.com>, 2013-06-30 09:23:51 +0300, , libc implement signal implement signal function hardly useful function osv first signal support pretty broken second sigaction much portable api always preferred nevertheless memcached signal catch sigint never get osv ... let implement sake completeness,,
6043,642acc9008d4a37720192cc83c9be41ec5499483,adav Har'El <nyh@cloudius-systems.com>, 2013-06-30 09:22:12 +0300, , epoll use tracepoints remove debugging message replace debug message epoll useful tracepoints,,
6044,89e12d88244a1e4e523108ac567e843b904b19f6,adav Har'El <nyh@cloudius-systems.com>, 2013-06-30 09:17:55 +0300, , epoll make epoll poll event conversion explicit epoll poll use different event name e.g. epollin vs. pollin practice bit identical make conversion explicit add static_assert bit indeed identical still dynamic assert bit support epollet edge triggered behavior epolloneshot used patch make code cleaner change anything behavior,,
6045,71be883c7887ef4c6a718e87ddeafe6d5898fb0b,lauber Costa <glommer@cloudius-systems.com>, 2013-06-26 17:12:13 +0400, , bsd provide correct number ncpus comment state mp_ncpus number cpu system maximum number cpu currently grab smp_processors variable audited code current user though found two place used maximum number cpu changed maxcpu,,
6046,c7c456e9f91b83ec881e416ae133bc97022c6e3e,adav Har'El <nyh@cloudius-systems.com>, 2013-06-26 14:40:50 +0300, , fix build error change lockfree mutex use protected instead private allows tst mutex extend mess internals want modify count benchmark rare handoff case sorry build error,,
6047,e3ee4238a6899eb5f89859c7e4599a1301f248f1,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-26 12:55:23 +0200, , fix condition zfs mount test,,
6048,68798cd402294f01e68b450756b296291be320bd,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-26 10:00:12 +0200, , populate zfs test,,
6049,6b184e035abb44f6d13c7984a3caf69363ccea89,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-26 12:52:57 +0200, , zfs implement vop_inactive,,
6050,b7ee91ef3d6578e4ddd9b97a36d0bc3bb83756b1,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-26 12:44:58 +0200, , zfs port vop_lookup way lookup work osv different solaris freebsd already get preallocated vnode passed thus code also different basically vnode operation entirely different implementation thus even try keep code also leave support thing like case insenstive lookup extended attribute might never supported least look different,,
6051,3651135afa1bc4b1c45c058dfda55f528a658c68,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-26 12:44:12 +0200, , vfs add helper table convert mode_t vnode type,,
6052,70583a582aaa0150bca28d7738ceb5636b7a066f,lauber Costa <glommer@cloudius-systems.com>, 2013-06-13 20:55:15 +0400, , xen implement paravirtual clock driver xen unlike kvm use percpu variable xen already lay statically shared info structure includes vcpu info pointer cpu could theory use percpu variable store pointer current cpu vcpu info ended giving route since pcpu implementation overhead computing address anyway may well pay price compute directly xen shared info one thing come compute precise timing using xenclock early since much early unclear kvm need improved regard probably becomes slight bonus,,
6053,881345d2a630080923819c08cebeb028c877f500,lauber Costa <glommer@cloudius-systems.com>, 2013-06-13 20:00:15 +0400, , kvmclock move pvclock definition common header designer kvmclock wrote way abi compatible xen pvclock reuse structure let,,
6054,4317c8c49bdd107d8c5e0ea38ba083766e8e0dad,lauber Costa <glommer@cloudius-systems.com>, 2013-06-24 21:09:05 +0400, , kvmclock disable preemption time pre computing wall clock need preemption disabled system time calculation,,
6055,4a60f45673a831316e0ece7f6960c6ca718e9e7f,adav Har'El <nyh@cloudius-systems.com>, 2013-06-26 12:49:42 +0300, , lockfree mutex fix tracepoints type tracepoints lfmutex.cc referred type mutex outside lockfree namespace lockfree_mutex disabled osv mutex.h mutex alias lockfree mutex doe compile move tracepoints inside namespace use mutex got right one,,
6056,bf5114ee01ac5b14e1095be49bc55b2d9edf5acc,adav Har'El <nyh@cloudius-systems.com>, 2013-06-26 11:13:44 +0300, , improved tst mutex bunch improvement tst mutex add another mutual exclusion test case asserts benchmark handoff corner case,,
6057,789f0419530d324b666bd4cb7f902061bd307c04,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-25 14:39:51 +0200, , tst zfs mount open read root directory,,
6058,7f3cdb76ec5e54e9c09c74746021e10425158405,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-25 15:05:17 +0200, , zfs implement readdir,,
6059,d3612f50f50d6c8be5b29179e9eda7962f303fab,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-25 15:05:03 +0200, , zfs port,,
6060,c9b3b8b24bf7ff6ef5bf05b9943f67f8fd107672,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-25 14:37:49 +0200, , zfs read root znode mount,,
6061,fce9974538fd984627f9ecdcf008fc75b368a3c6,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-25 14:32:47 +0200, , zfs enable znode lookup bit different freebsd already differs solaris vfs generally already allocated vnode around,,
6062,586abd8c506787cbc3edbd57440e1763378cf5b7,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-25 13:06:39 +0200, , zfs wire minimal vnode operation,,
6063,28708acbc902cbdf1470078283b9da90508a3b83,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-25 14:32:16 +0200, , solaris implement vfs_hold rele,,
6064,8001009bf1bb8996efb9b75bca6527cdca35ad34,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-25 14:31:55 +0200, , vfs move vfs_busy unbusy osv mount.h,,
6065,88d39cb7a2e7f264b3e77b893c6db526f0ec7ce8,lauber Costa <glommer@cloudius-systems.com>, 2013-06-25 12:37:22 +0400, , xen negotiate usage xen pci xen defines protocol defining whether driver available hvm guest upon successful negotiation documentation state relevant emulated device disappear relevant bus guest operating system want device enumeration happens patch basically follows protocol store result future usage see doc misc hvm emulated unplug.markdown,,
6066,a8b8cf063e7c5f1edfa3997380c2ee89184fe8fc,lauber Costa <glommer@cloudius-systems.com>, 2013-06-25 17:39:44 +0400, , buildfix pvclock xen definition,,
6067,043b4a31a7c8ae476f938b3049715b83dce2c554,lauber Costa <glommer@cloudius-systems.com>, 2013-06-25 18:20:30 +0400, , revert buildfix pvclock xen definition reverts commit,,
6068,dae995899f4341db2fe64e715bbe9e995852b457,lauber Costa <glommer@cloudius-systems.com>, 2013-06-25 17:39:44 +0400, , buildfix pvclock xen definition,,
6069,0c8f8f895d25aa05304dca532b202cf6b96cae3d,lauber Costa <glommer@cloudius-systems.com>, 2013-04-18 18:48:21 +0300, , xen lay detection basic infrastructure xen information variety msrs need test figure lay information want determine xen initalization code ready executed need run early possible xen driver make use one way another hypercall code heavily inspired aka mostly copied avi xen tentative patch argument hypercall removed delayed need signed glauber costa glommer cloudius systems.com,,
6070,a07d8bd1880cdb13d72dbd1aa6fd8cbb32816c61,lauber Costa <glommer@cloudius-systems.com>, 2013-06-13 20:04:09 +0400, , kvmclock wastefully compute wall time every clock measure pretty sure kvmclock set wall time write msr point keep calculating every time call system_time changing const function may call future ever suspend like using pre computed value enough signed glauber costa glommer cloudius systems.com,,
6071,9fe8d6778e86b7b28ca871906de63190fba5d807,lauber Costa <glommer@cloudius-systems.com>, 2013-06-24 12:03:03 +0400, , loader skip reading disk error serious issue like simple read method attempting right loader keep reading disk reach pre determined max size however disk usually smaller case xen dmesg log filled message indicated trying read invalid lbas point making log useless although annoyance minor patch minor nobody opposes apply signed glauber costa glommer cloudius systems.com,,
6072,9b1816c5bb93572340e1002b17e2f95d56087faa,adav Har'El <nyh@cloudius-systems.com>, 2013-06-25 09:22:30 +0300, , fix epoll bug event revents field poll structure need set calling poll,,
6073,183c656c8cdd406916fb5cc34e41224ca8321b65,adav Har'El <nyh@cloudius-systems.com>, 2013-06-25 09:12:26 +0300, , add epoll test add tst epoll.cc testing epoll_ function test find bug fixed separate patch,,
6074,6b936f1f57e5b32c225c912e25f2ff34584b2f90,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-20 13:29:04 +0200, , add script generate zfs pool host,,
6075,a014131cacb67ca951916c87185c8ed3c5242072,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-24 13:05:27 +0200, , add zfs mount test wired yet due problem creating zfs host,,
6076,dc62739f1b99f08c92f99ba30dbd41ea72ff1ca6,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-24 12:50:27 +0200, , zfs wire mount,,
6077,f85f721879367ce9664ed701edcad5579faccf4d,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-24 12:38:49 +0200, , zfs build range lock code,,
6078,b16e4bedee0e0fc3c2109dbfd6bb6e81d2f28818,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-24 12:32:22 +0200, , zfs use proper typing log replay function,,
6079,670d68b9d6671fc2bd736191d05bf0cb4d75062a,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-24 08:44:46 +0200, , zfs implement sync statfs,,
6080,910408da07018e61968f85e6310cbafe456b7a3e,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-24 08:43:59 +0200, , zfs disable zfs_enter zfs_exit,,
6081,cdc7ec2e8b11edbb782077e01eb5b78db5304f2a,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-24 12:42:26 +0200, , solaris fix sys extdirent.h compilation,,
6082,055829cfd9f603829927f0c268dd866708f905a6,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-24 12:42:11 +0200, , solaris provide stub vn_rele_async,,
6083,17f62d2151505c2557a80366d275c41372f6d973,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-24 12:35:49 +0200, , solaris fix compat sys dirent.h,,
6084,12094d2c414049ae394da3975d3d0f4066ce8d82,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-24 12:25:30 +0200, , solaris add sys namei.h stub,,
6085,acf4637773a704cf907a771e1b29c25e5bc80f32,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-24 12:24:54 +0200, , solaris add sys fcntl.h stub,,
6086,60f45d4d880aa12446fbfc28c1a707a9cbb0b46e,adav Har'El <nyh@cloudius-systems.com>, 2013-06-24 14:54:55 +0300, , fix join hang bug issue patch solves issue join hang seen tst mutex thread remaining terminating state problem complete assumed _cpu nullptr could overwrite current thread usually true switch thread handled problem switch new thread sched init call switch_to_first code doe run thread quickly terminates _cpu get overwritten instead handled simplest workaround patch simply handle i.e. call unref previous _cpu overwriting downside approach termination thread may delayed run time first time slice new thread anyway plan eventually replace termination mechanism see issue think solution fine,,
6087,0f9b64cb71915a7532c011fd219b1335f891ecd0,uy Zana <guy@cloudius-systems.com>, 2013-06-23 19:37:20 +0300, , lfmutex add tracepoints debug purpose,,
6088,0e21676c605043f64275832e41c538d035f06146,uy Zana <guy@cloudius-systems.com>, 2013-06-24 12:25:45 +0300, , run.js fix argv handling use string java command starting cli using run command specifying run.py argument work due cast problem run expected nativearray previousely work sudo script run.py java.so jar java cli.jar run tool netserver osv m1g,,
6089,c58cd186692335c13c230d01d514012b575d62ec,or Laor <dor@cloudius-systems.com>, 2013-06-24 10:32:44 +0300, , revert netperf supposed local commit reverts commit,,
6090,f9d059296da6a6e6708433ba1be1df69427367f4,or Laor <dor@cloudius-systems.com>, 2013-06-24 10:26:52 +0300, , remove duplicated virtio bit definition  defined virtio.hh,,
6091,ccaad30cfb45bc7f5dce458e848c216e8e1be559,or Laor <dor@cloudius-systems.com>, 2013-06-23 17:06:41 +0300, , netperf,,
6092,ea63416bc937294cbf5170a1eabb6fc067620140,adav Har'El <nyh@cloudius-systems.com>, 2013-06-23 22:04:56 +0300, , remove redundant assignment tst condvar need assign condvar initializer object initialized default anyway,,
6093,7b82d24146b40a9a4ceb3f97480a9f01c9027fa2,uy Zana <guy@cloudius-systems.com>, 2013-06-23 19:25:35 +0300, , fix crash use deleted callout callout deleted properly deleted set callouts next line run also saved local variable waiting timer expire could run despite deleted shrew test http server see bug exposed bug every usually quickly socket deleted crash callout referring deleted socket run thanks guy finding fixing bug signed nadav har nyh cloudius systems.com,,
6094,1483deb5e7db314f3113a4d6fddf33755eb30f62,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-21 14:18:36 +0200, , zfs implement osv,,
6095,1c2f6592c7bb80805ed00d364dfb08120fd476b2,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-20 13:29:32 +0200, , zfs fix return value,,
6096,433320e502d14b2af35df36da7509991f2ef3a32,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-19 14:44:38 +0200, , zfs fix,,
6097,6e099f6c1fb928869c864ed5a4e379f84c04f527,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-19 14:26:13 +0200, , zfs use corrct device name device_open vdev_disk_open,,
6098,698d9067d498c1d6d5465c398dbc3645bdf32962,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-21 13:48:14 +0200, , solaris make sure nvpair code pick byte order defintions,,
6099,a4a0f9fb0d3a1039c4058d23f6aef888c7347cd4,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-21 13:53:05 +0200, , solaris fix byteorder.h behave correctly without endian.h pick byte order defines addition solaris also single underscore prefixed version defines instead common non double underscore prefixed one,,
6100,0b0fc5df75e58c9166603d9b39a56701021bf8cd,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-20 13:30:09 +0200, , solaris remove incorrect endianess defines,,
6101,8c7d6bfb6955710490a6db9484ed2b57f6f36b01,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-19 14:22:17 +0200, , virtio blk fix size type,,
6102,96ee424943b108f4bbe9f196df95fad9e76c4599,adav Har'El <nyh@cloudius-systems.com>, 2013-06-23 10:17:55 +0300, , sched solve thread completion destruction race code serious bug thread completion thread complete i.e. finish work wake thread join joiner thread turn deletes completed thread stack rare occasion wake slow joiner thread quick deleting thread leading crash return retq wake stack running deleted patch includes simple effective fix bug add new per cpu field cpu complete longer call unref thread unref ing caused bug instead complete set current thread scheduler cpu switch next thread call unref thread specified know safe thread longer running fix seems simple effective crash apparent tst wake sunflow benchmark seem gone far tell biggest downside extra every context switch possible devise different solution without cost extra solution complicated require lot code change add bug tracker entry documenting,,
6103,6278271af5783ca6b130386d37991f033aa006d9,adav Har'El <nyh@cloudius-systems.com>, 2013-06-23 09:52:36 +0300, , move two todo file bug tracker,,
6104,e0355a8e891ab62e71157637db42c3856467ee81,uy Zana <guy@cloudius-systems.com>, 2013-06-20 19:41:01 +0300, , virtio respect host virtqueue notification suppression tell host disable interrupt via _avail ring host tell supress notification via _used ring every notificaion kick consumes 10ns implemented writing port travel usespace qemu host simple patch increase netperf throughput 600 300mbps 1800mbps,,
6105,4ff04bd17be39abeb1709c20817794ed6b289f75,uy Zana <guy@cloudius-systems.com>, 2013-06-19 19:35:31 +0300, , virtio fix wrong size register access,,
6106,5b7516121414d4662e38204ab570a45077e2cfd2,or Laor <dor@cloudius-systems.com>, 2013-06-19 18:04:15 +0300, , limit usage indirect buffer indirect good large list required case enough place ring list tiny time barely use set default,,
6107,d487ffd199d9793591c9dc2ba00d099f57a215b7,or Laor <dor@cloudius-systems.com>, 2013-06-19 17:48:56 +0300, , add mergeable buffer support virtio net feature allows hypervisor batch several packet together one large list header received guest routine interates list assembles mega mbuf patch also simplifies path using single buffer virtio data header shrink list size two single one issue moment seen packet mbuf received linux guest doe receives packet may due use offload feature enalrge packet size,,
6108,6af9f16d54d8e32cf734b8b1a3c22e358728892f,uy Zana <guy@cloudius-systems.com>, 2013-06-18 13:30:16 +0300, , rwlock initial implementation rwlock rwlock give precedence writer relies mutex condvars implementation also support taking lock recursively reader writer implementation fully tested yet tcp stack extensively far without seen race tested tcpdownload netperf,,
6109,8536721b1c4c13a86b797b267e0b6a010cbcedd5,uy Zana <guy@cloudius-systems.com>, 2013-06-18 13:31:10 +0300, , bsd avoid using extern file much cleaner header file perform extern included code extern file __cplusplus also defined compilation break situation bonus patch increase compilation time,,
6110,bdd2b6565c66103f62fd719e6fb37fac485564de,adav Har'El <nyh@cloudius-systems.com>, 2013-06-19 15:29:58 +0300, , bsd netport rename log bsd_log netport.h defines log macro unfortunate choice name log also pretty well known mathematical function rename macro bsd_log change dozen file used log use bsd_log,,
6111,ec2e5ebce473d05c68c49c75e3bbc4eb53c0b34c,adav Har'El <nyh@cloudius-systems.com>, 2013-06-19 13:55:46 +0300, , console implement fioread java available requires fionread fds implement seek need support ioctl console,,
6112,b4670b9c8a0c139581fab85f2d14fb278c5d3210,adav Har'El <nyh@cloudius-systems.com>, 2013-06-19 13:51:06 +0300, , lock free mutex use wake_with use new wake_with lock free mutex,,
6113,43e34bbf93ad9e32a8d688817d8ae08880c0ab4f,adav Har'El <nyh@cloudius-systems.com>, 2013-06-19 13:29:01 +0300, , condvar improve wake performance maintaining correctness commit crash could seen tst pipe.so apparently test condvar code path tested tst condvar.so fix commit condvar_wait regain condvar internal lock wait even needed really needed case timeout masked bug see detail also deteriorated performance woken thread often back sleep wait lock still held condvar_wake patch reverts commit i.e. condvar_wait doe retake lock woken instead fix real bug bug  sched thread nullptr wake newer wake longer valid waiter woken would quickly exit condvar_wait function held stack however taking lock wait also another potential bug rare case merely nullptr cause thread start running stop waiting also exit call wake refer invalid thread may crash need use new wake_with thread method introduced previous patch,,
6114,d0b56169a0ee1455896d415d03bea2601c5873cb,adav Har'El <nyh@cloudius-systems.com>, 2013-06-19 13:10:43 +0300, , tst wake test wake_with added test wake_with try ensure problematic case solved wake_with actually happens quickly spin long time setting flag wake spurious wake ensure waiting thread woken right setting flag intended wake use mprotect ensure working already join thread crash immediately instead maybe crashing test fails wake_with use ref unref succeeds full wake_with tst wake contains second test doe thing without additional measure used show bug spinning spurious wake mprotect without additional measure test iteration much faster allows stress wake join much,,
6115,f99c5ccc799c847495dffa5a07df5dfb5318e571,adav Har'El <nyh@cloudius-systems.com>, 2013-06-19 13:02:55 +0300, , sched thread wake_with wake wait_until use wait_until e.g. wait_until return used bunch place code including condvar following obvious idiom wake  wake doe right thing almost situation still one rare possible scenario wrong problem first line may already cause wait_until return happen wait_until yet check condition sleeping rare coincidence got woken spurious interrupt time consider case waiting thread decides exit wait_until ... cause thread exit want wake thread longer exists statement crash patch add two new thread method ref increment counter preventing thread destruction matching unref method correct way wake wait_until ref  wake unref patch also add one line shortcut line syntax mirroring wait_until wake_with ref unref method marked private encourage use wake_with also allow wake_with future optimized avoid calling ref unref needed example thread cpu current thread merely disabling preemption fast operation prevents thread running exiting ref unref necessary unfortunately patch solves one bug doe solve two additional bug existed continue exist patch thread completes see thread complete wake thread waiting join one join deletes thread stack problem timing right wrong joiner thread may delete stack complete still running stack cause crash join race thread completion possible thread think nobody waiting notifies nobody time join start wait never woken added two fixme remaining bug,,
6116,0c8ef37c6841263f69ee81f4112bea4792aa9c74,adav Har'El <nyh@cloudius-systems.com>, 2013-06-19 11:40:10 +0300, , crash lseek non regular file lseek crash used pipe socket also console underlying vnode reason assert case return espipe like linux doe pipe socket ttys similarly fsync readdir friend fchdir fstatfs crash given without vnode rather return expected error,,
6117,907e6336314df7d2fd84356516e1a6b53f5544af,adav Har'El <nyh@cloudius-systems.com>, 2013-06-19 11:23:57 +0300, , fix concurrent console read write bug bug read console would block writes console noticable background thread cli tried write output blocked next keypress blocking read would lock writes bug happens opened console using open dev console dup resulting result current code every read write file descriptor pas vfs_read vfs_write lock single vnode lock three file descriptor leading write blocking read ongoing patch fix vnode lock issue remains fixed devfs vfs layer rewritten instead patch add second api opening console vnode devfs layer new console open function return file descriptor implement correct file operation associated vnode new implementation work well write read ongoing note poll support missing old implementation seems done vnode abstraction still missing new implementation although hard add need implement poll fileops use poll_wake line discipline function console_poll,,
6118,79a89f95790ed456a4b5ab1fa3f23ac62399fd86,vi Kivity <avi@cloudius-systems.com>, 2013-06-19 11:11:06 +0300, , cli fix tab completion tab completion relies global object add broken 4bfe157bf07d5b2,,
6119,29652e61367bdf921b6dcb9b31c3253ba9db903c,adav Har'El <nyh@cloudius-systems.com>, 2013-06-19 11:07:55 +0300, , add sorry missing broke compilation previous patch,,
6120,ad26fb4b430f590859fa0d69f5af0cfb94429413,adav Har'El <nyh@cloudius-systems.com>, 2013-06-19 10:32:35 +0300, , temporary inefficient epoll implementation epoll_ implementation call poll real work course terrible implementation make epoll efficient instead efficient poll however allows progress running jetty parallel perfecting epoll,,
6121,15386921c3fa8583431aa1faf4c75cb1cbb8be1d,adav Har'El <nyh@cloudius-systems.com>, 2013-06-19 10:29:36 +0300, , add todo dns clear dns resolver work need test fix needed,,
6122,1b9a3b5beba40a49f1856641e5e29dc15fd5bd41,adav Har'El <nyh@cloudius-systems.com>, 2013-06-19 10:22:47 +0300, , bsd porting implement mtx_assert trivially implement mtx_assert would catch ifconfig bug fixed previous patch ifconfig called sofree without accept lock,,
6123,073d9ea7463e3a88e3473e99750159a4fe510ad2,adav Har'El <nyh@cloudius-systems.com>, 2013-06-19 10:20:31 +0300, , fix ifconfig corrupting accept_mtx ifconfig used call sofree assumed accept_mtx taken true resulting either assertion failure implement assert_mtx see next patch mutex corruption assert_mtx doe nothing instead call soclose hard figure given comment socreate saying socket closed soclose,,
6124,bbcd59f71ad636bda941245596849209b183b958,adav Har'El <nyh@cloudius-systems.com>, 2013-06-19 00:53:39 +0300, , make lock free mutex default mutex patch turn flag switch code use lock free mutex instead spinlock based mutex time start using lock free mutex stable enough please let know experience performance problem bug related new mutex need disable new mutex temporarily return old change define lockfree_mutex osv mutex.h undef,,
6125,8031eeae3fe4cb6a362b1ab6ead724cbd3db9c1b,adav Har'El <nyh@cloudius-systems.com>, 2013-06-19 00:51:04 +0300, , mutex remove silly return returning void doe nothing confusing,,
6126,aac18bc24d15cd0c4b504e251544d8c078abf1d2,vi Kivity <avi@cloudius-systems.com>, 2013-06-18 16:24:40 +0300, , build rename build.mak build.mk eclipse recognizes .mk makefile make easier new user use eclipse,,
6127,b8e05b23a6e768bf9333d1011d33b143e1132db8,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-18 08:44:45 +0200, , zfs use mutex_owned,,
6128,948bea476e53f4f189623fd7862fcb9bc0917bcc,adav Har'El <nyh@cloudius-systems.com>, 2013-06-18 13:27:18 +0300, , cli add tiny http server single java source file full fledged http 0.9 server wanted add expose console lock bug fixed separate patch verify bind work correctly doe additionally tiny http server 6kb compressed bytecode useful cli run background let view file osv system browser even another program running run shrew cli run java run http server background separate thread letting user continue use cli add argument command run server current thread never returning currently http server written browse osv root directory hierarchy accessing http 192.168.122.100 8080 host show osv guest root directory decend directory download individual file,,
6129,4bfe157bf07d5b26046a7969994e245c751ecfaf,vi Kivity <avi@cloudius-systems.com>, 2013-06-18 11:36:05 +0300, , cli self registering command instead defining command object one file registering another everything one place,,
6130,141159e5436c5fb8761dde370b5e681eb100d1d6,vi Kivity <avi@cloudius-systems.com>, 2013-06-18 11:16:17 +0300, , merge branch cli per cpu variable per cpu kvmclock tracepoint probe function tracepoint java api perf stat cli command,,
6131,092f28c6258d5e56479ffeba6fd6ce056c21ea8c,vi Kivity <avi@cloudius-systems.com>, 2013-06-17 13:31:26 +0300, , cli add stat command usage perf list list tracepoints perf stat ... count tracepoints example perf stat mutex_lock ctxsw sched_switch mutex_unlock wake sched_wake mutex_lock ctxsw mutex_unlock wake 1909 2075 147 190 193 138 193 146 139 146 317 179 317 146 139 146 146 139 186 205 139 165 146 139 146 146 139 146 146 139 146 193 143 193 151 147 151 146 139 146 146 139 146 146 139 146 159 139 159 149 139 149 146 139 146 164 139 164 146 139 176 176 139 146 149 139 149 146 139 146 146 139 146 mutex_lock ctxsw mutex_unlock wake 146 139 146 715 147 715 188 139 204,,
6132,f8a4ece38d30f97deee0066ee1d856d5c1f206d7,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-18 07:12:49 +0200, , add zfs test using disk backend,,
6133,ff5662110e42b0cacb3a1222b63a944fac3e2b35,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-18 07:12:12 +0200, , actually wire simple zfs test,,
6134,ef5c936ae0bcae0054058eab79b88ff8c703281f,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-17 19:50:51 +0200, , zfs implement support reading root label,,
6135,4197debe63b84ad558f3b65889097510a5bb29be,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-18 07:10:45 +0200, , zfs ignore vdev_disk actually implement either yet least abort,,
6136,dde6b48536fc72092fd756b3573c1f0ec3a44f2f,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-17 19:56:50 +0200, , zfs fix vdev_disk size detection,,
6137,e6d95380b711993ec38bd6c2af5b6b5cf6965659,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-17 12:11:46 +0200, , zfs wirte vfs,,
6138,650a3161f9d7b8d850932995978b950922d0aaee,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-11 12:02:28 +0200, , zfs wire znode code,,
6139,22ac43b3c237867f11eda0c858f393f2cd33ffe7,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-11 11:28:21 +0200, , solaris remove ms_ defintions sys mount.h already get api version sys mount.h,,
6140,2b89b0342b5ceb1426118a305833896c13bd8d2e,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-11 11:55:47 +0200, , solaris stub part sys pathname.h,,
6141,56039c8496db45b10c0d95e189ff8316b593ff48,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-11 11:54:28 +0200, , solaris stub sys policy.h,,
6142,af53e8c117bf2c3d511c3e1412f69980b98b83ea,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-11 11:53:44 +0200, , solaris wire common acl code,,
6143,ac4800e6a536f723e006dd2240741b64fa994e77,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-11 11:33:06 +0200, , solaris provide compat sys unistd.h,,
6144,8f21d7b40c62f3ef1d597e2438fe58c2293861f4,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-11 11:29:04 +0200, , zfs include right uio.h sys sa.h,,
6145,6bd2f87e2735916f22dbb5a9d0bd87876b85e5e0,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-17 19:54:17 +0200, , devfs store size value struct device,,
6146,c1a014ed4382e72f41f2bead31d5308d11db30e8,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-10 10:12:09 +0200, , remove mount umount prototype osv mount.h use header user apis conflict one sys mounts.h,,
6147,e5e4e1b7b0f2067408c624e0f6f328bfedb0a8ad,vi Kivity <avi@cloudius-systems.com>, 2013-06-17 13:30:27 +0300, , cli import java.lang java.lang.math override javascript math object,,
6148,29a4b2dd310a46174493dede7814c9defdd38055,vi Kivity <avi@cloudius-systems.com>, 2013-06-17 13:28:25 +0300, , java add tracepoint interface class expose tracepoints counter,,
6149,e58366acd65b78c5470eda6fd05c5a1cfbc01761,vi Kivity <avi@cloudius-systems.com>, 2013-06-16 17:00:42 +0300, , trace add probe function add facility run function tracepoint hit independent logging add probe function logging disabled enabled,,
6150,43ded08dbcdf8788cbf1280d83a137fc0c037340,vi Kivity <avi@cloudius-systems.com>, 2013-06-16 16:21:29 +0300, , percpu add allocatable per cpu counter,,
6151,d0c2b805e502cdf7c6421ad08da44d833b31f0c5,vi Kivity <avi@cloudius-systems.com>, 2013-06-16 13:09:22 +0300, , kvmclock make per cpu kvmclock abi requires calculate system time using value cpu running  changing system time structure per cpu adding cpu notifier per cpu msrs initialized cpu hacking around initialization order issue,,
6152,26a9fd2fdc1cd8c58628fc8afc72b430a266970a,vi Kivity <avi@cloudius-systems.com>, 2013-06-16 13:05:48 +0300, , sched add cpu notifiers cpu notifiers called whenever cpu brought one day driver manage cpu example kvmclock initialize  callback called cpu brought,,
6153,63ab89b6722d77fa84c4d9ee219148bc6e4f2d36,vi Kivity <avi@cloudius-systems.com>, 2013-06-16 12:04:50 +0300, , percpu per cpu variable per cpu variable used context preemption disabled interrupt migration impossible pinned thread managing data replicated cpu api smart pointer variable resolve object location current cpu define include osv percpu.hh percpu int my_counter percpu foo my_foo use my_counter my_foo member,,
6154,401e14e5c3c59e729b9c2f281ed563ae95f367b2,uy Zana <guy@cloudius-systems.com>, 2013-06-17 13:12:18 +0300, , msleep switch debug message tracepoints,,
6155,fd8bc6ffb07872f7a02afc68b85af9c42a3ab36a,uy Zana <guy@cloudius-systems.com>, 2013-06-17 12:55:04 +0300, , callouts switch debug message tracepoints,,
6156,223b2252815f22f0b50d80d9722f0e712a89e9ea,uy Zana <guy@cloudius-systems.com>, 2013-06-16 14:15:31 +0300, , sched enable preemtion scheduler fully initialized console init call wake scheduler fully initialized point disable preemption soon main_cont start disable smp_launch,,
6157,fee0926b04a510ece319c4b3da21dbc4d30953a9,uy Zana <guy@cloudius-systems.com>, 2013-06-16 13:00:08 +0300, , run.py add reboot order allow early error examination,,
6158,f391e7062c2b55ebfea280e3c6358f6d8047cff5,uy Zana <guy@cloudius-systems.com>, 2013-06-13 20:14:48 +0300, , callouts reset wake callout thread change earliest callout avoids spurious wake callout thread,,
6159,869e5c9991955571d0124eeddcf396bd60f03d99,uy Zana <guy@cloudius-systems.com>, 2013-06-13 18:27:36 +0300, , sched wake remove redundant call schedule,,
6160,7d37dc2432dce83e304df1bf6cad27a3ba434526,uy Zana <guy@cloudius-systems.com>, 2013-06-13 18:25:15 +0300, , sched encapsulate preempt_counter completely,,
6161,e083c4cb41bf512b30f154a787b6b4316d3faabe,uy Zana <guy@cloudius-systems.com>, 2013-06-10 16:41:34 +0300, , virtio add various tracepoints virtio virtio net,,
6162,b417021ea04834101198144b0e0cc02713166b4a,uy Zana <guy@cloudius-systems.com>, 2013-06-12 18:10:09 +0300, , sglist add total len debugging purpose,,
6163,485a241bb6f4eeffcc9dc4d3f3900d04c6a37f5a,uy Zana <guy@cloudius-systems.com>, 2013-06-10 16:40:53 +0300, , msix add tracepoints msix interrupt,,
6164,e822050cfb217dc7b3867c75ba0776663e08502e,vi Kivity <avi@cloudius-systems.com>, 2013-06-16 12:03:35 +0300, , sched initialize cpu earlier make usable constructor percpu initialization,,
6165,da8d3daf1431dd580db49b2d845718b7cacbea6e,lauber Costa <glommer@cloudius-systems.com>, 2013-06-14 01:34:18 +0400, , acpi map bios linear mapping algorithm follow memory discovery quite simple iterate e820h map every type ram memory increment total size map linearly address space mapping break xen however idea seabios kvm xen hvmloader put acpi table reserved region around physical address 0xfc000000 try parse acpi table reach unmapped portion address space fault btw fault really hard debug triple faulting directly least setup luckily acpi driver code prepared scenario using memory call map unmap function implement  patch implement necessary map function unmap counterpart far away performance critical dump possible servicing request without tracking previous state signed glauber costa glommer cloudius systems.com,,
6166,006270677a7cd6bb1363a92b6f3eef4d67510fbf,vi Kivity <avi@cloudius-systems.com>, 2013-06-13 11:28:52 +0300, , merge branch trace make function tracer work,,
6167,4b199e189073bab496ef338222d9a79dafd14db2,vi Kivity <avi@cloudius-systems.com>, 2013-06-12 17:51:07 +0300, , sched make sure idle thread never scheduled thread run set largest possible vruntime ever picked queue thread avoids pointless context switch idle thread wake see another thread switch,,
6168,0be1f9e0de7c44f63f60686ada2c3bf12b864b51,adav Har'El <nyh@cloudius-systems.com>, 2013-06-13 10:48:47 +0300, , implement usleep usleep scrubbed posix 2008 used java doe exist glibc damn easy use compared newer relative nanosleep want use test,,
6169,67923f37230ef88702da6c58d3f22affe6b1caa0,adav Har'El <nyh@cloudius-systems.com>, 2013-06-13 10:28:37 +0300, , add missing lock avi pointed read modify write f_flags without locking add missing lock,,
6170,2be1f82d6818699d043e9179a5e51e740a6eecd5,adav Har'El <nyh@cloudius-systems.com>, 2013-06-13 09:52:01 +0300, , clean todo mutex remove thing already done,,
6171,a7f920f294c526d234c19af10edf43904a294a51,vi Kivity <avi@cloudius-systems.com>, 2013-06-12 23:56:31 +0300, , trace prevent recursion function tracing function used function tracing must traced lest recurse endlessly rather marking keep nesting counter check nested way function used test must traced,,
6172,f057d76b5ca976069ce51c59a339a017de1c3a66,vi Kivity <avi@cloudius-systems.com>, 2013-06-12 23:26:53 +0300, , trace disable interrupt tracing seeing trace interrupt incurred tracing confusing disable,,
6173,f7af76eefb2e49e2fc324ba5f583837458c50fbb,vi Kivity <avi@cloudius-systems.com>, 2013-06-12 23:21:50 +0300, , x64 provide uninstrumented version irq flag manipulation function tracer want interrupt manipulation cause recursion provide uninstrumented version select function,,
6174,a2cb99d5ce7c0db823896d3ce6b84f5d8e734403,adav Har'El <nyh@cloudius-systems.com>, 2013-06-12 19:19:33 +0300, , optionally enable disabled default lock free mutex patch optionally enables compile time osv use lock free mutex instead spin lock based mutex use lock free mutex change line undef lockfree_mutex include osv mutex.h define lockfree_mutex lockfree_mutex currently disabled default awaiting test point happy say beyond one known unrelated bug see detail seems lock free mutex fairly stable survives test benchmark threw remaining known bug involves thread destruction race complete join complete wake joiner thread rare case really quickly delete thread stack wake return causing crash return wake bug really unrelated lock free mutex unknown reason reproduce lock free mutex specjvm2008 sunflow benchmark make lockfree mutex default mutex patch doe following lockfree_mutex defined core mutex.cc ifndef away old mutex code leaving spinlock code case someone want use directly include osv mutex.h different thing remember lockfree mutex class used directly simply make mutex mutex_t alias lockfree mutex make struct mutex mutex_t opaque byte structure compilation verify indeed class length define operation libc pthread.cc lockfree_mutex unfortunately new mutex fit pthread_mutex_t neither condvar fit pthread_cond_t use lazily allocated mutex condvar using lazy_indirect template,,
6175,3c354af122ba61dd690489ad1fd654dbb92b3ba8,lauber Costa <glommer@cloudius-systems.com>, 2013-06-12 14:09:57 +0400, , run.py allow command line select alternative hypervisors commenting line script choose right underlying hypervisor run automated version choosed letter usually denote help yes respectively also kvm kvm boolean soon like include xen signed glauber costa glommer cloudius systems.com,,
6176,f6e4bfb70243a6448fa87a36940c51824b90eb4d,lauber Costa <glommer@cloudius-systems.com>, 2013-06-11 23:34:56 +0400, , update loader copyright actually see debug message print name signed glauber costa glommer cloudius systems.com,,
6177,4fd297124e1cc2cfdbe6a0912c3ff3db9e1a62d8,lauber Costa <glommer@cloudius-systems.com>, 2013-06-11 23:31:06 +0400, , console dump early message serial port use simple outb instruction write data serial port case console implementation yet need fancy even limited functionality already allow print message early specially debug signed glauber costa glommer cloudius systems.com,,
6178,4b5afd0f8fdfc75fc8bb92d0cdb2242f4486e8e5,lauber Costa <glommer@cloudius-systems.com>, 2013-06-11 15:03:52 +0400, , run console earlier could benefit console ready bit earlier dependency see interrupt need working soon initialize ioapic able initialize console end story still need even earlier console debug driver initialization function inclined leave console_init  additionally felt loader really appropriate place vfs_init ... propose switch mean time might help debug thing happen ioapic init old vfs_init mem initialization smp bring etc signed glauber costa glommer cloudius systems.com,,
6179,d96020e3170465d6500d6ab6f6ba36f8c61f4047,adav Har'El <nyh@cloudius-systems.com>, 2013-06-11 16:43:36 +0300, , add missing change lfmutex.cc sorry forgot one hunk git add,,
6180,da5939f95d4a3cc69e775e13f67835763f9889ea,vi Kivity <avi@cloudius-systems.com>, 2013-06-11 16:31:21 +0300, , opensolaris fix cv_timedwait cv_timedwait relative timeout expressed tick microsecond condvar_wait absolute timeout expressed nanosecond replace macro function doe correct translation,,
6181,954bd855436898f607ad016d5118c2a1b9010caf,adav Har'El <nyh@cloudius-systems.com>, 2013-06-11 14:12:16 +0300, , lock free queue update test updated test new api sorry forgetting commit earlier,,
6182,ccad2d9bdd206f03a058ace414acb2b93cf19cb0,lauber Costa <glommer@cloudius-systems.com>, 2013-06-11 13:15:00 +0400, , merge remote tracking branch origin master,,
6183,df217cef9e6fd674be878b5eea378b30fe5f5530,adav Har'El <nyh@cloudius-systems.com>, 2013-06-11 11:58:46 +0300, , lock free queue change pop api changed lockfree queue_mpsc lock free multiple producer single consumer queue pop api instead returning separately popped value type boolean success failed return pointer linked_item originally pushed nullptr failure new pop api slightly awkward instead using returned value directly need take field value important new feature give value also address value stored possible change value original structure allows implement traditional waitqueue technique value queue thread pointer popper waking thread set thread pointer zero way woken thread know spurious wakeup followup patch use capability cleanup lockfree mutex abuse owner field notifier non spurious wakeups patch owner used implementing recursive mutex part wakeup protocol,,
6184,99b477dcdbc55a8d10795e15cb5daae57819976f,adav Har'El <nyh@cloudius-systems.com>, 2013-06-11 11:54:30 +0300, , lock free mutex change clarify role depth owner way owner depth used lockfree mutex messy ideally neither needed implemented non recursive mutex following design mutex used owner also marker thread waken lock spurious wake patch owner depth used lockfree mutex implementing recursive mutex building non recursive mutex simple dropping two variable detail owner longer used tell woken thread wake spurious instead zero thread wait record familiar idiom already used time depth atomic variable read thread set case previously depth ever written set incremented decremented read lock holding thread lock releasing thread owner need atomic variable non lock holding thread need read recognize holding lock need special memory ordering variable always accessed relaxed memory ordering,,
6185,cf4c46c482f977036118fb6db91d6f7e69f84e12,adav Har'El <nyh@cloudius-systems.com>, 2013-06-11 11:45:07 +0300, , sched thread fix rare join hang fixed rare hang sched thread join thread complete included following code _status.store status terminated _joiner _joiner wake  preempted right setting status terminated calling wake thread never scheduled remain terminated status forever never call wake join ing thread may wait forever saw happening test case started joined million thread eventually join hang solution enclose line preempt_disable preempt_enable,,
6186,aee17ba4d03d94c144d40539eccc375805102d47,adav Har'El <nyh@cloudius-systems.com>, 2013-06-11 11:20:27 +0300, , wake miss preemption opportunity wake normally call schedule preemption disabled mark need_reschedule true suggest schedule called preemption later enabled,,
6187,1dbddc44cb2e75a13ffff8b0c89d1e0a15272d6f,vi Kivity <avi@cloudius-systems.com>, 2013-06-10 11:17:21 +0300, , x64 prevent nested exception corrupting stack due need handle x64 red zone use separate stack exception via ist mechanism mean nested exception reuse parent exception stack corrupting usually hard figure root cause happens prevent setting separate stack nested exception aborting immediately nested exception happens,,
6188,48323f237e5b82a8741f098f12061193cba382a0,vi Kivity <avi@cloudius-systems.com>, 2013-06-10 19:44:00 +0300, , x64 switch ifunc resolvers processor feature processor feature initialized early enough use ifunc dispatcher,,
6189,7fb119b0d3f6cdf18fd80ed86b492fb6ad50c41a,vi Kivity <avi@cloudius-systems.com>, 2013-06-10 19:37:36 +0300, , x64 make processor feature usable early cpuid useful ifunc dispatched function like memcpy select correct function based available processor feature make processor feature available early support use static function local variable ensure initialized early enough,,
6190,a810513e9bec0c9f26091947d78f753b9336fbb6,vi Kivity <avi@cloudius-systems.com>, 2013-06-10 19:29:56 +0300, , merge branch repmov optimized memcpy using rep mobsb,,
6191,06dd5386906eefe6dd3fc45460a55b70a6a0608b,vi Kivity <avi@cloudius-systems.com>, 2013-06-10 18:30:09 +0300, , libc optimized memcpy cpu support enhanced rep movs stos erms use rep movsb instruction implement memcpy speed copy significantly especially large misaligned one,,
6192,5948f0d7da35e621fc3c42e33f95e81454407fb7,vi Kivity <avi@cloudius-systems.com>, 2013-06-10 18:28:54 +0300, , elf add support stt_ifunc used implementing support indirect function referenced shared library,,
6193,42687ce945e837462bb950c6c34a639e700f1de6,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-06 10:14:13 +0200, , add simple zfs test,,
6194,d7fce04480d450ad85ea6053d6377dffe0964cc7,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-03 12:45:13 +0200, , zfs port vdev_disk,,
6195,b6c95040d7a2062ec651944ee0591cfc9270c553,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-07 10:36:58 +0200, , zfs port vdev_file,,
6196,e91d6a1301fa7449ed278b5f51b4f7fb887fc80d,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-03 09:52:12 +0200, , zfs initialize boot,,
6197,449ade70a59af14dac8d1673a197cd57f7e8b4c6,hristoph Hellwig <hch@cloudius-systems.com>, 2013-06-07 16:41:43 +0200, , solaris handle km_zero flag,,
6198,99d5cb284e2ab6ba2140c88cdad17ae91e470aa3,lauber Costa <glommer@cloudius-systems.com>, 2013-06-10 09:46:41 +0400, , kvmclock fix compilation error compiler rightfully complains use symbol sizeof instead dereferrence fix signed glauber costa glommer cloudius systems.com,,
6199,3302a1aa8cf1a1cfec35a7a9b34ca158175adf05,adav Har'El <nyh@cloudius-systems.com>, 2013-06-09 23:33:19 +0300, , lazy_indirect typo comment,,
6200,e6208f1e43d9f70ba743fa52377f8cd70410686c,adav Har'El <nyh@cloudius-systems.com>, 2013-06-09 23:22:09 +0300, , add use new abort msg function recently guy fixed abort really infinitely recurse trying print message using lock causing new abort infinitum unfortunately fix one remaining case dummy_handler see exceptions.cc used idiom debug .... abort cause infinite recursion call debug cause new call debug etc instead broken idiom created new function abort msg like familiar abort change aborted message message constant string like abort new variant abort msg print message even called recursively lockless version debug note new abort msg api see abort void extern first wanted call new function panic msg export gave saw name panic already use bunch bsd code,,
6201,3cd499af35ddd7a7b422b7e912a4c499ccbe10e7,adav Har'El <nyh@cloudius-systems.com>, 2013-06-09 20:55:46 +0300, , add simpler tracepoint syntax patch tracepoints required manual tracepoint number tracepoint unsigned int trace_event1 event1 tracepoint trace_event2 event2 number unique file hard achieve still tedious verbose patch add additional shorter tracepoint syntax requiring number general repetitive clearer tracepoint trace_event1 unsigned int tracepoint trace_event2 first parameter name generated tracepoint function convenient see grep find example name tracepoint shown osv trace string without prefix trace_ name tracepoint function reason start trace_ full function name used tracepoint name,,
6202,fb97aadf08421a11b283c68924ae1991be61d44e,uy Zana <guy@cloudius-systems.com>, 2013-06-09 15:32:23 +0300, , callouts perform wake outside lock given scheduler state wake sometimes rescheduled dispatcher thread immidiately blocked mutex still held caller  patch doe wake outside lock eliminated spurious context switch,,
6203,413606135397015de90ffa815ed2eafc83cb7190,uy Zana <guy@cloudius-systems.com>, 2013-06-07 10:02:49 +0300, , logger changed debugging call use tprintf_x variant,,
6204,5a298ef9dfc7fe521bf8ac4c4546e5a3596001a5,uy Zana <guy@cloudius-systems.com>, 2013-06-07 10:01:59 +0300, , tst socket return error poll fails,,
6205,f806a014c9d5953f6e628166fc37dd75c9441398,uy Zana <guy@cloudius-systems.com>, 2013-06-06 22:36:31 +0300, , logger remove useful logger tag controlling logger output test simplistic enough change severity level logger_error logging message appear,,
6206,f928d509636b60abb3938781102aa2edb79f13c7,uy Zana <guy@cloudius-systems.com>, 2013-06-06 22:29:59 +0300, , virtio remove extra verbose debug message next patch changing debug function tprintf_d may implemented case conf logger_debug case compilation break complaining unused variable debug print useful today remove instead may implemented tracepoints,,
6207,9da6f1bcc3ef888087d2299abe29eee27ae29e09,uy Zana <guy@cloudius-systems.com>, 2013-06-07 09:56:38 +0300, , make added conf logger_debug option mode debug conf logger_debug option control whether tprintf_d verbose debug logging enabled set tprintf_d implemented,,
6208,bf7fe5e791f7d140d100f435f404c243ce1b3426,uy Zana <guy@cloudius-systems.com>, 2013-06-06 22:29:36 +0300, , trace add tracepoint mutex_lock mutex_unlock,,
6209,82491864c687ffcf007de1739a347cb14176f7ac,vi Kivity <avi@cloudius-systems.com>, 2013-06-09 15:01:11 +0300, , trace record time tracepoint,,
6210,c19dfddcb424d14433fc2bd1787cbb3c6166bd46,vi Kivity <avi@cloudius-systems.com>, 2013-06-09 15:00:19 +0300, , clock instrument want use clock tracepoints,,
6211,76dae193232cd9caf548836f0807311921ea2fac,vi Kivity <avi@cloudius-systems.com>, 2013-06-09 14:40:34 +0300, , sched add tracepoint preemption event,,
6212,d3c156d845c5fc66f7295cc77c20416a0fe08132,adav Har'El <nyh@cloudius-systems.com>, 2013-06-09 10:25:02 +0300, , lock free mutex add api lockfree mutex method add extern version lockfree mutex method necessary providing lockfree mutex type code see later patch code see opaque type byte array call function operate,,
6213,874b10eedd19eb1449a8c035b4d8807354f9c225,adav Har'El <nyh@cloudius-systems.com>, 2013-06-09 10:07:27 +0300, , lock free mutex avoid including sched.hh lockfree mutex.hh include sched.hh lockfree mutex.hh including sched.hh creates annoying dependency loop later patch replace osv mutex.h lockfree mutex.hh header file included sched.hh use mutexes include osv mutex.h last include doe nothing include guard compiler never finished reading osv mutex.h beginning included sched.hh inner included code lack definition assumes including mutex.h,,
6214,1ed9c98279417fd44d07434389c62e0f936a13ad,adav Har'El <nyh@cloudius-systems.com>, 2013-06-09 09:58:54 +0300, , lockfree mutex add owned getdepth method add lockfree mutex simple owned getdepth method existed mutex used place need method switch mutex lockfree mutex,,
6215,9bcf790a99568a7bdf3d9288cd8e775f34e81a3b,adav Har'El <nyh@cloudius-systems.com>, 2013-06-09 09:42:41 +0300, , lockfree mutex fix wait wake bug developed lockfree mutex scheduler preemption related code still bunch bug resorted workarounds hindsite look unnecessary even wrong seemed wake thread wait state made effort enter waiting state wait_guard adding thread awake queue slept schedule biggest problem approach spurious wake reason thread would cause end lock fail assert owner lock instead repeating wait switching lockfree mutex sunflow benchmark example would die assertion failure replaced ugliness familiar idiom wait_until thread running state time entering queue might woken yet sleeping wake ignored fine part protocol wake waking also set owner woken thread sleeping check owner already also changed comment owner say implementing recursive mutex also nessary wakeup protocol,,
6216,30f6e9ddfc4823f608fe6a7b93f639900b7c25a0,adav Har'El <nyh@cloudius-systems.com>, 2013-06-09 09:31:08 +0300, , implement shutdown unix domain socket existing shutdown code worked af_inet socket returned enotsock at_local socket implemented latter socket completely different code af_local.cc place call special local socketpair also need call special local shutdown way bit ugly effective shutdown first call return enotsock af_local socket continue trying regular socket shutdown code better way would add shutdown fileops table either generic one invent new mechanism whereby certain file type case socket type additional ops table including case shutdown operation linux something sort implementing shutdown,,
6217,66066b070e3b464921f5b5aebe6b6b8daa228400,uy Zana <guy@cloudius-systems.com>, 2013-06-06 17:30:52 +0300, , msix provide high priority handler registering interrupt disable virio interrupt msix eoi disabling must done isr handler context patch add std function isr binding reference queue saved well _rx_queue _tx_queue used isr context patch reduces virtio net interrupt factor 450,,
6218,8efa9c02e62034719902c25e6e8901a695979e59,uy Zana <guy@cloudius-systems.com>, 2013-06-06 12:46:28 +0300, , virtio expose disable enable interrupt,,
6219,9e1bd70b8514e36874b68c9db166becc352baef0,uy Zana <guy@cloudius-systems.com>, 2013-06-05 17:41:31 +0300, , virtio current queue already selected,,
6220,f77156cc7e097580a1d946bc90ec530d6f9c53e2,uy Zana <guy@cloudius-systems.com>, 2013-06-05 17:31:53 +0300, , virtio check error setting msix entry queue,,
6221,016f928f2b57c109ba1599994e236fe7d1914ae9,uy Zana <guy@cloudius-systems.com>, 2013-06-05 17:28:47 +0300, , virtio msix vector queue select word len register,,
6222,b2efa58eb8755badf5fe041773171c061df7cc7b,adav Har'El <nyh@cloudius-systems.com>, 2013-06-06 12:02:18 +0300, , new include file osv implement template lazy_indirect allocates heap first use lazy_indirect object take byte memory single pointer template useful implementing pthread_mutex_t using larger lockfree mutex condvar containing lockfree mutex object,,
6223,158d56813c4980053edce5397daf7400e20e6527,vi Kivity <avi@cloudius-systems.com>, 2013-06-06 11:31:41 +0300, , merge branch tracepoint optimize tracepoints fast path single nop instruction,,
6224,a448085361f6842ad2b609791da613af3e90d361,vi Kivity <avi@cloudius-systems.com>, 2013-06-04 11:47:27 +0300, , run use networking setup libvirt default allows networking work without reconfiguration dhcp,,
6225,aec5d9df29180ab6c2dffbd49b02882af328cb7b,vi Kivity <avi@cloudius-systems.com>, 2013-06-06 11:29:00 +0300, , trace relax unique requirement place tracepointv type anonymous namespace make every translation unit unique tracepoint type need ensure uniqueness within source file use type type_info select correct patch site idea nadav,,
6226,b03979d9edc93bb505c949e2884ff0003212d1e4,vi Kivity <avi@cloudius-systems.com>, 2013-06-05 13:28:56 +0300, , trace improve fast path tracepoint disabled want impact running code patch change fast path single byte nop instruction tracepoint enabled nop patched jump instruction line slow path,,
6227,0102df2914224a4c8673b7e325bcf25054cab69c,vi Kivity <avi@cloudius-systems.com>, 2013-06-05 13:11:51 +0300, , trace add unique tracepoints order optimize fast path tracepoints need patch call site skip calling slow path code completely turn requires call site unique separate function current implementation tracepoints signature map type would great use name discriminant tracepoint sched_queue thread ... doe support string literal template argument could const char sched_queue tracepoint thread ... double code declaring tracepoint add unique instead code verify unique,,
6228,cb41801a2ae56d5273bb73cd61dccc5802d490ab,adav Har'El <nyh@cloudius-systems.com>, 2013-06-05 12:34:03 +0300, , lockfree mutex function inline lockfree mutex function entirely inline fly want make default mutex change line implemented new source file core lfmutex.cc slight performance impact uncontended lock unlock pair used 17ns 22ns future get performance back making function partially inline uncontended case inline waiting case separate function although need consider speed code size tradeoff,,
6229,b39289cfb967c15a3534193742ee4145db6b3f19,adav Har'El <nyh@cloudius-systems.com>, 2013-06-05 11:56:24 +0300, , loader show demangled symbol name lookup failure abort ing failed symbol lookup symbol also show demangled form many case helpful example lookup failure failed looking symbol lockfree mutex lock aborted,,
6230,423f109b3c8737fd3b276f542215031590acec22,adav Har'El <nyh@cloudius-systems.com>, 2013-06-05 11:23:42 +0300, , speed lockfree mutex uncontended case significantly speed lockfree mutex uncontended case avoiding sequential memory ordering atomic operation think correctly really sure moreover change memory ordering rarer case also reduced future uncontended lock unlock lockfree mutex 17ns faster previous mutex 24ns slower spinlock 10ns,,
6231,b4d67a4ae84120294d3674bbb18a1deee349131f,adav Har'El <nyh@cloudius-systems.com>, 2013-06-04 20:54:06 +0300, , fix argv handling runjava recent change add program name argv code main make sense code java code main normally expects args first argument program name change runjava.java java like also broke java cli command put java argv argument runjava.main java command longer worked previous patch instead change java.cc compiles java.so call runjava.class remove new argv calling main instead expecting runjava.class,,
6232,32f9953593e8f953bcab049a5dee2c6ee9d154f6,uy Zana <guy@cloudius-systems.com>, 2013-06-04 18:36:06 +0300, , netperf add instruction build netperf osv,,
6233,b87d2d2600839934ecefa0da9d4173b617494bb2,uy Zana <guy@cloudius-systems.com>, 2013-06-04 16:15:29 +0300, , fix logging select,,
6234,1e7452c8df6504eefa5430b9d5e5909b9fe74022,uy Zana <guy@cloudius-systems.com>, 2013-06-04 18:09:26 +0300, , loader consume one element argv running main convention linux argv hold program executable attempt run netserver cli work argument parsing got broken,,
6235,496d27f860b4598c66f1a28c3ba688f44b65044d,adav Har'El <nyh@cloudius-systems.com>, 2013-06-04 14:26:30 +0300, , cli allow running single command non interactively added possibility pas cli.jar command run instead taking command interactively note initialization script run given command patch script run.py java.so jar java cli.jar continues run interactive command line editor loop additionally one script run.py java.so jar java cli.jar run command exit exactly user would type command command line exit given command course much longer example run jetty cli normal initialization script following monster used script run.py java.so jar java cli.jar java classpath jetty jetty jetty.xml funny single command say java time jetty time,,
6236,01cb7973161bbc3f1b7e57dee2c6a9d3ee57b176,adav Har'El <nyh@cloudius-systems.com>, 2013-06-04 14:21:55 +0300, , cli add java command add java command cli using syntax java.so attempting emulate closely possible java command linux example one run java hello run java hello.class java classpath default java jar java bench.jar run main class jar sophisticated command line following run jetty appropriate file image java classpath jetty jetty jetty.xml note like java.so new java command basically run runjava class java runjava.class remember java.so add java parent class loader always find runjava class even though cli.jar cloudius.jar,,
6237,1fa558efafec5781c4614acddf9d1bf6a0e6dd49,adav Har'El <nyh@cloudius-systems.com>, 2013-06-04 14:19:43 +0300, , nonblocking pipe patch add support o_nonblock pipe unix domain socket java pipe interrupt sleeping poll quite understandably set non blocking write single byte pipe expect blocking anyway croak option used better implement correctly,,
6238,02a14a49034d89b292acb8c0ef47430459c0d46a,uy Zana <guy@cloudius-systems.com>, 2013-06-03 16:17:01 +0300, , route.js added call route argument,,
6239,ee8cd808f1248c4cc68c28558f60d26c7aeb099a,uy Zana <guy@cloudius-systems.com>, 2013-06-03 13:33:32 +0300, , ifconfig.js added call ifconfig argument,,
6240,4a4dfc1dd0148c15e8cf37b2e85d6a7e8fd3ea86,uy Zana <guy@cloudius-systems.com>, 2013-06-03 13:29:22 +0300, , run.js ditch run argument invoke instead run run_cmd.run internal function used rest cli,,
6241,f3ce61ba275ee6b950ee5f7e6a1bbefb85651a2a,uy Zana <guy@cloudius-systems.com>, 2013-06-03 13:26:46 +0300, , run.js handle absolute path,,
6242,21d9401884c1e27a1042d0689584e11f598626f8,uy Zana <guy@cloudius-systems.com>, 2013-06-03 13:14:32 +0300, , tool moved tst lsroute tool directory,,
6243,49643339e6c798a47d97ae0b11fa0ce01abff6d1,uy Zana <guy@cloudius-systems.com>, 2013-06-03 12:52:50 +0300, , tool moved tst ifconfig tool directory,,
6244,68badb50967f036c55746c79a4ed421f4881a415,uy Zana <guy@cloudius-systems.com>, 2013-06-03 11:41:48 +0300, , test remove non useful obsolete test test bit outdated change system configuration useful anymore basically written understand stuff work tst bsd netdriver.c made figure network driver model freebsd tst bsd netisr.c isr layer test run arp isr system badly wounded run useless today written figure netisr work tst virtionet.c testing network interface creation using virtio today interface created anyway,,
6245,5384f24f7dee6a0f949a3079f96886f85d46bdaa,adav Har'El <nyh@cloudius-systems.com>, 2013-06-03 17:49:50 +0300, , java.so wait thread finish java.cc would exit right main method finished java correct behavior rather even main return need wait thread end accurately wait thread marked setdaemon true calling jvm destroyjavavm doe probably right thing anyway patch jetty benchmark exited immediately startup patch worker thread keep whole running,,
6246,6065597398b9c239c7cc03d94a74cab3bfeaa624,adav Har'El <nyh@cloudius-systems.com>, 2013-06-03 16:17:01 +0300, , implement java trust work main thread linux instead relies global variable implement therefore causing annoying message patch implement pardoxically point real stack end easily find sched thread interface little java expects address stack one byte use find current frame address unfortunately elliminates one warning message another one remains java later expects read proc self map find,,
6247,729bdbd5a9da88779f2b0dfbe5e8ff597e0b1deb,adav Har'El <nyh@cloudius-systems.com>, 2013-06-02 18:44:49 +0300, , split af_local.cc four file source file af_local.cc implemented pipe directional pipe unix domain stream socketpair using common buffer implemetation suggested guy split file four file pipe_buffer.cc pipe_buffer.hh contain common buffer implementation class pipe_buffer since buffer basically implement single direction pipe renamed af_local_buffer pipe_buffer af_local.cc contains unix domain stream socketpair implementation implemented using two pipe_buffer object af_pipe.cc contains posix pipe implementation implemented using one pipe_buffer object,,
6248,09e61023deb79f6540bd5e63399eb4f2547aa34b,adav Har'El <nyh@cloudius-systems.com>, 2013-06-02 18:05:21 +0300, , fix readv writev support pipe unix domain socket iovec iteration broken readv writev pipe unix domain stream socket work fix,,
6249,2a6a03918326a11bca05eda37eb4305a8dab55e8,adav Har'El <nyh@cloudius-systems.com>, 2013-06-02 18:03:26 +0300, , atomic writes long writes pipe patch fix two behavior pipe unix domain stream socketpair went posix linux standard blocking write pipe need return full write finished write end pipe buffer return previous code mean long write pipe write data part waiting reader read pipe explained writes split part multiple writer get mixed writes writer posix also guarantee short writes 4096 byte pipe_buf 4096 linux atomic split previous code even byte available buffer wrote write short need wait entire needed length available,,
6250,f4ba833c013c6c6f4f245ba8c5955ac97b57fd26,adav Har'El <nyh@cloudius-systems.com>, 2013-06-02 17:49:57 +0300, , pipe test test atomic writes long writes block complete readv writev pipe fail point fixed following commits,,
6251,b0c593aa7cc4b955c642a8cffe24deb7f1bf560f,adav Har'El <nyh@cloudius-systems.com>, 2013-06-02 17:42:13 +0300, , abort unsupported o_nonblock used unix domain socket pipe o_nonblock yet supported implementation unix domain socket pipe abort used instead silently ignoring mode something different application expected,,
6252,1b53ec56c4c084036780156c815e288e023723ce,adav Har'El <nyh@cloudius-systems.com>, 2013-06-02 12:49:14 +0300, , fix condvar_wait bug condvar_wait wrongly dropped condvar internal lock early accessed outside lock meaning concurrent wake could race bug exposed one pipe test patch fix bug holding internal lock throughout execution condvar_wait dropping temporarily waiting,,
6253,c5f87a53202aac231ebbfe4a62a545ddbce64fa4,uy Zana <guy@cloudius-systems.com>, 2013-05-28 23:09:32 +0300, , select implement select add simple select implementation top poll tested running netperf iperf3 using select waiting read setting timeouts thourougly tested,,
6254,e2b4501a050583f9959f6e575f68adf6473f3a69,uy Zana <guy@cloudius-systems.com>, 2013-05-31 22:58:20 +0300, , pipe bug fix used logical instead bitwise also better call poll_wake pollin pollrdnorm pollwrnorm safe side seen reference jdk,,
6255,2549bcad479ed95126f65cc3bc496c63971aadbc,uy Zana <guy@cloudius-systems.com>, 2013-05-29 15:22:53 +0300, , poll small bug fix poll return error via errno,,
6256,538e4a78c2fefc2ba235fd032172099f70310525,uy Zana <guy@cloudius-systems.com>, 2013-05-29 12:30:01 +0300, , device unstub sched_lock sched_unlock,,
6257,cc8cd93795fa70ad2add53e6fc9074f5d8526a68,uy Zana <guy@cloudius-systems.com>, 2013-05-31 11:12:58 +0300, , make fix typo makefile default build,,
6258,1c5aad0b03a3f36d6b40b6dd7c8e10f53401e4f4,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-31 08:00:12 +0200, , build release build default,,
6259,56e0005fcd6ff312e487258d6b19ecf9f484b636,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-31 07:58:20 +0200, , xfs fix debug build dmu_objset.c need ifdef unused code make gcc complain,,
6260,8ef91f0dbc89975051a16942a8b049def500f8dd,adav Har'El <nyh@cloudius-systems.com>, 2013-05-30 20:05:08 +0300, , add pipe patch add pipe pipe built using fifo implementation af_local_buffer used existing unix domain socketpair implementation socket pair used two buffer pipe one implementation deviate traditional posix pipe behavior two way fix followup patch sigpipe supported write pipe whose read end closed always return epipe generate sigpipe signal program rely sigpipe break sigpipe completely fashion normally ignored unix style atomic writes obeyed write even smaller pipe_buf 4096 linux whose abi emulating may partially succeed pipe buffer nearly full write single byte guaranteed atomic hope java rely multi byte write atomicity single byte writes enough waking poll example user java pipe class definitely java posix hope cause problem fixing issue easy left todo code additionally patch mark fixme fix serious bug code iovec handling writev readv expected work version pipe also existing socketpair,,
6261,f526e34804514f48e3d7a3791a134b0c82500c45,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-24 16:49:07 +0200, , build kernel zfs code,,
6262,3db9632c370df83014f426ff5ba4caefaef621b1,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-30 10:28:18 +0200, , zfs reference freebsd specific vdev class,,
6263,07c6efa7ae1c5d6eff82da57101bc045c39bca56,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-30 10:27:19 +0200, , zfs compile freebsd specific spa root config code osv,,
6264,c44ff56450538bd0bd46224848c39a20e37589c6,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-30 10:25:05 +0200, , zfs disable call unimplemented security policy functionality,,
6265,c9c74ccb6c3a154a83ff93052a22161ce21f2889,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-30 10:23:02 +0200, , zfs disable zfs_onexit call temporary snapshot yet probably never process could exit,,
6266,b68b5c1d8c810de20316f88dfc47ebc1a5981e76,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-30 10:14:05 +0200, , zfs disable call higher level vfs zvol code,,
6267,fda52236d8107978a101b74aa4b35bac92c36cf2,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-25 12:33:38 +0200, , zfs need mutex_owner check osv,,
6268,59cf92d3761cadfcc743d41783321407a41b0d81,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-25 12:31:19 +0200, , zfs remove unused label spa.c,,
6269,f7142856cca0acabfd4944fabaedaa509339ef07,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-25 12:30:59 +0200, , zfs disable async_thread,,
6270,d0d5e40c96e628f3b11853052f4f8afa9b537856,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-25 12:28:44 +0200, , zfs disable persistent spa config support,,
6271,8ff12672f41089a6cf3b7dd5e2d2800fd1bdfd7a,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-25 12:20:33 +0200, , zfs osv jail,,
6272,779cc88c3c4d94344cad6d63790737d12b45fe9c,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-25 12:09:26 +0200, , zfs enable various freebsd behaviour osv well,,
6273,7a21e47f664a0b302889d6e2049a90394d6b8b78,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-24 16:57:50 +0200, , zfs remove unused forward declaration dsl_scan.c,,
6274,5ab504444749aa76993922ec9141e2e43d3ad873,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-24 16:56:51 +0200, , zfs rename txg_delay tick parameter clash macro name osv,,
6275,128bd212ff1599634a12e63dc95a59507cb58abe,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-24 16:55:10 +0200, , zfs remove unused static function prototype dsl_dataset.c,,
6276,734aa7c2a07ea4be669afba19da5080de00107c2,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-24 16:54:40 +0200, , zfs remove incorrect ifdef __freebsd__,,
6277,4fded1fc474156ed8518dff54fa19d4d815c07b8,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-24 16:54:01 +0200, , zfs move ifdefs compile unused dnode_move_impl,,
6278,cebe41372b121a216fb8a78b72e90fabb3763e43,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-24 16:50:31 +0200, , zfs disable per tread counter dmu,,
6279,29cf134abbf28c2e011c747d4b35aafef9958f75,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-25 13:00:16 +0200, , arc disable various bit reclaim paging functionality osv ready yet,,
6280,1e63a71c94f244743c69dcd50cac9d7322473341,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-27 08:01:47 +0200, , solaris provide kmem_size,,
6281,26d3e18ca1b1026fc314a0c33f019e77d40d0565,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-27 08:00:24 +0200, , solaris provide zone_get_hostid stub,,
6282,ebd9245d7a670ad07545c468045a618af3673d2f,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-27 07:54:12 +0200, , solaris use native utsname,,
6283,75511f0562ff66b131a3dda2d28aaf669285fbff,adav Har'El <nyh@cloudius-systems.com>, 2013-05-30 15:29:00 +0300, , add missing line build.mak previous commit broke build forgot commit file,,
6284,5062ff4fa8fe4c533534e4220a2daca2200c4d35,adav Har'El <nyh@cloudius-systems.com>, 2013-05-30 14:44:02 +0300, , move unsupported fileops unsupported.c previously implemented unsupported file operation e.g. chmod pipe fchmod make sense several time implementation chmod kern_descrip.c used sys_socket.c af_local.cc add file descriptor type e.g. create_epoll even copy silly function let unsupported.c unsupported.h header file also give central place document argue whether unimplemented ioctl return enotty ebadf think former,,
6285,c58c7aac44ea16b3f5cedcf24a4091bc2c190cb4,adav Har'El <nyh@cloudius-systems.com>, 2013-05-30 14:26:42 +0300, , fix waiting poll unix domain socketpair poll waiting file descriptor would never wake example failure recently committed fix tst local.cc problem one writes one end socket need call wake_poll end socket need remember struct file attached end af_local_buffer object thought elegant solution rather sender receiver af_local_buffer booleans struct file added new function attach_sender attach_receiver set file need notify end function analogous function detach_sender detach_receiver already interesting event read write close etc notify appropriate file using poll_wake attach_sender attach_receiver called af_local_init used empty doe something note af_local_init doe send attach_sender receive attach_receiver touch two others send attach_receiver receive attach_sender two set second file descriptor send receive fifo reversed role initialized af_local_init fix new af_local_test work correctly,,
6286,cc158cba30c8b0c7130ed5a10022232d82f9c188,adav Har'El <nyh@cloudius-systems.com>, 2013-05-30 14:14:45 +0300, , demonstrate poll bug unix domain socketpair tst local.so test supposedly tested waiting poll unix domain socketpair unfortunately test incorrect writer thread usually even always manged write socket poll started poll never actually wait always returned immediately turn really need wait bug poll wake input arrives patch fix test demonstrate bug fix tst local.so test fails fix bug make test pas followup patch,,
6287,05c34106f9c4aa9aee130bb2c0446f48c47fda87,adav Har'El <nyh@cloudius-systems.com>, 2013-05-29 16:11:52 +0300, , abort unknown sysconf abort unimplemented sysconf parameter one documented function sysconf test ... whether certain option supported program free test feature support yet supposed return errno set einval example boost tested support would fine set einval would switch function non reenatrant one fine abort test safe side patch still print message see unknown sysconf case future come across new one must treat eventually message away,,
6288,a25cb86b373dd491ea558c977ed6f6925e3b67b1,adav Har'El <nyh@cloudius-systems.com>, 2013-05-29 16:01:36 +0300, , implement sysconf implement sysconf returning defined posix 1003.1c posix thread supposed return thread safe function option supported function since implement return sysconf boost system library sysconf see available restorts variant good reason,,
6289,61e295f2cd63454b76b5d0e5c8671bc767662941,adav Har'El <nyh@cloudius-systems.com>, 2013-05-29 15:55:39 +0300, , implement missing readdir64 alias readdir patch implement readdir64 alias readdir bit linux even ordinary struct dirent bit size structure identical reason miss function earlier reasonable application prefer use readdir64_r readdir64 boost filesystem library thought former see next patch fixing used latter,,
6290,737f83e9baa750182ddf01254f3dad6ae1e2d774,adav Har'El <nyh@cloudius-systems.com>, 2013-05-29 15:43:52 +0300, , say also implement librt.so.1 say also implement librt.so.1 required example boost library e.g. libboost_system mt.so.1.50.0 librt library actually separate library modern linux rather traditional function glibc librt merely filter glibc reason say support librt mention already implement bunch function traditionally resided librt nanosleep sched_yield sem_ etc,,
6291,1f6cbdd341c000025205208eba909c9f3f7d9a18,adav Har'El <nyh@cloudius-systems.com>, 2013-05-29 13:32:07 +0300, , add simple readdir test added simple readdir readdir_r test test successful turn readdir bug bug mkbootfs.py since already wrote test guess might well add,,
6292,98a1fd2b230de7e39bfafb20ac720c8d07b8dfa4,adav Har'El <nyh@cloudius-systems.com>, 2013-05-28 21:15:11 +0300, , fix getsockname failure getsockname used fail time call chain reached got addrlen problem getsockname1 give initialized local variable instead given addrlen layer copy redundant left previous incarnation code copy user space need least get unnecessary copy right,,
6293,316811809b824cc5ca4cf430a5d81dc23d9cd8cc,adav Har'El <nyh@cloudius-systems.com>, 2013-05-28 21:06:21 +0300, , overhaul java.so command line java.so used correctly support jar option fully allow mode running java specifying class name supposed searched class path biggest problem know find class file class inside jar class path even classpath correctly set unfortunately fixing code impossible jni findclass simply know look jar patch overhaul java.so java.so run fixed class java runjava.class class turn one par command line argument set class path find jar class run etc code much easier understand actually work expected also fix bug specjvm2008 compiler benchmark forced tweak class path manually new code support running class classpath also classpath option set class path like java command line tool linux one also recognizes wildcard classpaths example run jetty whose code dozen jar jetty one run.py java.so classpath jetty jetty.xml,,
6294,0b9ec89991b192f1784d6427ff3100cacc03254e,adav Har'El <nyh@cloudius-systems.com>, 2013-05-28 20:51:28 +0300, , bootfs fix bug wildcard entry mkbootfs.py support wildcard entry looking like jetty tmp jetty name generated file bootfs looked like name relpath filename name jetty relpath directory jetty foo bar relpath foo bar filename file name example problem relpath i.e. file directly jetty extra slash generated e.g. jetty something extra slash written filesystem confused readdir causing return twice file empty filename second time real filename patch avoid extra slash relpath empty,,
6295,d9747bb26681db41dd7b0bd257fd44415e38430b,uy Zana <guy@cloudius-systems.com>, 2013-05-28 18:04:21 +0300, , cli fix run command whole point able pas argument,,
6296,d0db72921362ea69d3bc1a91715cfc5cad52379f,uy Zana <guy@cloudius-systems.com>, 2013-05-28 15:27:53 +0300, , loader.py implement osv memory show memory utilization,,
6297,9a2fb403fe4133f58b074229e59a0a337e933dfa,uy Zana <guy@cloudius-systems.com>, 2013-05-28 15:26:58 +0300, , loader.py make traversing heap generic needed next patch implement osv memory,,
6298,788b0a8d72788a3437a111d0cbc54b461095f21e,uy Zana <guy@cloudius-systems.com>, 2013-05-28 15:24:49 +0300, , test make runnable second time,,
6299,a200bb7ad05d24d1a604c2574fe543f250a021f7,adav Har'El <nyh@cloudius-systems.com>, 2013-05-27 23:42:46 +0300, , add memory clobber sti cli instruction code section happens called thread context interrupt context need mutual exclusion want interrupt context start critical section middle running thread context surround critical code section cli sti need compiler assure writes memory done call cli sti stay example thread context interrupt handler cli  sti want moved compiler cli also want compiler save value register actually write back memory location sti interrupt handler might concurrently writing also want compiler remember last value register use next cli ensure thing need memory clobber option cli sti instruction volatile keyword enough guarantee instruction deleted moved stuff memory register note linux also memory clobber sti cli linus torvals explains post 1996 necessary http hypermail linux kernel 9605 0214.html said never noticed bug caused missing memory clobber better safe sorry ....,,
6300,313b7ff264654faf37e0475f39f93599fb454e85,uy Zana <guy@cloudius-systems.com>, 2013-05-27 18:28:14 +0300, , test add new java test new test creates several thread downloading 280mb file concurrently aim find concurrency bug netport dead lock etc ... fortunately pas,,
6301,67dd9d0ed146fd0c872316256dca2520192b48cd,vi Kivity <avi@cloudius-systems.com>, 2013-05-27 18:49:17 +0300, , merge branch ifunc optimize fsbase reload using wrfsbase instruction available,,
6302,fe5029da98ea3a50ab4d450a16cf055c5553f3a6,uy Zana <guy@cloudius-systems.com>, 2013-05-27 15:36:53 +0300, , test add iteration tcpdownloadfile test making even stressful,,
6303,03fef2b5ef549e9234d9c3459c208be85f82498c,uy Zana <guy@cloudius-systems.com>, 2013-05-27 15:06:49 +0300, , bsd add smp build.mak used atomic.h atomic operation atomic.h really atomic something missed netport fixed,,
6304,78bff744aa62a0bfef59f1da986fb34c2b4a42a8,vi Kivity <avi@cloudius-systems.com>, 2013-05-27 15:41:44 +0300, , update misc.bin boost system,,
6305,626a908bb3c91681089ae9fb79e4ebadd2b8880d,vi Kivity <avi@cloudius-systems.com>, 2013-05-27 15:33:53 +0300, , external update misc.bin boost filesystem,,
6306,43c3f6dd0ce54818f03e90fdbd5b1690d9faae19,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-27 07:53:08 +0200, , provide utsname structure zfs want direct access global utsname structure provide one core osv code rewrite uname copy ease move uname implementation file allows using designated initializers avoids casting mess around memcpy,,
6307,6ebb582e84d873e62bb93f3fd04eac3ef33ead08,uy Zana <guy@cloudius-systems.com>, 2013-05-26 19:46:50 +0300, , debug introduce debug_ll use abort debug console function taking lock access console driver doe acquiring mutex may sleep since want able debug abort context possible sleep page_fault lockless debug print method introduced previousely patch abort page_fault would cause endless recursive abort loop hanged system peculiar state,,
6308,9ef87755115dafc8ec82ec55236b3880b47e62f8,uy Zana <guy@cloudius-systems.com>, 2013-05-26 19:26:01 +0300, , abort debug may cause abort well current code handle case recursive abort incorrectly existing comment precise,,
6309,1cf30084c996deed079531724b4fe42d12309041,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-24 16:48:27 +0200, , zfs enable solaris compat sys vnode.h allows remove various code using vnode_t znode_t compiled current header future ported code,,
6310,5799fb6040efa5c22f503967b793121d553a2303,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-25 12:20:26 +0200, , zfs use get_cpuid,,
6311,c23a9917d96b85897457b21176ba2bba6a17247d,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-25 12:43:44 +0200, , solaris allow code using build,,
6312,7794d41107be81c20f092d5b7496593c6eae379f,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-25 12:40:19 +0200, , solaris define ptob using page_size instead page_shift,,
6313,13bd4625bf42d56ca3a11ffbfaadb71bfd14e966,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-25 12:16:31 +0200, , solaris provide credential related stub,,
6314,c94c43ff0882614e8ce41ecf3be41bb5bcfbcca9,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-24 16:53:26 +0200, , solaris include right sys param.h,,
6315,f49ddbca648d8ac4e1e94bb5eb21093e6b0903b0,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-24 16:52:28 +0200, , solaris provide issig stub,,
6316,b7bdb42c7733bc16ace87531261fae4cfc988dcb,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-25 12:12:56 +0200, , netport provide proc0 definition bsd solaris code like pas identifier kernel process various thread creation routine make life simpler providing ignoring,,
6317,c55bb8b90b84bf261804b77a74c2f068b1c60d9c,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-25 12:53:24 +0200, , netport provide physical memory size information,,
6318,0ad3e2e01a74a339e74a268cf4a15c88482004d9,adav Har'El <nyh@cloudius-systems.com>, 2013-05-26 23:16:58 +0300, , fix comment comment unlocking irq_lock put wrong line move rephrase bit word release immediately calling unrelated release function confusing,,
6319,19e52ce68eccd7842542be2de06aa3c4d9c29c96,adav Har'El <nyh@cloudius-systems.com>, 2013-05-26 23:14:22 +0300, , fix two bug yield yield two bug thanks avi pinpointing used put thread run queue push_back low level function used sure item pushing vruntime suitable last queue code nothing ensure case ... use insert_equal push_back wrongly divided two separate section interrupt disabled scheduler code run interrupt time e.g. preempt thread time e.g. wait yield etc guarantee doe get called middle need disable interrupt working per cpu runqueue broken yield code disabled interupts adding current thread run queue reschedule two critical section interrupt could arrive something thread e.g. migrate another cpu preempt yet interrupt return yield continues run assumes thread still running definitely run queue bug caused crash tst yield.so test fix hold interrupt disabled throughout entire yield easiest done lock_guard simplifies flow function,,
6320,947b49ee82fbb3ba6d0f5771d570d624ffc87890,adav Har'El <nyh@cloudius-systems.com>, 2013-05-26 23:12:25 +0300, , sched avoid unnecessary fpu saving linux calling convention necessary save fpu state reschedule caused function call bug forgot save fpu state calling signal handler signal handler cause reschedule save fpu reschedule fixing bug longer need unnecessary fpu save sunflow benchmark still run well patch,,
6321,3c9ba28dbcacdbccb841131be56bdf6cf9e8c8d5,vi Kivity <avi@cloudius-systems.com>, 2013-05-26 20:49:30 +0300, , x64 use wrfsbase faster context switching available drop context switch time 80ns,,
6322,bb33c998f847c6bbf89ef65c9903114bfc700d69,vi Kivity <avi@cloudius-systems.com>, 2013-05-26 20:48:55 +0300, , x64 add wrfsbase accessor faster way write fsbase newer processor,,
6323,e8c62c5e19b119788272d63007ce76caf88f28b6,vi Kivity <avi@cloudius-systems.com>, 2013-05-26 20:48:05 +0300, , elf add support irelative relocation used support ifunc function resolved load time based cpu feature rather link time,,
6324,c0eebe80508a05f4b7cbcc1edbd7ac83abe06cdb,uy Zana <guy@cloudius-systems.com>, 2013-05-26 19:25:29 +0300, , test fix tst timer enable test1 avoid using hardcoded value,,
6325,e7dde95d87e2842085c39fa69eab2e06c565d08c,vi Kivity <avi@cloudius-systems.com>, 2013-05-26 19:21:38 +0300, , tst ctxsw refine warm time fixed execution time,,
6326,84046f230556de6dbdc34be9d7ff12eff1179c4f,vi Kivity <avi@cloudius-systems.com>, 2013-05-26 17:20:16 +0300, , sched fix preempt_enable interrupt disabled interrupt disabled must call schedule even preemption counter say need context preemption safe manifested wake within timer causing schedule enabled interrupt caused manipulation timer list occur concurrently next interrupt resulting corruption fix timer stress test failure,,
6327,858f766661161de078246711c1db5af72e64eecc,uy Zana <guy@cloudius-systems.com>, 2013-05-26 16:41:27 +0300, , test extend timer test make stressful noticed assert download file test related timer test reproduce bug,,
6328,94a7015eb7885f7aeda7309628502b2714b24bdf,adav Har'El <nyh@cloudius-systems.com>, 2013-05-26 15:17:04 +0300, , signal handling fix fpu clobbering bug patch add missing fpu state saving calling signal handler state saved stack allow nesting signal handling delivery second signal first signal handler running linux calling convention fpu state caller saved i.e. called function use fpu caller assumed saved needed however signal handler called asynchronously possibly middle fpu computation without computation getting chance save state must save state calling signal handling function without fix problem even signal handler use fpu typical scenario encountered sunflow benchmark signal handler doe something mutex e.g. malloc cause reschedule reschedule preempt think doe need save fpu state thread switch clobber state,,
6329,1e66b4ebbcaffb77d5ede83ca38ea8b61426e71f,uy Zana <guy@cloudius-systems.com>, 2013-05-21 19:48:10 +0300, , test make tcpdownloadfile test bit stressful downloads 200mb file validating md5,,
6330,cc6ff2f97c01095ab1b31616ffcba12b3c35d0b8,uy Zana <guy@cloudius-systems.com>, 2013-05-23 19:22:09 +0300, , loader.py revisit osv info callouts given new implementation,,
6331,bbf0aa7bb614c456d33bddd84441fa6108a9720b,uy Zana <guy@cloudius-systems.com>, 2013-05-23 19:21:33 +0300,1, test fix tst bsd callout test uncomment test,,
6332,c5dbdcc81965ebe2834417346987d012510430cc,uy Zana <guy@cloudius-systems.com>, 2013-05-23 19:16:42 +0300, , bsd rewrite callout mechanism avoid race old implementation used thread dispatching callouts callout owned thread suffered race callout structure could deleted callout thread even begun current implementation dispatching callouts single callout dispatcher thread maintains ordered list callouts achieve patch solve crash tcpdownloadfile test proceeds,,
6333,4a63055ec12e909f4ff883a5a062f655593ec780,uy Zana <guy@cloudius-systems.com>, 2013-05-23 19:15:23 +0300, , loader.py make osv info thread readable,,
6334,357d68d74c369bd09c21fd98ca5e7a9821f8254f,uy Zana <guy@cloudius-systems.com>, 2013-05-22 12:56:07 +0300, , uma fix order finit dtor uma_zfree mbuf ext buffer freed dtor called finit fixing crash surfaced using conf memory debug,,
6335,62712056266fb88e15caa9357ac2b1fe0038c949,uy Zana <guy@cloudius-systems.com>, 2013-05-21 17:17:35 +0300, , bsd zero uninitialized structure caused real bug noticed tracing may dangerous flow stack zeroed,,
6336,91db62cf8a2ed19384c34cba92692ded40b764d4,uy Zana <guy@cloudius-systems.com>, 2013-05-21 17:17:17 +0300, , bsd implement panic,,
6337,c481b94dc212b8a9b5092af7e7b6e05b8808aebd,uy Zana <guy@cloudius-systems.com>, 2013-05-21 19:49:29 +0300, , libc fix strerror_r appear strerror_r needed jvm order print error correctly,,
6338,b1ec4adc2a5b712ed3dcc5534f2d90816d6195c4,adav Har'El <nyh@cloudius-systems.com>, 2013-05-25 22:22:12 +0300, , todo add todo fpu todo item avoid unnecessary fpu state saving,,
6339,682e57fd3af8decaf230139f58429fa76f9ec5a0,adav Har'El <nyh@cloudius-systems.com>, 2013-05-25 18:05:20 +0300, , todo add todo mutex thing still need use lockfree mutex,,
6340,6347f632cea1fa460f5cc929dc7dbc9e6c53571e,adav Har'El <nyh@cloudius-systems.com>, 2013-05-25 00:53:06 +0300, , add todo directory following idea raised last discussion todos committed new directory todo one file todo todos idea memory management suggest allow free commits directory overhead review informal todo item decide like format easily move content file tool database whatever,,
6341,cccd2064ac39c09109ea3124e55810286dc5be65,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-24 05:19:38 +0200, , netport provide cache_line_size definition,,
6342,a279e3463076f2ca6fcaf46808f2089cc18ab3fd,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-22 16:08:27 +0200, , netport provide syscytl_uquad defintion,,
6343,055b338eb2011d06960b17ae729912e3b4d782cc,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-22 16:07:38 +0200, , netport provide tunable_quad defintion,,
6344,0617cbf0e91a405a784fdbcd2c9b9fcf6b1886e8,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-22 18:13:30 +0200, , prex remove file_t typedef,,
6345,1a1f5689c96eb34acb50bfe4c41a8329cdc87032,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-22 18:07:07 +0200, , prex remove mount_t typedef,,
6346,0896c991da62985a66174f0505277955c8a3a223,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-22 18:01:40 +0200, , prex remove vnode_t typedef,,
6347,6b521b1936e6585e404695bf797f46738e52d89e,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-22 17:07:07 +0200, , remove osv list.h,,
6348,d6804d3a6ac2b6bb750bb27c136a96eb6dfb3202,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-22 17:06:56 +0200, , convert bio list sys queue.h,,
6349,b79f402f987056995453bba07cf38d2ab1e57245,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-22 17:01:53 +0200, , convert buffer list sys queue.h,,
6350,132f6b7a5fd6f375b842904f21d623509e067a2e,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-22 16:55:33 +0200, , convert mount list sys queue.h,,
6351,ad03f3dd12d5ef6a80b7d293d9f2b4fb697e5dc9,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-22 16:47:48 +0200, , convert vnode hash list sys queue.h,,
6352,277598d7d68aaa1c0d6e8af5c147c73d0218698d,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-22 16:38:15 +0200, , convert poll list sys queue.h,,
6353,9fcc397d904145caa7652384452bde2ab0fa2eaf,adav Har'El <nyh@cloudius-systems.com>, 2013-05-23 13:35:13 +0300, , removed redundant line oops forgot commit removal redundant line thanks dor spotting,,
6354,3d928e95a22d4144feeda582de28dd586df7bccb,adav Har'El <nyh@cloudius-systems.com>, 2013-05-23 13:21:06 +0300, , update readme instruction leak detection readme instruction leak detection date several point corrected,,
6355,17b62089f898aff2341a88e20ffa57654d064778,adav Har'El <nyh@cloudius-systems.com>, 2013-05-23 12:12:29 +0300, , fix error serial console setup fix two error reset visible effect error spurious 001 character always appeared beginning every osv run output two error dlab bit lcr incorrectly set spurious appeared code causing next outb output register output character instead setting baud rate writing fcr register ioport base forgotten took opportunity added better name constant removed couple duplicate constant added comment,,
6356,4dd2bf8e53f4eefea7df1e4222e1c22b0614491c,vi Kivity <avi@cloudius-systems.com>, 2013-05-23 11:47:42 +0300, , readme document use free detector,,
6357,ad6a0466a440db2c9f237c5acb29203ef4534790,adav Har'El <nyh@cloudius-systems.com>, 2013-05-23 11:46:19 +0300, , add noshutdown option loader added noshutdown option loader prevents shutdown poweroff main return note replace poweroff halt option system halted main return rather continues usual possibly still running thread main wait running various system thread service,,
6358,da1a4f17b6f955a8b91e3c5e886ed01cf7c44c80,vi Kivity <avi@cloudius-systems.com>, 2013-05-23 11:43:10 +0300, , readme document profiling tool,,
6359,f1a73958cd6e07014c48d5e944fb27a708151849,vi Kivity <avi@cloudius-systems.com>, 2013-05-23 11:38:39 +0300, , merge branch ctxsw2 context switch test related optimization conflict bootfs.manifest build.mak,,
6360,4078ffa522475dc42b1cfbd6827397cdfb9ba280,vi Kivity <avi@cloudius-systems.com>, 2013-05-22 19:45:28 +0300, , kvmclock drop unneeded memory barrier kvmclock change always come cpu real memory barrier needed replace compiler barrier,,
6361,0e70982b4da62e18d961a85c10d93e8ecf06a0d6,vi Kivity <avi@cloudius-systems.com>, 2013-05-22 19:31:27 +0300, , sched tighten cpu_set memory barrier,,
6362,122c7d50a3a0a6f538a18eb474f24f2e809789ac,vi Kivity <avi@cloudius-systems.com>, 2013-05-22 19:04:30 +0300, , sched improve cpu_set atomic load clear nothing cpu_set fairly common need use atomic operation,,
6363,b7bdfa1d7e3742fc7b27bccca5f0bece834cc196,vi Kivity <avi@cloudius-systems.com>, 2013-05-22 19:30:17 +0300, , test add context switch test build osv linux test context switch performance thread located cpu thread different cpu thread placed scheduler policy,,
6364,a3fc06f0412fc097b50477a305711281ab5363bc,adav Har'El <nyh@cloudius-systems.com>, 2013-05-23 09:17:16 +0300, , added missing extern pread64 avi recently added extern pwrite64 header change apparently removed declaration header file also pread64 otherwise derby benchmark specjvm2008 run,,
6365,3677386c254a2ad42c1cab8f1ba60bdb4be9e9ce,adav Har'El <nyh@cloudius-systems.com>, 2013-05-22 23:51:33 +0300, , add yield test following test currently frequently crash abort assertion failure simple test thread endless yield loop yield important even implement promise sched_yield move thread end run queue test failure may sign scheduler bug need fixed,,
6366,2f74abe5bceb63e9999fc68843a2199bb9b617e5,vi Kivity <avi@cloudius-systems.com>, 2013-05-22 19:29:07 +0300, , build define __osv__ indication osv build allows cross platform code apis,,
6367,a333d85d2da2cb7027b3f28d2a27a1b7a72999de,adav Har'El <nyh@cloudius-systems.com>, 2013-05-22 18:46:08 +0300, , power guest finish work call new poweroff function payload finish running make sense cloud would want pay provider workload done well benchmarking want qemu exit running benchmark leak option used instead calling poweroff call hang qemu continues run attach debugger run osv leak show note patch payload spawned thread could continue running payload main return longer case main return entire virtual machine shut hung reasonable behavior though payload need thread continue running join returning behavior linux posix thread general identical new behavior main multithreaded program return thread killed,,
6368,17a79e666b6714c5f7b1fdc46b25f7ecebc84886,adav Har'El <nyh@cloudius-systems.com>, 2013-05-22 18:41:30 +0300, , use osv hang abort abort thing new osv hang let use osv hang note important osv hang print anything abort doe avoids infinite recursion happen abort printing cause crash another abort,,
6369,121d6a7ee3cd5b216f6e5878b670c0cfae930a74,adav Har'El <nyh@cloudius-systems.com>, 2013-05-22 18:34:28 +0300, , patch implement two function osv poweroff turn physical machine case tell qemu quit implementation acpi acpica library osv hang cease computation core doe turn machine useful want qemu remain alive debugging example two function defined new osv power.hh header file follow new api guideline discussed today osv namespace,,
6370,bac9129c92deb2387248fbeabfeee20df33a8df2,adav Har'El <nyh@cloudius-systems.com>, 2013-05-22 18:29:56 +0300, , implement missing function driver acpi.cc implement missing function driver acpi.cc acpica library need implement enable use semaphore lock function get called acpica function entering sleep state particular powering use next patch patch includes new implementation semaphore implementation already committed earlier used,,
6371,7890e39a0aeeef5a0d302aa322f06dc353187c5e,adav Har'El <nyh@cloudius-systems.com>, 2013-05-22 17:27:32 +0300, , added timeout parameter semaphore wait added timeout parameter semaphore wait default timeout semaphore wait boolean like trywait likewise return false semaphore actually decremented rather timeout need mutex wait replaced with_lock mechanism better looking lock_guard mutex parameter wait_until,,
6372,9c9416cd05fbbe2219cef673b99148b7103ea6b3,vi Kivity <avi@cloudius-systems.com>, 2013-05-22 15:11:51 +0300, , merge branch semaphore extract existing semaphore implementation generic api,,
6373,f6482dfeb75f45a5ab3799b471803aef1bbfe399,vi Kivity <avi@cloudius-systems.com>, 2013-05-22 12:29:49 +0300, , mark pwrite64 extern part include change fallout longer declaration pwrite64 need mark extern,,
6374,54be2062dc2d22bc843eb438c2c9df7398cdec11,or Laor <dor@cloudius-systems.com>, 2013-05-22 11:41:00 +0300, , use free_deleter unique_prt bug caused calling um.get destructor still left unique_ptr armed pointer using free_deleter cleaner work,,
6375,ce35ec3f5af8c659109b3b87f7131e5194637a61,or Laor <dor@cloudius-systems.com>, 2013-05-21 17:09:25 +0300, , fix mbuf leak put right pointer smart pointer noted guy,,
6376,a2584d77a18bde2dc930c3b36494481158a2fe52,adav Har'El <nyh@cloudius-systems.com>, 2013-05-22 11:49:09 +0300, , run.py redirect stderr stty dev null run.py stdin redirected e.g. automatic benchmark script call stty fails print error message interesting unfortunately stty silent parameter redirect stderr dev null,,
6377,92ff9880e07c7669c56912dc2d16378b7bcb6476,adav Har'El <nyh@cloudius-systems.com>, 2013-05-22 11:26:38 +0300, , drasticly lower overhead leak detection running program leak detection e.g. running leak used devastating effect performance checked program although tolerable leak detection long run often unnecessary still annoying patch leak detection run roughly time slower regular run patch slower regular run read detail main reason slowness simplistic vector used keep record currently living allocation vector linearly searched free spot remember new allocation specific address forget freed allocation list often grew hundred thousand item became incredibly slow slowed whole program example getting prompt cli.jar happened second without leak detection second leak detection possible solution would use data structure hash table would complicated desire avoid frequent memory allocation inside leak detector general desire avoid complicated stuff leak detector always end leading complicated deadlock patch different approach inspired idea guy still ordinary vector holding record additionally keep record one next pointer used maintaining two separate list record list free record allows finding record new allocation time list filled record starting recently filled record free walk list often finish quickly malloc closely followed free common without list walk whole vector filled ancient allocation even free record find recent allocation two example performance without patch getting prompt cli.jar take second without leak detection second leak detection patch second patch sunflow benchmark run ops second without leak detection went ops second leak detection patch patch ops second verified commenting search algorithm always using first item vector allocation record search longer effect performance longer interesting replace code even efficient hash table remaining slowdown probably due backtrace operation perhaps also tracker lock,,
6378,5c2b2f94837d04d861c13a4e4383c37fc4590f51,vi Kivity <avi@cloudius-systems.com>, 2013-05-22 10:47:05 +0300, , semaphore convert intrusive list intrusive list faster since require allocation,,
6379,b9953a9098110027ec42f5ad6ec3658d2b9f136b,vi Kivity <avi@cloudius-systems.com>, 2013-05-22 10:41:43 +0300, , semaphore remove indirection accessing internal mutex previously mutex stored using pointer avoid overflowing glibc sem_t longer restriction drop indirection,,
6380,39daaed5e6de77d0882726657bc2051d1d5ea66f,vi Kivity <avi@cloudius-systems.com>, 2013-05-22 10:39:02 +0300, , libc use indirection accessing sempahore implementation rather restricting semaphore implementation smaller glibc use indirection store pointer user structure,,
6381,c240daa3288389a55e762f2b2ebc28b2a82b2f03,vi Kivity <avi@cloudius-systems.com>, 2013-05-22 10:28:07 +0300, , semaphore add support multiple unit wait post use nadav idea iterating list selecting wait record fit available unit,,
6382,747ff47839c1f2ea8ea03fffddffac90f5c4661a,vi Kivity <avi@cloudius-systems.com>, 2013-05-22 10:14:19 +0300, , semaphore extract generic semaphore pthread semaphore implementation code change,,
6383,8ffe45bf0e00b4b95140ea9aa6035d71f90a86ee,adav Har'El <nyh@cloudius-systems.com>, 2013-05-21 23:14:23 +0300, , add forgotten break allocation tracker use dog slow linear search forgot stop first empty spot actually used last empty spot ... add missing break made leak detection faster better implementation would preferable low hanging fruit,,
6384,5e4267862edcf69ac5bc66c685c89ea0eb00cadc,adav Har'El <nyh@cloudius-systems.com>, 2013-05-21 17:05:39 +0300, , improve osv leak show various improvement osv leak show somewhat faster performance still slow better report progress percent done previously much work fetching backtraces guest actually delayed sort time wrongly attributed sort phase fetching phase take time percent progress shown due popular request sort leak record size instead outputting immediately leak record summary living allocation particular call chain save memory making easy sort record interesting criterion patch sort decreasing order total byte i.e. first record one see one responsible allocated byte additional sort take fraction second make output osv leak show much useful,,
6385,6db3a8065b4bfb8aae9c999e51e0ee632e3c3201,adav Har'El <nyh@cloudius-systems.com>, 2013-05-21 17:00:16 +0300, , leak detector remember recent function avi suggested add option turned default remember recent function call instead high level function call like allocation stack trace project often care top level function various java stuff useful,,
6386,1c6c395a2bbfdc906f551834ad211286793fea40,vi Kivity <avi@cloudius-systems.com>, 2013-05-21 16:23:24 +0300, , sched auto join detached thread destructor detached thread delete auto join creates infinite loop avoid checking whether detached thread destroying,,
6387,74b624af0357476daf47c86a2882289484d5936e,vi Kivity <avi@cloudius-systems.com>, 2013-05-21 16:21:12 +0300, , sched fix double free detached thread detached thread reaper deletes zombie pthread implementation also deletes dead pthreads using container object fix making base thread use set_cleanup method set deleter overridden pthreads,,
6388,ad357426962a3bfd517df3d8074be10d59782778,vi Kivity <avi@cloudius-systems.com>, 2013-05-21 15:25:58 +0300, , run add user mode networking default setup,,
6389,0fa5a7c58b82a9acc07705e9cfed4bd80f30b617,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-21 09:19:24 +0200, , wire shared user kernelspace zfs code,,
6390,6569b2f31c7e24d09516c72b2c4a7738c64cdb86,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-21 09:16:12 +0200, , port various zfs header,,
6391,3ef25b02a021a9785c860e63a0d19162946a1e85,hristoph Hellwig <hch@cloudius-systems.com>, 2013-04-25 09:14:05 +0200, , import zfs code freebsd,,
6392,9d1a11e9a82e57cd95f00ecd56bbc54ccb729457,vi Kivity <avi@cloudius-systems.com>, 2013-05-21 13:28:47 +0300, , merge branch pthread improved detached thread handling pthread_mutex_t,,
6393,0a7efb3e816b81b6ccdbe8b6856cb25572d15dc7,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-21 09:07:08 +0200, , fix stty.java compilation java compiler,,
6394,ce17edb08d1c071f51d8618c73d93ff9f5ecb68b,adav Har'El <nyh@cloudius-systems.com>, 2013-05-21 09:15:12 +0300, , unfortunately theory necessary save fpu context switch caused function call opposed preemption interrupt practice make sunflow benchmark specjvm fail producing wrong result patch save fpu context switch make sunflow work correctly price slower context switch unsolved puzzle heck needed first place,,
6395,8374522265fb3812b11a10f091afce64930ea625,vi Kivity <avi@cloudius-systems.com>, 2013-05-08 12:50:40 +0300, , pthread drop pmutex klugey pmutex class used allow zero initialization pthread_mutex_t mutex class support natively drop,,
6396,97ee8ac167acc9b169567360715dae45eb82df61,vi Kivity <avi@cloudius-systems.com>, 2013-05-08 12:44:41 +0300, , mutex improve compatibility pthread_mutex_t initializers pthread_mutex_t bit field __kind offset 16. non standard static initializers set field nonzero value corrupt field implementation rearrange field layout hole position keep structure size small enough condvar still fit need change size _depth field bit,,
6397,e25fc7e784bc78c83bc1b07b595711957782432a,vi Kivity <avi@cloudius-systems.com>, 2013-05-07 19:10:26 +0300, , pthread drop pthread zombie reaper use generic one instead cleanup function allows destroying pthread object,,
6398,4f334fd832e75940859a888b3193ffede72fe0ee,vi Kivity <avi@cloudius-systems.com>, 2013-05-20 20:22:21 +0300, , sched fold detached_thread thread instead subclass make thread attribute simplifies usage also allows detaching thread creation,,
6399,cc79c49b42fc4c3607abb7739e653e93d096b705,vi Kivity <avi@cloudius-systems.com>, 2013-05-07 19:08:39 +0300, , sched add facility execute cleanup function thread destroyed detached thread auto collected give user chance execute cleanup function dying,,
6400,2c1eb66825c38de5c78bacbb25d5ebe7e2dfdccd,adav Har'El <nyh@cloudius-systems.com>, 2013-05-20 17:14:39 +0300, , default backtrace depth alloc tracker enough deep call java increase future option save deepest call call nearest root,,
6401,9b5ccdeafce72868014e029bb7db727a241e5b25,uy Zana <guy@cloudius-systems.com>, 2013-05-16 18:48:04 +0300, , test cleanup properly tst eventlist,,
6402,4b76224e529658c3ff8d17cd93b6c3cf305620fa,uy Zana <guy@cloudius-systems.com>, 2013-05-19 15:09:21 +0300, , bsd enable bsd log print,,
6403,cf99b75490859cdbdceb850dd926717b0947e27c,uy Zana <guy@cloudius-systems.com>, 2013-05-16 19:16:05 +0300, , bsd fix read_random make appear randomized read_random used indirectly tcp stack randomize local port number patch identical execution caused nat problem also add fixme note implement real random one day,,
6404,30ab1c50d416190c8cb0ae4e4b78eaa83e56e221,uy Zana <guy@cloudius-systems.com>, 2013-05-20 14:08:09 +0300, , includes fix import sa_family_t use bsd_sa_family_t instead linux musl definition byte long instead byte freebsd patch fixing issue caused ifconfig fail,,
6405,b9c558664fade65530a643b038d532b7aa6c0088,uy Zana <guy@cloudius-systems.com>, 2013-05-19 17:44:48 +0300, , bsd rename struct sockaddr bsd_sockaddr attempting put end linux freebsd confusion,,
6406,b6d6693913dc73384ada28c5ea42908000560af9,adav Har'El <nyh@cloudius-systems.com>, 2013-05-20 17:01:02 +0300, , show progress waiting osv leak show osv leak show take long time start seeing output patch show progress first phase getting data debugged program say second phase sorting start way turn sorting phase slower complexity wise obvious really expect case,,
6407,53c7ade58aa42568fa013e67d353b73cfce1cfe4,adav Har'El <nyh@cloudius-systems.com>, 2013-05-20 17:00:01 +0300, , replace backtrace implementation one using libunwind previous implementation backtrace required frame pointer meant could used debug build worse also got confused libstdc built without frame pointer leading incorrect stack trace rarely crash change backtrace use libunwind instead work even without frame pointer satisfy link dependency libgcc_eh.a need linked libunwind.a also need linked reason end libgcc_eh.a twice linker command line horror ...,,
6408,064e99d5a92d12803b0edcc480c1b71673ff66d3,adav Har'El <nyh@cloudius-systems.com>, 2013-05-20 16:58:24 +0300, , fix bug leak detection interaction mmap code mmu allocate implementing mmap used first evacuate region marking free allocate tiny vma object start end pair finally populate region turn allocation call backtrace first time end calling mmap two running mmap protected mutex thread second mmap could take region freed first mmap returning first mmap would reuse region solve bug allocating vma object evacuating region mmap pick different memory fix leak test tst mmap.so crash assertion failure fix succeeds,,
6409,d25789d5d455118fc2acb71cf080b40810d5be2a,adav Har'El <nyh@cloudius-systems.com>, 2013-05-20 16:56:50 +0300, , fix two deadlock allocation tracking code patch fix two deadlock previously existed allocation tracking code core mempool.cc deadlock become visible new backtrace implementation libunwind often allocates memory operation especially dl_iterate_phdr alloc_page wrongly held lock bit long including calling take tracker mutex unfortunately opposite lock order also occurs consider e.g. malloc needing allocate memory memory pool end calling alloc_page classic deadlock situation solution alloc_page drop calling another deadlock occured tracker lock pool _lock thread malloc call remember taking tracker lock calling malloc often dl_iterate_phdr call memory pool alloc take pool lock thread malloc call memory pool alloc take pool lock pool empty call alloc_page also tracked take tracker lock solution track page allocation deallocations within memory pool implementation add use pool class solves deadlock also provides better leak detection page held allocator longer considered leak individual small object  fact alloc_page call also made solving problem natural free_pages lock held,,
6410,b211cf4b8be2cc31343d94006d39f4a0abc003d3,adav Har'El <nyh@cloudius-systems.com>, 2013-05-20 16:54:45 +0300, , waste time tracking allocation inside allocation allocation tracking code doe allocation track allocation notice depth alloc_tracker mutex avoids messy infinite recursion also improves performance alloc_tracker doe bunch allocation apparent code tracking would significantly slow benefit debugging allocation tracker existing code ignored nested alloc_tracker remember forgot also ignore nested alloc_tracker forget meant allocation inside alloc_tracker never tracked wasted time trying delete list living allocation oversight caused huge slowdown alloc_tracker patch fix alloc_tracker slow slow,,
6411,de37419302856f5f5a79e101355cc8f56c99d9b5,adav Har'El <nyh@cloudius-systems.com>, 2013-05-20 16:51:22 +0300, , add partial implementation msync libunwind libunwind next patch use implement reliable backtrace need msync function need actually sync anything recognize valid frame address stack always mmap note implementation doe checking missing sync part msync matter libunwind need want syncing neither doe anything else java stack msync never used yet write back mmap memory anyway sense writing msync either need work full read write implementation file backed mmap later,,
6412,8b3abd91bc2cf2462acac2f534d9eb21f9f811eb,uy Zana <guy@cloudius-systems.com>, 2013-05-19 11:27:02 +0300, , cli add md5sum util used validating downloads,,
6413,0c34d7f1594159abd899c7a71de42b1e0e1774c2,uy Zana <guy@cloudius-systems.com>, 2013-05-16 13:17:54 +0300, , java fix use tab elfloader class,,
6414,203eec45442e78867e69ec1dba37fff4cce8bb34,uy Zana <guy@cloudius-systems.com>, 2013-05-16 13:16:35 +0300, , cli java integration get rid defineclass,,
6415,10040d1947bdccf3df3c4d3e4c32b5a9a9c00c35,uy Zana <guy@cloudius-systems.com>, 2013-05-19 11:25:02 +0300, , cli java integration get rid defineclass,,
6416,a809695b497a99d4519132e855a02675ab006e56,uy Zana <guy@cloudius-systems.com>, 2013-05-16 12:52:58 +0300, , cli java integration get rid defineclass testrunner nadav found call defineclass register visible java class within scope make much simpler integrate java cli,,
6417,ca4a6a9708ef24a9dfa08107ef3a4d68f4df0c09,vi Kivity <avi@cloudius-systems.com>, 2013-05-19 15:04:49 +0300, , sched fix preemption request preemption disabled ignored currently requested preempt preemption disabled ignore request wait next interrupt even guaranteed arrive hit best arrangement fix latching preemption request need_reschedule thread local variable examining preempt_enable,,
6418,fdff3d2c48673631069a54abeea5e323abf954f0,vi Kivity <avi@cloudius-systems.com>, 2013-05-18 20:02:55 +0300, , merge branch include use includes musl external avoiding host development environment,,
6419,1ba390d4b62dda971ed15ddd5fb29068e6a5e3bd,vi Kivity <avi@cloudius-systems.com>, 2013-05-18 20:02:00 +0300, , java remove superflous include provided musl header also unneeded,,
6420,898c3468c6f8e7f0ee5ec8b59e6dc33373f6f14c,vi Kivity <avi@cloudius-systems.com>, 2013-05-18 19:53:05 +0300, , build get boost library external host,,
6421,4183db5bb4cb25f4432b6c9ab5233ecc04693307,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-17 12:23:02 +0200, , use signal.h instead sys signal.h,,
6422,dbae073f57eb219ec71347db5d87ebcdfb9d06a2,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-17 12:16:30 +0200, , realpath.c need limits.h,,
6423,80840f220688a6988022ef54fa9f2e0f1398e9be,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-17 09:39:21 +0200, , cut bsd machine param.h already get sys param.h,,
6424,56fc33657eb5c0d6d59b74718e0382c16a3a3949,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-17 09:38:09 +0200, , __begin end_decls need sys cdefs.h,,
6425,d17db234f8334700568f8cbe46857a8ff1665422,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-17 09:37:50 +0200, , use unistd.h instead sys unistd.h,,
6426,14400c95020d29bbd277d633befdf773d89d863e,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-17 09:37:33 +0200, , use fcntl.h instead sys fcntl.h,,
6427,d7d7d035c61daf09ab62a3ce0be8e9ad3b760514,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-17 09:37:05 +0200, , use bit alltypes.h type defintions bsd networking header,,
6428,d1fea83d713dbd093c411c6b8d20b104d01a8753,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-17 09:36:04 +0200, , use isystem api header way make sure header name solaris porting glue get used first also make sure jni header available code well,,
6429,98fcbb822beb5b49832a412a9c5c5433da24323b,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:56:32 +0300, , build switch self provided header libc include api boost external misc.bin bsd source prefer bsd sys sys reconciled somehow later,,
6430,a17fb01d3b40c6ae0e88355b7fe1ca5c2b6bf378,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:55:48 +0300, , external update misc.bin boost header,,
6431,ceab9202cd877805d5d4f4306d763fafc6c9737d,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:53:18 +0300, , libc remove duplicate tzname_max definition,,
6432,2a7486dd55e0b7c99c4294ba452eff3822174a39,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:52:45 +0300, , libc extern gettimeofday probably unneeded prototype fix hurt,,
6433,1ee1a237479d0dd17f9ad552a1bd34a965a8c89d,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:51:55 +0300, , libc remove duplicate definition musl provides use definition,,
6434,39c2522c41ee790acce506b797061a32d4fcd684,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:51:20 +0300, , libc add missing pthread.h include,,
6435,e7aff417b09998285dbcb80087d139e667169d6b,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:50:49 +0300, , libc fix loadavg prototype provided musl mark extern,,
6436,6db6cc591c7282e95014136dca86481e68cc4382,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:50:31 +0300, , libc make locale implementation match glibc,,
6437,8844ac9649aeab7fd823e94c841baf780d844630,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:49:50 +0300, , dlfcn fix function definition add extern needed fix prototype,,
6438,61f9db1ebbeb200ff41d497a730280cf58ea50f4,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:49:21 +0300, , libc define __dir_s,,
6439,eadf2c0ae0e4a828c8de9b8243fac23dfa800894,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:48:37 +0300, , linux fix includes musl,,
6440,795ab0f5243423e9d8d4cda4f9c63900f4390ad2,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:47:50 +0300, , runtime add locale defines musl provide defines really necessary put header,,
6441,c61691f1dc3e67eaef55425bd965accc5015fd90,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:46:05 +0300, , include add glibc compatibility directory include glibc compat defines header munge musl header including header defining symbol using include_next eventually away reduces churn,,
6442,3b78dfd8f716df550d65874f3a50881ccc1db7b5,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:45:06 +0300, , include define uio_maxiov uio.h musl provide,,
6443,0777bdf50c08140c645d96cf89d9094bdcb8afeb,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:44:14 +0300, , include remove unneeded cdefs.h include prex.h,,
6444,d74dd39c3e3d6fd38e2a79dbd2ddef73560f4683,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:43:21 +0300, , mutex remove __always_inline __musl definition compile fails justified anyway,,
6445,b831c573cb98009fb34ea71fe71077dc7761107b,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:42:44 +0300, , include remove duplicate ioctls got musl remove list,,
6446,5d3c0662d71565f70d1239116a3e88a150f10bdd,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:42:15 +0300, , include add missing include fcntl.h need get __begin_decls somewhere,,
6447,4b3857c958c8c7897bd9aa6187cf919d1c01becd,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:40:50 +0300, , include add missing ioctl definition siocsifname named bsd creator daughter incidentally,,
6448,eab643d83765acc3ff9f27a073ff604103056d88,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:40:18 +0300, , include fix type definition add missing symbol make bsd happy,,
6449,95d97a072e52a0a2a6a8d1cfdcf1d4268d59e8d8,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:39:42 +0300, , include fix gettimeofday declaration missing timezone type,,
6450,c48a0dde7578c3e2d00936e3326fea5e7d46c900,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:39:15 +0300, , include comment sysctl declaration confused bsd,,
6451,8b504ba0a030a15fdc5d0d102b977bf587cffbeb,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:38:49 +0300, , include add missing definition sys stat.h,,
6452,6063a6bc869176d80324eaee90aa53622de92db3,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:38:15 +0300, , include add missing random_data definition use glibc compatible structure musl,,
6453,54352cf2e0a5a2cf00d1d9753deea810a5dba3b7,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:37:35 +0300, , include allow include link.h add missing __begin_decls etc,,
6454,6e4647bc60398423091fe349e621d7cbb1e1749c,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:36:57 +0300, , include fix warning endian.h gcc want parenthesis let,,
6455,7f9743784c82fa19b3d89a8ab3cc4c1e8eabfa3a,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:35:56 +0300, , include api comment define alias alias usually define func64 func cause build failure later really needed,,
6456,395eef6409b969c4bb6aa5f1e760a8a5abdd507a,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:32:58 +0300, , test add missing includes musl include dependency different glibcs add missing includes make difference,,
6457,3a445409b6d38f8afdc4dd2b11074fc278ece6fc,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:32:17 +0300, , add missing include sys stat.h needed something add,,
6458,77aef948010ca7b00ce7230791402201c3d91a3e,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:31:22 +0300, , fix fcntl.h include musl musl provides one location,,
6459,d4dbf52abb20d3d45ed0a92369e6d715a356260b,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:30:37 +0300, , add extern __stat family defined musl need make sure compiler see function,,
6460,bfadf8a10e80204e1eaa9549093b6dd5162ff1c2,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:30:13 +0300, , fix musl ioctl prototype match glibc,,
6461,4179f28ed40608fbc9a81f8213b9ce0d340b4b67,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:29:06 +0300, , define daddr_t musl define provide local defines instead,,
6462,d0aea40853a90694d25cd3e335087457f7cfb91c,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:27:19 +0300, , console remove unneeded initialization conflict musl c_ispeed c_ospeed different name musl since init zero default anyway remove line,,
6463,1283319586c1e914b257c8adc0aa7ac799eb1cf3,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:26:20 +0300, , bsd munge declaration work musl header add includes needed remove duplicate definition,,
6464,147bd7a1b016cf83cc377884a1c964c467b14d11,vi Kivity <avi@cloudius-systems.com>, 2013-05-13 12:25:00 +0300, , math add extern __isnan musl define __isnan must mark function,,
6465,68bca163abd5e0930c32c06a10d6d2de49f4bf08,vi Kivity <avi@cloudius-systems.com>, 2013-05-09 14:57:06 +0300, , build generate alltypes.h musl code contains build time generated header generate,,
6466,e6e2f4f51be571b27c37d6d4f7c87af71e9aee6c,vi Kivity <avi@cloudius-systems.com>, 2013-05-09 14:55:36 +0300, , build drop .secondary makefile strange side effect preventing makefiles remade feature want use generated code dependency,,
6467,75e72090aad998899318c425be2912a698d456d9,vi Kivity <avi@cloudius-systems.com>, 2013-05-09 14:53:36 +0300, , libc import musl include include api,,
6468,090d9d61e758393255e73748320f641b330f5842,or Laor <dor@cloudius-systems.com>, 2013-05-16 22:07:57 +0300, , decrease mbus size use size mclbytes mbufs instead previous page size todo need add mtu change function take number uma alloc param,,
6469,21eede3dca03be0f95af42668f5ea349fc976b75,or Laor <dor@cloudius-systems.com>, 2013-05-16 22:03:57 +0300, , track mbuf deallocation using unique_ptr make sure leak note freebsd convention let upper protocol free mbuf receive path without increasing ref count,,
6470,191eaf08ba06338c19bf5885d5246ae66787cd15,adav Har'El <nyh@cloudius-systems.com>, 2013-05-16 19:00:42 +0300, , implement sigismember function happens used java xcheck jni trivial implement ...,,
6471,cf74861ec2959a81539ffda4f1ee6c36faa755e3,adav Har'El <nyh@cloudius-systems.com>, 2013-05-16 12:33:19 +0300, , default console cooked mode raw mode osv console defaulted raw mode make cli happy problem linux application expect run cooked mode ever run simple application try read user input confused patch make osv console default cooked mode cli switch raw mode reading input line reset default mode running user command unfortunately resort adding jni class stty since java builtin support ioctls required changing tty setting,,
6472,3c67690953049e7994b87522ca01025d1aa6311f,adav Har'El <nyh@cloudius-systems.com>, 2013-05-16 11:51:45 +0300, , fix concurrent vfs access bug two specjvm2008 benchmark hang rarely crash filesystem accessed concurrently multiple thread synthetic test tst vfs.c committed earlier demonstrates bug trivial test thread concurrently call stat system call file patch fix bug existing vfs code vnode reference count protected node mutex rather global vnode lock one case reference count modified worse non atomically outside lock taking lock bit earlier fixed benchmark synthetic test,,
6473,3ea0794a9c185a9ab9a88d4864c24f0c76069fff,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-13 07:33:23 +0200, , wire solaris zmod modified version zlib use zfs,,
6474,c094ee3a575de78e707e5ec6b4f785df057a0a9e,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-08 11:55:38 +0200, , import solaris zmod freebsd,,
6475,ff46e33453962e1d903834934d743fa1e75f55de,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-13 07:31:42 +0200, , wire solaris fm.c fault management code,,
6476,8d1d9ef5e39a653a40635b0a8edd102a01b48478,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-13 07:30:45 +0200, , opensolaris add definition,,
6477,86cbeaf8f6195741b3b73157b3fa965f8f2f9736,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-08 10:41:26 +0200, , import solaris fm.c freebsd,,
6478,e4b54ed4f450fd3e4384ddc8413bd9f7af40758a,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-13 07:30:06 +0200, , bsd add get_cpuid wrapper actually bsd native api freebsd per cpu variable store cpuids rather replacement use,,
6479,e05c60be938541c444ae2f290dde366a36a742ea,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-13 07:19:34 +0200, , bsd add mp_ncpus stub,,
6480,dff8455bb5a3f67514aef5e50b01abb8d9a093c9,or Laor <dor.laor@gmail.com>, 2013-05-14 14:12:20 +0300, , get rid debug code defined ethernet icmp header,,
6481,37b887cfd8916bfa68a3abbaf71e9db30c41024b,or Laor <dor.laor@gmail.com>, 2013-05-14 13:44:51 +0300, , change virtio net default kick caller virtio_if_start already call kick loop qeueued msg,,
6482,c7a4e669dec4401a4769a67c4412c952485fa01d,uy Zana <guy@cloudius-systems.com>, 2013-05-14 12:45:54 +0300, , net rename interface name eth instead virtio net,,
6483,077d69f02d6d2e34d4624cb95e45ab4dbe69d4a7,uy Zana <guy@cloudius-systems.com>, 2013-05-14 12:24:05 +0300, , cli add init.js initialization script,,
6484,8095646eafe72e039c2008998ed79ee61eb5aebc,uy Zana <guy@cloudius-systems.com>, 2013-05-14 12:23:45 +0300, , cli add eval command,,
6485,dfcc71fcb2c379f5315e7258aa5b45de7f710fdf,uy Zana <guy@cloudius-systems.com>, 2013-05-14 12:22:24 +0300, , cli refactor command make easier code reuse next patch going used initialization script,,
6486,dfc9cd1bbec66a916317b2163728a1f407475d15,uy Zana <guy@cloudius-systems.com>, 2013-05-14 12:09:13 +0300, , test add tcpdownloadfile test downloads index.html bbc.co.uk java nio downloading file writing tmp,,
6487,dc362c2cb6a528ec3d27cbfb08e26c1473ee59d0,uy Zana <guy@cloudius-systems.com>, 2013-05-14 12:08:25 +0300, , net add bbc.co.uk etc host tcp testing,,
6488,25273f7c4dabad09ca8661f1d27b1f1818bfc760,uy Zana <guy@cloudius-systems.com>, 2013-05-13 17:51:38 +0300, , java add new test perform external tcp communication requires starting qemu tap networking first install libvirt launch run script root option example sudo script run.py osv configure networking follows ifconfig virtio net0 192.168.122.100 netmask 255.255.255.0 route add default 192.168.122.1,,
6489,880cf57ac7009d178a86c3cfda3a4afa10eea691,uy Zana <guy@cloudius-systems.com>, 2013-05-13 17:31:58 +0300, , cli wire,,
6490,44c03e04ef88ea880c647265e9148a1854ba1dfe,uy Zana <guy@cloudius-systems.com>, 2013-05-13 17:30:54 +0300, , net add route.java java interface configuring route,,
6491,4e7ff803e766e285d9e54df74403df2a69763c44,uy Zana <guy@cloudius-systems.com>, 2013-05-13 17:26:34 +0300, , net implemented setting network route used set default gateway set network route example route add net x.x.x.x netmask x.x.x.x x.x.x.x,,
6492,eff414e9934b6f4af554eb861141fac9c0b1ba34,uy Zana <guy@cloudius-systems.com>, 2013-05-13 17:54:24 +0300, , cli add route command implementation template,,
6493,3c1448e589e09b7d671acab640cbdb1869b1e5ec,uy Zana <guy@cloudius-systems.com>, 2013-05-13 12:57:52 +0300, , cli autocomplete word completed show suggestion,,
6494,cd308bc9e22eccb780e9d9e397588d117d0f4bae,uy Zana <guy@cloudius-systems.com>, 2013-05-13 12:45:19 +0300, , cli add command line parsing class util,,
6495,14a2b16cc60e329bfe9dc466dbd59eef0b1aaa70,uy Zana <guy@cloudius-systems.com>, 2013-05-12 19:28:41 +0300, , cli added arp command,,
6496,9e1e3c77db7bbb9e6058be41cbfc8a91308bfa83,uy Zana <guy@cloudius-systems.com>, 2013-05-12 19:10:03 +0300, , cli added if_up ifconfig command,,
6497,e308e579c2926b7fc6b22d6bcc5847a78b9efda7,uy Zana <guy@cloudius-systems.com>, 2013-05-13 15:09:38 +0300, , run save tty state restore launching qemu apparently qemu started networking tty restored successfully patch handle,,
6498,70d892db51bdcda76a7e8fcd635962be4054ca35,uy Zana <guy@cloudius-systems.com>, 2013-05-13 18:20:14 +0300, , run add place holder cleanup qemu exit,,
6499,4262a4456feb1c8824092eafa9f8a0b616a369b1,uy Zana <guy@cloudius-systems.com>, 2013-05-14 11:01:46 +0300, , run update readme file,,
6500,3cdccf98664d3ac632635a032785bf4ea8dc33d0,uy Zana <guy@cloudius-systems.com>, 2013-05-13 18:19:12 +0300, , run add switch start qemu bridge networking need libvirt installed expects find virbr0,,
6501,082336b8ca9725bae03c29ea80a9747ba8bde093,uy Zana <guy@cloudius-systems.com>, 2013-05-13 18:33:20 +0300, , run remove old run script replaced run.py,,
6502,d909a2ab74aa0861199b524b0ebe2d0e30a0d9cd,uy Zana <guy@cloudius-systems.com>, 2013-05-12 15:29:22 +0300, , run implement run script python laying base increased complexity run script performs various operation setting networking future,,
6503,8d3b350c7495f22a3b476361feba10cbdde04f2c,uy Zana <guy@cloudius-systems.com>, 2013-05-13 10:50:28 +0300, , net add error checking,,
6504,4a98a66ef20337ecc64e0092b8e3a1ceed9152ba,uy Zana <guy@cloudius-systems.com>, 2013-05-13 17:23:56 +0300, , net fix osv_ifup call siocsifflags anyway siocsifflags sent anyway order initialize interface siocgifflags returned iff_up reason investigated add fixme,,
6505,b59b12c7bfbf071f77f74acc29822c2951d9d231,adav Har'El <nyh@cloudius-systems.com>, 2013-05-13 21:14:02 +0300, , add test concurrent vfs use trying run benchmark specjvm2008 noticed seem problem concurrent use filesystem operation often hang waiting vn_lock cause assertion failure trivial test doe stat call concurrent thread reproduces bug usually always crash one several assertion failure hang,,
6506,6145e98ba3ff30e9282117a5e818a1d5c3d92c72,adav Har'El <nyh@cloudius-systems.com>, 2013-05-12 22:45:08 +0300, , jar included jre necessary using cryptographic apis particular crypto.aes crypto.rsa benchmark fail without point consider adding stuff usr lib jvm java jre lib distribution ... everything directory useful something might take try possible apis osv ...,,
6507,af35ab9eb4601c0adce4fff1a6e607ae9bce36ee,rnon Kanfi <arnon@cloudius-systems.com>, 2013-05-12 19:48:16 +0300, , removed unintialized return code error linux_ioctl,,
6508,15e4308108e5fcb0d5642e45f2ce7718764b51fb,rnon Kanfi <arnon@cloudius-systems.com>, 2013-05-12 19:04:32 +0300, , merge branch master github.com cloudius system osv,,
6509,66bb1d27e32203a9ab52847443bb64707c6ca40d,rnon Kanfi <arnon@cloudius-systems.com>, 2013-05-12 19:01:01 +0300, , fixed prototyping issue prototype compiled due lack extern,,
6510,2450ee3e4c64342cc51c31c942652d4bad9ccfe4,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-12 15:16:19 +0200, , provide bsd pause functionality way sleep without wakeup channel rename symbol bsd_pause conflict classic unix pause syscall exposed unistd.h via libcstd,,
6511,bca7b82672c948c20c6e0575f6f3b2613ba07b64,rnon Kanfi <arnon@cloudius-systems.com>, 2013-05-12 18:13:47 +0300, , merge branch master github.com cloudius system osv,,
6512,4ff3b6c139506e9d8e80a04d0d5d5c9e78bade57,rnon Kanfi <arnon@cloudius-systems.com>, 2013-05-12 18:11:30 +0300, , added extern around include file fix runtime loading error function,,
6513,f67b81467112757e0e1e18b7378ec27020692089,rnon Kanfi <arnon@cloudius-systems.com>, 2013-05-12 18:09:11 +0300, , trimmed ifdefed unused sysctl command currently support two command net_rt_iflist list interface net_rt_dump dump rout entry,,
6514,0ef7ce3be9b93e8a30b029e5453de0b823c2c63b,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-12 14:21:51 +0200, , add test bsd kthread functionality,,
6515,3a5e090e6f298e385d9164c0393f845c572933a7,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-12 14:10:41 +0200, , provide proper curthread implementation,,
6516,177d40e6f59367a2b90752aeadb5c7324d9782c7,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-12 13:59:31 +0200, , bsd add kthread_exit,,
6517,7a08ce3732cd58dec349eb74d15e155278c3386a,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-12 13:58:12 +0200, , sched add thread exit need kthread_exit also add noreturn attribute thread complete bsd kthread_exit prototype expects way chain,,
6518,7186f35a033ae0df15b2767c98b9da3c9d77a342,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-12 13:39:37 +0200, , kthread stop pretending support rfstopped flag implies created thread started currently always start addition thread_lock sched_add thread_unlock mess bsd code usually doe something rather avoid,,
6519,c87d98e6b68f9ebe09f875503b3b445c1337d8cd,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-12 13:35:19 +0200, , rewrite kthread_add use sched thread directly,,
6520,0f1732ecc422ea652876434ff4466baa351be1d9,rnon Kanfi <arnon@cloudius-systems.com>, 2013-05-12 17:40:15 +0300, , added linux ioctl functionality current code support subset linux ioctl command addition bsd ioctls linux ioctls used instead bsd ioctls whenever possible,,
6521,3ee19b5aa71852600226d33b258c4adf53dd1c56,rnon Kanfi <arnon@cloudius-systems.com>, 2013-05-12 17:04:17 +0300, , added support passing bsd command setsockopt negating bsd cmd value guarnteed clash linux command,,
6522,271ede9995c656e6602a66fe603510f47a2a49d7,adav Har'El <nyh@cloudius-systems.com>, 2013-05-12 16:46:55 +0300, , badly written java code including serial benchmark specjvm2008 class loader load class instead using current class loader decent code doe using reflection allow ugly officially supported usage need set context class loader runjar.java,,
6523,d16a9973a5510ae83bb633209704609b8dba1c97,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-11 08:43:02 +0200, , wire solaris sysevent code,,
6524,9c1f613e292b5b1251eb7f1c5f0389b7048b333e,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-11 08:32:55 +0200, , wire solaris callb code,,
6525,e319b91ea9bc651db87e1d0116bfb87a9d4e9cb8,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-11 08:11:00 +0200, , wire solaris list support code,,
6526,3aa31f6a605887c2e8a0b1e127e307575f139555,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-11 08:09:59 +0200, , wire solaris unicode support,,
6527,f8d2edc047bebc1fbe8c6a5330e52b924de14641,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-11 08:08:15 +0200, , wire solaris nvpair code,,
6528,9fc12342199611dc453c14e8677ed187d823524c,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-11 08:02:51 +0200, , wire solaris avl code,,
6529,1a2b7f267389356950846bf86a54579971400f42,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-08 11:05:38 +0200, , add solaris callb emulation freebsd,,
6530,4164912e5be4cdee500020c5f3c5ebcce910aa3c,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-07 21:02:16 +0200, , import solaris list.c freebsd,,
6531,c4602c1f2667d907b4c181da844a4a264bfda027,hristoph Hellwig <hch@cloudius-systems.com>, 2013-04-25 09:17:43 +0200, , import solaris nvpair kernel code freebsd,,
6532,995e0bdd2923f8b96b09529ae002c5e19f990818,hristoph Hellwig <hch@cloudius-systems.com>, 2013-04-25 09:13:14 +0200, , import common solaris code freebsd,,
6533,0b59a766e0dd5001f432e8c833385cb0a00d6f59,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-11 07:51:01 +0200, , add todo file solaris zfs porting issue,,
6534,98fdeb5ecd87868f4676dad61f59b8c63cd34be9,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-11 07:49:46 +0200, , add test solaris taskq functionality,,
6535,23227d837c59968b88600452509fab25edd7f256,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-11 07:37:05 +0200, , allow taskqueue thread exit test taskqueue destruction,,
6536,a9fe0000741cff6b393e7c025ff2bc09d6483374,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-10 10:02:05 +0200, , port solaris compat layer header shuffling,,
6537,fac0d96d32f1d49c3c30775c79a86385633bfdd6,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-09 18:19:09 +0200, , add maxcpu defintion netport.h various bit bsd solaris code need know supported number cpu,,
6538,001515f60ed8fd570193ab99ae8d711ea084ee9b,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-09 17:35:03 +0200, , use u_long instead ulong_t solaris sys sysmacros.h glibc sys types.h glibc sys sysmacros.h get ulong_t defintion,,
6539,7180b5206c92fa6057be983815385ebfdfc07ad6,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-09 17:32:29 +0200, , rename uio.h,,
6540,39a8d02f2e7cff49a63045a4f8ed5fc17722a96c,hristoph Hellwig <hch@cloudius-systems.com>, 2013-04-25 09:18:32 +0200, , import solaris sys header freebsd,,
6541,94b81886b0e4bcfde25b75b61c370779c1a25eb7,hristoph Hellwig <hch@cloudius-systems.com>, 2013-04-25 09:11:16 +0200, , import solaris compatibility code freebsd,,
6542,b3930ea8a15249e7d73df954057442a36de4954b,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-08 13:01:30 +0200, , import sha2 code freebsd zfs make use,,
6543,3d412683c0611b3d97d8b009f91b7975112a3740,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-08 12:59:44 +0200, , import sys kobj.h freebsd needed emulate solaris kobjects later,,
6544,31370bdb8307d0891389c455b8c0a6b6b730ab1e,adav Har'El <nyh@cloudius-systems.com>, 2013-05-12 14:27:08 +0300, , fix wrong signature pread64,,
6545,d2652e8a62aaee7cb2ef1bed43f14f2da4442f91,adav Har'El <nyh@cloudius-systems.com>, 2013-05-12 13:42:40 +0300, , cleanup mmu.cc cleanup mmu.cc make one reference constant merge two case thing one,,
6546,b0d347de534406aea9733ef6475fe39418c91976,adav Har'El <nyh@cloudius-systems.com>, 2013-05-12 13:39:45 +0300, , fixed bug munmap fixed bug munmap ing mprotect region caused assertion failure many specjvm2008 benchmark check page allocated incorrectly tested present return false mprotect page instead tested empty,,
6547,447fdf773412a68f62ecd8b211ef432ebd927568,adav Har'El <nyh@cloudius-systems.com>, 2013-05-12 09:19:34 +0300, , implement fdatasync calling stronger fsync leaving refined implementation todo also alias pwrite64 pread64 pwrite pread respectively function used specjvm2008 derby benchmark fails without,,
6548,f51dde7b67ef7f29675ca4880cd8a4005f636a18,or Laor <dor@cloudius-systems.com>, 2013-05-11 00:50:53 +0300, , control debug level logger use logger object define instead direct call debug decrease default logging verbosity addition drop debug call define,,
6549,e68a7632f40c66f69dd62b186cc159b7a3d46194,or Laor <dor@cloudius-systems.com>, 2013-05-11 00:49:24 +0300, , change default debug level virtio info warn,,
6550,e65698c6b7eef9d9e32dea5c10e49b2c370cca94,or Laor <dor@cloudius-systems.com>, 2013-05-11 00:36:03 +0300, , decrease debug verbosity info debug,,
6551,bec1efd1debbb9e37ebe921eaca27649a273e220,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-08 13:14:53 +0200, , remove .rej .orig file last musl upgrade,,
6552,415f01ae6451f79e2a05e690507b2cb1b56744ae,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-08 13:02:19 +0200, , import useful shortcut freebsds sys cdefs.h netport.h make porting bsd solaris derived code lot easier note rename __unused __unused2 conflict various linux header,,
6553,266b809e9045f27a8e64555935d02da4c4ff7362,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-08 12:59:02 +0200, , import sys sdt.h freebsd zfs full dtrace tracepoints need,,
6554,90c24cfbe88acdf925996f835c17a52434f8e44f,uy Zana <guy@cloudius-systems.com>, 2013-05-09 18:04:27 +0300, , cli test print elf test green java command red,,
6555,916f9ac219b8a10683daf16efdedce1cebed7dd9,uy Zana <guy@cloudius-systems.com>, 2013-05-09 17:59:56 +0300, , cli change test delimiter,,
6556,870cb2bf21031770c9a94f0b197561df42a8f625,uy Zana <guy@cloudius-systems.com>, 2013-05-09 17:58:20 +0300, , cli add tab_pretty function cli command interface allows command specify delimiter tab completion suggestion default case function present command interface,,
6557,ee2193be353f5c8257012f0bccf7b5f250a08335,uy Zana <guy@cloudius-systems.com>, 2013-05-09 17:54:32 +0300, , cli write delimiter last suggestion,,
6558,b55c25449cc0ee2c7f7e389abdd5ad7f939f0121,uy Zana <guy@cloudius-systems.com>, 2013-05-09 17:33:49 +0300, , cli command allow tab completion subdirectory well example  dev tmp test usr etc console java usr tab lib share usr lib tab jvm jni usr lib tab tab jre tab lib tab amd64 enter headless server usr lib jvm jre lib amd64,,
6559,39331620afe0f1dfddac671780a6c080c4439eff,uy Zana <guy@cloudius-systems.com>, 2013-05-09 17:32:07 +0300, , cli add tab_pretty function cli command interface tab_pretty arg function called printing autocompleted suggestion may used command prettify autocompletion output shortly used command,,
6560,abde5fa527697b8296889e4db6648fb12b7ea976,uy Zana <guy@cloudius-systems.com>, 2013-05-09 17:31:28 +0300, , cli command add option list subdirs subdir,,
6561,7b36afa78ba16018a5c8166490ac714f7e0ff995,uy Zana <guy@cloudius-systems.com>, 2013-05-09 17:30:29 +0300, , cli fix file.getname return string convert string,,
6562,3580a8f0fe49682eae9d30db87aa6f74fcae3255,uy Zana <guy@cloudius-systems.com>, 2013-05-09 13:55:39 +0300, , cli implement ifconfig ifname netmask mask,,
6563,4383524af1438751bcef7c6dd0c714276071d820,uy Zana <guy@cloudius-systems.com>, 2013-05-09 13:54:39 +0300, , java add networking class serve interface cli,,
6564,77123d5cf40c437d3320460a80b664151d8d7f7c,uy Zana <guy@cloudius-systems.com>, 2013-05-09 13:43:30 +0300, , java add ifconfig class jni implementation set_ip,,
6565,d89bb619b389a1d845063d7920c50e001273c85e,uy Zana <guy@cloudius-systems.com>, 2013-05-09 15:11:57 +0300, , net add proper argument validation osv_start_if osv_ifup,,
6566,224f4242f94555acf01b01cf86d2a14cd2c6c481,uy Zana <guy@cloudius-systems.com>, 2013-05-09 13:39:11 +0300, , net return error osv_start_if osv_ifup,,
6567,c66343e5096515777754f7305dfd616add7a0c80,uy Zana <guy@cloudius-systems.com>, 2013-05-09 13:36:23 +0300, , net fix if_up read flag writing iff_up,,
6568,cdcabf55e1b3b1406852989656a0f615503d055b,uy Zana <guy@cloudius-systems.com>, 2013-05-09 12:14:39 +0300, , net maskaddr provided string osv_start_if,,
6569,98457919d13a7accd07121a5b74ad34cdfd3e95e,uy Zana <guy@cloudius-systems.com>, 2013-05-08 17:51:05 +0300, , cli add ifconfig command skeleton,,
6570,2906b38f27d3fdcc588251d238c01020e93eefb8,adav Har'El <nyh@cloudius-systems.com>, 2013-05-09 09:39:36 +0300, , find given class file abort error rather eventually causing suspicious segfault,,
6571,aed975557dc0b4237fa2028ffdd247c3fa205379,adav Har'El <nyh@cloudius-systems.com>, 2013-05-08 17:26:30 +0300, , reorder lockfree mutex field reduce size byte get byte ...,,
6572,1fe04ab3fbf8f3723bb3ccdb474ed3d2b9963fb3,adav Har'El <nyh@cloudius-systems.com>, 2013-05-08 17:09:41 +0300, , used return main exit code class static variable strange also mean concurrently run several program several thread change run return bit return value execution fails e.g. file found throw ioexception note unlike unix main return value limited bit decided allow full gamut bit return value main main may return 2323813 doe indicate error running exception indicates error patch also remove arbitrary limit 256 command line argument anyone would need ...,,
6573,ec2b7edb9e1034220ebc4331f96ecb941d5994bc,uy Zana <guy@cloudius-systems.com>, 2013-05-08 16:17:32 +0300, , java integrate elf test cli test command,,
6574,c250f9ce73d5b96be5fe9c4422f9bd4bc8de9eb9,uy Zana <guy@cloudius-systems.com>, 2013-05-08 14:22:51 +0300, , java added testelf generic elf runner class integratre testrunner,,
6575,efa797cc636a6b0a21aeee45ee0c4eb8156245bb,uy Zana <guy@cloudius-systems.com>, 2013-05-08 13:18:04 +0300, , java use new testrunner class cli java test need implement test interface registered testrunner order available test cli command longer accessible javascript instead testrunner interface running test,,
6576,cb2de7cc50ed4519174956ad05323f2fea725ff2,uy Zana <guy@cloudius-systems.com>, 2013-05-08 13:16:56 +0300, , java introduce java version testrunner note class yet used cli used following patch,,
6577,96dc275ac8e588e9594668d085817f25a1152f05,uy Zana <guy@cloudius-systems.com>, 2013-05-08 12:51:08 +0300, , java make context object publicly accessible rhinocli,,
6578,e7c0523365f5da49ede7aa383bd1332929c80b29,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-07 18:37:57 +0200, , add taskqueue test,,
6579,df0d76e9accfc41716fa9bb1839256c0ded2f4e0,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-07 17:51:27 +0200, , import bsd taskqueues leave taskqueues running software interrupt osv concept likely never well timeouts add needed,,
6580,3042f6fba9475f7f239e43368926efe85cb3ee2c,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-07 18:15:24 +0200, , add minimal bsd kthread abstraction kthread implemented top pthreads give thread identifier easily usable code,,
6581,ecb24ccf7e15c0e58101e5529ba7849421989b7e,uy Zana <guy@cloudius-systems.com>, 2013-05-07 19:13:22 +0300, , java moved cli class cli directory,,
6582,44e1a734b7c457189c3d32e45bd06216302820e5,uy Zana <guy@cloudius-systems.com>, 2013-05-07 18:53:32 +0300, , java split elfrunner decouple functionality interface,,
6583,60cf840379630bad0ebc1d048df88562298c5fd0,uy Zana <guy@cloudius-systems.com>, 2013-05-07 18:35:22 +0300, , java cli.jar make reference class cloudius.jar,,
6584,674d21604ee16c4bf9167e7c64472eaf4ba6e420,uy Zana <guy@cloudius-systems.com>, 2013-05-07 16:25:20 +0300, , java first level split java jar file split cloudius.jar cloudius.jar cli.jar following patch introduce proper code reusing two jar basically cli.jar dependant cloudius.jar,,
6585,bda48d3b748d7e145ad56205789a8160d05e7aab,uy Zana <guy@cloudius-systems.com>, 2013-05-07 16:04:28 +0300, , java rename java src directory java cloudius split cloudius.jar jar cloudius.jar hold various utils interfacing jni cli.jar wrapper needed cli commuication java per nadav suggestion,,
6586,ef576d63a26079fad34434a924f1fa5cf254239a,hristoph Hellwig <hch@cloudius-systems.com>, 2013-05-06 13:13:12 +0200, , make condvar.h compile code,,
6587,044a25279e88820643d0640535712ee38d863ce0,vi Kivity <avi@cloudius-systems.com>, 2013-05-07 17:57:06 +0300, , build prevent make deleting intermediate file e.g tst foo.o building tst foo.so,,
6588,a04a894c8f3f46adb77d17874110393a1a1a06fa,vi Kivity <avi@cloudius-systems.com>, 2013-05-07 17:51:28 +0300, , merge branch pthread implement noisy stub,,
6589,aa2f7463c34c2876d2743c979795d987f5b97e8a,vi Kivity <avi@cloudius-systems.com>, 2013-05-07 17:51:11 +0300, , merge branch elf improved path rpath handling,,
6590,b74fc0a05365929e75dc24ecceae90bc74ab4435,vi Kivity <avi@cloudius-systems.com>, 2013-05-07 16:36:29 +0300, , pthread honor record guard size thread attribute mprotect bit user overflow stack,,
6591,38f14171cee15b49032db842fa2a5739a12d4d8a,vi Kivity <avi@cloudius-systems.com>, 2013-05-07 16:30:47 +0300, , pthread honor pthread stack size record stack size use creating thread,,
6592,3bd087414912c9a0c3c525071b02d41ae50ef076,vi Kivity <avi@cloudius-systems.com>, 2013-05-07 16:11:42 +0300, , pthread use scheduler stack deleter facility destroying stack,,
6593,0fe76c0feab11b8b815716247880ed772b36ba58,vi Kivity <avi@cloudius-systems.com>, 2013-05-07 16:07:36 +0300, , sched adjust stack deleter signature want size well able munmap pthread stack pas entire stack_info information,,
6594,5befea1888898e6baba56c7c090c1602ed1e2d7e,adav Har'El <nyh@cloudius-systems.com>, 2013-05-07 16:50:14 +0300, , clean lockfree mutex.hh add test clean lockfree mutex.hh code introduces new algorithm major bug fix blocking lockfree mutex working mainly preemption bug bug lockfree queue implementation also introduced test mutex variant mutex lockfree mutex spinlock several thread non atomic increment shared variable unless mutex used sum end wrong test seems working correctly also exercising interesting case code responsibility hand protocol doe rarely still need testing fully trust new code test also begin performance testing mutex variant uncontended lockfree mutex currently twice slower uncontended mutex work needed area,,
6595,9bf49f03b4ea2bf995a47ba2549b8a12b0ae6fc2,adav Har'El <nyh@cloudius-systems.com>, 2013-05-07 16:24:52 +0300, , add constructor spinlock added constructor spinlock type include osv mutex.h used make easier use type marked constructor constexpr allow object constructed compile time e.g. global spinlock variable initialized thanks avi trick,,
6596,652c3e7dc3ee4628cf582ef04809cdaa7cfe27c9,vi Kivity <avi@cloudius-systems.com>, 2013-05-07 15:18:26 +0300, , elf fix indentation program add_object somehow got byte indent instead byte effect x86 allows misaligned load could cause exception architecture,,
6597,658d3740adcb1bec073b33ad9313360da169aa24,vi Kivity <avi@cloudius-systems.com>, 2013-05-07 15:16:36 +0300, , elf mark core providing libm.so fix could load libm.so.6,,
6598,4b326782a8f9bdde347d9cc3e4805c85a1ae9b33,vi Kivity <avi@cloudius-systems.com>, 2013-05-07 15:14:13 +0300, , elf look already loaded sonames first looking module soname rather path first perform search case already loaded fix could load libjvm.so libjvm.so rpath default path already loaded anyway,,
6599,6a0eaa01d2493b7177b702c1a1b1cedecf148cdb,vi Kivity <avi@cloudius-systems.com>, 2013-05-07 15:10:06 +0300, , elf implement rpath library extra search path use squelch could load libfoo.so message,,
6600,6bc2a896e28bb32ef268fec29a9025218f0df367,uy Zana <guy@cloudius-systems.com>, 2013-05-07 15:08:28 +0300, , build.mak add generic fpic shared .so file spotted nadav,,
6601,88afd2fce4eacd805fbf282c71210a09e3f4cd45,uy Zana <guy@cloudius-systems.com>, 2013-05-07 11:28:59 +0300, , cli add run command cli,,
6602,992b7cf22ce770b741b8b522e4620e0ccca0f749,uy Zana <guy@cloudius-systems.com>, 2013-05-07 11:24:37 +0300, , cli introduce run command executes external elf file test note communication java done via global variable shortcoming argument passing capable pas string example,,
6603,f00439d99915c3d75d1d3d9be0d1754045be40ef,uy Zana <guy@cloudius-systems.com>, 2013-05-07 11:21:07 +0300, , cli define elfloader class javascript accessible javascript,,
6604,8df4090272b53f7b0f554f691961a84a320131bb,uy Zana <guy@cloudius-systems.com>, 2013-05-07 11:17:17 +0300, , java added elfloader class invokes jni wrapper elf_runner translate argument recieved javascript invokes jni method return exit code javascript,,
6605,fb8bb87f53d8012835dff07d8819f9040be336be,uy Zana <guy@cloudius-systems.com>, 2013-05-07 11:05:24 +0300, , jni add jni wrapper run_elf expects recieve string array argument invokes run_elf communicates return value setting static int invoking class,,
6606,bf853b3bc460fbb2f4c87fde42a5e4a1c1adea99,uy Zana <guy@cloudius-systems.com>, 2013-05-07 11:02:38 +0300, , jni added run_elf method execute elf file thread,,
6607,35b08ae968a1d2c2899552ff64fb2611976caef6,vi Kivity <avi@cloudius-systems.com>, 2013-05-07 13:44:00 +0300, , elf canonicalize path elf object map avoid duplicate elf object making sure path canonical,,
6608,785f19c97a48e8f6e2d9aa7e59f9f1a0073a48c5,vi Kivity <avi@cloudius-systems.com>, 2013-05-07 11:41:14 +0300, , elf use search path resolve dt_needed library instead hardcoding happens fix could load libfoo.so,,
6609,872ae6a9ce25ff0a293847470f24e055bd96c6be,uy Zana <guy@cloudius-systems.com>, 2013-05-07 10:48:43 +0300, , cli make scope variable public static accessible class may need read write global javascript object run command going commited next patch deal,,
6610,7e8afabefc50f2862aa76d40c123b39d41f19f36,uy Zana <guy@cloudius-systems.com>, 2013-05-07 10:28:50 +0300, , test reuse bind address tst bsd tcp1.c,,
6611,720ad2771e6f068c260be65085254b683b9e2ba8,vi Kivity <avi@cloudius-systems.com>, 2013-05-07 11:29:15 +0300, , af_local fix uninitialized variable,,
6612,05acf392e02f3295cb9055df35a7a456c91fc3d2,vi Kivity <avi@cloudius-systems.com>, 2013-05-06 18:45:19 +0300, , test test af_local error handling socketpair,,
6613,ea44de5a07ddf2b85f7c18782513bddd3b8268d9,vi Kivity <avi@cloudius-systems.com>, 2013-05-06 18:44:24 +0300, , af_local fix error handling fix error handling using error safe fileref fdesc utility class,,
6614,b54c3fd304e1cd7e37d510e5b59614760333840f,vi Kivity <avi@cloudius-systems.com>, 2013-05-06 18:42:51 +0300, , vfs add error safe file descriptor holder fdesc keep file descriptor safe leak automatically closing unless release method called usually user ready commit state,,
6615,816efc5883f24f4b8e1f6536a7fbac71dbba1809,vi Kivity <avi@cloudius-systems.com>, 2013-05-06 18:41:17 +0300, , vfs add error safe work like version except either return fileref automatically maintains reference count throw exception mean error handling consolidated,,
6616,c59688b8cb5cdb40e722f74648c6fa105cbc8917,vi Kivity <avi@cloudius-systems.com>, 2013-05-06 18:08:56 +0300, , include replace struct pollfd definition glibc include definition conflict soon someone includes sys poll.h moving opposite direction want minimal fix get thing build,,
6617,a0b46ad6a34a61b9bd80c2db1fdae32b6ed466d9,vi Kivity <avi@cloudius-systems.com>, 2013-05-07 11:15:05 +0300, , af_local add missing af_local.h,,
6618,f98e6319d9e0378479880dccd641003aac6e23e1,vi Kivity <avi@cloudius-systems.com>, 2013-05-06 16:53:45 +0300, , build add libjpeg.so libjavajpeg.so,,
6619,9e448492270b16df3ae099fb356b982c79b5ea9e,vi Kivity <avi@cloudius-systems.com>, 2013-05-05 19:11:20 +0300, , test add af_local test,,
6620,e9e8c01277d8df2b82093c787c8112ea63e932af,vi Kivity <avi@cloudius-systems.com>, 2013-05-05 19:10:40 +0300, , af_local implement unix domain socket,,
6621,9efe57e589129a26bca9e441cd00df05bcd2089a,vi Kivity <avi@cloudius-systems.com>, 2013-05-05 19:08:24 +0300, , condvar add wait_until similar thread wait_until manages wake list using condition variable like template within extern line moved bit,,
6622,f6493c8a4d087355c49d09adce34934511e7d709,vi Kivity <avi@cloudius-systems.com>, 2013-05-05 19:07:53 +0300, , condvar add constructor make useful,,
6623,a38cf3610db33dcd2a43f59b5fff8be81b821fe4,vi Kivity <avi@cloudius-systems.com>, 2013-05-06 13:36:32 +0300, , mkbootfs hack around absolute symbolic link source absolute symbolic link refer host directory structure want refer external tree since several tree rebase walk tree trying find match fragile ugly seems work,,
6624,fff7241aacad0604bd255905fe83f6acb181d537,adav Har'El <nyh@cloudius-systems.com>, 2013-05-06 13:02:06 +0300, , removed std atomics read size lock free queue avi suggested review let read size memory ordering code queue implementation caller needed usually needed,,
6625,d956b1a6926f4eae6e026f745863a011dadce798,vi Kivity <avi@cloudius-systems.com>, 2013-05-06 12:45:31 +0300, , test fix tst lsroute.cpp filename extension change standard .cc pick correct flag build silently,,
6626,78a9b1d26f61c7d5272da6efe95a15bd7436f54f,adav Har'El <nyh@cloudius-systems.com>, 2013-05-06 12:35:18 +0300, , fix bug include lockfree queue mpsc.hh fixed bug lock free queue push implementation reproduced already committed test implementation based incorrect understanding operation normally operation try write variable trying write case head pushlist previous expected value already changed nothing done complete surprise write failed copy new unexpected value expected variable fix push implementation assume actual behavior make believe one commit also includes various code cleanup,,
6627,38189cb411b4f2e9961f869fd177415d75c106ce,adav Har'El <nyh@cloudius-systems.com>, 2013-05-06 12:07:10 +0300, , better testing lockfree queue mpsc.hh add much better test lock free multi producer single consumer queue implementation thread push number onto queue single consumer read verifies received right order test uncovered bug fixed later commit test added patch written using concurrency apis std thread std etc instead osv apis two reason also helped uncover bunch bug pthread thread support test double another pthread test allows running test linux tell certain bug bug lockfree queue_mpsc underlying osv scheduler mechanism,,
6628,e5c98d466002d5fd4b65a46333c6935976703de1,adav Har'El <nyh@cloudius-systems.com>, 2013-05-06 11:57:46 +0300, , bug forgot zero .tbss section zero part led preempt_counter intialized zero therefore preemption enabled new thread non preemptable thread monopolize cpu cause thread misfortune assigned cpu never run patch add simple test reproducing bug implementation __tls_get_addr extern symbol sched preempt_counter test create new sched function extern test,,
6629,60985e5579d3f8dd6c8bbe56788029f67c906718,vi Kivity <avi@cloudius-systems.com>, 2013-05-06 11:43:57 +0300, , main zero thread local section somehow worked accident need zero .tbss section random data used initialize,,
6630,53fa57246733d8551f850d712993405e1d7095a1,vi Kivity <avi@cloudius-systems.com>, 2013-05-06 11:05:11 +0300, , boot adjust boot loader loaded payload size dynamically since packing entire file system boot image overflowed 128mb limit set adjust boot loader build time account actual loaded size fix wierd corruption startup,,
6631,9a025178b66eb14ea8a90afabde116bc970cb86a,adav Har'El <nyh@cloudius-systems.com>, 2013-05-02 23:56:43 +0300, , use new condition variable implementation pthread convert pthread implementation condition variable use previously committed zero initializable condition variable work expected condition variable,,
6632,68d98dc3d099c74ddc50f6a3ce60a561796c9f8d,adav Har'El <nyh@cloudius-systems.com>, 2013-05-02 23:53:36 +0300, , basic test condition variable added basic test condition variable sure test written good start find bug however avi say may mean test good enough bug way also checked condition variable run using pthread yet committed java condition variable seem working fine,,
6633,bab708c4857719fb047304e11119a499073bdfd2,vi Kivity <avi@cloudius-systems.com>, 2013-05-02 16:39:52 +0300, , libc implement sysconf _sc_iov_max,,
6634,29c5604175e8fbb03942cc5f690e964662a0c13a,vi Kivity <avi@cloudius-systems.com>, 2013-05-02 16:39:22 +0300, , vfs add stub chmod,,
6635,28658067195b17f6a37f10d2b279e7a8ad0c3798,vi Kivity <avi@cloudius-systems.com>, 2013-05-02 16:23:48 +0300, , vfs fix namei returning success using regular file directory file incorrectly used directory bin foo namei detects fails return error code later open uninitialized vnode segaults fix returning enoent fix fontconfig segfault randomly try open file mac font resource data fork,,
6636,145adb0b8c4c7b1c2827b95644d9630d3475cc5c,vi Kivity <avi@cloudius-systems.com>, 2013-05-02 16:22:23 +0300, , mmu round size argument mmap munmap following linux following manual page,,
6637,52f214d4e1f96c825a0d95ccf116769f716bc4b1,vi Kivity <avi@cloudius-systems.com>, 2013-05-02 15:05:56 +0300, , libc add random_r friend,,
6638,ffabd4c1fef64f19e89e45cee20482462d2d7819,vi Kivity <avi@cloudius-systems.com>, 2013-05-02 13:21:19 +0300, , libc add __memcpy_chk needed fontconfig,,
6639,aab9cfd7f10632704e9be7c142c6d3269ef41402,vi Kivity <avi@cloudius-systems.com>, 2013-05-02 13:02:42 +0300, , libc import rand.c random.c musl wanted fontconfig,,
6640,98dcda8157e0763e7e5dff2dd3db303d58e67c09,vi Kivity <avi@cloudius-systems.com>, 2013-05-02 12:57:58 +0300, , bootfs add liberation font,,
6641,5923066db372112d00ed2fb520fa8fdce86260b9,vi Kivity <avi@cloudius-systems.com>, 2013-05-02 12:57:32 +0300, , external update misc.bin liberation font,,
6642,8fac0b382005ebd2bb3a4165a3a7057e6db4e29c,vi Kivity <avi@cloudius-systems.com>, 2013-05-02 12:09:28 +0300, , libc add __vfprintf_chk needed fontconfig,,
6643,3d2a5be5b75cb8bc1e56d80da42d37d8aebecfee,vi Kivity <avi@cloudius-systems.com>, 2013-05-02 11:37:46 +0300, , main set elf search path include usr lib fontconfig.so loaded without fully qualified path expects search path used,,
6644,208742b51c6aeb34d1c4821e5dca3496d6313925,vi Kivity <avi@cloudius-systems.com>, 2013-05-02 11:37:01 +0300, , elf add facility set search path file without need looked via search path,,
6645,c8a62f6dcf8237d396a5c187c375cd8728f5fe17,vi Kivity <avi@cloudius-systems.com>, 2013-05-02 11:36:24 +0300, , bootfs add fontconfig dependency,,
6646,dbbf88c01c96fcdc3a4514aa46e09d5419d11f43,vi Kivity <avi@cloudius-systems.com>, 2013-05-01 17:13:13 +0300, , external update misc.bin font related binary,,
6647,5cf6a2d740b4770deff588781aac2734007bf662,vi Kivity <avi@cloudius-systems.com>, 2013-05-01 15:25:44 +0300, , vfs add tracepoints open stat,,
6648,b42af5b9a96863e2dfe0d88f4a3ba3d0fad2b989,vi Kivity <avi@cloudius-systems.com>, 2013-05-01 15:24:31 +0300, , vfs rename class file class file wrapping struct file conflict rename class file long term disappear,,
6649,14b907ebaee8ce15d81e2e551e1aa63c48b19d0c,vi Kivity <avi@cloudius-systems.com>, 2013-05-01 15:07:09 +0300, , vfs convert main.c allows inserting tracepoints,,
6650,121607059296870ee539bf5b8e07fc1d4cb8ecb9,vi Kivity <avi@cloudius-systems.com>, 2013-04-30 18:02:48 +0300, , build add static etc host sure want make resolver stuff work,,
6651,10a6fb86f6acea23bfd7152e6f374d3297a9e4ad,vi Kivity <avi@cloudius-systems.com>, 2013-04-30 18:01:56 +0300, , libc rename node name hostname osv.local,,
6652,1c98ffc5095d26ae66c2913aec7d391752838f59,vi Kivity <avi@cloudius-systems.com>, 2013-04-30 17:15:19 +0300, , libc add bunch network related function musl used jvm apparently libawt.so startup,,
6653,0e6542ed69b548a7df899a4442745fbb338b0cb7,uy Zana <guy@cloudius-systems.com>, 2013-05-01 16:54:50 +0300, , bsd ditch spurious call getsock_cap,,
6654,67c23e7f7bc0230ac61a3d01854d16d645bb7735,uy Zana <guy@cloudius-systems.com>, 2013-05-01 16:51:57 +0300, , bsd fix call kern_accept accept1 unintentionally ran file structure providing argument written,,
6655,9ca828022e49a72dcd285944b721fc3c39243f8f,uy Zana <guy@cloudius-systems.com>, 2013-05-01 16:50:05 +0300, , bsd rename argument name accept1 kern_accept describe purpose better,,
6656,e402a703207e1fc19d5b9431c828f29efffddb7c,uy Zana <guy@cloudius-systems.com>, 2013-05-01 11:36:40 +0300, , test add read timeout client socket,,
6657,43f9b73eb8b96084ce4250a4340c0b70408752ec,uy Zana <guy@cloudius-systems.com>, 2013-05-01 11:15:58 +0300, , net add verbose debugging socket api,,
6658,3c692eaa644c98e0f3e69d012dee361cbbd796e4,adav Har'El <nyh@cloudius-systems.com>, 2013-05-01 15:03:51 +0300, , unify mutex_t mutex type previously two different mutex type mutex_t defined osv mutex.h use code mutex defined mutex.hh use code difference unnecessary cause mess function need accept either type work code e.g. consider condvar_wait commit one include file osv mutex.h work code result type function defined plus additional convenience method variant function e.g. m.lock addition mutex_lock with_lock function mutex type called either mutex_t struct mutex code also called mutex code three name refer identical type longer different mutex_t mutex type commit also modifies includers mutex.hh use osv mutex.h fix miscelleneous compilation issue discovered process,,
6659,8ae8799da6995bca645b589a45d4d53edc2bb443,vi Kivity <avi@cloudius-systems.com>, 2013-05-01 13:57:02 +0300, , merge branch master github.com cloudius system osv tracepoint add string support tracepoints,,
6660,78e45e4d6cb773105be62b4b20a5b92e4e7b743a,vi Kivity <avi@cloudius-systems.com>, 2013-05-01 12:30:39 +0300, , script quote osv command line properly command line trace try shell wildcard expansion unwanted,,
6661,71810b2aa4a94be91804598ee00486489dd8d680,vi Kivity <avi@cloudius-systems.com>, 2013-05-01 12:30:22 +0300, , trace add test tracepoints string,,
6662,e514c84237810d5af3e83e60bd49ad07178a2c42,vi Kivity <avi@cloudius-systems.com>, 2013-05-01 12:28:39 +0300, , trace special handling string encode string copying value buffer instead storing pointer pointer type first character stored buffer size static limitation lifted later,,
6663,d9ecdc914d71e2c4267c6354d73f076c73fd32ae,vi Kivity <avi@cloudius-systems.com>, 2013-05-01 12:27:41 +0300, , trace push object serialization template allow specialize type later,,
6664,08dc35c94259245c201a220cab2d02c3edc7e81e,vi Kivity <avi@cloudius-systems.com>, 2013-05-01 12:26:32 +0300, , trace remove arbitrary restriction trace record size restriction protects nothing remove,,
6665,9ece86f74afcb55a9eb481fbd68f9e95263474c9,vi Kivity <avi@cloudius-systems.com>, 2013-05-01 12:24:00 +0300, , trace enable tracepoints loaded command line parsed command line syntax trace wildcard fails tracepoints loaded command line parsed example shared library fix keeping wildcards list applying tracepoint constructed,,
6666,31f5f920b8bc29eb19a4d3ee5dd050064efe9521,adav Har'El <nyh@cloudius-systems.com>, 2013-05-01 12:15:07 +0300, , new condition variable implementation added new condition variable implementation header file osv condvar.h usable code code code get additional convenience like using method instead global function condition variable type condvar_t struct condvar condvar besides working implementation two additional benefit previous one still pthread.cc removed followup patch condvar instance zero initialized need special initialization finalization function convar doe allocate memory wait record form wait queue kept waiting thread stack,,
6667,f737ff9435dcca905d4e436c1b95693abc424fde,adav Har'El <nyh@cloudius-systems.com>, 2013-04-30 23:51:44 +0300, , add missing newline otherwise line buffered shown,,
6668,06e423bd7cf4bb29257929fd35f048440cd46966,uy Zana <guy@cloudius-systems.com>, 2013-04-30 17:47:18 +0300, , cli add test command simple command invokes run method test class support autocomplete test name,,
6669,90a8d01c39646ca0ecb15b7c059497055599d46a,uy Zana <guy@cloudius-systems.com>, 2013-04-30 17:45:24 +0300, , java define test class accessible javascript,,
6670,9c25467e53b103313d531d3d69ef0196111afe13,uy Zana <guy@cloudius-systems.com>, 2013-04-30 17:42:58 +0300, , net add socket test written java test creates thread client server server echoing back message received client test extends mean accessible scope rhino,,
6671,24e2103126192973d9453a52ca8f930c498ce3fe,uy Zana <guy@cloudius-systems.com>, 2013-04-30 17:41:00 +0300, , java start cloudius.jar instead rhino shell cloudius.jar main entry point embeds rhino execute cli.js,,
6672,df763e80218d97929178f02c33b593938ce06747,uy Zana <guy@cloudius-systems.com>, 2013-04-30 17:34:30 +0300, , java add rhinocli.java instead running rhino.jar file embed rhino within class completely control context script engine reuse global initialize context done function importpackage available javascript patch still replace rhino shell,,
6673,a488933e15d3284cd9c0e484ceb2031dae3868c0,uy Zana <guy@cloudius-systems.com>, 2013-04-30 17:32:38 +0300, , java added small util class print classpath,,
6674,4852592f6cb116aa0ce6fa27ec1b349c2da34312,uy Zana <guy@cloudius-systems.com>, 2013-04-30 17:24:21 +0300, , java put jar file classpath java,,
6675,99ec3d2330c3ec6c01cc1b167793de9a492f04ce,rnon Kanfi <arnon@cloudius-systems.com>, 2013-04-30 15:49:25 +0300, , added tst lsrout copyright message bsd like,,
6676,470c032a8b50dddf1a31ae10939989981cd1c7cf,rnon Kanfi <arnon@cloudius-systems.com>, 2013-04-30 15:48:28 +0300, , add tst lsroute test utility show routing table similar way netstat route linux show metric ref use column probably added desired change required adding sysctl functionality osv added new function osv_sysctl uase argument sysctl moment support routing related function tested net_rt_dump dump routing table net_rt_iflist return network interface routing ops may run well last least tst lsroute support ipv6 implement yes possible implement whole thing java little jni magic ...,,
6677,c98a716e52af9f5a472d045b412b3c17b74784d1,vi Kivity <avi@cloudius-systems.com>, 2013-04-30 13:11:07 +0300, , merge branch master github.com cloudius system osv musl update,,
6678,ce8249356f81670a61c266a0a31fede458a5e18a,vi Kivity <avi@cloudius-systems.com>, 2013-04-30 13:09:14 +0300, , libc update musl,,
6679,aef150fc0f7c4f1891ef5a55102134146761fb43,adav Har'El <nyh@cloudius-systems.com>, 2013-04-29 19:05:05 +0300, , fix signal handling signal handler set previously got signal e.g. sigsegv generated page fault handler called signal handler even never set generating endless loop segfaults correctly check signal handler sig_dfl default abort sig_ign case ignore neither run signal handler fix make debugging easier endless loop handler trashing entire memory,,
6680,93a4eb3e42d5a20452d3f7ab32e3ee76af0471c5,uy Zana <guy@cloudius-systems.com>, 2013-04-29 18:15:29 +0300, , fcntl sync nonblocking async state file flag,,
6681,9d00dc6102ecab19e56f3e376fc581ac3ef99a0f,uy Zana <guy@cloudius-systems.com>, 2013-04-29 18:02:32 +0300, , ioctl remove freebsd specific ioctl include file,,
6682,617dceedd682f7601c13a0527ea11d3b60542035,uy Zana <guy@cloudius-systems.com>, 2013-04-29 18:13:56 +0300, , ioctl use osv ioctl.h use osv ioctl.h netport main.c various test change ioctl prototype agree glibc use variadic prototype specified sys ioctl.h,,
6683,ace9029920a0f20f2b9c545d3ffdc0a62a87301f,uy Zana <guy@cloudius-systems.com>, 2013-04-29 17:39:36 +0300, , ioctl provide linux freebsd merged interface include osv ioctl.h glibc sys ioctl.h add additional freebsd specific ioctls value specificaly netport used internally example osv_start_if siocaifaddr start interface,,
6684,c65d8e9dffabde19f86aec611e2514c3672616c7,uy Zana <guy@cloudius-systems.com>, 2013-04-28 22:29:13 +0300, , net fix recv recvfrom return number byte,,
6685,20c1cf540f17976cb8ecf405611de7e6e1d5e2a4,uy Zana <guy@cloudius-systems.com>, 2013-04-28 22:26:40 +0300, , mbuf fix porting bug refcount alloc,,
6686,a525291c744a9272571c1459ab4c085fbf8472fa,uy Zana <guy@cloudius-systems.com>, 2013-04-28 17:56:31 +0300, , net fix accept return sockaddr user kern_accept used return newly allocated sockaddr struct instead modifying given one porting issue since copying struct user kern_accept finish change calling convention kern_accept modify given sockaddr struct instead returning newly allocated one,,
6687,a8d1cce697a16dd1367ad49e9aa3a4d8b2ec59e6,uy Zana <guy@cloudius-systems.com>, 2013-04-28 17:47:54 +0300, , poll improve verbosity debug message,,
6688,cf92f2055ef2f710752a62155aa4493367ba79bb,uy Zana <guy@cloudius-systems.com>, 2013-04-28 17:46:43 +0300, , net complete port getsockname implement,,
6689,ca7df8bc8ebe4b4b98c5072caebb918513136546,uy Zana <guy@cloudius-systems.com>, 2013-04-28 17:41:10 +0300, , net fix ditch useless faulty ptrin ptrout used faulty cast address 32bit pointer,,
6690,24f7930177e4cd6e56fab6a93e4b3443912110a8,uy Zana <guy@cloudius-systems.com>, 2013-04-28 13:15:53 +0300, , fcntl fix ignore various flag f_setfl according man,,
6691,807ecb11a610ddbe9c4a22c0068d8af825fa0672,uy Zana <guy@cloudius-systems.com>, 2013-04-28 13:08:25 +0300, , net implement socketpair,,
6692,d4b6303425891e2791d763f3ec4245c780d45ef4,uy Zana <guy@cloudius-systems.com>, 2013-04-28 13:07:31 +0300, , net port,,
6693,8b621656bce3d0b97cf877178f7275c2b9be7390,vi Kivity <avi@cloudius-systems.com>, 2013-04-29 18:15:21 +0300, , bootfs reduce filename repetition instead specifying foo common path name bar common path name say foo common path name bar tell mkbootfs common name begin everything substituted host filesystem filename,,
6694,575401db9be9a3ec4d4005feaca7056b78323586,adav Har'El <nyh@cloudius-systems.com>, 2013-04-29 18:13:13 +0300, , implement stub bunch pthread function implement stub rest pthread function libstdc assumes exist pthread_cancel exists particular implement pthread_equal libstdc need implement thread joinable,,
6695,54a32b4083b9d348514bac79ee051d29e54c6079,vi Kivity <avi@cloudius-systems.com>, 2013-04-29 17:25:12 +0300, , bootfs add openjdk libnet.so needed libawt.so,,
6696,6929cd95cff89fe1f4f799e4e8709879d8d82ca9,vi Kivity <avi@cloudius-systems.com>, 2013-04-29 17:22:12 +0300, , dlfcn implement dladdr fix libawt.so startup,,
6697,a2dac6268d81c36105da36d682b975cc04d295a0,vi Kivity <avi@cloudius-systems.com>, 2013-04-29 17:21:41 +0300, , elf reverse lookup addr symbol needed dladdr,,
6698,9f8ee9611e5edae1db93d14a73b0427801edad22,adav Har'El <nyh@cloudius-systems.com>, 2013-04-29 16:27:18 +0300, , added option script run change command line added cmdline option script run change chosen image depending option run given command line example script run java.so jar something.jar note option change image default command line running script run without later run command line,,
6699,2e4c173999ded631c5a84494b0307ebc041c119d,vi Kivity <avi@cloudius-systems.com>, 2013-04-29 15:16:03 +0300, , build restore default command line run cli,,
6700,9941dd2c1f2898d5398487e9ae7520bb38ba5359,vi Kivity <avi@cloudius-systems.com>, 2013-04-29 14:08:29 +0300, , bootfs add awt native library,,
6701,87e34c59a71902afd704b1102de1924efc02f4c0,vi Kivity <avi@cloudius-systems.com>, 2013-04-29 13:57:57 +0300, , dlfcn add stub dlclose help jvm output error message failing load native library,,
6702,df43fcde3516f05a48940132907a8bc20c4bb5f6,vi Kivity <avi@cloudius-systems.com>, 2013-04-29 13:07:41 +0300, , external update openjdk,,
6703,2285423bdb49f9ecdf29f95ed8a4c6c0f36765b5,vi Kivity <avi@cloudius-systems.com>, 2013-04-28 17:37:56 +0300, , bootfs allow including directory tree bootfs syntax internal path name host path name,,
6704,490f1c999a35bfc0e261e6536540dbd92c72dc6b,rnon Kanfi <arnon@cloudius-systems.com>, 2013-04-28 20:25:34 +0300, , add tst ifconfig printing ifconfig information,,
6705,a3b492fbf6290e83c2eabf425e11a42d8be3dd3c,rnon Kanfi <arnon@cloudius-systems.com>, 2013-04-28 20:24:34 +0300, , new test printing ifconfig information,,
6706,6a0906bcddefea498acdfcba53b0c3c0109162d3,rnon Kanfi <arnon@cloudius-systems.com>, 2013-04-28 20:23:11 +0300, , added new test printing ifconfig information,,
6707,8261c348c2863febf2d76c29662e04cc64aaa5b8,rnon Kanfi <arnon@cloudius-systems.com>, 2013-04-28 20:01:40 +0300, , fixed broadcast address setting osv_start_if,,
6708,4b37e2c66edc67402c5eb83ceb21cfa0db938c94,rnon Kanfi <arnon@cloudius-systems.com>, 2013-04-28 19:49:55 +0300, , added emacs autosave file,,
6709,bedd64cec785f1f292b6cbd6e97aee75778bd9ab,rnon Kanfi <arnon@cloudius-systems.com>, 2013-04-28 19:36:55 +0300, , removed spurious sys includes caused system include file used instead,,
6710,82a096ea44965150ed8ffb708ba2a0da4b6f53f6,rnon Kanfi <arnon@cloudius-systems.com>, 2013-04-28 19:24:20 +0300, , merge branch master github.com cloudius system osv,,
6711,433d6ad2861c86eb5566982c4f431fe1a467cba4,rnon Kanfi <arnon@cloudius-systems.com>, 2013-04-28 18:00:43 +0300, , fixed typo script name,,
6712,ac3befef2ffb9a1d52429dad06cacc2a97543032,adav Har'El <nyh@cloudius-systems.com>, 2013-04-28 17:36:52 +0300, , add pthread_once stub pthread_cancel libstdc check inline function whether pthread_cancel function exists library decide multi threaded program make locking related decision probably regret later important add pthread_cancel even stub patch add pthread_cancel libstdc start using pthread_once ensure initialization e.g. locale happens exactly stupidly stub nothing initialization never happen patch includes full implementation pthread_once,,
6713,97cb5f0b26fb1de039c00a004f93d5521deabf1a,vi Kivity <avi@cloudius-systems.com>, 2013-04-25 17:00:11 +0300, , kvmclock detect via cpuid setting available e.g xen crash,,
6714,6a227bd0f41bdbaad2f6201684a9ca34ca84bd41,vi Kivity <avi@cloudius-systems.com>, 2013-04-25 16:59:18 +0300, , cpuid parse kvm cpuid,,
6715,f7ed5c0a61b81c5ff6d9744049a7973eeb83c654,vi Kivity <avi@cloudius-systems.com>, 2013-04-23 16:26:41 +0300, , mmu convert hardcoded pt_index call pt_index,,
6716,cd36c57b5eb617c20943a18ef9dd06a93a6c92fa,vi Kivity <avi@cloudius-systems.com>, 2013-04-22 18:36:34 +0300, , mmu fix page freeing race free page remove page table cpu still access window may already allocated someone else change order add fixme tlb flush,,
6717,3115a6681499ea402652ac83ac0d45c18abdd700,vi Kivity <avi@cloudius-systems.com>, 2013-04-22 18:12:28 +0300, , mmu prevent compiler optimization writing pte often build pte temporary variable assign hardware page table atomically compiler however allowed build pte directly destination mark access volatile prevent compiler,,
6718,6aa6bc96ba5e36d45183019d93622638f5a386c2,vi Kivity <avi@cloudius-systems.com>, 2013-04-22 17:59:51 +0300, , mmu wrap hardware pte pointer class xen doe allow write directly page table create class represent pointer pte require pte access use class,,
6719,81448d68c31579d672716498f153c66765963582,vi Kivity <avi@cloudius-systems.com>, 2013-04-22 17:22:20 +0300, , mmu introduce follow function following pte reduces duplicate code,,
6720,5b1999372cc9e5a48044ccf1c467421b8cd23df3,vi Kivity <avi@cloudius-systems.com>, 2013-04-22 17:15:21 +0300, , mmu make change_perm atomically change permission avoid permission changing gradually instead change especially important xen change trap note compiler still undo since ptep volatile fixed later,,
6721,baeec3dcac683d472c75f8dd1a88a5ecef186366,vi Kivity <avi@cloudius-systems.com>, 2013-04-22 17:10:49 +0300, , mmu change pt_element class xen forcing strange game ptes page frame suddenly machine address permission change need encapsulate access ptes change pt_element class catch direct access underlying value,,
6722,d239c96bc6a6b5483241caa21ee66d9a33efc9fe,vi Kivity <avi@cloudius-systems.com>, 2013-04-22 15:02:00 +0300, , mmu correctly mask pat bit large page large page bit used pat small page nonleaf page used page address provide level parameter pte_phys create new masking correctly affect anything since use pat impossible xen doe,,
6723,2161c621943290dbcfadfc3268a87915ca2fbe2e,vi Kivity <avi@cloudius-systems.com>, 2013-04-22 14:44:57 +0300, , mmu add interface set number available page size usual 1gb page xen possibly later extended,,
6724,755e743ce8add79b10c49769bc42dce20dc05ea0,vi Kivity <avi@cloudius-systems.com>, 2013-04-21 16:31:09 +0300, , elf ignore rela relocation null apparently xen loader doe relocation clear entry,,
6725,1f198825402614ee659db25f06179bd181292c3d,vi Kivity <avi@cloudius-systems.com>, 2013-04-18 18:47:41 +0300, , build collect elf note output object needed pas metadata xen,,
6726,8f7a6517538ac105115de57ace1f63824b243046,adav Har'El <nyh@cloudius-systems.com>, 2013-04-25 22:56:41 +0300, , remove unnecessary switch backtrace code code ugly enough actually need loor switch make even uglier,,
6727,0928c310b0443db9351381b1b4693ebf2728fd7f,adav Har'El <nyh@cloudius-systems.com>, 2013-04-25 19:02:52 +0300, , added short intro using leak detection readme,,
6728,b7295cc45c72d640d6ab2ae90b586d485d88ec8d,adav Har'El <nyh@cloudius-systems.com>, 2013-04-25 18:42:31 +0300, , changed backtrace implementation allow lead detection java previous implementation backtrace work java running see comment code commit explanation wrote third implementation backtrace doe work java leak detection done java test .so please note backtrace relies frame pointer currently omitted release build used debug build seeing use backtrace leak detection guess acceptable reminder use leak detection easiest thing add leak command line paramter loader start leak detection entering payload osv boot make mode debug script imgedit.py setargs build release loader.img leak java.so try3 script run run java try3.class use whatever command line want let run till end gdb build debug loader.elf gdb connect gdb osv syms gdb set logging gdb set height gdb osv leak show please note osv leak show take time even minute java allocates myriad object gdb inspect simple test 18689 allocation 1300 different call chain alive end printing take time doe looking ... eventually add better tool finding suspicious block,,
6729,600f960b8947d5f71b7bf0ee6ed28d372c71aa4b,adav Har'El <nyh@cloudius-systems.com>, 2013-04-25 14:27:37 +0300, , added leak command line option added loader command line option leak enable leak detector immediately running payload main example look leak tst fpu.so none way script imgedit.py setargs build release loader.img leak test tst fpu.so end look leak detection result gdb build release loader.elf gdb connect gdb osv leak show unfortunately work payload java still trying figure,,
6730,41876afd7e7d60f6b9b1c4eaccbc6134826c6f26,uy Zana <guy@cloudius-systems.com>, 2013-04-25 09:55:03 +0300, , test use const indicate buffer size,,
6731,519f72ceca5eed274eb4aaf2fb416c13ebc97d48,uy Zana <guy@cloudius-systems.com>, 2013-04-25 09:31:06 +0300, , net use linux socket compatibility layer use linux_xxx socket interface relevant test using glibc header seem pas,,
6732,2433368d41b13d37da28d444293c316ad4fc6600,uy Zana <guy@cloudius-systems.com>, 2013-04-25 09:30:21 +0300, , net expose linux_xxx function uipc_syscalls.h,,
6733,4c8f18ceaa36891f3e345bdb4cdd95a09c05e199,uy Zana <guy@cloudius-systems.com>, 2013-04-25 09:28:39 +0300, , net add linux socket compat layer makefile,,
6734,13f500caad2802018b3865aab68b771435da7c10,uy Zana <guy@cloudius-systems.com>, 2013-04-25 09:26:20 +0300, , net import linux socket compatibility layer makefile port linux socket compatibility layer form freebsd freebsd compatibility done support execution 32bit elf rewrite code linux_socket.c special note sendmsg recvmsg put assert handle ancillary data msg msg_control call made function msg msg_control null fail need emerge handle part later also original compatibility layer handled type message credential right ignore osv,,
6735,589c676a2d5f643c0df49f5a6476181da3b5b77f,uy Zana <guy@cloudius-systems.com>, 2013-04-24 13:08:37 +0300, , net expose kern_recvit needed linux compatibility layer,,
6736,7939deaf9309337c2cdf8f7bfb2c7577f9af9f8a,uy Zana <guy@cloudius-systems.com>, 2013-04-25 12:44:44 +0300, , cli added documentation text file,,
6737,ebce988726291ed4903f3c62262b1a73133f8977,adav Har'El <nyh@cloudius-systems.com>, 2013-04-24 23:38:31 +0300, , fix leak pthreads pthread created attribute attr doe need pthread_join resource importantly stack deleted soon done previously ignored mode causing user java thread ever pthread_join thread leak thread stack patch add support mode add test tst_leak.cc verifies patch leak unfortunately patch bit ugly surprised much time took actually get work convoluted relationship pthread_ pthread_private pthread sched thread sched detached_thread ended many rewrite duplicating reaper code sched detached_thread something similar detached pthreads i.e. detached pthread finish pthread_join would cause mess destroys stack instead tell different thread reaper thread run pthread_join future would nice create one generic reaper used detached sched thread pthreads even find way allow thread pthread_join last action,,
6738,a0bb7dd75acf264d07318007e74034df1925e4ec,vi Kivity <avi@cloudius-systems.com>, 2013-04-24 19:02:50 +0300, , revert sched protect wait_until preemption reverts commit purpose already done commit 61679edea8 pointed nadav,,
6739,17e62a3479afe9ce09c27cf75d42a6d8ef693948,vi Kivity <avi@cloudius-systems.com>, 2013-04-24 19:02:02 +0300, , runtime make abort crash processor immediately,,
6740,0acf0b4086d0deabb99f68a8e86a6508d61ae297,vi Kivity <avi@cloudius-systems.com>, 2013-04-24 19:01:37 +0300, , apic add method send nmis,,
6741,e97012fb2b146474a4fe8452dec0be4f662d5611,vi Kivity <avi@cloudius-systems.com>, 2013-04-24 17:48:14 +0300, , merge branch memdebug memory debugging facility compile conf memory_debug,,
6742,56b1f6b2528fa03afb996eb6629e3b2fb2c4c9a6,vi Kivity <avi@cloudius-systems.com>, 2013-04-24 17:37:32 +0300, , memory debug allocator allocator work giving allocation virtual address range reused later allocation free range made inaccessible forever use free result page fault sub page overrun also detected filling unallocated space pattern checking whether pattern altered free,,
6743,10b88032bdb622b99b8956c6b67f682b2fd1c50f,vi Kivity <avi@cloudius-systems.com>, 2013-04-24 16:55:34 +0300, , gdb add command walk page table gdb osv pagetable walk addr,,
6744,ecf5f7949b599912e82d2ecde35d0e5f42474087,vi Kivity <avi@cloudius-systems.com>, 2013-04-24 16:53:28 +0300, , main disable pic earlier early code may enable interrupt get hit spurious interrupt,,
6745,efa6168712df394f8b67bfd1c48ba04650b199a5,vi Kivity <avi@cloudius-systems.com>, 2013-04-24 16:50:13 +0300, , sched protect wait_until preemption preempted wait_until thread state waiting scheduler put sleep wake arrive back sleep wait wakeup guaranteed disable preemption avoid case,,
6746,78cefa1513c1adb5031c867eb9715272017064de,vi Kivity <avi@cloudius-systems.com>, 2013-04-24 16:49:01 +0300, , sched drop spurious preempt_enable yield yield random preempt_enable drop,,
6747,ac8e26d48b5b9d09fbcc6037899192473b98aba1,vi Kivity <avi@cloudius-systems.com>, 2013-04-24 16:48:38 +0300, , mmu lock vpopulate vdepopulate,,
6748,64bbaee1a60aaa9a5111c93f5ed3cdcb7949025b,vi Kivity <avi@cloudius-systems.com>, 2013-04-24 16:48:08 +0300, , mmu expose page_size,,
6749,361b392c7bd72ba89fcac8b516ea0884ed653c50,vi Kivity <avi@cloudius-systems.com>, 2013-04-24 11:41:30 +0300, , mmu add interface directly populate depopulate virtual range used overrun detector,,
6750,2d7a1b1d061e560e1ea1916dfb0388f2525b043c,vi Kivity <avi@cloudius-systems.com>, 2013-04-23 19:04:13 +0300, , mmu change linear_map accept void virtual address easier user,,
6751,74738922b2a5670dc986371a3d3d7a537d082171,vi Kivity <avi@cloudius-systems.com>, 2013-04-23 18:40:08 +0300, , memory wrap malloc friend prepare alternate leak detecting implementation,,
6752,de6ee8d0962d22532bb723cecd339659b904425c,vi Kivity <avi@cloudius-systems.com>, 2013-04-23 16:15:00 +0300, , x64 switch phys_mem used xen avoid,,
6753,c9d99ac867f8be4cf9ad94b13d6e6231a42e33c4,uy Zana <guy@cloudius-systems.com>, 2013-04-24 11:11:17 +0300, , fcntl fix f_dupfd handling find lowest equal arg,,
6754,18c0cc36bed354b269b039d1b0f97aad452957a2,uy Zana <guy@cloudius-systems.com>, 2013-04-24 11:08:44 +0300, , fdesc add variant fdalloc take min_fd argument needed implementation f_dupfd fcntl,,
6755,698b68614c32268c6d44916cb918f65cb2a1bd85,uy Zana <guy@cloudius-systems.com>, 2013-04-23 18:52:31 +0300, , net rename out_fp out_fd various function,,
6756,5cac327401e602aca6306e97a818b0818b02c3b8,uy Zana <guy@cloudius-systems.com>, 2013-04-23 18:49:49 +0300, , net expose kern_xxx private socket function kern_xxx function needed linux compatibility layer,,
6757,819d603c6a48bf9f08d65a3aded058b937489b3c,uy Zana <guy@cloudius-systems.com>, 2013-04-23 18:46:34 +0300, , fcntl add lock around f_setf,,
6758,7749d581eadde4007a9f05cb519dbe91e227b969,uy Zana <guy@cloudius-systems.com>, 2013-04-23 18:39:35 +0300, , fcntl fcntl return f_setfl,,
6759,32918326c31f33806c7aea3a12e660a3f8f79087,uy Zana <guy@cloudius-systems.com>, 2013-04-23 18:38:21 +0300, , fcntl add f_getfl f_setfl handling needed linux_socket compatibility layer,,
6760,898b338aa0a8a0c15dd06f78561a31c22a20e893,uy Zana <guy@cloudius-systems.com>, 2013-04-23 18:17:01 +0300, , fcntl fix add break switch statement,,
6761,6c845bf6878ceb50696c61d1785b43a3150aef24,uy Zana <guy@cloudius-systems.com>, 2013-04-23 17:39:11 +0300, , test detach tst bsd tcp1 tst hub make standalone,,
6762,2ec0d077eec8248360845b2a4fa4136b4bf761f1,uy Zana <guy@cloudius-systems.com>, 2013-04-23 17:29:15 +0300, , test synchronize individual test within tst socket,,
6763,55db1a6302d472c1f8550176c3991013d5515ad0,uy Zana <guy@cloudius-systems.com>, 2013-04-23 17:03:34 +0300, , test detach tst socket tst hub make standalone,,
6764,a0e8888cc4c1e0394202ea0bea16219c60ca865d,vi Kivity <avi@cloudius-systems.com>, 2013-04-23 16:11:37 +0300, , mmu consolidate appearance variable eliminate duplication,,
6765,172168734ab3619de6be00aa07d843b179338c7a,adav Har'El <nyh@cloudius-systems.com>, 2013-04-23 18:40:43 +0300, , avoid recursive aborted printout memory badly corrupted attempt print aborted abort cause endless recursion abort filling stack eventually since stack guard everything let avoid printing aborted message inside abort,,
6766,b41f14604c8b95b1e1d5d6b8d8938d04cbcfc31c,adav Har'El <nyh@cloudius-systems.com>, 2013-04-23 18:37:31 +0300, , flush_tlb avoid ipi synchronization protocol one cpu flush_tlb avoid ipi synchronization protocol one cpu still tiny amount memory vector purpose even one cpu really bother anyone fix ...,,
6767,61c0f6ffc2c0c2f9b051e106c3f25925d424fabc,vi Kivity <avi@cloudius-systems.com>, 2013-04-23 17:00:05 +0300, , trace fail current code thread happens corner case,,
6768,bc35698197e1094db5693d4d6b03aecaa20111da,vi Kivity <avi@cloudius-systems.com>, 2013-04-23 16:59:14 +0300, , sched instrument function used instrumentation code,,
6769,1733c8f185f25cc8e476295d3fd4d9e08474d510,vi Kivity <avi@cloudius-systems.com>, 2013-04-23 15:28:38 +0300, , libc fix sysconf current implementation return leading jre optimize uniprocessor host unfortunately optimization unsafe smp leading hang fix returning real number processor,,
6770,8edb439c3ad26c8d02c2e79d5f04eba4eab94733,vi Kivity <avi@cloudius-systems.com>, 2013-04-23 15:24:35 +0300, , linux implement gettid,,
6771,7e0cac3131618e5c0d560842970928a06139086e,adav Har'El <nyh@cloudius-systems.com>, 2013-04-23 13:49:53 +0300, , add apic ipi_allbutself sorry also forgot commit earlier add new function send api processor accept one,,
6772,9a7c590ae8b61a3aad74fd3136b6a4526a510f3c,adav Har'El <nyh@cloudius-systems.com>, 2013-04-23 13:46:31 +0300, , forgot add java build.xml ...,,
6773,f76138e0c9171747aadcfd638a7788b230f8a68e,adav Har'El <nyh@cloudius-systems.com>, 2013-04-23 01:13:29 +0300, , fix tlb_flush also flush cpu previously mmap munmap mprotect flushed current processor tlb wrong patch add test tst mmap.cc check case one thread writes memory successfully second thread second cpu mprotects memory first thread writes wrongfully succeeds tlb flushed cpu fixed bug tlb_flush send ipi processor telling flush tlb call tlb_flush return processor flush tlb slow necessary correctness ... new test tst mmap.cc pass i.e. second write fails expected unfortunately fix systemic bug noticed earlier surely caused bug future fix,,
6774,b58cde5b2b73d2d2623ea5051a23670ea8c66f35,adav Har'El <nyh@cloudius-systems.com>, 2013-04-23 01:08:20 +0300, , allow setting sigsegv handler even using pthreads page fault handler used abort current thread pthread thread instead calling handler see reason ruined ability catch desired write fault two thread two cpu mprotect test,,
6775,9e7ee944d7a59c785e422770de0ca324e6a279de,adav Har'El <nyh@cloudius-systems.com>, 2013-04-23 01:03:05 +0300, , allow creation new sched thread pinned specific cpu previously option create pinned thread always run cpu current thread kind odd changed boolean attribute pinned cpu attribute specifying cpu pin example code run start new thread pinned cpu new sched thread ... sched thread attr sched cpu need feature test cross cpu tlb flushing feature need able run two thread two different cpu,,
6776,74ed795b8f374c87010c70040bf0acba74c365c6,adav Har'El <nyh@cloudius-systems.com>, 2013-04-22 23:28:24 +0300, , changed mmap test tst hub include separate .so changed mmap test tst hub include separate .so making easier run separately also removed bunch redundant dependency build.mak,,
6777,448a1d519af3cf9c443302a1dd0dd28c20713333,adav Har'El <nyh@cloudius-systems.com>, 2013-04-22 18:15:06 +0300, , add build framework java class jni added build make framework compiling java code want run osv java payload well jni i.e. osv specific code want run java code java source file java src compiled build see java build.xml ant file compilation result one jar build mode java cloudius.jar cloudius.jar bootfs easily change build.xml create one want example jni used working yet balloon feature java src com cloudius balloon balloon.java class supposed one native implemented function giveup function implementation java jni balloon.c get file compile balloon.so put usr lib jni bootfs adding java jni balloon.so jni list build.mak know write ugly function signature seen java jni balloon.c run javah build empty function needed implementing native function defined class,,
6778,6abe05cd0c5f45b301f424527d2224b1e41e5ace,adav Har'El <nyh@cloudius-systems.com>, 2013-04-22 13:08:16 +0300, , fix implementation tcgets ioctl console implemented tcsets ioctl tcgets used patch implement trivial tgets need standard idiom program switch raw mode use tcgets save original mode use tcsets exiting restore original mode also used sys ioctl.h definition host ... instead ugly ioctl number,,
6779,39a80e712eea2c42ffdd192a4a58ec7fa78390bc,uy Zana <guy@cloudius-systems.com>, 2013-04-22 11:20:33 +0300, , initial javascript cli implementation run javascript cli default boot implement trivial version cat pwd help need raw mode console handle backspace tab provide autocomplete support,,
6780,6273b858baaeaf9581ef1cb40ac2514e6921231a,uy Zana <guy@cloudius-systems.com>, 2013-04-22 11:52:34 +0300, , use raw mode default conosle javascript cli owns echo line editing discipline need raw mode console,,
6781,697c98cda9c8348d34a7e7b086fda6737e8293c7,uy Zana <guy@cloudius-systems.com>, 2013-04-22 11:19:22 +0300, , added readdir64_r alias readdir_r needed javascript console support,,
6782,46ead3140bdbaab66902c65faa5459e5a2acc389,hristoph Hellwig <hch@cloudius-systems.com>, 2013-04-22 05:01:03 +0200, , update readme,,
6783,1cb76b7ca484f9429cf21a24e1cbb4f27ec128f0,adav Har'El <nyh@cloudius-systems.com>, 2013-04-17 23:30:01 +0300, , fixed two bug pthread implementation pthread_join allow retval null case return value ignored therefore need use void void otherwise passing null cause pthread_join crash strange way pthread_join forgot delete object allocated pthread_create,,
6784,4823338d6a83e35f9e70d722d9df181d213ff722,adav Har'El <nyh@cloudius-systems.com>, 2013-04-17 21:16:41 +0300, , fix memory leak mmap munmap mmap munmap cousin mmu map_ used leak byte vma object twice idea separate reserve map good one implemented incorrectly causing vma object allocated twice per mmap leaked evacuate free  switched simpler implementation vma object internal mmu.cc used caller struct vma properly allocated per mmap freed munmap,,
6785,8e73271f4634fab8a67ba1f3e5fc23f16c3e3ef7,vi Kivity <avi@cloudius-systems.com>, 2013-04-17 18:58:01 +0300, , sched fix thread queued runqueue used rbtree insert_unique insert value unique uniqueness defined term ordering function compare vruntime object identity result another thread queued exactly vruntime new thread queued fix using rbtree insert_equal insert unconditionally fix callout unit test,,
6786,f9e6b500baebb2bacd81cc751cabf68ff32b3319,uy Zana <guy@cloudius-systems.com>, 2013-04-17 18:46:43 +0300, , net added license text file rsa md5 function,,
6787,7fae1b1f45c1e78c2b2599ee61782fc775f0830b,uy Zana <guy@cloudius-systems.com>, 2013-04-17 16:40:19 +0300, , net add tcp test tst hub creates thread client server perform tcp echo service complete 400 cycle accept read write close server socket connect write read close client,,
6788,4d3216247589e7ce8aa8590567bd8ce079eb083d,uy Zana <guy@cloudius-systems.com>, 2013-04-17 16:36:26 +0300, , net integrate tcp networking port,,
6789,3e95905dbeaa228305586aeabbcf3da5bb0c1b37,uy Zana <guy@cloudius-systems.com>, 2013-04-17 16:31:34 +0300, , net release file pointer reference socket someone doe close,,
6790,a19606802008fbf2504faf87d6cb583fcc465faa,uy Zana <guy@cloudius-systems.com>, 2013-04-17 17:40:57 +0300, , test use tprintf instead print callout test,,
6791,73b724441d9815d63c291464c7b3ef8775013bde,uy Zana <guy@cloudius-systems.com>, 2013-04-17 14:45:29 +0300, , bsd add callout test,,
6792,4f09d3cdf526fac2e05c3b6b3d824be066ebeb8b,uy Zana <guy@cloudius-systems.com>, 2013-04-17 14:38:15 +0300, , bsd add osv info callouts command gdb,,
6793,bf47a126a54f01220e18111cd485deff308dbc17,uy Zana <guy@cloudius-systems.com>, 2013-04-17 14:34:16 +0300, , bsd revise callout implementation fix many race use mutex protect access callout data structure delete callout c_state use original callout flag also update callout_pending callout_active accordingly support correct behaviour callout_pending callout_active  implement mutex version used tcp syncache add debug print,,
6794,0a69c1e4c0969d9b8b99034495cb4b5466359f40,uy Zana <guy@cloudius-systems.com>, 2013-04-17 14:25:51 +0300, , bsd shut msleep wake logging,,
6795,313ce0cd9837bd7219b0c99c7bc017769e347928,uy Zana <guy@cloudius-systems.com>, 2013-04-17 14:23:43 +0300, , bsd remove free malloc declaration netport.h,,
6796,186ad05bdbf2ac49a04f9a348acf901654f4ab4c,uy Zana <guy@cloudius-systems.com>, 2013-04-17 14:21:57 +0300, , bsd add implementation fixme sx_slock empty stub,,
6797,c8bc08b9469d0be65c00b592d03a6aaa117a3f29,uy Zana <guy@cloudius-systems.com>, 2013-04-17 14:21:03 +0300, , net implement get_ticks expose global int tick used tcp,,
6798,03fc47de0d6ce0c74d86571970b8af871e4fc591,uy Zana <guy@cloudius-systems.com>, 2013-04-17 14:19:54 +0300, , net implement getmicrouptime,,
6799,37f536900047ebc9e1b4b87ca026fce4c65d206d,uy Zana <guy@cloudius-systems.com>, 2013-04-17 13:24:04 +0300, , net ported tcp related file,,
6800,f56b8fef3a345c8ba279f2d5b9bd0ae1a93db61f,uy Zana <guy@cloudius-systems.com>, 2013-04-17 13:22:26 +0300, , net fix bug port left something important connect fails due missing line,,
6801,4b70e636176e0fb8fb5531c8cde25b28d5a7320b,uy Zana <guy@cloudius-systems.com>, 2013-04-17 13:19:40 +0300, , put lock around debug print logger log line reaching console synchronized way,,
6802,5a9421dd5571a3d3463db526caee7ae515afaa8b,uy Zana <guy@cloudius-systems.com>, 2013-04-17 13:17:30 +0300, , bsd remove unnecessary fixme,,
6803,02f135971b9d469a76f3c34c88635ae67a77ee95,uy Zana <guy@cloudius-systems.com>, 2013-04-17 13:11:25 +0300, , net fix socket api handle socketlen_t len corrently previousely len argument handled correctly returned user sockaddr salen initialized api possible,,
6804,ab14dcaea99283f6363cbdc3177904c98da50c3c,uy Zana <guy@cloudius-systems.com>, 2013-04-17 13:07:51 +0300, , bsd remove unnecessary critical_ stub,,
6805,fd44ce8969f18e210adf86dbb534e57a5a9a2eb7,uy Zana <guy@cloudius-systems.com>, 2013-04-17 13:04:25 +0300, , remove recursive lock feature rwlock implemented already mutex rwlock stub written mutex recursive need extra recursive layer rwlock,,
6806,6cc68214b149bcb56f57d3d1d8d1ce7e2ce80dcc,uy Zana <guy@cloudius-systems.com>, 2013-04-15 16:52:57 +0300, , net add debug message uipc_socket.c,,
6807,447f113a34a52c06a337e7de2ebf3f44ba4f8887,uy Zana <guy@cloudius-systems.com>, 2013-04-15 16:46:02 +0300, , net fix race netisr worker thread move work mark handler handler execution another thread may signal netisr worker thread avoids race,,
6808,cfe1d98ccc2bd24d8f0b819d4c74e4a37f7a8c40,uy Zana <guy@cloudius-systems.com>, 2013-04-15 16:44:43 +0300, , net fix read_random prototype needed tcp,,
6809,420f5771b3cd02876f80a490a3d60f303920d237,uy Zana <guy@cloudius-systems.com>, 2013-04-15 16:41:32 +0300, , net implement kassert,,
6810,22aa21bf386913e3048d185e2e5ec1fb18891610,uy Zana <guy@cloudius-systems.com>, 2013-04-17 16:51:16 +0300, , net fix socket private layer function call test sock_raw used sosend sosend_dgram soreceive_dgram,,
6811,e24b1557026828fbd635e33a5c5547045bdec096,uy Zana <guy@cloudius-systems.com>, 2013-04-15 16:38:11 +0300, , net import md5 routine freebsd used tcp,,
6812,35ae1f8fc681d2a9b5909aa90ca171919f5296b5,uy Zana <guy@cloudius-systems.com>, 2013-04-15 16:34:38 +0300, , net remove subr_bufring.c drbr driver interface bufring never used driver osv useful,,
6813,4ad9c9fa91b870d27e1e143d7af50b82b7896b9e,adav Har'El <nyh@cloudius-systems.com>, 2013-04-17 18:18:52 +0300, , replace tst leak.hh part tst hub stand alone test tst leak.so enables leak detection run thing interest disables leak detection osv leak show running test show leak using confirm fixing leak trying fix,,
6814,573684880396a320597c79c145aa5d2304a0157d,vi Kivity <avi@cloudius-systems.com>, 2013-04-17 17:54:18 +0300, , sched allow wake reschedule want reschedule woke local thread since may higher priority however commit 31572c8593 broke changing preemption counter fix adjusting check take account noted nadav,,
6815,c0cfd454eb5b7f5ed8afeae6cd7aa8b11b0e0588,vi Kivity <avi@cloudius-systems.com>, 2013-04-17 17:45:52 +0300, , build strip binary disk image save 17mb,,
6816,7c76ab916a88c1d687b2ecdfba0f7f74e17380bf,adav Har'El <nyh@cloudius-systems.com>, 2013-04-17 17:30:12 +0300, , slightly refined implementation getdepth sorry forgetting commit earlier,,
6817,1134598dc55d2f40017cb8590b777886b368829d,vi Kivity <avi@cloudius-systems.com>, 2013-04-17 17:16:54 +0300, , mutex add missing getdepth,,
6818,31572c85935df331544e53e9e2db9c5f88d82c6c,vi Kivity <avi@cloudius-systems.com>, 2013-04-17 17:00:07 +0300, , sched fix called preemptible context may called preemptible context since manipulates per cpu variable fix eliminating call one call site call removed since called immediately afterwards interrupt disabled call site push call existing irq disabled region fix livelocks thread placed queue wrong bit set,,
6819,83ebdc3f80a283553dc2b38488e069765e0592be,vi Kivity <avi@cloudius-systems.com>, 2013-04-17 16:35:01 +0300, , trace add cpu trace record,,
6820,a42c4d0e3f0fd97c9ea825f3c5dd40ba84ad988e,vi Kivity <avi@cloudius-systems.com>, 2013-04-17 16:28:57 +0300, , sched disable preemption wake since wake manipulates per cpu variable need disable preemption cpu pointer invalidated migration,,
6821,cd93d142bd4568b2f7d09d2d8287326d846e24b2,vi Kivity <avi@cloudius-systems.com>, 2013-04-17 14:45:28 +0300, , gdb fix osv trace trace message multiple byte recording mechanism aligns trace message replay need follow suit,,
6822,9e9767c3a225a6b61d25efe2fc3e5da7990dacab,vi Kivity <avi@cloudius-systems.com>, 2013-04-17 14:34:37 +0300, , gdb fix osv trace empty trace page,,
6823,de49d7a763ba3ef3589b9e26463e46bf0d0030be,adav Har'El <nyh@cloudius-systems.com>, 2013-04-17 16:58:42 +0300, , abort loader load given object without adding check change command line run file.so exist would start using random garbage memory fail mysterious way better let user know open specified program,,
6824,7992094b94da4e08f27b6643ac76dd3d32a2400e,adav Har'El <nyh@cloudius-systems.com>, 2013-04-17 16:49:34 +0300, , say java.so abort missing jar class name,,
6825,94d086889794dc281594a5eaed1fb2d8e55e1673,adav Har'El <nyh@cloudius-systems.com>, 2013-04-17 14:45:03 +0300, , added rudimentary leak detection added rudimentary support leak detection memory tracker_enabled true alloc_tracker object see alloctracker object keep track still living memory allocation call chain led using new command gdb osv leak show developer analyze remaining allocation aim finding memory leak noticing memory leak often result repeptitive allocation call chain implementation good start already found leak code far perfect severely slows workload analysis gdb yet friendly enough requiring manual inspection look serious leak backtrace implementation also appears fragile one occasion noticed yet unexplained crash backtrace unwinds stack call throw exception unwinds stack code probably need work future,,
6826,741c05b22bdb78ba7fa92ce7224e0d39554bc095,adav Har'El <nyh@cloudius-systems.com>, 2013-04-17 13:40:22 +0300, , add cooked icanon console input add support icanon mode a.k.a cooked mode see termios user input reach reader newline erase character case used edit line make easier non perfect typist use rhino various line discipline feature word erase line kill flow control signal yet supported version note echo line discipline editing handled console_poll thread previously echo handled read implementation console_read mean full read ahead i.e. user type read start even osv boot patch also remove old debugging read function anything useful,,
6827,4d436c67efa132f53987becf18cf71a4b610be3c,vi Kivity <avi@cloudius-systems.com>, 2013-04-17 13:13:13 +0300, , pthread free stack thread termination,,
6828,4be6732338775339d363aba39d9d8348ea9553e2,uy Zana <guy@cloudius-systems.com>, 2013-04-15 16:20:15 +0300, , temporary fix avoid mounting usr expose jvm file bootfs osv stall using romfs certain machine revert back using bootfs romfs get fixed,,
6829,2aaaef1f2c4bb82c725cc6f7405093e434d9eb2a,adav Har'El <nyh@cloudius-systems.com>, 2013-04-15 00:26:34 +0300, , make function core mempool.cc make function core mempool.cc accessed outside file static,,
6830,bd5aefec868cbc2d5aa73088eff670c504542a53,adav Har'El <nyh@cloudius-systems.com>, 2013-04-14 23:20:17 +0300, , remove crap mempool.hh needlessly aliased std size_t size_t doe nothing confuse eclipse defined non existant function exposed function exposed,,
6831,60ec9519987310b684dad50bee99cefcb44fb980,vi Kivity <avi@cloudius-systems.com>, 2013-04-14 19:56:20 +0300, , sched unify thread wait_until implementation four different implementation one mutex mutex mutex optional mutex unify single template keep interface split people forced pas mutex random locking primitive tested yet,,
6832,079ea73cd9fd7a6c5aa2497fdec001d9843521fe,vi Kivity <avi@cloudius-systems.com>, 2013-04-14 19:41:25 +0300, , serial switch serial port interrupt driven rather polling,,
6833,3fd77ee5ed21a32a0b385efdac65fbc45bf89c37,vi Kivity <avi@cloudius-systems.com>, 2013-04-14 19:40:35 +0300, , x64 add ioapic support edge triggered interrupt present,,
6834,4c604b00b13228dc87db9d5ab760211dcbd3f57a,vi Kivity <avi@cloudius-systems.com>, 2013-04-14 19:00:49 +0300, , console lazy init debug_console implementation allows initialize little later,,
6835,e574b05dda0c57938d86726f596de2f7ea57f002,vi Kivity <avi@cloudius-systems.com>, 2013-04-14 17:23:44 +0300, , console echo input,,
6836,4f5ccdc8421937bb82007fcd9ff31eadbfdbb3d4,vi Kivity <avi@cloudius-systems.com>, 2013-04-14 16:55:08 +0300, , build change default app javascript console,,
6837,83f753e894008e8175f8634eee2cf9b744a24697,vi Kivity <avi@cloudius-systems.com>, 2013-04-14 16:54:36 +0300, , build add libnio.so manifest lost romfs conversion,,
6838,ee9c42b74075404f4f02ac6dda9279a0504606f0,vi Kivity <avi@cloudius-systems.com>, 2013-04-14 16:53:56 +0300, , console connect stdin console use polling thread collect character place queue,,
6839,de0f2e1e6649fbf9cc7de9b79881e232ec751ef3,vi Kivity <avi@cloudius-systems.com>, 2013-04-14 16:52:47 +0300, , serial add method check character available polling interrupt yet,,
6840,a15131d35fcfbd0d5b6881c3dca0f78620d39e52,uy Zana <guy@cloudius-systems.com>, 2013-04-14 16:23:57 +0300, , fix sys_read sys_write ignored return value fo_read fo_write,,
6841,e3a730a0e4f5f825ac3894e02e2b39cec21a92e3,adav Har'El <nyh@cloudius-systems.com>, 2013-04-14 11:46:16 +0300, , fix leak uio structure sys_read sys_write sys_read sys_write used malloc byte uio structure never freed fixed free ing returning function,,
6842,a84c43b9686cdbe39ec9f5ac8007a1f2176d9477,vi Kivity <avi@cloudius-systems.com>, 2013-04-14 11:38:17 +0300, , build fix build tst hub.so,,
6843,f5f00d79474981b947411b927261b1ec1aae150c,adav Har'El <nyh@cloudius-systems.com>, 2013-04-14 11:18:42 +0300, , correct typo elf.cc object unload_segments object unload_segments typo called load_segment instead unload_segment obviously caused memory leak,,
6844,66c62b59f445369145d7f8b44aea84d04dce722a,adav Har'El <nyh@cloudius-systems.com>, 2013-04-11 21:26:22 +0300, , added backtrace function implemented backtrace function api compatible glibc function name need leak detector determine allocation come call tree also useful thing perhaps even used application guessing jvm doe use though implementation _unwind function part gcc runtime libgcc_s supposedly correctly synchronized way gcc actually keep track call hierarchy understand correctly function use cut version libunwind included libgcc_s also wrote implementation using libunwind directly left code get compile library dependency hell,,
6845,c61535e2742bbf28308386b9b51437b7141225ad,vi Kivity <avi@cloudius-systems.com>, 2013-04-11 19:03:17 +0300, , loader fold main_thread main_cont minor code simplification,,
6846,e5bcb2406bf9ccdb36e81a1fa61df2033427abae,vi Kivity <avi@cloudius-systems.com>, 2013-04-11 19:00:58 +0300, , loader join main program thread avoids zombie,,
6847,98a8b44076676e5317963c13fb5e5c48e8a270c5,vi Kivity <avi@cloudius-systems.com>, 2013-04-11 17:11:09 +0300, , romfs fix bio leak error path fail match file name need release buffer bailing,,
6848,b9fef9121787a9f6f5613d2c794ff458d510036b,vi Kivity <avi@cloudius-systems.com>, 2013-04-11 17:10:55 +0300, , romfs fix bio leak large directory drop buffer fetch new one forget return new one caller eventual brelse result assertion failure later fix making sure caller see new buffer,,
6849,0e0457cefeb5e58625d2d5d890a645f660175ea6,vi Kivity <avi@cloudius-systems.com>, 2013-04-11 15:11:18 +0300, , test move unit test independent test via testrunner.so,,
6850,d1a46355b65eaeda260b5ffb3e146ad7a5ea4fe9,vi Kivity <avi@cloudius-systems.com>, 2013-04-11 15:02:26 +0300, , loader change main function osv_main back main allows running either testrunner.so one test e.g test tst fpu.so export entry point,,
6851,7712698164e80c09818e355b7f6f147227f2f56e,vi Kivity <avi@cloudius-systems.com>, 2013-04-11 14:48:40 +0300, , elf add object local lookup function used name object may conflict name object,,
6852,bf026cd03a9d0e870e74cb94ee7dad4b2d288b50,vi Kivity <avi@cloudius-systems.com>, 2013-04-11 13:25:25 +0300, , testrunner add missing summary line,,
6853,611348565cd7571eb760de58ae64e1dbe0f80d50,vi Kivity <avi@cloudius-systems.com>, 2013-04-11 13:18:11 +0300, , trace update readme,,
6854,905fd204b6980fee3e7bf002a682a4c502e4197a,vi Kivity <avi@cloudius-systems.com>, 2013-04-11 12:57:49 +0300, , sched add tracepoints,,
6855,9e85d75cbdb91fc6533ee9c22b06272c86b89731,vi Kivity <avi@cloudius-systems.com>, 2013-04-11 12:48:45 +0300, , gdb support trace format python pointer support convert 016x,,
6856,01a7ea6003fc5bf555654c1802f64628cedb2bc8,vi Kivity <avi@cloudius-systems.com>, 2013-04-11 12:31:23 +0300, , debug convert yet another debug variant,,
6857,a77582b5c96e6910c94f0baaf566969b75275d2f,vi Kivity <avi@cloudius-systems.com>, 2013-04-11 12:10:15 +0300, , test convert timer test variadic debug,,
6858,5c34cb20774c5bd002806b723778ba24ef469ef4,vi Kivity <avi@cloudius-systems.com>, 2013-04-11 12:08:09 +0300, , debug add variadic variant use debug foo foo.x foo.y instead debug boost format foo foo.x foo.y note boost format printf size modifers unneeded,,
6859,ce9df682b75bf1d7fb1a519fcd36edd16ca62e31,vi Kivity <avi@cloudius-systems.com>, 2013-04-11 11:56:02 +0300, , debug remove parameter causing confusion change caller add explicitly drop optional argument,,
6860,258f3439e351760482190831528c829bd7fea7b7,vi Kivity <avi@cloudius-systems.com>, 2013-04-11 11:42:27 +0300, , merge branch master github.com cloudius system osv tracepoint variable size trace record,,
6861,2ea85ba6cb8b8d5e64caf8501a2350211b91ec32,vi Kivity <avi@cloudius-systems.com>, 2013-04-11 11:42:03 +0300, , gdb adjust variable size trace record,,
6862,efbd88601db7cf90421d72dd4c0c398d3a54fae2,vi Kivity <avi@cloudius-systems.com>, 2013-04-10 13:29:47 +0300, , trace variable size trace record conserve space use variable size trace record avoid problem wrap arounds recovering complete entry head ring buffer allow trace record cross 4096 byte boundary,,
6863,c362a431f436a727f94f3e26656021976b39abb0,adav Har'El <nyh@cloudius-systems.com>, 2013-04-10 12:40:56 +0300, , better error message memory memory alloc_page malloc_large used produce mysterious assertion failure abort print user friendly memory error abort,,
6864,cba53d9a3e8595668d6395c3b357b202cd9a77a9,adav Har'El <nyh@cloudius-systems.com>, 2013-04-10 12:17:40 +0300, , removed script run.sh leaving advanced script run run debug build instead script run.sh debug use script run,,
6865,cea47144991db326d29fd3230dbae1a8d47f35ea,vi Kivity <avi@cloudius-systems.com>, 2013-04-10 11:54:30 +0300, , trace split writing trace buffer sizing separate function ring buffer need know size writing determine wrap around,,
6866,b5b35b41a772f25959ef6fe8acb0c7200f700786,or Laor <dor@cloudius-systems.com>, 2013-04-10 11:12:47 +0300, , add rpm package dependency also fix numbering,,
6867,424f8fd864eb0f371c6a65d0b241b3df1f1b5890,vi Kivity <avi@cloudius-systems.com>, 2013-04-10 11:05:18 +0300, , trace fix alignment bit system bit value need aligned bit change code reflect,,
6868,d8f32e4a39aff933aeb43b8b263224b4a6c943d9,hristoph Hellwig <hch@cloudius-systems.com>, 2013-04-09 17:46:08 +0200, , fix picking libz usr img,,
6869,32a8495c79eacb82bc09b85c500ee4c8b40b459d,vi Kivity <avi@cloudius-systems.com>, 2013-04-09 19:01:35 +0300, , merge branch master github.com cloudius system osv tracepoint tracepoint command line support,,
6870,ffe020c27ca5c1e6f8d388585effb34a9cdef2cc,vi Kivity <avi@cloudius-systems.com>, 2013-04-09 19:01:08 +0300, , trace default tracepoints disabled state enable via command line,,
6871,5917c0a5a406ee429c8f2be7ef6a4eac6327ce20,vi Kivity <avi@cloudius-systems.com>, 2013-04-09 19:00:05 +0300, , main add command line parsing tracing usage trace foo trace bar java.so ... match tracepoint name,,
6872,85f5717fb4243b5ec92e3bacd3a8f4d813aebcc8,vi Kivity <avi@cloudius-systems.com>, 2013-04-09 18:50:51 +0300, , trace add mechanism enable tracepoints dynamically via wildcard e.g function,,
6873,3474bb0964e3fa57087656c30287c51c2cbe830e,adav Har'El <nyh@cloudius-systems.com>, 2013-04-09 18:37:20 +0300, , add libz romfs used libz bootfs.manifest removed need put usr.manifest ... needed java load compressed jar,,
6874,34aed5ab111ed819bfcec18f589bcaaa1ae0d79c,adav Har'El <nyh@cloudius-systems.com>, 2013-04-09 17:59:18 +0300, , show interesting function osv info thread osv info thread used show switch_to function non running thread attempt skip obvious function finding obvious caller initiated final thread switch currently mechanism define obvious function pretty crude considers function arch switch.hh sched.cc sched.hh mutex.hh obvious avoiding showing thing like switch_to schedule wait_until future refine definition opinion would best could decide one file small set file contain generic switching waiting function simply avoid showing anything file osv info thread,,
6875,63e60faf1a11b643e3c268342b1c433295932993,adav Har'El <nyh@cloudius-systems.com>, 2013-04-09 16:45:59 +0300, , fix osv info thread gdb since commit 5384840aaed0b5e changed way remember non running thread rip rbp osv info thread broken showed question mark non running thread fixed always show sched thread switch_to non running thread indeed called function last,,
6876,e3bb61360ac2b13724ca1fd5df241221d830ffff,vi Kivity <avi@cloudius-systems.com>, 2013-04-09 14:58:52 +0300, , trace collect tracepoint definition linked list useful command line enabling disabling tracepoints name,,
6877,279728b9def3f9c4979a76a91cae97d7b73da104,hristoph Hellwig <hch@cloudius-systems.com>, 2013-04-09 11:48:27 +0200, , use romfs usr,,
6878,fe2ad0cfb48715a73fda355d2866d2803c53404e,vi Kivity <avi@cloudius-systems.com>, 2013-04-09 13:21:14 +0300, , merge branch master github.com cloudius system osv tracepoint initial tracepoint work still optimization left basic framework ready declare include osv trace.hh tracepoint int long some_event use  view gdb osv trace,,
6879,096694be153894046f78bffd94c47f7e65216b70,vi Kivity <avi@cloudius-systems.com>, 2013-04-09 13:19:32 +0300, , gdb teach osv trace user defined tracepoints,,
6880,0ec8977ee8b0ecfdb2ca154164dc9443cb560a32,vi Kivity <avi@cloudius-systems.com>, 2013-04-09 13:04:34 +0300, , gdb adjust osv trace function tracing tracepoints,,
6881,e426515774c6511a8e22cf713718525865cd9435,vi Kivity <avi@cloudius-systems.com>, 2013-04-09 12:20:48 +0300, , trace dump trace record memory circular log rather cout make tracing usable writing log memory rather console reuse log previously used function tracing switched tracepoints common machinery used,,
6882,23855839525950d1b0592f74f78802ac61e2d502,vi Kivity <avi@cloudius-systems.com>, 2013-04-09 12:19:26 +0300, , trace exclude file instrumentation instrumenting function used trace machinery cause infinite recursion,,
6883,7ec63881a7fbcfc00b74a3f53d03da5f937c908a,vi Kivity <avi@cloudius-systems.com>, 2013-04-09 12:18:53 +0300, , align mark alignment function inline trivial deserve inlining,,
6884,aefda14dd1da7e0ffe81c6fdeadc4c21afb39482,vi Kivity <avi@cloudius-systems.com>, 2013-04-08 18:52:54 +0300, , trace test serialization strangely compiler able remove test code including assert entirely able deduce passed compile time,,
6885,a4e877ae24b4cf92fd69430a5001066ed0f4e275,vi Kivity <avi@cloudius-systems.com>, 2013-04-08 18:51:54 +0300, , trace add function serializing tracepoint data use native alignment speed,,
6886,63ba9b80b53e426928f312383261fc69e6c05bd4,adav Har'El <nyh@cloudius-systems.com>, 2013-04-08 18:37:52 +0300, , fix bug running thread cpu child thread start running cpu started migrated later load_balancer thread pinned true migrated unfortunately forgot initialize pinned field pod field initialized thread started random usually nonzero pinned value result thread remained cpu thread migration work expected,,
6887,99a4f8ed53fcce570037cfcfb47c5ba2ecd28cb3,vi Kivity <avi@cloudius-systems.com>, 2013-04-08 17:41:42 +0300, , trace store signature tracepoint_base class allows log refer tracepoint thus also type signature,,
6888,4d4da6783ed4730c7626c3d0919b72fab4d35b4d,vi Kivity <avi@cloudius-systems.com>, 2013-04-08 17:40:06 +0300, , trace extract common tracepoint member base class allows trace log refer tracepoint,,
6889,ef420c0d305f22c42f750167453425fc87354846,adav Har'El <nyh@cloudius-systems.com>, 2013-04-08 17:36:27 +0300, , avoid recursive use wait_guard wait_until made recursive use wait_guard held one around code calling wait still holding also called mutex_lock also wait_guard internally sort recursive use wait_guard theoretically supported messy debug changed code bit one held time lock outside wait_guard,,
6890,a59d1bc7097e19ae2755c96018dc716a45106434,adav Har'El <nyh@cloudius-systems.com>, 2013-04-08 17:33:44 +0300, , fix broken preemption case stop_wait forgot call preempt_enable leaving preemption thread disabled causing cpu heavy thread continue running long time without thread even load_balance getting chance run,,
6891,71111a60390083c44c53318398363c65a6919f2d,vi Kivity <avi@cloudius-systems.com>, 2013-04-08 16:47:51 +0300, , trace add test tracepoint signature,,
6892,2709b4263ed6258b7cb4c7fe15bce45de50f94d8,vi Kivity <avi@cloudius-systems.com>, 2013-04-08 16:46:18 +0300, , trace compute type signature tracepoint used recover data type raw buffer i.e debugger use python struct module encoding u32 etc,,
6893,f16342de507499ac09936fa0fc3ef24557f0a55f,vi Kivity <avi@cloudius-systems.com>, 2013-04-08 15:09:37 +0300, , trace add tracepoint test,,
6894,a5dc3aa5241e873f2feee1d6d99683201ea5f338,vi Kivity <avi@cloudius-systems.com>, 2013-04-08 12:49:30 +0300, , trace add static tracepoint definition two style supported simple one flexible one declare use simple tracepoint use tracepoint u32 u64 char trace_my_event my_event ... void my_function u32 u64  trace_my_event   u32 u64 char type parameter used tracepoint trace_my_event identifier commonly prefixed trace_ my_event tracepoint shown log printf boost format style format string auto deduces argument type runtime argument traced flexible style allows different type list used tracepoint function storing allows tracepoint snapshot field object need supply function convert runtime type storage type std tuple u32 u64 char my_object obj  return std make_tuple obj.field1 obj.field2 obj.field3  tracepointv storage_args u32 u64 char runtime_args my_object trace_my_object my_object void my_function my_object obj  trace_my_object obj  using style reduces runtime overhead since run tracing enabled,,
6895,68284de3abddc2f7b4ef813945b2e165cba0954f,adav Har'El <nyh@cloudius-systems.com>, 2013-04-08 12:35:22 +0300, , fix memory leak thread creation thread object creation used leak one page fpu state thanks avi spotting fix add destructor free page add test suite test checking thread creation leak memory also checked alloc_page malloc various size leak memory,,
6896,1f68d6775da5c3abfb36531a362c02d227bab282,adav Har'El <nyh@cloudius-systems.com>, 2013-04-08 11:17:17 +0300, , free tcb thread local storage area thread destruction forgot free tcb allocated buffer thread destruction causing leak around 1000 byte per thread creation still another leak exactly one page per thread object creation trying find,,
6897,70cee8e0c979505973d8d664f9e2eb121c49677c,adav Har'El <nyh@cloudius-systems.com>, 2013-04-07 20:02:53 +0300, , allow destructing thread object start thread destructor call join used hang called thread ever start would wait forever thread change status terminated join see thread never started return immediately,,
6898,65b13b30b771b8ca47c8e6d3e56204a2c7383b22,uy Zana <guy@cloudius-systems.com>, 2013-04-07 13:17:40 +0300, , change severity level poll log message,,
6899,2754ff61c1e07597d36abf0d0b3410f0b371dd5e,uy Zana <guy@cloudius-systems.com>, 2013-04-07 12:10:53 +0300, , hold recount calling fo_close socket implementation fo_close free socket structure turn invokes poll_wake refcounting mess file structure following patch increase refcount calling fo_close avoid entering free area fdrop twice,,
6900,1bfb627e7798f26164f824794970333818143b66,uy Zana <guy@cloudius-systems.com>, 2013-04-07 11:55:15 +0300, , add missing call fdrop poll_uninstall bug fix reference held fget make sure release refcount,,
6901,9960d143503dba37af9e0b3c5aee7e04a14d9c03,uy Zana <guy@cloudius-systems.com>, 2013-03-20 17:37:34 +0200, , poll add simple poll test act udp socket,,
6902,a49ea1cf01f4cde77325a73ec0e5bb4f6191e17a,uy Zana <guy@cloudius-systems.com>, 2013-03-20 17:29:27 +0200, , poll better integrate network stack,,
6903,6d16e1467025831ea572640bb30154ef3a4c316c,uy Zana <guy@cloudius-systems.com>, 2013-03-15 14:14:01 +0200, , add initial poll implementation untested yet,,
6904,0b0c5d849c790f2413aa824000032fcb3a219ae8,uy Zana <guy@cloudius-systems.com>, 2013-03-20 17:09:23 +0200, , net implement tsleep comment so_linger handling,,
6905,2f2b4fddb5d96c5101f7f1bd9c9bd9a213d21b77,uy Zana <guy@cloudius-systems.com>, 2013-03-20 17:07:37 +0200, , net call init_maxsockets initialize mutexes,,
6906,d706b1ed8291b02a7ac0cf93e6ede1bb5a1b2066,uy Zana <guy@cloudius-systems.com>, 2013-03-18 23:37:57 +0200, , net add udp client server test based socket api,,
6907,32d81996ccf670c924f46e1b0b3e9873177f0d1f,uy Zana <guy@cloudius-systems.com>, 2013-03-18 23:32:19 +0200, , net verify udp related port in_pcb.c in.c,,
6908,92c21803fb1557212f35e0081f171caea8139669,uy Zana <guy@cloudius-systems.com>, 2013-03-18 23:30:45 +0200, , net udp ported,,
6909,45754d62896284616eca1ab0751b85c1e12c36e8,uy Zana <guy@cloudius-systems.com>, 2013-03-18 23:27:39 +0200, , net bring udp related file form freebsd,,
6910,93f898e0bb3ef5c006ac133bc0c0926041624009,uy Zana <guy@cloudius-systems.com>, 2013-03-18 23:25:25 +0200, , net start loopback properly,,
6911,a5129b2b75389f4a15287629b4205f96383c6a5f,uy Zana <guy@cloudius-systems.com>, 2013-03-18 23:24:19 +0200, , net remove passing broadcast address argument osv_start_if already deduced using masklen parameter,,
6912,8e9bff9ef3a1d116ded2c6e2588ace689277e764,uy Zana <guy@cloudius-systems.com>, 2013-03-18 12:29:09 +0200, , socket first simple test open close socket,,
6913,55dc646a0d5d05e1e9cb1e2de81a08944fca98fd,uy Zana <guy@cloudius-systems.com>, 2013-03-18 10:43:33 +0200, , net start loopback device 127.0.0.1,,
6914,57a6f673d19ed90f5d802fd56833bf6329a739cd,uy Zana <guy@cloudius-systems.com>, 2013-03-17 14:37:20 +0200, , socket add socket api implementation,,
6915,76de70fa9246898a73c124870dada4d2b0dcda0c,uy Zana <guy@cloudius-systems.com>, 2013-03-17 14:36:35 +0200, , net expose socket api function definition user code,,
6916,f21289fd7c86aaef7dace123d3d5b3b30ce68c3f,uy Zana <guy@cloudius-systems.com>, 2013-03-12 16:31:19 +0200, , net ported uipc_syscalls.c socket syscalls,,
6917,2ede941f8c035ca0f7f5f278905e618937d7b717,uy Zana <guy@cloudius-systems.com>, 2013-03-12 11:53:22 +0200, , added socket syscalls freebsd unmodified,,
6918,9846d47b58b5e7d1b6007f59e93734fd4ff68fa7,uy Zana <guy@cloudius-systems.com>, 2013-03-12 11:48:56 +0200, , ported socket fileops implementation,,
6919,e53f647ea8ffbd3e84a7ca68dc4956c7e810c4a9,uy Zana <guy@cloudius-systems.com>, 2013-03-12 11:47:50 +0200, , added filio.h freebsd needed socket ioctl,,
6920,e296c91b29884da84dfedde115b0b6f85a72486e,uy Zana <guy@cloudius-systems.com>, 2013-03-12 11:26:59 +0200, , added freebsd socket fileops implementation unmodified,,
6921,272eea1d0032c843dab49e4ebe6486f66be9a08b,vi Kivity <avi@cloudius-systems.com>, 2013-04-07 12:02:13 +0300, , sched add suffix time value make readable,,
6922,03cd7a7f86a846c882412dee83bada9899e2ee9e,vi Kivity <avi@cloudius-systems.com>, 2013-04-07 12:01:32 +0300, , clock add suffix common time unit,,
6923,497bbb2af31b04185f483cefbd0ae60f35a7132d,vi Kivity <avi@cloudius-systems.com>, 2013-04-07 11:46:10 +0300, , sched fix incorrect use vruntime running thread running thread vruntime biased current time need adjust reading back pointed nadav,,
6924,26cd74a3886b6c35435094c3ece5e21850014f05,vi Kivity <avi@cloudius-systems.com>, 2013-04-07 11:45:17 +0300, , sched add way test whether cpu_set empty,,
6925,c06249be514aa49adb0ef484b1a13a8679980403,vi Kivity <avi@cloudius-systems.com>, 2013-04-07 11:38:49 +0300, , sched enqueue thread correct place rbtree,,
6926,8cd4485e1bccb0842cccb632647bcbdb24f82903,vi Kivity <avi@cloudius-systems.com>, 2013-04-07 11:38:08 +0300, , sched make predicate const avoid boost intrusive rbtree complaining,,
6927,d1a455709653a270c01a3632a0b83413ab2945af,vi Kivity <avi@cloudius-systems.com>, 2013-04-07 11:30:37 +0300, , sched use enqueue also premption path rather push_back directly,,
6928,9a1b5d0ff2177f3ef4f15c66d6aaf04b2c76df4e,or Laor <dor@cloudius-systems.com>, 2013-04-07 11:42:31 +0300, , adding read line support console isa serial device read character using calling readln char msg size_t len note call block len input char newline,,
6929,450e2851f3655d852197a9bd4c72ce6c126c92c7,vi Kivity <avi@cloudius-systems.com>, 2013-04-04 15:50:31 +0300, , interrupt simplify need explicitly construct temporary function object,,
6930,b74d21ccd6c2869be7f83f214463c1c4c66dc0de,vi Kivity <avi@cloudius-systems.com>, 2013-04-04 15:20:20 +0300, , sched preempt thread borrowed time sooner thread borrowed time treated well scheduler past preempt sooner allows thread catch quickly,,
6931,2a6ccf2597124fed3be496776d4f5a7f39231e30,vi Kivity <avi@cloudius-systems.com>, 2013-04-04 15:16:09 +0300, , sched allow thread high vruntime run occasionally thread high vruntime ignored scheduler thread lower vruntime catch block limit damage allowing thread borrow vruntime place line execution overall vruntime accounting unchanged,,
6932,7f178097f0a958e686ef93850e958dce8115f4aa,vi Kivity <avi@cloudius-systems.com>, 2013-04-02 16:54:31 +0300, , sched bias scheduler towards currently running thread avoid excessive context switch among cpu bound thread biasing scheduler towards currently running thread,,
6933,32f353d684d6bd8fddbbea18300d7ccf979e0895,vi Kivity <avi@cloudius-systems.com>, 2013-04-02 16:32:55 +0300, , sched short circuit runqueue running thread avoids possibly expensive insert operation many runnable thread allows add hysteresis vruntime since vruntime value running thread biased,,
6934,4b99405074dc52dbaf055b1d71b55933217cc437,vi Kivity <avi@cloudius-systems.com>, 2013-04-02 15:18:58 +0300, , sched account vruntime keep vruntime updated schedule note vruntime currently running thread bogus value,,
6935,6af1d0411d02c41c78c5220c0a7e2bb765662819,vi Kivity <avi@cloudius-systems.com>, 2013-04-02 15:20:21 +0300, , gdb show thread vruntime osv info thread,,
6936,effc584a769daf2f4021f691cf4e4181ce8547a2,vi Kivity <avi@cloudius-systems.com>, 2013-03-24 17:25:49 +0200, , sched switch runqueue ordered vruntime vruntime accounted yet,,
6937,7d49d9f8977f8fbd07055087497bc5e41c27fff1,adav Har'El <nyh@cloudius-systems.com>, 2013-04-04 12:50:14 +0300, , abort instead errno mprotect ing malloc memory though application test mprotect success assuming succeeded let extra sure kill avi request,,
6938,4a6ec45ec41c84e8eb0f8f6bd9f8546c3f6cb480,adav Har'El <nyh@cloudius-systems.com>, 2013-04-04 09:09:20 +0300, , allow mprotect modify linear map mprotect normally used mmap memory usually make little sense application mprotect memory got malloc several reason including fact free ing memory without mprotect ing back normal back recipe big trouble munmap need mprotect back therefore expect java use mprotect malloc memory mprotect malloc memory particularly undesirable malloc return address linear map mprotect ing downgrade map change huge page small page never fixed later even mprotect ing memory back normal forbid mprotect address linear map,,
6939,c3ccee88dbf51f238d79eebb015afb302c446f43,adav Har'El <nyh@cloudius-systems.com>, 2013-04-03 22:46:30 +0300, , new script run script replace script run.sh written slightly advanced version old script run.sh also give control qemu memory size number vcpus used using command line option debug run debug build instead release build vcpus number vcpus default memsize memory size default remove old script run.sh named new script script run everyone like remove old script run.sh need call .sh unix customary command line tool extension,,
6940,372c4a73bbb3b1c78772698ab3532cdffbc2af7e,adav Har'El <nyh@cloudius-systems.com>, 2013-04-03 18:04:42 +0300, , handle divide error exception existing code handled correctly generating sigsegv x86 hardware exception abort kernel divide error exception like generate signal inappropriately named sigfpe patch doe strangely specjvm2008 benchmark depends behavior check source code figure make easier generate signal future abstracted existing function general generate_signal used handling,,
6941,6bd8385425a5c0e333523c152da0d23831b8e7c5,adav Har'El <nyh@cloudius-systems.com>, 2013-04-03 17:02:58 +0300, , automatically create directory bootfs needed previous code created certain empty directory boot file system tmp java usr lib bootfs.manifest could put file directory attempting include file foo bar would fail unpacking create one empty directory tmp even know necessary got rid hard code list directory directory automatically created needed i.e. bootfs.manifest contains file path foo bar dog mkdir foo mkdir foo bar creat foo bar dog,,
6942,df1786597846a3fc0845cb8356ad69fc9c8b0269,vi Kivity <avi@cloudius-systems.com>, 2013-04-03 14:54:21 +0300, , bootfs add jdk libnio.so needed serious application,,
6943,f136a20d5e05f63ac86837610eb515189eaab110,vi Kivity <avi@cloudius-systems.com>, 2013-04-03 14:47:41 +0300, , runjar handle error well exception allows seeing loading jar,,
6944,9fd2fdb0863f3c921526b023847aa3d344b521d8,vi Kivity <avi@cloudius-systems.com>, 2013-04-03 14:42:25 +0300, , bootfs add libz.so needed jvm,,
6945,28a92127e3542e0ab329b2c7c9d4d96a606b661d,vi Kivity <avi@cloudius-systems.com>, 2013-04-03 14:38:17 +0300, , external add zlib,,
6946,8948cc4d72e7d7e9179cf76e7348741daa88e350,adav Har'El <nyh@cloudius-systems.com>, 2013-04-03 11:52:06 +0300, , add debugging tip readme,,
6947,46b99d50ea92e17697749446b7629a2868e1e671,vi Kivity <avi@cloudius-systems.com>, 2013-04-03 10:33:51 +0300, , java fix parsing jar argument jar terminates jvm argument java jar foo.jar pass foo.jar jvm,,
6948,4e82b9c3ba12bda5e66e4046428225d2d7fd69a6,vi Kivity <avi@cloudius-systems.com>, 2013-04-03 10:32:55 +0300, , java fix crash java class argument silly error cause crash whenever argument java class supplied,,
6949,8725e02e049a6001cf44f1fd49e40c704d380530,vi Kivity <avi@cloudius-systems.com>, 2013-04-02 19:29:56 +0300, , add misc.bin repository used zlib similar minor library,,
6950,4ad1c8429030303ff1e36419e60691b58a09c101,vi Kivity <avi@cloudius-systems.com>, 2013-04-02 18:59:32 +0300, , build delete target error target fails build probably corrupted delete fix misbuild second make incorrect bootfs.manifest,,
6951,8326a714869edc7f1efd430a9a1b16450eb10802,uy Zana <guy@cloudius-systems.com>, 2013-03-20 17:11:25 +0200, , net port cleanup,,
6952,1e39f36554c39093f8b63a22deed7747509e4ccb,uy Zana <guy@cloudius-systems.com>, 2013-03-18 23:21:32 +0200, , bsd removed header file dependency netport.h,,
6953,5a9231a109eeadb9511347604730e3a67fd1068a,uy Zana <guy@cloudius-systems.com>, 2013-03-18 11:35:21 +0200, , bsd fix colliding definition netport.h,,
6954,81a3a8164f676e2a333826bdaa38b9b745346ee0,uy Zana <guy@cloudius-systems.com>, 2013-03-15 14:05:43 +0200, , bsd remove queue.h inclusion netport.h,,
6955,ee91ff2345b976d3b01c502441d55a1b8d0fb8f3,hristoph Hellwig <hch@cloudius-systems.com>, 2013-04-02 16:47:38 +0200, , use arpa inet.h xdr_mem.c remove hton ntoh hack,,
6956,4a78351f4b6425bba62c788c41ae1e7a46229857,uy Zana <guy@cloudius-systems.com>, 2013-03-18 23:34:54 +0200, , net add arpa inet.h freebsd,,
6957,fbc87ce7854e7a32b64b96397f8a932a1f6ab365,uy Zana <guy@cloudius-systems.com>, 2013-03-15 14:07:46 +0200, , rename static list initializer list_init list_sinit avoiding redefinition freebsd,,
6958,da161beee462b25374836e9ef6cfa69b5ddfe3cf,or Laor <dor@cloudius-systems.com>, 2013-04-02 15:52:28 +0300, , remove redundant msix registration,,
6959,aaf39d34bfdfb7d18834dc896fe422bbff09533a,hristoph Hellwig <hch@cloudius-systems.com>, 2013-03-31 19:59:33 +0200, , import kernel rpc xdr code freebsd,,
6960,881066f8df1b5fb1c9b196030af749bfa411867b,hristoph Hellwig <hch@cloudius-systems.com>, 2013-03-31 19:59:57 +0200, , import sys _null.h freebsd,,
6961,5495a6590f2f641edc4c3d239879f43fdea4bb84,hristoph Hellwig <hch@cloudius-systems.com>, 2013-03-31 20:13:58 +0200, , provide ntoh hton prototype netport.h,,
6962,981493b702e9411450d6901577094bdd2624befa,hristoph Hellwig <hch@cloudius-systems.com>, 2013-03-31 19:55:48 +0200, , avoid redefining min max,,
6963,ae0b27e9d18030b99696c2e268785bfb56b7a38f,hristoph Hellwig <hch@cloudius-systems.com>, 2013-03-31 19:35:38 +0200, , include sys time.h bsd sys param.h avoid include loop,,
6964,af61317bc2d87853fe48606ad5bf32a91dcebd78,uy Zana <guy@cloudius-systems.com>, 2013-03-28 22:18:48 +0200, , fix fdset call fdrop outside mutex fdrop may call fo_close private fo_close may use layer example nfs client may open socket flush file another reason unnecessary shorter hold mutex better,,
6965,2979f2d336d417cb8ca3fec307f448fe42780b32,uy Zana <guy@cloudius-systems.com>, 2013-03-28 20:45:56 +0200, , dup2 dup3 close newfd case open fdset installs close previousely opened file make dup2 dup3 behave expected,,
6966,a51c62017263f5d3bc86915a0db55f8f35179fa6,uy Zana <guy@cloudius-systems.com>, 2013-03-28 20:26:01 +0200, , use mutex order protect gfdt solving race fget retrieving file structure increasing refcount done atomically concurrent close may free file structure fhold may fault fdfree replaced fdclose remove file gfdt call fdrop remove ugly double fdrop call credit avi,,
6967,991192689b88cb1ecb5563391f55fa7ec86cf00e,uy Zana <guy@cloudius-systems.com>, 2013-03-28 11:50:50 +0200, , fix gfdt static initializer,,
6968,fd456c8430ec8017ba06623071040bc59c3c72cd,uy Zana <guy@cloudius-systems.com>, 2013-03-28 10:28:51 +0200, , make reference count file structure based intuitive aligned appointed christoph,,
6969,4b25fc328e5a1bab6cf5731cd9826f4f841df9ea,uy Zana <guy@cloudius-systems.com>, 2013-03-27 16:04:32 +0200, , add version argument run.sh debug release ... default release order debug properly osv compiled debug mode executed using debug binary,,
6970,7188e595db0c6eca98dd576cbb72ab911cb22f67,uy Zana <guy@cloudius-systems.com>, 2013-03-27 15:20:38 +0200, , falloc call fdrop instead free directly case error installing file descriptor fdalloc fails fdrop called since also function desctructor encapsulation,,
6971,07c1d3bbd284d9e843de7bd6d8b8f53b9b17fa5a,uy Zana <guy@cloudius-systems.com>, 2013-03-27 14:26:31 +0200, , fix new refcount already increased fdalloc part change allocator fdalloc changed hold refcount falloc return refcount suppose,,
6972,5a8a9c429074215644745027d0fdac0fd13cdd03,uy Zana <guy@cloudius-systems.com>, 2013-03-27 13:44:18 +0200, , dup3 put assert comment case newfd already opened old code really close newfd properly put assert comment instead,,
6973,9676b267f01cec977daaa4ee903e59cf6493e049,uy Zana <guy@cloudius-systems.com>, 2013-03-27 13:37:04 +0200, , dup3 return error consistently via errno check ditched completely ...,,
6974,b3d06c6f422f29450573815c73f3596a9094661a,uy Zana <guy@cloudius-systems.com>, 2013-03-27 13:29:03 +0200, , dup2 return newfd case newfd oldfd,,
6975,9785e13e7e9b7c2497a219e1f1cd66ca54229313,uy Zana <guy@cloudius-systems.com>, 2013-03-27 13:27:24 +0200, , dup3 set errno einval newfd oldfd,,
6976,d5107694512bd61d9df7b84808c18103556c415a,uy Zana <guy@cloudius-systems.com>, 2013-03-27 13:13:41 +0200, , fix revert back checking boundary fdset dup3 may corrupt memory new_fd bigger fdmax,,
6977,319c2db26f9d205340ed938163b17c0d55b8f051,uy Zana <guy@cloudius-systems.com>, 2013-03-27 12:55:31 +0200, , fix passing io_append sys_write ramfs fatfs rely function properly,,
6978,6164bde819ffad0ef49b57d60317bb6211cce0d3,uy Zana <guy@cloudius-systems.com>, 2013-03-27 12:22:59 +0200, , fix freeing file descriptor sys_open fails falloc installs file structure global table case error sys_open common user application fdfree never called,,
6979,1e05ec4c5b314d0751f541bef88117ee4a9ef465,hristoph Hellwig <hch@cloudius-systems.com>, 2013-03-25 17:04:22 +0100, , fix file pointer refcounting grab additional long term reference open dup thay stay lifetime file descriptor semantics global falloc etc function match freebsd pointed guy,,
6980,411f24e7f6d9719f0b774de61a9fac247e810fd7,uy Zana <guy@cloudius-systems.com>, 2013-03-12 11:24:38 +0200, , add thread safe file descriptor implementation,,
6981,6e573423507ecfd1a67a13714915dd69f063b959,uy Zana <guy@cloudius-systems.com>, 2013-03-12 11:24:38 +0200, , initial fileops abstraction,,
6982,711ae4b383bcd89ecb479d1266ce0e65edc59d20,uy Zana <guy@cloudius-systems.com>, 2013-03-12 16:28:41 +0200, , moved needed flag prex.h osv fcntl.h,,
6983,d416bd00baf9ca9b619deb83ca905a2a4bee75e0,hristoph Hellwig <hch@cloudius-systems.com>, 2013-03-22 09:37:45 +0100, , remove opendir closedir leftover,,
6984,f6473ef3b650b3d5ab1a07e25bdf94f5af4c5ef3,hristoph Hellwig <hch@cloudius-systems.com>, 2013-03-21 16:36:26 +0100, , grab vnode reference fget friend needed file still keep vnode reference thus pin time make close implementation lot simpler especially file operation added,,
6985,990179d38a69ce07eb0dcf18f73c27d9f5ccb592,or Laor <dor@cloudius-systems.com>, 2013-03-25 15:19:35 +0200, , merge branch master github.com cloudius system osv master github.com cloudius system osv coarse grained lock mmap munmap mprotect tlb flush fix mmap munmap protect add working mprotect test test fix fpu test testrunner.so,,
6986,ebff95c6c70f704b7a4ec82d5de4e3073b88e157,or Laor <dor@cloudius-systems.com>, 2013-03-25 15:18:29 +0200, , comment recieve function since block tap interface get answer stall test execution,,
6987,6116bce36558fdbfe8c074b48f43d9e3b848a01d,adav Har'El <nyh@cloudius-systems.com>, 2013-03-25 12:03:09 +0200, , coarse grained lock mmap munmap mprotect added coarse grain lock prevent concurrent mmap munmap mprotect implement something fine grained becomes performance bottleneck doubt ever would,,
6988,8eca17eb6199a0b63b45b2e9242566eea1ee25cf,adav Har'El <nyh@cloudius-systems.com>, 2013-03-25 11:45:25 +0200, , tlb flush fix mmap munmap protect added missing tlb flush mmap munmap mprotect operation note currently processor running mmap incorrect put todo good enough java use case thing startup also added test fixed bug mmap prot_none mprotect prot_none used work mmap prot_none,,
6989,4072fd82c8fcd84d605327891d722bf1662e693b,adav Har'El <nyh@cloudius-systems.com>, 2013-03-25 10:15:20 +0200, , add working mprotect test automate test mprotect using sigaction verifing writing read page cause sigsegv one failing test left commented currently missing tlb flush mprotect write page make read new read status noticed processor,,
6990,0c25c95f393ea13d30f5a18e04c276ba884fce0d,vi Kivity <avi@cloudius-systems.com>, 2013-03-24 15:16:37 +0200, , test fix fpu test testrunner.so fpu test written run standalone work running testrunner.so since entry point different main osv_main,,
6991,63c83036825efa25636264aae61a809e58b54c6f,or Laor <dor@cloudius-systems.com>, 2013-03-23 00:21:48 +0200, , merge branch master github.com cloudius system osv master github.com cloudius system osv replace bizarre free_large mempool.cc minor cleanup mmu.cc x64 qualify newer cr4 feature cpuid x64 fix cpuid xsave parsing bsd added manifest.txt file networking stack,,
6992,07d0bed25cdf26e520cd1491208cfa1cc9d4f6f7,or Laor <dor@cloudius-systems.com>, 2013-03-23 00:18:59 +0200, , test virtionet using ping request recieve answer destination interface owns hard coded mac addr,,
6993,98abc5a0405bec96078d8e5eb9ef641f51f0298d,or Laor <dor@cloudius-systems.com>, 2013-03-23 00:18:15 +0200, , change recieve path use mbuf additional cleanup try needed,,
6994,b564ce11f887deb35bbc2aaf252e8354f422f780,or Laor <dor@cloudius-systems.com>, 2013-03-23 00:16:40 +0200, , remove test code,,
6995,0c2724e87db9c2128cb60e6bf87ac66485252612,adav Har'El <nyh@cloudius-systems.com>, 2013-03-21 23:42:53 +0200, , replace bizarre free_large mempool.cc several place mempool.cc free_page free_huge_page used free_large really strange way giving pointer lower page_size knowing add page_size back instead created new function free_page_range much clearer way without monkey business return range page free list function well free_large use new free_page_range,,
6996,ecc45ade3b498ed69d0d3d085ddc10fbd595f8f6,adav Har'El <nyh@cloudius-systems.com>, 2013-03-21 22:08:21 +0200, , minor cleanup mmu.cc,,
6997,323764c0fe157280467d9da78627bd5339d2b4b5,vi Kivity <avi@cloudius-systems.com>, 2013-03-21 20:30:15 +0200, , x64 qualify newer cr4 feature cpuid break older processor,,
6998,c2aba2e03d25cb642c741afb3a2810d9e0399c3b,vi Kivity <avi@cloudius-systems.com>, 2013-03-21 20:29:49 +0200, , x64 fix cpuid xsave parsing used wrong bit,,
6999,d3b6e97ccb1f1f93796e9575eae5209beff5c639,uy Zana <guy@cloudius-systems.com>, 2013-03-21 18:04:45 +0200, , bsd added manifest.txt file networking stack,,
7000,6f99dc723608a8e33e05c5e36bfad95cd1ad7ad5,or Laor <dor@cloudius-systems.com>, 2013-03-21 15:55:08 +0200, , return length used descriptor relay overlay protocol provide length must receive hypervisor,,
7001,6f121c1556447dac8c3fc0985ec10ee74031be4c,adav Har'El <nyh@cloudius-systems.com>, 2013-03-20 19:26:48 +0200, , repetitive mmap unmap mprotect code rewriten mmap unmap mprotect much repetitive new class class populate unpopulate protect class derive implement mmap munmap mprotect respectively code much shorter repetitive clearer hope also better conforming new coding convention note linear_map still separate keep old algorithm starting root page clean structure easier change algorithm similar linear_map,,
7002,d1e83a59c61dce7d1856fa1cdcc964dd99ebc68e,adav Har'El <nyh@cloudius-systems.com>, 2013-03-19 18:03:22 +0200, , implement mprotect prot_none java mprotect ... prot_none guard page e.g. catch stack overflow patch implement removing present bit page mapping doe mean page unmapped memory kept intact running mprotect make readable ,,
7003,68b820406241e12ce33cd9281cbaaaba9de3f9db,adav Har'El <nyh@cloudius-systems.com>, 2013-03-19 17:33:17 +0200, , merge branch master github.com cloudius system osv,,
7004,ba90a695b1667c1af5c0095770964ec7e7d20b25,adav Har'El <nyh@cloudius-systems.com>, 2013-03-19 17:27:14 +0200, , fix memory leak mmap allocation smaller huge page small page allocated twice one leaked also prepare mmap munmap supporting prot_none mprotect instead relying present bit say page free rely information vma_list double check assertion added zeroing pte page freed add support mprotect prot_none following patch,,
7005,5879aeb3d1e83a3ac91beb7d060ffd683c5229d5,vi Kivity <avi@cloudius-systems.com>, 2013-03-19 17:26:01 +0200, , build allow compiler use red zone context switch code red zone safe allow compiler use,,
7006,5384840aaed0b5e07ca36c834c17248130ec2f31,vi Kivity <avi@cloudius-systems.com>, 2013-03-19 17:25:01 +0200, , x64 avoid stack instruction context switch code due red zone stack operation may corrupt local variable use ordinary move jump instead,,
7007,2c57b0cef55cd8172f2d5a64f062c7ebfa4de342,vi Kivity <avi@cloudius-systems.com>, 2013-03-19 16:30:22 +0200, , build disable red zone release build cause early failure reason disable root cause found,,
7008,3557b269a92f25eace7d74b95fac08e9bd36d0d1,vi Kivity <avi@cloudius-systems.com>, 2013-03-19 15:12:25 +0200, , build disable tracing default,,
7009,4c5eb6fc5aaf4748aed033142a19a56a4a3840ef,vi Kivity <avi@cloudius-systems.com>, 2013-03-19 13:19:41 +0200, , gdb print heap free area size hex,,
7010,0f755f705063c7f9a59994af82cb3a049248041c,vi Kivity <avi@cloudius-systems.com>, 2013-03-19 13:10:40 +0200, , script switch running release build since build default run,,
7011,50b3d88b70ed9f3eec9e24d32bd733ee5789bf9c,vi Kivity <avi@cloudius-systems.com>, 2013-03-19 12:31:23 +0200, , build build release default,,
7012,4589db87388e1cd1ed79e0b8f62cf23a12675a47,vi Kivity <avi@cloudius-systems.com>, 2013-03-19 12:30:28 +0200, , libc fix fcvt build failure mode release,,
7013,1bee8e6f64a2553c26ee2fb1e229ab2efc8f915a,uy Zana <guy@cloudius-systems.com>, 2013-03-19 12:12:44 +0200, , initialize zone m_getzone compile release ...,,
7014,4180be4a9ad3a58f06933d4991b4f2729ba8d2f0,vi Kivity <avi@cloudius-systems.com>, 2013-03-19 11:37:56 +0200, , merge branch master github.com cloudius system osv fpu preemption,,
7015,0b2c57d17856a2f95d0e726e5a548706b0997cd1,vi Kivity <avi@cloudius-systems.com>, 2013-03-19 11:30:49 +0200, , build move tracing configuration configuration system,,
7016,58e0c0b5dcd583d31c085e551c20ca778a89d183,vi Kivity <avi@cloudius-systems.com>, 2013-03-19 11:29:40 +0200, , test add fpu test test preemption doe corrupt fpu register,,
7017,6c6708435d4f811fda8d8040ff3dc60047f91c95,vi Kivity <avi@cloudius-systems.com>, 2013-03-19 11:28:39 +0200, , build fix fpic test,,
7018,118e49b81fbdbaeb6b44e5ea4151b169a3de11b6,vi Kivity <avi@cloudius-systems.com>, 2013-03-19 11:26:59 +0200, , sched save restore fpu preempting normal scheduling doe need save restore fpu switching thread since fpu register caller saved calling schedule may clobber fpu however doe hold preemption need save restore fpu state explicitly,,
7019,03f81accfd29d1669a446f0dd9538fe2aa44f0a9,vi Kivity <avi@cloudius-systems.com>, 2013-03-19 11:25:30 +0200, , x64 set cr4 fpu save restore,,
7020,d4adc432eafde870dbb336209eeb0b424563083b,vi Kivity <avi@cloudius-systems.com>, 2013-03-07 15:07:25 +0200, , x64 add cpuid parser parse cpuid flag bit relevant osv,,
7021,01fa9ddfa703833bc34c5fefd0ea0d138720e6c6,vi Kivity <avi@cloudius-systems.com>, 2013-03-07 13:26:13 +0200, , x64 add cpuid accessors,,
7022,08cf2de57edc49fc387e0aee0862d87b61f054c3,vi Kivity <avi@cloudius-systems.com>, 2013-03-06 19:37:43 +0200, , x64 add definition cr0 cr4 register bit,,
7023,eb3d0b692b8c0cc936a30ec54ee309be9b7abed5,vi Kivity <avi@cloudius-systems.com>, 2013-03-06 19:37:21 +0200, , x64 add accessors xsave xsaveopt xrstor fxsave fxrstor,,
7024,88075417d478de56b501fc16fe7fbe3ba1432656,adav Har'El <nyh@cloudius-systems.com>, 2013-03-19 00:23:15 +0200, , correct old typo,,
7025,51d0ebd5f9e498da75f96b0de134a9a10557f0cb,adav Har'El <nyh@cloudius-systems.com>, 2013-03-19 00:12:37 +0200, , implement mprotect still one missing feature though prot_none currently supported prot_read used instead i.e. instead inaccessible memory one get read memory inaccessible memory complicates code mean using non present bit still allocated page unpopulate use present bit decide page allocated need freed fix need unpopulate_page assume ever called allocated page evacute actually ensures return non present ptes change_perm use read_perm set present bit protect rely present bit know return rather must wrapped something like evacute know find mapped range call protect actually mapped range try tomorrow,,
7026,cb1f611aa489d659251d91d1ba99f47c2ebce85b,adav Har'El <nyh@cloudius-systems.com>, 2013-03-18 21:00:09 +0200, , fixed git accident apparently git add add current version version time commit git overrated,,
7027,3e2a55b3baaec7019af61424e77f914af117f97b,adav Har'El <nyh@cloudius-systems.com>, 2013-03-18 20:55:45 +0200, , implemented munmap well mmap mmap previous implementation completely broken evacuate never free physical memory backing removed mapping sometimes even called wrong parameter added test check mmap munmap combination longer leak memory,,
7028,fcebea9da093fcb82b419a286c738451c0692043,hristoph Hellwig <hch@cloudius-systems.com>, 2013-03-18 16:21:34 +0100, , add sysinfo stub,,
7029,20613dfe38b88425ddecb669da851cb62a943802,hristoph Hellwig <hch@cloudius-systems.com>, 2013-03-18 16:16:32 +0100, , add getloadavg stub,,
7030,c363b02443360c8c9a7850cba43b75bc81be75b1,hristoph Hellwig <hch@cloudius-systems.com>, 2013-03-18 16:13:02 +0100, , add dlfcn stub,,
7031,a64166d9f1508b761f2853ae396daffc5443943f,hristoph Hellwig <hch@cloudius-systems.com>, 2013-03-18 16:20:51 +0100, , import time musl,,
7032,3fc80e1801019f0aad4ce6d37db7df956ec33e82,hristoph Hellwig <hch@cloudius-systems.com>, 2013-03-18 16:09:39 +0100, , hack around glibc header mess strerror_r,,
7033,320388c4ebd417372e81c92e204494e53e2631f4,hristoph Hellwig <hch@cloudius-systems.com>, 2013-03-18 15:32:57 +0100, , implement additional getrlimit case jvm call running volanomark also improve debugging unhandled getrlimit case,,
7034,61c57524c077f84abc98cda2b05d551f1f70725c,hristoph Hellwig <hch@cloudius-systems.com>, 2013-03-18 15:29:49 +0100, , print aborted abort called like libc implementation,,
7035,b9f93ce43b747f9d8c17a7702d39be74126862c9,hristoph Hellwig <hch@cloudius-systems.com>, 2013-03-18 13:44:04 +0100, , remove unused syscall.h includes,,
7036,9d91551974349daf530278f11cee5584eb037de7,hristoph Hellwig <hch@cloudius-systems.com>, 2013-03-18 13:43:16 +0100, , remove functionality wrap syscall use syscall except gettid called directly java going implement direct api function,,
7037,cce8dd143193f6d005d05d0a820358b149189b0b,vi Kivity <avi@cloudius-systems.com>, 2013-03-18 14:16:19 +0200, , sched reschedule wake preemption enabled noticed nadav,,
7038,2ba28b67be40364421af4eb27fb6cb879fdcb2d0,adav Har'El <nyh@cloudius-systems.com>, 2013-03-17 14:13:55 +0200, , small fix readme need run gdbserver run.sh already doe instruction run bench.jar,,
7039,66a2c50c295e46f99fd9626c53f3e7914071f113,adav Har'El <nyh@cloudius-systems.com>, 2013-03-13 18:56:18 +0200, , added gdb osv info thread thread address also osv thread ... command use addition thread address also e.g. osv thread thread,,
7040,122fc52c4a8075344adffa63c62da6d7f9108676,adav Har'El <nyh@cloudius-systems.com>, 2013-03-12 11:23:45 +0200, , clean include lockfree mutex.hh removing unhelpful comment read paper ... leaving necessary discussion present paper also fix various error,,
7041,90aa9da8a60229c8e7a069e9f6d4163048c1f11c,adav Har'El <nyh@cloudius-systems.com>, 2013-03-11 19:00:56 +0200, , lockfree queue testing new bug found time,,
7042,a621c261f58294a57553fa4957567eb768824703,adav Har'El <nyh@cloudius-systems.com>, 2013-03-11 17:53:31 +0200, , started writing test lock free queue fixed lot embarrassing error,,
7043,2b8e95179655a84cf0b5421fe96cf67401b78064,hristoph Hellwig <hch@cloudius-systems.com>, 2013-03-11 14:15:52 +0100, , add handling error,,
7044,3b70d056b84e2d012a642a70e846a881178ccccd,hristoph Hellwig <hch@cloudius-systems.com>, 2013-03-11 14:11:39 +0100, , factor bio waiting code bio_wait,,
7045,86fe5b6ecd11b721ee492926d1ba8b548fd71666,hristoph Hellwig <hch@cloudius-systems.com>, 2013-03-11 14:08:28 +0100, , add flag biodone allows taking bio_error block layer core remove unsafe bio_flags manipulation virtio blk driver,,
7046,c4b42143e4798c0162fc4fa90622943df2b42cd5,adav Har'El <nyh@cloudius-systems.com>, 2013-03-11 13:55:43 +0200, , added untested implementation lock free multiple producer single consider queue lock free mutex using queue new directory include lockfree lock free mutex based technique called responsibility hand published anders gidenstam marina 2007 spent last two day thinking nearly losing mind weird corner case happen algorithm actually tested implementation need next code also still messy everything .hh move .cc interface comment various thought trying convince algorithm correct need write test clean code,,
7047,5f30c3970cd3a61da19db26f8fa9c033c6a09cd8,hristoph Hellwig <hch@cloudius-systems.com>, 2013-03-08 10:30:25 +0100, , remove _limits.h,,
7048,25ed92a486dba977758bed1212e9aaeb12deb380,or Laor <dor@cloudius-systems.com>, 2013-03-07 23:40:24 +0200, , merge branch master github.com cloudius system osv master github.com cloudius system osv sched copy image new thread instead zeroing,,
7049,1aa1431f6628107ffb89010ca3abf4cd26a6e5bc,or Laor <dor@cloudius-systems.com>, 2013-03-07 22:23:25 +0200, , get rid undef log,,
7050,f136f32870b2948ea2a71a05f8f616cb8ffb5565,vi Kivity <avi@cloudius-systems.com>, 2013-03-07 18:23:50 +0200, , sched copy image new thread instead zeroing current memset every thread start zero initialized variable switch memcpy get proper static initializer fix conf preempt,,
7051,f704ae77e6c0a88303dfe68c216b3e430f1fbc37,or Laor <dor@cloudius-systems.com>, 2013-03-07 18:07:59 +0200, , add tst virtionet sends single icmp static dynamic source mac address,,
7052,29e4b86720117e5e3c2c022fc04ca8dcd24b3feb,or Laor <dor@cloudius-systems.com>, 2013-03-07 17:57:45 +0200, , integrate virtio net network stack register interface freebsd stack handle packet moment previous test function still exist eventually dropped along way remove compilation hurdle rest system,,
7053,46829f8ce15a6c28885e1457fa353b4b5369455e,or Laor <dor@cloudius-systems.com>, 2013-03-07 17:50:55 +0200, , move osv bio.h .cc implementation along move virtio_blk_req structure hidden header,,
7054,166d79e98d0a21938b5c02fe203c232f58e62e7e,or Laor <dor@cloudius-systems.com>, 2013-03-07 17:48:39 +0200, , rename log function class log wrt reason bsd define log line clash,,
7055,32d56edb9526e619749197d65baad26b67181899,or Laor <dor@cloudius-systems.com>, 2013-03-07 17:45:09 +0200, , add extern defines using begin_decl bsd kernel code,,
7056,8f7f48108311eccc1ffc90b49a7a143fa80c8851,or Laor <dor@cloudius-systems.com>, 2013-03-07 17:43:56 +0200, , add function return link layer mac address interface,,
7057,fb03b051b8b33e0c2d51f150b19e578ef31cff89,or Laor <dor@cloudius-systems.com>, 2013-03-07 17:42:40 +0200, , add todo comment checking null value various inet point return value,,
7058,b805b13dba097312647921eae002e567b62bf5c0,or Laor <dor@cloudius-systems.com>, 2013-03-07 17:41:26 +0200, , change bsd min max bsd_ min max due clash std min,,
7059,295f8de844ba46975c3f2fd8246004f789b2d68d,vi Kivity <avi@cloudius-systems.com>, 2013-03-06 17:46:35 +0200, , processor.hh unindent,,
7060,3b881496cb90004f3b65730cb91cd6014e22e1a1,vi Kivity <avi@cloudius-systems.com>, 2013-03-06 17:20:08 +0200, , merge branch master github.com cloudius system osv sigsegv delivery conflict test bench com cloudiussystems bench bench.java,,
7061,acfe4054e993530013e3947e4d86eaf3571d1918,vi Kivity <avi@cloudius-systems.com>, 2013-03-06 17:13:45 +0200, , bench test actual benchmark worthless since jvm see lot segvs insert inline check eventually test take per iteration,,
7062,5835902e0403f61fc79bb84d9c70ccee43e0d9c2,vi Kivity <avi@cloudius-systems.com>, 2013-03-06 17:12:36 +0200, , signal implement sigsegv delivery implement sigsegv delivery thread triggered i.e. must unblocked,,
7063,35ac5c7f8efb14d04c60e78958f6552b94b14d6a,adav Har'El <nyh@cloudius-systems.com>, 2013-03-06 14:41:10 +0200, , populate part mmap implementation used allocate small page back mapping instead range large enough contain huge page allocate huge page back  patch improved performance sieve test 200mb array allocated skipped inside bringing performance within unvirtualized performance also using thp,,
7064,3f9bdfb2f4725046b1719736fb0d9bd7660b1027,adav Har'El <nyh@cloudius-systems.com>, 2013-03-06 14:05:13 +0200, , fix sievebench example commented,,
7065,d9775417b519e808f95da24d406f8b413705561d,adav Har'El <nyh@cloudius-systems.com>, 2013-03-06 13:58:17 +0200, , added alloc_huge_page matching free allocate properly aligned contiguous huge page given size,,
7066,30dad01e6c3a938073c23f1c2b648124c8292540,hristoph Hellwig <hch@cloudius-systems.com>, 2013-03-06 09:14:30 +0100, , redirect bsd sys limits.h native limits.h,,
7067,b78f5126c03138d0190b51d69cb960512818b257,hristoph Hellwig <hch@cloudius-systems.com>, 2013-03-06 09:12:56 +0100, , use native defintion struct uio iovec,,
7068,2e4ea36778ad5a81d24345d3f36b60f320fe95f9,uy Zana <guy@cloudius-systems.com>, 2013-03-05 22:24:59 +0200, , msleep bug fix timeout specified,,
7069,52a979727000764d33025ee21a5a28a6587a826c,uy Zana <guy@cloudius-systems.com>, 2013-03-05 22:20:59 +0200, , msleep return ewouldblock case timeout,,
7070,b821241851930fabcb672475ac9c5ed9d5de0c7e,adav Har'El <nyh@cloudius-systems.com>, 2013-03-05 19:45:08 +0200, ," added simple new benchmark sievebench allocates array length run simple sieve eratosthenes finding prime number jump around array various stride therefore exercise among thing tlb effected whether use huge page normal page storing array allow running benchmark without increasing memory main 100,000. really see effect huge page try 200,000,000 commented main",,
7071,0da5576652e7a1fe1adc17a61d311a4320ccdd3c,uy Zana <guy@cloudius-systems.com>, 2013-03-05 17:19:17 +0200, , net soreceive_dgram working expected,,
7072,3c834c126b06e54e1b37d6124259ef89baafe117,uy Zana <guy@cloudius-systems.com>, 2013-03-05 17:17:42 +0200, , net add msleep wakeup test,,
7073,332e0a499b3320e798daffc37aed35f879b12d23,uy Zana <guy@cloudius-systems.com>, 2013-03-05 17:15:05 +0200, , net stub sowakeup sbwait,,
7074,47dbda11c50420eee3589d1fdd5d045f62cad5df,uy Zana <guy@cloudius-systems.com>, 2013-03-05 17:13:15 +0200, , net verify port bug fixing uipc_socket.c,,
7075,f344ea5afa6f1feb98d8e63b480c56ea08d6461f,uy Zana <guy@cloudius-systems.com>, 2013-03-05 17:11:36 +0200, , net add implementation freebsd msleep wakeup,,
7076,95fa155fbf2d4dcf2fefa236f2b88e3c5fa83c1e,uy Zana <guy@cloudius-systems.com>, 2013-03-05 17:07:25 +0200, , added wait_until overload take nullptr mutex argument,,
7077,44d95271ae954bbc91c995bee6d26e2f30e81e44,vi Kivity <avi@cloudius-systems.com>, 2013-03-05 13:36:52 +0200, , testrunner report completion status test end,,
7078,5c5b95fe196c790720979d496a1e870bbca2fdf8,vi Kivity <avi@cloudius-systems.com>, 2013-03-05 13:30:23 +0200, , virtio fold virtio_device virtio_driver virtio_device simple set accessors around pci device since user virtio_device virtio_driver subclass simply fold virtio_driver eliminating middleman resolve two fixmes leaked virtio_device object created probing,,
7079,ae5470f83a43a3ed209142466698456e14e98190,vi Kivity <avi@cloudius-systems.com>, 2013-03-05 12:57:55 +0200, , virtio driver unindent,,
7080,b4f9d6467585b55baaca1ea1884c9c288d6ced41,vi Kivity <avi@cloudius-systems.com>, 2013-03-05 12:54:22 +0200, , virtio blk unindent,,
7081,75d960fef9d33e1beb9b7b20c0a2e5f4d283984a,vi Kivity <avi@cloudius-systems.com>, 2013-03-05 12:51:49 +0200, , virtio blk use c99 designated initializers great feature supported doe support extension eclipse static code analyzer doe cause lot false error reported,,
7082,ca8437848c63d757920d2abebe1b2ee87426ff6a,vi Kivity <avi@cloudius-systems.com>, 2013-03-05 12:07:06 +0200, , sched set thread cpu start initialization idle thread constructed current thread yet break unclear worked,,
7083,317ea23dbffc0423cfe75e60fc146db233a2556c,uy Zana <guy@cloudius-systems.com>, 2013-03-04 17:21:10 +0200, , merge branch master http github.com cloudius system osv,,
7084,a0d8bd7b2ca42ffedf3ce2d9e4e1e4bcd5c4a941,uy Zana <guy@cloudius-systems.com>, 2013-03-04 17:18:50 +0200, , net expand tst netdriver simulate received icmp echo request injected packet handled icmp_reflect find correct interface emits packet correctly,,
7085,9576c2114ae4adde0bc15e3d6a4817babf1bd1ab,uy Zana <guy@cloudius-systems.com>, 2013-03-04 17:05:28 +0200, , net initialize fake response injection callout main,,
7086,7f7b837dd610e4c73e7a9be7e11b4436872f3da3,uy Zana <guy@cloudius-systems.com>, 2013-03-04 16:59:08 +0200, , net former assigned mac address intereped multicase unintentionally,,
7087,98de3f3eb6747be08a041334e8bc70ee9ae628a9,vi Kivity <avi@cloudius-systems.com>, 2013-03-04 15:54:01 +0200, , add optimized implementation ilog2_roundup,,
7088,3eb437aab1cd9558d76f73237f59e98e66dc4a4a,vi Kivity <avi@cloudius-systems.com>, 2013-03-04 15:26:10 +0200, , mmu fix indentation unindent namespace content,,
7089,5bb186aadd8bd0719ddf7df69657827251001de2,vi Kivity <avi@cloudius-systems.com>, 2013-03-04 15:21:19 +0200, , elf fix indentation forgot header,,
7090,1fe168c0f40ad70a79ac7d501beec51534acc425,vi Kivity <avi@cloudius-systems.com>, 2013-03-04 15:08:35 +0200, , elf fix indentation indent namespace scope waste space,,
7091,a91520c527bacb96c9470a7619657feea40bca2a,uy Zana <guy@cloudius-systems.com>, 2013-03-04 14:27:38 +0200, , net running netisr test requires modifing code netisr test run arp isr registration entry running test affect networking stack,,
7092,2316f5f7b4a799512debf33abe76e2cd342f7344,uy Zana <guy@cloudius-systems.com>, 2013-03-04 14:23:15 +0200, , net inject hardcoded icmp packet echo response netdriver test incoming packet still fail due subbed sockbuf function sleep ensure socket closed packet injected else available inpcb struct found packet dropped,,
7093,32432315befa96d07fdab15e6dd986025545ca05,vi Kivity <avi@cloudius-systems.com>, 2013-03-04 13:33:25 +0200, , smp add missing break found eclipse,,
7094,c6833c44c5042a8f7ec50c58fbe1bf142a3b1fed,vi Kivity <avi@cloudius-systems.com>, 2013-03-04 12:28:49 +0200, , elf remove elf_ prefix already namespace elf,,
7095,d2a7d35bc1563baf14a414d0fb78efb9f7af65a7,vi Kivity <avi@cloudius-systems.com>, 2013-03-04 12:09:55 +0200, , pci drop unneeded cast pci device pci function need cast furthermore dangerous cast compile even object model change,,
7096,0b89316705d054da4f432de20e149d847f21b51c,vi Kivity <avi@cloudius-systems.com>, 2013-03-04 12:07:53 +0200, , pci drop pci_ prefix pci type pci pci_device redundant use pci device,,
7097,df9a5152e8d23a3471d3c5e41ff88c5b6b3fbfc3,vi Kivity <avi@cloudius-systems.com>, 2013-03-04 11:54:06 +0200, , virtio drop bogus using namespace pci,,
7098,ca89c18ad0f91ca5d0c94fc3a53ed51211f48ef3,vi Kivity <avi@cloudius-systems.com>, 2013-03-04 11:53:06 +0200, , merge branch master github.com cloudius system osv,,
7099,69767ef54706f5fdb48107eab5ca37778c949567,vi Kivity <avi@cloudius-systems.com>, 2013-03-04 11:50:47 +0200, , virtio pci fix layering violation pci layer know virtio device creates even though virtio higher layer fix making virtio_device contain reference pci device instead inheriting functionality could probably moved pci_driver,,
7100,0d0b80f7be319bb39c969421481f5e4adaa52df7,or Laor <dor@cloudius-systems.com>, 2013-03-04 11:39:48 +0200, , relax debug print verbosity,,
7101,1311706fe0c396d22ea3aea1376423027c78ccc0,vi Kivity <avi@cloudius-systems.com>, 2013-03-04 11:33:40 +0200, , virtio drop bogus using namespace pci header,,
7102,86d99972850ad77b8f5c0fa95c2d1e91fc1441ae,or Laor <dor@cloudius-systems.com>, 2013-03-04 10:49:20 +0200, , change header regular field within virtio_net_req structure later already allocated heap,,
7103,e7f5d0838c0a62c05d1145ece24b2eb4efe6d2ad,or Laor <dor@cloudius-systems.com>, 2013-03-04 00:18:45 +0200, , allocate virtio_net_hdr heap moment translate virt_to_phys stack address failed,,
7104,9a87f7555b5a231f82e608c64e6488433aeb9874,vi Kivity <avi@cloudius-systems.com>, 2013-03-03 19:23:39 +0200, , sched make preemption optional make conf preempt disable preemption build make sure make clean first,,
7105,4833729e4247c130048f2ef5bd3348651a6a7f2e,vi Kivity <avi@cloudius-systems.com>, 2013-03-03 19:20:40 +0200, , build add way pas configuration variable source make conf preempt  ... dconf_preempt use ifdef source reduce error due misspelling,,
7106,ede513c2c93f3dc6cdc25e80dabe46f9c368f139,vi Kivity <avi@cloudius-systems.com>, 2013-03-03 19:12:20 +0200, , build push optimization flag debug.mak release.mak file easier manage different configuration way,,
7107,c050689bd9af67a7b392e94e72be0cf7ccb7e91b,vi Kivity <avi@cloudius-systems.com>, 2013-03-03 18:39:11 +0200, , merge branch master github.com cloudius system osv sched preemption,,
7108,378e8aa159caea08e869789ae40f73cea1480322,vi Kivity <avi@cloudius-systems.com>, 2013-03-03 18:32:42 +0200, , sched preemption split core scheduler function calling interrupt wrapper calling normal path call preemptible path interrupt handler,,
7109,61679edea8a47354b41cc9f90a72df027e5dcbf9,vi Kivity <avi@cloudius-systems.com>, 2013-03-03 18:25:43 +0200, , sched disable preemption wait_until sequence preempted wait_until sequence evaluation predicate scheduler see status waiting state put back runqueue mean evaluate predicate even wait wake may come predicate happens evaulate true wrong since need exit wait_until without waiting fix disabling preemption across wait_until,,
7110,dfbef18786552dcc6aa33ed8eda33ba933458162,vi Kivity <avi@cloudius-systems.com>, 2013-03-03 18:23:08 +0200, , sched add preemption counter mean temporarily disable thread preemption since counter thread local storage special mean needed protect counter preemption,,
7111,96f250893e0781897f2ab79cb903bb4534f747d1,vi Kivity <avi@cloudius-systems.com>, 2013-03-03 18:20:45 +0200, , arch add irq_enabled accessor,,
7112,224bf9d9033633f25b2d2453d4cc9c63058e50bb,vi Kivity <avi@cloudius-systems.com>, 2013-03-03 18:13:25 +0200, , sched protect thread status manipulation yield want preempted queuing thread marking queued,,
7113,cbc5ff6e6cef28d0dbe1a4448add6b33ce8ce901,vi Kivity <avi@cloudius-systems.com>, 2013-03-03 18:09:57 +0200, , sched protect runqueue manipulation,,
7114,2c6a053e2dd0bf7a79e979bbcac4db9c82192898,vi Kivity <avi@cloudius-systems.com>, 2013-03-03 18:06:12 +0200, , sched disable interrupt taking spinlock preemption spinlock taken would lead deadlock prevent disabling interrupt,,
7115,21db6f2d779490a25375d7c90524950d36a81a9f,vi Kivity <avi@cloudius-systems.com>, 2013-03-03 18:00:01 +0200, , sched per thread exception stack preemption may switch thread interrupt mean longer use per cpu exception stack since every thread system potentially preempted switch per thread exception stack instead add overhead context switch path negligible single memory write,,
7116,60923626b9aa42c51d1e9fb6c887bec4eb1da222,vi Kivity <avi@cloudius-systems.com>, 2013-03-03 17:54:24 +0200, , sched initialize thread cpu initial thread currently uninitialized break thing later,,
7117,e4f96e06bb26dff269e2b87951818aa3cb782840,vi Kivity <avi@cloudius-systems.com>, 2013-03-03 17:46:06 +0200, , tst pthread join secondary thread otherwise preemption enabled may access stuff primary thread exited,,
7118,fede6532f6badf84eaa891420b70f4f2cb360cf5,vi Kivity <avi@cloudius-systems.com>, 2013-03-03 17:45:17 +0200, , pthread implement pthread_join,,
7119,e6d0d8960f8a5b524da61a2da73ba37475ab6745,uy Zana <guy@cloudius-systems.com>, 2013-03-03 15:38:03 +0200, , net hexdump fragment arriving mbufs validate sent packet,,
7120,dfa658e020afc5f1a901530e24a1355c4325ec59,uy Zana <guy@cloudius-systems.com>, 2013-03-03 15:12:47 +0200, , net call sobind set source address test,,
7121,af144f4852374e998e86bc360d8c005eb5e1ef12,uy Zana <guy@cloudius-systems.com>, 2013-03-03 15:11:39 +0200, , net broadcast addr set automatically using subnet,,
7122,7ebceba49b9a06acf69696b2de25a3e3c792baf8,uy Zana <guy@cloudius-systems.com>, 2013-03-03 10:40:34 +0200, , use tprintf tst bsd netdriver,,
7123,0b993d8ae20fb03650f22e7876accf16ece4e233,uy Zana <guy@cloudius-systems.com>, 2013-03-03 10:37:51 +0200, , use logger tst rwlock,,
7124,0095249feb8f6dbd66ae91720c083c8ec33400d3,uy Zana <guy@cloudius-systems.com>, 2013-03-03 10:35:54 +0200, , added variadic logger function exposed tprintf tag printf code,,
7125,af61bc70bec08d13befb8a20e4105ee1203ded49,uy Zana <guy@cloudius-systems.com>, 2013-03-02 13:48:40 +0200, , revert starting java.so net stalled merge,,
7126,ed562fcf532d6164122defe69d9c41a04f387ec0,uy Zana <guy@cloudius-systems.com>, 2013-03-02 13:45:50 +0200, , merge branch net stalled,,
7127,b9bacad82be1b1e7b0d66dd0711c1d29910e4128,uy Zana <guy@cloudius-systems.com>, 2013-03-02 13:43:00 +0200, , net change granularity callouts microsecond,,
7128,5380e449d93af333756f61f951d1c8c4d98f7be3,uy Zana <guy@cloudius-systems.com>, 2013-03-02 13:42:15 +0200, , bug fix getmicrotime tvp tv_usec set properly,,
7129,b66b5acec13de30c83d234d39379a260a4dafeb0,vi Kivity <avi@cloudius-systems.com>, 2013-03-01 18:00:05 +0200, , mmu fix booting 4gb memory correctly skip memory region pci hole first phase mapping memory,,
7130,b4b6664b966dcc3b8a6aa5854460d92fe1f50057,vi Kivity <avi@cloudius-systems.com>, 2013-03-01 17:12:45 +0200, , mmu fix booting 1gb memory due cut paste error area 1gb double freed 1gb present leading freelist corruption,,
7131,8c20af747d8ca7a9467f4013698279db508a7d57,uy Zana <guy@cloudius-systems.com>, 2013-03-01 12:14:10 +0200, , start netdriver test boot,,
7132,1842a6187510b2322b885e146a8cd3d70387f0a0,uy Zana <guy@cloudius-systems.com>, 2013-03-01 11:44:45 +0200, , net cleanup remove unused uma_refcounts array call uz_fini well,,
7133,5fa72cdd314cbed11f3263bf51eca9db0d1f9235,uy Zana <guy@cloudius-systems.com>, 2013-02-28 23:04:52 +0200, , net improve bsd netdriver test 1st packet,,
7134,4eb45f9c16dcec06b8814a7956bd2b2dd3a1a0e1,uy Zana <guy@cloudius-systems.com>, 2013-02-28 23:01:35 +0200, , net better printing interface ether_attach,,
7135,90cd1c2dc9837c5098067323d1f548517c8d3401,uy Zana <guy@cloudius-systems.com>, 2013-02-28 23:00:54 +0200, , net bug fix code flow caused due port,,
7136,ca570d61a49b35edd93c38997762665e33df7c62,uy Zana <guy@cloudius-systems.com>, 2013-02-28 22:59:26 +0200, , net add missing sa_size_always macro,,
7137,24b49d7c1a35751964434bd48835c90676a3a7d3,uy Zana <guy@cloudius-systems.com>, 2013-02-28 22:58:17 +0200, , net added if_ip if_setaddr wrapper in_ioctl ioctls,,
7138,ab849ede59084256565e038a1467323a621281d0,uy Zana <guy@cloudius-systems.com>, 2013-02-28 22:55:46 +0200, , net added route arp wrapper pf_route socket,,
7139,77948f432b9221d2e5518607beef3cbc2eb878ec,uy Zana <guy@cloudius-systems.com>, 2013-02-28 22:51:37 +0200, , net correct sysinit sequence,,
7140,f0df6a93b95c3650342fa8a1f12f5255a750f469,uy Zana <guy@cloudius-systems.com>, 2013-02-28 22:41:47 +0200, , net initialize pf_route domain well,,
7141,ef380cd1b5c0c913c6b817fe3faf30d510d3da26,uy Zana <guy@cloudius-systems.com>, 2013-02-28 22:39:39 +0200, , net add domainfinalize sysinit sequence,,
7142,e2dcd83b259d6e107a07f667448d943f16d8a28c,uy Zana <guy@cloudius-systems.com>, 2013-02-28 22:36:33 +0200, , net zero uma item refcnt allocation,,
7143,16ebc3049e799031ab86dba7e016dcd1f4209033,uy Zana <guy@cloudius-systems.com>, 2013-02-28 22:35:46 +0200, , net uma_stub bug fix zero calling zone constructor,,
7144,ff6195ab0ae63c63f9bb7c2f5c3338c84663db99,uy Zana <guy@cloudius-systems.com>, 2013-02-28 22:34:01 +0200, , net remove comment uipc_socket.c,,
7145,97b3170213d6ba5be5306f9fe908906c5481a7fd,uy Zana <guy@cloudius-systems.com>, 2013-02-28 22:31:56 +0200, , net helpful script following sysinit order,,
7146,2832187c210248e69c91b85870714746bffd0570,vi Kivity <avi@cloudius-systems.com>, 2013-02-28 18:46:39 +0200, , elf fix leak debugger interface forgot delete object debugger interface removing program,,
7147,1b3abd7bc7fffb5990169a08e7c095526e0f4152,vi Kivity <avi@cloudius-systems.com>, 2013-02-28 18:42:17 +0200, , elf fix indentation,,
7148,f7d88d53ab16d26b579335d6c4130633a43c4a8a,or Laor <dor@cloudius-systems.com>, 2013-02-28 17:41:55 +0200, , merge branch master github.com cloudius system osv master github.com cloudius system osv romfs fix romfs_read use uninitialized variable bsd fix ratecheck mempool switch spinlocks mutexes smp drop debug message smp bringup libc make assert friendlier panic condition,,
7149,ada68e29a7d554909585d0f8ad2854ee8e99691f,or Laor <dor@cloudius-systems.com>, 2013-02-28 17:40:37 +0200, , add thread drive basic packet queue see packet yet probably header need configured,,
7150,185e912a2812cc38f1cdac853a7cbbaaa51f7cc8,vi Kivity <avi@cloudius-systems.com>, 2013-02-28 17:08:53 +0200, , romfs fix romfs_read use uninitialized variable found mode release,,
7151,f1e9711550b98e81022d414bec88e264565b255d,vi Kivity <avi@cloudius-systems.com>, 2013-02-28 17:08:25 +0200, , bsd fix ratecheck found mode release,,
7152,49ea06d1a544d591d9d9b9b8958ee893193a1a32,vi Kivity <avi@cloudius-systems.com>, 2013-02-28 16:35:42 +0200, , mempool switch spinlocks mutexes working,,
7153,d3b3f353517b1dede79f346212132069091949c3,vi Kivity <avi@cloudius-systems.com>, 2013-02-28 16:34:41 +0200, , smp drop debug message smp bringup boost format allocates quite ready schedule state drop debug message unneeded anyhow,,
7154,b2678e3987edc76f452580949f4e7da48392f45e,vi Kivity <avi@cloudius-systems.com>, 2013-02-28 16:30:45 +0200, , libc make assert friendlier panic condition though stdio vfs layer,,
7155,e41df9b28d3f4bc46d9558ccda480b4a7e458275,or Laor <dor@cloudius-systems.com>, 2013-02-28 16:28:56 +0200, , merge branch master github.com cloudius system osv master github.com cloudius system osv interrupt manager simplify msi registration conflict driver virtio net.cc,,
7156,3210b086c5679fdacb3bb1fab218c238a34d7412,or Laor <dor@cloudius-systems.com>, 2013-02-28 16:17:51 +0200, , add code virtio net icmp header parsing temporal,,
7157,3f8ade58b072e5686a247a525b356f9dfa029e11,or Laor <dor@cloudius-systems.com>, 2013-02-28 16:16:10 +0200, , generalize ring_has_room function abled use available discriptors also detect whether half ring call fill,,
7158,12170cb739c21737095929e340104a44cd880567,or Laor <dor@cloudius-systems.com>, 2013-02-28 16:06:12 +0200, , revert disable test reverts commit conflict bootfs.manifest,,
7159,d9a0042bfe4e9e75b1bacde71716301d5afa21d6,vi Kivity <avi@cloudius-systems.com>, 2013-02-28 15:49:30 +0200, , interrupt manager simplify msi registration instead requiring user construct msix entry thread binding map pas directly isr0 isr1,,
7160,16e38734cdc0580b3e2d04663bb11b172ad5bad5,vi Kivity <avi@cloudius-systems.com>, 2013-02-28 15:18:27 +0200, , interrupt manager use vector msix_vectors instead idt vector idt vector extra level indirection way msix_vector really want convert std vector msix_vector lead considerable simplification code,,
7161,c7a5e690c60bb39102506ff881c399f1cddc1ea4,vi Kivity <avi@cloudius-systems.com>, 2013-02-28 13:14:05 +0200, , interrupt manager stop passing device place since interrupt manager local device initialize device pointer remember simplifies api,,
7162,36e7c44f91f4f563c9bf6c662151a85d31b83c90,vi Kivity <avi@cloudius-systems.com>, 2013-02-28 11:22:00 +0200, , msi virtual destructor reason,,
7163,3e0c19aeb18e432a22b32abf0967837635c3030c,vi Kivity <avi@cloudius-systems.com>, 2013-02-28 11:20:06 +0200, , msi make local driver instead global actually interaction msix registration different driver help use global instance simplify interface making local also remove locking consideration,,
7164,649672f498f86550541944c8c8aca606ae0b8004,vi Kivity <avi@cloudius-systems.com>, 2013-02-28 13:03:00 +0200, , driver remove load unload method subsumed driver constructor destrutor,,
7165,c86b2969234e1020c4a87206030a6eeed8f81add,vi Kivity <avi@cloudius-systems.com>, 2013-02-28 12:53:18 +0200, , driver switch back device enumeration rather driver enumeration driver enumeration requires instantiating driver even device present device present multiple time need pre create multiple driver instance awkward driver life cycle complicated separation instantiation binding device switch back traditional device driven model iterate device try find matching driver factory found call instantiate driver bind device,,
7166,d39893cda3a4ce04698f91fd6c46a6dedbb54744,vi Kivity <avi@cloudius-systems.com>, 2013-02-28 12:51:33 +0200, , hw_device_id add operator,,
7167,b47f0cb40047a4384621b23d7d9b7a6ef204638a,vi Kivity <avi@cloudius-systems.com>, 2013-02-28 11:50:07 +0200, , driver remove bogus using namespace pci header file,,
7168,57006f89b32850224e07adef6f39e6e330ec94e4,vi Kivity <avi@cloudius-systems.com>, 2013-02-28 11:07:20 +0200, , loader drop bogus main thread bogus consumed wakeups scheduler cpu running could schedule stuff manifested lot zombie bsd callouts getting reaped drop,,
7169,452ac427891355e7ba63a67adc478eeb7ab026a7,vi Kivity <avi@cloudius-systems.com>, 2013-02-27 19:08:21 +0200, , sched join thread destruction user forgot favour,,
7170,a17f3ac4bf82b2014ae887ceae2e1d783b3dded5,vi Kivity <avi@cloudius-systems.com>, 2013-02-27 19:04:10 +0200, , sched log thread destruction,,
7171,887081ac17a3d920945f71b0a9f0870017752ce8,vi Kivity <avi@cloudius-systems.com>, 2013-02-27 19:02:44 +0200, , sched delete thread stack use also make deleter configurable use munmap similar destroy stack payload thread,,
7172,a335a2e08e03b2c2733ee81fe763fa03af26a6ec,uy Zana <guy@cloudius-systems.com>, 2013-02-27 18:53:26 +0200, , merge branch master http github.com cloudius system osv,,
7173,b3cb820846c48183107ec8780a415c0f5ccb4237,uy Zana <guy@cloudius-systems.com>, 2013-02-27 18:48:58 +0200, , rwlock add rw_try_lock test rwlock,,
7174,23f727853955b2fffe05233d48daa82afe6af10a,vi Kivity <avi@cloudius-systems.com>, 2013-02-27 18:48:15 +0200, , libc ensure sem_t overflowed,,
7175,5207dff9660a44495c743508d8c47b88b1d5f09c,uy Zana <guy@cloudius-systems.com>, 2013-02-27 18:48:04 +0200, , rwlock bug fix rw_recurse level maintained correctly thanks avi observing,,
7176,907d2d560a75325f9da525d5f0ae92eaafb064e7,vi Kivity <avi@cloudius-systems.com>, 2013-02-27 18:31:44 +0200, , semaphore replace spinlock mutex mutex much better sufficient avoid overflowing sem_t use pointer instead embedding mutex,,
7177,6c60e80d46920fbf0514bdd6dcf4d23ca7a22cbd,vi Kivity <avi@cloudius-systems.com>, 2013-02-27 18:30:00 +0200, , revert mempool use mutex instead spinlock reverts commit assert break badly printf inside assert allocates reinstate adding emergency allocator,,
7178,e917ab2563ea4e3094970bad7d6ac094375a7810,vi Kivity <avi@cloudius-systems.com>, 2013-02-27 18:15:22 +0200, , mempool use mutex instead spinlock mutexes allocation free thus safe use within allocator,,
7179,cbec141a24b3ae241af4e5a70781657290516541,vi Kivity <avi@cloudius-systems.com>, 2013-02-27 17:28:33 +0200, , sched fix reaper unlock without lock held wait_until mutex ... must called mutex held,,
7180,0ed663a885d0302e31724638f7dba607a5b8d881,vi Kivity <avi@cloudius-systems.com>, 2013-02-27 15:18:18 +0200, , sched delete reaping,,
7181,6baf2e68a91bc58861531a32cc957d6f848de824,vi Kivity <avi@cloudius-systems.com>, 2013-02-27 15:17:20 +0200, , sched improve detached thread locking use new wait_until variant support dropping mutex sleeping,,
7182,c4642da00b346da2d51f1202d430100071880247,vi Kivity <avi@cloudius-systems.com>, 2013-02-27 14:31:01 +0200, , mutex take spinlocks line need make little complicated,,
7183,3c67f753f3d0526d190e1eacfae5fc23dc289311,vi Kivity <avi@cloudius-systems.com>, 2013-02-27 11:17:33 +0200, , tst malloc join thread deleting,,
7184,4f725d4f9da8005bb523bdfb56b930c0d9a899d2,vi Kivity <avi@cloudius-systems.com>, 2013-02-27 10:35:31 +0200, , sched add idle thread previously performed idle processing scheduler context thread scheudled make preemption complicated since every thread potentially idle loop simultaneously preempted time past obviously disable interrupt idle loop move idle processing thread fix problem currently sub optimal since priority class yet even priority idle thread scheduled workload thread happens examine runqueue yield anything,,
7185,b729fff696b9c0bb07de260181631f2d994fc109,vi Kivity <avi@cloudius-systems.com>, 2013-02-26 17:29:18 +0200, , sched add mutex friendly variant wait_until variant unlock mutex sleeping keep locked evaluating predicate thus suitable complicated predicate evaluated atomically,,
7186,db7511215849d45ba7fd1e2129387e46519cc258,vi Kivity <avi@cloudius-systems.com>, 2013-02-26 17:28:02 +0200, , bsd rwlock build file need interaction scheduler,,
7187,8f219238cdc39174b5adcd0bdc79e00476df33d3,vi Kivity <avi@cloudius-systems.com>, 2013-02-26 17:06:56 +0200, , merge branch master github.com cloudius system osv,,
7188,8b0ab4356029a19549a225027d2c74a6ae5598b3,vi Kivity <avi@cloudius-systems.com>, 2013-02-26 17:01:33 +0200, , sched ensure scheduler initialized creating thread otherwise expect memory corruption,,
7189,739e98606b83a23b382bdd7828e68d42c31f0bd8,vi Kivity <avi@cloudius-systems.com>, 2013-02-26 16:59:19 +0200, , sched move smp initialization earlier make sure sched initialized create object type cpu thread object idle thread etc initialized correctly,,
7190,c1cc6ec7da82f681dd9ce7cb1c0b01692409b588,uy Zana <guy@cloudius-systems.com>, 2013-02-26 16:00:56 +0200, , merge branch master http github.com cloudius system osv,,
7191,074c8052d654143cf487ab30bd3a38a12df3840a,uy Zana <guy@cloudius-systems.com>, 2013-02-26 15:49:21 +0200, , net cleanup initialize mutex uipc_domain.h,,
7192,a75c1002359060b60c915877ce527efdde54a2c3,uy Zana <guy@cloudius-systems.com>, 2013-02-26 15:31:53 +0200, , net mbuf code cleanup,,
7193,5f8881676d2f69fa8721b47b2ad4666ebc80db4e,vi Kivity <avi@cloudius-systems.com>, 2013-02-26 15:09:59 +0200, , merge branch master github.com cloudius system osv,,
7194,b9b5523ad29385378e87aee1427e28e4ebba25b2,vi Kivity <avi@cloudius-systems.com>, 2013-02-26 15:09:28 +0200, , gdb support pretty printing trace output,,
7195,4b028d640e58ba581c203c5af554d8a37c83d3d6,uy Zana <guy@cloudius-systems.com>, 2013-02-26 14:59:20 +0200, , net cleanup verified port netinet directory,,
7196,e37544449d47c9863775a2026bb0f056c267399b,uy Zana <guy@cloudius-systems.com>, 2013-02-26 13:54:05 +0200, , merge branch master http github.com cloudius system osv,,
7197,53c0f2706371b79670327ff315754dbda4912b4e,uy Zana <guy@cloudius-systems.com>, 2013-02-26 13:44:06 +0200, , net back rwlock radix.c,,
7198,4d34da9e99f9d70f2c492e5a420168f188de6f41,uy Zana <guy@cloudius-systems.com>, 2013-02-26 13:36:36 +0200, , net cleaned if_llatbl.h add net_init,,
7199,9738a944c05f054b1ba33327fa76aaa0586cb299,uy Zana <guy@cloudius-systems.com>, 2013-02-26 13:33:31 +0200, , net cleaned if.c if_ethersubr.c,,
7200,3705cc09cc26fc751362d65b9f5d3c1cfb5f2324,vi Kivity <avi@cloudius-systems.com>, 2013-02-26 13:24:01 +0200, , build restore default command line,,
7201,9735e82d35a05aa03fc93cc781da2fc71cc93201,vi Kivity <avi@cloudius-systems.com>, 2013-02-26 13:22:24 +0200, , merge branch master github.com cloudius system osv,,
7202,6e579630e49d08537aa1fbe7152393678a93f060,vi Kivity <avi@cloudius-systems.com>, 2013-02-26 13:19:01 +0200, , trace add tracing facility see readme instruction,,
7203,bdfcedb31322e4106dd75fbf740182acceb337b0,uy Zana <guy@cloudius-systems.com>, 2013-02-26 12:57:23 +0200, , net add ported protocol inetsw array,,
7204,ac5ea1873aa2dd4197267cdde1636ba8dd0c4ad1,uy Zana <guy@cloudius-systems.com>, 2013-02-26 12:11:44 +0200, , net cleaned netinet in.c,,
7205,38247728882d5788a7bc751290f7f2f9187c5190,uy Zana <guy@cloudius-systems.com>, 2013-02-26 12:07:02 +0200, , net ported rtsock.c routing socket pf_route route.c code,,
7206,1348024fc12aea08923969bdc77cb003579b5860,uy Zana <guy@cloudius-systems.com>, 2013-02-26 11:29:31 +0200, , net cleaned route.c route.h resolving stubbed reference,,
7207,7aed48d285e7076127c749701ba6a701d59bc753,uy Zana <guy@cloudius-systems.com>, 2013-02-26 11:24:03 +0200, , net ported raw_cb,,
7208,c10d5eae1b735e3bbf82446bcf49f496655a4b50,uy Zana <guy@cloudius-systems.com>, 2013-02-26 11:15:46 +0200, , net added raw_cb.c raw_cb.h raw_usrreq.c unmodified control block implementation raw socket,,
7209,24d11ada2fb68cc68395e8a3d4e7b7fa131a7f83,uy Zana <guy@cloudius-systems.com>, 2013-02-26 11:09:41 +0200, , net added rtsock.c unmodified,,
7210,7ccf828849f6aaff515f4b050da8316422eec179,uy Zana <guy@cloudius-systems.com>, 2013-02-25 23:26:56 +0200, , fixed callouts,,
7211,925ad6095b7f085320831b066405553d751a84fd,uy Zana <guy@cloudius-systems.com>, 2013-02-25 23:24:27 +0200, , start tst bsd rwlock thread,,
7212,66f678a895bb9e1bb2dcc05323bc894645197a45,uy Zana <guy@cloudius-systems.com>, 2013-02-25 22:11:26 +0200, , merge branch net,,
7213,e2cface37fc9ddfbd3ec55ee37d0603408c3973e,uy Zana <guy@cloudius-systems.com>, 2013-02-25 21:57:49 +0200, , attempt send packet test interface working yet,,
7214,22165dfbf4298a37dcbb228f95cee7257d837ee7,uy Zana <guy@cloudius-systems.com>, 2013-02-25 21:49:49 +0200, , initialize sockbuf sb_hiwat correctly sosend_dgram fails ip_output,,
7215,9c20017d5b5cdc0ff378ba87ad741e63d21c1ead,vi Kivity <avi@cloudius-systems.com>, 2013-02-25 18:02:52 +0200, , merge branch master github.com cloudius system osv mutex work,,
7216,ec1d09c018eead8ca2c958163a72f44260b91e9a,vi Kivity <avi@cloudius-systems.com>, 2013-02-25 17:25:33 +0200, , mutex allow recusrive locking prex code depends todo make optional,,
7217,e74f5a0d2902c2287460489dc70cb1b9fb419736,vi Kivity <avi@cloudius-systems.com>, 2013-02-25 16:10:10 +0200, , mutex remove _locked member add complexity reduce locking overhead must take spinlock anyway unlock remove since make conversion recursive mutex needed vfs vfs_mount.c complicated,,
7218,ea26d0a95de72a1898df9a363f7dc3ec6c3eb1f1,uy Zana <guy@cloudius-systems.com>, 2013-02-25 15:11:40 +0200, , setup mbuf attempt call sosend_dgram sockbuf work needed,,
7219,cde67663f05cfa4171fedfa5383bac2162c9bced,uy Zana <guy@cloudius-systems.com>, 2013-02-25 15:09:37 +0200, , call uma zone init function order m_getcl work,,
7220,c40c24272db3d6c013674e07147b3805eca5cce6,uy Zana <guy@cloudius-systems.com>, 2013-02-25 12:33:25 +0200, , socket socreate soclose test successful,,
7221,e607eac12f9bcd502627f520125b1cf8941d42ce,or Laor <dor@cloudius-systems.com>, 2013-02-25 10:15:37 +0200, , merge branch master github.com cloudius system osv master github.com cloudius system osv gdb pretty printer libstdc sched start reaper thread printf reduce stack usage,,
7222,89d125ee4e8a4a041b83c7157a620f07fda52a65,or Laor <dor@cloudius-systems.com>, 2013-02-25 10:14:05 +0200, , make initial receive working virtio net,,
7223,df5db8fdf9f05f3b3795d9ec9541419a58c2b125,uy Zana <guy@cloudius-systems.com>, 2013-02-25 09:57:08 +0200, , example console output comment,,
7224,baa96fbd8fcea0f9061e77f9be8ba5613d891cfa,uy Zana <guy@cloudius-systems.com>, 2013-02-25 09:56:50 +0200, , allow non safe call implemented,,
7225,7f165518a690184498704f4e7dcac193d6e8de37,uy Zana <guy@cloudius-systems.com>, 2013-02-25 09:56:09 +0200, , initialize netinet address family properly,,
7226,4274ceb00d9e9084b73b51b2602212fe57296c1a,uy Zana <guy@cloudius-systems.com>, 2013-02-25 09:55:08 +0200, , cleaned if_ether.c uncomment code resolve reference netinet,,
7227,3830fa106764690edabea35498f804c137e8f86f,uy Zana <guy@cloudius-systems.com>, 2013-02-24 21:38:40 +0200, , start loopback device,,
7228,dcd2b83c35f16306fc1715324c4692068403140d,uy Zana <guy@cloudius-systems.com>, 2013-02-24 21:28:50 +0200, , cleanup if_loop.c enable netisr processing recieved packet,,
7229,3947239ee514ab6fd7e4fa6daa90a15e8e041774,uy Zana <guy@cloudius-systems.com>, 2013-02-24 20:20:45 +0200, , uipc_socket compile link,,
7230,5ffaec8e4363ae4a4146d7eb0bad3ea81e8e2487,uy Zana <guy@cloudius-systems.com>, 2013-02-24 19:34:34 +0200, , adding uipc_socket major part socket layer,,
7231,04e283b92bcc8820f52b44da8ddc47154915e8c4,uy Zana <guy@cloudius-systems.com>, 2013-02-24 19:31:58 +0200, , compile icmp_error ip_icmp.c previousely ifdefed,,
7232,ffa6238529c573eded6a72bda923d8896a679332,uy Zana <guy@cloudius-systems.com>, 2013-02-24 19:31:15 +0200, , bring tcp.h needed ip_icmp,,
7233,4e53cee295a06ccb915728083efc81d5263daa41,uy Zana <guy@cloudius-systems.com>, 2013-02-24 19:27:30 +0200, , resolve inm_print,,
7234,0da61fdaedc12b20dc5fe70658e436204215500c,uy Zana <guy@cloudius-systems.com>, 2013-02-24 19:24:52 +0200, , ported inet_aton.c inet_ntoa.c,,
7235,12c3dd505f7451aba0a4d00e94fe507fec849e4e,uy Zana <guy@cloudius-systems.com>, 2013-02-24 19:20:29 +0200, , added inet_ntoa.c inet_aton.c unmodified,,
7236,e29da519a9cbe2ad5cc896c985c294cbf82b5db4,vi Kivity <avi@cloudius-systems.com>, 2013-02-24 18:26:38 +0200, , smp simplify finding boot cpu need several place use function find,,
7237,c7d17b5971cb526ec1fe488aa14b538415ac06a7,vi Kivity <avi@cloudius-systems.com>, 2013-02-24 17:56:08 +0200, , gdb pretty printer libstdc,,
7238,aa0e4df8e124a79ee6294a57e5144d0f3e86e286,uy Zana <guy@cloudius-systems.com>, 2013-02-24 17:48:26 +0200, , fix priv_check ioctls return success value,,
7239,4807cb8528b81370676d359c774ca4d87b748e61,uy Zana <guy@cloudius-systems.com>, 2013-02-24 17:43:27 +0200, , ported in_rmx.c,,
7240,eb09b738946bce445fb36dd93ddf684e183b79dd,uy Zana <guy@cloudius-systems.com>, 2013-02-24 17:38:24 +0200, , bring in_rmx.c unmodified,,
7241,c469e06ab44c42d30d4bb7b1dd21a2742f1745bf,uy Zana <guy@cloudius-systems.com>, 2013-02-24 17:33:53 +0200, , ported in_mcast.c,,
7242,9b849b3c17f34a70da8b96aca0f53037810b7f09,uy Zana <guy@cloudius-systems.com>, 2013-02-24 17:19:02 +0200, , bring in_mcast.c unmodified,,
7243,4f3b1de98a003b185f11db71b46853bdddc49f1c,uy Zana <guy@cloudius-systems.com>, 2013-02-24 17:16:42 +0200, , ported igmp may trimmed later,,
7244,872e2a0e502b57cafc8ef9f842df4f08e19ff861,uy Zana <guy@cloudius-systems.com>, 2013-02-24 16:38:20 +0200, , added random libkern unmodified,,
7245,223be70d2c9c9acff0bd585f84261d4129b785a1,uy Zana <guy@cloudius-systems.com>, 2013-02-24 16:28:03 +0200, , bring igmp file,,
7246,3bb68d720437e1ec1a6d95559f02ecc7998b3cbb,uy Zana <guy@cloudius-systems.com>, 2013-02-24 16:23:56 +0200, , fix llatbl lock rwlock,,
7247,d91e06916394359105e9fbb43b85ade34e2cb360,uy Zana <guy@cloudius-systems.com>, 2013-02-24 16:20:48 +0200, , port raw_ip,,
7248,3ddace46d1bdee510985f4c8f467ea5ae1dc09f2,uy Zana <guy@cloudius-systems.com>, 2013-02-24 16:10:58 +0200, , ported option,,
7249,84e463d923fabb1198947a52cf03531b7ca7d04c,uy Zana <guy@cloudius-systems.com>, 2013-02-24 16:08:07 +0200, , bring option unmodified,,
7250,da0328637082ed975d30468b159da76a5a1a54e4,uy Zana <guy@cloudius-systems.com>, 2013-02-24 16:06:49 +0200, , ported ip_output,,
7251,bae5c0fefec47bd513028bd134a17b2fa44d98e9,uy Zana <guy@cloudius-systems.com>, 2013-02-24 15:58:47 +0200, , ported ip_id generation,,
7252,85db39267a0c229885a5e34a05d960b4e01ca23f,uy Zana <guy@cloudius-systems.com>, 2013-02-24 15:46:36 +0200, , bring bitstring.h,,
7253,65863f876a217febc9d3def13adddf706e3b76df,uy Zana <guy@cloudius-systems.com>, 2013-02-24 15:44:25 +0200, , bring ip_id.c unmodified ip_randomid,,
7254,13331b83b858efd99824c00dc9d16b3a48c3b8e7,uy Zana <guy@cloudius-systems.com>, 2013-02-24 15:39:40 +0200, , use socketvar.h ip_input.c well,,
7255,ba4faf13a5be4e5b9b944055398e673dc8339dfc,uy Zana <guy@cloudius-systems.com>, 2013-02-24 15:36:29 +0200, , use socketvar.h file need struct socket,,
7256,6296cbabf89f10b246f74e0bc949a0dadbd9e3d9,uy Zana <guy@cloudius-systems.com>, 2013-02-24 15:30:08 +0200, , uipc_sockbuf compiles,,
7257,f2f3cc5b6babff6b8065e971cba96c34f403c6d7,uy Zana <guy@cloudius-systems.com>, 2013-02-24 15:04:29 +0200, , ported socketvar.h sockbuf.h,,
7258,feecb87e2556c962f93a008838a7a50332d4635b,uy Zana <guy@cloudius-systems.com>, 2013-02-24 14:52:23 +0200, , added include file socketvar.h sockopt.h,,
7259,91226df9cfdde438177020dd71a32f960ba039d5,uy Zana <guy@cloudius-systems.com>, 2013-02-24 14:49:16 +0200, , added sockbuf related file unmodified sockbufs structure used socket layer,,
7260,1b19542ed78b6d9b6cd05d538a72d26157bb8076,uy Zana <guy@cloudius-systems.com>, 2013-02-24 14:20:24 +0200, , added pfil network initialization,,
7261,658d1aa9ad14c75665ee8f6806d3c6c8d30134a0,uy Zana <guy@cloudius-systems.com>, 2013-02-24 14:14:56 +0200, , ported pfil,,
7262,3612e98851b8ed3f7a5c300424ea3adb6c838a4f,uy Zana <guy@cloudius-systems.com>, 2013-02-24 13:52:21 +0200, , added pfil unmodified useful firewall implementation,,
7263,f51e5dc64c4ca9fd6e7025f1098b50b93da5281f,uy Zana <guy@cloudius-systems.com>, 2013-02-24 13:37:43 +0200, , add missing input output file unmodified,,
7264,73ccc0de1285f0f86d2f0acb8918ea4dd1283c26,vi Kivity <avi@cloudius-systems.com>, 2013-02-24 11:26:07 +0200, , sched start reaper thread overrun zombie signed avi kivity avi cloudius systems.com,,
7265,37ce1854f8cc98a7b5f4293f4b21cd7f91abbbf3,vi Kivity <avi@cloudius-systems.com>, 2013-02-24 11:16:38 +0200, , printf reduce stack usage printfs 80k stack easily overflow cause corruption simply increase stack size since huge stack footprint mean stack guard page work reduce footprint later switch per cpu allocation scheme,,
7266,f1100c64875621d98ec09bb39ad77e32c02c9197,vi Kivity <avi@cloudius-systems.com>, 2013-02-23 21:01:13 +0200, , merge branch master github.com cloudius system osv sched moved thread start virtio vring.cc virtio blk.cc conflict driver virtio vring.cc,,
7267,eecdbd912e844d5bb9f2babf001ac06e4db41ca0,vi Kivity <avi@cloudius-systems.com>, 2013-02-23 20:54:32 +0200, , gdb improve thread status printing atomic status need examine runqueue,,
7268,f5c34d800c5c4645c8752e33a990b80bf4130e2d,vi Kivity <avi@cloudius-systems.com>, 2013-02-23 20:52:15 +0200, , sched auto start thread easy use auto starting thread generates problem complicated initialization take place rather making auto start optional guy suggested remove completely keep api simple use thread start start thread unstarted thread ignore wakeups started,,
7269,c0345d581bdc3247ebfe001e89527f7babd7a2fa,or Laor <dor@cloudius-systems.com>, 2013-02-23 00:21:07 +0200, , move interrupt routine registration vring driver remove hard coded binding queue enable flexibility upcoming virtio net registration,,
7270,35e40d3e796e8e6d67fd936d858bf71f29a5e13f,or Laor <dor@cloudius-systems.com>, 2013-02-22 00:23:37 +0200, , merge branch master github.com cloudius system osv master github.com cloudius system osv add romfs driver,,
7271,ad8890a711b4058319f7fa12dab99bda881f7e4b,or Laor <dor@cloudius-systems.com>, 2013-02-22 00:22:22 +0200, , handle aspect disk fail writes path call biodone appropriate,,
7272,3755f46537e0a247cbf73de5d1ea2b2b3520d550,or Laor <dor@cloudius-systems.com>, 2013-02-22 00:21:14 +0200, , fix critical type test prog,,
7273,014731d753da2236ced208f02de30f3d5851d6b2,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-12 18:56:00 +0100, , add romfs driver like fat test wired yet infrastructure ,,
7274,e73703e554b580ebc591b072703037802ea8c749,uy Zana <guy@cloudius-systems.com>, 2013-02-21 20:07:15 +0200, , ported ip_icmp,,
7275,32a98488e67c4b40e4b6947b616f646b6e4759fb,uy Zana <guy@cloudius-systems.com>, 2013-02-21 19:29:08 +0200, , ported in_cksum,,
7276,f7b0ed16779c8717ee6375768532371453ce3107,uy Zana <guy@cloudius-systems.com>, 2013-02-21 19:27:47 +0200, , added in_cksum.c unmodified in_cksum,,
7277,9e1f7018c30afb256e0eda228734ff1d46808546,uy Zana <guy@cloudius-systems.com>, 2013-02-21 19:19:07 +0200, , ported ip_proto.c,,
7278,33ce644f814dcc57b61bf8ead7637cd4207ea123,uy Zana <guy@cloudius-systems.com>, 2013-02-21 19:08:14 +0200, , bring ip.h in_systm.h unmodified,,
7279,dcaf928bf691510e60e0e87f0e28ce8e17074fdb,uy Zana <guy@cloudius-systems.com>, 2013-02-21 18:58:29 +0200, , ported in_pcb protocol control block used tcp,,
7280,633ea2534fa2117c498c07decd470eb3d93f3b4b,uy Zana <guy@cloudius-systems.com>, 2013-02-21 18:49:00 +0200, , make sys param.h machine param.h mutually exclusive,,
7281,6363cebec966dd0107550d8b747db2f58a8a84e0,uy Zana <guy@cloudius-systems.com>, 2013-02-21 18:47:56 +0200, , ported arc4random.c make arc4random available,,
7282,660b7401f379f140578ab7810528d48b4d486e1a,uy Zana <guy@cloudius-systems.com>, 2013-02-21 18:33:18 +0200, , added arc4random.c unmodified,,
7283,a6f3c0fdfa21fe0e2f256217e85285a513186f2a,or Laor <dor@cloudius-systems.com>, 2013-02-21 17:50:29 +0200, , relax cast static_cast,,
7284,77731c65e82c0a34cdf28e8f70d38768602a2e47,or Laor <dor@cloudius-systems.com>, 2013-02-21 17:21:55 +0200, , merge branch master github.com cloudius system osv master github.com cloudius system osv move debug.h include osv make self sufficient,,
7285,9344c4037fe681ea05b3662a2940cb3a6ab7c6e2,or Laor <dor@cloudius-systems.com>, 2013-02-21 17:11:35 +0200, , add readonly property,,
7286,1b0071407c1a93e3b1c29830826f607821fc06ea,or Laor <dor@cloudius-systems.com>, 2013-02-21 17:11:02 +0200, , fix tab space,,
7287,d0afe35e523929a32a61867d46caa241940a548c,or Laor <dor@cloudius-systems.com>, 2013-02-21 17:10:18 +0200, , separate index sector 512 done since increasing input data resides single byte addition make sure read buffer initialize zero target data wish found testing readonly disk property,,
7288,9c33ee699236be32d297b3b409536ca94604cb04,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-21 14:55:20 +0100, , move debug.h include osv make self sufficient,,
7289,1d332966b0a52dc80750e8b608622ca9b48c7527,uy Zana <guy@cloudius-systems.com>, 2013-02-21 15:54:46 +0200, , increase max stub uma zone stub uma_zdestroy,,
7290,51946b43a8515a870ecbf8d5bdafa5173521c0ef,uy Zana <guy@cloudius-systems.com>, 2013-02-21 15:46:18 +0200, , ported subr_hash,,
7291,921d53ba713d0166fdc6f6b3a762f2d1d64e3f9a,uy Zana <guy@cloudius-systems.com>, 2013-02-21 15:42:15 +0200, , bring kern subr_hash.c unmodified,,
7292,bf95dc5b868b08982ea045a06ddbe75ede976291,vi Kivity <avi@cloudius-systems.com>, 2013-02-20 13:16:31 +0200, , sched protect runqueue manipulation interrupt want preempted manipulating runqueue since scheduler well called preemption leading corruption,,
7293,9d929a037151e908d5027d86e30a4f380c86facb,vi Kivity <avi@cloudius-systems.com>, 2013-02-20 13:11:41 +0200, , sched perform context switch interrupt disabled want preempted context switch since thread state invariant maintained,,
7294,592924de6881381a614691166c0e578471244cba,vi Kivity <avi@cloudius-systems.com>, 2013-02-20 11:28:41 +0200, , interrupt remember exception frame taking interrupt store global rather passing stack since useful context interrupt nest pretty simple,,
7295,00026bb04270c641710a2d628a1b995b1480a340,uy Zana <guy@cloudius-systems.com>, 2013-02-21 15:15:50 +0200, , ported in.c,,
7296,893de08500297c0027e02de47f0974b8d9543731,uy Zana <guy@cloudius-systems.com>, 2013-02-21 15:15:23 +0200, , implemented callout_init_rw untested,,
7297,a6b1a2b65aa3dda78697198dcb16324529cea9cb,uy Zana <guy@cloudius-systems.com>, 2013-02-21 15:14:07 +0200, , back cmutex rwlock if_llatbl.h,,
7298,a2350fa90b895833c64150726c0f493ac1e26ed1,or Laor <dor@cloudius-systems.com>, 2013-02-21 15:05:44 +0200, , remove virtio blk test code possible stress virtio external test need code,,
7299,dbbc8d29a0bff582836c858f0b52fce84c440220,uy Zana <guy@cloudius-systems.com>, 2013-02-21 14:56:23 +0200, , added in6.h non ifdefed af_inet6 data structure usage,,
7300,afdb9ce1fb081a24060935cafc8348443df3997a,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-21 13:35:44 +0100, , add missing tst fat file,,
7301,f09e005916cbe54fd1fad1bf12ce2548c457d37e,vi Kivity <avi@cloudius-systems.com>, 2013-02-21 14:42:45 +0200, , elf fix tpoff64 relocation relocation need relative start segment end need subtract segment size,,
7302,35cc564db0ad47485bd8c072cf4a0622d3a926f2,uy Zana <guy@cloudius-systems.com>, 2013-02-21 14:14:19 +0200, , need least single address family bring af_inet raw icmp unmodified yet,,
7303,eff578222db1c8f0fd5dee2625bd35fc92c0fc42,uy Zana <guy@cloudius-systems.com>, 2013-02-21 13:51:43 +0200, , enable interface net driver test,,
7304,2df8a5145458286f80a5d62d74e1a25cc8418713,uy Zana <guy@cloudius-systems.com>, 2013-02-21 11:15:34 +0200, , call ether_ifdetach test,,
7305,d78995849cbd73577cfffdc1b804331222def591,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-20 13:48:39 +0100, , initial fatfs import imported prex note test wired yet need infrastructure change run,,
7306,b57f31d1f25399e15b87e2255a5dc5123dd12994,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-14 15:07:26 +0100, , give vtype enum name,,
7307,cf0ce6ece951323cd358dab52fe69d271182d9c0,uy Zana <guy@cloudius-systems.com>, 2013-02-20 19:21:59 +0200, , simple if_alloc if_free test backbone testing network interface management,,
7308,b35279a9638a7934704d138011a11a0c7bbcfd24,uy Zana <guy@cloudius-systems.com>, 2013-02-20 19:21:06 +0200, , yet initialization network stack,,
7309,7f8ba32d1030ea13143df5b1fa54e3c54e3250b1,uy Zana <guy@cloudius-systems.com>, 2013-02-20 15:23:24 +0200, , ported needed ethernet subroutine,,
7310,6cd35fa90784d1765da3de2c7f88d92166a5e1bd,uy Zana <guy@cloudius-systems.com>, 2013-02-20 12:46:21 +0200, , added missing ethernet subroutine,,
7311,a40f3b33aa624e587bc6fd949a07efd4066f242d,uy Zana <guy@cloudius-systems.com>, 2013-02-20 11:39:25 +0200, , initialize arp module net_init,,
7312,b332b0047f05ef7ce1fdef369510d3e6d462b032,vi Kivity <avi@cloudius-systems.com>, 2013-02-19 19:24:20 +0200, , merge branch master github.com cloudius system osv waste power idle,,
7313,3b1a19aa710fce5507c8913bed508f90b30a878d,vi Kivity <avi@cloudius-systems.com>, 2013-02-19 19:23:15 +0200, , loader spin running payload waste power,,
7314,7ff0673a7dfa43c822a5daf447228967b799f32f,vi Kivity <avi@cloudius-systems.com>, 2013-02-19 19:22:24 +0200, , sched waste power idling instead spin bit looking work enter low power state wait interrupt pull,,
7315,03fe28f897126fd8fc684510c74cc5f8aa7dea4d,vi Kivity <avi@cloudius-systems.com>, 2013-02-19 19:21:16 +0200, , x64 add accessor special sti hlt sequence also add arch independent name,,
7316,8ef3153a196953c530879f362f60aa23ab1acb25,vi Kivity <avi@cloudius-systems.com>, 2013-02-19 18:44:22 +0200, , interrupt add facility send inter processor interrupt,,
7317,6ad3016cc4475033422873e5d13fd932301b0ab7,vi Kivity <avi@cloudius-systems.com>, 2013-02-19 18:36:31 +0200, , interrupt drop using namespace header whole idea namespaces prevent namespace pollution using using namespace header negates remove,,
7318,f0984bb138749dff1b8c93bcbf06ecf621137c7f,uy Zana <guy@cloudius-systems.com>, 2013-02-19 18:33:20 +0200, , add thread identifier debug output,,
7319,140d7c7242e42d63cc4f8a969a0ace801c996f08,vi Kivity <avi@cloudius-systems.com>, 2013-02-19 18:30:14 +0200, , sched add missing implementation thread noticed guy,,
7320,36b514669870494f998400a175154089e8c4551f,uy Zana <guy@cloudius-systems.com>, 2013-02-19 18:14:38 +0200, , add unitest netisr,,
7321,0493e19be3a023289e325c0328154c89dfe184fa,uy Zana <guy@cloudius-systems.com>, 2013-02-19 18:14:11 +0200, , fix netisr deferred pathway,,
7322,76c5866308342a2e772cbeb6a2a3e8db218a6165,uy Zana <guy@cloudius-systems.com>, 2013-02-19 18:10:50 +0200, , call netisr_init,,
7323,3854cc29ae4ca393abeb58e997b427188d3302a0,vi Kivity <avi@cloudius-systems.com>, 2013-02-19 18:04:34 +0200, , sched add thread debugging,,
7324,9b4756214775997b84cbb68acd137ed00252adef,uy Zana <guy@cloudius-systems.com>, 2013-02-19 17:04:30 +0200, , changed callouts implemented ontop detached thread,,
7325,484e53c35d40b0c34292af1b844b2a004945c666,uy Zana <guy@cloudius-systems.com>, 2013-02-19 17:01:45 +0200, , merge branch master net,,
7326,7c97df3605e3f76e7c9bd86599dc430b39a56f3b,vi Kivity <avi@cloudius-systems.com>, 2013-02-19 16:32:09 +0200, , sched detached thread add detached thread class private destructor allocated heap implementation reaper thread wait detached thread dead join delete,,
7327,2c9b5cc2dbd0e8a907bf2a0b7e204cde22c4c7f8,uy Zana <guy@cloudius-systems.com>, 2013-02-19 15:20:42 +0200, , enable netisr if_ether.c,,
7328,a37aba21c4c9477a68910ea429e4bebaa7df0080,uy Zana <guy@cloudius-systems.com>, 2013-02-19 14:47:22 +0200, , ported netisr using osv thread,,
7329,466b38518b3d9f43f056b5e8b1029e4d9bce2841,vi Kivity <avi@cloudius-systems.com>, 2013-02-19 11:54:57 +0200, , dlfcn implement dlsym handle sym handle rtld_default fix loading unit test main entry point,,
7330,56c25c28e76ec82d1409f172b2a33fdf49fde1b1,uy Zana <guy@cloudius-systems.com>, 2013-02-18 16:36:02 +0200, , added netisr file unmodified,,
7331,9d315520b62ee2db78aff11c6e2ed20c48a7c9c8,uy Zana <guy@cloudius-systems.com>, 2013-02-18 16:13:30 +0200, , merge branch master net,,
7332,823c52eaf4d53f340f8b67dda90fa382c6792006,uy Zana <guy@cloudius-systems.com>, 2013-02-18 15:24:48 +0200, , removed taskqueue link state update if.c,,
7333,4983fbaf61af6329434cc8b64b3d19a13feb6602,uy Zana <guy@cloudius-systems.com>, 2013-02-18 15:05:44 +0200, , add test getmicrotime part callout test noticed 2ms setup overhead callout,,
7334,d39d3c5fc9362420b82b27c0ab5657598592146b,uy Zana <guy@cloudius-systems.com>, 2013-02-18 15:04:33 +0200, , add implementation getmicrotime,,
7335,49a44195132e73575ff1c0ff19bb7fe76bd2134b,uy Zana <guy@cloudius-systems.com>, 2013-02-18 13:26:26 +0200, , add severity debug output logger,,
7336,ccd6c7d5d5983f2c9795f453cbd98c97d4010783,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-13 16:58:43 +0100, , switch filesystem code kprintf,,
7337,3cef79095253e9db8de95440fce0525dd52f6e94,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-13 16:50:36 +0100, , add kprintf like printf print straight console instead going stdio library vfs device layer used debugging outout kernel,,
7338,79399c9e0f021bb03bec6cc2fa76c6fef2c7613a,uy Zana <guy@cloudius-systems.com>, 2013-02-18 12:02:14 +0200, , cleaned if_ether.c,,
7339,e5ed5803ea4bc03420229dce12a024edb4b731bb,uy Zana <guy@cloudius-systems.com>, 2013-02-18 11:52:19 +0200, , add basic unit test partly implemented callout interface,,
7340,c913ab05d03b4439548635bf568c9ab571034e03,uy Zana <guy@cloudius-systems.com>, 2013-02-18 11:51:50 +0200, , add fixme comment detached thread,,
7341,dbc5e66ec311120f82efd32edc53e0424bfce396,uy Zana <guy@cloudius-systems.com>, 2013-02-18 11:51:15 +0200, , safe user lock callout interface implemented,,
7342,0f9048b7acc7aecbd13beda5b2fcc5984120150b,uy Zana <guy@cloudius-systems.com>, 2013-02-18 11:48:14 +0200, , implement callout interface,,
7343,2cbee9af2b17eb4efa6b9f088a7520d7a8651f32,or Laor <dor@cloudius-systems.com>, 2013-02-17 18:10:37 +0200, , merge branch master github.com cloudius system osv master github.com cloudius system osv interrupt manager use range based loop instead manually looping sched optimize scanning array sched add atomic cpu_set type,,
7344,8c3382d0fb39300a0cf04a1e8d98e7c0dabb3723,or Laor <dor@cloudius-systems.com>, 2013-02-17 18:10:05 +0200, , adher maximum segment allowed virtio blk,,
7345,ce2e1c4c16684a00603b890e32359411108cc338,or Laor <dor@cloudius-systems.com>, 2013-02-17 17:56:34 +0200, , calculate drive size correctly using config data,,
7346,8a7d7f35af5d6fb36edc9b5077f1104a90c8991c,or Laor <dor@cloudius-systems.com>, 2013-02-17 17:49:24 +0200, , read entire virtio config pci space,,
7347,64859d6d457917eeb8e2f2ce41333077ecf739d2,or Laor <dor@cloudius-systems.com>, 2013-02-17 17:48:47 +0200, , add function retrieve guest feature host,,
7348,62b9efa3170e16f4a999c0ab9920812080998615,or Laor <dor@cloudius-systems.com>, 2013-02-17 17:14:43 +0200, , add way track enablement msix change define pci virtio config size function using first,,
7349,7caf4443f00cf6bd98c1e6cbfa0bd6f1a8849527,vi Kivity <avi@cloudius-systems.com>, 2013-02-17 16:45:32 +0200, , interrupt manager use range based loop instead manually looping,,
7350,3d4f7047cea4877b7b2e4c8f3b20637421033c41,vi Kivity <avi@cloudius-systems.com>, 2013-02-17 16:28:15 +0200, , sched optimize scanning array protect array cpu_set bit set corresponding queue non empty mean need scan one word instead nr_cpus plus course cpu incoming waiting,,
7351,434d0f47ec89e5d4e983733fe66ce883b0b19ad7,vi Kivity <avi@cloudius-systems.com>, 2013-02-17 16:26:16 +0200, , sched add atomic cpu_set type supporting cpu,,
7352,d3077a17293024a119a1751c92a2caded53754e3,or Laor <dor@cloudius-systems.com>, 2013-02-17 16:15:54 +0200, , add virtio tag set virtio blk info logging level,,
7353,8af0d5eed26dde1a889a3aa8ec53a6e56444d1f5,uy Zana <guy@cloudius-systems.com>, 2013-02-17 13:42:55 +0200, , disable test,,
7354,8ba9552b61b8bfe1915c70479c60bab69cecdc5f,uy Zana <guy@cloudius-systems.com>, 2013-02-17 13:38:02 +0200, , added unit test eventhandler,,
7355,acde93a53fa55545fa913e415bfcfd526d2e459b,uy Zana <guy@cloudius-systems.com>, 2013-02-17 13:36:22 +0200, , ported freebsd eventhandler tested,,
7356,c1c1ec3690f565cc8d7523431b03cc3a1dbe8d94,vi Kivity <avi@cloudius-systems.com>, 2013-02-17 12:49:59 +0200, , elf fix symbol resolution order use load order fix issue symbol exists multiple object one loaded resolved one module second loaded resolve second program appears address content static variable changed case triggered statically dynamically linking library,,
7357,3527e270f3b3af4690dcf904b99a5f0fa670dc51,vi Kivity <avi@cloudius-systems.com>, 2013-02-17 12:13:56 +0200, , libc fix ntohl friend mode release glibc header define macro need undefine declaring function,,
7358,1ae91ef1d08aa7f55021195634df10d1666dc592,vi Kivity <avi@cloudius-systems.com>, 2013-02-17 12:13:18 +0200, , libc shut compiler false positive gamma function found mode release,,
7359,5826aa12ea4af31cbd1f0294dd4f093ea62c8e50,vi Kivity <avi@cloudius-systems.com>, 2013-02-17 12:12:27 +0200, , virtio initialize local shut compiler false positive error found mode release,,
7360,1dfe192176b82fcedec6a60b8f991ad2515f1b27,uy Zana <guy@cloudius-systems.com>, 2013-02-17 10:50:12 +0200, , cleanup eventhandler code,,
7361,2659f7aa44a76df655d473ab067c6b327fbba348,uy Zana <guy@cloudius-systems.com>, 2013-02-17 10:49:40 +0200, , cleaned eventhandler code,,
7362,4a7d75221fb2b9a8ec414aca4a30a4f3311fd527,vi Kivity <avi@cloudius-systems.com>, 2013-02-14 16:49:22 +0200, , sched honor thread pinned attribute,,
7363,6bea0345b5b04709d4a92bd32dadf8658b2a0f44,vi Kivity <avi@cloudius-systems.com>, 2013-02-14 13:18:38 +0200, , merge branch master github.com cloudius system osv atomic thread state related work,,
7364,8b7eee766aad585637d10cb13120fc40e5accbec,vi Kivity <avi@cloudius-systems.com>, 2013-02-14 13:16:01 +0200, , mutex fix race locking failed initial trylock doe mean mutex locked could unlocked right grabbed wait list lock retry wait list lock held unlock path must grab unlocking,,
7365,26f7cd19a12cef1f926ba072c41692785fe3eb9a,vi Kivity <avi@cloudius-systems.com>, 2013-02-14 12:32:44 +0200, , gdb show thread timer osv info thread,,
7366,e8b344671be34ff19d7a72924a3884499c6bf907,vi Kivity <avi@cloudius-systems.com>, 2013-02-14 11:33:29 +0200, , sched atomic thread state currently atomic _waiting state thread additional non atomic _on_runqueue _terminated state problematic since wake racing stop_wait cause thread simultaneously running queued fix using single atomic variable thesis state,,
7367,c87706a33d03888124ccc0658bd41093038d9cf4,vi Kivity <avi@cloudius-systems.com>, 2013-02-12 18:04:21 +0200, , sched migrate timer migrate thread remove timer cpu local timer list move back complete migration,,
7368,ac2c0ff24098b79fe40b49f4d74d5a5a89231c59,vi Kivity <avi@cloudius-systems.com>, 2013-02-14 11:37:30 +0200, , pthread take mutex cond_var wait_until mutex also call wait_until tolerate nesting,,
7369,1ec1e2d0695649b4d9aab334c4c7ea4c0d0b5862,uy Zana <guy@cloudius-systems.com>, 2013-02-14 11:10:14 +0200, , merged master net,,
7370,d362b4d8f24baf1aaebdfc66c21f492d0362c2c7,or Laor <dor@cloudius-systems.com>, 2013-02-14 01:05:21 +0200, , change virtio code use new logger order reduce debug output order,,
7371,d686809d55c030478bda0c90b5c5321c267edc9d,or Laor <dor@cloudius-systems.com>, 2013-02-14 00:42:40 +0200, , get rid old test include file,,
7372,338dfcdba3c574e2d7b7cfbb5b365af0b7f30d88,or Laor <dor@cloudius-systems.com>, 2013-02-14 00:36:35 +0200, , protects parallel get_bug add_buf access mutex mainly _avail_head variable triggered debug print middle function cause context switch,,
7373,8f75ceff88bbbac1f9a4cacc5cd9cb409b1f1f32,or Laor <dor@cloudius-systems.com>, 2013-02-14 00:28:58 +0200, , add virtio indirect buffer support host support enabled indirect buffer enalrge ring using external descriptor allocated fly,,
7374,b67d0ea6bc4b8727f239ce592607abe7dbec66d1,uy Zana <guy@cloudius-systems.com>, 2013-02-13 22:58:51 +0200, , added documentation eventlists,,
7375,ac39ec107d8f0a01b247f8985c87261ced8d1af0,uy Zana <guy@cloudius-systems.com>, 2013-02-13 19:03:49 +0200, , added unit test event manager code,,
7376,62f47c638ac6e6b686206cd2df4b813c47d18670,uy Zana <guy@cloudius-systems.com>, 2013-02-13 19:02:39 +0200, , implemented event list,,
7377,b7cd119bccc8c20e15fee218fbda436afcaedf4f,uy Zana <guy@cloudius-systems.com>, 2013-02-13 16:19:49 +0200, , add trivial implementation mtx_ function,,
7378,11daa33f74f9612487003c1be508d349d278d5f7,uy Zana <guy@cloudius-systems.com>, 2013-02-13 15:00:35 +0200, , renamed test_mbuf net_init,,
7379,3f390f653920de455643228c56204c401f289a1b,uy Zana <guy@cloudius-systems.com>, 2013-02-13 14:50:46 +0200, , cleanup eventhandler code,,
7380,934839fe7007e0b7339ac905776523973c1de55d,uy Zana <guy@cloudius-systems.com>, 2013-02-13 13:33:50 +0200, , added documentation logger,,
7381,7c9e3b8906637f8166932638397a7ac38377086f,uy Zana <guy@cloudius-systems.com>, 2013-02-13 11:36:35 +0200, , changed pci code use logger,,
7382,8eb501daca71b0bcf31b24ba2b76afcb955f6678,uy Zana <guy@cloudius-systems.com>, 2013-02-13 11:35:40 +0200, , added logger filter log message using tag severity debug info warn error,,
7383,2c60606bf4c3716e2396cd87fb03711209a0f6a1,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-12 19:56:09 +0100, , mark buf.b_data void make life easier,,
7384,041b3c6020e847d29af9a7f74f61400779ded397,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-12 19:52:35 +0100, , add support device backed filesystems vfs,,
7385,7ebcab464cb785edad2f494ee13d21876eafef10,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-12 20:37:11 +0100, , enable missing vfs lock,,
7386,adb70ff045972c9635ea0a8c09b638b92868482e,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-12 19:45:52 +0100, , add build.mak,,
7387,ec12aa5ef422b2779b30eb778586de217c90c6a7,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-12 18:49:09 +0100, , import hton ntoh musl,,
7388,19ef05ac3c0fda51e9d5767fa0af84284e70c9b4,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-12 19:39:06 +0100, , use buffercache block device,,
7389,9ec6670113398845d9f424e03340e94713438d39,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-12 19:34:33 +0100, , test block block size increment instead single byte one,,
7390,7ffc51ae0e489e7f692e49183a66b7584f3a55d4,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-12 18:31:10 +0100, , add vfs_bio.c prex,,
7391,2fa43ca5b4f9f8acc666ebb0b17462d02d75afd9,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-12 18:44:33 +0100, , enable asserts filesystem code,,
7392,db247d21a1a86f306c6ddeff9bc871196fff5ebf,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-12 18:43:10 +0100, , remove v_blkno,,
7393,bee612300eaef062377cdd3305eeadf6a38140c0,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-12 19:08:26 +0100, , kill stupid prex typedefs,,
7394,d9a6cdd05cbd50d5d4d58b31fa37747464254f23,uy Zana <guy@cloudius-systems.com>, 2013-02-12 19:42:01 +0200, , test rwlock thread yield releasing rw_lock,,
7395,91449ebb1a1abae9213829883a5920d1ecb71c46,uy Zana <guy@cloudius-systems.com>, 2013-02-12 19:13:19 +0200, , merge branch master net,,
7396,b827a08e482b7664891c09a37668efca7b136f5d,uy Zana <guy@cloudius-systems.com>, 2013-02-12 19:11:40 +0200, , added unit test rwlock,,
7397,471f646843f5a18a01d1659832c4a71ad73e8882,vi Kivity <avi@cloudius-systems.com>, 2013-02-12 18:02:28 +0200, , mmu verify virt_to_phys point non mmaped area,,
7398,f4414341d21cf711c42385712b47567cf2c9e612,vi Kivity <avi@cloudius-systems.com>, 2013-02-12 17:24:55 +0200, , sched fix race wait_until need put ourself back wait mode every loop iteration otherwise spurious wakeup result predicate returning false never wait instead spinning endlessly,,
7399,c8ff89a50e4498fe35b664d38177bb39fb23835d,uy Zana <guy@cloudius-systems.com>, 2013-02-12 16:16:54 +0200, , added rwlock stub basically mutex taken recursively,,
7400,83eef015dc56986e6211502f7f1b0db5eb573c17,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-12 15:12:29 +0100, , give different name vblk ramdisk test bootfs image,,
7401,0264797f921d7f734a13322c36b2413af3d1b375,uy Zana <guy@cloudius-systems.com>, 2013-02-12 15:16:11 +0200, , cleanup include directive across file,,
7402,24b8c7058a999ffecbe3b9983c1971a57ae03df5,vi Kivity <avi@cloudius-systems.com>, 2013-02-12 15:12:47 +0200, , gdb print state running thread correctly,,
7403,0d40ed843bcec709cd5c89116e3d49b1159b2ab9,or Laor <dor@cloudius-systems.com>, 2013-02-12 14:57:23 +0200, , notify host use virtio feature guest driver,,
7404,175420f4f693a25c4a1b9cc18bf30d5951796fac,or Laor <dor@cloudius-systems.com>, 2013-02-12 14:56:46 +0200, , publish virtio blk feature get_feature interface,,
7405,e433188cb90bb42e24fbbe0dcbc72541f7ca07c6,or Laor <dor@cloudius-systems.com>, 2013-02-12 14:51:13 +0200, , add indirect feature capability vring,,
7406,995dd10824389ccf2383c9db1e584d8a1292302d,uy Zana <guy@cloudius-systems.com>, 2013-02-12 13:52:10 +0200, , merge branch master net,,
7407,eba6f9a1493896a57b2f0534507e09e0bcf32cb2,vi Kivity <avi@cloudius-systems.com>, 2013-02-12 13:46:42 +0200, , gdb switch back original state cont osv thread muck around cpu register restore resuming guest,,
7408,c72f53689b99ad764a4cfaeff736b24625be352f,vi Kivity <avi@cloudius-systems.com>, 2013-02-12 13:34:32 +0200, , gdb implement osv thread ... command command allows developer switch examine osv thread,,
7409,fbfa414ff647d1b76270ab3869d62537a032b456,vi Kivity <avi@cloudius-systems.com>, 2013-02-12 13:33:48 +0200, , gdb print thread address hex,,
7410,13d74ddcc0a8c4a045e987c73d7a37be566a946d,uy Zana <guy@cloudius-systems.com>, 2013-02-12 13:29:21 +0200, , add rwlock stub revert if.c if_var.h use rwlocks,,
7411,8af64a482a7db7b71388c39b80347db95074a193,vi Kivity <avi@cloudius-systems.com>, 2013-02-12 12:08:42 +0200, , sched ensure cond_var fit pthread_cond_t fail build,,
7412,3a7a6f8014c35983f560b86fa3146153ddb4d839,vi Kivity <avi@cloudius-systems.com>, 2013-02-12 12:07:38 +0200, , sched reduce size mutex pack mutex placing small field next fix sizeof cond_var becoming larger sizeof pthread_cond_t corrupting memory,,
7413,f12fa28595b0dbab4ef33972832f355dc305db95,vi Kivity <avi@cloudius-systems.com>, 2013-02-12 11:29:36 +0200, , gdb improved running thread detection detect running thread checking whether cpu rsp within thread stack thread running cpu saved context ignored stale improves osv info thread greatly work well thread taking interrupt though,,
7414,c642cfcb23b7742b575798a61d635f03885f50ad,vi Kivity <avi@cloudius-systems.com>, 2013-02-12 10:33:36 +0200, , gdb put thread list vmstate object collect osv state,,
7415,dab69183ca9c8eda48d1639998502e8a02d59c11,vi Kivity <avi@cloudius-systems.com>, 2013-02-11 23:37:34 +0200, , run listen gdb connection default wait,,
7416,fdbdce4c8556bacdbfcfc444bb888e7cf4a6a39c,or Laor <dor@cloudius-systems.com>, 2013-02-11 22:38:25 +0200, , merge branch master github.com cloudius system osv master github.com cloudius system osv apic mask lvt0 interrupt x64 load idt non boot processor apic software enable apic non boot processor libc import setjmp longjmp musl build rule compiling file make printf print directly onto console vfs update glibc testsuite,,
7417,85f0796b14aff77242807615194b4ea68e558681,vi Kivity <avi@cloudius-systems.com>, 2013-02-11 19:37:22 +0200, , apic mask lvt0 interrupt avoids spurious interrupt pic even though disabled,,
7418,70e5ecbb4f35127d03ae1df6b98faf3070249dbd,vi Kivity <avi@cloudius-systems.com>, 2013-02-11 18:44:08 +0200, , merge branch master github.com cloudius system osv sched,,
7419,5622003122c5d70a3de296a74545ee8c98ad6d3e,vi Kivity <avi@cloudius-systems.com>, 2013-02-11 18:43:30 +0200, , x64 load idt non boot processor,,
7420,2196f344bcea88cf0bd021a543dfa4cdc0c75438,vi Kivity <avi@cloudius-systems.com>, 2013-02-11 18:42:30 +0200, , apic software enable apic non boot processor,,
7421,2306f10070447d482198f966fd56cef69bcbca12,uy Zana <guy@cloudius-systems.com>, 2013-02-11 18:41:53 +0200, , clean if_clone.c verify port,,
7422,ad3bb4af67f7dd419e5354d22b4bc30e9c61f3ba,uy Zana <guy@cloudius-systems.com>, 2013-02-11 18:34:39 +0200, , clean if.c if.h verify port,,
7423,c30f2cb0e51dd6894eb034db7739ca43a7c7a474,or Laor <dor@cloudius-systems.com>, 2013-02-11 17:59:40 +0200, , move pci device print separate file reduce verbosity,,
7424,9661e04e60011bc7ce3b7b9ec345be770983f09b,or Laor <dor@cloudius-systems.com>, 2013-02-11 17:48:33 +0200, , move timer test code file,,
7425,12c2fa01ba3861020695ba85982621f563474d20,vi Kivity <avi@cloudius-systems.com>, 2013-02-11 15:55:32 +0200, , libc import setjmp longjmp musl needed bench.jar suddenly,,
7426,321a819692f022a57924d60937f9bf9173aa3c06,vi Kivity <avi@cloudius-systems.com>, 2013-02-11 15:54:46 +0200, , build rule compiling file musl code,,
7427,c7be374b56173f72d446878400cec42d92bff79f,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-11 14:45:20 +0100, , make printf print directly onto console vfs,,
7428,4ef6578da7ee40263b3e30e58b16ccbb712a5dfe,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-11 14:39:04 +0100, , update glibc testsuite,,
7429,2a274e0f4e0b9dde3d5b80cc25d6ca0a9d2372ea,or Laor <dor@cloudius-systems.com>, 2013-02-11 15:28:47 +0200, , merge branch master github.com cloudius system osv master github.com cloudius system osv sched fix race stop_wait wake split test runner separate object rename main osv_main payload shut mallopt sched poll wakeups yield gdb fix exception thread function file decoded sched load balance thread cpu sched fix _on_runqueue set wakeup sched explicity request runqueue constant time size sched defer thread stack allocation smp mark smp bringup thread pinned sched add pinned attribute thread sched clear timer expired flag arming timer remove clock_event test mutex fairness main test clock event earlier,,
7430,76676836a5bc5ddf78e85569cca332cad8321109,uy Zana <guy@cloudius-systems.com>, 2013-02-11 14:54:21 +0200, , fix reference if.c,,
7431,ec2d7031e31d24b3b7ca70c724f582cb507c9edd,uy Zana <guy@cloudius-systems.com>, 2013-02-11 14:54:02 +0200, , port if_dead,,
7432,98bfaae9995ce4f112fb23462337ac4a563d60ec,uy Zana <guy@cloudius-systems.com>, 2013-02-11 14:52:32 +0200, , add if_dead.c pristine,,
7433,58d29fa42775c76d44c803452f8a9b68831df266,vi Kivity <avi@cloudius-systems.com>, 2013-02-11 14:38:31 +0200, , merge branch master github.com cloudius system osv sched,,
7434,0472fcbfef62273d180d8f2d98bca4cf1d097ca2,vi Kivity <avi@cloudius-systems.com>, 2013-02-11 14:32:50 +0200, , sched fix race stop_wait wake wait sequence prepare_wait wait_until stop_wait actually call wait wake called middle could end runqueue even though still current thread detect condition undo effect fixed properly later adding state _waiting,,
7435,783c750dfa56814c09ae8c801bdbc0e035eb299f,uy Zana <guy@cloudius-systems.com>, 2013-02-11 14:29:31 +0200, , fix reference route.c,,
7436,136555ed165720cf0afe42cdd4ab6800d3a39385,uy Zana <guy@cloudius-systems.com>, 2013-02-11 14:23:09 +0200, , port uipc_domain,,
7437,51d8f4b70a35aa8315dcfecc2cac948b974ac81d,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-11 13:17:01 +0100, , split test runner separate object running test done editing command line build.mak,,
7438,d6eba3a106f56e4cf6cc9aa88365c89b67821fa0,uy Zana <guy@cloudius-systems.com>, 2013-02-11 14:02:29 +0200, , add uipc_domain.c modification,,
7439,51c07c499df594a4a1012bb6f22af2d267eccfe8,uy Zana <guy@cloudius-systems.com>, 2013-02-11 13:41:25 +0200, , fix reference if_ether stack,,
7440,6f514d762978f7f0eb94a1905544e8320418badd,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-11 12:40:51 +0100, , rename main osv_main payload allow running unmodified test main entry point even splitting test loader kernel,,
7441,eb99cdd2052ce42a8435f0447f7adbb0541f08d4,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-11 12:24:40 +0100, , shut mallopt,,
7442,ac7ccae6dc7644561df53367fa546fa3f091705b,vi Kivity <avi@cloudius-systems.com>, 2013-02-11 11:31:26 +0200, , sched poll wakeups yield,,
7443,c91432d084bd1a297b367392d0835cecffcc8f16,vi Kivity <avi@cloudius-systems.com>, 2013-02-10 13:51:13 +0200, , gdb fix exception thread function file decoded,,
7444,f3566622962b2aa025172fa0602c2b03c839a4af,vi Kivity <avi@cloudius-systems.com>, 2013-02-10 12:05:06 +0200, , sched load balance thread cpu present trivial algorithm used wake look loaded cpu push waiting thread cpu cpu simple wrt locking since waiting thread guaranteed running runqueue load balancer thread,,
7445,b08cb7918fbd03a8117d0eaf32f5138216325eb1,vi Kivity <avi@cloudius-systems.com>, 2013-02-10 14:24:42 +0200, , sched fix _on_runqueue set wakeup lost remote wakeups added,,
7446,7ea7eecfb7d28f46e5c482443a497d520fc037ae,vi Kivity <avi@cloudius-systems.com>, 2013-02-10 12:03:19 +0200, , sched explicity request runqueue constant time size default rely heavily constant time size compute load remote processor document avoid someone optimize away,,
7447,96bff4b71fea7b36f5a05aef8809c5b43c49ca7f,vi Kivity <avi@cloudius-systems.com>, 2013-02-07 17:39:17 +0200, , sched defer thread stack allocation allows copying thread attr object around without leaking stack,,
7448,1efec1440e67c5ffd1df1f62b5a62c0e2aca7c58,vi Kivity <avi@cloudius-systems.com>, 2013-02-07 17:35:49 +0200, , smp mark smp bringup thread pinned,,
7449,ba95524c4eb0f8143d6f7ccb6aea79b5c863bd3a,vi Kivity <avi@cloudius-systems.com>, 2013-02-07 17:35:29 +0200, , sched add pinned attribute thread,,
7450,5061b5afd028daed42c86550f8b71bb7b9839557,vi Kivity <avi@cloudius-systems.com>, 2013-02-11 10:30:14 +0200, , sched clear timer expired flag arming timer,,
7451,7832d4eee60267abd0fefb7dadb2d9722ee155cf,vi Kivity <avi@cloudius-systems.com>, 2013-02-11 10:47:10 +0200, , remove clock_event test interferes scheduler,,
7452,e967bb87944cf086e7957b6eb2ad58e5b66a5aaa,vi Kivity <avi@cloudius-systems.com>, 2013-02-11 12:20:21 +0200, , mutex fairness without fairness concurrent alloc free test fails quickly smp allocator thread hog allocator mutex quickly exhaust memory could fix test avoid fairness desirable quality implement adding owner field unlocker transfer ownership locked mutex instead freeing letting waiter race newcomer also simplify wait list singly linked list corruption original implementation rather fix simplify singly linked list needed,,
7453,5a7d91e1917dfb02f290e6bc06634eb1cabaf385,or Laor <dor@cloudius-systems.com>, 2013-02-11 10:33:32 +0200, , conduct vblk looping 100 pwrite read request verify content image run content restored write,,
7454,81871be370b6a1aaf30c7758daf36e5795c0288f,vi Kivity <avi@cloudius-systems.com>, 2013-02-11 10:29:45 +0200, , main test clock event earlier interfere scheduler,,
7455,8fe7f6c7cf44964304c7f1e7931eeafae72b35e0,or Laor <dor@cloudius-systems.com>, 2013-02-10 17:51:50 +0200, , merge branch master github.com cloudius system osv master github.com cloudius system osv kvmclock fix kvmclock negative scale,,
7456,a5babb7d72a8e80f1ae2e95fbf1925e956e190b2,or Laor <dor@cloudius-systems.com>, 2013-02-10 17:50:27 +0200, , register virtio blk driver vblk discover bio bio_offset zero data start middle page adjusted code accordingly need sort later,,
7457,029becdaa8c79fa23839422460d61746ad27303d,or Laor <dor@cloudius-systems.com>, 2013-02-10 17:45:24 +0200, , add virtio block test virtio must use dynamic allocation correctness virt_to_phys,,
7458,9c9c9ef24d7e141ba7b2e2184b5fcb6f3c2a2ef7,vi Kivity <avi@cloudius-systems.com>, 2013-02-10 15:52:57 +0200, , kvmclock fix kvmclock negative scale time might stop host without fix,,
7459,4846ff7585a425ab845fdbdd97e019ec48f2b849,uy Zana <guy@cloudius-systems.com>, 2013-02-10 13:58:00 +0200, , solving linking problem add callout stub,,
7460,329a8e1baa98f0a7e4337e1906238551f59a9200,or Laor <dor@cloudius-systems.com>, 2013-02-10 13:56:45 +0200, , merge branch master github.com cloudius system osv master github.com cloudius system osv update openjdk submodule,,
7461,9ff77946c8341238d40b84550fc2043b7288697c,or Laor <dor@cloudius-systems.com>, 2013-02-10 13:54:26 +0200, , remove left worker thread load call logic called callback invoked virtio interrupt addition polish test code write request filled ring left space read request rotate two,,
7462,cbfe60d146b845376dfeb3426383c43b8fe7195a,uy Zana <guy@cloudius-systems.com>, 2013-02-10 13:51:37 +0200, , if_loop.c ported netisr bpf,,
7463,dfd46a30239dd8a8d880ad301917e67b9fb1f119,or Laor <dor@cloudius-systems.com>, 2013-02-10 13:47:52 +0200, , available idx free running counter usage within array within limit add function available ring content,,
7464,3b956e3ba5b0166c15c4b4ca5fd3c836d4ee09d9,uy Zana <guy@cloudius-systems.com>, 2013-02-10 13:36:44 +0200, , add if_loop unmodified,,
7465,8083ae42dc7147d4741deba37be4120e2faef15c,uy Zana <guy@cloudius-systems.com>, 2013-02-10 13:33:23 +0200, , if.c compiles,,
7466,5cacf9f6c149c03d72810c70d62db140b4530936,vi Kivity <avi@cloudius-systems.com>, 2013-02-10 11:53:25 +0200, , update openjdk submodule,,
7467,9d7d23bee93d5fc49e0f13187a39e83cf891d36d,uy Zana <guy@cloudius-systems.com>, 2013-02-10 11:52:02 +0200, , port if_ether.o,,
7468,a552e5cba97f928c88eebf70686dd3f0cb2af6b5,uy Zana <guy@cloudius-systems.com>, 2013-02-10 10:38:49 +0200, , port if_llatbl.c bring if_ether.c,,
7469,19030e63d4ea0820422bd85eaed3ccc71f3f7451,or Laor <dor@cloudius-systems.com>, 2013-02-09 21:22:34 +0200, , change thread malloc test use new interface test change change change namespace usage variable movement,,
7470,5d1e2f7f93fa1e4b4eaef626aa017a8bd92939fb,or Laor <dor@cloudius-systems.com>, 2013-02-09 21:20:46 +0200, , add generic interface implementing test using single run method vtest class running one move test code outside loader.cc,,
7471,9463bce197dd088442245d14b6ab004539bc6761,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-07 20:27:52 +0100, , enable flockfile friend,,
7472,d169dfc1e49e9438179f1b01a8f8af8997f95ce1,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-07 20:20:12 +0100, , provide thread safety stdio routine,,
7473,54d1a24a4805bba4930a3360bc58f1b63ccfde57,or Laor <dor@cloudius-systems.com>, 2013-02-07 17:48:06 +0200, , forgot add file previous test tst thread code movement,,
7474,8bfa1cd55fb7ebbcc6cf7a041a550cdad81d6968,or Laor <dor@cloudius-systems.com>, 2013-02-07 17:30:34 +0200, , move thread test code file clear loader.cc,,
7475,c8df5001d690a37a6fae19bd24fbd4dbd508610b,or Laor <dor@cloudius-systems.com>, 2013-02-07 17:30:07 +0200, , initalize thread stack implicitly,,
7476,1a80ca0fcaed2bc05ea4c273022623fea321d84c,or Laor <dor@cloudius-systems.com>, 2013-02-07 17:29:12 +0200, , initialize class mutex spinlock correctly,,
7477,b7fcf036fdbb0a67132bb4fd0a249d71139371a5,or Laor <dor@cloudius-systems.com>, 2013-02-07 17:17:16 +0200, , merge branch master github.com cloudius system osv master github.com cloudius system osv commits sched default thread attribute sched add new thread attr object enable locking libc apic clockevents per cpu setup sched use cpu init_on_cpu libc manifest update add real wcsftime_l implementation add real implementation locale aware strto routine add floating support printf scanf enable stro add license freebsds realpath remove unused old environ related variable sched per cpu timer list remove accidentally added file remove getenv debugging import real realpath freebsd add lstat mutex zero mutex structure mutex_init add full getenv putenv friend implementation musl sched maintain list active thread timer ...,,
7478,860b839d5fd560ab00aa242c4325a00f3a836810,vi Kivity <avi@cloudius-systems.com>, 2013-02-07 17:12:32 +0200, , merge branch master github.com cloudius system osv sched,,
7479,ff1fb4da0b5d0741c69c170c475401dd3a484969,vi Kivity <avi@cloudius-systems.com>, 2013-02-07 17:10:13 +0200, , sched default thread attribute make easier create thread special property,,
7480,2de86044076e6dbb37e7c9b8e8c4aed4a3cb4bc3,or Laor <dor@cloudius-systems.com>, 2013-02-07 17:04:11 +0200, , add test memory allocation run thread one allocated mem deletes allocation,,
7481,1c6641c25d5e8c4604f02561628e84122ecfdfed,vi Kivity <avi@cloudius-systems.com>, 2013-02-07 17:02:56 +0200, , sched add new thread attr object make easy configure thread various parameter first existing stack_info parameter,,
7482,03a7b336a3b6b64cf7521aecfbf3f074dfb87b63,or Laor <dor@cloudius-systems.com>, 2013-02-07 17:00:23 +0200, , remember erase empty page used block testing pushing dummy bio structure addition expand test,,
7483,aa2cef85ad55e9646c819c58e3f1af454fbf3ad6,or Laor <dor@cloudius-systems.com>, 2013-02-07 16:59:21 +0200, , remove namespace std include file,,
7484,867665ac9ea044c8a8b610b5cf9983cc31089384,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-07 15:47:50 +0100, , enable locking libc,,
7485,e415242a69f214275e506bd4e3ef0d6007007ee0,vi Kivity <avi@cloudius-systems.com>, 2013-02-07 16:40:41 +0200, , apic clockevents per cpu setup apic need programmed cpu brought,,
7486,3d8b87be0c8019d5744ac207d278eef08e291651,vi Kivity <avi@cloudius-systems.com>, 2013-02-07 16:40:00 +0200, , sched use cpu init_on_cpu used cpu_arch init_on_cpu instead arch indepdendent version,,
7487,2771d43fe7f2d7a07d96578fd74bd64290be4480,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-07 15:19:08 +0100, , libc manifest update,,
7488,6e10f37537c2766b09ddb1ccf980092f88c42d65,vi Kivity <avi@cloudius-systems.com>, 2013-02-07 16:18:37 +0200, , merge branch master github.com cloudius system osv sched,,
7489,6dd13aca12f188e6a304a9420b8ffc2a717a68c9,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-07 15:15:42 +0100, , add real wcsftime_l implementation,,
7490,9746b4614f2f4a5c08f8988ad575e26d563de5c0,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-07 15:00:29 +0100, , add real implementation locale aware strto routine course actually support locale yet trivial wrapper,,
7491,1d482acd49fdfc3ef5cbc9ce685b7cbce1c2d10d,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-07 15:08:08 +0100, , add floating support printf scanf,,
7492,48c579e5c3dadf7df7235b17e978504a57ce6bab,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-07 15:06:52 +0100, , enable stro,,
7493,6815d849c33c59bb6dee4bbcbd55cfa3e89dbe82,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-07 14:57:29 +0100, , add license freebsds realpath,,
7494,bbab135a4ea886414669163533565a66bfb6a79d,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-07 14:56:55 +0100, , remove unused old environ related variable,,
7495,840613d67f21582d02649dbfe024bc4d2c3f130d,vi Kivity <avi@cloudius-systems.com>, 2013-02-07 16:02:11 +0200, , sched per cpu timer list maintain list active timer per cpu instead globally remove need locking disabling preemption clock_event interface awkward callback global per cpu requires global dispatch object cpu current pick current cpu dispatch event probably make clock_event explicitly per cpu future,,
7496,1e8dc0da170e687e6c9011ff29f7cf02ae124b82,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-07 14:42:38 +0100, , remove accidentally added file,,
7497,127c5e9b78e05b4b336125da802e66bb2aa4b5aa,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-07 14:41:40 +0100, , remove getenv debugging,,
7498,f8d5997eae49395e71ee52cec69fbb683fe5fafe,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-07 14:36:00 +0100, , import real realpath freebsd one handle current working directory relative pathnames support posix.1 2008 case resolved_path argument passed null allocated realpath internally,,
7499,9bb5f8e3db3b48350d24288314ce59429b70f994,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-07 14:39:12 +0100, , add lstat,,
7500,be064a6d347e14bcf5bc01c8df8cb9c0fae7b662,uy Zana <guy@cloudius-systems.com>, 2013-02-07 15:32:43 +0200, , import if_llatbl.c unmodified,,
7501,0b48f3f596f564c0e25670a5cec59f03ac683bf4,uy Zana <guy@cloudius-systems.com>, 2013-02-07 15:31:55 +0200, , porting if.c,,
7502,5297dc798fb779282d43c6e31d8ebe8ce9ca1991,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-07 14:31:05 +0100, , mutex zero mutex structure mutex_init,,
7503,a2623016767f0b521d70d78d170de89aab0751a9,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-07 14:17:45 +0100, , add full getenv putenv friend implementation musl,,
7504,7b8d5d4800e08129757fbc07a1e818c998ed3324,vi Kivity <avi@cloudius-systems.com>, 2013-02-07 15:27:13 +0200, , sched maintain list active thread timer since timer per cpu construct need migrate thread migrate need keep list thread active timer,,
7505,63eb7b7dd4dd1bd3d96c0d9f2965d2c2ab339167,vi Kivity <avi@cloudius-systems.com>, 2013-02-07 15:26:32 +0200, , sched fix timer cancellation timer expired already remove list,,
7506,a731ffc12a4b32dbe6fc23f35a3953a29027a302,vi Kivity <avi@cloudius-systems.com>, 2013-02-07 15:12:12 +0200, , sched rearrange declaration order functional change prepare making timer list cpu local,,
7507,6c6750a0fbfe200d128f9aa74614d77165a19f1e,uy Zana <guy@cloudius-systems.com>, 2013-02-07 13:06:02 +0200, , add declaration if_init vnet_if_init,,
7508,c63eb93e179fccf07963126e1b32b0b52c3401b9,uy Zana <guy@cloudius-systems.com>, 2013-02-07 13:01:23 +0200, , convert lock mutex may race ... fix 2nd pas,,
7509,a1325863a6b93e08e27ea0bd3fcea1471d751141,uy Zana <guy@cloudius-systems.com>, 2013-02-07 12:16:49 +0200, , remove carp protocol if.c fix malloc,,
7510,c17aeae9c34444e9b9b2b1735f31c6acd3519391,uy Zana <guy@cloudius-systems.com>, 2013-02-07 12:16:30 +0200, , bring in_var.h fnv_hash.h,,
7511,5442421017fa90e3c09f73a476b4c21ff6695a3c,uy Zana <guy@cloudius-systems.com>, 2013-02-07 12:15:15 +0200, , turn inet define,,
7512,8a14e61ff54454c7447ad4a3c123b99aca2a7b94,uy Zana <guy@cloudius-systems.com>, 2013-02-07 12:14:40 +0200, , bring tree.h,,
7513,6008561982f691b2cf6e109dce00783caba84d08,vi Kivity <avi@cloudius-systems.com>, 2013-02-07 11:47:57 +0200, , clockevent document cpu locality cpu event timer rely document requirement,,
7514,ad2668a4582f0c330a592fb4b77efbde2bf0e769,vi Kivity <avi@cloudius-systems.com>, 2013-02-07 11:44:52 +0200, , sched fix timer_list locking,,
7515,45c448d7107e58d5e4d2c8d234a4449ae351ff4b,vi Kivity <avi@cloudius-systems.com>, 2013-02-07 11:39:58 +0200, , sched timer expires also remove list also remove timer expired simultaneously,,
7516,210cc7421dfdf182e49fe533cb03088fb48ccb58,uy Zana <guy@cloudius-systems.com>, 2013-02-07 10:51:39 +0200, , if_clone.c ported,,
7517,d37dfb948dbe2b3dfa58c5850a8e0e482a718f9d,uy Zana <guy@cloudius-systems.com>, 2013-02-07 10:41:33 +0200, , fix mallocs if_clone.c,,
7518,d48df27744d940626e0200556cc623e48fd965ec,uy Zana <guy@cloudius-systems.com>, 2013-02-07 10:38:58 +0200, , route.c ported,,
7519,46432e6ae9a40c8fca93e1b465a551cc1545fb4b,vi Kivity <avi@cloudius-systems.com>, 2013-02-06 20:32:23 +0200, , merge branch master github.com cloudius system osv sched remote wakeups,,
7520,937b2cd673d02c37074fc1c189bed756a16b44ac,vi Kivity <avi@cloudius-systems.com>, 2013-02-06 19:21:06 +0200, , gdb show thread status osv info thread,,
7521,6df148aaabe6f2563a839811665a20e12408fa9c,vi Kivity <avi@cloudius-systems.com>, 2013-02-06 19:18:55 +0200, , pthread fix pthread_self current_pthread somehow thread local pthread_self returned last thread initialize bug manifested jvm thread querying stack finding another thread stack instead reaching conclusion stack overflow throwing exception fix making current_pthread thread local,,
7522,a6db14f705598eb1bc58aa0b7d0403ac46e2ac39,uy Zana <guy@cloudius-systems.com>, 2013-02-06 17:13:49 +0200, , bring route.c route.h modification,,
7523,032c306e45fc1ce891ae4d72a7162901620b057a,uy Zana <guy@cloudius-systems.com>, 2013-02-06 17:12:53 +0200, , bring in.h ipv4,,
7524,ecd7f37c2a921ba8d7b64ca0b37fd71af55f3f5e,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-06 15:42:51 +0100, , provide getegid stub,,
7525,c21ada3914d851adc2e9d5b04ecb5a9572532237,uy Zana <guy@cloudius-systems.com>, 2013-02-06 16:43:08 +0200, , port radix.h routing,,
7526,ec7922f7b2a8c7b36bbf314d9eb320b839dd6677,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-06 15:04:01 +0100, , implement exit,,
7527,8bdaa8cd8db4fa0a652fa363e7944a07e245a133,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-06 15:01:16 +0100, , add,,
7528,b1f4ec9092524ff4feb3b955084185eb42bd0f1c,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-06 14:55:09 +0100, , update libc manifest,,
7529,5e6c7782eedf99e3762aecabd8d7e5e23a45be35,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-06 14:53:18 +0100, , add inefficient rawmemchr implementation,,
7530,1ff4c07960822c47ad8533cbb9c74014560bc40f,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-06 14:49:50 +0100, , add sem_trywait,,
7531,0f2f33bbd6131efd89ec8caf63fbfc6165c9c84d,uy Zana <guy@cloudius-systems.com>, 2013-02-06 15:41:32 +0200, , bring radix.c unmodified yet,,
7532,e7c15ccc6539d0a754eff04757729ccde60027c3,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-06 14:35:24 +0100, , add readlink stub,,
7533,a192f6ad0eda241c5e00f70ef6c14b5c69e872c3,uy Zana <guy@cloudius-systems.com>, 2013-02-06 15:33:36 +0200, , clean radix.h,,
7534,3e5a64bbd9832b86f703c29fcba3339f79c8b767,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-06 14:29:31 +0100, , fix dumb typo realloc,,
7535,bc1d33c7d8b3563f3f14fc51ac9b375458410816,uy Zana <guy@cloudius-systems.com>, 2013-02-06 14:26:55 +0200, , bring radix.h routing unmodified yet,,
7536,de214ec084b3b379f8d39b4e4c4e886c9aafb04c,uy Zana <guy@cloudius-systems.com>, 2013-02-06 14:26:32 +0200, , try build if_clone.c,,
7537,f90ffd6b80817cddcceb4ad5db26cb09478b6658,uy Zana <guy@cloudius-systems.com>, 2013-02-06 14:26:03 +0200, , bring limits.h,,
7538,fcffe0a4cb55a89869c92fa25b081049fe25129a,uy Zana <guy@cloudius-systems.com>, 2013-02-06 14:08:32 +0200, , bring if_types.h,,
7539,06a8d121422b798d136eb5029970f0e896b30851,uy Zana <guy@cloudius-systems.com>, 2013-02-06 14:07:42 +0200, , bring if_dl.h modification yet if_dl defines link layer structure,,
7540,56d4878b58c7c9105eb1c98a578e09e50f2f3844,uy Zana <guy@cloudius-systems.com>, 2013-02-06 14:04:28 +0200, , bringing if_clone modification yet cloning device allow resource allocation resource release dynamically runtime creating pseudo device instance device type cloning interface registered deregistered using if_clone_attach if_clone_detach respectively,,
7541,19f24526cdd9d937b8d33d25ed7c6437dd5ea89f,uy Zana <guy@cloudius-systems.com>, 2013-02-06 13:57:57 +0200, , cleanup if_var.h,,
7542,72c57ee8bb261e82a09abfe13a5f06e7fe8d2ec2,uy Zana <guy@cloudius-systems.com>, 2013-02-06 13:39:55 +0200, , added vnet.h modification vimage defined act stub,,
7543,8650d08db5e23816b88104d98f973a14698e1c78,uy Zana <guy@cloudius-systems.com>, 2013-02-06 13:39:17 +0200, , changed includes if.h,,
7544,27e0c28fe28e2d5c59e3aee348ac18180a0e43d5,uy Zana <guy@cloudius-systems.com>, 2013-02-06 13:32:49 +0200, , bring priv.h dummy,,
7545,e3d930e485d77bd192db6d46642c4b1cbc3ad6a0,uy Zana <guy@cloudius-systems.com>, 2013-02-06 13:10:52 +0200, , remove reference jailing if.c,,
7546,79ec4e9b04452586c9dd6bbe137f4c2edf78ef1b,uy Zana <guy@cloudius-systems.com>, 2013-02-06 13:07:35 +0200, , bring domain.h header file,,
7547,cc6bab79de72d3131a37378deb830d07932f4aca,uy Zana <guy@cloudius-systems.com>, 2013-02-06 13:06:52 +0200, , removed taskqueue if.h,,
7548,a6c674c72f35ee1a2e921041f86a4172bb884c1e,or Laor <dor@cloudius-systems.com>, 2013-02-06 13:00:45 +0200, , fix bug updating next descriptor target,,
7549,87d02164e6c7e2792e71f4e0277fd2f2844c1388,vi Kivity <avi@cloudius-systems.com>, 2013-02-06 12:24:56 +0200, , sched remote wakeups cpu queue actually array queue one waking cpu thread woken thread queued locklessly runqueue lock needed ipi yet queue polled strategic point,,
7550,f54714dacba34ad821dfb544172ae9670caa8d6d,vi Kivity <avi@cloudius-systems.com>, 2013-02-06 12:21:19 +0200, , main use thread join threading test,,
7551,12875ed42b948888e03a5b227ac6251e58f5360a,vi Kivity <avi@cloudius-systems.com>, 2013-02-06 12:19:10 +0200, , sched implement thread join generally useful help avoid wakeups thread longer,,
7552,6542bc761f40e98e1a02e1ad3d00acc589bfc02a,vi Kivity <avi@cloudius-systems.com>, 2013-02-05 16:50:20 +0200, , sched prevent concurrent wakeups,,
7553,c39f06707fa72db1c5bf866a1fc42b88423b018c,uy Zana <guy@cloudius-systems.com>, 2013-02-06 11:52:09 +0200, , bring socket.h,,
7554,e135dce004e87d29cc78bd70436dc729d55e9568,uy Zana <guy@cloudius-systems.com>, 2013-02-06 11:34:19 +0200, , merge branch master net,,
7555,2e8d587daeac6c5952e49c78b247562cf0716e08,or Laor <dor@cloudius-systems.com>, 2013-02-06 01:12:58 +0200, , merge branch master github.com cloudius system osv master github.com cloudius system osv stop adding libm.so.6 glibc bootfs warn load elf library dt_needed warn unknown elf section type fix library pathnames elf loader fix sem_wait add __fprintf_chk implementation add popen pclose stub,,
7556,86e862411b562912e114a900448906600f91e3f3,or Laor <dor@cloudius-systems.com>, 2013-02-06 01:11:58 +0200, , fix one _avail_count variable,,
7557,d20802837351cde350b089202d3c1d145857fc5b,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-05 19:35:26 +0100, , stop adding libm.so.6 glibc bootfs actually look dt_needed library right place fail loading support stt_gnu_ifunc symbol already feature complete libm implementation tree actually need anymore,,
7558,395b9b40861b9baf711c30e1e4931371816c4d2a,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-05 19:31:08 +0100, , warn load elf library dt_needed,,
7559,3db7b8b404eebde6ee9c986267515c28b4288e7b,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-05 19:28:02 +0100, , warn unknown elf section type,,
7560,bb5487e1ca2bff73e967e79ccecdac4264156c21,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-05 19:26:17 +0100, , fix library pathnames elf loader want look usr lib libfoo instead usr liblibfoo,,
7561,176eed2c23eeac85f019666b12e2554d571d440b,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-05 19:13:48 +0100, , fix sem_wait need use spinlock protect semaphore waiting list wakeups deadlock otherwise also make sure wait actually found python bringup,,
7562,6a625fa93da0027a95014dbef40256ab1f2a5f4f,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-05 19:12:16 +0100, , add __fprintf_chk implementation actual checking least code work,,
7563,3cf307e3181a1006a716d2dabe08f815b0312991,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-05 19:11:53 +0100, , add popen pclose stub,,
7564,6c86df6acd254b8868c56632a68ef684c53a6612,or Laor <dor@cloudius-systems.com>, 2013-02-05 17:47:47 +0200, , check device call size overflow,,
7565,b32464d1bc9684c570f8117eff9feadd9b87420a,or Laor <dor@cloudius-systems.com>, 2013-02-05 17:45:13 +0200, , merge branch master github.com cloudius system osv master github.com cloudius system osv wire read write method virtio blk enable smp locking filesystem code add mutex_init destory static initializer,,
7566,885b7f5f6336c9c00974908e9d00e5409e6672ca,or Laor <dor@cloudius-systems.com>, 2013-02-05 17:43:24 +0200, , simplify virtio virtio blk handling layes call one virtio ring layer another virtio blk layer reall need change allows virtio vring code call callback virtio blk register execute directly,,
7567,f033a5b82130f309cedc63f2fe034dcce6a19555,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-05 16:00:52 +0100, , wire read write method virtio blk,,
7568,3690cb2921b08998b9b739832df52e02fc64cbb4,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-05 15:52:35 +0100, , enable smp locking filesystem code,,
7569,64223451d57c18ceef3f96013de91bcea7f4a3a4,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-05 15:51:19 +0100, , add mutex_init destory static initializer,,
7570,492e38d632d1df3d922dba3cdcd6998b356b3d6f,vi Kivity <avi@cloudius-systems.com>, 2013-02-05 14:44:10 +0200, , add lockless queue type single producer single consumer,,
7571,aedaa539c9979b9af07f7249f38773b2c8e0716f,vi Kivity <avi@cloudius-systems.com>, 2013-02-05 12:52:11 +0200, , sched add cpu structure,,
7572,078c7e4992d766d976d5d9e6419dbc1f5633311e,vi Kivity <avi@cloudius-systems.com>, 2013-02-05 16:00:39 +0200, , sched replace runqueue non allocating list since wake called interrupt allocation ,,
7573,1f9d31fc18eff53405944ce05e4839ba78319b46,vi Kivity <avi@cloudius-systems.com>, 2013-02-05 12:53:48 +0200, , sched reorder cpu thread declaration resolved interdependency later,,
7574,420a78bd3f46faaf5c9213fb7b7e30a899a49367,uy Zana <guy@cloudius-systems.com>, 2013-02-05 13:21:56 +0200, , added refcount,,
7575,37258a77ff3a7a054fec5644c05a01ccd978be46,vi Kivity <avi@cloudius-systems.com>, 2013-02-05 12:08:46 +0200, , mutex add missing bit left initial commit,,
7576,5e9741a60305aba3e8812865cc79e19c2a0562c7,uy Zana <guy@cloudius-systems.com>, 2013-02-05 12:00:30 +0200, , added refcount.h,,
7577,da0ee6fb8894615779430392e322515500e5a33f,uy Zana <guy@cloudius-systems.com>, 2013-02-05 11:58:26 +0200, , added protosw.h,,
7578,e02371ecd4b5a3f6c64c3d7d0b22c98b5478989a,uy Zana <guy@cloudius-systems.com>, 2013-02-05 11:54:30 +0200, , imported sbuf,,
7579,c89d2907275f91ef77e3df4f8acd6501d58fb35e,vi Kivity <avi@cloudius-systems.com>, 2013-02-04 12:46:40 +0200, , gdb print thread cpu osv info thread,,
7580,242463940255f7c22596c0297badaf3c203213c3,vi Kivity <avi@cloudius-systems.com>, 2013-02-05 11:22:36 +0200, , restore gdb script removed 9fe982bea1ad43c likely accident,,
7581,1515a2cc8340c56e0a54c29eb6bdf148f75a3b93,or Laor <dor@cloudius-systems.com>, 2013-02-05 10:41:19 +0200, , merge branch master github.com cloudius system osv master github.com cloudius system osv enable pthread test provide spinlock mutex implementation smp safe callable code,,
7582,98bfe4d6533d3d689f28fc9288048b4a2eed0180,uy Zana <guy@cloudius-systems.com>, 2013-02-05 10:40:24 +0200, , enable msix write right queue host,,
7583,b1333ddf534d13d666266f7819a124630999fc02,uy Zana <guy@cloudius-systems.com>, 2013-02-05 10:35:07 +0200, , importing sbuf null terminating string util routine,,
7584,66948f343436fa89e4f53edb38f537c1ef72f116,or Laor <dor@cloudius-systems.com>, 2013-02-05 10:34:50 +0200, , add block worker thread awakes irq notification virtio process pop request ring addition implement vfs device callback wire virtio blk need test later,,
7585,9907cc2ebbe5c070bf5049e2e81c1434903c6b28,or Laor <dor@cloudius-systems.com>, 2013-02-05 10:32:27 +0200, , add wake able thread virtio serf interrupt like handler moment hard coded queue function device requirement also possible move towards device function since thread anything wake driver worker,,
7586,4d4690547fbae40cb0d0e006d11884cdd5e7fb37,uy Zana <guy@cloudius-systems.com>, 2013-02-05 10:27:59 +0200, , remove header include if.c,,
7587,b01bfa08aef26f5adde2c8a60802911ad881dcbf,uy Zana <guy@cloudius-systems.com>, 2013-02-05 10:13:08 +0200, , start cleanly if.c,,
7588,648e5c6e89571962bea51ae5ddf1e3629c71ed86,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-05 08:44:15 +0100, , enable pthread test cause problem test anymore,,
7589,9fe982bea1ad43cad506e2cc57631c3e2d09adc2,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-05 08:42:41 +0100, , provide spinlock mutex implementation smp safe callable code,,
7590,208b64469ed996e10d0cd3cc85f532c9c89565ee,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-05 08:05:00 +0100, , make types.hh available code,,
7591,ecf3a1a2bb652804d946f88bb255f832bfa4e61e,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-05 08:01:26 +0100, , make osv header safely includable,,
7592,2b99a6a5ef2b97d8694eda5efb870d715e3820c1,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-05 07:56:43 +0100, , use sys cdefs.h virtio blk instead copy,,
7593,696c09ab2d4ed368a252d781a4df2f2372e58807,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-05 07:55:18 +0100, , rename struct list struct list_head avoids clash std list type,,
7594,2c91ea0c11888a738fa590bbb5714149830729ac,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-04 19:50:22 +0100, , fix gcc warning libm,,
7595,eda9e0a711325b3cfc1a5089b8f4990afdafe372,hristoph Hellwig <hch@cloudius-systems.com>, 2013-02-04 19:43:09 +0100, , add almost complete libm implementation taken musl disabled floor ceil asm implementation need check enough various function mess floating point exception status,,
7596,992944f5ebc8fa13ea1432b01d476ce4336a943a,vi Kivity <avi@cloudius-systems.com>, 2013-02-04 20:30:45 +0200, , sched allow thread wake interrupt,,
7597,30cd5ac682b821c6e64b157f7f2df631fe9f4712,vi Kivity <avi@cloudius-systems.com>, 2013-02-04 20:29:02 +0200, , irq add irq flag saving irq_lock lock type hardware irq flag restored previous state lock released useful might interrupt disabled context,,
7598,d4e805e3e3aebb0bd96596985f45df5ebd66b06e,vi Kivity <avi@cloudius-systems.com>, 2013-02-04 20:27:57 +0200, , x64 add facility saving restoring interrupt flag state somewhat complicated due red zone way around,,
7599,fe041747ff8d8707bad0089ef9668cb3603ae3d6,uy Zana <guy@cloudius-systems.com>, 2013-02-04 13:06:33 +0200, , remove unused field _num_entries msix_vector,,
7600,de08ac06e83aec85ca4cbc91b6f1713c13bc9ba2,vi Kivity <avi@cloudius-systems.com>, 2013-02-04 12:28:43 +0200, , sched per cpu runqueue change every cpu independent runqueue since support thread migration yet since thread inherit cpu parent thread except smp bringup thread still run boot cpu,,
7601,165e1c396073f113d2a27e7586932a9c4182b525,vi Kivity <avi@cloudius-systems.com>, 2013-02-04 12:19:31 +0200, , sched make current cpu pointer member thread struct current implementation current cpu thread local variable change cpu pointer atomically context switch obtain pointer thread local variable thread run moving cpu pointer thread structure change atomically switching thread local base register x64,,
7602,384f787a0357e48ddbd9d5108164f121c67ab94e,vi Kivity <avi@cloudius-systems.com>, 2013-02-04 11:08:42 +0200, , merge branch master github.com cloudius system osv,,
7603,da6ba16dbd182517e4c8893333f806cd9ce57151,vi Kivity <avi@cloudius-systems.com>, 2013-02-04 11:04:09 +0200, , x64 per cpu gdt tss interrupt stack need per cpu interrupt stack allow smp interrupt use ist mechanism requires per cpu tss turn suggests per cpu gdt last could avoided expense complexity,,
7604,148dea01f4e985fd9b99506ffbbae38cb3096351,vi Kivity <avi@cloudius-systems.com>, 2013-02-04 11:03:24 +0200, , x64 add ltr str accessors,,
7605,2f7e8602c8f6a7e8a9d2e782b45d504baadbb950,vi Kivity <avi@cloudius-systems.com>, 2013-02-04 11:02:16 +0200, , entry temporarily disable interrupt nesting play tss supposedly per cpu implemented yet disable temporarily meanwhile interrupt exception may nest,,
7606,69f2b534178b5dcc123348ad5f9e8c523447f134,vi Kivity <avi@cloudius-systems.com>, 2013-02-03 18:16:47 +0200, , sched unify smp bringup initialization even initialization create thread switch immediately smp bringup must create thread boot cpu since thread local storage initialized far obviously want switch new cpu avoid many variant simply create thread runqueue either switch immediately switch_to_first defer smp bringup,,
7607,089ab7259f6bbcc87faee608de18d549aca29486,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-30 15:20:21 +0100, , queue bios another thread ramdisk driver functional benefit allows testing async block layer reverted later,,
7608,29ec215d9e7fcf899699b87895ae0b4faeb2c469,vi Kivity <avi@cloudius-systems.com>, 2013-02-03 18:10:06 +0200, , sched simplify initial thread bringup use common functionality attempt preserve much state tcb non threaded boot environment later unify smp boot well,,
7609,05cf697f85c303a0c7b505895a387ded766ee573,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-30 14:56:45 +0100, , add basic asynchronous block layer infrastructure struct bio gain condition variable mutex allow waiting completion still support returning error added fairly easily,,
7610,2d3178b566da6efccdec4ad4cd8f3a3887a70828,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-30 14:32:58 +0100, , move bio.h include osv,,
7611,2b2402c2f12986d9aab4bc3b28598d1c3cc8d80d,vi Kivity <avi@cloudius-systems.com>, 2013-02-03 17:52:55 +0200, , main drop dead early test code,,
7612,0eaf594d15269529c9e40d565221974a313cf70e,vi Kivity <avi@cloudius-systems.com>, 2013-02-03 17:45:18 +0200, , memory protect allocation spinlock need replace something cleverer later,,
7613,d6fee2ae57b6f7305543303aa47a2e9c56e69afb,vi Kivity <avi@cloudius-systems.com>, 2013-02-03 17:22:08 +0200, , sched switch earlier thread want scheduler launch smp need thread mainly s_current valid,,
7614,d72dcb40e88d29cfe82bceadf2c80773ae4ca301,vi Kivity <avi@cloudius-systems.com>, 2013-02-03 16:42:20 +0200, , boot use linker script define initial segment save storage remove size depdendency,,
7615,09ab2abd6270546a6ad68dcf0343cb989df8678c,uy Zana <guy@cloudius-systems.com>, 2013-02-03 16:22:55 +0200, , eventhandler mechanism provides way kernel subsystem register interest kernel event callback function invoked event occur,,
7616,d128094c22e4215ebbf93de00a66891c61d81d72,vi Kivity <avi@cloudius-systems.com>, 2013-02-03 16:11:58 +0200, , smp drop lock around debug message console smp safe,,
7617,cc570220cdf78004b122aa80a343658f07c00b33,vi Kivity <avi@cloudius-systems.com>, 2013-02-03 16:09:42 +0200, , driver add debug_console console driver wrap another spinlock usually want spinlocks want debug scheduler use,,
7618,690df0eb6df9afaff85ae355b342a29baee6e15d,vi Kivity <avi@cloudius-systems.com>, 2013-02-03 15:57:47 +0200, , smp bring cpu real thread,,
7619,c66098e0ba47d2682e3569908742725811103ed3,uy Zana <guy@cloudius-systems.com>, 2013-02-03 15:33:10 +0200, , imported bufring removed errno stubbed synchronization function,,
7620,bc7b6c79e4cb676b9b53ee0c57bf16ebb360bd74,vi Kivity <avi@cloudius-systems.com>, 2013-02-03 15:22:51 +0200, , smp allocate smp boot stack per cpu remove limit number cpu boot,,
7621,3e1492292d5bbf91d75a1022c452327f18454488,vi Kivity <avi@cloudius-systems.com>, 2013-02-03 14:20:19 +0200, , smp locate cpu structure newly booted cpu,,
7622,aca1feedfdf17dd8cd7a011261625245d0c675fc,vi Kivity <avi@cloudius-systems.com>, 2013-02-03 14:19:05 +0200, , boot give little stack space non boot cpu,,
7623,6c0c8338937f78b711109b8063762e0f2a474955,vi Kivity <avi@cloudius-systems.com>, 2013-02-03 14:17:26 +0200, , apic add member local apic different x2apic need virtual function,,
7624,fb9a805f6888fa6d819bda7ef8502d010e9805b6,vi Kivity <avi@cloudius-systems.com>, 2013-02-03 14:16:51 +0200, , apic add init_on_ap used initialize apic non boot processor,,
7625,35a08cfe0a830894ba65b68517ceb488c1393a16,vi Kivity <avi@cloudius-systems.com>, 2013-02-03 14:15:41 +0200, , mutex add spinlock implementation use special case normal threaded use prefer mutex,,
7626,e1a5b0bec689559e0579f7d61e59135dfe224655,vi Kivity <avi@cloudius-systems.com>, 2013-02-03 12:28:20 +0200, , smp parse madt build cpu array,,
7627,f16f56b1cd5c6fe0324652468f7005cfc4d72f87,vi Kivity <avi@cloudius-systems.com>, 2013-02-03 12:27:57 +0200, , sched define cpu structure per cpu information,,
7628,b0a244dd2ffff2f35b440e44f72073f5ccb26531,uy Zana <guy@cloudius-systems.com>, 2013-02-03 14:13:54 +0200, , start bufring porting,,
7629,1f5f1d80c9539fdb08a29cbb66366d06faf033c0,uy Zana <guy@cloudius-systems.com>, 2013-02-03 12:48:10 +0200, , added if_var.h,,
7630,66aa485339c6e1ec0155c27e36c9501abef9444e,uy Zana <guy@cloudius-systems.com>, 2013-02-03 12:36:52 +0200, , added net file,,
7631,9bc23c30d11213ca1e64ddea5bb43fda2b339470,vi Kivity <avi@cloudius-systems.com>, 2013-02-03 12:26:37 +0200, , x64 define structure task state segment,,
7632,2aa05e36c224dc9520d7743a586b7af8a0081342,uy Zana <guy@cloudius-systems.com>, 2013-02-03 12:26:34 +0200, , preserve directory structure bsd,,
7633,9f62965a9c8d0561b4f49f20a4ecf77a3572e14c,or Laor <dor@cloudius-systems.com>, 2013-02-01 23:41:37 +0200, , merge branch master github.com cloudius system osv master github.com cloudius system osv bench add context switch benchmark runtime implement math implement __isnan mmu implement page protection,,
7634,c7a4358b7e36f77361377f7fcc215adf0164963e,or Laor <dor@cloudius-systems.com>, 2013-02-01 23:40:57 +0200, , add interrupr service routine virtio blk work need move virtio layer,,
7635,c83a16ceac0bf044676b722b73085c27c88b5284,or Laor <dor@cloudius-systems.com>, 2013-02-01 23:39:46 +0200, , register another virtio blk device ram disk right discovery mechnism simplified later,,
7636,c2e4e1ed4f966ce9f48049aab9819e27294392b2,uy Zana <guy@cloudius-systems.com>, 2013-01-31 19:00:15 +0200, , almost finilized trivial uma stub,,
7637,83aa7472aafc65d9d54f764c39034f35882ede5b,vi Kivity <avi@cloudius-systems.com>, 2013-01-31 18:19:49 +0200, , merge branch master github.com cloudius system osv,,
7638,fb6887e8579c2609a61687dd0c63375cb7aa57c3,vi Kivity <avi@cloudius-systems.com>, 2013-01-31 18:18:02 +0200, , bench add context switch benchmark osv 147 nanotime 574 context switch fedora 322 nanotime 2484 context switch nanosecond kvm laptop,,
7639,4e7d8cceb5f245ba6c2f322d9b0f1118aeffe04f,vi Kivity <avi@cloudius-systems.com>, 2013-01-31 18:15:04 +0200, , runtime implement otherwise static constructor function never called manifested jit generating wrong code compiling function register calling convention initialized jvm tried load method argument rax,,
7640,168a4229540817cd631f91e947ec7142fe6dbdc1,vi Kivity <avi@cloudius-systems.com>, 2013-01-31 18:14:01 +0200, , math implement __isnan 100 right wrt snan fault incorrect,,
7641,b11d52ced5e0dd32c846248afbb2c7bfeeb10785,uy Zana <guy@cloudius-systems.com>, 2013-01-31 17:49:01 +0200, , add header refcount item uma_zone stub,,
7642,d70544d06db2cf70db7d102c7ae2a7a53c039987,uy Zana <guy@cloudius-systems.com>, 2013-01-31 16:37:13 +0200, , forgot add interrupt.o build.mak,,
7643,5d3520750f884d4dcd775b7478481fb95aa2bd87,vi Kivity <avi@cloudius-systems.com>, 2013-01-31 15:47:37 +0200, , mmu implement page protection,,
7644,5953f79c9bdfdac39ffc667888dc5d37553eca26,uy Zana <guy@cloudius-systems.com>, 2013-01-31 15:46:42 +0200, , virtio_blk initialized dev_idx,,
7645,0df38fa653a2cfdcaf37f550958934f8deee7e95,uy Zana <guy@cloudius-systems.com>, 2013-01-31 15:45:42 +0200, , virto_driver base class initialized dev_idx,,
7646,10e8e5465d867a7b05984fd779a8a77393c0683d,uy Zana <guy@cloudius-systems.com>, 2013-01-31 15:44:08 +0200, , added bdf bus device function device dump_config,,
7647,03ce87612edb4b2914ac684fff52aee7340659a7,uy Zana <guy@cloudius-systems.com>, 2013-01-31 15:42:45 +0200, , driver_manager register_driver return bool,,
7648,e25952493399483e8e4e831015730d4d18d386cb,uy Zana <guy@cloudius-systems.com>, 2013-01-31 15:41:55 +0200, , able register device device_id,,
7649,a138517f143b5ab59fb06b1f8896b57f417cc11b,uy Zana <guy@cloudius-systems.com>, 2013-01-31 14:59:55 +0200, , add trivial implementation uma function,,
7650,204b09eb9d996689e32e1d9c2fd21e25a6f2980e,vi Kivity <avi@cloudius-systems.com>, 2013-01-31 13:01:27 +0200, , main initialize scheduler earlier allows use thread early,,
7651,63fca011397b6e3da1b956fecd810576856ad9e8,vi Kivity <avi@cloudius-systems.com>, 2013-01-31 12:58:40 +0200, , elf decouple elf program want initialize scheduler filesystem depend elf program,,
7652,1d638577d3912505f4b89ae9425e0a3640e78b67,vi Kivity <avi@cloudius-systems.com>, 2013-01-31 12:52:42 +0200, , elf use tls_data communicate information setup phase avoids using separate protocol setup runtime,,
7653,f30dc57373a4c450429a3fa146569242670dc3bc,uy Zana <guy@cloudius-systems.com>, 2013-01-31 12:23:40 +0200, , always room pseudo zone,,
7654,4de1c9ff02ca70314d03bc5c4db35daa1fc9121c,uy Zana <guy@cloudius-systems.com>, 2013-01-31 12:21:50 +0200, , trivial implementation uma_zcreate,,
7655,dd8d15942b4db0851fab1b033a1886046fcc9a9a,uy Zana <guy@cloudius-systems.com>, 2013-01-31 12:00:29 +0200, , adding uma_zone stub implementation start uma_zone stuct ...,,
7656,ebd35d4cf3e39a04059fd98286ef45ec55c7705b,uy Zana <guy@cloudius-systems.com>, 2013-01-31 11:44:05 +0200, , connect test loader.cc,,
7657,255a6ab3603b2da30ef88022ed5f422501ed03dd,uy Zana <guy@cloudius-systems.com>, 2013-01-31 11:21:00 +0200, , added kern_mbuf.c,,
7658,c638b73655f71425b33d192d62e8ba74b802b73e,uy Zana <guy@cloudius-systems.com>, 2013-01-31 10:59:24 +0200, , added kern_mbuf mbuf allocator initialization,,
7659,ac5a4b0b59ef32ab4959b0683f42de554a528604,or Laor <dor@cloudius-systems.com>, 2013-01-30 17:38:59 +0200, , merge branch master github.com cloudius system osv master github.com cloudius system osv build fix javac indentation quiet build build silence ant smp bootstrap processor code,,
7660,c2dc3d9b7d35ced6a4496aa86e38505facfaeee3,or Laor <dor@cloudius-systems.com>, 2013-01-30 17:38:17 +0200, , add per driver poor man solution diffrentiating several instance,,
7661,0a12e815ca46c7b61a76b9eadaebaf6694710c12,or Laor <dor@cloudius-systems.com>, 2013-01-30 17:36:46 +0200, , fix missing debug print trapped run qemu additional virtio blk device seems multiple driver instance working well,,
7662,6c7528377c82941ddcdf6ee160d26b64172b9537,or Laor <dor@cloudius-systems.com>, 2013-01-30 17:11:09 +0200, , expand blk test write several request content afterwards issue matching number read request verify content,,
7663,812682bfc1a71c2fe71cb176ac488cf2043606df,or Laor <dor@cloudius-systems.com>, 2013-01-30 16:58:46 +0200, , simplify get_buf eliminating get_descriptor fix,,
7664,24882f6d06571a58245d12c64c34452e63bcad88,uy Zana <guy@cloudius-systems.com>, 2013-01-30 14:00:31 +0200, , uipc_mbuf.c uipc_mbuf2.c compiles link,,
7665,43904ca78ce268ecef095da58a462202f0924f6c,vi Kivity <avi@cloudius-systems.com>, 2013-01-30 13:03:26 +0200, , build fix javac indentation quiet build,,
7666,b1de7fe393c0ed79550dc1de9074795e74b40c39,uy Zana <guy@cloudius-systems.com>, 2013-01-30 12:55:24 +0200, , added netport.h throw defines,,
7667,bfaabe8191b3d5f5ea5afe984ed8e510fc01383d,vi Kivity <avi@cloudius-systems.com>, 2013-01-30 12:46:55 +0200, , build silence ant,,
7668,d15f63354014202e0fe8e192156930b37ce0d807,uy Zana <guy@cloudius-systems.com>, 2013-01-30 12:44:22 +0200, , added mbuf function uipc_mbuf.c,,
7669,0e8877726c0f24a54c3abb11df7107545bc91e2b,uy Zana <guy@cloudius-systems.com>, 2013-01-30 12:40:14 +0200, , mbuf.h compiles,,
7670,ad8f5c8ccc9be8182ce7dbc794f0085cda8e060c,uy Zana <guy@cloudius-systems.com>, 2013-01-30 11:27:07 +0200, , ifdefed includes,,
7671,cf3446eb2d610c631bfaa65e40767542add166f2,uy Zana <guy@cloudius-systems.com>, 2013-01-30 11:19:15 +0200, , mbuf.h compiles without _kernel,,
7672,f5dd11d1b847a5be2b337166fc909f4d50c04f8e,uy Zana <guy@cloudius-systems.com>, 2013-01-30 11:13:40 +0200, , disabled clock tst,,
7673,7139c51cfaafbd73ec0c9f8e924d8d07cdf6ea2b,uy Zana <guy@cloudius-systems.com>, 2013-01-30 11:09:37 +0200, , added param.h,,
7674,e82c936a0187213d3c344f07b67988c19ed5649a,uy Zana <guy@cloudius-systems.com>, 2013-01-30 11:06:25 +0200, , add mbuf ipc,,
7675,fce761c3509d2f82d52fa9a2cec6df7accfafc4b,vi Kivity <avi@cloudius-systems.com>, 2013-01-29 17:36:15 +0200, , smp bootstrap processor code still minimal stack interrupt support etc,,
7676,be0b9dfcfa46a921e43ae51fc889f6c2f35a164d,or Laor <dor@cloudius-systems.com>, 2013-01-29 17:19:36 +0200, , merge branch master github.com cloudius system osv master github.com cloudius system osv commits acpi integrate acpica mmu export phys_cast mmu implement phys_to_virt add acpica license external add acpi component architecture acpica package fix glibc testsuite reference move filesystem related header include move java support java disband kern move core source file core move header include rename includes include add sleep musl add statvfs fstatvfs support add statfs fstatfs support create tmp startup add glibc block test run use available host cpu feature maximum performance mmap trap attempt remap physical memory pthread allocate vma thread stack ...,,
7677,8e7431bec6d0afa5b8360119b0dbad23fd619499,or Laor <dor@cloudius-systems.com>, 2013-01-29 17:18:37 +0200, , extend blk test order read multiple read request wait answer,,
7678,cf11c84f81ade55b1028437ee2e7a286f4e2678c,or Laor <dor@cloudius-systems.com>, 2013-01-29 17:17:39 +0200, , fix plenty small bug around available used ring basic data exchange seems work interrupt yet,,
7679,86fd3f6ea413cc3371b5a53ca06443e9a177a654,vi Kivity <avi@cloudius-systems.com>, 2013-01-29 16:11:18 +0200, , acpi integrate acpica,,
7680,6aef1ee67d70ebcd9f8d8cf2757903ab05e9da3a,vi Kivity <avi@cloudius-systems.com>, 2013-01-29 15:49:26 +0200, , mmu export phys_cast,,
7681,7ecb863d0133baa46ce4700b1cf3cedfd896fa3b,vi Kivity <avi@cloudius-systems.com>, 2013-01-29 15:47:56 +0200, , mmu implement phys_to_virt simpler phys_cast sometimes,,
7682,e4ffcecdd40b4de3f5c08fce2782f483e8005131,vi Kivity <avi@cloudius-systems.com>, 2013-01-29 14:48:41 +0200, , add acpica license,,
7683,117c0a91a30d7d938aa74f3fe3cd0799a606d8cf,vi Kivity <avi@cloudius-systems.com>, 2013-01-29 14:43:17 +0200, , external add acpi component architecture acpica package,,
7684,4875852e7522394af15bdf1ea75d59fe3358a503,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-28 19:19:52 +0100, , fix glibc testsuite reference,,
7685,1c08a4b87c036acb3d1fd6768df232a5dd988d00,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-28 18:59:03 +0100, , move filesystem related header include also added osv prefix make sure clash system header probably either adopt globally drop fear run problem latter approach,,
7686,fb93e900a7a18bf8031f646b91c5f9e34511d9c3,vi Kivity <avi@cloudius-systems.com>, 2013-01-28 20:29:28 +0200, , move java support java,,
7687,2f16972a9b47f862b613e04699eb32c90d9f4274,vi Kivity <avi@cloudius-systems.com>, 2013-01-28 20:23:20 +0200, , disband kern,,
7688,8625c9493c189638b56cb3c6f3b8f07a528b55a1,vi Kivity <avi@cloudius-systems.com>, 2013-01-28 20:08:16 +0200, , move core source file core,,
7689,fa734e6e59c829633a54161533a3608e721237e6,vi Kivity <avi@cloudius-systems.com>, 2013-01-28 20:04:51 +0200, , move header include,,
7690,eb9d0f6204dd9f0216583b1ea905964657742c88,vi Kivity <avi@cloudius-systems.com>, 2013-01-28 20:02:42 +0200, , rename includes include,,
7691,9239f8737987e7da4673a1348460d32a8a826fd2,vi Kivity <avi@cloudius-systems.com>, 2013-01-28 20:00:08 +0200, , merge branch master github.com cloudius system osv,,
7692,93765d19fac5ec7fc0fd5989344d15a5aece2ce9,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-28 14:14:27 +0100, , add sleep musl,,
7693,acdfe9afb97cb0082d3fe38647e448ca16b3b741,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-28 14:09:29 +0100, , add statvfs fstatvfs support,,
7694,52ded202063ec89ca574790c4d5d00cef1468a34,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-28 14:04:40 +0100, , add statfs fstatfs support,,
7695,45538685da7a38880c03061058c5c64efed41c7b,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-28 13:56:18 +0100, , create tmp startup various glibc test need,,
7696,61bf7c54834d9850777268ab4bd35dc70fd1cc5a,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-28 13:48:23 +0100, , add glibc block test,,
7697,8de649136dad7f4ed9da9043e128ba9870b06104,vi Kivity <avi@cloudius-systems.com>, 2013-01-28 13:19:50 +0200, , run use available host cpu feature maximum performance,,
7698,981074a2fe8312f96ecbb2c66468aec158f44ba2,vi Kivity <avi@cloudius-systems.com>, 2013-01-28 12:58:34 +0200, , merge branch master github.com cloudius system osv,,
7699,8d6cd30e7ca3ec7a2b558fb1b22a19fe52b33749,vi Kivity <avi@cloudius-systems.com>, 2013-01-28 12:58:10 +0200, , mmap trap attempt remap physical memory,,
7700,1d5d123f7341f678089b13bbf926048ecdd4e6c3,vi Kivity <avi@cloudius-systems.com>, 2013-01-28 12:56:57 +0200, , pthread allocate vma thread stack payload likely play game stack area like mmap ing guard page give virtual memory play instead physical memory fix crash mode release,,
7701,7f22305339c3039043ec3c96e9a5a22eea428cc4,vi Kivity <avi@cloudius-systems.com>, 2013-01-28 12:54:13 +0200, , exception use separate exception stack exception challenging x64 abi reserve 128 byte rsp local variable overwritten exception interrupt use mno red zone payload may compiled instead use interrupt stack stack table mechanism separate stack exception may fix random corruption timer used,,
7702,4cda9ad189d3ed4a2d3cd890902f935f18f37793,vi Kivity <avi@cloudius-systems.com>, 2013-01-28 11:46:57 +0200, , gdb adjust release build look build directory running object,,
7703,d0f2cbbfa7f4876ac5365fc58b7024ddf4cfdd15,uy Zana <guy@cloudius-systems.com>, 2013-01-28 11:05:21 +0200, , moved virtio_driver virtio_device,,
7704,bc2eb2532e1ac7696fed415d7152e0ba64d4ac80,uy Zana <guy@cloudius-systems.com>, 2013-01-28 10:58:38 +0200, , documented device driver .txt file,,
7705,0ac3dd155ac0a8f4606fcb9abf3c7785da395214,vi Kivity <avi@cloudius-systems.com>, 2013-01-28 00:48:50 +0200, , libc fix mode release breakage due glibc macro glibc header define various standard function macro break build undef source file,,
7706,05abac63fde56ceba620f4dc559dc949259e77f5,vi Kivity <avi@cloudius-systems.com>, 2013-01-28 00:41:48 +0200, , virtio fix broken field definition illegal put field variable length array offset break mode release,,
7707,fc5412656e99c7e296dfa5f39b55fbaca64b9092,or Laor <dor@cloudius-systems.com>, 2013-01-27 22:51:36 +0200, , merge branch master github.com cloudius system osv master github.com cloudius system osv change misleading pci_conf_read write write split virtio_driver virtio_device virtio_driver external update glibc testsuite .gitignore build document java build rule build make ant quieter quiet build main back running payload test build allow setting command line build test add java microbenchmark suite java add support launching jar file bootfs add currency.data add manifest libc file come add real __assert_fail musl add basic bio layer,,
7708,06f5329702364b8281e043c242401afb9a126c0e,uy Zana <guy@cloudius-systems.com>, 2013-01-27 22:30:29 +0200, , change misleading pci_conf_read write write,,
7709,7bd16859f669d3ebca154431dfd6a96af9c3a730,uy Zana <guy@cloudius-systems.com>, 2013-01-27 22:11:16 +0200, , split virtio_driver virtio_device virtio_driver,,
7710,d62579802f2725a84f41eeb3b82bff5bf60d635d,vi Kivity <avi@cloudius-systems.com>, 2013-01-27 20:54:18 +0200, , external update glibc testsuite .gitignore silence subproject commit dirty message,,
7711,47150764b4ff0a4f611e22e77e0550401fbe3284,vi Kivity <avi@cloudius-systems.com>, 2013-01-27 20:50:08 +0200, , build document java build rule,,
7712,0dbc931bbe159552a7f0fa680cbbf085281e7563,vi Kivity <avi@cloudius-systems.com>, 2013-01-27 20:46:21 +0200, , build make ant quieter quiet build completely silent unfortunately,,
7713,49d2a32da5d926c1659216558864083705dffafb,vi Kivity <avi@cloudius-systems.com>, 2013-01-27 20:31:59 +0200, , main back running payload test,,
7714,3f6ce7606b5013bff026123d0cab16d228b21992,vi Kivity <avi@cloudius-systems.com>, 2013-01-27 20:18:54 +0200, , merge branch master github.com cloudius system osv benchmark suite,,
7715,b3552a5cd2d9ad4dfb308c74b5428f05e97e6312,vi Kivity <avi@cloudius-systems.com>, 2013-01-27 20:17:49 +0200, , build allow setting command line build example make cmdline java.so jar bench.jar,,
7716,90718379a3be1e2a29e6e05d8b7284fb9324e454,vi Kivity <avi@cloudius-systems.com>, 2013-01-27 20:12:39 +0200, , test add java microbenchmark suite one test far 500 slower native,,
7717,a482aab8b1e682627224c6b5f516cb615e0903d2,vi Kivity <avi@cloudius-systems.com>, 2013-01-27 20:10:55 +0200, , java add support launching jar file note glue code set class path written java,,
7718,40e9c445b590ac322e0156554b7dea830c86f279,vi Kivity <avi@cloudius-systems.com>, 2013-01-27 20:09:31 +0200, , bootfs add currency.data needed java formatter signed avi kivity avi cloudius systems.com,,
7719,d6d232376183c37d531bc445d366e687e07da25c,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-27 17:16:08 +0100, , add manifest libc file come,,
7720,899e5192655808a6d7ff413b5215defdf3767cb1,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-27 17:12:28 +0100, , add real __assert_fail musl,,
7721,2efd2b20e4634f89c3fbb3b0f71fca37242a72c2,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-27 16:47:19 +0100, , add basic bio layer inspired freebsd code nothing header function name left original version actually support real asynchronous execution missing concept waitqueues osv added soon,,
7722,3641a2b2c1ef8209de7fd5a05724e20a4e58f7e6,or Laor <dor@cloudius-systems.com>, 2013-01-27 17:20:03 +0200, , merge branch master github.com cloudius system osv master github.com cloudius system osv created abstract base class device driver changed flow driver loading device probing,,
7723,719312915d4f9d7525e9bf4c9394b425eb1c62e3,uy Zana <guy@cloudius-systems.com>, 2013-01-27 16:07:37 +0200, , created abstract base class device driver changed flow driver loading device probing,,
7724,7794d4eddcbf47ba741520ee67406db785df778c,or Laor <dor@cloudius-systems.com>, 2013-01-27 15:45:16 +0200, , add bsd license freebsd libc qsort,,
7725,2b1880f8131e7aaa9ee898d8adc9435f05bde676,vi Kivity <avi@cloudius-systems.com>, 2013-01-27 11:15:25 +0200, , merge branch master github.com cloudius system osv osv thread gdb support,,
7726,8a1b805717e05102c6bbc4328a4a8c1287eff8b5,vi Kivity <avi@cloudius-systems.com>, 2013-01-27 11:14:23 +0200, , gdb thread inspection command osv info thread osv thread apply useful backtrace,,
7727,c7581463b144881c5b416efe1ce4d2462131ccd4,vi Kivity <avi@cloudius-systems.com>, 2013-01-27 11:13:26 +0200, , sched add thread list debugger thread list used debugger inspect running stopped thread,,
7728,bc6d5223ebec6bb29d2681a7377adf80ca0c1d5b,vi Kivity <avi@cloudius-systems.com>, 2013-01-27 11:12:15 +0200, , mutex forward declare sched thread allows using mutexes scheduler code obviously scheduling path,,
7729,deadf6f53e894f87dd60bd8670554d526b326efd,vi Kivity <avi@cloudius-systems.com>, 2013-01-27 11:10:30 +0200, , thread test delete thread use thread stack created stack mean state corrupted stack overwritten delete,,
7730,be8acc5a3a92e480ad50a7c60d0fbd4e8ec129ea,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-24 17:21:49 +0100, , add missing ramdisk file,,
7731,32857287adeea0533c36f8a945ee5eb6c990cfeb,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-24 17:10:48 +0100, , add ramdisk driver including trivial test case,,
7732,90361146371a08a203265cd38f5f423758bd46e9,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-24 17:05:17 +0100, , disable pthread test seem break running new test,,
7733,94e5370a43e8d5cc45988df6e688e8891fff3ef5,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-24 17:04:38 +0100, , remove d_prot,,
7734,11b9e3e56412dd9e28f8d14f611d05e09197b797,or Laor <dor@cloudius-systems.com>, 2013-01-24 15:25:59 +0200, , implement basic virtio make request function add test add plenty block request host,,
7735,e6fddd63c67fd54256b5b5bd1647d049c27e61a6,or Laor <dor@cloudius-systems.com>, 2013-01-24 15:25:00 +0200, , fixed add_bug function work correctly ring,,
7736,6ab381293d4b99182d0f56f924fc7177b91de43f,or Laor <dor@cloudius-systems.com>, 2013-01-24 15:23:18 +0200, , add option push new sglist node beginning useful push header footer way,,
7737,3f4349662863fbb250928868eaadcd2b2e0d1621,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-24 12:52:34 +0100, , make lowlevel debug helper also available code,,
7738,613aa1b9ea292dd9c579672d6682bbc8eaa4d815,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-24 12:52:06 +0100, , remove unused stdio.hh header,,
7739,9b5511bc44e50186e73f464ac7e9a32e837cab37,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-24 12:51:12 +0100, , remove verbose vfs printfs,,
7740,de2343d2269f87b7d35276c1065ae37d40821dc0,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-24 12:50:09 +0100, , fix writes stdout stderr want line buffered mode get need query console driver tty vfs brought,,
7741,82363a354abded4149d3d6f7988b04d738a96e12,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-24 12:46:28 +0100, , add tcgets stub allows stdio code figure line buffered mode,,
7742,c5558c7341eafc73680bab8ea1711058e37409ba,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-24 11:44:09 +0100, , restore test functionality refactor loader code bit,,
7743,b109f4d62b99a1fe76af53c1489ec0ddc66a8b42,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-24 11:39:01 +0100, , move hello.class test test code assumes test contains shared object,,
7744,ec3c215cf22fe047c96435a6eee3c07ed43fd77e,vi Kivity <avi@cloudius-systems.com>, 2013-01-24 12:47:55 +0200, , merge branch master github.com cloudius system osv add unified payload loading command line processing,,
7745,1af327c64a33941bc38a66f00c913548cef342d1,vi Kivity <avi@cloudius-systems.com>, 2013-01-24 12:46:59 +0200, , java get main class jvm parameter runtime argument command line set imgedit tool,,
7746,ab713c09da4d7544fd8e5b4b1269bb96dbb50167,vi Kivity <avi@cloudius-systems.com>, 2013-01-24 12:33:54 +0200, , main select shared object run payload via command line rest command line becomes argument payload,,
7747,f40afc1926b99478d0cd832714fa418222793c91,vi Kivity <avi@cloudius-systems.com>, 2013-01-24 12:28:10 +0200, , main run jvm indirectly via shared library java.so standardizes method running payload run shared object argc argv special treatment jvm,,
7748,fc533a735a8707b607e6135eb77ddef71c7fac92,vi Kivity <avi@cloudius-systems.com>, 2013-01-24 11:57:44 +0200, , script add simple took edit disk image present single command available setargs script imgedit.py setargs path image arg0 arg1 arg2 ... set boot argument,,
7749,825ec4298d08e84cfb11d980b3a6086663f7f3e4,uy Zana <guy@cloudius-systems.com>, 2013-01-24 11:57:26 +0200, , added singleton used register msix interrupt idt,,
7750,5e3153cd8e9d27992d42dfa9f41dd5365cd9f703,vi Kivity <avi@cloudius-systems.com>, 2013-01-24 11:56:50 +0200, , boot parse boot command line pas main,,
7751,db482d2792099bfacdc53e23869eb1a9d0b0405b,uy Zana <guy@cloudius-systems.com>, 2013-01-24 11:52:27 +0200, , added bar size pci_bar tracing,,
7752,a72367d4a15820b354be429d01d17bd3bb76d83b,uy Zana <guy@cloudius-systems.com>, 2013-01-24 11:26:09 +0200, , removed unused msix structure definition pci function.hh cleanup,,
7753,00fb5cfaf3eea4b1290c3897092e2f093ed2760b,uy Zana <guy@cloudius-systems.com>, 2013-01-24 11:24:25 +0200, , completed device configuration implementation msix,,
7754,218020fb6867d95cbe8ea5383510f150fba74a7b,vi Kivity <avi@cloudius-systems.com>, 2013-01-24 11:17:46 +0200, , bootloader load command line sector,,
7755,cc3385256c468ea1c884ee776a51a5217de0f24a,vi Kivity <avi@cloudius-systems.com>, 2013-01-24 11:15:31 +0200, , bootloader mov temporary buffer away first 64k segment make room command line future addition,,
7756,dd2f387512e946f8f181fc69cc299dadaf87b907,uy Zana <guy@cloudius-systems.com>, 2013-01-24 11:16:01 +0200, , bug fixing called device factory already _have_msix initialized,,
7757,61d6fd673f3b020201fc9a5cc0c386d3fefa9874,uy Zana <guy@cloudius-systems.com>, 2013-01-24 11:13:21 +0200, , added pci_bar map unmap function,,
7758,17ce08bce14d6ab72334f3d7172917c458381bba,uy Zana <guy@cloudius-systems.com>, 2013-01-24 11:10:43 +0200, , implemented pci bar size test,,
7759,b3eb642f905cf576a754cc98555f93bc3539d5f0,uy Zana <guy@cloudius-systems.com>, 2013-01-24 11:07:06 +0200, , added unified access function mmio region,,
7760,826cea4841f015cdd59143b74f42de540e523f20,uy Zana <guy@cloudius-systems.com>, 2013-01-24 11:04:19 +0200, , moved msix_compose apic_driver class,,
7761,a2220493daabe2d4fc2bfdd7a752634dca0c812d,uy Zana <guy@cloudius-systems.com>, 2013-01-22 22:21:46 +0200, , fixed compilation issue,,
7762,e99fa5a90a59b293c580f2190011108dd3adcb2b,uy Zana <guy@cloudius-systems.com>, 2013-01-22 10:47:21 +0200, , added msi message composition apic,,
7763,6929d41d9a40f9893a2f23c32698c2fc9582d6cb,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-21 18:43:37 +0100, , remove dead code,,
7764,7b70ac52972db302812e540452fda4a8e4ab2d4f,vi Kivity <avi@cloudius-systems.com>, 2013-01-21 19:12:23 +0200, , merge branch master github.com cloudius system osv,,
7765,80d145eba776d6ec1ca2ed01bdb5e255cad78a4d,vi Kivity <avi@cloudius-systems.com>, 2013-01-21 19:11:51 +0200, , main run hello.class test,,
7766,6aad14b86e305add438aa5f90f4fa812112c4cc9,vi Kivity <avi@cloudius-systems.com>, 2013-01-21 19:11:23 +0200, , test add hello world test java,,
7767,513b5e545ca9039cdf1bab553e5697bab5a37951,vi Kivity <avi@cloudius-systems.com>, 2013-01-21 19:03:56 +0200, , mkbootfs preserve case file name java like upper case class file name,,
7768,91221c096726e7e520d17964d05b80327b36207a,uy Zana <guy@cloudius-systems.com>, 2013-01-21 17:48:33 +0200, , replaced tab space pci subsystem,,
7769,aeca07896b6533ccaec4e94f01a6758b0bbe4b00,uy Zana <guy@cloudius-systems.com>, 2013-01-21 17:33:48 +0200, , separated driver device pci_subsystem,,
7770,54815a1233a881e3960178c395fdf3adced2a2f3,vi Kivity <avi@cloudius-systems.com>, 2013-01-21 17:28:20 +0200, , merge branch master github.com cloudius system osv,,
7771,25869af1a17c03b66b21b71ea7c6d573c8d7b947,vi Kivity <avi@cloudius-systems.com>, 2013-01-21 17:27:36 +0200, , main fix call expects penv point something,,
7772,019bb0d0026c286279f96d91dbf9858652440f9b,vi Kivity <avi@cloudius-systems.com>, 2013-01-21 17:22:40 +0200, , sched implement yield,,
7773,a7c8a57aa744497746c0b8743116cd3e1978bf23,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-21 15:48:22 +0100, , import stdlib musl except floating point functionality,,
7774,0abd44f22ad55f28ff854f699bc7c2a970dd3b15,or Laor <dor@cloudius-systems.com>, 2013-01-21 16:58:49 +0200, , merge branch master github.com cloudius system osv master github.com cloudius system osv libc implement semaphore printf fix printf disable floating point support printf scanf import libc stdio musl wire ioctl implement vectored writes console driver use stock mktemp implementation musl support clock_gettime add setbuf stub add clock_gettime supporting functionality,,
7775,36be7522e73e60fbb5765131cb9ca43008134396,or Laor <dor@cloudius-systems.com>, 2013-01-21 16:57:43 +0200, , read virtio blk config space capacity variable,,
7776,f51bab11b7095b7f1efc08995f5a49a8f77937ba,or Laor <dor@cloudius-systems.com>, 2013-01-21 16:51:42 +0200, , add cdefs get functionality like offsetof please together definition,,
7777,7f44d331f685e940b8331b222a437cae35242d0b,vi Kivity <avi@cloudius-systems.com>, 2013-01-21 16:26:48 +0200, , libc implement semaphore,,
7778,50d82408facba010b0bccc6e89b38f2029a18890,vi Kivity <avi@cloudius-systems.com>, 2013-01-21 15:00:58 +0200, , merge branch master github.com cloudius system osv conflict libc printf.cc,,
7779,3369ee358d6cd467dbf9bd0479bbcf81f66648f9,vi Kivity <avi@cloudius-systems.com>, 2013-01-21 13:59:03 +0200, , printf fix printf account negative number oops,,
7780,70105b0ad37ae24cf92719362e3ad51fdaf79380,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-21 11:45:17 +0100, , disable floating point support printf scanf would require pulling libm ready yet,,
7781,de998640e35f9327b15b26b8354cc912f728d7b4,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-18 18:21:31 +0100, , import libc stdio musl note functioanlity related file pthread locking implemented stubbed,,
7782,5f48865286c64f68708c63f960e7de26140fcd95,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-21 11:56:04 +0100, , wire ioctl,,
7783,9afc455864294b29c601c33cdbe759edbc15c931,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-21 12:14:22 +0100, , implement vectored writes console driver,,
7784,a3bf30f94ae4ec848ae347a4bf76495e17457deb,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-21 11:32:01 +0100, , use stock mktemp implementation musl support clock_gettime,,
7785,6687c9eab996ac5ea8fe288c1e439796962d5a3b,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-21 11:24:25 +0100, , add setbuf stub,,
7786,d4e583f8c425559e278f88fe751173ddccbcd508,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-19 19:38:31 +0100, , add clock_gettime supporting functionality,,
7787,bb421a7f2868a3e096306ca3245f1d8d26a01b8e,or Laor <dor@cloudius-systems.com>, 2013-01-21 11:27:48 +0200, , merge branch master github.com cloudius system osv master github.com cloudius system osv main minimal nanosleep test libc implement nanosleep sched add sleep_until sched fix segfault switching thread back kvmclock fix physical mapping change build disable x86 redzone implement dup3,,
7788,0bb5eee55d06fca01dd503dc8f6b6b879e52a8b0,or Laor <dor@cloudius-systems.com>, 2013-01-21 11:26:37 +0200, , bug fix access bar cleanup device present longer term nice allocate bar,,
7789,e4aba1d6f1276bd099d0c1f6283958c47b7e35a7,or Laor <dor@cloudius-systems.com>, 2013-01-21 11:25:45 +0200, , bug fix remove element list iterator invalid,,
7790,9c801a32b944a119382ba85ac07940889c434b28,vi Kivity <avi@cloudius-systems.com>, 2013-01-21 11:00:11 +0200, , merge branch master github.com cloudius system osv,,
7791,bdb08b03367de573883e836f9bea7181b39ecdb4,vi Kivity <avi@cloudius-systems.com>, 2013-01-21 10:59:03 +0200, , main minimal nanosleep test,,
7792,c18ba6fbce77ee77e481fc74e21114569af8036a,vi Kivity <avi@cloudius-systems.com>, 2013-01-21 10:58:46 +0200, , libc implement nanosleep,,
7793,dbe2cc8367f3a94c9b498e43dbb82d62270d7bd1,vi Kivity <avi@cloudius-systems.com>, 2013-01-21 10:58:06 +0200, , sched add sleep_until,,
7794,bcbf691523797be67a7b5a7ed081b3e86459f02e,vi Kivity <avi@cloudius-systems.com>, 2013-01-21 10:56:33 +0200, , sched fix segfault switching thread back since idle thread yet thread woken last running end calling switch_to current thread break badly add test case,,
7795,61aebfd0ed71190b3321dab5203dde746847a034,vi Kivity <avi@cloudius-systems.com>, 2013-01-21 10:55:26 +0200, , kvmclock fix physical mapping change virt_to_phys longer work static variable update code allocate kvmclock structure heap,,
7796,2188366be353fa13fd249501eb109edb4652f8a9,vi Kivity <avi@cloudius-systems.com>, 2013-01-21 10:53:55 +0200, , build disable x86 redzone using redzone mean interrupt clobber local variable disable full solution since payload built way better nothing,,
7797,3c81b9d8fd80dae23aace4b394ad0023ef5fd1f3,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-21 09:15:38 +0100, , implement dup3,,
7798,65ecb608487d0bcd8592be6306be41d33ff30431,or Laor <dor@cloudius-systems.com>, 2013-01-20 23:54:13 +0200, , merge branch master github.com cloudius system osv master github.com cloudius system osv libc implement putenv libc implement getpwuid libc implement uname pthread increase default stack size pthread fix pthread_self main switch payload loading pthread,,
7799,478a961a7fcda3e3741c1686d29788fbeae5ddb0,vi Kivity <avi@cloudius-systems.com>, 2013-01-20 20:07:47 +0200, , libc implement putenv,,
7800,6ae9639131162c15ea6957dec64552e1489867cf,vi Kivity <avi@cloudius-systems.com>, 2013-01-20 20:04:40 +0200, , libc implement getpwuid,,
7801,93c55b7d55d3ea63a5e03c3b9cdb06ba2de4b31e,vi Kivity <avi@cloudius-systems.com>, 2013-01-20 19:55:34 +0200, , libc implement uname pretend another avoid confusing payload,,
7802,691d82849fb6175c3d4c66693703e2dfc5dc8f11,vi Kivity <avi@cloudius-systems.com>, 2013-01-20 19:48:37 +0200, , pthread increase default stack size java stomp 64k stack,,
7803,8689e8822df64998314ff85916cd8d60bb7bbc7e,vi Kivity <avi@cloudius-systems.com>, 2013-01-20 19:08:18 +0200, , pthread fix pthread_self pthread_self implementation inconsistent pthread_create leading corruption switch simpler implementation using thread local storage,,
7804,c26cef34d26cc779df088e88d80364d3fb7fa6cb,vi Kivity <avi@cloudius-systems.com>, 2013-01-20 19:07:30 +0200, , main switch payload loading pthread way payload may use pthread apis thread started,,
7805,4c6868f344c5c4cd798023a5f9bb10c793f77b1c,or Laor <dor@cloudius-systems.com>, 2013-01-20 18:19:55 +0200, , merge branch master github.com cloudius system osv master github.com cloudius system osv commits elf relocate r_x86_64_64 correctly sched make thread stack controlled thread creator main destroy driverfactory bootfs disable read01.so temporarily mmu map null libc fix confstr null ... elf fix segfault unmatched symbol mmu move physical memory map implement positional pread pwrite preadv pwritev implement vectored readv writev uio ify read write path clean vnode operation defintion bit import basic uio support code freebsd add real strerror implementation musl add misc routine musl stat variant add getuid getgid stub implement lxstat implement real console layer simplify console abstraction ...,,
7806,927145484992dc52f8d78ba9adbbd33006e438f9,or Laor <dor@cloudius-systems.com>, 2013-01-20 18:18:58 +0200, , add test function add buffer pas host,,
7807,a90d43bf33e334d47bc95448ca8d043f6c55f894,or Laor <dor@cloudius-systems.com>, 2013-01-20 18:14:48 +0200, , add vring add_buf skeleton,,
7808,4ccaed7de7260a856043f194c2c5237279fc2a7d,or Laor <dor@cloudius-systems.com>, 2013-01-20 18:12:49 +0200, , add kick function notify host pending buffer improve host side reset call,,
7809,57f5334aeee817affc1f9601589bf617fcc4a475,or Laor <dor@cloudius-systems.com>, 2013-01-20 18:01:12 +0200, , add scatter gather basic class,,
7810,3e3433cd17a5c94a3cd593dfedd8f7e2faa80198,vi Kivity <avi@cloudius-systems.com>, 2013-01-20 17:09:33 +0200, , elf relocate r_x86_64_64 correctly fix generated code going nut incorrect jvm_nanotime,,
7811,27b19497ac9225ff11065f8c845d34c42e3a3ce0,vi Kivity <avi@cloudius-systems.com>, 2013-01-20 15:31:15 +0200, , sched make thread stack controlled thread creator needed pthread_attr_ general make sure stack regular vma expected payload,,
7812,03896ad23265cbb247184ec8cbaed7ddb9878278,vi Kivity <avi@cloudius-systems.com>, 2013-01-20 14:04:29 +0200, , main destroy driverfactory segfaults,,
7813,016df0453ca6a4dc3fffdd4589b9a900cf96d384,vi Kivity <avi@cloudius-systems.com>, 2013-01-20 14:03:55 +0200, , bootfs disable read01.so temporarily break build,,
7814,f71acd48d588e80a5ac7a54d7149c93a0b6fbbab,vi Kivity <avi@cloudius-systems.com>, 2013-01-20 13:53:20 +0200, , merge branch master github.com cloudius system osv,,
7815,629dc0531d3c60cfbfeb0230c0269b3396bc0d8c,vi Kivity <avi@cloudius-systems.com>, 2013-01-20 13:52:29 +0200, , mmu map null keep first 2mb unmapped null pointer refernences,,
7816,5cafe12dee0cbfce9225c49cb93005848365b3fb,vi Kivity <avi@cloudius-systems.com>, 2013-01-20 13:51:43 +0200, , libc fix confstr null ... confstr null defined return size required storage use temporary string make fault,,
7817,bb79f03833440854b7c11b5d93e835fe8c4194a7,vi Kivity <avi@cloudius-systems.com>, 2013-01-20 13:50:24 +0200, , elf fix segfault unmatched symbol lookup_symbol check symbol undefined checking actually looked check missing symbol first,,
7818,3a24e7d5bf224891feab736c45c6c3549246b75b,vi Kivity <avi@cloudius-systems.com>, 2013-01-20 13:30:41 +0200, , mmu move physical memory map allows clear area around null pointer trap error switch tricky wrt setting memory since need memory mapped order free need free memory map page table set temporart map mirror first map already bootstreap use free memory map free everything else,,
7819,75e9f27348821d48ae4b1ffa1e88f4f5cd73feb0,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-19 14:48:50 +0100, , implement positional pread pwrite preadv pwritev,,
7820,deb971593f54253841e9e22abd3d46b69e1dda95,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-19 13:54:05 +0100, , implement vectored readv writev,,
7821,5e90d3abd42a1373f0eaa8a21b88c580e71646b5,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-18 20:09:43 +0100, , uio ify read write path allow easy addition vectored positional syscalls well making structure path similar bsd solaris,,
7822,7911d1c3f579b479c15d94c7579ad1933c096bde,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-18 18:54:19 +0100, , clean vnode operation defintion bit,,
7823,7bc211fc080c2b99395ab3a8fe7db1cce69342b7,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-18 18:50:08 +0100, , import basic uio support code freebsd,,
7824,7bf893ff5dd5de2742ada809de9b5dd92cc0a99d,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-18 18:24:18 +0100, , add real strerror implementation musl,,
7825,05521dc5c5a6b571016fde335e5a91e00e48ab1b,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-17 19:55:05 +0100, , add misc routine musl,,
7826,e72713ff67c2c4d87029cda0addf8b82c04b1fa0,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-17 19:48:08 +0100, , stat variant,,
7827,4217b2144a56fc86de22ee3a0a7c3841f232a27c,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-17 19:34:58 +0100, , add getuid getgid stub,,
7828,ad29e24144d732a4773c3cc09ae4b12dfb6aa78a,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-17 19:34:37 +0100, , implement lxstat support symlinks lxstat identical stat,,
7829,99024014803562f983b747184d7f40dc8fe5c50e,hristoph Hellwig <hch@lst.de>, 2013-01-17 14:42:04 +0100, , implement real console layer create central place managed console driver isa serial expose device file debug output routine,,
7830,fad1ce08a07ad4e4a8e45e8a69374585c7f73653,hristoph Hellwig <hch@lst.de>, 2013-01-17 14:31:00 +0100, , simplify console abstraction low level console abstraction deal char hardware format upper layer debug.cc already handle conversion std string boost format,,
7831,e4e06d184bda4fe9b1c76ec76e270cdfdb6aea6c,hristoph Hellwig <hch@lst.de>, 2013-01-17 13:44:57 +0100, , make prex devfs code callable,,
7832,60ea6751ca0500bfe251c944d6f7b57ec589b274,hristoph Hellwig <hch@lst.de>, 2013-01-17 13:45:26 +0100, , silence devfs lookup,,
7833,baca0158d3a42cc04cca2b9a8947be230712ec02,or Laor <dor@cloudius-systems.com>, 2013-01-17 13:22:31 +0200, , destroy driver reset currently call loader directly fix issue gdb breakage driver,,
7834,6a1578c2e4c8566e5a74fcd304d5256453da444b,or Laor <dor@cloudius-systems.com>, 2013-01-17 12:59:39 +0200, , reset driver status destructor,,
7835,77cd3b6b9aea46b93a25b6c1fec55a678d79ccb8,vi Kivity <avi@cloudius-systems.com>, 2013-01-17 12:21:08 +0200, , mmu move initial memory setup mmu.cc initial memory physical mmu convert virtual address added memory pool right much difference mapping moving soon,,
7836,014f89c2c28547dd672a06707363ca5c3b65f16f,vi Kivity <avi@cloudius-systems.com>, 2013-01-17 12:14:07 +0200, , elf use alignment utility,,
7837,79497a3913b369283c0653c508a2edd67c54ed4b,vi Kivity <avi@cloudius-systems.com>, 2013-01-17 12:04:52 +0200, , mempool use alignment utility,,
7838,393100e03f23cec9f14e90be9ca16bc88b3b2ea7,vi Kivity <avi@cloudius-systems.com>, 2013-01-17 12:04:29 +0200, , add utility aligning stuff,,
7839,e0869e062dbf8ba3eb2b05d90a3283feac084009,hristoph Hellwig <hch@lst.de>, 2013-01-17 10:46:14 +0100, , add comment __locale_data,,
7840,79d5ad7d6f7bbcc20edf2ce2bbf3cc08f04b08dd,hristoph Hellwig <hch@lst.de>, 2013-01-17 09:33:18 +0100, , import locale support dependency musl,,
7841,9eba0db78a0af5d57846f9bb114a0dfd39a8ef98,hristoph Hellwig <hch@lst.de>, 2013-01-17 09:03:36 +0100, , add strtoul,,
7842,bc21c33a230a8ec8b4a03a6314b48e144caceccc,hristoph Hellwig <hch@lst.de>, 2013-01-17 08:59:12 +0100, , add stub,,
7843,559f86b8ced3fb065ae009e18071b9696beeec30,hristoph Hellwig <hch@lst.de>, 2013-01-17 08:33:37 +0100, , add missing libc.h file rework cflags handling common set flag also allow flag used enable c99 gnu mode include libc internal header although latter could refined even,,
7844,5cd0168fc566e5f7263b04948b4df6695d8ae721,hristoph Hellwig <hch@lst.de>, 2013-01-16 22:59:40 +0100, , add string library musl import whole string library well ctype function musl library must bsd licensed library aim api mostly abi compatible glibc easiest way provide abi need without reinventing wheel import traditional non syscall library code expect libc eventually mostly consist slightly modified musl code,,
7845,54e4b14f8aae379966d7fee9d3754e02f2b9ab7c,hristoph Hellwig <hch@lst.de>, 2013-01-16 20:11:29 +0100, , enable running pthread test recent test suite change test expected test,,
7846,6d554dad41ef542f33c3dd37bea326159447d934,hristoph Hellwig <hch@lst.de>, 2013-01-16 17:55:32 +0100, , add support unloading elf object,,
7847,7a5d8fe2ebfa4c9a15e8c600ee0c497b8976836a,hristoph Hellwig <hch@lst.de>, 2013-01-16 17:24:01 +0100, , implement naive realloc make malloc testcase happy,,
7848,7eb45bd6433c54de265ae79147d95ea9dea7b5d7,vi Kivity <avi@cloudius-systems.com>, 2013-01-16 17:36:42 +0200, , merge branch master github.com cloudius system osv lot work towards enabling conflict bootfs.manifest build.mak loader.cc,,
7849,e0c59f885a9cdb10987692c43058c2bfbbdaa7ff,vi Kivity <avi@cloudius-systems.com>, 2013-01-16 17:18:41 +0200, , test add pthread test,,
7850,55b78aa6d655ddc4971eb3bd3b8726cdbff84e15,vi Kivity <avi@cloudius-systems.com>, 2013-01-16 17:17:58 +0200, , pthread implement,,
7851,2c7fed2177cab8be5fe859f01dd552e63030f4a8,vi Kivity <avi@cloudius-systems.com>, 2013-01-16 17:17:19 +0200, , loader add clockevents test,,
7852,4dd6e050a234a9a258075beacf07848a6cae7e9b,vi Kivity <avi@cloudius-systems.com>, 2013-01-16 17:15:11 +0200, , sched protect runqueue interrupt thread wake may called interrupt handler clockevents,,
7853,c18cf32bf864c6b86a481214b3a26f6faf811409,vi Kivity <avi@cloudius-systems.com>, 2013-01-16 17:12:42 +0200, , sched schedule thread wake thread waking obviously running need reschedule awkward done interrupt,,
7854,f57bdab3616d0b5f6266f81169c7a24e91eacc26,vi Kivity <avi@cloudius-systems.com>, 2013-01-16 17:09:36 +0200, , sched timer support thread timer set wake thread specified time cancelled,,
7855,025874dbeb75a6f2ec6010014380ae783a7a76cd,vi Kivity <avi@cloudius-systems.com>, 2013-01-16 17:05:03 +0200, , mutex simplistic mutual exclusion yet preemption safe,,
7856,b49bbb2f21b1cf4c7be5a894b6d1b8bf3f9deb7c,vi Kivity <avi@cloudius-systems.com>, 2013-01-16 17:02:33 +0200, , pthread auto construct mutexes fox simplicity first mutex implementation compatible wrap mutex class structure also contains intitialization flag initialize demand,,
7857,eb705fbb41c9e38ee90585677f86b4e0f2a63b94,vi Kivity <avi@cloudius-systems.com>, 2013-01-16 16:58:04 +0200, , elf fix glob_dat relocation missed adding object base,,
7858,0d27303434df0b1b27982ed312fef273a17afdb5,vi Kivity <avi@cloudius-systems.com>, 2013-01-16 16:57:32 +0200, , add apic clockevent implementation,,
7859,0b36b6951b6be7acd3a56d1e510101a9b5410388,vi Kivity <avi@cloudius-systems.com>, 2013-01-16 16:55:24 +0200, , kvmclock kvmclock data __thread actually percpu percpu support yet make global,,
7860,48e1739af0aac25dbf3e30f1f1448a62c2bc948a,vi Kivity <avi@cloudius-systems.com>, 2013-01-16 16:54:47 +0200, , interrupt drop debug message interrupt way noisy,,
7861,8bb55da170dc30ff80965de759a309fc7d36b08c,vi Kivity <avi@cloudius-systems.com>, 2013-01-16 16:54:15 +0200, , interrupt initialize idt earlier allow clockevents driver use startup,,
7862,0bc3efb8137e25edf05e80fed1152aa05eef10bb,vi Kivity <avi@cloudius-systems.com>, 2013-01-16 16:53:36 +0200, , apic add interface write apic register,,
7863,8ca4153f5df3d9cfb317bcd55f23986b8a654330,vi Kivity <avi@cloudius-systems.com>, 2013-01-16 16:45:24 +0200, , build use fpic anything test,,
7864,fdcb0f1cbbaf052dd5f9b6df6d8cf86476de7ced,vi Kivity <avi@cloudius-systems.com>, 2013-01-16 16:44:23 +0200, , clockevent add clockevent interface intentionally simplistic supporting one callback intended waking thread,,
7865,ef1ada8dca7d4ce70f52d437db0fc423f16c9392,vi Kivity <avi@cloudius-systems.com>, 2013-01-16 16:42:01 +0200, , irq add raii style lock interrupt use with_lock irq_lock stuff done interrupt disabled including early return stmts ,,
7866,0bc52fd0d0a6ec5b015d382f686dd0fab361c231,vi Kivity <avi@cloudius-systems.com>, 2013-01-16 16:41:35 +0200, , x64 add arch independent name cli sti,,
7867,7671793f23bba7d8786c1f857743c56e3d91e4d4,hristoph Hellwig <hch@lst.de>, 2013-01-16 08:54:48 +0100, , renamed confusing named elf program add method public add_object private set_object method describe two totally different action much better,,
7868,69dd96d23cb33fbbdb3a51b38626bc88dee0d5b4,hristoph Hellwig <hch@lst.de>, 2013-01-16 08:32:54 +0100, , update readme newly referenced test suite,,
7869,bee1f63567779d8e70d6795e6509980cfa3fc738,hristoph Hellwig <hch@lst.de>, 2013-01-15 19:10:13 +0100, , initial pas running external test suite style requires manual edititing loader.cc run automated way pick whole directory manifest clear environment running next .so,,
7870,1ccc92c11b93703174f56bfadb0390f1bfe7c76c,uy Zana <guy@cloudius-systems.com>, 2013-01-16 05:12:19 +0200, , disabling device intx assertion order enable msi,,
7871,4c20393f9c23de397e7a07682df85f75a0bbab1e,hristoph Hellwig <hch@lst.de>, 2013-01-17 14:19:05 +0100, , run jvm default,,
7872,81f10993c24ddc43c7bb0c8a0fef87d712be8137,hristoph Hellwig <hch@lst.de>, 2013-01-17 13:40:31 +0100, , add temp function musl,,
7873,22fec1553c7ea0d13338c5b3abd86dfcc90004a9,uy Zana <guy@cloudius-systems.com>, 2013-01-16 03:45:38 +0200, , added msi configuration parsing added bsd license driver pci,,
7874,efb27aaf6773657521fe1587581c7ccc4da97809,hristoph Hellwig <hch@lst.de>, 2013-01-15 21:30:16 +0100, , add license blurb getopt,,
7875,3e0919cd768046f8d14c4c21514c5ecd87b30409,uy Zana <guy@cloudius-systems.com>, 2013-01-15 22:37:08 +0200, , removed virtio vring.hh.orig repository,,
7876,fb859bc848e0adb8957c58d2725c826e593a69f5,uy Zana <guy@cloudius-systems.com>, 2013-01-15 22:33:48 +0200, , added pci config capability parsing moved virtual call earlyinitchecks base class,,
7877,cede4363a729fd134572f81d064d96dd8872aedc,uy Zana <guy@cloudius-systems.com>, 2013-01-15 22:29:45 +0200, , start qemu virtio net pci device,,
7878,f26644241b9ee3d44064c970f7c9fa698194d694,hristoph Hellwig <hch@lst.de>, 2013-01-15 20:11:44 +0100, , fix malloc conformance found glibc testsuite,,
7879,8ca70fa1d94735650baa1ed117f3bd8973b44dd6,hristoph Hellwig <hch@lst.de>, 2013-01-15 19:32:48 +0100, , fix getcwd conformance fix various corner case pas glibc test suite,,
7880,7f4740e5e22251add7000dd9bceb4fbe6006aa92,hristoph Hellwig <hch@lst.de>, 2013-01-15 19:36:03 +0100, , abort setvbuf,,
7881,0a47caef1883fe3628dfdae2d6960a4642bb4f27,hristoph Hellwig <hch@lst.de>, 2013-01-15 19:06:06 +0100, , add getopt newlib 2.0.0,,
7882,7309084c59d3dc74eb4d6209f0dc2d64d71574c3,hristoph Hellwig <hch@lst.de>, 2013-01-15 19:05:26 +0100, , add mallopt stub,,
7883,e5c2c39a3bc19cf37abf732290310f247734f102,vi Kivity <avi@cloudius-systems.com>, 2013-01-15 18:49:22 +0200, , apic switch x2apic mode apic driver construction make apic immediately usable,,
7884,9db335a184fe39aee1f3c62f08de356857fdf97a,hristoph Hellwig <hch@lst.de>, 2013-01-15 15:57:31 +0100, , update readme current submodule usage,,
7885,66d4b6256894c0986a294be6ad46d0fd663ecac6,hristoph Hellwig <hch@lst.de>, 2013-01-15 15:57:01 +0100, , use libm.so.6 external glibc.bin,,
7886,4f0fa1fc7c55a4d8806b7f4adaa0c0d328c0d53f,vi Kivity <avi@cloudius-systems.com>, 2013-01-15 16:51:11 +0200, , mmu fix populate_page large page mmap consider large page may used map area overwriting happen primordial area remapped payload creating guard page result random memory overwritten pte fix detecting large page splitting,,
7887,c2189584e19b1810dcd74abc78ca36eec5a64966,vi Kivity <avi@cloudius-systems.com>, 2013-01-15 16:31:41 +0200, , build grab gcc binary external gcc.bin bootfs,,
7888,4a8898026632ae7d357bf26f2da8d42432682792,or Laor <dor@cloudius-systems.com>, 2013-01-15 15:49:19 +0200, , bug _paddr usage actually virtual address need store virtual address returned malloc virt_to_phys function translating virtual mem physical addition founf design error virtio pfn code affect bit ram,,
7889,142ae3b0769b5b31abec329942580fa1ae4b081a,uy Zana <guy@cloudius-systems.com>, 2013-01-15 14:11:14 +0200, , fixed window crlf file,,
7890,2efdc3bc58c8f67e54a36b4c638e016eb3492100,or Laor <dor@cloudius-systems.com>, 2013-01-15 12:28:41 +0200, , merge branch master github.com cloudius system osv master github.com cloudius system osv moved definition reside within appropriate class vring_used vring_avail build use header binary external gcc.bin external glibc.bin add glibc.bin submodule add gcc binary submodule,,
7891,dba3aff65ead4bb34f429c7fdc034f9ac6a3b9d0,uy Zana <guy@cloudius-systems.com>, 2013-01-15 12:20:18 +0200, , moved definition reside within appropriate class vring_used vring_avail,,
7892,19687b1938b080372e086b126981174c516f9a34,or Laor <dor@cloudius-systems.com>, 2013-01-15 12:15:23 +0200, , add initial _very_ basic virtio blk driver,,
7893,a48259bc82e85b5e2880fe67ff4b91061e149347,vi Kivity <avi@cloudius-systems.com>, 2013-01-15 11:40:36 +0200, , merge branch master github.com cloudius system osv,,
7894,89954499f3521dafad1e25b953abad1d2f20601f,vi Kivity <avi@cloudius-systems.com>, 2013-01-15 11:23:08 +0200, , build use header binary external gcc.bin external glibc.bin,,
7895,2f8df2f11576cd5e04a4ece9b322c92ac8bd5905,or Laor <dor@cloudius-systems.com>, 2013-01-15 01:25:17 +0200, , fix virtio net dev 0x1000 network driver queue,,
7896,8559673ad2b420b81eed43a03940d3740e86332e,uy Zana <guy@cloudius-systems.com>, 2013-01-14 21:17:26 +0200, , allocating virtio queue,,
7897,8d3398b61f1a44c6df0374f5da3484d44584b840,vi Kivity <avi@cloudius-systems.com>, 2013-01-14 20:27:25 +0200, , add glibc.bin submodule,,
7898,f9fdfbd88048ac889e47c9de1b0cd748cd92fa5c,vi Kivity <avi@cloudius-systems.com>, 2013-01-14 20:19:39 +0200, , add gcc binary submodule,,
7899,f7741a47912f57ed6c93e7c676c72727f97f79aa,uy Zana <guy@cloudius-systems.com>, 2013-01-14 18:58:55 +0200, , designing virtio interface progress,,
7900,2e39e407a7f74cc63695894ad3b14f47267e5141,vi Kivity <avi@cloudius-systems.com>, 2013-01-13 21:13:23 +0200, , external update openjdk.bin,,
7901,0d73ab9303b4ecf6ebbe9651bd3456996462d23a,vi Kivity <avi@cloudius-systems.com>, 2013-01-13 21:11:14 +0200, , sched add accessor getting stack information required turn required jvm,,
7902,c1b7fc5f0a97d0c3c77aa0f7a850d74a4dad88df,vi Kivity <avi@cloudius-systems.com>, 2013-01-13 11:21:36 +0200, , pthread implement pthread_attr_t functionality,,
7903,f1fe602c1bb54043ba4a5cc462eb408e828edc9c,or Laor <dor@cloudius-systems.com>, 2013-01-13 18:24:47 +0200, , merge branch master github.com avikivity osv master github.com avikivity osv pthread implement pthread_create,,
7904,5b1917d12f0c3d970fa0b2f255068adb221a00ed,or Laor <dor@cloudius-systems.com>, 2013-01-13 18:22:26 +0200, , add bit pci config function use retrieve queue size correctly,,
7905,a414f86bc0a9468885cc734a921677684903cd4c,or Laor <dor@cloudius-systems.com>, 2013-01-13 18:14:11 +0200, , fix bug advancing offset traversing array,,
7906,1081ead1e7dcc13ff0a4167cd8517d52d2eac58d,vi Kivity <avi@cloudius-systems.com>, 2013-01-13 11:21:36 +0200, , pthread implement pthread_create,,
7907,e8f2ee4a321df5b680dc2f05e27ad85b603494b9,uy Zana <guy@cloudius-systems.com>, 2013-01-12 02:10:31 +0200, , build ubuntu,,
7908,191a2c1c850ed9bf25ed0ba5a00f5088f1cd9e6c,vi Kivity <avi@cloudius-systems.com>, 2013-01-11 18:43:18 +0200, , string fix strncmp build mode release apparently glibc defines macro compile undef back,,
7909,66df8c1a1b8b3a6d7b6a1f3ae3f231b923b595ea,vi Kivity <avi@cloudius-systems.com>, 2013-01-11 18:40:48 +0200, , vfs fix type __xstat __fxstat caught make mode release,,
7910,638b1759ee413b584d891f054be7030661e8aa1d,vi Kivity <avi@cloudius-systems.com>, 2013-01-11 18:36:55 +0200, , build effective make clean,,
7911,e8b8a86b671b38f79ff985980bf161b75341f69c,vi Kivity <avi@cloudius-systems.com>, 2013-01-11 18:31:13 +0200, , build quiet build boot.bin,,
7912,7436e2325c66c2f7c6e0750f3c84f1628edbc9cd,vi Kivity <avi@cloudius-systems.com>, 2013-01-11 17:25:13 +0200, , build add explicit dependency test.so file otherwise make deletes intermediate file cause spurious rebuilds,,
7913,f4ee9f6558d450e1969c79a11d9195f77ccf8e08,vi Kivity <avi@cloudius-systems.com>, 2013-01-11 17:22:50 +0200, , merge branch master github.com avikivity osv,,
7914,ed9a582b318d2d02abdddbf10f1155cfae44e2a4,vi Kivity <avi@cloudius-systems.com>, 2013-01-11 17:21:35 +0200, , script reformat run script break long line,,
7915,072df1fd7e96102e7c715f5dfa245d7e0b7fc40a,vi Kivity <avi@cloudius-systems.com>, 2013-01-11 17:20:33 +0200, , script boot disk based image cut boot time dramatically,,
7916,888aec31e2fee594122bb95bec3fe6e6a9c21cfc,vi Kivity <avi@cloudius-systems.com>, 2013-01-11 17:15:59 +0200, , boot add mbr based mini bootloader,,
7917,248008c98ca9a6416ab2e0a84596d6dc69a25463,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-11 08:57:53 +0100, , enable real fcntl implementation,,
7918,479fa15ffa0791196f587a607f4887f7944cab52,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-11 08:53:16 +0100, , enable easy filesystem entry point,,
7919,85a12aa299eebf79b826b1f9f5097b1278354827,vi Kivity <avi@cloudius-systems.com>, 2013-01-10 23:42:30 +0200, , pthread add pthread_attr_ stub,,
7920,fec5531b351c831eadaa4e047194008b783d76b4,vi Kivity <avi@cloudius-systems.com>, 2013-01-10 23:28:22 +0200, , libc fix strtol instead using variable value used name even name kind bug,,
7921,0238311fc57c2c1c657e7301a952e9625708b4e9,vi Kivity <avi@cloudius-systems.com>, 2013-01-10 23:06:52 +0200, , mman implement mmap64,,
7922,1a9c34ec517c48529f8ce600c7a60567adc4f0a2,vi Kivity <avi@cloudius-systems.com>, 2013-01-10 23:06:35 +0200, , mmap implement support mapping file,,
7923,31c575e94e7c29a74ebc2e023eadaa61bf553dfb,vi Kivity <avi@cloudius-systems.com>, 2013-01-10 23:05:25 +0200, , file fix use free since file file open file file file must free use dup operate clone,,
7924,49e7783964e143e670a40dcf746fa78b8edde760,vi Kivity <avi@cloudius-systems.com>, 2013-01-10 22:28:56 +0200, , mempool fix free null,,
7925,59707800d7a6e9becb8a15a60e4e4578f4fe5696,vi Kivity <avi@cloudius-systems.com>, 2013-01-10 22:28:13 +0200, , vfs implement lseek64,,
7926,3ff9a27eaf2a8e6696016d97f0e02b63d5c7d316,vi Kivity <avi@cloudius-systems.com>, 2013-01-10 22:18:16 +0200, , string implement __strdup,,
7927,b2a0a78885fff87120e6ca2ec1c3f3e94aa36a1f,vi Kivity <avi@cloudius-systems.com>, 2013-01-10 22:16:22 +0200, , mempool implement calloc,,
7928,197a08265664c5fd97597cec2cc5bdec75fe0308,vi Kivity <avi@cloudius-systems.com>, 2013-01-10 22:10:14 +0200, , runtime stub fcntl nothing yet used cloexec meaningless,,
7929,6193e90e4113b21295a3c64659323641917aefc9,vi Kivity <avi@cloudius-systems.com>, 2013-01-10 22:05:44 +0200, , vfs implement __xstat64 __fxstat64,,
7930,b04453fcdc1c897134e00049ae77aeb60c775e7c,vi Kivity <avi@cloudius-systems.com>, 2013-01-10 21:52:30 +0200, , merge branch master github.com avikivity osv conflict libc fd.cc __xstat change obsoleted upstream open64 moved vfs main.c,,
7931,cf7d4d5e8d44ebc85151129a9912b7442695bde4,vi Kivity <avi@cloudius-systems.com>, 2013-01-10 21:41:58 +0200, , implement open64,,
7932,7e8cf61d559f826d62e78a4f2a9f217d6c9ac6fe,vi Kivity <avi@cloudius-systems.com>, 2013-01-10 21:38:02 +0200, , elf clear .bss aligned size mmap neglected clear memory end read data beginning anonymous memory variable sat would initialized correctly,,
7933,5accc7cff4734d80b52a79b0f96c650946f0277f,vi Kivity <avi@cloudius-systems.com>, 2013-01-10 21:02:26 +0200, , minimal st_mode stat could better waiting vfs revamp anyway,,
7934,b04a32bcf3081b87b50d081d024303112542795b,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-10 19:59:33 +0100, , add ramfs real,,
7935,a355087ece4502afa04fbd62aaca7a250f1d87ee,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-10 19:49:17 +0100, , disable vfs test seems break actual jvm execution reason,,
7936,88579ed39ee38303e2195960d4c9b8741bc08881,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-10 19:39:15 +0100, , add devfs device layer also based prex code,,
7937,47ec18e174170345dcfcbe6d1caa272b1cfa11ac,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-10 14:08:57 +0100, , import prex 0.9.0 vfs various change fit osv environment also includes ramfs memory full filesystem bootfs rewritten simple unpacker ramfs class modified wrap vfs instead abstract subclass,,
7938,6d94ef8ead371a423211a68e249fa415d40f7278,hristoph Hellwig <hch@cloudius-systems.com>, 2013-01-10 18:00:08 +0100, , replace strncmp implementation correct one openbsd using recently commited strncmp broke vfs path lookup,,
7939,697d52c51c557599def4a8a2bacaf7baf2d1d4d8,vi Kivity <avi@cloudius-systems.com>, 2013-01-10 15:20:45 +0200, , file implement fclose,,
7940,31d3b9f456f68bc55faac497987cf5c5b12a5088,vi Kivity <avi@cloudius-systems.com>, 2013-01-10 15:20:31 +0200, , implement close,,
7941,91d79a1aa8aeb8602305e3b7fc4e3edd3ac0f3dc,vi Kivity <avi@cloudius-systems.com>, 2013-01-10 15:08:38 +0200, , string implement strncmp,,
7942,55376a1f16b45cb598b2120aa93ee968ad577b21,vi Kivity <avi@cloudius-systems.com>, 2013-01-10 15:05:25 +0200, , implement read,,
7943,a533b4bc4948c6b8f143eb9607ea4b0bf1b1197f,vi Kivity <avi@cloudius-systems.com>, 2013-01-10 14:59:04 +0200, , file implement fgets,,
7944,81a609dfb2ebd7534506ff5cdc6f0ef2bbf9f896,vi Kivity <avi@cloudius-systems.com>, 2013-01-10 14:43:56 +0200, , sched fix corruption context switch release build compiler hoist computation current wrmsr change base corrupting insert barrier fix,,
7945,27b3a5a0ac9e53940735aac95f9a432e8d1f1196,vi Kivity <avi@cloudius-systems.com>, 2013-01-10 14:43:28 +0200, , barrier support start simple compiler barrier,,
7946,99ea16b3ecd2eed4cd3045b999702115713438cd,vi Kivity <avi@cloudius-systems.com>, 2013-01-10 11:54:36 +0200, , x64 fix one stack alignment harmless,,
7947,36dc1d06343c5552cbda2049a8833cfc3838cfbd,vi Kivity <avi@cloudius-systems.com>, 2013-01-10 11:37:47 +0200, , file overide file unlike glibc data type file opaque defined _io_file libio.h glibc inlines actually use must use structure subclassing _io_file unbreaks mode release build,,
7948,b9d0bb0b3d3e255df7ae8b674de7104603061477,vi Kivity <avi@cloudius-systems.com>, 2013-01-10 11:34:40 +0200, , merge branch master github.com avikivity osv,,
7949,fd3dcf954b24412a96a351c4b0961f68e00a23bc,vi Kivity <avi@cloudius-systems.com>, 2013-01-10 11:32:19 +0200, , elf ignore eh_frame segment pt_gnu_eh_frame segment contained within pt_load segment need loaded moreover load segment align page boundary overwrites previous content doe serious damage small object like tst dir.so overwriting main function fix ignoring eh_frame segment libunwind later discover iterating object phdrs,,
7950,f4f5ad45db36d3dddf95bdfdebeb3cc7f6569967,or Laor <dor@cloudius-systems.com>, 2013-01-10 00:53:14 +0200, , merge branch master github.com avikivity osv master github.com avikivity osv bootfs add jar jvm bootfs switch traditional file layout elf reduce debug noise readme document osv syms mempool fix corruption almost page sized object,,
7951,9d0943ec1c9d4d262174db0e752d97dff5820e7d,or Laor <dor@cloudius-systems.com>, 2013-01-10 00:52:27 +0200, , add virtio config space access function according spec,,
7952,274e586e9b91c347d99050d6df0301c123e9aeb4,vi Kivity <avi.kivity@gmail.com>, 2013-01-09 19:12:28 +0200, , bootfs add jar jvm,,
7953,0275dfc6dfca421a263b50fcd0c4af120c4948cf,vi Kivity <avi.kivity@gmail.com>, 2013-01-09 19:04:14 +0200, , bootfs switch traditional file layout mirror jre file layout closely otherwise get confused,,
7954,65552c8a21fe38d6147532a14ed056db3dad20c9,vi Kivity <avi.kivity@gmail.com>, 2013-01-09 18:47:31 +0200, , elf reduce debug noise,,
7955,03ad0513be2d59fb7974cde37c7bce4a78323039,vi Kivity <avi.kivity@gmail.com>, 2013-01-09 18:10:18 +0200, , merge branch master github.com avikivity osv,,
7956,36348a4ee474a7954d6488e8df1f8c7497d49df2,vi Kivity <avi.kivity@gmail.com>, 2013-01-09 18:09:12 +0200, , readme document osv syms,,
7957,b29b68d652b7d0a164ddc4abeb13d801c0a351ce,vi Kivity <avi.kivity@gmail.com>, 2013-01-09 18:02:58 +0200, , mempool fix corruption almost page sized object free last object page free page removing pool page list however page free object present free page list causing corruption condition happen exactly one object page simultaneously last allocated last freed object,,
7958,9506b15e8d120fdc6869ba8be26c6126857936b8,or Laor <dor.laor@gmail.com>, 2013-01-09 17:56:26 +0200, , merge branch master github.com avikivity osv master github.com avikivity osv mkbootfs remove errant print build quiet mkbootfs invocation script support multiple object running image elf store object list area easily accessible debugger printf implement zero fill libc import qsort freebsd,,
7959,043813465755463357e4772ef47ed0a3c55a0c01,or Laor <dor.laor@gmail.com>, 2013-01-09 17:52:00 +0200, , fix build instruction add git submodule init use right flag autoreconf,,
7960,44c7e72628d1096b3253cad629443adfbcd35031,vi Kivity <avi.kivity@gmail.com>, 2013-01-09 17:37:11 +0200, , mkbootfs remove errant print,,
7961,c5d2a6af59c3e1300682c4578bf0c448c572c5ee,vi Kivity <avi.kivity@gmail.com>, 2013-01-09 17:34:57 +0200, , build quiet mkbootfs invocation,,
7962,1bdb41fafe5506ba5d5c87b64773a5c730c114d0,vi Kivity <avi.kivity@gmail.com>, 2013-01-09 17:31:52 +0200, , merge branch master github.com avikivity osv,,
7963,7336166065abc6eb01a77c9e40e4ef5288bb4dcf,vi Kivity <avi.kivity@gmail.com>, 2013-01-09 17:29:59 +0200, , script support multiple object running image since loading multiple object need load symbol table base address longer static esp started loading mulitple payload need read image new command added osv syms try locate symbol table anything loaded stage,,
7964,fa0826a1a7dfc646bbb0ac01dd5aade835722cc5,vi Kivity <avi.kivity@gmail.com>, 2013-01-09 17:29:03 +0200, , elf store object list area easily accessible debugger since loading many object need make accessible debugger load symbol table,,
7965,a2090eeeeabaceb27fe1a48e0130a0401b1097f3,vi Kivity <avi.kivity@gmail.com>, 2013-01-09 16:50:42 +0200, , printf implement zero fill 016lx,,
7966,506d5ebbdf400e64efc453510aa1673829594c87,vi Kivity <avi.kivity@gmail.com>, 2013-01-09 16:42:13 +0200, , libc import qsort freebsd,,
7967,eca6bb8e7b5db48ce053e5f83e021dc07f492ba6,hristoph Hellwig <hch@lst.de>, 2013-01-09 14:17:26 +0100, , basic readdir support,,
7968,e18a0da5b719f82208cc8d127b6cc7185d59f94a,vi Kivity <avi.kivity@gmail.com>, 2013-01-09 14:39:07 +0200, , merge branch master github.com avikivity osv,,
7969,3804e28933d7d6b6aecdb657113449a074820432,vi Kivity <avi.kivity@gmail.com>, 2013-01-09 14:37:09 +0200, , libc real mmap munmap implementation,,
7970,c6f28d0554bad3cd36919d04de7392ad336efaa6,vi Kivity <avi.kivity@gmail.com>, 2013-01-09 14:15:04 +0200, , mmu implement unmap,,
7971,138f394206d564ba609242a0f0e5af1379ce6ad8,vi Kivity <avi.kivity@gmail.com>, 2013-01-09 14:03:57 +0200, , mmu evacuate address range installing vma,,
7972,5ab7dba3fad68fdedb3aa513e86ca9fa35de7c8b,vi Kivity <avi.kivity@gmail.com>, 2013-01-09 13:37:47 +0200, , mmu add reserve reserve vma range later use useful implement mmap hint two step algorithm reserve range overwrite real mmap,,
7973,787e773cb16648e4640e7f13aca953da91006e99,vi Kivity <avi.kivity@gmail.com>, 2013-01-09 13:15:00 +0200, , mmu switch vma start end representation simpler addr addr size splitting merging,,
7974,d5ea29b6b306fd42e63f42eef498f703376c203e,hristoph Hellwig <hch@lst.de>, 2013-01-09 11:43:41 +0100, , add dir test,,
7975,3f1bb94a09ab6190e9f93d959760c4922d851cf1,hristoph Hellwig <hch@lst.de>, 2013-01-09 11:42:27 +0100, , implement perror make strerror least print numerical errno,,
7976,595f6ae268f6ded1ba6773a214f71d8f28abee23,hristoph Hellwig <hch@lst.de>, 2013-01-09 11:41:56 +0100, , implement put,,
7977,30a36c0f669110461d2bcc069dde1d8c18a623b7,hristoph Hellwig <hch@lst.de>, 2013-01-09 11:09:27 +0100, , implement stub version closedir readdir readdir_r,,
7978,d1b0470beee2860d841cb2e8902d8a303d71336d,hristoph Hellwig <hch@lst.de>, 2013-01-09 09:19:25 +0100, , update readme,,
7979,205e70d9f8442c06df1b291ac79fdc75c32e9a41,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 22:45:46 +0200, , build use openjdk binary header submodule,,
7980,7ea2cf7cb0d0336cc0196fb8f60cffab70da84cd,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 22:37:36 +0200, , add openjdk.bin repository containing java version build suggested christoph,,
7981,1937c02e125f406df399604ea1ac72a04b9e56f5,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 19:18:34 +0200, , script add debugger command dump free memory heap gdb osv heap,,
7982,2a26a0edc79371a0c5b2202c3768552a55353b01,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 17:36:06 +0200, , merge branch master github.com avikivity osv,,
7983,d7ee49a933751158812157a37711658148aa2a0e,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 17:34:06 +0200, , align stack abi requires stack aligned byte sse used make fix jvm assembler faulting,,
7984,0bbee4b0fdef3a7ba80848b2408fff10beb7bf68,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 17:03:14 +0200, , string implement strdup,,
7985,c7f6f5919256a064b773bfa6df562302e2e2c459,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 17:00:28 +0200, , elf run global constructor loading object,,
7986,f98800ae45fb999bbd6eee335468c4c476e07857,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 17:00:10 +0200, , bootfs add libzip.so,,
7987,bc8393289f82f9cd32fbb17f3383b06c8c876989,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 16:32:11 +0200, , string implement strncasecmp,,
7988,caee3af45a3ccd73dfe3f9dd6a136ad105213ee7,hristoph Hellwig <hch@lst.de>, 2013-01-08 14:30:12 +0100, , improve payload build add variable possible payload file reactive fixed quiet build,,
7989,fca3efeb7d6fb4fdde6c05d4ef2b2713b964f23e,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 16:07:09 +0200, , libc add mprotect stub,,
7990,9ddd8d7e23cdb09f06d293827bd68dce4c520fe6,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 16:04:27 +0200, , build push libc object makefile,,
7991,f928a0b0a823132195b52da3abfcb8e28790257c,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 15:57:02 +0200, , pthread fix signature,,
7992,d39cd37029769efd0a83742c3a51fc9ce16581a5,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 15:54:27 +0200, , pthread implement condition variable,,
7993,ca83c184dac7bf9e3a89ac3ba4035ade571eb6de,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 15:54:01 +0200, , pthread add from_libc mutex helper convert libc mutex osv mutex,,
7994,1144f041e6b3bf689224ac14a8d19d98ebc37930,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 15:27:52 +0200, , build add bootfs.bin depdendency hello world.so,,
7995,5effc2cb9ee82dd53366618f3f30bf6fffd640c9,hristoph Hellwig <hch@lst.de>, 2013-01-08 14:06:21 +0100, , revert quiet building file reason work also make sure clean file make clean get noticed,,
7996,4af064f143905a816c85b2242ae46891e3a85347,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 15:01:20 +0200, , merge branch master github.com avikivity osv,,
7997,5c3c5959e5bb669cb86e4c757c86d5e367615221,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 14:59:57 +0200, , memory reserve space page size pool one meant object pool size half page initialized,,
7998,6d52c8e9d460739351debe4c481a07fafde4737e,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 14:59:42 +0200, , implement getcwd,,
7999,f190fd86e3f90adb5c6069d8a1ebcea928a61174,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 14:31:41 +0200, , stub mkdir,,
8000,21ceb19c83512970aedfc836f824d7789d9ab3f7,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 14:26:22 +0200, , libc implement getpwuid_r,,
8001,9c34577d361be4d3165b3802e2b02dd15de97661,hristoph Hellwig <hch@lst.de>, 2013-01-08 12:47:57 +0100, , add support building load test payload add new hello_world test payload used test osv functionality fine grained binary loaded remains hardcoded loader.cc still default libjvm.so,,
8002,bb0426cb22be5c1113bfa3b81ba589788d07a438,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 13:35:19 +0200, , libc implement geteuid,,
8003,0fdb45ddb5dd2a14dea4646b00439cde13495619,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 13:33:58 +0200, , pthread fix implemented wrong prototype,,
8004,fba6219a67c4dd5c0b986f126de1b810083f9adb,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 13:28:21 +0200, , libc implement getrlimit rlim_nofile setrlimit,,
8005,8dc2f4ae88ded8610abe9b83349deedb9061ec3a,hristoph Hellwig <hch@lst.de>, 2013-01-08 12:25:14 +0100, , implement printf forward formatted string debug allows bringing trivial hello world test payload,,
8006,c10d65415f1afefce48af91fda118e50993916c8,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 13:24:54 +0200, , string implement strstr,,
8007,c76cbda171f39d34273d4476794dfa41de1e21b3,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 13:19:23 +0200, , libc implement confstr,,
8008,414a7a07ddb1d5bdef064d44e3904c3e36497e84,hristoph Hellwig <hch@lst.de>, 2013-01-08 12:10:55 +0100, , factor starting jvm separate helper method,,
8009,257437dc1c79efaff533d789ab4aba9cf9a61a59,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 13:11:08 +0200, , merge branch master github.com avikivity osv,,
8010,df5545c31cad7427734431586943dc5126a4e1d7,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 13:05:15 +0200, , implement write,,
8011,21947380d96bd3d69cda964ce1b816b50914bd14,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 13:04:49 +0200, , add get_fd helper,,
8012,711ca3c637db4650be5f176f0422ac6a83e072ad,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 13:04:16 +0200, , add stdio,,
8013,2e9d7d6b480a2c8d7990cadd1b6e2bf53a39e82b,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 13:02:59 +0200, , add method file_desc make usable,,
8014,19a3c5ec6fe26c4a8ffa8319221a68a081d58f18,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 13:01:31 +0200, , add console file usedful implementing stdio,,
8015,101e49e0a5717e50dd1ece8c4e32ab11380f1c64,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 12:59:55 +0200, , add write callback,,
8016,1d2717ea165c85b78a4d7d90346d21402eb85b17,hristoph Hellwig <hch@lst.de>, 2013-01-07 17:36:45 +0100, , make default quiet build mode actually quiet,,
8017,fb084825a28462dba050454c92b208dd3ac70d6a,hristoph Hellwig <hch@lst.de>, 2013-01-07 15:35:41 +0100, , fix invocation make clean already clean tree xargs find object file add argument complain lack argument,,
8018,9edd163ca1abea8bbc997f55942415178b0015ad,hristoph Hellwig <hch@lst.de>, 2013-01-07 16:22:16 +0100, , remove bootfs.bin make clean,,
8019,b08ecdba83cd29172611cfa365c9d9f0ebd16cf0,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 12:18:07 +0200, , libc partial getrlimit implementation,,
8020,3894df7e2e71ef0288c4698b7f68495b2cacd565,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 12:06:04 +0200, , libc implement sigfillset,,
8021,f0d7ab587754b8a730dbe5faf7c3023c8a3c8f31,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 12:01:56 +0200, , dlfcn fix dlsym unresolved symbol find symbol return null occurs libjsig symbol need loaded,,
8022,993bda0daec9ca1d6fe6637ca8ec209ae33354fa,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 11:42:14 +0200, , pthread implement sigprocmask,,
8023,c38729bfd393f6d0d1a5c5224057a30479424dad,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 11:41:53 +0200, , libc signal support,,
8024,164df10da3d2523140337f41e4170b6e915ea618,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 11:00:42 +0200, , libc implement opendir,,
8025,766cbb5399a6492c66a385990e04202fb7c4d9f5,vi Kivity <avi.kivity@gmail.com>, 2013-01-08 10:49:12 +0200, , libc implement stat,,
8026,074f171cab5c3b3fc7dfc5d293f6ce3a0d4b3d4a,vi Kivity <avi.kivity@gmail.com>, 2013-01-07 23:29:13 +0200, , merge branch hch add readme hch cleanup type github.com avikivity osv,,
8027,10e0043f7ae14b42bf859bb5c8e811798d468ef3,vi Kivity <avi.kivity@gmail.com>, 2013-01-07 22:46:46 +0200, , add libunwind dependency,,
8028,35cb4f4b0efa90bde5c694569b39edc3b2289a39,vi Kivity <avi.kivity@gmail.com>, 2013-01-07 22:03:09 +0200, , string implement stpcpy,,
8029,c5e0895d79f939d0095c2dad8b461aa24125af29,vi Kivity <avi.kivity@gmail.com>, 2013-01-07 21:56:58 +0200, , printf fix precision captured precision function either return inline precision argument via value try update set default precision since captured already update effect change code return precision function store fragment instead,,
8030,1da532bed13eb790f6b7d6dec4ed5825213149d4,vi Kivity <avi.kivity@gmail.com>, 2013-01-07 21:29:20 +0200, , libc implement strtol,,
8031,5237a062f3add4fe280784d89d19352918db4427,vi Kivity <avi.kivity@gmail.com>, 2013-01-07 21:29:02 +0200, , libc add ctype function,,
8032,db7ff2195b136909bc562a9ef85b597a7b0b522f,vi Kivity <avi.kivity@gmail.com>, 2013-01-07 21:28:01 +0200, , runtime export __ctype_b_loc libstdc semistandard function locale implementation,,
8033,af870ef9158e7819552bd8a9662d3fa5dab0c4c3,vi Kivity <avi.kivity@gmail.com>, 2013-01-07 21:26:36 +0200, , build emit .tdata section pt_load segment ensures initialized thread local variable loaded memory image usable,,
8034,3eb11cfb6a9eb562b906e9378225594c3c541843,hristoph Hellwig <hch@lst.de>, 2013-01-07 18:42:26 +0100, , add readme file document build run osv,,
8035,e1aea0b7e4ec1c02544112984f05f01e723c2266,hristoph Hellwig <hch@lst.de>, 2013-01-07 17:22:35 +0100, , remove duplicate typedefs type,,
8036,01b059e18d3814afda1900b52d67d605b60ff04f,vi Kivity <avi.kivity@gmail.com>, 2013-01-07 16:41:01 +0200, , dlfcn implement dlsym,,
8037,3cb491273caa21876711e9b67d01aac33fee61c9,vi Kivity <avi.kivity@gmail.com>, 2013-01-07 16:33:54 +0200, , pthread implement mutex_lock unlock trylock,,
8038,0d0a82b1a271964cc829067a8240a6b17244ea25,vi Kivity <avi.kivity@gmail.com>, 2013-01-07 16:28:20 +0200, , mmu allow mapping short file loading small library libverify.so happens since legal allow,,
8039,0505ea4fc0c4b4ed7566bf997f28b0e6c57b8d7d,vi Kivity <avi.kivity@gmail.com>, 2013-01-07 16:27:25 +0200, , bootfs add file change directory structure little conform jvm expecations removing server libjvm.so,,
8040,bde5af4fa16c836f9369ce5ca8cc9eef2abc4fbb,vi Kivity <avi.kivity@gmail.com>, 2013-01-07 16:26:59 +0200, , sprintf snprintf add missing terminator,,
8041,895c30a5bde5e0176ec6e025797c881ae1fb61ec,vi Kivity <avi.kivity@gmail.com>, 2013-01-07 16:26:12 +0200, , elf use path opening elf object dlopen file well change dt_needed handling add path,,
8042,ae1387046a139d5a7b408c3af4154701f418b148,vi Kivity <avi.kivity@gmail.com>, 2013-01-07 15:45:57 +0200, , build include exception handling record executable needed exception support,,
8043,422281e6675f44a6a45aad8510abed0bf3b44f51,vi Kivity <avi.kivity@gmail.com>, 2013-01-06 17:38:36 +0200, , libc implement snprintf,,
8044,91a0538eac3c666a0c381a2b10bc268577018c59,vi Kivity <avi.kivity@gmail.com>, 2013-01-06 17:36:03 +0200, , libc implement strchr,,
8045,70530312562cae4e1c90e00fee96844e70ddd4ca,vi Kivity <avi.kivity@gmail.com>, 2013-01-06 17:30:36 +0200, , libc implement getenv,,
8046,3c3f87c0c911755643193bbda918d176477e0609,vi Kivity <avi.kivity@gmail.com>, 2013-01-06 17:28:51 +0200, , libc implement sprintf,,
8047,9672e5dd97c70b11f948f0298ff153c53a99923d,vi Kivity <avi.kivity@gmail.com>, 2013-01-06 17:24:01 +0200, , libc implement strrchr,,
8048,958c5c5e96c385560d9b595802c63a2e739e4b49,vi Kivity <avi.kivity@gmail.com>, 2013-01-06 17:12:41 +0200, , libc fix strcpy implemented strcat accidentally,,
8049,e02797df909c686fe2fcf1afca15883cbe071a68,vi Kivity <avi.kivity@gmail.com>, 2013-01-06 17:12:18 +0200, , libc implement realpath assumes symlinks cwd,,
8050,142800eb9e13919daaa39f5a2604166a72447a2c,vi Kivity <avi.kivity@gmail.com>, 2013-01-06 16:26:09 +0200, , dlfcn fix dl_iterate_phdr returning wrong name pathname soname,,
8051,daf005b13aecbb28f6121d2004c4478ec28e4d61,vi Kivity <avi.kivity@gmail.com>, 2013-01-06 16:25:42 +0200, , elf store add accessors path name object,,
8052,f814c46fe2fd5c535e29cdca6badd4e5b4701d45,vi Kivity <avi.kivity@gmail.com>, 2013-01-06 16:14:06 +0200, , dlfcn implement dl_iterate_phdr,,
8053,c31018816de1cbce232d3987b6a7e8a467303a41,vi Kivity <avi.kivity@gmail.com>, 2013-01-06 16:13:20 +0200, , elf add accessors get program module list phdrs,,
8054,5554b25be39b2c8039e89068c7c980f52409d206,vi Kivity <avi.kivity@gmail.com>, 2013-01-06 16:12:54 +0200, , printf implement forgotten,,
8055,dc6c987089ebcfb9128d6b977699ca2ef6087ebf,vi Kivity <avi.kivity@gmail.com>, 2013-01-06 14:25:16 +0200, , libc implement strcpy,,
8056,106b42af6e2e5ce6def61ebe175a739d29f71861,vi Kivity <avi.kivity@gmail.com>, 2013-01-06 14:21:33 +0200, , pthread implement,,
8057,aaf1cf7e6bb8b65d0dd54595af768e1df79a7246,vi Kivity <avi.kivity@gmail.com>, 2013-01-06 14:07:13 +0200, , elf fix lookup returning undefined symbol looked symbol undefined ignore fixe problem module binding undefined symbol another,,
8058,5eacc9005d6aba0c37c3abd1cb551409dd69dbc4,vi Kivity <avi.kivity@gmail.com>, 2013-01-06 13:58:36 +0200, , mmu properly zero anonymous memory fix initialization failing system_reset vm_created left set,,
8059,aa7fa02b365db4dfbbbf3d44ed63a200848746ee,vi Kivity <avi.kivity@gmail.com>, 2013-01-06 13:39:56 +0200, , merge branch master github.com avikivity osv,,
8060,fb929eca03498d17032532f5c294640d33b5f318,vi Kivity <avi.kivity@gmail.com>, 2013-01-06 13:39:28 +0200, , libc implement gettimeofday,,
8061,c6dd263280aee118543730ed8a08132633a608d8,vi Kivity <avi.kivity@gmail.com>, 2013-01-06 13:29:49 +0200, , clock add kvmclock driver,,
8062,a6861106c6371209e84ccc1f410bd6f8b51afba7,vi Kivity <avi.kivity@gmail.com>, 2013-01-06 13:31:14 +0200, , type add signed fixed width type,,
8063,6d6154c21e511ff50e15652451255fe7f16c173d,vi Kivity <avi.kivity@gmail.com>, 2013-01-06 13:30:57 +0200, , mmu export virt_to_phys,,
8064,6a47b484b17104f1cb6b64e4ec86c47a2e4f9d1c,vi Kivity <avi.kivity@gmail.com>, 2013-01-06 13:28:52 +0200, , x64 add rdtsc accessor,,
8065,6e90886011b70a3f5c00484082ec4123863b0e04,or Laor <dor.laor@gmail.com>, 2013-01-04 01:31:14 +0200, , set virtio driver state init,,
8066,bc94b78e411f5ac7d3810893e2265e8bf2a250f6,or Laor <dor.laor@gmail.com>, 2013-01-04 01:29:59 +0200, , add virtio header definition ring accessor code portion bsd license taken linux uapi matching license clause license directory,,
8067,c35966598dbc35dd71dfdeff61d1d2cc770c9700,or Laor <dor.laor@gmail.com>, 2013-01-04 01:28:50 +0200, , fix bar read write offset addint forgotten base addr,,
8068,934a112b921392f236d7af0a45ce322f17379144,or Laor <dor.laor@gmail.com>, 2013-01-03 18:09:44 +0200, , add virtio license clause requested linux,,
8069,2da48c4da69ddfae95fddaba549bfd4ede86e4d8,or Laor <dor.laor@gmail.com>, 2013-01-03 17:49:10 +0200, , remove unused size variable bar,,
8070,e30b5b5addb587aa762b7439811633fae159c10c,or Laor <dor.laor@gmail.com>, 2013-01-03 17:41:48 +0200, , add bar abstraction retrieve pci device,,
8071,e2b23a061b9e78a03005fb581fe483635ca24ddf,or Laor <dor.laor@gmail.com>, 2013-01-03 16:38:12 +0200, , merge branch master github.com avikivity osv master github.com avikivity osv commits dlfcn implement dlopen elf fail gracefully file found elf return elf_object added add pthread implement pthread_self libc implement sysconf _sc_phys_pages memory count total physical memory memory set free memory boot loader boot set cfi premain environment boot set initial stack allocated memory build link .bss section apic add apic driver mutex add with_lock function script run without sdl display main auto load gdb script sched switch main thread stack original stack main add thread test case sched add simple scheduler msr add rdmsr msr add missing inline wrmsr elf add accessor segment info ...,,
8072,8182d9cab9047791e124a2e92d62d644e16ea979,vi Kivity <avi.kivity@gmail.com>, 2013-01-03 16:23:09 +0200, , dlfcn implement dlopen,,
8073,538518c4cf0a6f9e459d9c3a065e9a28154f5e2e,vi Kivity <avi.kivity@gmail.com>, 2013-01-03 16:22:30 +0200, , elf fail gracefully file found,,
8074,3a2f86330b111dfbb1a088f81006c2b3883d768d,vi Kivity <avi.kivity@gmail.com>, 2013-01-03 16:20:02 +0200, , elf return elf_object added add needed dlopen also export program object reason,,
8075,54fe04d8914a95af71aecb19cce0389ae8bf0ae2,vi Kivity <avi.kivity@gmail.com>, 2013-01-03 15:49:17 +0200, , pthread implement pthread_self,,
8076,9ec9410527dc12ef25cec5c21b05e34ef1a22120,vi Kivity <avi.kivity@gmail.com>, 2013-01-03 15:45:34 +0200, , libc implement sysconf _sc_phys_pages,,
8077,11b4d732df42be980de636ee9898da40e4740de2,vi Kivity <avi.kivity@gmail.com>, 2013-01-03 15:45:11 +0200, , memory count total physical memory,,
8078,990ae584778789b8e636452a8aff85dbb27b50e1,vi Kivity <avi.kivity@gmail.com>, 2013-01-03 15:32:03 +0200, , memory set free memory boot loader currently free memory pool consists statically allocated buffer replace dynamic query amount memory actually booted currently limited 1gb since mapped anything else yet,,
8079,9e280b4b8be97ede6420e30d24d77034cbdcd5f6,vi Kivity <avi.kivity@gmail.com>, 2013-01-03 15:30:30 +0200, , boot set cfi premain environment terminate stack gdb get confused trying unwind,,
8080,4f434a1c2faade23e5cac95d905fa219bed5bf14,vi Kivity <avi.kivity@gmail.com>, 2013-01-03 15:28:52 +0200, , boot set initial stack allocated memory multiboot stack guaranteed anywhere particular use ,,
8081,14a18cb6be04e7a2056d9eb07d56d90c4930d18e,vi Kivity <avi.kivity@gmail.com>, 2013-01-03 15:20:47 +0200, , build link .bss section link section resulting cleared,,
8082,32f0362e7ff21097a153f086785072d3196d8572,vi Kivity <avi.kivity@gmail.com>, 2013-01-03 11:00:02 +0200, , apic add apic driver x2apic,,
8083,3d435cc9688b36ef887d9210bb0dd2f0eaab7750,vi Kivity <avi.kivity@gmail.com>, 2013-01-02 20:42:10 +0200, , mutex add with_lock function function allows executing block code lock guarantee exit block release lock example with_lock my_mutex return with_lock my_spinlock return my_list.size ,,
8084,f436fb6636628e0a047231a8556de16922065059,vi Kivity <avi.kivity@gmail.com>, 2013-01-02 20:22:41 +0200, , script run without sdl display longer put useful information vga device,,
8085,b03b5735e9d42c32d3399065db9f859e7492177e,vi Kivity <avi.kivity@gmail.com>, 2013-01-02 20:09:01 +0200, , main auto load gdb script,,
8086,9bcbd965dc7ef0f4d79f3d0302444b72b4b42a1f,vi Kivity <avi.kivity@gmail.com>, 2013-01-02 17:48:08 +0200, , sched switch main thread stack original stack way everyone running similar sized stack theoretically main thread destroyed well,,
8087,7c2f918650df9f918fd43080f17723ae58d5c7cd,vi Kivity <avi.kivity@gmail.com>, 2013-01-02 16:44:03 +0200, , main add thread test case,,
8088,4514442094909504ca9c1d70c02cf3d0e7a91dac,vi Kivity <avi.kivity@gmail.com>, 2013-01-02 16:43:03 +0200, , sched add simple scheduler uniprocessor non preemptive round robin,,
8089,54b23484b442bb3244e296a1b138ce60e1765201,vi Kivity <avi.kivity@gmail.com>, 2013-01-02 16:41:35 +0200, , msr add rdmsr,,
8090,93e2b3607c1027151e0a544662625e52749d2a2e,vi Kivity <avi.kivity@gmail.com>, 2013-01-02 16:41:12 +0200, , msr add missing inline wrmsr,,
8091,4fdcda991199880666297840a6af941aea39f3ea,vi Kivity <avi.kivity@gmail.com>, 2013-01-02 14:54:53 +0200, , elf add accessor segment info,,
8092,4f6a7d346a6523cde4010ea369fafe22da64bdd3,or Laor <dor.laor@gmail.com>, 2013-01-02 11:51:42 +0200, , query bar0 address virtio device,,
8093,1818504a073dad1eb519a2da1b62f93edccc4f52,or Laor <dor.laor@gmail.com>, 2013-01-02 11:51:04 +0200, , fix pci subsystem address add bar0 addr,,
8094,0cfd6d991e9881d4972018cab970f5c9725452b8,vi Kivity <avi.kivity@gmail.com>, 2013-01-02 11:09:48 +0200, , script improve libjvm symbol describe section gdb resolve data object address correctly,,
8095,a6b6db7f708c370e5df139bc44fe9a59cb938515,vi Kivity <avi.kivity@gmail.com>, 2013-01-02 00:07:15 +0200, , mempool fix memory leak pool page become free currently leak pool page unlink free object belonging page pool free list fix per page free list containing object page page placed doubly linked list identify empty page easily drop since local free list point within page,,
8096,40b54b12bf7c553906631c698dfe929203ba874c,vi Kivity <avi.kivity@gmail.com>, 2013-01-01 23:29:47 +0200, , merge branch master github.com avikivity osv,,
8097,587495695bf7b84c54a7e2ebe6ad4fb6091dfb02,vi Kivity <avi.kivity@gmail.com>, 2013-01-01 23:21:26 +0200, , mempool fix corruption freeing pool page kept pool _free pointing freed object naturally thing work well fix nulling pointer however leak rest free list,,
8098,0bedcceeaacaf2acfed14c090351b26a51185111,vi Kivity <avi.kivity@gmail.com>, 2013-01-01 22:35:48 +0200, , mempool repsect minimum object size must large enough hold free_object,,
8099,629a8b58a3c0382a7e3a9f6110524be9aa3ecc06,vi Kivity <avi.kivity@gmail.com>, 2013-01-01 21:58:15 +0200, , mempool format large block header freeing page allocated alloc_page metadata must format header returing free range tree,,
8100,4486fe3bf960b7273df0ba6c28efe436f3eac022,vi Kivity <avi.kivity@gmail.com>, 2013-01-01 19:24:06 +0200, , script compute jvm text address runtime avoids problem multiple jvm version example due update,,
8101,7f097cba59233b8eb607c05a9246083b503ec55a,vi Kivity <avi.kivity@gmail.com>, 2013-01-01 19:01:43 +0200, , script convert gdb script python give power maintainable,,
8102,d55363eac39b3731a6d5d5c36a1f8ab09b21d706,vi Kivity <avi.kivity@gmail.com>, 2013-01-01 17:32:17 +0200, , boot align stack bit mode,,
8103,8715112a881134bc9f0785c7b59c00389bc680f5,or Laor <dor.laor@gmail.com>, 2013-01-01 16:38:14 +0200, , add pci bus mastering option,,
8104,96dc1af97064f83cd83240b90f16fc3c95750ef8,or Laor <dor.laor@gmail.com>, 2013-01-01 16:26:32 +0200, , print subsystem debug,,
8105,fc3f7fdc0ac90c6873e77bdc21b6a600b258ba9a,or Laor <dor.laor@gmail.com>, 2013-01-01 16:13:08 +0200, , merge branch master github.com avikivity osv master github.com avikivity osv runtime remove dummy operator delete,,
8106,a9afe9637a8980aa2800cff118fa4e5f01d7eebb,or Laor <dor.laor@gmail.com>, 2013-01-01 16:12:44 +0200, , add generic virtio driver,,
8107,fcd574054468d82e0cf9abd0422b89343c1d4dbf,or Laor <dor.laor@gmail.com>, 2013-01-01 16:09:55 +0200, , add various basic pci device function revision subsystem bus slot func,,
8108,85d1791b9646062455b068503fc49d9192127279,or Laor <dor.laor@gmail.com>, 2013-01-01 16:07:50 +0200, , add pci_ read write _word function pci definition,,
8109,343f9ec48c5f223455bc05d09e79ce63a938045b,vi Kivity <avi.kivity@gmail.com>, 2013-01-01 12:52:05 +0200, , runtime remove dummy operator delete real thing working already,,
8110,04edef3acc35c6d757dc8da0a8e8f6d05de23562,vi Kivity <avi.kivity@gmail.com>, 2013-01-01 12:22:21 +0200, , merge branch master github.com avikivity osv,,
8111,5f1ec9759c148bb8e017013eee05b66b28856e77,vi Kivity <avi.kivity@gmail.com>, 2013-01-01 12:10:53 +0200, , init enable interrupt,,
8112,1dc811bb9f055746f926e1059ca45eb207cf4556,vi Kivity <avi.kivity@gmail.com>, 2013-01-01 12:09:23 +0200, , init disable pic pic spew spurious interrupt want,,
8113,441d24e367c1892b38cdacbeeb905f895457709b,vi Kivity <avi.kivity@gmail.com>, 2013-01-01 12:08:20 +0200, , x64 switch x2apic mode,,
8114,79d058d01fa1b8885c3dbebc49ced6b6a2d020b2,vi Kivity <avi.kivity@gmail.com>, 2013-01-01 12:07:37 +0200, , x64 add cli sti inline function,,
8115,9120291b67a25f376910219025dea5ad42a0a4b3,vi Kivity <avi.kivity@gmail.com>, 2013-01-01 11:59:45 +0200, , interrupt add support registering interrupt handler,,
8116,c1a44fefd9a84ac831226b66be9aba672744a1b8,vi Kivity <avi.kivity@gmail.com>, 2013-01-01 11:57:01 +0200, , exception fix exception_frame structure since stack top entry appear reverse order,,
8117,3cf22be715f4e4b978ca4a15315f7b877adb5b5f,or Laor <dor.laor@gmail.com>, 2013-01-01 11:38:40 +0200, , merge branch master github.com avikivity osv master github.com avikivity osv pci use using forward inb outb instead writing forwarding function add header common type,,
8118,c606db6d79cdf1406b645ad481b8d16ffb418245,or Laor <dor.laor@gmail.com>, 2013-01-01 11:34:22 +0200, , enumerate device register virtio net example driver,,
8119,f7b9418dc86b19bbfc5929892441c1a716174a0e,or Laor <dor.laor@gmail.com>, 2013-01-01 11:32:02 +0200, , allow device factory iterate set call driver initialization function remove const set data object allow meddle wire code makefile,,
8120,a0f08f4a7d9c5c5c022f88f1e5f945c0858d144b,or Laor <dor.laor@gmail.com>, 2013-01-01 11:30:34 +0200, , add get vid function,,
8121,d425f16f5898843a85076b01bc1492d2ac0be45d,or Laor <dor.laor@gmail.com>, 2013-01-01 11:29:03 +0200, , driverfactory keets set registered driver lookup function access,,
8122,0c7eb036623feefc1bb6f8225595fc51a2f12a7f,or Laor <dor.laor@gmail.com>, 2013-01-01 11:27:46 +0200, , add driver class manage software instance driver opposued device may exist hardware level device driver,,
8123,eb68b2c896952526175296dcb6d68f1db564087d,vi Kivity <avi.kivity@gmail.com>, 2013-01-01 11:06:50 +0200, , exception make idt static,,
8124,905537e87b60de86f79348a1641f65ff04cf8183,vi Kivity <avi.kivity@gmail.com>, 2013-01-01 10:29:25 +0200, , move exception arch specific directory,,
8125,d526eca4bd5c96d813c009f8353dc381ec3637bf,vi Kivity <avi.kivity@gmail.com>, 2013-01-01 10:09:55 +0200, , pci use using forward inb outb instead writing forwarding function,,
8126,79cea8e59e74e9f8b4f13cb58617b04ae265798b,vi Kivity <avi.kivity@gmail.com>, 2013-01-01 10:05:21 +0200, , add header common type,,
8127,1a84c0e8b9c144e18269802c0065464dbede44b4,or Laor <dor.laor@gmail.com>, 2012-12-31 16:44:35 +0200, , rename tiny ifdef,,
8128,e7965d65e645992133f4669076b014dce63f57ae,or Laor <dor.laor@gmail.com>, 2012-12-31 16:41:47 +0200, , rename _drivers _devices,,
8129,dfdf56b520581e675fbe6bda56dea3671d230039,or Laor <dor.laor@gmail.com>, 2012-12-31 16:22:44 +0200, , merge branch master github.com avikivity osv master github.com avikivity osv directory entry cache bootfs create root directory object drop bootfs subdir piece wise path lookup reference count file,,
8130,8d1dd7a3dc8e882630f0f6d9be0192f70aa824b1,vi Kivity <avi.kivity@gmail.com>, 2012-12-31 16:21:35 +0200, , directory entry cache store directory entry hash table future lookup,,
8131,cb09f17d629a0cb55a9b692ccfff74527ad174c7,or Laor <dor.laor@gmail.com>, 2012-12-31 16:21:29 +0200, , enumerate pci device store factory eventually loader dump console debug,,
8132,27c32e959c8a0ed6f483a8870d4319a509272615,vi Kivity <avi.kivity@gmail.com>, 2012-12-31 16:20:30 +0200, , bootfs create root directory object need one object use key cache store filesystem object,,
8133,944c23cbb16816e97ec6da4b6197ff5bf14a67f1,or Laor <dor.laor@gmail.com>, 2012-12-31 16:18:35 +0200, , devicefactroy class enumerates pci device keep set,,
8134,c150a673f1053c6ecb477fac6fabfd70582f2926,or Laor <dor.laor@gmail.com>, 2012-12-31 16:17:44 +0200, , add basic pci device class accessing physical device,,
8135,c3d02155a4c0a420b137da448c0515cb8494097a,vi Kivity <avi.kivity@gmail.com>, 2012-12-31 16:05:26 +0200, , drop bootfs subdir interferes upcoming cache lookup use existing metadata instead look directory,,
8136,0ad5f116300c01e8b8166baa8fe05d6e66f1c872,vi Kivity <avi.kivity@gmail.com>, 2012-12-31 13:46:55 +0200, , piece wise path lookup real filesystems proc immediate target look file incrementally component apply filesystem infrastructure new object introduced dir representing directory lookup operation deferred object,,
8137,94e5a1bea2b9725ae940dfd66a842aaf95f7db76,vi Kivity <avi.kivity@gmail.com>, 2012-12-31 10:23:51 +0200, , reference count file avoid leakage,,
8138,ea8c298f3fe882942b9298c19d2273edb32c8375,vi Kivity <avi.kivity@gmail.com>, 2012-12-31 11:58:00 +0200, , math add floor ceil take short cut using sse 4.1 implementation avoiding coplicated implementation work core higher processor,,
8139,2d040267c54abb0dee3c998e8def86a61f0f362c,vi Kivity <avi.kivity@gmail.com>, 2012-12-30 20:56:44 +0200, , build make output nicer read override make,,
8140,50817778c1eade37c9d72dddcad761d031c713f9,vi Kivity <avi.kivity@gmail.com>, 2012-12-30 17:52:10 +0200, , libc define read errno,,
8141,b1cdb4adbf70510ffd9df30f09f4fe59ffea1fe5,vi Kivity <avi.kivity@gmail.com>, 2012-12-30 17:51:45 +0200, , main set initial thread,,
8142,16b9ad104f89242d2c7474b2fc605ee0aa29f73f,vi Kivity <avi.kivity@gmail.com>, 2012-12-30 17:51:08 +0200, , define thread control block,,
8143,e68682a1fa9cf32349a985a658c7a6aaee189e91,vi Kivity <avi.kivity@gmail.com>, 2012-12-30 17:49:35 +0200, , elf query program header pt_tls needed set initial block,,
8144,5964004f24bc34c4381fdac3e362ee58aba753bc,vi Kivity <avi.kivity@gmail.com>, 2012-12-30 17:50:32 +0200, , build define pt_tls header,,
8145,0816bd23bdc9dade69279fc6158db3b290abfcc9,vi Kivity <avi.kivity@gmail.com>, 2012-12-30 17:49:04 +0200, , x64 add definition model specific register,,
8146,18a8c5dab7b6deb48b8286d8ac7fdc7344117d7d,vi Kivity <avi.kivity@gmail.com>, 2012-12-30 15:41:23 +0200, , libc return enoent open failure,,
8147,143055ad1730d11bbda884417b40bf48bb6fa016,vi Kivity <avi.kivity@gmail.com>, 2012-12-30 15:40:24 +0200, , return nullptr file found exception exception condition,,
8148,774307623e2814ce00c188ea840d4c56e795d2d2,vi Kivity <avi.kivity@gmail.com>, 2012-12-30 15:39:52 +0200, , libc add function setting errno,,
8149,3a8bcab30bca456f7001db632e3eaf27eeb27c7a,vi Kivity <avi.kivity@gmail.com>, 2012-12-30 12:47:27 +0200, , libc add stdio file implementation stub,,
8150,86a3b1a7586d4c6917aec7bce1f0996af2836496,vi Kivity <avi.kivity@gmail.com>, 2012-12-30 12:46:55 +0200, , libc add open stub implementation,,
8151,5f722be732b78b84436bf8a12f84aa971e8bc968,vi Kivity <avi.kivity@gmail.com>, 2012-12-30 12:46:07 +0200, , add root filesystem global variable,,
8152,2004c70150168f9b10dc31703afad2bd27317b34,vi Kivity <avi.kivity@gmail.com>, 2012-12-28 14:57:43 +0200, , build move pthread.cc libc,,
8153,ecbee89bc318f922e1bb263d89950f3be770bb2c,vi Kivity <avi.kivity@gmail.com>, 2012-12-28 14:55:52 +0200, , build add arch x64 include path allows generic code include arch specific code eliding arch x64 prefix,,
8154,5298b92cb0839106a0f9dfce2cd715060fd209d5,vi Kivity <avi.kivity@gmail.com>, 2012-12-28 14:50:32 +0200, , arch remove x86 namespace never build single program containing code two architecture segregating arch specific code separate namespace solving problem however make using arch specific code generic code impossible remove namespace fix,,
8155,ac16755e107495e97f32fbc049ee2600ba79694a,vi Kivity <avi.kivity@gmail.com>, 2012-12-28 14:46:03 +0200, , mempool compute pool count instead hardcoding,,
8156,beb8c6aa8ad47312c9d5acdfa8112d7759c810b7,vi Kivity <avi.kivity@gmail.com>, 2012-12-28 14:45:36 +0200, , add function compiling base log compile time,,
8157,9f215f69ddaa6c3fd33914658606d171ce28e97d,vi Kivity <avi.kivity@gmail.com>, 2012-12-28 13:36:53 +0200, , build whitespace fix,,
8158,e27c454187a7d3a69b45d68bcb8a89cecc16826f,vi Kivity <avi.kivity@gmail.com>, 2012-12-28 13:36:29 +0200, , .gitignore update tree object,,
8159,00f2c3b6bdd4b25a3cdeabeba85e9f02b7c255a2,vi Kivity <avi.kivity@gmail.com>, 2012-12-28 13:35:48 +0200, , build fix rule generated code ctype data.h,,
8160,0a3b0a47457ded9bdfeb108cd9c48f895bfdfc2d,vi Kivity <avi.kivity@gmail.com>, 2012-12-28 13:11:15 +0200, , elf initialize variable shut compiler compiler complains varibles initialized even though inout guarantee initialize anyway,,
8161,296e8a7bd299e55607e948ff62bf39d6c296b42a,vi Kivity <avi.kivity@gmail.com>, 2012-12-28 12:57:17 +0200, , build add release mode make mode release,,
8162,223a07fba28ae86b04a6c5f90d75c4e8b4b3fb42,vi Kivity <avi.kivity@gmail.com>, 2012-12-28 12:51:30 +0200, , build push build product build debug directory,,
8163,1d6df83a008152f55766efda8b79fc9bf0ddb8a4,vi Kivity <avi.kivity@gmail.com>, 2012-12-27 21:27:46 +0200, , build remove junk form accepts argument luckily argument supplied evaluated nothing remove,,
8164,da105cba2800de9cd32e36bcb3e4572824199d2d,vi Kivity <avi.kivity@gmail.com>, 2012-12-27 21:24:11 +0200, , build improve autodependencis wrt deleted file switch allows make ignore deleted file,,
8165,2ac98bf8c906cff6af68caf1e8af8ad635e84eeb,vi Kivity <avi.kivity@gmail.com>, 2012-12-27 21:22:46 +0200, , build use gcc driver build assembly file give better dependency tracking,,
8166,36ee4dba03aad847da3016deb6059ac0aa6c24bb,vi Kivity <avi.kivity@gmail.com>, 2012-12-27 20:51:28 +0200, , libc add vsnprintf,,
8167,0d918a17dbbbf7b1edb3a14125213ad47bfe9dac,or Laor <dor.laor@gmail.com>, 2012-12-27 14:25:20 +0200, , move pci arch driver,,
8168,fdeb9edfcd5d73588db6cac0e913e9786324bb2d,vi Kivity <avi.kivity@gmail.com>, 2012-12-27 14:13:38 +0200, , build build werror,,
8169,d380dfc7637373b716600acfff80db9e053c11fb,vi Kivity <avi.kivity@gmail.com>, 2012-12-27 14:13:19 +0200, , linux drop unneeded define,,
8170,b30c28577e6baa684f214579a06479e04541f030,vi Kivity <avi.kivity@gmail.com>, 2012-12-27 14:12:25 +0200, , mempool remove unused variable,,
8171,07c7a5f2981f9b299260dfebfb1fbc4b96590751,vi Kivity <avi.kivity@gmail.com>, 2012-12-27 14:11:44 +0200, , mempool drop unused asserts,,
8172,ce2fc84bce115df53719e58cc2fee117b97a91cb,vi Kivity <avi.kivity@gmail.com>, 2012-12-27 14:09:21 +0200, , pthread fix return value,,
8173,bc47552587eccb504005ca1cef8d759c2aecdcf5,vi Kivity <avi.kivity@gmail.com>, 2012-12-27 14:07:45 +0200, , elf fix missing return statement code worked accident,,
8174,1e3c3e76b0a2801b119df90d05ed37983e2e3605,or Laor <dor.laor@gmail.com>, 2012-12-27 13:58:05 +0200, , merge branch master github.com avikivity osv adjust debug print debug class master github.com avikivity osv add missing file elf dl.s build fix file elf fix missing pltgot relocation linux implement gettid syscall stub add stub dispatching linux syscalls via syscall,,
8175,ae018301ec2ca44c384a6ed46f4408e5448dde71,vi Kivity <avi.kivity@gmail.com>, 2012-12-27 13:57:32 +0200, , add missing file elf dl.s,,
8176,3b874a025d88c1e0b6de6a87c94c8979c019d5d5,vi Kivity <avi.kivity@gmail.com>, 2012-12-27 13:54:04 +0200, , build fix file need different rule compiled gas gcc since compiler assembler take different command line option,,
8177,3b32521f4088701a614c2c0c7b34547e77972b84,or Laor <dor.laor@gmail.com>, 2012-12-27 13:46:24 +0200, , merge branch master github.com avikivity osv master github.com avikivity osv runtime implement sysconf elf add lazy dynamic resolution function x64 extract cfi macro new file build assembly build move entry.s arch x64 elf lazy relocate plt got script add connect command gdb script mmu use page alloctor instead malloc memory implement real malloc free set build fix init_array priority init move static constructor initialization main build correct syntax build sort init_array section script run.sh forget enable kvm script add run.sh simple command line debugging script add gdb script loading libjvm.so symbol table entry pop error code returning exception entry fix exception frame debug information build link debug section build run assmebler debug output conflict makefile,,
8178,aa8fb4eb49b157bf302b666b04b54896b270c198,or Laor <dor.laor@gmail.com>, 2012-12-27 13:44:08 +0200, , add pci ability dump config space,,
8179,d97879efdb808b053a9517fc72f3211c56210784,or Laor <dor.laor@gmail.com>, 2012-12-27 13:40:58 +0200, , wire debug replacement console print,,
8180,ba0194761c5bf650f0e8f6fb835264caaa7b50d6,or Laor <dor.laor@gmail.com>, 2012-12-27 13:38:22 +0200, , add debug class debug accessor function console print,,
8181,72684acc71bbcd1d6c93a1e17367a534982305da,vi Kivity <avi.kivity@gmail.com>, 2012-12-27 12:57:29 +0200, , elf fix missing pltgot relocation lazy pltgot relocation forgot add object base call relocated shared library got corrupted fix using existing relocated_addr method add object base needed,,
8182,b68650ddd843f2390f0d0a03a7e6e8883068e310,vi Kivity <avi.kivity@gmail.com>, 2012-12-27 12:45:45 +0200, , linux implement gettid syscall stub,,
8183,e20c427b2f2da95ec9656f12d6f4e727d29f5590,vi Kivity <avi.kivity@gmail.com>, 2012-12-27 12:40:50 +0200, , add stub dispatching linux syscalls via syscall,,
8184,97aa11854324ece210693f4ef3f1fe0b2d307f12,vi Kivity <avi.kivity@gmail.com>, 2012-12-27 12:31:15 +0200, , runtime implement sysconf,,
8185,6ee61fd8a815e8b0778d0ae4004cdfa68d482833,vi Kivity <avi.kivity@gmail.com>, 2012-12-27 11:56:00 +0200, , elf add lazy dynamic resolution function,,
8186,882cfc17c36cd40c86f6e17e20de54d3688bfa51,vi Kivity <avi.kivity@gmail.com>, 2012-12-27 11:02:01 +0200, , x64 extract cfi macro new file,,
8187,4a5a8462ea79863691c5212aa063f4ba3f84195a,vi Kivity <avi.kivity@gmail.com>, 2012-12-27 11:01:21 +0200, , build assembly,,
8188,f184c5bfcbd07e1a5ddcbb3e01a514ff1d4b41db,vi Kivity <avi.kivity@gmail.com>, 2012-12-27 10:52:45 +0200, , build move entry.s arch x64 arch specific come,,
8189,c8eda37978fbcdc14b13626e46c8a776b73a574e,vi Kivity <avi.kivity@gmail.com>, 2012-12-27 10:20:00 +0200, , elf lazy relocate plt got instead looking actual symbol adjust existing entry point back plt later case stub first three entry plt get called symbol index stack run time resolution,,
8190,ca8dc79634d4ccde867c28a04de6bf88071147c6,vi Kivity <avi.kivity@gmail.com>, 2012-12-26 17:40:08 +0200, , script add connect command gdb script,,
8191,2f3dd21474ce6c2e89390e5fc7b66b0a98f81b29,vi Kivity <avi.kivity@gmail.com>, 2012-12-26 17:39:25 +0200, , mmu use page alloctor instead malloc much efficient,,
8192,22a07c175ae39d5843f8f91c7f7003891da82424,vi Kivity <avi.kivity@gmail.com>, 2012-12-26 17:36:38 +0200, , memory implement real malloc free set implementation store small object pool similar sized object large object allocated using first fit algorithm also specialized interface allocating aligned page,,
8193,2a7b102e8f2b3dd3b2dfd2690adb905f1e8f9f3d,vi Kivity <avi.kivity@gmail.com>, 2012-12-26 17:35:58 +0200, , build fix init_array priority,,
8194,ea41396643dc9c6490803432e2d0039e75c82760,vi Kivity <avi.kivity@gmail.com>, 2012-12-26 10:59:33 +0200, , init move static constructor initialization main really affect anything cleaner,,
8195,213a4d07290519b9fa5151c0bcd4c33666804cd5,vi Kivity <avi.kivity@gmail.com>, 2012-12-26 10:54:30 +0200, , build correct syntax,,
8196,655593735e3ab5ea0bd500398ed6859b9d8421e4,vi Kivity <avi.kivity@gmail.com>, 2012-12-26 10:36:08 +0200, , build sort init_array section let use _attribute__ init_priority control static constructor order useful configuring interdependent global service,,
8197,9d4111a71fbe87299c48c6f1849529d85af9bfcd,vi Kivity <avi.kivity@gmail.com>, 2012-12-25 15:50:30 +0200, , script run.sh forget enable kvm,,
8198,4098ecdbeef0787f42bdee6fc56aa518e462ff95,vi Kivity <avi.kivity@gmail.com>, 2012-12-25 15:44:42 +0200, , script add run.sh simple command line debugging,,
8199,e896c03c362c0d2166a06025e4974c57db176967,vi Kivity <avi.kivity@gmail.com>, 2012-12-25 15:44:11 +0200, , merge branch master github.com avikivity osv elf debug work conflict makefile,,
8200,fe8e517de289b860a0678b30ef03e54e3fc9fb14,vi Kivity <avi.kivity@gmail.com>, 2012-12-25 15:35:11 +0200, , script add gdb script loading libjvm.so symbol table,,
8201,8dc84f9919d05770e388d4c3135350a0b14953e8,vi Kivity <avi.kivity@gmail.com>, 2012-12-25 15:34:24 +0200, , entry pop error code returning exception,,
8202,d983616118c06a4ee03c452e5fec42cf15b2a535,vi Kivity <avi.kivity@gmail.com>, 2012-12-25 15:34:02 +0200, , entry fix exception frame debug information,,
8203,eed5d25a54b58752f4b060e90c6bc95592ef9b20,vi Kivity <avi.kivity@gmail.com>, 2012-12-25 15:33:24 +0200, , build link debug section,,
8204,54c3389182d91afb8bd603bf53f9f4428a90206a,vi Kivity <avi.kivity@gmail.com>, 2012-12-25 15:32:59 +0200, , build run assmebler debug output,,
8205,2acd1d0fbbd7dd69f2405d6566239d40f4746327,or Laor <dor.laor@gmail.com>, 2012-12-25 11:27:59 +0200, , merge branch master github.com avikivity osv add serial console master github.com avikivity osv boot initialize .bss loader create jvm loader run initialization function libjvm.so elf perform relocation looked symbol elf rename dynamic tag lookkup dynamic_tag elf add lookup function get fully typed function elf load program object via function runtime define environ pthread add pthread_ getspecific setspecific key_create mutex stub implementation elf dump name symbol failed look runtime define timezone elf core provides libdl.so function conflict makefile,,
8206,3cc80f7f077b5b1c0603ee307ac21f426f63bf3b,vi Kivity <avi.kivity@gmail.com>, 2012-12-24 17:25:21 +0200, , boot initialize .bss previously boot code assumed omission memory initialized zero apparently case caused memory become corrupted initialize .bss zero fix,,
8207,9f43b29988018a110ab0c560f6bc0635d36a722b,or Laor <dor.laor@gmail.com>, 2012-12-24 15:39:34 +0200, , activiate serial console replace vgaconsole new one,,
8208,bacfd9fd5a59b8a6ad673cdfb9adafd2c8e2a203,or Laor <dor.laor@gmail.com>, 2012-12-24 15:37:39 +0200, , add uart16550 serial basic driver moment print console,,
8209,c0caeeb2e7d5e41aea820dbdd5b1251b32702d47,or Laor <dor.laor@gmail.com>, 2012-12-24 17:03:11 +0200, , add pci header file function,,
8210,c4f4c68909e28a08de74d2a224585b5023d95995,or Laor <dor.laor@gmail.com>, 2012-12-24 15:35:23 +0200, , add includes flag cflag include root project directory order reach includes file within hirarchy,,
8211,b6306ab6024f37dcdcf00a73f3df0098402a97b0,or Laor <dor.laor@gmail.com>, 2012-12-24 15:34:26 +0200, , add function port,,
8212,793f312b96b8deaf57814ac92cc601569f62c764,vi Kivity <avi.kivity@gmail.com>, 2012-12-24 14:07:06 +0200, , loader create jvm working yet,,
8213,849cd1365380c9f96dbfe7b5d9721df6ebd15af7,vi Kivity <avi.kivity@gmail.com>, 2012-12-24 13:02:41 +0200, , loader run initialization function libjvm.so,,
8214,80f4a5c86ace2470a30466a3135efcaea3495b94,vi Kivity <avi.kivity@gmail.com>, 2012-12-24 12:50:39 +0200, , elf perform relocation looked symbol otherwise use unrelocated virtual address point nowhere,,
8215,712f477e2bf80689f83ec8491e924d2d81a2952a,vi Kivity <avi.kivity@gmail.com>, 2012-12-24 11:14:08 +0200, , elf rename dynamic tag lookkup dynamic_tag lookup similar symbol lookup,,
8216,e18fea0c36d69ab379b1963be1f9b387df02d2c6,vi Kivity <avi.kivity@gmail.com>, 2012-12-23 23:14:50 +0200, , elf add lookup function get fully typed function,,
8217,d8fda4ca120657f2e141589baabd24cbe51c1c90,vi Kivity <avi.kivity@gmail.com>, 2012-12-23 15:27:56 +0200, , elf load program object via function program object allows later resolve symbol aka dlopen dlsym,,
8218,aaf49002550514a6e3ed87d9af3a5953dcca4573,vi Kivity <avi.kivity@gmail.com>, 2012-12-23 15:11:38 +0200, , runtime define environ,,
8219,8e38e5eea6d1cd5d133f9d34406f6d48876c8cd1,vi Kivity <avi.kivity@gmail.com>, 2012-12-23 15:06:42 +0200, , pthread add pthread_ getspecific setspecific key_create,,
8220,98a90fb7f1dc1b499fb5e40b23734895e8a97638,vi Kivity <avi.kivity@gmail.com>, 2012-12-23 14:48:53 +0200, , mutex stub implementation threading yet real locking,,
8221,eda70a5cf0da9eccf6f943e915ed626862e0cc48,vi Kivity <avi.kivity@gmail.com>, 2012-12-23 14:20:49 +0200, , elf dump name symbol failed look,,
8222,b93f665db95324e3e2fffa291b56ae94fd6d0767,vi Kivity <avi.kivity@gmail.com>, 2012-12-23 14:18:45 +0200, , runtime define timezone,,
8223,760ec56a1b8386e3c012776a9aaf386aad268083,vi Kivity <avi.kivity@gmail.com>, 2012-12-23 14:16:30 +0200, , elf core provides libdl.so function load glibc library,,
8224,c2db135b53940b84ee14de5030434d844b36bc73,vi Kivity <avi.kivity@gmail.com>, 2012-12-23 12:10:52 +0200, , elf fix dt_gnu_hash hash lookup code,,
8225,a6f3a41d12ed4db22629d718cf536287c89f1174,vi Kivity <avi.kivity@gmail.com>, 2012-12-23 10:46:09 +0200, , runtime define errno,,
8226,3eab21d7a4e19c1765956dfbad537866acc7a743,vi Kivity <avi.kivity@gmail.com>, 2012-12-23 10:35:30 +0200, , elf allow weak symbol fail resolution weak symbol allowed fail name resolution case bind zero,,
8227,13963bd5d0f5a5b9575a38eb1ee64f52028806c0,vi Kivity <avi.kivity@gmail.com>, 2012-12-23 09:52:28 +0200, , elf implement dt_gnu_hash library come without dt_hash,,
8228,dcce29557aac5c1fde055af692c83f4565e58b4d,vi Kivity <avi.kivity@gmail.com>, 2012-12-20 12:38:58 +0200, , elf move program header parsing elf_object need parse core dynamic segment linked program header since core elf_file elf_object need move parsing code,,
8229,a3d514f387664db160ba8b641e90ceeaf7c3bcca,vi Kivity <avi.kivity@gmail.com>, 2012-12-20 12:24:57 +0200, , loader run pre linker,,
8230,ef78eaaf6ac5696e41127790d739c7c006f21fd8,vi Kivity <avi.kivity@gmail.com>, 2012-12-20 12:23:31 +0200, , elf minimal pre linker dynamic linker need linked used implement minimal pre linker self link linker without invoking anything need linked,,
8231,4702ba03b147abfc825483eda140b3499265fa2e,vi Kivity <avi.kivity@gmail.com>, 2012-12-20 12:21:23 +0200, , elf implement symbol lookup,,
8232,566d88232740b3ccec917bf2e1a35b1ff24e8b9c,vi Kivity <avi.kivity@gmail.com>, 2012-12-20 12:19:42 +0200, , build specify executable layout explicitly strictly needed better know exacly thing end,,
8233,d7251f3c97e325ada6502aa596ab8891fd7f9195,vi Kivity <avi.kivity@gmail.com>, 2012-12-20 12:17:23 +0200, , build export symbol library,,
8234,c23feda0adf5a7f4d5aaec34f40d62e11cf05594,vi Kivity <avi.kivity@gmail.com>, 2012-12-20 12:16:24 +0200, , loader add dummy shared library build force linker add dynamic segment allowing export symbol loaded library,,
8235,0b842d40b9db062cb0f7cffa4fbd4801c610cf0b,vi Kivity <avi.kivity@gmail.com>, 2012-12-19 12:10:59 +0200, , build use link give full control linker option,,
8236,c0e3f76b80c257973936de800cd3b6dc0ceed5ce,vi Kivity <avi.kivity@gmail.com>, 2012-12-18 16:17:01 +0200, , elf core provides libpthread.so.0,,
8237,469aba3bb9bc860dd95f51266a59b4f4806c488d,vi Kivity <avi.kivity@gmail.com>, 2012-12-18 16:15:23 +0200, , elf relocate dtpoff64 relocation correct yet,,
8238,a394033c607dc98e47a319045cfcc0652828fc12,vi Kivity <avi.kivity@gmail.com>, 2012-12-18 16:13:04 +0200, , elf fix boundary page .data .bss .bss start non page boundary call map_anon overwrite last .data page fix aligning argument map_file map_anon manually remove overlap since round .data section,,
8239,11dd38801e656b1869d257a35d80cf47b95650d2,vi Kivity <avi.kivity@gmail.com>, 2012-12-18 16:12:31 +0200, , bootfs add libdl.so,,
8240,f55f5ee8f8b3b6c2f6ad67d0be716cb39e8336f5,vi Kivity <avi.kivity@gmail.com>, 2012-12-18 11:26:05 +0200, , elf export linux.so core,,
8241,dac1af25633d74067d9205b318c331af3209ea4f,vi Kivity <avi.kivity@gmail.com>, 2012-12-18 11:25:35 +0200, , elf support relocation accurately though,,
8242,a70ad8577a56e9eae355ea702a627cb1eb1678ca,vi Kivity <avi.kivity@gmail.com>, 2012-12-18 11:24:47 +0200, , elf allow osabi libgcc_s likely make syscalls,,
8243,56c2a75dabe4b11360696cdd63935d8184d0cad4,vi Kivity <avi.kivity@gmail.com>, 2012-12-18 11:24:26 +0200, , bootfs add libgcc_s,,
8244,a8a01962b2d5a1fc8e0321b151bf3f82a8ec80ce,vi Kivity <avi.kivity@gmail.com>, 2012-12-17 17:19:16 +0200, , elf abort processing dt_needed library,,
8245,3027b313f8acb788131218e7b14dd94f42bba534,vi Kivity <avi.kivity@gmail.com>, 2012-12-17 17:18:54 +0200, , elf support pt_phdr,,
8246,9f8c65d51da7f44d8ef0c2494a96a5ccfa6ab372,vi Kivity <avi.kivity@gmail.com>, 2012-12-17 17:15:25 +0200, , bootfs add libm.so,,
8247,43aa8677bf429815760fe6e9f70cd2fa7556b8f9,vi Kivity <avi.kivity@gmail.com>, 2012-12-17 17:10:35 +0200, , elf add relro support ignored unneeded,,
8248,0c8325d79818e8635e35c23b73d3a3c55c4e0371,vi Kivity <avi.kivity@gmail.com>, 2012-12-17 16:46:13 +0200, , elf record segment,,
8249,5a14c1435db185e32cf0fb77fb272b088d0736c3,vi Kivity <avi.kivity@gmail.com>, 2012-12-17 13:56:26 +0200, , mmu align vma address page boundary warn instead,,
8250,1e770979f57e413bbeb770f90bbd3d439005a6a5,vi Kivity <avi.kivity@gmail.com>, 2012-12-17 13:46:17 +0200, , elf adjust base account prelinked library prelinked library default non zero address take account computing base,,
8251,2f9f9be13a44fa88fdc410a0d5efc0e47244200e,vi Kivity <avi.kivity@gmail.com>, 2012-12-17 12:53:37 +0200, , bootfs add libstdc manifest,,
8252,9f69dd5c8fd5f9034aaadf31eb20fd2a582c2a65,vi Kivity <avi.kivity@gmail.com>, 2012-12-17 12:53:12 +0200, , bootfs fix iteration looking name,,
8253,7b808ca882713774697679bb2c5904fd668083fb,vi Kivity <avi.kivity@gmail.com>, 2012-12-17 12:43:43 +0200, , elf load dt_needed library,,
8254,a6358b0c2de20266cc865b7f8ea31cab6b604ce1,vi Kivity <avi.kivity@gmail.com>, 2012-12-17 12:41:30 +0200, , elf load pt_dynamic already loaded pt_load overwriting page strictly speaking read file instead mapping since outside loaded segment,,
8255,2c9503a505ffc979f533281d3a3eb7cc324d2e14,vi Kivity <avi.kivity@gmail.com>, 2012-12-17 11:53:16 +0200, , elf calculate end address object,,
8256,45944b0d3c409c0ae2ab81c3ca215025c6ddbbde,vi Kivity <avi.kivity@gmail.com>, 2012-12-17 11:51:54 +0200, , elf change library default load address something far far away avoid conflict,,
8257,8a47669c64ba9b60213b6df2cda8bb240d59d1c5,vi Kivity <avi.kivity@gmail.com>, 2012-12-17 10:38:18 +0200, , elf introduce program class containing multiple object program used cross object linking,,
8258,bf2c6bae2cf0baa77a36c17fa295a90950f4568a,vi Kivity <avi.kivity@gmail.com>, 2012-12-16 22:28:34 +0200, , build keep elf64 header memory image need header provide symbol loaded library mean use objcopy munge binary format elf32 i386 loader understand format instead add separate bit stage elf32 i386 format load bit image memory payload keep multiboot happy leave header alone,,
8259,5e3836b0e3b3889e4951813fa849cb29e2a88ed9,vi Kivity <avi.kivity@gmail.com>, 2012-12-16 18:44:16 +0200, , elf add used encapsulate already loaded image providing symbol later object,,
8260,45b49b0d3e7bd5398ed4be27242263e715fec5c9,vi Kivity <avi.kivity@gmail.com>, 2012-12-16 17:53:10 +0200, , link script allow elf header included loaded image change starting program counter 0x201000 instead allows elf header present loaded image used linking,,
8261,0d73e0defa0e378af6088026b3069ce4f25505c1,vi Kivity <avi.kivity@gmail.com>, 2012-12-16 17:37:01 +0200, , elf split elf_file base class elf_object derived class elf_object used elf image file corresponds core image libc function,,
8262,e9c09d14114dad8ee3e4257971ec4fbe8caab31e,vi Kivity <avi.kivity@gmail.com>, 2012-12-16 16:28:23 +0200, , elf process relocation record still look symbol completely since shared library provided yet,,
8263,7f5579b95cca9d83b2384b370822fd37e98c5a05,vi Kivity <avi.kivity@gmail.com>, 2012-12-16 16:27:33 +0200, , elf process pt_gnu_stack segment,,
8264,8efb6626bdb91cda6b0fb137e8f32319ec3592fb,vi Kivity <avi.kivity@gmail.com>, 2012-12-16 15:02:49 +0200, , elf add accessors dynamic table,,
8265,e3d2672e30670843566ae97dfeee08d03cf8f77b,vi Kivity <avi.kivity@gmail.com>, 2012-12-16 12:30:44 +0200, , elf load exception handling segment,,
8266,b7eb2cc249469a542b7636d8d1c94349dcd631f8,vi Kivity <avi.kivity@gmail.com>, 2012-12-16 12:30:00 +0200, , elf ignore note interpreter section,,
8267,700cf83a0eb6149637674fb53c92aadfb59f25e0,vi Kivity <avi.kivity@gmail.com>, 2012-12-16 12:19:14 +0200, , abort spin instead use processor low power mode wait,,
8268,465ec745aa03200148742acc84a87054d0fb10dd,vi Kivity <avi.kivity@gmail.com>, 2012-12-16 12:14:35 +0200, , load elf dynamic table,,
8269,3e794ab4d8c7da7d95b70b598cefc2edaf06d664,vi Kivity <avi.kivity@gmail.com>, 2012-12-16 11:58:10 +0200, , fix loading elf segment section section memsz filesz mean need separate map_file file_anon caller specified address,,
8270,1e614ce3820cf732caf6a55a34c8b1bf530f9ecd,vi Kivity <avi.kivity@gmail.com>, 2012-12-16 11:56:16 +0200, , add exception trapping,,
8271,ba4fdd857848a6fd7255366c6d9f079a3bcbd711,vi Kivity <avi.kivity@gmail.com>, 2012-12-12 16:29:52 +0200, , attempt map elf segment,,
8272,630cc83e50539041b0464739fd6b6122a9280760,vi Kivity <avi.kivity@gmail.com>, 2012-12-12 16:29:25 +0200, , add simple mmu wip,,
8273,06b6f68ce274d73f334cdf8145838a172bb53319,vi Kivity <avi.kivity@gmail.com>, 2012-12-12 16:28:37 +0200, , increase static malloc buffer defer real allocator,,
8274,7a711363bd70802042397cab1c23b4e350ef392b,vi Kivity <avi.kivity@gmail.com>, 2012-12-12 16:27:54 +0200, , add wno pointer arith build flag play void pointer,,
8275,c347ea47410a71c95986168e53f6e16eb3c68318,vi Kivity <avi.kivity@gmail.com>, 2012-12-12 13:40:13 +0200, , put desc_ptr packed attribute correct place,,
8276,c61714bb03d16671c9eb2affc15bc7156e3e4743,vi Kivity <avi.kivity@gmail.com>, 2012-12-12 13:39:54 +0200, , fix include file name,,
8277,442419cd58fb2ce8a7351e479fe8bf0e1122288e,vi Kivity <avi.kivity@gmail.com>, 2012-12-11 17:38:36 +0200, , load elf program header,,
8278,c2d19e1b7bd948ed09446f6745d25ce090ff0798,vi Kivity <avi.kivity@gmail.com>, 2012-12-11 17:01:24 +0200, , load elf header basic sanity check,,
8279,c59e05d10d30865078295638a4177e217f1a9f99,vi Kivity <avi.kivity@gmail.com>, 2012-12-09 11:12:00 +0200, , console ctype work boost format work,,
8280,f264dc8a5f6776a801ee2b79a1272ddf08f850e3,vi Kivity <avi.kivity@gmail.com>, 2012-12-06 09:45:00 +0200, , runtime stub,,
8281,5395f58761772736ed3f63bd7c0f5857bb1253a5,vi Kivity <avi.kivity@gmail.com>, 2012-12-06 14:42:00 +0200, , makefile add bootfs,,
8282,5217e493b88540c3aabc51e31bf01fa953d7090f,vi Kivity <avi.kivity@gmail.com>, 2012-12-05 10:12:00 +0200, , loader load jvm bootfs print character,,
8283,ca10468df4f492e54b28bacb05cfb785d46a7b78,vi Kivity <avi.kivity@gmail.com>, 2012-12-04 13:21:00 +0200, , link script fix start address section 0x20000 overflow 640k hole,,
8284,4704adc3e2d10c7308a930014da94f4f8659db96,vi Kivity <avi.kivity@gmail.com>, 2012-12-04 10:25:00 +0200, , boot set tss,,
8285,d1921425f11fb252dd7e81320cdb0fca17af1a16,vi Kivity <avi.kivity@gmail.com>, 2012-12-03 15:52:00 +0200, , add jvm boot filesystem,,
8286,2f2da5c12ac2987390001a5aa8b3e2e97f8440c7,vi Kivity <avi.kivity@gmail.com>, 2012-12-03 14:59:00 +0200, , boot filesystem read memory filesystem like initramfs,,
8287,ce72eeb675a394ab027d86ff1e4f49c0d83654a7,vi Kivity <avi.kivity@gmail.com>, 2012-12-03 11:22:00 +0200, , encapsulate boot filesystem image object file direct linking,,
8288,1447d76c7ca1695f67bcce83784fd1d31a6ca818,vi Kivity <avi.kivity@gmail.com>, 2012-12-02 19:25:00 +0200, , basic runtime service,,
8289,799730ed9aef5f1f9e83cd216310462469ae156f,vi Kivity <avi.kivity@gmail.com>, 2012-12-02 17:55:00 +0200, , add script creating boot filesystem,,
8290,c02ce24068ed7de2bde7810f527966b3d865dd24,vi Kivity <avi.kivity@gmail.com>, 2012-12-02 17:39:00 +0200, , add simplistic filesystem interface,,
8291,3c827f6c053dfcd0263b7bfa1437f1b1332ba039,vi Kivity <avi.kivity@gmail.com>, 2012-12-02 16:33:00 +0200, , add missing file,,
8292,daae9ec6584334a1e3eed4d9fa6fa3996bf36807,vi Kivity <avi.kivity@gmail.com>, 2012-12-02 16:29:00 +0200, , add .gitignore,,
8293,b70ac572ea56a4287c98c3e8da9baf8b5354e697,vi Kivity <avi.kivity@gmail.com>, 2012-12-02 16:22:00 +0200, , make clean target,,
8294,b5bcec702a87f909cda9106b4fc608508129f066,vi Kivity <avi.kivity@gmail.com>, 2012-12-02 14:21:00 +0200, , vga clear next line newline,,
8295,d70f3c34df6bbb2aaed9a96dfc026d5b83713cab,vi Kivity <avi.kivity@gmail.com>, 2012-12-02 12:33:00 +0200, , vga fix framebuffer address,,
8296,c39e0fd87c45ab52c51ad417ff3328cb10102242,vi Kivity <avi.kivity@gmail.com>, 2012-12-02 10:11:00 +0200, , make,,
8297,1971aabd0e8bd20ff30b7f3156a38ac2ee5bd134,vi Kivity <avi.kivity@gmail.com>, 2012-12-01 16:51:00 +0200, , basic runtime,,
8298,1fc9af6f213c46d141c350c075325beef18a01a7,vi Kivity <avi.kivity@gmail.com>, 2012-12-01 15:40:00 +0200, , bootstrap main,,
8299,74f3715ad26aa490f1f336f7296b7fa6aa2cf123,vi Kivity <avi.kivity@gmail.com>, 2012-12-01 12:45:00 +0200, , bootstrap bit code,,
8300,69134a31dea626013b461f615ddd311c05ea6c4d,vi Kivity <avi.kivity@gmail.com>, 2012-12-01 10:52:00 +0200, , boot bit entry point set bit entry point via linker script,,
8301,ae18576be4acc286e10421978a1257940cc79897,vi Kivity <avi.kivity@gmail.com>, 2012-12-01 10:02:00 +0200, ,,,

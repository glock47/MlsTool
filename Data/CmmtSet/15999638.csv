id,sha,author,date,issue,message,file,content
0,f97e638d8318e477f48073a1b12da2ff8f79636c,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2021-07-28 10:58:05 +0300, , posix timer fix getoverrun error handling retcode zero treated error compel_rpc_sync currently return positive overrun last timer lucky zero retcode function let fix also see point putting negative value .overrun error path fix signed pavel tikhomirov ptikhomirov virtuozzo.com,,
1,a14b4516ede4302736362b9204935684fc9c7eb8,drian Reber <areber@redhat.com>, 2021-07-26 13:42:28 +0000, , use pre installed podman github action already podman installed need install second time signed adrian reber areber redhat.com,,
2,29d5865ec43fecffb6484fbcab3e5c9e584383d4,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2021-07-26 11:52:18 +0300, , zdtm pthread_timers require ns_pid feature add non test resolving real pid vpid notify thread requires nspid feature supported kernel though simple non pid case deal without add requirement split host test without requirement signed pavel tikhomirov ptikhomirov virtuozzo.com,,
3,147acb4fc44617ba31c2eda15147d21ffcc4c06a,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2021-07-26 11:29:58 +0300, , posix timer fallback notify thread encoding non pidns non nspid dumped process host pidns skip pid conversion logic use real pid pidns dump also kernel nspid feature else fail dump notify thread possible properly convert rpid vpid let put code helper improve code readability signed pavel tikhomirov ptikhomirov virtuozzo.com,,
4,1a0618f9815c4db1219c57adbfbc2d6526363bfb,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2021-07-26 10:56:01 +0300, , proc_parse make nspid field optional centos7 nspid field proc pid status compatibility let skip cherry pick one hunk virtuozzo commit http src.openvz.org project ovz repos criu commits c6d0ee567c signed pavel tikhomirov ptikhomirov virtuozzo.com,,
5,5dcf63c94258e50fe00627c4ba90e96a4ae24466,irill Tkhai <ktkhai@virtuozzo.com>, 2017-04-10 11:16:03 +0300, , kerndat check proc pid status file pid line nested pid_ns need able get pid whole pid hierarhy may taken proc pid status file check kernel support signed kirill tkhai ktkhai virtuozzo.com nspid yet supported centos7 thus need check compatibility cherry picked virtuozzo criu commit http src.openvz.org project ovz repos criu commits 94f4653f20 signed pavel tikhomirov ptikhomirov virtuozzo.com,,
6,e444292150ae4c7c8463f9a440fa9a776acb80db,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-07-26 21:39:07 +0100, , criu add support check action signed radostin stoyanov rstoyanov,,
7,e2e644485dbb0810f2f2ac11422465f630b5d499,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-07-26 21:21:59 +0100, , criu add top level conditional execution execute action run script http docs.python.org library __main__.html signed radostin stoyanov rstoyanov,,
8,f1e85e2d01daf30efa6f870b24a1fd2a2c34131f,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-07-26 20:57:42 +0100, , criu update script name help message signed radostin stoyanov rstoyanov,,
9,b5f26ab33fff5aba5fd3bd985aaeb8e559bb6241,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-07-26 20:37:50 +0100, , documentation add man page criu signed radostin stoyanov rstoyanov,,
10,c5333bc86bb27500dfd5cd7db42e779ea4cf5c7f,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-07-26 20:18:51 +0100, , make install criu signed radostin stoyanov rstoyanov,,
11,b1f76229ffe864e886061facfec5cfadbd1c11c5,eyad Yasser <zeyady98@gmail.com>, 2021-07-24 11:28:23 +0200, , zdtm prioritize lib dependency test prioritize lib iptables fails search usr lib64 first archlinux change deps order prioritizes default library location affect zdtm static netns zdtm static netns nft ipt zdtm static socket tcp closed last ack zdtm static socket tcp reseted zdtm static socket tcp syn sent signed zeyad yasser zeyady98 gmail.com,,
12,f4d5fb4c22aec58468117efe496819c93b035895,eyad Yasser <zeyady98@gmail.com>, 2021-07-24 11:27:48 +0200, , script build add docker file archlinux signed zeyad yasser zeyady98 gmail.com,,
13,1c25914a5dd1eb385937dffdd85901c3f5e39b8c,eyad Yasser <zeyady98@gmail.com>, 2021-07-22 11:39:34 +0200,1560, protobuf remove leading underscore protobuf structs fix 1560 latest protobuf compiler break criu removed leading underscore structs 1.4.0 replaces definition standard generated structs remove struct _vmaentry struct _credsentry struct _coreentry signed zeyad yasser zeyady98 gmail.com,,
14,f2e8ce289c736f23f5eccf135b7bf996457bdb7f,ndrei Vagin <avagin@gmail.com>, 2021-07-10 21:06:01 +0300, , zdtm add test sigev_thread timer signed andrei vagin avagin gmail.com,,
15,a9a32e80c0a7b55fdfbd395c93c46783074afb22,ndrei Vagin <avagin@gmail.com>, 2021-07-11 00:55:08 +0300, , timer save tid task pid namespace signed andrei vagin avagin gmail.com,,
16,6775b68cf36de32a7efb1345491c3d12d3639874,ndrei Vagin <avagin@gmail.com>, 2021-07-11 04:48:52 +0300, , proc_parse get thread thread pidns proc pid status signed andrei vagin avagin gmail.com,,
17,524f2261c3e97ff2c5d3fada817d4854f8e4b629,iu Chao <liuchao173@huawei.com>, 2021-06-29 02:02:51 +0000, , criu dump restore posix timer set get_pid return null pointer do_timer_create return einval kernel criu failed create posix timer 09.806760 pie 41301 error criu pie restorer.c 1998 restore posix timer 09.806824 pie 41301 error criu pie restorer.c 2133 restorer fail 41301 09.891880 error criu restore.c 2596 restoring failed signed liu chao liuchao173 huawei.com,,
18,47611e668e49fe0b17c39d9b2b2d83b04b2b4cb6,ndrei Vagin <avagin@gmail.com>, 2021-07-11 09:57:02 +0300,1524, cgroup cgroup_contains update mask cgroupv2 fix 1524 signed andrei vagin avagin gmail.com,,
19,1d7b14ec07f5b71348553e9d0437fa4b7cf7467d,drian Reber <areber@redhat.com>, 2021-07-14 14:41:59 +0000, , add msgque test case crit recode crit recode msgque test broken jenkins run also github  signed adrian reber areber redhat.com,,
20,a68e0b9e8debc90d4390040e9e63b53b4f8f74ad,drian Reber <areber@redhat.com>, 2021-07-14 14:40:47 +0000, , lib fix crit recode msgque error jenkins test dump zdtm static msgque ipcns msg 11.img encode fails expected byte like object str test dump zdtm static msgque ipcns msg 11.img pretty encode fails expected byte like object str fail signed adrian reber areber redhat.com,,
21,bc98adf633f6675ffbbb2ae02611377a25ff32fd,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-07-14 08:30:53 +0100, , openj9 run mrproper make make sure remove file created previous local build compiling container reported rajneesh bhardwaj amd.com signed radostin stoyanov rstoyanov,,
22,9a058dbd929bef9520a2f4f546ffceb25c65ff89,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2021-07-02 10:17:43 +0300, , zdtm make also stop pre dump snap iteration useful investigate problem pre dump iteration patch test output pre would new usefull stop point let remove confusion stop point naming pause pre dump actually nothing pre dump let better use instead pre similar let use instead post result would look like run zdtm static env00 start test env00 pidfile env00.pid outfile env00.out envname env_00_test pause pre dump press enter continue run criu pre dump pause pre dump press enter continue run criu pre dump pause dump press enter continue run criu dump pause restore press enter continue run criu restore pause restore press enter continue improve step naming rename iter meaningfull pre dump snap signed pavel tikhomirov ptikhomirov virtuozzo.com,,
23,f29a02a395083941fea8d5f09ccf7efacdd60836,iu Hua <weldonliu@tencent.com>, 2021-07-02 17:31:39 +0800, , restore cleanup cgroup properly error path cgroup yard setup cleaned properly code path lead cgroup mountpoint leaking signed liu hua weldonliu tencent.com,,
24,374c77ed4c23260f7c193008aa323fc1df510b4b,drian Reber <areber@redhat.com>, 2021-07-05 07:19:18 +0000, , script run lint also criu signed adrian reber areber redhat.com,,
25,9cfa3d2483707bc203bf0e5730f39355f683f56e,drian Reber <areber@redhat.com>, 2021-07-05 07:16:50 +0000, , also test tcp stream crit recoding signed adrian reber areber redhat.com,,
26,ed52ba907111c26a45b5ee3eb81dbcdfc9175e70,drian Reber <areber@redhat.com>, 2021-07-05 07:16:24 +0000, , lib fix broken crit recode test signed adrian reber areber redhat.com,,
27,de0311de3ef03bad0a771deae86bfa613e4e3115,drian Reber <areber@redhat.com>, 2021-07-05 08:10:12 +0000, , combine cross compile container definition cross compile container definition architecture almost file except architecture move architecture variable cross compile setup use container definition signed adrian reber areber redhat.com,,
28,47feec90d4dc8abf07c0d1e9f2cc9a052b5e194d,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2021-07-02 16:52:13 +0300, , crit fix error memfd file parsing else get error root fedora criu crit crit test dump zdtm static memfd00 mem ... traceback recent call last file home snorch devel criu crit crit line module cli.main file home snorch devel criu crit pycriu cli.py line 430 main opts func opts file home snorch devel criu crit pycriu cli.py line 361 explore explorer opts opts file home snorch devel criu crit pycriu cli.py line 283 explore_mems get_file_str opts file home snorch devel criu crit pycriu cli.py line 214 get_file_str get opts file home snorch devel criu crit pycriu cli.py line 165 ftype_reg opts fid reg files.img file home snorch devel criu crit pycriu cli.py line 154 return field keyerror reg signed pavel tikhomirov ptikhomirov virtuozzo.com,,
29,ee48929257c59b6f66f68b7a886dc07047bf8862,eyad Yasser <zeyady98@gmail.com>, 2021-06-25 23:07:34 +0200, , service move pidfd_store initialization service moved pidfd store hashtable initialization service.c since pidfd_store relevant rpc mode signed zeyad yasser zeyady98 gmail.com,,
30,ce2d037580d28eef8a6dfa26b5755c4f187ce05a,eyad Yasser <zeyady98@gmail.com>, 2021-06-25 22:50:35 +0200, , pidfd_store tidy interface hide unneeded detail need expose internals pidfd_store like hash table entry use pid reuse detection fixup spacing issue fix hash memory leak xmalloc signed zeyad yasser zeyady98 gmail.com,,
31,3bc9f882f38e60c88cbec529af1e8821571cdf93,eyad Yasser <zeyady98@gmail.com>, 2021-06-25 22:35:32 +0200, , pidfd_store move pidfd_store separate file signed zeyad yasser zeyady98 gmail.com,,
32,15266a4fea397835e869827e616694d9c3910d0f,eyad Yasser <zeyady98@gmail.com>, 2021-06-30 18:59:54 +0200, , test sync netns_lock test post start hook post start hook creates netns test enter beginning test test randomly failed test likely caused race condition suspect flow root cause post start hook start test parallel post start hook call netns add create test netns creates netns file netns_lock test open file setns mount netns file course test fails step netns yet mounted file made test wait syncfile created post start hook try open netns file call setns signed zeyad yasser zeyady98 gmail.com,,
33,8310b0b8d4bd6a488ff2149ccbf93b309d9823c7,eyad Yasser <zeyady98@gmail.com>, 2021-07-01 15:11:50 +0200, , test jenkins fix netns_lock test multiple iteration failure netns_lock highly dependent order hook iteration cause pre dump hook called multiple time expectedly caused test fail server loop accommodates multiple iteration http ci.kernoops.org job criu job criu iter job criu dev 431 testreport root criu signed zeyad yasser zeyady98 gmail.com,,
34,ec1f919b999e89d9854a836a343fc869dbdc9b9c,drian Reber <areber@redhat.com>, 2021-07-01 14:13:39 +0000, , fix mips64el cross test mips64el cross test target started show following error error listing stack pointer register clobber list deprecated werror deprecated fix three different place removing clobber list compile tested mips hardware testing signed adrian reber areber redhat.com,,
35,e12ff27b165aea85264a443ddb993e50b021fca0,ounes Manton <ymanton@ca.ibm.com>, 2021-06-22 09:07:42 -0700, , keep inherit string alive task restore inherit read config file buffer freed config file parsed task restore need use mapping therefore adding inherit mapping opts list copy key string new buffer signed younes manton ymanton ca.ibm.com,,
36,402bbac907a6a1df79ace4ec41ed1ff07dd92e4d,u.lin <fulin10@huawei.com>, 2021-06-25 19:52:33 +0800, , pycrit fix broken cli crit show xxx.img broken cli crit show ipcns shm 9.img executed msg  magic ipcns_shm entry  desc key uid gid cuid cgid mode 438   size 1048576 in_pagemaps true extra traceback recent call last file usr bin crit line module cli.main file usr lib python3 dist package pycriu cli.py line 412 main opts func opts file usr lib python3 dist package pycriu cli.py line decode json.dump img indent indent file usr lib python3.9 json __init__.py line 179 dump chunk iterable file usr lib python3.9 json encoder.py line 431 _iterencode yield file usr lib python3.9 json encoder.py line 405 yield chunk file usr lib python3.9 json encoder.py line 325 yield chunk file usr lib python3.9 json encoder.py line 405 yield chunk file usr lib python3.9 json encoder.py line 438 _iterencode _default file usr lib python3.9 json encoder.py line 179 default raise typeerror object type typeerror object type byte json serializable caused img magic extra byte find load condtions fix time signed fu.lin fulin10 huawei.com,,
37,cbaa59976dbf9db618a7bbf3e9f175f40bba72bc,drian Reber <areber@redhat.com>, 2021-06-08 17:32:21 +0000, , add test new lsm mount context option signed adrian reber areber redhat.com,,
38,a0ab1292fb7adf0b2d0bf8c39548221009601498,drian Reber <areber@redhat.com>, 2021-06-08 17:22:03 +0000, , enable changing mount context restore change motivated checkpointing restoring container pod restoring container new pod selinux label existing pod need used selinux label saved checkpointing option lsm profile already enables changing process selinux label restore however tmpfs checkpointed mounted restore context checkpointing look like following example context system_u object_r c82 c137 restore want change context match mount label pod container restored changing mount label possible new option mount context criu restore mount context system_u object_r c204 c495 lead mount option changed context system_u object_r c204 c495 restored container access file container  tested combination runc cri signed adrian reber areber redhat.com,,
39,056e301a7acbf8a1ea11f08eb9beb6467f96bc38,drian Reber <areber@redhat.com>, 2021-06-08 07:15:31 +0000, , remove unnecessary whitespace signed adrian reber areber redhat.com,,
40,98186981d9eb430e39da3ee692e41ccdcfa67bff,eyad Yasser <zeyady98@gmail.com>, 2021-04-29 21:18:58 +0200, , zdtm add network namespace locking test criu dump process network namespace lock network packet peer enters stack otherwise rst sent kernel causing connection fail netns_lock.c try enter netns created post start hook criu lock network namespace dump restore tcp server started post start hook inside test netns run background detached parent stay alive duration test hook pre dump pre restore post restore try connect server pre dump post restore hook able connect successfully pre restore hook client soccr_mark also connect successfully pre restore hook client without soccr_mark able connect also get connection refused packet dropped namespace kernel send rst packet result instead check connect operation cause timeout test would useful testing network locked using different way using iptables currently method later  check packet soccr_mark allowed pas netns locked  fix pre restore hook skipping non soccr_mark connection test due early exit soccr_mark variant signed zeyad yasser zeyady98 gmail.com,,
41,a226a1b92af729ecd4b1bb3ea5c7a99048ddd740,drian Reber <areber@redhat.com>, 2021-06-20 18:45:13 +0200, , test remove exec test criu exec deprecated time criu exit error running criu exec remove test non working subcommand signed adrian reber areber redhat.com,,
42,efe927fff208ead8e6db8513afa9609551eed28f,drian Reber <areber@redhat.com>, 2021-06-22 14:52:09 +0000, , criu add unit testing config file parser try add unit test configuration file parser signed adrian reber areber redhat.com,,
43,c98b1d9e5048cf476bab10ca8b7833b6fb241d6d,drian Reber <areber@redhat.com>, 2021-06-16 07:19:30 +0000, , test add test configuration file parsing add test run ensure known fixed configuration file parser error crashing criu anymore based missing test code coverage script also test code path option handling tested signed adrian reber areber redhat.com,,
44,c627d0c837ebc033a6803db7162df1a853af2b61,drian Reber <areber@redhat.com>, 2021-06-15 16:16:12 +0000, , config make configuration file parser robust trying see robust configuration parser able crash criu pretty quickly fix crash existing configuration file parser signed adrian reber areber redhat.com,,
45,062200697e2758638a685c930fce3e8a08a9751f,drian Reber <areber@redhat.com>, 2021-06-23 17:47:57 +0000, , criu add cleanup_free attribute signed adrian reber areber redhat.com,,
46,178c90240f1bcd342c438d1d775aec00afd46ecd,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2021-06-18 21:38:07 +0000,1504, bfd loop read write action incomplete caller bread bwrite assume operation read writes complete length passed buffer must loop invoking read write apis fix 1504 signed nicolas viennot nicolas.viennot twosigma.com,,
47,d46e20e9d281e019546a709158300158fa433a53,drian Reber <areber@redhat.com>, 2021-06-15 08:48:48 +0000, , disable test centos running actual centos kernel different test longer working require newer kernel commit disables test centos signed adrian reber areber redhat.com,,
48,46bb2d7e50e5000b7fb55e26d8d3fa5489e687aa,drian Reber <areber@redhat.com>, 2021-06-15 06:02:55 +0000, , remove old workarounds commit remove couple workaround old kernel distribution longer use signed adrian reber areber redhat.com,,
49,3518b4544b3f832fd28295408c3243047bc67c07,drian Reber <areber@redhat.com>, 2021-06-14 19:07:25 +0000, , switch centos test cirrus cirrus run test orignal centos kernel kernel rather old github action 5.8 kernel containerized centos user space much working correctly anymore commit centos based test longer running github action cirrus signed adrian reber areber redhat.com,,
50,2a89750da7dbfba939899749df4e0e949f16b1be,drian Reber <areber@redhat.com>, 2021-06-14 20:52:44 +0000, , disable print_env signed adrian reber areber redhat.com,,
51,f10b887e6ef5d0e9b2003a1fe131a23d5a143435,drian Reber <areber@redhat.com>, 2021-06-14 20:40:51 +0000, , zdtm allow ignore taint via environment variable change tainted kernel ignored setting simplify script require change every call zdtm setting variable enough signed adrian reber areber redhat.com,,
52,89787bfb61d3219d1038ba920092322fa08f8b81,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-05-28 19:45:38 +0100, , script vagrant use vagrant 2.2.16 signed radostin stoyanov rstoyanov,,
53,7bd807fab8c46fe0bdb0105c5c4e254400525b2d,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-05-28 19:45:27 +0100, , script vagrant use fedora signed radostin stoyanov rstoyanov,,
54,5e81dcadf19cc570ecc20a3a408a1d3bc963c398,ike Frysinger <vapier@chromium.org>, 2021-06-18 18:44:45 -0400, , add pkg_config default place file use pkg_config include common file setup default set early default signed mike frysinger vapier chromium.org,,
55,7cfe7b4cea3209dbc50b628dc2134375c357661d,alery Ivanov <ivalery111@gmail.com>, 2021-06-15 00:24:18 +0300, , crtools improve error handling signal setting signed valery ivanov ivalery111 gmail.com,,
56,d89f7dabfa37bd2e5f9b66f0febe29122792feb2,ike Frysinger <vapier@chromium.org>, 2021-06-16 15:43:04 -0400, , build respect pkg_config setting build need respect pkg_config env var like standard build system upstream pkg config project allows package builder point right tool cross compile build otherwise host pkg config tool used access package cross sysroot signed mike frysinger vapier chromium.org,,
57,185036b94a84a676cbc8668da1c3f6a33e226b77,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-06-17 12:50:05 +0100, , docker test use latest containerd release patch improves change 19be9ced9 use newer version containerd need make sure containerd service restarted install instead hard coding version number use github api get latest release addition tar file contains binary file bin sub folder thus extracted usr signed radostin stoyanov rstoyanov,,
58,7686b939d155c8db446942399f1fb126a668fdb7,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-05-30 11:39:49 +0100, , zdtm tun_ns add per test dependency tun_ns test introduced however commits add per test dependency required test per test dependency listed .desc file deps list dependency made available inside test namespace without dependency test fails fedora error ipv4 fib table doe exist http github.com checkpoint restore criu commit 7e355e7 http github.com checkpoint restore criu commit 3ba0893 signed radostin stoyanov rstoyanov,,
59,ea079312baff9aa18e4fe9488bcdeafdaad38d9f,drian Reber <areber@redhat.com>, 2021-06-16 11:46:54 +0000, , test skip time namespaced test although centos come 4.18 kernel time namespace patch backported required disables time namespaced test everything older 5.11 signed adrian reber areber redhat.com,,
60,41ab15ca33015171b313c13d4e8b309f73411d85,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-06-16 10:37:02 +0100, , update docker test matrix ubuntu 18.04 still problem overlayfs break criu http ubuntu source linux bug 1857257 signed radostin stoyanov rstoyanov,,
61,15ed74043c38fc98578f74b205cb7a7ae1dd8e3a,hristian Brauner <christian.brauner@ubuntu.com>, 2021-05-28 15:43:33 +0200, , cr_options handle case __dest __src set_char_opts set_char_opt __dest __src macro essentially free opts.__dest opts.__dest xstrdup __src __dest __src string get copied freed e.g case criu lsm.c int lsm_check_opts void  char aux  return aux strchr aux null pr_err invalid argument lsm profile return  aux aux strcmp apparmor kdat.lsm pr_err apparmor lsm specified apparmor supported kernel return  set_char_opts lsm_profile aux  else strcmp selinux kdat.lsm pr_err selinux lsm specified selinux supported kernel return  set_char_opts lsm_profile aux  else strcmp none xfree null else pr_err unknown lsm return  return  signed christian brauner ubuntu.com,,
62,6d059ff73a287871ead026a2761f1d00a72b8644,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2021-05-29 10:19:49 +0300, , github add template new issue pull request way user would able create meaningfull pull request issue would need ask provide basic information time signed pavel tikhomirov ptikhomirov virtuozzo.com,,
63,99d9398c52149d4fbd8cde17fddab47d89007b03,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-05-31 08:17:16 +0100,1054, criu document join option join option introduced commits http github.com checkpoint restore criu commit 2cf17cd http github.com checkpoint restore criu commit 790ec46 close 1054 signed radostin stoyanov rstoyanov,,
64,140761445c3e049f318fb2adfecf2562fcf61e21,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2021-05-31 11:04:02 +0300, , kdat make uffd_open return errno syscall separately previousely kerndat_uffd could differentiate eperm returned uffd_open way failed get uffd api incompatible uffd api ... error ignored probably want rework extra argument uffd_open errno rename err label uffd_open readability fix cfdeac4a4 kerndat handle non root mode checking uffd signed pavel tikhomirov ptikhomirov virtuozzo.com,,
65,e6faf6877357514095c46b1dc26097925dcd0f27,drian Reber <areber@redhat.com>, 2021-06-13 19:21:18 +0000, , longer avoid overlayfs ubuntu kernel longer broken regard overlayfs let switch back overlayfs instead devicemapper vfs graphdrivers signed adrian reber areber redhat.com,,
66,7970fbe67ba28bb2e2660c8c3eed4c03429e7fbc,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-06-09 08:13:00 +0100, , test others refactor loop process several problem loop.sh script first code duplicated across test called othres category second need run setsid utility make sure run new session third redirect standard file descriptor use operator make run background finally obtaining pid loop.sh process resulted race condition patch replace loop.sh script program would address problem mentioned requirement program follows must reusable across test must start process detached current shell must wait process start output pid signed radostin stoyanov rstoyanov,,
67,26a05ff7e9cc7e0a88de75f7caac1a4d67d4225b,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-06-09 07:25:34 +0100, , test others drop _exit function function name _exit misleading function actually exit status previous command zero addition behaviour function really needed patch remove _exit function applies correct behaviour stop test failure signed radostin stoyanov rstoyanov,,
68,b59a0cb27087441bebdd8ba9c588bf880e4ccf1c,ndrei Vagin <avagin@gmail.com>, 2021-06-02 08:43:43 -0700, , test add test check sigtrap handler restored signed andrei vagin avagin gmail.com,,
69,9292a900d9015020f96b6b6fbd441f69f7e8e21f,ndrei Vagin <avagin@gmail.com>, 2021-06-02 08:40:13 -0700, , ksigset fix typo ksigdelset fix 8063eb8fe641 parasite block sigtrap reported wang zlwang ca.ibm.com signed andrei vagin avagin gmail.com,,
70,dee4472ccf9aa7b3f6cf4689d2e74e4aeb381a2f,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2021-06-01 10:56:58 +0300, , mem pidfd fix poll retry error checking one never rely errno libc syscall successful either see errno set previous failed syscall even errno set successful libc syscall let check ret first fix 1ccdaf47 criu add pidfd based pid reuse detection rpc client signed pavel tikhomirov ptikhomirov virtuozzo.com,,
71,d34c7cee8614f5eeb9a58546f7867a1dafb67200,eyad Yasser <zeyady98@gmail.com>, 2021-04-20 23:46:15 +0200, , zdtm add pidfd store based pid reuse test symlink original transition pid_reuse test right option passed trigger pidfd store based pid reuse detection code path pidfd store based detection supported rpc mode requires passing unix socket used pidfd store kernel support pidfd_open pidfd_getfd syscalls feature pidfd_store test work signed zeyad yasser zeyady98 gmail.com,,
72,80ae09d79e098a496a2e8bc64d2988d81148152e,eyad Yasser <zeyady98@gmail.com>, 2021-04-20 23:26:35 +0200, , zdtm add pidfd store option rpc mode testing pid reuse using pidfd_store feature rpc mode need pas unix socket used criu rpc option pidfd_store_sk store pidfds predump dump iteration signed zeyad yasser zeyady98 gmail.com,,
73,e1ccdaf4765b0a04e357f0733038f1342e969903,eyad Yasser <zeyady98@gmail.com>, 2021-03-16 15:12:10 +0200,717, criu add pidfd based pid reuse detection rpc client close 717 increase reliability pid reuse detection using pidfds currently rpc migration tool like p.haul connectionless unix socket passed criu rpc mode rpc option pidfd_store_sk option set socket initialized used queue task pidfds criu sends task pidfds socket receives next pre dump dump iteration build pidfds hashtable pidfds used later used migration tool like p.haul open connectionless unix socket pas socket rpc option pidfd_store_sk pre dump dump fail kernel doe support pidfd_open pidfd_getfd syscalls pidfd_store_sk set kernel doe support pidfd_open could checked cli criu check feature pidfd_store rpc set pidfd_store true feature field request  add reasonable polling restart limit avoid getting stuck avoid leaking pidfd entry null otherwise pidfds freed  check passed pidfd store empty first iteration i.e prev image dir option set  clear pidfd_hash head check entry allocation error signed zeyad yasser zeyady98 gmail.com,,
74,ef59abf5d050aad01eef2ee3a0215de1a14a5dc2,eyad Yasser <zeyady98@gmail.com>, 2021-03-16 15:07:39 +0200, , check add ability check pidfd_store feature supported pidfd_store used reliable pidfd based pid reuse detection rpc client requires two recent syscalls pidfd_open pidfd_getfd allow checking pidfd_store supported using cli criu check feature pidfd_store rpc set pidfd_store true feature field request signed zeyad yasser zeyady98 gmail.com,,
75,1273ffd07877fe8ab24d4b9d0f3640a63b5d3311,eyad Yasser <zeyady98@gmail.com>, 2021-03-16 14:21:19 +0200, , service add pidfd_store_sk option rpc.proto pidfd_store_sk option used later store task pidfds predumps detect pid reuse reliably pidfd_store_sk connectionless unix socket steal socket rpc client using pidfd_getfd check connectionless unix socket check initialized i.e unnamed socket initialized socket first bound abstract name combination real pid avoid overlap connected hence allowing store pidfds receive queue socket similar fdstore_init work  avoid close pidfd overriding errno sys_pidfd_open  close pidfd_store_sk might leftover previous iteration signed zeyad yasser zeyady98 gmail.com,,
76,cf9616c8ccbcc4ca013ef4d7497529893031fcc9,eyad Yasser <zeyady98@gmail.com>, 2021-02-26 22:32:39 +0200, , criu check pidfd_getfd syscall supported pidfd_getfd syscall needed later send pidfds pre dump dump iteration pid reuse detection  check size written read val_a val_b correct return error val_a val_b signed zeyad yasser zeyady98 gmail.com,,
77,ff922a19e864af1d6dac895655aa59a706f35390,eyad Yasser <zeyady98@gmail.com>, 2021-02-26 14:55:43 +0200, , criu check pidfd_open syscall supported pidfd_open syscall needed later send pidfds pre dump dump iteration pid reuse detection  make void since always returned fix missing tab syscall table signed zeyad yasser zeyady98 gmail.com,,
78,cfdeac4a4d672eaea8c7d8a8f965145c0c6dcfd6,ithin-jaikar <jaikar006@gmail.com>, 2021-05-21 23:52:06 +0530, , kerndat handle non root mode checking uffd criu run user fails exit kerndat_uffd returning turn happens uffd syscall sys_userfaultfd flag work root change ignores permission error proceeds like done e.g pagemap checking signed nithin jaikar jaikar006 gmail.com,,
79,2402192b54fe9a69a5cb552583cc9e84fad76ed3,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-05-25 06:30:52 +0100, , test others crit add test commit extends crit test cover command used explore image directory signed radostin stoyanov rstoyanov,,
80,d556ebfd0da251137a65b4c82ec9d6171c4cb763,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-05-24 06:36:09 +0100,1484, lib cli.py open explore file binary fix 1484 signed radostin stoyanov rstoyanov,,
81,00dbc42d6550c4b358d221b11d6887d585e4fd5b,ndrei Vagin <avagin@gmail.com>, 2021-05-20 19:34:31 +0300, , test zdtm check penging sigtrap handled properly signed andrei vagin avagin gmail.com,,
82,8063eb8fe64148efdc1d0c8d73eee38ff92b9b57,ndrei Vagin <avagin@gmail.com>, 2021-05-20 19:32:53 +0300, , parasite block sigtrap workaround 1429 parasite code contains instruction trigger sigtrap stop certain point case kernel sends force sigtrap ignore blocked kernel reset signal handler default one unblocks mean want save origin signal handle signed andrei vagin avagin gmail.com,,
83,38012e535b2af1074988251b5562432ca95a23ed,drian Reber <areber@redhat.com>, 2021-05-08 21:41:41 +0000, , test create new certificate certificate expired replaces expired certificate test certificate valid ever echo temp certtool generate privkey cakey.pem certtool generate self signed template temp load privkey cakey.pem outfile cacert.pem echo hostname nencryption_key nsigning_key temp certtool generate privkey key.pem certtool generate certificate template temp load privkey key.pem load certificate cacert.pem load privkey cakey.pem outfile cert.pem cakey.pem temp signed adrian reber areber redhat.com,,
84,c20d7a5f2bf69fe04f662b0822652085ac7c09f7,lexander Mikhalitsyn <alexander@mihalicyn.com>, 2020-03-20 22:17:30 +0300, , zdtm add unix dgram ghost test case testcase reproduces deadlock wait_fds_event futex open_fdinfos function file subsystem signed alexander mikhalitsyn virtuozzo.com,,
85,5bc6051901c9cd1a6ebe3cd846383f34f3fc51a7,lexander Mikhalitsyn <alexander@mihalicyn.com>, 2020-08-30 22:30:29 +0300, , unix ghost fix deadlock peer_fle stage fds wake patch fix deadlock appears ghost dgram unix socket problem function called strictly fle stage fle_open explanation consider situation ghost unix dgram socket peer socket also several socket connected peer socket restore picture work file subsystem open_fdinfos pstree_item function call open_fd function every task open_fd function call appropriate file descriptor open handler may return mean try later retcode mean additional resource needed fully restore file descriptor ghost unix socket instance need peer socket file descriptor open restore client socket main problem open_fdinfos called separate task simultaneously get retcode stay futex wait_fds_event function waiting someone another task restore resource notify retry opening file descriptor ghost unix socket managed caught next behaviour one task hold client socket open_fdinfos called open_fd called check mean socket peer peer ghost peer fle stage fle_open return try ok. task stay wait_fds_event second task hold peer tried open peer socket also call open_fd opening socket bind_unix_sk bind_unix_sk call call wake task first point may proceed restoring yes first point need peer_fle stage fle_open fle stage peer socket become fle_open open_fd return proceed appropriate stage change call moment set stage fle_open pas small amount time may happen wake task hold client socket enough time change fle stage fle_open exactly case managed reproduce really ossec hids application managed reproduce problem first file_desc_ops on_stage_change callback introduced unix ghost code reworked call strictly changing fle stage fle_open implementation replaced short practical patch andrei suggested andrei vagin avagin gmail.com signed alexander mikhalitsyn virtuozzo.com,,
86,08b98cf826e1d24e12634478e3834dd418b4c77f,lexander Mikhalitsyn <alexander.mikhalitsyn@virtuozzo.com>, 2021-04-20 18:35:49 +0300, , remove hack netns nft zdtm test signed alexander mikhalitsyn virtuozzo.com,,
87,30bcca74a94aa4baa8bd083b34117f45b67f2205,lexander Mikhalitsyn <alexander.mikhalitsyn@virtuozzo.com>, 2021-04-20 17:26:08 +0300, , zdtm add combined nftables iptables netns nft ipt test signed alexander mikhalitsyn virtuozzo.com,,
88,16a89628d4a93ee65b4dc96032a4d8de0674dcd1,lexander Mikhalitsyn <alexander.mikhalitsyn@virtuozzo.com>, 2021-04-20 17:23:20 +0300, , zdtm skip static netns nft test nftables feature supported signed alexander mikhalitsyn virtuozzo.com,,
89,cd13e44d6e6e029915a23478875cd502dab38058,lexander Mikhalitsyn <alexander.mikhalitsyn@virtuozzo.com>, 2021-04-11 18:56:54 +0300,1435, net skip iptables dump nft backend nft dump supported modern linux distribution iptables binary using new nftables api dump iptables rule using iptables save nftables rule using libnftables api break network unlock modern system technically dump rule including network lock rule two time another problem host modern distribution docker container use iptables netfilter legacy api case legacy rule skipped patch handle case try find iptables legacy dump legacy rule using appropriate iptables binary dump nftables rule using libnftables fix 1435 signed alexander mikhalitsyn virtuozzo.com,,
90,c455c46b2e3a9b3d78655987af626b6199b2ee5d,drian Reber <areber@redhat.com>, 2021-04-27 06:59:05 +0000, , lsm handle half initialized selinux setup criu used check existence sys selinux see selinux enabled system seen system selinux kind enabled reading label give doe return real label work around commit add check lsm detection selinux label right format criu check mean see least label criu switch lsm mode signed adrian reber areber redhat.com,,
91,266cc6a039fc000fd1066c3097992124468090e7,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-04-30 20:02:15 +0100, , tools.mk use python default january 1st 2020 python longer supported many distribution longer provide package python dependency patch allows criu use python default major version available system signed radostin stoyanov rstoyanov,,
92,b692641f663ba1fc94060a2d40af64d5cb249720,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-05-02 04:12:37 +0100, , mips remove empty gitignore signed radostin stoyanov rstoyanov,,
93,8d07cda0527467254c770deb3962665400b6ba16,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-04-30 20:54:01 +0100, , mips coding style fix criu follows linux kernel coding style patch update architecture specific code mips use tab indentation add whitespace closing parenthesis open bracket change mode source file 755 644 signed radostin stoyanov rstoyanov,,
94,ea8921b58a99c2d73c562e73cb966819d1355f24,l-wang <zlwang@ca.ibm.com>, 2021-05-07 12:13:52 -0400, , allow systemcfg proc file dumped currently check pointed type file unsupp list signed wang zlwang ca.ibm.com,,
95,6ac4c93a459f9e91dd2e5517a2283bd233901408,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2021-04-23 19:10:48 +0000, , logging pr_perror pr_msg execvp fails action script others invoking action script file descriptor closed execvp fails log error stderr pr_msg output stderr use opposed pr_perror signed nicolas viennot nicolas.viennot twosigma.com,,
96,fbff0e96ce19b5ffe2543cfc859a500a848a9598,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2021-04-23 23:37:22 +0000, , net add define increased compatiblity old distribution debian defined signed nicolas viennot nicolas.viennot twosigma.com,,
97,73d76d45c16f95d3f00d0331265ea04d6e54c7be,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2020-05-08 20:58:28 +0000, , restore fix error message fork fails last_pid_buf last_pid string signed nicolas viennot nicolas.viennot twosigma.com,,
98,f1cc40c5123880c86768645c76935300a06fa792,ir Kolyshkin <kolyshkin@gmail.com>, 2021-04-22 17:57:49 -0700, , criu end pr_ err warn msg info debug unlike pr_perror pr_err macro append message printed caller need take care sometimes done let add manually make sure happen add line makefile linter target check missing note check done part case pr_ statement fit one line comment better nothing add comment pr_msg pr_info statement deliberately add check ignores signed kir kolyshkin kolyshkin gmail.com,,
99,5115b634372723671f08b2bf57c2e902d21840f1,ir Kolyshkin <kolyshkin@gmail.com>, 2021-04-22 17:48:08 -0700, , whitespace eol cleanup check editor vim auto remove whitespace eol file think make sense separate commit rather littering commits change make sure pile add line makefile linter target check thing fail whitespace except addition makefile signed kir kolyshkin kolyshkin gmail.com,,
100,670210a73c473d703a8ef6c40f869c3a5643727f,ir Kolyshkin <kolyshkin@gmail.com>, 2021-04-22 17:43:47 -0700, , criu make sure use pr_perror show errno case need print errno better use pr_perror signed kir kolyshkin kolyshkin gmail.com,,
101,0959fce6f69ae3756f5503102cb772c2eb4183a7,ir Kolyshkin <kolyshkin@gmail.com>, 2021-04-22 17:36:05 -0700, , test zdtm pr_err pr_perror fix use pr_perror errno need shown use pr_err case errno set previous failed call make sure pr_err first argument fix error message signed kir kolyshkin kolyshkin gmail.com,,
102,e79d8f85461aee03c85703fa232d27051e962054,ir Kolyshkin <kolyshkin@gmail.com>, 2021-04-22 17:35:14 -0700, , test others bers use pr_perror errno set make sense use pr_perror signed kir kolyshkin kolyshkin gmail.com,,
103,117e8f6d500f34aead185d6e6821b965d8c4d816,ir Kolyshkin <kolyshkin@gmail.com>, 2021-04-22 16:42:25 -0700, , criu mount.c fix pr_debug funny used incorrect slash signed kir kolyshkin kolyshkin gmail.com,,
104,76ffd8d8e67677ac0a2abe88f372a3b29ff9af83,ir Kolyshkin <kolyshkin@gmail.com>, 2021-04-22 15:30:47 -0700, , script fix shellcheck warning system shellcheck v0.7.1 make lint show warning needing quote variable fix sure shown gha assume different shellcheck version used add shellcheck version appropriate makefile target avoid confusion signed kir kolyshkin kolyshkin gmail.com,,
105,b5bbfdcbbedab5a1860484e47eea0cb89e326cfa,ir Kolyshkin <kolyshkin@gmail.com>, 2021-04-22 14:56:54 -0700, , makefile amend lint pr_perror fail check many case developer forget pr_perror fail macro bit special particular already show errno already append message signed kir kolyshkin kolyshkin gmail.com,,
106,43d4a985fc1d546ecc1d2761a55bf53691066794,ir Kolyshkin <kolyshkin@gmail.com>, 2021-04-22 14:30:00 -0700, , test zdtm pas errno fail macro fail already print value errno need explicitly add found git grep fail errno signed kir kolyshkin kolyshkin gmail.com,,
107,bb56a6f3ad16de1cbacbe140add44f6b3e48affb,ir Kolyshkin <kolyshkin@gmail.com>, 2021-04-22 14:24:31 -0700, , test zdtm use fail macro fail already appends errno strerror errno error message need explicitly brought git grep fail test zdtm test continue echo sed space fail done signed kir kolyshkin kolyshkin gmail.com,,
108,ca084829a988c19e0bf3aa92faf426e3a27eb72f,ir Kolyshkin <kolyshkin@gmail.com>, 2021-04-22 14:54:04 -0700, , test zdtm use fail macro fail already appends message need explicitly brought git grep fail test zdtm test continue echo sed space fail done signed kir kolyshkin kolyshkin gmail.com,,
109,998c37ddc9ecbbfb2b51e5e240af8874ffbd8ac7,ir Kolyshkin <kolyshkin@gmail.com>, 2021-04-22 14:11:59 -0700, , test zdtm use errno pr_perror macro pr_perror already add errno string representation error message need explicitly fix error message signed kir kolyshkin kolyshkin gmail.com,,
110,13bf2d6261a19e8b09f4a4aa39e046c7a1195f35,ir Kolyshkin <kolyshkin@gmail.com>, 2021-04-22 14:03:06 -0700, , test zdtm use pr_perror errno unset pr_perror used case failed operation set errno case errno set pr_err preferable signed kir kolyshkin kolyshkin gmail.com,,
111,96dbfc0c98a7496696f07b36b3fe923fd202bbb3,ir Kolyshkin <kolyshkin@gmail.com>, 2021-04-22 13:59:23 -0700, , criu use errno pr_error need pr_error already add strerror errno error message signed kir kolyshkin kolyshkin gmail.com,,
112,e6bb9973cce8348468b320dc5e6d34170340f6ca,ir Kolyshkin <kolyshkin@gmail.com>, 2021-04-22 13:15:25 -0700, , drop pr_perror another pr_perror spring cleaning time pr_perror add semicolon strerror errno newline need add one manually brought git grep pr_perror test continue echo sed space pr_perror done signed kir kolyshkin kolyshkin gmail.com,,
113,5e9f2d446311b66c69e3484d173e416010854831,ndrei Vagin <avagin@gmail.com>, 2021-04-15 09:56:39 +0300, , test zdtm check restore handle precreated veth device signed andrei vagin avagin gmail.com,,
114,6ead08e5ad5c7c7b972f79dd6ab3aa6be65ff1b9,ndrei Vagin <avagin@gmail.com>, 2021-04-20 08:49:26 +0300, , kerndat check whether supported send rtm_setlink request negative supported kernel return erange signed andrei vagin avagin gmail.com,,
115,9bef4780789175f23087299012a3d6811932c70d,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-02-28 20:37:10 +0000,1380, exclude lazy thp remote page temporarily disable test 1380 resolved signed radostin stoyanov rstoyanov,,
116,ebb3e0386e26ed924d044e72c420637b38bc747f,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-04-12 07:57:28 +0100, , makefile docker test use interactive tty running zdtm test doe require input therefore necessary use change also allows run test currently fails input device tty make makefile 388 docker test error signed radostin stoyanov rstoyanov,,
117,9314efcfe1f8710b0172373975945b2b6f6fb475,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-04-10 10:10:03 +0100, , makefile update excluded test docker test zdtm test pas fedora make docker build make docker test devicemapper storage driver signed radostin stoyanov rstoyanov,,
118,2eec2e9e3dd39d6a3a4b021135e3c8e04044a455,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-04-10 08:08:42 +0100, , docker test use host cgroup network test script fails permission denied running test private cgroup namespace using host network namespace allows test criu running host sharing iptables rule etc signed radostin stoyanov rstoyanov,,
119,31b64473ce401196a940adebd7015b542a7616f1,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-04-10 08:06:59 +0100, , dockerfile add missing test dependency patch add missing dependency required run zdtm test signed radostin stoyanov rstoyanov,,
120,2d189ca7f7c691e9d8ce4f509300bedb9be67a49,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-04-10 08:05:02 +0100, , dockerfile build criu clean order able run zdtm test inside container make sure protobuf source compiled signed radostin stoyanov rstoyanov,,
121,66a259f15551b2d8cf939332898859e11f53c727,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-04-09 21:41:02 +0100, , dockerfile use git clean build make docker build command creates copy file local criu clone inside container run make mrproper inside container followed compilation criu followed another make mrproper last mrproper command attempt check clean successful running git clean however check fails local repository contains file part repository example vscode editor creates folder .vscode would copied inside docker container cause make docker build fail signed radostin stoyanov rstoyanov,,
122,32b724326477d5421241752ec3004101fe9dc1fd,iu Hua <weldonliu@tencent.com>, 2021-04-13 13:09:17 +0800, , tiny fix function dump_empty_fs return value is_empty_dir open directory stream failed directory empty directory empty signed liu hua weldonliu tencent.com,,
123,e49ce513c8df43e8d3b30b7acfbe7bd496d89862,hristian Brauner <christian.brauner@ubuntu.com>, 2021-03-15 17:07:01 +0100,1421, net allow restoring precreated veth device introduces new option external netdev ifname origname informs criu pre created network device supposed move target network namespace netdev name chosen make flexible enough e.g also cover physical device desirable point example external netdev eth0 vetha23adf3 would instruct criu move network device name vetha23adf3 target network namespace renaming eth0  order restore address additional data correctly criu need move network device target netns recorded ifindex requires kernel patch discussed patch merged net next expected show v5.13 release motivating use case found repeating mostly verbatim assume container standard veth tunnel unprivileged container veth host bridge host veth container lxd start container create veth pair host namespaces random name let assume veth host vethhost veth container vethcont lxd generates config container tell container use vethcont network device usually also tell rename device something sensible like eth3 container use netlink move rename vethcont device network namespace eth3 startup user may use lxc snapshot stateful create criu dump restore via lxc restore stateful container name stateful snapshot name thing get hairy currently lxd network model requires always control network device similar regular startup precreate two veth device vethhost vethcont tell lxc would like criu able add commandline option tell criu bother creating veth device instead simply assume someone else create move rename instead restore route iptables address kernel patch applied successfully dump restore lxd container ubuntu src bin lxc launch image alpine edge alp1 creating alp1 starting alp1 ubuntu src bin lxc snapshot stateful alp1 ubuntu src bin lxc list  name state ipv4 ipv6 type snapshot  alp1 running 10.47.211.144 eth0 fd42 8722 277d 69cf 216 3eff fe69 9b8b eth0 container  ubuntu src bin lxc restore stateful alp1 snap0 ubuntu src bin lxc list  name state ipv4 ipv6 type snapshot  alp1 running 10.47.211.144 eth0 fd42 8722 277d 69cf 216 3eff fe69 9b8b eth0 container  ubuntu src bin lxc exec alp1 addr loopback lower_up mtu 65536 qdisc noqueue state unknown qlen 1000 link loopback brd inet 127.0.0.1 scope host valid_lft forever preferred_lft forever inet6 128 scope host valid_lft forever preferred_lft forever eth0 if18 broadcast multicast lower_up mtu 1500 qdisc noqueue state qlen 1000 link ether brd inet 10.47.211.144 brd 10.47.211.255 scope global eth0 valid_lft forever preferred_lft forever inet6 fd42 8722 277d 69cf 216 3eff fe69 9b8b scope global dynamic flag 100 valid_lft 86355sec preferred_lft 86355sec inet6 fe80 216 3eff fe69 9b8b scope link valid_lft forever preferred_lft forever http github.com checkpoint restore criu issue 1421 http project netdevbpf patch avagin gmail.com fix 1421 signed christian brauner ubuntu.com,,
124,901ea2b56849cfd0c2315e5a2bc7d42d20143c55,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-04-12 23:30:45 +0100, , script build drop obsolete env1 variable env1 variable first introduced commit 7290de5 travis enable ccache docker qemu build used anymore signed radostin stoyanov rstoyanov,,
125,b98bbda8e588fec6b6a3bd370ab56749cfc73019,drian Reber <areber@redhat.com>, 2020-05-08 11:36:57 +0000, , image license expat license called mit change license file image directory gplv2 expat license called mit according git file authored abhishek dubey adrian reber alexander mikhalitsyn alice frosi andrei vagin andrew vagin andrey vagin cyrill gorcunov dengguangxing dmitry safonov guoyun sun kirill tkhai kir kolyshkin laurent dufour michael holzheu michaå apiå ski mike rapoport nicolas viennot nikita spiridonov pavel emelianov pavel emelyanov pavel tikhomirov radostin stoyanov rbruno gsd.inesc id.pt sebastian pipping stanislav kinsburskiy tycho andersen valeriy vdovin expat license called mit found http opensource.org license mit according link correct spdx short identifier mit http spdx.org license mit.html signed adrian reber areber redhat.com,,
126,38a9cbe7af3d9efa021b505aa0580cb352cad89c,drian Reber <areber@redhat.com>, 2021-03-15 14:06:18 +0000, , enable crit test signed adrian reber areber redhat.com,,
127,7accc44546a7e41d9107ba2733e8f2f4b851f5fe,drian Reber <areber@redhat.com>, 2021-03-15 14:03:25 +0000, , test fix crit test extend fix others crit test work extends make sure possible input output option correctly handled crit signed adrian reber areber redhat.com,,
128,e65a56a1e50b72963ce2c1b45818defad851d0a7,drian Reber <areber@redhat.com>, 2021-03-23 08:48:03 +0000, , lib also handle extra pipe data correctly sometimes error encoding decoding extra pipe data fix extra pipe data python still keep working python signed adrian reber areber redhat.com,,
129,35a4761ab7419b5536b85a52082699ffab492d19,drian Reber <areber@redhat.com>, 2021-03-15 13:57:38 +0000, , lib print nice error crit get wrong input signed adrian reber areber redhat.com,,
130,f9616e9176d92a54db1d3747c89aee7af53a6d1e,drian Reber <areber@redhat.com>, 2021-03-10 17:14:41 +0000, , lib correctly handle stdin stdout python change stdin opened binary input tty change stdout opened binary encoding output tty signed adrian reber areber redhat.com,,
131,840dc0b4db3970eaf459bd535943357afba9384b,ui Quang Minh <minhquangbui99@gmail.com>, 2021-03-30 21:06:19 +0700, , criu replace faccessat fstatat using flag currently alpine musl libc library return invalid argument error einval calling faccessat flag fix using fstatat instead signed bui quang minh minhquangbui99 gmail.com,,
132,9edf531286e754f2947e3c53f9babfa8e4f22308,ui Quang Minh <minhquangbui99@gmail.com>, 2021-03-13 10:22:24 +0700, , criu throw error parent path provided invalid image dump directory parent symlink error case parent symlink doe exist parent symlink exists point invalid target moment case handled exactly full dump however first case happen parent path provided second one likely user mistake provides invalid parent path throw error latter case instead performing full dump signed bui quang minh minhquangbui99 gmail.com,,
133,480605824056e852b72efacdc1c7cee72a4df64d,eyad Yasser <zeyady98@gmail.com>, 2021-03-16 20:26:14 +0200,1408, service fix rpc request close 1408 failing caused two thing used could null kerndat_init enough feature checking resp.success always set false signed zeyad yasser zeyady98 gmail.com,,
134,49b9cff74563b556059b804199da136bab855c3c,drian Reber <areber@redhat.com>, 2021-03-20 11:35:32 +0000, , lib fix crit recode fix python recent fix make jenkins run crit recode broke python support python based running fix python based test run signed adrian reber areber redhat.com,,
135,ca032081e3d3cfa8a0231b82b0b0b9398479ef11,drian Reber <areber@redhat.com>, 2021-03-19 08:57:04 +0000, , move centos based test cirrus kernel github action bug http ubuntu source linux bug 1919472 break work cirrus let move signed adrian reber areber redhat.com,,
136,9b0d7527910486a2dea23885fb2663f7102daed1,edor <fedor@cirruslabs.org>, 2021-03-17 07:49:26 -0400, , use real instead privileged container,,
137,d334ba38d8cf4e3bfa9f113e1d78947fc2f62566,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2021-03-17 15:37:31 +0300,1400, pstree change sid gid current sid gid previously skipped replacing sid shell job root_item session leader case root_item sid current_sid safely skip replacing case applies gid pid collision check skip pid collision check latter case quite obvious task tree sid current_sid current_sid old_sid fix 1400 fix 77968d43c pstree check pid collision switching new sid gid signed pavel tikhomirov ptikhomirov virtuozzo.com,,
138,c8beca65580da87b89964da3ffb454ca99aa6bc6,drian Reber <areber@redhat.com>, 2021-03-15 14:30:04 +0000, , lib correctly handle padding dump image switch python3 binary output possible use code like f.write rounded size switching binary help signed adrian reber areber redhat.com,,
139,02b0e850dac3e106357296df86d8537fe21af42d,drian Reber <areber@redhat.com>, 2021-03-15 14:16:14 +0000, , lib fromstring tostring deprecated fromstring tostring deprecated since python 3.2 removed 3.9. function alias patch change images.py directly call fromybytes tobytes signed adrian reber areber redhat.com,,
140,d49ace9d34a259c5439f5bc1b81fe134b551b154,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2020-12-22 12:31:30 +0000, , criu merge comparison signed radostin stoyanov rstoyanov,,
141,66f5ab4392598a270571e5cd2c2025578894fe69,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2020-12-22 12:26:03 +0000, , criu add unsupported msg restore sibling currently criu doe support restore sibling option signed radostin stoyanov rstoyanov,,
142,719c5b07e036a4b7abc0e82ed4f668a1d3a247e1,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2020-12-22 12:15:54 +0000,1278, criu handle restore detached option criu script creates new pid namespace criu init process using restore detached option criu user expect criu exit without killing restored process tree thus criu pas restore detached criu prevent terminating exit instead waiting criu exit status resolve 1278 suggested andrei vagin avagin gmail.com signed radostin stoyanov rstoyanov,,
143,6055d0be74fc9d5ec1e4cace3bbaf76092868029,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2020-12-22 11:57:58 +0000, , criu pas argument run_criu signed radostin stoyanov rstoyanov,,
144,b31d3ad9278c0d07c7b2562c387f5c659af32b6e,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-01-17 13:05:42 +0000, , criu close namespace raise good practice close open file descriptor signed radostin stoyanov rstoyanov,,
145,44a1d321bf717c30192e2f8bcbf22be9ee749b56,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2020-12-22 11:46:03 +0000, , criu extract set namespace function change extract duplicated code set_pidns set_mntns function signed radostin stoyanov rstoyanov,,
146,ab9418d96ca289bb70998147ad8478631f9c5a7e,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2020-12-21 20:59:45 +0000, , criu remove unused _umount signed radostin stoyanov rstoyanov,,
147,b790ce21ef8c8f234062f02935ed59ed20b5e406,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2020-12-21 20:50:18 +0000, , criu use documentation string signed radostin stoyanov rstoyanov,,
148,097834dad00580b5baaebb76b15abdab1428635c,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2020-12-21 20:31:50 +0000, , criu extract wait process function reduce duplication code signed radostin stoyanov rstoyanov,,
149,c7d76082c3b4337fbf8737dd6478620f73f09972,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2020-12-21 20:25:47 +0000, , criu extract mount new proc function extracting code function main code becomes smaller obvious signed radostin stoyanov rstoyanov,,
150,a6659c3a7c893a7ba627dc7a78f6d48f0177e874,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2020-12-21 20:15:05 +0000, , criu remove space bracket avoid extraneous whitespace http python.org dev pep pep 0008 whitespace expression statement signed radostin stoyanov rstoyanov,,
151,42df84994a514abbb9b70dcb4ecb49fbba0eab6e,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2020-12-21 20:12:44 +0000, , criu convert indentation space space preferred indentation method http www.python.org dev pep pep 0008 tab space signed radostin stoyanov rstoyanov,,
152,628ff18fce955f5f98ee553790c845ac7c504997,eyad Yasser <zeyady98@gmail.com>, 2021-01-22 01:08:59 +0200, , run zdtm transition pid_reuse pre dump test test run least pre dump trigger problem mentioned commit signed zeyad yasser zeyady98 gmail.com,,
153,b7d2c2a26f97820fac1cb041fcefb308545b1acb,drian Reber <areber@redhat.com>, 2021-03-10 07:47:37 +0000, , remove ccache setup ccache set travis speed compilation using .ccache directory previous run longer using travis remove related ccache setup signed adrian reber areber redhat.com,,
154,9f2a69691043a1b6ee57a9ed1027139cd21e7913,drian Reber <areber@redhat.com>, 2021-03-10 15:42:29 +0000, , run recode test input file running crit recode output zdtm static env00 add zdtm transition fork zdtm static ghost_holes00 run crit recode image file test triggered error jenkins see signed adrian reber areber redhat.com,,
155,8017b6a8e6356dda1eae841a467c812e8195941e,drian Reber <areber@redhat.com>, 2021-03-10 14:57:00 +0000, , lib fix recode error seen jenkins although running crit recode.py also run never seen following error except jenkins traceback recent call last file usr lib python3.8 base64.py line 510 memoryview typeerror memoryview byte like object required str exception direct cause following exception traceback recent call last file test crit recode.py line r_img file var lib jenkins workspace test pycriu image images.py line 635 dump dump img file var lib jenkins workspace test pycriu image images.py line 626 dump handler.dump img entry file var lib jenkins workspace test pycriu image images.py line 289 dump f.write item extra file usr lib python3.8 base64.py line 545 decodebytes  file usr lib python3.8 base64.py line 513 raise typeerror msg err typeerror expected byte like object str commit fix encoding string byte signed adrian reber areber redhat.com,,
156,cdfca869449d1cb8db989644dc4344153011d92a,drian Reber <areber@redhat.com>, 2021-03-10 15:59:00 +0000,1379, remove workaround remove extending ldflags added workaround never really worked correctly fixed pull request 1379 signed adrian reber areber redhat.com,,
157,ca2d2737813085ff9bfb83572dcb7429a00fbfe1,mitry Safonov <dima@arista.com>, 2021-03-03 23:33:44 +0000, , lib cli.py open file binary python3 fails encode image following dima mindolluin criu crit crit encode tmp tmp.1 traceback recent call last file home dima src criu crit crit line module cli.main file home dima src criu crit pycriu cli.py line 410 main opts func opts file home dima src criu crit pycriu cli.py line encode img outf opts file home dima src criu crit pycriu image images.py line 617 dump f.write struct.pack magic.by_name img_common typeerror write argument must str byte opening output file binary seems help signed dmitry safonov dima arista.com,,
158,fddf3a7327f56809b0715472c9ac70ed3edb8a26,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-02-03 23:48:26 +0000, , docker test set log file path default docker writes log run time directory unique container able read file specify path criu configuration file runc signed radostin stoyanov rstoyanov,,
159,19be9ced929e155a6ca09036a13667b5493c802f,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-02-03 23:33:06 +0000, , docker test use containerd v1.5.0 beta.0 signed radostin stoyanov rstoyanov,,
160,b51fb87a447bf30952ad9371ce30dcb1f0410fd5,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-02-03 23:01:18 +0000, , move travis docker test github action travis longer providing minute open source project signed radostin stoyanov rstoyanov,,
161,77968d43c3641baa189212ee3547e932fff7f634,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2021-03-01 10:55:18 +0300,1332, pstree check pid collision switching new sid gid without check hit bug step later one thread image pid new sid gid also check save different sort unexpected error restore one non thread task image pid sid gid already fix 1332 signed pavel tikhomirov ptikhomirov virtuozzo.com,,
162,1c1949ab53b461b233c2dcac0fe9f15abc0bf532,drian Reber <areber@redhat.com>, 2021-03-04 17:41:06 +0000, , test move test minor s390x jenkins s390x test fails pidfile vt.pid outfile vt.out filename vt.test make makefile 432 vt.pid error test zdtm static fail make print directory zdtm static vt.pid test output 15.556 err vt.c open virtual terminal vt.test failed errno device address 15.556 err test.c 316 test exited unexpectedly code host ttys0 used previously change test use ttysclp0 seems exist multiple s390x checked signed adrian reber areber redhat.com,,
163,447b3cf61a107acf76f82aca5a4251a01b8323f2,mitry Safonov <dima@arista.com>, 2021-03-09 11:17:56 +0000, , zdtm fpu03 add .desc file omit running x86 managed forget .desc file ppc jenkins fails run 177 394 zdtm static fpu03 timens supported 5.8.18 run zdtm static fpu03 start test fpu03 pidfile fpu03.pid outfile fpu03.out make makefile 430 fpu03.pid error test zdtm static fpu03 fail make print directory zdtm static fpu03.pid test output 48.325 skip fpu03.c 116 unsupported arch 48.325 err test.c 316 test exited unexpectedly code   signed dmitry safonov dima arista.com,,
164,6569412bbd607cf7dcc4cc4983d13a2f754bed43,mitry Safonov <dima@arista.com>, 2021-02-26 03:10:35 +0000, , revert compel add ffreestanding force gcc use builtin memcpy memset reverts commit fpu sse mmx etc used inside parasite let compiler optimization back alexander mikhalitsyn virtuozzo.com signed dmitry safonov dima arista.com,,
165,fc1fefd6e40a41dee4eead12f91d7e5d805b2510,mitry Safonov <dima@arista.com>, 2021-02-26 03:09:01 +0000, , s390 purge stale comment signed dmitry safonov dima arista.com,,
166,24f57c68d99fecb71ad74bf7578d1f979e2252f4,mitry Safonov <dima@arista.com>, 2021-02-26 03:05:48 +0000, , fault injection run fpu corruption test thread leader subthreads signed dmitry safonov dima arista.com,,
167,e07e5eee3c70dfee97ee296647dddb6c41eccacd,mitry Safonov <dima@arista.com>, 2021-02-26 02:25:57 +0000, , compel provide arch dependend way restore extended register set use straight away restore per thread register signed dmitry safonov dima arista.com,,
168,e9b1e0b74cd94f7071be9f9b4636d2ebc556cfce,mitry Safonov <dima@arista.com>, 2021-02-26 01:08:00 +0000, , compel store extended register set thread context extended register set task restored rt_sigreturn prepared sigframe thread currently lost preserve inside thread context restore thread curing signed dmitry safonov dima arista.com,,
169,8394062e46e7fee371be3538f22c87353c39c24d,mitry Safonov <dima@arista.com>, 2021-02-25 23:35:15 +0000, , zdtm fpu03 add test check fpu thread criu dump main thread sub thread differently needed test check fpu preserved across sub thread signed dmitry safonov dima arista.com,,
170,6e1cd5b6a7bcb58c75421fb3c7d62e5dcb314d42,mitry Safonov <dima@arista.com>, 2021-02-25 23:10:49 +0000, , zdtm fpu00 simplify ifdeffery introduce new one signed dmitry safonov dima arista.com,,
171,2fdc09499d9df9c9e61d53cf0c121e3338538a8f,mitry Safonov <dima@arista.com>, 2021-02-25 19:57:10 +0000, , x86 compel fault inject add fault injection corrupting extended regset pseudo random garbage seed printed pr_err get_task_regs called seizing task also thread moment x86 signed dmitry safonov dima arista.com,,
172,e4e58a8f38edabf81a76b8fbfae395fc4b3819cf,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2021-02-25 12:56:37 +0300, , namespaces properly handle error snprintf snprintf truncated probably know instead continuing increase snprintf return number character would written number actually written normally check snprintf overflow error modern compiler print warning truncation checked probably case implemented truncation happened next iteration loop hit negative size snprintf got fix 90f043dea namespaces handle error snprintf signed pavel tikhomirov ptikhomirov virtuozzo.com,,
173,84be3047ad77b80df480610e284dbff03784428d,mitry Safonov <dima@arista.com>, 2020-11-12 03:10:52 +0000, , x86 use instead minimize thing done parasite used get remote also remove additional compat stack allocation parasite also asm coded syscall order use dumpee stopped let move criu compel non seized state put thread info x86 signed dmitry safonov dima arista.com,,
174,f8cf0715e23147c24775fdce398a42f3dc7407c1,mitry Safonov <dima@arista.com>, 2021-02-26 20:43:41 +0000, , compat check test bit elf sure lose compat_test way make signed dmitry safonov dima arista.com,,
175,e0d4aef3518aba3abef9e811b1551ce7dedd5447,ndrei Vagin <avagin@gmail.com>, 2021-03-01 23:12:22 -0800, , github stale separate label comma without following space signed andrei vagin avagin gmail.com,,
176,168668ec75e004327d1778a3b1875c870541506f,drian Reber <areber@redhat.com>, 2021-03-01 15:58:22 +0000, , fix fedora rawhide failure seems fedora rawhide tmp longer 1777 755 change back 1777 make run successful signed adrian reber areber redhat.com,,
177,ab395e423cf85f3980aac3d36b4079136255cb86,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2021-02-25 15:44:12 +0300,1372, plugin check plugin path truncation new compilators print warning snprintf return value checked truncation let make happy fix 1372 signed pavel tikhomirov ptikhomirov virtuozzo.com,,
178,3397ac0a7c0c20cbc1126ad80d4d86e28731988e,ndrei Vagin <avagin@gmail.com>, 2021-02-23 22:12:58 -0800,1373, unix check whether socket name null printing criu include log.h error directive argument null werror format overflow print_on_level log_debug  log_prefix fmt __va_args__  criu unix.c 133 note expansion macro pr_debug 133 pr_debug ino peer_ino family type state name  criu stats.o fix 1373 signed andrei vagin avagin gmail.com,,
179,950a88c741dbf511bb94b8cbfccb1a77286ff40c,ndrei Vagin <avagin@gmail.com>, 2021-02-23 22:08:27 -0800, , bug add bug_on_handler surpress false gcc warning like criu stats.c error array subscript array bound struct timing werror array bound return rstats timing  criu stats.c note referencing timing struct timing timing  cc1 warning treated error signed andrei vagin avagin gmail.com,,
180,42171caba4e4101e62f5b039ec9bc36bac3b6880,drian Reber <areber@redhat.com>, 2021-02-17 16:58:50 +0000, , test fix test compilation rawhide latest glibc redefined sigstksz sysconf _sc_sigstksz break static char definition hardcoding testsigstksz 16384 test fix sigaltstack.c error variably modified stack_thread file scope static char stack_thread sigstksz  sigaltstack.c error variably modified stack_main file scope static char stack_main sigstksz  signed adrian reber areber redhat.com,,
181,6110236b6d343a63053f80a41acb29e847b76de1,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-02-19 04:20:56 +0000, , zdtm add javatests output .gitignore signed radostin stoyanov rstoyanov,,
182,7a8f426f152f2449bea9106eac055b5d9c97f048,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-02-19 04:07:07 +0000, , test reduce verbosity mvn output option show error signed radostin stoyanov rstoyanov,,
183,89aa87484e0eef41bb51c5fb2751b8852346ba0a,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-02-19 04:18:36 +0000,1370, javatests add file lock option resolve 1370 signed radostin stoyanov rstoyanov,,
184,2692215a5fe252915ad39c01651aa1f57b909e37,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-02-19 04:14:53 +0000, , file lock add space error message signed radostin stoyanov rstoyanov,,
185,a277c84936218c76371403b67d4df2192a1c5776,drian Reber <areber@redhat.com>, 2021-02-17 17:03:10 +0000, , use runc instead crun podman test latest podman pull crun instead runc unfortunately crun built libcriu doe support checkpoint restore switch back runc signed adrian reber areber redhat.com,,
186,42c211285cd2a7cc1bb1b92a3d1233978b644c2c,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2021-02-09 20:26:34 +0000, , seccomp initialize seccomp_mode case assumed seccomp field missing proc pid status field missing properly initialized leading bad behavior initialize seccomp_mode default similarly done compel src lib infect.c signed nicolas viennot nicolas.viennot twosigma.com,,
187,1b5dbe56785c26f34cade4efdf5886fb8cd75832,ndrey Zhadchenko <andrey.zhadchenko@virtuozzo.com>, 2020-11-09 08:22:45 +0300, , zdtm add second fifo_upon_unix test differs previous one using relative path instead absolute chdir setup reviewed alexander mikhalitsyn virtuozzo.com reviewed pavel tikhomirov ptikhomirov virtuozzo.com signed andrey zhadchenko virtuozzo.com,,
188,903b903d22a572250c99a54dc6305300bd3f6db4,ndrey Zhadchenko <andrey.zhadchenko@virtuozzo.com>, 2020-09-18 00:35:48 +0300, , zdtm add fifo upon unix socket test case create unix socket unlink make fifo place reviewed alexander mikhalitsyn virtuozzo.com reviewed pavel tikhomirov ptikhomirov virtuozzo.com signed andrey zhadchenko virtuozzo.com,,
189,82f2033080cb49e57d26698008c3ae5760965bd4,ndrey Zhadchenko <andrey.zhadchenko@virtuozzo.com>, 2020-11-09 08:07:28 +0300, , unix rework use siocunixfile ioctl approach get socket opened o_path utilise detecting deletion resolving relative name preserve old method fallback new ioctl fails also remove overmount_sock crfail zdtm reworked use siocunixfile criu pas test reviewed alexander mikhalitsyn virtuozzo.com reviewed pavel tikhomirov ptikhomirov virtuozzo.com signed andrey zhadchenko virtuozzo.com,,
190,a4c000e30500994baace2a3e0b4756e8117b80d0,ndrey Zhadchenko <andrey.zhadchenko@virtuozzo.com>, 2021-01-11 18:17:40 +0300, , unix make criu respect existing file restoring ghost unix socket file place ghost unix socket criu delete restore trying recreate ghost one reviewed alexander mikhalitsyn virtuozzo.com reviewed pavel tikhomirov ptikhomirov virtuozzo.com signed andrey zhadchenko virtuozzo.com,,
191,8d92d4694808f96c6646da0a912169e6f05f2e9d,ndrey Zhadchenko <andrey.zhadchenko@virtuozzo.com>, 2021-01-11 17:57:05 +0300, , file reg rework strip_deleted moved strip_deleted util reworked part criu use without need file reg.h reviewed alexander mikhalitsyn virtuozzo.com reviewed pavel tikhomirov ptikhomirov virtuozzo.com signed andrey zhadchenko virtuozzo.com,,
192,9546f391926c2e4fc165e84d9e3af2cda3c7249d,ndrey Zhadchenko <andrey.zhadchenko@virtuozzo.com>, 2021-01-25 10:21:14 +0300, , file forget stripping deleted postfix linked file otherwise gon accumulated deleted postfix generated kernel every iteration eventually overflowing path_max make container undumpable signed cyrill gorcunov gorcunov virtuozzo.com,,
193,042560a2fdcfe722e8864e47e119e2c69c0b002e,drian Reber <areber@redhat.com>, 2021-02-01 11:08:24 +0000, , move coverage run github also connects coverage run codecov.io signed adrian reber areber redhat.com,,
194,3fb8cd3a4d68f3c0479ed124760ad8a65e16e596,ndrei Vagin <avagin@gmail.com>, 2021-02-01 03:41:18 +0300, , test zdtm check lock dumped file lock set criu find file lock file lock option set stop dumping process resume exit error signed andrei vagin avagin gmail.com,,
195,7a64074c0b899b98e0d5f438e8d3fa2f7706ed3b,ndrei Vagin <avagin@gmail.com>, 2021-02-01 03:43:57 +0300, , dump dump fail lock file lock set criu find file lock file lock option set stop dumping process resume exit error signed andrei vagin avagin gmail.com,,
196,81c3c9748a29b9b1825b88612ed03d85eea136ab,drian Reber <areber@redhat.com>, 2021-02-01 11:06:07 +0000, , move compat test github action signed adrian reber areber redhat.com,,
197,4c3f3245e0b0e972229b70e9b0a0996e7b731b54,drian Reber <areber@redhat.com>, 2021-02-01 11:37:36 +0000, , readme.md remove unused badge add new badge signed adrian reber areber redhat.com,,
198,10cb8521da1af12ff8b3875a9023b8c92e983f95,drian Reber <areber@redhat.com>, 2021-02-01 11:17:39 +0000, , readme.md remove trailing whitespaces signed adrian reber areber redhat.com,,
199,5792612d3199863db18694bb3d49460f912cb441,drian Reber <areber@redhat.com>, 2021-02-01 13:23:49 +0000, , move asan image streamer test github signed adrian reber areber redhat.com,,
200,2cb1156e6afba4baeab5b945b0c15036af3b3a8c,natasluo <luolongjuna@gmail.com>, 2021-01-29 13:48:57 +0000, , vdso fix segmentation fault caused char pointer array compile criu make debug run restore program produce segmentation fault aarch64 compile flag criu executes code pie unable visit content put variable stack signed anatasluo luolongjuna gmail.com,,
201,b62707bc1a1edc35254e2992a928f53a5fa5efcd,drian Reber <areber@redhat.com>, 2021-01-29 18:05:28 +0000, , tell podman use vfs storage driver signed adrian reber areber redhat.com,,
202,41efd592edd4d1db62a059de7026503573a67eb9,drian Reber <areber@redhat.com>, 2021-01-31 17:41:09 +0000, , move fedora rawhide based test away travis move fedora rawhide based test away travis github action x86_64 drone aarch64 signed adrian reber areber redhat.com,,
203,442dc651504b8e7a91b74df0d59b39671a3d67ad,drian Reber <areber@redhat.com>, 2021-01-31 17:38:45 +0000, , factor fedora rawhide setup run fedora rawhide based aarch64 container drone current dockerfile setup doe work move package installation dockerfile script prepare fedora rawhide.sh usable dockerfile environment drone environment signed adrian reber areber redhat.com,,
204,8c89fbde393c1526c586eb1b98c2b68201638aa1,drian Reber <areber@redhat.com>, 2021-01-31 17:30:46 +0000,1354, skip bpf test vagrant see http github.com checkpoint restore criu issue 1354 signed adrian reber areber redhat.com,,
205,9ec1f1a7be005e2632dce004fbabbddf4c1647b7,drian Reber <areber@redhat.com>, 2021-01-29 19:20:48 +0000, , upgrade vagrant fedora version update latest vagrant version fedora also using tty instead dev null vagrant also run dnf upgrade vagrant get latest kernel signed adrian reber areber redhat.com,,
206,d4b0f0f948e6bb0664ba79b6a83d39ecb455c834,drian Reber <areber@redhat.com>, 2021-01-29 19:24:55 +0000, , fix syntax error stale.yml comma need inside quote outside signed adrian reber areber redhat.com,,
207,098d4cc721a7687fdd7f122ab11e09eea998e0bc,ndrei Vagin <avagin@gmail.com>, 2021-01-27 00:31:27 -0800,1346, zdtm handle case test vma merged another one fix 1346 signed andrei vagin avagin gmail.com,,
208,7d63ceaecdff9b0fe9135b7ac3f626cd5c625f1e,ndrei Vagin <avagin@gmail.com>, 2021-01-20 23:49:28 -0800, , util zero event pointer avoid double free signed andrei vagin avagin gmail.com,,
209,90f043dea793bf4f9f0c5547b20dc320b082c6e2,ndrei Vagin <avagin@gmail.com>, 2021-01-20 23:48:31 -0800, , namespaces handle error snprintf signed andrei vagin avagin gmail.com,,
210,76f9ccc70802e2a4cea7f6ca398bfa9a590e0d06,drian Reber <areber@redhat.com>, 2020-12-29 08:47:26 +0000, , also use clang compel host bin running environment clang without gcc even installed doe work compel host bin hostcc default gcc clang set also set hostcc clang actually build compel host bin clang gcc signed adrian reber areber redhat.com,,
211,7766f12e94b9aaad3e6731c23fc4e44bd1ac72f4,drian Reber <areber@redhat.com>, 2020-11-12 12:22:41 +0000, , run aarch64 compile test drone besides travis drone seems service providing arm based build switch aarch64 arm32 build drone.io drone running docker container use setarch linux32 requires blocked syscall personality drone provides arch arm give architecture setarch linux32 travis aarch64 armv8l signed adrian reber areber redhat.com,,
212,af1103ff2f4a1cbcfb40cefeb6b195020ccba30e,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2021-01-20 11:12:51 +0300, , zdtm cleanup thread bomb test error handling printing let test_init earlier max_nr test_msg visible thread bomb.out also let check error malloc pthread_ ... function print message error proper deallocation least signed pavel tikhomirov ptikhomirov virtuozzo.com,,
213,9807413c3959ba4f82ab5b9c5457ac8f4bd42fbf,drian Reber <areber@redhat.com>, 2020-11-05 06:47:52 +0000, , move vagrant test cirrus travis dramatically reducing minute available criu need new place run test move vagrant based fedora vdso test case cirrus cirrus seems one free service allowing access dev kvm signed adrian reber areber redhat.com,,
214,11b3a1a75739ccdd4d0c057295108c97f18b9775,ndrei Vagin <avagin@google.com>, 2021-01-25 19:46:00 -0800, , workflow stale close issue label new feature enhancement,,
215,2cf09cc4eafcd61b8d311038da3825ba793ce0ab,ndrey Zhadchenko <andrey.zhadchenko@virtuozzo.com>, 2020-07-03 12:43:49 +0300, , fsnotify rework redundant code open_handle first part alloc_openable work function called rework call alloc_openable signed andrey zhadchenko virtuozzo.com,,
216,d3b1d6e0cac9d72a62e70d3e367192f6bcd4192c,ndrey Zhadchenko <andrey.zhadchenko@virtuozzo.com>, 2020-07-03 11:42:37 +0300, , mount adjust log level mnt_is_dir mnt_is_dir used looking suitable mount point case function may fail several time error level seems strict case added error message lookup_mnt_sdev case mnt_is_dir failed open_handle alloc_openable calling mnt_is_dir used call error afterwards adjusted log level result open_handle since allowed fail several time open_handle caller get_mark_path expect possible failure print error case signed andrey zhadchenko virtuozzo.com,,
217,504c032af14d35d012916c1c6e3fa1a3e58d9583,ndrey Zhadchenko <andrey.zhadchenko@virtuozzo.com>, 2020-07-03 11:31:01 +0300, , mount adjust log level get_clean_mnt case get_clean_mnt fails open_mountpoint still able resolve mount helper process print error worst case using pr_warn instead pr_perror signed andrey zhadchenko virtuozzo.com,,
218,41b486790a63d37a22791fbd777f2b053171e0ca,aleriy Vdovin <valeriy.vdovin@virtuozzo.com>, 2020-08-26 16:18:41 +0300, , dump exit call timing_stop stats initialized stats often call get_timing function bug assertion catch case stats failed initialize correctly stats initialized yet assertion also triggered dont want trigger happen case criu fails early step initializing stats happen following case cr_dump_tasks criu catch error call init_stats decides gracefully quit error call cr_dump_finish cr_dump_finish call timing_stop get_timing bug get triggered criu already quitting gracefully bug needed code path call timing_stop proper condition avagin rebase top criu dev minor change signed andrei vagin avagin gmail.com,,
219,3dc47b22de4b84a120635f9016e662daf601ecd6,drian Reber <areber@redhat.com>, 2020-10-14 08:29:13 +0000, , coverity get_service_fd passed parameter negative criu fdstore.c 110 function get_service_fd fdstore_sk_off return negative number criu fdstore.c 110 assign assigning get_service_fd fdstore_sk_off criu fdstore.c 114 passed parameter negative criu namespaces.c 1366 function get_service_fd usernsd_sk return negative number criu namespaces.c 1366 assign assigning get_service_fd usernsd_sk criu namespaces.c 1389 passed parameter negative signed adrian reber areber redhat.com signed andrei vagin avagin gmail.com,,
220,8112e7657e972e44223e4c363db9c183854553bc,drian Reber <areber@redhat.com>, 2020-10-13 17:11:52 +0000, , restore warning value stored ret never read criu restore.c 3230 note value stored ret never read ret false  3228 3229 pr_perror failed get number supplementary group 3230 ret false 3231 3232 n_groups signed adrian reber areber redhat.com,,
221,56853fb5354068fef213532aaea4a0ed45d98175,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-11-06 13:40:25 +0300, , memfd use proc_self instead getpid __open_proc look better functional change another implication nested pid namespaces support __open_proc getpid ... try open file process pid ns_root pidns bad see also aa2d92082 file use proc_self process access proc pid similar change signed pavel tikhomirov ptikhomirov virtuozzo.com,,
222,3f047f13a845ff7d941a8a7e15195e1603e566d3,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-11-10 11:36:02 +0300, , util move service_fd need avoid conflict file descriptor restored currently open_proc proc_self used restoring file descriptor going use memfd restore note get_proc_fd let close service detect service replaced open_pid_proc anyway e.g protected sfd context close open sfd replace without problem also add fixme check get_proc_fd error prone rare case nested pidns supported yet need populate new self service later available protected context also close proc self service called protected context much point closing anyway close proc self servicefd close_old_fds first wan reuse ancestor second junk yet beginning close_old_fds junk come service fds task parent shared fdtable would allow opendir_proc proc_self signed pavel tikhomirov ptikhomirov virtuozzo.com,,
223,4178beaa518e0285bb62daf831054e4de7029d44,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-12-15 10:49:34 +0300, , servicefd move service fds case remain place improve check skip moving service fds need move anything old service fds resulting offset new service fds resulting offset save excess call dup fcntl f_dupfd currently check base shared fdt also situation different base different shared fdt still give offset sum running zdtm virtuozzo seen case service_fd_base 512 new_base 128 service_fd_id service_fd_max signed pavel tikhomirov ptikhomirov virtuozzo.com,,
224,0e7321c2fcc5626b45266290b17d9e690d526479,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-01-12 08:49:02 +0000, , compel test fix gcc wall werror compel include uapi spy spy.c compel libcompel.a spy.c function spy.c 107 error ignoring return value writeâ declared attribute werror unused result 107 write wfd  spy.c 108 error ignoring return value readâ declared attribute werror unused result 108 read rfd aux sizeof aux  cc1 warning treated error signed radostin stoyanov rstoyanov,,
225,cf0337c808a85e795e826db74b16e518467cead8,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-01-11 23:38:43 +0000, , compel fix missing loff_t alpine musl defines loff_t fcntl.h off_t patch resolve following error running compel test alpine linux gcc wall werror wstrict prototype fno stack protector nostdlib fomit frame pointer ffreestanding fpie compel include uapi parasite.o parasite.c file included compel include uapi compel plugins std syscall.h compel include uapi compel plugins std.h parasite.c compel include uapi compel plugins std syscall 64.h error unknown type name loff_t mean off_t extern long sys_pread unsigned int char buf size_t count loff_t  off_t compel include uapi compel plugins std syscall 64.h error unknown type name loff_t mean off_t extern long sys_fallocate int int mode loff_t offset loff_t len  off_t compel include uapi compel plugins std syscall 64.h error unknown type name loff_t mean off_t extern long sys_fallocate int int mode loff_t offset loff_t len  off_t make makefile parasite.o error signed radostin stoyanov rstoyanov,,
226,1b3274a9094c6ede659df897c770c451a3201d38,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-01-11 22:59:06 +0000, , enable compel testing signed radostin stoyanov rstoyanov,,
227,988b402307045670f8ebaa6923d7b3d660663c76,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-01-11 22:41:54 +0000, , compel test add main makefile change enable running compel test single command root path repository sudo make compel test signed radostin stoyanov rstoyanov,,
228,61db62a8765d06191a461185a7c897dc5d0999e2,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2021-01-11 00:00:02 +0000,1333, compel test resolve missing includes resolve 1333 signed radostin stoyanov rstoyanov,,
229,f5a408cdd3cfc584a7da744fa21df5c476cbbb0c,ndrei Vagin <avagin@gmail.com>, 2021-01-01 01:21:44 +0300,1325, dump ppc64 arm mips sanitize eintr transition case get_task_regs depends kernel internals much reason rely fact going sigreturn always set restart_block return eintr change code enforce eintr restore actually want teach criu handle add pr_warn make potential bug report understandable sane application handle eintr correctly always case fix 1325 report travis inspired dd71cca58ada dump x86 sanitize eintr transition signed andrei vagin avagin gmail.com,,
230,b4be97de96b32c875b5b49876d6d2de1b2d19502,drian Reber <areber@redhat.com>, 2020-12-31 09:02:30 +0000, , github auto close stale issue pull request copy stale.yml podman repository automatically close ticket 365 day day ticket issue marked stale 365 ticket issue finally closed signed adrian reber areber redhat.com,,
231,43023fe75a6912da48da05b939bff491f14ee854,ndrei Vagin <avagin@gmail.com>, 2021-01-01 14:20:09 +0300, , zdtm look iptables sbin usr sbin ubuntu 20.04 iptables usr sbin reported jenkins signed andrei vagin avagin gmail.com,,
232,cb9c85fb6cbb2b3e711dfdc5e4d26a062e0c2e6a,ndrei Vagin <avagin@gmail.com>, 2020-12-28 20:51:27 +0300,1266, test zdtm_ct run zdtm.py host time namespace 5.11 kernel known issue start_time proc pid stat printed host time namespace proc uptime shown current namespace criu compare detect new task reused one old pid fix 1266 signed andrei vagin avagin gmail.com,,
233,5351b6efe8d4adeaaaaef47f581392547870d02a,drian Reber <areber@redhat.com>, 2020-12-26 19:29:58 +0000, , alpine busybox based free doe understand signed adrian reber areber redhat.com,,
234,72fc2e8e403d900e1e60e1b7b367416aca4c1662,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-11-10 15:37:00 +0300, , namespaces set rst error switch_ns_by_fd small cleanup behaviour change signed pavel tikhomirov ptikhomirov virtuozzo.com,,
235,cf8c88df68fdc3c98e9e69ebdd636f1ca1cb77c5,drian Reber <areber@redhat.com>, 2020-12-17 13:47:36 +0000, , move alpine based test github action signed adrian reber areber redhat.com,,
236,944bd0b6ea91c8025ed43c32ded8cf337f0243ed,drian Reber <areber@redhat.com>, 2020-12-20 17:08:18 +0000, , give overview current environment criu using multiple different system add printout run environment easier debugging possible error also use build criu test easily see compiler option used signed adrian reber areber redhat.com,,
237,52bbac5a9a4f1f75546bee1c753d5e8b29c65af8,drian Reber <areber@redhat.com>, 2020-12-16 18:58:23 +0000, , add circle definition circle provides bare metal test system good environment criu test case add two run circle circle necessary tell clang use gcc hard coded ubuntu clang doe signed adrian reber areber redhat.com,,
238,ac9843b089140f9a6391cc2e03b80f49a116fc05,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-12-18 12:03:17 +0300, , contributing.md add component prefix subject example one git log oneline quite easy see begin subject line capital letter start subject component prefix component mostly lowercase let fix contribution guide mislead newcomer signed pavel tikhomirov ptikhomirov virtuozzo.com,,
239,e403226ce6f74a4448015568cc15d6da6ea372a1,mitry Safonov <dima@arista.com>, 2020-12-14 10:11:49 +0000, , .gitignore remove qemu user static thing since commit fe668075ad2a travis switch pcp64le s390x real hardware signed dmitry safonov dima arista.com,,
240,bde4e8565da3b509e43432c6d60085a875eee74e,mitry Safonov <dima@arista.com>, 2020-12-14 10:00:04 +0000, , script use powertools repo name see http bugs.centos.org view.php 17920 signed dmitry safonov dima arista.com,,
241,e0da8b895ede46e197e9813dc87b55f4b1a7e93c,natasluo <luolongjuna@gmail.com>, 2020-12-03 10:53:43 +0000, , x86 asm fix compile error bitops.h build ubuntu 18.04 amd64 command make debug produce following error include common asm bitops.h assembler message include common asm bitops.h error incorrect register edx used suffix signed anatasluo luolongjuna gmail.com,,
242,a9d08735f196e19e0f692e0a3f00f8d3b1f358f1,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-11-02 15:00:58 +0300, , others ns_ext restore process pid namespaces host pid namespace quiet common case move process one pidns another existing pidns criu restriction pid intersect let check work use pipe synchronize process run test pid namespace avoid pid conflict host pid namespace grep error restore.log add comment use 1000 ns_last_pid test work system low pid_max remove excess developed andrei vagin avagin gmail.com signed pavel tikhomirov ptikhomirov virtuozzo.com,,
243,660e12843c1da7a28eb1225bfb8d7f5b3d186b09,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-10-28 13:24:36 +0300, , restore setup external pidns root task task inherit let remove excess step also add info message external pidns used signed pavel tikhomirov ptikhomirov virtuozzo.com  add new external_pidns variable sinchronize external pidns case,,
244,c72901dcb2e1e9c56407062c9216066ac6ed331d,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-10-28 11:45:55 +0300, , namespaces make root_ns_mask consistent make root_ns_mask always display namespaces root task different criu one play temporary unsetting make variable hard understand shared memory disable init_pid pidns dumped check external pidns explicitly iii dump check pidns root task external pidns external case future would support nested pidns would wrong also allows use regular lookup_ns_by_id search error killing task kill root task init pidns previousely clone_newpid set root_ns_mask external pidns root task init killed root task error cleanup signed pavel tikhomirov ptikhomirov virtuozzo.com,,
245,5db1657abf8877d9f61342163c74fa7f32c0c99a,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-10-27 18:26:35 +0300, , restore make clone_newpid flag clone_flags consistent let make clone_newpid rsti item clone_flags always mean need clone clone_newpid create task pidns reaper would flag restored via clone clone_newpid flag non pidns reaper root task pidns different criu restored external pidns let remove clone_flags variable fork_with_pid doe actually needed clone_flags introduced able restore external pidns rsti item clone_flags determined mean parent different namespace item item root task criu different namespace support nested pid namespaces always false two case pid init_pid possible restore external pidns pid init_pid possible restore external pidns previousely clone_newpid flag rsti item clone_flags workaround added extra clone_flags variable think needed simply remove clone_newpid non reaper process initially also code removing clone_newpid clone_flags adding flag rsti item clone_flags super strange see place later use rsti item clone_flags iii also print differen flag forking task ... actually use clone signed pavel tikhomirov ptikhomirov virtuozzo.com,,
246,b27c7e9c861e736ea4db303096d98249efed378d,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-12-03 10:22:18 +0300,1301, compel handle elf override unexpected precalculated address seen address parasite.built in.o precalculated linker unexpected manner readelf criu pie parasite.built in.o section header name type address size flg inf .text progbits 000040 00400a .data progbits 005000 000068 4096 .rodata progbits 005080 001016 note section doe shf_alloc size skip need add spec usr lib rpm redhat redhat annobin cc1 cflags reproduce section address 0x80 elf file consequent address precalculation algorithm 0x5080 addr .text 0x0 addr .data 0x400a 0x1000 0x400a 0x1000 0x68 0x5068 addr .rodata 0x5068 0x20 0x5068 0x20 0x5080 probably linker advises move 4096 aligned section beginning save space guess probably ready non consequent alignment precalculated override http github.com checkpoint restore criu issue 1301 signed pavel tikhomirov ptikhomirov virtuozzo.com,,
247,55a8b099ddf7003bf6755ff831b6aeecaabf0d2c,im Gates <tim.gates@iress.com>, 2020-11-29 19:08:26 +1100, , doc fix simple typo clietn client small typo test zdtm static socket_aio.c test zdtm static socket_listen.c test zdtm static test zdtm static test zdtm static socket_udp corked.c test zdtm static socket_udp.c test zdtm static read client rather clietn signed tim gate tim.gates iress.com,,
248,9cc1f051efc6893bdb7f14b05638534e4e7f765b,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-11-20 12:40:20 +0300, , vim remove wrong space tab indent python file probably vim user setup desired indent vimrc themselfs signed pavel tikhomirov ptikhomirov virtuozzo.com,,
249,82f6518db35e392a7d31094b1cca3f19271ea9c2,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-11-20 13:06:13 +0300,1280, zdtm fail error also print tail log see strange case page server lazy page exiting non zero print error probably tail log help understand happened grep_errors let change case explicitly exeption bad ret others sure need extra output e.g validly failing fault injection debug 1280 signed pavel tikhomirov ptikhomirov virtuozzo.com,,
250,bc94f35a0b75fa13542558f25d0896b1d1d8b1b9,ike Rapoport <rppt@linux.ibm.com>, 2020-11-19 19:17:35 +0200, , uffd check exited task reading uffd_msg sometimes uffd message queue dying task time message processed handle_request uffd longer valid reading cause error add processing ebadf gracefully handle situation signed mike rapoport rppt linux.ibm.com,,
251,87d007bcd0a83af4576581bba10e63637cef01e6,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-11-20 11:31:40 +0300,1277, uffd cleanup read error handling use errno case read returned according man found scope 1277 signed pavel tikhomirov ptikhomirov virtuozzo.com,,
252,a667d5778e3651cde327db77f326fe3a304e95c6,mitry Safonov <dima@arista.com>, 2020-11-11 01:24:48 +0000, , restore properly inspect status sigchld_process currently code check sigstop current let provide better status check debug ability signed dmitry safonov dima arista.com,,
253,a813f86767760abd75f708becc0be6dc3359de45,drian Reber <areber@redhat.com>, 2020-11-12 11:07:18 +0000, , remove special handling mips schedule daily special definition needed mips part release branch release branch contains mips longer necessary separate file mips also change make scheduled run actually daily hourly signed adrian reber areber redhat.com,,
254,430e464c75598352009e88cf837d8f38874c5c6e,drian Reber <areber@redhat.com>, 2020-11-12 17:53:00 +0000, , remove centos7 travis running github action signed adrian reber areber redhat.com,,
255,3cf87ed48527b3013319ec7047f9c68e83df3fd3,drian Reber <areber@redhat.com>, 2020-11-04 07:51:32 +0000, , use graviton2 arm64 test travis using travis ci.com instead travis ci.org offer access bare metal aarch64 based system thus enabling run full criu test suite switch arm64 based test arm64 graviton2 test first non x86_64 architecture running test compile travis signed adrian reber areber redhat.com,,
256,42a86db74b4b5a15d2d1ea83f5aeea31d4b244ba,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2020-11-20 20:44:59 +0000, , add logging within send recv callback log message showing send recv errno value would help debug issue 1280 example error criu tls.c 321 pull callback recv failed connection reset peer error criu tls.c 147 failed receiving data error pull function error criu page xfer.c 1225 page xfer read pagemap socket error signed radostin stoyanov rstoyanov,,
257,0ecec9966c15ad11d8557a36452f9b8648554e39,mitry Safonov <dima@arista.com>, 2020-11-12 00:26:11 +0000, , compel log provide specifier parsing quite common remember workarounds print unsigned long long whatever support hard much code signed dmitry safonov dima arista.com,,
258,56d3eab1cbfbf16d7904778db7736feb9ed54ea0,mitry Safonov <dima@arista.com>, 2020-11-11 23:14:39 +0000, , compel log stop parsing unknown format specifier currently specifier parsed error message printed parsing format string continues wrong argument specifier used next specifier i.e pr_info 0ul crash pie known argument 0ul used dereferencing string stop parsing printf position argument unknown specifier make string visible grep error zdtm.py catch log dump zdtm static busyloop00 restore.log grep error 00.001847 pie vdso error unknown printf format error send signal wait zdtm static busyloop00 die 0.100000 test zdtm static busyloop00 pas reported ashwani29 signed dmitry safonov dima arista.com,,
259,403741feb36938f1de952f898a4645d78dc5f26b,mitry Safonov <dima@arista.com>, 2020-11-11 20:01:03 +0000, , vdso let zero terminator vdso symbol copied zero terminated logging code want print vdso name differ vdso image vdso provided kernel pr_info offset differs sym_name sym_offset rt_sym_offset unlikely event vdso function name longer currently null terminator missing signed dmitry safonov dima arista.com,,
260,ab288c35cb3ac4988151bcec61d44f54a8052dd7,drian Reber <areber@redhat.com>, 2020-11-12 11:17:01 +0000, , uffd handle xrealloc failure case xrealloc fails overwrite original pointer able free original pointer exit signed adrian reber areber redhat.com,,
261,7e1f22b78f158c5801b5d4323a9c06fbdac9f082,drian Reber <areber@redhat.com>, 2020-11-08 11:54:20 +0000, , uffd fix double free detected tcache one previous static code analyzer fix added xfree end cr_lazy_pages however happen complete_forks memory location event moved xrealloc final xfree done wrong address passing event handle_requests enables xfree free correct changed memory location signed adrian reber areber redhat.com,,
262,ffac3d649da087b65729ee6dcbe3cf05ab6faa86,drian Reber <areber@redhat.com>, 2020-09-28 16:34:24 +0000, , add centos based run centos based run based centos centos exists already time centos probably end life point add centos based run prepared time centos away signed adrian reber areber redhat.com,,
263,407404297e886f170eabd3032af86636142744c6,drian Reber <areber@redhat.com>, 2020-11-07 12:40:22 +0000, , switch centos7 github action signed adrian reber areber redhat.com,,
264,369e17b293378e93514b8eb922e39da1ce1c4e76,drian Reber <areber@redhat.com>, 2020-09-30 13:08:02 +0000, , travis rename centos test centos7 actually running centos easier distinguish new centos test signed adrian reber areber redhat.com,,
265,68585dec91dfc74e90615c40dd2a07ee0f78494e,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2020-11-07 19:14:10 +0000, , criu remove unreachable statement raising exception break normal flow control code block exception handled interpreter terminates execution program return interactive main loop signed radostin stoyanov rstoyanov,,
266,953e87c7b4aed8c92634d488eb8b5e9d2bde95a8,ike Rapoport <rppt@linux.ibm.com>, 2020-11-08 09:50:23 +0200, , fix lazy page test selection special character test selection regexp esaped regexp work properly signed mike rapoport rppt linux.ibm.com,,
267,8722bf012c6c1aab2c6e5983fbf6d089bae1caf2,drian Reber <areber@redhat.com>, 2020-11-07 13:22:20 +0000, , fix lazy test lazy test executed kern_maj kern_min currently system running something 5.4.x mean kern_maj greater kern_min running lazy test commit remove complete lazy test kernel version detection kernel system new enough always required feature signed adrian reber areber redhat.com,,
268,50878f4f7a003af4d0574ec12d98b1ba20481757,drian Reber <areber@redhat.com>, 2020-11-03 11:09:38 +0000, , distribute job system move podman openj9 x86_64 test travis github action signed adrian reber areber redhat.com,,
269,0e47308d0f64d54c70b4a39d18e41db82bbd7733,drian Reber <areber@redhat.com>, 2020-11-03 10:18:02 +0000, , rename travis criu already using multiple system travis renames travis related thing show actually independent travis simple rename signed adrian reber areber redhat.com,,
270,2d290eeb0a5aee233f8c1cf330336a6c2e54f562,drian Reber <areber@redhat.com>, 2020-10-14 10:15:04 +0000, , namespaces fix declaring variable path without initializer criu namespaces.c 529 var_decl declaring variable path without initializer criu namespaces.c 602 using uninitialized value path argument calling print_on_level signed adrian reber areber redhat.com,,
271,cec432500d375f05eff908bd5216fe705420155c,drian Reber <areber@redhat.com>, 2020-10-14 08:46:26 +0000, , coverity img_raw_fd return negative number criu pagemap.c 245 function img_raw_fd return negative number criu pagemap.c 245 assign assigning img_raw_fd criu pagemap.c 258 passed parameter negative criu ipc_ns.c 762 function img_raw_fd img return negative number criu ipc_ns.c 762 assign assigning ifd img_raw_fd img criu ipc_ns.c 768 ifd passed parameter negative signed adrian reber areber redhat.com,,
272,84df563c5c9781517a19f0e8df1d1f6ed53f007d,drian Reber <areber@redhat.com>, 2020-10-14 08:23:01 +0000, , unix ignore coverity chroot warning criu unix.c 1173 chroot_call calling chroot chroot criu unix.c 1175 chroot calling function close_safe chroot calling chdir criu unix.c 1251 chroot_call calling chroot chroot criu unix.c 1263 chroot calling function print_on_level chroot calling chdir coverity also say 175312 175313 insecure chroot call chroot followed call chdir chroot jail confinement violated signed adrian reber areber redhat.com,,
273,ef4ec3261c5f9f535a8e6fb59c85f86754fe0d96,drian Reber <areber@redhat.com>, 2020-10-13 15:03:10 +0000, , dump get_service_fd passed parameter negative signed adrian reber areber redhat.com,,
274,d95c2683b9f6e059ac53bbab79a3326f602b1e99,drian Reber <areber@redhat.com>, 2020-10-14 06:27:17 +0000, , util fix double_close false positive coverity doe understand close_fds work signed adrian reber areber redhat.com,,
275,5527329ba209b2855fbc588943873e6b1dc14bfa,drian Reber <areber@redhat.com>, 2020-10-13 17:05:15 +0000, , dump potential leak memory pointed signed adrian reber areber redhat.com,,
276,fc20d280c3ef2c4a37b0080760a87f0c174a360d,drian Reber <areber@redhat.com>, 2020-10-13 16:49:35 +0000, , coverity fix declaration hide parameter signed adrian reber areber redhat.com,,
277,73ed071e058d83c7ae7f0de5d01980be9f41899b,drian Reber <areber@redhat.com>, 2020-10-13 15:06:55 +0000, , restore value stored ret never read signed adrian reber areber redhat.com,,
278,53501e5e83a11b8fae5eacb844bdab02d4a1b247,drian Reber <areber@redhat.com>, 2020-10-13 14:57:55 +0000, , dump potential leak memory pointed signed adrian reber areber redhat.com,,
279,36f9700b13002cdfa0243a279e10b2fd9bfac32a,drian Reber <areber@redhat.com>, 2020-10-13 13:38:48 +0000, , vdso compat let coverity know function doe return signed adrian reber areber redhat.com,,
280,62ab67ed5a3193af79a6f0422dd857fe1ef5e965,drian Reber <areber@redhat.com>, 2020-10-13 10:42:46 +0000, , coverity ignore checked_return ignore coverity error checked_return signed adrian reber areber redhat.com,,
281,42e3e2e8439dbf900c60086acb8cde823315fe26,drian Reber <areber@redhat.com>, 2020-10-13 10:37:41 +0000, , autofs potential leak memory pointed token using strsep move pointer original string introduces copy malloc memory able free later signed adrian reber areber redhat.com,,
282,84ffb965c29b56abfde0ba87921860f614ec053a,drian Reber <areber@redhat.com>, 2020-09-29 11:28:35 +0000, , unix overwrite function parameter function parameter time variable loop name real error problem function parameter never used whole function trying reduce confusion making code checker happy signed adrian reber areber redhat.com,,
283,eb741528f19e5e101eb8904760d13bf12a489d91,drian Reber <areber@redhat.com>, 2020-09-29 11:22:26 +0000, , use none instead none signed adrian reber areber redhat.com,,
284,407d3fe0fea253d4336787e512a64bb6545f741a,drian Reber <areber@redhat.com>, 2020-09-29 11:18:37 +0000, , bfd remove unused line signed adrian reber areber redhat.com,,
285,bbca79ab66a5e3b9c26879125eb1e0d83feed2b0,drian Reber <areber@redhat.com>, 2020-09-29 11:18:09 +0000, , coredump remove two unused variable signed adrian reber areber redhat.com,,
286,6a9bff88b5834d9997df09d1b07de9906bec20f4,drian Reber <areber@redhat.com>, 2020-09-29 11:16:54 +0000, , lib remove unused variable signed adrian reber areber redhat.com,,
287,e13a7ecd276909344210734f3d5017ae30d9e056,drian Reber <areber@redhat.com>, 2020-10-13 07:21:19 +0000, , infect initialize struct avoid clang_warning using scan build warning infect.c 231 warning left operand garbage value state false positive every process status field initializing structure make clang analyzer silent signed adrian reber areber redhat.com,,
288,b80dd7e7c0a526e67543cd926bdddbba2d359c95,drian Reber <areber@redhat.com>, 2020-10-13 06:17:32 +0000, , lock disable clang_analyzer lock_bug_on macro clang analyzer scan build correctly handle lock_bug_on macro multiple place following warning error clang_warning criu pie restorer.c 1221 warning dereference null pointer include common lock.h note expanded macro lock_bug_on volatile unsigned long null 0xdead0000 __line__  disable clang analyzer lock_bug_on macro signed adrian reber areber redhat.com,,
289,2ec05a0563a6700bd6f8372d95e1205e285d9a2d,ichaÅ CÅapiÅski <mclapinski@google.com>, 2020-10-13 01:47:09 +0200, , compel mmap parasite rwx kernel mitigation mean execute memory block memory block also writable ever writable patch enables criu run kernel align .data section page mmap memory block parasite mprotect everything .text signed michaå apiå ski mclapinski google.com,,
290,53dd29e93a8cbaf4aea0e81de3de98a1bd2e1f8f,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2020-10-06 21:25:23 +0100, , restore wait child reap zombie pid criu restore run pid additional responsibility reap zombie process signed radostin stoyanov rstoyanov signed andrei vagin avagin gmail.com,,
291,265569a40f04326dc2b310eb5ddbac9c1cb989e3,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2020-10-06 03:59:38 +0100, , criu use pid restore criu performs double fork result criu restore using pid thus user trying restore process pid restore fail signed radostin stoyanov rstoyanov,,
292,e18017285b69bf465f27a6ad46c17c70913e51d7,drian Reber <areber@redhat.com>, 2020-09-28 07:04:00 +0000,1, flog missing varargs init cleanup varargs cid 302713 missing varargs init cleanup varargs va_end called argptr signed adrian reber areber redhat.com,,
293,532944695f9760af18bdeb36a1beb7da340cb98c,rakritigoyal19 <prakritigoyal19@gmail.com>, 2020-06-07 09:22:53 +0530, , add flog criu change made commit include copy flog seperate tree modify makefile add compile flog code signed prakritigoyal19 prakritigoyal19 gmail.com,,
294,bfb051a51c31556092a1512fdb88c6807f4e61b1,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-04-07 20:55:32 +0100, , criu convert c_char_p string byte object class ctypes.c_char_p represents char datatype point zero terminated string general character pointer may also point binary data pointer c_char must used constructor accepts integer address byte object http docs.python.org library ctypes.html ctypes.c_char_p signed radostin stoyanov rstoyanov1 gmail.com,,
295,3f718972900133bdebdacde99646b30363708c1d,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-04-07 20:43:12 +0100, , criu print usage info args provided signed radostin stoyanov rstoyanov1 gmail.com,,
296,226efaac9ba8564f39b0bed181ffca4ce93890e0,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-04-07 20:41:37 +0100, , criu convert python3 style print syntax signed radostin stoyanov rstoyanov1 gmail.com,,
297,ca5c93d38385e507cf02209a97e904cd602a104c,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-09-23 15:31:54 +0100, , python replace xrange range py2 range return list xrange creates sequence object evaluates lazily py3 range equivalent xrange py2 signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
298,1609a345a52dd47b06d7973ac878d4eecd0e3322,avel Emelyanov <xemul@virtuozzo.com>, 2016-08-03 18:14:00 +0300, , crns.py new attempt unshare option enhanced version first try change wrapper name criu instead crns.py cli absolutely criu since script execl criu binary e.g script criu dump 1234 ... work caller need care substituting cli option instead script analyzes command line replaces tree argument virtual pid __if__ target task life another pidns keep current cwd root __if__ switch another mntns limitation applies cwd path target smart path mapping performed script useful mntns clone main goal moment signed pavel emelyanov xemul virtuozzo.com look good andrey vagin avagin openvz.org,,
299,f68da4a86fee62af216e9e7520f4916aa29e797b,ndrei Vagin <avagin@gmail.com>, 2020-10-29 18:41:48 +0300, , criu version 3.15 yet another big release many new feature introduced criu image streamer added mips support allow checkpointing existing pid namespace restoring existing pid namespace added additional file validation mechanism added support checkpoint restore bpf hash map array map initial cgroup2 support signed andrei vagin avagin gmail.com,,
300,5a655e890a1275ced0f646ebee7a17fa297687a6,drian Reber <areber@redhat.com>, 2020-10-14 08:18:42 +0000, , travis install gzip redhat rpm config fedora rawhide based test signed adrian reber areber redhat.com,,
301,1062cc4fed4dde525c0d5055b03db1af30b1cfbd,ike Rapoport <rppt@linux.ibm.com>, 2020-10-12 10:05:39 +0300,1217, x86 asm update test_bit build fedora core produce following warning include common asm bitops.h assembler message include common asm bitops.h warning instruction mnemonic suffix given register operand using default include common asm bitops.h assembler message include common asm bitops.h warning instruction mnemonic suffix given register operand using default bts update test_bit implementation recent version linux kernel fix warning fix 1217 reported adrian reber areber redhat.com signed mike rapoport rppt linux.ibm.com,,
302,c7726b7f35d726021e1c10feee265837a7df92f7,ndrey Zhadchenko <andrey.zhadchenko@virtuozzo.com>, 2020-10-05 21:31:26 +0300, , zdtm add alternative socket filter little rework sock_filter test able use different filter signed andrey zhadchenko virtuozzo.com,,
303,5c4cc46fdc2318fa4a68699cbce59cb37d2ebab5,ndrey Zhadchenko <andrey.zhadchenko@virtuozzo.com>, 2020-10-01 21:18:40 +0300, , socket fix incorrect malloc size signed andrey zhadchenko virtuozzo.com,,
304,749eb33a92522d4fff7095b539fc3dc595824eb4,ojciech Marczenko <marczenko@google.com>, 2020-10-07 12:35:49 +0200, , compel calculate sh_addr provided linker gnu precalculates information lld doe change handle elf.c calculates address calculating address section shf_alloc bit put one another respecting alignment requirement match way blob constructed copying section content signed wojciech marczenko marczenko google.com signed andrei vagin avagin gmail.com,,
305,867dd27c96f5a44bea50650f68c4d93d8fcf4a80,drian Reber <areber@redhat.com>, 2020-09-29 08:43:51 +0000,1, util improper use negative value cid 73358 improper use negative value passed parameter negative signed adrian reber areber redhat.com,,
306,16aea4a7c9fccc109fcc6da686cd7466c6f00e46,drian Reber <areber@redhat.com>, 2020-09-28 09:45:24 +0000,1, mount explicit null dereferenced forward_null cid 181217 explicit null dereferenced forward_null passing null pointer mntns dereferences signed adrian reber areber redhat.com,,
307,5f0674075e1ded5e94138b2083f0b13ad0bf1548,drian Reber <areber@redhat.com>, 2020-09-28 08:57:07 +0000,1, util improper use negative value cid 192968 improper use negative value dup passed parameter negative show detail signed adrian reber areber redhat.com,,
308,ca7a832b5e2fff9cf3f72a8b25d306bab857834e,drian Reber <areber@redhat.com>, 2020-09-28 10:47:31 +0000,2, page xfer argument negative cid 73358 argument negative passed parameter negative signed adrian reber areber redhat.com,,
309,f0e48be482c1ba1049d3b36dc8468bb4dec0df59,drian Reber <areber@redhat.com>, 2020-09-28 10:40:27 +0000,1, netlink argument negative cid 73378 argument negative passed parameter negative signed adrian reber areber redhat.com,,
310,4e42278715707c95504da382f8dd064470bf9df4,drian Reber <areber@redhat.com>, 2020-09-28 10:37:26 +0000,1, kerndat argument negative cid 92720 argument negative pfd passed parameter negative cid 92747 argument negative pfd passed parameter negative signed adrian reber areber redhat.com,,
311,50dbcadf03b38b79adfd551bbc59f497bab65a8b,drian Reber <areber@redhat.com>, 2020-09-28 10:31:06 +0000,1, net argument negative cid 178391 argument negative passed parameter negative signed adrian reber areber redhat.com,,
312,4a77e0456c651044bc17e0445bce7358be367493,drian Reber <areber@redhat.com>, 2020-09-28 09:21:11 +0000,1, net argument negative cid 192961 argument negative sockfd passed parameter negative signed adrian reber areber redhat.com,,
313,5631e9dca753e1e570bd989fd4fd49b865cb36cc,drian Reber <areber@redhat.com>, 2020-09-28 09:18:42 +0000,1, action script improper use negative value cid 192963 improper use negative value dup passed parameter negative signed adrian reber areber redhat.com,,
314,0f4b053c18ba29803a8094026def2360f8b42ef1,drian Reber <areber@redhat.com>, 2020-09-28 07:56:19 +0000,1, dump resource leak resource_leak cid 226477 resource leak resource_leak variable fd_dir going scope leak storage point signed adrian reber areber redhat.com,,
315,7e4f50e747fe6d863181b088b07d4db46d140e33,drian Reber <areber@redhat.com>, 2020-09-28 07:54:24 +0000,2, irmap double close use_after_free cid 226478 double close use_after_free calling close int close handle already closed cid 226478 double close use_after_free calling close int close handle already closed signed adrian reber areber redhat.com,,
316,2ed16451b004521356a0bf6e7c20b049c9c2833d,drian Reber <areber@redhat.com>, 2020-09-28 07:51:28 +0000,1, proc_parse copy fixed size buffer string_overflow cid 226480 copy fixed size buffer string_overflow might overrun 4096 character fixed size string root_link.name copying new root without checking length signed adrian reber areber redhat.com,,
317,8645648235c9a417fa04500e0219df9f99a1cf50,drian Reber <areber@redhat.com>, 2020-09-28 07:34:40 +0000,1, autofs resource leak resource_leak cid 226482 resource leak resource_leak variable path going scope leak storage point signed adrian reber areber redhat.com,,
318,90369437f981a105dc87b53eee8d6beeed090f09,drian Reber <areber@redhat.com>, 2020-09-28 07:27:45 +0000,1, cgroup prop resource leak resource_leak cid 226483 resource leak resource_leak variable going scope leak storage point signed adrian reber areber redhat.com,,
319,2a4c4bf2fceea879c4b889df2d88ff3ce1f98398,drian Reber <areber@redhat.com>, 2020-09-28 07:24:02 +0000,1, filesystem double close use_after_free cid 226484 double close use_after_free calling close int close handle already closed signed adrian reber areber redhat.com,,
320,38246bf554f78a0b6304ec064a0fbf2291997994,drian Reber <areber@redhat.com>, 2020-09-28 07:17:46 +0000,3, uffd resource leak resource_leak cid 226485 resource leak resource_leak variable event going scope leak storage point cid 226485 resource leak resource_leak variable event going scope leak storage point cid 226485 resource leak resource_leak variable event going scope leak storage point also changed epoll_prepare check return value epoll_create instead make coverity happy signed adrian reber areber redhat.com,,
321,03d66390b0eafff7e346f0f681b6b1533f2d1d26,drian Reber <areber@redhat.com>, 2020-09-28 07:12:15 +0000,2, mount resource leak resource_leak cid 226486 resource leak resource_leak variable going scope leak storage point cid 226486 resource leak resource_leak variable going scope leak storage point signed adrian reber areber redhat.com,,
322,c1ab1a19e16b53219e393d271c0ec3960ee92d7a,drian Reber <areber@redhat.com>, 2020-09-28 07:08:49 +0000,1, pagemap logically dead code deadcode cid 302711 logically dead code deadcode execution reach expression io_complete inside statement ret io_comp .... signed adrian reber areber redhat.com,,
323,4e7e26b702de359d8bcbc71e68f482c91f6cddc2,drian Reber <areber@redhat.com>, 2020-09-28 07:05:49 +0000,1, file reg resource leak resource_leak cid 302712 resource leak resource_leak variable build_id going scope leak storage point signed adrian reber areber redhat.com,,
324,da5a4d6e57c1095836dd51144ab8314c84c2a63a,drian Reber <areber@redhat.com>, 2020-09-28 06:57:56 +0000,1, cgroup resource leak resource_leak cid 302714 resource leak resource_leak variable dirnew going scope leak storage point signed adrian reber areber redhat.com,,
325,af569ac0178cac195ffbff2486b7a4ec0e7d3ebc,drian Reber <areber@redhat.com>, 2020-09-28 06:55:12 +0000,1, pagemap argument negative cid 302715 argument negative passed parameter negative signed adrian reber areber redhat.com,,
326,19365c1e68cc02d0380564a43109f9b6772483ba,drian Reber <areber@redhat.com>, 2020-09-28 06:44:41 +0000,2, cgroup resource leak resource_leak cid 302717 resource leak resource_leak variable dirnew going scope leak storage point signed adrian reber areber redhat.com,,
327,b893034335efe46c5a688850bd6e6717e7a66e24,drian Reber <areber@redhat.com>, 2020-09-28 06:22:36 +0000,1, img streamer double close use_after_free cid 302718 double close use_after_free calling close int close handle sockfd already closed signed adrian reber areber redhat.com,,
328,59010ad6d5194a457c027858eb380507db26887e,drian Reber <areber@redhat.com>, 2020-09-28 06:18:19 +0000,1, net argument negative cid 302719 argument negative img_raw_fd img passed parameter negative signed adrian reber areber redhat.com,,
329,82cd3bb0d004280c2e84865372dab8ecbb6720f3,bhishek Vijeev <abhishek.vijeev@gmail.com>, 2020-09-12 18:05:28 +0530, , zdtm update refactor test bpf array hash map commit achieves following refactors zdtm test bpf_array.c bpf_hash.c make use bpf zdtm library function addition test verify whether information obtained procfs  update zdtm test bpf_array.c bpf_hash.c include bpf map name also freeze map source file modified zdtm static bpf_array.c zdtm static bpf_hash.c source file added zdtm static bpf_array.desc zdtm static bpf_hash.desc note test_name .desc file suid flag set bpf_map_freeze requires global root userns cap_sys_admin cap_bpf hence test flavor executed skipped bpf_map_freeze used non root user namespaces signed abhishek vijeev abhishek.vijeev gmail.com,,
330,8301c7e012109dd14fbbe52da73c75f131a2e46d,bhishek Vijeev <abhishek.vijeev@gmail.com>, 2020-09-12 17:40:37 +0530, , criu adding support bpf map name ifindex freeze commit achieves following bpf map name well ifindex index network interface map attached information available procfs therefore obtained using bpf system call add support frozen map restore operation criu freeze bpf map frozen checkpoint source file modified bpfmap.c signed abhishek vijeev abhishek.vijeev gmail.com,,
331,02f7e3434d8ab8e536eaadd4b0e01b9b293e902f,bhishek Vijeev <abhishek.vijeev@gmail.com>, 2020-09-12 17:31:40 +0530, , image adding support bpf map file name ifindex commit add bpf map name ifindex protobuf image ifindex index network interface bpf map attached specified via parameter creating bpf map bpf_map_create commit also provides default value false field frozen source file modified image bpfmap file.proto signed abhishek vijeev abhishek.vijeev gmail.com,,
332,97ab725db1262e2bd9a5d3712bcd57e343ca6466,bhishek Vijeev <abhishek.vijeev@gmail.com>, 2020-09-12 17:12:38 +0530, , zdtm adding bpf helper function new library commit add bpf helper function needed test new library defines new function allow verifying bpf map meta data procfs well using bpf system call necessary verify procfs using information available place disjoint example checking whether map frozen performed source file modified test zdtm lib makefile generating build artifact source file added test zdtm lib bpfmap_zdtm.c provides definition new function par information bpf map procfs compare attribute bpf map file obtained function typically used verify attribute bpf map remain checkpoint restore compare attribute bpf map file obtained procfs function typically used verify attribute bpf map remain checkpoint restore test zdtm lib bpfmap_zdtm.h structure function declaration declares struct store information bpf map parsed procfs signed abhishek vijeev abhishek.vijeev gmail.com,,
333,f7bd7057355494077605fc5d34f3a37d9577fc8d,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-09-29 17:47:51 +0300, , servicefd close temporary error path tmp sfd fcntl f_dupfd see sfd already used tmp left open error path let close signed pavel tikhomirov ptikhomirov virtuozzo.com,,
334,3ef2c1ff8778d8b6be40fdd341c76280790c11d2,ndrei Vagin <avagin@gmail.com>, 2020-09-28 09:53:43 +0300, , criu check matching tcp close option restore tcp close set dump set restore need require matching tcp close criu lazy page reported travis,,
335,9acca8df9b79e7967fca6e71a5c84013d531c2a2,ndrei Vagin <avagin@gmail.com>, 2020-09-26 11:08:27 +0300, , tcp add separate test listen socket addition check unconnected socket connected  signed andrei vagin avagin gmail.com,,
336,9ba9d6706fedccaf6c5c1d49c1ad3260459bf4e6,ndrei Vagin <avagin@gmail.com>, 2020-09-26 11:25:24 +0300, , tcp dump shutdown state unconnected socket direct way get state get polling event socket guess shutdown state reported jenkins signed andrei vagin avagin gmail.com,,
337,fd7b6e73d65dabe99c974fc9042f093c85a5fb22,drian Reber <areber@redhat.com>, 2020-09-21 12:59:54 +0000, , run cross compile branch github action based cross compile test running pushing master criu dev change run branch useful test running personal criu checkout branch name prepare branch create new pull request cross compile test running branch another name criu dev master change test run branch signed adrian reber areber redhat.com,,
338,32b162831d96f4dfa588203a005bf7a6699bac5a,drian Reber <areber@redhat.com>, 2020-09-23 06:29:35 +0000, , add travis test script lint running make lint also check travis test script shellcheck signed adrian reber areber redhat.com,,
339,025ef090d2db883e17745382406f75ad69e4f525,drian Reber <areber@redhat.com>, 2020-08-14 08:37:25 +0000, , switch loop based apt get previously introduced apt_install loop function make package install robust network error moved script used multiple place signed adrian reber areber redhat.com,,
340,0def9bc1ffba589f944f08a2e8296bc404bdf701,drian Reber <areber@redhat.com>, 2020-09-17 17:18:41 +0000, , test run make lint signed adrian reber areber redhat.com,,
341,84215e0355ed84dff885f169c99d995363007b89,drian Reber <areber@redhat.com>, 2020-09-17 17:05:33 +0000, , script run shellcheck script folder shellcheck http github.com koalaman shellcheck identify common error shell script initial integration shellcheck check script script folder commit fix disables report shellcheck ensure part start error free convinced really necessary change seem necessary circumstance hand probably doe hurt use checker avoid unnecessary error signed adrian reber areber redhat.com,,
342,e2101abf26513cc692b4365fed09d5c317b21f2e,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2020-09-21 00:52:49 +0100, , crtools fix help output line width commit cd479dc3 travis fails criu criu help max line length width  echo criu help output doe obey character line width signed radostin stoyanov rstoyanov,,
343,4a80dfab896948801a55e184b2116ec1f1007845,ndrei Vagin <avagin@gmail.com>, 2020-09-20 20:54:13 +0300, , doc update documentation tcp close option signed andrei vagin avagin gmail.com,,
344,e42f5e032e0a518374f8e38aae6af198d2b66da8,ndrei Vagin <avagin@gmail.com>, 2020-09-09 19:39:53 +0300, , tcp allow specify tcp close dump case state established tcp connection dumped blocked useful case snapshot need restore tcp connection signed andrei vagin avagin gmail.com,,
345,4f7c480413f9727eda36cb8f8e0f8dcf066c1b8c,ndrei Vagin <avagin@gmail.com>, 2020-09-09 05:48:25 +0300, , test zdtm write tcp socket fail tcp close set signed andrei vagin avagin gmail.com,,
346,5b5f4b717b529c8f55efc05d6fa38abc3342d698,ndrei Vagin <avagin@gmail.com>, 2020-09-09 05:46:11 +0300,1134, socket tcp shutdown tcp socket tcp close option set user process try write tcp socket get error case fix 1134 signed andrei vagin avagin gmail.com,,
347,3957d9533b4973635e2f53b1e0282dde7707f31b,ebastiaan van Stijn <github@gone.nl>, 2020-08-11 12:00:48 +0200, , switch python variant dependency debian based build signed sebastiaan van stijn github gone.nl,,
348,a6214c360da5eda353a7d7586b76bf542b5c8681,uoyun Sun <sunguoyun@loongson.cn>, 2020-09-14 20:01:57 +0800, , mips64 implement signed guoyun sun sunguoyun loongson.cn,,
349,80672c9f343ec5530d084744534673405d210289,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-12-28 13:15:26 +0000, , zdtm add test so_linder signed radostin stoyanov rstoyanov1 gmail.com,,
350,5bb5890cb4ded9ba81919a122f911812af59c244,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-12-28 12:33:26 +0000, , socket support so_linger so_linger option allows control tcp connection closed default behavior return immediately close called unsent data guaranteed delivered so_linger enabled close call would block final data delivered remote end specified time interval time interval set zero connection aborted pending data immediately discarded upon close signed radostin stoyanov rstoyanov1 gmail.com,,
351,0aeddba7cc0c5a355980a81a108d8aa255881e21,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-12-28 10:40:22 +0000, , socket support so_oobinline patch enables checkpoint restore so_oobinline socket option so_oobinline option used band data placed normal input queue received permit read using read recv without specifying msg_oob flag signed radostin stoyanov rstoyanov1 gmail.com,,
352,5c11b0e440c48497eb7fa8f42e5220917a617cd7,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2019-07-29 11:54:00 +0300, , zdtm check unbindable mount flag doe affect restore make two mount bind file system first root second cut root auxiliary insures restore criu mount first mount first latter bind second set first mount unbindable check restoring flag doe interfere restoring mount fix series error 00.031286 mnt mounting tmpfs tmp 0000000000 zdtm static unbindable.test 00.031298 mnt bind tmp 0000000000 zdtm static unbindable.test unbindable auxiliary tmp 0000000000 zdtm static unbindable.test 00.031329 error criu mount.c 2298 mnt mount tmp 0000000000 zdtm static unbindable.test invalid argument http bugs.openvz.org browse ovz 7116 signed pavel tikhomirov ptikhomirov virtuozzo.com,,
353,b554eacb51643c7daabe7fe88cbcc84cc7bb622d,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2019-10-07 11:45:13 +0300, , mount replace mountpoint mnt_id error message replace mountpoint message descriptive mnt_id mountpoints concide lot mnt_id unique also make message shorter already print mapping mnt_id mountpoint mnt_tree_show easily find mountpoint want signed pavel tikhomirov ptikhomirov virtuozzo.com,,
354,f3b18865f975da28e06c173c5cdbeeb68fb5ad8d,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2019-07-26 11:36:55 +0300, , mount delay setting unbindable flag possible setting mount unbindable mounting mount superblock mounted break restore mount mount try bind obviously fail see test unbindable info currently delay mount overmounted need future would likely set open mountpoint http bugs.openvz.org browse ovz 7116 simplify coderead print message setting unbindable error add comment unbindable add list optimise walk delayed unbindable mount call set_unbindable error path signed pavel tikhomirov ptikhomirov virtuozzo.com,,
355,dbf798811f21869ba91ffd7a68809de5ccf8840a,ello1024 <omattos@gmail.com>, 2019-12-12 14:45:35 +0000, , netlink handle case use netlink peer netlink socket normally kernel assign peer based requesting pid bind time criu save peer try restore restore time possible already use e.g. assigned another process perhaps another pid namespace patch try use original fails allows kernel auto allocate new peer make warning message possible although rather unlikely application care peer signed radostin stoyanov rstoyanov,,
356,c0f3653108b22ef837f5dde4b2b55577f5d8945d,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-08-10 12:29:21 +0300, , image kindly ask use field unix_sk_entry field used virtuozzo criu multiple release change easily least kindly ask use field mainstream criu decrease pain virtuozzo criu rebases reference related patch virtuozzo criu http src.openvz.org project ovz repos criu commits 58e61a20c22c image unix.proto signed pavel tikhomirov ptikhomirov virtuozzo.com,,
357,ed74c9e05897b00abf3ea6b078aeda9f214056de,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-08-24 11:36:37 +0300, , zdtm add new epoll01 test add three epoll target tfd 702 add two epoll target tfd 701. test calculation reverse order make qsort actually work update test_doc longer explanation remove unused dupfdno signed pavel tikhomirov ptikhomirov virtuozzo.com,,
358,0dda60f51825c0971633e82bf2a8fc859b2ec4c8,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-08-24 13:46:56 +0300, , eventpoll fix toff calculation kcmp expect number inclusion target tfd set first inclusion next inclusion signed pavel tikhomirov ptikhomirov virtuozzo.com,,
359,dd082fad10c6aafb18db9b9612c5d763c4daa479,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-08-21 14:09:32 +0300, , eventpoll resort toff back idx call argument tfd tfd toff .off want check toff .off inclusion target tfd tfd eventpoll coresponds tfd tfd term kcmp toff sorted calculate index tfd toff doe address eventpoll target point let sort toff back original state make index consistent signed pavel tikhomirov ptikhomirov virtuozzo.com,,
360,596276a9aff286c4bee4db045cddf5f5a367a9d6,drian Reber <areber@redhat.com>, 2020-08-21 11:11:57 +0000, , travis use fedora rawhide image fedora docker hub container registry updated fast fedora registry fedora registry get new image whenever new version rawhide docker hub rawhide image take couple week process automated especially fedora branch new release see lot error criu fedora rawhide based travis run switch fedora registry always newest rawhide image test signed adrian reber areber redhat.com,,
361,df0c793d52ba0878a35f7ceff33d348e62167d21,ike Rapoport <rppt@linux.ibm.com>, 2020-08-23 13:03:31 +0300, , travis restore lazy page test flavor since commit cdd08cdff uffd use userns_call execute ioctl uffdio_api uffd_api ioctl wrapped userns_call allows runing lazy page test recent kernel restore testing lazy page travis signed mike rapoport rppt linux.ibm.com,,
362,1391f84d8583b738ffc0b6b080eecfcb1ede9725,bhishek Vijeev <abhishek.vijeev@gmail.com>, 2020-08-16 11:20:23 +0530, , criu use deprecated selinux change fix error error deprecated werror deprecated declaration source file modified lsm.c net.c please refer http github.com selinuxproject selinux commit 9eb9c9327 signed abhishek vijeev abhishek.vijeev gmail.com,,
363,20d87bbfac8744e9a75281261241d1d723baabd4,bhishek Vijeev <abhishek.vijeev@gmail.com>, 2020-08-15 16:39:05 +0530, , script adding libbpf travis test source file modified travis vagrant.sh adding libbpf devel signed abhishek vijeev abhishek.vijeev gmail.com,,
364,372782d8ac2a9c49081d43a9edf2e45023121fdb,bhishek Vijeev <abhishek.vijeev@gmail.com>, 2020-07-28 22:52:10 +0530, , zdtm adding test bpf map commit add zdtm test process bpf map open file source file added zdtm static bpf_hash.c test data meta data bpf map type zdtm static bpf_array.c test data meta data bpf map type source file modified zdtm static makefile generating build artifact bpf test signed abhishek vijeev abhishek.vijeev gmail.com,,
365,14b1cc26debc04c3911720ce04e90b60df6d2191,bhishek Vijeev <abhishek.vijeev@gmail.com>, 2020-07-25 17:56:26 +0530, , criu restoring bpf map data commit restores data bpf map hash table indexed map used store data object multiple bpf map file process may opened collision resolved chaining using linked list source file modified bpfmap.c structure function definition needed collect protobuf image containing bpf map data read bpf map data image store hash table restore map data using include bpfmap.h defines size hash table mak used indexing structure function declaration used restoring bpf map data restore.c collect protobuf image containing bpf map data restoration phase signed abhishek vijeev abhishek.vijeev gmail.com,,
366,4d073a75e2f1f82288b2097da3529e976f3c4321,bhishek Vijeev <abhishek.vijeev@gmail.com>, 2020-07-25 17:13:35 +0530, , criu restoring bpf map without data commit enables criu restore process bpf map file descriptor source file modified bpfmap.c structure function definition needed collect bpf map information protobuf image create open bpf map parameter dumped add newly opened bpf map process file descriptor list include bpfmap.h structure declaration restoring bpf map files.c collect bpf map file entry restoration phase signed abhishek vijeev abhishek.vijeev gmail.com,,
367,4b8186cb6eedda5c71a3319ca339a50278653c8c,bhishek Vijeev <abhishek.vijeev@gmail.com>, 2020-07-25 16:17:07 +0530, , crit add bpf map data decoding commit enables crit decode content protobuf image store information related bpf map signed abhishek vijeev abhishek.vijeev gmail.com,,
368,b924394ccdab4830013a5f4364f1c05a5cdc0d15,bhishek Vijeev <abhishek.vijeev@gmail.com>, 2020-07-24 21:51:13 +0530, , criu dumping bpf map data commit enables criu dump data key value pair stored bpf map source file modified bpfmap.c function read map key value two buffer using writes protobuf image along number key value pair read function dump_one_bpfmap dump data well returning include bpfmap.h includes header declares function needed dump bpf map data signed abhishek vijeev abhishek.vijeev gmail.com,,
369,5ff0e70586b8a18a6bef6cfac137c3404162e422,bhishek Vijeev <abhishek.vijeev@gmail.com>, 2020-07-24 18:02:52 +0530, , criu dumping meta data bpf map file commit enables criu dump meta data bpf map file prividing structure function needed part code base source file added bpfmap.c defines new structure function struct fdtype_ops bpfmap_dump_ops set function handler dump bpf map is_bpfmap_link check whether anonymous inode bpf map file dump_one_bpfmap par information bpf map file procfs dump include bpfmap.h structure function declaration source file modified generates build artifact bpfmap.c signed abhishek vijeev abhishek.vijeev gmail.com,,
370,b85709797ca499b7ee9727a66b40de99d3b30344,bhishek Vijeev <abhishek.vijeev@gmail.com>, 2020-07-24 17:18:32 +0530, , criu parse information bpf map procfs commit enables criu identify anonymous inode bpf map parse information bpf map procfs source file modified files.c check anonymous inodes see whether bpf map set struct fdtype_ops ops structure know dump bpf map proc_parse.c function check whether current file processed bpf map call newly defined function parse_bpfmap know parse information bpf map procfs signed abhishek vijeev abhishek.vijeev gmail.com,,
371,aa59dfc6dfcb3a52a1f64c97f75b9827261be25b,bhishek Vijeev <abhishek.vijeev@gmail.com>, 2020-08-15 13:37:56 +0530, , set makefile config variable libbpf source file modified makefile.config check whether libbpf installed system add lbpf libs_features feature_defines set allows check presence libbpf compiling executing bpf code zdtm test makefile set clean file signed abhishek vijeev abhishek.vijeev gmail.com,,
372,95b7d06cbc4cb31509b03f988f2541942d2624f7,bhishek Vijeev <abhishek.vijeev@gmail.com>, 2020-07-24 20:34:21 +0530, , criu define constant bpf map commit defines constant includes necessary header bpf map source file modified magic.h defining image desc.h defining image desc.c create new entry bpfmap file bpfmap data criu file descriptor set protobuf desc.h defining pb_bpfmap_file pb_bpfmap_data protobuf desc.c including header bpf map protobuf image signed abhishek vijeev abhishek.vijeev gmail.com,,
373,c26cd1395f68663e5b417b7b64c9c1e35f48fedd,bhishek Vijeev <abhishek.vijeev@gmail.com>, 2020-07-24 20:24:57 +0530, , image protobuf definition bpf map meta data data commit add protobuf definition needed checkpoint restore bpf map file along data contain source file added bpfmap file.proto store meta data bpf map bpfmap data.proto store data key value pair contained bpf map source file modified fdinfo.proto added bpf map new kind file descriptor message file_entry hold information bpf map file descriptor makefile generates build artifact bpfmap file.proto bpfmap data.proto signed abhishek vijeev abhishek.vijeev gmail.com,,
374,d6735616a96906c65213ac38cd29e27e6f857d99,drian Reber <areber@redhat.com>, 2020-08-14 19:08:14 +0000, , travis add focal based test run seems travis support ubuntu 20.04. let run least one test also 20.04 focal signed adrian reber areber redhat.com,,
375,ca360ce30bbecf0dccca2b34af8fcc9d33524f3d,drian Reber <areber@redhat.com>, 2020-05-19 16:23:31 +0000, , travis switch travis python signed adrian reber areber redhat.com,,
376,8063fbb47d9cfa04039c9f51fd3d61c37c2a4681,avel Emelyanov <xemul@openvz.org>, 2020-08-14 21:31:29 +0300, , contrib add python future debian package one contains builtins module zdtm.py import signed pavel emelyanov xemul openvz.org,,
377,52eff52e6741c75524b8613ea2863e2cfd363640,ike Rapoport <rppt@linux.ibm.com>, 2020-08-12 22:27:01 +0300, , github disable cross compule mips master branch master branch doe mips support yet automated build mips master branch fail temporarily split mips cross build separate file mips support mergded master branch suggested adrian reber areber redhat.com signed mike rapoport rppt linux.ibm.com,,
378,5b751fbaf8712ced089eeeb8d91d6a58f467b1c3,ndrei Vagin <avagin@gmail.com>, 2020-08-10 20:57:15 -0700, , criu type socket inode unsigned int 00.015271 unix add peer ino 2203289876 peer_ino 2203289875 family type state name mnt test zdtm static sockets03.test 00.015277 warn criu unix.c 475 unix shutdown mismatch 2091677421 2091677420 reported jenkins signed andrei vagin avagin gmail.com,,
379,a6b00b1a7aa998aaccf1f7b47d7267c5efa96c86,drian Reber <areber@redhat.com>, 2020-05-17 10:42:19 +0000, , action create file daily rebuild add definition daily rebuild cross compile test master criu dev branch signed adrian reber areber redhat.com,,
380,18f42b3021f377df289c82260abd278406731a68,drian Reber <areber@redhat.com>, 2020-08-05 14:16:38 +0000, , travis loop apt get recover error one common error see package install fails due hashsum mismatch dns error add loop around apt get install call clean update install one step fails repeat time signed adrian reber areber redhat.com,,
381,3d67e8a0d2341ee7cb8c64031b7a585d92c1b1b0,drian Reber <areber@redhat.com>, 2020-08-05 13:17:00 +0000, , makefiles generate magic.py every time always wondered running make criu checkout always print  gen magic.py even file changed seems makefile looking file wrong location providing full path file rebuild magic.py something actually changed requires rebuild signed adrian reber areber redhat.com,,
382,9ce4ed0935bc1902b250d570ec32271726d4d1ca,tto Bittner <otto-bittner@gmx.de>, 2020-08-04 16:00:15 +0200,1165, python handle byte string converting protobuf dict fix 1165 traceback recent call last file criu crit crit python3 line module cli.main file home xcv repos criu crit pycriu cli.py line 410 main opts func opts file home xcv repos criu crit pycriu cli.py line decode json.dump img indent indent file usr lib python3.8 json __init__.py line 179 dump chunk iterable file usr lib python3.8 json encoder.py line 431 _iterencode yield file usr lib python3.8 json encoder.py line 405 yield chunk file usr lib python3.8 json encoder.py line 325 yield chunk file usr lib python3.8 json encoder.py line 405 yield chunk file usr lib python3.8 json encoder.py line 405 yield chunk file usr lib python3.8 json encoder.py line 438 _iterencode _default file usr lib python3.8 json encoder.py line 179 default raise typeerror object type typeerror object type byte json serializable authored julian futureplay.de signed otto bittner otto bittner gmx.de,,
383,320c88e922c191f508e4fbf8e95809d30a3cc571,ike Rapoport <rppt@linux.ibm.com>, 2020-08-05 16:20:10 +0300, , contributing.md clarify placement fix tag description fix tag could misleading may understood fix commit summary add sentence explicit description fixme tag placement reported otto bittner otto bittner gmx.de signed mike rapoport rppt linux.ibm.com,,
384,83be11f1f4a24d05814a66061e04b9b4d0825763,drian Reber <areber@redhat.com>, 2020-05-13 14:11:05 +0000, , lib extend receive handle incoming fds using libcriu notify callback functionality criu transmits orphan master back libcriu user message sent via sendmsg transmit via write protobuf message libcriu using recv able receive need changed recvmsg attached currently orphan master stored variable retrieved function signed adrian reber areber redhat.com,,
385,20a24c11ea5d839787ca36f707f3d22503520635,avel Emelyanov <xemul@openvz.org>, 2020-07-31 14:11:04 +0300, , log ask developer use print_on_level directly decision whether log message info warning error made place code shown expression make pointless use print_on_level directly particular place needed pr_foo helper chosen however easily make function static keep header ask people think twise time calling directly signed pavel emelyanov xemul openvz.org,,
386,ebc0d205a10f7a0264b40a4246005be7d1325768,avel Emelyanov <xemul@openvz.org>, 2020-07-31 14:09:24 +0300, , log hide vprint_on_level log.c one used outside log.c signed pavel emelyanov xemul openvz.org,,
387,478072474511d99fb135f7cd3c846d3763564e0e,avel Emelyanov <xemul@openvz.org>, 2020-07-31 14:07:07 +0300, , util use pr_info vma printing previous patch user coded pr_info naturally signed pavel emelyanov xemul openvz.org,,
388,1955d490777b55acc9b36909267ef19ebd979ab8,avel Emelyanov <xemul@openvz.org>, 2020-07-31 14:05:07 +0300, , ipc use pr_info instead print_on_level pr_info ... case naturally facto pr_info signed pavel emelyanov xemul openvz.org,,
389,99fc76d8b574d63a6a3f71fe0038c89770672cc9,avel Emelyanov <xemul@openvz.org>, 2020-07-31 14:02:02 +0300, , proc_parse feed loglevel helper routine know whether failure lead error emit warning return caller print error signed pavel emelyanov xemul openvz.org,,
390,8564bc49e47bd46721408ac4a45e05000953a775,avel Emelyanov <xemul@openvz.org>, 2020-07-31 13:58:35 +0300, , check use pr_foo macro instead directly calling print_on_level pr_msg pr_warn seems better choise case signed pavel emelyanov xemul openvz.org,,
391,7646deed61cc96c7bbdae12b189589caa46b8ebe,adostin Stoyanov <rstoyanov@fedoraproject.org>, 2020-07-29 14:17:27 +0100, , vagrant update fedora signed radostin stoyanov rstoyanov,,
392,cee36af3866c9eb19b5fa889929093f1ab3e3847,jay Bharadwaj <ajayrbharadwaj@gmail.com>, 2020-07-27 16:37:42 +0530, , criu file reg.c build size bug fix address bug regfileentry n_build_id field would populated incorrect data causing dump crash time signed ajay bharadwaj ajayrbharadwaj gmail.com,,
393,aeeaa30a560c040d417b43667787955cb0c05da8,jay Bharadwaj <ajayrbharadwaj@gmail.com>, 2020-07-24 09:52:36 +0530, , criu file reg.c build multiple header fix address bug elf file contains multiple pt_note program header first header checked build signed ajay bharadwaj ajayrbharadwaj gmail.com,,
394,9c0b904a02a48057b440e28c6a0192f6112f92a0,mitry Safonov <dima@arista.com>, 2020-07-27 19:38:01 +0100, , compel infect adjust stack args alignment instead fail infect task let compel cure signed dmitry safonov dima arista.com,,
395,70ecbbcc86df7bcd61d666006f28cb91c129ccbe,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2020-07-17 02:13:35 +0000, , compel allocate got table avoid memory corruption previously got table using memory location args region leading difficult debug memory corruption bug allocate got table parasite blob args region reason good placement putting args region possible bit combersome args region variable size restore.c code map parasite code without args region doe rpc another option rely linker generate got section failed despite best attempt signed nicolas viennot nicolas.viennot twosigma.com,,
396,fee517b3da601d29624d318956fd9422b70d9f2f,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2020-07-17 05:42:36 +0000, , compel remove x86 prologue.s file ignored since commit 19fadee9 2016 signed nicolas viennot nicolas.viennot twosigma.com,,
397,8d8dd5a79932d95a5aaade924c22ee71e04896b8,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2020-07-17 02:39:52 +0000, , compel x86 entry point simplification need push stack seems remnant initial commit 2011 pushq byte rsp alignment added commit 2a0cea29 2012 longer necessary already guarantee rsp byte aligned bug_on added enforce guarantee signed nicolas viennot nicolas.viennot twosigma.com,,
398,b8c1d9d9399c68ee7452c04c11b495456b8a4c9f,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2020-07-16 23:14:35 +0000, , compel rewrite parasite cmd args manipulation assembly previously located parasite head.s located exactly end parasite blob ideal various reason two variable work together would preferrable location prevent allocating another section betweeen parasite blob args area need allocate got table commit change allocation symbol assembly linker script file moreover assembly entry point invoke prepares argument hand crafted assembly unecessary commit rewrite logic regular code note x86 compat mode could remove parasite head.s file directly jump via ptrace int3 architecture specific equivalent could called end inline asm statement signed nicolas viennot nicolas.viennot twosigma.com,,
399,391da7464747d561452a0dd78c43a00f3c5f4e69,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2020-07-17 01:37:46 +0000, , compel stop rounding parasite blob size args region page_size unnecessary potentially confusing understanding memory layout requirement parasite blob signed nicolas viennot nicolas.viennot twosigma.com,,
400,d99fc1e55364db64a2fd9a4df19b134beca10f34,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2020-07-17 01:56:37 +0000, , compel remove addr_ offset variable name remove potential confusion come virtual address offset make naming consistent rest struct signed nicolas viennot nicolas.viennot twosigma.com,,
401,a531f9a8bc61a39c89599dd8c5206c3d519aa71d,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2020-07-17 00:01:41 +0000, , compel pas taking argument mostly struct instead passing argument pas pointer struct make code safer restore.c call previously needed poke considered private variable restorer pie.h file allow struct populated without parasite_ctl struct expand compel api export generated pie.h signed nicolas viennot nicolas.viennot twosigma.com,,
402,8ac0fa6aaf92f3d3893058fdc97757445621e2da,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2020-07-06 14:32:20 +0000, , compel add error message common symbol common symbol emitted global variable initialized shared library typically end .bss section linking executable signed nicolas viennot nicolas.viennot twosigma.com,,
403,f92948ccaf7dc34549a542d981d6ba3359237de9,ndrei Vagin <avagin@gmail.com>, 2020-06-19 10:43:30 +0300, , zdtm make cgroup_yard aware cgroup2 signed andrei vagin avagin gmail.com,,
404,f96cd8c749448ee7c976f38f7fcbdf3d153278f7,ndrei Vagin <avagin@gmail.com>, 2020-06-19 10:41:35 +0300, , test skip cgroup04 pure cgroup2 system signed andrei vagin avagin gmail.com,,
405,5f160811aa180de0f9dbd4f1f6b155831ee33a03,ndrei Vagin <avagin@gmail.com>, 2020-06-19 10:40:02 +0300, , zdtm.py add cgroup2 freezer support signed andrei vagin avagin gmail.com,,
406,98e9165f0cbe821995c8903ee24ceb7f1515c2c7,ndrei Vagin <avagin@gmail.com>, 2020-06-19 10:33:49 +0300, , cgroup add initial support cgroup2 change straightforward skip cgroup2 controller dump controller signed andrei vagin avagin gmail.com,,
407,a93df9eb9b811b99c566ec862508d1e48af0e574,drian Reber <areber@redhat.com>, 2020-05-05 14:53:08 +0000, , pidns fixup pushed wrong branch pidns http github.com checkpoint restore criu pull 1056 resulted wrong patch getting merged actual result review signed adrian reber areber redhat.com,,
408,bb555b372019b934e841d48714381947ecd8e87c,jay Bharadwaj <ajayrbharadwaj@gmail.com>, 2020-06-26 16:31:47 +0530, , criu config.c added cli option build field added cr_options structure criu include cr_options.h along constant   equal usage description information yet added usage file validation filesize use file size check file validation buildid try use build check signed ajay bharadwaj ajayrbharadwaj gmail.com,,
409,9191f8728d6224e3c108063128131c8f219bdd4f,jay Bharadwaj <ajayrbharadwaj@gmail.com>, 2020-06-26 14:43:40 +0530, , criu file reg.c add build validation functionality efi.h required accessing build .efi file add function find store compare stored build get_build_id call bit bit helper function depending bitness elf file first ensuring actually elf file checking magic number number iteration searching elf file build giving 500 searching note section limited signed ajay bharadwaj ajayrbharadwaj gmail.com,,
410,7b18c13c1942e206b4af86e5797b30d2bdd8ce6c,jay Bharadwaj <ajayrbharadwaj@gmail.com>, 2020-05-29 11:56:22 +0530, , image regfile.proto add additional field regfileentry add build checksum checksum config checksum parameter field regfileentry store metadata used file verification build_id hold build could obtained checksum hold checksum could obtained checksum_config hold configuration byte checksum calculated entire file first byte every nth byte specifies value required configuration byte signed ajay bharadwaj ajayrbharadwaj gmail.com,,
411,8354b526c4b355b2eabfd3ab10856a47c482357b,ngie Ni <avtni@google.com>, 2020-06-12 10:20:28 -0600, , restore skip unnecessary setgroups call group already desired value skip calling setgroups furthermore check allows restore unprivileged user namespace use setgroups signed angie avtni google.com,,
412,0d8d7f2329c3c8b0fdbf61f65e50456fb4c17959,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2020-07-16 15:15:49 +0000, , test criu image streamer change dev branch master branch new criu criu image streamer protocol use master branch criu image streamer signed nicolas viennot nicolas.viennot twosigma.com,,
413,62d70bd4828856d51aa043870337148aca468a99,ndrei Vagin <avagin@gmail.com>, 2020-07-15 19:11:27 +0300, , test zdtm autofs use sigaction instead deprecated siginterrupt reported travis signed andrei vagin avagin gmail.com,,
414,539183fadda1a203cb12f5894184494f72fbf60b,ngie Ni <avtni@google.com>, 2020-06-12 09:41:52 -0600, , add error logging config crtools init criu sometimes return main explanation change made add logging case initialization error config crtools signed angie avtni google.com,,
415,9a4b933f243f030d472f5a8d318827cf4cca1ed2,ngie Ni <avtni@google.com>, 2020-06-10 14:34:19 -0600, , add error logging kerndat init criu sometimes return main explanation change add additional logging initialization error kerndat signed angie avtni google.com,,
416,3490d997be2887f161bc70f253eb1eb1343b8cd6,drian Reber <areber@redhat.com>, 2020-05-06 08:04:45 +0000, , test test external namespace support adapt netns_ext test also work pid namespaces move test others netns_ext test others ns_ext also enable ns_ext test travis run signed adrian reber areber redhat.com,,
417,f3ebdeebe20c0e4fec2e96cb9a889d16b6b3732f,drian Reber <areber@redhat.com>, 2020-05-05 16:19:50 +0000, , pidns add external pidns man page signed adrian reber areber redhat.com,,
418,9dd1ab00e75ec425e09562d54a00f03c17a374c6,drian Reber <areber@redhat.com>, 2020-05-05 15:45:25 +0000, , pidns support external pid namespaces allows criu restore process existing pid namespace checkpointing pid namespace marked external using external pid inode label host pid namespace pid namespace restore process restored existing pid namespace using inherit label label checkpoint restore criu label know resource user mean process start host pid namespace moved another namespace way around pid namespace used necessary checkpoint container pod share certain namespaces code support external pid namespaces first step towards checkpointing restoring container belong pod using join functionality possible move existing process pid namespace using setns child process created pid namespace setns need called clone signed adrian reber areber redhat.com,,
419,f1e6b103692e20a031fde1257193aab3d1f45ef4,drian Reber <areber@redhat.com>, 2020-05-05 15:16:19 +0000, , pidns write read pidns information load store key external pid namespace specified user using external pid inode label preparation restoring existing pid namespaces signed adrian reber areber redhat.com,,
420,4e7ec3c88b518e7bbf986228bb822bed6869ad9c,drian Reber <areber@redhat.com>, 2020-05-05 14:53:08 +0000, , pidns add pidns image file definition todo create correct magic signed adrian reber areber redhat.com,,
421,99c84878374e90e52ed1723f12564a5d16b1281d,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-06-22 14:20:29 +0300, , zdtm add zombie_leader test create session leader child session member make leader zombie restore criu need create helper task child zombie member inherit session fix patchset segfault empty fail restore cgroups empty cg_set signed pavel tikhomirov ptikhomirov virtuozzo.com,,
422,f0438f47f28d73a75e0fff4c74ee50f80b0c70d1,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-06-22 18:50:55 +0300,1066, cgroup make lookup current cgset ancestor case parent dead task zombie helper turn zombie parent parent thus zero cg_set look current cgset deeper fix 1066 signed pavel tikhomirov ptikhomirov virtuozzo.com,,
423,d38046b0035d977f44f99d68bb5e3c3d4fb4fd9a,yrill Gorcunov <gorcunov@virtuozzo.com>, 2017-07-22 11:33:12 +0300,1066, mount lookup mount namespace conditionally case parent dead task zombie lookup parent inherited restore otherwise parent may nil sigsegv produced signed cyrill gorcunov gorcunov virtuozzo.com rework port vzcriu 87b320964 vz7 mount lookup mount namespace conditionally fix 1066 signed pavel tikhomirov ptikhomirov virtuozzo.com,,
424,41b535d312828eac6fd79481d04abe20163b0cc8,drian Reber <areber@redhat.com>, 2020-06-16 14:26:06 +0000, , test skip vdso test non vdso system signed adrian reber areber redhat.com,,
425,ce22e0f37dfce44bcdd6c9b8a94713441f139158,ngie Ni <avtni@google.com>, 2020-06-04 11:24:23 -0600, , uffd uffd_open print info caller print error uffd_open called kerndat_uffd userfaultfd failure considered error goal suppress error message instead print message info function fails responsibility caller print error message signed angie avtni google.com,,
426,6815aa958d1ac01f0dd0c81d55475d44aabfff88,ike Rapoport <rppt@linux.ibm.com>, 2020-06-14 11:26:14 +0300, , contributing.md add pull request guideline following discussion describe best practice pull request creation http github.com checkpoint restore criu pull 1096 signed mike rapoport rppt linux.ibm.com,,
427,35f8c056ac49ab62b8575a2d1f04cbbd94ccff5b,ike Rapoport <rppt@linux.ibm.com>, 2020-06-14 11:22:19 +0300, , contributing.md add section patch description splitting shamelessly stolen linux kernel shortened bit relaxed match criu http www.kernel.org doc html latest process submitting patches.html signed mike rapoport rppt linux.ibm.com,,
428,2e5805878bbf1f80b2297b4b60a6859d15055142,ike Rapoport <rppt@linux.ibm.com>, 2020-06-14 09:31:15 +0300, , contributing.md minor formatting fix mark lowcase criu code environment section add missing brace around reference http criu.org secrity fixup admolition block github render spelling fixups github github signed mike rapoport rppt linux.ibm.com,,
429,d0fcb01d47de8d5c659cc09d0ab5d994d10b5ffa,ike Rapoport <rppt@linux.ibm.com>, 2020-06-09 16:52:11 +0300, , contributing.md import submit patch criu.org import submit patch article criu wiki update format match github markdown signed mike rapoport rppt linux.ibm.com,,
430,808684c99eb4c0cf12a5725cd6bbe3fea191273c,ike Rapoport <rppt@linux.ibm.com>, 2020-06-09 16:52:10 +0300, , add contributing.md move existing contribution guideline dedicated file future extension signed mike rapoport rppt linux.ibm.com,,
431,6ee4b72382f72362ab746876cf32a70712eb89f9,yrill Gorcunov <gorcunov@gmail.com>, 2020-05-18 11:19:23 +0300,1042, arch x86 fix calculation xstate_size layout xsave frame standart format predefined hardware let make sure increasing frame offset use latest offset appropriate http github.com checkpoint restore criu issue 1042 reported ashutosh mehra mehra.ashutosh ibm.com signed cyrill gorcunov gorcunov gmail.com,,
432,1d9438aefbd1609ee765f7e958b88883f402a662,ir Kolyshkin <kolyshkin@gmail.com>, 2020-04-28 19:00:42 -0700, , criu swrk fix usage allow common option make possible criu swrk remove showing usage useless swrk mode since criu swrk command described usage sense showing instead show one line hint use case global option like used argv might point swrk use optind point correct non option argument also error case extra argument signed kir kolyshkin kolyshkin gmail.com,,
433,cbf099400a24debe4eaf830bd81138bb73a46a00,drian Reber <areber@redhat.com>, 2020-02-08 16:58:36 +0100, , travis use vagrant run vms add minimal configuration run fedora based vms travis used test cgroupv2 based test test vdso probably much requires booting newer kernel example build criu fedora reconfigures boot without vdso support run one single test signed adrian reber areber redhat.com,,
434,d72428b7c4254c2e3587d8d84f16626302e7e111,drian Reber <areber@redhat.com>, 2020-04-23 09:11:48 +0000, , also report clone3 error correctly without clone3 criu able detect process wrong pid already created child process clone3 error happen process created case eexist error correctly forwarded rpc client detected running test others libcriu clone3 system signed adrian reber areber redhat.com,,
435,047ecd3a15f83b15535943c2c87e0c55b4866dd9,drian Reber <areber@redhat.com>, 2020-04-23 14:28:00 +0000, , test others libcriu test version library call add previously added libcriu version function libcriu test signed adrian reber areber redhat.com,,
436,55f71b8667043fb8241bc500a96c20644d478eba,drian Reber <areber@redhat.com>, 2020-04-23 14:13:15 +0000, , lib add although criu version exported macro version.h contains criu version libcriu build time possible criu upgraded since last time something built libcriu add function query actual criu binary version signed adrian reber areber redhat.com,,
437,e57e74a18df0b7bbfb2fa556941fc7c8715e57d1,eyadYasser <zeyady98@gmail.com>, 2020-04-16 15:58:18 +0200,339, criu optimize fix 339 replaced linear search hashtable lookup signed zeyad yasser zeyady98 gmail.com,,
438,62c03530c9d6e0a1012a589ed1a26c2612113238,ir Kolyshkin <kolyshkin@gmail.com>, 2020-05-15 18:12:30 -0700, , swrk send notification instead using status use swrk mechanism send notification rpc cleaner straightforward sending status mechanism supported although status request option deprecated warning logged case used guess remove year signed kir kolyshkin kolyshkin gmail.com,,
439,faf6dbf33e04eb8a0907f44b2787022b14a840e0,ir Kolyshkin <kolyshkin@gmail.com>, 2020-05-15 18:21:25 -0700, , rename status_ready name misleading close status_fd also writes high level though signal side ready rename status_ready signed kir kolyshkin kolyshkin gmail.com,,
440,e34f5dd3a351dc2e475fa235c25ed115ac996644,drian Reber <areber@redhat.com>, 2020-05-20 12:38:55 +0000, , clang branch condition evaluates garbage value criu 3.14 criu namespaces.c 692 warning branch condition evaluates garbage value criu 3.14 criu namespaces.c 690 note supported declared without initial value supported  criu 3.14 criu namespaces.c 691 note calling get_ns_id get_ns_id pid supported  criu 3.14 criu namespaces.c 479 note calling __get_ns_id return __get_ns_id pid supported null  criu 3.14 criu namespaces.c 454 note assuming proc_dir proc_dir  criu 3.14 criu namespaces.c 454 note taking true branch proc_dir  criu 3.14 criu namespaces.c 455 note returning without writing supported return  criu 3.14 criu namespaces.c 479 note returning __get_ns_id return __get_ns_id pid supported null  criu 3.14 criu namespaces.c 479 note returning without writing supported return __get_ns_id pid supported null  criu 3.14 criu namespaces.c 691 note returning get_ns_id get_ns_id pid supported  criu 3.14 criu namespaces.c 692 note branch condition evaluates garbage value supported  690 supported 691 get_ns_id pid supported 692 supported 693 pr_err make timens 694 signed adrian reber areber redhat.com,,
441,b4c51ea492c98011472dd28a7cb47bffcfb4ad20,drian Reber <areber@redhat.com>, 2020-05-20 12:19:36 +0000, , coverity fix forward_null criu proc_parse.c 1481 criu 3.14 criu proc_parse.c 1511 var_deref_model passing null pointer fclose dereferences 1509 exit_code 1510 1511 fclose 1512 return exit_code 1513 signed adrian reber areber redhat.com,,
442,64347398c10b5911d0f1acd2db5c856b4b1fe464,drian Reber <areber@redhat.com>, 2020-05-20 11:57:22 +0000, , coverity fix resource_leak criu timens.c criu 3.14 criu timens.c leaked_storage variable img going scope leak storage point empty_image img pr_warn clock value dumped return  signed adrian reber areber redhat.com,,
443,f3341025207ba960e36140bb24d63098cdd69a57,adostin Stoyanov <rstoyanov1@gmail.com>, 2020-02-24 18:30:59 +0000, , libcriu add space parenthesis signed radostin stoyanov rstoyanov1 gmail.com,,
444,4ac9a3c904ace0414521afc05e1ba3287a95f248,adostin Stoyanov <rstoyanov1@gmail.com>, 2020-02-21 12:23:01 +0000, , libcriu use space around signed radostin stoyanov rstoyanov1 gmail.com,,
445,ae4fd07ca5c09482fa5a78f3ede0d31a4b5ff63e,adostin Stoyanov <rstoyanov1@gmail.com>, 2020-02-20 21:10:23 +0000, , libcriu add orphan master orphan master option introduced commit enable checkpoint restore container pty pair used console http github.com checkpoint restore criu commit signed radostin stoyanov rstoyanov1 gmail.com,,
446,f6d1b498dc22a66865e1c8899ac5dc2b81363ce1,ir Kolyshkin <kolyshkin@gmail.com>, 2020-05-15 17:13:33 -0700, , service spell error working runc checkpointing incorrectly closed status_fd prematurely received error criu non descriptive print error open signed kir kolyshkin kolyshkin gmail.com,,
447,00a44031e220919c9df6a1e25db8f32fb141d741,ir Kolyshkin <kolyshkin@gmail.com>, 2020-05-15 17:10:58 -0700, , service fix wording debug message message overwriting rpc setting value filename misleading giving impression file read consumed really puzzled since filename exist need say would overwrite i.e file name present would used also add actual parsing file ... clear file used signed kir kolyshkin kolyshkin gmail.com,,
448,00b8257d9f31876e35e08e6d556f6f67d76f3908,drian Reber <areber@redhat.com>, 2020-05-13 17:57:03 +0200, , test move cross compilation github action move cross compilation test github action slightly reduce number travis test run parallel github action signed adrian reber areber redhat.com,,
449,8452be93cf24b0dffe257ddab892a9c95d44c91b,drian Reber <areber@redhat.com>, 2020-05-13 15:48:28 +0000, , travis use bionic almost everywhere test still running xenial point hanging switch test bionic except one docker test still xenial test overlayfs signed adrian reber areber redhat.com,,
450,5bd776da382fb0838830d80f4bec6c0aaec8bfbb,ir Kolyshkin <kolyshkin@gmail.com>, 2020-05-11 02:38:14 -0700, , remove dupe deprecated stuff msg similar one already printed check_options patch criu criu vvvvvv deprecated log file dev stdout xxx 00.000000 turn deprecated stuff ... 00.029680 deprecated 00.029687 error criu crtools.c 284 unknown command xxx signed kir kolyshkin kolyshkin gmail.com,,
451,8364b09407a969c1af68cd3e477449fa60d2518e,osh Abraham <sinisterpatrician@gmail.com>, 2020-04-27 13:40:46 -0400, , soccr test fix error logging libsoccr tcp test signed joshua abraham gmail.com,,
452,277b0b69fac7afa6cbde51e7c99e2756029d0d6c,uoyun Sun <sunguoyun@loongson.cn>, 2020-04-22 15:43:04 +0800, , mips fix fail run zdtm test pthread01.c k_rtsigset_t 16bytes mips architecture 8bytes added taskcoreentry threadcoreentry dumping extern 8bytes data parasite syscall.c restore extern 8bytes data restore.c signed guoyun sun sunguoyun loongson.cn,,
453,be1394122112381eca55faf5b1a7b2e2b51bd383,uoyun Sun <sunguoyun@loongson.cn>, 2020-04-17 11:54:31 +0000, , mips impliment arch_shmat mips cpu vipt cache also aliasing issue like armv6 overcome issue page coloring 0x40000 align shared mapping introduced shmlba kernel http github.com torvalds linux blob master arch mips include asm shmparam.h related zdtm test suite ipc.c shm.c shm unaligned.c shm mp.c passed signed guoyun sun sunguoyun loongson.cn,,
454,d38851c9bd003d9c5b2b1c804291f518db681938,ndrei Vagin <avagin@gmail.com>, 2020-04-18 22:28:24 +0300, , test jenkins use bash run shell script permanently issue like test jenkins criu iter.sh source found look like good idea use one shell run jenkins script signed andrei vagin avagin gmail.com,,
455,40169b950eff23347975acc0de0b9316f08d175b,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2020-03-26 06:26:48 +0000, , style fix typo oddly one test typo fatal signed nicolas viennot nicolas.viennot twosigma.com,,
456,b5c34c74c5055301821c2acbe4cf8aad646da558,uoyun Sun <sunguoyun@loongson.cn>, 2020-04-08 10:49:47 +0800, , mips support docker cross compile signed guoyun sun sunguoyun loongson.cn,,
457,afe90627e276e9e68cdf4872cae8fa3c5c637914,uoyun Sun <sunguoyun@loongson.cn>, 2020-04-08 10:29:21 +0800, , mips criu enable mips criu signed guoyun sun sunguoyun loongson.cn,,
458,d325b7b775cd2e51651c00137be0df5bd3d2d74f,uoyun Sun <sunguoyun@loongson.cn>, 2020-04-08 10:24:45 +0800, , mips criu arch mips add mips part criu signed guoyun sun sunguoyun loongson.cn,,
459,158e8f8fe637117f00bb6ecbad84d6491970d84d,uoyun Sun <sunguoyun@loongson.cn>, 2020-04-08 10:23:16 +0800, , mips proto add mips protocol buffer file signed guoyun sun sunguoyun loongson.cn,,
460,e7d13b368db95c57d0a20ea016d6b0517e19d3b8,uoyun Sun <sunguoyun@loongson.cn>, 2020-04-08 10:21:11 +0800, , mips compel enable mips compel signed guoyun sun sunguoyun loongson.cn,,
461,ba0d6dbac1bd237319817ac0f34653a78686be1f,uoyun Sun <sunguoyun@loongson.cn>, 2020-04-08 10:13:22 +0800, , mips compel arch mips add architecture support compel tool library patch add support doe enable building signed guoyun sun sunguoyun loongson.cn,,
462,8be1d457d71c93ea0a592bdc2dc8a982cd3e6fa9,drian Reber <areber@redhat.com>, 2019-05-15 09:47:17 +0000, , net fix coverity resource_leak criu 3.12 criu net.c 2043 overwrite_var overwriting img img open_image_at cr_fd_ip6tables 0ul pid leak storage img point signed adrian reber areber redhat.com,,
463,eb732bcf0d7621e3b7a74797e8b4f04b40f2b183,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-03-24 14:26:10 +0000, , util remove deprecated print_data routine print_data function part deprecated removed show action moved util.c following commit  show action deprecated since 1.6 let finally drop print_data routine kept yet another deprecated feature called criu exec criu exec feature removed  remove criu exec code obsoleted compel library maybe todo add compel tool exec action therefore drop print_data well signed radostin stoyanov rstoyanov1 gmail.com,,
464,8c538ca10dc4385baf911b9b1747ff2287aff5fb,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-06 12:38:48 +0300, , page read warn async read completion acked mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
465,27ab533cbec281f60726c2ec3a26f74ca661e814,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2020-06-10 20:25:36 +0000, , test run test criu image streamer stream one pas stream zdtm.py testing criu image streaming criu image streamer installed criu image streamer relative criu project directory path providing criu image streamer found path env added test run travis make sure streaming work run test likely fail however would good run test stream signed nicolas viennot nicolas.viennot twosigma.com,,
466,7d79a58f4daa9ddda015fc0aaca2a60d156d12cc,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2020-05-21 17:40:17 +0000, , img streamer introduction criu image streamer add ability stream image criu image streamer workflow following criu image streamer started start listening unix socket criu started invoked connects socket dump restore operation instead using local disk open image file called provide unix pipe sent unix socket operation done called unix socket disconnected criu image streamer found http github.com checkpoint restore criu image streamer signed nicolas viennot nicolas.viennot twosigma.com,,
467,51c3f8a908b1738d7d268afc5bb0dd9a59f3d8a5,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2020-06-11 21:01:24 +0000, , pipe loop splice dumping pipe data instead erroring loop get desired number byte written like regular loop signed nicolas viennot nicolas.viennot twosigma.com,,
468,0708cbd8839267c30e8dcd8bec63f5bc2d2d36d0,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-09-13 18:28:10 +0100,311, remote use tmp file buffer restore dump criu call tool restore pass remote socket replacing stdin execvp stdin used tool receive input however tool call ftell stdin fails illegal seek since unix socket support file positioning operation resolve issue read received content unix socket store temporary file replace stdin tmp file python test zdtm.py run zdtm static env00 remote run zdtm static env00 run zdtm static env00 start test env00 pidfile env00.pid outfile env00.out envname env_00_test adding image cache adding image proxy run criu dump run criu restore log dump zdtm static env00 restore.log grep error rtnetlink answer file exists 00.229895 rdonly path route 9.img snapshot_id dump zdtm static env00 00.230316 running route restore failed restore ftell illegal seek 00.232757 error criu util.c 712 exited status 255 00.232777 error criu net.c 1479 tool failed route restore 00.232803 error criu net.c 2153 create net_ns 00.255091 error criu restore.c 1177 105 killed signal killed 00.255307 error criu mount.c 2960 mnt remove directory tmp file directory 00.255339 error criu restore.c 2119 restoring failed error test zdtm static env00 fail criu restore fail fix 311 signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin virtuozzo.com,,
469,01cab14dfad656eb1d5f7e6a611a49a87c83b34e,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-02-22 18:04:32 +0000, , util fix addr casting ipv4 ipv6 autobind saddr.ss_family af_inet6 cast saddr struct sockaddr_in6 signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
470,be2ded15ee1cff6c0bd5733dda57bb17ea85bcd9,drian Reber <areber@redhat.com>, 2020-06-05 07:55:18 +0200, , test fix flake8 error newest version flake report error variable name like used hard read change line make flake8 happy signed adrian reber areber redhat.com,,
471,d23d1fc0f9483e5b99abd31d92369fa8cbb05150,drian Reber <areber@redhat.com>, 2020-06-05 07:56:39 +0200, , travis fix alpine build latest version alpine container image seems alpine changed package name adapts alpine container solve travis failure signed adrian reber areber redhat.com,,
472,f2edc1e1999e7c495af404fc6c38b82c391854ec,drian Reber <areber@redhat.com>, 2020-05-06 13:13:38 +0000, , update certificate failing based test using zdtm.py started fail certificate seem expired following command used generate certificate generate key certificate echo temp certtool generate privkey cakey.pem certtool generate self signed template temp load privkey cakey.pem outfile cacert.pem generate server key certificate echo hostname nencryption_key nsigning_key temp certtool generate privkey key.pem certtool generate certificate template temp load privkey key.pem load certificate cacert.pem load privkey cakey.pem outfile cert.pem temp cakey.pem without test fail travis signed adrian reber areber redhat.com,,
473,95ead14874244f3c12e5970a74d1f4dd2433d652,avel Emelyanov <xemul@openvz.org>, 2020-04-29 16:31:49 +0300, , criu version long tempting release lot new feature board finally time namespace support great improvment pre dump memory consumption new clone3 support many  signed pavel emelyanov xemul openvz.org,,
474,5c5e7695a51318b17e3d982df8231ac83971641c,ir Kolyshkin <kolyshkin@gmail.com>, 2020-04-20 15:45:51 -0700,520, get_clean_mount demote error warning testing runc checkpointing frequently see following error error criu mount.c 1107 mnt create temporary directory read file system happens container root read mount error actually fatal since handled later least since fixed shown error runc integration test since fatal let demote warning avoid confusion http github.com checkpoint restore criu issue 520 signed kir kolyshkin kolyshkin gmail.com,,
475,c83a0aae2c71b66abf613c8ef5fe97b7311e1987,ndrei Vagin <avagin@gmail.com>, 2020-04-11 06:37:38 +0300, , proc parse clock symbolic name proc pid timens_offsets clock file replaced clock symbolic name look like cat proc 774 timens_offsets monotonic 864000 boottime 1728000 signed andrei vagin avagin gmail.com,,
476,7dc89376b85ddea408d43527ff42f4e86ea77a41,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-04-01 10:43:25 +0300, , pstree improve error handling first free pstree_item allocated shmalloc restore second always pstreeentry third remove break replacing implict goto err would easier understand error path forth split code reading one pstree item separate function sadly much use xfree ing thread case error still thread unfreed previous entry anyway least cleanup done signed pavel tikhomirov ptikhomirov virtuozzo.com,,
477,42b5700b72c0bebbef113554c064827a3ab40b18,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-04-15 11:34:47 +0300, , kerndat remove duplicate call kerndat_nsid func kerndat_nsid called twice leave kerndat_nsid call near signed pavel tikhomirov ptikhomirov virtuozzo.com,,
478,2c2fdd3334078f5eefea4f82f0df0fccfc8a9238,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2020-04-13 17:20:34 +0000, , parasite msg implemented parasite code changed ideally implement format parasite code signed nicolas viennot nicolas.viennot twosigma.com,,
479,ef7ef9cfa0c0ae4a2777c72b9facf994068b817e,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2020-04-14 18:03:38 +0000, , kerndat remove duplicate call called twice keep latter avoid changing behavior signed nicolas viennot nicolas.viennot twosigma.com,,
480,62088c721f08aaec8b63de3904304a3a31dcefea,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-04-14 10:04:28 +0300, , criu put statement continuation line closing bracket follow linux kernel codding style ... closing brace empty line except case followed continuation statement ... else statement ... http www.kernel.org doc html v4.10 process coding style.html placing brace space automaticly fixing git grep file match else xargs argadd file argdo else update signed pavel tikhomirov ptikhomirov virtuozzo.com,,
481,d1fa1734ee53404f8a06d82a5732dc1daff8d756,lexander Mikhalitsyn <alexander@mihalicyn.com>, 2020-03-04 18:26:37 +0300, , autofs fix integer overflow mount option parsing real life case pipe_ino param could larger int_max autofs_parse function using atoi function byte integer bug example mount info real case 00.508286 type autofs source etc auto.misc mnt_id 2824 s_dev 0x4b9 misc flag 0x300000 option pipe_ino 3480845226 pgrp 95929 timeout 300 minproto maxproto indirect 3480845226 2147483647 bit wide signed int max value problem cause error 03.195915 error criu pipes.c 529 packetized mode pipe supported yet signed alexander mikhalitsyn virtuozzo alexander mihalicyn.com,,
482,6b9faabf39e14bbc23fe3174f308a5f9f870113f,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2020-03-28 00:18:48 +0000, , mem avoid opening cr_fd_pages needed commit introduces optimization rsti vma_io empty optimization allows streaming non seekable image cr_fd_pages reopened signed nicolas viennot nicolas.viennot twosigma.com,,
483,4d34f84bb6957f00d3440a428ecd80dd869212be,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2020-04-10 21:10:27 +0000, , img rellocate path_max buffer section stack reducing memory footprint improved andrei vagin avagin gmail.com signed nicolas viennot nicolas.viennot twosigma.com,,
484,bb0b4219efbda66995887b09fb3d6d81dc314031,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2020-03-31 14:16:30 +0000, , img fix image_name image empty image opened errored enoent error image still valid later do_pb_read_one fail invoke image_name image empty_img_fd 404 read_fd_link fails signed nicolas viennot nicolas.viennot twosigma.com,,
485,067a20c815c5a632eee63469bcc9d99af73a9c79,ndrei Vagin <avagin@gmail.com>, 2020-03-28 22:13:17 +0300, , zdtm fail test crfail tag pass signed andrei vagin avagin gmail.com,,
486,698f3a4dbd8754a5c8bf1bf8f682d176f3bd24fb,ndrei Vagin <avagin@gmail.com>, 2020-03-26 20:03:34 +0300, , zdtm limit line length 160 symbol default limit symbol enough 4730 zdtm_ct zdtm.py 7535 4731 python zdtm.py 7536 4839 python zdtm.p 7537 4861 make 7538 4882 mnt 7539 4883 signed andrei vagin avagin gmail.com,,
487,eab1a30748b17c5fc1caccfd5f3ff917ea0db3ff,ndrei Vagin <avagin@gmail.com>, 2020-03-23 03:26:00 +0300, , timens restore process new timens restore clock restoring process sure monotonic boottime clock backward restore process new time namespace set proper offset clock patch criu dump clock value event process running host time namespace restore criu creates new time namespace set dumped clock value restores process signed andrei vagin avagin gmail.com,,
488,73438d34bb5bfba5f0ac063c699f66454c722c51,ndrei Vagin <avagin@gmail.com>, 2020-03-26 10:55:13 +0300, , test check nested time namespaces fails signed andrei vagin avagin gmail.com,,
489,0d8c0562f9d8e67bae04f1b1aea08e485edf7340,ndrei Vagin <avagin@gmail.com>, 2019-08-15 06:51:15 +0300, , zdtm_ct run test new time namespace signed andrei vagin avagin gmail.com,,
490,f1655fd5402f7827415cddbd796e5e44ed33cbc9,ndrei Vagin <avagin@gmail.com>, 2019-08-14 07:45:34 +0300, , zdtm add new test check time namespaces test check monotonic boottime jump flavor test started separate time namespace big offset criu restore time namespace incorrectly test detect big delta clock value signed andrei vagin avagin gmail.com,,
491,3fd0fa4bdc7d325bb244ef01873255e4ebcbb403,ndrei Vagin <avagin@gmail.com>, 2019-08-14 07:44:02 +0300, , zdtm add support time namespaces flavor test run separate time namespaces signed andrei vagin avagin gmail.com,,
492,ddba4af608d546a968e9558758718bead9c638c5,ndrei Vagin <avagin@gmail.com>, 2020-03-28 22:14:40 +0300, , namespace fail equal time case supported right signed andrei vagin avagin gmail.com,,
493,4127ef4ab769dc4417c22d0ce0a4ddaaca4193b4,ndrei Vagin <avagin@gmail.com>, 2019-08-14 07:40:40 +0300, , criu add support time namespaces time namespace allows per namespace offset system monotonic boot time clock time namespaces straightforward dump criu enters target time namespace dump current clock value restore criu creates new namespace restores clock value signed andrei vagin avagin gmail.com,,
494,0e9b42acf96d2c5fc3a6174ae6e4f2ad8a64c272,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-02-25 11:31:07 +0300, , maintainer add pavel maintainer hope enough experience project nominated want help review try best signed pavel tikhomirov ptikhomirov virtuozzo.com,,
495,e3fb52e375d2fdd7160395220cf52eb25dfc8c09,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-03-30 14:16:30 +0300, , remove header include statement duplicate revert util introduce helper reverts commit revert criu make use strlcpy copy allocated string reverts commit fix http github.com checkpoint restore criu pull 1003 signed pavel tikhomirov ptikhomirov virtuozzo.com,,
496,fcb23dbfcf439877d4cdef2d76881ce2822e4913,avel Emelyanov <xemul@openvz.org>, 2020-03-30 13:50:56 +0300,1003, merge pull request 1003 avagin v3.14 part2 prepare v3.14 part,,
497,8c36865c84666c73424b7a0fdb9f460557465ff2,ndrei Vagin <avagin@gmail.com>, 2020-03-25 20:14:24 +0300, , memfd split struct memfd_inode struct memfd_inode union dump restore part common part list_head node inode suggested nicolas viennot nicolas.viennot twosigma.com signed andrei vagin avagin gmail.com,,
498,e3a5d0975240f9e9b6b6d7a096af6b4bbad36737,ndrei Vagin <avagin@gmail.com>, 2020-03-23 07:37:00 +0300, , memfd save memfd inodes one image per object image acceptable expect object per container expect object better save one image number reason need fewer system call read object one image faster save move one image signed andrei vagin avagin gmail.com,,
499,967797a8676c8b3b7cd8954892b113c6765af25a,yeonggon Lee <gonny952@gmail.com>, 2020-03-15 16:32:15 +0900, , add build directory gitignore running make install build directory generated ignored gitignore commit add build directory gitignore signed byeonggon lee gonny952 gmail.com,,
500,cc362b432e2d2e3ec68628fb33b117fe3e89f9c2,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-03-20 17:34:57 +0300, , namespaces fix error handling dump_user_ns fix n_xid_map leak error path remove useless exit_code fix 6e1726f8 userns set uid gid entering userns signed pavel tikhomirov ptikhomirov virtuozzo.com,,
501,1ad8657ddb3d383874cc07cd3cf456cac7977db6,ndrei Vagin <avagin@gmail.com>, 2020-03-24 19:31:42 +0300, , config nftables include string.h strlen fix 9433b7b9db3e make use cflags ldflags config.h detection mechanism signed andrei vagin avagin gmail.com,,
502,5f28b692a0c972ddefb1ca4d1d0ef003dec4f617,ndrei Vagin <avagin@gmail.com>, 2020-03-21 22:11:28 +0300, , test fifo_loop change size fifo fit test buffer test expect write operation block signed andrei vagin avagin gmail.com,,
503,1ad209b9c2b780fe2d5b043c3ffe29634629252c,ndrei Vagin <avagin@gmail.com>, 2020-03-21 22:08:38 +0300, , test pipe03 check pipe size restored create two pipe without queued data signed andrei vagin avagin gmail.com,,
504,2b376168efd751856ebef192e764ebd0037e7174,ndrei Vagin <avagin@gmail.com>, 2020-03-21 21:58:55 +0300, , pipe restore pipe size even pipe empty without patch pipe size restored pipe queued data reported jenkins signed andrei vagin avagin gmail.com,,
505,fa705e418b4e7c2bce0925ad9f8689cd40b0c00d,aleriy Vdovin <valeriy.vdovin@virtuozzo.com>, 2020-02-03 15:27:40 +0300, , zdtm use safe helper function initialize unix socket sockaddr structure helper function remove code duplication test want initialize unix socket address absolute file path derived current working directory test relative filename resulting socket former code used cwd part absolute filename generation resulting filepath could later cause failure bind systcall due unchecked permission introduce confusing permission error signed valeriy vdovin valeriy.vdovin virtuozzo.com,,
506,691b4a4e7ee980778d8f13eaebddf9b04063942a,aleriy Vdovin <valeriy.vdovin@virtuozzo.com>, 2020-02-03 15:08:26 +0300, , zdtm implemented wrapper check permission filesystem syscall need navigate inode absolute path performs successive lookup operation part path lookup operation includes access right check usually always zdtm test process fall access category also usually directory bit set case bit set user group process relate test succeed performing syscalls filesystem api const char path part argument open openat mkdir bind etc observable behavior zdtm test fail file creation ops one system pas immediately clear developer looking failed test log investigation also quick developer due complex structure zdtm runtime nested clone namespace flag take place alongside bind mount additional note documented returning eaccess case part path lack read list permission fact always practice show test process get false success operation fail later call something like mkdir mknod bind given path argument wrapper around also check permission given filepath log error directs developer towards right investigation path even eliminates need investigation completely signed valeriy vdovin valeriy.vdovin virtuozzo.com,,
507,c40c09cbbf03afc058a761314fcdb14a3f69cb53,ndrei Vagin <avagin@gmail.com>, 2020-03-15 10:53:51 +0300, , test zdtmp add test shared memory file descriptor shared memory region openned via proc self map_files signed andrei vagin avagin gmail.com,,
508,10b1d46f674ec458cd1a006eb1b0546bf5a7135c,ndrei Vagin <avagin@gmail.com>, 2020-03-19 09:37:18 +0300, , mem vma set vma_file_ private shared vma file borrowed fast path two consequent vma share file one vma map file map_shared another one map map_private need take account,,
509,fb65ab2b1a47558c2fe92a635630d53b971e5876,ndrei Vagin <avagin@gmail.com>, 2020-03-15 10:44:14 +0300, , mem dump shared memory file descriptor shared memroy mapping opened via proc self maps_files file descriptor look like memfd file descriptor dumped way signed andrei vagin avagin gmail.com,,
510,f42ae70c75802787e980715a7ca895eb2b390d06,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2020-03-20 23:12:59 +0000, , make use cflags ldflags config.h detection mechanism config.h detection script use provided cflags ldflags try link libnl libnet others signed nicolas viennot nicolas.viennot twosigma.com,,
511,d0d6f1ad108a6bd7eb0e2019aaca7689bff45275,ndrei Vagin <avagin@gmail.com>, 2020-03-21 10:35:42 -0700, , mailmap update email signed andrei vagin avagin gmail.com,,
512,c3ad4942d43524c617bb77345ce8912461b6f9aa,ike Rapoport <rppt@linux.ibm.com>, 2020-03-05 20:46:16 +0200, , travis add ppc64 cross test amd64 signed mike rapoport rppt linux.ibm.com,,
513,b9c8e957d8f198fb47ed9e73a5d5c3727ba4d4cc,lexander Mikhalitsyn <alexander.mikhalitsyn@virtuozzo.com>, 2020-03-10 17:40:57 +0300, , crit recode skip try parse nftables raw image ignore parse image non crtool format image magic number raw_image_magic equal nftables image format compatible nft proc self input format reported jenkins signed alexander mikhalitsyn virtuozzo alexander mihalicyn.com,,
514,1f74f8d77087ce06624cb54f2fa70afaf1380103,mitry Safonov <dima@arista.com>, 2020-03-05 16:43:48 +0000, , travis use debian buster base cross build test jessie called oldoldstable migrate buster suggested adrian reber areber redhat.com signed dmitry safonov dima arista.com,,
515,18ac1540c4b64108b53fcd8fa3b3df256075e3f6,mitry Safonov <dima@arista.com>, 2020-03-05 15:04:15 +0000,924, travis add aarch64 cross test amd64 fix 924 signed dmitry safonov dima arista.com,,
516,327554ee646ac8c7728981d0607dc42420c3a85a,mitry Safonov <dima@arista.com>, 2020-03-05 15:00:08 +0000, , compel remove compel.h file includes header may needed aim one include compel could instead paste subheaders compel.h rather think worth migrate fine grained compel header follow strategy one header rule header creates problem cross compilation included file used host compel rightfully confuses compiler linker host definition fpu regs platform detail get drained host compel signed dmitry safonov dima arista.com,,
517,62ad2f6095b466bfade1af6fea60bcb0fa1505ec,mitry Safonov <dima@arista.com>, 2020-03-05 14:45:34 +0000, , criu remove compel.h includes plan remove compel.h file includes header may needed aim one include compel could instead paste subheaders compel.h rather think worth migrate fine grained compel header follow strategy one header rule header creates problem cross compilation included file used host compel rightfully confuses compiler linker host definition fpu regs platform detail get drained host compel first step stop including compel.h criu signed dmitry safonov dima arista.com,,
518,065ff6f4151805fe50cc881ef506b6ae6407ec57,ndrei Vagin <avagin@gmail.com>, 2020-03-05 08:30:23 +0300, , zdtm fifo_loop try write pipe size ... otherwise write block reported jenkins signed andrei vagin avagin gmail.com,,
519,73e0ed3b8ae2a87d4232dd4a39ce3dab4edb1f24,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-02-07 16:00:05 +0300, , zdtm add test open symlink migration signed pavel tikhomirov ptikhomirov virtuozzo.com developed vitaly ostrosablin vostrosablin virtuozzo.com signed vitaly ostrosablin vostrosablin virtuozzo.com signed alexander mikhalitsyn virtuozzo alexander mihalicyn.com,,
520,1936608ce42283b6c5aa007c883092bb2776af4b,lexander Mikhalitsyn <alexander.mikhalitsyn@virtuozzo.com>, 2020-02-07 16:00:01 +0300, , file allow dumping opened symlinks really open symlink file regular file one need open o_path o_nofollow flag look like systemd started open etc localtime symlink way sometimes nobody actually used thus never supported criu error criu file ext.c dump file type 120777 unknown etc localtime look like quiet easy support symlink file almost regular one need make fstatat following link also need take account support ghost symlinks signed alexander mikhalitsyn virtuozzo alexander mihalicyn.com developed pavel tikhomirov ptikhomirov virtuozzo.com signed pavel tikhomirov ptikhomirov virtuozzo.com,,
521,8b9c1f4c5bebd501f544cfe81534e4386f85246f,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-02-07 15:59:55 +0300, , zdtm add test file opened o_path test without patch fown fail dumping file opened wit o_path trigger error error criu pie parasite.c 340 fcntl f_getown_ex error criu files.c 403 get owner signum bad file descriptor error criu file reg.c 1887 restore file bad file descriptor signed pavel tikhomirov ptikhomirov virtuozzo.com signed alexander mikhalitsyn virtuozzo alexander mihalicyn.com,,
522,f167d1f4e9eb24dfbda077746f25cfdf8a2b59b9,yrill Gorcunov <gorcunov@gmail.com>, 2020-02-07 15:59:45 +0300, , fown fail dumping file opened o_path o_path opened file special empty file operation kernel space much even setting position allowed applies signal number owner setting signed cyrill gorcunov gorcunov gmail.com developed alexander mikhalitsyn alexander mihalicyn.com signed alexander mikhalitsyn virtuozzo alexander mihalicyn.com,,
523,58fd63042c925c6422f5453b9a13147ebd2a6769,ndrei Vagin <avagin@gmail.com>, 2020-03-01 01:04:20 +0300, , zdtm inhfd force python read new data file python 2.7 call read system call read file end next seek allows workaround problem inhfd memfd.py hang due issue reported jenkins signed andrei vagin avagin gmail.com,,
524,fce196d88df8363666922ac2fa2d6e23bb774289,ndrei Vagin <avagin@gmail.com>, 2020-02-29 09:51:33 +0300, , memfd corrupt state dumped right criu dumped dump content memfd file two reason state dumped changed criu call lseek workarounded using pread dumped descriptor write reported jenkins nicolas viennot nicolas.viennot twosigma.com signed andrei vagin avagin gmail.com,,
525,ffe0896ed01790e62cd617cf01bc6a4076fa4e87,ndrei Vagin <avagin@gmail.com>, 2020-03-01 04:26:12 +0300, , use __open_proc instead open proc ... ... process run mount namespace without proc reported jenkins signed andrei vagin avagin gmail.com,,
526,4129d3262ad2d2ac6875c2c86d565528969d8e72,drian Reber <areber@redhat.com>, 2020-02-05 09:39:32 +0000, , cgroup2 add minimal cgroup2 support runc test case sometimes mounting cgroup inside container test succeed let criu know cgroup2 exists restore mount doe fix specific cgroup2 setting enables criu mount cgroup2 restored container signed adrian reber areber redhat.com,,
527,10416bcbcb3c2ab4732971083f99d9390f8d168b,drian Reber <areber@redhat.com>, 2020-02-04 13:38:42 +0000, , seize support cgroup freezer add support checkpoint process using cgroup freezer signed adrian reber areber redhat.com,,
528,9f902e0c6b74ce2d7abf6a632d3abdf6b1370751,drian Reber <areber@redhat.com>, 2020-02-04 09:53:51 +0000, , seize factor opening writing freezer state preparation cgroupv2 freezer factor freezer state opening writing one location handle difference signed adrian reber areber redhat.com,,
529,563c5e5e763949de7b1c48bd04c777db17d768e1,drian Reber <areber@redhat.com>, 2020-02-04 09:10:49 +0000, , seize prepare cgroupv2 freezer cgroupv2 freezer doe return string instead thawed frozen return string prepares seize code use everywhere thawed frozen specific code path signed adrian reber areber redhat.com,,
530,bb032cc3e218c4aee5394642caa59be3909b259a,adostin Stoyanov <rstoyanov1@gmail.com>, 2020-02-18 19:53:36 +0000, , criu convert tab space signed radostin stoyanov rstoyanov1 gmail.com,,
531,48f3b6516b384f9c4f240aff76f671697198884b,adostin Stoyanov <rstoyanov1@gmail.com>, 2020-02-18 19:45:08 +0000, , criu add documentation enable option introduced http github.com checkpoint restore criu commit comment pavel tikhomirov enable doe fit external dev see external dev mount determined signed radostin stoyanov rstoyanov1 gmail.com,,
532,cdd08cdff8692aad9d05dd83e2ab24379cd83393,ike Rapoport <rppt@linux.ibm.com>, 2020-02-26 12:25:37 +0200,964, uffd use userns_call execute ioctl uffdio_api recent kernel userfaultfd support fork event limited cap_sys_ptrace cause followong error ioctl uffdio_api executed non privilieged userns error criu uffd.c 273 uffd failed get uffd api operation permitted wrapping call ioctl uffdio_api userns_call resolve issue fix 964 signed mike rapoport rppt linux.ibm.com,,
533,38793699e7f0e97d14b6b17e83e8bc071c3ce283,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2020-02-21 12:14:38 +0300, , test jenkins remove empty line end file signed pavel tikhomirov ptikhomirov virtuozzo.com,,
534,3eab205bae1d31f00922d1e717a1cd56c1cb7177,ndrei Vagin <avagin@gmail.com>, 2020-02-06 21:20:20 -0800, , python sort import 202 additional newline group import i100 import statement wrong order signed andrei vagin avagin gmail.com,,
535,bc49927bbc28b41e4b2759d42dc24f1d66e22df3,mitry Safonov <dima@arista.com>, 2020-02-06 18:01:00 +0000, , criu make use strlcpy copy allocated string strncpy strlen src put null terminator dst signed dmitry safonov dima arista.com,,
536,ec116449544cd2f062b7523c2eadc6d791baa0ac,mitry Safonov <dima@arista.com>, 2020-01-23 16:39:28 +0000, , criu use strlcpy instead strncpy gcc8 fedora rawhide new useful warning criu img remote.c function criu img remote.c 1099 error strncpy specified bound 4096 equal destination size werror stringop truncation 1099 strncpy rn.snapshot_id snapshot_id path_max  man strncpy warning null byte among first byte src string placed dest null terminated signed dmitry safonov dima arista.com,,
537,2dd105b8dfb23399e18ab4e3f7d13b00c19ad910,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2019-12-20 21:56:38 -0500, , memfd add test testing memfd feature namely support shared multiple process file shared multiple process memfd content file flag flag mmaps map_shared map_private seal excluding feature exists recent kernel 5.1 inherited signed nicolas viennot nicolas.viennot twosigma.com,,
538,b133c375ad2d21cf6a1a9e96e7dab3741c966fbe,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2020-02-04 16:39:53 +0000, , inhfd_test add support non pair file file pair naturally block read write happen writer closed case regular file take extra precaution also cleaned extra my_file.close signed nicolas viennot nicolas.viennot twosigma.com,,
539,56d8e2455fb86b885775db6c236cbb04ba403f4d,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2019-12-18 23:32:32 +0000, , memfd add seal support see man fcntl information seal memfd file sealed currently reason dump seal value memfd_inode image restoring seal must done carefully seal prevents future write access mean memory mapping write access must restored restoring seal signed nicolas viennot nicolas.viennot twosigma.com,,
540,29a1a88bcebaf9d83591077d2bec424da82c0e71,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2019-12-18 23:32:32 +0000, , memfd add memory mapping support checkpoint add vma flag vma_area_memfd denote memfd region even though memfd backed shmem device use file semantics memfd via proc map_files vma already support signed nicolas viennot nicolas.viennot twosigma.com,,
541,b25684e24ae7643f2a8da73617c22a44dc9023ca,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2019-12-18 23:32:32 +0000, , memfd add inherit support upon file restore inherited_fd called check user defined inerit override note memfd_inode image read invocation memfd name cached signed nicolas viennot nicolas.viennot twosigma.com,,
542,875ac4d03f9034adb88eec5875d63d0561c48107,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2019-12-18 23:32:32 +0000, , file increase path buffer size inherited_fd prepare memfd use inherited_fd needing long path name support signed nicolas viennot nicolas.viennot twosigma.com,,
543,c1e72aa936bd86fb4cd819e84791e8a9a5c4d572,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2019-12-18 23:32:32 +0000, , memfd add file support see man memfd_create information memfd add support memfd open file memory mapped add new kind file memfd add two image type memfd_file memfd_inode memfd_file contains usual file information e.g. position memfd_inode contains memfd name shmid identifier referring content reuse shmem facility dumping memfd content would easier support incremental checkpoint future signed nicolas viennot nicolas.viennot twosigma.com,,
544,5dbc24b206cd365db7498dddcd03798c5d8ed4e4,ndrei Vagin <avagin@gmail.com>, 2019-11-25 09:50:08 +0300, , util introduce helper signed andrei vagin avagin gmail.com,,
545,8bd634c1afc301c6e35db798c09de6fa34937eca,avel Emelyanov <xemul@openvz.org>, 2020-03-06 16:43:19 +0300,940, merge pull request 940 avagin v3.14 part1 preparing v3.14 release,,
546,e19f4cf3b120b91384cdd87fb138a319857f8d8b,ndrei Vagin <avagin@google.com>, 2020-03-03 11:46:08 -0800, , maintainer add dima adrian maintainer signed andrei vagin avagin gmail.com,,
547,42db2c1563544fc4307c95b8cc2cba8ddfc51262,ike Rapoport <rppt@linux.ibm.com>, 2020-02-26 20:35:12 +0200, , maintainer add mike signed mike rapoport rppt linux.ibm.com,,
548,872b795a5678d82a415419e139d680cbf81391ff,avel Emelyanov <xemul@openvz.org>, 2020-02-21 18:48:41 +0300, , maintainer suggest maintainer codex 932 guide based one runc project criu related specific signed pavel emelyanov xemul openvz.org,,
549,ff756cbb28c4ee10651ed80f38b8ef37ee74fc39,ndrei Vagin <avagin@gmail.com>, 2020-02-06 21:20:20 -0800, , python sort import 202 additional newline group import i100 import statement wrong order signed andrei vagin avagin gmail.com,,
550,d68a68b8f478e12bd457eccfbf8e49b50ca95e86,ndrei Vagin <avagin@gmail.com>, 2020-02-06 20:46:17 -0800, , test zdtm inhfd update dump option one iteration allows run inhfd test many iteration signed andrei vagin avagin gmail.com,,
551,f5181b2767d03f17e72dd6f70c83ce394b750e68,drian Reber <areber@redhat.com>, 2020-02-08 19:43:39 +0100, , travis fix podman test case podman changed output podman test running container interesting adding filter status running return running container previously signed adrian reber areber redhat.com,,
552,3a4c33c502b8ed685d1ffe81b15d11159d43848a,adostin Stoyanov <rstoyanov1@gmail.com>, 2020-01-18 14:28:03 +0000, , zdtm mntns_rw_ro_rw update error msg signed radostin stoyanov rstoyanov1 gmail.com,,
553,9cb4067e132ba48eb36b0b8075043b13e96e8974,mitry Safonov <dima@arista.com>, 2020-01-22 14:05:47 +0000, , vdso page align vvar always page aligned vma signed dmitry safonov dima arista.com,,
554,a96a7ed87fece0eeb397b9dd4901f680fbf2b4f6,mitry Safonov <dima@arista.com>, 2020-01-22 14:00:27 +0000, , vdso repair config_vdso apparently broken config_vdso set probably broken adding arm vdso support maybe commits repair adding check vdso_init_dump also try handling vdso restorer present parent prevent summing vdso_bad_size vdso vvar _rt_size reported adrian reber areber redhat.com signed dmitry safonov dima arista.com,,
555,0022c28468714a5329fd41ec12d744340b250cd4,mitry Safonov <dima@arista.com>, 2020-01-21 12:31:00 +0000, , vdso add vdso_is_present helper use kerndat check kernel provides vdso signed dmitry safonov dima arista.com,,
556,99346a28247a3abeae094008fefa2edbc78fbb4d,mitry Safonov <dima@arista.com>, 2020-01-24 11:55:00 +0000, , zdtm make test_ doc author weak variable allows override every test optionally signed dmitry safonov dima arista.com,,
557,72ff29070816e57b408f0bd6b8f71ff50c2e9cd4,mitry Safonov <dima@arista.com>, 2020-02-06 18:01:00 +0000, , criu make use strlcpy copy allocated string strncpy strlen src put null terminator dst signed dmitry safonov dima arista.com,,
558,0f438ceeed27f3473a9ebda6c9e15d593ceeebde,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2020-02-05 22:33:02 +0000, , typo fix missing space error message signed nicolas viennot nicolas.viennot twosigma.com,,
559,9bc9366c94d2c81f706d56d0227bf32a2425eef1,ndrei Vagin <avagin@gmail.com>, 2020-02-04 23:13:43 -0800, , vdso use correct offset remap vdso vvar mapping current version offset remapping vvar vdso region mixed vdso vvar vvar mapped vdso_size offset vvar vdso vdso mapped vvar_size offset signed andrei vagin avagin gmail.com,,
560,f1714ccce714093170a2616474cfc7b33298c75e,ndrei Vagin <avagin@gmail.com>, 2020-02-04 23:12:22 -0800, , test vdso check code path api map vdso signed andrei vagin avagin gmail.com,,
561,56258da17619883631d0d3c96ad583bc697f953e,ergei Trofimovich <slyfox@gentoo.org>, 2020-02-02 18:45:59 +0000, , criu fix build failure gcc gcc gcc fno common build fails  criu arch x86 crtools.o criu include cr_options.h 159 multiple definition rpc_cfg_file criu arch x86 cpu.o criu include cr_options.h 159 first defined make script nmk script build.mk 164 criu arch x86 crtools.built in.o error  gcc change default fcommon fno common http gcc.gnu.org pr85678 error also happens cflags fno common passed explicitly reported toralf rster bug http bugs.gentoo.org 707942 signed sergei trofimovich slyfox gentoo.org,,
562,23374b779898470016b2a0e95af56b0766aa6b3e,ir Kolyshkin <kolyshkin@gmail.com>, 2020-01-30 15:30:57 -0800, , criu fix asciidoctor commit 0493724c8eda3 added support using asciidoctor instead asciidoc xmlto generate man page reason asciidoctor doe deal well complex formatting use option external leading literal appearing man page instead italic formatting example inherit resource resource italic asciidoctor documentation asciidoctor help syntax tell text formatting  .constrained applied word boundary strong importance aka bold _stress emphasis_ aka italic monospaced aka typewriter text double single typographic quote passthrough text substitution disabled literal text monospaced substitution disabled  .unconstrained applied anywhere reate ead pdate elete  mono culture carefully replace bold bold italic __italic__ make work tested terminal postscript output asciidoctor asciidoc xmlto todo figure fix example literal multi line text since asciidoctor doe display monospaced font true postscript pdf output low priority signed kir kolyshkin kolyshkin gmail.com,,
563,a15426a111eb50e2339607225b0ab0d1dc49e0ed,ir Kolyshkin <kolyshkin@gmail.com>, 2020-01-30 15:27:07 -0800, , criu minor rewording add article see missing forbid disable crit crit referring man page simplify description signed kir kolyshkin kolyshkin gmail.com,,
564,8477875dc29e82485318b1c0f8482735755d5265,ir Kolyshkin <kolyshkin@gmail.com>, 2020-01-30 15:21:54 -0800, , doc makefile hide xmlto stderr case asciidoc installed xmlto make return error diagnostics shown since xmlto command found dev null remove redirect signed kir kolyshkin kolyshkin gmail.com,,
565,c98af78c58e2168d2322cd0ee15837468fd4ffb0,lexander Mikhalitsyn <alexander.mikhalitsyn@virtuozzo.com>, 2020-01-14 12:04:40 +0300, , compel add ffreestanding force gcc use builtin memcpy memset patch fix problem sse xmm register corruption amd64 architecture problem gcc generates parasite blob xmm register preserve register criu injecting parasite also gcc even nostdlib option builtin memcpy memset function optimized amd64 involves sse register seems optimal solution use ffreestanding gcc option compile parasite option implies fno builtin also designed kernel compilation another code suited work non hosted environment could prevent future sumilar bug check amd64 criu build affected problem could simply objdump criu pie parasite.o grep xmm output empty reported diyu zhou zhoudiyupku gmail.com signed alexander mikhalitsyn virtuozzo.com signed alexander mikhalitsyn alexander mihalicyn.com,,
566,f6de8d4ea9a2d0ce8f9d3373ab04a3c080348a86,drian Reber <areber@redhat.com>, 2020-02-04 14:43:59 +0000, , travis fix warning error validation fix validation error travis build config validation root deprecated key sudo key sudo effect anymore root missing using default linux root key matrix alias job using job signed adrian reber areber redhat.com,,
567,0e291d26c9e0258f60ae8921f0e03c89f332dc31,drian Reber <areber@redhat.com>, 2020-01-22 19:41:41 +0100, , arm use clone3 exists last architecture specific change make criu use clone3 set_tid available architecture add clone3 based assembler wrapper used restorer code tested fedora 5.5.0 rc6 kernel architecture signed adrian reber areber redhat.com,,
568,f991f235064807a59ad8e4f98e82f34767b05e18,drian Reber <areber@redhat.com>, 2020-01-19 21:42:58 +0100, , aarch64 use clone3 possible add parasite clone3 set_tid wrapper aarch64 tested fedora 5.5.0 rc6 signed adrian reber areber redhat.com,,
569,3dabd38a8292872dcf4c5710449a4c8017304ac2,drian Reber <areber@redhat.com>, 2020-01-25 13:25:21 +0100, , clone3 handle clone3 clone_parent clone3 explicitly block setting exit_signal clone_parent specified clone also work error message exit signal thread group leader taken signed adrian reber areber redhat.com,,
570,f6469493dd739d4c16c8230524fa5d5a88731b80,drian Reber <areber@redhat.com>, 2020-01-17 13:35:48 +0100, , ppc64le use clone3 possible add parasite clone3 set_tid wrapper ppc64le signed adrian reber areber redhat.com,,
571,55c8ec62a53e2728b09ee93d36fd6dd36eeb0c49,drian Reber <areber@redhat.com>, 2020-01-21 14:20:05 +0100, , arm remove stack pointer clobber list like supported architecture gcc complains stack pointer register part clobber list remove stack pointer clobber list signed adrian reber areber redhat.com,,
572,cbadd201cbd20b7e44b9f8edea932a9420f67230,drian Reber <areber@redhat.com>, 2020-01-16 16:41:40 +0100, , s390x use clone3 possible add parasite clone3 set_tid wrapper s390x contrast x86_64 implementation thread start address argument put thread stack passed via register caller saved still contain correct value thread start address argument returning syscall tested 5.5.0 rc6 signed adrian reber areber redhat.com,,
573,4c4f67a56be60300e734d92411e16e26928d3776,drian Reber <areber@redhat.com>, 2020-01-15 14:27:09 +0100, , s390x remove stack pointer clobber list like supported architecture gcc complains stack pointer register part clobber list error listing stack pointer register 15â clobber list deprecated werror deprecated remove stack pointer clobber list zdtm.py run still run without error change signed adrian reber areber redhat.com,,
574,a1ea8deb4c0824dc2178dbe116c9b10f81a608aa,drian Reber <areber@redhat.com>, 2019-12-16 10:42:13 +0000, , use clone3 set_tid create process linux kernel 5.4 introduced clone3 set_tid longer necessary write proc ns_last_pid influence next pid number clone3 directly select pid newly created process thread checking availability clone3 set_tid adding assembler wrapper clone3 previous patch extends criu pie restorer.c criu clone noasan.c use newly added assembler clone3 wrapper create process certain pid rfc wip wanted share run feedback probably use 5.4 based kernel keep working signed adrian reber areber redhat.com,,
575,97c03b97d00e27397ca2ea0f9b5569739e24ae27,drian Reber <areber@redhat.com>, 2019-12-16 07:57:03 +0000, , add assembler wrapper clone3 create new process thread certain pid based clone3 new assembler wrapper necessary glibc wrapper yet signed adrian reber areber redhat.com,,
576,ca02c47075b69c3387d03ae2a09ab9499d5bd27f,drian Reber <areber@redhat.com>, 2019-12-15 20:38:46 +0000, , kerndat detect system support clone3 set_tid linux kernel 5.4 extends clone3 set_tid allow process specify pid newly created process introduces detection clone3 syscall set_tid supported first implementation x86_64 signed adrian reber areber redhat.com,,
577,8fea2647b69fc0be0cac6a43639ed648cdd08db6,drian Reber <areber@redhat.com>, 2020-01-09 18:54:50 +0000, , travis reduce number podman test running podman test loop time take minute travis reduce test loop run time signed adrian reber areber redhat.com,,
578,4232b270b8a0c866b9ee26e7b5f381cbf7cea56a,aleriy Vdovin <valeriy.vdovin@virtuozzo.com>, 2020-01-10 15:57:50 +0300, , image core reserve start_time field ensure consistency runtime environment process within container need see start time value suspend resume cycle introduce new field core image structure store start time dumped process later value would restored newly created task future feature likely pulled reserve field protobuf descriptor signed valeriy vdovin valeriy.vdovin virtuozzo.com,,
579,f1abc9aa26421b0c0ea52a703590cd998e676b55,drian Reber <areber@redhat.com>, 2020-01-14 14:47:18 +0100, , ppc64le remove register clobber list compiling criu dev fedora give two error wrong clobber list compel include uapi compel asm sigframe.h error listing stack pointer register clobber list deprecated werror deprecated criu arch ppc64 include asm restore.h error listing stack pointer register clobber list deprecated werror deprecated also bug report debian criu doe build  error come following note note value stack pointer asmâ statement must statement far understand problem case code never return anyway running zdtm seldom fails zdtm static double free corruption happens often verify happens without patch criu doe build without patch signed adrian reber areber redhat.com,,
580,0c218746d587483346d5dcb7638b642392a4985f,idhi Gupta <itsnidhi16@gmail.com>, 2020-01-09 22:43:25 +0530, , switch open alpine test python3 signed nidhi gupta itsnidhi16 gmail.com,,
581,1e9ff2aa03206102a7aeaf1d32f61056d3d05e46,idhi Gupta <itsnidhi16@gmail.com>, 2019-12-08 10:14:40 +0530, , add socket based java functional test signed nidhi gupta itsnidhi16 gmail.com,,
582,8b5dea33f6bff8e8d35e709e026218caf7d4a2d8,drian Reber <areber@redhat.com>, 2020-01-09 10:31:41 +0000, , travis switch alpine python3 python officially reached end life also switch alpine based test python signed adrian reber areber redhat.com,,
583,75a74423801a83ef7657e67e0b016a76f741db11,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2019-12-30 20:21:03 +0000, , file add fd_cloexec test,,
584,8255caf27b5e2bb96af6affc161b8d0d3bbdccbe,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2019-12-30 20:29:27 +0000, , file remove o_cloexec file flag kernel artificially add o_cloexec flag reading proc fdinfo interface fd_cloexec set file descriptor used access file commit remove o_cloexec flag file flag restore proper fd_cloexec value file descriptor criu fcntl f_getfd retrieve fd_cloexec status restore later fcntl f_setfd necessary multiple file descriptor may point open file,,
585,2ac43cd426badfc6d68582b203ace318e5f79427,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2019-12-30 20:27:40 +0000, , python improve decoding file flag signed nicolas viennot nicolas.viennot twosigma.com,,
586,7622b7a70eb7a00b2ba542f9118f4351b3df2538,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2019-12-18 23:32:32 +0000, , file fix ghost file error path signed nicolas viennot nicolas.viennot twosigma.com,,
587,acb42456dc707a303b308fef67b2be92c81ab427,lexander Mikhalitsyn <alexander.mikhalitsyn@virtuozzo.com>, 2019-11-11 19:20:22 +0300, , zdtm nft table preservation test signed alexander mikhalitsyn virtuozzo.com signed alexander mikhalitsyn alexander mihalicyn.com added test_author zdtm test signed dmitry safonov dima arista.com,,
588,e1c4871759d6edb4d7c2d3129981060b873ec912,lexander Mikhalitsyn <alexander@mihalicyn.com>, 2019-11-11 19:07:52 +0300, , net add nftables centos nft used instead iptables never supported nft rule criu rule flushed developed pavel tikhomirov ptikhomirov virtuozzo.com signed pavel tikhomirov ptikhomirov virtuozzo.com signed alexander mikhalitsyn virtuozzo.com signed alexander mikhalitsyn alexander mihalicyn.com signed dmitry safonov dima arista.com,,
589,17c4a8b24507d1bd1a906aa4a9d5ea3054072141,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2019-12-21 18:13:06 +0000, , style enforce kernel style wstrict prototype include warning kernel compilation wstrict prototype enforces full declaration function previously declaring extern void func one call func 123 compilation error dangerous correct declaration extern void func void signed nicolas viennot nicolas.viennot twosigma.com generated commit message pull request signed dmitry safonov dima arista.com,,
590,8bb3c17a0f7f14baaed8d9b6ebf953c24a793ccc,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2019-12-21 18:08:23 +0000, , style enforce kernel style wdeclaration statement include warning kernel compilation wdeclaration statement enforces variable declared top scope signed nicolas viennot nicolas.viennot twosigma.com generated commit message pull request signed dmitry safonov dima arista.com,,
591,79559bef92b524911b766d674ac8bc4470b8b378,drian Reber <areber@redhat.com>, 2019-12-20 17:50:37 +0100, , fix test ubuntu seems like ubuntu introduced overlayfs change break criu http ubuntu source linux bug 1857257 disables overlayfs unfortunately test switching devicemapper vfs upstream kernel seem problem also add docker test xenial still working overlayfs criu point view also adjust podman ubuntu package location podman ubuntu package available via longer via ppa signed adrian reber areber redhat.com,,
592,8b467dd944f6b3bed0a468800b041efdb218d6e8,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-12-13 04:01:36 +0000, , zdtm add test so_keepalive signed radostin stoyanov rstoyanov1 gmail.com,,
593,d4e6fc2a0dcff62ff246544d3d9a78d6961f253a,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-12-13 00:10:28 +0000, , socket support so_keepalive tcp keepalive packet used determine connection still valid so_keepalive option set tcp packet periodically sent keep connection alive patch implement checkpoint restore support so_keepalive tcp_keepidle tcp_keepintvl tcp_keepcnt option signed radostin stoyanov rstoyanov1 gmail.com,,
594,0980617e24004ea00e4e0841c97b138f0a4e0073,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-12-12 23:04:30 +0000, , socket remove duplicate variable assignment signed radostin stoyanov rstoyanov1 gmail.com,,
595,00bb068785a8b1a7c4481e2e7f2c0b9f903d941b,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-12-20 18:09:15 +0000, , script alpine install py2 package pip future package renamed py3 future py2 package yaml dropped http aports commit main http aports commit main signed radostin stoyanov rstoyanov1 gmail.com,,
596,2e656222d78fecc1bf6490bed59078083bdb4351,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2019-12-18 23:32:32 +0000, , crit fix python3 encoding issue signed nicolas viennot nicolas.viennot twosigma.com,,
597,4c46cbc4d86c7578b98e64b8f664cf9c0b0fe978,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2019-12-16 15:34:10 +0300, , x86 cpu cleanup improve xfeatures_mask check make xfeatures_mask check explicit relying guess hardware backward compatibility used check long time look better explicitly check xfeature bit available source also available destination xsave_size need smaller size destination source xsave operation small allocated buffer may corrupt nearby data split comment xfeatures_mask xsave_size single comment quiet different case understandable improve comment remove extra else ifs remove extra typecast signed pavel tikhomirov ptikhomirov virtuozzo.com,,
598,55f7a571f286baa6eac6fe7a020914505a0eb464,lexander Mikhalitsyn <alexander.mikhalitsyn@virtuozzo.com>, 2019-11-14 14:50:43 +0300, , zdtm sysctl value preservation test test check proc sys net unix max_dgram_qlen value changed process net namespace saved signed alexander mikhalitsyn alexander mihalicyn.com signed alexander mikhalitsyn virtuozzo.com,,
599,ebe3b52353c5d380d01c332e7d57594995258c18,yrill Gorcunov <gorcunov@gmail.com>, 2019-11-14 14:41:04 +0300, , unix sysctl preserve max_dgram_qlen value proc sys net unix max_dgram_qlen per net variable already noticed systemd inside container may change value example set 512 instead kernel default value thus need keep inside image restore signed cyrill gorcunov gorcunov gmail.com signed alexander mikhalitsyn alexander mihalicyn.com signed alexander mikhalitsyn virtuozzo.com,,
600,1d23dc4a3042599cabea90a81c063db453b89abb,yrill Gorcunov <gorcunov@gmail.com>, 2019-11-29 10:57:29 +0300, , mount order call clone thread later stage restore procedure may race helper call clone_noasan self thus need walk clone_noasan call figure calling without last_pid lock safe open_mountpoint called fusectl_dump dump_empty_fs tmpfs_dump processing dump stage thus safe called various place reg files.c particular open_reg_by_id called parallel thread need lock called parallel need lock called run start forking need lock thus use lock_last_pid unlock_last_pid helper wait subprocess finish time put warning text clone_noasan comment next time need use would recall pitfall  fix unitialized ret variable  use exit_code instead ret signed cyrill gorcunov gorcunov gmail.com,,
601,2237666ac1d277051d2bb90796fb1a0c5febb885,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2019-11-12 14:31:08 +0300, , restorer inotify reorder inotify cleanup waiting helper zombie seen ppoll interrupted signal vz7 migration test beggining zombie helper die trigger sigchilds sent parent adding additional debug printing task ... zombie helper sigchld_handler see 15.644339 pie task 10718 exited status 15.644349 pie cleaning inotify event 15.644359 pie cleaning inotify event 15.644367 pie cleaning inotify event previousely 05.718449 pie 104 cleaning inotify event 05.718835 pie 330 cleaning inotify event 05.719046 pie cleaning inotify event 05.719164 pie cleaning inotify event 05.719185 pie error criu pie restorer.c 1287 failed poll inotify 05.719202 pie cleaning inotify event 05.719269 pie error criu pie restorer.c 1890 restorer fail reordering cleanup wait fix signed pavel tikhomirov ptikhomirov virtuozzo.com,,
602,af7e5f994b4d2221af1a0110dbfe5bdadd67f964,ndrei Vagin <avagin@gmail.com>, 2019-11-26 07:26:31 +0300, , readme github pull request preferred way contribute continue accepting patch signed andrei vagin avagin gmail.com,,
603,be43c3b840b657a6a31a6885ca6e03da70de1b04,ndrei Vagin <avagin@gmail.com>, 2019-11-25 09:52:25 +0300, , cgroup use new mount api open cgroup file system require create temporary directory mount proc file system signed andrei vagin avagin gmail.com,,
604,76e4d31a3fa6a8d4ccee9a111c212c27ab69474f,ndrei Vagin <avagin@gmail.com>, 2019-11-25 09:51:40 +0300, , net use new mount api open sysfs file system require create temporary directory mount proc file system signed andrei vagin avagin gmail.com,,
605,1a2d8ad7e162adf95124064109c959c7f7beb77a,ndrei Vagin <avagin@gmail.com>, 2019-11-21 01:26:38 +0300, , mount use new mount api open proc file system require create temporary directory mount proc file system signed andrei vagin avagin gmail.com,,
606,4997a096e4ffad4778a24f903e4450842171e576,ndrei Vagin <avagin@gmail.com>, 2019-11-25 09:50:08 +0300, , util introduce helper signed andrei vagin avagin gmail.com,,
607,b5b1c4ec4506df7cee6a9ba8ffff36f43e0cd8e3,ndrei Vagin <avagin@gmail.com>, 2019-11-21 01:24:44 +0300, , kerndat check whether new mount api supported signed andrei vagin avagin gmail.com,,
608,3ca09b191429a4260a12daf6bbaf58da2aebd656,ndrei Vagin <avagin@gmail.com>, 2019-11-20 11:01:33 +0300, , travis ignore fails podman test fixed signed andrei vagin avagin gmail.com,,
609,37220b3c418d8d09ff2ef147e94c37fc897b3e27,idhi Gupta <itsnidhi16@gmail.com>, 2019-11-07 14:38:42 +0530, , add file based java functional test signed nidhi gupta itsnidhi16 gmail.com,,
610,6ab2bdd940c392ba58ebe68b5134d6327381a498,mitry Safonov <dima@arista.com>, 2019-11-21 21:56:43 +0000, , zdtm socket tcp fin wait1 use array index fro test_msg fix following compile error socket tcp fin wait1.o socket tcp fin wait1.c 144 error adding int string doe append string werror wstring plus int write test_msg sizeof test_msg sizeof test_msg  socket tcp fin wait1.c 144 note use array indexing silence warning write test_msg sizeof test_msg sizeof test_msg   error generated signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
611,434e6b92dbcd47354f02e3a992ead6c25a6db16f,mitry Safonov <dima@arista.com>, 2019-11-21 21:56:42 +0000, , documentation add hint docker build original old guide probably work anymore patch accessible criu depends library protobuf still keep might helpful someone signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
612,1dbc835954d9c27ad1edb8184c02cfea1fd414b1,mitry Safonov <dima@arista.com>, 2019-11-21 21:56:41 +0000,455, travis add armv7 cross cross compile test fix 455 based patch andrei vagin avagin gmail.com signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
613,bffa6e0ad005a3e125b9b6c3da527a929ed18c79,mitry Safonov <dima@arista.com>, 2019-11-21 21:56:40 +0000, , build zdtm use pkg config find includes libs help cross compile zdtm test case somebody need signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
614,3b24574b6d48b386127386b18036767a89ad6d0f,mitry Safonov <dima@arista.com>, 2019-11-21 21:56:39 +0000, , build zdtm makefile hack travis aarch64 armv8l hack build aarch32 zdtm test armv8 travis commit dfa0a1edcbcb makefile hack travis aarch64 armv8l signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
615,70fae12509d7e0448e00fa0b0aa3a94b2384025f,mitry Safonov <dima@arista.com>, 2019-11-21 21:56:38 +0000, , build zdtm support cross build maybe useful little change needed signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
616,1463c41119c8eef8ccf135e71359f579e821a21e,mitry Safonov <dima@arista.com>, 2019-11-21 21:56:37 +0000, , build use subarch instead additional uname use provided subarch detect architecture flavour build produce result fix two thing zdtm make correctly supply usercflags subtly fix cross compilation providing way specify subarch signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
617,df66aa99b6ce59108055759d5ebda69e2fd00669,mitry Safonov <dima@arista.com>, 2019-11-21 21:56:36 +0000, , build nmk provide proper subarch always equal arch useful nothing actually time change subarch meaningful give way detect kind arch flavor build dealing also cross compiling sake set subarch user supplied call useless uname cross compilation signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
618,a4fa4162d410c0bbc751d92119022f9a1c3a6723,mitry Safonov <dima@arista.com>, 2019-11-21 21:56:35 +0000, , build nmk remove srcarch used anywhere signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
619,25f6d4f72fb995cb776d65a9d4d539d4fdcc6740,mitry Safonov <dima@arista.com>, 2019-11-21 21:56:34 +0000, , build remove srcarch srcarch always equal arch rule use one another architecture may forget set one need second variable meaning confusing people remove completely self correction debug srcarch different one place zdtm makefile unintentional mistake ifeq arch arm64 arch aarch64 srcarch aarch64 endif meant arch aarch64 would never work inside ifeq fix part mess signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
620,60bb5c731078ad15b3d9e62782d692d91c5c2db0,ndrei Vagin <avagin@gmail.com>, 2019-11-19 22:48:44 +0000, , zdtm set root path 0700 restore update zdtm test verify criu doe require root path accessible unprivileged user restored restoring user namespace signed radostin stoyanov rstoyanov1 gmail.com,,
621,90cbeadb668d99f9d9557cee7a4c67e593f6e7ad,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-11-19 22:10:39 +0000, , zdtm replace continue elif else replacing continue pattern elif else reduces number line preserving logic signed radostin stoyanov rstoyanov1 gmail.com,,
622,9a50fbce72228404c29642af70af7b42fbc60a7b,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-11-03 20:35:18 +0000, , man describe root option requirement requirement described http github.com opencontainers runc blob b133feae libcontainer l1265 signed radostin stoyanov rstoyanov1 gmail.com,,
623,8ab3e40e3e45a4e0337c6715c923fb640e2e8973,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-11-10 07:35:50 +0000,828, restore create temp proc tmp restoring container user namespace criu fails create temporary directory proc unprivileged user restored doe permission access working directory used criu resolve 828 signed radostin stoyanov rstoyanov1 gmail.com,,
624,d99ee9753e90df1040dc49341a38357e58d838ee,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-11-09 22:48:32 +0000, , mount bind mount root via userns_call restoring runc container enabled user namespace criu fails mount specified root directory path run runc inaccessible unprivileged user signed radostin stoyanov rstoyanov1 gmail.com,,
625,b50b6ea09e7a80b91f2bdeb0b5cd444b0ae800ca,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-11-03 20:18:38 +0000, , mount add error message suggested andrei vagin avagin gmail.com signed radostin stoyanov rstoyanov1 gmail.com,,
626,75fcec0ecbccea5b8258def25adb056e4d02c0c1,ike Rapoport <rppt@linux.ibm.com>, 2019-11-17 16:05:47 +0200, , travis exclude test lazy page newer kernel kernel 5.4 higher restrict availability uffd_event_fork user sys_cap_ptrace prevents running lazy page test flavor disable lazy page testing travis newer kernel signed mike rapoport rppt linux.ibm.com,,
627,8f45330d168df043c400593f2387a92e2b686ef8,ike Rapoport <rppt@linux.ibm.com>, 2019-11-17 16:04:16 +0200, , travis group lazy page option amount lazy page option keep growing let put common one variable signed mike rapoport rppt linux.ibm.com,,
628,dc4677123ba03f93deab2d1ec6047d3a35ba694c,ichaÅ CÅapiÅski <mclapinski@google.com>, 2019-11-06 02:15:20 +0100, , checkpoint specified controller change criu would checkpoint controller even one specified cgroup dump controller becomes problem cgroup controller checkpointing machine exist restoring machine even criu instructed dump controller change everything work expected signed michaå apiå ski mclapinski google.com,,
629,1c0716924bbc1128c478388b70904438a5934e73,mitry Safonov <dima@arista.com>, 2019-11-09 22:20:45 +0000, , compel criu add __must_check compel function fail various reason may status system interruption user anything else really desired handle many pie related error possible otherwise hard analyze status parasite restorer process least warning log produced even stopped signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
630,56bc4189e47c3f356c6f407544f5a88768bd4f00,mitry Safonov <dima@arista.com>, 2019-11-09 22:20:44 +0000, , criu kill task even network unlocked currently anything fails network unlocked task killed work anyway stage set ret nothing later get called mean task resumed properly furthermore function like catch_tasks return failure first error let cleanup even network unlocked want keep mess ignore failure cli option introduced existing code reworked decision critical ignored move restore finished successfully message accordingly everything evidently good late failure result cleanup criu returning error code result make test fail case run zdtm static inotify04 start test inotify04 pidfile inotify04.pid outfile inotify04.out dirname inotify04.test run criu dump log dump zdtm static inotify04 dump.log grep error 00.119763 fsnotify openable inode match zdtm static inotify04.test inotify testfile 00.119766 fsnotify dumping zdtm static inotify04.test inotify testfile path handle 00.119769 fsnotify 0x00000b flag 0x000800 00.119787 fdinfo flag 4000 00.119796 warn criu fsnotify.c 336 fsnotify 0x00000c inotify event dropped error run criu restore log dump zdtm static inotify04 restore.log grep error 00.391582 123 stopped 00.391667 106 trapped 00.391674 106 native going execute syscall required 00.391697 106 stopped 00.391720 error compel src lib infect.c 1439 task 123 unexpected state b7f 00.391736 error compel src lib infect.c 1447 task stopped segmentation fault error old map lost set new map appeared set 10000 1a000 rwxp 1a000 24000 test zdtm static inotify04 fail map compare send signal 106 wait zdtm static inotify04 106 die 0.100000 test zdtm static inotify04 pas signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
631,c21c0aea1bd11b9d5c99803a7413314e0d6a0866,mitry Safonov <dima@arista.com>, 2019-11-09 22:20:43 +0000, , compel infect detach fail unknown state mean task end may wanted state return err code signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
632,bd17ee85882033ead401a89e1eb21b18c7cb2afb,mitry Safonov <dima@arista.com>, 2019-11-09 22:20:42 +0000, , parasite syscall log cure failed infection maybe expected hopefully never happens let warn case signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
633,abe48f8c3618113035c3e5ff76747b0342b6c7e7,mitry Safonov <dima@arista.com>, 2019-11-09 22:20:41 +0000, , restore warn restorer unmapped late stop restore already printed restore successful well warn aloud infection signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
634,1038a0ae44971129b3720c4351b788913e7be8f2,mitry Safonov <dima@arista.com>, 2019-11-09 22:20:40 +0000, , dump warn unmapping local memfd failed probably worst could happen still unexpected preparing ground make compel_cure function __must_check signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
635,b5a83623b0327c19a2b9e6da28c434f28e33f7c3,mitry Safonov <dima@arista.com>, 2019-11-09 22:20:39 +0000, , dump try cure remote err pathes daemon stop thread dump failure still desired remove parasite remote possible try best keep hopeing signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
636,71738565780552b93fad5dcd42ecfcb4e972471f,mitry Safonov <dima@arista.com>, 2019-11-09 22:20:38 +0000, , lib infect check compel succeed executing munmap signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
637,ee449e27c6979291660772db9724474a55d83b12,mitry Safonov <dima@arista.com>, 2019-11-09 22:20:37 +0000, , compel mark compat argument __nr used remove __maybe_unused work around signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
638,c8f16bfacb82b98841a9de49f5f9a15254d7b95f,mitry Safonov <dima@arista.com>, 2019-11-09 22:20:36 +0000, , compel infect warn close failed memfd preparation __must_check compel_syscall check close maybe useful syscalls signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
639,a93117ede1e58db68246f775c00bc21683954c39,mitry Safonov <dima@arista.com>, 2019-11-09 22:20:35 +0000, , lib ptrace elaborate failure also use magic return errno failure signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
640,ef277068de3f6f89f394b9f63a3870eddde8c998,mitry Safonov <dima@arista.com>, 2019-11-09 22:20:34 +0000, , lib ptrace allow ptrace_peekdata errno man ptrace error request return errno set appropriately since value returned successful ptrace_peek request may caller must clear errno call check afterward determine whether error occurred fwiw called errno may false fail data signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
641,ea018e9a9c78353b8f5532a2e5a36a0d1c5e8769,drian Reber <areber@redhat.com>, 2019-11-13 13:25:30 +0100, , travis remove group .travis.yml test successful even removing group .travis.yml apparently necessary signed adrian reber areber redhat.com,,
642,fe668075ad2afe1021f8ff86d774eccb7bd1bef7,drian Reber <areber@redhat.com>, 2019-11-13 08:38:16 +0100, , travis switch pcp64le s390x real hardware travis also support ppc64le s390x remove qemu based docker emulation test setup run ppc64le s390x test real hardware lxd container signed adrian reber areber redhat.com,,
643,eab8cf0775ed5569bb22795a86817dae06cf0005,drian Reber <areber@redhat.com>, 2019-11-04 08:58:54 +0100, , travis switch arm related test real hardware switch arm related test 32bit 64bit aarch64 system travis provides arm32 running armv7hf container aarch64 setarch linux32 main change docker travis aarch64 use privileged travis using unprivileged lxd container setup testing environment signed adrian reber areber redhat.com,,
644,075f1beaf7d36cb9ea5030e1faab9661c33290ab,drian Reber <areber@redhat.com>, 2019-11-04 08:56:15 +0100, , makefile hack travis aarch64 armv8l criu compile test armv7hf travis using setarch linux32 return armv8l travis aarch64 add path makefile treat armv8l armv7hf compile enables run armv7hf compile test travis aarch64 hardware much faster maybe entirely correct probably good enough compile testing armv7hf container signed adrian reber areber redhat.com,,
645,6be414bb2be1e8be13b996f60977ecc44b765a2e,drian Reber <areber@redhat.com>, 2019-11-04 08:54:22 +0100, , travis run privileged container lxd travis unprivileged container aarch64 lxd docker privileged fails situation change travis setup start docker privileged running x86_64 signed adrian reber areber redhat.com,,
646,62953d4334b0294ac90e0ec088267fa99daf9f92,drian Reber <areber@redhat.com>, 2019-11-04 08:52:55 +0100, , travis fix copy paste error previous commit previous commit copied line return main script body bash return function change return exit signed adrian reber areber redhat.com,,
647,2b4e653361ec0c3b827fb4af4e0b8848fb9a26f0,idhi Gupta <itsnidhi16@gmail.com>, 2019-11-05 15:19:25 +0530, , run java functional test travis signed nidhi gupta itsnidhi16 gmail.com,,
648,f3cca97d80c77a6f2b9702edc8225ea8bb6034e5,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2019-06-27 12:43:40 +0300, , mount make nonrecursive reuse friendly add dfs next search remove recursion add patch remove recursion sorting helper rip butifull yet unused step part nfs next algorithm signed pavel tikhomirov ptikhomirov virtuozzo.com,,
649,35adc08598f78e9845388f235ffe0917d7606779,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2019-02-07 15:17:51 +0300, , mount rework mount tree build step restore build mntns mount tree alone reading mount image additional step merging everything single mount tree allows pointer mntns root mount hand also allows remove extra complication mnt_build_tree teach return tail pointer merge list together later building tree add separate helper create joint mount tree mntns simplify see place use mntinfo_tree restore save real root mntns mount tree instead root_yard_mp need next patch checking restore tree prepend child root_yard order merged tree persists signed pavel tikhomirov ptikhomirov virtuozzo.com,,
650,7be7260261a1f94b111b9390a2b39179e87d7d8b,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2019-02-07 15:17:50 +0300, , restore image read namespace image non namespaced case image mount net namespaces empty doe belong thus need collect restore adding check eliminate suspicious message log lack image test zdtm.py run always zdtm static env00 env00 restore.log 00.000332 mountpoints 5.img image env00 restore.log 00.000342 netns 2.img image signed pavel tikhomirov ptikhomirov virtuozzo.com,,
651,71dff54aa474efa105043cd86cc38103c3c21859,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2019-02-07 15:17:49 +0300, , make rst_new_ns_id static never used outside namespaces.c signed pavel tikhomirov ptikhomirov virtuozzo.com,,
652,d804f70a680b0ba7410e3845aa8179d8ab5c4219,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2019-02-07 15:17:48 +0300, , mount remove useless check populate_mnt_ns path    always called path  fork_with_pid   prepare_mnt_ns populate_mnt_ns mnt_roots root_ns_mask clone_newns populate_mnt_ns prepare_mnt_ns already checked true need check remove signed pavel tikhomirov ptikhomirov virtuozzo.com,,
653,9325339e64e0485e981e880ae460729cd9b9b648,mitry Safonov <dima@arista.com>, 2019-11-09 18:31:58 +0000, , travis disallow failure ia32 seems pretty stable add many false positive last month reveal issue compatible code signed dmitry safonov dima arista.com,,
654,389bcfef3e8f4be35464da9f94681e6573d6d1d9,idhi Gupta <itsnidhi16@gmail.com>, 2019-10-18 20:09:15 +0530, , test java add fileread test signed nidhi gupta itsnidhi16 gmail.com,,
655,c4006c0034ef2162693d9dd619d025c240affc78,italy Ostrosablin <vostrosablin@virtuozzo.com>, 2019-11-01 09:00:23 +0000, , test static conntracks support nftables update test support iptables nft create conntrack rule signed vitaly ostrosablin vostrosablin virtuozzo.com signed andrei vagin avagin gmail.com,,
656,a7c625938eb1d472341770699469ca6ddb4d91b1,drian Reber <areber@redhat.com>, 2019-10-29 15:17:40 +0100, , travis start use aarch64 hardware newly introduced aarch64 travis possible criu test case switch aarch64 travis unprivileged lxd container aarch64 block many kernel interface criu need test building criu natively aarch64 instead using docker qemu combination test based docker working aarch64 currently seems problem docker aarch64 maybe nesting docker lxd signed adrian reber areber redhat.com,,
657,3861b334b252ff65acf2c827b5d85cab21de086a,ergey Bronnikov <estetus@gmail.com>, 2019-11-03 13:08:09 +0300, , fix broken web link,,
658,1a28dee52b63eca5adc48c1d6f1dda8d532a0e8e,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2019-10-24 19:39:39 +0000, , action script invoked normal signal behavior signal mask propagate execve need clear invoking action script may want handle sigchld sigsegv signed nicolas viennot nicolas.viennot twosigma.com,,
659,19a24df53c2dba3b2e2457c99965edf43819818d,mitry Safonov <dima@arista.com>, 2019-10-01 00:29:14 +0100, , early log print warning buffer full see many issue early log probably need warning used note commit 74731d9 zdtm make grep_errors also grep warning also warning grepped zdtm.py believe improvement print bothering line log dump zdtm static inotify00 dump.log grep error 00.000000 allow link remaps 00.000034 warn criu log.c 203 early log empty error instead decreasing loglevel message improve reporting real issue adrian reber adrian lisas.de pavel tikhomirov ptikhomirov virtuozzo.com radostin stoyanov rstoyanov1 gmail.com signed dmitry safonov dima arista.com,,
660,00ce121fd55e5947d477be4601169e8676a2bbbf,shutosh Mehra <asmehra1@in.ibm.com>, 2019-09-23 08:36:12 +0000, , add criu path env variable libcriu test path pointing incorrect location criu executable causing libcriu test fail running travis also added statement display log file content failure help debugging signed ashutosh mehra asmehra1 in.ibm.com,,
661,321f82662129f516573cedba10b4fbbfc12f9f5a,shutosh Mehra <asmehra1@in.ibm.com>, 2019-09-16 06:49:07 +0000, , enable libcriu testing travis job updated script travis travis test run libcriu test signed ashutosh mehra asmehra1 in.ibm.com,,
662,f8125b8bef7bf5a7bbaea5e6e1d29578c45bf53d,shutosh Mehra <asmehra1@in.ibm.com>, 2019-09-13 18:47:33 +0000, , couple fix build run libcriu test libcriu test currently broken patch fix couple issue allow building running libcriu test lib criu.h got updated include version.h present criu include command compile libcriu test specifying criu include path searched header file resulted compilation error fixed adding criu criu include however cause problem criu include fcntl.h would hide system defined fcntl.h solution use iquote criu criu include applies quote form include directive secondly libcriu.so major version got updated libcriu run.sh still assumes verion instead updating version libcriu run.sh patch update libcriu makefile use future change major version libcriu cause problem signed ashutosh mehra asmehra1 in.ibm.com,,
663,477c3a4b0b7a246808afb2f12d0553db14dd74a6,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-10-08 21:37:22 +0100, , service use space stack msg buffer rpc message fairly small size using space stack might better option change follows pattern used do_pb_read_one pb_write_one signed radostin stoyanov rstoyanov1 gmail.com,,
664,e56401ed3c187150c8b95cb5fd69e0d637c5515c,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-09-14 12:47:14 +0100, , image desc remove support per pid image lock dropped commit d040219 lock drop support per pid image lock used signed radostin stoyanov rstoyanov1 gmail.com,,
665,f65b17e976633ad4d4a10dae96e3279157d8e77f,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2019-04-30 11:35:26 +0300, , cgroup fix cg_yard leak error path signed pavel tikhomirov ptikhomirov virtuozzo.com,,
666,5a92f100b88e25981d7d51b3f4db374297fcff3c,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-09-28 06:59:45 +0100, , page pipe resize pipe_max_size performing pre dump continuously increase page pipe size fit max amount memory page pipe buffer however never actually set pipe buffer size max reduce number pipe necessary pre dump improve performance shown example example let consider following process include stdio.h include stdlib.h include unistd.h void main void  int void cache calloc 1024 1024 1024  printf sleep   stats dump change frozen_time 123538 memdump_time 95344 memwrite_time 11980078 pages_scanned 262721 pages_written 262169 page_pipes 513 page_pipe_bufs 519 stats dump change frozen_time 83287 memdump_time 54587 memwrite_time 12547466 pages_scanned 262721 pages_written 262169 page_pipes 257 page_pipe_bufs 263 signed radostin stoyanov rstoyanov1 gmail.com,,
667,71c2a9dc73f679df93f2c749fed39088616a7b16,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2019-10-01 20:56:26 +0000, , guard empty file lock status lock status string may empty happen owner lock invisible pid namespace unfortunate behavior fixed kernel v4.19 see commit 1cf8e5de40 signed nicolas viennot nicolas.viennot twosigma.com signed andrei vagin avagin gmail.com,,
668,3efe44382fef816ea274ed1833adc1abfa4b4f06,ndrei Vagin <avagin@gmail.com>, 2019-10-06 01:01:50 +0300,815, image avoid name conflict image file conflict register file opts.proto read already defined file rpc.proto please fix conflict adding package name proto file use different name duplication note enum value appear sibling enum type instead child http github.com checkpoint restore criu issue 815 signed andrei vagin avagin gmail.com,,
669,6b264f591f42e0ee3e1ceee103d5c557184829d5,ndrei Vagin <avagin@gmail.com>, 2019-10-05 22:46:02 +0300, , criu use atomic_add instead atomic_sub atomic_sub defined platform reported jenkins abhishek dubey gmail.com signed andrei vagin avagin gmail.com,,
670,7c97cc7eb26c7232ca286e5ad4322c3be2bdcfca,ndrei Vagin <avagin@gmail.com>, 2019-10-04 20:02:07 +0300, , lib fix compile time error lib criu.c 343 error implicit conversion enumeration type enum different enumeration type criupredumpmode aka enum werror wenum conversion opts rpc pre_dump_mode mode  signed andrei vagin avagin gmail.com,,
671,d30557699616d27bed6e2e1fd6bbdf45a8c99d7f,ndrei Vagin <avagin@gmail.com>, 2019-10-04 19:36:37 +0300, , zdtm handle pre dump mode rpc mode signed andrei vagin avagin gmail.com,,
672,befbbd9bba013533a05547c9b3702a256904190c,bhishek Dubey <dubeyabhishek777@gmail.com>, 2019-10-03 19:39:23 +0530, , refactor time accounting macro refactoring time macro per read mode pre dump design signed abhishek dubey gmail.com signed andrei vagin avagin gmail.com,,
673,98608b90de0f853b1c8a6e15b312320e1441c359,bhishek Dubey <dubeyabhishek777@gmail.com>, 2019-10-03 19:39:22 +0530, , read mode pre dump implementation pre dump using syscall frozen state iovecs generated draining memory happens task unfrozen pre dumping shared memory remains unmodified signed abhishek dubey gmail.com signed andrei vagin avagin gmail.com,,
674,4c774afc18e8af458eeb03ea021ba52d0af4b32c,bhishek Dubey <dubeyabhishek777@gmail.com>, 2019-10-03 19:39:21 +0530, , adding cnt_sub stats manipulation adding cnt_sub function complement cnt_add cnt_sub utilized decrement stats counter according skipped page count read mode pre dump signed abhishek dubey gmail.com signed andrei vagin avagin gmail.com,,
675,29b63e9a720ec3e996de3bdbeccde5d7c0cb46e3,bhishek Dubey <dubeyabhishek777@gmail.com>, 2019-10-03 19:39:20 +0530, , skip adding prot_read non prot_read mapping read mode pre dump may fail even adding prot_read flag adding prot_read work dumping statically see added comment detail signed abhishek dubey gmail.com signed andrei vagin avagin gmail.com,,
676,e0ea21ad5ecafadad653f46a0ed8cbef69c7b883,bhishek Dubey <dubeyabhishek777@gmail.com>, 2019-10-03 19:39:19 +0530, , handling iov generation non prot_read region skip iov generation region prot_read since syscall process read pre dump handle random order read splice pre dump signed abhishek dubey gmail.com signed andrei vagin avagin gmail.com,,
677,20d4920a8bf74d1eceebc076bcc00889ba40e9f7,bhishek Dubey <dubeyabhishek777@gmail.com>, 2019-10-03 19:39:18 +0530, , adding pre dump mode option two mode pre dump algorithm splicing memory parasite pre dump mode splice default using syscall pre dump mode read signed abhishek dubey gmail.com signed andrei vagin avagin gmail.com,,
678,576a99f492b1f55050d4fde8560efe454ab887bc,mitry Safonov <dima@arista.com>, 2019-10-04 16:32:48 +0100, , restorer inotify overflow pie stack path_max 4096 path_max 32k 32k fix a3cdf948699c6 inotify cleanup auxiliary event queue pavel tikhomirov ptikhomirov virtuozzo.com andrei vagin avagin gmail.com debugged andrei vagin avagin gmail.com signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
679,578597299a82f0aea0ef7a3063e6dc6ea6fccb33,icolas Viennot <Nicolas.Viennot@twosigma.com>, 2019-09-30 20:57:08 +0000, , cleanup do_full_int80 instead tampering argument do_full_int80 return value system call also avoids copying register back syscall_args32 argument syscall additionally register r12 r15 added list clobber kernel older v4.4 preserve gcc 128 byte red zone defined x86_64 abi optimizing away correct position rsp register leaf function avoid tampering red zone fixing sigsegv running mmap_bug_test debug mode debug signed nicolas viennot nicolas.viennot twosigma.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin gmail.com,,
680,b84f481b55442433f46b5ea4b91a32dd8cffc502,ndrei Vagin <avagin@gmail.com>, 2019-09-24 23:48:15 +0300, , unix print inode number unsigned int reported jenkins signed andrei vagin avagin gmail.com,,
681,3f1c4a17ad18fca3f95c0f51c5c42fedbb403b89,ndrei Vagin <avagin@gmail.com>, 2019-09-24 23:36:29 +0300, , pipe print pipe_id unsigned generate external pipe name reported jenkins signed andrei vagin avagin gmail.com,,
682,b47ef26eac1777396ede638af0d6951a3fc52a1e,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2019-09-21 13:35:18 +0300, , cgroup fixup nit  fix snprintf bound access signed pavel tikhomirov ptikhomirov virtuozzo.com,,
683,f44939317f60288874bdc7b8544442a59db0d024,ndrei Vagin <avagin@gmail.com>, 2019-09-19 23:37:57 +0300, , zdtm cgroup_yard create test cgroup yard post start hook right created pre dump hook snap option set test fails python test zdtm.py run zdtm static cgroup_yard snap iter ... running zdtm static pre dump traceback recent call last file zdtm static line module os.mkdir yard oserror errno file exists external_yard michaå apiå ski mclapinski google.com signed andrei vagin avagin gmail.com,,
684,db40ef5be671dbd78f42bd868a5377e62707c3de,ndrei Vagin <avagin@gmail.com>, 2019-09-15 11:49:27 -0700, , test cgroup_yard always clean test cgroup yard right cleaned post restore hook zdtm.py executed norst option zdtm.py run zdtm static cgroup_yard norst ... oserror errno file exists external_yard michaå apiå ski mclapinski google.com signed andrei vagin avagin gmail.com,,
685,813bfbeb4f26611f8fd431c6fd65104cbad789d1,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-09-15 07:03:57 +0100, , convert pr_msg error message pr_err print error message stderr instead stdout suggested andrei vagin avagin gmail.com signed radostin stoyanov rstoyanov1 gmail.com,,
686,a9f974b4951a261063187f0536c01c7f84e5fe56,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-09-15 06:58:15 +0100, , introduce destructor prior log initialisation criu preserve early log message buffer case error content content buffer need printed flushed suggested dmitry safonov 0x7f454c46 gmail.com signed radostin stoyanov rstoyanov1 gmail.com,,
687,8bdc60d50e5b990aa8debd06785175da3e0ba34a,ndrei Vagin <avagin@gmail.com>, 2019-09-14 10:26:22 +0300, , arch x86 fpu_state hast byte aligned 5.2 kernel fpu_state byte aligned staring 5.2 kernel required pu_state behavior changed c2ff9e9a3d9d x86 fpu merge two code path signed andrei vagin avagin gmail.com,,
688,4f24786b36058ab82e669fd5686cc9f5cfc573db,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-09-14 13:47:06 +0100, , travis install missing diffutils dependency following test fail fedora rawhide usr bin diff missing zdtm static bridge zdtm static cr_veth zdtm static macvlan zdtm static netns zdtm static netns zdtm static sit signed radostin stoyanov rstoyanov1 gmail.com,,
689,cf0080505ac3b3194f664d77edccccfa47bf450a,ichaÅ CÅapiÅski <mclapinski@google.com>, 2019-08-14 21:13:34 +0200, , test implement test new cgroup yard option signed michaå apiå ski mclapinski google.com,,
690,2f337652ad5c40f7a420fdd9a7c57767af4ba8a0,ichaÅ CÅapiÅski <mclapinski@google.com>, 2019-08-08 18:49:13 +0200, , add new command line option cgroup yard instead creating cgroup yard criu create externally pas criu useful somebody want grant cap_sys_admin criu signed michaå apiå ski mclapinski google.com,,
691,ad7e82a30f813b8b902026467434cc2e7421452e,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-09-09 21:57:33 +0100, , script drop fedora rawhide fix change introduced c75cb2b longer necessary signed radostin stoyanov rstoyanov1 gmail.com,,
692,3e9dc1c7f5537a860a7332b93e056e7058162578,mitry Safonov <dima@arista.com>, 2019-09-11 11:13:51 +0100, , compel x86 use pushq label pushq sign extends value bummer label address may higher 2gb mean sign bit set long jump ia32 selector r11 scratched use r11 register temporary push bit address complement a9a760278c1a arch x86 push correct eip stack lretq cyrill gorcunov gorcunov gmail.com reported andrei vagin avagin gmail.com signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
693,0d8e2477e928a1301c0611de233aed6879fdc13b,ndrei Vagin <avagin@gmail.com>, 2019-09-10 06:50:58 -0700,398, arch x86 push correct eip stack lretq right use pushq push sign extended value parasite code placed higher 2gb see something like  0xf7efd5b0 pushq 0x23 0xf7efd5b2 pushq 0xf7efd5b7 lretq actually want push 0xf7efd5b9 instead fix 398 dmitry safonov dima arista.com cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com acked dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin gmail.com,,
694,8ea953f18b8534be883de3638369e4804771d086,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-08-13 22:11:04 +0100, , dump remove redundant statement signed radostin stoyanov rstoyanov1 gmail.com,,
695,3eed47223b255c092f3aba31b68a9acefa9be523,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-09-01 12:23:39 +0100, , file reg drop prototype function removed commit b11eeea restore auto unlink ghost file signed radostin stoyanov rstoyanov1 gmail.com,,
696,08f3b57ab324aea55e7a92ecbe961be60df4983d,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-07-01 17:40:44 +0300, , manual fixlets code formatting signed pavel emelyanov xemul virtuozzo.com,,
697,c703e3fd8404e506cc6156719b953ea0580d59a4,avel Emelyanov <xemul@openvz.org>, 2019-09-11 11:29:31 +0300, , criu version 3.13 bugfixes huuuge .py patch coding style nice set new feature like 32bit arm page server new mode cgroups signed pavel emelyanov xemul openvz.org,,
698,72402c6e7a4a9a70eefd534f91bcbe068736276d,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-06-28 20:17:35 +0300, , fix tab code comment left yapf formatter signed pavel emelyanov xemul virtuozzo.com,,
699,34dbf67b240f6fb97f576a81c96ea6ce46a8e288,avel Emelyanov <xemul@virtuozzo.com>, 2019-07-01 17:43:56 +0300, , pyimages add pb2dict.py checked fix warning error signed pavel emelyanov xemul virtuozzo.com,,
700,6b615ca15277fc14b52a09b4eb18314b7c6cbe75,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-07-31 09:46:18 +0100, , test others reuse setup_swrk reduce code duplication taking setup_swrk function separate module reused multiple place signed radostin stoyanov rstoyanov1 gmail.com,,
701,4c1ee3e227045fc1dc07b10ac7a538a68299693b,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-07-29 22:07:10 +0100, , test resolve py3 compatibility issue python installed assume usr bin python refers version python executable usr bin python2 doe exist commit also resolve compatibility issue popen py2 file descriptor inherited child process py3 closed default signed radostin stoyanov rstoyanov1 gmail.com,,
702,5aa72e723707e2bd7e8ed9841c2ad392781d066d,ndrei Vagin <avagin@gmail.com>, 2019-09-07 15:46:22 +0300, , reformat everything pep8 style discussed mailing list current .py file formatting doe conform world standard better reformat yapf tool used command used yapf find name .py signed pavel emelyanov xemul virtuozzo.com,,
703,5ff4fcb753c566f1c40a1973e8c68a270c3b515b,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2019-08-26 18:19:23 +0300, , zdtm make inotify04 require restore adding test fake inotify event cleanup restore detected also problem dump predump criu touch file watched generates fake event root snorch criu test zdtm.py run zdtm static inotify04 norst always run zdtm static inotify04 run zdtm static inotify04 start test inotify04 pidfile inotify04.pid outfile inotify04.out dirname inotify04.test run criu dump log dump zdtm static inotify04 dump.log grep error 00.004050 fsnotify openable inode match home snorch devel criu test zdtm static inotify04.test inotify testfile 00.004052 fsnotify dumping home snorch devel criu test zdtm static inotify04.test inotify testfile path handle 00.004055 fsnotify 0x000007 flag 0x000800 00.004071 fdinfo flag 4000 00.004080 warn criu fsnotify.c 336 fsnotify 0x000008 inotify event dropped error send signal wait zdtm static inotify04 die 0.100000 test zdtm static inotify04 fail result check test output 10.558 event 0x20 10.558 event 0x10 10.558 event 0x20 10.558 event 0x10 10.558 event 0x20 10.558 event 0x10 10.558 event 0x20 10.558 event 0x10 10.558 read event 10.558 fail inotify04.c 105 found unexpected inotify event errno resource temporarily unavailable  fail suppress fails jenkins make inotify04 test reqrst still need cleanup create event dump predump,,
704,bbd922ed32ece54830380abe7706c111203f1774,drian Reber <areber@redhat.com>, 2019-07-29 14:21:45 +0000, , travis add podman test case add test currently running docker also podman addition also test podman export import migration support signed adrian reber areber redhat.com,,
705,2a76ecc9fd3f01e40f8a28ca5e005c8be7d9e116,ebastiaan van Stijn <github@gone.nl>, 2019-08-13 12:29:53 +0200, , readme fix broken link github.com xemul criu signed sebastiaan van stijn github gone.nl,,
706,1356a1def3fe2ced121ecaa6ed082154cc1060a4,ebastiaan van Stijn <github@gone.nl>, 2019-08-13 12:29:08 +0200, , replace reference github.com xemul criu signed sebastiaan van stijn github gone.nl,,
707,4e84d11c1f30e042dcd1f8d98872bc4abb8fa889,ndrei Vagin <avagin@gmail.com>, 2019-08-10 23:53:40 +0300, , kerndat remove unused code signed andrei vagin avagin gmail.com,,
708,25460af822a629ed6e3ce1360ca035016127cd6c,ndrei Vagin <avagin@gmail.com>, 2019-08-10 23:46:19 +0300, , kerndat mark function static used kerndat.c signed andrei vagin avagin gmail.com,,
709,f6ab4620748588d5d8991c858ae6c2a0b52a2b44,mitry Safonov <dima@arista.com>, 2019-08-10 02:33:29 +0100, , vdso correctly track vdso position without vvar vvar absent initialized false mean check supposed track vdso vvar pair went wrong bracket result broke criu kernel vvar mapping simpilfy code moving check vvar_bad_size outside conditional reported cyrill gorcunov gorcunov gmail.com fix 0918c7667647 vdso restorer always track vdso vvar position vdso_maps_rt signed dmitry safonov dima arista.com acked cyrill gorcunov gorcunov gmail.com tested cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
710,5f91f920a8756e565d4a93a2542ba13865cc5733,ndrei Vagin <avagin@gmail.com>, 2019-08-08 11:09:05 -0700, , test bring interface network namespace needed workaround problem route save 00.113153 running route save error ipv4 fib table doe exist signed andrei vagin avagin gmail.com,,
711,e5bdcbbd1d975f088df3e5766f1ddda4a29c3cb1,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2019-06-26 15:47:39 +0300, , zdtm inotify add test unexpected event appear create two inotify watch testfile nothing except expected event queue inotify cleanup auxiliary event queue root snorch criu test zdtm.py run zdtm static inotify04 run zdtm static inotify04 run zdtm static inotify04 dep inotify04.d inotify04.o link inotify04 start test inotify04 pidfile inotify04.pid outfile inotify04.out dirname inotify04.test run criu dump run criu restore send signal wait zdtm static inotify04 die 0.100000 test zdtm static inotify04 fail result check test output 14.279 event 0x10 14.280 event 0x20 14.280 event 0x10 14.280 read event 14.280 fail inotify04.c 105 found unexpected inotify event errno resource temporarily unavailable  make two inotifies file signed pavel tikhomirov ptikhomirov virtuozzo.com zdtm inotify04 add another inotify file,,
712,96992883ca7550387b347fbbcfde1266f078c55a,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2019-06-26 11:55:19 +0300, , inotify cleanup auxiliary event queue mentioned problem inotify receives one unexpected event happens algorithm mix setting inotify watch file opening closing mix inotify creation watched file open close need create inotify watch file another mntns generally trick opening file referenced current mntns proc pid path moreover several inotifies file queue get even event one happens simple case note way event queue need least leave queue clean event generated still look harder rewrite creation without proc trick remove unexpected event queue cleanup event fdt restorer process inotify fds _after_ restore stage closest place _alive_ process know prepare_fds done process mean need cleanup pie code need add sys_ppoll definition pie divide process two phase first collect transfer fds second real cleanup note still prepare_fds zombie zombie fds proc pid collect collect_fds therefore prepare_fds thus need cleanup inotifies zombie adopt multiple unexpected event cleanup fdt receiver done fdt restorer without additional fds restore stage replace sys_poll sys_ppoll fix minor nit signed pavel tikhomirov ptikhomirov virtuozzo.com use ppoll always remove poll,,
713,10a831689e160464b628b1d4e3e58da2439cd983,mitry Safonov <dima@arista.com>, 2019-07-25 23:01:14 +0100,346, restorer use gettimeofday vdso log timing omit calling raw syscalls use vdso purpose logging eliminate much one syscall per pie message getting time without switching kernel speed keeping log informative fix 346 enabled vdso timing ia32 application need change complexity maybe later signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
714,9e5c0634ff2f3333c8be8561b03a66afe77b2e37,mitry Safonov <dima@arista.com>, 2019-07-25 23:01:13 +0100, , vdso add compatible property vdso_maps need differ compatible ia32 vdso map x86_64 dictate abi vdso code according decision use gettimeofday vdso bit restorer signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
715,23960fe60e448ad71b509b49ed03c8a20bae0228,mitry Safonov <dima@arista.com>, 2019-07-25 23:01:12 +0100, , seccomp restorer disable gtod vdso strict mode signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
716,90ecb82202f6e426644b4d8ae88757649abacf45,mitry Safonov <dima@arista.com>, 2019-07-25 23:01:11 +0100, , restorer parasite vdso move vvar failed move vdso also slight refactor signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
717,53c2fdc955d8966100c2abd9580d5a065710c31a,mitry Safonov <dima@arista.com>, 2019-07-25 23:01:10 +0100, , vdso restorer always track vdso vvar position vdso_maps_rt simplicity make always valid restorer vdso_start used calculate gettimeofday address signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
718,2d521f3c9354719cb2bf488ad0a4c308b9f4c376,mitry Safonov <dima@arista.com>, 2019-07-25 23:01:09 +0100, , vdso restorer try best preserve vdso restore vdso used restorer timing log try keep restore process signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
719,28949d5fb80d4cf8998fdda69b02800dadf7e544,mitry Safonov <dima@arista.com>, 2019-07-25 23:01:08 +0100, , compel std uapi provide setter gettimeofday provide way set gettimeofday function infected task criu parasite restorer voluble log better lesser term bug investigation modern kernel way get time without entering kernel vdso add way reduce cost logging without making valuable particularly fond name someone come better naming change signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
720,d2d6e3f5379ce9a8cfa320bb07113995a8191bfb,mitry Safonov <dima@arista.com>, 2019-07-25 23:01:07 +0100, , compel log use enum parameter change uapi make bit friendly documented loglevel mean foreign user signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
721,b25d1facaedae7a1bd7154fe28f909c7e961a93c,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-07-31 07:08:20 +0100, , pb2dict disable undefined name basestring following error falsely reported flake8 lib image pb2dict.py 266 f821 undefined name basestring error occurs basestring available python however condition line ensures error occur run time signed radostin stoyanov rstoyanov1 gmail.com,,
722,5721e6100037b4e51a67548f7eecd7f67432b7af,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-07-31 07:02:10 +0100, , script install flake8 dnf fedora fedora test install python3 pip install flake8 necessary fedora package flake8 signed radostin stoyanov rstoyanov1 gmail.com,,
723,2a683849b9b3619f7f5a619192e309c0993193c3,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-07-29 21:42:19 +0100, , script set python python3 fedora dockerfiles signed radostin stoyanov rstoyanov1 gmail.com,,
724,cd87a628e14c68c3bb30988df56d04e373079435,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-07-29 21:34:51 +0100, , script remove yaml ipaddress py2 fedora module signed radostin stoyanov rstoyanov1 gmail.com,,
725,77efcde96dd17dff942bf7677f159c9a9369d622,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2019-07-29 15:28:08 +0300, , mount fix inconsistent return goto err alternation signed pavel tikhomirov ptikhomirov virtuozzo.com,,
726,229a8ab06b23e651b17b14a04939e8c2c2024ca5,drian Reber <areber@redhat.com>, 2019-07-29 13:51:21 +0000, , script remove python2 fedora dockerfiles python2 package removed future fedora release remove python2 package explicitly listed criu dockerfiles required current level testing signed adrian reber areber redhat.com,,
727,9fe8960d89f009c8e9a3c6245aeac3b46b0120ca,drian Reber <areber@redhat.com>, 2019-07-29 13:25:20 +0000, , script add possibility override docker podman able run test container script build podman put name container runtime overridden make fedora rawhide podman signed adrian reber areber redhat.com,,
728,1e2647f12393547f1d1b9c1e403f8ab75eb46ef5,ndrei Vagin <avagin@gmail.com>, 2019-07-17 13:08:56 -0700, , image convert type child_subreaper int32 bool signed andrei vagin avagin gmail.com,,
729,104aaf383e884f87174b8cdc068ab1b29c9c1b18,ndrei Vagin <avagin@gmail.com>, 2019-07-17 13:07:34 -0700, , restorer print error prctl syscalls failed signed andrei vagin avagin gmail.com,,
730,ba454407bf8217d28be97af8888be9e7cac22932,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-07-10 18:47:56 +0100,738, make insert version macro criu.h including version information criu criu.h required project use libcriu preserve backward compatibility close 738 signed radostin stoyanov rstoyanov1 gmail.com,,
731,c01da212da56144b4aa07fdd63ae1e47ca51e3ba,yrill Gorcunov <gorcunov@gmail.com>, 2019-07-05 18:38:11 +0300, , mem shmem fix typo for_each_shmem macro since use counter macro declaration use reference macro simply happen work called variable declarated caller code signed cyrill gorcunov gorcunov gmail.com reviewed mike rapoport rppt linux.ibm.com signed andrei vagin avagin gmail.com,,
732,92717977cd507e21c0aa6f0948cde456da91a6bd,yrill Gorcunov <gorcunov@gmail.com>, 2019-07-05 18:38:10 +0300, , mem shmem use xmalloc get error message log memory available signed cyrill gorcunov gorcunov gmail.com reviewed mike rapoport rppt linux.ibm.com signed andrei vagin avagin gmail.com,,
733,67d5dbb995926e4d28b6b3b76e43c342953ed21e,yrill Gorcunov <gorcunov@gmail.com>, 2019-07-05 20:47:10 +0300, , mem shmem elegant entry declaration signed cyrill gorcunov gorcunov virtuozzo.com signed andrei vagin avagin gmail.com,,
734,d999a9e07951ceda18b43dd8658924d29179b886,yrill Gorcunov <gorcunov@gmail.com>, 2019-07-05 18:38:08 +0300, , mem shmem use xrealloc_safe expand_shmem signed cyrill gorcunov gorcunov gmail.com reviewed mike rapoport rppt linux.ibm.com signed andrei vagin avagin gmail.com,,
735,0319d1bf2e273295dea3fa8699519e7ca8579823,yrill Gorcunov <gorcunov@gmail.com>, 2019-07-05 18:38:07 +0300, , mem page pipe use xrealloc_safe shrink code bit signed cyrill gorcunov gorcunov gmail.com reviewed mike rapoport rppt linux.ibm.com signed andrei vagin avagin gmail.com,,
736,cb7b013dd01b79fb31e6e855ee61b718906dd573,yrill Gorcunov <gorcunov@gmail.com>, 2019-07-05 18:38:06 +0300, , mem pmc print pid debug sake log massive convenient grepping signed cyrill gorcunov gorcunov gmail.com reviewed mike rapoport rppt linux.ibm.com signed andrei vagin avagin gmail.com,,
737,7eec03bd958d04e96a81069676205fc4c20096d2,yrill Gorcunov <gorcunov@gmail.com>, 2019-07-05 18:38:05 +0300, , mem pmc use pr_warn_once cache disabled need spam every pmc_init call signed cyrill gorcunov gorcunov gmail.com reviewed mike rapoport rppt linux.ibm.com signed andrei vagin avagin gmail.com,,
738,43ac528cb946ce8d9c07368c4f2de94684583227,yrill Gorcunov <gorcunov@gmail.com>, 2019-07-05 18:38:04 +0300, , mem page xfer add log prefix signed cyrill gorcunov gorcunov gmail.com reviewed mike rapoport rppt linux.ibm.com signed andrei vagin avagin gmail.com,,
739,8f9ae895d04b032c227f6adf0ac2d244b6b43e31,yrill Gorcunov <gorcunov@gmail.com>, 2019-07-05 18:38:03 +0300, , mem vma sanitize struct vm_area_list make name descriptive add comment use union nr_priv_pages rst_priv_size since former priv_size used different meaning number page checkpoint time size byte restore moment signed cyrill gorcunov gorcunov gmail.com reviewed mike rapoport rppt linux.ibm.com signed andrei vagin avagin gmail.com,,
740,0ee3d0764ddd5d1ad744586f770601e394a8cd14,yrill Gorcunov <gorcunov@gmail.com>, 2019-07-05 18:38:02 +0300, , mem vma drop never used vm_area_list macro signed cyrill gorcunov gorcunov gmail.com reviewed mike rapoport rppt linux.ibm.com signed andrei vagin avagin gmail.com,,
741,32e9f155254e820bed4f2e1582015e7a1a98b0b6,yrill Gorcunov <gorcunov@gmail.com>, 2019-07-05 18:38:01 +0300, , mem vma use appropriate signed cyrill gorcunov gorcunov gmail.com reviewed mike rapoport rppt linux.ibm.com signed andrei vagin avagin gmail.com,,
742,6e86b9eb01f6e7f0da04ff255d49bdefe19b7c04,yrill Gorcunov <gorcunov@gmail.com>, 2019-07-05 18:38:00 +0300, , mem vma use memset eliminate side effect particular setting nr_aios already missing signed cyrill gorcunov gorcunov gmail.com reviewed mike rapoport rppt linux.ibm.com signed andrei vagin avagin gmail.com,,
743,f3b8371c3095b3eb73476d9b8d8f98c9ad7bd078,yrill Gorcunov <gorcunov@gmail.com>, 2019-07-05 18:37:59 +0300, , mem page pipe use ssize_t splice tee result integer value short signed cyrill gorcunov gorcunov gmail.com reviewed mike rapoport rppt linux.ibm.com signed andrei vagin avagin gmail.com,,
744,692fdada56456406b72ba62b53f1e6922f640341,yrill Gorcunov <gorcunov@gmail.com>, 2019-07-05 18:37:58 +0300, , mem page pipe align member readability sake signed cyrill gorcunov gorcunov gmail.com reviewed mike rapoport rppt linux.ibm.com signed andrei vagin avagin gmail.com,,
745,088b086bfe82621d64b3c52414909f791d6033dd,yrill Gorcunov <gorcunov@gmail.com>, 2019-07-05 18:37:57 +0300, , mem page pipe drop redundant zero assignment allocate xzalloc need additional zero assignemtns signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
746,cb946164367d8ea6cfd9490ee3f8f66ed38b1a4d,yrill Gorcunov <gorcunov@gmail.com>, 2019-07-05 18:37:56 +0300, , mem page pipe eliminate redundant pipe_off setup case may use previous pipe pipe_off get set directly need redundat unconditional assignment signed cyrill gorcunov gorcunov gmail.com acked mike rapoport rppt linux.ibm.com signed andrei vagin avagin gmail.com,,
747,6606f246c21a8e1ff40b56087a360c1ff6fbe6bd,ichaÅ CÅapiÅski <mclapinski@google.com>, 2019-07-12 18:14:41 +0200, , add zdtm test child subreaper property basic check property migrated check property restored existing child check child subreaper doe affect reparenting signed pavel tikhomirov ptikhomirov virtuozzo.com signed michaå apiå ski mclapinski google.com reviewed pavel tikhomirov ptikhomirov virtuozzo.com,,
748,db2777e73c3cf44ddb75aa4ab9f6e5bb88705571,ichaÅ CÅapiÅski <mclapinski@google.com>, 2019-07-12 18:12:42 +0200, , add support migrating child_subreaper prctl checkpoint via parasite restore forking signed michaå apiå ski mclapinski google.com reviewed pavel tikhomirov ptikhomirov virtuozzo.com,,
749,b758e4b4762255236048d85ca90dcaf06f75c117,ebastiaan van Stijn <github@gone.nl>, 2019-07-17 14:30:01 +0200, , replace libprotobuf dev libprotobuf dev libprotobuf dev virtual package longer available debian buster provided libprotobuf dev available signed sebastiaan van stijn github gone.nl,,
750,a82275f3d4407f673b9a3d91032f2dea0629574b,ndrei Vagin <avagin@gmail.com>, 2019-07-17 00:42:24 -0700, , zdtm use proper page size host zdtm.py page size hardcoded 4096 ppc64le equal 64k test fail error like error bad page count stats real 208 signed andrei vagin avagin gmail.com,,
751,cb6768b62c5347fedef6a88363667280fbce2cff,ndrei Vagin <avagin@gmail.com>, 2019-07-15 01:04:42 -0700, , test parse inode unsigned long long 7f95a16df000 7f95a16e1000 00000000 2183152397 socket 2183152397 reported jenkins signed andrei vagin avagin gmail.com,,
752,3ca4c73e478ddb9b525a24164e523c8487658151,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2019-07-01 11:28:43 +0300, , zdtm make grep_errors also grep warning inspired discussion inotify fix http github.com checkpoint restore criu pull 728 issuecomment 506929427 one point view warning might important understand detect visible change environment ing process change expected add warn message output point warning expected spoil final log lot unnecessary detail add change previous patch silence noisy warning signed pavel tikhomirov ptikhomirov virtuozzo.com,,
753,facfebee22b4223f406d6cfe09fda862924a7b12,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2019-07-02 13:33:30 +0300, , inventory skip warning case parent directory want grep warning zdtm test travis final log see lot warn criu image.c 137 failed open parent directory parent image directory previous dump pid reuse problem pagemaps possible fine parent inventory image time used fix problem always hapens first iteration iterative dump warn also fix error message add part improve comment,,
754,72da499a27b3211dbedc1e313d41b5edaf000f6e,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2019-07-02 12:51:50 +0300, , dedup convert noisy warning debug improve message want grep warning zdtm test travis final log see lot 00.250989 warn criu pagemap.c missing 7f84103e3000 parent pagemap 00.250999 0x7f84103f5000 lookup intersecting pagemap entry memory region want dedup expected sometimes subrange pagemap entry warning make debug message change message save confused missing ... error message change abstract parent image message page image message dedup_one_iovec print image,,
755,04f8fac210da821ed837a7ffb539fe2882726c3d,drian Reber <areber@redhat.com>, 2019-05-15 07:37:58 +0000, , file reg fix coverity resource_leak criu 3.12 criu file reg.c 774 leaked_storage variable img going scope leak storage point criu 3.12 criu file reg.c 788 leaked_storage variable img going scope leak storage point criu 3.12 criu file reg.c 797 leaked_storage variable img going scope leak storage point signed adrian reber areber redhat.com,,
756,927382d6fcbbc9fd16876eab9bdf626f28151fc1,drian Reber <areber@redhat.com>, 2019-05-15 14:03:19 +0000, , util fix clang null pointer passed criu 3.12 criu util.c 879 warning null pointer passed argument nonnull parameter criu 3.12 criu util.c 1171 warning value stored ret never read signed adrian reber areber redhat.com,,
757,afdde285a15eecdee909749509c6ac0a95a66ea6,drian Reber <areber@redhat.com>, 2019-05-15 12:23:56 +0000, , seize fix coverity resource_leak criu 3.12 criu seize.c 648 leaked_storage variable thread going scope leak storage point signed adrian reber areber redhat.com,,
758,60bd698d7ccd37c794d33e874b8cbfb730fb020e,drian Reber <areber@redhat.com>, 2019-05-14 18:12:53 +0000, , inet fix coverity criu 3.12 criu inet.c 575 code executed condition pb_write_one img_from_set glob_imgset cr_fd_files pb_file true false code branch statement identical statement removed signed adrian reber areber redhat.com,,
759,13b29f8e16d117461f42a4d06aa20973b03e82cb,yrill Gorcunov <gorcunov@gmail.com>, 2019-06-25 15:16:26 +0300, , tty move tty layer shared init instead using tty_mutex value atomic context wrong since atomic better move tty_mutex allocation initializers live otherwise weird race effect might observed reported deng guangxing dengguangxing huawei.com signed cyrill gorcunov gorcunov gmail.com,,
760,b30b0dcb14be6b2fd38c1146b734e876a6e9a8e4,engguangxing <dengguangxing@huawei.com>, 2019-06-19 09:13:39 +0000,3, fix segmentation fault caused uninitialized mutex segmentation fault raised trying restore process tty coredump file say caused uninitialized tty_mutex gdb 0x0 include common asm atomic.h mutex_lock 0x0 include common lock.h 151 index flag 0x4dce50 open_pty arg 0x11 path 0x5562e0 ptmx criu tty.c 603 dfd index flag criu tty.c 2384 since init_tty_mutex reentrantable calling mutex_lock signed deng guangxing dengguangxing huawei.com reviewed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
761,c797dae453c74852f16fe9e1f9024f4ed0c08235,arshavardhan Unnibhavi <hvubfoss@gmail.com>, 2019-03-08 15:43:46 +0530,349, documentation create man page libcompel resolve 349 signed harshavardhan unnibhavi hvubfoss gmail.com,,
762,9bd4aee1b464524fb7924f49aeeeab8e993cba1e,avel Emelyanov <xemul@virtuozzo.com>, 2019-06-28 20:16:38 +0300, , flake.cfg update yapf formatting signed pavel emelyanov xemul virtuozzo.com,,
763,38d86fa0a2c5197bdaac5ff8c178cb5535d1e297,avel Emelyanov <xemul@virtuozzo.com>, 2019-06-27 14:18:38 +0300, , lint print flake8 version checking signed pavel emelyanov xemul virtuozzo.com,,
764,73d3ddef3400336e8b36b24ad91c005acddfde87,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-05-08 21:45:39 +0100, , travis enable testing signed radostin stoyanov rstoyanov1 gmail.com,,
765,b12d4f275850f4f9d65a961028cb50e355985fcf,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-05-08 21:09:33 +0100, , zdtm add option signed radostin stoyanov rstoyanov1 gmail.com,,
766,43842046984701db42286ebcd96f0270a063044f,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-04-04 00:44:22 +0100, , rpc add support option signed radostin stoyanov rstoyanov1 gmail.com,,
767,d4b4a6e6c3eb507b600dabcc9910103f2ab11d29,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-05-06 14:12:36 +0100, , add verify option default criu verify certificate server providing value specified address hostname part verification process value compared common name included certificate server match handshake terminated criu exit error although important feature used mitigate mitm attack user might need disable hostname verification particular use case testing purpose instance option needed common name included certificate corresponds server domain name address used establish connection signed radostin stoyanov rstoyanov1 gmail.com,,
768,76a41209b0942fcc76508f1bdee7e7119c79f625,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-03-31 12:05:22 +0100, , page xfer add support x509 certificate commit add transport layer security support remote page server connection following command line option introduced commit cacert file trust certificate signed cacrl file certificate revocation list cert file certificate key file private key use secure remote connection default pki location certificate etc pki cacert.pem revocation list etc pki cacrl.pem client server certificate etc pki criu cert.pem client server private key etc pki criu private key.pem file cacert.pem cacrl.pem optional present explicitly specified command line option criu use system trusted verify remote peer identity implies certificate specified using cacert used verification certificate cacert.pem present certificate revocation list cacrl.pem ignored client server side require private key certificate option specified handshake key exchange performed immediately remote tcp connection accepted x.509 certificate generated follows  generate key certificate echo temp certtool generate privkey cakey.pem certtool generate self signed template temp load privkey cakey.pem outfile cacert.pem generate server key certificate echo hostname nencryption_key nsigning_key temp certtool generate privkey key.pem certtool generate certificate template temp load privkey key.pem load certificate cacert.pem load privkey cakey.pem outfile cert.pem temp mkdir etc pki mkdir etc pki criu private cacert.pem etc pki cert.pem etc pki criu key.pem etc pki criu private  usage example page server src criu page server path port port dst criu dump page server address src port port pid path lazy migration src criu dump lazy page port port pid path dst criu lazy page page server address src port port path dst criu restore path lazy page signed radostin stoyanov rstoyanov1 gmail.com,,
769,b7230b6132b8eefb46da61ac158a99612d15dc10,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-03-31 11:43:16 +0100, , make config link gnutls two notable open source library provide implementation openssl gnutls license openssl incompatible criu license threfore gnutls recommended choice gnutls offer api access secure communication protocol protocol provide privacy insecure line designed prevent eavesdropping tampering message forgery signed radostin stoyanov rstoyanov1 gmail.com,,
770,ffec56803412afbb3f13d16d57101742e50984c6,yrill Gorcunov <gorcunov@gmail.com>, 2019-06-04 10:11:28 +0300,698, fsnotify precious error handling make sure alloc_openable failed memory error lookup via irmap irmap lookup provide copy path instead reference irmap entry http github.com checkpoint restore criu issue 698 signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin gmail.com,,
771,6a2cd621cb4195dbeea7a694ffc4beb785892942,chio Kondo <udzura@udzura.jp>, 2019-06-07 17:11:02 +0900, , lib install uninstall libcriu.a signed uchio kondo udzura udzura.jp,,
772,a29b348bae98d1f4154782c790e875d789cb3982,chio Kondo <udzura@udzura.jp>, 2019-05-29 13:48:17 +0900, , add criu_a cleanup target patch comment radostin stoyanov rst0git signed uchio kondo udzura udzura.jp,,
773,6adf006b87fbc7f1f714af11452242f915b39890,chio Kondo <udzura@udzura.jp>, 2019-03-08 15:08:32 +0900, , lib add lib target signed uchio kondo udzura udzura.jp,,
774,75adf0e6087b8cbba850013db11ecf296a90f3cf,chio Kondo <udzura@udzura.jp>, 2019-03-01 18:48:06 +0900, , lib support build static archive signed uchio kondo udzura udzura.jp,,
775,bd7920717fed499761b5c7ddec08f326c613e0d4,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-05-18 09:28:36 +0100, , zdtm fix memory resource leak error found cppcheck 1.84 signed radostin stoyanov rstoyanov1 gmail.com,,
776,de53191179ad3413e4ce3d18ed915e4ecdc39ed7,mitry Safonov <dima@arista.com>, 2019-05-29 17:15:15 +0100,446, criu vdso purge config_vdso vigorously remove config ifdef config option never excuse exist x86 grand ppc64 arm64 patch support mremap vdso long ago accepted regardless possible disable config_vdso platform kernel s390 patch mainstreamed long ago possible disable kernel config arm32 possible disable kernel config kernel return userspace historically sigpage vdso platform criu disallows config_vdso kernel meaningles kernel patch sigpage mremap gone v4.13 commit 280e87e98c09 arm 8683 arm32 support mremap sigpage vdso removing config long lived item todo list bligted arm32 user made change vdso complex needed iffdeferry get rid fire fix 446 signed dmitry safonov dima arista.com,,
777,e73df268af04e84ecf65c830b49bb687c1a54c7e,mitry Safonov <dima@arista.com>, 2019-05-29 17:15:14 +0100, , pie build add cflags_pie cflags little difference ccflags cflags except local global visibility nmk add cflags nmk asflags assembles using without ccflags possible way would adding asflags cflags_pie convinced let update cflags time signed dmitry safonov dima arista.com,,
778,a96f0f1877a7b0c2fbb975043c96c32584d8f501,mitry Safonov <dima@arista.com>, 2019-05-29 17:15:13 +0100, , util vdso check chain stn_undef rather chain chain stn_undef seems like arm32 vdso symbol chance hit feature fix parsing symbol v5.1 arm kernel signed dmitry safonov dima arista.com,,
779,ee6412fa20e683868cbc33ba4ff6526bf5523e82,mitry Safonov <dima@arista.com>, 2019-05-29 17:15:12 +0100,512, x86 vdso insert trampoline vsyscall patch util vdso check chain stn_undef fixed issue discovering present symbol vdso good proper fix result started patched result broke zdtm trampoline test ia32 let omit patching vsyscall 512 issue fixed might actually refrain patching long time access vvar little sense patching signed dmitry safonov dima arista.com,,
780,b2efa720ce91c7f032869c6fcfc6aebb8ea95447,mitry Safonov <dima@arista.com>, 2019-05-29 17:15:11 +0100, , vdso verbose blobs_matches 00.251007 pie vdso runtime vdso mismatch dumpee generate proxy want know signed dmitry safonov dima arista.com,,
781,670648c931d6851e2483576fa25158001b4b4ba0,mitry Safonov <dima@arista.com>, 2019-05-29 17:15:10 +0100, , arm pie provide __clear_cache patching code need flush cpu cache done link libgcc provide helper wrap arm specific syscall fix link criu pie restorer.built in.o criu arch arm vdso pie.o function root criu criu arch arm vdso pie.c undefined reference __clear_cache signed dmitry safonov dima arista.com,,
782,934a050788bd9b508ae22441f434a93d23e8ac10,mitry Safonov <0x7f454c46@gmail.com>, 2019-05-29 17:15:09 +0100, , arm provide aeabi helper arm format building pie arm format rather thumb copy helper libgcc provide proper define link blob also substitute tab space pie makefile tab recipe fix link criu pie parasite.built in.o criu pie pie.lib.a util vdso.o function elf_hash criu criu pie util vdso.c undefined reference criu script nmk script build.mk 209 recipe target criu pie parasite.built in.o failed signed dmitry safonov 0x7f454c46 gmail.com,,
783,a856c48e7756ba4f6f2cf5a2e14efadc413e3368,mitry Safonov <0x7f454c46@gmail.com>, 2019-05-29 17:15:08 +0100, , arm build pie util vdso config_vdso_32 signed dmitry safonov 0x7f454c46 gmail.com,,
784,d6ce398eb42319ee546a9064e9ce346c59cfa294,mitry Safonov <dima@arista.com>, 2019-05-29 17:15:07 +0100, , vdso arm32 add vdso trampoline support signed dmitry safonov dima arista.com,,
785,d2b4eddf52e3675524b9dbb93d5573dfb724c27a,mitry Safonov <dima@arista.com>, 2019-05-29 17:15:06 +0100, , parasite vdso add ugly cast arm32 criu pie parasite vdso.c function remap_rt_vdso criu pie parasite vdso.c 144 error cast pointer integer different size werror int pointer cast sys_munmap void vma_vdso start vma_entry_len vma_vdso  criu pie parasite vdso.c 154 error cast pointer integer different size werror int pointer cast sys_munmap void vma_vvar start vma_entry_len vma_vvar  cc1 warning treated error signed dmitry safonov dima arista.com,,
786,8824579c8ae31aae0dfa1a02619566c3acedade8,mitry Safonov <dima@arista.com>, 2019-05-29 17:15:05 +0100, , vdso arm add vdso symbol kernel signed dmitry safonov dima arista.com,,
787,37d3781576dce63fc8ede7de7d72d2f1c12d654a,mitry Safonov <dima@arista.com>, 2019-05-29 17:15:04 +0100, , check add check mremap special mapping restore vma subject aslr moved address checkpoint previously port non x86 architecture problem vdso mremap platform kernel need landing return userspace case usually vdso provides landing finish restoring register ia32 arm64 arm32 sigtrap sa_restorer proceed signal processing kernel need track position landing modern kernel platform support already done however older kernel patch need backported provide check mremap special vmas criu suitable kernel work new platform kernel track position landing signed dmitry safonov dima arista.com,,
788,cd58de7a2b8abec9efee21bf30f6e0ab53131a52,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-05-29 11:58:10 +0100, , pb2dict resolve python compatibility issue python byte decode method string encode method module quopri base64 python standard library perform quoted printable transport encoding decoding python python http docs.python.org howto pyporting.html text versus binary data http docs.python.org library quopri.html http docs.python.org library quopri.html signed radostin stoyanov rstoyanov1 gmail.com,,
789,831ae18dacd249bd683785ab6c94fb955c3e16ad,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-05-28 08:24:58 +0100,708, pb2dict fix is_string check python __main__ module __builtins__ built module builtins module __builtins__ alias dictionary builtins module thus hasattr __builtins__ basestring would work __main__ module since pb2dict part pycriu intended called module __main__ assume __builtins__ would always dictionary module python basestring superclass str unicode however assignment statement creates variable basestring local scope function is_string python cause failure order mitigate issue local variable name changed string_types fix 708 http docs.python.org reference builtins restricted execution http docs.python.org library functions.html basestring signed radostin stoyanov rstoyanov1 gmail.com,,
790,33bc00a1589c35ce03a749811ab2fe6f9cf86766,avel Emelianov <xemul@virtuozzo.com>, 2019-05-28 08:47:51 +0000, , zdtm check stats file presence reading case stats dump file missing crash whole zdtm.py case http ci.openvz.org job criu job criu live migration job criu dev 2362 console signed pavel emelyanov xemul virtuozzo.com,,
791,c399235244cb2a2b7b2c11cf44f785a3be7ed822,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-05-26 19:34:15 +0100, , aarch64 remove stack pointer clobber list since gcc version 9.1 added restriction clobber list inline assembly contain stack pointer register http gcc.gnu.org git gcc.git commit 9d1cdb749a1 commit 901f5d4 fixed build failure related gcc restriction patch resolved build error occurs aarch64 signed radostin stoyanov rstoyanov1 gmail.com,,
792,31c3f3bc1b40386e626b9d43f2bf7e584a8edf5e,ndrei Vagin <avagin@gmail.com>, 2019-05-26 20:53:57 -0700, , test s390 add new patch xtables library signed andrei vagin avagin gmail.com,,
793,7338a0e74ceca1fb111a27fd327b3e835a2e726f,ndrei Vagin <avagin@gmail.com>, 2019-05-21 00:13:27 -0700, , util use f_dupfd want overwrite existing descriptor right use fcntl f_getfd check whether target descriptor used call dup2 actually one system call cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin gmail.com reviewed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
794,77d88920fb8f59cd688bd659507ea2199f69d3c1,avel Emelianov <xemul@virtuozzo.com>, 2019-05-23 08:59:26 +0000, , stats make dstats shmem dumping shmem segment causing stats page written counter mismatch real page size due ipcns dumping happens another process relevant shmem dumping counter remain address space signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin gmail.com,,
795,b336fa2e3237f9f93a09aea546fb1164b7c151a1,avel Emelianov <xemul@virtuozzo.com>, 2019-05-23 08:59:05 +0000, , zdtm check page stats dump dump command verify amount byte counted stats dump match real size page .img file signed pavel emelyanov xemul virtuozzo.com acked cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
796,72ce634f43f6d241faf064eaccae2be0cb51e7de,avel Emelianov <xemul@virtuozzo.com>, 2019-05-23 08:58:35 +0000, , shmem save page stats shmem page written set image regular page stats collected fix keep count separate info signed pavel emelyanov xemul virtuozzo.com acked cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
797,5156f2dc0d126904748bd86fdf8f342a24959aaa,avel Emelianov <xemul@virtuozzo.com>, 2019-05-23 08:58:04 +0000, , mem update stats overflow page pipe since commit b5dff62e skipped updating dump stats page overflowed page pipe thus got flushed chunk mode signed pavel emelyanov xemul virtuozzo.com acked cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
798,bf62dbbe085efadfa08b0562603a7a8d0fce3a87,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-05-22 15:50:30 +0100, , make use asciidoctor default final release asciidoc sep 2017 development continued asciidoctor commit 0493724 documentation allow use asciidoctor formatting man page added support tool introducing use_asciidoctor however using asciidoctor default might better option change criu use asciidoctor installed otherwise fallback asciidoc signed radostin stoyanov rstoyanov1 gmail.com,,
799,8accfe6cc9d65cdf2203fc58ac3075c16b729e23,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-05-18 16:26:53 +0100, , python drop six dependency python six module used is_string function alternative solution use basestring additional statement python compatibility change avoids dependency six module however module required junit_xml listed dependency centos package python2 junit_xml signed radostin stoyanov rstoyanov1 gmail.com,,
800,da652c8b375309f3f609b0225e818443296861e7,drian Reber <areber@redhat.com>, 2019-05-15 12:36:49 +0000, , unix fix coverity null_returns criu 3.12 criu unix.c 1225 dereference dereferencing known null signed adrian reber areber redhat.com,,
801,7765a6c3fcfb5f707c4518ad9fdc59eeb62a99aa,drian Reber <areber@redhat.com>, 2019-05-15 07:59:23 +0000, , image fix coverity resource_leak criu 3.12 criu image.c 103 leaked_storage variable img going scope leak storage point signed adrian reber areber redhat.com,,
802,5a29e253f6c6eba8a45f3b31a2a6f57ff0f4fc71,drian Reber <areber@redhat.com>, 2019-05-14 18:22:29 +0000, , util fix coverity forward_null criu 3.12 criu util.c 505 var_deref_model passing null pointer dir dirfd dereferences dereference assumed basis nonnull parameter attribute signed adrian reber areber redhat.com,,
803,88d8979b5dd7e8dd85b3b1f8cab4bf6e8960efac,drian Reber <areber@redhat.com>, 2019-05-15 12:40:50 +0000, , unix fix coverity resource_leak criu 3.12 criu unix.c 1893 leaked_handle handle variable going scope leak handle signed adrian reber areber redhat.com,,
804,2f74e55a18164d9ab309dd4979853effb4776a72,drian Reber <areber@redhat.com>, 2019-05-15 12:38:32 +0000, , unix fix clang value never read criu 3.12 criu unix.c 1545 warning value stored ret never read signed adrian reber areber redhat.com,,
805,9406f1be4e97e3da3b3d1b87d738cd7490a3b7d1,drian Reber <areber@redhat.com>, 2019-05-15 12:33:40 +0000, , queue fix clang potential memory leak criu 3.12 criu queue.c 272 warning potential leak memory pointed pe.scm signed adrian reber areber redhat.com,,
806,6f44f78310b7dc070301be4c5871f98dd25f17b2,drian Reber <areber@redhat.com>, 2019-05-15 12:28:45 +0000, , inet fix clang potential memory leak criu 3.12 criu inet.c 581 warning potential leak memory pointed ie.ifname signed adrian reber areber redhat.com,,
807,b87b02729accb25f0f9d14c0f1413358c268866d,drian Reber <areber@redhat.com>, 2019-05-14 16:56:39 +0000, , inet fix coverity resource_leak criu 3.12 criu inet.c 822 leaked_handle handle variable going scope leak handle signed adrian reber areber redhat.com,,
808,0df6ddba6974af926a4db171bf8876e762a0d355,drian Reber <areber@redhat.com>, 2019-05-15 12:17:35 +0000, , proc_parse fix coverity resource_leak criu 3.12 criu proc_parse.c 2280 leaked_storage variable dir going scope leak storage point signed adrian reber areber redhat.com signed andrei vagin avagin gmail.com,,
809,5b358ebdc3b792c2d6f5c44b94d86369e38fc16c,drian Reber <areber@redhat.com>, 2019-05-15 12:02:40 +0000, , pie restorer fix clang value never read criu 3.12 criu pie restorer.c 1514 warning value stored ret never read signed adrian reber areber redhat.com,,
810,bf2d03b7856afc003cf1b269bf84dcbe4349e387,drian Reber <areber@redhat.com>, 2019-05-15 11:48:14 +0000, , page xfer fix clang value never read criu 3.12 criu page xfer.c 988 warning value stored ret never read signed adrian reber areber redhat.com,,
811,82d6ef6d8ad1c3fdf4a8e09e6412dda4c95f1b68,drian Reber <areber@redhat.com>, 2019-05-15 11:59:05 +0000, , pagemap fix coverity forward_null criu 3.12 criu pagemap.c 694 var_deref_model passing free_pagemaps dereferences null pmes signed adrian reber areber redhat.com,,
812,08a283d29ea711230fcc83183538335bee9f6c64,drian Reber <areber@redhat.com>, 2019-05-15 11:57:05 +0000, , pagemap fix clang free released memory criu 3.12 criu pagemap.c 460 warning attempt free released memory signed adrian reber areber redhat.com,,
813,75edc02f66d5822584a0fffac2be0b3c038cf46f,drian Reber <areber@redhat.com>, 2019-05-15 09:39:55 +0000, , mem fix coverity resource_leak criu 3.12 criu mem.c 597 warning value stored ret never read criu 3.12 criu mem.c 632 leaked_storage variable img going scope leak storage point signed adrian reber areber redhat.com,,
814,beecbf096842fd0ce8c4d927ee71089ab2a8a1db,drian Reber <areber@redhat.com>, 2019-05-15 05:49:30 +0000, , lsm fix clang use memory freed criu 3.12 criu lsm.c 257 warning use memory freed signed adrian reber areber redhat.com,,
815,fe1c72a098ca7e44b9e3720609c3415d78f9faac,drian Reber <areber@redhat.com>, 2019-05-15 14:24:37 +0000, , lib fix coverity deadcode criu 3.12 lib criu.c 869 dead_error_line execution reach statement free ptr criu 3.12 lib criu.c 906 dead_error_line execution reach statement free ptr signed adrian reber areber redhat.com,,
816,27dd87e99a3324ff281d182ec69435603253a9bb,drian Reber <areber@redhat.com>, 2019-05-14 16:55:20 +0000, , libcriu fix coverity resource_leak criu 3.12 lib criu.c 255 leaked_storage variable rpc going scope leak storage point signed adrian reber areber redhat.com,,
817,688f02a1390b62d4b41f651b5d3ee26cecf0e721,drian Reber <areber@redhat.com>, 2019-05-14 16:51:50 +0000, , log fix coverity overrun fix coverity buffer overflow warning criu 3.12 criu log.c 344 overrun local overrunning array 1024 byte byte offset 1031 dereferencing pointer log_size note source code implementation function overridden builtin model signed adrian reber areber redhat.com,,
818,288a4a953a53492586e86880ee1347d647411a92,drian Reber <areber@redhat.com>, 2019-05-15 08:06:55 +0000, , image fix clang dereference null pointer criu 3.12 criu include image.h 129 warning dereference null pointer signed adrian reber areber redhat.com,,
819,920c4a6afcee6d660b002ba8370da3400f325eb9,drian Reber <areber@redhat.com>, 2019-05-14 18:01:31 +0000, , file reg fix coverity null_returns criu 3.12 criu file reg.c 1574 dereference dereferencing rmi known null criu 3.12 criu file reg.c 1582 dereference dereferencing tmi known null signed adrian reber areber redhat.com,,
820,57d4a78aa392dc12b1569f7c85541f41515a094c,drian Reber <areber@redhat.com>, 2019-05-15 07:42:35 +0000, , file fix coverity resource_leak criu 3.12 criu files.c 1250 leaked_storage variable dir going scope leak storage point signed adrian reber areber redhat.com,,
821,7d152adf65881d9d6d273fe738be773d05163c2f,drian Reber <areber@redhat.com>, 2019-05-15 07:23:27 +0000, , service fix clang dereference null pointer criu 3.12 criu service.c 933 warning access field keep_open result dereference null pointer loaded variable msg signed adrian reber areber redhat.com,,
822,defbd43351bf291c72dee48e62b43e3d7eed15a9,drian Reber <areber@redhat.com>, 2019-05-14 18:11:26 +0000, , service fix coverity string_overflow criu 3.12 criu service.c 1305 fixed_size_dest might overrun 108 character fixed size string copying opts.addr without checking length signed adrian reber areber redhat.com,,
823,c189a9bbf2e8b7a7c05cab747c728cf6e286997e,drian Reber <areber@redhat.com>, 2019-05-15 06:09:31 +0000, , compel fix clang value stored never read criu 3.12 compel src lib infect.c 276 warning value stored ret never read signed adrian reber areber redhat.com,,
824,8502bc2010637c74310bec135605f53a24972ab4,drian Reber <areber@redhat.com>, 2019-05-15 06:55:26 +0000, , cgroup fix clang free released memory criu 3.12 criu cgroup.c 927 warning attempt free released memory signed adrian reber areber redhat.com,,
825,ac495fbd3f761daa65abbe1c4a49baae0acb6c2c,drian Reber <areber@redhat.com>, 2019-05-15 06:11:23 +0000, , autofs fix coverity resource_leak criu 3.12 criu autofs.c 114 leaked_storage variable path going scope leak storage point criu 3.12 criu autofs.c 254 leaked_storage variable opts going scope leak storage point criu 3.12 criu autofs.c 719 leaked_storage variable path going scope leak storage point criu 3.12 criu autofs.c 980 leaked_storage variable img going scope leak storage point signed adrian reber areber redhat.com,,
826,11b3825ca3d9bf5bd2593bb2ce9ae282d72734f9,hang Ning <ning.a.zhang@intel.com>, 2019-04-16 15:45:05 +0800, , x86 crtools error ymm missing intel apollo lake soc cpuinfo fpu feature cpu x86_family x86_vendor_id genuineintel x86_model_id intel celeron cpu j3455 1.50ghz cpu fpu xfeatures_mask 0x11 xsave_size 1088 xsave_size_max 1088 xsaves_size 704 cpu fpu x87 floating point register xstate_offsets xstate_sizes 160 160 cpu avx register ymm feature criu run cpu report dump error dumping fpu register 4888 error criu arch x86 crtools.c 362 x86 corruption xfeature_ymm area expected obtained error criu dump.c 1278 infect pid 4888 parasite x86 crtools.c still valid ymm xsave frame thus fail dump bypass unsupported feature make criu run kind cpu chen hu1.chen intel.com signed zhang ning ning.a.zhang intel.com acked cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
827,13c275ad26393d9d823a4654368928b1fc417a0b,mitry Safonov <dima@arista.com>, 2019-05-17 23:53:09 +0100, , build criu pie move trampoline restorer obj need patching vdso neither parasite criu move restorer object note need filling symtables everywhere kdat parasite restorer change move util vdso.o file ask proper rename directly related change yet todo reviewed cyrill gorcunov gorcunov gmail.com signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
828,97f8c0f359a5f9a7a9e3f2165e887531e2d7b7b9,mitry Safonov <dima@arista.com>, 2019-05-17 23:53:08 +0100, , criu ia32 consolidate compat vdso move arch x86 cleanup long pending xxx reviewed cyrill gorcunov gorcunov gmail.com signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
829,60d79020428269fec714fcfb97dafcc9ec77600b,mitry Safonov <dima@arista.com>, 2019-05-17 23:53:07 +0100, , make move cr_noglibc cflags_pie lesser duplication cleaner makefiles reviewed cyrill gorcunov gorcunov gmail.com signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
830,3dc4034d00b52a0cdab9d730f1190d81c9fc1130,mitry Safonov <dima@arista.com>, 2019-05-17 23:53:06 +0100, , compel use cflags_pie libcompel.so needed pie library come earlier commit 61e6c01d0964 see point regardles bit afraid break s390 hopefully testing cover platform next one make move cr_noglibc cflags_pie reverted dropped criu dev turn breaking something michael holzheu holzheu reviewed cyrill gorcunov gorcunov gmail.com signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
831,a989c6add06120285cb9edc5020ea5ed27f1a0ac,mitry Safonov <dima@arista.com>, 2019-05-17 23:53:05 +0100, , build use cflags compel pie.lib.a pie.lib.a linked also pie need use missing flag nostdlib fomit frame pointer reviewed cyrill gorcunov gorcunov gmail.com signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
832,e689144cb0b2ba39030ac2a880eac5a05a7c1b03,mitry Safonov <dima@arista.com>, 2019-05-17 23:53:04 +0100, , remove bogus ccflags even path source reviewed cyrill gorcunov gorcunov gmail.com signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
833,9f081e576b965ee593a4ea0c568364937b502d96,mitry Safonov <dima@arista.com>, 2019-05-17 23:53:03 +0100, , make export ccflags far know difference cflags ccflags kernel cflags global exported ccflags per makefile exporting ccflags omitted remove added cflags straight away exported sub make one need include twice also remove sub makefiles iquote includes already added criu makefile reviewed cyrill gorcunov gorcunov gmail.com signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
834,9df47bb26f95214383554640a1f7ec65e7841cbc,mitry Safonov <dima@arista.com>, 2019-05-17 23:53:02 +0100, , build move __assembly__ define top makefile __assembly__ used guard related code header asm compatible defines actually want every file assembled d__assembly__ burst asm file move __assembly__ local asflags top makefile aflags reviewed cyrill gorcunov gorcunov gmail.com signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
835,1b66b66b56517a1e522530efe159c7322bafd921,mitry Safonov <dima@arista.com>, 2019-05-17 23:53:01 +0100, , arm build move marm cflag cflags_pie want see cflags redefined per architecture pie makefiles couple place clean expected per arch ifdeffery object file also add big comment marm mthumb reviewed cyrill gorcunov gorcunov gmail.com signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
836,866bed0ed2ecfa1dd87367c3b4e0f6bb45a587f3,mitry Safonov <dima@arista.com>, 2019-05-17 23:53:00 +0100, , build pie add comment build file drop stale comment clearify anything reviewed cyrill gorcunov gorcunov gmail.com signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
837,1bc68dd873cbc0bbeba0e365a3ababe120d2ef2e,ike Rapoport <rppt@linux.ibm.com>, 2019-05-14 11:34:22 +0300, , lazy page fix stack detection commit 5432a964dcc7 lazy page mark current stack page lazy tried make page surrounding stack pointer non lazy unfortunately used wrong mask detection fix signed mike rapoport rppt linux.ibm.com signed andrei vagin avagin gmail.com,,
838,530c03a202763e7a22f8c821ed5608731c2b28da,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-04-05 14:06:44 +0100, , crtools print err message check_options check_options exit error return value logging yet initialised therefore error message printed since affect command line usage check_options report error flush early log message stderr signed radostin stoyanov rstoyanov1 gmail.com,,
839,635a66d8ae347e16b0f52baa7ea852e9648f6452,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-05-01 19:41:34 +0100, , config exit error socket std daemon mode standard file descriptor closed socket one signed radostin stoyanov rstoyanov1 gmail.com,,
840,fad89f892dc7d0cf9c2989587627be5d462d446f,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-04-21 07:48:41 +0100, , util cr_daemon drop keep_fd argument running lazy page daemon mode file descriptor reused fork protect opened unix socket however happens correspond opened image directory thus file descriptor overwritten criu fails following error criu lazy page path page server address addr port port ... 06.835596 error criu image.c 470 unable open pagemap 1.img directory 06.835855 error criu uffd.c 773 uffd failed open pagemap need keep_fd really necessary file descriptor would like protect assuming standard file descriptor stdin stdout stderr open hack unnecessary signed radostin stoyanov rstoyanov1 gmail.com,,
841,5af2bd905fad41f0a18c4b6e675429c5e0b741c7,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-04-25 12:13:19 +0100, , zdtm add udp broadcast test signed radostin stoyanov rstoyanov1 gmail.com,,
842,9483b12935dfe3160cc30cf0d1b402c6ceb70711,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-04-16 17:16:46 +0100,673, inet restore so_broadcast option inet socket may broadcasting capability enabled so_broadcast option used enable feature boolean flag option defined fetched set int data type checkpoint criu detect state flag restore set appropriately fix 673 reported dubukuangye signed radostin stoyanov rstoyanov1 gmail.com,,
843,8e59ed48bd31e52831b77a339a900ad77cce09e0,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-05-04 19:53:55 +0100, , zdtm simplify string boolean conversion built bool function return boolean value converting input using standard truth testing procedure http docs.python.org library functions.html bool signed radostin stoyanov rstoyanov1 gmail.com,,
844,66428d2845250a15d633bc6d63966b8001bb4dcf,uoqd <dubukuangye@sina.com>, 2019-04-22 14:40:11 +0800,679, coredump correct parsing reg_files files.img fix 679,,
845,9c9d1516932a4905d6aa9979ca3233b45c7e54b4,arshavardhan Unnibhavi <hvubfoss@gmail.com>, 2019-04-07 14:29:53 +0530,331, test exhaustive replace map list comprehension fix 331 http github.com checkpoint restore criu issue 331 signed harshavardhan unnibhavi hvubfoss gmail.com signed andrei vagin avagin gmail.com,,
846,4eb2df5ae6f525e55506a92b679e293e36d7f993,mitry Safonov <dima@arista.com>, 2019-05-01 14:59:44 +0100, , cgroup add ignore mode manage cgroups since commit 6c572bee8f10 cgroup set soft mode default become impossible set ignore mode provide user option  cyrill gorcunov gorcunov openvz.org signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
847,8c5b25cbf5216d1253f8d19e7279b75b94e3ec2e,mitry Safonov <dima@arista.com>, 2019-05-02 02:34:45 +0100, , zdtm thread bomb limit stack size thread bomb ia32 thread bomb test failed compel refused seize test trying mmap remote process getting enomem turn true remote process thread bomb filled 8mb mapping created pthread_create default stack size 1024 8mb bit much place 4gb fix test bit platform using much smaller stack also check return value pthread_create signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
848,0e22e245e5429a906efa72e0555600b6488c68dc,mitry Safonov <dima@arista.com>, 2019-05-02 02:34:44 +0100, , x86 compel infect verbose remote mmap failure error case print missing signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
849,a0662df6f9e74da75e6f8f5c60160d37d02db117,mitry Safonov <dima@arista.com>, 2019-05-02 02:34:43 +0100, , zdtm vdso ia32 ignore vsyscall page appear major bummer side also becomes important seems distribution switch security reason might worth fixing end signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
850,3b579373c1463d4cddd458cb6171917846815528,mitry Safonov <dima@arista.com>, 2019-05-02 02:34:42 +0100, , zdtm vdso ia32 use uint64_t proc self map add comment state thing might obvious signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
851,d04eba411f0740d93649371605ab0ab9e9abdfb3,ikard Falkeborn <rikard.falkeborn@gmail.com>, 2019-04-28 20:22:55 +0200, , test bers fix sizeof memset sizeof size pointer make sure entire array set using number element time size element signed rikard falkeborn gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin gmail.com,,
852,e95b5c67ae74759c9d08dc5465b032a7e391c3b1,ikard Falkeborn <rikard.falkeborn@gmail.com>, 2019-04-28 20:22:54 +0200, , test add missing va_end signed rikard falkeborn gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin gmail.com,,
853,8bc0ad91213d43dfcf6698af23ad13faf63e5f40,ikard Falkeborn <rikard.falkeborn@gmail.com>, 2019-04-28 20:22:53 +0200, , file reg remove redundant inner remove redundant statement since condition already checked outer statement signed rikard falkeborn gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin gmail.com,,
854,bdf8972b6151ff31740f3986a0c92b4abd674ce0,ikard Falkeborn <rikard.falkeborn@gmail.com>, 2019-04-28 20:22:52 +0200, , test remove unused variable signed rikard falkeborn gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin gmail.com,,
855,66846b26a070928a9ebd1a7b6816ccf1912b1605,ikard Falkeborn <rikard.falkeborn@gmail.com>, 2019-04-28 20:22:51 +0200, , test zdtm move assignment return value check read fails use return value index move use error check avoid signed rikard falkeborn gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin gmail.com,,
856,468f818f89b00c557cfca2fcc8e93b2d0128c339,ikard Falkeborn <rikard.falkeborn@gmail.com>, 2019-04-28 20:22:50 +0200, , compel s390 fix return value error path function return type bool returning non zero value interpreted returning true error path want return false indicate failure change false fix signed rikard falkeborn gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin gmail.com,,
857,1904a98550427e5c8d545e50ce3cd3f1d3369835,ikard Falkeborn <rikard.falkeborn@gmail.com>, 2019-04-28 20:22:49 +0200, , compel s390 fix memset sizeof sizeof sizeof size size_t instead use size array ensure entire array zeroed signed rikard falkeborn gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin gmail.com,,
858,4a090153c7f61d705c9251cfe1fe24f24454e069,hang Ning <ning.a.zhang@intel.com>, 2019-04-18 10:13:58 +0800, , criu clone stack size small android stack clone small child process get wild pointer segfault error criu restore.c 1418 6082 killed signal segmentation fault error criu restore.c 2303 restoring failed enlarge stack size 1024 segfault chen hu1.chen intel.com signed zhang ning ning.a.zhang intel.com signed andrei vagin avagin gmail.com,,
859,bd4a52e82e4fd9c60857970a23f038fa16b94fbc,yrill Gorcunov <gorcunov@gmail.com>, 2019-04-18 12:57:16 +0300, , test socket_udplite test shudowned socket signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
860,b61b260412ce2722924589f63a6cccf281ceb0df,yrill Gorcunov <gorcunov@gmail.com>, 2019-04-18 12:57:15 +0300, , inet udp fail calling shutdown disconnected socket socket connected shutted may get disconnected leaving shutdown mode set inside pull image restore fail calling shutdown kernel hack inform listener even closed socket userspace perspective reuse socket one connect back safe signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
861,94541a81c007475a139f3a1990cc36dda3d01773,ygonsoc <hygonsoc@gmail.com>, 2019-04-15 01:35:04 +0800, , arch add hygon cpu vendor hygongenuine checking compel_cpuid enable hygon dhyana reuse amd cpu support code signed hygonsoc hygonsoc gmail.com signed andrei vagin avagin gmail.com,,
862,4662315fc4fd74228b551c3d5ddb42c2975f5749,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-04-12 21:01:36 +0100, , convert space tab place space used instead tab indentation patch convert space tab consistency rest code base signed radostin stoyanov rstoyanov1 gmail.com,,
863,6d66dd5d89f48026fd8a7149bfbb83669e7ff508,mitry Safonov <dima@arista.com>, 2019-05-02 02:34:41 +0100,745, zdtm ia32 fcntl wrapper old glibc bit nasty doe job run ofd test glibc v2.28 way would update glibc travis ia32 test thought someone might want run test outside travis fix 745 signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
864,2a3e34155c734995edd6806f134809b67429e6a6,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-06-27 15:51:50 +0100,725, zdtm refactor seccomp_filter_ thread tsync discus musl mailing list libc api used create posix thread thread killed seccomp break fundamental assumption runtime relies causing libc call i.e pthread_join kill undefined behaviour order work around issue could use instead filter set magic value user space errno without executing system call http list musl 2019 rresolves 725 signed radostin stoyanov rstoyanov1 gmail.com,,
865,f4de24c38ba2a5c3e323d4faaa4079c9aaac1060,ndrei Vagin <avagin@gmail.com>, 2019-05-15 08:40:31 +0300, , criu version 3.12.1 changelog restore selinux socket label signed andrei vagin avagin gmail.com,,
866,05b98e74e47e7d4fb52c6ca17ee28088d2b3e4cb,drian Reber <areber@redhat.com>, 2019-05-04 15:27:32 +0200, , lsm fix compiler error fedora fix following compiler error criu lsm.c function criu include log.h error directive argument null werror format overflow print_on_level log_error  error log_prefix fmt  __file__ __line__ __va_args__  criu lsm.c 166 note expansion macro pr_errâ 166 pr_err reading xattr failed ctx  signed adrian reber areber redhat.com,,
867,6e36fb26b24c296cb27814816492c5722ae6e218,ndrei Vagin <avagin@gmail.com>, 2019-05-04 20:01:52 -0700,693, lsm reset socket contex selinux disabled fix 693,,
868,7caaed20d88da3a64a6501c010d9556dd898ed70,drian Reber <areber@redhat.com>, 2019-05-03 06:27:51 +0000, , lsm fix compiler error unused result reading xattr checkpointed socket fscanf work least theory without checking result fscanf however multiple failure ignoring return value fscanf add ferror check stream actual error mean eof handle error fscanf andrei signed adrian reber areber redhat.com signed andrei vagin avagin gmail.com,,
869,a1cf51841a42a71a0867919f744560e21c654193,drian Reber <areber@redhat.com>, 2019-04-30 09:47:32 +0000, , selinux add socket label test add two selinux test verfy checkpointing restoring selinux socket label work correctly process process leaf default context newly created socket signed adrian reber areber redhat.com,,
870,8f704c3eb66fba5ed44d956b3f569e1461a3d3b3,drian Reber <areber@redhat.com>, 2019-04-29 15:21:59 +0200, , socket dump restore xattr security label restoring selinux process also requires correctly label socket checkpointing fgetxattr used retrieve xattr restore used socket created previous commits already restoring sockcreate selinux setting set process signed adrian reber areber redhat.com,,
871,149fed6480de9d4fb44632a9be69314fcbeeee58,drian Reber <areber@redhat.com>, 2019-05-02 13:47:29 +0000, , test verify sockcreate doe change restore make sure sockcreate stay empty selinux00 checkpoint restore signed adrian reber areber redhat.com,,
872,ae2ab5ddadc24c06c12c545f1160086713f78f59,drian Reber <areber@redhat.com>, 2019-05-02 13:41:46 +0000, , lsm also dump restore sockcreate file proc pid attr sockcreate used selinux label newly created socket label available sockcreate null default label process used read file checkpoint restores value restore value irrelevant existing socket might created another context make sure newly created socket correct context signed adrian reber areber redhat.com,,
873,437561d2bbc09d734ae276dbfca337569f454d54,avel Emelyanov <xemul@virtuozzo.com>, 2019-04-25 20:26:44 +0300, , criu version 3.12 suddenly feature reach release support android build several tempting thing raw socket selinux label ghost file couple fix course,,
874,5412247572763ba6bc32b08b20e45aa6a81e286f,ndrei Vagin <avagin@gmail.com>, 2019-04-21 01:32:37 -0700, , arm fix atomic_ add sub _return code pas simple test atomic_t int atomic_set atomic_inc  pr_err return  51.771 26187 err fd.c 7ef47a60 0x7ef47a60 reported jenkins signed andrei vagin avagin gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin gmail.com,,
875,59930e5afb722491b58443fb2706b60882fdd8c7,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-04-12 09:04:43 +0100, , tools.mk define set default foo bar equivalent ifeq origin foo undefined foo bar endif however set value default rather undefined  undefined variable never defined default variable default definition usual see variable used implicit rule note redefined default variable origin function return origin later definition http www.gnu.org software make manual make.html signed radostin stoyanov rstoyanov1 gmail.com acked cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
876,69e353628544cc6a68571ef59436cbe8f22bf4e6,drian Reber <areber@redhat.com>, 2019-04-16 18:59:21 +0000, , bump soname libcriu.so used soname readelf lib libcriu.so grep soname soname library soname libcriu.so.1 recent change libcriu removed added function change char args const char breaking abi api requires new soname patch change soname readelf lib libcriu.so grep soname soname library soname libcriu.so.2 signed adrian reber areber redhat.com,,
877,6c8ea60491305482eb60d9b17a8635ab9248a5ab,ndrei Vagin <avagin@gmail.com>, 2019-04-06 04:14:53 +0300,68, util leak file descriprots third party tool http github.com container container selinux issue adrian reber areber redhat.com signed andrei vagin avagin gmail.com,,
878,b548ed9473e99f7def781d4fae6dab7a1d8b68b8,ndrei Vagin <avagin@gmail.com>, 2019-04-16 02:03:18 +0300, , criu raise task file limit specific command need early_init cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
879,32d6e7b54db1581705d8c167682fa342e6ab9e94,yrill Gorcunov <gorcunov@gmail.com>, 2019-04-09 18:24:19 +0300, , early_init raise nr_open limit particular command swrk service dump restore need raise nr_file limit able process container huge number file opened signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
880,5adf790859c7b7f3b29e81f941bdd599a93b3baa,yrill Gorcunov <gorcunov@gmail.com>, 2019-04-05 12:47:48 +0300, , sfd make sure overwriting existing file signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
881,d2d3b6ff4823eb5b2d102eba5a2ee8e1eb9434bd,yrill Gorcunov <gorcunov@gmail.com>, 2019-04-03 16:22:00 +0300, , sfd move service fds separate file nothing utils rather separate service engine signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
882,7905b9f65ec2addd12e6b9365f8b64ce59b67a75,mitry Safonov <dima@arista.com>, 2019-04-10 15:03:03 +0100,666, ia32 add compatible sigmask sigframe different alignment rework ugly macro helper fix 666 signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
883,d52720a49d5696b28cbfba8a06e1b95c1c94a464,mitry Safonov <dima@arista.com>, 2019-04-10 15:03:02 +0100, , travis enable ia32 test travis xenial 4.15 kernel day support ia32 inplace finally putting allow_failures let soak bit signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
884,e7aba32efe388f5ba570c271b0113a30834f7f8f,hang Ning <ning.a.zhang@intel.com>, 2019-04-09 09:21:00 +0800, , tools.mk support override command line due android ndk clang x86_64 linux android28 clang sysroot sysroot_path x86_64 linux android able use single pattern discript clang error x86_64 linux android x86_64 linux android home ning source criu protobuf target lib lprotobuf noexecstack compel arch x86 script compel pack.lds.s criu pie parasite.built in.o criu pie parasite.o criu pie pie.lib.a compel plugins std.lib.a compel compel host hgen criu pie parasite.built in.o criu pie parasite blob.h error compel src lib handle elf host.c 335 unexpected undefined symbol external symbol pie criu pie makefile recipe target criu pie parasite blob.h failed rebuild host pas build support override command line pas build chen hu1.chen intel.com signed zhang ning ning.a.zhang intel.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin gmail.com,,
885,f4fa53cf9b0f9d828199996bcd342e12df0fed49,hang Ning <ning.a.zhang@intel.com>, 2019-04-09 09:20:59 +0800, , android ndk __errno already defined function criu log.c 356 error called object type int function function pointer int __errno errno  root android ndk toolchains llvm prebuilt linux x86_64 sysroot usr include errno.h note expanded macro errno  criu log.c 391 error called object type int function function pointer errno __errno  root android ndk toolchains llvm prebuilt linux x86_64 sysroot usr include errno.h note expanded macro errno android ndk errno.h int __errno void define errno __errno rename __errno _errno pas build chen hu1.chen intel.com signed zhang ning ning.a.zhang intel.com reviewed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin gmail.com,,
886,de2c917aa725cb8a15d2a3aeacd303a13b565baa,hang Ning <ning.a.zhang@intel.com>, 2019-04-09 09:20:58 +0800, , android ndk clang fix implicit macro define report criu pie util vdso elf32.c 255 error implicit declaration function elf32_st_type invalid c99 werror wimplicit function declaration elf_st_type sym st_info stt_func  criu include util vdso.h note expanded macro elf_st_type  opt android ndk toolchains llvm prebuilt linux x86_64 sysroot usr include linux elf.h 114 note expanded macro elf32_st_type  criu include util vdso.h note expanded macro elf_st_type add ifndef check whether macro already defined chen hu1.chen intel.com signed zhang ning ning.a.zhang intel.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin gmail.com,,
887,ff7c66e6b14d544277f25bfc93278aef9500f93b,hang Ning <ning.a.zhang@intel.com>, 2019-04-09 09:20:57 +0800, , clang __unused illegal varible name newer version clang android clang versoin 6.0.2 android ndk clang version 8.0.2 clang report error criu compel include uapi compel sigframe common.h error expected member name declaration specifier int __unused sizeof k_rtsigset_t sizeof int  take __unused attribute varible chang _unused pas compile chen hu1.chen intel.com signed zhang ning ning.a.zhang intel.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin gmail.com,,
888,6d69f65341169479f3493a13f08624fce714b030,hang Ning <ning.a.zhang@intel.com>, 2019-04-09 09:20:56 +0800, , android ndk elf.h missing defines android ndk elf.h define nt_x86_xstate nt_prstatus add defines pas compile note add linux elf.h build error chen hu1.chen intel.com signed zhang ning ning.a.zhang intel.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin gmail.com,,
889,e65c7b55e9d9ef11f62161cfa0df213c5f0c3547,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-04-04 02:49:27 +0100, , zdtm replace imp module importlib imp.load_source deprecated recommended alternative api loading module exec_module http docs.python.org 2.7 library imp.html imp.load_module http docs.python.org 3.4 library importlib.html signed radostin stoyanov rstoyanov1 gmail.com,,
890,43095fad2f69cca09f8bdeb9cc4af22e603af7c1,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2019-03-29 13:52:35 +0300, , rpc reserve number check mount feature want commit check mount feature criu maintain image level compatibility criu criu one use field different data add comment reserved,,
891,cffeb263b7a79d6ff4c2f01e479365338f80307e,hang Ning <ning.a.zhang@intel.com>, 2019-04-04 10:22:32 +0800, , add note android ndk cross compile note android ndk cross compile signed zhang ning ning.a.zhang intel.com reviewed dmitry safonov 0x7f454c46 gmail.com,,
892,31e3e01fe49c0f19fd8eda62a5bf5322c3bb38e5,hang Ning <ning.a.zhang@intel.com>, 2019-04-04 10:22:31 +0800, , android ndk index function strings.h due android ndk strings.h index function declare function criu like povit_root still need provide index function implement link criu chen hu1.chen intel.com signed zhang ning ning.a.zhang intel.com reviewed dmitry safonov 0x7f454c46 gmail.com,,
893,74bb7a56ea6422afb9e7a3f7203e5f57c2f03545,hang Ning <ning.a.zhang@intel.com>, 2019-04-04 10:22:30 +0800, , android ndk unix_path_max defined un.h android ndk unix_path_max already defined add ifndef check linux un.h define unix_path_max 108 chen hu1.chen intel.com signed zhang ning ning.a.zhang intel.com reviewed dmitry safonov 0x7f454c46 gmail.com,,
894,560590733396f8e45bd053b03b4f4b586b4a8d8f,hang Ning <ning.a.zhang@intel.com>, 2019-04-04 10:22:29 +0800, , android ndk necessary makefile change hardcode libnl cflags cross compile criu libnl header file point host remove link android ndk library criu really need disable pas link chen hu1.chen intel.com signed zhang ning ning.a.zhang intel.com reviewed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com,,
895,1bc3e588dddbbbd7370ac6291e05b67247479dc5,drian Reber <areber@redhat.com>, 2019-03-26 20:01:40 +0000, , restore support restoring thread selinux restoring multi threaded process criu selinux support fails selinux doe always support changing process context multi threaded process reading man page setcon change context running process state changing selinux context multi threaded process work new security context bounded old security context able restore process without need new security context bounded old security context set selinux process context creating thread thus thread created process context main process signed adrian reber areber redhat.com,,
896,0d5c0b2d3a32cd86562b80dd788eb8efd18d7ae6,ndrei Vagin <avagin@gmail.com>, 2019-03-28 00:15:31 -0700,652, script build use last stable release s390 get qemu static 18.04 lts ubuntu repos http github.com checkpoint restore criu issue 652 signed andrei vagin avagin gmail.com,,
897,b3a199186d4393be4c6f127eeb5942ef60976c87,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-03-22 21:03:48 +0000,653, docker test fix deprecated security opt format flag security opt use colon separator anymore divide key value instead equal symbol consistency similar flag like storage opt deprecated release v1.11.0 target removal release v17.06 http docs.docker.com engine deprecated 653 signed radostin stoyanov rstoyanov1 gmail.com,,
898,2844b95f67aae4c9867fc307d4996373d9a6bb8e,drian Reber <areber@redhat.com>, 2019-03-22 07:55:18 +0000, , test add selinux00 test test criu restore process policy checkpointing test selinux00 started selinux available test process move another process context make possible either new selinux policy need available containing http github.com fedora selinux selinux policy commit short time selinux switched permissive mode correct selinux setup done zdtm static zdtm static selinux00.hook test previous selinux policy state restored test case restored test case check still selinux process context test case fails signed adrian reber areber redhat.com,,
899,b701774f9dd8cc311c98ffdc7988ee6fddb27407,drian Reber <areber@redhat.com>, 2019-03-12 18:32:51 +0000, , net add correct selinux label parasite socket running system selinux enabled socket communication parasite daemon main criu process need correctly labeled initially motivated podman use case container usually running something like ... ... container_t ... .... criu started runc podman run ... ... ... ... parasite running context container process container_t allowing container process connect via socket outside container desired therefore criu need label socket context container container_t first get context root container process tell selinux label next created socket label root container process work necessary correct selinux policy installed fedora based system part container selinux package assumes process criu want dump labeled selinux context child process different label work need additional selinux policy whole selinux socket labeling relies correct selinux available signed adrian reber areber redhat.com,,
900,d9c51a703478d4099ba104e244c43bead0b59e0e,drian Reber <areber@redhat.com>, 2019-03-12 11:30:21 +0000, , lsm dump restore selinux process label support selinux process label criu never tested verified criu supported unconfined_t process label basically selinux support successful container checkpoint restore selinux enabled host necessary restored container process context checkpointing commit remove check label unconfined_t store process label restored normal process started command line usually running unconfined_t work container use case need additional policy latest container selinux package fedora necessary policy allow criu running used podman transition restored process container_t restoring process running systemd control mean without additional policy fail criu allowed change context restored process additional criu use case selinux enabled system besides container process command line shell process additional selinux policy required allow criu dyntransition change signed adrian reber areber redhat.com,,
901,fd1653b85171ba13383d0260c2968bc83077f814,yrill Gorcunov <gorcunov@gmail.com>, 2019-03-12 21:55:13 +0300,647, tty make params setup synchronous never designed run params ansync mode always change async fragile p.s think might reason http github.com checkpoint restore criu issue 647 signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
902,79fbdb92c1be02f14a6459b552ee658af5939431,arshavardhan Unnibhavi <hvubfoss@gmail.com>, 2019-03-09 13:39:19 +0530,329, action script reducing scope variable http github.com checkpoint restore criu issue 329 signed harshavardhan unnibhavi hvubfoss gmail.com signed andrei vagin avagin gmail.com,,
903,861afa0bc788ac347ee51de5c762c0cc6a217073,itul Karnik <mitulkarnik.92@gmail.com>, 2019-03-16 14:52:04 +0000, , removing unneeded return value assignment removed return value assignment statement referenced used anywhere assignment done fix 334 removing unneeded assignment signed mitul karnik mitulkarnik.92 gmail.com signed andrei vagin avagin gmail.com,,
904,9f176a9686717f235c1425b98775e48a75aeebe9,shutosh Mehra <asmehra1@in.ibm.com>, 2019-02-14 13:42:14 +0530, , access pathname relative root mntns use faccessat check file relative root mnt accessible signed ashutosh mehra asmehra1 in.ibm.com,,
905,31f3a6a737d23ef2d41f5e7526bebeffc637316d,drian Reber <areber@redhat.com>, 2019-03-13 14:34:10 +0000, , test fix compilation error binfmt_misc.c 168 error sprintfâ may write terminating nul past end destination werror format overflow 168 sprintf path dirname name  signed adrian reber areber redhat.com,,
906,3608293773459d6e46d223c6def964cb0e29e771,drian Reber <areber@redhat.com>, 2019-03-13 12:48:19 +0000, , criu fix gcc9 rawhide compilation error signed adrian reber areber redhat.com,,
907,8bb2f2293730c12a884fd77c0d5d4f143cf26eb8,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-03-08 08:07:49 +0000, , readme update asciinema demo signed radostin stoyanov rstoyanov1 gmail.com,,
908,051ab38a2980a4d547ee7d50d0aa61e68637769b,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-03-07 09:34:35 +0000, , remove irrelevant comment support printing early log message recently added make comment longer relevant signed radostin stoyanov rstoyanov1 gmail.com,,
909,a2565001854cd131e95ded5281f8f29b316fe538,drian Reber <areber@redhat.com>, 2019-02-26 09:39:36 +0000,625, rename version protobuf rpc member rpc.proto interface query criu version number major minor keywords creates error using rpc definition http github.com checkpoint restore criu issue 625 commit field renamed major major_number minor minor_number existing program using rpc protobuf definition transparent change program importing latest rpc.proto require code change signed adrian reber areber redhat.com,,
910,7f4779059d4c4090fb8ad27911e789aaef26464b,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-02-24 23:00:26 +0000, , util introduce combine functionality new function move criu util.c enable reusability throughout code base signed radostin stoyanov rstoyanov1 gmail.com,,
911,116e3cb64994e3dc1dfa66df953a1defa32c6d37,itul Karnik <mitulkarnik.92@gmail.com>, 2019-02-26 10:03:02 +0000, , test kill dead code pipe test signed mitul karnik mitulkarnik.92 gmail.com signed andrei vagin avagin gmail.com,,
912,d5cbd48a28ce679f92cc90e7eb439a6b770bde1e,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-02-13 20:29:17 +0000, , config add msg obsolete use port address socket option specified provided file descriptor socket reused incoming tcp connection case address port option ignored signed radostin stoyanov rstoyanov1 gmail.com,,
913,ee79bb3a1a7f9fbc0d2e8b9838128d2cd5edc5d5,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-02-22 18:55:15 +0000, , criu fix typo signed radostin stoyanov rstoyanov1 gmail.com,,
914,d5d65ae2c40cb7200103d534f73cfa676d0d47f8,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-02-19 19:58:48 +0000, , seek_pagemap use pagemap_len variable len used calculate value end already static inline function pagemap_len used instead acked mike rapoport rppt linux.ibm.com signed radostin stoyanov rstoyanov1 gmail.com,,
915,38769e94d622ca27396cf962475259f346babf82,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-02-18 10:35:45 +0000, , rpc libcriu add lsm profile option lsm profile option allows container engine specify lsm profile name signed radostin stoyanov rstoyanov1 gmail.com,,
916,44a3af2ddb12b919d51e6182093045dc816ff375,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-02-20 09:51:39 +0000, , page xfer fix typo signed radostin stoyanov rstoyanov1 gmail.com,,
917,fd9fb7d339ddf1d83139731f2d6b201c99b77c5d,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-02-15 10:27:08 +0000, , socket tcp skip flight use set_nonblock signed radostin stoyanov rstoyanov1 gmail.com,,
918,635db4895afd9475f2bc526a94b455a8ffa27d2f,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-02-15 09:53:48 +0000, , socket tcp skip flight fail eagain server socket marked nonblocking client connect accept fail set errno eagain ewouldblock instead use poll wait pollin event file descriptor suggested andrei vagin avagin gmail.com signed radostin stoyanov rstoyanov1 gmail.com,,
919,681c05392df3476ee2d402fecc256e629b3b4fd9,drian Reber <areber@redhat.com>, 2019-02-18 16:15:08 +0000, , crit display help message using python3 running crit python2 give following minimal help message crit crit usage crit decode encode info show ... crit error argument using python3 system crit show following error crit crit traceback recent call last file crit crit line module cli.main file home criu crit pycriu cli.py line 334 main opts func opts keyerror func using patch python3 output change crit crit usage crit decode encode info show ... crit error argument suggested andrei vagin avagin gmail.com signed adrian reber areber redhat.com,,
920,58fbe6de3a6bc92b540f1517b82c10361b86fe94,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-02-20 18:27:25 +0000, , page xfer log addr port disconnect socket option used page server instead address port message would appear 00.028440 disconnect page server null signed radostin stoyanov rstoyanov1 gmail.com,,
921,ee2916a56f6749cb17c3b0c32d72fcfcecd34f73,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-02-13 13:32:36 +0000, , util log errno bad server address man inet_pton inet_pton return success network address successfully converted returned src doe contain character string representing valid network address specified address family doe contain valid address family returned errno set eafnosupport assume return value set af_inet4 af_inet6 therefore errno set user attempt bind server using invalid network address following error message shown bad server address success clear change error message look like invalid server address localhost address must ipv4 ipv6 format signed radostin stoyanov rstoyanov1 gmail.com,,
922,4781e18244fd1883fb73760e0c3c99c3f2a54fbe,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-02-12 22:59:12 +0000, , criu update list action script hook post resume introduced commit  restore post resume hook introduced hook called end everything restored process resumed used action require operation container like restarting systemd autofs service post setup namespaces introduced commit  criu patch post setup namespaces introduce post setup namespaces action script needed possibility run cutom script mount namespace configured orphan master introduced commit  tty notify orphan tty via rpc docker creates pty pair container devpts use console slave tty set control tty init process bind mounted dev console master tty handled externelly criu handle external resource internal resource used externaly signed radostin stoyanov rstoyanov1 gmail.com,,
923,bac5566f0f8dd6b6e920b81558ed43e3e27eb845,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-02-15 10:40:01 +0000, , fix typo function name signed radostin stoyanov rstoyanov1 gmail.com,,
924,c77a52ec7fff8079727d027909ed15eafa16145f,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2019-02-12 12:48:14 +0300, , zdtm.py expect test fail crfail flag set suppress false positive fail criu live migration job http ci.openvz.org job criu job criu live migration job criu dev 1796 criu test zdtm.py run zdtm static lazy migrate run zdtm static run zdtm static start test test suid pidfile outfile dirname run criu dump test zdtm static fail criu dump exited send signal wait zdtm static die 0.100000 signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin gmail.com,,
925,d715f176ba6e7a0662db690647cf23e99282a3b1,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-02-12 09:53:50 +0000, , config fix option short leave running boolean option doe require argument getopt man page optstring string containing legitimate option character character followed colon option requires argument ... signed radostin stoyanov rstoyanov1 gmail.com,,
926,c292fe54a1f779ac15fcc896e9164b682601ef39,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-02-12 08:55:00 +0000, , crtools remove unused include getopt.h signed radostin stoyanov rstoyanov1 gmail.com,,
927,9ede9253f5d04e7ade626ece8b96bb66bf6dc938,artin WÃ¼hrer <martin@laptop.wien.wuehrer.net>, 2019-02-05 23:07:23 +0100, , lib simplify service set removing commit remove function criu_ local_ function neccessary set_service_fd called already clear service comm type used furhtermore commit reduces number misuse e.g set socket binary given via signed martin wã¼hrer martin.wuehrer artech.at,,
928,29af538da7025f9ea09b71b7935e465edf13d4c4,artin WÃ¼hrer <martin@laptop.wien.wuehrer.net>, 2019-02-05 23:03:11 +0100, , lib added missing strdup null check commit check strdup call call successful function call strdup return error requires return value several function changed void int signed martin wã¼hrer martin.wuehrer artech.at,,
929,f572d1de7e6d5d275edc8ce4c003ebf381dd0e0b,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-12-13 12:02:56 +0300, , zdtm.py also check mount flag restored correct signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin gmail.com,,
930,0aef3d975e7eccea70f401716db74a6762f95b2e,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-12-13 12:02:55 +0300, , zdtm test dumping file overmounted mount fails signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin gmail.com,,
931,304deda565f0042865dc0eb9e17ae0af3e1b429a,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-12-13 12:02:54 +0300, , file open file overmounted mount supported file mount switch restore different file overmounting mount yet fully control mount file restored make boolean signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin gmail.com,,
932,830d1a18946ed2516d8f9443bd10ca5b11a7a3da,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-12-13 12:02:53 +0300, , zdtm ghost readonly test creates two shared mount readonly mount different ghost file also let mount different mount flag make test do_new_mount hunk delaying readonly do_bind_mount one mount bind another restore http jira.sw.ru browse psbm 82991 minor cleanup signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin gmail.com,,
933,fd0a3cd9efb960dd14c38471f29a306156ecb13d,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2019-01-14 15:59:17 +0300, , mount remount mount writable ghost file restore ghost file readonly mount need recreate file restore mount readonly idea remount mount want operate writable later ghost file restored return mount proper state needed three exception remount overmounted mount easily remounted writable mountpoints invisible mount readonly superblock ghost file mount host mntns remount mount else face error forget remount back place need add remount create_ghost clean_one_remap rfi_remap remount mount writable without remounting back called service mntns one save mnt_ns_fd destroyed mount end mark mount remounted service mntns need remount mount back readonly mark remounted_rw later mount remounted back also need enter proper mntns tmi remounting solution better added additional remount bind readonly mount remount ghost file restore operation quiet rare thing remount added suitable mount relatively small price note also thought tried implement complete remove step remounting back readonly requires quiet tricky playing usernsd remove one remount already rare case thing worth effort minor commit message cleanup remove warn delay remount mount explicitly want write operating rename patch accordingly reuse optimize inefficient also add another exception simplify child status check fix log message bracket drop flag readonly flag signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin gmail.com,,
934,d2e35f504acdef7d263d46e21cbb48bd7c132ed0,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-12-13 12:02:51 +0300, , mount save result restore change mount tree topology path thus doe account remaped overmounts know mount actually overmounted restore need two much effort better prepare info advance also improve performance dump reuse calculation previous call make boolean signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin gmail.com,,
935,c3462adea8fced0cae9b0cfac73ff9490c84f067,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-12-13 12:02:50 +0300, , mount remove unused argument signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin gmail.com,,
936,8d1dfd3cc71af9d42f1e3540050a2951b577fb76,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-02-08 13:34:13 +0000, , mount realloc info source resolve ext mount use realloc change size memory block pointed info source instead allocating new memory area releasing old one info source null call equivalent malloc size signed radostin stoyanov rstoyanov1 gmail.com,,
937,b76d864eb378ed3f3567185b2ef0a240781dfbd3,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-02-09 20:29:18 +0000, , crtools move deprecated check end show exec command deprecated time unlikely called user would better move end sequence statement signed radostin stoyanov rstoyanov1 gmail.com,,
938,2ffd191bad638e889cb4577bcdadd51d268e5b4c,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-02-07 17:28:03 +0000, , service log return val parse_options function parse_options return integer success failure criu display help text current behaviour always creates warning message show return value function however return value different success criu fail since logging initialised message created lost therefore removed completely signed radostin stoyanov rstoyanov1 gmail.com,,
939,bffa1d33b665d02d91c50f7514ba2481d8923fb4,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-02-05 21:25:57 +0000, , uffd show error msg open_page_read failure value stored ret never used instead output error message signed radostin stoyanov rstoyanov1 gmail.com,,
940,204230436c21b7aa65136a3f6e866547e1d4da35,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-01-30 09:01:11 +0000, , image drop unused o_show signed radostin stoyanov rstoyanov1 gmail.com,,
941,d416c78d71a159bad039d8349f0043b7fd33a570,ike Rapoport <rppt@linux.ibm.com>, 2019-02-05 20:54:39 +0200, , travis lazy page exclude test kernel 4.18 although non cooperative userfaultfd event merged linux kernel since 4.11 racy 4.18 exclude dangerous test older kernel signed mike rapoport rppt linux.ibm.com,,
942,f487c965d441809da1f28b0337ec350d7bfb119e,ike Rapoport <rppt@linux.ibm.com>, 2019-02-05 10:26:36 +0200, , zdtm thp_disable increase memory size somehow travis test mmap get rounded actual vma start returned address cause proc pid smaps parsing fail increasing allocation size seems resolve problem root cause identified look like viable workaround signed mike rapoport rppt linux.ibm.com,,
943,e9822fc6fa04a611e23503ae57da013e5a4c313b,artin WÃ¼hrer <martin.wuehrer@artech.at>, 2019-02-02 10:34:59 +0100, , lib strdup service_address service_binary function criu_ local_ criu_ local_ function create copy given string argument may lead problem original string get freed criu relies additionally function assigns default service_binary opt service_binary instead opt service_address opinion preferred way since type anonymous union signed martin wã¼hrer martin.wuehrer artech.at,,
944,513ab44ac84c0328b5c5691d921e4339dd4506d3,ike Rapoport <rppt@linux.ibm.com>, 2019-01-29 09:28:40 +0200, , zdtm add test prctl verify enabling disabling thp prctl doe change vma flag signed mike rapoport rppt linux.ibm.com signed andrei vagin avagin gmail.com,,
945,0493724c8eda31af84ddbb1817b2a99cccee51e3,akashi Iwai <tiwai@suse.de>, 2019-01-16 17:14:37 +0100, , documentation allow use asciidoctor formatting man page since asciidoc based phyton want move alternative promising one asciidoctor patch allows use asciidoctor formatting man page instead asiidoc passing make option use_asciidoctor yes although asciidoctor almost compatible asciidoc produce man page directly text file without xml efficiently asciidoctor mode require xmlto signed takashi iwai tiwai suse.de signed andrei vagin avagin gmail.com,,
946,f73e5d181ba111098ccc59570122740e0b75de87,akashi Iwai <tiwai@suse.de>, 2019-01-16 17:14:36 +0100, , documentation remove unused a2x check a2x never used although presence checked mandatorily let remove superfluous check unused entry signed takashi iwai tiwai suse.de reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin gmail.com,,
947,46b05658c1037aa4a18b4b9729a1af6836f1aa54,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-01-25 21:27:27 +0000, , config refactor configuration file parsing split function parse_config smaller part introducing parse_statement add descriptive comment improve readability addition make sure last element array string configuration initialised null necessary properly count number element parsing signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
948,7d7f663be5c93318cd101876246a02b5b870dd86,artin WÃ¼hrer <martin.wuehrer@artech.at>, 2018-12-21 08:00:21 +0100, , lib converted char args const char criu_ local_ function already call strdup possible change function signature const char struct criu_opts already contains const char service_binary also member service_address changed const char additonally also function call strdup signed martin wã¼hrer martin.wuehrer artech.at signed andrei vagin avagin gmail.com,,
949,f4ce0a7c08263adc81f78e1b447adca83297d4fd,artin WÃ¼hrer <martin.wuehrer@artech.at>, 2019-01-30 10:34:45 +0100, , lib added according http criu.org api_compliance library support pageserver option patch contains function criu_ local_ allow specify tcp port pageserver listening patch affect lib criu rpc already support pageserver setting signed martin wã¼hrer martin.wuehrer artech.at signed andrei vagin avagin gmail.com,,
950,b368e66165ab35f0ecffad44ffe4abf2193802ba,ir Kolyshkin <kolyshkin@gmail.com>, 2019-01-23 12:02:21 -0800, , test others libcriu makefile fix phony target add run phony target move .phony declaration next target reviewed cyrill gorcunov gorcunov gmail.com signed kir kolyshkin kolyshkin gmail.com signed andrei vagin avagin gmail.com,,
951,6fe7e9eab41484330b23e7cdc98bcbda84cfab3f,ir Kolyshkin <kolyshkin@gmail.com>, 2019-01-23 12:02:20 -0800, , makefile.config silent twice substituted either nothing depending whether set either verbose output doe make sense add another reviewed cyrill gorcunov gorcunov gmail.com signed kir kolyshkin kolyshkin gmail.com signed andrei vagin avagin gmail.com,,
952,f07bd47fde59ebd14b1a830907c5259532fa5e3f,ir Kolyshkin <kolyshkin@gmail.com>, 2019-01-23 12:02:19 -0800, , image makefile fix dep gen since part inside define statement double used refer internal function call patsubst define called rather defined fix dependency generation image reviewed cyrill gorcunov gorcunov gmail.com signed kir kolyshkin kolyshkin gmail.com signed andrei vagin avagin gmail.com,,
953,6b84657ca4c37bff67bcd9201724ebdb69c45848,artin WÃ¼hrer <martin.wuehrer@artech.at>, 2019-01-19 11:49:17 +0100, , lib fixed memleaks add applied opts object several time allocated memory get freed therefore function criu_ local_ free_opts introduced function ensure opts get freed accordingly furthermore criu_ local_ free_opts get part api therefore called external project additionally commit free opts parameter already initalized commit also contains fix lead memory leak criu notification received signed martin wã¼hrer martin.wuehrer artech.at signed andrei vagin avagin gmail.com,,
954,e18a6d830a52b796708779b8ae8b1e8fd0d97ff6,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-01-06 15:44:27 +0000, , config add check_options helper purpose helper function perform action common different interface criu option parsed used instance verify specific option passed criu via cli rpc config file signed radostin stoyanov rstoyanov1 gmail.com acked adrian reber areber redhat.com signed andrei vagin avagin gmail.com,,
955,844a72371a044c1cdea8fac1f8881e7109c600c7,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-01-06 15:44:26 +0000, , rpc add interface tcp close option signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
956,dcf0c915e2d1bfea0562137cd2565f4418d1592c,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-11-16 21:28:53 +0000, , tty goto err fail unlock master pty signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
957,7549e93a8d7792c6977dc93f7378b841dd8e6334,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-11-16 21:28:52 +0000, , file simplify get_mem_dev_ops signed radostin stoyanov rstoyanov1 gmail.com acked cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
958,adaad53b7411be876edc64d5919cddd4321ff444,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-11-16 21:28:51 +0000, , restore remove unnecessay line signed radostin stoyanov rstoyanov1 gmail.com acked cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
959,306d1cd4bb28aa7433843494a6dc05ab410e6546,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-01-17 08:43:36 +0000, , service fix typo signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
960,d8cc6423b2c5a29184521d31b46edfeb8408b093,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-01-17 08:43:35 +0000, , crtools drop unused header lsm.h header lsm.h added crtools.c commit 6af96c8 became unused commit 09c131c signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
961,bd6f9672d25e9ee77323f4bd95f0f09d71826794,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-01-17 08:43:34 +0000, , criu document lsm profile option lsm profile added commit  lsm add lsm profile flag lxd use container name lsm profile container name changed migrate host side want use different lsm profile name cgroup root flag add support usage example available http github.com lxc lxc commit signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
962,b42b3e2ada305fbde3c1851ed59371ae78d16a34,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-01-17 08:43:33 +0000, , criu move tcp close restore tcp close option introduced commit  tcp add tcp close option restore connected tcp socket closed state option applicable restore therefore move documentation dump restore signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
963,e4fa84a32a75fea6c8e3d5d1d0d13f513e857dde,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-01-17 08:43:32 +0000, , criu move log pid restore log pid option introduced commit  crtools make able split message pid option applicable restore therefore move documentation common option restore signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
964,e08c7dc2bcb53515ef90d76ab0e643a1277fd7fc,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-01-17 08:43:31 +0000, , criu fix typo signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
965,9c9f93272364d913cc61f713ffbae51ef9c0dceb,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-01-18 00:43:14 +0000,593, pstree restore task group leader inherit sid current behaviour criu inherit group leader parent process migrating session leader shell job however possible process group leader without session leader e.g shell process case criu restore original group process inherit session close 593 signed radostin stoyanov rstoyanov1 gmail.com reviewed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
966,1be8269cd0633fddfd29cda40b59da4bd95b5b26,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-01-17 20:33:04 +0000, , avoid unnecessary getpid call getsid getpgid return session pgid calling process signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
967,901f5d48ec6ef485ea889a4a97011a12f4c3808e,eff Law <law@redhat.com>, 2019-01-09 12:49:11 +0000, , fix gcc9 build failure received patch jeff law fix build failure upcoming gcc following jeff law description patch attached find fix criu see matter dropping esp clobber relevant asm statement detail criu macro defines asm appears want set new stack pointer directly issue sigreturn call kernel variant clobber aarch64 arm x86 others ppc s390 asm doe indeed set new stack pointer never return sigreturn syscall least normal way actually return back point process interrupted signal describing affect asm stack pointer pedantically correct actually real effect dropped avoid hard error gcc suggested jeff law law redhat.com reviewed dmitry safonov 0x7f454c46 gmail.com signed adrian reber areber redhat.com signed andrei vagin avagin gmail.com,,
968,7fd39f96ae842daf79a8fc728283ef11d57be262,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-01-11 12:23:52 +0000,467, mount fix cleanup_mnt_ns opts.root set commit  mount restore cwd creating root yard introduced change function cleanup_mnt_ns handle case opts.root set however commit  mount create mount point root mount namespace root yard cleanup_mnt_ns function always result error mnt remove directory ... file directory restore fails opts.root set resolve 467 signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
969,7cd1cf0b167c872a1f831ee76413f03ca7ca3c8c,ndrei Vagin <avagin@gmail.com>, 2019-01-09 09:56:50 +0300, , test socket tcp skip flight clean test using test library test library function create tcp socket radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com reviewed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
970,1ff233356405a0a17a44bdab357b5fb54c2fb32b,drian Reber <areber@redhat.com>, 2019-01-09 13:11:12 +0000, , printout early log message pr_ logging command except pr_msg lost logging set log_init make sure logging message lost vprint_on_level writes message except log_msg temporary buffer written logging set improved andrei vagin avagin gmail.com signed adrian reber areber redhat.com signed andrei vagin avagin gmail.com,,
971,e1d68095724f74b0551d7aa2bc032613c8c2d33f,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-12-11 10:11:25 +0300, , file reg fixup order message link error path error message linkat_hard open_path link error contradict fix wrong one signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin gmail.com,,
972,4d4bf2477f1768e91c21c28c7f0b7d0bb7c9435e,yrill Gorcunov <gorcunov@gmail.com>, 2018-12-20 11:08:41 +0300, , socket exit error raw module unloaded regular checkpoint check action current architecture implies basic diag module tcp udp etc loaded turn raw diag case either unloaded even compiled system thus zap error print information inside log application doe use raw socket real fail later checkpointing socket itselves signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
973,d1212cab55359b54a9f33d038f2c79165cb4c79e,yrill Gorcunov <gorcunov@gmail.com>, 2018-12-20 11:08:40 +0300, , socket verbose collect_err would always know happening even module compiled supported signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
974,9120080fdc2b1ae26d5b3172121fdd65dfbd39f0,yrill Gorcunov <gorcunov@gmail.com>, 2018-12-20 11:08:39 +0300, , net libnetlink drop error keyword default handler let use regular pr_perror helper prefix without additional error keyword may confuse external tool signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
975,33166f29693520b7fccaa43671d5d41eb4bb89dc,yrill Gorcunov <gorcunov@gmail.com>, 2018-12-20 11:08:38 +0300, , net socket spam log known error example diag module built spam error message print error particular socket really used  continue passing error handler balanced receieve handler number argument use yet handler better reserve immediately future use strictly speaking probing raw diag module much sense kernel support autoloading version still code consistency thing module signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
976,88a52c2b82645c1bb403a646a8714f126c573889,yrill Gorcunov <gorcunov@gmail.com>, 2018-12-20 11:08:37 +0300, , net libnetlink call error handler instead unconditional error message able zap error message needed without error handler continue printing error placate diag module probing since mandatory feature signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
977,8a90bc8302fa7af382e0598411b9bbf129f672a5,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-01-04 20:44:18 +0000, , test static add test skip flight change since refactor test case based andrei comment change since use zdtm_family instead af_inet signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
978,556223a646b7939e32b67f4d33d6148640d96fd0,adostin Stoyanov <rstoyanov1@gmail.com>, 2019-01-04 18:30:29 +0000, , build show note building wihout libbsd show note libbsd installed criu compiled without setproctitle strlcpy support signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
979,64c6e2959131371020dc9a7c58e87e48808f66ef,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-12-28 08:10:07 +0000, , namespaces use einval instead signed radostin stoyanov rstoyanov1 gmail.com acked cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
980,b8fdcd71f8788dc4e8020ae442e133a0a3a4513e,ndrei Vagin <avagin@gmail.com>, 2019-01-01 23:06:42 -0800, , travis fedora install kmod package patch fix error 00.074175 error criu net.c 2638 locking network failed iptables restore returned may connected disabled kernel build config option signed andrei vagin avagin gmail.com,,
981,5c71e3e028ebc7669ad0e00bc8fbbb4e41c7a5b9,ndrei Vagin <avagin@gmail.com>, 2019-01-01 23:06:41 -0800, , test inhfd redirect stdin dev null signed andrei vagin avagin gmail.com,,
982,034fc1424fa32dd4b2a436f3ac216e121eb7eef0,ndrei Vagin <avagin@gmail.com>, 2019-01-01 23:06:40 -0800, , zdtm.py cache test message currently rely fact nobody else using random parent child process get random value test fails fedora rawhide nothing wrong generate test message forking test process signed andrei vagin avagin gmail.com,,
983,8800da2b77bf008fe490c161bf176cdf37f8ec7a,ndrei Vagin <avagin@gmail.com>, 2019-01-01 23:06:39 -0800, , file use proc_self restoring file descriptor open_proc_pid proc_self return non service file descriptor take place target file descriptor signed andrei vagin avagin gmail.com,,
984,42bc32f6c0ec9ad7f7298f62998611c3dfc3b79b,ndrei Vagin <avagin@gmail.com>, 2019-01-01 23:06:38 -0800, , travis docker install docker test repo docker stable repo broken signed andrei vagin avagin gmail.com,,
985,5ecbc104f8282bf51465781a4cfd581af3d6d1db,yrill Gorcunov <gorcunov@gmail.com>, 2018-12-19 15:26:06 +0300, , compel x86 drop call32.s symlink needed since signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
986,bada5e1ada7ae487c4244cdec864a2bcad65238b,drian Reber <areber@redhat.com>, 2018-12-19 18:04:58 +0000, , fix rpc configuration file test case relevant test case actually designed around broken behaviour working previous configuration file set via environment variable case rpc configuration file name test case test rpc configuration file setting overwriting direct rpc setting make sure configuration file set via environment variable would set test case would still succeed even previous patch applied correct behaviour main reason change test likely use case environment based configuration file rpc configuration file different name signed adrian reber areber redhat.com signed andrei vagin avagin gmail.com,,
987,b1c9e7faaf6e8874aafd241f404a1a685ecc3c0b,drian Reber <areber@redhat.com>, 2018-12-19 18:04:57 +0000, , fix rpc configuration file handling writing runc test case verify runc correctly rpc configuration file became clear thing working supposed looking closer code set log file via rpc configuration file discovered code seems wrong least understand intention behind code try simplify logic bit add comment make clear intention rpc configuration file code  fix existing test case test better correct make change requested andrei  change requested andrei signed adrian reber areber redhat.com signed andrei vagin avagin gmail.com,,
988,134c7c275bc99fbe9825030dfc616490c51158bf,drian Reber <areber@redhat.com>, 2018-09-12 08:37:36 +0200, , criu fix segfault pre dump accident found segfault using pre dump combination page server following able trigger criu page server tmp criu pre dump pid tmp track mem criu page server tmp prev image dir criu pre dump pid tmp track mem segfault ... 00.010090 warn criu image.c 134 failed open parent directory ... 00.012984 error criu mem.c 318 pid reuse detection failed parent inventory check warning ... 00.013037 error criu mem.c 544 dump page parasite ... 00.013955 pre dumping task memory 00.013966 pre dumping 8793 00.014380 transferring page segmentation fault core dumped looking dump.c int ret function get return code previous operation ret immediately overwritten never used older criu version used ret goto err gone reintroduces check int parameter given function caller command used trigged segfault make much sense result still usable warn error message printed segfault gone  set return value correctly signed adrian reber areber redhat.com signed andrei vagin avagin gmail.com,,
989,ae15718b1318682133cad6542d6fc3b20d194a4d,ir Kolyshkin <kolyshkin@gmail.com>, 2018-12-04 18:07:12 -0800, , install .gitignore avoids installing .gitignore file compel includes describe .gitignore needed signed kir kolyshkin kolyshkin gmail.com signed andrei vagin avagin gmail.com,,
990,2b602c363f060a8e830ff9b8ae1e004b745e7a16,ir Kolyshkin <kolyshkin@gmail.com>, 2018-12-04 18:07:11 -0800, , compel makefile use need use either recursive force signed kir kolyshkin kolyshkin gmail.com signed andrei vagin avagin gmail.com,,
991,05ab416ae83e9247fc5937da70128d04cec60b80,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-12-10 15:33:56 +0300, , mount make static function never used outside criu mount.c signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin gmail.com,,
992,39863eeb1ec4d787c1037cf0c12cc3e51a59ffcd,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-12-10 15:33:55 +0300, , file reg make error message clean_one_remap contain mntns path rmntns_root number opened mntns root directory info help identify mntns involved log show path mntns instead signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin gmail.com,,
993,73d553f3160addb9456ffae28009f1c71e7de2e8,ike Rapoport <rppt@linux.ibm.com>, 2018-12-10 17:44:11 +0200, , test lazy migration try run pre dump lazy page signed mike rapoport rppt linux.ibm.com signed andrei vagin avagin gmail.com,,
994,685f4caaee4faf95c27ee941b67b2743c34391d7,ike Rapoport <rppt@linux.ibm.com>, 2018-12-10 17:44:10 +0200, , pre dump allow lazy page option using lazy page pre dump cause partial memory dump intention whole point pre dump keep amount memory would dumped task freeze minimum disallow running pre dump lazy page signed mike rapoport rppt linux.ibm.com signed andrei vagin avagin gmail.com,,
995,bdd4c5a852e10ce77e51b046c1ae86e45390ad22,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-12-05 09:59:24 +0000, , log use usec_per_sec instead 1000000 signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
996,66ce84e67af66c5a9cc3fcbef308e044e23fa028,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-12-06 09:46:12 +0000, , list drop unused __list_for_each macro __list_for_each equivalent list_for_each used anywhere signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
997,738d081def460487a49ea035191f11d6197585dc,ike Rapoport <rppt@linux.ibm.com>, 2018-12-05 17:21:01 +0200, , test jenkins actually test lazy migration criu lazy migration.sh copied criu lazy pages.sh updated enough actually run zdtm.py lazy migrate fix signed mike rapoport rppt linux.ibm.com signed andrei vagin avagin gmail.com,,
998,c0b7e4845c955d83abe593afef50b4d0d14b21c5,ike Rapoport <rppt@linux.ibm.com>, 2018-12-05 17:21:00 +0200, , dump lazy migration try cleanup zombie process lazy memory dump used post copy migration clean page pipe parasite zombie task although task never initialized fix signed mike rapoport rppt linux.ibm.com signed andrei vagin avagin gmail.com,,
999,c2a74d661dafcc9bbd0c1e7ab13489f9b55ef881,yrill Gorcunov <gorcunov@gmail.com>, 2018-11-15 18:14:28 +0300, , test inet raw storm test protos raw socket may carry protocol want let try signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
1000,c03c8d2129df04a0574fc5567c0f079a1b912891,yrill Gorcunov <gorcunov@gmail.com>, 2018-11-15 18:14:27 +0300, , inet raw carry zero option image otherwise might raw socket af_inet family ipproto_icmpv6 protocol surely restore signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
1001,fab1708f7faac0605f614fafb0658e42cc444760,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-11-09 21:51:26 +0000, , restore remove unused include grp.h acked cyrill gorcunov gorcunov gmail.com signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
1002,2e9490f1c23d195def69f7afacd3488905ac68e2,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-11-09 21:51:25 +0000, , remove unused include dirent.h acked cyrill gorcunov gorcunov gmail.com signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
1003,47503957200047df4e0fa838cd4d9d74d8cd26bc,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-11-09 21:51:24 +0000, , remove duplicated include statement filename sort filename uniq grep include echo filename  done acked cyrill gorcunov gorcunov gmail.com signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
1004,1bdfa1caacf5fe04e72cda83351f527291eb1db5,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-11-09 21:51:23 +0000, , replace reference map_anon map_anonymous map_anon deprecated use map_anonymous instead http lkml.org lkml 2007 acked cyrill gorcunov gorcunov gmail.com signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
1005,48a7dd3c178742e458b5092f44ee37fbf327c3f8,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-11-09 21:51:22 +0000, , remove unused include sys vfs.h acked cyrill gorcunov gorcunov gmail.com signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
1006,b6a2f5a0e6924493bbb0d1b5e1c2aec0dbaaffd8,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-11-09 21:51:21 +0000, , remove unused include sys sendfile.h acked cyrill gorcunov gorcunov gmail.com signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
1007,02018f01f19c848e1f69fc56132b74fccf45117e,ndrei Vagin <avagin@gmail.com>, 2018-11-27 20:45:45 +0300, , travis switch ubuntu xenial signed andrei vagin avagin gmail.com,,
1008,bc522bcc9489b5a299a78c598e16d217a8d8ed2d,ndrei Vagin <avagin@gmail.com>, 2018-11-27 20:45:44 +0300, , test socket tcp run iptables start test test suid socket tcp nfconntrack pidfile socket tcp nfconntrack.pid outfile socket tcp nfconntrack.out another app currently holding xtables lock perhaps want use option signed andrei vagin avagin gmail.com,,
1009,81c113e3257d13762c1fed1fe0b57e33b6d506b0,ndrei Vagin <avagin@gmail.com>, 2018-11-27 20:45:43 +0300, , test alpine add new path libxt library signed andrei vagin avagin gmail.com,,
1010,ae2ab548eba820ccbc9e831f99a99f6e82ae9479,ndrei Vagin <avagin@gmail.com>, 2018-11-27 20:45:42 +0300, , test abrt skip core dump seccomp_filter test expected behaviour signed andrei vagin avagin gmail.com,,
1011,f046de70e51d570a093acc8608cc1218500e401b,ndrei Vagin <avagin@gmail.com>, 2018-11-27 20:45:41 +0300, , socket tcp ignore sigpipe test trying write closed socket kernel sends sigpipe case perfectly normal fail test signed andrei vagin avagin gmail.com,,
1012,5be76840706f6830d6d3f2712ff351167a4b9e90,drian Reber <areber@redhat.com>, 2018-11-22 13:44:03 +0000, , fix system interface system network interface link_nsid check fails criu check feature link_nsid warn criu check.c 1237 nsid supported function nde.ifindex fails already interface ifindex patch move creation socket second network namespace feature check succeeds suggested jiri benc jbenc redhat.com signed adrian reber areber redhat.com signed andrei vagin avagin gmail.com,,
1013,d4f3c7cd5518f00df42cdae34e395494befdb685,mitry Safonov <dima@arista.com>, 2018-11-27 23:20:59 +0000, , compel provide piegen_opt_t library fix verify elf error usr lib64 undefined symbol opts acked cyrill gorcunov gorcunov gmail.com reported alexey shabalin signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
1014,7886b2572d57bacbbba40f047938f5bc287db2af,mitry Safonov <dima@arista.com>, 2018-11-27 23:20:58 +0000, , revert compel move lib file lib reverts commit 6b0292e12614 handle_binary needed preparing pie header compilation need provide api building another compel binary probably separate library libcompel iow sense handle_binary included criu criu needed build generate parasite header move handle_elf compel binary library previously corrected commit 64bb75a859cd compel drop handle elf routine library acked cyrill gorcunov gorcunov gmail.com cyrill gorcunov gorcunov gmail.com signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
1015,daddcbdccb2b8e6367c0be38abea5a7a754a61c3,mitry Safonov <dima@arista.com>, 2018-11-27 23:20:57 +0000,572, ppc64 aarch64 export __page_ shift size libcompel libcompel supply parasite page_size infection ppc64 aarch64 page_size different large page cover return __page_size moment __page_size located criu binary prevents using libcompel .so library application criu ppc64 aarch64 export __page_size __page_shift libcompel fix 572 fix 2d965008d367 ppc64 aarch64 dynamically define page_size adrian reber areber redhat.com acked cyrill gorcunov gorcunov gmail.com reported alexey shabalin signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
1016,df107d633176801aab9773b49acbe3b2d9f23347,drian Reber <areber@redhat.com>, 2018-11-29 09:24:01 +0000,577, lock network running host network namespace related http github.com checkpoint restore criu issue 577 restoring runc container running host network namespace locked network iptables restore without unlocking disables network logging running host network namespace suggested andrei vagin avagin gmail.com signed adrian reber areber redhat.com signed andrei vagin avagin gmail.com,,
1017,b71727bc81cfaa9a3bb1eb4ad0228e2561bc9a81,drian Reber <areber@redhat.com>, 2018-11-16 21:54:43 +0100, , print rpc configuration file used signed adrian reber areber redhat.com signed andrei vagin avagin gmail.com,,
1018,2543598c69bdb24b7437dcdb632236756a300446,ndrei Vagin <avagin@gmail.com>, 2018-11-27 21:00:14 +0300, , criu leak service recently introduced new mode service dupped fixed file descriptor number side effect need close old descritpor installed fix d3499999676d criu remove magic service required,,
1019,a3c47a9f2225a8541ea69f60ae03eefc061d6536,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-08-22 20:54:30 +0100, , fix typo typo found codespell signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin virtuozzo.com,,
1020,b6ff98e0656b14ad9c7dc9281006bae0fb6aa043,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-10-28 20:42:51 +0000, , pstree avoid multiple call getpid signed radostin stoyanov rstoyanov1 gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin gmail.com,,
1021,0d6bc8d1fbbee4a7345216452c641e96beb93055,yrill Gorcunov <gorcunov@gmail.com>, 2018-09-25 19:20:05 +0300, , inet raw reserve image member socket option vz7 slightly different code base field already used let reserve move raw member another number signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
1022,4e1c7f5134e2b88e69846f4d72b4fdabc803c5e1,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-09-28 16:11:35 +0300, , zdtm check criu restore auto dedup signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin gmail.com,,
1023,cfee62ac21b37d353239bfa20b73d3dec483189a,yrill Gorcunov <gorcunov@gmail.com>, 2018-09-13 22:57:55 +0300, , inet raw add socket raw test signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin gmail.com,,
1024,c2cbcaf8ac5d71844cee39087f81d6ec795eb635,yrill Gorcunov <gorcunov@gmail.com>, 2018-09-13 22:57:54 +0300, , inet raw add checkpoint restore raw socket like inet socket simply fetch additional data icmp restore back signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
1025,072778c4acf847c8f5f15798bcfedb9f8d52db9b,yrill Gorcunov <gorcunov@gmail.com>, 2018-09-13 22:57:53 +0300, , inet raw split lookup_socket helper raw socket may arbitrary protocol need different helper lookup socket signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
1026,2da21b11e23b9030ffdd4c6991e2bcd8ddce06c8,yrill Gorcunov <gorcunov@gmail.com>, 2018-09-13 22:57:52 +0300, , inet raw add preloading raw_diag module like protocol signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
1027,201e89856c09b1dac17cafdc0f9cd922dcfeeb74,yrill Gorcunov <gorcunov@gmail.com>, 2018-09-13 22:57:51 +0300, , inet raw add raw socket would pas check note allow raw sock routine reached safe modify way without breaking existing test signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
1028,76b2d8e93b211a70673cf7d429f7fa04efc46813,irill Tkhai <ktkhai@virtuozzo.com>, 2018-09-13 22:57:50 +0300, , inet raw skip ip_freebind ipv6 sock_raw socket ip_freebind supported sock_raw ipv6 socket see kernel detail rest socket begin support actual magic happens ipv6_addrform optname change sk_prot refer tcp_prot udp_prot udplite_prot contains link ip_setsockopt signed kirill tkhai ktkhai virtuozzo.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
1029,31c1955d130410a2a435a8c2c8d6497606802dd6,yrill Gorcunov <gorcunov@gmail.com>, 2018-09-13 22:57:49 +0300, , inet raw prepare gen_uncon_sk raw socket signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
1030,536e57982e393bcaea20a65b672fae7134a6b07d,yrill Gorcunov <gorcunov@gmail.com>, 2018-09-13 22:57:48 +0300, , inet raw reuse already known family type gen_uncon_sk need call do_dump_opt since params already fetched signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
1031,347980d441b18e4785f34029a9bc8e74f1f5d429,yrill Gorcunov <gorcunov@gmail.com>, 2018-09-13 22:57:47 +0300, , inet raw fetch socket type check raw allow proceed dumping since support raw socket restore yet signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
1032,47ccf9a28bf201c84b55a74d090f1ffed5a66f30,yrill Gorcunov <gorcunov@gmail.com>, 2018-09-13 22:57:46 +0300, , inet raw check kernel diag module support collect raw socket need kernel support raw_diag module signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
1033,8f1155379c28f7abd526600e43a8330a5d3b8971,yrill Gorcunov <gorcunov@gmail.com>, 2018-09-13 22:57:45 +0300, , inet raw add constant needed fetch property raw socket signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
1034,be28d924cb01f4cbfc32e01c0e36c5f6863fa087,ndrei Vagin <avagin@gmail.com>, 2019-02-05 01:46:04 +0300, , lint python ignore e117 indented recent update flake8 lot e117 warning test zdtm.py 1748 e117 indented test zdtm.py 1751 e117 indented test zdtm.py 1755 e117 indented test zdtm.py 1757 e117 indented test zdtm.py 1764 e117 indented test zdtm.py 1766 e117 indented test zdtm.py 1767 e117 indented signed andrei vagin avagin gmail.com,,
1035,d7d5f9fd2dedd966f206e5af2ed55620bbb5b6e6,ndrei Vagin <avagin@gmail.com>, 2018-10-05 18:39:45 +0300, , zdtm sigpending check relevant part siginfo recently kernel behaviour siginfo copied user space changed 4ce5f9c9e754 signal use smaller struct siginfo kernel according rt_sigqueueinfo man page caller set si_code si_pid si_uid si_value guarantee field signed andrei vagin avagin gmail.com,,
1036,c74b83cd49c00589c0c0468ba5fe685b67fdbd0a,avel Emelyanov <xemul@virtuozzo.com>, 2018-11-06 14:31:36 +0300, , criu version 3.11 workgroups release lot new stuff bugfixes mainly new code integration docker support modern hardware signed pavel emelyanov xemul virtuozzo.com,,
1037,740ae4a360c6e91cd1640a21486eb884cb58f3cf,yrill Gorcunov <gorcunov@virtuozzo.com>, 2018-10-03 14:54:11 +0300, , x86 cpu fail member present image migrating old image particular xsave member might present core image fine simply left data initial zero state http jira.sw.ru browse psbm 89215 signed cyrill gorcunov gorcunov virtuozzo.com signed andrei vagin avagin gmail.com,,
1038,deef94ce7c3a062c210283c6fa899313673d93a5,ndrei Vagin <avagin@gmail.com>, 2018-11-04 21:01:25 +0300, , test use yaml.safe_dump avoid dump without tag safe_dump produce standard yaml tag represent arbitrary python object reported jenkins signed andrei vagin avagin gmail.com,,
1039,565498a7743ba61084a0c93900832f90641c9ba9,drian Reber <areber@redhat.com>, 2018-10-29 17:05:48 +0100, , test python3 compatibility make two zdtm test script python3 compatible run zdtm system without python2 signed adrian reber areber redhat.com signed andrei vagin avagin gmail.com,,
1040,12fb7f5af06062ff7d162bec6d5f521e99ae5258,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-10-31 21:36:11 +0000, , criu clean binding criu p.haul extension moved separate repository patch remove following criu dev branch lib phaul script travis phaul removed file available http github.com checkpoint restore criu signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
1041,44a10467a621640e313979fbeefbca0d87629adc,ndrei Vagin <avagin@gmail.com>, 2018-10-29 19:22:29 +0300,544, cgroup allow specify new root controller separately controller merged patch criu required set new root specifying merged controller patch allows specify new root controller separately criu check merged controller path http github.com checkpoint restore criu issue 544 signed andrei vagin avagin gmail.com,,
1042,d01899e15b95e8077a04138b02b5afe5bf1c4f49,ndrei Vagin <avagin@gmail.com>, 2018-11-01 18:25:37 +0300, , test file_locks use f_getlk instead f_getlk64 f_getlk64 used flock64 reported jenkins,,
1043,54daec1899cf4851387d53dc4ac1d74bf3556536,ndrei Vagin <avagin@gmail.com>, 2018-11-01 07:36:15 +0300, , test file_locks use struct flock instead struct flock64 want use flock64 use fcntl64 otherwise get error like err file_locks07.c set ofd lock errno invalid argument reported jenkins signed andrei vagin avagin gmail.com,,
1044,e2bd7af94cb7b43e2c0bed0546ef83c2f3eea25c,mitry Safonov <dima@arista.com>, 2018-10-30 22:35:31 +0000, , x86 compat remove call32_from_64 helper look like one needed hard child rip signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
1045,b0c5881d5521adb6f0d73f17cbe74f1457397cae,mitry Safonov <dima@arista.com>, 2018-10-30 22:35:30 +0000,567, x86 compat use do_full_int80 instead jump ia32 mode kernel send signal abi syscall made rt_sigacation  in_ia32_syscall act sa.sa_flags sa_ia32_abi omit switching ia32 mode call int80 like place still need bit argument syscall sig action pointer call32_from_64 switch mode .text placed lower 4gb reason segfault linker place criu code 4gb oops bad fix 567 reported andrey vagin avagin gmail.com signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
1046,9ec094718176eaa003f48a3a3c797bca0645d1c7,mitry Safonov <dima@arista.com>, 2018-10-30 22:35:29 +0000, , restorer remember check ret code syscalls look like missing check potentially add trouble signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
1047,2c5e8fd7ab02fc79f0281a5952dc52848a36cafe,mitry Safonov <dima@arista.com>, 2018-10-31 00:16:14 +0000, , zdtm x86 override ebx fpu00 ebx ecx specified clobber chk_proc_fpu asm cpuid overwrites turn ebx used code position gcc 1661 call 1700 1666 add 0x6846 ebx result dereferencing ugly garbage result cpuid let use zdtm lib cpuid function instead signed dmitry safonov dima arista.com signed andrei vagin avagin gmail.com,,
1048,f25f9d57c88640b360bb2d6c1cd59423e1333ef9,ndrei Vagin <avagin@gmail.com>, 2018-10-28 02:39:43 +0300, , test file_lock01 limit maximum field width device number invalid lock info lock flock advisory read 103 1188168 eof signed andrei vagin avagin gmail.com,,
1049,eccdf07ae387765c377d29eb3ebfad4d7bc2fcf6,ndrei Vagin <avagin@gmail.com>, 2018-10-28 01:44:57 +0300, , python fix lint warning flake8 started report warning like test zdtm.py 1337 w605 invalid escape sequence signed andrei vagin avagin gmail.com,,
1050,ae6839194ad6cd0f18bebde3139c89f47680bf0e,ndrei Vagin <avagin@gmail.com>, 2018-10-15 19:24:33 +0300, , userns exit child error path one popular error call fork run child code instead exiting child process return current function error code signed andrei vagin avagin gmail.com,,
1051,de62bf764cea5ae25c2a57d8369dd1dcf4dcd602,ndrei Vagin <avagin@gmail.com>, 2018-10-15 19:22:33 +0300, , test ipc_namespace set random value ipcmni mni sysctls patch linux next added check ipc ipcmni limit check semmni ipc ipcmni limit check msgmni shmmni signed andrei vagin avagin gmail.com,,
1052,c487ad187ad88d87e066c7de577811bc9a5bb224,ndrei Vagin <avagin@gmail.com>, 2018-10-15 19:16:15 +0300, , service call cr_check child process cr_check initializes root_item call designed called directly service process signed andrei vagin avagin gmail.com,,
1053,87c036be90b2b3114ae56796b00f47782362ebbc,ndrei Vagin <avagin@gmail.com>, 2018-10-15 19:16:14 +0300, , service call kerndat_init feature check set logging call kerndat_init investigated adrian reber areber redhat.com fix 6e04f3b2dd06 criu call kerndat_init log_init signed andrei vagin avagin gmail.com,,
1054,8517bc7d27a6b535f9d418eaf30c63adbbe9b00b,ndrei Vagin <avagin@gmail.com>, 2018-10-15 19:16:13 +0300, , service use waitpid child pid known want wait specific child wait wait child signed andrei vagin avagin gmail.com,,
1055,e4d8dc6f2904d31f5c2ba8ea9d415d04365f2592,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-09-28 16:11:35 +0300, , zdtm check criu restore auto dedup signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin gmail.com,,
1056,f84ea82bb144bc32f7f06a35525f4315b03e5662,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-09-28 16:11:34 +0300, , image dedup use userns_call able open image write restoring task user namespace unable open page 3.img permission denied trying open page image write write needed memory image deduplication feature work patch make do_open_image open image usernsd root permission also increase path metadata fit remove workaround prepare_vma_ios signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin gmail.com,,
1057,76f8c09093be1a77f56c4e6f2ed4e3b1fff7d123,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-10-09 08:50:50 +0100, , crit image fix reference ipc_msg signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
1058,3b1563ebd05cae9098713bf728e61344cbe3da43,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-10-03 20:57:21 +0100, , crit image overwrite local var rename local variable pbuff avoid conflict imported module signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
1059,ac3296c39fab01f54c08fdd69fe5cf7b7282999b,ndrei Vagin <avagin@virtuozzo.com>, 2018-09-27 10:01:49 +0300, , tty allocate separate tty info external tty otherwise external tty share tty info obviously wrong allocate separate tty index range externl terminal cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin gmail.com,,
1060,37711acea00efb667dd2ca182b68e4dbcce8e3f9,ndrei Vagin <avagin@virtuozzo.com>, 2018-09-27 10:02:26 +0300, , file save inherited file descriptor fdstore case need care whether intercept restored file descriptor copied restored process need close one one signed andrei vagin avagin gmail.com,,
1061,89c5fc9b068f9a08e3c6cb5fea2b45a46aaa5b57,ndrey Vagin <avagin@virtuozzo.com>, 2018-09-20 22:22:35 +0000, , zdtm create external descriptros currently create one external resource check handled criu better create one signed andrei vagin avagin virtuozzo.com signed andrei vagin avagin gmail.com,,
1062,a96d2298760857c4701321d2bafcfea1603b1360,ndrey Vagin <avagin@virtuozzo.com>, 2018-09-20 22:22:34 +0000, , test inhfd fix lint warning signed andrei vagin avagin virtuozzo.com signed andrei vagin avagin gmail.com,,
1063,d13ff7e32aceab14c5f1323bd76ff7dea52d3053,ndrey Vagin <avagin@virtuozzo.com>, 2018-09-20 22:22:32 +0000, , lint check test inhfd script signed andrei vagin avagin virtuozzo.com signed andrei vagin avagin gmail.com,,
1064,114af54fe85661ea133617758df5300b2c1acbe0,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-10-02 15:20:31 +0300, , jenkins lazy page exclude maps04 loaded system running maps04 lazy page take much time functionality anyway covered test excluding maps04 decrease test coverage signed mike rapoport rppt signed andrei vagin avagin gmail.com,,
1065,3e7cfd114df53face3ae24e1c7c09ef1f766575b,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-10-02 15:20:30 +0300, , jenkins split common part lazy page test separate file signed mike rapoport rppt signed andrei vagin avagin gmail.com,,
1066,d9c7787ed3e49c2fe52baee0c65d87221b7f7136,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-10-02 15:20:29 +0300, , travis lazy page exclude futex test older kernel signed mike rapoport rppt signed andrei vagin avagin gmail.com,,
1067,07e53c77e1e4d0dbac3a456fc3fa87365b61b70a,yrill Gorcunov <gorcunov@gmail.com>, 2018-09-13 22:57:58 +0300, , inet readable content show method generates readable data log 00.002930 inet collected ino 0xc3f15b family af_inet type sock_dgram port 8081 state tcp_close src_addr 127.0.0.10 00.002980 inet collected ino 0xc3f159 family af_inet type sock_raw port state tcp_close src_addr 127.0.0.14 00.002984 inet collected ino 0xc3f158 family af_inet type sock_raw port state tcp_close src_addr 127.0.0.12 00.002988 inet collected ino 0xc3f156 family af_inet type sock_raw port 255 state tcp_close src_addr 0.0.0.0 00.003439 inet collected ino 0xc3f15a family af_inet6 type sock_raw port state tcp_close src_addr 00.003449 inet collected ino 0xc3f157 family af_inet6 type sock_raw port 255 state tcp_close src_addr signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
1068,e238854f4e9d051ee5e1cf592e76085b37ee5cd5,yrill Gorcunov <gorcunov@gmail.com>, 2018-09-14 11:37:05 +0300, , socket improve helper make socket readable signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
1069,18cb72ac0c1a232a9aaaf4bdfb2d8fa10cd9943b,yrill Gorcunov <gorcunov@gmail.com>, 2018-09-13 22:57:56 +0300, , net add prefix better logging signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
1070,a3a42a4ce706bebf268a6dffe622b8c6747b160b,yrill Gorcunov <gorcunov@gmail.com>, 2018-09-13 22:57:44 +0300, , compiler add nelems_as_array helper count elems accumulator signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
1071,0fb2f0e56a4e5449f649c4620630838ed5c2f881,ndrey Vagin <avagin@virtuozzo.com>, 2018-09-20 22:41:12 +0000,557, soccr print errno connect failed http github.com checkpoint restore criu issue 557 signed andrei vagin avagin virtuozzo.com acked adrian reber areber redhat.com signed andrei vagin avagin gmail.com,,
1072,19e9df29a3dd6dd2a0a23426353c6a523abaee77,yrill Gorcunov <gorcunov@gmail.com>, 2018-09-21 11:41:45 +0300, , tun add support multiple net tun file may name different net namespace consider ns_id searching particluar tun device name signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
1073,348b2d1176e533d31088ed0dbc1200eb7a83ee34,yrill Gorcunov <gorcunov@gmail.com>, 2018-09-21 11:41:44 +0300, , tun set net opening master opening tun device tricky net device allocated current net namespace thus set first otherwise tun live nested net namespace get moved toplevel one signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
1074,64664bb24b765056f53a27ed312e23dbc023473a,yrill Gorcunov <gorcunov@gmail.com>, 2018-09-21 11:41:43 +0300, , tun define log prefix signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin gmail.com,,
1075,c36b5dab05d7c5a7f95641379d3e12ac3dd6a861,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-09-23 15:31:54 +0100, , python replace xrange range py2 range return list xrange creates sequence object evaluates lazily py3 range equivalent xrange py2 signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
1076,7064cbaa350a6eb5029e71490897b7a3f6750051,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-09-23 15:31:53 +0100, , python remove unnecessary semicolon signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
1077,147660f02f0cbf1c20623b6312c426cb60c3f3a4,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-09-23 15:31:52 +0100, , convert python3 style print syntax use __future__ import keep working python2 signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
1078,7ce23b2a74196678a746d1402e5444179674c9a4,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-09-23 15:31:51 +0100, , python remove unused import auto detected pylint signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin gmail.com,,
1079,bd8fa1528ad85ebc1b7bae94b463a5135ea888b4,ndrei Vagin <avagin@virtuozzo.com>, 2018-09-21 07:46:19 +0300, , test rpc specify address page server signed andrei vagin avagin virtuozzo.com,,
1080,4416c58efe4f50ff0414c35e3869bd5c4ea9668c,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-09-13 18:28:11 +0100, , zdtm explicitly close opened file cpython currently reference counting scheme optional delayed detection cyclically linked garbage collect object soon become unreachable guaranteed collect garbage containing circular reference object contain reference external resource open file understood resource freed object garbage collected since garbage collection guaranteed happen object also provide explicit way release external resource usually close method program strongly recommended explicitly close object reference http docs.python.org 3.6 reference datamodel.html signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin virtuozzo.com,,
1081,a7c384f6eebcebc8b49655601956c18c51735672,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-09-13 18:28:07 +0100, , util enable hostname resolution tcp_client add hostname resolution change allows valid hostname provided value address option connecting page server change needed following path remove img proxy.c function hostname resolution implemented using gethostbyname however use getaddrinfo instead gethostbyname marked obsolescent posix.1 2001 removed posix.1 2008 specification signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin virtuozzo.com,,
1082,4fe75ecfc43c29594f31fa655a38cf3ea79b6cbd,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-09-13 18:28:06 +0100, , zdtm specify address remote lazy page used address option specified signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin virtuozzo.com,,
1083,29738509e4ccdd2feffae22f84333f1afa15bc8f,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-09-13 18:28:05 +0100, , remote refactor tcp server setup function defined img remote.c defined util.c similar functionality replace reduce code duplication enable ipv6 support image cache action criu set so_reuseaddr flag allow reuse local address signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin virtuozzo.com,,
1084,9388b78df1af01e529f524a75dd308ce845e3922,ndrei Vagin <avagin@virtuozzo.com>, 2018-09-13 02:41:15 +0300, , criu call kerndat_init log_init right print anything standard descriptor want output specified log file reviewed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1085,a148e87469a36dc75e263259e39ed30336343fc8,ndrei Vagin <avagin@virtuozzo.com>, 2018-09-13 02:41:14 +0300, , criu set rlimit_nofile maximum restore reviewed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1086,d3499999676dd5397cc6ec6bcfb8cf217108e975,ndrei Vagin <avagin@virtuozzo.com>, 2018-09-13 02:41:13 +0300, , criu remove magic service required service descriptor set file descriptor intercepted restored file descriptor case need restore file descriptor skip magic service save descriptor number static array reviewed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1087,04f505f62e4e9f55f1c532aa728d13269154ad3d,ndrei Vagin <avagin@virtuozzo.com>, 2018-09-13 02:41:12 +0300, , check close file descriptor check_user_ns someone remember reviewed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1088,9c40efdd19b7ab2600161c5b947a68c33dcafe6e,ndrei Vagin <avagin@virtuozzo.com>, 2018-09-13 02:41:11 +0300, , service close source file descriptor currently always creates new file descriptor going reworked reuse file descriptor possible reviewed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1089,19d3da0d9b0e38dffc5453febfb3c72a524dbe1d,yrill Gorcunov <gorcunov@gmail.com>, 2018-09-19 14:50:36 +0300, , test static tun detailed error code shrink reviewed dmitry safonov 0x7f454c46 gmail.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1090,6b8852cfcbd0d8cc7cfcfd0c0116708c9370c3a7,yrill Gorcunov <gorcunov@gmail.com>, 2018-09-19 14:50:35 +0300, , test static socket tcp check iptables success reviewed dmitry safonov 0x7f454c46 gmail.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1091,33dd782c1d57853d0dbb4498b15ebb03230294a4,yrill Gorcunov <gorcunov@gmail.com>, 2018-09-19 14:50:34 +0300, , test static tun check unshare successed reviewed dmitry safonov 0x7f454c46 gmail.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1092,1efdb547e24ddef17400bea44e1642a550dae8d5,yrill Gorcunov <gorcunov@gmail.com>, 2018-09-19 14:50:33 +0300, , test static socket tcp check unshare successed reviewed dmitry safonov 0x7f454c46 gmail.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1093,dbdd19fa1bc1b7c28c68b5aa3e67dca7bc407a49,yrill Gorcunov <gorcunov@gmail.com>, 2018-09-19 14:50:32 +0300, , test static unix mntns check unshare successed reviewed dmitry safonov 0x7f454c46 gmail.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1094,15e66624720908a4ad03231507eb71cd55716ae1,yrill Gorcunov <gorcunov@gmail.com>, 2018-09-19 14:50:31 +0300, , test static netns_sub check unshare successed reviewed dmitry safonov 0x7f454c46 gmail.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1095,9121d8b78ca30f790f871ee59621a63e0882cf82,yrill Gorcunov <gorcunov@gmail.com>, 2018-09-19 14:50:30 +0300, , test static check unshare successed reviewed dmitry safonov 0x7f454c46 gmail.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1096,caca7c1ad276d2d68f6502c7157f93f14d940782,yrill Gorcunov <gorcunov@gmail.com>, 2018-09-19 14:50:29 +0300, , test static mntns_root_bind check unshare successed reviewed dmitry safonov 0x7f454c46 gmail.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1097,76669e307be5016332afe996fc1bea11e959c5a6,yrill Gorcunov <gorcunov@gmail.com>, 2018-09-19 14:50:28 +0300, , test static mnt_ext_master check unshare successed reviewed dmitry safonov 0x7f454c46 gmail.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1098,4e212cebb6143da224f70f0e754c89b28d0b047f,yrill Gorcunov <gorcunov@gmail.com>, 2018-09-19 14:50:27 +0300, , test static mnt_ext_auto check unshare successed reviewed dmitry safonov 0x7f454c46 gmail.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1099,4ce3fc0b9800044f219fb1bdbb1fbaacc61d9a2e,ndrei Vagin <avagin@virtuozzo.com>, 2018-09-14 02:13:36 +0300, , jenkins criu lazy migration clean old file otherwise file previous build affect current one reported jenkins signed andrei vagin avagin virtuozzo.com,,
1100,b44eaddb2957ce51db41e2b846df4e44c90b1ade,yrill Gorcunov <gorcunov@gmail.com>, 2018-08-30 14:00:27 +0300, , x86 cpu require compatibility instruction level default long time demanding cpu compatible fpu frame level growing list cpu feature trigger inability restored program proceed restore due specific intructions execution avx2 note fpu frame may carry size instruction level sigill may happen restore thus let require instruction mode set verified default still one drop option via command line rpc request signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1101,51b4ca964e4cdc08887e578cdc2e4d177fa1b19f,yrill Gorcunov <gorcunov@gmail.com>, 2018-08-30 14:00:26 +0300, , x86 cpu use native uint_x type signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1102,fbb67af9fd17c8b3e8f1599dab4b4b05e83bcd22,yrill Gorcunov <gorcunov@gmail.com>, 2018-08-30 14:00:25 +0300, , x86 cpu exit early cpu cap specified since using bintmaps option exit early cpu cap specified might combination option signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1103,5d4e6bd63684196e566aab5cb7fda7576283711c,yrill Gorcunov <gorcunov@gmail.com>, 2018-08-30 14:00:24 +0300, , x86 cpu drop longer needed early exit since validation bit based longer need exit early fpu match rather need possible option several capability mode set signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmaill.com signed andrei vagin avagin virtuozzo.com,,
1104,cdd8643d640bd9d175b0a7e2a68ade13269b7872,yrill Gorcunov <gorcunov@gmail.com>, 2018-08-30 14:00:23 +0300, , x86 cpu add detailed mode description signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmaill.com signed andrei vagin avagin virtuozzo.com,,
1105,5b574fffc6b3d541cc7e25025ee375cd1ebc141d,yrill Gorcunov <gorcunov@gmail.com>, 2018-08-30 14:00:22 +0300, , x86 cpu update default cpu cap option preserve backward compatibility strict mode lay block signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmaill.com signed andrei vagin avagin virtuozzo.com,,
1106,f2bf496571a6a3fe11e83dc31c784d0733ce2052,yrill Gorcunov <gorcunov@gmail.com>, 2018-08-30 14:00:21 +0300, , x86 cpu use special bit image manipulation current scheme write verify cpuinfo image unclear define default mode fpu implies cpuinfo image get written dump read restore turn cpu mode specified command line write verify image wrong need produce image mode ecxept none specified none mode designed exactly skipping cpuinfo image production verification non default mode requires explicit cpu cap option passed use setup new cpu_cap_image telling criu write read image note default mode break backward compatibility default write read image signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmaill.com signed andrei vagin avagin virtuozzo.com,,
1107,ee478bed970117c276aeecb28c80857eea9b6eca,yrill Gorcunov <gorcunov@gmail.com>, 2018-08-30 14:00:20 +0300, , x86 cpu move strict capability mode block beginning happen escape signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmaill.com signed andrei vagin avagin virtuozzo.com,,
1108,ddd373f490febc5a147082540c7a956339084d1e,yrill Gorcunov <gorcunov@gmail.com>, 2018-08-30 14:00:19 +0300, , x86 cpu move xsave testing fpu capability block xsave size sit fpu capability block instruction strick mode checkig different thing signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmaill.com signed andrei vagin avagin virtuozzo.com,,
1109,cfc1d5644e8a2a2da9737a9e944361aa3aaf053c,yrill Gorcunov <gorcunov@gmail.com>, 2018-08-30 14:00:18 +0300, , x86 cpu use bitwise operator option check usually people simply leave cpu checkin default mode fpu level idea able compose mixture setting sake cpu_cap_ constant bit shift thus use bitwise operator time define cpu_cap_ bit shift explicitly use explicit cpu_cap_none compare needed signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmaill.com signed andrei vagin avagin virtuozzo.com,,
1110,8595dec9ac7daaf0000981a0808dc6c0e27312b9,yrill Gorcunov <gorcunov@gmail.com>, 2018-08-30 14:00:17 +0300, , x86 cpu make readable func change signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmaill.com signed andrei vagin avagin virtuozzo.com,,
1111,327e78f922da804766ac8d6864cf4b9e0d3d8ee7,yrill Gorcunov <gorcunov@gmail.com>, 2018-08-30 14:00:16 +0300, , x86 cpu save xsave frame size image keep xsave size image sure restore application override memory xsave frame size calling xsave instruction directly detail testing vz7 container migration noticed sometime application crash restore worse execution abort may happen immediately restore passing time spending lot time discovered due fact migration directed old cpu modern one extension mpx result libc cached small xsave size restore direct call xsave instruction overwrite memory allocated size needed thus save xsave frame size image require match prevent situation signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmaill.com signed andrei vagin avagin virtuozzo.com,,
1112,8b88b3fc39969c1782c00f1dc601a3cd32a143f1,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-09-11 11:09:06 +0300, , file add double slash path create_ghost signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1113,47bf04d297b319e39507f2ab0bf1592ab4a33bbd,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-09-11 11:09:05 +0300, , util fixup issubpath handle sub path ending slash fix issubpath zdtm static returned false though return true signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1114,70dd6eaad5bf95512e827787eb1b305b4c0dc96e,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-09-11 11:09:04 +0300, , mount fix typo colon operator obviously mistake instead semicolon signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1115,bfe5a85091108dd486b5abcb6ab28d5d96792d41,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-09-11 11:09:03 +0300, , mount remove leading double slash mnt_roots always slash beginning need another 00.156035 mnt move root tmp 0000000000 signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1116,cf77cfaccc22dcb1aa33e34da18dcbd929f19f42,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-09-11 11:09:02 +0300, , log add line break pr_warn find name type sed pr_warn done signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1117,b4ab1d8cbab1ee72134f03667fc0a92c7730c0f5,drian Reber <areber@redhat.com>, 2018-09-06 11:27:43 +0200, , rpc fix wrong log_level handling rpc mode log_level always reset default log level configuration file used save log level set via rpc opts.log_level configuration file overwrite later set via rpc value ignored  signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1118,ab63f168ac83af3b36eee496f662f03170778ae2,"ondo, Uchio <udzura@udzura.jp>", 2018-09-10 21:53:36 +0300, , mount add detailed error message opts.root null signed andrei vagin avagin virtuozzo.com,,
1119,ae758dc716fe27589a9f85aa599d0c63a866fadb,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-08-29 12:24:41 +0100, , config remove option option introduced december 2011 commit show rework show procedure added ability parse every single file crtools understands via magic number dumped memory page rendered two mode simple set page virtual address hexdummp fashion via command line key example crtools page 2557.img cr_fd_pages page 2557.img  7fffb44ace20 7fffb44ace30 7fffb44ace40 7fffb44ace50 pid option added april 2013 commit show filter output pid option show image info relevant given pid also reuse introduced pid argument exec action option introduced december 2013 commit show implement simple image filtering field option specifies field name comma separated printed nested field name path specified four option used combination deprecated show command decommissioned february 2016 commit show remove deprecated code show action deprecated since 1.6 let finally drop print_data routine kept yet another deprecated feature called criu exec signed radostin stoyanov rstoyanov1 gmail.com acked adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1120,3ce615caefa47d1a753ca657ec5a0afcc2ae8997,yrill Gorcunov <gorcunov@gmail.com>, 2018-08-31 13:17:13 +0300, , image packet reserve field handle message address ucreds signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1121,69f8594362c6989f56ccddceb816ae72f69b7b7d,yrill Gorcunov <gorcunov@gmail.com>, 2018-08-31 13:17:12 +0300, , image core reserve tty field signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1122,3023f4f1c8aee087f1a2fb4361cf77cda658a6e4,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-08-30 14:13:54 +0100, , util fix reversed ipv4 ipv6 port assignment signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin virtuozzo.com,,
1123,43285af929382058baca6c0add6514e809e7cfb7,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-08-23 18:18:09 +0300, , criu free memory error path fix cov 191305 signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1124,eb8dc67f3f3a5e301330466e323aaf27a27d3cd1,ndrei Vagin <avagin@virtuozzo.com>, 2018-08-29 15:23:00 +0300, , travis exclude code coverage job fails often nobody know fix signed andrei vagin avagin virtuozzo.com,,
1125,2b76b3246f31e7364e974e5a728661f461b5bb5f,ndrei Vagin <avagin@virtuozzo.com>, 2018-08-23 14:09:49 +0300, , restore avoid unterminated string cid 164715 calling strncpy maximum size argument byte destination array thread_args .comm size byte might leave destination string unterminated 3473 strncpy thread_args .comm core comm task_comm_len signed andrei vagin avagin virtuozzo.com acked cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1126,d40c702dd86fca4f7e06e6365b799c9dfa03eec5,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-08-27 14:28:56 +0100, , zdtm call criu.available run action zdtm.py executed list sub command criu_bin option defined criu.available fails python test zdtm.py list traceback recent call last file test zdtm.py line 2243 module criu.available file test zdtm.py line 1185 available os.access opts criu_bin os.x_ok keyerror criu_bin however need check existence criu_bin unless use run action signed radostin stoyanov rstoyanov1 gmail.com acked adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1127,2e7ef4f7b989cb3fa7e9e7ece8df6d937b4ca141,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-08-27 15:22:39 +0100, , mount reduce size mkey signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin virtuozzo.com,,
1128,fb7611e6eb133f45c201ab51817b1e5ebfa6221d,yrill Gorcunov <gorcunov@virtuozzo.com>, 2018-03-27 12:58:15 +0300, , unix use unsigned value inodes especially important accessing hash must negative index ever http jira.sw.ru browse psbm 82945 signed cyrill gorcunov gorcunov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1129,221f115189e5083fd7ee699c025d47d07c8bc0c3,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-08-22 20:54:30 +0100, , fix typo typo found codespell signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin virtuozzo.com,,
1130,8f0225a82f9756e8f59f9c3fa40fa3a1ffc3a16d,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-08-22 20:54:29 +0100, , mount simplify functional change signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin virtuozzo.com,,
1131,a853ccfbe04336a72a3730e4170b14c24463cd7e,drian Reber <areber@redhat.com>, 2018-08-02 13:33:28 +0000, , documentation update rpc configuration file section signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1132,5f8ee1053f9527bb877bb80339839536aade7d64,lice Frosi <alice@linux.vnet.ibm.com>, 2018-08-15 11:14:22 +0200, , s390 fix skip test supported signed alice frosi alice signed andrei vagin avagin virtuozzo.com,,
1133,23d619a53cefd20551b7d778c92a00a90371990d,ndrei Vagin <avagin@virtuozzo.com>, 2018-07-27 05:18:53 +0300, , criu add missing newlines pr_err signed andrei vagin avagin virtuozzo.com,,
1134,b939a4df020ba8a7c52499b2a1d3c01611f5626a,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-07-19 11:28:00 +0300, , dump file remove leftover commit 23b769498cb3 dump optimize searching rbtree replaced thread walk search tree search latter already found thread conflicting pid exists thing left skip thread also main thread thread group patch leftover left check something wrong index thread array number thread number current dead pid sure help initial bug duplicate might http jira.sw.ru browse psbm 55217 signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1135,ed2e5d40775a8fce02032a2bd3a38ca6a56b1c99,awel Stradomski <pstradomski@google.com>, 2018-07-30 18:47:34 +0200, , fall back opening image file readonly readwrite fails happen running user namespace auto dedup enabled right mean auto dedup get disabled signed pawel stradomski pstradomski google.com signed andrei vagin avagin virtuozzo.com,,
1136,d51695604b4ea4ffb9ca7bf70df54e00b2089f62,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-08-06 10:20:55 +0300, , file fix naming confusion regfileentry call variable type rpe everywhere similar already name oher place remove unused second argument signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1137,3795598cd55fca9abde460d9807319297fd23b12,ndrei Vagin <avagin@virtuozzo.com>, 2018-08-08 08:43:16 +0300, , zdtm handle inherit_fd rpc mode test zdtm.py set inhfd run rpc adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1138,f194124e0a822e4fa795dbd1f2252ad51c4422af,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-08-08 12:50:08 +0300, , zdtm cleanup zdtmtst cgroups finishing test running criu test docker node becomes unusable confused leftover cgroups surely docker fixed ignore custom cgroups http github.com moby moby issue 37601 leave test also rmdir holder exists remove racy wait remove wrongly added cleanup method class criu bring back missed semicolon signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1139,07da7b0f427ddeb4dd9311e5d1e8680094bd8f7e,yrill Gorcunov <gorcunov@gmail.com>, 2018-08-10 17:53:01 +0300, , compel use unsigned long argument checkpointing application really big memory slab like vz7 test 920g memory int type get cutted use long int instead like code piece otherwise get pie 756 daemon wait command 01.193097 wait ack daemon socket 01.193112 fetched ack 01.193164 988065 fdinfo flag 100002 01.193201 fdinfo type 0xb flag 0100002 01.193279 988065 fdinfo flag 100002 01.193307 fdinfo type 0xb flag 0100002 01.193341 988065 fdinfo flag 100002 01.193365 fdinfo type 0xb flag 0100002 01.193375 01.193405 error criu parasite syscall.c 243 bug criu parasite syscall.c 243 pie 756 error criu pie parasite.c 676 trimmed message received signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1140,c5f8748b7239bdae65a8beeb6329a547781f0df9,yrill Gorcunov <gorcunov@gmail.com>, 2018-08-10 18:00:51 +0300, , page xfer handle partial splicing case pipe buffer full splicing may wakeup reader first incomplete data transfer thus splice data cycle signed cyrill gorcunov gorcunov gmail.com acked mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1141,1c37c0d46b062a59da2c41fcae47ae263606aaf5,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-08-13 15:34:34 +0300, , zdtm fork print child wait status 35.640 1238 fail fork.c task 16275 exit errno child process info killing signal log add http jira.sw.ru browse psbm 87579 signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1142,787dd695b323e4b4ba3aa2349c39f58bcf0fcae7,yrill Gorcunov <gorcunov@gmail.com>, 2018-08-10 17:58:11 +0300, , pagemap use ssize_t type read_local_page integer small big memory slab signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1143,43193f620aa0ed2045dcc5076d04bf51444262c9,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-08-09 10:50:53 +0300, , net remove excess null terminating character message signed pavel tikhomirov ptikhomirov virtuozzo.com,,
1144,5432a964dcc70f050ae99f06ca8c00aa304159d9,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-08-13 16:29:13 +0300, , lazy page mark current stack page lazy signed mike rapoport rppt,,
1145,a97255cb5929eccad0b87e185deff0f454067f41,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-08-13 16:29:12 +0300, , criu mem introduce helper function signed mike rapoport rppt,,
1146,1a72f37a09c716a290c0ca49a85d7be73cac7c8d,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-08-13 16:29:11 +0300, , criu dump get stack pointer thread early stack pointer later use memory dump ensure current stack page treated lazy signed mike rapoport rppt,,
1147,af0f5f1ffec1cb10ac4e27340855958c651cd47b,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-08-13 16:29:10 +0300, , criu dump prepare parasite control thread infect time currently non leader thread initialized stop compel daemon moving initialization earlier allow make stack pointer thread available memory dump signed mike rapoport rppt,,
1148,8fae87ee7404e2184b175391cbb7afd513bdc924,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-08-13 16:29:09 +0300, , criu cleanup stale declaration parasite_ init fini _threads_seized signed mike rapoport rppt,,
1149,5f99c560826dec6f0d871a253087939967ad77f1,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-08-13 16:29:08 +0300, , compel add apis get stack pointer need know stack pointer every thread ensure current stack page treated lazy signed mike rapoport rppt acked alice frosi alice reviewed laurent dufour ldufour,,
1150,72194f06705567e34284930c0003224f21687cb5,drian Reber <areber@redhat.com>, 2018-08-09 10:12:22 +0000, , criu action script remove duplicate code signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1151,e8a1dfe8350ef1bd8d926419cc5cb335360326ea,drian Reber <areber@redhat.com>, 2018-08-09 10:12:21 +0000, , check add feature check external network namespaces obviously real check exists criu client user check criu version support external network namespace feature theoretically criu client user could also parse version especially cli user version comparison shell easy feature check doe exist rpc rpc special version call doe require string parsing external network namespace feature available criu version newer 3.9 signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1152,682390035beabeba11f65ad76103da446fb27b3a,adoslaw Burny <rburny@google.com>, 2018-08-03 12:13:43 +0200, , fix restore term number fds since process fds restored image increasing order stored sorted list criu always needed least experiment traverse whole list inserting change list traversed reverse fds inserted immediately acked kirill tkhai ktkhai virtuozzo.com signed radoslaw burny rburny google.com signed andrei vagin avagin virtuozzo.com,,
1153,a4c9efe152ebeeea4f65aaa594de565fdc0b7ab3,drian Reber <areber@redhat.com>, 2018-08-02 10:30:34 +0000, , service fix gcc error latest patch service.c broke compilation gcc criu service.c function criu service.c 323 error strncpyâ specified bound 4096 equal destination size werror stringop truncation strncpy images_dir_path opts.imgs_dir path_max  criu service.c 343 error strncpyâ specified bound 4096 equal destination size werror stringop truncation strncpy work_dir_path opts.work_dir path_max  cc1 warning treated error fix error specifying strncpy size path_max signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1154,99d52ec7dd4543010860bec50a187d93eaa72634,drian Reber <areber@redhat.com>, 2018-08-01 16:31:22 +0000, , service add support configuration file rpc mode commit possible specify configuration file via rpc python would look like path config_file commit criu configuration file handling work like apply_config global_conf apply_config user_conf apply_config environment variable apply_config config file via cli  apply_config rpc_conf rpc least probably third iteration rpc configuration file code still complicated criu option correctly used writing new value corresponding field opts structure rpc case however option output work_dir imgs_dir need special handling rpc configuration file parsed twice first time get output work_dir imgs_dir read correctly used rpc code overwrites option value set rpc interface end rpc configuration file read second time finally overwrites value set via rpc signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1155,dabe778c38820448af9075162067f5dce41c3ab8,drian Reber <areber@redhat.com>, 2018-08-01 16:31:21 +0000, , test add configuration file test via rpc test check following thing doe configuration file parsing work doe parser detect wrong option doe configuration file work via rpc configuration file option overwrite rpc setting default setup possible tell criu prefer configuration file via rpc signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1156,a5fc4687731be5980fa224553fcdfce9e4cf3e9a,drian Reber <areber@redhat.com>, 2018-08-01 16:31:20 +0000, , rpc evaluate configuration file switching rpc mode criu started rpc mode criu swrk used ignore command line option configuration file move jump rpc mode configuration file parsing enable configuration configuration file also evaluated rpc mode possible change behavior criu via configuration file used via rpc signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1157,9d225fadf2667822cbf1e3527d1c3e0cb260c8de,drian Reber <areber@redhat.com>, 2018-08-01 16:31:19 +0000, , config add support possible point environment variable criu configuration file order configuration file evaluated global etc criu default.conf user home .criu default.conf  config filename cli signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1158,eb6229af0d4502d65ef42fceb96f2ecdce7fcdfd,drian Reber <areber@redhat.com>, 2018-08-01 16:31:18 +0000, , opts use xstrdup assign char option previous change dynamically allocate memory possible configuration source three different configuration file cli rpc char option longer directly point character string extracted getopt memory might free point introduces macro set char option first doe xfree xstrdup signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1159,b427927f79d38dffeecf496c07daa9872505d063,drian Reber <areber@redhat.com>, 2018-08-01 16:31:17 +0000, , config use dynamic variable configuration file code read parse configuration file writing result global configuration file one variable result configuration file user home another variable char global_conf null char user_conf null change code dynamic memory allocation handle different configuration file used parse global config parse user config evaluate global config evaluate user config evaluate cli  parse global config evaluate global config parse user config evaluate user config evaluate cli change preparation upcoming setting configuration file via environment variable rpc configuration file usage signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1160,4bd4b5fc0908ac7725b5dbf2b463f8c347210361,drian Reber <areber@redhat.com>, 2018-08-01 16:31:16 +0000, , config move init_opts config.c move function init_opts deprecated_ok also config.c option configuration setup handling done today signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1161,f3f6edb4bf3511b30317c49d9ebedf95562e9ae2,drian Reber <areber@redhat.com>, 2018-08-01 16:31:15 +0000, , config remove unused option handling variable show_dump_file show_fmt assigned never used remove assignment cli option still exists break user interface exists unused signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1162,1bc4b8b56092ea2d5988f080fc16fdbcb9507fe2,drian Reber <areber@redhat.com>, 2018-08-01 16:31:14 +0000, , config remove unused pid option remove code around pid used command line option still available break criu user result used remove code assigning signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1163,139d2dbf0b5098c560819c411e3b1f8f47e07d17,drian Reber <areber@redhat.com>, 2018-08-01 16:31:13 +0000, , config move getopt main move whole getopt setup analysis main function config.c main motivation change able call getopt parsing configuration file parsing also rpc code path one discussion email configuration file cli rpc mode following architecture proposed apply_config global_conf apply_config user_conf apply_config pre_conf   apply_config post_conf especially last step getopt parsing need main callable rpc code path signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1164,5ef034862bfb747b8f96173d2d7940abd24ef082,ndrei Vagin <avagin@virtuozzo.com>, 2018-07-28 00:44:33 +0300, , restore check whether thread core contains comm criu restore.o criu restore.c 3470 error address array thread_args .comm always evaluate true werror wpointer bool conversion thread_args .comm  error generated signed andrei vagin avagin virtuozzo.com,,
1165,75d049c5a75fe1f11852273fea8b2f66dc97f1a5,ndrei Vagin <avagin@virtuozzo.com>, 2018-07-27 22:22:15 +0300, , revert test check criu restore auto dedup reverts commit test work right log dump zdtm transition maps007 174 restore.log grep error 00.237564 pid 00.237566 type 0xa 00.237567 pid 00.237568 pid 00.240025 error criu image.c 432 unable open page 3.img permission denied 00.270600 calling exit_usernsd 00.270640 daemon call 0x469f80 199 00.270648 daemon exit 00.271193 daemon stopped 00.271199 error criu restore.c 2308 restoring failed error signed andrei vagin avagin virtuozzo.com,,
1166,d9ea1ca1a70b35fda5b50a7c2bd83f4280ff2383,ndrei Vagin <avagin@virtuozzo.com>, 2018-07-27 21:50:49 +0300, , unix typo fix fix e8f913fbfd9d unix check length socket unix_path_max signed andrei vagin avagin virtuozzo.com,,
1167,7842fa1df27dc07f42e686a86b545f508296b75c,ndrei Vagin <avagin@virtuozzo.com>, 2018-02-01 22:29:06 +0300, , criu dump restore thread name reported å¹³ larry.lin outlook.com signed andrei vagin avagin virtuozzo.com,,
1168,682610a9fa095d10e80039c7a3025f7793a542b9,ndrei Vagin <avagin@virtuozzo.com>, 2018-07-12 23:41:45 +0300,1, unix check length socket unix_path_max cid 190774 bound access overrun overrun buffer arg overrunning array addr.sun_path 108 byte passing function access byte offset 4094 using argument name.len evaluates 4095 signed andrei vagin avagin virtuozzo.com,,
1169,80d2c2153537b517bdddeaa0e7583be8c51cdf0c,ndrei Vagin <avagin@virtuozzo.com>, 2018-07-12 23:41:44 +0300,1, mount dereference pointer null check cid 190775 dereference null check reverse_inull null checking parent suggests may null already dereferenced path leading check signed andrei vagin avagin virtuozzo.com,,
1170,8c817b2b0a6973958847ccaed5bae50e7b33d52e,ndrei Vagin <avagin@virtuozzo.com>, 2018-07-12 23:41:43 +0300,1, service leak file descriptor cid 190777 resource leak resource_leak 15. leaked_handle handle variable server_fd going scope leak handle signed andrei vagin avagin virtuozzo.com,,
1171,79fdf2081042a787521110b1f7906ce63a05a94d,drian Reber <areber@redhat.com>, 2018-07-26 11:18:06 +0200, , image add missing newlines pr_warn signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1172,f5c427116d361a226a8a8d8c28cda275dac0e7ea,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-12 15:51:42 +0300, , compel make sure hostprog built early host compel host bin must built criu time criu depend libcompel plugins part compel package signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1173,3c044783afb6201219796720da4d3c6e51044f61,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-12 15:51:41 +0300, , compel move lib file lib occasionally kept obj signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1174,9ca150867f8889b667cb63033f41fd6fc2c2713a,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-12 15:51:40 +0300, , nmk make collect deps precise target thus choose deps include example particular file build need include deps signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1175,44b670532451e550414c487a0ad2516a82596715,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-12 15:51:39 +0300, , nmk add obj lib deps gathering via helper signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1176,dfaf0868b480ea8c7265ea8c407ed2502b8dcd5c,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-12 15:51:38 +0300, , nmk add collect target deps helper signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1177,e4f62b929c56c02e1d844137dd644812bc9d288f,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-12 15:51:37 +0300, , nmk add collect hostprogs deps helper thus include hostprogs deps requested signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1178,733c5b0b6fd5de1fc44fae1360963fb050eaf1b5,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-12 15:51:36 +0300, , nmk align continuation signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1179,edbac23ffb5810b6092af4d2b8455966dc155d17,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-12 15:51:35 +0300, , nmk drop unneeded ld_flags signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1180,d3b4fbc2ac8f7f01be6f90c22a55d8820fcce5cc,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-12 15:51:34 +0300, , nmk gather reserved var top build signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1181,6ed2532b362c7cdd521922e98247146da167b6cd,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-12 15:51:33 +0300, , nmk filter already seen target collect deps signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1182,faa8bae6f214d504bd08324a4d684734a88001f2,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-12 15:51:32 +0300, , nmk include deps mrproper mrproper require inclusion deps similar clean target signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1183,314801b9f005bd0d3a6083ae8b3b4295fa0196fe,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-19 15:47:46 +0300, , x86 cpu drop feature bypassing fully support xsaves need noxsaves temporary option anymore reverts commit signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1184,bcdbe22ab9c673ccdbeb2132eb47f4aefea1e853,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-19 15:47:45 +0300, , x86 cpu allow proceed xsaves silently fully support xsaves need warning message signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1185,7f112e608454fe5fc93d5bd0677387af11ab39aa,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-19 15:47:44 +0300, , x86 cpu make detailed verification xsave element image signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1186,9166f90e5813b06d96296416215de5f3beeb67b7,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-19 15:47:43 +0300, , x86 cpu calculate number image elems runtime signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1187,7b367a11987d9184df17258a085c23b49db116e8,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-19 15:47:42 +0300, , compel arm remove code duplication arm cpu code aarch64 use symlink signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1188,d98a1eee6ee9f47a439224f836ddf540975ae949,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-19 15:47:41 +0300, , compel shrink cpuinfo fetching signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1189,af967683018c6d12ad8b8e955f4645faa88e85a1,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-19 15:47:40 +0300, , x86 add prefix log signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1190,373361723a9e85d4f17a9a724c48574d717cf058,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-19 15:47:39 +0300, , x86 cpu improve debug sake signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1191,b99be2741a94174f4823e5d84cd24e750ba4f5dc,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-19 15:47:38 +0300, , x86 cpu add support extended xsave area cpu extension avx 512 require bigger xsave area keep fpu register set allocate page per process keep checkpoint parse runtime fpu feature dump image reverse restore procedure signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1192,dd4c0c6b22d3e3ede23cff9ac43786f5f00948ec,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-19 15:47:37 +0300, , compel fpu add helper signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1193,d25af82cc05b9f98d6be7ce4623aaa1381a156ab,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-19 15:47:36 +0300, , compel fpu add signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1194,5014812df983ca0eae98ad045664f8fc8e7c2fc9,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-19 15:47:35 +0300, , compel fpu add helper signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1195,888514aee0478b758aacc36eb0f7c509366a757c,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-19 15:47:34 +0300, , compel fpu add helper signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1196,c926e2a7184c6ca4661321c0084c792005a5d7de,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-19 15:47:33 +0300, , x86 cpu save xfeature dump feature allow catch incapability early present image signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1197,3c4dfb6ef413ca40c9614b25d2fb931c72a669e2,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-19 15:47:32 +0300, , x86 cpu detect save fpu status info externd keep fpu information neded xsaves mode fetch xsaves data compel_cpuid allow extend criu support avx 512 intructions signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1198,f0fb0bc964f70bc4c890e294f0034d9609b466da,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-19 15:47:31 +0300, , x86 cpu add image definition fpu frame signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1199,e319aaa0cf489488d7796b6abea7f88a21d6e07f,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-19 15:47:30 +0300, , compiler add field_sizeof helper signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1200,bc7d57ebadc00bff01e8e90ccc2600687eb6d025,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-19 15:47:29 +0300, , log setup loglevel early printing message log file set instead keeping silence let print data default output signed cyrill gorcunov gorcunov gmail.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1201,6ef193b0a0fe7a3341f71c43a955a5ea4be6f068,ndrei Vagin <avagin@virtuozzo.com>, 2018-07-25 22:40:27 +0300, , test check criu restore auto dedup signed andrei vagin avagin virtuozzo.com,,
1202,9bb44e6f11fc1c3a099ea77cc2795164d4f5ccfd,awel Stradomski <pstradomski@google.com>, 2018-07-24 12:12:27 +0200, , punch hole input file restoring anonymous non shared memory auto dedup enabled reduces memory usage image file stored tmpfs signed pawel stradomski pstradomski google.com signed andrei vagin avagin virtuozzo.com,,
1203,69663091336e7f318ea4b0608d90a810ff81e89e,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-07-24 12:55:02 +0300, , mount fix segmentation fault can_mount_now mnt_master case master_id mnt_master set happens case access master mount instance root parent null mount external can_mount_now master mount need check mounted state also use mnt_master condition instead master_id fix segfault http jira.sw.ru browse psbm 86978 program terminated signal segmentation fault can_mount_now 0x2155970 criu mount.c 2699 2699 mnt_master child sibling gdb mnt_master struct mount_info 0x0 fix commit 3a02362c5be1 mount fix can_mount_now wait child master share properly signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1204,bab6c7b74b32bd15e0741310c876ceb6cfbca063,drian Reber <areber@redhat.com>, 2018-07-24 18:18:29 +0200, , config fix valgrind leak running criu dump pid configuration file valgrind pid doe exist give 14336 600 byte block definitely lost loss record 14336 0x4c29bc3 malloc 299 14336 0x5d387a4 getdelim usr lib64 libc 2.17.so 14336 0x439829 getline stdio.h 117 14336 0x439829 parse_config config.c 14336 0x439cb2 config.c 159 14336 0x439f75 init_config config.c 212 14336 0x439f75 parse_options config.c 487 14336 0x42499f main crtools.c 140 14336 leak summary 14336 definitely lost 600 byte block patch 17892 leak summary 17892 definitely lost byte block signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1205,15b4d9205ba2d5bd196a6e295c0f090cc53c843a,ndrei Vagin <avagin@virtuozzo.com>, 2018-07-23 19:08:54 +0300, , test others check external network namespaces acked adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1206,c2b21fbf4baa5b134e90d9daf863b770b7518c73,ndrei Vagin <avagin@virtuozzo.com>, 2018-07-24 06:14:02 +0300, , criu add support external net namespaces work like external resource user specify namespaces external dumped restore user give file descriptor preconfigured namespaces use dump external net ino key restore inherit nsfd key test script contains detail use test others netns_ext run.sh acked adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1207,3e4cecb996ad75bba7543883aa24a55da1457c24,ndrei Vagin <avagin@virtuozzo.com>, 2018-07-23 19:11:31 +0300, , net read network namespace image forking task need know namespaces external restore properly acked adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1208,3a66660e3ea0d0833563d13ba0921502de55aff1,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-06-25 15:53:37 +0300, , zdtm shared option lost bind mount 1150 1371 169 zdtm static relatime shared 920 tmpfs zdtm_fs 1151 1150 170 zdtm static share1 relatime shared 921 tmpfs share 1152 1150 170 zdtm static share2 relatime shared 921 tmpfs share 1153 1151 169 source zdtm static share1 child relatime tmpfs zdtm_fs 1154 1152 169 source zdtm static share2 child relatime tmpfs zdtm_fs signed pavel tikhomirov ptikhomirov virtuozzo.com,,
1209,6c81e8773e61f9789aebfddd546e5be6bae3ac9f,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-06-25 15:53:36 +0300, , zdtm.py also check sharing option restored mount already check root mountpoint pair preserve root mountpoint shared slave four signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1210,868de91a099c00f099d8a41557d660d173f72521,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-07-02 21:43:45 +0100, , kdat open run criu.kdat exists criu called first time run criu.kdat file doe exists following warning shown warn criu kerndat.c 847 load run criu.kdat patch replacing warning appropriate debug message file run criu.kdat doe exist signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin virtuozzo.com,,
1211,e54d0d26ba634328fca71d6b4fe017ee0f76e2c5,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-07-11 13:43:33 +0300,520, mount fix regression open_mountpoint failed readonly fail create temporary directory clean mount make mount clean reusing code enters new mountns umount overmounts last process exit mntns mount implicitly cleaned child see kernel source sys_exit do_exit free_nsproxy put_mnt_ns umount_tree umount_tree hide mount mnt_mounts tmp_list mnt_list list_del_init mnt_child  fix commit b6cfb1ce2948 mount make open_mountpoint handle overmouts properly http github.com checkpoint restore criu issue 520 signed pavel tikhomirov ptikhomirov virtuozzo.com acked adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1212,382756a4f5d63e8d87e0f6d857d7ce2482dbb755,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-07-10 19:02:31 +0300, , zdtm add test non uniform share create tree shared mount shared mount different set child root first share1 mounted shared tmpfs second share1 child1 mounted inside third share1 bind mounted share2 share1 share2 shared share2 child fourth share1 child2 bind mounted share1 also propagated share2 child2 except share1 child1 shared fifth share1 child3 mounted propagates inside share finally four mount shared different set child mount even two child another two 495 494 zdtm static share1 relatime shared 235 tmpfs share 496 495 zdtm static share1 child1 relatime shared 236 tmpfs child1 497 494 zdtm static share2 relatime shared 235 tmpfs share 498 495 zdtm static share1 child2 relatime shared 235 tmpfs share 499 497 zdtm static share2 child2 relatime shared 235 tmpfs share 500 495 zdtm static share1 child3 relatime shared 237 tmpfs child3 503 497 zdtm static share2 child3 relatime shared 237 tmpfs child3 502 499 zdtm static share2 child2 child3 relatime shared 237 tmpfs child3 501 498 zdtm static share1 child2 child3 relatime shared 237 tmpfs child3 signed pavel tikhomirov ptikhomirov virtuozzo.com,,
1213,c9cf0b4a08b3fbe9e47a461b8886b197344d099b,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-07-10 19:02:30 +0300, , mount remove validate_shared allow non uniform sharing signed pavel tikhomirov ptikhomirov virtuozzo.com,,
1214,69535342cb9a02d922e15cf55e96eda14a8aa19a,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-07-10 19:02:29 +0300, , mount use propagation group propagate_mount replacing excess search also fix false propagation problem mount parent share signed pavel tikhomirov ptikhomirov virtuozzo.com,,
1215,545b07368cb9f494c78fedc9c028f6bf242158ee,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-07-10 19:02:28 +0300, , mount improve can_mount_now using propagation group redo waiting parent propagation group mounted using pre found propagation group shared mount wait child shared group propagation shared mount effectively support non uniform share mean two mount shared group different set child mount right order propagate_mount validate_shared still preventing ing share fix former remove latter separate next patch signed pavel tikhomirov ptikhomirov virtuozzo.com,,
1216,bc930d120e70e9c219cb1dfc8e23c08ad5e06b6a,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-07-10 19:02:27 +0300, , mount put mount propagate list information help improving restore tricky mount configuration function check two mount created simultaneousely shared mount propagation main part exaclty place inside share parent function print mountpoint path relative root parent share first substracting parent mountpoint mountpoint second prepending parent root path relative root file system e.g parent_id root mountpoint  parent_a dir parent_b parent_a dir parent_b let shared group mount give parent_a dir parent_a dir dir dir mount parent_b parent_b dir dir mount propagation group signed pavel tikhomirov ptikhomirov virtuozzo.com,,
1217,24bd5fcfff4ffc5c3cc648691a53ab288f0ce69e,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-07-10 19:02:26 +0300, , zdtm check child shared slave restore 495 494 zdtm static share relatime shared 235 tmpfs share 496 494 zdtm static slave1 relatime shared 236 master 235 tmpfs share 497 494 zdtm static slave2 relatime shared 236 master 235 tmpfs share 498 496 zdtm static slave1 child relatime shared 237 tmpfs child 499 497 zdtm static slave2 child relatime shared 237 tmpfs child fix 00.167574 error criu mount.c 1769 mnt mount point mounted 00.167577 error criu mount.c 1773 mnt 498 496 tmp 0000000000 zdtm static slave1 child child 00.167580 error criu mount.c 1773 mnt 497 494 tmp 0000000000 zdtm static slave2 share signed pavel tikhomirov ptikhomirov virtuozzo.com,,
1218,64586567aeff18a500983162c28cc17a6288f9c3,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-07-10 19:02:25 +0300, , mount fix can_mount_now wait child master share properly use bind link checking master child two slave shared one mounted first replace bind link break restore also want doubled mount want prohibit propagation slave restore likely want child whole master share mounted slave jfyi actually restriction strict case fail restore instance hope nobody doe mkdir test mount tmpfs test test mount make private test mkdir test share slave mount tmpfs share test share make shared mount bind test share test slave mount make slave test slave mount make shared test slave mkdir test share slave mount bind test slave test share slave cat proc self mountinfo grep test 524 612 test relatime tmpfs test 570 524 test share relatime shared 879 tmpfs share 571 524 test slave relatime shared 942 master 879 tmpfs share 602 570 test share slave relatime shared 942 master 879 tmpfs share 603 571 test slave slave relatime shared 943 master 942 tmpfs share 603 propagation 602 master 570 slave 571 way get mount 571 602 one shared group later mount propagate create dublicated mount create real 603 without dups need test slave mounted test share slave contradicts current assumption signed pavel tikhomirov ptikhomirov virtuozzo.com,,
1219,fc01e18b4773da04f12ab3ddaa401f46eba09490,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-07-10 19:02:24 +0300, , zdtm add test unsupported child collision test automatic kernel v4.11 behaviour change older kernel get child collision 817 188 zdtm static share1 relatime shared 942 tmpfs share 818 817 124 zdtm static share1 child relatime shared 943 tmpfs child1 819 188 zdtm static share2 relatime shared 942 tmpfs share 820 819 125 zdtm static share2 child relatime shared 944 tmpfs child2 821 817 125 zdtm static share1 child relatime shared 944 tmpfs child2 signed pavel tikhomirov ptikhomirov virtuozzo.com,,
1220,f167a1dd344e6f5c163414ea9489f74dcd912cf1,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-07-10 19:02:23 +0300, , mount add helper check unsupported child collision see detailed explanation inside code comment note actually remove validate_mounts later patchset likely get check fail earlier child collision implies shared mount different set child note v4.11 kernel commit 1064f874abc0 mnt tuck mount others instead creating shadow side mount mount collision signed pavel tikhomirov ptikhomirov virtuozzo.com,,
1221,35fbc373a95d9077dd0dcc4737b3a9de486ebf48,drian Reber <areber@redhat.com>, 2018-06-29 12:50:07 +0000, , test rpc remove unnecessary import close signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1222,0a859275ef93de89e144a79f26f1cf081bd35f4f,yrill Gorcunov <gorcunov@gmail.com>, 2018-06-27 14:55:10 +0300, , fdstore unlimit fdstore queue start use fdstore intensively example handling bindmounted socket ghost dgram socket system limit per socket queue may enough someone generate lot ghost socket 150 detected default fedora make operatable let unlimit fdstore queue size startup signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1223,077409c19705fe7a1fb36ad9d7caf66eeb241ce1,drian Reber <areber@redhat.com>, 2018-07-09 06:28:27 +0000, , travis fix rawhide test also installing sudo signed adrian reber areber redhat.com acked radostin stoyanov rstoyanov1 gmail.com acked radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin virtuozzo.com,,
1224,bdbd7c8f14ddebd4fbc5e1bc77f9dcb17831c966,ndrei Vagin <avagin@virtuozzo.com>, 2018-07-04 18:51:47 +0300, , zdtm static add test check epoll file descriptor signed andrei vagin avagin virtuozzo.com,,
1225,4e8ca613d3d59c3e3a300768c8278cc308f0c7ef,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-04 18:51:46 +0300, , epoll use epoll queue speedup multiple duped fds dumping epoll one target duped reuse already collected fds rbtree find proper target handle lazy way try use plain regular bsearch first case target duped checkpoint epoll immediately bsearch failed put epoll entry queue run dumping later file process already dumped moment fds tree already target file rbtree thus simply lookup signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1226,605b9be8156809cda5db82e794340c0a5e8caebe,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-04 18:51:45 +0300, , file make_gen_id promote general helper used file tree generation need reuse epoll sake also use whole bit offset shuffle bit signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1227,67bd254a0dd76fbb97c4a6d1f12c4c324f9b3ba3,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-04 18:51:44 +0300, , epoll add helper find target file help collected rbtree signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1228,d026ba1cdd16b72066a784d89eab00921c490d78,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-04 18:51:43 +0300, , epoll exit error tfd missing find target file descriptor exit dump error instead skipping signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1229,fa989970ec79c3d7478895c349c74a507252b545,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-04 18:51:42 +0300, , epoll save field target file use fast lookup target file signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1230,ca8144b7f765303f961aeeb35347257f548e2424,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-04 18:51:41 +0300, , epoll add kcmp_epoll check run epoll test supported signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1231,071cc1e1fab68025595482678e34aace1f5bb22d,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-04 18:51:40 +0300, , epoll align member assignment readability sake signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1232,3d280e02835ca3e2e4cf070b757a778da1302699,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-04 18:51:39 +0300, , epoll print efd showing target figure efd tfd mapping easier reading log signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1233,f15fe7cfb3ac4913e3329c20e46ee94a9406fa0c,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-04 18:51:38 +0300, , epoll show tfd decimal form easier match reading log signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1234,50e1be4514fd342d57720825b4206badafa237c8,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-04 18:51:37 +0300, , epoll add support multiple duped fds signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1235,cfa3f405d522334076fc4d687bd077bee3186ccf,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-04 18:51:36 +0300, , epoll use kcmp find proper target file target file obtained epoll fdinfo internally kernel keep file _number_ inside check identity make sure exactly one added epoll engine proper way use kcmp syscall signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1236,1804d6f3bc09ab2d7f56ceb98cad6ff19bab0ce4,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-04 18:51:35 +0300, , epoll use real file transferred target fds check checkpoiting epoll target assuming target file belonging process course true without kernel support thing compare number one present epoll fdinfo numer match assume indeed file added epoll cover case file moved number new one reopened instead scenario trigger false positive anything next patch kernel help make precise check file identity signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1237,070720d44beafbfa193955c41f93fe4516e601e3,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-04 18:51:34 +0300, , epoll pas drained fds dump_one_file epoll dumping need whole set fds investigate target pas parameter epoll code signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1238,08603fa6ab0737915e82d721b31853752d43ed94,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-04 18:51:33 +0300, , epoll kdat check kcmp_epoll_tfd support need make sure target file epolls present current process signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1239,7c72478f979af7e305025d93dcb7054a145083b7,yrill Gorcunov <gorcunov@gmail.com>, 2018-07-04 18:51:32 +0300, , kcmp add epoll definition signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1240,40c986ca3e1aadde068416ff8248a4de888acc07,yrill Gorcunov <gorcunov@openvz.org>, 2018-07-04 18:51:31 +0300, , kcmp drop empty line eof signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1241,77a6fcb98a47e761b94dbc750fb2f6bdc49c2b6d,yrill Gorcunov <gorcunov@openvz.org>, 2018-07-04 18:51:30 +0300, , kcmp beautify kcmp ids.h aling memebers use pid_t type pid signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1242,6cb36a1e08c22e9f4256eb219d90a5d12cc4ec28,yrill Gorcunov <gorcunov@openvz.org>, 2018-07-04 18:51:29 +0300, , kcmp cleanup source switch use uintx type drop finally worth carry type instead including huge util.h rather include file really needed log xmalloc compiler bug signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1243,d6ec8347570a4e361dc29614844f4b7484b33796,ndrei Vagin <avagin@virtuozzo.com>, 2018-07-03 02:52:14 +0300, , zdtm handle error make signed andrei vagin avagin virtuozzo.com,,
1244,b58eed2a6d652902e26fe22ef6e75726f3e57059,yrill Gorcunov <gorcunov@openvz.org>, 2017-03-17 17:55:08 +0300, , image tty reserve entry multiple devpts support signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1245,c983d5f9fdb91dd8f3a2e26c779f3375b649666b,yrill Gorcunov <gorcunov@openvz.org>, 2017-03-17 17:55:06 +0300, , image netlink reserve entry netlink queued message signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1246,7a680d7ba025b49219bb92b7cf5a82e65b6ff013,yrill Gorcunov <gorcunov@openvz.org>, 2017-03-17 17:55:05 +0300, , image inet reserve entry raw socket signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1247,26aadb5acbef327441d7cc10b9675fa907ef0664,yrill Gorcunov <gorcunov@openvz.org>, 2017-03-17 17:55:04 +0300, , image remap file path reserve entry spf manager signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1248,53a11dfc5c45a132459249fd6d37feac25247d98,irill Tkhai <ktkhai@virtuozzo.com>, 2017-05-16 19:27:07 +0300, , forking use last_pid_mutex synchronization clone patch used flock order task creation way good took syscalls synchronize creation single child open flock lock_ex flock lock_un close parent close child patch introduces effective way synchronization executes syscalls use last_pid_mutex syscalls number sound definitely better use flock signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1249,9a64e0032a468222234723c599841f7a2ccd9e9f,irill Tkhai <ktkhai@virtuozzo.com>, 2017-05-16 19:26:59 +0300, , forking introduce last_pid_mutex helper introduce mutex synchronization ns_last_pid file restore signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1250,dc1e3b59ff7da8dd264dc28693a913e313d39fee,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-25 15:35:47 +0300, , check make compat_cr warning arch independent think warn user compatible application valid different x86 arch let correct message way suit non x86 reported adrian reber areber redhat.com signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1251,33fb955ef4c9198d96caf3d04ce04ce4589610c3,ndrei Vagin <avagin@virtuozzo.com>, 2017-10-21 00:01:13 +0300, , restore call free_mappings uninitialized list vma_area_list entry 0x818 criu dump.c 107 107 vma_area vma_area_list list signed andrei vagin avagin virtuozzo.com,,
1252,4d164327b871ac876069f826393a136693154859,ndrei Vagin <avagin@virtuozzo.com>, 2018-07-11 00:36:11 +0300, , restore set uid git onto zero otherwise fail non root user run criu restore criu suid bit process run non zero uid gid 4.13 kernel 4d28df6152aa prctl allow local cap_sys_admin changing exe_file fails uid gid zero signed andrei vagin avagin virtuozzo.com,,
1253,ae55a6ccd5fc9a1de6894a4d39e96e4b2c7e99b0,drian Reber <areber@redhat.com>, 2018-06-28 12:43:28 +0000, , test fix build alpine centos install sudo create test user 1000 install bash fix pidfile creation pidfile chmod  use sleep give criu daemon time start  andrei course right sleep good solution adding status support criu service detect criu ready  much complicated expected related different version tool different travis test target seems bug bash ubuntu http lists.gnu.org archive html bug bash 2017 msg00039.html prevents using read ubuntu workaround result criu status read via python another problem discovered alpine loop restore test criu say use setsid even process already using setsid workaround still setsid process using shell job true checkpoint restore part committed change commit partially already another commit signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1254,7ae8d6e3348abd1374a851ec0b2b5b0cafb626b9,drian Reber <areber@redhat.com>, 2018-06-28 12:43:27 +0000, , criu service support status make status option also work criu service mode avoid race condition testing signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1255,2c5b2785edd04397ca9da480938c25d59f1cbcca,drian Reber <areber@redhat.com>, 2018-06-21 21:10:38 +0000, , test fix build alpine centos install sudo create test user 1000 install bash fix pidfile creation pidfile chmod  use sleep give criu daemon time start signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1256,6a49d037aa309f53579c5637d9f0d067ea75ff21,drian Reber <areber@redhat.com>, 2018-05-31 09:00:05 +0000, , travis run test rpc test signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1257,46b35b2c2f92f7760e51ab4674e3f00b9262ea30,drian Reber <areber@redhat.com>, 2018-05-31 09:00:04 +0000, , test others rpc also run rpc version command via service extends test.py also run rpc command version via criu service already running using criu swrk signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1258,03d636afedfd366d3fe9daa8b312fd42b99765fa,drian Reber <areber@redhat.com>, 2018-05-31 09:00:03 +0000, , test rpc resurrect rpc test case directory various test case using criu rpc mode swrk mode fix broken test moving start criu service run.sh makefile test case running using sudo 1000 1000 pid file created criu read root user starting criu service run.sh pid file still changed 0666 fixing test script also add version.py test case executed signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1259,2280a6eecf67065210432f4c9172f736f0bacb58,ndrei Vagin <avagin@virtuozzo.com>, 2018-05-10 06:36:58 +0300, , config check unhandled parameter config return error meet unexpected parameter config file veronika kabatova vkabatov redhat.com signed andrei vagin avagin virtuozzo.com,,
1260,ba98bae9022476e4e00eeb81b9454efad1befe0d,ndrei Vagin <avagin@virtuozzo.com>, 2018-05-09 09:28:28 +0300, , config initialize last element config argv null rely scanf initializes pointer null fails parse string find man page  signed andrei vagin avagin virtuozzo.com,,
1261,a21d8f1ca175e6dfa739deab6059143d8dc4fbf0,ndrei Vagin <avagin@virtuozzo.com>, 2018-05-09 09:28:27 +0300, , config skip space beginning line otherwise line started space ignored veronika kabatova vkabatov redhat.com signed andrei vagin avagin virtuozzo.com,,
1262,c1a4545a850f222c97c313b50e4a388c2e2fc383,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-05-09 17:17:52 +0300, , criu config reduce number argv traversal instead pre parsing command line twice one time detect help another time find config file parameter check one pas signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1263,30cbb11190d5cf4a8c78a7bf20c0b7d64813eb8f,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-05-09 17:17:51 +0300, , criu config allow init_config properly handle help config parsing split separate part handling help option init_config broken fix signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1264,0322077dbb777a28e7f43b3e47d08d922568f23d,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-05-09 17:17:50 +0300, , criu config rename variable counting option config file first_count global_cfg_argc second_count user_cfg_argc signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1265,b65c79194d5fd69eba915fb6a1c0b941f230768a,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-04-26 18:52:18 +0300, , criu fix criu version currently kerndat_init run command line parsing running simple criu version command may produce something like warn criu kerndat.c 847 load run criu.kdat error criu util.c 842 exited status error criu util.c 842 exited status write 4294967295 proc self loginuid failed operation permittedwarn criu net.c 2732 unable get socket network namespace warn criu net.c 2732 unable get tun network namespace warn criu unix.c 213 unix unable open socket file operation permitted error criu net.c 3023 unable create network namespace operation permitted warn criu net.c 3069 nsid reported network link version 3.6 gitid v3.6 611 g0b27d0a group early call kerndat_ init_service_fd call function call function command line parsing finished signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1266,32833597c7dfab4a5b1450c7127719b7eeda897d,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-04-26 18:52:17 +0300, , criu split configuration parsing separate file signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1267,7c9e7cfc3e8690d350876bda1c8fda9763d395cf,eronika Kabatova <vkabatov@redhat.com>, 2017-06-20 15:14:12 +0200, , modify add test configuration file functionality creating test verifying configuration parsing feature test created reusing already present inotify_irmap test addition default configuration file default config option added zdtm.py break test suite system file present signed veronika kabatova vkabatov redhat.com signed andrei vagin avagin virtuozzo.com,,
1268,5f3853e035d17d902968955c460b4a2d3d1c6647,eronika Kabatova <vkabatov@redhat.com>, 2017-06-20 15:14:11 +0200, , add documentation configuration file signed veronika kabatova vkabatov redhat.com signed andrei vagin avagin virtuozzo.com,,
1269,98415541a09441162c76aac77254cd4741a8fdf9,eronika Kabatova <vkabatov@redhat.com>, 2017-06-20 15:14:10 +0200, , add support configuration file implementation change usage simple configuration file parsing command line option either default configuration file etc criu default.conf home .criu default.conf order parsed specific config file passed user two new option introduced config filepath option allows user specify single configuration file want use default config option forbid parsing default configuration file option passed via command line usage configuration file mandatory keep backwards compatibility implementation feature try compatible command line usage user get result whether pass option right order parsing command line writes config file allows user override boolean option needed specify partial configuration option possible pas several time e.g external pas rest option based process runtime command line configuration file syntax allows comment marked sign rest line ignored user use one option per line argument supplied line needed divided whitespace character option long option without prefix used command line configuration file example syntax purpose make sense cat .criu default.conf tcp established work dir home username criu work_directory extra inline comment restore sibling tree 111111 signed veronika kabatova vkabatov redhat.com signed andrei vagin avagin virtuozzo.com,,
1270,d3ecc80ea05cd7598d5a4f603d8dd6a6e055ff4b,odrigo Bruno <rbruno@gsd.inesc-id.pt>, 2017-02-11 04:34:39 +0100, , img introduce o_force_local flag image criu image desc.c criu image.c criu include image.h file changed insertion deletion order prepare remote snapshot possible image proxy image cache o_force_local flag added force image remote stay local file file system signed rodrigo bruno rbruno gsd.inesc id.pt signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1271,3f994bcfc3adc51780c2b67f76286dd5535d0a86,avel Emelyanov <xemul@virtuozzo.com>, 2017-01-25 19:19:00 +0300, , lib add simple wrapper swrk mode need doc api criu makecriu criu.dump opts notify criu.restore opts notify criu.predump opts notify opts opts object rpc.proto almost native support caller compile .proto file export golang protobuf proto create initialize criuopts struct notify interface callback correspond criu notification message stupid dump restore tool src test main.go demonstrates change since added keep_open mode pre dump use one need call criu.prepare right creation criu.cleanup right .dump report resp.cr_errmsg string request error todo doc code comment travis success libphaul rev2 signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1272,e51960ea3e5345d5b24446ca86584f9ed5439392,avel Emelyanov <xemul@virtuozzo.com>, 2016-12-09 16:59:00 +0300, , test pipe exhaustive test shared pipe next test enumerates possible state check criu well time pipe goal test load sharing engine pipe chosen generate shared struct file also produce descriptor criu fdesc open callback handled separately implemented slightly differently unix test since want check sequence syscalls object need check task pipe relation possible way state several task several pipe generated test includes pipe end sitting possible combination task fdts also note state seem equal e.g pipe task pipe really different criu pick pipe restorer based task pid whether picked task read end write end fdt make difference restore number task limited task option number pipe pipe one test run generates state make check restored result proc pid proc pid fdinfo restored task analyzed right criu work task pipe check kirill please check patch pas test todo randomize fds task see pipe task pipe see set fds signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1273,e098b119f3480418c43431beb04f700d1e87f19f,avel Emelyanov <xemul@virtuozzo.com>, 2016-12-07 17:19:00 +0300, , test unix exhaustive testing state exhaustive testing understand test suite generates much state try possible trying possible sequence system call since generation done linux api support criu would produce bazillions process propose start something simple starting point unix stream socket abstract name created used single process script generates situation unix socket get using pre defined set system call patch syscalls socket listen bind accept connect send also nummber system call use i.e depth tree limited depth option three thing done generated state generate show generation done recursively everything possible make sence given state reduce size tree meaningless branch cut e.g creating socket closing right creating two similar socket one one  shown screen cryptic string e.g mx_sbl one describing socket state decoded socket delimited first type stream datagram next name state name name socket table i.e closed yet accepted next may letter meaning socket listening socket connected peer name state ixyz socket incoming connection queue xyz connect name state mxyz socket message xyz sender name state example mean two socket stream name connected dead one message dead one sbl stream name listening next printed sequence system call get e.g get state socket bind name listen socket connect name accept send message send message close program created stream socket bound listened created another stream socket connected 1st one accepted connection sent two message vice versa closed accepted end 1st socket left connected dead socket message run state test actually creates process doe syscalls required get generated state hopefully get iii check state trickiest part come step clear validate state restored correct trying dump state calling criu dump image dir state string description used one may choose generate state gen option one may choose run state run option latter useful verify state generator actually producing valid state option given state also dump restore come later usage experience like going depth gen i.e generating possible state acheivable syscalls produce unique state 0.01 second generated result cover static test zdtm generation stats like depth 1.1 sec state depth 13.2 sec state depth sec 101 state running trying criu checked depth criu fails dump state mx_sbl shown error error criu queue.c 151 recvmsg fail error connection reset peer nearest plan add generator disk socket name oly abstract interesting case name overlap one socket get name another accessible add datagram socket fun look many one connection generated checked add socketpair farther plan cut tree better allow deeper tree scan add restore add scm exhaustive testing resource change since added dgram socket dgram socket trickier stream reconnect one peer another thus limiting tree depth result wierd state socket change peer patch new socket added state old one reported nothing done limited amount stupid branch strategy work dgram due reconnect due change added socket option limit amount socket allowed throw new socket state step made lot interesting state dgram one added restore stage check process restore script performs much check possible expected state description memory check verify value get real socket match expectation generated state socket name listen state pending connection message queue sender checked connectivity latter checked last queue empty sending control message socket.recv method added keep option run test even one fails print nice summary end far test found several issue dump work half closed connection unread message pending half closed connection restored socket name restored message restored new todo check listen state still possible accept connection add socketpair add disk name add scm exhaustive script resource signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1274,39a2602f3e0279d435eb1668febf438ee188cf5f,yrill Gorcunov <gorcunov@gmail.com>, 2018-06-19 22:52:21 +0300, , x86 cpu proceed even xsavec detected dev reason andrew reported previously able even machine xsavec enabled allow process  p.s.i investigating problem block testing process let permit passing xsaves bit present signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1275,bda258766f5c423ab3dfc84ec48289cdfa870a1e,yrill Gorcunov <gorcunov@gmail.com>, 2018-06-14 20:27:30 +0300, , x86 cpu show exactly feature failing fpu capability mode easier understanding failed reviewed dmitry safonov 0x7f454c46 gmail.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1276,d8ff54e6925db54e348d037306ad197a67b264c6,yrill Gorcunov <gorcunov@gmail.com>, 2018-06-14 20:27:29 +0300, , x86 cpu use information since might filtered new cpu cap noxsaves mode x86 use compel instance info since carry feature masked reviewed dmitry safonov 0x7f454c46 gmail.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1277,7680c27b0d33284f540d4c8db911856978b1915e,yrill Gorcunov <gorcunov@gmail.com>, 2018-06-14 20:27:28 +0300, , x86 cpu add ability ignore xsaves currently even kernel support compact xsave frame user disable passing noxsaves argument boot option thus cpuid instruction report presence real gon masked kernel pov let allow user mask via cpu cap noxsaves option valid x86 reviewed dmitry safonov 0x7f454c46 gmail.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1278,18be1a83a94b372b79c8057204fc7d738ab849d5,yrill Gorcunov <gorcunov@gmail.com>, 2018-06-14 20:27:27 +0300, , compel cpu add ability clear feature need mask feature command line option signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1279,f25f91e5e8e99f7657eef77eff3a305d5f0f4680,yrill Gorcunov <gorcunov@gmail.com>, 2018-06-14 20:27:26 +0300, , x86 cpu report unsupported compact xsave frame detected yet support compacted xsave frame report error cpu check checkpoint restore action basically done cpu_init routine called site interested reviewed dmitry safonov 0x7f454c46 gmail.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1280,bb760d88292d970201e1c28f776343c151cda3cf,yrill Gorcunov <gorcunov@gmail.com>, 2018-06-14 20:27:25 +0300, , x86 cpu check xsaves bit cpu validation reviewed dmitry safonov 0x7f454c46 gmail.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1281,c2905da5814493135c7c3c9ecb4ea7314c01d95d,yrill Gorcunov <gorcunov@gmail.com>, 2018-06-14 20:27:24 +0300, , x86 cpu show additional xsave info init debug sake reviewed dmitry safonov 0x7f454c46 gmail.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1282,6d6840075e7231f8da0920ff1f6d2c79ed3b845f,yrill Gorcunov <gorcunov@gmail.com>, 2018-06-14 20:27:23 +0300, , x86 cpu add new instruction bit check reviewed dmitry safonov 0x7f454c46 gmail.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1283,3d30627082c413e1020d8719784910d9225d6262,yrill Gorcunov <gorcunov@gmail.com>, 2018-06-14 20:27:22 +0300, , x86 cpu sync bit kernel tracking cpuid feature easier sync kernel source code note though kernel feature bit part abi saving bit image result make sure posted proper place together keeping mind backward compatibility issue also start using cpuinfo image feature bit reviewed dmitry safonov 0x7f454c46 gmail.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1284,380df8a605ea8c0d88e1c6f7a5ed205547928600,ndrei Vagin <avagin@virtuozzo.com>, 2018-04-28 10:59:17 +0300,479, inventory save dump_uptime criu dump track_mem set set image criu dump used previous point snapshot case point contains full set image http github.com checkpoint restore criu issue 479 return failed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com reviewed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1285,c49eab368a68682475c4e693258246e04232e6d2,ndrei Vagin <avagin@virtuozzo.com>, 2018-07-10 07:04:49 +0300, , criu version 3.10 signed andrei vagin avagin virtuozzo.com,,
1286,fc11d59db11c8f3b7e43e93f6a0cbfee153f077a,drian Reber <areber@redhat.com>, 2018-06-28 09:46:45 +0000, , travis fix building s390x travis build s390x started fail failed fetch http debian security dists jessie update inrelease unable find expected entry main binary s390x package release file wrong sources.list entry malformed file change repository definition like done ppc64le signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1287,5c76d061866ea5d62e3faec19caf56bd6dcc3eca,ndrei Vagin <avagin@virtuozzo.com>, 2018-06-09 20:30:48 +0300, , zdtm open notify file descriptor binary mode send pre dump notify traceback recent call last file zdtm.py line 2161 module do_run_test tinfo tinfo tinfo tinfo file zdtm.py line 1549 do_run_test cr_api opts file zdtm.py line 1264  file zdtm.py line 490 pre_dump_notify fdin.write struct.pack typeerror write argument must unicode str signed andrei vagin avagin virtuozzo.com,,
1288,a9e29bc5961a327e451102be24af93e99ec8bb3f,drian Reber <areber@redhat.com>, 2018-05-09 17:08:27 +0000, , fix building unlink_fstat00 unlink test case signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1289,b988fae54436cf110a3d3c15e3cff68e44def60f,ndrei Vagin <avagin@virtuozzo.com>, 2017-10-05 23:17:05 +0300, , travis docker test use make install criu signed andrei vagin avagin virtuozzo.com,,
1290,4d9bf608b59b6e323f346b0beb956b02ecbef294,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-04-06 10:31:32 +0300, , zdtm check pid reuse doe break iterative memory dump idea test mmap separate page put variable usage doe dirty region initialize variable value_a fork child special pid child_ns_pid first child overwrite variable value_b wait end next predump end restore pair kill child note memory region clean parent goto unles end reported test_waitpre first iteration child pid child_ns_pid dumped value_b iteration final dump child pid exists value_a iteration first one memory region clean criu fix would restored value_b taking first child image restore value_a note child turn wait termination performs check variable value change run test least one predump trigger problem root snorch criu test zdtm.py run pre always zdtm transition pid_reuse checking feature ns_pid checking feature ns_get_userns checking feature ns_get_parent run zdtm transition pid_reuse run zdtm transition pid_reuse dep pid_reuse.d pid_reuse.o link pid_reuse start test test suid pid_reuse pidfile pid_reuse.pid outfile pid_reuse.out run criu pre dump send signal run criu dump run criu restore send signal wait zdtm transition pid_reuse die 0.100000 test output 57.717 11235 err pid_reuse.c wrong value variable restore 57.717 fail pid_reuse.c 110 task 11235 exited wrong code errno resource temporarily unavailable  http jira.sw.ru browse psbm 67502 simplify waitpid status check switch _ack signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1291,3b33e16f3e7e38f987d7546c5f01967b2011b38b,yrill Gorcunov <gorcunov@gmail.com>, 2018-05-16 11:36:36 +0300, , mem fix typo cid 190172 uninitialized variable uninit criu mem.c 325 signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1292,54858b1360b2c7a3dad812c0dda2a11d15259c93,irill Tkhai <ktkhai@virtuozzo.com>, 2017-06-27 14:21:44 +0300, , compel x86_64 fix sys_clone definition commit 37e4c7bfc264 fixed arm ppc x86 32bit made wrong definition x86_64 fix also add commentary raw fork implementation signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1293,4001a324cee0e1f48bbb65be46d4c85f9337ab84,awel Stradomski <pstradomski@google.com>, 2018-06-06 21:09:13 +0200, , allow criu page server work ipv6 signed pawel stradomski pstradomski google.com signed andrei vagin avagin virtuozzo.com,,
1294,81a37d059741497ed86561cc954f0d3d5cdf205d,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-01-31 10:24:44 +0000, , remote fix incorrect handling port option port option converted unsigned short integer network byte order twice unfortunately 2nd conversion revers 1st one example include stdio.h include arpa inet.h include stdlib.h int main  printf htons atoi 1234 53764 printf htons htons atoi 1234 1234 return  signed radostin stoyanov rstoyanov1 gmail.com,,
1295,d6d9d7f7acd4a7544c9b739fe1266d7b70fe1a85,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-06-06 17:30:57 +0300, , zdtm lib close bad criu_status_in file descriptor signal handler criu_status_in always used may signal handler close lazy page hit corner case clobber errno value happens resume process inside glibc syscall wrapper get signal page containing errno copied case signal handler invoked syscall return value written errno actual value errno seen process becomes ebadf close signal handler let ensure close signal handler doe fail make jenkins happier proper solution lazy page issue found signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1296,b4afa08060218148ae1ae0f7a1bdcbc25d62562d,ndrei Vagin <avagin@virtuozzo.com>, 2018-06-02 00:02:51 +0300, , test make zdtm.py python2 python3 compatible adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1297,c971d7a97b7a798182a8df0f9d51823b4eaf1c16,ndrei Vagin <avagin@openvz.org>, 2018-05-10 17:17:36 -0700, , zdtm socket ext clean test file reported dmitry safonov dima arista.com dmitry safonov dima arista.com signed andrei vagin avagin openvz.org reviewed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1298,061c21e6b896c3f1d54a2eb12c952541d248a40e,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-08-16 10:32:25 +0300, , check servise use cached kdat value feature check kerndat_init called jump action handler allows directly use kdat without calling corresponding kerndat_ method travis success lazy page update check availability userfaultfd rev3 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1299,40ab3c18c8cfb93dc350862eafe0fc318c8090fa,ndrei Vagin <avagin@virtuozzo.com>, 2017-03-21 02:30:23 +0300, , zdtm show process tree test show sign life call axf waitpid running second signed andrei vagin avagin virtuozzo.com,,
1300,7e50b256b2490fbec453ed12257d5bda5bd7cf84,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-02-01 19:04:09 +0300, , criu fix leak detected coverity scan fix sfle memory leak get_fle_for_scm error fix gfd open descriptor leak get_fle_for_scm error fix buf memory leak read pwrite error signed pavel tikhomirov ptikhomirov virtuozzo.com,,
1301,39cf3060a36ed514cc305fdd94b553f5ef4ccf79,yrill Gorcunov <gorcunov@gmail.com>, 2018-05-22 23:21:01 +0300, , seccomp use type fedora rawhide reason defined kernel introduced together let trick define alias system header get settled might find suitable solution part kernel api safe side signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1302,2a63e3983b36a139056d5f42011560567a8680c1,yrill Gorcunov <gorcunov@gmail.com>, 2018-05-16 11:46:59 +0300, , seccomp exit stage triggered allowed exit yield bug instead reported andrei vagin avagin virtuozzo.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1303,b9c5028e38b1822a70ecad763b2ce4ac6094bf3c,yrill Gorcunov <gorcunov@gmail.com>, 2018-05-16 11:36:37 +0300, , seccomp fix building issue recent kernel may already defined system ptrace.h header recent kernel include http github.com checkpoint restore criu issue 486 event 1628406918 signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1304,e58f5daa9838189b26dedf1d0f5f97b15f3daaa2,yrill Gorcunov <gorcunov@gmail.com>, 2018-05-16 11:36:33 +0300, , seccomp fix typo collect_filters cid 190178 null pointer dereferences null_returns criu seccomp.c 296 collect_filters signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1305,d92366efe58ed03aea0c8faa4e26b39f3ef38f36,yrill Gorcunov <gorcunov@gmail.com>, 2018-05-15 11:12:39 +0300, , seccomp move changed ptrace flag setup cred credential commitment affect dumpable pdeath signal move restore restore_creds like group leader http jira.sw.ru browse psbm 84198 acked dmitry safonov 0x7f454c46 gmail.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1306,d5a3d807afa23868fec43537e4c75ea29e468ccb,yrill Gorcunov <gorcunov@gmail.com>, 2018-05-15 11:12:40 +0300, , seccomp lookup pidns restore_seccomp looking pid nesting pidns supposed done non group leader thus check make similar lookup especially group leader pid args never valid reported andrei vagin avagin virtuozzo.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1307,673d1c77118f0f4dd76b18f06e2310519f34b88e,yrill Gorcunov <gorcunov@gmail.com>, 2018-05-07 11:42:50 +0300, , seccomp fix nit collect_filter fix typo sizeof operand eliminate redundant prctl call detected reported dmitry safonov 0x7f454c46 gmail.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1308,b4451351a5317662a6763f0f5f68026a23ddcc8e,yrill Gorcunov <gorcunov@gmail.com>, 2018-05-07 11:42:49 +0300, , seccomp test use multiple thread andrew proposed test actually triggered issue current seccomp series put regular basis suggested andrey vagin avagin virtuozzo.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1309,64ec202356aab0f3ebd58d0150e2a57e3ce27976,yrill Gorcunov <gorcunov@gmail.com>, 2018-05-07 11:42:48 +0300, , seccomp dont forget suspend filtering thread considering call tid take account least one thread seccomp mode enabled otherwise might miss filter suspension restore procedure might break due criu syscall get filtered time move seccomp restore thread take place state main criu code attach thread setup seccomp suspension flag start restoring filter reported andrei vagin avagin virtuozzo.com reviewed dmitry safonov 0x7f454c46 gmail.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1310,96a30f068c3c8bd19c2377666a367bd030b83dde,yrill Gorcunov <gorcunov@openvz.org>, 2018-05-07 11:42:47 +0300, , seccomp test add signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1311,2f54573029e4157cb6f22bc1a7e2053f00768f93,yrill Gorcunov <gorcunov@gmail.com>, 2018-05-07 11:42:46 +0300, , seccomp add engine checkpoint per thread seccomp chain checkpoint per thread seccomp filter need significant rework dumping code general idea following thread tracked tid inside global seccomp rbtree thus easily add entry lookup demand collect thread pstree entry fetch seccomp mode procfs parsing routine allocate new entry inside rbtree remember seccomp mode note moment dumping real filter yet filter data image single one consumer tids collected tree complete call helper walk every pstree entry iterate tid inside thread group calling turn ptrace engine fetch filter keep data memory optimize data usage figure use tsync flag restore calling try_use_tsync helper tsync flag kernel automatically propagate filter thread thus need compare filter inside thread group identity since way figure user passed tsync flag creating filter finally called doe real write seccomp filter data image file signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1312,0f5cce7a4e3d1a2e46691c87986eee1593675ec5,yrill Gorcunov <gorcunov@gmail.com>, 2018-05-07 11:42:45 +0300, , seccomp add engine restore per thread seccomp chain pretend thread sharing seccomp chain checkpoint moment test seccomp mode make sure assumption valid refusing dump otherwise still kernel tack seccomp filter chain per thread faced application java per thread chain actively used thus need bring support handling filter via per thread basis bit intrusive patch restore engine lifted treat thread separately done image core file modified keep seccomp filter inside backward compatibility former seccomp_mode seccomp_filter member task_core_entry renamed old_ prefix restore test dealing old image since per thread dump yet implemeneted dumping procedure continue operating old_ member pie restorer code memory containing filter addressed inside structure contains seccomp mode chain attribute number filter etc reading per thread data done helper take one pstree_item walk every thread inside allocate pie memory pin data pie specific jumping pie code relocate memory new place served restorer check provides enabled seccomp mode strict filter passed call needed unify name start using seccomp_ prefix related stuff involved change renamed read image nothing image handler renamed instead short change allowed start collecting dumping seccomp filter per thread done next patch signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1313,64073bdee5ec5b2d4a1231c9b17a76aa736b5ba1,yrill Gorcunov <gorcunov@gmail.com>, 2018-05-07 11:42:44 +0300, , seccomp fetch seccomp flag kernel provides note real usage flag restore simply save image make real use later signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1314,2810c2588833596e4f8cf1e910096527e7c79d57,yrill Gorcunov <gorcunov@gmail.com>, 2018-05-07 11:42:43 +0300, , seccomp move seccomp_info seccomp.h header main place seccomp related structure move seccomp_info allow minimize change area need update definition reviewed dmitry safonov 0x7f454c46 gmail.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1315,532d27989a5d09cc07f8bbc05164d7371d4db376,yrill Gorcunov <gorcunov@gmail.com>, 2018-05-07 11:42:42 +0300, , seccomp define log prefix grepability sake log reviewed dmitry safonov 0x7f454c46 gmail.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1316,f525d4176396965c4a02e3661261d24208648d09,yrill Gorcunov <gorcunov@gmail.com>, 2018-05-07 11:42:41 +0300, , seccomp compel add definition use figure filter log target used metadata associated seccomp filter relatively new feature allows userspace get set back reviewed dmitry safonov 0x7f454c46 gmail.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1317,e071c2a6102e34644ac7691c7eb6e21126ea578e,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-04-06 10:31:31 +0300, ," zdtm lib add pre dump notify test flag pre dump notify flag set zdtm sends notify test pre dump finished wait test send back reply test work ready next pre dump dump used  something predump   something restore internally open two pipe test one receiving notify two open end one replying write end open fds pipe dupped predefined number zdtm open fds proc test pid 100,101 communicates test switch two way interface remove race operation try run predump may yet unfinished time next dump suggested andrei vagin avagin virtuozzo.com signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com",,
1318,6fb00f55305a4743723946e52ad8daad837794cd,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-04-06 10:31:30 +0300, , memory use parent memdump detected possible pid reuse problem pid reused consequent dump understand pagemap page image parent dump invalid restore pid already lead even wrong memory restored pid see test last patch try separate process likely invalid previous memory dump process 100 valid previous dump use value proc pid stat start_time also timestamp pre dump start time strictly timestamp mean pagemap pid previous dump valid done exactly process creation time centiseconds default predump really fast 1csec false negative decision process case long running process fine http jira.sw.ru browse psbm 67502 remove __maybe_unused fix static typing print warning unsure check has_dump_uptime read parent stats image reuse stat previous parse_pid_stat call dump move code function use unsigned long long tick put proc_pid_stat mem_dump_ctl print warning pid reuse case free parent stats entry properly pas argument pre_ dump_one_task free parent stats error path zero init parent_se improve error message switch inventory image stats pid reuse fails fail current dump signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1319,9725b7beeb928c8936fcefdd61cd365ff10f6669,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-04-06 10:31:29 +0300, , inventory add helper get entry parent pre dump used next patch http jira.sw.ru browse psbm 67502 note actually need one value inventory entry still prefer general helper still need read allocate memory whole structure fix static typing simplify return statsentry pointer instead argument replace error warning whatch corresponding error else fine change stats inventory image signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1320,5451fc230d852d02a8f48f803b39f834e97e1bc4,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-04-06 10:31:28 +0300, , inventory save uptime know dump happened want use simple fact alive process pstree want dump starttime process pre dump timestamp taken process freezed exact process existed 100 sure time pre dump process memory dumped image save inventory image pre dump put uptime http jira.sw.ru browse psbm 67502 improve comment put uptime ivnentory image stats parent image directory work dir option set something different image directory stats dump image bad practice put data required restoring v10 u_int64_t uint64_t signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1321,b610f28adada6e3b14183f88c45655d21a926cf4,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-04-06 10:31:27 +0300, , parse add helper obtain uptime used next patch http jira.sw.ru browse psbm 67502 note man proc uptime say uptime second format ecentiseconds digit note uptime csec prefer saving usec allows reuse image field accurate value add length specifier parse centiseconds put uptime u_int64_t directly define csec_per_sec v10 switch uint64_t u_int64_t comment usec image signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1322,57ab74c213b999b7409315e81c9bb6d36d84ddc3,awel Stradomski <pstradomski@google.com>, 2018-06-28 16:22:13 +0200, , add information socket usage information crtools.c signed pawel stradomski pstradomski google.com signed andrei vagin avagin virtuozzo.com,,
1323,e1a5d71765e28b49a8be91a30faa3402b9e18f14,aweÅ Stradomski <pstradomski@google.com>, 2018-06-28 16:10:48 +0200, , add socket option documentation criu.txt signed pawel stradomski pstradomski google.com signed andrei vagin avagin virtuozzo.com,,
1324,2e236dcf10f56f39efd285bf90777097fdf251a1,awel Stradomski <pstradomski@google.com>, 2018-06-13 12:27:37 +0200, , allow passing socket file descriptor launching criu make possible pageserver communication anonymous unix socket e.g created socketpair setup make easier secure pageserver connection wrapping encrypted tunnel also help prevent attack malicious process connects page server injects stream page either fool criu restoring wrong page pageserver exhaust local storage writing large .img file signed pawel stradomski pstradomski google.com signed andrei vagin avagin virtuozzo.com,,
1325,339446a7ccaa2571a9e7de501b8167bd34649d6d,yrill Gorcunov <gorcunov@gmail.com>, 2018-06-23 00:36:13 +0300, , unix test unix01 fix data sending machine reported andrey vagin avagin virtuozzo.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1326,69faf90c9b7009f7bf8c260e1a2d6717ccba2f31,aniel Black <daniel@linux.ibm.com>, 2018-06-22 11:48:30 +0100, , readme.md correct travis link signed andrei vagin avagin virtuozzo.com,,
1327,829145e00df21cd93066f307590d5a9737aca50a,yrill Gorcunov <gorcunov@gmail.com>, 2018-06-21 19:35:23 +0300, , net veth force create master peer index nsid case master peer veth device laying inside node root net request device index rather allow kernel number automatically separate net master peer safe request index though signed cyrill gorcunov gorcunov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1328,7ac24b534810d416df0f118811b76e541fec6aa9,yrill Gorcunov <gorcunov@gmail.com>, 2018-06-21 11:32:53 +0300, , test others rpc tune header string.h missed memx helper fcntl.h included instead sys patch test compiled alpine test problem related container protoc proto_path c_out rpc.proto gcc werror wall test c.o test c.c gcc werror wall rpc.pb c.o rpc.pb c.c gcc test c.o rpc.pb c.o lprotobuf test protoc proto_path python_out rpc.proto criu criu criu chmod criu mkdir build chmod rwx build sudo 1000 1000 criu service build service.log address pidfile pidfile make sudo command found signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1329,d71fc8dc08325a2090acd901746de32c7e739b01,onny Chevalier <ronny.chevalier@hp.com>, 2018-06-18 10:55:36 +0200, , lib add missing signature signed ronny chevalier ronny.chevalier hp.com signed andrei vagin avagin virtuozzo.com,,
1330,3ec82d4b6aa9badbc8f78da95f7375fd050b2953,onny Chevalier <ronny.chevalier@hp.com>, 2018-06-18 10:55:35 +0200, , lib add const qualifier service_binary either set const char user provided char reason give char user function likely provide const char generate warning thus add const qualifier better represent usage service_binary avoid warning signed ronny chevalier ronny.chevalier hp.com signed andrei vagin avagin virtuozzo.com,,
1331,55d0f98fc9877161534f8a815b5326f2ec068278,drian Reber <areber@redhat.com>, 2018-06-06 08:05:05 +0000, , script systemd autofs restart.sh fix variable name script check nsenter executable set ns_enter seems typo without untested reproducible look wrong signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1332,70e18b846bdc6657a2726780a1717677ca39a304,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-06-20 18:13:21 +0300, , zdtm.py ignore unicode encode error problem commit 212e4c771a1b test make zdtm.py python2 python3 compatible running test python2 http ci.openvz.org job criu job criu virtuozzo job criu dev 3804 console traceback recent call last file test zdtm.py line 2249 module opts action opts file test zdtm.py line 2001 run_tests tdesc run_flavs file test zdtm.py line 1680 run_test self.wait file test zdtm.py line 1737 wait self.__wait_one file test zdtm.py line 1725 __wait_one print open sub log .read ascii codec encode character u2018 position 258 ordinal range 128 print doe like symbol ... rmdir failed remove cgclean.skfhlm zdtmtst file directory small reproducer snorch snorch cat test_ascii.py __future__ import absolute_import division print_function builtins import str open range zip int input open f.read print snorch snorch python test_ascii.py grep traceback recent call last file test_ascii.py line module print ascii codec encode character u2018 position 258 ordinal range 128 ignore quote symbol printing log signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1333,e6d448ca86f97835dbad66ab3789ba308cab5b9a,yrill Gorcunov <gorcunov@gmail.com>, 2018-06-09 16:06:56 +0300, , unix test add unix01 test test case socket removed together directory living signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1334,05f9967869f50be79b2f704f3e9fc14a5e4f4b77,yrill Gorcunov <gorcunov@gmail.com>, 2018-06-09 16:06:55 +0300, , unix improve debug message collecting socket print type state signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1335,4691dcf37bdaba1f54e80cc99bc223ce48280ba8,yrill Gorcunov <gorcunov@gmail.com>, 2018-06-09 16:06:54 +0300, , unix add support ghost socket unix socket may connected via deleted socket name moreover name may reused sun_addr different inodes able handle trick collecting socket figure deleted mark present socket order socket creation deletion mutex together adding missing directory save descriptor fdstore peer connected restore connect via procfs suggested andrew vagin signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1336,787409df9da2292c16d106d0e319b42313a3d147,yrill Gorcunov <gorcunov@gmail.com>, 2018-06-09 16:06:53 +0300, , unix use decimal format inode printing debug sake unify helper tool stat etc requested andrey vagin avagin virtuozzo.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1337,121a31cad4faadf13d3ff59ebcb5ec9182817e70,yrill Gorcunov <gorcunov@gmail.com>, 2018-06-09 16:06:52 +0300, , unix rename unlink_stale unlink_sk gon use detele stale socket ghost socket well signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1338,53e4770065d7e7a9914fb14c352df2b3e17e5b13,yrill Gorcunov <gorcunov@gmail.com>, 2018-06-09 16:06:51 +0300, , unix move declaration top make code accurate signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1339,33bbfa9cc60c267650998934a78e2f193d26a929,yrill Gorcunov <gorcunov@gmail.com>, 2018-06-09 16:06:50 +0300, , unix unify ino print already hex form let rest also incoming connection identified inode number use hex well consistency signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1340,d611ee03412d572fc2703c285583458a2fc3e25b,yrill Gorcunov <gorcunov@gmail.com>, 2018-06-09 16:06:49 +0300, , socket add sock_type_name tcp_state_name helper readable printing signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1341,0b1e74cb77f9a9be580b1e5a6383177ba1f6e146,drian Reber <areber@redhat.com>, 2018-05-31 09:00:02 +0000, , restore kill restored process failure trying resurrect test case test rpc one test case checking returned error restore failure process dumping process kept running tried restore checkpoint fail pid use process test criu however killed test process restore failure fix proposed andrei vagin criu mailing list signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1342,03598ea5aee4824b4ec16301742a165a29dd6f06,ndrei Vagin <avagin@virtuozzo.com>, 2018-06-17 06:32:53 +0300, , bitops use gcc builtin function instead __ffs __ffs implementation straightforward non optimal __builtin_ffsl faster signed andrei vagin avagin virtuozzo.com,,
1343,825ac61090afee9b59ca9ca4adb90308aebafc86,yrill Gorcunov <gorcunov@gmail.com>, 2018-06-14 20:27:21 +0300, , crit show cpuinfo image reviewed dmitry safonov 0x7f454c46 gmail.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1344,f30f24a17e0ba82d41aee74e410de1f8e830ba6e,yrill Gorcunov <gorcunov@gmail.com>, 2018-06-14 20:27:20 +0300, , x86 use uint_x type rt_sigcontext close kernel code reviewed dmitry safonov 0x7f454c46 gmail.com signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1345,0bb02253e67c75bb3829d993b6622e9742d1fe22,drian Reber <areber@redhat.com>, 2018-06-05 19:58:59 +0000, , zdtm static maps06 removed hardcoded page size zdtm static maps06 failed system different page size 4096 change maps06 use sysconf _sc_pagesize instead signed adrian reber areber redhat.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1346,d324645db58f2e5ccfb3edf61e0601bcf22f7964,ndrei Vagin <avagin@virtuozzo.com>, 2018-06-17 06:44:42 +0300, , bitops use literal constant operate long variable bit arithmetic constant marked long adrian reber areber redhat.com reported adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com tested adrian reber areber redhat.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1347,8a5321d99c7ef5f65bd1357f9c650f2988315bcc,ndrei Vagin <avagin@virtuozzo.com>, 2018-06-17 06:25:03 +0300, , zdtm.py exclude vsyscall vma x32 test alwasy exclude vsyscall vma x32 test part broken python3 patch old map lost set new map appeared set reported jenkins signed andrei vagin avagin virtuozzo.com,,
1348,e2143aff7229e62a9d4dcb040bcae1d63294b8ac,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-06-06 17:30:58 +0300, , lazy page uffd_ copy zeropage rework error handling improve code readability take account even uffdio_ copy zeropage failed page updated signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1349,e5856d4a7b1eb3625ac660c04290ccc2bf433a45,yrill Gorcunov <gorcunov@gmail.com>, 2018-05-16 23:29:49 +0300, , sfd forget test sfd_map closing old fds check service file descriptor marked sfd_map result may end leaving garbage file obtained program executing criu root sqvm0910 criu stable.git proc 354877 root root may 114 root root may 115 root root may 117 18311 deleted root root may 119 vzt del vzctl me.x1jh4vi deleted test file descriptor indeed installed explicitly http jira.sw.ru browse psbm 83892 signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1350,5686613a6b70097f815098f5c1c8a290769640a4,ndrei Vagin <avagin@virtuozzo.com>, 2018-06-13 20:46:36 +0300, , zdtm fix lint warning undefined raw_input test zdtm.py 1238 f821 undefined name raw_input ask press enter key signed andrei vagin avagin virtuozzo.com,,
1351,2899d58fc218493b697ab2139e7d221022758962,drian Reber <areber@redhat.com>, 2018-06-13 19:22:28 +0000, , test zdtm.py add option specify external criu test suite regularly running zdtm.py updating criu rpm test new rpm still work know usually criu_bin criu criu crit_bin crit crit criu_bin usr sbin criu crit_bin usr bin crit commit add two argument zdtm.py criu bin criu_bin path criu binary crit bin crit_bin path crit binary still default old value easily changed criu binary provided packaging system change complicated expected probably related fact zdtm restarts namespaces  rebase  fix error reported make lint signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1352,a58ecb38aa3ccf7853ae1e9a4b710970b8e83750,mitry Safonov <dima@arista.com>, 2018-06-13 23:57:13 +0100,496, tun kerndat keep going config_tun return config_tun kernel fail open tun device fix 496 signed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1353,9462f2aed79b4ab64b5dcbf6ee851d9c10d705b1,ndrei Vagin <avagin@virtuozzo.com>, 2018-06-12 23:50:54 +0300, , crit typo fix test dump zdtm static msgque ipcns msg 12.img decode fails object type nonetype len signed andrei vagin avagin virtuozzo.com,,
1354,19de949023af871846b9b51450b53ad12c40fb1e,drian Reber <areber@redhat.com>, 2018-06-13 12:12:30 +0000, , zdtm fix atomic_ sub add _return assembler aarch64 running test suite aarch64 showed two test failing static transition maps0007 debugging showed atomic_ sub add _return function return value lower 32bit address value simply dereferencing input solves two mentioned test case signed dmitry safonov dima arista.com signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1355,7e0bef54a516ae74648a5b8fd0753d998a153c16,mitry Safonov <dima@arista.com>, 2018-06-13 12:12:29 +0000, , zdtm lib check ewouldblock errno instead ewouldblock syscalls return negative value case error errno contains error code add uint32_t sys_futex definition sizeof unsigned int might byte signed dmitry safonov dima arista.com signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1356,a7cc23c0f55b8bc1cefe3e8f816e0eb6cf29aa91,ndrei Vagin <avagin@virtuozzo.com>, 2018-06-09 20:30:48 +0300, , zdtm open notify file descriptor binary mode send pre dump notify traceback recent call last file zdtm.py line 2161 module do_run_test tinfo tinfo tinfo tinfo file zdtm.py line 1549 do_run_test cr_api opts file zdtm.py line 1264  file zdtm.py line 490 pre_dump_notify fdin.write struct.pack typeerror write argument must unicode str signed andrei vagin avagin virtuozzo.com,,
1357,7e5e1ff29a99769faf224251d0300fa83944e1ad,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-06-04 07:43:21 +0100, , test leak file descriptor signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin virtuozzo.com,,
1358,d76ddb5e83cab08a58eabd2aca49115da1d6e2df,ndrei Vagin <avagin@virtuozzo.com>, 2018-06-02 00:03:04 +0300, , test run full set test docker container signed andrei vagin avagin virtuozzo.com,,
1359,4f9780946a7dd7fe8331747c16686f18caf722cc,ndrei Vagin <avagin@virtuozzo.com>, 2018-06-02 00:03:03 +0300, , test netns add one path alpine linux installed usr lib xtables signed andrei vagin avagin virtuozzo.com,,
1360,195ef99187cfef61010dc60e1607b7b82239f767,ndrei Vagin <avagin@virtuozzo.com>, 2018-06-02 00:03:02 +0300, , zdtm fix collecting library alpine linux example ldd output musl ldd usr lib ldd 0x7fae8e06c000 libc.musl x86_64.so.1 ldd 0x7fae8e06c000 need skip ldd 0x7fae8e06c000 line signed andrei vagin avagin virtuozzo.com,,
1361,6c169c5173c9fed20b38830990c4ec0c62beffdb,ndrei Vagin <avagin@virtuozzo.com>, 2018-06-02 00:03:01 +0300, , test save content sys kernel debug tracing trace tune tracer expect get anything docker container debugfs mounted command failed signed andrei vagin avagin virtuozzo.com,,
1362,5604ccbe6091e50201ac3a28d83468aa0b01feaa,ndrei Vagin <avagin@virtuozzo.com>, 2018-06-02 00:03:00 +0300, , build docker install package run test signed andrei vagin avagin virtuozzo.com,,
1363,8fc954ab63cb1b48b01020181800d14ea4fd4334,ndrei Vagin <avagin@virtuozzo.com>, 2018-06-02 00:02:59 +0300, , alpine sigaltstack return einval ss_onstack set actually flag ignored kernel signed andrei vagin avagin virtuozzo.com,,
1364,e57fd31f8b922bf7ae50deba386cfc3a1f1ac28c,ndrei Vagin <avagin@virtuozzo.com>, 2018-06-02 00:02:58 +0300, , criu musl scanf printf support modifer intergers signed andrei vagin avagin virtuozzo.com,,
1365,8afa426d1864718a42643d71b086825556dd69ea,ndrei Vagin <avagin@virtuozzo.com>, 2018-06-02 00:02:57 +0300, , alpine call write instead fprintf fprintf alpine linux call writev prohibited mode run zdtm static seccomp_strict start test test suid seccomp_strict pidfile outfile make makefile 385 error test zdtm static seccomp_strict fail start errno file directory zdtm static test output 24.661 err read errno file directory 24.662 err test.c 315 test exited unexpectedly code signed andrei vagin avagin virtuozzo.com,,
1366,0e05bdfe2732685fcc0a39424b80b88368cb86b0,ndrei Vagin <avagin@virtuozzo.com>, 2018-06-02 00:02:56 +0300, , travis run crit recode test signed andrei vagin avagin virtuozzo.com,,
1367,33b6cff41f5e2f922064a255a37f05c2d9190038,ndrei Vagin <avagin@virtuozzo.com>, 2018-06-02 00:02:55 +0300, , test make crit recode.py python2 python3 compatible signed andrei vagin avagin virtuozzo.com,,
1368,841edaf3175557de99bf965055a30a6871260e24,ndrei Vagin <avagin@virtuozzo.com>, 2018-06-02 00:02:54 +0300,495, lib fix compatible python3 issue found running test crit recode.py http github.com checkpoint restore criu issue 495 drop fd_cloexec swrk descriptor signed andrei vagin avagin virtuozzo.com,,
1369,ece55818e33b75d1a93f6a840fe62838baf6fe78,ndrei Vagin <avagin@virtuozzo.com>, 2018-06-02 00:02:53 +0300,495, test import pycriu right name otherwise one library imported twice two different name pycriu pycriu used library http github.com checkpoint restore criu issue 495 signed andrei vagin avagin virtuozzo.com,,
1370,0dab224be6b3b15bec32bf4970439652918434eb,ndrei Vagin <avagin@virtuozzo.com>, 2018-06-02 00:02:52 +0300, , travis set python3 default fedora container need job check compatibility python3 fix inhfd rpc test signed andrei vagin avagin virtuozzo.com,,
1371,00ed1eeb1a5d9ffa9242d6e91aefd919f4eebd53,ndrei Vagin <avagin@virtuozzo.com>, 2018-06-02 00:02:51 +0300, , test make zdtm.py python2 python3 compatible adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1372,a674859195ff8e3ffe75d47331a1a570542bd73b,yrill Gorcunov <gorcunov@gmail.com>, 2018-06-04 20:17:57 +0300, , dump loose dump_namespaces error case dump_namespaces failed may ret shadowed erroneously report checkpoint success signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1373,553dd546b5a895554d08d9f7cfb46d2cb090c494,drian Reber <areber@redhat.com>, 2018-05-16 06:20:26 +0000, , travis fix python2 package installation python2 python3 compatibility install additional python2 future different python2 ipaddress package test also switch fedora test explicitly install versioned python package python2 instead python signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1374,767534f10fcf0485dd58bf37156ace4cc59c35b7,drian Reber <areber@redhat.com>, 2018-05-16 06:20:25 +0000, , adapt zdtm python3 compatibility python3 import working bit differently structure imported file need change instead symlinks criu.py rpc_pb2.py doe match import structure create symlink lib like crit make zdtm usable python3 compatibility signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1375,4feb07020dedbf845fc00268d8ca02f4645641cd,drian Reber <areber@redhat.com>, 2018-05-16 06:20:24 +0000, , crit enable python2 python3 based crit last commit crit python3 series possible either use python2 python3 criu basic build system functionality make make install python2 python3 aware zdtm.py criu coredump still python2 part make install part yet ported python2 python3 signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1376,1a0ad1ae8748baa2b0db3ef60848bccb1198bb20,drian Reber <areber@redhat.com>, 2018-05-16 06:20:23 +0000, , makefiles auto detect python version prefer python2 prepares crit python2 python3 compatibility auto detecting installed python version python2 detected first variable python set setting variable python python2 python3 user override auto detection signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1377,98cb5c627d2faa87f5ff99274fe2d74a1273e2a0,drian Reber <areber@redhat.com>, 2018-05-16 06:20:22 +0000, , crit make crit python2 python3 compatible signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1378,e61309a7c67af09470a2c94e56113c4b4039d738,yrill Gorcunov <gorcunov@gmail.com>, 2018-05-10 17:57:54 +0300, , unix improve helper must init every member structure part beautify code well signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1379,52973e57cec4074a9baac878eb6f624ef0daa38c,yrill Gorcunov <gorcunov@gmail.com>, 2018-05-10 17:57:53 +0300, , unix unify printing peer open signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1380,6c064b661f393e26e023e482a8b9abbe2b69dddb,yrill Gorcunov <gorcunov@gmail.com>, 2018-05-10 17:57:52 +0300, , unix print reverted dir info directory provided otherwise imbalance log number reverted working dir message 00.018604 unix connected 0x11ceff 0x11cf00 0x11cf00 flag 00.018644 unix reverted working dir 00.018652 unix connected 0x11cefd 0x11cefe 0x11cefe flag 00.018665 unix reverted working dir 00.018688 unix reverted working dir signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1381,1fa59fa33e8ecef997c766a9f33f41a4eb1d7ba2,yrill Gorcunov <gorcunov@gmail.com>, 2018-05-10 17:57:51 +0300, , unix spam warning nothing unlink signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1382,6560320a5b7a1c3b2a6fb72b0b57bd77415aebeb,yrill Gorcunov <gorcunov@openvz.org>, 2018-05-10 17:57:50 +0300, , unix drop empty line eof signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1383,1e6e548be757e4b5882d3d81be5b2829703eda15,yrill Gorcunov <gorcunov@openvz.org>, 2018-05-10 17:57:49 +0300, , unix use generic xptr_pull unify style pointer fetching memory slab signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1384,1caa5915f7c2ead8cd60fbd83772d184c2e3fd57,yrill Gorcunov <gorcunov@gmail.com>, 2018-05-10 17:57:47 +0300, , unix adjust unix_sk_cinfo member readability sake signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1385,41ba3d464f80c085da08d36345e15d011ab838ff,yrill Gorcunov <gorcunov@gmail.com>, 2018-05-10 17:57:46 +0300, , unix adjust unix_sk_info member readability sake use standart uint8_t type signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1386,b2f3bf1d2d23237a77ad7b1ec283fd4518d7cd91,yrill Gorcunov <gorcunov@gmail.com>, 2018-05-10 17:57:44 +0300, , unix use uint32_t instead u32 rest code match signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1387,e8d8a364598b929908693b12438ac80b98055dcb,yrill Gorcunov <gorcunov@gmail.com>, 2018-05-10 17:57:42 +0300, , unix use one word log prefix grep sake signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1388,b912456cad28b637d7371940c93c12336034a1b3,yrill Gorcunov <gorcunov@gmail.com>, 2018-05-10 17:57:41 +0300, , arch ppc64 add missing helper signed cyrill gorcunov gorcunov gmail.com signed andrei vagin avagin virtuozzo.com,,
1389,1099cf0639fac0c9f5ed77daa3157dfe1b2bb601,ndrei Vagin <avagin@virtuozzo.com>, 2018-05-10 02:54:35 +0300, , travis build criu run test centos one target platform adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com acked adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1390,2d965008d367455e792e0938dd13656a85dabf14,mitry Safonov <dima@arista.com>, 2018-05-10 19:14:48 +0100,415, ppc64 aarch64 dynamically define page_size ppc64 aarch64 linux set use large page page_size build time constant anymore define _sc_pagesize different size page ppc64 defined define page_shift elif defined define page_shift elif defined define page_shift else define page_shift endif aarch64 default size possibly someone set page_shift config int default arm64_64k_pages default arm64_16k_pages default downside time need page_size libc function call aarch64 ppc64 fix 415 tested adrian reber areber redhat.com signed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1391,bbe7721075ab28a03ff48a2c3b5df495816fc4eb,mitry Safonov <dima@arista.com>, 2018-05-10 19:14:47 +0100, , criu proc define buf_size without page_size dependency page_size variable value platform different due large page look like reason buf_size page_size let keep rather complicating dynamic allocation buffer signed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1392,a58e95aac8bb3b2d009ed51ad53f6396bf96aa04,mitry Safonov <dima@arista.com>, 2018-05-10 19:14:46 +0100, , criu log define log buffer length without page_size value page_size different platform static value signed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1393,657b13eaeccb82772aea7ac34f37eab1856b6df3,mitry Safonov <dima@arista.com>, 2018-05-10 19:14:45 +0100, , criu dump fix size personality buffer personality value printed kernel like static int  int err lock_trace task err seq_printf 08x task personality unlock_trace task  return err  need whole page read value signed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1394,ffa1a03c8f111f3228c5bad4fbbe2e9508822401,mitry Safonov <dima@arista.com>, 2018-05-10 19:14:44 +0100, , compel criu add pie binary architecture like aarch64 ppc64 needed propagate size page inside pie parasite page size defined seizing restorer early initialization afterward use page_size pie like signed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1395,bc1fbb0f52e14185342f5201356c6737111a34d2,mitry Safonov <dima@arista.com>, 2018-05-10 19:14:43 +0100, , aio allow expression macro macro used unsigned int k_max_reqs size page_size compiler may evaluate page_size size page_size ... work long page_size long patch set convert page_size use sysconf returning unsigned non long type making aio macro overflowing see value making page_size unsigned long typed kirill tkhai ktkhai virtuozzo.com signed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1396,1639e2b213837f299c06a94b119ba917c3b9bef0,mitry Safonov <dima@arista.com>, 2018-05-10 19:14:42 +0100, , parasite rename misnamed nr_pages actually number byte spliced page bet unsigned long suit purpose int signed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1397,b78c1e9a5ab96930f02aa69fb9bcd5236972156b,mitry Safonov <dima@arista.com>, 2018-05-10 19:14:41 +0100, , criu remove page_image_size unused since commit fd3f33f5d23a header image.h drop unused entry let remove completely signed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1398,202b7745bd0c37a1732ebe2fb009a157d338bf95,avel Emelyanov <xemul@virtuozzo.com>, 2018-05-21 15:10:25 +0300, , criu version 3.9 signed pavel emelyanov xemul virtuozzo.com,,
1399,a70b1c797bf237f19c9e05c5078b8a822b60b417,ndrei Vagin <avagin@virtuozzo.com>, 2018-05-18 01:41:07 +0300, , restorer check close return expected thread pid typo fix added rebase signed andrei vagin avagin virtuozzo.com,,
1400,cad611b36091e18de36c916923d9bd76935c73f5,mitry Safonov <dima@arista.com>, 2018-04-30 19:41:58 +0100,481, documentation make call check install let warn binary needed install target  root localhost criu make install gen crit.1 make makefile crit.1 error 127 make install man error  root localhost criu make install bin line xmlto command found make makefile check error make install man error fix 481 reported treaki gmail.com signed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1401,18d4be7cca335931d9c4539444febbbd63a8581a,mitry Safonov <dima@arista.com>, 2018-04-30 19:41:57 +0100, , zdtm make include makefile.inc defining dep otherwise test dependency considered build add error makefile.inc happen cyrill gorcunov gorcunov openvz.org reported andrei vagin avagin virtuozzo.com signed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1402,bf455467cf0b53d2c57148b45c4d1f57faf9537d,mitry Safonov <dima@arista.com>, 2018-04-30 19:41:56 +0100, , revert test make include file reverts commit found already include deps makefile.inc fast first attempt overlooked include work like yet origin patch may dropped preparing master merge signed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1403,7dc930c9516a06536a480b20f8a1bdd9aebea297,ndrei Vagin <avagin@virtuozzo.com>, 2018-05-16 01:55:58 +0300,1, unix pas negative value close cid 190174 argument negative passed parameter negative signed andrei vagin avagin virtuozzo.com,,
1404,26359e759eef0dc8471bc150b3940bda51eb0342,ndrei Vagin <avagin@virtuozzo.com>, 2018-05-16 01:55:57 +0300,1, dump remove dead code cid 190175 logically dead code deadcode dead_error_line execution reach statement goto err signed andrei vagin avagin virtuozzo.com,,
1405,f381a43524a7f2e18e3002fa2c17ec61ab17f15c,ndrei Vagin <avagin@virtuozzo.com>, 2018-05-16 01:55:56 +0300, , action script check return code get_service_fd cid 190177 integer handling issue rpc_sk passed parameter negative signed andrei vagin avagin virtuozzo.com,,
1406,237260f4206ad4d701f2854645a97ed6928087b8,ndrei Vagin <avagin@virtuozzo.com>, 2018-05-16 01:58:15 +0300,1, tun leak file descriptor cid 84654 resource leak resource_leak leaked_handle handle variable going scope leak handle signed andrei vagin avagin virtuozzo.com,,
1407,7ed045c495581501c996ffe1d60243e40eeaf4bf,ndrei Vagin <avagin@virtuozzo.com>, 2018-05-15 23:32:06 +0300, , pie log print space timestamp 00.566486 pie seccomp mode tid signed andrei vagin avagin virtuozzo.com,,
1408,780f0e6aa79e3591964d74e763b06ff5396a7dc7,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-05-15 23:42:25 +0300, , lazy page replace crappy num_children simple reference counting purpose num_children field struct lazy_pages_info prevent closing page read still active process share work case handling child process finished parent process however parent lpi closed first got dangling pointer lpi parent obvious solution use simple reference counting signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1409,1d85ec97eb69149810294090ba30c8d6cac31b28,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-05-15 23:42:24 +0300, , lazy page reset poll_timeout soon restore finished possible notification restore finish arrives time fork event case return epoll_run_rfds without resetting poll_timeout keep polling event indefinitely avoid reset poll_timeout soon know restore finished signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1410,6cd7b66e645433b1b67578515a0933ea926ce87d,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-05-15 23:42:23 +0300, , lazy page handle_exit set uffd negative value instead use userfault file descriptor process exited debug log using negative value instead make log readable signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1411,24c17e5106a343ac796c259c997601b85919961f,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-05-15 23:42:22 +0300, , lazy page use xfree instead free although xfree look consistent code signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1412,4daaef027a21b0e193fca4d8dbdc4bba284ff731,ndrey Vagin <avagin@virtuozzo.com>, 2018-05-15 23:29:18 +0300, , compel log increase max line length lot line longer 04.331172 pie error criu pie restorer.c 460 seccomp unexpected tid 04.331172 pie signed andrei vagin avagin virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1413,8d709e67d50c9eaf33cb104cf0fcdc1ea4a91051,ndrey Vagin <avagin@virtuozzo.com>, 2018-05-15 23:29:59 +0300, , zdtm print one line twice 00.566486 pie seccomp mode tid 00.566601 pie error criu pie restorer.c 460 seccomp unexpected tid 00.566601 pie 00.566601 pie 00.566639 pie error criu pie restorer.c 1817 restorer fail signed andrei vagin avagin virtuozzo.com,,
1414,4b37d0b0063ae2a84fceb96ddbca1d90f0cb8fdb,ndrey Vagin <avagin@virtuozzo.com>, 2018-05-15 23:31:12 +0300, , restore check return code otherwise skip error criu hang switching next stage signed andrei vagin avagin virtuozzo.com,,
1415,53d29d7e2257be7a18364afcd4d80cb203bc6562,ndrei Vagin <avagin@virtuozzo.com>, 2018-05-15 22:52:57 +0300, , kdat fill kdat zero initializing fill kdat run criu.kdat contain trash criu.kdat compatible current version criu signed andrei vagin avagin virtuozzo.com reviewed dmitry safonov 0x7f454c46 gmail.com acked cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1416,aeeec2165a153b0c4885f5dd3ad26792822a8a9c,italy Ostrosablin <vostrosablin@virtuozzo.com>, 2018-04-06 17:19:20 +0300, , zdtm fix compilation ppc64 compiler want argument explicitly casted long long llx specifier signed vitaly ostrosablin vostrosablin virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1417,2139c955ed1fe4d1f4d2d6d746504bb425d573bc,ndrei Vagin <avagin@virtuozzo.com>, 2018-04-06 10:21:12 +0300, , zdtm handle tcp established rpc mode signed andrei vagin avagin virtuozzo.com,,
1418,ac713a9b5a9b1901c3fa4f9932986836b1e21856,italy Ostrosablin <vostrosablin@virtuozzo.com>, 2018-04-03 19:42:14 +0300, , zdtm add test check ghost file parent dirs test trigger bug ghost file resolved patch fail ghost file parent dirs signed vitaly ostrosablin vostrosablin virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1419,7af751b5696db1a1c4e1796bae9e29cbc303d63d,ndrei Vagin <avagin@virtuozzo.com>, 2018-03-29 10:02:29 +0300, , test add test check shell job option test creates pty pair creates test process set slave pty control terminal signed andrei vagin avagin virtuozzo.com,,
1420,fbd8dd889ddd37583f21136648cac6197e44e501,ndrei Vagin <avagin@virtuozzo.com>, 2018-04-28 09:02:29 +0300, , mem return error case one often mistake int funcx  int ret ret funca ret goto err smth goto err return err return ret  signed andrei vagin avagin virtuozzo.com,,
1421,a66bfa58008f6a2dce74110f6ed35caed367582d,irill Tkhai <ktkhai@virtuozzo.com>, 2018-04-20 13:10:22 +0300, , helper move service fds closing code reason need cleanup code generic let move better readability signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1422,9eb9abb62f96164e96a24ef607d22193dbdeb593,ndy Tucker <agtucker@google.com>, 2018-04-10 12:54:11 -0700, , file fail dump dump_one_file fails dumping process large number open file process fds batch dump_one_file result error processing current batch stopped next batch still fetched error value overwritten result corrupt dump image fdinfo file missing bunch fds result restore failure also close received fds error previously skipped one left open signed andy tucker agtucker google.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1423,3e86fb12bc37c2fd62365cee595b8a7ebd1ab718,ndrei Vagin <avagin@virtuozzo.com>, 2018-04-06 10:27:19 +0300, , criu print criu kernel version log_init log_init open log file want criu kernel version log file look reasonable print log_init without patch version printed criu called swrk mode reviewed dmitry safonov 0x7f454c46 gmail.com acked adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1424,8338cbc4836f43b7732b2bb9a1480cf9f7399350,ndrei Vagin <avagin@virtuozzo.com>, 2018-04-06 10:27:19 +0300, , criu initialize logging library three code path call place need initialize library logging engine better one function example currently forgot initialize soccr logging criu swrk reviewed dmitry safonov 0x7f454c46 gmail.com acked adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1425,17e80025965d0a9c6ee5f66b5a055d628e9f0b9c,ndrei Vagin <avagin@virtuozzo.com>, 2018-05-12 09:07:54 +0300, , take account cr_system override standard descriptor 00.027596 mnt dumping mountpoints 00.027600 mnt dev 00.027614 mnt 130 run tar proc self open directory tar error recoverable exiting signed andrei vagin avagin virtuozzo.com,,
1426,c76849133e6b0346efa6be9de6e102874c3a2570,ndrei Vagin <avagin@virtuozzo.com>, 2018-05-12 07:05:59 +0300, , zdtm mount tmpfs run test root iptables creates run xtables.lock file want per test 00.332159 running iptables restore iptables restore fatal open lock file run xtables.lock permission denied signed andrei vagin avagin virtuozzo.com,,
1427,2af17257cb28280984b8b87cd2e4be5bed9d15e9,ndrei Vagin <avagin@openvz.org>, 2018-05-09 23:53:18 +0300,469, net workaround problem iptables open run xtables.lock starting iptables 1.6.2 use wait option work properly userns case enough right open run xtables.lock 00.174703 running iptables restore iptables restore fatal open lock file run xtables.lock permission denied 00.192058 error criu util.c 842 exited status 00.192080 error criu net.c 1738 iptables restore failed 00.192088 error criu net.c 2389 create net_ns 00.192131 error criu util.c 1567 wait bad status errno status 65280 patch workarounds problem mounting tmpfs run net namespaces restored separate process create new mount namespace create new mount http github.com checkpoint restore criu issue 469 pavel tikhomirov ptikhomirov virtuozzo.com kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin openvz.org signed andrei vagin avagin virtuozzo.com,,
1428,8a85222afed4bf52addf0a89b04ee56d8a32d32e,ndrei Vagin <avagin@virtuozzo.com>, 2018-05-09 23:53:17 +0300, , zdtm create run test root iptables 1.6.2 fails without run try create run xtables.lock file test output fatal open lock file run xtables.lock file directory 06.098 err netns nf.c set input rule errno file directory 06.098 err test.c 315 test exited unexpectedly code 255 signed andrei vagin avagin virtuozzo.com,,
1429,0f5705b08a9ad814917b5ef76e4eb8ddd311181a,yrill Gorcunov <gorcunov@openvz.org>, 2018-02-14 00:29:47 +0300, , log pr_warn_once fix formatting signed cyrill gorcunov gorcunov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1430,a80f1da90c2cecc0caf9b6e3a7353e99f0e096e3,oel Nider <joeln@il.ibm.com>, 2018-05-08 10:33:27 +0300, , compel std_vprint_num return null terminated string function analogue vsprintf used much way caller expects modified string pointer pointing null terminated string signed joel nider joeln il.ibm.com signed andrei vagin avagin virtuozzo.com,,
1431,5d3ea878fbab690dbad7d616de4069783183b46c,ndrei Vagin <avagin@virtuozzo.com>, 2018-05-08 02:08:44 +0300,469, travis rollback fedora issue fc28 example http github.com checkpoint restore criu issue 469 signed andrei vagin avagin virtuozzo.com,,
1432,345250b89fed6ca568e3a176efa678a35bcbda61,ndrei Vagin <avagin@virtuozzo.com>, 2018-04-30 02:10:59 +0300, , zdtm include lock.h zdtmtst.h file included lib lock.h function mutex_lock lib lock.h 148 error implicit declaration function pr_perror werror implicit function declaration pr_perror futex reported jenkins signed andrei vagin avagin virtuozzo.com,,
1433,f54942c62a46ffaa1cee9d634af5a79e29e93ad0,mitry Safonov <dima@arista.com>, 2018-04-19 04:22:55 +0100, , make set makeflags set makeflags following reason user may want specify make parameter e.g. debug lose parallel build passed submake look like gnu make deal parallel recursive make makeflags unset back easy verify add sleep build rule makefile.inc find one sleep process time patch specify say make sleep process reverts commit e9beed7bb3f3 build zdtm add implicit rule zdtm building cyrill gorcunov gorcunov openvz.org signed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1434,919f54881350cce75ea590a4a361e6138ead5763,mitry Safonov <dima@arista.com>, 2018-04-19 04:22:54 +0100, , test make drop implicit make variable let drop usage compile.c output_option allow run submake cyrill gorcunov gorcunov openvz.org signed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1435,c2876c2f250cd20e0d732e980a3f4e203321bfe7,mitry Safonov <dima@arista.com>, 2018-04-19 04:22:53 +0100, , nmk redefine makeflags makeflags already contains print directory flag added include.mk included two line comment see big sense erasing makeflags rather adding flag considered typo cyrill gorcunov gorcunov openvz.org signed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1436,3d5ee999744749e5b45859226187c22fdeca3c62,ndrei Vagin <avagin@virtuozzo.com>, 2018-04-28 09:02:31 +0300, , zdtm always run criu dump track mem snap set signed andrei vagin avagin virtuozzo.com,,
1437,8f7a52946f0dc7bfc9cd5f26f7e923fec566c392,ndrei Vagin <avagin@virtuozzo.com>, 2018-04-23 23:52:58 +0300, , service cache service descriptor service descriptros moved child process handle error properly signed andrei vagin avagin virtuozzo.com,,
1438,e52add949a9f4685f97bd4ab4322d495db2da7f5,mitry Safonov <dima@arista.com>, 2018-04-24 19:50:03 +0100, , test make include file include deps file recompile test dependency changed cyrill gorcunov gorcunov openvz.org reported andrei vagin avagin virtuozzo.com signed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1439,c12409fc5fe79c0ef800ab6e4502b83070829863,ndrey Vagin <avagin@virtuozzo.com>, 2018-04-24 21:18:45 +0300, , zdtm calling futex via syscall save error code errno man futex event error assuming futex invoked via syscall operation return set errno indicate cause error signed andrei vagin avagin virtuozzo.com,,
1440,348b169518bb6700504639c61cd2cebfc4a7e4d3,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-04-09 12:14:58 +0100, , remove redundant semicolon signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin virtuozzo.com,,
1441,4a6cf33be3c36ce0fef19eff674f9c27a6a76e85,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-04-09 12:14:57 +0100, , net remove trailing whitespace signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin virtuozzo.com,,
1442,ef78b890d2489cb125c904562292f5f6470ac30b,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-04-17 18:15:06 +0300, , file fix overlap handling though log_fd_off img_fd_off get_service_fd log_fd_off get_service_fd img_fd_off see check twisted also add bug_on track possible change break check problem usernsd_sk replaces log_fd_off latter writing log instead actually send crazy command usernsd fails handle bug crash http jira.sw.ru browse psbm 83472 also similar problem __userns_call receives bad repsonse likely background http api.travis ci.org job 352164661 log.txt fix commit 129bb14611c3 file prepare overlaping range move bug_on main check use min max signed pavel tikhomirov ptikhomirov virtuozzo.com acked kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1443,dc62a93010c52fdba10a8a08e41ebe67d38eed07,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-04-24 11:27:15 +0300, , file define o_tmpfile fix compilation vz7 http ci.openvz.org job criu job criu virtuozzo job criu dev 3605 console http jira.sw.ru browse psbm 83713 signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1444,93b34b6cb8c119d7c873045703299a9df12b7574,ndrei Vagin <avagin@virtuozzo.com>, 2018-02-27 00:33:23 +0300,42274874, file drop o_tmpfile file descriptor flag unnamed temporary file restored ghost file o_tmpfile set open syscall pathname argument specifies directory criu give path ghost file 00.107450 error criu file reg.c 1757 open file tmp 42274874 restore directory reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1445,47513625b205ec4bb989c971957d73f95c029263,ndrei Vagin <avagin@virtuozzo.com>, 2018-02-26 03:43:29 +0300, , zdtm add test check o_tmpfile man open ... o_tmpfile since linux 3.11 create unnamed temporary file pathname argument speciâ fies directory unnamed inode created directory filesystem anything written resulting file lost last file descriptor closed unless file given name ... reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1446,f992f469e8eba2d37c2b994698839d753ab08071,ndrei Vagin <avagin@virtuozzo.com>, 2018-03-29 20:24:52 +0300, , jenkins add pipeline file criu lazy migration signed andrei vagin avagin virtuozzo.com,,
1447,72d5e41abd6276f359bda4065aeb00dd1faa8911,adoslaw Burny <rburny@google.com>, 2018-04-10 13:35:04 +0300,470, sfds fix due calling __builtin_clz __builtin_clz lead undefined behaviour http gcc.gnu.org onlinedocs gcc builtins.html set directly avoid link http github.com checkpoint restore criu issue 470 signed radoslaw burny rburny google.com acked kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1448,f872b43152139dc3d78eb294359dae6afbb68cdc,ndrei Vagin <avagin@virtuozzo.com>, 2018-04-06 02:52:33 +0300, , travis fail build due gcov job fails often due installing gcc signed andrei vagin avagin virtuozzo.com,,
1449,3e66125e9bf2e1150eecf7f68bbb1234ef561009,ndrei Vagin <avagin@virtuozzo.com>, 2018-03-02 00:49:12 +0300, , criu add fprofile update atomic build gcov sometimes see error like criu restore.gcda merge mismatch function 106 proabably mean gcda file corrupted according gcc man page fprofile update atomic fix problem option appered gcc7 need install reported travis signed andrei vagin avagin virtuozzo.com,,
1450,8d91b2e3fceff2da4afccdeb1c43a0e5f61fdb32,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-05-09 18:03:49 +0300, , lazy page make robust make sure handle various corner case received page requested request capped unmap remap etc process exited underneath currently freeing request found address use uffd_copy instead let keep request object around use properly calculate number page pas uffd_copy add tailing range iovs list signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1451,7e10b43b4f8fdc7d3dedeae49be86e7b6e46b2a5,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-05-09 18:03:48 +0300, , lazy page factor insertion sorted iov list signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1452,95ea4e92a8167ad762fcb9d6941ad2267f3fa400,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-05-07 21:50:02 +0300, , lazy page fork fix duplication iov list instead merging unfinished request child iovs queued parent iov list fix signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1453,7ffaf883bd6616b00fe4ed1caf1234d77d237295,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-04-30 18:17:53 +0300, , lazy page actually return epoll_wait completing fork commit 9cb20327aa4 return epoll_wait completing fork half way adding half signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1454,fb7873c97c457f3d389b86a59ffa9f0cb4141f44,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-04-16 19:59:04 +0300, , lazy page try uffd_copy removed memory region possible page request remove source arrive part memory range covered request would already gone madvise madv_dontneed mremap etc ensure trying uffd_copy allowed signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1455,312e97f1c29fe164e5702e757272bfdfeb071f0b,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-04-16 19:59:03 +0300, , lazy page return epoll_wait completing fork get fork event transferring last iov parent process continuing background fetch completing fork event handling cause lazy page daemon exit nothing monitor child process memory signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1456,b6917ef4ca392a98d053af704e68296c07eca84f,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-04-16 19:59:02 +0300, , lazy page update event handling take request account since memory mapping split iovs reqs list update memory layout take account list signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1457,93f3fa3484bbdb0d4444e39094d8863927eafc9e,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-04-16 19:59:01 +0300, , lazy page cache buffer size lazy_pages_info instead recalculating required lazy_pages_info buf copying iovs fork time keep size buffer lazy_pages_info struct signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1458,2ad16d4c5073d6c947039392f7c4f192ec0e8835,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-04-16 19:59:00 +0300, , lazy page handle_requests fix return value propagation return epoll_run_rfds positive return value mean event handling loop interrupted event handled outside loop always case uffd_event_fork may happen event occurred completed memory transfer way successful return handle_requests function instead returning return positive value got epoll_run_rfds explicitly assigning return value complete_forks fix issue signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1459,315c4418fe255510da1c3c99544203265e1b13de,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-04-16 19:58:59 +0300, , lazy page merge_iov_lists fix corner case empty destination signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1460,82b7e843e136fab0c7e9dab6d9cbe373c780a6d3,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-04-16 19:58:58 +0300, , lazy page introduce merge_iov_lists helper signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1461,bb2af52190a3bda4b1018b88da0f7a07b057ed37,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-04-16 19:58:57 +0300, , test lazy page exclude maps007 userfaultfd reliably service call maps007 test call passed previously sheer luck signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1462,13f955cdf97373276b822158cf900c54ba1e38fc,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-03-25 16:27:31 +0300, , lazy page kill poll_timeout current model started background page transfer poll_timeout time elapsed since last uffd socket event restored process memory access one poll_timeout eplsilon filling memory take age patch change model following way poll event indefinitely restore complete restore completion event cause reset poll timeout zero start background transfer transfer return check uffd event handle signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1463,333005426fc9b1fac69832107bbd11610b57abc5,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-03-25 16:27:30 +0300, , lazy page add ability limit background transfer size currently get transfer page background try fetch entire iov large iovs may impact latency event occurred transfer let add simple heuristic controlling size background transfer initially transfer limited default value every time transfer chunk increase transfer size reach pre defined maximal size page fault event reset background transfer size initial value signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1464,f68dcdde83640c73375044c5cd84aa047becbfd4,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-03-25 16:27:29 +0300, , lazy page make complete_forks robust complete_forks function presumes always work assume fork event case drop epoll_run_rfds positive return value teach complete_forks bail pending fork process allow exiting epoll_run_rfds different reason signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1465,b11f5796268e3f66c5ad41909916ca751c29f4bd,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-03-25 16:27:28 +0300, , lazy page simplify background transfer logic first check page need transfer afterwards check outstanding request also instead checking bool remaining see work simply check lpi already serviced signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1466,71a3f9aaee93027d2a64f65d6eddcce13cd20b45,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-03-25 16:27:27 +0300, , lazy page rename xfer_pages intention use function transferring page cause signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1467,cc5aa7643857d76e44f562ab81f361b6ed10be6e,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-03-25 16:27:26 +0300, , lazy page rename pick_next_range function anyway pick next page range transfer simple fifo manner signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1468,cbee7c04e75ff78b01bd9ae08325353944e528f2,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-03-25 16:27:25 +0300, , lazy page rework request queueing already queue requested memory range contains lp_req object object hold information lazy_iov start address range end address address range dump time rather keep information twice use double bookkeeping extract requested range lpi iovs move lpi reqs signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1469,971e395e6770e2837dfcc74b5545ae63b43dc437,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-03-25 16:27:24 +0300, , lazy page rename iov base iov start signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1470,8e2f957468498ba29fffb2fe32fd3451dd21f296,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-03-25 16:27:23 +0300, , lazy page lazy_iov use end instead len signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1471,eff067a33b5849c579387bb22f1c8b9a1e59541c,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-03-25 16:27:22 +0300, , lazy page split_iov always create new iov one split signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1472,6115934bce8006293cdd2f0de458d263d4507ff7,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-03-25 16:27:21 +0300, , lazy page explicitly set process exited condition instead relying length various list add boolean variable lazy_pages_info make clean process exited signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1473,6a66b87e12b15089f5526c72e757274d2cd5cc16,ndrey Vagin <avagin@virtuozzo.com>, 2018-03-08 01:43:07 +0300, , zdtm check exit code straced restore currently zdtm detect restore failed executed strace patch fake restore.sh creates test file zdtm able distinguish restore failed signed andrei vagin avagin virtuozzo.com,,
1474,4960d44129cf8c464285b480a16571ec50a01c16,ndrei Vagin <avagin@virtuozzo.com>, 2018-03-23 01:01:37 +0300, , zdtm.py fix logic determing test flavor error case get method requires key using index never work correctly acked adrian reber adrian lisas.de reported adrian reber adrian lisas.de signed andrei vagin avagin virtuozzo.com,,
1475,faf4f72a1f2914a213c86b25364802d70d02d57d,ndrey Vagin <avagin@virtuozzo.com>, 2018-03-16 20:24:30 +0300, , unix split readability acked cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1476,1b52bb436edc951b7c3088a7d3d0badc22ce5b6e,ndrey Vagin <avagin@virtuozzo.com>, 2018-03-16 20:24:29 +0300, , unix fix error code bind_unix_sk acked cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1477,c1ad0f8f6dff8280688152c1e2ad4204c97f9044,ndrey Vagin <avagin@virtuozzo.com>, 2018-03-16 20:24:28 +0300, , unit check name.len twice bind_unix_sk acked cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1478,3347c6efeca307d98e1cf301cdfad68f3ce49750,ndrey Vagin <avagin@virtuozzo.com>, 2018-03-16 20:24:27 +0300, , unix split bind_unix_sk readability acked cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1479,019ebec03ea2bae127bd2eedcb70a22c32f05d49,ndrey Vagin <avagin@virtuozzo.com>, 2018-03-16 20:24:26 +0300, , unix restore socket correct mount point currently restore socket root mount namespace able get information mount point socket bound obviously incorrect case 4.10 kernel added siocunixfile ioctl unix socket ioctl open file socket bound return file descriptor new ioctl allows get mnt_id reading fdinfo mnt_id enough find proper mount point mount namespace logic patch straight forward dump save mnt_id socket restore find mount namespace mnt_id restore socket mount namespace acked cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1480,6d785e6cdd14a111b8ab6bdedbcba9e60b3678f9,ndrey Vagin <avagin@virtuozzo.com>, 2018-03-16 20:24:25 +0300, , unix resolve socket file socket descriptor available called socket collected moment socket descriptor socket descriptor reuired get mnt_id allow resolve socket path mount namespace acked cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1481,0286752b452e9d8d2fbed2035b37359c69d38cf2,ndrey Vagin <avagin@virtuozzo.com>, 2018-03-16 20:24:24 +0300, , kerndat check siocunixfile ioctl unix socket ioctl open file socket bound return file descriptor file descriptor used get mnt_id file path acked cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1482,8ebf1c48f80ccc6b33a8121a6643d1bb11d0bde4,ndrey Vagin <avagin@virtuozzo.com>, 2018-03-16 20:24:23 +0300, , unix handle socket usk_callback external socket usk_callback flag mean socket externel restored plugin called socket make test others unix callback run ... 00.109338 7471 unix opening standalone socket 0xd ino peer 0x63b 00.109376 7471 error criu unix.c 1128 unix bug criu unix.c 1128 acked cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1483,7da537fdcb88ad33a409e6279423683fa388086a,ndrey Vagin <avagin@virtuozzo.com>, 2018-03-16 20:24:22 +0300, , zdtm check unix socket two mount namespaces unix file socket restored proper mount namespaces acked cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1484,a3f152be600f84c935acb0caae009a87940b3969,yrill Gorcunov <gorcunov@gmail.com>, 2018-03-22 16:39:34 +0300, , unix fix nil dereference find_queuer_for walking unix socket make sure queuer present accessing http jira.sw.ru browse psbm 82796 reported vitaly ostrosablin vostrosablin virtuozzo.com signed cyrill gorcunov gorcunov virtuozzo.com reviewed kirill tkhai ktkhai virtuozzo.com,,
1485,0284e70f4d8fe97de34a31a87cc91e1218287339,ir Kolyshkin <kolyshkin@gmail.com>, 2018-03-15 14:09:41 -0700, , script build binfmt_misc fix bash done leftover somehow ignored dash bash remove signed kir kolyshkin kolyshkin gmail.com,,
1486,a2ab074eca6c634e8206cec6d4d17e6bf3b73cd6,ir Kolyshkin <kolyshkin@gmail.com>, 2018-03-15 14:09:40 -0700, , script build used probably committed mistake fix 2d093a170227 travis add job test fedora rawhide signed kir kolyshkin kolyshkin gmail.com,,
1487,c75cb2b58bde9f574ef9b377faa2e88c66a51790,ir Kolyshkin <kolyshkin@gmail.com>, 2018-03-15 14:09:39 -0700, , fix fedora rawhide fix fedora rawhide failure caused coreutils single way running qemu signed kir kolyshkin kolyshkin gmail.com,,
1488,7c4ddebc35ab5c22460bdf4d9377faeebcc29c41,ir Kolyshkin <kolyshkin@gmail.com>, 2018-03-15 14:09:38 -0700, , script build dockerfiles nitpicks sort list package installed unify indentation merge ccache ccache signed kir kolyshkin kolyshkin gmail.com,,
1489,0a4d83798bfa0f40e75dae918acc385bfa6b7d4b,ir Kolyshkin <kolyshkin@gmail.com>, 2018-03-15 14:09:37 -0700, , fix zdtm ubuntu bionic arm clang ubuntu bionic armhf clang compiled armv8l rather armv7l still gcc armv8 default break compilation test using smp_mb error instruction requires data barrier fix add march armv7 cflags already except test signed kir kolyshkin kolyshkin gmail.com,,
1490,780d6ea01dde079afdddb67db87de83c51edd789,drian Reber <areber@redhat.com>, 2018-03-08 19:46:06 +0000, , print criu kernel version also rpc mode newly introduced output criu kernel version doe happen running criu rpc move print_versions function util.c call service.c signed adrian reber areber redhat.com,,
1491,001ea533884bc83c0889f80de4b90f677e45a45b,irill Tkhai <ktkhai@virtuozzo.com>, 2018-02-14 18:37:18 +0300, , inotify use fast way obtaining desired watch descriptor number patch make request specific watch descriptor number instead iterating possible long duration loop system support signed kirill tkhai ktkhai virtuozzo.com,,
1492,db1f00024c7f339fea89be32672eb618abda6a23,irill Tkhai <ktkhai@virtuozzo.com>, 2018-02-14 18:37:10 +0300, , kdat add check inotify cmd new ioctl allows request next descriptor allocated http git.kernel.org pub scm linux kernel git jack linux fs.git commit for_next patch check cmd supported kernel signed kirill tkhai ktkhai virtuozzo.com,,
1493,6dd7eaccfa8612504791d26b8b7ff3258dfc009e,irill Tkhai <ktkhai@virtuozzo.com>, 2017-05-31 20:51:48 +0300, , zdtm make possible claim feature list currently one feature supported add possibility test depend several feature delete excess suggested andrey vagin rename variable decrise patch size signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1494,3ba08939cbca76ef70fafeba5ad9235e6153bb0c,irill Tkhai <ktkhai@virtuozzo.com>, 2018-03-23 12:09:31 +0300, , zdtm actually add tun_ns test previous patch missed git add simlink .desc file sent ... signed kirill tkhai ktkhai virtuozzo.com,,
1495,c90c7bd5e6b5023a4e740104c1912d45d20140c1,ndrei Vagin <avagin@virtuozzo.com>, 2018-05-12 01:02:36 +0300, , net set_netns set root net ns_id zero need save backward compatibility old image zero absent image file signed andrei vagin avagin virtuozzo.com,,
1496,7e355e7b12edb39e7cc3fe17c2b4bb4d894abf76,ndrew Vagin <avagin@virtuozzo.com>, 2018-03-02 15:46:53 +0300, , zdtm add tun_ns test tun test nested net wrapper signed andrew vagin avagin virtuozzo.com ktkhai makefile hunk signed kirill tkhai ktkhai virtuozzo.com,,
1497,cd7dac19a7228fcedc228e4999ead29a20acc44e,ndrew Vagin <avagin@virtuozzo.com>, 2018-03-02 15:46:45 +0300, , net dump tun device net img add new tunfile_entry ns_id field populates standard socket way restore ns_id choose correct namespace note could completelly skip set_netns restore case has_ns_id using top_net_ns invents definite behaviour signed andrew vagin avagin virtuozzo.com ktkhai comment written code movings signed kirill tkhai ktkhai virtuozzo.com,,
1498,62d7780166c6736be64e52a71f7ad6e46e8fdf40,irill Tkhai <ktkhai@virtuozzo.com>, 2018-03-02 15:46:37 +0300, , tun check net tun device dumped similar socket logic abort dump tun related net seen  signed kirill tkhai ktkhai virtuozzo.com,,
1499,fe7d8a922de4a9cc5d51669ff1d2c26ca48f8d79,irill Tkhai <ktkhai@virtuozzo.com>, 2018-03-02 15:46:28 +0300, , tun check tun ioctl cmd siocgskns signed kirill tkhai ktkhai virtuozzo.com,,
1500,8f9553a0d2e3b72c67aaf765bc599fd49ab6c77c,irill Tkhai <ktkhai@virtuozzo.com>, 2018-03-02 15:46:20 +0300, , net extrack ioctl call refactoring functional change signed kirill tkhai ktkhai virtuozzo.com,,
1501,de25f4cebcca4859c2ddefb765e71c9ecdf1ad25,irill Tkhai <ktkhai@virtuozzo.com>, 2018-02-19 18:59:42 +0300, , service_fd place lazy page fdstore need every process frequently used place fdstore http travis ci.org tkhai criu build 343405755 signed kirill tkhai ktkhai virtuozzo.com,,
1502,36ad24a1938bad90695b1df7102b8a385fa10119,irill Tkhai <ktkhai@virtuozzo.com>, 2017-06-07 14:29:32 +0300, , user_ns prepare cred newly created task socket sent via scm_credentials kernel interface need uid gid mapped see __scm_send kernel set send_fds use also move uniformity signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1503,8fadf2b3192b35185bb5f05dcab2509771a3919b,irill Tkhai <ktkhai@virtuozzo.com>, 2017-03-21 12:04:31 +0300, , export signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1504,463951aabf38d1c7a134c532bfe0c5f2e218bd05,ndrei Vagin <avagin@virtuozzo.com>, 2018-04-05 21:33:12 +0300,466, test set uid_map invalid_uid map http github.com checkpoint restore criu issue 466 signed andrei vagin avagin virtuozzo.com,,
1505,137ce1a5fa8412497a284c69214a628474ee4e11,avel Emelyanov <xemul@virtuozzo.com>, 2018-03-29 21:58:56 +0300, , criu version 3.8.1 bug sneaked shell job restore 3.8 merge signed pavel emelyanov xemul virtuozzo.com,,
1506,c297c994bc6a808ff8be998285e61c71d910b4bc,ndrei Vagin <avagin@virtuozzo.com>, 2018-03-27 20:48:25 +0300,460, restore call fdstore_init twice core init fdstore even earlier commit moved master branch one hunk lost http github.com checkpoint restore criu issue 460 signed andrei vagin avagin virtuozzo.com,,
1507,c21e09cfe2f226cd14058ef5c4b0cbf7421293d2,avel Emelyanov <xemul@virtuozzo.com>, 2018-03-13 15:42:34 +0300, , criu version 3.8 slowed little still new feature bugfixes appear time improved lazy migration completed scm message support added nesting netns support two net mnt many small fix signed pavel emelyanov xemul virtuozzo.com,,
1508,ce437d3dc568775f17727ecf7bfeea42ee6f7caa,mitry Safonov <dima@arista.com>, 2018-02-27 13:42:55 +0000, , x86 kdat check ptrace_traceme return value coverity informed cid 188251 error handling issue checked_return criu arch x86 crtools.c 196 190 return 191 192 endif 193 194 static int void arg 195 cid 188251 error handling issue checked_return calling ptrace without checking return value done elsewhere time 196 ptrace ptrace_traceme 197 kill getpid sigstop 198 pr_err continue sigstop urr 199 _exit 200 201 also added check kill waitpid signed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1509,b24735429b0636485102236f14f7cd677a23350b,irill Tkhai <ktkhai@virtuozzo.com>, 2018-02-20 12:28:52 +0300, , zdtm fix race zdtm transition epoll.c test child may see close result receives signal see instead game later close stop sys_exit program finish close reported andrey vagin avagin virtuozzo.com signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1510,900025dbda12649bf80ddca56e99bd3fe1d29a36,ndrei Vagin <avagin@virtuozzo.com>, 2018-02-26 03:19:07 +0300,445, net save attribute sit device currently save attribute non zero value example default value ipproto_ipv6 save even attribute zero value http github.com checkpoint restore criu issue 445 fix 4a044e6af93f net dump regular sit device pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1511,33c58d94d7d1294e8263205de96c796ac5632b5d,irill Tkhai <ktkhai@virtuozzo.com>, 2018-02-19 11:51:12 +0300, , net fix namespace leak get_socket_ns open ns_fd via ioctl siocgskns never close fix signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1512,a58e1f6ff936b2225ee80756a568fd1bd1474bcf,mitry Safonov <dima@arista.com>, 2018-02-15 21:08:04 +0000, , kerndat separate per arch kerndat x86 kerndat section crtools.c grown much let make readable looking cleared include list better parallelize build maybe turn __weak function defines clean defines ifdefs generic file strong opinion signed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1513,455b5aea2bb055910ba746f93b6510104cb88e64,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-02-18 21:57:06 +0200, , test jenkins add script lazy migration testing signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1514,d499aeadf6d609d4f1a7b85c84092d8c90aef9f5,ndrei Vagin <avagin@virtuozzo.com>, 2018-02-18 21:57:05 +0200, , zdtm enable lazy migration testing lazy migrate option allows testing lazy migration running flavor signed andrei vagin avagin virtuozzo.com signed mike rapoport rppt,,
1515,8c87d345759f8a19ba899f98db5424cf0df34b21,ndrei Vagin <avagin@virtuozzo.com>, 2018-02-08 21:21:07 +0300,1, restore print error ptrace failed cid 85039 unchecked return value checked_return check_return calling ptrace without checking return value done elsewhere time signed andrei vagin avagin virtuozzo.com,,
1516,fd9f0aaa35618fd6c34a8b3b58b8667755a2c69c,ndrei Vagin <avagin@virtuozzo.com>, 2018-02-08 21:18:22 +0300,1, cgroup print error umount rmdir cid 155804 unchecked return value checked_return check_return calling umount2 without checking return value done elsewhere time signed andrei vagin avagin virtuozzo.com,,
1517,526f491a26390646139a1f021ed471175fa2f05e,ndrei Vagin <avagin@virtuozzo.com>, 2018-02-08 20:49:22 +0300,1, soccr leak memory error path cid 172198 resource leak resource_leak leaked_storage variable going scope leak storage point signed andrei vagin avagin virtuozzo.com,,
1518,7a5d310ddc3cace4bd311d2a5729b016161a9d95,ndrei Vagin <avagin@virtuozzo.com>, 2018-02-06 05:04:06 +0300,1, util print error log cid 154076 unchecked return value library checked_return check_return calling setsockopt val without checking return value library function may fail return error code signed andrei vagin avagin virtuozzo.com,,
1519,5f94389c6bf46c00c4ac248bc2b2889ef5e954ae,ndrei Vagin <avagin@virtuozzo.com>, 2018-02-06 04:56:00 +0300,1, cgroups leak memory error path cid 161693 resource leak resource_leak leaked_storage variable new going scope leak storage point signed andrei vagin avagin virtuozzo.com,,
1520,93b539378bf54f38fe1bdda9d3f2a7745938ae01,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-02-02 11:41:01 +0300, , criu fix leak detected coverity scan part cid 179043 use_after_free close bfd safe double close cid 179041 resource leak resource_leak forget close error signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1521,31d84043fffe5ecd64b2f3c873b9e48d1deda6b8,mitry Safonov <0x7f454c46@gmail.com>, 2018-02-11 14:00:52 +0000, , zdtm fix coverity warning cid 185302 null pointer dereferences null_returns test zdtm static 107 dereferencing pointer might null ifname calling strncpy also warning using rand sure need entangle everything pleasing coverity cid 185301 security best practice violation dc.weak_crypto rand used security related application linear congruential algorithm easy break leaving marking coverity wontfix signed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1522,3f6145ad79c785ca53293f43c0fc4e9c752323ec,mitry Safonov <0x7f454c46@gmail.com>, 2018-02-11 14:00:51 +0000,383, zdtm find cgroup controller name mount also dropped noauto patch reverting commit be98273cf137 zdtm mark static noauto see sense separate another patch fix 383 signed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1523,a91b2e90a7ba7e8690c8abbfdc4b2fba704c32df,ike Rapoport <rppt@linux.vnet.ibm.com>, 2018-02-11 15:53:15 +0200, , page pipe allow pipe sharing different ppb type currently pipe shared lazy non lazy ppbs lazy migration fails data transfered demand spliced image preventing pipe sharing ppbs different type resolve issue order still minimize pipe fragmentation track last pipe used certain ppb type use ppb type signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1524,8d98d86467fe27060c3ac704c9ac1e4038f207f8,mitry Safonov <0x7f454c46@gmail.com>, 2018-02-14 01:41:19 +0000, , zdtm fpu02 run test x86 platform fix commit 925451c12b2e zdtm x86 add mxcsr preserving fpu test signed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1525,4130507209ed58ffff0c6c3c5dbd7a318a2a449e,ndrei Vagin <avagin@virtuozzo.com>, 2018-02-04 08:22:59 +0300, , criu fix gcc warning criu packet.c 443 error strncpy output may truncated copying byte string length strncpy req.ifr_name sa_data_size  criu img remote.c 383 error strncpy specified bound 4096 equal destination size strncpy snapshot_id snapshot_id pathlen  criu img remote.c 384 error strncpy specified bound 4096 equal destination size strncpy path name pathlen  criu files.c 288 error strncpy output may truncated copying 4095 byte string length 4096 strncpy buf link name path_max  criu unix.c 239 error directive output may truncated writing byte region size 4095 snprintf path sizeof path dir name  criu unix.c 239 note snprintf output byte assuming 4098 destination size 4096 snprintf path sizeof path dir name  criu mount.c 2563 error strncpy specified bound 4096 equal destination size strncpy path mountpoint path_max  criu restore.c 3647 error strncpy specified bound equal destination size strncpy task_args comm core comm sizeof task_args comm  signed andrei vagin avagin virtuozzo.com,,
1526,7f5e8649b08d860701b37753ff5c716005317387,ndrei Vagin <avagin@virtuozzo.com>, 2018-02-04 08:22:58 +0300, , zdtm fix gcc warning fs.c error strncpy specified bound equal destination size werror stringop truncation strncpy fsname fsname sizeof fsname  signed andrei vagin avagin virtuozzo.com,,
1527,7ca30056545f52613f3d5a9edcc3bf2236b85757,mitry Safonov <dima@arista.com>, 2018-02-07 12:48:54 +0000, , compel explicitely align container aligned structure contain also aligned 16. kernel align two separate definition one ia32 another x86_64 fix newly introduced align warning gcc 8.1 file included compel include uapi compel asm sigframe.h compel plugins std infect.c compel include uapi compel asm fpu.h error alignment struct werror packed aligned __packed  change current align struct containing structure __packed aligned already fact affect function user struct local variable lay aligned stack signed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1528,ba1b93d35767ab88564809a7e0730921337db9a5,mitry Safonov <dima@arista.com>, 2018-02-07 12:48:53 +0000, , zdtm x86 add mxcsr preserving fpu test helped bit debug skylake ptrace bug let put signed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1529,d302f600a36b269148807a191ea071d98634bfe9,mitry Safonov <dima@arista.com>, 2018-02-07 12:48:52 +0000, , compel cleanup infect_ definition ugh spent min a.m. figure test failing reason stupied defined new flag 0x8 0x16 0x10 simplify definition simple minded living creature like dima signed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1530,5f185caa73d7e1dd31cc278fbeea630df56b347f,mitry Safonov <dima@arista.com>, 2018-02-07 12:48:51 +0000, , compel x86 add workaround ptrace bug skylake skylake processor kernel older v4.14 ptrace pid nt_x86_xstate iov may return full xstate ommiting part patch describes bug http www.mail archive.com linux kernel vger.kernel.org msg1318800.html anyway fixed v4.14 kernel believe andrey http patch 9567939 still support kernel v3.10 newer need workaround kernel bug skylake cpu big thanks shlomi report effort providing amazon test wish bug reporter like reported shlomi matichin shlomi binaris.com provided test env shlomi matichin shlomi binaris.com investigated andrei vagin avagin virtuozzo.com signed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1531,0e609f8cabf2fc3f58f093d26a9737bbb121e68d,mitry Safonov <dima@arista.com>, 2018-02-07 12:48:50 +0000, , compel x86 separate function used get fpu state mere cleanup skylake workaround call one another better separate small helper signed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1532,8a8717da5ac182e4b7b3d5b8c3aa02b2c2030755,mitry Safonov <dima@arista.com>, 2018-02-07 12:48:49 +0000, , compel add ctx flag get_task_regs get_task_regs need know need use workaround skylake ptrace bug next patch introduce new flag also thought making version get_task_regs adding ictx get_task_regs depending flag get_task_regs private function infect_ctx uapi let pas context flag get_task_regs signed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1533,d59276f08ad54c645966d0f9cf97e117abfaa483,mitry Safonov <dima@arista.com>, 2018-02-07 12:48:48 +0000, , compel infect unite save_regs_t save_regs declaration anyway define save_regs_t purpose use function declaration unify infect_ctx style add make_sigframe_t mere cleanup signed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1534,a41cc56cd805ae929d00d8668bab991d21cd12c3,mitry Safonov <dima@arista.com>, 2018-02-07 12:48:47 +0000, , x86 kerndat add check ptrace bug skylake need know ptrace pid nt_x86_xstate iov return xsave without state part signed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1535,3b71b95a190cfea5ecef73b059fe942bef485e7d,mitry Safonov <dima@arista.com>, 2018-02-07 12:48:46 +0000, , x86 crtools add fork err path handle error path failed fork look originally forgotten oops also print message failed fork signed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1536,f89aa7f35b430136579ec3941d342c71ca9187fc,irill Tkhai <ktkhai@virtuozzo.com>, 2018-02-08 18:01:14 +0300, , inotify fix open_ notify_fd never fails ignore restore_one_ notify error code make open function fail restore signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1537,23dad9829d299d5b0885b8287c07c691b928f517,irill Tkhai <ktkhai@virtuozzo.com>, 2018-02-08 18:00:54 +0300, , inotify ddos debug message restore watch descriptor imagine restore inotify watch descriptor 0x34d71d6  1.235021 5578 fsnotify watch got 0x1 0x34d71d6 expected ... ... 527.378042 5578 fsnotify watch got 0x34d71d3 0x34d71d6 expected 527.378042 5578 fsnotify watch got 0x34d71d4 0x34d71d6 expected 527.378042 5578 fsnotify watch got 0x34d71d5 0x34d71d6 expected stop stop generating debug message already print message let add one signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1538,3b3384352dd355407edd97a9d529b9bb27db87a7,adostin Stoyanov <rstoyanov1@gmail.com>, 2018-02-07 02:40:09 +0000, , fix typo signed radostin stoyanov rstoyanov1 gmail.com signed andrei vagin avagin virtuozzo.com,,
1539,c670abb8d80527597148af38f240ed698704c36e,irill Tkhai <ktkhai@virtuozzo.com>, 2018-02-01 20:10:17 +0300, , zdtm add scm06 test test make looped unix socket queue try iterate restore signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1540,75be843cddada59b5e72fcc1035102fe6cf8fdf9,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-30 18:43:32 +0300, , file allow send unix socket unix socket everything ready message queue restores second stage open type unix socket need make scm wait allow dump scm context signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1541,fdb7bde5c7b38ea674e33db52b8a3a4aedb792da,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-30 18:43:23 +0300, , unix move dump_sk_queue peer resolution allow unix socket sent unix socket dump_sk_queue may dump resolve peer need run firstly avoid linking peer_node peer peer_list signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1542,254958ce723657e352463090a40659b4e5b2a642,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-30 18:43:14 +0300, , unix add fake queuer standalone dgram socket similar previous patch make second end dgram socketpair open till post open allows delay restore message queue signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1543,d8ae190ef62e569460d28ce4876e71f1decd864b,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-30 18:43:06 +0300, , unix add fake queuer standalone stream socket established state make second end socketpair live till post_open need alive want restore message queue later otherwise queuer used actually write message signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1544,aae41a636782af0b5ab72a449d6762cee0f06378,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-30 18:42:57 +0300, , unix split extract functionality make socket memory initialization signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1545,7a5919cc3e1ee7488f737cc8b1e67068b89cf60c,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-30 18:42:48 +0300, , file implement function used allocate fake file confuse fake fds e.g fles suggested pavel emelyanov xemul virtuozzo.com signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1546,22371247328f543f119d9d4f779564bef592282c,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-30 18:42:39 +0300, , unix postpone standalone socket may shutdown socket queuer able connect action must postponed problem since long ago lucky bumped signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1547,b0493135c5670fae40b5c5488c1bf4b1b8aefba1,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-30 18:42:31 +0300, , unix make unix_sk_info queuer pointer use pointer queuer instead signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1548,f44b542264333393d2049905cbb1b50add833d78,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-30 18:42:22 +0300, , unix move queue restore interconnected pair post open actually functional change postpone restore queue used patch restore unix socket sent unix socket signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1549,58ec2ddf731b2b2476f765268c70c34bbfdb13d2,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-30 18:42:13 +0300, , unix rework peer transfer previous patch master slave end socketpair owned task may avoid using second end reopen right pid signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1550,6648656dec30856c6a905c452466421574c4edeb,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-30 18:42:05 +0300, , file export signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1551,0f6f224656d6eac998714833cef9828e801fd464,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-30 18:41:56 +0300, , unix add fake interconnected socket going split interconnected pair restore two stage since need second end restore message queue future post open add process owner first end signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1552,cc0c57d98881c15696b8dbb899f3ed451de19793,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-30 18:41:47 +0300, , unix remove unused code since new file engine introduced care particular pid master slave signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1553,60f47e910775eb5624cc36271e812e48171d3261,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-30 18:41:39 +0300, , unix generalize get_fle_for_scm add new argument change debug print used fle scm signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1554,de8318c34114a7551ad9d1a1c22b991159ed3e51,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-30 18:41:29 +0300, , file add force_master argument functional allows make fle master time collection use add fake file need used add second end socketpair fake fle first end placed right place force add second end see next patch signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1555,de27a7c656fbcd3720984313336ae563cae464e9,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-30 18:41:20 +0300, , unix move rename since function used standalone socket move appropriate place functional change signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1556,8377abeb1f02dbba2e8fe05b25be01faa2f433ae,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-30 18:41:10 +0300, , file allow epolls sent unix socket since epoll restore split two part epoll_create doe depend another file state since epoll created sent everywhere circular dependence allow epolls sent unix socket signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1557,7d1eeee729930fd85c2bc92ed7a87f2bd7bd90a2,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-30 18:41:02 +0300, , zdtm add scm05 test create socketpair epoll add one end socketpair epoll twice send another end restore check epoll received via socket contains event signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1558,4ca191148924d6496e8d8a523bc504a03d5c8898,ndrei Vagin <avagin@virtuozzo.com>, 2018-02-02 10:19:35 +0300, , travis fail build s390 job failed build s390x fail due qemu bug signed andrei vagin avagin virtuozzo.com,,
1559,7f936f3bbb171ad6ab2ee454b803483ec0799f19,ndrei Vagin <avagin@virtuozzo.com>, 2018-02-02 00:55:29 +0300, , zdtm fix lint warning make lint flake8 config script flake8.cfg test zdtm.py test zdtm.py 323 f841 local variable assigned never used signed andrei vagin avagin virtuozzo.com,,
1560,4fe32e5d44bda19e02ac3c00f2080f8d79f86cc2,irill Tkhai <ktkhai@virtuozzo.com>, 2018-02-01 17:54:12 +0300, , zdtm fix fd01 cleanup waitpid doe return child pid child exited use find pid child signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1561,f48bf9825fcdc169f20d3ec6ef7d509d87c8bc46,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-01-29 11:21:08 +0300, , mount fix cwd_fd leak clone error close cwd_fd error path found coverity scan cid 187162 resource leak resource_leak criu mount.c 1370 open_mountpoint 1364 1365 pid clone_noasan clone_vfork clone_vm 1366 clone_files clone_io clone_sighand 1367 clone_sysvsem 1368 pid 1369 pr_perror clone helper process cid 187162 resource leak resource_leak handle variable cwd_fd going scope leak handle 1370 return 1371 1372 1373 errno 1374 waitpid pid status __wall pid wifexited status 1375 wexitstatus status signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1562,455b96c0785f09419fbd43e7ca842acc7d3a532f,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-01-29 11:21:07 +0300, , mount fix uninitialized use switch_ns error close_safe operate uninitialized case error switch_ns found coverity scan cid 187164 uninitialized variable uninit criu mount.c 1313 open_mountpoint 1307 err 1308 return 1309 1310 1311 int open_mountpoint struct mount_info 1312 cid 187164 uninitialized variable uninit declaring variable without initializer 1313 int cwd_fd ns_old 1314 1315 overmounts child entire mount visible 1316 list_empty child 1317 return 1318 signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1563,901d0de945ca876421a60662c7668632fdcec34f,ndrei Vagin <avagin@virtuozzo.com>, 2018-01-28 23:11:33 +0300, , zdtm suppress useless error message start test mxcsr pidfile mxcsr.pid outfile mxcsr.out run criu dump unable kill errno process one run criu restore run criu dump signed andrei vagin avagin virtuozzo.com reviewed dmitry safonov 0x7f454c46 gmail.com,,
1564,9c93e0d3ef29129bdc02519c45305d8c48d92db8,ndrei Vagin <avagin@openvz.org>, 2018-01-25 17:27:19 -0800, , criu fix two issue possible bound access signed andrei vagin avagin openvz.org,,
1565,ecbec8be076b444511c0cc74033fa9c5e66929bb,ndrei Vagin <avagin@openvz.org>, 2018-01-25 16:46:59 -0800, , bfd avoid bound access write nullbyte enought space stephen ttger gmail.com reported stephen ttger gmail.com signed andrei vagin avagin openvz.org,,
1566,0d9d27120329cfefcc0e8f32ef39c5ce9ec909c0,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-01-17 10:56:09 +0300, , file change error warning linkat_hard error path print error error case calling linkat_hard anyway error like eexist fine skip print error signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1567,9ffe2f338d938af90c05ab542299109e5f70f135,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-01-17 10:56:08 +0300, , zdtm check ghost restores readonly also ghost writable bind test fix bit tricky fully support ghost readonly ghost remaped _other_ bindmount luckily ghost bind moreover wrong absolute path generated old _another_mp lnkat always fail case want linkat mount _other_ mountns absolute path make local mountns local path readonly fail remove unused header signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1568,f7934aa31b80fe8ebfc6420acccc824a5a9d140d,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2018-01-17 10:56:07 +0300, , file make always return relative path dmi ns_mountpoint dst return ... absolute path want path relative dmi mount adding path guaranty always relative http jira.sw.ru browse psbm 72351 signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1569,248a04e086087a7f5fdf9c589ca5f588fd606274,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-10 17:03:19 +0300, , zdtm add fd01 test fork task create fds different number child share file parent clone_files check suspend resume case new signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1570,64ae0364d1c07cf4dfe187f900d2b98da0a2f983,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-10 17:03:10 +0300, , file make task set service_fd_base currently set rlim rlimit_nofile unlimited place service fds lead signify problem every task biggest possible files_struct kernel consumes excess memory restore comparation dump situation may end restore fail enough memory memory cgroup node patch fix problem introducing task measured service_fd_base calculated dependence max used file placed near right border kernel allocated memory hunk task fds see alloc_fdtable detail reduces kernel allocated files_struct 512 fds process standard linux system analysed process work system also since standard process service_fd_base actualy dup service fds like moment one reason still keep service fds range fds try use unused hole task fds signed kirill tkhai ktkhai virtuozzo.com add handle big number near fix excess accounting equal pow minus signed andrei vagin avagin virtuozzo.com,,
1571,928d116d910ec40cfd31db79e67973d889704d5b,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-10 17:03:02 +0300, , file prepare overlaping range normal life impossible case big fdt number many process sharing file custom service_fd_base normal clone_files child process may overlaping service fds parent fdt patch introduces memmove behavior currently memcpy behavior used next patch signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1572,6c4b0de065404f4b0a5365f4d33797027af35709,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-10 17:02:53 +0300, , file refactor patch move part separate function change readability code functional change refactoring signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1573,37b99ebe5bc65bf48218d8bfe079bc59bc0a39a9,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-10 17:02:44 +0300, , file later patch make call service fds relocation prepare_fd_pid next patch make service_fd_base depend task max used root_item need read fles know maximum signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1574,d076328ce067baeeb38682b246a6739753e5f582,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-10 17:02:35 +0300, , file close old service next patch make service_fd_base contant floating change task task patch make preparation close old service duplicated currently code unused case rsti clone_flags clone_files child parent duplication doe occur signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1575,dfb7705df09a05647ee75a85abef403d37fd9195,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-10 17:02:27 +0300, , file pas pstree_item argument refactoring next patch signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1576,72c1c1a6ab203c7c74da879d41f4e6ae47fe00ca,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-10 17:02:18 +0300, , file count inh_fd_max patch count maximum inherited fds value used next patch signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1577,ab36e28dd8f8012ead606bd76ad44cf72478de64,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-10 17:02:09 +0300, , file rename next patch make service fds number connected rlimit change name better fit goal also leave variable cached access rlimit value signed kirill tkhai ktkhai virtuozzo.com comment signed andrei vagin avagin virtuozzo.com,,
1578,71ccb4a074e1c37c33857aa619004951997818e2,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-10 17:02:00 +0300, , sfds protect service fds mark area service fds modification prohibited new signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1579,79bebdda96d27088927980019c3959b06732421a,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-10 17:01:51 +0300, , sfds populate pid proc patch populates occupies proc_fd_off number goint replaced atomically next patch new signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1580,f4cbf3849880412ca14ad67727b6e2b887c800f1,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-10 17:01:33 +0300, , mnt populate root_fd_off patch populates occupies root_fd_off guarantee reused ordinary fds new signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1581,f326061d985c32bb0e298b97d0804e897be9c6cf,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-12 11:55:27 +0300, , sfds protect service fds reuse patch introduces sfds_protected allows mask area modification sfds prohibited guarantee populated sfds reused new add comment print sfd type bug signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1582,2f3017868ea8a23053b6d9bed499e46c491e2b67,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-10 17:01:15 +0300, , utils add function print call trace process borrowed http www.gnu.org software libc manual html_node backtraces.html backtrace implemented alpine use __glibc__ ifdef compile function new signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1583,c8449dbb0493325a6acddd00cf75a1f90ed69225,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-10 17:01:06 +0300, , socket remove useless close_pid_proc set_netns net namespace doe act proc pid context close completely useless new signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1584,86289c568e04de467ea893a0231585bc1d65d63a,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-10 17:00:57 +0300, , mnt remove useless close call silently close already open kill make atomical root_fd_off modification close_pid_proc need root_item proc directory action act new signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1585,8a22e343f7830bb421af61b1edf743dd44f323d8,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-10 17:00:48 +0300, , file close proc_pid_fd_off sfd prepare_fds need close proc self service occupy real task number closing proc_pid_fd_off useless action already occupy service number skip excess syscall leave proc_pid_fd_off open new signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1586,854342a50afee7815bc48b3d9141fc9c8309ec40,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-10 17:00:39 +0300, , sfds kill self_stdin_off via fdstore place stdin fdstore kill self_stdin_off new signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1587,64e2791319f3ec05fc66a670736d9bbe461ec275,irill Tkhai <ktkhai@virtuozzo.com>, 2018-01-10 17:00:32 +0300, , core init fdstore even earlier next patch move self_stdin_off sfd fdstore patch move fdstore_init tty_prep_fds new signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1588,7b87f1635e311ef199e5ec57c5d53d821b7a0db4,irill Tkhai <ktkhai@virtuozzo.com>, 2017-12-28 13:51:03 +0300, ," zdtm add zombie01 test create zombie specific pgid check pgid remains restore test hang criu restore without two previous patch without restore call prepare_fds 100 case without restore split wait exiting zombie child fail racy add something like criu restore.c 1130,6 1130,8 static int coreentry core task_entries null task_entries current parent pid state task_alive sleep   fail almost 100 probability signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com",,
1589,fa098801658a5882a347df24f1434d4e9bbba3f8,irill Tkhai <ktkhai@virtuozzo.com>, 2017-07-14 15:40:23 +0300, , zdtm add cleanup fork definition make generic function arch may useful want add clone flag fork want pas one argument child function glibc clone alows one signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1590,e23806f3d04a7fd7bc3c6bb7c17dbfa4663f42ac,irill Tkhai <ktkhai@virtuozzo.com>, 2017-12-28 13:50:54 +0300, , restore split wait exiting zombie child zombie also choosen parent task helper like task task helper exit sig_unblock standard criu sigchld handler called restore fails 00.057762 error criu restore.c 1557 exited status 00.057815 error criu restore.c 2465 restoring failed patch make behave wait child exit allowing sigchld make safe race exiting child see next patch test detail signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1591,ec761499e5b3569134e41ffe73a0110d4456368e,irill Tkhai <ktkhai@virtuozzo.com>, 2017-12-28 13:50:45 +0300, , restore call prepare_fds zombie may choosen parent task helper solving pgid dependence situation becomes share fdt helper call prepare_fds decrement fdt signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1592,820bad96290d61507f8aeec66f76170deab8445d,irill Tkhai <ktkhai@virtuozzo.com>, 2017-12-28 13:50:37 +0300, , zdtm export header make possible use function test signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1593,0da7d97117823ce549a9569412cfad81f7e82f76,irill Tkhai <ktkhai@virtuozzo.com>, 2017-12-28 16:09:21 +0300, , file kill unused ctl_tty_off leftover ctl_tty_off unused purge code signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1594,7a6fe6f0ca1413ec91fc23fadec3522499403e18,irill Tkhai <ktkhai@virtuozzo.com>, 2017-12-28 16:09:13 +0300, , file move ctl_tty_off fixup generic file engine two problem first ctl_tty_off occupies one biggest available fds system number near next patch want allocate service fds lower want know max used file fles image reading since one fds already set big ctl_tty_off stage collection fles availabe service fds near vicious circle way change ctl tty allocation way second problem ctl tty ugly generic file engine fixup see open_fd made ctl tty slave fle need additional action see another file type receive slave fle anything else patch move ctl tty generic engine solves problem implement new ctl_tty file type open method wait till slave tty received call fit generic engine well allocates via find_unused_fd polute file table big number next patch kill currently unneed ctl_tty leftover remove ctl_tty_off service criu signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1595,8a9460001887870c2ff618613d5548da26a62848,irill Tkhai <ktkhai@virtuozzo.com>, 2017-12-28 16:09:04 +0300, , file move prepare_ctl_tty criu tty.c move function reduce argument number cleanup needed keep tty code together signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1596,e4c25f2b3fb0b798afa6c388bf268acfd0b68b8f,irill Tkhai <ktkhai@virtuozzo.com>, 2017-12-28 16:08:55 +0300, , file close ctl tty via generic engine mark fle fake engine work signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1597,832c9aef36cfba130cae8af67edb66779d94f5a1,irill Tkhai <ktkhai@virtuozzo.com>, 2017-06-28 13:45:42 +0300, , file fix crossing unused service fds shared table service_fd_id specific task task shared table group may bigger number case given unused intersects service fds task lead undefined behaviour fix signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1598,66f55b5e0c0aef5457e97fd9e42c0322af1b4159,irill Tkhai <ktkhai@virtuozzo.com>, 2017-06-28 18:54:51 +0300, , restore iterate parent file find leftover patch speed creation child process disabling iteration open file case really need previous patch make parent file leak mnt namespace fds stored fdstore pid proc file closed directly skip closing old file case except clone_files case need parent clone_files flag root_item signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1599,f11a0ce0ebea453fa9b5eab377b01532afaf1e52,irill Tkhai <ktkhai@virtuozzo.com>, 2017-06-28 18:54:42 +0300, , restore use vpid log_init_by_pid instead getpid task pid namespace getpid used identify use vpid instead also move log_init_by_pid pid check signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1600,2fe6081834b6c5d07306510c11db5cc94b6aa37d,irill Tkhai <ktkhai@virtuozzo.com>, 2017-06-28 18:54:33 +0300, , forking always close pid proc child creation child doe know parent pid proc close next patch close_old_files optional base fact leftover fds close pid proc directly signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1601,dcac6d66c54c1c637e2621b97eb7e07b62021204,irill Tkhai <ktkhai@virtuozzo.com>, 2017-06-28 18:54:25 +0300, , mnt_ns use fdstore keep mount namespaces allows decrese number file descriptor passed child need close close_old_files signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1602,58b3b9ee3fb475f029f2b4e45c84de912ac637aa,irill Tkhai <ktkhai@virtuozzo.com>, 2017-06-28 18:54:16 +0300, , mnt move ns_fd assignment prepare_mnt_ns functional change signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1603,d433a3e902116a3dba87d1caa4cf0e059a2ffbe2,irill Tkhai <ktkhai@virtuozzo.com>, 2017-06-28 18:54:07 +0300, , utils introduce swap helper exchange two variable signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1604,4c68ed7d7e7d0f0b2fcdd4b955e9ceeb59700f35,irill Tkhai <ktkhai@virtuozzo.com>, 2017-06-28 18:53:57 +0300, , mnt_ns move open_proc prepare_mnt_ns branch need move signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1605,bda944e175729caec41fa80fe9ae313965115c50,irill Tkhai <ktkhai@virtuozzo.com>, 2017-05-05 19:12:49 +0300, , mnt put root fdstore may called task root_user_ns fails put root fdstore allow use every task new signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1606,0f7e6928d7090aa9893c826f7cc166d82263b6ba,irill Tkhai <ktkhai@virtuozzo.com>, 2017-02-23 18:15:26 +0300, , proc close cr_proc_fd_off later cr_proc_fd_off need accessing foreign task fds used future uniformity signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1607,7952c6a78d9aa3f081cfc0a67fcf7ef722c929a5,irill Tkhai <ktkhai@virtuozzo.com>, 2017-05-05 19:13:23 +0300, , restore open transport socket earlier need named socket communicate pid_ns helper see next patch receive answer impossible send answer unnamed socket already transport socket reuse goal patch make transport socket created creation child task also created alive task need additional manipulation task_helpers e.g. call prepare_fdt return clone_files clone argument task helper creation also get rid fdt_mutex clone_files process doe close old file clone also socket system call return service fds range main reason mutex signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1608,72e5006564312ed38f25024d90982c40eba2bef2,irill Tkhai <ktkhai@virtuozzo.com>, 2017-05-05 19:13:13 +0300, , file make possible task helper use next patch create transport socket task helper helper forked using clone_files must resolve shared fds create service fds patch allows  digged code reason need pid_rst_prio choosing fdt restorer case may safely deleted guarantee case task_helper restorer fdt parent i.e. one task_helper restorer fdt new signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1609,563efd3f25c6c3634dfcb2243379fbc5670ad2f5,irill Tkhai <ktkhai@virtuozzo.com>, 2017-05-05 19:13:04 +0300, , pstree change type check parent refactoring used next patch bug_on mention parent must set call function new signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1610,0fcaeea9122e381b1585e52574bedb1414e59e39,irill Tkhai <ktkhai@virtuozzo.com>, 2017-03-20 15:11:58 +0300, , file close transport socket twice close unification service fds kill second close signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1611,cc5dbf51d8894f628b5f61e04d07650d027ee2c6,yrill Gorcunov <gorcunov@openvz.org>, 2017-05-30 21:13:33 +0300, , sfd lift limit bootup minimize chance hit problem file used page transfer trying use number reserved service signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1612,28af7aa0377e91ce118f8ebc03c56011087d8503,yrill Gorcunov <gorcunov@openvz.org>, 2017-05-30 21:13:32 +0300, , kdat add fetching file stat need unlimit file allocation service reserving later parasite code run implemented vz7 instance soon ported vanilla signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1613,8b51779520bed4ed8a985bc27070a47fefef1357,irill Tkhai <ktkhai@virtuozzo.com>, 2017-06-01 14:35:09 +0300, , file unexport collect_task_fd one user unexport signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1614,6d40803eea3a5e41533d69e8c521097e658384cd,irill Tkhai <ktkhai@virtuozzo.com>, 2017-06-01 14:34:42 +0300, , autofs add type add fake type autofs allows function like find_file_desc work expected without two different file_desc type  also later allow delete use generic helper signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1615,8fdacca5274d8b6e1dead7bb8e865904b15fb365,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2017-12-11 19:07:26 +0300, , zdtm improve test unchanged test provided andrew signed andrei vagin avagin virtuozzo.com signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1616,0709e3ce76083b6232ae215c9f21610d1cec66f7,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2017-12-11 19:07:25 +0300, , mount remaps child overmount another overmount case mount mnt mnt parent mnt parent mnt parent determine needing remap remap next mount top next want move back parent instead move case child overmounts need remapped signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1617,a9ec5829bc83f6d1cfb1989c25332ebf65a229c6,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2017-12-11 19:07:24 +0300, , mount fix try_remap_mount remaps mnt_remap_list follow descending order setup reorder instance sibling mount mountpoints dir1 dir2 dir3 dir1 dir2 dir1 sibling overmount mount sibling overmount move overmounts back first move signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1618,84d6c7304256ade3f8b447b007b23c794827851d,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2017-12-11 19:07:23 +0300, ," mount fix work described add new entry _before_ first entry depth sort descending order e.g entry list depth 7,5,3 adding new entry depth would break loop depth patch would get 7,5,3,4 list_add wrong also relax check avoid unnecessary reordering signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com",,
1619,dd104ddbe129e2ffc9b491bc3b4771c94091fcbd,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2017-12-11 19:07:22 +0300, , zdtm pas remove crfail signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1620,b364f4fd52be125ddc6690452bec3336d77ad102,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2017-12-22 11:22:26 +0300, , mount make open_mountpoint handle overmouts properly dump vz7 fails overmounted tmpfs inside root silo prlctl enter test entered 829e7b28 mkdir mnt overmntedtmp 829e7b28 mount tmpfs tmpfs mnt overmntedtmp 829e7b28 mount tmpfs tmpfs mnt 829e7b28 logout root silo prlctl suspend test suspending ... failed suspend detail skip flight tcp connection 01.657913 error criu mount.c 1202 mnt open mnt overmntedtmp file directory 01.662528 error criu util.c 709 exited status 01.664329 error criu util.c 709 exited status 01.664694 error criu dump.c 2005 dumping failed failed checkpoint container dump file log saved private 829e7b28 f204 4bce b09f d203b99befd4 dump dump.fail checkpointing failed  criu want dump content mnt overmntedtmp mount unavailable copy mount namespace case unmount overmounts access want dump actual usecase dumping active mariadb ssh connection together happen create overmount default systemd creates separate mount namespace mysql also mount tmpfs run user ssh root connected systemd also mount tmpfs container root mount namespace run user user file run slave mount run user also propagates mysql mount namespace initially becomes overmounted run user http jira.sw.ru browse psbm 57362 remove __maybe_unused change use clone fork share resource parent  enter userns create helper non overmounted mount thus return back setns resorens logic helper open parent directly due clone_files remove futex check helper exit status properly add get_clean_fd helper add better comment change pas helper args instead ret code fix ret code checking add pr_err open_mountpoint change make comment even better signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1621,83df86494b4aa81f390a807cfab8f71b18046735,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2017-12-11 19:07:20 +0300, , mount add helper make mount visible also remove __maybe_unused note leave __maybe_unused yet signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1622,d17bad63cc9a94ff66316576c958763603688c63,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2017-12-11 19:07:19 +0300, , mount add helper make mount visible note leave __maybe_unused yet signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1623,2bed6e9f3b37301562f586a1862ff28651b4e1a8,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2017-12-11 19:07:18 +0300, , mount add helper check mount visibility note leave __maybe_unused yet signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1624,0d9bed0ec69eea3c64344f3e105f5d54d2d9583e,ndrei Vagin <avagin@virtuozzo.com>, 2018-01-11 21:16:55 +0300, , kerndat call droped one rebases signed andrei vagin avagin virtuozzo.com,,
1625,677b6cb0f23da7e4129b065639271db8f4e49aac,mitry Safonov <0x7f454c46@gmail.com>, 2018-01-27 15:56:26 +0000, , kdat net init kerndat even nsid supported continue even kdat feature supported criu criu criu dump pidof pypy shell job warn criu kerndat.c 804 load run criu.kdat warn criu libnetlink.c error reported netlink error criu net.c 3042 unable create veth pair warn criu net.c 3064 nsid reported network link andrei vagin avagin virtuozzo.com signed dmitry safonov 0x7f454c46 gmail.com,,
1626,fc3ffd82828b93bcf654f84a746cccb59606bed5,ndrei Vagin <avagin@virtuozzo.com>, 2017-10-05 20:58:47 +0300,393, net handle case empty net set criu dump origin idea set empty net criu dump criu restore cde33dcb0639 empty iptables criu restore worked without empty net notice docker set option restore small brainstorm decided better remove requirement docker set option change docker issue urgent http github.com checkpoint restore criu issue 393 signed andrei vagin avagin virtuozzo.com,,
1627,71e2bdc9687a8a807e747557e5d8e23198c201cb,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-16 18:19:19 +0300, , net fix link collection retcode  bad_thing ret break  code hunk whose intention propagate back caller propagation obviously broken signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1628,95f2d40769586fb38fc8fbc769f155404db25090,ndrei Vagin <avagin@virtuozzo.com>, 2017-05-04 23:27:46 +0300,314, restore create root netns running setup namespaces script runc restore executes criu emptyns network set setup namespaces script restore network namespace http github.com xemul criu issue 314 look good pavel emelyanov xemul virtuozzo.com reviewed kirill tkhai ktkhai virtuozzo.com fix 2189b9c71d3d net allow dump restore one network namespace signed andrei vagin avagin virtuozzo.com,,
1629,ef65d98a782ce08a6dfd3e7573149efcf789e656,irill Tkhai <ktkhai@virtuozzo.com>, 2017-05-17 17:37:05 +0300, , clone_noasan allow create clone_vm clone_vfork process picked patch patch rfc namespaces use clone_vfork clone_vm possible andrew vagin currenly parent touch child stack moment clone call stack pointer child allocate char stack 128 parent stack prevents create clone_vm clone_vfork process child stack address occupied parent patch change clone_noasan behaviour allows memory consumption give child memory used parent clone parent child stack tntersection allows create clone_vm clone_vfork process signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1630,badf42caa49c0124fa683bf1f1e23b5e09b96b2b,irill Tkhai <ktkhai@virtuozzo.com>, 2017-04-07 11:52:33 +0300, , restore block sigchld root_item initialization user_ns block sigchld namespaces generation want asynchronous signal handler creation namespaces example wait synchronous need block signal globally set initial ret block signal globally root_item child created move block suggested andrew vagin avagin virtuozzo.com signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1631,a877a89484b9e71d9822b46cba43d0d18b2d8184,irill Tkhai <ktkhai@virtuozzo.com>, 2017-05-05 19:12:36 +0300, , util add function run action child process action run lightweight process signed andrei vagin avagin virtuozzo.com,,
1632,b5225915df71f0c041cddd1244567dcf3d18fc3f,irill Tkhai <ktkhai@virtuozzo.com>, 2017-05-05 19:12:36 +0300, , change net_ns next patch usernsd need create transport socket net_ns task socket choose criu net_ns allows usernsd wait creation net_ns i.e introduce new dependency task case root_ns_mask clone_newuser root_item user_ns doe allow restore criu net_ns sub process lose criu net introduce execute cloned task signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1633,453a90e5805589fca1b6a05925ab221fea4db029,irill Tkhai <ktkhai@virtuozzo.com>, 2017-04-01 14:37:55 +0300, , fix wrong opened net file since net assigned prepare_fds common case moment open_ns_fd call task point net differs target net get task get fdstore also support userns fds add comment signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1634,35ad233fb98695ee8309bb84a54489cf1bb0bb93,ndrei Vagin <avagin@virtuozzo.com>, 2018-02-15 21:34:28 +0300, , test zdtm static,,
1635,98b5542c77463e8732d62e1603674eb7c8d2af51,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-17 06:30:41 +0300, , test check veth device two network namespaces shave test case external veth device test case check veth device living two dumped network namespaces signed andrei vagin avagin virtuozzo.com,,
1636,f06369b9e287259c8e628939b98d76ac7ee69cb6,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-21 05:05:18 +0300, , net dump restore connected bridge link network device connected bridge restored bridge case set master attribute device connected bridge automatically signed andrei vagin avagin virtuozzo.com,,
1637,5b617ecde5ddcad0f5ff7849ca3ad18cb2534ce7,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-08 02:55:19 +0300, , net create list link need enumirate link time signed andrei vagin avagin virtuozzo.com,,
1638,8cb26b02e6b3b81848300a13cd7dbc3d423d4889,ndrei Vagin <avagin@virtuozzo.com>, 2017-03-22 02:50:05 +0300, , net split restore_links read restore part preparation enumirating link time signed andrei vagin avagin virtuozzo.com,,
1639,6aa4a9c2f1f7444abea2fbf88cd19d50e98838f7,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-17 09:10:27 +0300, , netns restore internal veth device dump veth device kernel report peer device life use information restore veth pair restore set net peer created required netns add comment signed andrei vagin avagin virtuozzo.com,,
1640,7dc4b34e1c6c38f06224a905c46681bc4b73a479,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-07 23:11:42 +0300, , net give ns_id link_info function used restore link different net namesapces signed andrei vagin avagin virtuozzo.com,,
1641,9a2c99c343a04ab0c28cccefb480c27e6d2621bb,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-20 01:21:13 +0300, , netns dump restore network namespace network namespace set another network namespace able address netlink message example say peer veth device created network namespace specified request information veth device kernel report peer device life user able set dump restore add commetns make union nsfd_id ns_fd used together signed andrei vagin avagin virtuozzo.com,,
1642,1db8e1680fb87354d2f0d8c2755ef97b41c5c7fd,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-17 09:35:35 +0300, , netns create netlink route socket dump_links used dump netns signed andrei vagin avagin virtuozzo.com,,
1643,2e8069f2a5be102a54101288f848da8c1b634ad1,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-17 09:33:55 +0300, , net transfer ns_id structure function ing netns used get set netns signed andrei vagin avagin virtuozzo.com,,
1644,805dddad0b70a607625f35d41cec10e115ab073b,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-17 06:31:21 +0300, , netlink add nla_get_s32 function added libnl3 recently support old version library signed andrei vagin avagin virtuozzo.com,,
1645,b79267b58437db6e59466106a7982590f9edc998,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-17 05:59:22 +0300, , kerndat check whether kernel support netns network namespaces list namespaces request infomation veth device get namespace peer device set user kernel required criu restore network namespaces remember one netns different different network namespaces signed andrei vagin avagin virtuozzo.com,,
1646,dd9e1142765ff92f8f440c16c6a0bbba96151c87,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-17 06:22:26 +0300, , image add network namespace image possible assign network namespaces used kernel netlink message assigned kernel need automatically assigned kernel example reported peer veth device add comment signed andrei vagin avagin virtuozzo.com,,
1647,a75f0fa8bc43bbc34b7b2b71995d030dcd7d7305,irill Tkhai <ktkhai@virtuozzo.com>, 2017-02-24 14:31:33 +0300, , simplify create_net_ns merge code functionality one signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1648,b54c7d3d886d9b5fb84464ffcce20c1a3f11da4c,irill Tkhai <ktkhai@virtuozzo.com>, 2017-02-24 14:31:19 +0300, , net kill unused argument open_net_ns nobody signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1649,ae291308ee0666fc2c357d7d17c64e2329e38504,ndrei Vagin <avagin@virtuozzo.com>, 2018-02-15 19:51:55 +0300, , test zdtm static netns_sub.c,,
1650,d7d11e0e00ef0b8e85ed01edb1953e62a9fb16e0,ndrew Vagin <avagin@virtuozzo.com>, 2017-02-15 02:59:32 +0300, , zdtm add test nested network namespaces test create process live three network namespaces socket created different network namespaces acked pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1651,14731c5210357231b927d597b3f940f1c146a14f,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-15 02:59:31 +0300, , net add way get network namespace socket socket belongs one network namespace operates network namespace socket_diag report information socket one network namespace report socket bound connected somewhere need way get network namespaces socket acked pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1652,37ea6ed0cdfa1d706bdce39ca6efe4f2f4efa2ef,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-15 02:59:30 +0300, , kerndat check siocgskns ioctl ioctl called socket return file descriptor network namespace socket created acked pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1653,7a6a42d05bdc1772c7e0b2afaea1456f615ac08c,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-15 02:59:29 +0300, , net set proper network namespace create socket socket restored proper network namespaces created set specified network namespace restoring socket task network namespace set restoring file set root netns transport socket acked pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1654,2b6ed5bffc7b2b5d32e076529ceaf7d276b7460b,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-15 02:59:28 +0300, , util move open_proc_fd service_fd need avoid conflict file descriptor restored currently open_proc_pid used restoring file descriptor going use restore socket proper network namespaces acked pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1655,6b7393c44ea52c4af7a1cf64fcec95d547becf46,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-15 02:59:27 +0300, , net allow dump restore one network namespace restore network namespaces root task set proper namespace task restoring socket need switch network namespaces restore socket socket created proper network namespace fix typo bug acked pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1656,a54d3cf11098b2c853a584277fdae7f358afa7f2,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-15 02:59:25 +0300, , net save network namespaces socket socket restored proper namespaces created issue unconnected unbound socket reported via socket diag get network namespaces add comment get_socket_ns remove nsid sk_packet_entry acked pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1657,17f163a6f28f0f70476d6b40e0154bca934d52fd,avel Emelyanov <xemul@virtuozzo.com>, 2017-02-10 17:33:47 +0300, , usernsd add debugging catch bug unsd flag mismatch signed pavel emelyanov xemul virtuozzo.com,,
1658,5902eb2155fb8ab3fee463eff4c6fbf8f76625cc,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-02 03:04:30 +0300, , net rename pid nsid prepare_net_ns pid ussualy mean process prepare_net_ns work namespaces travis success dump restore nested network namespaces rev4 signed andrei vagin avagin virtuozzo.com reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
1659,4ea9cf336a41f1381fcc70fe9903589f8e4844de,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-02 03:04:25 +0300, , netlink add ns_id generic argument ns_id used collect socket per netns resource travis success dump restore nested network namespaces rev4 signed andrei vagin avagin virtuozzo.com reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
1660,bbbe4f264a7ef3b0b74288afb3fa0be8bb919ea4,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-02 03:04:22 +0300, , restore call close_pid_proc child shared parent table number global variable around descriptor e.g open_proc_fd value saved memory shared process travis success dump restore nested network namespaces rev4 signed andrei vagin avagin virtuozzo.com reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
1661,5759076cea5e8afe0064d4d6c8fe4563b91209fc,avel Emelyanov <xemul@virtuozzo.com>, 2017-12-19 21:08:35 +0300, , criu version 3.7 time shifted update one month due amount change big got pretty big update including set bugfixes new functionality signed pavel emelyanov xemul virtuozzo.com,,
1662,03fb0b82230c7a4f89569339b80e459fdc0e4631,ndrei Vagin <avagin@openvz.org>, 2017-12-14 18:30:03 -0800,424, syscall fix argument preadv two argument pos_l pos_h instead one used handle bit offset bit kernel syscall_define5 preadv unsigned long const struct iovec __user vec unsigned long vlen unsigned long pos_l unsigned long pos_h http github.com checkpoint restore criu issue 424 signed andrei vagin avagin openvz.org reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1663,88fbd37f530a646c1ad939a0ee6dd74f8c55ed8b,italy Ostrosablin <vostrosablin@virtuozzo.com>, 2017-12-12 16:12:45 +0300, , criu fail ghost file parent dirs due way criu handle path relative workdir case migration would fail simple example ghost file filesystem root root cwd example unlinked becomes unlinked original code piece scan path slash would missing case still perfectly valid case need fail parent dir need create one return instead failing signed vitaly ostrosablin vostrosablin virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1664,8720f1da1feedff4686b1d84e0102e3958b2a8d9,ndrei Vagin <avagin@virtuozzo.com>, 2017-12-04 22:41:11 +0300, , test check corked udp socket dumped kernel interface get sent queue udp socket currently dump criu dump fail case signed andrei vagin avagin virtuozzo.com,,
1665,53211331e0dc756ace9e0d1c701bcca278914655,ndrei Vagin <avagin@virtuozzo.com>, 2017-12-04 22:41:10 +0300,409, inet detect corked socket getting proper sock opt block socket non zero idiag_wqueue mean cork option enabled socket packet network stack accounted idiag_wqueue http github.com checkpoint restore criu issue 409 signed andrei vagin avagin virtuozzo.com,,
1666,8bc39c78d8329bdeb3aa33c42a5e1aefce984221,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2017-12-07 12:52:49 +0300, , pr_err add miss except several false positive done find type name path test exec sed pr_err signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1667,2d7abe53fc6fc0a7bbce85178490a870964108fb,avel Begunkov <asml.silence@gmail.com>, 2017-11-21 06:00:33 +0300, , lock skip lease correction non regular file lease set regular file thus optimization skip attempt find associated lease type signed pavel begunkov asml.silence gmail.com signed andrei vagin avagin virtuozzo.com,,
1668,8835e6973efeca876761c39dd7a1b5082e063673,avel Begunkov <asml.silence@gmail.com>, 2017-11-21 05:54:56 +0300, , zdtm test inherited file lease check child error file_leases03 test lease transfered child process signed pavel begunkov asml.silence gmail.com signed andrei vagin avagin virtuozzo.com,,
1669,6c86fcb5a7ab4706e625ede5fcfe39295066dd56,avel Begunkov <asml.silence@gmail.com>, 2017-11-21 05:54:55 +0300, , lock remove duplicated lock criu creates dictinct lock record file descriptor ofd patch remove duplicate add new field struct file_lock store pid lock found owner pid actually helpful original lock set already closed also purge crutch stuff file lease signed pavel begunkov asml.silence gmail.com signed andrei vagin avagin virtuozzo.com,,
1670,0781cb3320a9d124b25174e57284041b9ecbb9e7,avel Begunkov <asml.silence@gmail.com>, 2017-10-02 23:48:20 +0300, , zdtm add file lease test test case basic non breaking read write lease multiple read lease ofds lease file breaking lease multiple fds dup inherited single lease mutual ofd signed pavel begunkov asml.silence gmail.com signed andrei vagin avagin virtuozzo.com,,
1671,8038462d2d2488af2b687fa760df07cef033575d,avel Begunkov <asml.silence@gmail.com>, 2017-10-02 23:48:19 +0300, , lock add lease kernel v4.0 older information lock proc pid fdinfo presented since kernel v4.1 patch add logic note_file_lock match lease ofds signed pavel begunkov asml.silence gmail.com signed andrei vagin avagin virtuozzo.com,,
1672,90fc8622e279c62c64fb0f2d6d111c8f84c8fb04,avel Begunkov <asml.silence@gmail.com>, 2017-10-02 23:48:18 +0300, , lock add breaking lease kernel v4.1 restore breaking lease executed step restore lease state break break opening associated file patch fix type broken lease target lease type procfs always return read case also add updated field lock structure used remove duplicated record single lease image corrected signed pavel begunkov asml.silence gmail.com signed andrei vagin avagin virtuozzo.com,,
1673,49cd3eb2adac12d40129beac79f369dfa5a0dc4c,avel Begunkov <asml.silence@gmail.com>, 2017-10-02 23:48:17 +0300, , lock add non broken lease kernel v4.1 lease breaking state supported case criu report error dumping also lock info proc pid fdinfo presented since kernel 4.1 taking new lease modifies process fsuid match file uid see fcntl f_setlease signed pavel begunkov asml.silence gmail.com signed andrei vagin avagin virtuozzo.com,,
1674,b2494eae6144717a5b6a3c129ca12c91391910c8,ndrei Vagin <avagin@virtuozzo.com>, 2017-12-05 08:05:16 +0300, , test docker check continaer read file system probably one valide use case way commit container container checkpointed signed andrei vagin avagin virtuozzo.com,,
1675,1971cab9fc640fabda4dc81f1dba1305135a1507,ndrei Vagin <avagin@virtuozzo.com>, 2017-11-30 01:55:36 +0300, , zdtm tempfs_subns sync child main process static test stop activity tempfs_subns pidfile outfile dirname run criu dump unable kill 128 errno process run criu restore old mount lost new mount appeared rootfs criu test proc dev  signed andrei vagin avagin virtuozzo.com,,
1676,7470b163de6446c31996c6cb6bd191990cb6f1e2,ierre-Olivier Mercier <nemunaire@nemunai.re>, 2017-11-30 20:33:52 +0100, , compel add missing header required musl fix compilation issue regarding undeclared null memcpy using musl arm signed pierre olivier mercier nemunaire nemunai.re,,
1677,5a4c27a8e108c88c910a5c46bed7ff23835d15a7,ndrei Vagin <avagin@virtuozzo.com>, 2017-12-02 00:05:50 +0300, , pipe dump data pipe currently use additional pipe steal data pipe check steal data additional pipe smaller size signed andrei vagin avagin virtuozzo.com,,
1678,6dd3e4e39d84d983254d8dfdf91231640a2e6421,ndrei Vagin <avagin@virtuozzo.com>, 2017-12-02 00:05:49 +0300, , test check pipe custom size criu handle correctly pipe size bigger default one signed andrei vagin avagin virtuozzo.com,,
1679,5bf9f9b6a6151ee599d99e48c77a4793ca62ec78,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2017-12-01 13:09:55 +0300, , remap free rpath shfree_last shmalloced rpath xfreed shmalloc variable far away want free guaranty shmalloc last use shfree_last fix commit 0c675a5e9d40 file remove link_remaps everything restored create_ghost fails reason produce segfault signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1680,0131a851156a7595c7f79da87f9735602c4bd6b2,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-11-30 13:46:19 +0200, , zdtm use read write _data fifo test reading writing large buffer may result short read write case expect entire buffer transferred use read write _data rather plain read write syscalls reported jenkins signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1681,d8c974d651bd1172c067a9ef63cd1c298baba827,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-11-30 13:46:18 +0200, , zdtm lib add read write _data helper test expect data handled single invocation read write system call possible short read write loaded system error add helper function reliably read write entire buffer signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1682,8797645636226ed830291b833ce2623d924aefde,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-11-22 21:37:12 +0200, , lazy page allow background fetch restore finished start backroung memory fetch restore completely finished may try write memory area yet remapped proper place registered userfaultfd add synchronization restore lazy page lazy page handle pfs task restored signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1683,83e75c3c1d3b4141f4532a73e1e78ffd64f2e8db,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-11-22 21:37:11 +0200, , page server implement epoll hangup_event remote page read nothing page server source closed connection report error abort signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1684,dcfe17e7aa8048ae0dfab246c21bd5e1ecaa39d0,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-11-22 21:37:10 +0200, , util epoll add processing epoll hup currently poll file descriptor process epollin event connection closed receiving side mean deal  add callback epoll hup event default implementation event remove file descriptor epoll close signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1685,2a0a5221b853c34c4883b8d632f7ec7096466b77,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-11-22 21:37:09 +0200, , util epoll rename revent read event bit readable easy distinguish upcoming hevent whangup_event signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1686,06e252dedcc1e5f09772c555a346e61db0abee6c,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-11-22 21:37:08 +0200, , util epoll move comment timeout decrease uffd.c generic epoll_wait wrapper assumption timeout lazy page daemon make future policy decision signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1687,3dfae093c1bb1b69aee790c5a295eb6b15d0e9a7,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-11-16 13:54:07 +0200, , lazy page drop_iovs mark iov queued receive part iov page server recalculate iov point area still fetch split iov covering remaining area may remain marked queued never retry fetching marking iov queued ensure page requested  signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1688,7ce804ed9f33dd0f2f24a4bd226be780ed9bc67c,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-11-16 13:54:06 +0200, , page xfer remote page allow receiving partial data since commit page pipe allow share pipe page pipe buffer assumption receive exact amount page requested ps_iov_get doe always hold case serve page data image using page server lazy page iovs seen pagemap may cross page pipe buffer boundary read_page_pipe clamp page response boundary adjust try receive page page server going send signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1689,23d086c263d1bb132bae04e227b818d086fe89cc,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-11-16 13:54:05 +0200, , add ppb pipe offset signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1690,e85646875f4d615d7ce30f0f4e8cae06d0d4e73e,ndrei Vagin <avagin@virtuozzo.com>, 2017-11-02 00:40:35 +0300, , zdtm maps006 modify test file anon vma mixed signed andrei vagin avagin virtuozzo.com,,
1691,cef1efe5bdae9350678312237b42cf7d5d096260,ndrei Vagin <avagin@virtuozzo.com>, 2017-11-08 03:36:05 +0300, , page pipe allow share pipe page pipe buffer criu create new pipe buffer previous one another set flag case pipe full use next page buffer need pipe pre dump zdtm static fork test without patch need pipe patch acked mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1692,6feebf3aad9855285795f71f8bc58982535e0b91,ndrei Vagin <avagin@virtuozzo.com>, 2017-11-08 03:36:04 +0300, , page pipe move code resize pipe separate function move upper going used ppb_alloc acked mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1693,e3c6784b8f4ffa5d7246e236362ae4318de0419b,ndrei Vagin <avagin@virtuozzo.com>, 2017-11-08 03:36:03 +0300, , parasite remove restriction number iovec vmsplice splice uio_maxiov call time parasite nr_segs acked mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1694,c949e75968b6e5a6b7779d9a9f93c8616ddd6128,drian Reber <areber@redhat.com>, 2017-11-24 13:50:18 +0000,1, crtools also print current kernel version addition writing criu version log file add current kernel version log file 00.000008 version 3.5 gitid v3.5 511 ga8cc6cf 00.000303 running node01 linux 3.10.0 513.el7.x86_64 smp tue feb est 2017 x86_64  small change suggested dmitry thanks signed adrian reber areber redhat.com reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1695,dc384c0e30203092d278f4dfcd7b89729f48b44b,ndrei Vagin <avagin@virtuozzo.com>, 2017-11-28 01:12:23 +0300, , netfilter use ipv4 iptables rule block ipv4 mapped ipv6 address ipv6 socket ipv4 mapped address used handle ipv4 connection use ipv4 iptables rule block connection reported jenkins signed andrei vagin avagin virtuozzo.com,,
1696,c31d423eeb5387720ebaaf9157c585a20b1f372c,ndrei Vagin <avagin@virtuozzo.com>, 2017-11-28 03:38:31 +0300, , compel use correct name format vma file proc pid map_files currently use map_files format actually map_files kernel could handle format recently alexey dobriyan fixed kernel accept second format signed andrei vagin avagin virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1697,3121d90de05f6f2be9a3117e0ce65c41f81d9f13,ndrei Vagin <avagin@openvz.org>, 2017-11-21 16:58:41 -0800, , criu print criu version info level always ask user version criu use investigate problem better log signed andrei vagin avagin openvz.org reviewed dmitry safonov 0x7f454c46 gmail.com signed andrei vagin avagin virtuozzo.com,,
1698,ffee07723ebf510c1d9b6d60e22585565982f308,ndrei Vagin <avagin@openvz.org>, 2017-11-21 16:59:03 -0800, , criu remap soccr log level criu level criu soccr different value log level someone remap cyrill gorcunov gorcunov openvz.org reported cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin openvz.org signed andrei vagin avagin virtuozzo.com,,
1699,638c14f2ed61d890007994a283fed0078767bd3f,oot <avagin@openvz.org>, 2017-09-04 10:44:14 -0700, , zdtm grep error page server.log lazy pages.log help investigate log jenkins mike rapoport rppt signed andrei vagin avagin openvz.org signed andrei vagin avagin virtuozzo.com,,
1700,e6537f3d8d41974e040bb2a7d28d91ecfc03ec01,yrill Gorcunov <gorcunov@virtuozzo.com>, 2017-08-04 17:20:00 +0300, , fsnotify open_handle handle multiple mount s_dev inotify laying uovermounted walk mountpoints s_dev find openable path note restore path usually already allocated dump stage get_mark_path call open_handle turn dump stage positive return open_handle cause fsnotify engine find openable path thus kind double work optimized future example got container systemd udevd inside open inotify dev entry overmount dev path slave option result irmap engine predump figure inotify sitting causing migrtion abort signed cyrill gorcunov gorcunov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
1701,d541bc797ca97bd134b6c6dba0ecbb88201f7e0e,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-19 21:14:24 +0300, , build move generated config.h include common config.h generated file build feature defines use several purpose check compiler job complement user visible api distribution add compile time option .config global file used criu soccr compel also need thing previously soccr link config.h criu includes would much cleaner move header shared sub project include common reported adrian reber areber redhat.com signed dmitry safonov dsafonov virtuozzo.com tested adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1702,585dda236c28e660fb3d7aaf68439c4eb569cb6c,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-25 15:35:46 +0300, , ia32 get rid r_x86_64_32s relocation distribution start supply gcc configured compile pie fpic code default due security reason config_compat unfriendy pie reason r_x86_64_32s relocation call32.s helper link criu criu usr bin criu arch x86 crtools.built in.o relocation r_x86_64_32s .text used making shared object recompile fpic usr bin final link failed section output collect2 error returned exit status make criu makefile criu criu error make makefile 225 criu error use rip relative addressing avoid error shared binary linking puff need done bare hand config_compat used pie binary also work debian toolchain 315 signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1703,008db0cb7a39ae192ecf0e74012a46f461092366,ndrei Vagin <avagin@virtuozzo.com>, 2017-05-17 08:07:13 +0300, , zdtm run page server via rpc typo fix run criu pre dump via rpc use status rpc signed andrei vagin avagin virtuozzo.com,,
1704,397df9c0358d95ae281b22a576b0893c5330c913,ndrei Vagin <avagin@virtuozzo.com>, 2017-05-17 08:07:12 +0300, , lib allow execute page server child process signed andrei vagin avagin virtuozzo.com,,
1705,ebd64bddfeef04d0e80d0e6925b8b92adf5998f0,ndrei Vagin <avagin@virtuozzo.com>, 2017-05-18 03:14:33 +0300, , service allow execute page server child process case wait get exit code example useful p.haul one connection used several time need way understand page server exited unexpectedly write ps_info start descriptor set signed andrei vagin avagin virtuozzo.com,,
1706,0b6f9c7975db606ddacbfac9b0ae8192e5b0c33c,yrill Gorcunov <gorcunov@openvz.org>, 2017-10-22 01:16:06 +0300, , build reused .force nmk signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1707,8db0f03758496b37107e1a828b451ef12b041bcd,yrill Gorcunov <gorcunov@openvz.org>, 2017-10-22 01:16:05 +0300, , build nmk move phony target include.mk reused signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1708,d62e01929ee12e687152afc395db6fa9738775f4,yrill Gorcunov <gorcunov@openvz.org>, 2017-10-22 01:16:04 +0300, , build nmk add .force target signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1709,8e45ce4905d186abafb7c20abb3b00207fefdb53,vindra Goolcharan <aavindraa@gmail.com>, 2017-11-11 20:11:58 -0500, , images.py remove shebang file executable directly shebang signed avindra goolcharan aavindraa gmail.com signed andrei vagin avagin virtuozzo.com,,
1710,3e0200e5711aaad70098b49a900843aaf585dded,avel Begunkov <asml.silence@gmail.com>, 2017-10-21 17:12:50 +0300, , build get rid warning sysmacro warning gnu library major defined sys sysmacros.h historical compatibility currently defined sys types.h well plan remove soon use major include sys sysmacros.h directly intend use system defined macro major undefine including sys types.h major st.st_rdev major st_rtc.st_rdev signed pavel begunkov asml.silence gmail.com signed andrei vagin avagin virtuozzo.com,,
1711,30b2630e805479183d1fe93d3b97c1d611ade575,yrill Gorcunov <gorcunov@gmail.com>, 2017-11-07 19:19:24 +0300, , test static aio01 use proper type context aio_context_t byte long bit mode might strippped unsigned long used instead fix typo signed cyrill gorcunov gorcunov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1712,cae6262ce9ce73b040f03bfecf7217e35c92d8f0,ndrei Vagin <avagin@virtuozzo.com>, 2017-11-08 03:36:02 +0300, , zdtm add option show criu statistic defining crit_bin using popen mike acked mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1713,7d6d795d28109a0bfc973face7cdf7de16b97032,ndrei Vagin <avagin@virtuozzo.com>, 2017-11-08 03:36:01 +0300, , stats add counter pipe page_pipe_bufs number pipe limited system better know many use acked mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1714,00413cb5a78a69a2fa81bf501bc33bf0f7d2e7c3,ndrei Vagin <avagin@virtuozzo.com>, 2017-11-02 00:40:35 +0300, , test check ipv6 socket handle ipv4 connection server socket created af_inet6 client socket create af_inet signed andrei vagin avagin virtuozzo.com,,
1715,6e770e50b80172976b57edfac915cc8f8dd0f618,ndrei Vagin <avagin@virtuozzo.com>, 2017-11-02 00:40:34 +0300, , soccr ipv6 socket handle ipv4 connection ipv6 listening socket accept ipv4 ipv6 connection case family accepted socket af_inet6 send tcp packet accoding connection type grep error 00.002320 debug set rcv_wscale 00.002325 debug turn timestamps 00.002331 debug set clamp 65495 00.002338 debug restoring tcp queue data byte 00.002403 error soccr soccr.c 673 unable send fin packet byte written network unreachable 00.002434 error criu files.c 1191 unable open 0x6 00.002506 error criu restore.c 2171 restoring failed error signed andrei vagin avagin virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1716,09b93e0ac59117f45aa681d47da32b2615bd0fb7,ndrei Vagin <avagin@virtuozzo.com>, 2017-10-31 08:53:43 +0300, , inet restore value so_reuseport so_reuseport option allows multiple socket host bind port option restored socket bound port logic already used restore so_reuseaddr signed andrei vagin avagin virtuozzo.com,,
1717,3503332086e9156398388ce03be74ec7443138f7,ndrei Vagin <avagin@virtuozzo.com>, 2017-10-31 08:53:42 +0300, , zdtm check case one port shared two socket so_reuseport allows multiple socket host bind port signed andrei vagin avagin virtuozzo.com,,
1718,2e16cc1e4f83e9ab5406a25b85c27328b841f515,yrill Gorcunov <gorcunov@virtuozzo.com>, 2017-11-01 16:19:23 +0300, , compel loose sign result compat syscall regs present unsigned format convert signed first provide result particular memfd_create syscall failed notice enomem error rather treat unsigned hex value 05.303002 putting parasite blob 0x7f1c6ffe0000 0xfffffff4 05.303234 putting tsock pid 42773 signed cyrill gorcunov gorcunov virtuozzo.com reviewed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1719,fc21d6fb53f228622bc4d67c53b9f0e74cbd1fbb,yrill Gorcunov <gorcunov@openvz.org>, 2017-11-01 16:19:22 +0300, , crit add socket state decoding signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1720,4d0fc1a4969c2d54d58a8ea4b54b24be09914792,yrill Gorcunov <gorcunov@openvz.org>, 2017-11-01 16:19:21 +0300, , crit add socket type decoding signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1721,d4c29ab7cb4eea998c3da4844c21a313925aae7e,yrill Gorcunov <gorcunov@openvz.org>, 2017-11-01 16:19:20 +0300, , crit add protocol decoding signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1722,56cd56706d5e4afd56f865f956ecaf7d865a0a0a,yrill Gorcunov <gorcunov@openvz.org>, 2017-11-01 16:19:19 +0300, , crit add family socket decoding signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1723,ec273275febbfb4c6236aebfdcbf5ab7ad12aacc,yrill Gorcunov <gorcunov@openvz.org>, 2017-11-01 16:19:18 +0300, , crit add inet6 familiy signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1724,926e42ac632dc78af0f9c82adf9439763df1da94,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2017-10-27 11:21:04 +0300, , zdtm test overmounting shared parent work signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1725,2d2381e01d799b9b3708d9331e77bf34f6f697ef,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2017-10-27 11:21:03 +0300, , zdtm test shared mount propagation preserved signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1726,bf1f9c61c1f1418b6b28a9a435fad8aa3d966d39,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2017-10-20 10:24:28 +0300, , mount allow overmount parent shared group  mkdir mkdir mount bind mount rbind container dumpable error mnt unable handle mount 146 overmounts shared parent group prohibited see problem enabling http jira.sw.ru browse psbm 69501 signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1727,2214568de9d357539d529781bb0ec727dbc24c14,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2017-10-20 10:24:27 +0300, , mount fix parent shared group dependency can_mount_now patch shared group parent shared group member unmounted wait group wait member root path len shorter done make child mount propagate shared group think wrong e.g mkdir dir mount bind dir mount bind dir mount bind  507 114 182 1017985 relatime shared master ext4 dev ploop63624p1 data ordered balloon_ino 144 507 182 1017985 dir relatime shared master ext4 dev ploop63624p1 data ordered balloon_ino 146 507 182 1017985 dir relatime shared master ext4 dev ploop63624p1 data ordered balloon_ino 148 146 182 1017985 relatime shared master ext4 dev ploop63624p1 data ordered balloon_ino 150 507 182 1017985 dir relatime shared master ext4 dev ploop63624p1 data ordered balloon_ino 149 144 182 1017985 relatime shared master ext4 dev ploop63624p1 data ordered balloon_ino  600 132 182 1017985 relatime shared master ext4 dev ploop63624p1 data ordered balloon_ino 602 600 182 1017985 dir relatime shared master ext4 dev ploop63624p1 data ordered balloon_ino 603 600 182 1017985 dir relatime shared master ext4 dev ploop63624p1 data ordered balloon_ino 604 600 182 1017985 dir relatime shared master ext4 dev ploop63624p1 data ordered balloon_ino propagation mount shared group 602 150 shorter root 603 144 604 146  wait member parent shared group sibling mount sibling mount one propagated shared mount parent mounted need enforce propagation case http jira.sw.ru browse psbm 69501 signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1728,b2d257495503993f541617821b7b82b9475d59fd,yrill Gorcunov <gorcunov@openvz.org>, 2017-10-25 11:39:38 +0300, , image desc encode pagemap unsigned long format anonymous shared memory using shmid image name encoding unsigned long already met scenario high bit get strippped thus restore failed let use unsigned long pagemap code shared plain memory anon shared memory use unsigned long every signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1729,bf341b463e566e97bd1db0d9b7d952a0d33ff349,yrill Gorcunov <gorcunov@openvz.org>, 2017-10-25 11:39:37 +0300, , image desc use unsigned format tmpfs image index come mnt_id signed integer kernel userspace negative value never valid thus use signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1730,d9952dcd4f2955b55c64c6160572648b76379b3b,yrill Gorcunov <gorcunov@openvz.org>, 2017-10-25 11:39:36 +0300, , image desc use unsigned format pid driven entry image using pid image name use unsigned format since negative pid real system signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1731,582f104d04dac6d694c2076a1eef781a9fe8984d,yrill Gorcunov <gorcunov@openvz.org>, 2017-10-25 11:39:35 +0300, , image desc use unsigned format userns  signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1732,af5a6b52cbe200b7072f5ea793312c30484a77b3,yrill Gorcunov <gorcunov@openvz.org>, 2017-10-25 11:39:34 +0300, , image desc use unsigned format netns since signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1733,a8d785730312d5541e3ae809a69ef8993af4c7f5,yrill Gorcunov <gorcunov@openvz.org>, 2017-10-25 11:39:33 +0300, , image desc use unsigned format netdev signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1734,ba10ae1ac0faf2a2760539de624baec0b8c1fe12,yrill Gorcunov <gorcunov@openvz.org>, 2017-10-25 11:39:32 +0300, , image desc use unsigned mountpoints declare ns_id structure signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1735,6a08b0cdf1194ca74e77bc565101566318e0068b,yrill Gorcunov <gorcunov@openvz.org>, 2017-10-25 11:39:31 +0300, , image desc use unsigned int old binfmt misc autofs signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1736,9020d18d44c2299b5bb912fe5f22f240b0b972b6,yrill Gorcunov <gorcunov@openvz.org>, 2017-10-25 11:39:30 +0300, , image desc use unsigned int tmpfs dev image autofs signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1737,2ca78e9a004e538a2f0500d979f8e9d6352b3b07,yrill Gorcunov <gorcunov@openvz.org>, 2017-10-25 11:39:29 +0300, , image desc use unsigned format autofs kernel criu unsigned int make format appropriate struct mount_info ... unsigned int s_dev ...  see negative number real life think convention cause backward compatibility problem ever signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1738,1fbc51f8e2b344525a0877e7fda649de603b63d9,yrill Gorcunov <gorcunov@openvz.org>, 2017-10-25 11:39:28 +0300, , image desc fix fdinfo format pas unsigned byte integer use appropriate format signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1739,57e4ad5ba841bac2c1ff87d3c19860fe018bc740,yrill Gorcunov <gorcunov@openvz.org>, 2017-10-25 11:39:26 +0300, , namespaces __get_ns_id use safe snprintf namespace descriptor promised constant short name safe side signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1740,78d4f7c3521adb77793eb252d9c7d9326bb3408b,yrill Gorcunov <gorcunov@openvz.org>, 2017-10-25 11:39:40 +0300, , test jenkins add huge shmid fault test signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1741,c94fb7d069034fc4dbc725716daf6728b6dc2c59,yrill Gorcunov <gorcunov@openvz.org>, 2017-10-25 11:39:39 +0300, , fault injection add type test survive shmid byte long image format without fix shmid root uranus criu test zdtm.py run zdtm static maps01 fault 132 always run zdtm static maps01  run zdtm static maps01 start test test suid maps01 pidfile maps01.pid outfile maps01.out run criu dump forcing 132 fault run criu restore forcing 132 fault log dump zdtm static maps01 restore.log grep error 00.016464 opening 101 vma 00.016465 search shmem 0x10118e915 0x7f97f7ae4ae8 00.016470 waiting 10118e915 shmem appear 00.016479 pagemap shmem 18409749.img image 00.016481 error criu shmem.c 559 restore shmem content 00.016501 error criu mem.c 1208 open vma 00.016552 error criu restore.c 2449 restoring failed error fix root uranus criu test zdtm.py run zdtm static maps01 fault 132 always run zdtm static maps01  run zdtm static maps01 start test test suid maps01 pidfile maps01.pid outfile maps01.out run criu dump forcing 132 fault run criu restore forcing 132 fault send signal wait zdtm static maps01 die 0.100000 test zdtm static maps01 pas signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1742,5785dbd93dec20f56a89245b94f6fde28cd098ac,ndrei Vagin <avagin@virtuozzo.com>, 2017-10-26 00:27:43 +0300, , zdtm.py fix decode_flav signed andrei vagin avagin virtuozzo.com,,
1743,20bc6aed12a0bae6d3b455e5dcc42bf1759a43e9,irill Tkhai <ktkhai@virtuozzo.com>, 2017-09-05 11:19:41 +0300, , crit use ns_pid ns_sid ns_gid reflect commit 3086b0323cf8 pstree dump restore nspid nssid etc crit signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1744,c9ca83f05ae30810bd90e092dfc98fa7afe310b9,ndrei Vagin <avagin@openvz.org>, 2017-10-23 09:57:48 -0700, , test fix lint warning zdtm.py flake8 updated recently show new warning root fc24 criu make lint flake8 config script flake8.cfg test zdtm.py test zdtm.py 181 e722 use bare except test zdtm.py 304 e722 use bare except test zdtm.py 325 e722 use bare except test zdtm.py 445 e722 use bare except test zdtm.py 573 e722 use bare except test zdtm.py 1369 e722 use bare except test zdtm.py 1385 e722 use bare except test zdtm.py 1396 e722 use bare except test zdtm.py 1420 e722 use bare except test zdtm.py 1820 e741 ambiguous variable name make makefile 369 lint error signed andrei vagin avagin virtuozzo.com,,
1745,6ea74dda580827b45e40e95a26abeb34edf1328c,yrill Gorcunov <gorcunov@openvz.org>, 2017-10-21 23:25:03 +0300,399, build forget rebuild pie code compel plugins change http github.com checkpoint restore criu issue 399 rerorted andrew vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1746,a088aeb475ad7f3a78e1d4fe68e4de9032c54f22,yrill Gorcunov <gorcunov@openvz.org>, 2017-08-03 21:28:40 +0300, , test static file_locks03 use fdinfo output also use task_waiter_t syncpoint make sure escape reading output signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1747,8dab31beae5bc204f78f04635ea61a6c7a693954,yrill Gorcunov <gorcunov@openvz.org>, 2017-08-03 21:28:39 +0300, , test static file_locks02 use fdinfo output signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1748,2062abf822b2a988f9bed3e15d63805f5b9a567a,yrill Gorcunov <gorcunov@openvz.org>, 2017-08-03 21:28:38 +0300, , test static file_locks01 use fdinfo output signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1749,be98273cf1375cb96f3d494bb36a24cd73c97f3d,ndrei Vagin <avagin@virtuozzo.com>, 2017-09-06 23:39:36 +0300, , zdtm mark static noauto jenkins job fail error 13.186 err mount cgroups errno device resource busy signed andrei vagin avagin virtuozzo.com,,
1750,95d6621ccd9450da09de0b21ed72affe723752fe,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-26 00:08:16 +0300, , zdtm cgroup add test ifpriomap test check multiline cgroup patch set restoring file failed multiline cgroup property kernel read line line signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1751,0f9ed59527a27abf293eb70378f857a680b5526c,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-26 00:08:15 +0300, , zdtm cgroup fix misnamed array deny dev_allow device written devices.allow cgroup signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1752,334c379261b6350e30886aedb4fcf3d889da1605,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-26 00:08:14 +0300, , cgroup optimize ifpriomap restoring skip writing interface default value signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1753,2408280d699d2b6c35c8cbf8d2b90ad7505afb36,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-26 00:08:13 +0300, , cgroup add skipping fails arg writing property property may differ host may different number interface cgroup property property init interface net http www.spinics.net list netdev msg418785.html let skip fails interface longer present restore signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1754,b8ddf85d4d540a9e6004f2ee11ad9c9f8d6bbd02,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-26 00:08:12 +0300, , cgroup split writes moment kernel support multi line write write kernel parse first line result following failed restore 01.454153 restoring cgroup property value enp5s0 enp6s0 br0 venet0 host routed virbr0 virbr0 nic net_prio net_cls machine.slice 91d3ac46 380e 4d91 89d3 d2bd1eb30f97 01.454188 error criu cgroup.c 1225 failed writing enp5s0 enp6s0 br0 venet0 host routed virbr0 virbr0 nic net_prio net_cls machine.slice 91d3ac46 380e 4d91 89d3 d2bd1eb30f97 argument list long 01.472144 error criu restore.c 1013 20509 killed signal killed 01.472391 mnt switching new clean ghost 01.472690 error criu restore.c 2007 restoring failed signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1755,3fbc10f72982818154535f947738eab23e3af2ef,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-26 00:08:11 +0300, , cgroup drop useless check n_properties cycle already check add local cgrouppropentry variable use signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1756,610e1536e95cabe0554d28240369f0f6d29b6585,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-26 00:08:10 +0300, , cgroup handle multiline property need write multiline property line line instead writing buffer kernel support parsing one write previously done devices.allow list need also make easier reusing code add split_lines parameter dropping multiply call also improves performance previously property line cgroup file open close new code call write line reducing number syscalls done line also make suitable future patch parsing line property one write would accepted easily change call something dev_allow paux even use split_lines true default case strchrnul find zero terminator doe strlen want cgroup file supportes multi line write add syscalls signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1757,831d155ca4ed4add5e893763c2d9e9e0cc5a89c7,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-26 00:08:09 +0300, , cgroup separate devices.list cgroup restoring deal special property restore deal devices.list btw let two variable dev_allow dev_deny stack simplify fuss old_val old_name kill fun signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1758,f14cdada9b88b2776319c4db9d171bfed2a68019,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-26 00:08:08 +0300, , cgroup introduce reduce size let factor new function restoring one special property functional change expected signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1759,1668356526b5f73e9a206d112a561ecbe5c760eb,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-26 00:08:07 +0300, , cgroup use local variable prop purpose separation function refactor code use local variable prop new function cgrouppropentry type instead cgroupdirentry signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1760,b3e18c9329b4a4572780380fdf48340a8cc1d6be,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-26 00:08:06 +0300, , cgroup refactor special_props comparison let add function tell cgroup property special note touch indention patch separate subfunction next patch touching pile code signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1761,8e92c9f241698da831fa33f5a2bed3224f4de361,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-08-08 14:44:29 +0300, , check make uffd verification extra rather experimental signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1762,086df7e5709f5c09c79647abced914388c80de2b,avel Emelyanov <xemul@virtuozzo.com>, 2017-10-23 14:23:02 +0300, , criu version 3.6 usually many bugfixes several new feature s390x stuff well tempting new feature ability dump restore file sent unix socket scm_rights signed pavel emelyanov xemul virtuozzo.com,,
1763,15b29140a8832eff44cfb09cc6e543613dceee47,ndrei Vagin <avagin@virtuozzo.com>, 2017-10-17 22:22:57 +0300, , travis check compilation arm64v8 fedora rawhide signed andrei vagin avagin virtuozzo.com,,
1764,d0a8aa748284b55bd57ecba2279966599516c772,ndrei Vagin <avagin@virtuozzo.com>, 2017-10-19 21:11:38 +0300, , aarch64 copy sigcontext structure kernel header declaration changed glibc header want handle two version itñ file included compel include uapi compel infect.h compel include uapi compel compel.h compel include log.h compel arch aarch64 src lib infect.c compel arch aarch64 src lib infect.c function compel include uapi compel asm sigframe.h error mcontext_t aka struct anonymous member named __reserved mean define rt_sigframe struct aux_context rt_sigframe  compel include uapi compel asm sigframe.h note expansion macro define rt_sigframe_fpu rt_sigframe rt_sigframe fpsimd  compel arch aarch64 src lib infect.c note expansion macro rt_sigframe_fpu struct fpsimd_context fpsimd rt_sigframe_fpu sigframe  make builddir build build criu 3.5 script nmk script build.mk 209 compel arch aarch64 src lib infect.o error make makefile.compel compel libcompel.a error error bad exit status var tmp rpm tmp.iexy9k build seems related following glibc change http sourceware.org git gitweb.cgi glibc.git commitdiff reported adrian reber adrian lisas.de tested adrian reber adrian lisas.de signed andrei vagin avagin virtuozzo.com,,
1765,b53d90692d84f3c04ceb43080973553407e1e231,mitry Safonov <dima@arista.com>, 2017-10-17 22:38:34 +0100,397, compel add r_x86_64 _rex _gotpcrelx relocs add handeling old provided ifdef guard according x86 abi specification paper generated instead case relaxation possible moment handle way like http github.com hjl tool x86 psabi wiki x86 psabi r249.pdf fix 397 cyrill gorcunov gorcunov openvz.org reported adrian reber areber redhat.com signed dmitry safonov dima arista.com signed andrei vagin avagin virtuozzo.com,,
1766,342019bb07162db2c1bf106c4fec35b0c61e5879,ndrei Vagin <avagin@virtuozzo.com>, 2017-10-17 09:34:52 +0300, , zdtm avoid arithmetic overflow datagen datachk fast_size buffer length sentence fast_size may bigger trouble gdb coredump test zdtm static write_read01 gdb uint8_t 0xffffa89e gdb buffer uint8_t 0xfff06780 gdb length 1000000 signed andrei vagin avagin virtuozzo.com,,
1767,9ad12876691483a8c14cc4394db0f8f9fcdfd8c5,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-10-15 09:16:40 +0300, , travis lazy page exclude lazy thp older kernel lazy thp may fail older kernel khugepaded fast enough merge page partially populated area signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1768,62cc04df6901b0dc1b7db76b079189a48959d94d,avel Emelyanov <xemul@virtuozzo.com>, 2017-10-17 11:44:06 +0300, , test scm test longer fail signed pavel emelyanov xemul virtuozzo.com,,
1769,fd9fd56883f236c02b87177ae37877d8e9b3dc46,avel Emelyanov <xemul@virtuozzo.com>, 2017-08-18 18:19:00 +0300, , test zeroify scm buffer filling cmsg_nxthdr check length __next__ cmsg i.e one return filling thus keeping anything zero unsafe reported pavel tikhomirov snorcht gmail.com signed pavel emelyanov xemul virtuozzo.com,,
1770,5087faa0b852ab19f7f4dcc0a03afadce12b8a0c,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-13 14:24:29 +0300,251, scm dump restore scm_rights piece already described previous patch summary dump receiving message also receive scm already scm_rights one met ahead dump received descriptor using regular code taking current victim task word file path resolution since dump path file receiving victim parasite file sent via socket still work still receive another socket several problem unix socket sent via unix socket form knot supported eventpolls sent via unix might themseves poll unix socket knot supported either restore restore need make unix socket wait soon scm sent descriptor get restored need find put dependency fake fdinfo entry attached respective file descs sent respective descriptor closed http github.com xemul criu issue 251 addressed comment kirill moved prepare_scms adding fake fles comment add scm fles fake thus removing close_scm_fds try hard finding suitable fle use scm one queuing unix socket scm list allocate new one really needed reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1771,e52341f5a300ef1557c7e22087aaa28e7219f287,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-10 12:41:47 +0300, , skqueue use sendmsg send data reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1772,ff91d4f721ea21d37f78d8fe8e185003abcc4764,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-10 12:41:33 +0300, , skqueue split packet sending code reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1773,5c84e93ec8132c8b758e18835de80bff3c77187a,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-10 12:41:19 +0300, , unix split resolv interconnect order make sender descriptor unix socket restored _after_ descriptor question need find socket early post prep call problem current code give info queuer post prep hook peer resolution happen right collect callback time need make sure peer configured image exist well need put master slave flag socketpairs action happen post prep said current peer resolve routine split two step handle socket connected self dgram reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1774,a73914cf725aaa40f47e4ed9e9abb0184b7d8103,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-10 12:41:04 +0300, , unix use queuer ino queue.img keep socket recepient descriptor scm code need find unix info sender particular socket already queuer field unix_sk_info need rather inode fortunately inode pair unique reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1775,4bf3942a153e57e25d531b2b7e8569bc3726e381,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-10 12:40:50 +0300, , unix set queuer set_peer scm restore need know queuers even socketpair current code skip setting one half set info every socket reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1776,fefc408b5fa1d5a1978ec057ff43cc74b8b653b1,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-10 12:40:36 +0300, , split fdinfo collect routine scm code need attach newly created fdinfoentry particulat file desc object get created fdinfo helper object back current code allows via two lookup call first one attach entry desc lookup get fdinfo helper lookup fortunately exising code allows simple split give optimized routine reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1777,0d1dac2b7c0f70f61789f90830bde3522f93620a,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-10 12:40:21 +0300, , split file_master scm patch need generate temporary fdinfo entry task send descriptor via socket sometimes file question fdinfo scm sent closed need helper would either give existing fdinfo say reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1778,67c572dff7960a019112b09ae81c0710b21398e9,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-10 12:40:06 +0300, , helper local dump aux code dump received file report back type reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1779,858f150931b0bd25efb7404aaa6cff9d9e6593e3,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-10 12:39:50 +0300, , file find descs actually file dump unique regardless type fact used reduce complexity scm code instead keeping type pair save siad need way lookup desc older image fifo tty matching respective reg file entry reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1780,05abfa5d741c27ee3cd3d58cfb653c5b86710a68,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-10 12:39:35 +0300, , fdinfo extract fdinfoentry dump_one_file support scms need receive criu task see scm patch detail dump received file dumpee info received descriptor written packet entry need perform regular file dumping code write fdinfoentry image shuffle code gist patch two change one  rest tossing argument function relevant change reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1781,d4c6e785159cc5428ce1b9b29b4336e28fe1aed1,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-10 12:39:19 +0300, , tty generate unique satellite regfile entry thing fifo reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1782,c0e929abc55d5a9c8831035f1e0985bc3746c62c,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-10 12:39:05 +0300, , fifo generate unique satellite regfile entry plan file entry unique fifo generates reg file entry reuse whole reg file ing engine ghost open path etc right entry fifo entry reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1783,73a1f362fed864a7ec92e0d43f386a163069b2ad,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-10 12:38:51 +0300, , tty prepare parasite_ctl scm dumping code provide ctl tty dump make work peek required tty info current see scm patch doubt anyone sends ttys via socket ... keep todo list reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1784,49a2cbd62f80e98c898630842ba392f0d999b276,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-10 12:38:36 +0300, , zdtm send two descriptor two scms send code altered upon receiving kernel merges scm_rights int one criu relies merge catch situation kernel suddenly stop reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1785,ff90e847ac68da242b1c73b9d464885fca62bf9d,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-10 12:38:20 +0300, , zdtm send two descriptor one message reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1786,c6908011bba29b5d7a573fad0c4cc79c874b1600,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-10 12:38:04 +0300, , zdtm send two descriptor via unix socket reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1787,00468aa801caf2dc8596f6eedb2af029ea4167a9,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-10 12:37:50 +0300, , zdtm test descriptor sent unix kept open reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1788,f084b246092617027e2700c8680cdeb3f5d70021,irill Tkhai <ktkhai@virtuozzo.com>, 2017-06-07 14:27:47 +0300, , file add task link created populate used determine whether task namespace allows restore file_desc signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1789,a95f68e08273aa79a72e9a71590c1814ac878bba,irill Tkhai <ktkhai@virtuozzo.com>, 2017-08-03 17:14:30 +0300, , file reorder field keep int pid short len field avoid alignment gap structure signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1790,50131370aefc6a2241c92f83c7770945de7b392b,irill Tkhai <ktkhai@virtuozzo.com>, 2017-06-07 14:28:44 +0300, , file extract new_fle assignment collect_fd separate func algorhythm searching file master complicated next patch move current functionality separate func signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1791,deba6311ce2950bc0584eb6435b1e49feb32c0d9,irill Tkhai <ktkhai@virtuozzo.com>, 2017-06-07 14:27:55 +0300, , file assign fdesc fle collect_fd earlier signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1792,5360ed761fd5bde678791048104c4155526eb0c1,irill Tkhai <ktkhai@virtuozzo.com>, 2017-06-05 20:24:01 +0300, , file kill collect_fd user fifo collect_fd read action change fifo_info reg_d population may easily moved open_fifo_fd move functionality collect_fifo_fd open_fifo_fd kill collect_fd method signed kirill tkhai ktkhai virtuozzo.com,,
1793,dc89ac658b0d9e1a4109baca886ac76f7b9f6259,irill Tkhai <ktkhai@virtuozzo.com>, 2017-06-07 14:29:09 +0300, , file teach collect_fd mark fake file add new argument function signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1794,674651995f2a8dafb4aebf02a86c3a2a3a57ec2d,irill Tkhai <ktkhai@virtuozzo.com>, 2017-06-01 14:34:50 +0300, , file export collect_fd declare extern allow use outside files.c signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1795,107f2e40fe2329d3f09eca6b57a2733c8d07fb58,irill Tkhai <ktkhai@virtuozzo.com>, 2017-06-01 15:08:36 +0300, , file kill use generic helper 01.06.2017 kirill tkhai wrote everything prepared pair type uniqul find_file_desc collect_fd work expected find file_desc added  generic helper may killed  signed kirill tkhai ktkhai virtuozzo.com returned debug print patch file kill use generic helper everything prepared pair type uniqul find_file_desc collect_fd work expected find file_desc added generic helper may killed leave debug print place signed kirill tkhai ktkhai virtuozzo.com acked stanislav kinsburskiy skinsbursky virtuozzo.com acked stanislav kinsburskiy skinsbursky virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1796,940187818c95c3f20c55d3ee5b7a058e6aa7383a,irill Tkhai <ktkhai@virtuozzo.com>, 2017-06-01 14:34:28 +0300, , autofs delete alignment shmalloc already return address sizeof unsigned long alignment second alignment useless signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1797,70be2395bfbe3b112bdfb8e134bf4be8dd9361f1,irill Tkhai <ktkhai@virtuozzo.com>, 2017-06-07 14:29:01 +0300, , file add fake fle flag close fles restore file allow mark fles fake close needed cache fake file separate list restored iterate file list signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1798,82acfd44878d2b64b251cea8e35552b958db08cc,irill Tkhai <ktkhai@virtuozzo.com>, 2017-06-07 14:27:38 +0300, , file merge shmalloc fle_init signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1799,7e9fe49f54b90cacdac01e32742ba01200fabdc8,irill Tkhai <ktkhai@virtuozzo.com>, 2017-06-07 14:27:14 +0300, , file move fle_init files.c one user also next patch used function want add include files.h nest header signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1800,f6c9ac7e0d3e0362b1e816de4ee8e1f65ba842f2,irill Tkhai <ktkhai@virtuozzo.com>, 2017-06-07 14:28:35 +0300, , file declare structure fake master fake master file owned process able open signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1801,882bacffc12a76cbe2be987ecdd3769063b943f1,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-19 12:04:03 +0300,366, net try restore sit6rd present due misprint 6rd info sit device restored present http github.com xemul criu issue 366 signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1802,fb85281c3b88cd159255bbadbe8e6882ecf2e576,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-05 17:00:12 +0300, , zdtm test sit device signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1803,87bfe588006929f1fce5110a1e2b615b28828989,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-05 16:59:57 +0300,11, net restore sit device image prepare ifla_info_data section using date sitentry issue signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1804,4a044e6af93f6b9d473a8ca56cbc0b07224cf6ab,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-05 16:59:43 +0300,11, net dump regular sit device nothing special parse known nlas keep image issue signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1805,0509bc9f177bc38a574c274452dc106b95741ee9,ndrei Vagin <avagin@virtuozzo.com>, 2017-10-14 09:12:28 +0300, , restore set dumpable flag restoring changing uid gid flag reseted time uid gid capability changed grep error 00.235109 opening 101 vma 00.235115 search shmem 0x3ec72 0x2b9ac74058c0 00.235119 waiting 3ec72 shmem appear 00.235122 opening shmem proc 00.235153 error criu shmem.c 453 open procfs permission denied 00.235171 error criu mem.c 1200 open vma 00.283466 calling exit_usernsd 00.283521 daemon call 0x47f6b0 189 00.283532 daemon exit 00.289212 daemon stopped 00.289232 error criu restore.c 2152 restoring failed error signed andrei vagin avagin virtuozzo.com signed andrei vagin avagin virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1806,f65517b95d9da8117d74065da3e3b4877f75731f,ndrei Vagin <avagin@virtuozzo.com>, 2017-10-14 04:19:35 +0300, , shmem dump shared memory dumping namespaces page_ids global variable used dump shared memroy process memory ipc shared memory problem ipc namespace dumped child process page_ids changed parent process patch quick workaround issue signed andrei vagin avagin virtuozzo.com,,
1807,0768d9203f3f3533c2fe9d71192f9b4bcc9f4651,ndrei Vagin <avagin@virtuozzo.com>, 2017-10-14 03:04:24 +0300, , zdtm rework synchronization scheme currently test_daemon sends signal parent process test completed prepartion stage work child changed uid gid enough permission case patch reworks synchronization scheme use futex instead sending signal signed andrei vagin avagin virtuozzo.com,,
1808,eff4c2acf40695b54047fa016b6d5233e7a433a7,yrill Gorcunov <gorcunov@openvz.org>, 2017-10-14 00:26:32 +0300, , test fixup sync point wait thread finish creation instead calling sleep time call test_daemon ready vitaly ostrosablin vostrosablin virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1809,bd5611530308b7a26c8a7c1b500454673adf831b,yrill Gorcunov <gorcunov@openvz.org>, 2017-10-14 00:26:31 +0300, , test style nitpicking vitaly ostrosablin vostrosablin virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1810,105765830b0ac0a014727b17dc10488dd0b1c9f8,ndrei Vagin <avagin@virtuozzo.com>, 2017-10-12 21:33:05 +0300, , zdtm skip vsyscall vmas x32 test known issue vsyscall vmas unmapped x32 process signed andrei vagin avagin virtuozzo.com,,
1811,aa9b6a5d1a7dc5ef3b40c5024aded964d09a91cb,ndrei Vagin <avagin@virtuozzo.com>, 2017-10-12 21:44:54 +0300, , fault_inject use sigkill instead bug kill process call bug genereates core file get false warning abrtd signed andrei vagin avagin virtuozzo.com,,
1812,44dc01597a0712856c93aa765293f5079be9b9a0,ndrei Vagin <avagin@virtuozzo.com>, 2017-10-13 11:22:08 +0300, , zdtm use getpwnam getgrnam matter name user group used want sure restore right uid gid use function run test namespaces use external unix socket problem unix runaway socket ino 0x1df1ae4 peer_ino 0x1df1ae3 family type state name run dbus error criu unix.c 712 unix external socket used consider using ext unix option vitaly ostrosablin vostrosablin virtuozzo.com cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1813,ac21ffe215fce4222e01930acbc84f271cecd6ce,ndrei Vagin <avagin@virtuozzo.com>, 2017-10-04 09:43:04 +0300, , travis set umask first criu run .gcda coverage data file created read write permission otherwise test able modify file code coverage data collected  signed andrei vagin avagin virtuozzo.com,,
1814,040c2487ea5de2646d7b61f38ea69dd743d9fd92,ndrei Vagin <avagin@virtuozzo.com>, 2017-10-07 00:31:55 +0300, , zdtm check reseted tcp connect test create closed socket non empty sent queue signed andrei vagin avagin virtuozzo.com,,
1815,c821f24d5bfeb66e286b05f8163a24fd5e38e326,ndrei Vagin <avagin@virtuozzo.com>, 2017-10-07 00:31:54 +0300, , libsoccr ignore data sent queue connect closed connection reseted data sent queue use read data ignore http jira.sw.ru browse psbm 67026 signed andrei vagin avagin virtuozzo.com,,
1816,865f099d702a94a8e429359869f38a938e498f15,lice Frosi <alice@linux.vnet.ibm.com>, 2017-10-05 15:50:43 +0200, , s390 add test case add new test check control block correctly restored active add control block test original test case provided martin schwidefsky schwidefsky de.ibm.com signed alice frosi alice reviewed michael holzheu holzheu signed andrei vagin avagin virtuozzo.com,,
1817,581f731ba61420ee9b66d8ad1b4f65f35c9b2bc7,lice Frosi <alice@linux.vnet.ibm.com>, 2017-10-05 15:50:42 +0200, , s390 add test case add new test broadcast command system call add control block test original test case provided martin schwidefsky schwidefsky de.ibm.com signed alice frosi alice reviewed michael holzheu holzheu signed andrei vagin avagin virtuozzo.com,,
1818,16474786cbcfb0de70216fc3c81ad04ea9ee451f,lice Frosi <alice@linux.vnet.ibm.com>, 2017-10-05 15:50:41 +0200, , s390 add runtime instrumentation support dump restore process control block runtime instrumentation allows collect information program execution cpu data control block dumped restored thread ptrace kernel interface provided c122bc239b13 s390 ptrace add runtime instrumention register get set signed alice frosi alice reviewed michael holzheu holzheu signed andrei vagin avagin virtuozzo.com,,
1819,a14421045124982633c393be85ad6359eed814bf,lice Frosi <alice@linux.vnet.ibm.com>, 2017-10-05 15:50:40 +0200, , s390 add guarded storage support dump restore task control block guarded storage new s390 feature improve garbage collecting language like java two control block cpu control block broadcast control block control block dumped restored thread signed alice frosi alice reviewed michael holzheu holzheu signed andrei vagin avagin virtuozzo.com,,
1820,04e0bcae1dc9c8df0d2be8af3bf9589aef886a15,lice Frosi <alice@linux.vnet.ibm.com>, 2017-10-05 15:50:39 +0200, , restore register present sigreturn signal frame add new function allows restore architecture specific register present sigreturn signal frame architecture overwrite function function restores register final sigreturn ptrace_detach point sure thread already created add pre dump register may changed parasite infection present sigreturn signal frame signed alice frosi alice reviewed michael holzheu holzheu signed andrei vagin avagin virtuozzo.com,,
1821,3fb3e87058b143f63346cfffeafd7bad1e3e8986,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-10-08 16:19:40 +0300, , travis lazy page explicitly define test verify lazy page running test lazy page remote lazy page take long let run several representing test case signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1822,0ee7df54de502d1306eb0a33da58dc540fae3e18,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-10-08 09:26:53 +0300, , lazy page treat enomem returned task exit return enomem unable get mm_struct assume case task exited signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1823,f41e386d4d40e3e26b0cfdc85a812b7edb337f1d,drian Reber <areber@redhat.com>, 2017-09-28 09:13:33 +0000, , fix building newest glibc kernel fedora rawhide kernel header 4.14.0 glibc devel 2.26.90 15.fc28.x86_64 criu doe build file included usr include linux aio_abi.h criu check.c usr include sys mount.h error expected identifier numeric constant ms_rdonly mount read  make builddir build build criu 3.5 script nmk script build.mk 111 criu check.o error make criu makefile criu built in.o error make makefile 233 criu error simple ordering includes fix signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1824,5dc2e922d72e9767f2320ec4a894cfcd93007042,ndrei Vagin <avagin@virtuozzo.com>, 2017-10-04 01:33:19 +0300, , travis mount tmpfs run docker container otherwise see warning like one warn criu kerndat.c 805 load run criu.kdat warn criu net.c 2726 unable get socket network namespace warn criu kerndat.c 844 keep kdat cache non tempfs signed andrei vagin avagin virtuozzo.com,,
1825,f54acb48f95fe4dd2dfc6be565a942eb458821f9,ndrei Vagin <avagin@virtuozzo.com>, 2017-10-05 02:17:06 +0300, , zdtm fix warning flake8 test zdtm.py 1535 e711 comparison none cond none test zdtm.py 1538 e711 comparison none cond none test zdtm.py 1601 e711 comparison none cond none signed andrei vagin avagin virtuozzo.com,,
1826,7d12ce293cbf6a4e77db22051db4fe13a7665c22,italy Ostrosablin <vostrosablin@virtuozzo.com>, 2017-10-02 13:16:19 +0300, , zdtm implement different per thread credential testcase requested implement test two thread mismatching non root credential like apache doe signed vitaly ostrosablin vostrosablin virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1827,da3f0d9a066bea0544e07ce36b39dfcbd3e7c90b,yrill Gorcunov <gorcunov@openvz.org>, 2017-10-02 13:16:18 +0300, , criu thread allow uids gids different carrying uids gids per thread way since v1.8 need require match anymore still require seccomp match though need revisit seems may relax requirement well signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
1828,4ff68eeb36185ef538a7ccc8ca30b0c1be662109,yrill Gorcunov <gorcunov@virtuozzo.com>, 2017-10-02 10:07:48 +0300, , fsnotify filter event mask old kernel checkpoint done kernel commit yet present mask filtered saved image raw form case restore modern kernel fail small set event allowed pas userspace signed cyrill gorcunov gorcunov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1829,251b4d06a98554639b2893fea994220f4edd14bb,ndrei Vagin <avagin@virtuozzo.com>, 2017-09-30 04:33:57 +0300, , zdtm report test result junit format found good plugin jenkins analize test result handle junit format work without junit python module install junit xml zdtm.py executed report option jenkins script signed andrei vagin avagin virtuozzo.com,,
1830,061a407ce3fdf6a3e3398b43c8c787a1a27d0991,ndrei Vagin <avagin@virtuozzo.com>, 2017-10-02 21:45:48 +0300, , alpine compile test signed andrei vagin avagin virtuozzo.com,,
1831,7678f440cac6ea74040bff82b8d7964b3640c8e6,ndrei Vagin <avagin@virtuozzo.com>, 2017-09-30 01:41:44 +0300, , test zdtm fix compile test alpine signed andrei vagin avagin virtuozzo.com,,
1832,0a303160774f9e807dee4194cf591f153a2382cc,ndrei Vagin <avagin@virtuozzo.com>, 2017-09-30 01:41:43 +0300, , zdtm autofs include bit signum.h required absant alpine autofs.c fatal error bit signum.h file directory signed andrei vagin avagin virtuozzo.com,,
1833,598790eb4396769eeedc36c9b92d617a9cca80ef,ndrei Vagin <avagin@virtuozzo.com>, 2017-09-30 01:41:42 +0300, , tcp ready size tcp_info changed 00.052683 error soccr soccr.c 166 failed obtain tcp_info error information need whole tcp info get part going use signed andrei vagin avagin virtuozzo.com,,
1834,7178717bcf019aee7b24b677e412b72aa1749708,ndrei Vagin <avagin@virtuozzo.com>, 2017-09-30 02:09:40 +0300, , alpine cast address struct sockaddr otherwise get error like usr include sys socket.h 315 note expected const struct sockaddr argument type struct sockaddr_un int bind int const struct sockaddr socklen_t signed andrei vagin avagin virtuozzo.com,,
1835,c645cc937c2efc3d3bf4ccdb7a4629c897e12666,ndrei Vagin <avagin@virtuozzo.com>, 2017-09-30 01:41:40 +0300, , alpine use sys wait.h instead wait.h file included socket_listen.c usr include wait.h error warning redirecting incorrect include wait.h sys wait.h werror cpp warning redirecting incorrect include wait.h sys wait.h signed andrei vagin avagin virtuozzo.com,,
1836,fb67fb14f9f43152e5b9c4e7f113b62b1551d3a2,ndrei Vagin <avagin@virtuozzo.com>, 2017-09-30 01:41:39 +0300, , alpine use uid_t instead __uid_t __uid_t public signed andrei vagin avagin virtuozzo.com,,
1837,d5d41bac19350e63c51d897aedcdfa626e77bf0a,ndrei Vagin <avagin@virtuozzo.com>, 2017-09-30 01:41:38 +0300, , zdtm use find get executable file find unrecognized executable signed andrei vagin avagin virtuozzo.com,,
1838,2d093a170227e5790bab08eb790ef5274dcb6bdb,ndrei Vagin <avagin@virtuozzo.com>, 2017-09-30 01:41:37 +0300, , travis add job test fedora rawhide job optional affect status whole job signed andrei vagin avagin virtuozzo.com,,
1839,833c10450ddb471cc62199f652a1e51e64e22dd0,ndrei Vagin <avagin@virtuozzo.com>, 2017-10-03 20:40:11 +0300, , travis use last alpine release build criu signed andrei vagin avagin virtuozzo.com,,
1840,32191ac444e90e458f734aec436d39df960a238a,ndrei Vagin <avagin@virtuozzo.com>, 2017-10-03 20:38:09 +0300, , travis use xenial instead zesty xenial lts stable popular signed andrei vagin avagin virtuozzo.com,,
1841,d723061b53c5192a4e64aa8c7fa542dbfb058549,irill Kolyshkin <kolyshkin@gmail.com>, 2017-10-01 17:34:04 -0700, , x86_64 switch zesty add clang build x86_64 job one run inside docker opposed local run host let update use ubuntu zesty since clang unlike local one make sense add clang build signed kir kolyshkin kolyshkin gmail.com signed andrei vagin avagin virtuozzo.com,,
1842,4ccafdd920eae43b85f9fb756e653e1dea30b5aa,irill Kolyshkin <kolyshkin@gmail.com>, 2017-10-01 17:34:03 -0700, , update arm bit build zesty also use official better maintained docker image repo signed kir kolyshkin kolyshkin gmail.com signed andrei vagin avagin virtuozzo.com,,
1843,a1196183563ed20a4a2481f9a8112f17d21ef1ef,irill Kolyshkin <kolyshkin@gmail.com>, 2017-10-01 17:34:02 -0700, , fix armv7 compile clang clang following error appears criu pie parasite.o file included criu pie parasite.c criu arch arm include asm parasite.h error function declaration prototype werror wstrict prototype ptls tls_t 0xffff0fe0  void error generated apparently adding void fix signed kir kolyshkin kolyshkin gmail.com signed andrei vagin avagin virtuozzo.com,,
1844,5b158804e83f4183a86df67564378324164309d2,irill Kolyshkin <kolyshkin@gmail.com>, 2017-10-01 13:43:27 -0700, , script build extract deb pkg fix improve numerous improvement extract deb pkg particular order use bash strict error checking set pipefail print error message target dir exists check number argument provide usage info separate mirror variable easier changing use use http check cert curl make curl silent use zgrep instead gunzip grep error message case package found create target directory need fix shellcheck warning way many mention ... profit 111 signed kir kolyshkin kolyshkin gmail.com signed andrei vagin avagin virtuozzo.com,,
1845,d23617e95ddf4f579e35b39ab7e9ae0bbcaa5cf0,irill Kolyshkin <kolyshkin@gmail.com>, 2017-10-01 13:43:26 -0700, , travis ppc64 use ubuntu zesty come newer libc header catch error earlier also clang 4.0 signed kir kolyshkin kolyshkin gmail.com signed andrei vagin avagin virtuozzo.com,,
1846,7b8ed84cd9872f8610a15704d06ddc453473b1af,irill Kolyshkin <kolyshkin@gmail.com>, 2017-10-01 13:43:25 -0700, , script build binfmt_misc fix ppc64le got error trying build criu ppc64le qemu updating dockerfile use ubuntu xenial rather trusty .ccache make script build ppc64le clang  ...  processing trigger libc bin 2.24 9ubuntu2.2 ... sbin ldconfig.real sbin ldconfig.real syntax error unexpected sbin ldconfig.real sbin ldconfig.real syntax error unexpected dpkg error processing package libc bin configure subprocess installed post installation script returned error exit status ... apparently ldconfig.real binary header differs others root 3c7593d3298d bin head 0000000 457f 464c 0102 0001 0000 0000 0000 0000 0000020 0002 0015 0001 0000 5680 1000 0000 0000 root 3c7593d3298d sbin ldconfig.real head 0000000 457f 464c 0102 0301 0000 0000 0000 0000 0000020 0002 0015 0001 0000 1d58 1000 0000 0000 amend mask binfmt_misc entry take account signed kir kolyshkin kolyshkin gmail.com signed andrei vagin avagin virtuozzo.com,,
1847,0b044ecb443054fda86d0fd05c2a9b8f98e2357e,irill Kolyshkin <kolyshkin@gmail.com>, 2017-10-01 13:43:24 -0700, , travis arm64 switch zesty let use ubuntu 17.04 zesty arm bit signed kir kolyshkin kolyshkin gmail.com signed andrei vagin avagin virtuozzo.com,,
1848,7a4bb5fddf5d5b768b173c4e2ab926311e2e8061,irill Kolyshkin <kolyshkin@gmail.com>, 2017-10-01 13:43:23 -0700, , asan ignore failure commit e4000c59a71 dockerfiles ignore make failure seems asan copy pasted old version signed kir kolyshkin kolyshkin gmail.com signed andrei vagin avagin virtuozzo.com,,
1849,20a460fabf48f6c97faa61736f67bbcd072f603b,irill Kolyshkin <kolyshkin@gmail.com>, 2017-10-01 13:43:22 -0700, , silence clang warning unaligned pointer  compel src lib infect.c 1145 error taking address packed member uc_sigmask class structure ucontext_ia32 may result unaligned pointer value werror waddress packed member blk_sigset  compel include uapi asm sigframe.h 133 note expanded macro  rt_sigframe  error generated indeed result unaligned pointer intended well known see commit dd6736bd compel x86 compat pack ucontext_ia32 need silence warning detail see http d20561 originally found travis alpine linux reproduced ubuntu 17.10 fix non x86 reported andrei vagin avagin virtuozzo.com signed kir kolyshkin kolyshkin gmail.com signed andrei vagin avagin virtuozzo.com,,
1850,f7e52b8b4a565401ae4e6740cd11407044a87607,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-09-14 07:52:05 -0700, , jenkins lazy page split lazy page run local remote signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1851,737a561703af45a5c5378705fce1e3d3c5d53214,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-09-13 10:36:42 -0700, , jenkins criu lib add build_number archive filename signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1852,1a79b4d686a2d5481bc164065c15fde72dadb8d3,ichael Holzheu <holzheu@linux.vnet.ibm.com>, 2017-09-27 17:21:48 +0200, , zdtm fix wait thread older kernel e.g rhel7 3.10 seems wait null ptrace pthread_attach doe work properly thread created via clone fix using waitpid __wall flag waitpid man page __wall since linux 2.4 wait child regardless type clone non clone reported adrian reber areber redhat.com signed michael holzheu holzheu signed andrei vagin avagin virtuozzo.com,,
1853,745461572274c82062c917d69d7674cbd1d1ea8e,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2017-09-27 12:22:23 +0300, , autofs use safe xatol xatoi helper plus patch replaces atoi bit xatol bit pipe_ino mount option thus fixing issue negative inode number big value fixed uninitialized err variable parse_options function signed stanislav kinsburskiy skinsbursky virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1854,0b1aa087efeece4c77c4a70505ef891fbed1cb6a,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2017-09-27 12:22:18 +0300, , util xatol xatoi helper introduced helper safe version atol atoi respectively check overflow nan error  added string print convertion error message xatol_base added check int range xatoi signed stanislav kinsburskiy skinsbursky virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1855,477618276b3a7cc03b391a1958a55ecee3c65621,ndrei Vagin <avagin@virtuozzo.com>, 2017-09-29 04:12:15 +0300,4, zdtm chroot allocate enough memory path error heap buffer overflow address 0x60200000001c 0x7fb26c88d5f9 0x7ffc15087d40 0x7ffc150874d0 write size 0x60200000001c thread 0x7fb26c88d5f8 vsprintf lib64 libasan.so.4 0x9e5f8 0x7fb26c88d986 lib64 libasan.so.4 0x9e986 0x402453 main root git main criu test zdtm static chroot.c 0x7fb26c43e4d9 lib64 libc.so.6 0x204d9 0x4031b9 _start root git main criu test zdtm static chroot 0x4031b9 signed andrei vagin avagin virtuozzo.com,,
1856,d50f0e90fad3200710d0932af39586002a5526b4,ndrei Vagin <avagin@openvz.org>, 2017-09-27 15:57:24 -0700,390, file print error fdinfo opened without message know fdinfo opened http github.com xemul criu issue 390 signed andrei vagin avagin openvz.org signed andrei vagin avagin virtuozzo.com,,
1857,ee7d3becd44cda8ac308385dac0c020360af6897,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2017-09-28 11:24:47 +0300, , kdat iptables restore xtable lock support wait lock vz7 problem random test iptables restore running test parallel one iptables restore instance try lock xtables lock fails instance iptables command already holding lock run zdtm static start test pidfile outfile run criu dump run criu restore log dump zdtm static restore.log grep error 00.158864 running rule delete table local 00.167319 running rule restore 00.175647 running iptables restore iptables restore another app currently holding xtables lock perhaps want use option 00.185245 error criu util.c 719 exited status 00.185289 error criu net.c 1739 iptables restore failed 00.185301 error criu net.c 2382 create net_ns 00.185370 error criu util.c 1412 wait bad status errno status 65280 00.187281 error criu mount.c 2944 mnt remove directory tmp file directory 00.187298 calling exit_usernsd 00.187344 daemon call 0x466a40 00.187361 daemon exit 00.188375 daemon stopped 00.188390 error criu restore.c 2450 restoring failed error test zdtm static fail criu restore http ci.openvz.org job criu job criu virtuozzo job criu dev 2873 happens every test suit run vz7 host updated 1.4.21 iptables package patch xlocks support iptables restore ported mon apr 2017 thomas woerner twoerner redhat.com 1.4.21 add support wait option restore command rhbz 1438597 whether patch ported distribution package problem distribution add wait lock iptables restore older version doe error invalid option warning printed signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1858,b2707bab02459678cd2b354d39cbdfd182968ee4,irill Tkhai <ktkhai@virtuozzo.com>, 2017-09-26 20:49:27 +0300, , net call table restore parameter new table restore utils parameter allows wait xtables lock occupied wait restore iptables fails old version ignore parameter error stderr doe make fail pas unconditionally signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1859,f9170eff126204c83bbd420d8f32bd8109307fc1,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-09-22 18:25:43 +0300, , lazy page consolidate error handling uffdio_copy uffdio_zeropage error set uffdio_copy uffdio_zeropage require handling let use helper function handle error returned uffdio_copy uffdio_zero signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1860,7c0cedd84e2c5e71c733826e1adedc666389aa20,ichael Holzheu <holzheu@linux.vnet.ibm.com>, 2017-09-25 16:47:12 +0200, , zdtm fix compiler warning running make zdtm s390x fails rhel7 make leaving directory tmp criu test zdtm lib  function 214 error ptr may used uninitialized function werror maybe uninitialized ptr sprintf ptr 02x buf fix assign ptr beginning help gcc reported adrian reber adrian lisas.de signed michael holzheu holzheu acked adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1861,c1e68a947e002c448a7baafa5d47f249395178ab,ndrei Vagin <avagin@virtuozzo.com>, 2017-10-05 20:38:24 +0300, , travis check docker checkpoint install last version docker start container time,,
1862,832dfed7778fd8f6d1a579c84be75b12b6fa92c5,ndrei Vagin <avagin@virtuozzo.com>, 2017-10-05 20:44:44 +0300,393, net handle case empty net set criu dump origin idea set empty net criu dump criu restore cde33dcb0639 empty iptables criu restore worked without empty net notice docker set option restore small brainstorm decided better remove requirement docker set option change docker issue urgent http github.com checkpoint restore criu issue 393,,
1863,91bc6e072a945eb9c7711bf245e5316a984fad4f,avel Emelyanov <xemul@virtuozzo.com>, 2017-09-27 15:30:40 +0300, , criu version 3.5 long running task lazy restore almost finished issue still resolved heaviest lift done another notable thing vdso rework robust fast signed pavel emelyanov xemul virtuozzo.com,,
1864,babc8b3d74d7f8d4879c9cc9cc303966325f9d21,avel Emelyanov <xemul@virtuozzo.com>, 2017-09-05 14:39:00 +0300,381, crit file sit another image merging file one image forgotten crit feature scan image file name http github.com xemul criu issue 381 patch made master criu dev problem pstree_item.pid parsing apply dev smoothly signed pavel emelyanov xemul virtuozzo.com,,
1865,b6d397e46077cbee63222a5aa640c935ad2eca80,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-08-14 11:47:00 +0300, , kdat lazy thp split error path cleanup two case error occurs need close file descriptor unmap region use separate label cleanup fix cid 182644 use close use_after_free pass_closed_arg passing closed handle f.fd argument bclose signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1866,f7724aa5739668d745476fce5b9e197bb2f2f80d,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-07-30 09:29:20 +0300, , util epoll report polling timeout really interesting pollutes log signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1867,a58330a26b29cffad56f2eab861d86f7747968f5,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2017-09-13 14:35:06 +0300, , test try read packet autofs test intention make sure one packet sent time thus read return exactly size one packet doesnt work expected size differs bit bit architecture bug hidden deeply one really care following aspect autofs pipe o_direct flag mean excess byte discarded upon read one try read one packet size time let fix test instead try read byte expected signed stanislav kinsburskiy skinsbursky virtuozzo.com signed cyrill gorcunov gorcunov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1868,7148e16b311fd66aa227aa7b3d85c595a140a231,irill Tkhai <ktkhai@virtuozzo.com>, 2017-08-30 15:28:23 +0300, , tcp print libsoccr_save error message improve debugibility signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1869,dc4d61f84f7c7ed43758af1724d2c34557782393,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-08-24 14:57:41 +0300, , compel test fix infect test compilation error signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1870,82cb4b4bd419b1ac63c49db61e488ac7c875bc3e,ndrei Vagin <avagin@virtuozzo.com>, 2017-06-06 09:50:57 +0300, , mount use open_mount need look mount info element already cyrill gorcunov gorcunov openvz.org dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1871,4671d7426045022723d31f104c72feb9f40b3898,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-21 18:44:37 +0300, , s390 vdso add arch stub vdso map api merge conflict vdso patch set s390 set michael holzheu holzheu alice frosi alice signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1872,88de3d1cbe8827272268a2bbeed5c592fee15108,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-17 15:40:02 +0300, , vdso read pagemap parse symtable save syscalls dumpee open seek read close proc pid pagemap dumpee even use parasite parse symtable pagemap unavailable signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1873,ff28da95040d191b0ca55efdb069d2211fa2f9b6,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-17 15:40:01 +0300, , vdso kdat add test preserving vdso hint mremap doe preserve omit checking pagemap dumpee filling symtable parasite signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1874,b8f3fca4891b4844407caad8e9a1239ca88c7a5c,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-17 15:40:00 +0300, , vdso parse self map map vdso restorer parking zone need searching criu remap park zone save open read close syscalls parsing map file signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1875,3f6cce985080b788cfdcc0ce28a19b0010dd79f1,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-17 15:39:59 +0300, , vdso restorer map compatible vdso unmapped vdso image need map signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1876,8459a3de9df28a6d24b1056045cec29f5ef9ed20,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-17 15:39:58 +0300, , vdso zdtm add iterative proxification test test previously fixed bug vdso trampoline insertion unmapping original vvar went unnoticed leaving vvar cycle resulting pollution signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1877,df289c04fcfc71326d6675d9f65d27502e563f17,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-17 15:39:57 +0300, , vdso add comment vdso decreasing symbol functional change expected signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1878,e89a2c044a12adee3a8575f9da3fb81783a50b3a,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-17 15:39:56 +0300, , vdso split hard stop begun functional change expected signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1879,e101026bdf2b8953378eb296dffb99f4e6c20aa8,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-17 15:39:55 +0300, , vdso miss vvar searching vvar placed lower address vdso likely earlier vma_area_list mean moment found vdso already passed vvar rt_vvar_marked pointer initialized search vvar second vma list traverse always find present signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1880,33b5b417da2178e0dacc584ef18cefc55bc94ad5,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-17 15:39:54 +0300, , vdso drop original vvar vma dump think better still restore original vvar code may expect vma may dereference pointer e.g. checkpointed task vdso page dereference pointer vvar better keep vmas original code deleted becase think misnaming problem two vvar address named rt_ orig_ describes dump signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1881,3b8071bac0fa47ad6883fa5dfec766e71ed2310a,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-17 15:39:53 +0300, , vdso introduce vdso mark need place rt_vvar_addr vdso mark know position vvar dropped following dump renamed proxy_ _addr orig_ _addr look describing orig_ _addr need marking vmas accordingly restorer would know otherwise think regular vmas signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1882,91c81e5f40664dae105f5073703b5a1603a1a496,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-17 15:39:52 +0300, , kdat add test presence vdso mapping api previously arch_prctl used config_compat map compatible vdso blob bit restoree make generic omitting mremap moving vdso vdso zone restorer afterward needed position restoree also omitting reading proc self map find vdso vvar address park afterward restorer tldr kdat feature get rid buch mremap restoree parsing proc self map api present v4.9 kernel signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1883,977e513834f691100661b14fd837becf5181b12b,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-10 21:24:24 +0300, , vdso ia32 unmap vdso found fault injected jump trampoline vdso ia32 test vdso got unmapped fixed previously forgot debugging vdso cleanup fix commit 8544895a528b ia32 restorer move bit pie unmap x86 signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1884,fc95ea4c8de5d9d9c7360166fe95ae5ef7a1f1d6,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-10 21:24:23 +0300, , vdso separate add_vdso_proxy need modify make small ready change functional change expected signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1885,041fa5285ec010caaad273edc5b654fa702ef6e2,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-10 21:24:22 +0300, , vdso cleanup vdso_do_park make bit easier read signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1886,025ad384f409b807e971c3f5bd9b6ed1bdd34a34,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-10 21:24:21 +0300, , vdso separate remap_rt_vdso vdso_proxify make readable change ready functional change expected signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1887,c7eb920fe111f3d5bc728341ca482ff8a66e21dd,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-10 21:24:20 +0300, , vdso separate check vdso vvar alikeness functional change expected signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1888,8da2d8f282076dd8a345470894f0dde8297e8385,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-10 21:24:19 +0300, , vdso separate function checking vdso pfn split oversized outgrowed plumped separate logically signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1889,3376543570d92cbe4efc6737ac227bfa96692bc7,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-10 21:24:18 +0300, , vdso use vaddr_to_pfn get vdso pfn generalize addr pfn conversion one function signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1890,55ffa83064c77bf54ff2695ddb908656826cf6f3,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-10 21:24:17 +0300, , util add parameter vaddr_to_pfn expand vaddr_to_pfn read translate pfn already opened used optimization one need translate couple address also read task pfn use next patch reading task vdso pfn signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1891,bcba8d9702ae26ef9148b32754fbf6ebc4f5019e,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-10 21:24:16 +0300, , vdso introduce type checking vdso hint map file let hide kernel detail enum patch set add kdat test presence vdso hint mremap skip checking kernel v3.16 init vdso_pfn also skipping parsing self pagemap signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1892,773fd40463d099cea3022008009d79ee809d1b1a,ichael Holzheu <holzheu@linux.vnet.ibm.com>, 2017-06-29 21:24:40 +0200, , criu pie parasite vdso handle also system without vvar s390 use vvar therefore vvar_size initialized value remains vvar_bad_size fix bug statement also cover case signed michael holzheu holzheu reviewed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1893,aff44dd424f62c3ec44dc24eabb66d3820282b13,ndrei Vagin <avagin@virtuozzo.com>, 2017-06-28 03:53:33 +0300, , aarch vdso include common compiler.h use __maybe_unused file included criu include util vdso.h criu include kerndat.h criu lsm.c criu arch aarch64 include asm vdso.h error expected asm __attribute__ static const char __maybe_unused signed andrei vagin avagin virtuozzo.com,,
1894,7ad5df9e9fe87c17d7436ea440f0baccfcd24f07,mitry Safonov <dsafonov@virtuozzo.com>, 2017-06-15 19:36:15 +0300, , vdso kdat store symtable kerndat_s need parse vdso symtable restore boot persistent move criu.kdat file tmpfs also remove syscalls made filling compat vdso symtable compat vdso helper reviewed cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1895,78402658c25160eb65e1dca0d7c3f8bfbdab894b,mitry Safonov <dsafonov@virtuozzo.com>, 2017-06-15 19:36:14 +0300, , vdso separate vdso_init dump restore dump need vdso_pfn filled restore need filled symtables mean omit filling symtables dump also mean need calling process fork pipe read write syscalls reviewed cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1896,69a66e1397a3ab35ee7a0552ca0073f0d920778a,mitry Safonov <dsafonov@virtuozzo.com>, 2017-06-15 19:36:13 +0300, , vdso move parsing self map outside aslr randomizes vdso vvar _start criu launch vdso_parse_maps called launch restore know vdso vvar _start position later parking restorer save zone checkpointing get vdso pfn pre v3.16 kernel lose vdso hint map file call may omitted symtable inside kdat file reviewed cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1897,1fdaed0a09d83645d71e463c1eb05ef1dbc38275,mitry Safonov <dsafonov@virtuozzo.com>, 2017-06-15 19:36:12 +0300, , vdso exclude vdso vvar _start vdso_symtable preparation saving vdso_symtable kdat allow skip parsing native compat symtables least save running compat helper criu launch vvar vdso _start randomized aslr point saving kdat still need reread proc self map awhile reviewed cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1898,06f846b751277068a8d9e8890fb33d69d244faa0,mitry Safonov <dsafonov@virtuozzo.com>, 2017-06-15 19:36:11 +0300, , vdso save vdso vvar pair order inside vdso_symtable plan keep boot persistent vdso_symtable inside kdat moving vvar vdso _start address new structure order vdso vvar preserved across one booting store inside vdso_symtable reviewed cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1899,ba9639215f5b1f00b286acf9c0e0c984ae32cf5a,mitry Safonov <dsafonov@virtuozzo.com>, 2017-06-15 19:36:10 +0300, , vdso restore separate vdso vvar blob comparing logic make function decides need insert jump trampoline blob equal remap enough reviewed cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1900,641407f6056426d44fdb24aa4bd5c0b734ad98b9,mitry Safonov <dsafonov@virtuozzo.com>, 2017-06-15 19:36:09 +0300, , vdso restorer simplify vdso vvar order checking ordering check vvar vdso blob introduced commit b00bdb2dbc31 vdso x86 test vmas order vdso_proxify let simplify readable version compared vvar vdso blob size dumpee match size vvar vdso kill xor reviewed cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1901,17644ff3c86391c21c17724416659196d54661a0,mitry Safonov <dsafonov@virtuozzo.com>, 2017-06-15 19:36:08 +0300, , zdtm vdso add test restoring task without vdso blob check task without vvar vdso blob restored without reviewed cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1902,8f386360f6f5a3f527ef02f81417a78eaa6d19b0,mitry Safonov <dsafonov@virtuozzo.com>, 2017-06-15 19:36:07 +0300, , vdso park vdso vvar restoree let unmap criu vdso vvar restoree  could fired e.g migrating task vdso disabled kernel vdso enabled one reviewed cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1903,3552146ad2fa7c12bc622b8401f0d0d04076ed3a,mitry Safonov <dsafonov@virtuozzo.com>, 2017-06-15 19:36:06 +0300, , vdso keep vvar vdso size symtable instead end address plan keep boot persistent vdso property symtable omit parsing invocation criu size vdso vvar stable kernel move symtable substituting end address begin end address randomized aslr point storing kdat reviewed cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1904,b4d13d3edd59c28c0eba5fc2345d8252aaf44b6e,mitry Safonov <dsafonov@virtuozzo.com>, 2017-06-15 19:36:05 +0300, , vdso check kdat.compat_cr slightly prettify code functional change reviewed cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1905,b85b5bcad9d66cdf9eeafe16dbcd2e2cd3f4c4f0,irill Tkhai <ktkhai@virtuozzo.com>, 2017-05-16 22:45:42 +0300, , arch fix sys_clone argument order right order arch syscall_define5 clone unsigned long clone_flags unsigned long newsp int __user parent_tidptr unsigned long int __user child_tidptr see linux kernel detail note fix connected second patch signed kirill tkhai ktkhai virtuozzo.com reviewed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1906,6127dd82db98535b1507fceda41aafbdddb4fca6,ir Kolyshkin <kir@openvz.org>, 2017-03-23 15:02:02 -0700, , use pr_perror open failure make sense show errno user signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
1907,23bdb6173c3579c2bb73f5fbd9564f0e1c6db162,drian Reber <areber@redhat.com>, 2017-03-14 17:43:00 +0100, , remove bogus check check_features check_features rpc function required known field present without field exited error rpc user specifying parameter would fail however possible check subset option supported option checked separately anyway forked criu doe actual check removing check also enables rpc client older protobuf definition use feature check signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
1908,3706af7b3fbde23f9028e057877bc26983ae0728,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-09-07 11:41:59 +0300, , compel ppc64le make task size detection robust recent change user address space limit linux kernel break assumption task_size 128tb maximal task size ppc64le 512tb need detect runtime compatibility older kernel signed mike rapoport rppt acked laurent dufour ldufour signed andrei vagin avagin virtuozzo.com,,
1909,440a2a864a0b28f4d0d0cb10edb31bfe6b77d3f2,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-09-13 10:04:31 -0700, , jenkins lazy page skip maps04 remote lazy page even parallel job maps04 take much time remote lazy page let skip signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1910,f384b8b6b37a7c7c7314cf90de5d379b109ed1d2,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-09-07 18:15:57 +0300, , lazy page close page_read parent process exit fork lazy restore create shallow copy parent process page read since copy reference open file close page read finish restore process share page read signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1911,97fbb1bdc48ed8d54c7fc692945619b01ddcae03,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-09-07 11:46:11 +0300, , jenkins lazy page reduce amount parallel run remote case running zdtm static maps04 remote lazy page parallel test take much time jenkins builder let try running parallel signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1912,254bf5d4b497b0e93d685603c1645cc84c7442c0,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-08-21 06:53:00 +0300, , kerndat set uffd feature querying kernel stale kdat cache file content read memory end requesting random userfaultfd feature explicitly set zero querying kernel resolve issue travis success kerndat set uffd feature querying kernel signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1913,9c56992f2bc7567eec3de16f83c119445bb391ac,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-08-16 10:32:26 +0300, , service require non cooperative userfaultfd lazy page without non cooperative userfaultfd program may fail lazy restore perform operation handled lazy page daemon travis success lazy page update check availability userfaultfd rev3 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1914,6a17d8cf49aaaccc76e232c6d22b01ed785b5ea0,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-08-16 10:32:25 +0300, , check servise use cached kdat value feature check kerndat_init called jump action handler allows directly use kdat without calling corresponding kerndat_ method travis success lazy page update check availability userfaultfd rev3 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1915,8d80012bf1817ea55f6fb9cb28e0b7c06600e06c,mitry Safonov <dsafonov@virtuozzo.com>, 2017-04-05 14:32:59 +0300, , zdtm rely d_gnu_source passed makefiles commit 02c763939c10 test zdtm unify common code cflags d_gnu_source defined top makefile passed test makefiles _gnu_source also defined test resulted zdtm test build failure make entering directory home criu test zdtm lib test.o test.c error _gnu_source redefined werror define _gnu_source  command line note location previous definition cc1 warning treated error make test.o error however catch time travis zdtm.py make zdtm rather doe make test zdtm lib static transition calling middle makefile way _gnu_source cflags top makefile think right thing following criu way rely definition _gnu_source makefiles patch almost fully generated find test zdtm name type exec sed define _gnu_source exec sed define _gnu_source exception adding d_gnu_source test makefile.inc keeping behaviour zdtm.py also changed utsname.c use utsname domainname rather private utsname __domainname uncovered sys utsname.h struct utsname  ... ifdef __use_gnu char domainname else char __domainname endif reported adrian reber areber redhat.com kir kolyshkin kir openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1916,cfc980c614925bfa57feffb27609861fbba262af,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-08-15 09:23:49 +0300, , kdat move kerndat initialization beginning kdat cache unified kerndat_init call early crtools kdat information available action signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1917,830dd3018fe17ec79ca339ed3c909271e5d02ba4,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-08-15 09:23:48 +0300, , lazy page introduce uffd_open kdat lazy page use nearly sequence open userfault code definitely live dedicated function signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1918,1f2cc31fd5d2eef89bb570b2789b09fc3186c218,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-08-14 16:50:00 +0300, , lazy page treat esrch returned uffdio_copy process exit condition newer kernel report esrch uffdio_copy attempted process exiting take care new errno value keep enospc compatibility http git.kernel.org pub scm linux kernel git torvalds linux.git commit userfaultfd.c signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1919,e5d7d71b1e746224bba0c85fbcdc2ef4a390b95f,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-08-08 16:18:04 +0300, , documentation add lazy page option page server description signed mike rapoport rppt acked adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
1920,4b5605d986304f9e8dcc418bfc23837d18ec7e91,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-08-08 16:18:03 +0300, , documentation spelling fix signed mike rapoport rppt acked adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
1921,76ed56cdb5d2c2ea4dc08a6711fed3875f65fd2a,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-08-08 14:44:29 +0300, , check make uffd verification extra rather experimental signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1922,1dc55aef45a768549d8f35756fa6c4d1cc9b6f1e,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-08-08 10:05:57 +0300,363, test zdtm allow running lazy page kernel without uffd raise exception kernel userfaultfd kernel userfaultfd provide non cooperative event 4.3 4.11 print warning fix 363 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1923,b325765cc9da0b881e05bb9282632ac22f5e2e02,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-08-08 10:05:56 +0300, , check use two feature verify userfaultfd availability older kernel implementation userfaultfd would include non cooperative mode case still possible use uffd enable lazy page restored process change virtual memory layout restore get memory corruption change criu check feature uffd report success kernel support userfaultfd criu check feature uffd noncoop report success kernel support non cooperative userfaultfd suggested pavel emelyanov xemul virtuozzo.com signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1924,668ea674bd63c91f9922b2a4475d375abb42ea30,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-05-01 10:11:56 +0300, , doc start documenting lazy page signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1925,fc34b5144c6f03155bec033e8ac544fa119f0281,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-07-26 18:06:53 +0300, , lazy page restorer reduce amount printout acked adrian reber areber redhat.com signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1926,aa88de59b17fe41acc78f458b91d0a04919dc96d,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-07-26 18:06:52 +0300, , lazy page uffd_zero update error reporting acked adrian reber areber redhat.com signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1927,294abb197a55b36099bac4b11da8d3c3950cbc83,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-07-24 17:23:21 +0300, , lazy page use free_iovs helper freeing iovs error path acked pavel emelyanov xemul virtuozzo.com signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1928,c7650cc1e8f31730f456a099de830fc11e499725,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-07-24 17:23:20 +0300, , lazy page drop _lazy_ annotation iovec operation iovecs uffd.c lazy point _lazy_ function operate iovecs acked pavel emelyanov xemul virtuozzo.com signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1929,2335be271faae80e4d6022f58ac5b2e9cb52f0fd,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-07-24 17:23:19 +0300, , lazy page merge real point two liner wrapper better semantically acked pavel emelyanov xemul virtuozzo.com signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1930,6cc31a7f0bc0a7cb8dedbfa957328bb669612a21,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-07-20 21:18:09 +0300,357, travis exclude futex lazy thp test lazy pass test seem reproduce issue 357 frequently make really annoying temporarily remove lazy page pass issue fixed http github.com xemul criu issue 357 signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1931,1a34089773328c6008ea79aa18889095440dbd6b,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-07-13 08:50:36 +0300, , page pipe drop dead code page_pipe_read obsoleted page_pipe_split related function point keeping signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1932,71c9a7a9c1e8809f0111bdc20c72058e73c111e6,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-06 12:41:44 +0300, , page xfer send zero page none found page server get request absent pagemap lazy page daemon reply zero page pagemap completely sync src dst dst never request page present maybe return least chance dump unroll everything ... acked mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1933,f2f5fd68dd44ebc07f9d4b5ecebe21f658383f80,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-06 12:41:28 +0300, , page xfer sanitize xfer core routine make call .write_pagemap decide whether call .write_pages based flag caluculated one place well acked mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1934,daf8b4f75c9ea680a48e4b4828384fed7c9681e2,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-06 12:41:12 +0300, , page xfer move lazy bool xfer thing boolean value saying whether send lazy pagemaps alone follow respective page value non true single place let simplify api keep bool xfer object acked mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1935,121f07a79f73a1ed0e5faa497073e1886ef1a894,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-06 12:40:56 +0300, , page xfer move iov offset xfer offset question used shmem dumping code dump memory segment relative shmem segment start task mapping start offset value part xfer callback typically let keep xfer object simplify xfer api acked mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1936,efbf59ddf69085571f7f144f9e80898098596b2b,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-06 12:40:23 +0300, , page xfer use send_psi everywhere two place left send ps_iov hand socket switch use common helper acked mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1937,f83ba3fe31cb7712e2c336b2d97c3cb094074f5d,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-06 12:40:07 +0300, , page xfer rework send_psi use send flag case need specify flag send ps_iov tune send_psi use needed acked mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1938,4fd66c9d9ec55014c94b0a6f934adcef3eb8d6d7,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-06 12:39:52 +0300, , page xfer tune send_psi accept args thing doe put value stack ps_iov let avoid double stack copying put value ps_iov caller acked mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1939,3c62260789d242541047e49249379900565aab88,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-06 12:39:34 +0300, , page xfer fixup page server protocol lazy page introduce ps_iov_add_f command add page flag already use similar notation page xfer single write callback pagemap flag page server let use legacy _hole _page handling kept changed command number command question still criu dev branch acked mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1940,f9510f67e938de6c5d9061bf13a75bfc9f65e85e,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-06 12:39:16 +0300, , pagemap remove already tune page offset separate call routine question always acked mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1941,a33b747f7d593a9db48d8bfc060f3ef61918e094,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-07-06 10:19:23 +0300, , lazy page fix one remap_lazy_iovs remap parameter match iov end try split iov exactly end effectively create iov zero length one fix skip iov case expected signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1942,b1aca099ccdb28585c39d3b55bf51886b3611cc7,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-06-28 09:43:28 +0300, , test add test verifies proper intraction lazy page thp acked pavel emelyanov xemul virtuozzo.com signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1943,9d45bb39875b7cd647a96be9f49d4aeda5550c02,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-06-28 09:43:27 +0300, , lazy page fix memory corruption combining pre dump lazy page combine pre dump lazy page populate part memory region data saved pre dump afterwards region registered userfaultfd expect get page fault part region yet populated however khugepaged collapse page page fault would expect occur mitigate problem temporarily disable thp restored process point register memory region userfaultfd http pipermail criu 2017 may 037728.html reported adrian reber areber redhat.com acked pavel emelyanov xemul virtuozzo.com signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1944,bbbd597b4124f1a391d61d246cd1aa3083571997,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-06-28 09:43:26 +0300, , mem add dump state thp_disabled prctl acked pavel emelyanov xemul virtuozzo.com signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1945,5480a2a4068349c911fd78b9a45850b4b8a5596e,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-06-28 09:43:25 +0300, , kerndat add test availability prctl prctl allows control transparent huge page per process basis available since linux 3.15 recently set vm_nohugepage vmas created prctl call prevents proper restore combination pre post copy recent change prctl behavior eliminates use per vma flag use new version prctl disable thp acked pavel emelyanov xemul virtuozzo.com signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1946,9f61de87768b33d9b187ef71a57262a17276ff3b,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-06-28 09:43:24 +0300, , proc_parse make smaps parsing helper globally available parse_vmflags required detection availability prctl acked pavel emelyanov xemul virtuozzo.com signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1947,c8717da44cad4942f2f1e17e7d32010bbd111ee9,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-14 13:15:42 +0300, , page server make sync read use async reading code two separate recv calling routine receive header page page server two finally unified sync read code look like start async one wait finish right signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1948,b31a5d67b31b9b71faa2e97ea5d11e2607447877,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-15 12:33:17 +0300, , page server split code async page read prerequisite next patch spellchecks code reshuffle signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1949,2cc7e90d5bb88ea5da5a9968d606d15e3389c707,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-14 13:15:06 +0300, , page server merge async sync read api call two look exactly one call additional sync async flag arg signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1950,832f3844f6109e3d4eded0a24033a8c74c6db4ba,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-14 13:14:46 +0300, , page server unify async sync call newly introduced sync read call may look exactly async pair using respective complete callback signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1951,b801cd68d96944c2610136fc8c718a1ad934d49f,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-14 13:14:28 +0300, , page server introduce need two api call read xfer header page merge one single call signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1952,47b943862823e4dc5576a40cadd2a5a71ce2da7b,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-06-22 13:29:23 +0300, , test travis update lazy page testing drop keep going etc lazy page pas add remote lazy page pas signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1953,0ebf7b81fa26b1abe6b1b727b668d0202a2f5597,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-06-22 13:29:22 +0300, , test jenkins update lazy page testing select excluded test based kernel version test local remote lazy page withour pre dump signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1954,77c115f3bf024bf0252fc26f5e83a98269ac4578,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-06-22 13:29:21 +0300, , test enable fork test remote lazy page signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1955,5306cd0fe8a1af87ad3afe219b4f113621c593ed,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-06-25 09:58:55 +0300,325, lazy page close page read child process page read child process shallow copy parent process page read share open file descriptor pagemap lpi_fini child process release resource released lpi_fini parent process fix 325 signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1956,1ad1400c8bc6be7a2368f03deef4e6b87bb0f600,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-06-07 11:53:56 +0300, , lazy page use random read page pipe instead splitting remote lazy page case access page middle pipe splitting iovecs use splice move data underlying pipe split get single iovec used splice data socket patch replaces splitting splicing use helper pipe tee tee page beginning pipe last requested page helper pipe sink unneeded head part dev null get requested page ready splice socket allows lazy page daemon request page several time required properly support fork restore added bonus simplify code reduce amount pipe live system signed mike rapoport rppt acked pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1957,a364f05bf9ba1e330ad727f070743aefdfb34d31,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-06-16 00:13:42 +0300, , lazy page enable asynchronous read started fetch iovec waiting completely copied returning event processing loop several request remote page flight signed mike rapoport rppt acked pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1958,7c108b8b8db351c1940a9cde7019e7a67e093dc0,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-06-16 00:13:41 +0300, , lazy page make check outstanding request strict could several outstaning request page either page fault handler verifying faulting address already requested enough need check request flight cover faulting address signed mike rapoport rppt acked pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1959,9354582fd2b143fb0686852d29db2f439031b8c1,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-04 16:32:02 +0300, , kdat relax uffd check uffd present reported feature may still need one bool uffd syscall signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1960,459b833a8ee87fc7c0310ff3a95346febb5bf564,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-05-31 12:51:44 +0300, , zdtm enable fork test lazy page still fail remote lazy page mark noremotelazy signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1961,eb261b579d6c8d03cac66bcb7ce81b06eff75dd9,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-05-31 12:51:43 +0300, , zdtm introduce noremotelazy flag allows skipping test yet run remote lazy page run lazy page signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1962,a9ea60f8b36dac1f67e0873a114088b266bd5d48,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-05-31 12:51:42 +0300, , zdtm check lazy page page server exit status test gone running lazy page remote lazy page daemon run background rather complete t.stop called many test try verify thing test_waitsig exactly place access memory cause page fault signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1963,516b7795517bfccc1254c7b0e027856c33d75383,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-05-31 12:51:41 +0300, , travis test select test skipped lazy page pas carefully zdtm test pas lazy page kernel newer 4.11 test excluded older kernel surprisingly pas even mainly becuase actually stress userfaultfd fixed upcoming commits cmdlinenv00 fails even kernel 4.11 race uffd gup case external process read proc pid cmdline memory containing command line populated signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1964,bd39d5edc5137eb03fad7b68d5cee6c6f810285b,ike Rapoport <mike.rapoport@gmail.com>, 2017-04-20 19:45:49 +0300, , travis add lazy page run signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1965,583a399732e6985bff19434cb95d42b078f9d35a,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-04-05 15:28:41 +0300, , update criu include linux userfaultfd.h version v4.11 rc5 apparently would userfault abi next month signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1966,27662f2547e2d85feb669a934202dd5a0ed102ff,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-04-05 15:28:40 +0300, , lazy page handle exit based uffdio_copy return value make upstream possible race exit syscall way detect monitored process exited checking enospc errno value set uffdio_copy http www.spinics.net list linux msg122467.html signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1967,4c0d56f4e79bc52c99cf3db702ad3cf6767e18c8,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-04-05 15:28:39 +0300, , lazy page make epollfd part global daemon state use one epoll instance manage lazy page related making epollfd file visible allow cleaner implementation restored process exit call tracking signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1968,6b1dbb1e63263acf26c2aa107de5db22b3ede7be,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-04-05 15:28:38 +0300, , lazy page drop unneeded forward declaration signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
1969,985d154ea66df57ffc7c95dd945747ef737f5624,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-02-08 14:01:14 +0200, , lazy page add comment different address lazy_iov lp_req lazy_iov lp_req two field address start run time address track remaps dump time address required pagemap access signed mike rapoport rppt acked pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
1970,8eae2ee8442d2f4e851161e681ec1d2001ea1bd8,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-02-08 15:13:00 +0300, , test add basic test uffd event lazy page daemon properly track change virtual memory layout restored process test verifies lazy page daemon properly reacts fork exit madvise madv_dontneed mremap event currently zdtm test would generate uffd_event_ remap remove signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1971,de01e0d3dc45ca17cea90bb892c64b67bf0172e4,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-02-06 13:44:15 +0200, , lazy page request userfaultfd event api handshake travis success lazy page add non event handling rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1972,371947c17428d3b168287012411d2acc6358c05e,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-02-06 13:44:14 +0200, , lazy page add handling uffd_event_fork travis success lazy page add non event handling rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1973,d7c0b1f1a21d2c898f208c486148d3fffaf9b3d9,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-02-06 13:44:13 +0200, , lazy page handle uffd_event_exit travis success lazy page add non event handling rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1974,f10b348e963aaa9514beea0ce7972c0ea3a1c2a4,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-02-06 13:44:12 +0200, , util introduce epoll_del_rfd travis success lazy page add non event handling rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1975,fb90982db536e429bffd45d77d5bb6d33c4af9ac,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-02-06 13:44:11 +0200, , page read introduce dup_page_read dup_page_read performs shallow copy page_read object required implementation fork event lazy page daemon restored process fork child lazy page daemon handle page fault child process use parent process memory dump travis success lazy page add non event handling rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1976,00436b7c2bf9dad88486885301d91d618ba81ec5,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-02-06 13:44:10 +0200, , page read add pid debug printout replace pid printing information particular page read travis success lazy page add non event handling rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1977,2c5e635e74456a513c224e7efd9b9f3f4ff96a1b,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-02-06 13:44:09 +0200, , lazy page add handling restored process call mremap see new address create correspondence address found dump actual address process purpose distinguish live address image address lazy iovs outstanding request live address used find appropriate iov uffd_copy image address used request page page read mremap call cause mapping grow additional part receive zero page expected shrinking remaps get dropped part mapping travis success lazy page add non event handling rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1978,064917442d9b2c948a347d3ff3238581011a8455,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-02-06 13:44:08 +0200, , lazy page introduce split_iov travis success lazy page add non event handling rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1979,b2ba8493a83c237a7ca9f4ca2c7c674b00ad2eb3,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-02-06 13:44:07 +0200, , lazy page add handling unmap event generated userfaultfd vma part unmapped process address space receive unmapped range need make sure trying fill range note vma gone sense unregister uffd  travis success lazy page add non event handling rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1980,ba3d099b74e44f0f310ed705cd2ffde08d11c424,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-02-06 13:44:06 +0200, , lazy page add handling restored process call madvise madv_dontneed madvise madv_remove memory range specified madvise call remapped zero pfn stop monitoring range order avoid pollution data process doe expect need unregister memory range userfaultfd kernel take care rest travis success lazy page add non event handling rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1981,7df4f14be69d991aaa45237c2c58a6e69b0b7f0c,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-02-06 13:44:05 +0200, , check lazy page detect availability unmap exit event travis success lazy page add non event handling rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1982,2f2f11ad879528e3caf7aed63de0a581b041cebd,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-02-06 13:44:04 +0200, , update criu include linux userfaultfd.h version linux next moment travis success lazy page add non event handling rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1983,028a1bc80a274c354211d3d85a3410edb4c85c8c,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-02-06 13:44:03 +0200, , lazy page summary allow different total copied page address space manipulation amount page lazy page daemon copy might differ amount page dump disable warning error retval restore accounting uffd event handling stabilizes bit travis success lazy page add non event handling rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1984,cdeb57a23363a5733a586697acab803ca90a4027,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-02-06 13:44:02 +0200, , lazy page start handling remaining page iovs list empty copied_pages total_pages may different process may drop part address space iovs list empty iff done process travis success lazy page add non event handling rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1985,0110f5cfe92b9f47e2e219339ea77b2824452a27,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-02-06 13:44:01 +0200, , lazy page update drop_lazy_iovs handle address outside iovs currently drop_lazy_iovs presumes range dropped start inside iov work fine page fault background page fail mapping change travis success lazy page add non event handling rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1986,29fc1ad78ffd9da3dd792ce29e7bb8a1eb240812,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-02-06 13:44:00 +0200, , lazy page rename drop_lazy_iovs function essentially drop memory range lazy iovecs travis success lazy page add non event handling rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1987,bb75aad9c706eab1d9078d3b76ce952343188727,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-02-06 13:43:59 +0200, , lazy page introduce lp_ debug info warn err perror helper macro printing message particular process event always prefix pid uffd better log readability travis success lazy page add non event handling rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1988,cbeaf61756c79230abe60c74d645406793132906,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-02-06 13:43:58 +0200, , lazy page use lazy_iov search page currently use pagemap check copy page process address space zero lazy_iov used instead lazy_iov cover faulting address ahead read page copy lazy_iov faulting address zero immediately searching lazy_iov rather pagemap also simplify upcoming handling travis success lazy page add non event handling rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1989,d0f53abc596a2b53d50c35a867748ba8b298b841,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-02-06 13:43:57 +0200, , lazy page use iov variable name lazy_iov travis success lazy page add non event handling rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1990,8c496f4f13dad31f86fa433dd03ef3fff6cefb70,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-02-06 13:43:56 +0200, , lazy page lazy_iovec lazy_iov meaning type travis success lazy page add non event handling rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1991,174525f4ee0e3b0b0e7bc020e220e0a9b7111536,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-02-06 13:43:55 +0200, , lazy page track outstanding page fault multithreaded application may concurrently generate page fault address cause creation multiple request remote page consequently confuse page server dump side keep track page fault request flight ensure way request page remote side travis success lazy page add non event handling rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1992,884beaa4289d07b992d34f21072d490a97fb3927,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-02-06 13:43:54 +0200, , lazy page drop code page fault message flag processing kernel anyways doe really support flag page fault message used skip flag processing however drop chunk anyway work simply removing handle uffd_wp travis success lazy page add non event handling rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1993,6110ce00a1094579ea80711c6d5ed592788f1baf,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-02 07:46:38 +0300, , zdtm.py use status instead daemon lazy stuff work faster allows check exit code travis success series starting page server return server pid page server signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
1994,f75db3cdc92a62c7a1d74dc2a244c11cc8b4ebe1,ndrei Vagin <avagin@virtuozzo.com>, 2017-01-24 01:57:42 +0300, , test check exit code criu criu lazy page travis success crtools close signal descriptor passing preparation stage rev6 mike rapoport rppt signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
1995,d1051de0213fa8f9f39ee4eae0f68718eeed284c,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-01-11 11:37:00 +0300, , lazy page fix lazy dump introduction page server send mode broken lazy dump instead using existing pstree page server try recreate pstree image adding lazy_dump parameter cr_page_server resolve issue travis success lazy page fix lazy dump signed mike rapoport rppt acked adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
1996,6f82f87a44dcf7eb1c7cc4d27d7444a4cd58abed,drian Reber <areber@redhat.com>, 2017-01-13 13:41:00 +0300, , lazy page enable lazy page via rpc use lazy page runc lazy page functionality need accessible via rpc enables lazy page via rpc information port listen taken protobuf structure user enabled lazy page via rpc evaluated get listen port additional patch runc possible use lazy restore runc checkpoint runc restore travis success lazy page enable lazy page via rpc signed adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
1997,39f1388b4f416a703787c1a604b73f589fb3a44b,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-01-09 10:23:18 +0200, , lazy page prepare non event handling rename split actual page fault handling helper function travis success lazy page add non event handling signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1998,fcfdc196103bcd6ec8f3549c945c2e6c1bf85bf0,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-01-09 10:23:17 +0200, , util epoll_run allow interrupting event polling event handler return positive value event polling handling loop interrupted pending event indicated epoll_wait processed travis success lazy page add non event handling signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
1999,82668f673475916623b0299c5cb0e5ea98ba3e0a,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-01-09 10:23:16 +0200, , util epoll_run fix event processing loop number pending event returned epoll_wait overridden first call event handler using additional local variable resolve issue travis success lazy page add non event handling signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2000,e5b4fcb6cd21be853d07662faef867cb4d01148d,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-01-09 10:23:15 +0200, , zdtm.py postpone waiting lazy page daemon currently waiting lazy page daemon finish part .restore method may cause filling test process memory test process resumed execution call test_waitsig case page fault occur rather memory copied method uffd.c let move wait lazy page pid call test.stop travis success lazy page add non event handling signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2001,a3aa27ef665660c6e1b20e81baf8a1c2b14864dd,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-12-15 14:10:43 +0200, , page pipe drop unused pp_hole_zero flag travis success revert zero pagemaps signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2002,fbb2c72d233a01042961642700097154ce220e05,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-12-15 14:10:42 +0200, , mem provide inline version page_ in_parent is_zero travis success revert zero pagemaps signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2003,6cac33723deb440a7f75d4ba3c901848e907cc1a,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-12-15 14:10:41 +0200, , stats drop zero page stats note since zero page stats never master make incompatible change stats image travis success revert zero pagemaps signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2004,48675a3c7ed3f5f00ca38a31205f2b0afbd7daa0,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-12-15 14:10:40 +0200, , drop support zero pagemap entry pagemap entry page mapped zero pfn proved useful ... travis success revert zero pagemaps signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2005,bf63367061484af81c2f4342958e4a66953ffc6c,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-12-15 14:10:38 +0200, , lazy page stop checking zero pagemaps page explicitly mapped zero pfn page present treated way therefore zero pagemaps required removed following commits travis success revert zero pagemaps signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2006,0019a68ce5dc76e8cfa6d1a683a38737532d8a0e,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-12-15 14:10:37 +0200, , lazy page zero page covered pagemap page marked present dump time covered pagemap remain unmapped restored process uffdio_zero page let kernel take travis success revert zero pagemaps signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2007,4335be91bf7d232e0be3a6c7221322975fd71685,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-12-15 09:42:00 +0300, , pagemap verify number page returned cid 173076 issue 259 travis success pagemap verify number page returned signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2008,1e9055944ea00ed5af005bfb4b208bc0d783033a,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-12-14 20:25:00 +0300, , lazy page add comment function doe weird thing better least somehow documented travis success lazy page add comment signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2009,ce5e19162f80c2bceed3bba4040e2e0cf69c0d3d,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-12-08 15:10:12 +0200, , make userfaultfd detection part kerndat instead checking availability userfaultfd late restore process make detection supported userfaultfd functionality part kerndat bonus extended criu check ability verify presence userfaultfd signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2010,8dcb4e07e9f996b5b3c8e47a6fb5548f14ee190b,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-12-08 15:10:11 +0200, , update criu include linux userfaultfd.h use latest version usefaultfd tree judging comment last spin userfaultfd update api pretty much rely current api definition proper detection supported userfaultfd feature http git.kernel.org cgit linux kernel git andrea aa.git signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2011,6de76ba0ac567572c8f8e0c7b2c19bb551cdbd2c,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-12-01 16:59:00 +0300, , test jenkins extend lazy page testing add pre dump remote lazy page pass criu lazy pages.sh signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2012,e91e62b00df43bd6ad4361e1eff3356044cdd5e1,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-12-01 11:09:00 +0300, , lazy page interleave handling transfer remaining page currently poll userfaultfd page fault page fault second stop monitoring userfaultfd start copying remaining page chunk chunk page fault occurs copy faulting process stuck page accessed would copied address space patch limit initial page fault stage second instead interleaf non blocking poll userfaultfd copying remaining memory afterwards travis success lazy page interleave handling transfer remaining page signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2013,bf49af10c58f37391f8aeb8dcc2d090b83f4e009,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-12-01 11:09:00 +0300, , lazy page spelling pagefalt travis success lazy page spelling pagefalt signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2014,450981caf00fced04f39486ec08f0dea67409aec,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-29 14:45:00 +0300, , lazy page fix searching page time commit a97d6d3f1609 pagemap replace seek_page seek_pagemap method uffd search pagemap containing faulting page page local restore cause wrong data read page img subsequent crash restored process adding call skip_pages fix problem travis success lazy page fix searching page time signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2015,c89a22a8e91ba6ca32657e1517513834af39d986,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-27 12:52:57 +0200, , zdtm simulate lazy migration page server send page lazy migration requires dumped restored process coexist time break basic assumption zdtm design simulation lazy migration page server allows testing involved code path without major intervention zdtm infrastructure travis success lazy page improve testability rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2016,ac6b3b0a1e078366316b10469cd4bc79abf7b1bb,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-27 12:52:56 +0200, , zdtm add nolazy flag test compatible lazy page kernel support lazy page userfaultfd lack many important feature effectively prevents success certain test allow skipping test somewhat informative message travis success lazy page improve testability rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2017,8be54383ff400222736812bba22599c13ddfbb47,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-27 12:52:54 +0200, , page xfer add ability send page local dump currently standalone page server receive page remote dump extend ability serve local memory dump remote lazy page daemon travis success lazy page improve testability rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2018,22b5d5e92d6ac724eb6d3e48dfce4f262b3379f3,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-27 12:47:00 +0300, , page xfer replace bug_ons return instead crashing dump page server problem detected page pipe split print nice error message return error travis success page xfer replace bug_ons return rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2019,836b1bc87adcb5ba4f9e60888168d3f7cebbb99c,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-23 15:27:00 +0300, , page pipe yet another fix split page pipe buffer splitting trailing part page pipe buffer worked coincidence single page request request longer single page handled correctly proper point splitting trailing part page pipe buffer iov following iov containing desired page travis success page pipe yet another fix split page pipe buffer rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2020,1883b7692f88aaa327c6e5102c17e11d86816a29,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-22 15:11:29 +0300, , uffd relax counting number socket travis success cleanup uffd.c rev3 signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt,,
2021,8edb68e9ec17d7e07712989622ddc29de120bbce,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-22 15:11:12 +0300, , uffd hide page server socket back epoll helper util stop exposing page server socket oter world travis success cleanup uffd.c rev3 signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt,,
2022,4cb743e48aa5d71dbddf1b8d29fcb86d47df00b5,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-22 15:10:54 +0300, , util move epoll aux code uffd util move epoll_prepare travis success cleanup uffd.c rev3 signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt,,
2023,f30cca66ecbaa3f5d13f6d172b46a7128d43a01e,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-22 15:10:35 +0300, , uffd relax reading pstree image uffd code need pstree item relation might travis success cleanup uffd.c rev3 signed pavel emelyanov xemul virtuozzo.com signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2024,12c0f452fe0b00955b977d11b82a4bff16c76e2f,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-22 15:10:09 +0300, , uffd unify page handling normal remaining mode run away previous set two routine identical page read flag differ keep name travis success cleanup uffd.c rev3 signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt,,
2025,e82f03e1eb419906b5683e6e65ce2b7ada81858b,drian Reber <areber@redhat.com>, 2017-03-08 16:32:37 +0100, , service add lazy page rpc feature check extend rpc feature check functionality also test lazy page support doe check certain uffd feature yet right check kerndat_uffd return non zero rpc response transmitted forked process instead encoding result return code parent rpc process sends rpc message case failure signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
2026,3fdf7c02d52acd104522c8bcb19402fd105e44dd,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-20 11:50:06 +0200, , lazy page reduce amount debug printout signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2027,8cf8ddfb33e66c2763e0da1fa1bff2bcfe305262,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-20 11:50:05 +0200, , lazy page use pid instead zombie process give somewhat saner debug message signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2028,d66d5cdde8bf77c5a580010ca78905660a91f3ac,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-20 11:50:04 +0200, , lazy dump start page server error currently lazy dump start page server regardless error might encountered earlier stage fix signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2029,7999c84265c0c51abb39abbc57f8df06cd3c7fa6,ir Kolyshkin <kir@openvz.org>, 2016-11-18 11:41:29 -0800, , fix pr_perror usage sigh travis success pr_perror usage fix signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
2030,479c778a2429415dd3aa3b7cfc47fb3732656b5e,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-16 16:19:49 +0300, , page xfer introduce fully asynchronous read add queue async read job page xfer page_server_sk get read event epoll read many byte page_server_iov page buffer recv allows return full iov data ready requestor notified next async read started patch remove call recv ... msg_waitall remote async path signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt,,
2031,adea705b29e4ddc6ce2a918ed875fd0ad0697c51,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-16 12:40:03 +0300, , uffd unify local remote handler finally absolutely identical merge signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt,,
2032,76bf7d4571213094baa1ffceefc1650b0ade7d77,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-16 12:39:48 +0300, , page read callback completion one called complete right sync case work required let unify local remote code uffd signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt,,
2033,c9d374bb0149569a5836e2d57fd78d10d0c8ed5b,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-16 12:39:35 +0300, , uffd helper complete _copy called hand data ready signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt,,
2034,eb0e0426661a17525dbbfcd68c034e00067d9300,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-16 12:39:22 +0300, , page read introduce pr_asap flag read_pages flag mean pr_async valid started asap remote reader work flag mostly local reader let unify page fault handler local remote case signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt,,
2035,275f81bcb532e1c99e78729ce00db732ba1ccbc6,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-16 12:39:08 +0300, , page read drop already routine send req recv info recv page need yet another one signed pavel emelyanov xemul virtuozzo.com,,
2036,edf5809f57a0e105a85c38383be82af97030ef0e,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-16 12:38:40 +0300, , page read top remote lower page read already arrived pre dump fix combined scheme signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt,,
2037,4d9d7ae7e561595d8d6d5da35a9c6f7f94629e58,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-15 18:57:28 +0200, , lazy page unblock second receive page transfer protocol completely synchronous dump side therefore presume get pollin event page server socket either page info response last sent page request page data following last page info first case set ev_data associated page server socket event value received second case reset ev_data zero allows distinguish reason called travis success uffd new set improvement signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2038,0b27e6520e0a17ab65e611cfc7f2c4d6dd7e5feb,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-15 18:57:27 +0200, , lazy page implement semi async remote page transfer synchronous remote page transfer prevents reception uffd event communication page server dump side adding socket file descriptor epoll_wait allows processing incoming uffd event non blocking request remote page issued dump side page server reply travis success uffd new set improvement signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2039,9537433fae8ae52aa7f2b01572a1b26543ba40c3,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-15 18:57:26 +0200, , pagemap add ability request remote page asynchronous version remote page_read send request dump side return happily response handled uffd.c epoll loop place handle event travis success uffd new set improvement signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2040,d4edd9bf566b5e90d848667e64f0863d6c978bd4,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-15 18:57:25 +0200, , lazy page introduce part code responsible reseting pagemap proper locatation mapping requested address zero pfn needed upcoming addtions uffd.c reuse code travis success uffd new set improvement signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2041,250448559f94a067ede11b602ee0a84cd225b5e3,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-15 18:57:24 +0200, , page xfer add method requesting receiving remote page asynchrounous page transfer post copy migration need able request remote page receive back information data going arrive receive page data travis success uffd new set improvement signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2042,57d341f1056c53225fc1a2cfe6fb0ce6ea6959e8,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-15 18:57:23 +0200, , page xfer make return socket used lazy page daemon enable polling reception page data remote dump travis success uffd new set improvement signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2043,c907796dc6a1e91fe999b1ced37e067fdba6bee8,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-15 18:57:22 +0200, , lazy page make uffd_ copy zero return success early day uffd.c return value uffd_copy used count transferred page since case anymore use success travis success uffd new set improvement signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2044,b72d5f2dca3093f81ac0fccb7e2d2d4b49330634,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-15 18:57:21 +0200, , lazy page extend page_read ability read remote page currently lazy page daemon either read_pages get actual page data local image remote server page_read completely responsible getting page data travis success uffd new set improvement signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2045,c23b83ce3a4acd4943fdbf188c86e1c49e0be8ef,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-15 18:57:20 +0200, , criu page xfer get_remote_page respect nr_pages parameter travis success uffd new set improvement signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2046,20d7eb4c56c84c7f90d4e8869e3ae21fce3ad8ac,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-15 18:57:19 +0200, , criu lazy page copy remaining iovs chunk travis success uffd new set improvement signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2047,0d5d286febe1f65ba3f28972ee03a2aa05e21ead,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-15 18:57:18 +0200, , criu lazy page add page parameter travis success uffd new set improvement signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2048,2ce10690c73923b73fcfb781e3879f7c8d7db3ed,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-15 18:57:17 +0200, , criu lazy page add nr_pages parameter uffd_ copy zero travis success uffd new set improvement signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2049,f45229886e0d003bb6e18156b4d762bcc32c50e6,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-15 18:57:16 +0200, , lazy page drop _page suffix uffd_ copy zero _page travis success uffd new set improvement signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2050,1bdd3e46eb4e15afea64891f77d15e7e6e90a53f,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-15 18:57:15 +0200, , criu lazy_pages make buffer copying page per process currently allocate single page use intermediate buffer holding data used uffdio_copy let allocate buffer per process make buffer large enough hold largest continuo chunk travis success uffd new set improvement signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2051,ec585622ef244a37a5387c44892a620c00cd9354,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-15 18:57:14 +0200, , lazy page fix zero page handling page_read seek_page restored skip zero pagemaps therefore check return value rather underlying pme travis success uffd new set improvement signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2052,a98eed95fa2fc077bdb2386e48565c293461b833,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-15 18:57:13 +0200, , lazy page refactor inline relevant part get_page inside call uffd_ copy zero _page got data travis success uffd new set improvement signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2053,7c6f72cf4dde70af5dd4acdc4a90a0fed269f2ed,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-15 18:57:12 +0200, , uffd introduce lazy_pages_fd preparation socket polling want poll bunch uffd also lazy socket callback object pushed epoll travis success uffd new set improvement signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt,,
2054,700419bc7e82e5122d7b1fbb7719332d1ff596ba,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-15 18:57:11 +0200, , criu lazy page replace page list iovs list instead tracking memory handled userfaultfd page basis use iovs continious chunk travis success uffd new set improvement signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2055,0086dca47d1240c5eee84fbce488fd5534c8c511,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-13 11:52:38 +0200, , uffdd implement daemon mode right zdtm.py hack around core code wait second socket appear let better make proper daemon mode lazy page daemon pidfile generation signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt,,
2056,fe53a87f702b1475e07002ed8850daaad70e86f4,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-13 11:52:36 +0200, , criu lazy page simplify intialization lazy page list instead creating related part restore info process tree directly use mmentry vma traversal signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2057,c00dd3459f75f1d6f9b0fd75ed51e033aa14ddc9,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-13 11:52:35 +0200, , criu lazy page move find_vmas related code around moving find_vmas function actually used allows drop forward declaration find_vmas make subsequent refactoring cleaner signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2058,6d405370da6cf3702913a37892faece5aefc654f,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-12 08:25:00 +0300, , uffd check uffd event early event received checked accessing argument mike well looking forward see non cooperative userfaultfd patch kernel something like static int struct lazy_pages_info lpi  read msg ... switch msg.event case lpi msg break default return   since patch anyway bugfix ack  travis success uffd set improvement criu uffd.c signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt,,
2059,51e6e19d117bb54c0e15e817e4f898eeb9220d82,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-12 08:25:00 +0300, , uffd turn lpi_hash list previous patch longer need hash since need lpi conversion travis success uffd set improvement criu uffd.c signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt,,
2060,6f4c60c611f6fa7a731b03c9c1df7ce56d31d4d3,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-12 08:24:00 +0300, , uffd keep lpi pointer epoll_event help get lpi much faster travis success uffd set improvement criu uffd.c signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt,,
2061,345b4e77efdf4a39907538fbfcd9aa5a0dda908b,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-12 08:23:00 +0300, , uffdd read page directly destination buffer avoids excessive memcpy one instruction travis success uffd set improvement criu uffd.c signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt,,
2062,82c8229100cd0b50cf01b651521d1897535ca806,ir Kolyshkin <kir@openvz.org>, 2016-11-07 13:37:52 -0800, , uffd.c error logging nitpicks case errno set need use pr_perror print case errno set use pr_err pr_perror need colon newline pr_err need newline adrian reber areber redhat.com mike rapoport rppt travis success assorted nitpicks signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
2063,145c5094957447e9795b678b0ec469522ab41c8b,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-04 23:02:00 +0300, , lazy page use relative path unix socket use relative path unix socket instead absolute one ensures run problem invalid socket name travis success lazy page use relative path unix socket signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2064,428226a8ac7959bff7130ce1f39d7dd2c769c5f7,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-04 09:08:04 -0600, , lazy page handle zombie process restore zombie process doe call setup_uffd cause lazy page daemon stuck forever waiting pid uffd pair arrive let extend protocol restore lazy page zombie process pair sent instead actual uffd pid travis success lazy page misc fix rev4 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2065,1a92e78911000b7e4d739d01d5ae7d9f3ff88c79,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-04 09:08:03 -0600, , lazy page send_uffd make sure mutex unlocked error path travis success lazy page misc fix rev4 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2066,ec71c1daa4606463626f3884ef725526efbdc0ad,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-04 09:08:02 -0600, , lazy page make ud_open return int properly handle zombie process need distinguish failure coming socket communication absent userfault file descriptor travis success lazy page misc fix rev4 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2067,14dbe3a7a890692f50eb85a629354b8a1d290032,ike Rapoport <mike.rapoport@gmail.com>, 2016-11-03 02:01:00 +0300,238, lazy page treat vmas map_locked lazy vma mapped map_locked address space populated page cause uffdio_copy return exists find better solution let avoid marking vmas map_locked lazy fix 238 travis success lazy page misc fix rev3 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2068,a29f84a4ab4da69627dfdcf5a606e054632f346f,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-10-16 11:08:00 +0300, , jenkins fix criu lazy pages.sh permission signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2069,7d88ee579967fd5ac1edd1df5d1e4a149ef9ad58,drian Reber <areber@redhat.com>, 2016-10-10 18:26:00 +0300, , added option display dump restore lazy zero page stats criu dump display stats tmp pid displaying dump stats ... zero memory page 0x0 lazy memory page 0x0 travis success added option display dump restore stats rev2 signed adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
2070,e3fb9bd9c40c6115cd62e529d2220040389ecb02,drian Reber <areber@redhat.com>, 2016-09-22 10:45:00 +0300, , lazy page add support combine pre copy post copy uffd daemon aware page parent restore continue work lazy restore except page parent checkpoint pre populated restorer restorer still register whole memory region handled userfaultfd even contains page parent checkpoint userfaultfd page fault happen page contain data mean parent pre populated page trigger userfaultfd message even marked handled userfaultfd uffd daemon know page available parent checkpoint push page unnecessarily userfaultfd following step migrate process possible source system criu pre dump tmp pid rsync tmp destination tmp criu dump tmp pid port lazy page prev image dir track mem destination system rsync source tmp tmp criu lazy page page server address source port tmp criu restore lazy page tmp restore page parent checkpoint marked lazy second checkpoint  changed parent detection use  unfortunately reverts  criu mem skip lazy page restore based pagemap info able split vma right chunk restorer necessary make decision lazy vmaentry level  everything changed thanks mike rapoport suggestion vma longer touched split instead 100 line change two line patch signed adrian reber areber redhat.com acked mike rapoprot rppt signed pavel emelyanov xemul virtuozzo.com,,
2071,c1f0b1f5a210ac71225b98d9f2c03aa2aec35043,drian Reber <areber@redhat.com>, 2016-09-22 10:45:00 +0300, , page pipe correctly split page pipe buffer combining pre copy pre dump post copy lazy page mode showed problem function function used split page pipe buffer contains iovs request restore side lazy restore unfortunately split leading iovs page pipe buffer trailing split requested address 0x7f27284d1000 page pipe ppb iov 0x7f0f74d93040 page pipe 0x7f27282bb000 page pipe 0x7f27284d1000 page pipe 0x7f27284dd000 split page pipe ppb iov 0x7f0f74d93050 page pipe 0x7f27284d1000 page pipe 0x7f27284dd000  page pipe ppb iov 0x7f0f74d93040 page pipe 0x7f27282bb000 patch keep splitting page pipe buffer contains requested address requested length split still trying load 0x7f27284d1000 page pipe ppb iov 0x7f0f74d93050 page pipe 0x7f27284d1000  page pipe ppb iov 0x7f0f74d93040 page pipe 0x7f27282bb000  page pipe ppb iov 0x7f0f74d93060 page pipe 0x7f27284dd000  moved declaration declaration block signed adrian reber areber redhat.com acked mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2072,976cb5f841030a55be6f43676e21194f469ff952,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-10-06 13:08:00 +0300, , criu mem count page actually written image pages_written currently potentially lazy page counted written even dump page img count page pages_written dump going skip writing lazy page disk travis success criu mem count page actually written image pages_written signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2073,2ce576e646b4965479b9b849c0aa9f57b079dbf1,drian Reber <areber@redhat.com>, 2016-09-22 10:38:00 +0300, , crit translate pagemap flag string translates pagemap flag string easier readability signed adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
2074,8505a8ccfd96e1f95fc300c46bd4c09c5af44361,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-19 14:17:28 +0300, , pageserver merge page_server_add flag enough tell hole pagemap signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt,,
2075,4ea4653ce10cbe7fcc0c0262f80e7c9a4305ad36,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-19 14:17:11 +0300, , xfer merge write_hole _pagemap callback pe_present bit help distinguish hole pagemaps page inside signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt,,
2076,6d2b35ceefd19dbe350580716afe8dbb22034d0b,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-19 14:16:51 +0300, , xfer change write_hole type flag write_hole write_pagemap look much alike let merge preparatory patch make holy type decision based pe_foo flag signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt,,
2077,d7105cce15efa094c378c55a1c2f5f966f217bfe,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-09-08 10:39:12 +0300, , criu mem skip lazy page restore based pagemap info instead checking whether vma containing page lazy page skip entire part pagemap pe_lazy flag set signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2078,96dd5298e51942215f84af9261d05b167ed8b1d8,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-09-08 10:39:11 +0300, , criu pagemap add pe_present flag pe_present flag always set pagemap entry corresponding page page img pagemap entry describing hole either zero page page parent snapshot pe_present flag set pagemap entry may lazily restored special case lazy restore disk case pe_lazy pe_present set pagemap remote lazy page case pe_lazy set signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2079,ea99b7007273ac962a9a9c35adf6e75abeee7caa,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-09-13 18:59:00 +0300, , criu page xfer add ability write pagemap flag zero lazy booleans replaced flag field pagemapentry required page xfer aware change signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2080,9bc9fcb0cebc6c9a6cb6fc4c2711be4a93035652,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-09-08 10:39:09 +0300, , criu pagemap replace zero lazy booleans flag three booleans pagemap entry clue usage good old flag replace zero lazy booleans flag use flag internal tracking in_parent value eventually in_parent may deprecated signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2081,b711f89cf4709c3212141849ba96a4dcd2ad622d,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-08-15 10:21:51 +0300, , test allow lazy page test namespaces signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2082,c95226054e7e9b52fda4575cb1024d602371ef00,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-08-15 10:21:50 +0300, , criu lazy page refactor unix socket initialization create socket early available restoring namespaces signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2083,4bb1272ba52681ad83632422a1daac4c4d0ef75e,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-08-07 17:22:53 +0300, , test add script allow mr. jenkins check lazy page minimalistic moment remote page namesapces still better nothing signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2084,f59b45fba2ce1315cb52a572171795634ffebf0f,ndrew Vagin <avagin@virtuozzo.com>, 2016-08-07 17:22:52 +0300, , zdtm check lazy page adrian reber areber redhat.com signed andrew vagin avagin virtuozzo.com signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2085,b929e86c835ddd06ba0f09311f4b440ff60a322e,ugene Batalov <eabatalov89@gmail.com>, 2016-08-07 16:11:12 +0300, , mem make page_is_zero externally linked use anon shmem dedup need access shmem.c signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
2086,a405d25b6056b92a4fde525ce4cb752f0e0140d9,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-08-07 17:22:51 +0300, , criu lazy page fix socket creation relative image dir unix socket like relative path assuming lazy page daemon restore use opts.work_dir working directory full path signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2087,0f60684b8fc5bef4a9717cfb6d1beff9a6a884c0,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-07-21 14:37:00 +0300,187, make lpi_fini handle null allow failed lpi_init ud_open http github.com xemul criu issue 187 signed pavel tikhomirov ptikhomirov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2088,5ad71a890165eb3fa9f4fc1973f0ff0bdb0d4ef5,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-07-14 15:49:36 +0300, , criu lazy page enable remoting lazy page remote lazy page variant run follows src criu dump pid lazy page port 9876 tmp src sudo fuser 9876 tcp sleep done src scp tmp dst tmp dst criu lazy page page server address dst port 9876 tmp dst criu restore lazy page tmp nutshell implementation remote lazy page doe following dump collect process memory pipe transfer non lazy page image page server restore side lazy page kept pipe later transfer dump creates page_pipe_bufs mark buffer containing potentially lazy page ppb_lazy dump_finish stage dump side start tcp server handle page request restore side checkpoint directory transferred restore side restore side lazy page daemon started creates unix socket receive uffd restore tcp socket forward page request dump side restore creates memory mapping fill vmas handled uffd content page img restore register lazy vmas uffd sends userfault file descriptor lazy page daemon occurs lazy page daemon sends ps_iov_get command dump side command contains pid faulting address amount page always moment dump side extract requested page pipe splice tcp socket lazy page daemon copy received page restored process address space signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2089,9982fc9e686b4667e05c5f24908e6792a8e3cf2d,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-07-14 15:49:35 +0300, , criu page xfer add ps_iov_get interface signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2090,a9a973da77dab9ad6f3741fd8a2cfd7ea614186e,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-07-14 15:49:34 +0300, , criu add ability skip writing lazy page appropriate lazy page written destination instead pagemap entry range page marked lazy flag signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2091,a1ed9e0992835037994aa43b246adff86ca76b63,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-07-14 15:49:33 +0300, , criu pagemap add entry zero page page mapped zero_page_pfn dumped information located required lazy restore note get_pagemap user presumed zero page part pagemap page silently skipped memory restore moment preserve semantics force get_pagemap skip zero page signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2092,b2dafe74d0a85b44d72348285d106f110bad5e92,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-06-27 07:53:22 +0300, , criu lazy page use new pagemap feature pagemap friendly random access enable use new apis signed mike rapoport rppt acked adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
2093,c12477da94fa88e9ce0bc2698fb4ca1dec9b404a,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-06-19 16:35:26 +0300, , criu lazy page create unix socket lazy page daemon work_dir signed mike rapoport rppt acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
2094,a2c1affc1826f71962aa6c492ee89e0a0745bcf9,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-06-16 12:02:00 +0300, , criu lazy page modify variable used loop signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2095,6f7f11e3b3d9c7888bf66f83760eaffb4b214e67,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-06-16 08:06:00 +0300,2, criu lazy page take care possible null pointer dereference fix cid 163485 dereference null return value null_returns dereference dereferencing pointer might null dest calling signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2096,b6cad30524c2641ade33acce7ead7a05fb1d8a9c,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-06-06 09:27:37 +0300, , criu page pipe introduce signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2097,dce7ce1e03b3df8b14f42a5fa39b644581b485b4,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-06-06 09:27:36 +0300, , criu page pipe introduce page_pipe_split allow split ppb data residing specified address immediately available signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2098,e3fec3af05f2c6e8a6a5d244d9e746c67b99fd5e,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-06-06 09:27:35 +0300, , criu page_pipe_buf add ppb_lazy flag buffer contain potentially lazy page signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2099,3df6627ef8906cf2f92e3f64ee21ab89eb11016d,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-24 14:37:18 +0300, , restore move uffd setup signed pavel emelyanov xemul virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org,,
2100,a263aec6434809b3b612484cdf7eb8db0ea803dc,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-14 00:43:00 +0300, , uffd handle error userfaultfd cid 161312 error handling issue task_args uffd passed parameter negative signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2101,d1f657ef83dc9382b0125d7c5eb1b338f05a90b2,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-14 00:42:00 +0300, , uffd close descriptor twice cid 161322 api usage error use_after_free calling close int close handle client already closed signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2102,c443faca3fa8c06b94b3b67be5b6a12d71ef0b3e,drian Reber <areber@redhat.com>, 2016-05-04 11:22:00 +0300, , criu uffd runtime detection userfaultfd lazy page support enable time add runtime detection userfaultfd system without userfaultfd syscall following printed uffd daemon 00.000004 error uffd.c 176 lazy page runtime detection userfaultfd failed system 00.000024 error uffd.c 177 lazy page process lazy restored system criu restore 00.457047 6858 error uffd.c 176 lazy page runtime detection userfaultfd failed system 00.457049 6858 error uffd.c 177 lazy page process lazy restored system signed adrian reber areber redhat.com acked mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2103,f68e5a6b3dd669cafab3cd3e5c556363d6ac357b,ndrew Vagin <avagin@virtuozzo.com>, 2016-04-27 22:45:00 +0300, , criu always enable userfaultfd support add linux userfaultfd.h criu source header part kernel api see nothing wrong repo want check criu work correctly kernel support userfaultfd check compilation userfaultfd part travis remove uffd features_list acked mike rapoport rppt acked adrian reber areber redhat.com mike rapoport rppt adrian reber areber redhat.com signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2104,cefb69c9f24376cf3a455b86061af8d46d63e0cd,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-04-18 16:34:38 +0300, , lazy page allow handling multiple process signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2105,7f0b075415f8851dc8ac92a3d6124484ef6e08f2,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-04-18 16:34:37 +0300, , lazy page move lazy_pages_info initialization ud_open signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2106,a20e5305035b4d6d0f52e9de8ab96b667cd04eb5,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-04-18 16:34:36 +0300, , lazy page use epoll instead select signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2107,b9596b5635466269b99a7f3766a070cb87e30a90,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-04-18 16:34:35 +0300, , lazy page introduce struct lazy_pages_info holding state related userfaultfd handling signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2108,6490d5d347c27e06ca30f1531abd8052c231db6d,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-04-18 16:34:34 +0300, , lazy page introduce verifies amount collected transferred page consitent print summary signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2109,0b9014511e06fbfce975a2fbdfac25a0df2802a7,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-04-18 16:34:33 +0300, , lazy page introduce handle page fault notification userfaultfd signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2110,10ef42762337bb15f46d9ab44d6fd903f1ea8ef1,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-04-18 16:34:32 +0300, , uffd related makefiles cleanup signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2111,7c78a48b068296ea3dc670798beb1a4fb35856fc,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-04-11 09:19:47 +0300, , lazy page initialize process tree early signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2112,1c54c0034ec9da40f7a26d1c6ea5ae7d00a61bb8,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-04-11 09:19:46 +0300, , lazy page refactor unix socket initializaton listenning file descriptor might used select poll signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2113,d08ea98bd7bcf494ed442a7b4ce4707a7e88281f,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-04-11 09:19:45 +0300, , lazy page always compile uffd.c config_has_uffd defined attempt run lazy page daemon result error message signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2114,34693cb44443b0460c5c9bab5d2c2ed5046658da,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-04-11 09:19:44 +0300, , rename uffd_listen cr_lazy_pages signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
2115,8337e99857130fbee325f12a837382935af0331d,ike Rapoport <mike.rapoport@gmail.com>, 2016-04-12 20:52:00 +0300, , ppc64le fix build uffd __u64 unsigned long power unsigned long long x86_64 using pri doe help instance priu64 according solution define power build http 1425475 focus 1427433 signed mike rapoport rppt acked adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
2116,6273fc971aec6fbe5f191b7253cec8c00df74913,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-03-31 14:39:21 +0300, , uffd add handling zero page get_page return mean page mapped vma found pagemap happens page zero page threofre skipped dump use uffdio_zeromap create zero page restored process address space signed mike rapoport rppt acked adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
2117,58edba63f9ea8555300f9be623e8da4f125386f0,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-03-31 14:39:20 +0300, , uffd introduce able handle uffdio_copy uffdio_zeropage signed mike rapoport rppt acked adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
2118,e3f05ea0ca1b9ac240c86df3b429a249afc6bb47,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-03-31 14:39:19 +0300, , uffd increment one place incremented uffd_copy_page function rather caller signed mike rapoport rppt acked adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
2119,a7004002b5800eac0f01d8c7f3e3a407404bf055,drian Reber <areber@redhat.com>, 2016-03-24 15:52:53 +0000, , uffd.c move code main function uffd logic function uffd_listen directly called crtools.c preparation remote lazy restore code moved separate function better integration network functionality signed adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
2120,b3ae1cc20bc3a5df9f5e79bfa06a9987541d8248,drian Reber <areber@redhat.com>, 2016-03-24 15:52:52 +0000, , uffd.c make variable static global better track many page handled uffd variable made static global easier access reduce number parameter passed around signed adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
2121,048b31b24ca22a19c414ed7f0d3208f31a36df0d,drian Reber <areber@redhat.com>, 2016-03-24 15:52:51 +0000, , uffd.c move code subfunctions uffd_listen rather large function start move code subfunctions signed adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
2122,c3abfff0adfe38b2147114a7ee14d8c335268181,drian Reber <areber@redhat.com>, 2016-03-24 15:52:50 +0000, , uffd.c remove unused variable vma_size variable vma_size used early debugging lazy restore significance signed adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
2123,fcaf36f52c9dbd5e76581a348589fd0f474b06d7,ike Rapoport <rapoport@il.ibm.com>, 2016-03-23 15:48:43 +0200, , uffd remove handling vdso page since vdso page lazy need take care lazy page daemon signed mike rapoport rapoport il.ibm.com signed pavel emelyanov xemul virtuozzo.com,,
2124,9c7970c2ae3b2d53bb80cd2816dcc1a4db602dc2,ike Rapoport <rapoport@il.ibm.com>, 2016-03-23 15:48:42 +0200, , uffd treat vdso page lazy vdso page loaded directly rather userfaultfd save complexity lazy page daemon side signed mike rapoport rapoport il.ibm.com signed pavel emelyanov xemul virtuozzo.com,,
2125,33696ceba94cceb16ca123312b18cb3ad3a95af3,drian Reber <areber@redhat.com>, 2016-03-18 14:27:00 +0300, , uffd.c call unneeded function lazy restore via userfaultfd lazy page daemon need know page exist know page finally migrated restored process memory therefore need know page exist need parse file dump result directory existing criu function designed used normal restore thus lot assumption made set lazy page restore complete restore initialization necessary therefore criu common code dependency minimized commit signed adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
2126,b8f46c368be115176d29145032759813de5dcaee,drian Reber <areber@redhat.com>, 2016-03-17 17:13:00 +0300, , fix userfaultfd code newer compiler signed adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
2127,57891afcb2b09414064a18612eef8b975c339c4c,drian Reber <areber@redhat.com>, 2016-03-15 13:21:13 +0000, , try include userfaultfd criu part first try include userfaultfd criu right still requires normal checkpoint checkpointing application restored help userfaultfd restored page map_anonymous map_private set marked handled userfaultfd soon process restored block first memory access wait page transferred userfaultfd handle required page new criu command added userfaultfd supported restore first step start lazy page server criu lazy page tmp address tmp wait unix domain socket defined using address option receive userfaultfd file descriptor lazy page enabled criu restore criu restore tmp lazy page address tmp first step vdso page pushed lazy page server restored process lazy page server wait uffd uffd requested page request received period second lazy page server switch mode remaining non transferred page copied destination process remaining page copied lazy page server exit first page usually requested vdso page process currently used restoring two vdso page one requested via userfaultfd second part remaining page copied process second vdso page also copied process requested previously unfortunately even page requested accepted userfaultfd einval returned reason einval understood therefore vdso page copied first process switching request mode copying page requested via userfaultfd decide point vdso page copied process lazy page server currently waiting first page requested via userfaultfd one vdso page copy page second time unnecessary possible check see page transferred previously use case use usefaultfd checkpointed process remote machine probably benefit current work related image cache image proxy final implementation would nice restore running uffd mode one system request memory page network another system running criu checkpoint also uffd mode way page need copied checkpoint process uffd restore process todo contains still many debug output need cleaned maybe transfer dump directory also via unix domain socket uffd lazy page server keep running without need specify dump directory keep lazy page server running page transferred start waiting new connection serve resurrect non cooperative patch set restored task fork call mremap whole thing becomes broken figure current vdso handling correct figure zero page need inserted via uffd  provide option lazy page enable uffd style restore use send_fd recv_fd provided criu instead implementation install uffd service_fd use named constant map_anonymous restore memory page later mark uffd handled remove function find_pages search page .img using criu function find necessary page new page search page .img file opened check uffdio_api trying protect uffd code config_uffd use make uffd compile criu patch  renamed server mode uffd lazy page switched client server role transferring uffd criu part running lazy page server mode waiting connection criu restore process connects lazy page server pas uffd uffd copying anything else vdso page copied fails copy unused vdso page process running necessary able copy page uffd message second lazy page server switch copy mode copy remaining page requested yet restored process check uffdio_api correct place close uffd restorer remove open uffd restored process  removed unnecessary madvise call seemed necessary first running test uffd actually necessary auto detect build system provides linux userfaultfd.h header simplify unix domain socket setup communication use address specify location used unix domain socket  split userfaultfd patch multiple smaller patch introduced vma_can_be_lazy function check page handled uffd moved uffd related code restore.c uffd.c handle failure register memory page restored process userfaultfd  get pid restored process criu restore process first pid transferred uffd signed adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
2128,e2268aa39ce8b0d558ac5d3855ea5b8eb352a583,drian Reber <areber@redhat.com>, 2016-03-15 13:21:12 +0000, , try include userfaultfd criu part first try include userfaultfd criu right still requires normal checkpoint checkpointing application restored help userfaultfd restored page map_anonymous map_private set marked handled userfaultfd soon process restored block first memory access wait page transferred userfaultfd handle required page new criu command added userfaultfd supported restore first step start lazy page server criu lazy page tmp address tmp part userfaultfd integration provides lazy page server implementation  provide option lazy page enable uffd style restore use send_fd recv_fd provided criu instead implementation install uffd service_fd use named constant map_anonymous restore memory page later mark uffd handled remove function find_pages search page .img using criu function find necessary page new page search page .img file opened check uffdio_api trying protect uffd code config_uffd use make uffd compile criu patch  renamed server mode uffd lazy page switched client server role transferring uffd criu part running lazy page server mode waiting connection criu restore process connects lazy page server pas uffd uffd copying anything else vdso page copied fails copy unused vdso page process running necessary able copy page uffd message second lazy page server switch copy mode copy remaining page requested yet restored process check uffdio_api correct place close uffd restorer remove open uffd restored process  removed unnecessary madvise call seemed necessary first running test uffd actually necessary auto detect build system provides linux userfaultfd.h header simplify unix domain socket setup communication use address specify location used unix domain socket  split userfaultfd patch multiple smaller patch introduced vma_can_be_lazy function check page handled uffd moved uffd related code restore.c uffd.c handle failure register memory page restored process userfaultfd  get pid restored process criu restore process first pid transferred uffd code ordered better prepared lazy restore remote host compile test uffd availability signed adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
2129,27e601790ec9b8da570946315e5d18e88cbf8ce1,drian Reber <areber@redhat.com>, 2016-03-15 13:21:11 +0000, , remove static function upcoming userfaultfd integration lazy page mode need setup criu infrastructure read page file signed adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
2130,98ac646f868d97b621c81939a8139e7a63d37393,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-08-24 11:13:05 +0300, , ppc64le travis fixup ubuntu repository ppc64le docker image broken etc apt sources.list small fixup allows running ppc64le test signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
2131,835e252b096da5d2fb551805041e5d6d74deedef,ndrei Vagin <avagin@virtuozzo.com>, 2017-08-12 08:58:19 +0300, , test ptrace_sig wait child calling test_daemon static test nothing test_daemon signed andrei vagin avagin virtuozzo.com,,
2132,a31c1854e10580a09621e539c3ec052b875a8e06,avel Emelyanov <xemul@virtuozzo.com>, 2017-08-21 16:27:57 +0300, , criu version 3.4 biggest new thing time s390x arch support also several improvement set bugfixes usual signed pavel emelyanov xemul virtuozzo.com,,
2133,84492ae27c575bb7a314c45ec7daf249f40bbcea,avel Emelyanov <xemul@sacred.ru>, 2017-08-17 17:13:17 +0300, , added badge title page travis statue master criu dev codacy grade,,
2134,204c1ef9e03bbfa210c63dfa00b2272cb6918451,mitry Safonov <dsafonov@virtuozzo.com>, 2017-07-20 18:21:21 +0300, , restore fix deadlock helper child since commit ced9c529f687 restore fix race helper kid dying early block sigchld helper task way avoided default criu sighandler expect child may die racy wait futex another stage started next stage may start task complete previous stage child helper helper may already blocked sigchld started sleeping futex next stage never come one read pending sigchld helper customer met situation node following non related problem occured unable send fin packet byte written network unreachable child criu helper exited error code lockup happened could fix aborting futex end non root also task would completely correct futex waiting task wake may expect task previous stage spam log unrelated error may also die painfully child may die miss aborting futex due segfault oom killer user sended sigkill error path forgot cover abort futex fix deadlock task_helper suggested kirill let check child death expected block sigchld otherwise wait check death expected stage restore reviewed kirill tkhai ktkhai virtuozzo.com signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com conflict criu restore.c,,
2135,8a270e58074b406a192210cc792bf456629e57c9,avel Emelyanov <xemul@virtuozzo.com>, 2017-08-16 13:18:39 +0300, , util add block_sigmask unblock_sigmask helper extract kirill tkhai patch 87464739 restore block sigchld root_item initialization signed pavel emelyanov xemul virtuozzo.com,,
2136,96602ba854ad3a72a45e2bc2f2d6dd7ff6bfcd12,mitry Safonov <dsafonov@virtuozzo.com>, 2017-06-05 22:23:58 +0300, , restorer report child death reason correctly e.g child killed sigsegv message previously exited status si_code cld_dumped case result si_code cld_killed si_code misleading may try look exit call arg correct compare si_code cld_ signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2137,59c9583992da89a8aa382b93d5a9f6c7fd3ca364,yrill Gorcunov <gorcunov@gmail.com>, 2017-03-17 18:41:01 +0300, , image netdev adjust venet comment venet virtuozzo specific rather came openvz make signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2138,625552f0e99bcb57774a14c0fbe70ca2f9a10822,ndrei Vagin <avagin@virtuozzo.com>, 2017-07-20 05:31:43 +0300, , page xfer handle case splice return zero return value mean end input need stop reading descriptor signed andrei vagin avagin virtuozzo.com,,
2139,89d10280e5fa64660b410ccc0428e25dd6d62847,ndrei Vagin <avagin@virtuozzo.com>, 2017-06-20 23:49:03 +0300, , restore handle error error case task_entries nr_in_progress set handle case signed andrei vagin avagin virtuozzo.com,,
2140,181c44aa3f8b6f615f80b11d62bf502b45faca5e,avel Emelyanov <xemul@virtuozzo.com>, 2017-08-15 15:46:04 +0300, , compel s390 fix setting regs task item thread struct pid pointer master signed pavel emelyanov xemul virtuozzo.com,,
2141,e2e1dbf4907dd21deaf832331ca7814b567d1827,ndrei Vagin <avagin@virtuozzo.com>, 2017-08-10 02:21:00 +0300,371, util report command name error message cr_system good know command executed http github.com xemul criu issue 371 signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2142,943df7d6121f17f3a723956bcd4756f6282a1bc8,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-14 18:31:22 +0300, , page server tune encode decode helper signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2143,ac05c73a7b45f5923cc41708fb92bb940a2f6f9b,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-14 18:30:57 +0300, , page server fix incompatibility page server protocol turned surprise surprise page server exchange cr_fd_pagemap value ps_iov_msg problem constant sit enum change value version version fixed version protocol including backward compat check value could met older crius lucky intersect signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2144,ae7a9a0758030731b15e563fef4ee2c40857da0d,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-07-26 18:06:26 +0300, , test zdtm set maps04 timeout second signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
2145,b34efd5591279f41816277b40348be29696befe8,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-07-26 18:06:25 +0300, , test zdtm.py allow setting test timeout test description signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
2146,9152dd219813438addd34d4924f8f62af6499800,italy Ostrosablin <vostrosablin@virtuozzo.com>, 2017-07-20 18:04:01 +0300, , test fix child pid printed two issue code child task killed parent faster could print line even time print would always called child process obviously print meant parent process let move  signed vitaly ostrosablin vostrosablin virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2147,833fa4d7db6aed254053f2e675a69d7b17d0b2b9,rancesco Giancane <francescogiancane8@gmail.com>, 2017-06-27 23:05:57 +0200, , make makefile variable externally configurable manual page install.md stated variable overridden mean environmental variable export bindir somedir export sbindir somedir export libdir somedir export mandir somedir export includedir somedir export libexecdir somedir make install setting honored sticking default makefile value patch fix issue signed francesco giancane gmail.com reviewed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2148,5f09c258d1d7b9dbe4ab68e3e517105d7896bb5b,rancesco Giancane <francescogiancane8@gmail.com>, 2017-06-27 21:28:09 +0200, , make makefile variable prefix configurable tried build install criu package source went well unless install part particular prefix destdir build_criu prefix prefix destdir destdir make install resulted installing criu package build_criu usr local ignoring prefix even variable configurable manual reviewed dmitry safonov dsafonov virtuozzo.com signed francesco giancane gmail.com signed andrei vagin avagin virtuozzo.com,,
2149,5d6392358d29d130615c5c86662dd8bd6b3803b5,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-07-05 20:23:48 +0300, , test zdtm.py ignore unix socket report creation file added report shutil.copytree unhappy lazy pages.socket tell shutil.copytree ignore .socket signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
2150,1db93b6ea9e1a045482141173c98519c1761344c,irill Tkhai <ktkhai@virtuozzo.com>, 2017-07-12 20:30:26 +0300, , file add comment fle_ stage signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2151,a6543ce2bbca02720feba8c9a3ce8254d116b8e6,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-06-28 09:43:23 +0300, , mem kill trailing whitespace acked pavel emelyanov xemul virtuozzo.com signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
2152,d1bc0b85f04ef608ce6762520be32a8a8b24fd71,ndrei Vagin <avagin@virtuozzo.com>, 2017-06-27 06:50:43 +0300, , kerndat include config.h using config_ contants otherwise someone include kerndat.h config.h get another kerndat structure example proc_parse include config.h cyrill met problem dmitry safonov dsafonov virtuozzo.com cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com reviewed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2153,a7b381d1fc4c85260333cd38aaa5211609af30a2,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-16 18:19:04 +0300, , net relax xmalloc ing fix null deref potential null derefernece dump_netns_con two xmalloc result checked however since huge set xmallocs propose relax whole thing one big xmalloc xptr_pull helper signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2154,3842c6341da9b12103681a19835bf3c28c3eba1c,irill Tkhai <ktkhai@virtuozzo.com>, 2017-06-05 20:24:09 +0300, , shmem remove pid argument unused rewritten confuses reader kill signed kirill tkhai ktkhai virtuozzo.com,,
2155,1ea1fdde45653833ddf35faedd583bac12156206,lice Frosi <alice@linux.vnet.ibm.com>, 2017-08-10 18:04:52 +0200, , compel save thread register executing parasite code dumping thread execute parasite code collect floating point register get_task_regs following describes code path done  item nr_threads    prepare_thread get general purpose register ptrace_get_regs ctx regs parasite code executed thread tctl  get register get_task_regs since s390 gcc floating point register cache general purpose without msoft float option floating point register would clobbered patch first save thread register task_get_regs call parasite code introduce new function restores saved register thread necessary criu dump leave running check error handling pre dump doe require save register thread main thread task used parsite code execution change allow use register set parasite code therefore remove msoft float s390 reviewed michael holzheu holzheu signed alice frosi alice reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
2156,43ad17578075b6f1cec0431ba8542f6238f6226b,ichael Holzheu <holzheu@linux.vnet.ibm.com>, 2017-08-10 18:04:51 +0200, , s390 zdtm add s390x_reg_check test case test used verify register s390 verify criu restore set correct register set criu dump zdtmp.py run zdtm static verify dumpee continues running correct register parasite injection zdtm.py run norst zdtm static zdtm.py run norst pre zdtm static zdtm.py run check zdtm static reviewed alice frosi alice signed michael holzheu holzheu reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
2157,7083f15351215eda1484f2509d1da36cb174bd86,ichael Holzheu <holzheu@linux.vnet.ibm.com>, 2017-08-10 18:04:50 +0200, , zdtm move include makefile.inc right place include makefile.inc earlier order use srcarch signed michael holzheu holzheu reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
2158,f07adae6905d10533928209637f003d025bf8140,drian Reber <areber@redhat.com>, 2017-07-20 12:08:36 -0400, , compel s390 glibc renamed ucontext ucontext_t upcoming glibc release renamed struct ucontext struct ucontext_t http sourceware.org git gitweb.cgi glibc.git commitdiff instead using struct ucontext patch change typedef ucontext_t already exists older new version glibc signed adrian reber areber redhat.com reviewed dmitry safonov dsafonov virtuozzo.com reviewed michael holzheu holzheu signed andrei vagin avagin virtuozzo.com,,
2159,f2899a728cf2baf79655b5b2559f826af7c8452d,drian Reber <areber@redhat.com>, 2017-07-20 12:08:34 -0400, , compel aarch64 glibc renamed ucontext ucontext_t upcoming glibc release renamed struct ucontext struct ucontext_t http sourceware.org git gitweb.cgi glibc.git commitdiff instead using struct ucontext patch change typedef ucontext_t already exists older new version glibc signed adrian reber areber redhat.com reviewed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2160,36576e20960406e678caa3c460dc41192f480083,drian Reber <areber@redhat.com>, 2017-07-20 12:08:35 -0400, , compel ppc64 glibc renamed ucontext ucontext_t upcoming glibc release renamed struct ucontext struct ucontext_t http sourceware.org git gitweb.cgi glibc.git commitdiff instead using struct ucontext patch change typedef ucontext_t already exists older new version glibc signed adrian reber areber redhat.com reviewed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2161,3ef506befcdf12eb9b7b5a55383d18086baafb1b,drian Reber <areber@redhat.com>, 2017-07-20 12:06:04 -0400, , compel adapt .gitgnore aarch64 ppc64le signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
2162,7e5b5f3128f75fb61fb0c3f4d8ca56a033beb4e9,ianfranco Costamagna <costamagnagianfranco@yahoo.it>, 2017-07-05 12:50:07 +0200, , fix ppc64el build failure redefining fix ppc64el build failure criu arch ppc64 sigframe.o file included criu arch ppc64 sigframe.c criu arch ppc64 include asm types.h error redefined werror define signed andrei vagin avagin virtuozzo.com,,
2163,a5e2605e7a6d74dc957a2299d7ecdf2ab022b004,ichael Holzheu <holzheu@linux.vnet.ibm.com>, 2017-08-07 14:56:52 +0200, , s390 fix one error task size detection entry proc pid map look like following 3fffffdf000 40000000000 00000000 upper address first address included address range function max_mapped_addr return last valid address process currently return first invalid address lead following error message kernel kernel commit ee71d16d22bb error criu proc_parse.c 694 dump high memory region 1ffffffffff000 20000000000000 task kernel commit ee71d16d22bb missing fix make max_mapped_addr last valid address first invalid address reported adrian reber areber redhat.com signed michael holzheu holzheu signed andrei vagin avagin virtuozzo.com,,
2164,61e6c01d0964d45c1e49aafb7ba369e7cd2f9180,ichael Holzheu <holzheu@linux.vnet.ibm.com>, 2017-07-21 19:26:09 +0200, , s390 move msoft float fno optimize sibling call compel makefiles currently define cflags msoft float fno optimize sibling call makefile.compel makefile.compel included toplevel makefile change cflags exported criu zdtm makefiles must use msoft float outside compel file e.g otherwise zdtm get following build error uptime_grow.o function main tmp criu test zdtm static uptime_grow.c undefined reference __floatdidf tmp criu test zdtm static uptime_grow.c undefined reference __muldf3 tmp criu test zdtm static uptime_grow.c undefined reference __floatdidf tmp criu test zdtm static uptime_grow.c undefined reference __adddf3 fix move cflags definition compel makefiles defining new flag cflags_pie used pie code reported adrian reber areber redhat.com suggested dmitry safonov dsafonov virtuozzo.com signed michael holzheu holzheu reviewed dmitry safonov dsafonov virtuozzo.com tested adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
2165,602a948ddda17a3c8e146352a8c34c41a0ca8c40,ichael Holzheu <holzheu@linux.vnet.ibm.com>, 2017-07-14 15:41:14 +0200, , s390 enable travis use debian.jessie instead ubuntu.xenial qemu s390x static run z900 instruction ubuntu built recent architecture level set first enable gcc still issue clang signed michael holzheu holzheu signed andrei vagin avagin virtuozzo.com,,
2166,9c94ed9669b334cc61d0462d2267d58d6de67424,ichael Holzheu <holzheu@linux.vnet.ibm.com>, 2017-07-14 15:41:13 +0200, , s390 zdtm also support z900 debian debian compiled z900 therefore use laa instruction fix replace laa older compare swap loop signed michael holzheu holzheu signed andrei vagin avagin virtuozzo.com,,
2167,a04dc883cb22376f3c87c18a9e5073cec3442080,ichael Holzheu <holzheu@linux.vnet.ibm.com>, 2017-07-14 15:41:12 +0200, , s390 replace flogr instruction __builtin_clzl flogr instruction supported debian jessie z900 replace gcc built signed michael holzheu holzheu signed andrei vagin avagin virtuozzo.com,,
2168,254094d66fea22ec36733e8a7d7b4c7d97bfded7,ichael Holzheu <holzheu@linux.vnet.ibm.com>, 2017-07-14 11:23:26 +0200, , s390 prevent got relocation use fno optimize sibling call gcc option prevent got relocation caused gcc version without commit 390 fix bit sibcall http gcc.gnu.org viewcvs gcc view revision revision 233169 otherwise get compile error like gen criu pie parasite blob.h error compel src lib handle elf host.c 572 unsupported relocation type caused following relocation type r_390_gotent e.g rhel7 based system r_390_gotpcdbl e.g debian jessie r_390_got12 e.g debian jessie signed michael holzheu holzheu signed andrei vagin avagin virtuozzo.com,,
2169,6603b419c76730458d8994cad35f4fc374f63d50,ichael Holzheu <holzheu@linux.vnet.ibm.com>, 2017-06-30 20:31:46 +0200, , s390 criu add task_size check dump restore kernel commit ee71d16d22 s390 make task_size independent number page table level criu set task_size s390 see dumping task system would silently loose memory 4tb add check refuse dump task case restoring task system remap call moving vmas end restor process would fail unclear error message printed add check write speaking error message case reviewed alice frosi alice signed michael holzheu holzheu signed andrei vagin avagin virtuozzo.com,,
2170,c2f30337a57e5c71cf3864441059d29b821f2398,ichael Holzheu <holzheu@linux.vnet.ibm.com>, 2017-06-30 20:31:45 +0200, , s390 criu add support s390 console s390 special console driver minor add support criu code zdtm testsuite reviewed alice frosi alice signed michael holzheu holzheu signed andrei vagin avagin virtuozzo.com,,
2171,27db1d9a0452201ac17cd427b95a107e381aa7af,ichael Holzheu <holzheu@linux.vnet.ibm.com>, 2017-06-30 20:31:44 +0200, , s390 zdtm add test task 4tb kernel contains patch ee71d16d22 s390 make task_size independent number page table level able checkpoint task 4tb add testcase verify signed michael holzheu holzheu signed andrei vagin avagin virtuozzo.com,,
2172,2ced0450b2a3bf064a69708e969353061fcba3a6,ichael Holzheu <holzheu@linux.vnet.ibm.com>, 2017-06-30 20:31:43 +0200, , s390 enable s390 build makefile reviewed alice frosi alice signed michael holzheu holzheu reviewed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2173,01ee29702efadcddc52c31508a3ad65014c5fb61,ichael Holzheu <holzheu@linux.vnet.ibm.com>, 2017-06-30 20:31:41 +0200, , s390 zdtm enable zdtm s390 reviewed alice frosi alice signed michael holzheu holzheu reviewed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2174,500977101e5a3e065b7b69f3cc82907d410fc022,ichael Holzheu <holzheu@linux.vnet.ibm.com>, 2017-06-30 20:31:40 +0200, , s390 criu enable s390 criu add s390 part common code file patch history   add fix big endian byte order check reviewed alice frosi alice signed michael holzheu holzheu reviewed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2175,dc927a20c54a9048cdcbd297e94300c9d49f38a4,ichael Holzheu <holzheu@linux.vnet.ibm.com>, 2017-06-30 20:31:39 +0200, , s390 criu arch s390 add s390 part criu reviewed alice frosi alice signed michael holzheu holzheu reviewed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2176,343b5f53ef071a225aab8fa5e8c7d305b5dacd62,ichael Holzheu <holzheu@linux.vnet.ibm.com>, 2017-06-30 20:31:38 +0200, , s390 proto add s390 protocol buffer file reviewed alice frosi alice signed michael holzheu holzheu reviewed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2177,8b23923640caa575874dfff8a5d05ca60617b42f,ichael Holzheu <holzheu@linux.vnet.ibm.com>, 2017-06-30 20:31:37 +0200, , s390 compel enable s390 compel add s390 part common code file patch history   add s390 consolidate msoft float makefile.compel reviewed alice frosi alice signed michael holzheu holzheu reviewed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2178,7ce8f56be27ca372f3ed028ab0cb655dcf0abd62,ichael Holzheu <holzheu@linux.vnet.ibm.com>, 2017-06-30 20:31:36 +0200, , s390 compel arch s390 add architecture support compel tool library patch add support doe enable building reviewed alice frosi alice signed michael holzheu holzheu reviewed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2179,49d8cd09779b9eb7416b45233a5d3f95a82e0fb6,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-19 14:20:48 +0300, , tty move tty file image completes merging file image one signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2180,a35d37856281bd619cacf31861e3350b28d993ec,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-19 14:20:32 +0300, , tty set active pair bit signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2181,ce3e40eef455b1e77ecc5e9eb210d5e3e0784d0d,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-19 14:20:17 +0300, , tty verify info collect info driver place late enough verify info attach file signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2182,c93edee2cb69bcd750560f2c8640d30632be8af6,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-19 14:20:03 +0300, , tty get driver info since need tty driver info may lookup guy collecting info attaching file signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2183,081a3126042de30ec3ebf14d0dc237221b0a163a,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-19 14:19:48 +0300, , tty change order collection two object tty file file tty_info latter effectively inode image right collect info file latter find former attach order move tty file generic file entry need collect file early much earlier info patch change order tty file info collection general idea collecting file put list info arrives walk list attache ttys self next patch also add optimization available scheme signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2184,bb825d89c82db2c6bd4c54af627ed65322f6beda,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-30 14:02:54 +0300, , file move pipe file image reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2185,8c70b99dc6f449d278c0670e9c67cea7b4627498,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-30 14:02:38 +0300, , file move fifo file image reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2186,fd39196d98c765d8cd749b72cddbd05de7a7d8d8,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-30 14:02:20 +0300, , file move unix file image reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2187,257e2e602304f6e2f830f74a53796b83d5329dad,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-30 14:02:03 +0300, , file move ext file file image reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2188,033d9e208ac7f9298e9e9615255759b789830932,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-30 14:01:47 +0300, , file move fanotify file image reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2189,fdf4b22a3eca7cf3ccdf08305e31e5e81f4721af,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-30 14:01:30 +0300, , file move inotify file image reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2190,24771da93d1d5e4a8f308b009c98ba8115520a7a,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-30 14:01:14 +0300, , file move timerfd file image reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2191,5579d74c1531231b4581b3889dafc84e82b0579f,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-30 14:00:58 +0300, , file move tunfile file image reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2192,1b6144368ae58fe88bca1dd06f3897a3b47f4f4e,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-30 14:00:42 +0300, , file move signalfd file image reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2193,fe0b08ef4f217eb18dbb484f29bc195107a50cb3,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-30 14:00:26 +0300, , file move epoll file image reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2194,8208e5a5ab0834a5bc8db6ce8c2e009c44005a04,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-30 14:00:09 +0300, , file move eventfd file image reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2195,341961beb0290c1a8b5bb657473029224c463b0a,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-30 13:59:53 +0300, , file move netlink sock file image reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2196,52bf8c4a837bbea6d721cfd604db3c14bf450e00,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-30 13:59:37 +0300, , file move packet sock file image reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2197,1564dd4ec70bd0fb45e5e2b53d0323c0d2db23e6,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-30 13:58:13 +0300, , file move file file image reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2198,55519df9f17eaa9220104bd296f962669a47bf59,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-30 13:57:56 +0300, , file move inet socket file image reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2199,bee9eacad4c2556391c943e615d0b04024b0bf68,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-30 13:57:39 +0300, , file move reg file file image reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2200,fe6fa3bec3249393c9cd2ead0d095e2bb9d92dad,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-30 13:57:22 +0300, , image introduce files.img file_entry two goal merge first reduce amount image file generate scan restore latter importaint even weird stuff like signalfd still try open file merge try open image file nice 2nd goal simplify support scm message becomes possible fact file distinguished type turn make image layout scms much simpler reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2201,904e7b383b8c9a420f5068e74070ce72855c48f4,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-30 13:57:06 +0300, , file introduce prepare_files merge file image one big image place would read collect reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2202,b7b3b19f7e9601195237aab2cccf9e6a1a524b56,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-30 13:56:49 +0300, , add helper collect single entry reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2203,41df032e12e7f10390c991345ad44697a3d11bf5,avel Emelyanov <xemul@sacred.ru>, 2017-08-09 13:45:21 +0300,373, merge pull request 373 isilence master update readme.md,,
2204,447312cf582a4628962fade00af487d58e2b3fea,avel Begunkov <asml.silence@gmail.com>, 2017-08-08 23:39:57 +0300, , doc fix erratum readme.md signed pavel begunkov asml.silence gmail.com,,
2205,43d4a835110190070085968f61712576eeb34625,avel Emelyanov <xemul@sacred.ru>, 2017-08-08 15:59:00 +0300, , update readme.md try fix readme problem found feedmereadmes guy tuned tagline added info history competitor etc put link potential contributor,,
2206,43ed56e3127bed8ea715a1d185c105e6e9092f67,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-05 16:59:29 +0300,11, net support dumping dummy sit device device api endpoint skip also prepare ground sit dump issue signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2207,b0b9a9708610787fcc79b6835ebb03337ec92328,avel Emelyanov <xemul@virtuozzo.com>, 2017-07-18 21:55:27 +0300, , criu version 3.3 change time preparation future new feature optimization yet well tested polished however several new feature important one tcp close option help migration docker container constantly change address usually set bugfixes signed pavel emelyanov xemul virtuozzo.com,,
2208,245b4b3698a3f605f7ae313ff46e2b6ba6fc2c38,yrill Gorcunov <gorcunov@gmail.com>, 2017-07-13 00:44:44 +0300, , file access value stack outer contex struct fd_link link allocated inner context might freed dump call depending compiler instead use safer approach signed cyrill gorcunov gorcunov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2209,e3311ea37b7e851bb746ce7cf180e70c050ac98e,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-29 13:24:55 +0300,252, cgroup skip unified hier controller unified hierarchy controller name criu hang parsing sort string let skip implement cgroup2 support http github.com xemul criu issue 252 code comment reported tested adrian reber adrian lisas.de signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2210,3ef5a5e20ae420fb7409cb6d50e99d4b18a96c8b,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-29 20:34:00 +0300, , packet open image needed look like call open_image left time reworked packet sending collected early travis success packet open image needed signed pavel emelyanov xemul virtuozzo.com,,
2211,eda4bc554a38823d3b9901e6c9dedd92674377f4,ernhard M. Wiedemann <bwiedemann@suse.de>, 2017-06-30 12:59:00 +0300, , kdat allow override build time order allow reproducible build see http reproducible builds.org good http reproducible builds.org spec source date epoch definition variable signed bernhard wiedemann bwiedemann suse.de signed pavel emelyanov xemul virtuozzo.com,,
2212,3c62d950e2966b26ab9db3c74c8c0680679be632,eronika Kabatova <vkabatov@redhat.com>, 2017-06-20 15:14:09 +0200, , change tcp close option negated style code tcp close option added boolean valued option modified accept negation well since tcp close option work boolean value doe accept argument wriiten manner allow user override value using configuration file signed veronika kabatova vkabatov redhat.com signed andrei vagin avagin virtuozzo.com,,
2213,8fcfa59b0486454dea9a8cc03d5d74918566ebb8,eronika Kabatova <vkabatov@redhat.com>, 2017-06-20 15:14:08 +0200, , add long option verbosity change long option supported configuration file short option corresponding long option therefore user able setup verbosity configuration file without patch signed veronika kabatova vkabatov redhat.com signed andrei vagin avagin virtuozzo.com,,
2214,adc47efdd2e3731f2a542ec61b724556e11c55ec,lice Frosi <alice@inux.vnet.ibm.com>, 2017-06-30 20:31:50 +0200, , zdtm static sem use union semun instead int use union semun semctl make testcase also work s390x signed alice frosi alice signed andrei vagin avagin virtuozzo.com,,
2215,a01d879b627f72eddd8cd3201da83c5182c485a1,ichael Holzheu <holzheu@linux.vnet.ibm.com>, 2017-06-30 20:31:49 +0200, , zdtm static fdt_shared fix buffer size test_string hello world byte size therefore byte used buffer size sufficient fix use sizeof safe side signed michael holzheu holzheu signed andrei vagin avagin virtuozzo.com,,
2216,2f886ca174884b3d5f6554294f24d6c2affb4bd9,ichael Holzheu <holzheu@linux.vnet.ibm.com>, 2017-06-30 20:31:48 +0200, , criu mount fix flag cast sizeof sflags args parameter apply_sb_flags unsigned long therefore also use unsigned long cast sflags variable do_new_mount unsigned long therefore use sizeof sflags instead sizeof int signed michael holzheu holzheu signed andrei vagin avagin virtuozzo.com,,
2217,3ed5c2f0ee3da0342bcd412818f2dcc186d788ac,ichael Holzheu <holzheu@linux.vnet.ibm.com>, 2017-06-30 20:31:47 +0200, , criu file fix wait_fds_event bit platform htole64 function return bit value stored bit integer wait_fds_event result big endian bit platform fuxtex system call also requires bit value fix use htole32 also bit platform signed michael holzheu holzheu signed andrei vagin avagin virtuozzo.com,,
2218,624aa178dcc7e4f0c7db13229f557473692590dd,ndrei Vagin <avagin@virtuozzo.com>, 2017-06-30 04:11:43 +0300, , zdtm call popen without wait collect zombie signed andrei vagin avagin virtuozzo.com,,
2219,d77d8cc402e597bb38edfb4e81db89fd7d96d0b6,drian Reber <areber@redhat.com>, 2017-06-29 14:19:32 +0000, , fix building newer glibc newer glibc release removed sigunused bit signum.h break building criu system http sourceware.org git gitweb.cgi glibc.git commitdiff sigsys return value sigunused testing shown criu still successfully completes zdtm patch signed adrian reber areber redhat.com reviewed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2220,ce68a85cee1aedae102a8c095046ad8d7944b460,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-30 13:56:31 +0300, , fsnotofy remap resolve post prep remap searhced dev ino pair known root task start opend remap collection stage happen crtools move resolve post prep reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2221,c517e4ab0765acbacef3357cbde56d1610d095ba,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-30 13:56:04 +0300, , unix move stale unlink post prep call unlink happen root task context collection stage moved crtools keep stale unlink piece post prep socket reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2222,62f4275de271f6e7427c53fa1ea56668e26309cb,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-26 15:45:37 +0300, , unix shift code right cont continuation previous patch signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2223,01e9542fb27d768f9a130ae132da0774ee7f062d,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-26 15:45:23 +0300, , unix sanitize peer resolution post prep pprep_head built becomes much easier socket socket peer resolution signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2224,d9d9686f3839ba25453f0c69107cd8094549dc8d,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-26 15:45:09 +0300, , restore tune _once stuff ppreh_heads simplify _once helper using .next field signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2225,a9001753c9e0fa5559c64de6b5aeb11026e7d7aa,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-26 15:44:55 +0300, , unix use helper post prep signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2226,0a820d8db45607c843f92dd64a75e21505792a76,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-26 15:44:42 +0300, , restore allocate head post prep action post prep action xmalloc added list let make sit right structure need post prep would make thing much simpler nicer soon approach inspired kernel rcu_head signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2227,d73a08b176d40b3b7a2a698f110b528bade321d5,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-30 13:55:47 +0300, , image fix collect happenned flag flag mean image opened empty image concept make always true since one user flag obviously incorrect remove latter fix former mean least one object read reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2228,c0857d2517e86d54c2af337c5902ab3a4a066c4b,ndrei Vagin <avagin@virtuozzo.com>, 2017-06-30 04:10:29 +0300, , zdtm check proc sys kernel taint fail non zero want run test kernel problem want know taint flag changed signed andrei vagin avagin virtuozzo.com acked pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2229,8494d70833e46cd6615464955772b87994d5b166,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-29 10:35:12 +0300,328, irmap duplicate handle memory queueing predump recent cleanup fdinfo parsing memory allocation policy entry changed thus keeping pointer entry handle longer valid freed soon said duplicate memory queued irmap work http github.com xemul criu issue 328 signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2230,70c0b47d4449531a44b3ef044683162f80ebf7bd,avel Begunkov <asml.silence@gmail.com>, 2017-06-28 03:41:38 +0300, , zdtm skip tcp close test restore skipped tcp close option replaces connected tcp socket closed one restoring therefore sense without restore stage thus let skip related test norst flag specified signed pavel begunkov asml.silence gmail.com signed andrei vagin avagin virtuozzo.com,,
2231,3c9290d278e6386a5babb60886ed23b5cf5cae42,avel Begunkov <asml.silence@gmail.com>, 2017-06-19 14:18:34 +0300, , file fix compilation error signed underflow criu file reg.c function open_pathâ criu file reg.c 1299 error iteration 2147483647 invokes undefined behavior werror aggressive loop optimization count  uninitialized variable criu file reg.c function criu file reg.c 1354 warning countâ may used uninitialized function wmaybe uninitialized p.s arch linux 4.7.5 gcc gcc 6.3.1 20170109 signed pavel begunkov asml.silence gmail.com signed andrei vagin avagin virtuozzo.com,,
2232,e42c76955562969158f6026d7073a98f14af187e,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-22 20:40:37 +0300, , proc remove unneeded callback arg parse_fdinfo signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2233,c14cede697a72464f1eb70768c3a9e9ecc3a56a4,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-22 20:40:19 +0300, , timerfd rework parse_fdinfo use callback signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2234,e5b4ef20fc1258751ad53cf9215c82e9839c2108,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-22 20:40:02 +0300, , fanotify rework parse_fdinfo use callback signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2235,3150b56ddcf3fa591b412cd56d95587e81cd5c2f,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-22 20:39:34 +0300, , inotify rework parse_fdinfo use callback signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2236,cd8db2edc5aabe9cd03df45e33d7c24a7b0d566d,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-22 20:39:08 +0300, , eventpoll rework parse_fdinfo use callback signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2237,54fb48d715bbecfac4c2a9c2873e23867c77aea3,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-22 20:38:51 +0300, , signalfd rework parse_fdinfo use callback signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2238,c94d0cacb44c38e392de13d901212e0184c0c140,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-22 20:38:36 +0300, , eventfd rework parse_fdinfo use callback signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2239,0dcb780a8fd9102aa215674c3dcd38e60815d117,irill Tkhai <ktkhai@virtuozzo.com>, 2017-06-27 12:51:02 +0300, , utils add test zdtm lib directory definition tag file signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2240,beda098364d3ebb842bfc427bd0b8ec67c056ce2,ir Kolyshkin <kir@openvz.org>, 2017-05-15 21:17:08 -0700, , compel silent error case success want silent default log level time honored unix tradition break signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2241,5cac11310f223719ab4a457f5cb90c064f07cd0d,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-19 17:03:30 +0300, , fsnotify fix bad field name list iteration surprisingly offsetof node offsetof node even though structure node field middle field sitting one totally different code work ... risking signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2242,d8dd470367aa5c34e039113d56f892a9a43a3fb0,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-15 19:05:03 +0300, , zdtm test ghost file hole signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2243,c7ab0cd934d3f4cff22f1791abf0ff2438c60772,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-15 19:04:46 +0300, , crit add support chunked ghost image signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2244,0ce86c360773895821699b4071a33bf1bba81de5,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-15 19:04:30 +0300, , ghost add chunked ghost file ghost file big might make sence try seeking hole thus reducing image size seen tmpfs file issue 230 signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2245,c3cff79cd6ddd43c810d54dccf58e3531ee1cdc4,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-15 19:04:11 +0300, , ghost fixup mkreg_ghost prototype need need mode signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2246,1ddcd443baf5e04ace3804f9e0afccd1c8d97e5a,yrill Gorcunov <gorcunov@openvz.org>, 2017-06-01 11:45:10 +0300, , test shm unaligned use unique key convenient simultaneous run signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2247,3299759865ff15d86400059d45c8cf897042741d,mitry Safonov <dsafonov@virtuozzo.com>, 2017-05-29 15:59:08 +0300, , x86 ia32 fix build debug gcc happy use rbp register local variable ggdb3 option resulted following build error make debug file included criu arch x86 crtools.c criu arch x86 include asm compat.h function do_full_int80â criu arch x86 include asm compat.h error used asm fix saving restoring rbp around bit syscall manually add comment r11 clobber reported cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2248,0f5e2217ef9df00573bf66154e7a797ea4064ab1,avel Begunkov <asml.silence@gmail.com>, 2017-06-02 09:32:27 +0300, , zdtm check tcp close option close socket test case connected socket restored closed state listening socket state change restore signed pavel begunkov asml.silence gmail.com signed eugene batalov eabatalov89 gmail.com signed andrei vagin avagin virtuozzo.com,,
2249,2c37042821906f013634e305899cb25ff1a5a7b1,avel Begunkov <asml.silence@gmail.com>, 2017-06-02 09:30:22 +0300, , tcp add tcp close option restore connected tcp socket closed state new restore option tcp close introduced restores connected tcp socket tcp_close state consider tcp socket tcp_established tcp_fin_wait2 tcp_fin_wait1 tcp_close_wait tcp_last_ack tcp_closing tcp_syn_sent state connected socket consistent current criu usage state thus option affect socket original state tcp_listen tcp_close signed pavel begunkov asml.silence gmail.com signed eugene batalov eabatalov89 gmail.com signed andrei vagin avagin virtuozzo.com,,
2250,4c332970bd25ac34049026ff036c94d68cc40934,irill Tkhai <ktkhai@virtuozzo.com>, 2017-05-04 21:42:36 +0300, , image implement collect_images minimaze code line pack repeated action one also fixed return middle cleanup need goto err case error instead return signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2251,149890a8784f47b9a907082e75f5d93c645c0911,avel Emelyanov <xemul@sacred.ru>, 2017-07-06 16:57:44 +0300, , add information phaul soccr compel,,
2252,b6bb8380db2d258d0666a0bd3ff648f8b981324d,avel Emelyanov <xemul@sacred.ru>, 2017-06-30 15:24:47 +0300, , add licensing info,,
2253,0f5e0bc822fc4d57d895239bfed07b2079ee8ac7,avel Emelyanov <xemul@sacred.ru>, 2017-06-30 15:22:16 +0300, , add project logo top,,
2254,f25fda8431fc75c499cf0c5dafcac0469e18e2d5,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-28 08:49:36 +0300, , criu version 3.2.1 hot fix regression fix urgent support latest greatest kernel api change signed pavel emelyanov xemul virtuozzo.com,,
2255,e6302380a6b4c9f7839bde5b78bc8ed6b39d4bc5,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-26 16:20:35 +0300,323, lsm move host lsmtype kerndat currently lsm.c static variable since kdat cached uncached value stay zero lsm cache file get loaded obviously wrong break restore time lsm enabled host http github.com xemul criu issue 323 signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2256,171acca813901969b72915d262412263d1d06ad4,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-26 16:20:20 +0300, , lsm make get_type switch able call remove function pointer type variable left signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2257,09c131c8a39bcf3920e968ef4aeb7067471271bf,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-26 16:20:07 +0300, , lsm postpone lsm_profile kerndat check need keep host lsm mode kerndat next patch time lsm profile option need correspond  split option handling two part first keep next check kerndat correspondance signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2258,ebc485385bad1b32560c0bb82edfa43fc195f17a,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-26 16:19:53 +0300, , lsm remove write lsm name variable signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2259,81776f856a388056e2c2897eaca3deee0ea362f0,ndrei Vagin <avagin@virtuozzo.com>, 2017-06-23 04:25:24 +0300,324, travis roll back old trusty image http github.com xemul criu issue 324 signed andrei vagin avagin virtuozzo.com,,
2260,b745fc058aa621adc9af70927de6a3fa1fce207a,yrill Gorcunov <gorcunov@openvz.org>, 2017-06-27 09:58:00 +0300, , test grow_map mark noauto recent kernel change criu never look outside start end region reported proc map restore even need know growsdown region actually grow iiuc need auto grow stack vma restore criu creates whole vma length using map_fixed never write addr returned mmap map_fixed oleg signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2261,be37925cff8aaf43f14866bd0a60dca6068a8d97,yrill Gorcunov <gorcunov@openvz.org>, 2017-06-26 23:55:29 +0300,322, mem assume guard page returned procfs new kernel guard page reported show_map_vma ajust vma address neither call restorer http github.com xemul criu issue 322 signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2262,8a4a164f3e33be9b2d28d54fe430e92f40626054,yrill Gorcunov <gorcunov@openvz.org>, 2017-06-26 23:55:28 +0300, , kerndat detect guard page mangle procfs output vanilla kernel commit show_map_vma longer report page_size detect simple test remember kdat setting suggested oleg nesterov oleg redhat.com signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2263,2fe24bc451ced9d224554998015606a024a9968c,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-19 12:59:14 +0300, , criu version 3.2 new feature release several bugfixes memory restore optimization little bit signed pavel emelyanov xemul virtuozzo.com,,
2264,5e97706a5c5490a763538a2b2ba465b7e61fa8ba,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-26 18:39:40 +0300, , pipe fix comment list head entry list question used fles nowadays signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2265,5f7572783047ebc52ca611918747738268f37177,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-26 16:02:40 +0300, , epol sanitize epoll tfds collecting case legacy tfds merged epoll entry make working separate list tfds extra code open callback keep legacy code one place signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2266,c48099d83a1ca10d5fc020a4181c5c4f47bc3761,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-26 16:02:27 +0300, , image introduce collect nofree flag current collect helper free entry zero priv_size cinfo file zero priv_size entry collected sub cinfos entry question freed signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2267,80e146da2076d8a828590176d57c8eabbe78017c,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-06-27 07:53:21 +0300, , criu pagemap add reset method rather open close reset pagemap update state signed mike rapoport rppt acked adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
2268,9de01e1b8974cadae86d340ed4f19740e9f4afa0,drian Reber <areber@redhat.com>, 2016-03-10 10:39:00 +0300, , make skip_pages function available criu wide upcoming userfaultfd integration skip_pages functionality required find userfaultfd requested page signed adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
2269,f0a87835e1fb7cf45d7c1a5b42ae0eac55a65eb8,avel Emelyanov <xemul@virtuozzo.com>, 2017-06-09 19:23:37 +0300, , vma fix badly inherited filemap_open previous patch 5a1e1aac tried minimize amount open called mmap ing file unfortunatley mistake wrong flag compared resulted whole optimization working randomly typically working fixing flag comparison revealed another problem patch question correllated 03e8c417 one caused vmas opened mmaped much later premap hitting situation vmas sharing fds partially premapped partially whole vm_open sharing became broken multiple place either needed opened needed left closed fix context track whether shared moved collect stage real opening loop case need explicitly know vmas _may_ share fds file private shared sharing knowledge becomes spread open_filemap caller well ... signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2270,a0738c75c7cc1283fe8a83ee8ab0d5c6f5645642,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-18 20:25:14 +0300, , vma open similar vmas multiple time real apps typical sequence vmas absolutely file mapped seen dump time fixed multiple opening map_files link file_borrowed flag restore situation vm_open call many case open path flag slows thing fix chain vmas mapped file first one open file last one close travis success mem open file mapping required signed pavel emelyanov xemul virtuozzo.com,,
2271,77e9c5d8067d75670fc04348e0fcbe79e474156e,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-18 20:24:49 +0300, , vma move fdflags evaluation collect_filemap routine need compare fdflags avoid double let calculate set fdflags early travis success mem open file mapping required signed pavel emelyanov xemul virtuozzo.com,,
2272,c9194500bfbf746cde75b360bea05fd9412ddb96,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-15 17:14:31 +0300, , mem unneeded mprotects vma restore page pagemaps need enforce prot_write bit applies non premmaped vmas signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2273,91388fce03f8dde9eca6a3cb7c9afb6bc0fbdfcb,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-11 12:13:52 +0300, , mem delayed vma restore performance experiment show spend relatively lot time mremap ing area premap area proper place time depends task restored many vmas  thing premapping needed restore cow page since api kernel share page two anonymous vmas non cowing area map mmap directly place case also need restore page content also pie code whole page read code pie way complex proposal optimize case single local pagemap layer pr.pieok boolean stand  fixed arm compiling vma address formatting unused tail premapped area left task restore preadv ing page restorer context worked corrupted iovs due mistake pointer arithmetic aio mapping skipped premap mapped pie growsdown vmas sometimes guarded previous vma guard page content restored place premmaped always premmap lazy page restore signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2274,074e7b8901079792b46e20d15af4223a4b7f2455,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-11 12:13:33 +0300, , vma mark cow root next patch stop premapping private vmas particular cow anyone make work need distinguish vmas cowed anyone cowed child currently vma parent pointer set null former let introduce special mark signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2275,76c1ec4e27254c9d32b08c83660071a9b038e770,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-11 12:13:14 +0300, , vma open vmas inheriting inherited vmas need descriptor work signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2276,f6bfdb8d1a19f7f344db7611ad1aa425bbce9457,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-11 12:12:52 +0300, , vma move cow decision earlier collect vmas cow group done checking pstree_item vma list parallel parent one finding vmas chance get cow page vma parent pointer used tie area together  reworded comment pvmas check vmas private child handle helper task signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2277,216658cdf062b2b45b1e3c782eeb430409692a55,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-11 12:12:30 +0300, , vma keep pointer parent vma currently keep pointer parent vma bitmap info parent needed soon signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2278,5ca537a21168e1a0becacb47947602bcdb4f3e7b,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-11 12:12:11 +0300, , vma introduce vma_premapped flag private vma premmaped separate sign vma premap area needed signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2279,fd5ae6d9b58fef6bc24e812f65c1411c6076bda4,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-11 12:11:53 +0300, , mem shuffle page read around page read needed premap stage signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2280,28c35b181561095ae761ef05d6faa4637d95dffa,mitry Safonov <dsafonov@virtuozzo.com>, 2017-05-18 21:10:19 +0300, , vdso compat unmap missing vdso vvar vmas met missing vvar virtuozzo kernel skip unmapping todo check ia32 kernel config_vdso signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2281,baed8b8c6ddf05d810359ec90133afba74eb0089,mitry Safonov <dsafonov@virtuozzo.com>, 2017-05-18 21:10:18 +0300, , pie vdso return back elf header mismatch error deleted previously reason searched vdso vma vdso vvar vma pair magic header needed suppress error moment reworked bit vdso parsed need search even parse criu helper signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2282,47f3b889557e344e84c662cca9e2a926907856eb,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2017-05-26 20:02:45 +0300, , restore fix sys_wait4 error handling case child signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2283,dc8261ced53044af2e9a177f4e3c3f0e1fdccacf,mitry Safonov <dsafonov@virtuozzo.com>, 2017-05-04 22:14:50 +0300,292, net suggest enabling iptables restore failed x86_64 defconfig boot kernel without initramfs qemu see xemul split long line fix 292 signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2284,871ce841a7d2a4567cbf662f8b63210e5c3692d1,mitry Safonov <dsafonov@virtuozzo.com>, 2017-05-31 23:23:40 +0300, , travis ia32 remove libc6.i386 dependency needed anymore config_compat signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2285,37b3e5953b484d2eb5e27b79a80c83bcd24baafd,mitry Safonov <dsafonov@virtuozzo.com>, 2017-05-31 23:23:39 +0300, , ia32 feature test check i686 library presence adapting criu ia32 support building koji found koji build x86_64 package i686 libs installed found i686 library requirement longer valid since deleted second parasite drop feature test i686 libs put test gcc effectively test gcc compile bit code bug debian gcc 315 signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2286,f32ffdef90839be9fe6f50c65404217395149452,mitry Safonov <dsafonov@virtuozzo.com>, 2017-05-31 23:23:38 +0300, , nmk provide try asm build check function need add feature test written assembly check feature compiled add make function purpose signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2287,7d8adbee2b94d36c33d3791513328c0e0d4b7c59,irill Tkhai <ktkhai@virtuozzo.com>, 2017-05-19 15:13:09 +0300, , mount find ns_root time mount restore commit 2e8970beda5b mount create mount point root mount namespace root yard top tree mount_infos point fake mount looking appropriate place binfmt_misc find xxx proc sys binfmt_misc fix finding real ns_root manually signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2288,e03aa018c2072552ac04a65adb6d74f4ba5cba28,ang Yan <wowyk@qq.com>, 2017-04-28 09:26:17 +0800, , update makefile signed andrei vagin avagin virtuozzo.com,,
2289,7ce496eb10e6e55478dca3ebaa7eec6fa2c9646d,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-18 12:37:01 +0300, , tty kill routine question set mutex access dev ptmx initialization done collect single tty travis success sanitize initialization bit signed pavel emelyanov xemul virtuozzo.com,,
2290,a216fb1e5ea39c64b7d0fc8f4486634ffe2f139b,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-18 12:36:45 +0300, , tty merge tty post action need schedule post action merge also sanitizes void unised argument travis success sanitize initialization bit signed pavel emelyanov xemul virtuozzo.com,,
2291,77443aa5205b8fa0ec5d7b3acf6541e89e06535f,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-18 12:36:32 +0300, , regfiles kill routine initializes remap open lock already code initializes whole remap engine arrange part travis success sanitize initialization bit signed pavel emelyanov xemul virtuozzo.com,,
2292,237bd26982a1e3f2a80fd8d5bd323c8d99359c3a,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-18 12:36:18 +0300, , remap rename global lock lock needed serialize remap open code name travis success sanitize initialization bit signed pavel emelyanov xemul virtuozzo.com,,
2293,a534c76c42e951af33d7ca4e2bc8566e1aa6819b,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-18 12:36:03 +0300, , remaps rename routine clean file remap travis success sanitize initialization bit signed pavel emelyanov xemul virtuozzo.com,,
2294,23e092f7090820d02b2ca2de1b0b83376a00548a,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-18 12:35:48 +0300, , ghost add comment shared path allocation ghost remaps allocate path shmalloc add comment  travis success sanitize initialization bit signed pavel emelyanov xemul virtuozzo.com,,
2295,2356e5ffc6e03c5edd481f098880169976c4163e,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-18 12:35:34 +0300, , regfiles serialize remap lookup used user counter remap incremented time routine called nowadays remaps managed refcounting longer need global mutex protection travis success sanitize initialization bit signed pavel emelyanov xemul virtuozzo.com,,
2296,b01bd93757b78b10c293edef1ab90c1d9d445e6a,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-18 12:35:19 +0300, , rst collect procfs remaps need separate call remaps collected one step earlier right also rename latter routine travis success sanitize initialization bit signed pavel emelyanov xemul virtuozzo.com,,
2297,30e2fd2175a2cca027f3deb9e3841450ebac0852,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-15 17:02:03 +0300, , fsnotify tossing legacy bit around move deprecated code one place travis success sanitize fsnotify legacy code signed pavel emelyanov xemul virtuozzo.com,,
2298,d965f5887d26a0031bcd3fd44af403df678a1e0a,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-15 17:01:47 +0300, , fsnotify kill fsnotify list list needed collect mark deprecated notify object latter one stored fdsec hash legacy case find travis success sanitize fsnotify legacy code signed pavel emelyanov xemul virtuozzo.com,,
2299,80f84ab0a40ec986ef2f49897c3b0a4095d439e4,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-15 17:01:32 +0300, , fsnotify deprecate separate image mark mark image merged regular 1.3 travis success sanitize fsnotify legacy code signed pavel emelyanov xemul virtuozzo.com,,
2300,4bd43e226f6bf91f099aed150340a831c54f282c,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-15 17:01:16 +0300, , fsnotify fix legacy fanotify collect wrong helper called travis success sanitize fsnotify legacy code signed pavel emelyanov xemul virtuozzo.com,,
2301,88699b49f7cc13938cd104f1861079d59fd6b915,ir Kolyshkin <kir@openvz.org>, 2017-05-17 12:32:41 -0700, , travis test set criu_pmc_off conditionally needed kernel 3.19. apparently ubuntu 14.04.5 come kernel 16.04 i.e 4.4 disable workaround anyway case let conditionally slightly improve comment signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2302,2a6b8e174388036c69cce4ca64f9ca87d36866ef,ir Kolyshkin <kir@openvz.org>, 2017-05-17 12:32:40 -0700, , travis test install package asciidoc pull lot dependency needed use convert txt man page adding install recommended option apt get make skip additional dependency needed package xmlto let add explicitly result package skipped mostly tex latex extra sgml tool wow signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2303,12e3adc68c8fa91687deb109faacf217c9136afe,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-22 11:40:37 +0300, , criu version 3.1 signed pavel emelyanov xemul virtuozzo.com,,
2304,27be93b7db4e3a16751d87823fd86b47ba72742c,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-22 11:23:11 +0300, , revert kdat relax uffd check reverts commit got master mistake signed pavel emelyanov xemul virtuozzo.com,,
2305,f734928c8af4c963fdd46ed81fcf987ec86688e6,yrill Gorcunov <gorcunov@openvz.org>, 2017-04-28 16:18:38 +0300, , tty make sure dev tty inheritance exist currently support restoring opened dev tty reference control terminal belongs process inheritance allowed thus refuse dump scenario otherwise restore fail reported stanislav kinsburskiy skinsbursky virtuozzo.com signed cyrill gorcunov gorcunov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2306,0237eb27c82e71f06c1d89e2ed0f389442d78613,ndrei Vagin <avagin@virtuozzo.com>, 2017-04-28 03:59:31 +0300, , restore collect mount mntns restored currently used get file descriptor mount namespace root one mntns open pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2307,695295ae9845447eacdb6011ba5a5a5a7a4c62f4,ndrei Vagin <avagin@virtuozzo.com>, 2017-04-28 03:59:30 +0300, , fsnotify save mnt_id mount namepsace dumped process restored another mntns mnt_id useless case mntns dumped dump path mount point cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2308,6f8f85ffd4f5aa29d592417e59032617e21af8e5,mitry Safonov <dsafonov@virtuozzo.com>, 2017-05-05 17:52:04 +0300, , ia32 kdat check bit mmap bug kernel bug bit mmap returning bit pointer fix torvalds master released v4.12 kernel checkpointing v4.9 kernel work good restoring result application mmap bit address resulting segfault memory corruption etc policy fail dump restore target error checkpointing v4.9 signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2309,6eee76d4035ee0d38acf534890adf0f5e17583eb,ndrei Vagin <avagin@virtuozzo.com>, 2017-05-13 03:11:19 +0300, , restore simplify sigchld handler idea simple everyone wait child restore interrupted found abandoned zombie signed andrei vagin avagin virtuozzo.com,,
2310,9058baae7eaa05f5392241cb9edb7c277bb195b4,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-11 12:11:36 +0300, , pagemap enqueue iovec arbitrary list currently batch pagemap entry page read list need queue per pstree_entry one signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2311,b43f7aa6159708874cacac77c20f22bf23047b86,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-11 12:11:19 +0300, , page_read make possible get pages.img page_read pages.img need get opened one time pagemap.img signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2312,aebbdbf1efaa0cc00f125588b893744988e36a1e,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-11 12:10:59 +0300, , compel add preadv syscall signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2313,0c4eaafd4a79c796b7b7ce7ca218c07bd36444a5,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-11 12:10:42 +0300, , vma add vma_next helper signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2314,ef6c3f6ce6172b4c2539f1bf0d76328b4d0ee56b,ir Kolyshkin <kir@openvz.org>, 2017-04-20 01:03:45 -0500, , compel test fdspy fix linking commit 8b99809 compel make plugins archive changed suffix compel plugins test longer compiles compel plugins print auxiliary plugins let use signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2315,4a57dfec9ec6bbb4fcd095b3bd8dcdc620f93d71,ir Kolyshkin <kir@openvz.org>, 2017-04-20 01:03:44 -0500, , compel plugins add optional plugins working plugin right let implement todo item compel plugins command signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2316,98204deb347ed0df31f98d9f54e1b506fa66190a,ndrei Vagin <avagin@virtuozzo.com>, 2017-05-06 08:40:16 +0300, , test use nsenter test ubuntu 14.04 travis reviewed kirill tkhai ktkhai virtuozzo.com look good pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2317,71dcc6e9183ad7383df2a20f1b5bc681e856e535,ndrei Vagin <avagin@virtuozzo.com>, 2017-05-04 23:27:47 +0300, , travis check empty option reviewed kirill tkhai ktkhai virtuozzo.com look good pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2318,4669d6330e784feafa9a48185d5b08c3393659be,ir Kolyshkin <kir@openvz.org>, 2017-05-02 16:53:22 -0700, , crit fix make install apparently setup.py distutils interprets root option without argument root end described http github.com xemul criu issue 309 fix prepend destdir value prefix argument fix uninstall well code resent via gmail reported juraj orå uliä juraj.orsulic fer.hr signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2319,03eccbf1c868b0b909d7c51d5fa4aef655b32964,mitry Safonov <dsafonov@virtuozzo.com>, 2017-04-28 21:28:38 +0300, , soccr clean bit includes list soccr.h previous patch linux types.h needed anymore netinet tcp.h needed test feature test i.e. struct declared also drop forward declaration struct libsoccr_sk declared soccr.c sort header name error like twice including errno.h happen also remove assert.h signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2320,2a37b50765b9f88383d213aad0ce7768c124ec95,mitry Safonov <dsafonov@virtuozzo.com>, 2017-04-28 21:28:37 +0300, , soccr.h use uint32_t instead __u32 uint32_t already occupied header use bit unsigns allow drop additional include linux types.h signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2321,af6e70b2b9f81cf68202aac36c7267c91837bafa,avel Emelyanov <xemul@virtuozzo.com>, 2017-04-13 18:26:36 +0300, , crit explorer running cirt dir one see way pagemap chunk scatered across vms process sample output env00 zdtm test  400000 00400000 root criu test zdtm static env00 604000 00604000 root criu test zdtm static env00 00605000 root criu test zdtm static env00 853000 00853000 7faba2d4b000 7faba2d4b000 usr lib64 libc 2.22.so 7faba2d4f000 usr lib64 libc 2.22.so 7faba2d51000 7faba2d51000 7faba2d54000 7faba2f64000 7faba2f64000 7faba2f74000 7faba2f74000 7faba2f75000 7faba2f75000 usr lib64 2.22.so 7faba2f76000 usr lib64 2.22.so 7faba2f77000 7faba2f77000 7fffb4de3000 7fffb4de2000 7fffb4e24000 7fffb4e27000 7fffb4f6a000 7fffb4f6a000 signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2322,9e3e46565de91b62e5c0a8c5a2fc0e2ef2813793,mitry Safonov <dsafonov@virtuozzo.com>, 2017-05-03 22:40:15 +0300, , ia32 futex restore checkpointing need call bit syscall compatible task correctly restore robust_list note check restorer task arg compatible mode restorer thread arg changing application mode runtime rare thing application run different bitness thread likely present ever meet application could improved signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2323,9a282cbb77824adcfebcea80350a482f5a3b5a1f,mitry Safonov <dsafonov@virtuozzo.com>, 2017-05-03 22:40:14 +0300, , ia32 futex add dumping kernel keep two different pointer bit bit futex list robust_list task_struct dump ia32 task note mean one set robust_list pointer using bit bit syscalls one mixed bitness application question simplification omitting syscalls dump one pointer signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2324,d011a9fb42a46d253f34ff20974dff585bf0d63a,mitry Safonov <dsafonov@virtuozzo.com>, 2017-05-03 22:40:13 +0300, , restorer remove always true has_futex arg check presence robust futex list reality futex_rla_len doe code dumping ret syscall pid head len ret errno enosys  len    info futex_rla_len u32 len image futex_rla_len mean futex present need additional restorer parameter has_futex always true remove signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2325,ea6357e65188c741f3ea5c3f52bf76bffb2da4c1,mitry Safonov <dsafonov@virtuozzo.com>, 2017-05-03 22:40:12 +0300, , criu ia32 redefine cleanup use provided compel signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2326,fc33d333af384737e4454dedd9239f2edfa22055,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-04 16:32:46 +0300, , criu move mod preload kdat module pre load also slow guarding code presence criu.kdat cache file seems reasonable course one may unload needed module hand smart user may well remove run criu.kdat file signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2327,07a00662ad4bde7bdb75de7e8aa985ef21016bee,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-04 16:32:32 +0300, , kdat cache kdat object run criu.kdat kerndat check every criu start way slow need way speed check particular box suggested andre dima mike let try keep collected kdat bit tmpfs file keeping tmpfs would invaludate cache every machine reboot many suggestion generate file proposal create kdat object filled criu explicit command optionally add criu kdat save drop action manage file  ignore return code write glibcs complain unlink tmp file case rename failed  add one magic kerndat_s date ignore error opening saving cache size magic mismatch matter result dropping cache cache file path makefile configurable rundir save cache kerndat auto detection failed  use rundir definition signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2328,e4d14b65d78f7d5461182bb0c3cbe6c63f8a66a1,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-04 16:32:17 +0300, , kdat merge dump restore kerndats signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2329,a840995689f7ab898ba34fd10e014704165e2f83,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-04 16:32:02 +0300, , kdat relax uffd check uffd present reported feature may still need one bool uffd syscall signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2330,ff65b3b9ed740d8cb7daf8d47b9c7973e020802a,avel Emelyanov <xemul@virtuozzo.com>, 2017-05-04 16:31:44 +0300, , kdat relax loginuid check introduce state mode check always signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2331,08ca20e29e30a776d7c6f627e8d1f85f40fb8adb,irill Tkhai <ktkhai@virtuozzo.com>, 2017-05-03 15:48:25 +0300, , compel add argument get_status method may allocate data field proc pid status file fixed size example nspid size may vary introduce new method free_status counterweight type get_status method called case try_again need free allocated data also introduce data parameter use future signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2332,0469a46a55e4c311e5c11db2a2cef68a72e619c2,irill Tkhai <ktkhai@virtuozzo.com>, 2017-05-03 15:48:14 +0300, , seize fix size error creds_dumpable goal function compare everything except cap cap size took compare wrong must used offsetof struct cap_inh instead also sigpnd may different move excluding sigpnd comparation patch another patch reorder field signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2333,6329e660a41bb6bc23f85061a1931c97de136664,ir Kolyshkin <kir@openvz.org>, 2017-05-02 16:51:47 -0700, , test zdtm static split header library nice small clean compile code time distinction internal external function let separate function header file signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2334,1e1a85f1b87bbd35f04ced3502a5aa56e108f257,ir Kolyshkin <kir@openvz.org>, 2017-05-02 16:51:46 -0700, , test zdtm get_smaps_bits proto zdtmtst.h function included library prototype shortcut move separate include file signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2335,14a01115466611c55bfccd6b42f3a3c75f83f5fc,ir Kolyshkin <kir@openvz.org>, 2017-05-02 16:51:45 -0700, , test zdtm clean auxiliary source file corresponding object file cleaned add src obj dep appropriate file cleaned automatically signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2336,dd4925b500b025f0b433edbd4cd1b2c508c8748c,ir Kolyshkin <kir@openvz.org>, 2017-05-02 16:51:44 -0700, , test zdtm makefiles disable built rule makeflags work sub make applicable current instance since previous commit make running reading deps file makeflags longer work use one way disable built rule stand way signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2337,44a2a651934910eb892a69909988c9e8a754bf0f,ir Kolyshkin <kir@openvz.org>, 2017-05-02 16:51:43 -0700, , test zdtm makefile.inc regen deps pointed esteemed maintainer let light shine recent change test zdtm makefiles dependency regenerated even need build single test example test zdtm static make env00 caused include dep statement make see file need included missing since know generate  solution use wildcard function return list _existing_ file include receive file exist reported andrei vagin avagin virtuozzo.com signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2338,63316337253cdfe6543976b99d584696ec5de74a,ir Kolyshkin <kir@openvz.org>, 2017-05-02 16:51:42 -0700, , make static symlink supposed symlink somehow file committed together statement makefile recreate file lead replacing file symlink make remove file add symlink remove makefile rule yes checked file identical signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2339,4a83e29788bc03da0cdbb900d8ded8ab55c3db3f,avel Emelyanov <xemul@virtuozzo.com>, 2017-04-28 15:29:52 +0300, , restore bypass sync point related stage needed restore namespaces criu force task wake two time simply wake task back optimized simply omitting needed wakeups signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2340,3bd08b7701e5adb03af3c19882e44b75f2ec6dad,avel Emelyanov <xemul@virtuozzo.com>, 2017-04-28 15:29:26 +0300, , restore relax forking stage  stage needed make sure task appeared action called description need involving criu process stage purely inter task sync point taking account already make root task wait others complete forking call may rework stage involve criu process  criu task start forking stage waiting inprogress task latter wait purely nr_in_progress counter thus strict requirement stage remains time criu woken siad root task wait task finish forking doe already code switch stage next restore one task normal staging barrier criu task woken nr_in_progress always remains result context switch root task criu back give good boost restoring single task app signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2341,3ebe6c833813481d50099f61830b7547a4dff511,avel Emelyanov <xemul@virtuozzo.com>, 2017-04-28 15:29:12 +0300, , restore write comment stage describe task restore expectation sync point signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2342,eb43ea2389904447cfdfc9fd89143e06b99e378e,avel Emelyanov <xemul@virtuozzo.com>, 2017-04-28 15:28:55 +0300, , restore kill look like separate stage needed script involved restore synchronized existing stage like criu root task root_task stage appear setup script   post setup script forking  everything else seems signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2343,16214d99eee8226c3a67bad1018c5f3c944405b0,avel Emelyanov <xemul@virtuozzo.com>, 2017-04-28 15:28:41 +0300, , restore rename wat root task doe call signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2344,5b870266a35a9b70d5825f322504f39e72e75401,avel Emelyanov <xemul@virtuozzo.com>, 2017-04-28 15:28:25 +0300, , restore rename _root_task stage name task criu wait first stage started want root task come rather namespaces get restored signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2345,6d9ec5ec8630210e045884c0634fd6e1ce455a5e,avel Emelyanov <xemul@virtuozzo.com>, 2017-04-28 15:28:10 +0300, , restore move staging switch wait code top file signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2346,e571ef6294215b77e36cbd52675eac9aa1ea8036,avel Emelyanov <xemul@virtuozzo.com>, 2017-04-28 15:27:55 +0300, , restore fix indentation one signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2347,fad59b7b24d0dd9bfb02df8ba1762c58ef4d0dc1,avel Emelyanov <xemul@virtuozzo.com>, 2017-04-28 15:27:42 +0300, , restore normalize first last staging switch set futexes hand use helper explicitly code readability signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2348,6b44cd8ea93e2fafafddf1aec4fb70690bb84d05,avel Emelyanov <xemul@virtuozzo.com>, 2017-04-28 15:27:24 +0300, , restore remove bogus futex kick already wait task end need one waiting signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2349,7393a4b7f9007e9c81e920de2628bbf68cb0f485,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-15 02:59:26 +0300, , restore add function wait task finish stage used close descriptor mount namespaces used network namespaces acked pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2350,a7281b11fd6e31d654e2ace387fe6677dff86fa6,ndrei Vagin <avagin@virtuozzo.com>, 2017-04-22 01:02:37 +0300,282, test restore ns_last_pid executing restore second time required case inject fault criu restore case execute criu restore check fails execute criu restore without fault check pass first criu restore restores part process second criu get pid one restored process http github.com xemul criu issue 282 signed andrei vagin avagin virtuozzo.com,,
2351,8544895a528b78878747d13ab24bb6a23c883ebf,mitry Safonov <dsafonov@virtuozzo.com>, 2017-04-28 21:30:47 +0300, , ia32 restorer move bit pie unmap x86 need compat realization restorer unmap rt_sigreturn task stopped bit code ptrace api allow setting x86_64 full register set ia32 task generic restorer x86 specific function right clean restorer x86 related realization signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2352,dd3f23e28df137908ceb47f6a5fdf9ef4d8ab7b6,mitry Safonov <dsafonov@virtuozzo.com>, 2017-04-28 21:30:46 +0300, , restore prepare removing config_compat need config_compat restorer blob preparation allow move compatible unmap written x86 asm generic restorer blob arch x86 signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2353,0d945c97c22782c9f8e885c9e813285695bbaed2,mitry Safonov <dsafonov@virtuozzo.com>, 2017-04-24 15:51:47 +0300, , make run feature test tag etags cscope make tag resulted running feature test needed tag generation waste time test compile anything reported kirill tkhai ktkhai virtuozzo.com signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2354,44e966e43381a39b6664b0fb31c36e6dc59adccc,mitry Safonov <dsafonov@virtuozzo.com>, 2017-04-24 21:35:17 +0300, , test make suppress nothing done default let pretend something fwiw cleaning two line test output acked cyrill gorcunov gorcunov openvz.org run zdtm static tty03 make nothing done default start test make nothing done default tty03 pidfile tty03.pid outfile tty03.out run criu dump run criu restore send signal wait zdtm static tty03 die 0.100000 removing dump zdtm static tty03 test zdtm static tty03 pas signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2355,fa1fbe08b19010eeabfad9a80dc2e15915f915d1,avel Emelyanov <xemul@virtuozzo.com>, 2017-04-19 16:51:01 +0300, , img move sigactions core right sit separate file since support clone_sighand plan much better core time dump restore sigacts core entry hand already signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2356,acda66c294827e1b2135de46df6eae1fbacc4115,ndrei Vagin <avagin@virtuozzo.com>, 2017-04-25 02:51:17 +0300, , sysctl surpress error open_proc sysctl optional criu skip silently signed andrei vagin avagin virtuozzo.com,,
2357,04b0a0bd7509cb209d072b276de7859ea02a73d7,mitry Safonov <dsafonov@virtuozzo.com>, 2017-04-24 21:37:19 +0300, , make keep hostcflags clean target cflags hostcflags populated cflags set environment cflags make turn operator set variable iff unset previously recursive expanded operator mean value hostcflags evaluated every time used wrong current flaw makefile assigns hostcflags cflags environment recursive assigns target related option cflags march hostcflags used current code expanded cflags result target related option supplied host object building break cross compilation fix omitting recursive expansion hostcflags still need keep warning defines hostcflags link http pipermail criu 2017 april 037109.html cyrill gorcunov gorcunov openvz.org reported brinkmann harald bst reviewed cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2358,578d57fb3dee0226fd4d5a1b16d13a3f3cb0ae23,mitry Safonov <dsafonov@virtuozzo.com>, 2017-04-24 21:37:18 +0300, , make combine arch specific option together defines ldarch vdso one place visually simpler terse reviewed cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2359,3af5fb23c464f36ed8cd30bdf0f07d0338ab3c4d,mitry Safonov <dsafonov@virtuozzo.com>, 2017-04-24 21:37:17 +0300, , make separate supported architecture check arch specific option clearer without support check reviewed cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2360,52188d31bec840038cea990a9e3ee7d60c19a569,mitry Safonov <dsafonov@virtuozzo.com>, 2017-04-24 21:37:16 +0300, , make drop srcarch redefinition defined nmk redefine remove btw twice export twice definition ldarch call bit arm aarch64 reviewed cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2361,a42ad2f033d0d0c45d9b525f3bc80811f7e53b38,mitry Safonov <dsafonov@virtuozzo.com>, 2017-04-24 21:37:15 +0300, , build nmk rename arm64 aarch64 let keep name bit arm platform across source reviewed cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2362,99c7e7283dcc1826e008ce4f8984863014454256,mitry Safonov <dsafonov@virtuozzo.com>, 2017-04-24 21:37:14 +0300, , make use aarch64 name bit arm platform let call aarch64 across criu confused least arm64 name nmk arch support check yet allowed named arm64 nmk patch separated reviewed cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2363,eeb0afc4118e53aa76dca9f9870cc231ed1a7cb4,irill Tkhai <ktkhai@virtuozzo.com>, 2017-04-24 16:41:24 +0300, , make report dependency absence exactly bumped libc6 dev i386 installed criu said save guy time spent place signed kirill tkhai ktkhai virtuozzo.com acked dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2364,4dd0735fc22d071fb27858447601758d2da860c9,avel Emelyanov <xemul@virtuozzo.com>, 2017-04-13 18:29:13 +0300, , restore save time mounting proc restoring namespaces make sence mount proc hand detach use host side one signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2365,31cde250481b019e397e6ab9d4bf3c64d7da8e3d,ndrei Vagin <avagin@virtuozzo.com>, 2017-04-04 03:58:52 +0300, , soccr fix log message add signed andrei vagin avagin virtuozzo.com,,
2366,c5615e6e5cdb61b66550e9edaa8fd934e373d3e0,yrill Gorcunov <gorcunov@openvz.org>, 2017-03-30 16:55:37 +0300, , pipe use reviewed kirill tkhai ktkhai virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2367,3e5b374288a0e3f07b6755aae07a0a4ba3307232,yrill Gorcunov <gorcunov@openvz.org>, 2017-03-30 16:55:36 +0300, , tty use reviewed kirill tkhai ktkhai virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2368,502eb4d9cc66d5a37823783fff4fa2a8e8283665,yrill Gorcunov <gorcunov@openvz.org>, 2017-03-30 16:55:35 +0300, , restore add helper reviewed kirill tkhai ktkhai virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2369,5859206432d90b482ff168a149059422c9f26466,avel Emelyanov <xemul@virtuozzo.com>, 2017-04-14 19:56:58 +0300, , restore parse self map via bfd injecting restorer blob criu par proc self map file find hole blob happens every time map file criu huge 12k much efficient use bfd rather glibc fopen signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2370,d149adbcd9740eb51f4312de988333204c7004e6,avel Emelyanov <xemul@virtuozzo.com>, 2017-04-13 18:30:16 +0300, , vdso speed proc pid map parse file parsed start nicer make use bfd engine save several syscalls pfs signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2371,1e1d0dde26ddb280d61dcff9bf6e698626c230e2,avel Emelyanov <xemul@virtuozzo.com>, 2017-04-13 18:27:13 +0300, , pycriu dont produce zombie running criu_dump zero pid self dump zombie library left underneath running process zombie thus written image signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2372,58c1309aac2114d005f30ff919bb04beae9f2b5c,mitry Safonov <dsafonov@virtuozzo.com>, 2017-04-21 23:28:11 +0300, , ia32 rename compat_cr naming left first compatible kernel patch time return bit task rt_sigreturn used special flag true anymore naming relate signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2373,2c425ed67c904aa358f1fb2d3ff52f11ebf2827a,avel Emelyanov <xemul@virtuozzo.com>, 2017-04-14 19:56:40 +0300, , sysctl use open_proc many sysctl_op read write single entry current implementaiton result two open two close open proc sys open rest better use open_proc latter already proc cached signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2374,f830c2d8d0e345722dc24f3a6101b8c4660bce34,mitry Safonov <dsafonov@virtuozzo.com>, 2017-04-21 14:15:05 +0300, , ia32 clearify 32bit compile disabled point ia32 disabled due missed package signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2375,33385148cb16c8bcf4b716f7e01d63fec0cd17d1,mitry Safonov <dsafonov@virtuozzo.com>, 2017-04-21 14:16:35 +0300, , kdat remove exec shamble exec deprecated removed drop ruin signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2376,7a1944ba00452bcbc594e6efc89577974890f829,avel Emelyanov <xemul@virtuozzo.com>, 2017-04-20 14:14:07 +0300, , file getpid vain opening file result getpid call pure syscall particular case value poitless log engine already print pid signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2377,e3538116f1abf86721b3bb5c3e92f24396649d09,avel Emelyanov <xemul@virtuozzo.com>, 2017-04-20 14:13:44 +0300, , restore parse proc pid thread single threaded task get real pid thread sometimes know value signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2378,f17b60eff386ac73d86741a430e0a487efe5589a,eronika Kabatova <vkabatov@redhat.com>, 2017-04-05 17:01:29 +0200, , extend parser accept negative option introducing negative option true false value original getopt_long parser kept since able set flag like value instead setting value switch needed type option needed changed integer getopt_long accept flag like value setting per getopt_long documentation address integer variable passed corresponding negative option added deprecated option patch preparation addition configuration file github issue 278 general idea feature global configuration file etc criu.d directory user specific configuration file home .criu.d directory possibility specifying chosen file used default file used none specified none case default one present break compatibility option configuration file possible overriden option specified command line hence negative option addition whole feature configuration file remove need specifying option command line possibility reusing file different use case overriding value specified case type option negative positive passed later one applied work philosophy overriding earlier option configuration file change since describe option prefix beginning option section man page help instead mentioning every eligible line also fix line length issue help fix accidental removal check_only case caused bad rebase use macro getopt_long struct option generating instead additional defines hardcoded line signed veronika kabatova vkabatov redhat.com signed andrei vagin avagin virtuozzo.com,,
2379,42cbc9e35880905630f39bacb94315ce581250b6,ike Rapoport <rppt@linux.vnet.ibm.com>, 2017-04-05 11:25:36 +0300, , script install debian package add libnl route dev signed mike rapoport rppt signed andrei vagin avagin virtuozzo.com,,
2380,b2009641c4fe5a867ae010a2eaa5303a44b9c306,drian Reber <areber@redhat.com>, 2017-02-08 16:06:00 +0300, , zdtm static fpu01 check osxsave instead xsave checking xsave availability make sense check osxsave check xsave way check work system booted noxsave kernel command line travis success zdtm static fpu01 check osxsave instead xsave signed adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
2381,8512efdf88e023b44bcad17e8411f1420680d187,irill Tkhai <ktkhai@virtuozzo.com>, 2017-01-26 12:58:00 +0300, , file unify make function generic want dup transport socket parent service fds opened moment clone parent yes currently transport socket travis success file unify signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2382,fce878938e33823123278d0bce06cb5f830a55e8,avel Emelyanov <xemul@virtuozzo.com>, 2017-04-24 11:46:26 +0300, , criu version 3.0 done huuge rework release 3.0 two biggest change compel library framwork parasite code injection 32bit x86 support note neither x32 support bit criu purely ability dump bit task bit host compel hand criu exec removed main set kudos cyrill dima heavy lifting thing include shutdown udp socket bind mount external bind mount asan extentions rpc rework sysvipc shmem dump format bugfixes beautification crit signed pavel emelyanov xemul virtuozzo.com,,
2383,0d76ff08833eefae1073b81bc7c6f83cb14f4419,mitry Safonov <dsafonov@virtuozzo.com>, 2017-04-19 16:31:46 +0300, , arm make add missed syscalls.s dependency compiling syscalls.s needed syscall aux.h header linked making sys asm type add deps fix file included compel arch aarch64 plugins std syscalls syscalls.s compel include uapi compel plugins std syscall codes.h 568 fatal error compel plugins std syscall aux.h file directory include compel plugins std syscall aux.h  compilation terminated pavel emelyanov xemul virtuozzo.com cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2384,f2504723c91aebfed2b9ce47dcaddefd328a057b,mitry Safonov <dsafonov@virtuozzo.com>, 2017-04-18 20:04:09 +0300,290, vdso ia32 separate compat vdso helper helper unmaps bit vdso blob call raw syscalls also reason code instrumented gcov asan disable instrumentation separating new object filtering gcov asan cflags fix 290 avagin rarely reproduces failed reproduce even gcov env00 test linux next please reopen 290 spot afterward reported andrei vagin avagin openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2385,164e048a8a3af3de4d18f8e4f45094362d4bb892,mitry Safonov <dsafonov@virtuozzo.com>, 2017-04-18 20:04:08 +0300, , zdtm ia32 print st_size long long fix compile time error fedora like file included function mainâ lib zdtmtst.h 123 error format ldâ expects argument type long intâ argument type __off64_t aka long long int werror format test_msg fail format errno signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2386,e98d16e77df30730cf8587b776629203e9aa3b15,mitry Safonov <dsafonov@virtuozzo.com>, 2017-04-12 20:29:34 +0300, , arm workaround shmat page coloring alignment please see incode comment issue attempt fix feature kernel http www.spinics.net list arm kernel msg258870.html send patch kernel correct justification still worth workaround older kernel mremap shmat make possible shmem armv7 cpu without fail even platform possible workaround change restore failure corruption shared memory restore still think worth applied following reason armv7 cpu vipt aliasing data cache armv6 cpu may popular ump sysv ipc shmem writable shmlba unaligned readable data corruption need migrate non vipt cached cpu vipt aliasing shmem migration platform quite likely copy case whole ipc namespace dump image cpu may fail quite likely zdtm transition ipc failed test think unlikely someone criu migrate armv7 armv6 unaligned writable shmem big warning restore restored application checkpoint reliably tell shmem need align target platform warned restoring wanted test cpuid vipt caching firstly cp15 coprocessor mean unavailable userspace one reliable way tell check couple first boot line dmesg 0.000000 cpu pipt vipt nonaliasing data cache vipt aliasing instruction cache signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2387,d7c86c8b024f622ae27766ee97970aaa26e50f2f,mitry Safonov <dsafonov@virtuozzo.com>, 2017-04-10 22:41:53 +0300, , arm32 makefile fix readable mapping getting flag noexecstack implies elf flag criu binary without flag kernel elf loader set personality bit loc elf_ex current personality flag checked sys_mmap prot prot_read current personality file path_noexec file f_path prot prot_exec result mmap syscall returning mapping readable mapping criu binary e.g  76fc4000 76fc5000 0001f000 131656 usr lib 2.25.so 76fc5000 76fc6000 00020000 131656 usr lib 2.25.so restore 76fc4000 76fc5000 0001f000 131656 usr lib 2.25.so 76fc5000 76fc6000 rwxp 00020000 131656 usr lib 2.25.so also make zdtm sad old map lost set 76f80000 76f81000 0120400 25000 26000 0120400 76f7d000 76f7f000 14a8000 14c9000 76f4a000 76f4c000 0120400 7ed3d000 7ed7f000 76f7f000 76f80000 0120400 24000 25000 0120400 76f4c000 76f50000 0120400 new map appeared set 76f7f000 76f80000 0120400 7ed3d000 7ed7f000 rwxp 76f4a000 76f4c000 0120400 76f80000 76f81000 rwxp 0120400 24000 25000 0120400 14a8000 14c9000 rwxp 25000 26000 rwxp 0120400 76f7d000 76f7f000 rwxp 76f4c000 76f50000 rwxp 0120400 maybe also need set arm64 even arch need tested first place add arm32 x86 already acked cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2388,057c3f2947aae5699cfb0e2b4904be0c6500fc50,mitry Safonov <dsafonov@virtuozzo.com>, 2017-04-10 22:41:52 +0300, , python specify python2 .py interpreter distro default python interpreter python result error running zdtm static socket tcp closed.hook post start make nothing done default socket tcp closed pidfile socket tcp closed.pid outfile socket tcp closed.out file zdtm static socket tcp closed.hook line except oserror  syntaxerror invalid syntax test zdtm static socket tcp closed fail hook post start running zdtm static socket tcp closed.hook clean file zdtm static socket tcp closed.hook line except oserror  syntaxerror invalid syntax traceback recent call last file zdtm.py line 1921 module do_run_test tinfo tinfo tinfo tinfo file zdtm.py line 1388 do_run_test try_run_hook clean file zdtm.py line 1053 try_run_hook raise test_fail_exc hook .join args instance 0x76294468 acked cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2389,692da1485aac3edee8865b8206a4c64cf8181e53,mitry Safonov <dsafonov@virtuozzo.com>, 2017-04-10 22:41:51 +0300, , arm compel add generated header .gitignore criu git status compel arch arm plugins std syscalls syscalls.s compel plugins include uapi std syscall aux.s compel plugins include uapi std syscall aux.h acked cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2390,ab33ae2d95359cabb9e211127c64fe2016e79f96,mitry Safonov <dsafonov@virtuozzo.com>, 2017-04-10 22:41:50 +0300, , test maps01 document mmap failure arm32 device often poor amount ram e.g. rpi2 board 1gb memory lead failure maps01 test try mmap 1gb memory failure test evident let document mmap error blow light situation acked cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2391,e77d36c375ce4ea4fb2f5c22d949fa58766879fb,avel Emelyanov <xemul@virtuozzo.com>, 2017-04-10 14:02:43 +0300, , crit beautify unix name recode unix socket name string byte print name use base64 encoding allow see socket name contains printable char custom encoding byte field used custom conversion signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2392,5e3509ba1649a5a7a5b6cd807dc672d08fa696f0,avel Emelyanov <xemul@virtuozzo.com>, 2017-04-10 14:02:00 +0300, , crit decode number string several place image file store integer number actually mean string e.g socket family state type task state criu .dict option field help convert number string back signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2393,fe974169a56bec09d36f83485ca7b5a595ae4794,drian Reber <areber@redhat.com>, 2017-04-06 17:03:29 +0200, , rpc add version check interface instead parsing output criu offer rpc interface get criu version follow patch test script included use new interface version.py connecting criu swrk mode check version rpc success criu major criu minor criu gitid v2.12 635 g6d3ae4d change export following version field major minor gitid optional sublevel optional extra optional name optional optional gitid field set criu built git signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
2394,bc169fefb1fa1460c33f4ffe5ea65c41901c7015,drian Reber <areber@redhat.com>, 2017-04-06 17:03:30 +0200, , rpc add script test new rpc version interface script connects criu swrk asks version running git checkout output would look like version.py connecting criu swrk mode check version rpc success criu major criu minor criu gitid v2.12 635 g6d3ae4d running git checkout look like version.py connecting criu swrk mode check version rpc success criu major criu minor running criu binary doe support version command version.py connecting criu swrk mode check version error service.c 116 rpc error invalid req success rpc unexpected msg type signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
2395,9d2e1dfebedfbb3229c6a7ef9a330ab7ebe001cf,avel Emelyanov <xemul@virtuozzo.com>, 2017-04-03 19:20:04 +0300,287, ipc keep shmem segment content pagemap page image right content sysvipc shmem segment stored raw blob ipcns shm image bad two reason first huge segment hole filled real zero image second prefer mix image object raw data fix let use shmem.c code keep anon shared memory content pagemap page image http github.com xemul criu issue 287 signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2396,0ba02b2cb5526ad3c4d572da8bfb2ad6e4880fc7,avel Emelyanov <xemul@virtuozzo.com>, 2017-04-03 19:19:48 +0300, , ipcns split routine signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2397,71d93a5a454147d0de353bdbfed4343aa92f0ca2,avel Emelyanov <xemul@virtuozzo.com>, 2017-04-03 19:19:33 +0300, , shmem split routine signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2398,3bdaf5a9d87e29ddfbc7fd75c1ae8185f7025930,mitry Safonov <dsafonov@virtuozzo.com>, 2017-04-05 14:32:59 +0300, , zdtm rely d_gnu_source passed makefiles commit 02c763939c10 test zdtm unify common code cflags d_gnu_source defined top makefile passed test makefiles _gnu_source also defined test resulted zdtm test build failure make entering directory home criu test zdtm lib test.o test.c error _gnu_source redefined werror define _gnu_source  command line note location previous definition cc1 warning treated error make test.o error however catch time travis zdtm.py make zdtm rather doe make test zdtm lib static transition calling middle makefile way _gnu_source cflags top makefile think right thing following criu way rely definition _gnu_source makefiles patch almost fully generated find test zdtm name type exec sed define _gnu_source exec sed define _gnu_source exception adding d_gnu_source test makefile.inc keeping behaviour zdtm.py also changed utsname.c use utsname domainname rather private utsname __domainname uncovered sys utsname.h struct utsname  ... ifdef __use_gnu char domainname else char __domainname endif reported adrian reber areber redhat.com kir kolyshkin kir openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2399,70ac7a10cd9d3b5bef2112121ca19aa3d5542c43,ndrei Vagin <avagin@virtuozzo.com>, 2017-03-30 02:34:01 +0300, , travis run test asan use devicemapper storage driver docker container run test aufs support file handle test e.g inotify00 run signed andrei vagin avagin virtuozzo.com,,
2400,444702c6425782e0c877de42f1818933dcf88dd2,avel Emelyanov <xemul@virtuozzo.com>, 2017-04-03 21:08:40 +0300, , compel print memfd ing task fails signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2401,fc9fea15af30fc23f97ab9cc94d284644e4402c1,avel Emelyanov <xemul@virtuozzo.com>, 2017-04-04 20:45:20 +0300, , soccr print error send_fin use logerr needed signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2402,5a7b90b5957049c6dd2b45e4504bbae72b642e5a,ndrei Vagin <avagin@virtuozzo.com>, 2017-03-30 22:00:57 +0300, , zdtm unix add zero character socket address abstract name contain zero character signed andrei vagin avagin virtuozzo.com,,
2403,8abb4a7f7fb339573e41ae17e25382aa883e7743,ndrei Vagin <avagin@virtuozzo.com>, 2017-03-30 22:00:56 +0300,1, unix unix name non null terminated string patch replace zero character error heap buffer overflow address 0x60300000e3ca 0x7f34144b6be1 0x7ffee7b6bb20 0x7ffee7b6b298 read size 0x60300000e3ca thread 0x7f34144b6be0 lib64 libasan.so.3 0x8dbe0 0x7f34144b8e4d lib64 libasan.so.3 0x8fe4d 0x4966cb vprint_on_level criu log.c 228 0x496b64 print_on_level criu log.c 249 0x505c94 criu unix.c 1401 0x4e7ae3 collect_image criu protobuf.c 213 0x462c5c criu restore.c 247 0x462c5c criu restore.c 1420 0x7f34132d70ec __clone lib64 libc.so.6 0x1030ec 0x60300000e3ca located byte right byte region allocated thread 0x7f34144efe70 malloc lib64 libasan.so.3 0xc6e70 0x7f3413bdb021 lib64 libprotobuf c.so.1 0x6021 signed andrei vagin avagin virtuozzo.com,,
2404,df9d94515f1a8c62c9681a69a6eea58bc1d196aa,ir Kolyshkin <kir@openvz.org>, 2017-03-28 18:10:34 -0700, , use open_proc possible using open_proc fopen_proc __open_proc better since openat come nice error reporting let use place even doe give improvement check.c error message unification good enough reason requested pavel emelyanov xemul virtuozzo.com signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2405,ba78d155578d5a8d78f4e0de5aa999c6cccc6dcf,ir Kolyshkin <kir@openvz.org>, 2017-03-23 15:02:11 -0700, , spring whitespace cleanup replace space tab code signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2406,f4e7b6e78f3051b5519d8fc384cabf1621add308,ir Kolyshkin <kir@openvz.org>, 2017-03-23 15:02:06 -0700, , criu namespaces.c correct pr_err pr_perror usage place errno available make sense show want use pr_perror place errno set used use pr_err dengguangxing dengguangxing huawei.com signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2407,16259242f58c4b45e159cd8e0893d6164ae34f7a,ir Kolyshkin <kir@openvz.org>, 2017-03-23 15:02:05 -0700, , criu namespaces.c fix pr_perror usage newline pr_perror already add one colon file name e.g open file file permission denied open file file permission denied kirill tkhai ktkhai virtuozzo.com dengguangxing dengguangxing huawei.com reviewed kirill tkhai ktkhai virtuozzo.com signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2408,9e1bde4d571282aceb1a5350c79cdd09b8a7cd9a,ir Kolyshkin <kir@openvz.org>, 2017-03-23 15:02:03 -0700, , pr_err forget newline unlike pr_perror pr_err doe append newline signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2409,88e5db749c94536e301a85d6690071f94246dd5b,ndrei Vagin <avagin@virtuozzo.com>, 2017-03-29 10:03:05 +0300, , zdtm print line error hard understand error without context signed andrei vagin avagin virtuozzo.com,,
2410,feff2efa9a45f1f0db9ec4247ce32bed2d6631d1,ndrei Vagin <avagin@virtuozzo.com>, 2017-03-29 23:15:00 +0300, , zdtm dumpable02 print non null terminated string signed andrei vagin avagin virtuozzo.com,,
2411,a2a07874d10c02f4f594c0ff265ecc9fd0b2342b,avel Emelyanov <xemul@virtuozzo.com>, 2017-03-31 18:49:59 +0300, , shm dump sysvshm twice content sysvshm area sometimes dumped twice first time via cr_dump_shmem since attachment segment noted add_shmem_area thus get list scanned former call second time dumped another thing 1st dump memory get standard pagemap page image pair 2nd time written plain byte array ipcns shm.img restore content read ipcns shm.img 2nd first way preferred let temporarily eliminate historically segment dumped restored 2nd way signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2412,afcbee3caa60a0e50ef75ba72f256671f9d03fde,ir Kolyshkin <kir@openvz.org>, 2017-03-29 15:21:20 -0700, , test zdtm static socket ext.c use mktemp prevent compiler warning signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2413,a773d9c215be7b60413713b7cdcc26704ad4ec93,ir Kolyshkin <kir@openvz.org>, 2017-03-29 15:21:19 -0700, , zdtm static maps03 run bit test compiled armv7 get maps03.c function main maps03.c error result 10l requires bit represent long int bit werror shift overflow mem void mmap null 10l prot_read prot_write  surely nature test look like need bit addressing signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2414,ef8bf4922447443248998c81021effe0e7a9acd8,ir Kolyshkin <kir@openvz.org>, 2017-03-29 15:21:18 -0700, , test zdtm static skip me.c generalize make possible use custom message telling test skipped signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2415,d9664e83cd4a4945d365967e4465b4bf671774f7,ir Kolyshkin <kir@openvz.org>, 2017-03-29 15:21:17 -0700, , test zdtm static makefile drop flag makefile know binary depends file file depends file add per target variable even indirect case therefore suffix needed note hurt leave commit done sake keeping thing simple signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2416,b02526f3469896617851ff34a5951c5894f4c471,ir Kolyshkin <kir@openvz.org>, 2017-03-29 15:21:16 -0700, , zdtm static makefile non existent test test name added commit 1ce1cca test use list since zdtm.py introduced therefore error went unnoticed found running make dep signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2417,50d799116820e41ec410eb0d565fd37f6a89fd59,ir Kolyshkin <kir@openvz.org>, 2017-03-29 15:21:15 -0700, , test zdtm unify common code commit expands success lib makefile rest ztdm makefiles particular move common part makefile.inc let lib static transition makefile use result dependency handled properly reduction makefiles length due unification possibly proper dependency build let also make rule criu rtc.so silent set default gcc remove duplicate m32 cflags signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2418,4dcceffe43afabdecf431220745dce72cee39d46,ir Kolyshkin <kir@openvz.org>, 2017-03-29 15:21:14 -0700, , test zdtm makefile stop override abuse gnu make override mean change variable even set make command line make var value intend modify cflags ldflags command line override dropped signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2419,98f25e915b85bd662ca69c8101db1482c5c31e7a,ir Kolyshkin <kir@openvz.org>, 2017-03-29 15:21:13 -0700, , test zdtm makefile simplify brevity soul wit signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2420,04db53367b2cf2e024e159e3c60cf3aa45044436,ir Kolyshkin <kir@openvz.org>, 2017-03-29 15:21:12 -0700, , test zdtm lib makefile fix optimizing travis run noticed test zdtm lib built time row first time binary 2nd 3rd time deps parallel sic took look makefile found problem like dependency generated included cleandep doe depend clean groups.c dependency generated used make doe make group binary overcomplicated unused group pid cleanout target extra flag etc patch hopefully fix addition provides enhancement enables silent make rule lib line rest zdtm add dep target used convenience signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2421,e4000c59a716f511644a9719a703610c54ebed92,ir Kolyshkin <kir@openvz.org>, 2017-03-29 13:15:58 -0700, , dockerfiles ignore make failure commit 299e4b4 travis enable ccache docker qemu build combined multiple run statement dockerfiles single one good performance intermediate cache created statement unfortunately partially combining statement use semicolon meaning ignoring non zero exit code result failure make ignored travis build green fix replace occurences semicolon signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2422,bc93f12abdd7e72d48930a69433246c843b90215,ir Kolyshkin <kir@openvz.org>, 2017-03-29 13:15:57 -0700, , compel hgen fix bit arm since commit 93db22b compel arm ldflags commit ce043d3 compel make plugins archive generated parasite restorer blob bit arm longer relocatable elf header e_type et_exec rather et_rel result unsupported header detected message failure compel hgen commit allows e_type et_exec case no_relocs defined sure still allow et_rel maybe dmitry chime dmitry safonov dsafonov virtuozzo.com signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2423,61a3156e878b81a7a47d0fa2b0a2439c42325d64,irill Tkhai <ktkhai@virtuozzo.com>, 2017-03-28 18:55:44 +0300, , unix pr_perror cleanup may rewrite errno call pr_perror firstly signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2424,e2c64a942c43c38551e104b8f4f1f9826d217314,ndrei Vagin <avagin@virtuozzo.com>, 2017-03-26 02:21:42 +0300, , zdtm static autofs stop child static test stopped zdtm.py compare file descriptor  signed andrei vagin avagin virtuozzo.com,,
2425,f62818d9adaa240554311afc5575547c40d1b04d,ir Kolyshkin <kir@openvz.org>, 2017-03-24 15:07:46 -0700, , compel arm ldflags commit d9486bd720 arm pie build produce relocatable parasite object removed ldflags used compile criu pie functionality somehow never made criu dev also lost master compel ported make work compel unfortunately simple initially thought flag built nmk patch remove add place need intermediate linking dmitry safonov dsafonov virtuozzo.com cyrill gorcunov gorcunov openvz.org acked cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2426,8b99809a4ea991b66b2fd7c3d92e3278be15a926,ir Kolyshkin <kir@openvz.org>, 2017-03-24 15:07:45 -0700, , compel make plugins archive objective parasite code linking link parasite object compel plugin let use rather way single invocation proper flag compel ldflags etc two trick order object linking important therefore compel plugins last add command line somehow want include parasite head.o output probably one else reference force modification linker script compel makefiles still big mess get acked cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2427,af572b3cf5776b1367436dd7e82d13bb51252ab1,ir Kolyshkin <kir@openvz.org>, 2017-03-24 15:07:44 -0700, , nmk sort lib object performing static linking order object important linker find undefined reference look forward never back therefore sorting object break thing required next patch cyrill gorcunov gorcunov openvz.org acked cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2428,f3a1dc5cc9c91d916976eb795003e2ce25785890,ir Kolyshkin <kir@openvz.org>, 2017-03-24 15:07:43 -0700, , compel plugins makefile clean remove .force used consolidate cflags stripping single line acked cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2429,37904cc91a712f27a739319fd9bb99a8fcc819d7,ir Kolyshkin <kir@openvz.org>, 2017-03-24 15:07:42 -0700, , criu pie makefile simplify fix way criu pie makefile currently written run twice link name obj object name.built in.o link name.built in.o pie.lib.a compel plugins name.built in.bin.o compel ldflags linker script absolutely need two stage linking compel ldflags arm need run first stage second stage without let simplify linking using single invocation third attempt think nailed time clean relatively simple  fix compel linker script dependency working rearrange makefile variable first rule remove comment mount implementation restorer note compel called prefix file path print also prefixed needed objectify macro ignore  acked cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2430,9cf884f02fe1c93ffa5fb5a52325e5beb0eaaf32,ir Kolyshkin <kir@openvz.org>, 2017-03-24 15:07:41 -0700, , criu pie clean remove useless ldflags dynamic linker used remove iquotes none defined consolidate filter statement single one acked cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2431,76de67f9bd8eb91664db8ce53b042f2df16509eb,ir Kolyshkin <kir@openvz.org>, 2017-03-24 15:07:40 -0700, , .gitignore remove leftover addition commit 3a7e027 criu pie switch use compel shipped lds script acked cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2432,75d0c5df9933443bb8828dd2b50df1fd81602165,ir Kolyshkin <kir@openvz.org>, 2017-03-24 15:07:39 -0700, , criu makefile criu pie iquote many directory include path let remove one refer blob pie prefix acked cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2433,28b3b60032225da90293979ebacda153851fd661,ir Kolyshkin <kir@openvz.org>, 2017-03-24 15:07:38 -0700, , criu pie makefile nuke src_dir missing hunk commit 85b04c8 makefiles nuke src_dir somehow escaped attention acked cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2434,6d8f8399ef63f10b6350300acd311b70e9f1db18,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2017-03-17 14:15:48 +0300, , compel wrap rt_sigframe parenthesis passed link real object signed stanislav kinsburskiy skinsbursky virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2435,55a140d48d792099f086d57a4f6568081e152821,ir Kolyshkin <kir@openvz.org>, 2017-03-23 15:02:04 -0700, , correct error message waitpid usually print pid wait let probably typo kirill tkhai ktkhai virtuozzo.com reviewed kirill tkhai ktkhai virtuozzo.com signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2436,132d0458eeeb0c1f4170c818ac9cb47c8d08bf37,ir Kolyshkin <kir@openvz.org>, 2017-03-23 15:02:01 -0700, , improve error message signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2437,7ac8ba5560865dfa6de27feb25105dd38b574d2e,ir Kolyshkin <kir@openvz.org>, 2017-03-23 15:02:00 -0700, , improve error message guess followup commit 59e80d4 determinate figure determinate verb english moved end cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2438,9301c5d6138f9cc21d677d0a20fb747e44926798,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2017-03-16 15:45:39 +0300, , compel return ptrace area helper back uapi helper valuable used outside signed stanislav kinsburskiy skinsbursky virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2439,983a762a0b3a67d763f957737d38627c666f4ba8,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2017-03-22 12:20:01 +0300, , zdtm mnt_ext_auto add different bind mount external mount dump 438 437 mtest zdtm static relatime tmpfs 439 437 mtest zdtm static relatime shared 144 tmpfs 440 437 mtest zdtm static relatime shared 144 tmpfs 441 437 mtest zdtm static relatime shared 145 master 144 tmpfs 442 437 mtest zdtm static relatime master 145 tmpfs log mount restored slave restored slave restored shared restored private bind external exactly way mnt_is_external look external fix test cover case mnt_is_external signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2440,742252a49ba2adf571791ba38758c83aa2d279a9,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2017-03-22 12:20:00 +0300, , mount migrate bindmounts external mount container external bindmount given criu ext mount map option admin container user bindmount subdirs external bindmount somewhere else inside container creating secondary external bindmounts criu fail restore unreachable sharing restore secondary external bindmounts bindmounting primary external bindmount external_bind mnt_is_external make mnt_is_external bool mnt_is_external without recursion add debug message propagate_mount bind set remove hunk previous patch signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2441,fded9a000c46ea0b417e53b2af281496860919be,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2017-03-22 12:19:59 +0300, , mount save ext_real_root external mount need check bindmount external mount note migrating criu patch criu without external mount mapping work support real_root ext_real_root add comment use ext_key field mapping put no_root_mount root old external signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2442,9b2acbe427fdf7e0ace351f7069a4149a1723626,irill Tkhai <ktkhai@virtuozzo.com>, 2017-03-21 12:04:31 +0300, , fix return collison return exit mixed function wrong must return caller want exit signed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2443,37887781e3fcf1313cfdaeebf8e3a47501389885,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2017-03-20 12:45:41 +0300, , mount remove excess external check external always false place signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2444,1f942ca84ad9769cfc1f8311ef4d347e82f2c82d,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2017-03-20 12:45:40 +0300, , mount fix confusing naming  signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2445,e3f0c52596ac569e86424664a398284aa469c88d,ir Kolyshkin <kir@openvz.org>, 2017-02-27 22:58:35 -0800, , travis add make uninstall test make uninstall supposed remove file make install argument created test check ideally make uninstall also remove empty directory let care signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2446,7290de590251eb260b0e57056b34d70f5c7a7dae,ir Kolyshkin <kir@openvz.org>, 2017-03-16 14:27:36 -0700, , travis enable ccache docker qemu build compile test non x86_64 architecture qemu emulation work pretty slow dmitry safonov suggested andrey vagin initially implemented supporting ccache build patch based heavily andrey work bug added purely mine though performance result ideal environment two build code one cold empty ccache another hot one saw compile time improvement total test run time improvement 2.5x layman term complete test run taking minute take note handling .ccache directory running docker build .ccache directory saved run travis moved criu source code root copied docker together criu source dockerfile .ccache get moved tmp ccache_dir set accordingly running docker build .ccache copied docker container back host saved travis ccache envorinment note needed otherwise ton time spent compression decompression big performance hit qemu ccache_cpp2 required clang see detailed explanation http 2011 ccache clang part 2.html logic setting ccache_cpp2 dockerfile somewhat fancy unfortunately able come simpler approach misc travis run ccache build completed call ccache called dockerfile make one compare number make invocation surrounded date call one get compilation time change consolidate dockerfile statement env run single object make test longer commented simplify make mrproper test signed kir kolyshkin kir openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2447,5204a193e7ce23dd13726368419f68364db1a18f,ir Kolyshkin <kir@openvz.org>, 2017-03-15 16:17:23 -0700, , test zdtm use separate compile link compatibility ccache cache compilation result let compile link separately disable implicit make rule write explicit one use silent make stuff already fixme figure help speed ccache build signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2448,29f9e6e2f1669dc2a48b20239765342ebfa02854,ir Kolyshkin <kir@openvz.org>, 2017-03-15 16:17:22 -0700, , travis enable ccache local build done local build i.e per arch docker build yet reason easier play ccache compiles relatively fast performance improvement build speed ideal case code hot cache absolute saving negligible example second instead note ccache compatible gcov enable non gcov build happens one clang signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2449,c903ddfcf1c7802d55caedd0a5991d9b1da01868,ir Kolyshkin <kir@openvz.org>, 2017-03-15 16:17:21 -0700, , script build makefile fix unify alpine non alpine build difference foreign arch build need preparation separate dependency unfortunately use wildcard target non wildcard one prevaling therefore somewhat ugly hack generate arch dockerfile arch dependency added  rename db_args db_cc mark clean phony make really run build nice side effect autocompletion make script build tab work signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2450,6866fd2e248880a5b493a90879f7f30ab767e89d,ir Kolyshkin <kir@openvz.org>, 2017-03-15 16:17:20 -0700, , travis fix clang build pointed andrey arch clang test using gcc regardless clang set travis environment frankly understand worked pretty sure worked way fix reported andrey vagin avagin virtuozzo.com signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2451,a6ed6964a2a1d467c1201c54e52e357f3012d95c,ir Kolyshkin <kir@openvz.org>, 2017-03-15 16:17:19 -0700, , compel ppc64 infect.c fix clang compilation generated clang 3.8 compel arch ppc64 src lib infect.c error unused function werror wunused function static inline void void  fix commit 3ea2fd7 signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2452,81a424aee433ab82d77f16a053f747b0ebedd429,ir Kolyshkin <kir@openvz.org>, 2017-03-15 16:17:18 -0700, , criu arch arm bitops.s fix clang compile clang 3.8 complains criu arch arm bitops.s error invalid instruction strneb assert word aligned  apparently see old asm syntax guess deliberately dropped clang http sourceware.org libc port 2013 msg00095.html kirill tkhai ktkhai virtuozzo.com signed kir kolyshkin kir openvz.org reviewed kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2453,905c4084cf434d639dc5e91b0bce43d72df1390b,drian Reber <areber@redhat.com>, 2017-03-16 17:38:18 +0100, , zdtm print test case summary also test case pas using keep going option zdtm print overview many test run failed skipped would also useful know fail patch change output like test passed total 297 skipped case failure unchanged test failed total 297 skipped zdtm static sched_policy00 zdtm static cgroup02 fail signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
2454,3edd0576f4cd1653a505c3ec13066830760a66ae,drian Reber <areber@redhat.com>, 2017-03-16 17:38:17 +0100, , zdtm fix decode_flav decode_flav flavor integer key flavor dict string signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
2455,6e4d05853d75d4e8a5cb41381eeb266ba62249e6,yrill Gorcunov <gorcunov@openvz.org>, 2017-02-20 11:33:42 +0300, , compel infect forget fetch early infecting victim construct sigframe able self rectore case something wrong case targer using alternative stack signal handling missed sigframe since fetch thus add fetching infection stage put signal frame early signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2456,e5de8986675a1870498742591be0b3cbcc2829b1,mitry Safonov <dsafonov@virtuozzo.com>, 2017-03-10 16:35:25 +0300, , x86 unmap vdso_rt redirecting call need leave part restorer restored task case inserted redirected call jump trampoline old vdso lead would painful land nowhere signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2457,684dbef1c8858aa6f45a73c6cfd0e5459432749d,mitry Safonov <dsafonov@virtuozzo.com>, 2017-03-10 16:35:24 +0300, , x86 rectify compatible jump trampoline reworked code little becomes readable drop macro config_x86_64 define use boolean compat_vdso check whether insert bit jmp signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2458,e56c642e3f816026a77928c7e09fda70a20d71c9,mitry Safonov <dsafonov@virtuozzo.com>, 2017-03-10 16:35:23 +0300, , vdso remove per arch declaration arch called generic code need redeclare parasite vdso.h included per arch header drop vdso_symtable forward declaration parasite vdso.h includes util vdso.h header defines structure signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2459,4d1cacec3c71c31afacad8e748bc571a66ee1688,yrill Gorcunov <gorcunov@openvz.org>, 2017-03-10 13:58:02 +0300, , mem use long memory size checkpointing application really big memory slab like vz7 test 920g memory int type get cutted use long int instead like code piece otherwise get vz7 criu sharing code pie 756 daemon wait command 01.193097 wait ack daemon socket 01.193112 fetched ack 01.193164 988065 fdinfo flag 100002 01.193201 fdinfo type 0xb flag 0100002 01.193279 988065 fdinfo flag 100002 01.193307 fdinfo type 0xb flag 0100002 01.193341 988065 fdinfo flag 100002 01.193365 fdinfo type 0xb flag 0100002 01.193375 01.193405 error criu parasite syscall.c 243 bug criu parasite syscall.c 243 pie 756 error criu pie parasite.c 676 trimmed message received signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2460,e4d1ae344640478a2f48e8d116262c8ad03822df,yrill Gorcunov <gorcunov@openvz.org>, 2017-03-03 18:39:16 +0300, , test add shutdown udp socket test signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2461,a155afda0b462529a19a901e2b49b99bc3fc6cf3,yrill Gorcunov <gorcunov@openvz.org>, 2017-03-03 18:39:15 +0300, , inet add support shutdown udp udplite socket supporting shutdown dgram socket udp udplite simple fetch state diag module record image upon socket creation restore state signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2462,4f3927a638fac38e00d8f36db3356d42de03a066,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2017-03-09 11:38:29 +0300, , fsnotify skip non direcory mount restore fsnotify watch file need find path using handle proc pid fdinfo fsnotifyfd handle valid open file mount file lay try possible mount fds file bind mount way open mount open file instead hang fifo fail socket see open_handle open_mount code path imagine lookup_mnt_sdev found file bind mount open_mount failed hanged irmap_lookup also successful whole dump fails file bindmount fifo file restore inotify file mount s_dev hang forever open skip non directory mount inotify search find path mount e.g non bindmount s_dev remove isdir hashing improve commit message make lookup_mnt_sdev handle nondir mount add comment move expensive check s_dev inverse mnt_is_dir error mnt_is_dir mount also skipped signed pavel tikhomirov ptikhomirov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2463,d29b00d820481e71bfa201c13bb286ad9f82ca3a,ndrei Vagin <avagin@virtuozzo.com>, 2017-03-23 08:12:12 +0300,299, mount dump content external mount external mount provided user criu need restore content http github.com xemul criu issue 299 reported stã phane graber signed andrei vagin avagin virtuozzo.com,,
2464,ceaa66034c6d49e06f3c6bd503de39d22f2936f9,ndrei Vagin <avagin@virtuozzo.com>, 2017-03-23 08:09:29 +0300,31663, mount collect mount required currently collect mount clean mount namespace required going call pivot_root http github.com docker docker issue 31663 signed andrei vagin avagin virtuozzo.com,,
2465,36ebce8d9cf1b05cec691c642fc63fc8bfe44918,avel Emelyanov <xemul@virtuozzo.com>, 2017-03-06 21:38:45 +0300, , compel test fds stealing example steal stderr descriptor victim task signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2466,a5752133c7327a9889092d45f485848471ed5bad,avel Emelyanov <xemul@virtuozzo.com>, 2017-03-06 21:38:29 +0300, , compel add recv helper libcompel.so user signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2467,6794c8c2a9e94f0de19da306f586589c3c9809cf,avel Emelyanov <xemul@virtuozzo.com>, 2017-03-06 21:38:17 +0300, , compel add fds plugin export reasonable name existing code sends receives fds via compel rpc socket  rebase recent criu dev fix parallel build signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2468,b502d7fd6b14ab8c006d650398264c8196d44787,mitry Safonov <dsafonov@virtuozzo.com>, 2017-03-07 15:55:29 +0300,1, compel pas regs pointer get_task_regs cid 73371 big parameter passed value pass_by_value pass_by_value passing parameter regs type size 224 byte value suggesting compel released api cut stone signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2469,72557edb1506fcab56a6c1390070c3fbee4cdeb6,mitry Safonov <dsafonov@virtuozzo.com>, 2017-03-07 22:37:17 +0300,1, compel ksigset fix ksigaddset flushing mask found coverity error cid 172193 bad bit shift operation bad_shift large_shift expression sig left shifting bit undefined behavior shift amount sig much  yes adding signal mask flushed signal mask signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2470,cda7d6b2f9e44704c18989f56166086800604d9d,mitry Safonov <dsafonov@virtuozzo.com>, 2017-03-07 22:37:16 +0300, , restorer unblock sigchld previously blocked criu purpose unblock previously blocked sigchld signal iirc block unblock dancing race sigchld may come switching restorer blob criu handler function already unmapped result segmentation violation sigchld blocked fix 3a61c38a5832 restore block sigchld remap task_entries andrei vagin avagin virtuozzo.com signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2471,eebfeb925b577651f44e1cfc14a7b027baab6129,ir Kolyshkin <kir@openvz.org>, 2017-03-04 21:42:51 -0800, , compel plugins uapi rename includes statement like include compel plugins plugin std.h look bit tautological think single plugins word enough include compel plugins std.h reviewed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com acked pavel emelyanov xemul virtuozzo.com signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2472,485a47babce4e91a5ed8497b354209009ada19b9,ir Kolyshkin <kir@openvz.org>, 2017-03-04 21:42:50 -0800, , compel plugins simplify includes first building compel plugins already compel include uapi ccflags asflags need add iquote include uapi second let refer compel plugin uapi includes uniform way choosing way external code doe i.e include compel ... third case simplify include statement including compel plugins plugin std.h instead number plugins std file reviewed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com acked pavel emelyanov xemul virtuozzo.com signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2473,9067c5c18f0b179dfe852dc9f5095271c2764d0f,ir Kolyshkin <kir@openvz.org>, 2017-03-04 21:42:49 -0800, , compel plugin std.h include log.h header everything std reviewed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com acked pavel emelyanov xemul virtuozzo.com signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2474,ef849f2df851a76eb34421fadd4b8229ec025c75,ir Kolyshkin <kir@openvz.org>, 2017-03-04 21:42:48 -0800, , compel makefiles simplify header install install copy recursively create directory even dereference symlinks everything uapi installed note use compel includes extra stuff want take particular plugins compel symlinks uninstall everything compel includedir fix minor thing reviewed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com acked pavel emelyanov xemul virtuozzo.com signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2475,31eab3e36dfcdd3255aaf6254254a75766719784,ir Kolyshkin <kir@openvz.org>, 2017-03-04 21:42:47 -0800, , compel nuke compel_main used anywhere unless someone plan let kill reviewed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com acked pavel emelyanov xemul virtuozzo.com signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2476,aa39838c32dba125fd2935b55e73bfbc3cbab9af,ir Kolyshkin <kir@openvz.org>, 2017-02-24 11:06:22 -0800, , compel fix uninstall slash directory missing number place resulted make uninstall leaving number file behind signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2477,ab90777ca1bca9414fdbe72a8e99d2ed9213279a,ir Kolyshkin <kir@openvz.org>, 2017-02-22 15:15:49 -0800, , makefiles protect rule rebuild gnu make try rebuild makefiles general good idea used e.g autoconf based build case necessary makefiles static say match anything rule subdirectory makefiles subdirs also matching rule lead excessive building particular makefile needed protect makefiles explicit pattern rule make know nothing rebuild signed kir kolyshkin kir openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2478,15a757f6be76511b2816fb461f3ff060561af6f9,ir Kolyshkin <kir@openvz.org>, 2017-02-22 15:15:48 -0800, , makefiles remove true apparently true used rule target non empty rule nothing target syntax let use eliminate unnecessary fork exec signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2479,f5ccecbdf2bba92600bf5443acbcf5927fc52c69,ir Kolyshkin <kir@openvz.org>, 2017-02-22 15:15:47 -0800, , makefile reorg top level clean mrproper mostly done order repeat recursive clean line twice signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2480,c30a793bece5e389721c758e0a23209b2466c87d,ir Kolyshkin <kir@openvz.org>, 2017-02-22 15:15:46 -0800, , makefiles get rid extra includes signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2481,85b04c8bfd89d9e077cbe1d3ada9d112149a0a0b,ir Kolyshkin <kir@openvz.org>, 2017-02-22 15:15:45 -0800, , makefiles nuke src_dir build done top source dir need src_dir reviewed dmitry safonov dsafonov virtuozzo.com signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2482,0f453c18ab0c19ac8a63298e1c82957516fe5208,ir Kolyshkin <kir@openvz.org>, 2017-02-22 15:15:42 -0800, , lib makefiles integrate whole system makefiles integrated top bottom meaning path sub makefiles relative top source dir sub makefiles executed via make build subdir target reason makefiles lib exclusion let fix side effect build individual target lib example make lib libcriu.so work use .force thanks dsafonov signed kir kolyshkin kir openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2483,67b7c98ef908fac710c1319bba5acf8c05e02930,ir Kolyshkin <kir@openvz.org>, 2017-02-22 15:15:41 -0800, , criu makefiles old compel leftover compel external tool let treat remove hardcoded path compel file provided via compel cli detail compel std plugin dependency dropped intermediate criu makefile order make sure plugin built pie top level makefile makefile.compel take care compel std plugin logic simplified criu pie makefile compel linker script dependency kept except linker script file name longer appears list object link linking compel std plugin moved second linking stage order simplify makefile side note actually avoid running linker twice compel binary dependency dropped criu pie makefile already top level makefile look criu deps reworked dsafonov comment keep compel deps signed kir kolyshkin kir openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2484,a90c07d6ddcb2df31fdf40ddc6ed7a94237cf452,mitry Safonov <dsafonov@virtuozzo.com>, 2017-02-16 19:20:45 +0300, , fault vdso restorer add force injection trampoline check jump trampoline vdso work acked cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2485,d4a60bb201cd647ae5d682dc92665f26dcc20187,mitry Safonov <dsafonov@virtuozzo.com>, 2017-02-16 19:20:44 +0300, , restorer fault add fault injection restorer acked cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2486,9062e59e5ef54aec2018e669c8e221415504f0be,mitry Safonov <dsafonov@virtuozzo.com>, 2017-02-16 19:20:43 +0300, , vdso move vmas traverse cycle vdso_proxify reduce fat long drop needle parameter vdso_proxify drop also find tuple logic needed really acked cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2487,2261748e418e55ec77375fa7fc719574a6c7de5c,mitry Safonov <dsafonov@virtuozzo.com>, 2017-02-16 19:20:42 +0300, , vdso drop excessive parameter vdso_proxify always dumpee used two pr_err message put right acked cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2488,2c34d08055f81f9bff17b37cf56cc6269a2e4b00,mitry Safonov <dsafonov@virtuozzo.com>, 2017-02-16 19:20:41 +0300, , vdso correct remap message log remapping line upper unmapped dumpee vdso vvar mremapping runtime host provided vdso vvar blob dumpee position correct message reflect remapped vdso vvar naming vdso_do_park acked cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2489,fcd18783bb5858211db58cd4a48ed4ecb75d12e8,mitry Safonov <dsafonov@virtuozzo.com>, 2017-02-16 19:20:40 +0300, , zdtm vdso01 ia32 add ia32 test version acked cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2490,6ae6cbdf46a9a94e95f0c775816c3e3810a0dc81,mitry Safonov <dsafonov@virtuozzo.com>, 2017-02-16 19:20:39 +0300, , zdtm vdso01 move vdso_symbols upper remove needed vdso_symbol_ _name defines acked cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2491,a206326396d5cf77fa6640d039e4f8d6f325a0b4,mitry Safonov <dsafonov@virtuozzo.com>, 2017-02-16 19:20:38 +0300, , zdtm vdso01 separate handler calling traversal acked cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2492,0f4b1220db486a27a460ac3e35d47a73ab08edf1,mitry Safonov <dsafonov@virtuozzo.com>, 2017-02-16 19:20:37 +0300, , x86 vdso add ia32 vdso symbol bit moment follwing entry   __vdso_time    __vdso_getcpu present bit vdso bit vdso __kernel_ fine two vdso blob present symbol considered comparison introduce would different size result quite painful conversion struct vdso_symtable fixed size e.g. inside parasite parameter needed described behavior vdso blob comparison acked cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2493,eaa79ea266a2b998c9bdf5a9eec75c3ad11a33e0,mitry Safonov <dsafonov@virtuozzo.com>, 2017-02-16 19:20:36 +0300, , ia32 vdso pretify helper mmaping 32bit vdso forward criu log helper actually print error help debug trouble helper like 273 log safely written opened criu o_append line buffered stdout buffered stderr stream anyway double safe simple synchronization helper criu one log time also expanded comment helper acked cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2494,63ccf14e22b9168a1a0908faf9d3c7b8b6ed0326,ir Kolyshkin <kir@openvz.org>, 2017-02-09 20:01:33 -0800, , criu include util.h unused macro macro use since mid 2012 commit 4806e13 protobuf convert vma_entry format guess time retire signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2495,8b745876da31352e0921bab542a13f6df4c71231,ir Kolyshkin <kir@openvz.org>, 2017-02-13 16:59:39 -0800, , compel std rename printing function let rename printing function name look like standard one putc put file descriptor __std_putc std_dputc __std_puts std_dputs standard putc put accept argument libc convention use prefix therefore note keep order argument intact line rest function printf __std_printk std_vdprintf __std_printf std_dprintf reason name libc function similar functionality argument dmitry safonov dsafonov virtuozzo.com cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2496,026968f63ae50840ca8e3e6968ab65324eaac6ea,ir Kolyshkin <kir@openvz.org>, 2017-02-13 16:59:38 -0800, , compel std_printf annotate printf function work like printf help compiler know check whether argument fit format string signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2497,6b5b2996d4859206fb57f92ca56453046135cab6,ir Kolyshkin <kir@openvz.org>, 2017-02-13 16:59:37 -0800, , annotate printf function work like printf help compiler know check whether argument fit format string signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2498,b1245247e2490a5bf3587c42e81d028879daaa01,ir Kolyshkin <kir@openvz.org>, 2017-02-13 16:59:36 -0800, , compel uapi add prefix log level part compel uapi prefixed compel_ order pollute namespace move set defines enum look bit cleaner also kill log_undef used anywhere signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2499,c1d4832d80085b88887f08c86a268458991fc731,ir Kolyshkin <kir@openvz.org>, 2017-02-13 16:59:35 -0800, , compel include log.h whitespace cleanup macro look twice long column terminal nothing justify width ahead remove extra tab keeping code within col signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2500,2b90a35bfc40afbb59a8bb74f33df98e6260a7cc,yrill Gorcunov <gorcunov@openvz.org>, 2017-02-15 01:30:11 +0300, , test fpu01 allow running compat mode support compat mode least partially test allowed acked dmitry safonov dsafonov virtuozzo.com acked pavel emelyanov xemul virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2501,51b10d686401129c7e1c08503295f2c0ec3f77be,yrill Gorcunov <gorcunov@openvz.org>, 2017-02-15 01:30:10 +0300, , compel arch x86 add support fpu restore ia32 compat mode support ia32 compat mode x86 need thing extend fpu_state_t type carry ia32 specific fill additional member type calling sigreturn also requires uc_mcontext fpstate aligned byte touch base type compel criu updated accordingly acked dmitry safonov dsafonov virtuozzo.com acked pavel emelyanov xemul virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2502,88014eb029f450c11c28f1e9f9aaf29f239334f6,yrill Gorcunov <gorcunov@openvz.org>, 2017-02-15 01:30:09 +0300, , compel arch x86 require compat frame alignment acked dmitry safonov dsafonov virtuozzo.com acked pavel emelyanov xemul virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2503,9f6edce06c3d8a2a21b14c8a196097122f4a6c2d,yrill Gorcunov <gorcunov@openvz.org>, 2017-02-15 01:30:08 +0300, , criu arch x86 require alignment compat frame compat mode fpu frame aligned bit due kernel specific acked dmitry safonov dsafonov virtuozzo.com acked pavel emelyanov xemul virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2504,c58e1bbc2fe0078c841a2d859fd3333ead5f4fc2,yrill Gorcunov <gorcunov@openvz.org>, 2017-02-15 01:30:07 +0300, , criu arch x86 drop native ia32 piece acked dmitry safonov dsafonov virtuozzo.com acked pavel emelyanov xemul virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2505,b729c187d51f1dffef10ea719c75b66b5772000b,yrill Gorcunov <gorcunov@openvz.org>, 2017-02-15 01:30:06 +0300, , compel arch x86 drop native ia32 piece never functional neither plan support native ia32 mode drop incomplete code piece presumably need task_size compat mode provide task_size_ia32 sake bit syscalls remaining acked dmitry safonov dsafonov virtuozzo.com acked pavel emelyanov xemul virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2506,909590a3558560655c1ce5b72215efbb325999ca,avel Emelyanov <xemul@virtuozzo.com>, 2017-02-10 13:27:00 +0300, , remove criu exec code obsoleted compel library maybe todo add compel tool exec action signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2507,e73434cc4cd5a5773c3014c6e358d32f4917050d,avel Emelyanov <xemul@virtuozzo.com>, 2017-02-10 19:48:00 +0300, , criu kill syscall types.h header signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2508,f233b86a02de369837098f069e0bc35c178d32da,ir Kolyshkin <kir@openvz.org>, 2017-02-13 13:00:33 +0300, , compel move memcpy memcpy etc stuff difference two commits criu dev b0f6f293 unify memcpy memset memcmp master 0367a1fe drop prefix memcpy memset memcmp make criu dev rebase master latter commit former commit rebase signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2509,735ffc1d7ef2c4d1eac17dfd10ca7250fca5b862,ir Kolyshkin <kir@openvz.org>, 2017-02-10 01:03:00 +0300, , sanitize task_ value first task_ defines provided compel prefixed compel_ complication constant also used criu even writted image meaning change value one way solve would untie compel value criu one using mapping two set needed i.e call  fortunately avoid implementing mapping separating range used compel criu patch compel using value range 0x01 0x7f criu reusing plus adding value range 0x80 0xff purpose note tha value used inside image changed luckily used compel travis success compel uapi cleanup rev2 signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2510,99e27b1dbc6ca23491df52ad44dfd010d3a6790d,ir Kolyshkin <kir@openvz.org>, 2017-02-08 06:36:12 -0800, , compel include uapi infect.h circular inclusion infect.h includes compel.h compel.h includes infect.h surely due include guard sorted rather include need travis success compel uapi cleanup signed kir kolyshkin kir openvz.org reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2511,c18aa3e7fb8d4c7d76120b1a4b246581902552fb,ir Kolyshkin <kir@openvz.org>, 2017-02-08 06:36:11 -0800, , compel add compel_ prefix cpu_has_feature travis success compel uapi cleanup signed kir kolyshkin kir openvz.org reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2512,adaa7979be6feabbd356d11fafba4766a225a4fc,ir Kolyshkin <kir@openvz.org>, 2017-02-08 06:36:10 -0800, , compel split sanitize ptrace.h ptrace defines function part uapi internal stuff exposed split ptrace.h two file accordingly cleanup add ptrace_ prefix function macro remove duplicated ptrace_ defines file rename ptrace_seccomp remove duplicate remove unused ptrace defines remove unneeded ptrace related includes travis success compel uapi cleanup signed kir kolyshkin kir openvz.org reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2513,e23c1d4ed942b9cd970d523a81e52dc5750af86d,ndrey Ryabinin <aryabinin@virtuozzo.com>, 2017-02-06 13:14:17 +0300, , zdtm.py run test asan_options run criu asan use non default option detect_leaks many leak know let disable fixed without asan library change rlimit_core break rlmimits00 test log_path asan.log reason default output stderr sometimes work criu error log stored asan.log pid file instead travis success series starting compel infect fix bound parasite memcpy signed andrey ryabinin aryabinin virtuozzo.com reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2514,148929d6d92e919d42d4b079a46ff9f2eae5e694,ndrey Ryabinin <aryabinin@virtuozzo.com>, 2017-02-06 13:14:16 +0300, , restorer workaround asan false positive clone asan play nicely clone use current stack child task asan put local variable fake stack catch use return bug http github.com google sanitizers wiki algorithm become easy overflow fake stack frame cloned child need real stack clone workaround add clone_noasan instrumented wrapper clone unfortunately use __attrbute__ bug gcc http gcc.gnu.org bugzilla show_bug.cgi 69863 way put wrapper separate non instrumented file travis success series starting compel infect fix bound parasite memcpy signed andrey ryabinin aryabinin virtuozzo.com reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2515,706c05529f599ec8dfdedf9c0b6c51daaa81ab2f,ndrey Ryabinin <aryabinin@virtuozzo.com>, 2017-02-06 13:14:15 +0300, , makefile add cflags allows build criu enabled make asan travis success series starting compel infect fix bound parasite memcpy signed andrey ryabinin aryabinin virtuozzo.com reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2516,abec5dabe34ed8cfebda2008c581fdec48a95f57,ndrey Ryabinin <aryabinin@virtuozzo.com>, 2017-02-06 13:14:14 +0300, , makefile introduce per file cflags removal add reverse cflags_obj.o allows prevent certain cflags used compile file travis success series starting compel infect fix bound parasite memcpy signed andrey ryabinin aryabinin virtuozzo.com dmitry safonov dsafonov virtuozzo.com reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2517,311463469829a559d0d3bcfb1c17b6cc3a4bf4b2,mitry Safonov <dsafonov@virtuozzo.com>, 2017-02-06 13:14:13 +0300, , compel infect copy gotpcrel parasite blob need gotpcrel inside parasite blob handle relocation remote map compel library reading parasite blob header travis success series starting compel infect fix bound parasite memcpy signed dmitry safonov dsafonov virtuozzo.com signed andrey ryabinin aryabinin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2518,beed3195500bf49b955d6d9585041745a328a907,mitry Safonov <dsafonov@virtuozzo.com>, 2017-02-06 13:14:12 +0300, , compel infect fix bound parasite memcpy need copy parasite copy page aligned size copy part criu binary follows parasite blob cross red zone fire asan error travis success series starting compel infect fix bound parasite memcpy signed dmitry safonov dsafonov virtuozzo.com signed andrey ryabinin aryabinin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2519,af73eda388a126c00ccdc2ec34881db059642d80,mitry Safonov <dsafonov@virtuozzo.com>, 2017-02-01 16:48:00 +0300, , x86 compat clean symlinks left second parasite symlinks building bit object m32 link bit parasite since dropped second parasite cleaned makefile rule bit parasite accidentally left symlinks drop travis success x86 compat clean symlinks left second parasite signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2520,165cd1ee61f5d581710c2bc9e9c1729962f62804,ir Kolyshkin <kir@openvz.org>, 2017-01-27 20:11:00 +0300, , criu pie kill util fd.c function provides send_fds receive_fds already provided compel plugins std.built in.o compel plugins std fds.c linked parasite restorer fix following issue reason reported armv7 see http travis ci.org kolyshkin criu job 195367825 link criu pie parasite.built in.o gen criu pie parasite.built in.bin.o criu pie pie.lib.a util fd.o function send_fds criu include common scm code.c multiple definition send_fds criu pie parasite.built in.o criu include common scm code.c first defined criu pie pie.lib.a util fd.o function recv_fds criu include common scm code.c multiple definition recv_fds criu pie parasite.built in.o criu include common scm code.c first defined criu pie makefile recipe target criu pie parasite.built in.bin.o failed make criu pie parasite.built in.bin.o error travis success criu pie kill util fd.c signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2521,b4aa7a37bd846eea62a08e1f0085e77fe97b1dd6,ir Kolyshkin <kir@openvz.org>, 2017-01-27 19:08:00 +0300, , criu arch x86 makefile move asflags manner similar one commit 9303ed3 makefiles move noexecstack cflags let move option assembler linker flag see abovementioned commit reasoning fix generating dependency criu arch x86 call32.s using clang dep criu arch x86 call32.d clang 3.8 error argument unused compilation noexecstack dep criu arch x86 call32.d clang 3.8 error argument unused compilation noexecstack travis success criu arch x86 makefile move asflags rev2 signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2522,253f53ac8a21dc1cc274d365c1cb0d451b6f2f62,mitry Safonov <dsafonov@virtuozzo.com>, 2017-01-27 17:11:00 +0300, , make regenerate blob linker script lds change travis success make regenerate blob linker script lds change signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2523,95817e952eba5baf19f5c6ac93e4309f5ec696c6,irill Tkhai <ktkhai@virtuozzo.com>, 2017-01-25 12:46:19 +0300, , compel define __sys_err scm stuff signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2524,1aea2b98d82d95ae2d1465a19fa0c2b79e3ee62b,mitry Safonov <dsafonov@virtuozzo.com>, 2017-01-20 18:49:00 +0300, , zdtm sigpending check byte _si_fields kernel doe touch relevant union member x86_32 travis success zdtm sigpending check byte _si_fields andrei vagin avagin virtuozzo.com signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2525,a84e65a63b156ff74207fcb70268d1147ab8c828,mitry Safonov <dsafonov@virtuozzo.com>, 2017-01-19 19:24:00 +0300, , zdtm test rtc build bit criu rtc.so library plugin criu need bit travis success zdtm test rtc build bit criu rtc.so signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2526,86f811eb5c33aa10666c5d5a22c6bc88cc2238d9,mitry Safonov <dsafonov@virtuozzo.com>, 2017-01-19 15:11:00 +0300, , test zdtm use flock64 instead flock bit fcntl glibc function call sys_fcntl64 need struct flock64 otherwise kernel get wrong struct bit also unset errno fcntl check return value call qiang huang h.huangqiang huawei.com begunkov pavel asml.silence gmail.com pavel emelyanov xemul virtuozzo.com travis success test zdtm use flock64 instead flock signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2527,6cacaa69d676dba8f807a644152c95da75f982f8,mitry Safonov <dsafonov@virtuozzo.com>, 2017-01-18 19:26:00 +0300, , x86 compat fix error check compat mmap raw sys_mmap return address error like enomem check map_failed check result aligned page travis success x86 compat fix error check compat mmap signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2528,f5cad87d5b49238116e493980c837a95f8708158,mitry Safonov <dsafonov@virtuozzo.com>, 2017-01-10 17:32:00 +0300, , check add compat_cr check initialy thought name compat_restore dropped second bit parasite surely made compat code lesser easier parasite work bit bit task ptrace setting register long jumped situation work correctly v4.9 kernel maybe work arounded needed yet compatible dump pre v4.9 kernel requested andrei vagin avagin virtuozzo.com signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2529,2775c8f810235c0cb1bea8213296bdcacde2056b,mitry Safonov <dsafonov@virtuozzo.com>, 2017-01-09 20:19:11 +0300, , x86 restorer compat let stack32 per thread thread restore parallel stack32 may reused concurrently leading reusing others thread data let lay stack would still worth making bit stack per task reusing thread moment introducing complexity look like premature optimization doe affect bit fix file_aio sigaltstack clone_fs socket_aio different_creds futex travis success bit test fix signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2530,cbde93e12e7029799a0cfc54a29d798f6a767be5,mitry Safonov <dsafonov@virtuozzo.com>, 2017-01-09 20:19:09 +0300, , compel x86 clang 3.4 friend number macro workaround clang 3.4 handle number asm macro rightly http llvm.org bug show_bug.cgi 21500 resulted compel arch x86 plugins std parasite head.o instantiation error operand instruction pushq  compel arch x86 plugins std parasite head.s note macro instantiation parasite_entry  fix http travis ci.org 0x7f454c46 criu job 186099057 travis success bit test fix signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2531,be783a3768ca0082314b4f012e580fc4551619e4,mitry Safonov <dsafonov@virtuozzo.com>, 2017-01-09 20:19:08 +0300, , compel x86 hang bit mode break compat task otherwise try set bit register set bit task possible ptrace register set size according process mode set bit regset task bit mode already please see inline comment patch info travis success bit test fix cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2532,08cbdefb020f4d575fd940865245ebdc5b33abcf,mitry Safonov <dsafonov@virtuozzo.com>, 2017-01-09 20:19:07 +0300, , x86 compat set config_compat v4.9 newer kernel bit multilib toolchain result config_compat return true new arch_prctls kernel needed compatible fail compat test case travis success bit test fix reported andrei vagin avagin virtuozzo.com signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2533,dd6736bd247905484df37335108c7299959868e5,mitry Safonov <dsafonov@virtuozzo.com>, 2017-01-09 20:19:06 +0300, , compel x86 compat pack ucontext_ia32 united k_rtsigset_t native compat ucontext byte aligned care align fill always memcpy memset change ucontext_ia32 received new padding uc_mcontext uc_sigmask byte align byte sized sigmask mask blocked signal restored shift wrongly fix signalfd00 file_attr test travis success bit test fix signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2534,e84d24d9f272748d28c4c725e155a9858e067bcf,ndrei Vagin <avagin@virtuozzo.com>, 2017-01-09 10:48:00 +0300, , zdtm handle compat_test makefile.inc case work make commangs example make compat_test test zdtm lib travis success zdtm handle compat_test makefile.inc dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2535,983ed43f516dc75c0d650deb4db5eed89acd0d60,ir Kolyshkin <kir@openvz.org>, 2017-01-07 15:52:50 -0800, , criu makefile fix criu arch rebuild problem touch criu arch x86 cpu.c nothing rebuilt detailed analisys see previous commit criu makefile fix rebuilding criu pie pie.lib.a note target criu makefile one might want add .force needed depend another target marked .phony travis success makefiles fix deps checking signed kir kolyshkin kir openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2536,6e70d6941e15677d68ea94363ed2dbb38ee18893,ir Kolyshkin <kir@openvz.org>, 2017-01-07 15:52:49 -0800, , criu makefile fix rebuilding criu pie pie.lib.a reported andrei vagin touch criu pie parasite vdso.c doe lead rebuild pie.lib.a dependency happened real dependency criu pie pie.lib.a listed criu pie never included called sub make criu makefile say criu pie pie.lib.a arch lib make call build criu pie essentially saying need call sub make target absent arch lib newer target workaround use .force always called dependency checked note also true target involves calling sub make either used .force otherwise depend phony target checked criu makefiles suspect might case like one travis success makefiles fix deps checking cyrill gorcunov gorcunov openvz.org reported andrei vagin avagin virtuozzo.com signed kir kolyshkin kir openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2537,4464274c1f7c305fb2118f0f28726ed6c6966857,yrill Gorcunov <gorcunov@openvz.org>, 2016-12-23 12:05:00 +0300, , .gitignore add compel common asm symlinks travis success .gitignore add compel common asm symlinks signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2538,2e9ae927841bbd7debdb13a51ae3a379bd691309,ir Kolyshkin <kir@openvz.org>, 2016-12-17 03:22:17 -0800, , compel cli make optional yet another nail coffin compel cli usage complexity since commit cd1c9d9 compel simplify usage wrt landed became obvious newly introduced option made optional first prefix value important second easily generated input output file name commit doe also trying check resulting prefix adeqate using code case say file name used 1.po 1.h error printed suggesting use prefix commit also make use functionality removing option compel test infect criu pie makefiles let also remove kludge hiding output generated ever needed one easily run compel hgen ... manually travis success polishing compel cli signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2539,ad2e322204d91af104eccbb1f0e6ea24afa6a5d3,ir Kolyshkin <kir@openvz.org>, 2016-12-17 03:22:16 -0800, , compel cli add libs command use add compel libs print list library needed link parasite loader make compel test criu use travis success polishing compel cli signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2540,7ad7ee4d6cd8fa3b5fc8057f85f0e3983cf6e97e,ir Kolyshkin <kir@openvz.org>, 2016-12-17 03:22:15 -0800, , compel cli add plugins cmd use compel user aware compel internals including path various file commit introduces command get plugin file well currently one plugin std example uninstalled compel compel test infect compel compel host plugins compel plugins std.built example installed compel compel plugins usr libexec compel std.built in.o commit also make use command compel test infect criu pie travis success polishing compel cli signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2541,616c6d172a0062bc9ef679e7c09a8025cb5f1410,ir Kolyshkin <kir@openvz.org>, 2016-12-17 03:22:14 -0800, , compel test infect makefile fix dependency commit 8173ea2 compel test infect makefile add source bad one removed dependency parasite.h spy binary fix travis success polishing compel cli signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2542,24aa5f4b0443d552c37edbde122463cabc8b81d8,ir Kolyshkin <kir@openvz.org>, 2016-12-17 03:22:13 -0800, , criu pie makefile nitpick since commit 656710e list prerequisite list object use avoid repetition travis success polishing compel cli signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2543,d4ddc01654035900f7d4dbbde1ec06ee15062f56,ir Kolyshkin <kir@openvz.org>, 2016-12-17 03:22:12 -0800, , compel makefile install bin sbin compel tool need run root make sense install sbindir fix use bindir travis success polishing compel cli signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2544,9f41af0325dade01d7fbf8aad4e96b70ecd3d664,ir Kolyshkin <kir@openvz.org>, 2016-12-17 03:22:11 -0800, , compel cli add linker script ldflags use commit add path linker_script output compel ldflags compel user doe specify one manually commit also make use functionality criu pie compel test note commit also drop linker script dependency criu pie makefile meaning changed cause rebuild hope big issue sort inevitable compel becoming separate tool travis success polishing compel cli signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2545,e3a9aefae4c1b45783f50e389f721478095e499e,ir Kolyshkin <kir@openvz.org>, 2016-12-17 03:22:10 -0800, , criu makefiles use compel includes instead hardcoding path compel uapi includes call compel tool get one travis success polishing compel cli signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2546,96f3f1b64f6a7aacff8f19bb2aaea2b68d017c69,ir Kolyshkin <kir@openvz.org>, 2016-12-17 03:22:09 -0800, , makefile untangle criu deps build criu binary depends many thing need built let clean deps bit using criu deps variable also remove wrong version_header include common asm dependency one certainly succeed generating criu include version.h file without creating include common asm symlink fist travis success polishing compel cli signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2547,a502750a3d6163f41f67396e6228620b1dd846b3,ir Kolyshkin <kir@openvz.org>, 2016-12-17 03:22:08 -0800, , makefile.compel simplify compel deps working criu makefilest feel like walking minefield attempt demine make mine bit easier notice trying drop src_dir prefix target top level makefile use path relative top level source dir drop src_dir symlink use relative one relative symlinks always better say source directory moved everything still work compel include asm compel arch arch src lib include dependency useless yes left side created symlink right side mean make compare timestamps decide whether remake target compel include asm dependency wrong compel include asm symlink needed generation remove move compel plugins std.built in.o prerequisite rule compel plugins variable use travis success polishing compel cli signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2548,ea0cc75ab34d07da56a91aee62b7660c4eaa342b,ir Kolyshkin <kir@openvz.org>, 2016-12-17 03:22:07 -0800, , compel make include uapi asm symlink permanent similar previous commit absolutely need create remove symlink makefiles made constant one add symlink source save line makefiles travis success polishing compel cli signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2549,e0fcf550c6b77ebb801f0768827ff31e821c8740,ir Kolyshkin <kir@openvz.org>, 2016-12-17 03:22:06 -0800, , compel make include uapi symlink permanent absolutely need create remove symlink makefiles constant add symlink source save line makefiles travis success polishing compel cli signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2550,597d40a022ad68a95c4e844094d6217f2e31e29a,ir Kolyshkin <kir@openvz.org>, 2016-12-17 03:22:05 -0800, , makefile.compel fds plugin commit 3c16dc5 compel plugins merge fds plugin std fds plugin remove leftover travis success polishing compel cli signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2551,509d4205ae778d61a186b143734c893c063d740a,ir Kolyshkin <kir@openvz.org>, 2016-12-17 03:22:04 -0800, , makefiles introduce use compel_bin call compel host binary number place let add compel_bin variable use travis success polishing compel cli signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2552,545bac9b623805de0a83e35d68cbd35990211982,ir Kolyshkin <kir@openvz.org>, 2016-12-17 03:22:03 -0800, , makefiles compel plugins ... cflags noticed compel plugins include uapi needed entirely sure added symlinks everything compiles fine without travis success polishing compel cli signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2553,51c4569cd901f1af4278a81547d0a53d3330541c,ir Kolyshkin <kir@openvz.org>, 2016-12-17 03:22:02 -0800, , compel cli show includes add compel includes command used parasite loading code compilation add includes output compel cflags used parasite code compilation patch look big complex mostly want compel cli work uninstalled right source tree installed case path printed quite different two case introduce wrapper non installed case wrapper set environment variable compel binary path non installed file env var set mean compel installed trick needed note wrapper provided compel host binary compel differs compel host case cross compiling executed within source tree wrapper original binary renamed thus change makefiles .gitignore travis success polishing compel cli signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2554,f53189c520bf61dd40c91a0c09a145e5f53474ca,ir Kolyshkin <kir@openvz.org>, 2016-12-17 03:22:00 -0800, , compel cli print usage stderr case error mainly dictated fact use stdout compel flag special way garbled usage info otherwise example following code makefile cflags shell compel badopt cflags lead whole usage output added compiler flag look really really weird travis success polishing compel cli signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2555,dfee3232e60735c011e7fef9f6f9630f8b2be08c,ir Kolyshkin <kir@openvz.org>, 2016-12-17 03:21:59 -0800, , compel cli kill arch option add compat need support possible architecture compel cflags action fact compel hgen support one compiled exception bit mode x86 look like use ifdefs need specify arch anymore let drop still x86 bit mode need introduce compat option note compel hgen autodetects bit mode x86 looking elf header case compel clfags file look need compat specified explicitly  makefile define config_aarch64 building arm64 fail compile unsupported unspecified arch make compel help output bit compact travis success polishing compel cli signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2556,a49d44d2b34ccb694134a4f4abe9ec995aa15f95,ir Kolyshkin <kir@openvz.org>, 2016-12-17 03:21:58 -0800, , compel src main.c useless init since field initialized zero say since static initialized zero anyway pov explicit better travis success polishing compel cli signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2557,4b86502585f11d94a1162b0329fc7cb691ccf5f3,ir Kolyshkin <kir@openvz.org>, 2016-12-17 03:21:57 -0800, , compel makefile unused .force thing travis success polishing compel cli signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2558,1be75af874aba6515167462b69741309dd1dd2a6,ir Kolyshkin <kir@openvz.org>, 2016-12-17 03:21:56 -0800, , compel_syscall make ret argument signed saw line code unsigned long sret enosys ended patch note syscall man page say return value long disagree travis success polishing compel cli signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2559,7d181cda7376a0ea97fecd9e5376aa09cd1e19ef,ir Kolyshkin <kir@openvz.org>, 2016-12-17 03:21:55 -0800, , compel test makefiles cleanup remove common_idir need make build process look complicated use standard cflags defines one use say make clang drop dependency compel_library supposed external file tool add wall cflags simplify arch setting infect test drop arch rsys test used travis success polishing compel cli signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2560,5254258604235c077a89e4bd27dda0aa59a2b685,ir Kolyshkin <kir@openvz.org>, 2016-12-17 03:21:54 -0800, , compel help fix indentation travis success polishing compel cli signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2561,4120f64d3d6c36ad284c05340eab96470c48819f,mitry Safonov <dsafonov@virtuozzo.com>, 2016-12-14 19:40:00 +0300, , pie fix clobber register int 0x80 managed forgot kernel era ... r11 regitster prior returning userspace int 0x80 http lkml.org lkml 2009 164 reason hang gcc v6.1 jenkins elsewhere http ci.openvz.org job criu job criu x86_64 branch criu dev tested gcc v6.1 locally travis http travis ci.org 0x7f454c46 criu build 183976899 travis success pie fix clobber register int 0x80 rev2 signed dmitry safonov dsafonov virtuozzo.com tested andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2562,5e87137e73d82aa2da6d0e162bc42ee35a1f4da9,avel Emelyanov <xemul@virtuozzo.com>, 2016-12-13 16:55:38 +0300, , criu fix compilation prev patch signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2563,574fe35699d9408194e7e033fcf713311e0ee34b,mitry Safonov <dsafonov@virtuozzo.com>, 2016-12-09 21:19:49 +0300, , compel compat fixup head_start addr resolve merge conflict commit 71abfb84e158 compel simplify usage wrt set start parasite blob according app mode native compat travis success rectify bit compatible x86 signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2564,dc633d867905cb6388d385a6bb1aaf9b4d66ef29,mitry Safonov <dsafonov@virtuozzo.com>, 2016-12-09 21:19:48 +0300, , x86 enable compatible back supported v4.9 kernel following commits may backported needed b059a453b x86 vdso add mremap hook e38447ee1 x86 vdso unmap vdso blob vvar mapping failure 576ebfefd x86 vdso replace calculate_addr map_vdso addr 2eefd8789 x86 arch_prctl vdso add arch_map_vdso_ 90954e7b9 x86 coredump use pr_reg size rather tif_ia32 flag cc87324b3 x86 ptrace tif_ia32 684635105 x86 signal add sa_ x32 ia32 _abi sa_flags ed1e7db33 x86 signal remove bogus user_64bit_mode check  required patch list may checked also http criu.org travis success rectify bit compatible x86 signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2565,4d68ca5c94f02129ee3c08e03efcd52e24ddec74,mitry Safonov <dsafonov@virtuozzo.com>, 2016-12-09 21:19:47 +0300, , x86 parasite call get_thread_area bit addr bit syscall high part address dropped call bit addr travis success rectify bit compatible x86 signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2566,fa46f917390c6c6b20f6d12cd8f61910350212c3,mitry Safonov <dsafonov@virtuozzo.com>, 2016-12-09 21:19:46 +0300, , parasite x86 always try dump bit parasite bit compat app bit application also gdt simplify always dump bit syscall get_thread_area syscalls low cost note entry point bit need call raw int80 bit syscall number travis success rectify bit compatible x86 signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2567,dfa1d636cd2275e7ac2c885deb8927a1b17114f2,mitry Safonov <dsafonov@virtuozzo.com>, 2016-12-09 21:19:45 +0300, , kdat check compat support eexist error reliable way check support mapping bit blob travis success rectify bit compatible x86 signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2568,fa2e8f76be90e24082c7b3f93a7db013f89620cb,mitry Safonov <dsafonov@virtuozzo.com>, 2016-12-09 21:19:44 +0300, , x86 restorer simplify restoring live without bit syscall depend descriptor type functional change expected cleanup travis success rectify bit compatible x86 signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2569,b7c4ca512f7ae473a33254a535a4eae35da0e8f1,mitry Safonov <dsafonov@virtuozzo.com>, 2016-12-09 21:19:43 +0300, , vdso try fill symtable compat task parasite parasite bit want check vma vdso need link parasite blob util vdso elf32 luckely need mremap compat vdso work v4.8 kernel commit b059a453b1cf x86 vdso add mremap hook kernel vdso always reported proc ... map rightly need check travis success rectify bit compatible x86 signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2570,3755e414ec6a3b93a471f81a36b951ddb124c9dc,mitry Safonov <dsafonov@virtuozzo.com>, 2016-12-09 21:19:41 +0300, , restorer vdso use compat vdso symtab restorer need fill symtab restorer previous commit add vdso filling startup vdso_init possible use symtab size need travis success rectify bit compatible x86 signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2571,b6eb6f16f866db0c801e0000169c3e1bccca3696,mitry Safonov <dsafonov@virtuozzo.com>, 2016-12-09 21:19:40 +0300, , vdso compat parse compat vdso vdso_init add helper parse compatible vdso blob time vdso_init following patch remove parsing vdso restorer travis success rectify bit compatible x86 signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2572,001b9033b0303d6e96f3a14e340106f769347c12,mitry Safonov <dsafonov@virtuozzo.com>, 2016-12-09 21:19:39 +0300, , vdso fill compat symtab criu next patch remove filling restorer symtable compat task travis success rectify bit compatible x86 signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2573,598aceb643987dc84b55e6b60587dc6e811fb659,mitry Safonov <dsafonov@virtuozzo.com>, 2016-12-09 21:19:38 +0300, , vdso separate validation need validate compat vdso vvar positioning way travis success rectify bit compatible x86 signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2574,f7b966b4ae4142c32355552d6b7763dc1d1f76d6,mitry Safonov <dsafonov@virtuozzo.com>, 2016-12-09 21:19:37 +0300, , vdso separate vdso_parse_maps need know compatible vdso vvar size add pid argument parse another process needed fork remap vdso parse child vdso vvar criu travis success rectify bit compatible x86 signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2575,3cd00d04ba9cf73047616c9c9a54c0f498f100b1,mitry Safonov <dsafonov@virtuozzo.com>, 2016-12-09 21:19:36 +0300, , compat check arch_prctl return code first version x86 compat patch returned err merged version return error vdso blob size travis success rectify bit compatible x86 signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2576,69070b13f614c216b74cdb10dc1c9a185b3594bf,mitry Safonov <dsafonov@virtuozzo.com>, 2016-12-09 21:19:34 +0300, , criu compat remove serialization parasite answer thanks god silly crippy macro gone best part removing second parasite think partial revert commit 8c3b3bc2efa0 parasite syscall deserialize compat parasite answer travis success rectify bit compatible x86 signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2577,cb0a7ba3fd0cbfa6bf599a41ff881d4880861f04,mitry Safonov <dsafonov@virtuozzo.com>, 2016-12-09 21:19:33 +0300, , page pipe page xfer remove pp_compat compatible iovs parasite transfer page iovec format drop compatible format yay travis success rectify bit compatible x86 signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2578,a3e31595a49b6e4e826d61d6dee89d3f2d898650,mitry Safonov <dsafonov@virtuozzo.com>, 2016-12-09 21:19:32 +0300, , criu pie drop second compat parasite let try one two entry exit travis success rectify bit compatible x86 signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2579,82382beabf1b1c5dd1e1db9bfe7c913c08d9d55c,mitry Safonov <dsafonov@virtuozzo.com>, 2016-12-09 21:19:31 +0300, , pie.lib drop second compat lib need two library one parasite blob left hand write code right erase travis success rectify bit compatible x86 signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2580,44641325eb3b3ec1d7bae38a45643ddc166d2346,mitry Safonov <dsafonov@virtuozzo.com>, 2016-12-09 21:19:30 +0300, , criu pie rename native.lib.a pie.lib.a one pie lib need name native compat next patch clean makefile travis success rectify bit compatible x86 signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2581,3586421060a359a6f468c844f144f19b2f2cec63,mitry Safonov <dsafonov@virtuozzo.com>, 2016-12-09 21:19:29 +0300, , criu pie vdso change config_ x86_32 vdso_32 needed elf magic platform help simplify next patch travis success rectify bit compatible x86 signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2582,1c452384c6de2aba8e378a223e53dddbf163f27e,mitry Safonov <dsafonov@virtuozzo.com>, 2016-12-09 21:19:28 +0300, , x86 parasite head add bit parasite entry drop second parasite blob create another entry bit parasite remove parasite head compat.s gon support native bit buids gon need travis success rectify bit compatible x86 signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2583,8c1d8b74d03bef1b55ef7eb92bd55d1507f9b0a1,mitry Safonov <dsafonov@virtuozzo.com>, 2016-12-09 21:19:27 +0300, , x86 asm move user code selector value common need parasite head exit travis success rectify bit compatible x86 signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2584,365b29ae3847c264716ba409d8127ffadeb71ad7,ir Kolyshkin <kir@openvz.org>, 2016-12-08 01:44:33 -0800, , compel help complete many useless option dropped easy provide complete description cli usage signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2585,ab7bf8207c0d15e20d1ca0824bd6275d9e275d72,ir Kolyshkin <kir@openvz.org>, 2016-12-08 01:44:32 -0800, , compel hgen prefix required signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2586,ee07e4252e19743706e56576a38f35a7895af025,ir Kolyshkin <kir@openvz.org>, 2016-12-08 01:44:31 -0800, , compel print error stderr seeing bunch silent build failure like gen criu pie parasite native blob.h criu pie makefile 121 recipe target criu pie parasite native blob.h failed finally took look silent discover compel print error stdout course stdout silenced criu pie makefile unless run make case print ton ton useful information shocked evil plan anyway let print error stderr like sane program signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2587,9d6228630bf20434ed01fc490b839efbe1e80fd1,ir Kolyshkin <kir@openvz.org>, 2016-12-08 01:44:29 -0800, , compel hgen use arm kill gen offsets.sh quite sure happened compel hgen used arm arm64 instead simple version called gen offsets.sh main difference shell script handle elf relocation apparently currently needed arm bad maintain two tool functionality patch kill gen offsets.sh related stuff making compel hgen working arm elf relocation still handled code ifdef fixed work arm later patch also kill macro defines seem obsoleted example called unconditionally handle trivial case relocs fine checked blob header generated compel hgen gen offsets.h similar i.e generated blob code value defined done much signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2588,7cd6ad5e7ea50933eab6c48e9a071eb834353098,ir Kolyshkin <kir@openvz.org>, 2016-12-08 01:44:28 -0800, , compel hgen drop option option always looked wrong mean hell user supposed know hell header took quite figure end result option needed easily dropped finding path includes compiler option need specify something compel fact know header kept emit ... cflags needed another story told decide pack compel standalone tool add include compel compel.h done signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2589,2a1db9c2c1e022bccc7b1090444c9ce5c95aa365,ir Kolyshkin <kir@openvz.org>, 2016-12-08 01:44:27 -0800, , compel test infect makefile add source way makefile written parasite.h added gcc command line like gcc spy spy.c libcompel.a parasite.h surely want parasite.h included spy.c fix use order prerequisite described http www.gnu.org software make manual html_node prerequisite types.html signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2590,06953ea4db98e04b8bb6c9a9383ffda5d5f059f5,ir Kolyshkin <kir@openvz.org>, 2016-12-08 01:44:26 -0800, , compel handle_elf use continue avoid level code block nesting indentation easily avoided signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2591,4dd92a5bf67728c580554a5937cb9d4e5c90421d,ir Kolyshkin <kir@openvz.org>, 2016-12-08 01:44:25 -0800, , compel macro longer needed signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2592,8ea542f78ecf028f0652164a5a66bba315b4b7a8,ir Kolyshkin <kir@openvz.org>, 2016-12-08 01:44:24 -0800, , compel simplify usage wrt currently compel internals exposed user api cli making usage complicated  particular compel user specify number parameter name various data command line code assign struc piegen_opt_t field using name without using identifier anywhere else code make sense hide complexity user commit doe first remove ability specify individual name data instead introducing prefix prepended name second generate function prefix _setup_c_header doe needed assignment third convert user criu pie compel test new api note patch break arm compel hgen used arm fixed later patch series signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2593,2d15cd077ef9fb3529b5ec8a3e0e844e0d869cd5,ir Kolyshkin <kir@openvz.org>, 2016-12-08 01:44:23 -0800, , compel handle elf.c better align generated output purely cosmetical functional change make sure relocs table well aligned printf 02x print 0x01 print 0x00 one would expect output somewhat ugly use 02x format instead make uniform well aligned signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2594,bd22ff2aa6048987387b0d83b49717c6c9ea59f4,ir Kolyshkin <kir@openvz.org>, 2016-12-08 01:44:22 -0800, , __handle_elf duplicated code signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2595,66bdd95347ece546956a3a0a3483d37480576e0e,ir Kolyshkin <kir@openvz.org>, 2016-12-08 01:44:21 -0800, , compel help describe required parameter todo describe optional one signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2596,6b584033c5abaccc86e08b6a215fab2b608a83f3,ir Kolyshkin <kir@openvz.org>, 2016-12-08 01:44:20 -0800, , compel help hardcode arch list instead hardcoding list architecture usage let generate data signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2597,98fddd50268c9590c11b1da2d1225383c31a716a,ir Kolyshkin <kir@openvz.org>, 2016-12-08 01:44:19 -0800, , compel help fix  compel compel host help compel compel host option help requires argument signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2598,904b6066f67c49aa75bcf236c84e2bf977a2c531,ir Kolyshkin <kir@openvz.org>, 2016-12-08 01:44:18 -0800, , compel error unknown opt missing arg getopt_long print error message return case unknown option given required option argument missing case need show usage exit error signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2599,9fa2cda2cd3bebc0e37c57519cd454dcc9f2f2c5,ir Kolyshkin <kir@openvz.org>, 2016-12-08 01:44:17 -0800, , compel tell user wrong usage case command line good enough show usage info much better explicitly say wrong signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2600,b73feb98db066951b1a1e17a27edae4781afa996,ir Kolyshkin <kir@openvz.org>, 2016-12-08 01:44:16 -0800, , compel hgen option required without check given compel fail following error open null non trivial figure mean required initialize corresponding field signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2601,ac2c9999f44c13d887e91961e8ebd25efc35be4a,ir Kolyshkin <kir@openvz.org>, 2016-12-08 01:44:15 -0800, , compel separate usage function easier modify way also fix incorrect exit code compel signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2602,4072e2d2c1a0a1f6f93b4a1df7b75395583aca49,ir Kolyshkin <kir@openvz.org>, 2016-12-08 01:44:14 -0800, , compel remove unneeded argc check check number argument done option parsing patch compel work signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2603,b8474f294bbf0dbab9b30f72acd8136533a76ea7,ir Kolyshkin <kir@openvz.org>, 2016-12-08 07:00:00 +0300, , compel handle_elf fix string sect bound check got using compel hgen arm bit error compel src lib handle elf host.c 115 string section header 0xf66e11ec 0xf66e1174 0xf66e1264 looking doe make sense reference sizeof elf_shdr 0x28 end position also well within bound apparently check string section header bound wrong last argument supposed region size region end address always worked check relaxed compel never used bit arm time work bit overflow helped find bug fix commit 6402f03 compel separate __handle_elf dmitry safonov dsafonov virtuozzo.com signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2604,403c96ad17929fa787ae1f50928d17cb34e909cc,yrill Gorcunov <gorcunov@openvz.org>, 2016-12-06 00:15:00 +0300, , compel add compel_run_at helper simply run tracee specfied assuming arelady trapping instruction stream unsafe low level function use caution travis success compel fix new helper signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2605,d4c02f2eb181197a70234b47be73f21824ff5ce5,mitry Safonov <dsafonov@virtuozzo.com>, 2016-11-25 15:51:00 +0300, , compel kill self unmap parasite self unmapping code parasite look like drop code using simple sys_unmap injection like criu exec action case failed insert parasite reason still need unmap remote rfc suggestion maybe miss something mind please describe thing motivation code defined command pie one bug one jump pie making one bit parasite x86 instead two bit work branch one parasite long jump beginning bit code bit task parasite curing sig return bit parasite bit task point trapping criu command parasite unmap long jump parasite bit code unmaps caught task sys_unmap task bit set bit register kernel check register set static int ptrace_regset struct task_struct task int req unsigned int type struct iovec kiov ... regset kiov iov_len regset size return einval return bit task need sigreturn add long jump bit disable bit testing ctl addr_cmd ctl addr_cmd ctl orig.regs work also work native task keep travis success compel kill self unmap parasite cyrill gorcunov gorcunov openvz.org pavel emelyanov xemul virtuozzo.com andrei vagin avagin virtuozzo.com signed dmitry safonov dsafonov virtuozzo.com acked andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2606,483f3e886b2a37cd27ac62b595a20d4aae2e5391,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-25 16:45:47 +0300, , compel test remote syscall execution library used run infection blob also execute syscalls remotely example signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2607,dd4d5aeddadf7c1b745e2f0756ca69b5971190d3,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-25 16:21:52 +0300, , compel simple infection test time example work compel based titanic preliminary work cyrill signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2608,16080b7f6fa3f7d48e38476608cfcce37c7ee674,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-25 16:45:31 +0300, , compel hide uapi regs caller always know actually core routine api compel_syscall one signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2609,7dbf89c4d07284a3a8530e81fa556698b9e44ee2,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-25 16:21:12 +0300, , compel remove size bsize blob desc size value page_size aligned inconvenient caller also differs bsize little bit nicer nr_gotpcrel value anyway generated compel hgen signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2610,bf24eecdf677364e3b2b2af543f64780cfe1a265,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-25 16:20:58 +0300, , compel add helper hgen bdesc filling name generated compel hgen need making caller know signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2611,d6b9f74266b2421cb5fe6cd5ac8f1fb334f8efc8,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-25 16:20:45 +0300, , compel rename _resume_ symmetrical one signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2612,167d28bd9e0eacaa260806bc9438782bd6e88846,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-25 16:20:31 +0300, , compel add uapi header routine library forgot putt declaration uapi header signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2613,fe0413ef9eb122cd0ede99808ed9e460416a5bba,yrill Gorcunov <gorcunov@gmail.com>, 2016-11-25 19:44:13 +0300, , compel plugins merge fds plugin std use fds helper std plugin anyway merge signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2614,a9a7bf7b4975c074a3e05a1e348612f4f5e01d93,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-25 18:11:55 +0300, , compel cli fix typo option parsing signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2615,474289f04006e2c138a9e754c0b00df4e19ed09a,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-25 18:11:54 +0300, , compel add installation ship plugins libs dev header signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2616,5a7c137bb77fcdb6ad15450c6a0e0266f1b2c336,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-25 18:11:52 +0300, , compel prepare ship common header compel signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2617,d6798cb3a4665da6efabcc321c4299666d63ef3c,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-25 18:11:51 +0300, , compel uapi add common symlink build compel toplevel directory inclusion common cause problem future especially header start using thus add symlink immediately notice installer common directory needed uapi signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2618,658206f269ee12a63605d401d14e98e300c349f6,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-24 15:21:00 +0300, , compel prepare several way load blob libcompel right load blob libcompel providing value file generated compel hgen command future like provide way e.g pusing mmap memory file file path prepare future travis success compel prepare several way load blob libcompel signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2619,0af11b421abb15ee70dfcf5728416aa9b05bf79d,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-23 18:42:00 +0300, , compel rename piegen action hgen hgen stand header generator travis success compel rename piegen action hgen signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2620,61769b466b18ca46eb73f181d0a0ed68014fd7e4,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-23 18:33:56 +0300, , compel improve infect extend handle_sigchld fix garbage return compel_prepare handle error make_sock_for travis success compel fix example signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2621,50219defcf24eea1ed9d58ef2c46b346c85441fc,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-23 18:33:55 +0300, , compel plugins fds include log.h libcompel helper need address problem later travis success compel fix example signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2622,71eb7d8795e084a2ff30def4c255e2c91fbe049c,mitry Safonov <dsafonov@virtuozzo.com>, 2016-11-22 14:42:20 +0300, , x86 compat provide optimized memcpy_x86 implementation pie builtin_memcpy located criu arch x86 include asm string.h travis success compel compat cleanup signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2623,2e39767a41734d16bbbbae98806923d8167a4f9c,mitry Safonov <dsafonov@virtuozzo.com>, 2016-11-22 14:42:00 +0300, , uapi compel criu move auxv_t tls_t back criu need libcompel pie needed fix compat enabled back criu arch x86 file included criu arch x86 home japdoll tool criu criu arch x86 include asm restorer.h error unknown type name tls_tâ extern void restore_tls tls_t ptls  travis success compel compat cleanup signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2624,8ec112b721643fdc68c5ab43d19be8ad314c62ff,mitry Safonov <dsafonov@virtuozzo.com>, 2016-11-22 14:42:18 +0300, , make drop syscalls_lib criu compel libcompel responsible system call criu already depends building compel code commented ... drop travis success compel compat cleanup signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2625,0723c8a6f110c9d35a77d5b2b09916abc91fd392,mitry Safonov <dsafonov@virtuozzo.com>, 2016-11-22 14:42:17 +0300, , compel uapi remove compat_sigset_t type remove compatible sigset structure size bit bit use across code size check check removed use k_rtsigset_t wordsize sigset changed bit written comment possible bit native building ever going support compat mode arch need introduce compat_sigset_t type arch different size compat native build let simplify travis success compel compat cleanup signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2626,f09ec0c24b6ccda6161ec5abe5c4ac10b8d8c259,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-21 21:26:19 +0300, , compel handier api stopping task infection two routine one need callback proc parsing complex needed criu others let single stop call would everything travis success compel contrinue improving library signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2627,c7a717c1d135cd9f3a2aa4ade0ff7cd149c1aaaa,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-21 21:26:18 +0300, , compel save restore regs inside compel default criu keep register coreentry make sigframe well mean anyone using compel library provide handler inconvenient possible leave task libcompel save regs prerare sigframe travis success compel contrinue improving library signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2628,3e7627c6ac306b12e82c1e47b4cfe79c1cfe5460,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-21 21:26:17 +0300, , compel handle sigchilds compel criu set child hander get error task infects compel problem way request custom child handler compel provide default clear atm look like plain stub move forward travis success compel contrinue improving library signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2629,74d1725ca0463e1637ccd73a8154dd4e88504acf,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-21 21:26:16 +0300, , compel create socket pid compel need socket life victim net namespace criu creates socket process work pure compel case socket created new ctl travis success compel contrinue improving library signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2630,e50235b6560062fe0cb4428aa88f7933ab851066,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-21 21:26:15 +0300, , compel routine open proc file yet criu optimized openat based engine slightly faster opening proc file rather plain open latter provided default compel travis success compel contrinue improving library signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2631,b0dfd996ed5e2e6dca965edbce983b58f4c5cdfb,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-21 21:26:14 +0300, , compel get syscall injection point compel ictx syscall_ip address able vma criu know par smaps file heavily others compel par proc pid map file travis success compel contrinue improving library signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2632,c0836c20521a32fc8cbbb00d5f8b70a933096fec,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-21 21:26:13 +0300, , compel add original compel_prepare also initializes infect_ctx value suitable simple usage starting point task_size value set allocates ctx handler filled caller criu travis success compel contrinue improving library signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2633,5be5424047b88edc68ca649e57c03065f0c09639,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-21 11:48:27 +0300, , compel split cpu.h heander uapi priv part http travis ci.org xemul criu build 177585567 signed pavel emelyanov xemul virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2634,fd26c6fcd68d6c799debd228e539aa3dddbf12d1,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-18 19:44:52 +0300, , compel drop common page.h uapi header one needed task_size arch simpler keep routine compel rather messing common page.h installation http travis ci.org xemul criu build 177585567 signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2635,5f0695e650ccfe4cd406891b2a45c0136eff79b1,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-18 18:21:00 +0300, , criu drop dangling symlink pie logger already compel forgot remove travis success criu drop dangling symlink signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2636,964a501b164333ccc2d4a7d05fa24df5ab2d85c6,ir Kolyshkin <kir@openvz.org>, 2016-11-10 16:32:28 -0800, , criu pie makefile disable fortify_source highly controversial fix following compilation problem alpine linux i.e musl libc caused previous commit gcc wall wformat security werror d_gnu_source iquote include iquote criu compel include iquote criu criu arch x86 include iquote criu criu include iquote criu include iquote criu fno strict aliasing iquote criu criu include iquote criu include iquote criu image iquote criu criu pie iquote criu criu arch x86 iquote criu criu arch x86 include iquote criu usr include libnl3 iquote compel plugins include iquote compel include iquote compel arch x86 plugins std iquote criu compel plugins include iquote criu compel include dcr_noglibc wstrict prototype fno stack protector nostdlib fomit frame pointer fpie dconfig_x86_64 criu pie parasite.c criu pie parasite.o file included criu criu include util.h criu criu include restorer.h criu pie parasite.c usr include fortify string.h error redefinition memcpy _fortify_fn memcpy void memcpy void __od const void __os size_t __n  file included compel plugins include uapi std syscall types.h compel plugins include uapi std syscall 64.h compel plugins include uapi std syscall.h criu pie parasite.c usr include sched.h note previous definition memcpy  void memcpy void __restrict const void __restrict size_t  file included criu criu include util.h criu criu include restorer.h criu pie parasite.c usr include fortify string.h error redefinition memset _fortify_fn memset void memset void __d int __c size_t __n  file included usr include fortify string.h criu criu include util.h criu criu include restorer.h criu pie parasite.c usr include string.h note previous definition memset  void memset void int size_t  criu script nmk script build.mk 103 recipe target criu pie parasite.o failed  http travis ci.org kolyshkin criu build 174634847 signed kir kolyshkin kir openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2637,aa72d8872b1c4d58ace897885ea8ee7b12401749,ndrei Vagin <avagin@virtuozzo.com>, 2016-11-18 04:23:00 +0300, , compel check whether parasite socket prepared time currently prepare parasite socket save static variable bad idea use static variable library addition work process different network namespaces case separate socket namespace fix compilation alpine convert p_sock sock travis success compel check whether parasite socket prepared time rev2 signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2638,51458d45189a09a242c4b86d51d09c69b00ba1f1,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-16 18:06:50 +0300, , compel plugins std move infect code providing infect functionality inside std plugin look suite restorer define dummy able compile define weak stub right near future travis success compel final infect move install target signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2639,a51068664bfb1b91432dc6f1bcae07b89c4fe226,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-16 18:06:49 +0300, , compel plugins std move log engine criu pie travis success compel final infect move install target signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2640,387361946ec4f01b82459d9eb3e50c1693ecc1c2,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-16 18:06:48 +0300, , criu pie log prepate move compel std plugin add uapi header start using add std_ prefix function constant drop unneeded header travis success compel final infect move install target signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2641,b46e5ec1184ff3903370f20ab3eda5a88c6f8a80,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-14 16:06:15 +0300, , compel move relocs stuff include uapi handle elf.h prev patch clean compel.h signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2642,5dac5448cf192d1756190e2560992cdfbff0bddd,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-14 16:06:02 +0300, , compel move log related stuff include uapi log.h clean main entry header compel.h signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2643,a722258d59f52706a28aa542093f075bf166360a,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-14 16:05:49 +0300, , compel relax thread mgmt api signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2644,d0caedd190afef82dfd5fdd890f35373addbdf4e,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-14 16:05:36 +0300, , compel hide signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2645,72e4804b07fa9172a0d0575b993263165e0a3243,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-14 16:05:22 +0300, , compel prepare hide mean introducing wrapper get_task_regs call work thread ctl thread ctx signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2646,fc0b62e921d0631112e83ce4712234303f846e27,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-14 16:05:08 +0300, , compel introduce structure opaque hander thread infection signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2647,80e2500cf972e43d5af88b9d95f3518ec21c1b3f,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-14 16:04:54 +0300, , compel introduce plan rectify thread infection api hide thread_ctx uapi eventually symmetrical call thread signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2648,64bb75a859cd64df4ebc205059858823a9bf08ec,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-15 12:43:00 +0300, , compel drop handle elf routine library piegen mode cli need library signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2649,3821b3423e2fed986d1477c484c31925a89f8726,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-15 12:42:00 +0300, , scm unweave fds mess currently criu built criu pie util symlink criu pie util flag use general compel infection code moreover criu link libcompel.a get problem send_fds recv_fds multiple defined let rather unweave mess drop criu pie util fd.c completely move send_fd recv_fd inliners scm.h signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2650,fa6243b65e9bf450251d2aae8a937961a491fabe,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-11 21:52:00 +0300, , compel plugins add missing flag compilation lost moving code criu pull back signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2651,32405371eee1e1a6141b869509d46a2b1a4339e3,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-11 21:52:00 +0300, , compel plugins fds add missing header uapi plugin sending scm unix socket stuff helpful signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2652,3a7e027b5e80b4948c02439aa18a6c5ec99a35df,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-11 21:52:00 +0300, , criu pie switch use compel shipped lds script .lds compel switch also remove criu lds generation code signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2653,0be8beb666ab030e8f9e67d9db9c71a576fbd4d2,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-11 21:52:00 +0300, , compel add lds script pie code criu auto generated want compel look like better fixed rather generated signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2654,6d5a8930a9959c89823936f6b9bcf484ab65af4d,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-11 21:52:00 +0300, , criu pie parasite head drop unneeded parasite.h inclusion header never actually required signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2655,d9c284c3e975ecbc04d66d8b907643ed31f8229c,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-11 21:52:00 +0300, , compel plugins std implement generic std_memcpy routine if0ed taken older compel time provide generic version signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2656,93d0494e3ebb5dd4ac91b7a68e6cf7f94d5409f1,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-11 21:52:00 +0300, , compel plugins std include string helper needed log module signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2657,7b6c60b0eebc29e2ad9c54cd03bfc2ee36e6ff62,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-11 21:51:00 +0300, , compel plugins std use proper quote exported header uapi iquote header signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2658,48be6e55d44fafc6c34e0b315d83a9b8ff99a0cf,mitry Safonov <dsafonov@virtuozzo.com>, 2016-11-08 19:55:00 +0300, , criu call compel_log_init start otherwise message printed libcompel omitted log cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2659,a9c99c09a00c9c7e91b68a50aa76e97c03ff4bc2,mitry Safonov <dsafonov@virtuozzo.com>, 2016-11-08 16:27:00 +0300, , dump add compel ptrace.h include need declaration criu dump.c function criu dump.c 901 error undeclared first use function arg.flags  criu dump.c 901 note undeclared identifier reported function appears criu dump.c 920 error undeclared first use function ret ptrace tid arg  squashed commit 638b0c2f11e1 compel move parasite engine cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2660,cbe24fb9c438f147fdd70c41f2a66844457ffed4,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-31 15:06:48 +0300, , compel move parasite engine final patch series doe bunch renames fix header respectively signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2661,51092282de6daca5cc8927c88b52e58314d40c00,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-28 18:11:31 +0300, , compel move sigframe code compel use parasite engine criu export well signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2662,fd814de1d3f7b0971f8ca55e761d5c385902a5d3,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-07 01:20:46 +0300, , infect move engine move compel final pas signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2663,e9700c4ff495e63c9a411d16015aeddb6b8105ba,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-04 00:30:00 +0300, , infect introduce use _desc describe libcompel task parasite code parasite taken piece memory way load code come soon signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2664,901ccfb8caf4ff16387e114304d329cd32c1ca18,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-03 20:29:58 +0300, , infect rpc split priv uapi part piece infect rpc used criu pie code soon moved compel std plugin prepare signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2665,2e944f721a5f6f957c1c0248869f5bbf53fcd210,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-03 02:08:14 +0300, , infect add log_fd ictx descriptor used parasite code message pure compel environment file provided caller pipe libcompel pull message signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2666,2a014c09ebc8d2bff430ecdd30b072e665ac7bcf,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-02 20:02:17 +0300, , criu call compel debug level building blob signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2667,9df806aedd0b759391c67f969c77644da775f51d,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-31 18:05:56 +0300, , pie detach infect move previously splitted routine pie infect.c signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2668,6606dc722c67da3e62a2eb578fea1d70ae3ee51c,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-02 03:41:57 +0300, , scm switch compel plugin onto common signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2669,e92c3266923fc2863a85c02cae51aee1c6aa474b,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-28 14:00:55 +0300, , compel update move lock.h include common signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2670,a406965e972f91375e6848c83e54aacb0da99273,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-30 22:56:39 +0300, , infect arm aarch64 remove kdat gent task_size known signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2671,721e7fa5daae7863816a9f033854163d3ef867eb,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-30 22:54:29 +0300, , infect x86 remove kdat kdat used check whether compat sigreturn kernel compel check criu already know signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2672,5e48c690c7080252e69fb5d3bb72a5cec5a00724,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-28 19:19:01 +0300, , compel build syscalls compel use syscall type compel infect engine make sure built earlier signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2673,b05f06664425a7e5a1def5d3e2367fc57d752374,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-28 16:04:18 +0300, , compel move fpu.h signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2674,5a6d2cea0651f0866a97f1246791a78c3e5b3f15,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-28 11:41:28 +0300, , criu fix header non x86 arch signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2675,aabb45becec8b443ef3971cd65e70f77bcbb5ca6,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-19 14:06:56 +0300, , compel move cpu interface compel need parasite engine creating signal frame export appropriate header use criu linking libcompel.a signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2676,1a30731b1fbc53a1f9a5aa056cab10bcf6594c3b,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-18 20:58:26 +0300, , compel add callback based log engine pr_out special left piegen engine rest use compel pr_x output probably need enhance one day make close criu signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2677,5f6c28567ad40cecde34aac33e8d37849b861f9b,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-25 12:39:16 +0300, , compel rename shipped library libcompel.a signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2678,a0810481e571a22bffe27120a9d73fb9b0d7f8d8,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-27 19:01:21 +0300, , compel include compel header system one signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2679,a714fff5a3d799cbf4d4f05fef8e7e095fb26443,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-27 19:05:28 +0300, , compel use common compiler.h drop compel include symlink signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2680,bb8b8e84f98b8b9ac459676ee5d19fe548fa4a56,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-18 17:59:02 +0300, , compel remove criu int.h infect signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2681,f81d69da31d030adc4bda3ebe6b015952dbfc029,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-27 19:34:17 +0300, , infect remove types.h infect.h signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2682,f3021b6ab5a6a91eac8d163d7ebb59941a56d1b1,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-27 18:07:10 +0300, , infect remove criu util.h infect includes close_safe routine infect callback opening proc file infect_ctx signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2683,dec9a2505416bd43333a8b4e6e2ebbf0b09c1cba,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-27 16:23:27 +0300, , infect move processor flags.h compel signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2684,468a64922543a54fd4bb3b701b67ab5cca3e3641,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-27 16:18:09 +0300, , infect move errno.h compel signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2685,3a90e8e7f696f44c6c6939aef1f79ce6c9c962b3,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-27 14:27:23 +0300, , infect reshuffle header signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2686,f15dfc61072a57d88275b8a04e76165d1285b1ea,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-27 15:01:34 +0300, , infect move __nr32_mmap compel header remove parasite syscall.h infect signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2687,c954ac161868a63a572a00140b4f81092581c44f,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-27 14:25:46 +0300, , infect move breakpoints management infect remove restorer.h infect header describes routine structure constant messing restorer blob signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2688,6fee9c70a787c5368976562888711687f8218d98,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-27 12:10:30 +0300, , infect remove parasite syscall.h infect  move related arch infect move infect move infect util completes parasite syscall.h removal signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2689,5156b096b1d58cf0f115089ea0a763065adc8b87,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-27 11:28:43 +0300, , infect move thread_ctx structure infect becoming part compel api let remove parasite syscall.h infect.c former header includes declaration criu dumping routine work parasite code signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2690,cd368c8e088e1e6cece7672722724379f6f93bce,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-27 11:26:55 +0300, , infect move ptrace_get set_regs ptrace.c criu ptrace.c also compel source detach needed code criu well signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2691,3e2f895732e6b80c5b7428e53ad5b671974a3354,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-27 11:22:42 +0300, , infect remove parasite.h infect.c header describes criu parasite code nothing infect remove need detach infect rpc command criu parasite one move infect move infect hiding infect hiding parasite symbol resolvers infect signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2692,2abf96bb755746217be48622c832d339c22b257d,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-27 11:15:54 +0300, , infect move ksigset helper compel signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2693,432351d6b73aa7f94a8ba71a030850d1717239ee,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-27 01:15:00 +0300, , compel create symlink arch dir inside uapi header able include compel asm header needed signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2694,df217daa3188a0df08a7fd08ba903ff67ff139b4,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-19 12:44:01 +0300, , infect remove infect priv.h arch crtools.c signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2695,62e1ba93516de44c42249499e681b31f3e4a1c57,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-19 12:43:00 +0300, , infect move mmap_seized syscall_seized arch infect.c signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2696,3b8dcf0266c56364653871db45e0c0ef01951cf6,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-19 12:32:44 +0300, , infect move get_task_regs arch infect.c signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2697,590856f51a6e874a3684ab2b5f77e3564d0b23c4,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-19 12:17:27 +0300, , infect introduce arch part split previously done parasite syscall.c arch crtools.c file signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2698,f98a557529107cfaead76a0bc984b5919a225ba0,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-30 14:53:49 +0300, , infect introduce api configure infection i.e infect_ctx structure infect.h aimed compel source signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2699,5e75d49946bd4c96edb02003ce4fc6bdea5fb54b,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-30 14:58:29 +0300, , infect move sigmask getter ctl infec.c ... hide compel priv parasite syscall completely isolated inside compel signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2700,329d2c156b87ba53469394904dab91de5291a7cc,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-30 14:56:28 +0300, , infect move seized_native infect.c signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2701,795049e6a7fd30d51b741587487860252cc7346b,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-30 14:34:50 +0300, , infect move parasite rpc code infect rpc.c signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2702,315b0d82aa5d1d059f414a4b9136a8fc36c370b5,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-29 16:43:29 +0300, , infect move pie tracing code infect.c note presumably another functionality block inside compel another file might tempting signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2703,18248ce4bdcba5c1deacbd9b7deb9554b869132c,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-29 16:37:34 +0300, , infect move unseize_task infect.c signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2704,754a2d9501f5cd2e8e425f14021017c96174d462,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-29 16:22:19 +0300, , infect move infect.c note away compel api exec.c signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2705,b071c6e3f0755c8470f3ba38f99b689a14fb12e1,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-28 14:09:14 +0300, , infect move infect.c signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2706,511a6ffd29588030a7b995d42c309387840ae984,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-28 14:08:20 +0300, , infect move parasite_trap infect.c signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2707,34db99e3c8f8a5fec5d523e24ee35ed30ea5ad57,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-28 14:07:16 +0300, , infect move parasite_unmap infect.c signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2708,6a4279dd9e7e005b9f1c3da42cad6077bb834330,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-28 13:58:44 +0300, , infect move infect.c signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2709,93d6aeb862c267f3b215c9deebfe1f8bf3d0c150,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-28 13:55:21 +0300, , infect move infect.c signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2710,d4b415eb861bdbfe410ba285d1a342e4e7e58e7b,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-28 12:12:09 +0300, , infect move parasite_args infect.c code let caller place argument memory shared parasite compel caller signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2711,3a53b5892292b0de8dbf5a8acd8b2bdda0236c78,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-28 12:01:01 +0300, , infect move parasite_cure_ infect.c signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2712,e156ab5a62c4e8f43945ce43ffd386fdff5b9574,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-28 11:50:25 +0300, , infect move infect.c signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2713,bb33a7742a7bcc50fd9f13625ef6f1d34b4f2b27,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-28 11:29:01 +0300, , infect move infect infect.c infect routine dependant code core library actually signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2714,2724375919f59dbe72f85bbd40373d595bd39e28,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-28 10:47:17 +0300, , infect make parasite_ctl private structure internal compel user see one opaque pointer read data using call exception infect_ictx configuration structure embeded ctl seen outside signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2715,7d3e7b05fee2413f329cc3fb91de60a31b3c9b21,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-27 20:16:07 +0300, , infect move seize_wait_task signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2716,ea470224b62d4168de99dd77b27c80d847db2d60,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-27 18:15:30 +0300, , infect move signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2717,6dc2e2decd0505cd30fa4adcfa40daf0f3586c70,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-27 18:12:25 +0300, , infect introduce skeleton soon compel code collect compel code move file compel library last patch set signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2718,1fe80294ec11a28abc0722b9a02e9717b6e81f3b,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-26 13:21:10 +0300, , infect big split infection routine split criu specific part independent part become compel code api infect bit clumsy rectify one bit next patch signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2719,2c76fc8a530d388eeafe22a027438633d9f76df3,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-27 17:39:42 +0300, , infect keep entry point first syscall ictx address executable vma get one need parse proc pid map compel since criu already par file dump task vmas provide address via ictx signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2720,c0e468dd2eccfa5e2a797860462ff579a662b479,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-26 13:20:56 +0300, , infect add register keeping infect_ctx two call keep register put back onto sigframe criu keeping performed coreentry signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2721,3569b51eef0ba5dd4dd70f306319b29293189f43,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-28 11:22:29 +0300, , infect place sigchild handler ictx track victim health state criu set sigchild handler compel ability request handler would required signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2722,7745501409a4627ca9bae4a450ef83c0348d0173,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-28 11:15:50 +0300, , infect introduce flag ictx control various behavior infection engine fault injection signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2723,71a4b46cdb6ffcc7683f4309ba305c0e739a0080,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-26 13:20:23 +0300, , infect introduce infect_ctx structure become part compel used compel client configuration structure put pointer socket living victim netns empty compel create socket criu already creates effective manner signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2724,903be4131d9df4a00dd9d35fd1ccaff05b896523,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-27 20:07:32 +0300, , seize make seize_wait_task parse task status via callback seizeing task need parse proc pid status state parent signal seccomp status criu case also parse stuff one make parsing callback criu provide signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2725,6e49bce78049f06167d4f16489ee3fe19e71acae,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-27 20:04:14 +0300, , seize split piece subset structure required turn compel library prepare signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2726,976e13a193c8409d92d6c3bbdc5581f4d0fe36fd,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-26 13:19:41 +0300, , arch turn save_task_regs pointer get_task_regs call accepts pointer function keep obtained register somwehere criu case somewhere coreentry generic compel user need add simple memcpy library signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2727,da17b223f1e13747ed3305870d22105ef52933ae,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-30 10:37:29 +0300, , parasite get task regs twice start first time regs saved ctl orig.regs 2nd time regs got inside x86 use ctl copy travis success get task regs twice signed pavel emelyanov xemul virtuozzo.com reviewed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2728,44c15c6cd92d9d8add7f00653c66ebf444d267b6,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-30 10:36:50 +0300, , x86 mark static travis success get task regs twice signed pavel emelyanov xemul virtuozzo.com reviewed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2729,084b0fb0ecbae7b0dbf73f2322e7d3a7597b1bcd,ir Kolyshkin <kir@openvz.org>, 2016-10-25 22:08:31 -0700, , compel handle elf.c handle r_ppc64_rel32 compiled clang 3.8 ppc compel complains gen criu pie parasite native blob.h error compel src lib handle elf host.c 541 unsupported relocation type look r_ppc64_rel64 r_ppc64_addr64 handle bit way travis success ppc clang compile fix laurent dufour ldufour signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2730,3da152a5ab612c740e1dbb965bc0fd9d82a60465,ir Kolyshkin <kir@openvz.org>, 2016-10-20 20:02:27 -0700, , compel fno jump table cflags three reason flag work ppc64 see commit dc7b08b clang aware flag seems work fine without laurent dufour ldufour cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2731,d2a1aa1b6b450e4c37d0150415a61e7a5950b79a,ir Kolyshkin <kir@openvz.org>, 2016-10-20 20:02:26 -0700, , compel noexecstack cflags ldflags manner similar one commit 9303ed3 makefiles move noexecstack cflags let move option linker flag see abovementioned commit reasoning travis success series starting compel noexecstack cflags ldflags signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2732,04ae288af36dd2dbb2dfb4623a7c6564860c568d,mitry Safonov <dsafonov@virtuozzo.com>, 2016-10-20 15:31:00 +0300,228, x86 read saved entry writing somehow managed miss check many entry saved core image may dereference fix 228 fix commit 6fde3b8c27db x86 restore travis success x86 read saved entry andrei vagin avagin virtuozzo.com cyrill gorcunov gorcunov openvz.org reported andrei vagin avagin virtuozzo.com signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2733,efc87fce326a91f9de0ede4b8d2d4327ee1c5556,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-19 22:21:00 +0300, , compel cli show version option signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2734,8c39a00037241a7191abaa177a215d39e3981fbe,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-18 21:53:05 +0000, , gitignores ignore generated file signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2735,1fe09eb358cbe21a5859ed63fe13fdd2b3dab0ae,ir Kolyshkin <kir@openvz.org>, 2016-10-12 04:46:00 +0300, ," makefiles move noexecstack cflags problem flag assembler cflags also used generate dependency clang complains loudly used deps dep compel arch x86 plugins std syscalls 64.d clang 3.8 error argument unused compilation noexecstack patch moved noexecflag assembler linker 100 sure end result seems fix dependency generation using clang instead gcc surely done research proposing change tested change good could sorry provided background commit message  way non executable stack mark assembler source file .section .note.gnu stack progbits pas noexecstack compiler pas execstack linker three way fine let see greater detail people say best way way many file exact anyway certainly way like let know would look like compel arch aarch64 plugins std syscalls syscall aux.s compel arch aarch64 plugins std syscalls syscall aux.s 3,6 3,8 implemented aarch64 linux kernel  .section .note.gnu stack progbits  entry sys_open mov mov way currently used unfortunately break dependency generation clang one way fix would filter bad flag generating deps tried experimenting filter function makefiles today complicated failed make work way commit offer seem work fine least intrusive signed kir kolyshkin kir openvz.org reviewed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com",,
2736,b6c43007238247b35341f3bea3cc9eb7c52c07aa,ir Kolyshkin <kir@openvz.org>, 2016-10-11 18:46:42 -0700, , pie fix deps memcpy x86 laurent dufour ldufour cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org acked laurent dufour ldufour signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2737,4442b7546f6c388046def2ef2d55064a16801da5,ir Kolyshkin <kir@openvz.org>, 2016-10-11 18:46:40 -0700, , criu parasite syscall.c init var got following clang criu parasite syscall.o criu parasite syscall.c 1494 error variable parasite_size used uninitialized whenever condition false werror wsometimes uninitialized seized_native ctl  criu parasite syscall.c 1503 note uninitialized use occurs parasite_size ctl args_size  criu parasite syscall.c 1494 note remove condition always true seized_native ctl  look code still quite sure whether parasite_size end uninitialized look like config_x86_64 let initialize signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2738,14881342087c8455f607e7c6b3c2424181530617,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-10-12 19:39:00 +0300, , compel fix build break ppc64le patch fix build break ppc64le introduced change compel build option factorized common cflags make easier identifying particular flag required architecture fix fef01d79f7ee compel cli add flag cflags report travis success compel fix build break ppc64le cyrill gorcunov gorcunov openvz.org signed laurent dufour ldufour acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2739,429da90376addb077d409276696578b0a506553b,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-29 00:34:00 +0300, , compel criu use std plugin directly compel build object provides .compel.init .compel.exit setions plugins init exit routine link pie code criu simply zap code still reference inside std text even call dont drop eventually compel loading plugins self good testing purpose refernce plugin inside criu code signed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2740,219a99c74e4bd77f2d8481c3380e8c294cfe2e3e,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-29 00:34:00 +0300, , compel cli add flag cflags report signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2741,c1133055ec18289e98f73e4b3954a94bdd6117a7,ir Kolyshkin <kir@openvz.org>, 2016-10-07 18:50:00 +0300, , add compel host .gitignore addition commit ed5b351 travis success add compel host .gitignore cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2742,2a43af12205200ba08cdf210c0f506ca97641ffa,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-27 20:12:09 +0300, , complel plugins disable coverage mcount supported plugins signed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2743,bc9cddbbac990359f43a807dae8ffd1c9ef9e61c,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-27 20:12:08 +0300, , complel plugins std forget cleanup syscalls.s signed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2744,84175119d100ad942ba1990c7d01b0d6a74988f7,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-28 01:12:19 +0300, , compel travis disable exec test supported signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2745,b204b1e39f06f3aa025234160c7cc4699d3492f0,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-28 01:12:18 +0300, , compel criu use sole syscalls object instead std plugin std plugin known fail trying execute investigating meanwhile block test let use syscalls object file signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2746,19fadee9d909bef2a3418c86c06bed52eeb90445,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-26 22:36:39 +0300, , compel plugins std implement syscalls std plugin use criu directly instead move syscalls compel arch arch plugins std syscalls drop old symlinks build 32bit x86 expected use std.built in.o inside criu directly compel_main stub drop syscalls x86 criu directory copied already first compel commist move delete place signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2747,35726a766798fec0ab2bb9d3ee7504fb3736738d,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-26 22:36:38 +0300, , compel criu start using uapi std syscalls stub real syscalls generation inside criu moved next patch signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2748,55bc551846d3deb10807577d23cbd22076930372,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-26 22:36:37 +0300, , compel plugins std prepare stub use syscalls criu reference stub signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2749,e0697f780d541295a58e8a10e87875181c23df35,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-26 22:36:36 +0300, , compel plugins std add syscall types.h header std criu use syscalls sake note disable x86 compat mode provide native type thus back everything else complete signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2750,0264fdcc3aa4d7fd1d91ce3b529e0d8d89108dae,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-26 22:36:35 +0300, , compel plugins std add header stub linkage.h point criu asm specific prologue.h link x86 need fix start using std plugins signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2751,a2e5b769e5a6263974a4e0150e1019f899635d97,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-26 22:36:34 +0300, , compel define separate targtes plugins signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2752,34c8ef4a14488fe6c8f29971c408605c11e17251,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-26 22:36:33 +0300, , compel plugins std use compel_plugin entry point routine name plain main make compiler unhappy since known predefined name signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2753,642f990d15c5e826595380e875d4f291673d8dde,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-23 16:14:00 +0300, , compel split host lib file signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2754,31b11262dad59ebdcb85e61c732e918e6eedf6aa,mitry Safonov <dsafonov@virtuozzo.com>, 2016-09-23 17:20:32 +0300, , make define config_compat mrproper clean make build option set file compile depends feature test mrproper clean point let define config_compat target compiled file properly cleaned reported adrian reber adrian lisas.de cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2755,e2fb30d076a11b6277d566b8f8a889dea49c4043,mitry Safonov <dsafonov@virtuozzo.com>, 2016-09-23 15:21:51 +0300, , make soccr let criu depend libsoccr lsoccr libs build criu object otherwise try compile feature test libs succesful feature fails stdin warning extra token end include directive usr bin find lsoccr collect2 error returned exit status lead later problem criu tcp.c error redefinition struct tcp_repair_opt struct tcp_repair_opt  file included criu tcp.c usr include netinet tcp.h 259 note originally defined struct tcp_repair_opt fails really sucessful feture test p.s maybe unbound feature test compilation libs specified look right cyrill gorcunov gorcunov openvz.org pavel emelyanov xemul virtuozzo.com signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2756,e44320ec77e6ef7a2a121148ef6f717e18be73bc,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-21 23:54:34 +0300, , compel handle elf needed x86 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2757,11282c6084905e9921804a678ff2fe9c5c56ac65,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-21 23:54:33 +0300, , compel test disable compel test signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2758,fbd6582c5a32ca19f37fbdaa5279089193712093,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-21 23:54:32 +0300, , compel add missing symlinks host elf handling signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2759,c4030e283b5da5831d5bbbda6ddb2dbaed84b6a6,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-21 23:54:31 +0300, , compel criu use compel host program compel host needed build criu run piegen blob generation signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2760,f20a1242698f7cb31836f292c5c27b92c4ee88f5,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-21 23:54:30 +0300, , compel build host program default compel binary one compiled target architecture compel host one compel compiled current arch needed build something target arch could use default compel target arch current arch make thing complex signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2761,1f560c5f0cc93e2e4faa05b22542817fcb76cdf4,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-21 23:54:29 +0300, , compel get rid old piegen code use new compel.h header appropriate type signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2762,66929a661c8d98b89899a86b7c08a1200a4145f0,mitry Safonov <dsafonov@virtuozzo.com>, 2016-09-21 23:54:28 +0300, , compel plugins add fds plugin passing via unix socket scm cred suitable use parasite code signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2763,048c5073cfef07b81f32ea24fd6d8e3e6e663336,mitry Safonov <dsafonov@virtuozzo.com>, 2016-09-21 23:54:27 +0300, , compel plugins std use sys_recvfrom instead recv prologue.h defines sys_recv macro let use signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2764,a1d931c3547526c516de43bb3e0cbb0257a8d21a,mitry Safonov <dsafonov@virtuozzo.com>, 2016-09-21 23:54:26 +0300, , compel plugins add shmem plugin shmem pluging allows creation shared memory segment parasite code caller signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2765,5cf76474f180e2c302a743a3bc9cc0acaaaf0f08,mitry Safonov <dsafonov@virtuozzo.com>, 2016-09-21 23:54:25 +0300, , compel plugins std add prologue.s prologue includes routine needed parasite blob work always included std plugin signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2766,7eee9d5c3da299e459b3d73970903e7b9cd4fd34,mitry Safonov <dsafonov@virtuozzo.com>, 2016-09-21 23:54:24 +0300, , compel plugins add prologue.h compel drop hand made signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2767,23fcca8e877f7e9d96f14af8954048d2a21f63ac,mitry Safonov <dsafonov@virtuozzo.com>, 2016-09-21 23:54:23 +0300, , compel makefile.compel remove second gen msg fix gen compel include version.h gen compel include version.h signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2768,338f3aa7b7e3cc58df77df1c5e09b7b8a648bf76,mitry Safonov <dsafonov@virtuozzo.com>, 2016-09-21 23:54:22 +0300, , compel make add general assembly flag signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2769,12ca38255c61da3de53407d3fe3320dc26cf258b,mitry Safonov <dsafonov@virtuozzo.com>, 2016-09-21 23:54:21 +0300, , compel remove needed uapi delete plugins include asm std directory let without plugin name make symlinks reuse criu file except deleted libcompel criu like syscalls signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2770,20d5bb140d233efd6ed84d39ea7d0fefdfeb32a0,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-21 23:54:20 +0300, , compel plusings add std plugin plugin provides basic feature string copying syscalls printing used shipping default plugins great help dmitry safonov signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2771,a437c2d969b7c6ef4915d74cede5d328494b34c1,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-21 23:54:19 +0300, , compel add plugins header signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2772,3b0c8dbd4837e2a8b7bfb656b433b7fd6c7523b5,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-21 23:54:18 +0300, , compel reshuffle directory structure rather suffle source code directory preparing ground future work basically file movement end following compel tree structure compel arch aarch64 plugins std src lib arm ... ppc64 ... x86 ... architectural part arch consists plugins src src stand code needed compel cli lib include compiler.h criu include compiler.h elf32 types.h elf64 types.h int.h criu include asm generic int.h piegen.h shmem.h uapi compel.h plugins.h common includes uapi plugins fds shmem std plugins source code src lib handle elf 32.c handle elf.c handle elf host.c handle elf 32.c handle elf.c handle elf host.c handle elf.c compel library main.c main host.c main.c compel cli shared fds.c shared code plugins compel cli note cross compile work signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2773,596767d5f7540f3b93e4320062f37de6f76c2017,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-21 23:54:17 +0300, , compel uapi add standalone header used later signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2774,2acc20056b35f2eb2530291f4a4b7a43701be1eb,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-21 23:54:16 +0300, , compel build add sublevel signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2775,745b26a7a28c9f53b4a1ad1e5d065e89f9f45469,mitry Safonov <dsafonov@virtuozzo.com>, 2016-09-16 21:37:14 +0300, , compel abort pie generation undefined external symbol meet think abort generation point making pie external symbol least yet let break build find problem runtime cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2776,693f56fdd88747dbfd427ff110b58e8913e601c6,mitry Safonov <dsafonov@virtuozzo.com>, 2016-09-16 21:37:13 +0300, , parasite vdso vdso_map_compat config_compat used restorer map compatible vdso blob config_compat needed even macro undefined case never shoot compat_vdso always false case get rid also need leave config_x86_64 arch_prctl defined x86_32 cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2777,281572bd707dd067792a4850083f36404d4b7f4d,mitry Safonov <dsafonov@virtuozzo.com>, 2016-09-16 21:37:12 +0300, , pie provide callback stack protector way solve compile shared criu pie object twice without stack protection environment choice think worth cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2778,3c85c5350a2ed985619ac56d3cb4d43ef39b2a49,mitry Safonov <dsafonov@virtuozzo.com>, 2016-09-16 21:37:11 +0300, , make x86 get cflags ia32 compel tool think could transpher also elf_i386 m32 compel output case support native x86_32 compel wrong native build introduce something like compat_ia32 compel option sure left makefile also would good remove ld_r makefile use compel output ldflags valid compel support arm arch fix following patch gen criu pie parasite compat blob.h error compel handle elf 32.c 322 unexpected undefined symbol external symbol pie cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2779,ec58dcab745f3dbb17ae3f46c1559413b16e49c2,mitry Safonov <dsafonov@virtuozzo.com>, 2016-09-16 21:37:10 +0300, , parasite x86 introduce use builtin_memset use compiler provided memset parasite fix commit 86434deba0b4 x86 dump entry gdt cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2780,74c0a70223a1056f2d6ab58333ca4f7a0573cb33,mitry Safonov <dsafonov@virtuozzo.com>, 2016-08-08 15:57:16 +0300,181, criu wrap compatible code config_compat support native bit i386 build dropped ifdefs introducing instead ifdef config_x86_64 ifdef config_compat criu build without ia32 glibc gcc multilib support maybe add warning build made without compatible task support criu check print compat patch hit master fix 181 cyrill gorcunov gorcunov openvz.org andrew vagin avagin virtuozzo.com signed dmitry safonov dsafonov virtuozzo.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2781,31d394bc55ad9663c1479e472f11da280108256d,mitry Safonov <dsafonov@virtuozzo.com>, 2016-08-08 15:57:15 +0300, , feature test add config_compat compile option wrap compatible code config_compat define wrap also compatible parasite generation also makefile variable rather define test consists including stub 32.h glibc6 i686 presence test compiled m32 option test gcc multilib cyrill gorcunov gorcunov openvz.org andrew vagin avagin virtuozzo.com signed dmitry safonov dsafonov virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2782,b6b2290f8726a7bff329480914a869d3d1e0d01f,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-07-19 19:30:00 +0300, , parasite simplify syscall check req_sysnr set according native mode check syscall number directly functional change expected dmitry safonov dsafonov virtuozzo.com signed laurent dufour ldufour reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2783,bbf29e89b49a203a5a15f4e5421c7ff61b741753,mitry Safonov <dsafonov@virtuozzo.com>, 2016-07-18 22:22:43 +0300, , make drop compel compel dependency target target criu depends redundant make noise typed make without argument built compel firstly typed make criu built protobuf image firstly cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2784,abca195ef20c573539762f1960a479aabe6e0a44,yrill Gorcunov <gorcunov@openvz.org>, 2016-07-07 00:15:00 +0300, , criu arch x86 rename register mode gpregs_case bit vague name let define traditional mode signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2785,5c7e141b3444dc29e5dd4b2d3be210eb49cae61d,mitry Safonov <dsafonov@virtuozzo.com>, 2016-07-07 20:39:19 +0300,188, parasite syscall refactor dumping posix timer tried hard save compile time static type checking make code readable hiding native compat detail macro think better also btw fix 188 compatible zdtm test signed dmitry safonov dsafonov virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2786,5141d3238abd22bc98bd2b3117ebbed16614c60f,mitry Safonov <dsafonov@virtuozzo.com>, 2016-07-07 16:36:16 +0300, , exec check syscall number right injecting made mistake find_syscall use find mode application native compat reason moment find_syscall yet seized task patch move syscall number check right injecting syscall parasite_ctl needed information task mode make error path wrong syscall number longer subtler includes curing think corner case make error path execute_syscall shorter without additional ptrace syscalls better reported andrew vagin avagin virtuozzo.com andrew vagin avagin virtuozzo.com cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2787,8f6800db8322db92927679f2f5eb7f7c7fe0aa59,mitry Safonov <dsafonov@virtuozzo.com>, 2016-07-07 14:51:53 +0300, , x86 ptrace describe failure errno ptrace_get_regs correctly return error code case failure debugging reason let add error printing case failed right call ptrace signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2788,cd073d3e885c7826257ff69633aad84e064562ad,ndrew Vagin <avagin@virtuozzo.com>, 2016-07-07 08:59:00 +0300,1, parasite pas parameter regs pointer cid 163751 big parameter passed value pass_by_value pass_by_value passing parameter regs type size 224 byte value signed andrew vagin avagin virtuozzo.com reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2789,c36515ad418f97fccf56df3d0a5b86e291811aef,yrill Gorcunov <gorcunov@openvz.org>, 2016-07-07 00:15:24 +0300, , criu arch x86 style tuneup mixed call code use entry end linkage use macro segment use style comment signed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com tested dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2790,acfd9a3ebe8ca2d781d944dba6c7971124647450,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:25:49 +0300, , vdso suppress elf vdso error mapping compatible vdso restorer blob vdso_map_compat know kernel map firstly vvar page vdso page attempt search checking elf header magic page lead following error patch hide pie error pie util vdso elf32.c vdso elf header magic misma pie error pie util vdso elf32.c vdso elf header magic misma pie error pie util vdso elf32.c vdso elf header magic misma pie error pie util vdso elf32.c vdso elf header magic misma pie error pie util vdso elf32.c vdso elf header magic misma pie error pie util vdso elf32.c vdso elf header magic misma pie error pie util vdso elf32.c vdso elf header magic misma pie error pie util vdso elf32.c vdso elf header magic misma pie error pie util vdso elf32.c vdso elf header magic misma pie error pie util vdso elf32.c vdso elf header magic misma two vvar page process restored cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2791,a8ae7b4eea9d1388e1fedc1c4c35aa9221317855,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:24:22 +0300, , signal x86 use packed compat rt_sigaction otherwise compiler nicely align byte signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2792,3f1ac58c334208e868c519171393f785066a67cb,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:24:21 +0300, , restore x86 call int80 compat sigaction restore kernel patch x86 signal add sa_ x32 ia32 _abi sa_flags make signal abi sigaction syscall abi instead per thread tif_ia32 flag delivering signal compatible abi need call sigaction raw int80 exception patch restores signal int80 restore part pie restorer part lay compiled criu binary restorer pie pie part needed strictly setting sigchld handler signal handler set restore cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2793,19e4ab4f5a14e36ad53f767ae5e4bd41ccffa521,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:24:20 +0300, , zdtm add compatible test building make test compat_test build executable test i386 elf building test need following library multilib libaio.i686 libaio devel.i686 libcap devel.i686 libcap.i686 cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2794,ae119678ea7dc78fdac1a8ab6225651f81fb5c8e,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:24:19 +0300, , x86 restore put dumped descriptor back gdt present cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2795,2bcfa2c1fcaf38f3e39ffd62d1e1072061a111d1,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:24:18 +0300, , x86 dump entry gdt dump help primary bit application also may used mixed bit code enable dumping bit unless meet code include user_desc entry present bit image arguable may include user_descs compat task cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2796,b1cc99844f6015b71cc116da719394d84a47fbcd,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:24:17 +0300, , x86 call32 reserve space saving bit bit stack prefer done callee caller simplicity cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2797,75281003bde0b925559bf5be8de9c2b231a80245,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:24:16 +0300, , x86 add helper call bit code bit need call sigaction bit code kernel set sigframe abi according sigaction call abi also call get set _thread_area restore entry cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2798,928fe9be0e3fdaef96ba0ef8653daf565c93a840,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:24:14 +0300, , restorer refill symtable vdso otherwise still parsed x86_64 vdso symtable  pie 17917 vdso mapping compatible vdso 0x25000 pie 17917 vdso parsing 0x25000 0x29000 pie 17917 error pie util vdso elf32.c vdso elf header magic pie 17917 ismatch pie 17917 vdso parsing 0x26000 0x29000 pie 17917 error pie util vdso elf32.c vdso elf header magic pie 17917 ismatch pie 17917 vdso parsing 0x27000 0x29000 pie 17917 vdso pt_load p_vaddr 0x0 pie 17917 vdso dt_hash 0xb4 pie 17917 vdso dt_strtab 0x1c0 pie 17917 vdso dt_symtab 0x130 pie 17917 vdso dt_strsz 0x95 pie 17917 vdso dt_syment 0x10 pie 17917 vdso nbucket 0x3 nchain 0x9 bucket 0x270bc chain 0x270c8 cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2799,f52ea57df3431e22cf2a31142e9c530818b9c9a4,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:24:13 +0300, , pie restorer add bit vdso restorering compatible application x86 need parse bit vdso reason need _three_ compiled object version util vdso native parasite util vdso.o compatible parasite compat util vdso.o restorer util vdso.o util vdso elf32.o note link compat util vdso.o restorer i386 elf link x86_64 elf file todo maybe need refactor introduce generic config_compat instead defined config_x86_32 fix pie 27504 vdso mapping compatible vdso 0x25000 pie 27504 remap 0x7f3de3efa000 0x8048000 len 0x1000 ... pie 27504 vdso parsing 0xf7776000 0xf7778000 pie 27504 error pie util vdso.c vdso elf header magic mismatch pie 27504 error pie restorer.c 1540 restorer fail 27504 00.029188 error restore.c 988 27504 exited status 00.033072 error restore.c 1870 restoring failed cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2800,2457ce6f6d31211975e93bc1181717b93e4ff355,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:24:12 +0300, , restore add arch_prctl mapping compatible vdso map instead park unmap todo need check mapped size smaller x86_64 vdso cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2801,64d39a20df30518a5fd4040606f7db3ee31ae172,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:24:11 +0300, , restorer unmapping native blob compat task need pure ia32 asm cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2802,c7c63a3e8b1f6530e641a26df92949c9a325523e,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:24:10 +0300, , vdso always compat task vdso pfn differ native task todo compute dump compatible vdso pfn cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2803,5877e70e7e4b4b05be89c34dc5f53e8ff5009ef0,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:24:08 +0300, , x86 change k_rtsigset_t sig type equall size compat native task fix compatible task pie daemon wait command 00.009247 fetched ack pie __fetched msg pie error pie parasite.c 106 sys_sigaction failed pie __sent ack msg pie error pie parasite.c 725 close control socket writing cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2804,3c09c15daf0d1176dba9649e9980a73016b0e78d,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:24:07 +0300, , page xfer dump compatible iovec change way could handle compatible iovs separated hole dumping introduced iterator function get_iov return native iovec converting compatible iovec needed fix 00.009060 fetched ack 00.009061 transfering page 00.009062 buf 00.009063 0x100008048000 32841 00.009101 error page xfer.c 504 65536 17592320561152 byte spliced 00.009253 page pipe killing page pipe 00.009263 cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2805,aefed47f8f27db7a7a4089e60753f9708e818ee8,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:24:06 +0300, , page pipe add compatible iovec struct iovec may different size dumpee reason page dump fail added debug pie 00.011440 page pipe page pipe 00.011441 page pipe pipe 523 iovs 00.011442 page pipe buf page iovs 00.011444 page pipe 0x8048000 00.011446 page pipe 0xf7512000 00.011447 page pipe 0xf76ca000 00.011449 page pipe 0xf76cf000 00.011450 page pipe 0xf76dc000 00.011452 page pipe 0xf76e1000 00.011454 page pipe 0xf7702000 00.011455 page pipe 0xffdad000 00.011470 page pipe hole 00.011471 ppb page segs pipe 00.011476 sent msg daemon pie __fetched msg 00.011479 wait ack daemon socket pie sys_vmsplice page segs pie buf page iovs pie 0x8048000 pie 0x3000 pie 0xf7512000 pie 0x1000 pie 0xf76ca000 pie 0x4000 pie 0xf76cf000 pie 0x1000 pie error pie parasite.c splice page pipe pie __sent ack msg cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2806,8e329bde93971e4584bbefaf366039a0de66b586,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:24:05 +0300, , parasite syscall deserialize compat parasite answer compatible parasite use standard type sized _args_compat structure parasite compat.h sometimes miss high level overloading cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2807,2c0d72fd10c545f3406313b3b02947bb238e2c6c,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:24:03 +0300, , kdat add feature cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2808,6b9780ca769d1f6dd5b0467940e41c1a9480bf1d,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:24:02 +0300, , x86 crtools log dumping task mode cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2809,094afe856b4bc95d562f535e79f8ca8b7fbdff3d,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:24:01 +0300, , syscalls add __nr syscall compat wrapper generic code raw syscall number syscall_seized execute parasite control needed syscall trap couple task needed syscall syscall number may differ differ x86 native compatible mode need proper syscall wrapper cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2810,f6126361a2064bf766431a098bbee7babf823ed7,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:24:00 +0300, , parasite head fix cmd args load seems like offset broken typo leal movl according bit parasite header cmd parameter int pointer int int __used unsigned int cmd void args fixed load good cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2811,b6aca38d14cb129748f3127228f4b66b89c767f0,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:23:59 +0300, , x86 restorer add sigreturn compat mode pure bit sigreturn change code selector 0x80 rt_sigreturn remapped bit vdso fine cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2812,5aba43bdb7682d8e192fb597d9d7b687589b101c,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:23:58 +0300, , x86 add bit sigframe rt_sigreturn tried split patch much still quite huge mostly many compatible structure declaration lesser contains adaptation new native compat sigframe duality logic changed patch order creating sigframe cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2813,d58750c946559c97284cc0746ae597f91f723410,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:23:54 +0300, , x86 dump save gpregs_case missed has_gpregs_case restore always native task cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2814,69302058dd6ca78d07cffc88b7380054b48e5c82,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-20 11:08:00 +0300, , compel print unsupported relocation impact bit info debugging cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2815,1fff6d8a0cc398715668c9fc0d19dcc6adf0b3ba,mitry Safonov <dsafonov@virtuozzo.com>, 2016-05-30 15:48:51 +0300, , travis run compel test build stage took little time travis measure starred build added visible delay build help verify compel work supported arch cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com reviewed cyrill gorcunov gorcunov gmail.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2816,9d27b2cc36b92dd5c9cab1092f66dd525dce2981,mitry Safonov <dsafonov@virtuozzo.com>, 2016-05-30 15:48:50 +0300, , compel test fix test x86 arch add missing string.h include memcpy add extern __run_tests handle_binary.o fix commit 67526eb51ecf compel add test compel cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com reviewed cyrill gorcunov gorcunov gmail.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2817,968925817709a24c0873e0e1b747d03d581381ea,mitry Safonov <dsafonov@virtuozzo.com>, 2016-05-30 15:48:49 +0300, , compel makefile use force rebuild test submake cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com reviewed cyrill gorcunov gorcunov gmail.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2818,d6cea8104761b237c90b29c85f3dbdd269e2a89f,mitry Safonov <dsafonov@virtuozzo.com>, 2016-05-30 15:48:48 +0300, , compel test test binary return error check test result travis cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com reviewed cyrill gorcunov gorcunov gmail.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2819,5e0b4d0060548c74167263eb2a03023436714244,mitry Safonov <dsafonov@virtuozzo.com>, 2016-05-30 15:48:47 +0300, , compel test add assert macro look prettier also deleted unnecessary parameter test function functional change cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com reviewed cyrill gorcunov gorcunov gmail.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2820,3c966037d86d4efbdff3baf5875a87e5b0680a4b,mitry Safonov <dsafonov@virtuozzo.com>, 2016-05-30 16:14:00 +0300, ," compel test add section table string section test new test section table start oob bit elf many section table bit elf string section header oob section table bit elf string section oob bit elf i.e forget test string section header oob next diff compel handle elf.c compel handle elf.c 122,7 122,7 static const char ehdr_t hdr uintptr_t mem pr_err string section size addr unsigned long secstrings_hdr sh_size mem mem size return null return void addr   return void addr yell zero elf header bit elf ... string section header oob section table bit elf expected ret ... string section header oob section table bit elf expected ret useful add relocation test seems useful cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com reviewed cyrill gorcunov gorcunov gmail.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com",,
2821,6f58ca5acec4493a1fbc5c3920f0e9c071e7c6cc,mitry Safonov <dsafonov@virtuozzo.com>, 2016-05-25 20:12:00 +0300, , makefile add .force target sorry introducing need force rebuild implicit rule level main makefile sub makefiles decide force rebuilding target really need rebuild know dependency pattern specific rule implicit something like .phony compel criu ... work .force target seems simplest way solve going submake rebuild problem maybe elegant proposal fwiw patch criu make compel compel make entering directory tool criu hostdep compel handle elf 32.d ... hostlink compel compel make leaving directory tool criu criu touch compel main.c criu make compel compel make compel compel date criu touch compel makefile criu make compel compel make compel compel date patch criu touch compel main.c criu make compel compel make entering directory tool criu hostdep compel main.d hostcc compel main.o hostlink compel compel make leaving directory tool criu criu touch compel makefile criu make compel compel make entering directory tool criu hostdep compel handle elf 32.d ... hostlink compel compel make leaving directory tool criu cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2822,80a5f519f3a763b1eda3e16353edb44ae80cbb0f,mitry Safonov <dsafonov@virtuozzo.com>, 2016-05-25 15:52:59 +0300, , test compel add va_args printing launch_test also changed test message x86 check zero elf header check non supported elf header check non relocatable elf header check zero elf header check non supported elf header check non relocatable elf header  zero elf header bit elf unsupported elf header bit elf non relocatable elf header bit elf zero elf header bit elf unsupported elf header bit elf non relocatable elf header bit elf cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2823,e162c0cda01c65b88092c5a0e679e14b405cb393,mitry Safonov <dsafonov@virtuozzo.com>, 2016-05-25 15:52:58 +0300, , test compel add test .gitignore cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2824,72cc02d14af437f990be207375bd93f581ad8be9,mitry Safonov <dsafonov@virtuozzo.com>, 2016-05-25 15:52:57 +0300,157, compel fix sign extension well hope make integer promotion mistake anymore 6.3.1.1 int represent value original type value converted int otherwise converted unsigned int called integer promotions.48 type unchanged integer promotion cid 161317 sign_extension suspicious implicit sign extension hdr e_shentsize type unsigned short bit unsigned promoted hdr e_shentsize hdr e_shnum type int bit signed sign extended type unsigned long bit unsigned hdr e_shentsize hdr e_shnum greater 0x7fffffff upper bit result size_t sec_table_size hdr e_shentsize hdr e_shnum cid 161317 sign_extension suspicious implicit sign extension hdr e_shentsize type unsigned short bit unsigned promoted hdr e_shentsize hdr e_shstrndx type int bit signed sign extended type unsigned long bit unsigned hdr e_shentsize hdr e_shstrndx greater 0x7fffffff upper bit result 111 addr sec_table hdr e_shentsize hdr e_shstrndx fix 157 fix commit 36664a3cabec compel separate __handle_elf reported coverity reported andrew vagin avagin virtuozzo.com andrew vagin avagin virtuozzo.com cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2825,6fe6a283e18226e94ac908c333cbd54f4f26db13,mitry Safonov <dsafonov@virtuozzo.com>, 2016-05-11 15:49:00 +0300, , compel add test compel yet test elf header soon add build make test compel handle_binary test output tap format test compel handle_binary check zero elf header check non supported elf header check non relocatable elf header check zero elf header check non supported elf header check non relocatable elf header two run x86_64 x86_32 elf binary planning integrate travis sure compel properly working test need may run qemu static cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2826,89978b5b1d39868397b82fb016bafa1b086b147b,mitry Safonov <dsafonov@virtuozzo.com>, 2016-05-06 19:14:58 +0300, , compel add error constant test need know elf file parsing interrupted proper place thus meaningful error number cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2827,efc30c08560074cd6a5f05d59108ed34518460d4,mitry Safonov <dsafonov@virtuozzo.com>, 2016-05-06 19:14:57 +0300, , compel make output stream option help omit pr_ output screen test one redefine opts cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2828,c200d80372abcaf30f1fcb72b59332d7f6eeab8f,mitry Safonov <dsafonov@virtuozzo.com>, 2016-05-06 19:14:56 +0300, , compel separate __handle_elf copied __ptr_oob check util vdso.c allow check structure begin pointer structure end also patch code checked string section header pointer oob dereferencing pointer meaningless check oob section table string section header inside section table check string section length oob next patch add test function compel related change cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2829,eb6bc4019dcb9cf38814bf36478a1d132f5936bd,yrill Gorcunov <gorcunov@openvz.org>, 2016-05-06 14:10:28 +0300, , build call compel execution clean target signed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2830,72503fb903331323c0bd8bcac0d462c14fa4cfe4,yrill Gorcunov <gorcunov@openvz.org>, 2016-05-06 14:10:27 +0300, , build fix compel target longer phony compel target compel compel instead signed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2831,eb329f0949e8b7cda1bc634074bd89f42f5e0583,mitry Safonov <dsafonov@virtuozzo.com>, 2016-05-04 17:35:13 +0300, , compel pas defines two time hostcflags think pretty pas dconfig_x86_ instead defines simplifies statement make readable cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2832,ce5cd6931294803f0cfb063e0464408299bdf9bb,mitry Safonov <dsafonov@virtuozzo.com>, 2016-05-04 17:35:12 +0300, , compel fix build ppc64 typo sorry typo attentive fix commit ea523b183326 compel shuffle skeleton bit cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2833,9efd30b6a17b299f0dfd4fadfcda900f3f75bbe0,mitry Safonov <dsafonov@virtuozzo.com>, 2016-04-29 22:47:00 +0300, , compel define check elf header complement elf magic per arch way cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2834,392469b697501e51916891ed4c7ad26a50dc801a,mitry Safonov <dsafonov@virtuozzo.com>, 2016-04-29 22:47:00 +0300, , compel add per arch handle elf.c split handle_elf function main.c per arch rename handle_binary cross reference rename generic handle_elf __handle_elf define litter namespace cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2835,427f68f0a3033d608e44cadb6e21799ce456293c,mitry Safonov <dsafonov@virtuozzo.com>, 2016-04-29 22:47:00 +0300, , compel shuffle skeleton bit propose change compel directory structure want support arch x86 ppc66 seems worth add arch folder move source src folder header build additional object cflags symlink seems hacky way mess around file cross linking made handle elf.h header arch helper code may named elf.h may confuse elf.h system header would like drop elf_ppc64 elf_x86_32 elf_x86_64 defines use config_x86_64 whatnot patch compel directory become compel arch ppc64 include handle elf.h x86 include handle elf.h handle elf 32.c handle elf.c handle elf.c include piegen.h uapi elf32 types.h elf64 types.h types.h main.c makefile note temporary make value32 addend32 compilation arm aarch64 cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2836,4bccd6a6bc0e0787b120a124324162ea85612493,mitry Safonov <dsafonov@virtuozzo.com>, 2016-04-22 21:44:00 +0300, , .gitignore update recent change cyrill gorcunov gorcunov gmail.com signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2837,189d782a166dc64e3c80742a1d58cfcbfb3ab473,mitry Safonov <dsafonov@virtuozzo.com>, 2016-04-27 14:15:00 +0300, , arm pie build produce relocatable parasite object option relocation made arm 0x76dbc018 0x76dbc018 0xebfffffe may saw objdump also leaded hang putting tsock message 01.368297 01.368321 01.368339 collecting fds pid 13503 01.368360 01.368535 found file descriptor 01.368564 01.368648 dump private signal 13503 01.368708 dump shared signal 13503 01.368761 parasite syscall_ip 0x10000 01.369605 set parasite blob using memfd 01.369641 putting parasite blob 0x76cc5000 0x76e1f000 01.369755 dumping fpu register 13503 01.369818 putting tsock pid 13503 link native.lib.a also fix build aarm64 reported alex avankemp gmail.com reported long.wanglong long.wanglong huawei.com cyrill gorcunov gorcunov gmail.com christopher covington cov codeaurora.org reviewed christopher covington cov codeaurora.org signed dmitry safonov dsafonov virtuozzo.com reviewed christopher covington cov codeaurora.org reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2838,db889906654dbc720968fdb1d47e5adccdc998d3,yrill Gorcunov <gorcunov@openvz.org>, 2016-04-19 11:07:09 +0300, , compel add missing 32s support http github.com xemul criu issue 148 issuecomment 211635122 signed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2839,ddcb61de1309161533fafbcc1a1a0b2c3b7321da,yrill Gorcunov <gorcunov@openvz.org>, 2016-04-19 11:07:08 +0300,148, compel reclose file already closed case error close file already closed http github.com xemul criu issue 148 reported andrew vagin avagin virtuozzo.com signed cyrill gorcunov gorcunov openvz.org reviewed andrey vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2840,2ac20e79088cf90a35099084a81221a4be6ff936,mitry Safonov <dsafonov@virtuozzo.com>, 2016-04-12 19:10:55 +0300, , restorer drop sigframe include included asm restorer.h signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2841,7f48302509df5f787fef1e4ea3d50c361467d2a8,mitry Safonov <dsafonov@virtuozzo.com>, 2016-04-12 19:10:54 +0300, , x86 crtools add injected int 0x80 instruction code signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2842,8c2faeb5a71c06fef2eda79a5ae5d9f7dd7871a9,mitry Safonov <dsafonov@virtuozzo.com>, 2016-04-12 19:10:53 +0300, , parasite syscall choose native compat blob signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2843,024bae0af586ab6f42297e302f6ced095aa8b51c,mitry Safonov <dsafonov@virtuozzo.com>, 2016-04-12 19:10:52 +0300, , x86 add macro optional document get set _user_reg used initialized register set otherwise code change may find ourself situation setting inited user regs set compatible register set is_native false signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2844,2aa583b45bc35ad23afe2be69c96e78e722df5b8,mitry Safonov <dsafonov@virtuozzo.com>, 2016-04-12 19:10:51 +0300, , x86 crtools rework detect task personality size register set returned ptrace call reliable approach strace 4.8 version http sourceforge.net project strace file strace 4.8 signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2845,6068d10cee4a7976876d7a8a9d24fd40ffdbb1b9,mitry Safonov <dsafonov@virtuozzo.com>, 2016-04-18 21:02:00 +0300, , core x86 add compatible register set introduced change mainly reforming existing code use new register set union protobuf image reuse compatible native task enum beggining describes register set type better simpler introducing new bit register set compatible task tried firstly oneof keyword http github.com 0x7f454c46 criu commit protobuf support oneof keyword recent version 2.6.0 tried rework enum register set http github.com 0x7f454c46 criu commit work either restorer pie take gpregs parameter userregsentry contain pointer structure object may fixed redefining userregsentry typedef containing needed object treat right restorer complicated reusing signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2846,d94b9f3065057b8e3eb49a519499764dcacd3409,mitry Safonov <dsafonov@virtuozzo.com>, 2016-04-12 19:10:49 +0300, , pie generate native compat parasite parasite mode depended restorer restorer switch compatible mode arch_prctl end jump bit executable sigreturn parasite two target native compat one restorer name restorer result parasite native.o parasite compat.o restorer.o object pie build still may work piegen without gen offset.sh many fixme patch code fixed use compatible parsite needed signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2847,29a434c4cf8907023f4a8d3ac245025b77b9dc37,mitry Safonov <dsafonov@virtuozzo.com>, 2016-04-12 19:10:48 +0300, , parasite refactor macro compat native usage code yet use native parasite type definition parameter used used next patch signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2848,65566abd3c220b00f977e75d1da1d7a3e37949e1,mitry Safonov <dsafonov@virtuozzo.com>, 2016-04-12 19:10:47 +0300, , pie vdso add i386 trampoline signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2849,789f9208d4d1d4c972f55a1bae5e3aefee73edee,mitry Safonov <dsafonov@virtuozzo.com>, 2016-04-12 19:10:46 +0300, , pie.lib generate compatible pie object file compatible object obj compat basename compat.o use obj compat basename basename file native object work reason cflags_ nmk ccflags need different name compatible native object want make mess parent directory put symlinks compat dirs came decision even like signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2850,af04c83c7cfc1e9d38bc65a0ec882fe236a23fe4,mitry Safonov <dsafonov@virtuozzo.com>, 2016-04-12 19:10:44 +0300, , criu pie generate native.lib.a first pie library use compiling native pie signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2851,6b0fe1aff99f436e3954f7f320762ab26daa2c9f,mitry Safonov <dsafonov@virtuozzo.com>, 2016-04-12 19:10:43 +0300, , x86 pie split parasite head.s part signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2852,bc5cca1a2900b90bb6fd6bc468afc82036978148,mitry Safonov <dsafonov@virtuozzo.com>, 2016-04-12 19:10:42 +0300, , exec add non generated sys exec tbl x86 impact search sys exec tbl 32.c compatible task rename use find_syscall bit check compatible task syscall still execute syscall task still bit pie return false task note sure make mrproper criu directory applying patch criu arch x86 sys exec tbl.c autogenerated make conflict try apply patch dirty directory signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2853,bbc2f1331f3752dee62028bb59eaa93c2e70ac7d,mitry Safonov <dsafonov@virtuozzo.com>, 2016-04-12 19:10:41 +0300, ," x86 build generate syscalls 64,32 .built in.o uncommenting fixme add compatible task sys exec tbl.c doe add two different syscall table exec sys exec tbl 64,32 add two different syscall header syscall 64,32 included x86 generic syscall.h depending dconfig_x86_ 32,64 option build two different syscalls 32,64 .built in.o criu core file need sys_ __nr_ defines currently kerndat.c shmem.c create simple syscall codes.h includes syscall code 64.h added rebase master way apply compatible patch set simply able bisect regression signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com",,
2854,0aa355e40a37119d1aa7ec689bcc2c359c33432b,mitry Safonov <dsafonov@virtuozzo.com>, 2016-04-12 19:10:39 +0300, , .gitignore add compel compel signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2855,4ffbb4d04e85c4151519dcbc673df697ca27ec7a,yrill Gorcunov <gorcunov@openvz.org>, 2016-04-07 13:51:00 +0300, , build compel drop double targeting hostprog one target enough otherwise gitting double deps generation signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2856,f2dd307be9b2d61a90463c856bbaeccfa9416231,yrill Gorcunov <gorcunov@openvz.org>, 2016-04-06 15:25:43 +0300, , compel drop config.h deps need actually signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2857,acfa85ba5ae3783346ae058be6e95f3253e0e93c,yrill Gorcunov <gorcunov@openvz.org>, 2016-04-05 18:41:15 +0300, , compel initial commit standalone tool compel component replacement several aspect criu functionality binary blob generation pie parasite restore code library parasite code injection execution implemented commit rather shuffle compel directory use fetching cflags compiling pie blob use piegen functionality generate blob signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2858,dbc2edb83a0713c1a002e7e95dd7f8ac02878001,yrill Gorcunov <gorcunov@openvz.org>, 2016-04-05 18:41:14 +0300, , compel piegen introduce action introduce action piegen generate blob used criu already cflags ldflags print option needed compiler linker building compel compatible object rather moved old main function body piegen helper function implement rest action since one liner note usage new compel brand safe export anything yet signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2859,ec97356024f15984ef2cbc28ed9529c046588cad,yrill Gorcunov <gorcunov@openvz.org>, 2016-04-05 18:41:13 +0300, , compel piegen add arch option needed print cflags ldflags unused moment signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2860,d771ffb942ffdd0e3435bad0dee115126dd7f962,mitry Safonov <dsafonov@virtuozzo.com>, 2016-04-12 19:10:40 +0300, , dockerfile add libc6 dev i386 gcc multilib fix following error travis arch x86 syscalls syscall32.o file included usr include signal.h home travis build 0x7f454c46 criu criu arch x86 include asm types.h arch x86 syscalls syscall32.c usr include features.h 374 fatal error sys cdefs.h file directory include sys cdefs.h  signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2861,40738f7b6a185a5de14680a27961dfd31d5795a6,avel Emelyanov <xemul@virtuozzo.com>, 2017-03-08 21:45:51 +0300, , criu version 2.12 huge release new stuff docker several bug fixed signed pavel emelyanov xemul virtuozzo.com,,
2862,2aa9b4f27d36f69851ad7186edc9d89cd4aaf96b,avel Emelyanov <xemul@virtuozzo.com>, 2017-03-06 11:01:30 +0300,287, ipc fix huge ipcshm segment data dump restore ipcns shm image buffered contain raw dump memory content segment huge bfd engine overflow write data image nice huge image use bfd avoid double buffering also future image fixed keep mem dump one image object http github.com xemul criu issue 287 signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2863,d5df3bf2acd65946149c838917e6f1cce2bd4183,ir Kolyshkin <kir@openvz.org>, 2017-02-22 15:15:44 -0800, , nmk return print directory year ago flag removed part criu build sub directory i.e using make subdir therefore path printed make relevant subdir rather top source dir prevented tool like vim jumping correct source file error detail see commit xxxxxx nmk remove print directory makeflags everything except documentation test rather minor built top source directory finally add flag back enjoy cleaner output reviewed dmitry safonov dsafonov virtuozzo.com signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2864,e906f7cdd5dadd1f7cc4ed55680452d9aaac8184,ir Kolyshkin <kir@openvz.org>, 2017-02-22 15:15:43 -0800, , fix uninstall target working make destdir pwd inst3 uninstall uninstall crit.1 uninstall criu.8 uninstall libcriu.so uninstall pkgconfig criu.pc uninstall crit medium kir git criu script nmk script build.mk criu arch x86 makefile directory make rule make target criu arch x86 makefile stop makefile recipe target criu arch x86 crtools.built in.o failed make criu arch x86 crtools.built in.o error recipe target uninstall failed make uninstall error fix commit 7a36048 build make return make top directory reviewed dmitry safonov dsafonov virtuozzo.com signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2865,2a9d9c66150e20e0d9ef13b42cfb083e2a4d2d38,ir Kolyshkin <kir@openvz.org>, 2017-02-22 15:15:42 -0800, , lib makefiles integrate whole system makefiles integrated top bottom meaning path sub makefiles relative top source dir sub makefiles executed via make build subdir target reason makefiles lib exclusion let fix side effect build individual target lib example make lib libcriu.so work use .force thanks dsafonov signed kir kolyshkin kir openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2866,67bd47878d8c60b2d8489562e7a2e613d3842988,ir Kolyshkin <kir@openvz.org>, 2017-02-15 23:20:27 -0800, , image makefile sanitize cleaning instead removing everything mean wildcards let properly generate file name removed fix typo thanks dsafonov resend typo fixed real time reviewed dmitry safonov dsafonov virtuozzo.com signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2867,ebb7087aea8e76387155629b63c4f745db8bb325,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-28 10:26:00 +0300,1333, pipe reopen pipe via usernsd pipe inherited external may impossible reopen restored user namespace due lack permession case reopen via usernsd http github.com opencontainers runc issue 1333 signed andrei vagin avagin virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2868,1de7fdff4ae79049c6e940fc9fb9530f676330a5,ndrei Vagin <avagin@virtuozzo.com>, 2017-03-01 00:49:06 +0300, , zdtm socket tcp execute iptables option wait xtables lock run zdtm static socket tcp nfconntrack start test test suid socket tcp nfconntrack pidfile socket tcp nfconntrack.pid outfile socket tcp nfconntrack.out another app currently holding xtables lock perhaps want use option makefile 331 recipe target socket tcp nfconntrack.pid failed make socket tcp nfconntrack.pid error reported travis signed andrei vagin avagin virtuozzo.com,,
2869,56662c4ab26f82d48a2766e2c73bf710782fa34f,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2017-02-22 19:52:16 +0300, , systemd autofs restart.sh fix issue removed check_fs_type reference check_fs_type helper repalce get_fs_type reference silly mistake signed stanislav kinsburskiy skinsbursky virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2870,5afbbe5ce2b0e29fd781617f73d80a449d248f4c,bruno@gsd.inesc-id.pt <rbruno@gsd.inesc-id.pt>, 2017-02-11 04:34:43 +0100, , page xfer splice data image chunk needed case target descriptor image cache proxy socket signed rodrigo bruno rbruno gsd.inesc id.pt signed katerina koukiou k.koukiou gmail.com signed pavel emelyanov xemul virtuozzo.com,,
2871,86b9170ff3cd5d96ef2b0e9314009d7a30e6eb7d,bruno@gsd.inesc-id.pt <rbruno@gsd.inesc-id.pt>, 2017-02-11 04:34:43 +0100, , page read support reading chunk needed case get data image cache proxy socket signed rodrigo bruno rbruno gsd.inesc id.pt signed katerina koukiou k.koukiou gmail.com signed pavel emelyanov xemul virtuozzo.com,,
2872,b43f3f54be914ee2ab1b94a7a6e8961d072ab19e,avel Emelyanov <xemul@virtuozzo.com>, 2017-02-16 15:12:00 +0300, , file keep single sorted list fds fds restore set merge longer need two list bug eventpoll tfd list situation mean restored safe report place signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2873,de8fab2e0e9915d87d3ca9cd9272e4bcc9850e03,avel Emelyanov <xemul@virtuozzo.com>, 2017-02-16 15:11:43 +0300, , autofs use files.c version find_used_fd signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2874,f7862732510390d8b5eaea7923cd9d2ea12fabd9,avel Emelyanov <xemul@virtuozzo.com>, 2017-02-16 15:11:27 +0300, , file make find_used_fd work pstree_item signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2875,8c0eef35f4282a65928c1fbfd17074b2219f65e1,avel Emelyanov <xemul@virtuozzo.com>, 2017-02-16 15:11:10 +0300, , file make find_unused_fd work pstree_item signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2876,a314a4543787475c98a32c2b9b3b655f8857b641,avel Emelyanov <xemul@virtuozzo.com>, 2017-02-10 14:29:15 +0300, , pstree relax reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2877,886a080d6d3946273d64b7f1d6be45301c828c25,avel Emelyanov <xemul@virtuozzo.com>, 2017-02-10 14:28:57 +0300, , pid introduce vpid helper avoid long item pid .virt vpid item  git grep sed pid .virt vpid done adding vpid routine manual fixlets reviewed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2878,adac02e8a5d3c3755cbfbb574d5fac664b71f7f1,avel Emelyanov <xemul@virtuozzo.com>, 2017-02-14 19:56:43 +0300, , file sanitize helper scattering two headed file signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2879,946ab984c100f5893475ff801bd66061f347dc17,avel Emelyanov <xemul@virtuozzo.com>, 2017-02-14 19:56:22 +0300, , unix factor common part restoration signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2880,e7523317e058a65d1c667fe8f75c8864739b20e8,avel Emelyanov <xemul@virtuozzo.com>, 2017-02-14 19:55:58 +0300, , unix fix tail processing peer socket get post open stage standalone socket peer others return open mean restore change avoids double calling rst_file_params one signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2881,3200fa8f934d87de153d9e931f11607fc689b684,drian Reber <areber@redhat.com>, 2017-02-14 18:34:55 +0100, , service feature check core dump criu_req criu_opts empty trying use feature_check rpc criu_req criu_opts set null make criu segfault technically reason valid criu_req criu_opt feature check reason set image directory setproctitle remove segfault unnecessary requirement setting criu_req criu_opts another possible solution would return error criu_req criu_opts null far seems unnecessary criu_req criu_opts feature check signed adrian reber areber redhat.com signed andrei vagin avagin virtuozzo.com,,
2882,d03418459ad84b47f10052ec2b32a0267545d817,ir Kolyshkin <kir@openvz.org>, 2017-02-13 14:52:32 -0800, , do_open_proc annotate printf attr help catch bug argument line format string signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2883,9469f2c022e5d9afbfd2bdb4811dd9dbb90527de,odrigo Bruno <rbruno@gsd.inesc-id.pt>, 2017-02-11 04:34:41 +0100, , pre read sock packet buffer criu queue.c file changed insertion deletion order prepare use socket transfer image file lseek call need removed queue read packet data time header disadvantage consume memory image read packet restore hopefully affordable signed rodrigo bruno rbruno gsd.inesc id.pt signed katerina koukiou k.koukiou gmail.com signed pavel emelyanov xemul virtuozzo.com,,
2884,1510b248687f978e614b0bc8c08c0027c729c8a3,ir Kolyshkin <kir@openvz.org>, 2017-02-15 23:20:26 -0800, , nmk clean gcov file criu compiled gcov .gc file created never cleaned git clean dxf doe job popular among criu devs still feel good good make clean right thing reviewed dmitry safonov dsafonov virtuozzo.com signed kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com,,
2885,c4247302f7e9ac793abeb8f8e15bde8eed3959f4,ir Kolyshkin <kir@openvz.org>, 2017-02-10 06:56:00 +0300, , criu change way work cli tool see adding option increase verbosity currently case criu default verbosity set using actually decrease verbosity level increase verbosity need use vvv behavior quite patch change way work retains vnum using increase verbosity default value e.g vvv increase surely change user experience example someone using rather silent warning verbosity increased imho better signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
2886,c58d33944e75ed2cee850d603cc4c60d3759ae04,avel Emelyanov <xemul@virtuozzo.com>, 2017-02-10 14:33:46 +0300, , vma factor stat ing vma signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2887,4beb34e90ac6050e32b87a22c83356f2f0473cf6,avel Emelyanov <xemul@virtuozzo.com>, 2017-02-10 14:33:33 +0300, , vma mark fname arg const signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2888,8054c345d2612b0d91efb4494632f9e99d3da104,avel Emelyanov <xemul@virtuozzo.com>, 2017-02-10 14:33:19 +0300, , vma remove vma_area_list arg handle_vma signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2889,ff967070e3516866e8b941e521a5fb73c7af1cf4,avel Emelyanov <xemul@virtuozzo.com>, 2017-02-10 14:33:06 +0300, , vma move non root map_files handling subroutine signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2890,7b2870f58e2fcb27a10a96afe1590bd7c9cfac43,avel Emelyanov <xemul@virtuozzo.com>, 2017-02-10 14:32:52 +0300, , vma clamp union single element signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2891,0ecd9c2b28dda07f5143430d875782dc4e581397,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-07 23:52:00 +0300, , travis execute test alpine zdtm.py run work alpine find unrecognized executable run zdtm static env00 sure broken travis success travis execute test alpine signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2892,649280e31d0dd92954673836457f00ef79fd847e,avel Emelyanov <xemul@virtuozzo.com>, 2017-02-03 16:23:00 +0300, , pagemap fault inject partial pages.img read signed pavel emelyanov xemul virtuozzo.com,,
2893,0d979b2934be8b7c5558420208e83f952b5231c8,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-02 07:46:38 +0300, , zdtm.py use status instead daemon work faster allows check exit code travis success series starting page server return server pid page server signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2894,46caa25a1ab3a3f0e98019973adafe9250a21fc3,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-22 20:49:27 +0300, , dockerfile use newer version alpine see space left device error current version let try use newer version alpine maybe error fixed signed andrei vagin avagin virtuozzo.com,,
2895,b56c5f8a82371872291f6c84d04a0802a9dac299,yrill Gorcunov <gorcunov@openvz.org>, 2017-02-22 16:54:16 +0300, , zdtm extend vim setting zdtm.py signed cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com,,
2896,50864274db86625fd06f2f93feac0fe5ef1f5ef4,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-07 11:43:31 +0300, , zdtm check case slave pty mounted somewhere travis success fix docker container console rev3 signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2897,aa26237e51db58f5cb3818b09ab2b774c5d6ebbc,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-22 09:39:46 +0300, , tty check master bind mounted slave root mntns check master bind mounted slave opened root mount namespace problem restore mount root mount namespace mount restored create mount namespaces restoring mount open file root mount namespace signed andrei vagin avagin virtuozzo.com,,
2898,b6f7577109d1e940f9f3dc64539803d1eb2ca411,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-22 09:39:45 +0300, , mount restore mount root mount namespace currently mount restored one mount namespace namespace cloned restore mount namespaces need another copy namespace clean link remap file let define term root mount namespace mount namespace link remap file destroyed currently restore mount namespace clone namespace work case open file descriptores restore mount restore bind mount pty slave file descriptor opened specified mount one restore mount namespaces patch reworks code mount restored mount namespace mount namespace created case open file root mount namespace zdtm.py run zdtm static pty console iter run zdtm static pty console start test test suid pty console pidfile pty console.pid outfile pty console.out run criu dump run criu restore run criu dump log dump zdtm static pty console dump.log grep error 00.106521 error criu file reg.c 1132 lookup mount 563 path ptmx 00.106585 error criu dump.c 1325 dump file pid failed 00.129041 error criu dump.c 1674 dumping failed error signed andrei vagin avagin virtuozzo.com,,
2899,f830e0ff3491c49dc6fc24c24e35cc7934e5fded,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-07 11:43:30 +0300,1202, mount clone mount namespace open detached mount create temporary directory detached mount clone whole mount namespace open mount release created namespace result http jira.sw.ru browse psbm 57135 http github.com opencontainers runc issue 1202 travis success fix docker container console rev3 signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2900,3cedb6183a725d5129eb50ad1b9545848429a984,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-07 11:43:29 +0300, , mount create slave pty bind mounted somewhere create pty pair file descriptor restored problem slave tty bind mounted somewhere case create pair hold master file descritore related file descriptor restored patch unix socket used hold file descriptros use sk_peek_off msg_peek get travis success fix docker container console rev3 signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2901,7dc7030d90324bdd9d7e2af96dcd0e4f7839f6cb,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-15 02:59:24 +0300, , fdstore add synchronization protect peek offset need get file descriptor set peek offset peek message two system call need sure nobody change socket peek offset set acked pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2902,4d06aa12bb9d2e9251e12444e0776abe638de937,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-07 11:43:28 +0300, , fdstore add storage file descriptor need storage file descriptor shared process use lot file descriptor going use restore use file descriptor find descriptor used restored process confilict descriptor two solution first one service process handle command push_fd pop_fd another solution save descriptros unix socket requires one extra descriptor register service unix socket buffer fit number file descriptros use sk_peek_off msg_peek get file descriptros socket many time need patch implement second solution call recvmsg msg_peek travis success fix docker container console rev3 signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2903,6afe523d97d59e6bf29621b8aa0e6a4332f710fc,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-07 11:43:27 +0300,1202, tty notify orphan tty via rpc docker creates pty pair container devpts use console slave tty set control tty init process bind mounted dev console master tty handled externelly criu handle external resource internal resource used externaly http github.com opencontainers runc issue 1202 travis success fix docker container console rev3 signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2904,e4f60eee8b8861b98bdce0a88efcc5c72fb582de,avel Emelyanov <xemul@virtuozzo.com>, 2017-02-17 14:28:05 +0300, , criu version 2.11.1 2.11 several got bronek page server start via rpc fedora build ppc64le restorer switch signed pavel emelyanov xemul virtuozzo.com,,
2905,01e475a6a02d96cf379873e4b8cd619a1f0801c7,ir Kolyshkin <kir@openvz.org>, 2017-02-16 17:47:28 -0800, , fix fedora build undo _fortify_source pie recent fedora release add rpm build break compiling pie code architecture due trying use absent memcpy_chk instead usual memcpy must stand strong fortify_source pie code pasaran viva resistance note test fortify_source disabled completely different reason see commit d1a36cc9 detail touching resend correct latest version reported reported adrian reber adrian lisas.de signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
2906,17366e2ec1f635a9e29a5681bc206eafaa81d2d7,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2017-02-16 17:41:31 -0800, , ppc64 fix clobber list item assembly macro rewrote commit 89d6b39cfe36 ppc64 pie add ppc64le relocation processing clobber list updated generate build neither runtime error since clobber list larger needed gcc raising error assembly macro clobbering register patch fix clobber list modified register fix 89d6b39cfe36 ppc64 pie add ppc64le relocation processing reported adrian reber adrian lisas.de signed laurent dufour ldufour signed pavel emelyanov xemul virtuozzo.com,,
2907,56138fea8cc361890864edab3c97d7f51f8dae1b,avel Emelyanov <xemul@virtuozzo.com>, 2017-02-16 15:03:54 +0300, , service fix page server start return code checking commit 10801f36 page server return server pid page server broke page server starting via rpc latter code check return value failure signed pavel emelyanov xemul virtuozzo.com signed andrei vagin avagin virtuozzo.com,,
2908,8719b7c99d45a11aa3219f922c6f33826f77e2f8,avel Emelyanov <xemul@virtuozzo.com>, 2017-02-13 11:20:20 +0300, , criu version 2.11 bugfix mostly release interesting new feature include huge rework file restoring engine fixed bug seen reality proven exist rework open way scm rigts need nginx signed pavel emelyanov xemul virtuozzo.com,,
2909,853391e5a0691684a2704ab9ce5c59f1602e21c5,drian Reber <areber@redhat.com>, 2017-02-06 20:03:00 +0300, , rpc make status option available via rpc runc rpc interface run criu necessary expose newly added status feature via rpc using status interface make possible use lazy migration runc travis success rpc make status option available via rpc rev3 signed adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
2910,ffc288fb42c8358b801fedca88fbe2e1bd5eac55,yrill Gorcunov <gorcunov@openvz.org>, 2016-04-05 18:41:12 +0300, , compel piegen add uapi dir option need include type compel get directory signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
2911,3da3d8183fc7fe2584f2e9efe8644b86d6de95b2,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-28 15:55:35 +0300, , criu arch x86 use stdint fpu move header compel signed cyrill gorcunov gorcunov openvz.org,,
2912,7ac2d79ceb97a09c84adf7149d44e03a60308150,drian Reber <areber@redhat.com>, 2016-12-15 17:30:00 +0300, , xsave check rather migrating process system xsave cpu flag another system without xsave cpu flag possible fails restore avoid situation possible boot source system migration noxsave kernel command line unfortunately criu currently try detect presence xsave macro represents feature cpu without taking account operating system disabled xsave checking xsave availability macro detects correctly linux booted disabled xsave thus migrating process host without xsave possible kernel flag noxsave travis success criu dump fails using noxsave rev2 signed adrian reber areber redhat.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
2913,730d374aed5e4747f275efca404f4fdf6205d134,avel Emelyanov <xemul@virtuozzo.com>, 2017-01-11 11:25:00 +0300, , pie print timestamps restorer nowadays parasite restorer log start pie prefix let add timestamps restorer parasite adding timestamps would require passing start timeval libcompel yet clear travis success pie print timestamps restorer signed pavel emelyanov xemul virtuozzo.com,,
2914,5d47738ad0b1d879a6bc04279d8ba422bc0b2019,avel Emelyanov <xemul@virtuozzo.com>, 2017-02-03 16:22:00 +0300,271, pagemap support async page reading chunk collect read_page request one big preadv call latter one may read data one return byte read requested valid already met bug advance iovec set ret value continue reading compilation fix arm little bit debugging http github.com xemul criu issue 271 travis success series starting pagemap support async page reading chunk signed pavel emelyanov xemul virtuozzo.com,,
2915,6267e26720b9c8c4274c2bebe5f58049d69b8f06,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-03 06:13:00 +0300,1, mount simplify patch reworks function remove mess fix next coverity issue 394 parent parent cid 175314 dereference null check forward_null 27. var_deref_model passing null pointer parent child list_add_tail dereferences show detail travis success mount simplify signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2916,10dc2a5c363c91544f580c6109c56cbce2e9c1b9,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-03 06:13:00 +0300, , zdtm use pr_err errno required 205 cid 175317 invalid format string conversion 206 pr_perror accept client connection travis success zdtm use pr_err errno required signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2917,63b459a2ab9c2a55b0db0e1640d521cc5f9ac837,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-03 06:13:00 +0300, , unix leak file descriptor 1359 cwd_fd root_fd cid 175319 resource leak resource_leak handle variable cwd_fd going scope leak handle travis success unix leak file descriptor signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2918,3649d94c1dfc0aba37481d1c55435b92f344f0d2,irill Tkhai <ktkhai@virtuozzo.com>, 2017-02-02 21:34:00 +0300, , file fix populated helper every task helper populated except case fix http travis ci.org tkhai criu build 197728925 travis success file fix populated helper signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2919,dc202520495814f15f7045da6bd5153b7a7db412,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-02 11:19:00 +0300, , travis fix collecting code coverage problem chroot test geninfo error home travis build xemul criu test zdtm static chroot.dir.test home travis build xemul criu image timer.gcno could open file ignore error travis success travis fix collecting code coverage signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2920,10801f3632ee1f1140b2cd06af72beb8a3d42d7c,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-02 07:46:37 +0300, , page server return server pid page server patch fix exit code page server started daemon criu exit pid page server meaningless pid usually bigger 128 travis success series starting page server return server pid page server signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2921,78d7cf92c7f89b398bcb7ee3caf8255dcb38827d,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-01 20:53:39 +0300, , namespace use ferror detect error fscanf currently check errno musl libc zero fscanf returned eof without error travis success fix alpine linux signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2922,8e93583d284825ec3da56ce125540fdfd1c89136,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-01 20:53:38 +0300, , criu user raw syscalls sched_getparam implemented musl libc alpine travis success fix alpine linux signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2923,b4e276829847d660ea5ad06aa47fb8d990927c1e,irill Tkhai <ktkhai@virtuozzo.com>, 2017-02-01 14:06:00 +0300, , eventpoll fix dependency check case one eventpoll polled another eventpoll wait till polled epoll opened stage fle_restored fle_open also travis success eventpoll fix dependency check signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2924,a80aba144a8b6923047926d668129048c504a1da,irill Tkhai <ktkhai@virtuozzo.com>, 2017-02-01 13:02:00 +0300, , file lost original errno value caller rfi_remap interested errno linkat_hard return preserve errno call rm_parent_dirs reported cyrill gorcunov gorcunov openvz.org signed kirill tkhai ktkhai virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
2925,1c478a2e48146d1066e5ba4ec32421a93e9258eb,ndrei Vagin <avagin@virtuozzo.com>, 2017-01-04 02:40:02 +0300, , tty split going create slave pty bind mount moment file_desc actually open dev ptmx path signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2926,129b18d3756b3afe079f588a7b2560bfeb11187d,ndrei Vagin <avagin@virtuozzo.com>, 2017-01-31 19:41:00 +0300, , unix switch root mount namespace cleaning stale socket absolute path used delete old unix socket 3f67731b8e process live mount root yard want access absolute path change root http travis ci.org avagin criu build 197092365 signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2927,096dc1448df70335eea1575a96838cee9ca4e4c0,irill Tkhai <ktkhai@virtuozzo.com>, 2017-01-25 12:46:37 +0300, , file use non block __recv_fds save one syscall analyze recvmsg error code check data socket signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2928,15ac89db800f02dab7221711c5087c0ce7be3de9,avel Emelyanov <xemul@virtuozzo.com>, 2017-01-25 10:54:45 +0300, , file compact expecten expected branch slight side effect even expected fle checked task_fle signed pavel emelyanov xemul virtuozzo.com acked kirill tkhai ktkhai virtuozzo.com,,
2929,958dbacdf2a166c25337489bd605de52374b38a2,avel Emelyanov <xemul@virtuozzo.com>, 2017-01-25 10:54:28 +0300, , file turn goto loop one signed pavel emelyanov xemul virtuozzo.com acked kirill tkhai ktkhai virtuozzo.com,,
2930,15676f6dad293b769c942c45248db76844d66e91,avel Emelyanov <xemul@virtuozzo.com>, 2017-01-25 10:54:08 +0300, , file use wider tail match routine call one rename since longer keep future signed pavel emelyanov xemul virtuozzo.com acked kirill tkhai ktkhai virtuozzo.com,,
2931,2ecf202375b00defe2f5196c0e6a83213111c961,avel Emelyanov <xemul@virtuozzo.com>, 2017-01-25 10:53:49 +0300, , file fix fle checked task_fle received tmp expected one check signed pavel emelyanov xemul virtuozzo.com acked kirill tkhai ktkhai virtuozzo.com,,
2932,2e8970beda5bfb7d56fd3351ae57d8dd1c69b2c7,ndrei Vagin <avagin@virtuozzo.com>, 2016-10-20 22:06:59 +0300, , mount create mount point root mount namespace root yard chnages allows avoid difference root mount namespace mount namespaces support read root mount create temporary directory root mount signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2933,b20780d6a0b97f5aec9e6d3ad00a13840bf834ab,irill Tkhai <ktkhai@virtuozzo.com>, 2017-01-19 14:18:00 +0300,1, file fix test set endianess problem andrew vagin reported problem found checker cid 174702 bound access pointer raw.counter point object whose effective type int bit signed dereferenced wider unsigned long bit unsigned may lead memory corruption look like point real problem may happen big endian platform code relay fact fds_event_bit small number value determines fit int type without problem correct little endian case big endian word size byte fds_event value last byte access wrong memory fix problem suggest use little endian byte order work task_st futex bit low adresses i.e task_st futex new primitive set_bit_le borrowed linux kernel fix problem suppose checker doe see problem deep compare type size fail let enlarge bit field size silence signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2934,74a87aba9fbebef72359423b434b0b7606373982,irill Tkhai <ktkhai@virtuozzo.com>, 2017-01-18 14:59:22 +0300, , tty optimize dependency check iterate currently unrestored file new signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2935,e98c96ed4ae59226fdb7e3d0256dfff45f3643fa,irill Tkhai <ktkhai@virtuozzo.com>, 2017-01-18 14:59:14 +0300, , file merge collect_gen_fd collect_used_fd call unconditionally since keep file type single list fds possible use function call unconditionally new signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2936,6072bca687e59ec435f1ad337e946f8dbce0874c,irill Tkhai <ktkhai@virtuozzo.com>, 2017-01-18 14:59:05 +0300, , file kill pid parameter open_fdinfos nobody pid let kill also pas pstree_item parameter open_fdinfos instead list function operates fds list new signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2937,2a93e371c298cbff4133fcf4dd6f89ea5eab6449,irill Tkhai <ktkhai@virtuozzo.com>, 2017-01-18 14:58:57 +0300, , eventpoll use generic list eventpoll file since eventpoll opening time set dependency see may safely store generic list new signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2938,f8143fd99b0cbb25c517926416829ae2c306eb44,irill Tkhai <ktkhai@virtuozzo.com>, 2017-01-18 14:58:47 +0300, , tty use generic list tty file since tty opening order set dependency may safely store ttys generic list new signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2939,f139581a0671e24b16138a5d48d11c9d7bf57dca,irill Tkhai <ktkhai@virtuozzo.com>, 2017-01-18 14:58:39 +0300, , file move ctty fixup open_fd fixup ctty right open need merging tty file single fds list set ctty next fle list processed see next patch detail new signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2940,3432e9891c92f565576e096e739bdd5e4fc7e623,irill Tkhai <ktkhai@virtuozzo.com>, 2017-01-18 14:58:30 +0300, , tty set dependency master slave ctty firstly master slave lastly ctty new signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2941,a14eedc22db74ef0e0c92363bc157240215a5437,irill Tkhai <ktkhai@virtuozzo.com>, 2017-01-18 14:58:21 +0300, , file kill struct file_desc_ops post_open make open fds asynchronous restore poll style every open callback operates like poll return i.e call event received yet restoring fle finished iterate list file descriptor look return value progress restoring fle sleep task_st futex event sent together changing task_st woken new work add comment open method return value clear fds_event every beginning cycle use successful return error request unix standalone socket return orv_again first open reopen generic code call standalone socket inet epoll return orv_again first open reopen generic code autofs iterate used list instead fds list signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2942,839078f8d20bef8887726e02ea45e4b24cb7704a,irill Tkhai <ktkhai@virtuozzo.com>, 2017-01-18 14:58:12 +0300, , file make non block break everything files.c deal yet next patch teach use hard coded successful return error request tty merge new_fd assignment receive_tty return function result directly signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2943,96946ee906b31e6515c22d5d8670726bafc13213,irill Tkhai <ktkhai@virtuozzo.com>, 2017-01-18 14:58:04 +0300, , file add new_fd parameter file_desc_ops open return result work separate new parameter status return value next patch use return value indicate open callback called restore fle finished yet need able differ file descriptor number request use negative value like purpose want allow fles served completelly restored fle successefuly open need one call open complete restore return populate new_fd negative value see file kill struct file_desc_ops post_open detail also export open_pipe use successful return error rebase new criu signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2944,7395c486094d9c3b0fcece2746acb24b24498986,irill Tkhai <ktkhai@virtuozzo.com>, 2017-01-18 14:57:54 +0300, , file set fds event sending peer need make receiving fle non blocking sleep task_st futex instead set event send_fd_to_self signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2945,118f1b6c6f40fb53b924dc2bcd0e3a109250ce1e,irill Tkhai <ktkhai@virtuozzo.com>, 2017-01-18 14:57:45 +0300, , eventpoll make post_open stage may fail currently additional check later used int following way return value mean fle ready restore caller recall method later see patch file kill struct file_desc_ops post_open detail use return use generic fle_open fle_restored determ fle ready signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2946,7574028129f5ffe6895064e3b5d86c86907ab22a,irill Tkhai <ktkhai@virtuozzo.com>, 2017-01-18 14:57:36 +0300, , file bug reopening already opened fle point think first call open state must fle_initialized new signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2947,5688335c71049cdf8ef9e33d5d67b2ded7858b40,irill Tkhai <ktkhai@virtuozzo.com>, 2016-12-26 17:28:06 +0300, , timerfd kill post_open stage timerfd post_open state doe depend another object may safely merged open stage travis success rework file opening scheme make asynchronous rev5 signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2948,788864683328073e720026f5ffa8106c6eaafc16,irill Tkhai <ktkhai@virtuozzo.com>, 2016-12-26 17:27:56 +0300, , inet use task_st futex notification instead per port step make file opening use futex travis success rework file opening scheme make asynchronous rev5 signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2949,baa912bb79a340001c9441a79c3fc59b249d4557,irill Tkhai <ktkhai@virtuozzo.com>, 2016-12-26 17:27:45 +0300, , inet link socket port_type list need waiting port user using task_st futex travis success rework file opening scheme make asynchronous rev5 signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2950,cda1115dba5c5dcbf1b927f48ec1f44ba1698c6a,irill Tkhai <ktkhai@virtuozzo.com>, 2016-12-26 17:27:36 +0300, , unix wait peer using task_st futex use task_st futex notifier instead per socket step make file opening use futex use internal bound listen state instead generic travis success rework file opening scheme make asynchronous rev5 signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2951,08cd374dacd063e5e06be60677b600e5a4a027ca,irill Tkhai <ktkhai@virtuozzo.com>, 2016-12-26 17:27:28 +0300, , unix link connected peer socket list need waiting peer using task_st futex travis success rework file opening scheme make asynchronous rev5 signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2952,c63127643743a6504136d7398f03a2f0d64ece6f,irill Tkhai <ktkhai@virtuozzo.com>, 2016-12-26 17:27:19 +0300, , file add stage add fle open stage set stage every operation merge filetype specific state generic travis success rework file opening scheme make asynchronous rev5 signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2953,735461e1bf54a61eeb9b13fa19b44a67c699a2c8,irill Tkhai <ktkhai@virtuozzo.com>, 2016-12-26 17:27:08 +0300, , file implement set clear wait _fds_event idea symilar kernel wake_up wait_event one task need event check event happened yet fle received unix peer bound etc call get_fds_event task make event sends fle bind peer name etc call set_fds_event event first task sleeping second wake later task clear_fds_event socket_bound wait_fds_event sleep task bind_socket set_fds_event wake detail using see next patch use bit operation split clear_fds_event wait function wait foreign transport sock ready guarantied create travis success rework file opening scheme make asynchronous rev5 signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2954,919df37c2596bbfd3ffd816cb1b38674368d3303,irill Tkhai <ktkhai@virtuozzo.com>, 2016-12-26 17:26:59 +0300, , bit add borrowed linux kernel new signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2955,66f014d09861237d593f8906b350baf8033a1ea4,irill Tkhai <ktkhai@virtuozzo.com>, 2016-12-26 17:24:44 +0300, , pstree add task_st bit field file wait transport_fd sending peer pstree add task_st futex going move single per task bit field notification file opening event introduce pstree_item task_st add fds_event_bit description wait peer socket created guarantied create travis success rework file opening scheme make asynchronous rev5 signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2956,ec1f7cab916789347861d771a77ebb85c8cb5998,irill Tkhai <ktkhai@virtuozzo.com>, 2016-12-26 17:26:50 +0300, , file merge state iteration open_fdinfos tty master slave post_open stage two block may safely stage merged together third eventpoll two depend .post_open depend eventpoll .open unix socket would implemented yet may safely execute stage different file type separatelly travis success rework file opening scheme make asynchronous rev5 signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2957,11811248478e70082728a4f3b7acec4e5b28be47,irill Tkhai <ktkhai@virtuozzo.com>, 2016-12-26 17:26:41 +0300, , file kill fd_open_state receive_fd stage since receive stage used slave fds nobody depends slave fds receiving finished may move functionality post_open stage make slave fds received little bit later word master post_open stage slave receive stage case file open open recv post_open recv post_open post_open depend recv follows analyzing file type post_open method travis success rework file opening scheme make asynchronous rev5 signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2958,ceb6b19c8ffe278d397d9307b9e832acac096728,irill Tkhai <ktkhai@virtuozzo.com>, 2016-12-26 17:26:29 +0300, , file kill since going get rid stage kill function call post_open_fd unconditionally handle case file_desc_ops post_open null travis success rework file opening scheme make asynchronous rev5 signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2959,52164398753aeb1b1baa3bb3595e7c99a735453b,irill Tkhai <ktkhai@virtuozzo.com>, 2016-12-26 17:26:20 +0300, , file kill parameter since transport socket per process need parameter function anymore travis success rework file opening scheme make asynchronous rev5 signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2960,2f2e46c04bbfa67d30280d9e8f3f00c7d5c8d24c,irill Tkhai <ktkhai@virtuozzo.com>, 2016-12-26 17:25:58 +0300, , file kill file_desc_ops want_transport since transport per task method need anymore kill travis success rework file opening scheme make asynchronous rev5 signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2961,9cb52afff430089ecf6dac1a54f0daf73c97a5da,irill Tkhai <ktkhai@virtuozzo.com>, 2016-12-26 17:25:50 +0300, , file receive real number using move reopen_fd_as receive_fd function note caller receiving real fds received arbitrary fds fds travis success rework file opening scheme make asynchronous rev5 signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2962,692674b462362175dabe580901a4f98d723b9dec,irill Tkhai <ktkhai@virtuozzo.com>, 2016-12-26 17:25:41 +0300, , file make sending fds peer async wait prepare stage every peer send everything peer global transport socket peer find appropriate need moment travis success rework file opening scheme make asynchronous rev5 signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2963,a288f3f29d99ad3c58bae301ab4c89431fb074f1,irill Tkhai <ktkhai@virtuozzo.com>, 2016-12-26 17:25:33 +0300, , file allow receive fds moving single transport socket scheme able receive need moment used future receive continue wait really need delete excess bug_on rename main patch funtion rename second funtion task_fle make task argument travis success rework file opening scheme make asynchronous rev5 signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2964,6bf2a4338c5d3929f02dbe6fe85d35a1caf28e67,irill Tkhai <ktkhai@virtuozzo.com>, 2016-12-26 17:25:24 +0300, , file add fle_init initialization new functional change also real_pid futex initialization travis success rework file opening scheme make asynchronous rev5 signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2965,fa6eb98a5e6b6675644690365a19ade5c5dcf823,irill Tkhai <ktkhai@virtuozzo.com>, 2016-12-26 17:25:16 +0300, , file move derefferencing send_fd_to_peer functional change travis success rework file opening scheme make asynchronous rev5 signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2966,dd19510960b224be87f0dea70113df62b23e2519,irill Tkhai <ktkhai@virtuozzo.com>, 2016-12-26 17:25:05 +0300, , file move closing fle transport_fd functional change travis success rework file opening scheme make asynchronous rev5 signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2967,ed55f1ddc0627dc1c37f89a35ab13cbebf6687bf,irill Tkhai <ktkhai@virtuozzo.com>, 2016-12-26 17:24:54 +0300, , file send receive fds pointer struct receiver moving single transport socket scheme need able differ fds receive queue add fle pointer identifier rebase compel travis success rework file opening scheme make asynchronous rev5 signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2968,06552fa3a2b12f02fa86354e8f6674efc71eb905,irill Tkhai <ktkhai@virtuozzo.com>, 2017-02-01 17:27:00 +0300, , lock mask futexes aligned system call sys_futex requires futex platform futexes four byte integer must aligned four byte boundary travis success lock mask futexes aligned signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2969,d7f3be8a8e9075f873c98b9bd5ffa1ecdad9c3b7,ir Kolyshkin <kir@openvz.org>, 2017-01-06 15:36:06 -0800, , unused var target logrotatedir used since commit f4e9a1d make install service logrotate configs systemdunitdir used since commit 10d5e9a criu script remove criu service file install tree target never used make sense keep also sort variable export statement match order appearance makefile export destdir exported default always come make command line remove unused variable install.md travis success fix signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
2970,5502b5b56833f8148c0052479ed1a32fc0ef1ee0,ir Kolyshkin <kir@openvz.org>, 2017-01-06 15:36:05 -0800, , cure libdir guessing logic commit 6a51c7e make allow install custom dirs replaced assignment effectively disabling libdir guessing logic variable assigned make sense commit description say setting prefix make command line work find original bug report according gnu make documentation see well best knowledge variable set makefile overridden command line unless override var value used makefile result patch libdir correctly set distros fedora debian make install work correct surely variable still overriden command line also checked build fedora package criu.spec change work fine sure working original bug reporter hypothesis tried something like prefix usr make instead make prefix usr case bug wrong usage fix libdir description install.md http www.gnu.org software make manual html_node overriding.html http www.gnu.org software make manual html_node override directive.html travis success fix cyrill gorcunov gorcunov openvz.org andrei vagin avagin virtuozzo.com signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
2971,27f3ef85c876947242126161abc43e204605e225,ir Kolyshkin <kir@openvz.org>, 2016-12-17 03:22:01 -0800, , trailing slash instdirs variable need end slash help next patch travis success polishing compel cli signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
2972,6a0ed5e12871e97a0ad177bcdbb488dc728dde36,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-31 16:31:47 +0300, , common lock sync function proto syscalls meaning may collide building signed cyrill gorcunov gorcunov openvz.org,,
2973,d82b621f9730246bdeed2625c4f9c2655e007373,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-28 14:00:55 +0300, , header move lock.h include common signed cyrill gorcunov gorcunov openvz.org,,
2974,c069567236cf69882dc34a30f41040c2173efe86,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-24 14:58:03 +0300, , lock get rid logging dep gon share file subprojects let minimize deps header syscalls left non libc compiling travis success common header signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
2975,a6ae38f71b6561b7c9c4a16032250b2da2d041b8,ndrei Vagin <avagin@virtuozzo.com>, 2017-02-04 14:35:49 -0800,276, util zero msghdr structure musl libc fixed inconsistency posix kernl msghdr structure adding pad initializes pad calling recvmsg sendmsg syscalls criu call raw system call pie code need intialize pad addition initialize msg_flags iov_len http github.com xemul criu issue 276 http travis ci.org kolyshkin criu build 198415449 signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2976,0367a1f6fec5a8d1ee2fb4cfa3004591a5510d1a,ir Kolyshkin <kir@openvz.org>, 2017-02-04 14:35:48 -0800, , drop prefix memcpy memset memcmp compiler might generate call memcpy memset memcmp memmove seem fit far seen memmove required mean need provide version code linked libc already solution commit bdf6051 pie provide memcpy memcmp memset noglibc case faced another problem compiler trying optimize builtin_memset inserting call memset alias case lead infinite recursion workarounded commit 8ea0ba7 string.h fix memset optimization clang clear proper fix patch considered real solution implementation memset memcpy memcmp non libc case call without prefix avoid using weak alias implementation note mem function code moved function compatible prototype declared usr include string.h i.e extern fortify_source needed disabled code linked libc otherwise memcpy may replaced macro expands __memcpy_chk course resolved linking http travis ci.org kolyshkin criu build 198415449 signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
2977,5abbb791245931441b5c102f98e0fbeb39db69a1,mitry Safonov <dsafonov@virtuozzo.com>, 2017-01-31 16:56:31 +0300, , nmk recompile regenerate makefile change change top makefile middle makefile result correct recompiling expected criu touch criu makefile criu make ... dep criu arch x86 sigframe.d dep criu arch x86 dep criu arch x86 crtools.d dep criu arch x86 cpu.d dep criu arch x86 call32.d criu arch x86 call32.o criu arch x86 cpu.o criu arch x86 crtools.o ... travis success fix rebuild makefile change reported andrey ryabinin aryabinin virtuozzo.com signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
2978,56e89b205ff9df37298a335899bd2856a7d9727e,mitry Safonov <dsafonov@virtuozzo.com>, 2017-01-31 16:56:30 +0300, , protobuf regenerate image makefile change result japdoll dsafonov criu touch makefile japdoll dsafonov criu make make entering directory home japdoll tool criu pbcc image macvlan.pb c.c dep image macvlan.pb c.d pbcc image autofs.pb c.c dep image autofs.pb c.d pbcc image sysctl.pb c.c dep image sysctl.pb c.d ... travis success fix rebuild makefile change signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
2979,8ea0ba7dd03e500a53f96cea855aa2993882652c,ir Kolyshkin <kir@openvz.org>, 2017-01-27 19:01:00 +0300,279, string.h fix memset optimization clang found weird case parasite code dying sigsegv clang used compiler see detail apparently caused clang optimizing builtin_memset inserting call memset valid compiler optimization aside fact code memset defined weak alias builtin_memset course lead infinite recursion stack growth might bug compiler way avoid rewrite builtin_memset asm note need done every architecture supported disable compiler optimization code say using declare pointer inside builtin_memcpy volatile last approach look appealing mostly simple http github.com xemul criu issue 279 travis success string.h fix memset optimization clang andrei vagin avagin virtuozzo.com dmitry safonov dsafonov virtuozzo.com cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
2980,e4335cf0619c36d6a0cda3579f67da9d4e87de70,irill Tkhai <ktkhai@virtuozzo.com>, 2017-01-25 18:29:04 +0300, , pstree make pstree_item pid pointer move virt node array patch struct pid look struct pid struct pstree_item item pid_t real int state struct pid_t virt struct rb_node node   travis success make pstree_item pid allocated dynamically signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2981,9af2eff929e0f771fd15c05d42550f7a8022ab1b,irill Tkhai <ktkhai@virtuozzo.com>, 2017-01-25 18:28:54 +0300, , pstree link pid pstree_item add link task pid pstree_item thread link set null travis success make pstree_item pid allocated dynamically signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2982,13a0efaf23d390017230227b5871f3a123d70d2d,irill Tkhai <ktkhai@virtuozzo.com>, 2017-01-25 18:28:45 +0300, , pstree simplify get_free_pid expression rb_entry node struct pstree_item pid.node may create fake impression dereferrence pstree_item thread bug interested pid field anyway escape pstree_item iterate struct pid readable travis success make pstree_item pid allocated dynamically signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2983,d3ea14a125743503ce64dce8f8b191d65d64917f,irill Tkhai <ktkhai@virtuozzo.com>, 2017-01-25 12:46:28 +0300, , scm allow pas flag argument recv_fds used pas msg_dontwait next patch signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2984,6a3cfcd5502dc78d8c6785cfcadaf64e8baa9933,irill Tkhai <ktkhai@virtuozzo.com>, 2017-01-25 12:46:19 +0300, , scm return sensible error code recv_fds replace return errno code enomsg ebadfd choosen cross standard recvmsg error described man page patch need preparation making recv_msg able non block return eagain ewouldblock case data signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2985,25d59cb2bf5b8099d29cadcb5509003242b8896c,ndrei Vagin <avagin@virtuozzo.com>, 2017-01-24 01:57:43 +0300, , crtools fix exit code page server cr_page_server return pid executed daemon otherwise return error code crtools return cr_page_server return positive value obviously wrong travis success crtools close signal descriptor passing preparation stage rev6 signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2986,68bfb80a518c5e939b74f76843fc458880329d3b,ndrei Vagin <avagin@virtuozzo.com>, 2017-01-24 01:57:42 +0300, , test check exit code criu page server travis success crtools close signal descriptor passing preparation stage rev6 mike rapoport rppt signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2987,ac5cac188d6c81bf9314efce364d3573d40e4b5e,ndrei Vagin <avagin@virtuozzo.com>, 2017-01-24 01:57:41 +0300, , crtools close signal descriptor passing preparation stage patch add siganl option specify file descriptor criu write descriptor close passing preparation stage alternative way demonizing criu process preparation stage imposiable get exit code process daemonized introduced way allows wait preparation stage get exit code easy used shell script language fix help message sequence action used open pipe run service pipe status_fd read pipe wait moment service ready accept connection work requires service wait service process get exit status sure everything okey travis success crtools close signal descriptor passing preparation stage rev6 mike rapoport mike.rapoport gmail.com kir kolyshkin kir openvz.org signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2988,7e815625be9ee0365bc356b1751814734df412e6,mitry Safonov <dsafonov@virtuozzo.com>, 2017-01-10 17:32:00 +0300, , check add userns loginuid check extra feature kernel option feature depend kernel version checked criu check pavel emelyanov xemul virtuozzo.com signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2989,65214e44aed88b3fbf5d4bceeddcf3abb27fd322,avel Begunkov <asml.silence@gmail.com>, 2017-01-24 00:00:00 +0300, , zdtm add checkskip script ofd lock needed case kernel support ofd lock ofd lock added 2014 travis success zdtm add checkskip script ofd lock signed pavel begunkov asml.silence gmail.com signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
2990,3dd21b1bdd2d3844fecae94c98c95fedd07db544,ndrei Vagin <avagin@virtuozzo.com>, 2017-01-19 22:37:00 +0300, , zdtm improve socket tcp close wait.c send uninitialized data close descriptor carefully add comment travis success zdtm improve socket tcp close wait.c reported dmitry safonov dsafonov virtuozzo.com dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2991,f2181eaed2b3b8f81f79f3cfb9136ab08f5e426a,ndrey Ryabinin <aryabinin@virtuozzo.com>, 2017-01-30 18:18:00 +0300, , test add bin deps addition sbin distros put util bin directory travis success test add bin deps addition sbin signed andrey ryabinin aryabinin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2992,ea8483eafd3a74921582a844172153bd575fd7e3,ndrey Ryabinin <aryabinin@virtuozzo.com>, 2017-01-30 18:18:00 +0300,0, net fix stack bound access dump_one_netdev info array one requires destination array i.e info maxtype i.e ifla_info_max element error stack buffer overflow address 0x7ffef823e3f8 write size 0x7ffef823e3f8 thread 0x7f9ab7a3915b __asan_memset usr lib gcc x86_64 linux gnu 5.4.0 libasan.so.2 0x8d15b 0x7f9ab6d4e553 nla_parse usr lib64 libnl 3.so.200 0xa553 0x4acfb7 dump_one_netdev criu net.c 445 0x4adb60 criu net.c 594 0x4adb60 dump_one_link criu net.c 665 0x48af69 nlmsg_receive criu libnetlink.c 0x48af69 do_rtnl_req criu libnetlink.c 119 0x4b0e86 dump_links criu net.c 878 0x4b0e86 dump_net_ns criu net.c 1651 0x4a760d criu namespaces.c 985 0x4a760d dump_namespaces criu namespaces.c 1045 0x451ef7 cr_dump_tasks criu dump.c 1799 0x424588 main criu crtools.c 736 0x7f9ab67b171f lib64 libc.so.6 0x2071f 0x4253d8 _start criu criu criu 0x4253d8 address 0x7ffef823e3f8 located stack thread offset 264 frame 0x4ac9ef dump_one_netdev criu net.c 364 frame object 168 netdev 224 264 info memory access offset 264 overflow variable 320 1040 req 1088 3368 path 3424 3625 stable_secret increase info size fix fix b705dcc34ddb net pas struct nlattrs dump function travis success net fix stack bound access dump_one_netdev signed andrey ryabinin aryabinin virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
2993,ec40484e03422cae02b73ea7f04263cfadf86a61,ndrey Ryabinin <aryabinin@virtuozzo.com>, 2017-01-30 18:18:00 +0300,2, file reg fix use free ghost file entry used right freed error heap use free address 0x60700000dc50 read size 0x60700000dc50 thread 0x46e819 criu file reg.c 312 0x46e819 criu file reg.c 461 0x46e819 prepare_remaps criu file reg.c 507 0x45af00 criu restore.c 235 0x45af00 criu restore.c 1421 0x7efc71e85f0c clone lib64 libc.so.6 0xe7f0c 0x60700000dc50 located byte inside byte region freed thread 0x7efc7305184a usr lib gcc x86_64 linux gnu 5.4.0 libasan.so.2 0x9884a 0x46e4df criu file reg.c 309 0x46e4df criu file reg.c 461 0x46e4df prepare_remaps criu file reg.c 507 previously allocated thread 0x7efc73051b82 malloc usr lib gcc x86_64 linux gnu 5.4.0 libasan.so.2 0x98b82 0x7efc7277a8ea usr lib64 libprotobuf c.so.1 0x48ea unknown module move freeing last gfe usage fix fix d0097b2db03a file support ghost directory restore travis success file reg fix use free signed andrey ryabinin aryabinin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2994,de7a21443ce95b8222e0d0a670ddeb5654a1d7b4,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2017-01-27 17:16:00 +0300, , zdtm run cow0x test userns opening proc pid pagemap userns available since linux v4.3 later commit 1c90308e7a77 pagemap hide physical address non privileged user test fail older kernel http ci.openvz.org job criu job criu virtuozzo job criu dev 1402 travis success zdtm run cow0x test userns signed pavel tikhomirov ptikhomirov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
2995,8cbb8a7be13d52d35a638e3554cfa5e35c612b92,yrill Gorcunov <gorcunov@openvz.org>, 2017-01-21 16:11:22 +0300, , tty print rdev dev pair case error detailed error description travis success add multiple devpts support signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
2996,5bd350f64bd3baee36d6723b1e4f56cff035a459,yrill Gorcunov <gorcunov@openvz.org>, 2017-01-21 16:11:21 +0300, , tty unify printing always use format priting better readability travis success add multiple devpts support signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
2997,f823681acc38ed5ee37d874ab4c37a7390d8f855,yrill Gorcunov <gorcunov@openvz.org>, 2017-01-18 12:02:05 +0300, , doc criu explain pre resume stage travis success add pre resume stage signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
2998,1a16b60075a5450152fd76d0f67a99c645c40c49,yrill Gorcunov <gorcunov@openvz.org>, 2017-01-18 12:02:04 +0300, , action script add pre resume stage main idea able operate container moment process resource already restored process yet running state kick beside need tuning beancounters vz7 specific feature might useful make additional debug test script reuse action move kill restored process resume source side avagin explained xemul post_restore pre_resume ghost file cleaned little bit two separate stage required latter one fail travis success add pre resume stage signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
2999,d02fe846aab0e9671f953258fe9e7f1ce3248c27,ndrei Vagin <avagin@virtuozzo.com>, 2017-01-24 01:36:00 +0300, , zdtm socket_aio add synchonization process test nothing run zdtm static socket_aio start test socket_aio pidfile socket_aio.pid outfile socket_aio.out run criu dump run criu restore old map lost set 7f0a5188a000 7f0a5188f000 new map appeared set 7f0a51884000 7f0a5188f000 7f0a51883000 7f0a51884000 send signal wait zdtm static socket_aio die 0.100000 reported jenkins travis success zdtm socket_aio add synchonization process signed andrei vagin avagin openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3000,d14beb1d5cf7bf25e0865e704e2e7818e8a568a9,ndrei Vagin <avagin@virtuozzo.com>, 2017-01-20 23:21:27 +0300,1, zdtm write bound cid 174800 bound write overrun overrun local overrunning array buf 1024 byte byte offset 1024 using index evaluates 1024 signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3001,673f18d05ce837d5642c088f9d72798c0b146341,ndrei Vagin <avagin@virtuozzo.com>, 2017-01-20 23:21:25 +0300,1, zdtm fix typo socket tcp cid 174774 logically dead code deadcode dead_error_line execution reach statement return signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3002,621c83a52006e18f5f9840213cb431883afe36ff,ndrei Vagin <avagin@virtuozzo.com>, 2017-01-20 22:26:00 +0300, , zdtm run test userns pas userns run default travis success zdtm run test userns signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3003,6f971c1ac76d99f242a35974164db65bfe829668,ndrei Vagin <avagin@virtuozzo.com>, 2017-01-20 22:28:00 +0300, , zdtm fix race socket_udp socket_udplite two socket send upd message one another sure delivered immediately change get recv ... msg_dontwait egain message handled asynchronously kernel space may small timeout get another socket fix socket6_udp reported travis signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3004,fe68441bf4fa8ba1443f4ab454f3d8c1b0261c2c,yrill Gorcunov <gorcunov@openvz.org>, 2017-01-20 21:38:00 +0300, , zdtm.py fix eval error empty desc file provided desc empty try eval otherwise would lead exceptio test size well travis success zdtm.py fix eval error empty desc file provided signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3005,d234b567adc0836421d0175d3fa95748a5a5d01c,ndrei Vagin <avagin@virtuozzo.com>, 2017-01-19 22:26:00 +0300, , zdtm call test rudiment zdtm.sh add test root want avoid fork test supposed called travis success zdtm call test signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3006,1988bc6e31cd0f4ebb8bd4d705d8c059e3292477,ndrei Vagin <avagin@virtuozzo.com>, 2017-01-17 08:49:00 +0300, , soccr add one test check libsoccr_save previous test test creates tcp connection dump restore travis success soccr add one test check libsoccr_save signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3007,b504ec5c77644ee505732980daed18e280cd2c76,avel Begunkov <asml.silence@gmail.com>, 2017-01-15 02:54:00 +0300, , lock check syscalls return value lock probing travis success series starting lock check syscalls return value lock probing signed pavel begunkov asml.silence gmail.com signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3008,52a047ba2741d9a5333d29d1ffcd3036b66fbec1,italy Ostrosablin <vostrosablin@virtuozzo.com>, 2017-01-12 12:02:27 +0300, ," test fix conntracks test old distros state work correctly test fails test output diverges expected result replace obsoleted state conntrack travis success series starting v2,1 test replace cat makefiles awk signed vitaly ostrosablin vostrosablin virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com",,
3009,911317ea931ca1f6fde2022f3fd0dddbb7c50c9d,italy Ostrosablin <vostrosablin@virtuozzo.com>, 2017-01-12 12:02:26 +0300, ," test replace cat makefiles awk cat .pid work one running process moment pidfiles contain newlines cat concatenate content file present directory e.g. pidfiles 31338 31359 31880 31884 31889 cat build following string pidfiles  obviously kill would fail send signal process single big number unambigously split back general case awk come need modify part test print newlines end file order awk print content file add newline end problem solved kill parse pid get send proper signal also completely safe zdtm.py use makefiles sends signal travis success series starting v2,1 test replace cat makefiles awk signed vitaly ostrosablin vostrosablin virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com",,
3010,4496bdff4cfc6033f32571d16c5d61c33edad8ec,avel Emelyanov <xemul@virtuozzo.com>, 2017-01-11 11:40:00 +0300, , mount add collect callback help cleanup time mount little bit travis success mount add collect callback signed pavel emelyanov xemul virtuozzo.com,,
3011,2be8b150352b89e858806f7e63cd4c09f8309a4b,avel Emelyanov <xemul@virtuozzo.com>, 2017-01-11 11:32:53 +0300, , mount move cgroup check callback travis success mount sanitize comparison code signed pavel emelyanov xemul virtuozzo.com,,
3012,da60bf30a50150624a5661b4cec3a0364313c5e2,avel Emelyanov <xemul@virtuozzo.com>, 2017-01-11 11:32:38 +0300, , mount move btrfs check callback introduce fstype sb_equal move btrfs specific check  travis success mount sanitize comparison code signed pavel emelyanov xemul virtuozzo.com,,
3013,02b6716172d8f731b0afc5de165be1038822ee92,avel Emelyanov <xemul@virtuozzo.com>, 2017-01-11 11:32:21 +0300, , mount move check mounts_sb_equal travis success mount sanitize comparison code signed pavel emelyanov xemul virtuozzo.com,,
3014,2bc324f5a80d751e1a33979e9613fe1011992d37,mitry Safonov <dsafonov@virtuozzo.com>, 2017-01-09 19:59:00 +0300, , crtools usage error excessive subcommands  criu check lazy_pages look good criu check feature lazy_pages error criu kerndat.c 588 lazy page available  criu check lazy_pages error excessive parameter command check ... skipped usage output ... little improvement mislead anyone kir kolyshkin kir openvz.org signed dmitry safonov dsafonov virtuozzo.com reviewed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3015,d6f18fa49b6998fe1ef29972c66c19a1ca7113c2,mitry Safonov <dsafonov@virtuozzo.com>, 2017-01-09 20:19:12 +0300, , zdtm fanotify00 fix fanotify_ init mark call flag event_f_flags parameter according fanotify_init x86_32 fanotify_mark second mask argument mask bit higher part mask used fanotify_mark int fanotify_fd unsigned int flag __u32 mask0 __u32 mask1 int dfd const char __user pathname  return fanotify_fd flag ifdef __big_endian __u64 mask0 mask1 else __u64 mask1 mask0 endif dfd pathname travis success bit test fix signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3016,10e38c630062a05131d1da28d63d2b56a5796266,avel Emelyanov <xemul@virtuozzo.com>, 2016-12-30 13:42:01 +0300, , zdtm fix race locks08 test sub process wait parent task signal checking lock status signed pavel emelyanov xemul virtuozzo.com,,
3017,36faa04766b1f53cc810b39e85540b480457e79f,egunkov Pavel <asml.silence@gmail.com>, 2016-12-20 13:24:39 +0300, , zdtm add ofd file lock test test cover following case single ofd lock overlapped ofd lock inhertited ofd lock test logic similar logic test lock type ofd lock specific header library added avoid code duplication test travis success series starting lock add ofd lock signed begunkov pavel asml.silence gmail.com signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3018,34c9119acdf543d8b51a87cc47ebb788caf0fc37,egunkov Pavel <asml.silence@gmail.com>, 2016-12-20 13:24:38 +0300,42, lock add ofd lock ofd lock logic reuses existing lock functionality http github.com xemul criu issue travis success series starting lock add ofd lock signed begunkov pavel asml.silence gmail.com signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3019,cf72cedd5f13a47b32582afa63c19defca8226fd,ndrei Vagin <avagin@virtuozzo.com>, 2017-01-24 00:45:00 +0300, , revert zdtm use unix socket instead pipe synchronizer process unfortunately kernel wake one waiter even wait msg_peek introduced scheme work reported jenkins travis success revert zdtm use unix socket instead pipe synchronizer process signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3020,d9486bd720f6ad9bfe75824c478adb878a0e7404,mitry Safonov <dsafonov@virtuozzo.com>, 2017-01-17 19:48:37 +0300, , arm pie build produce relocatable parasite object option relocation made arm 0x76dbc018 0x76dbc018 0xebfffffe may saw objdump also leaded hang putting tsock message 01.368297 01.368321 01.368339 collecting fds pid 13503 01.368360 01.368535 found file descriptor 01.368564 01.368648 dump private signal 13503 01.368708 dump shared signal 13503 01.368761 parasite syscall_ip 0x10000 01.369605 set parasite blob using memfd 01.369641 putting parasite blob 0x76cc5000 0x76e1f000 01.369755 dumping fpu register 13503 01.369818 putting tsock pid 13503 link lib.a also fix build aarm64 reported alex avankemp gmail.com reported long.wanglong long.wanglong huawei.com cyrill gorcunov gorcunov gmail.com christopher covington cov codeaurora.org signed dmitry safonov dsafonov virtuozzo.com reviewed christopher covington cov codeaurora.org reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com backported criu dev dmitry safonov dsafonov virtuozzo.com,,
3021,e6156f31dd2bbe6f1e8b55a1a4072186fbd55c01,avel Emelyanov <xemul@virtuozzo.com>, 2017-01-16 12:06:01 +0300, , criu version 2.10 time tcp transitional state support semi finished libsoccr library order tcp fixed fixed library ready release  said two main feature waxwing release libsoccr library tcp socket tcp transitional state also set bugfixes caught performance issue xen little bit signed pavel emelyanov xemul virtuozzo.com,,
3022,a97be820a4e33b67e379387cb63746c2b6393c9d,avel Emelyanov <xemul@virtuozzo.com>, 2017-01-16 11:12:41 +0300, , criu disable breakpoint based restore temporarily described issue 268 breakpoints degrades restore performance xen guest untill find going disable signed pavel emelyanov xemul virtuozzo.com,,
3023,b9b34d4276058c4a0d3a49139123444cc3350b1c,avel Emelyanov <xemul@virtuozzo.com>, 2017-01-16 11:07:10 +0300, , soccr add call release soccr handler libsoccr_resume mess socket file descriptor release handle signed pavel emelyanov xemul virtuozzo.com,,
3024,1fb852bb20043f7aa6dc58c0eb044c914ae57878,ndrei Vagin <avagin@virtuozzo.com>, 2017-01-11 01:54:00 +0300, , soccr add test test construct end tcp connection check work direction travis success soccr add test signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3025,d9132d45cc99a49641dbddd3f1b0a998d0251767,avel Emelyanov <xemul@virtuozzo.com>, 2016-12-29 15:14:47 +0300, , tcp move tcp repair checking code check.c travis success series starting tcp move window checking code check.c signed pavel emelyanov xemul virtuozzo.com,,
3026,044a29af63078b1d02953d788ec97570efc1f1b6,avel Emelyanov <xemul@virtuozzo.com>, 2016-12-29 15:14:24 +0300, , tcp move window checking code check.c travis success series starting tcp move window checking code check.c signed pavel emelyanov xemul virtuozzo.com,,
3027,67d548e9fed943c3c142086e055aeca2b1db5470,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-15 03:34:00 +0300, , tcp bind tcp socket enabling repair mode socket repair mode bound port time required restore tcp connects move bind libsoccr fix error message signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3028,8664130b17554bae123f6f68201d0173909f45e8,avel Emelyanov <xemul@virtuozzo.com>, 2016-12-14 12:41:45 +0300, , soccr move src dst address _data signed pavel emelyanov xemul virtuozzo.com acked andrei vagin avagin virtuozzo.com,,
3029,ff4e387b09a65a00c2c8d7f092580e331574b0fa,avel Emelyanov <xemul@virtuozzo.com>, 2016-12-14 12:41:29 +0300, , soccr move queue pointer _data signed pavel emelyanov xemul virtuozzo.com acked andrei vagin avagin virtuozzo.com,,
3030,4b9b56b2359da68d9b96a88c9c0b03876ff6d682,avel Emelyanov <xemul@virtuozzo.com>, 2016-12-14 12:41:14 +0300, , soccr introduce flag memory passing call return object inside library vice versa accept object caller let flag controlling going free mem question signed pavel emelyanov xemul virtuozzo.com acked andrei vagin avagin virtuozzo.com,,
3031,332b945f79a4abbf1ffc1940f1148e9150b922e9,avel Emelyanov <xemul@virtuozzo.com>, 2016-12-14 12:40:58 +0300, , soccr rename api call save restore signed pavel emelyanov xemul virtuozzo.com acked andrei vagin avagin virtuozzo.com,,
3032,ed5081041c4bd733f69f1ee751c9b72fbde34c9b,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-09 00:48:00 +0300,1, soccr dereference data null check cid 173075 dereference null check reverse_inull null checking data suggests may null already dereferenced path leading check travis success soccr dereference data null check signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3033,f3e3958bb037f7d3638498e1b66a2e9b831d69be,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-08 21:47:00 +0300, , soccr restore queue soccr look like internal logic may better move library travis success soccr restore queue soccr signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3034,a35e84d82bf980b4a7da4acb5c10ba83348cd9ef,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-12-05 16:56:00 +0300, , script install debian package add libnet dev travis success script install debian package add libnet dev signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3035,63e128a96880d0ca638ff621ed5f5feee0315c4c,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-06 01:56:00 +0300, , test skip pre dump image socket tcp .hook hook open inetsk.img exist process pre dumped travis success test skip pre dump image socket tcp .hook reported pavel emelyanov xemul openvz.org signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3036,1a89b88c0866c6c52ba6e388c5813258844aee95,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-01 11:32:39 +0300, , zdtm check sequence number tcp socket iteration travis success series starting build install libnet dev signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3037,d61c75bc5d04c795a09f2f24abdd9013724dabb0,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-01 11:32:37 +0300, , zdtm add test case tcp_syn_sent travis success series starting build install libnet dev signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3038,950b33c82e544efc9099ae1782aa8e8d47587dad,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-01 11:32:36 +0300, , zdtm add test unconnected tcp socket check source destination address closed tcp socket travis success series starting build install libnet dev signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3039,7ce065a186aa440f902e03a8ea1d6fe0f7acceb3,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-01 11:32:35 +0300, , zdmt add check socket closed tcp check source destination address closed tcp socket travis success series starting build install libnet dev signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3040,16644f731b6054ab04c37effbf3a2e163f63910e,ndrey Vagin <avagin@openvz.org>, 2016-12-01 11:32:34 +0300, , zdtm check socket tcp_closing state tcp_closing side shutdown still data finish sending travis success series starting build install libnet dev signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3041,903ed0708469d9511c114f96c293b2779d2da458,ndrey Vagin <avagin@openvz.org>, 2016-12-01 11:32:33 +0300, , zdtm add test case tcp_close_wait tcp_last_ack state tcp_close_wait remote side shutdown waiting finish writing data shutdown close move last_ack tcp_last_ack side shutdown remote shutdown may still data buffer finish sending travis success series starting build install libnet dev signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3042,7c07a7fb4b50c6dd540231e8650de7627eaac1f1,ndrey Vagin <avagin@openvz.org>, 2016-12-01 11:32:32 +0300, , zdtm add test case tcp_fin_wait state tcp_fin_wait1 side shutdown waiting complete transmission remaining buffered data tcp_fin_wait2 buffered data sent waiting remote shutdown travis success series starting build install libnet dev signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3043,f0f2496da01c0119e60a181aa9bcb604ff934d52,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-01 11:32:31 +0300, , tcp add support synsent libsoccr know restore socket travis success series starting build install libnet dev signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3044,5cb2893f0eb1a4a1388a08410cab000b9904bc0f,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-01 11:32:30 +0300, , tcp allow dump intermediate closing state soccr already know restore socket criu ... unlock packet soccr_mark mark request half closed socket via socket_diag transpit src dst address libsoccr remove travis success series starting build install libnet dev signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3045,e7f03fbae1b9bc6651a31a4850c24e533283dfaf,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-01 11:32:29 +0300, , inet dump source destination address closed socket socket closed still address need dump travis success series starting build install libnet dev signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3046,6e683743696d945996d98772538bce6e43169fdd,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-01 11:32:28 +0300, , soccr add support syn sent socket restore socket property disable repair mode calling connect kernel sent syn packet move socket sys sent state travis success series starting build install libnet dev signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3047,b1751244aa437c4ac8137d27532931dbd91c511c,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-01 11:32:27 +0300, , soccr add support half closed socket socket one half closed state sent fin packet received fin packet criu play fin packet restore half closed state need sent fin packet socket call shutdown shut_wr fin packet restore received queue criu generate fin packet send via raw socket raw packet sent soccr_mark mark able block remove flag introduce set bit different action fin packet travis success series starting build install libnet dev signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3048,fd2995cc5b6eb0583c0480bae8d0a5f13c577be0,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-01 11:32:26 +0300, , soccr move connect criu soccr need disable repair mode connect restore syn sent socket even connect look like part internal logic libsoccr travis success series starting build install libnet dev remove soccr.h signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3049,cdc6f4c107454e40fc86fe671ee818119ae69ef4,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-01 11:32:25 +0300, , soccr add source destination address address used restore half closed socket need send fake fin packet next patch connect moved soccr signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3050,a73eb5300da3dd1e227cc7f1225720707d48275a,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-01 11:32:24 +0300, , soccr add prefix log message print errno loge start message error logd start message debug logerr add strerror errno end message travis success series starting build install libnet dev signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3051,cb7948d9ef247c1006d2a5cb1332c880d02b2e25,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-01 11:32:23 +0300, , inet dump actual state tcp socket get socket task_diag block network dump socket socket state changed first two step let get socket state third step dump travis success series starting build install libnet dev signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3052,beb57e9524d389f1aca9f2cc462134732e550ef1,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-01 11:32:21 +0300, , make add deps libsoccr without patch change libsoccr criu rebuilt travis success series starting build install libnet dev signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3053,d9d3dc7a09b73dece7d8721bc19d0edf9b9e5ba0,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-01 11:32:20 +0300, , criu check whether tcp_repair enabled half closed socket originally repair mode could enable socket closed established state starting 4.10 kernel possible enable repair mode connected socket dump syn sent half closed socket travis success series starting build install libnet dev signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3054,aec9eb921fc28ba217cd92b6c240393bba23d4c5,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-01 11:32:19 +0300, , build install libnet dev used generate tcp packet restoring half closed socket travis success series starting build install libnet dev signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3055,6d07a4f95b84967bcfe93647e7aa1adc3e2b606e,drian Reber <areber@redhat.com>, 2016-11-10 09:27:05 +0000, , soccr add loge logd loge message missing consistency add message missing travis success libsoccr debug info message rev2 signed adrian reber areber redhat.com reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3056,c8729c220d1a7ca8dad25022576dacb76f964fea,mitry Safonov <dsafonov@virtuozzo.com>, 2016-11-09 18:52:13 +0300, , criu enable soccr logging initialize logging function log_level libsoccr otherwise soccr message skipped travis success libsoccr debug info message reported adrian reber adrian lisas.de signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3057,d0762eff0441be1c6df626a80af7d80794ef4eaa,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-18 21:53:04 +0000, , build generate soccr config.h necessary without rebuild fails make entering directory home ubuntu criu make entering directory home ubuntu criu gen .gitid gen criu include config.h gen home ubuntu criu criu include version.h make compel plugins std.built in.o date make leaving directory home ubuntu criu failed create symbolic link home ubuntu criu soccr config.h file exists makefile 217 recipe target home ubuntu criu soccr config.h failed make home ubuntu criu soccr config.h error make waiting unfinished job .... make entering directory home ubuntu criu make compel compel host date make leaving directory home ubuntu criu make leaving directory home ubuntu criu signed tycho andersen tycho.andersen canonical.com reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3058,207bbd891fc51ad80ee1fa1ee7b12fb3b1ece689,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-05 17:05:00 +0300, , soccr generate config.h dynamically otherwise broken symlink make tag etags unhappy travis success soccr generate config.h dynamically rev5 signed cyrill gorcunov gorcunov openvz.org extended .gitignore maked link relative source signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3059,f92b8d9c4499f4238c46aa9e60fd571f16044c01,mitry Safonov <dsafonov@virtuozzo.com>, 2016-09-26 18:18:21 +0300, , soccr rectify alpine build made symlink criu generated config.h played moving code soccr.h header changed type u32 uint32_t otherwise include criu int.h soccr lazy add pavel emelyanov xemul virtuozzo.com cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3060,51e301571aa03c4fb9baf2b9ba45dd6c033a562f,avel Emelyanov <xemul@virtuozzo.com>, 2016-08-05 15:45:56 +0300, , soccr add soccr.h comment todo write proper man page doc todo document library spoil reuseaddrs option socket signed pavel emelyanov xemul virtuozzo.com,,
3061,c5de18a399ec8aed2b7560f926ebf18668a9ed6a,avel Emelyanov <xemul@virtuozzo.com>, 2016-04-18 16:06:58 +0300, , soccr handle connection state support established state mostly preparation future extention signed pavel emelyanov xemul virtuozzo.com,,
3062,cab3f17645289141059c00cc452b4ed33f1f0c61,avel Emelyanov <xemul@virtuozzo.com>, 2016-08-05 15:43:13 +0300, , soccr tcp restore queue using library signed pavel emelyanov xemul virtuozzo.com,,
3063,826a86e4965270091e8c9699ff8d09ced833e718,avel Emelyanov <xemul@virtuozzo.com>, 2016-08-05 15:42:53 +0300, , soccr tcp restore socket info binding window parameter stuff restore queue queue signed pavel emelyanov xemul virtuozzo.com,,
3064,611dc707e291f914d5c8beff8f8a97d9e5248058,avel Emelyanov <xemul@virtuozzo.com>, 2016-04-18 16:05:55 +0300, , soccr tcp restore socket info binding tcp repair stuff restored calling connect bind socker signed pavel emelyanov xemul virtuozzo.com,,
3065,efdcf3776a37d842ce82e55407b8e392a371ed1d,avel Emelyanov <xemul@virtuozzo.com>, 2016-08-05 15:35:17 +0300, , soccr tcp prepare connection info restore signed pavel emelyanov xemul virtuozzo.com,,
3066,c08eb3dde1f21973924d3c884aab6a3401bb7d31,avel Emelyanov <xemul@virtuozzo.com>, 2016-08-05 15:33:22 +0300, , soccr tcp read queue content using library signed pavel emelyanov xemul virtuozzo.com,,
3067,d98c0ea67cc5c5f48cd558ed8dee529f639835d7,avel Emelyanov <xemul@virtuozzo.com>, 2016-08-05 15:32:31 +0300, , soccr tcp fill actual connection info using library signed pavel emelyanov xemul virtuozzo.com,,
3068,4fdc20ed40afa3ddf23e76db48f54ad668424e94,avel Emelyanov <xemul@virtuozzo.com>, 2016-04-18 16:04:25 +0300, , soccr tcp introduce blob connection info getter api dumping restoring data structure __u32 used getting one restoring also involve size structure caller library know version one using starting point field tcp_entry carry used also note tcp connection info handled library stuff like address port socket option left caller care signed pavel emelyanov xemul virtuozzo.com,,
3069,b8b113bf560a317fc3755e0f5a60335e5cdaab55,avel Emelyanov <xemul@virtuozzo.com>, 2016-04-18 16:03:58 +0300, , soccr tcp add _pause _resume library use call put socket mode saved restored add take one mode todo criu turn repair resume socket restorer blob use library need somehow fix signed pavel emelyanov xemul virtuozzo.com,,
3070,e3f270ac0557972069913611ba5414e04f999f0c,avel Emelyanov <xemul@virtuozzo.com>, 2016-04-18 16:03:35 +0300, , soccr add logging order get message libsoccr propose introduce printing callback set library user called libsoccr signed pavel emelyanov xemul virtuozzo.com,,
3071,6d9e6d15bf5c5fa414debb9460d7def6efabcff8,avel Emelyanov <xemul@virtuozzo.com>, 2016-08-05 14:49:22 +0300, , soccr wire builder build library produce criu wrapper next version include .so library well signed pavel emelyanov xemul virtuozzo.com,,
3072,741719e8d314931ccd17971b7f6ecb53a05d0b62,irill Tkhai <ktkhai@virtuozzo.com>, 2017-01-10 11:17:00 +0300, , fix error return value __get_ns_id function unsigned int return value error coded travis success fix error return value __get_ns_id signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3073,8cae4bdcfa1312a2d6f73f15d54b3883ce9b0b36,mitry Safonov <dsafonov@virtuozzo.com>, 2017-01-09 20:19:10 +0300, , zdtm test add infop waitid man page say optional argument application shall ensure infop argument point siginfo_t structure fix test output 26.128 fail waitid errno bad address 26.128 fail read errno file directory 26.129 err test.c 229 test exited unexpectedly code test output 49.021 err sigpending.c 213 waitid errno bad address 49.021 err test.c 229 test exited unexpectedly code etc travis success bit test fix signed dmitry safonov dsafonov virtuozzo.com acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3074,ae48b5d676e90e998cf6b12d3a36d5f73c45f5ea,italy Ostrosablin <vostrosablin@virtuozzo.com>, 2017-01-09 15:26:00 +0300, , test add variable delta poll.c test zdtm purpose poll.c delta second fine since test take long time pas however vzt cpt start batch multitude test starting could take hour hence test bound fail easy solution would introduce environment variable would allow specify delta zdtm_delta unset default behaviour zdtm would default second however set vzt cpt use delta set test travis success test add variable delta poll.c test rev2 signed vitaly ostrosablin vostrosablin virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3075,1418492fd2829ae1557cd1e6273da587c99432b7,ndrei Vagin <avagin@virtuozzo.com>, 2017-01-05 20:47:00 +0300,1, file leak file descriptor cid 173737 resource leak resource_leak leaked_handle handle variable rmntns_root going scope leak handle travis success file leak file descriptor signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3076,a99b7c1ba348ff51ed1764772557fd75d88e9b45,avel Emelyanov <xemul@virtuozzo.com>, 2017-01-09 13:59:00 +0300, , page server allow blocking socket splicing page server data unix socket may get error eagain splice data available socket yet flag checked af_unix.c kernel decide whether blocking read symmetrical tcp socket check socket o_nonblock flag decicion dropping flag possible otherwise block pipe trying put data even part data fit kernel would block anyway untill full buffer read pipe happen one step later task untie need wait data explicitly poll signed pavel emelyanov xemul virtuozzo.com,,
3077,aabeb8e46dc826d487817157dc55032f94770eff,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-30 04:28:38 +0300, , zdtm use unix socket instead pipe synchronizer process unix socket bound need one socket instead pair pipe use socket peek message need send back currently process read message pipe sends back sleep random timeout worst case waiter read send message back right one get travis success series starting zdtm call test_init anything signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3078,f5df0adac65c67a80b6e2cf00d13c668059ddecb,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-30 04:28:37 +0300, , travis build test docker container travis success series starting zdtm call test_init anything signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3079,4c3068cfca145ad77cc046286ac16375576d9cc1,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-30 04:28:36 +0300, , zdtm call test_init anything test_init executed first prepares container travis success series starting zdtm call test_init anything signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3080,02cdd46dd34d03b8192b18c2ba7d7826b34d3b82,yrill Gorcunov <gorcunov@openvz.org>, 2016-12-23 12:15:49 +0300, , rst malloc update deprecated map_anon flag travis success fetch drop map_anon signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3081,1296fff7db01477b927792eeeb2219dc084b4cd3,yrill Gorcunov <gorcunov@openvz.org>, 2016-12-23 12:15:48 +0300, , restore fetch runtime assume non default setting widespread true instead let fetch setting runtime travis success fetch drop map_anon signed cyrill gorcunov gorcunov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3082,7a6b96aed7ea14ad88e5c5106e985f3a499e8806,leb Valin <the7winds@yandex.ru>, 2016-12-20 17:17:35 +0300,73, zdtm add test sock_packet socket one cover following case socket bound interface socket bound interface http github.com xemul criu issue travis success series starting socket add support sock_packet socket signed gleb valin the7winds yandex.ru signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3083,6d86d8d0d1e84337c00e393f169d699800f260bb,leb Valin <the7winds@yandex.ru>, 2016-12-20 17:17:34 +0300,73, socket add support sock_packet socket socket type sock_packet restores binding proper address structure http github.com xemul criu issue travis success series starting socket add support sock_packet socket signed gleb valin the7winds yandex.ru signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3084,b82fc5e07ceea9805d976c720c38b12704ab75d2,italy Ostrosablin <vostrosablin@virtuozzo.com>, 2016-12-21 14:20:00 +0300, , test fix shell script test conntracks route_rules test seem assume zdtm lib directory path calling parseargs.sh would fail cwd static therefore patch change lib parseargs.sh fine zdtm vzt cpt travis success test fix shell script test conntracks route_rules signed vitaly ostrosablin vostrosablin virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3085,9a5ff1a0752704f6fec1dd7097f35012469b4b95,drian Reber <areber@redhat.com>, 2016-12-21 15:51:00 +0300, , zdtm fix makedev defined sys sysmacros.h compiling zdtm latest fedora rawhide give error like ns.c function prepare_mntnsâ ns.c 122 error gnu library makedev defined sys sysmacros.h historical compatibility currently defined sys types.h well plan remove soon use makedev include sys sysmacros.h directly intend use system defined macro makedev undefine including sys types.h werror mknod dev ptmx 0666 s_ifchr makedev  cc1 warning treated error commit fix error travis success zdtm fix makedev defined sys sysmacros.h signed adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
3086,aa1d24a76f8280a4d2d7c745d66abb7ec240ae74,avel Emelyanov <xemul@virtuozzo.com>, 2016-12-19 13:14:00 +0300, , util leak dup file descriptor going daemon criu service ask cr_daemon keep descriptor open routine dup2 problem original descriptor left leaked travis success util leak dup file descriptor signed pavel emelyanov xemul virtuozzo.com,,
3087,879d6d1e03e91dd37595d6a418ae0b988390b040,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-14 23:00:00 +0300, , test check non root shared mount idea test check non root shared mount life shared group fix link description travis success test check non root shared mount rev2 signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3088,a48c533536e8ab61da743e074f7dfc3c5927f0ed,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-16 12:38:54 +0300, , page read fix maybe_read_page accept rest code int ... signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt,,
3089,215d242ad9bafcd2035fe5ae76b7a213c0912d50,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-12-06 11:15:09 +0200, , pagemap drop pagemap2iovec iovec2pagemap pagemapentry struct iovec quite interchangeable pagemapentry used directly place converted struct iovec place used iovec2pagemap switched open coded assignment without really hurting code readability travis success pagemap minor cleanup rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3090,094ba506fe8283e4f68e81dfe0c23b75033d376e,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-12-06 11:15:08 +0200, , dedup_one_iovec explicitly pas start end instead iovec travis success pagemap minor cleanup rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3091,4a7947aa79f222eb26ccdf5f6f231c9e91f4d8d9,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-30 14:06:10 +0300, , page read let remain null cid 172196 issue 233 advance method keep null rest code count signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt,,
3092,5d8e80d607259b807d3cf92e777cca1a33d88de3,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-30 13:48:16 +0300, , page read remove get_pagemap method obsoleted advance method signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt,,
3093,84f22ae101822d2447194877c72766ec13ac8160,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-30 13:47:58 +0300, , page read remove iov get_pagemap data available widely need copy thing twice signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt,,
3094,75b4aae5dc2b190e52c8b5d1331c2840b4bd1e80,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-20 11:50:03 +0200, , pagemap replace seek_page seek_pagemap method external user seek_page method page xfer uffd anyway interested entire pagemap rather particular page added skip_zero parameter allows proper detection zero pagemaps uffd signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3095,7d929d2d737f03e19a83124a834e7e9f93e2e7f7,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-20 11:50:01 +0200, , dedup uffd remove handling return value return value either page found page found point checking return value signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3096,a1601d9a7d366a160e5b1db819111c5a5a96e19e,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-15 18:57:10 +0200, , criu pagemap make advance public method travis success uffd new set improvement signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3097,11675c71d17a7133a9b5569af5e9a922a81a7e49,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-09-18 09:28:00 +0300,217, criu pagemap traverse entire pagemap seeking page since commit 95009c4c6d5 criu pagemap introduce advance helper pagemap iteration traverse entire pagemap rather start time last pagemap used large pagemaps like e.g maps05 case new behavior cause exponential increase amount call every new snapshot let restore original behavior fix 217 reported andrey vagin avagin openvz.org signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3098,70b072d488ab9faf5617cdbd85b874c25818009e,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-09-08 10:39:08 +0300, , criu pagemap introduce advance helper pagemap iteration signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3099,eba074c0e1223537e72ae75c9273c59fa3d1d8f3,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-26 11:25:38 +0300, , arch split get_task_regs get_ save_ part signed pavel emelyanov xemul virtuozzo.com,,
3100,b84d2b786c4ab264ab62794dcfc25b6a15810770,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-01 11:32:38 +0300, , zdtm.py pas test pid zdtm hook travis success series starting build install libnet dev signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3101,a7faf367a6b2e215a86f2fffe785c63aa3902c96,italy Ostrosablin <vostrosablin@virtuozzo.com>, 2016-12-19 09:30:00 +0300, , test fix sockets03 default sigpipe handler set ign default sockets03 set sigpipe handler sig_ign run zdtm.py cause problem inherits signal handler however run via vzt cpt system launch test receives default handler would terminate test result test guaranteed fail attempt write shutdown receiver get sigpipe face travis success test fix sockets03 default sigpipe handler set ign rev2 acked andrei vagin avagin virtuozzo.com signed vitaly ostrosablin vostrosablin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3102,924a9448c71a55b0e10d747df5721491cba7f09a,irill Tkhai <ktkhai@virtuozzo.com>, 2016-12-16 14:13:00 +0300, , zdtm add hook cleanup test temporary file travis success zdtm add signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3103,6f413a51088cf7e6b831abf5a528ad224f251707,irill Tkhai <ktkhai@virtuozzo.com>, 2016-12-15 16:24:00 +0300, , script print error value case action script fail easier debugging forward script message criu log using cr_system travis success script print error value case action script fail rev2 signed kirill tkhai ktkhai virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3104,7cb248ee2c0bb94c76088be2d44abc747852fb24,irill Tkhai <ktkhai@virtuozzo.com>, 2016-12-14 20:32:00 +0300, , zdtm add sock_peercred test check so_peercred socket option restored correctly supported thus test marked noauto seems support feature require ghost task introduce travis success zdtm add sock_peercred test signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3105,0c675a5e9d400e2046e6bd9fbfdb4c8cc70ba6bc,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-14 02:58:14 +0300, , file remove link_remaps everything restored remove link_remap file file restored wrong something else may fail able repeat attempt restore process travis success file remove link_remaps everything restored signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3106,9c26bae05aa27258e771a1871ea739e1725f4b65,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-14 02:58:13 +0300, , fault check link_remaps restore fails last moment link remap file deleted process restored successfully otherwise want repeat attempt imposible link remap file deleted signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3107,f85a04481aefadb1b2fd1b11d8ec99c2fa36bd50,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-14 02:58:12 +0300, , test execute mntns_ghost userns signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3108,ef46344f159d5a6ecc76e437ccfb986f8c2e13a6,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-14 02:58:11 +0300, , file create link uid gid known userns starting 4.8 kernel allow create inodes uid gid unknown user namespace file system mounted 036d523641c66 vfs create inodes uid gid unknown vfs signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3109,3ed868b3c3ded23e07ea8fc17442870e7ad12848,ir Kolyshkin <kir@openvz.org>, 2016-12-14 05:19:00 +0300, , destdir empty destdir mostly used packagers rpm spec deb rule try installation normally left unset empty setting look weird besides leaving empty making sure everything work destdir set fix install.md accordingly travis success destdir empty cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3110,ff728932e33b3041ed4fecfcb9ed65ff7778e466,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-13 03:27:00 +0300, , zdtm.py add test name progress line impossible find test started sometimes want knwo test running specified moment travis success zdtm.py add test name progress line signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3111,db1a0d30b33abd9f3f31aec50a21d356e5ababf8,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-13 03:15:00 +0300, , zdtm exit test root process died test process control process process killed travis success zdtm exit test root process died signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3112,3bdcd52f4e150dcfbf528efb12cf7a299eae7d1c,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-09 00:50:00 +0300,1, file leak socket error case cid 173074 resource leak resource_leak leaked_handle handle variable sock going scope leak handle signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3113,65d79e94824891a4e3eb768cef154a28c5fe71d9,mitry Safonov <dsafonov@virtuozzo.com>, 2016-12-09 21:19:42 +0300, , util use proc_self vaddr_to_pfn open_proc little optimization one syscall travis success rectify bit compatible x86 signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3114,9fe7ccca6eea685c60c338dee11ca4e69f8db349,avel Emelyanov <xemul@virtuozzo.com>, 2016-12-12 21:49:00 +0300, , fix resp.errno access field resp cr_errno travis success fix resp.errno access signed pavel emelyanov xemul virtuozzo.com acked andrei vagin avagin virtuozzo.com,,
3115,36e43e20fd37c6f6d62e642463fa21237d392513,irill Tkhai <ktkhai@virtuozzo.com>, 2016-11-30 19:31:11 +0300, , file use collect_gen_fd tty_collect_fd functional change improves uniformity signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3116,c7eeef23e40cd5038ff69bb91d4b987388e3bfff,irill Tkhai <ktkhai@virtuozzo.com>, 2016-11-30 19:28:58 +0300, , file create per process transport sock bind used instead currently existing per transport socket used receive_fd stage create socket state signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3117,d647f47f20394f616f97f90ad5effe3a449c709d,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-25 18:11:53 +0300, , criu install make includedir carry criu directory includedir gon used compel signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3118,1cadd1c3e842b6ff61c37badbfc09d9123a31e92,mitrii Shcherbakov <dshcherbakov@virtuozzo.com>, 2016-11-21 12:54:15 +0300, , zdtm mnt_ext_dev output message set easier debug variable passed accident travis success series starting zdtm mnt_ext_auto avoid segfault zdtm_newns set signed dmitrii shcherbakov dshcherbakov virtuozzo.com acked andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3119,99e77674a2f235a6584810ad4645375b54b9fe0d,mitrii Shcherbakov <dshcherbakov@virtuozzo.com>, 2016-11-21 12:54:14 +0300, , zdtm mnt_ext_auto avoid segfault zdtm_newns set getenv return null pointer get segfault let exit sane way travis success series starting zdtm mnt_ext_auto avoid segfault zdtm_newns set signed dmitrii shcherbakov dshcherbakov virtuozzo.com acked andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3120,df335ee1822d370f5be1e3d9e9e5b2cb57806198,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-20 11:50:02 +0200, , pagemap drop warn parameter move error printout call site keep fast path clearer signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3121,4b954b94e40ab7165aa2ea9be8dbda83daefbe7e,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-20 11:50:00 +0200, , pagemap remove debug print seems logging amount skipped page useful early debugging pre dump creates lot noise lazy page pre dump test signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3122,3c18e396601115dfdbe3bcd96070d3511a2f07e9,ir Kolyshkin <kir@openvz.org>, 2016-11-18 11:41:31 -0800, , test zdtm pr_perror sanitization append pr_perror already doe travis success pr_perror usage fix signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3123,4d1c3f9834a35b90aabd72e217c561198c31641d,ir Kolyshkin <kir@openvz.org>, 2016-11-18 11:41:30 -0800, , test zdtm use pr_err pr_perror place supposed print errno already print explicitly use pr_err travis success pr_perror usage fix signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3124,bdf60512deb8899f85a523d7931558f847447d0b,ir Kolyshkin <kir@openvz.org>, 2016-11-10 16:32:27 -0800, , pie provide memcpy memcmp memset noglibc case use alias function attribute provide memcpy memcmp memset case linking libc needed compiler generate call function clang actually doe add comment move alias has_builtin_ http travis ci.org kolyshkin criu build 174634847 idea andrei vagin avagin openvz.org signed kir kolyshkin kir openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3125,f845d9e4e0bd500b23a36d85f6c27c23ff4abd3e,ir Kolyshkin <kir@openvz.org>, 2016-11-10 16:32:26 -0800, , builtin_ memcpy memset make compatible libc memcpy last argument size_t memset return void make builtin_ function compatible http travis ci.org kolyshkin criu build 174634847 signed kir kolyshkin kir openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3126,f851da768c9df61074500caece6dd3b6f91cb9d3,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-31 17:59:26 +0300, , pie split piece signed pavel emelyanov xemul virtuozzo.com,,
3127,056786376b54453d8161901cd9d90722bc2f1859,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-31 17:44:56 +0300, , pie split parasite_fini piece signed pavel emelyanov xemul virtuozzo.com,,
3128,0e1cce76b0874c0561abbfbd6bb9976e805a6259,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-31 17:38:12 +0300, , pie split parasite_daemon piece signed pavel emelyanov xemul virtuozzo.com,,
3129,6e4c1d9f05255770139327b8000b92100b95ae2b,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-28 14:01:00 +0300, , zdtm split long .desc line done python pprint module indent width file one field length exceeding character travised http travis ci.org xemul criu job 171350152 travis success zdtm split long .desc line signed pavel emelyanov xemul virtuozzo.com,,
3130,ef73a7f2a602b7546c3752f8fca32684f0312e0b,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-24 14:58:01 +0300, , criu lock use systemwide uintx type portability sake gon share header travis success common header signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3131,c1e397793549e6cdfc782c6adc7786e08459909a,mitry Safonov <dsafonov@virtuozzo.com>, 2016-09-16 21:37:10 +0300, , parasite x86 introduce use builtin_memset use compiler provided memset parasite fix commit 86434deba0b4 x86 dump entry gdt cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3132,7b8b418edf2e716b0467b815576fe1327f3f3225,yrill Gorcunov <gorcunov@openvz.org>, 2016-06-30 18:46:00 +0300, , build nmk filter flag linking builtin target tycho reported debian custom ldflags build criu flag get propagated built target use instead causing build procedure interrupt link arch x86 syscalls.built in.o unrecognized option bsymbolic function use help option usage information pkgbuilddirâ script nmk script build.mk 141 recipe target arch x86 syscalls.built in.o failed let make maintainer life easier filter flag know never accepted reported tycho andersen tycho.andersen canonical.com tested tycho andersen tycho.andersen canonical.com signed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3133,ffe90e0b9e16f19e23c01cce7faa3713153a991a,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:24:09 +0300, , parasite convert sigframe u64 sigframe pointer fixed size convert member fixed size patch dumping compatible task work cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3134,ccc4456474ac1683a68d48351a8fc96416dae779,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-17 03:22:00 +0300, , zdtm move tap header first line error parsing tap stream invalid position tap header must first element apart comment tap stream reported jenkins travis success zdtm move tap header first line signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3135,60738eaa7861004f00552f8b29bf3652d5f96adf,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-22 20:03:00 +0300, , file rework send recv fds generic remove getting opts descriptor scm engine stuff pure criu thing make collect data tricky change parasite code need memory keep fd_opts memory taken parasite args region bigger used big deal previously space allocated parasite stack smaller chunk hand one memcpy opts put directly destination buffer travis success file rework send recv fds generic signed pavel emelyanov xemul virtuozzo.com,,
3136,ed4a4b75078aa89be77aad43948e310c6329fc5e,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-15 12:42:00 +0300, , scm unweave fds mess currently criu built criu pie util symlink criu pie util flag use general compel infection code moreover criu link libcompel.a get problem send_fds recv_fds multiple defined let rather unweave mess drop criu pie util fd.c completely move send_fd recv_fd inliners scm.h signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3137,3c982617304b23af3f2503b5b0e2d89b11f07059,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-14 23:01:17 +0300, , compel plugins fds unify prototype declare send_fds recv_fds sch.h prototype used compel criu drop old protos plugin fds.h uapi file drop old code fds.c source signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3138,a1f674e34b860544f2a4369b946a65215df03af5,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-14 23:01:16 +0300, , scm common hide struct fd_opts argument set scm code.c built declares struct fd_opts parameter let rather hide type allow build without definition signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3139,187377a5268021e3cc839b807f6e27138c302d10,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-14 23:01:00 +0300, , scm scm_fdset_init drop unused with_flags argument signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3140,165203b3c63fcc88c8ff0c157cf0166b2e283157,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-02 03:38:28 +0300, , scm move scm_fdset structure include common signed pavel emelyanov xemul virtuozzo.com,,
3141,7279c0e7b46a557419a3fecd5c49f0272c89190f,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-02 03:35:25 +0300, , scm compile opts management pure compel library messing opts required criu criu pie need make possible compile common scm code opts management signed pavel emelyanov xemul virtuozzo.com,,
3142,bc102ea1bf9fa9a72d0c9bd024c9b42635c89361,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-02 03:29:07 +0300, , scm define __memcpy depending code using memcpy different signed pavel emelyanov xemul virtuozzo.com,,
3143,554d0f0ab48f4ad466469834fb6ca8bd04bde5f5,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-02 03:27:46 +0300, , scm move sending core code include common signed pavel emelyanov xemul virtuozzo.com,,
3144,553c6ff8d8184de3aff2542ce833d568bb2c2873,avel Emelyanov <xemul@virtuozzo.com>, 2016-12-12 11:42:12 +0300, , criu version 2.9 quite tiny bigfix mostly release one interesting thing though criu built clang supported architecture signed pavel emelyanov xemul virtuozzo.com,,
3145,d08622811d2b5c4638a4a94842d4b3745d2ec739,drian Reber <areber@redhat.com>, 2016-11-15 16:50:00 +0300, , crit added crit manpage based debian manpage salvatore bonaccorso e708a3a sync manpage crit include short explanation new subcommands 7dd571a fix position optional argument crit manpage 017f8d9 add minimal manpage crit travis success crit added crit manpage signed adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
3146,f47540234dde7190b317210274837a37f417b9bf,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-09 19:37:00 +0300, , shmem skip zero page page_in_parent return true dirty page probably executed zero page grep error 00.115327 error criu pagemap.c 191 missing 8000 parent pagemap current iov base 9000 len 32768 00.115329 error criu page xfer.c 237 hole 0x8000 4096 found parent 00.160222 error criu dump.c 1636 dumping failed error signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3147,7227e2ecc007a08f6bbef0a3c2395823c8b0b6b6,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-09 06:44:00 +0300,253, test execute cgroup03 cgroup test concurrently http github.com xemul criu issue 253 travis success test execute cgroup03 cgroup test concurrently signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3148,6077c3d7f0c74eb534c93496d8fbdd36aea41c4d,mitry Safonov <dsafonov@virtuozzo.com>, 2016-12-07 18:28:00 +0300, , zdtm.py print full pie error grep error omitting line break  log dump zdtm transition shmem 142 dump.log grep error pie error home travis build 0x7f454c46 criu criu arch x86 includ pie error home travis build 0x7f454c46 criu criu arch x86 includ pie error home travis build 0x7f454c46 criu criu arch x86 includ pie error home travis build 0x7f454c46 criu criu arch x86 includ pie error home travis build 0x7f454c46 criu criu arch x86 includ pie error home travis build 0x7f454c46 criu criu arch x86 includ error  log dump zdtm transition shmem dump.log grep error pie error home travis build 0x7f454c46 criu criu arch x86 includ pie asm parasite.h failed dump descriptor pie error home travis build 0x7f454c46 criu criu arch x86 includ pie asm parasite.h failed dump descriptor pie error home travis build 0x7f454c46 criu criu arch x86 includ pie asm parasite.h failed dump descriptor pie error home travis build 0x7f454c46 criu criu arch x86 includ pie asm parasite.h failed dump descriptor pie error home travis build 0x7f454c46 criu criu arch x86 includ pie asm parasite.h failed dump descriptor pie error home travis build 0x7f454c46 criu criu arch x86 includ pie asm parasite.h failed dump descriptor error signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3149,890457ef7516d5703bf6ce36a54f2fbb6fbb282a,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-08 10:30:10 +0300, , zdtm add test check mount tree overmounts signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3150,96de90db311797d4aa588ca1ccfb2d390143cb87,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-08 10:30:09 +0300, , mnt try split mount tree restore mounted mount mount overmounts something else try restore separetly move right place restoring mount patch see mount overmounts something create new directory root yard restore mount sub tree directory http bugs.openvz.org browse ovz 6778 add comment rename roots_mp roots_yard_mp rename function signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3151,4ac401fdb05c9fb9203765c236f5092013f49b31,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-08 10:30:08 +0300, , mnt rename roots_mp root_yard_mp make global preparation handle mount set name global local variable signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3152,432504d403227e7d52f887519686e91b3ca7e01c,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-08 10:30:07 +0300, , mnt add sub print_ns_root used handle overmounts signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3153,bad162f0ee4a3940a87faf69195d69291c6b06b0,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-08 10:30:06 +0300, , mnt clean signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3154,f6c7c0735efc809f63c8a134239c6726a70b8113,ixun Lan <dlan@gentoo.org>, 2016-12-07 18:40:00 +0300, , include sys sysmacros.h minor major makedev funcs since glibc moving away implicitly including sys sysmacros.h time via sys types.h include header directly place seems cover makedev major minor usage signed yixun lan dlan gentoo.org signed mike frysinger vapier gentoo.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3155,1c43dc2d8663d8d20785e92cb9b2cf8d626b92d4,yrill Gorcunov <gorcunov@openvz.org>, 2016-12-06 22:25:00 +0300, , restore report error number pr_set_mm failed travis success restore report error number pr_set_mm failed reported andrei vagin avagin virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3156,3e15360580a6852aad52c466773505806c776c31,drian Reber <areber@redhat.com>, 2016-12-06 17:45:00 +0300, , zdtm set 100 sched_policy00 test run test zdtm static sched_policy00 sys cgroup cpu user.slice need non zero change 100 test reset original value test finish travis success zdtm set 100 sched_policy00 test signed adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
3157,b108c7526ad4012145c713a634bb0c377a0b6e28,ndrei Vagin <avagin@virtuozzo.com>, 2016-09-22 09:16:37 +0300, , mnt restore shared mount correct shared group currently shared group set source mount need update source mount mount first mount shared group shared inherited signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3158,e9ca7932abdc817f90428163f28b6c933fe14314,ndrei Vagin <avagin@virtuozzo.com>, 2016-09-22 09:16:36 +0300, , mnt add function check whether mount overmounts something function going used change logic patch signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3159,4a6b286c31bd06c0878cfb5e819fb60bb834b268,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-18 17:51:24 +0300, , test rmdir_open delete two level directory one level always handled properly two level may cause problem travis success multiple nested deleted dentries fix signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3160,994d598746f1c5f7a70ea2468e49ed9596307655,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-18 17:51:23 +0300, , criu file reg create complete path deleted dentry case several level dentries missed restore otherwise travis success multiple nested deleted dentries fix signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3161,994478b0fb861efda05c0768c59f4bc40a95580b,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-18 17:51:22 +0300, , util make mkdirpat generic take mode account return system error code error travis success multiple nested deleted dentries fix signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3162,cf5c57bf7f3698b9b8bfeb5d4945a7136819b036,ndrei Vagin <avagin@openvz.org>, 2016-12-09 04:14:00 +0300,260, shmem write zero page image http github.com xemul criu issue 260 http travis ci.org avagin criu build 182462796 http ci.openvz.org job criu job criu patchwork 941 console call zero page signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3163,0bfa6a6cc1c8d2541014165ae9f52bd5feabd3fd,aghavendra Prabhu <me@rdprabhu.com>, 2016-12-04 19:52:00 +0300, , update xtables deps netns test distros arch part iptables usr lib iptables change test pass otherwise netns test fails tested make test signed raghavendra prabhu rdprabhu.com signed pavel emelyanov xemul virtuozzo.com,,
3164,d49fac1ab6ab9727173065f3a69fc079d8947780,irill Tkhai <ktkhai@virtuozzo.com>, 2016-12-01 12:22:00 +0300, , criu fix open retval analysing negative retval error place travis success criu fix open retval analysing signed kirill tkhai ktkhai virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3165,70cdf43a90ebc4a5cae53aaf1a23f16ca0ea23aa,ndrei Vagin <avagin@virtuozzo.com>, 2016-12-01 11:32:22 +0300, , net add criu iptables rule head chain criu iptables rule block tcp connection rule added tail chain rule accept packet blocked travis success series starting build install libnet dev signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3166,3ead6f0c6e1346fe275ed7a4f7aa6033f175cafe,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-12-01 12:40:00 +0300, , zdtm allow keep going anytime running multiple test currently possible continue testing despite failure running zdtm.py option let make keep going option also valid one test requested test signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3167,b415a3c11b8fe862cada965c0abc14f424680d78,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-30 11:21:00 +0300, , file explicitly set linked remap type make crit show type handy also let deprecate old format remap type encoded remap travis success file explicitly set linked remap type signed pavel emelyanov xemul virtuozzo.com,,
3168,3f9a0aae670096b4e87b16d39180a7fd2430c774,ir Kolyshkin <kir@openvz.org>, 2016-12-01 09:43:00 +0300, , criu describe weak sysctls addition commit 6273a5c add ability restore missing sysctls target node travis success document weak syscalls pavel tikhomirov ptikhomirov virtuozzo.com signed kir kolyshkin kir openvz.org acked pavel tikhomirov ptikhomirov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3169,501aa85b57cc8c711c1d1b4aabd0ebfc7031ac91,ir Kolyshkin <kir@openvz.org>, 2016-12-01 09:43:00 +0300, , criu help shorten weak symbol descr option help provide brief information like list command option meaning ideally line per option need describe nuance detail since documentation wiki man page travis success document weak syscalls pavel tikhomirov ptikhomirov virtuozzo.com signed kir kolyshkin kir openvz.org acked pavel tikhomirov ptikhomirov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3170,d1be19976563cf0be27baa23ab8a6305937f9115,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-11-29 19:45:00 +0300, , add weak_sysctl cli option rpc lib signed pavel tikhomirov ptikhomirov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3171,22140b97c91c640a8f1e6efc9e58e196a4278d67,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-11-29 18:35:00 +0300,248, add ability restore missing sysctls target node new weak sysctls option criu restore migrate source newer kernel modern sysctl destination older kernel without kernel configured without e.g face problem dumped sysctls successfuly restored destination address problem introduce weak sysctls migration restore available sysctls skip others http github.com xemul criu issue 248 fix workaround stable_secret eio skip travis success add ability restore missing sysctls target node signed pavel tikhomirov ptikhomirov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3172,26ccb06a745ff9c0b5b502424e8ddd48181ff5d3,ir Kolyshkin <kir@openvz.org>, 2016-11-30 05:10:00 +0300, , travis enable arm arm64 ppc build clang recent patch criu finally compileable clang architecture keep way need travis test regular basis downside travis build time increased travis success travis enable arm arm64 ppc build clang signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3173,94dfd0ca917d08675c14a9fcc3c6d29886d30509,drian Reber <areber@redhat.com>, 2016-11-29 10:45:00 +0300, , zdtm print summary failed test using keep going using option keep going get quick overview test result summary test failed like test failed total 268 skipped zdtm static sched_policy00 unknown zdtm static pthread00 unknown zdtm static pthread01 unknown zdtm static maps01 unknown zdtm static maps00 unknown zdtm transition maps008 unknown zdtm transition shmem unknown fail signed adrian reber areber redhat.com acked andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3174,c64010fe2d93984b61c322b5359fa899b9bbd9de,italy Ostrosablin <vostrosablin@virtuozzo.com>, 2016-11-29 16:29:00 +0300, , test fix socket name socket dgram_data snd_addr two test use socket name run simultaneously would fight socket one get eaddrinuse patch give unique name everyone happy travis success test fix socket name socket dgram_data snd_addr acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3175,af74019d66a4962fd4acb3de53c3ff4ab07e517e,aghavendra Prabhu <me@rdprabhu.com>, 2016-11-29 03:07:00 +0300, , ensure install process pep 394 compliant installation need use python2 python makefile fails later syntax error since written python2 per pep 394 http www.python.org dev pep pep 0394 distribution ensure python refers target python2 hence change therefore python2 used default lib makefile though overriden python_bin tested python_bin python2 make install make install export python_bin python2 make test signed raghavendra prabhu rdprabhu dot com signed pavel emelyanov xemul virtuozzo.com,,
3176,3a18b4c98444e9429dcdebd4dcffdb868026b6c2,irill Tkhai <ktkhai@virtuozzo.com>, 2016-11-29 13:50:00 +0300, , unix dump unused external socket dump external socket peer process socket use restore need dump signed kirill tkhai ktkhai virtuozzo.com criu unix.c file changed insertion deletion signed pavel emelyanov xemul virtuozzo.com,,
3177,a2225308c93ff8df1321dc810d3264cb94596d55,enkateswara Rao Mandela <venkat.mandela@ti.com>, 2016-11-25 17:31:00 +0300, , test others rpc fix build error build test others rpc folder failing due use ldflags variable instead ldlibs variable link libprotobuf makefile implicit build rule ldflags n.o loadlibes ldlibs using ldflags place llibprotobuf object file preventing library searched required function commit change variable ldlibs instead fix issue travis success test others rpc fix build error signed venkateswara rao mandela venkat.mandela ti.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3178,e8d05923e7498da34778a059d8d0dce79ae8c8db,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-22 14:57:37 +0300, , zdtm add simple test descriptor unix socket http travis ci.org criupatchwork criu build 177945936 signed pavel emelyanov xemul virtuozzo.com,,
3179,aa804211095527a2f51334f3ac389d65799825bf,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-22 14:57:17 +0300, , skqueue check scm queue abort dump msg_peek dump file easily problem restore need first pas fdinfo opening sending descriptor time sending socket may already closed detect scm queue abort dump otherwise lost state spoiled http travis ci.org criupatchwork criu build 177945936 signed pavel emelyanov xemul virtuozzo.com,,
3180,87cf0cb56e9c986d35f12df1949a2b5fd8f5cffa,mitry Safonov <dsafonov@virtuozzo.com>, 2016-11-14 21:36:00 +0300, , test combine remap_dead_pid _root test dropped check check open test two line upper combined two test share common code differ proc path open dead process travis success pstree rename lookup_create_ item pid rev2 tycho andersen tycho.andersen canonical.com acked tycho andersen tycho.andersen canonical.com signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3181,8f2b2c7f0baa491331bdcde915d3278bf624d459,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-13 11:38:53 +0200, , page read implement asynchronous mode reading page currently page read request result pread call better urgent need data likely case non cow pagemaps save date read one preadv syscall lazy page get ability async read_pages call would send request server return data buffer explicit sync method added since .close void nobody check return code lost limits.h pagemap.c iov_max compilation split added code smaller chunk http travis ci.org criupatchwork criu build 175451746 signed pavel emelyanov xemul virtuozzo.com signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3182,f514b606bb3cedd0015bdcf59fd4f73fcc913de1,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-13 11:38:52 +0200, , page read add async arg read_pages callback flag pr_async mean caller routine return data read buffer provided http travis ci.org criupatchwork criu build 175451746 signed pavel emelyanov xemul virtuozzo.com signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3183,b47d9a284c08091399a9bee6ba2de941831c1819,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-13 11:38:51 +0200, , page read lseek file get current position already written page_read pi_off use one http travis ci.org criupatchwork criu build 175451746 signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt,,
3184,5f09d884f8fd5f50e78b340f8fd499bdfc9dc78c,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-14 11:07:00 +0300, , page xfer spelling heppen happen travis success page xfer spelling heppen happen signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3185,e7089bc3fa8b260a52ff4d919515841eb1635a4e,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-09-08 10:39:07 +0300, , criu pagemap drop put_pagemap memory pagemap put_pagemap required doe free resource minor modification get_pagemap init_pagemaps allow proper bookkeeping without put_pagemap signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3186,b89ee40bc44b459084ca4ff5de6055872aab6c6f,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-10 13:34:00 +0300, , header switch common linkage.h travis success header switch common linkage.h signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3187,3929e1d9a84b53e695c4063a8ccfedc8312a7452,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-03 18:39:11 +0300, , criu move separate header rest moved compel particular strucure needed criu signed cyrill gorcunov gorcunov openvz.org,,
3188,e2e6d3ae5fc6be02f4e2519f9d62137e85170305,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-21 13:33:23 +0300, , header split types.h header 2nd big splitting patch move code infect related know criu internals like protobuf types.h header also big fat patch move code around applies top sigframe extracting patch travis http travis ci.org xemul criu build 171439595 signed cyrill gorcunov gorcunov openvz.org signed ported dev pavel emelyanov xemul virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3189,443f248941b541960bb7a863db7543c008968736,yrill Gorcunov <gorcunov@openvz.org>, 2016-11-21 12:36:38 +0300, , sigframe move sigframe related code sigframe lot code making sigframes pie spread asm restorer.h arch crtools.c patch collect asm sigframe.h arch sigframe.c better modularity sake compel patch huge move code around making u32 u64 type conversion uint32 64_t appropriate travis success sigframe move sigframe related code sigframe signed cyrill gorcunov gorcunov openvz.org signed ported dev pavel emelyanov xemul virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3190,9117dd66ad35263c9f7eaf18d59ff1d23def48a0,ndrei Vagin <avagin@openvz.org>, 2016-11-15 10:23:00 +0300, , zdtm fix flake8 warning flake8 config script flake8.cfg test zdtm.py test zdtm.py e305 expected blank line class function definition found test zdtm.py 127 e305 expected blank line class function definition found test zdtm.py 971 e305 expected blank line class function definition found test zdtm.py 1618 e305 expected blank line class function definition found makefile 377 recipe target lint failed travis success zdtm fix flake8 warning signed andrei vagin avagin openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3191,cde33dcb06394e1654018045ac78244fa95af4d2,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-15 17:08:00 +0300,246, empty iptables ing net namespace empty net option also skip netfilter rule per http github.com docker docker issue 27597 however one thing handled local tcp blocking rule expected restore longer case put back manually test included checked zdtm static socket tcpbuf local full script empty netns setup http github.com xemul criu issue 246 signed pavel emelyanov xemul virtuozzo.com,,
3192,7251cb3aa939139f75d2de8305ac38d785a875ac,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-14 11:12:41 +0300, , criu version 2.8 time mostly lot code rework compel big portion still criu dev merged master bunch bugfixes .config file support tun tap device deprecation several cli rpc option external one signed pavel emelyanov xemul virtuozzo.com,,
3193,8883c8cb3a591b1e46def95ff0bfae66fa2e2db2,irill Tkhai <ktkhai@virtuozzo.com>, 2016-11-02 12:15:00 +0300, , net make criu fail recent iproute2 since iprule commit 67a990b81126 command rule del working anymore iproute disallow rule del without parameter disallow run rule del without parameter avoid delete first rule table signed andrey jr. melnikov temnota.am gmail.com criu restore fails error criu net.c 1277 tool failed rule delete fix explicit passing rule table use rule flush main default table rule travis success net make criu fail recent iproute2 rev2 signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3194,f8e47d48a1a4dbaa5df6b5d47d1998d358f41275,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-10 10:00:02 +0200, , criu pagemap split smaller chunk introduce helper function reading page parent snapshot reading page local page img travis success criu pagemap minor improvement signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3195,ab2247ce2dfc5a2353d9e9ddd18c904475fe13f3,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-11-10 10:00:01 +0200, , criu pagemap use pid instead appropriate pagemap method mix using pid pagemap internal using pid name place actually refer pid make code clearer travis success criu pagemap minor improvement signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3196,c4f4e6c92608b247f6665e41004ef48200fc21bd,uslan Kuprieiev <rkuprieiev@cloudlinux.com>, 2016-10-21 21:10:00 +0300, , lib add external support already present rpc let add libcriu signed ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul virtuozzo.com,,
3197,fc4e022b9af9dd594d559fd8105e0c0306829fce,ir Kolyshkin <kir@openvz.org>, 2016-11-07 13:37:53 -0800, , criu annual pr_perror usage sanitization using pr_perror end message added automatically unfortunately still figure way check compile time annual patch travis success assorted nitpicks signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3198,106e2d29781eca02a2babcb6c21a3fa5b398ec89,ir Kolyshkin <kir@openvz.org>, 2016-11-07 13:37:51 -0800, , criu tty.c use pr_err pr_perror certain place syscall use pr_perror automatically add strerror errno error message place sure errno set function called use pr_err instead travis success assorted nitpicks signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3199,01b81f174e73d3d65e1e75501b198da47e506fbe,ir Kolyshkin <kir@openvz.org>, 2016-11-07 13:37:50 -0800, , criu use xmalloc make sure use xmalloc error message make sense make sure ignore null returned travis success assorted nitpicks signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3200,d98c19ef0edcc426dcf9a496b56bf6dbe2a40b08,ir Kolyshkin <kir@openvz.org>, 2016-11-07 13:37:49 -0800, , use xstrdup whether possible using xstrdup let error message printed malloc fails travis success assorted nitpicks signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3201,9f06405082ce4dc1b1f424f50ada2acfe7e2a9dc,ir Kolyshkin <kir@openvz.org>, 2016-11-07 13:37:48 -0800, , mount.c use xstrdup already wrapper spit error use travis success assorted nitpicks signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3202,56f91edfb4a887c81b3acf016575621b99d4d941,ir Kolyshkin <kir@openvz.org>, 2016-11-07 13:37:47 -0800, , open_proc print error twice open_proc fopen_proc macro print error case something wrong macro print correct file line info need print another error message right calling fix double error message like 00.047295 error criu proc_parse.c 990 open 18472 status procfs file directory 00.047298 error criu proc_parse.c 992 open proc status file directory travis success assorted nitpicks signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3203,7b07ac5f721fb04b7e68c53818521e71d9402ee8,ir Kolyshkin <kir@openvz.org>, 2016-11-07 13:37:46 -0800, , logging make sure change errno log function save errno restore restoring end function commit 6ae4a97 rpc report back first error message failure messed move errno restore end function travis success assorted nitpicks signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3204,4864d59eb50e5f9197d86b20a3cf836484006beb,ir Kolyshkin <kir@openvz.org>, 2016-11-07 13:37:45 -0800, , criu mount.c fix printing errno errno setns might lost close change order travis success assorted nitpicks signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3205,6326b5c7c217c29d5468069a358564e7516fc778,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-08 07:38:38 +0300, , travis run zdtm rpc mode travis success test add rpc testing rev2 acked andrey vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3206,19ae737cb9722bf93f88a13eae2ca335c9885d0b,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-08 07:38:21 +0300, , zdtm handle external option rpc travis set gcov variable collect coverage provides external mount thus handling option rpc mode essential travis success test add rpc testing rev2 acked andrey vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3207,65b7d746e39c947563ac711e45e18868bc402a34,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-08 07:38:04 +0300, , zdtm handle dump restore error rpc mode travis success test add rpc testing rev2 acked andrey vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3208,2e6375416be7eac32973d350263f7a3b6a4b2b80,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-08 07:37:47 +0300, , zdtm fix ext mount map external ext mount map deprecated option fix become external one travis success test add rpc testing rev2 acked andrey vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3209,d5fc5dbb41a2ef47ecc0502920be300730be14b0,ycho Andersen <tycho.andersen@canonical.com>, 2016-11-06 12:34:00 +0300, , zdtm.py run clean hook test failure seems clean hook used cgroup macvlan cr_veth mnt_tracefs designed run clean test matter whether failed succeeded let always run andrei hate travis success zdtm.py run clean hook test failure signed tycho andersen tycho.andersen canonical.com andrei vagin avagin openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3210,abc8fba67f460e0c6c2d0611f2da3ba4e8965566,ndrei Vagin <avagin@virtuozzo.com>, 2016-11-05 08:56:00 +0300, , zdtm cleanup fifo_loop.test 44.191 err fifo_loop.c make fifo fifo_loop.test errno file exists reported jenkins travis success zdtm cleanup fifo_loop.test signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3211,2d99499a1c17dba7f35f27280641990fdac795ad,ir Kolyshkin <kir@openvz.org>, 2016-11-03 23:25:39 -0700, , script build aarch64 clang target fix clang ver apparently clang 3.8 ubuntu trusty arm64 latest available version 3.6 let try use http travis ci.org kolyshkin criu build 173168198 signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3212,02340d167e08233c6b87736adc3fd19e5e4a66ba,ir Kolyshkin <kir@openvz.org>, 2016-11-03 23:25:38 -0700, , dockerfile.tmpl merge apt get line recommended always combine run apt get update apt get install run statement also ditch apt get clean seems useless http docs.docker.com engine userguide eng image dockerfile_best practice http travis ci.org kolyshkin criu build 173168198 andrei vagin avagin virtuozzo.com signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3213,97a4d493768cd3095661259a18f4d1c930cfd39b,irill Tkhai <ktkhai@virtuozzo.com>, 2016-11-01 19:35:23 +0300, , arm aarm64 add travis success series starting ppc add signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3214,994d9d4ea6ab15ddc87eed813b75cc8b07f60dcf,irill Tkhai <ktkhai@virtuozzo.com>, 2016-11-01 19:35:11 +0300, , ppc add borrowed linux kernel travis success series starting ppc add signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3215,6c7eb2ee99470f37cd6347e11e7414ddbf3f2f9f,ir Kolyshkin <kir@openvz.org>, 2016-11-03 16:39:41 -0700,8, fix asm syntax clang compatible unsure register name come confuse clang like criu arch arm parasite head.s error unexpected token operand sub get address instruction  patch look scary doe removing register name fixing many space instead tab issue along way travis success fix compile arm clang christopher covington cov codeaurora.org dmitry safonov dsafonov virtuozzo.com signed kir kolyshkin kir openvz.org reviewed christopher covington cov codeaurora.org signed pavel emelyanov xemul virtuozzo.com,,
3216,d6d034a9d228674ebddbab77d4485d8147b99bd3,ir Kolyshkin <kir@openvz.org>, 2016-11-03 16:39:40 -0700, , use rlim_t appropriate got following trying compile criu arm clang criu restore.c 2476 error implicit conversion unsigned long long unsigned long change value 4294967295 werror wconstant conversion return ival rlim_infinity ival  usr include arm linux gnueabihf bit resource.h 117 note expanded macro rlim_infinity define rlim_infinity  error generated fix using provided rlim_t type similar place travis success fix compile arm clang signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3217,70e3b465e8d98bad8969b982f92bd25c41cb05ad,ir Kolyshkin <kir@openvz.org>, 2016-11-03 16:39:39 -0700, , arm cflags somehow clang always like flag example making dependency see commit 9303ed3 makefiles move noexecstack cflags cause build break scary error message even hair loss many way solve patch employ one simple clean mimplicit always flag added commit 79c4b74 arm fix compilation armv7 reason arm need instruction certain conditionals instruction almost always automatically generated assembler case special assembler flag like one needed one place code need easy patch add explicit remove flag note generates machine code per functional change although checked info see http tinyurl.com z3ldsdr hope review arm expert travis success fix compile arm clang christopher covington cov codeaurora.org dmitry safonov dsafonov virtuozzo.com cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3218,1dc67ae8b8769f53405309b81a14124336fc2346,ir Kolyshkin <kir@openvz.org>, 2016-11-03 08:40:00 +0300, , criu typo couple typo signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3219,724522a58af8015aa1198c975f342cc38dc11f8d,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-08 15:51:48 +0300, , opts include config.h since opts depend signed pavel emelyanov xemul virtuozzo.com,,
3220,55573a6283dfe1888ffc31e03b4d73a5e30e9e7f,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-04 08:40:04 +0300, , rpc add lost comment ext_mount_map deprecation signed pavel emelyanov xemul virtuozzo.com,,
3221,294e4dbab39914f5ed91d90e39fcc19235d76801,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-04 01:36:16 +0300, , filesystems add config.h inclusion otherwise may forget compiling code signed pavel emelyanov xemul virtuozzo.com,,
3222,26162cac37dbced6e9b3ae8a545d92a8cd7e5f32,irill Tkhai <ktkhai@virtuozzo.com>, 2016-10-27 20:59:00 +0300, , pie optimize send_fds recv_fds opts ask kernel transfer opts really need sending fds flag ask kernel copy whole struct scm_fdset opts array like send cr_scm_max_fd fds even really transmitting one send_fds doe initializes rest array memory kernel transmits garbage also recv_msg doe return userspace patch make kernel transmit uninitialized garbage travis success pie optimize send_fds recv_fds opts signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3223,d0263ab816412004b3baabb870924b3a9b78b3ca,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-01 06:20:08 +0300,235, mount config virtualized binfmt_misc need mess binfmt_misc super block exists openvz kernel troubes user make code get compiled default build put .config file running make http github.com xemul criu issue 235 travis success compile binfmt_misc dumping code default rev3 signed pavel emelyanov xemul virtuozzo.com reviewed dmirty safonov dsafonov virtuozzo.com,,
3224,a1ba078830c08fdbee9b25ac32d2d9c966df381b,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-02 07:29:27 +0300,235, make add .config file processing file one add option build criu line expanded config_ text macro defined config.h tested later code add .config .gitignore check make mrproper remove .config http github.com xemul criu issue 235 travis success compile binfmt_misc dumping code default rev3 signed pavel emelyanov xemul virtuozzo.com reviewed dmirty safonov dsafonov virtuozzo.com,,
3225,1821acedd04b602b37b587eac5a481094b6274ae,ndrei Vagin <avagin@virtuozzo.com>, 2016-10-29 08:36:00 +0300, , shmem use lseek seek_data instead mincore page swapped detect presence mincore pavel found lseek seek_data seek_hole show page used travis success shmem use lseek seek_data instead mincore eugene batalov eabatalov89 gmail.com cyrill gorcunov gorcunov openvz.org signed andrei vagin avagin virtuozzo.com look good eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3226,606d88f9ac2567b53746266d6fe2625dd3aeb10c,ndrei Vagin <avagin@virtuozzo.com>, 2016-10-26 23:55:24 +0300, , mount set is_ns_root dump required dump content root mount dump_one_fd travis success fix issue dump restore docker container userns signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3227,c64ebbcc44d60d9c631044c01e97f9428c7e6f5d,ndrei Vagin <avagin@virtuozzo.com>, 2016-10-26 23:55:23 +0300, , mount apply superblock flag userns daemon superblock flag changed owner global cap_sys_admin posible mount tmpfs flag travis success fix issue dump restore docker container userns signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3228,5cb1ce94fef7a0ebe707a526a579a9561aec4f9c,ndrei Vagin <avagin@virtuozzo.com>, 2016-10-26 23:55:22 +0300, , zdtm check read tmpfs userns travis success fix issue dump restore docker container userns signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3229,771e33214c62c1696e3863b06f7cb7e36bd69eb9,ndrei Vagin <avagin@virtuozzo.com>, 2016-10-26 23:55:21 +0300, , mount apply superblock flag external mount part fix issue dump restore docker container userns travis success fix issue dump restore docker container userns signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3230,7f4907fe6f859b3f62ce3f6aea929dda8562f49f,ir Kolyshkin <kir@openvz.org>, 2016-11-02 10:59:12 -0700, , criu describe external option add description external option supported case dump restore reference http criu.org cli opt external travis success add fix description external inherit signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3231,c03d80837db55261bfaef92d25e97d54969df79d,ir Kolyshkin <kir@openvz.org>, 2016-11-02 10:59:11 -0700, , criu help fix external dev description first minor major separated slash semicolon second use name val travis success add fix description external inherit signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3232,25f6e5fe7c840e1b3ab09708d824dc05fe81e394,ir Kolyshkin <kir@openvz.org>, 2016-11-02 10:59:10 -0700, , criu help improve inherit description add inherit may also access file_path argument example wiki see http criu.org regular_files test.sh tmp old pid sudo criu dump pid sudo criu restore inherit tmp old tmp new travis success add fix description external inherit signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3233,0df3f79fc023080ac8cc0cc7d886e77179177fbc,ir Kolyshkin <kir@openvz.org>, 2016-11-02 10:59:09 -0700, , criu fix inherit description patch describes correct syntax inherit travis success add fix description external inherit andrei vagin avagin virtuozzo.com signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3234,aa2cb64d58b0d8e6389af73316d1281a94c23e17,ir Kolyshkin <kir@openvz.org>, 2016-11-02 10:59:08 -0700, , criu remove obsoleted option remove following option obsoleted external ext unix veth pair ext mount map enable external master enable exteral sharing travis success add fix description external inherit signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3235,58c4791d4fe5f64fa2f6fafc4b87260995a8f082,ndrei Vagin <avagin@virtuozzo.com>, 2016-10-27 19:26:45 +0300, , net restore macvlan way without userns called outside usernsd switch criu namespace switch back exiting rid include linux net_namespace.h criu include net.h well associated defines feature check travis success net simplify restore macvlan rev2 signed andrei vagin avagin virtuozzo.com acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3236,6ecf660dfe04dfbd0cddc7670ee45e84977a5c95,ndrei Vagin <avagin@virtuozzo.com>, 2016-10-27 09:18:52 +0300, , namespaces add switch_ns_by_fd like switch_ns get namespace file descriptor instead pid travis success net simplify restore macvlan rev2 signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3237,8837f0eea1ce0108086d6a088de641608094ea83,ndrei Vagin <avagin@virtuozzo.com>, 2016-10-28 08:52:00 +0300, , zdtm cr_veth use clean alias cleanup action travis success zdtm cr_veth use clean alias cleanup action signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3238,ee5617640c3031f86ac5234f42dc639c084a0e7d,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-27 23:41:02 +0300, , cr_veth debug eexists failure travis,,
3239,6bfb3950f14c9d99219dc7ca335cc8a8e180a4ff,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-25 18:27:51 +0300, , zdtm switch mnt test onto new opts travis success mnt deprecate ext mount map external signed pavel emelyanov xemul virtuozzo.com,,
3240,f725bfee8b1d2808e3b352fc403d09ee492c5ea9,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-25 18:27:39 +0300, , mount make auto option external mnt syntax ext mount map auto external mnt optional mean enable external master optional mean enable external sharing travis success mnt deprecate ext mount map external signed pavel emelyanov xemul virtuozzo.com,,
3241,a8ed43bed55f72d54d66b257be948fe6f5c17a37,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-25 18:27:25 +0300, , mount turn external make external support ext mount map syntax ext mount map key val external mnt key val old option kept backward compatibility travis success mnt deprecate ext mount map external signed pavel emelyanov xemul virtuozzo.com,,
3242,043a9c90206510839d0e737a21853ca399f0b3f7,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-26 19:23:00 +0300, , test use .pid.inprogress file macvlan test note depends pavel patch http pipermail criu 2016 october 032499.html yet applied travis success test use .pid.inprogress file macvlan test rev2 signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3243,9d417188e2f5728f9b18d1ede3297fc10581bcdb,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-26 13:19:00 +0300, , zdtm test external veth option inspired tycho macvlan test thing external veth option master still veth pair one plan move external opt  travis usr bin sed added .checkskip hook older environment  delete bridge hanging around previous flavor wait host veth end die dump  get pid task move veth .pid.inprogress file  wait host veth end die test stop travised http travis ci.org xemul criu build 170726663 signed pavel emelyanov xemul virtuozzo.com,,
3244,f58eb91d2d1c82ffe61b542e9cd9c3b9ae5c45a0,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-22 00:54:00 +0300, , image add syntax declaration macvlan.proto travis success image add syntax declaration macvlan.proto signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3245,a25d6c7f99d9e52bd2e1647150d89bb1b39f508f,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-20 10:25:31 -0600, ," test add test macvlan note test run mode even though support without full container engine think nice way pas macvlan device zdtm container mode use nsid_manip feature flag travis success series starting v10,01 net pas struct nlattrs dump function signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com",,
3246,612fb65ff7254e63259066ba26e63a10bc902d66,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-20 10:25:30 -0600, ," check add feature test netns manipulation travis success series starting v10,01 net pas struct nlattrs dump function signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com",,
3247,0d2f3a409f6c38b0865aa84cf6e3d3adde0f64e4,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-20 10:25:29 -0600, ," build add feature test linux net_namespace.h header introduced 2015 need build without travis success series starting v10,01 net pas struct nlattrs dump function signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com",,
3248,5f2233ea717f3f68e158cf4c54bb51b58802176e,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-20 10:25:28 -0600, ," net add support macvlan link type principle similar veths handled thing two different way depending whether user namespace involved way ask kernel attach macvlan nic device net cap_net_admin two way user namespace create device usernsd use ifla_net_ns_fd set netns created saving move netns step user namespace could still net namespace use set namespace device open netlink socket criu netns use ifla_net_ns_fd tell kernel create macvlan device target namespace clone_newnet clone_newuser bother dump ifla_link although need provide restore kernel interface persists populate ifla_link require user pas macvlan pair create netnsid relation needed pas macvlan link although infrastructure could used elsewhere link need future since hoisted use new external command instead creating macvlan pair option add feature check linux net_namespace.h since every arch travis new ish header include sys types.h instead linux if.h get iff_up flag remove old doc addition macvlan pair option define rtm_newnsid exist define bump size necessary remove unused struct macvlan_pair split feature test linux net_namespace.h separate patch move ifla_info_max testing dump_one_netdev right patch add document netwlink_extras field split changeflags separate patch use existing netnsid get eexist move macvlan code helper function use netnsid restore userns case pid define rtm_getnsid since use bother understand thing let use max instead problem using macro ifla_maclan_max defined macro enum expansion get bitten enum available preprocessing time implicit zero coercion testing value stuff yeesh v10 add comment set net_ns_fd use ifla_link ifla_net_ns_id use socket opened restore_links instead opening one  split new argument patch travis success series starting v10,01 net pas struct nlattrs dump function signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com",,
3249,aff66b4e18938a4cce71abddde4df33ce6af3f68,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-20 10:25:27 -0600, ," net open netlink socket criu netns use socket restore macvlan interface travis success series starting v10,01 net pas struct nlattrs dump function signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com",,
3250,0a9f9e958db6df7222f5886fca081002adf11eb8,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-20 10:25:26 -0600, ," net add struct newlink_extras use struct next patch set top level ifla_ member need restoring macvlan device travis success series starting v10,01 net pas struct nlattrs dump function signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com",,
3251,2b5d709c4d914b6535aa3becff256cf489b27ab5,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-20 10:25:24 -0600, ," net hoist flag setting code function use next patch set macvlan flag travis success series starting v10,01 net pas struct nlattrs dump function signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com",,
3252,53241e2be6e860699e9c847b063c80ec246bf305,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-20 10:25:23 -0600, ," external add new data option external use next patch find ifindex macvlan bridge host net travis success series starting v10,01 net pas struct nlattrs dump function signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com",,
3253,d3f3d50d48925e197a6a0ba262cfe62ee6509f67,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-20 10:25:22 -0600, ," net split do_rtm_link_req two part macvlan need restore different way depending whether inside outside user namespace want share code doe building base request let split populate function travis success series starting v10,01 net pas struct nlattrs dump function signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com",,
3254,b705dcc34ddbd1f636268bb08202468f9a3c397e,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-20 10:25:21 -0600, ," net pas struct nlattrs dump function use later series get specific information macvlan link need pas ifla_linkinfo instead whole attribute buffer since expect info function need allow populate restore travis success series starting v10,01 net pas struct nlattrs dump function signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com",,
3255,05ac45b1e32d5ffcacade9e3d5e97f1e78bef04f,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-06 18:57:00 +0300, , veth fix one error introduces bug chop last character external veth name subsequent call fail 01.012478 error criu net.c 1758 get index veth69a67o device travis success veth fix one error signed tycho andersen tycho.andersen canonical.com pavel emelyanov xemul virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3256,36343f196b74f150d818a0d497c649c76c325bfe,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-06 13:06:00 +0300, , unix test external instead ext unix latter option hide official api external patch test option thus completing deprecation legacy ext unix test still zdtm static socket ext travis success unix test external instead ext unix signed pavel emelyanov xemul virtuozzo.com,,
3257,31a20bb70aa6f3e72ee904e78aa4b695c1803acc,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-26 15:07:31 +0300, , unix fix external unix inode type signed pavel emelyanov xemul virtuozzo.com,,
3258,265294149b65f4cf5e2196e32763c46c0146f7e4,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-20 16:27:10 +0300, , unux make external support ext unix signed pavel emelyanov xemul virtuozzo.com,,
3259,f2037e6d3445fc400be564489572bc0761df0859,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-20 16:26:55 +0300, , veth make external support veth pair signed pavel emelyanov xemul virtuozzo.com,,
3260,d026a4183c4bd67a34fee2c3499aeed31006ade6,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-20 16:26:41 +0300, , ext lookup key return null enoent make possible distinguish val empty val signed pavel emelyanov xemul virtuozzo.com,,
3261,dd11a50cb280d852997d8e36ca7a6f128ab51104,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-20 16:26:28 +0300, , ext add helper mess external resource signed pavel emelyanov xemul virtuozzo.com,,
3262,8ce766536299aa153fdaa96e525acac80768b803,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-03 09:21:04 +0300, , make add dependency config header criu fix make criu build signed pavel emelyanov xemul virtuozzo.com,,
3263,48f680df9543e3f4f2bf51cdd26da647cedb6d23,mitry Safonov <dsafonov@virtuozzo.com>, 2016-09-20 19:20:58 +0300, , travis add test building criu object built anyway increase build time significally andrei vagin avagin virtuozzo.com signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3264,3e455dad7306b90f6bb8a8e983763c57245b6108,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-03 07:19:59 +0300, , zdtm use older ext mount map option test signed pavel emelyanov xemul virtuozzo.com,,
3265,2fa8062e3c79834f03e676dd6a4e0e7ef951408c,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-31 22:07:00 +0300, , cgroup update cgns prefix using using old cgns prefix length allocating dirnew let update travis success cgroup update cgns prefix using signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3266,1d19f48807ec0f0d0e5c47c2a497cc16ce78ee49,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-30 10:37:16 +0300, , parasite use parasite_ctl argument pid set ctl next patch use one field travis success get task regs twice signed pavel emelyanov xemul virtuozzo.com reviewed dmitry safonov dsafonov virtuozzo.com,,
3267,bba96e839487d0460bec4eb6c5361d8fb92684a6,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-30 10:37:03 +0300, , parasite move call lower matter much late check new place already parasite_ctl need next patch travis success get task regs twice signed pavel emelyanov xemul virtuozzo.com reviewed dmitry safonov dsafonov virtuozzo.com,,
3268,67388c2455bcb69514c55c6d870dd650b1716e6a,ir Kolyshkin <kir@openvz.org>, 2016-10-28 00:43:00 +0300, , build system make derive hostcc hostld move hostcc hostld nmk note rule nmk make use variable already make derive hostcc hostld note one still change anything command line travis success build system make derive hostcc hostld cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3269,19f7f130aeac0b8ffddc78c1e604e1adadd55876,ir Kolyshkin <kir@openvz.org>, 2016-10-25 22:08:32 -0700, , ppc asm bitops.h fix clang clang 3.8 fails compile inline asm ldarx args quoting  recent version powerpc architecture added hint bit larx instruction differentiate atomic operation lock operation program might attempt modify word storage addressed even subsequent store conditional succeeds  program attempt modify word storage addressed program acquired lock performs subsequent store releasing lock  also found info anyway could either construct preprocessor logic omit argument clang drop patch doe latter http patch 45008 http sourceware.org libc alpha 2015 msg00085.html travis success ppc clang compile fix laurent dufour ldufour signed kir kolyshkin kir openvz.org acked laurent dufour ldufour signed pavel emelyanov xemul virtuozzo.com,,
3270,22ecc7d5da61a4faa1766875fd8a0dbf906988fd,ir Kolyshkin <kir@openvz.org>, 2016-10-25 22:08:30 -0700, , ppc64 restore.h fix clang apparently clang 3.8 ppc know register name criu restore.c 3179 error unknown register name asm new_sp task_args  criu criu arch ppc64 include asm restore.h note expanded macro memory  error generated according doc stack pointer travis success ppc clang compile fix laurent dufour ldufour signed kir kolyshkin kir openvz.org acked laurent dufour ldufour signed pavel emelyanov xemul virtuozzo.com,,
3271,666fcf4fa78581f4905f17fca33cd9bcb9a6acf4,ir Kolyshkin <kir@openvz.org>, 2016-10-25 22:08:29 -0700, , ppc64 crtools.c fix compilation clang gcc inline enough suppress unused function warning clang better see also commit 4241078 zdtm compile fix clang commit 3ea2fd7 crtools.c fix compilation clang travis success ppc clang compile fix signed kir kolyshkin kir openvz.org acked laurent dufour ldufour signed pavel emelyanov xemul virtuozzo.com,,
3272,0ceb53689c53f7664f7d029c9542967f5ae13048,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-25 18:27:13 +0300, , mount keep external val right struct mount_info keep ext_mount_map val field since planning switch onto external engine struct thus char travis success mnt deprecate ext mount map external signed pavel emelyanov xemul virtuozzo.com,,
3273,7b30c78fcf869c961e012cccc393bb00c1e317c6,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-25 18:26:59 +0300, , zdtm test manual ext mount map option ext mount map auto manual key val setting .desc file travis success mnt deprecate ext mount map external signed pavel emelyanov xemul virtuozzo.com,,
3274,5c0289845dd4ecbab93714f82b1e2e0f1fcd977a,ir Kolyshkin <kir@openvz.org>, 2016-10-20 20:04:47 -0700, , makefile travis unify checking gcov env var setting gcov environment variable used profiling gcov unfortunately checked two different way top makefile script travis checked place checked set non empty value giving various value gcov lead different result let unify approach used apparently among code easiest strict way check non empty value also lead smallest possible patch size note python evaluating empty string binary context statement equal false signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3275,d9bd1dbb8b606ec3c347f844ef9f2cd4d34d7b3b,ir Kolyshkin <kir@openvz.org>, 2016-10-20 20:02:28 -0700, , fix travis build clang patch travis build test criu using clang real swear fixed fix apparently lost travis success series starting compel noexecstack cflags ldflags signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3276,41aa20ab7e370d70cd82b07e7768ebe641f05218,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-27 19:24:40 +0300, , header move xmalloc common travis success header finalize include common signed pavel emelyanov xemul virtuozzo.com,,
3277,d65e4cf9a8ef2fc1ad0db186c1060fc86e91c6ad,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-27 19:24:27 +0300, , header move err.h common travis success header finalize include common signed pavel emelyanov xemul virtuozzo.com,,
3278,eedb53a1d27cda2f7d2871e29f5aa4cdd571e7e4,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-27 19:24:13 +0300, , header fix iquote include common travis success header finalize include common signed pavel emelyanov xemul virtuozzo.com,,
3279,c50ea54853e2c0bc5e357fb5c2591e0c0972cbc0,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-25 17:02:00 +0300, , common bitsperlong specify complete path travis success common bitsperlong specify complete path signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3280,e216512e6a76fdce26454d60af20db92224d17eb,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-25 16:59:00 +0300, , common use complete path inclusion subprojects usually asm directory eliminate collision specify complete path travis success common use complete path inclusion signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3281,ab4a1bae1f83f82b325d00a05dca428755e6d7bc,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-24 14:58:10 +0300, , common move page.h travis success common header signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3282,49883d681f60611b393444882979f77bd45652fd,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-24 14:58:09 +0300, , common move bit operation helper travis success common header signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3283,4485723f80e28225a25631f307f22722b82cc01c,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-24 14:58:08 +0300, , common move atomic.h since criu choose proper arch inside include statement well simply require ifdefs generate include common asm symlink point proper architecture travis success common header signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3284,8fa72cf711eda2b563e8e1767a793c68acf9928b,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-24 14:58:07 +0300, , common move processor.h travis success common header signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3285,263061d923fd30cd96602333d0cddebbd74e58ff,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-24 14:58:06 +0300, , common move cmpxchng.h travis success common header signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3286,e2554b9079885191324420363509ea94b18e286c,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-24 14:58:05 +0300, , arch x86 use stdint type cmpxchng.h travis success common header signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3287,3564a4d0eda754d202ee5b51e71e7d6734a80d30,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-24 14:58:04 +0300, , include common move bug.h travis success common header signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3288,9e2c8fae929ddbae7ab86811e1b73fe38718c883,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-24 14:58:02 +0300, , common move compiler.h travis success common header signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3289,a56f0cf16a90579c5e3743855f025d1dbd2f0b59,avel Emelyanov <xemul@virtuozzo.com>, 2016-11-02 20:35:39 +0300, , make fixup dependency config.h pulling patch dev dev branch deps scheme different soccr compel bit master criu piegen config deps look differently signed pavel emelyanov xemul virtuozzo.com,,
3290,ba5919282c0b698d8858328335ba8d789d1165c3,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-28 14:01:00 +0300, , zdtm split long .desc line done python pprint module indent width file one field length exceeding character travised http travis ci.org xemul criu job 171350152 travis success zdtm split long .desc line signed pavel emelyanov xemul virtuozzo.com,,
3291,49baebf935111cc8e7cc7b05d04194cadc613af4,irill Tkhai <ktkhai@virtuozzo.com>, 2016-10-28 12:41:00 +0300, , test add debian dependency netns nf.desc make debian great travis http travis ci.org criupatchwork criu build 171342703 signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3292,d339e8f3e13199e0a2b463f8aceedde423714773,ndrey Vagin <avagin@openvz.org>, 2016-10-27 20:26:30 +0300, , zdtm clean .state file per test cleanout signed andrey vagin avagin openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3293,980f4e8d8c2e7c4d31f8fa9ace76951d06d4d755,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-26 14:25:50 -0600, , test make write_pidfile atomic useful hook cat pidfile pidfile rely result signed tycho andersen tycho.andersen canonical.com make sence andrey vagin avagin openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3294,27a481c88855faa10c6f85b8fbca7e5de5ce73be,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-26 11:51:00 +0300, , zdtm write .inprogress pidfile one contain pid task living sub waiting rest test get daemonized signed pavel emelyanov xemul virtuozzo.com acked tycho andersen tycho.andersen canonical.com travised http travis ci.org xemul criu build 170726663,,
3295,58d2ee6446d2140f95946ff747ecad1b628d6d9b,ndrei Vagin <avagin@openvz.org>, 2016-10-27 02:35:00 +0300, , travis execute cgroup test know disabled work fine travis success travis execute cgroup test signed andrei vagin avagin openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3296,f23f8ef8bf184e91dd6fc9ebc0f1674ebb05e636,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-10-27 17:10:00 +0300, , test zdtm fix netns dependency ppc64 ubuntu ppc64le installed different path adding path dependency list make test running ppc64le signed laurent dufour ldufour signed pavel emelyanov xemul virtuozzo.com,,
3297,1ccc94ffc593bdfd00701d0e9e998d27bae64114,ir Kolyshkin <kir@openvz.org>, 2016-10-25 21:46:40 -0700, , script build add clang target one crui build via qemu docker using clang compiler example make script build alpine clang make script build ppc64le clang alpine default clang version used others version specified explicitly package called clang ubuntu trusty used base arch since clang 3.8 appears available trusty current stable version clang let use travis success qemu dockerfile improvement clang build signed kir kolyshkin kir openvz.org acked andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3298,3541b0d8f9a50cc0d6abb9837a73f9a122835cad,ir Kolyshkin <kir@openvz.org>, 2016-10-25 21:46:39 -0700, , use ubuntu trusty let use ubuntu trusty tahr aka 14.04 x86_64 qemu build version used qemu arch ubuntu wily used eol july 2016 travis success qemu dockerfile improvement clang build signed kir kolyshkin kir openvz.org acked andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3299,f571f92b53d434aa48d94493b26739bc6175a1e9,ir Kolyshkin <kir@openvz.org>, 2016-10-25 21:46:38 -0700, , dockerfile make mrproper build spent considerable time trying figure source error like make script build ppc64 ... dep image autofs.pb c.d file included image autofs.pb c.c image autofs.pb c.h fatal error protobuf protobuf c.h file directory include protobuf protobuf c.h  compilation terminated appears copy complete tree docker container cleaned properly build particular image .pb removed rebuilt problem noticeable version protobuf differs host container use different include path usr include google protobuf usr include protobuf want anyone else spend much time figuring patch travis success qemu dockerfile improvement clang build signed kir kolyshkin kir openvz.org acked andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3300,d86a3a0e1c968479d960cfe6c907073220380dc3,ir Kolyshkin <kir@openvz.org>, 2016-10-25 21:46:37 -0700, , add git coretuils git needed top level makefile call strictly speaking git required build criu better see error message coreutils needed nproc utility called dockerfile make nproc patch equivalent make plus error message best thing travis success qemu dockerfile improvement clang build signed kir kolyshkin kir openvz.org acked andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3301,e53d353e28c2876494270e19e7954b150c6f7653,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-24 15:51:10 +0000, , pstree.h mark dmpi arg const need next bit series since dmpi modify even use structure safe signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3302,b24df5990d51767ad08ce3e902c3ecd8c2e167fd,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-24 15:51:06 +0000, , util make dir_dots arg const signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3303,0d29b509e98bd658c1b68b76505fe4efc53c1168,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-24 15:51:05 +0000, , lsm move apparmor securityfs path constant lsm.h signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3304,4d5d46d9e2c8324fe84d6ca03a89869861003dc8,ndrei Vagin <avagin@virtuozzo.com>, 2016-10-25 04:41:00 +0300,9, check fill root task mount namespace root mount namespace list used resolve path unix socket placed btrfs patch fix crash criu mount.c 213 criu mount.c 240 criu mount.c 256 criu unix.c 565 criu unix.c 620 criu unix.c 692 nlmsg_receive criu libnetlink.c do_rtnl_req criu libnetlink.c 119 do_collect_req criu sockets.c 610 collect_sockets criu sockets.c 636 travis success check fill root task mount namespace http show_bug.cgi 1381351 signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3305,0be53ee10bc179c24b3639d3121cb9911daeaab0,ir Kolyshkin <kir@openvz.org>, 2016-10-20 20:04:48 -0700, , travis.yml fix gcov setting gcov wrong left unset set empty value gcov make sense tr_arch local others using signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3306,b76b52795c1ce217f546a32a0be7e86dfb41bb43,mitry Safonov <dsafonov@virtuozzo.com>, 2016-09-26 17:51:59 +0300, , criu get rid config base.h contained definition set get pipe_sz already fcntl.h big included instead also pipe size specific definition used page pipe.c moved page pipe.h simplify include config.h subprojects cyrill gorcunov gorcunov openvz.org pavel emelyanov xemul virtuozzo.com signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3307,ab115f7e36dfa7bad431c8b3d102a5f553934254,mitry Safonov <dsafonov@virtuozzo.com>, 2016-09-26 16:05:43 +0300, , build generate config.h top make need config_has_ feature defines compel libsoccr tool let move test upper also reverts commit 411cde8815a4 make soccr let criu depend libsoccr need lsoccr build feature test eliminate race added lib_features cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3308,20231a39887838dd3b1eb168733cbc56e252124f,mitry Safonov <dsafonov@virtuozzo.com>, 2016-09-20 19:20:57 +0300, , make remove implicit rule top make otherwise environment gnu make may try expand implicit rule right top makefile fix criu make criu parasite syscall.o ... make criu script nmk script main.mk makefile makefile obj criu criu parasite syscall.c make entering directory criu make nothing done criu parasite syscall.c make leaving directory criu gcc wall wformat security werror d_gnu_source criu parasite syscall.o criu parasite syscall.c criu parasite syscall.c fatal error protobuf.h file directory include protobuf.h  compilation terminated cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3309,9b50b9d6d4f33fd5c2b7b707610526b80530d446,mitry Safonov <dsafonov@virtuozzo.com>, 2016-09-20 19:20:56 +0300, , make fix config_header dependency make criu removed config target config_header dependency version_header dependency top make criu file criu image built in.o compel compel version_header .force introduced pattern specific target criu file got dependency pie config header pie deps building nmk including source makefile add makefile dependency tell gnu make right date introducing makefile target otherwise makefile would fit pattern specific rule pie object rebuild regenerate pie may smarter makefile pie need know rebuild fix criu make criu log.o make entering directory home japdoll tool criu make leaving directory home japdoll tool criu make entering directory home japdoll tool criu make image built in.o date make leaving directory home japdoll tool criu make entering directory home japdoll tool criu make compel compel date make leaving directory home japdoll tool criu make entering directory home japdoll tool criu dep criu log.d file included criu log.c home japdoll tool criu criu include string.h fatal error config.h file directory include config.h  compilation terminated criu log.o file included criu log.c home japdoll tool criu criu include string.h fatal error config.h file directory include config.h  compilation terminated make home japdoll tool criu script nmk script build.mk 104 criu log.o error make leaving directory home japdoll tool criu make makefile 200 criu log.o error cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3310,ba7ee44babadc5f0e173fe5a4578f763a2e11fbd,ir Kolyshkin <kir@openvz.org>, 2016-10-11 18:46:42 -0700, , pie provide memcpy x86 compiling criu clang discovered compilation fails like  gen criu pie restorer blob.h restorer_blob error compel src lib handle elf host.c 328 unexpected undefined symbol memcpy external symbol pie happens clang emits call memcpy struct initialization specifically struct vdso_symtable vdso_proxify naturally pie complied without libc memcpy compel piegen rightfully complains number possible solution write function instead using use compiler flag disables using memcpy provide version memcpy look ugly able find flag another argument favor already implementation builtin_memcpy optimized x86 problem named memcpy using assembler file function two name entry point similar issue ppc see commits 0570dd8 1ad7817 ultimately get rid builtin_mem name use memcpy memcmp etc case non libc linked object provided laurent dufour ldufour cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org acked laurent dufour ldufour signed pavel emelyanov xemul virtuozzo.com cherry picked commit signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3311,feddef44a1346062749da034f1073f5db987dd97,drian Reber <areber@redhat.com>, 2016-10-10 18:26:00 +0300, , added option display dump restore stats currently criu writes dump restore statistic file patch add option display stats additionally display information console criu dump display stats tmp pid displaying dump stats freezing time 133 frozen time 135173 memory dump time 114760 memory write time 85107 irmap resolve time memory page scanned 2099 0x833 memory page skipped parent 0x0 memory page written 1052 0x41c criu restore display stats tmp displaying restore stats page compared 0x0 page skipped cow 0x0 page restored 51227 0xc81b restore time 57428 forking time 51473  fix compile failure 32bit arm travis success added option display dump restore stats rev2 signed adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
3312,310bcbc90ee5952b319c77a83dd9a73f4e91d52c,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-24 14:09:33 +0300, , header add missing header non x86 compilation fix signed pavel emelyanov xemul virtuozzo.com,,
3313,1321b4f463eef3860ac691eee3ed5887a456e288,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-21 15:52:03 +0300, , header remove rst info.h restorer.h latter header pie code mess rst_info criu time structure signed pavel emelyanov xemul virtuozzo.com,,
3314,c7bca976d9e45599cbb03408cbb7d049c8df6c41,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-21 15:51:48 +0300, , move protobuf.h socket inet.c signed pavel emelyanov xemul virtuozzo.com,,
3315,1084ab2aff5f3ec40a0eecd4b170816b8838772e,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-21 15:51:30 +0300, , header remove util.h protobuf.h util.h pretty big header need utils include explicitly right need xmalloc really signed pavel emelyanov xemul virtuozzo.com,,
3316,3994bd8e218941fcad93d43dfe0662e3038f8bbc,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-21 15:51:11 +0300, , file outline collect_used_fd header signed pavel emelyanov xemul virtuozzo.com,,
3317,8ae1631734a5e8e1f6e399b6ae41a7c3b41740be,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-21 15:50:54 +0300, , log include criu log needed file really need pr_xxx stuff signed pavel emelyanov xemul virtuozzo.com,,
3318,764b867432bc029303c4eb9c3463097895e436b0,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-21 15:50:37 +0300, , log swap content criu log log header former one criu log.h service function like logfile management pidfile alike needed file set logging user want specific function like log_get_fd pr_quelled latter log.h purely need pr_xxx helper signed pavel emelyanov xemul virtuozzo.com,,
3319,58ee7c6348f93a43bbb0e297225f4ec09a1cbac9,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-21 15:50:19 +0300, , log move default log level criu log.h closer log level signed pavel emelyanov xemul virtuozzo.com,,
3320,fd23573fc4de3b913cfce499e5443224ea92d758,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-21 15:50:01 +0300, , log remove print_data log header util.c declaration util.h signed pavel emelyanov xemul virtuozzo.com,,
3321,9a8df0b759091b241d4557026b67bbb82722dd6f,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-21 15:49:44 +0300, , log remove dangling extern used signed pavel emelyanov xemul virtuozzo.com,,
3322,077ce58b4520e632066d3bf6e133780a29b08fbd,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-21 18:22:28 +0300, , criu add int.h kerndat file compilation fix prevuous set interfered broke compilation non x86 signed pavel emelyanov xemul virtuozzo.com,,
3323,f6b8721155a454535d1728344106623c86123a60,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-21 17:58:27 +0300, , util include int.h compilation fix macvlan patch turned util.h need int type better include signed pavel emelyanov xemul virtuozzo.com,,
3324,124fd587b694e26039a15f020021697c460d93e1,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-20 10:25:25 -0600, ," test add post start hook hook run test started parallel actual test used case test host need coordinate somehow order set something e.g macvlan interface travis success series starting v10,01 net pas struct nlattrs dump function signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com",,
3325,dc58fccd9f8322070f6c7a16164bf1bd4f5043e6,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-20 23:42:31 +0300, , add missing header ppc64 arm aarch tossing header around non x86 build got broken move back missing part arch criu arch stuff mostly int.h file travis success criu remove asm includes non arch source signed pavel emelyanov xemul virtuozzo.com,,
3326,6d97294776c56ddebecc8dbf19aaa3253deb6604,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-20 23:42:12 +0300, , hide asm restore.h source travis success criu remove asm includes non arch source signed pavel emelyanov xemul virtuozzo.com,,
3327,25218bcdb511a797a74f9b05b5c359d445712878,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-20 23:41:55 +0300, , hide asm dump.h source travis success criu remove asm includes non arch source signed pavel emelyanov xemul virtuozzo.com,,
3328,51730ab9633b526971d435d77143e0463091712f,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-20 23:41:36 +0300, , hide asm parasite syscall.h source travis success criu remove asm includes non arch source signed pavel emelyanov xemul virtuozzo.com,,
3329,22963d282729a8c31a6a833654b865634a435203,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-20 23:41:17 +0300, , hide asm restorer.h source travis success criu remove asm includes non arch source signed pavel emelyanov xemul virtuozzo.com,,
3330,e142319376b7b0c2824ff3ca77dde1cd396410be,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-20 23:40:59 +0300, , hide asm processor flags.h source travis success criu remove asm includes non arch source signed pavel emelyanov xemul virtuozzo.com,,
3331,397c6a86e69c698fbc9eb95a4fc4ef1fe85a08d8,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-20 23:40:40 +0300, , hide asm bitsperlong.h source travis success criu remove asm includes non arch source signed pavel emelyanov xemul virtuozzo.com,,
3332,0b3e86c4905a776e55b6fc22e1a59b21a7d6b7d0,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-20 23:36:36 +0300, , hide asm atomic.h source travis success criu remove asm includes non arch source signed pavel emelyanov xemul virtuozzo.com,,
3333,570ca2df8fd7f4ff109a80b5307d001770515510,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-20 23:36:16 +0300, , hide asm bitops.h source travis success criu remove asm includes non arch source signed pavel emelyanov xemul virtuozzo.com,,
3334,4181f6e09091cc0d9caad66cbcadd676649ea849,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-20 23:35:56 +0300, , hide asm string.h source travis success criu remove asm includes non arch source signed pavel emelyanov xemul virtuozzo.com,,
3335,e6a2715ccb814ffeb30b1acc2583e8efa0298a00,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-20 23:35:37 +0300, , hide asm page.h source travis success criu remove asm includes non arch source signed pavel emelyanov xemul virtuozzo.com,,
3336,4650864e3416cfb5febf29ec5c78f3d1c27709da,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-20 23:35:16 +0300, , hide asm int.h srources travis success criu remove asm includes non arch source signed pavel emelyanov xemul virtuozzo.com,,
3337,96c7cb7661a76c3da585e84cd42ed75194673161,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-20 23:34:51 +0300, , hide asm types.h source travis success criu remove asm includes non arch source signed pavel emelyanov xemul virtuozzo.com,,
3338,912cc2d16f9a27c9d47839f88581ae31f51938c1,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-20 15:10:00 +0300, , add directory common header idea one place header shared subprojects zdtm criu compel travis success add directory common header rev3 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3339,19e0221328cadf6b3512c12344f31abbd3577475,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-19 10:34:00 +0300, , travis put package list variable patch moving code around changing package list conflict time split two travis success travis put package list variable signed pavel emelyanov xemul virtuozzo.com,,
3340,9c4744d67d7269fea190963c437a15261e41ba44,irill Tkhai <ktkhai@virtuozzo.com>, 2016-10-20 14:44:13 +0300, , mount set regardless mnt_ns level since time binfmt_misc mounted regardless mnt_ns level need system make parse method consistent state behaviour signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3341,e2f6bb831aeb67917338a595645ee4862c809ba9,ir Kolyshkin <kir@openvz.org>, 2016-10-18 18:51:00 +0300,215, criu.8 document restore leave stopped option leave stopped used restore reflected man page fix wording http github.com xemul criu issue 215 travis success criu.8 document restore leave stopped rev2 signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3342,6fc5e41fd85b1c96d3c4cb6b58cdeb088abc0a95,ndrei Vagin <avagin@virtuozzo.com>, 2016-10-18 04:40:00 +0300, , mount skip mountpoint try ace path tue sep 2016 27pm 0300 kirill tkhai wrote  int  ...  mountpoint snprintf path len mountpoint path mountpoint   look like one condition guarantee zero travis success mount skip reported kirill tkhai ktkhai virtuozzo.com kirill tkhai ktkhai virtuozzo.com signed andrei vagin avagin virtuozzo.com acked kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3343,c3e184f14a93c9b34c3058e8a7afb604607a00ea,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-10-16 11:05:00 +0300, , core ppc64 mark gregs clear_tid_addr criu .hex travis success core aarch64 mark gregs clear_tid_addr criu .hex rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3344,3396710df1aa54af2a763c9b38516c4727b44f2c,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-10-16 11:05:00 +0300, , core arm mark gregs clear_tid_addr criu .hex travis success core aarch64 mark gregs clear_tid_addr criu .hex rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3345,ff9b8544f4b37447c5260b0c0d8a9462fb0e9aa5,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-10-16 11:05:00 +0300, , core aarch64 mark gregs clear_tid_addr criu .hex travis success core aarch64 mark gregs clear_tid_addr criu .hex rev2 signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3346,0d6e15f5e592bf9f31c8fd3b3bef554a5aa6fdc9,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-17 15:04:00 +0300, , parasite relax size checking get_exec_start compel ization much easier introduce single constant vmas shorter one page travis success parasite relax size checking get_exec_start signed pavel emelyanov xemul virtuozzo.com,,
3347,267037e8e80831193c1e5de914b82f57b1c93181,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-17 15:05:00 +0300, , parasite relax api signed pavel emelyanov xemul virtuozzo.com,,
3348,386f7fec2e2bf7601cbccc40e1f8001d65e9c690,irill Tkhai <ktkhai@virtuozzo.com>, 2016-09-23 19:47:32 +0300, , mount move adding time binfmt_misc binfmt_misc may exist ns_root exist ns_other time add binfmt_misc one mnt_ns signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3349,714bd7a03f0841f1336667077383e27526ec1cbc,irill Tkhai <ktkhai@virtuozzo.com>, 2016-09-23 19:47:00 +0300, , mount fail shared time mount mismatch since time mount parent may shared propagate mount patch excludes validation signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3350,172f3e1908ceaa29cc505e37b6aa08791f7a3404,yrill Gorcunov <gorcunov@openvz.org>, 2016-10-11 23:14:00 +0300, , freeze wait exiting task complete small race exitings task cgroup freezer report pid exiting process consider zombie refuse checkpoint let trick instead meet task wait bit repeate freezing use eagain instead eperm since eperm collide general error code travis success freeze wait exiting task complete rev3 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3351,4f329dd4b2687d0cf233ab7a1c143b7d17a0fe7e,uslan Kuprieiev <rkuprieiev@cloudlinux.com>, 2016-10-13 16:07:00 +0300, , lib add inherit_fd already present cli rpc libcriu reflect travis success lib add inherit_fd signed ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul virtuozzo.com,,
3352,6178668e6a6b81e50ddb8d8b1fc735850ebb9aca,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-13 19:49:00 +0300, , test robustify mnt_tracefs test make sure tracefs actually loaded try access restore mount debugfs leaving ugly directory test clean debugfs mount point hook since test unmount due perm travis success test robustify mnt_tracefs test signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3353,5992d7198bdabcf2925e39f0067d2423a423e2e2,ir Kolyshkin <kir@openvz.org>, 2016-10-11 18:47:01 -0700, , add clang build travis signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3354,391bdbe44f74654d844b6b74a9317c5adc766d56,ir Kolyshkin <kir@openvz.org>, 2016-10-11 18:47:00 -0700, , zdtm grow_map fix test failure clang code compiled clang optimizes two byte writes one word write like fake_grow_down fake_grow_down 401b60 movw 0x6362 0x1 r14 incorrect stack supposed grow page page need touch one page another i.e order important fix let use volatile pointer change following correct code generated  401b60 movb 0x63 r14  401b64 movb 0x62 0x1 r14 fix another similar place andrei vagin avagin virtuozzo.com signed kir kolyshkin kir openvz.org acked andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3355,5465179f961920a61e1ee773fabd508997b41353,ir Kolyshkin <kir@openvz.org>, 2016-10-11 18:46:59 -0700, , move gcov flag travis.yml move gcov travis environment change easily per build basis signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3356,9fb43a4803b9e1754f06300c6fc46e8aaae1b21b,ir Kolyshkin <kir@openvz.org>, 2016-10-13 15:47:10 +0300, , makefile compile gcov found everything test travis built believe wrong thing test something compiled way would compiled real use drop enabling debug gcov signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3357,2f2fc08202abf772adee36d45e18f6d0a45c237a,ir Kolyshkin <kir@openvz.org>, 2016-10-11 18:46:57 -0700, , move travis after_success script easier handle way signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3358,f64599622813aa8d3dfff8e91669439df53689e6,ir Kolyshkin <kir@openvz.org>, 2016-10-11 18:46:56 -0700, , script travis makefile mark phony target signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3359,ca677a91ff8c7b0acd53c297520791e3ae59fc6e,ir Kolyshkin <kir@openvz.org>, 2016-10-11 18:46:55 -0700, , parasite.c unneeded init struct ctl_msg initialization really needed initalized right away function real reason removing init compiled clang etc i.e compiler flag set gcov env var present clang insert call memset initialize structure course lead compel piegen complaining unexpected undefined symbol memset external symbol pie one way solving would provide memset call builtin_memset simple implemenation place trigger call memset initialization really needed easier remove might case like future good signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3360,b4441d1bd8a56ed9ec08603e1d4acf5c779fe935,ir Kolyshkin <kir@openvz.org>, 2016-10-11 18:46:54 -0700, , restorer.c unneded struct init struct timespec initialization non needed call clock_gettime right away supposed fill real reason removing init compiled clang etc i.e compiler flag set gcov env var present clang insert call memset initialize structure course lead compel piegen complaining unexpected undefined symbol memset external symbol pie one way solving would provide memset call builtin_memset simple implemenation place trigger call memset initialization really needed easier remove might case like future good signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3361,f18fce45a2bfe3a0b4c7c0625b0060c1596208fc,ir Kolyshkin <kir@openvz.org>, 2016-10-11 18:46:53 -0700, , maps007 test fix clang clang like explicit null pointer dereference maps007.c 176 error indirection non volatile null pointer deleted trap werror wnull dereference int  maps007.c 176 note consider using __builtin_trap qualifying pointer volatile  apparently need add volatile make happy signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3362,2ac1cc67a5b7f8990001d292c15a5bc98a9b5d1a,ir Kolyshkin <kir@openvz.org>, 2016-10-11 18:46:52 -0700, , cmdlinenv00 test fix clang clang complains cmdlinenv00.c error comparison unsigned expression always false werror wtautological compare ret  fix use ssize_t size_t signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3363,2479c25d328d4f9634c53bd20343fa8501d911d7,ir Kolyshkin <kir@openvz.org>, 2016-10-11 18:46:51 -0700, , apparmor test fix clang clang complains apparmor.c error many argument call checkprofile werror checkprofile  signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3364,514ca4e93b2e2bb739dead124536ed572bce041e,ir Kolyshkin <kir@openvz.org>, 2016-10-11 18:46:50 -0700, , rtc.c test fix clang clang complains clang wall werror iquote lib arch x86 include lib rtc.c lib libzdtmtst.a lib libzdtmtst.a rtc rtc.c error taking absolute value unsigned type unsigned long effect werror wabsolute value lab delta 1000000 test_hz 100000  declare delta long signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3365,21c4675304766b08970387be9e90ef9e6d838d5b,ir Kolyshkin <kir@openvz.org>, 2016-10-11 18:46:49 -0700, , groups.c test fix clang clang complains clang wall werror iquote lib arch x86 include lib groups.c lib libzdtmtst.a lib libzdtmtst.a group groups.c error comparison unsigned expression always false werror wtautological compare   declare int signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3366,4be8daa153b87d17144793528eea86a6b60faf4b,ir Kolyshkin <kir@openvz.org>, 2016-10-11 18:46:48 -0700, , vdso01 test fix clang clang complains clang wall werror iquote lib arch x86 include lib vdso01.c lib libzdtmtst.a lib libzdtmtst.a lrt vdso01 vdso01.c 305 error absolute value function given argument type long parameter type int may cause truncation value werror wabsolute value ts1.tv_sec ts2.tv_sec time_delta_sec  vdso01.c 305 note use function lab instead let use lab indeed signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3367,fe21d145dee1537c77ebadbe910ea278660d78c6,ir Kolyshkin <kir@openvz.org>, 2016-10-11 18:46:47 -0700, , inotify_system test fix clang compiling clang complains like clang wall werror iquote lib arch x86 include lib lib libzdtmtst.a lib libzdtmtst.a inotify_system 323 error comparison unsigned expression always false werror wtautological compare   324 error comparison unsigned expression always false werror wtautological compare common_desc.dir  324 error comparison unsigned expression always false werror wtautological compare common_desc.dir  error generated indeed field uint32_t used store result inotify_init function call type int signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3368,8f9c6ff5298a95c9c618183afef5d65298a1ae71,ir Kolyshkin <kir@openvz.org>, 2016-10-11 18:46:46 -0700, , fpu00 test fix clang clang complains number time inline asm code like fpu00.c error ambiguous instruction require explicit suffix could flds fldl fldt fld  inline asm note instantiated assembly fld rsp  float used suffix short bit float add needed signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3369,a95939c08931c666a076d9c5ea6638f3084d284c,ir Kolyshkin <kir@openvz.org>, 2016-10-11 18:46:45 -0700, , zombie00 test fix clang clang like explicit null pointer dereference zombie00.c error indirection non volatile null pointer deleted trap werror wnull dereference int null  zombie00.c note consider using __builtin_trap qualifying pointer volatile error generated apparently need add volatile make happy signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3370,3c75cf5198a5fc2523cb1120417b8305c306e3f6,ir Kolyshkin <kir@openvz.org>, 2016-10-11 18:46:44 -0700, , zdtm compile fix clang clang complains unused function clang wall werror iquote arch x86 include parseargs.o parseargs.c parseargs.c error unused function __check_help werror wunused function test_option help bool print help message exit  zdtmtst.h note expanded macro test_option param_check_ type name name   scratch space note expanded   zdtmtst.h note expanded macro define name __param_check name int  zdtmtst.h note expanded macro __param_check static inline type __check_ name void return  scratch space note expanded __check_help  error generated builtin recipe target parseargs.o failed far tell function __check_ name generated order check argument type compiler gcc inline keyword enough suppress unused function warning even wunused function used clang case see http llvm.org bug show_bug.cgi 22712 way use function use name pointer cast void patch doe signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3371,e48a46f3776c91ba63f8abc4e29b0596821576d1,ir Kolyshkin <kir@openvz.org>, 2016-10-11 18:46:41 -0700, , criu mount.c unused function commit 308741d remove call path_length function still clang complains unused remove signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3372,02c3605c0241cffa998209c829d4ab4f988a2e6d,ir Kolyshkin <kir@openvz.org>, 2016-10-12 18:46:36 -0700,3, criu filesystems.c refactor following error emitted clang criu filesystems.o criu filesystems.c 280 error variable ret used uninitialized whenever condition false werror wsometimes uninitialized else bme extension  criu filesystems.c 287 note uninitialized use occurs ret  criu filesystems.c 280 note remove condition always true else bme extension  criu filesystems.c 272 note initialize variable ret silence warning int ret   error generated code result commit 398e7d3 look closely false alarm else bme extension always true checked clear issue clang still need fixed many way initialize ret initial version patch remove always true condition like else bme extension else opinion would hurt readability change code flow improving readability time believe patch doe addition fix handling corner case overflow snprintf case bme name null used strlen snprintf potential sigsegv case ret currently code flow result ret future use linux kernel style else block xemul fix comment kirill tkhai ktkhai virtuozzo.com signed kir kolyshkin kir openvz.org acked kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3373,64f964f071ea9d045a0ecae76f8f965e23ad6ca7,drian Reber <areber@redhat.com>, 2016-10-13 10:41:00 +0300, , added display stats man page signed adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
3374,db07f442d62946e953867cdc7c25c954ab017312,avel Emelyanov <xemul@virtuozzo.com>, 2016-10-17 11:30:31 +0300, , criu version 2.7 lot time bunch bugfixes improvement lot happened dev branch around compel hopefully next release signed pavel emelyanov xemul virtuozzo.com,,
3375,2adf1fbb2bc0d19ab443ca648564db7e08fcf2f2,ndrei Vagin <avagin@virtuozzo.com>, 2016-10-14 05:52:00 +0300, , mount overwrite mount flag ms_strictatime typo fix ms_strictatime added flag travis success mount overwrite mount flag ms_strictatime signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3376,876c3a3c8b22e24702c97df1880891a1133fbc8e,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-11 18:43:00 +0300,223, mnt allow external slave particular thing criu namespace also slave something external mount namespace test see master external slave however also count external master external bind mount something slave sure test broke work ubuntu 16.04 fails 16.10 suppose something debugfs mount configuration changed look curious patch fix probably anyway close 223 travis success mnt allow external slave signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3377,fb4f28f00af0f2d8c6fafdbafc74951f0caea925,ndrei Vagin <avagin@virtuozzo.com>, 2016-10-12 01:14:00 +0300,1070, proc_parse use static buffer parse mountinfo currently buffer allocated stack size 1024 usually use static buffer read proc file size 4096 page size know patch fix problem completly doe critical http github.com opencontainers runc issue 1070 travis success proc_parse use static buffer parse mountinfo signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3378,11adfc3422803825928493f325fa52e8f8b943d6,ndrei Vagin <avagin@virtuozzo.com>, 2016-09-16 15:31:00 +0300, , zdtm check pre dump shared memory root fc24 criu python test zdtm.py run zdtm transition shmem pre run run zdtm transition shmem wall werror fno strict aliasing iquote lib arch x86 include lib shmem.c lib libzdtmtst.a lib libzdtmtst.a shmem start test shmem pidfile shmem.pid outfile shmem.out run criu pre dump run criu pre dump run criu pre dump run criu dump run criu restore send signal wait zdtm transition shmem die 0.100000 test output 25.444 fail shmem.c checksum mismatch ea71000 109c9000 eugene batalov eabatalov89 gmail.com signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3379,60ea192ceb1f66bccb905e147fe5bebc447133a7,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-28 10:42:49 +0300, , parasite remove struct pid parasite_ctl real pid used internally signed pavel emelyanov xemul virtuozzo.com,,
3380,524aeefdd022ec47cef862f16bbac64dfef60c4d,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-29 00:34:00 +0300, , criu arch fix task_size prototype signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3381,8e85aed88e6fd18b3e644a23e9d7c04725ec6308,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-27 20:45:19 +0300, , seize simplify calc localize calculation seize.c order distinguish dead task already wait dead task introduce internal zombie state seize_wait_task signed pavel emelyanov xemul virtuozzo.com,,
3382,5773ad84b3e36dd91c0c3601f44ad9b928367b1c,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-27 20:45:04 +0300, , seize simplify cred checker comparison cred insize core seizing routine instead pull cred caller stack compare required time place needed make static signed pavel emelyanov xemul virtuozzo.com,,
3383,6a1c0a071ce0a2ed3646204c78b80b40bd238c31,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-10-11 11:25:00 +0300, , arch introduce ppc64 signed pavel emelyanov xemul virtuozzo.com ldufour mostly rewrite fix functional issue signed laurent dufour ldufour signed laurent dufour ldufour signed pavel emelyanov xemul virtuozzo.com,,
3384,7925c1e11528bc6ccc6a42445d5493e1a56e3ab7,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-10-11 11:25:00 +0300, , ppc64 use vector128 type altivec data signed laurent dufour ldufour signed pavel emelyanov xemul virtuozzo.com,,
3385,f94c0ff7ed9d1da2e627e44e6aec0a5ab1328df5,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-26 11:24:00 +0300, , arch reintroduce x86 signed pavel emelyanov xemul virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org,,
3386,8b248c02c9853225eabea5c1f857dce818f5d7ee,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-26 11:24:00 +0300, , arch introduce arm aarch64 signed pavel emelyanov xemul virtuozzo.com reviewed christopher covington cov codeaurora.org,,
3387,e674a7333d23b8453bb5efb6db5c5f1989927767,ndrei Vagin <avagin@virtuozzo.com>, 2016-10-08 17:22:00 +0300, , script allow skip travis specific part travis test going use script testing linux next remove bashism travis success script allow skip travis specific part travis test rev2 signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3388,851b044027098777163800d55f66c35f1e60355d,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-06 22:27:57 +0000, , timerfd add support clock_bootttime http lwn.net article 428176 clock_boottime identical clock_monotonic except also includes time spent suspend currently measured allows application get suspend aware monotonic clock think allow constant handling different kernel track time motivation adding new version systemd resolved like ship ubuntu 16.10 seems open boottime signed tycho andersen tycho.andersen canonical.com cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3389,caf933bf29bc27dde354ee64b04f5bfe31f64c62,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-06 22:27:56 +0000, , timerfd move clockid check dump time let keep restore since might image around generated check dump signed tycho andersen tycho.andersen canonical.com cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3390,78a3670ba8cfba066f75fee154cfec76f8b471e0,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-26 13:20:00 +0300, , parasite pas exec start point become compel call code scan criu vma area list pure compel user need add simple proc map scanner find entry point signed pavel emelyanov xemul virtuozzo.com,,
3391,c158ccdf232384cf3cf01191603ac6f984bb3efe,ir Kolyshkin <kir@openvz.org>, 2016-10-06 23:19:00 +0300, , handle elf.c whitespace cleanup travis success handle elf.c whitespace cleanup signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3392,5e1cfded389061e32124ec80abbc16574a6ccd1c,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-06 09:30:42 -0600, , image rename none cg_none newer version protobuf get crit traceback recent call last file crit line module import pycriu file home ubuntu criu crit pycriu __init__.py line module import image file home ubuntu criu crit pycriu image __init__.py line module image import file home ubuntu criu crit pycriu image images.py line module import file home ubuntu criu crit pycriu image pb.py line module packet_sock_pb2 import file home ubuntu criu crit pycriu image line module import sk_opts_pb2 sk__opts__pb2 file home ubuntu criu crit pycriu image sk_opts_pb2.py line module serialized_pb rsk opts.proto xe2 x02 rsk_opts_entry x12 x11 tso_sndbuf x18 x01 x02 x12 x11 tso_rcvbuf x18 x02 x02 x12 x16 x18 x03 x02 x04 x12 x17 x18 x04 x02 x04 x12 x16 x18 x05 x02 x04 x12 x17 x18 x06 x02 x04 x12 x11 treuseaddr x18 x07 x01 x08 x12 x13 x0bso_priority x18 x08 x01 x12 x13 x0bso_rcvlowat x18 x01 x12 x0f x07so_mark x18 x01 x12 x13 x0bso_passcred x18 x0b x01 x08 x12 x12 nso_passsec x18 x0c x01 x08 x12 x14 x0cso_dontroute x18 x01 x08 x12 x13 x0bso_no_check x18 x0e x01 x08 x12 x14 x0cso_bound_dev x18 x0f x01 x12 x11 tso_filter x18 x10 x03 x06 x0bsk_shutdown x12 x08 x04none x10 x00 x12 x08 x04read x10 x01 x12 x05write x10 x02 x12 x08 x04 x42oth x10 x03 file usr lib python2.7 dist package google protobuf descriptor.py line 827 __new__ return serialized_pb typeerror build proto file descriptor pool invalid proto descriptor file opts.proto none none already defined file rpc.proto none note enum value use scoping rule meaning enum value sibling type child therefore none must unique within global scope within sk_shutdown fix signed tycho andersen tycho.andersen canonical.com laurent dufour ldufour signed pavel emelyanov xemul virtuozzo.com,,
3393,4bc2f7a6bdbfdf663ed674fb19016e6a7f47ae7a,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-06 09:30:41 -0600, , inventory lsm remember set has_lsmtype another ever work moment sometimes set propagate lsm let set signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3394,88620fa5af34cc90ca8849dd402818a41eb84dc8,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-06 09:30:40 -0600, , image add syntax specifier autofs.proto avoids libprotobuf warning google protobuf compiler parser.cc 547 syntax specified proto file autofs.proto please use syntax proto2 syntax proto3 specify syntax version defaulted proto2 syntax signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3395,f3e412f9004486cbfab285bedf8d47d421551f8a,ycho Andersen <tycho.andersen@canonical.com>, 2016-10-06 09:30:39 -0600, , python lib rename rpc.py rpc_pb2.py unfortunately newer version protobuf check file suffix end _pb2.py sudo zdtm.py run zdtm static traceback recent call last file zdtm.py line module import criu crpc file home ubuntu criu test criu.py line module import rpc file home ubuntu criu test rpc.py line module type none file usr lib python2.7 dist package google protobuf descriptor.py line 652 __new__  typeerror descriptor created directly retrieved parent fix clean target remove comment old rename signed tycho andersen tycho.andersen canonical.com laurent dufour ldufour signed pavel emelyanov xemul virtuozzo.com,,
3396,dd3a901210d865cf47710f58b2bceb267cd76d75,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-10-06 16:21:00 +0300, , systemd autofs restart.sh explicitly return result get_fs_type helper binary like awk fail killed case might mountpoint found hand whole mount point path wrong absend mountinfo return explicit error case without patch script proceed since returned value empty equal autofs script try bind mount autofs mount resulting hung travis success systemd autofs restart.sh explicitly return result get_fs_type signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3397,4e3d0f7d687d152ed9d88d9a84824aaa46c57ce3,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-10-06 13:46:00 +0300, , mount fix error print case failed bind mount minor issue would nice print sync actual action travis success mount fix error print case failed bind mount signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3398,c42f6ce2e68cb8928c5fbfaac43f44625bbe4bed,ir Kolyshkin <kir@openvz.org>, 2016-10-06 03:31:00 +0300, , test makefile bad code umount2 umount2 make sense circular dependency came commit e7b152fd probably meant say umount2 umount2.c instead needed either make implicit rule like drop zdtm_ct zdtm_ct.c reason travis success test makefile bad code andrei vagin avagin openvz.org cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3399,ca2cee201e29474fe8e73e26ee5ea4dffd3210a0,ir Kolyshkin <kir@openvz.org>, 2016-10-05 04:59:00 +0300, , doc makefile fix deps src footer dependency listed incorrect criu.txt file dependent footer.txt said criu.8 fact depend footer.txt reflected makefile fix add custom.xsl dependency also missing cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3400,9ca1db576b5eae98ccd6ce8a0fa270da99f64b7e,ir Kolyshkin <kir@openvz.org>, 2016-10-05 04:59:00 +0300, , doc makefile make sure criu_version defined discovered run make right documentation subdir criu_version defined generated man page lacking let fix conditionally including signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3401,cdd7858207ab63ecaf003d8a43baf2ad9eaf2969,ir Kolyshkin <kir@openvz.org>, 2016-10-05 22:08:00 +0300, , makefile move default goal since commit e6dcf46 need specify default goal explicitly common convention makefiles first goal file default one universally goal beginning let adhere convention moving expected keep default_goal clarity cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3402,4b0bbb3da99b142dadddde90613c6e91a147663f,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-28 18:07:00 +0300, , nmk built.mk add missing space signed cyrill gorcunov gorcunov openvz.org reviewed dmitry savonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3403,cd1ee2e2a24fa160473172f08a2b0e40ad0ec9c8,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-28 12:37:00 +0300, , criu fix strict prototype make compiler happy wstrict prototype option func change signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3404,c4702802f9a44b2c117b63d0ff52e52e04487a99,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-28 10:43:00 +0300, , mem move mem_pp ctl pstree_item dmpi signed pavel emelyanov xemul virtuozzo.com,,
3405,781a2e076959360e8ca506cae942ee5af5d6fbb8,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-28 10:42:00 +0300, , mem use pstree_item pid page dump call file use data soon opaque ctl signed pavel emelyanov xemul virtuozzo.com,,
3406,ee399151249e16f19ddaf22db932661f61d5723d,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-28 10:42:00 +0300, , mem add pstree_item arg dump_pages call signed pavel emelyanov xemul virtuozzo.com,,
3407,6349ffe0bb0d75851a190570a16423e670f5a2aa,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-28 10:41:00 +0300, , use data parasite_ctl structure become private compel keep one opaque pointer parasite api.s particular use item.pid instead ctl.pid signed pavel emelyanov xemul virtuozzo.com,,
3408,d5092dd3cb7f5184a0468997981cb409b9dd8156,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-28 10:41:00 +0300, , rename fdparms.ctl .fd_ctl easier grepping signed pavel emelyanov xemul virtuozzo.com,,
3409,1be674de2061f45a52eb6b68872379112be7e707,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-28 10:41:00 +0300, , pre dump use ctl pid pstree_item signed pavel emelyanov xemul virtuozzo.com,,
3410,0272e3e612671171ecba7affa79bac6eb5cefe6a,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-26 13:20:00 +0300, , sigframe use blkset ctl constructing sigframe parasite use ctl blkset coreentry one simplifies patching signed pavel emelyanov xemul virtuozzo.com,,
3411,25a1acd8cca555c423ed9a859f80da94cc270135,ir Kolyshkin <kir@openvz.org>, 2016-09-19 13:58:02 -0700, , nmk script bad code discovered script suffix added __nmk_dir despite fact already contains ending obviously wrong filename like script nmk script script msg.mk file non existent make tried recreate every .mk file spawninga child execute true command like part make output considering target file script nmk script script include.mk file script nmk script script include.mk doe exist finished prerequisite target file script nmk script script include.mk must remake target script nmk script script include.mk putting child 0x564ec1768740 script nmk script script include.mk pid 21633 chain live child 0x564ec1768740 script nmk script script include.mk pid 21633 reaping winning child 0x564ec1768740 pid 21633 removing child 0x564ec1768740 pid 21633 chain fix remove extra script found problem target defined content often included beginning makefiles hijack default make target first one makefile breaking usual expected make behavior forcing use .default_goal finally know target i.e purpose serve maybe done exclude implicit rule make file rule far see order address problem removed target see harm let know break anything cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3412,9e2ce61cac8d63674de3a763f27ee9b2fe0ec37d,ir Kolyshkin <kir@openvz.org>, 2016-09-19 13:58:01 -0700, , makefile nitpicks __nmk_dir already end slash need extra one need include macro.mk criu makefile nothing defines used cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3413,0aa9eee5f4c08c86c311f269201ea9d93945ab4c,irill Tkhai <ktkhai@virtuozzo.com>, 2016-09-27 18:06:00 +0300, , mount correct s_dev conversion convert stat st_dev kdev bacause mount info need like fetch_rt_stat function signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3414,337d0cadc63f20d4e8aea2988a7581aca0876100,ugene Batalov <eabatalov89@gmail.com>, 2016-09-27 15:21:00 +0300, , shmem use anon shmem change tracking default anon shmem change tracking known bug use default enable env variable defined run transition shmem test work python test zdtm.py run zdtm transition shmem pre andrei vagin avagin virtuozzo.com pavel emelyanov xemul virtuozzo.com signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3415,e892245deda465424699237610b636f5bb0a5592,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-26 13:19:00 +0300, , parasite simplify get_vma_by_ip really need call find dive victim make single syscall need complication get_exec_start call find vaddr signed pavel emelyanov xemul virtuozzo.com acked cyrill gorcunov gorcunov openvz.org,,
3416,8d1ee5f83eb21ae93d951cd560cc967e745cacb6,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-21 11:02:02 +0300, , mem fix misprint prev patch signed pavel emelyanov xemul virtuozzo.com,,
3417,227e5340ed701b842d1ee24a8543c9891ecb656f,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-19 14:18:22 +0300, , mem cleanup dumping page control make api cleaner tell two thing whether pre dump whether lazy dump make decision signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt,,
3418,30098d452f61b4611b60761c82c3c58b6fd38cf8,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-19 14:18:04 +0300, , mem split draning page xfer ing signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt,,
3419,41c3ca861694fe17fd8df4eecf2885fcbf42b0ea,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-19 14:17:45 +0300, , dump mem replace two bools ctl struct make easier extend logic signed pavel emelyanov xemul virtuozzo.com acked mike rapoport rppt,,
3420,b149048812fef77ff2bc546d34c4e2bc0543af0b,ir Kolyshkin <kir@openvz.org>, 2016-09-19 13:58:19 -0700, , documentation enable monospaced font pdf signed kir kolyshkin kir openvz.org reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3421,5c6817349d86be928b42d9708e4605aa98b79e53,ir Kolyshkin <kir@openvz.org>, 2016-09-19 13:58:18 -0700, , documentation prettify man page add way enable justification hyphenation man page enabled default troff docbook explicitly disables man page look better way reason hyphenation man page disabled docbook problem groff particularly smart doe hyphenation end hyphenating lot thing want hyphenated reason justification man page disabled docbook justified text look good also hyphenated without hyphenation excessive amount space often end getting word order pad line align right margin carefully checked resuling man page using terminal output column pdf generated case hyphenation look normal i.e see unwanted case extra hyphenation justification signed kir kolyshkin kir openvz.org reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3422,69c79bb500032f1709d2dc1c3617fcf13b33347c,ir Kolyshkin <kir@openvz.org>, 2016-09-23 12:08:14 -0700, , criu massive man page update attempt cleanup man page sorry come one big patch change use bold literal italic argument variable substituions use argument already marked italic remove detail criu exec remote syscalls execution add note obsoleted compel description shrunk made longer many rephrased formatting use second level list value appropriate mostly instead bulleted list value properly show comma separated list argument second pair ... proper use term option argument option argument fix formatting english missing article ... 98. change author criu team 99. update copyright year copyright holder parallel holding rebase cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3423,4edc7c9cb21c0012d8d5f3bf833238ffeb819bdd,ir Kolyshkin <kir@openvz.org>, 2016-09-19 13:58:16 -0700, , documentation makefile set nmkdir able find way make target sub makefile documentation make pdf without hack better way please let know cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3424,e38c37f05aaa889ba6f0ec360fb1c47069264b7e,mitry Safonov <dsafonov@virtuozzo.com>, 2016-09-23 17:20:33 +0300, , travis check mrproper cleaning let make test adrian reber adrian lisas.de andrei vagin avagin virtuozzo.com signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3425,0bda4caa439180804d3cc8869ec53373656e51a7,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-09-23 17:41:50 +0300, , zdtm add test shared thread structure migration signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3426,a8969a95428756b518cdb2fd8b754fd55f4680c4,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-09-23 17:41:45 +0300, , restorer add forgotten clone_fs flag thread clone thread must share struct without path thread struct signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3427,2c623a56b17d75f896e0d53651660bba68df59d1,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-22 11:56:00 +0300, , mount move fstypes related code separate file mount.c longer fattest tree  3947 criu mount.c 3179 criu restore.c 2622 criu proc_parse.c 2095 criu tty.c  3179 criu restore.c 3170 criu mount.c 2623 criu proc_parse.c 2095 criu tty.c one move thing since fstype array static filesystems.c mount.c need access fstype auto mount fstype_auto call added signed pavel emelyanov xemul virtuozzo.com,,
3428,f0ea03bdbf04f4605a250fe3454f085a0c6a17ef,irill Tkhai <ktkhai@virtuozzo.com>, 2016-09-20 15:48:00 +0300, , mount corrent sibling path parent child mountpoint mounted directory rpath initialized empty string rpath point case snprintf bottom function make path end function validate_shared result call fails find peer signed kirill tkhai ktkhai virtuozzo.com acked andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3429,5f30c249641b3dfb23678f8bcc179a88cd2ef9c3,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-21 12:59:36 +0300, , mount set key anything auto ext mount signed pavel emelyanov xemul virtuozzo.com,,
3430,5af9e2b1899ac75e5ebcb7f2cf6ac4042c61617c,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-21 12:59:20 +0300, , mount helper auto ext entry creation signed pavel emelyanov xemul virtuozzo.com,,
3431,8ccdb649bb4dff270398e0009a061da9af650b44,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-21 12:59:04 +0300, , mount relax ext mount resolving signed pavel emelyanov xemul virtuozzo.com,,
3432,fbaa91855d0b0251d465b272872babe84ba48d3b,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-20 16:26:15 +0300, , ext sweep external resource code separate file signed pavel emelyanov xemul virtuozzo.com,,
3433,a8f16a953e54aeb9b7df3f48adfd0fc69fd4ed2d,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-20 16:26:00 +0300, , help introduce separate section external resource plan describe carefully signed pavel emelyanov xemul virtuozzo.com,,
3434,92226c6f3c767a92f8a2ca2e1dc11c0a3afd64c5,ycho Andersen <tycho.andersen@canonical.com>, 2016-09-20 18:08:22 +0000, , help update help output cgroup root signed tycho andersen tycho.andersen canonical.com kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3435,66c2b67532de2c935a5b5af95317e09ba3de96a6,ycho Andersen <tycho.andersen@canonical.com>, 2016-09-20 18:08:21 +0000, , doc document cgroup root dump signed tycho andersen tycho.andersen canonical.com kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3436,7a1cdd266124325c4dc1f28661f822aa600ac14d,ycho Andersen <tycho.andersen@canonical.com>, 2016-09-20 18:08:20 +0000, , test cgroup02 use cgroup root dump mimic environment systemd cause problem preserve prefix cgroup path across checkpoint restore task live open path without cgroup root prefix dump test fails 00.030429 error criu file reg.c 1487 file home ubuntu criu test zdtm static cgroup02.test zdtmtst prefix bad mode 040600 expect 040777 signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3437,1ede31b77ee8701b06f06171f2aae6ec0b7b8e01,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-09-19 11:33:00 +0300, , zdtm cgroup02 fix test using ropts instead opts commit 07d259f365f2 cgroup support cgroup root dump criu start understand cgroup root option dump cgroup02 test cgroup02.desc file set opt newroot unintentionaly dump newroot dump fails http ci.openvz.org job criu job criu x86_64 branch criu dev 989 run zdtm static cgroup02  start test test suid cgroup02 pidfile cgroup02.pid outfile cgroup02.out dirname cgroup02.test run criu dump log dump zdtm static cgroup02 dump.log grep error 00.023103 error criu cgroup.c 620 failed walking proc self newroot empty cgroups file directory 00.023129 error criu dump.c 1359 dump core pid failed  00.023944 error criu dump.c 1675 dumping failed error fix using restore ropts instead opts signed pavel tikhomirov ptikhomirov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3438,64bf0160a82ed4b3e370acb6cae985ba3db1b215,ndrei Vagin <avagin@virtuozzo.com>, 2016-09-13 07:19:46 +0300, , mnt pas mount point patch used next patch signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3439,aca9b701561b182815df83124445e1947b740e49,arkus Knetschke <markus.knetschke@gmail.com>, 2016-09-16 22:20:00 +0300, , change return value get_fs_type int long field fs_type field fd_parms already long additionally glibc man page say using unsigned int variable suffices system referring minimum width variable holding fs_type already fs_types set highest bit cifs btrfs hpfs ... interfere error check fs_type cast signed int long fix error dumping program btrfs partition signed markus knetschke gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3440,e8796f4496b1b99d241f1a3ae60e530424ff7910,ycho Andersen <tycho.andersen@canonical.com>, 2016-09-16 18:46:00 +0300, , lsm remove selinux undef suspect snuck build testing code anyway  signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3441,3a61c38a5832c99f973be0aaad8ff7526bf88f2f,ndrei Vagin <avagin@virtuozzo.com>, 2016-09-16 12:18:39 +0300, , restore block sigchld remap task_entries currently remap task_entries used sigchld hanler need block sigchld remap task_entries unlock restorer sigchld handler set signed andrei vagin avagin virtuozzo.com reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3442,357c78f8f7ddac30ee90e21a338a3425d274bc16,ndrei Vagin <avagin@virtuozzo.com>, 2016-09-16 12:18:38 +0300, , asm move ksigfillset non arch header ksigfillset architecture reason duplicate code many time addition patch addes ksigemptyset ksigaddset used next patch signed andrei vagin avagin virtuozzo.com reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3443,241163f28c893ef04c8588b110bed489d373b0a5,ycho Andersen <tycho.andersen@canonical.com>, 2016-09-14 03:21:00 +0300, , cgroup reset directory dirnew valid case rewrite anything dirnew never set reset anything work signed tycho andersen tycho.andersen canonical.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3444,40edd7eff599bc47244898f07aeb58b391d48046,ir Kolyshkin <kir@openvz.org>, 2016-09-15 00:04:00 +0300, , lib criu.h explicit numbering enum element standard specifies first enum element next one previous element c90 3.5.2.2 enumeration specifier therefore need explicitly specify element value explicit initializers added first commit introducing enum commit 46e8aee let also add comma last element future patch adding element look better functional change ruslan kuprieiev rkuprieiev cloudlinux.com signed kir kolyshkin kir openvz.org acked ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul virtuozzo.com,,
3445,cb19e69e62433943c8fa2190f9d138666beaa355,ycho Andersen <tycho.andersen@canonical.com>, 2016-09-13 19:46:00 +0300, , cgroup support cgroup root dump problem caused systemd every process life child cgroup root one end bunch stuff like init.scope system.slice ... user.slice ... nothing root cgroup however systemd open sys cgroup systemd change perm keep around unfortuantely track perm real root cgroup nothing level restore cgroup perm changing code catch perm change get 00.361723 error criu file reg.c 1487 file sys cgroup systemd bad mode 040755 expect 040775 fix let support cgroup root argument dump rewrite cgroup path dump accordingly signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3446,d2647d3350c95be3177199f4db9a5751f2081d76,uan T. Pham <tuan@vt.edu>, 2016-09-13 17:59:00 +0300, , add script install required package compile debian mon sep 2001 tuan pham tuan vt.edu date thu sep 2016 0400 subject patch add script install required package compile debian order setup environment compile test criu source need required package debian environment script package list help setting contrib debian dev packages.lst list required package debian development environment script install debian pkgs.sh simple bash script instaling required debian package http criu.org installation signed tuan pham tuan vt.edu signed pavel emelyanov xemul virtuozzo.com,,
3447,f43508d29a582e1b7470b0726952df79845e19fd,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-13 15:26:00 +0300, , mount cgroup fix nil dereference case clone_newcgroup root namespace mask private member remains nil comparision mounts_sb_equal lead nil dereference tycho andersen tycho.andersen canonical.com signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3448,61227252a987e89af67de42b2f3cf7dc38565812,ycho Andersen <tycho.andersen@canonical.com>, 2016-09-12 18:52:41 -0600, , test add test memory device specialness add cgroup04.hook remove cgroups thing actually restored signed tycho andersen tycho.andersen canonical.com cyrill gorcunov gorcunov openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3449,d52a3522588ebbaebcc944e5a8d894056b0f65c8,ycho Andersen <tycho.andersen@canonical.com>, 2016-09-12 18:52:40 -0600, , cgroup treat device special property try write devices.allow skip since write devices.deny everywhere anyway leave cgroup prop name devices.list caught later test special ness also write last device entry twice signed tycho andersen tycho.andersen canonical.com cyrill gorcunov gorcunov openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3450,37051be5609c241e4dfff1d7d297aa8b5dc680ca,drian Reber <areber@redhat.com>, 2016-09-13 15:23:00 +0300, , fix typo criu crtools.c signed adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
3451,71485d805af8cdb95dd2b332a6cc495299c3e5ae,ir Kolyshkin <kir@openvz.org>, 2016-09-13 01:44:00 +0300, , action scripts.h explicit numbering enum standard specifies first enum element next one previous element c90 3.5.2.2 enumeration specifier therefore need explicitly specify element value explicit initializers added commit 5676383 script add act_max limit make action_names const see need either functional change cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3452,fe2073ee2e5d9956a6365de74138f13f3660004f,ycho Andersen <tycho.andersen@canonical.com>, 2016-09-12 18:55:00 +0300, , cgroup fix potential null dereference new_controller return null error let check signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3453,44c4ef842db926e74cf77781656f2a644c92025e,ugene Batalov <eabatalov89@gmail.com>, 2016-09-08 23:10:00 +0300, , test fix bug huge page_size transition maps008 patch vma size hardcoded derived page_size value action vmas based page_size value maps008 powerpc huge page_size 64k simply terminating due invalid memory access commit set vma size safe value derived page_size new size enough perform action test doe vmas tested laurent dufour ldufour signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3454,a5875ece5944de36fba6cd13a46dd9187e84534f,irill Tkhai <ktkhai@virtuozzo.com>, 2016-09-13 17:50:05 +0300, , mount prohibit second binfmt_misc superblock need catch moment binfmt_misc mainline kernel virtualized signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3455,6e83f5431499ea724497a1597a18b4f8566f2a9e,irill Tkhai <ktkhai@virtuozzo.com>, 2016-08-23 19:17:19 +0300, , mount restore binfmt_misc content case missing mount case mount image containing binfmt_misc mountpoint add temporary mountpoint mount tree try restore binfmt_misc content ordinary way umount temporary mountpoint new check determine image present check determine binfmt_misc entry present signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3456,f5876445d23df65aa1e3c5b78669f0faa88bd4b9,irill Tkhai <ktkhai@virtuozzo.com>, 2016-08-23 19:17:10 +0300, , mount forced mount unmounted binfmt_misc lost content umount doe remove binfmt_misc content mounted entry remain registered criu doe dump content umounted binfmt_misc lose patch force mounting unmounted binfmt_misc collected mountpoints unmounted mount back add mount tree collected mounted mountpoints binfmt_misc content dumped usual way difference mount point dumped print error case umount fail move another patch close binfmt_misc dir umount dump forced mounted mountpoint search binfmt_misc mounted use count number entry binfmt_misc directory add crtime_mnt_id make mount function generic signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3457,fbeb3acc9410876adb5e32c25d7e7da218d8661d,irill Tkhai <ktkhai@virtuozzo.com>, 2016-08-23 19:16:59 +0300, , mount autodetect binfmt_misc set opts bit binfmt_misc mounted root mnt_ns new signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3458,ee15a000ffa97ba42968312637a8c62e8584dfe4,irill Tkhai <ktkhai@virtuozzo.com>, 2016-08-23 19:16:49 +0300, , mount create binfmt_misc image device suffix use name binfmt_misc.img mounted binfmt_misc note newly created binfmt_misc image restore old criu iterate empty restore also let change behaviour dump create binfmt_misc image registered binfmt_misc entry new use open close _image sequence determ image exists iterate suggested pavel emelyanov xemul virtuozzo.com signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3459,cf164e16e81c79ca68d1ac3a7bd86dc9cd46d114,irill Tkhai <ktkhai@virtuozzo.com>, 2016-08-23 19:16:39 +0300, , mount move binfmt_misc entry restore code subfunction also rename new signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3460,725e2d00b83783a4fce3fadb896e8eae94bc5d88,irill Tkhai <ktkhai@virtuozzo.com>, 2016-08-23 19:16:31 +0300, , mount collect new type binfmt_misc.img image entry new signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3461,6eaedfaa76a78ecf704859ebd7d1afbef6adcdac,irill Tkhai <ktkhai@virtuozzo.com>, 2016-08-23 19:16:23 +0300, , image rename binfmt_misc image format old also add new format without suffix file name new signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3462,3acefff9ccfd17be35405657c5d762195745e401,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-08 11:32:00 +0300, , tty make sure deprecated logic doe take wrong branch additional processing ext tty expected regfile image reported andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3463,46c24c00bb6482162880dc695a5f5a77d4b82d3f,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-07 21:39:00 +0300, , tty fix deprecation detection logic collecting tty record may come external tty entry regular file record gon inherited restore command line option thus make sure deprecated_ok never called external ttys signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3464,0daef3d12f3462c4a1e57af79b2d4b752b8fe835,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-09-02 15:45:00 +0300, , kerndat redirect iptables output dev null fix commit 68a938ea84f4 net iptables check iptables command wait option else criu log contains iptables output 00.020184 found task size 7ffffffff000 chain input policy accept target prot opt source destination chain forward policy accept target prot opt source destination chain output policy accept target prot opt source destination 00.029481 irmap searching irmap cache work dir signed pavel tikhomirov ptikhomirov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3465,2dc2d8c56f60469158e9ddd9a994d6b45f283a21,ndrei Vagin <avagin@openvz.org>, 2016-09-02 00:50:00 +0300, , zdtm add program umount test root program parse etc fstab etc mtab call umount2 syscall another attempt fix error command mount make private tmp criu root c7mzs9 returned non zero exit status oserror errno device resource busy tmp criu root c7mzs9 signed andrei vagin avagin openvz.org signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3466,3b366c3141297d9fe87c5302c04c0aa0871acd8c,ndrew Vagin <avagin@virtuozzo.com>, 2016-09-02 00:12:00 +0300, , zdtm check criu dedup add new option zdtm.py run criu dedup criu dump criu pre dump signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3467,cd5674ea8f966f2ef9e2a9eeb806077129695f77,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-01 19:08:00 +0300, , tty deprecate regfile entry case tty file carry link regfile entry since 1.4 commit caa64d97 signed pavel emelyanov xemul virtuozzo.com acked cyrill gorcunov gorcunov openvz.org,,
3468,090bcd01039aec6ecf4063eb599f7ec5540036c2,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-12 12:44:04 +0300, , criu version 2.6 time quite lot new feature monthly release cadence including leave stopped restore tmem ppc shmem change tracking also bugfixes course little bit deprecation signed pavel emelyanov xemul virtuozzo.com,,
3469,38ddd1a12ce07c13626ef72652820b0a5087c939,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-02 17:07:00 +0300, , mem hide error add_shmem_area signed pavel emelyanov xemul virtuozzo.com,,
3470,2904f4ef13eff26283454cbcf647daeff4f339b4,yrill Gorcunov <gorcunov@openvz.org>, 2016-09-01 23:10:00 +0300, , tcp fix typo message signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3471,e6548c2a30d064b01d8b8d784d4177afa570e774,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-01 19:07:00 +0300, , epoll deprecate separate image tfds tfd entry merged epoll entry 1.4 signed pavel emelyanov xemul virtuozzo.com acked cyrill gorcunov gorcunov openvz.org,,
3472,f4577a00df264e376595c1aa032195d594f63e43,ir Kolyshkin <kir@openvz.org>, 2016-08-31 23:29:00 +0300, , netfilter.c use literal string printf format allows check printf argument type valid apparently gcc able check printf argument sync format string string literal seen compiling code wformat nonliteral criu netfilter.o criu netfilter.c function criu netfilter.c error format string literal argument type checked werror format nonliteral dip int dst_port sip int src_port unfortunately add wformat nonliteral cflags least one place code non literal string format string printf like function case though need use non literal change define signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3473,00d48810a82c681e52159ccfe3669a4122ba4830,ir Kolyshkin <kir@openvz.org>, 2016-08-31 23:09:00 +0300, , makefile add wformat security cflags apparently travis check patch compiles code wformat security probably distro gcc default system fedora gcc 6.1.1 flag result code compiles fine travis report error add wformat security default cflags help catch problem like using printf str instead printf str signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3474,f1a9cd4d41f9cd23d46c0f52456bf75ed3b08b5a,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-07 00:50:00 +0300, , patch log bug_on log_first_err turned calling log_first_error possible calling bug_on return null reported adrian reber adrian lisas.de signed pavel emelyanov xemul virtouzzo.com reviewed adrian reber adrian lisas.de signed pavel emelyanov xemul virtuozzo.com,,
3475,3ea1d8eaa29c65a722406ead87b90fe3bcafb051,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-09-07 13:10:42 +0200, , fixing commit c220f6da dmitry thanks patch look like part commit 1c249d08870b x86 add bit sigframe rt_sigreturn criu dev prepared patch set tested patch separately set x86 possibility test separately ppc x86 matter call restore_gpregs compat patch catch doe matter ppc signed laurent dufour ldufour reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3476,452cb9d48c3eb5e561b5d8d0c3a2542c96d493ad,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-09-06 19:30:48 +0300,178, page read fix open_page_read usage fix uninitialized use get_page http github.com xemul criu issue 178 ud_open close case error returned find_vmas free lpi lpi open need check lpi_fini uffd close rebase new criu dev signed pavel tikhomirov ptikhomirov virtuozzo.com acked mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3477,2076a16031e92de0a8f1d94cc99b21a5511b6e23,avel Emelyanov <xemul@virtuozzo.com>, 2016-09-01 17:27:13 +0300, , zdtmpy fix flake8 warning signed pavel emelyanov xemul virtuozzo.com,,
3478,7df7d9bb671a49e589485aa3b1a9c4e7b9e213a4,ndrei Vagin <avagin@virtuozzo.com>, 2016-09-01 02:20:00 +0300, , zdtm.py call one process atexit hook executed forked process called fix flak8 warning signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3479,2e4639f7b597cc0ca8ad1a4a52e8ffde497055a9,avel Emelyanov <xemul@virtuozzo.com>, 2016-08-24 17:25:00 +0300, , travis add package required new zdtm.py code signed pavel emelyanov xemul virtuozzo.com,,
3480,20f92be797486759906a1b465b0919f3dfd23723,ir Kolyshkin <kir@openvz.org>, 2016-08-30 16:58:18 -0700, , travis test add test criu help make sure travis jenkins complain someone sends patch result criu help output violate standard terminal width requirement andrei vagin avagin virtuozzo.com signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3481,5723b8fba0b2af0605473d304ba9193124697c61,ir Kolyshkin <kir@openvz.org>, 2016-08-31 11:56:27 -0700, , criu help print proper list feature remove weird special case function making separate print sep separated list feature name obeying max width prepending line offset way decept help output feature feat check particular feature one mnt_id mem_dirty_track aio_remap timerfd tun userns fdinfo_lock seccomp_suspend seccomp_filters loginuid cgroupns autofs alternatively could drop functionality showing individual feature check use pr_msg fix wformat security warning signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3482,a00d3d8a92e3931de5346934a38fe0840247dd27,ir Kolyshkin <kir@openvz.org>, 2016-08-30 16:58:16 -0700, , criu help improve check description rephrase remove extra repeated word obey column signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3483,027e13fd65577b1bf431ff780d400bb23fabc616,ir Kolyshkin <kir@openvz.org>, 2016-08-30 16:58:15 -0700, , criu help rectify join fix english rephrase mark curly brace pid ns_file exclusive option fix column violation remove usage example remove experimental feature warning add empty line check option header removal believe help output proper place example notice  join pid ns_file extra_opts join exist namespace restore process namespace specified pid file path format join net 12345 join net foo bar extra_opts optional user namespace support join user pid uid gid specify uid gid please note join user namespace fully tested may dangerous use feature check option  join pid ns_file option join existing namespace restore process namespace specified either pid file path option used specify parameter userns user pid uid gid signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3484,f9c3bff0200012e2a1aa9c72270d4d0837f2cf10,ir Kolyshkin <kir@openvz.org>, 2016-08-30 16:58:14 -0700, , criu help extra line empty need also remove curly brace around net avoid confusion  empty net create namespace restore properies assuming restored action script  empty net create namespace restore properies assuming restored action script signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3485,5fe390a3e48d6cafc0265561ad23a0d1b191ca9f,ir Kolyshkin <kir@openvz.org>, 2016-08-30 16:58:13 -0700, , criu help fix inherit description simplify phrase removing duplicate word saving line drop use uppercase variable part place obey column  inherit num existing inherit file descriptor allows treat file desc riptor num already opened via existing one tead trying open inherit tty rdev dev pipe inode socket inode file mnt_id inode  inherit num inherit file descriptor treating num already opened via existing tty rdev dev pipe inode socket inode file mnt_id inode signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3486,ee1312ef179d1a031d03f4d02bfd3a17bf3c816c,ir Kolyshkin <kir@openvz.org>, 2016-08-30 16:58:12 -0700, , criu help rectify empty description fix typo user retore rephrase signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3487,dbc32f89485272cfe1f97b812a62bbd60e8b44dd,ir Kolyshkin <kir@openvz.org>, 2016-08-30 16:58:11 -0700, , criu help remove period last sentence general end last sentence option description period case let fix signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3488,9bc974f55e98fcbcd2faf7f21d88271044ffca8c,ir Kolyshkin <kir@openvz.org>, 2016-08-30 16:58:10 -0700, , criu help fix cgroups prop file fix typo descrition description add comma remove period end sentence  cgroup prop file file cgroup prop taking descrition path specified  cgroup prop file file cgroup prop taking description path specified signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3489,3a714b823facad909ce92fe2a070f447800c42cd,ir Kolyshkin <kir@openvz.org>, 2016-08-30 16:58:09 -0700, , criu help improve manage cgroup description fix typo usig slightly rephrased remove period end signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3490,f73a08447e74cbab6e81c9a876643a5eace04a91,ir Kolyshkin <kir@openvz.org>, 2016-08-30 16:58:08 -0700, , criu help shorten ghost limit description hopefully without losing meaning fit col signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3491,40f483792d4069f8f0164ccb2ef354a7b532ea3f,ir Kolyshkin <kir@openvz.org>, 2016-08-30 16:58:07 -0700, , criu help rectify skip flight lengthy description quite suitable help output also violates column look ugly result fix issue  skip flight option skip flight tcp connection tcp connection found yet completely established criu ignore connection favor erroring  skip flight skip ignore flight tcp connection signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3492,86990c9eefb5a8907354989ff39bbe2992ab0415,ir Kolyshkin <kir@openvz.org>, 2016-08-30 16:58:06 -0700, , criu help rectify ext unix add missing space option argument mark argument optional fix english obey column width  ext unix skinode allow external unix connection optionally assign socket inode allows one sided dump  ext unix inode ... allow external unix connection optional argument socketpair inode allow one sided dump signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3493,617dc65cc6527348050e8e222472787ff9d80f49,ir Kolyshkin <kir@openvz.org>, 2016-08-30 16:58:05 -0700, , criu help compact freeze cgroup need empty line signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3494,7f6d02c0baf92e223e51d01b33d86609c985ced1,ir Kolyshkin <kir@openvz.org>, 2016-08-30 16:58:04 -0700, , criu help rectify cpu cap somewhat hard fully describe cpu cap help output let least say option used either write check capability argument comma separated list empty argument mean also saying contain within column output last item requires work course sure others often work terminal column wide non wrapped output look pretty ugly mean surely better adp signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3495,a654e551c9c99ca6fa8e9b8bfc4044bd175ce9d0,ndrei Vagin <avagin@virtuozzo.com>, 2016-08-31 22:50:00 +0300, , travis set permission test test static test transition need allow read write access directory execute test user namespaces zdtm.py doe racy run test parallel grep error 00.748406 error criu file reg.c 1487 file zdtm static bad mode 040777 expect 040775 00.752027 error criu restore.c 1132 exited status 00.790562 error criu restore.c 1135 killed signal killed 00.790623 error criu restore.c 2019 restoring failed error signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3496,4ebfa9813be12d9a3dba41e2bae075b716387090,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-08-31 18:15:13 +0200, , ppc64 handle transactional memory state power introduces transactional memory operation see power isa 3.0 detail support transactional memory operation checkpoint restart requires extended ptrace api provided kernel 4.8 checkpointing thread transactional memory operation progress checkpointed state checkpointed new ptrace api new apis available checkpoint aborted explicit error reported restart time state pushed stack frame reloaded kernel reading stack frame suspended operation could checkpointed since active one aborted system call made suspended operation aborted well checkpointed thread expected handle failure usual retrying good option signed laurent dufour ldufour reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3497,78ac904cce3cd6e8589ad99193a9813135f404b2,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-08-31 18:15:12 +0200, , ppc64 extract copy protobuf function since transactional memory state contains vsx vmx register extracting common code copying data protobuf buffer separate function signed laurent dufour ldufour reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3498,7dce5025564cc23137ec94030ed0021281dac801,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-08-31 18:15:11 +0200, , ppc64 introduces nvsxreg constant new constant nvsxreg defining number double word needed save get remaining part vsx register save major part vsx register saved saving fpu altivec register signed laurent dufour ldufour reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3499,a64319bf7fa7c24572eed66994dbfc8d2ae4638f,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-08-31 18:15:10 +0200, , ppc64 rely nvrreg define dealing number altivec register use nvrreg constant defined system file usr include powerpc64le linux gnu sys ucontext.h however constant take account extra quad word containing vrsave split vector must remove get exact number register signed laurent dufour ldufour reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3500,187fb297b45034bad52fec5fe290230d0cb4b4e3,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-08-31 18:15:09 +0200, , ppc64 fix error message display error message checkpointed data read restart time corrupted signed laurent dufour ldufour reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3501,59afb49c824f275912a74f8211f61c2dd2362857,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-08-31 18:15:08 +0200, , ppc64 review comment style proto file use comment style signed laurent dufour ldufour reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3502,eb22658ea40e6bf2e2220f372180c4faeac58d66,yrill Gorcunov <gorcunov@openvz.org>, 2016-08-31 11:53:00 +0300, , test pty01 add custom uid gid signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3503,4f99370cb8ecfab8c36610be021995d4906487aa,yrill Gorcunov <gorcunov@openvz.org>, 2016-08-30 01:33:00 +0300,198, tty restore peer uid gid currently create peer consider owned someone else lest carry uid gid image restore http github.com xemul criu issue 198 signed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3504,e9261d2d364b2aa34d31cca5c3de17af8ed5860d,yrill Gorcunov <gorcunov@openvz.org>, 2016-08-31 11:20:00 +0300, , tty assing special indeces ext serial ttys zero may clash one day signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3505,1b8a5bf98d213caf20473d53050d4e474c43f0b9,ndrei Vagin <avagin@virtuozzo.com>, 2016-08-31 01:08:00 +0300, , zdtm.py print process tree timeout expired give information test completed time signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3506,a007f53bc18c32ef4558c90324b455313d9c2a6a,mitry Safonov <dsafonov@virtuozzo.com>, 2016-08-30 16:18:34 +0300, , arm test fix printing format test fix cow01.c function parent_check lib zdtmtst.h 120 error format expects argument type long unsigned int argument type uint64_t aka long long unsigned int werror format test_msg fail format errno  cow01.c 287 note expansion macro fail fail cow pagemap  file included function read_set lib zdtmtst.h 117 error format expects argument type long unsigned int argument type unsigned int werror form  test_msg err format errno  299 note expansion macro pr_perror pr_perror read buf failed errno  deleted_dev.c error format expects argument type long unsigned int argument type __dev_t aka long long unsigned int werror format test_msg mode want dev want  deleted_dev.c error format expects argument type long unsigned int argument type dev_t aka long long unsigned werror format test_msg mode want dev want  lib zdtmtst.h 117 error format expects argument type long unsigned int argument type off64_t aka long long int werror format test_msg err format errno  nothing really interesting printing right format specifier signed dmitry safonov 0x7f454c46 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3507,0ca79b6d6cc1af6b3444e444812185fe470faec3,mitry Safonov <0x7f454c46@gmail.com>, 2016-08-30 16:18:33 +0300, , arm test fix _xopen_source define look like arm32 features.h ifdef _xopen_source define __use_xopen _xopen_source 500 define ... ptsname unlockpt grantpt ifdef extern int grantpt int __fd __throw extern int unlockpt int __fd __throw extern char ptsname int __fd __throw __wur endif ... fix pty00.c error implicit declaration function grantpt werror implicit function declaration grantpt fdm  pty00.c error implicit declaration function unlockpt werror implicit function declaration unlockpt fdm  pty00.c error implicit declaration function ptsname werror implicit function declaration slavename ptsname fdm  pty00.c error assignment make pointer integer without cast werror int conversion slavename ptsname fdm  signed dmitry safonov 0x7f454c46 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3508,d7f21ac880e546b25d5caf55dd8d38aefaf46414,mitry Safonov <0x7f454c46@gmail.com>, 2016-08-30 16:18:32 +0300, , test arm compat build maps03 test fix maps03.c function main maps03.c error result 10l requires bit represent long int bit werror shift overflow mem void mmap null 10l prot_read prot_write  maps03.c error result requires bit represent long int bit werror shift overflow mem  maps03.c error result requires bit represent long int bit werror shift overflow mem  maps03.c error result requires bit represent long int bit werror shift overflow mem mem  maps03.c error result requires bit represent long int bit werror shift overflow mem mem  proceses virtual address space smaller 4gb omit test arch signed dmitry safonov 0x7f454c46 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3509,38e4a01dfd00a7025ab3232c74c29b77f123b2c0,avel Emelyanov <xemul@virtuozzo.com>, 2016-08-24 16:22:22 +0300, , zdtm.py add minimal support criu rpc testing rpc server swrk mode used turn easily used nice lib criu.py thingie ruslan signed pavel emelyanov xemul virtuozzo.com,,
3510,983f54f615a613dae48771753c3c4758c0e33a7b,avel Emelyanov <xemul@virtuozzo.com>, 2016-08-24 16:21:55 +0300, , zdtm.py substract criu_cli criu single place really calling criu cli tool inside class pull one preparation rpc support signed pavel emelyanov xemul virtuozzo.com,,
3511,57699ee08ae5c34e9e15109f95210d6e5dd04ade,avel Emelyanov <xemul@virtuozzo.com>, 2016-08-24 16:21:27 +0300, , zdtm.py criu_cli criu criu_cli class whole bunch useful code cli specific drop _cli suffix signed pavel emelyanov xemul virtuozzo.com,,
3512,3c54e236c727eb5c78071be3a9777c5b4008d9a7,yrill Gorcunov <gorcunov@openvz.org>, 2016-08-30 13:23:00 +0300, , tty require stdin tty inherit laze fashion migrating process might slave tty peer instead exiting early wait real usage fail reported manuel rodrã guez pascual gmail.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3513,d43fff4d74877bbb00e012a126cedb6410319302,ndrei Vagin <avagin@virtuozzo.com>, 2016-08-29 23:28:00 +0300, , zdtm remove .opts file file used zdtm.sh zdtm.py .desc file signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3514,65468bbc1b22cc335116abbf4f2a9dcdd3a7dc1e,yrill Gorcunov <gorcunov@openvz.org>, 2016-08-29 16:06:00 +0300, , fix descriptor passed walk signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3515,333373110c9a0cc51a7076ef902e2f13b968dc2f,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-08-29 14:07:00 +0300, , systemd autofs restart.sh fix error handling case system limitation without patch error check_fs_type function considered grant process bind mount patch split mount point type discovering comparison autofs type thus allowing check discovery error signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3516,6b06210603a61fafb36f6adf0f45af1271cc4a83,ugene Batalov <eabatalov89@gmail.com>, 2016-08-28 18:57:00 +0300, , shmem use mincore page status bit anon shared mem dumping turned anon shmem page non zero content pme_present pme_swap bit unset vmas whole tree case reproduced issue 209 dump tree anon shmem filled using datagen restore tree anon shmem content restored open_shmem created unmapped restorer process anon shmem vma mapped restore_mapping pie restorer context anon shmem content already initialized non zero content restored process touch newly mapped vma run criu dump page anon shmem vmas pme_present pme_swap bit unset put vma page dump filter anon shmem page using pme_present pme_swap bit way anon private mem bug pme_present pme_swap bit work anon private mem least one process would restore content private anon vma address space thus pme bit set page damped stop using pme_present pme_swap bit dump non soft dirty non zero pfn page case 1gb mapped used anon shmem vma dump bad fix bug patch use mincore bit finally understand dump page mincore bit show page usage status better mincore performs deeper checking internal kernel state pme bit filling based process page table using mincore drawback work page swap mincore used started using pme bit also mincore break page change tracking functionality anon shmem bug fixed another way example make anon shmem restoration work similar anon private mem restoration fix look much harder implement signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3517,6ae4a97309d75cbfec1c5c15b0cd454c1901d3ed,avel Emelyanov <xemul@virtuozzo.com>, 2016-08-24 21:12:03 +0300, , rpc report back first error message failure running criu swrk mode client typically want know reason failure right criu report back nothing fact dump restore etc fails tried address introducing errno engine seem informative enough hard maintain adding new errno boring propose report back first message error level upon failrure __typically__ first error message indicates proceeding impossible criu roll back generating error message crucial know first one ever meet situation first pr_err pr_perror cause criu exit printing fixed pr_warn signed pavel emelyanov xemul virtuozzo.com acked andrei vagin avagin virtuozzo.com,,
3518,0a4b21032c0b1b1bc58973f22ffa4101d8f2ed0e,avel Emelyanov <xemul@virtuozzo.com>, 2016-08-24 21:11:45 +0300, , service factor err setting signed pavel emelyanov xemul virtuozzo.com acked andrei vagin avagin virtuozzo.com,,
3519,06e25b18417f12375b7afb33226c7a397de81ae7,yrill Gorcunov <gorcunov@virtuozzo.com>, 2016-08-26 15:54:00 +0300, , seize collect_pstree add missing error sign return freeze process forget return error sign otherwise continue operating nonfrozen process leading various error signed cyrill gorcunov gorcunov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3520,40a7f3854fdf6f375a604d2c36c9d8c20fc6bab7,ugene Batalov <eabatalov89@gmail.com>, 2016-08-25 12:23:00 +0300, , test fix race transition maps008 lead fail test running test zdtm.py run zdtm transition maps008 snap pre loop got test failure mem differs error minute cause bug lack synchronization process still datagen stage test process already datacheck stage test result get mem differs error process datacheck stage fetch byte offset ashmem vma vma1 cpu register process still datagen stage change byte offset ashmem vma vma1 process fetch byte offset another ashmem vma vma2 mapped physical memory vma1 process compare two fetched byte find different value process report mem differs error race fixed waiting process exit datagen stage proceeding datacheck stage signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3521,42058dc7ce2e1bb57e785d7139713b48e5791721,ndrei Vagin <avagin@virtuozzo.com>, 2016-08-24 22:25:00 +0300, , test ms_rec ms_private host mount race someone umounted something operation propagated namespace criu another process  pivot_root put_root mount put_root ms_rec ms_private umount xxx yyy umount xxx ebusy umount put_root affect mount put_root mask mount slave work external user reported travis signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3522,c220c2f970e45755d3088510db3ce204094dbcb1,avel Emelyanov <xemul@virtuozzo.com>, 2016-08-23 22:51:00 +0300, , file tune false perror message linkat fails print error sometimes try way linkat anyway fix place produce error message time needed signed pavel emelyanov xemul virtuozzo.com,,
3523,de2b4261dd81202861d5c118bb0a76cbf913a661,ndrei Vagin <avagin@virtuozzo.com>, 2016-08-24 22:17:00 +0300,207, pagemap add ability disable pagemap cache found 3.19 ubuntu kernel bug pagemap cache work properly kernel unfortunately travis allows create intancies kernel need add workaround http github.com xemul criu issue 207 cyrill gorcunov gorcunov openvz.org dmitry safonov dsafonov virtuozzo.com signed andrei vagin avagin virtuozzo.com acked cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3524,95ae8ae566a6933a7ab1e1dd43a0948f65fdd182,yrill Gorcunov <gorcunov@openvz.org>, 2016-08-24 13:32:28 +0300, , restorer eliminate possible shadowing task_entries let make name unique shadow global instance gcc 6.x series cause problem gcc 4.9 series nikolay borisov kernel kyup.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3525,b5d2b6033afa2547b48eb0ce090c0b06b9da31a0,yrill Gorcunov <gorcunov@openvz.org>, 2016-08-24 13:32:27 +0300, , pstree make helper use holder variable task_entries variable declared external criu include pstree.h refers implicitly bad habbit name get propagated pie code local static variable eventually may shadow former copy gcc 4.9 series reported nikolay let make helper take variable name explicitly reported nikolay borisov kernel kyup.com signed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3526,4fd8f39669cf6609e87396d519ac861be75396d7,ndrei Vagin <avagin@virtuozzo.com>, 2016-08-24 23:09:00 +0300, , travis catch core dump file error case hard investigate travis fails something segfaulted let add core file handler provide required information test abrt.sh show process tree process mapping register backtraces change variable name signed andrei vagin avagin virtuozzo.com thanked dmitry safonov 0x7f454c46 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3527,dd7cfba0ae07fda683035536514e383bdb08a42e,ugene Batalov <eabatalov89@gmail.com>, 2016-08-22 16:40:15 +0300, , test new jenkins script testing leave stopped option similar jenkins script test similar option make new script signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3528,a43d29b7ef7f92e84db15d1c9f8657cc9da20405,ugene Batalov <eabatalov89@gmail.com>, 2016-08-22 16:40:14 +0300, , zdtm implement testing leave stopped criu option test doe checking dump restore checking done following way check every tree process stopped dead sigkill every tree process checking dump sigcont every tree process checking restore signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3529,985fbaac0e38960dfbfbaeb4bb3a651d5b6585b0,ndrei Vagin <avagin@virtuozzo.com>, 2016-08-20 03:12:00 +0300, , zdtm.py forget wait child process signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3530,ada6312984d9e23fe6d95b36e19198b98122e7f8,ndrei Vagin <avagin@virtuozzo.com>, 2016-08-20 03:18:00 +0300, , zdtm trigger bug futex return eintr hapen tty test get sighup signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3531,18c0fbc27c4c0d0e827c3421128906eb9c78f28c,ndrei Vagin <avagin@virtuozzo.com>, 2016-08-20 03:18:00 +0300, , zdtm.py check error case test crash log may signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3532,9f0c8075b6d9ae8c69afc8e3af49b6b29ee8bccc,ndrei Vagin <avagin@virtuozzo.com>, 2016-08-20 03:17:00 +0300, , zdtm.py used tab indentation signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3533,cd10a09fee6f7ec984b92446826a56654957f4ad,ndrei Vagin <avagin@virtuozzo.com>, 2016-08-20 03:12:00 +0300, , travis allow run two test parallel work faster check two criu process work concurrently signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3534,54febc11f46fe724362a444aa02e50903479c2ce,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-07-04 10:47:00 +0300, , zdtm ipc_namespace add msg_next_id sem_next_id shm_next_id sysctls set default leave uninitialized sometimes http jira.sw.ru browse psbm 48397 signed pavel tikhomirov ptikhomirov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3535,40f56d5dc3b99f90d2285065cca4c3f602609679,ugene Batalov <eabatalov89@gmail.com>, 2016-08-11 17:53:57 +0300, , test add test anon shmem dedup main test feature non trivial tree non trivial anon shmem region test exists tree process continuously writes part anon shmem vmas validates writes restore required dedup testing checking simultaneous changing anon shmem content different process signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3536,eadf47c609ea455df4e7aff1b4f7f46b2c8eda15,yodor Bocharov <bocharovfedor@gmail.com>, 2016-08-11 17:53:56 +0300, , shmem implement manual anon shared memory dedup use dumping restoring mechanism anon private anon shared memory implement manual deduplication shared anon memory way private anonymous memory also need rename pid parameter pas either pid shmid actual meaning depends flag pr_task pid pr_shmem shmid signed fyodor bocharov bocharovfedor gmail.com signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3537,6d192fabc6641cee685ddca19ce9770b336f8252,ugene Batalov <eabatalov89@gmail.com>, 2016-08-11 17:53:55 +0300, , shmem add anon shmem dumping predump command anon shmem dumping support page change tracking call predump signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3538,2986751d9a10d3a4c299328ba9f4ad647910d7fc,yodor Bocharov <bocharovfedor@gmail.com>, 2016-08-11 17:53:54 +0300, , shmem dump anon shared memory page according pme derived state allows dump anon shmem page changed since last dump dump anon shmem vma using page xfer page xfer doe magic storing in_parent field pagemap entry restoring simply read every page page read doe magic reading right place image hierarchy auto dedup restore already implemented page read need code signed fyodor bocharov fbocharov yandex.ru signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3539,0ddfaa9b9c2ddc268affa68e3186e34af3757599,yodor Bocharov <bocharovfedor@gmail.com>, 2016-08-11 17:53:53 +0300, , shmem implement pme derived page state tracking anon shmem page state tracking allows dump unused anon shmem page track anon anon shmem page state create bitmap bit bitmap correspond particular page bit store one page state pst_dont_dump pst_dump pst_zero pst_dirty number state enough decide page dump anon shmem peculiarity decide state page need examine pme bit process share page state derived pme bit one process may overriden page state derived pme bit another process see implementation override patch signed fyodor bocharov fbocharov yandex.ru signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3540,531c4aa42175eef0f6425203cdbb62afa3cfddbb,ugene Batalov <eabatalov89@gmail.com>, 2016-08-11 17:53:52 +0300, , mem export mem.c use decide dump anon shmem page signed pavel emelyanov xemul virtuozzo.com,,
3541,ebae2651d1150f3fb87b10433490ef858f265e34,yodor Bocharov <bocharovfedor@gmail.com>, 2016-08-11 17:53:51 +0300, , shmem pas anonymous shmem pagemap add_shmem_area would able analyze pagemap bit anonymous shmem page decide dirtiness usage dumpee process signed fyodor bocharov fbocharov yandex.ru signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3542,200ead9a8883a93a552569ca82171717abbf2419,ndrei Vagin <avagin@virtuozzo.com>, 2016-08-16 18:22:25 +0300, , proc move part fdinfo proc_parse.h fdinfo.h proc_parse.h generic bad idea include everywhere signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3543,62a849381063e74949df01092a7ea560e884956a,ndrei Vagin <avagin@virtuozzo.com>, 2016-08-16 20:18:15 +0300, , cgroup move function cgroup proc_parse.h remove dependence proc_parse.h cgroup.h type fix subject signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3544,d0d117986ef42066d6ffcba346a8e3ca6908d995,ndrei Vagin <avagin@virtuozzo.com>, 2016-08-16 20:16:56 +0300, , mount move function mount proc_parse.h remove dependece proc_parse.h mount.c type fix subject signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3545,f2d55d9483518a494ef26da4f67de38c086b6039,ndrei Vagin <avagin@virtuozzo.com>, 2016-08-16 18:22:22 +0300, , vma define dump_filemap_t twice file include vma.h proc_parse.h since dump_filemap_t declared gccs generate warning warning proc_parse.h 131 note previous declaration dump_filemap_tâ signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3546,afea47ea24ff644345d1fd51354e31e6210a6fc4,ikolay Borisov <kernel@kyup.com>, 2016-08-16 18:13:00 +0300, , move header around fix issue custom built glibc restorer.h eventually includes fcntl linux.h system file defines f_setpipe_sz f_getpipe_sz also defined criu header config base.h latter contains ifdef guard however arch x86 crtools.c included restorer.h cause gcc warning macro redefinition fix reordering header ensuring ifdef guard config base.h actually work signed nikolay borisov kernel kyup.com signed pavel emelyanov xemul virtuozzo.com,,
3547,42212bf8dab246e6936c8792180714fba60c55d8,mitry Safonov <dsafonov@virtuozzo.com>, 2016-08-16 22:11:26 +0300, , futex lock simplify little impact cleanup improve readability signed dmitry safonov dsafonov virtuozzo.com acked andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3548,f1d7964e268e7edc77596ead1d9125fbb71b8a42,mitry Safonov <dsafonov@virtuozzo.com>, 2016-08-16 22:11:24 +0300, , parasite align parasite args byte commit 64e74fab05f1 parasite handle error transport socket created futex parasite init args synchronize parasite criu initialization man futex platform futexes four byte integer must aligned four byte boundary checked kernel get_futex_key unlikely address sizeof u32 return einval need align parasite argument four byte mapping parasite blob page aligned address guarantee aligned four byte memory fix 00.013468 00.013470 putting tsock pid 22043 00.014024 error criu parasite syscall.c 541 futex returned unexpected error 00.014026 error criu parasite syscall.c 541 bug criu parasite syscall.c 541 andrew vagin avagin virtuozzo.com cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3549,1b809cda61758d14a522aeaed71b39a9bdb93d5b,ndrei Vagin <avagin@virtuozzo.com>, 2016-08-18 09:37:00 +0300,203, parasite use process stack unmap parasite blob process private memory dumped moment memory tracker reseted use process memory http github.com xemul criu issue 203 eugene batalov eabatalov89 gmail.com fyodor bocharov fbocharov yandex.ru mike rapoport rppt fix 101e3ba49d08 mem reset soft_dirty bit dumping vmas process signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3550,a4b48a2dcc8c5ab84a28a45c03cbc8d9c42dffa2,ycho Andersen <tycho.andersen@canonical.com>, 2016-08-12 17:31:00 +0300, , cgroup actually detect cgroupns bind mount correctly initially cgroupns patchset went ubuntu kernel nsroot argument mountopts allowed distinguish cgroupfs mount upstream kernel reasoning showed root field mountinfo cgroup mount look idential consider root mount wrongly detect mount bind mount instead let remember root path compare considering mount bind mount patch little ugly intorduces cgroup specific behavior generic code thus far able avoid one way deal might able add sb_equal hook fstype struct could compare mountinfos superblocks fall back mounts_sb_equal present leave specific code generic bit appear either way fine move cgroup specific code mounts_sb_equal signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3551,7b5de25f24729101d7bc5b91b5e27c2591163d2a,avel Emelyanov <xemul@virtuozzo.com>, 2016-08-12 14:09:52 +0300, , deprecate separate image rlimits itimers posix timer core rlims timer existed 1.3 people trying restore image generated old criu would upgrade signed pavel emelyanov xemul virtuozzo.com,,
3552,8c063fd23fa384a65eaf1bb615ccb2773d7ef809,avel Emelyanov <xemul@virtuozzo.com>, 2016-08-12 14:08:49 +0300, , criu introduce deprecated criu_deprecated option option would enable deprecated removed functionality convenience also possible set one via environment signed pavel emelyanov xemul virtuozzo.com,,
3553,c7e58be7010fc2b598a5f824026a7c4e41a86ff0,avel Emelyanov <xemul@virtuozzo.com>, 2016-08-11 14:25:00 +0300, , file even try move service descriptor serving fds file engine _may_ goto move_fd_from call recently added service transport avoid theoretical situation signed pavel emelyanov xemul virtuozzo.com acked andrei vagin avagin virtuozzo.com,,
3554,e7e9ece13e5a86f5e8a0f8254e3f35f00d277a8c,avel Emelyanov <xemul@virtuozzo.com>, 2016-08-10 19:28:00 +0300, , file create transport socket file thing e46ba88614 exists pipe unix socket ttys let use service transport well signed pavel emelyanov xemul virtuozzo.com,,
3555,54253380d5cf007a285385aea06bf0015548e051,ycho Andersen <tycho.andersen@canonical.com>, 2016-08-10 00:28:00 +0300, , cgroup treat specially similar f444f7fac40 need treat special property try write default value since 3.11 kernel written true default andrei vagin avagin virtuozzo.com signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3556,379215e1f1be3b962020edbce016794cc0d82167,ndrei Vagin <avagin@virtuozzo.com>, 2016-08-09 03:23:01 +0300, , zdtm check case root sub mntns read set systemd service signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3557,0661a8a4bdfb3972996bcf9d0c24fab1e9641fcc,ndrei Vagin <avagin@virtuozzo.com>, 2016-08-09 03:39:03 +0300, , mount create temporary directory tmp exists pivot_root requires place move old root currently temporary directory created work directory read actually use existing directory patch criu try use tmp exist criu creates temporary directory http bugs.openvz.org browse ovz 6778 give constant string mkdtemp signed andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3558,043fd0ee6cd2f434105550ec76a9e89380794609,mitry Safonov <dsafonov@virtuozzo.com>, 2016-08-08 15:57:17 +0300, , travis turn alpine build andrew vagin avagin virtuozzo.com signed dmitry safonov dsafonov virtuozzo.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3559,5d128a49a36de79af89b6c14fa7f26265485da14,yodor Bocharov <bocharovfedor@gmail.com>, 2016-08-07 16:11:11 +0300, , mem generalize page_in_parent function make extern want dedup anon shared memory need call page_in_parent need make extern also case anon shared mem bit per page change page_in_parent signature signed fyodor bocharov fbocharov yandex.ru signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3560,ea8b5dab4b1eda50034fc780a20a7090e9f43762,yodor Bocharov <bocharovfedor@gmail.com>, 2016-08-07 16:11:10 +0300, , page read xfer add ability open image hierarchy shmem order restore deduplicated anonymous shared memory need open parent pagemap image code open parent pagemap image already exists anonymous private memory need remove couple check existing code also need rename pid pas either pid shmid actual meaning depends pr_flags signed fyodor bocharov fbocharov yandex.ru signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3561,740305be9bf70e35404d74e003bb2a7e3e9f6dc1,yodor Bocharov <bocharovfedor@gmail.com>, 2016-08-07 16:11:06 +0300, , proc_parse collect longest shared vma size dedup anon shared memory need know longest size could create page cache appropriate size dumping page signed fyodor bocharov fbocharov yandex.ru signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3562,f960e432f605edba612c50558286bc3fd5bcc4fc,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-07-19 13:42:00 +0300, , ipc sysctl kernel msg_next_id sem_next_id shm_next_id three left ipc_kern_table checkpointed yet sure somebody really except criu consistent beter change  one sysctl_op xxx_next_id sysctl_op quiet slow one sysctl_op ipc_sysctl_req msg _default proc sys mqueue one mqueue signed pavel tikhomirov ptikhomirov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3563,df81b884d4a330f3df0e26b7dabd8e9059feaca5,mitry Safonov <dsafonov@virtuozzo.com>, 2016-07-12 19:17:00 +0300, , test add printf attribute test_msg ... fix misprint caught guess never fixed much possible bug one commit heh signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3564,c220f6da4613bdeb6f3e1646a05a8217ac5ca639,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:23:57 +0300, , sigframe prepare macro helper two sigframes x86 compat native sigframe differ need generalize modify sigframe macro helper mind sigframe_offset differ native compat task take sigframe parameter used following patch also renamed complement macro rt_sigframe_fpu pointer caller take result address rt_sigframe_fpu ... take rt_sigframe parameter address fpu_state pointer x86 depend native compat frame type check local sigframe type count address rsigframe see next commit laurent dufour ldufour christopher covington cov codeaurora.org cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3565,3a0c6fdd85b8144832a019777c9c73da1934c856,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:23:56 +0300, , arm restorer fix rt_ sigframe typo arm think better fix macro correctly expands sigframe.c may change future christopher covington cov codeaurora.org cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3566,e625ca7259e9ea3fd86f13f22da86be71a3c3058,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:23:55 +0300, , sigframe introduce x86 different sigframe_offset native compatible task next patch make sigframe_offset rt_sigframe macro depending rt_sigframe used allocation size want introduce rt_sigframe dependency rt_sigframe type let use porpose max sigframe offset native compat task cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3567,def237444d711a3ed4a0a51ff5e0e012430565f5,ravchenko Dmitrii <equivalence1@gmail.com>, 2016-05-02 18:46:05 +0300, , restorer implement restore tree stopped state patch add implementation leave stopped option criu restore cmd leave stopped passed process tree get sigstop detaching  signed kravchenko dmitrii equivalence1 gmail.com signed eugene batalov eabatalov89 gmail.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3568,c031417255f6a5c4409d15ff0b36af5f6e90c559,avel Emelyanov <xemul@virtuozzo.com>, 2016-08-15 15:40:05 +0300, , criu version 2.5 bug fix mostly release also came close dev branch x86 32bit support hopefully 2.6 2.7. lazy restore test able state still want kernel patch leave maintainer tree still wait signed pavel emelyanov xemul virtuozzo.com,,
3569,5d4cf6269fa253300d3050f9694ee37da215f2ad,gor Gorbunov <egor-mailbox@ya.ru>, 2016-08-09 16:15:00 +0300, , file reg find appropriate dir create link remap currently criu dump create link remap dir original file opened dir may exist link remap creation time okay create link remap dir mount point patch check existance every dir bottom original file path use first existing dir similar approach used criu restore ghost file creation signed egor gorbunov egor mailbox ya.ru signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3570,fad23922d8d5199ee06cfd95ff0de30e92d07c1b,ndrew Vagin <avagin@virtuozzo.com>, 2016-08-08 20:39:00 +0300, , zdtm check permission map_files stanislav kinsburskiy skinsbursky virtuozzo.com test b67d37d96fa0 proc_parse fix vma file open mode recognition signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3571,9028413292ea918f1dd7f6509b5a08ef5926147c,mitry Safonov <dsafonov@virtuozzo.com>, 2016-08-08 15:57:14 +0300, , make propagate config defines cflags problem defines array added cflags global makefile criu makefile include makefile.config add feature based config option defines need propagate new defines cflags array previously added ccflags defines defines useful crtools makefile let propagate feature defines cflags defines place cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3572,1d72d8015169b90b9c65fd96f46bbed07e55aa84,mitry Safonov <dsafonov@virtuozzo.com>, 2016-08-08 15:57:13 +0300, , make drop check build package use try adjust call try compare true instead drop additional rule check build package check rule cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3573,34996312c22848ca6953df821544e1071cb9b990,mitry Safonov <dsafonov@virtuozzo.com>, 2016-08-08 15:57:12 +0300, , build nmk simplify try return true false simplify use temporary file use dev null instead return true false way use inside rule without external call bash compare return see next patch use case cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3574,ce5a01f70e234340fb848dc9238a1d20a40d1a45,yodor Bocharov <bocharovfedor@gmail.com>, 2016-08-07 16:11:05 +0300, , vma rename longest priv_longest longest field vma_area_list struct store longest private vma size better name priv_longest done priv_size field signed fyodor bocharov fbocharov yandex.ru signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3575,e71b877e79dc050ecb1a9d4ec9ab9e84e28d71b3,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-08-07 09:55:00 +0300, , test zdtm_ct fix comment spacing signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3576,fafdfb475422fa7e2c238f1712f7552370c08fa8,ndrew Vagin <avagin@virtuozzo.com>, 2016-08-06 01:42:00 +0300, , faul inject check case parasite initialize command socket give fake address server socket signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3577,6e89dbbfccd57e9b78f73e57c5c50f65b0430d39,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-08-05 17:31:00 +0300, , systemd autofs restart.sh treat absence bindmount error autofs direct mount point without target mount top case bindmount nothing restore top autofs mount point signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3578,034bfe16c9970937211fdbcec7d3ecc57c75a939,ndrew Vagin <avagin@virtuozzo.com>, 2016-08-05 01:52:00 +0300,1, tcp leak file descriptor cid 164719 resource leak resource_leak leaked_handle handle variable going scope leak handle signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3579,290e238d0101e92d67464f8823169b0025c52c17,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-08-02 19:05:00 +0300, , file reg discover file system type file going dumped instead calling called found path reduces amount system call dump signed stanislav kinsburskiy skinsbursky virtuozzo.com acked andrei vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3580,f35f8a6ef40f44b55546c323e6de8b33e4cb7222,ir Kolyshkin <kir@openvz.org>, 2016-08-04 14:54:58 -0700, , contrib docker_cr.sh fix typo comment comand command signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3581,0eac990dee9088a86b9e770c06481dc01525a4e8,ir Kolyshkin <kir@openvz.org>, 2016-08-04 14:54:57 -0700, , image tty.proto fix typo comment presense presence signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3582,dee527301fd53bb35675ed1d509d8143f7c52f63,ir Kolyshkin <kir@openvz.org>, 2016-08-04 14:54:56 -0700, , criu fix typo comment cant irrelevent irrelevant sucess success prepartion preparation recepient recipient lenght length hexidecimal hexadecimal becuase responce response controll control existance existence alltogether altogether comparision comparison immediatly immediately happenned happened allready already simplier simpler succesfully successfully absense absence debug message transfering transferring error message reponse response signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3583,ffed8bb7b4b217a6b58303558ee1c906b134b9c8,ir Kolyshkin <kir@openvz.org>, 2016-08-04 14:54:55 -0700, , criu include fix typo comment initilize initialize immediatelly immediately carefull carefully transfering transferring descriptrs descriptor transfered transferred comparision comparison signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3584,42cc0ff6433919e3418c45c247d3c08c82b9e072,ir Kolyshkin <kir@openvz.org>, 2016-08-04 14:54:54 -0700, , ppc64 fix typo comming coming puting putting signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3585,27a59a65f4b367f3e3bc6833ffc8c5dabc1dc2ea,ir Kolyshkin <kir@openvz.org>, 2016-08-04 14:54:53 -0700, , syscall table fix typo signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3586,30a5b1f43a4c999a635f104cfc7cbf1a54d4ae17,ir Kolyshkin <kir@openvz.org>, 2016-08-04 14:54:52 -0700, , criu makefile fix typo signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3587,d7325fc6b7edbe742e4e21e12a38a840200b506c,ir Kolyshkin <kir@openvz.org>, 2016-08-04 14:54:51 -0700, , copying fix typo preamble signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3588,cb58aa84d6bfb3e6e0d1db202942ec136192b6ec,ir Kolyshkin <kir@openvz.org>, 2016-08-04 04:04:00 +0300, , prepare_pstree fixup reading kernel pid_max two fix reported coverity minor nitpick fix checking error open_proc fix buffer overflow max_ulong character long ret read return buf ret overrun buf make buf one character longer extra byte pas sizeof buf read fix call close right read fixup commit e68bded reported coverity cid 168505 168504 laurent dufour ldufour signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3589,c44683c13a1766709401da904ec82f8029391868,yrill Gorcunov <gorcunov@openvz.org>, 2016-08-02 18:34:00 +0300, , seize wait freezer complete processing tag currently use cgroup freezer seize task start freezer without waiting completion transition procedure seizing task read freezer task file using fgets fragile construction fgets internal buffer task read might exiting time freezing kernel freeze exiting task dying anyway fear might read pid even cgroup anymore reused another cgroup task thus let following use iteration freeze task waiting freezer change state collect seize task one pas example container playing take one iteration 00.013690 set criu one 00.013705 freezing process 1800000 attempst 100 step 00.013720 freezer.state thawed 00.013795 freezer.state freezing 00.113962 freezer.state frozen 00.113990 freezing process attempt done 00.114073 seize 240893 comm systemd success 00.114110 warn ptrace.c 121 unable interrupt task 240905 comm kthreadd operation permitted 00.114136 warn ptrace.c 121 unable interrupt task 240906 comm khelper operation permitted 00.114155 seize 240969 comm screen success 00.114166 seize 240970 comm sendmail success 00.114179 seize 240971 comm sendmail success 00.114189 seize 240972 comm saslauthd success 00.114202 seize 240973 comm crond success 00.114211 seize 240974 comm agetty success 00.114221 seize 240975 comm agetty success ... signed cyrill gorcunov gorcunov virtuozzo.com acked andrew vagin avagin gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3590,9fae23fbe292be7f041c599c03b1f84dadea5216,yrill Gorcunov <gorcunov@openvz.org>, 2016-08-02 18:34:00 +0300, , seize take timeout option account freezing process freezing process count anything rather attempt constantly increasing delay let rather following take timeout option account second default split 100 step frezing process check freezer status every 100 time look second default small high loaded container let increase second default skinsbursky frankly speaking particular case increasing interval nice network issue something usually freezing take second say 200ms otherwise take quite lot time step size growing time case criu waste hundred millisecond iterx say third iterx growing step size 100ms step look solid enough small produce lot syscalls large waste lot time previous scheme freezing usually taking half second growing step gorcunov belive able sepcify timeout allowed stas catch serieous problem freezer code http lkml.org lkml 2016 317 without feature would patch criu instead know would great keep catching kernel bug reported stanislav kinsburskiy skinsbursky virtuozzo.com signed cyrill gorcunov gorcunov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3591,5a43e55e24f6d00624abf467a31b1a631527499e,yrill Gorcunov <gorcunov@openvz.org>, 2016-08-02 18:34:29 +0300, , log print version startup debug sake signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3592,e46ba88614acfec0719f889b7cb09a41f13f7f41,ndrew Vagin <avagin@virtuozzo.com>, 2016-07-29 09:41:00 +0300, , file create transport socket file unix dgram socket address connected somewhere use one socket process return non zero code error case signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3593,3e840917c944d7dcbb0ef353cdec6f2a0f0a03cb,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-08-02 16:46:00 +0300, , zdtm.py check link remap file presence test end file removed successful restore  check link remap file test link remap option descriptor signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3594,2eb1dde66b8824ff3332bb4c58524e1b3ab22314,ndrew Vagin <avagin@virtuozzo.com>, 2016-07-30 06:34:00 +0300, , namespaces use fstatat instead readlink get namespace kernel faster need parse string signed andrew vagin avagin virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3595,64e74fab05f1ea77737a02550ef29bbaa55c56bd,ndrew Vagin <avagin@virtuozzo.com>, 2016-07-28 21:41:00 +0300, , parasite handle error transport socket created currently socket connect syscall failed parasite cure criu got signal wait accept patch add futex synchronize parasite criu server socket created sock_nonblock wait futex parasite connects criu call accept return immediately reported yohei kamitsukasa uhoidx gmail.com yohei kamitsukasa uhoidx gmail.com signed andrew vagin avagin virtuozzo.com reviewed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3596,7d95face06a9f86e885df019b1babd5ccf2af8e7,ndrew Vagin <avagin@virtuozzo.com>, 2016-07-13 05:16:00 +0300,168, tcp dump restore window parameter found sometimes restored tcp socket work reason bug incorrect window parameter case return tcp_wnd_end instead snd_nxt side drop packet seq seq rcv_nxt tcp_sequence need restore window parameter avoid side effect http github.com xemul criu issue 168 signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3597,f3b730d0e2c25b5c5024420d3227baf19e53fdfa,ndrew Vagin <avagin@virtuozzo.com>, 2016-07-14 00:11:00 +0300, , kerndat check option new option get set window parameter check unprivileged user tcp_repair protected cap_net_admin signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3598,488fc072a5ca2ff99f740998bdf40146f14a2641,aterina Koukiou <k.koukiou@googlemail.com>, 2016-07-25 17:26:00 +0300, , mount resolve parent mount symbolic link correctly using root option criu dump mountpoint passed contains symbolic link criu doe resolve parent correctly e.g passing root run rootfs dump finish successfully var run rootfs passed var run symbolic link run exit error new root old root signed katerina koukiou k.koukiou gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3599,227ffd3e40db5dba63ee47523e6f07a5ad8fd8ac,irill Tkhai <ktkhai@virtuozzo.com>, 2016-07-20 13:13:03 +0300, , proc_parce fix assignment ns_mountpoint realloc may move memory chunk case shrink new signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3600,9c7a234b3ed9a53e10eb0ef0b6d8df6c829595e0,avel Emelyanov <xemul@virtuozzo.com>, 2016-08-05 12:42:27 +0300, , travis run unshare test available dev branch signed pavel emelyanov xemul virtuozzo.com,,
3601,da9315d8d04851256aaefa47a62ae2c3745021ac,mitry Safonov <dsafonov@virtuozzo.com>, 2016-07-07 14:51:55 +0300, , exec initialize kdat task_size criu exec criu exec searching place syscall injection searching vma prot_exec needed size check vma lower task_size callpath cr_exec get_vma_by_ip firstly thought omit kdat.task_size checking inited vma_area start kdat.task_size kdat.task_size think hack proper solution besides code still choose vma task_size arm try inject syscall iirc arm kernel mapped vma area let init kdat.task_size criu exec also let init could exec compatible application christopher covington cov codeaurora.org andrew vagin avagin virtuozzo.com cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com reviewed christopher covington cov codeaurora.org signed pavel emelyanov xemul virtuozzo.com,,
3602,3693c5e6f9317fe7782f7d169c34f2466b64522c,mitry Safonov <dsafonov@virtuozzo.com>, 2016-07-18 22:22:47 +0300, , build nmk declare build recursive working build declared expanded entering submake function call build ... performed second expansion build con build work sub makefile sub sub makefile upper top makefile simplify single build variable used _only_ makefile sub makefiles fine file call make build dir call build makefile dir include main.mk nmk build definition include.mk future get rid build build workarounds finally switch building global makefile cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3603,7a3604845d50e6a203d09a47b4d3fccf33dd9c30,mitry Safonov <dsafonov@virtuozzo.com>, 2016-07-18 22:22:48 +0300, , build make return make top directory look like much need fixed building criu top directory patch possible make criu mount.o i.e build protobuf compel dependency built criu object something break make vim jump error nice mostly patch corrects pathes object tried make depend obj src_dir criu possible tested make make criu log.o make clean make mrproper make install destdir tmp criu make uninstall destdir tmp criu note improperly called patch return make top makefile mean friday patch yet switch top makefile building step way building top makefile need correct pathes makefiles also add ability build object subdirectory etc cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3604,a9a62403135e2b68fe49b7061a0d6555fc5c8af1,ycho Andersen <tycho.andersen@canonical.com>, 2016-07-23 02:44:00 +0300, , restore handle case zombie reparented example zombie helper set session zombie reparented init task potentially get sigchld task direct child zombie handle instead let find zombie init task case get reparented way zombie need recursively collected helper wait child exit never reparented root task wait zombie reported tycho andersen tycho.andersen canonical.com tycho andersen tycho.andersen canonical.com signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3605,1727742f8cf7bc794b014ca7f2269afa013a8b94,yrill Gorcunov <gorcunov@openvz.org>, 2016-07-26 01:02:00 +0300, , mount sysfs use slave mounting root seems snippet escaeped commit  may get ebusy signed cyrill gorcunov gorcunov openvz.org acked andrey vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3606,ceddac391f8ec0ef6d3162222c1e48f2774a363e,mitry Safonov <dsafonov@virtuozzo.com>, 2016-07-22 18:50:00 +0300, , util vdso correct vdso symbol length vdso_symbol_max max number symbol max length fix buggy commit 4c69339cd2b7 string.h pie use builtin strncmp instead strcmp sorry bogus misprinting cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3607,42cc04fc98754d80d07d4c8e8a55e3240c631c9f,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-07-22 17:10:00 +0300, , pstree bump kernel pid_max value needed restoring different node may happen pid_max one pid wanted recreate lead restore error cloning restarted process 00.011172 forking task 44794 pid flag 0x0 00.011205 error restore.c 1008 44794 write 44793 sys kernel ns_last_pid invalid argument patch computes largest pid value set kernel pid_max necessary user permission restart failing mentioning push pid_max limit signed laurent dufour ldufour signed pavel emelyanov xemul virtuozzo.com,,
3608,e673c7d6ebeecd2410882d3ad036f31dd2df5f2b,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-07-14 15:49:32 +0300, , criu page xfer add helper function dumping hole signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3609,64725769c6f38e55d469564399dd31b8745c562d,mitry Safonov <dsafonov@virtuozzo.com>, 2016-07-15 22:28:00 +0300, , cgroup drop useless name variable collect_cgroups look like completely needed criu cgroup.c 582 warning value stored name never read name name  signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3610,40a37ae755b0dfb5ec5bfd116023b788d85005cb,ycho Andersen <tycho.andersen@canonical.com>, 2016-07-19 17:41:00 +0300, , unix handle unlink failure correctly instead returning revert cwd error path cid 164720 resource leak resource_leak criu unix.c 1030 bind_unix_sk 1024 goto done 1025 1026 1027 1028 deleted unlink char name.data 1029 pr_perror failed unlink name.data cid 164720 resource leak resource_leak handle variable cwd_fd going scope leak handle 1030 return 1031 1032 1033 1034 state tcp_listen 1035 prepared signed tycho andersen tycho.andersen canonical.com andrew vagin avagin virtuozzo.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3611,69c6960139f30356e2a62927d8e4f31814ac244f,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-07-19 19:13:00 +0300, , fix minor printf format restore printf format mixing prefix already managed lead log line like 00.053282 38744 found bootstrap vma hint 0x0x100000 need 576k signed laurent dufour ldufour signed pavel emelyanov xemul virtuozzo.com,,
3612,66f7d2f7bc1f39fa5a570c9640e1f5871a71345c,ycho Andersen <tycho.andersen@canonical.com>, 2016-07-19 18:56:00 +0300, , namespaces skip cgroup namespace instead let skip fork signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3613,ced9c529f687db33fdf222afa44f275223bb3ed1,ycho Andersen <tycho.andersen@canonical.com>, 2016-07-13 15:10:56 +0000, , restore fix race helper kid dying early masked sigchld fact late zombie die time function called lead getting unexpected death instead mask sigchld helper finish since explicitly going wait kid make sure die anyway signed tycho andersen tycho.andersen canonical.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3614,dfe5f4e586f063aeab424dca86519d7bd8d0dd8c,ycho Andersen <tycho.andersen@canonical.com>, 2016-07-13 15:10:55 +0000, , test add test case helper zombie child drop bin test deps wait zombie make sure exit signed tycho andersen tycho.andersen canonical.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3615,d5bee200a103cc1466aa98007ccc955a57ba4dc6,ycho Andersen <tycho.andersen@canonical.com>, 2016-07-13 15:10:53 +0000, , test wait pid spawned next patch introduce option allow leaving zombie process pid test test behavior zombie let reap everything restore since reap restored zombie well restore old behavior reap mode andrey vagin avagin openvz.org signed tycho andersen tycho.andersen canonical.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3616,b3c42b28a9b16317a0d2736b01484db693b6528d,ycho Andersen <tycho.andersen@canonical.com>, 2016-07-13 15:10:54 +0000, , test add zdtm_noreap variable use variable next test make sure test suite accidentally reap zombie want leave around actual test kind ugly might better way pas information test init open suggestion andrey vagin avagin openvz.org signed tycho andersen tycho.andersen canonical.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3617,67960bbdb3f95ff7ef8425a281ddd64501ff0fd3,ndrew Vagin <avagin@virtuozzo.com>, 2016-06-27 17:52:00 +0300, , zdtm.py check permission memory mapping signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3618,794ad7bc464801a34a224270805b97b4d21b1830,avel Emelyanov <xemul@virtuozzo.com>, 2016-07-16 12:24:00 +0300,180, sysvshm mprotect segment prot_exec fixing mprotected sysvshmems used prot_exec flag keep information whether segment flag leaked sys_mprotect attachment segment became executable restore fix dropping exec flag http github.com xemul criu issue 180 reported andrey vagin avagin openvz.org signed pavel emelyanov xemul virtuozzo.com acked andrew vagin avagin virtuozzo.com,,
3619,e6cf406164515db2d04d5a829b3cba33fcd821df,ndrew Vagin <avagin@virtuozzo.com>, 2016-07-18 21:40:00 +0300,1, restore check tcore thread_core always null cid 164716 dereference null check forward_null 64. var_deref_model passing tcore dereferences null tcore thread_core show detail signed andrew vagin avagin virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3620,dde7fae6178c9804afa315502eaabbb0422c55be,mitry Safonov <dsafonov@virtuozzo.com>, 2016-07-18 22:22:46 +0300, , make version header criu make generated cleaned top makefile signed dmitry safonov dsafonov virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3621,8c3da46a707fe3a992b34b06e38912cb0b926b42,mitry Safonov <dsafonov@virtuozzo.com>, 2016-07-18 22:22:45 +0300, , make add simplify think simplify criu makefile moving package check special makefile need make criu target depend check package cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3622,98b136f60d76854ddc17e8ae784989ca61cad0c7,mitry Safonov <dsafonov@virtuozzo.com>, 2016-07-18 22:22:44 +0300, , make simplify checking installed library impact use dev null output drop temporary file cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3623,d13be2f85a806ed4348b1c85bb9eafe5faa63130,ndrew Vagin <avagin@virtuozzo.com>, 2016-07-18 21:23:00 +0300, , seize fix memory corruption 277 cid 164718 memory corruption overrun overrunning array stackbuf 2048 byte byte offset 2048 using index ret evaluates 2048 278 stackbuf ret signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3624,3de0f49a415df097cfadf15cf571f5413e7272ba,ndrew Vagin <avagin@virtuozzo.com>, 2016-07-18 21:23:00 +0300, , seize leak file descriptor 267 stack 268 pr_perror log stack pid cid 164721 resource leak resource_leak variable going scope leak storage point 269 return signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3625,93e922238dff66cd402166bec120b021cc114309,ndrew Vagin <avagin@virtuozzo.com>, 2016-07-16 00:31:00 +0300, , criu check ghost file cleaned error case signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3626,10af342f315b44bbc15919dfa0e2b1baa2a9f0fa,ndrew Vagin <avagin@virtuozzo.com>, 2016-07-16 02:44:00 +0300, , mnt clean root yard openning file root yard used clean ghost file called code switching mount namespaces moved  call clean_remaps process restored host mount namespace called root task finishing moved criu process clean_remaps clean_remaps root yard called openning file moment sure link remap file removed     prepare_fds open_vmas  clean_remaps something fails called  try_clean_ghost  print_ns_root snprintf buf mnt_roots mnt_roots actually called root yard signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3627,313c6d61c37d69a25e7fa1dad4f02d324fc2af79,mitry Safonov <dsafonov@virtuozzo.com>, 2016-07-15 22:28:47 +0300, , pstree check thread core allocated freeing look like possible core thread allocated allocation failed dereference null pointer check pointer pstree.c warning access field result dereference null pointer loaded variable core core core timer  signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3628,0d45dd691ee3da76024e8e03c7c1915c99f5de06,mitry Safonov <dsafonov@virtuozzo.com>, 2016-07-15 22:28:46 +0300, , plugin free allocated plugin descriptor plugin.c 123 warning potential leak memory pointed dlclose  signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3629,08ed62d761cddc3ac768c02dce34d73a1f6a4a55,mitry Safonov <dsafonov@virtuozzo.com>, 2016-07-15 22:28:45 +0300, , path drop redundant local scope var writes path.c warning value stored len never read len  path.c warning value stored path never read path  signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3630,d4c320a5b761093ab6cdd1ff54e127793148b4e7,mitry Safonov <dsafonov@virtuozzo.com>, 2016-07-15 22:28:44 +0300, , pagemap init pagemap entry array null call close_page_read failure also failure init_pagemaps pmes uninitialized free_pagemaps try walk call xfree surely would lead crash pagemap.c 317 warning branch condition evaluates garbage value pmes  signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3631,2799454839d88869cdba411857184d8b80a64fb0,mitry Safonov <dsafonov@virtuozzo.com>, 2016-07-15 22:28:43 +0300, , restore move pid variable local scope restore.c 1516 warning value stored pid initialization never read pid_t pid item pid.real  restore.c 1570 warning value stored pid initialization never read pid_t pid item pid.real  signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3632,8ea1bee49dba20df16bc604795dde737ca861ab1,mitry Safonov <dsafonov@virtuozzo.com>, 2016-07-15 22:28:42 +0300, , dump forget free mme.vmas ... dump.c 515 warning potential leak memory pointed mme.vmas return ret  signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3633,f7e8eae48f2875b94696e26d5910ea776a35ea52,mitry Safonov <dsafonov@virtuozzo.com>, 2016-07-15 22:28:41 +0300, , cgroup forget deallocate set like free cgroup.c 890 warning potential leak memory pointed cg.sets return  signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3634,8f95747e00ccc1f359cd42a06bc56db4d103ef48,mitry Safonov <dsafonov@virtuozzo.com>, 2016-07-15 22:16:00 +0300, , criu util double free simplify xvstrcat bug vsnprintf wrote nothing buffer may xstrcat something like vsnprintf return value lesser delta code would following first cycle relocate str new str allocated anymore vsnprintf retured delta greater second cycle relocate previously freed str new segmentation fault core dumped weeell think better job signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3635,628b12586635ee26b4a467911e3bfeac4b258bce,ndrew Vagin <avagin@virtuozzo.com>, 2016-06-16 01:04:00 +0300, , zdtm.py check restore criu dump run non root user signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3636,de76a07e0a7d5fd3d6435d5ec316cce811b725d9,ycho Andersen <tycho.andersen@canonical.com>, 2016-07-12 18:53:20 -0600, , cgroup try write default value little bit hack problem actually write value set default additionally hack like unsetting writing bit set parent unsetting fail restore succeed thing configured correctly initially default annoying test plus case systemd child cgroups ever unset root anyway meaning could never actually restore correctly instead let try write default value probably everyone using anyway signed tycho andersen tycho.andersen canonical.com andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3637,3c2c69bf308cf70d4dcbcbf8de9055d6b43ddf11,ycho Andersen <tycho.andersen@canonical.com>, 2016-07-12 18:53:19 -0600, , cgroup make memory swappiness use_hierarchy special property kernel must written child cgroups 3.11 must written child cgroups let consider special property kernel signed tycho andersen tycho.andersen canonical.com andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3638,9803bd2c2d15e69ef1840bfe070669b87e0df3a2,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-07-04 10:47:00 +0300, , zdtm ipc_namespace add msg_default msgsize_default move fs.mqueue.xxx signed pavel tikhomirov ptikhomirov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3639,3f976d59054fec7b104adaeb6195ae10b08cd09e,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-07-04 10:47:00 +0300, , ipc sysctl already fs.mqueue.xxx sysctls proc sys mqueue msg_default read write file setting getting default number message queue value attr parameter mq_open null exceed msg_max default value initialized msg_max proc sys mqueue msgsize_default read write file setting getting default message size value attr parameter mq_open null exceed msgsize_max default value initialized msgsize_max remove check kernel sysctls support old kernel v3.5 signed pavel tikhomirov ptikhomirov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3640,99088d6b603538e68129b2c40dc46e68d1d23f1f,ndrew Vagin <avagin@virtuozzo.com>, 2016-07-14 21:44:18 +0300, , travis run test others exec signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3641,d4f01fa532a66a652852ceae243ea071a64f8347,ndrew Vagin <avagin@virtuozzo.com>, 2016-07-14 21:44:17 +0300, , test check criu exec signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3642,a433cdf0997e46e131544ec0c94f7c834ac14aaf,ndrew Vagin <avagin@virtuozzo.com>, 2016-07-14 21:44:16 +0300, , exec initialize cred pointer null error arch x86 crtools.c failed get auxval err 2103 conditional jump move depends uninitialised value 2103 0x46f073 seize_wait_task ptrace.c 238 2103 0x437592 cr_exec exec.c 137 2103 0x41f6fc main crtools.c 789 signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3643,3c252f3dfe35b0a64f8bd7e719d8d48f63440849,ndrew Vagin <avagin@virtuozzo.com>, 2016-07-14 21:44:15 +0300, , exec return non zero code error case root fc22 criu criu criu exec 27573 dup21 error exec.c 164 unknown syscall dup21 root fc22 criu echo  signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3644,941393acd9e4926688b998a92b6248c4908c6e4d,ndrew Vagin <avagin@virtuozzo.com>, 2016-07-14 21:44:14 +0300, , criu add dup2 syscall required exec test signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3645,f0d1bf61c1a4a7ce344e4bf37a7fea612741f6b2,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-07-14 16:51:10 +0300, , sysctl append patch one need zero init char buffer giving sysctl_op convenient remove restriction signed pavel tikhomirov ptikhomirov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3646,24a528fd777c6802e35c2a2c596d34d6ed056046,ndrew Vagin <avagin@virtuozzo.com>, 2016-07-14 00:47:00 +0300, , pre dump handle seized task previous patch skipped zombie pre dump support stopped task doe support let handle task parasite_ctl mike rapoport rppt signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3647,96caa4da4a3a481f9e82043018c6b2f316ed412f,ycho Andersen <tycho.andersen@canonical.com>, 2016-07-13 21:08:00 +0300,191, test rename directory test run jenkins var lib jenkins workspace criu criu restore sibling criu dev test zdtm static make whole path long commit make whole path var lib jenkins workspace criu criu restore sibling criu dev test zdtm static sock 105 char 108 sun_path close 191 signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3648,598daf5067ea5de8c515d2f5fb26877c7aa6ef0d,avel Emelyanov <xemul@virtuozzo.com>, 2016-07-13 17:01:15 +0300, , introduce page pipe flag already bool struct going 4th time turn classical flag signed pavel emelyanov xemul virtuozzo.com,,
3649,cc2eb88cbcb6411aa4b8e6a921fd2f2d611e283b,ycho Andersen <tycho.andersen@canonical.com>, 2016-07-11 18:41:00 +0300, , dump freezing fails log unfrozen task stack freezing sometimes fail due timeout case sometimes kernel bug task deadlocked would useful know kernel stack see task hung note racy task might still freeze logging various stack might miss thing case deadlock catch wrong log stack instead unfrozen task signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3650,fd61aff79dff0b835a45ef2e6c94f4a1e4e4fdb3,ndrew Vagin <avagin@virtuozzo.com>, 2016-07-10 19:52:00 +0300,189, pre dump skip dead task program terminated signal sigsegv segmentation fault ret dump.c 1452 1452 pr_info tpre dumping ctl pid.virt gdb ret dump.c 1452 pid pid entry dump.c 1556 main argc optimized argv 0x7ffda430e818 envp optimized crtools.c 753 http github.com xemul criu issue 189 mike rapoport rppt signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3651,57a691f6cc1200403089b9cc6789cda6c3cf572d,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-06-30 19:24:00 +0300, , proc_parse fix vma file open mode recognition current code smth like file opened o_wronly mode simply lost file opened o_rdwr mapping private resulting mode o_rdonly correct place get open flag file mapping proc pid map_files attempt speculate shared maywrite bit garantee file opened correct permission restore example process mapping read write cat proc 481943 map grep 7f7108077000 7f7108078000 7f7108077000 7f7108078000 00001000 snip suspend proc 481427 map_files 7f7108077000 7f7108078000 lrw snip proc 481427 map_files 7f7108077000 7f7108078000 snip restore proc 481943 map_files 7f7108077000 7f7108078000 snip proc 481943 map_files 7f7108077000 7f7108078000 snip write bit lost patch set vma fdflags proc pid map_files vma open mode signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3652,8112ad768eeb0bcec66d258f63c26e9785bb606e,mitry Safonov <dsafonov@virtuozzo.com>, 2016-07-07 14:51:56 +0300, , parasite syscall cure task without parasite unmap case criu exec insert parasite daemon inside task daemon could unmap reason unmap remote_map hand raw syscall andrew vagin avagin virtuozzo.com cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3653,8876c4bbb8db0f2e39c1e321e33a711236136fb8,ndrew Vagin <avagin@virtuozzo.com>, 2016-07-08 02:18:53 +0300, , travis add docker file build alpine linux signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3654,9c46e087efa175673ea6e412c029bac933017212,ndrew Vagin <avagin@virtuozzo.com>, 2016-07-08 02:18:52 +0300, , travis build test separate job signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3655,fe45e3626aba5a86939bd6cfebe8508e2b679c52,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-29 17:24:39 +0300, , make test generate .gitignore test quite boring add test .gitignore one may forget boilerplate put labour computer make real target test instead implicit add test binary name .gitignore make stage also added .pidns .gitignore wan separate trivial patch cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3656,3cbde46dbaba8770f00dadad84574e2142dd2419,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-29 17:24:38 +0300, , make test drop dependency dead code static transition test built implicit rule cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3657,3cbda075b5041f28c790c3b96643abb834b77809,ndrew Vagin <avagin@virtuozzo.com>, 2016-07-05 23:59:00 +0300, , namespace mark mount namespaces populated forking stage currently mark mount namespaces populated target process ns_pid switch process inherited right namespace parent call namespace remain unmarked af55c059fb6 mount fix race restoring namespaces file mapping patch could simplify logic around ns_populated currently futex nodoby wait set ns_populated going close namespace descriptor avoid additional lock task pas forking stage start next stage add comment wait stage signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3658,0a68b6297c304bbca9d862f68618fe961adf6cf1,ycho Andersen <tycho.andersen@canonical.com>, 2016-07-05 15:15:06 +0000, , test add failing test standalone unix socket open two socket one top also drop unnecessary unlink rely rename signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3659,155eb72b6935248bb0dda9bee5a1b81f3aa11f86,ycho Andersen <tycho.andersen@canonical.com>, 2016-07-05 15:15:07 +0000, , unix drop path unix socket exist standalone unix socket listen fail called bind actual address remove name dump call bind thus socket state fail restore temporarily rename unix socket way necessary order bind correctly delete e.g two unix socket bound top remove extra unlink real unlink bind_unix_sk need signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3660,daeb9129e1a852727282633fef0dc149ea6152eb,yrill Gorcunov <gorcunov@openvz.org>, 2016-06-30 22:04:00 +0300, , dump file ext show exactly file dumped suitable debugging problem signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3661,f6df5d078937b0693a0cea04043c6fd8c30e33d3,irill Tkhai <ktkhai@virtuozzo.com>, 2016-06-28 22:08:00 +0300, , zdtm make file_locks04 test based proc pid fdinfo proc lock racy adding removing lock may lose lock check use fdinfo list lock instead feature fdinfo_lock signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3662,ab237b1090c9df232cfa830e955ec84197bd6f30,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-07-07 11:21:53 +0900, , criu mem initialize parasite_ctl mem_pp apparently got lost rebase signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3663,9205fc3decf5e68bca64a6c493f00ba000dcd094,ndrew Vagin <avagin@virtuozzo.com>, 2016-07-06 05:01:59 +0300, , travis add test maximise code coverage signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3664,87270c8147d5e0c8d10d9daae82a0f71d2aaa30d,ndrew Vagin <avagin@virtuozzo.com>, 2016-07-06 05:01:58 +0300, , others mnt ext dev force mke2fs create filesystem required specify file instead block device signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3665,fc10a4098f33515342b2bc15fff66d0e573e7606,ndrew Vagin <avagin@virtuozzo.com>, 2016-07-06 05:01:57 +0300, , travis set gcov zdtm.py required collection full report test executed separate mount namespaces signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3666,d2bb4ee446a77567d46458eaf0cb1cb358eb8c49,mitry Safonov <dsafonov@virtuozzo.com>, 2016-07-06 16:47:00 +0300, , travis fix yandex url package andrew vagin avagin virtuozzo.com signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3667,5d846ccd387a715f79599152156a281f480446b7,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-06-29 08:55:00 +0300, , criu slightly refactor memory dump support delaying keep pointer parasite_ctl dmp_info simplify pre_dump_finish make pre_dump dump interface pas boolean rather pp_ret pointer distinguish delayed immediate dump explicitly signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3668,1b7537f762c67d128fe4a53455d275cc97127dbc,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-06-29 08:55:06 +0300, , criu page pipe add ability allocate iovs collection dumpee page followed parasite operation share iovs parasite args area page pipe bonus get simplification dump_one_shmem signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3669,7592d28d89ca851a23d7f662633eda10abfb698e,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-28 22:24:07 +0300, , page xfer add helper dumping single hole xemul extract patch page xfer dump compatible iovec make rebase simpler cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3670,9a97e0ca3510adcad8af0318cb456b667fed0e54,avel Emelyanov <xemul@virtuozzo.com>, 2016-07-11 13:43:45 +0300, , criu version 2.4 time bunch new feature cgroup stuff autofs coredump image etc virtuozzo guy released vz7 rtm fixed lot bug criu plus ancient stuff removed signed pavel emelyanov xemul virtuozzo.com,,
3671,90098fe841445cfed14646f5185446dfdea0098a,avel Emelyanov <xemul@virtuozzo.com>, 2016-07-09 23:47:14 +0300, , test fix flake8 error end line runaway 66299a00 signed pavel emelyanov xemul virtuozzo.com,,
3672,221867c5f760a119a252efa9d154e84caabe3f47,ndrew Vagin <avagin@virtuozzo.com>, 2016-07-05 21:45:35 +0300, , criu fix build alpine signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3673,09a2afe07ee0de172b13ec105a95d0102fe2bfcf,drian Reber <areber@redhat.com>, 2016-07-05 21:45:34 +0300, , criu almost fix building alpine linux seems different libc musl alpine linux produce different error usual glibc patch fix include error two error yet resolved alpine linux libc musl proc_parse.c function proc_parse.c 2125 error sigev_thread_id undeclared first use function timer sigev_thread_id proc_parse.c 2125 note undeclared identifier reported function appears seems difficult fix including linux signal.h provides define generates different error message related time.h linux time.h collision yet clear additional guard would help header file fsnotify.c function open_by_handle fsnotify.c 107 error implicit declaration function werror implicit function declaration return arg o_path function provided alpine linux libc musl patch resolve following error warning tested rhel7 x86_64 powerpc64le fedora service.c function cr_service service.c 1082 error passing argument accept incompatible pointer type werror incompatible pointer type accept server_fd client_addr client_addr_len  file included usr include fortify sys socket.h service.c usr include sys socket.h 301 note expected struct sockaddr restrict argument type struct sockaddr_un int accept int struct sockaddr __restrict socklen_t __restrict  cc1 warning treated error files.c function files.c 845 error passing argument bind incompatible pointer type werror incompatible pointer type ret bind sock saddr sun_len  file included usr include fortify sys socket.h files.c usr include sys socket.h 298 note expected const struct sockaddr argument type struct sockaddr_un int bind int const struct sockaddr socklen_t  cc1 warning treated error file included fsnotify.c usr include sys poll.h error warning redirecting incorrect include sys poll.h poll.h werror cpp warning redirecting incorrect include sys poll.h poll.h  cc1 warning treated error file included root criu criu include timerfd.h root criu criu include restorer.h arch x86 crtools.c root criu criu include files.h error field stat incomplete type struct stat stat file included arch x86 vdso pie.c root criu criu include syscall.h error unknown type name loff_t extern long sys_pread unsigned int char buf size_t count loff_t  root criu criu include syscall.h error unknown type name clockid_t extern long clockid_t which_clock struct sigevent kernel_timer_t  root criu criu include syscall.h error unknown type name clockid_t extern long const clockid_t which_clock const struct timespec  file included netfilter.c usr include wait.h error warning redirecting incorrect include wait.h sys wait.h werror cpp warning redirecting incorrect include wait.h sys wait.h  cc1 warning treated error pie restorer.c function pie restorer.c 1276 error lock_ex undeclared first use function ret sys_flock lock_ex  pie restorer.c 1276 note undeclared identifier reported function appears pie restorer.c 1310 error lock_un undeclared first use function ret sys_flock lock_un  unix.c function unix.c 1169 error passing argument connect incompatible pointer type werror incompatible pointer type connect addr sizeof addr.sun_family  file included usr include fortify sys socket.h unix.c usr include sys socket.h 299 note expected const struct sockaddr argument type struct sockaddr_un int connect int const struct sockaddr socklen_t  cc1 warning treated error criu.c function criu.c 169 error implicit declaration function strdup werror implicit function declaration opts rpc parent_img strdup path signed adrian reber areber redhat.com signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3674,7d09451721f81e5a6208ba6dd7f7bac1d29c141b,ycho Andersen <tycho.andersen@canonical.com>, 2016-07-08 15:09:56 +0000, , test expand list cgroup device written hopefully would trigger type bug took list straight adrian report signed tycho andersen tycho.andersen canonical.com adrian reber adrian lisas.de tested adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
3675,0e83397d17abe2a551ee3678405d274de009a15d,ycho Andersen <tycho.andersen@canonical.com>, 2016-07-08 15:09:55 +0000, , cgroup write one device entry time seem report error cgroup.c 1193 failed writing  rwm rwm rwm rwm rwm rwm rwm 136 rwm 229 rwm device lxc devices.allow argument list long let try write line one one instead simply advancing pointer along string probably cleaner way anyway signed tycho andersen tycho.andersen canonical.com adrian reber adrian lisas.de tested adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
3676,499f926faab1d5336daec75a6916c661d39ce22d,ndrey Vagin <avagin@openvz.org>, 2016-07-07 18:26:00 +0300, , parasite include syscall codes.h get parasite syscall.o parasite syscall.c function parasite syscall.c 1223 error undeclared first use function ret syscall_seized ctl sret signed andrey vagin avagin openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3677,123551cc7644513f838fafefaef4beb630f08429,ycho Andersen <tycho.andersen@canonical.com>, 2016-07-01 17:23:44 +0000, , test test multi line cgroup device restored correctly signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3678,31e2d895f93efa93a9f5424552fb945673b4989e,ycho Andersen <tycho.andersen@canonical.com>, 2016-07-01 17:23:43 +0000, , cgroup restore devices.deny line line kernel read first line write let write line line right far know devices.deny cgroup property must written line line could move code expect though signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3679,0adf80cd31aacaa67e784e63d4921dc96208ba64,ugene Batalov <eabatalov89@gmail.com>, 2016-06-28 20:22:00 +0300, , file reg move remaps unlink code single function signed pavel emelyanov xemul virtuozzo.com,,
3680,aaf87286de425d416434cddcc14eec368be46a1f,ugene Batalov <eabatalov89@gmail.com>, 2016-06-24 23:38:00 +0300, , zdtm add link remap opt test desc link remap opt obligatory test without criu dump fail able create link remaps signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3681,59a16f7266d9748b37b44a83915e5038a1f0f553,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-24 13:47:00 +0300, , signal arm32 copy whole rt_sa_mask wounder ever working arm32 maybe get code right christopher covington cov codeaurora.org cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3682,ac21d41749d4cec4a1076ca0485f6c1d1966c3bd,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-21 14:41:00 +0300, , restore compare whole k_rtsigset inherite check k_rtsigset_t two word arm32 cycle optimized arch compiler _knsig_words child block signal number mask signal property blocked  impact fix signal restoring arm32 christopher covington cov codeaurora.org cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com reviewed christopher covington cov codeaurora.org signed pavel emelyanov xemul virtuozzo.com,,
3683,8fa70268393e25b98722857e14e522f2b4440cb5,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-22 14:20:00 +0300, , restore separate impact cleaning signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3684,8e606b4dec3bd3a8e05a8d9d8ca47ef6bc2392e3,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-06-27 07:53:20 +0300, , criu pagemap track current offset page img instead lseek signed mike rapoport rppt acked adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
3685,d0b34fc0d40d3705e94832b7af92a75ff6990f2f,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-06-26 08:56:00 +0300,1, criu pagemap close pagemap image returning init_pagemaps fix cid 163578 structurally dead code unreachable pagemap image would never closed stupid code order original patch 674583f2 criu page read read pagemaps open time keep memory fix signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3686,e297ab79b4c5b8198d81914ba7f5b2236dae394d,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-06-06 09:27:34 +0300, , criu page pipe introduce page_pipe_buf manipulation helper signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3687,fa437b6576bc79c04b57fa0cac66a9dc3de598e6,mitry Safonov <dsafonov@virtuozzo.com>, 2016-07-01 18:37:00 +0300, , criu print use print hex value width specified print width specifier may away nice 00.005258 21858 fdinfo flag 100002 00.004589 collected ino 51fd family type port 64000 state src_addr 0.0.0.0 patch generated following sed one liner find type print0 xargs sed know change anything printing anything use field width think impact bothered eye cleanup signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3688,5c89cc03f227df7d5224e54e3fefaa6605808277,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-06-30 19:49:00 +0300, , dump discover type type required distinguish local file remove one restored via spf thus created first signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3689,dd0a45c352c272f628211b972793ad7c08e7d5e1,ndrew Vagin <avagin@virtuozzo.com>, 2016-06-30 02:31:15 +0300, , travis run userns test signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3690,5ee1ac1f28e676efe407f19e9b020b24510f0db1,ndrew Vagin <avagin@virtuozzo.com>, 2016-06-30 02:31:14 +0300, , criu remove required defined syscall codes.h patch run test travis kernel support memfd defined installed header signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3691,ff0de098c814a28f2d257c78eebd09646062a593,ugene Batalov <eabatalov89@gmail.com>, 2016-06-24 23:38:00 +0300, , list include stddef.h define null const used list.h signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3692,3695881d0d1c29e021edb7ecad36e69008583580,ugene Batalov <eabatalov89@gmail.com>, 2016-06-24 23:38:00 +0300, , lock include unistd.h syscall function declaration sys syscall.h defines syscall number constant syscall function signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3693,c5f1645c79a8445f2d4923ae6fc48ee9eef15f8c,drian Reber <areber@redhat.com>, 2016-06-28 16:46:00 +0300, , criu move libcap dev build requires package libcap dev listed required run test however also required build criu move package right place fix printed information signed adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
3694,78ab4a548f15f3e4532540d0b7c06a2c27093b03,ebastian Pipping <sebastian@pipping.org>, 2016-07-01 21:49:54 +0200, , add missing proto2 syntax marker address protobuf 3.x proto warning signed pavel emelyanov xemul virtuozzo.com,,
3695,cfcf07712c76536f488c4a19bb0fd93d314ba325,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-06-25 09:53:00 +0300, , dedup fix typo batch bunch signed pavel tikhomirov ptikhomirov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3696,a07a1724e3f822a3417665f16727d87ceb1b21e1,ycho Andersen <tycho.andersen@canonical.com>, 2016-06-23 15:13:23 +0000, , restore use convoluted method calculate number zombie instead crazy thing pas number zombie back restorer blob main restore thread let calculate number main restore thread need also note patch shift location calculation used decrement nr_in_progress waited zombie sort lie fact since waiting anyway explicitly reason hackery let calculate number right place done signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3697,8db33d90330e23ed77482798ec669389c5de22df,ycho Andersen <tycho.andersen@canonical.com>, 2016-06-21 22:41:45 +0000, , test duplicate mnt_enablefs entry avoids run zdtm static socket tcpbuf6 makefile 295 target given rule start test makefile 295 target given rule socket tcpbuf6 pidfile socket tcpbuf6.pid outfile socket tcpbuf6.out run criu dump run criu restore wait zdtm static socket tcpbuf6 die 0.100000 wait zdtm static socket tcpbuf6 die 0.200000 removing dump zdtm static socket tcpbuf6 test zdtm static socket tcpbuf6 pas every test signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3698,f25ad84ad14d8cce7ffd81911a6d30e0cb1a49fd,ndrew Vagin <avagin@virtuozzo.com>, 2016-04-28 19:53:00 +0300, , zdtm check enabled file system signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3699,a71b27ea7985998e9033c362fc5818d5887056f2,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-04-15 19:32:00 +0300, , script fix typo binary path systemd autofs restart.sh signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3700,df5f0262ca99877521570fbd14d366c0d9966027,ugene Kolomeetz <klm@virtuozzo.com>, 2016-06-07 18:42:46 +0300, , script terminate systemd autofs restart.sh saved mountpoint missing never called without saved mountpoint happens bug script logic need fixing http jira.sw.ru browse psbm 44207 signed eugene kolomeetz klm virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3701,73a24127e3c83fd5bb09c7c9b68db38bdf31be01,ugene Kolomeetz <klm@virtuozzo.com>, 2016-06-07 18:42:45 +0300, , script return non zero save_mountpoint fails case must proceed without saved mountpoint risk losing data restarting automount service think tmpfs currently zero returned exit status preceeding echo http jira.sw.ru browse psbm 44207 signed eugene kolomeetz klm virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3702,00f8b63b22bba9b1e326b11ade6ef81b6e09e3ed,ugene Kolomeetz <klm@virtuozzo.com>, 2016-06-07 18:06:05 +0300, , script remove bogus command substitution systemd autofs restart.sh want execute command without capturing output must via cmd form shell first get output cmd evaluates empty string successfully executed empty break http jira.sw.ru browse psbm 44207 signed eugene kolomeetz klm virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3703,e928321399de011ff5f4176ef649e74693dcc717,ugene Kolomeetz <klm@virtuozzo.com>, 2016-06-07 18:06:04 +0300, , script detect eof read usual way systemd autofs restart.sh read bultin detects eof set empty string value specified variable return non zero exit code rely exit code check variable value standard approach http jira.sw.ru browse psbm 44207 signed eugene kolomeetz klm virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3704,45538c087df2a94f410ca35a4a609c03c9a7707c,irill Tkhai <ktkhai@virtuozzo.com>, 2016-06-01 19:01:49 +0300, , file implement find_used_fd signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3705,33a464c424630b648982b0d21e32634d791b5801,irill Tkhai <ktkhai@virtuozzo.com>, 2016-06-01 19:01:39 +0300, , file fix find_unused_fd overflow function may catch overflow near int_max becomes return strange like 2147483648 fix signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3706,68a938ea84f4756088753e9558152b2dc2a1b926,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-06-25 13:09:00 +0300, , net iptables check iptables command wait option fix compilation warning snprintf check iptables xtables lock support init switch opts kdat signed pavel tikhomirov ptikhomirov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3707,df5a2f260073cc13a1a8af21c865e1412dbdf67e,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-05-31 15:24:00 +0300, , net add wait iptables command fix race run several test simultaneousely seem iptables command intersect wait xtables lock criu fails 00.009263 running iptables iptables filter input protocol tcp source 127.0.0.1 sport 55074 destination 127.0.0.1 dport 8880 drop another app currently holding xtables lock perhaps want use option 00.014367 error util.c 660 exited status 00.014416 error netfilter.c iptables configuration failed success 00.014432 00.014461 error dump.c 1297 dump file pid failed http ci.openvz.org job criu job criu virtuozzo branch criu dev signed pavel tikhomirov ptikhomirov virtuozzo.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3708,76a6b0c4bf14d48245fba95418f010382263738b,ugene Kolomeetz <klm@virtuozzo.com>, 2016-05-25 18:06:19 +0300, , script call readlink context systemd autofs restart.sh readlink called host context obviously wrong signed eugene kolomeetz klm virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3709,1525aee1e4060f478c392a4bd51109e8028d76a6,ugene Kolomeetz <klm@virtuozzo.com>, 2016-05-25 18:06:18 +0300, , script single style command substitution systemd autofs restart.sh let use ... form readable used place signed eugene kolomeetz klm virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3710,92d8c3175083a56b9b97f4b633ff17157725e71b,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-05-24 18:08:00 +0300, , script fix string comparison systemd autofs restart.sh otherwise following error triggered usr libexec criu script systemd autofs restart.sh line unary operator expected usr libexec criu script systemd autofs restart.sh line unary operator expected signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3711,d588642d8839b0e6a4b0f7ad70927a81c4754093,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-05-16 13:31:38 +0300, , autofs leak file handle exit signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3712,58696c7286da60259871f9e8c3f8e84ab9904938,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-05-16 13:31:32 +0300, , autofs fix double close pid restore_ns helper close passed namepsace unconditionally thus new_pid_ns must invalidated case calling signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3713,49bfd9540df2a010fc06f434211bbfd2a0da5acb,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-05-10 14:13:00 +0300, , script fix mountinfo parsing systemd autofs restart.sh fily system type necessarily located column number look like rely pattern always located immediately dash signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3714,830cb368760b93e31d2148e5db927bbeb2e979c2,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-05-05 19:48:14 +0300, , autofs support hidden catatonic mount situation autofs mount catatonic know yet possible distinguish mount others active accessible reason mount threated undumpable hidden catatonic mount appear autofs master process exited without switching mount catatonic mode killed mount point unmounted propagated nested mount namespace private mount mount handled accessing mount point catatonic update internals first failed request autofs master read option dump mountpoint catatonic signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3715,e853848b5b925e6536adf42432ceff3d1db35ccf,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-05-05 19:48:06 +0300, , autofs rework pipe search logic bit return error pipe end found read_fd remains negative another explicit check caller function read_fd proper message printed case return enoent case read end pipe exist distinguish error type used later signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3716,9f89937468f42226aa95d0aa971879101fec9b78,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-05-02 19:43:00 +0300, , script use stat discover type systemd autofs restart.sh unfortunatelly autofs allow discover type least without accessing master process mean stat used determine whether file system mounted top autofs need take decision whether move restore aside simply stuck patch doe type discovering parsing mountinfo signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3717,40682f15610a6db585e0c6ff81573786e6829807,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-04-29 13:38:00 +0300, , script save restore target mount autofs service patch slightly change logic systemd autofs service restart script try bind mount mountpoint top autofs somewhere service restart replace new mount point top autofs saved one exit case error trying recover much possible case failure instead continue service restarting reason introducing new logic stateful file system top autofs say tmpfs state restore migration current script state lost patch allows preserve restored mount point service restart signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3718,72d63211c290bef56d3fbeaacfd3d059ee16e2bd,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-04-27 14:24:00 +0300, , autofs create dentries indirect mount bind mount silly mistake bind mount share superblock thus dentry creation bind monut fail eexist signed stanislav kinsburskiy skinsbursky virtuozzo.com tested cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3719,1d79f6e96d5e6ed4bc026632dc42a2d742afb2e7,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-04-27 16:33:00 +0300, , autofs collect new pipe used essential make sure use pipe descriptor different pipe otherwise run problem send via unix socket signed stanislav kinsburskiy skinsbursky virtuozzo.com tested cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3720,4d4d5c0f2a3785c1e6642fcddb4ee314487e9008,yrill Gorcunov <gorcunov@openvz.org>, 2016-04-22 18:45:51 +0300, , build uninstall cleanup systemd autofs restart.sh script signed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3721,542bb238d79b62d688c1e652551730fa3bf96b07,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-04-22 13:52:00 +0300, , source fix pr_perror usage log cleanup patch pr_perror print new line signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3722,31a260264f185e1be30182ac16298a5f2b8e2e7f,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-04-20 19:31:00 +0300, , autofs use temporary value virtual pgrp dump otherwise information real pid lost case pid_to_virt returned zero required output real pid error message instead always outputting zero result pid_to_virt iow would nice know process pid failed find tree signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3723,63d61425b7c7e2f568a6901d515d18046ee184f9,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-04-21 19:54:00 +0300, , script join pid namespace systemd autofs restart.sh without correct pid namespace systemctl able determine whether autofs active reason unaccessible proc due mount namespace change without pid namespace change signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3724,820c9d06ce3906eea1dcc5500187fa52c77f7315,yrill Gorcunov <gorcunov@virtuozzo.com>, 2016-04-15 21:10:00 +0300, , autofs install ship script systemd autofs restart.sh installed prefix libexec criu script signed cyrill gorcunov gorcunov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3725,10ffc78dfb668018b14253744cc648a30ac71739,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-04-12 12:48:00 +0300, , script systemd autofs restart.sh added script restarts systemd autofs service workaround problem systemd consider autofs mount restore alien device problem  environment variable ns_pid renamed  added different check process pid active service systemd based container signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3726,4635b538468bb50e433ebc8cd1b9ddffcea992fe,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-03-24 14:32:22 +0300, , autofs free leaked opts autofs_mount signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3727,3308134849facbce5b2a8b78f555d68a815373dd,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-03-24 14:32:16 +0300, , autofs free leaked info autofs_mount error path signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3728,42a725364be93d39f025eb616494a086ebd3a71f,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-03-24 14:32:09 +0300, , autofs free leaked autofsentry signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3729,240de36f540240b25194b1da87f83b1f44da6bde,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-03-24 14:32:03 +0300, , autofs close null image lead segmentation fault signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3730,00340443f40d3ab02288ec2d86f716326d9e2f4b,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-03-23 19:41:00 +0300, , autofs fix device modifier error path autofs_mnt_open type dev_t corresponds unsigned long explicitly cast long signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3731,a85968ebc9a89b5ee69e913e183cb7d1aff2ae58,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-03-23 17:30:00 +0300, , autofs fix device printf modifier error path autofs_mnt_open type dev_t corresponds unsigned long signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3732,eb7893e90e2ee9d8dd6e12b46fe32444d063d6e9,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-03-17 17:55:00 +0300, , autofs treat old kernel error autofs_parse otherwise dump fails signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3733,6c9da55f65da0515fcfead0fcfe02604ec735e58,ndrew Vagin <avagin@virtuozzo.com>, 2016-03-22 04:46:00 +0300, , autofs include limit.h auto_fs.h file included home travis build xemul criu criu include autofs.h autofs.c usr include linux auto_fs.h error name_maxâ undeclared function char name name_max file included home travis build xemul criu criu include autofs.h autofs.c usr include linux auto_fs.h error name_maxâ undeclared function char name name_max signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3734,935a2bfa464a909a6cb7ed4909e7ff420a83baed,ike Rapoport <rapoport@il.ibm.com>, 2016-03-21 10:40:00 +0300, , autofs fix build fedora following error happens building criu fedora autofs.o autofs.c function autofs_mountâ autofs.c 892 error implicit declaration function werror implicit function declaration ret  cc1 warning treated error adding forward declaration resolve issue signed mike rapoport rapoport il.ibm.com signed pavel emelyanov xemul virtuozzo.com,,
3735,8601487a8d2536ae450a307bc8ba4a4a28665fe3,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-03-21 09:49:31 +0300, , restore move declaration include namespaces.h signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3736,b3243983dc839ab9e9e5f3c2b0b18197e46e7da2,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-03-16 16:18:23 +0300, , check autofs feature added way check whether autofs migration supported kernel side check actual mount point option search pipe_ino option checker first try find autofs host temporary mount autofs signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3737,4cdabe9531661c678c91ee8e8fe196d9c0a4dc48,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-03-16 16:18:17 +0300, , zdtm.py create dev autofs root contruction required test zdtm static autofs test signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3738,54a333a0b9adaca99a000e8168d6f54d4f9fcf24,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-03-16 16:18:11 +0300, , zdtm add autofs test support autofs kernel user exchange protocol test mount direct indirect offset migrated operational test case write end pipe closed test catatonic mount test nested mount migrated tmpfs suit good signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3739,12a253bea867144325ed32cb7296914eaba6504e,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-03-16 16:18:05 +0300, , mount create target directory autofs indirect mount case mounting autofs indirect mount point target dentry exist created signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3740,dca4f4f21221c855e985ced232535e3190c84ba7,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-03-16 16:17:58 +0300, , autofs restore stage introduced autofs mount point managed user space daemon receives request kernel via pipe passed mount operation kernel hold write end user space process read end thus successfull autofs migration connection restored autofs restore tricky mount point created init process pair per mount context able fix actual kernel userspace pipe connection mount point restored problem restoring pipe connection done actual autofs mount point master process context pipe pgrp value taken current kernel actual mount created init process mount point owner master set later update mount point master one requires opened write end pipe provide autofs mount point master resource mentioned following implemented mount master write pipe end opened created clone read pipe end file descriptor added master fds list end required reconfigure mount point master another pipe fle created explicit post_open callback used actual mount point reconfiguration mount point created init process mount data required restore owner copied shared memory location post mount callback signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3741,e670a1c034146c8e226fc61a57fd76a3ec6a7f46,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-03-16 16:17:52 +0300, , autofs declare ioctl helper constant structure helper needed simplify autofs mount reconfiguring restore note taken automount package signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3742,c860b540c160e97eb02dbb3529e3238114f72703,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-03-16 16:17:39 +0300, , pipe export helper helper used autofs restore add temporary pipe structure signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3743,87be218c9532cda8a7fb2862933a68e8abab7649,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-03-16 16:17:33 +0300, , file new dup_fdinfo dup_fle helper introduced helper used autofs restore create temporary pipe descriptor signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3744,7e12d2dd5b981723625c1e6cbf5b751cbe416a15,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-03-16 16:17:27 +0300, , file new used file list introduced list contains per process used file fdinfo sorted number used safely create new artificial file descriptor also allow recreate temporary descriptor original number possible like autofs try preserve original pipe write end descriptor closed patch also add couple simple helper find unused file descriptor fd_is_used doe exactly named find_unused_fd return hint_fd unused last used descriptor plus one signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3745,2429f08ba851c74e2f8774656e99e43b1899bea4,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-03-16 16:17:20 +0300, , autofs dump fsinfo stage introduced autofs mount point managed user space daemon receives request kernel via pipe passed mount operation kernel hold write end user space process read end thus successful autofs migration connection restored stage autofs parameter parsed collected per mount autofs structure also doe check autofs mount interim state major trick performed dump autofs mount read end pipe process discovered used restore pipe case write pipe end closed process note migration autofs mount process group leader read pipe end opened supported read pipe end empty otherwise autofs interim state interim state determined control pipe content empty mean kernel requested operation mount umount process right case pipe empty dump aborted mount point collected parsed initial pid namespace lead real pgrp value autofs option instead virtual one fixed note care virtual pgrp case catatonic mount signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3746,e2f1a0da210901a70ba2fd4a53ab403e30df7ac4,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-03-16 16:17:14 +0300, , autofs parse fsinfo stage introduced autofs packetized pipe o_direct migration supported luckely support empty autofs pipe collected list explicitly treated normal pipe dump note packetized mode set kernel inself mount operation need carry flag signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3747,4d31b38a0d2648e7077163f90b2cbe441bc33bf6,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-03-16 16:17:08 +0300, , protobuf autofs entry introduced entry used carry autofs parameter required restore mount point signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3748,c8911f285949a01e50bfa8648cbe757cdf5877b2,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-03-16 16:17:02 +0300, , device add support dev autofs device support read write operation expected created external process thanks regular dump option suit device signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3749,3ca46335d33cbef3a1e594a9e6f6534ead0c6c09,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-03-16 16:16:55 +0300, , protobuf mnt.proto autofs type added signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3750,3dfb7854935a19cc987e4a2fb81f344e19b2744c,ndrei Tuicu <andrei.tuicu@gmail.com>, 2016-06-28 10:02:00 +0300, , fix dumping proc folder criu fails dump process file descriptor pointing proc folder return error code case fix return instead signed andrei tuicu andrei.tuicu gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3751,00ad31129d92bc618eee256292d8ee6f750b305d,ycho Andersen <tycho.andersen@canonical.com>, 2016-06-27 18:45:00 +0300, , tty fix typo supposed else cyrill gorcunov gorcunov openvz.org signed tycho andersen tycho.andersen canonical.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3752,048257cbbadffb3f761b967c28639e9cd0f68141,ycho Andersen <tycho.andersen@canonical.com>, 2016-06-23 15:13:22 +0000, , remove unused field nr_zombes rst_info signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3753,316820c35744721a89a323b3c226bbad03be566c,yrill Gorcunov <gorcunov@virtuozzo.com>, 2016-06-23 14:14:44 +0300, , tty forget add eol inverting slave path otherwise next strcat get confused 00.024843 error file reg.c 1528 open file dev ptmx restore file directory 00.024846 error file reg.c 1470 open file dev ptmx file directory 00.024849 error tty.c 545 tty open dev ptmx file directory reported dmitry safonov dsafonov virtuozzo.com signed cyrill gorcunov gorcunov virtuozzo.com reviewed dmitry safonov dsafonov virtuozzo.com tested dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3754,8ba63724c1834263e5a6cbd3935a775214af2b3a,yrill Gorcunov <gorcunov@gmail.com>, 2016-06-25 12:06:00 +0300, , tty forget setup peer mode restore commit c6bc7259c started carry mode file opening restore implying static changed true regular file pty peer created dynamically someone set special mode beore checkpoint procedure fail restore regular file engine test let setup mode unconditionally http travis ci.org xemul criu job 140011141 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3755,6d0982783ad883f4e459e1ca11b0cc0db3580261,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-24 16:53:00 +0300, , pagemap include falloc.h otherwise older environment like rhel7 fail build pagemap.o pagemap.c function punch_holeâ pagemap.c error undeclared first use function ret fallocate img_raw_fd pagemap.c note undeclared identifier reported function appears pagemap.c error undeclared first use function ret fallocate img_raw_fd make pagemap.o error mike rapoport rppt signed dmitry safonov dsafonov virtuozzo.com acked adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
3756,1d0fcfa8f77cf3f0679c0c6d939cbf3de6759418,ndrew Vagin <avagin@virtuozzo.com>, 2016-06-24 20:36:00 +0300, , zdtm run cgroup04 concurrently cgroup test manage cgroup full dump restore cgroup test reported jenkins tycho andersen tycho.andersen canonical.com signed andrew vagin avagin virtuozzo.com acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3757,8cb9a33e6124476d504ce552f192adae8846d59a,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-06-23 19:46:53 +0300, , criu pagemap make punch_hole static signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3758,3359824e608e025ce615cb372af44c6b31a01867,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-06-23 19:46:52 +0300, , criu shmem use page_read read_pages rather inline implementation signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3759,5cad7251980f0861302fb43392e11ece443dacd5,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-06-23 19:46:51 +0300, , criu dedup pagemap move dedup code pagemap.c deduplication code pagemap internal implementation detail better code pagemap.c signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3760,d12d52429dcaef353b01c9b0ee008343a6818ed7,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-06-23 19:46:50 +0300, , criu page read pagemap signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3761,84bf1ad467942a145a9df99d1397a63817893a91,ndrew Vagin <avagin@virtuozzo.com>, 2016-06-22 09:59:00 +0300, , mount ms_rec ms_private host mount race someone umounted something operation propagated namespace criu another process  pivot_root put_root mount put_root ms_rec ms_private umount xxx yyy umount xxx ebusy umount put_root affect mount put_root mask mount slave work external user signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3762,bdc972fd7f1c1852d2fc57977449d21dac31febe,ycho Andersen <tycho.andersen@canonical.com>, 2016-06-21 22:41:44 +0000, , cgroup pids.current pids.max pids.current current number pid maximum number allowed thing care set user signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3763,6e69e8ccb41ae9eed51650671ce9f87f328749d5,ycho Andersen <tycho.andersen@canonical.com>, 2016-06-21 22:41:43 +0000, , mount fix typo signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3764,e5f9a8bb8ab2fa15b1d5eda8139bf83762249555,ycho Andersen <tycho.andersen@canonical.com>, 2016-06-21 22:41:42 +0000, , cgroup make special property property written child current cgroup task similar cpuset property let hoist property special array signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3765,333ec70d81026904c29c2dfdf991d07ad4df3454,ycho Andersen <tycho.andersen@canonical.com>, 2016-06-21 22:41:41 +0000, , cgroup special handling read display something like root kernel sys cgroup memory zdtmtst cat  under_oom setting expects written let parse  signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3766,7e588c1d8c2585a0e3ca307aa93639a8a5d0b2fc,ycho Andersen <tycho.andersen@canonical.com>, 2016-06-21 22:41:40 +0000, , cgroup actually fail property writes fail long successfully closed prop property write would succeed signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3767,e4abe0815201cc72d9d8b986ddd4386922f11f20,ycho Andersen <tycho.andersen@canonical.com>, 2016-06-21 22:41:39 +0000, , cgroup fix typo signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3768,45cea167f3622f419f5cc2cd25e35844141e5af2,ycho Andersen <tycho.andersen@canonical.com>, 2016-06-21 22:41:38 +0000, , cgroup improve error message bad cgroup prop open andrey vagin avagin openvz.org signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3769,a21fdcf94beee8d8747b4f463d99f4db91582d92,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-06-19 16:35:25 +0300, , criu make work_dir part cr_options signed mike rapoport rppt acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3770,ce4dc6177d9c1923ff0adafb227a5e4225ad2371,drian Reber <areber@redhat.com>, 2016-06-20 23:15:00 +0300, , criu fix spelling error criu.txt signed adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
3771,ed8fecd12d7ce37d7ebdc35837e184caba7a14b4,drian Reber <areber@redhat.com>, 2016-06-20 23:15:00 +0300, , criu add rpc interface skip flight connection previously added option skip flight connection add option rpc interface skip flight connection also described criu.txt signed adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
3772,d04021969eaccb1ae3bf6781f57dcd3fe46505ec,avel Emelyanov <xemul@virtuozzo.com>, 2016-06-16 17:50:34 +0300, , lock drop support per pid image lock 1.2 merged file lock image together think good time drop legacy format signed pavel emelyanov xemul virtuozzo.com,,
3773,dbe8123326a91c0d772bde2b37e0c18fb6ec9683,avel Emelyanov <xemul@virtuozzo.com>, 2016-06-16 17:50:15 +0300, , file remove support per pid fdinfo since 0.3 fdinfo image based old one used signed pavel emelyanov xemul virtuozzo.com,,
3774,c8e983c92e234f68c0f4bd996902bf4667063397,avel Emelyanov <xemul@virtuozzo.com>, 2016-06-16 17:49:55 +0300, , page read deprecate ancient page image raw vaddr page pair criu stopped generating long 1.0 nobody signed pavel emelyanov xemul virtuozzo.com,,
3775,4f0fdb463ed06c83df6ea1093cd63dcb2376f269,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-17 17:47:00 +0300, , compiler add assign_typed assign_member look like appropriate place hook know helper maybe used code widely instead cast signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3776,e1d7ff8f0d1fe40d5c18d19be172de7387f75057,yrill Gorcunov <gorcunov@openvz.org>, 2016-06-17 12:46:29 +0300, , image regfile save file mode image need nfs saving image test mode change must done account nfs put fixme pavel emelyanov xemul virtuozzo.com stanislav kinsburskiy skinsbursky virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3777,f0f1a0a71d05c6cf4ee028ce7a00d885cf6faaf6,yrill Gorcunov <gorcunov@openvz.org>, 2016-06-17 12:46:28 +0300, , nfs image reserve entry future use entry used nfs support already test partial support vz7 version criu make image compatible let reserve advance pavel emelyanov xemul virtuozzo.com stanislav kinsburskiy skinsbursky virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3778,788a74cecc0bb621da4fb00539ef2aac0070322e,ikita Spiridonov <nspiridonov@virtuozzo.com>, 2016-06-17 14:22:00 +0300, , rpc add interface timeout option needed container migration argument set via p.haul rpc request signed nikita spiridonov nspiridonov virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3779,d7f9e824d31a2308d121561fe8eecda6fd7f1425,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-06-06 12:23:00 +0300, , zdtm net sysctl add test fix order first save check default together set setting sysctls affect others set forwarding ipv4 ipv6 change order default one set even try see commit 622c81d57b39 ipv6 generation stable privacy address link local autoconf signed pavel tikhomirov ptikhomirov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3780,1c954ab8dd3136638f2cad64ec2397667f775149,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-06-16 10:46:00 +0300, , net sysctl fix ipv4 forwarding restore default forwarding forwarding last influence former two see kernel sysctl  sysctl  sysctl  sysctl  trigered netns dev test vz7ct vzlinux x86_64 template quirk instead duplicate entry devconfs signed pavel tikhomirov ptikhomirov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3781,3166032ecb406f0dd6e803c64e46413083736deb,irill Tkhai <ktkhai@virtuozzo.com>, 2016-06-16 18:58:00 +0300, , unix autobind unnamed unix socket unix autobind unnamed unix socket addlen equal sizeof addr.sun_family lead autobinding socket autobinded dumped name.len zero binding wrong fix merge two conditional branch together signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3782,af5b145cda472272104268a70b999d16ad9cb119,ycho Andersen <tycho.andersen@canonical.com>, 2016-06-16 21:38:29 +0000, , cgroups clarify comment dumping criu cgset empty cgroups preserved criu cgset since ever dump criu cgset perhaps corner case may want address probably really relevant test case signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3783,e3b686f864d14410f1faac73e99100b7be183e83,ycho Andersen <tycho.andersen@canonical.com>, 2016-06-16 21:38:28 +0000, , test remove commented code oddity bug mean preserve empty cgroups criu cgset since dump need move thing task probably got commented due bug ubuntu kernel ran across fixed shortly http ubuntu source linux bug 1588056 signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3784,c8d79fcbbbf8ee2e44a61e117b21100166fb6b43,ycho Andersen <tycho.andersen@canonical.com>, 2016-06-16 21:38:27 +0000, , test cgroup04 need full cgroup mode host cgroups already exist need write property full mode exercise case signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3785,7ea3ed952f794a35d4eac8a287cd1109c7db3217,irill Tkhai <ktkhai@virtuozzo.com>, 2016-06-16 18:22:00 +0300, , socket fix int ino parameter socket function real ino u32 parameter int fix prevent crap overflow signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3786,52d6ae030a79823c6daa58dec14fec428cbae213,ndrew Vagin <avagin@virtuozzo.com>, 2016-06-16 07:37:00 +0300,1, cgroup typo fix cid 163487 unused value unused_value assigning value old_name name stored value overwritten used tycho andersen tycho.andersen canonical.com signed andrew vagin avagin virtuozzo.com acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3787,d93119e94c6925723b897a8203cebf9d25afe38d,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-06-02 15:25:41 +0300, , criu page read read pagemaps open time keep memory xemul bfd pagemap image mike yes bfd cache raw protobuf data memory pagemap cache unpacked pagemapentrie indeed duplication anyway bread unpack use pagemap also read entire pagemap close image thus freeing bfd cache signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3788,462e089c6aed0f6a99e17c7676284e2a69e6637b,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-06-02 16:10:00 +0300, , criu image add img_raw_size helper signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3789,b78565e991394a0f944755451396df52f83fdc6e,ndrew Vagin <avagin@virtuozzo.com>, 2016-06-15 22:05:00 +0300, , inet add missed space error message signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3790,3f57b178e1ada496b76cbc74fe2b4811e1e9b40a,ndrew Vagin <avagin@virtuozzo.com>, 2016-06-15 20:52:00 +0300, , netfilter use pr_perror errno printed signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3791,39e4073dafe5796451f6fd1f3b72dcb6b31d0342,ndrew Vagin <avagin@virtuozzo.com>, 2016-06-15 20:50:00 +0300, , zdtm socket_aio add nouser flag run zdtm static socket_aio makefile 295 target given rule start test makefile 295 target given rule socket_aio pidfile socket_aio.pid outfile socket_aio.out run criu dump log dump zdtm static socket_aio dump.log grep error 00.003450 error util.c 665 exited status 00.009104 error util.c 665 exited status 00.024564 error util.c 665 exited status 00.024598 error netfilter.c iptables configuration failed success 00.024625 error dump.c 1297 dump file pid failed 00.025117 error dump.c 1605 dumping failed error wait zdtm static socket_aio die 0.100000 reported jenkins signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3792,be663b002d9b1a1e3dfffaaf6dba6eaf5eaaa2f3,ndrew Vagin <avagin@virtuozzo.com>, 2016-06-15 20:44:00 +0300, , test crit recode skip image zero size many test crfail flag criu dump fails criu may create image file fill reported jenkins signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3793,877558fc8c3ed77b735710843d2255647a46e0e8,ndrew Vagin <avagin@virtuozzo.com>, 2016-06-15 20:44:00 +0300, , test crit recode skip rule d.img image generated tool signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3794,c91c8a5e6954a764d96322ccc8db3e7a77d4d824,ndrew Vagin <avagin@virtuozzo.com>, 2016-06-15 19:57:00 +0300, , file simplify fchroot call fchdir taget directory call chroot fix one comment speaking proc signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3795,2fdef836a59938b169ca3c8f2c813b35258f1ed5,drian Reber <areber@redhat.com>, 2016-06-14 10:13:00 +0300, , criu add option skip flight connection trying migrate container tomcat running test client 1000000 http url test criu sometimes exited error flight connection detected criu handle socket listening established connection flight connection happen socket yet full established connection syn syn ack last ack missing add new option criu skip flight option skip flight tcp connection tcp connection found yet completely established criu ignore connection favor erroring option criu skip socket state let client handle connection signed adrian reber areber redhat.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3796,85578bd5e86e1d4ac0eec5f2d6543e366922508e,yrill Gorcunov <gorcunov@openvz.org>, 2016-06-10 18:53:00 +0300, , rpc add interface freeze cgroup option signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3797,55de67a7fa3656c30e4d94f8bbcad9b9f673cd7c,ndrew Vagin <avagin@virtuozzo.com>, 2016-06-10 00:11:00 +0300, , zdtm shm unaligned overriding recipe target shm unaligned.pid makefile 305 warning overriding recipe target shm unaligned.pid makefile 290 warning ignoring old recipe target shm unaligned.pid signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3798,c48b5d11429860c8dc921142c4180a9ff141a4fc,ndrew Vagin <avagin@virtuozzo.com>, 2016-06-10 00:10:00 +0300,1, proc_parse read uninitialized pointer cid 161665 uninitialized pointer read uninit 14. uninit_use using uninitialized value vma signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3799,549d71f3ccdb254a9525672ca803fcae41ae3f10,ndrew Vagin <avagin@virtuozzo.com>, 2016-06-10 00:10:00 +0300,1, aio leak memory cid 161664 resource leak resource_leak 11. leaked_storage variable going scope leak storage point signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3800,2a835eb8d15936af0f74ff62621e72db6f0be35e,ndrew Vagin <avagin@virtuozzo.com>, 2016-06-10 00:09:00 +0300, , zdtm remove replace noauto crfail possiable criu dump fail criu handle something add separate patch remove noauto test signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3801,99c6e840fc7311670c76b87b00ecfdb2bd5fc1b6,ndrew Vagin <avagin@virtuozzo.com>, 2016-06-10 00:07:00 +0300, , zdtm remove noauto flag test executed look like noauto set mistake test signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3802,eec3f49b4d975b54a772b2760fe076779938bfde,irill Tkhai <ktkhai@virtuozzo.com>, 2016-06-08 16:38:00 +0300, , dump allocate root_item run pre dump script allows pre dump script know root_item pid enter namespaces signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3803,b734cd400318d163d47ad317365463d2d1530459,ycho Andersen <tycho.andersen@canonical.com>, 2016-06-06 15:20:17 +0000, , test add test cgroup kernel controller prop signed tycho andersen tycho.andersen canonical.com cyrill gorcunov gorcunov openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3804,c38e18432dda546e25b288721ecbbd66ef79829c,ycho Andersen <tycho.andersen@canonical.com>, 2016-06-06 15:20:16 +0000, , cgroups add support device cgroup one little big ugly see comment detail point invent better way special case since freezer cpuset device perhaps something like fstype ask cgroup restore signed tycho andersen tycho.andersen canonical.com cyrill gorcunov gorcunov openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3805,a827d386e52ddd938a31cea0474709b1641674de,ycho Andersen <tycho.andersen@canonical.com>, 2016-06-06 15:20:15 +0000, , cgroup prop update controller list prop list particular add support new controller perf_event nothing may used perf tool keep net_cls net_prio pid also add support many memory property implemented first pas container may use note commit omits device controller need checkpointed restored special way signed tycho andersen tycho.andersen canonical.com cyrill gorcunov gorcunov openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3806,a6587ef404a2e55b58e2ecaef6037eaca4bbb0fd,ycho Andersen <tycho.andersen@canonical.com>, 2016-06-06 15:20:14 +0000, , cgroup prop ditch individual controller listed global prop need list individually signed tycho andersen tycho.andersen canonical.com cyrill gorcunov gorcunov openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3807,e30f45d3a06ccaae73b092281c1859a3be049336,ycho Andersen <tycho.andersen@canonical.com>, 2016-06-06 15:20:13 +0000, , cgroup prop parser allow empty property list use next patchset want dump global property freezer cgroup none special one cgroup handled separately signed tycho andersen tycho.andersen canonical.com cyrill gorcunov gorcunov openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3808,d5095c00b53846c83c0517cde383a00637bc8af1,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-06-06 09:27:00 +0300, , criu page xfer intorduce helper sending iovs signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3809,afa9d8df510db86c78a60a6987644941584c65e1,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-05-31 09:44:06 +0300, , criu page xfer move code aroud remove forward declaration create better grouping signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3810,673ffadeef339a00f40c8b2834d8400a67153ba4,irill Tkhai <ktkhai@virtuozzo.com>, 2016-06-01 19:02:55 +0300, , unix move interconnected pair setup signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3811,c085d6af6d58bf89c35583c9e19421a5735a374f,irill Tkhai <ktkhai@virtuozzo.com>, 2016-06-01 19:02:10 +0300, , unix link socket unix_sockets list list unix_sockets used link external socket change link unix socket differ really external socket may check socket already_dumped value may useful traverse unix socket namespace signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3812,c58a2867cbca5b162eaa1dfcf96c6a997d845f49,irill Tkhai <ktkhai@virtuozzo.com>, 2016-06-01 19:01:59 +0300, , pstree export current export current allow use find_unused_fd everywhere signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3813,a2de3eb831679700927af5a59e2fd2acc591b122,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-02 21:54:00 +0300, , travis add coveralls.io support suggest add support coveralls.io show coverage run test travis still everyone forked criu see instant coverage travis build nice feature show code cover increasing decreasing push commit could give nice hint content new test feature need build criu make gcov add coverage disables optimization resulting report look like http coveralls.io build 6439346 thinking codecov.io also fewer community fixed issue github choose service random fun fact file ids.c covered completely test except enomem return maybe worth run fault injection test travis signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3814,e47c3684fa661e60101c1c5e35661c3faa8543a8,yrill Gorcunov <gorcunov@gmail.com>, 2016-05-30 11:11:00 +0300, , test static fanotify00 compare s_dev test s_dev well mnt_id may change container migration exclude comparision signed cyrill gorcunov gorcunov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3815,f1015e4cdf9c4c76a9b18bf0da0878696891a663,ndrew Vagin <avagin@virtuozzo.com>, 2016-06-03 06:41:00 +0300, , zdtm tty wait process complete preparation stage signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3816,a8423135c51eaf588937c05a3870cfd3bc964aeb,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-06 21:03:00 +0300, , parasite drop unused cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3817,66299a006585c9645a1f019fb88fd40b7bd1f982,ndrew Vagin <avagin@virtuozzo.com>, 2016-06-03 05:33:00 +0300, , zdtm use flake8 verify zdtm.py fix various warning example mix tab space indentation add flake8.cfg tycho andersen tycho.andersen canonical.com signed andrew vagin avagin virtuozzo.com acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3818,93991e66787731561cb9356b7665e8cb51c76a58,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-06-02 16:03:00 +0300, , criu page read remove unnecessary forward declaration signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3819,cd7928d371e6bf7a2086f5311d6b7f29c447b3ca,ike Rapoport <rppt@linux.vnet.ibm.com>, 2016-06-02 16:03:00 +0300, , criu page read make method page_read signed mike rapoport rppt signed pavel emelyanov xemul virtuozzo.com,,
3820,51970afa5ed3b72ee6f8cb80ccb02a574a02d27a,ndrew Vagin <avagin@virtuozzo.com>, 2016-06-03 06:41:19 +0300, , zdtm fail test changed cwd signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3821,b599cda15b206750f9942a3ce101282e8b4efb9e,ndrew Vagin <avagin@virtuozzo.com>, 2016-06-03 02:20:00 +0300, , file use pr_err instead pr_perror signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3822,1cd1da9ca14937e4155949436ad65a2bbd8e26e4,ndrey Vagin <avagin@openvz.org>, 2016-06-02 22:42:00 +0300,12, zdtm ptrace_sig print signal handler dead lokced lib64 libc.so.6 _l_lock_2460 lib64 libc.so.6 __tz_convert lib64 libc.so.6 test_msg format 0x404508 receive signal msg.c signal handler called lib64 libc.so.6 vsscanf lib64 libc.so.6 sscanf lib64 libc.so.6 lib64 libc.so.6 lib64 libc.so.6 __tz_convert lib64 libc.so.6 test_msg format format entry 0x40458c pas msg.c main argc optimized argv optimized ptrace_sig.c 172 signed andrey vagin avagin openvz.org signed andrew vagin avagin virtuozzo.com tested cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3823,7e2f7296bd1f5817328096aa1befea737534ddb4,yrill Gorcunov <gorcunov@openvz.org>, 2016-06-01 15:22:00 +0300, , rpc fix typo custom cgroup prop engine seems rpc part sneaked forgot push index result built fine locally applied patch signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3824,900e71cbec452057743f8fcf15e584b0030cf0bb,yrill Gorcunov <gorcunov@openvz.org>, 2016-05-30 18:49:00 +0300, , rpc add binding custom cgroup prop engine handling cgroup prop cgroup prop file cgroup dump controller rpc interface signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3825,92486c9015e4cecb45c0cd560087b8b9732357d6,avel Emelyanov <xemul@virtuozzo.com>, 2016-06-01 14:32:00 +0300, , coredump rename dir coredump signed pavel emelyanov xemul virtuozzo.com,,
3826,308741d059d7997bf6dc1f25760a602aa4d7898d,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-17 03:29:00 +0300, , mount detect sibling mount correctly found meaning comparing basename mount mount_qual removed v2.1 gbcf40bf think attempt detect sibling propagated mount actually wrong compare basenames mount need generate full path example sys cgroup device shared cgroup cgroup device sys cgroup device 101 xxx yyy ... 101 sys cgroup device master cgroup cgroup device sys cgroup device xxx yyy ... one shared group sibling probably one mounted another one propagated patch add function generate sibling mount point use propagate mount signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3827,fdeba04e862ceda9dd4ecc966863ed087a057a32,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-17 09:39:00 +0300, , mount move function handle path separate file mount.c big already next patch add one function unit test better add one source file fix compilation arm ppc signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3828,b0049beacc15669622eaa9b5d79b3a75ef1b2a60,avel Emelyanov <xemul@virtuozzo.com>, 2016-04-18 16:02:46 +0300, , tcp move call prepare socket become int agnostic signed pavel emelyanov xemul virtuozzo.com,,
3829,e931c757345e7d7703f14e712b9accdae021d1ab,avel Emelyanov <xemul@virtuozzo.com>, 2016-04-18 16:02:16 +0300, , tcp make reuse crit section wider lock moved libsocr nice pull since extending section anyway pull away tcp.c make code little bit cleaner signed pavel emelyanov xemul virtuozzo.com,,
3830,947358a9edff0207e9876de59e6553e3415952e2,uslan Kuprieiev <kupruser@gmail.com>, 2016-05-21 16:38:31 +0300, , test add manual test criu coredump convert criu image coredumps check readable readelf signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3831,e569e46b312071c5d8d1a36bfef9be28c444efda,uslan Kuprieiev <kupruser@gmail.com>, 2016-05-21 16:38:30 +0300, , test fix manual crit test automated test use test crit recode.py performance benefit need launch python interpreter manual test still useful manual testing let make work signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3832,8a71a4a27d26714900f48670637a67ba08c59d19,uslan Kuprieiev <kupruser@gmail.com>, 2016-05-21 16:38:29 +0300, , criu coredump merge criu coredump project patch introduces new subproject called criu coredump name pretty much self explanatory allows generating coredumps criu image coredumps readable usable gdb structure something middle kernel generated gdb generated core dump first iteration core dump patch series introduces ability generate gdb operatable core dump x86_64 machine support architecture set introduce proper structure note section core dump also worth noting still leave note siginfo primarily fullfilled still need figure put case signal involved triggering core dump generation caveat like zeroed vvar problem withing criu well gdb difficalties vsyscall vmas one already use produced core dump gdb also quick simple demo http asciinema.org 18936 signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul virtuozzo.com,,
3833,b28f93efaff5098fca88523a8068925a26e83a0b,yrill Gorcunov <gorcunov@openvz.org>, 2016-05-13 23:03:00 +0300, , add documentation dumping specified controller signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3834,45dc87b819799563e5bbf12b5fe9c561679f6304,yrill Gorcunov <gorcunov@openvz.org>, 2016-05-13 23:03:00 +0300, , add ability dump specified controller example container case might number controller mounted node carry inside image container migrated add ability dump predefined controller specified via command line cgroup dump controller option signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3835,3b3e03c557d6d4326c54758e48b68849856b4095,yrill Gorcunov <gorcunov@openvz.org>, 2016-05-17 21:51:00 +0300, , prop handle use free error path caller cid 161427 memory corruption use_after_free criu cgroup props.c 352 346 347 ret 348 349 return ret 350 351 err_parse cid 161427 memory corruption use_after_free calling cgp_free free pointer cgp_entry already freed 352 cgp_free cgp_entry 353 ret einval 354 goto 355 356 357 static int cgp_parse_file char path signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3836,3ae937d59f4b6335af6f4f2a3e923cfa225e73b6,yrill Gorcunov <gorcunov@openvz.org>, 2016-05-17 10:09:00 +0300, , prop fix resource leak realloc failure cid 161426 resource leak resource_leak criu cgroup props.c 318 312 313 314 xrealloc_safe cgp_entry cgp.props 315 cgp_entry cgp.nr_props sizeof char 316 pr_err allocate property controller 317 cgp_entry cgp.name cid 161426 resource leak resource_leak variable cgp_entry going scope leak storage point 318 return 319 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3837,a439bafedeeb4720ab84c19673f748582caad74a,ndrey Vagin <avagin@openvz.org>, 2016-05-17 09:07:00 +0300, , cgrou prop typo fix 280 xfree cid 161428 memory illegal access use_after_free passing freed pointer argument print_on_level 281 pr_err unknown strategy controller stream 282 cgp_entry cgp.name signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3838,04deb5f37acda97f09e5d02107980ecfbf723012,yrill Gorcunov <gorcunov@openvz.org>, 2016-05-13 23:03:44 +0300, , add documentation prop signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3839,c80a84f8e07154db80792826ec966f7ff30e7284,yrill Gorcunov <gorcunov@openvz.org>, 2016-05-13 23:03:43 +0300, , add ability dump custom cgroup property common predefined property cpuset.cpus etc gathered cgp_predefined set might situation predefined one enough add ability specify property via cgroup prop cgroup prop file option example one may pas file content cpu strategy merge property cpu.shares dump custom property cpu controller description implemented almost valid yaml probably need support various form oneline enough signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3840,ee0d1be19eb2cba567ee8a10566a30ecf264e435,avel Emelyanov <xemul@sacred.ru>, 2016-06-16 16:37:06 +0300, , add ascciinema tour basic criu feature,,
3841,1ba5a900db93bb0161b9351725c2f9b489fe6d4e,avel Emelyanov <xemul@virtuozzo.com>, 2016-06-14 11:41:17 +0300, , criu version 2.3 nice new feature aimed better integration also massive restorer blob preparation rework several nasty bugfixes mount code signed pavel emelyanov xemul virtuozzo.com,,
3842,7171f7f45dce8f1c85d9f79dd4d71d87bfe6e2c7,mitry Safonov <dsafonov@virtuozzo.com>, 2016-06-09 14:56:00 +0300, , parasite syscall describe task state trap failure think improve error message distinguish task kill segfaults ptrace failure etc signed dmitry safonov dsafonov virtuozzo.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3843,f6cc277cada0ad61b3fc017bf213ee4301d8e87f,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-06-09 18:59:00 +0300, , test zdtm shm fix page size test assume page size 4096 test failing ppc64 page size usually 64k signed laurent dufour ldufour signed pavel emelyanov xemul virtuozzo.com,,
3844,67038451a91c61af43f6da5d2513291a8afda8c9,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-30 16:26:00 +0300, , ipc sysvshmem segment unaligned possible create sysvshmem segment size multiple page_size size reported everywhere interface support type segment signed pavel emelyanov xemul virtuozzo.com acked cyrill gorcunov gorcunov openvz.org,,
3845,f87edfde53cf1d6a24031b6daab7676dfe8ae9b5,engguangxing <dengguangxing@huawei.com>, 2016-05-30 14:12:00 +0300, , add warning message joining user namespace join user namespace fully tested yet recommended use add warning message user try use join user namespace signed deng guangxing dengguangxing huawei.com signed pavel emelyanov xemul virtuozzo.com,,
3846,3bc62b36a59320adc95827f5e8972fd537efd4f5,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-05-25 18:53:00 +0300, , zdtm netns dev fix misprint hop_limit interval 255 signed pavel tikhomirov ptikhomirov virtuozzo.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3847,c11b64909a6a92639a87925aa7707bebe8a9f754,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-30 17:53:00 +0300, , siginfo fix offset per thread siginfos thread one start shared signed pavel emelyanov xemul virtuozzo.com,,
3848,a17f01e30e4ab31168fffe4ed08d59bfb3af1448,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-30 17:52:00 +0300, , mem copy vme restorer later interference rework patch vm_open callback one lead situation vme restorer already copied rst mem sysv shmem vm_open tried modify previously seen vmes fix copying vme restorer late still signed pavel emelyanov xemul virtuozzo.com,,
3849,02168054239c94b8aa0a59cd127557e9ba2baa02,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-25 16:29:00 +0300, , rst malloc grow remap memory mremap grow anonymous shared memory produce usable segment underlying kernel tmpfs file get truncated access new mem result sigbus disable grow need memory signed pavel emelyanov xemul virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org,,
3850,7c2542a89bf7dc86aa502efa326b06cc76fc24ab,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-25 16:28:00 +0300, , rst remove unneeded stack signed pavel emelyanov xemul virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org,,
3851,78b94a84c1cd0baa87b32f394e462f71b7eeac4e,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-25 16:28:00 +0300, , restore mmap hand rm_private memory move every time call rst_mem_alloc impossible static pointer since task args used actyvely easier handle manually reported andrey vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org,,
3852,a839cc45f8dc173610325b08447918566a7e798b,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-24 14:37:01 +0300, , restore move task args preparation signed pavel emelyanov xemul virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org,,
3853,315008f99a1b97acf6408a5038e5f0b3118054eb,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-24 14:36:47 +0300, , restore cleanup ptrs remapping code done far array remapping reworked remap_array dropped code place ptr fixup helper appear signed pavel emelyanov xemul virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org,,
3854,02853f0a50e97f492c5d49110f6122560d438c01,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-24 14:36:32 +0300, , restore prepare restorer seccomp filter earlier signed pavel emelyanov xemul virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org,,
3855,c978930d605ef8efece64b0815f4b6036a722b1a,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-24 14:36:16 +0300, , restore prepare restorer pid earlier signed pavel emelyanov xemul virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org,,
3856,86bed7d68f90e5155836fd19a94285f7f47c4500,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-24 14:36:02 +0300, , restore prepare restorer rlims earlier signed pavel emelyanov xemul virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org,,
3857,cef18d5902468734c531eb2613aa0301f8197467,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-24 14:35:48 +0300, , restore prepare restorer siginfos earlier signed pavel emelyanov xemul virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org,,
3858,b9f781dea7e50317f12c49f663192c5dd5d4f415,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-24 14:35:35 +0300, , restore prepare restorer posix timer earlier signed pavel emelyanov xemul virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org,,
3859,dbbbba1071c4cbdf3268c3f542ab8628e5339413,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-24 14:35:21 +0300, , restore prepare restorer timerfds earlier signed pavel emelyanov xemul virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org,,
3860,dc70fba11663eae312b3c9d65b325192cadb7aa2,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-24 14:35:07 +0300, , restore prepare restorer tcp sock earlier signed pavel emelyanov xemul virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org,,
3861,8f169802d097399c134b625597a940edd12df99c,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-24 14:34:51 +0300, , restore prepare restorer aios earlier signed pavel emelyanov xemul virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org,,
3862,631dd8278ef9f51539dcc1caa9a0ad60cef8c26d,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-24 14:34:35 +0300, , restore prepare restorer vmas earlier signed pavel emelyanov xemul virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org,,
3863,85adb78675e2b7c4944d26105b4071e85daec4d7,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-24 14:34:20 +0300, , restore allocate task thread args rst malloc two object actually needed early stage restore much earlier actually allocated make life nicer let allocate args private rst mem get remapped restorer blob automatically new memory layout restorer code memzone stack sigframes argument last area unmapped end restorer code also give opportunity copy many bit betweek static variable task args put directly args next patch also stuffed preparatory code quite big new restoring added confusing place code inserted patch make clear distinction __only__ remapping memory restorer blob jumping rest signed pavel emelyanov xemul virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org,,
3864,3d9fc8670876f0db8aedf9ece4c47aa18c144dcf,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-24 14:33:57 +0300, , restore move memzones thread_args right memzone stack sigframe sit thread args allocated independently rst mem next patch task thread args moved rst mem get unmapped restorer end since stack sigframe required even rst mem unmap memzon live independelntly new restorer blob layout described next patch signed pavel emelyanov xemul virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org,,
3865,7dfc2128031dc5327583e87647dd3ce823766320,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-24 12:34:00 +0300, , restore merge self vmas alltogether getting hint restorer blob scan list vmas criu address space since vmas required find hole merge vmas alltogether make work easier reduces list item small zdtm test signed pavel emelyanov xemul virtuozzo.com acked cyrill gorcunov gorcunov openvz.org,,
3866,62838976daba0c8a7392da7cc61418b28b3bee01,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-23 22:13:00 +0300, , restore factor thread core opening signed pavel emelyanov xemul virtuozzo.com,,
3867,5c06eea2b9948a200d763bf9cd43638aa2c0face,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-23 22:12:00 +0300, , restore get rid global root_as_sibling signed pavel emelyanov xemul virtuozzo.com,,
3868,2f5b99045ed227b07280bfaa9d8a99f3dfc489fe,avel Emelyanov <xemul@virtuozzo.com>, 2016-04-27 15:23:30 +0300, , zdtm helper compare signed pavel emelyanov xemul virtuozzo.com,,
3869,0edee5672998d188ad6a5ce06d99b2566e0b9096,ndrew Vagin <avagin@virtuozzo.com>, 2016-04-30 03:59:00 +0300, , zdtm loopback device new network namespace case run test signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3870,906490572011385d181d335234a3f4bf113a7787,ndrew Vagin <avagin@virtuozzo.com>, 2016-04-30 03:58:00 +0300, , jenkins add new job check join signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3871,dcabc7a5e7afb034f8437724dd6af4effd62569b,engguangxing <dengguangxing@huawei.com>, 2016-04-16 11:33:00 +0300, , add join result check zdtm signed deng guangxing dengguangxing huawei.com signed pavel emelyanov xemul virtuozzo.com,,
3872,2708e5b87093f6db3b0fef1276a1e7b3e8ad334a,engguangxing <dengguangxing@huawei.com>, 2016-04-09 05:00:00 +0300, , join fix join zdtm test join zdtm test skip flavor socket related test join test try join existing network namespace signed deng guangxing dengguangxing huawei.com signed pavel emelyanov xemul virtuozzo.com,,
3873,9f0ddf0e5ef662f84b6cc431048f0a853cebca30,ndrew Vagin <avagin@virtuozzo.com>, 2016-04-07 20:29:42 +0300,4, namespaces leak memory error path cid 159849 resource leak resource_leak 15. leaked_storage variable going scope leak storage point signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3874,fbcf1e14bfbc44141bf1d90250ca828164a7bd5b,yrill Gorcunov <gorcunov@openvz.org>, 2016-04-06 15:55:25 +0300, , criu opts shuffle init_opts order match struct cr_options declaration func change signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3875,f21b9ff51416264c9931a2ac94a1297b7d21e0cd,avel Emelyanov <xemul@virtuozzo.com>, 2016-04-06 15:25:18 +0300, , opts signed pavel emelyanov xemul virtuozzo.com,,
3876,d6bdc90ac907c12d825566966a4aaf35425a8eed,engguangxing <dengguangxing@huawei.com>, 2016-04-05 11:06:26 +0800, , join add join zdtm test signed deng guangxing dengguangxing huawei.com signed pavel emelyanov xemul virtuozzo.com,,
3877,790ec469490b42d5402067175777ca5fcc19514c,engguangxing <dengguangxing@huawei.com>, 2016-04-05 11:04:56 +0800, , join perform join_namespace according join opts signed deng guangxing dengguangxing huawei.com signed pavel emelyanov xemul virtuozzo.com,,
3878,2cf17cd83b0bed8f8c754fccd7c1e19bd22539fc,engguangxing <dengguangxing@huawei.com>, 2016-04-05 11:03:44 +0800, , join add join option criu cli rpc patch add join option criu cli rpc opt used fomat join pid ns_file example join net 12345 join net foo bar pid namespaces supported yet fork needed make new pid namespace work make hard criu track child process pid another child process created fork signed deng guangxing dengguangxing huawei.com signed pavel emelyanov xemul virtuozzo.com,,
3879,7206e329b5920b0183552e31b7e77eba08e223ca,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-24 14:33:36 +0300, , restore bootstrap len always page size aligned restorer args rst mem lenghts restorer pie_size restorer page size aligned args len aligned page size line remapable rst mem grows page page aligned signed pavel emelyanov xemul virtuozzo.com acked cyrill gorcunov gorcunov openvz.org,,
3880,5a557f2e3bb3a489c9402d3c3cef2845c24b07cb,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-25 00:29:38 +0300, , zdtm mnt_ext_ affect host mount namespace currently test mount mounted host mount namespace restore get root mount tycho andersen tycho.andersen canonical.com signed andrew vagin avagin virtuozzo.com acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3881,5e86697cb6a65ce7bb9164206dd00297446c6188,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-25 00:29:37 +0300, , zdtm skip mount root source detect extra mount peer root target path signed andrew vagin avagin virtuozzo.com acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3882,8a2cefcc04ed7201525ef46b2d7ccb90b5cbcb0a,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-25 08:38:00 +0300, , zdtm save output test output file report jenkins sends file message body something failed sergey bronnikov sergeyb openvz.org fix 474f2dfc5dd4 zdtm.py add option keep going signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3883,03cd5070535dde6033e5e12ad3c57dcbe71d8070,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-24 23:20:00 +0300, , criu interrupt do_new_mount appling mount option reported stanislav kinsburskiy skinsbursky virtuozzo.com stanislav kinsburskiy skinsbursky virtuozzo.com signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3884,c2ff0418e198a2c47d2e2b6fbb6d1a6a6710f703,irill Tkhai <ktkhai@virtuozzo.com>, 2016-05-24 19:42:00 +0300, , aio consider aio page dumped luckely built test always aio page present thus dumped aio page guaranteed present common case patch make aio page dumped certanly signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3885,51ff6240e4bb11e8a4f243afa1170e5dc1235eda,irill Tkhai <ktkhai@virtuozzo.com>, 2016-05-19 16:12:00 +0300, , aio refactor nr_req calculation nr_req always depends ring size even check kill parasite_aio max_reqs vma_nr_reqs vma_area aio_nr_req need excess signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3886,9dd414c2de16effc59681ef7bc4a4721a8814fbb,irill Tkhai <ktkhai@virtuozzo.com>, 2016-05-19 16:12:00 +0300, , aio change pair debug message first preparation kill aio_nr_req second third debug info restore print mmap err code signed kirill tkhai ktkhai vituozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3887,f55265f0f550840052e6d9f3406d513995506e2c,ndrew Vagin <avagin@virtuozzo.com>, 2016-04-30 03:59:00 +0300, , zdtm handle unknown flavor signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3888,fa8b12a1ec0f4eb76d04ca99fe1991f5029a0030,mitry Safonov <dsafonov@virtuozzo.com>, 2016-05-27 16:16:00 +0300, , makefile suppress git describe warning fix error build envs git tag fetched i.e travis doe fetch tag building project wich result running 0d63a3d28a7a fatal name found describe anything fatal name found describe anything make entering directory criu way fetch tag git describe failure way two con change user git sure right need fetch tag case also remote otherwise fail fatal tag describe hash http travis ci.org 0x7f454c46 criu job 133362045 l1748 cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3889,39cbd9167274d7adbb9112fec30b6cbb26bd4076,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-05-27 10:40:00 +0300, , crit decode set default opts nopl false fix error crit crit decode test dump zdtm static maps04 118 stats dump traceback recent call last file crit crit line 276 module main file crit crit line 273 main opts func opts file crit crit line decode img inf opts opts pretty opts nopl keyerror nopl signed pavel tikhomirov ptikhomirov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3890,4ead1592589a780395eed3f1d5d86c1a45ca8c34,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-19 13:04:00 +0300, , crit show payload image object image quite long payload raw data represented base64 encoding want explore huge image reading ton base64 symbol quite time consuming e.g 1.5 gig image sysv shmem sent time ago investigation nopl argument show action decode produce encode able image payload needed show amount byte payload signed pavel emelyanov xemul virtuozzo.com,,
3891,f77cb85806e30569f354d1da3f3558215f239167,mitry Safonov <dsafonov@virtuozzo.com>, 2016-05-10 20:45:00 +0300,150, aarch64 pie util vdso workaround vdso_symbols relocation seems known problem util vdso.c aarch64 restorer segfaults following log 8107.384817 criu 5135 unhandled level translation fault 0x00005b98 esr 0x90000007 8107.385538 pgd 8107.386046 00005b98 pgd pud pmd pte 8107.391920 8107.392521 cpu pid 5135 comm criu tainted 4.5.0 8107.392805 hardware name linux dummy virt 8107.393140 task task.ti 8107.393782 0x13514 8107.406332 0x1342c 8107.406550 pstate a0000000 gcc aarch64 add vdso_symbols array symbol table reason need run time relocation place cut interesting assembly 0x14104 adrp 0x14000 adrp add loading 0x14114 add 0x928 symbol table address 0x14134 ldp loading address symbol symbol table 0x1414c stp x29 112 saving stack function begin 0x14188 ldr x29 112 using symbol address code symbol symbol table root alarm readelf criu pie restorer.built in.bin.o grep 5b98 248 notype local default also may visible way objdump criu pie restorer.built in.bin.o ... cur_loglevel 4924 00000002 00005b98 00000000 00005ed0 ..... ....... 4934 00000000 00005ee8 00000000 00005f00 ..... ....... symbol table lie relocated address symbol real address may visible added printing vdso_symbols pie vdso vdso_symbols 0x15b98 way gcc reason doe access symbol local adrp add calculation stack saved pointer symbol symbol table handling properly relocs suggest ugly workaround temporary fix 150 http pipermail criu 2015 october 022453.html wang long long.wanglong huawei.com christopher covington cov codeaurora.org cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com tested long.wanglong long.wanglong huawei.com signed pavel emelyanov xemul virtuozzo.com,,
3892,de71b6d690d92d53ce4b4c33635ccc3b4808140a,mitry Safonov <dsafonov@virtuozzo.com>, 2016-04-12 19:10:45 +0300, , parasite vdso add cast uint64_t compatible bit pie size uint64_t bigger size unsigned long type add proper cast could build compatible pie signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3893,a870a170dcc8ff59ebc3cbbee6207f8a69f39da0,yrill Gorcunov <gorcunov@openvz.org>, 2016-04-14 14:01:01 +0300, , build generate criu version toplevel signed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3894,08bb98266bbbf11037ea6d3b260beb1f53f653c3,yrill Gorcunov <gorcunov@openvz.org>, 2016-04-14 14:01:00 +0300, , build move arch handling toplevel going build everything toplevel convenience like criu move one snippet top signed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3895,8a4c16fba0cfa425d56da46eb5b27e43dba24de5,yrill Gorcunov <gorcunov@openvz.org>, 2016-04-14 14:00:59 +0300, , build criu drop host var already defined exported signed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3896,17ae160b333e31509d1625ed88b488e6fd2d1836,yrill Gorcunov <gorcunov@openvz.org>, 2016-04-07 16:05:00 +0300, , build add export sublevels extra use pcs7 packaging think suitable everything else well signed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3897,346a4378b17a817bc856cd4fd8428342192b9732,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-25 17:42:04 +0300, , shmem fix print format vme start signed pavel emelyanov xemul virtuozzo.com,,
3898,06968075d1fa598311ea2141e8d13019bf093c5f,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-25 17:11:00 +0300, , action script include bug.h signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3899,d10768719b0a4bb23ee1b84bd4e35329a9d93fd2,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-24 23:30:00 +0300,164, zdtm netns dev restrict hop_limit sysctl setting range 255 git log v4.4 rc1 465 gd6df198 commit author phil sutter phil nwl.cc date tue dec 2015 0100 net ipv6 restrict hop_limit sysctl setting range 255 setting value bigger 255 resulted using lower eight bit value assigned header field avoid unexpected result reject value http github.com xemul criu issue 164 signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3900,dc21641ba515ae1273d6aeeafc5e32e2939a891a,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-25 02:31:00 +0300, , shmem use pri64 print u64 shmem.c 290 note expansion macro pr_err pr_err shmem already collected sysvipc shmid  fix one place signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3901,a4facc6b551d4adc309a73e8141b7a5c9271f4dc,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-24 00:07:00 +0300, , zdtm mnt_tracefs mount tracefs affect external mount namepace run zdtm static mnt_tracefs start test mnt_tracefs pidfile mnt_tracefs.pid outfile mnt_tracefs.out dirname run criu dump wait zdtm static mnt_tracefs die 0.100000 run criu restore run criu dump run criu restore run criu dump run criu restore old mount lost set new mount appeared set debugfs tracing wait zdtm static mnt_tracefs die 0.100000 tycho andersen tycho.andersen canonical.com signed andrew vagin avagin virtuozzo.com acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3902,df8e3a8a61113417911554aaa8153f616d8fd195,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-20 19:55:29 +0300, , crtools.h move last_pid_path util.h signed pavel emelyanov xemul virtuozzo.com,,
3903,1335956a8c9a167030f02c38d1a17acd9af8e8f5,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-20 19:54:45 +0300, , crtools.h drop protobuf.h inclusion signed pavel emelyanov xemul virtuozzo.com,,
3904,7449224c8a51ab340c9bab03d23ad7e86e360689,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-20 19:54:27 +0300, , image.h remove inclusion wherever possible signed pavel emelyanov xemul virtuozzo.com,,
3905,27477e3317b9ae82435fee30b3081f082f42eba1,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-20 19:54:00 +0300, , image.h move task_foo state pid.h signed pavel emelyanov xemul virtuozzo.com,,
3906,97b716a8cccd43b11408dcaeea71059054808197,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-20 19:53:40 +0300, , image.h move unix stuff file signed pavel emelyanov xemul virtuozzo.com,,
3907,d3598694aab0e2beb8ce01b4063f2b0141d61063,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-20 19:53:18 +0300, , util remove unneeded include signed pavel emelyanov xemul virtuozzo.com,,
3908,049f83451c274bc6abee5186e3af05754d6ebfd6,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-20 19:52:57 +0300, , header remove dead code signed pavel emelyanov xemul virtuozzo.com,,
3909,69b8cac2f022fe19d41f4867372b443ef5168718,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-20 19:52:32 +0300, , util rename move_img_fd signed pavel emelyanov xemul virtuozzo.com,,
3910,09cee18aa999fec789c01ab5fd38c0d1b5002641,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-20 19:52:14 +0300, , util move shmalloc rst malloc signed pavel emelyanov xemul virtuozzo.com,,
3911,6319ca2b4d652683a3444c6c085a149c8cc7ad24,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-20 20:30:00 +0300, , restore move memory restoring code mem.c dumping code sits time move restoring one signed pavel emelyanov xemul virtuozzo.com,,
3912,4cd990c3752e8d6459adb28ed8b89cfa4c6b6ae0,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-20 16:41:00 +0300, , shmem unify dump time hash restore time list structure way keep let unify vma_area one struct union hash table signed pavel emelyanov xemul virtuozzo.com,,
3913,dbd92e90c6f060a50007336683f08f90ba1fcbae,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-20 14:15:00 +0300, , mem rework vma open two place elseif elseif else vma take action prepare_mm_pid open_vmas propose make ... onlce preparing set callback vma called later opening requires patch set alloc_vma andrey patch doe signed pavel emelyanov xemul virtuozzo.com,,
3914,ce9b04007d9b8fc78b508d9b4aac5f86dd975b94,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-19 13:06:02 +0300, , test test partially mprotect sysv shmem segment signed pavel emelyanov xemul virtuozzo.com,,
3915,c7b5efd0baea031a08c8c6cfd29774081e729091,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-19 15:14:34 +0300, , ipc restore mprotected sysvshmems image process done shmget page shmat mprotect page case criu dump shmem segment page long vmas page restore time call shmat _each_ vma first one occupy whole page space size argument shmat shmget thus blocking 2nd vma shmat solution check shmem segment attached sequence vmas cover one hole shmat first one mprotect needed hunk step path mprotect already called pie restorer.c doe thing well  list contain anon shmems caught zdtm many attachment segment caught transition ipc signed pavel emelyanov xemul virtuozzo.com,,
3916,5a44eca1df504390beb0b643667a6d2b594d8778,yrill Gorcunov <gorcunov@openvz.org>, 2016-05-21 11:33:09 +0300, , tty forget unblock tty peer testing queued data present peer setup non blocking mode obtain eagain data forget restore former mode return blocking read reported andrey vagin avagin virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3917,c9a22844ddcd12a2ad73f0f221a08495e4171a76,yrill Gorcunov <gorcunov@openvz.org>, 2016-05-21 11:33:08 +0300, , tty save flag unconditionaly consistency easier reading need pty queued data way code simplier signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3918,d697415e9a3c3dd6cb79fb7cc5dd3228ac2474e2,ndrey Ryabinin <aryabinin@virtuozzo.com>, 2016-05-19 18:55:37 +0300, , test socket add test shut stream unix socket signed andrey ryabinin aryabinin virtuozzo.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3919,ed4db7230a999ba9d36a9014b91ede91f7d90a5d,ndrey Ryabinin <aryabinin@virtuozzo.com>, 2016-05-19 18:55:36 +0300, , unix ignore shutdown mismatch unix socket usually unix stream socket consistent shutdown state one end shutdown read end shut write however sometimes possible stream socket mismatched shutdown state happens connect already shut socket see upcoming sockets03.c test example read write kernel always check shutdown state end userspace pov socket mismatched shutdown state behave way matched state think ignore shutdown mismatch dump restore socket matching shutdown state process see difference signed andrey ryabinin aryabinin virtuozzo.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3920,8239be8ff93b1b42c5725d6988a3698d561bd0b7,ycho Andersen <tycho.andersen@canonical.com>, 2016-05-17 01:30:00 +0300, , mount support recursive bind mount inital mount call bind mount need ms_rec flag present bind mount recursive signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3921,78948f96cd39adcb7a95718ec4d7c00e73856699,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-05-20 18:41:00 +0300,161, net sysctl zero init stable_secret string sting field wrong length protobuf encoding netdev image according http protocol buffer doc encoding netdev 9.img binary representation sarg field   field key 0x1a mean type length delimited field field sarg field field len 0x2c first byte 2607 f0d0 1002 0051 0000 0000 0000 0004 last 0xc0 utf make crit fail sysctl_op read sysctl added end string zero init array fix issue http github.com xemul criu issue 161 alternatively additionaly put end string make harder make mistake future signed pavel tikhomirov ptikhomirov virtuozzo.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3922,52db8e4d9b237a3d9b1cae1be6f7d4346359f370,ycho Andersen <tycho.andersen@canonical.com>, 2016-05-20 10:54:46 -0700, , gitignore ignore test binary signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3923,fb4bb20721c464137c3d3b9fd47dac0464fa4708,ycho Andersen <tycho.andersen@canonical.com>, 2016-05-20 10:54:45 -0700, , add tracefs test signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3924,89e8aa90c433698d20432f0efb9e92eacc38e447,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-05-20 16:35:00 +0300, , net sysctl remove excess type conversion use native add build_bug_ons check sysctltype constant equal __ctl_str ctl_32 change __ctl_str ctl_str sysctltype enum signed pavel tikhomirov ptikhomirov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3925,11c4f5f6f232901f71d621641365ea2149d8bed1,yrill Gorcunov <gorcunov@openvz.org>, 2016-05-19 22:11:44 +0300, , criu pie log print tid writting process convenient log parsing reported pavel emelyanov xemul virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3926,969b87e9e0b656713af7ac5a0b666ce4f0f23d97,yrill Gorcunov <gorcunov@openvz.org>, 2016-05-19 22:12:00 +0300, , criu pie log make sbuf_printf static exported anywhere signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3927,cc1a321c9d1c3596156a0ae970c89b396f2643f5,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-20 03:35:00 +0300, , inet fix value inet_addr_len man inet_ntop say inet_addr_len inet_addrstrlen signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3928,178692e7b2be73fa74278fbf20774e5348080ac2,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-05-18 13:19:00 +0300,160, net sysctl silence read error case stable_secret sysctl produce lot spam error message test http github.com xemul criu issue 160 eio sysctl valid behavior error need printed general solution also silence error message sysctl_read_ u32 s32 u64 flag used __ctl_str stable_secret silence error signed pavel tikhomirov ptikhomirov virtuozzo.com acked andrew vagin avagin virtuozzo.com tested tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3929,5f9f1303459dfdec8980e232ad5c724751c326da,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-20 00:09:00 +0300, , mount add missing return error path signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3930,d9e56848478c28af5d7dc18579931b74db868f74,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-20 00:08:00 +0300, , mount add comment explain need clean mount required target path overmounted one child mount signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3931,7bd2270fdbdbb9820e65d7c03ad726096bb88547,yrill Gorcunov <gorcunov@gmail.com>, 2016-05-18 15:32:00 +0300, , cgroup fix early update dir_name rewrite_cgsets walking controller directory update directory end otherwise match rest variable updated desided simply rewrite helper hopefully clear signed cyrill gorcunov gorcunov virtuozzo.com acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3932,c0ad448d94b608d0967f3843a5366ad7654e9153,yrill Gorcunov <gorcunov@gmail.com>, 2016-05-17 21:16:00 +0300, , plugins initialize plugins control default run pre dump script earlier calling anything else case get failed plugins cleanup routine hit list structure set zero lead sigsegv trying walk thus simply init empty list reported stanislav kinsburskiy skinsbursky virtuozzo.com signed cyrill gorcunov gorcunov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3933,85ab050df4054e1c596e3bbd4a99ee2f200858b2,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-18 03:06:04 +0300, , zdtm check process many file vma signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3934,f26cff076882e9b38fc0683264c9732b001cc5c4,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-18 03:06:03 +0300, , criu dump filemap soon possible process many vma hit rlimit file suggest dump vma file soon possible close remove vm_file_fd vma_area structure cyrill gorcunov gorcunov openvz.org signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3935,8e778d29c6c56639d94e9ebfdbd8d03fef5ed532,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-12 21:21:46 +0300, , zdtm check flight data ttys signed andrew vagin avagin virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3936,ebc3421df27a526e2a29b96dac6385476f13d616,yrill Gorcunov <gorcunov@gmail.com>, 2016-05-13 19:45:45 +0300, , tty write unread pty buffer post dump stage updated version attached mon sep 2001 cyrill gorcunov gorcunov openvz.org date tue apr 2016 0300 subject patch tty write unread pty buffer post dump stage unread data present peer currently simply ignore actually try fetch non destructive way sake end dump procedure fetching queued data may wrong write back heavy need ttys hand walk collected ttys link ptys peer index matching note overload tty_dump_info reuse list member new all_ptys list link established literally read queued data flush new tty data.img something wrong moment stop reading queued data walk back already queued one write back restore former state applies dump requested leave task alive restore link peer back write queued data peer back live signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3937,4497ac8e6af0ac7bf0cc7f87be7744258a90f131,ycho Andersen <tycho.andersen@canonical.com>, 2016-05-04 23:01:30 +0000, , mount handle tracefs gracefully see comment detail basically tracefs automounted kernel mount debugfs ms_rec get right result rebase criu dev use new fstype flag always set ms_rec debugfs parse signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3938,4998d1ce5370279bfd4ebb7743a23c551b311151,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-11 23:37:07 +0300, , zdtm show error second attempt action signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3939,bee9cc8ac3e29847c533bcfb5120d59735b33ada,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-11 23:37:06 +0300, , file remove extra newline message signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3940,402b0e0e28474d0a7669f29903bc8c36ab306897,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-11 23:37:04 +0300, , zdtm add new test check ghost file non root mntns signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3941,813665f709f283a5736a1a079bb866b6d0d3a525,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-11 23:37:03 +0300, , ghost add mntns root file path 00.170031 error file reg.c 515 xfail 15var tmp ghost file directory reported adrian reber adrian lisas.de adrian reber adrian lisas.de signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3942,cf292404ca45889260789919e33099b6392471f7,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-14 02:05:00 +0300, , zdtm check criu dump file system mount point overmounted test c59759345e6e mount dump file system mount point overmounted signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3943,8bfaa21d087e5de26c5c259b20eb63139c472411,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-13 01:34:57 +0300, , zdtm add test check case two mount directory signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3944,3057432e3a816f859cc4b7aee9c0b0c1294e8272,ndrei Vagin <avagin@virtuozzo.com>, 2016-05-13 01:34:56 +0300, , mount create clean mount required clean mount copy target mount without child mount currently clean mount created target mount child case target path may overmounted patch clean mount created target path overmounted enumerate child check mounted target path signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3945,1a206eedeaf96aaeb6ab8f0a5a98cdf4dc113085,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-13 01:34:55 +0300, , mount return relative path static char char target_root char source_root currently return relative path source_root absolute path case signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3946,24f63b5fcab7cc48b5deae888c5f0f8a5d46e40d,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-13 01:34:54 +0300, , mount open mount point going overmounted mount point bind mounted somewhere need access patch solves problem mount point overmounted case open targret mount point use proc pid access make bind mount underlying mount via file descriptor add separate buffer generate path file descriptor use psfds contant reported stanislav kinsburskiy skinsbursky virtuozzo.com stanislav kinsburskiy skinsbursky virtuozzo.com signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3947,fe5a5ba26ca29fa40e89fe01fb4959bf81e83510,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-13 16:33:00 +0300, , pstree relax parent finding fast path tree pid search parent item optimized nowadays use one rbtree lookup signed pavel emelyanov xemul virtuozzo.com acked andrew vagin avagin virtuozzo.com,,
3948,7bce51f6b6637d30c613cda90d67654ca4b4541b,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-13 16:34:00 +0300, , lock use house pid_in_pstree helper code older kernel lock info fdinfo file keep global pstree helper signed pavel emelyanov xemul virtuozzo.com,,
3949,fa7ead8031f3afc836ba599dab356702b5afedac,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-13 16:33:00 +0300, , unix use helper search task signed pavel emelyanov xemul virtuozzo.com,,
3950,52bccb262c797c02cd3daa268f7d5d4c23593f71,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-04-28 19:39:03 +0300, , zdtm net ipv6 add test string stable_secret stable_secret always unset new netns restore state set skip save restore step signed pavel tikhomirov ptikhomirov virtuozzo.com reviewed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3951,ac7c8b24938184dccff55f6f2875d2c50f07e4dd,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-04-28 19:39:02 +0300, , sysctl fix allocation array pointer signed pavel tikhomirov ptikhomirov virtuozzo.com reviewed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3952,c4db738652741e959ae06fcfcbf20a6798e9a8f5,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-04-28 19:39:01 +0300, , zdtm net ipv6 add test confs signed pavel tikhomirov ptikhomirov virtuozzo.com reviewed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3953,19f5a31396710aaa712b5dd9d99755b8c4e1268d,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-04-28 19:39:00 +0300, , zdtm net ipv6 add devconfs6 rand_range6 signed pavel tikhomirov ptikhomirov virtuozzo.com reviewed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3954,5c793473273a18a8e44d4c7b83375e8df3f788bf,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-04-28 19:38:59 +0300, , zdtm net ipv6 allow inacurate match  rounded msec_per_sec set kernel saved jiffy min 100 signed pavel tikhomirov ptikhomirov virtuozzo.com reviewed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3955,cde72cabbd8450bcc9f7ddc99b1cdf295cdd7079,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-04-28 19:38:58 +0300, , zdtm net ipv4 split save_and_set changing disable_ipv6 sysctl device may change mtu sysctl need first check mtu set disable_ipv6 done splitting function two signed pavel tikhomirov ptikhomirov virtuozzo.com reviewed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3956,701faddc8478b13181d0e66cb8c83ee711c4db0e,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-04-28 19:38:57 +0300, , zdtm net ipv4 replace rand limit rand range sysctls minimal value also need set lower limit e.g proc sys net ipv6 conf mtu name possible state range  medium_id int_max src_valid_mark true false tag int_min int_max signed pavel tikhomirov ptikhomirov virtuozzo.com reviewed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3957,bd5c7a4b9a63f9eb6491e2fbf53d60785ca0f631,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-04-28 19:38:56 +0300, , zdtm net ipv4 make save_and_set reusable get array save_and_set overkill give function wich work one element array whole array make reusable future test ipv6 config signed pavel tikhomirov ptikhomirov virtuozzo.com reviewed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3958,99e65b424caddc4536ce648a13030d9ccf49e5cf,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-04-28 19:38:55 +0300, , restore net ipv6 net device def configuration first restore default dev ipv6 sysctls setting change latter forwarding disable_ipv6 e.g echo proc sys net ipv6 conf default disable_ipv6 echo proc sys net ipv6 conf disable_ipv6 cat proc sys net ipv6 conf default disable_ipv6  changing disable_ipv6 sysctl device may change mtu sysctl optimize mtu restore signed pavel tikhomirov ptikhomirov virtuozzo.com reviewed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3959,715a08b46619fafa3ca9a5d0087aa731684ddae5,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-05-10 11:00:44 +0300, , dump net ipv6 net device def configuration old enough ipv6 path array len net ipv6 conf len size almost back back increase bit worry reading stable_secret initialized fails eio safely skip dumping case new netns uninitialized default use __ctl_str without len image type set flag stable_secret dumping signed pavel tikhomirov ptikhomirov virtuozzo.com reviewed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3960,9979093b88bbcef1af8ef2c9645656afdbc15c47,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-04-28 19:38:53 +0300, , net ipv6 add devconfs6 array store config option name mc_forwarding option depends multicast managment socket existence readonly  addrconf_notify netdev_up idev cnf.mtu6 differs dev mtu sysctl mtu6 overwritten changing disable_ipv6 sysctl device may change mtu sysctl need restore disable_ipv6 first mtu signed pavel tikhomirov ptikhomirov virtuozzo.com reviewed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3961,200c8b002b2910c0395e2902a78b03be159b6f6e,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-04-28 19:38:52 +0300, , net ipv6 protobuf add device config option ipv6 signed pavel tikhomirov ptikhomirov virtuozzo.com reviewed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3962,15d40f6be0d689782c014bd30ebe54c65e257b63,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-04-28 19:38:51 +0300, , net ipv4 add net_conf_op reuse ipv6 use new sysctlentry leave old ipv4_conf_op forward compatibility use ctl_flags_has instead req .has use ctl_type fix net_conf_op string sysctls add rconf request conf hand signed pavel tikhomirov ptikhomirov virtuozzo.com reviewed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3963,7ea8601c99a89832b804ef77bbcb047875978758,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-04-28 19:38:50 +0300, , protobuf add sysctlentry ipv4 ipv6 sysctl confs others int32 boolean value protobuf size bool many sysctls boolean lose anything storing int32 add int32 string field need string field stable_secret ipv6 sysctl also fromat allows easily handle non present int sysctls check using has_ arg rebase image makefile criu dev branch use enum type signed pavel tikhomirov ptikhomirov virtuozzo.com reviewed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3964,3f6ad33f8f1965a238fb6be7c081599dc4388748,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-05-10 10:57:57 +0300, , sysctl add ctl_flags_has mark successful sysctl_op request replace separate pointer ctl_flags_has flag second part patch net ipv4 add net_conf_op reuse ipv6 define ctl_flags_has also allow eio do_sysctl_op optional sysctls like stable_secret fix sysctl file close error path add skip dumping stable_secret eio signed pavel tikhomirov ptikhomirov virtuozzo.com reviewed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3965,99a7895ea67add29f455cf834d8d9e67804a80a3,irill Tkhai <ktkhai@virtuozzo.com>, 2016-05-13 13:45:36 +0300, , aio fix mmap retval analysing map_failed retval lib mmap direct syscall return is_err case error signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3966,7b84bc8811eccb46990a2ae1b0b29c82fc37ea51,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-13 00:53:44 +0300, , tempfs check inaccessible tempfs mount criu dump return error case signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3967,16ae562ed0ae947689e8fca20c320143033246fc,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-13 00:53:43 +0300, , mount dump file system mount point overmounted try enumerate mount point try find one allows dump content file system root mount mount point overmounted separate call back dump content file system fstype dump always requires access mount point e.g autofs check overmounts open_mountpoint cat proc 61693 root etc redhat release fedora release twenty three cat proc 61692 mountinfo grep tmp 234 199 tmp shared master tmpfs tmpfs size 131072k nr_inodes 32768 235 234 systemd private httpd.service ufqnhk tmp tmp relatime shared master tmpfs tmpfs size 131072k nr_inodes 32768 return error dump file system try find mount point allows dump file system check child overmounted target mount instead getting mnt_id file descriptor add special error code unreachable mount point signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3968,392c2f0bac38af6d085838251f9b167fad54e31d,avel Emelyanov <xemul@virtuozzo.com>, 2016-04-27 15:23:00 +0300, , criu write pidfile later next patch put non root task pid one preparatory bonus remove need unlink pid file case error risk script might want pidfile already environment case signed pavel emelyanov xemul virtuozzo.com,,
3969,aee6cca66a2e9056e30a64f0eb13f87ee530538f,ndrew Vagin <avagin@virtuozzo.com>, 2016-04-28 19:53:00 +0300, , zdtm check enabled file system signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3970,c58802edbf5b2f06a2d4e8547a09ec238b3fb093,ycho Andersen <tycho.andersen@canonical.com>, 2016-05-10 21:15:32 +0000, , proc parse remember free mnt entry parse fails signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3971,f59267f3e134f3cc35fe3f2b9d02a41480008d95,ycho Andersen <tycho.andersen@canonical.com>, 2016-05-10 21:15:31 +0000, , fix typo signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3972,9a22d3df645164e5980fa60da5f51364e352891d,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-10 03:32:00 +0300, , pstree workaround stupidity modern compiler gcc v6.0 clang think next pid.node null explanation kernel log v3.12 5097 g1310a5a  result expression defined standard gcc version e.g 4.3.4 assume expression never equal null net result oops iteration properly terminated  gcc gcc version 6.0.0 20160406 red hat 6.0.0 0.20 gcc python test zdtm.py run zdtm static session00 ... gdb tmp core.61 criu criu program terminated signal sigsegv segmentation fault 598 next pid.node null next pid.virt pid make clang pstree.c 598 error comparison address next pid.node equal null pointer always false werror wtautological pointer compare next pid.node null next pid.virt pid signed andrew vagin avagin virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3973,bfe7f6dce5b4cba96becd287860be2f816b71cd0,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-10 03:59:00 +0300, , zdtm remove bashisms hook signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3974,23b769498cb315974425cd6b5b85ce101d049256,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-10 03:56:59 +0300, , dump optimize searching rbtree task collected rbtree allows search task virtual pid log signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3975,018e8985d38ef462df7afe1985c9c794b2fc7781,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-10 03:56:58 +0300, , dump collect pid rbtree already restore able search task virtual pid signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3976,a1709f6e75370e9f0d79164f4ce54aafa5ceadcf,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-10 00:44:00 +0300, , zdtm cwd02 typo fix signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3977,d44276c143184aa134fef5a51dca9ae12e53197a,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-07 03:25:00 +0300, , zdtm check mount external device signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3978,022e3b9b9c554292d7e446c38fc63af22172dd48,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-07 03:25:00 +0300, , mount add support external block device idea allow dump restore mount specified block device option dump external dev major minor val restore external dev val devpath find mount specified block device set type fstype__auto write val source field val replaced devpath restore use ext mount map instead external dump clean use external dump restore val devpath dev val devpath restore signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3979,c39aad4cd4734b225a62c30f4e691a0e637a95f4,yrill Gorcunov <gorcunov@openvz.org>, 2016-05-11 15:34:23 +0300, , criu pagemap cache drop greedy mode never worked properly page might simply present memory trying fetch content via splice simply return number byte successfully fetched course different completed vma size thus correct implementation requires interaction parasite page pulling read much kernel allows util implemented zap reported pavel emelyanov xemul virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3980,8bfce926698d547b1d6e94ca60dd25e47594cd26,yrill Gorcunov <gorcunov@openvz.org>, 2016-04-29 21:14:00 +0300, , criu pagemap cache fix map filling greedy mode reported andrew vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3981,5241757b2eac496f5c917ead1e76b617dbf2886f,ndrew Vagin <avagin@virtuozzo.com>, 2016-04-07 20:29:43 +0300,2, util leak socket cid 159478 resource leak resource_leak leaked_handle handle variable going scope leak handle signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3982,2875a1955aeb36140c5f507c30a5f98cb8106691,ndrew Vagin <avagin@virtuozzo.com>, 2016-03-16 02:11:15 +0300, , pstree try find free pid busy pid currently pid allocator return max_pid return pid bigger kernel.max_pid 00.821430 5506 error restore.c 1540 pid 300 match expected 32768 handle error code insert_item signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3983,42205175bdca8a16407870263302b31732654a58,ndrew Vagin <avagin@virtuozzo.com>, 2016-03-16 02:11:14 +0300, , pstree use rbtree find specified pid currently enumirate child init task task session leader create helper collect child sid child list helper child init task enumirated try find session leader helper use way enumirate task going collect task rbtree find sessial leader need affect performance without searching session leader add helper tree rename lookup_pid use handle session leader patch signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3984,7f9961b379376f2521f74fcaf1c7d7475b4feb20,ndrew Vagin <avagin@virtuozzo.com>, 2016-03-16 02:11:13 +0300, , pstree prepare store pid tree allow find free pid speed searching item pid current algorithm searching free pid may return value bigger kernel.max_pid add coment insert_pid rename root_rb pid_root_rb make static rename insert_ pid item lookup_create_ pid item signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3985,60470baeebe696a8f6ee5ede7f8f5783ec5f0451,ndrew Vagin <avagin@virtuozzo.com>, 2016-03-16 02:11:12 +0300, , pstree split signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3986,b0bd920456804f6138f416cb6d21c2c2f4b464bc,ndrew Vagin <avagin@virtuozzo.com>, 2016-03-16 02:11:11 +0300, , pstree move state pstree_item pid going collect pid rbtree thread pstree entry need field distinguish pstree_item thread signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3987,845b822cd4277f256277b91ece1e45829d94058f,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-16 11:24:32 +0300, , criu version 2.2 bugfix mostly release also tune better integration openvz action script updated support newer kernel improvement removed pagemap greedy mode namespaces option signed pavel emelyanov xemul virtuozzo.com,,
3988,7ecf297d9f0f7baeef2bb0822401300a5a0d3c10,avel Emelyanov <xemul@virtuozzo.com>, 2016-05-13 17:12:00 +0300, , cli remove namespace option thing used ancient day proc pid file link used image ids.img file already removed 2.1 probably time drop option signed pavel emelyanov xemul virtuozzo.com,,
3989,3a7b5e22815c5e0fc0e7f4efb4d9f8f68e370cf8,yrill Gorcunov <gorcunov@openvz.org>, 2016-05-11 18:01:00 +0300, , tty add debug printing tty params signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3990,94a392829732820814055090f6fdc2b9c7ba64d9,yrill Gorcunov <gorcunov@openvz.org>, 2016-05-11 18:01:00 +0300, , tty add missing break statement miss first place tty major either understand driver handling code driver minor pointing somewhere else unknown tty need look every serial device going support without problem thus break prevent potential problem signed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3991,4912da57fbdb1ddebcc8c189d384e3f6e8265703,yrill Gorcunov <gorcunov@openvz.org>, 2016-05-11 18:29:00 +0300, , test sigaltstack setup proper stack size use test_msg helper inside alternative stack turn allocates increased stack storage stack_thread stack_main miss inform kernel bigger stack size thus worst scenario screwup stack provide proper size reported vasily averin vvs virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3992,f0bec2135b17094b962001b4ce08c1459a3e6b89,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-05 17:21:00 +0300, , mount handle case parent child mount directory mountpoints equal build absolute path ct_mpnt_rpath let skip first m_root_rpath add comment signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3993,bcf40bfa5393eaaa5799a4b201f821f21a8fa5bd,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-05 05:22:00 +0300, , mount remove extra condition mounts_equal two mount equal even mounted directory different name signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3994,0b368c44225455dddbae8fd85e937646796a6df1,ndrew Vagin <avagin@virtuozzo.com>, 2016-05-06 05:05:11 +0300, , mount add separate entry enabled file system required limit enabled file system clean add shortcut get mount file system fix comment pavel oleg nesterov oleg redhat.com signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3995,1ce382ad9b1bf6f2512dab99679076d8dd136282,ang Long <long.wanglong@huawei.com>, 2016-05-05 11:23:00 +0300, , cgroup fix clone_flags drop error fork_with_pid commit dae14ddfb doe drop clone_newcgroup correctly thsi patch fix signed wang long long.wanglong huawei.com acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
3996,035626ca1e2f6df73aac5e4e38a9aeb04904155d,yrill Gorcunov <gorcunov@openvz.org>, 2016-05-05 14:44:00 +0300,155, build pas wrap every linking file criu target http github.com xemul criu issue 155 signed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3997,8709f9128b1e2d843b5a65e922e04b1316fcef45,yrill Gorcunov <gorcunov@gmail.com>, 2016-05-04 14:56:00 +0300, , build add ability generate gprof output suitable profiling 2.0 earlier pie code profiled well syscalls library simply build make gmon signed cyrill gorcunov gorcunov virtuozzo.com reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
3998,39b47178a1be35272bd5fd65f19283084837e78e,ndrew Vagin <avagin@virtuozzo.com>, 2016-04-29 21:17:00 +0300, , kerndat initialize zero_page_pfn zero_page_pfn invalid set real value zero bad pagemap return zero pfn non root user python test zdtm.py run zdtm static env00 always user norst run zdtm static env00 start test env00 pidfile env00.pid outfile env00.out envname env_00_test run criu dump wait zdtm static env00 die 0.100000 test zdtm static env00 pas crit crit show test dump zdtm static env00 pagemap 24.img  magic pagemap entry  pages_id   vaddr 0x7ffcfd5ed000 nr_pages    signed andrew vagin avagin virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
3999,adca1244bfaab575b05f11fe9f8c47db16ca3d03,mitry Safonov <dsafonov@virtuozzo.com>, 2016-04-27 20:10:54 +0300, , tty add serial driver popular serial major fix restoring amba serial line dev ttyama0 default serial port use qemu system aarch64 least article meet boot cmdline also add support dev ttyusb one may check major number http www.kernel.org doc documentation devices.txt also grepping kernel repository cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4000,9191ce422ce89ab69f59dbdb1a0e55cc16ec1282,mitry Safonov <dsafonov@virtuozzo.com>, 2016-04-27 20:10:53 +0300, ," tty fix dev tty 1,63 minor number seems like device tty_major major minor min_nr_consoles pointing dev tty1 first vitual console max_nr_consoles dev tty63 cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com",,
4001,bec1dd18e2f077656cadcbbd31a88fceaf0613fa,avel Emelyanov <xemul@virtuozzo.com>, 2016-04-27 14:29:00 +0300, , move clone_foo namespaces.h remove double declaration clone_newcgroup also remove declaration clone_allns pstree.c tycho two clone_allns differ one pstree.c clone_newcgroup believe misprint test seem pas signed pavel emelyanov xemul virtuozzo.com acked cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com,,
4002,7fdbfba40a7fa96cd9b90f4d94141200f6eeceee,ndrei Vagin <avagin+ppc@gmail.com>, 2016-04-27 03:26:00 +0300, , zdtm atomic atomic_inc return old value 30.269 err test.c 208 test exited unexpected signal correct name function example use name criu arch ppc64 include asm atomic.h find set function test zdtm lib arch aarch64 include asm atomic.h think code readable understandable return signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4003,9d03d77f20f9ebc0e56dba86cd31b9491d399c0b,ndrew Vagin <avagin@virtuozzo.com>, 2016-04-29 01:09:00 +0300, , zdtm check ghost file read directory log dump zdtm static unlink_fstat00 restore.log grep error 00.097701 error file reg.c 1231 link zdtm static test file 00.097707 error file reg.c 1431 link zdtm static test file 00.097952 error restore.c 1404 exited status 00.108085 error restore.c 1407 killed signal killed 00.114341 error restore.c 2246 restoring failed error add new test instead changing existing one signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4004,330b0d165661b35b8056dc5c81d9223837972c6e,avel Emelyanov <xemul@virtuozzo.com>, 2016-04-28 17:46:00 +0300, , test check action script work expect expect script called always image dir variable script root pid variable signed pavel emelyanov xemul virtuozzo.com acked andrew vagin avagin virtuozzo.com,,
4005,caf67f1f73b534a3276ceb03ddcec2e180a53436,avel Emelyanov <xemul@virtuozzo.com>, 2016-04-28 17:46:00 +0300, , script set root item pid restore root_item may exist real pid yet resolved fix e5e8f791 signed pavel emelyanov xemul virtuozzo.com acked andrew vagin avagin virtuozzo.com,,
4006,8a7a360d6dd76c2ff5ad00f360c1f321cb9d8025,uslan Kuprieiev <kupruser@gmail.com>, 2016-04-28 21:35:00 +0300, , uninstall use record setup.py record option allows keep track file installed writing specified file use file proper cleanup uninstall drop really care dirs setup.py report signed ruslan kuprieiev kupruser gmail.com reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4007,851290bfa12778b061a3ef8f8792f8b364e30e54,ndrew Vagin <avagin@virtuozzo.com>, 2016-04-27 21:25:00 +0300, , travis enable compilation ppc64le qemu static ubuntu xenial contains required fix execute compilation ppc64le travis rebase criu dev set qemu_cpu power8 avoid segfaults qemu ppc64le static default qemu gcc5 produce code ppc64el run power7 platform however debian gcc build instruction gcc explicitly built produce code power8 platform obviously additional instruction use ubuntu trusty xenial wily bug processing trigger libc bin 2.21 0ubuntu4.1 ... sbin ldconfig.real sbin ldconfig.real syntax error unexpected sbin ldconfig.real sbin ldconfig.real syntax error unexpected arm x86 aarch64 removed mistake signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4008,4576a033856418cf066fdbf33fdd94a646221134,avel Emelyanov <xemul@virtuozzo.com>, 2016-04-27 15:03:00 +0300, , test check breakpoints restore work  signed pavel emelyanov xemul virtuozzo.com,,
4009,54d7913be08f51fd01784eb017111f05f4859f98,yrill Gorcunov <gorcunov@openvz.org>, 2016-04-22 18:45:52 +0300, , build add install.md update make help signed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4010,ca393ebdf706a1a2ab44a541e6c2b80d9308ad58,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-04-22 13:52:00 +0300, , source fix pr_perror usage log cleanup patch pr_perror print new line signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4011,1c7afb7f6139f5158b5fb744f11a01a24c7f5c69,avel Emelyanov <xemul@virtuozzo.com>, 2016-04-21 15:57:29 +0300, , action set envs twice images_dir init_pid constant enough set per criu signed pavel emelyanov xemul virtuozzo.com,,
4012,185cfc05eecc8ebd2388e9c033ff63a71ae4ca20,avel Emelyanov <xemul@virtuozzo.com>, 2016-04-21 15:57:05 +0300, , action move shell script helper signed pavel emelyanov xemul virtuozzo.com,,
4013,ac78f13bdfaee260dd4234f054bf4c5d2a373783,avel Emelyanov <xemul@virtuozzo.com>, 2016-04-21 15:56:46 +0300, , action introduce explicit script mode effectively two mode action call shell script call rpc make code work side effect mess environment variable case rpc notification signed pavel emelyanov xemul virtuozzo.com,,
4014,a8510f7d316c9e74e31b7bba06cbd775520e111a,avel Emelyanov <xemul@virtuozzo.com>, 2016-04-21 15:56:24 +0300, , action add rpc notify separate call let clean action script.c eventually signed pavel emelyanov xemul virtuozzo.com,,
4015,f2012edce32accb5f7d2cb288cd72a973cb9ab0c,avel Emelyanov <xemul@virtuozzo.com>, 2016-04-21 15:56:02 +0300, , action move struct script file internal action scripts.c business signed pavel emelyanov xemul virtuozzo.com,,
4016,a9c0864284891d31190871798585d9a8e44c3f34,avel Emelyanov <xemul@virtuozzo.com>, 2016-04-21 15:55:43 +0300, , action move script list file used purely inside action scripts.c move pollute global opts signed pavel emelyanov xemul virtuozzo.com,,
4017,eb53f9beae27c67af1087e67544693b70116b52e,avel Emelyanov <xemul@virtuozzo.com>, 2016-04-25 22:30:58 +0300, , mount fix brace formatting signed pavel emelyanov xemul virtuozzo.com,,
4018,6dfd7cf519d02343078614204183f1703d1b7520,ndrew Vagin <avagin@virtuozzo.com>, 2016-04-22 19:48:00 +0300, , util affect log_fd fix 1dc2f87b33ce util shutdown log error negative stanislav kinsburskiy skinsbursky virtuozzo.com signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4019,3276406d656743180109660b689cf3458c7ad0eb,yrill Gorcunov <gorcunov@openvz.org>, 2016-04-20 12:11:52 +0300, , build add uninstall action handled scratch significant problem python setup added preliminaty solution probably someohe good knowledge setup.py work improve later signed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4020,339a7868b915930c4ed303649c71e2e6eea6bb0e,yrill Gorcunov <gorcunov@openvz.org>, 2016-04-20 12:11:51 +0300, , build install add bindir var need uninstall action signed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4021,7a25c82bfd50f6a7b0f1caf5176fc3cc2d001110,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-04-22 13:20:00 +0300, , util shutdown log error negative otherwise error case exec error printed problem err negative replaced log err moved stderr mean log_fd _closed_ log facility still consider log valid try use print error message case exec failure equal writing dev null basically patch shutdown log err negative thus forcing criu output exec error stderr replaced log btw signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4022,781601a053d0310cc11bbc6a58467871a69a705a,irill Tkhai <ktkhai@virtuozzo.com>, 2016-04-22 08:43:00 +0300, , zdtm custom file name binfmt_misc test several copy binfmt_misc test running may fail duplicate name fix giving custom name registered proc sys binfmt_misc xxx test zdtm static binfmt_misc fail start test output 33.594 string magic_file x73 x51 xff x4a xec x29 xcd xba xab xf2 bin interpreter ocp 33.594 fail binfmt_misc.c 133 write magic_file errno invalid argument 33.594 err test.c 204 test exited unexpectedly code signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4023,d3cf1c4f2b619652e6b67eba4004268eef4dc96a,ndrew Vagin <avagin@virtuozzo.com>, 2016-04-21 18:34:00 +0300, , restore wait userns prepared moving cgroups user namespace stepping wait preparation complete start using userns daemon internally kernel check uids uids set einval returned usersn call sendmsg change stage correctly wait prepare_userns making call usernsd cyrill gorcunov gorcunov gmail.com acked cyrill gorcunov gorcunov gmail.com signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4024,bd057dc3ad0618650535f01636cb5cedbf246da1,mitry Safonov <dsafonov@virtuozzo.com>, 2016-04-21 14:27:31 +0300, , util add parameter parenthesis __open_proc statement expr fix small bug __open_proc macro called __open_proc pid ignore_noent enoent o_rdonly loginuid ier parameter badly expanded current version __fd errno ignore_noent enoent result doe hide file error feature test least arm gcc big deal tho reported alex avankemp gmail.com signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4025,871d21807b6a7c2b26b37f3ec8e99326ad5d291b,mitry Safonov <dsafonov@virtuozzo.com>, 2016-04-21 14:27:30 +0300, , kerndat use proc_self loginuid test impact little optimization signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4026,7a2068e374b98c2a1224e41c234e5a8fffa5c316,ndrew Vagin <avagin@virtuozzo.com>, 2016-04-21 20:48:00 +0300, , zdtm fix compilation netns dev signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4027,0d8289d852c69288b4ccbfdce20a7d4a029e2187,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-04-20 17:42:51 +0300, , zdtm net ipv4 rename devconfs4 rand_limit4 dir4 signed pavel tikhomirov ptikhomirov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4028,af851fdf5335316fe14a99c2c8d7bfbbcde7d617,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-04-20 17:42:43 +0300, , net ipv4 suffix devconfs signed pavel tikhomirov ptikhomirov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4029,ae682757fdd19300721dc9e318b3f15a1f5580d7,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-04-20 17:42:42 +0300, , net ipv4 add new sysctls appeared commit 12b74dfadb5a ipv4 add option drop unicast encapsulated multicast commit 97daf3314550 ipv4 add option drop gratuitous arp packet signed pavel tikhomirov ptikhomirov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4030,5bdc16238b7bf7ffaa688506507f3fa5601bce71,ndrew Vagin <avagin@virtuozzo.com>, 2016-04-19 10:42:00 +0300, , file try change fsuid linkat failed found linkat unsafe file work userns file uid equal currect fsuid issue fixed changing fsuid calling linkat case able createa link target directory write premissions starting 4.3 kernel possible create link unsafe file f2ca379642d7 namei permit linking cap_fowner userns try call linkat without changing fsuid make one attempt changing fsuid first one failed eperm signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4031,555972746f9ee8d63717cf60937022917145c9ac,yrill Gorcunov <gorcunov@openvz.org>, 2016-04-19 18:15:00 +0300, , build install forget init destdir set leaf empty making setup pycriu python library wrong define root reported pavel emelyanov xemul virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4032,6e7e2efc5ed866001aaac7bdab64280bb21c39c7,ndrew Vagin <avagin@virtuozzo.com>, 2016-04-18 19:56:00 +0300, , criu check without file descriptor kirill tkhai ktkhai virtuozzo.com signed andrew vagin avagin virtuozzo.com acked kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4033,2bf231496fca7698245c7ec35ddaea267c51eaa5,irill Tkhai <ktkhai@virtuozzo.com>, 2016-04-18 18:11:00 +0300, , file correctly handle task open file descriptor fail task open file fix zdtm static test broken 00.004411 error dump.c 1312 dump file pid failed 00.004548 error dump.c 1614 dumping failed signed kirill tkhai ktkhai virtuozzo.com acked cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4034,cabfbbef36569032e4d873d208d447e2789733db,yrill Gorcunov <gorcunov@gmail.com>, 2016-04-14 19:04:00 +0300, , criu action script access root_item_pid present might nil predump dereference present signed cyrill gorcunov gorcunov virtuozzo.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4035,49877012e313ca5efd9c68837cf793969cb01f76,ndrei Vagin <avagin+ppc@gmail.com>, 2016-04-12 21:14:00 +0300, , zdtm check mem_dirty_track pre snap set signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4036,fb7e5a3ee6dea38f4c2d18b6e4eed592822dd608,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-04-12 14:59:00 +0300, , fix compilation action scripts.c one far post resume script need pid join signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4037,6d9507f44f69640db3ebfe50671d6519d3a634ce,avel Emelyanov <xemul@virtuozzo.com>, 2016-04-08 16:18:57 +0300, , kdat remove tcp_max_rshare tcp code need one longer signed pavel emelyanov xemul virtuozzo.com,,
4038,d5a7a1cb5096b17fdca5dde37de2e36ee565c89b,avel Emelyanov <xemul@virtuozzo.com>, 2016-04-08 16:18:16 +0300, , tcp send much possible mess sysctl try sending queue greedy mode shrinking max_chunk eventually needed reason first get rig reading max_rshare sysctl make libsoccr possible simple signed pavel emelyanov xemul virtuozzo.com,,
4039,72b48d2713257f49425e6d2c8ffd25e89fc9c8ff,ndrew Vagin <avagin@virtuozzo.com>, 2016-04-07 20:29:44 +0300,1, handle erorors lseek cid 159475 unchecked return value library checked_return check_return calling lseek img_raw_fd img pkt entry length without checking return value library function may fail return error code signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4040,40b68eb405f1a67b04136c9d22dbd0b8d229abcb,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-04-12 12:50:00 +0300, , restore set ns_pid environment variable post resume hook one far post resume script need pid join namespaces let container root  enviroonment setup moved run_scripts environment variable ns_pid renamed signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4041,2ab599398ddbde3449f1b9d4d3f5152591854cff,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-04-07 12:59:29 +0300, , restore post resume hook introduced hook called end everything restored process resumed used action require operation container like restarting systemd autofs service  call post resume script detach option check make sure restored process still alive  remove code chunk escaped debugging signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4042,9f7f0e02a43aa01c54af98fdbe122faf4ff7ae81,avel Emelyanov <xemul@virtuozzo.com>, 2016-04-11 11:19:43 +0300, , criu version 2.1 first month release whatever master branch quite new feature lot bugifxes signed pavel emelyanov xemul virtuozzo.com,,
4043,a4205bbab5435b54e677cad2fb43cedead257ae3,ndrew Vagin <avagin@virtuozzo.com>, 2016-04-05 22:29:40 +0300, , file change work default file limit signed andrew vagin avagin virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4044,96a355ab17ba09b99dc7f072dce3648fc96bd907,ndrew Vagin <avagin@virtuozzo.com>, 2016-04-05 22:29:38 +0300,145, file dump file descriptor portion currently criu handle process 1024 file descriptor patch criu dump file descriptor iteration fix http github.com xemul criu issue 145 move collect stage signed andrew vagin avagin virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4045,a249869dbb57e934e9b49cb07d38563ae1cf6844,ndrew Vagin <avagin@virtuozzo.com>, 2016-04-05 22:29:37 +0300, , file expand slice dinamically going remove limit patch preparation signed andrew vagin avagin virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4046,3b70d9a1ff066515b96c54fd5c249c678d89697d,engguangxing <dengguangxing@huawei.com>, 2016-04-05 11:05:40 +0800, , modify switch_ns error message signed deng guangxing dengguangxing huawei.com signed pavel emelyanov xemul virtuozzo.com,,
4047,4f84171df717626a7790a0b5e8597a8a371e286b,ycho Andersen <tycho.andersen@canonical.com>, 2016-04-05 01:40:00 +0300, , net allow dumping gre0 gretap0 device injected every network namespace ip_gre module loaded configured usable tunnel let ignore signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4048,1700a9bf20cd29dde7ae407f825177663a28ab2c,yrill Gorcunov <gorcunov@openvz.org>, 2016-04-04 19:39:00 +0300, , build criu forget cleanup arch directory signed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4049,0602bca40f30d82cd3cd5c554a41a0c52c61aa39,yrill Gorcunov <gorcunov@virtuozzo.com>, 2016-03-31 16:32:41 +0300, , add rollback get_cg_set case error inside collect_cgroups need ctls list spliced ctls cant free rather use put_ctls ctls delete global cg_sets list free signed cyrill gorcunov gorcunov virtuozzo.com reviewed andrew vagin avagin openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4050,be5062c1c2bf852ed494e12aadad375a7db5a26b,yrill Gorcunov <gorcunov@virtuozzo.com>, 2016-03-31 17:39:44 +0300, , add rollback add_cgroup failed ncd sitting match child head list free ncd entry leaving list carrying dead pointer add proper rollback action signed cyrill gorcunov gorcunov virtuozzo.com acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4051,94bfda900ee43adbd67a8bca5fd838e4aca5ff99,yrill Gorcunov <gorcunov@virtuozzo.com>, 2016-03-31 17:39:43 +0300, , fix use free put_ctls since freeing list entry forget initialize list otherwise get free entry may hit use free bug signed cyrill gorcunov gorcunov virtuozzo.com acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4052,c553fe04f4854bf6b0a36afcd956f1e72561be75,mitry Safonov <dsafonov@virtuozzo.com>, 2016-04-04 16:41:00 +0300, , parasite syscall print syscall number still able distinguish garbage register definitely prettier 00.036900 687 trapped 00.036903 687 going execute syscall 158 00.036928 687 trapped 00.036931 687 going execute syscall 173  00.024403 687 trapped 00.024407 687 going execute syscall 00.024419 687 trapped 00.024421 687 going execute syscall signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4053,3e48109a4d832bc0eb647ff9c646d680b523cba7,yrill Gorcunov <gorcunov@openvz.org>, 2016-04-02 22:21:00 +0300, , criu drop prlimit compat layer previously early stage tried workaround lack prlimit libc call simply providing implementation cause problem libc configuration simply use rlimit64 __nr_prlimit64 syscall directly kernel must support __nr_prlimit64 syscall provide rlimit64 structure well signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4054,c881d0449c980d76e46fc044d533b33f116073ab,avel Emelyanov <xemul@virtuozzo.com>, 2016-03-29 15:27:16 +0300, , criu warn namespaces deprecation option use proc pid link thus later used restore time tell namespaces restore pstree right always generated option effect meaning signed pavel emelyanov xemul virtuozzo.com,,
4055,75a9c3b697c931a4bd898dd1935ad2a909043f03,avel Emelyanov <xemul@virtuozzo.com>, 2016-04-04 14:35:57 +0300, , rst deprecate ids.img case writing file since 0.4 hopefully nobody using oldie bug_on return error triggered corrupting image signed pavel emelyanov xemul virtuozzo.com,,
4056,0cdd2a2964fc8de4c834c4e7f158c67495243808,yrill Gorcunov <gorcunov@openvz.org>, 2016-04-01 18:08:00 +0300, , pie use pr_perror regular build helper used pie non pie code second use normal pr_perror signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4057,caec89267bf7d440a46a3f9d4129de7508b90463,ndrew Vagin <avagin@virtuozzo.com>, 2016-04-01 20:40:00 +0300, , util return aligned pointer shmalloc atomic operation work non aligned pointer log dump zdtm static autofs restore.log grep error 00.185037 error root git criu criu include lock.h bug root git criu criu include lock.h 00.207193 error restore.c 1407 100 killed signal killed 00.219187 error restore.c 2237 restoring failed error 4339 futex 0x7fa79c1561da futex_wake 2147483647 unfinished ... 4339 ... futex resumed einval invalid argument signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4058,52fe2af2f3cf051600d1c67cb7c4745535275631,ndrew Vagin <avagin@virtuozzo.com>, 2016-03-31 22:27:00 +0300, , zdtm non root user dump aio01 copy aio00.desc signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4059,54c6ac7a2ff6866f61b65cc3ee5e0ed8152eae61,irill Tkhai <ktkhai@virtuozzo.com>, 2016-03-31 14:43:00 +0300, , aio take account ring never parent pre dump since aio ring never pre dumped never parent pre dump make generate_iovs know signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4060,c22c748f75776fc4dcff832ddaa2ccdeb7ceebb2,irill Tkhai <ktkhai@virtuozzo.com>, 2016-03-30 14:35:00 +0300, , add sys_io_submit definition signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4061,3ed375809ec92215b145f4ced7641996682a1a65,irill Tkhai <ktkhai@virtuozzo.com>, 2016-03-28 12:23:56 +0300, , zdtm add aio01 test description create context submit several operation get event sleep signal check tail head event restored correct emit one operation check tail moved one number forward i.e synchronize kernel userspace tail different signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4062,b6386369d7cdf283a4cef94f4e38ee452af1b476,irill Tkhai <ktkhai@virtuozzo.com>, 2016-03-28 12:23:47 +0300, , aio add aio sanity check check aio header dump correctness tail head restore signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4063,3a7968d495f107da350f08622be0c256bfe66d4d,irill Tkhai <ktkhai@virtuozzo.com>, 2016-03-28 12:23:36 +0300, , aio restore aio ring content dump restore mmaped aio ring like private vma entry exception predump create context set head tail using write dev null copy aio ring restored created remap address signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4064,868f24e6a26f47a5520276090aaf6c271edae88f,irill Tkhai <ktkhai@virtuozzo.com>, 2016-03-28 12:23:27 +0300, , mem propagate struct pape_pipe type argument pp_ret signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4065,1c9f5adf3e2c15c8d17ab665938ed23bb805114b,irill Tkhai <ktkhai@virtuozzo.com>, 2016-03-28 12:23:15 +0300, , aio move aio restore related code separate function signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4066,a2f8aefd86c551c01765c3ad1b2c3c93772c2b0b,irill Tkhai <ktkhai@virtuozzo.com>, 2016-03-28 12:23:03 +0300, , aio make struct aio_ring visible everybody move declaration header file also rename since one function name signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4067,a3ecca2e30f5b768382743538f115be295a2f385,drian Reber <areber@redhat.com>, 2016-03-21 15:48:00 +0300, , move tcp server client setup code util.c page server already know create tcp server client code hidden behind static page xfer.c commit move common tcp server client code util.c able also use upcoming remote lazy server lazy client userfaultfd enhanced criu signed adrian reber areber redhat.com signed pavel emelyanov xemul virtuozzo.com,,
4068,5cfd96c46ff0dfd28ed8e25bf51b7f9acdc6ce30,ndrew Vagin <avagin@virtuozzo.com>, 2016-04-01 08:20:00 +0300, , restore add missing break signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4069,b3283a69961c003c87bc9e0fae64e138d1490b40,mitry Safonov <dsafonov@virtuozzo.com>, 2016-03-30 18:12:30 +0300, , pie util vdso split impact functional change cleanup signed dmitry safonov dsafonov virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4070,69b163ebdb25a323341797cab096190bfebc6d1b,mitry Safonov <dsafonov@virtuozzo.com>, 2016-03-30 18:12:29 +0300, , pie util vdso split impact functional change cleanup signed dmitry safonov dsafonov virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4071,9eb043b44a8fb016d7708370e5f8d76010982229,mitry Safonov <dsafonov@virtuozzo.com>, 2016-03-30 18:12:28 +0300, , pie util vdso split parse_elf_phdr impact functional change cleanup signed dmitry safonov dsafonov virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4072,4c69339cd2b75a9676d1a5b6e5821b651c7ccea8,mitry Safonov <dsafonov@virtuozzo.com>, 2016-03-30 18:12:27 +0300, , string.h pie use builtin strncmp instead strcmp signed dmitry safonov dsafonov virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4073,86cc00fb5f42eff331a5b645f555600d430823b9,mitry Safonov <dsafonov@virtuozzo.com>, 2016-03-30 18:12:26 +0300, , pie util vdso check elf structure end oob add check structure end inside memory area mem mem size dereferencing structure otherwise example try dereference ehdr member even vma size signed dmitry safonov dsafonov virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4074,7ec96efe3ccd0d3b2b05f91c636918644e28be87,mitry Safonov <dsafonov@virtuozzo.com>, 2016-03-30 18:12:25 +0300, , pie vdso convert char mem uintptr_t mem impact drop additional cast around cleanup signed dmitry safonov dsafonov virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4075,3bf85ce9392e15f83ffd06a0a06b5728b79204a1,mitry Safonov <dsafonov@virtuozzo.com>, 2016-03-30 18:12:24 +0300, , pie util vdso separate impact refactor signed dmitry safonov dsafonov virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4076,f7f1c240731a80868130f1954754e42856a390c0,mitry Safonov <dsafonov@virtuozzo.com>, 2016-03-30 18:12:23 +0300, , pie util vdso __ptr_oob fix thing would like remove based pointer compare 6.5.8.5 fno strict aliasing pie cflags even look nicer readable uintptr_t impact refactoring signed dmitry safonov dsafonov virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4077,46d197eb94033f4ffad9c6eb47e917dd1c80c4db,mitry Safonov <dsafonov@virtuozzo.com>, 2016-03-30 18:12:22 +0300, , pie make util vdso little specific add elf32 type wrap elf64 generic type parsing vdso image file signed dmitry safonov dsafonov virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4078,a356a2fd871b92174655561df92e94930ab69f11,avel Emelyanov <xemul@virtuozzo.com>, 2016-03-29 22:51:22 +0300, , tcp get tcp_info per socket right get option twice one time enough signed pavel emelyanov xemul virtuozzo.com,,
4079,e34fcc70babd97930f3e8b1229815c23ef2116a8,avel Emelyanov <xemul@virtuozzo.com>, 2016-03-29 22:50:32 +0300, , tcp move refresh routine dump one prerequisite next patch actually libsoccr signed pavel emelyanov xemul virtuozzo.com,,
4080,35f209ff7639e3834eb873f9fd3f4533e30fc63a,mitry Safonov <dsafonov@virtuozzo.com>, 2016-03-29 17:21:00 +0300, , fault add dump page fault parasite cleanup fauilure remove read protection vmas check maps00 test fault injection tested travis addition python test zdtm.py run zdtm static maps00 fault keep going report report false http travis ci.org 0x7f454c46 criu job 119252291 cyrill gorcunov gorcunov openvz.org pavel emelyanov xemul virtuozzo.com signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4081,058808007bf611a51a571b47405383a159c9b47f,avel Emelyanov <xemul@virtuozzo.com>, 2016-03-29 15:25:00 +0300, , pstree move reading separate function cleanup get rid function code block signed pavel emelyanov xemul virtuozzo.com,,
4082,070d420be65f7099f337eeaa91e6ddfca8e00744,avel Emelyanov <xemul@virtuozzo.com>, 2016-03-29 12:56:00 +0300, , test check nomemfd parasite injection default criu try create parasite mem memfd syscall present many system let check also legacy way signed pavel emelyanov xemul virtuozzo.com,,
4083,5c17b3023618122c6b605cd2c6d1a66b929a3f7b,avel Emelyanov <xemul@virtuozzo.com>, 2016-03-29 12:55:00 +0300, , zdtm nicer flavs removal signed pavel emelyanov xemul virtuozzo.com,,
4084,362784f032e76f0f9aa957f49a265318b9c70db5,avel Emelyanov <xemul@virtuozzo.com>, 2016-03-24 16:02:13 +0300, , pipe fifo collect data via cinfo engine signed pavel emelyanov xemul virtuozzo.com,,
4085,f674cbd60f4f229cd97d2e2cf7211ef1f7c1488d,avel Emelyanov <xemul@virtuozzo.com>, 2016-03-24 16:01:58 +0300, , unix collect packet via cinfo engine signed pavel emelyanov xemul virtuozzo.com,,
4086,508cb93374400e8c714daa664c84580a9d61ba8d,avel Emelyanov <xemul@virtuozzo.com>, 2016-03-24 16:01:29 +0300, , collect add img argument cinfo plan allow collect callback read stuff image file signed pavel emelyanov xemul virtuozzo.com,,
4087,347d670f290b62a77a084cbc9f4bb440f2595e2e,avel Emelyanov <xemul@virtuozzo.com>, 2016-03-24 16:00:57 +0300, , tty setup tty slavery via post_cb engine signed pavel emelyanov xemul virtuozzo.com,,
4088,92eb5ff5940fe0ee1ad7ef5cf44b88f11bdfd68d,avel Emelyanov <xemul@virtuozzo.com>, 2016-03-24 16:00:35 +0300, , pipe run master resolve via post_cb engine signed pavel emelyanov xemul virtuozzo.com,,
4089,3b288ca3924f072ffb24a2ab2580f9e3c40862d6,avel Emelyanov <xemul@virtuozzo.com>, 2016-03-24 16:00:12 +0300, , unix run peer resolving via post_cb engine autofs patch merged small engine allows queue random routine post prepare execution use unix socket interconneting routine also tiny optimization unix socket interconnect make extra list walk signed pavel emelyanov xemul virtuozzo.com,,
4090,46408840a4ed9ef44f97a8da7ce2d65df6f112b2,avel Emelyanov <xemul@virtuozzo.com>, 2016-03-24 15:57:00 +0300, , rst mark static signed pavel emelyanov xemul virtuozzo.com,,
4091,03e13d475d95683790c7fcb7a0ea883a76c2068c,ycho Andersen <tycho.andersen@canonical.com>, 2016-03-21 18:22:00 +0300, , restore zombie collect child consider double fork helper zombie e.g zombie session match pid child exit grandchild grandchild reparents init task init helper list init well viz log 00.118789 add helper 293 restoring sid 293 00.118792 attach 294 temporary task 293 ... 01.394403 294 restoring zombie code ... pie task 294 exited status 01.434279 error restore.c 1308 12097 killed signal 01.434420 error restore.c 1308 12097 killed signal 01.450258 switching new clean ghost 01.450324 error restore.c 2138 restoring failed let helper reap child exit avoid block sigchld waiting helper race sicghld handler helper collect child zombie kid double decrement nr_tasks zombie case signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4092,a6c6ec89ad30dd7f5b7adbdfc410dd97452f5a4a,avel Emelyanov <xemul@virtuozzo.com>, 2016-03-21 14:51:26 +0300, , remove bogus extern declaration signed pavel emelyanov xemul virtuozzo.com,,
4093,366c9131ffe570f23137b09b10c0303edd587cc6,ike Rapoport <rapoport@il.ibm.com>, 2016-03-21 10:40:00 +0300, , autofs fix build fedora following error happens building criu fedora autofs.o autofs.c function autofs_mountâ autofs.c 892 error implicit declaration function werror implicit function declaration ret  cc1 warning treated error adding forward declaration resolve issue signed mike rapoport rapoport il.ibm.com signed pavel emelyanov xemul virtuozzo.com,,
4094,d6b97ad53645d667fb78e021df0e270000e54775,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-03-21 09:49:31 +0300, , restore move declaration include namespaces.h signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4095,7d7373a429634802ee891b3216991f78b2f7ecb6,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-03-16 16:17:46 +0300, , restore new list shared object introduced autofs restore need create shared data structure able pas data actual autofs master mount restore stage shared data configured yet list object actor processed mount shared data restored let autofs create object signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4096,84a89b46ada930443aed55889bf87eb412281809,ycho Andersen <tycho.andersen@canonical.com>, 2016-03-28 17:46:00 +0300, , restore correctly restore cgroup mount inside container nsroot mount option getting lucky cgroup superblocks matched inspecting userspace actually getting bind mount host migrating within cgroup namespaces instead let actually new i.e bind mount cgroup namespaces need two thing prepare cgroup namespace thus cgroups mount mount occurrs relative right cgroup path reject cgroup filesystems root cgroup mount look like 223 222 lxc unpriv sys cgroup systemd nosuid nodev noexec relatime cgroup cgroup xattr release_agent lib systemd systemd cgroups agent name systemd nsroot lxc unpriv i.e lxc unpriv root thus look rooted criu use fstype parse hook rewrite root since handled cgroup infrastructure add new fstype munge hook allowing fstypes munge parsed mountinfo entry want allows get rid ugly hack fstype__cgroup everywhere teh patch fstype munge fstype parse fstype__cgroup signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4097,870089d1eeefa78b589d2a9a9f0799ee71d4cdbe,mitry Safonov <dsafonov@virtuozzo.com>, 2016-03-29 13:11:00 +0300, , makefile drop rebuild help message target broken time without complaint user http pipermail criu 2016 march 026525.html cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4098,6094b643dcc4b2f1a72be55ccfd87aad2fcb6b24,yrill Gorcunov <gorcunov@openvz.org>, 2016-03-24 21:25:41 +0300, , nmk build.mk add libso helper link dynamic libs libcompel example signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4099,4a19618ea2a57945a39fbb185a1930c7b02d07dd,yrill Gorcunov <gorcunov@openvz.org>, 2016-03-24 21:25:40 +0300, , nmk build.mk add hostprogs mode signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4100,e4e2f19d85510b8638f418f9c15117f02ef35e90,yrill Gorcunov <gorcunov@openvz.org>, 2016-03-24 21:25:39 +0300, , nmk msg.mk add host message signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4101,1693e539d5a093771382c79c8b952d08b0e8c497,yrill Gorcunov <gorcunov@openvz.org>, 2016-03-24 21:25:38 +0300, , nmk build.mk shrink gen rule signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4102,cfc37c119c80b46bed8d2051bce85d9da1a10e70,yrill Gorcunov <gorcunov@openvz.org>, 2016-03-24 21:25:37 +0300, , nmk build.mk drop match rule signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4103,cb32e353bbd233eec3112fc4eca70063a0ab006a,yrill Gorcunov <gorcunov@openvz.org>, 2016-03-24 21:25:36 +0300, , nmk build.mk fix deps target mode forget call objectify signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4104,cd5f7df520a73214b813a6bb748b0e146d779181,yrill Gorcunov <gorcunov@openvz.org>, 2016-03-24 21:25:35 +0300, , nmk build.mk squash gen rule gen rule signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4105,0d1eac7ed4b9e4bdd70eb3928ec1a53486d63da6,yrill Gorcunov <gorcunov@openvz.org>, 2016-03-24 21:25:34 +0300, , nmk drop rules.mk much point carrying separate file signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4106,580ca3dd68408978d93f0f52ba05cf0fe192920e,yrill Gorcunov <gorcunov@openvz.org>, 2016-03-24 21:25:33 +0300, , nmk rules.mk fix aflags typo signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4107,afbc03ee15ff4cf9d9b14c24fce95c7c41caa5a7,yrill Gorcunov <gorcunov@openvz.org>, 2016-03-25 11:51:00 +0300, , test remap_dead_pid _root run namespace test check file descriptor assigned pid freed already check pid namespace otherwise kernel may give pid someone else check commit might trigger stop testing procedure signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4108,a8fb0b99be8d241e7f0c50201cb67c72b7bf5901,mitry Safonov <dsafonov@virtuozzo.com>, 2016-03-25 15:29:00 +0300, , log add gnu styled output stdout would open file named log criu criu dump 20526 print log stdout charming signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4109,08ff91d966c6a6cbef32146ccd3385d132d972f7,ndrew Vagin <avagin@virtuozzo.com>, 2016-03-24 22:35:00 +0300, , jenkins build coverage report gcov set set umask 0000. required generate gcda gcno file signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4110,790957ea33f1f587e51c0cf418a23d63f07768b8,mitry Safonov <dsafonov@virtuozzo.com>, 2016-03-23 18:25:00 +0300, , criu use strsignal describe kill reason possible use glibc signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4111,89ba5489c472c6f36a1f952f40b26cd2c6d50fac,ndrei Vagin <avagin@virtuozzo.com>, 2016-03-24 22:13:00 +0300,140, rst malloc adjust free_bytes need adjust free_bytes time change free_bytes fix 140 signed andrew vagin avagin virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4112,12e85f1572fb0b3d9ca205b2df7e6dccacd275ac,ergey Bronnikov <sergeyb@openvz.org>, 2016-03-24 18:47:00 +0300, , zdtm.py updated logic keep going option option keep going mandatory run single testcase show warning use keep going custom set testcases ignore keep going run custom set testcase exit 1st fail signed sergey bronnikov sergeyb openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4113,92c0e732d8316c764ac281ce8514a14d2f01d525,yrill Gorcunov <gorcunov@openvz.org>, 2016-03-24 17:55:00 +0300, , build image add missing cleanup commit 9469dae61c dropped implicit cleanup pattern image dir use additional custom rule simply drop file built signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4114,bd7081202395bbe1460b108c85fab9bdc9746441,avel Emelyanov <xemul@virtuozzo.com>, 2016-03-24 15:56:00 +0300, , zdtm add ability run test list sometimes running test manually tempting prepare list test run advance run e.g testing new feature affect _some_ test option allows signed pavel emelyanov xemul virtuozzo.com,,
4115,06cc12a275522c1e7b6fd7a922dcc381841b7872,yrill Gorcunov <gorcunov@openvz.org>, 2016-03-21 15:12:00 +0300, , nmk build.mk fix rule external libs typo signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4116,8994edebe1aac03ffff5de373f9685bdf58c222e,yrill Gorcunov <gorcunov@openvz.org>, 2016-03-21 15:12:00 +0300, , nmk build.mk make process depend makefile makefile changed detecting signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4117,10eaabd1754d3345d6296a1051b70b64b62dfea8,ycho Andersen <tycho.andersen@canonical.com>, 2016-03-23 05:57:00 +0300, , namespaces zero struct ns_id allocating later find_ext_ns_id probably others well depend struct zeroed order figure whether collect info let make sure actually zeroed signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4118,89d75796541f86779528be38d93edf3dd470243b,ycho Andersen <tycho.andersen@canonical.com>, 2016-03-22 02:13:00 +0300, , mount ignore subvol argument btrfs see comment detail basically mountopt completely wrong case signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4119,452734192849ab92c2bc29494120f64a8de77642,yrill Gorcunov <gorcunov@openvz.org>, 2016-03-21 15:12:00 +0300, , nmk build.mk cleanup use cleanup cleanify helper remove file generating anything else signed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4120,b07d3049050d7f5c15b38734a76da5ef0828833a,yrill Gorcunov <gorcunov@openvz.org>, 2016-03-21 15:12:00 +0300, , nmk utils.mk add cleanify helper signed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4121,6efe63109ce1e5a03e86a36b369cb408eb53a977,yrill Gorcunov <gorcunov@openvz.org>, 2016-03-21 15:12:00 +0300, , nmk utils.mk drop redundant space signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4122,95f3f22e6e47d1829da4bded4b99fe28173d219d,yrill Gorcunov <gorcunov@gmail.com>, 2016-03-21 15:12:00 +0300, , nmk build.mk fix typo gen target rule signed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4123,7beccce4b400d5ea6156526a4ada4bfcd4a01f7d,yrill Gorcunov <gorcunov@gmail.com>, 2016-03-21 15:12:00 +0300, , nmk rules.mk add per obj flag signed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4124,c0ba98fd30658eec999064fb9ddd1627a8c2c7fd,yrill Gorcunov <gorcunov@openvz.org>, 2016-03-21 15:12:00 +0300, , nmk build.mk drop unused objlist target signed cyrill gorcunov gorcunov openvz.org reviewed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4125,f4ac56c0dd6696f9e2cf2024f0bf69a7308165fc,yrill Gorcunov <gorcunov@openvz.org>, 2016-03-21 15:12:00 +0300, , nmk rules.mk drop cflags_ asflags_ add ability bring via param never worked need pas explicit parameter signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4126,7e2eee9e3ca75c7d4429f41804e8ba9c9b7ac7d7,mitry Safonov <dsafonov@virtuozzo.com>, 2016-03-18 13:09:33 +0300, , build add mrproper target time type make clean find tag cleaned generated header file deleted getting annoyed mostly protobuf image definition need run make make tag painful think may separate clean process two part like done kernel omitting distclean cleaning binary object leave enough navigate clean everything compiled generated etc patch pie blob still deleted clean stage may fix later patch _should_ regenerated make clean make cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4127,19bd013a1e5d90646d2fc48ced39ea8c1ce45b21,mitry Safonov <dsafonov@virtuozzo.com>, 2016-03-18 13:09:32 +0300, , build nmk add mrproper separate clean process two part deleting binary object temp deleting generated file cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4128,46e48dc168556dd9a1aafb96f228e53e02eded98,ndrew Vagin <avagin@virtuozzo.com>, 2016-03-21 23:41:00 +0300, , zdtm close __file_report executing test grep error 00.011453 error file reg.c 1136 lookup mount path var lib jenkins workspace criu inhfd test report criu testreport.tap 00.011478 error dump.c 1304 dump file pid failed 00.011903 error dump.c 1606 dumping failed error sergey bronnikov sergeyb openvz.org fix c4e13bc92816 zdtm.py add support test report tap format signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4129,8d23e3342fdb68be254640a01c1085fbbe65b66b,ndrew Vagin <avagin@virtuozzo.com>, 2016-03-19 02:00:00 +0300, , jenkins use full name keep img option test zdtm.py run best maps04 cgroup02 norst keep always usage criu test suite run test test flavor exclude sibling pre pre snap dedup nocr norst iters iters fault fault sat freezecg freezecg user page server parallel dry run always never failed report report keep going criu test suite run error ambiguous option keep could match keep img keep going worked fine without keep going option xemul remove keep going report option run zdtm.py much interest tap signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4130,3cb39f95bb382e6e34544c2346bee0336c9eeaf5,ergey Bronnikov <sergeyb@openvz.org>, 2016-03-17 14:45:00 +0300, , zdtm.py add yaml block detail tap report requested andrey patch add detail failed testcase tap report tap version  zdtm static flavor signed pavel emelyanov xemul virtuozzo.com,,
4131,229a6edfbd0c9a6079048b3177d35db74db570d2,ergey Bronnikov <sergeyb@openvz.org>, 2016-03-16 18:28:00 +0300, , jenkins change jenkins script run full set test add option keep going report absent run full testrun report creation signed sergey bronnikov sergeyb openvz.org acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4132,1e0bc96ae8954d800f03d3789a1f200dea2f58ff,ergey Bronnikov <sergeyb@openvz.org>, 2016-03-17 13:25:00 +0300, , zdtm.py fix overall return code keep going option signed sergey bronnikov sergeyb openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4133,70cb4326b61fde36edf669e536fddc3ee4c90295,aied Kazemi <saied@google.com>, 2016-03-17 00:38:00 +0300, , rework criu check logic criu check command check kernel properly configured run criu broken criu check command used way tell criu check feature merged upstream recent kernel set feature whose presence necessarily mean dump restore fail rather may fail depending whether process tree feature patch deprecates introduces extra experimental see criu help man criu info typical use case sudo criu check zero warning error ... look good echo  sudo criu check extra zero warning error ... look good echo  sudo criu check extra one warning ... look good kernel feature missing depending process tree may cause dump restore failure echo  sudo criu check feature list mnt_id aio_remap timerfd tun userns fdinfo_lock seccomp_suspend seccomp_filters loginuid cgroupns sudo criu check feature mnt_id warn check.c 283 fdinfo contain mnt_id field echo  sudo criu check feature tun tun supported echo  signed saied kazemi saied google.com signed pavel emelyanov xemul virtuozzo.com,,
4134,69adfe7b5cbf5f29cc21d943d69974a4ac3b8be3,ndrey Vagin <avagin@openvz.org>, 2016-03-16 21:22:11 +0300,134, zdtm emulate situation invalid file irmap cache fix 134 signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4135,c5880ba2cfad9fbcd1bfa32593ee6ba9d087f6e8,ndrew Vagin <avagin@virtuozzo.com>, 2016-03-16 21:22:10 +0300, , zdtm add post predump hook signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4136,c5c5434506921b5924a992ff87924c6191f33935,ndrei Vagin <avagin@openvz.org>, 2016-03-16 21:22:09 +0300, , fault add ability fault open_by_handel code coverage report found inotify_irmap test irmap cache always able resolve path proc pid current view top level criu irmap.c source function hit total coverage test criu.info line 223 17.9 date 2016 function 30.8 series introduces new fault emulate situation file opened handle find irmap cache required test irmap cache know force without patch time file opened handle path resolved via proc pid signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4137,84359f7a10d87faf40b578971e589f2582696e92,ergey Bronnikov <sergeyb@openvz.org>, 2016-03-16 18:01:00 +0300, , zdtm.py change format test description tap report changed per request andrey vagin signed sergey bronnikov sergeyb openvz.org acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4138,bb2f97e6636aab7eca08fbc02a144d0f65326947,ndrew Vagin <avagin@virtuozzo.com>, 2016-03-16 08:06:00 +0300,137, libnetlink back port fix nlattr_parse bug fixed libnl 3.2.24 rhel7 trusty ubuntu update packet yet commit author samuel gauthier samuel.gauthier 6wind.com date fri nov 2013 0100 commit 6a8d90f5fec4 attr allow attribute type intended allow parsing netlink packet unix _diag even using type valid attribute lacked part nla_parse nicolas dichtel nicolas.dichtel 6wind.com signed samuel gauthier samuel.gauthier 6wind.com signed thomas graf tgraf suug.ch fix 137 signed andrew vagin avagin virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4139,cabafae2e5695f245dba21abb5dc98dd85df4675,ergey Bronnikov <sergeyb@openvz.org>, 2016-03-15 17:42:20 +0300, , zdtm.py add support test report tap format usually run criu test automatically using jenkins report status pas fail overall testsuite used environment dig log file figure many test failed skipped patch brings support cute report tap test anything protocol format sample report tap version 242 conntracks skip manual run busyloop00 sleeping00 pid00 caps00 wait00 note report generated option keep going report specified signed sergey bronnikov sergeyb openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4140,474f2dfc5dd42af6679eeda15425c1e401267a11,ergey Bronnikov <sergeyb@openvz.org>, 2016-03-15 17:40:42 +0300, , zdtm.py add option keep going introduce option keep going make ability run planned test ignore failed test also option zdtm.py keep image file output log failed test vagrant fedora test find sergeyb xxx maxdepth sergeyb xxx sergeyb xxx sergeyb xxx image sergeyb xxx image sergeyb xxx output sergeyb xxx images.0 sergeyb xxx images.0 sergeyb xxx output.0 sergeyb xxx sergeyb xxx output sergeyb xxx output.0 sergeyb xxx output.1 signed sergey bronnikov sergeyb openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4141,bab4e9c98c0a1b7f91e51e033813f2003146fb79,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-23 02:38:00 +0300, , netlink use nlattr instead rtattr kernel nlattr message signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4142,cae683dc462d04554450f12db9b17270ebd7a492,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-03-21 19:20:00 +0300, , ppc64 fix build regression build powerpc broken code cleanup recently patch fix regression fix f8a1a1d8d95e parasite syscall get rid code_syscall size globals fix 69d88241584e sigframe move setup_sas make inliner signed laurent dufour ldufour acked dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4143,227068c8dcd36cf9c3572ea542ab87cb48fe52b2,yrill Gorcunov <gorcunov@openvz.org>, 2016-03-18 01:58:00 +0300, , build drop image autogenerated gen built signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4144,3ddf271a5b6362838ef18a9ede9392b78188a1b6,yrill Gorcunov <gorcunov@openvz.org>, 2016-03-18 01:58:00 +0300, , nmk scritps macro.mk enhance gen built add ability specify prerequsites phony target signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4145,c58cd75503aac5f5b0b11e2c129b13ebed5fac49,mitry Safonov <dsafonov@virtuozzo.com>, 2016-03-17 22:13:00 +0300, , sigframe move setup_sas make inliner impact functional change cleanup cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4146,0b3901fb2990a51ec30a091571bba4d98cd3af44,mitry Safonov <dsafonov@virtuozzo.com>, 2016-03-17 20:17:00 +0300, , parasite syscall get rid code_syscall size globals think may safely remove export code_syscall used one function parameter must equall build_bug_on may used instead see ptrace align restriction ptrace_peekuser reduce arch depended code coupling little also interested need execute bit syscall code x86_64 prefer leave without config_x86_64 generic code cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4147,5f51cd4de256cb746a1b80a6d7ec2148d995001d,aied Kazemi <saied@google.com>, 2016-03-12 03:02:00 +0300, , netfilter add iptables ip6tables call preload netfilter module criu run iptables ip6tables starting dump restore process tree system many entry command without option take long time lengthy dns lookup signed saied kazemi saied google.com acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4148,ef4dbebe47ddc61ff227fad3d059dd407b2e1546,yrill Gorcunov <gorcunov@gmail.com>, 2016-03-17 17:09:00 +0300, , criu seize left dangling pointer error occured freeing array time take freezer_detach error path execute lead nil dereference best case simply zap dangling pointer make sure exist freezer_detach signed cyrill gorcunov gorcunov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4149,2d938397a6d7382cca4200f3d86f6f31512e8c81,mitry Safonov <dsafonov@virtuozzo.com>, 2016-03-17 14:38:00 +0300, , x86 restorer drop unused struct pt_regs cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4150,a833ead951f54ad1963dac13bdb70d7e1313ef53,mitry Safonov <dsafonov@virtuozzo.com>, 2016-03-16 21:46:00 +0300, , pie restorer remove unused parameter frm since commit 22396f769061 restore construct sigframe crtools sigframe unused restore gpregs fpu regs doe impact cleanup signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4151,b1b9eb7b329e2c785fac7e638ff422d4721dc50e,avel Emelyanov <xemul@virtuozzo.com>, 2016-03-16 15:26:00 +0300, , zdtm wait transition test run time start test work make sense let progress signed pavel emelyanov xemul virtuozzo.com acked andrew vagin avagin virtuozzo.com,,
4152,6fe502dc8006496e8280f2d7be5e8507df7b2c12,yrill Gorcunov <gorcunov@openvz.org>, 2016-03-16 18:26:00 +0300, , build doc use autogenerated footer generate footer dynamically provide criu.8 version program signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4153,1fc5c0244b03487526fd39c15b613c5f0da71fa7,yrill Gorcunov <gorcunov@gmail.com>, 2016-03-16 11:52:00 +0300, , criu fix nil deref error path may enter root_item null case error handling simply bail signed cyrill gorcunov gorcunov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4154,66ccd9a93233a9c23392c9d88a58d6c5db97b757,avel Emelyanov <xemul@virtuozzo.com>, 2016-03-16 15:24:00 +0300, , type remove setns override sys_setns signed pavel emelyanov xemul virtuozzo.com,,
4155,046a1fc8cc68f7b9d88000c35887ea3365738e8d,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-03-16 13:08:00 +0300, , check fix kcmp check commit 16e673c2f6a0 check inspect errno syscall failure reverts way returned error returned kcmp checked consequence criu check always failing following message error check.c 165 system call kcmp supported process patch ensure reported syscall sys_kcmp return enosys fix 16e673c2f6a0 check inspect errno syscall failure look good filipe brandenburger filbranden google.com pavel emelyanov xemul virtuozzo.com signed laurent dufour ldufour signed pavel emelyanov xemul virtuozzo.com,,
4156,d693a53fecc5068b8ddb7e7b3aa2fdb318cb09f2,yrill Gorcunov <gorcunov@openvz.org>, 2016-03-16 17:05:00 +0300, , criu arm use conditional syscalls needed using general syscall codes.h criu make sure header include override system header definition signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4157,e085251fc451a8a475568d5e47cbc37cbace70e8,yrill Gorcunov <gorcunov@openvz.org>, 2016-03-16 17:09:00 +0300, , criu arm guard __arm_nr_ definition signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4158,717d6a512aa8bc1501927a7ce9f4363bd41ae00e,ndrew Vagin <avagin@virtuozzo.com>, 2016-03-15 09:23:00 +0300, , dump getpriority return negative value since getpriority legitimately return value necessary clear external variable errno prior call check afterward determine error legitimate value filipe brandenburger filbranden google.com fix 16e673c2f6a0 check inspect errno syscall failure signed andrew vagin avagin virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4159,9f5c378ff1c252277115102478abe1ece05414a8,avel Emelyanov <xemul@virtuozzo.com>, 2016-03-14 11:32:00 +0300, , check call sbrk get current brk according man glibc brk report success need current brk signed pavel emelyanov xemul virtuozzo.com acked cyrill gorcunov gorcunov openvz.org saied kazemi saied google.com,,
4160,8c6062e8775a7f3f327149a2b4ce179f8b751728,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-03-15 16:01:00 +0300, , git ignore script build qemu user static andrey vagin avagin openvz.org signed laurent dufour ldufour signed pavel emelyanov xemul virtuozzo.com,,
4161,fa3c34c361960d4c1c93e2fb541f30b021148efa,yrill Gorcunov <gorcunov@openvz.org>, 2016-03-15 15:41:00 +0300, , criu use testing memfd presence define case missing libc need user namespace restore signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4162,74a265e74a8298d46fd956cb1bf6e40cc7c9b46d,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-03-15 11:02:08 +0100, , build conditionally defined sys_ constant patch change way per architecture syscall codes.h generated define __nr sys_ constant already defined way file could included file calling syscall ensure sys_ constant defined even library old file syscall codes.h included library header file signed laurent dufour ldufour acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4163,12ae750bc28d8172ea2bed12555dd4ae9a63fa9c,yrill Gorcunov <gorcunov@openvz.org>, 2016-03-15 15:41:00 +0300, , build criu link syscalls library need since use syscall libc wrapper signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4164,e7ba90955ce7a26ecadb0526979ecacff21f8778,ilipe Brandenburger <filbranden@google.com>, 2016-03-14 20:43:00 +0300, , check inspect errno syscall failure replacing sys_kcmp syscall sys_prctl prctl api changed return set errno failure instead returning negative value error code directly return commit 8ceab588a5ce91 crtools linked builtin syscall replaced call sys_kcmp sys_prctl update check ret check errno update also make comparison return value explicit check negative value expected instead failing non zero value implicit comparison add report errno set failed syscalls make easier troubleshoot check failure tested criu check stopped reporting misleading prctl one need capability perform testing instead report error check.c 165 system call kcmp supported process warn check.c 195 skipping unssuported pr_set_mm_map invalid argument prctl pr_set_mm supported invalid argument message include error message explains syscall failed reported saied kazemi saied google.com fix 8ceab588a5ce91 crtools linked builtin syscall laurent dufour ldufour signed filipe brandenburger filbranden google.com signed pavel emelyanov xemul virtuozzo.com,,
4165,a1b94a3d3e2fc699c3bea9995d39243016afcba3,van Shapovalov <intelfx@intelfx.name>, 2016-03-12 11:42:00 +0300, , zdtm zdtm.py write meta checkskip hook script group test signed ivan shapovalov intelfx intelfx.name signed pavel emelyanov xemul virtuozzo.com,,
4166,8fa1d7114a1e6aadab105b0c4a2a5add12c7045c,van Shapovalov <intelfx@intelfx.name>, 2016-03-12 11:42:00 +0300, , zdtm zdtm.py allow deliberately generating test group size signed ivan shapovalov intelfx intelfx.name signed pavel emelyanov xemul virtuozzo.com,,
4167,0fd53e07a5e892431b2be35411406c279b23a4ec,van Shapovalov <intelfx@intelfx.name>, 2016-03-12 11:42:00 +0300, , zdtm zdtm.py reset path canonical test deal distros like arch take usr merge extreme set path something like usr local bin usr bin usr sbin bin break rather inflexible nsroot population logic signed ivan shapovalov intelfx intelfx.name signed pavel emelyanov xemul virtuozzo.com,,
4168,98923551921fa8af498bb937e192c78a8dd6dc8e,ndrew Vagin <avagin@virtuozzo.com>, 2016-03-07 02:04:00 +0300, , zdtm mountpoints clean execute test test mount namespace contains test mount signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4169,3006ada21d2afa592ef4a26bc4d54a359d63daa8,ndrew Vagin <avagin@virtuozzo.com>, 2016-03-12 03:53:00 +0300,136, jenkins add script execute test overlayfs test pas created issue investigate fails test http github.com xemul criu issue 136 signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4170,d2499d974e927c7dc618f21c6448f3fdb55b32be,ndrew Vagin <avagin@virtuozzo.com>, 2016-03-10 01:38:00 +0300, , mount handle device number different format properly two format device use proper helper compare value one format signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4171,f8ea08bb4664cb544316d848df59c1e47235bc81,ndrew Vagin <avagin@virtuozzo.com>, 2016-03-09 18:27:00 +0300, , irmap try dereference null pointer set cursor next element null try dereference cursor next statemant signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4172,70afb3bde264c24fa79004d21a0d2941850db59a,ycho Andersen <tycho.andersen@canonical.com>, 2016-03-11 03:00:00 +0300, , build clean various bit .gitid build directory setup.py need cleaned clean signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4173,3d0fcc07159c48e25955fb46a4df229ef146c77e,yrill Gorcunov <gorcunov@openvz.org>, 2016-03-10 22:19:52 +0300,135, build add verbose message package needed criu building issue 135 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4174,029650bfed90ee3f54d4553c64f21d84b7777a08,yrill Gorcunov <gorcunov@openvz.org>, 2016-03-10 22:19:51 +0300, , build unify phony form usage explicit .phony preferred style unification sake signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4175,b8df05e6ce5314f38962921adf6fcef9dccba499,ycho Andersen <tycho.andersen@canonical.com>, 2016-03-10 19:51:00 +0300, , cgroup leak old path rewriting remember set tmp2 allocating new path free later also leak tmp2 error case signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4176,c4cf5f0b7638a679be65b05bdb8269d34c2a4573,vgenii Shatokhin <eshatokhin@virtuozzo.com>, 2016-03-10 18:41:00 +0300, , dump check conflict dead process may happen process completed file proc pid still open another process see remap_dead_pid test zdtm suite example pid number given newer thread since problematic thread main thread process seems handled restore however secondary thread restore fails error like pie error pie restorer.c 439 thread pid mismatch 4404 4403 add helper pid 4403 restore proc 4403 clash thread pid seems reasonable detect thing checkpoint stage refuse dump rather fail restore v.3 loop dead_pids first array likely empty note still needed iterate thread explicitly pstree contains item thread point v.2 check conflict task dumped one rely particular order task dumped signed evgenii shatokhin eshatokhin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4177,e12ccb95b0a680b81fb283173dcb2fc166b44d78,ndrew Vagin <avagin@virtuozzo.com>, 2016-03-03 10:00:00 +0300, , mount use shared mount get clean mount bind mount something shared mount new mount shared default tmp shared mount get clean mount always shared restore need side effect let bind mount private mount signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4178,e22aaf7f6c825daa1303c17541fd1c96f7a4e133,ndrew Vagin <avagin@virtuozzo.com>, 2016-03-10 17:48:00 +0300, , mount master_id new mount add comment calling bug_on master_id signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4179,cfc267a2a2b34667cbdbdcf7b751526c19863b89,ndrew Vagin <avagin@virtuozzo.com>, 2016-03-03 10:00:00 +0300, , mount restore shared group propagated mount mount propagated result mount always shared want get private mount need convert kirill tkhai ktkhai virtuozzo.com signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4180,5287540ea13cb7d996860660aca10e1948dfd774,ndrew Vagin <avagin@virtuozzo.com>, 2016-03-08 21:43:00 +0300, , irmap use kdev everywere currently kdev odev together try compare without converting one type signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4181,a2a41df96a99eaf93ca6b68cb82f3495858488d0,ndrei Vagin <avagin@openvz.org>, 2016-03-08 21:44:00 +0300, , pre dump waste time error case error case need exit immediatly signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4182,d67397a3c51e03f2fc050968c16f20683934fbe5,ndrei Vagin <avagin@openvz.org>, 2016-03-08 21:44:00 +0300, , dump pre dump never kill process signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4183,615465498f57fb0f6348c414741b9bbb16e089b5,ndrei Vagin <avagin@openvz.org>, 2016-03-05 00:37:00 +0300, , gcov mount criu source test mount tree criu process save .gcda .gcno file near source file restore test another mount namespace need access source namespace sergey bronnikov sergeyb openvz.org reported sergey bronnikov sergeyb openvz.org signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4184,aa40501d95b54a5fc21c8d5ae9115e6262f98d60,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-13 21:06:00 +0300, , test ext tty return error child killed sighup signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4185,d55a1fdd31d16aa6a4215042590b53067bcdb42a,yrill Gorcunov <gorcunov@openvz.org>, 2016-03-08 12:28:00 +0300, , make improve tar generation default generates archive name tag name pavel requested match old scheme strip prefix reported pavel emelyanov xemul virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4186,fc2c3c94b8a230e01ec58211f1ab93c033965021,ycho Andersen <tycho.andersen@canonical.com>, 2016-03-03 21:16:00 +0300, , test add dry run zdtm.py print test name flavor info test pas dry_run via cr_ct_test_info output look like run 242 skipping zdtm transition thread bomb manual run skipping zdtm transition file_aio manual run run zdtm transition maps007 run zdtm transition maps007 run zdtm transition maps007 run 242 skipping zdtm transition epoll manual run run zdtm transition pipe_shared00 run zdtm transition pipe_shared00 run zdtm transition pipe_shared00 run 242 run zdtm transition fork run zdtm transition fork run zdtm transition fork run 242 skipping zdtm transition ptrace manual run skipping zdtm transition socket_loop00 manual run run zdtm transition ipc run 242 skipping zdtm transition netlink00 manual run run zdtm transition socket tcp6 run 242 ... signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4187,ab8fdf82b3033bd458b2d58d68c823fae85fa6e6,ndrew Vagin <avagin@virtuozzo.com>, 2016-03-03 10:00:12 +0300, , zdtm check private mount shared mount signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4188,fbdc00391dc7c5e128ba68c7d0d7ff9e2a99e088,avel Emelyanov <xemul@virtuozzo.com>, 2016-03-02 18:22:40 +0300, , zdtm relax stack args creation signed pavel emelyanov xemul virtuozzo.com,,
4189,c88d40991af624db0e46176299db9e36a51c8fe2,avel Emelyanov <xemul@virtuozzo.com>, 2016-03-02 18:22:25 +0300, , zdtm factor pidfiles creation pidfile manipulation sanitized helper pidfile wrting signed pavel emelyanov xemul virtuozzo.com,,
4190,8abf6d2d1b05988855d16c4ee15c36aba33a6ad3,avel Emelyanov <xemul@virtuozzo.com>, 2016-03-02 18:22:08 +0300, , zdtm get dir init.pid file caller one pidfile one fired term signal stop stuff test internal business signed pavel emelyanov xemul virtuozzo.com,,
4191,bb7d912e401a36976d081395ac63a58736cb1a8e,vyatoslav Vlasov <svloyso@gmail.com>, 2016-02-25 20:25:00 +0300,65, tmpfiles implement user tmp file feature add new action script tmp files.sh allows user add file lost checkpoint restore dump user file stored .tar.gz archive tar command doe file path attribute related work fix signed svyatoslav vlasov svloyso gmail.com signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul virtuozzo.com,,
4192,7f1a4a160ae10f57b01cd6034d01fc2e035d7418,avel Emelyanov <xemul@virtuozzo.com>, 2016-03-07 20:56:59 +0300, , criu version 2.0 planned shuffle code also provide compel thing people managed former compel would 2.1 also change dev release model branch release stable one every month show new stuff earlier fun signed pavel emelyanov xemul virtuozzo.com,,
4193,cebc6c379671010b0d45a06ba7ddcfbad33c66fa,ndrew Vagin <avagin@virtuozzo.com>, 2016-03-05 00:38:00 +0300, , mount mount external mount member shared group otherwise mount propagated non existant mount signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4194,b4ffeeeba27c2da43c000e943f1afdf23e47277d,ycho Andersen <tycho.andersen@canonical.com>, 2016-03-04 23:55:00 +0300, , cgroup include trailing cgns_prefix could math consuming side indeed tried seems much cleaner include first place consumer need thing signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4195,8b33970e5136adacfa3423c505dbc32cbd7e62f4,ycho Andersen <tycho.andersen@canonical.com>, 2016-03-04 19:47:00 +0300, , cgroup skip restoring special cpuset prop main prop restore comment say need restore speical cpuset prop twice indeed cause restore fail e.g 00.092356 error cgroup.c 1240 failed writing cpuset lxc centoss cpuset.cpus 00.582490 error cgroup.c 1009 move systemd lxc centos system.slice systemd task file directory 00.582497 error cgroup.c 1124 move systemd lxc centos system.slice systemd task file directory 00.582567 error cgroup.c 1009 move systemd lxc centos system.slice console getty.service task file directory 00.582573 error cgroup.c 1124 move systemd lxc centos system.slice console getty.service task file directory 00.582886 error restore.c 1306 exited status 00.594670 error restore.c 1308 7906 killed signal 00.623099 error restore.c 2138 restoring failed signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4196,f4832fb2bb943c42b141f473398b9f863eacba08,ycho Andersen <tycho.andersen@canonical.com>, 2016-03-04 18:46:00 +0300, , cgroup use perror failed property write errno useful information debugging also print  signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4197,bddfc1b309d915f88c20fbe85533ad7516bf33ef,ycho Andersen <tycho.andersen@canonical.com>, 2016-03-03 10:14:36 -0700, , cgroup collect_cgroups get_cg_set instead flag check let collect every new non criu cgset signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4198,c852a130fc533f0fe4f881596b6c373c55e6160f,ndrew Vagin <avagin@virtuozzo.com>, 2016-03-03 19:21:00 +0300, , criu remove pid file error case signed andrew vagin avagin virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4199,160a0d33375a2f16c01c5c867e2233b671d4b5a6,avel Emelyanov <xemul@virtuozzo.com>, 2016-03-03 16:12:39 +0300, , cgroup unshare cgroup namespaces need call unshare clone_newcgroup done unconditionally prepare_cgns wrong detection fact detection see whether found least one cgroup cgns prefix signed pavel emelyanov xemul virtuozzo.com,,
4200,3d95598229ad0742362a0917683d5b4390cdf3e8,ndrew Vagin <avagin@virtuozzo.com>, 2016-03-02 01:07:00 +0300,120, file remove ghost directory restore failed current code work becuase ghost file directory different format ghost directory created root task cleaned criu process reg_file_info allocated shared memory is_dir added fix 120 signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4201,0023e2e573481d11e48ce61a16bd39eeb00008be,ndrew Vagin <avagin@virtuozzo.com>, 2016-03-02 19:40:00 +0300, , zdtm check command completes successfully fault suggest inject fault try execute command without fault check complete successfully skip parasite blob checking vma remove loop two iteration clean call fault hook one place signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4202,fd972a739c0693b3f3adb8025e4f76c50b8adf27,ycho Andersen <tycho.andersen@canonical.com>, 2016-03-02 16:17:08 -0700, , test fix cgroupns test use nested namespaces unshare clone_newcgroup ing child task meant test forbid nested cgroup namespaces instead use new strategy testing cgroup namespaces set namespace forking test task nesting setns back init check cgroup namespace test work flavor init test pid test bit chicken egg problem though set test_init unshare would nested cgroup signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4203,0a1b24637dc08c8b7bc1f8baed481240a5d2f82f,ycho Andersen <tycho.andersen@canonical.com>, 2016-03-02 16:17:07 -0700, , cgroup unshare moving cgns signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4204,89c7475c3dae86cdae5613b546ff5de58ea211f7,ycho Andersen <tycho.andersen@canonical.com>, 2016-03-02 16:17:06 -0700, , cgroup set cgns prefix signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4205,9f8140878d228e641babd2cfb92375b48a7b5942,ycho Andersen <tycho.andersen@canonical.com>, 2016-03-02 16:17:05 -0700, , cgroup inspect root task cgns prefix support nested cgroup namespaces grab cgns prefix root cgset prefix list mean query one task cgroup file instead potentially signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4206,16d3fdef31d70958cdd8adfa67847c308416fccd,ycho Andersen <tycho.andersen@canonical.com>, 2016-03-02 16:17:04 -0700, , cgroup fix cgroup root cgns interaction basically instead cgroup root replacing actual root cgns present replaces namespace prefix see patch comment detail signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4207,a24e37d63ffe7011bd9b879995c0add94fd32f14,ycho Andersen <tycho.andersen@canonical.com>, 2016-03-02 16:17:03 -0700, , cgroup cgroup move async rely synchronous ness behavior assume task right cgroups forking child child cgroups parent move done might end signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4208,5057dc5e979395c5dc9f14b154352e49da77d525,avel Emelyanov <xemul@virtuozzo.com>, 2016-03-03 13:51:07 +0300, , add comment cgroup flag passed clone signed pavel emelyanov xemul virtuozzo.com,,
4209,dae14ddfb02489fcb734de2559913fc5cb53590d,ycho Andersen <tycho.andersen@canonical.com>, 2016-03-02 16:17:02 -0700, , cgroup clone_newcgroup clone flag restored differently let make extra namespaces need signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4210,0e7d91e4138de3d873ae0928352bbfcf050e2b64,ycho Andersen <tycho.andersen@canonical.com>, 2016-03-02 16:17:01 -0700, , cgroup collect cgsets instead work collect_cgroup figure whether collected cgroup already let call created new cgset first place signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4211,c0be940b9880b23b500ae810943c8d46ad4eda41,ycho Andersen <tycho.andersen@canonical.com>, 2016-03-02 16:17:00 -0700, , cgroup nested cgroups really supported discussion serge hallyn seems current implementation cgroup namespaces really support nesting quick fix let disable matter since probably nobody nesting anyways right signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4212,f8a06e7a1dc79efabf69a24f67d8bc96effaefe4,ycho Andersen <tycho.andersen@canonical.com>, 2016-03-02 16:16:59 -0700, , cgroup allow restoring multi headed freezer cgroups allows dumping container multi headed freezer cgroups restore container without help restore time signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4213,34b5e8f86f98757df0541396b1ca6a7cde45e357,avel Emelyanov <xemul@virtuozzo.com>, 2016-03-01 16:14:00 +0300,116, img warn absolute path parent image dir working mntns absolute path parent symlink open able restore however completely banning case good affect 116 signed pavel emelyanov xemul parallels.com signed pavel emelyanov xemul virtuozzo.com,,
4214,807bedbe88c06e64f76f9ab8a343dc6fdaced965,mitry Safonov <dsafonov@virtuozzo.com>, 2016-02-29 13:36:00 +0300, , piegen add pcrelocs option nr_gotpcrel last variable name set piegen option let introduce option help including two generated blob simultaneously cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4215,c844b3f248b795f327363c604cdc9552c869ec5d,ndrew Vagin <avagin@virtuozzo.com>, 2016-03-02 00:12:00 +0300, , file use pr_perror print errno signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4216,eaeb708f19fb2f7e44abb18576fe5256f70eb0b7,ycho Andersen <tycho.andersen@canonical.com>, 2016-03-01 02:56:00 +0300,118, travis run cgroup test travis cpusets way actually write ever none test work still work jenkins though disabling probably close 118 http github.com travis worker blob master backend docker.go l66 signed tycho andersen tycho.andersen canonical.com andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4217,6af5f5755a0492fb58facf85d478bb656f77c946,ycho Andersen <tycho.andersen@canonical.com>, 2016-03-01 01:32:00 +0300,118, cgroup use file property restore libcs buffer writes file mean error fclose instead write make hard figure property actually failed writing also shorten error path bit hopefully patch help debugging 118 signed tycho andersen tycho.andersen canonical.com acked andrew vagin avagin openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4218,503350b9220c52910dd547a4f9cdb77b8c31b262,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-29 22:40:50 +0300, , parasite use negative index access array element cid 158458 memory corruption criu pie parasite.c 321 get_proc_fd 315 316 ret sys_readlinkat at_fdcwd proc self buf sizeof buf 317 ret ret enoent 318 pr_err readlink proc self ret 319 return ret 320 cid 158458 memory corruption using variable ret index array buf 321 buf ret 322 323 fast path proc belongs pidns 324 pie_atoi buf sys_getpid 325 return sys_open proc o_rdonly 326 signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4219,b9a6b91493a9507e4bfc47d28a6c68edbf2c45fe,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-29 22:40:49 +0300, , cgroup use uninitialized variable cid 158459 uninitialized variable uninit criu proc_parse.c 2218 2212 2213 int int pid struct args struct list_head retl unsigned int 2214 2215 file 2216 int ret 2217 list_head internal cid 158459 uninitialized variable uninit declaring variable n_internal without initializer 2218 unsigned int n_internal 2219 struct cg_ctl intern ext 2220 2221 fopen_proc pid cgroup 2222 2223 pr_perror open task cgroup file cid 158458 memory corruption criu pie parasite.c 321 get_proc_fd signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4220,529420689c14b3891aee0ce5c392b8b5e83c01e7,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-29 12:19:11 -0700, , restore load ip6tables module restore well restore process module well let modprobe prevents 00.217856 running rule delete 00.218970 running rule delete 00.220059 running rule delete 00.221695 running rule restore 00.223068 running iptables restore iptables restore 00.439385 running ip6tables restore ip6tables restore modprobe error could insert ip6_tables operation permitted ip6tables restore v1.6.0 ip6tables restore unable initialize table filter error occurred line try ip6tables restore ip6tables restore help information signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4221,48c7d40fc829b595e9c25ac051669a1d12519cb2,ycho Andersen <tycho@tycho.ws>, 2016-02-29 12:19:10 -0700, , lsm report error rendering profile fails signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4222,c72f6d582353a0f8332ef07ed6460dddf4a85194,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-29 20:15:00 +0300, , cgroup add error message signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4223,c1dabe8cfbc7bb3ec83cf3720ce868b5d57a588f,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-29 12:53:00 +0300, , crit add symbolic link pycriu module run make install python setup script prepares directory module need run crit source tree without install fall trouble python know fetch pycriu thus simply provide symlink module emulating instalation complete note developer conveniency end user make install always must place reported pavel emelyanov xemul virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4224,c153c23acf4a6ffffc2ec46f60684b1b791e3d0a,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-26 10:25:34 -0700, , cgroup remove restriction subset root set one point cgns patchsets removed somehow got lost shuffle since support let remove restriction signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4225,93707b24cb777f6fef345eba921719d1f6c37bf3,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-26 10:25:33 -0700, , test add test dumping non root subset set signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4226,c30e3ab23ac453d17cd635ba0afd5182c6c48a54,ndrey Ryabinin <aryabinin@virtuozzo.com>, 2016-02-26 18:49:05 +0300, , test vfork00 mark vfork test expected fail way dump proccess blocked vfork hence mark test expected fail signed andrey ryabinin aryabinin virtuozzo.com andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4227,403a74c7ba305fb0d7b9e6e08ccd7f24f476cc86,ndrey Ryabinin <aryabinin@virtuozzo.com>, 2016-02-26 18:49:04 +0300, , test vfork00 directly _exit instead exec vforked proccess execlp fails run vfork00 test inside namespace bin true instead execlp vfork child _exit signed andrey ryabinin aryabinin virtuozzo.com andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4228,0195c9994519eca05a36e104e5108034c0a48f1b,ndrey Vagin <avagin@openvz.org>, 2016-02-27 10:34:00 +0300, , gcov remove double slash sed script echo test home avagin git criu test home avagin git criu use double quote run pwd signed andrey vagin avagin openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4229,b428a3a2fb01eed34e01112b6ba1f60b25b25196,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-27 02:27:00 +0300, , cgroup fail multi headed freezer cgroup consider case freeze cgroup lxc foo e.g systemd lxc task actually live set sub cgroups e.g lxc foo init.scope others case multi headed controller since nothing common parent save freezer value head instead failing note address larger problem top level freezer.state file waht happens container frozen task top level discussion nice way atomically test set cgroup freezer need kernel help ignore signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4230,f91d3f01a5001022d10a8b6a87ef447699420d23,avel Emelyanov <xemul@virtuozzo.com>, 2016-02-29 11:36:05 +0300, , zdtm move crit test others signed pavel emelyanov xemul virtuozzo.com,,
4231,17018b3c186e5d32a4fa49c244640ddd3de40e83,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-27 02:07:00 +0300, , test others fix path signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4232,ee3bea7b88a66bc2d0e62009297d484771507418,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-27 02:06:59 +0300, , test remove live zdtm path signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4233,6b4fb4d4de92a4023051624ab2e1f25181437d72,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-27 02:06:58 +0300, , test remove test post dump.sh signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4234,f6d9d8d41a725198583743603735befa09078fc7,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-27 02:06:57 +0300, , test move app emu test others signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4235,eb49e69d990712cedaf90e557e0f707cd748a068,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-26 20:09:00 +0300, , dump preload netfilter module socket diag module since might using filter_tables module preload well case host system already loaded really implement netlink buffer dumping get rid hack remember close dev null using signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4236,1e8c1069cd589d688f221b60caca92215bd89c78,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-26 19:47:00 +0300, , zdtm use predefined macro nmk better switch nmk usage let signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4237,9f04c98fe850fc61b5aff9c9726becba0dc9eaea,mitry Safonov <dsafonov@virtuozzo.com>, 2016-02-26 18:18:00 +0300, , i386 syscall_32 add missing sys_openat fix commit e7d89a60b69d add openat syscall list nip move sys_seccomp numerical order signed dmitry safonov dsafonov virtuozzo.com acked tycho andersen tycho.andersen canonical.com reviewed cyrill gorcunov gorcunov gmail.com signed pavel emelyanov xemul virtuozzo.com,,
4238,1675ac8b8fdfcd54d76a5cc82bb4086d5067dcea,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-23 02:33:00 +0300, , dump call rollback action signal handler need sure structure consistent moment need block alarm inconsistent think really want suggest interrupt current syscall alarm signal triggered print error message exiting andrey ryabinin aryabinin virtuozzo.com signed andrew vagin avagin virtuozzo.com reviewed andrey ryabinin aryabinin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4239,2fd16c39a6d78f315bcbe1ae2908a65ab3fb6ff7,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-25 11:41:00 +0300, , build gcov gen gcov blob syscalls running inside dumpee space injected gcov instruction signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4240,b7f0af3ac90d38a136fb40103af2d02e0982c596,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-25 10:18:00 +0300, , criu cgroup use page_size inside parasite args cause problem ppc64 gcc wall werror dconfig_ppc64 d_gnu_source fno strict aliasing iquote home cyrill criu criu include iquote home cyrill criu image iquote home cyrill criu criu pie iquote home cyrill criu criu arch ppc64 iquote home cyrill criu criu arch ppc64 include iquote home cyrill criu usr include libnl3 iquote ppc64 dconfig_ppc64 d_gnu_source parasite syscall.c parasite syscall.o parasite syscall.c function parasite syscall.c 1283 error size unnamed array negative parasite_args ctl struct  home cyrill criu script nmk script rules.mk recipe target parasite syscall.o failed use size parasite known support signed cyrill gorcunov gorcunov openvz.org acked laurent dufour ldufour acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4241,e4dd8d2b124da6ac733d0fd6d2e6ef80e5c027d4,avel Emelyanov <xemul@virtuozzo.com>, 2016-02-25 16:02:00 +0300, , cgroup collect criu stray cgset commit 736a2940 added collection non root task cgsets criu cgset anyway excluded signed pavel emelyanov xemul virtuozzo.com,,
4242,ed9d85c3e73f8884094cdf7628fd8a799dd85206,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-25 17:02:00 +0300, , test seccomp make sure __nr_seccomp present fail building old kernel signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4243,377601f96fa5b1467ce7e66afb91fed2a2d46955,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-02-25 16:25:00 +0300, , build introduce etags target tag target create tag file using ctags like run emacs new target etags generating tag file dmitry safonov dsafonov virtuozzo.com cyrill gorcunov gorcunov openvz.org pavel emelyanov xemul virtuozzo.com signed laurent dufour ldufour acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4244,9cd6f0da6edbb49e001d1aae21a67906cdcf8cdf,ergey Bronnikov <sergeyb@openvz.org>, 2016-02-26 12:28:00 +0300, , fix path .gcda file refactoring build system broke target code coverage report generation main makefile patch fix signed sergey bronnikov sergeyb openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4245,4f0ee9c3b05da7207273a026ddad37a8f18f46a6,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-26 10:07:00 +0300, , gitignore add signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4246,eac393431ee518cc3fe33c7c533beafdfc4856f5,ir Kolyshkin <kir@openvz.org>, 2016-02-26 01:36:00 +0300, , nmk remove print directory makeflags problem print directory set default run make vim compilation performed sub make fails vim figure correct path file error instead jumping position first error open new empty file make print entering directory ... leaving directory ... message vim make work intended alternatively could add make invocation needed problem print directory override even come later option list working also thinking detecting whether running vim need add detection emacs etc. let keep thing simple andrey vagin avagin openvz.org cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org reviewed cyrill gorcunov gorcunov openvz.org acked andrey vagin avagin openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4247,29b221115cd1eb337ed0646d014ceefa25993052,ndrey Vagin <avagin@openvz.org>, 2016-02-26 09:32:00 +0300, , criu clean header signed andrey vagin avagin openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4248,0296dd49cdf5b688720f16c1e0285587a1ded42b,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-26 07:33:00 +0300,117, build fix build make 4.1 idea really right long term fix least allows build make 4.1 close 117 signed tycho andersen tycho.andersen canonical.com cyrill gorcunov gorcunov openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4249,7efbc53f38d621f39df64bec9421b862c02c471c,mitry Safonov <dsafonov@virtuozzo.com>, 2016-02-24 14:04:00 +0300,119, ptrace.h move ptrace_ get set sigmask ifdef glibc 2.23 ptrace_ get set sigmask defined ptrace.h http fossies.org diffs glibc 2.22_vs_2.23 sysdeps unix sysv linux powerpc sys ptrace.h diff.html move ifdef fix following error file included arch x86 crtools.c tool criu criu include ptrace.h error redefined werror define 0x420a  file included include ptrace.h arch x86 crtools.c usr include sys ptrace.h 156 note location previous definition define  file included arch x86 crtools.c tool criu criu include ptrace.h error redefined werror define 0x420b  file included include ptrace.h arch x86 crtools.c usr include sys ptrace.h 159 note location previous definition define  cc1 warning treated error fix 119 signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4250,3bf5c881266c65fde8a753a83b09cebba97a5dfe,avel Emelyanov <xemul@virtuozzo.com>, 2016-02-25 15:39:57 +0300, , jenkins fix crit recode pycriu new module name signed pavel emelyanov xemul virtuozzo.com,,
4251,5680186b04589ee3073028094b976c6a7852dd4a,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-25 00:05:00 +0300, , built criu fast fix concurrent build beautify later explicitly link syscalls arch lib cause switched phonytargets deps sake signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4252,137321108d61d080a2cc025981777f6c3da1cec3,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-02-24 16:56:00 +0300, , build script utilities.mak used cyrill gorcunov gorcunov gmail.com signed laurent dufour ldufour acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4253,60404df396272ef155d4af3fa016b9eb2ba84800,ir Kolyshkin <kir@openvz.org>, 2016-02-24 12:29:58 -0800, , nmk use force luke gnu make using .phony lead result using force hack unlike force hack since plan use make implementation gnu make let provide force nmk detail phony better force see http www.gnu.org software make manual make.html index force signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4254,2edc082e071a9f6c6f73d26c61e1eb843a2407a6,ir Kolyshkin <kir@openvz.org>, 2016-02-24 12:29:57 -0800, , makefiles use force luke gnu make using .phony lead result using force hack unlike force hack since plan use make gnu make let mark phony target detail phony better force see http www.gnu.org software make manual make.html index force rebased splitted signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4255,885370f1be9157d71ac1bb3e0ac646fd289cd4ad,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-24 22:14:55 +0300, , build criu make sure rebuild happens feature test updated signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4256,47d3fa0963a35f1b4a3132266c5720a92d72020d,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-24 22:14:54 +0300, , build use explicit config phony style unification signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4257,f4fb937912173fdff824310ffeb724cd141fde9a,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-24 22:14:53 +0300, , build config drop redundant summing signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4258,79e93ca79ce6df93f93e3b9f218fd4d37d70818c,ndrey Vagin <avagin@openvz.org>, 2016-02-24 21:40:00 +0300, , zdtm use separate file flock ubuntu flock open file o_rdwr executed flock text file busy signed andrey vagin avagin openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4259,99ada64a72d1ca46463b1918322b1b39da8ef85b,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-02-24 15:21:39 +0100, , build generate emacs tag file clean tag signed laurent dufour ldufour acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4260,581c3f1145c00bb916bbe75f9e07129763c4b7d2,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-02-24 15:21:38 +0100, , nmk add cscope etags ctags wrapper cyrill gorcunov gorcunov gmail.com signed laurent dufour ldufour acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4261,f8dfdd9ffb8babdb0f4095d7b5e64d7e9c80914a,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-24 20:25:00 +0300, , build fix criu depdendent part linking link criu make sure underlied system day image syscalls pie part thus provide target link final pas fix problem file image syscalls pie changed criu rebuilt relinked need revisit config version feature test generation signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4262,d550e2017db0dac1f87842d7fe2f050f8e78ae1f,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-24 18:04:00 +0300, , build criu make sure required libs installed otherwise feature testing engine simply fail due lack libs binding reported laurent dufour ldufour signed cyrill gorcunov gorcunov openvz.org tested laurent dufour ldufour signed pavel emelyanov xemul virtuozzo.com,,
4263,38eacf5edb7da899b1e79a4512843f64f7f09a2f,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-24 19:10:38 +0300, , build criu drop redundant phony everytime build executable check deps source change thus protvide criu criu toplevel target file bug 496b51b64a6 instead bring target phony back drop phony criu makefile beginning time remove unneeded phony target real file signed cyrill gorcunov gorcunov openvz.org tested tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4264,1ec3a107fd0f0624d1ed3133c686f050ef4a0c6c,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-02-24 17:21:31 +0100, , build use ppc64 powerpc bit architecture nmk framework reference powerpc bit architecture ppc64 applies little endian future supported big endian one acked cyrill gorcunov gorcunov gmail.com signed laurent dufour ldufour signed pavel emelyanov xemul virtuozzo.com,,
4265,64144b92d5a8dc8fc8d50f4c596b2da93f7e5f8a,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-02-24 17:21:30 +0100, , nmk use ppc64 powerpc bit architecture usual reference powerpc bit architecture ppc64 let powerpc define powerpc bit one acked cyrill gorcunov gorcunov gmail.com signed laurent dufour ldufour signed pavel emelyanov xemul virtuozzo.com,,
4266,56e71372ca4b64cf2ba85a0fa81e423ac4f31737,ir Kolyshkin <kir@openvz.org>, 2016-02-23 05:44:00 +0300, , pie add support pie printf handy whenever want print size_t ssize_t signed kir kolyshkin kir openvz.org acked tycho andersen tycho.andersen canonical.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4267,a55840d7fac82e13f78ef48f4bcc9abdc1e68a4d,avel Emelyanov <xemul@virtuozzo.com>, 2016-02-24 13:31:17 +0300, , build remove duplicate entry signed pavel emelyanov xemul virtuozzo.com,,
4268,4ab2237f468061af02968fe301a3dd4b2d3338bf,ir Kolyshkin <kir@openvz.org>, 2016-02-23 05:44:00 +0300, , dockerfile add package package needed proper build git core get criu version see makefile pkg config libselinux dev check selinux see criu makefile.config signed kir kolyshkin kir openvz.org acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4269,c38f6db0bce110cd6c4c724aaad722136edcde5d,ir Kolyshkin <kir@openvz.org>, 2016-02-23 05:44:00 +0300, , script build makefile brevity soul wit make makefile leaner cleaner signed kir kolyshkin kir openvz.org acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4270,31171692fca03baac2c96d890b3f3d48671f8699,ir Kolyshkin <kir@openvz.org>, 2016-02-23 05:44:00 +0300, , .gitignore add makefile.local commit db6cb69 mistakenly removed makefile.local .gitignore restore back see commit 43fb948 info cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4271,7c7f72575333f3dc452227c2f693eada285af4ea,ndrey Vagin <avagin@openvz.org>, 2016-02-24 01:20:00 +0300, , config use name palces feature reported jenkins signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4272,cbf3a14ff28d42f0b056ecdf749d6d21e93572b6,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-23 19:24:00 +0300, , travis criu depends libcap dev http travis ci.org xemul criu job 110616491 signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4273,5594f14cc76640d40509ee50a84b5e2e95e09e46,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-23 03:23:00 +0300, , travis execute test travis execute userns test kernel old signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4274,4a0dcbbf864c66c44c8b5648f9ecc46fcb9969bb,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-23 02:39:00 +0300, , test add target build zdtm_ct signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4275,2d382cc7cd6b4fe73d3533540b66ffadaa12ba29,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-20 19:41:32 +0300, , travis execute build action script step otherwise default action step executed configure make make test home travis build.sh line configure file directory signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4276,46f3869ff6a94e604ece8dd1a309682fb12ea10c,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-20 19:41:31 +0300, , dockerfile add libcap dev signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4277,efe35aa39f90d4999daa96d7490b975bc0a8937e,mitry Safonov <dsafonov@virtuozzo.com>, 2016-02-20 16:22:00 +0300, , build nmk rename ldflags ldflags_ complement existing cflags_ asflags_ one use yet use remove need convert everything patch cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4278,2cb4532e266d0c9f8e87839d5b5eb728a3e4d10d,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-20 19:27:00 +0300, , test remove zdtm.sh replaced zdtm.py remove zdtm.sh script remove fault injection nobody signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4279,88aaae3ace1eace0399244a753895334c727c708,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-20 19:23:00 +0300, , test move non zdtm test test others signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4280,a47d2917a50273770103abdb132186f09c466b5d,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-20 19:12:00 +0300, , userns use correct type uid gid currently use int uid_t gid_t unsigned int signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4281,b7375b1265ad6f9f8e7748790ef1805bda2be027,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-21 12:28:53 -0700, , test add cgroupns test signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4282,736a2940ef2f62612a6fde1e7d800790ba68bb1b,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-21 12:28:52 -0700, , cgroup allow dumping non criu cgsets match root signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4283,1b291d8b79a8616ed0793d6c242f5833624a0111,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-21 12:28:51 -0700, , pie better detection proc belonging pid commit logically part implement cgns support commit worth noting separately think since cgns requires task look proc file longer dump unprivileged task whose proc belong unprivileged task mount proc proc belong need read cgns pie code anything cgns could solve problem simply fork ing setns ing task pid cgroup namespaces reading proc task instead perhaps implement way still dump task whose proc belong although think common case signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4284,6e33d08045b5141a652c088591f0ba45cc0d9cca,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-21 12:28:50 -0700, , cgroup add support cgroup namespaces cgroup namespaces imminent merged kernel indeed went 4.5 minor issue carried patchset ubuntu 16.04 kernel attempt essentially three key step dump ask task cgroups think unless cgroup parent take prefix parent set set prefix set add new restore step happens doe unshare necessary restoring move_in_cgroup going restore via usernsd leave full path use cgset path len cgset cgns_prefix path since already moved cgns_prefix unshared another observation support nesting since restored heirarchically nature store cgns prefix length instead full prefix image set conditionally drop unused argument move_in_cgroup add extra comment happening unsharing restore add extra comment happening computing actual cgns prefix signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4285,a80dec3fb1539b816e80cf8019bb9fd3cb2d62d7,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-21 12:28:49 -0700, , cgroup add check cgroup namespaces print warning cgroup present signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4286,f400efb2b2162f17e83b34676d2d10fee6a3c9b3,ndrey Vagin <avagin@openvz.org>, 2016-02-19 16:18:50 -0800, , travis use docker build criu create separate job arch signed andrey vagin avagin openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4287,4322e4c35c985bd7b2f9017da5e57832555eafcc,ndrey Vagin <avagin@openvz.org>, 2016-02-19 14:51:09 -0800, , dockerfile add dockerfile.tmpl fix afae962c668d dockerfile extract common part one file signed andrey vagin avagin openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4288,6c5bde3b5bce266f296bb09cc3b878c18b588dd3,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-19 14:51:08 -0800, , travis run test trusty instead precise precise libc header extremly old define sys_ trusty let run travis test signed tycho andersen tycho.andersen canonical.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4289,166a8e8e936c7a00d1ac437f3b85900c601880b2,avel Emelyanov <xemul@virtuozzo.com>, 2016-02-20 17:56:02 +0300, , zdtm increate dump timeout test often run vms second loaded environment might enough catch transition zdtm test signed pavel emelyanov xemul virtuozzo.com,,
4290,c07ef8048160c98ac7714860dec945290a3311fe,avel Emelyanov <xemul@virtuozzo.com>, 2016-02-20 15:51:07 +0300, , jenkins live subdir longer signed pavel emelyanov xemul virtuozzo.com,,
4291,e9beed7bb3f356a60715eb9ffb9ceed0a8470f51,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-20 12:38:53 +0300, , build zdtm add implicit rule zdtm building current zdtm building procedure depends impilcit make fules bring back moved nmk build engine reported andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4292,496b51b64a6d3cbf6e627319d4aed0e5ce5881ce,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-20 12:38:52 +0300, , build fix criu executable building otherwise linking may executed twice forced target signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4293,054d4518661a32d267b25791b74d0b8dbedbafbc,van Shapovalov <intelfx@intelfx.name>, 2016-02-19 18:05:51 +0300, , cgroup walk path hierarchy twice add_cgroup bug signed ivan shapovalov intelfx intelfx.name signed pavel emelyanov xemul virtuozzo.com,,
4294,7f0643f9c3ab3fcd51ca7d7b3184b344a5f5e0f1,van Shapovalov <intelfx@intelfx.name>, 2016-02-19 18:05:50 +0300, , treewide specify python2 instead python shebang python script signed ivan shapovalov intelfx intelfx.name signed pavel emelyanov xemul virtuozzo.com,,
4295,56d563e97dae70f726f0f6df67cc0fc8c33cc149,van Shapovalov <intelfx@intelfx.name>, 2016-02-19 18:05:49 +0300, , pie restore madvise flag aio ring created aio ring internally memory mapping may restorable madvise bit create mapping restoring property signed ivan shapovalov intelfx intelfx.name signed pavel emelyanov xemul virtuozzo.com,,
4296,b2dfdb324f4f885730275d6e48f20f8dc197d00b,avel Emelyanov <xemul@virtuozzo.com>, 2016-02-20 14:04:30 +0300, , fix compilation previous commit signed pavel emelyanov xemul virtuozzo.com,,
4297,d1f8d023243ccbc6ef6b5962b257a4d211ff6ce9,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-19 22:07:00 +0300,95, criu pie zap gids fix signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4298,2253c430d776ea4d21f387b583037b1f0d29b16b,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-18 02:07:14 +0300, , userns close file descriptor entering userns jann horn jann thejh.net reporte jann horn jann thejh.net signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4299,6e1726f8fb7c5a22538c61ef3828c375cc44d0d1,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-18 02:07:13 +0300, , userns set uid gid entering userns 21.01.2016 jann horn writes call chain  cr_dump_tasks true true walk_namespaces collect_user_ns dump_user_ns check_user_ns  method enters user namespace unknown owner euid kuid linux doe guarantee safe current upstream kernel namespace owner attach criu process via ptrace use write etc shadow whatever jann horn jann thejh.net reported jann horn jann thejh.net signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4300,733c926abba7ead710252356160fbce44e7ee763,avel Emelyanov <xemul@virtuozzo.com>, 2016-02-19 16:37:10 +0300, , test update .gitignore signed pavel emelyanov xemul virtuozzo.com,,
4301,2e13f1f0291c8e1ed9a1493d17722ee9f20bee83,avel Emelyanov <xemul@virtuozzo.com>, 2016-02-19 16:36:37 +0300, , test get rid live directory move static transition zdtm top move micro test need distinguish static non static zdtm.py make additional check static one signed pavel emelyanov xemul virtuozzo.com,,
4302,02b22eba8bb5aa620fd53b82c8e53d881a00903e,avel Emelyanov <xemul@virtuozzo.com>, 2016-02-19 16:35:21 +0300, , test merge zdtm live streaming transition test two set test something ask time difference signed pavel emelyanov xemul virtuozzo.com,,
4303,d545a2d8fdb35137c936fe84c2fb0a8d0c8db88a,avel Emelyanov <xemul@virtuozzo.com>, 2016-02-19 16:34:20 +0300, , test clean nsroot using zdtm.py script signed pavel emelyanov xemul virtuozzo.com,,
4304,358857ee454d48817ad335c31412c1c4b8412464,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-19 20:40:00 +0300, , net check open_image return null signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4305,d469c5f865f02daf5671674d1b6ec0d244dd6e6c,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-19 19:29:00 +0300, , build lib fix building missing rpc module signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4306,e6cc90bf73b7a44a41351af655a93c4188639b2f,mitry Safonov <dsafonov@virtuozzo.com>, 2016-02-19 17:34:47 +0300, , build feature test simplify adding new feature add new feature test add features_list cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4307,e85638fd38d98618d865f59897cd979eabbc1ceb,mitry Safonov <dsafonov@virtuozzo.com>, 2016-02-19 17:34:46 +0300, , build nmk define map newline map good generating rule map gen function array parameter forget eval result use feature test generation someday coming compat bit mode x86 makefiles cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4308,ab04ddc567b3ddaae9dbe125c3baffc7cc9b8d0c,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-19 18:49:00 +0300,115, restore initialize uninitialized pointer close 115 reported coverity signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4309,66de7ceb149a849a5e59adcbe18eda6357554a77,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-19 18:18:00 +0300, , build alive gcov option signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4310,3cffd523e4d56b16d803f8b1f7464cd6d11c1312,avel Emelyanov <xemul@virtuozzo.com>, 2016-02-20 13:35:47 +0300, , revert seccomp add seccomp option disable dumping seccomp reverts commit per saied kazemi actually dump work without seccomp support kernel non seccomped task problem criu check would addressed separately reverting commit burden api yet unneeded stuff conflict lib criu.h,,
4311,4a14b324e5c7a600bbe84545b5505d7fb3820b12,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-19 00:32:00 +0300, , pipe typo fix signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4312,afae962c668d423664fe437e6aa44df4529d1d19,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-18 20:41:08 +0300, , dockerfile extract common part one file signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4313,1621ba56acb6f3553622f375d86fa7c3f07f0f1c,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-18 20:41:07 +0300, , dockerfile download packages.gz signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4314,2df0257f26d8d79fd2aba5fff0dab2dc6e9bdef9,ndrei Vagin <avagin@openvz.org>, 2016-02-18 20:41:06 +0300, , dockerfile fail binfmt misc rule already exists signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4315,b95bc0d1eb312720be77f1f019c37cc4e8246277,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-18 17:58:00 +0300, , build pycriu move lib intended scratch signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4316,8e506041ef3acca5bcb32cef72d9059b82313025,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-18 17:13:00 +0300,114, build bring install back life fix 114 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4317,0e5f23475224186a6a3ac6f839ab2ec11ba8e098,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-18 19:08:00 +0300, , parasite fix format string typo pie sprintf implementation know let use instead signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4318,e55219562eb67e24da31d35659d44bf4ad08c149,mitry Safonov <dsafonov@virtuozzo.com>, 2016-02-17 14:23:58 +0300, , pie piegen add space pr_perror user doe explicitly define shall look nicer  parasite_blob error pie piegen main.c 121 open file file.ono file directory signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4319,234191e52e0d8b5b3420f9d8eaf5714369fd6159,mitry Safonov <dsafonov@virtuozzo.com>, 2016-02-17 13:46:51 +0300, , pie piegen make explicit parameter one may specify parameter piegen output usage instead trying open file.o explicit signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4320,d51539ccd2c709b25afcde00752780b861629a1c,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-18 12:43:29 +0300, , build rework dist tar generation currently tar target imples tag form vx.x tag present repo trouble make sane tag present create tar tag tag present simply use git describe helper signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4321,c1f31142f81eb952359e664c61b09ae6ff868220,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-18 12:43:28 +0300, , build lib fix building library drop unneeded built in.o rule use proper criu_so soname option add dep version change signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4322,4854940d6f89620f98a0414969bfe52cd07bf66c,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-18 12:43:27 +0300, , build move version definition top level define version toplevel file rename crtoolsversion criu_version add criu_ prefix rename version librabry signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4323,1b4bd2026fa85852e833cf24d0b90862d9af501a,mitry Safonov <dsafonov@virtuozzo.com>, 2016-02-18 12:57:33 +0300, , x86 build use msg gen function signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4324,e6b26e73bcfee60259270ee7df272300bb7fcc18,mitry Safonov <dsafonov@virtuozzo.com>, 2016-02-18 12:36:05 +0300, , criu build include msg.mk file use msg patch fix accidental dropping msg gen msg link message run make another warn enabled criu make warn undefined variable grep msg pbcc image ipc msg.pb c.c dep image ipc msg.pb c.d image ipc msg.o makefile.config warning undefined variable msg gen warning undefined variable msg gen makefile 120 warning undefined variable msg link makefile 149 warning undefined variable msg link makefile warning undefined variable msg gen acked cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4325,5f6c2eb92cd14e3139451e3f2cac400625730be2,mitry Safonov <dsafonov@virtuozzo.com>, 2016-02-18 12:36:04 +0300, , nmk build separate msg printing .mk file place criu need printing support need common variable redefining therefore separate msg printing msg.mk acked cyrill gorcunov gorcunov openvz.org signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4326,4aaac6d48ba4953d2cc7c3571a8c6fb71679ff15,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-17 16:34:00 +0300, , build simplify piegen usage need phony pie piegen redundant rather may cause double execution target drop arch_dir pie deps initially syscall lib pie lib.a already signed cyrill gorcunov gorcunov openvz.org tested laurent dufour ldufour signed pavel emelyanov xemul virtuozzo.com,,
4327,c271e13f9a69a8eddeade6f90770965bc366b132,avel Emelyanov <xemul@virtuozzo.com>, 2016-02-17 14:29:47 +0300, , lib fix comilation previous commit signed pavel emelyanov xemul virtuozzo.com,,
4328,3e0e65dd505bffaeff3d3aba6f2dbf1719b36c0d,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-13 20:55:25 +0300, , test check restoring external fifo signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4329,c26da2fd591faa855256beea440967fc61e7f1c1,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-13 20:55:24 +0300,104, file add general approach inherited file restore external file problem file opened different flag o_appned o_rdwr o_ronly etc flag changed file descriptor duplicate inherit meet external file file external access directly criu able restore file descriptor know open need provide way open external file idea patch open external file via proc self inherit approach work file fifo example used criu dump.log dump fifo.py external file a3e7 criu restore.log dump fifo.py restore sibling inherit file a3e7 restore detached http github.com xemul criu issue 104 saied kazemi saied google.com signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4330,a98014f306be4b4fefdf01af31e1efa5d83e5e4f,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-17 08:03:00 +0300, , seccomp add seccomp option disable dumping seccomp sometimes may want use criu older kernel support dumping seccomp state actually care seccomp state course unsafe doe allow thing using seccomp older kernel case task filter block syscalls criu parasite code need dump still fail note disable seccomp simply feigning mode little hacky avoids distributing ifs throughout code keep one place signed tycho andersen tycho.andersen canonical.com saied kazemi saied google.com signed pavel emelyanov xemul virtuozzo.com,,
4331,1741438f81a1de5ca7c0146bd7451a5a39a38fee,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-13 01:24:00 +0300, , add ability dump property specified namespace docker requested option network device route dumped restored instead docker call libnetwork hook tune netns setup namespaces action saied kazemi saied google.com tested ross boucher boucher gmail.com signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4332,b13a132eabe1ccc0a1386a687f1d727d93eab443,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-16 19:18:00 +0300, , gitignore ignore test dirs signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4333,7ae89758acd21b735b5ca08271bcfb287bfa1864,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-16 20:46:00 +0300, , test remember clean everything make clean forget clean stuff get strange state zdtm.py think constructed root really construct root partially exists kill extra debugging crap signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4334,f7bc840091bc5a7ee186dac83c6802951aa5d346,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-16 11:31:00 +0300, , build fix travis arch signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4335,a501b4804b3c95e1d83d64dd10ed95c37f0378bb,avel Emelyanov <xemul@virtuozzo.com>, 2016-02-08 13:29:00 +0300, , show remove deprecated code show action deprecated since 1.6 let finally drop print_data routine kept yet another deprecated feature called criu exec signed pavel emelyanov xemul virtuozzo.com acked cyrill gorcunov gorcunov openvz.org,,
4336,a4239104418792d21ef5e7cd64478d7269dfb679,irill Tkhai <ktkhai@virtuozzo.com>, 2016-02-12 17:27:01 +0300, , mount skip already bound sibling function may called several time mnt_share family second call bind source first call lead double dependence   bind bind  bind set mounted bind mount criu use root refers wrong directory reproduction test patch fix problem signed kirill tkhai ktkhai virtuozzo.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4337,076c73b21af1dfe508910ed9fdf2f31f4f5fc01a,irill Tkhai <ktkhai@virtuozzo.com>, 2016-02-12 17:26:25 +0300, , zdtm add test extension mntns_root_bind differ one bind mount signed kirill tkhai ktkhai virtuozzo.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4338,3a234722df3b4885e51e74e5687ee3f3aa1a8f2e,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-16 00:00:00 +0300, , test jenkins fix path pycriu signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4339,e5510d16f0b3dd8d6ab4a8544a57bf485491f659,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-15 23:17:00 +0300, , build memfd use libc sake got situation inside pretty new kernel memfd installed result shipped kernel header provided well libc old defined thus got error use exactly sys_ number call signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4340,9aebdc697cd3c710c3a5f37392669cf872dc3c6e,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-15 22:32:00 +0300, , build doc call cleaning general clean action signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4341,eb66a97f65496dc6b6fc67940a05c62e619179db,mitry Safonov <dsafonov@virtuozzo.com>, 2016-02-15 18:36:00 +0300, , criu makefile fix build defines array cflags passed compiler fix following error ... dedup.o dump.o dump.c function dump_filemapâ dump.c 382 error implicit declaration function strlcpyâ werror implicit function declaration strlcpy aufs_link.name vma_area aufs_rpath  cc1 warning treated error home japdoll tool criu script nmk script rules.mk recipe target dump.o failed make dump.o error makefile 146 recipe target built in.o failed make built in.o error makefile 109 recipe target criu failed make criu error signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4342,69fbdfaf52cb69f24cc12fa7353db8c9db8d3973,mitry Safonov <dsafonov@virtuozzo.com>, 2016-02-15 18:36:00 +0300, , criu makefile built in.o already program builtins delete signed dmitry safonov dsafonov virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4343,254a36d9b38e0c78b4fb1db04a0b269d3132e998,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-02-15 17:57:00 +0300, , zdtm ipc migrate array one semaphore missed restore problem multiple semaphore one array vzt cpt enhance test catch problem change struct sem size lead wrong memcpy sem_array sem_base kernel checkpointing signed pavel tikhomirov ptikhomirov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4344,64cce1ccbac2d36daa8988f5836844a1e72986c5,avel Emelyanov <xemul@virtuozzo.com>, 2016-02-16 10:43:18 +0300, , nmk define find variable signed pavel emelyanov xemul virtuozzo.com,,
4345,ca6911adf9139b5990e8640c3b9de0b05865322a,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-15 18:29:00 +0300, , build drop protobuf source sitting image already signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4346,40c5b331aa6ac31b8af237a9ecb022f7a94c2578,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-15 18:29:00 +0300, , build clean remove criu signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4347,47b59b4797716d6a7aea78d2f8d25caf37053362,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-15 17:26:00 +0300, , build criu fix deps pie lib.a criu built in.o arch lib already depends syscall lib better put deps explicitly criu built in.o must depend pie target rather pie lib.a blob.h internal deps signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4348,f96718b3e35ef40da4dbb055eca4f95c122daea4,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-15 16:26:08 +0300, , test zdtm.py fix criu reference signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4349,06a96d22cdc5fe199eb8bff9292e31857b5190f9,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-15 16:26:07 +0300, , .gitignore add back file ignore removed developing criu series need check cleaned clean stage signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4350,1c2c1f45f73e089ced640173c74213cfcd97746c,ndrei Vagin <avagin@openvz.org>, 2016-02-15 15:26:59 +0300, , crtools add dockerfile build criu armv7hf aarch64 ppc64le signed andrew vagin avagin virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4351,d45116ff8bc7951f1c144b1c9c38588a9b7f3bb9,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-15 15:26:58 +0300, , build crit fix install target signed tycho andersen tycho.andersen canonical.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4352,fb0126fda6c1d535881cfdee537e8c3128417fbd,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-15 15:26:57 +0300, , build criu.pc move lib think intended based gitignore rename let actually generate install signed tycho andersen tycho.andersen canonical.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4353,0ff731a6d04a35a4558da535712b0a475497a200,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-02-15 15:26:56 +0300, , build test fix criu rtc.so build error signed laurent dufour ldufour signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4354,db6cb69394a7618532791af801e65a2f32e54c98,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-15 15:26:55 +0300, , build move everything criu related criu directory signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4355,3410d39514ae789a7681737dcb297aefe5305b8c,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-15 15:26:54 +0300, , build move crit tool crit directory signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4356,da0eb1483b4dd9d6e1d812737e9a5eed32519c5d,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-15 15:26:53 +0300, , build move python library lib criu library crit python data moved lib lib signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4357,f07970ae7bf68ee9fd862849755dc04685f94a51,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-15 15:26:52 +0300, , build override arch x86 travis sake signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4358,e71e06389076009ab03e00153403c05a5dfaef25,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-15 15:26:51 +0300, , build drop doc old build engine longer valid signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4359,594fb527533f2377e0f98f7d46c00a0ef0219e9c,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-15 15:26:50 +0300, , build move protobuf dir image keep protobuf symlink path encoded source gon removed time signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4360,319f4a08a87fd5a76a710935d3d35854aec34117,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-15 15:26:49 +0300, , build import nmk toplevel x86_64 arch kernel traditional x86 entry build renamed build old deprecated signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4361,d7016f1475f5c6efe9348b0b8f495bcb37924335,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-15 15:26:48 +0300, , build nmk initial import initial import nmk engine gon use criu related tool building tiny merge future gon rather submodule http github.com cyrillos nmk idea unified build engine tool gon use signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4362,9445c316422e1e4087d98d170291b179a6b7d20b,mitry Safonov <dsafonov@virtuozzo.com>, 2016-02-11 19:48:18 +0300, , make remove pie pigen gcda gcno gcov clean nice leave signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4363,6effc59e2d31787c0621ac4c24df75c78b185a66,mitry Safonov <dsafonov@virtuozzo.com>, 2016-02-11 19:48:17 +0300, , zdtm.py specify python version otherwise may suck distros arch i.e make zdtm make entering directory home japdoll tool criu test zdtm.py run parallel file zdtm.py line print ...  syntaxerror missing parenthesis call print makefile recipe target zdtm failed make zdtm error make leaving directory home japdoll tool criu test makefile recipe target failed make error make leaving directory home japdoll tool criu test makefile 258 recipe target test failed make test error signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4364,5d2d54a84985ba26de5f7531d219be19d607330c,mitry Safonov <dsafonov@virtuozzo.com>, 2016-02-11 19:48:16 +0300, , makefile make debug gmonldopt simply expanded variable store value recursive expands let simplify impact cleanup signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4365,bd0c5281fda5a67bef29c6126a46edcb75eeb540,mitry Safonov <dsafonov@virtuozzo.com>, 2016-02-11 19:48:15 +0300, , makefile move protoufix export arm section srcarch arm defined two line need additional ifeq impact cleanup signed dmitry safonov dsafonov virtuozzo.com reviewed christopher covington cov codeaurora.org signed pavel emelyanov xemul virtuozzo.com,,
4366,518b4440128b6223d670a1bd802156ff1698e1c5,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-11 07:46:26 -0700, , test get rid have_seccomp nonsense undef probably left debugging accidentally got committed test never ran anyway unnecessary use seccomp_filter feature flag test also reenable test signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4367,726d87d9b923cd26fb7407cfd31ab5daaee98ebf,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-11 07:46:25 -0700, , test get rid superceded criu check seccomp_filter work system anyway signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4368,5b82e5c448d32eacb5bca4432b28237bdf8cec13,avel Emelyanov <xemul@virtuozzo.com>, 2016-02-11 13:40:13 +0300, , zdtm temporarily disable test always exit support message checkskip work strangely need resolve two first signed pavel emelyanov xemul virtuozzo.com,,
4369,7684e832e0ffcb77f3eb30e8f9ec97bcca851dc6,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-11 01:42:00 +0300, , rst malloc rst_mem_cpos since need align allocation let always align checking current position always rst_mem_align beginning set allocation merge rst_mem_align rst_mem_cpos signed tycho andersen tycho.andersen canonical.com cyrill gorcunov gorcunov gmail.com andrey vagin avagin openvz.org acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4370,c9393ec5dc290f164b6f9a446477f7e9e423920f,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-09 20:38:00 +0300,111, rst alloc align reporting cpos since align rst_mem_alloc also align reporting current position thing get unlucky report different position pointer actually allocated fuck thing quite bad close 111 signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4371,7fe2bee80ded81d1e4c711462a0bc246d91b6565,ndrey Vagin <avagin@openvz.org>, 2016-02-08 21:32:00 +0300, , seize detach external process killing dumped process kill container process pidns killed sigkill expect someone freezer cgroup killed dumped 00.468446 error seize.c 439 unexpected child 79162 00.468489 error seize.c 440 bug seize.c 440 situation posiable someone enters pidns setns patch deatches extra process killing dumped process case get signal someone killed use process_to_wait insread adding new var http jira.sw.ru browse psbm 43795 signed andrey vagin avagin openvz.org signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4372,0ce60fdb85b97f627f5bc84ba33b702991ffbbb5,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-09 00:47:00 +0300, , pie print error notify criu error case tycho andersen tycho.andersen canonical.com signed andrew vagin avagin virtuozzo.com acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4373,15850963f9d835c6c9e93f3bc7aaab46e273fb74,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-09 00:01:00 +0300, , memfd fix typo memfd test manage miss source refresh sorry signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4374,d54e7bbfd1417c337d743c815b5add9a26a436f4,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-08 18:32:33 +0300, , memfd use fail old kernel memfd available since 3.16 kernel fail building criu earlier kernel simply use older kernel signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4375,ab5442de405538f61180481b55491df11fc9513b,yrill Gorcunov <gorcunov@openvz.org>, 2016-02-08 18:32:32 +0300, , memfd test building signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4376,36aedc3b114b159dd7eeaddee6ddfa138d282de5,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-08 08:57:41 -0700, , zdtm.py fix checkskip logic fix checkskip logic also emit clearer reason checkskip fails test skipped signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4377,5219c5a3b87b846f336d91de102526a8df9c4b16,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-08 08:57:40 -0700,110, lsm crash undefined profile image profile undefined render anything since need set profile crash case never hit bug careful put undefined profile image someone else edits image crash restore close 110 reported coverity signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4378,7c4a37f5b32094c8f7439202c3b8728e847cbc10,irill Tkhai <ktkhai@virtuozzo.com>, 2016-02-08 16:03:45 +0300, , file reg fix rm_parent_dirs counter look like leftover one intermediate version signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4379,8822708339b45cb57416610dc286b3224ba8fa0a,irill Tkhai <ktkhai@virtuozzo.com>, 2016-02-08 16:03:33 +0300, , file reg delete ghost file numeric index since ghost_files content available parent task leave ghost_file name unchanged signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4380,f42024814b9fbc6fe3c831ee9e863174944a140e,irill Tkhai <ktkhai@virtuozzo.com>, 2016-02-08 16:03:04 +0300, , file reg revert make try_clean_ghost use struct ghost_file ptr ghost_files populates another process doe try_clean_ghost list visible cleaner revert patch signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4381,3815004841adb35c982366c32ab3c9c8e57a21a6,mitry Safonov <dsafonov@virtuozzo.com>, 2016-02-08 15:32:00 +0300, , kerndat report error loginuid feature test fix commit 0ce8e4299506 kerndat report error feature test commit hid error message feature testing write proc loginuid file missing kernel patch allows unsetting loginuid value older kernel hide error message case disabled loginuid file also fixed comment kerndat feature test procfs file might fail open missing fine case fail due permission fault _read_ something wrong let report problem reported cyrill gorcunov gorcunov gmail.com signed dmitry safonov dsafonov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4382,46cf4edb607a89d6782623c6b7001401eae373d1,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-08 19:15:00 +0300, , travis install libnl dev signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4383,3606e755ce24372c387b005249e7698e31b1f247,avel Emelyanov <xemul@virtuozzo.com>, 2016-02-08 13:07:05 +0300, , crit recode new netns exp image signed pavel emelyanov xemul virtuozzo.com,,
4384,42165243eb12419f31b38c8c2af61be25e830148,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-04 22:36:16 +0300, , test check contracks dumped restored test set filter drop packet belongs current tcp connection creates one tcp connection signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4385,afde3659e38c8579d6109cdfba064ff3339941b6,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-04 22:36:15 +0300, , net set flag conntracks currently kernel report sequence number contracks try restore first packet restoring tcp connection send window probe set seq get ack immediatly use previous sequence cause end send ack queue clone skb send  skb snd_una urgent tcphdr_ack conntrack like get ack greater seq look like try ack data received yet 735.528073 td_maxwin seq 1081132048 ack 2965916432 sack 2965916432 win 342 end 1081132048 tcp_in_window sender end maxend maxwin scale receiver end maxend maxwin scale 735.533409 log_invalid seq 2965916431 ack 1081132049 sack 1081132049 win 342 end 2965916431 tcp_in_window sender end 2965916431 maxend 2965916773 maxwin 342 scale receiver end 1081132048 maxend 1081132390 maxwin 342 scale 735.537651 nf_ct_tcp ack upper bound acked data seen yet kernel set new conntracks middle connection signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4386,0dcfcc0ea5ab886737e1d1c38bc463b1c664adc2,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-04 22:36:14 +0300,54, net dump netfilter conntracks expectation request contracks via netlink save netlink message describe image file send netlink message back restore http github.com xemul criu issue signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4387,7ad74ec25bdb2b3a534749174d19fd626f188c1c,ndrew Vagin <avagin@virtuozzo.com>, 2016-01-26 22:58:00 +0300, , rst malloc use allocate array rst_mem_alloc return alligned slice want allocate array element expect get hole new element old one signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4388,7458b054f91baf9ad01f255f470cc773b80ed218,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-05 21:09:00 +0300, , rst malloc return aligned pointer sizeof void stas found align pointer futex atomic operation fail hard code size void add function allocate memory without gap privious slice used allocate array change rst_mem_cpos stanislav kinsburskiy skinsbursky virtuozzo.com signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4389,b09356f4d7f2167d04882f7c1cec9c689a92eaa9,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-06 03:22:00 +0300, , test tempfs_subns wait child process signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4390,2f41a8a8230d25e6c76b68e22944a12b7a1cbc1f,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-05 11:53:39 -0700, , check dump seccomp filter 4.4 http git.kernel.org cgit linux kernel git torvalds linux.git commit f8e529ed9 seccomp filter supported let check signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4391,fe76ccde9782272b30e9285226eedd85ee24f855,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-05 11:53:38 -0700, , check suspend seccomp 4.3 http git.kernel.org cgit linux kernel git torvalds linux.git commit 13c4a9011 mainline kernel check  signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4392,e25c6251311019be8e87cfa76185353d7c2cd796,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-06 02:02:00 +0300,1, util call va_end va_copy cid 157804 missing varargs init cleanup varargs 16. missing_va_end va_end called tmp typo fix reported coverity signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4393,ced5eeeee3ebe786e022c64fbc472576962b9a7b,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-05 22:03:30 +0300,1, crtools terminate case value 1071 cid 157800 missing break switch missing_break case value 1071 terminated break statement signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4394,672f97ad4a40ee59ed1b66c0eac480edf3010e4c,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-05 22:03:29 +0300,1, vdso call close negative value cid 157801 argument negative 19. passed parameter negative signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4395,a28c4a997983036b24f4498cd64b810c0f5f0b59,ndrei Vagin <avagin@openvz.org>, 2016-02-06 01:07:00 +0300, , test add force irmap static inotify_irmap signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4396,8ceab588a5ce9151375bc3d2a6d6637d758764ab,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-02-03 17:13:48 +0100, , crtools linked builtin syscall crtools binary linked library could rely service library providing including system call thus need linked builtin system call code made parasite restorer binary patch doe remove inclusion syscall.h replace call sys_ syscall library syscall replace unwrapped system call syscall sys_ syscall ... fix generated compiler issue functional change code change appearing locks.h futex called library errno value fetched errno variable instead return value signed laurent dufour ldufour reviewed christopher covington cov codeaurora.org reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4397,34faa89bcfc65c630a1862fc4582afeb353ee9d2,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-02-03 17:13:47 +0100, , namespace move definition clone_subns criu internal define clone_subns put syscall types.h since define part system call move required prepare removal syscall.h component crtools binary signed laurent dufour ldufour reviewed christopher covington cov codeaurora.org reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4398,62194b15489d222aaff1748f798b92d51819c9fa,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-02-03 17:13:46 +0100, , build conditional define struct prctl_mm_map file include prctl.h define struct prctl_mm_map already defined system include file linux prctl.h definition part ifndef pr_set_mm_map block since structure defined case signed laurent dufour ldufour reviewed christopher covington cov codeaurora.org reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4399,e9aed2ed380061e7f369fed44eae4c8ced288f64,yrill Gorcunov <gorcunov@gmail.com>, 2016-02-01 17:23:00 +0300, , plugin add pre_dump stage plugins missged first place may cause problem exiting via alarm hanling reported igor sukhih igor virtuozzo.com signed cyrill gorcunov gorcunov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4400,7fc8ecc5e1458b76cdbb62eb2070e37dceeb8d12,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-03 19:00:00 +0300, , test remember clean failure case cgroup01 signed tycho andersen tycho.andersen canonical.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4401,e68008a80a088cfde196df7cc1e5ccfbeba9301f,ndrew Vagin <avagin@virtuozzo.com>, 2016-02-04 22:47:00 +0300, , zdtm_ct create new session process exit user press ctrl signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4402,fe078a0f5277c2c4e5fe363c28000f8bed429fbf,irill Tkhai <ktkhai@virtuozzo.com>, 2016-02-04 20:25:00 +0300, , zdtm disable default skip till remap link supported signed kirill tkhai ktkhai virtuozzo.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4403,afe361f0535ec6eed6bb15d2fc73b7ae5e22eedb,irill Tkhai <ktkhai@virtuozzo.com>, 2016-01-28 14:39:51 +0300, , zdtm add test test check deleted file content deleted parent directory restores right initially directory created separate mount check ghost file created right mount link rfi_remap working signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4404,e62f1aea5269760a975f38805dd4f8966bda465c,irill Tkhai <ktkhai@virtuozzo.com>, 2016-01-28 14:39:41 +0300, , file reg recreate deleted parent directory restore ghost file patch make ghost file restore right path signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4405,6345b6aa6a455a8ab85d5834ba33aa9ae925d2c6,irill Tkhai <ktkhai@virtuozzo.com>, 2016-01-28 14:39:31 +0300, , file reg create ghost file first existing parent directory since deleted file may belong deleted directory turn may belong another deleted etc necessary recreate missing dentries path mkreg_ghost good idea another ghost file may need dentries path requires refcouting recreated directory avoid restore ghost file first existing parent directory patch guarantee ghost file mount target file rfi_remap need link signed pavel emelyanov xemul virtuozzo.com,,
4406,685953e484c609ed9573afcc994a9df6a65068a0,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-02-02 20:18:00 +0300, , test arm fix building armv7l architecture issue arch overwritten caller makefile already define upper makefile overwriting arch define arm armv7l instance srcarch set armv7l wrong patch srcarch using inherinted define called top level makefile required build test armv7l architecture qemu signed laurent dufour ldufour signed pavel emelyanov xemul virtuozzo.com,,
4407,ca7841601e3bf5e0d6168a74300c4927249e783f,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-02 09:56:41 +1100, , test prevent failing ebusy sometimes get sudo zdtm.py run zdtm live static cgroup03 umount home tycho package criu test zdtm.qpwsoo target busy case useful info process use device found lsof fuser traceback recent call last file zdtm.py line 1401 module tst.available file zdtm.py line 435 available flock file usr lib python2.7 subprocess.py line 540 check_call raise retcode cmd command flock returned non zero exit status let use lazy unmount avoid signed tycho andersen tycho.andersen canonical.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4408,ee2b893969c4bf29775b7065f19370389bd0f78f,ycho Andersen <tycho.andersen@canonical.com>, 2016-02-02 09:56:40 +1100, , cgroup drop global property read fact value always need value reported andrey vagin avagin openvz.org signed tycho andersen tycho.andersen canonical.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4409,33adc6d7c175f088e4e5916b9a9e62c2c1f37206,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2016-01-22 15:29:00 +0300, , mount separate private remount condition external non external two separate case mount external external set mount internal external two case need separate decesions making moutn private case need private remount mount doe master_id shared_id  mount different shared_id bind source private remount master_id lost setting private mount alone shared group setting master silently fail kernel find mount see do_make_slave http jira.sw.ru browse psbm 42829 rework patch together need signed pavel tikhomirov ptikhomirov virtuozzo.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4410,2f70a79eac6f44e1af495405fdb35333f68bd289,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-01-27 15:04:31 +0300, , pipe move struct pipe_info declaration pipes.h autofs need create write pipe end file descriptor closed thus pipe_info structure exported signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4411,cae94b76f17412a7abb44ec2b52d45c62875b9ed,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2016-01-27 15:04:12 +0300, , restore restore root sid mount namespace precursor patch autofs mount restore restore autofs indirect mount point create mount point dentries process pgrp configured mount process doe autofs mount call init moment restoring actual pgrp sid break sid restoring thus restoring sid required make process group leader signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4412,5ff22ad29bda1a500263f7ac56a198e8864617eb,irill Tkhai <ktkhai@virtuozzo.com>, 2016-01-25 19:40:04 +0300, , file reg move applying ghost file metadata create_ghost separate function cleanup make create_ghost smaller signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4413,dbb9d5ebd72570f5be7e8ade990715b46ef48502,irill Tkhai <ktkhai@virtuozzo.com>, 2016-01-25 19:39:44 +0300, , file reg make try_clean_ghost use struct ghost_file ptr cleanup used next patch signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4414,78a0f8db3fc3ef7f0922fa782faf0f3caf52dc32,irill Tkhai <ktkhai@virtuozzo.com>, 2016-01-25 19:39:34 +0300, , file reg refactor create_ghost case file descriptor need function need case creating regular file use chown instead fchown operate path directly patch move copying content regular file new function mkreg_ghost used next patch also parameter used signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4415,da7f3ffc73860a31c44b90e8f6f9fdef3f17165f,yrill Gorcunov <gorcunov@gmail.com>, 2016-01-27 11:32:00 +0300, , add debug printing subset mismatch signed cyrill gorcunov gorcunov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4416,ffcdeb7d0acfc07ffa9add924010e5405b50236c,ycho Andersen <tycho.andersen@canonical.com>, 2016-01-20 10:27:38 -0700, , doc add note default mode signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4417,c30c6e38fe08e0ebac89219491b16e389de34504,ycho Andersen <tycho.andersen@canonical.com>, 2016-01-20 10:27:37 -0700, , test add test cgroup perm global prop signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4418,c6e5e33414f09c6a7f2bfa5ea2ffe7130fe012f8,ycho Andersen <tycho.andersen@canonical.com>, 2016-01-20 10:27:36 -0700, , cgroups restore perm task cgroup.procs file although want restore value file definitely want restore permission certain container engine lxc make use signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4419,fa433b75522202de740c0970fe36863c5314bbc8,ycho Andersen <tycho.andersen@canonical.com>, 2016-01-20 10:27:35 -0700, , cgroup restore perm cgroup dirs well signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4420,142f2c8e1cf268a93864a88b3c3e6c32defb9c9a,ycho Andersen <tycho.andersen@canonical.com>, 2016-01-20 10:27:34 -0700, , cgroup dump global property well present every cgroup let dump signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4421,cbe8ef4fe76f5180307f9e4e2697bd950fe62fd9,ycho Andersen <tycho.andersen@canonical.com>, 2016-01-20 10:27:33 -0700, , cgroup restore cgroup property perm well signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4422,3c18439ebdf4bea9d8593b0b5ef07231183efd5e,ndrew Vagin <avagin@virtuozzo.com>, 2016-01-27 02:01:00 +0300, , dump save master_id root mount root mount always external master_id external required validate mount already restore need dump otherwise get error mount master_id shared_id unreachable sharing try enable external master http jira.sw.ru browse psbm 43260 signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4423,c37324b6d0bce6f93539408b37792a30456ff251,ndrew Vagin <avagin@virtuozzo.com>, 2016-01-21 05:07:03 +0300, , crtools describe inherit option signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4424,79f430ba754f1e5d5072aab2d82ebcf36b386fb9,yrill Gorcunov <gorcunov@gmail.com>, 2016-01-20 16:25:00 +0300, ," parasite left memfd opened inside dumpee reason return error might left dumpee memfd descriptor opened later code remove injected blob making dumpee look untouched descriptor hang lsof container output systemd root reg 0,4 53855 memfd criumfd deleted thus let close immediately http jira.sw.ru browse psbm 43199 signed cyrill gorcunov gorcunov virtuozzo.com signed pavel emelyanov xemul virtuozzo.com",,
4425,e46594ae3e7ed25174488e63499023ce89c4ffbc,avel Emelyanov <xemul@parallels.com>, 2016-01-20 16:17:00 +0300, , mount sanitize mounts_equal helper split two full comparison code formatting space arg name signed pavel emelyanov xemul parallels.com signed pavel emelyanov xemul virtuozzo.com,,
4426,70c3c928742aa142b959cf19e7373770fe3ec9e2,avel Emelyanov <xemul@parallels.com>, 2016-01-20 16:16:00 +0300, , mount rework bool insert_roots argument signed pavel emelyanov xemul parallels.com signed pavel emelyanov xemul virtuozzo.com,,
4427,5ff440924ba4c04a109c12af39df14d3c09ee93d,avel Emelyanov <xemul@parallels.com>, 2016-01-20 11:30:00 +0300, , file remove unused args signed pavel emelyanov xemul virtuozzo.com,,
4428,5dc64eb61fc3fb05119078d18a07cbbde4ba8c25,ycho Andersen <tycho.andersen@canonical.com>, 2016-01-21 03:10:00 +0300, , gitignore ignore generated testcases signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4429,101775b158d96fc7707a1af515052a85212ee0e2,ndrew Vagin <avagin@virtuozzo.com>, 2016-01-16 05:57:54 +0300, , seize remove extra error message signed andrew vagin avagin virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4430,4429a4c91423f77af75615035b3c2d0e23cb5229,ndrew Vagin <avagin@virtuozzo.com>, 2016-01-16 05:57:53 +0300, , seize detach task freezer cgroup set criu detaches task freezer_detach case signed andrew vagin avagin virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4431,15c9eb220e6917df29c8fd140bf3e27aeae743a0,ndrew Vagin <avagin@virtuozzo.com>, 2016-01-16 05:57:52 +0300, , seize detach process waiting root task need detach process waiting root task one process may collect process target pid namespace pid namespace destroyed process killed collected http jira.sw.ru browse psbm 43089 signed andrew vagin avagin virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4432,2f80e54cd97bbd03312cd23e3405a0a16cbaa253,irill Tkhai <ktkhai@virtuozzo.com>, 2016-01-20 14:53:03 +0300, , zdtm add suid flag binfmt_misc test fix following test error fail binfmt_misc.c 111 mount failed errno operation permitted criu test test zdtm.py run passed signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4433,a85aeb7fd0665053a24d7a29c0d8cfebfe1361b1,avel Emelyanov <xemul@parallels.com>, 2015-12-09 14:57:49 +0300, , remove __rst_new_ns_id one user better reshuffle arg set signed pavel emelyanov xemul parallels.com signed pavel emelyanov xemul virtuozzo.com,,
4434,b8a9122d897f0e562c9cfbd42e054be352647378,avel Emelyanov <xemul@parallels.com>, 2015-12-09 14:57:05 +0300, , fds remove unused arg close_old_fds signed pavel emelyanov xemul parallels.com signed pavel emelyanov xemul virtuozzo.com,,
4435,0420e0990890cc10ae125dc15d33d3dd830d518a,ycho Andersen <tycho.andersen@canonical.com>, 2016-01-19 19:15:00 +0300, , tmpfs try dump mountpoint happen get mountpoint error 00.280617 dumping task cwd 0x2b root 0x2b 00.280697 mnt dumping mountpoints 00.280702 mnt 132 run lock 00.280714 mnt path run lock resolved run lock mountpoint tar proc self open directory tar error recoverable exiting 00.283581 error util.c 666 exited status 00.283598 error mount.c 1220 mnt dump tmpfs content instead let ever use mountpoint signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4436,eec66f3d30f9ccd75a8f1fab6920c20933eecd64,gor Sukhih <igor@virtuozzo.com>, 2016-01-19 15:10:00 +0300, , criu patch post setup namespaces introduce post setup namespaces action script needed possibility run cutom script mount namespace configured signed igor sukhih igor parallels.com signed pavel emelyanov xemul virtuozzo.com,,
4437,ef8d4cf285508f510d978333cff80972f8359309,ndrew Vagin <avagin@virtuozzo.com>, 2016-01-14 03:18:00 +0300, , service add support external option signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4438,751a4982a905bc84c0d2cb048edf7450e98e7673,ycho Andersen <tycho.andersen@canonical.com>, 2016-01-13 15:46:00 +0300, , dump add stray newlines pr_infos signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4439,25b88d10d9b4c7d6d0fd88570ebb372b0a30138e,irill Tkhai <ktkhai@odin.com>, 2015-12-14 14:08:00 +0300, , binfmt_misc make debug printed using pr_debug debug message printed pr_perror also interested debug case magic extension signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4440,bd27328b7d3a188439e9fc1b04aefebc03ac6c6d,irill Tkhai <ktkhai@odin.com>, 2015-12-14 14:07:00 +0300, , zdtm add binfmt_misc test generate random binfmt_misc entry different type check remain registered signal pr_perror cleanup .desc file tst_dir makefile signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4441,ef074d3ff4425f39327c5d902acaab7f5731101c,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-01-15 19:39:00 +0300, , ppc64 introduce cpu feature checking operation patch introduces basic cpu feature checking powerpc signed laurent dufour ldufour signed pavel emelyanov xemul virtuozzo.com,,
4442,406edb007b830a59d091ab6cc11bf4577c09857a,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-01-15 09:33:43 +0100, , zdtm test fix live static netns dependency test call iptables set new packet filter using shared library unfortunately depending distribution running shared library may stored different place patch allows test run debian like system signed laurent dufour ldufour signed pavel emelyanov xemul virtuozzo.com,,
4443,6b13731d02bb6878339b727729185585b45e189e,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-01-15 09:33:42 +0100, , zdtm.py add optional dependency support depending distribution binary shared library test dependent may stored place patch introduces ability define option dependency list separating optional target name character instance dependency test may described way flavor deps bin foo usr bin foo flag suid note space around none optional dependency satisfied error raised signed laurent dufour ldufour signed pavel emelyanov xemul virtuozzo.com,,
4444,6853c480adc5775fd652cfe6839c902a6f15019e,avel Emelyanov <xemul@virtuozzo.com>, 2016-01-18 21:09:07 +0300, , mem handle case kernel support dirty track reset signed pavel emelyanov xemul virtuozzo.com acked andrew vagin avagin virtuozzo.com tested adrian reber adrian lisas.de,,
4445,d7684252c88a5fff8a96c310dffeb2e46bc155fc,avel Emelyanov <xemul@parallels.com>, 2015-12-30 13:45:00 +0300,101, kdat handle pagemaps zeroed pfns recent kernel allow user read proc pagemap file zero pfns support mode user dump http github.com xemul criu issue 101 signed pavel emelyanov xemul virtuozzo.com acked andrew vagin avagin virtuozzo.com,,
4446,40184b9797ff754f1fd2651170c2c7b477b77435,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2016-01-14 16:43:00 +0300, , zdtm use usr bin diff instead bin diff descriptor test netns netns referencing bin diff fedora hard link usr bin diff created install package diffutils however hard link exist debian like system referencing usr bin diff work case signed laurent dufour ldufour signed pavel emelyanov xemul virtuozzo.com,,
4447,c89fecfd6c1a56f65875852eef02859d486d310e,ycho Andersen <tycho.andersen@canonical.com>, 2016-01-14 12:42:00 +0300, , remap fix dead pid remap proc pid turn test proc pid kernel appends deleted since directory actually deleted vs. something like proc mountinfo file still exists unlinked directory deleted see comment detail ret is_dead proc pid xxx test split test correctly test case signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul virtuozzo.com,,
4448,ec8db4cb6cdf1dbbbbf117d5ef334b90acfedbd0,ndrew Vagin <avagin@virtuozzo.com>, 2016-01-13 18:29:00 +0300, , test session00 close signal pipe process signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4449,d2183bb3eb422e4e54745d6413096ece80d5e3b0,avel Emelyanov <xemul@virtuozzo.com>, 2016-01-13 17:01:38 +0300, , fix compilation previous commit signed pavel emelyanov xemul virtuozzo.com,,
4450,2449656e10cb1725fe58399e5f07fe55f6c282d9,avel Emelyanov <xemul@parallels.com>, 2015-12-30 13:50:00 +0300, , util optimize vaddr_to_pfn signed pavel emelyanov xemul virtuozzo.com,,
4451,9c327c3128567b0c45cdb3ac3736ad38d982e16e,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-30 02:18:00 +0300, , zdtm chroot wait child close descriptor static test change state signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4452,a57fba056e43d23cf1fd5aaea59a48d045c15777,ergey Bronnikov <sergeyb@openvz.org>, 2015-12-29 13:56:00 +0300, , make update target measure code coverage patch update makefile measuring code coverage criu criu binary compiled option coverage linked lgcov option lcov utility creates html page containing source code annotated coverage information make gcov make test make gcov look gcov html index.html change disable optimization compilation gathering coverage data mention option coverage help cleanup file produced code coverage make path coverage file produced test independent environment add option branch coverage disabled default signed sergey bronnikov sergeyb openvz.org signed pavel emelyanov xemul virtuozzo.com,,
4453,4ea3acb03c801428f119cb8768fe39d4dd22012a,ndrew Vagin <avagin@virtuozzo.com>, 2016-01-09 22:57:00 +0300, , zdtm session00 wait child close static test change state run zdtm live static session00 start test session00 pidfile session00.pid outfile session00.out run criu dump run criu restore old file lost set new file appeared set test zdtm live static session00 fail fds compare signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul virtuozzo.com,,
4454,db0cc36417d7385be32c7eecab4fa54cc469570d,ijaya Kumar K <Vijaya.Kumar@caviumnetworks.com>, 2015-12-30 19:56:00 +0300, , zdtm correct syscall number fanotify00 testcase define correct syscall number fanotify_init fanotify_mark arm64 signed vijaya kumar vijayak reviewed christopher covington cov codeaurora.org signed pavel emelyanov xemul virtuozzo.com,,
4455,8a7c006bdd08cdd52b775d14f051df483c02ecda,ijaya Kumar K <Vijaya.Kumar@caviumnetworks.com>, 2015-12-30 19:56:00 +0300, , define macro stack alignment replace stack alignment magic constant macro also align stack sigaltstack test case signed vijaya kumar vijayak reviewed christopher covington cov codeaurora.org signed pavel emelyanov xemul virtuozzo.com,,
4456,831f7b91917de4a607f7d107dd85bb588671cb4c,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-30 02:13:00 +0300, , tty use prix64 print dev_t dev_t x86_64 ull arm32 tty.c function get_tty_driver tty.c 247 error format expects argument type long unsigned int argument type dev_t werror format snprintf sizeof tty rdev dev signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4457,0e891b3b0de72e56c585a806ad2d65ee74c1ffe7,avel Emelyanov <xemul@parallels.com>, 2015-12-30 17:06:27 +0300, , zdtm.py force per test log report requested otherwise non parallel jenkins job miss error log mail signed pavel emelyanov xemul parallels.com,,
4458,0f6e2a66fc57fe7bba5e243f24ac22f75b607997,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-29 17:31:00 +0300, , arch define readlinkat syscall architecture vijaya kumar vijaya.kumar fix c9448e1ff7d3 arm fix wrong system call number signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4459,6aede7f18b8d996e676444c426e15387045eb613,ijaya Kumar K <Vijaya.Kumar@caviumnetworks.com>, 2015-12-28 13:39:42 +0530, , zdtm align stack pointer arm64 arm64 requires stack pointer aligned byte update test case using clone system call byte aligned stack pointer signed vijaya kumar vijayak signed pavel emelyanov xemul parallels.com,,
4460,cda3a0799b6baf10daf7a55fb1730e1afa78e12b,ijaya Kumar K <Vijaya.Kumar@caviumnetworks.com>, 2015-12-28 13:39:41 +0530, , restorer update arm64 arm64 requires stack aligned byte update macro always align byte signed vijaya kumar vijayak signed pavel emelyanov xemul parallels.com,,
4461,1a5296e537fccd75228c2c7c5c20871131f4d2e7,ijaya Kumar K <Vijaya.Kumar@caviumnetworks.com>, 2015-12-28 13:39:40 +0530, , restore align stack byte arm64 arm64 expects stack aligned byte stack pointer aligned clone system call fails restore signed vijaya kumar vijayak signed pavel emelyanov xemul parallels.com,,
4462,c9448e1ff7d321354cac98607057d378f3819d1f,ijaya Kumar K <Vijaya.Kumar@caviumnetworks.com>, 2015-12-28 13:39:39 +0530, , arm fix wrong system call number system call number corresponds readlinkat mapped readlink syscall.def arm patch use sys_readlinkat instead sys_readlink update syscall.def point syscall number readlinkat instead readlink signed vijaya kumar vijayak signed pavel emelyanov xemul parallels.com,,
4463,9405d4a4cfc43a91b913f46298b1ffe44529804f,mitry Safonov <dsafonov@odin.com>, 2015-12-28 18:31:26 +0300, , criu log introduce print_once impact small cleanup signed dmitry safonov dsafonov odin.com signed pavel emelyanov xemul parallels.com,,
4464,0ce8e42995065921709037dc50d010df535d8a92,mitry Safonov <dsafonov@odin.com>, 2015-12-28 18:31:25 +0300, , kerndat report error feature test called test loginuid restore feature let omit error printing feature test signed dmitry safonov dsafonov odin.com signed pavel emelyanov xemul parallels.com,,
4465,4864996ed8f72736fd89d8b307e6171ee300b681,ndrey Vagin <avagin@openvz.org>, 2015-12-25 20:20:00 +0300, , dump write inventory image dumping process currently criu segfaulted inventory image removed detect image incomplete signed andrey vagin avagin openvz.org signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4466,98cc46fc1368408c32dc57a182fbc8981db9642d,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-25 17:49:37 +0300, , test add new test check external terminal example used signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4467,df0be41e05c6c82509dbe07009df34b92fbaa514,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-25 19:23:00 +0300, , zdtm add new test check inherited tty set control terminal signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4468,4bab48fb39c2495585b1fb0d2e1e593970e9b151,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-25 17:49:35 +0300, , tty allow dump restore external terminal use inherit option mark external terminal dump tell file desdriptors used restore terminal example work setsid sleep 1000 ipython import os.stat proc self print tty st.st_rdev st.st_dev tty 8800 sleep pid tty time cmd 4109 sleep criu dump external tty 8800 imgs 4109 criu restore inherit tty 8800 imgs add missed break remove non_file tty_driver signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4469,6280625aacef253935bc6bdbe97348c9460bd660,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-25 17:49:34 +0300, , crtools add ability set list external resource option used mark external resource dump currently going used handle external tty future used type resource way restore external resource separate option say restore type example use inherit restore external file descriptor signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4470,2245a43393246e5c72cc009adc4a2aa1254d58d5,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-25 17:49:33 +0300, ," tty use pair dev rdev identify terminal use terminal device distinguish two pty different mount case mount devpts newinstance xxx pts1 mount devpts newinstance xxx pts2 stat pts1 device 27h 39d inode link device type 88,0 stat pts2 device 28h 40d inode link device type 88,0 signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com",,
4471,5d75e1f4cfc2ce2bf0db3474ba11603aaa487fd6,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-25 19:22:00 +0300, , jenkins add script check inherit file descriptor signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4472,ea68c33fff2b1f4bebd5efb6893661e9c9c5ee60,avel Emelyanov <xemul@parallels.com>, 2015-12-24 15:27:00 +0300,93, mnt allow external mount fsroot one right bind mount container want external mount criu would refuse dump mountpoint tune check validate_mounts always accept external regardless whether fsroot http github.com xemul criu issue signed pavel emelyanov xemul parallels.com tested dengguangxing dengguangxing huawei.com,,
4473,9dc7155b7323a1a06e4388aab68e7d360d30fe46,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-26 01:14:00 +0300, , zdtm.py unfreeze test process killing signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4474,20592acef76300e1a6c5fd6d5bcb766c8daa08ed,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-25 23:51:00 +0300,98, syscall use correct type timer_t timer_t void glibc timer_t int kernel call system call need use timer_t kernl http github.com xemul criu issue signed andrew vagin avagin virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4475,fc3dadfb3400eb5ed7538b5cae39759f582fa74d,ndrey Vagin <avagin@openvz.org>, 2015-12-25 17:20:00 +0300, , mount fix spelling error error message signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4476,af997ccea65fd5032fc2dd2a6da27e2f7cae4870,yrill Gorcunov <gorcunov@openvz.org>, 2015-12-25 13:16:00 +0300, , arm proc_parse fix u64 format warning use explicit type placate compiler proc_parse.c function vma_get_mapfile proc_parse.c 282 error format expects argument type long unsigned int argument type uint64_t werror format pr_err strange file mapped  proc_parse.c 335 error format expects argument type long unsigned int argument type uint64_t werror format pr_err failed resolve mapping filename  cc1 warning treated error signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4477,4e9d271fc060326127e0748ace7940bc66940ec9,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-24 18:30:00 +0300, , mount change root master_id restore going change dump dmitry safonov dsafonov odin.com signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4478,d63c2bbff02063b5624b9fd3f3e8e15643355432,mitry Safonov <dsafonov@odin.com>, 2015-12-24 14:43:45 +0300, , check add logiuid feature loginuid test run set 3.13 kernel enabled signed dmitry safonov dsafonov odin.com signed pavel emelyanov xemul parallels.com,,
4479,d151997b852da1f98ea562905de47a2a796130ca,mitry Safonov <dsafonov@odin.com>, 2015-12-24 14:43:44 +0300, , criu fetch value dump restore loginuid value set signed dmitry safonov dsafonov odin.com signed pavel emelyanov xemul parallels.com,,
4480,1137c3f80ae3e8ef162de881b3336b6cb66df3a5,mitry Safonov <dsafonov@odin.com>, 2015-12-24 14:43:43 +0300, , kerndat add has_loginuid kerndat_s value differ checkpoint mean possible dump logiuid value restore mean possible unset loginuid write saved value unsetted loginuid signed dmitry safonov dsafonov odin.com signed pavel emelyanov xemul parallels.com,,
4481,4a0351d76ec47d8dcee16ff6cf3069bf1b183fc9,yrill Gorcunov <gorcunov@openvz.org>, 2015-12-24 22:42:00 +0300,97, cred restore honor rst_mem_alloc rule rst_mem_alloc rule might move previously allocated block mean reuse previously allocated pointer new block created thus remember pointer position needed adjust accordingly http github.com xemul criu issue reported andrew vagin avagin virtuozzo.com signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4482,4dc3e53e57902c0f1e47010fa6389f07d1f6504a,avel Emelyanov <xemul@parallels.com>, 2015-12-24 22:50:00 +0300, , tcp try harder restore recv queue restore try put data back recv queue quite big chunk however kernel try hard split data packet repair mode queue allocates linear skb given size size moderately big allocation subject fail slab reliably allocates memory failing big chunk recv queue shrink chunk try signed pavel emelyanov xemul parallels.com acked andrew vagin avagin virtuozzo.com,,
4483,afc11b6a6c8b0d8cd8008284f2f0c3f7c973ce15,avel Emelyanov <xemul@parallels.com>, 2015-12-24 14:47:24 +0300, , zdtm.py log add report signed pavel emelyanov xemul parallels.com,,
4484,517c0988e1d311e86862e187700f56379b2e34d7,avel Emelyanov <xemul@parallels.com>, 2015-12-22 12:31:03 +0300, , zdtm.py mark nouser test test require criu root e.g tcp test unlink mmaps one mark desc file signed pavel emelyanov xemul parallels.com look good andrew vagin avagin virtuozzo.com,,
4485,b8d92bd4ebb4466466f52cc5281ccab21bbd384e,avel Emelyanov <xemul@parallels.com>, 2015-12-22 12:31:48 +0300, , jenkins add user mode job signed pavel emelyanov xemul parallels.com look good andrew vagin avagin virtuozzo.com,,
4486,d487ad76462157bc76d8c0be553c16a1c5aaecb0,avel Emelyanov <xemul@parallels.com>, 2015-12-22 12:30:09 +0300, , proc fix aio mapping detection fixlet patch signed pavel emelyanov xemul parallels.com look good andrew vagin avagin virtuozzo.com,,
4487,dde2adbc9d5a988a3624ab1056d43cef6cfd58c0,avel Emelyanov <xemul@parallels.com>, 2015-12-15 22:26:48 +0300, , zdtm.py check user mode work several restriction onlu dump checked norst host flavor test start non root mode non suid test tcp work manually excluded signed pavel emelyanov xemul parallels.com look good andrew vagin avagin virtuozzo.com,,
4488,35636a7e048f98c395f52848d3cd52b17c92f3bf,yrill Gorcunov <gorcunov@openvz.org>, 2015-12-15 22:26:30 +0300, , parasite load code blob via memfd currently parasite loaded using map_files dir guarged cap_sys_admin default dropped 4.2 series let deal try use memfd interface first introduced 4.0 kernel series fail switch old map_files interface time user switched new kernel memfd gon primary interface signed pavel emelyanov xemul parallels.com look good andrew vagin avagin virtuozzo.com signed cyrill gorcunov gorcunov openvz.org look good andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4489,2dcccc610713b96a84c83750f08d49efc84212af,avel Emelyanov <xemul@parallels.com>, 2015-12-15 22:26:01 +0300, , proc use smaps path file kernel allow mess map_files dir proc dump user process try get file path using path smaps file 100 sure path correct also get device ino number check agains stat path one scheme miss mapped packet socket user use aios detected via device inode name several nested mntns user use mapped unlinked file fixed reading file via task memory slow still gorcunov special mapping heap vsyscall vdso kernel provides name rounded bracket exit vma_get_mapfile meet one allow caller handle signed pavel emelyanov xemul parallels.com look good andrew vagin avagin virtuozzo.com signed cyrill gorcunov gorcunov openvz.org look good andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4490,a4edef8e1c1cc5df7cc873d7634179c2aedeebe5,yrill Gorcunov <gorcunov@openvz.org>, 2015-12-15 22:25:44 +0300, , pagemap cache use greedy mode pagemap inaccessible criu running unprivileged mode access dumpee pagemap file simply switch greedy mode page gon dumped regardless presence memory signed cyrill gorcunov gorcunov openvz.org look good andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4491,d1db4faf9bffada4a8b5c0f07a94e4724d924237,yrill Gorcunov <gorcunov@parallels.com>, 2015-12-15 22:25:28 +0300, , vdso fail pagemap accessbile use page frame number detect vdso remapped place runtime vdso restore case kernel younger 3.16 vdso mark reported procfs output still address recently reported able run criu unprivileged mode need handle vdso without pagemap access deal find vma look like vdso try scan vdso symbol match restore status without pfn access detail pagemap access kernel history pagemap introduced commit 85863e475e59 anyone attach task via ptrace allowed read data pagemap feb 2008 v2.6.25 rc1 commit 006ebb40d3d65 ptrace attach rule changed ptrace read permission may 2008 v2.6.27 rc1 commit ab676b7d6fbf4 opening pagemap become guarded cap_sys_admin leak physical address userspace mar 2015 v4.0 rc5 commit 1c90308e7a77a opening pagemap become available regular user ptrace read permission physical address page hidden non privileged userd sep 2015 v4.3 rc1 signed cyrill gorcunov gorcunov openvz.org look good andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4492,d10835c4ee0d0b1881b926708dee9877f5fb294d,avel Emelyanov <xemul@parallels.com>, 2015-12-15 22:25:09 +0300, , dump dont read prohibited kernel file particular able memory tracking zero page detection signed pavel emelyanov xemul parallels.com look good andrew vagin avagin virtuozzo.com,,
4493,2e2e1c13fb765336c2ab5880e48bce64f045fb40,avel Emelyanov <xemul@parallels.com>, 2015-12-15 22:24:53 +0300, , kerndat read anon shmem dev via map kernel allow read proc pid map_files file used get pseudo device anon shmem mapping info get scanning proc self map file work slower still signed pavel emelyanov xemul parallels.com look good andrew vagin avagin virtuozzo.com,,
4494,df1729e3eca2daea114e2d031bc2c016ec55c457,avel Emelyanov <xemul@parallels.com>, 2015-12-15 22:24:39 +0300, , util ability ignore errno opening proc run regular user criu get eacces eperm opening proc situation criu deal patch make possible print error message log case signed pavel emelyanov xemul parallels.com look good andrew vagin avagin virtuozzo.com,,
4495,70681dd81baa969978d8a034c821f4adccb3846f,yrill Gorcunov <gorcunov@openvz.org>, 2015-12-15 22:24:25 +0300, , parasite add pad argument syscall run need extra space memfd based syscall without poking stack since safe without additional test add pad argument used find proper memory seized syscall execution signed cyrill gorcunov gorcunov openvz.org look good andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4496,5bfb579eba1c87550f6447a2ab6e6ab92c031f59,avel Emelyanov <xemul@parallels.com>, 2015-12-15 22:24:07 +0300, , proc get full file path handle_vma right get first symbol next patch full path would required signed pavel emelyanov xemul parallels.com look good andrew vagin avagin virtuozzo.com,,
4497,6c22bfe216f0b58508a1ef924adb9f41330f9d1c,avel Emelyanov <xemul@parallels.com>, 2015-12-15 22:23:54 +0300, , criu remove security longer support root mode service suid binary artificial restriction longer make sense signed pavel emelyanov xemul parallels.com look good andrew vagin avagin virtuozzo.com,,
4498,35cb5996348897d73e460a2efc5ae7fb8fca2973,yrill Gorcunov <gorcunov@openvz.org>, 2015-12-23 18:55:29 +0300, , test different_creds enhance testing test cred need precise way let add additional cred test signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4499,e8dd8c63f8971930388b730194c251ea5a94316d,yrill Gorcunov <gorcunov@openvz.org>, 2015-12-23 18:55:28 +0300, , zdtm add array_size header suitable macro signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4500,e09f7ea05cdfaeccb3c3141542d9ebd7141e8093,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-23 18:22:00 +0300, , zdtm set dumpable flag setuid otherwise able access proc pid process __nr_wait4 __nr_setresuid tycho andersen tycho.andersen canonical.com acked tycho andersen tycho.andersen canonical.com signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4501,7c11b0b914578c4f8548866c1a2b3bbfe66cc872,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-23 16:42:00 +0300, , zdtm.py worry test class static signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4502,57d73475affa234351c3765a5d2eedcf6f279102,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-23 16:33:00 +0300, , test inhfd use os.fdopen instead home made class signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4503,6aaa1a2efc0989d9db10719ecd5db746e9849d4f,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2015-12-22 18:22:00 +0300, , cpt rst access modification time ghost file modification time change cpt rst file_attr test vz7ct 102 criu cat test zdtm live static file_attr.out 05.315 146 fail file_attr.c 101 modification time changed errno resource temporarily unavailable http jira.sw.ru browse psbm 41401 add timeval message test seem pas remove noauto signed pavel tikhomirov ptikhomirov virtuozzo.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4504,e9fc593cde6229ec0db9f9ca1d411c1a8a868bbb,yrill Gorcunov <gorcunov@gmail.com>, 2015-12-21 20:17:00 +0300, , cred dump implement per thread dump credential well restore requires several step reach per thread support dump stage cred area fetched parasite embedded  test task dumpable longer compare cap allow different renamed  sake extend support dumping cred call several place particular need fetch misc params need cred cred option come play patch cred x.img file generated anymore guess might drop time descriptor http jira.sw.ru browse psbm 41416  dump_task_creds mangle call  take account serf two case plain misc parameter fetching cred well depending context test dumpable still require seccomp filter match different need support configuration series  rip dump_task_creds completely together dump cred unconditionally group leader thread data fetched via new helper signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4505,eb5d84428e8654a7bc9458ed732704a00cfbe0f4,yrill Gorcunov <gorcunov@gmail.com>, 2015-12-21 14:08:00 +0300, , cred restore implement per thread restore credential cred parameter passed inside pie restorer code read structure allocated need small trick prepare cred int several stage collect cred data separate private memory blob memory needed restorer allocated relocate pointer block setup appropriate address restorer work usual setup cred parameter  fix addressing positioning rst_ memory occasionally zap pointer sending patch forgot merge change back series successfully restoring container different cred merged series work change merged appropriate drop module global cap_last_cap pie restorer.c signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4506,212e210552450865569d4c112b5d20b3cb2c6cbb,yrill Gorcunov <gorcunov@openvz.org>, 2015-12-17 12:14:15 +0300, , cred move cap_x end structure easier comparision gon addressed next patch http jira.sw.ru psbm 41416 signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4507,85ea6877ac193fff3c50ad0a5e2be3afb49e54aa,yrill Gorcunov <gorcunov@openvz.org>, 2015-12-17 12:14:14 +0300, , cred allocate credsentry every thread signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4508,dde0df46020b74152cc09cf115b57edc20f1f12e,yrill Gorcunov <gorcunov@openvz.org>, 2015-12-17 12:14:13 +0300, , cred protobuf move creds_entry cred per thread data declare appropriately need data restore thread different credential scope http jira.sw.ru browse psbm 41416 signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4509,767e3e994e8631c4cc02ef318573e6f71d6c9a3c,yrill Gorcunov <gorcunov@openvz.org>, 2015-12-17 12:14:12 +0300, , xmalloc add xmemdup helper signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4510,9fa11f3aab4968ccf0fd27f96fd9709838e1b129,yrill Gorcunov <gorcunov@openvz.org>, 2015-12-17 12:14:11 +0300, , arm syscalls wire sys_setgroups signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4511,c89ba9a4a44cd6d7604177a2b66e747054c962e2,yrill Gorcunov <gorcunov@openvz.org>, 2015-12-17 12:14:10 +0300, , ppc64 syscalls wire sys_setgroups signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4512,592f45b10f6ca95d58180606b703e44698fd04d9,yrill Gorcunov <gorcunov@openvz.org>, 2015-12-17 12:14:09 +0300, , x86 syscalls wire sys_setgroups signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4513,b64159acdd5cbacebcdd6cfb7ac7fe81c8d5dee4,"ATSUMOTO, Ryosuke <matsumoto_r@net.ist.i.kyoto-u.ac.jp>", 2015-12-24 18:49:00 +0900, , fix mnt_path may used uninitialized function signed pavel emelyanov xemul parallels.com,,
4514,7f75e74ae7dfcc6adb980710af79e76a1234f133,avel Emelyanov <xemul@parallels.com>, 2015-12-23 17:42:44 +0300, , zdtm_ct mount binfmt misc creation mountpoints.c test creates mount criu try kerndat check one host signed pavel emelyanov xemul parallels.com,,
4515,a5c2e8cd86354c67f201c45e2a3bb1a5491064dc,avel Emelyanov <xemul@parallels.com>, 2015-12-23 17:12:53 +0300, , jenkins mount binfmt misc run_ct mountpoints.c test creates mount criu try kerndat check one host signed pavel emelyanov xemul parallels.com,,
4516,c3e9140304818275bf86dab6fa3a1fd02497b5e1,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-22 11:22:00 +0300, , jenkins build criu debuginfo signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4517,a21ea70df23193c68cc38952f2b6a07a440c1dc3,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-23 07:51:00 +0300, , zdtm file_locks04 use test_waitsig synchronize child parent signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4518,bd806a78320d65a17ad6b7c0eda70f4b30d60bea,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-23 07:46:00 +0300, , zdtm fifo_wronly wait child open file descriptor static test change state signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4519,64744030f29f138d879b46de278f6cf9ea629b9e,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-22 23:52:00 +0300, , zdtm.sh remove warning existent directory call mknod correct argumetns signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4520,36c4cba98643761bbb6f00e564a347e09dbcd67d,irill Tkhai <ktkhai@odin.com>, 2015-12-21 15:19:00 +0300, , binfmt_misc skip dumping virtual similar devtmpfs devpts skip binfmt_misc mount virtual signed kirill tkhai ktkhai odin.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4521,505896e6644c3e977ba4b257dd80a17bc802c56d,avel Emelyanov <xemul@parallels.com>, 2015-12-21 14:03:00 +0300, , zdtm.py test freeze cgroup work fix test makefile signed pavel emelyanov xemul parallels.com acked andrew vagin avagin virtuozzo.com,,
4522,4d90c130d17582395ecdc7ec1016d7856df0e761,ndrei Vagin <avagin@openvz.org>, 2015-12-22 17:06:08 +0300, , zdtm pstree check return code signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4523,bd649cebbff54c2b662b7747e64351a1c5a28ba4,ndrei Vagin <avagin@openvz.org>, 2015-12-22 17:06:07 +0300, , zdtm pstree read correct file descriptor signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4524,09d00c411e50bc28563dbfe501329ed6e1a5e1bb,ndrei Vagin <avagin@openvz.org>, 2015-12-22 17:06:06 +0300, , test wait prepartion stage completed signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4525,f8550e45d66ba411389542c373b00a50e0040303,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-22 15:34:00 +0300, , pipe00 child preparing file descriptor signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4526,d35efb4abe23f9ae9e4ffc2ea92168cf6517f15c,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-22 14:34:00 +0300, , zdtm wait child static test change state signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4527,2784095aaf80b07efdc878f7d7c74e061be1d8c2,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-22 14:55:00 +0300, , zdtm sigpending wait child signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4528,097d0618c411f1fe160c4b0e6ac476a314cff6db,ndrey Vagin <avagin@openvz.org>, 2015-12-22 11:39:00 +0300, , zdtm hardcode file name test soruces kirill tkhai ktkhai odin.com signed andrey vagin avagin openvz.org signed andrew vagin avagin virtuozzo.com acked kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4529,5ac87708a2600a2a69ea11dbcbc31cf4aee448b2,yrill Gorcunov <gorcunov@openvz.org>, 2015-12-21 21:54:51 +0300, , test write_read10 wait child create signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4530,2529adceb5e68142ff76681cc97a4849e34fa72b,yrill Gorcunov <gorcunov@openvz.org>, 2015-12-21 16:52:00 +0300, , test write_read_10 fix typo testing opened file descriptor child_fd instead signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4531,caeb8db5cebc0e56b3a3220da45e30a4e440b66e,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-22 00:35:00 +0300, , zdtm mntns_open wait child process open descriptor reported jenkins signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4532,7edbcdac86a61a311debc016f3c55fe3e50404cf,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-21 14:55:00 +0300, , zdtm mountpoints wait child process open descriptor otherwise see error old file lost set new file appeared set reported jenkins signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4533,64d311507c4f0fba4470124cd241a0b64e595fc5,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2015-12-21 13:14:00 +0300, , file reg fix compilation issue signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4534,66468976c42cb3c208615427fefdad083f2937df,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-18 22:17:08 +0300, , mountpoints create dev null signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4535,17c0461939293991865cb13d31cd68bc43de187e,avel Tikhomirov <ptikhomirov@virtuozzo.com>, 2015-12-18 20:12:00 +0300, , rst set mode ghost file write user namespace mainstream kernel writing file suid bit set always cleares bit regardless cap_fsetid see plane capable used vz7 also alternative wait several patch get kernel patch initial support user namespace owned mount http lkml.org lkml 2015 591 patch remove suid cap_fsetid s_user_ns http www.spinics.net list linux fsdevel msg92533.html got error suspending resuming file_attr test vz7ct 102 criu cat test zdtm live static file_attr.out 01.952 30635 fail file_attr.c permission changed errno resource temporarily unavailable http jira.sw.ru browse psbm 41401 signed pavel tikhomirov ptikhomirov virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4536,d0ff73077dff6788abb46132ee8045bb350eb3b9,ndrey Ryabinin <aryabinin@virtuozzo.com>, 2015-12-16 14:59:51 +0300, , dump add timeout collecting process currently criu dump may hang indefinitely e.g wait task blocked vfork task could state reason patch add time limit collecting task dump operation collecting process take long dump process terminated timeout second default could changed via parameter signed andrey ryabinin aryabinin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4537,9bfd62c52bb86cd8147809881b53d45478c1c1eb,ndrey Ryabinin <aryabinin@virtuozzo.com>, 2015-12-16 14:59:50 +0300, , dump factor cleanup code separate function move cleanup code cr_dump_tasks separte function functional change signed andrey ryabinin aryabinin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4538,411f6390895f8b93a45a45b46c2f133c3b23f876,ndrey Ryabinin <aryabinin@virtuozzo.com>, 2015-12-16 14:59:49 +0300, , dump fix return code message pre dump failure obviously print pre_dump_ret value pre dump failed signed andrey ryabinin aryabinin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4539,7398d9fd3568bdc91ab33c4063f0faf3addb3f58,ndrey Ryabinin <aryabinin@virtuozzo.com>, 2015-12-16 14:59:48 +0300, , seize slightly cleanup collect_pstree exit path use goto err everywhere remove root_item task_alive error path collect_pstree caller collect_pstree failed signed andrey ryabinin aryabinin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4540,19a49e098dadd267af72a345b679c06eb250ef7a,mitry Safonov <dsafonov@odin.com>, 2015-12-18 14:23:00 +0300, , restore optimize loginuid oom_score_adj restoring use proc_self instead pid prepare_pid_ used restore set value current process set default value signed dmitry safonov dsafonov odin.com signed pavel emelyanov xemul parallels.com,,
4541,7f9b25bffadec1ccfb34ddec72e61fa5737de80c,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2015-12-17 15:29:33 +0300, , mount use xsprintf signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4542,a7e8769de346c7962385de5ed56c8d5caae67f0a,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2015-12-17 15:29:27 +0300, , sysfs_parse use xsprintf signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4543,7dd377ef0fdb1e998ca68e24ac11e7db1820992f,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2015-12-17 15:29:20 +0300, , irmap use xsprintf signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4544,cdd2733b0a3caa9477e2f680da36fd7e0f0c12d8,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2015-12-17 15:29:14 +0300, , cgroup use xsprintf rewrite_cgsets  added free original path signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4545,696eeef6b4d9dd7c79a7fde8fbc248c41d4c17cc,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2015-12-17 15:29:07 +0300, , mount use xstrcat attach_option  check empty string simplified signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4546,16fd19895c35f4a5b54671b518e26b439cf4c556,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2015-12-17 15:29:01 +0300, , util new string helper introduced patch brings add_to_string helper allow create string variable amount parameter sprintf manner supporting string allocation reallocation necessary  helper renamed xstrcat xsprintf respectively added printf attribute force compiler check signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4547,9c39c061ee7d27a4ff4ef3d2842aa6e81388d5b3,ycho Andersen <tycho.andersen@canonical.com>, 2015-12-16 09:15:10 -0700, , test block prctl seccomp_filter restore_creds prctl block call seccomp filter test cause thing fail hang actually seems unhandled error path signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4548,3f9179e757b581cc491fcb54bd0be13826ad4098,ycho Andersen <tycho.andersen@canonical.com>, 2015-12-16 09:15:09 -0700, , pie move seccomp cred avoid resoring setuid note actually fix problem seccomp could block setuid call since restoring task ptraced seccomp_suspend mode guarantee seccomp filter suspended signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4549,267519c9fb820982cfcca696e070445bb7b9ec2e,ycho Andersen <tycho.andersen@canonical.com>, 2015-12-16 09:15:08 -0700, , test setuid seccomp_filter test fail signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4550,1da9760dfeacecf1249bdc22f58535a5905d745a,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-16 09:15:07 -0700, , ptrace start tracing process restoring cred order restore seccomp correctly need restore_creds restorer blob seccomp policy forbids e.g prctl task suspend_seccomp set die trying restore cred solve break attach_to_tasks two part attach set suspend_seccomp let task continue normally restore_creds stage attach task stop final sigreturn signed andrew vagin avagin virtuozzo.com signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4551,4ed47b76c62fc2a7b2a8137464f4f24a05e2cc2d,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-18 11:44:31 +0300, , zdtm check shared mount carefully call mount one namespace umount another namespace check parent one shared group signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4552,11bfc945dd38fbd73bc8b6d3b388c9762734196d,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-18 11:44:30 +0300, , mount nothing root mount slave signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4553,b814c75295ef5bc66c7bd93be478022283d659a8,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-18 14:05:00 +0300, , zdtm.py fix comparing file map mount save file map mount test process need compare separately process signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4554,4e6c082970dc98213166222cdda760aa8707eee0,avel Emelyanov <xemul@parallels.com>, 2015-12-18 19:16:26 +0300, , fix compilation previous commit signed pavel emelyanov xemul parallels.com,,
4555,95cb2ddb9ed4e4dc58975162b8fc5353ad615c2c,mitry Safonov <dsafonov@odin.com>, 2015-12-18 18:33:00 +0300, , file reg restore pr_set_dumpable flag setfsuid restore dumpable flag setfsuid assure created proc self file inode task credential without would root cred trying access proc file task fail non root user generic vfs permission check signed dmitry safonov dsafonov odin.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4556,48b19662552b2035da161e1f49c40eb715fcb1f1,irill Tkhai <ktkhai@odin.com>, 2015-12-17 14:25:00 +0300, , unix fix double restoring peerless unix socket peer others since commit receive queue dgram socket restores twice open_unix_sk made keep commit logic socket without alive sender signed kirill tkhai ktkhai odin.com signed pavel emelyanov xemul parallels.com,,
4557,72b7351011aa27ecb222effbdeec301a08160065,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-17 00:25:00 +0300, , loginuid save value loginuid target userns restored userns 31.443 fail loginuid.c loginuid value different restore 100003 dmitry safonov dsafonov odin.com signed andrew vagin avagin virtuozzo.com reviewed dmitry safonov dsafonov odin.com signed pavel emelyanov xemul parallels.com,,
4558,9b4d7acf8397ed4658493147e8e5436460464ee2,ycho Andersen <tycho.andersen@canonical.com>, 2015-12-17 19:15:00 +0300, , lsm leak apparmor string case unconfined noticed looking lsm code cyrill task thread cred set set null save work later forget free first signed tycho andersen tycho.andersen canonical.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4559,57f16168ed88aea1c35325ada9a0d718e8a53426,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-17 13:38:00 +0300, , zdtm.py test inherite file descriptor zdtm.py dmitry safonov dsafonov odin.com reported dmitry safonov dsafonov odin.com signed andrew vagin avagin virtuozzo.com tested dmitry safonov dsafonov odin.com signed pavel emelyanov xemul parallels.com,,
4560,4a393715af0f68a099c3b589163b71638653da99,mitry Safonov <dsafonov@odin.com>, 2015-12-15 15:15:00 +0300, , seize try detach killed task sends sigkill unseize_task condition task_dead obviously kill task move freezer_detach pstree_wait detach alive task get rid following error 00.242163 error seize.c 223 unable detach 23064 process 00.242177 error seize.c 223 unable detach 23065 process signed dmitry safonov dsafonov odin.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4561,d58f6b705e2066ce01ed63f882d6118038ea5f27,mitry Safonov <dsafonov@odin.com>, 2015-12-16 18:36:00 +0300, , zdtm change oom_score_adj score value ... used non root higher value mean would killed earlier everyone possible change value bigger zero signed pavel emelyanov xemul parallels.com,,
4562,6663cae781ee702658a3a98dabf33bff763d2494,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2015-12-14 18:19:00 +0300, , file check flag restore system call sys_fcntl _some_ kernel silently drop flag set return success code patch add double check flag really set signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4563,8b04551c48b5e35d0f7ade05a7873c148cb784cd,vgeniy Akimov <geka666@gmail.com>, 2015-12-15 13:51:28 +0300, , restore restore freezer cgroup state patch restores freezer cgroup state stage done first stage unmap restorer blob frozen process second stage must freeze process continue run also need move fini_cgroup stage provide freezer cgroup state restorer access cgroup mount directory error handler contains fini_cgroup sure fini_cgroup call missed patch restores state one freezer cgroup freeze cgroup option state whole hierarchy criu support checkpoint freezer cgroup hierarchy thawed state except root cgroup freeze cgroup option signed evgeniy akimov geka666 gmail.com signed eugene batalov eabatalov89 gmail.com acked andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4564,b3e5cf75db22c2671355d6b1a6c054c22f10f35a,vgeniy Akimov <geka666@gmail.com>, 2015-12-15 13:51:27 +0300, , restore split two stage first stage unmaps restorer blob second stage detaches process first stage process tree completely restored process ready continue run sigreturn splitting allows execute something stage e.g restore freezer cgroup state signed evgeniy akimov geka666 gmail.com signed eugene batalov eabatalov89 gmail.com acked andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4565,34662a68c8fb34a269c4d469ae1053c58f82ae00,vgeniy Akimov <geka666@gmail.com>, 2015-12-15 13:51:26 +0300, , cgroups save freezer state dump criu set freezer.state thawed process tree dumping simply save freezer.state file content cgroups image new special function return freezer cgroup state observed criu dumping start patch put return value dump file signed evgeniy akimov geka666 gmail.com signed eugene batalov eabatalov89 gmail.com acked andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4566,25a978d32eacbfcf3853654e68e6225cdc7dac6e,avel Emelyanov <xemul@parallels.com>, 2015-12-14 17:14:00 +0300, , crit mem explorer one print proc pid map like output slightly detail like  exe zdtm live static maps00 00400000 00406000 zdtm live static maps00 00605000 00606000 zdtm live static maps00 0x5000 00606000 00607000 zdtm live static maps00 0x6000 7f4037845000 7f40379f9000 lib64 libc.so.6 7f40379f9000 7f4037bf8000 lib64 libc.so.6 0x1b4000 7f4037bf8000 7f4037bfc000 lib64 libc.so.6 0x1b3000 7f4037bfc000 7f4037bfe000 lib64 libc.so.6 0x1b7000 7f4037bfe000 7f4037c03000 7f4037c03000 7f4037c23000 lib64 linux x86 64.so.2 7f4037e1e000 7f4037e22000 7f4037e22000 7f4037e23000 lib64 linux x86 64.so.2 0x1f000 7f4037e23000 7f4037e24000 lib64 linux x86 64.so.2 0x20000 7f4037e24000 7f4037e25000 7fff34652000 7fff34699000 stack 7fff346e2000 7fff346e4000 7fff346e4000 7fff346e6000 vdso vsyscall signed pavel emelyanov xemul parallels.com,,
4567,6c8f7bbb292a44da39a95480bab887dd0f1c8124,avel Emelyanov <xemul@parallels.com>, 2015-12-14 13:20:58 +0300, , crit fds explorer show file opened task output like  dev null zdtm live static session00.outns zdtm live static session00.outns cwd zdtm live static root  dev null zdtm live static zdtm live static pipe 18305 cwd zdtm live static root  dev null zdtm live static zdtm live static pipe 18308 cwd zdtm live static root signed pavel emelyanov xemul parallels.com appreciated avagin openvz.org,,
4568,022baf868bf648635a96225daa169acfbf3d69bd,avel Emelyanov <xemul@parallels.com>, 2015-12-14 13:20:04 +0300, , crit explorer show process tree image output like pid pgid sid comm session00 session00 session00 session00 session00 session00 session00 session00 session00 session00 session00 session00 test signed pavel emelyanov xemul parallels.com appreciated avagin openvz.org,,
4569,075c1c9f08b02122f1e08426e0798b8494c71587,avel Emelyanov <xemul@parallels.com>, 2015-12-14 13:19:00 +0300, , crit explore action stub signed pavel emelyanov xemul parallels.com appreciated avagin openvz.org,,
4570,dcd750a64f7cd744ea753bc1663ef21383e33f4e,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-15 14:01:00 +0300, , zdtm.py bind mount test root slave case external master_id want test criu handle correctly signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4571,cba08fb788f48e3d8e43abb5d24426691b25a57d,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-15 12:48:00 +0300, , makefile use zdtm.py execute test signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4572,4986d1b51efee94713d28cd2982a97daf73f407f,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-15 10:35:00 +0300, , zdtm.py compare set mount signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4573,36216c3c1bb3dc6a194b6eb53853afc01c35ee48,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-15 00:44:00 +0300, , zdtm.sh fix value thread_bomb test rewrited equal signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4574,276eb6e823d0c29c5c7b9f8fb24b4bd24d72f6a0,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-15 00:42:00 +0300, , zdtm.py mix tab space signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4575,3eac44ae854997d6c2b5e498cdbffca43fcb669c,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-15 00:36:00 +0300, , zdtm.py collect fds map test process work test executed separate pidns signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4576,41a0035dd4c6bbba18ee99e6aaa9ea836d2ced21,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-14 17:46:15 +0300, , mount take acount root master_id external one already created proper shared mount signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4577,db91c9a934f1a5a27a265dc80272eb5633c0f05a,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-14 17:46:14 +0300, , mount remount slave mount private required need remount mount private source mount new mount master_id shared_id signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4578,4f68446ddf4f9f457eecd0f966f6c8610b41ab76,mitry Safonov <dsafonov@odin.com>, 2015-12-14 12:19:18 +0300, , zdtm add loginuid restore test signed dmitry safonov dsafonov odin.com signed pavel emelyanov xemul parallels.com,,
4579,f4216c530540f9bbec2a1567a997b87f7de227cb,mitry Safonov <dsafonov@odin.com>, 2015-12-14 12:19:17 +0300, , zdtm add test oom_score_adj restore signed dmitry safonov dsafonov odin.com signed pavel emelyanov xemul parallels.com,,
4580,aa9f1df04591634a3b17b8343d9ebb6b6679ce80,mitry Safonov <dsafonov@odin.com>, 2015-12-14 12:19:16 +0300, , criu unset loginuid value creating userns value loginuid changed inside container exception set yet value inherited fork parent restore original loginuid value task unset container parent loginuid child value unsetted child restore set value dump see http lxr.free electrons.com source kernel audit.c l635 http jira.sw.ru browse psbm 41993 signed dmitry safonov dsafonov odin.com signed pavel emelyanov xemul parallels.com,,
4581,594b4e3a00b6a9721261eeb110a5edba147d7697,mitry Safonov <dsafonov@odin.com>, 2015-12-14 12:19:15 +0300, , criu restore loginuid oom_score_adj value http jira.sw.ru browse psbm 41993 signed dmitry safonov dsafonov odin.com signed pavel emelyanov xemul parallels.com,,
4582,e5c99983a45e86b8d04ed12c67946a6ee4d19625,mitry Safonov <dsafonov@odin.com>, 2015-12-14 12:19:14 +0300, , criu dump loginuid oom_score_adj value http jira.sw.ru browse psbm 41993 signed dmitry safonov dsafonov odin.com signed pavel emelyanov xemul parallels.com,,
4583,628179cbbf60557f8ce60eb4a4669e20b2cc5200,yrill Gorcunov <gorcunov@gmail.com>, 2015-12-14 19:06:00 +0300, , make fix install criu target standalone criu target used carry prerequisite needed instead simply use signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4584,182ed5e8114e5a82d3f1445bc9881c0c0a3c939b,ycho Andersen <tycho.andersen@canonical.com>, 2015-12-14 18:52:00 +0300, , test report actual errno seccomp prctl failure signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4585,4427a71560fe2be46a565e663d41e8b3bcb160d8,avel Emelyanov <xemul@parallels.com>, 2015-12-11 19:05:00 +0300, , zdtm.py add action cleaning nsroot running test flavor zdtm.py build temp root test directory new action allows remove stuff automatically signed pavel emelyanov xemul parallels.com,,
4586,f993926f5bccb91a4d82ab327b0d967e56badfa9,odrigo Bruno <rbruno@gsd.inesc-id.pt>, 2015-12-12 01:18:00 +0300, , rename cr_opts.ps_port port signed rodrigo bruno rbruno gsd.inesc id.pt signed pavel emelyanov xemul parallels.com,,
4587,91b689a3a469547c77cbbd3c3cc33e5adc85ba75,odrigo Bruno <rbruno@gsd.inesc-id.pt>, 2015-12-12 01:18:00 +0300, , introduce helper required page cache page proxy set signed rodrigo bruno rbruno gsd.inesc id.pt signed pavel emelyanov xemul parallels.com,,
4588,391efc9d7ef4ba7020f1705db7834a7a998d40aa,ndrew Vagin <avagin@openvz.org>, 2015-12-11 17:39:00 +0300, , seize wory cgroup contains extra task freezer cgroup contain task dumped criu unfreezes group need freeze extra task ptrace like target task currently attache send interrupt signal task call waitpid waitpid ... return task expect see execute freezer_detach set calculate extra task freezer cgroup correctly  signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4589,8e863a94c7f2630fe110b454e9c4e8e2ad31c700,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2015-12-10 18:16:31 +0300, , fstype mount callback introduced used mount autofs context creation required addition actual mount operation signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4590,1617579a27f9d104f2e9f4fb6a2b980d64e86fd0,tanislav Kinsburskiy <skinsbursky@virtuozzo.com>, 2015-12-10 18:16:12 +0300, , pstree pstree related helper patch introduces three helper search pstree item real pid search pstree item virtual pid pid_to_virt return virtual real one note pid_to_virt used migrate autofs signed stanislav kinsburskiy skinsbursky virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4591,bde6d0dbf98d4db0918fb4fadd3480c8449855e7,avel Emelyanov <xemul@parallels.com>, 2015-12-11 17:49:55 +0300, , jenkins parallelizm group test head test zdtm lib group impossible run several instance parallel signed pavel emelyanov xemul parallels.com,,
4592,bfcea5623d7cb13169023c4d6952bfaf9e47964b,avel Emelyanov <xemul@parallels.com>, 2015-12-11 17:39:05 +0300, , zdtm.py add write perm bin test make group test start flavor signed pavel emelyanov xemul parallels.com,,
4593,ecd789bffae9951b0e4e93fd4e6ba74701206fde,avel Emelyanov <xemul@parallels.com>, 2015-12-11 16:54:35 +0300, , zdtm fix compilation previous commit signed pavel emelyanov xemul parallels.com,,
4594,e71d50894d86aaf2cb03a1a66d603ac4dcae9c7d,avel Emelyanov <xemul@parallels.com>, 2015-12-09 15:57:41 +0300, , jenkins add group signed pavel emelyanov xemul parallels.com,,
4595,fcf2276bf5190fd692ab780dbdc73098339e2ac5,avel Emelyanov <xemul@parallels.com>, 2015-12-09 15:57:20 +0300, , freebind use different port run group freebind freebind false fail start simultaneously signed pavel emelyanov xemul parallels.com,,
4596,9ed3f6f2c71d1a0f9c6ba0e8119afec437370615,avel Emelyanov <xemul@parallels.com>, 2015-12-09 15:57:08 +0300, , zdtm.py fix deps group start signed pavel emelyanov xemul parallels.com,,
4597,3a244a0d1f546ac8178a7b03a553d67d751e72fb,mitry Safonov <dsafonov@odin.com>, 2015-12-09 20:14:00 +0300, , criu tty pick master control terminal prepare control terminal tcsetpgrp tty master chance possible pick slave terminal control refrain restoring control terminal http jira.sw.ru browse psbm 42093 signed dmitry safonov dsafonov odin.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4598,46b664e11bd94e2c7cb862062733dbcdcdbddb53,yrill Gorcunov <gorcunov@openvz.org>, 2015-12-09 15:38:50 +0300, , test add inotify02 makefile reported andrew vagin avagin virtuozzo.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4599,3825c3e5d4324312f971e0f942e0720ca20a7729,avel Emelyanov <xemul@parallels.com>, 2015-12-10 17:05:00 +0300, , crit speed jenkins test time running crit tool time per test decode encode decode pretty encode back way slow majority time turned python load argument parsing coding work pretty fast code logic one python script image way way faster hour minute box signed pavel emelyanov xemul parallels.com,,
4600,1b87ae8ff5c4e573f3e4d9f8ece7baf1f03d7ed4,avel Emelyanov <xemul@parallels.com>, 2015-12-10 22:08:00 +0300, , crit fix ipc load dump io.bytesio input output load dump method pycriu.images work string instead open file simplicity string turned stream io.bytesio file pushed regular load dump method problem array.array object work object .fromfile .tofile method read write data explicitly use .fromstring .tostring array crit test finally pass signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
4601,8841edf770762a6d469fd40b40d656c0b51cb6c1,yrill Gorcunov <gorcunov@openvz.org>, 2015-12-10 13:07:06 +0300, , crit add dump semaphore signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4602,21cce134ea237ce2db1fbe7db9fdaf0c37c39a2a,yrill Gorcunov <gorcunov@openvz.org>, 2015-12-10 13:07:05 +0300, , crit add handling msgqueue typical output  magic ipcns_msg entry  desc key 2181112128 uid 18943 gid 58467 cuid 18943 cgid 58467 mode 438   qbytes 16384 qnum extra  mtype msize    mtype 26538 msize       signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4603,aa91dbfc09c7c42bea7f4caeb72b066e1d91b35f,yrill Gorcunov <gorcunov@openvz.org>, 2015-12-10 13:07:04 +0300, , crit add dump method shmem page signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4604,57fbb4e5d30fb2b82ccbd643cab09d6c8371cba4,yrill Gorcunov <gorcunov@openvz.org>, 2015-12-10 13:07:03 +0300, , crit add payload handler shmem page need encoder signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4605,c5e7f435e6e1b3446da547b945276f8d1a74131f,yrill Gorcunov <gorcunov@openvz.org>, 2015-12-10 13:07:02 +0300, , crit add payload handler semaphore image need add encoding method also need ipc queue shmem signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4606,2d1083303dfeb4f7d2696408056f841f14cf4188,avel Emelyanov <xemul@parallels.com>, 2015-12-09 19:05:57 +0300, , zdtm.py add step step execution debugging useful stop zdtm.py certain point check going step step option introduced make zdtm.py stop wait user keypress dump restore restore signed pavel emelyanov xemul parallels.com acked andrew vagin avagin virtuozzo.com,,
4607,bfb98244fe3987cdf6fe709062a1fcd02dfce1a4,avel Emelyanov <xemul@parallels.com>, 2015-12-09 19:04:58 +0300, , zdtm.py print strace file name generated file often analyzed test handy full name screen signed pavel emelyanov xemul parallels.com acked andrew vagin avagin virtuozzo.com,,
4608,dc3b525cd74d0e069040875b5fb744d05b4f69a9,avel Emelyanov <xemul@parallels.com>, 2015-12-09 19:04:11 +0300, , zdtm.py print test output screen possible right zdtm spawn test pseudo container redirects output temp file done mix output test running parallel run test one one one test list safely print output right screen signed pavel emelyanov xemul parallels.com acked andrew vagin avagin virtuozzo.com,,
4609,b94119b023a81671fe097b6e30bbe8d6f4d05f44,ndrey Vagin <avagin@openvz.org>, 2015-12-09 20:06:00 +0300, , zdtm.py catch keyerror instead valueerror set   a.remove  keyerror traceback recent call last ipython input af76ca25878a module a.remove keyerror signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4610,af55c059fb6b0080b618dff6af6559c9e1036a0e,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-09 18:58:00 +0300, , mount fix race restoring namespaces file mapping currently wait namespace restored get root need open namespace root open file restore memory mapping process restores mapping fork child situation need open file namespace restored one child root task restores mount namespaces open file descriptor patch open root mntns root task neeed get root namespace populated get root task stage root task close namespace descriptor ane know namespaces populated moment close root_fd root opened signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4611,a9be7621b7f6e4edef01f7f70e786a7c278d3e92,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-04 00:13:00 +0300, , mount pick function set root_fd_off signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4612,decf4f525a3f1a207a3c3519f7d917e4b17d54f2,avel Emelyanov <xemul@parallels.com>, 2015-12-09 17:41:00 +0300, , crit fix cast fixed sfixed type native engine accept type int long ... file root src criu pycriu image pb2dict.py line 264 dict2pb pb_val.append _dict2pb_cast field file usr lib python2.7 site package google protobuf internal containers.py line 111 append value file usr lib python2.7 site package google protobuf internal line 104 checkvalue raise typeerror message typeerror type type float expected one type int type long particular seen encoding back so_filter field inetsk image signed pavel emelyanov xemul parallels.com acked ruslan kuprieiev kupruser gmail.com,,
4613,d1e9b11d02a818b63b87f5f012c4c78e3c241c32,yrill Gorcunov <gorcunov@openvz.org>, 2015-12-09 16:57:00 +0300, , seize relax stack historical reason allocate complete path_max fetch word freezer state let relax stack pressue rename path state time make state frozen freezing thawed static export signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4614,b6d9bcd10d576ca9e5a60be2b8218c35edcd5931,ndrey Vagin <avagin@openvz.org>, 2015-12-09 16:29:00 +0300, , zdtm.sh set type argument mknod signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4615,94d91458c928b247841cb69e2d705dcb4ac99cae,ndrey Vagin <avagin@openvz.org>, 2015-12-09 15:47:00 +0300, , zdtm.py worry run_flavs signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4616,7094e110a38fc8f91f273304733eebcca9b5f102,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-08 19:02:00 +0300, , mount stop anything populate_mnt_ns failed signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4617,96a12d475567ca84b4293e15f0d7d71becb2bae4,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-08 18:59:00 +0300, , mount worry binfmt_misc image empty signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4618,16dccd5ca23f6edd78782c45d7b73a32e973c4cf,avel Emelyanov <xemul@parallels.com>, 2015-12-08 18:21:47 +0300, , jenkins fix crit test skip non criu image provide cumulative output signed pavel emelyanov xemul parallels.com,,
4619,2c747325f4d6e7f366c90d95815cdd24f589457f,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-08 16:59:00 +0300, , mount add dot path required work case want bind mount file signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4620,ff3fb16f14aa53f939f8cbec2b65aeabbff6b58d,drian Reber <areber@redhat.com>, 2015-12-08 16:10:00 +0300, , crit pretty print vma flag status better understand content .img pagemap .img additional constant name added better resolve hex value symbolical name signed adrian reber areber redhat.com signed pavel emelyanov xemul parallels.com,,
4621,93e996d8ed2512e30236f36ff2f2a42bd22557f9,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-08 16:07:00 +0300, , mount umount temporary mount mtn_detach temporary mount shared one new mount propagated fix 0e9736ab68e0 mount fix restoring bind mount root overmounted reported jenkins signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4622,78a521163f1f9fb60b01222dea552b026d6abe26,yodor <bocharovfedor@gmail.com>, 2015-12-06 16:15:18 +0300, , pagemap cache add const qualifier pmc vma need perform dirty page tracking dumping shmem const vmas need pmc work also pmc concept implies change vmas would natural declared const signed fyodor bocharov fbocharov yandex.ru signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul parallels.com,,
4623,38daf50f223ae44af91b4df4c2c3e5e870a988c6,yodor <bocharovfedor@gmail.com>, 2015-12-03 17:12:00 +0300, , page xfer fix wrong hole address offset criu save vaddr anon shmem page anon shared mem pagemap img save page offset beginning anon shared memory area criu call non zero argument convert dumper virtual address offset problem code substracts page pagemap hole pagemap bug fixed patch patch copy paste valid code path page code path hole bug currently reproduced criu anon shmem provides non zero value anon shared memory create hole pagemap bugfix preparation anon shared memory deduplication patchset signed fyodor bocharov fbocharov yandex.ru signed eugene batalov eabatalov89 gmail.com signed pavel emelyanov xemul parallels.com,,
4624,2a250921522944debf4ed95a3a83c999bb31c91c,yrill Gorcunov <gorcunov@openvz.org>, 2015-10-21 10:28:00 +0300, , test add inotify02 purpose verify show huge number inotify fdoutput kernel v3.18 rc1 ga3816ab show handle fit page size summary particular revealed hald daemon make notification mark kernel show one pas dump fails signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4625,7ba43a5521c6907f58bdd7b66bf11fcecbd7b25e,avel Emelyanov <xemul@parallels.com>, 2015-12-08 15:19:25 +0300, , zdtm.py fix zdtm_test._env data type signed pavel emelyanov xemul parallels.com,,
4626,da0b8770f2a81b6923b518c230483d1cc0651e1c,ndrey Vagin <avagin@openvz.org>, 2015-12-08 11:35:00 +0300, , sysctl skip erros signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4627,76e78a38e2dafce106e371bf684371cc81ab46f7,ndrey Ryabinin <aryabinin@virtuozzo.com>, 2015-12-07 13:19:00 +0300, , sysctl really skip missing entry hit non existing next iteration without updating req pointer thus continuously try open non exitsting entry breaking loop next sysctl instead fix f79f4546cfc0 sysctl move sysctl call usernsd signed andrey ryabinin aryabinin virtuozzo.com acked tycho andersen tycho.andersen canonical.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4628,60595eb43254fb65619b0e9bffa8f6d0e099b33c,mitry Safonov <dsafonov@odin.com>, 2015-12-07 17:39:00 +0300, , criu x86_32 change stack align bit parasite head gcc assumes default stack aligned byte boundary unlikely parasite head first call contain sse instruction segfault pedantically correct lose additional byte see also http sourceforge.net fbc bug 659 signed dmitry safonov dsafonov odin.com signed pavel emelyanov xemul parallels.com,,
4629,b2b86052bc5d10427f08d34294e024daebb4645c,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-07 08:19:00 +0300, , criu add mnt_id feature test one mntns signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4630,0c9db23f50c543985a85cd30e4ae8cc6d3ddc0e0,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-07 08:17:00 +0300, , zdtm.py skip flavor userns suppported signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4631,6af96c8404181e63d2424d1695fd7f8a42a291bf,ycho Andersen <tycho.andersen@canonical.com>, 2015-12-04 18:55:00 +0300, , lsm add lsm profile flag lxd use container name lsm profile container name changed migrate host side want use different lsm profile name cgroup root flag add support remove unused field add comment double detection kerndat_lsm signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4632,c5e002d55a14e858d0c4c4873390bf2e6989510e,avel Emelyanov <xemul@parallels.com>, 2015-12-04 18:06:00 +0300, , crit encode back pretty address currently decoded pretty image encoded back address inside decoded signed pavel emelyanov xemul parallels.com,,
4633,809bd09ba753b8fed55465aebfea0bfa2e3e4ae1,avel Emelyanov <xemul@parallels.com>, 2015-12-04 15:19:00 +0300, , crit show device nicely currently device number shown plain integer pretty output nice see major minor pair signed pavel emelyanov xemul parallels.com acked ruslan kuprieiev rkuprieiev cloudlinux.com,,
4634,77f9b7bfbb24688f61f6dc5c1cd0e7de3f13b064,avel Emelyanov <xemul@parallels.com>, 2015-12-04 17:07:01 +0300, , jenkins add test crit encode correctness crit tool decode encode image sequence result signed pavel emelyanov xemul parallels.com acked ruslan kuprieiev rkuprieiev cloudlinux.com,,
4635,7a5cef1ea2e25a17b86674624e808cb9e96e4156,avel Emelyanov <xemul@parallels.com>, 2015-12-04 17:06:49 +0300, , zdtm.py run test best flavor someone want run test difficult criu flavor best one introduced signed pavel emelyanov xemul parallels.com acked ruslan kuprieiev rkuprieiev cloudlinux.com,,
4636,0ba3b88b4a1ae2043b5a2c7d37fcc07216880411,avel Emelyanov <xemul@parallels.com>, 2015-12-04 17:06:37 +0300, , zdtm.py count skipped test currently launcher know test skipped draw incorrect progress bar signed pavel emelyanov xemul parallels.com acked ruslan kuprieiev rkuprieiev cloudlinux.com,,
4637,e7e63a0de1f5f1a58b846d6c1426490e00ba87bf,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-04 17:05:00 +0300, , mount rewrite root external mount used restore bind mount example cat common part bind mount core generated criu restore vvvv file lock tcp established evasive device manage program terminated signal segmentation fault 741 bug_on target_root tok gdb http jira.sw.ru browse psbm 41932 reported virtuozzo team signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4638,ea747b075508faa5780553969d87fb21fa3c487a,irill Tkhai <ktkhai@odin.com>, 2015-12-03 14:57:48 +0300, , unix add support restoring receive queue unix dgram socket restore receive queue case socketpair closed second end peer socket peer others use hack connect af_unspec family clear peer restoring socket see detail also make test working sock_stream supported tcp_established case function signed kirill tkhai ktkhai virtuozzo.com add commentary near connect delete test zdtm live static delete peer check signed pavel emelyanov xemul parallels.com,,
4639,515e18e42291e060121dc9e79ce2de687c68d57e,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-04 14:38:05 +0300, , zdtm add mntns_rw_ro_rw test list signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4640,0e9736ab68e0772d679e4d9518b29696fddb2673,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-04 14:38:04 +0300, , mount fix restoring bind mount root overmounted case mount source mount temporary place use create bind mount signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4641,9102b08ceb252629a6fad47a36bd5ae85a7377a4,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-04 14:38:03 +0300, , mount refactor do_bind_mount signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4642,d6d6af9a5a6cfd38abd871951489a36748758cb4,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-04 14:38:02 +0300, , mount pick function bind mount point tmp place used get mount without mounted part signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4643,6217a84ae3aeffe8845e730dfcaade80546cf63f,yrill Gorcunov <gorcunov@openvz.org>, 2015-12-02 17:26:38 +0300, , mnt carry run time device mount_info restoring fsnotify watchees need resolve path handle mountpoint referred s_dev member device saved inside image actually may changed every mount say one restores container machine reboot case container migration thus test overmounting fail get error let trick introduce s_dev_rt member supposed carry run time device dumping member simply equal traditional s_dev fetched procfs restoring fetch stat call mountpoint become alive http jira.sw.ru browse psbm 41610  predefine use fetch_rt_stat instead assigning device copy s_dev_rt propagate_mount signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4644,0b0f40ecf8e21f8b4fbfd8f120335845ef4a914f,avel Emelyanov <xemul@parallels.com>, 2015-12-03 16:09:04 +0300, , zdtm.py groups_test class running group new test class handle test group set class inherited zdtm_test one doe start pseudo init flavor asks one spawn sub test list group test run inside flavor host flavor asked pseudo init spawned using flavor easiest way spawn sub test init however flavor supported marking pseudo init sub reaper stop pseudo init signalled stop turn stop sub test exit pid namespace destruction complete sub test .out checked signed pavel emelyanov xemul parallels.com,,
4645,41296aaf883039c8a924258ea4d5779f4f0d4fe7,avel Emelyanov <xemul@parallels.com>, 2015-12-03 16:08:53 +0300, , zdtm.py generator group test introduce yet another test set called group test set list existing zdtm test started side side flavor create test zdtm.py group action used list test semi randomly group together grouping possibility checked comparing .desc file desc coincide one exception test dependency merged together running group action appears group dir test containing list zdtm test group respective .desc file also generated one match .desc test inside signed pavel emelyanov xemul parallels.com,,
4646,23898bf166f2b0671e8b9ebe90c7149ad1c0d967,avel Emelyanov <xemul@parallels.com>, 2015-12-03 16:08:41 +0300, , zdtm.py prepare zdtm_test flavor mass test start add ability pull one binary mntns root ability start zdtm test stuff environment generated start method signed pavel emelyanov xemul parallels.com,,
4647,b96974825d301e9420a7d3c518825b3e836372cb,avel Emelyanov <xemul@parallels.com>, 2015-12-03 15:07:31 +0300, , zdtm remove unneeded exec starting inside flavor test_init routine prepares binary run inside namespaces particular routine fork init execve one pick mapping exe new mntns fork test order back test_init test initialization execve done actually required confuses reader signed pavel emelyanov xemul parallels.com,,
4648,b3c8ee1b4ff2ecf42b23e67967478c7fd7f829e7,avel Emelyanov <xemul@parallels.com>, 2015-12-03 15:06:01 +0300, , zdtm factor showing code signed pavel emelyanov xemul parallels.com,,
4649,0ecd6c336a5811cd36f682618a6071ebd860146a,avel Emelyanov <xemul@parallels.com>, 2015-12-03 15:05:42 +0300, , zdtm introduce explicit routine one set uids userns netns prepare_mntns btw latter code shifted one tab left signed pavel emelyanov xemul parallels.com,,
4650,de8fd000d0c76135af33442e1cfb10891143de62,irill Tkhai <ktkhai@odin.com>, 2015-12-03 14:21:00 +0300, , add binfmt_misc support patch implement checkpoint restore functionality binfmt_misc mount magic extension type disabled state supported signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4651,70b0e161c9ecad51accf316add328ede0798b822,irill Tkhai <ktkhai@odin.com>, 2015-11-26 20:56:00 +0300, , zdtm add test test unix socket open dgram mode server open socket bind wait signal client connects socket sends message signal server check data readable still possible connect bound socket signed kirill tkhai ktkhai virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4652,4f18e1e52cd4912d20ae195d85961f84b9dd658c,avel Emelyanov <xemul@parallels.com>, 2015-12-07 11:29:53 +0300, , criu version 1.8 first fixed hope security issue spotted redhat people another big thing release huge amount bug fix found testing live migration enhancement live migration signed pavel emelyanov xemul parallels.com,,
4653,a90d01a078421906a09d6b2dc5d62d50e4a627c0,avel Emelyanov <xemul@parallels.com>, 2015-12-07 11:28:49 +0300, , service remove systemd startup mode due security reason systemd spawn mode longer supported service also fix default binding address local cwd start global service chance signed pavel emelyanov xemul parallels.com,,
4654,1c75d23cef9f888cd376843c24e12dc1094791c7,avel Emelyanov <xemul@parallels.com>, 2015-12-04 19:02:25 +0300, , zdtm.py remove longer needed yaml module signed pavel emelyanov xemul parallels.com,,
4655,c1404f66712e7bacd7cbc7cef1bb85c7c6ad698f,ndrew Vagin <avagin@virtuozzo.com>, 2015-12-04 14:54:00 +0300, , mount restore cwd creating root yard currently see cgroup yard umounted enoent error cwd changed construct path remove root yard signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4656,fa17566283046a47a17d74e9adf608cda50295b8,yrill Gorcunov <gorcunov@openvz.org>, 2015-12-03 20:54:53 +0300, , arch arm wire ptrace signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4657,a38bf75d1e72d17cffd80f72ea5f1cd5bc2cf10c,yrill Gorcunov <gorcunov@openvz.org>, 2015-12-03 20:54:52 +0300, , arch ppc64 wire ptrace syscall signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4658,cd48bddb5248227330360352c3fda0c1bd335228,yrill Gorcunov <gorcunov@openvz.org>, 2015-12-03 20:24:16 +0300, , check include sys syscalls.h conflict predefined constant syscalls lib signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4659,fca60130f604439574da197a21c3f65422442425,yrill Gorcunov <gorcunov@openvz.org>, 2015-12-03 20:24:15 +0300, , arch x86 add sys_ptrace declaration need check signed cyrill gorcunov gorcunov openvz.org iacked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4660,12db8a47c39d799525db7db62f91f96eebeed345,avel Emelyanov <xemul@parallels.com>, 2015-12-03 15:29:00 +0300, , zdtm.py get sat option .get method using non run command sat option opts dict checked softer method signed pavel emelyanov xemul parallels.com,,
4661,327f835d37693cadd8ea4dec8dcac94c3889d8f4,avel Emelyanov <xemul@parallels.com>, 2015-12-03 18:21:48 +0300, , zdtm mark mountpoints exclusive test doe nasty thing root run particular kill creates dev null may result dev null become deleted test running paralles lattest critical flavor ghost dev null created mknod fails signed pavel emelyanov xemul parallels.com,,
4662,3c0eec48142496fa00363ce8f23ad11dc5c86153,avel Emelyanov <xemul@parallels.com>, 2015-12-03 15:50:45 +0300, , zdtm.py create dev net root signed pavel emelyanov xemul parallels.com,,
4663,14f0eabe48761bb1a5160ddcd4d69722ade60ca8,avel Emelyanov <xemul@parallels.com>, 2015-12-01 13:00:32 +0300, , zdtm remove zdtm_reexec also remove unused skip_pid label signed pavel emelyanov xemul parallels.com acked andrew vagin avagin virtuozzo.com,,
4664,9d6bc6e4e0fce409f9dbff6708c34fa77b9d5b5d,avel Emelyanov <xemul@parallels.com>, 2015-11-30 22:38:56 +0300, , zdtm remove test_init_ns flavor much better way launching test namespaces signed pavel emelyanov xemul parallels.com acked andrew vagin avagin virtuozzo.com,,
4665,c31c594e74406d71ba27128499410e144a235c00,avel Emelyanov <xemul@parallels.com>, 2015-11-30 22:38:30 +0300, , zdtm stop using test_init_ns static mountpoints signed pavel emelyanov xemul parallels.com acked andrew vagin avagin virtuozzo.com,,
4666,287b14655e1e27851ff6644fe367b8134e83b060,avel Emelyanov <xemul@parallels.com>, 2015-11-30 22:38:05 +0300, , zdtm stop using test_init_ns transition ipc signed pavel emelyanov xemul parallels.com acked andrew vagin avagin virtuozzo.com,,
4667,a2b1e9ae05213322a27fd34c8f2a4144774405b8,avel Emelyanov <xemul@parallels.com>, 2015-12-01 13:04:01 +0300, , zdtm mark function static signed pavel emelyanov xemul parallels.com,,
4668,166162dca761edb6657a834ecf80bc8f71b9e2d4,avel Emelyanov <xemul@parallels.com>, 2015-12-01 13:03:37 +0300, , zdtm cleanup uid setup check creation code signed pavel emelyanov xemul parallels.com,,
4669,6460badfdfd419dd81985954d9251565f64019f5,avel Emelyanov <xemul@parallels.com>, 2015-12-01 13:03:10 +0300, , zdtm construct root dirs file launcher instead dirs file link launcher libzdtm make everything launcher library set namespaces signed pavel emelyanov xemul parallels.com,,
4670,bfb24cec8b33cd621bd9aaa9a2e1485dedd7799c,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-30 12:34:13 -0700, , zdtm.py umount get ebusy mean umount test i.e call fini path instead signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4671,10f33eeca75110c779ffd634d5460720d4ec0273,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-30 12:34:12 -0700, , ipv6 save scopeid required kernel requires supply scope bind source address certain type let save supply scope case signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4672,ac6641033d5c37ecb1f472d53920204efeae315f,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-30 08:35:46 -0700, , test skip __nr_seccomp defined change doe two thing defensive add checkskip script fails __nr_seccomp defined allows compile even defined fails gracefully skip message doe checkskip bit necessary zdtm.sh get confused test exit without actually invoking criu signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4673,b352659ca26f9fc8f0a48ad17ffc2a57691e1fd0,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-27 19:07:00 +0300, , criu trigger bug task want restore root mntns possiable parent task life sub mntns child life root mntns mount namespace restored forking child child created parent mount namespace child life another mount namespace need move required mntns reported jenkins signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4674,f73802fe6dea5e35f42c8fb4f4a7f73d5b633e90,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-27 16:00:00 +0300, , zdtm check case task sub mntns child root mtnns signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4675,a1d06e53f60d3367c1fd707f3d60fd04978b0de4,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-25 00:28:00 +0300, , test add bind test bridge test link local scope argument bind sort interface diff work signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4676,7209c4ec28e97dc96cd19d8d3c0845fcd5181896,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-25 00:28:00 +0300, , inet remember ipv6 connection ifindex restore ipv6 scope type link local amongo others need tell kernel ifindex interface whose address want bind well address use so_bindtodevice get ifname pas instead using netlink grab ipv6 socket via rtnetlink signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4677,c1b1880b34661ae4b666618ddd79747169e47ac6,avel Emelyanov <xemul@parallels.com>, 2015-11-26 21:55:00 +0300, , zdtm check auto dedup work signed pavel emelyanov xemul parallels.com,,
4678,df006762f07ec77a1611740cb52b84e44ac8716e,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-26 11:25:00 +0300,1, check use uninitialized variable cid 154853 uninitialized scalar variable uninit using uninitialized value calling write reported coverity signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4679,d1ee2801c66b906389c630be328f5e0b70504040,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-26 09:19:00 +0300,1, file reg leak file descriptor cid 154850 resource leak resource_leak leaked_handle handle variable cwd_fd going scope leak handle reported coverity signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4680,d55e13d4f384ac34498df0aed7bc2219024d8375,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-26 09:13:00 +0300,1, seccomp leak info error path cid 154852 resource leak resource_leak 32. leaked_storage variable info going scope leak storage point reported coverity signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4681,1bd799ef309a170880663be7eecc96b4caca193a,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-26 18:21:06 -0700, , test remove unused bpf.h header unused present kernel let require signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4682,af956f45ac6a89aa32a299e36edba32028c90ad5,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-26 22:35:00 +0300, , mount close mnt.ns_fd sub namespaces nsid mnt.ns_fd initialized currently close descriptor process life current mount namespace ns_criu without patch get following error 00.166444 4109 inherit tty 8800 closed typo fix nothing process restored local mntns signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4683,973731037ea8384cbb57f053111e7017dc3f5596,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-26 15:23:00 +0300, , zdtm compile stopped12 stopped03 old name stopped12 signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4684,c399e72d437474b95fc361669e33ec26b7f6ef62,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-24 00:08:00 +0300, , gitignore ignore test binary signed tycho andersen tycho.andersen canonical.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4685,7828bbc351e872be8107e60ce42b9b4786745a09,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-26 09:16:00 +0300, , seize use wait4 check whether task traced task stopped waitpid return status wait4 seize_wait_task hang forever stopped state reported like file object reported andrey ryabinin aryabinin virtuozzo.com andrey ryabinin aryabinin virtuozzo.com signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4686,708e2b37b3835f38a655d266501730dc09b387e1,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-23 22:45:00 +0300, , seize increase timeout freezing process timeout iteration save oder scheduler timeslice 100 msec currently wait inly msec obviously enough signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4687,bf039b77356e6eb2bbb0d9104900cb09cd60764a,avel Emelyanov <xemul@parallels.com>, 2015-11-26 17:25:19 +0300, , zdtm fix compilation vfork test adding signed pavel emelyanov xemul parallels.com,,
4688,49448676acd36bb887329ef47351ffd79e841d2e,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-24 15:33:00 +0300, , util leak img object need call close_image empty image touch generic functiuons signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4689,490021ef9ccd141b11a58437abaf263ca2dcc157,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-24 15:04:00 +0300, , restore remove unused label signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4690,22d4ec3ae1a7ce62d2778e3f1eef41e888d321ed,avel Ganyushin <pganyushin@odin.com>, 2015-11-25 17:07:00 +0300, , migration vfork old missed test fail expected signed pavel ganyushin pganyushin odin.com signed pavel emelyanov xemul parallels.com,,
4691,5df2358f95057f38657d146b7e7601bdd145530d,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-25 19:50:11 +0300, , zdtm stopped check case signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4692,fa79ffd6ed5a276576340d71c47ddc96dddee5f2,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-25 19:50:10 +0300, , ptrace skip sigstop task stopped queued sigstop case need resume task twice skip signal detect sigstop shared per process queue signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4693,fde1116fee9dab1c61627f6a58a2ae7c9864193a,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-25 19:50:09 +0300, , proc parse sigpnd shdpnd separatly found want know whether sigstop queue one queue signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4694,32452b2111305da4108bdbf7120b12d9c74978b0,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-24 12:13:00 +0300, , zdtm.py umount root mounted get stack trace test failed test output 34.584 pas  traceback recent call last file zdtm.py line 922 module do_run_test tinfo tinfo tinfo tinfo file zdtm.py line 696 do_run_test t.kill file zdtm.py line 302 kill  file zdtm.py line 168 fini mount make private self.root file usr lib64 python2.7 subprocess.py line 540 check_call raise retcode cmd command mount make private tmp criu root yn1t3x returned non zero exit status umount tmp criu root yn1t3x mounted tycho andersen tycho.andersen canonical.com signed andrew vagin avagin virtuozzo.com acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4695,6cc316615c14ffb85be5975b88fafcb7cd953bc1,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-25 11:41:00 +0300, , ptrace send sigstop restore stopped state task stopped state started ptrace seize stopped state restored kernel upon detach sigstop task queue need send hand bedore detaching otherwise clean stop queue run parasite seize restore task running since sigstop affect state already stopped task send safely distinguish stopped stop queued one reported jenkins signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4696,8135e26ae34ccf496f167b4b321711463e3519a5,avel Emelyanov <xemul@parallels.com>, 2015-11-23 13:22:08 +0300, , jenkins fix path zdtm.py criu fault signed pavel emelyanov xemul parallels.com,,
4697,46daab0baf63f71c96ff4d03b9f160c75d5d0a49,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-23 11:09:00 +0300, , zdtm check ip_freebind restored correctly signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4698,e6859679cd499095a9dffa79b34734336e014131,avel Emelyanov <xemul@parallels.com>, 2015-11-23 12:42:22 +0300, , jenkins mark criu fault test executable signed pavel emelyanov xemul parallels.com,,
4699,2b5a11a7a31915688f45376f3fc004e26be3f5d9,avel Emelyanov <xemul@parallels.com>, 2015-11-20 21:26:00 +0300, , jenkins add job known fault injection add report report generation signed pavel emelyanov xemul parallels.com acked andrew vagin avagin virtuozzo.com,,
4700,e6a3aef43e0c59c8663af4ba685a481d236eab35,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-21 19:41:00 +0300,87, remap allocate dead pid wrong context close signed tycho andersen tycho.andersen canonical.com andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4701,73a739b8d372444186fd25089a34a7fada7e0b94,ndrew Vagin <avagin@openvz.org>, 2015-11-19 17:48:22 +0300, , inet set ip_freebind binding socket ipv6 address restore ipv6 address tentativeâ phase socket could bound moment add comment code reported ross boucher boucher gmail.com signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4702,c9a61a205fbeed076aea7283d7f0f52d500a79ad,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-19 17:48:21 +0300, , inet handle ip_freebind option set has_freebind signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4703,c2ad6f3a68e9625b45051b43eb6478734ec9a95b,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-21 09:56:42 -0700, , check drop bpf.h include include actually unused probably leftover old version kernel api porting patchsets delete signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4704,cc9587ffc51150caf6339e9f4793a6391f7d744a,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-21 09:56:41 -0700, , seccomp optional parsing proc pid status also define constant people header signed tycho andersen tycho.andersen canonical.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4705,3364992dc1bc47ca7adaa604102eb030f957603b,avel Emelyanov <xemul@parallels.com>, 2015-11-20 21:58:17 +0300, , thread bomb run automatically .py teat crash ptrace based freezer need freeze cgroup signed pavel emelyanov xemul parallels.com,,
4706,f10de707a248ce242a5a2098365f2ff8a4bfe115,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-19 09:15:59 -0700, , freeze cgroup also seize task sub cgroups signed tycho andersen tycho.andersen canonical.com andrew vagin avagin virtuozzo.com acked andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4707,db92ce7b986aa3e62ec9a7e3831e094cbe914599,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-19 09:16:00 -0700, , typo fix double indentation signed tycho andersen tycho.andersen canonical.com acked andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4708,6e94eb5bdf50c6086e247fc81b42866aa1633087,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-18 14:04:00 +0300, , file restore cwd switching mntns stanislav kinsbursky skinsbursky openvz.org reported stanislav kinsbursky skinsbursky openvz.org signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4709,9e96f138aca00c49891f1b694739e40c66ffd619,yrill Gorcunov <gorcunov@openvz.org>, 2015-11-20 13:55:00 +0300, , protobuf tun.proto drop unused import signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4710,0a8667dfd7ef78b95421107a3eaf68a13e08e9e0,avel Emelyanov <xemul@parallels.com>, 2015-11-11 19:23:00 +0300, , zdtm make thread bomb bomb current implementation thread bomb effectively one thread run rest sit read pipe fix making thread constantly creating new one exiting signed pavel emelyanov xemul parallels.com acked andrew vagin avagin virtuozzo.com,,
4711,0135291f21672d5f1d4674919a387f5aa9afbe98,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-19 17:38:20 +0300, , ptrace wait queued sigstop signal handled sigstop blocked need wait handled duplicate code twice reported jenkins signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4712,028998c588f572f6b6f47375e6a34d700531ebb2,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-19 17:38:19 +0300, , proc_parse parse pending signal required check sigstop signal blocked signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4713,61b8fc264f55e15dea90350834a50d551d33bffa,ndrew Vagin <avagin@openvz.org>, 2015-11-19 17:03:00 +0300, , net block traffic internal network let imagine two local interconnected socket whe restoring tcp socket need disable repair mode restore data sending queue traffic blocked socket start operating time another end restored yet test zdtm.sh static socket tcpbuf local ... 00.274632 error tcp.c 485 restore queue data want 1780919 1780919 connection reset peer create separate chain avoid conflict rule http bugs.openvz.org browse criu use iptables restore apply whole configuration one call add comment use iptables restore instread iptables remove unused header signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4714,7de345d6b7e4a705aea9e83c0715f0e3185996fe,yrill Gorcunov <gorcunov@openvz.org>, 2015-11-17 11:46:11 +0300, , net move node net reference service keep dont close inside close_old_fds helper pas veth creation kernel fetch net namespace veth peer avagin forget close opened descriptor signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4715,3db63c4297960c15d7fac9791e1e2f4362f0d35a,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-18 18:52:00 +0300, , parasite syscall print error message error case patch suppresses fake error socket tcp6 local pidfile socket tcp6 local.pid outfile socket tcp6 local.out dump 5921 00.041988 error parasite syscall.c 388 si_code si_pid 5936 si_status 00.051210 error parasite syscall.c 388 si_code si_pid 5937 si_status 00.070800 error parasite syscall.c 388 si_code si_pid 5938 si_status 00.077582 error parasite syscall.c 388 si_code si_pid 5939 si_status 00.091313 error action scripts.c one action script failed check result 5921 14.451 5921 pas test zdtm live static socket tcp6 local result pas zdtm test pas signed andrew vagin avagin virtuozzo.com acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4716,9d59bc14ef93c97494a514f0ef95e1f63c1d62a8,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-18 14:04:26 +0300, , restore always kill task error case reported stanislav kinsbursky skinsbursky openvz.org stanislav kinsbursky skinsbursky openvz.org signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4717,2f7407342aea951c85385d9ba72e07f16cf415a0,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-18 14:03:00 +0300, , zdtm clean .init.pid signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4718,1e8a0594dbbbf7102b554d558c8dde688d37eac4,ndrew Vagin <avagin@openvz.org>, 2015-11-17 23:19:38 +0300, , net dump iptables ipv6 dump iptables ipv6 supported signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4719,1648db970c837f8bb0cc37f3e45608a80c48e080,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-18 14:03:15 +0300, , kerndat check whether ipv6 supported use cached value dump ipv6 interface addesses call get_ipv6 signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4720,c0bc79d92e29e2d762f4b02516502b2e6c990a7a,ndrew Vagin <avagin@openvz.org>, 2015-11-17 23:19:36 +0300, , zdtm allow execute tcp test network namespaces signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4721,a2780c613139c4d9d8fc731e1ff17e666af72a34,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-18 12:44:00 +0300, , lock futex timeout restarted signal return eintr need handle bash test zdtm.sh restore sibling static env00 ... futex 0x7fc20ec92010 futex_wait 120 interrupted signal signed pavel emelyanov xemul parallels.com,,
4722,8f36b7af2f967a100d319ed6b62dedc683524486,avel Emelyanov <xemul@parallels.com>, 2015-11-09 21:27:00 +0300, , zdtm.py ability generate criu strace sat.py sat.py script criu script repo analyzes strace output useful check amount system call criu take dump restore certain apps add sat key zdtm.py would generate sat able log individual test signed pavel emelyanov xemul parallels.com,,
4723,8e30ef722cf2435581076f4732e69b2d8e53e62e,avel Emelyanov <xemul@parallels.com>, 2015-11-12 11:11:00 +0300, , zdtm.py properly report fail test dependency file exist right report look like generic python exception inability copy file signed pavel emelyanov xemul parallels.com,,
4724,fa902be1459b099935b2881ff6d0178ed0f97da7,yrill Gorcunov <gorcunov@openvz.org>, 2015-11-13 17:10:09 +0300, , service use xmalloc helper safer alloca call signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4725,da429bd433efb20d1a0c8dbd93b183a36b4cfbbc,yrill Gorcunov <gorcunov@openvz.org>, 2015-11-13 17:10:08 +0300, , lib use alloca net received size better obtain error free memory smashing stack rule thumb alloca based function use predefined small size swapping builtin size parasite engine signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4726,4c00ac2908f9d56c6423dc321aff5469767672fb,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-12 19:09:00 +0300, , lock print message futex locked 120 second signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4727,bff121032d275d91b77a13913dc43e8827a5b063,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-16 22:17:49 -0700, , test add test seccomp filter inheritance  add another filter chain test inheritance chaining check include zdtm.py desc file signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4728,91de2a47016eb5ce9b923c446913b2890b31a624,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-16 22:17:48 -0700, , test add test include zdtm.py desc file signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4729,ccbcc5efb3c2f4dcb87b7f3cc472a36609aac205,ycho Andersen <tycho@tycho.ws>, 2015-11-16 22:17:47 -0700, , test add test seccomp filter include zdtm.py desc file signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4730,5e2ca506e4b02f12c74cc36b8c49711899a2b436,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-16 22:17:46 -0700, , check add check seccomp filter use non racy version signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4731,221af18ea0166eecd55fb9c1daa71ee233211aad,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-16 22:17:45 -0700, , seccomp add support commit add basic support dumping restoring seccomp filter via new ptrace interface two current known limitation approach approach support restoring task first seccomp setuid test elaborates think tough done yet filter compared via memcmp two task parent task install identical via memory filter filter considered since force task cred including seccomp filter right problem approach used similar cgroup approach actual filter stored seccomp.img task point part filter tree need restore keep dumping filter multiple time since filter inherited fork  remove unused seccomp_filters field struct rst_info rework memory layout passing filter restorer blob add sanity check finding inherited filter signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4732,1a86283bfb477d832de33414e92301b338e5e04a,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-16 12:06:00 +0300, , tty open terminal o_noctty otherwise kernel set control terminal currect session criu able set control terminal target process reported andrey ryabinin aryabinin virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4733,bea76a01bb8ee1e3bf70fa35904107483befb960,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-15 15:07:00 +0300, , proc_parse parse line second time signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4734,798e44cf7ee12d7f6aa2d8e61916146440798ba2,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-15 15:06:00 +0300, , dump add missing new line message signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4735,b78af1923b3804567d8257ea9d8ce116744a18ea,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-15 14:08:00 +0300, , mount wait mntns created get root add comment rename ns_created ns_populated reported andrey ryabinin aryabinin virtuozzo.com signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4736,322655fbbccc0c8afa146e15acf262632bd2b989,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-15 09:07:05 +0300, , pstree set helper parent one helper inherit parent resource dereference item task used example reported jenkins signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4737,e95fd98b12d1d5290f3f14b32a030a982cb60ad8,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-15 09:07:04 +0300, , restore call close_old_fds forking child process share file descriptor table set service descriptor close_old_fds close file descriptor execpt service descriptor fix 9d60724eca71 restore restore mntns creating private vma signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4738,70171818490e365f872d7fb480a0cadad0fa2bed,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-15 09:07:03 +0300, , mount inherit mount namespace descriptor process close_olds_fds know nothing one set service file descriptros better call forking child bedore 9d60724eca71 restore restore mntns creating private vma root task restores process pin file descriptor task restores mount namespace opening file descriptor root task via proc pid reported jenkins signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4739,9d60724eca71ddd237a917032c4d71affa489324,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-13 20:55:00 +0300, , restore restore mntns creating private vma need open file restore file mapping file current mntns namespaces resotred root task task call setns set proper mntns fix comment pavel signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4740,04f7131ad3b0fefaea1694ec5790cacbcc49b2b7,yrill Gorcunov <gorcunov@openvz.org>, 2015-11-05 20:05:41 +0300, , tty restore controlling terminal per session might several terminal opened say tty6 whatever gon look separate file actually pointing tty kernel instance moreover controlling terminal trying restore many time find non zero sid peer instead let simple trick first choose leader terminal group use controlling terminal restoration http jira.sw.ru browse psbm 40969 signed cyrill gorcunov gorcunov openvz.org reviewed andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
4741,8796b18eba6a0aa040ea687d3fab471ec0f06b9c,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-13 18:30:54 +0300, , file linkat_hard return errno linkat errno used open_path signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4742,0b4fecca62963f9d8a170a963931e91b987168ae,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-13 18:30:53 +0300, , zdtm check unlinked file file save name exists signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4743,138d2631ee78466c5e254762799b528669407fba,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-13 17:56:45 +0300, , zdtm add new test check tmpfs non root mntns add file mapping test tmpfs mount signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4744,947dcc736f2c6099265c25ae4d30def571a331b0,ndrey Ryabinin <aryabinin@virtuozzo.com>, 2015-11-11 18:12:00 +0300, , mount use correct mount namespace open_mountpoint open_mountpoint operate target mount namespace may differ root namespace root_item pid.real obtain correct mount namespace mount_info use switch_ns signed andrey ryabinin aryabinin virtuozzo.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4745,bada2929327edfb1fe46c62ff82b884da51b9ccf,avel Emelyanov <xemul@parallels.com>, 2015-11-12 21:21:00 +0300, , zdtm.py fix race root construction two ns_flavor.init called parallel os.mkdir call would end eexists exception signed pavel emelyanov xemul parallels.com,,
4746,a96320604bf2b83dd95118e04de825e002a1e879,avel Emelyanov <xemul@parallels.com>, 2015-11-12 20:58:00 +0300, , zdtm.py run test marked excl parallel test e.g lock conflict wait job finish running  wait excl test finish launching signed pavel emelyanov xemul parallels.com,,
4747,65408e927ff2728243640d39b01ed1b51aac8eef,avel Emelyanov <xemul@parallels.com>, 2015-11-12 23:51:15 +0300, , page read fix compilation arm signed pavel emelyanov xemul parallels.com,,
4748,efb31988ec399f605827b3e48709ecc9aa3543cb,avel Emelyanov <xemul@parallels.com>, 2015-11-12 23:27:57 +0300, , page read fix compilation arm signed pavel emelyanov xemul parallels.com,,
4749,a9e5d2b417dafc87a642015d1aebb6ac7680a641,ndrey Vagin <avagin@openvz.org>, 2015-11-12 22:23:00 +0300, , jenkins fix path report signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4750,25eb3d6db255656df03e11e64c79bff2975b8221,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-12 19:37:00 +0300, , jenkin mark script executalbe signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4751,a6cb3d782d29a40d6142d378b84e10e3215a7318,avel Emelyanov <xemul@parallels.com>, 2015-11-12 17:16:52 +0300, , jenkins test cgroup02 norst test expects _will_ new hierarchy signed pavel emelyanov xemul parallels.com,,
4752,127152268a937e4f8babcba689d2919819e1f0b7,avel Emelyanov <xemul@parallels.com>, 2015-11-12 18:11:38 +0400, , jenkins make criu snap test use zdtm.py signed pavel emelyanov xemul parallels.com,,
4753,cc378b909a227f2a9d02cea9a01deae35bf8f500,avel Emelyanov <xemul@parallels.com>, 2015-11-12 18:01:37 +0400, , jenkins make criu dump test use zdtm.py signed pavel emelyanov xemul parallels.com,,
4754,dc00fea333881b7adc2aa8bda54150a1ce79fd6c,avel Emelyanov <xemul@parallels.com>, 2015-11-12 12:15:03 +0300, , net dont print error rule save thing new absent tool handled net.c code signed pavel emelyanov xemul parallels.com,,
4755,336b990995e9ee9c19a2bab4aae71518593a6e96,avel Emelyanov <xemul@parallels.com>, 2015-11-12 12:14:49 +0300, , net add flag run_ip_tool signed pavel emelyanov xemul parallels.com,,
4756,18d91708587f77c65df786136fabe512e2527c78,avel Emelyanov <xemul@parallels.com>, 2015-11-12 12:14:26 +0300, , util add flag cr_system signed pavel emelyanov xemul parallels.com,,
4757,e5a91658c58634870d35300f1fbed1e5d86cad50,avel Emelyanov <xemul@parallels.com>, 2015-11-12 17:30:23 +0400, , zdtm create dangling executables otherwise left test make zdtm.py list thing file test signed pavel emelyanov xemul parallels.com,,
4758,9a366728bc94abdf8c581b0416a54a8164eafb72,avel Emelyanov <xemul@parallels.com>, 2015-11-12 17:17:15 +0400, , zdtm make dev net tun optional device test signed pavel emelyanov xemul parallels.com,,
4759,79be3677bc314937209b3222d306e442321fa61f,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-12 16:22:00 +0300, , zdtm execute bridge test zdtm.sh zdtm.sh suppport dependency test tool signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4760,37ec967643254a3b930bf6186bb27b1d34aa2077,avel Emelyanov <xemul@parallels.com>, 2015-11-12 16:58:04 +0400, , jenkins move pre dump test .py launcher signed pavel emelyanov xemul parallels.com,,
4761,7d72537dbd264e1f92687853d31914a1b11c9153,avel Emelyanov <xemul@parallels.com>, 2015-11-12 16:56:04 +0400, , page read properly handle overlapping pagemaps stack pagemap read point cover two pagemaps parent image call parent page read page instead must call parent page read shorter request handle pagemaps properly signed pavel emelyanov xemul parallels.com,,
4762,87c0376b60ba333dd4afc61cc23ca326ac54d65e,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-12 15:24:00 +0300, , zdtm execute bridge test new netns signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4763,446a8ba85759d986269c2b253397ab12950ccce4,avel Emelyanov <xemul@parallels.com>, 2015-11-12 15:15:47 +0300, , jenkins exclude maps04 sibling test guy run tmpfs dump maps04 heavy signed pavel emelyanov xemul parallels.com,,
4764,fa0587ed8100681a782e04e17540bc218bfdae98,yrill Gorcunov <gorcunov@openvz.org>, 2015-11-12 14:44:35 +0300, , restore use min_t helper type casting arm crtools.o file included arch arm include asm bitops.h arch arm include asm types.h include proc_parse.h include ptrace.h restore.c restore.c function include compiler.h error comparison distinct pointer type lack cast werror void _min1 _min2  reported pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4765,ee2409ec3776a7559299fb03015d3cc2526ca19a,yrill Gorcunov <gorcunov@openvz.org>, 2015-11-12 14:44:34 +0300, , compiler grab min_t max_t kernel signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4766,23a2472ccb09629ef5cc716e1e4a18b1cc7e2324,ndrew Vagin <avagin@virtuozzo.com>, 2015-11-12 11:58:00 +0300, , test use tool instead ifconfig brctl lazy install new tool test host signed andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
4767,c63a42ac2f12071d59ebd53d7e0df17d1f0d0369,yrill Gorcunov <gorcunov@openvz.org>, 2015-11-09 21:54:19 +0300, , restore use bitmap_set helper signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4768,ba475b8dcf3242a134c4e6856569939ebdeed1c2,yrill Gorcunov <gorcunov@openvz.org>, 2015-11-09 21:54:18 +0300, , bitmap add helper bit manipulation grabbed kernel probably worth gather bit manipulator future signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4769,03b217c0a66bb18fb99df116e95b5de1d620bc7b,avel Emelyanov <xemul@parallels.com>, 2015-11-09 15:46:58 +0300, , restore restore many page possible vma restored cow read page image one one result suboptimal pages.img access fix reading many page iamge possible withing active pagemap vma signed pavel emelyanov xemul parallels.com,,
4770,780d69940127dc3f8418b83bc4b975b9719d59d9,avel Emelyanov <xemul@parallels.com>, 2015-11-09 15:44:58 +0300, , page read teach page read read multiple page preparatory patch problem solve described next one signed pavel emelyanov xemul parallels.com,,
4771,e41f4dbcab1d4ea47ee7bb460eba82df34618705,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-11 12:10:03 -0700, , gitignore ignore bunch generated stuff test binary ignored new zdtm.py file signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4772,34f33bd7bae64981c7a21c0592b5dfd064b7e25e,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-11 12:10:02 -0700, , test add test empty bridge add zdtm.py .desc file look make sure inet address match particular match state signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4773,8a95be06798b5a4a1321d40244d9989ee14eea9c,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-11 12:10:01 -0700, , net allow empty bridge container implementing bridge slave hard viz comment need right remove extra debug statement remember close dump_bridge use known buffer length snprintf spath dump_bridge change brace style signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4774,b67bde83bb1174afdec61a136fc12ae7a90ed1a9,avel Emelyanov <xemul@parallels.com>, 2015-11-11 19:03:09 +0300, , collect print info collection finish signed pavel emelyanov xemul parallels.com,,
4775,a0470e9bd9742f9b024c9f2c58c003514d88fb69,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-03 23:04:53 -0700, , add seccomp syscall use restoring ebpf program filter mode signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4776,934c312554944179bdd5db03ae61d8b1b1963a25,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-03 23:04:52 -0700, , rst unmap restore memory seccomp restore order restore seccomp filter need access dynamically allocated memory restorer blob unmap memory afterwards order need suspend seccomp earlier right attach task instead unmap restorer blob signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4777,5577c2e8653de7543073724857cb87fa720e9acf,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-10 14:05:41 -0700, , unix turn unlink warning really let call warning signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4778,1c1795412e2824f65afc99a84c3634d4a4dc407a,ndrew Vagin <avagin@openvz.org>, 2015-11-10 16:36:00 +0300, , jenkins add script create test container want execute test isolated environment signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4779,20088c4fccdd455d1c89ecffbe51bf585fe4905b,avel Emelyanov <xemul@parallels.com>, 2015-11-11 11:36:18 +0300, , jenkins move regular test .py signed pavel emelyanov xemul parallels.com,,
4780,6f0681c1b117ae4466b914efefb814d5b57aa1e9,avel Emelyanov <xemul@parallels.com>, 2015-11-10 17:20:55 +0300, , revert rst use opened restoring private mapping reverts commit two reason individual vma may require different open flag ghost link remap file properly unlinked end open_path need intelligent solution,,
4781,a3bfe43ef93cbb3c93e93ac71921355dd5e68c2c,ndrew Vagin <avagin@openvz.org>, 2015-11-10 16:01:08 +0300, , zdtm.py print shorter separator significant block signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4782,2fb61d3f9dc8324a9d4cb6980de6a7e7733ad830,ndrew Vagin <avagin@openvz.org>, 2015-11-10 16:01:07 +0300, , zdtm.py grep error even criu exists signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4783,3fbb8e7f13591adf2bdad6f4aa7873a78b49575e,avel Emelyanov <xemul@parallels.com>, 2015-11-10 17:38:27 +0400, , proc open anon_dev mapped file o_rdonly commit a3a10c44af made map_files open happen o_path speed however file socket aio ring detected since kernel open callback called get enxio code fix opening non regular file o_rdonly signed pavel emelyanov xemul parallels.com,,
4784,a20ed3c6f00367c4b8a1c0d47fce1113566314d6,avel Emelyanov <xemul@parallels.com>, 2015-11-10 11:43:00 +0300, , page server fine grained corking control live migrating container large amount process inside time page server dump may time slower local dump delay always introduced criu negotiates has_parent bit 2nd task likely happens nagel algo taking place write open2 command happened kernel delay command sending waiting data  fix turning cork option memory transfer socket send side nodelay one urgent data receive side always nodelay according alexey kuznetsov best mode ever type transfer  push packet pre dump signed pavel emelyanov xemul parallels.com acked andrew vagin avagin odin.com,,
4785,73cb87f9182bf46fceacde1e9023d8d5cdf99de6,avel Emelyanov <xemul@parallels.com>, 2015-11-06 18:08:00 +0300, , rst use opened restoring private mapping restore sequence open mmap close step real apps exists chain private file mapping file different pgoffs flag prots signed pavel emelyanov xemul parallels.com,,
4786,d6d06c9dfc288d5e238124e35cf5c1229700c2a5,avel Emelyanov <xemul@parallels.com>, 2015-11-06 12:01:04 +0300, , open proc link o_path three like map_files one signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
4787,a3a10c44af2d132be37084a5ecc81a5b232d49c7,avel Emelyanov <xemul@parallels.com>, 2015-11-06 12:00:51 +0300, , open map_files o_path descriptor stat used dump file information case even read access required even decide dump ghost file open one o_rdonly signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
4788,427ea60bbaf76ad6cf9afbefdb7a7e737414cc56,avel Emelyanov <xemul@parallels.com>, 2015-11-06 12:00:28 +0300, , open proc helper fds o_path descriptor purely used openat opened o_path save little bit operation kernel space signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
4789,7b32bee4141443ae226772bb2207645741b05358,drian Reber <areber@redhat.com>, 2015-11-09 15:56:00 +0300, , page read print missing page address hex signed adrian reber areber redhat.com signed pavel emelyanov xemul parallels.com,,
4790,2440482bcf284a84e3934b77175af2ae617ede41,ndrew Vagin <avagin@openvz.org>, 2015-11-10 15:05:00 +0300, , zdtm create device proper major minor number currently number dev net tun dev rtc hardcoded changed last kernel update reported jenkins signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4791,4aaa707260921c8de17be28bdd3e4a7eca14c655,ndrey Vagin <avagin@openvz.org>, 2015-11-10 00:29:00 +0300, , jenkins save report test directory save report test dump report work mount tmpfs test dump jenkins run another mount namespace signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4792,4e99f18f647a4e6821a3dbb4d1289dbcb961ba8d,rtem Kuzmitskiy <artem.kuzmitskiy@gmail.com>, 2015-11-09 10:49:00 +0300, , expand task_size variable aarch32 task size depends vm_split_ kernel option hard coded patch based christopher covington signed artem kuzmitskiy lge.com reviewed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
4793,9bbb2b092cf6fe0af87683d02eaf505aac87f65f,ndrew Vagin <avagin@openvz.org>, 2015-11-09 15:35:00 +0300, , zdtm call test_daemon test state created otherwise test create delete mapping 8306 getppid 8306 kill sigterm 8306 clock_gettime clock_boottime 1916694 423447417 8306 clock_gettime 1916694 419509587 8306 open etc localtime o_rdonly o_cloexec 8306 fstat st_mode s_ifreg 0644 st_size 127 ... 8306 fstat st_mode s_ifreg 0644 st_size 127 ... 8306 mmap null 4096 prot_read prot_write map_private map_anonymous unfinished ... 8306 ... mmap resumed 0x3fffa8570000 8306 read tzif2 ... 4096 127 8306 lseek seek_cur 8306 read tzif2 ... 4096 8306 close unfinished ... 8306 ... close resumed 8306 munmap 0x3fffa8570000 4096 unfinished ... 8306 ... munmap resumed 8306 write 36.347 start boottime 1916694 boottime coarse 1916694 8306 futex 0x10020850 futex_wait null unfinished ... reported jenkins signed andrew vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4794,5f0b9ae1de044a90ffb7fdb7011e07850d1eb5a8,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-05 22:23:00 +0300, , net ipv4 add sysctl look like new 4.2 timeframe doe bring question proc sys net conf host figure sysctls try dump instead use hardcoded list guess need check file mode mc_forwarding something like  add end hardcoded devconfs list break migration across criu version signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4795,b6cdc5e9bd5348d39709ff1aea0d9d760643d1ef,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-05 22:46:34 -0700, , mnt dump external mount going bind mounted outside world use dumping signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4796,b6a355c33c622746fd1ca740de5106ea49b4bd11,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-05 22:46:33 -0700, , mnt always_fail report error otherwise see anonymous failure log like 00.244773 mnt dumping mountpoints 00.244781 mnt 253 dev .lxc 00.244793 mnt path dev .lxc resolved dev .lxc mountpoint 00.249039 mnt 133 dev hugepages 00.249052 mnt 116 run lock 00.249064 mnt path run lock resolved run lock mountpoint 00.251948 mnt 115 run 00.251970 mnt something mounted top run 00.264803 mnt path run resolved run mountpoint tar uuidd request socket ignored tar dbus socket ignored tar acpid.socket socket ignored tar systemd journal syslog socket ignored tar systemd journal dev log socket ignored tar systemd journal socket socket ignored tar systemd journal stdout socket ignored tar systemd private socket ignored tar systemd notify socket ignored 00.368950 mnt 113 dev shm 00.368978 mnt path dev shm resolved dev shm mountpoint 00.371551 mnt 112 dev 00.371566 mnt 249 var lib lxcfs 00.371749 unlock network 00.371762 running network unlock script 00.371766 unfreezing task 00.371770 unseizing 13683 00.371784 unseizing 14839 00.371794 unseizing 15678 00.371800 unseizing 16126 00.371805 unseizing 16177 00.371814 unseizing 16301 00.371843 unseizing 16323 00.371854 unseizing 16414 00.371900 unseizing 16595 00.371911 unseizing 16695 00.371942 unseizing 16744 00.371964 unseizing 16904 00.372103 unseizing 16944 00.372140 unseizing 17558 00.372196 error dump.c 1631 dumping failed ... hard debug signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4797,6e6b9cb72fd113180fbc4bbe7ca720a6ae0c03af,drian Reber <areber@redhat.com>, 2015-11-05 17:18:00 +0300, , service fix return result supported cpuinfo change fill cr_errno cpuinfo dump check failed previous patch returning enotsup 0xff easier check return result changed return enotsup signed adrian reber areber redhat.com signed pavel emelyanov xemul parallels.com,,
4798,7f86ceb470d5a0e996b50ca5545e1b64d747d5f7,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-03 14:20:36 -0700, , zdtm.py fail test pid collide seems new zdtm.py pid collide lot perhaps everything pid namespace sure case annoying prevents second run test actually getting test part let try move old directory way signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4799,a985500cd8af69e4502e9f5d55f5a8b9fc878cad,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-03 14:20:35 -0700, , zdtm.py fix typo signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4800,0a2d3a9b6a48773eb2a210685847324583c73486,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-03 14:20:34 -0700, , use modeline zdtm.py set noet python space probably people editor configured since file tab let explicit signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4801,615e79952d49c759ead58f77da044592808e57d6,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-03 14:20:33 -0700, , zdtm.py unmount tests_root ing avoids problem like sudo zdtm.py run skipping test zdtm live static mem touch manual run sock_opts00 pidfile sock_opts00.pid outfile sock_opts00.out sock_opts00 pidfile sock_opts00.pid outfile sock_opts00.out run zdtm live static sock_opts00 start test test suid run criu dump dump.log dump zdtm live static sock_opts00 pidfile home ubuntu criu test zdtm live static sock_opts00.pid run criu restore restore.log dump zdtm live static sock_opts00 pidfile home ubuntu criu test zdtm live static sock_opts00.pid restore detached wait zdtm live static sock_opts00 die 0.100000 remvoing dump zdtm live static sock_opts00 test zdtm live static sock_opts00 pas run zdtm live static sock_opts00 construct root zdtm live static sock_opts00 start test test suid traceback recent call last file zdtm.py line 850 module do_run_test tinfo tinfo tinfo tinfo file zdtm.py line 641 do_run_test cr_api opts file zdtm.py line 562 cr_api.set_test test file zdtm.py line 469 set_test os.makedirs file usr lib python2.7 os.py line 157 makedirs mkdir name mode oserror errno file exists dump zdtm live static sock_opts00 153 error traceback recent call last file usr lib python2.7 atexit.py line _run_exitfuncs func targs kargs file zdtm.py line os.rmdir tests_root oserror errno device resource busy tmp criu root mmgeqd error sys.exitfunc traceback recent call last file usr lib python2.7 atexit.py line _run_exitfuncs func targs kargs file zdtm.py line os.rmdir tests_root oserror errno device resource busy tmp criu root mmgeqd signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4802,225273c4d69810ce78ce7c6e53114a77486cb326,yrill Gorcunov <gorcunov@openvz.org>, 2015-11-02 23:24:53 +0300, , fsnotify lookup watchee path irmap case migrating filesystem nonpersistent inodes device may hit case successfully dump container restore fail block device get another content might fully sinc case try lookup device number carried image fail instead let optimistic approach always try fetch watchee path first fails old scheme irmap native handle step account http jira.sw.ru browse psbm 40871 reported nikita spiridonov nspiridonov odin.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4803,7e862bb3f3b27072cad5f0a4e374ec4c0d7b12fa,drian Reber <areber@redhat.com>, 2015-11-03 18:21:00 +0300, , service set cr_errno cpuinfo dump supported right x86 support dumping checking cpuinfo architecture returning enotsup thus p.haul fails started without force add enotsup rpc field cr_errno case cpuinfo dumping checking failed return code signed adrian reber areber redhat.com signed pavel emelyanov xemul parallels.com,,
4804,24e7ad41c433eb70509c27d1bc55d75ea535ae0b,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-02 22:04:00 +0300, , zdtm.py use usr bin env interpreter debian ubuntu system bin env default rhel system limited testing seems indcate usr bin env symlink bin env let use work everywhere signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4805,c64d8d229adfbb74ce6c69f4b8422136c99dca9f,ycho Andersen <tycho.andersen@canonical.com>, 2015-11-02 21:50:00 +0300, , build ignore clean usr directory generated install crit target let .gitignore clean make clean signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4806,e8e05d81e6db018e939bfe43be2d818f14d4f020,avel Emelyanov <xemul@parallels.com>, 2015-11-02 19:14:39 +0300, , pie support printing restorer print pointer address error code reported artem kuzmitskiy gmail.com signed pavel emelyanov xemul parallels.com,,
4807,a67d54a664f5061330738ddcb46928b389c4c63c,avel Emelyanov <xemul@parallels.com>, 2015-11-02 19:14:05 +0300, , pie warn unknown log simple format reported artem kuzmitskiy gmail.com signed pavel emelyanov xemul parallels.com,,
4808,94729e1d4727602cc55d550090815bad061f1412,avel Emelyanov <xemul@parallels.com>, 2015-10-30 18:51:00 +0300, , zdtm.py put criu opts file screep inconvenient read zdtm.py output long line option reported andrey vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
4809,c300544a7738d73b0e1584783fc42fe09da0e90a,avel Emelyanov <xemul@parallels.com>, 2015-10-30 18:50:00 +0300, , zdtm.py progress bar showing launching test asked andrey vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
4810,a4a1d9f0705a0ab80eec8a0932adc09d8e60a961,avel Emelyanov <xemul@parallels.com>, 2015-10-30 18:50:00 +0300, , zdtm.py flush stdout running make otherwise make output appears log zdtm.py one reported andrey vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
4811,db87346fa7ef0d4f06a285cb28bd7c214ac8928e,ndrew Vagin <avagin@openvz.org>, 2015-10-30 17:12:53 +0300, , zdtm.py print error message end something failed signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4812,f39080411923e906a3ce572c773a98ec44bb6d88,ndrew Vagin <avagin@openvz.org>, 2015-10-28 17:28:00 +0300, , sysctl restore sysctl synchronously criu set kernel sem_next_id retore semaphore sysctl set berore semget 00.550616 calling 0x443f70 00.551077 error ipc_ns.c 573 failed restore sem instead 65536 00.551251 error ipc_ns.c 627 failed prepare semaphore set cyrill gorcunov gorcunov openvz.org tycho andersen tycho.andersen canonical.com reported cyrill gorcunov gorcunov openvz.org signed andrew vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4813,ceebb41def78a5a2b9732712a87aadf6816975ee,ndrew Vagin <avagin@openvz.org>, 2015-10-29 15:29:26 +0300,1, file leak file descriptor error path cid 84652 resource leak resource_leak leaked_handle handle variable newfd going scope leak handle signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4814,0668e0298f9b838b73e9bd7b5098baf4a0357af0,ndrew Vagin <avagin@openvz.org>, 2015-10-29 15:29:25 +0300,1, file reg leak file_remap object error path cid undefined resource leak resource_leak 10. leaked_storage variable going scope leak storage point signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4815,6344323555e1aa96547b82fa2a55b5222d31cc97,yrill Gorcunov <gorcunov@openvz.org>, 2015-10-29 12:29:00 +0300, , userns use prefix lowercase like rest module signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4816,049a7c828a92d92b28800133cba5ad375d73434e,yrill Gorcunov <gorcunov@openvz.org>, 2015-10-29 12:28:59 +0300, , userns wrap call macro fore readability pas function name helper instead pointer wich provide much useful info signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4817,01a99c0a63a5021860d7a4deede4a8850f127d82,ir Kolyshkin <kir@openvz.org>, 2015-10-29 04:10:00 +0300, , crit fix decode usage help  decode convert criu image binary type json  decode convert criu image binary type json signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
4818,ec36e34ff3ef69f58057cf1baecbf9b95629b41b,ir Kolyshkin <kir@openvz.org>, 2015-10-29 04:09:00 +0300, , fix error message similar case print option appears command line i.e option fix make clear  error inet.c 141 connected tcp socket consider using tcp established option  error inet.c 141 connected tcp socket consider using tcp established option signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
4819,a22afaa1790a27aeb5636a6c478615ca0c990610,ir Kolyshkin <kir@openvz.org>, 2015-10-29 03:26:00 +0300, , check use pr_ right case open access gave error using pr_perror preferable give errno case use pr_err instead pr_msg consistency case sys_ call errno set returned use pr_perror assign errno manually signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
4820,63a1148770d4962bcabed867212877d5e491510c,ir Kolyshkin <kir@openvz.org>, 2015-10-29 03:25:00 +0300, , strip_deleted fix message signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
4821,60e76ca4778a4fff040804a96e403e3354ba4d14,avel Emelyanov <xemul@parallels.com>, 2015-10-27 16:29:00 +0300, , zdtm.py ability delay iteration pre dump signed pavel emelyanov xemul parallels.com,,
4822,2086b56a67e85fdbee4cbeddb069384f1c1e2b21,ndrew Vagin <avagin@openvz.org>, 2015-10-27 11:19:00 +0300, , script print error message one script failed signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4823,5b56e20d7dde98cfb671af9b75fa2fbcfb15a5bb,ndrew Vagin <avagin@openvz.org>, 2015-10-27 10:44:00 +0300, , ptrace skip ptraced zombie posiable criu able attach process becomes zombie bash zdtm.sh freeze cgroup sys cgroup freezer test transition fork break done ... 00.000978 error ptrace.c 154 seize 13666 task stopped seize signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4824,dc55d23805e987bb2dffc7dc73b5db023293f387,avel Emelyanov <xemul@parallels.com>, 2015-11-03 10:40:19 +0300, , zdtm.py printf map diffing first set made list map list contain list pair second much better read map diffs hex rather ints would repr default signed pavel emelyanov xemul parallels.com,,
4825,287c07129f628cda2e7bc411ab391ef518c860fb,avel Emelyanov <xemul@parallels.com>, 2015-11-03 10:38:48 +0300, , zdtm.py fix cmp_lists routine zip trim longest list thus lose object appeared tail signed pavel emelyanov xemul parallels.com,,
4826,d35f4a15433edbcd988774c675fc89ddc2b56188,avel Emelyanov <xemul@parallels.com>, 2015-11-02 22:19:02 +0400, , zdtm.py print info map compare fails signed pavel emelyanov xemul parallels.com,,
4827,69f6a4794fbf19f68b66f2271f9d4fdacaf1153a,ndrew Vagin <avagin@openvz.org>, 2015-10-29 21:45:00 +0300, , jenkins collect report run zdtm.py construct report contains required inforamtion investigating problem patch add support functionality jenkins script signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4828,37d90574d77b1e1749d8dfdc77b0c694420aa663,ndrew Vagin <avagin@openvz.org>, 2015-10-29 14:07:00 +0300, , zdtm.py chdir dir script allows execute zdtm.py test directory signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4829,400dbd6ab6142ae5563c11b423784f9442fc4caa,avel Emelyanov <xemul@parallels.com>, 2015-10-30 15:55:41 +0400, , zdtm.py call advance script prepares cgroups hierarchy used test avoid creation parallel test expect appear signed pavel emelyanov xemul parallels.com,,
4830,f01ae34ecee5012e1f9e62326d27e3a27bd828fa,avel Emelyanov <xemul@parallels.com>, 2015-10-29 14:15:00 +0300, , zdtm.py make zdtm zdtm_ct run zdtm.py depends stuff signed pavel emelyanov xemul parallels.com,,
4831,abdea652a94140269413681bfbaf3d90e5888052,ndrei Vagin <avagin@openvz.org>, 2015-10-28 18:42:00 +0300, , zdtm netns user correct file name test file clean test file makefile name format signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4832,433839cfcb6c4e17dd22256d7b92191e3ac155d2,avel Emelyanov <xemul@parallels.com>, 2015-10-28 18:04:52 +0300, , zdtm.py add file perm test signed pavel emelyanov xemul parallels.com,,
4833,bb0efb318044c819d8862f1eb3b9771f0e67241f,avel Emelyanov <xemul@parallels.com>, 2015-10-28 17:55:30 +0300, , zdtm.py print failure report sep signed pavel emelyanov xemul parallels.com,,
4834,0534d74dccc57770b9ca68425fbe825f9552eda6,avel Emelyanov <xemul@parallels.com>, 2015-10-28 16:39:00 +0300, , zdtm.py generate report failed test includes image dir zdtm.py log one test signed pavel emelyanov xemul parallels.com acked andrew vagin avagin odin.com,,
4835,077b9c959c70a21242c39ed955eed36598f11a9c,avel Emelyanov <xemul@parallels.com>, 2015-10-28 17:05:05 +0300, , zdtm.py fix argumeps flavor init signed pavel emelyanov xemul parallels.com,,
4836,fffbe3740b707878dc00545ad5e3826a64c266fb,avel Emelyanov <xemul@parallels.com>, 2015-10-26 13:47:38 +0300, , zdtm move netns test flavor one got lost rebase sorry signed pavel emelyanov xemul parallels.com acked andrew vagin avagin odin.com,,
4837,4f3474e0005744cc87dfabfd21b93f927e9eac7e,avel Emelyanov <xemul@parallels.com>, 2015-10-26 13:42:28 +0300, , zdtm move netns test flavor patch stop working zdtm.sh launcher duo incomplete root constructed want fix signed pavel emelyanov xemul openvz.org acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
4838,35237d2a794a4060e04d57860c4be9c55b40a007,avel Emelyanov <xemul@parallels.com>, 2015-10-26 13:41:32 +0300, , zdtm.py move stuff root thing added usr directory link respective one sbin dir per test dependency listed .desc file deps list signed pavel emelyanov xemul openvz.org acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
4839,858c30e1c6f0cfa7708da3c0f2e0ffdf8b95aacf,ndrey Vagin <avagin@openvz.org>, 2015-10-28 11:29:00 +0300, , jenkins call fail error case fail save file archive investigation signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4840,dc6edd79e6fd599e7d9910271b790a31d3088645,avel Emelyanov <xemul@parallels.com>, 2015-10-28 12:36:40 +0400, , zdtm.py add dirs write perm low prio test flavor signed pavel emelyanov xemul parallels.com,,
4841,225537ea5a3de95016b0dd02bf67f6a683b50c9b,avel Emelyanov <xemul@parallels.com>, 2015-10-28 10:42:27 +0300, , zdtm.py wait task die loaded jenkins node sometimes take much second signed pavel emelyanov xemul parallels.com,,
4842,8cfe8336966df14ef2ca043b65c7bdcf2b0b8557,avel Emelyanov <xemul@parallels.com>, 2015-10-28 00:13:28 +0400, , net warn rule save missing print error signed pavel emelyanov xemul parallels.com,,
4843,e5df07654a97b0e2e29f2af4289118ab43d1c583,avel Emelyanov <xemul@parallels.com>, 2015-10-28 00:12:57 +0400, , net fail absent rule image fail bad one signed pavel emelyanov xemul parallels.com,,
4844,c9afd17ad648ad9df312c5cb0aed88140d3d02a7,irill Tkhai <ktkhai@odin.com>, 2015-10-23 20:06:00 +0300, , net add rule save restore add support save restore rule new functionality iproute already iproute git http git.kernel.org cgit linux kernel git shemminger iproute2.git commit use xstrdup instead strdup use open close instead helper return empty dump signed kirill tkhai ktkhai odin.com signed pavel emelyanov xemul parallels.com,,
4845,c51cdedcf98e1872b74b60018e3c748f0bfeaa7a,ndrew Vagin <avagin@openvz.org>, 2015-10-27 18:02:00 +0300, , jenkins use zdtm.py criu iter signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4846,4ca525556b93dd360ebd3d9dbd36ff637a92c286,ndrew Vagin <avagin@openvz.org>, 2015-10-27 18:00:00 +0300, , socket value snd rcv buffer divide two value doubled kernel account struct sk_buff etc overhead currently criu restores snd rcv buffer limit incorrectly become bigger iteration crit show dump zdtm live static socket tcp 6299 inetsk.img grep buf so_sndbuf 2626560 so_rcvbuf 1060720 so_sndbuf 16384 so_rcvbuf 87380 crit show dump zdtm live static socket tcp 6299 inetsk.img grep buf so_sndbuf 5253120 so_rcvbuf 2121440 so_sndbuf 32768 so_rcvbuf 174760 crit show dump zdtm live static socket tcp 6299 inetsk.img grep buf so_sndbuf 10506240 so_rcvbuf 4242880 so_sndbuf 65536 so_rcvbuf 349520 help pavel emelyanov xemul parallels.com signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4847,d45c5481c0b4dcb047584c4591040a7364a03f33,avel Emelyanov <xemul@parallels.com>, 2015-10-27 16:29:00 +0300, , zdtm.py fix iteration currently iter result sequential image every new iteration signed pavel emelyanov xemul parallels.com,,
4848,12cb5bb87c19cd9a370571296049e725c39dcb9f,yrill Gorcunov <gorcunov@openvz.org>, 2015-10-26 13:58:00 +0300, , net treat venet device separate complete device restoring venet device need restore index well actually possible new iproute2 package problem index lay inside image file could use crit tool extract would slowdon procedure signifantly need run python would parse image need pas index environmnet inside criu let trick simply created venet device inside container criu thanks support creating venet via netlink interface signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
4849,f49e54f2b0d70408286d241fb69c82480309ef9c,avel Emelyanov <xemul@parallels.com>, 2015-10-26 22:37:00 +0300, , zdtm.py make print_sep shorter print aligned line current implementation print_sep one like issue print one character fix make code shorter signed pavel emelyanov xemul parallels.com,,
4850,be0f234fab93e53d110ca4ec4de0a62c9a6cbc4f,ndrew Vagin <avagin@openvz.org>, 2015-10-26 20:20:43 +0300, , proc read data proc pid task tid child currently read 4096 byte size buf use bfd engine signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4851,1d8fcb6b940115446bc892f1743ea5676e2f47af,ndrew Vagin <avagin@openvz.org>, 2015-10-26 20:20:42 +0300, , bfd add breadchr reading stop eof specified charecter signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4852,64b00b3b095f9ba718443ab3bcda09bf127421da,ndrew Vagin <avagin@openvz.org>, 2015-10-26 16:41:48 +0300, , zdtm execute ipc_namespace userns permission set sysctl add suid flag signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4853,907a444c2cf05d8dca6d067cde000db8ce239d6d,ndrew Vagin <avagin@openvz.org>, 2015-10-26 16:30:04 +0300, , zdtm use syscalls set hostname domaninname enough permission set sysctl userns system call ns_capable protected kernel thus work user namespaces signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4854,3ec9e128de212a92401a325a8feca967ccf6635d,avel Emelyanov <xemul@parallels.com>, 2015-10-26 15:26:47 +0300, , zdtm mark utsname suid signed pavel emelyanov xemul parallels.com,,
4855,7a2afe33fb94318b6f7847ab05ccef0bbf39459c,ndrew Vagin <avagin@openvz.org>, 2015-10-23 17:56:00 +0300, , zdtm allow execute shm msgque userns signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4856,fe44213e84b222663ad0c21db36cfefb31c7b3b3,ndrew Vagin <avagin@openvz.org>, 2015-10-23 17:51:58 +0300, , zdtm allow execute ipc_namespace utsname test userns signed andrew vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4857,5dc505c0ca5e1a01a14227369bc9f512d2a2d34b,ndrew Vagin <avagin@openvz.org>, 2015-10-23 17:51:57 +0300, , ipc save local user group ipc object 5468 semctl ipc_set 0x7ffd25bcb590 einval invalid argument reported cyrill gorcunov gorcunov openvz.org signed andrew vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4858,fbbd1f566f58e1d686dd98af1a189bfe7f50ba90,yrill Gorcunov <gorcunov@openvz.org>, 2015-10-23 17:25:00 +0300, , unix fix typo name length estimation name unix_path_max length allowed value reported nikita spiridonov nspiridonov odin.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4859,67fe0607a061c342191820d496056e96694ca6da,yrill Gorcunov <gorcunov@openvz.org>, 2015-10-23 18:06:06 +0300, , ipc inject timestamps informative message every print_on_level injects timestamp better print one pas readability signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4860,e1e0f2ce56ef5934e5106076102f71fc66bc3b10,ir Kolyshkin <kir@openvz.org>, 2015-10-21 16:06:16 -0700, , zdtm introduce use pr_err sometimes pr_perror used place errno set place pr_perror used print nonsense introduce use pr_err case see sometimes fail used case think reserved place test fails rather something prevents test working also sometimes test_msg used print source file name line number need unify pr_err say fail easier patch signed kir kolyshkin kir openvz.org acked andrew vagin avagin gmail.com signed pavel emelyanov xemul parallels.com,,
4861,036d4053124287f0f86889b670427bd4bc240603,ir Kolyshkin <kir@openvz.org>, 2015-10-21 16:06:15 -0700, , zdtm unix_sock use errno place errno set random value use case errno happens end returning success status function returned failure signed kir kolyshkin kir openvz.org acked andrew vagin avagin gmail.com signed pavel emelyanov xemul parallels.com,,
4862,40978ef32cf81ab2c38bb9c6d180c05f73e6efe5,ir Kolyshkin <kir@openvz.org>, 2015-10-21 16:06:14 -0700, , zdtm live static socket tcpbuf fix error message signed kir kolyshkin kir openvz.org acked andrew vagin avagin gmail.com signed pavel emelyanov xemul parallels.com,,
4863,f42bc58311be920f6316ef9105408e1f06a1735f,ir Kolyshkin <kir@openvz.org>, 2015-10-21 16:06:13 -0700, , zdtm sanitize pr_perror usage log function pr_perror automatically add numeric errno value string errno value aka strerror errno aka newline caller thing also fix improve message text replace fnprintf pr_perror signed kir kolyshkin kir openvz.org acked andrew vagin avagin gmail.com signed pavel emelyanov xemul parallels.com,,
4864,d033577954cef426f4e7b4ab2e294ef0088fae43,ir Kolyshkin <kir@openvz.org>, 2015-10-21 16:06:12 -0700, , test_msg avoid recursion highly unlikely case localtime failed test_msg call pr_perror wrapper around test_msg calling lead infinite recursion localtime keep failing use fprintf avoid signed kir kolyshkin kir openvz.org acked andrew vagin avagin gmail.com signed pavel emelyanov xemul parallels.com,,
4865,ae6294f4d26b4248b794138c006084a88b9ec074,ndrew Vagin <avagin@openvz.org>, 2015-10-21 17:15:00 +0300, , zdtm return non zero code error case signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4866,4e5e10677829ddc52d4e5ef860ff76f984f5d038,yrill Gorcunov <gorcunov@openvz.org>, 2015-10-19 19:13:00 +0300, , make forget clean obj signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4867,628a488531ed4395fd18209f6488f7d699fae069,ir Kolyshkin <kir@openvz.org>, 2015-10-20 03:28:00 +0300, , test fix error message signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
4868,013b8494b2815b5c4686798c4c65061f7487bcca,yrill Gorcunov <gorcunov@openvz.org>, 2015-10-19 19:07:00 +0300, , crit add userns handler signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4869,7a99e699ce621b9b4522ee6fd2639e6c2c16f67c,yrill Gorcunov <gorcunov@openvz.org>, 2015-10-13 21:27:00 +0300, , mnt export gon need inotify handle testing signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4870,b504dac6bfbe1e886b0aaf1f078ef8e9a1aa75e5,ndrew Vagin <avagin@virtuozzo.com>, 2015-10-20 16:34:00 +0300, , userns print uid unsigned value reported cyrill gorcunov gorcunov openvz.org signed andrew vagin avagin virtuozzo.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4871,5940e3d14cf8b247b9bc16ff9148183491096708,ir Kolyshkin <kir@openvz.org>, 2015-10-20 11:35:20 -0700, , xfree simplify contrary popular opinion need check argument non null calling free free man page ptr null operation performed let change xfree macro synonym free signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4872,52ab139c2edb78d4f271c380c09ebd8484e8df1f,yrill Gorcunov <gorcunov@openvz.org>, 2015-10-13 19:58:22 +0300, , fsnotify always provide path inotify watchees debian container faced problem systemd creates nested mount namespaces inotify watchee resolved path inaccessbile restore happens pathes watchees living bind overmounted thus try restore watchees open path let trick thanks huge andrew vagin idea overall help walk mount point device match handle device open handle first test path provided openable well tmpfs devtmps save inodes remount inotify object bound inode irrelevean via path assigned http jira.sw.ru browse psbm 39957 signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4873,7235e9b50dd25743d28a59456d25f5e50ea477f0,ndrew Vagin <avagin@openvz.org>, 2015-10-20 18:10:00 +0300, , zdtm replace err pr_perror another err glibc signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4874,f54e316eb01cc144b8973cc2ee2ff56941db7a59,ndrew Vagin <avagin@openvz.org>, 2015-10-20 17:51:00 +0300, , zdtm supply err err add end signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4875,087b5cd5d9cc9a41e206118466d96bc9f1c7abc9,ndrew Vagin <avagin@openvz.org>, 2015-10-20 17:02:00 +0300, , test zdtm print file name string signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4876,35603e51cc6a04dbab9e8a162b04b67a06904be7,avel Emelyanov <xemul@parallels.com>, 2015-10-20 17:10:22 +0400, , zdtm handle crfail test expected dump failure signed pavel emelyanov xemul parallels.com,,
4877,896837cea8d9bd9e1d16fb1e6720a4f4fb7f070a,avel Emelyanov <xemul@parallels.com>, 2015-10-20 15:52:59 +0400, , zdtm compare map fds non static test signed pavel emelyanov xemul parallels.com,,
4878,43d78feb3ef65cbae23569ba7df152868d469b35,avel Emelyanov <xemul@parallels.com>, 2015-10-20 15:40:10 +0400, , zdtm fix exit code propagation failed test signed pavel emelyanov xemul parallels.com,,
4879,50ad633a9c73017ccdbb7879e110545ca8eeb1b7,avel Emelyanov <xemul@parallels.com>, 2015-10-20 15:28:55 +0400, , zdtm fix mnt_id feature name desc file signed pavel emelyanov xemul parallels.com,,
4880,be16f4f09b63a9c4c1924e7ffb956d6c1b59337a,ndrew Vagin <avagin@openvz.org>, 2015-10-20 13:27:00 +0300, , jenkins use zdtm.py run criu sibling signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4881,951a1e04f2702b434f4f34f5bedd32eeeb8c3c4e,avel Emelyanov <xemul@parallels.com>, 2015-10-20 13:18:45 +0300, , zdtm.py pas keep_img fault option sub task signed pavel emelyanov xemul parallels.com,,
4882,d150d6f20d53f0d9bdcf7df6d5636e470f5bf6ae,ndrew Vagin <avagin@virtuozzo.org>, 2015-10-14 18:40:00 +0300, , freezer catch kernel thread openvz creates per container kernel thread live container cgroups criu skip thread impossiable get state signed andrew vagin avagin virtuozzo.org signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4883,8ce58ec9630e4399725ddd0d9dc550408aa977b2,avel Emelyanov <xemul@parallels.com>, 2015-10-13 18:06:44 +0300, , zdtm.py ability run test fault injected signed pavel emelyanov xemul parallels.com,,
4884,68baf8e77d4321cfbc072f10ddd5e99c6db4dd51,avel Emelyanov <xemul@parallels.com>, 2015-10-13 18:06:30 +0300, , criu fault injection core patch set inspired similar andrey vagin sent sime time earlier major idea artificially fail criu dump restore specific place let zdtm test check whether failed dump restore resulted anything bad particular patch introduces ability tell criu fail point point specified integer constant next patch appear place code checking specific fail code set failing two point introduced early dump right loading parasite right creation root task signed pavel emelyanov xemul parallels.com,,
4885,c405304fcce86614678c9a38672d29a692316081,avel Emelyanov <xemul@parallels.com>, 2015-10-12 21:54:33 +0300, , zdtm.py add inhfd test inherit option option tested using classic zdtm test implies data created restore passed criu restore restored process descriptor case add inhfd_test class creates signed pavel emelyanov xemul parallels.com,,
4886,5193fa4a96d7513f48fc35e1c254c2d04b7ab5a2,avel Emelyanov <xemul@parallels.com>, 2015-10-12 21:53:13 +0300, , zdtm.py split per test option one one checkpoint another restore signed pavel emelyanov xemul parallels.com,,
4887,56eea20c2edf239c862dace547f0e3a61bb18954,ycho Andersen <tycho.andersen@canonical.com>, 2015-10-15 10:32:19 -0700, , unix unlink_stale return void check return value let return void signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4888,d0f8f5e73cca291ea4b3a9c5b3dd68d4377c9ec8,ycho Andersen <tycho.andersen@canonical.com>, 2015-10-15 16:28:10 -0600, , check also check tun support mainline  http git.kernel.org cgit linux kernel git torvalds linux.git commit fb7589a1 tun support merged let check well signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4889,43d7e9ca8057251821802ca205ce61efcbc10205,ycho Andersen <tycho.andersen@canonical.com>, 2015-10-15 16:28:09 -0600, , check timerfd check mainline kernel  http git.kernel.org cgit linux kernel git torvalds linux.git commit 5442e9fbd feature mainline let check signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4890,33ebd47c980b10fff8c732aafb542198b80b3334,ycho Andersen <tycho.andersen@canonical.com>, 2015-10-15 16:28:08 -0600, , check mnt_id mainline  http git.kernel.org cgit linux kernel git torvalds linux.git commit 49d063cb3 mnt_id field mainline let check signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4891,da1be409ccff85c3c14915bb1b5ad0492b656a22,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-10-15 18:23:00 +0300, , test rtc use hard coded major value dev rtc device major value may change depending architecture kernel release ensure test rtc working time longer belong hard coded major value peek dev rtc signed laurent dufour ldufour signed pavel emelyanov xemul parallels.com,,
4892,1ad78171ade4bb64fba9de6314ac305fd07f0256,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-10-15 18:20:00 +0300, , ppc64 crtools use builtin mem operation since crtools linked object build parasite restorer blob need builtin memory service signed laurent dufour ldufour signed pavel emelyanov xemul parallels.com,,
4893,450fadb561480679e60073a2c9b2d27d98985c72,avel Emelyanov <xemul@parallels.com>, 2015-10-15 17:27:00 +0300, , zdtm.py control whether keep image test tree way possible always never test failed latter one default signed pavel emelyanov xemul parallels.com,,
4894,0fdbffa10ef8da11d09bd2b20de6063e7b49064b,avel Emelyanov <xemul@parallels.com>, 2015-10-15 17:25:00 +0300, , zdtm.py run test matching given regexp signed pavel emelyanov xemul parallels.com,,
4895,85856e9d42ac514de7c5579c64ea8ab78b9c5b80,uslan Kuprieiev <rkuprieiev@cloudlinux.com>, 2015-10-12 12:50:00 +0300, , pycriu add criu class class essentially libcriu python yet basic function check dump restore needed make life python user even easier i.e hiding nasty connection stuff also using criu swrk comm_bin communication method instead old system service longer recommend signed ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul parallels.com,,
4896,4456273738dfd07d587a13b0db3f3e5de505329d,ir Kolyshkin <kir@openvz.org>, 2015-10-15 02:45:00 +0300, , fix calling pointed coverity cid 114629 mnt_ns_fd closed function call mnt_ns_fd try close file descriptor already closed address let use safe_close set closed also check argument need explicit check let remove check close pavel pointed calling whole required passed cleanup_mnt_ns point could addressed introducing yet another label cleaner use flag variable note since second issue addressed first one away let keep fix anyway might help future signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
4897,75fa3c6e29404e25925f080468022cd310e7300b,ir Kolyshkin <kir@openvz.org>, 2015-10-14 15:09:57 -0700, , hide useless error leave warning running test lot error like 00.000053 error sysctl.c 367 open sysctl net ipv4 tcp_rmem file directory andrew explained test running netns lack sysctl use flag hide error message since flag sysctl_op probably return add additional check vect detect file read show appropriate warning i.e tcp mem sysctls available using default signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
4898,b1599c3d1c2548e7839eb7a037d87253b11f259c,ir Kolyshkin <kir@openvz.org>, 2015-10-14 15:09:56 -0700, , simplify vect spent time trying figure vect array declared also vect used answer commit 4bca68b removed code using let save byte make code readable signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
4899,86bb235b5c471e28a78dc989e7bbdd7674337047,uslan Kuprieiev <rkuprieiev@cloudlinux.com>, 2015-10-12 12:50:05 +0300, , test libcriu switch using swrk instead service test serve example people preferably use criu need also switch swrk signed ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul parallels.com,,
4900,f39bb8f9f0834af5c85c54fbfc773159a980019b,uslan Kuprieiev <rkuprieiev@cloudlinux.com>, 2015-10-12 12:50:04 +0300, , libcriu use swrk default sure okay patch break backward compatibility discourage people using criu system service default better done rather sooner later considering criu service widely used patch side need daemonize swrk self dump requested signed ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul parallels.com,,
4901,f4e9a1df40b1ff8ab743bb553fba791fab69e01b,uslan Kuprieiev <rkuprieiev@cloudlinux.com>, 2015-10-12 12:50:03 +0300, , make install service logrotate configs deleted previous two patch signed ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul parallels.com,,
4902,ee0c401a8ab07d7eee5565bee60769ccaf21e84e,uslan Kuprieiev <rkuprieiev@cloudlinux.com>, 2015-10-12 12:50:02 +0300, , criu script remove logrotate need without systemd configs signed ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul parallels.com,,
4903,10d5e9a43e4350ac9f1b607e1b261ab56444c1bb,uslan Kuprieiev <rkuprieiev@cloudlinux.com>, 2015-10-12 12:50:01 +0300, , criu script remove criu service file recomended run criu root system service let remove service file stop encouraging people signed ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul parallels.com,,
4904,f415a693c87df440987836335979812e8937427a,ycho Andersen <tycho.andersen@canonical.com>, 2015-10-14 11:33:21 -0700, , unix report error unlinking stale socket signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4905,4c1ffde8610c7b5669199c70f08cb3d9dc941107,ndrew Vagin <avagin@openvz.org>, 2015-10-13 11:09:00 +0300, , zdtm.py print separator test signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4906,ed8a13b70f53a28a1933a9ebc30aeefb507c3e6d,ndrew Vagin <avagin@openvz.org>, 2015-10-13 09:51:00 +0300, , zdtm show error message error case signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4907,2f481f02fc0fc752addcec3d7656e946628d4d1c,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-10-12 17:17:00 +0300, , build pie object separately patch change build chain use pie object crtools executable done building shared source file twice parasite restorer file pie build.o crtools file signed laurent dufour ldufour reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4908,61859d1176add254cc9afe0f90be2d773677a67b,yrill Gorcunov <gorcunov@openvz.org>, 2015-10-12 20:18:07 +0300, , fsnotify filter internal inotify bit restoring mark kernel prior 4.3 exporting bit via procfs fdinfo interface bit kernel internal passed call thus simply filter obtain old image backward compatibility reason detail http lkml.org lkml 2015 680 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4909,9f631ad5c91121532bf257ea3ee8b2cf81129dc0,ndrew Vagin <avagin@openvz.org>, 2015-10-09 18:59:00 +0300, , mnt use ns_mountpoint open mount point open_mountpoint helper called mount namespace already restored use local path continuation patch a082f27b keep mount point fsnotify thus use namespace path open http jira.sw.ru browse psbm 39957 signed andrew vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4910,14da0f780e07ccc3b1c5db9ae70cddea555a5bea,ndrew Vagin <avagin@openvz.org>, 2015-10-09 17:41:00 +0300, , restore wait process dying criu restore failed criu wait process hold file namespaces stuff caller might want released case ploop device case process restored pid namespace like non case simple way wait bunch unconnected process another good side effect restoring failed printed end log kill init task still time smth write log message nikita spiridonov nspiridonov odin.com reported nikita spiridonov nspiridonov odin.com signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4911,135659e0ed07a2f1f75448c651a74df4ca11dfe9,ndrew Vagin <avagin@openvz.org>, 2015-10-09 22:47:00 +0300, , criu restore blocked signal correctly need use sig_setmask instead sig_block sig_setmask set blocked signal set argument set signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4912,a082f27b11b6431e1115dca8db580fcca212683e,ndrew Vagin <avagin@openvz.org>, 2015-10-10 01:49:38 +0300, , fsnotify save mnt_id path otherwise impossible understand namespace path opened signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4913,fee9021f5f53f6659b26ea1c8f36a0b14da8673f,ndrew Vagin <avagin@openvz.org>, 2015-10-10 01:49:37 +0300, , zdtm test inotifies sub mount namespace signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4914,addbc255507dd90424f0d6b19d85a940433be5ff,ndrew Vagin <avagin@odin.com>, 2015-10-09 14:06:00 +0300, , mnt fix slave mount order estimation can_mount_now slave mount need make sure childrent mountpoints master peer mounted proceed otherwise gon duplicated mountpoints restore http jira.sw.ru browse psbm 39957 signed andrew vagin avagin odin.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4915,1a6de2c643cbe77260e3ee60787288c079d9fdd5,avel Emelyanov <xemul@parallels.com>, 2015-10-08 23:09:32 +0300, , zdtm.py support crlib flag test flag mean lib directory plugin currently rtc test wait_pid_die timeout risen since test second signed pavel emelyanov xemul parallels.com,,
4916,388df2a10374cded62b5f046c4ea34308cd6ede3,avel Emelyanov <xemul@parallels.com>, 2015-10-08 23:08:18 +0300, , zdtm.py support test hook signed pavel emelyanov xemul parallels.com,,
4917,edc19f139c6588cbd5c3eb33a3547d16bfe4fa3e,avel Emelyanov <xemul@parallels.com>, 2015-10-08 23:07:56 +0300, , zdtm.py print file exists sometimes test fail generating .out file print content exists signed pavel emelyanov xemul parallels.com,,
4918,b84642ff3370b6696f3e1d49f253c4639f097a5e,avel Emelyanov <xemul@parallels.com>, 2015-10-08 23:07:15 +0300, , zdtm tune mountpoints test constantly binfmt_misc set ups look like far default system make test work plan rewrite anyway let make optional signed pavel emelyanov xemul parallels.com,,
4919,bdb549c9616e6012f443c64c3d6bf418956a29fa,avel Emelyanov <xemul@parallels.com>, 2015-10-08 17:29:40 +0300, , zdtm.py allow specifying test suit description file signed pavel emelyanov xemul parallels.com,,
4920,6d5635e3604442748e6ba5ab135253701013c330,avel Emelyanov <xemul@parallels.com>, 2015-10-08 17:28:55 +0300, , zdtm.py lower zdtm keyword usage signed pavel emelyanov xemul parallels.com,,
4921,f698be0a121f2661f760961317a8d90811b87c36,avel Emelyanov <xemul@parallels.com>, 2015-10-08 17:27:24 +0300, , zdtm.py print test info listing signed pavel emelyanov xemul parallels.com,,
4922,9db8bd8cf4595eaf6926855716cf9426146b25e6,avel Emelyanov <xemul@parallels.com>, 2015-10-08 17:25:00 +0300, , zdtm.py rework test list generation hand made list test great christopher suggested find executables directory treat test idea good requires little bit trickery first executables directory test e.g per test script skipped next test zdtm right run continuous manner fail want run manually fix test marked noauto flag description test test descriptor file state file look test executable exclude maybe added demand finally per test description test .desc file native python eval repr able format file absent default description used signed pavel emelyanov xemul parallels.com,,
4923,526b7826d1070e3153fef8454b66079506d839cf,avel Emelyanov <xemul@parallels.com>, 2015-10-08 15:22:53 +0300, , zdtm.py test restore sibling option main difficulty restored test becomes zdtm.py kid killing one wait test zombie restore sibling test get restored existing init get wait automagically signed pavel emelyanov xemul parallels.com,,
4924,206acdf225a698e6708163ab0d599b67f7d6058a,avel Emelyanov <xemul@parallels.com>, 2015-10-08 15:21:13 +0300, , zdtm.py print criu action log signed pavel emelyanov xemul parallels.com,,
4925,31944f33d62d7c606968bd30a4d4c80df7f0037c,avel Emelyanov <xemul@parallels.com>, 2015-10-08 15:20:37 +0300, , zdtm.py print test fail early case t.kill raise exception sometimes becomes unclear going signed pavel emelyanov xemul parallels.com,,
4926,7cbb5e5a3746e7686a28539d8c6ed335f8e62cc1,avel Emelyanov <xemul@parallels.com>, 2015-10-08 15:19:44 +0300, , zdtm.py save existing environment zdtm signed pavel emelyanov xemul parallels.com,,
4927,0cc628915d542c506b81a326f789b1db85ad0708,avel Emelyanov <xemul@parallels.com>, 2015-10-08 15:18:51 +0300, , zdtm.py auto reap child test run pseudo container parallel execution new namespace init python script thus dying test get reparent sit zombie forever create pseudo init container ripping child signed pavel emelyanov xemul parallels.com,,
4928,9841778fecc94599be8ccf5212151c9b4626b9a8,ndrew Vagin <avagin@openvz.org>, 2015-10-09 11:11:00 +0300, , use strlcpy libcriu lib libcriu.so undefined reference strlcpy include string.h reported jenkins kir kolyshkin kir openvz.org fix e5654e586cf5 use strlcpy signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4929,15f914f20a79f399dee0a8e44fb083103a881be9,ir Kolyshkin <kir@openvz.org>, 2015-10-07 09:19:53 -0700, , pr_perror supply pr_perror special add end need supply one signed kir kolyshkin kir openvz.org acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
4930,53f8c314597a23adbff4a41d50151a8237e9fcf4,ir Kolyshkin <kir@openvz.org>, 2015-10-07 09:19:51 -0700, , ppc64 crtools.c use pr_perror place errno value set calling ptrace make sense use pr_perror appends errno string also fix missing end pr_perror add place keep using pr_err forget laurent dufour ldufour signed kir kolyshkin kir openvz.org reviewed laurent dufour ldufour acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
4931,0f6b5d921c4f824f755ada5d4a6aa599dfb509b6,ir Kolyshkin <kir@openvz.org>, 2015-10-07 09:19:50 -0700, , open_proc_sfd use pr_perror failed open signed kir kolyshkin kir openvz.org acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
4932,d638f57dffc8c78755ed40341e94232a3e77efbf,ir Kolyshkin <kir@openvz.org>, 2015-10-07 09:19:49 -0700, , cgroup.c use pr_err forget using pr_err signed kir kolyshkin kir openvz.org acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
4933,17b92fa542417538c2f95f233aabb182d43f8472,ir Kolyshkin <kir@openvz.org>, 2015-10-07 09:19:48 -0700, , append newline using pr_err signed kir kolyshkin kir openvz.org acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
4934,572f152ea0c9bb83c87cf241708e3258b2d37f2e,ir Kolyshkin <kir@openvz.org>, 2015-10-07 09:19:47 -0700, , aarch64 get_task_regs use pr_perror ptrace set errno make sense use pr_perror also fix bug missing signed kir kolyshkin kir openvz.org acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
4935,a1457a7b7358def73e2ed3c827c8da31916e1f5c,ndrew Vagin <avagin@openvz.org>, 2015-10-08 17:03:00 +0300, , sysctl restore sysctls correct namespaces use userns called context current process mount namespaces restored last one restore namespaces see proc host pid namespace case use virtual pid access proc pid let open proc self use descriptor switch namespaces tycho andersen tycho.andersen canonical.com fix f79f4546cfc0 sysctl move sysctl call usernsd signed andrew vagin avagin openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4936,23573119bd7e80300bdc7c00dfcae437f6613aaa,drian Reber <areber@redhat.com>, 2015-10-08 16:33:00 +0300, , introduce feature check via rpc still system support dirty memory tracking offer interface query dirty memory tracking availability via new feature check rpc preparation p.haul change use rpc interface automatically detect pre dump executed  change introduces additional optional field criu_request criu_response message feature criu_features message right check memory tracking feature supported message criu_features optional bool mem_track instead checking memory tracking provide generic interface check arbitrary feature use bitfields feature encoding protobuf optional message parameter signed adrian reber areber redhat.com signed pavel emelyanov xemul parallels.com,,
4937,29c08d86722150d5c43171d4faa5889597565464,atthew Krafczyk <krafczyk.matthew@gmail.com>, 2015-10-08 16:21:00 +0300, , add pre dump pre restore action script allows user perform action dumping restoration occurs signed matthew krafczyk gmail.com signed pavel emelyanov xemul parallels.com,,
4938,400b35b449a8eed12d512a058355686ef87eab36,alvatore Bonaccorso <carnil@debian.org>, 2015-10-08 11:35:00 +0300, , pycriu make build reproducible chris lamb lamby debian.org reported debian criu building reproducible working reproducible build effort  http wiki.debian.org http bugs.debian.org 801211 signed salvatore bonaccorso carnil debian.org acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
4939,d9b1b9ff37a7b29972b834ff87365ca6e0627e18,ndrew Vagin <avagin@openvz.org>, 2015-10-08 09:29:00 +0300, , restore fix checking error code sys_sigaction sys_sigaction return error code reported kir kolyshkin kir openvz.org signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4940,002c81c3cee97aa09ee0913e536449e4a68e4ca8,yrill Gorcunov <gorcunov@openvz.org>, 2015-10-07 16:27:00 +0300, , mnt treat root special restoring namespace root might slave one another namespace root treat always ready mounting rely general logic can_mount_now test slave relation signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4941,90eae6a1688f52364a98e6bce4e57c65bacde0b7,yrill Gorcunov <gorcunov@openvz.org>, 2015-10-07 12:25:06 +0300, , unix affect cwd relative named socket restore socket relative name change current working directory one provided socket image data actually affect current criu state rest code know trick may rely working dir consistency remember current working dir restore back socket cwd operation complete signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4942,3b02df57ef0abb02ae20ea9ef041a26280bf0c43,ycho Andersen <tycho.andersen@canonical.com>, 2015-10-07 15:44:00 +0300, , util chop last element buffer 377763e5 incorrect since always chop last element buffer execute static cgroup00 cgroup00 pidfile cgroup00.pid outfile cgroup00.out dirname cgroup00.test dump 12819 00.003514 error file reg.c 624 create link remap dev nul use link remap option 00.003523 error dump.c 1257 dump file pid 12819 failed 00.004042 error dump.c 1619 dumping failed warning cgroup00 returned left running debug need test zdtm live static cgroup00 result fail error test zdtm live static cgroup00 namespace error hopefully appease coverity instead signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4943,ff3f52d24438f7b62d4ead5b63d0e1f9ce775205,drian Reber <areber@redhat.com>, 2015-10-05 17:32:00 +0300, , fix two comment typo signed adrian reber areber redhat.com signed pavel emelyanov xemul parallels.com,,
4944,5b203c1e1bee8b548ca85337cfbfeb55678c1fb1,yrill Gorcunov <gorcunov@openvz.org>, 2015-10-05 16:30:39 +0300, , mnt make sure hit nil dereference nested mount case actually bug resolve situation without real bug call let walk gentle way signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4945,09d97050aa5387212615b93b06aa77ec8d27f27c,yrill Gorcunov <gorcunov@openvz.org>, 2015-10-05 16:30:38 +0300, , mnt add info mnt image reading signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4946,9e1da526e60c2ff670e3c03a1dd10e636dbc8f7c,yrill Gorcunov <gorcunov@openvz.org>, 2015-10-05 16:30:37 +0300, , mnt add detail pr_debug shared slave bind signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4947,896752471ff529677ab2d59e0a0d04d8a8832804,ndrei Vagin <avagin@openvz.org>, 2015-10-05 14:21:00 +0300, , zdtm exclude ipc namespaces case userns signed pavel emelyanov xemul parallels.com,,
4948,c7bc365530709ccc29dfe90688de2c536b7be9a9,ndrew Vagin <avagin@openvz.org>, 2015-10-05 16:01:00 +0300,1, sysctl add fallthrough annotation cid 152112 missing break switch missing_break case value terminated break statement signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4949,928db333a8b4e031116ad8470925d00b7614bfac,ir Kolyshkin <kir@openvz.org>, 2015-10-07 02:44:24 -0700, , parse_pid_stat minor optimization signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
4950,faf07489f2d4c4eaba16dc092b325f39d89f5168,ir Kolyshkin <kir@openvz.org>, 2015-10-07 02:44:23 -0700, , fix error check naturally checking strstr null useless reported coverity cid 51594 signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
4951,e5654e586cf51b1d8630a787576d54de0e9cdfe3,ir Kolyshkin <kir@openvz.org>, 2015-10-07 02:44:22 -0700, , use strlcpy better use strlcpy instead strncpy otherwise might end null terminated string open portal hell place reported coverity criu_connect coverity cid 51591 proc_pid_parse coverity cid 51590 coverity cid 51593 etc use strlcpy instead strcpy avoid buffer overrun also reported coverity example one dump_filemap coverity cid 51630 signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
4952,bf607a6ea8fd0b791b62dccddb9e03816e53a69d,ir Kolyshkin <kir@openvz.org>, 2015-10-07 02:44:21 -0700, , sysctl_op fix check known mask must boolean logical reported coverity cid 114612 signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
4953,7073009b5dda2324c0342392ec6dc113071401a7,ir Kolyshkin <kir@openvz.org>, 2015-10-07 02:44:20 -0700, , fix check obviously copy paste typo reported coverity cid 114615 signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
4954,250c89eddef5077dbbe1975946d81775395f107c,ir Kolyshkin <kir@openvz.org>, 2015-10-07 02:44:19 -0700, , check buf long enough case buf size adequate report return error modelled commit 1ead3d7 signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
4955,ec863205f41eace25ab8a46c2ac17a1d70ee93b1,ir Kolyshkin <kir@openvz.org>, 2015-10-07 02:44:18 -0700, , overrun buf classical one error sizeof buf 512 last element buf 511 buf 512 note read return return buf stay uninitialized reported coverity cid 114623 signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
4956,377763e5b1ebdacaefeccb16a84485273f589be5,ir Kolyshkin <kir@openvz.org>, 2015-10-07 02:44:17 -0700, , read_fd_link overrun buf classical one error sizeof buf 512 last element buf 511 buf 512 reported coverity cid 114624 114622 etc signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
4957,0570dd81d6164162d69e2341539b8c695f489b60,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-10-07 12:09:00 +0300, , ppc64 handle gcc memcpy optimisation commit 871da9a11147 pie give vdso symbol table local scope move definition vdso_symbols global local variable make sense since variable used function however raise build issue powerpc memcpy undefined symbol detected first relocation phase parasite code parasite_blob error pie piegen elf.c 258 unexpected undefined symbol memcpy memcpy symbol pulled compiler generated code try optimize stack initialization entering optimization done copying initialized data stack using memcpy building parasite code library linked memcpy symbol however builtin_memcpy ideally builtin_memcpy named memcpy replace library one built parasite restorer code way criu built vdso util.o file used twice criu linked library parasite restorer code thus naming builtin_memcpy memcpy lead belongs builtin_memcpy even library picture best option assuming library mem operation efficient among memcpy symbol issue show object used criu parasite restorer code case since parasite restorer built pie form criu object shared code built twice pie form parasite restorer code normally criu binary addressing build issue implies work expected moment patch defining memcpy service building parasite code fix build issue ppc64 build issue addressed builtin_memcpy renamed memcpy used parasite restorer code definition removed signed laurent dufour ldufour signed pavel emelyanov xemul parallels.com,,
4958,6b83934e33793559789afbf38d0e1ed00f871c7a,avel Emelyanov <xemul@parallels.com>, 2015-10-05 21:55:00 +0300, , zdtm move towards new generation criu testing little bit stuff added change run zdtm.py run cgroup maps04 different_creds rtc run cgroups test need add .hook call maps04 enough ram disk fix different_creds need support crfail test option dump _must_ fail rtc plugins change since added exclusion option bugfix parallel run fixed root permission fixed check map dump fixed thread_bomb launch print test output support .checkskip script support feature fixed test list andrey thought signed pavel emelyanov xemul parallels.com acked andrew vagin avagin openvz.org,,
4959,9a3ae4aba1061b2a1dda37cd8d627951fe1f9d42,ndrey Vagin <avagin@openvz.org>, 2015-10-07 10:38:00 +0300, , fsnotify print error file opened signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4960,e23299b45a02f62d2cf28da95b7772f609313d71,ndrey Vagin <avagin@openvz.org>, 2015-10-06 23:28:00 +0300, , mount use absolute path pivot_root initialize sub mount namespace need use absolute path example change cwd signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4961,fd8e58841a573786ce7b9455058c18443a97bcff,ndrew Vagin <avagin@openvz.org>, 2015-10-05 16:11:00 +0300, , restore block sigchild sub process otherwise sigchld_handler call waitpid worry unknown process 00.333012 kernel hostname 00.333120 kernel domainname 00.335243 error restore.c 1225 bug restore.c 1225 use unitialized oldmask tycho andersen tycho.andersen canonical.com reported jenkins signed andrew vagin avagin openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4962,6a51c7eca9cef8eeb9c3898789370aacbca04c44,yrill Gorcunov <gorcunov@openvz.org>, 2015-10-01 11:00:00 +0300, , make allow install custom dirs way redefine install path custom one say plain usr fix using conditional inits reported andrew vagin avagin odin.com signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
4963,871da9a111479a2b53071e60bfc3263458873867,hristopher Covington <cov@codeaurora.org>, 2015-10-03 15:47:00 +0300, , pie give vdso symbol table local scope commit c2271198 laurent dufour kindly reunified vdso code become duplicated architecture unfortunately introduced regression aarch64 apparently due scope vdso_symbols array pointer character changing local global load time relocation became necessary following thread gcc mailing list discus load time relocation necessary pointer used although mention potential locally scoped array handled differently http gcc.gnu.org gcc 2004 msg01016.html alternative porting piegen aarch64 far involved simply revert change scope signed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
4964,627f9a9e5fd28e7878d795cfd6fd780efeb0b161,hristopher Covington <cov@codeaurora.org>, 2015-10-03 15:47:00 +0300, , aarch64 fix type recent vdso code reunification type changed pair necessary corresponding change omitted fix aarch64 build succeeds without type related warning turned error also move definition aarch64 specific header since currently used architecture signed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
4965,17d9c0f713cb52cb2a9d42071356b75db72bca2b,ycho Andersen <tycho.andersen@canonical.com>, 2015-10-02 07:55:00 +0300, , cgroup move task cgroup via usernsd task user namespace write cgroup task file 00.845068 error cgroup.c 901 move blkio lxc unpriv task permission denied let write task via usernsd signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4966,f79f4546cfc0aa1a0560bc5b5f6764520c0e4250,ycho Andersen <tycho.andersen@canonical.com>, 2015-10-02 06:48:00 +0300, , sysctl move sysctl call usernsd userns task write certain sysctl file 00.009653 error sysctl.c 142 open sysctl kernel hostname permission denied see inline comment detail affected namespaces mostly education required port something userns restorable ported sysctl stuff potential concern patch copying structure pointer around kind gory hoc may worth inventing mechanism make easier although sure exactly would look like potentially using protobuf bit investigate look helpful cgroup user namespaces port another issue great way return non stuff memory right userns_call one little hack code would simplified invented way coalesce individual struct sysctl_req request one big contiguous region memory pas via userns_call hopefully nobody find little ascii diagram offensive use fork setns trick change syctl value right ipc see inline comment detail use actually userns_call signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4967,6d52d6ee2164cb7709f2a4d28e1e91ea4e35d80e,ndrew Vagin <avagin@openvz.org>, 2015-10-01 14:50:00 +0300, , zdtm check test result static different_creds criu affect process state dump tycho andersen tycho.andersen canonical.com signed andrew vagin avagin openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4968,16923109c6b4272eacd179f2b715a4b0a7b9afac,ndrew Vagin <avagin@openvz.org>, 2015-10-01 17:22:00 +0300, , ptrace stop process stopped state fix one place reported pavel emelyanov xemul parallels.com tycho andersen tycho.andersen canonical.com acked tycho andersen tycho.andersen canonical.com signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4969,a973e6fcb34b05897d7a1325b9d5a6f465e18467,ndrew Vagin <avagin@openvz.org>, 2015-09-30 14:10:00 +0300, , net dump ipv6 route route dump dump ipv4 route reported ross boucher boucher gmail.com signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4970,3ffad59e2ed24e79d52ab65e511b0c7c8c9d15e5,yrill Gorcunov <gorcunov@openvz.org>, 2015-09-29 22:26:21 +0300,63, piegen allow compile piegen tool cross environment build piegen tool different compiler linker gcc simply run make hostcc host compiler hostld host make host compiler appropriate program needed http github.com xemul criu issue signed cyrill gorcunov gorcunov openvz.org reviewed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
4971,a755ece2f094d16590ed5f1a7193687173b44724,yrill Gorcunov <gorcunov@openvz.org>, 2015-09-29 22:26:20 +0300, , piegen use shorthand target signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4972,0516001f9175123ac7ae174a078faf4fe301bca4,yrill Gorcunov <gorcunov@openvz.org>, 2015-09-28 20:20:00 +0300, , restore report error write last pid failed signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4973,80b66ee15d4a7c3412ffcbac8a0ef8a6e1561b9e,avel Emelyanov <xemul@parallels.com>, 2015-09-29 17:19:00 +0300, , mnt include fake root entry every mnt tree entry required i.e restore stage tree _built_ case particular local tree collection restore need signed pavel emelyanov xemul parallels.com acked andrew vagin avagin odin.com,,
4974,e55236f586a543908ed5d5789d0379d7e6420439,avel Emelyanov <xemul@parallels.com>, 2015-09-29 17:18:00 +0300, , ghost fix one printing ghost path rfi path contain leading neither doe ghost rpath attaching root forget include one signed pavel emelyanov xemul parallels.com acked andrew vagin avagin odin.com,,
4975,97cb181cbc85b974849ccc4a47ab31b4296c9293,ycho Andersen <tycho.andersen@canonical.com>, 2015-09-28 18:00:00 +0300, , irmap leak irmap object irmap scan path use struct irmap directly irmap_path_opt signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
4976,6c62aa8a35d59a93559696d3920f0fd96363d21f,ndrey Vagin <avagin@openvz.org>, 2015-09-28 16:38:00 +0300, , page server wait socket closed external external socket used purpose reported adrian reber adrian lisas.de signed andrey vagin avagin openvz.org acked adrian reber adrian lisas.de signed pavel emelyanov xemul parallels.com,,
4977,baed9dd946453b1d2dd830d9975aed0d0c7d5706,ndrew Vagin <avagin@openvz.org>, 2015-09-25 14:02:00 +0300, , zdtm check restoring socket tcp_close state 00.004456 error inet.c 188 name resolved unconnected socket 00.004466 error dump.c 1255 dump file pid 7944 failed 00.004680 error dump.c 1617 dumping failed signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4978,ee6fbf7c2f60b273a88342dbea9239dfde9b91ae,avel Emelyanov <xemul@parallels.com>, 2015-09-24 19:41:00 +0300, , inet check supported protocol earlier try dump inet socket unsupported proto may fail strange error get_unconn_sk since socket found hash signed pavel emelyanov xemul parallels.com reported julian andres klode jak jak linux.org,,
4979,efa7dcf7c271e0ff7781541a5e1ef339e66cad7a,avel Emelyanov <xemul@parallels.com>, 2015-09-23 17:21:16 +0300, , ghost remove ghost file restore fails issue 18. restore fails ghost file remain remove know list path original file construct ghost name namespace ghost life latter keep restore task namespace hand till final stage setns kill ghost signed pavel emelyanov xemul parallels.com,,
4980,a7c9f3011ddd74054fceb18170f96b38be22430b,avel Emelyanov <xemul@parallels.com>, 2015-09-23 17:21:02 +0300, , mnt read mount image early mapping mount namespace required remove ghost restore failure signed pavel emelyanov xemul parallels.com,,
4981,b0e23c3d4fbac5a757b454fc3b6f9d0d1ceff853,avel Emelyanov <xemul@parallels.com>, 2015-09-23 17:20:50 +0300, , file collect ghost regilfes early info ghost presence path needed remove ghost thus needed criu signed pavel emelyanov xemul parallels.com,,
4982,4f7c8af0cb66660737dbe236aa34e2ec38d6e1a8,avel Emelyanov <xemul@parallels.com>, 2015-09-23 16:09:00 +0300, , remaps move code helper rename global list list used roll back link remap file dump plan use roll back ghost file restore clean code little bit towards change signed pavel emelyanov xemul parallels.com,,
4983,152222a6b7a95bbf3e917fc7328491be4446ec54,avel Emelyanov <xemul@parallels.com>, 2015-09-23 15:39:48 +0300, , remap sanitize ghost file path printing first avoid two memory copy printing root directly second remove extra argument create_ghost mnt_id value need found ghost_file object signed pavel emelyanov xemul parallels.com,,
4984,6cf77f67260a35c446d6b7b94b297b662c81de21,avel Emelyanov <xemul@parallels.com>, 2015-09-23 15:39:21 +0300, , remap rename field easier grep signed pavel emelyanov xemul parallels.com,,
4985,7ca6cc1eb232fd467006c732af615cafcaee8e42,avel Emelyanov <xemul@parallels.com>, 2015-09-21 14:12:16 +0300, , mnt clean root yard criu process root task restore root yard dir remains unrmdired since already know name remove one criu time get place sub mount namespace already dead yard dir empty umounting done task successfull restore keep depopulation signed pavel emelyanov xemul parallels.com,,
4986,3e7c92ed022f459a7a2d3f111e63329af22472d8,avel Emelyanov <xemul@parallels.com>, 2015-09-21 14:10:57 +0300, , mnt renames around root yard thing previous patch many generic clean_ fini_ prefix code need see next patch let specify exactly clean fini signed pavel emelyanov xemul parallels.com,,
4987,a180a75c7a867d2bf76ab01f7ea7bf90a04c97f5,avel Emelyanov <xemul@parallels.com>, 2015-09-21 14:09:11 +0300, , mnt uninline clean_mnt_ns get rid clean_something name many cleaner already signed pavel emelyanov xemul parallels.com,,
4988,c5c65fe17acf1a67943f0fed1b8f403718337c19,avel Emelyanov <xemul@parallels.com>, 2015-09-21 14:08:41 +0300, , mnt create root criu context case root task restore failure remove root yard dir criu create one criu least dit name criu since yard created opts.root mnt deal restore signed pavel emelyanov xemul parallels.com,,
4989,e3f5ba3c37d7bdea1c08bc06de5a95a4dcca6c0f,avel Emelyanov <xemul@parallels.com>, 2015-09-21 14:08:12 +0300, , prepare namespaces task already two thing criu namespaces forking init task start unsd keep netnsfd back reference next patch introduce 3rd action mount namespaces special pre call stuff signed pavel emelyanov xemul parallels.com,,
4990,9b3189fed1bd13cee01ff9a15b75cab0c6f6c845,avel Emelyanov <xemul@parallels.com>, 2015-09-22 14:50:20 +0300, , util add make_yard helper signed pavel emelyanov xemul parallels.com,,
4991,c5054f959d4fc768d0d642448fe585eab74047f5,avel Emelyanov <xemul@parallels.com>, 2015-09-22 14:49:46 +0300, , mnt factor external check validate_mounts signed pavel emelyanov xemul parallels.com,,
4992,4e0276340a021e73af0c3f86b03a101161a88ebf,avel Emelyanov <xemul@parallels.com>, 2015-09-22 14:49:19 +0300, , mnt rename collect_shared remove unused for_dump argument signed pavel emelyanov xemul parallels.com,,
4993,3dc209e21618ee4412a303155c922ff9153f3185,avel Emelyanov <xemul@parallels.com>, 2015-09-24 19:39:00 +0300, , print socket protocol searching signed pavel emelyanov xemul parallels.com,,
4994,cbf2c22d379222fc60be88c2299f12980e37da9f,ndrew Vagin <avagin@openvz.org>, 2015-09-25 14:08:57 +0300, , zdtm show error dump log signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4995,1a9f0b852bc549633c9b39f1c92394a2e490e65e,ndrew Vagin <avagin@openvz.org>, 2015-09-22 16:18:00 +0300, , net handle old new image number sysctls differ signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4996,e8e675bdd650041abac2ba6c6218718cf42a5772,yrill Gorcunov <gorcunov@openvz.org>, 2015-09-24 12:17:00 +0300, , seize add missing newline signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
4997,addd7f686a6eabb6a87a4318db3c75e569543fe5,avel Emelyanov <xemul@parallels.com>, 2015-09-23 18:15:00 +0300, , cgroup print cgroup value restored many complains error restoring cgroup prop print exact value restore _before_ successful restore signed pavel emelyanov xemul parallels.com,,
4998,bb45f832bf2537b3a63d156b1b2edaea9c72a08d,ndrew Vagin <avagin@openvz.org>, 2015-09-23 18:02:33 +0300, , superblock remounted root userns signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
4999,7ae72c651f082c042b32eb1808a96d060944be7a,ndrew Vagin <avagin@openvz.org>, 2015-09-22 14:07:00 +0300, , lib use uninitialized value cid 150397 memory illegal access uninit lib criu.c 696 690 691 return 692 693 err 694 my_path 695 free my_path cid 150397 memory illegal access uninit using uninitialized value 696 697 free 698 699 return enomem 700 701 signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5000,aab2d1e8fa2d5fcb877eed50886a38085947c26b,ndrew Vagin <avagin@openvz.org>, 2015-09-22 11:59:53 +0300, , zdtm check read tempfs mount signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5001,84cc1e12ac009b41395f1015202b1f90762abe06,ndrew Vagin <avagin@openvz.org>, 2015-09-22 11:59:52 +0300, , mount merge mnt flag one contains ms_rdonly reported tycho andersen tycho.andersen canonical.com signed andrew vagin avagin openvz.org tested tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5002,9353051ba78e425be6b748d94c1792c0b50a29e3,avel Emelyanov <xemul@parallels.com>, 2015-09-18 17:04:42 +0300, , check type type field actually make use type field remove getpid strange inconsistent check signed pavel emelyanov xemul parallels.com,,
5003,22b72566121b598cfb938d86a2b9136c1d410d9c,avel Emelyanov <xemul@parallels.com>, 2015-09-18 17:03:39 +0300, , introduce type may type namespace object criu criu one root task one others sometimes make sense differentiate weird way checking pid field getpid comparing root_item proposal mark ns_id object explicitly type field signed pavel emelyanov xemul parallels.com,,
5004,1c34b284f3fa1441aad37aebe22a535237c70023,avel Emelyanov <xemul@parallels.com>, 2015-09-18 15:48:00 +0300, , mnt move read_mntns_img populate routine need read tree earlier signed pavel emelyanov xemul parallels.com,,
5005,2847089378afe8160d2c814a458eeeb9b8e50631,avel Emelyanov <xemul@parallels.com>, 2015-09-18 12:17:46 +0300, , mnt reshuffle mntentries reading code signed pavel emelyanov xemul parallels.com,,
5006,c1a25fc1bd0dc415785835686e3e15b8e91d155e,avel Emelyanov <xemul@parallels.com>, 2015-09-18 12:17:09 +0300, , mnt add root resolving helper signed pavel emelyanov xemul parallels.com,,
5007,259374f6b1b8b5034c593a3a0b0350951317611d,avel Emelyanov <xemul@parallels.com>, 2015-09-18 12:16:34 +0300, , mnt add mountpoint resolving helper signed pavel emelyanov xemul parallels.com,,
5008,d7696a42b315df136b2f13fd3daeb831f9047ce1,avel Emelyanov <xemul@parallels.com>, 2015-09-18 11:41:00 +0300, , file enlighten rollback link remap routine unlink need lookup root signed pavel emelyanov xemul parallels.com,,
5009,85ebf0a83b2a1d1eada1989b33f3208b80507db9,ycho Andersen <tycho.andersen@canonical.com>, 2015-09-16 21:02:37 -0600, , usernsd also pas pid process made req use next patch correctly write sysctls signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5010,72ff44d0dc9a4e7ecf018a622dc247946eabb50d,ycho Andersen <tycho.andersen@canonical.com>, 2015-09-16 21:02:36 -0600, , usernsd move max_msg_size namespaces.h use size next patch avoid dynamic allocation call instead fix max_msg_size signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5011,459fb8b7da4f7e98d978701d500038407d4847fc,ndrew Vagin <avagin@openvz.org>, 2015-09-16 18:41:00 +0300, , zdtm run file_locks test simultaneously proc lock contains lock twice someone release lock reading file signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5012,0ee52669acfff797d66ec0bd9feea011fd8aa1fe,ndrey Vagin <avagin@openvz.org>, 2015-09-07 22:34:40 +0300, , zdtm check read bind mount signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5013,5cff834ae7c079093bc2a0fe10d1844209cd49da,ndrey Vagin <avagin@openvz.org>, 2015-09-07 23:09:45 +0300, , mount handle old image mnt option separated currently one common flag ms_readonly interpreted super block flag change old behaviour add comment signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5014,1174a2ad0fcecd666f2be6987c50663d45ddb6ce,ndrey Vagin <avagin@openvz.org>, 2015-09-11 16:55:00 +0300, , mount handle mnt_flags sb_flags separatly container ms_readonly flag one case read bind mount another case read super block set mnt one call mount posiable return comment deleted mistake fix sentense restoring mnt flag signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5015,b7d393ff633292c90f4d71e91002bef2db6ac4d9,ndrey Vagin <avagin@openvz.org>, 2015-09-07 22:34:39 +0300, , proc_parse search uid gid option opts signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5016,e9bb16265b513d832f6d3b10145b2a50d823efb4,avel Emelyanov <xemul@parallels.com>, 2015-09-16 16:17:42 +0300, , img add text known flag currently open flag reg file vma flag prot signed pavel emelyanov xemul parallels.com,,
5017,32d61ed6d4ee3531322a23e74998bb50bc90682f,avel Emelyanov <xemul@parallels.com>, 2015-09-16 16:17:17 +0300, , crit add ability code flag text flag known text description e.g flag file flag vma add ability show flag decoded form encode back binary signed pavel emelyanov xemul parallels.com,,
5018,d2b914dc1101a73db433cc5414f7484795e6f1d5,avel Emelyanov <xemul@parallels.com>, 2015-09-16 16:16:54 +0300, , core mark criu .hex signed pavel emelyanov xemul parallels.com,,
5019,d2f8f481c73d513cc31574d0662a734ab4999830,avel Emelyanov <xemul@parallels.com>, 2015-09-16 16:16:24 +0300, , crit introduce info action print information image file e.g statistical information right print magic number object written file signed pavel emelyanov xemul parallels.com,,
5020,e3f900f95429bc0447d8e3cff3cbb2e0a19f8d23,arcos Lilljedahl <marcosnils@gmail.com>, 2015-09-18 14:11:00 +0300, , remove multiple command validation cpuinfo requires criu cpuinfo dump check used command line validation kick command fail due required argument believe necessary anymore signed marcos lilljedahl marcosnils gmail.com signed pavel emelyanov xemul parallels.com,,
5021,4f2e4ab3be01ef8ff8c20205608370fbb8ee770d,ycho Andersen <tycho.andersen@canonical.com>, 2015-09-16 07:27:00 +0300, , irmap add irmap scan path option option allows user specify irmap path scan event path one hard coded hint signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5022,d3be641acdfc29174524252668029b2b52cb2046,ndrey Vagin <avagin@openvz.org>, 2015-09-11 18:35:00 +0300,28, cgroups get controller proc self cgroups controller disabled kernel option case shown proc cgroups could mounted enabled controller collected proc self cgroup http github.com xemul criu issue used separate controller tycho andersen tycho.andersen canonical.com reported ross boucher boucher gmail.com signed andrey vagin avagin openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5023,5db3f4c3371ddaee03bfeb3ed68b20815e54da33,yrill Gorcunov <gorcunov@openvz.org>, 2015-09-10 14:20:00 +0300, , mount add log_prefix convenient grep log mount related operation signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5024,6632b2a4fc5f5828217da36a0a5ad8e4596bb44a,yrill Gorcunov <gorcunov@openvz.org>, 2015-09-14 23:09:00 +0300, , criu require argument swrk mode otherwise hit nil dereference signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5025,fe946bf4eb59c26b331295f05869234006674c69,yrill Gorcunov <gorcunov@openvz.org>, 2015-09-14 17:08:00 +0300, , crtools fix potential nil dereference signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5026,355ae31fa3f46e55b203eebb890c12ffbc3024e0,ndrew Vagin <avagin@openvz.org>, 2015-09-16 14:23:00 +0300, , page xfer wait connection closed client side case time wait bucket created client side port allocated dinamically reported jenkins signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5027,fa66faec4d5c28d42f2d388d2a4000130fbeb65c,ndrey Vagin <avagin@openvz.org>, 2015-09-10 15:01:00 +0300, , zdtm different_creds return smth main reported mr. travis signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5028,f9d1bb507e6e069e31caf4db4fc82e1d11a7c0b2,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-09-09 17:07:52 +0200, , test ppc64 introduce vsx register test test specific ppc64 architecture checking content vsx register correctly checkpointed restored signed laurent dufour ldufour acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
5029,196727d7f9d35d1274a5cd7267c0a91f2e27a43a,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-09-09 17:07:51 +0200, , test remove powerpc architecture fix signed laurent dufour ldufour acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
5030,7b5c88f35fd687f9c51e12d075fd025533e21ad5,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-09-09 17:07:50 +0200, , zdtm fpu mmx sse test x86 specific following test failing run ppc64 designed x86 architecture moving x86 test list signed laurent dufour ldufour acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
5031,09023677c0005baab55e776cdaed344a8ebf1396,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-09-08 12:43:00 +0300, , ppc64 fix checkpoint leave running commit ba7435095417 introduces support altivec vsx support breaking checkpoint leave running root cause address altivec vsx register signal frame computed stack context checkpointed process patch fix issue designed update signal frame based remote address fix ba7435095417 ppc64 add altivec vsx support reported andrey vagin avagin openvz.org signed laurent dufour ldufour tested andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5032,a99d47e0320d7a00bc78004351acbd26bdba62a4,ndrew Vagin <avagin@openvz.org>, 2015-09-09 19:10:00 +0300,6, zdtm use pthread_create create thread call clone directly responsible setting area abrt cli grep different_creds  gdb var spool abrt ccpp 2015 8014 coredump different_creds core generated different_creds pidfile outfile program terminated signal sigill illegal instruction lib64 linux x86 64.so.2 missing separate debuginfos use dnf debuginfo install glibc 2.21 7.fc22.x86_64 libattr 2.4.47 9.fc22.x86_64 libcap 2.24 7.fc22.x86_64 gdb lib64 linux x86 64.so.2 _dl_fixup lib64 linux x86 64.so.2 lib64 linux x86 64.so.2 sys_futex val3 uaddr2 0x0 timeout 0x0 val uaddr 0x6063f0 sig_received lock.h 0x6063f0 sig_received lock.h 121 test_waitsig test.c 367 main argc optimized argv 0x7ffce16432f8 reported jenkins tycho andersen tycho.andersen canonical.com signed andrew vagin avagin openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5033,46f9285e81a0bf573b522040efa04aa942cb3f7f,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-09-03 16:26:31 +0200, , ppc64 vdso fixing debug trace missing pavel emelyanov xemul parallels.com signed laurent dufour ldufour signed pavel emelyanov xemul parallels.com,,
5034,7f01d691c7d46b8621095ef27586cdd7314edb0d,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-09-03 16:26:30 +0200, , vdso rework vdso processing file multiple copy code spread different architecture handling vdso patch merging duplicated code arch vdso pie.c arch include asm vdso.h common file let architecture specific part arch file file organized way include asm generic vdso.h contains basic definition could overwritten architecture arch include asm vdso.h contains per architecture definition may includes include asm generic vdso.h pie util vdso.c include util vdso.h file contains code definition common criu parasite code file include util vdso.h includes arch include asm vdso.h pie parsite vdso.c include parasite vdso.h contains code definition specific parasite code handling vdso file include parasite vdso.h includes include util vdso.h arch vdso pie.c contains architecture specific code installing vdso trampoline vdso.c include vdso.h contains code definition specific criu code handling vdso file include vdso.h includes include util vdso.h christopher covington cov codeaurora.org pavel emelyanov xemul parallels.com signed laurent dufour ldufour acked cyrill gorcunov gorcunov gmail.com signed pavel emelyanov xemul parallels.com,,
5035,6eaa4e92bf0c9965d66672d525163c7c9ea6dc1b,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-09-03 16:26:29 +0200, , vdso merge per arch vdso.c file common one merge arch vdso.c file vdso.c merge done copying arch x86 vdso.c vdso.c since contains patch a67e9f7bb930 vdso play function exit code commit f9ae6d9dd4e4 replace remaining hard coded task_size use pushed aarch64 replicated since cross platform christopher covington cov codeaurora.org pavel emelyanov xemul parallels.com signed laurent dufour ldufour acked cyrill gorcunov gorcunov gmail.com signed pavel emelyanov xemul parallels.com,,
5036,94807751aa02263d10f376676a833c22440ef1dc,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-09-03 16:26:28 +0200, , ppc64 fix pie makefile building without vdso support powerpc good idea build failing file included build fix move file inclusion outside vdso directive pavel emelyanov xemul parallels.com signed laurent dufour ldufour acked cyrill gorcunov gorcunov gmail.com signed pavel emelyanov xemul parallels.com,,
5037,7f44f1dbf9935582a21e8b1f24a5b4396f2c3795,ycho Andersen <tycho.andersen@canonical.com>, 2015-09-04 21:14:17 -0600, , irmap hardcode interesting path ubuntu wily path inotify various daemon watch well signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5038,1a135c48efd26620cbd7fe69fba9e84d654bb120,yrill Gorcunov <gorcunov@openvz.org>, 2015-09-07 12:29:00 +0300, , doc add freeze cgroup update ext unix signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5039,68923c974b54366bca7c4ba4d26c50f4e37bc8d7,ndrey Vagin <avagin@openvz.org>, 2015-09-07 10:03:00 +0300, , test static test nothing test_daemon reported jenkins signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5040,644c7659e92328ded74fe075e5fe4da1e1c7dcde,yrill Gorcunov <gorcunov@openvz.org>, 2015-09-05 17:48:00 +0300, , kerndat tcp_max_rshare shrink default size commit 664659a0 defined max possible value tcp queue low memory machine machinese whith custom limit set via sysctl trick work well time fetch allowed value proc sys net ipv4 tcp_ wmem rmem might simply missing environment run let stick really small value got kernel source code instead failing would able restore bit slower usual signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5041,64cf10f88e209bdd5eaad8d7e53e11f753ba83f1,yrill Gorcunov <gorcunov@openvz.org>, 2015-09-03 13:05:13 +0300, , mount mnt_depth make unsigned signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5042,f21dfadfe42b932166cab348f427811d8b52dc54,yrill Gorcunov <gorcunov@openvz.org>, 2015-09-03 13:05:11 +0300, , mount rework message signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5043,795267940c2ca0e5cf9ae77a88d1dd12939968f3,yrill Gorcunov <gorcunov@openvz.org>, 2015-09-03 13:05:10 +0300, , mount rename parent function big short signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5044,f1e8a9ce6b667cd5d234f329e61975645652f1b5,avel Emelyanov <xemul@parallels.com>, 2015-09-07 12:04:15 +0300, , criu version 1.7 quite lot new stuff time flexibility cgroup management code story far library crit command line preparation x66 32bit also helped ppc port freezer cgroup filannly found place code also first cve found lot bug fixed plan 1.8 cgroups secured container bugfixes x86 32bit tempting signed pavel emelyanov xemul parallels.com,,
5045,a85b54ab54d77fd8cfbd7aef7091e4510b2226d5,yrill Gorcunov <gorcunov@openvz.org>, 2015-09-04 20:37:00 +0300, , zdtm fix building _bsd_source redefinition travis testing engine complained _bsd_source case build environment anyway let safe thing conditional definition signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5046,eb02c8c1fda3c8927175bd632365b29adcc0bd41,yrill Gorcunov <gorcunov@openvz.org>, 2015-09-04 16:43:00 +0300, , test file_locks use device mountinfo btrfs btrfs device numbering scheme let trick close one criu mangle device match mountinfo output signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
5047,954ba48d1d94dc65b2b6915f29bddb684d04ebf8,yrill Gorcunov <gorcunov@openvz.org>, 2015-09-04 13:22:29 +0300, , zdtm add filesystem specific helper particular find running btrfs filesystem proper device number mangling signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
5048,ec31527be1ce9f0a722f1cba70d489ae08bcf634,ndrey Vagin <avagin@openvz.org>, 2015-09-04 18:44:00 +0300, , jenkins include criu lib.sh call prep signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5049,50d4d073670582e4caba56e6a6b632e593730df9,ndrey Vagin <avagin@openvz.org>, 2015-09-04 15:30:00 +0300, , netlink increase receive buffer size currently buffer size 4096. always work use host page_size 4096. powerpc64 bigger page_size comment kernel code  skb fit one page choice good headerless malloc limit userspace doe use enormous buffer size recvmsg call avoid msg_trunc page_size large  set buffer size 16384 max length recvmsg case need iteration collect data perfomance better signed andrey vagin avagin openvz.org laurent dufour ldufour signed pavel emelyanov xemul parallels.com,,
5050,675a84fbc93305bc61f5cd811239eb5e5c9477ec,yrill Gorcunov <gorcunov@openvz.org>, 2015-09-03 13:05:14 +0300, , mount rename get_widest_peer lookup shared entry find widest signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5051,f7d550323b870bbf03f8c8def31a1beabf11a585,yrill Gorcunov <gorcunov@openvz.org>, 2015-09-03 13:05:08 +0300, , mount fix comment style use c99 comment signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5052,2971fb187f7abf9011f09044f1bbb3a7f661c65d,ndrey Vagin <avagin@openvz.org>, 2015-09-04 16:17:00 +0300, , jenkins add script execute test powerpc signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5053,f20dfbdd952bddbae6fd0f1df271cd0550c255b3,ndrew Vagin <avagin@openvz.org>, 2015-09-04 16:10:24 +0300, , zdtm skip linux vdso64.so new root contructed signed andrey vagin avagin openvz.org acked laurent dufour ldufour signed pavel emelyanov xemul parallels.com,,
5054,edd552619ea0fd99f5efd51256fff8532d463dd6,ndrew Vagin <avagin@openvz.org>, 2015-09-04 16:10:23 +0300, , zdtm fix compilation powerpc signed andrey vagin avagin openvz.org acked laurent dufour ldufour signed pavel emelyanov xemul parallels.com,,
5055,eb6dcc40706914591ea1b554332ca11e20764379,yrill Gorcunov <gorcunov@openvz.org>, 2015-09-02 15:57:00 +0300, , mount fix restore deleted bindmounts regfiles make sure exist using o_excl forget close reported pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5056,92fcb8691b5b5986f57aa43da5c640f2b80d2638,avel Emelyanov <xemul@parallels.com>, 2015-09-02 15:53:31 +0300, , fix compilation previous commit signed pavel emelyanov xemul parallels.com,,
5057,19dbe25918d5e61f60de498d380e5c25123c9fa3,ui Kang <hkang.sunysb@gmail.com>, 2015-08-30 06:36:00 +0300, , skip root cgroup directory restoring manage cgroup full signed hui kang hkang.sunysb gmail.com signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5058,911bb682835cde01efde41f102975afd8846bd28,yrill Gorcunov <gorcunov@openvz.org>, 2015-08-26 17:15:00 +0300, , test mntns_deleted add bindmount regular file signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5059,d27f5391d5654e13bfaab2a0f090fb78f4be0afa,yrill Gorcunov <gorcunov@openvz.org>, 2015-08-26 17:07:31 +0300, , mount handle deleted bindmounts regular file deleted bindmount file restored creating temp file kernel permit mix bindmount term file dir relationship either source target file directory thus call stat target figure kind source even deleted entry better use permission target stat call make result close would look program checkpointed reported andrey wagin avagin gmail.com signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5060,bee835ebeb3173ede20a2db601ffac28165cc72a,ndrew Vagin <avagin@openvz.org>, 2015-09-02 11:07:00 +0300, , zdtm file_locks01 fix testing device reported jenkins signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5061,4b0c0c5828005de76629df999d22099366b08b49,ndrey Vagin <avagin@openvz.org>, 2015-09-01 14:15:00 +0300, , zdtm file_locks03 use pipe synchronization reported jenkins signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5062,2ce6a6a2aff20e2498b64f2229ca7f299f8fc886,ndrew Vagin <avagin@openvz.org>, 2015-08-25 17:24:00 +0300, , file_locks02 use pipe synchronization signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5063,f2bc172f67e83f99cafa59e866f2c312cb5b6b56,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-08-26 16:41:00 +0300, , ppc64 fixing build issue commit 69d008d56788 use run time page_size mremap introduces use dynamic page size rst malloc.c commit also add include unistd.h arch aarch64 include asm page.h allow build succeed architecture since ppc64 also using way deal page size include required arch ppc64 include asm page.h signed laurent dufour ldufour christopher covington cov codeaurora.org reviewed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
5064,83f79c7e8ccd4e8735c39d0d010fca7d02814001,ndrey Vagin <avagin@openvz.org>, 2015-09-01 10:47:30 +0300, , ptrace print error code ptrace_detach cid 139494 error handling issue checked_return signed pavel emelyanov xemul parallels.com,,
5065,35ec944304c0b3ac6f7449b252314622041f8ea4,ndrey Vagin <avagin@openvz.org>, 2015-09-01 10:47:29 +0300, , file reserve one byte string buffer null byte cid 139492 memory illegal access signed pavel emelyanov xemul parallels.com,,
5066,f62fd6170927d881db4133017b558049d45a3eac,ndrey Vagin <avagin@openvz.org>, 2015-09-01 10:47:28 +0300, , seize fix used free case cid 139496 memory illegal access use_after_free signed pavel emelyanov xemul parallels.com,,
5067,8189eda7b98022a00c7a372c13801651fcf067b6,ndrew Vagin <avagin@openvz.org>, 2015-08-24 21:07:00 +0300, , zdtm file_locks1 compare device addition inodes see two equal inode number differen device reason test failed 12491 12495 12496 posix advisory write 12468 eof posix advisory read 12421 eof posix advisory write 16285 eof flock msnfs read 12496 eof flock advisory write 12495 eof flock advisory read 12491 eof posix advisory write 16280 eof posix advisory write 12677 eof flock advisory write 12520 eof flock advisory write 12495 eof signed andrew vagin avagin openvz.org signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5068,439de67a4bdc58e5634cd4d983b906aeaf4313e6,ndrey Vagin <avagin@openvz.org>, 2015-08-24 01:26:27 +0300, , test rpc use shell_job option required signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5069,5075f278f63fa0e4c5c66a66c18e4e35c0956af3,ndrey Vagin <avagin@openvz.org>, 2015-08-24 01:26:26 +0300, , test rpc call null signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5070,bba4000c40a8cb1e7535a0e7a244975bd3b3d4fd,ndrey Vagin <avagin@openvz.org>, 2015-08-24 01:26:25 +0300, , test rpc import errno module signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5071,31475ffa6dd9bcfa586bb97cf867f4851aa25043,ndrey Vagin <avagin@openvz.org>, 2015-08-24 01:26:24 +0300, , test rpc track change criu binary signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5072,f837310e135c5b69b3d097dc439579f60f2c4818,ndrey Vagin <avagin@openvz.org>, 2015-08-24 01:26:23 +0300, , zdtm fdt_shared wait child finish preparation stage reported jenkins signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5073,e6e56a629451c43ceaddd2817c7de023ed0f8e1f,yrill Gorcunov <gorcunov@openvz.org>, 2015-08-17 23:09:49 +0300, , test mount add simple testcase deleted bindmounts signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5074,80ef8fd2fbd55419dc1aca824b2bfb06e39ff874,yrill Gorcunov <gorcunov@openvz.org>, 2015-08-17 23:09:48 +0300, , mount handle deleted bindmounts handle deleted bindmounts simply create former directory bindmount lived mount target remove directory back sake add deleted entry image signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5075,60f6ec7dd64db458ace3cc15545693a96d6c7adf,yrill Gorcunov <gorcunov@openvz.org>, 2015-08-17 23:09:47 +0300, , file reg rework strip_deleted helper make handle postfix return non zero code stipping happened signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5076,4f8f97e0bdd538f6310eaa9494f51e9cbe0db953,yrill Gorcunov <gorcunov@openvz.org>, 2015-08-17 23:09:46 +0300, , mount mount_info drop unused is_file signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5077,311e927b5c8cf223598d2bdf184dbd8d459e6015,ndrey Vagin <avagin@openvz.org>, 2015-08-19 02:50:11 +0300, , test execute test new session main reason execute test without control termnal avoid case test try use shell job option signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5078,ad80227a37c43da9d6cce18c1025e1480b93b0b5,ndrey Vagin <avagin@openvz.org>, 2015-08-19 02:50:10 +0300, , test mem snap wait util zdtm test stopped checking result reported jenkins signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5079,0ac4c13e600db83d40b283296e8b8b011ccaf675,ycho Andersen <tycho.andersen@canonical.com>, 2015-08-13 16:58:49 -0600, , fix typo signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5080,40ed330c88df32b6126a57acf4da3c37220eaf6f,yrill Gorcunov <gorcunov@openvz.org>, 2015-08-14 22:45:00 +0300, , kcmp stop showing tree useless least form present unreadable anyway stop welling log signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5081,db70a415ed0b4d78a2dacb12084cee696a12cd1a,yrill Gorcunov <gorcunov@openvz.org>, 2015-08-17 14:46:00 +0300, , mount propagate_mount add brace signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5082,91a82fde716a65fed2d83be6d2d0cf3286f043c7,aied Kazemi <saied@google.com>, 2015-08-17 23:40:00 +0300, , add overlayfs support docker_cr.sh main purpose patch add overlayfs support docker_cr.sh external checkpoint restore also doe bit cleaning minor enhancement signed saied kazemi saied google.com signed pavel emelyanov xemul parallels.com,,
5083,5c18267ddf798b4cf5625d0d9fc809770273f6f4,yrill Gorcunov <gorcunov@openvz.org>, 2015-08-11 17:18:11 +0300, , proc parse fix line merging seems typo signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5084,8c9e15560a860a64163b04337b85ea49a3291382,yrill Gorcunov <gorcunov@openvz.org>, 2015-08-11 17:18:10 +0300, , mount shrink signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5085,69657701c4320a97a184c2a21ee6483f7bd74818,yrill Gorcunov <gorcunov@openvz.org>, 2015-08-11 17:18:09 +0300, , mount overlayfs shift code left also use is_root_mount helper instead opencoded strcmp mountpoint error code err_ptr signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5086,8603ae77f8e69189e5a5e5e38758b17889327039,yrill Gorcunov <gorcunov@openvz.org>, 2015-08-11 17:18:08 +0300, , mount shrink mnt_entry_free bit signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5087,3ae67d7b3a6fd8a5093cbda5d0c3db29cc8f9769,yrill Gorcunov <gorcunov@openvz.org>, 2015-08-11 17:18:07 +0300, , mount move mount_info ext_mount mount.h quite unclean structure life proc_parse.h fill structure procfs read real handling inside mount.c move appropriate time ext_mount structure moved header well sane list name used instead signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5088,291e632e60ae28ce63634387cd5cc9e26e34e884,yrill Gorcunov <gorcunov@openvz.org>, 2015-08-11 17:18:06 +0300, , mount reorder declaration gather structs top extern var signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5089,17dc1fea5711d32d98057cddcb3745165154dcf9,yrill Gorcunov <gorcunov@openvz.org>, 2015-08-11 17:18:05 +0300, , mount align member mount_info way easier reading signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5090,4cf4acc5984acf582a1f19ea4142dd890d10f3c8,konyashkin <vkonyashkin@parallels.com>, 2015-08-11 18:07:00 +0300, , criu test necessary align data use movaps command necessary align date operand movaps command must aligned byte 128 bit version boundary general protection exception generated signed vkonyashkin vkonyashkin parallels.com acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
5091,1f97db8a0b008c0d49857f4fc3c5f84411d5d4f9,ndrew Vagin <avagin@openvz.org>, 2015-08-12 11:51:00 +0300, , overlayfs use shell job option jenkins run test new session without control terminal signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5092,80866756251d7c07b2b19b4a6d81a4c366ae2b21,ndrew Vagin <avagin@openvz.org>, 2015-08-10 18:26:00 +0300, , test rpc compile test fix 94928cf85d81 test rpc include unistd.h signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5093,61d00a140c767e2b6af4f27829478f289c8a81f3,yrill Gorcunov <gorcunov@openvz.org>, 2015-08-10 17:20:51 +0300, , service add ghost limit setting request signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5094,c5d485c94b3e9d59047fc009569f71aec79b7081,yrill Gorcunov <gorcunov@openvz.org>, 2015-08-10 17:20:50 +0300, , lib add helper setup ghost limit signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5095,7c98cb37ad1bc4ed14a89f88a4df7dc3da0f5c42,yrill Gorcunov <gorcunov@openvz.org>, 2015-08-10 17:20:49 +0300, , protobuf rpc add ghost_limit option signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5096,ced8f884019c4f6a7670cdfa9375141aaaa40661,yrill Gorcunov <gorcunov@openvz.org>, 2015-08-10 12:44:03 +0300, , opts allo specify maximum size ghost file example hit case systemd carry journal file size http jira.sw.ru browse psbm 38571 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5097,1bdb8298d05e382bc6f78c24c3d80e571dd941ed,yrill Gorcunov <gorcunov@openvz.org>, 2015-08-10 12:44:02 +0300, , util fix mega giga typo signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5098,1676c86d7d98be7fc187775af9580967a39188f0,ndrey Vagin <avagin@openvz.org>, 2015-08-10 14:28:16 +0300, , zdtm.sh add ability use freezer cgroup allows freeze process faster signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5099,8ea020388ee75b8a22f57589c8eac7156dd176cb,ndrey Vagin <avagin@openvz.org>, 2015-08-10 14:28:17 +0300, , dump use freezer cgroup seize process without using freezer cgroup need iteration catch task new task born new task appear faster criu collect criu fails freezer cgroup allows solve problem freeze freezer group attache task ptrace thaw freezer cgroup suppose task going dumped specified freezer group fix comment christopher reviewed christopher covington cov codeaurora.org refactor task_seize fix comment pavel christopher covington cov codeaurora.org signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5100,69b093add17086786a411caa521fd0cac1517518,ndrew Vagin <avagin@openvz.org>, 2015-08-10 12:31:00 +0300, , seize set cr_errno collect_pstree cr_errno called open_pid_proc called root task exist reported jenkins fix b9b0730cb12e ptrace split task_seize seize_wait_task signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5101,94928cf85d8199fe90f5da5ec939a609b7c33906,ndrew Vagin <avagin@openvz.org>, 2015-08-10 14:37:00 +0300, , test rpc include unistd.h gcc test.c test.c function recv_respâ test.c warning implicit declaration function readâ wimplicit function declaration len read socket_fd buf max_msg_size  test.c function send_reqâ test.c warning implicit declaration function writeâ wimplicit function declaration write socket_fd buf len  test.c function mainâ test.c 165 warning implicit declaration function closeâ wimplicit function declaration close reported jenkins signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5102,4a895813ae8bc6420fd1eec2455434fd0f7abf9b,avel Emelyanov <xemul@parallels.com>, 2015-08-07 15:03:43 +0300, , ptrace fix compilation prev patch signed pavel emelyanov xemul parallels.com,,
5103,e0bc24ec9720ae9ab9320fd299ff9123d4773a8e,ndrey Vagin <avagin@openvz.org>, 2015-07-20 12:34:17 +0300, , zdmt enable tmpfs test signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5104,8fd50f35b94b66f9378f7829e2a5d93e0d436440,ndrey Vagin <avagin@openvz.org>, 2015-07-20 12:34:16 +0300, , dump dump tmpfs target userns required dump uid gid userns signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5105,011231af3bdfddc9ab82904b382336f0376efa7e,ndrey Vagin <avagin@openvz.org>, 2015-07-20 12:34:15 +0300, , util add ability execute program specified userns required dumping tmpfs use tar save content need execute tar proper userns get right uid gid file signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5106,9a8ca1cfff652028c5e94497743d502b08a5d849,ndrey Vagin <avagin@openvz.org>, 2015-07-20 12:34:14 +0300, , mount convert uid gid property according userns uid gid shown init userns going restore mount target userns need set option target userns signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5107,aabba6b20c6d2a40e1954440342ee60899b11afc,abriel Guimaraes <gabriellimaguimaraes@gmail.com>, 2015-07-29 21:24:40 +0000, , adding overlay bug test test check overlayfs fixup criu work correctly dumping restoring process open file overlayfs mounted directory work matter kernel overlayfs bug signed gabriel guimaraes gmail.com signed pavel emelyanov xemul parallels.com,,
5108,dbaab31f31173d9f83cbf2a391d0dbea8037d5c4,abriel Guimaraes <gabriellimaguimaraes@gmail.com>, 2015-07-24 21:15:28 +0000, , workaround overlayfs bug present kernel 4.2 support linux kernel version 3.18 4.2. workaround needed anymore work properly kernel without bug bug process file open overlayfs directory information proc pid proc pid fdinfo wrong grab information mountinfo table instead done every time fill_fdlink called first check see mnt_id st_dev number currently match entry mountinfo table already correct mnt_id fixup needed proceed see overlayfs mounted directory mountinfo table concatenate mountpoint name file stat resulting path check found correct device node number case update mount link variable correct value signed gabriel guimaraes gmail.com signed pavel emelyanov xemul parallels.com,,
5109,b9b0730cb12e1450b5c2e1e481ba7b037dc72f48,ndrey Vagin <avagin@openvz.org>, 2015-08-06 12:37:27 +0300, , ptrace split task_seize seize_wait_task preparation use freezer cgroup freezing task signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5110,46e8aeed1213dbab8791bdcb964462e1c41ba3d9,uslan Kuprieiev <rkuprieiev@cloudlinux.com>, 2015-08-06 15:39:00 +0300, , rpc add constant cgroups mode signed ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul parallels.com,,
5111,22378ea3bc749a33e0fc4b4fdfdeea5fa1c26bfd,avel Emelyanov <xemul@parallels.com>, 2015-08-06 15:00:34 +0300, , service fix compilation prev patch signed pavel emelyanov xemul parallels.com,,
5112,2f172c8b24a6c0da424c464cd739e8c9eec27068,ndrey Vagin <avagin@openvz.org>, 2015-08-06 12:37:26 +0300, , crtools split dump.c two file signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5113,3d1e8c688347a1b0ed062197eb4e640f85f75660,ui Kang <hkang.sunysb@gmail.com>, 2015-08-05 21:02:00 +0300, , enable manage cgroup mode criu service signed hui kang hkang.sunysb gmail.com look good ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5114,231b61d692872b170dce1f468af1044271fb6476,ndrey Vagin <avagin@openvz.org>, 2015-08-05 18:32:57 +0300, , zdtm skip userns test case currently skip userns test criu check fails code written freature option criu check exist currently add userns test criu check feature userns pass signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5115,7bda5bd64931066243489fc70358e45cadaeb641,yrill Gorcunov <gorcunov@openvz.org>, 2015-08-04 12:29:00 +0300, , unix fix memory leak error path dynamically allocated name release error happened cid 129898 resource_leak unix.c 505 unix.c 509 unix.c 519 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5116,098e3a2f8fcf17877d00641d58fa3ffeb34e7988,ndrey Vagin <avagin@openvz.org>, 2015-08-03 10:23:14 +0300, , zdtm replace sockets03 mostly first one check nothing  remove sockets03 makefile signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5117,c674906f6972ddf6cdd8b664c8c3aec34231b1be,ndrey Vagin <avagin@openvz.org>, 2015-08-03 08:27:44 +0300, , unix queuer set peer going restore data peer anyway wrong need restore message sender address signed andrey vagin avagin openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5118,bbc2cbc4191815085d5093c5ba26024ba0c9716a,ndrey Vagin <avagin@openvz.org>, 2015-08-03 08:27:43 +0300, , zdtm check data unix dgram socket restored correctly signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5119,6ae3539f4cc40b2e23b2d2956064e2db364a20e7,ndrey Vagin <avagin@openvz.org>, 2015-08-03 08:27:42 +0300, , zdtm check sender address restored signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5120,528cbe3705029f026a23f0f03a6bef510187a9d9,ndrey Vagin <avagin@openvz.org>, 2015-08-03 08:27:41 +0300, , zdtm check one end socketpair data test fails currently data restored remove test execution list signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5121,f9ae6d9dd4e4a1f4bc6db7f9e9d552ee7fa175a0,hristopher Covington <cov@codeaurora.org>, 2015-07-31 10:36:27 -0400, , replace remaining hard coded task_size use want one criu binary work across aarch64 kernel configuration single task size value hard coded trivial application successfully checkpoint restore aarch64 kernel without patch replacing remaining use hard coded value seems like best way guard failure complex process tree future may expose signed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
5122,1438f013a2ac70ca5b9b80c44f5b6cda65a30eac,hristopher Covington <cov@codeaurora.org>, 2015-07-31 10:36:26 -0400, , pas task_size want one criu binary work across aarch64 kernel configuration single task size value hard coded since used restorer blob code non restorer blob code must use different variable recording task size make task_size function argument modify call site accordingly fix following error aarch64 kernel  pie error pie restorer.c 929 restore 0x3ffb7e70000 mapping pie ith signed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
5123,7451fc7d2385fcebdbd907ecda903f087c8e7273,hristopher Covington <cov@codeaurora.org>, 2015-07-31 10:36:25 -0400, , restorer replace hard coded task_size use want one criu binary work across aarch64 kernel configuration single task size value hard coded fix following error aarch64 kernel  pie error pie restorer.c 772 unable unmap 1211695104 signed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
5124,c0c0546c31e6df4932669f4740197bb830a24c8d,hristopher Covington <cov@codeaurora.org>, 2015-07-31 10:36:24 -0400, , kerndat introduce task_size variable want one criu binary work across aarch64 kernel configuration single task size value hard coded signed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
5125,f13ec96e58688614f732422e67ed34231b58e2ba,ndrew Vagin <avagin@openvz.org>, 2015-08-03 14:37:00 +0300,13, restore fix race calculation number zombie currently task subtracts number zombie task_entries nr_threads without lock two task operation concurrently result may unpredictable http github.com xemul criu issue tycho andersen tycho.andersen canonical.com signed andrew vagin avagin openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5126,9d9518b85254d5232df9f97c04730d07fc4ff118,uslan Kuprieiev <rkuprieiev@cloudlinux.com>, 2015-08-01 15:13:46 -0400, , gitignore ignore binary test libcriu signed ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul parallels.com,,
5127,df6b76f9e87c56ad77f5bb78caf0bcb0f93eb5ad,uslan Kuprieiev <rkuprieiev@cloudlinux.com>, 2015-08-01 15:13:45 -0400, , gitignore ignore pie piegen piegen signed ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul parallels.com,,
5128,7e413b07713573e5307d3c8a2a92d5c7c0e111a6,ndrey Vagin <avagin@openvz.org>, 2015-07-31 22:23:00 +0300, , socket remove unused code signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5129,b652b061243b2662c9b1a74f4cd063299387d40c,uslan Kuprieiev <rkuprieiev@cloudlinux.com>, 2015-07-31 15:57:00 +0300, , libcriu hide struct criu_opts user use directly anyway use criu_set fucntions signed ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul parallels.com,,
5130,8ef257724f2b08ef603c399069066819a114263f,avel Emelyanov <xemul@parallels.com>, 2015-07-30 19:30:00 +0300, , doc remove deprecated option signed pavel emelyanov xemul parallels.com,,
5131,2143d7e9cae30aa00a51a19f561a19a5a12828fa,yrill Gorcunov <gorcunov@openvz.org>, 2015-07-30 22:53:00 +0300, , unix fix name resolving nested mount point case socket cwd lay nested mount point might resolve path bit incorrectly helper obtain path leading dot thus send path without leading dot correct name resolving also add error message signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5132,7a6e97b09634767b401a15eef5837c03a8559c1c,yrill Gorcunov <gorcunov@openvz.org>, 2015-07-30 22:53:00 +0300, , unix add verbosity error path signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5133,5f985fbabcd87164afce59e2d8bd76b31737c8e9,uslan Kuprieiev <rkuprieiev@cloudlinux.com>, 2015-07-30 16:40:22 -0400, , libcriu introduce criu_comm_bin mode libcriu execute criu binary swrk mode user always obliged run criu service daemon signed ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul parallels.com,,
5134,7f56602d09a99a97a65410269270ed32e570eb95,uslan Kuprieiev <rkuprieiev@cloudlinux.com>, 2015-07-30 16:40:21 -0400, , libcriu move swrk launching code restore_child swrk_connect signed ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul parallels.com,,
5135,9adbbcce7fdc9afa99095f9fd2855974295c92f6,uslan Kuprieiev <rkuprieiev@cloudlinux.com>, 2015-07-30 16:40:20 -0400, , libcriu forget set errno signed ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul parallels.com,,
5136,4c5b23e52c1dc4e3fbbc7472b92e7b1ce9d22f02,Ã©dric Bosdonnat <cbosdonnat@suse.com>, 2015-07-30 18:44:00 +0300, , fix criu.pc version use crtoolsversion instead gitid write criu.pc version gitid criu.pc version built tarballs signed dric bosdonnat cbosdonnat suse.com acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5137,cab42bca655a9f1b32c27c24e41d5e4570f4155d,yrill Gorcunov <gorcunov@openvz.org>, 2015-07-30 01:10:00 +0300, , x86 sigframe forget copy make sure pas trash value kernel doe copy explicitly allocate memory frame zero filled stack segment special zero acceptable discussion lkml need special handling zero end new kernel need new criu version upon agreed finally commit 296bbf7e3 managed hit exactly problem reported andrey wagin avagin gmail.com signed cyrill gorcunov gorcunov openvz.org acked andrey wagin avagin gmail.com signed pavel emelyanov xemul parallels.com,,
5138,3e0b09b1b5c78372480f0e01e4ffe12c23d448ab,yrill Gorcunov <gorcunov@openvz.org>, 2015-07-29 18:17:53 +0300, , unix protobuf use string type instead bytestream signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5139,48dbef3ecc2cd6b8b92dd0b1b3a70c22b14df767,yrill Gorcunov <gorcunov@openvz.org>, 2015-07-29 18:17:52 +0300, , unix defer lookup required signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5140,bb9f7cffa9dde8f6c514f79b35e14d598a399e96,hristopher Covington <cov@codeaurora.org>, 2015-07-28 19:49:00 +0300, , pie formatting typo fix also remove cast pointer void variable type already signed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
5141,f377dade94edd7ff35f8f1e99fbb540f214d55e9,yrill Gorcunov <gorcunov@openvz.org>, 2015-07-28 14:56:00 +0300, , proc align data parse_mnt_flags parse_sb_opt make readable signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5142,d50cd344d02e78dbe07d3ef93e8806be7902bcfe,rtem Kuzmitskiy <artem.kuzmitskiy@lge.com>, 2015-07-29 14:05:52 +0300, , add test dumping restoring unnamed unix socket added test dumping restoring unnamed unix socket also test added test makefile use make run launch cleanup env call run.sh test libcriu signed artem kuzmitskiy lge.com signed pavel emelyanov xemul parallels.com,,
5143,b790b586eb7f401d949af4a4dae004dd34e2e9b6,rtem Kuzmitskiy <artem.kuzmitskiy@lge.com>, 2015-07-29 15:30:24 +0300, , add restoring unnamed unix socket added functionality restoring unnamed unix socket using already implemented feature inherit using command line option usage example criu restore image restore.log pidfile restore.pid inherit socket 9677263 signed artem kuzmitskiy lge.com signed pavel emelyanov xemul parallels.com,,
5144,79fd764ae6c4eabcc12da0159e4ad96b02431df0,rtem Kuzmitskiy <artem.kuzmitskiy@lge.com>, 2015-07-29 14:05:50 +0300, , add dumping unnamed unix socket added functionality dumping unnamed unix socket call criu dump option unnamed socket pas inode ext unix detail problem described http criu.org s.3f usage example criu dump image dump.log ext unix 4529709 13506 fix typo error log output signed artem kuzmitskiy lge.com signed pavel emelyanov xemul parallels.com,,
5145,b9259712188db5d08c5b8a688327ba2174954f19,yrill Gorcunov <gorcunov@openvz.org>, 2015-07-28 17:02:37 +0300, , test add testing unix socket relative name signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5146,8788054e333f8b1aa322c72b76c89f720acf17ab,yrill Gorcunov <gorcunov@openvz.org>, 2015-07-28 17:02:36 +0300, , unix add trivial name resolver socket relative name unix socket may created non absolute relative path kernel creates one always use at_fdcwd name resolving collect socket see name without leading slash common case socket application change working directory always true need invent name resolver good candidate irmap cache number testing found might slow performance dramatically thus need intelligent way common application postfix fetching dumpee working directory root enough socket get collected diag interface remember relative name parameter device inode postprone name resolving bring perf penalty really needed meet socket dump relative name assigned try use cwd name root name socket check created directory success simply remember directory image restore socket call chdir helper change working dir generate relative name  use new unlink_stale remove socket restore use helper changed working dir bind_unix_sk add debug ouput signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5147,a6543f8d3300b27c60165ef826b8993b6224e216,yrill Gorcunov <gorcunov@openvz.org>, 2015-07-23 22:22:38 +0300, , unix move name handling separate routine gon extende support relative name signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5148,350b8f21076cfc8fb344dd8aad001cb4b8271de3,yrill Gorcunov <gorcunov@openvz.org>, 2015-07-23 22:22:37 +0300, , unix defile log prefix grepability sake signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5149,e559f2690970630d8f7aa151406b874a175e6dc0,yrill Gorcunov <gorcunov@openvz.org>, 2015-07-23 22:22:36 +0300, , socket unix drop redundant empty line signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5150,83f1f7e5883676fdc8b835af267ec8da812df3d9,ycho Andersen <tycho.andersen@canonical.com>, 2015-07-22 17:51:26 -0600, , rst restore dgram socket queue case multiple client dgram socket restoring queue client instead pick one client restore queue rest skip signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5151,03c2a0a63283207761d49cfe9c720dfe0c2f8b24,ycho Andersen <tycho.andersen@canonical.com>, 2015-07-22 17:51:25 -0600, , test add test dgram queue error signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5152,69d008d56788b6703d9e35907bf36c06dfc5a4e5,hristopher Covington <cov@codeaurora.org>, 2015-07-23 07:59:49 -0400, , use run time page_size mremap old new address parameter passed mremap system call must page size aligned aarch64 page size correctly determined run time fix following error criu aarch64 kernel call mremap 0x3ffb7d50000 8192 8192 maymove fixed 0x2a000 error rst malloc.c 201 mremap rst mem invalid argument call mremap 0x3ffb7d90000 8192 8192 maymove fixed 0x32000 error rst malloc.c 201 mremap rst mem invalid argument signed christopher covington cov codeaurora.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5153,b61224bffe171db18395f5c2c6d38bb1065edf87,hristopher Covington <cov@codeaurora.org>, 2015-07-23 07:59:48 -0400, , use run time page_size pie_size fix following error criu aarch64 kernel  error restore.c 2828 mmap section restore code occurred address requested 0x16000 one case page aligned also change capitalization pie_size macro make clear value necessarily build time constant signed christopher covington cov codeaurora.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5154,4ee50534a8e31e3139adb4eaf68ae0dcf224b78a,yrill Gorcunov <gorcunov@openvz.org>, 2015-07-28 01:47:00 +0300, , proc drop helper use native cpuid one longer used signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5155,ba7435095417195172056ce0ddea9a4afdaf5646,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-07-27 19:26:00 +0300, , ppc64 add altivec vsx support add checkpoint restore altivec vsx register currently rely return value ptrace detect cpu supporting feature future rely at_hwcap vector check feature restart time signed laurent dufour ldufour signed pavel emelyanov xemul parallels.com,,
5156,3b62aef741485e35d56c616768cbab7cc5fd00b6,yrill Gorcunov <gorcunov@openvz.org>, 2015-07-27 19:25:00 +0300, , fsnotify unify debug print format use hex output whole module proper prefix signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5157,841f610a214ea45aaed6e0f1c7c5a4a201e1e748,uslan Kuprieiev <rkuprieiev@cloudlinux.com>, 2015-07-24 01:47:00 +0300, , libcriu include rpc.pb c.h criu.h signed ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul parallels.com,,
5158,296bbf7e33735d788798a53a6e910fe9dcb9bb25,yrill Gorcunov <gorcunov@openvz.org>, 2015-07-26 13:01:00 +0300, , x86 add proper ifdefs sigframe construction help support compat mode future signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5159,61a59fdd20323e29ad707700becb7f1b7a4f1e1f,rtem Kuzmitskiy <artem.kuzmitskiy@lge.com>, 2015-07-24 12:41:03 +0300, , added support linking libcriu source patch add capability using libcriu code signed artem kuzmitskiy lge.com signed pavel emelyanov xemul parallels.com,,
5160,ace699d7633f36247ab63d2dbc96187a763c9f4a,ndrey Vagin <avagin@openvz.org>, 2015-07-24 18:55:00 +0300, , travis add libcap dev arm signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5161,518405cc045a0fbe37d3816ac7960e11333ec85b,ndrey Vagin <avagin@openvz.org>, 2015-07-23 19:42:00 +0300, , arm fix syscall number waitid signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5162,5f729636b49c6756e2f9ac8459787315c933c118,ycho Andersen <tycho.andersen@canonical.com>, 2015-07-21 12:26:08 -0600, , rst hang sigchld coalesced task_helper would exit zombie sometimes signal would get coalesced would miss zombie exit causing block forever waiting zombie complete let use entirely different strategy waiting zombie explicitly wait waitid use wnowait prevent data actually reaped decrement nr_ task thread loop signed tycho andersen tycho.andersen canonical.com acked andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5163,c91cbe3caa2a84c3dea169314988848a3986e20d,ycho Andersen <tycho.andersen@canonical.com>, 2015-07-20 23:56:42 -0600, , add waitid syscall use next patch collecting zombie without actually waiting signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5164,1de38f344df719e41c24f1cef631eccc0cf95a03,ycho Andersen <tycho.andersen@canonical.com>, 2015-07-23 02:51:00 +0300, , crit add show option human consumption save keystroke equivalent decode pretty signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5165,430a9be90fb9df12a4ea53d445dfddb1a4e9a805,ndrey Vagin <avagin@openvz.org>, 2015-07-22 17:48:00 +0300, , zdtm remove busy loop seccomp_strict heat planet tycho andersen tycho.andersen canonical.com signed andrey vagin avagin openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5166,6c572bee8f10676e0e1ae649b4a9ca7798acb3b4,yrill Gorcunov <gorcunov@openvz.org>, 2015-07-22 18:14:00 +0300, , cgroup set soft mode default criu 1.6 manage cgroups option specified still restore default known property commit c7d646afb373 enhanced semantics occasionally break backward compatibility manage cgroups passed assumed one asks touch cgroups restore restore old behaviour setup soft mode default reported andrew vagin avagin gmail.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5167,cb3c1bb7fe1e1e34b13c8aceece5c5499ccfea1b,ndrey Vagin <avagin@openvz.org>, 2015-07-15 17:50:00 +0300, , proc show string error message parse signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5168,842a196159c0cd1af24eeeb412bf2a04ac6d421e,ndrey Vagin <avagin@openvz.org>, 2015-07-21 14:39:00 +0300, , travis add libcap dev required zdtm live static different_creds wall werror iquote lib arch x86 include lib fatal error sys capability.h file directory signed andrew vagin avagin openvz.org signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5169,de17028a08adadfa4ebaa48314a25870c370c403,uslan Kuprieiev <kupruser@gmail.com>, 2015-07-21 13:27:00 +0300, , libcriu criu_init_opts leak rpc opts reported andrew vagin avagin gmail.com signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5170,ba68d61f54bb105c42e186ad5c6f30d7acd8eb4d,yrill Gorcunov <gorcunov@openvz.org>, 2015-07-20 12:40:16 +0300, , file adjust file position dev kmsg kernel doesnt allow call lseek dev kmsg opened o_wronly mode restore procedure fails thus meet file fit condition set position predefined value tell criu call lseek restore signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5171,337c73114f0e8625c046070baec7047963be5ea9,ndrey Vagin <avagin@openvz.org>, 2015-07-17 17:40:25 +0300, , zdtm add new test check escaped charecter mountinfo signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5172,8360d9aa9a1a0a81ff5908286fdcc1f49701f762,ndrey Vagin <avagin@openvz.org>, 2015-07-17 17:40:24 +0300, , tar use unquote wildcards able use symbol path signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5173,5b767ffd4926dae746a6e733e560316555c0fa5a,ndrey Vagin <avagin@openvz.org>, 2015-07-17 17:40:23 +0300, , mount decode path mountinfo mountinfo contains mangled path space tab back slash replaced usual octal escape need replace charecter back declare cure_path static signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5174,34cb65ce5d92d4d1e86b9bb18ce09a38c8d72cca,ndrey Vagin <avagin@openvz.org>, 2015-07-17 17:40:22 +0300, , mount handle case source argument empty example mount tmpfs test leak memory reported ross boucher boucher gmail.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5175,18034bb6425713502815eb81b0a71e6530e86227,uslan Kuprieiev <rkuprieiev@cloudlinux.com>, 2015-07-16 15:42:00 +0300, , libcriu allow user specify service currently libcriu connecting criu service asking user path socket case user need provide instead path example sometimes task access criu socket strict security mesures able inherit parent access criu socket use union addr signed ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul parallels.com,,
5176,5551bbb301ebf8a2d50d5067799cca53e139aefa,uslan Kuprieiev <rkuprieiev@cloudlinux.com>, 2015-07-15 04:45:03 +0300, , test libcriu include protobuf dir need rpc.pb c.h header signed ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul parallels.com,,
5177,9e0ff7af4f05898a314711b72cef26d686db89a1,uslan Kuprieiev <rkuprieiev@cloudlinux.com>, 2015-07-15 04:45:02 +0300, , libcriu use criu_opts structure keep option criu_opts contains rpc option notify callback keep option one structure allow easily extend libcriu functionality yet keep option one place also hiding rpc opts structure anymore pretty clear power user put criuopts instance would like signed ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul parallels.com,,
5178,7b20f42f785bafcc61c11adddcdbf2d5a54917cf,ycho Andersen <tycho.andersen@canonical.com>, 2015-07-15 19:35:00 +0300, , rst move lsm memory allocation rst_mem_lock 8ffbe754bd9 moved rst_mem_lock call move corresponding lsm allocation one unfortunate thing split two step first read cred figure exactly much memory allocate lsm string since prepare_creds want write directly struct allocated lock restore memory break two step signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5179,3122529fc85725d2e1b8974773cd9234ba2900ac,ycho Andersen <tycho.andersen@canonical.com>, 2015-07-15 16:06:00 +0300, , unix wait listen well bind need wait listen well bind internal unix socket race like 00.135950 opening standalone socket 0xb ino 0x9422f peer 00.135974 353 error unix.c 701 connect 0x947c4 socket connection refused 00.136390 error restore.c 1228 353 exited status 00.136407 putting 0x9422f listen state 0x9422f peer 0x947c4 race pretty rare run 1000 test happen hopefully patch fix signed tycho andersen tycho.andersen canonical.com acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
5180,445dbd9d09cc9a7f826d5af04c30f73c1d345ebb,ndrey Vagin <avagin@openvz.org>, 2015-07-15 12:11:00 +0300, , log forget pr_err signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5181,0162665c8cc86b3f8a42f684e8af81c5ac2ade61,yrill Gorcunov <gorcunov@openvz.org>, 2015-07-14 22:30:00 +0300, , cgroup rpc fix manage_cgroups option parsing commit c7d646afb3737 introduced cgroup resotre mode option passed via rpc code simply either true false erroniously map cg_mode_props cg_mode_ignore mode let map true cg_mode_soft preserve backward compatibility enhance option future via separate option reported ross boucher rboucher gmail.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5182,de70936ec74df0cde1a04a9704b3747aa452d084,ndrey Vagin <avagin@openvz.org>, 2015-07-02 12:47:11 +0300, , util ignore standard descriptor rudiment close_old_fds close extra descriptor signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5183,686467832f9974c05c5aad63a7910b73719d9779,ndrey Vagin <avagin@openvz.org>, 2015-07-02 12:47:10 +0300, , test pipe execute two test case reopen pipe descriptor via proc self give another end pipe criu restore signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5184,bea8903d38eaac0a24336bc9520638471311e7c6,ndrey Vagin <avagin@openvz.org>, 2015-07-02 12:47:09 +0300, , test pipe check file status flag restored signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5185,d6f39d70eab6c63c2442cf4b182a29887bc514f4,ndrey Vagin <avagin@openvz.org>, 2015-07-02 12:47:08 +0300, , pipe add ability restore end inhereted pipe restore inhereted pipe one end know whether write read one need call reopen_pipe time signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5186,98c8e44f749dd7ed0aa8c540f566bda54d7adfa1,ndrey Vagin <avagin@openvz.org>, 2015-07-02 12:47:07 +0300, , pipe create tranport descriptor inhereted pipe otherwise get error like tcreate transport crtools ... found pipe 122747 inherit list file pipe 122747 restored duped inherit error util.c 131 already use called files.c 872 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5187,2045ef188457a1bb7a3891d174d2354fde1d6874,ndrey Vagin <avagin@openvz.org>, 2015-07-15 14:21:00 +0300, , tcp disable repair mode socket current process filled socket collected repair mode disabled socket restored current process http show_bug.cgi 3281 add comment typo fix fix 73e303c8e265 rst fix rst_tcp_sock memory management signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5188,9c96c55b7acc123a2bc05eddd6ea1590fbdaded1,ndrey Vagin <avagin@openvz.org>, 2015-07-15 10:54:00 +0300, , zdtm include linux seccomp.h linux seccomp.h use different_creds test signed andrey vagin avagin openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5189,8d16fe6da94b4e0440f54193f387b55111b52743,ycho Andersen <tycho.andersen@canonical.com>, 2015-07-15 16:49:00 +0300, , build get rid vestigial makefile.config test use test deleted previous patch let get rid signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5190,96e0d14283475428681c40055f40b92cd140e89b,avel Emelyanov <xemul@parallels.com>, 2015-07-14 18:28:05 +0300, , revert travis install libseccomp dev reverts commit,,
5191,17768218769626774938a743ee4c03592e706120,ndrey Vagin <avagin@openvz.org>, 2015-06-30 14:12:00 +0300, , check try call clone clone_newpid clone_parent combination forbidden 3.12 commit fork unify tighten clone_newuser clone_newpid check permited 3.13 commit fork allow clone_parent setns clone_newpid adrian reber adrian lisas.de signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5192,e880dbd9b850dfb25ee926c816c520d173b7f870,ycho Andersen <tycho.andersen@canonical.com>, 2015-06-26 17:29:56 -0600, , test add test failing dump different cred use test list instead file telling zdtm.sh test fail signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5193,6e218166b422b742a23a588b4bee1192cde34333,ycho Andersen <tycho.andersen@canonical.com>, 2015-06-26 17:29:55 -0600, , test add support expecting dump failure use next patch testing cred comparison thread use explicit list zdtm.sh instead file test dir signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5194,f231a11908ff4d5d22961e3d7b1617d1a095df8d,avel Emelyanov <xemul@parallels.com>, 2015-06-25 23:42:57 +0300, , rst remove actually unused pid arg signed pavel emelyanov xemul parallels.com,,
5195,6fe296a26ef41fc579b17798e9cb1864d38257ab,avel Emelyanov <xemul@parallels.com>, 2015-06-25 23:42:43 +0300, , rst remove actually unused pid arg signed pavel emelyanov xemul parallels.com,,
5196,dc149e884d92f89c3bf940dc4ef9fc097b2a822a,avel Emelyanov <xemul@parallels.com>, 2015-06-25 23:42:30 +0300, , rst remove actually unused pid arg signed pavel emelyanov xemul parallels.com,,
5197,73e3925bcd46f99cd853abb1a479dd1305a692ea,avel Emelyanov <xemul@parallels.com>, 2015-06-25 17:57:00 +0300, , pstree_item keep has_seccomp field rst_info tail signed pavel emelyanov xemul parallels.com,,
5198,24f0f4987133cc423a22cf63c4c13c5184dafd17,avel Emelyanov <xemul@parallels.com>, 2015-06-25 17:54:00 +0300, , pstree_item keep cred field dump_info tail rename easier grepping signed pavel emelyanov xemul parallels.com,,
5199,063c5b8946d7ed5540ac16eb4435f44d598ce40d,ndrey Vagin <avagin@openvz.org>, 2015-06-25 00:12:00 +0300, , travis install libseccomp dev signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5200,8ffbe754bd97804ad17aa1ed6a685d444e2ab7b9,avel Emelyanov <xemul@parallels.com>, 2015-06-25 17:06:00 +0300, , rst lock rst memory allocation earlier got total remapable rst memory size longer allocate otherwise bootstrap area enough size signed pavel emelyanov xemul parallels.com,,
5201,d9a9d4c9b399282fde9c79088e4cd290327ba0cd,avel Emelyanov <xemul@parallels.com>, 2015-06-25 15:36:57 +0300, , rst fix timerfd rst memory management similar previous patch tcp mem need realloc big array memcpy data enough walk timerfd object end signed pavel emelyanov xemul parallels.com,,
5202,73e303c8e2658b1c5f3bf548bbe055ba76404051,avel Emelyanov <xemul@parallels.com>, 2015-06-25 15:36:44 +0300, , rst fix rst_tcp_sock memory management current scheme grow array realloc memcpy result rst_mem propose get rid realloc already object data need keep memcpy put object directly rst_mem end signed pavel emelyanov xemul parallels.com,,
5203,7166e3c98498a30e5e0af9cd860a6871f37a20e6,avel Emelyanov <xemul@parallels.com>, 2015-06-25 15:36:30 +0300, , rst fix helper memory allocation calling rst_mem_alloc loop increasing size cause memory grow since _alloc _realloc signed pavel emelyanov xemul parallels.com,,
5204,49dc94ad7328dba22007fd27588bd4000a6a0473,aied Kazemi <saied@google.com>, 2015-07-07 01:42:00 +0300, , need bigger log buffer avoid message truncation help message criu grown size truncated size private buffer log.c small patch increase size buffer bad message help output one signed saied kazemi saied google.com signed pavel emelyanov xemul parallels.com,,
5205,1fff98f76e4f8c1494a31a722dcc8c3dd3aa99e7,ndrey Vagin <avagin@openvz.org>, 2015-07-07 15:47:00 +0300, , dump wait killed process kill syscall queue signal wait handled need wait process kill user expect find process dump case ptrace_detach return error dead task need case nikita spiridonov nspiridonov odin.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5206,679aaa56ca11a6f221fc5257446f7e0713702871,uslan Kuprieiev <rkuprieiev@cloudlinux.com>, 2015-07-13 14:55:00 +0300, , libcriu add ability use local option structure ability option structure quite nice allows much flexible use libcriu case want bunch instance option structure patch also allows user use raw criuopts structure modified suitable way whether libcriu criu_local_set method using protobuf directly also worth noting backward compatibility api abi preserved signed ruslan kuprieiev rkuprieiev cloudlinux.com acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5207,337ba4f3a6798b06cd32ebc2eda6392b9b11c4e0,yrill Gorcunov <gorcunov@openvz.org>, 2015-07-13 14:53:45 +0300,1, pie piegen fix memory leak cid 96750 resource leak resource_leak 163. leaked_storage variable sec_hdrs going scope leak storage point signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5208,b857ca947c57096343142a29400801b85d921e3a,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-07-01 17:32:40 +0200, , test zdtm adding ppc64 support adding ppc64le specific part run test architecture signed laurent dufour ldufour acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
5209,5a34ae189146d2e34b46063087121df00d43d70d,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-07-01 17:32:39 +0200, , test zdtm fix test_msg massive stack usage test_msg buffer allocated stack cook outputed message buffer size defined using page_size constant defined zdtmtst.h file system like ppc64 page size large 64k leading massive stack allocation may large case alternate stack like one used sigaltstack test fix defines 2048 character buffer test_msg expose constant allocate stack accordingly sigaltstack test signed laurent dufour ldufour acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
5210,6f119a22a678d7ff95a9bd44c478370e3934d8e5,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-07-01 17:32:38 +0200, , test zdtm fix pagesize issue packet_rx tx_ring call setsockopt packet_rx_ring packet_tx_ring dependent system page size using sysconf page size make test working ppc64 page size 64k signed laurent dufour ldufour acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
5211,cf4496beba1bbf36598fa13d0c949ecd9ae5165f,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-07-01 17:32:37 +0200, , test zdtm use hard coded page_size value since page size may different architecture system another hard coded 4096 consequence several test failing ppc64 due wrong page size value fix belongs sysconf get current page size signed laurent dufour ldufour reviewed christopher covington cov codeaurora.org acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
5212,209693d49b018f08767f811005a6f1fa076bc9ff,ycho Andersen <tycho.andersen@canonical.com>, 2015-06-30 07:47:11 -0600, , assume kernel config_seccomp linux seccomp.h may available seccomp mode might listed proc pid status let assume two thing present add seccomp.h constant use linux seccomp.h compile time check let ptrace return einval also add checkskip skip seccomp_strict test linux seccomp.h present use criu check feature instead checkskip check whether kernel support seccomp_suspend reported mr. jenkins signed tycho andersen tycho.andersen canonical.com acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
5213,1fa30840da313317edb2d0095bcac238b952b641,ycho Andersen <tycho.andersen@canonical.com>, 2015-06-30 07:47:10 -0600, , add criu check test actually set ret failure add feature option suspend_seccomp make patch since test depend signed tycho andersen tycho.andersen canonical.com acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
5214,fa3c94d52f3d1fae7d264bd2ed7d6ad5c7687f24,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-06-24 16:21:00 +0300, , aio consider aio_nr_req freeing vma entry call close vm_file_fd dealing vma aio entry since vm_file_fd filled aio_nr_req part union hit issue running test aio00 ppc64 value vma aio aio_nr_req field matching value service file descriptor img_fd_off lead obscure checkpoint error signed laurent dufour ldufour signed pavel emelyanov xemul parallels.com,,
5215,6fc15485d0a9f71f36bb61c0a3a6a1559fc142e2,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-06-24 16:18:00 +0300, , ppc64 fix broken sys shared memory support initial support sys shared memory ppc64 broken call shmat done restore blob chance work correctly patch fix sys_shmat call signed laurent dufour ldufour signed pavel emelyanov xemul parallels.com,,
5216,7197aff7034ad37c67bd14ea793ac0c8663ae9db,uslan Kuprieiev <rkuprieiev@cloudlinux.com>, 2015-06-24 11:57:00 +0300, , pycriu image pb2dict preserve field order pretty option using allows keep field order appear corresponding proto file help impove readability non pretty mode still use regular dict signed ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul parallels.com,,
5217,e0b24e21d3500aec212b1083b90d17f70d997de7,ycho Andersen <tycho.andersen@canonical.com>, 2015-06-18 11:59:19 -0600, , cred fail dump cred thread group match since support dumping per thread cred let least fail dump cred match signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5218,f8502fc3d112ac9b2f1879b219bb85144c0636a0,ycho Andersen <tycho.andersen@canonical.com>, 2015-06-18 11:59:18 -0600, , ptrace fix typo comment signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5219,c03df1ba2de745be4a7e97ba24cce1e9086f945e,ycho Andersen <tycho.andersen@canonical.com>, 2015-06-18 11:59:17 -0600, , add test note add test list test run fail without associated kernel patch spin lock seccomp strict set child signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5220,0d8aec0c3ad9df6c9365718c97510e41b9f9e5dd,ycho Andersen <tycho.andersen@canonical.com>, 2015-06-18 11:59:16 -0600, , seccomp add initial support unfortunately currently exposed userspace checkpoint case need let patch work first disabling seccomp process going seccomp filter restored restoring process including seccomp filter finally resuming seccomp filter detaching process change update kernel patch use protobuf enum seccomp type parse proc pid status twice change get rid extra stage suspend seccomp unmap restore seccomp state thread also add note slightly wrong least check mismatch signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5221,bf4243e3035bfa1598b3b6b9283d2ca6008ad8dd,yrill Gorcunov <gorcunov@openvz.org>, 2015-06-16 12:31:00 +0300, , make able force turning piegen testing purpose need disable using piegen utility let add piegen make option thus one piegen make build criu without piegen signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5222,2a0c8db72bda39dc2939870f95caac30b1be9350,ndrey Vagin <avagin@openvz.org>, 2015-06-18 15:30:00 +0300, , proc mount proc minimal permission eric want restrict permission proc mount non root userns according proc mount root userns author eric biederman ebiederm xmission.com date fri may 2015 0500 mnt modify deal locked nodev atime ignore existing mount locked readonly nodev atime attribute permissive desired attribute new mount ... signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5223,350a7a982a51bb8933d26efd54485183c96e82ae,avel Emelyanov <xemul@parallels.com>, 2015-06-16 19:15:20 +0300, , revert cgroups add ability reuse existing cgroup yard directory reasoning system sys cgroup stuff mounted read either remount create set former look sane remounting also done ststemd let return back manual cgyard construction reverts commit conflict cgroup.c include cr_options.h signed pavel emelyanov xemul parallels.com,,
5224,081a5b9e77551b4eeda86086caf00a115a7fd8f9,ycho Andersen <tycho.andersen@canonical.com>, 2015-06-15 15:50:37 -0600, , pie use proc last pid instead keeping around multiple fds point various place proc let use proc openat thing relative signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5225,7083fc370dca342c1711ed968d3bd080e46f42fb,ycho Andersen <tycho.andersen@canonical.com>, 2015-06-15 15:50:36 -0600, , lsm restore lsm bit per tid instead per pid little tricky since thread forked restorer blob open attr curent file pas restorer blob pas proc restorer blob use access attr current file exist n.b still incorrect restores credential thread group however match behavior current cred restore code also restores cred thread group use simple_sprintf instead pie_strcat signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5226,ea5f35e26fea04fd6aaf8556128b242055204d99,ycho Andersen <tycho.andersen@canonical.com>, 2015-06-15 15:50:35 -0600, , pie add printf like functionality simple_buf use next patch printing path lsm file proc signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5227,a5019ff36bf8cdc27a8688cf2346a0000af73f8d,ycho Andersen <tycho.andersen@canonical.com>, 2015-06-15 15:50:34 -0600, ," pie x86_64 syscall clobber rcx r11 o_o one nobody ever hit bug according http question 2535989 calling convention unix linux system call x86 syscall x86_64 clobber rcx r11 mark register clobbered gcc avoids using e.g ... ... 1894 mov r11 rbx 1897 lea rsp 0x60 189c mov rbx rbp 189f mov qword ptr rsp 0x10 rax 18a4 lea rax rsp 0x30 18a9 mov qword ptr rsp 0x18 rax 18ae jmp 1903 clone_end 0x15 clone_emul 18b0 mov rsi qword ptr rsp 0x8 18b5 sub rsi,0x10 18b9 mov rdi rbp 18bc mov qword ptr rsi 0x8 rdi 18c0 mov rdi qword ptr r11 0x20 18c4 mov qword ptr rsi rdi 18c7 mov rdi,0x50d00 18ce mov rdx qword ptr rsp 0x18 18d3 mov r10 r15 18d6 mov eax,0x38 18db syscall 18dd test rax rax 18e0 18e7 thread_run 18e2 mov rbp rax 18e5 jmp 18ee clone_end thread_run 18e7 xor rbp rbp 18ea pop rax 18eb pop rdi 18ec call rax clone_end 18ee add r13d,0x1 18f2 add r15,0x8c00 18f9 cmp dword ptr r11 0x14 r13d cause seg fault r11 clobbered signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com",,
5228,1998fbfa87919e135767e6b2e072ec8f64befff5,yrill Gorcunov <gorcunov@openvz.org>, 2015-06-15 23:16:00 +0300, , pie relocs fix compilation arm otherwise getting parasite syscall.c function parasite syscall.c 1222 error elf_relocsâ undeclared first use function simply wrap macro reported andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5229,c7d646afb3737a33647459206ab3a76f883856b7,yrill Gorcunov <gorcunov@openvz.org>, 2015-06-11 20:04:03 +0300, , cgroups introduce cgroup management mode playing wich checkpoint restore container found reuse existing controller pre created example currently pcs7 bindmount cgroups belong container form sys cgroup controller container sys cgroup controller criu dump configuration fine restore recreates controller scratch would like bindmount ask criu restore subcgroups parameter extended manage cgroups option take mode argument detailed description doc signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5230,860df95f859cf7ba23b57fc832793c623a5897e4,yrill Gorcunov <gorcunov@openvz.org>, 2015-06-11 20:04:02 +0300, , cgroups add ability reuse existing cgroup yard directory currently always create temporary directory restore cgroups work case mounting cgroups forbidden inside container reason openvz kernel one pas cgroup yard option specify existing directory cgroups living default assume lay sys cgroup signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5231,a65bffe323a7cc8fe5f247054be29ade9f541fc8,yrill Gorcunov <gorcunov@openvz.org>, 2015-06-11 21:22:22 +0300, , pie piegen handle shn_abs symbol example linkers generate symbol relocate handle case properly signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5232,e6a1097265588cd4335128834f08c60b39a26ec8,yrill Gorcunov <gorcunov@openvz.org>, 2015-06-11 21:22:21 +0300, , pie piegen fix debug message relocs x86 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5233,732aa040d90ff00192e9ffec4ffef32549916390,yrill Gorcunov <gorcunov@openvz.org>, 2015-06-11 21:22:20 +0300, , pie piegen use already computed sec_hdrs signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5234,ea0fd2aa08dddd713d262978a3a93a16b46ff94d,yrill Gorcunov <gorcunov@openvz.org>, 2015-06-11 23:58:00 +0300, , pie piegen make different name parasite restorer relocs otherwise confusing since signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5235,aa557c963fd2d7e3dbcba8955a029e0a317df685,ycho Andersen <tycho.andersen@canonical.com>, 2015-06-12 06:19:00 +0300, , piegen fix build bit ubuntu error got pie piegen elf x86 64.o file included pie piegen elf x86 32.c pie piegen elf.c function pie piegen elf.c 476 error format lxâ expects argument type long unsigned intâ argument type elf32_wordâ werror format pr_debug copying section  signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5236,61c5837f62fe719058685db77a973628345bb23a,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-06-12 18:31:00 +0300, , timerfd fix hard definition ppc64 hard definition match kernel one use _iow based flexible signed laurent dufour ldufour acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5237,e7d89a60b69db623bac67056f92413d31c31367b,ycho Andersen <tycho.andersen@canonical.com>, 2015-06-08 14:12:26 -0600, , add openat syscall list need use restorer blob restoring lsms look like arm already openat think x86 ppc need case please double check tested x86 signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5238,2fbf267bfec6628d4fc2c57df221404289c3eeb6,ndrew Vagin <avagin@openvz.org>, 2015-06-04 15:58:00 +0300, , test libcriu inlude required header reported jenkins signed andrew vagin avagin openvz.org acked ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul parallels.com,,
5239,4eb0952c0e1b301ae772ddf8109e2da942207978,ndrey Vagin <avagin@openvz.org>, 2015-06-09 14:51:00 +0300, , net call uninitialized pointer netns image absent netnsentry entry initialized currently restore old image crash core generated criu swrk program terminated signal sigsegv segmentation fault  gdb  prepare_net_ns   clone sysdeps unix sysv linux x86_64 clone.s 111 remove debugging code pavel tikhomirov ptikhomirov virtuozzo.com signed andrey vagin avagin openvz.org acked pavel tikhomirov ptikhomirov virtuozzo.com signed pavel emelyanov xemul parallels.com,,
5240,f50e0a6e36b1b07451c49b428d5558456fe1cd0f,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-06-11 18:59:00 +0300, , ppc64 fix buggy floating point register handling checkpoint restore power floating point register buggy issue signal frame context defined store double value protocol buffer handling unsigned 64bits integer value silent cast done compiler modifying restored value back fix change type used manipulating register value consistent checkpoint restart signed laurent dufour ldufour signed pavel emelyanov xemul parallels.com,,
5241,a26f1cd39b9129c624d11495c2afc3eb517930f7,ndrey Vagin <avagin@openvz.org>, 2015-06-11 15:40:00 +0300, , mnt tune root mount mounting root yard otherwise root yard propagated host mount namespace remain criu fail able remove root yard occures give shared mount root criu restore criu convert slave mount reported cyrill gorcunov gorcunov openvz.org cyrill gorcunov gorcunov openvz.org signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5242,bab3d9693a60bc2548f05361b64968bfe73c9884,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-06-10 15:00:42 +0200, , piegen prefix piegen output add prefix piegen error debug output avoid confusion fix debug line signed laurent dufour ldufour acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5243,93f0d6ce569cd8c2643abbe934069f53c415e12a,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-06-10 15:00:41 +0200, , piegen opts variable global since opts defined extern piegen.h need pas argument signed laurent dufour ldufour acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5244,8c98ede371a69c12b3cd6d55f1b8295f6ac2ac5a,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-06-10 15:00:40 +0200, , piegen separate generated output debug introduce new argument piegen specify generate file name send debug stream stdout force dev null makefile specify signed laurent dufour ldufour acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5245,e8e13d7f9f133b031b2eba728f5b8c30720d334e,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-06-10 15:00:39 +0200, , piegen fix handle elf returned value handle elf return success signed laurent dufour ldufour acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5246,46270d11fe21e9f0f4eeeebe2001282f5e7d345c,yrill Gorcunov <gorcunov@openvz.org>, 2015-06-05 00:04:17 +0300, , pie use pie_size helper signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5247,2f16ec33a1acba56758de284d58d046693535ec8,yrill Gorcunov <gorcunov@openvz.org>, 2015-06-05 00:04:16 +0300, , pie piegen add pie_size helper hide nr_gotpcrel signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5248,e83907ad3662a83dc0ce85d574e27e7cf6cc7b88,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-06-05 00:04:15 +0300, , pie piegen copy required section building blob generated header file may shrink output blobk copy section shf_alloc bit set one needed runtime signed laurent dufour ldufour signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5249,89d6b39cfe36da040d3f47b3f1601c05d6368e3f,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-06-05 00:04:14 +0300, , ppc64 pie add ppc64le relocation processing clean assembly code removing needed trick register toc pointer consequence needed thus change introduced commit de9df91002a3 per architecture restorer trampoline restore.c used impacting runtime code anyway signed laurent dufour ldufour signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5250,c755e0eb96b4e767774f3124c397470813eeaf99,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-06-05 00:04:13 +0300, , ppc64 pie move toc section powerpc linking requires toc section aligned signed laurent dufour ldufour signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5251,f03a4672ce65cd6e3a148d65dd14988086db7f31,yrill Gorcunov <gorcunov@openvz.org>, 2015-06-05 00:04:12 +0300, , pie piegen slightly rework building procedure move relocs application separate file get compiled regular file criu pie pie relocs move type used piegen pie piegen uapi types.h signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5252,ac187856c48f776ae54fba8e5573fbaa851b0500,yrill Gorcunov <gorcunov@openvz.org>, 2015-06-05 00:04:11 +0300, , pie x86 real call applying relocation moment parasite restorer relocs support x86 changed soon call apply relocation signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5253,5258d95eb9a2387bc50f79b3ad3e03523e2f1888,yrill Gorcunov <gorcunov@openvz.org>, 2015-06-05 00:04:10 +0300, , pie piegen x86 fix relocs application use provided nr_relocs instead array_size spot earlier simply moment x86 relocs also apply relocation computed virtual base parasite address local memory map address add vbase parameter fix typo addend gotpcrel signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5254,c84fa8c506e26be50bb19ac3502ae0f3f3505da7,yrill Gorcunov <gorcunov@openvz.org>, 2015-06-05 00:04:09 +0300, , pie x86 adjust size parasite restorer code case gotpcrel relocation need additional space carry pointer signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5255,fba12ae9ff230114a4bcdee3424ec66cad406ba5,yrill Gorcunov <gorcunov@openvz.org>, 2015-06-05 00:04:08 +0300, , arch x86 able build 32bit criu patch one run arch ia32 make build 32bit version criu 64bit host note build procedure tuned criu yet ready make checkpoint restore cycle lot additional code needed rather put stub simply make build procedure run signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5256,e04f683d85388992d5a0b9aa063c0dedd2ceeff2,yrill Gorcunov <gorcunov@openvz.org>, 2015-06-05 00:04:07 +0300, , pie x86 prepare parasite head signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5257,b07bbf8152a4cebedab532cab4821819f4eb0f36,yrill Gorcunov <gorcunov@openvz.org>, 2015-06-05 00:04:06 +0300, , pie x86 build parasite code without pic rip addressing 32bit code pie code require got table friend better escape performance sake let use relocation trick signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5258,816c802176d2b84df60287c6425ac7fd0d575d24,yrill Gorcunov <gorcunov@openvz.org>, 2015-06-05 00:04:05 +0300, , x86 add 32bit variant task_size signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5259,918f20648c6ea8190814be015ea5329e8a2fc856,yrill Gorcunov <gorcunov@openvz.org>, 2015-06-05 00:04:04 +0300, , arch x86 syscalls wire syscalls generation support x86 mode need syscall table note criu support mode yet meanwhile put syscall table case someone adding new syscall bit variant updated well signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5260,41999f40b0ada1f0a49cd1bfa40b49980bdb63e5,yrill Gorcunov <gorcunov@openvz.org>, 2015-06-05 00:04:03 +0300, , x86 start using native object relocatable file parasite code since moment running x86 bit task code carrying big statically defined structure use relocatable file directly relocation applied building gon changed soon start supporting bit task iow even currently need yet done safe check gotpcrel relocation apply relocation generated helper currently overall scheme look way object file linked together parasite.built in.bin.o file pie piegen piegen tool called par file generates source code file bytestream information needed rellocate bytestream new place see helper signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5261,b6668af613d640c5d074e1677f4240fee0ff28c1,yrill Gorcunov <gorcunov@openvz.org>, 2015-06-05 00:04:02 +0300, , piegen implement tool building simply build piegen tool gon used generate parasite code safe rellocate tool taking object file argument par generates file rellocations encoded form suitable fast appliance currently x86 x86 supported ldufour filter piegen signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5262,7a9813346baabe94fc2293d9b44dcf023a3ed097,avel Emelyanov <xemul@parallels.com>, 2015-06-05 19:13:00 +0300, , rst sanitize standard array remapping restore several array object get remapped pie area number also passed clean shorten remapping code bit bing naming common format signed pavel emelyanov xemul parallels.com,,
5263,a66883390547e1f07ae93a9f81baadf785a50739,ndrew Vagin <avagin@openvz.org>, 2015-06-06 23:44:41 +0300, , zdtm cgroup02 remove subgroup cleanup hook systemd executes test subgroup 9679 ssl etc alternative java daemonized true djenkins_home var lib jenkins jar usr lib jenkins jenkins.war root jenkins cat proc 9679 cgroup net_cls hugetlb cpuset blkio system.slice freezer cpu cpuacct system.slice device system.slice jenkins.service perf_event memory system.slice name systemd system.slice jenkins.service reported jenkins signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5264,45bc46ed8f9a95fee20ed90b68409b9d87f1e77c,ndrew Vagin <avagin@openvz.org>, 2015-06-06 23:44:40 +0300, , zdtm ignore hook error signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5265,89e7f375fc37077eba723667595941f284924adf,drian Reber <areber@redhat.com>, 2015-06-05 18:20:00 +0300, , provide installation target without documentation criu man page generated using asciidoc problem asciidoc due dependency available distribution undesired install asciidoc dependency install target unconditionally installing thus building man page even explicitly specified make doc new install criu target everything besides man page installed target install man called target install signed adrian reber areber redhat.com acked tycho andersen tycho.andersen canonical.com look cyril gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5266,25d074ad91ca6e45970c991b522ec17692e02dde,avel Emelyanov <xemul@parallels.com>, 2015-06-05 15:53:00 +0300, , unix dump external peer name restore use peer name connect socket back name dump aborted situation happens create socketpair fork dump one task one pair end reported artem kuzmitskiy gmail.com signed pavel emelyanov xemul parallels.com,,
5267,6979838793a511983380e5bd2114a8aaa75c4622,ycho Andersen <tycho.andersen@canonical.com>, 2015-06-05 16:48:00 +0300, , ensure sigchld inherited blocked use sig_setmask instead sig_blockmask case parent sigchld blocked case one criu thread problem since sigchld blocked restore simply hang signed tycho andersen tycho.andersen canonical.com acked andrew vagin avagin virtuozzo.com signed pavel emelyanov xemul parallels.com,,
5268,f8d14290e90dce5c5538d97e5008b6e959ccfe6e,avel Emelyanov <xemul@parallels.com>, 2015-06-05 15:53:00 +0300, , socket print warning case collection succeeded reported criuport gmail.com signed pavel emelyanov xemul parallels.com,,
5269,3100910becce1842c4c7425cb58e602ac4111d43,avel Emelyanov <xemul@parallels.com>, 2015-06-05 14:19:00 +0300, , vdso fix misprint ifdef signed pavel emelyanov xemul parallels.com,,
5270,b08f3fae5b66a2702fc3449972e41557edbaf8c8,avel Emelyanov <xemul@parallels.com>, 2015-06-05 11:48:00 +0300, , vdso reduce amount code ifdef signed pavel emelyanov xemul parallels.com reviewed cyrill gorcunov gorcunov openvz.org,,
5271,c0970b59c75be0f5aaf02e058f828c6db7d11b7e,ndrew Vagin <avagin@openvz.org>, 2015-06-03 18:28:00 +0300, , zdtm maps007 send sigterm stop child process typo fix sigterm generates code dump reason test fails timeout sometimes signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5272,5e1a8a258e134ceae256cbd0ed622ebd4e7f5e43,ndrew Vagin <avagin@openvz.org>, 2015-06-02 14:18:00 +0300, , zdtm ptrace_sic set type function argument updated jenkins fc22 compile zdtm test wall werror iquote lib arch x86 include lib ptrace_sig.c lib libzdtmtst.a ptrace_sig ptrace_sig.c function childâ ptrace_sig.c error type fdâ default intâ werror implicit int int child reported jenkins signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5273,0e021364db7b42ee4b1c9fcbadb26e57473f45d7,alvatore Bonaccorso <carnil@debian.org>, 2015-06-02 08:46:47 +0200, , fix spelling error usage text signed salvatore bonaccorso carnil debian.org signed pavel emelyanov xemul parallels.com,,
5274,46ae03462399f5879275918762ebe1a019e8d379,alvatore Bonaccorso <carnil@debian.org>, 2015-06-02 08:45:43 +0200, , fix spelling error documentation signed salvatore bonaccorso carnil debian.org signed pavel emelyanov xemul parallels.com,,
5275,9fc22be9383b579130d128d9a0ef5c60e48b75ce,akashi Iwai <tiwai@suse.de>, 2015-06-01 17:07:00 +0300, , fix antique style declaration lsm otherwise eventually get compiler warning ending build abort signed takashi iwai tiwai suse.de signed pavel emelyanov xemul parallels.com,,
5276,9b92975e572be286325dd96b4b2c9a5855ee3185,akashi Iwai <tiwai@suse.de>, 2015-06-01 17:05:00 +0300, , embed destdir install prefix passing destdir prefix prefix option crit install result bogus destdir embedded installed object instead pas destdir root prefix prefix option respectively signed takashi iwai tiwai suse.de signed pavel emelyanov xemul parallels.com,,
5277,908bb092d631400bf6331b99904b7419e4c967ae,avel Emelyanov <xemul@parallels.com>, 2015-06-01 15:03:14 +0300, , criu version 1.6 got quite lot new stuff release biggest code merge power arch port another big thing happened criu integration libcontainer tiny change become big next release criu show command going thrown away monthes crit tool used instead signed pavel emelyanov xemul parallels.com,,
5278,dbda403b8de7b0d94804916d0a557d25946eb7eb,avel Emelyanov <xemul@parallels.com>, 2015-05-29 16:01:00 +0300, , crit avoid full exception trace meeting unknown magic image signed pavel emelyanov xemul parallels.com acked andrew vagin avagin virtuozzo.com,,
5279,5a9fe81b75a8beaa6798534d863c4cdc2f72807d,ndrey Vagin <avagin@openvz.org>, 2015-05-29 18:49:00 +0300, , lock print unknown file lock clear lock supported signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5280,2e8ddb2db07207dc341c019d17f70888fefdd734,avel Emelyanov <xemul@parallels.com>, 2015-05-29 16:03:00 +0300, , proc use parent proc_self_fd cached descriptor call open_proc proc_self ... proc self descriptor cached criu process fork child open_proc proc_self ... get parent proc descriptor signed pavel emelyanov xemul parallels.com acked andrew vagin avagin virtuozzo.com,,
5281,c9c41ddfa90dffffbba8b043b6f4ce7971b87fc3,avel Emelyanov <xemul@parallels.com>, 2015-05-29 14:45:00 +0300, , img remove empty lazy image dump dump generate data image file respective file created used 1.5. brings potential problem file image name exists dump e.g dump file left previous maybe unsuccessful dump restore would pick file read bad wrong fake data return proper behavior back file name empty image removed signed pavel emelyanov xemul parallels.com,,
5282,5e55b71b93e452373fb9945ead5154a35c8d184c,ndrey Vagin <avagin@openvz.org>, 2015-05-29 14:57:00 +0300, , test save log test directory test fails save criu directory expect log image signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5283,827a86287cd8a5f4fdbd9871ef55483c421bb7de,avel Emelyanov <xemul@parallels.com>, 2015-05-29 13:57:18 +0300, , file print file type bug signed pavel emelyanov xemul parallels.com,,
5284,d9fb2011759e10608f9f0e962f85c42ac9637cb6,yrill Gorcunov <gorcunov@openvz.org>, 2015-05-27 15:22:00 +0300, , mount add ability restore tmpfs case dumped read tmpfs fail restoring mounted flag let mount restore content remount upd xemul restore method likely need permission restore signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5285,aef7ff040d2aed8e943d8b27d64bea200fd4fe94,ergey Bronnikov <sergeyb@openvz.org>, 2015-05-18 17:37:00 +0300, , updated readme  attached patch update readme criu repository mark text markdown rename readme file github requires .md extension file markdown inside describe way contribute criu signed pavel emelyanov xemul parallels.com,,
5286,8cc07f058dc12168ba178f7c5588fb6639286afd,ndrey Vagin <avagin@openvz.org>, 2015-05-18 17:47:00 +0300, , zdtm execute checkskip hook currect version doe nothing tycho andersen tycho.andersen canonical.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5287,7424ccaae832d3f3c5846ed57283667ed22bb5af,ndrey Vagin <avagin@openvz.org>, 2015-05-18 21:50:39 +0300, , lsm get host lsm type host mntns check file sys must host mount namespaces called kerndat_init called dump bug triggered restore mount namespace restored process sys kernel security apparmor think better initialize host lsm one place dump restore currently initialize host lsm try use first time work fine dump operation restore work criu check file restored mount namespace doe process optimal signed andrew vagin avagin openvz.org signed andrey vagin avagin openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5288,a6e13e1a446b0d7e19722b90f32e736a27828fb9,ndrey Vagin <avagin@openvz.org>, 2015-05-18 21:50:38 +0300, , zdtm execute static apparmor tycho also make sense test case sys mounted inside container patch fix signed andrey vagin avagin openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5289,e3c349887ada978a0ae289164bf81e9f81f1ecc5,drian Reber <adrian@lisas.de>, 2015-05-19 14:52:00 +0300, , simple makefile fix rpmbuild trying create rpm current criu head fails crit installation ignores destdir simple patch add staged installation crit http github.com adrianreber criu commit signed pavel emelyanov xemul parallels.com,,
5290,d8ee1b7ed254c0af3d3b03bf001d16f8d23762e0,ndrew Vagin <avagin@openvz.org>, 2015-05-14 23:56:00 +0300, , test pipe use shell_job option required execute test jenkins need stop using current terminal need create new session redirect stdout stderr file close stdin signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5291,e02af054693b3bf87f607f6925143fa860251970,ndrew Vagin <avagin@openvz.org>, 2015-05-14 14:34:00 +0300, , test secure use shell_job option required execute test jenkins signed andrew vagin avagin openvz.org acked ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul parallels.com,,
5292,61c1936ed953813275e35ac69b48a4b0b41dc29f,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-05-13 18:45:11 +0200, , ppc64 optimizing bit operation introduce optimized bit operation powerpc signed laurent dufour ldufour signed pavel emelyanov xemul parallels.com,,
5293,d28984e80ec61d3529f8cbe0338431491ae38720,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-05-13 18:45:10 +0200, , ppc64 use optimized memcmp instead belonging common memcmp function belong optimized one stolen kernel signed laurent dufour ldufour signed pavel emelyanov xemul parallels.com,,
5294,16ad19410e408d9b10fd5a93d93e07228c4bd50f,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-05-13 18:45:09 +0200, , ppc64 use optimized memcpy instead belonging common memcpy function belong optimized one stolen kernel anton blanchard anton au.ibm.com signed laurent dufour ldufour signed pavel emelyanov xemul parallels.com,,
5295,892a96c4f3830ceb4921bd9fb0455dfb692ddc80,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-05-13 18:45:08 +0200, , ppc64 fix assembly code add various register definition clean assembly code signed laurent dufour ldufour signed pavel emelyanov xemul parallels.com,,
5296,5f572e05960d1dfdda660e29642f83ff2ae916d2,ndrew Vagin <avagin@openvz.org>, 2015-05-13 16:18:00 +0300, , libcriu use shell_job option signed andrew vagin avagin openvz.org acked ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul parallels.com,,
5297,b197dbdae424004f4ca704275c8733a39653ac30,uslan Kuprieiev <kupruser@gmail.com>, 2015-05-12 15:35:00 +0300, , criu systemd allow enabling criu service currently possible enable criu service make install install section criu.service file signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5298,53bbea73582ab7772d052e4729dfc5bd8aa01bfc,yrill Gorcunov <gorcunov@openvz.org>, 2015-05-12 12:34:00 +0300, , subject net fail missing icmp entry icmp entry missing 3.10 kernel pcs7 default one simply skip dump restore signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5299,121e0b906f4ed43da2edc3f3b3129140da074c49,yrill Gorcunov <gorcunov@openvz.org>, 2015-05-08 15:43:39 +0300, , sysctl make ctl_read nonfatal entry might missing cause criu stop dumping know entry safe unuse signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5300,a1b2b10b9353bdf8a95192be65f0d572b29bf762,yrill Gorcunov <gorcunov@openvz.org>, 2015-04-24 17:53:30 +0300, , doc rework manual think might readable group option command result please read tell think put formatted manual read diff almost impossible  update description use command various formatting text nitpicks criu criu manual criu    name criu checkpoint restore userspace  synopsis criu command option  description criu tool checkpointing restoring running application doe saving state collection file see dump command creating equivalent process file see restore command restore operation performed later time different system  option option depending command criu run  common option common option applied command  num ... set logging level num higer level output produced either numeric value multiple used  following level available  message error  also warning default level  vvv also information message timestamps  vvvv lot debug  pidfile file write root task service page server pid file  log file file write logging message file  log pid write separate logging file per pid  image dir path use path path base directory look dump file set  prev image dir path use path path parent directory look dump file set make sence case increment dump  work dir dir use directory dir putting log pidfiles statistic specified path option taken  close close file descriptor action  libdir path path plugins directory  action script script add external action script environment variable contains one action  post dump run action upon dump completion  post restore run action upon restore completion  network lock lock network target network namespace  network unlock unlock network target network namespace  setup namespaces run action root task created required namespaces note early stage restore nothing restored yet except namespaces  version print program version exit  help print command list exit command list short one overview doe match manual  pre dump launch named pre dump procedure criu doe snapshot memory change since previous pre dump also criu form fsnotify cache speedup restore procedure pre dump requires least option see dump optionally page server option may specified  track mem turn memory change tracker kernel option passed memory tracker get turned implicitly  dump start checkpoint procedure  tree pid checkpoint whole process tree starting pid  leave running leave task running state checkpoint instead killing option pretty dangerous used understand  task run checkpointed modify tcp connection delete file dangerous action criu guarantee next restore action fail likely user start criu option passed least file system snapshot must done help post dump script  word use really needed  leave stopped leave task stopped state checkpoint instead killing   ext unix dump external unix socket  namespaces ... checkpoint namespaces namespaces must separated comma currently supported namespaces ipc mnt pid net  manage cgroups collect cgroups image thus gon restored without argument criu save cgroups configuration associated task  tcp established checkpoint established tcp connection  veth pair correspondence outside inside name veth device  evasive device use path device file original one inaccessible  page server send page page server see page server command  force irmap force resolving name inotify fsnotify watch  auto dedup deduplicate old data page image previous dump implies incremental dump mode see pre dump command  file lock dump file lock necessary make sure file lock user taken dump safe use enclojured container lock holed someone outside   ext mount map key val setup mapping external mount key mountpoint inside container corresponding val string written image mountpoint root value  link remap allow link unlinked file back possible modifies till restore  shell job allow dump shell job implies restored task inherit session process group criu also option allows one migrate single external tty connection word option allows one migrate application top friend passed dump must specified restore well  cpu cap cap specify cap cpu capability written image file basically cap one cpu criu writes cpu related information image file option omitted set none image written default criu write image  restore restores previously checkpointed process  inherit num existing inherit file descriptor allows treat file descriptor num already opened via existing one instead trying open inherit  restore detached detach criu restore complete  restore sibling restore root task sibling make sense restore detached   root path change root filesystem path run mount namespace  manage cgroups restore cgroups configuration associated task image  cgroup root controller newroot change root cgroup controller installed controller mean root default controller specified  tcp established restore previously dumped established tcp connection implies network locked dump restore phase side connection simply notice kind lag  veth pair correspondence outside inside name veth device  file lock restore file lock image  ext mount map key val setup mapping external mount key value image val dump val path host bind mounted container mountpoint path image  ext mount map auto special case flag passed external mount missing command line ext mount map key val syntax criu attempt automatically resolve mount namespace  enable external sharing enable external master flag enable external shared slave mount resolved automatically ext mount map auto passed  auto dedup soon page restored get punched image  shell job restore shell job word inherit session process group criu  cpu cap cap cap specify cap cpu capability present cpu process restoring inverse capability prefix option implies cpu cap passed dump well except fpu option case  require capability default mode cpu cap passed without argument safe mode  cpu require cpu capability image match runtime cpu  fpu requre cpu comaptible fpu example process might dumped xsave capability attempted restore without present target cpu case refuse procceed default mode cpu cap present command line note argument might passed even dump cpu cap specified becase fpu frame always encoded image  require cpu compatibility instruction level  none ignore capability dangerous mode behaviour implementation dependent try use really required  one possible need using option cpu cap cpu passed dump image migrated capable processor one need restore application default criu refuse proceed without relaxing capability cpu cap none parameter  check test wheter kernel support date   check yet merged feature  feature name check particular feature instead checking everything one may specify exactly feature tested name may mnt_id aio_remap timerfd tun userns  page server launch criu page server mode  daemon run page server daemon background process  address address page server address  port number page server port number  exec executes system call inside destination task context  service launch criu rpc daemon mode criu listeninð rpc command socket perform convenient case daemon running privilege superuser mode client   dedup start pagemap data deduplication procedure criu scan pagemap file try minimalize number pagemap entry obtaining reference parent pagemap image  cpuinfo dump fetch current cpu feature write image file  cpuinfo check fetch current cpu feature cpu criu running test compatible one present image file  syscalls execution run system call another task context use  criu exec pid syscall string  command syscall string look like  syscall name syscall argument ...  command line argument transformed system call argument following rule  one start rest get copied target task address space respective syscall argument pointer string  otherwise treated number converted strtol directly passed system call  example checkpoint program pid 1234 write image file directory checkpoint  criu dump checkpoint 1234  restore program detaching criu  criu restore checkpoint  close file descriptor number task pid 1234  criu exec 1234 close  open file named foo bar read write task pid 1234  criu exec 1234 open foo bar  author openvz team  copyright copyright 2011 2015 parallel inc    criu 0.0.3 2015 criu signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5301,07816f654b96b2b3c7323605a9065604c4ff95e6,ndrew Vagin <avagin@openvz.org>, 2015-05-09 09:43:00 +0300, , test rpc write file build directory reported jenkins signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5302,616ad569703f045d2ed0de74615770dc7a5ff537,uslan Kuprieiev <kupruser@gmail.com>, 2015-05-08 22:21:00 +0300, , criu crit install use prefix prefix instead destdir reported hui kang hkang.sunysb gmail.com signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5303,8869d3ccc8ae64f1da9b0e63276547b51518f48f,ndrew Vagin <avagin@openvz.org>, 2015-05-08 16:57:28 +0300, , test rpc use shell job want execute test jenkins signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5304,23426070ec4e32e0eefad425506b91c7763d0a82,ycho Andersen <tycho.andersen@canonical.com>, 2015-05-08 16:13:00 +0300, , test fix syntax error mnt_ext_master somehow got lost shuffle apology andrew vagin avagin openvz.org reported andrew vagin avagin openvz.org signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5305,f57fdd34f3cd057763c955e8639be8cab6d7d53f,uslan Kuprieiev <kupruser@gmail.com>, 2015-04-28 23:22:00 +0300, , pycriu image support netns.img reported cyrill gorcunov gorcunov gmail.com signed ruslan kuprieiev kupruser gmail.com tested cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5306,08cdae901b566092370f03c23de83f544373e45b,ir Kolyshkin <kir@openvz.org>, 2015-05-05 15:31:12 -0700, , log_init leak error reported coverity cid 51641 signed kir kolyshkin kir openvz.org acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
5307,2b8f61393e0b99e36e292880f6b8da66317176a1,ir Kolyshkin <kir@openvz.org>, 2015-05-05 15:31:11 -0700, , tunfile_open leak error path reported coverity cid 51640 signed kir kolyshkin kir openvz.org acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
5308,4f9e509c1597d1782e953dc7a83acc4454b2b7ef,ir Kolyshkin <kir@openvz.org>, 2015-05-05 15:31:10 -0700, , restore_fs leak fds error first open dd_cwd leak opened dd_root second chroot dd_root fails leak opened dd_cwd instead adding close statement place let change code close fds exit path reported coverity cid 51639 cid 51631 signed kir kolyshkin kir openvz.org acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
5309,8d11952f6bc43cdd0a60d4cd8d62d180d4d50877,ir Kolyshkin <kir@openvz.org>, 2015-05-05 15:31:09 -0700, , serve_out_fd leak error reported coverity cid 51629 signed kir kolyshkin kir openvz.org acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
5310,5e82fba10ed4955385cf3183395a96d7f1121d24,ir Kolyshkin <kir@openvz.org>, 2015-05-05 15:31:08 -0700, , open_inet_sk leak socket error reported coverity cid 51628 signed kir kolyshkin kir openvz.org acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
5311,c6e724f61a2f9ffae9145d485443aa0b8920de66,ycho Andersen <tycho.andersen@canonical.com>, 2015-05-06 16:18:44 -0600, , lsm add test apparmor signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5312,cf7a73389df9c6c98a816b6fd30fae10c0781733,ycho Andersen <tycho.andersen@canonical.com>, 2015-05-06 16:18:43 -0600, , test add checkskip hook although skip macro actually anything skip test looked adding test_skip function zdtm lib seem easy race free way propagate exit code run_test zdtm.sh add checkskip hook use apparmor test e.g apparmor avialable kernel disabled signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5313,5fe3a138df9d157e3e29c910ca9ff9186cd5ad7f,ycho Andersen <tycho.andersen@canonical.com>, 2015-05-06 16:18:42 -0600, , lsm add support ring lsm profile patch add support checkpoint restore two linux security module apparmor selinux actual checkpoint restore code interesting lsm restore restorer blob since may block number thing want part restore process tried originally get work using library restorer blob could _not_ get thing work correctly assume something wrong static linking see draft attempt http github.com tych0 criu commits apparmor using library try resurrect make sense way though lsm_profile life creds.proto instead task core look canonical place selinuxfs try special case selinux profile name allow unconfined selinux profile signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5314,a8b7e53b46cac77f55e3039d07b8404b43e22909,ycho Andersen <tycho.andersen@canonical.com>, 2015-05-06 08:07:53 -0600, , test add mnt_ext_ test zdtm.sh note specific mounting actually test signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5315,8adbdbb1e61c32789200b7146be8f65e86255615,ycho Andersen <tycho.andersen@canonical.com>, 2015-05-06 08:07:52 -0600, , test add test mount external master peer signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5316,9997856e22fac4b85becc24aec3b6483cd905cc8,ndrey Vagin <avagin@openvz.org>, 2015-05-06 08:07:51 -0600, , zdtm check ext mount map auto tycho andersen tycho.andersen canonical.com signed andrey vagin avagin openvz.org signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5317,46a0e74d5f3934ab4527f21d4f1c2dc21682f2d3,yrill Gorcunov <gorcunov@openvz.org>, 2015-05-05 14:07:33 +0300, , make version ensure .gitid exist vefore read case .gitid file might endup build error make sure exist reported pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5318,1e919423a845a16f41dc298bf11e20a3b29af4cf,ir Kolyshkin <kir@openvz.org>, 2015-05-06 01:25:00 +0300, , cr_page_server avoid using uninit variable case opts.ps_socket set see commit 7058714 call accept peer address caddr left uninitialized try print fix moving printing code right accept reported coverity cid 51645 signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
5319,2403ee4695d0059a3613ebf6d6e8d02fc1a27cc6,uslan Kuprieiev <rkuprieiev@cloudlinux.com>, 2015-05-06 12:22:00 +0300, , libcriu add skip_mnt enable_fs support signed ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul parallels.com,,
5320,c32add821fad5a1629005e40521af3c039102a8a,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-05-05 17:03:22 +0200, , ppc64 belong sysconf get current page size page size may change page size read sysconf suggested christopher covington cov codeaurora.org signed laurent dufour ldufour signed pavel emelyanov xemul parallels.com,,
5321,61984edd1a8f533c78ecef6696f6fc75b88cf2b6,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-05-05 16:53:05 +0200, , ppc64 fixing comment fixing comment leading think 32bit task supported case record ppc64le supporting 32bit task ppc64 big endian architecture option support 32bit task criu yet run ppc64 reported christopher covington cov codeaurora.org signed laurent dufour ldufour signed pavel emelyanov xemul parallels.com,,
5322,9b0746572ee85046aef4a791fa04ba56e9189c50,yrill Gorcunov <gorcunov@openvz.org>, 2015-05-05 17:09:26 +0300, , net drop test use known arra_size might miss entry expression let use known array size instead reason trigger test earlier reported andrew vagin avagin odin.com signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
5323,4120637ffc30828ae701e8bce6c093b602c82c58,ndrey Vagin <avagin@openvz.org>, 2015-05-05 15:56:00 +0300, , zdtm lock belong child parent lock created flock associated open file description mean duplicate file descriptor created example fork dup refer lock reported jenkins signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5324,76b4bad1fe6bcfef3d06b560539a1cc0f5a965ec,ndrew Vagin <avagin@openvz.org>, 2015-04-30 19:17:00 +0300, , test makefile export zdtm_args variable used makefile.zdtm signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5325,0f857e0d5fcc3f50d7df9072130292559dd90b95,yrill Gorcunov <gorcunov@openvz.org>, 2015-04-30 23:07:57 +0300, , net make devconfs static used outside net.c signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5326,549998b118e840a83b4a8c3ed435296202a04113,yrill Gorcunov <gorcunov@openvz.org>, 2015-04-30 23:07:56 +0300, , sysctl pas number request argument save memory signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5327,c8154faf2ce4827f7d4ff998a98a305e48be6512,yrill Gorcunov <gorcunov@openvz.org>, 2015-04-30 23:07:55 +0300, , net use snprintf instead sprintf signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5328,fac0e2d11bc9c569b08f3b48567639d92e6bdd17,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-05-05 12:44:00 +0300, , cscope ignore symbolic linked file run cscope complains file find cscope find file test zdtm live streaming socket tcp.c cscope find file test zdtm live streaming socket tcp6.c cscope find file test zdtm live static socket tcpbuf local.c cscope find file test zdtm live static cscope find file test zdtm live static cscope find file test zdtm live static socket tcp6.c cscope find file test zdtm live static socket tcpbuf6.c cscope find file test zdtm live static cscope find file test zdtm live transition fork2.c file relative symbolic link since cscope run top directory link valid patch remove symbolic link list scanned file removing tag since real file still scanned addition test directory taken account signed laurent dufour ldufour acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5329,3ea2fd78ebe21a9dc2f8d64498f3894d4cc310a8,ir Kolyshkin <kir@openvz.org>, 2015-05-02 00:15:00 +0300, , crtools.c fix compilation clang fix following error link arch x86 syscalls.built in.o arch x86 crtools.c error unused function werror wunused function static inline void void function consists build_bug_ons get optimized let add __attribute__ __unused__ clang stop complaining used unused fix arch whitespace cleanup signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
5330,43fb948400acbe9b4efc02365f32d5c2d99a9a91,ir Kolyshkin <kir@openvz.org>, 2015-05-01 02:25:00 +0300, , makefile allow optional local rule use makefile.local add rule submitting build coverity rule contain login credential kept private including makefile.local present seems best way achieve also add makefile.local .gitignore make sure never get commited repo signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5331,af555618c602ce754a8d2470a1168d03bf8ac3a4,ndrey Vagin <avagin@openvz.org>, 2015-05-01 16:03:00 +0300, , image free img object pb_write_one unexpected behaviour pb_write_one open_image_lazy do_open_image xfree img 255 pb_write_one img cpu_info pb_cpuinfo cid 92728 memory illegal access use_after_free calling close_image dereferences freed pointer img 256 close_image img 257 return 258 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5332,281a0f9d20b607d1ccd773083319e0b8dcf79f89,ndrey Vagin <avagin@openvz.org>, 2015-05-01 14:08:00 +0300, , kerndat pas null terminated string strstr signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5333,59bb6880331399337498d768feccbdc8162bdbeb,ndrey Vagin <avagin@openvz.org>, 2015-05-01 14:06:00 +0300, , kerdat leak file descriptor 288 flock lock_sh 289 pr_perror take lock cid 92726 resource leak resource_leak handle variable going scope leak handle 290 return 291 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5334,8ac865f3ee57e9b2ef59d1a06cd5e05d577f0e23,ir Kolyshkin <kir@openvz.org>, 2015-05-01 02:25:00 +0300, , fix check open_image ret open_image modified return pointer rather int commit 295090c1 two check overlooked never fixed signed kir kolyshkin kir openvz.org acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
5335,b17962ad8dd595409267a1b742d0c8f1701a4076,ir Kolyshkin <kir@openvz.org>, 2015-05-01 02:25:00 +0300, , fix pr_perror usage using pr_perror format string end added macro signed kir kolyshkin kir openvz.org acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
5336,de9df91002a347030fb783abc620bc44085d09f2,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-04-30 16:52:44 +0200, , per architecture restorer trampoline architecture like ppc64 requires trampoline called prior standard restorer service patch introduces trampoline overwritten architecture arch include asm restore.h    architecture need overwrite nothing signed laurent dufour ldufour signed pavel emelyanov xemul parallels.com,,
5337,303b875892f3d8d3e1fee2a063be8f7e63e576c9,aurent Dufour <ldufour@linux.vnet.ibm.com>, 2015-04-30 09:57:49 +0300, , arch ppc64 add powerpc support patch initiate ppc64le architecture support criu note ppc64 big endian architecture yet supported since still several issue address architecture however long term two architecture addressed using almost code sharing ppc64 directory major ppc64 issue loader involved parasite code loaded relocation done parasite code consequence must set manually entering parasite code got filled furthermore fixup code service global address fixed loader run branching local address assembly code doe jumping long term relocation done loading parasite code introducing trampoline entry point restorer blob entry point dealing ppc64 specific entry point overwritting standard one restore.c instead using ifdef may introduce per arch wrapper  criu need kernel patch run powerpc yet upstream tracking vdso remapping enabling kcmp system call powerpc feature yet supported altivec register vsx register support lot thing missed signed laurent dufour ldufour signed pavel emelyanov xemul parallels.com,,
5338,641693f8f077feb882e53d643123b9f1069952bf,ndrew Vagin <avagin@openvz.org>, 2015-04-28 23:55:07 +0300, , proc_parse remove debug message signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5339,84c65f00f91d306041f6948d74e32ee6b9093599,ndrew Vagin <avagin@openvz.org>, 2015-04-28 23:55:06 +0300, , proc_parse handle error breadline 27.746 00.008815 error bfd.c 149 bfd error reading file process reported jenkins signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5340,a2a0e2f2ed14024ad99f6fc15921ac1b796c99c8,ndrew Vagin <avagin@openvz.org>, 2015-04-27 15:42:34 +0300, , test rpc use shell job want execute test jenkins signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5341,fe0afaa7877cc71300de812e37f0d1c5b180ac74,ndrew Vagin <avagin@openvz.org>, 2015-04-27 15:42:33 +0300, , test rpc unlink pidfile end required execute test time signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5342,bc3ee6c50d437ae56debb063d5a0fd1e412ac13e,ndrew Vagin <avagin@openvz.org>, 2015-04-27 15:46:14 +0300, , jenkins use tmpfs image criu iter resuces load signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5343,4834c39d45bbde1a3ccb85e6cd82bc308dd724c9,ndrey Vagin <avagin@openvz.org>, 2015-04-27 15:05:00 +0300, , jenkins criu iter reduce number job maps007 fails due intensive load signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5344,3785d112c55325773042ea619f90b31c3c2d4d31,ndrey Vagin <avagin@openvz.org>, 2015-04-27 14:59:54 +0300, , test unix callback use shell job optios required jenkins execute job signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5345,76df748c6c227fa23f99ba72b9bb97b69f8b1b8f,ndrey Vagin <avagin@openvz.org>, 2015-04-27 14:59:53 +0300, , jenkins use tmpfs image criu sibling signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5346,92480346e10bacb8e49f21bffa2c9145d5072cae,leg Nesterov <oleg@redhat.com>, 2015-04-25 20:07:00 +0300, , add rpc option enable skip_mount subject signed oleg nesterov oleg redhat.com signed pavel emelyanov xemul parallels.com,,
5347,be4acd9d6e897ba4185b4e6e9770b1f83e10a4c7,leg Nesterov <oleg@redhat.com>, 2015-04-24 21:32:00 +0300, , fix parse_mnt_flags dump restore strictatime correctly criu always retores mount mnt_relatime kernel mode default need pas ms_strictatime explicitely see noatime ms_relatime make mnt_opt2flag sb_opt2flag static otherwise gcc actually creates array stack even const signed oleg nesterov oleg redhat.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5348,25267e5b30375d3282abd5c34c61190ed2615d03,ndrey Vagin <avagin@openvz.org>, 2015-04-24 14:49:15 +0300, , lock parse lock field fdinfo avaliable proc lock contain wrong pid lock always need check fact starting 4.1 kernel lock reported fdinfo rebase curret master skip note_file_lock signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5349,b9c14a09b032bd896523a2d6e10f5bf87df45b55,ndrey Vagin <avagin@openvz.org>, 2015-04-24 14:49:14 +0300, , kerndat check lock field fdinfo starting 4.1 kernel fdinfo contains information file lock has_lock has_fdinfo_lock signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5350,a0497682423ffeb5064d2fc40651b13efdd3715d,ndrew Vagin <avagin@openvz.org>, 2015-04-24 18:59:00 +0300, , test fix random jenkins test failure ext pipe test build binar criu longer accepts extra empty argument adduser add one user came unnoticed due error test failure detection 36a13cbd test ignore error test signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5351,80d913dc4177dfe0ea5f449f1dd2f964cff6075f,avel Emelyanov <xemul@parallels.com>, 2015-04-24 19:19:20 +0300, , test run unix ext test debugging signed pavel emelyanov xemul parallels.com,,
5352,36a13cbd5a6a3886909245020d43e3ff980b7d24,ndrey Vagin <avagin@openvz.org>, 2015-04-24 15:47:00 +0300, , test ignore error test signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5353,3d377863bfcbf3dceffa631583156fcd7aa24223,yrill Gorcunov <gorcunov@openvz.org>, 2015-04-22 13:23:45 +0300, , make introduce ldflags variable need custom flag build 32bit varian criu 64bit host system let pas ldflags  signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5354,b82a441525db2a42ba46e43cd2b154ab2ee440a8,yrill Gorcunov <gorcunov@openvz.org>, 2015-04-22 20:20:02 +0300, , x86 add explicit type conversion encode decode pointer eliminate warning 32bit build signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5355,05b28b7ba12ab39326ec6b4cc15a9302d24249a3,yrill Gorcunov <gorcunov@openvz.org>, 2015-04-22 20:20:01 +0300, , x86 add explicit type conversion warning x86 like pri conversion ugly hell plain long enough signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5356,1647e056d02ad0a6776c1fda0cc5213dec0b90d6,yrill Gorcunov <gorcunov@openvz.org>, 2015-04-22 20:19:59 +0300, , make itroduce protoufix variable need x86 well arm signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5357,9fd61881d93763a0da23784bd50495e046b44e21,yrill Gorcunov <gorcunov@openvz.org>, 2015-04-22 20:19:57 +0300, , make export arch srcarch need x86 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5358,89671a09294b63c2870873372a87418867facab7,yrill Gorcunov <gorcunov@openvz.org>, 2015-04-22 20:19:56 +0300, , x86 x86 syscalls rework build procedure get rid shell script everything via make parallel mode collect syscall related data syscalls subdirectory gon implement bit mode soon drop __nr_ constant using parasite code inject dumper criu exec mode signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5359,497b79d4bab3c2dc91052bebac1487cc0bc3c2db,leg Nesterov <oleg@redhat.com>, 2015-04-23 17:30:00 +0300, , simplify asprintf failure handling add_fsname_auto contrary naively thought content fsauto_names undefined asprintf fsauto_names fixed check return code asprintf simplify code bit rely return value asprintf simply nullify fsauto_names failure avoid assymetrical return false signed oleg nesterov oleg redhat.com acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5360,161cb0b1eb6279e02295148918934eb7280f4a59,ndrey Vagin <avagin@openvz.org>, 2015-04-23 11:14:00 +0300, , zdtm add test dead thread leader alive thread case supported root avagin fc19 criu bash test zdtm.sh static pthread02 execute static pthread02 pthread02 pidfile pthread02.pid outfile pthread02.out dump 3186 warning pthread02 returned left running debug need test zdtm live static pthread02 result fail error test zdtm live static pthread02 namespace dump log root git lock criu test dump static pthread02 3186 dump.log grep error 00.033195 error dump.c 886 zombie thread supported 00.033256 error dump.c 1943 dumping failed end error signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5361,e7c05c5ebaf6d06c69973c3751e0dc4a76cb9791,ndrey Vagin <avagin@openvz.org>, 2015-04-23 14:35:00 +0300, , ptrace print pid error message want know process handled signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5362,cb9b6de396f8f513cce51f91dfe5c96a2657cac0,ndrey Vagin <avagin@openvz.org>, 2015-04-23 23:38:11 +0300, , zdtm add ability execute restore restore_sibling option signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5363,b840ce4ac718b0aab89a25226f7d192d5b920021,ndrey Vagin <avagin@openvz.org>, 2015-04-23 14:23:00 +0300, , restore attach thread root task case rst_sibling case rst_sibling tracing root task tracing leader thread must attach thread stop reported ross boucher rboucher gmail.com ross boucher rboucher gmail.com signed andrey vagin avagin openvz.org tested ross boucher rboucher gmail.com signed pavel emelyanov xemul parallels.com,,
5364,cefe22bdaca2e6f42fa8aec4979465fd702a38ef,hristopher Covington <cov@codeaurora.org>, 2015-04-20 18:09:00 +0300, , use run time page size matter aarch64 page may 64k depending kernel configuration gnu library documentation suggests correct interface query page size sysconf introduce one new architecture specific function like macro page_size x86 aarch32 remains constant minimally affect performance aarch64 sysconf _sc_pagesize correctness http www.gnu.org software libc manual html_node query memory parameters.html minimize churn page_size macro left build time estimation run time page size might fix following error criu aarch64 kernel allowing dump setsid sleep dev null dev null succeed error kerndat.c stat self map_files file directory error util.c 668 read pme pid file directory error parasite syscall.c 1135 open map_files 0x3ffb7da0000 0x3ffb7dac000 procfs file directory signed christopher covington cov codeaurora.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5365,208fe1056530b6629a9ee0e816b71f24093c81de,ndrey Vagin <avagin@openvz.org>, 2015-04-21 20:19:52 +0300, , cgroup play function exit code chance exit wrong code error path signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5366,a67e9f7bb93078a63fe04ae594c1f45d60d75f74,ndrey Vagin <avagin@openvz.org>, 2015-04-21 20:19:51 +0300, , vdso play function exit code chance exit wrong code error path signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5367,e59a81bab68dc8367281c047823dd2d0431850c2,ndrey Vagin <avagin@openvz.org>, 2015-04-21 16:54:39 +0300, , proc_parse handle return code fopen_proc signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5368,4a36feacc791e9b470ecf9e1c54bc393ea8449db,ndrey Vagin <avagin@openvz.org>, 2015-04-21 16:54:38 +0300, , parse_proc take account breadline return error code signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5369,6b4ecb90db5230f70fee73d2948c692f84eb4c9c,ndrey Vagin <avagin@openvz.org>, 2015-04-21 16:54:37 +0300, , proc_parse play function exit code chance exit wrong code error path    _______ _____   ____ signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5370,e448934a199db1a193760440618055a3b7a45040,leg Nesterov <oleg@redhat.com>, 2015-04-21 20:14:00 +0300, , report path fails unable look mount really help understand problem add bit info perhaps make sense change report path dump_one_file fails signed oleg nesterov oleg redhat.com acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5371,80c92e90c2d026ab5b679e5122110c1c9f93dcd7,leg Nesterov <oleg@redhat.com>, 2015-04-21 20:16:00 +0300, , report potential selinux problem mmap_seized fails selinux deny mmap prot_write prot_exec case clear criu fails allocate memory parasite blob tell much add pr_warn hint user signed oleg nesterov oleg redhat.com acked cyrill gorcunov gorcunov openvz.org acked ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul parallels.com,,
5372,d885caf9412c876b180c98c597d8272f40387937,ycho Andersen <tycho.andersen@canonical.com>, 2015-04-21 10:33:55 -0600, , add rpc option automatic external mount handling signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5373,a052e0b60a33e6c94e87235b70001143702f72c4,ycho Andersen <tycho.andersen@canonical.com>, 2015-04-21 10:33:54 -0600, , check return code asprintf ubuntu gcc 4.9.2 get mount.c function mount.c 1414 error ignoring return value asprintfâ declared attribute werror unused result asprintf fsauto_names old name  cc1 warning treated error signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5374,2702615286e5339d497bcdd75265935f927d3dc9,ndrey Vagin <avagin@openvz.org>, 2015-04-21 16:15:44 +0300, , show read second magic required image file contains two magic need handle signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5375,90e79b741cdf96badf69b628b9f5036ff0af6ae7,ycho Andersen <tycho.andersen@canonical.com>, 2015-04-15 22:17:00 +0300, , mnt remember restore ms_unbindable note root unbindable restore fail cr_pivot_root try bind mount put dir case want support may want rearrange code called signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5376,30ecf44f481f288f777f7c115ea6b2f840ba5047,ycho Andersen <tycho.andersen@canonical.com>, 2015-04-15 22:17:00 +0300, , mnt do_new_mount restore sharing function mask sharing initial setting correctly reset flag afterwards oleg nesterov oleg redhat.com signed tycho andersen tycho.andersen canonical.com acked andrew vagin avagin odin.com look good oleg nesterov oleg redhat.com signed pavel emelyanov xemul parallels.com,,
5377,7e93eb3bec4952d084d7e485284456c13b60ad4e,leg Nesterov <oleg@redhat.com>, 2015-04-20 17:42:26 +0200, , make possible use enable change add_fsname_auto join multiple enable option note always win enable foo bar result fsauto_names signed oleg nesterov oleg redhat.com signed pavel emelyanov xemul parallels.com,,
5378,03cb8a0a66d1074028ad66090a513e4c1fdfaade,leg Nesterov <oleg@redhat.com>, 2015-04-20 17:42:22 +0200, , fix wrong usage strtok fsname_is_auto stupid fsname_is_auto use strtok 2nd call see zero instead comma fsauto_names add css_contains helper change fsname_is_auto use signed oleg nesterov oleg redhat.com signed pavel emelyanov xemul parallels.com,,
5379,0dfdd052e7e0a1724d03f2662d36ce1f462127fc,avel Emelyanov <xemul@parallels.com>, 2015-04-21 16:09:44 +0300, , show deprecate action criu tool crit utility print image content human readable format show thrown time soon let deprecate leave functional output asked non terminal i.e plan shell criu show work signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
5380,a1ca6efa50bc9149babed412892fd19496544cfd,ndrey Vagin <avagin@openvz.org>, 2015-04-21 16:09:09 +0300, , service allocate buffer message dinamically currently use static buffer small error service.c failed unpacking request success error service.c 694 recv request success data short length prefix 1217 use recv instead recvmsg reported ross boucher rboucher gmail.com ross boucher rboucher gmail.com signed andrey vagin avagin openvz.org acked ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul parallels.com,,
5381,1b406338d214f6079eea0c3c270d06d1a197e7f9,yrill Gorcunov <gorcunov@openvz.org>, 2015-04-16 15:13:26 +0300, , make rebuild version git commit changed original message tycho might slightly controversial change since always cause crtools.h rebuilt may annoying however right version.h generated initial git build never touched also incorrect could potentially something fancy monitoring .git head change since may always exist building tarball little sticky andersen tycho.andersen canonical.com pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5382,58ef9bc4f2f26e03a5930604fa858618b5126ce0,yrill Gorcunov <gorcunov@openvz.org>, 2015-04-21 16:06:04 +0300, , zdtm make fail symlink already exist symlink present test run fails already exist message let make link unconditional fine signed cyrill gorcunov gorcunov openvz.org acked andrey vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
5383,80a30a22793800130828da95929ac8059fe8d6db,yrill Gorcunov <gorcunov@openvz.org>, 2015-04-21 16:05:28 +0300, , test fpu01 run x86 look like compiler encode wide variant memory copying xmm register 32bit mode let drio i386  signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5384,3818d3b9d3ec9c223f3a2257a4bb6d562c279693,ycho Andersen <tycho.andersen@canonical.com>, 2015-04-15 20:46:00 +0300, , use git describe gitid git describe output slightly useful git version info v1.5 132 ga10f39e motivation like begin enforcing criu version liblxc like enable people use git version 1.6 since stuff like ext mount map auto report version 1.5 tell patchlevel git describe doe signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5385,8b90e74d892a33fbb980d707b8d0dc0db2f5c001,ycho Andersen <tycho.andersen@canonical.com>, 2015-04-15 18:00:00 +0300, , mnt match wrong nested bind mount andrey reported issue took figure exactly might cause think comment describes accurately example end mountinfo host like 253 root bind1 subdir root bind2 relatime shared ext4 dev disk uuid 6c5a78e0 95fa 49a8 aa91 a8093d295e58 data ordered 253 root bind1 root bind3 relatime shared ext4 dev disk uuid 6c5a78e0 95fa 49a8 aa91 a8093d295e58 data ordered reported andrew vagin avagin odin.com andrew vagin avagin odin.com signed tycho andersen tycho.andersen canonical.com acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
5386,7e395cae2665470ba313beba2ad65f2e7434a899,ycho Andersen <tycho.andersen@canonical.com>, 2015-04-14 23:23:26 +0000, , mnt cut shared root path bind path mount like cgmanager sys cgroup cgmanager master tmpfs tmpfs mode 755 present container host similar bind mount e.g cgmanager sys cgroup cgmanager shared tmpfs tmpfs mode 755 best match mount root path target mountpoint part path cut shared piece path concatenate non duplicate piece reported andrew vagin avagin odin.com andrew vagin avagin odin.com signed tycho andersen tycho.andersen canonical.com acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
5387,a1649fd3dbd50d1b664a5543757ea0cfa55b1b0a,ycho Andersen <tycho.andersen@canonical.com>, 2015-04-14 23:23:25 +0000, , mnt typo fix malloc size amount space snprintf past signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5388,e72ccc1dc6f2fa8a66afbf3e5f5b75d1a5764d87,avel Tikhomirov <ptikhomirov@odin.com>, 2015-04-13 18:21:00 +0300, , zdtm reset file position begginning file netns dev writing netdev configuration non zero offset supported  301.431638 netns dev wrote accept_local file position supported future silence warning set  fix compilation sorry please consider signed pavel tikhomirov ptikhomirov odin.com acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
5389,28b8831045a73e62c5219446becec9425e37009b,leg Nesterov <oleg@redhat.com>, 2015-04-14 18:54:14 +0200, , sanitize mntinfo_list initialization collect_mntinfo currently matter correctness wise without previous change imho collect_mntinfo need cleanup return mntinfo_list pointing freed memory failure even currently failure fatal nobody ever use pointer signed oleg nesterov oleg redhat.com tested tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5390,4a15e112772c24c43b60cf00cfaf42ea02a04649,leg Nesterov <oleg@redhat.com>, 2015-04-14 18:54:11 +0200, , kill awful check collect_mntns check added commit aebfabb5 mnt add ext mount map auto option unless totally confused actually belongs already reverted 246367e4e483 add walk_all flag walk_namespaces remove longer needed unobvious signed oleg nesterov oleg redhat.com tested tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5391,745f845fa881eed0ff1bea27e4f0b5a76382bd72,leg Nesterov <oleg@redhat.com>, 2015-04-14 18:54:08 +0200, , revert 246367e4e483 add walk_all flag walk_namespaces longer need populate ext_ns rely find_ext_ns_id doe collect_mntinfo demand signed oleg nesterov oleg redhat.com tested tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5392,42625eac0e519f47dd2a58ae12b344ac7fd06983,leg Nesterov <oleg@redhat.com>, 2015-04-14 18:54:06 +0200, , change find_ext_ns_id collect_mntinfo ext_ns demand currently rely fact mntinfo_list already collected walk_namespaces walk_all true going change patch simply add collect_mntinfo find_ext_ns_id mntinfo_list null need ns_id initialized signed oleg nesterov oleg redhat.com tested tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5393,b1ab33174044be8dc50324142ac5799d0b5ca86e,leg Nesterov <oleg@redhat.com>, 2015-04-14 18:54:03 +0200, , introduce find_ext_ns_id preparation extract search criu mount info code new simple helper find_ext_ns_id also change check ext_ns null rather cosmetic signed oleg nesterov oleg redhat.com tested tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5394,3ef1b53e181bd4b9cb4bbac496140efb987869d3,leg Nesterov <oleg@redhat.com>, 2015-04-14 22:32:18 +0300, , do_new_mount clear do_change_type bit do_new_mount clear ms_shared enough clear bit processed patch also add ms_unbindable even currently used match kernel do_change_type check signed oleg nesterov oleg redhat.com acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5395,b0115358d52f082722e9a6f0ba958f66eb722ac4,avel Emelyanov <xemul@parallels.com>, 2015-04-14 22:08:59 +0300, , img always assume image v1.1 inventory say switch old scheme signed pavel emelyanov xemul parallels.com,,
5396,11c4094c15a3ee91794bfd4b12fd4febc4e73eb5,avel Emelyanov <xemul@parallels.com>, 2015-04-14 17:35:16 +0300, , img initialize image new bool earlier inventory write time late inventory created pre dump thus one always generates image signed pavel emelyanov xemul parallels.com,,
5397,b56b4204d1ae2afd1a8b1424077ad9758361f063,ixun Lan <yixun.lan@gmail.com>, 2015-04-14 20:41:00 +0300, , aarch64 fix undefined struct error tested gentoo linux sys kernel linux header 3.19 installed struct user_pt_regs defined file usr include asm ptrace.h signed yixun lan yixun.lan gmail.com reviewed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
5398,300451fef1b072d80c972d8e40f3bc853baad59d,uslan Kuprieiev <rkuprieiev@cloudlinux.com>, 2015-04-10 13:21:49 +0300, , crit pycriu image fix image incoding add comment signed ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul parallels.com,,
5399,f5ea330ce1f38486a9f80d68504899d7dad48cb3,avel Emelyanov <xemul@parallels.com>, 2015-04-08 16:37:28 +0300, , img introduce v1.1 image image common magic front per image one type image inventory head image service file latter would stats image happen format irmap cache image auxiliary thing convenience since inventory file first one read restore set global new image flag dump write always new format signed pavel emelyanov xemul parallels.com acked ruslan kuprieiev rkuprieiev cloudlinux.com acked andrew vagin avagin odin.com acked cyrill gorcunov gorcunov openvz.org,,
5400,70ccb443f8911f1d51e8227796f797d9cebba82b,avel Emelyanov <xemul@parallels.com>, 2015-04-08 16:36:27 +0300, , img check write magic helper signed pavel emelyanov xemul parallels.com acked ruslan kuprieiev rkuprieiev cloudlinux.com acked andrew vagin avagin odin.com acked cyrill gorcunov gorcunov openvz.org,,
5401,b93821bf1de4bc61c6b3f3335337cd1e65b46f46,leg Nesterov <oleg@redhat.com>, 2015-04-14 15:16:22 +0300, , propogate error fails return ret fails signed oleg nesterov oleg redhat.com acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5402,6400fc95165e81ff5f85ced948bce5f935b3e94a,leg Nesterov <oleg@redhat.com>, 2015-04-14 15:15:19 +0300, , simplify ignore filesystem subtype logic simply overwrite dot symbol right kernel report  signed oleg nesterov oleg redhat.com acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5403,323726b7f18720f8411559cab29bcdfd13564c7c,leg Nesterov <oleg@redhat.com>, 2015-04-10 18:19:00 +0300, , make resolve_source friendly fstype__auto mount resolve_source insists kdev_major make sense however least fstype__auto try use source block device pray work also bout change oleg let send another last functional change promised cleanup discussed remind without patch still dump restore home boot testing machine enable xfs work sense dump succeeds restore fails however let forget moment resolve_source look wrong sure agree safe blindly use source kdev_major mean dumped mountpoint simply restore yes currently work fstypes contains diskless filesystems still probably need cleanup patch make logic look better something like static char resolve_source struct mount_info  kdev_major s_dev  anonymous block device kernel creates diskless mount  return source fstype code fstype__auto pr_err oops something wrong return null  fstype__auto work definition user blame struct stat stat source s_isblk st.st_mode major st.st_rdev kdev_major s_dev minor st.st_rdev kdev_minor s_dev pr_warn hmm verify blkdev let see mount work ... return source  patch doe minimal change make fstype__auto work blkdev  signed oleg nesterov oleg redhat.com signed pavel emelyanov xemul parallels.com,,
5404,2085e078fa50831784a43c10c408ddc57e8c32d5,avel Emelyanov <xemul@parallels.com>, 2015-04-09 18:28:42 +0300, , test add test ext mount map option mostly reuses infrastructure plugin testing signed pavel emelyanov xemul parallels.com,,
5405,ec5b0d849d7007d336cd7835d110a107d738ff80,avel Emelyanov <xemul@parallels.com>, 2015-04-09 18:28:20 +0300, , test rework ext mount plugin test existing set shell script hard debug thing mess root filesystem make better first play system process run new mount namespace statically compiled file init doe simple thing wait sigterm check given filepath contains given string second namespace root subdir instead system bind mount subdir make easier keep thing together make 100 sure external bind mount accessed custom path signed pavel emelyanov xemul parallels.com,,
5406,b508ebcb502233b8dd17760383489772ab0ac41b,ycho Andersen <tycho.andersen@canonical.com>, 2015-04-09 10:32:36 -0600, , opts fix formatting option signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5407,be0a2c251653b8f4421161fe6d67527789908b6d,ycho Andersen <tycho.andersen@canonical.com>, 2015-04-09 10:32:35 -0600, , doc add documentation new mount flag signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5408,fcae4f395402a491b66e3b1d5d0db79c5f8cfe6a,ycho Andersen <tycho.andersen@canonical.com>, 2015-04-09 10:32:34 -0600, , mnt add enable external master option option enables external slave bind mount resolved always assume master match mount match signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5409,0afffc9dc1daee21ef2ee9161a7eb2813a14553a,ycho Andersen <tycho.andersen@canonical.com>, 2015-04-09 10:32:33 -0600, , mnt add enable external sharing flag flag external shared bind mount attempted resolved automatically always assume sharing match mount match signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5410,aebfabb5ad5d9e4291295812944ac49f9dd2854b,ycho Andersen <tycho.andersen@canonical.com>, 2015-04-10 14:34:37 +0000, , mnt add ext mount map auto option option specified external private bind mount specified ext mount map key val attempted resolved automatically introduce look best match based sharing slave try resolve fsroot_mounted mountpoints get rid get rid fsroot_mounted check autodetecting external mount signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5411,e2c38245c613df5e36dcf0253c7652f928e46abf,leg Nesterov <oleg@redhat.com>, 2015-04-09 19:46:38 +0200, , introduce enable cli option finally add enable option specify comma separated list filesystem name treated fstype_auto note obviously option safe use risk dump always succeed mntpoint auto restore fail something wrong mount src mountpoint flag option actually work fstype_auto logic expects signed oleg nesterov oleg redhat.com signed pavel emelyanov xemul parallels.com,,
5412,eaf3a03ced3ec9e704cabce4fb90b05c8b3655dd,leg Nesterov <oleg@redhat.com>, 2015-04-09 19:46:35 +0200, , dump restore fstype name fstype__auto add new mnt_entry fsname member change save fstype name fstype fstype__auto change pas fsname decode_fstype fall back fsname true fstype__auto signed oleg nesterov oleg redhat.com signed pavel emelyanov xemul parallels.com,,
5413,039cf95d59d9611c6cadb284fa47365f6a967bdb,leg Nesterov <oleg@redhat.com>, 2015-04-09 19:46:32 +0200, , introduce name force_auto simple preparation simplify review next patch turn name name force_auto reimplement trivial wrapper top allows restore specify particular fsname treated fstype__auto dump signed oleg nesterov oleg redhat.com signed pavel emelyanov xemul parallels.com,,
5414,38e148e5029f8b7bc22c51c40939be6ed3aefcc9,leg Nesterov <oleg@redhat.com>, 2015-04-09 19:46:30 +0200, , introduce fsname_is_auto name fstype__auto comment say mounting anything wrong true general almost every feature true sense lot supported filesystems need special processing fstype__proc fstype__sysfs importantly logic doe allow spicify command line say currently unsupported hugetlbfs work do_new_mount pas right name option patch add new fstype__auto code name add new entry fsname_is_auto name return true care different fstype fstype__auto code fstype code meaning unless need something special case fstype__auto definition note currently return true obviously pointless dump teach restore handle fstype__auto signed oleg nesterov oleg redhat.com signed pavel emelyanov xemul parallels.com,,
5415,1f9798a6ae42c23e4ead9e8b7d6b0bdbbcfb9e32,leg Nesterov <oleg@redhat.com>, 2015-04-09 19:46:27 +0200, , reserve extra room fstypes preparation enlarge fstypes make possible add new fstype dynamically mean decode_fstype need additional name null check terminate search also change start rely fact fstypes anyway signed oleg nesterov oleg redhat.com signed pavel emelyanov xemul parallels.com,,
5416,7e657d042d68d4d0fc4dda03b6f12f75410a80d8,avel Emelyanov <xemul@parallels.com>, 2015-04-10 17:33:13 +0300, , mount rename var simplify patching signed pavel emelyanov xemul parallels.com,,
5417,f9f99573d74dc8c002871d6f54adcdcdba251d45,ycho Andersen <tycho.andersen@canonical.com>, 2015-04-09 20:32:00 +0300, , mnt relax constraint fuse mount fuse connection present fuse mount type mount namespace refuse dump mount type container external going bind anyway fuse specific thing need done safe dump check fstype fuse well signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5418,71398f5cf5e05453bc3594cda56c003343f7f811,ycho Andersen <tycho.andersen@canonical.com>, 2015-04-09 21:54:00 +0300, , mnt add matching kernel subtypes signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5419,dfa96b5514dfd54900ea3212581e902b4a37c56c,avel Tikhomirov <ptikhomirov@odin.com>, 2015-04-10 10:12:00 +0300, , netdevconf remove redundant unsafe check need check ret break safely unpackes nde close nlsk img case error sorry inconvenience caused patchset signed pavel tikhomirov ptikhomirov odin.com signed pavel emelyanov xemul parallels.com,,
5420,b87ae730fc27b8316f51de634d92323a19564e87,avel Emelyanov <xemul@parallels.com>, 2015-04-09 21:27:32 +0300, , netdev fix detection device conf restore failure signed pavel emelyanov xemul parallels.com,,
5421,eff166e98ce4e8fa39cab12181b42c831c6f79c7,avel Emelyanov <xemul@parallels.com>, 2015-04-09 21:27:18 +0300, , fdinfo hide fdinfos restore error signed pavel emelyanov xemul parallels.com,,
5422,8ec2ea828828aba0929381b99ceeb23eaa597f11,yrill Gorcunov <gorcunov@openvz.org>, 2015-04-09 19:21:30 +0300, , x86 syscall drop redundant _sys_ part definition somehow _sys_ token sneaked __nr term drop close kernel representation signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5423,fbb8b82ea2cf0e9991915a8daa0357f5671d25a5,avel Tikhomirov <ptikhomirov@parallels.com>, 2015-04-08 14:37:00 +0300, , zdtm netns check ipv4 device config preserve check default test value config option randomly generated restricted rand_limit change make config option avoid use system err fail run set namespaces add random check option use option test run net namespace use array_size macro check fscanf snprintf return value properly signed pavel tikhomirov ptikhomirov parallels.com acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
5424,0c2e8890056da3305a68f3f9993df6eb7ddc8e38,avel Tikhomirov <ptikhomirov@parallels.com>, 2015-04-08 10:56:27 +0300, , optimization restore configs device value default namespace default option set device creation device gain default option except created signed pavel tikhomirov ptikhomirov parallels.com signed pavel emelyanov xemul parallels.com,,
5425,e4f62b85cca8105c9befe5eb6e70fa6cdf5f4f83,avel Tikhomirov <ptikhomirov@parallels.com>, 2015-03-31 10:51:13 +0300, , restore net device ipv4 confs signed pavel tikhomirov ptikhomirov parallels.com signed pavel emelyanov xemul parallels.com,,
5426,590073fc55aa6baa694c564905039c527a0b3e48,avel Tikhomirov <ptikhomirov@parallels.com>, 2015-03-31 10:51:12 +0300, , restore netns ipv4 conf default restore order default  device signed pavel tikhomirov ptikhomirov parallels.com signed pavel emelyanov xemul parallels.com,,
5427,0158e3000199379e4dca153d5baab7914dabe949,avel Tikhomirov <ptikhomirov@parallels.com>, 2015-03-31 10:51:11 +0300, , dump netns ipv4 conf default signed pavel tikhomirov ptikhomirov parallels.com signed pavel emelyanov xemul parallels.com,,
5428,72b42d485fefec2e7ad010352bb1ecae80039bf2,avel Tikhomirov <ptikhomirov@parallels.com>, 2015-03-31 10:51:10 +0300, , save net device confs bunched criu sysctl api signed pavel tikhomirov ptikhomirov parallels.com signed pavel emelyanov xemul parallels.com,,
5429,e700fe93f67c6873fb29218293843927a225db6a,avel Tikhomirov <ptikhomirov@parallels.com>, 2015-03-31 10:51:09 +0300, , add devconfs array store config option name signed pavel tikhomirov ptikhomirov parallels.com signed pavel emelyanov xemul parallels.com,,
5430,2b49efeaf3e18e21baf5e2c12922358b23d26b0c,avel Tikhomirov <ptikhomirov@parallels.com>, 2015-03-31 10:51:08 +0300, , add netns protobuf entry image also add conf net device entry signed pavel tikhomirov ptikhomirov parallels.com signed pavel emelyanov xemul parallels.com,,
5431,15bd7ce29a80e2b295aa4c9174ebeac542a5c6fb,avel Emelyanov <xemul@parallels.com>, 2015-04-09 13:25:18 +0300, , mount fix compilation previous comment signed pavel emelyanov xemul parallels.com,,
5432,246367e4e483bea0b0bfeb6904e31051da0c2884,ycho Andersen <tycho.andersen@canonical.com>, 2015-04-07 23:37:16 +0000, , add walk_all flag walk_namespaces rest series need walk namespaces autodetect mount master shared private bind mount need information criu namespace case namespaces signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5433,f72f3824f468549b913a637419c03bcb35a37b05,aied Kazemi <saied@google.com>, 2015-04-06 19:22:00 +0300, , fail tmp doe exist currently tmp doe exist criu fails able create temporary directory checkpointing restoring container rely existence tmp container use root temporary directory removed criu done signed saied kazemi saied google.com acked andrew vagin avagin odin.com signed pavel emelyanov xemul parallels.com,,
5434,ad03d67a4b9e93f458aeaa77b64f116779b8f7af,ycho Andersen <tycho.andersen@canonical.com>, 2015-04-06 18:06:45 +0300, , add newline pr_err output signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5435,391d5894829eecd265e18158228e62e7bf483131,yrill Gorcunov <gorcunov@openvz.org>, 2015-04-03 18:03:47 +0300, , option use union daemon restore_detach using option different context though let give two name signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5436,374017cfa462662bc1f54a44968d9fe7c1f09716,yrill Gorcunov <gorcunov@openvz.org>, 2015-04-03 18:03:46 +0300, , doc update option signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5437,314c5b0261bc1152ef63641fdc838e305f2cc8e7,yrill Gorcunov <gorcunov@openvz.org>, 2015-04-03 18:03:45 +0300, , opts align long option description man almost unreadable signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5438,9083f86a64b80271de391f581b6ddb771f9fb4d3,ndrey Vagin <avagin@openvz.org>, 2015-04-02 15:47:00 +0300, , mount restore cwd open_mountpoint setns clone_newns reset cwd root need restore back without patch stats dump saved work dir root root apr stats dump signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5439,eb518936d8ff620d121c4659e56bd761668a8916,leg Nesterov <oleg@redhat.com>, 2015-04-02 21:00:45 +0200, , introduce skip mnt cli option obviously used ignore mount want need dump user know doe note patch change parse_mountinfo check imo want filter unwanted mount asap exist increase chance dumping fail something else depends mount say another mountpoint opened file perhaps make sense teach use fnmatch look optional mnt prefix skip fsname would better force user option understand doe say dump fails child mount find skipped parent add another skip mnt option dump otherwise automagically user probably surpised might even miss fact skip asked signed oleg nesterov oleg redhat.com signed pavel emelyanov xemul parallels.com,,
5440,9fee3dc81711d48792678e665839e895188bba45,leg Nesterov <oleg@redhat.com>, 2015-03-31 18:24:14 +0200, , pas bool for_dump argument collect_mntinfo parse_mountinfo preparation add new bool for_dump arg collect parse_mntinfo introduce struct pas additional bool for_dump field collect_mntinfo change pas boolean collect_mntinfo parse_mountinfo path change caller collect_mntinfo pas false signed pavel emelyanov xemul parallels.com,,
5441,4fd669fca62e109af0f49ad87991ca57ce01d55d,yrill Gorcunov <gorcunov@gmail.com>, 2015-04-02 20:17:29 +0300, , tty drop dev console dev tty confusing code reader let save subtypes unix98 pty peer really important signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5442,79ca3eec3753409e72587aa9fb6b89908837b52d,yrill Gorcunov <gorcunov@openvz.org>, 2015-03-19 18:13:13 +0300, , tty test add dev tty testing pty00 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5443,f42c9b96d6990557aa56b1997ddd28c5df465a1d,yrill Gorcunov <gorcunov@openvz.org>, 2015-03-19 18:13:12 +0300, , zdtm add dev tty construct_root prepare_mntns need tty testing based patch andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5444,243e58f0e3a41a08cad75214aca50a5415652f73,yrill Gorcunov <gorcunov@openvz.org>, 2015-03-19 18:13:11 +0300, , tty implement support current tty opening current tty tricky first slave peer opened session restored open dev tty made rst_info carry additional list tty_ctty current ttys get gathered opened slave peer brought live signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5445,80a134a44bb3851ec5be01d0b83838ffb8d2d00a,yrill Gorcunov <gorcunov@openvz.org>, 2015-03-19 18:13:10 +0300, , tty make sure opening unpaired pty must called pty peer caused problem far better sure pty peer restoring gon driver time signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5446,e558d58a28d9761bc63ca4e58c72aa74199a86ca,yrill Gorcunov <gorcunov@openvz.org>, 2015-03-19 18:13:09 +0300, , tty rename open_pty_reg open_tty_reg pty specific routine rather common one signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5447,25abdf3ac49bca6227da18225f9826a547ab2f18,yrill Gorcunov <gorcunov@openvz.org>, 2015-03-19 18:13:08 +0300, , tty rework tty_driver structure rename type use protobuf constant instead special feature use subtype like kernel doe get rid tty_type_ constant need drop flag need anymore signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5448,7263054c3a749fd07820148ee6fbc9ac30643bac,avel Emelyanov <xemul@parallels.com>, 2015-03-31 10:59:00 +0300, , mnt add comment mntns task assignment signed pavel emelyanov xemul parallels.com acked andrew vagin avagin odin.com,,
5449,02edd8051e5cb64efcfa17b3c50d0dbea24a2b5d,yrill Gorcunov <gorcunov@openvz.org>, 2015-03-29 22:17:09 +0300, , restorer drop redundant test already signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5450,9ce0254c04f3008817b4b7484ca42b239b5a4413,yrill Gorcunov <gorcunov@openvz.org>, 2015-03-29 22:17:08 +0300, , vma unify private vmas testing two helper vma type testing vma_priv work different type basically check dump vma image restore back let unify common helper working vma_area type signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5451,204c0771fff9ebfbce09a809519be46a6cf8cab0,ycho Andersen <tycho.andersen@canonical.com>, 2015-03-31 15:32:36 +0000, , use sigkill remap_dead_pid test undiagnosed reason test hang using sigint since always want kill process anyway use sigkill instead signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5452,c6fc3f1a8e5683c3528fd1bd7e0f30cf131c48b0,ycho Andersen <tycho.andersen@canonical.com>, 2015-03-31 15:32:35 +0000, , minor comment clarification read might fail instead comment mean code added fail network unlocked restored process exposed world signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5453,1c79933301506612c3dc7ba31e109727ab76b9dd,ycho Andersen <tycho.andersen@canonical.com>, 2015-03-31 15:32:34 +0000, , remove double signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5454,39e3859d3dbd275c58afecedf021e86bc971406c,ndrey Vagin <avagin@openvz.org>, 2015-03-31 10:45:26 +0300, , action report pid post restore notification libcontainer save pid state file signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5455,79e0b37c4e4e33d4f70141dd6197795641cd46ac,leg Nesterov <oleg@redhat.com>, 2015-03-29 19:24:07 +0200, , xrealloc new mountpoint fail pure theoretical especially particular case actually want likely free unused memory still code ignores potential error look good signed oleg nesterov oleg redhat.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5456,69600335a9c971acc57050812b469b65b0522fcf,leg Nesterov <oleg@redhat.com>, 2015-03-29 19:24:04 +0200, , fix leakage opt mix return goto err failure look confusing inconsistent buggy forgets free opt parse_mnt_flags fails signed oleg nesterov oleg redhat.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5457,8b5faee7c68b39574dac2cdeabfba1baefe6e7be,leg Nesterov <oleg@redhat.com>, 2015-03-29 19:24:02 +0200, , kill wrong xfree new mountpoint caller failure unnecessary wrong nullify mountpoint signed oleg nesterov oleg redhat.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5458,b66728ef14e00a29e896c8779934b6cf63f0a034,leg Nesterov <oleg@redhat.com>, 2015-03-29 19:24:00 +0200, , parse_mountinfo fix simplify usage r_fstype parse_mountinfo forgets free fst succeeds usage fst r_fstype ovecomplicated reason change parse_mountinfo path populate use free fsname unconditionally move ownership caller reason check fallback name better yet could even turn fsname local char avoid free would need pas length buffer signed oleg nesterov oleg redhat.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5459,2cfeeac465d35db9ff92befe28742bf88fbbdc55,leg Nesterov <oleg@redhat.com>, 2015-03-29 19:23:57 +0200, , parse_mountinfo add end block main loop preparation simplify review parse_mountinfo assumes err block doe necessary cleanup failure wrong see next patch never skip mountpoint true going change goto err goto end main loop add end label insert new mount_info list check ret figure whether need abort signed oleg nesterov oleg redhat.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5460,b23268e492a4f7ce912f3fcebe00f1792b8c123e,ndrey Vagin <avagin@openvz.org>, 2015-03-30 13:09:25 +0300, , service add ability set inherit file descriptor required use criu swrk libcontainer remove useless function declaration allow set inherit_fd swrk check swrk loop saied kazemi saied google.com signed andrey vagin avagin openvz.org signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5461,54d0f24107ff100a7d5382c9a22da77166badb43,ndrey Vagin <avagin@openvz.org>, 2015-03-27 15:27:59 +0300, , proc_parse fixed format string use format specifier prix64 instead print uint64 integer reported travis signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5462,6608402c97462da096e8d6d9980a212e7ca5d3e4,yrill Gorcunov <gorcunov@openvz.org>, 2015-03-26 11:23:13 +0300, , zdtm modify global errno test_msg logging routine let affect global errno signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
5463,f76a57c29abf99e7b259dc5e0a264faf995db6ef,yrill Gorcunov <gorcunov@openvz.org>, 2015-03-26 11:23:12 +0300, , log modify global errno routine may modify global errno variable inacceptable logging routine must transparent rest program code thus save errno local __errno variable restore return signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
5464,019ab4b79552e811c91385ca6b07444dd9c7c2e9,ndrey Vagin <avagin@openvz.org>, 2015-03-25 19:59:00 +0300, , test check read bind mount real example used tycho andersen tycho.andersen canonical.com signed andrey vagin avagin openvz.org tested tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5465,57db932a0a8ad7d726ffecebed86407704fbb088,leg Nesterov <oleg@redhat.com>, 2015-03-26 19:08:00 +0300, , mount always report mnt_id decimal validate_mounts print mnt_id hex report failure complicates understanding mnt_id printed decimal elsewhere including proc pid mountinfo parse_mountinfo add least pr_info let change signed oleg nesterov oleg redhat.com acked andrew vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5466,8329f061458fadf158175be729a15cd509fc4255,ndrey Vagin <avagin@openvz.org>, 2015-03-26 11:15:00 +0300, , zdtm suppress error message cgroup holder exists mkdir create directory zdtm.mpawgl holderâ file exists reported cyrill gorcunov gorcunov openvz.org signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5467,36f0c16db0ba6cffdb6930307181b2f90848bbcd,ndrey Vagin <avagin@openvz.org>, 2015-03-25 14:36:15 +0300, , proc move logic adding vma list separate function parse_smaps big easy reading addition creating new interface get information process called taskdiag parse_smaps accoding name moved separate function reused work task_diag signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5468,046245dcb0641c7e741f2984e289901923014c6f,ndrey Vagin <avagin@openvz.org>, 2015-03-25 14:36:14 +0300, , proc move logic filling vma structure separate function parse_smaps big easy reading addition creating new interface get information process called taskdiag parse_smaps accoding name moved separate function reused work task_diag signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5469,6d30f4680b12e9554df882cfb3fbb0a7c69f4a83,yrill Gorcunov <gorcunov@openvz.org>, 2015-03-25 21:03:00 +0300, , test poll move namespace list reason return enoent sometime run namespace need figure disable continue testing rest signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5470,4988a57981aa838e2eca4f5c0e37d0209d18acb0,ndrey Vagin <avagin@openvz.org>, 2015-03-25 08:16:00 +0300, , test create etc temporary root inotify_irmap creates file etc able userns signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5471,9daefff5caf835330e48cd86dbfb2a93ec748549,ndrey Vagin <avagin@openvz.org>, 2015-03-25 15:42:00 +0300, , cgroup call fini_cgroup error path currenlty criu fails cgyard umounted think commit author andrew vagin avagin openvz.org date mon aug 2014 0400 cgroup call fin_cgroup error path tycho andersen tycho.andersen canonical.com saied kazemi saied google.com signed andrey vagin avagin openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5472,dd71cca58ada1b1b930c17201373cb8de569c97f,leg Nesterov <oleg@redhat.com>, 2015-03-26 14:10:32 +0300, , dump x86 sanitize eintr transition case get_task_regs depends kernel internals much reason rely fact going sigreturn always set restart_block return eintr change code enforce eintr restore actually want teach criu handle add pr_warn make potential bug report understandable sane application handle eintr correctly always case signed oleg nesterov oleg redhat.com acked cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
5473,81a4d3b2eb24f73efa5b8c3bd1d1d1ea90dbafcc,ndrey Vagin <avagin@openvz.org>, 2015-03-25 17:16:59 +0300, , test run cow01 userns proc pid pagemap protected global cap_sys_admin opened non root userns 48.260 execute user static cow01 ... 48.260 03.951 err cow01.c unable open child pagemap file proc pagemap errno operation permitted reported jenkins signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5474,089e81ac2f41894c93be740833ba60885ecabb87,yrill Gorcunov <gorcunov@openvz.org>, 2015-03-13 19:43:07 +0300, , zdtm test add trivial poll timeout test idea simply make sure timeour screwed cycle  drop unneeded early poll call make poll loop cycle caller pass cycle  use test_go helper poll cycle signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
5475,109ca471c4c8ef8918a38d4426c3272efbb37b50,ycho Andersen <tycho.andersen@canonical.com>, 2015-03-19 14:50:56 +0000, , fix error test bin bash bashism use bin prevents output like home ubuntu criu test post dump.sh post dump unexpected operator home ubuntu criu test post dump.sh network unlock unexpected operator signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5476,7248cad94c17f139691d526c148520442cd42238,ycho Andersen <tycho.andersen@canonical.com>, 2015-03-19 14:50:55 +0000, , finalize cgroups correctly need finalize yard successful cgroup restore failed restore restore cgroup property allowing task continue mode previously property restored correctly restore detached mode saied kazemi saied google.com signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5477,7c2b4b13809d87b41fc983750d89118ddc1049eb,ndrey Vagin <avagin@openvz.org>, 2015-03-20 11:33:09 +0300, , test add ability execute test docker container build criu docker container make direct build execute test docker container make direct test signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5478,9cabc3918a52d8ac6a918371fa6a0acd45cc20c8,ndrey Vagin <avagin@openvz.org>, 2015-03-20 11:33:08 +0300, , test remove bashism makefile redirect stdout stderr bash dash command file command othercommand signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5479,902f9f3c89b3a33b771a6755df7ff6b12733edbc,ndrey Vagin <avagin@openvz.org>, 2015-03-20 11:33:07 +0300, , zdtm fix awk script ubuntu mawk handle ... ubuntu awk version mawk 1.3.3 nov 1996 copyright michael brennan ldd bin linux vdso.so.1 ldd bin awk linux vdso .so print ldd bin awk linux vdso .so print linux vdso.so.1 fedora ldd bin linux vdso.so.1 ldd bin awk linux vdso .so print linux vdso.so.1 awk version gnu awk 4.1.1 api 1.1 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5480,a2e0acfdcb54378f9bfcd0123e717c8a7a4de462,ndrey Vagin <avagin@openvz.org>, 2015-03-24 10:59:50 +0300, , cow01 try read page take swap vladimir said page unmapped one process mmaped another one case understand whether process link page try read page take swap vladimir davydov vdavydov parallels.com reported parallel signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5481,bda4dfd173d4c713fa525087b99d047c28afdd4f,ndrey Vagin <avagin@openvz.org>, 2015-03-23 17:42:03 +0300, , test add cow01 test_suid_list cow01 proc pid pagemap protected cap_sys_admin  commit pagemap leak physical address non privileged userspace pointed recent post exploiting dram physical imperfection proc pid pagemap expose sensitive information used attack  signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5482,07dcf0dbb6ff97c255bc6b06569255a9479bccdd,leg Nesterov <oleg@redhat.com>, 2015-03-19 19:14:00 +0300, , restore x86 restore_gpregs need initialize well recent x86_64 signal fix handling signal delivered bit program kernel patch sigreturn path forgot restore return signal handler kernel fixed restore_gpregs initialize longer ignored note minimal fix long term probably dump restore segment register use sigcontext filled target kernel modify general purpose regs reported tested andrey wagin avagin gmail.com signed oleg nesterov oleg redhat.com acked cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5483,044011e579e2e26f41b96aaf6c3e7420eb297b19,uslan Kuprieiev <rkuprieiev@cloudlinux.com>, 2015-03-19 20:25:00 +0300, , reg file skip size o_append o_wronly file common log file number process writing something one file currently someone wrote something log since dump happened restore criu complain file bad size refuse restore file opened o_append o_wronly flag going jump eof anyway use o_accmode separate helper signed ruslan kuprieiev rkuprieiev cloudlinux.com signed pavel emelyanov xemul parallels.com,,
5484,c625b4fbc95f32aac81d1ca2ab290bf27701e4f5,avel Emelyanov <xemul@parallels.com>, 2015-03-19 13:18:13 +0300, , doc remove restore command obsoleted required signed pavel emelyanov xemul parallels.com,,
5485,83f7e667d9eabac71f2c66a967425c0a1eb070f3,irill Tkhai <ktkhai@parallels.com>, 2015-03-16 12:02:00 +0300, , test add debug info caps00 test print cap value case test failed also check capset capsget return value signed kirill tkhai ktkhai parallels.com signed pavel emelyanov xemul parallels.com,,
5486,140d65ebca72bc9b64bdac31ede604c0d4e94259,aied Kazemi <saied@google.com>, 2015-03-16 22:03:00 +0300, , dismantle cgyard non detached restore mode restore detached command line option specified restore criu unmount remove temporary cgyard directory tree waiting restored process exit otherwise temporary cgyard mount point remain mounted visible signed saied kazemi saied google.com signed pavel emelyanov xemul parallels.com,,
5487,a66217a25343b13a8896c10a981fb537f682f629,ndrey Vagin <avagin@openvz.org>, 2015-03-16 16:51:00 +0300, , image open lazy image img_raw_fd lazy image opened first attempt using 18.534 test zdtm live static pipe00 result fail 18.537 error 18.538 test zdtm live static pipe00 namespace 18.538 dump log var lib jenkins job criu workspace test dump static pipe00 13536 dump.log 18.540 grep error 18.543 00.026666 error include image.h 153 bug include image.h 153 18.543 00.050663 error namespaces.c 801 namespaces dumping finished error 134 18.543 00.050918 error dump.c 1979 dumping failed 18.545 end 18.548 error reported jenkins signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5488,8ce37e676af55b97476d8abf20fd243190c0e1fa,avel Emelyanov <xemul@parallels.com>, 2015-03-10 21:47:27 +0300, , img create empty image currently dump generate many image file effectively stuff glob set created thing sometimes created image empty contain magic number head tho image useless waste space applied empty image set introduces lazy image call open_image actual file created magic number written first object example simplest test static env00 one created image file core 7290.img cred 7290.img fdinfo 2.img 7290.img 7290.img inventory.img 7290.img pagemap 7290.img page 1.img pstree.img reg files.img sigacts 7290.img signed pavel emelyanov xemul parallels.com,,
5489,7ede4697cf27b09bfde82c0d948ba7af165bb74a,avel Emelyanov <xemul@parallels.com>, 2015-03-10 21:46:57 +0300, , bfd leak image open flag bfdopen signed pavel emelyanov xemul parallels.com,,
5490,f7f76d6ba68b44e8ed994408ecfe6ce90524c047,avel Emelyanov <xemul@parallels.com>, 2015-03-06 18:02:43 +0300, , img introduce empty image image certian type found criu sometimes fails sometimes ignores fact propose ignore fact always treat absent image containing object inside i.e empty latter code flow _need_ object criu fail later object explicitly required example due restoring code reading image pb_read_one _eof suffix thus required object image another example object dependency e.g fdinfo object require various file object missing image file result non resolved search later signed pavel emelyanov xemul parallels.com,,
5491,45a0cc4234b1c901ccad8bb25a9d5a6217e96879,avel Emelyanov <xemul@parallels.com>, 2015-03-06 18:02:22 +0300, , page read explicitly mark enoent return code page read fails open pagemap image report error one place stacked page read need handle absent image case gracefully fix return code make check work signed pavel emelyanov xemul parallels.com,,
5492,e29c9daec271614a06bf2f5fb8ed77cbd72ae1a6,avel Emelyanov <xemul@parallels.com>, 2015-03-06 18:01:54 +0300, , img remove o_opt current code make difference opt opt except message printed open_image particular change change nothing availability message next patch wil introduce empty image deal enoent situation graceful manner signed pavel emelyanov xemul parallels.com,,
5493,8218e014d060fc3a7a2a1c270c2638e61ce5567c,yrill Gorcunov <gorcunov@openvz.org>, 2015-03-13 14:33:16 +0300, , pie parasite drop dangling tab signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5494,290211fb947a0229520d127e6238439fb2a5ac4a,yrill Gorcunov <gorcunov@openvz.org>, 2015-03-06 13:39:20 +0300, , tty aligh tty_driver member done structure file signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5495,19948472d92e25006bc9baa3d93a2bcb4295d2a2,yrill Gorcunov <gorcunov@openvz.org>, 2015-03-06 13:39:19 +0300, , tty rename tty_type tty_driver many type code signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5496,819f41eaa5575708bf37514c44bb1c814b596e85,yrill Gorcunov <gorcunov@openvz.org>, 2015-03-06 13:39:18 +0300, , tty drop dangling tab signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5497,652fbf3bd14fd6e16b27b732797725f8baa3624b,yrill Gorcunov <gorcunov@openvz.org>, 2015-03-06 13:39:17 +0300, , tty drop redundant constant signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5498,f32f4ffa764de52a0beedfed8e1aa35b6dd2bb3b,avel Emelyanov <xemul@parallels.com>, 2015-03-06 00:00:00 +0300, , img open image dump o_wronly mode signed pavel emelyanov xemul parallels.com,,
5499,618c17b6f8c1ee4bc7e12ad76fc4609833a6e0f4,avel Emelyanov <xemul@parallels.com>, 2015-03-06 00:00:00 +0300, , img simplify open_image macro signed pavel emelyanov xemul parallels.com,,
5500,131d4b8691399db7381f6a0e19a2629eaee603d8,avel Emelyanov <xemul@parallels.com>, 2015-03-04 11:51:30 +0300, , mem sanitize error path signed pavel emelyanov xemul parallels.com,,
5501,fce8cac1df87afc7e0e6d755f5398a06e35d926e,avel Emelyanov <xemul@parallels.com>, 2015-03-04 11:51:01 +0300, , mem move private vmas maping code subroutine signed pavel emelyanov xemul parallels.com,,
5502,dceb6633c70866717c18e3b19205fb612879a964,avel Emelyanov <xemul@parallels.com>, 2015-03-04 17:50:32 +0300, , page read introduce custom flag opening instead open flag boolean is_shmem argument signed pavel emelyanov xemul parallels.com,,
5503,7c7d50fb9832a6aed3561380ee4bf4c9c5f4979b,avel Emelyanov <xemul@parallels.com>, 2015-03-04 17:50:06 +0300, , util use standard bug_on instead hand made signed pavel emelyanov xemul parallels.com,,
5504,0328d33e628533f183f07d0c1260c7e5828d27c3,yrill Gorcunov <gorcunov@openvz.org>, 2015-02-26 22:25:00 +0300, , test posix_timers beautify code output easier read posix_timers verbose logging convernient handling error signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5505,3bd6d9d7b096e9c7799fb61d1ec5380a0f904ae8,yrill Gorcunov <gorcunov@openvz.org>, 2015-02-25 18:42:00 +0300, , image add comment vma_area constant drop force_read flag force read came first dev version criu even 1.0 release never used actually image signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5506,48032d8780dd6972da64839612bd044e8bfe1414,avel Emelyanov <xemul@parallels.com>, 2015-02-18 18:29:52 +0300, , tty introduce tty_master flag signed pavel emelyanov xemul parallels.com,,
5507,bc535380decb8218daadf17c0fe9c79fabd7ff17,avel Emelyanov <xemul@parallels.com>, 2015-02-18 18:29:31 +0300, , tty sanitize ctl terminal restore codeflow signed pavel emelyanov xemul parallels.com,,
5508,d47975b5ec7e746ddb539f28dc724aeaf0acb67b,avel Emelyanov <xemul@parallels.com>, 2015-02-18 18:29:14 +0300, , tty move image type onto tty_type signed pavel emelyanov xemul parallels.com,,
5509,3b913082ac64b485a7c9bc5a342e802e60e76720,avel Emelyanov <xemul@parallels.com>, 2015-02-18 18:28:54 +0300, , tty introduce per type flag start making using tty_pair one signed pavel emelyanov xemul parallels.com,,
5510,a7631ed8f9e062d09c0b5d61d05de2adb3d45445,avel Emelyanov <xemul@parallels.com>, 2015-02-18 18:28:35 +0300, , tty put open callback tty_type signed pavel emelyanov xemul parallels.com,,
5511,c314ffbe69103072babc934d079e4b03c1ceb617,avel Emelyanov <xemul@parallels.com>, 2015-02-18 18:28:14 +0300, , tty per type img_get_index callback one used restore static index constant value used signed pavel emelyanov xemul parallels.com,,
5512,bced873181f89cdb38451054d09db304b74c751c,avel Emelyanov <xemul@parallels.com>, 2015-02-18 18:27:55 +0300, , tty per type fd_get_index callback one get index fd_parms pair dump console index constant sits tty_type also used restore see next patch signed pavel emelyanov xemul parallels.com,,
5513,a9ae0ab6d9bbb694d1e9d7208ac8efcbddff53b4,avel Emelyanov <xemul@parallels.com>, 2015-02-18 18:27:30 +0300, , tty put tty name tty_type signed pavel emelyanov xemul parallels.com,,
5514,057f00ce92004ae5b4f07dd2f01a5f1ccba1f7a3,avel Emelyanov <xemul@parallels.com>, 2015-02-18 18:27:10 +0300, , tty make tty type object rather integer plan replace ton type tty_type_foo check type something dereferences start replacing int type struct tty_type relevant place fixing compilation signed pavel emelyanov xemul parallels.com,,
5515,a7601d6a5069e9970c0b901805ff76775b34d848,avel Emelyanov <xemul@parallels.com>, 2015-02-18 18:26:50 +0300, , tty move tty_type is_pty tty.c signed pavel emelyanov xemul parallels.com,,
5516,3a25abdad287dd9f8ce57b6e660210e6b68ac79e,avel Emelyanov <xemul@parallels.com>, 2015-02-18 18:26:29 +0300, , tty use tty_name print signed pavel emelyanov xemul parallels.com,,
5517,9f0e6c0e593186aeb2eafac7b57f44be9b5dbc4f,avel Emelyanov <xemul@parallels.com>, 2015-03-02 15:37:01 +0300, , criu version 1.5 major new thing think crit tool main one mainupulate image eventually replace criu show action signed pavel emelyanov xemul parallels.com,,
5518,6c6854b5e9185ced9ebf580c15176d57fb483e95,ndrey Vagin <avagin@openvz.org>, 2015-02-27 16:29:36 +0300, , zdtm add debug investigate fails maps007 reported jenkins signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5519,1d7ed7dfab1cfc5151b557748dc2a7ecde5ce14a,ndrey Vagin <avagin@openvz.org>, 2015-02-25 18:40:19 +0300, , zdtm set zdtm_nosubns specified test executed reported jenkins signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5520,90b2c9b472981cde0f11f438a102d8014441e52d,avel Emelyanov <xemul@parallels.com>, 2015-02-25 12:44:44 +0400, , zdtm print proc lock lock test investigate random failure signed pavel emelyanov xemul parallels.com,,
5521,e10b3ef407fef8eacebf805ae35dcb664c415057,avel Emelyanov <xemul@parallels.com>, 2015-02-19 22:18:00 +0300, , mount ignore validation shared resolving error dump signed pavel emelyanov xemul parallels.com,,
5522,9fa75831c7d53b4104978994f47c1f7c208df0d4,ndrey Vagin <avagin@openvz.org>, 2015-02-25 11:13:28 +0300, , zdtm use sleep synchronization zombie00 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5523,d12317ded397fe6ac3650cbbce853d870bb23078,ndrey Vagin <avagin@openvz.org>, 2015-02-24 21:44:23 +0300, , ptrace call wait ptrace_seize successful print errno wait syscall error case signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5524,99801e72f0c04247548ffce4d53c70bf4e5085d0,ndrey Vagin <avagin@openvz.org>, 2015-02-24 16:53:14 +0300, , proc parse proc pid status task stopped parse proc pid status task stopped sure process state changed test zdtm live user static zombie00 namespace dump log var lib jenkins job criu dump workspace test dump user static zombie00 114 dump.log grep error 00.001127 error ptrace.c 124 seize 121 task stopped seize believe errno xemul reported jenkins signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5525,9be7769017aabb47fed7c228523cf67bd1ad998b,yrill Gorcunov <gorcunov@openvz.org>, 2015-02-20 00:11:47 +0300, , tty fix typo signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5526,bec5a023d1edc32cd8f1584554e22a504cd19148,yrill Gorcunov <gorcunov@openvz.org>, 2015-02-20 00:11:38 +0300, , tty fix mistyping dev tty dev tty stand current terminal yet implemented support bugfix upcoming stable version proper support dev tty gon implemented separately reported saied kazemi saied google.com andrew vagin avagin parallels.com pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5527,2ecc25ef5ef1474ca28b06083f2b642dcb996620,ndrey Vagin <avagin@openvz.org>, 2015-02-19 00:13:17 +0300, , zdtm clean test root executing test userns test executed different user case without userns open file created example user static inotify_irmap 13355 mkdir etc 0600 eexist file exists 13355 unlink etc zdtm test eacces permission denied 13355 creat etc zdtm test 0600 eacces permission denied signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5528,9b600167a57e824e514611f53037f4b2d6b98803,ndrey Vagin <avagin@openvz.org>, 2015-02-19 00:13:16 +0300, , zdtm execute user test simultaneously one test execute test user test simultaneously use file tree signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5529,1b4e9058e86b9fc78ab69d3688cddeba73343c00,aied Kazemi <saied@google.com>, 2015-02-16 13:18:32 +0300, , call listen so_reuseaddr established tcp connection send queue restored two step step retransmit data sent yet acknowledged step transmit data never sent outside tcp_repair option disabled step enabled step without patch amount data sent step large tcp_repair flag socket remain time millisecond listen called another socket bound port time window fails turning tcp_repair clear so_reuseaddr flag socket patch add mutex reuseaddr_lock per port number listen port number doe happen so_reuseaddr another socket port thanks amey deshpande ameyd google.com debugging signed saied kazemi saied google.com signed pavel emelyanov xemul parallels.com,,
5530,603929cad7bb2250676862dce96fddef7754272e,ndrey Vagin <avagin@openvz.org>, 2015-02-13 15:15:05 +0300, , zdtm print correct errno message err fail used print strerror errno test_msg call gettimeofday overwrite errno signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5531,55a7c7a79d08ebfa8c0b27caee01dfcb685de484,ndrey Vagin <avagin@openvz.org>, 2015-02-13 15:14:56 +0300, , test check descriptor map static test tname contain test type reported pavel emelyanov xemul parallels.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5532,3f23bde5486db510d610b940efe316b0f9bfc704,ndrey Vagin <avagin@openvz.org>, 2015-02-13 15:14:44 +0300, , criu print correct errno message pr_perror used print strerror errno print_on_level call gettimeofday overwrite errno example 13486 connect sa_family af_inet sin_port htons 8880 sin_addr inet_addr 127.0.0.1 enetunreach network unreachable 13486 gettimeofday 1423756664 717423 null 13486 open etc localtime o_rdonly o_cloexec eacces permission denied 13486 write 44.717 err socket_udp.c connect errno 101 permission denied signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5533,9a392dff3a62460187138f82322288273559b2b3,avel Emelyanov <xemul@parallels.com>, 2015-02-13 16:10:57 +0400, , reg file try linkat wrong user link file restore time restore unlinked path kernel strange secutiry restriction linkat use fsuid caller equal uid file file safe one global cap_chown allowed link brings problem user namespaces root allowed linkat file unlike global root fortunately change fsuid temporarily still linkat file want hopefully hack away day soon kernel saner check linkat capability signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5534,ba66b14b9a4ac7db06a2541b13c6b1d5169108ae,avel Emelyanov <xemul@parallels.com>, 2015-02-12 21:22:23 +0400, , packet get test work userns test map_files dir check mapping restored proc directory available cap_sys_admin fix checking strict proc pid map signed pavel emelyanov xemul parallels.com,,
5535,364979159f1453b5ab5790d72e4957198f258faf,avel Emelyanov <xemul@parallels.com>, 2015-02-13 16:09:54 +0400, , zdtm run link set becoming userns root allows excluding userns test blacklist signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5536,cdb3684834a7bd018ba1f84e82dd7848e8bf8edd,avel Emelyanov <xemul@parallels.com>, 2015-02-13 16:09:53 +0400, , zdtm exclude blacklist test work userns rest partially need userns_call mostly work userns need investigation signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5537,7d482de1ca9bb8c873e47ea5fe48b27399fc4187,avel Emelyanov <xemul@parallels.com>, 2015-02-13 16:09:52 +0400, , tty restore locked termios usernsd call locked termios require global cap_sys_admin let restore everything tty one call since regular termios depend locked nice sync usernsd call locked signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5538,26ef7867708d16b38c9ebc1e85c54755cea14091,avel Emelyanov <xemul@parallels.com>, 2015-02-13 16:09:51 +0400, , fsnotify open handle via userns_call syscall question requires global signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5539,b63b361c1a7fcbfae4d11d5d52f829716bcdaa06,avel Emelyanov <xemul@parallels.com>, 2015-02-13 16:09:50 +0400, , restore socket bufs via usernsd signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5540,b8556e8084981f9148749e7777a3b257cc94b0bd,avel Emelyanov <xemul@parallels.com>, 2015-02-13 16:05:24 +0400, , usernsd way restore priviledged stuff userns collected good set call done inside user namespaces need already addressed like prctl bit restore pretty sceptical ability relax security check quite lot e.g open handle indeed dangerous operation allowed unpriviledged user need way call thing even user namespaces good news call found operate file descriptor way another process lived outside user namespace could ask one high priority operation need exchange affected file descriptor via unix socket usernsd one exactly start create user namespace accepts request via unix socket client process restore send function want call descriptor want operate argument blob optionally request file descriptor back call non usernamespace case daemon started call done right requestor process environment next patch example use daemon priviledged so_sndbufforce _rcvbufforce sockopt socket http criu.org usernamespace signed pavel emelyanov xemul parallels.com acked andrew vagin avagin openvz.org,,
5541,bb0a6f0cb60312f51a4d38f8854f39c942670d29,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-29 22:59:30 +0200, , log chown log current criu user user already able see stdout reason protect signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5542,e2c3ad37912bb4848573e3c8bbf740f166ae78fb,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-29 22:59:29 +0200, , log chown pidfile current criu user criu run suid bit set user able read pidfiles i.e service pidfile signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5543,09c3f5d0c7c6ab99eb9e046a324cc85cb4613224,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-29 22:59:28 +0200, , security add cr_fchown signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5544,df301b7eb76964b7a3141bb1062c9e79d272b0d7,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-29 22:59:27 +0200, , security create separate security.h header signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5545,0b08bcfcadcb58e0ae57394751c2d7e26010a810,uslan Kuprieiev <kupruser@gmail.com>, 2015-02-09 14:08:22 +0300, , crit gather parse argument proper way allow easily extend command crit support avoiding help confusion signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5546,e3fec5f8eb291df4e78374ed5f8dfebc25bd3066,aied Kazemi <saied@google.com>, 2015-02-09 14:07:40 +0300, , ignore mnt_id value aufs file descriptor starting version 3.15 kernel provides mnt_id field proc pid fdinfo however value provided kernel aufs file descriptor obtained opening file proc pid map_files incorrect example docker container running nginx mntid program mimic criu opening file proc map_files using descriptor obtain mnt_id shown mnt_id set kernel doe exist mount namespace container therefore criu fails error unable look mount global namespace root aufs var lib docker aufs patch set mnt_id aufs descriptor mimicing pre 3.15 kernel behavior docker container image ... 3850a63ee857 nginx streaming latest ... docker exec bash root 3850a63ee857 pid tty time cmd nginx nginx bash  root 3850a63ee857 mntid open proc map_files 400000 4b8000 cat proc fdinfo  flag 0100000 mnt_id root 3850a63ee857 awk print proc mountinfo  103 104 105 104 106 104 107 104 108 109 110 111 root 3850a63ee857 exit grep proc self mountinfo var lib docker aufs var lib docker aufs ... var lib docker aufs mnt ...  signed saied kazemi saied google.com signed pavel emelyanov xemul parallels.com,,
5547,29673d42a9f32071522ed19e58eb292e4f420891,uslan Kuprieiev <kupruser@gmail.com>, 2015-02-09 14:07:07 +0300, , travis add python ipaddr dep signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5548,1842e1e0ea5bcc98995e95bb9f789675d939ba32,uslan Kuprieiev <kupruser@gmail.com>, 2015-02-09 14:06:38 +0300, , test crit use pretty instead dropped format signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5549,aa2d9208245599b2eb684a9ec7a92c88b6b601d7,ndrey Vagin <avagin@openvz.org>, 2015-02-09 14:06:13 +0300, , file use proc_self process access proc pid process executed another pidns proc pid link proper process patch fix problem like error util.c 106 unable close bad file descriptor signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5550,9ebb3738b2d097b2fdff52c85f67491784e401bc,avel Emelyanov <xemul@parallels.com>, 2015-01-28 17:16:00 +0300, , crit print address pretty mode two place store address ipv4 ipv6 mark custom option print compressed form pretty output signed pavel emelyanov xemul parallels.com acked ruslan kuprieiev kupruser gmail.com,,
5551,0d2aeb35812f95dabff11c035ec7dfc89077baa6,avel Emelyanov <xemul@parallels.com>, 2015-01-28 17:15:00 +0300, , crit get rid format option plan mark field address print respectively format hex nice switch introducing one format hex ipadd bad let fix cirt api simple stupid default crit generates canonical one line json pretty option split output line add indentation print hex hex  signed pavel emelyanov xemul parallels.com acked ruslan kuprieiev kupruser gmail.com,,
5552,46b7f13cf219974b1d188eef29b1c8009174149c,avel Emelyanov <xemul@parallels.com>, 2015-01-22 18:24:00 +0300, , zdtm ability run test starting specified one useful run test case smth failed middle signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5553,b0f40a2726e53478f2b714b602e42df98530f5ca,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-28 21:38:00 +0300, , pycriu image treat tcp_stream image extra properly signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5554,90b56c882e99c6c8fef64904a01e7ac83c27cf6f,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-28 13:51:49 +0300, , travis add libprotobuf dev protobuf compiler package arm signed ruslan kuprieiev kupruser gmail.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
5555,1bbc994ccffa8899f50bd65f50ebdd9f01c53ade,avel Emelyanov <xemul@parallels.com>, 2015-01-27 16:18:27 +0300, , sysctl remove dead ctl_print _show code signed pavel emelyanov xemul parallels.com,,
5556,58b3ef0e6fe2a78c4b89cbc1024f3ed3915593da,yrill Gorcunov <gorcunov@openvz.org>, 2015-01-26 19:16:52 +0300, , fix cpu cap option parsing manage forgot increase pointer length word parsed reported mark neill mao signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5557,8076c4580bf7b04d755721d045d3cda831f21eb6,avel Emelyanov <xemul@parallels.com>, 2015-01-27 16:16:01 +0300, , check print look good message regardless loglevel signed pavel emelyanov xemul parallels.com,,
5558,efad09285aee1dc3fa64b9cd704892051a22fa3e,avel Emelyanov <xemul@parallels.com>, 2015-01-27 16:15:51 +0300, , netlink lower collection log level signed pavel emelyanov xemul parallels.com,,
5559,89d9578730d6cb10b45cebddf4f7f4dc3b4f40ed,avel Emelyanov <xemul@parallels.com>, 2015-01-23 17:50:00 +0300, , proc print parsed fstype unsupported mount signed pavel emelyanov xemul parallels.com,,
5560,d1d4c018e0d831956fbee37f2358c969e59387c2,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-22 18:59:00 +0300, , test rpc run test non root user nice non root user case covered test signed ruslan kuprieiev kupruser gmail.com reported andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5561,4d705e7200d614de07138aa318103a64267bec4b,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-22 18:59:00 +0300, , test crit enhance test process use mature technics organize test process signed ruslan kuprieiev kupruser gmail.com reported andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5562,692ed6e1f4db296b604f49356efbdaf9b16a324d,ndrey Vagin <avagin@openvz.org>, 2015-01-22 18:46:00 +0300, , protobuf add criu .hex true mask flag etc fix mm.proto signed andrey vagin avagin openvz.org acked ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5563,fe6255c2c6883f2767341cee5a56c56fc8625fde,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-22 17:01:00 +0300, , test rpc add generated file gitignore signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5564,bb96d80fde136eec989c254b090f5de83a70d545,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-22 16:57:00 +0300, , test crit cleanup generating new image signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5565,7352e104de47527145a07c54b56d110ce988bc43,ndrey Vagin <avagin@openvz.org>, 2015-01-22 14:45:00 +0300, , zdtm maps007 wait max_delta operation daemonizing suppose test able exit moment signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5566,1f3b76b07a1bf793c78a81a2dae655e6053afafc,onstantin Khorenko <khorenko@parallels.com>, 2015-01-24 00:20:00 +0300, , test makefile remove bash ism loop need make working debian dash default signed konstantin khorenko khorenko parallels.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5567,c9b6614eefd7b2e302807db9de39bca96d7d4c1b,avel Emelyanov <xemul@parallels.com>, 2015-01-23 17:50:00 +0300, , proc remove pointless debug signed pavel emelyanov xemul parallels.com,,
5568,9ffc19b3072c938709fe47d61e8493b5c8efda69,avel Emelyanov <xemul@parallels.com>, 2015-01-23 20:19:09 +0300, , kerndat mark get_last_cap static signed pavel emelyanov xemul parallels.com,,
5569,71f5542e004321eba117b5fb62a06b1ad515848b,ndrey Vagin <avagin@openvz.org>, 2015-01-23 15:40:25 +0300, , test makefile clean zdtm tst list signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5570,34cb2d23f2723d4ef2c6b1e0c9bde365decf4b77,ndrey Vagin <avagin@openvz.org>, 2015-01-23 15:07:00 +0300, , zdtm define _gnu_source zdtm_ct zdtm_ct.c error clone_newnsâ undeclared first use function unshare clone_newns clone_newpid clone_newnet clone_newipc reported jenkins signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5571,4dbc3f093abf8e772ae84c3ccead34d36a91278b,ndrey Vagin <avagin@openvz.org>, 2015-01-23 15:04:00 +0300, , socket define sockets.h sockets.c function sockets.c 153 error undeclared first use function sockets.c 153 note undeclared identifier reported function appears reported travis signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5572,cb3984844bcb2e67655f3f40f23f4fe42fb7a553,ndrey Vagin <avagin@openvz.org>, 2015-01-23 14:20:19 +0300, , zdtm.sh generate test list test specified signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5573,e636a226c89082b3f6746f17a3da21c82b663799,ndrey Vagin <avagin@openvz.org>, 2015-01-23 14:36:00 +0300, , zdtm.sh add static aio00 static timerfd signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5574,ca97fed57b4b2a1bb1fd453041002a710c8fa0f9,ndrey Vagin <avagin@openvz.org>, 2015-01-23 14:20:20 +0300, , zdtm generate test list signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5575,2a8ab289245afc2e667d9fec1995278f28a1a391,ndrey Vagin <avagin@openvz.org>, 2015-01-23 00:07:06 +0300, , zdtm.sh add static aio00 twice signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5576,ba4713d383c67edea32cddefb8d4c3cdde31e43b,ndrey Vagin <avagin@openvz.org>, 2015-01-23 00:07:05 +0300, , zdtm.sh allow anyone print stdout signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5577,b9466e81148e1acbf4b1f62049b8b6def4c664e2,ndrey Vagin <avagin@openvz.org>, 2015-01-22 20:31:39 +0300, , image fix compilation inlcude util.h signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5578,f3bf749b2b4d76c9cf0f36e16192dfd0a6ede15b,ndrey Vagin <avagin@openvz.org>, 2015-01-22 18:59:11 +0300, , test add crit test test list signed andrey vagin avagin openvz.org acked ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5579,85089ed3593735f253cfb0e9defadfdfb3edd124,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-22 18:58:38 +0300, , travis add protobuf compiler signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5580,0dc9c9837f753e349f81cda87f1dbe3fbf4d0a5b,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-22 18:58:06 +0300, , pycriu image pb2dict forget throw exception field unsupported type signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5581,b025ef1dbcd4170de34e276a76e35c87ccf423e1,ndrey Vagin <avagin@openvz.org>, 2015-01-22 18:57:39 +0300, , criu return error argument contains one command example criu show stats dump error crtools.c 468 unable handle one command criu show stats dump dump freezing_time 626 frozen_time 24762 memdump_time 2696 memwrite_time 1007 pages_scanned 1108  pages_written irmap_resolve  reported thouraya thouraya87 gmail.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5582,63cb8b4da847ff800381ab9a77cc7fbea779cb9e,ndrey Vagin <avagin@openvz.org>, 2015-01-22 18:56:30 +0300, , zdtm maps007 fix race condition shm delta max_delta set shm stop child exit parent add max_delta shm delta parent child shm stop shm stop shm delta max_delta break shm delta max_delta konstantin neumoin kneumoin parallels.com reported konstantin neumoin kneumoin parallels.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5583,f67fa36ce5c46808e0dc658260bf1e84dc6c3242,ndrey Vagin <avagin@openvz.org>, 2015-01-22 18:56:03 +0300, , image close image error path signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5584,b99fbf66fb564109509fe6a4035bea17ded55ab4,avel Emelyanov <xemul@parallels.com>, 2015-01-22 18:55:35 +0300, , check zdtm check userns feature criu continuation check relevant userns feature criu check signed pavel emelyanov xemul parallels.com,,
5585,0749ef23e9e977ee006575ce79c82117b18b5d0a,avel Emelyanov <xemul@parallels.com>, 2015-01-22 18:55:34 +0300, , check zdtm introduce fine grained feature testing right state criu work 3.11 kernel time support couple new feature like aio tun timerfd etc available later kernel since new feature break generic operation require kernel strictly however zdtm test important know exactly tested right done tough manner kernel 3.11 criu check fails _any_ reason treat kernel bad throw set test propose test individual feature form list test fine grained manner patch fix aio mnt_id tun posix timer test next add check fix user namespaces test signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5586,4857d0ce7d8870fb9efb18d7c64f18fa1d88ef3e,avel Emelyanov <xemul@parallels.com>, 2015-01-14 17:28:57 +0300, , socket call modprobe make sure diag module problem diag module auto loaded dump put data uevent socket thus causing dump fail socket solution time call modprobe advance make sure diag module turned nice solution modprobe may fail module missing requred functionality built handle diag stuff mush faster reliable ping kernel simple diag request check reqched required module signed pavel emelyanov xemul parallels.com,,
5587,674df19a344c065c7dbc072a2ba8594e9690e1ed,avel Emelyanov <xemul@parallels.com>, 2015-01-14 17:28:24 +0300, , nlk add error callback do_rtnl_req next patch need care exact error reported kernel add error callback signed pavel emelyanov xemul parallels.com,,
5588,837e38fd735040e96673526ee815517c12385522,avel Emelyanov <xemul@parallels.com>, 2015-01-22 17:23:47 +0400, , crit fix uninitialized print_hex signed pavel emelyanov xemul parallels.com,,
5589,ee3239f946ab31a56be140c3aaebc088cdbf0638,yrill Gorcunov <gorcunov@openvz.org>, 2015-01-21 14:49:00 +0300, , make protobuf rework build procedure instead generating intermideate file .secondary helper let calculate proto deps fly signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5590,c864a31f0507f979a70cd13fd420d9a44661f905,avel Emelyanov <xemul@parallels.com>, 2015-01-22 15:03:59 +0300, , revert fix aufs pathname handling branch exposed reverts commit 490ca718 2749d9e6 fix problem proper way conflict sysfs_parse.c signed pavel emelyanov xemul parallels.com,,
5591,2749d9e6ea02dd99bfd72f7c6d608d3d41c271bb,aied Kazemi <saied@google.com>, 2015-01-22 02:22:00 +0300, , rework non aufs link patch reworks let symbolic link proc pid map_files pointing aufs branch name follow non aufs applcation logic use case prompted commit application mapping dev zero shared writeable show map_files lrw ... 7fc5c5a5f000 7fc5c5a60000 dev zero deleted aufs support code read link strip deleted string added kernel core criu code already doe signed saied kazemi saied google.com signed pavel emelyanov xemul parallels.com,,
5592,97743f421c6557e9f2432c34d968ccc4d8322135,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-19 18:38:00 +0300, , make fix multithreded compilation currently run lot race condition building multithreded mode reported jenkins signed ruslan kuprieiev kupruser gmail.com acked cyrill gorcunov gorcunov gmail.com signed pavel emelyanov xemul parallels.com,,
5593,a1f626d4ac94fc497da8241fc6b8c5539bf46e24,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-20 16:54:02 +0300, , travis add libprotobuf dev signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5594,2823a67a9528b5292ce283d42642752f904b97f4,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-19 16:10:58 +0200, , make fix double compilation signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5595,f977a9a9f7fa380bf473307b83ba59a582a1f6ec,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-19 16:10:57 +0200, , test crit use format hex signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5596,96457b178dfb33762eae8daf8944da7b40c9e4ad,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-19 16:10:56 +0200, , protobuf core x86 mark gregs hex field option signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5597,d1c88b1e5745017e1220cb7615c26df1269ee01d,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-19 16:10:55 +0200, , protobuf core use hex custom field option blk_sigset field signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5598,87da3e3437ca8318a9dbd0dbea4eba87bd69115b,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-19 16:10:54 +0200, , crit add format hex option pavel reported decimal value field hard read people used see hex value unfortunately json support hex representation integer store hex string field need represented hex string set introduces custom field option called criu use proto file one use criu .hex true mark field represented hex string pb2dict module pycriu package look field option find criu.hex set true convert field hex string though behaviour optional user request specifying format hex calling crit decode crit encode turn detects field automatically require special cmdline option set need proto file compile protoc protoc compiler requires creating google protobuf directory symlink usr include google protobuf make protoc generated file happy reported pavel emelyanov xemul parallels.com signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5599,5feac803362f6ee175b2665f2877da309a5d75ec,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-19 16:10:53 +0200, , protobuf add opts.proto signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5600,490ca718662f97f8d8df2debe8fdedbc98a0e6cf,aied Kazemi <saied@google.com>, 2015-01-19 13:05:12 +0300, , fix aufs pathname handling branch exposed code fix aufs pathnames associated vma entry see commit d8b41b6525 handle case entry doe expose branch pathname e.g. pointing device like dev zero signed saied kazemi saied google.com signed pavel emelyanov xemul parallels.com,,
5601,7b4a264e28d7cf02a9d272b75b5a748be03ac100,avel Emelyanov <xemul@parallels.com>, 2015-01-15 19:51:18 +0300, , crit small inf outf evaluation cleanup signed pavel emelyanov xemul parallels.com,,
5602,a9ccdccc34f1155decac84dca78c7300cb239fc4,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-15 18:49:00 +0400, , pycriu image pb2dict perform json conversion properly currently handling conversion simplest way parsing protobuf text format representation message splitting string half storing value wrapped python dict lead bunch error like example converting byte field also handle type properly patch introduces proper way handle json conversion iterating field properly storing dict properly extracting value dict signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5603,8878793d39cf841fedd8d388a2a3da6fb0740b57,avel Emelyanov <xemul@parallels.com>, 2015-01-15 02:07:00 +0400, , crit fix queue extra handler variable name signed pavel emelyanov xemul parallels.com,,
5604,0956230709c7b2b85eb65a292447bfc48cb48192,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-14 16:32:41 +0200, , pycriu image mention raw data image throwing unknown magic exception signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5605,9761dc3a70bd19177f2e9f4cec9f125981f0bbc2,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-14 16:32:40 +0200, , test crit use decode encode instead convert signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5606,1a30e8800e5d33ceb1ab3ee56b08074414b3e419,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-14 16:32:39 +0200, , crit fix typo signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5607,7a8ddc0f4a9012afd56b7a1268488f644b036ae1,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-14 16:32:38 +0200, , crit split convert command decode encode signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5608,598a83cfd36e7512054a7364bed0ee5f2db9ed1e,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-14 16:32:37 +0200, , pycriu image treat pagemap.img special one pagemap.img special one start entry pagemap_head type followed entry pagemap_entry type currently treat pagemap pagemap_head payload pagemap_entry extra wrong signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5609,4997896bf48c5a0a6964a5a12d2ccc9d3ab25162,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-14 16:32:36 +0200, , pycriu image merge payload field entry add extra field entry needed   magic foo entry  payload foo bar bar foo  extra abc   payload foo bar bar foo  extra abc      magic foo entry  foo bar bar foo extra abc   foo bar bar foo extra abc    field named extra msg likely ever one reason worry signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5610,912f1a5afbbae0fb7869530b694bf565ff913842,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-14 16:32:35 +0200, , crit print new line orig_type bin using stdout signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5611,12db8f23f550ed82a134c973647060c8388e5334,uslan Kuprieiev <kupruser@gmail.com>, 2014-12-31 14:06:53 +0200, , test add crit test test step generate img file dumping loop.sh convert img file json file convert json file img file cmp original produce img file also redirection format nice option check work properly signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5612,ec9ab827b1daa58c292f9da06b9e3d34a39bb8c6,uslan Kuprieiev <kupruser@gmail.com>, 2014-12-31 14:06:52 +0200, , crit add install crit target makefile install crit script crit setup.py install prefix destdir act way install target expects signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5613,def0f49177c7d87ebc4c92c88d18b81ce4638c04,uslan Kuprieiev <kupruser@gmail.com>, 2014-12-31 14:06:51 +0200, , crit add script crit setup.py small python scipt distutils install crit script pycriu package signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5614,9d169c550bb4c76a678c3562bfc917bdd6805c35,uslan Kuprieiev <kupruser@gmail.com>, 2014-12-31 14:06:50 +0200, , crit add crit target makefile .pyc .gitignore signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5615,d36994c4c32dcf22f0f4bbe08e82adbec15890bc,uslan Kuprieiev <kupruser@gmail.com>, 2014-12-31 14:06:49 +0200, , crit add crit crit python script help user manipulate criu image convert criu image human readable format using pycriu.images module signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5616,dfe8f838cfd8f80ab20febc80cd46726a6187156,uslan Kuprieiev <kupruser@gmail.com>, 2014-12-31 14:06:48 +0200, , pycriu add python package pycriu python package consists rpc module image package rpc module contains data structure interacting criu rpc image package contains method loading dumping criu image see big comment pycriu image images.py file signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5617,e7640ad635a77eecbcc5291792b514e42958876e,uslan Kuprieiev <kupruser@gmail.com>, 2014-12-31 14:06:47 +0200, , script add magic gen.py script needed generate python module include magic.h file contains dicts magic number put criu .img file signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5618,feda34319a5d4461294e156f4d555ca1124f7dbc,avel Emelyanov <xemul@parallels.com>, 2015-01-13 22:19:58 +0300, , tty assign empty file_desc_ops fake file descs newer cleanup inherit code need every file desc non null ops hunk lost tty code beginning signed pavel emelyanov xemul parallels.com,,
5619,af91bfa24145f8626e70f1a1e49e1e3c4ef2a515,ark O'Neill <mao@tumblingdice.co.uk>, 2015-01-12 15:57:00 +0300, , signed mark neill mao signed pavel emelyanov xemul parallels.com,,
5620,296129295a2770268583a51c5b9fa8ed682d50a6,aied Kazemi <saied@google.com>, 2015-01-12 14:54:18 +0300, , allow veth pair option specify bridge restoring pair veth device one end inside namespace container end outside criu creates new veth pair put one end namespace container name end specified veth pair command line option patch allows appending bridge name string form bridge name order criu move outside veth named bridge example veth pair eth0 veth1 br0 tell criu name peer eth0 veth1 move bridge br0 simple handy extension veth pair option obviates need action script although one still possibly prefer use action script signed saied kazemi saied google.com signed pavel emelyanov xemul parallels.com,,
5621,70f28122e518e73e4be4945a7f9b6579b755b78d,hristopher Covington <cov@codeaurora.org>, 2015-01-09 19:20:00 +0300, , aarch64 fix restore multithreaded process stack handling macro aarch64 incorrect resulting segfault restored process change pthread00 test case probably others run completion pass signed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
5622,0c366dd8873ae6e1c73745e220d2b26b9555c087,uslan Kuprieiev <kupruser@gmail.com>, 2015-01-12 14:48:05 +0300, , zdtm git add test binary gitignore signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5623,98a9a4c32614cb78aae28d83a2e131ea164b59fa,avel Emelyanov <xemul@parallels.com>, 2014-12-30 18:42:27 +0300, , shmem remove write field shmem info signed pavel emelyanov xemul parallels.com,,
5624,a1b1959dd1654671d4e9b89470c0c85bf055dfda,avel Emelyanov <xemul@parallels.com>, 2014-12-30 18:42:03 +0300, , shmem turn shmem info shared object shremap one nasty issue current code allocates entry shremap area one one allocate entry region array spoiled fortunately longer need shmem info plain array neither need one restorer turn plain shared object collect list signed pavel emelyanov xemul parallels.com,,
5625,b246ccb181612b95c738448125dd5ff5361a0e6e,avel Emelyanov <xemul@parallels.com>, 2014-12-30 18:41:39 +0300, , shmem move code shmem.c file struct find routine used use restorer code former fully vmas opened move code file spoil global namespace signed pavel emelyanov xemul parallels.com,,
5626,455f9b564efb31840115c9c9290700ff529e9dae,avel Emelyanov <xemul@parallels.com>, 2014-12-30 16:29:06 +0300, , factor inheriting fds code two place lookup inherited list name dup descriptor found propose factor piece single inherited_fd call want support inheritance socket file simply add inherited_fd call  also thinking moving call inherited_fd generic level open_path routine allow simple manner also yet finished issue file inodes mapping keeping logic one function make solution simpler signed pavel emelyanov xemul parallels.com,,
5627,8f691c40d565efb4d556d4c083bfc954fbdd1c13,avel Emelyanov <xemul@parallels.com>, 2014-12-30 16:28:39 +0300, , mark static signed pavel emelyanov xemul parallels.com,,
5628,6d6db9e1aa96352a01d8eceac011f476c032c50e,ark A. O'Neill <mao@tumblingdice.co.uk>, 2015-01-12 14:37:11 +0300, , tun small change needed get criu working 3.18.1 kernel centos 6.5 machine signed mark neill mao signed pavel emelyanov xemul parallels.com,,
5629,19ffca535c53a780119d29eeeb5583d9d54adf77,aied Kazemi <saied@google.com>, 2015-01-02 22:23:00 +0300, , try determine bind mount file dockerinit patch add code contrib docker_cr.sh helper script trying determine external bind mount file dockerinit user explicitly specified via environment variable signed saied kazemi saied google.com signed pavel emelyanov xemul parallels.com,,
5630,769d527876a9c4403a656e1668590a7b6de64476,ndrew Vagin <avagin@openvz.org>, 2014-12-30 18:01:00 +0300, , test add libaio ldlibs reported travis signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5631,ea3e39450a3972075ad8f280bafe7793f0ccd163,ndrew Vagin <avagin@openvz.org>, 2014-12-30 16:26:00 +0300, , script travis.sh add libaio dev arm signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5632,78618b621a1988f0dc01977f6bddae908d4f2961,uslan Kuprieiev <kupruser@gmail.com>, 2014-12-28 18:52:00 +0300, , check skip aio remap error specified criu check result error stock fedora kernel signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5633,549795a8c132cb1b5e096c08246ac75dad059948,avel Emelyanov <xemul@parallels.com>, 2014-12-30 15:38:25 +0300, , aio fix vma start printing format arm signed pavel emelyanov xemul parallels.com,,
5634,4836e39256d3655947e8381b3a8d0edefeeadeb4,ndrey Vagin <avagin@openvz.org>, 2014-12-26 23:35:00 +0300, , .travis.yml add libaio dev signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5635,a25747f95f690eec8a0d52a1e8b735f1461bb7af,avel Emelyanov <xemul@parallels.com>, 2014-12-30 15:12:06 +0300, , pie fix sizeof printinf format signed pavel emelyanov xemul parallels.com,,
5636,f42ba40f2745d5cdf2be1f08afce09cbc9ecf58c,ndrey Vagin <avagin@openvz.org>, 2014-12-26 14:47:00 +0300, , jenkins exclude maps04 criu iter job job doe three iteration need write 0.5gb image maps04 much test test start fail due timeout signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5637,fd07bc7791d74b5b274c62223cde3d8c7e552238,yrill Gorcunov <gorcunov@openvz.org>, 2014-12-17 16:48:00 +0300, , cpu add mode cpu cap option mode test target cpu feature present image file require bit bit match target cpu may new one feature present signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5638,bbc38f3dac67e4341760e0b0511d2aa89626a29f,avel Emelyanov <xemul@parallels.com>, 2014-12-19 16:03:21 +0300, , zdtm simple test aio ring signed pavel emelyanov xemul parallels.com,,
5639,95945950961af36224b139aa3b97ef6a7f8b8b48,avel Emelyanov <xemul@parallels.com>, 2014-12-19 16:03:00 +0300, , check add check remapable aio ring signed pavel emelyanov xemul parallels.com,,
5640,2694a74a00f8282503d1ab36b88fa282fe7a2d41,avel Emelyanov <xemul@parallels.com>, 2014-12-19 16:02:24 +0300, , aio restore aio context restoring aio quite simple vmas put place call io_setup let kernel create context back move ring proper place another thing restore context thing upon ring creation kernel repots ring start address patch next tree change remap ring said aio context creation ring remap need check new seen kernel signed pavel emelyanov xemul parallels.com,,
5641,08c204820f4f2facfad83bfa3611fc6ae3e33170,avel Emelyanov <xemul@parallels.com>, 2014-12-19 16:01:54 +0300, , aio dump aio ring aio context set kernel doe two thing creates kernel aioctx object map ring process memory 2nd thing give needed information aio set order dump one need pick ring memory get information need one thing note dump task aio request pending also need parasite check ring empty signed pavel emelyanov xemul parallels.com,,
5642,80cf0426956b6cb1078c02efd3e69ba3e475a907,avel Emelyanov <xemul@parallels.com>, 2014-12-19 16:01:30 +0300, , x86 add syscalls signed pavel emelyanov xemul parallels.com,,
5643,f165bdc93cb278d2f935db658dd31a00158d927b,yrill Gorcunov <gorcunov@openvz.org>, 2014-12-17 16:48:00 +0300, , cpu x86 fix cpu cap fpu handling restore mode cpu_cap_s bitmap cpuinfo image present require fpu check need check bit sole comman line typo first place caused statement false always problem though stable candidate mistake fall strict match cpu mode signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5644,2fd795b61caca9ddd0179f409cd1fe12e5dfc541,ndrey Vagin <avagin@openvz.org>, 2014-12-24 22:32:00 +0300, , zdtm cwd02 avoid resolving path may permission reported jenkins fix 7dbd38dbc939 zdtm set additional group along uids gids ruslan kuprieiev kupruser gmail.com signed andrew vagin avagin openvz.org signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5645,79c4b747053aa72a597840e058152d487ee8f6e0,ndrey Vagin <avagin@openvz.org>, 2014-12-24 11:42:00 +0300, , arm fix compilation armv7 tmp ccq2xzf8.s assembler message tmp ccq2xzf8.s 5748 error thumb conditional instruction block strexeq alexander kartashov alekskartashov parallels.com ruslan kuprieiv kupruser gmail.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5646,86c0c5fb994db9ccba523ad192a223e00c29d728,avel Emelyanov <xemul@parallels.com>, 2014-12-19 15:59:00 +0300, , proc allocate get vma fstat vma_get_mapfile need detect aio mapping soon preparation make future patching simpler also move aufs stat ing aufs code keep aufs logic one place signed pavel emelyanov xemul parallels.com,,
5647,f4282b478a347a111e387636f4c97c8fecd320fe,ndrew Vagin <avagin@openvz.org>, 2014-12-24 19:15:04 +0300, , zdtm cwd01 avoid resolving path may permission reported jenkins fix 7dbd38dbc939 zdtm set additional group along uids gids ruslan kuprieiev kupruser gmail.com signed andrew vagin avagin openvz.org acked ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5648,18d40fddd6bb2e721d348292d81e46c231994e77,ndrey Vagin <avagin@openvz.org>, 2014-12-24 19:13:17 +0300, , zdtm.sh set correct path dump file use uninitialized variable create path pattern fix comment use readlink supported busybox christopher covington cov codeaurora.org reported christopher covington cov codeaurora.org signed andrey vagin avagin openvz.org reviewed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
5649,7f4afef2cf9e72e1b091b02041eb9a52cbc846d3,ndrew Vagin <avagin@openvz.org>, 2014-12-22 14:16:00 +0300, , arm fix compilation armv6 ruslan kuprieiev kupruser gmail.com signed andrew vagin avagin openvz.org tested ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5650,fa992b9d6a371bbf057498411ecbc82817c3488a,ndrew Vagin <avagin@openvz.org>, 2014-12-22 15:55:00 +0300, , zdtm execute mntns_root_bind mnt_id shown signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5651,2802618efae3e899bba7e274a2a80bb747720334,uslan Kuprieiev <kupruser@gmail.com>, 2014-12-11 22:55:18 +0200, , test libcriu add cr_errno test signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5652,c7c772f93ec0db7ba00a795ea7292518a1cd3ce6,uslan Kuprieiev <kupruser@gmail.com>, 2014-12-11 22:55:17 +0200, , libcriu add cr_errno support signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5653,8cba5a16ddb590fa517a1f3b0f350dfabb91c555,uslan Kuprieiev <kupruser@gmail.com>, 2014-12-11 22:55:16 +0200, , test rpc cr_errno let simulate error check error returned service fix test accordingly new errorlist fix test accordingly new errorlist signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5654,6a6cdb8d4addce785cca55966ece9eadd1782f2b,avel Emelyanov <xemul@parallels.com>, 2014-12-19 15:57:00 +0300, , proc drop always true last argument parse_smaps signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5655,5e99d708ca2438d0d88bc430eca4de68cc3c2ee9,avel Emelyanov <xemul@parallels.com>, 2014-12-19 15:56:00 +0300, , zdtm test packet socket mapping turned one though recent 3.19 merge window kernel would crash test signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5656,b30940eee2de040105f1930e2ed9fc49f487b28a,uslan Kuprieiev <kupruser@gmail.com>, 2014-12-19 21:49:00 +0300, , cr_errno move cr_err helper cr_errno.h signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5657,b58eb26fb2b5e95e7ad3e1a612e714047134b897,uslan Kuprieiev <kupruser@gmail.com>, 2014-12-19 21:18:00 +0300, , service add cr_errno criu_resp send cr_errno set cr_errno one signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5658,2d91ff5f2eae317cb2d0eb52bf86ae153cb81514,uslan Kuprieiev <kupruser@gmail.com>, 2014-12-19 19:01:08 +0200, , tty add comment explaining index signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5659,16a668e5d3aba6d46d3324dfdf50b85aeeac14a5,uslan Kuprieiev <kupruser@gmail.com>, 2014-12-17 01:21:40 +0200, , zdtm tty add simple test inspired static console test signed ruslan kuprieiev kupruser gmail.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5660,1ace257022da70195b6a447d233fdd9125b76db2,uslan Kuprieiev <kupruser@gmail.com>, 2014-12-17 01:21:39 +0200, , tty add support dev ttyn virtual terminal provided system major minor run program ttyn pressing alt ctrl running manualy using open openvt nowadays patch also allows run test style fix using linux vt.h constant signed ruslan kuprieiev kupruser gmail.com reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5661,dfeccaddf727b9e054dbf578780697b75ae8440d,ndrey Vagin <avagin@openvz.org>, 2014-12-19 16:37:00 +0300, , zdtm add test check non root shared bind mount signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5662,7dbd38dbc939d3ae12ca8e969f6510c4acf201b6,uslan Kuprieiev <kupruser@gmail.com>, 2014-12-08 19:13:00 +0300, , zdtm set additional group along uids gids currently zdtm set additional group running test set uids gids non root value additional group remain untouched allows test inherit group list lead different behaviour depending way run test signed ruslan kuprieiev kupruser gmail.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
5663,8eaf0142ab7b20fd847982336e8ca46407248229,uslan Kuprieiev <kupruser@gmail.com>, 2014-12-11 22:55:14 +0200, , service set cr_errno ebadrqc fails signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5664,e76749b790a1b6b76a08fb50462d85d01e0572e7,uslan Kuprieiev <kupruser@gmail.com>, 2014-12-11 22:55:12 +0200, , restore set cr_error eexist pid already exists common error using criu problem need somehow transfer cr_errno one process another suggest using pipe give one end child read cr_errno restore finished pavel suggested putting errno shared task_entries also suggested using cmpxchg signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5665,b09a88b5f9f2e1cf12f89eb944879a1c1e989671,uslan Kuprieiev <kupruser@gmail.com>, 2014-12-11 22:55:11 +0200, , util set cr_errno esrch pid dir proc signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5666,ef283e505cf7bd9070700f436579e2d9a06c8936,uslan Kuprieiev <kupruser@gmail.com>, 2014-12-11 22:55:10 +0200, , errno initial commit signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5667,2b2d6732cce96614c6b72b7de4623246276696fa,uslan Kuprieiev <kupruser@gmail.com>, 2014-12-11 22:55:13 +0200, , service use single error exit point signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5668,0437606ecd9cf24b9c5b84b79315a56edaf2ac3e,ikolay Plotnik <nikolay.plotnik@gmail.com>, 2014-12-19 18:55:12 +0300, , add root mount point container irmap hint package monitor 00.573051 irmap scanning hint 00.573053 irmap stat 110025 ino 2891453 dev 64768 00.573055 irmap refresh stat 00.573063 irmap mntns_root 110025 path ino 2891453 dev 64768 signed nikolay plotnik nikolay.plotnik gmail.com signed pavel emelyanov xemul parallels.com,,
5669,1349619f8320a608d1f892b322d597b9b50ffe41,yrill Gorcunov <gorcunov@openvz.org>, 2014-12-19 18:52:08 +0300, , test posix_timers fail big migrated case migrating another node big value might fail support tracking neither somehow restore without kernel patching hardly ever allowed vanilla kernel thus simply remember value stage removing computation signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5670,b2e6690409d8e6fe41c1acda2042fde0994276d7,aied Kazemi <saied@google.com>, 2014-12-19 18:50:39 +0300, , explain inherit reused add comment explaining inherit may closed reused outside inherit logic signed saied kazemi saied google.com signed pavel emelyanov xemul parallels.com,,
5671,4ea1eaa6cb03b135ed513ac48503ba60f658e8ac,ndrey Vagin <avagin@openvz.org>, 2014-12-19 18:33:01 +0300, , pipe increase buffer size pipe identifier 00.312396 error pipes.c 301 enough room pipe 562178190 identifier string reported jenkinks saied kazemi saied google.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5672,ab2c1e426c33d08b57bade1a62b284d73916cc81,avel Emelyanov <xemul@parallels.com>, 2014-12-17 18:11:40 +0300, , proc_parse invert supported vma check natural adding new else branch aio signed pavel emelyanov xemul parallels.com,,
5673,f408bc0331f835c80298707ed161ebce0246d2a4,avel Emelyanov <xemul@parallels.com>, 2014-12-17 18:11:09 +0300, , log print vma status dump log signed pavel emelyanov xemul parallels.com,,
5674,d4c62b6b5ca523d5142f5e0396df471cc7f97caa,avel Emelyanov <xemul@parallels.com>, 2014-12-17 18:10:54 +0300, , proc_parse print vma start hex signed pavel emelyanov xemul parallels.com,,
5675,870bf2d5fd5f68518e4237bd8222b61593b59972,uslan Kuprieiev <kupruser@gmail.com>, 2014-12-10 03:44:00 +0300, , libcriu print error exec failed reported paschalis mpeis paschalis.mpeis ed.ac.uk signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5676,54081aff7b2cf31013cc76c6e34dc030d0c4ea44,aied Kazemi <saied@google.com>, 2014-12-09 13:41:00 +0300, , test pipe.c test program saied patch add test criu test system signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5677,e12fd8f98e4d50f3b2638db986a815065266315f,ndrey Vagin <avagin@openvz.org>, 2014-12-09 12:26:00 +0300, , zdtm cwd00 avoid resolving path may permission reported ruslan kuprieiev kupruser gmail.com ruslan kuprieiev kupruser gmail.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5678,8f71344ce2b5fe6b5dc314e018cdf9426f89b664,uslan Kuprieiev <kupruser@gmail.com>, 2014-12-08 11:52:00 +0300, , zdtm add ip.dump ip.rst gitignore signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5679,0412152fc538e028c9beb1a43970f648b3962b11,aied Kazemi <saied@google.com>, 2014-12-09 23:20:00 +0300, , add inherit support case process file descriptor restored checkpoint image example pipe file descriptor one end checkpointed process end separate process part checkpointed process tree restored checkpoint pipe broken also case user want use new file restore instead original file checkpoint time example user want change log file process path oldlog path newlog case criu caller set new file descriptor inherited restored process specify file descriptor inherit command line option argument inherit format tell criu file descriptor use restoring file identified debugging aid argument format debug tell criu write string colon file descriptor used example easy way leave restore marker output stream process important note inherit support break application depend state file descriptor inherited consider inherit specific use case know sure break application example please visit http criu.org category howto added check send_fd_to_self avoid closing inherit also extra measure caution added check inherit look function make sure inherit reused patch also includes minor cosmetic change signed saied kazemi saied google.com signed pavel emelyanov xemul parallels.com,,
5680,0affd5bc1992d065d02894ace91f6ebdb6d3687f,leg Nesterov <oleg@redhat.com>, 2014-12-08 01:13:00 +0300, , criu testing caps00 hang pr_capbset_drop fails signed oleg nesterov oleg redhat.com signed pavel emelyanov xemul parallels.com,,
5681,40ae0fa35a8d9268a9559f5d479fa002a1f79697,leg Nesterov <oleg@redhat.com>, 2014-12-06 23:25:00 +0300, , criu check leak child ptrace_attach fails never ever use ptrace_kill signed oleg nesterov oleg redhat.com signed pavel emelyanov xemul parallels.com,,
5682,5d9c83cf886b2f9e62ea85a504bddcc38303838b,uslan Kuprieiev <kupruser@gmail.com>, 2014-12-03 19:28:01 +0200, , arch aarch64 add atomic_cmpxchg signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5683,3a2d1719769ebd93174756c56bbf22e1f9bf3bab,uslan Kuprieiev <kupruser@gmail.com>, 2014-12-03 19:28:00 +0200, , arch arm add atomic_cmpxchg signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5684,424162b07530d92e62b6288101820a3904dd0446,uslan Kuprieiev <kupruser@gmail.com>, 2014-12-03 19:27:59 +0200, , arch x86 add atomic_cmpxchg signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5685,4bca68ba49d3a4fdf09b02b0ee78438071f58bc2,ndrey Vagin <avagin@openvz.org>, 2014-11-21 17:10:00 +0300, , tcp split packet restoring send queue kernel better problem exists recv queue signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5686,5ecb7b7ccde618505201f7e6ed698dc605c43b10,uslan Kuprieiev <kupruser@gmail.com>, 2014-12-05 08:27:00 +0300, , zdtm forget remove ip.dump ip.rst performing cleanup signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5687,888cae434dec2015325035b03ce9d8ea6b098053,ladimir Davydov <vdavydov@parallels.com>, 2014-12-05 14:51:00 +0300, , zdtm pty02 never close master reading slave may close master reading slave child run first parent wake using case subsequent read slave return resulting false positive test failure 42.194 30914 err pty02.c read slave failed errno resource temporarily unavailable fix waking child close master read completed also note errno eagain failure report look really confusing let print actual number byte read written along errno reporting read write failure make error reporting clearer test signed vladimir davydov vdavydov parallels.com cyrill gorcunov gorcunov parallels.com acked andrew vagin avagin parallels.com acked cyrill gorcunov gorcunov parallels.com signed pavel emelyanov xemul parallels.com,,
5688,d64a49fdc61024e01d0de810b9cc9205be3e02e5,ndrey Vagin <avagin@openvz.org>, 2014-12-03 14:29:00 +0300, , zdtm maps007 use signed value calculation maps007 segfaults i386 size calculated bigger allowed occurs result lrand48 page_size negative case operation return negative value unexpected signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5689,bda033e1e91ac5b86afd0a9fdb9fcdd581da6185,avel Emelyanov <xemul@parallels.com>, 2014-12-01 15:50:35 +0300, , criu version 1.4 according recently accepted plan 1.4 biggest achievement finally started user namespaces fixed criu work smoothly p.haul project optimized image proc file bunch bug course signed pavel emelyanov xemul parallels.com,,
5690,50977c40a4fb7509acd8962a1eb6c6d7d0ed846f,ndrew Vagin <avagin@openvz.org>, 2014-12-01 14:56:00 +0300, , test return iteration number end test path generate path previous image take directory name previous iteration number reported jenkins signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5691,80ed2f39553d203596283a32f945b2fb5d80be1f,ndrew Vagin <avagin@openvz.org>, 2014-12-01 13:43:00 +0300, , test clean page immediately restore see big load avarage criu iter job host writing image maps04 test remove image retore live page cache curretly collect image three iteration size big live cache root jenkins workspace time bash test zdtm.sh static maps04 real 2m23.765s user 0m0.719s sys 0m4.006s root jenkins workspace time bash test zdtm.sh static maps04 real 1m34.884s user 0m0.200s sys 0m4.191s signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5692,ef351aba038f7c446804d04829f380ca69282a7b,ndrew Vagin <avagin@openvz.org>, 2014-12-01 13:42:00 +0300, , test use origin test name generate uniq name test file currently test test may test directory especially zdtm.sh executed reported jenkins signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5693,c7fafff448662f0039ceb396655ac65cea97e7dd,ndrey Vagin <avagin@openvz.org>, 2014-11-27 17:35:00 +0300, , jenkins reduce number job executing test many test server signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5694,2559572a91d42f1e387623cdc442350a7a595b67,ndrey Vagin <avagin@openvz.org>, 2014-11-28 11:00:00 +0300,1, check lead cid 83243 resource leak resource_leak leaked_handle handle variable going scope leak handle signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5695,71a0b5dc31f9b82437a8557584ffbaf741416fef,ndrey Vagin <avagin@openvz.org>, 2014-11-29 00:18:00 +0300,1, mem check existence parent image dumping page pre dump splice page pipe open image dump page splicing page need know existence parent image patch add new call determin existence parent image addition patch fix following issue cid 83244 uninitialized pointer read uninit 14. uninit_use using uninitialized value xfer.parent initialize unused field struct page_server_iov sends network cid 83451 uninitialized scalar variable uninit using uninitialized value field pi.nr_pages uninitialized calling write signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5696,0fc19cf7d233172fb8e611970a54f10df7ddcd70,ndrey Vagin <avagin@openvz.org>, 2014-11-26 22:30:00 +0300, , tcp fail send eats part data stream socket possiable fail case signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5697,0c33452723749272af7f4120d3fc1eaeffeca36f,avel Emelyanov <xemul@parallels.com>, 2014-11-26 22:29:30 +0300, , page server hide error flush request signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5698,6678fbb3340705d8c0c753746bc7e5fb568a186b,konyashkin <vkonyashkin@parallels.com>, 2014-11-17 12:51:00 +0400, , zdtm need print mask event unknown event need print mask event unknown event test current error message case vague 266 got unexpected event unknown signed vkonyashkin vkonyashkin parallels.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
5699,02b2f197ed8db7587c5fd486ea3b75a097b08c62,yrill Gorcunov <gorcunov@openvz.org>, 2014-11-19 12:18:00 +0400, , check implement f_getowner_uids mainline required proper criu work signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5700,199619791de9270b51f5cdd55d53b5996fce4140,avel Emelyanov <xemul@parallels.com>, 2014-11-14 20:01:00 +0400, , mnt factor find mount s_dev code move 2nd piece lower avoid fwd declaration keep similar call close signed pavel emelyanov xemul parallels.com,,
5701,b6c3270b2f37d3d4f6cc4742cb62c09d90121b31,yrill Gorcunov <gorcunov@openvz.org>, 2014-11-13 23:24:00 +0400, , script exit early script passed signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5702,61b8c9dac3fd196344d5acd7aa4e5a00a6ed18be,ndrey Vagin <avagin@openvz.org>, 2014-11-13 00:44:00 +0400, , zdtm execute mnt_id fdinfo reported jenkins signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5703,f07e25c62b3f7fccd18d9332bf364467a91b449f,ndrey Vagin <avagin@openvz.org>, 2014-11-11 01:24:56 +0300, , zdtm add test check non root shared bind mount example fedora container 252 private relatime shared ext4 dev mapper centos_pcs root data ordered 252 private var tmp systemd httpd.service xlnjpnc tmp var tmp relatime shared ext4 dev mapper centos_pcs root data ordered see non root shared mount mounted root mount shared group test emulates situation signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5704,104d3b84d573a84c60d69e9069e89f6eede9a94d,ndrey Vagin <avagin@openvz.org>, 2014-11-11 01:24:55 +0300, , mount rework can_mount_now support bind mount shared mount fedora bind mount part root mount currently allow mount child shared mount mount shared group mounted patch add exclusion case child group allow mount child wider mount mounted signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5705,beeabc3b2b74e616fbc29a093e95d7bece32b557,ndrey Vagin <avagin@openvz.org>, 2014-11-11 01:24:54 +0300, , mount add mnt_roots mount mount tree restore currently connect root sub namespaces root root mount namespace get problem root root mntns shared child shared mount must propagated mount group actually mount tmpfs mnt_roots nothing wrong add tree signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5706,4e7064cd7e4d6ba831a758f19c8f70e4b9743839,avel Emelyanov <xemul@parallels.com>, 2014-11-11 18:51:29 +0400, , mount remove len variable use expression quite short make amount variable code fit brain signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5707,0fbee68f267f062aded4dd0a4171df9b7d931146,avel Emelyanov <xemul@parallels.com>, 2014-11-11 18:51:14 +0400, , mount add helper searching shared peer signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5708,cedd10254c3ae9753a7f2c40039c5da23832de83,avel Emelyanov <xemul@parallels.com>, 2014-11-11 18:50:59 +0400, , mount sanitize path recalculation submounts path conversion check step step add many comment step signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5709,991c02874a71e24697a3b55630301bf0eaeacbca,avel Emelyanov <xemul@parallels.com>, 2014-11-11 18:50:41 +0400, , mount use pre calculated mountpoint t_mpnt_l value signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5710,ffe5f9b4220ef165af480c50cc7e61b66a80a8fe,avel Emelyanov <xemul@parallels.com>, 2014-11-11 18:50:28 +0400, , mount use issubpath checking submount visibility check whether submount mount visible another mount shared peer latter use new issubpath helper used strncmp may scan beyond ct_mpnt_rpath length smaller check code signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5711,e9512502d1f20a9b1f289dfbef7bd46b818fb91f,avel Emelyanov <xemul@parallels.com>, 2014-11-11 18:50:16 +0400, , mount move variable search loop constant given calculate outside loop also rename reflect signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5712,028d6355e6d8dd93a3a92667684768914afc16f6,avel Emelyanov <xemul@parallels.com>, 2014-11-11 18:50:03 +0400, , mount rename path length reflect whose length signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5713,6b0059049d3e180e04a1a0c694907e305264340f,avel Emelyanov <xemul@parallels.com>, 2014-11-11 18:49:51 +0400, , mount add helper path length calculation path lenght zero one strlen path others done make possible use length get tail path path_1 start path_2 absolute path_1 path_length path_2 would give tail tail path_1 relative path_2 even path_2 signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5714,64c95bf58629e64fe47644fda25bf17e7f2a163d,avel Emelyanov <xemul@parallels.com>, 2014-11-11 18:49:39 +0400, , mount add helper search widest shared peer signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5715,1cf5168cabe4f7dfbe31646502e201d32abc107f,ndrey Vagin <avagin@openvz.org>, 2014-11-11 01:24:53 +0300, , mntns rework validation support non root shared bind mount problem solved path child unaccessiable unvisiable non root bind mount root mount point  shared    shared  non root bind mount visiable mount vidiable patch checked set child mount shared group check visiable set mount mount shared group take next mount shared group wider equal current compare child patch validate_shared validates parent mount validates mount find following line patch parent shared_id validate_shared shared_id validate_shared support shared mount different set child example case created mount tmpfs mount make shared mkdir mount tmpfs mount bind case child support case need sort shared mount accoding set child root equal len zero expect last symbol path signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5716,022094db400ab5fb8a1d490a286488e286a31701,ndrew Vagin <avagin@openvz.org>, 2014-11-11 00:59:00 +0400, , zdtm typo fix expr user static env00 user expr syntax error signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5717,98d9264563a83d749d6c826923ffa059e3ba91be,yrill Gorcunov <gorcunov@openvz.org>, 2014-11-10 23:27:00 +0400, , bfd use log_prefix signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5718,88031bf89e47ddc64c91a84f5fb051b39aea0f92,yrill Gorcunov <gorcunov@openvz.org>, 2014-11-10 11:13:08 +0300, , proc_parse convert bfd engine signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5719,8f937e04611859584204677fdd2eaa17c7927480,avel Emelyanov <xemul@parallels.com>, 2014-11-10 17:26:00 +0400, , zdtm test userns test required apis found signed pavel emelyanov xemul parallels.com,,
5720,a7bfa05a21cde5c338d9b3e0df8f563969a530f8,avel Emelyanov <xemul@parallels.com>, 2014-11-10 17:05:43 +0400, , collect rename child thread collecting routine make name look similar signed pavel emelyanov xemul parallels.com,,
5721,ac1c74fc5be3c0244ff257941b2a622e3b288aaa,avel Emelyanov <xemul@parallels.com>, 2014-11-10 17:05:30 +0400, , collect check zombie collecting sanity check zombie kid need additional signed pavel emelyanov xemul parallels.com,,
5722,8078e387745b002a2b18b5c5f4483136b18e8018,avel Emelyanov <xemul@parallels.com>, 2014-11-10 17:05:18 +0400, , collect factor recurring collection thread child scan thread child list several time freezing tree done avoid race new thread kid appearing factor iteration code signed pavel emelyanov xemul parallels.com,,
5723,83df36e73151df630093b096d2b26e25ae5ddac1,avel Emelyanov <xemul@parallels.com>, 2014-11-10 17:05:06 +0400, , collect move parse_threads collect_threads make thread collect code structured similar child collect also help patching signed pavel emelyanov xemul parallels.com,,
5724,13a628df95459729a7b12b0a90f4b8121ca7cb4a,avel Emelyanov <xemul@parallels.com>, 2014-11-10 17:04:54 +0400, , collect clean child collect code variable usage signed pavel emelyanov xemul parallels.com,,
5725,009c173be55c3841c983cf1e7ccee625e07a8ea9,avel Emelyanov <xemul@parallels.com>, 2014-11-10 17:04:41 +0400, , collect clean child thread recurring collect check signed pavel emelyanov xemul parallels.com,,
5726,a2691591b297e502ddf4afaa89ed9fbf3d2a20b4,avel Emelyanov <xemul@parallels.com>, 2014-11-10 10:48:23 +0400, , kerndat sanitize get_fs_stat internals keeping whole stat buf much information signed pavel emelyanov xemul parallels.com,,
5727,00770a91c1cc4962bc7805571c291bbe1c1ed65c,avel Emelyanov <xemul@parallels.com>, 2014-11-10 10:48:10 +0400, , kerndat handle error devtmpfs virtualized check signed pavel emelyanov xemul parallels.com,,
5728,69bffe26d36fd095354783c1eeeb3b0564819f2d,avel Emelyanov <xemul@parallels.com>, 2014-11-10 10:47:56 +0400, , kerndat make virtualized check report yes right return whole struct stat excessive signed pavel emelyanov xemul parallels.com,,
5729,19a76494a93b9ff92e5af948b65389215474975a,avel Emelyanov <xemul@parallels.com>, 2014-11-10 10:47:42 +0400, , kerndat collect global variable one struct spoil global namespace unify kerndat data name signed pavel emelyanov xemul parallels.com,,
5730,5f7933e3a09b245cffc56402ad14371da16f1e2b,ndrey Vagin <avagin@openvz.org>, 2014-11-08 15:19:04 +0300, , zdtm fork create process concurrently currently test creates one process wait part time test one process without child signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5731,b37ce2f11851259ad3927ce5fe1304b87333d9f8,ndrey Vagin <avagin@openvz.org>, 2014-11-08 15:19:03 +0300, , zdtm add transition fork2 test list signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5732,77bdb1828c1fa87c5cfe4b6c8053d62fbfc46206,ndrey Vagin <avagin@openvz.org>, 2014-11-08 15:19:02 +0300, , zdtm compare file descriptor static test test set file descriptor changed signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5733,f639680bf1a6aced4ec5b6242719b2f788cfec3a,avel Emelyanov <xemul@parallels.com>, 2014-11-07 21:37:00 +0400, , userns fork task dump userns signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5734,1283921d532991e8adfd632eebc9da24643f01ae,avel Emelyanov <xemul@parallels.com>, 2014-11-07 20:26:04 +0400, , manual lookup_ns_by_id signed pavel emelyanov xemul parallels.com,,
5735,ba983f981980c125b8ec8f5a4c80c208c7742279,avel Emelyanov <xemul@parallels.com>, 2014-11-07 20:25:38 +0400, , factor nsid listing code signed pavel emelyanov xemul parallels.com,,
5736,f33908a897749b56b92abaa53587b9cad7cba94a,avel Emelyanov <xemul@parallels.com>, 2014-11-07 20:25:05 +0400, , rename created futex comment signed pavel emelyanov xemul parallels.com,,
5737,ee2e8e5bb9fe2504965b9b817299f48ef6b67c6e,avel Emelyanov <xemul@parallels.com>, 2014-11-07 17:53:00 +0400, , parasite cleanup args size fetching right push auxiliary argument required calculate size args area let better keep track required args size get rid excessive argument signed pavel emelyanov xemul parallels.com,,
5738,ca3b8ca0517249485cfde29031e215bf7e0c5324,avel Emelyanov <xemul@parallels.com>, 2014-11-10 17:42:22 +0400, , dump comment dump zombie pid namespaces signed pavel emelyanov xemul parallels.com,,
5739,7c896efff5612aee15983b736554bb347eed76da,ndrey Vagin <avagin@openvz.org>, 2014-11-07 21:40:57 +0300, , page xfer receive information presence parent page server need know insert hole currently xfer parent initialized remote session case non zero value generate_iovs called has_parent true bash test zdtm.sh transition fork 00.000106 error sysctl.c 194 open sysctl net ipv4 tcp_wmem file directory 00.017048 420 error image.c 231 unable open pagemap 420.img file directory 00.017065 420 error image.c 231 unable open page 420.img file directory 00.017090 420 error page read.c parent snapshot pagemap 00.017290 error restore.c 1185 420 exited status 00.017317 error restore.c 1831 restoring failed add new command open page server required save backward compatibility someone try use old version page server get error reported jenkins signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5740,5f13a31e9df2e32f7554f421e9c1628b3d91a278,ndrey Vagin <avagin@openvz.org>, 2014-11-07 21:27:28 +0300, , check return non zero code pr_set_mm_map unsupported feature exception case option signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5741,1cad9b10496b579ef8f44780d0bf739a7dd0385f,avel Emelyanov <xemul@parallels.com>, 2014-11-09 23:26:56 +0400, , util fix ispathsub corner case ispathsub foo report false corner case 2nd argument expected end fix add comment ispathsub argument assumption reported andrey vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
5742,6bc8b637e5c5c5d1a6037033bd60fd475d59e232,ndrey Vagin <avagin@openvz.org>, 2014-11-07 22:30:00 +0400, , test increase permission test directory restoring mount namespaces requires create temporary directory test root test execute new userns non zero gid uid need grant permission add well reported jenkins signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5743,32f58742ca599c84f9b5fd916bcf3c9bad75aa65,avel Emelyanov <xemul@parallels.com>, 2014-11-06 16:40:00 +0400, , mnt introduce use issubpath helper validate mount tree overmounts need check one path sub path another helper  signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5744,b3f644572e25f722fe7f5c3e34fc34432d5c050c,avel Emelyanov <xemul@parallels.com>, 2014-11-07 17:23:17 +0400, , fix compilation fedora signed pavel emelyanov xemul parallels.com,,
5745,b414318c4bb97c91dee1d7610d3d7ba4d884b3e5,ndrey Vagin <avagin@openvz.org>, 2014-10-31 13:14:00 +0400, , userns check namespaces created target userns enter target userns try enter namespaces enter operation requires cap_sys_admin user namespace taget namespace created one namespaces created another userns criu stop dumping return error want find someone configuration case restore complicated current version cover container need signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5746,f29044465538c846a46e294156e742616d5304b4,ndrey Vagin <avagin@openvz.org>, 2014-10-31 12:14:34 +0300, , zdtm add test executed new user namespace socket test excluded so_rcvbufforce so_sndbufforce protected cap_net_admin tty pty excluded tiocslcktrmios protected cap_sys_admin ghost notify unlink excluded linkat at_empty_path protected use blacklist signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5747,b109e9ef11bb840d29ebe2c6b9b7dc468f8aa41c,ndrey Vagin <avagin@openvz.org>, 2014-10-31 12:14:33 +0300, , zdtm add ability execute test another user namespace forget initialize group signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5748,0014a12d960851b2bd79f679f475a22ee068ffcf,ndrey Vagin <avagin@openvz.org>, 2014-10-31 12:14:32 +0300, , zdtm prepare file tree userns two issue mount new user namespace locked need create new root mount need bind mount root  proc sys must mounted umounting proc sys inhereted security policy  author eric biederman ebiederm xmission.com date sun mar 2013 0700 userns restrict proc sysfs mounted allow unprivileged mount proc sysfs already mounted user namespace created  signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5749,ed5a1ba122f639961cf5d414072cb885c032cac0,ndrey Vagin <avagin@openvz.org>, 2014-10-31 12:14:31 +0300, , zdtm create device forking test process device created new user namespace signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5750,c004ff7745a3f12a2cb251ed7edd4a929704501e,ndrey Vagin <avagin@openvz.org>, 2014-10-31 12:14:30 +0300, , restore set pr_set_dumpable access proc file cleared process forked new userns signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5751,fa266bb0cbf6b2e83f1249ec526098ebfcc1d623,ndrey Vagin <avagin@openvz.org>, 2014-11-07 15:09:19 +0300, , userns restore per namespace mapping user group patch fill proc pid uid_map proc pid gid_map root task initialize group new namespace acked serge hallyn serge.hallyn ubuntu.com add helper initialize cred new userns initialize userns cred signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5752,cb2f9223a085ceb9f4a64ee073b076bf9c4bfc93,ndrey Vagin <avagin@openvz.org>, 2014-11-07 13:56:34 +0300, , dump dump user namespaces need save per namespace mapping user group task file saved target user namespace move code signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5753,30711b109de39c9a662a692391e6c7adc12b9128,ndrey Vagin <avagin@openvz.org>, 2014-10-31 12:14:27 +0300, , userns save uid target userns going support user namespaces uid converted accoding userns mapping conver socket signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5754,71a9cd0634f4e1084ef1f8494f7758de30357715,ndrey Vagin <avagin@openvz.org>, 2014-11-07 11:32:45 +0300, , proc delete unused remove struct signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5755,a4243f075b77688bcc3afea2a5b0357d752f2d1d,ndrey Vagin <avagin@openvz.org>, 2014-10-31 12:14:25 +0300, , dump move may_dump check seize_task bad idea group process check right operation need check permission soon posible reduce impact case wrong permission addtion criu parse proc pid state get required infromation proc pid status signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5756,05943959a586e032cc5b52325dba8bd564cac764,ndrey Vagin <avagin@openvz.org>, 2014-11-01 01:02:23 +0300,1, proc parse state ppid proc pid status leak file cid 73423 resource leak resource_leak 15. leaked_storage variable going scope leak storage point signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5757,2cb6f2b68bee074da0c29981e00f3365e6720616,ndrey Vagin <avagin@openvz.org>, 2014-10-31 12:14:23 +0300, , dump remove useless argument seize_task get sig pgid parasite need get target pid namespace signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5758,77905aae197fb3b3418f3080df43d1ffaf5c06e2,ndrey Vagin <avagin@openvz.org>, 2014-10-31 12:14:22 +0300, , dump get task parasite two reason parsing proc pid status slow parasite return target userns signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5759,b0217d4e41dc04fb81a5fa666588acbf394338ac,ndrey Vagin <avagin@openvz.org>, 2014-10-31 12:14:21 +0300, , criu add constant user namespaces signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5760,74503494469a3f22eb77277a7a8cd1931a70fc24,ndrey Vagin <avagin@openvz.org>, 2014-10-31 12:14:20 +0300, , userns define protobuf message uid gid map normally one first step creating new user namespace define mapping used user group process created namespace done writing mapping information proc pid uid_map proc pid gid_map file corresponding one process user namespace signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5761,4ed63afa007192cad4b8b793c7e0491331871fed,ndrey Vagin <avagin@openvz.org>, 2014-10-31 12:14:19 +0300, , mount bind mount root process restored userns create new mntns userns inhereted mount marked locked pivot_root return einval new root locked signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5762,41b972ccbc63f2f4f5de6ccb34c8211492c0258a,ndrey Vagin <avagin@openvz.org>, 2014-11-05 23:23:00 +0400, , jenkins check page server page server tested suggest add pre dump job execute test without page server signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5763,fc84aa581a2607dd9fab14874847519af9b14014,ndrey Vagin <avagin@openvz.org>, 2014-11-05 17:20:00 +0400, , flock blocked process interesting process stopped moment file lock collected wait lock proof theory root avagin fc19 flock xxx sleep 1000 23278 root avagin fc19 flock xxx sleep 1000 23280 root avagin fc19 cat proc lock flock advisory write 23278 280001 eof flock advisory write 23280 280001 eof root avagin fc19 gdb 23280 gdb stopped gdb 23280 root avagin fc19 cat proc lock flock advisory write 23278 280001 eof currently criu dump nothing one process waiting lock see reason typo fix qiang huang h.huangqiang huawei.com reported jenkins signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5764,391269b58f8092f44be97c58b9aa71d8cb362b93,ndrey Vagin <avagin@openvz.org>, 2014-11-05 17:33:00 +0400, , page server close server socket parent task fix e47eccb1889f page server forget close sever socket signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5765,7cb829b78f46b03c668adc37ef18b2f0d401697f,ndrey Vagin <avagin@openvz.org>, 2014-10-31 17:50:50 +0300, , proc leak memory cid 73370 resource leak resource_leak 13. leaked_storage variable timer going scope leak storage point signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5766,1eb8b9b1827ca0bab341d2baf50df76edc1b59c4,ndrey Vagin <avagin@openvz.org>, 2014-10-31 17:50:49 +0300, , ipc_ns leak memory cid 73377 resource leak resource_leak 10. leaked_storage variable value going scope leak storage point signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5767,5663eafb5e25c2502457bb63dbc9a4eb2692f90f,ndrey Vagin <avagin@openvz.org>, 2014-10-31 17:50:48 +0300, , inet leak socket cid 73347 resource leak resource_leak 21. leaked_handle handle variable going scope leak handle signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5768,189363370237fb75bbec8e38a49a589a620c3e92,ndrey Vagin <avagin@openvz.org>, 2014-10-31 19:22:36 +0300,1, cgroup use fread think version code bit readable memcpy allocate file everyone know argument read know argument fread cid 73345 string null terminated string_null function fread doe terminate string buf note source code implementation function overridden builtin model tycho andersen tycho.andersen canonical.com signed andrey vagin avagin openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5769,a19e945f6e40f49bbb11adbd16c5932bd7d56ab4,ndrey Vagin <avagin@openvz.org>, 2014-10-31 17:50:46 +0300,1, restore leak transport socket cid 73354 resource leak resource_leak leaked_handle handle variable sock going scope leak handle signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5770,80f9494d256755834a06702e60a7010a8b3834dd,ndrey Vagin <avagin@openvz.org>, 2014-10-31 17:50:45 +0300,1, cgroups fix use_after_free issue used going delete something list cid 73383 read pointer free use_after_free dereferencing freed pointer prop tycho andersen tycho.andersen canonical.com signed andrey vagin avagin openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5771,609ce1f9af8b0aeb60cb32cd41bb479f4b1f7217,ndrey Vagin <avagin@openvz.org>, 2014-10-31 17:50:44 +0300,1, shmem unmap memrory region function allocate memory release cid 73380 use free use_after_free 14. deref_arg calling munmap dereferences freed pointer addr signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5772,c8d8cad1795adea6b744aba9cd715792c6028c4e,ndrey Vagin <avagin@openvz.org>, 2014-10-31 17:50:43 +0300,1, sysfs fix use_after_free issue cid 73379 use free use_after_free 31. deref_arg calling fclose dereferences freed pointer signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5773,e47eccb1889f3bc8bd6c0a80b111b1dfcb4752dd,ndrey Vagin <avagin@openvz.org>, 2014-11-01 02:00:00 +0400,1, page server forget close sever socket cid 73348 resource leak resource_leak 19. leaked_handle handle variable going scope leak handle signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5774,2491da92195c3c445664e2d533bdce8235582d77,ndrey Vagin <avagin@openvz.org>, 2014-11-01 01:19:00 +0400, , page xfer write pidfile process start service process start service exit know connect page server expect find pidfile create pidfile page server process race window signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5775,c80048d215dae94dd9cf93633bb755436e5fc8b3,ndrey Vagin <avagin@openvz.org>, 2014-11-01 00:22:00 +0400,1, dump fix bound write overrun cid 73381 bound write overrun 15. overrun local overrunning array loc_buf 4096 byte byte offset 4096 using index len evaluates 4096 cid 73355 bound write overrun overrun local overrunning array loc_buf 4096 byte byte offset 4096 using index ret evaluates 4096 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5776,3bb7731c2e70beb8f19db5e8f00eecb3b86b8f35,avel Emelyanov <xemul@parallels.com>, 2014-10-31 13:50:00 +0400, , mnt helper comment bind mount validation signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5777,defdb96b9b5260c5299de29e290333f81f91f8ac,avel Emelyanov <xemul@parallels.com>, 2014-10-31 13:49:00 +0400, , mount invert check shared mount check introduced eb214be2 empty mnt_share list produce element signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5778,2e91a9c8145a5ff42bfcb15543aee8a03f4d05d5,avel Emelyanov <xemul@parallels.com>, 2014-10-29 15:44:00 +0400, , bfd flush read image signed pavel emelyanov xemul parallels.com,,
5779,1ef5ca8235562dbac60fee5ca4fcfcae349f4b37,avel Emelyanov <xemul@parallels.com>, 2014-10-29 15:43:00 +0400, , bfd check image got flushed end signed pavel emelyanov xemul parallels.com,,
5780,7688fbc1cfb75ae4dd5942b2801ae406a40d0b8c,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-27 18:31:11 +0300, , restore defer new net namespace creation forked kernel module pktgen run kthred upon new net creation taking last_pid requested let workaround problem using clone unshare bundle signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
5781,4cb9eaf39f3167128b9d32563a82a9f12bc07d4a,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-30 17:05:00 +0400, , tty fix compilation warrning tty.c function include criu log.h error indexâ may used uninitialized function werror maybe uninitialized time assign console_index debug info signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5782,102cbe8a09bd2c4a2e3e78c8c138265f41b51183,ndrey Vagin <avagin@openvz.org>, 2014-10-14 15:38:00 +0400, , namespaces take account userns return error proccess live another userns criu support signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5783,5ed535f17a209ac6188938950c916144a608c51b,ndrey Vagin <avagin@openvz.org>, 2014-10-14 15:38:00 +0400, , namespace append null byte readlink readlink doe append null byte buf signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5784,db8ff58f527e01b37336ee0cb3c0b108e651cdaa,ndrey Vagin <avagin@openvz.org>, 2014-10-14 15:38:00 +0400, , namespace fail namespace supported kernel criu read proc pid fails link exist signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5785,2464ad08d6ebda165a4eeab97fad67c9c204747f,ndrey Vagin <avagin@openvz.org>, 2014-10-29 11:43:00 +0400, , lock print lock reporting error signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5786,2ef8b45db1c3ceb5540f6efaff4ecba0079ed892,avel Emelyanov <xemul@parallels.com>, 2014-10-29 15:28:00 +0400, , pstree update max_pid thread creating helper need make sure pid intersect thread signed pavel emelyanov xemul parallels.com signed andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
5787,b1a8e41dd0594252c40830e982c0388b629821ec,avel Emelyanov <xemul@parallels.com>, 2014-10-29 11:09:00 +0400, , mnt validate mount pre dump two reason first validation meet external mount call plugins correct pre dump actually crash uninitilized plugins list second even pre dump mount tree supported temporary situation yes yes unlikely still hand better fail earlier another story reported sowmini varadhan oracle.com signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5788,a6e746ba17be20d5b87fd33bc3f00f52be8870c9,ycho Andersen <tycho.andersen@canonical.com>, 2014-10-30 00:44:00 +0400, , tty crash restoring non pty pty field present certain tty type unconditionally dereference criu hang signed tycho andersen tycho.andersen canonical.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5789,1ca3317edc59718dc24a135deabc6333d9307c11,ndrey Vagin <avagin@openvz.org>, 2014-10-28 11:38:34 +0300, , zdtm improve checking file descriptor memory region check test process busybox truncate signed andrey vagin avagin openvz.org reviewed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
5790,025b4e86b5a930528213b021f0dbe6943d4d42eb,ndrey Vagin <avagin@openvz.org>, 2014-10-29 00:31:00 +0400, , namespaces user open_proc switch_ns signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5791,a09de51c51554398686acd5d2a5202719979597b,ndrey Vagin <avagin@openvz.org>, 2014-10-28 23:50:00 +0400, , bfd print errno data flushed jenkins report error like 02.423007 error bfd.c 118 error flushing image signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5792,a1d7c7c593359904d09d476d7b1d5fa2ac811ee3,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-20 21:01:03 +0400, , mount dump restore devtmpfs virtualized case meet virtualized devtmpfs dump mean s_dev different one obtained mountpoints dump procedure dump tar help thus restore get filled image signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5793,48d81eb48ae22747ea8e36ec54501fbdeed5a2b9,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-20 21:01:02 +0400, , kerndat transform general form need devtmpfs well make general signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5794,eb214be2d0d72b1a5064d804389dffd280dc06ef,ndrey Vagin <avagin@openvz.org>, 2014-10-23 17:49:03 +0400, , mount move code validate shared mount separate function signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5795,ffe7f01d29451692cd89832f78f8ccdc077bad73,ndrey Vagin <avagin@openvz.org>, 2014-10-23 17:49:02 +0400, , mount add extra temporary root mountpoint currenlty generated path contains two slash successively signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5796,4862246c10e4423c96a6691cb14a028297456929,ndrey Vagin <avagin@openvz.org>, 2014-10-23 17:49:01 +0400, , mntns pivot_root move current root non shared mount need create temporary private mount old root signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5797,41aa981dde533dd88c7aaba710fcd854c21fede4,ndrey Vagin <avagin@openvz.org>, 2014-10-23 17:49:00 +0400, , mount mark mount private twice action twice typo signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5798,377205c147d1fb2ae6e338f4084e5e3223388761,ndrey Vagin <avagin@openvz.org>, 2014-10-23 17:48:59 +0400, , revert mount create temporary directory pivot_root reverts commit pivot_root move current root non shared mount going create temporary private mount put_old signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5799,364277e1366e09a6d915b3942645f11f857cade2,uslan Kuprieiev <kupruser@gmail.com>, 2014-10-08 14:35:00 +0400, , tun rename fd_types__tun fd_types__tunf two global enums member tun first one fdinfo.proto second one netdev.proto protoc complains tun global enums enum rule even though compiling .proto file python let rename tun tunf avoid conflict signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5800,9da5531c81538b9c8fcc86511c66001e566c1c6e,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-24 00:22:05 +0400, , test add console trivial test simply check major minor changed restore signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5801,ec50bd8c913141d171f72e7625a658487e35d54e,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-16 14:20:34 +0400, , tty add support dev console dev console system console provided system major minor usually configured system startup console option underlied driver resposible deliver message console user signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5802,bc9b4bcc3fdbc90b1ac68f602d5bda2c5d9eb522,ndrey Vagin <avagin@openvz.org>, 2014-10-14 16:31:08 +0400, , parasite stop parasite daemon dumping thread parasite daemon set sigchld handler dumping thread use parasite trap sigchild handler notice chld arriving thread trap emits error 00.020292 error parasite syscall.c 387 si_code si_pid 3485 si_status wait report task dead trapped handler exit let stop parasite daemon dumping thread signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5803,28a140c87cc7b7602b3acd8c1412eb52a51eece7,ndrey Vagin <avagin@openvz.org>, 2014-10-27 15:17:00 +0400, , rst check memfd_create restore signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5804,deeea1d221e1712473f7071fea2bc6e031f5880c,ndrey Vagin <avagin@openvz.org>, 2014-10-24 15:16:00 +0400, , zdtm socket tcpbuf heartbeat read data currently fill much posible data socket use half data make flow connection data send recv buffer connection dumped restored need time back normal work time reliably fill send buffer result socket may contain data required heartbeating test block test patch monitor actuall size data test socket konstantin neumoin kneumoin parallels.com reported konstantin neumoin kneumoin parallels.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5805,5676383729711f0f8249c1ab4b9c88e91a2ab636,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-24 23:07:00 +0400, , script add act_max limit make action_names const action_names rather const array make sure never access data outside defining size signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5806,02d9bd1093c33c507aa0ee47aeccf150e304550e,ndrey Vagin <avagin@openvz.org>, 2014-10-27 13:19:00 +0400, , zdtm check process file descriptor dumped restored addition check criu close descriptor signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5807,4135f6cd1c1672e82b82dedd026da574b1c22ad4,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-26 01:00:00 +0400, , proc_parse parse_smaps use file_path instead strstr helper strstr really heavy one let use already defined filled file_path variable instead reported pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
5808,d7865bee7a82c5d3d8440992dee1931b68e87226,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-25 23:18:00 +0400, , test shm make sure sysv memory restored properly criu carry sysv memory via attribute test must live reference real memory area check shmem address restored correctly add signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
5809,c2cae35870d07b75a3b7518b7f8910cb896aa6b7,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-24 14:10:48 +0400, , prctl check try new interface well signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5810,1a2ed27bdb43d20af1ba6393d2ea269c316a7cdf,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-24 14:10:47 +0400, , prctl restore use new pr_set_mm_map kernel support would allow restore parameter user namespaces enabled signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5811,8c40f43018098eb8f5b2d39cdd60c119b48fbe5c,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-24 14:10:46 +0400, , prctl add new interface constant signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5812,a9c724142db09d570444077414a7be487f35bdb7,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-23 21:42:29 +0400, , tty fix path inversion dev ptmx need compare part former path otherwise produce bogus dev index form signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5813,fb54345e089916f2eacbaf14d50e0817df9db791,avel Emelyanov <xemul@parallels.com>, 2014-10-14 17:54:00 +0400, , parasite keep code_orig parasite_ctl need calling mmap remote context enough stack variable signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com acked cyrill gorcunov gorcunov openvz.org,,
5814,a90172df437ed0f29733617579f48113522f503e,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-23 20:19:00 +0400, , reg file mangle ghost directory directory opened via direct mkdir call name taken ghost path postfix x.ghost otherwise name directory restore complete causing cwd01 test fail signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5815,406b6b4237c8b5ea3e843ef7d887893f7cefe12a,ndrey Vagin <avagin@openvz.org>, 2014-10-14 15:53:00 +0400, , zdtm always show error user like error even criu return zero suggest start looking signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5816,f32fa08d0f70cc0638f6ade02f77b65fddbe6a84,ndrey Vagin <avagin@openvz.org>, 2014-10-14 15:41:00 +0400, , zdtm makefile show output test case another chance skip error signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5817,b12072b9791eee01d5ec899cd3c915a498c2b16b,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-16 16:58:00 +0400, , mount allow empty mqueues support posix mqueues moment case simply mounted used let proceed without error case someone using detect empty refuse dump signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5818,3ecd7f2d1454bc7f8a97eba244890c0b3838a683,onstantin Neumoin <kneumoin@parallels.com>, 2014-10-23 12:07:00 +0400, , zdtm makefile increase wait timeout timeout small tcp test case timeout bigger tcp_rto_max 120 second signed konstantin neumoin kneumoin parallels.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
5819,6084e1d08b7768b8776f876e118c7129a15087b2,ndrey Vagin <avagin@openvz.org>, 2014-10-14 19:29:53 +0400, , zdtm static xids00 print information error typo fix signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5820,1a3fc94c571353fc30aa483294949fa410b4489e,ndrey Vagin <avagin@openvz.org>, 2014-10-14 12:42:45 +0400, , zdtm maps01 extend maps01 bad idea one target object addition add shared region second process mapped first signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5821,901c8754d481dac288162bbe877c11d9524b345c,ndrey Vagin <avagin@openvz.org>, 2014-10-14 12:42:44 +0400, , shmem use memfd_create restore shared memory reqions proc pid map_files protected global cap_sys_admin need avoid using support user namespaces going use memfd_create get first file descriptor others process able open via proc pid patch memfd_create used get file descriptor associated shared memory region memfd_create supported old scheme used set name memfd required signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5822,2c65748f7497c447cf5b768b97c4ed33066f26cf,ndrey Vagin <avagin@openvz.org>, 2014-10-14 12:42:43 +0400, , shmem rework getting file descriptor shared memory region proc pid map_files protected global cap_sys_admin need avoid using support user namespaces going use memfd_create get first file descriptor others process able open via proc pid patch reworks slave process use map_files add comment signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5823,de71c48079923ac5cda77aa3e9835bd25843deaa,ndrey Vagin <avagin@openvz.org>, 2014-10-14 13:10:53 +0400, , syscall add memfd_create follow kerndat style feature described global boolean variable give null name get efault memfd_create supported signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5824,caa64d974dd6d644eab158f3f68f2fb34aad8cc2,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-17 16:52:00 +0400, , tty use regular file engine save path peer currently using predefined format master slave pty peer master always dev ptmx slave dev index index peer number fitting distros always correct slave peer might mounted arbitrary place need somehow carry path ourself image instead bloating current tty image let use regular file engine instead checkpoint stage save path link regfiles set restore simply fetch image approach help future need support multiple instance devpts filesystem support backward compatibility image regfile record present generate new one fly pty_alloc_reg helper need restore dead slave peer restore controlling terminal need generate named fake inverted helper particular need open dead slave peer generate fake master peer open close almost situation restoring contolling terminal get master peer generate appropriate fake slave object open manipulate close free signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5825,8644d2ba83a8c0c6d77457b27b2ce674e5d110f7,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-17 16:52:00 +0400, , file reg add idea able lookup special might present yield error signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5826,cb546f844807aa291a49c31792c6c6b6b2795957,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-16 14:27:26 +0400, , file reg generate ghost file hanged slave pty peer use reg file engine tty let prepare scaffold preventing engine generate ghost file pty peer mostly one create slave peer without opening master peer first sole part tty engine signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5827,4b9406eae2da5f4ff08b15394cb57dc6da474dfe,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-16 14:27:25 +0400, , file reg strip deleted postfix ghost file otherwise postfix accumulated subsequent checkpoint signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5828,a944a78ce9f776799113ce8d6ca6cbfad346bd69,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-16 14:27:24 +0400, , file reg export need tty restore signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5829,81c598cc059f0d5dea643231c2c95be49c9adbdb,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-16 14:27:23 +0400, , file add file_desc_init helper use tty code even file descriptor added file chain signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5830,09aa15c7a34cb340c53c69467f733de04607da4e,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-16 14:27:22 +0400, , tty parse slave peer index fd_parms use path reg file engine anyway simply switch ability signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5831,d6e231ae099f8578ed8ea7ad8285a3aa5eea2cef,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-16 14:27:21 +0400, , tty parasite call tiocgpkt tiocgptlck non ptys support tty type future make call depending type ttys signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5832,bcc1f4eb725ec96261cbc8ae0dede768dc805f38,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-16 14:27:20 +0400, , tty introduce tty type instead calling case major place let introduce enum tty type use instead using major number taking minor account well brings strict check kind terminal dump thus potentially fix case trying terminal understand yet particular dev console signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5833,9498609f897d461b04a8d8ee664d3aa26466d050,ndrey Vagin <avagin@openvz.org>, 2014-10-14 20:24:00 +0400, , dump play function exit code chance exit wrong code error path dump_one_task returs zero allocation dfds failed ret pid vmas ret pr_err collect mapping pid failed pid ret goto err  shared_fdtable item dfds xmalloc sizeof dfds dfds goto err ... err return signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5834,198c93656cf16fe6faf6e33cccd4b91fdb1bc4bb,avel Emelyanov <xemul@parallels.com>, 2014-10-09 17:42:00 +0400, , pstree add helper adding helper pstree signed pavel emelyanov xemul parallels.com,,
5835,87d68fcafd10aebbee93dd4f82a6ad290486ddef,avel Emelyanov <xemul@parallels.com>, 2014-10-09 17:43:36 +0400, , mnt use walking helper signed pavel emelyanov xemul parallels.com,,
5836,a36917d4f258afe904ece27dd3e77b66ad4c8633,avel Emelyanov <xemul@parallels.com>, 2014-10-09 17:43:19 +0400, , mnt clean namespaces walking code signed pavel emelyanov xemul parallels.com,,
5837,2d3fa5e7d02864277bf2d1dff926fd5bd3ed07fa,avel Emelyanov <xemul@parallels.com>, 2014-10-09 17:43:03 +0400, , net use walking helper signed pavel emelyanov xemul parallels.com,,
5838,16971e47cdddeee90b584727c7131a058fd724c5,avel Emelyanov <xemul@parallels.com>, 2014-10-09 17:42:40 +0400, , introduce walking helper signed pavel emelyanov xemul parallels.com,,
5839,e1072b935ab5131cd791214506b3fd36cc2aab2a,ndrey Vagin <avagin@openvz.org>, 2014-10-14 12:44:00 +0400, , travis add compilation test signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5840,2b5d06817f1bb2b28eec50b6705b1584435e580b,ycho Andersen <tycho.andersen@canonical.com>, 2014-10-13 13:48:58 +0000, , dump pre load kernel module see comment explanation going ultimately need handle dumping netlink data think good prevent injecting event stream dump pre load module even though pretty signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5841,8764e7450c0e8826d9135fe2f16153878c2f0df6,ndrey Vagin <avagin@openvz.org>, 2014-10-10 19:11:00 +0400, , check make static used outside signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5842,434879c043275324f282714a4f78f659eb6cabcd,ndrey Vagin <avagin@openvz.org>, 2014-10-11 01:14:00 +0400, , restore clear breakpoints alive task set breakpoints zombie signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5843,21d1b2fdb97facf88436d083896311367e4398af,ndrey Vagin <avagin@openvz.org>, 2014-10-05 02:41:00 +0400, , mount create temporary directory pivot_root found solution lxc code open old root call pivot_root call fchdir old root call umount restore fail root read addition bit faster signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5844,c4a06a2a2688f833a6bd4c0bde37623f1aeaaf48,onstantin Neumoin <kneumoin@parallels.com>, 2014-10-07 15:28:00 +0400, , zdtm stopped fix stopped test main problem test never fail test pas hang signed konstantin neumoin kneumoin parallels.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
5845,ffe3d5cfdaccece3f4f165a59db36f41317e3496,avel Tikhomirov <ptikhomirov@parallels.com>, 2014-10-08 17:21:37 +0400, , add int ctl_32 signed pavel tikhomirov ptikhomirov parallels.com signed pavel emelyanov xemul parallels.com,,
5846,66d1a60ed4afdc75efe5fed9f69d2006c92087d7,ycho Andersen <tycho.andersen@canonical.com>, 2014-10-07 17:25:26 -0500, , restore race closing yard task_helpers created clone_files always close yard close helper cause problem instead close much later code called alive task ensure conflict signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5847,8c1a35b8d5d43a13e43ebfd23a430f923912b77a,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-06 17:15:48 +0400, , tty proto add comment field actually locked packet_mode valid unix98 ptys since moving tty_pty_entry impossible least let comment signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5848,bc5fcaa777fc53f3c660197632d68a26fc40e2c9,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-06 17:15:47 +0400, , tty collect_one_tty use tty_is_master helper signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5849,87418490e53bd56815c6fd93c299a6dedb15140f,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-06 17:15:44 +0400, , tty rename helper reflect type peer parse_index parse_pty_index since pty specific pty_is_master tty_is_master test pty peer type well pty_is_hung tty_is_hung reason signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5850,d311fd3e46b53424c6cc86e69ca6be4576655978,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-06 17:15:43 +0400, , tty add comment console bsd terminal signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5851,9b5e0509068dd940b2e33d108207fc65c0c6be0e,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-06 17:15:41 +0400, , tty instead bug_on exit error early signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5852,b708a7d549303644167315b28c227ee1881f0c52,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-06 17:15:40 +0400, , tty align member assignment readability sake signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5853,f3afc1da120dffd606cbd6d621d9cb22cdc21ced,hristopher Covington <cov@codeaurora.org>, 2014-10-06 22:50:00 +0400, , aarch64 remove task_size mmap_seized task_size aarch64 may several option inclusive depending kernel configuration back checking significant bit done commit made accomodate bit arm mmap_seized got architecture specific implementation fix following error aarch64 kernel  error parasite syscall.c 1105 allocate memory parasite blob pid 104 signed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
5854,9391034f12f6e6bc2278309a045e0c08d03e0159,ndrey Vagin <avagin@openvz.org>, 2014-10-03 17:44:00 +0400, , zdtm.sh change owner test directory changing owner current user able remove change directory convenient reported tycho andersen tycho.andersen canonical.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5855,82d509cb480549659e1ea067f2068fd05c43343d,ndrey Vagin <avagin@openvz.org>, 2014-10-03 17:40:00 +0400, , zdtm execute pipe00 time simultaneously zdtm pre dump zdtm snapshot zdtm iter zdtm execute pipe00 target executed one one signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5856,ebada5b274a85066ecce2cf0467ab9975507e6f3,avel Emelyanov <xemul@parallels.com>, 2014-10-03 14:42:00 +0400, , cpuinfo report negative value shell signed pavel emelyanov xemul parallels.com,,
5857,4cfd9197e124e3fdf28c4d2394febbc8fa657b8c,avel Emelyanov <xemul@parallels.com>, 2014-10-03 14:42:00 +0400, , cpuinfo fail cpuinfo check requested file missing signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
5858,003aed3b97190df0c28a614d8b8e3f91c7860523,ycho Andersen <tycho.andersen@canonical.com>, 2014-10-06 09:03:30 -0500, , restore special cpuset prop cgs criu creates previously trying copy root property recursively attempt correct invalid restores however based discussion restore exactly dumped user need set heirarchies correctly set option parent would conflict dumped order restore successfully signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5859,de055b79924a86da99493e5efd83ef39eea1a9dd,ycho Andersen <tycho.andersen@canonical.com>, 2014-10-06 09:03:29 -0500, , use one path style throughout restore code commit preparation hopefully last restore special cpuset patch previously installed cgroup service calling meant carry around temporary directory name order put thing right place function service instead carrying around full path mean sue without first sanitizing path instead install service calling code reference instead carrying around temporary path signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5860,25e1997fdea9dde39702d8c5c3afa1923f353dcb,icolas Dichtel <nicolas.dichtel@6wind.com>, 2014-10-03 17:22:00 +0400, , test zdtm fix compilation maps02.c madv_dontdump unknown error maps02.c function mainâ maps02.c error madv_dontdumpâ undeclared first use function maps02.c note undeclared identifier reported function appears make maps02 error error fail start home root criu test zdtm live static maps02 signed nicolas dichtel nicolas.dichtel 6wind.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
5861,b52935d7b9f8bccb18cbee9348c2dc4d4b8da8fe,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-03 14:45:00 +0400, , cpuinfo arm fix build add missing implementation arm platform reported mr. travis signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5862,cd1a6dc97f4590e9f9c1f770f0b1c5812dfb89ea,yrill Gorcunov <gorcunov@gmail.com>, 2014-10-01 01:08:34 +0400, , cpuinfo rpc add cpuinfo_dump cpuinfo_check command tue sep 2014 55pm 0400 cyrill gorcunov wrote signed cyrill gorcunov gorcunov openvz.org updated mon sep 2001 cyrill gorcunov gorcunov openvz.org date fri sep 2014 0400 subject patch cpuinfo rpc add cpuinfo_dump cpuinfo_check command signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5863,73b9a2ebe328d87364f394c1c558a2211256a376,yrill Gorcunov <gorcunov@gmail.com>, 2014-10-01 18:56:41 +0400, , cpuinfo add cpuinfo dump check command wed oct 2014 09pm 0400 pavel emelyanov wrote yes expecting  strcmp argv optind return cpu_cap_check  smth like updated become confusing feel free merge ping resend rest pick attachements mon sep 2001 cyrill gorcunov gorcunov openvz.org date tue sep 2014 0400 subject patch cpuinfo add cpuinfo dump check command allow validate cpuinfo information without running complete dump restore action signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5864,87273ccdb86e0c8a32db300937402d2bc22a547c,yrill Gorcunov <gorcunov@gmail.com>, 2014-10-01 17:53:50 +0400, , cpuinfo x86 add dump validation cpuinfo image wed oct 2014 40pm 0400 pavel emelyanov wrote 2014 cyrill gorcunov wrote tue sep 2014 53pm 0400 cyrill gorcunov wrote user requested criu dump cpuinfo image write one dump verify restore moment require cpu feature bit match destination cpu sake simplicity future need deps engine would filer bit test cpu restoring capable one dumping allowing proceed restore procedure  signed cyrill gorcunov gorcunov openvz.org  updated new img format something like attached mon sep 2001 cyrill gorcunov gorcunov openvz.org date thu sep 2014 0400 subject patch cpuinfo x86 add dump validation cpuinfo image user requested criu dump cpuinfo image write one dump verify restore moment require cpu feature bit match destination cpu sake simplicity future need deps engine would filer bit test cpu restoring capable one dumping allowing proceed restore procedure signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5865,e07b4a0e7a5407db443e923e95135710f1c51126,yrill Gorcunov <gorcunov@openvz.org>, 2014-09-30 21:18:52 +0400, , cpuinfo x86 add protobuf entry moment x86 covered arm need handler signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5866,de770e023aebdb70a7eecf354fcb215e4a6795eb,yrill Gorcunov <gorcunov@openvz.org>, 2014-09-30 21:18:51 +0400, , cpuinfo x86 rework cpuinfo feature fetching instead parsing procfs let use native cpuid way faster dark side kernel may disable feature via bootline option even present hardware fine testing hardware cpu feature anyway x86_feature_ bit gathered two source linux kernel cpu specification signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5867,2581dcfb224116914daa65d675b44b59e6d7621a,yrill Gorcunov <gorcunov@openvz.org>, 2014-09-30 21:18:49 +0400, , cpuinfo x86 add cpuid helper use fetch cpu cap signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5868,7c732deb445c209d92b8f81dad4a761d490e0969,yrill Gorcunov <gorcunov@openvz.org>, 2014-09-30 21:18:48 +0400, , cpuinfo x86 add feature bit definition need carry cpu cap signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5869,b191244ea01bf15fa197c7f35dc8b0def022602c,yrill Gorcunov <gorcunov@openvz.org>, 2014-09-30 21:18:46 +0400, , cpuinfo update documentation cpu cap signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5870,ff1a751a891e4c99d2770181bdf00d0c3705d709,yrill Gorcunov <gorcunov@openvz.org>, 2014-09-30 21:18:45 +0400, , opt cpu cap introduce none cpuinfo argument serve choose capability level migrating image various hardware node note bare functionality introduced commit real implementation next patch signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5871,88f488e31f660cd928addbadf5a1f900a069cd30,yrill Gorcunov <gorcunov@openvz.org>, 2014-09-30 21:18:44 +0400, , opt cpu cap make slightly change visible api think safe idea behind make single cpu cap indicate cpu cap signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5872,3914b180d3c50db00358669676a0864143a9b1bc,yrill Gorcunov <gorcunov@openvz.org>, 2014-09-30 21:18:50 +0400, , cpuinfo drop cpu_set_feature exporting redundant cpu local signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5873,4ab2a3ec73a2780af4bc5062b09149ece1d73a1d,yrill Gorcunov <gorcunov@openvz.org>, 2014-09-30 21:18:47 +0400, , cpuinfo x86 drop redundant cpu_has helper simply wrapper cpu_has_feature use directly instead signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5874,4ad462b459694cc1535ee27a176ecc425f429010,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-02 15:18:00 +0400, , mount proc parse show mnt_id debug print well convenient need lookup debug print check mount point used somewhere else particular need mnt_id tty code error easily figure mountpoint used func change signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5875,f582f16db0c22579c75edc4c699c87fb95d7c442,ndrey Vagin <avagin@openvz.org>, 2014-10-01 18:45:00 +0400, , test expand default test set check page server check snapshot check iteration dump restore signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5876,169f25b66701995cf95d218b617148e65b7cca03,ycho Andersen <tycho.andersen@canonical.com>, 2014-09-30 23:50:00 +0400, , restore copy special cpuset prop recursively symptom bug user restoring task nested cgroup top level group created criu previously configured e.g cpuset lxc would get enospc criu would try copy special property lxc directly silently fail tried copy task fail enospc enospc attempted write empty cpuset.cpus cpuset.mems setting cpuset task attached fixing silent failure loud failure gave eacces eacces attempted add using write cpu memory node cpuset cpu memory node already parent need copy special prop entire tree additionally copy prop directly top since intermediate point tree could add restriction first walk back tree find first point prop empty copy parent prop way signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5877,ae96d21a074b1a790adbe11235034fc01c88ce27,yrill Gorcunov <gorcunov@openvz.org>, 2014-10-01 11:21:35 +0400, , bfd use err_ptr instead breaderr need invent new error code simply use err_ptr is_err_or_null signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
5878,aeb3f547f7d09e53eda5d204b0bbe43d9a5bf9bb,avel Emelyanov <xemul@parallels.com>, 2014-10-02 14:48:28 +0400, , net move socket.c net.c signed pavel emelyanov xemul parallels.com,,
5879,8bd3b7a99a6c2da370ed175347218ef651034f8b,ycho Andersen <tycho.andersen@canonical.com>, 2014-10-02 00:57:00 +0400, , leak property dir exists using null sentinel indicate restore cgroup property make sure leak information instead check n_properties field also set correctly signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5880,c57c2cfa64e6ccc39245d83edb05f78e09039242,avel Emelyanov <xemul@parallels.com>, 2014-10-01 16:15:00 +0400, , predump collect mnt net namespaces properly pre dump collect two namespaces mnt one criu mnt one root task correct need mount namespaces make irmap generation work properly need net namespaces parasite socket created signed pavel emelyanov xemul parallels.com,,
5881,45fd1434094395d1d59fff39da9c770da2f4feab,avel Emelyanov <xemul@parallels.com>, 2014-09-29 22:05:43 +0400, , parasite precreate daemon control socket netns pstree item place pre create daemon socket needed namespace signed pavel emelyanov xemul parallels.com,,
5882,80efa564f483556d7ade5513b8879ef47347b60d,avel Emelyanov <xemul@parallels.com>, 2014-09-29 22:05:31 +0400, , parasite reshuffle tsock creation signed pavel emelyanov xemul parallels.com,,
5883,8ad653c732be91ed4e36020a74c3a06e2adf367c,avel Emelyanov <xemul@parallels.com>, 2014-09-29 22:05:17 +0400, , pstree store task netns pstree item needed parasite socket signed pavel emelyanov xemul parallels.com,,
5884,678d19be26c2a2ee9c18dbf7f9be45fdd4d36ff5,avel Emelyanov <xemul@parallels.com>, 2014-09-29 22:05:05 +0400, , reshuffle nsid generation code make possible get ns_id object together  signed pavel emelyanov xemul parallels.com,,
5885,3f381451636fb73b5f7c87bfe8f05f23e185ee35,avel Emelyanov <xemul@parallels.com>, 2014-09-29 22:04:52 +0400, , pstree introduce item dump info empty filled soon signed pavel emelyanov xemul parallels.com,,
5886,c443b03e102927f9bb6b4a18b1f3db6451e7bc7a,avel Emelyanov <xemul@parallels.com>, 2014-09-29 22:04:39 +0400, , rst rework rst_info referencing signed pavel emelyanov xemul parallels.com,,
5887,3c7d01f6a7eb2ef4870d4fe5eaa9acb453bc8b57,avel Emelyanov <xemul@parallels.com>, 2014-09-29 22:04:25 +0400, , net pre create diag setns syscall called switch_ns extremely slow call two time task kernel synchonously slow routine called synchronize_rcu trying put reference old namespaces avoid propose create per socket one place one setns call patch diag socket used collect socket created way signed pavel emelyanov xemul parallels.com,,
5888,4f9acb6a7c4971a545ae9acf1e075b10800208ad,avel Emelyanov <xemul@parallels.com>, 2014-09-29 22:04:11 +0400, , net walk net namespaces collect right support multiple net namespaces day logic distinguish case namespaces one namespace walking already make sence signed pavel emelyanov xemul parallels.com,,
5889,7327ffe6a737edddfdd79433e8a4963a7960a9ec,avel Emelyanov <xemul@parallels.com>, 2014-09-29 22:03:55 +0400, , introduce move socket collection signed pavel emelyanov xemul parallels.com,,
5890,01f6f890c290c019f92104bdc8763d5f286d7b13,avel Emelyanov <xemul@parallels.com>, 2014-09-29 22:03:42 +0400, , introduce routine signed pavel emelyanov xemul parallels.com,,
5891,b4768792397e8cb161a576de71d5995c7c3fb5d7,avel Emelyanov <xemul@parallels.com>, 2014-09-30 23:57:00 +0400, , irmap get root mntfd releasing task predump use free predump code 1st free_pstree called pre_dump_tasks may call lookup_irmap turn dereferences root_item get root mount problem bigger released task done freeing pstree predump longer access pid keeping root item irmap scan fix fix get root releasing task using one irmap scanner caught recently iterative inotify_irmap test signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5892,66944032145c376ac8296435d7ad00547608b72c,ndrey Vagin <avagin@openvz.org>, 2014-09-22 19:50:00 +0400, , zdtm tempfs set mode o_creat man open  mode specifies permission use case new file creâ ated argument must supplied o_creat o_tmpfile specified flag  konstantin neumoin kneumoin parallels.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5893,c7390d2d3fa32e61d3b00f87473832f16e7c5fca,ndrey Vagin <avagin@openvz.org>, 2014-09-22 19:48:00 +0400, , zdtm cwd01 forget set readlink reported konstantin neumoin kneumoin parallels.com konstantin neumoin kneumoin parallels.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5894,8ac80915e0408aa0448fe525cabb28beea244840,avel <arsbum@mail.ru>, 2014-09-22 16:27:00 +0400, , factor namespace switching call signed pavel emelyanov xemul parallels.com,,
5895,3bc0936ae740457057b1ffcbc5665fad73feddb9,ndrey Vagin <avagin@openvz.org>, 2014-09-30 17:40:00 +0400, , criu add .travis.yml travis configured adding file named .travis.yml yaml format text file root directory github repository travis automatically detects commit made pushed github repository using travis time happens try build project run test http wiki travis_ci currently travis build criu x86_64 arm move travis ci.sh script fix path script script signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5896,8651f43bc056322c55d291f9909d38dc1e72969d,avel Emelyanov <xemul@parallels.com>, 2014-09-29 12:50:44 +0400, , bfd implement buffered read restore time look like patch futex 370 3.554482 84.2 umount 0.234796 5.6 read 4737 0.113987 2.7 recvmsg 0.100083 2.4 wait4 0.033344 0.8 patch futex 187 1.547642 72.9 umount 0.234595 11.0 recvmsg 0.075738 3.6 flock 0.038696 1.8 clone 0.037699 1.8 time wait process restore would affect parallel restore see read really away onto 7th position signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
5897,b46409349b2b1b6154ee6adf530c47f3cdb51037,avel Emelyanov <xemul@parallels.com>, 2014-09-29 12:50:29 +0400, , bfd implement buffered writes dump time top look like patch writev 1595 0.048337 15.1 openat 1326 0.041976 13.1 close 1434 0.034661 10.8 read 988 0.028760 9.0 wait4 170 0.028271 8.8 patch openat 1326 0.040010 16.4 close 1434 0.030039 12.3 read 988 0.025827 10.6 wait4 170 0.025549 10.5 ptrace 834 0.021624 8.9 write away top list turn 8th position funny thing object writes get merged magic writes total amount write writev strace remain intact signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
5898,b90ae65c4c67a368cb618ddbcb791da9da243dd5,avel Emelyanov <xemul@parallels.com>, 2014-09-29 12:50:13 +0400, , img prepare use bfd engine signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
5899,67bbc7ea0b56d1ff62887ab601c26e19f275dc50,avel Emelyanov <xemul@parallels.com>, 2014-09-29 12:49:55 +0400, , bfd rename field read writes name bleft strange meaning rename smth appropriate signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
5900,166c58d5bb38a9d9c8ece97f99f3ec15a4580f84,avel Emelyanov <xemul@parallels.com>, 2014-09-29 12:49:23 +0400, , img mark unbufferred image image store raw data together object one store raw data use custom access e.g pipe data image splice data queue one lseeks image queue packet using buffered mode mixed raw may lead trouble explicitly mark image buffering next patch handle image carefully signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
5901,cf64851b2ac8f5e357a9867eaf6dc840304418ed,avel Emelyanov <xemul@parallels.com>, 2014-09-29 12:49:09 +0400, , pas cr_img image_name pb_ read write stop using plan soon signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
5902,295090c1ea4de9b71ac248cdb605cd180dabb486,avel Emelyanov <xemul@parallels.com>, 2014-09-29 12:48:53 +0400, , img introduce struct cr_img want buffered image speed dump slightly restore right use plan file descriptor write read image making buffered gracefully done plain fds introduce new class also help want complex change image e.g store one file send directly network cr_img contains one int _fd variable patch chages prototype open_image return struct cr_img pb_ read write accept one fix compilation rest code signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
5903,0c5dc93bd0e32192181c7d4ed5ad5951f34c445a,avel Emelyanov <xemul@parallels.com>, 2014-09-29 12:48:31 +0400, , subject patch pstree subblock read task restore ugly easier patching signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
5904,35be2ee262e03e1a279c522e027217478cc993f4,avel Emelyanov <xemul@parallels.com>, 2014-09-29 12:48:10 +0400, , img return return instead int soon away return explicit int instead signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
5905,42821edccfd10dcbd74350edb434fa7cf477fd60,avel Emelyanov <xemul@parallels.com>, 2014-09-29 12:47:54 +0400, , img use errno checking optional image open fail int soon one preparation fact signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
5906,5f2a7ac27bd1e74a42e5530698c1e664610d0490,avel Emelyanov <xemul@parallels.com>, 2014-09-29 12:47:37 +0400, , img rename fdset imgset since going switch int class image soon fdset name fit new terminology patch sed fdset imgset sed imgset_fd img_from_set git include fdset.h include imgset.h signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
5907,1cb690ddc97f5554de7e253df68230fb4f1be19a,avel Emelyanov <xemul@parallels.com>, 2014-09-29 12:47:21 +0400, , img move image helper file simplify change int generic image class data type signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
5908,9d9ac53cd5aa6774af7a6eb14939cc54b27d86b2,avel Emelyanov <xemul@parallels.com>, 2014-09-29 12:47:05 +0400, , rst use write_img_buf setting last_pid sysctl write_img_buf used image writing place raw file descriptor signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
5909,03482f69a2af865e282bb26de947f0df1995d559,avel Emelyanov <xemul@parallels.com>, 2014-09-29 12:46:47 +0400, , img keep copy flag value open_image_at drop o_opt flag drop one instead set bools let flag copy hand signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
5910,78bbb0a16116c827fb99be99c05aa0f1c509abce,yrill Gorcunov <gorcunov@openvz.org>, 2014-09-23 21:00:24 +0400, , file reg simplify special helper xrealloc_safe reallocs signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5911,1ef506076934d7d7a2abd43f0bcbfb8da7d8c9e0,yrill Gorcunov <gorcunov@openvz.org>, 2014-09-23 21:00:23 +0400, , cgroup use xmalloc rewrite_cgsets prefer helper print error case allocation failure signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5912,c01efda8af8c0c63c4f8d907d1dd5d8c94e2098f,yrill Gorcunov <gorcunov@openvz.org>, 2014-09-30 11:41:36 +0400, , bfd timerfd fix parsing typo converting reading data stream bfd buf member left untouched leading incorrect data read fix setting proper one str otherwise dumping timerfd file failing signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5913,5eb39aad4db6d3c8525dab5be8ec24fd59db7658,avel Emelyanov <xemul@parallels.com>, 2014-09-29 14:39:00 +0400, , bfd multiple buffer management plan use bfd engine image buffering right engine one buffer get reused bfdopen work current usage one pne proc file access image need buffer patch put buffer list organizes stupid refill  check buffer allocation error print buffer mem pointer debug signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5914,1a2e6cbd3fc59bd1b57fc0f9bc3c9a7d4155915a,avel Emelyanov <xemul@parallels.com>, 2014-09-22 17:40:00 +0400, , dump close pid proc vain open_pid_proc engine know cache per pid descriptor need closing hand signed pavel emelyanov xemul parallels.com,,
5915,abeae2671b004d90f36cbf06837fca95903e1b3d,avel Emelyanov <xemul@parallels.com>, 2014-09-23 20:33:32 +0400, , proc keep proc self cached separately proc pid dumping task lot open_proc speed proc pid directory opened first kept cached next open_proc openat cached_fd name thing sometimes call open_proc proc_self proc helper cache proc self result bunch open proc pid close open proc self close see saw middle dumping task fix may cache proc self separately proc pid descriptor eliminates quite lot pointless open close signed pavel emelyanov xemul parallels.com,,
5916,829d433252f2e735dc907cf0342a7e42b06481b6,avel Emelyanov <xemul@parallels.com>, 2014-09-23 20:33:18 +0400, , close cache proc pid stuff restoring file bug someone open proc open_pid_proc alike proc_self real pid going restore fds cached proc helper would cached close fds beforehead may clash restored fds hit right simply due lucky call open_proc proc_gen lock first close cached per pid descriptor report back proc one sits service area change next patch thing would get broken signed pavel emelyanov xemul parallels.com,,
5917,1c8ab40e65312cf66882e1ba119539fea77874b2,avel Emelyanov <xemul@parallels.com>, 2014-09-23 20:33:03 +0400, , proc sanitate empty line signed pavel emelyanov xemul parallels.com,,
5918,e651a6eba4d4608a4b8d35ba81bcbee399997760,avel Emelyanov <xemul@parallels.com>, 2014-09-23 20:32:00 +0400, , filemap get vma mnt_id early well issue calculate vma mnt_id right get one via criu side file descriptor got opening proc pid map_files link problem descriptor merged borrowed adjacent vmas previous one thus getting mnt_id value make sense file move mnt_id getting earlier vma parsing code brings potential problem two adjacent vmas mapping inode dev ino pair living different mount namespaces check would produce wrong result wrong perspective restore correct file would opened wrong namespace propose live since worse evasive device option _very_ unlikely save lot openeings note case app switched mount namespace mapped new library dlopen thing would work correctly new vmas likely adjacent different dev ino signed pavel emelyanov xemul parallels.com,,
5919,f84d19e09a2b1626fb2f2dee34ad9719d78017d8,avel Emelyanov <xemul@parallels.com>, 2014-09-23 20:31:46 +0400, , vma add comment dump field vma_area non obvious handling vm_file_fd vm_socket_id pair vma file_borrowed comment structure signed pavel emelyanov xemul parallels.com,,
5920,cf8c9ae87026acc6e30038daac46200a5383b629,avel Emelyanov <xemul@parallels.com>, 2014-09-23 20:31:16 +0400, , vma reshuffle struct vma_area field dump restore quite lot actually reshuffle vma_area explicitly show one rename easier grep signed pavel emelyanov xemul parallels.com,,
5921,92ee123386e4bef837c14364623ee050cc9fcda5,ndrey Vagin <avagin@openvz.org>, 2014-09-24 16:49:00 +0400, , mntns dump criu namespace reported jenkins signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5922,606bc93a1a3cc8e072987e5600181000c084d56f,ndrey Vagin <avagin@openvz.org>, 2014-09-24 14:48:00 +0400, , bfd move optimization proper place currently optimization skip unscanned data work let skip scanned data reported jenkins signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5923,cfce460b480e3a9d007f00e796b8f8ab48c75790,avel Emelyanov <xemul@parallels.com>, 2014-09-19 17:31:52 +0400, , proc_parse rework timer parser use bfd signed pavel emelyanov xemul parallels.com,,
5924,cc4a67b3edc9591c56419042a4c8c03d71c70954,avel Emelyanov <xemul@parallels.com>, 2014-09-19 17:31:25 +0400, , proc_parse rework smaps parser use bfd signed pavel emelyanov xemul parallels.com,,
5925,2c8af6b8e660ab895b6ca6033f1dd0981ad5d96b,avel Emelyanov <xemul@parallels.com>, 2014-09-19 17:31:11 +0400, , proc_parse rework fdinfo parser use bfd signed pavel emelyanov xemul parallels.com,,
5926,53771adcaa1078e9600f8b4d0a8bf7f56122b8e0,avel Emelyanov <xemul@parallels.com>, 2014-09-19 17:30:52 +0400, , bfd file descriptor based buffered read sound strange kinda need one justification heavily open proc pid foo file speed thing pid_dir open proc pid openat pid_dir foo really save time big tree sometimes need line line scan file currently use fdopen call take file descriptor obtained openat wrap one file problem latter fdopen _always_ mmap buffer read buffer always get unmapped back fclose pair mmap munmap eats time big tree experiment p.haul test situation made even worse fact fgets file result new page allocated kernel since mapping new also fgets copy data big deal e.g smaps file result byte copied around said small fast way reading descriptor line line using big buffer reducing amount read per task fopen_proc get reworked engine next patch result p.haul test would syscall call time time  mmap 463 0.012033 3.2 munmap 447 0.014473 3.9 patched munmap 0.002106 0.6 mmap 0.002286 0.7 amount read open change since file also page sized buffer reading also eliminates amount lseek fstat fdopen doe every time catch file position determine sort buffering use terminal driven file signed pavel emelyanov xemul parallels.com,,
5927,b30f0f0104d46af51f5a2e08e612e5a724dd6f6f,avel <arsbum@mail.ru>, 2014-09-22 16:28:00 +0400, , dump namespaces parallel main reason dumping namespace lot point process wait something time criu process wait dumper dump others great example waiting something setns syscall often call synchronize_rcu quite long let process smth useful signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5928,bbe3f941db81c6ab962c4c3d1d0ed2995b85c8fa,ycho Andersen <tycho.andersen@canonical.com>, 2014-09-19 20:34:00 +0400, , remap add remaps dead pid unless seek read image way see keep list previously seen dead pid check new remap list signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5929,80c4e86e879c8061fe28177641b44287f34e019c,ycho Andersen <tycho.andersen@canonical.com>, 2014-09-22 18:37:00 +0400, , remap try remap file proc remap file correctly anyway return success find one file remap try remap accessible file proc signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5930,867bcd2196964412c9d289467c78810710dc73f3,avel <arsbum@mail.ru>, 2014-09-22 16:26:00 +0400, , mnt shorten mntns dumping loop currently mouninfo mnt namespaces collected one big list dump scan find namespaces need dump optimized walking list namespaces instead signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5931,6382ed43f59c1fafe6f98aafe59cbe483695df83,ndrey Vagin <avagin@openvz.org>, 2014-09-22 15:05:00 +0400, , x86 call wait4 waitpid fix compilation arm pie restorer.c function wait_helpersâ pie restorer.c 728 error implicit declaration function sys_waitpidâ werror implicit function declaration cc1 warning treated error reported jenkins signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5932,ab50f6ac182d6d0dae04a2f515870752eef9fc24,avel Emelyanov <xemul@parallels.com>, 2014-09-22 13:37:00 +0400, , ptrace factor pie stopping code signed pavel emelyanov xemul parallels.com acked andrey vagin avagin parallels.com,,
5933,48fcc7994d48d188c2165a43180b55bf04e9d2cd,ndrey Vagin <avagin@openvz.org>, 2014-09-19 23:48:00 +0400, , ptrace flush breakpoints unfortunately kernel flush breakpoints detaching ptrace breakpoint triggered without ptrace killed sigtrap reported jenkins signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5934,3b2ab35bc81c0b314d35fa47e4a89748e60b1d0a,uslan Kuprieiev <kupruser@gmail.com>, 2014-09-18 03:51:06 +0300, , test rpc test page server signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5935,a483cbda5c721144f05a8c83beae16f11ecd5b6a,uslan Kuprieiev <kupruser@gmail.com>, 2014-09-18 03:51:05 +0300, , service page server allow requesting page server without setting ps_info since return port user autobind case request page server without setting ps_info signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5936,6b631faa4bef8e50cb36401953dcbfbf566e19d8,uslan Kuprieiev <kupruser@gmail.com>, 2014-09-21 14:48:00 +0400, , service page server return port back user signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5937,45fe2c9d6dd5a45b9e68f42eaa39c55163728b99,uslan Kuprieiev <kupruser@gmail.com>, 2014-09-18 03:51:03 +0300, , page server assign opts.ps_port sin_port autobind case signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5938,13fc78b90745041d483531f49ad72e338e8f9379,ndrew Vagin <avagin@openvz.org>, 2014-09-19 23:08:00 +0400, , ptrace say restore called ptrace_syscall breakpoint must called ptrace_syscall test one process stuck reported jenkins signed andrew vagin avagin openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5939,eda6b3d002c0ac73670da22b67ca167c4ed19a7c,ndrey Vagin <avagin@openvz.org>, 2014-09-19 14:20:00 +0400, , zdtm call mount_cgroups time concurrently race zdtm.sh static cgroup02 static pipe02 flock makefile cat exit zdtm.sh static cgroup02 static busyloop00 flock makefile cat exit make zdtm_ct date mkdir create directory zdtm.ggijus holderâ file exists reported jenkins signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5940,248fc31531091ac65489534dcae0a9aac2b0d146,ndrey Vagin <avagin@openvz.org>, 2014-09-17 19:12:04 +0400, , restore use breakpoints instead tracing syscalls currently criu trace syscalls catch moment sigreturn called trace recv cmd close logfd close cmdfd sigreturn reduce number step using breakpoints breakpoint set sigreturn need trace signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5941,0b1b81512b1a9abc986704f39a045bdaa28d305c,ndrey Vagin <avagin@openvz.org>, 2014-09-17 19:12:03 +0400, , dump use breakpoints instead tracing syscalls currently criu trace syscalls catch moment sigreturn called trace recv cmd close logfd close cmdfd sigreturn reduce number step using breakpoints breakpoint set sigreturn need trace first version breakpoint set sigreturn case problem signal process pending signal start precess exiting sigreturn returning userspace breakpoint triggered end number catch sigreturn patch criu executes syscalls get signal patch criu executes syscalls get signal signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5942,e46a9f6bfc65a2ce1996972a00df6e14cb64f517,ndrey Vagin <avagin@openvz.org>, 2014-09-17 19:12:02 +0400, , parasite send resuming target process control socket enough buffer one command target process wait new command avoid extra context switch signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5943,8b9e18f07b56b1f0faaa853f843dd06f8afaa81c,avel Tikhomirov <ptikhomirov@parallels.com>, 2014-09-12 14:39:26 +0400, , zdtm test mlocked area restores programm credential test map page mlocks change user root 18943 check map_locked bit set vma signed pavel tikhomirov ptikhomirov parallels.com signed pavel emelyanov xemul parallels.com,,
5944,2f85727410257b9fc250a30068dc2153315bcc95,avel Tikhomirov <ptikhomirov@parallels.com>, 2014-09-12 14:39:25 +0400, , zdtm move get_smaps_bits separate file reuse signed pavel tikhomirov ptikhomirov parallels.com signed pavel emelyanov xemul parallels.com,,
5945,e9d0499cd1b2f739d56708cb6c1c0ab03691bfd8,ycho Andersen <tycho.andersen@canonical.com>, 2014-09-17 15:32:18 -0500, , test add test remap_dead_pid signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5946,f020bef7760aa2f464b2e40370399f8556286460,ycho Andersen <tycho.andersen@canonical.com>, 2014-09-17 15:32:17 -0500, , remap add dead pid proc remap file like proc mountinfo open zombie exist read file link remap work instead add new remap called dead process remap fork task_helper dead pid restore task open new proc mountinfo instead commit also add new stage since new task_helpers added loading shared resource image need wait start forking task resource loaded fix mutex bug signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5947,c09ba04c487cacacc4945039740c98096b6ef0ab,ycho Andersen <tycho.andersen@canonical.com>, 2014-09-17 15:32:16 -0500, , restore task_helpers live restore stage end order use task_helpers open file dead process persist criu done restoring filesystem happens restore stage need pas helper pid restorer blob wait restore stage done commit preparation remap_dead_pid commits wait helper restore stage add stage wait nr_tasks nr_helpers nr_threads ditch favor passing helper restorer blob signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5948,5a101d83afdbd6c796f8002036baf93b05ee9c96,ndrey Vagin <avagin@openvz.org>, 2014-09-18 16:48:00 +0400, , mount skip criu mount namespace task live another mntns currently bug see criu mount namespace mark validate mount reported cyrill gorcunov gorcunov openvz.org signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5949,1ebd56b024728db60a07a382a6ff479d59e6d017,avel Emelyanov <xemul@parallels.com>, 2014-09-17 19:11:00 +0400, , proc use file reach child reasoning personality file switch plan open read close signed pavel emelyanov xemul parallels.com,,
5950,f3bee6d584a48a5a30c09a71ad9c33f2665dea0c,avel Emelyanov <xemul@parallels.com>, 2014-09-17 19:10:00 +0400, , proc use file reading personality turned fdopen used fopen_proc always map buffer read buffer get unmap later fclose taking account amount proc file read per task plus one file per opened file descriptor mmap munmap result quite lot useless cpu time e.g container task 1000 call taking total dump time let first stop simple case one line proc file signed pavel emelyanov xemul parallels.com,,
5951,d36c4058bc532b2d034268ddc19861ffa078ca77,yrill Gorcunov <gorcunov@openvz.org>, 2014-09-18 12:14:00 +0400, , plugin explicit assign plugin hook depend order declaration signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5952,cc2f2ebba432bcd092dd9b4850444f9dd6a5bdd0,avel Emelyanov <xemul@parallels.com>, 2014-09-12 16:43:00 +0400, , helper create helper shared file change object share parent created slightly faster plan make clone_vm easy signed pavel emelyanov xemul parallels.com,,
5953,cc4492e1c6f4bf97965bf8044894af516c4c7b49,avel Emelyanov <xemul@parallels.com>, 2014-09-15 22:05:00 +0400, , rst allocate page child stack clone ing kid set stack current anyway cow later one thing note need reserve space stack glibc argument retcode allocation 128 byte enough pointer clone argument signed pavel emelyanov xemul parallels.com,,
5954,d3b634283ed86a04c08165681583fa05b4727623,avel Emelyanov <xemul@parallels.com>, 2014-09-17 16:41:00 +0400, , proc use fopen_proc instead fopen proc ... signed pavel emelyanov xemul parallels.com,,
5955,6e960f1fc57978258bc0949e44d56ef6b13d7417,avel Emelyanov <xemul@parallels.com>, 2014-09-17 00:38:00 +0400, , proc use fopen_proc fdinfo parsing signed pavel emelyanov xemul parallels.com,,
5956,6b70e4ad81f4af032eb72e0691dfe888122dfdb2,ycho Andersen <tycho.andersen@canonical.com>, 2014-09-18 00:32:00 +0400, , remap add remap_type field use maintain backwards compatibility old image set remap_ghost bit going forward use remap_type field preserve remap_id ghost_remap case protobuf field remap_type enum u32 signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5957,2dcafd141967c58a7198b920a0ac43e58f6e0e00,uslan Kuprieiev <kupruser@gmail.com>, 2014-09-12 12:53:00 +0400, , restore return fail cr_dump_tasks expect return error ocures signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5958,64a7aa55eb7acc1d1622eddd4800524ce733d5ed,yrill Gorcunov <gorcunov@openvz.org>, 2014-09-16 16:03:00 +0400, , fix separator search separator first place avoid implicit make name worst case signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5959,fc983814cc3a3909dcb2fbfa63512901e767e530,atthias Neuer <matthias.neuer@uni-ulm.openvz.org>, 2014-09-18 16:39:00 +0400, , fixed kernel version detection debian testing produce following output uname uname 3.14 amd64  set uname sed echo  echo amd64 cause zdtm.sh fail line 293 return amd64 false signed matthias neuer matthias.neuer uni ulm.de reviewed christopher covington cov codeaurora.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
5960,ada4664429a486e5bde8859fa985842dd2e4098c,uslan Kuprieiev <kupruser@gmail.com>, 2014-09-16 13:34:00 +0400, , security change cr_fd_perm make root able modify image default using criu suid bit set group image set user group safe considering current cr_fd_perm signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5961,8f2cb6b2274623c1f41a955e1bb21f33dd51c584,yrill Gorcunov <gorcunov@openvz.org>, 2014-09-16 21:52:00 +0400, , timerfd setup tick nonzero tick zero kernel return error creation tick already zero simply setup tick real value present signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5962,6dc007463096be8eaae7f7c1328418a03d378847,avel Emelyanov <xemul@parallels.com>, 2014-09-16 00:27:00 +0400, , ptrace skip getregs exit syscalls possible ptrace_syscall trap task twice first enter exit syscall trace single task dump two time per task may skip half getregs call exit need signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
5963,19018622cdb2e2d339089c8564384cb9dbbd716d,yrill Gorcunov <gorcunov@openvz.org>, 2014-09-17 11:59:00 +0400, , util mkdirp print exactly failed signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5964,232cb4b34b51b2d4e566c634e161d89e72a2904c,ndrey Vagin <avagin@openvz.org>, 2014-09-17 12:10:00 +0400, , parasite remove useless check check line fix subject signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5965,7fa98a30bc2016ee80e4fbac6b0ce2de9117022d,ndrey Vagin <avagin@openvz.org>, 2014-09-12 15:41:00 +0400, , mount handle circular reference mount tree cat proc self mountinfo ... rootfs rootfs size 373396k nr_inodes 93349 ... see mnt_id parent_mnt_id equal patch interpretes case root mount tree mount rootfs mounted init_mount_tree see case system make chroot static int show_mountinfo struct seq_file struct vfsmount mnt ... mountpoints outside chroot jail give seq_skip err seq_path_root mnt_path root beproject criu beprojectcriu gmail.com christopher covington cov codeaurora.org reported beproject criu beprojectcriu gmail.com reviewed christopher covington cov codeaurora.org signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5966,4eec4c6ea1729b7c908c27bb1e6b1ffb63a8f417,avel Emelyanov <xemul@parallels.com>, 2014-09-12 16:43:00 +0400, , rst allocate path_max proc self realink pid char maximum signed pavel emelyanov xemul parallels.com,,
5967,b99b76b0458b0a363a4efd913bccbc9e2daa50a0,yrill Gorcunov <gorcunov@openvz.org>, 2014-09-16 00:17:00 +0400, , proc_parse compare cgroup path compare set cg_set_compare presume controller name properly sorted use strcmp path path true particular case two set differ path 00.126812 new 00.127051 memory 00.127079 name systemd 00.127108 net_cls 00.239829 new 00.240067 memory 00.240096 net_cls 00.240154 name systemd system.slice dbus.service currently refuse dump configuretion thus remove path comparision first place tycho andersen tycho.andersen canonical.com signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
5968,aadc309a4fc8c83eac4c1d6ba8a7b925ae80bf2c,ndrey Vagin <avagin@openvz.org>, 2014-09-12 16:52:00 +0400, , mount validate mount dump mntinfo contains mount namespaces validate collecting mount add fake comment goto add real comment goto signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5969,32b032b61cccb23ef9c2b04946768e6562d7373f,ycho Andersen <tycho.andersen@canonical.com>, 2014-09-10 19:46:00 +0400, , service service compile ubuntu 14.04 quite sure difference gcc 4.8 probably also header difference compile service 14.04 get service.o service.c function service.c 536 error ignoring return value writeâ declared attribute werror unused result write start_pipe ret sizeof ret  service.c 544 error ignoring return value readâ declared attribute werror unused result read start_pipe ret sizeof ret  signed tycho andersen tycho.andersen canonical.com tested http travis ci.org avagin criu build 34990769 signed pavel emelyanov xemul parallels.com,,
5970,7493eef9824d0d9f4415dab37cc49bd05eb99cd7,onstantin Neumoin <kneumoin@parallels.com>, 2014-09-11 13:16:00 +0400, , zdtm fix msg reporting avoid err regular msg reporting acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
5971,7576898243d3f1a7dfd32db9567bd72c620b218d,ndrey Vagin <avagin@openvz.org>, 2014-09-10 00:17:47 +0400, , zdtm mountpoints add unknown option reproduce previous bug tmpfs size option standard execute zdtm live static mountpoints mountpoints pidfile mountpoints.pid outfile mountpoints.out dump 2737 warning mountpoints returned left running debug need test zdtm live static mountpoints result fail error test zdtm live static mountpoints namespace dump log root git criu test dump static mountpoints 2737 dump.log grep error 00.146444 error mount.c 399 two shared mount different set child 00.146460 error mount.c 402 zdtm_mpts dev share proper point zdtm_mpts dev share test.mnt.share 00.146820 error dump.c 1921 dumping failed end error signed andrey vagin avagin openvz.org tested ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5972,f88d72d0bd9ea56363423664d10a1c042f61ae15,ndrey Vagin <avagin@openvz.org>, 2014-09-10 00:17:46 +0400, , mount strip option mount currently stript option one brother mount_equal think two brother option execute zdtm live static mountpoints mountpoints pidfile mountpoints.pid outfile mountpoints.out dump 2737 warning mountpoints returned left running debug need test zdtm live static mountpoints result fail error test zdtm live static mountpoints namespace dump log root git criu test dump static mountpoints 2737 dump.log grep error 00.146444 error mount.c 399 two shared mount different set child 00.146460 error mount.c 402 zdtm_mpts dev share proper point zdtm_mpts dev share test.mnt.share 00.146820 error dump.c 1921 dumping failed end error reported ruslan kuprieiev kupruser gmail.com signed andrey vagin avagin openvz.org tested ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
5973,cb738520e3f9d3b15ee7ee8c3562097ec3be2790,ndrey Vagin <avagin@openvz.org>, 2014-09-10 16:46:41 +0400, , mount skip check validate_mounts continue called mistake skip check shared mount without sibling signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5974,53957fadc3667f32b0b8ef93b9251438df7688f5,avel Emelyanov <xemul@parallels.com>, 2014-09-10 15:46:06 +0400, , restore introduce restore sibling option slight mess criu restores root task right following option cli usually task calling criu criu root restored task restore detached root pdeath_sig task calling criu criu root restored task library swrk task using lib swrk criu root restored task standalone service usually service service sub task root restored task root pdeath_sig criu service criu sub task root restored task would better criu always restored root task sibling constraint first case 1.a kept zdtm run test pid namespaces 3.11 turn allow clone_parent clone_newpid second cli restore detach wait restored task die behavior expected already third case standalone service task become service child one plan p.haul project live migrating task destination node start service library swrk mode case restored process become p.haul service kid also great said option called restore child pair restore detach like detached child task criu restore exit end root task root task become task child default library swrk lxc need detach child task criu restore exit end root task root task get parented init compatible 1.3 default standalone service wish p.haul case detach child task criu restore wait root task die root task deprecated criu restore mess task root task signalling detach child task criu restore wait root task die root task plain criu restore work signed pavel emelyanov xemul parallels.com acked tycho andersen tycho.andersen canonical.com acked andrew vagin avagin openvz.org,,
5975,1ff2500b9e736514aaa2951f4ffa84581cfc451a,ycho Andersen <tycho.andersen@canonical.com>, 2014-09-10 01:13:00 +0400, , restore use root_as_sibling defining root_as_sibling used defined later forking root task first time meant sa_nocldstop never masked meant sigchld never delivered ptracing root task thus child root task died e.g cr_system root task sat ptrace_stop restore task never ptrace_cont resulting deadlock instead unmask sa_nocldstop right ptrace_seize value defined work condition clone_parent move unmasking sa_nocldstop keep comment original code signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
5976,f45060e1329d3a3cc7f9094b9967b40eb6808e9c,avel Emelyanov <xemul@parallels.com>, 2014-09-09 22:07:15 +0400, , script fix path assignment signed pavel emelyanov xemul parallels.com,,
5977,bd8b5dd53c4742f637fed73d4f9076e4fb0b804c,aied Kazemi <saied@google.com>, 2014-09-03 12:22:10 -0700, , add convenience shell script docker container since command line checkpointing restoring docker container long manual step involved restoring container much easier use shell script automate work one would simply sudo docker_cr.sh sudo docker_cr.sh signed saied kazemi saied google.com acked filipe brandenburger filbranden google.com signed pavel emelyanov xemul parallels.com,,
5978,5fcebf2d7ec37e39446b4682aad73a2b26139e14,ndrey Vagin <avagin@openvz.org>, 2014-09-05 19:27:00 +0400, , zdtm inotify00 fix expected set event zdtm.sh zero iteration dumping restoring check correctness test bash test zdtm.sh zdtm inotify00 output file root git orig criu test zdtm live static inotify00.out  29.601 6905 unlink event 0x200 in_delete 29.602 6905 unlink event 0x200 in_delete 29.602 6905 unlink event 0x8 in_close_write 29.602 6905 unlink event 0x8 in_close_write 29.602 6905 unlink event 0x400 in_delete_self 29.602 6905 unlink event 0x8000 in_ignored 29.602 6905 unlink read event 29.614 6905 event 0x8 in_close_write 29.614 6905 read event 29.614 6905 fail inotify00.c 217 unhandled event emask 0x200 in_delete errno resource temporarily unavailable end error patch remove logic linked file useless signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5979,e248e65cc9e6913ec9f7c65707b17b6ddf82c467,ndrew Vagin <avagin@openvz.org>, 2014-09-03 23:40:00 +0400, , lock fix device returned stat btrfs btrfs return subvolume dev instead superblock dev case return device obtained mountinfo subvolume0 fix device btrfs file use instead fix cosmetic whim reported jenkins signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5980,61dbc9764354cbb8bb8f176ce4cc2a3f29c6314a,onstantin Neumoin <kneumoin@parallels.com>, 2014-09-05 13:33:00 +0400, , zdtm fix proc lock parsing posix advisory write a4111 136512 eof acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
5981,11d8642a20364d57a2c1badd0cc3596fd5989064,yrill Gorcunov <gorcunov@openvz.org>, 2014-09-05 14:09:27 +0400, , fsnotify proceed dumping even queue data turn strict queued event criu generates number clear way yet resolve situation defer strict mode print warning signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
5982,b47b0201f3b1bb346ca5088f0cbf9b53ee483b3c,avel Emelyanov <xemul@parallels.com>, 2014-09-04 20:39:07 +0400, , page server setup option parent task service start page server preparation log wdir img dir etc happen parent task fork page server serve several request per connection resource would leaked parent signed pavel emelyanov xemul parallels.com,,
5983,66170c6bd7598be17ff97c46d524b72d893b96a7,avel Emelyanov <xemul@parallels.com>, 2014-09-04 20:40:25 +0400, , service allow server request page server start problem several request criu leak resource dump restore since process exit anyway multy request per connection better audit thing allow request page server start one signed pavel emelyanov xemul parallels.com,,
5984,eed38acc72e66c4cef788bfab3663a4da2a4fb85,avel Emelyanov <xemul@parallels.com>, 2014-09-04 20:37:34 +0400, , service one exit point cr_service_work preparation several request per connection patch signed pavel emelyanov xemul parallels.com,,
5985,76017ec5a4d79a8d63841856f96b60cf52677343,avel Emelyanov <xemul@parallels.com>, 2014-09-03 23:44:03 +0400, , script use numeric action val rpc notification signed pavel emelyanov xemul parallels.com,,
5986,17d44de9afe2a2d77f885a747356c537c43242d0,avel Emelyanov <xemul@parallels.com>, 2014-09-03 23:43:46 +0400, , script use numeric script name signed pavel emelyanov xemul parallels.com,,
5987,069bdd9674b84101908130c83520a4f1371b2d39,avel Emelyanov <xemul@parallels.com>, 2014-09-03 23:43:23 +0400, , script move script code separate source signed pavel emelyanov xemul parallels.com,,
5988,5c265707470fb12ec25ce5c9bbdf26ad6392b869,ndrey Vagin <avagin@openvz.org>, 2014-09-04 16:21:00 +0400,5, cgroups allow execute fini_cgroups time called criu restore file lock tcp established evasive device link remap root var lib root 101 restore detached action script usr local libexec vzctl script vps rst env dump dump.101 restore.log vvvv pidfile var lib vzctl vepid 101 error criu double free corruption fasttop program terminated signal aborted missing separate debuginfos use debuginfo install glibc 2.17 20.fc19.x86_64 libgcc 4.8.3 1.fc19.x86_64 protobuf 0.15 7.fc19.x86_64 gdb raise lib64 libc.so.6 abort lib64 libc.so.6 __libc_message lib64 libc.so.6 _int_free lib64 libc.so.6 restore.c 1833 main argc optimized argv 0x7fffffffeb38 envp optimized crtools.c 479 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5989,68138cf3d18bd97fcfb7a36304f86784431d3a34,yrill Gorcunov <gorcunov@openvz.org>, 2014-09-03 22:59:38 +0400, , test inotify00 rework test show event coming flush event dump required new fsnotify mode signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
5990,67cc8be34d4dd7fd45918793fe5561804c4d17a8,ndrey Vagin <avagin@openvz.org>, 2014-09-03 14:26:00 +0400, , zdtm mount test cgroup controller executing test controller mounted dumping process criu may fail error error cgroup.c 768 set subset let create test controller executing test reported jenkins signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5991,4be6350cfba8f0da20b8aad41af2dc4e3a192170,ndrey Vagin <avagin@openvz.org>, 2014-09-02 00:25:00 +0400, , fsnotify dump queued evetns event dumped restored idea ignoring good signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5992,ae3cb4fb1fdf723647346616cbedb018642ab20b,ycho Andersen <tycho.andersen@canonical.com>, 2014-09-02 18:57:00 +0400, , restore open pidfile o_excl potential attack someone restoring something criu write pid file attacker control attacker write whatever pid want ciru instead open file o_excl restore fails file exists need o_trunc since o_excl ing file reported serge hallyn serge.hallyn ubuntu.com signed tycho andersen tycho.andersen canonical.com acked serge hallyn serge.hallyn ubuntu.com signed pavel emelyanov xemul parallels.com,,
5993,d6f09cd35cb56d812db97159cca077d04416e9b9,yrill Gorcunov <gorcunov@openvz.org>, 2014-09-02 23:27:20 +0400, , log use pr_quelled helper signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5994,d039868f992f6d978b5ed35fdc1bcc938518ce4b,yrill Gorcunov <gorcunov@openvz.org>, 2014-09-02 23:27:19 +0400, , log add pr_quelled helper need check current loglevel suppress message say need run pr_debug cycle use helper eliminate unneded call like pr_quelled log_debug ... something specific log_debug ...  signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
5995,c40eff85dc9c102fb301a145741f311e7b2c4810,ndrey Vagin <avagin@openvz.org>, 2014-09-02 18:49:32 +0400, , eventpoll merge eventpoll tfd eventpoll image mark collected list written eventpoll image repeated field image merge reduces amount image file criu generates may simplify fix mentioned issue save original order entry signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5996,c4a8dd17bc12f26d48f20e53d259414b5af7301d,ndrey Vagin <avagin@openvz.org>, 2014-09-02 18:49:31 +0400, , fsnotify merge fanotify mark image fanotify image mark collected list written fanotify image repeated field image merge reduces amount image file criu generates may simplify fix mentioned issue leak fe.mark_entry save original order mark signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5997,a10907a1dd70fd5a4088c314e58d190ae0072ab5,ndrey Vagin <avagin@openvz.org>, 2014-09-02 18:49:30 +0400, , fsnotify merge inotify image inotify image watch descriptor collected list written inotify image repeated field image merge reduces amount image file criu generates may simplify fix mentioned issue use instead xfree leak ie.wd_entry save original order watcher signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
5998,7058714fda01cd9df57ae9089a855869b2a74a10,avel Emelyanov <xemul@parallels.com>, 2014-09-02 00:45:00 +0400, , service add ability inherit page server socket swrk action turning cool thing spawn criu swrk action open ask dump pre dump page server telling descriptor need patch let specify page server communication channel already criu fdtable todo teach regular service accept via service socket signed pavel emelyanov xemul parallels.com,,
5999,3146f58317a81ae8ee11c6edfd916bbf33dfd1d9,yrill Gorcunov <gorcunov@openvz.org>, 2014-02-27 20:58:23 +0400, , plugin rework plugins api define new api used plugins plugin provide descriptor help macro case plugin require init exit function plugin define plugin hook help macro init exit function plugins take stage argument tell plugin stage criu called dump restore exit also take ret allows plugin know something went wrong need cleanup resource idea behind limit plugins author name function might need use particular hook new api deprecates old plugins structure keep backward compatibility provide tiny layer additional code support old plugins least couple release cycle example trivial plugin might look like include sys types.h include sys stat.h include fcntl.h include libgen.h include errno.h  include sys socket.h include linux un.h  include stdio.h include stdlib.h include string.h include unistd.h  include criu plugin.h include criu log.h  static int dump_ext_file int int  pr_info dump_ext_file return   trivial dump_ext_file signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6000,b8587117265f6509d9317e3cddd194411af35cfc,yrill Gorcunov <gorcunov@openvz.org>, 2014-08-07 23:40:28 +0400, , plugin beautify criu plugin.h use custom multiline comment style ending endif comment signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6001,57c7826a8e6fbf7c41ce3f9ac3b72d101693aef9,avel Emelyanov <xemul@parallels.com>, 2014-09-02 20:20:22 +0400, , lock check file lock option real lock found signed pavel emelyanov xemul parallels.com,,
6002,b6e3223a1e9d427b14afc34b6f0d030c1ddfdd6e,avel Emelyanov <xemul@parallels.com>, 2014-09-02 19:52:41 +0400, , lock skip tree flock guy may pid met pstree reason skipping try resolve flock anyway signed pavel emelyanov xemul parallels.com,,
6003,e523b371c73711ed739eb08ed522fc8fea3e76f4,avel Emelyanov <xemul@parallels.com>, 2014-09-02 19:02:29 +0400, , test compare pid searching lock criu may lock lock thus spoiling pid compare file inode number instead signed pavel emelyanov xemul parallels.com,,
6004,0a11aa1ff925e322a76282b411f309434ae2ae98,avel Emelyanov <xemul@parallels.com>, 2014-09-02 19:07:34 +0400, , lock checking lock handle mand lock signed pavel emelyanov xemul parallels.com,,
6005,180005645c4a864448be1593265f8e17e91d19f3,avel Emelyanov <xemul@parallels.com>, 2014-09-02 19:05:02 +0400, , lock split lock check helper signed pavel emelyanov xemul parallels.com,,
6006,3a6f57cbce54d478dee76965cffc3923a32a0c7e,ndrey Vagin <avagin@openvz.org>, 2014-09-02 17:55:00 +0400, , fsnotify fix exit code return success case signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6007,d58aafc447354a21bd37a18579d90cbef8668f08,avel Emelyanov <xemul@parallels.com>, 2014-08-27 13:10:00 +0400, , dump allocate dfds case dump shared fdtable patch dump lock dfds array even allocate one need signed pavel emelyanov xemul parallels.com,,
6008,2c765509f5a6591ec652f489bec4dcc625122434,avel Emelyanov <xemul@parallels.com>, 2014-09-02 17:41:40 +0400, , test check criu donwgrading quirk work signed pavel emelyanov xemul parallels.com,,
6009,96e6ea5ae7182d91c90533a1e404535e176a4e01,avel Emelyanov <xemul@parallels.com>, 2014-08-26 21:31:30 +0400, , test check overlapping lock work open file lock one fork close open file parent lock slide child process anyway signed pavel emelyanov xemul parallels.com,,
6010,92a7cf59ad456f3cdf20071888207775eceb8adb,avel Emelyanov <xemul@parallels.com>, 2014-08-26 21:31:12 +0400, , test check inherited flock work inherited flock one task got parent case parent close corresponding proc lock still show parent pid lock owned child signed pavel emelyanov xemul parallels.com,,
6011,b593024dd61a4f4405c612dc4bf053183df6542a,avel Emelyanov <xemul@parallels.com>, 2014-08-26 21:30:56 +0400, , test check shared lock work shared mean flock visible two task owner one child signed pavel emelyanov xemul parallels.com,,
6012,53537f52c891fe4f70ea341e680af974d6af8e9b,avel Emelyanov <xemul@parallels.com>, 2014-09-02 17:43:06 +0400, , lock dump lock per task manner problem file lock bug 2512 proc lock file show lock creator owner thus creator died holder still alive criu fails dump lock held latter task proposal find _might_ hold lock checking dev inode pair lock file descriptor dumped creator lock still alive take priority one thing note flock belong file entry task thus meet one check whether flock really held task trying set yet another one case success lock really belongs dump case trylock fail end walk list lock dump possible merge per task file lock image one global one signed pavel emelyanov xemul parallels.com,,
6013,efac9ed8b30b150ece541646c1785502be43853c,avel Emelyanov <xemul@parallels.com>, 2014-09-02 17:04:11 +0400, , lock parse lock type earlier reason previous patch signed pavel emelyanov xemul parallels.com,,
6014,0095b40a295600cc482afff43fc58124d3663c64,avel Emelyanov <xemul@parallels.com>, 2014-08-26 21:30:15 +0400, , lock parse lock kind earlier currently keep lock type posix flock till time dump decode binary value need easy check one early parse kind proc_parse signed pavel emelyanov xemul parallels.com,,
6015,8ef0f6b7e686a63f328fc4e243d14e87585eb768,avel Emelyanov <xemul@parallels.com>, 2014-08-26 21:29:57 +0400, , lock remove unused arg signed pavel emelyanov xemul parallels.com,,
6016,961655dc0296cc9b3ceac7190258578486ad44c1,ndrey Vagin <avagin@openvz.org>, 2014-09-02 00:25:13 +0400, , util add function check output data file descriptor dump netlink socket inotify fanotify queued data let add function chech signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6017,9089ce89c4bb4ba64f489f829b64355191ec3539,uslan Kuprieiev <kupruser@gmail.com>, 2014-08-06 21:56:24 +0200, , service use setproctitle signed ruslan kuprieiev kupruser gmail.com acked kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6018,5e58a5dc9f8c6a45266059647b3c32c4ac1c15bd,uslan Kuprieiev <kupruser@gmail.com>, 2014-08-06 21:56:23 +0200, , crtools check check old version libbsd one reported kir kolyshkin kir openvz.org signed ruslan kuprieiev kupruser gmail.com acked kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6019,21445837321dcbcdeafe454203e98784f5d20783,uslan Kuprieiev <kupruser@gmail.com>, 2014-08-06 21:56:22 +0200, , include add setproctitle.h signed ruslan kuprieiev kupruser gmail.com acked kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6020,c5d238ef6636df9f4f651487e9fbaf79408ebe4e,ndrey Vagin <avagin@openvz.org>, 2014-08-29 15:23:17 +0400, , zdtm fanotify00 use tmp instead usually tmp mount point recently found bug criu restore mount fanotify instead test find pointed mount point signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6021,473a81df7487080b2d5c090f2ff4fcbbb76f540c,ndrey Vagin <avagin@openvz.org>, 2014-08-29 15:23:16 +0400, , zdtm chech mark restored correct mount point try remove mark correct mount point mark restored wrong mount point get enoent signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6022,6e3028fa5227955e20dc83d6b592ed1d1013409a,ndrew Vagin <avagin@openvz.org>, 2014-08-29 15:23:15 +0400, , fsnotify open mount point relative proper root mountpoint belongs mount namespace need find root mount namespace open mountpoint ralative root logic used get_mark_path signed andrew vagin avagin openvz.org signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6023,dd63975bdca800f52882e90de6852fa4edb5e2e0,ndrew Vagin <avagin@openvz.org>, 2014-08-26 15:12:59 +0400, , test clean submounts scared see smth like remove var lib jenkins job criu workspace test dump static cgroup00 31195 systemd tasksâ operation permitted test directory reported jenkins signed andrew vagin avagin openvz.org signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6024,5d9b3612a64ec754ef7e0cb3c856a9299d8435f5,ndrey Vagin <avagin@openvz.org>, 2014-08-26 15:12:58 +0400, , test clean test directory test makefile signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6025,5ed2004733af59d1352c41eaa1b0f5b43aed3ffb,ndrey Vagin <avagin@openvz.org>, 2014-08-26 14:19:00 +0400, , dump clean shared_fdtable cleaned accoding following statement files_id zero look item allocated non dead task parent dead addition tiny coding stype fix fix 475bb1e77522 rst evaluate per task clone mask early signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6026,33c75d0df99d9504b0b173325abb8b66d33db9de,ndrey Vagin <avagin@openvz.org>, 2014-08-25 23:19:58 +0400, , eventpoll return allocated object eventpol tfd going collect object list write eventpoll image eventpoll tfd image depricated signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6027,78a54bd87cd2ae67b6be9a0dbe22401832ae6e80,ndrey Vagin <avagin@openvz.org>, 2014-08-25 23:19:56 +0400, , fsnotify return allocated object fanotify mark going collect object list write fanotify image fanotify mark image depricated signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6028,7079bb10861dd4e2a11e15f35f7fa24bcd694672,ndrey Vagin <avagin@openvz.org>, 2014-08-25 23:19:54 +0400, , fsnotify return allocated object inotify going collect object list write inotify image inotify image depricated must always free entry signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6029,c716f6b8a3d68eeda21b2171b57b284c4b12f9fd,avel Emelyanov <xemul@parallels.com>, 2014-09-01 14:18:37 +0400, , criu version 1.3 long delay since 1.2 greatest new acheivement finally support docker lxc criu side work still criu everything ready another notable thing aarch64 support course lot bugfixes plan make release rare signed pavel emelyanov xemul parallels.com,,
6030,4b4ec8ff612b763a90e47c64f5ba8e7bc856e879,ycho Andersen <tycho.andersen@canonical.com>, 2014-08-29 17:58:00 +0400, , restore die properly fails really last bit c32046c9 fails need futex wakeup everywhere else function use err instead err_fini_mnt mount finalized normally signed tycho andersen tycho.andersen canonical.com acked acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6031,59c968a3bfb46d94703169ede72fd030138352da,avel Tikhomirov <ptikhomirov@parallels.com>, 2014-08-27 10:39:00 +0400, , zdtm test unix socket owner group change container ovz unix socket uid gid restored connected peer credential instead inode http show_bug.cgi 2969 change cleanup header close socket use err instead fail print error wrong patch move sockets00 correct patch message minor cleanup signed pavel tikhomirov ptikhomirov parallels.com acked andrey vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6032,dd375cebc920377b40ea55718215ba36ef542a27,ycho Andersen <tycho.andersen@canonical.com>, 2014-08-28 02:57:00 +0400, , restore restore prop task restore fails task restore failed abort need restore prop signed tycho andersen tycho.andersen canonical.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6033,c32046c9a46efa17d22664745e816944a399c764,ycho Andersen <tycho.andersen@canonical.com>, 2014-08-28 01:05:00 +0400, , restore die init fails restore detached mode restore detached i.e root_as_sibling mode ptrace ptrace_seize root task receive sigchld case one child task however receive sigchld root task must explicitly abort signed tycho andersen tycho.andersen canonical.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6034,2e5e3e4b18fbe4cabce5948cedb4b4e6d90714ac,ilipe Brandenburger <filbranden@google.com>, 2014-08-27 04:30:00 +0400, , zdtm fallback mknod dev ptmx set kernel without option configured doe dev ptmx fallback previous way creating using mknod instead previous code trying bind mount ptmx top symlink doe actually work ... keep symlink call use relative symlink instead adjust error message symlink case mention symlink instead mknod also dev ptmx instead dev tested zdtm test suite run static change kernel unset signed filipe brandenburger filbranden google.com acked andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6035,9eec8b03aff664036d535744fdc667c961146c98,aied Kazemi <saied@google.com>, 2014-08-26 14:54:15 -0700, , use root instead aufs root dumping docker container using aufs graph driver use root option instead aufs root specifying container root patch obviates need aufs root make dump cli consistent restore cli signed saied kazemi saied google.com signed pavel emelyanov xemul parallels.com,,
6036,457a70dabb2e61ae40f1d0f6f9e91cba2b32f258,ndrey Vagin <avagin@openvz.org>, 2014-08-26 15:26:00 +0400, , zdtm hide error cgroup02.hook rmdir executed non existent directory check exit code operation patch executs rmdir existent directory check exit code rmdir signed andrey vagin avagin openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
6037,02ecc822873a797e324cd170f94d343294fe804b,ndrey Vagin <avagin@openvz.org>, 2014-08-26 14:53:00 +0400, , jenkins exclude static cgroups02 criu dump job job test dumped resumed cgroup02 test check moved another set cgroups done restore output file test zdtm live static cgroup02.out  55.127 found cgroup cgroup02.test zdtmtst 55.127 found cgroup cgroup02.test defaultroot 55.127 fail cgroup02.c 132 oldroot rewritten zdtmtstroot typo fix signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6038,104eeb7eb695b79cb2494dd85bd2a4fb760c4382,ilipe Brandenburger <filbranden@google.com>, 2014-08-25 20:54:00 -0700, , zdtm add missing entry zdtm .gitignore signed filipe brandenburger filbranden google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6039,f1015d6c58bff51bb26aee21835b5487be8d2a1c,ilipe Brandenburger <filbranden@google.com>, 2014-08-25 20:53:59 -0700, , zdtm sort .gitignore entry signed filipe brandenburger filbranden google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6040,3b9e9b84f2ac7580b3b7f913026098cb47f88fbd,ilipe Brandenburger <filbranden@google.com>, 2014-08-25 20:53:58 -0700, , test enhance library lookup building mntns root use single awk script parse ldd output filter case clearly library static build dynamic executable linux gate.so make grep vdso specific linux vdso.so tested sudo test zdtm.sh signed filipe brandenburger filbranden google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6041,3a8cf03d9478013efdc87bb099f3e37d58231cfb,ilipe Brandenburger <filbranden@google.com>, 2014-08-25 20:53:57 -0700, , test replace use pcre grep awk unfortunately grep ubiquitous use awk two regexps simulate negative forward lookup grep expression using awk really make unreadable using boolean operator might actually make intuitive extended regexp tested sudo make test zdtm_ns sudo make test zdtm_nons signed filipe brandenburger filbranden google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6042,ee8cd3c26166c39c177feef50bb92f31aa708ac0,avel Emelyanov <xemul@parallels.com>, 2014-08-25 19:02:00 +0400, , test cgroup02 clean newroot dir controller hook avagin one problem newroot directory created controller currently test clean zdtmtst controller need find way clean conntrollers test executed node rebooted updating kernel clean controller eat memory signed pavel emelyanov xemul parallels.com tested andrew vagin avagin openvz.org,,
6043,6eab073c07bb0880934db38933bf934593d29559,ndrey Vagin <avagin@openvz.org>, 2014-08-19 15:49:00 +0400, , zdtm fix compile error zdtm_ct make test executed cflags exported root makefile flag define _gnu_source need define souce file addition unistd.h included function shown undeclared make zdtm_ns make entering directory root criu test gcc wall werror dconfig_x86_64 d_gnu_source zdtm_ct.c zdtm_ct zdtm_ct.c error _gnu_source redefined werror define _gnu_source  command line note location previous definition zdtm_ct.c function mainâ zdtm_ct.c error implicit declaration function forkâ werror implicit function declaration pid fork  zdtm_ct.c error implicit declaration function setsidâ werror implicit function declaration setsid  zdtm_ct.c error implicit declaration function execvâ werror implicit function declaration execv argv argv  zdtm_ct.c error implicit declaration function getpidâ werror implicit function declaration kill getpid wtermsig status  cc1 warning treated error signed andrey vagin avagin openvz.org tested ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6044,28b0e16d730ec21a515b2686961c6312816c47f3,ndrew Vagin <avagin@openvz.org>, 2014-08-25 14:29:00 +0400, , cgroup call fin_cgroup error path fini_cgroup umounts cgyard directory mounted prepare_cgroup reported jenkins signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6045,c5c7272c503e3c9859ed5de5d12a5e2dcc6911ae,ndrew Vagin <avagin@openvz.org>, 2014-08-25 18:05:00 +0400, , cgroups take account leading parent without patch dump somethin like  cnames hugetlb dirs dir_name child dir_name ewroot child empty property empty  property empty   obvious dir_name newroot problem reproduced task leaf subgroup issue caught chance cgroup02 test clean controller leaf newroot executed cgroup test cgroup02 could find many directory like ewroot wroot etc patch fix issue signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6046,601e5bb485e758961371fb36ed4abe948669f702,ilipe Brandenburger <filbranden@google.com>, 2014-08-26 08:08:00 +0400, , crtools bump getopt return value outside ascii range return value getting dangerously close range meaningful value particular next candidate equal typical return value case error return value long option may integer bump outside ascii range start 1000. ease review patch keep existing range increment value 1000 tested ran criu help work fine manual dump restore option worked fine ran zdtm test suite test passed signed filipe brandenburger filbranden google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6047,8f17b34abb8917742cfd90e5d7487004cdd97c2f,ndrey Vagin <avagin@openvz.org>, 2014-08-20 14:52:00 +0400, , criu drop redundant newline pr_perror signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6048,f74ed43d0f25177e16d4f249292cbb34630767b2,avel Emelyanov <xemul@parallels.com>, 2014-08-22 16:12:05 +0400, , libcriu add call signed pavel emelyanov xemul parallels.com acked tycho andersen tycho.andersen canonical.com,,
6049,070757c142b028df3bf324a1861361b588746286,avel Emelyanov <xemul@parallels.com>, 2014-08-22 16:11:27 +0400, , rpc add cgroup root field criu_opts signed pavel emelyanov xemul parallels.com acked tycho andersen tycho.andersen canonical.com,,
6050,7947ea7111276b6789f639784f093bbb8a9f8a56,avel Emelyanov <xemul@parallels.com>, 2014-08-22 16:10:27 +0400, , crtools make new_cg_root_add setup global root make convenient service setup thing signed pavel emelyanov xemul parallels.com acked tycho andersen tycho.andersen canonical.com,,
6051,ad4d91241afd1e5824fbcecb0e9f9b74e9c94346,avel Emelyanov <xemul@parallels.com>, 2014-08-22 19:17:42 +0400, , revert zdtm remove cgroup02 runlist reverts commit,,
6052,8323e2145817b6aea5bf8a9506beae002e7c8017,ycho Andersen <tycho.andersen@canonical.com>, 2014-08-22 14:22:32 +0000, , restore special cpuset property cpuset.cpus cpuset.mems written first time task traditional mechanism restoring property restoring task work instead copy parent value property restore task restore via traditional mechanism actual value property signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
6053,d76f3ad386f8f5f77c9a29d76a11a1d5c90ab998,ycho Andersen <tycho.andersen@canonical.com>, 2014-08-22 14:22:31 +0000, , allow property integer particular cpuset.cpus cpuset.mems list string well hex integer use result parse fine delete signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
6054,8ff0b1ef064c1d6519eed1f25c9e3d90dd4bb16b,ycho Andersen <tycho.andersen@canonical.com>, 2014-08-21 21:00:21 +0000, , use right path offset restore property signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
6055,d8b41b65257ac2d429ee9b4baa3edfa3c89c972a,aied Kazemi <saied@google.com>, 2014-08-19 22:31:07 -0700, , added aufs support aufs support code handle bad information get kernel proc pid map_files proc pid mountinfo file detail see comment sysfs_parse.c main motivation work dumping restoring docker container default use aufs graph driver dump aufs root container_root added command line option restore need aufs specific command line option container aufs filesystem already set calling criu restore xemul aufs file sometimes particular case mapping executable file likekely one created elf load proc pid map_files xxx link target see path file seen aufs path aufs access file one branch order fix path get info branch sysfs meet file cut branch part path signed saied kazemi saied google.com signed pavel emelyanov xemul parallels.com,,
6056,1514284d84a8e8451a0f810abdb1f30c87a22c68,avel Emelyanov <xemul@parallels.com>, 2014-08-20 17:38:36 +0400, , lock fix restore v1.2 image signed pavel emelyanov xemul parallels.com,,
6057,c049d8452dc5b9ed3e9f506fd844a64c7e386acf,ndrey Vagin <avagin@openvz.org>, 2014-08-19 23:22:00 +0400, , file check uninitialized memory look strace output 107 linkat 1017 root git orig criu test zdtm live static deleted link_remap.4 at_empty_path enoent file director obvious cat file name error calculation offset last symbol current version code set offset strlen actually strlen signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6058,546f2701f0e390b729e484f2ac1ba43d6af15f22,avel Emelyanov <xemul@parallels.com>, 2014-08-19 15:19:11 +0400, , signal comment loop signed pavel emelyanov xemul parallels.com,,
6059,11fc4758539150f05cafeb2be07d688de708cfae,avel Emelyanov <xemul@parallels.com>, 2014-08-19 15:17:55 +0400, , signal sanitize loop control variable signed pavel emelyanov xemul parallels.com,,
6060,f9ebd18354e3ef9b9403753f92180cb71db54e15,avel Emelyanov <xemul@parallels.com>, 2014-08-19 15:16:42 +0400, , signal collect siginfo_t stack moved signinfos core entry thus bit siginfo sit stack longer otherwise would overwritem next batch feed stack pointer caller thus causing data garbage stack written image instead siginfo data signed pavel emelyanov xemul parallels.com,,
6061,92664c52200ef078cdabfd05ae1c0f8175c21bb5,avel Emelyanov <xemul@parallels.com>, 2014-08-19 15:12:10 +0400, , signal forget allocate siginfoentry variable array pointer object need allocate object signed pavel emelyanov xemul parallels.com,,
6062,8197bae072f537f21a965b29bfd5fabb1875677e,avel Emelyanov <xemul@parallels.com>, 2014-08-19 15:09:56 +0400, , signal move variable peeking loop sanitize usage little bit signed pavel emelyanov xemul parallels.com,,
6063,22082b0e55099fdfc3a7bbcc438642cbb30a4945,avel Emelyanov <xemul@parallels.com>, 2014-08-19 15:08:56 +0400, , signal calculate peek offset place need extra variable signed pavel emelyanov xemul parallels.com,,
6064,4778cb30bbd47e4ddcf9587498c540d651575e2a,avel Emelyanov <xemul@parallels.com>, 2014-08-19 13:39:29 +0400, , zdtm remove cgroup02 runlist fails moving task cpuset due empty mask temporary disable test signed pavel emelyanov xemul parallels.com,,
6065,ddd837d9e970d1184f899fafbacde81dc5d976b5,avel Emelyanov <xemul@parallels.com>, 2014-08-19 13:19:06 +0400, , rst fix core pointer passed reading thread core image signed pavel emelyanov xemul parallels.com,,
6066,9b2d1774ba33957a3b373ff8f2b25a2d6696b100,uslan Kuprieiev <kupruser@gmail.com>, 2014-08-17 23:03:00 +0400, , image mark cr_fd_signal cr_fd_psignal obsoleted create signal .img patch signal .img created move end array signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6067,68501cde88c5edb898a2d3256e6d29b6aa6806cb,uslan Kuprieiev <kupruser@gmail.com>, 2014-08-15 16:02:17 +0300, , dump dump signal signals_ every thread private signal stored thread_core signals_p leader thread also shared signal stored signals_s signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6068,aac9fd5bad1b6f424a4b898cb1f2db633e6c0a0a,uslan Kuprieiev <kupruser@gmail.com>, 2014-08-15 16:02:16 +0300, , dump allocate task core collect_task instead need able dump signal core calling signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6069,60ef59c7ffb0824e651460058d59a1859cd92c21,uslan Kuprieiev <kupruser@gmail.com>, 2014-08-15 16:02:15 +0300, , restore use signals_s signals_p prepare signal order save backward compatibility criu try open signal .img signals_ found signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6070,235a41fcf9b38938fe196936676ca996418afd03,uslan Kuprieiev <kupruser@gmail.com>, 2014-08-15 16:02:14 +0300, , restore open core thread early store current core need open core thread early need prepare signal later signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6071,2950f5ea6e13a290ef80ba6e2e9d3332a9cc8c8e,uslan Kuprieiev <kupruser@gmail.com>, 2014-08-15 16:02:13 +0300, , protobuf add use task_core_entry add signals_s shared signal task_core_entry signals_p private signal signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6072,f781ba0466c7bdc92c5c9fef62c6d6af4cb73ad5,avel Emelyanov <xemul@parallels.com>, 2014-08-18 19:47:20 +0400, , rst rework task_entries use rst_mem engine task_entries small structure used coordinate process restore stage currentl allocate one page handle one separately need complexity actually rst_mem engine already capable controll small object signed pavel emelyanov xemul parallels.com,,
6073,a9484a916a609d8a7367db74e942f95e0203b1fa,avel Emelyanov <xemul@parallels.com>, 2014-08-18 19:47:04 +0400, , shmem fix format printing shmem address signed pavel emelyanov xemul parallels.com,,
6074,5f9acc8dc92a5e65984595e0e5a92c12188a60e2,avel Emelyanov <xemul@parallels.com>, 2014-08-18 19:46:50 +0400, , shmem explicitly initialize rst_shmems position rm_shremap memory since shmems currently user validly equal zero change soon signed pavel emelyanov xemul parallels.com,,
6075,aa72de67fdb70fa9d5d936d40b1ba95224be5f30,ycho Andersen <tycho.andersen@canonical.com>, 2014-08-15 17:02:22 -0500, , test add test cgroup root signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
6076,94f6c87c9f90c1f8554f8210c8a2dce36ae151cf,ycho Andersen <tycho.andersen@canonical.com>, 2014-08-15 17:02:21 -0500, , add cgroup root option motivation able restore container cgroups dumped e.g might conflict existing container suppose container memory mycontainer cpuacct cpu mycontainer blkio mycontainer name systemd mycontainer could restore mycontainer2 via cgroup root mycontainer2 want restore different controller different path provide multiple argument example passing cgroup root mycontainer2 cgroup root cpuacct cpu specialcpu cgroup root name systemd specialsystemd would result thing restored memory mycontainer2 cpuacct cpu specialcpu blkio mycontainer2 name systemd specialsystemd i.e cgroup root without controller prefix specifies new default root cgroups signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
6077,513b0dc3e0249f82a0aa8379a124e3205930fffb,ndrey Vagin <avagin@openvz.org>, 2014-08-16 14:39:00 +0400, , zdtm_ct call setsid move another autogroup transition streaming test create many process using cpu cpu divided test fairly signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6078,a152c843b8af67bf8cbb3254a4b50f8e7a8b1104,arrison Bellack <gbellack@google.com>, 2014-08-13 22:59:00 +0400, , quick patch error writing mem.lim default writing system default llong_max write fails number equivalent unlimited dump store number instead change signed garrison bellack gbellack google.com signed pavel emelyanov xemul parallels.com,,
6079,e606c2141e57d5783de467bcdd33f415dc36b82b,ophie Blee-Goldman <ableegoldman@google.com>, 2014-08-14 06:47:00 +0400, , dump capability parasite needed future user namespace support capability dumped parasite inside namespace since obvious way translate capability global namespace unlike uids gids mapping used translation additional explanation andrew vagin capability translated namespaces exist one userns process life process created new userns get full set capability userns loses cap parent userns capability shown proc pid stat way get except using parasite code signed sophie blee goldman ableegoldman google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6080,494077662018472262114c05c49f06d65b1ecece,ophie Blee-Goldman <ableegoldman@google.com>, 2014-08-09 09:22:00 +0400, , move function definition move definition kerndat_init definition get_last_cap needed reading capability future patch signed sophie blee goldman ableegoldman google.com signed pavel emelyanov xemul parallels.com,,
6081,e90d0f1214438cd5a8202c071f11cc9e9e6b545d,yrill Gorcunov <gorcunov@openvz.org>, 2014-08-15 17:07:15 +0400, , zdtm pty00 count sighup make sure loosing signal restore signed cyrill gorcunov gorcunov openvz.org acked andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6082,37cf27d33e5ee3bdffeb6074537a3cdae853d735,ycho Andersen <tycho.andersen@canonical.com>, 2014-08-14 18:39:00 +0400, , path buffer path_max long signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
6083,95e689db42c759260ed1204eb3ab80f07b05fded,arrison Bellack <gbellack@google.com>, 2014-08-14 22:39:00 +0400, , make lacking property dump non fatal different kernel version different cgroup property criu crash property statically listed exact instead dump ignore property kernel continue change signed garrison bellack gbellack google.com acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
6084,2d1f5a06c8536a3693a4e3692af46bcdf47f0ce5,ndrew Vagin <avagin@openvz.org>, 2014-08-15 16:37:00 +0400, , zdtm use cgoup name test run test concurrently race equal resource fix hook signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6085,73fc3a775a3a159b1c4bd39dbb5790932e785060,ndrew Vagin <avagin@openvz.org>, 2014-08-15 16:24:25 +0400, , zdtm cgroup01 create one empty cgroups found bug second cgroup restored incorrectly let create one empty cgroup signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6086,bbdff34803d2c0618bbb08713201cbc9532c0ef0,ndrew Vagin <avagin@openvz.org>, 2014-08-15 16:24:24 +0400, , cgroup overwrite offset value loop get path offset add substring source string handle fix one place tycho andersen tycho.andersen canonical.com signed andrew vagin avagin openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
6087,14c65e91fa0e1e70396aaff61277671997ad466f,yrill Gorcunov <gorcunov@openvz.org>, 2014-08-15 14:30:00 +0400, , drop redundant newline pr_perror signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6088,bff466c291c018101f2dad7674f03f73d695bb74,ndrey Vagin <avagin@openvz.org>, 2014-08-14 21:18:00 +0400, , tty open tty o_noctty open tty want set controlling terminal xemul place one forgotten controlling tty feature setup explicitly later ioctl tiocsctty call bug caught pty04 get unexpected sigcont sent closing controlling terminal pty04 pidfile pty04.pid outfile pty04.out dump 9578 restore test zdtm live static pty04 result fail error test zdtm live static pty04 namespace dump log home jenkins workspace rpi criu test dump static pty04 9578 dump.log grep error end restore log home jenkins workspace rpi criu test dump static pty04 9578 restore.log grep error 00.083420 error restore.c 1092 9578 killed signal 00.083708 error restore.c 1713 restoring failed end error reported jenkins signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6089,994ae676b472321e86232314d1bf1c8fd3090ae8,yrill Gorcunov <gorcunov@openvz.org>, 2014-08-14 19:34:30 +0400, , restore set clone_parent iif pdeath_sig present discovered 3.11 might fail restore pas clone_parent flag clone call due kernel limitation treating 3.11 base working kernel let trick instead setup flag iif pdeath_sig present clone_newpid passed warn user potential consequence need carry condition attach_to_tasks call introduce root_as_sibling variable tycho andersen tycho.andersen canonical.com pavel emelyanov xemul parallels.com andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org acked andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6090,47fae013b56bcb7f1d0b5f98a05cff9c1271fe8a,ndrey Vagin <avagin@openvz.org>, 2014-08-13 23:16:00 +0400, , zdtm add small program create zdtm container find way help unshare simpler write program look better trick zdtm.sh proxify exit status signed andrey vagin avagin openvz.org acked serge hallyn serge.hallyn ubuntu.com acked ruslan kuprieiev kupruser gmail.com acked christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
6091,0b33bac3bc1be871627bc1e84411b57bdf3248c5,ndrey Vagin <avagin@openvz.org>, 2014-08-14 16:52:00 +0400, , criu allow root task handle sigchld criu process attache root task happens ptrace signal delivered root would also delivered criu latter woult treat former die due delivery would abort restore fix checking criu current null get ptrace notification si_code cld_trapped signal delivered si_status sigchld signal allowed restoring task patch fix following error static zombie00 execute zdtm live static zombie00 zombie00 pidfile zombie00.pid outfile zombie00.out dump 2207 restore test zdtm live static zombie00 result fail error restore log root git orig criu test dump static zombie00 2207 restore.log 00.026826 error restore.c 1085 2207 killed signal 00.026985 error restore.c 1706 restoring failed error reported jenkins pavel emelyanov xemul parallels.com tycho andersen tycho.andersen canonical.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6092,bcd1649699131b7eb2695bfab31b3fb765f0663b,avel Emelyanov <xemul@parallels.com>, 2014-08-13 13:34:00 +0400, , use relative path cgroup dirs image patch tree section cgroup00 test looked like  cnames name zdtmtst dirs path subcg child path subcg subsubcg child empty property empty  property empty   subsg child excessive turn directory name section look like  cnames name zdtmtst dirs dir_name subcg child dir_name subsubcg child empty property empty  property empty   signed pavel emelyanov xemul parallels.com acked tycho andersen tycho.andersen canonical.com,,
6093,bf91821f11611e5b18c69eca5046b52ebe6d385b,avel Emelyanov <xemul@parallels.com>, 2014-08-13 16:24:00 +0400, , fix restoration task existing cgroups omit manage cgroups dump controller section cgroups image lack none entry name systemd typical happens init task life non criu cgset shell job dump another terminal see criu root task living different user.slice systemd cgroups restore move_in_cgroup would fail lookup required controller order fix still call collect_cgroups dump add none controller list dump dirs tree patch look ugly move evaluation middle loop upwards renames char opts variable conflict global opts signed pavel emelyanov xemul parallels.com acked tycho andersen tycho.andersen canonical.com,,
6094,e301b1d56c5c56155c68fa2f6ef4f5a716d0217b,ycho Andersen <tycho.andersen@canonical.com>, 2014-08-13 21:23:00 +0400, , restore restore detached implies clone_parent need use clone_parent prevent process immediately dying due pdeath_sig restored detached mode xemul one place requires check restore detach sigactions preparation signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
6095,9d4e5370f1fdbc9540bfe6b7cf7a2f6e2492c2af,ndrey Vagin <avagin@openvz.org>, 2014-08-13 17:51:05 +0400, , zdtm ipc_namespace set auto_msgmni sysctl zero going execute test concurrently auto_msgmni enabled msgmni recalcalated time ipcns created removed signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6096,edca5ab0af60524ec98a789da11497b324dfe4d8,ndrey Vagin <avagin@openvz.org>, 2014-08-13 17:51:04 +0400, , sysctl write end buffer sysctl file required kernel bug handling auto_msgmni send extra symbol new value applied signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6097,64405c1d5b8fbf3ca763eac713533f6c2d00b356,ndrey Vagin <avagin@openvz.org>, 2014-08-13 17:51:03 +0400, , ipc set msgmni sysctl auto_msgmni setting auto_msgmni recalculates value msgmni signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6098,20578e63cfbecd7ee0ed151df5601bc75cfda942,ndrey Vagin <avagin@openvz.org>, 2014-08-13 17:51:02 +0400, , zdtm ipc_namespaces extra symbol sysctl file kernel bug handling auto_msgmni send extra symbol new value applied signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6099,6705051282ce7ba64de17cc34535b6e224c2c611,ndrey Vagin <avagin@openvz.org>, 2014-08-13 14:39:00 +0400, , syscall use pr_info print part string  00.009468 sysctl kernel sem 00.009475 2108913153 00.009481 1252387386 00.009486 835139248 00.009491 320896030 00.009496  00.009468 sysctl kernel sem 2108913153 1252387386 835139248 320896030 signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6100,d7ff4a13199108bec3a411f55a176c6957c6adf8,yrill Gorcunov <gorcunov@openvz.org>, 2014-08-06 12:33:00 +0400, , test bers add short help output reported pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6101,3faaed2f6461d018c8d4e05010967f8085a5a5e5,ophie Blee-Goldman <ableegoldman@google.com>, 2014-08-09 09:22:00 +0400, , bug fix size calculation fix bug calculated add compiler check assert exceed page size signed sophie blee goldman ableegoldman google.com signed pavel emelyanov xemul parallels.com,,
6102,ded04267f816b10fbcb0d1b226d9c84bc749dd3e,ycho Andersen <tycho.andersen@canonical.com>, 2014-08-12 18:22:00 +0400, , script set criu_image_dir running script restore lxc store metadata bridge veth image directory restore script correctly unlock network device attach right interface patch needed script find metadata signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
6103,44926184a111db85bf66ccc1ecf5fd314c429d12,avel Emelyanov <xemul@parallels.com>, 2014-08-12 18:18:04 +0400, , copy path restoring property signed pavel emelyanov xemul parallels.com,,
6104,c5002f7c183ffdc94274814324bb8a23ae51ba75,avel Emelyanov <xemul@parallels.com>, 2014-08-12 18:17:48 +0400, , get yard demand signed pavel emelyanov xemul parallels.com,,
6105,042538b12c9936d806076d0253401704b12d9cf2,avel Emelyanov <xemul@parallels.com>, 2014-08-12 17:19:32 +0400, , helper getting controller yard dir name opts signed pavel emelyanov xemul parallels.com acked tycho andersen tycho.andersen canonical.com,,
6106,8c0c7136265fdad3327a2ae93bc6ca80e263420d,avel Emelyanov <xemul@parallels.com>, 2014-08-12 17:19:18 +0400, , check name prefix controller cgset symmetrical dirs creation signed pavel emelyanov xemul parallels.com acked tycho andersen tycho.andersen canonical.com,,
6107,67a65fe36825577c6cbcda88ab88fd1c22b7c507,avel Emelyanov <xemul@parallels.com>, 2014-08-12 17:19:01 +0400, , strip trailing property value signed pavel emelyanov xemul parallels.com,,
6108,cf8b7c8f5c8fd0efd32bdf49330cc64526c23a23,avel Emelyanov <xemul@parallels.com>, 2014-08-12 17:18:48 +0400, , zdtm introduce per test hook inspired two problem cgroup test test easily clean one remove dir task root task test cgroup try remove dump old cgroup dirs remained test criu restore write test proposal introduce per test hook two pre restore clean cgroup test hook remove created directory signed pavel emelyanov xemul parallels.com,,
6109,513091aa48043c434ea91e859c2285b7b1714909,hristopher Covington <cov@codeaurora.org>, 2014-08-07 02:02:00 +0400, , zdtm make kernel version check posix like array test supported busybox v1.19.4 set command put field separated argument positional parameter relatively equivalent using array signed christopher covington cov codeaurora.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6110,371a7092ee63b894721768f9fdec57d80622d4b1,avel Emelyanov <xemul@parallels.com>, 2014-08-12 18:33:29 +0400, , remove write variable signed pavel emelyanov xemul parallels.com,,
6111,a40ab4e37293704eb6aca6842e8716730a72382d,avel Emelyanov <xemul@parallels.com>, 2014-08-12 15:48:31 +0400, , lock dump virtual pid lock owner dumping namespaced task fl_owner value see real pid task need virtual one signed pavel emelyanov xemul parallels.com,,
6112,536076bd287a1b4f9eac42e1633d9bdcdf4c183b,avel Emelyanov <xemul@parallels.com>, 2014-08-12 15:45:34 +0400, , show print filelocks.img pid signed pavel emelyanov xemul parallels.com,,
6113,bb5f5b19c61372c1256d1edb115e578dd47317e5,ndrey Vagin <avagin@openvz.org>, 2014-08-08 22:31:00 +0400, , zdtm add ability execute non namespacess test concurrently zdtm.sh executed pidns avoid pid conflict christopher covington cov codeaurora.org signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6114,15b39a1dd54bbb25d402da94a1ac1332015c741d,avel Emelyanov <xemul@parallels.com>, 2014-08-07 13:31:39 +0400, , pstree use task_alive instead switch signed pavel emelyanov xemul parallels.com,,
6115,548625132d0d0e446cb3636aaf92d433d4f5385a,avel Emelyanov <xemul@parallels.com>, 2014-08-07 13:30:54 +0400, , pstree introduce task_alive helper signed pavel emelyanov xemul parallels.com,,
6116,ab1be206c395e1f090f714d712883c6e88d45fb2,ndrey Vagin <avagin@openvz.org>, 2014-08-08 09:20:00 +0400, , zdtm.sh add test directory name path image otherwise static socket tcp streaming socket tcp path image affect signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6117,7960379f71b18a1f58f6d3a66bb33036b4a08b99,avel Emelyanov <xemul@parallels.com>, 2014-08-06 21:08:42 +0400, , flock merge file lock entry single image file per pid image every entry contains pid belongs belonging fake pid task placed lock lock really belong file even bug task locked file exited delegated lock child image merge reduces amount image file criu generates may simplify fix mentioned issue signed pavel emelyanov xemul parallels.com,,
6118,4816882da985a4efea4b64cc3fbc2b08b5dcb19c,avel Emelyanov <xemul@parallels.com>, 2014-08-06 21:08:28 +0400, , img add ability check whether optional image collection happened bit later need check whether cinfo collector opened image due file absense signed pavel emelyanov xemul parallels.com,,
6119,1e3ae669fa5d1924ef67a2d163198664d0739f6a,avel Emelyanov <xemul@parallels.com>, 2014-08-06 21:08:16 +0400, , flock hide image read error flock restore signed pavel emelyanov xemul parallels.com,,
6120,2c31147f9d9f2d878185c600c2ee84a28d9080aa,avel Emelyanov <xemul@parallels.com>, 2014-08-06 15:38:00 +0400, , stats properly initialize dump stats zeroed signed pavel emelyanov xemul parallels.com,,
6121,c9228dd809445f8300bdb21de7a875bd5302ff98,ndrey Vagin <avagin@openvz.org>, 2014-08-12 14:35:25 +0400, , restore use proc self mountinfo collecting mount root task root task forked new pidns use pid accessing proc proc belongs source pidns copy static string take bright part tycho patch reported tycho andersen tycho.andersen canonical.com tycho andersen tycho.andersen canonical.com signed andrey vagin avagin openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
6122,7833260bafbd1c6daf46c72ce51539fa5dcc60ef,avel Emelyanov <xemul@parallels.com>, 2014-08-08 17:59:12 +0400, , zdtm make cgroup00 test check several task sub cgroup signed pavel emelyanov xemul parallels.com,,
6123,5a44f7f43c0bc50b549bf3d2096da515d01bfb54,avel Emelyanov <xemul@parallels.com>, 2014-08-08 17:58:55 +0400, , zdtm sanitize cgroup00 test prepare multiple task moving creation checking code helper signed pavel emelyanov xemul parallels.com,,
6124,f5e92084ee33283e1076e53488feff52cc874f3b,avel Emelyanov <xemul@parallels.com>, 2014-08-08 17:58:22 +0400, , close cgyard early inherit cgroups fix closed cgyard descriptor changed cgroup 9752c11d one place left signed pavel emelyanov xemul parallels.com,,
6125,f95b05eb75baba45c8507008c70283aca90e6087,ycho Andersen <tycho.andersen@canonical.com>, 2014-08-06 22:23:00 +0400, , opts add manage cgroups option criu managed cgroups opt thing default criu doe manage i.e dump restore cgroups allows user use previous behavior signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
6126,8b019e0bb41a0626055bd13154c0599ee94e03c7,avel Emelyanov <xemul@parallels.com>, 2014-08-08 15:51:00 +0400, , mnt delay external mount point look like criu constantly postpones external bind mount trying resolve manage break ext mount map reason meanwhile patch fix back reported saied kazemi saied google.com signed pavel emelyanov xemul parallels.com,,
6127,59dae2372a8f1bca08b68aba08f3cf3e961d7cf3,hristopher Covington <cov@codeaurora.org>, 2014-08-06 18:02:12 -0400, , zdtm make use test consistently test variable used without locally defined start_test function define locally uniformity function use convenient also make definition case_error local uniformity function signed christopher covington cov codeaurora.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6128,6e9be69f761520d6f32909e508ba612a84a2942a,hristopher Covington <cov@codeaurora.org>, 2014-08-06 18:02:10 -0400, , zdtm replace kill argument supported busybox v1.19.4 sending signal kill command alternative way check whether process still running http content monitoring process kill signed christopher covington cov codeaurora.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6129,29a688bb80df73b96a274e193e93cb940acf0529,ndrey Vagin <avagin@openvz.org>, 2014-08-07 21:07:00 +0400, , zdtm execute mntns_ test kernel show mnt_id signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6130,5a1b5197c32c0bcff23dc35ea82a256f6631b1bf,arrison Bellack <gbellack@google.com>, 2014-08-07 15:26:14 -0700, , fill cgroup property restoration list building top cgroup property infrastructure patch patch add cgroups property static list property want restore change signed garrison bellack gbellack google.com signed pavel emelyanov xemul parallels.com,,
6131,4c7bc7678ec90d40a191e294442d834bdcd9dc7c,arrison Bellack <gbellack@google.com>, 2014-08-07 15:26:13 -0700, , cgroup property restoration infrastructure restores cgroup property criu restoration task currently cgroup file restored static easily extendable change property restored edit list top cgroup.c cgroup exists restoration property overwritten work based tycho anderson tycho.andersen canonical.com change signed garrison bellack gbellack google.com signed pavel emelyanov xemul parallels.com,,
6132,3b0d7fb674359e6d1c6a3b1b62ae2f6616528d81,bellack <gbellack@google.com>, 2014-08-07 15:26:12 -0700, , minor change protobuf cgroup.proto numbering change signed garrison bellack gbellack google.com signed pavel emelyanov xemul parallels.com,,
6133,9752c11d239cb3d7155dc79487458118c6d75802,bellack <gbellack@google.com>, 2014-08-07 15:26:11 -0700, , quick bug fix missing move_in_cgroup issue proccess killed spawn child proccess move child cgroup one parent process cgroup closed parent process forked child move_in_cgroup called child process file descriptor already closed causing failure second call move_in_cgroup moved close fork call change signed garrison bellack gbellack google.com signed pavel emelyanov xemul parallels.com,,
6134,7a203afe0a414370199fe46d70f376d842179c6e,ndrey Vagin <avagin@openvz.org>, 2014-08-07 17:27:00 +0400, , restore fix index accessing entry parent_act array sigmax valid value signal exist signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6135,8311b435174b5d213233069ef475f4bd5dd3ee1c,yrill Gorcunov <gorcunov@openvz.org>, 2014-08-07 10:54:00 +0400, , proc_parse.c forget init path proc_parse.c function proc_parse.c 1603 error pathâ may used uninitialized function werror uninitialized cc1 warning treated error signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6136,e44f4e7acdbd5c2dfaa6ffc5d65eff0b6e598d7b,ndrew Vagin <avagin@openvz.org>, 2014-08-07 11:50:00 +0400, , restore restore sigaction alive task helper task change sigaction doe nothing parent_sigacts paren_sigacts contain value previous alive task logic inherence work expected reported jenkins criuovich signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6137,b674caf2ff118b92aeab3dfdf4f8a6e0a23fdf59,avel Emelyanov <xemul@parallels.com>, 2014-08-06 16:25:53 +0400, , sig add logging sigactions restore signed pavel emelyanov xemul parallels.com,,
6138,50f712e9df5a53ab42e3c03a8ba798cef58a1f4e,avel Emelyanov <xemul@parallels.com>, 2014-08-06 16:25:38 +0400, , sig optimize sigactions restore sigactions across task image nonetheless existing code always call syscall restore spends call per task let restore signal forking child let inherit sigactions tune one differs parent signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
6139,bf0d4c4b2c37dbadee1f078c751887df70880c40,avel Emelyanov <xemul@parallels.com>, 2014-08-06 16:25:25 +0400, , sig block signal forking child already signal setup helper signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
6140,8c133309a39dc03c21d26961af8b826859dc4e94,avel Emelyanov <xemul@parallels.com>, 2014-08-06 16:25:08 +0400, , sig setup chld handler dedicated helper signed pavel emelyanov xemul parallels.com,,
6141,e50d0e7c6faf2794ffaab8c40c829368d10da907,avel Emelyanov <xemul@parallels.com>, 2014-08-06 16:24:52 +0400, , sig reset chld handler old action dfl whole idea behind code stop receiving chld restored task resume comment done script wrong call script sigchld_handler know script commit exit siginfo si_code cld_exited status siginfo si_status  skip script current root_item pid.real pid pid waitpid root_item pid.real status wnohang pid return  since chld handler make little sence exec easier reset one default action end signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
6142,adc63c73d54902af0eaf2d192f117b81aaedc71c,avel Emelyanov <xemul@parallels.com>, 2014-08-06 16:24:36 +0400, , sig instantly drop sa_nocldstop swrk_restore tune chld handler restoring root task sibling tuning better done one sigaction call rather two first shorter second allow move whole criu signalling setup one helper signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
6143,bc7d6e315dd51123249917634f193edb90588ba1,avel Emelyanov <xemul@parallels.com>, 2014-08-06 16:24:17 +0400, , sig feed pid argument need pid call actually legacy old day plan move call remove pid argument advance signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
6144,d14abcf7c3082a5cb5efa90e5454fc9ebd4611ed,avel Emelyanov <xemul@parallels.com>, 2014-08-06 16:23:59 +0400, , sig request old act restoring sigactions old info simply used place signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
6145,1a801c6ded00c0148650523cd6bca2c2f7a3680d,yrill Gorcunov <gorcunov@openvz.org>, 2014-08-06 19:57:41 +0400, , zdtm timerfd requires new kernel pas reported jenkins signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6146,a48e52b58c38f76f5356c7fbae874c77176ed3f2,ndrey Vagin <avagin@openvz.org>, 2014-08-06 18:03:00 +0400,2, proc_parse check scanf fill offset var cid 1168165 untrusted array index read tainted_scalar 40. tainted_data using tainted variable hoff index array str man scanf nothing expected instead number character consumed thus far input stored next pointer must pointer int conversion although suppressed assignment suppression character standard say execution directive doe increment assignment count returned compleâ tion execution corrigendum seems contradict probably wise make assumption effect conversion return value enough check return code scanf cyrill gorcunov gorcunov openvz.org signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6147,e601a2ea5d07ac5bbf6953d5234a22039c2395de,ndrey Vagin <avagin@openvz.org>, 2014-08-06 18:14:00 +0400,1, cgroup trigger bug mtype unknown cid 1230179 resource leak resource_leak 15. leaked_storage variable ncd going scope leak storage point signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6148,9ba0baabd527a057f1ae08b22bb1dbf394538140,ndrey Vagin <avagin@openvz.org>, 2014-08-06 17:47:00 +0400,1, mount fix dereference null check cid 1168169 dereference null check forward_null var_deref_model passing function do_bind_mount struct mount_info dereferences null bind signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6149,1e0e83701f441852cccae40c97135884aff942b4,ndrey Vagin <avagin@openvz.org>, 2014-08-06 17:13:00 +0400, , cgroup fix dereference null check coverity 1230177 dereference null check may null pointer dereference else comparison null unnecessary path lead null pointer comparison already dereference pointer earlier cwe 476 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6150,ca94dc9beded3f551c805d34f091c50d6edc4ad2,hristopher Covington <cov@codeaurora.org>, 2014-08-06 19:28:00 +0400, , vdso aarch64 merge fix x86 brings change made following commits aarch64 copy code commit author cyrill gorcunov gorcunov openvz.org date tue aug 2014 0400 vdso x86 fix missing ability remap vdso one zone present commit author cyrill gorcunov gorcunov openvz.org date tue aug 2014 0400 vdso x86 simplify vdso_proxify signed christopher covington cov codeaurora.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6151,2b1021a43b12c6aaa4207593514c959ab0f79226,ycho Andersen <tycho.andersen@canonical.com>, 2014-08-06 22:06:00 +0400, , restore actually fail clone fails signed tycho andersen tycho.andersen canonical.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6152,7158448dd61473759b10acebb610b6e3c0d9cc31,yrill Gorcunov <gorcunov@openvz.org>, 2014-08-06 20:31:46 +0400, , timerfd implement check routine reported jenkins signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6153,ec3515107c597885e62c987e9c3e00560a2ed5e0,yrill Gorcunov <gorcunov@openvz.org>, 2014-06-30 21:58:06 +0400, , timerfd zdtm add simple testcase signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6154,ecd432fe27ae17fc163adaa7c40d0deef493a82b,yrill Gorcunov <gorcunov@openvz.org>, 2014-06-30 21:58:05 +0400, , timerfd implement procedure signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6155,5c93ba3b7b367834f53d3eea307062fdb1dfb5be,yrill Gorcunov <gorcunov@openvz.org>, 2014-06-30 21:58:04 +0400, , timerfd add protobuf entry image signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6156,f2549c22078abc43f8fa3f7fd6d15e102743f2cb,yrill Gorcunov <gorcunov@openvz.org>, 2014-06-30 21:58:03 +0400, , timerfd protobuf add timerfd_entry need carry timerfd entry signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6157,f22d0d65fcdbaf9e878c739c220a5cc0edb83172,hristopher Covington <cov@codeaurora.org>, 2014-07-02 16:02:28 -0400, , timerfd arch arm add sys_timerfd related syscalls required support checkpoint restore timer notify via file descriptor arm aarch64 signed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
6158,c83ce5259497c03dcb5f0701aa683a35b0c4ac81,yrill Gorcunov <gorcunov@openvz.org>, 2014-06-30 21:58:02 +0400, , timerfd arch x86 add sys_timerfd related syscalls signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6159,3ab197306726ac310aa1bcdf5c9e2a3205c42071,ndrey Vagin <avagin@openvz.org>, 2014-08-05 17:20:29 +0400, , zdtm check link remap ghost file mntns change author field test signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6160,4a15f013fb4409356deb477f67c89e1fe22648ab,ndrey Vagin <avagin@openvz.org>, 2014-08-05 17:20:28 +0400, , zdtm check file alien mnt handled check file opened switching new mount namespace remain restore right andrey fixing issue christopher check whether ns_child call system work minimal set ups launch cat awk rewrite routine pure first version written pavel xemul use test_init_ns call awk cat signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6161,6903cc967b50be95c06b1a04f42b909cad892e80,ndrey Vagin <avagin@openvz.org>, 2014-08-05 17:20:27 +0400, , notify open file form correct mount point add comment signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6162,339f456af314ce7b4a67a1dd3c92900d3a314c73,ndrey Vagin <avagin@openvz.org>, 2014-08-06 15:51:57 +0400, , link remap open link remap file correct mountpoints problem ghost file link created restore created mount point mount point non root bind mount another one need find root mount create link clean add optimization case link mount point look mount point mnt_id second time signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6163,ce5aa74d10c163f1d2c7512d8c5a2a847afa43e1,ndrey Vagin <avagin@openvz.org>, 2014-08-05 17:20:25 +0400, , mount save local mount point path restore restore add temporary root mount point path convinient restoring mount namespaces real path used restoring link remap file replace offset field char field signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6164,7db1e6b9b95c64ae47acae2ca068d53652da55eb,ndrey Vagin <avagin@openvz.org>, 2014-08-05 17:20:24 +0400, , mount set bind already mounted bind used get lowest mount mount called lowest chain bind mount bind null i.e mount root dir others bind mounted called new mount set bind field others part mount already mounted signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6165,cf219f92849ce9cfbfdc4eab6147dbb59f908c77,hristopher Covington <cov@codeaurora.org>, 2014-08-05 16:20:24 -0400, , customize aarch64 vdso code modifies x86 vdso code work aarch64 signed christopher covington cov codeaurora.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6166,99e0a0ccae3a3f266d67ac3d7c4926cbc37897ca,hristopher Covington <cov@codeaurora.org>, 2014-08-05 16:20:23 -0400, , copy x86 vdso code aarch64 duplicate hundred line code short term strategy cyrill agreed supporting vdsos across multiple architecture better understanding thing differ per architecture even improved consolidation kernel hopefully move shared implementation future http pipermail criu 2014 august 015218.html acked cyrill gorcunov gorcunov openvz.org signed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
6167,0628118c31c6890426f7faf6fd8d2d4aca1de5ca,uslan Kuprieiev <kupruser@gmail.com>, 2014-08-06 18:49:00 +0400, , security skip obtaining additional group root matter reported system use etc passwd system getpwuid fails undefined errno see getpwuid allowing criu restrict user additional group luckily system criu run root skip obtaining additional group matter root reported christopher covington cov codeaurora.org signed ruslan kuprieiev kupruser gmail.com tested christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
6168,5289ea973a2d2688aeb99c7b76038274b2f7f319,avel Emelyanov <xemul@parallels.com>, 2014-08-06 12:04:22 +0400, , mnt extend comment mntinfo mountpoint path look like signed pavel emelyanov xemul parallels.com,,
6169,9fd793e565cf5b57913c9886e283175a5c090ff5,avel Emelyanov <xemul@parallels.com>, 2014-08-06 10:57:27 +0400, , stat pas namespace mnt tree make api simpler signed pavel emelyanov xemul parallels.com,,
6170,090587e1a1ab564f4933810ab739050ef8e572b3,avel Emelyanov <xemul@parallels.com>, 2014-08-06 10:57:25 +0400, , stat pas namespace mnt tree make api simpler signed pavel emelyanov xemul parallels.com,,
6171,ef39c4657b5d31fe3f497ae8fa2c832c85fb25ed,uslan Kuprieiev <kupruser@gmail.com>, 2014-07-14 22:24:26 +0400, , test security test creates user check secure using criu setuid bit set signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6172,bd1451f7710eec71c13173eac53fce2e2fc9a86b,uslan Kuprieiev <kupruser@gmail.com>, 2014-07-14 22:24:25 +0400, , security rename check_ids check_uids drop crid argument currently check_ids used check uids let rename drop crid argument use cr_uid directly signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6173,2b268c6c21649eb266758607ad2808075efa3b6c,uslan Kuprieiev <kupruser@gmail.com>, 2014-07-14 22:24:24 +0400, , security check additional group currently check process gids match primary gid user process user additional group let check process rgid egid sgid user grouplist restore check user group image signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6174,a1e2da9b5655fe22b3f433c5fea433a940ba1604,yrill Gorcunov <gorcunov@openvz.org>, 2014-08-05 13:59:19 +0400, , vdso restorer forget access proper vma list otherwise might take look last vma previous cycle running vdso analisys signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6175,7794f67f2055420c6b6c2967edfbe0c39a7cd744,yrill Gorcunov <gorcunov@openvz.org>, 2014-08-05 13:59:18 +0400, , vdso x86 fix missing ability remap vdso one zone present occasionally ruined ability place remap pre 3.16 kernel bring back cid 1230182 logically dead code deadcode signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6176,066add0de44f462e7482571763f303ded0b4762f,yrill Gorcunov <gorcunov@openvz.org>, 2014-08-05 13:07:00 +0400, , vdso x86 simplify vdso_proxify need second statement merge everything previous one signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6177,914ab7f2459a1d92ded1f729df73e6f3450a760a,avel Emelyanov <xemul@parallels.com>, 2014-08-05 12:59:12 +0400, , util xfree pointer xmalloc pointer ... free pointer signed pavel emelyanov xemul parallels.com,,
6178,590765164cbd88bd27722e34a64b78a825c8421e,avel Emelyanov <xemul@parallels.com>, 2014-08-05 12:58:17 +0400, , file double close image error signed pavel emelyanov xemul parallels.com,,
6179,394096b17c2c09fc42761429e8c2043038964730,avel Emelyanov <xemul@parallels.com>, 2014-08-05 12:57:45 +0400, , file reg sanitize rlb rlb path malloc rollback code flow signed pavel emelyanov xemul parallels.com,,
6180,5552f9e7274407159cd5b980893d358f0e1baa3d,avel Emelyanov <xemul@parallels.com>, 2014-08-05 12:56:49 +0400, , file reg dereference pointer null check signed pavel emelyanov xemul parallels.com,,
6181,57965aabaa7bcd693d47515b9cd1a319f467128e,avel Emelyanov <xemul@parallels.com>, 2014-08-05 12:56:04 +0400, , rst check task state restore one place signed pavel emelyanov xemul parallels.com,,
6182,1211ca01ef50c6a17ca31dc3f7e5648e0f0dd6ce,uslan Kuprieiev <kupruser@gmail.com>, 2014-08-04 16:23:00 +0400, , make clean test rpc performing make clean main dir signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6183,c3078e79ec3e94c68596388991faead4f46d8661,uslan Kuprieiev <kupruser@gmail.com>, 2014-08-04 16:19:00 +0400, , make test rpc forget delete rpc_pb2.pyc performing make clean rpc_pb2.pyc deleted well signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6184,b8c93feb1eab6504f30f88437fbc1bd7fb312663,ndrey Vagin <avagin@openvz.org>, 2014-08-03 22:31:24 +0400, , file use ralative path retoring file openat used open file absolute pathes used change comment signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6185,85b3d86e5ba22fb390eda6edade2a902fe7c3638,ndrey Vagin <avagin@openvz.org>, 2014-08-03 22:31:21 +0400, , ghost create ghost device directory specified bug path device directory generated specified root signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6186,967dba606a9cbe03d7f06bccecef49faf0dbe8c8,ndrey Vagin <avagin@openvz.org>, 2014-08-03 22:31:20 +0400, , mount add helper signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6187,e4e22a00f7d28faf8c01c127f9b5b100ba8cc500,ndrey Vagin <avagin@openvz.org>, 2014-08-03 23:31:04 +0400, , mount save remapped link tmpfs mnt namespaces dumped file rework enumeration namespaces signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6188,8d446a7af4ef09e7ae7fca2c36594f7dd8622d77,ndrey Vagin <avagin@openvz.org>, 2014-08-03 22:31:16 +0400, , mount execute collect shared mount currently collect_shared executed mount namespace separately miss dependency namespaces example two namespaces first one contains tmpfs mount second one contains non root bind mount tmpfs without patch example dumped restore mnt_build_tree called namespaces thus bug exist signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6189,896fae70d39032a1047a8a3fe794a7a9139040ed,ndrey Vagin <avagin@openvz.org>, 2014-08-03 22:31:15 +0400, , zdtm rollback cwd test case executed namespaces bash test zdtm.sh static env00 static pty03 static mountpoints ... error test zdtm live static mountpoints namespace output file root git criu test zdtm live static mountpoints.out  03.267 26935 fail mountpoints.c 139 umount filesystems errno device resource busy end error fix 0198590c5a44 zdtm factor starting test via makefule signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6190,5cb0c0d2334d64b80381c740b2be00a9def2d4a7,yrill Gorcunov <gorcunov@openvz.org>, 2014-08-04 16:55:00 +0400, , vdso defer handling untill zone restored worst case might tryin proxify vdso zone vvar remmaped vdso yet left right zone shifting thus vdso_proxify complain vdso yet mapped refusing restore thus wait everything mapped call proxification helper reported mr. jenkins signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6191,18fe357563832ef297d4a201aeab7ada5f46d76a,yrill Gorcunov <gorcunov@openvz.org>, 2014-07-18 18:44:53 +0400, , vdso implement vdso proxification vvar vdso order latest linux next vdso zone placed _after_ vvar zone eventually need handle combination following case vvar zone vvar vdso vvar vdso address signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6192,6446fd2c1d6bbf0fcdd065579bf9e2bdacb956b5,yrill Gorcunov <gorcunov@openvz.org>, 2014-07-18 18:44:52 +0400, , vdso move parking separate routine since might several vdso zone let hide handling arch specific routine signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6193,6906e1a830fd8bda161038703f7c5c07df67d202,yrill Gorcunov <gorcunov@openvz.org>, 2014-07-18 18:44:51 +0400, , vdso drop unneeded variable signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6194,b00bdb2dbc3186427b8c9a3dcf29302c41af9472,yrill Gorcunov <gorcunov@openvz.org>, 2014-07-18 18:44:50 +0400, , vdso x86 test vmas order vdso_proxify make sure really inplace remap signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6195,b8d0b9c773c30e53e8dc836c681bf2eb6dfdb50a,yrill Gorcunov <gorcunov@openvz.org>, 2014-07-18 18:44:49 +0400, , vdso x86 make sure vdso symtable carrying bindled vmas linux kernel 3.17 probably vvar vdso zone reverse order vvar first vdso later extended test vmas coming one bundle signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6196,e67ba97ebe5423e8182efef60af6a7582f9047ec,yrill Gorcunov <gorcunov@openvz.org>, 2014-07-21 14:47:06 +0400, , cgroup use snprintf move_in_cgroup signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6197,6ea8fb78a3f1267ce4bb2f91ef520232a5c00aed,yrill Gorcunov <gorcunov@openvz.org>, 2014-07-21 14:47:05 +0400, , cgroup use snprintf collect_cgroups signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6198,357aa793d202b45961ffafcff5347111f1f4814e,yrill Gorcunov <gorcunov@openvz.org>, 2014-07-21 14:47:04 +0400, , cgroup simplify add_cgroup xfree work well nil argument need additional test need ret variable either success returning explicitly either fail explicit signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6199,6c7ea7af9cd4c1cadb7ad3fac3bbd80ca27d67a8,yrill Gorcunov <gorcunov@openvz.org>, 2014-07-21 14:47:03 +0400, , cgroup add debug printout signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6200,89d3840c9c0b62bd91c5ab4af100e4a92417ee48,ycho Andersen <tycho.andersen@canonical.com>, 2014-07-29 21:06:00 +0400, , build install target depends libcriu signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
6201,acaca5f14ae0a04cd587a60c5a0a820e0edf0f45,ycho Andersen <tycho.andersen@canonical.com>, 2014-07-29 21:06:00 +0400, , lib return econnrefused documented signed tycho andersen tycho.andersen canonical.com acked serge hallyn serge.hallyn ubuntu.com signed pavel emelyanov xemul parallels.com,,
6202,df6f80f48eca288999909f21f5bb55d63bbc8c74,ycho Andersen <tycho.andersen@canonical.com>, 2014-07-29 21:06:00 +0400, , .git add cgroup01 gitignore signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
6203,14cad21eb57856f6b19c897abc33a5e24cc86a29,ycho Andersen <tycho.andersen@canonical.com>, 2014-07-31 21:18:00 +0400, , lib generate pkgconfig file signed tycho andersen tycho.andersen canonical.com acked serge hallyn serge.hallyn ubuntu.com signed pavel emelyanov xemul parallels.com,,
6204,0ef4f010662aaeaca07dc5ba9172a9f57e881702,ycho Andersen <tycho.andersen@canonical.com>, 2014-07-31 19:51:00 +0400, , lib initialize child message correctly signed tycho andersen tycho.andersen canonical.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6205,f16a08e54b9ab4f3c44f1547882ac2b8888ad9e2,alvatore Bonaccorso <carnil@debian.org>, 2014-07-31 11:41:00 +0400, , small spelling fix criu.8 manpage signed salvatore bonaccorso carnil debian.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6206,9f8a7ccaadbfd8bc9a3b0bfd23df053018612826,uslan Kuprieiev <kupruser@gmail.com>, 2014-07-31 02:00:00 +0400, , restore free core _after_ using currently ....... longer need core null ret prepare_itimers pid core task_args ret goto err ....... using ptr right free ing signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6207,787e8a1d8810474ecb7561aea8046ff8966ed9b7,ndrey Vagin <avagin@openvz.org>, 2014-07-16 14:03:04 +0400, , test mountpoints clean mount marked private one call need variable private added 55fe0939088d zdtm destruct external mount namespace signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6208,6ca5ac75417e01e3ea7b2184b7a4b8442961f1ac,avel Emelyanov <xemul@parallels.com>, 2014-07-16 19:49:58 +0400, , merge two equal one signed pavel emelyanov xemul parallels.com acked tycho andersen tycho.andersen canonical.com,,
6209,45d029f04e21c549a1a1c98bc5cd3b88a700d706,avel Emelyanov <xemul@parallels.com>, 2014-07-16 19:49:28 +0400, , keep cgroup root path ftw trim tail path argument signed pavel emelyanov xemul parallels.com acked tycho andersen tycho.andersen canonical.com,,
6210,586eb55f35af9d3cb7b1b526fac2cb7c9a4d33e5,avel Emelyanov <xemul@parallels.com>, 2014-07-16 19:48:44 +0400, , trim proper prefix ftw path commit walk proc self path instead temporary one add_cgroup started trimming first several byte cgroup path test passed since cgroups left dump criu restore recreate got eexist mkdir signed pavel emelyanov xemul parallels.com acked tycho andersen tycho.andersen canonical.com,,
6211,dda742ec570a3f6fea6d88c9b82e22306bcb1422,ndrew Vagin <avagin@openvz.org>, 2014-07-16 17:46:00 +0400, , cgroup look existing mount point mount point mounted someone else may umounted moment example test system executes test concurrently sometimes one test look mount point mounted another test error test zdtm live static inotify00 namespace dump log var lib jenkins job criu dump workspace test dump inotify00 15535 dump.log grep error 00.021951 error cgroup.c 409 failed walking var lib jenkins job criu dump workspace test dump signalfd00 15538 empty cgroups 00.021967 error dump.c 1601 dump core pid 15535 failed 00.025509 error dump.c 1914 dumping failed end error previous patch suggested open mount point brought problem may open directory cgroup mount umounted owner get ebusy attempt remove directory reported jenkins criuovich acked tycho andersen tycho.andersen canonical.com signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6212,97f7d179054d486405f795d395285f08609a2cae,avel Emelyanov <xemul@parallels.com>, 2014-07-15 17:57:00 +0400, , walk cgroup tree required two bug actually first check item root_item fire twice first rite inventory item null argument root_item null yet collected task 2nd time dump root task 2nd issue sits dump_cgroups root_cgset criu_cgset write cgroups information checking inside said need read cgroups tree going dump patch fix signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com acked tycho andersen tycho.andersen canonical.com,,
6213,9b6c41f2a032eb9ae504073b1c9a514cc4472d35,avel Emelyanov <xemul@parallels.com>, 2014-07-14 17:40:28 +0400, , remove unused cgroup_dir field signed pavel emelyanov xemul parallels.com acked tycho andersen tycho.andersen canonical.com,,
6214,f5705fb4160bbc0b35c9236f6ff03f343480c521,avel Emelyanov <xemul@parallels.com>, 2014-07-14 17:40:13 +0400, , minus one string copy collect_cgroups signed pavel emelyanov xemul parallels.com acked tycho andersen tycho.andersen canonical.com,,
6215,3467c3a5eba58ed2764586c17e6fa8ec6efd33c1,avel Emelyanov <xemul@parallels.com>, 2014-07-14 17:39:42 +0400, , mark cgroup_contains static signed pavel emelyanov xemul parallels.com acked tycho andersen tycho.andersen canonical.com,,
6216,cd704e80ee74b027660c43d72770633bebd85ad2,yrill Gorcunov <gorcunov@openvz.org>, 2014-07-15 17:04:11 +0400, , cgroups make sure cgroup formatted correctly case something broken kernel get format corrupted simply exit error instead strlen ing nil string also add comment format signed cyrill gorcunov gorcunov openvz.org acked tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
6217,0f178a1f99ae12a522ed561d5877b971c384853f,ycho Andersen <tycho.andersen@canonical.com>, 2014-07-11 20:11:00 +0400, , correctly detect mounted controller mount point would detect mount point mounted controller thing still worked mount traverse mount point save extra mount signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
6218,3a0ff651dbadba141b94ae04744747ae38ac5af2,yrill Gorcunov <gorcunov@openvz.org>, 2014-07-14 15:11:46 +0400, , protobuf cleanup typedefs bit need pollute typedef structure statement since use form simply typedef place align member  signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6219,a06488ec1031f393a7ec4d05a4381fc5b6878937,avel Emelyanov <xemul@parallels.com>, 2014-07-11 20:20:58 +0400, , show fix inet6 address showing broken d57be38c one pretty show doe return signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
6220,9c88d34c2080025754f4884af298811bb64054cd,avel Emelyanov <xemul@parallels.com>, 2014-07-11 20:20:44 +0400, , show rename loop index counter signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
6221,1ba5f60de46dcdc78c72a0a9ba4b807701b952f4,avel Emelyanov <xemul@parallels.com>, 2014-07-11 20:20:29 +0400, , show initialize field count early make ctl cur initialized one place scattered code signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
6222,1cd57697b3ae3e67e576200488cae6d24ef5d836,avel Emelyanov <xemul@parallels.com>, 2014-07-11 20:20:15 +0400, , show merge fsize show getting switch signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
6223,24a2cec44c3f26140cd1c233aaeafa45e10a7dd9,hristopher Covington <cov@codeaurora.org>, 2014-07-11 01:44:00 +0400, , zdtm build fix error building natively x86_64 ubuntu 12.04 session02.c 142 error undeclared session03.c 175 error undeclared vdso01.c 300 undefined reference clock_gettime error cross compiling arm using linaro 14.01 toolchain gcc warning mcpu deprecated use mtune march instead cc1 error unrecognized command line option mfpu neonâ cc1 error unrecognized command line option marmâ criu rtc.c error bad value cortex a15 mtune switch cc1 error unrecognized command line option mfpu neonâ cc1 error unrecognized command line option marmâ criu rtc.pb c.c error bad value cortex a15 mtune switch error cross compiling aarch64 using linaro 14.01 toolchain maps007.c function mainâ maps007.c error passing argument atomic_readâ incompatible pointer type werror futex_get shm stop atomic_get shm delta max_delta  file included lib lock.h maps007.c lib arch aarch64 include asm atomic.h note expected const atomic_t argument type struct utex_t static inline int atomic_read const atomic_t  ptrace.c function mainâ ptrace.c error ptrace_getregsâ undeclared first use function ptrace ptrace_getregs stopped null regs  signed christopher covington cov codeaurora.org reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6224,241019b6aa7e3afe931ba87796961551d0c2bfbb,ycho Andersen <tycho.andersen@canonical.com>, 2014-07-11 01:16:00 +0400, , save cgroup directory twice path path always prefix since come proc pid cgroup additional confuses string slinging ftw normalizes path one start traversing subdirectory signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
6225,ebfc37b0d9c3d9e0c4ff52161af5e64d7b9eed70,avel Emelyanov <xemul@parallels.com>, 2014-07-10 16:47:26 +0400, , show continue showing message descriptor nested one dive showing nested message call overwrite ctl arg field descriptor nested one result call return continue showing old message new descriptor signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
6226,71add03823c0b9eeb5d24fea3ff2f1ca73ab418b,avel Emelyanov <xemul@parallels.com>, 2014-07-10 16:23:36 +0400, , show always print tab brace signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
6227,d57be38ce966ceefe9ef759395fb7e4aac659883,avel Emelyanov <xemul@parallels.com>, 2014-07-10 16:08:05 +0400, , show sanitze repeated field showing routine signed pavel emelyanov xemul parallels.com,,
6228,f572bc4eafe8d0749b63730833498d5dea32ad3a,avel Emelyanov <xemul@parallels.com>, 2014-07-11 15:00:51 +0400, , rename controller field many controller name cgroup.c file signed pavel emelyanov xemul parallels.com acked tycho andersen tycho.andersen canonical.com,,
6229,ff90710c2eed819641d616a4e3f025363eab4ddf,avel Emelyanov <xemul@parallels.com>, 2014-07-11 15:00:43 +0400, , remove unused field controller message signed pavel emelyanov xemul parallels.com acked tycho andersen tycho.andersen canonical.com,,
6230,51876eea5d8dc147d7e5597f38d242d523cc1bf1,ycho Andersen <tycho.andersen@canonical.com>, 2014-07-10 17:00:28 +0400, , attempt restore cgroups dump phase proc cgroups parsed find mounted cgroups task proc self cgroup parsed cgroups member cgroup traversed find child cgroups may also need restoring cgroups currently mounted temporarily mounted traversed information persisted along original cg_sets indicate cgroups task member restore initial phase creates cgroups saved task restored cgroups via cg_sets usual signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
6231,e1b56c8fac7ea234a912b2348ff7f42de278bd40,yrill Gorcunov <gorcunov@openvz.org>, 2014-07-04 16:16:00 +0400, , vdso x86 drop bug_on pfn found pfn mean hit something strange condition better yield bug_on better exit error future investigation signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6232,828715f9f9c6f811c458186fffb680dbc3ea2972,ndrey Vagin <avagin@openvz.org>, 2014-07-07 15:48:00 +0400, , jenkins btrfs exclude inotify_irmap cyrill exclude test braindamaged scheme btrfs subvolume device numbering yet support inrmaps test zdtm live static inotify_irmap result fail error test zdtm live static inotify_irmap namespace dump log mnt btrfs workspace test dump inotify_irmap 16077 dump.log grep error 00.024342 error irmap.c irmap stat var spool file directory 00.024365 error irmap.c irmap stat lib udev file directory 00.024378 error irmap.c irmap stat path file directory 00.024383 error fsnotify.c 184 fsnotify dump handle 00.024397 error dump.c 1563 dump file pid 16090 failed 00.024779 error dump.c 1911 dumping failed end error signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6233,77391fa7954127cb3cc535686a7bc1b48db11f97,ndrey Vagin <avagin@openvz.org>, 2014-07-07 15:57:00 +0400, , test jenkins add job test pre dump make pre dump twice dump restore signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6234,19df5ec4723ec215a143fe7686bd69bc3fa9cea5,ndrey Vagin <avagin@openvz.org>, 2014-07-07 15:31:00 +0400, , tcp forget wake port user futex reported robert reinecke reinecke darmstadt.de signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6235,3435ec9ee58472457154fb7e4e2c290e26708834,avel Emelyanov <xemul@parallels.com>, 2014-07-06 23:47:00 +0400, , add 50k line source code per current top commit 9c0c23c0 amount code criu _without_ content test directory git grep egrep test xargs ... 49999 chance great one liner place code completely random one occurrence two consecutive empty line file signed pavel emelyanov xemul parallels.com tested andrew vagin avagin parallels.com acked cyrill gorcunov gorcunov openvz.org acked ruslan kuprieiev kupruser gmail.com,,
6236,9c0c23c06737123ef2f1d1dfb6c792c2506ce40d,avel Emelyanov <xemul@parallels.com>, 2014-07-04 15:55:52 +0400, , file unlink ghost directory rmdir bit later signed pavel emelyanov xemul parallels.com,,
6237,49f27969f5b703afd22b49bdaadfbb17bbe9d86e,avel Emelyanov <xemul@parallels.com>, 2014-07-04 15:52:29 +0400, , file fail missing fs.img zombie signed pavel emelyanov xemul parallels.com,,
6238,e2ab3474151b2246c2517cb51e68c7a43dc1eca6,avel Emelyanov <xemul@parallels.com>, 2014-07-04 15:52:09 +0400, , file initialize remap is_dir linked remap false signed pavel emelyanov xemul parallels.com,,
6239,061d69614aeedce55856c52e3db45cb589396fb8,avel Emelyanov <xemul@parallels.com>, 2014-07-04 15:13:41 +0400, , zdtm pick deleted unix socket test criu support relative unix socket path tune test use absolute one spotted filipe signed pavel emelyanov xemul parallels.com,,
6240,d3819b756fa50feb5bf5f8c8e4c681eb10da697b,ndrey Vagin <avagin@openvz.org>, 2014-07-03 14:19:47 +0400, , test socket tcpbuf add heartbeat make blood flow connection otherwise connection disconnected due timeout kernel may drop packet receive queue rcvpruned proc net netstat half buffer always stay socket another half circulated signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6241,437aff387a8d184f4e709d0009773aa3086de249,ndrey Vagin <avagin@openvz.org>, 2014-07-03 14:19:46 +0400, , zdtm socket tcpbuf add shortcut rdwring specified size data signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6242,7efbdf2de47013348e4c512a6b406569bd2626a0,avel Emelyanov <xemul@parallels.com>, 2014-07-03 19:08:44 +0400, , zdtm add test cwd opened ghost directory signed pavel emelyanov xemul parallels.com,,
6243,5be15df097e5e7a7690a377df848e8f8945525fb,avel Emelyanov <xemul@parallels.com>, 2014-07-03 19:08:30 +0400, , zdtm add test cwd ghost directory signed pavel emelyanov xemul parallels.com,,
6244,a919dbc9c617dc762f0f1774763f7caa01c5dd78,avel Emelyanov <xemul@parallels.com>, 2014-07-03 19:08:14 +0400, , file fix restoration ghost cwd root cwd removed need collect respective file_desc starting opening file properly handle ghost refcounts otherwise miss one refcount cwd ghost turn either bug inside ghost removal fail cwd due respective dir removed early signed pavel emelyanov xemul parallels.com,,
6245,ba8671b4c143a36301c655b488a1d7ade025044e,avel Emelyanov <xemul@parallels.com>, 2014-07-03 19:07:58 +0400, , file split open_reg_by_id two part signed pavel emelyanov xemul parallels.com,,
6246,9b91bf390dc674f871677c764b7b75d054af8718,avel Emelyanov <xemul@parallels.com>, 2014-07-03 19:07:44 +0400, , file split restore prepare restore prepare one become complicated soon signed pavel emelyanov xemul parallels.com,,
6247,b8d01d1b7a190b129ea5e8957ceb5cbdd95593e0,avel Emelyanov <xemul@parallels.com>, 2014-07-03 19:07:29 +0400, , file rename prepare_fs restore_fs signed pavel emelyanov xemul parallels.com,,
6248,471d73e343cb9218675901eb7397bf0561228d16,avel Emelyanov <xemul@parallels.com>, 2014-07-03 19:07:14 +0400, , zdtm add test opened ghost directory signed pavel emelyanov xemul parallels.com,,
6249,d0097b2db03acd298dc7519f082af84cf56c7012,avel Emelyanov <xemul@parallels.com>, 2014-07-03 19:06:58 +0400, , file support ghost directory restore opened rmdir directory dump work creating ghost file remap restore creates _file_ instead directory fix signed pavel emelyanov xemul parallels.com,,
6250,c06727c2d1e670ed93b4ab4fc43a6f6f1a29c0f9,ycho Andersen <tycho.andersen@canonical.com>, 2014-07-03 17:03:00 +0400, , cgroup rename cg_member_entry signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
6251,8937bf7a72d7038e0b9bda3fd46486cd5a54d620,ndrey Vagin <avagin@openvz.org>, 2014-07-03 19:21:20 +0400, , test add mount ext list signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6252,daccf5ec975480dfb12e3ddefa7014ae8cdab3b6,avel Emelyanov <xemul@parallels.com>, 2014-07-02 13:33:18 +0400, , zdtm add verbosity deleted_dev failure signed pavel emelyanov xemul parallels.com,,
6253,0ce9ce408a558d85b42d57a277b2937401fcdd34,avel Emelyanov <xemul@parallels.com>, 2014-07-02 13:33:04 +0400, , zdtm fix deleted_dev add runlist signed pavel emelyanov xemul parallels.com,,
6254,a9f765894e5e48a7a2d92b307603c31c27ba9b4a,avel Emelyanov <xemul@parallels.com>, 2014-07-02 13:32:47 +0400, , file support ghost device opened unlinked chr blk device shouls also take care rdev value thus new field image new step dump restore signed pavel emelyanov xemul parallels.com,,
6255,8e21401aa24dc476ce9cc42fa3e75be0c8fb6cf3,avel Emelyanov <xemul@parallels.com>, 2014-07-02 13:32:32 +0400, , file split ghost collecting routine signed pavel emelyanov xemul parallels.com,,
6256,731dc18332ea4725232b60f646fb8687c7a92b03,avel Emelyanov <xemul@parallels.com>, 2014-07-02 01:28:00 +0400, , zdtm pick test pas signed pavel emelyanov xemul parallels.com,,
6257,0198590c5a4451febdb9e4f2dda8e824e7615a56,avel Emelyanov <xemul@parallels.com>, 2014-07-01 21:02:07 +0400, , zdtm factor starting test via makefule signed pavel emelyanov xemul parallels.com,,
6258,2fc837917f0c8a5a66a1c07e1f777a742c48fa1d,avel Emelyanov <xemul@parallels.com>, 2014-07-01 21:01:53 +0400, , zdtm build test 2nd time signed pavel emelyanov xemul parallels.com,,
6259,8eb1d662bf5acecb6fd902576131caaaa3679f16,avel Emelyanov <xemul@parallels.com>, 2014-07-01 21:01:39 +0400, , zdtm factor getting pid test signed pavel emelyanov xemul parallels.com,,
6260,693bf79ffdd0b78ac82a213ffc84771c923484bf,ndrew Vagin <avagin@openvz.org>, 2014-07-01 18:52:26 +0400, , test add script jenkins execute non zdtm test signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6261,2eb0a6b6cb4429db4fba97ab2a40b99d7fd00997,ndrew Vagin <avagin@openvz.org>, 2014-07-01 18:52:25 +0400, , test meme snap remove nonexistent target signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6262,f6111769c306b27b98b277a8ead83842be9c334c,avel Emelyanov <xemul@parallels.com>, 2014-07-01 18:30:07 +0400, , zdtm introduce per test criu option test require custom option dump restore instead hard coding test name zdth.sh introduce test.opts file zdtm would pick needed option signed pavel emelyanov xemul parallels.com,,
6263,6021378ca6ee8cf9397c6d1c259ea2d4f766e7e5,avel Emelyanov <xemul@parallels.com>, 2014-07-01 18:29:48 +0400, , zdtm introduce cpt_args signed pavel emelyanov xemul parallels.com,,
6264,3d14c71c52babd91ad5831b91f7f02d7545933fd,avel Emelyanov <xemul@parallels.com>, 2014-07-01 18:29:33 +0400, , zdtm rename args gen_args signed pavel emelyanov xemul parallels.com,,
6265,3b71200cd52c17529d5dbb4e0e8bcca332eaf2ca,avel Emelyanov <xemul@parallels.com>, 2014-07-01 18:29:17 +0400, , zdtm remove unused args variable signed pavel emelyanov xemul parallels.com,,
6266,b429492dbce7a22178669181b437eddb792551d6,avel Emelyanov <xemul@parallels.com>, 2014-07-01 19:48:23 +0400, , rst include criu include ptrace.h instead system one arm ptrace_ ... constant declared sys ptrace.h file linux ptrace.h x86 file somewhat conflict sys one fix arm compilation using criu one think later signed pavel emelyanov xemul parallels.com,,
6267,bd93f9b49ae943b43fe0f06b7839e1b55649aa8a,avel Emelyanov <xemul@parallels.com>, 2014-07-01 17:44:28 +0400, , .git add vdso01 pdeath_sig gitignore signed pavel emelyanov xemul parallels.com,,
6268,84eb0a1927e60f682aa357f08f00ca32f5cb78c0,avel Emelyanov <xemul@parallels.com>, 2014-06-30 20:30:44 +0400, , criu restore task sibling swrk andrey validly pointed restoring pdeath_sig compatible call criu restore child exit fire pdeath_sig restored tree root potentially killing fix could started swrk criu restore tree child task sibling using clone_parent flag fork ing root task also take care error handing right criu catch sigchild dying child task since plan create child criu parent library caller able catch seize root task advance thus causing sigchld criu parent done longer need subreaper trick library call task get restored right caller kid thought future using trick finally make natural restoration shell job i.e make criu restore subtree right bash leaving intermediate task parenting subtree init restore signed pavel emelyanov xemul parallels.com acked andrey vagin avagin parallels.com,,
6269,fba8aae30012da4345bef1d68c024dc53546ef38,avel Emelyanov <xemul@parallels.com>, 2014-06-27 19:27:19 +0400, , zdtm tech pdeath_sig preserved signed pavel emelyanov xemul parallels.com acked serge hallyn serge.hallyn ubuntu.com,,
6270,5e9c57a13d7bd9b18de2fe4af142ecf95c2d147d,avel Emelyanov <xemul@parallels.com>, 2014-06-27 19:26:52 +0400, , criu dump restore pdeath_sig value implementation pretty straightforward dumping per thread misc data parasite collect one write restore wait cred restore put value back cred change drop zero signed pavel emelyanov xemul parallels.com acked serge hallyn serge.hallyn ubuntu.com,,
6271,8e11c8ec1119757bd3ed82b131dc850e9dbb3800,avel Emelyanov <xemul@parallels.com>, 2014-06-27 15:27:14 +0400, , libcriu compilation add constant signed pavel emelyanov xemul parallels.com,,
6272,7dfcf2a4cb05e53a54418523358bd59bd8dc1cc6,avel Emelyanov <xemul@parallels.com>, 2014-06-26 19:29:20 +0400, , test test criu_dump_iters library work signed pavel emelyanov xemul parallels.com,,
6273,7a2698cfe8e045e38d73307c28ec081283440a58,avel Emelyanov <xemul@parallels.com>, 2014-06-26 18:52:34 +0400, , libcriu introduce criu_dump_iters call perform dumping preliminary iteration time iteration end callback called callback return value positive one iteration start zero final dump performed call exit negative dump aborted value returned back criu_dump_iters inside callback one may well call criu_set_ function alter detail next iteration particluar prev next image directory changed argument opaque value caller may use request pre dump statistic yet implemented signed pavel emelyanov xemul parallels.com,,
6274,7aee2619c680632fe5c84acc0a672f1542eb39d5,avel Emelyanov <xemul@parallels.com>, 2014-06-25 21:22:08 +0400, , test cleanup libcriu test makefile signed pavel emelyanov xemul parallels.com,,
6275,43e5d05134a7b13be3beaf855508bcf12e0e1611,avel Emelyanov <xemul@parallels.com>, 2014-06-26 13:58:53 +0400, , libcriu ability fetch argument notification bit thinking found way fetch argument notification pas opaque value callback provide set call exploring one  provide data service supply additional field future check action name decide whether requested argument available signed pavel emelyanov xemul parallels.com,,
6276,5cea861d7f1927a44ebec7cf6d597b6aa360d4da,avel Emelyanov <xemul@parallels.com>, 2014-06-26 16:53:29 +0400, , test add test notification via libcriu signed pavel emelyanov xemul parallels.com,,
6277,4562c3df57d0f83fd4d88bca562915c476bab2e5,avel Emelyanov <xemul@parallels.com>, 2014-06-25 19:22:21 +0400, , libcriu add ability request notification service achieved supplying callback every time notification arrives callback called return value mean continue value aborst request value reported back caller criu_dump criu_restore call signed pavel emelyanov xemul parallels.com,,
6278,714dfdb7d9e906934eb7c567275cfa8c9f99ba81,avel Emelyanov <xemul@parallels.com>, 2014-06-25 15:12:29 +0400, , test add lib.c libcriu test common stuff signed pavel emelyanov xemul parallels.com,,
6279,5d75c5235609ca982ea5af76f330f3b139187e68,avel Emelyanov <xemul@parallels.com>, 2014-06-26 16:52:14 +0400, , test rename libcriu run_sub.sh run.sh signed pavel emelyanov xemul parallels.com,,
6280,022afe8b2fd7052ab7c8cc480e692e111292c483,avel Emelyanov <xemul@parallels.com>, 2014-06-25 15:08:23 +0400, , test clean old libcriu test new one cover used jenkins signed pavel emelyanov xemul parallels.com,,
6281,afa47b23aaa5b901a05aaaab645af2ce0e44f62c,avel Emelyanov <xemul@parallels.com>, 2014-06-26 16:51:19 +0400, , test tune libcriu test launcher  introduce run_test helper fix overall result detection signed pavel emelyanov xemul parallels.com,,
6282,fd214e003141afa8f0895bcb6d44869591e327c3,avel Emelyanov <xemul@parallels.com>, 2014-06-25 15:06:53 +0400, , test helper checking child exit status signed pavel emelyanov xemul parallels.com,,
6283,f929839ab89540c4179d51294c216e645f255d46,avel Emelyanov <xemul@parallels.com>, 2014-06-25 15:06:09 +0400, , test add test self dump derived test.c self contained explicitly check result signed pavel emelyanov xemul parallels.com,,
6284,a137d9fd58b64603accdcedf874b58a412a1176f,avel Emelyanov <xemul@parallels.com>, 2014-06-24 23:29:17 +0400, , test simple test call time demonstration trick  remove stupid sleep synchronization run internal version child external script signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
6285,24d2f56fadd6b42a52be4cb072c1474e68eed943,avel Emelyanov <xemul@parallels.com>, 2014-06-17 21:10:46 +0400, , lib implement call fully swrk action criu problem caller may restored task die _before_ libcriu call return  rename _sub _child unblock sigchild execl ing criu signed pavel emelyanov xemul parallels.com,,
6286,b6f6426bef66a719d9542430c5825a8d5b77e191,avel Emelyanov <xemul@parallels.com>, 2014-06-17 21:09:25 +0400, , lib tossing bit around prepare send recv routine work existing socket signed pavel emelyanov xemul parallels.com,,
6287,d30521a3cfa831856271fbde98a4562a518f5bc5,avel Emelyanov <xemul@parallels.com>, 2014-06-17 21:08:49 +0400, , crtools add internal swrk action help restoring task image kid caller trick caller set child reaper prctl caller make sure criu binary suid owned root caller fork call execv criu asking restore criu finish restore exit kid get reparented criu parent i.e library caller caller stop subreaper order make execv argument passing simpler propose execv service worker function accepts option via socket good two reason construct cli option libcriu reuse service facility security check ability dump pre dump stuff signed pavel emelyanov xemul parallels.com,,
6288,8f05162bb4ce8eb45224cdeb8b7594064f4cdf0b,avel Emelyanov <xemul@parallels.com>, 2014-06-25 17:37:50 +0400, , libcriu add add_veth_pair call signed pavel emelyanov xemul parallels.com,,
6289,1a5a0344131d850b6417d0ccb198b5026c46bcc4,avel Emelyanov <xemul@parallels.com>, 2014-06-25 17:34:17 +0400, , libcriu add call signed pavel emelyanov xemul parallels.com,,
6290,3f4447d72efe0ef4c839529df5d032ac23c748de,avel Emelyanov <xemul@parallels.com>, 2014-06-25 17:15:57 +0400, , libcriu add simple missing criu_set_ call copy value rpc message nothing signed pavel emelyanov xemul parallels.com,,
6291,a09396cca51a2dfdbaf51b285c05a2f4c5d35703,avel Emelyanov <xemul@parallels.com>, 2014-06-25 17:06:37 +0400, , libcriu add criu_set_root header signed pavel emelyanov xemul parallels.com,,
6292,2812d04d29d7eaef741eb6c5b5fca3b4de95d107,ilipe Brandenburger <filbranden@google.com>, 2014-06-26 01:05:00 +0400, , make fix make criu arch specific vdso broke building criu make criu clean tree working failing make rule make target arch x86 vdso pie.o stop make arch x86 vdso pie.o error git bisect traced regression commit c473461d24fd vdso make arch specific apparently dropped rule build arch_dir vdso pie.o using pie rule restore dependency make criu work clean tree tested git clean fdx make criu fix signed filipe brandenburger filbranden google.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6293,c05b7f4153af543284b1af35eff2efc7bef997ee,hris J Arges <chris.j.arges@canonical.com>, 2014-06-25 23:52:00 +0400, , ensure ldflags passed build something like make ldflags bsymbolic function get error ldflags passed pased signed chris arges chris.j.arges canonical.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6294,64dc66c29fa783bcaaace17b58d65b845fed8c3e,ilipe Brandenburger <filbranden@google.com>, 2014-06-25 19:35:00 +0400, , dump fail dump robust_lists disabled robust list may disabled example variable kernel unset detect case checking get_robust_list set_robust_list syscalls return enosys make criu dump fail case simply assume empty list consistent syscalls available tested successfully ran zdtm test suite kernel get_robust_list set_robust_list syscalls disabled signed filipe brandenburger filbranden google.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6295,bbb3299f03b4cfa3674295077da9723b05257fca,aied Kazemi <saied@google.com>, 2014-06-25 19:56:37 +0400, , skip name cgroup named hierarchy skip string name recreating cgroups directory cgyard example systemd entry cgroup.img name name systemd path user 1000.user 4.session creating systemd subdir named part name signed saied kazemi saied google.com signed pavel emelyanov xemul parallels.com,,
6296,6f45c38c18f92638bfb50e24e02f3c68f364095d,ndrey Vagin <avagin@openvz.org>, 2014-06-25 12:36:43 +0400, , mount parse devpts option newinstance option shown mountinfo currently detected devpts_dump added root mount added bind mount mounts_equal true return false mount criu understand bind mounted reported tycho andersen tycho.andersen canonical.com serge hallyn serge.hallyn ubuntu.com signed andrey vagin avagin openvz.org acked serge hallyn serge.hallyn ubuntu.com signed pavel emelyanov xemul parallels.com,,
6297,44356b37f2244b9f574772aee641ccd846f4b3c9,ndrey Vagin <avagin@openvz.org>, 2014-06-25 12:36:42 +0400, , mount simplify devpts_dump signed andrey vagin avagin openvz.org acked serge hallyn serge.hallyn ubuntu.com signed pavel emelyanov xemul parallels.com,,
6298,817bf7852317e19ad74d7526b4ea14a56b2c7acc,yrill Gorcunov <gorcunov@openvz.org>, 2014-06-25 17:21:20 +0400, , zdtm posix_timers add definition clock_boottime noticed clock_boottime might defined system header ship one signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6299,1764db0fa1ecd771678c41cde30ea95a47bff46b,yrill Gorcunov <gorcunov@openvz.org>, 2014-06-25 16:49:16 +0400, , zdtm make arch specific test space end otherwise might clash execute zdtm live static vdso01ns static pipe00 reported andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin gmail.com signed pavel emelyanov xemul parallels.com,,
6300,8b58c98086eab43c7d385b68153d44b062b7f487,ndrew Vagin <avagin@openvz.org>, 2014-06-25 15:53:00 +0400, , file fix compilation signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6301,4a012f1478c17609b4db22669878c0637e420f60,ycho Andersen <tycho.andersen@canonical.com>, 2014-06-25 01:28:00 +0400, , fix typo signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
6302,f5b67f5148b3a10dd683acf5ae52f58b7276f6db,ndrey Vagin <avagin@openvz.org>, 2014-06-25 14:13:00 +0400, , file fix compilation signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6303,905ceac7c51f7e337f2322211734b54bab2c3925,yrill Gorcunov <gorcunov@openvz.org>, 2014-06-23 23:26:53 +0400, , zdtm add arch specific test able run specific test depending architecture executing signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6304,3423e3492b178ebe5900d8a68ba6d1dbb02bbcb8,yrill Gorcunov <gorcunov@openvz.org>, 2014-06-23 17:00:00 +0400, , zdtm add vdso01 test case par vdso memory like criu doe use direct call vdso entry instead .plt .got bundle reason must sure able proceed call without relying libc anyhow note test x86 specific turn test suite default signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6305,fac7befa6b63bd6d55bd6477ad17e18404e90744,avel Emelyanov <xemul@parallels.com>, 2014-06-24 23:38:48 +0400, , file sanity check reg file restore corrupted opening reg file restore check file size opened match saw dump bullet proof protection helpful protect update dump restore signed pavel emelyanov xemul parallels.com,,
6306,99cd969595acf8ea2d7659dddc3d169921a8911b,yrill Gorcunov <gorcunov@openvz.org>, 2014-06-17 14:38:00 +0400, , zdtm add clock_boottime test posix_timers test clock_boottime feature recently implemented openvz kernel vanilla kernel criu pass signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6307,f52efcce0af4ac24b724001ac349b7b6a342ae1c,avel Emelyanov <xemul@parallels.com>, 2014-06-20 20:34:00 +0400, , mark yard mount private otherwise cgroups sub mount may propagate another namespaces directory would become unremovable signed pavel emelyanov xemul parallels.com,,
6308,876def95467499b5bcc4ea6d996072d5db325e2b,ndrew Vagin <avagin@openvz.org>, 2014-06-23 19:35:00 +0400, , test add target execute non zdtm test make test signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6309,ac2dc9fc7f519d0066479edfbc13dbe93d4c6384,ndrey Vagin <avagin@openvz.org>, 2014-06-23 19:22:00 +0400, , test ext link fix path tool run.sh line xip command found signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6310,1c4f8478eebcb41b015621b7388e2ec82737ca6e,yrill Gorcunov <gorcunov@openvz.org>, 2014-06-20 19:35:09 +0400, , vdso x86 make sure mark version match otherwise meeting somehow corrupted mark must abort dumping reported pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6311,fe7b8aeb8c65e11e190282aae8db2d2bebd4f6e9,yrill Gorcunov <gorcunov@openvz.org>, 2014-06-20 19:35:08 +0400, , vdso x86 add handling vvar zone new kernel 3.16 old vdso zone splitted two vmas one vdso code second named vvar data referenced vdso code dump restore part code separately otherwise test would fail commit pretty big one hard read detailed explanation going start dumping detect vvar zone reading proc pid smap looking vvar token note vvar zone mapped kernel flag fail also assumed least kernel changed much vvar zone always follows vdso zone otherwise criu print error previous commits disabled dumping vvar area content restorer code never try read vvar data still need map vvar zone thus vma entry remains image previous vdso format might case dump restore happening kernel dump restore done different kernel detect case parse vdso data image find symbol offset compare value runtime symbol provided kernel match size vvar zone simply remap zone runtime kernel position dumpee checkpoint time named inplace remap happens vdso_proxify routine drop vvar area provided caller code restorer try handle vma look somehow strange probably reworked left minimize patch case need generate proxy way include vvar zone proxy save vvar proxy address inside vdso mark injected vdso area thus subsequent checkpoint detect proxy vvar zone rip list vmas handle signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6312,154d1c6c2c9e6df85ee204429fd4d868441e7219,yrill Gorcunov <gorcunov@openvz.org>, 2014-06-20 19:35:07 +0400, , vdso parasite prepare new vdso mark structure new vvar area need carry address vvar proxy inside mark thus add member needed update routine signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6313,993205e3bee184a25db477c6775941d7415f2b32,yrill Gorcunov <gorcunov@openvz.org>, 2014-06-20 19:35:06 +0400, , vdso util show vvar abreviature meet vma_area_vvar debug purpose mostly signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6314,0bb002ce69aca98b5ca04cd927f2f609577295d1,yrill Gorcunov <gorcunov@openvz.org>, 2014-06-20 19:35:05 +0400, , vdso dump dump content vvar zone vvar zone mapped kernel must ever dumped image data present valid running kernel signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6315,72ead490e42687a9bd4f7d74179d154882d26416,yrill Gorcunov <gorcunov@openvz.org>, 2014-06-20 19:35:04 +0400, , vdso image add vma_area_vvar flag need handle vvar zone special way vma_unsupp never image file let reuse bit vvar signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6316,e0b3018b71c4991df409d281364b11d8588083c1,ilipe Brandenburger <filbranden@google.com>, 2014-06-17 20:33:54 -0700, , git add dev test .gitignore dev directory also created zdtm running enabled test add list together entry bin lib signed filipe brandenburger filbranden google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6317,340a2464442ad263e5edfcc507f4e82edd95cadd,ilipe Brandenburger <filbranden@google.com>, 2014-06-17 20:33:53 -0700, , zdtm add missing entry test zdtm .gitignore add new test cgroup00 clean_mntns .gitignore file signed filipe brandenburger filbranden google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6318,6cf2906b0a73cc55c2ac8c4d94e8120723456bbc,ilipe Brandenburger <filbranden@google.com>, 2014-06-17 20:33:52 -0700, , zdtm add new dumpable02 test check dumpable flag set work confirms fix handle dumpable flag set still work restore force dumpable flag set whatever set chmod test binary 0111 executable readable execv running non root kernel unset dumpable flag prevent core dump ptrace giving user access page binary supposedly readable user tested test zdtm.sh static dumpable02 test zdtm live static dumpable02 result pas test zdtm.sh static dumpable02 test zdtm live static dumpable02 result pas used ddebug confirm value dumpable flag match sysctl test namespaces confirmed test fails commit fix handling dumpable flag value reverted sysctl set signed filipe brandenburger filbranden google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6319,f662df452d378c376bfe5fa59d222469743aadb8,ilipe Brandenburger <filbranden@google.com>, 2014-06-17 20:33:51 -0700, , restore preserve dumpable flag set commit d5bb7e9748fd started preserve dumpable flag across migration using prctl get value dump set back restore situation dumpable flag set happens reset prctl using setuid using execv binary executable read permission sysctl also set however possible set using prctl would make criu restore fail fix checking value passing prctl case value dumpable flag source check whether already destination likely happen sysctl also set restore running case preserve value otherwise reset secure fallback fix tested using dumpable02 zdtm test setting sysctl test zdtm.sh static dumpable02 debug dump dumpable debug restore dumpable pas test zdtm live static dumpable02 result pas signed filipe brandenburger filbranden google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6320,9f30b9e7e3d539175f80997e28142ae61e2f22e8,ilipe Brandenburger <filbranden@google.com>, 2014-06-17 20:33:50 -0700, , revert pie quick workaround pr_set_dumpable restore error reverts commit signed filipe brandenburger filbranden google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6321,1176081e1feb9dfcc1b15b77b17f5f4029fa7e71,ilipe Brandenburger <filbranden@google.com>, 2014-06-17 20:33:49 -0700, , zdtm add new dumpable01 test check dumpable flag preserved confirms fix commit d5bb7e9748fd preserve dumpable flag migration working expected test case dumpable flag expected always set test_init use prctl reset using setuid setgid tested test zdtm.sh static dumpable01 test zdtm live static dumpable01 result pas test zdtm.sh static dumpable01 test zdtm live static dumpable01 result pas confirmed test fails reverting commit d5bb7e9748fd signed filipe brandenburger filbranden google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6322,7f3de2889e1ac79059b3e9094c89c4633ecf9aa7,yrill Gorcunov <gorcunov@openvz.org>, 2014-06-23 16:49:40 +0400, , restore make sure last_pid writen zero offset otherwise see 3.16 rc1 higher 100.851730 futex wrote ns_last_pid file position supported future silence warning set signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6323,687c389478bd3f0e275e7d27e7f87c497d96f38c,avel Emelyanov <xemul@parallels.com>, 2014-06-19 15:39:07 +0400, , iov add page_server_iov iov back helper signed pavel emelyanov xemul parallels.com,,
6324,3b995f1aef33d598e7873997f4f03932dba2dd03,avel Emelyanov <xemul@parallels.com>, 2014-06-19 15:38:26 +0400, , iov add iovec2pagemap helper signed pavel emelyanov xemul parallels.com,,
6325,cd347240928e47744b29e131ae2eb021936e6f9a,avel Emelyanov <xemul@parallels.com>, 2014-06-19 15:38:02 +0400, , iov add iov_init helper signed pavel emelyanov xemul parallels.com,,
6326,bb7ac03a5b1b899c20380897be03dfbe20e1694d,avel Emelyanov <xemul@parallels.com>, 2014-06-19 15:37:44 +0400, , iov add iov_grow_page helper signed pavel emelyanov xemul parallels.com,,
6327,997f08eaa6c579c24b3abe6b7e726357e17bee85,ndrey Vagin <avagin@openvz.org>, 2014-06-20 16:28:03 +0400, , vdso forget adjust vma_area_list proxy vdso removed vma_area_list list vma_area_list must decremented cyrill gorcunov gorcunov openvz.org signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6328,7edf0994c9678753fad7122de7fc11c85421b931,avel Emelyanov <xemul@parallels.com>, 2014-06-18 13:34:36 +0400, , criu version 1.3 rc2 next acheivement external bind mount task cgroups binding plus many bugfixes memory restore mounpoints dump many thanks google guy report patch quite thing left make workable lxc docker support hopefully next tag 1.3 one signed pavel emelyanov xemul parallels.com,,
6329,8870aa1e4f86da5fad087a31fe93bacd95144e09,aied Kazemi <saied@google.com>, 2014-06-17 21:44:50 +0400, , pie quick workaround pr_set_dumpable restore error xemul temporary workaround lock rc2 release better solution rolled back signed saied kazemi saied google.com signed pavel emelyanov xemul parallels.com,,
6330,2ad1ba72fac845415f976c5c0ba1287201902415,ndrey Vagin <avagin@openvz.org>, 2014-06-16 18:40:05 +0400, , zdtm check bind mounted file static mountpoints signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6331,494c0443843c1cf8641a91fb8e9de795376998ab,ndrey Vagin <avagin@openvz.org>, 2014-06-16 18:40:04 +0400, , mount dump one file system file system bind mounted time mount non root need find one root mount dump forget check dumped parent dump root file system always external reported saied kazemi saied google.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6332,697211908ab92eda9fe7d83167d8b9c21af92519,ndrey Vagin <avagin@openvz.org>, 2014-06-16 18:40:03 +0400, , tmpfs use device number instead mnt_id image name one file system mounted time mnt_id unique signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6333,061d6cfadfcac4cb9bb609a97ac60320d1892420,avel Emelyanov <xemul@parallels.com>, 2014-06-09 17:26:59 +0400, , mnt handle external bind mount according ext mount option signed pavel emelyanov xemul parallels.com,,
6334,c7e0042946c9a402dff8d8a75b29ffc9c375ea26,avel Emelyanov <xemul@parallels.com>, 2014-06-09 17:26:17 +0400, , crtools introduce ext mount map option dump one one ext mount map option argument denotes mountpoint seen target mount namespace criu dump string written image file instead mountpoint root restore one ext mount map option similar argument time criu treat string image root field foobar example path criu mount namespace bind mounted mountpoint  added documentation added rpc bit changed option name ext mount map use colon key value separator signed pavel emelyanov xemul parallels.com,,
6335,c3ea0ba06f9542f32c88af129ed448be6719d613,avel Emelyanov <xemul@parallels.com>, 2014-06-09 17:24:13 +0400, , mnt tossing bit around validate_mounts simpler patching signed pavel emelyanov xemul parallels.com,,
6336,43c96be7980385a4f1a795291a75498c5ff37297,ycho Andersen <tycho.andersen@canonical.com>, 2014-06-10 18:13:00 +0400, , allow dumping pstore securityfs fusectl debugfs mounted default ubuntu container criu know remount restore signed tycho andersen tycho.andersen canonical.com signed pavel emelyanov xemul parallels.com,,
6337,72a9372aff2e4679a58047d5b481efbc2b74736f,avel Emelyanov <xemul@parallels.com>, 2014-06-09 16:51:16 +0400, , opening fchdir work absolute file name open happen _before_ change task root signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
6338,7aa7e95f7e9860a1fe82385419a0d4bb3115258a,avel Emelyanov <xemul@parallels.com>, 2014-06-09 16:50:05 +0400, , hide error prepare_fs fchroot succeeds failure get noticed caller signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
6339,bd7bddb88923a9334768281962c62a9d78c38b99,avel Emelyanov <xemul@parallels.com>, 2014-06-05 20:19:14 +0400, , zdtm add test mount namespace mountpoints signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
6340,701f883765e46ec176bec49c730d747d6ca357ac,avel Emelyanov <xemul@parallels.com>, 2014-06-05 20:18:41 +0400, , restore fchroot via proc helper thing fchroot linux need chroot existing file descriptor patch chroot ing proc self proc mounted longer possible like fchdir proc_service_fd chroot self root_fd fchdir cwd_fd thanks andrey vagin trick signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
6341,3659d60ab73f985a1bf80c3c4f9e96b14ef747c3,avel Emelyanov <xemul@parallels.com>, 2014-06-05 20:16:41 +0400, , restore open proc sys kernel ns_last_pid via helper signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
6342,0066d5e813230987cfd1fd7ecac967a3f1b95f2c,avel Emelyanov <xemul@parallels.com>, 2014-06-05 20:15:59 +0400, , restore open proc self map via helper signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
6343,8644ce9628bf96f9ae0e2eab94055d940e5d3746,avel Emelyanov <xemul@parallels.com>, 2014-06-05 20:15:24 +0400, , util prepare proc opening helper open file set routine open proc pid file via proc service descriptor teach accept non pid pid open proc self proc file via engine signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6344,d9e7a5f155628b9697defbf60c4f6036cb8864a2,avel Emelyanov <xemul@parallels.com>, 2014-06-05 20:14:03 +0400, , zdtm add ability start test running test prefix zdth.sh doe complex preparation make possible make let started process ready manual investigation signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
6345,c09b7c2f3767770f22cab7bc097305957386f363,yrill Gorcunov <gorcunov@openvz.org>, 2014-05-29 01:54:53 +0400, , vdso x86 use dynamic symbol parsing new vdso stripped format use dynamic symbol instead sectioned one signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6346,3ca8b12ee7a6ed3817cac405741622ef0aeb5046,yrill Gorcunov <gorcunov@openvz.org>, 2014-05-29 01:54:52 +0400, , vdso x86 drop declare_vdso macro sharing code anymore drop signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6347,8a07349388c9baaa8f821ee9b8279a22075d51cd,avel Emelyanov <xemul@parallels.com>, 2014-06-06 12:20:02 +0400, , file fix open_path provide mntns root callback fix support fifo mount namespaces make easier control correct open_path usage future signed pavel emelyanov xemul parallels.com,,
6348,b9c6cf3dd3da347fbe33132af7deb2cbf8549039,avel Emelyanov <xemul@parallels.com>, 2014-06-06 12:19:15 +0400, , mnt strip comma option string filesystems like option image look cleaner signed pavel emelyanov xemul parallels.com,,
6349,0457c94c6912219a8b89b48275ee83bcd716716f,avel Emelyanov <xemul@parallels.com>, 2014-06-06 12:18:50 +0400, , zdtm make possible test get zdtm_newns variable need make cgroup test behave slightly differently run handy use zdtm_newns variable set zdtm.sh signed pavel emelyanov xemul parallels.com,,
6350,30e95be2641837e5a7316a5094c9ac70dfd00aa7,avel Emelyanov <xemul@parallels.com>, 2014-05-30 17:57:55 +0400, , mnt fix validation dumpable mountpoints patch consists unsplittable pov fix remove messy check validate_mounts check whether dump tree  wron place mentioned check wrong comparing length source make sense root even would wrong ... ... instead check bind mount root path accessible target mount root path i.e bind root start src root signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
6351,3635f2c4b9b7128d1d2bb583b270dcadbd9e7862,avel Emelyanov <xemul@parallels.com>, 2014-05-30 17:57:39 +0400, , mnt relax check top mount validate_mounts signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
6352,c75b7ab61c718f82806d4157a506616497661e1f,avel Emelyanov <xemul@parallels.com>, 2014-05-30 18:47:00 +0400, , mnt devpts option get corrupted dump memcpy devpts_dump overwrites part fix move whole code sub routine future fix one error spotted filipe signed pavel emelyanov xemul parallels.com acked filipe brandenburger filbranden google.com,,
6353,06f559fcc7a9651bfb98d0f0b6d8f6784da3efd0,yrill Gorcunov <gorcunov@openvz.org>, 2014-05-26 15:02:56 +0400, , vdso make arch target depends config use config.h vdso handling code arch target depend signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6354,441b9b9ee5f548a7eb4ccb278c6e81571c425cdd,avel Emelyanov <xemul@parallels.com>, 2014-05-08 17:03:18 +0400, , zdtm stupid test task cgroup signed pavel emelyanov xemul parallels.com,,
6355,203c2914679e1720e60eeb955204d9b15e90fec8,avel Emelyanov <xemul@parallels.com>, 2014-05-08 16:55:53 +0400, , restore task proper cgroups restore find set task live move  optimization note move task cgroups _before_ fork kid make inherit cgroups required save lot time accessibility note moving task cgroups search existing host mount may available mount temporary one may impossible due user namespaces instead introduce service yard mount signed pavel emelyanov xemul parallels.com,,
6356,1ba9d2cae93bfd7974b8fc9049d15caa9e42f3e4,avel Emelyanov <xemul@parallels.com>, 2014-05-08 16:42:40 +0400, , dump cgroups task live task point single cgroup set life done save space image task likely live set cgroups keep track cgroup set dump subtree happens root task life cgroup set criu doe allow sub cgroups make restore next patch much simpler faster signed pavel emelyanov xemul parallels.com,,
6357,8b8eb53a0af38bdf90cca604e2446e286a5e4301,avel Emelyanov <xemul@parallels.com>, 2014-05-08 16:37:00 +0400, , skeleton cgroup code signed pavel emelyanov xemul parallels.com,,
6358,06f724338063351243d307add065acdd3185b108,avel Emelyanov <xemul@parallels.com>, 2014-05-08 16:33:59 +0400, , image add bit piece cgroups image exact structure image revealed next patch important cgroup image somewhat new likely contain array object different type introduce header object link array using repeated field help avoid many image file different cgroup object make amount write required signed pavel emelyanov xemul parallels.com,,
6359,b48e4cbfb8973399cf80548fa46141683c708a75,avel Emelyanov <xemul@parallels.com>, 2014-05-08 16:30:30 +0400, , proc introduce helper parsing proc pid cgroup file signed pavel emelyanov xemul parallels.com,,
6360,e5eb73ea48880ccb707b257a5c634a6382c94467,avel Emelyanov <xemul@parallels.com>, 2014-05-08 16:29:50 +0400, , util introduce strstartswith helper signed pavel emelyanov xemul parallels.com,,
6361,c473461d24fdfcd25542b427829a37fd2f0facb5,yrill Gorcunov <gorcunov@openvz.org>, 2014-05-26 11:50:15 +0400, , vdso make arch specific currently build vdso handling code arch provided source code common part inside pie vdso.c pie vdso stub.c vdso stub.c vdso.c well new linux kernel starting 3.16 presumably vdso significantly reworked every architecture must vdso handling engine like kernel doe patch move vdso code arch specific aarch64 actually implement proxification yet due kernel restriction drop kernel support bring back proper arch aarch64 implementation signed cyrill gorcunov gorcunov openvz.org acked alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
6362,676708e3b38798782794b3f20dd5d3c9db0e2d9b,yrill Gorcunov <gorcunov@openvz.org>, 2014-05-26 11:50:14 +0400, , vdso put config_vdso needed guard vdso code config_vdso need even build arch support vdso handling signed cyrill gorcunov gorcunov openvz.org acked alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
6363,89faae1e9b5aae20709eaf4bcf40bbd2904859e4,yrill Gorcunov <gorcunov@openvz.org>, 2014-05-26 11:50:13 +0400, , vdso dump drop duplicated include signed cyrill gorcunov gorcunov openvz.org acked alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
6364,46661cf8b2b77aa36650c5bb877a54ceb43dfcdb,yrill Gorcunov <gorcunov@openvz.org>, 2014-05-26 11:50:12 +0400, , vdso make export vdso config_vdso need figure architecture need vdso handling code built note currently x86 exporting vdso simply arm support yet ready signed cyrill gorcunov gorcunov openvz.org acked alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
6365,ff1cf6b2cad69a0f142bf00e3af16b22d62a65f0,ilipe Brandenburger <filbranden@google.com>, 2014-05-22 11:18:05 -0700, , zdtm add missing entry test zdtm .gitignore signed filipe brandenburger filbranden google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6366,5b14a32e353d42db14c27cd07faa62938a5ac401,ilipe Brandenburger <filbranden@google.com>, 2014-05-22 11:18:04 -0700, , zdtm keep entry test zdtm .gitignore sorted signed filipe brandenburger filbranden google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6367,733bbb337c84051766d6d810fe28aadff2c4686d,ilipe Brandenburger <filbranden@google.com>, 2014-05-22 11:18:03 -0700, , make use pthread linking lrt required linking statically also consistent rule zdtm test link lrt signed filipe brandenburger filbranden google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6368,81fe07e54dd3e306760123a57eae48ecf479b18b,ilipe Brandenburger <filbranden@google.com>, 2014-05-22 11:18:02 -0700, , make respect usercflags zdtm makefiles signed filipe brandenburger filbranden google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6369,2351d188c355a24a2a7c7a65c7c220802e8ff92b,ilipe Brandenburger <filbranden@google.com>, 2014-05-22 11:18:01 -0700, , make fix dependency make criu work without added dependency make criu fail trying build arch x86 crtools.d find include config.h extra dependency force config rule processed dependency criu evaluated signed filipe brandenburger filbranden google.com acked cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6370,c1c7d8984cff08f030ae28488178be112e90c483,ilipe Brandenburger <filbranden@google.com>, 2014-05-22 11:18:00 -0700, , make clean obj ext src object make clean needed lib rpc.pb removed make clean signed filipe brandenburger filbranden google.com acked cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6371,f0cbc301fc12b9fa4d69559437187a85e192111e,ndrey Vagin <avagin@openvz.org>, 2014-05-19 23:02:00 +0400, , mark vm_io vm_pfnmap vma unsupported vmsplice work vma flag set kernel function remap_pfn_range remap kernel memory userspace widely used device driver provide direct access device memory reported jgmb45 gmail.com cyrill gorcunov gorcunov openvz.org signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6372,19906f918278794b0a22ef44fa90959f7fabb3c5,yrill Gorcunov <gorcunov@openvz.org>, 2014-05-21 11:22:00 +0400, , fsnotify use mnt_id restoring mount mark bind mount present mountpoint mark laying device mountpoints might end getting wrong mountpoint instead used mount unique among mounpoints note fast fix need review fsnotify code make sure corner case covered http show_bug.cgi 2974 reported andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6373,9f415abdb73a66bf6aaf87152a2db9f31cf89b94,ilipe Brandenburger <filbranden@google.com>, 2014-05-21 00:51:44 +0400, , zdtm fix cow01 test fail system error add extra troubleshooting message error failure output help troubleshoot issue make error handling uniform using error e.g opening file reading pagemap etc failure data mismatch page cowed expected etc tested ran test criu version known problem cow problem read pagemap due dumpable flag preserved signed filipe brandenburger filbranden google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6374,8e1842aec126a1fc2eb7431a59fda5e8726bfdc0,ndrey Vagin <avagin@openvz.org>, 2014-05-14 17:35:53 +0400, , zdtm pty02 ignore sighup test proces open master slave point slave point becomes control terminal process test process fork second process first process close master point master point closed second process first one killed sighup reported victor konyashkin vkonyashkin parallels.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6375,5a14695777c48558b66a82145703af8ccac96177,ndrey Vagin <avagin@openvz.org>, 2014-05-14 17:35:20 +0400, , make make test executes make test directory test makefile know better execute test example allows execute test simultaneously signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6376,be10e0e1577e88690c072c57952ef8770340c293,ndrey Vagin <avagin@openvz.org>, 2014-05-14 17:34:41 +0400, , git update .gitignore signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6377,d5bb7e9748fda52a8653edd2804a4b15c4e4a1e1,ilipe Brandenburger <filbranden@google.com>, 2014-05-14 01:02:37 +0400, , dump preserve dumpable flag criu dump restore preserve dumpable flag affect whether core dump generated also affect ownership virtual file proc pid restoring process tested restored process criu including patch looked proc pid confirm virtual file longer owned root root zdtm test pas except cow01 seems broken see http show_bug.cgi 2967 detail patch fix http show_bug.cgi 2968 signed filipe brandenburger filbranden google.com change signed pavel emelyanov xemul parallels.com,,
6378,1a1b50168d4509e3e859fc7fb0f202d721dc20e1,ndrey Vagin <avagin@openvz.org>, 2014-05-14 01:00:31 +0400, , vma skip vmas searching parent vma stop searching vma start bigger required one coursor set last examined vma searching parent vma next vma start examine vma starting coursor next examine vma pointed cursor patch replaces reported filipe brandenburger filbranden google.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6379,c838494034f076173718b9f7a666d9fe3049de10,ndrey Vagin <avagin@openvz.org>, 2014-05-14 01:00:22 +0400, , mem stop searching parent vma found one parent vma one fix 57d25e7cea12 fix expression determine vma shared reported filipe brandenburger filbranden google.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6380,b57497ade51cd6f57ec7600f26ab4ef48d0be4bf,ndrey Vagin <avagin@openvz.org>, 2014-05-14 01:00:13 +0400, , mem fix typo determining address parent vma look hunk 7659c995f58f paddr decode_pointer vma paddr decode_pointer vma premmaped_addr obviously want use premmaped_addr instead vma premmaped_addr fix 7659c995f58f overwrite vma shmid private mapping reported filipe brandenburger filbranden google.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6381,ebd2e88c9a69dd25363b67e7df95bdb2da7bb8b3,yrill Gorcunov <gorcunov@openvz.org>, 2014-05-07 22:20:29 +0400, , zdtm maps05 test flood small vmas test big number small vmas survive main idea use big number iovs needed page transferring signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6382,d8e5f617b55a5160defcf3cd0a096415b91d65b1,yrill Gorcunov <gorcunov@openvz.org>, 2014-05-07 22:20:28 +0400, , mem shrink number iovs needed page transferring worst scenario need one iov every page transferring parasite thus divide two signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6383,85d366e8e375a8e7a5ed1a1be099104ee04541e5,ndrey Vagin <avagin@openvz.org>, 2014-05-07 22:20:27 +0400, , vdso scan map_growsdown vmas vdso never mapped map_growsdown first page growsdown vma may guard page attempt read suppressed sigbus signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6384,8a9e81b6466523cbbf819ec954185efe10bb15e6,yrill Gorcunov <gorcunov@openvz.org>, 2014-05-07 22:20:26 +0400, , parasite syscall print syscall_ip selected useful debugging signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6385,d513098f3cea4e8ec76794f97d57fc20d2c54ce8,avel Emelyanov <xemul@parallels.com>, 2014-05-12 14:20:17 +0400, , mount create kid clone_newns explicitly setns every single task hand restoring mount namespaces created without newns flag signed pavel emelyanov xemul parallels.com acked andrey vagin avagin parallels.com,,
6386,63c9478a4a590469686434cdaf04470b8d930770,ndrey Vagin <avagin@openvz.org>, 2014-05-05 14:50:00 +0400, , zdtm add new test case growdown vma test case creates two consecutive grows vmas hole  signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6387,20ec585916b658d1035f4a8f9cd8bdc17bf9c10b,ndrey Vagin <avagin@openvz.org>, 2014-05-05 14:50:00 +0400, , mem add guard page enough space currently add guard page second consecutive growsdonw vma even enough space wrong look following test output execute zdtm live static grow_map03 grow_map03 pidfile grow_map03.pid outfile grow_map03.out dump 3888 restore test zdtm live static grow_map03 result fail error test zdtm live static grow_map03 namespace dump log root git criu test dump grow_map03 3888 dump.log grep error end restore log root git criu test dump grow_map03 3888 restore.log grep error pie error pie restorer.c 465 unable remap 0x7f0da2c99000 0x7f46425fc000 pie error pie restorer.c 969 restorer fail 3888 00.035621 error restore.c 1590 restoring failed end error strace mremap 0x7fc3de5b6000 mremap_maymove mremap_fixed 0x7f38dd4e0000 einval invalid argument signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6388,3a9c6a3d375bcf0544429c8e3571f8a073d05ba8,ndrey Vagin <avagin@openvz.org>, 2014-05-05 14:26:00 +0400, , util use glibc macro generate device number dev_t format version macro worng macro define minor dev dev 0xff glibc function return __dev 0xff unsigned int __dev 0xff reported amey deshpande ameyd google.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6389,74a2cce189ef60b2f8c80eaf13a488d20c4f1098,yrill Gorcunov <gorcunov@openvz.org>, 2014-05-06 18:57:00 +0400, , page pipe increase page_pipe nr_pipes reuse pipe page pipe buffer may reused queued page dumped happen increase page_pipe nr_pipes timer regardless fact page buffer came worst scenario may lead incorrect eagain returned page_pipe_grow forcing calling code create new pipe critical fixed word page_pipe nr_pipes must track _really_ created pipe signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6390,54a996b0f3c75fc91b6311ca2d0c8a20bdf294fb,avel Emelyanov <xemul@parallels.com>, 2014-04-25 15:40:17 +0400, , criu version 1.3 rc1 made big step towards lxc container made support nested mount namespaces addressed attach issue also aarch64 support merged work still done good time show far thus 1.3 rc1 signed pavel emelyanov xemul parallels.com,,
6391,5d74f55d80021a73fb39154302f8a729d7809a1b,hristopher Covington <cov@codeaurora.org>, 2014-04-25 00:54:00 +0400, , say proc macro error possible procfs mounted somewhere proc use signed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
6392,0c89d779f93ea95398dfbcda079eb3ad2424c0ca,yrill Gorcunov <gorcunov@openvz.org>, 2014-04-24 22:57:57 +0400, , log include inttypes.h pri helper http show_bug.cgi 2949 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6393,74c0e9e20105e127967013e8a30880819f08b134,ndrey Vagin <avagin@openvz.org>, 2014-04-25 08:22:00 +0400, , check skip mnt_id support check mainstream kernel tun mnt_id signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6394,08960eb1fbc68bc8f2872061a2627ab82bc0a8af,ndrey Vagin <avagin@openvz.org>, 2014-04-24 00:35:00 +0400, , zdtm check mnt_id proc pid fdinfo nested mount namespaces checked fdinfo contains mnt_id signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6395,d4e4e577440b1a0c26e8909e3a956443c8b05015,avel Emelyanov <xemul@parallels.com>, 2014-04-23 17:40:39 +0400, , mnt get temp root path collecting data image signed pavel emelyanov xemul parallels.com,,
6396,5975c94e3c9629e59072e2e209f80353e3c6fd44,avel Emelyanov <xemul@parallels.com>, 2014-04-23 17:24:19 +0400, , zdtm add testing irmap cache generation signed pavel emelyanov xemul parallels.com,,
6397,a20011aca63edbbb9aca44e5b23a9030c7e35711,ndrey Vagin <avagin@openvz.org>, 2014-04-23 14:06:00 +0400, , initialize nsid rst_add_ns_id execute zdtm live static pipe00 pipe00 pidfile pipe00.pid outfile pipe00.out dump 3158 restore test zdtm.sh line 472 3173 segmentation fault core dumped setsid restore file lock tcp established reported jenkins criuovich signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6398,8d5822d9cb2dcaa86c065bb1c09ab90af812abd9,avel Emelyanov <xemul@parallels.com>, 2014-04-23 13:22:12 +0400, , mnt factor mntns nsid creation restore signed pavel emelyanov xemul parallels.com,,
6399,aca33ac402e2be17f38cb22a71b6f61b335a102b,avel Emelyanov <xemul@parallels.com>, 2014-04-23 13:10:21 +0400, , mnt add comment need criu mntns mount dump signed pavel emelyanov xemul parallels.com,,
6400,f22591c99a39ec24b9da93cbe08f340e87432731,avel Emelyanov <xemul@parallels.com>, 2014-04-23 03:01:21 +0400, , file check mount exist nsid lookup search mount case mnt_id given need twice 2nd time sanity check signed pavel emelyanov xemul parallels.com,,
6401,74357818f873d22a596b380131d6900f68198de6,avel Emelyanov <xemul@parallels.com>, 2014-04-23 02:51:11 +0400, , unix get root make usage natural signed pavel emelyanov xemul parallels.com,,
6402,8ef1d378bfc823f37164ac1fa76167bd9cb6fb3b,avel Emelyanov <xemul@parallels.com>, 2014-04-23 02:47:42 +0400, , mnt add comment tricky place signed pavel emelyanov xemul parallels.com,,
6403,3d11c6c0ed6cc535a73d6f4b05c517facff2343a,avel Emelyanov <xemul@parallels.com>, 2014-04-23 02:35:04 +0400, , mnt sanitize prepare_mnt_ns nsids loop signed pavel emelyanov xemul parallels.com,,
6404,68e2841a9b9d9d64ce1ebc58e9287093cc8c7a27,avel Emelyanov <xemul@parallels.com>, 2014-04-23 02:31:16 +0400, , mnt turn accepting mnt ns_id exception irmap operate well signed pavel emelyanov xemul parallels.com,,
6405,1c4f8fdcc200b04a5dec6885eb67ea7f9760321d,avel Emelyanov <xemul@parallels.com>, 2014-04-23 02:23:46 +0400, , remap keep nsid remap rollback pid logical remap file namespace pid also would help clean code signed pavel emelyanov xemul parallels.com,,
6406,d5e6a51bfe3542917fcc8cd10d28fb2b46968d79,avel Emelyanov <xemul@parallels.com>, 2014-04-23 01:49:34 +0400, , revert mnt merge two call collect_mntinfo early restore reverts commit collected mount list point nsid put nsid mntinfo_tree thus _should_ done separate call,,
6407,1435617c4004e8b5d0d06c4668b49e0799b9423b,avel Emelyanov <xemul@parallels.com>, 2014-04-23 01:38:58 +0400, , mnt rename _collect_root _get_root_fd nowadays routine mainly used getting rather keeping one future reference signed pavel emelyanov xemul parallels.com,,
6408,20003300d8cbd602f9f80e227338b614e43b062d,ndrey Vagin <avagin@openvz.org>, 2014-04-22 23:49:43 +0400, , mount remove extra call called time need get root specified namespace need call initializing global variable signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6409,4ec63d53e18bd80bfce06cfc701bab2a3cfa7a50,avel Emelyanov <xemul@parallels.com>, 2014-04-22 20:40:29 +0400, , rst lookup current mntns root one acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6410,79f3e9085610b75347d62364e4bb3a7ef1f66775,avel Emelyanov <xemul@parallels.com>, 2014-04-22 20:40:06 +0400, , rst argument acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6411,8472345d0a2e11712733631d1ab7eca67e5ac559,avel Emelyanov <xemul@parallels.com>, 2014-04-22 20:39:43 +0400, , rst forget close nsfd setns acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6412,f55a0b912c2bb105513b5f6e08a024958968ab9a,avel Emelyanov <xemul@parallels.com>, 2014-04-22 20:39:28 +0400, , mnt merge two call collect_mntinfo early restore acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6413,8550f52017ccf37000515f154d1479b287b83844,avel Emelyanov <xemul@parallels.com>, 2014-04-22 20:39:12 +0400, , mnt move local mntns collecting restore prepare_mnt_ns acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6414,05c02ddcf9026a7f0f160585d32d90ed9a29351c,avel Emelyanov <xemul@parallels.com>, 2014-04-22 20:38:54 +0400, , mnt move nsmask checking prepare_mnt_ns helper simpler next patch acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6415,908915889df4f00ffef27a0cc65c62e7e842ceda,avel Emelyanov <xemul@parallels.com>, 2014-04-22 20:38:34 +0400, , mnt sanitize collect mntinfo error path acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6416,f818065e48665e5c5c02cd17f3f5f7b26e85fe8a,avel Emelyanov <xemul@parallels.com>, 2014-04-22 20:38:16 +0400, , mnt mark fini_mnt_ns void arg acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6417,02f7c5c6248fa2ec749c80688f14b6837a915229,avel Emelyanov <xemul@parallels.com>, 2014-04-22 20:38:00 +0400, , mnt helper getting mntns root path acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6418,169dada87372e8e49017e57a387d2ff36ff07052,avel Emelyanov <xemul@parallels.com>, 2014-04-22 20:37:45 +0400, , mnt mark void arg acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6419,f4b7a6feddd345fc938f7625cdd1f5d54f6d5810,avel Emelyanov <xemul@parallels.com>, 2014-04-22 20:37:29 +0400, , mnt mark void acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6420,b08af3a90dd644ce29e79261782d7e0107818597,avel Emelyanov <xemul@parallels.com>, 2014-04-22 20:37:13 +0400, , mnt merge mnt dumping collecting code acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6421,33b7ec50342ac25c3393cf51d1df9649cf048e50,avel Emelyanov <xemul@parallels.com>, 2014-04-22 20:36:57 +0400, , mnt move collect list dumping routine helper next patch acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6422,88eef43e41609d7bf97d2c41282828a9ae9572e6,avel Emelyanov <xemul@parallels.com>, 2014-04-22 20:36:38 +0400, , mnt mark dump_mnt_ns static acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6423,f60109f272c614b356b4f449e04c69c52f5c1de9,avel Emelyanov <xemul@parallels.com>, 2014-04-22 20:36:21 +0400, , mnt check mnt dumping acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6424,d49fd40e55fdbf6c19506493a7a11859603c3874,avel Emelyanov <xemul@parallels.com>, 2014-04-22 20:36:03 +0400, , mnt sanitize code reading mnt image routine acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6425,4ffa79695dadbb1c13f9839b1066aff684e3865d,avel Emelyanov <xemul@parallels.com>, 2014-04-22 20:35:43 +0400, , mnt remove unneeded argument prepare_mnt_ns acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6426,bc312d3229af04ccfc97c2c80d2008fe1e7ec5b8,avel Emelyanov <xemul@parallels.com>, 2014-04-22 20:35:26 +0400, , mnt fix void argument reading mnt image helper acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6427,dd43b3c529ac2fd3925002cc6ed384166906728e,avel Emelyanov <xemul@parallels.com>, 2014-04-22 20:35:07 +0400, , mnt helper adding new set mountpoints global list acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6428,1009985e3078923248c25083ea32544870f75eb9,avel Emelyanov <xemul@parallels.com>, 2014-04-22 20:34:45 +0400, , collect check mnt collecting acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6429,443adb5a4553789b21a52dc5bdf718bfba97f30e,yrill Gorcunov <gorcunov@openvz.org>, 2014-04-22 00:33:29 +0400, , kcmp fix ret code comparison early draft kcmp syscall returning value finally merged kernel forgot update criu code good thing using rbtree kcmp result still sorted tree balanced sometime may take wrong branch generating new even object present tree eventually may lead dump faulure reported deyan doychev deyan 1h.com signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6430,85569e8dd488d17fbe47ab6aa403b5df3bb3dbe2,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:49 +0400, , mount prevent dumping nested mount namespace without mnt_id fdinfo know mnt_id know namespace file belongs signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6431,8620912d220dd23d6a773dd3a2febaa5aa943a3a,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:48 +0400, , check check mnt_id field fdinfo signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6432,a3ea8102ea01ab034265584b602e99fd5096439f,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:47 +0400, , zdtm check opened file second mntns signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6433,37924895b5986830ca52a6409a272ea265fe69e9,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:46 +0400, , mount open root twise signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6434,2f4be997b67a24e8a81ec2cb3f854bfc9a2e4599,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:45 +0400, , mount use per namespace mntinfo_tree patch remove global mntinfo_tree constructed mntinfo list filled dump_mnt_ns read_mnt_ns_img mountinfo entry contains reference proper ns_id entry cau use mnt_id look proper mount namespace remove trash rebasing signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6435,03c69251ab74cda1435b1d0d1fcaa8b05ed9bbce,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:44 +0400, , restore set buildinfo_tree mount namespace restore namespaces restored one tree pointer root tree set namespace find call trace used signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6436,380c0d67fea7e78e74f51a5b97d5cd41590bade5,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:43 +0400, , mount give list mount validate_mounts typo fix signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6437,fb3ce0fbeb67a96a3fb62f792ca9f2cf1fe40688,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:42 +0400, , mount prepare work without mnt_id kernel 3.15 show mnt_id mnt_id saved image mntns dumped signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6438,b6d3314c5464db38ac2275faa14dcd33bbca0547,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:41 +0400, , check collect mount current mntns used collecting unix socket signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6439,f1b4c5ea9f6905cbdbb5a1afb190ee6ae5c04974,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:40 +0400, , mount use per list mount point clean_mnt_ns free_mnt_ns going dump nested mount namespaces move mountinfo list namespace structure signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6440,26a0dc91dd56588cde33076dbfe3234d3994e374,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:39 +0400, , mount add function get temporary root mntns restore mount namespaces restored root mntns sub namecpeaces restored temorary place function allows get path place used called root task task forked yet signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6441,4e6e60a828dc8f27b799721586a8ca7bd2190ac2,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:38 +0400, , irmap irmap_lookup signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6442,3e50d70cd9174eb215fdbdab311cace6b4d888da,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:37 +0400, , mount going support nested mount namespaces file descriptor different namespaces namespace root must updated signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6443,1b3fa9bc25cab6e0fe8c368ce43deeed07f4264f,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:36 +0400, , mount set nsid mount point want look mntns mnt_id signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6444,5418938ec3b2f682bd267148a0480588cd98d810,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:35 +0400, , resotre collect mount current mntns required restoring current mntns signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6445,e827a695f3c24a4a20f257e2019a94c36a461232,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:34 +0400, , mount separate collect_mnt_ns dump_mnt_ns going support nested mntns global mntinfo_tree variable useless information tree connected proper namespace dump mntns need collect mount current mntns signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6446,9625ebe5961b762ce723a8f920e5a8bd6c6bd1ee,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:33 +0400, , mount move mount.c fill mntinfo list internal logic mount.c signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6447,cc1fd5760a0107516639f2931145b2ab5c2e9f36,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:32 +0400, , mount save mount tree namespace going support nested mount namespaces tree mount tree used checking file reachable signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6448,de4326a38279568345540b49ffb2868c498c4977,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:31 +0400, , mount return descriptor going support nested mount namespaces file opened one namespace root must collect file signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6449,36a9f31665e5c5ca42fe094969c11e65e735d375,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:30 +0400, , restore close proc_fd_off calling sigreturn proc_fd_off need close signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6450,22d384536d26fde83ee5a21e668a12bf9f41a9bd,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:29 +0400, , file generate accoding mnt_id st_dev st_ino one device mounted time file identical mnt_id signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6451,663946450366c1fcb281bee27240429a5fe5d95a,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:28 +0400, , file save mnt_id reg file signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6452,87b1f5408cf3ad5e5cbbf215792e24d175586f57,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:27 +0400, , file save mnt_id fd_param signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6453,9ea2baa2db90f66232c2b9e8ada374356e9ea44d,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:26 +0400, , zdtm reexec mountpoints test target mntns otherwise external file another namespace dumped signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6454,15a457bde828048fbaa06c686f5852c12153ab3f,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:25 +0400, , zdtm mark mount private one call signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6455,07216269027a4ab9cd2282509b589dd71d446ae1,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:24 +0400, , namespaces dump mount namespaces task want check file reachable need collect mount namespaces dump mntns separately signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6456,c51e91f6ec15b4289cede0565b18800fa6821ace,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:23 +0400, , zdtm mountpoints test nested mount namespaces signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6457,d2012883ab3f963bef6d006f71e0bbce43f2582f,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:22 +0400, , criu rename current_ns_mask root_ns_mask support sub mntns root_ns_mask sound correct current_ns_mask typo fix signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6458,4067f4bb7edea26be2daf8e1b87581f353ad6feb,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:21 +0400, , mount allow dump restore nested mount namespaces another attempt write readable code clean signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6459,3a291e33ff591094646a637de5469c523f62f1ed,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:20 +0400, , crtools restore nested mount namespaces known issue currently namespaces root supported nested namespaces dumped restored root task mount namespace nested namespaces restored root namespace temporary directory mount point restored one tree divided namesaces task minimal pid namespaces unshared mntns make pivot_root proper temporary directory task make setns enter mount namespace task minimal pid clean signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6460,e7e9c2ee6eca5b7c0ec1b117975407e0d703f5b1,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:19 +0400, , mount create temporary directory restoring non root mntns non root namespaces restored sub tree root tree patch add helper create temporary directory mount tmpfs create directory non root mount namespace tmpfs quite useful simplify destroying construction need unmount namespace separately add comment mnt_detach dangerous signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6461,fa14bd83f6d5104deb1a36a6ee3da402f8f9b47e,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:18 +0400, , mount read multiple mntns image restore read_mnt_ns_img splited two part first part enumirates namespaces call second part read proper image file signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6462,898335ba320fc24ed6c99c331ee61daa48620e13,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:17 +0400, , mount make sure namespaces root source currently support nested mount namespaces path root crtools mount root bind mounted namespaces signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6463,1edfe53b71b66fe24d8942ece606464d1269a181,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:16 +0400, , mount connect sub root main root child sub namespace restored sub tree root mntns parent sub mntns root root root mntns signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6464,84c48e62440270ce2fe62a8f8439da815829fc82,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:15 +0400, , mount mark root list mount point restore nested mount namespaces root one sub namespaces restored sub mount root mount namespace mountpoint even mount root mntns is_root is_ns_root signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6465,eac462922cd3a461e1688191c59bd9f17e4b6ed6,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:14 +0400, , restore add mount ns_ids list currently ns_ids list filled dump soon need list mount namespaces restore e.g know task share namespaces merge patch namespace add function search ns_id item one add prefix rst_ add_ns_id look namespace two value type signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6466,0989d3fdf9ae40ebac5750c262967e78c0db5c4c,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:13 +0400, , mount allow customize root path cr_pivot_root going restore nested mount namespaces need change root call chdir second time path may relative signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6467,d738cf3e0f6eab86266767c9e2a4722270cbbf64,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:12 +0400, , mount initialize root dumping mount namespace currently initialized root mount namespace going dump nested mount namespaces used open_mountpoint used dump_tmpfs callback signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6468,67456e90acb61fb8a93bb46f6ba7054e22f6c116,ndrey Vagin <avagin@openvz.org>, 2014-04-21 18:23:11 +0400, , mount close old service descriptor collect root several time row keeping old one required signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6469,e8ac085af8ffe9ee4d840e05e1b6f77add42722d,avel Emelyanov <xemul@parallels.com>, 2014-04-21 14:48:05 +0400, , revert crtools close desriptors root task race consider task share fdtable doe might situation restoring memory reading mem image forking child case descriptor held mem restore inherited get closed reverts commit,,
6470,4bd119ddf6291ec593b817fe2a0496d5c72ab00d,ndrey Vagin <avagin@openvz.org>, 2014-04-18 18:42:51 +0400, , clean dump_namespaces signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6471,ee9258e80f0b473a781ae4a6a1138f53aab1ea4b,ndrew Vagin <avagin@openvz.org>, 2014-04-17 15:04:01 +0400, , mount take account btrfs workaround converting st_dev phys_dev btrfs return subvolume dev instead superblock dev signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6472,b664bb142b78651a730baa82d5b6791d34e8d72e,ndrew Vagin <avagin@openvz.org>, 2014-04-17 15:04:00 +0400, , mount fill fstypes btrfs mount restore btrfs return subvolume dev instead superblock dev need know mount btrfs fstype name unsuppoerted fstype code saved image  .name unsupported .code   .name btrfs .code  second reason pocesses migrated smth btrfs happen _only_ root mount bind mount root mount ... signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6473,e01dc7faa6ea40209c7824fa3d594fd5bfc697f2,ikhomirov Pavel <snorcht@gmail.com>, 2014-04-16 17:05:00 +0400, , mem parent image persists rely bug cause e.g iterative snapshot made two new process process tree created page non dirty save image parent image page non soft dirty appear process page non dirty state fork child inherit pte child write page still non soft dirty state next dump come also bug catched error zdtm look simplify add justification commit message signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6474,8df879941df68fdb4e1e9f88eae843f462efd950,ndrey Vagin <avagin@openvz.org>, 2014-04-16 14:48:00 +0400, , mount save relative path mountpoint relative path absolute path dot beginning already use relative path restore patch add dump convinient needed add dot time want access mount point patch created temporary copy signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6475,946eadd598d0818bc366f3758532a85734b966b4,ndrey Vagin <avagin@openvz.org>, 2014-04-16 09:04:27 +0400, , mount open_mount instead logic two funñ tions mostly patch merges  signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6476,d07ed2049eb7ca03d528ca39f36ca861f4a127c6,ndrey Vagin <avagin@openvz.org>, 2014-04-16 09:04:26 +0400, , mount fix comparison stat.st_dev mount_info s_dev st_dev s_dev different format st_dev major dev minor dev s_dev major dev minor dev need convert one use kdev_to_odev signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6477,81999b709c1908b7f0bbed53d5e721d122d2335c,ndrey Vagin <avagin@openvz.org>, 2014-04-16 09:04:25 +0400, , mount open_mountpoint return file descriptro one function use dir see reason return signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6478,87a49bdfaf8f6bcaa47f5ba61c06f166b4053164,ndrey Vagin <avagin@openvz.org>, 2014-04-16 09:04:24 +0400, , servicefd add service current root already used dumping file used restoring service avoid intersection restored descriptor signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6479,302591aa05d9d443ed80a6a4d9724290c91e379e,avel Emelyanov <xemul@parallels.com>, 2014-04-15 22:00:28 +0400, , rlimits reshuffle new legacy restoration code done timer signed pavel emelyanov xemul parallels.com,,
6480,1d438db66d6f9b0faee037ba4d58588565c53d64,avel Emelyanov <xemul@parallels.com>, 2014-04-15 22:00:11 +0400, , rlimits move entry top core task core appeared latest 1.2 still possible move signed pavel emelyanov xemul parallels.com,,
6481,35e560de00a244760743f34785735a6e20cf32b7,avel Emelyanov <xemul@parallels.com>, 2014-04-15 21:59:55 +0400, , timer reshuffle new legacy restoration code make explicit check helper legacy image facilitate removal day future signed pavel emelyanov xemul parallels.com,,
6482,87da9b83cea99f86081366e49944b9b9c2366f1d,avel Emelyanov <xemul@parallels.com>, 2014-04-15 21:59:38 +0400, , posix timer clean restore code flow signed pavel emelyanov xemul parallels.com,,
6483,d48d6c7267f72334a51c7dede32443b120f02f8c,avel Emelyanov <xemul@parallels.com>, 2014-04-15 21:59:21 +0400, , posix timer helper freeing proc parsed data signed pavel emelyanov xemul parallels.com,,
6484,b54e340945e6cd073e363cb83742b67687f08f68,avel Emelyanov <xemul@parallels.com>, 2014-04-15 21:59:05 +0400, , core move posix timer core entry well give minus one image per task allocates space core task entry one thing note amount posix timer easily accessible core entry allocation time respective array allocated demand signed pavel emelyanov xemul parallels.com,,
6485,dfd5a62f38f6e6fe4a309d072e22203baa275db1,avel Emelyanov <xemul@parallels.com>, 2014-04-15 21:58:49 +0400, , core move itimers core allows one image per task turn reduces live migration time little bit signed pavel emelyanov xemul parallels.com,,
6486,0c06ad9d2c79879adaa2b326ac0a75635bfa9cea,avel Emelyanov <xemul@parallels.com>, 2014-04-15 21:58:31 +0400, , core introduce one hold info timer core_entry since timer always per task one task core entry signed pavel emelyanov xemul parallels.com,,
6487,9359084da990990dff87b9dcbdfe07581efb35f1,yrill Gorcunov <gorcunov@openvz.org>, 2014-04-14 23:04:00 +0400, , make protobuf fix deps generation generated source nit protobuf generation case harmless somethime may cause building procedure fail deps file generated source produced _all_ .proto file handled include header autogenerated well thus simply wait everything complete use compiler generate deps file typo non clean targes rather use proto obj object reported andrey vagin avagin parallels.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6488,72dd148a44806faabcd38eb4e6f8dd6d8055d418,ikhomirov Pavel <snorcht@gmail.com>, 2014-04-09 13:34:00 +0400, , zdtm add track mem final snapshot otherwize use check parent snapshot last one restore signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6489,b6c7f51c133b8e68fc0b55d1f1ac2578b61c2092,ikhomirov Pavel <snorcht@gmail.com>, 2014-04-09 13:34:04 +0400, , page xfer make err message reflect realy happen signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6490,70d9780ddd49e4f5af17a781a760bde2e189cf8e,ndrey Vagin <avagin@openvz.org>, 2014-04-11 15:21:00 +0400, , restore call close_old_fds mounting proc process restored new pidns close_old_fds open proc pid directory without patch see error like 00.333915 error util.c 102 unable close bad file descriptor signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6491,8d87596e139c647b2652ffb09bb7c0e01e4cc4b6,ndrey Vagin <avagin@openvz.org>, 2014-04-10 14:52:34 +0400, , zdtm check bind mount root mount signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6492,387161959a4898e812bf9056bde1522cdb4352a5,ndrey Vagin <avagin@openvz.org>, 2014-04-10 14:52:33 +0400, , mount dump restore bind mount root mount root mount external mount source signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6493,a19643e643c5b9bc151aaecf9f36989234b8ca4e,ndrey Vagin <avagin@openvz.org>, 2014-04-10 14:52:32 +0400, , mount cut common part source bind mount source root mount may equal need take fact account bind mount somewhere example 11877 bind mount pidfile bind mount.pid outfile bind mount.out dirname bind mount.test 11880 bind mount pidfile bind mount.pid outfile bind mount.out dirname bind mount.test root avagin fc19 crtools cat proc 11880 mountinfo root git crtools test relatime ext4 dev sda3 data ordered proc relatime proc proc dev relatime devpts mode 666 ptmxmode 666 root git crtools test zdtm live static bind mount.test test zdtm live static bind mount.test bind relatime ext4 dev sda3 data ordered mount bind mount mount root root git crtools test zdtm live static bind mount.test test root root git crtools test comman part root git crtools test command mount bind zdtm live static bind mount.test test zdtm live static bind mount.test bind signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6494,8135116a7132acda707b38c9aea00de5181c172a,ndrey Vagin <avagin@openvz.org>, 2014-04-01 16:51:00 +0400, , zdtm mount devpts newinstance flag signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6495,4fb51b89c53e46795ebebbd5c28542ec3b39c8ba,lexander Kartashov <alekskartashov@parallels.com>, 2014-04-10 09:30:48 +0400, , zdtm added aarch64 specific implementation bit operation signed alexander kartashov alekskartashov parallels.com reviewed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
6496,ff0a7c11349238ef7b75f5df402535f85d7bc926,lexander Kartashov <alekskartashov@parallels.com>, 2014-04-10 09:30:47 +0400, , implemented support aarch64 architecture aarch64 register checkpoint restore implementation christopher covington signed alexander kartashov alekskartashov parallels.com signed christopher covington cov codeaurora.org reviewed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
6497,c524562c2533411dc3af43d5957374de8a84e611,lexander Kartashov <alekskartashov@parallels.com>, 2014-04-10 09:30:46 +0400, , protobuf added description message store aarch64 cpu state message constructed spirit arm x86 one except two major point general purpose register stored variable length array uint64 architecture provides general purpose register make unfeasible create separate protobuf field since requires lot copy paste convert struct pt_regs protobuf message length array storing register checked architecture dependent criu code aarch64 simd register 128 bit long protobuf lack support integer size simd register stored array uint64 two consecutive element array represent single simd register signed alexander kartashov alekskartashov parallels.com signed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
6498,6f9de7cccdb396ab240bd9706fc219e18d8d828f,hristopher Covington <cov@codeaurora.org>, 2014-04-09 11:13:12 -0400, , sort x86_64 vdso entry alphabetically make comparison port easier signed christopher covington cov codeaurora.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6499,c1cd6b5e5fdb91f69c4562db63caac613092b27f,hristopher Covington <cov@codeaurora.org>, 2014-04-09 11:13:11 -0400, , allow dump stopped multithreaded process criu handle stopped multithreaded process thread stopped refine check allow case signed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
6500,2713b6a39cb4d5b492d3c4522fd32a3f24b13eb5,hristopher Covington <cov@codeaurora.org>, 2014-04-09 11:13:10 -0400, , make sure logrotate directory exists otherwise make install may fail signed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
6501,bed13a58ec816c24f3a9ca58473a86063bd255f5,ndrey Vagin <avagin@openvz.org>, 2014-04-09 03:34:54 +0400, , proc_parse parse mnt_id proc pid fdinfo used restoring file proper mount signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6502,8bcffef6b947afa6f3668142bc498c12bc0cd69c,ndrey Vagin <avagin@openvz.org>, 2014-04-09 03:34:53 +0400, , proc_parse parse fdinfo get flag going parse fdinfo getting mnt_id take flag call fcntl lseek signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6503,d36e07aabe073993d8ae9695e33f6e45b2eb6a21,ndrey Vagin <avagin@openvz.org>, 2014-04-09 04:13:29 +0400, , crtools close desriptors root task task unsed service descriptor closed change allows file descriptor may used restoring namespaces non server descriptor must closed restoring file signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6504,bb5bba53b8548b66a7d51a7e8068398dc308246e,yrill Gorcunov <gorcunov@openvz.org>, 2014-04-09 14:46:14 +0400, , parasie syscall use close_safe escape calling close negative cid 1042293 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6505,6df067c50ad206b9b6049e0668dba60e55c33dab,yrill Gorcunov <gorcunov@openvz.org>, 2014-04-09 14:46:13 +0400, , util make sure open successed opening dev null may fail check ret code cid 1168167 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6506,708abf40b8ec745908baa5189827fed0da54b747,yrill Gorcunov <gorcunov@openvz.org>, 2014-04-09 14:46:12 +0400, , namespaces use long value check uint_max condition bug_on kid uint_max kid unsigned int never bigger uint_max use unsigned long instead cid 1042296 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6507,5d4e86ae8ab070a0605aea081b36cc771bb90640,ndrey Vagin <avagin@openvz.org>, 2014-04-07 14:00:12 +0400, , util print error send_fds signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6508,4e1d81deb6a4e1442dc8ca3df2084346fa8485a1,ndrey Vagin <avagin@openvz.org>, 2014-04-07 23:32:00 +0400, , dump allocate dfds near place used signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6509,5e33a31c9341b33c61bc63b63948f0cf3ffc89ff,lexander Kartashov <alekskartashov@parallels.com>, 2014-04-05 16:08:00 +0400, , sigframe cast pointer field ucontext uc_sigmask k_rtsigset_t type field ucontext uc_sigmask k_rtsigset_t struct ucontext imported system header rather provided architecture specific header signed alexander kartashov alekskartashov parallels.com andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6510,a75d39613fc609315c0d352967eb21cde982788e,lexander Kartashov <alekskartashov@parallels.com>, 2014-04-05 16:08:00 +0400, ," collect short integer alias single place patch move file arch arch include asm int.h include asm generic int.h make type 8,16,32 alias fixed sized integer type int 8,16,32 make possible use single set integer typedefs architectural port signed alexander kartashov alekskartashov parallels.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com",,
6511,33a50cfdc83a24bca7b40d154c37547497937e52,ndrey Vagin <avagin@openvz.org>, 2014-04-02 11:12:00 +0400, , mount detect newinstance option devpts devpts instance mounted newinstance option device number equal root dev think condition strong enough mount devpts temporary place move host.bla bla bla kerndat.c signed andrey vagin avagin openvz.org reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6512,963f8a062c95ddf993544b029e86261fa3967611,amie Liu <jamieliu@google.com>, 2014-04-05 02:54:00 +0400, , file reg fix criu fix filemap open permission fix two issue efe594f8f421 criu fix filemap open permission permission file open file descriptor mapping restore compatibility dump created previous version criu signed jamie liu jamieliu google.com signed pavel emelyanov xemul parallels.com,,
6513,4848ef660f39c3f5ce463f730222e330427d32e8,amie Liu <jamieliu@google.com>, 2014-04-03 04:53:00 +0400, , zdtm fix integer literal type bug maps03 maps03 caught bug fixed 288cf5174165 restore mutate tgt_addr map_private_vma integer literal defaulting bit ints shifted range signed jamie liu jamieliu google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6514,13371c6a85e1eac63c7325511a3fe23dd2173e60,amie Liu <jamieliu@google.com>, 2014-04-04 02:04:00 +0400, , zdtm add maps_file_prot test bug fixed criu fix filemap open permission signed jamie liu jamieliu google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6515,efe594f8f421b23a4e131ef80796c5b7b2bad4c3,amie Liu <jamieliu@google.com>, 2014-04-04 12:04:00 +0400, , criu fix filemap open permission mmaped file opened o_rdonly o_rdwr depending permission first vma dump_task_mm encounter mapping file cause two problem file multiple map_shared mapping read read write first encountered mapping happens read file opened o_rdonly restore mmap prot_write fail eacces causing restore fail file opened read write mapped read opened o_rdonly restore restore succeed mprotect prot_write read mapping restore fail fix record open flag per vma based presence vm_maywrite smaps signed jamie liu jamieliu google.com signed pavel emelyanov xemul parallels.com,,
6516,288cf517416576f995756324e903c2e60bdcedaf,amie Liu <jamieliu@google.com>, 2014-04-01 21:40:00 +0400, , restore mutate tgt_addr map_private_vma return value map_private_vma size mapped vma unfortunately return value map_private_vma int resulting breakage size exceeds bit change map_private_vma return error code mutate addr place signed jamie liu jamieliu google.com signed pavel emelyanov xemul parallels.com,,
6517,777255fb2cd86343c3ad5fb5a581d012926001d5,yrill Gorcunov <gorcunov@openvz.org>, 2014-03-31 23:04:00 +0400, , file predump_one_fd use direct read pid link using o_path known buggy 3.11 kernel use direct link reading procedure signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6518,35ed09fe53239e48ee4121c306d70d7eb6cd879b,ndrey Vagin <avagin@openvz.org>, 2014-04-01 15:46:00 +0400, , file print correct minor number unsupported character device signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6519,e1d43c4f8e69336e5bb747fd11d9b234a5004b19,yrill Gorcunov <gorcunov@openvz.org>, 2014-03-27 16:43:00 +0400, , lib criu test nil malloc strdup call otherwise nil dereference possible signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6520,a7fb6a1f4192e29587708d139ef081004e94075b,ndrey Vagin <avagin@openvz.org>, 2014-03-31 22:00:00 +0400, , restore call post restore script network unlock post restore script fail called network unlock signed andrey vagin avagin openvz.org reviewed cyrill gorcunov gorcunov gmail.com signed pavel emelyanov xemul parallels.com,,
6521,0bae3bc1813cc9acbde560729897948cd00883b0,yrill Gorcunov <gorcunov@openvz.org>, 2014-03-25 01:30:11 +0400, , make config add testing libbsd installed signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6522,5f00a9ca40c3e4e023965c30a129a59fcb8ffcf7,yrill Gorcunov <gorcunov@openvz.org>, 2014-03-25 01:30:10 +0400, , make config allow pas library try libbsd testing signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6523,69a6bf4439a9e77d0cd3f3b4840209baac815900,eyan Doychev <deyandoichev@gmail.com>, 2014-03-22 20:14:00 +0400, , criu add exec cmd option exec cmd option specifies command execvp successful restore way command specified become parent process restored process tree waiting restored process finish responsibility command service fds closed call execvp standad output error command redirected log file restoring rpc service option used restoring linux container seems helpful perf use case restored process must supervised parent two direction researched order integrate criu lxc tell criu restoring container execve lxc properly explaining new container hanging around make lxc set child subreaper fork criu ask detach restore container afterwards subreaper get container init child list main reason choosing first option second one work rpc service call restore via service criu service top task hierarchy able reparent restore tree task system calling execve service worker sub task daemonizing solve signed deyan doychev deyandoichev gmail.com signed pavel emelyanov xemul parallels.com,,
6524,fb67795a6df3cfbe91df705c07618c2c570c61f0,yrill Gorcunov <gorcunov@openvz.org>, 2014-03-21 12:04:35 +0400, , make config drop try build helper need also add defines try define number thing variable better pas test conditional compilation signed cyrill gorcunov gorcunov openvz.org tested ruslan kuprieiv kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6525,796a34d1a26dfe26658525a535e7add63ae3ce90,yrill Gorcunov <gorcunov@openvz.org>, 2014-03-21 12:04:34 +0400, , make config drop unneeded code test signed cyrill gorcunov gorcunov openvz.org tested ruslan kuprieiv kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6526,4d279b09f0aa49b4b0f50ce4e8a16779716b1390,yrill Gorcunov <gorcunov@openvz.org>, 2014-03-21 12:04:33 +0400, , make config drop redundant comma try call take two argument note error since even reference third argument consistent clear signed cyrill gorcunov gorcunov openvz.org tested ruslan kuprieiv kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6527,c5afed0685377b813fd4e4a835a00548aa2c3a92,ndrey Vagin <avagin@openvz.org>, 2014-03-20 16:45:46 +0400, , mount clean propogation option root mount currently mark mount private restoring mntns avoid problem pivot_root wrong root mount slave external shared group root mount mounted criu nothing wrong look pivot_root code kernel is_mnt_shared old_mnt is_mnt_shared new_mnt mnt_parent is_mnt_shared root_mnt mnt_parent goto out4 need change option mount need remount parent new root safe already another mntns simplify code signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6528,f6210232105e60a7b939362c5e606a63069f4534,ndrey Vagin <avagin@openvz.org>, 2014-03-20 17:30:41 +0400, , mount execute propagation logic root mount root mount always private example mounted slave lxc 1.0 container need execute logic propogation root mount move logic root mount separate function make code readable do_mount_root look like do_ _root function reported david shwatrz dshwatrz gmail.com david shwatrz dshwatrz gmail.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6529,5e7d4bb0c1eb9778a4c343f4e7fba84123ec6867,ikhomirov Pavel <snorcht@gmail.com>, 2014-03-19 17:13:00 +0400, , page read remove redundant initialisation previous init parent line 220 signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6530,714c27fc11bceac31465b0576d8505044e722544,eyan Doychev <deyandoichev@gmail.com>, 2014-03-19 21:59:00 +0400, , libcriu add criu_set_root interface function implement root command line option libcriu signed deyan doychev deyandoichev gmail.com reviewed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6531,3844cb9beee8152a3d9b19baee5591a6d97fc5de,ndrey Vagin <avagin@openvz.org>, 2014-03-18 15:31:00 +0400, , mount check bondaries current code think lxc centos x86_64 root lxc centos x86_64 path equal mountpoint need check path contains slash mountpoint signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6532,7535c3909acf706ea1dfc564ee7f5628dc287e0f,lexander Kartashov <alekskartashov@parallels.com>, 2014-03-18 21:14:15 +0400, , vdso.c share pie part vdso proxy machinery architecture patch split file arch x86 vdso pie.c machine dependent machine independent part moving routine vdso_proxify vdso_remap file pie vdso.c arm version routine moved source pie vdso stub.c provide vdso proxy stub implementation architecture provide vdso signed alexander kartashov alekskartashov parallels.com look good cyrill gorcunov gorcunov openvz.org reviewed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
6533,3ce2f87871fdfc16bbd615e866f95961e7b8e87a,lexander Kartashov <alekskartashov@parallels.com>, 2014-03-18 21:14:14 +0400, , vdso wrap vdso elf identifier symbol name table definition macro variable architecture specific appear upcoming generic version routine first glance seems better make variable global reference external generic version routine however experiment vdso restore routine aarch64 showed aarch64 compiler got access variable rendering blob unrelocatable signed alexander kartashov alekskartashov parallels.com look good cyrill gorcunov gorcunov openvz.org reviewed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
6534,9b42926445f4260427e50971b2af5b72a1aac3cb,lexander Kartashov <alekskartashov@parallels.com>, 2014-03-18 21:14:13 +0400, , vdso rename vdso_symbols patch make name vdso symbol name table bit appropriate generic version routine signed alexander kartashov alekskartashov parallels.com look good cyrill gorcunov gorcunov openvz.org reviewed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
6535,19c6534d86f6759ba7f9f69a8525c46a1201ce29,lexander Kartashov <alekskartashov@parallels.com>, 2014-03-18 21:14:12 +0400, , vdso make vdso symbol name architecture specific patch move enum vdso_symbol_ macro vdso_symbol_ _name x86 specific header since different architecture export different symbol vdsos signed alexander kartashov alekskartashov parallels.com look good cyrill gorcunov gorcunov openvz.org reviewed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
6536,9e6a062c438ee436e83b8f42b6498149ac0747cd,lexander Kartashov <alekskartashov@parallels.com>, 2014-03-18 21:14:11 +0400, , vdso share vdso proxy initialization architecture patch split file arch x86 vdso.c machine independent machine dependent part moving routine vdso_init file vdso.c routine seems suitable architecture supporting vdso arm version routine moved source vdso stub.c supposed vdso proxy stub implementation architecture provide vdso build script adjusted well enable selection full fledged stub vdso proxy implementation signed alexander kartashov alekskartashov parallels.com look good cyrill gorcunov gorcunov openvz.org reviewed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
6537,7c42c9b5b649ad318f47ee8b2d76af4546606939,lexander Kartashov <alekskartashov@parallels.com>, 2014-03-18 21:05:00 +0400, , generalize type store value register supported machine architecture provide stogares different size size storage x86 byte arm byte upcoming aarch64 byte mean every supported architecture need specific type store value register patch reworks insterface routine arch_get_tls restore_tls passing storage pointer rather value simplify stub x86 signed alexander kartashov alekskartashov parallels.com reviewed cyrill gorcunov gorcunov openvz.org reviewed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
6538,c4979e9cec52ef05c4d6f66e2d1008ea56917186,ndrey Vagin <avagin@openvz.org>, 2014-03-18 15:36:34 +0400, , page read initialize parent null example allocates page_read structure stack pavel emelyanov xemul parallels.com reported jenkins criuovich signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6539,08e0b1de20a171fa3b724e56584f011e9443c031,yrill Gorcunov <gorcunov@openvz.org>, 2014-02-18 15:04:00 +0400, , test bers initial commit bers stads berserker eat computer resource emulating load criu performance testing still far complete trivial thing generate mmap memory dirtified open file nothing serious signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6540,5a6e9b17c1e25f220ae98002aae935d6bd8214ae,ikhomirov Pavel <snorcht@gmail.com>, 2014-03-14 10:16:56 +0400, , zdtm test auto dedup restore final size page image zero dedup work use bash test zdtm.sh auto dedup bash test zdtm.sh auto dedup static maps04 bash test zdtm.sh auto dedup transition maps007 change aplicable test changed auto dedup simplify check private page image check shmem image shmem patch set acked andrew vagin avagin parallels.com signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6541,8ffd35877f85267bd508f3a167242e09522eebbe,ikhomirov Pavel <snorcht@gmail.com>, 2014-03-14 10:16:55 +0400, , dedup make bunched auto deduplication restore shmem use open_page_read open image signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6542,670d1ce85674bd218d5c0dd2c2e4c01843b0743b,ikhomirov Pavel <snorcht@gmail.com>, 2014-03-14 10:16:54 +0400, , page read rework open_page_read use shmem restore signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6543,1153f225ffb83697157044a3d7cfb1689967b484,yrill Gorcunov <gorcunov@openvz.org>, 2014-03-14 17:38:00 +0400, , image add o_opt trying open optional image file time file become obsolete might missing checkpoint image set keep backward compatibility still trying open might print error like unable open path file confuse reader criu print error continue working eliminate problem o_opt flag introduced commit 16b5692061e2 suppress error message priting flag set start using o_opt following function irmap cache relatively new optional feature prepare_rlimits prepare_fd_pid prepare_mm_pid collect_image helper trying open image file missing signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6544,5f433a6e81cf04c105cf2c019f9e284c1282d36d,yrill Gorcunov <gorcunov@openvz.org>, 2014-03-14 18:38:00 +0400, , pstree define rlim_nlimits machine got protobuf.o pstree.c function pstree.c error rlim_nlimitsâ undeclared first use function due old kernel header note dropped bug_on localize thing pstree code need sprinkle constant reported pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6545,ff50ef3b211cdf8b346edcd6c8062ac723e5aec7,yrill Gorcunov <gorcunov@openvz.org>, 2014-03-14 17:57:00 +0400, , image.h include fcntl.h distros rpi provide o_path definition include fcntl.h thus hit compilation problem like image.o image.c function open_image_atâ image.c 187 error o_pathâ undeclared first use function reported pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6546,57825f65009963ca87a037fcb05770c609231d15,avel Emelyanov <xemul@parallels.com>, 2014-03-14 15:46:42 +0400, , rlims unscrew core rlimits assignment array element rlimitentry properly initialized need additional memcpy size check signed pavel emelyanov xemul parallels.com,,
6547,bf76aa206849feb59e2ffeecc22377174beb0169,yrill Gorcunov <gorcunov@gmail.com>, 2014-03-13 16:17:30 +0400, , rlimit move cr_fd_rlimit _cr_fd_task thu mar 2014 50pm 0400 cyrill gorcunov wrote  image deprecated move _cr_fd_task thus even generating dump  signed cyrill gorcunov gorcunov openvz.org updated mon sep 2001 cyrill gorcunov gorcunov openvz.org date thu mar 2014 0400 subject patch rlimit move cr_fd_rlimit _cr_fd_task image deprecated move _cr_fd_task thus even generating dump signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6548,79a88ae0ddfe25649ffe291e81f64e6da1455173,yrill Gorcunov <gorcunov@openvz.org>, 2014-03-13 14:30:49 +0400, , rlimit stop writting old rlimits image entry using new image format old image file still generated addressed next patch signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6549,b478b2fb2f6fa2212ce552d7c2022839634082b1,yrill Gorcunov <gorcunov@openvz.org>, 2014-03-13 14:30:48 +0400, , rlimit restore rlimist core data save backward compatibility try read data old image core entry rlimits bound signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6550,fd823848661b70921180a573c5d85ac555c385fc,yrill Gorcunov <gorcunov@openvz.org>, 2014-03-13 14:30:47 +0400, , rlimit dump task rlimits core entry note restore remains addressed later signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6551,d2e30bcce830ed48980fdf4af75bc99b8fedbd91,yrill Gorcunov <gorcunov@gmail.com>, 2014-03-13 17:17:26 +0400, , rlimit allocate free appropriate core entry thu mar 2014 37pm 0400 pavel emelyanov wrote  would rework patch top recent allocate core xmalloc call one attached mon sep 2001 cyrill gorcunov gorcunov openvz.org date thu mar 2014 0400 subject patch rlimit allocate free appropriate core entry signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6552,2341cd1f08903ad813733a5e6affc26f935be57e,yrill Gorcunov <gorcunov@openvz.org>, 2014-03-13 14:30:45 +0400, , rlimit protobuf add task_rlimits member core carry rlimits inside core instead separate image signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6553,16b5692061e221272926994320a75304b0493ba4,yrill Gorcunov <gorcunov@openvz.org>, 2014-03-13 16:06:37 +0400, , image open_image_at add o_opt flag allows distinguish situation image opened missing optional thus error message printed signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6554,f059235523184fe63ccb4203aeb51663d8af3764,avel Emelyanov <xemul@parallels.com>, 2014-03-14 15:43:02 +0400, , x86 fix compiler warning arch x86 crtools.c function arch x86 crtools.c 271 error with_xsaveâ may used uninitialized function werror uninitialized actually with_xsave with_fpu dependant gccs guess fact signed pavel emelyanov xemul parallels.com,,
6555,adf06b94cf5b7dcc146b4585a63e5f435016d4dd,avel Emelyanov <xemul@parallels.com>, 2014-03-14 15:33:02 +0400, , core free allocated thread_info signed pavel emelyanov xemul parallels.com,,
6556,f3b84d285ec2781ec1d80f3565d150c65b017b97,avel Emelyanov <xemul@parallels.com>, 2014-03-13 15:23:33 +0400, , core allocate x76 core entry single almost xmalloc signed pavel emelyanov xemul parallels.com,,
6557,2616c87d9fff6a0a98e4542b35d4d847be921fbe,avel Emelyanov <xemul@parallels.com>, 2014-03-13 15:23:12 +0400, , core allocate coreentry except arch single xmalloc signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
6558,307a5e1027881016eb605dfeb4220909c417eea8,ndrey Vagin <avagin@openvz.org>, 2014-03-13 16:16:43 +0400, , pre dump avoid sleeping open syscall example opening fifo block end opened also use o_path avoid sleeping open call signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6559,5b564db91e17e29fdeb75e929e46e9ac03a77c7e,ndrey Vagin <avagin@openvz.org>, 2014-03-11 19:18:00 +0400, , namespace move struct ns_id namespace.h going used restoring namespaces example need enumirate ns_ids list restoring mount namespaces signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6560,ee71c396fa36ce4041598074d51e9258f9aefae4,avel Emelyanov <xemul@parallels.com>, 2014-03-12 00:20:22 +0400, , bitops add comment generic bitops header usage signed pavel emelyanov xemul parallels.com,,
6561,01c7a87988c6c5b68702bba1bc9e337577ec2942,lexander Kartashov <alekskartashov@parallels.com>, 2014-03-10 12:51:00 +0400, , asm convert arm implementation bit operation reference implementation bit operation arm actually architecture specific would rather shared upcoming port aarch64 provide optimized implementation bit operation signed alexander kartashov alekskartashov parallels.com reviewed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
6562,6823c00ea0302de5514b2f0b509424079fb804c7,lexander Kartashov <alekskartashov@parallels.com>, 2014-03-10 12:51:00 +0400, , documentation remove linker command line switch static final step described cross compilation guide static linking binary criu supported reported riya khanna riyakhanna1983 gmail.com signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
6563,41bd5da8f80d00eb550c491328db95aa68326759,lexander Kartashov <alekskartashov@parallels.com>, 2014-03-10 12:51:27 +0400, , arm prepare syscall table generation script shared aarch64 signed alexander kartashov alekskartashov parallels.com reviewed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
6564,16ebfa1656088fa00b9c4b25d86c65f8a376238d,lexander Kartashov <alekskartashov@parallels.com>, 2014-03-10 12:51:21 +0400, , arm parasite implement arch_get_tls patch simplify routine interface change following patch signed alexander kartashov alekskartashov parallels.com reviewed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
6565,a247426ca18f2caa791ee6e1a387189494f4c270,yrill Gorcunov <gorcunov@openvz.org>, 2014-03-11 22:20:13 +0400, , fsnotify fix nil dereference call fsn_params mut null otherwise get nil dereference fix passing real variable instead reported pavel tikhomirov snorcht gmail.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6566,485766bc388ee715aa3256f6c2e551a3be8f0790,ndrey Vagin <avagin@openvz.org>, 2014-03-11 22:17:17 +0400, , zdtm check posix_timer sival_ptr null regresion test cae commit author andrey vagin avagin openvz.org date tue feb 2014 0400 posix timer take account sival_ptr null signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6567,8d8d638454ab3677c0832c76668b8a78ef46ee27,aied Kazemi <saied@google.com>, 2014-03-11 10:36:07 +0400, , pie fix pie.lds.s.in script work gold linker pie.lds.s.in need two minor change work gold usr bin gold linker change compatible usr bin make linker script portable first change adding comma discard grammar ambiguous otherwise gold treat part assignment would generate syntax error unexpected second change moving initialization inside section command reference dot symbol otherwise gold would generate error invalid reference dot symbol outside section clause signed saied kazemi saied google.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6568,21be99515a404779ece6842c286e02f16f9432b7,avel Emelyanov <xemul@parallels.com>, 2014-03-07 17:51:38 +0400, , dedup plring iov len ulong format fix previous patch signed pavel emelyanov xemul parallels.com,,
6569,0176b8afd0d0330df3e51c9a928cfa4395ac0169,avel Emelyanov <xemul@parallels.com>, 2014-03-07 16:49:00 +0400, , dedup print iov len formap signed pavel emelyanov xemul parallels.com,,
6570,343d7c824dd25e5e343853300e94f0e760e6db49,avel Emelyanov <xemul@parallels.com>, 2014-03-07 16:46:16 +0400, , irmap add lib udev hint fake path logging signed pavel emelyanov xemul parallels.com,,
6571,997c6dd479fb4ed90fc3a3368bc076d1c6073551,avel Emelyanov <xemul@parallels.com>, 2014-03-07 16:45:33 +0400, , fsnotify scan irmap tempfs path resolved via proc even asked force irmap try via regular resolve anyway signed pavel emelyanov xemul parallels.com,,
6572,909c5d7fabc797f2d8de8601f6fb2af8b1b5c6f3,avel Emelyanov <xemul@parallels.com>, 2014-03-07 14:41:24 +0400, , dedup print punch offset format signed pavel emelyanov xemul parallels.com,,
6573,fed36de04920f55cf6c6b97791b2188b1100d81f,avel Emelyanov <xemul@parallels.com>, 2014-03-07 14:40:05 +0400, , dedup cleanup checking whether batch punching signed pavel emelyanov xemul parallels.com,,
6574,32a48b67b73b87d66a56c55725c6737d625ead27,ikhomirov Pavel <snorcht@gmail.com>, 2014-03-07 14:31:29 +0400, , deduplication bunch neighbour data punch together decide data longer needed two case data neighbour previous block needed data extend bunch block hold begining size concequent needed data length curent block next data neighbour bunch block bunch block size bigger max_bunch_size punch bunch block set bunch block curent block end make cleanup punch last bunch block change punch_hole take whole page_read make restriction precise signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6575,8ed215d2525c6970387e4d90ac4afcd5fb95589f,yrill Gorcunov <gorcunov@openvz.org>, 2014-03-06 21:32:15 +0400, , proc_parse borrow vmi iif file referenced otherwise migh propagate previous vfi status vmas actually match 00.005471 0x2b79227d6000 0x2b79227d8000 prot 0x5 flag 0x22 reg vdso shmid 00.005473 0x2b79227d8000 0x2b79227da000 prot 0x3 flag 0x22 reg vdso shmid 00.005475 0x2b79227f1000 0x2b79227f2000 prot 0x3 flag 0x22 reg vdso shmid 00.005476 0x2b79227f2000 0x2b79227f4000 prot 0x3 flag 0x22 reg vdso shmid tested pavel tikhomirov snorcht gmail.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6576,c3d71138ec6a82ce3273b0c7002b6d2b41f82d1d,ikhomirov Pavel <snorcht@gmail.com>, 2014-03-06 16:52:40 +0400, , deduplication fix bug auto dedup page server need check write local anyway appeared page server saving page image true auto dedup started image null expected signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6577,9db426a7cde2ca6f3bbd1794b555c31f5217c2bd,avel Emelyanov <xemul@parallels.com>, 2014-03-06 15:14:04 +0400, , irmap properly compare stat proc device s_dev value see irmap get proc file raw kernel dev_t compare value device get stat syscall old style dev_t bit minor thus need convert kernel dev_t stat dev_t proper comparison signed pavel emelyanov xemul parallels.com,,
6578,edde5fb46163c458798de7bff9485802880f1ea7,avel Emelyanov <xemul@parallels.com>, 2014-03-06 14:56:03 +0400, , irmap add option force fsnotify watch path resolve migrating container copying inode number thus handle wil change make restore inotify fanotify fail since via fhandles already faced problem fsnotifies nfs work address irmap cache created pre dump resolve issue changed inodes migration force irmap cache build signed pavel emelyanov xemul parallels.com,,
6579,5da52f6aecf0798bd3f3084fbcc30c419affa441,avel Emelyanov <xemul@parallels.com>, 2014-03-06 13:09:56 +0400, , page xfer expect page server cmd read one call standard way msg_waitall flag work even tcp socket signed pavel emelyanov xemul parallels.com,,
6580,eaee604238dc416230bfda247de83668a50fdeb4,avel Emelyanov <xemul@parallels.com>, 2014-03-04 22:18:17 +0400, , revert util add bin path spawning helper reverts commit andrey fix create mount point dropping old mount going pivot_root patch needed signed pavel emelyanov xemul parallels.com,,
6581,e61259a82f26168a1e29c322973dee1abcbfca4a,ndrey Vagin <avagin@openvz.org>, 2014-03-04 22:01:17 +0400, , mount mark mount private one place done restoring mount tree patch part series moving pivot_root committed signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6582,f0b5bedfa50a810f1cd15a0bccf52efcf0f0118e,yrill Gorcunov <gorcunov@gmail.com>, 2014-02-28 18:59:55 +0400, , libcriu add helper setup cpu capability mask signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6583,09c810142cedbe20910afa4ba522f7e388695e60,yrill Gorcunov <gorcunov@openvz.org>, 2014-02-28 18:02:18 +0400, , service add setup cpu_cap rpc request signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6584,073c0bca6de6ccae18cfc01635d656930740f71a,yrill Gorcunov <gorcunov@openvz.org>, 2014-02-28 18:02:17 +0400, , protobuf rfc add cpu_cap option signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6585,223a998265e7d5f1007efab7133a6e9da154768e,ndrey Vagin <avagin@openvz.org>, 2014-02-28 18:39:52 +0400, , zdtm tempfs check overmounted part restored check plain file opened tempfs signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6586,226945460f4911c6b04cf4278f61cd9c5618ecc0,ndrey Vagin <avagin@openvz.org>, 2014-02-28 18:39:51 +0400, , mount make pivot_root restoring mount point using tar resting tmpfs currently execute tar restored root nobody guarantee really tar reason change root early let live source root long sure consistent http show_bug.cgi 2870 remove redundant chdir signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6587,31f2f795198c7e26c541a4a1beb42ac6fa41b182,ndrey Vagin <avagin@openvz.org>, 2014-02-28 18:39:50 +0400, , mount use relative path mountpoints going restore mount changing root current dir changed new root mount restored relative path use snprintf signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6588,245fa6ea56bc8a1cc27290c40c8a69b629355517,ndrey Vagin <avagin@openvz.org>, 2014-02-28 18:39:49 +0400, , mount change cwd root restoring mntns going make pivot_root restoring mount name space relative path used mountpoints print correct root error message signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6589,7e096fb1c9bf3abf0da979d2ea0630fd76877625,avel Emelyanov <xemul@parallels.com>, 2014-02-28 16:20:38 +0400, , xfer print warning abount non flushed data case error signed pavel emelyanov xemul parallels.com,,
6590,391e4bd7b930b17cefc2e478e20750ae830824bc,avel Emelyanov <xemul@parallels.com>, 2014-02-28 15:19:19 +0400, , page read sanitize opening routine signed pavel emelyanov xemul parallels.com,,
6591,6c0bed950ada3c50423591c6ed70a8dca2a78ba7,ikhomirov Pavel <snorcht@gmail.com>, 2014-02-21 18:42:48 +0400, , deduplication add auto dedup option description signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6592,f65714de1b78e31b4849705c7e9d0ce53aeb756a,ikhomirov Pavel <snorcht@gmail.com>, 2014-02-19 18:56:33 +0400, , test auto dedup restore use maps04 tmpfs check size page image zero end signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6593,0766cf39c0dc8f8e66e8d38ebc3109414237b37d,ikhomirov Pavel <snorcht@gmail.com>, 2014-02-19 18:56:32 +0400, , test auto deduplication restore signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6594,f0a6d32cd4a771a29135a917e98ba0f8d2f031fc,ikhomirov Pavel <snorcht@gmail.com>, 2014-02-19 18:56:31 +0400, , deduplication add auto dedup restore option auto dedup set restore soon page restored punched image open image o_rdwr mode signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6595,a355affd2954422449dfd50035d38bfc4cc785d5,ikhomirov Pavel <snorcht@gmail.com>, 2014-02-19 18:56:30 +0400, , deduplication add separate function punch use restore signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6596,9b491e5c68be63db203f6db587a1deabab6e5d6b,yrill Gorcunov <gorcunov@openvz.org>, 2014-01-31 13:05:45 +0400, , x86 restore allow restore fpu even image incomatible cpu state sometime especially testing migrate checkpointed task node different cpu capability particular cpu xsave feature others able continue migration procedure even condition one specify cpu cap fpu command line would force criu restore fpu state ignoring extended status present image file signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6597,056047bdf998a5442826ad3084ca4fda7ea8fafb,yrill Gorcunov <gorcunov@openvz.org>, 2014-01-31 13:05:44 +0400, , criu add cpu cap option option serve manage cpu capability matched ignored restore procedure moment introduce fpu capability argument default set signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6598,ad0f6980555e66779dfd7e11d615c087b5dd1d16,yrill Gorcunov <gorcunov@openvz.org>, 2014-01-31 13:05:43 +0400, , x86 allow forward compatibility mode fpu moment refuse restore cpu mismatch fpu related feature strictly speaking required allow restore node xsave capability even node created cpu fxsave capability signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6599,eee9ad2b444e918fd50642e5ec974e9d666b6691,yrill Gorcunov <gorcunov@openvz.org>, 2014-01-31 13:05:42 +0400, , log add pr_warn_once helper signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6600,8dd413418968b140f7ae9d473d34a49fc5012598,ndrey Vagin <avagin@openvz.org>, 2014-02-25 16:09:00 +0400, , test add script used jenkins split one job part signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6601,5fab7f323930d5db750d141a9b34901be6321849,ndrey Vagin <avagin@openvz.org>, 2014-02-25 15:24:00 +0400, , maps007 save core file error case signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6602,deb61cdbe62ab49e25a9cb0d5cbd8122654f1474,ndrey Vagin <avagin@openvz.org>, 2014-02-24 19:15:04 +0400, , fsnotify dump tmpfs notify watcher name currently file handle used dumping notify watcher inode number restored tmpfs content watcher opened handle pavel found tmpfs cache pruned handle opened readlink proc pid return corect path file use read_fd_link signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6603,06662f9f1331c80c9c0a6a514dcc9a337c38191c,ndrey Vagin <avagin@openvz.org>, 2014-02-24 18:11:28 +0400, , mount rename tmpfs_magic tmpfs_img_magic tmpfs_magic already used linux magic.h signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6604,e16f0976fce014d88caaec5f7cc84dac0072534b,ndrey Vagin <avagin@openvz.org>, 2014-02-25 18:04:18 +0400, , zdtm maps007 remove spinlocks test use futex synchronization instead spinning atomic variable signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6605,8ce7ef75eca0c9e542e6ba5ee68b03a61aad0276,ndrey Vagin <avagin@openvz.org>, 2014-02-25 18:04:17 +0400, , zdtm lock add signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6606,1b16fa048c99509df7c01ccbfeb1d01338d7f149,ndrey Vagin <avagin@openvz.org>, 2014-02-25 15:11:18 +0400, , zdtm maps007 limit delta betwen parent child side currenty parent far away child need wait long checking result pach limit delta min_delta min_delta thi patch fix current error criu iter job jenkins signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6607,1a89dbb5da975f49e25446f77f263167a2b39347,ndrey Vagin <avagin@openvz.org>, 2014-02-25 15:11:17 +0400, , zdtm lock make futex_inc futex_dec atomical signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6608,204599aa65a3ac5f9556c177b986695150c456df,yrill Gorcunov <gorcunov@openvz.org>, 2014-02-26 13:51:30 +0400, , header use magic.h signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6609,6e95f544de56d1361e26fece406cd9827db29d87,yrill Gorcunov <gorcunov@openvz.org>, 2014-02-26 13:44:13 +0400, , header add magic.h distros provide magic number might need build procedure thus provide definition one known place signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6610,402101c345a31ef206b5b6c6694a8e70bea90324,avel Emelyanov <xemul@parallels.com>, 2014-02-26 16:50:39 +0400, , criu version 1.2 release time made minimal required support live migration p.haul project work another big achievement better dump restore performance lot bugfixes usual signed pavel emelyanov xemul parallels.com,,
6611,e15914fb08f9ef1af1219ae4142ae5878f264d1c,yrill Gorcunov <gorcunov@gmail.com>, 2014-02-25 23:29:00 +0400, , fsnotify open handle o_path otherwise mark set link end eloop error trying open thus use o_path pointing kernel going read write descriptor repored andrew vagin avagin parallels.com signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6612,6209ff4567293e755e9ad7162a61a36c306081a5,ndrey Vagin <avagin@openvz.org>, 2014-02-24 18:11:00 +0400, , fsnotify print correct error failed signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6613,d98925d512aee34b8353057ad5da6fb5e482cec2,avel Emelyanov <xemul@parallels.com>, 2014-02-24 17:30:42 +0400, , file ext mark dump callback static signed pavel emelyanov xemul parallels.com,,
6614,caa486703fa59428bff2c2a13513dae6c90ce9c8,yrill Gorcunov <gorcunov@openvz.org>, 2014-02-21 22:14:03 +0400, , doc add option description signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6615,c86373c98fc7f854a1e2cad65bf8d21fd4dd0267,yrill Gorcunov <gorcunov@openvz.org>, 2014-02-21 22:14:02 +0400, , doc add pre dump description signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6616,98179fb5a846c06e40cb821dd91f49d06579c505,yrill Gorcunov <gorcunov@openvz.org>, 2014-02-21 22:14:01 +0400, , doc add dedup command description signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6617,bcd36c6e265c6676c85637445a781b7ae489d537,ndrey Vagin <avagin@openvz.org>, 2014-02-21 17:51:00 +0400, , mount use proc self access mount point process another pidns proc link proc self work 00.061569 error mount.c 558 bind mount zdtm live static tempfs.test tmp tmpfs.gbvwtb file directory since switched mount namespace setns open path name reported urgen sherpa urgen.sherpa nepallink.net signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6618,aaef7b7f87e959289016fe892b579b28b43389c6,yrill Gorcunov <gorcunov@openvz.org>, 2014-02-07 20:46:00 +0400, , add ability compile program gprof output able profile criu gprof support need special flag passed compiler linker time build parasite code prof support call mcount service routine stub yet even tech detail involved thus pie code profiled compile prof support make make debug gmon idea run gprof criu source compiled flag mentioned simply run test whatever running test zdtm.st static.maps00 run gprof criu gmon.out note gmon.out file lay directory criu running thus case test zdtm.st static.maps00 output file test directory signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6619,8a3939a2778cfda61a3e22a325f99a14ce3fe3e4,ikhomirov Pavel <snorcht@gmail.com>, 2014-02-21 18:42:00 +0400, , rpc add auto dedup option signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6620,acf62d7b959521c7d4b913677b26d7909c76b95b,ikhomirov Pavel <snorcht@gmail.com>, 2014-02-21 18:42:00 +0400, , deduplication add auto dedup option description signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6621,726977f615d8cca1f567698a6f90de768e854af4,yrill Gorcunov <gorcunov@openvz.org>, 2014-02-21 17:15:00 +0400, , page pipe update format page_size page pipe.c 230 error format zuâ expects argument type size_tâ argument type long unsigned intâ werror format page pipe.c 237 error format zuâ expects argument type size_tâ argument type long unsigned intâ werror format page_size defined unsigned long kernel doe reported pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6622,8bea49a74b6455c0b4e2066ba40ef3fa6a0a3fc0,yrill Gorcunov <gorcunov@openvz.org>, 2014-02-20 18:33:00 +0400, , pagemap cache use page.h helper signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6623,e252e372016608502e7465e7def499cdf89b0c5f,yrill Gorcunov <gorcunov@gmail.com>, 2014-02-20 18:36:00 +0400, , asm generic introduce page.h moment using page time instead copying code arch supporting add asm generic page.h header signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6624,3ad89009a26904581c1a9456cca79d7f30e481a3,yrill Gorcunov <gorcunov@openvz.org>, 2014-02-21 01:06:00 +0400, , bug include stdbool.h define bug bug_on true true defined stdbool header able include bug.h include needed header inplace signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6625,ab6c165b1176df4a4a1890e9edd06fa8b335b0d1,uslan Kuprieiev <kupruser@gmail.com>, 2014-02-20 17:45:00 +0400, , service use name opts criuopts global variable opts bad use local var name signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6626,6aaca7968ac99d5182aeee3560ddd55c560f9ca7,uslan Kuprieiev <kupruser@gmail.com>, 2014-02-21 11:37:00 +0400, , service use currently bug service sends resp type pre_dump instead dump let introduce use signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6627,3fdfbe20ddb3fbd2584a076a5ed3ed60be9c7625,ikhomirov Pavel <snorcht@gmail.com>, 2014-02-19 15:05:00 +0400, , page xfer bug open page read shmem error come point shmem.c 388l err open_page_xfer xfer shmid signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6628,b742c125fb77baf06589e600853ef97b17a2c2f5,ndrey Vagin <avagin@openvz.org>, 2014-02-19 16:24:00 +0400, , mem fix calculation page offset generate_iovs offset point next entry pavel tikhomirov snorcht gmail.com signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6629,7d091fe9c7e520296c301ca0e17b899bf844aba6,yrill Gorcunov <gorcunov@openvz.org>, 2014-02-18 17:29:00 +0400, , pagema cache exceed task size hight bound area close task_size limit high address may exceed returning error try read pagemap file limit high address signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6630,db3371bea1aa10fd158337d7dee7393b051d8a68,ndrey Vagin <avagin@openvz.org>, 2014-02-05 16:17:00 +0400, , zdtm add maps007 test list signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6631,1934e1a9638cdb8cd546cd0499fe7804317593d8,ndrey Vagin <avagin@openvz.org>, 2014-02-18 16:53:00 +0400, , posix timer take account sival_ptr null  signal null notify signal pid.5954 clockid fscanf handle null http show_bug.cgi 2894 make original scanf additionally parse obtained string use strstr signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6632,ef98f96c0675404a116433ca916eebec5f0d6102,yrill Gorcunov <gorcunov@gmail.com>, 2014-02-18 15:24:00 +0400, , pagemap cache fix compilation pagemap cache.c function pmc_initâ pagemap cache.c error comparison distinct pointer type lack cast werror pagemap cache.c function pmc_fill_cacheâ pagemap cache.c error format lxâ expects argument type long unsigned intâ argument type uint64_tâ werror format pagemap cache.c error format lxâ expects argument type long unsigned intâ argument type uint64_tâ werror format pagemap cache.c error format luâ expects argument type long unsigned intâ argument type size_tâ werror format pagemap cache.c error format lxâ expects argument type long unsigned intâ argument type uint64_tâ werror format pagemap cache.c error format lxâ expects argument type long unsigned intâ argument type uint64_tâ werror format pagemap cache.c 100 error format lxâ expects argument type long unsigned intâ argument type uint64_tâ werror format pagemap cache.c 100 error format lxâ expects argument type long unsigned intâ argument type uint64_tâ werror format pagemap cache.c function pmc_get_mapâ pagemap cache.c 136 error format lxâ expects argument type long unsigned intâ argument type uint64_tâ werror format pagemap cache.c 136 error format lxâ expects argument type long unsigned intâ argument type uint64_tâ werror format reported andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6633,9ddcc5d0d1822f5246225056f272cb86089c8e53,yrill Gorcunov <gorcunov@openvz.org>, 2014-02-17 16:26:24 +0400, , config base add f_setpipe_sz f_getpipe_sz needed compile project centos signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6634,e98eeaa8b93f4c6c52724eef3eb2aaa63634369b,yrill Gorcunov <gorcunov@openvz.org>, 2014-02-17 16:26:23 +0400, , config base beautify header drop empty line end ending endif comment signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6635,bbdc511741c895e7d7d965b1868e9d8cbf72996a,yrill Gorcunov <gorcunov@openvz.org>, 2014-02-17 12:38:00 +0400, , mem use pagemap cache improve speed dumping big set small vmas centos container  without cache dump freezing_time 1705 frozen_time 44885 memdump_time 9064 memwrite_time 15846 pages_scanned 246979  pages_written 2831 irmap_resolve  cache dump freezing_time 898 frozen_time 40859 memdump_time 7254 memwrite_time 16375 pages_scanned 246979  pages_written 2831 irmap_resolve  1024 vma 40k  without cache dump freezing_time 170 frozen_time 30372 memdump_time 3895 memwrite_time 691 pages_scanned 13487  pages_written irmap_resolve  cache dump freezing_time 231 frozen_time 27646 memdump_time 768 memwrite_time 798 pages_scanned 13487  pages_written irmap_resolve  signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6636,21e510dd0fc1d49d8df6c2ac0b37ad130ceaebf1,yrill Gorcunov <gorcunov@gmail.com>, 2014-02-17 23:42:00 +0400, , pagemap cache introduce engine pavel reported case big number small vmas present dumpee reading proc pid pagemap frequently speedup procedue inroduce pagemap cache interface pmc_init pmc_fini cache initialization freeing pmc_get_map retrieve specific pmes array vma area  move internal constant pagemap cache.c make pagemap_len accept virtual address size adjust low bound caching mode save couple code byte reported pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6637,5997913d5c0647f05cc984665f1f7b0b945bcf22,hristopher Covington <cov@codeaurora.org>, 2014-02-15 03:13:00 +0400, , force symlink creation otherwise build fail following message ... libcriu.so.1 file exists make install error signed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
6638,5af7fd36956efd316d3196bd6e94dd9e339316db,hristopher Covington <cov@codeaurora.org>, 2014-02-15 03:13:00 +0400, , complete conversion srcarch signed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
6639,bf288e27a2a75e9eabc7aca060c6268d64bb20c3,uslan Kuprieiev <kupruser@gmail.com>, 2014-02-13 23:55:20 +0400, , install install criu service logrotate config thank vladimir davydov vdavidov parallels.com help config signed ruslan kuprieiev kupruser gmail.com acked vladimir davydov vdavydov parallels.com acked kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6640,3d940b0f18c9bfb132b0c929433dddb417113026,uslan Kuprieiev <kupruser@gmail.com>, 2014-02-13 20:44:30 +0400, , systemd start criu service log var log signed ruslan kuprieiev kupruser gmail.com acked vladimir davydov vdavydov parallels.com acked kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6641,4b0d41c542a975af2fa2dad74083d9d430ad98ab,avel Emelyanov <xemul@parallels.com>, 2014-02-14 16:47:02 +0400, , image unlink image dumping want write empty image file unlink dumping let o_trunc instead signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
6642,6efe3f5d100414d9940ac343ff237408e11f1384,avel Emelyanov <xemul@parallels.com>, 2014-02-14 16:46:41 +0400, , vdso get pagemap entry pread call signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
6643,95c2a4d64186acf55081558eedf3c2f7e183a0ec,avel Emelyanov <xemul@parallels.com>, 2014-02-14 16:46:15 +0400, , proc_parse set bigger buffer smaps file spend lot time reading proc pid smaps file time spent two place kernel put many info fgets pull info 1024 byte chunk info one vma typically bigger byte thus call read time per one vma increase amount time spent kernel fill info setting internal buffer page_size size reduces amount read basic container dump setting bigger buffer work kernel seq file engine feed one page data per read syscall regardless buffer size signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
6644,c6a3b1de27276eb38c45dd4eb7c675ec759ff6ca,ndrey Vagin <avagin@openvz.org>, 2014-02-14 16:44:58 +0400, , mem rename fill_pages dump_pages function splice data process criu dump_pages describes real meaning signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6645,bda9bd6cf9a467d1e8386fe9b2173d13f25f65ea,ndrey Vagin <avagin@openvz.org>, 2014-02-14 16:44:28 +0400, , shmem use chunk mode dumping shared memory patch criu splice data pipe save data image file problem becase creating pipe big buffer fails often kernel try allocate big linear chunk memory memory dumped iteration size pipe buffer restricted signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6646,18607116fa8d1fbcc5c552322dc60bf06a5e36a5,ndrey Vagin <avagin@openvz.org>, 2014-02-14 16:43:21 +0400, , page pipe move tunable constant config.h pipe_max_size calculated according kernel code ppb_iov_batch taken mind signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6647,3a3f3c79e4264ad6741e55a9670048ced4f4cea5,avel Emelyanov <xemul@parallels.com>, 2014-02-13 17:20:08 +0400, , vdso search vdso page file mapping acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6648,01e88d1c87100a449a621bbbc638a0467ecb0320,avel Emelyanov <xemul@parallels.com>, 2014-02-11 23:53:40 +0400, , rpc add ability specify veth pair veth pair option signed pavel emelyanov xemul parallels.com,,
6649,72bf807cfb028970ae0d1cc2faff3208acadca43,avel Emelyanov <xemul@parallels.com>, 2014-02-11 09:53:32 +0400, , rpc report pid restore task setup namespaces script first time restorer get info back criu service time make perfect sense report pid working signed pavel emelyanov xemul parallels.com,,
6650,2c90bb0ce511285013dd64976290b8666b0068ff,hristopher Covington <cov@codeaurora.org>, 2014-02-11 03:47:00 +0400, , remove gnu ism sed command allows building busybox sed example signed christopher covington cov codeaurora.org signed pavel emelyanov xemul parallels.com,,
6651,ac03ca5599aeb9f7045e9f7cda97614d9b652bec,yrill Gorcunov <gorcunov@openvz.org>, 2014-02-10 16:17:37 +0400, , auxv restore backward compatibility commit 459828b6 suddenly broke backward compatibility auxv vector 32bit machine bring back reported andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6652,66ab5e1ad8ac682c9225446747885184b7bf41b5,avel Emelyanov <xemul@parallels.com>, 2014-02-10 15:45:43 +0400, , util add bin path spawning helper call tar iptables etc restoring container problem stuff called inside new mount namespace pivot_root execvp path variable inherited host system may reflect real binary layout add bin path temporary workaround signed pavel emelyanov xemul parallels.com,,
6653,756229bb118b0aa94ea574032346b81b8c5af120,avel Emelyanov <xemul@parallels.com>, 2014-02-10 15:45:21 +0400, , file create fake name remapped file original name busy live migrating container nfs link remap create original file target machine since file name still visible source alive proper fix would move file aside create link move original file back since nfs change file name anyway generate another name link signed pavel emelyanov xemul parallels.com,,
6654,b5dff62e3b136e48393d4c7589e74cfa7ebed9f5,ndrey Vagin <avagin@openvz.org>, 2014-02-08 23:16:45 +0400, , mem use chunk mode dumping anonymous memory patch criu splice data pipe save data image file problem becase creating pipe big buffer fails often kernel try allocate big linear chunk memory memory dumped iteration size pipe buffer restricted todo need rework pre dump currently dumping data pipe postponed going use  signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6655,4e395c5c8d52e3f6234ca286aeee2ddae4c89c6a,ndrey Vagin <avagin@openvz.org>, 2014-02-08 23:16:44 +0400, , mem move code splice memory pipe separate function preparation dump memory chunk signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6656,bb98a8209881d0f5c19b6deec13f62e8262f415b,ndrey Vagin <avagin@openvz.org>, 2014-02-08 23:16:43 +0400, , page pipe split dumping memory chunk problem vmsplice big pipe fails often kernel allocates linear chunk memory pipe buffer descriptos big allocation kernel fail need restrict maximal capacity pipe number pipe restricted need split dumping memory chunk patch calculates pipe size vmsplice fail batch chunk small fix remove callback page_pipes reuse pipe signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6657,c92c30799d7802239512dd5d70f711a11d68907e,hristopher Covington <cov@codeaurora.org>, 2014-02-07 12:04:45 -0500, , make sure sed fixups carried following issue possibly caused using busybox make protobuf packet sock.pb c.c function protobuf packet sock.pb c.c error decimal constant unsigned iso c90 werror use belt suspender approach ensure happen signed pavel emelyanov xemul parallels.com,,
6658,4be26b43837bee0274a0907f2ed70f5a2e8cd149,hristopher Covington <cov@codeaurora.org>, 2014-02-07 12:04:43 -0500, , make march setting part usercflags current march setting cause error user conflicting flag mcpu cortex a15 use usercflags instead cflags default provided overridden change acked alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
6659,9ca415c3b6e99c7dd693be9f01a130164edeeb38,hristopher Covington <cov@codeaurora.org>, 2014-02-07 12:04:42 -0500, , allow user cflags ideally user could set cflags command line contain compilation option include library path maybe set last two cppflags ldflags unfortunately setting cflags command line currently short circuit essential logic makefile break build first failed attempt appears monolithic overhaul flag day fix substantial undertaking provide workaround form usercflags variable signed pavel emelyanov xemul parallels.com,,
6660,f69fe9aa13a955a589d0cb2038cfa9576be412ba,hristopher Covington <cov@codeaurora.org>, 2014-02-07 12:04:41 -0500, , remove arm at_vector_size x86 header perhaps left single types.h used multiple architecture remove arm definition at_vector_size x86 types.h header also remove config_arm definition since unused acked alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
6661,851e89ce3a27f4a46947f7a3412a08d1ae44df00,hristopher Covington <cov@codeaurora.org>, 2014-02-07 12:04:40 -0500, , default armv7 current mechanism determining arm architecture version break cross compiling default armv7 user specifies arch arm user wishing cross compile armv6 platform raspberry use arch armv6 previously required acked alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
6662,a37b95895a9abe1818e9e336f55039822ed3a6c2,hristopher Covington <cov@codeaurora.org>, 2014-02-07 21:04:00 +0400, , complain missing config_armv without user may encounter following error arch arm include asm atomic.h error implicit declaration function smp_mbâ error pragma user least pointed specific section file causing problem arch arm include asm atomic.h error error arm architecture version config_armv set unsupported acked alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
6663,d6005ed12ee6696ec584cd6553a6959e49b16111,hristopher Covington <cov@codeaurora.org>, 2014-02-07 12:04:38 -0500, , use srcarch internally arch user facing variable setting command line clobber manipulation attempted makefile following example linux kernel makefiles use srcarch variable instead internal potentially fixed architecture name fix following error make arch x86_64 makefile architecture x86_64 supported stop signed pavel emelyanov xemul parallels.com,,
6664,89bb170a26e8705dbc4ad57a2d738bb2884efd08,hristopher Covington <cov@codeaurora.org>, 2014-02-07 12:04:37 -0500, , always use arch_dir top level makefile defines arch_dir variable always use rather referencing arch directly since arch may set user command line raw input may need used internally signed pavel emelyanov xemul parallels.com,,
6665,f287d29ebed4d5b5d25178d08e6946316c5f4454,hristopher Covington <cov@codeaurora.org>, 2014-02-07 12:04:36 -0500, , fix library build user may necessary linker directory specified cflags make sure include change signed pavel emelyanov xemul parallels.com,,
6666,b0549064c1456e322dcb008a55103a0cb81300f7,hristopher Covington <cov@codeaurora.org>, 2014-02-07 12:04:35 -0500, , make tpacket_req3 definition conditional makefile includes need moved everything defined properly configure test run ubuntu 12.04 x86_64 gcc linaro 13.08 newer aarch64 gcc if_packet.h kernel header 13.12 linaro aarch32 gcc doe change signed pavel emelyanov xemul parallels.com,,
6667,35763e0b503db7a02b3f04a67d99e091f676689b,drian Reber <adrian@lisas.de>, 2014-02-07 19:18:00 +0400, , makefile fix libcriu.so link man page installation link versioned libcriu.so included destdir libdir generate wrong link building criu package link point correct file without path reason criu.8 installed executable permission use install 644 make sure doe happen signed adrian reber adrian lisas.de signed pavel emelyanov xemul parallels.com,,
6668,459828b6bec92d664bcce8419436e528be2094f2,yrill Gorcunov <gorcunov@openvz.org>, 2014-02-10 14:26:29 +0400, , dump read aux vector one pas need read cycle repored pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6669,c76ac46c7195f64bcf6f0047826fb222ad3902a2,yrill Gorcunov <gorcunov@openvz.org>, 2014-02-07 20:57:13 +0400, , show protobuf fix rendering repeated message repeated custom entry presented array pointer memory fetch first entry continue iterating pointer instead  vmas start end pgoff shmid prot 0x5 flag 0x2 status 0x41    start end pgoff shmid prot 0x606000 flag status 0x5000  madv   vmas start end pgoff shmid prot 0x5 flag 0x2 status 0x41    start end pgoff shmid prot 0x1 flag 0x2 status 0x41   signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6670,0b98d87bf1bbdf73b90a0b7e492a43f5a2d71223,avel Emelyanov <xemul@parallels.com>, 2014-02-07 20:51:21 +0400, , proc parse fix bit printing vma address signed pavel emelyanov xemul parallels.com,,
6671,3bf2d6d9e9d32cef9073734235c4aa4db88192ad,avel Emelyanov <xemul@parallels.com>, 2014-02-07 19:21:57 +0400, , file fix link target name creating file remaps signed pavel emelyanov xemul parallels.com,,
6672,3172b0bd625d02a51877a9cbe586998cd869e42e,avel Emelyanov <xemul@parallels.com>, 2014-02-07 16:24:37 +0400, , rpc add link remap option signed pavel emelyanov xemul parallels.com,,
6673,1e648dd5c4392bd9044e29489bb10e481d948794,ikhomirov Pavel <snorcht@gmail.com>, 2014-02-05 10:44:00 +0400, , deduplication remove double space signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6674,b9adda77aae9dbdb862f808d8ce7d72496cc95d4,ikhomirov Pavel <snorcht@gmail.com>, 2014-02-05 10:44:00 +0400, , deduplication add debug message signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6675,44624667a7734f05ee78ccd865bbd4f9b80ede70,yrill Gorcunov <gorcunov@openvz.org>, 2014-02-01 12:27:00 +0400, , proto align member number aligning member number protobuf file beginning readability sake fix newer one also use comment signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6676,3835ff83c912e14aad6391cbe06dda13f71094af,ir Kolyshkin <kir@openvz.org>, 2014-02-05 20:54:00 +0400, , service.c extra error message print error message need caller print another one simplify unify error checking treating non zero value error signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6677,b0e6ebc1c7a529dfc3073c26f2a18733a1088458,drian Reber <adrian@lisas.de>, 2014-02-05 18:28:00 +0400, , makefile add soname libcriu.so using soname make easy application detect abi libcriu.so changed still creates libcriu.so lib make install additional link created libcriu.so libcriu.so.1.0 libcriu.so.1 libcriu.so.1.0 signed adrian reber adrian lisas.de signed pavel emelyanov xemul parallels.com,,
6678,e18ae2a8f5447d5f33de2af8a1c604bf0be986c3,ikhomirov Pavel <snorcht@gmail.com>, 2014-02-06 11:22:00 +0400, , page xfer add proper initialization deletion xfer parent signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6679,2824c968e76639313c309265d020bfc7231d3350,ndrey Vagin <avagin@openvz.org>, 2014-02-05 23:07:00 +0400, , ptrace include config.h ptrace.h used christopher covington cov codeaurora.org reported christopher covington cov codeaurora.org signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6680,f5f9fb9c0007a613273064626b87ad62ad4b5923,ir Kolyshkin <kir@openvz.org>, 2014-02-07 15:31:34 +0400, , make install guess libdir x86_64 libdir tricky find nevertheless work least redhat centos fedora sle opensuse debian ubuntu gentoo guess libdir wrong still good approximation installing criu source signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org acked adrian reber adrian lisas.de signed pavel emelyanov xemul parallels.com,,
6681,72a035d7eaa2fa57675a12cbb3225880c6053116,avel Emelyanov <xemul@parallels.com>, 2014-02-07 14:23:38 +0400, , file add comment open_path routine signed pavel emelyanov xemul parallels.com,,
6682,109f426ccc1b34e5b12bc7456ca91aa59d90dbbe,avel Emelyanov <xemul@parallels.com>, 2014-02-07 13:59:10 +0400, , file reg sanitize open_xxx routine bit previous fix merge move couple easier reading signed pavel emelyanov xemul parallels.com,,
6683,b0c09337443a9fa6a36d086f6b17fa13d2a8c6ec,avel Emelyanov <xemul@parallels.com>, 2014-02-07 13:55:27 +0400, , fifo lookup reg path twice previous patch vmas collect real open put pointer fifo_info structure signed pavel emelyanov xemul parallels.com,,
6684,dc7abdfb92f261613013da1653719dc84fb57f31,avel Emelyanov <xemul@parallels.com>, 2014-02-07 13:51:29 +0400, , vma lookup file_desc vma twice first collect second restore 2nd lookup excessive put pointer vm_area lookup reuse one later signed pavel emelyanov xemul parallels.com,,
6685,fd41201975d76c8fbf04c4765afdca8427e32d26,avel Emelyanov <xemul@parallels.com>, 2014-02-07 13:32:21 +0400, , restore parse proc self map self mapping restore need know currnet task mapping start end find put restorer blob since smaps file proc pid time slower map one make perfect sense parse latter one signed pavel emelyanov xemul parallels.com,,
6686,4dbc5f11e51233b1677eeffcbe72635b7061d0b7,avel Emelyanov <xemul@parallels.com>, 2014-02-07 13:31:31 +0400, , file call lseek restored file opened cwd root exe link vma care value signed pavel emelyanov xemul parallels.com,,
6687,1e837af193e832d702e6bf66084baac2a483d93d,avel Emelyanov <xemul@parallels.com>, 2014-02-05 19:40:47 +0400, , script add script abort restore end usefult test restore time example signed pavel emelyanov xemul parallels.com,,
6688,5e5783b4e45027264551479ec4ee09866521f70f,avel Emelyanov <xemul@parallels.com>, 2014-02-05 17:55:22 +0400, , remap initialize linked remaps new remap refcount user get counter eventually appear reported andrew vagin avagin parallels.com via jenkins signed pavel emelyanov xemul parallels.com,,
6689,48b22f0d9578561660ae67c0cfdd66040362c9cf,drian Reber <adrian@lisas.de>, 2014-02-05 01:05:00 +0400, , makefile also install libcriu.so header link open mpi criu need header file installed attached patch add necessary makefile rule install libcriu.so header file compile criu signed adrian reber adrian lisas.de acked kir kolyshkin kir openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6690,1c265edd3717b842cd91fcfddf2173d456076767,avel Emelyanov <xemul@parallels.com>, 2014-02-05 16:00:41 +0400, , zdtm bunch test various flavor unlinked opened maped file signed pavel emelyanov xemul parallels.com,,
6691,18a5c90c3b722b6e658a52f24239ff4c11cd8d0f,avel Emelyanov <xemul@parallels.com>, 2014-02-05 15:26:16 +0400, , collect add comment describing collect order packed reg file complex file vma remap interaction think reflected code comment signed pavel emelyanov xemul parallels.com,,
6692,490efb4695e4135d25d6fd9ca57c9278b281016d,avel Emelyanov <xemul@parallels.com>, 2014-02-05 15:58:59 +0400, , file properlu count number user mmaped exe ghost file file mmaped pointed exe link unlinked generate ghost file restore ghost file created user counter first open e.g mmap unlink file handle bumping user counter every mapping pointing file appeared previous patch packed reg file image vma exe link created separate entry reg file image signed pavel emelyanov xemul parallels.com,,
6693,40e4ae9b7b26bb3e9558e407d0a6d78083ae00b6,avel Emelyanov <xemul@parallels.com>, 2014-02-04 19:32:52 +0400, , file cache special file ton file equal e.g library mapped different task need writing duplicate stuff image cache dev ino key acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6694,3de41b80707db3fbc6a132a04df518819f58f595,avel Emelyanov <xemul@parallels.com>, 2014-02-05 15:55:29 +0400, , file rework select_ps_list fdsec ops callback unlinked opened mmaped file need care remaps callback file_desc required signed pavel emelyanov xemul parallels.com,,
6695,8a827ba403e509cfa68a572ebf5862fa26459f6f,avel Emelyanov <xemul@parallels.com>, 2014-02-04 19:25:33 +0400, , file make return pointer acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6696,9857acc0a2c1900892d59fb475b30ae80eb93ac0,avel Emelyanov <xemul@parallels.com>, 2014-02-04 19:03:31 +0400, , file pas stat information fd_id_generate acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6697,8b611770aa8fc54455d8ed80bb487fea14827210,avel Emelyanov <xemul@parallels.com>, 2014-02-05 16:17:18 +0400, , file pas stat information acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6698,084a1f7dea6dd1bd8523df0a70df2d9a9690253c,ndrey Vagin <avagin@openvz.org>, 2014-02-04 19:54:00 +0400, , zdtm setup sigchld handler starting test process started new pid namespace init process must colleck zombie init process must wait root test process return status preparation stage currently two operation race one call waitpid signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6699,74c3cc19961d2a329d2edb7decc660be8dd2003c,avel Emelyanov <xemul@parallels.com>, 2014-02-04 18:03:00 +0400, , rst introduce post restore action useful test restore time abort restore action acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6700,49b427b7215bb56f661e358be2e6e3ee52315043,avel Emelyanov <xemul@parallels.com>, 2014-02-04 18:03:00 +0400, , log override specify log level none result log_info acked andrew vagin avagin parallels.com acked kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6701,9ff3f30b75d1b661194f6ef6c763c27d0299740b,avel Emelyanov <xemul@parallels.com>, 2014-02-04 20:40:38 +0400, , page xfer fix bit compilation broken 3929c853 signed pavel emelyanov xemul parallels.com,,
6702,44a0fe499ae52cc999e420282c9a664a48af408e,avel Emelyanov <xemul@parallels.com>, 2014-02-04 20:40:02 +0400, , proc parse fix bit compilation broken bbab13eb signed pavel emelyanov xemul parallels.com,,
6703,d29238db83dbf0494a647aca4e8a4ad085044aad,avel Emelyanov <xemul@parallels.com>, 2014-02-04 18:58:00 +0400, , dump missing auxv dumping message signed pavel emelyanov xemul parallels.com,,
6704,4a360f5ed5e0a564db1a6ae17a8254867153674a,uslan Kuprieiev <kupruser@gmail.com>, 2014-02-04 18:42:48 +0400, , service ban subdirs logfile name two reason ban subdirs logfile name first process might different namespace right give work dir like image dir second service might ran root unsafe give opportunity fill dir trash wan put log stats somwhere else images_dir could set work_dir_fd signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6705,3929c853dd894fde9de3e01aeedf2a77a742499b,ndrey Vagin <avagin@openvz.org>, 2014-02-04 18:29:21 +0400, , page xfer print error message splice failed signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6706,8a6c1502237d5ff68e7dae2c00a7d7e0ba7d4669,ndrey Vagin <avagin@openvz.org>, 2014-02-04 18:28:00 +0400, , zdtm write buffer size signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6707,579e55fa0ddc617b55f108850b240ffe711626f1,uslan Kuprieiev <kupruser@gmail.com>, 2014-02-04 18:27:20 +0400, , libcriu add work_dir support added work_dir_fd rpc let add support libcriu signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6708,1775416c4f6667530a2028259398bd375e2fb5d5,uslan Kuprieiev <kupruser@gmail.com>, 2014-02-04 12:31:26 +0400, , service add work_dir support signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6709,2c7fb879aef7aa7881e42167e20fe4a8fdf973c4,ikhomirov Pavel <snorcht@gmail.com>, 2014-02-04 13:40:00 +0400, , chdir need check return value otherwise compile util.c function cr_daemonâ util.c 594 error ignoring return value chdirâ declared attribute werror unused result chdir  signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6710,d8071ffd1aa456200353cd2251fbd9c24cc03b6a,avel Emelyanov <xemul@parallels.com>, 2014-02-04 14:03:10 +0400, , stats fix restore page stats errorneously report nr_compared total number restored page signed pavel emelyanov xemul parallels.com,,
6711,b745ae83b3358f3774ed029458f42c500551348f,avel Emelyanov <xemul@parallels.com>, 2014-02-04 12:04:33 +0400, , vma backward compatible vma restore found zero vmas mmentry try look vmas vma .img image file signed pavel emelyanov xemul parallels.com,,
6712,8f7bae2cfcbbfa6f50167a1538cd267e5ad579be,avel Emelyanov <xemul@parallels.com>, 2014-02-04 11:52:55 +0400, , crash showing empty repeated field signed pavel emelyanov xemul parallels.com,,
6713,54f4f889a5677160d5168d0dbf33597055f9961f,avel Emelyanov <xemul@parallels.com>, 2014-02-04 00:09:00 +0400, , move vmaentries separate image one writing vmas perform many small writes vma .img file easily fixed moving vma splitted signed pavel emelyanov xemul parallels.com,,
6714,72e462ad6738fff06049058b719993d45189d9fd,avel Emelyanov <xemul@parallels.com>, 2014-02-04 00:08:44 +0400, , read mmentry early merge vma image read place vmas signed pavel emelyanov xemul parallels.com,,
6715,ed836740baa8aca74a428d691514ee6928bbfded,avel Emelyanov <xemul@parallels.com>, 2014-02-04 00:08:30 +0400, , vma copy vmaentry vma_area previous patch possible signed pavel emelyanov xemul parallels.com,,
6716,eb1ae0a025bc3b4808bedf969af853deda213cef,avel Emelyanov <xemul@parallels.com>, 2014-02-04 00:08:16 +0400, , vma turn embeded vmaentry vma_area pointer restore read vmaentries one big mmentry object avoif copying vma_areas make pointable signed pavel emelyanov xemul parallels.com,,
6717,6da13c687f0ca5e209baaa6291b525167c9b6d78,avel Emelyanov <xemul@parallels.com>, 2014-02-04 00:08:00 +0400, , dump merge vmas dumping function plan merge vma image one see patching prepare dumping code signed pavel emelyanov xemul parallels.com,,
6718,6a5188a2cde4fece4756b1dcb19015445fbcc68e,avel Emelyanov <xemul@parallels.com>, 2014-02-04 11:43:22 +0400, , vma use vma_area_is helper appropriate lost c8d5f1a2 signed pavel emelyanov xemul parallels.com,,
6719,3d8f7b07b3518774976a6bbfdf2e6df07d66e84b,ndrey Vagin <avagin@openvz.org>, 2014-02-02 00:12:00 +0400, , zdtm add bit message error case signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6720,0ad373ba6cdc27aabee9aae431bb6a21b4daf787,ndrey Vagin <avagin@openvz.org>, 2014-02-03 18:40:00 +0400, , make config add test currently check defined system header suppose defined due bug glibc check work f20 defined sys ptrace f21 defined commit author mike frysinger vapier gentoo.org date sun jan 2014 0500 ptrace.h add prefix signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6721,446fdd720026001d64c25e72fab71a614a35eb5e,avel Emelyanov <xemul@parallels.com>, 2014-02-03 15:12:22 +0400, , rst collect vmaentries restore right two time shmem prepare restore make collection fdinfo root task read stuff populates task rst_info signed pavel emelyanov xemul parallels.com,,
6722,0786f831d74aeead68751f5f908d0d75ee6b6a2e,avel Emelyanov <xemul@parallels.com>, 2014-02-03 15:12:08 +0400, , mem move shmem preparation routine rename collect vmaentries early fork signed pavel emelyanov xemul parallels.com,,
6723,c643ed76e70edc712a03f723faf1ac99a88e50e4,yrill Gorcunov <gorcunov@openvz.org>, 2014-02-03 17:24:00 +0400, , proc_parse speedup vma range parsing proc pid smaps output may omit testing capital hex letter since know format kernel provides signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6724,c8d5f1a215621d00dd179155bd20f930c0179d04,avel Emelyanov <xemul@parallels.com>, 2014-01-31 21:08:41 +0400, , vma use vma_area_is helper appropriate signed pavel emelyanov xemul parallels.com,,
6725,98fbeb8d0a0eecbe3b87db8f3e71abfe53b48fa6,avel Emelyanov <xemul@parallels.com>, 2014-01-31 20:57:11 +0400, , vma vma allocation helper function signed pavel emelyanov xemul parallels.com,,
6726,593cb59a6386bd6d5ca8975aa18d124e7ff9a4da,avel Emelyanov <xemul@parallels.com>, 2014-02-03 00:30:02 +0400, , pagemap use pread read pagemap entry reading pagemaps read specific position called lseek read fortunetely syscall doe thing one call pread since need keep pagemap position read perfectly suit need remove lseek call dumping basic container signed pavel emelyanov xemul parallels.com,,
6727,608db864a3489c627d82f87ee298aee2d5dfc5fe,avel Emelyanov <xemul@parallels.com>, 2014-02-03 00:18:32 +0400, , vmas call stat file twice parsing mapping proc fstat file later dumping stat fill fd_parms 2nd stat required keep stat vma_area removed stat call dump basic container signed pavel emelyanov xemul parallels.com,,
6728,bd7bf7bd39b146f984631cb7ca6b89c3142520eb,avel Emelyanov <xemul@parallels.com>, 2014-02-02 22:14:29 +0400, , anon inode readlink multiple time is_foo_link readlinks lfd check make anon inodes dumping readlink several time find proper dump ops optimize thing signed pavel emelyanov xemul parallels.com,,
6729,e4a26187246ddcae0760465935ffa20a05be4475,avel Emelyanov <xemul@parallels.com>, 2014-02-02 01:20:49 +0400, , number pb_ constant easier log constant eye mapping signed pavel emelyanov xemul parallels.com,,
6730,ba58e4704a8f311b2b235b0b422cb80a5d10ed90,avel Emelyanov <xemul@parallels.com>, 2014-01-31 20:51:32 +0400, , protobuf use writev writing image entry two writes slower half amount write syscalls reduces dump time basic container signed pavel emelyanov xemul parallels.com,,
6731,740eb9c101d16557f578d6d7108ae37ca501b1b6,avel Emelyanov <xemul@parallels.com>, 2014-01-31 20:31:06 +0400, , proc parse open stat every single map_files link quite lot vmas task map file different perm case may skip opening file borrow one previous vma parsed little sense seeking previous vma file rarely though mapped different location basic centos6 container number open stats function drop 1500 500 signed pavel emelyanov xemul parallels.com,,
6732,bbab13ebdb2bd5a7b6d08416b2b3966cbd6a22a9,avel Emelyanov <xemul@parallels.com>, 2014-01-31 20:30:47 +0400, , proc helper opening vma file signed pavel emelyanov xemul parallels.com,,
6733,446ab1fc64b81b4ea49a2a4396ef84af5f951e26,avel Emelyanov <xemul@parallels.com>, 2014-01-31 08:50:28 +0400, , irmap let proc parse free handle mem caching bug introduced disk irmap cache patch proc parse routine allocates memory handle call free handle problem case pre dump save handle future reference future handle mem happen corrupted signed pavel emelyanov xemul parallels.com,,
6734,c4b5a9d5b0ddb269c7d6bc96469c51fcb49e861f,avel Emelyanov <xemul@parallels.com>, 2014-01-31 03:14:46 +0400, , vma close socket inode vm_socket_id union vm_file_fd calling close wrong signed pavel emelyanov xemul parallels.com,,
6735,7051e2e92dabe4a21ed888ef52d1e92f24961923,ndrey Vagin <avagin@openvz.org>, 2014-01-31 15:11:28 +0400, , util apply pme_pframe_mask get pfn signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6736,a90613cf9db411245d13263fd6c33cf9b01c254e,avel Emelyanov <xemul@parallels.com>, 2014-01-31 00:08:47 +0400, , mem fix zero_page_pfn type compared u64 well signed pavel emelyanov xemul parallels.com,,
6737,f9c8e3a2cdafd968f4e907f4666692b43cd6d052,avel Emelyanov <xemul@parallels.com>, 2014-01-30 23:34:53 +0400, , pagemap factor pfn retrieving vdso zero page acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6738,fe1d6d2b2d9cc70d0b0149f567464ccf97e2e286,avel Emelyanov <xemul@parallels.com>, 2014-01-30 17:00:21 +0400, , irmap try load irmap cache parent well make workdir coincide image dir irmap cache put parent image subsequent dump try load signed pavel emelyanov xemul parallels.com,,
6739,ab57e562024822c9fc1ef25ae767796a5a5f9878,avel Emelyanov <xemul@parallels.com>, 2014-01-30 14:05:23 +0400, , stats add irmap resolve time useful know value cache first pre dump minimal container irmap resolve time 0.2 sec cache next pre dump final dump container irmap resolve time time signed pavel emelyanov xemul parallels.com,,
6740,cc918897b0d4939519b09faacf6554e1f5d82a33,avel Emelyanov <xemul@parallels.com>, 2014-01-30 14:00:42 +0400, , irmap introduce irmap disk cache dumping fsnotifies may irmap get inode path mapping irmap engine scan hinted location get one slow even though scan part since scanning done task frozen freeze time improve situation generating irmap cache working dir pre dump task get unfrozen disk irmap cache file sits directory loaded dump pre dump start memory resolving inode path mapping irmap may meet entry revalidate potentially save time pre dump collected irmap data written back irmap cache image typically entry written back read cache load signed pavel emelyanov xemul parallels.com,,
6741,cc731cb6da2f45cdff221f298cf0c7b1131f63d3,avel Emelyanov <xemul@parallels.com>, 2014-01-30 13:57:45 +0400, , irmap revalidate irmap entry required load irmap entry cache image file thus producing potentially stale data irmap cache handle make possible mark entry need revalidation mark fstat number comparison meeting entry cache signed pavel emelyanov xemul parallels.com,,
6742,529f1a099ef1527d9c5d53ef2a6e0fc1fb9cb564,avel Emelyanov <xemul@parallels.com>, 2014-01-30 13:55:58 +0400, , img needed declaration irmap cache image file irmap cache file like stat one see commtns next patch detail signed pavel emelyanov xemul parallels.com,,
6743,751856c8b8a6c139c1d9d1558280c91eed433e7e,avel Emelyanov <xemul@parallels.com>, 2014-01-30 13:52:55 +0400, , file pre dump file descriptor generate info file descriptor stage pre dumped one would fsnotifies pre dump single written simple possible enough type fds pre dump signed pavel emelyanov xemul parallels.com,,
6744,84ebc64b1fd0511b9066b8f99a3a8ef428470163,avel Emelyanov <xemul@parallels.com>, 2014-01-30 13:48:00 +0400, , pre dump collect mount info root nsmask well want pre dump file fsnotifies need mountinfo root latter current mask problem current mask generation incorporated generation dumping since dumping performed pre dump let provide helper mask generation strictly speaking whole mask idea great fixed later signed pavel emelyanov xemul parallels.com,,
6745,c18c733b7ccad13516e8676de5be3847b19d0a1b,avel Emelyanov <xemul@parallels.com>, 2014-01-30 13:41:53 +0400, , proc parse parse pid fdinfo entry existing code open self par twist code little accept generic pid signed pavel emelyanov xemul parallels.com,,
6746,28ec90b20fc40ae63c54d2ea928c6c9c072f7201,avel Emelyanov <xemul@parallels.com>, 2014-01-28 22:37:35 +0400, , service implement pre dump request support work multi req thing caller issue pre dump request criu serf sends result back service wait next request session client connect back signed pavel emelyanov xemul parallels.com,,
6747,0091f81906bb0a421424cc120b439af3ee1db776,avel Emelyanov <xemul@parallels.com>, 2014-01-28 22:37:15 +0400, , service start page server request implementation signed pavel emelyanov xemul parallels.com,,
6748,97535012973c30937f038c02b950a28da7c908d0,avel Emelyanov <xemul@parallels.com>, 2014-01-28 22:36:53 +0400, , rpc introduce cli action script analogue service call client provided script creates security issue client may unpriviledged service order let caller would normally criu script make criu notify script caller whatever need responds back signed pavel emelyanov xemul parallels.com,,
6749,3587dc1ff7ac3e86ed1f2482888f0d63777e35b4,avel Emelyanov <xemul@parallels.com>, 2014-01-28 22:36:36 +0400, , rpc add stuff rpc message includes pre dump page server action argument memory tracking page server signed pavel emelyanov xemul parallels.com,,
6750,f200b7a9906821b5ff964efa53e21c4df0bbaaa3,avel Emelyanov <xemul@parallels.com>, 2014-01-28 22:36:16 +0400, , page server start using new cr_daemon routine called cr_page_server get controll back server pid signed pavel emelyanov xemul parallels.com,,
6751,29952618e3d30b2f8c8cde7994911cfcecb6189a,avel Emelyanov <xemul@parallels.com>, 2014-01-28 22:35:59 +0400, , daemon write daemon routine rpc start page server daemon need get controll back report back caller glibc daemon doe exit parent context preventing thus introduce daemonizing routine strictly speaking pure daemon clone parent process exit signed pavel emelyanov xemul parallels.com,,
6752,040fe7712fb8db8b0810a6915c6b44a760a44586,avel Emelyanov <xemul@parallels.com>, 2014-01-28 22:35:42 +0400, , pre dump enforce track mem leave running service call pre dump routine factoring enforcin option cli rpc signed pavel emelyanov xemul parallels.com,,
6753,e7ed1bc31ab38a2dd3af8375a18991590485aa75,avel Emelyanov <xemul@parallels.com>, 2014-01-28 22:35:25 +0400, , service helper sending generic rpc error need signed pavel emelyanov xemul parallels.com,,
6754,066609769a2dc2cccc45f2e6fc65395dc12e9f9b,ndrew Vagin <avagin@openvz.org>, 2014-01-30 15:12:56 +0400, , zdtm add logging message test fail sometimes log contain enough information execute zdtm live static umask00 umask00 pidfile umask00.pid outfile umask00.out mask 0345 make umask00.pid error error fail start zdtm live static umask00 signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6755,10bfe8fae8b33e170877a8192db90f9e03b23450,ndrey Vagin <avagin@openvz.org>, 2014-01-30 15:10:10 +0400, , maps007 check stop delta need wait stop signal received signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6756,ab4341a22b7da9b578fad617410b77a782d4410b,avel Emelyanov <xemul@parallels.com>, 2014-01-30 14:34:27 +0400, , kerndat close pagemap getting zero page pfn signed pavel emelyanov xemul parallels.com,,
6757,af510ae01a919bffab186b0847db3cec95170216,ndrey Vagin <avagin@openvz.org>, 2014-01-30 14:31:39 +0400, , dump zero page someone read untouched page kernel map zero page address page soft_dirty bit must dumped signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6758,839a3c6122a1da28d6f1adf84ef5ce3a0effc267,avel Emelyanov <xemul@parallels.com>, 2014-01-29 20:09:27 +0400, , file call fstatfs twice filling fd_parms call statfs need call later signed pavel emelyanov xemul parallels.com,,
6759,2ceb678624b53e6556647f27eb02a145cf22e292,avel Emelyanov <xemul@parallels.com>, 2014-01-28 22:54:03 +0400, , fsnotify restore name hinted mark failed open inode handle try irmap search successful dump real path inode acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6760,7c224226593503a0d1024f143379a9978aa63f00,avel Emelyanov <xemul@parallels.com>, 2014-01-28 22:53:46 +0400, , irmap reverse dev inode path mapping inotify fanotifies always open inodes handle scan directory searching inode path fortunately container case fsnotifies put typical place used hint scanner best way use openvz ploop filesystems long term solution fix nfs provide opening handle acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6761,3a86ee3688783b506ac37b63355b05794bbf98f8,avel Emelyanov <xemul@parallels.com>, 2014-01-28 22:53:29 +0400, , fsnotify check dump file handle opened filesystems provide open handle functionality abort fsnotifies dumping restoring open_mount change opening mountpoints inside another mount namespace acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6762,47c60a925107359e6d456f7467503ffcaef84b57,avel Emelyanov <xemul@parallels.com>, 2014-01-28 22:53:11 +0400, , fsnotify helper opening file dev handle pair acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6763,261fdce39d4aecbe223e01ca0c27d6868ab4b8d3,avel Emelyanov <xemul@parallels.com>, 2014-01-29 15:43:11 +0400, , unix drop whole socket unlinked path stat socket name enoent errno mean socket bound unlinked drop whole socket info treat nameless signed pavel emelyanov xemul parallels.com,,
6764,41a1b2da32829a681af5f0ba751ed20d865efe69,yrill Gorcunov <gorcunov@openvz.org>, 2014-01-29 15:42:34 +0400, , dump fix message text vma_area_list longest page byte signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6765,a0053823a5df1c33580947cef5876217e41d0ce9,avel Emelyanov <xemul@parallels.com>, 2014-01-29 15:16:10 +0400, , test add test tempfs mount open file test fails run 00.300947 error util.c 568 exited status 00.300964 error restore.c 1067 exited status 00.300989 error mount.c 637 restore tmpfs content 00.301005 error restore.c 1602 restoring failed reason failure tar spawned new mount namespace found bug 2870 signed pavel emelyanov xemul parallels.com,,
6766,b99fa5749c1f41b9b03c8b1912c994b2c7be23e4,ndrey Vagin <avagin@openvz.org>, 2014-01-29 15:13:53 +0400, , zdtm add transition test memory test doe operation loop create mapping random flag touch page new mapping writable test two process second process predefined value step behind first one need check result stop first process wait second process come point compare process process dumped different state end process must state bash test zdtm.sh transition maps007 ... 00.743662 error page read.c 107 missing 139773474525184 parent pagemap current iov base 7f1f8c4cf000 len 4096 00.743696 error page xfer.c 523 hole 0x7f1f8c4c5000 4096 found parent 00.744196 error mem.c 331 dump page parasite 00.758201 error dump.c 1828 dumping failed signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6767,04b6403532b86cc501bde929aaaa780e9e412968,ikhomirov Pavel <snorcht@gmail.com>, 2014-01-20 17:21:58 +0400, , test recoursive autodedup verify decline size second parent level image file signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6768,a23765435bb577bfbdc8a055e1746517bd616a30,ikhomirov Pavel <snorcht@gmail.com>, 2014-01-20 17:21:57 +0400, , test recursive deduplication check size second parent level image become smaller signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6769,a02794b79d714108421ffa8b49bf1b05193a63d0,ikhomirov Pavel <snorcht@gmail.com>, 2014-01-20 17:21:56 +0400, , deduplication make recursively deduplicate parent snapshot write page image punch parnet checking one level enough iovec reside deeper said make hole punching recursive signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6770,004f1f5bbecf0f1b9546fb91f973502288d5a8d2,avel Emelyanov <xemul@parallels.com>, 2014-01-28 13:04:03 +0400, , criu version 1.1 release bugfix period 1.1 rc1 seems version pin api plugins libcriu.so next step tied live migration usecase criu signed pavel emelyanov xemul parallels.com,,
6771,f02fb9ed43d48243461b567640a6fe855e2d47d2,avel Emelyanov <xemul@parallels.com>, 2014-01-24 20:42:08 +0400, , update readme file look informative github front page signed pavel emelyanov xemul parallels.com,,
6772,732172384268547622afd30fc9bda27313dad41f,avel Emelyanov <xemul@parallels.com>, 2014-01-24 17:46:12 +0400, , xfer fix formatting printg size_t iov_len signed pavel emelyanov xemul parallels.com,,
6773,2c500de8ed9271039421038d74f6f15c292522bc,avel Emelyanov <xemul@parallels.com>, 2014-01-14 10:45:38 +0400, , criu remove parent img service longer needed parent manipulation done place using cr_parent_link name signed pavel emelyanov xemul parallels.com,,
6774,bfc2895f2a32c5356386a4678e286f0ab8455415,avel Emelyanov <xemul@parallels.com>, 2014-01-14 10:45:38 +0400, , dump move pagemap parent check mem dump page xfer writing pagemaps page server want page .img pagemap .img remote host subsequent pre dump dump parent image try access pagemap img check hole dumped present handle move check hole backed something parent page local xfer case page server dump page server check hole writing signed pavel emelyanov xemul parallels.com,,
6775,c3c0acfe762cf6144960423394fceebd6598e696,ikhomirov Pavel <snorcht@gmail.com>, 2014-01-24 15:50:24 +0400, , deduplication make properly handle eof eof restore mean must data mean error exit dedup data seek continue returning normally also used cvaddr eof happened eof happened cvaddr return signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6776,3b7cc1e45e318338b8740a05fc29a5bd0447a4d1,ndrey Vagin <avagin@openvz.org>, 2014-01-24 15:47:45 +0400, , pre dump handle error signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6777,e36250ef7e0ba636347b7c9640fe1de11b68e023,ndrey Vagin <avagin@openvz.org>, 2014-01-23 13:27:14 +0400, , mem handle error signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6778,d86d0f14e91dfa0c4b36247bda7cd04975ad09b0,ndrey Vagin <avagin@openvz.org>, 2014-01-23 13:26:15 +0400, , zdtm.sh annotate printing separator line useful like execute bash zdtm.sh zdtm_sep interesting debugging need signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6779,f220e29889a5a71b79965f6a3cfc12ff622cfd08,ndrey Vagin <avagin@openvz.org>, 2014-01-23 13:24:33 +0400, , pie add eol error message signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6780,7b6a92c20174806891232acd80b420e392c479e3,avel Emelyanov <xemul@parallels.com>, 2014-01-23 13:23:53 +0400, , page read fix pagemap message formatting vaddrs signed pavel emelyanov xemul parallels.com,,
6781,9f2f4afbcc61a18e655b0b8bc304c9cb0d90de98,avel Emelyanov <xemul@parallels.com>, 2014-01-20 15:28:23 +0400, , criu version 1.1 rc2 feedback got helped improve several issue criu code stuff get fixed make good release said let ahead rc2 signed pavel emelyanov xemul parallels.com,,
6782,071312d9d5a6b778d3cf4bb663190c88068d9b25,ir Kolyshkin <kir@openvz.org>, 2014-01-20 14:53:54 +0400, , doc makefile error req tool absent make sure clear message build failing repeated question criu mailing list patch kir kirpad documentation make gen criu.8 make criu.8 error 127  kir kirpad documentation make bin line xmltos command found make check error signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6783,d01025edd9d06beae93dc421e0acf702958a34bc,yrill Gorcunov <gorcunov@openvz.org>, 2014-01-20 14:14:27 +0400, , zdtm force lib built live target ugly work strictly speaking need rework complete make engine used zdtm signed cyrill gorcunov gorcunov openvz.org tested andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6784,e970fccb6997d0606a11374c8731d07d5e067f17,ndrey Vagin <avagin@openvz.org>, 2014-01-18 01:32:00 +0400, , dump call cpu_init pre dump required dumping fpu state root avagin fc19 crtools bash test zdtm.sh static fpu00 execute zdtm live static fpu00 fpu00 pidfile fpu00.pid outfile fpu00.out dump 8411 dump 8411 check result 8411 30.550 8411 fail fpu00.c 0.806165 nan errno resource temporarily unavailable signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6785,394ea23c597736b0721562f0ecb70f6a82dbb84f,yrill Gorcunov <gorcunov@openvz.org>, 2014-01-16 16:33:40 +0400, , plugin use sizeof ptr cr_lib_load signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6786,80dcf8d3418f388e60d35cd4675ee57dbf716b9d,yrill Gorcunov <gorcunov@openvz.org>, 2014-01-16 16:33:39 +0400, , plugin standartify add_plugin_func macro drop drop empty line use sizeof ptr signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6787,8f109f69d8db81f17e79733fa2b12c919a618794,yrill Gorcunov <gorcunov@openvz.org>, 2014-01-16 16:33:38 +0400, , plugin align cr_plugin_entry union member otherwise almost unreadable mess signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6788,fb068a50ad5a5cb97736409be065d5f98ca00277,ndrey Vagin <avagin@openvz.org>, 2014-01-16 16:07:00 +0400, , zdtm.sh add ability test pre dump test zdtm.sh static env00 make help message bit detailed signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6789,04fde2e178f2364717bc27673a15f3e1f7ec97e6,avel Emelyanov <xemul@parallels.com>, 2014-01-16 14:43:00 +0400, , mem track memory change track mem specified big mistake track ptes soft_dirty need check track mem given fixing remember proper check kernel memory tracker acked cyrill gorcunov gorcunov openvz.org reported tim schã¼rmann info tim schuermann.de signed pavel emelyanov xemul parallels.com,,
6790,21b5bcc0757a351a462f62a8acbf0e270b91cd73,ndrey Vagin <avagin@openvz.org>, 2014-01-14 23:39:00 +0400, , zdtm make return .phony default required make work make leaving directory http 10.30.26.89 job criu test zdtm live static make leaving directory http 10.30.26.89 job criu test zdtm live set lib live make default done make entering directory http 10.30.26.89 job criu test zdtm lib make rule make target default stop make leaving directory http 10.30.26.89 job criu test zdtm lib make default error signed andrey vagin avagin openvz.org acked kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6791,c0a867291229aea78242376a6edaba32f9d7d5c6,ndrew Vagin <avagin@openvz.org>, 2014-01-14 09:21:00 +0400, , zdtm remove .phony proxy make file file rule signed andrew vagin avagin openvz.org acked kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6792,2ec003eb859cea397dc84db31f067856df4e39cd,avel Emelyanov <xemul@parallels.com>, 2014-01-14 12:03:00 +0400, , predump spot vdso page vma victim task pre dump proper vdso fixups thus stage may fail check tread vdso page regular may skip dumping  bad subsequent dump properly spot vdso try dump _all_ page check soft dirty report page clean dump try locate parent image would fail acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6793,91011328fa974a236dbdab03d5f33c5d65616bf4,avel Emelyanov <xemul@parallels.com>, 2014-01-14 09:33:19 +0400, , criu several formatting fix signed pavel emelyanov xemul parallels.com,,
6794,d9ec409b3fbf43b9283cc09e90c7e70a694288d9,avel Emelyanov <xemul@parallels.com>, 2014-01-13 22:14:08 +0400, , parasite always switch netns transport socket pre dump command task collected current_ns_mask uninitilized thus create parasite transport socket criu namespace always pre dump task sitting foreing net namespace may hang performance point view easier always create transport socket victim namespace rahter getting current_ns_mask signed pavel emelyanov xemul parallels.com,,
6795,75fef9a6fbf2d94ed598c3d03f2862f3f3de5de4,ir Kolyshkin <kir@openvz.org>, 2014-01-11 11:41:00 +0400, , test makefile fix phony target broken commit 1fa0c0c05 swear drunk signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6796,ee1643f4abde78e1233433df677e6e79f2ec5bcf,avel Emelyanov <xemul@parallels.com>, 2014-01-11 09:26:24 +0400, , page xfer page server always open local xfer way option make page server send data another page server address port one would apply local page server thus need open generic xfer page server local one avoid confusion signed pavel emelyanov xemul parallels.com,,
6797,71f126d2eb49c6575940d11cb9abdb5e4f199d70,avel Emelyanov <xemul@parallels.com>, 2014-01-11 09:19:35 +0400, , page xfer lost end error message signed pavel emelyanov xemul parallels.com,,
6798,5226efe3282a5e37b23e8a77ee43757437937a37,avel Emelyanov <xemul@parallels.com>, 2014-01-10 18:28:00 +0400, , service handle client unexpected disconnection signed pavel emelyanov xemul parallels.com,,
6799,4617b77e347e0c48a1b8585b3b9fd702eb96ad80,avel Emelyanov <xemul@parallels.com>, 2014-01-10 15:36:00 +0400, , service send dump resp case dump failure signed pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com,,
6800,5f9b8794e08b6a0eedf78e8c3dc9ad41528b42c9,ir Kolyshkin <kir@openvz.org>, 2014-01-08 19:36:25 -0800, , log print timestamps verbosity increased timestamps handy clutter output normal user let print verbosity increased default currently default timestamps one use vvv  alternatively could introduce separate timestamps option personally find handy timestamps tied log level signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6801,3d9ff2706fa7e1bfac2e1c032c6b5a5b537a92d5,ir Kolyshkin <kir@openvz.org>, 2014-01-08 19:36:24 -0800, , print_on_level simplify setting code slight refactoring commit 7de9652 simplifies initialization variable add comment make next patch easier read cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6802,81ee51f0e8cea257f1dc66f131d391a92e4ca5ae,ir Kolyshkin <kir@openvz.org>, 2014-01-08 19:36:23 -0800, , criu help doc criu.txt fix option description current description vvv taken criu log.h comment describes specific log level used pr_ function problem includes previous ... level say vvvv description say debug fact fix accordingly also removed description useless fact doe set log level default vxxx used addition change delimiter option alternative comma vertical bar criu help output line rest usage output signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6803,5a4c1f736896261a28922ae7619cbabb2d0428b8,ir Kolyshkin <kir@openvz.org>, 2014-01-08 19:36:22 -0800, , log.c fix typo comment end slightly improve readability signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6804,19ea709e1af924c5b2344896f306bb3897c4cb63,ir Kolyshkin <kir@openvz.org>, 2014-01-08 19:34:38 -0800, , doc makefile add pdf generation handful check man page look pdf postscript use make make pdf generate one signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6805,5e10cb7319080dcc0a02f48015c257111b182cf0,ir Kolyshkin <kir@openvz.org>, 2014-01-08 19:34:37 -0800, , doc makefile make clean greedy remove file explicitly generate signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6806,7e3b9079d5d3e4229b97d9751a26ae7dd67a8e3e,ir Kolyshkin <kir@openvz.org>, 2014-01-08 19:33:05 -0800, , criu show long usage case error show long usage case usage error otherwise actual error message lost long output print error command specified return criu help used signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6807,5d12a116f174fd39603fa95c6967bf7775e1cd15,ir Kolyshkin <kir@openvz.org>, 2014-01-08 19:33:04 -0800, , criu unify invalid usage error message make invalid usage type message uniform use pr_msg pr_err want clutter output useless information like crtools.c 123 signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6808,946a585273b59a7e5630d61886f755288393a4b2,ir Kolyshkin <kir@openvz.org>, 2014-01-08 19:33:03 -0800, , criu unify improve bad argument message introduce generic way report option argument invalid switch using existing place option veth pair port check invalid argument report note order correctly print long option name case used instead short one move struct option long_opts main context patch long pr_msg rather pr_err used print error otherwise prefixed crtools.c 123 prefix make look weird usage shown case error otherwise error message lost output signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6809,8c0feee25335dba914df1c48fb7bec69d089c757,ir Kolyshkin <kir@openvz.org>, 2014-01-08 19:33:02 -0800, , main dupe open_image_dir error message case open_image_dir fails print error need print one time signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6810,fe0a9670f38603ee67c2ebc787ebd68aa284bdd5,ir Kolyshkin <kir@openvz.org>, 2014-01-08 03:16:00 +0400, , simplify dummy rule use true instead echo dev null effect byte signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6811,55fca14c8020dcd142986fdb65058459fe652c6d,ir Kolyshkin <kir@openvz.org>, 2014-01-08 03:15:00 +0400, , make clean fix running make clean top dir following error happens make leaving directory kir git criu test zdtm live static make leaving directory kir git criu test zdtm live set lib live make cleanout done make entering directory kir git criu test zdtm lib make rule make target cleanout stop make leaving directory kir git criu test zdtm lib make cleanout error make leaving directory kir git criu test zdtm make clean error fix adding dummy cleanout target test zdtm lib makefile signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6812,40492dc33de484a7a6f2b22fb2fb001d66ad9376,ir Kolyshkin <kir@openvz.org>, 2014-01-08 02:46:00 +0400, , test zdtm lib makefile phony target forgot one signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6813,1fa0c0c058d3f5d426f935e3440c64bd9ca60531,ir Kolyshkin <kir@openvz.org>, 2014-01-07 13:58:05 -0800, , test makefile add append phony target ... missing signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6814,55c8be1c163110f74d4d3b70fa8d1926f42b262e,ir Kolyshkin <kir@openvz.org>, 2014-01-07 13:58:04 -0800, , test zdtm lib makefile unused target phony signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6815,068b4f3c9b240d1c17e3ac429abc1c1eb0c9d8b5,avel Emelyanov <xemul@parallels.com>, 2014-01-06 01:08:06 +0400, , rst error code got hidden successful core read ret overwritten core read sub routine need reset keep failing case e.g last pid sysctl write reported neal becker ndbecker2 gmail.com signed pavel emelyanov xemul parallels.com,,
6816,48d3b1fc677f0ced115630c83206782b0a7a42f8,avel Emelyanov <xemul@parallels.com>, 2014-01-04 23:57:11 +0400, , service check req check minimal kernel support rpc requested check kernel enough check minimal amount kernel feature signed pavel emelyanov xemul parallels.com,,
6817,f3222f746e388bf50082535867007aab1d270b3c,avel Emelyanov <xemul@parallels.com>, 2014-01-04 23:45:09 +0400, , check collect mount info checking might need resolve socket path require mount info tree collected reported neal becker ndbecker2 gmail.com signed pavel emelyanov xemul parallels.com,,
6818,b876dfa3a9aa481d448aa858eae8cd2d457c2803,avel Emelyanov <xemul@parallels.com>, 2013-12-31 14:08:50 +0400, , criu version 1.1 rc1 two major change far libcriu.so rpc wrapper plugins define api want check api good enough thus tag rc1 let people try thing smooth agead tar 1.1 signed pavel emelyanov xemul parallels.com,,
6819,10da1303d6ff440989d9bd5aa60d5747f8290dfd,ndrey Vagin <avagin@openvz.org>, 2013-12-31 13:54:53 +0400, , mount ext fix path test file root avagin fc19 ext bash run.sh make make nothing done criu criu finf finish outf run_output pidfile pid_wait tempd temp_dir sfile source_file tdir test_dir dfile dest_file mesg msg export finf export outf export pidfile export sfile export dfile export tempd export mesg export tdir mkdir dump mkdir create directory dump file exists mkdir test_dir mkdir create directory test_dirâ file exists mount bind test_dir mount make rprivate test_dir unshare mount run_ns.sh set odir mexold pwd cur root crtools test mount ext mount make rprivate temp_dir finish run_output mexold mkdir temp_dir touch test_dir dest_file mount tmpfs none temp_dir echo msg mount bind temp_dir source_file test_dir root crtools test mount ext test_dir dest_file mount mount point test_dir root crtools test mount ext test_dir dest_file doe exist fail unshare echo unshare unshare exit signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6820,f3cec004d91cfffcc4149db8b20b326f3f1b9af4,ndrey Vagin <avagin@openvz.org>, 2013-12-30 12:32:00 +0400, , test show log case error makefile locked test executed concurrently return non zero code signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6821,2379c67017abf89d66752612f29d1500396b388a,ndrey Vagin <avagin@openvz.org>, 2013-12-30 12:31:45 +0400, , test make transfer argument zdtm.sh make zdtm_args test zdtm_ns make able execute test concurrently customize execution test signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6822,8bd7ac7717a8c5315409fd71601a15d2715da0b8,ndrey Vagin <avagin@openvz.org>, 2013-12-30 12:30:18 +0400, , mount restero slave shared mount correctly mount slave shared group crtools must convert slave crtools make shared signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6823,f0e99650a939a1b06b3f42ad10aee5031d1225fc,avel Emelyanov <xemul@parallels.com>, 2013-12-27 21:20:33 +0400, , zdtm update treat nfs fds properly first silly rename file name may change kludge fds comparison properly allow linked remaps write_read10 test effectively generates nfs signed pavel emelyanov xemul parallels.com,,
6824,d47d93b2cf2a6d6e0b34eac6850bffd5d308cba2,avel Emelyanov <xemul@parallels.com>, 2013-12-27 21:16:33 +0400, , file dump nfs silly rename file linked remap always distinguish ghost file linked remap nfs link count never file positive value mean file stay place terminate task dump hold multiple unlinked link file delayed unlined checkinf file path work well silly rename file remain visible vfs though fortunatelly nfs allows creation additional likns file create linked remap file signed pavel emelyanov xemul parallels.com,,
6825,dc48dd74f79397eaf3215fc1abbec756ec3a7033,avel Emelyanov <xemul@parallels.com>, 2013-12-27 21:15:16 +0400, , file pas fs_parms catch nfs silly rename file need struct stat signed pavel emelyanov xemul parallels.com,,
6826,52dec20a17da494c9a5167f51386b6636f07628d,avel Emelyanov <xemul@parallels.com>, 2013-12-27 21:14:09 +0400, , file save fstype fd_parms need special care nfs silly rename file thus need know file belongs signed pavel emelyanov xemul parallels.com,,
6827,eeec1b40a7d95b4be679413d1c54743f239334bd,avel Emelyanov <xemul@parallels.com>, 2013-12-27 16:00:57 +0400, , net add comment using ifindex setlink signed pavel emelyanov xemul parallels.com,,
6828,7ab8a3261b5b6f2404155a397dd3950fb7a67c8f,avel Emelyanov <xemul@parallels.com>, 2013-12-27 15:58:27 +0400, , show implement simple image filtering field option specifies field name comma separated printed nested field name path specified signed pavel emelyanov xemul parallels.com,,
6829,73b689f81bd12dff74bea940aef359656443a4c5,ndrey Vagin <avagin@openvz.org>, 2013-12-26 22:49:37 +0400, , page read check image file contains data modern tar rsync replace zero chunk hole valid situation abort restore signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6830,0758b4c2162044edbe1498f994db34b1b251def6,avel Emelyanov <xemul@parallels.com>, 2013-12-26 17:01:11 +0400, , test test example dump namespace macvlan one note macvlan index _does_ change either patch iproute2 use raw kernel api preserve signed pavel emelyanov xemul parallels.com,,
6831,b88d8e1bf6685bc33d3d370230571d13925b1786,avel Emelyanov <xemul@parallels.com>, 2013-12-26 17:00:55 +0400, , net specify link index restoring params well create external link utility specify index thus able move external device namespace ask criu restore link params however rtm_setlink happily work link name since one image omit setting index requrest todo send patch index specification iproute2 signed pavel emelyanov xemul parallels.com,,
6832,70bb57e20a081d280d9acc989f783c8b0532b159,avel Emelyanov <xemul@parallels.com>, 2013-12-26 17:00:38 +0400, , restore run setup script restoring call external script namespaces created try fill data image done e.g make possible push external net link netns signed pavel emelyanov xemul parallels.com,,
6833,39834b1d7ec75c81eed98c254f7e1ddbc0df5a8e,avel Emelyanov <xemul@parallels.com>, 2013-12-26 17:00:22 +0400, , util log script running signed pavel emelyanov xemul parallels.com,,
6834,a4525522b5196c4336e0ef36980a4c160d1a88cf,avel Emelyanov <xemul@parallels.com>, 2013-12-26 17:00:05 +0400, , net add ability dump external link plugins meet link dump call plugin check whether link treated external note restore call plugins consider setup namespace script move respective link namespace link hierarchical moved namespaces easily delegate link creation script signed pavel emelyanov xemul parallels.com,,
6835,6d683556b2ebb337c3f552a39455b6c64c8bdfdb,avel Emelyanov <xemul@parallels.com>, 2013-12-26 16:59:45 +0400, , net factor unknown device dumping dumping warning next patch call plugins signed pavel emelyanov xemul parallels.com,,
6836,8df4d6769cdbae028fc0174dfc5035c2f141b61d,avel Emelyanov <xemul@parallels.com>, 2013-12-26 16:59:28 +0400, , net factor empty kind device checking signed pavel emelyanov xemul parallels.com,,
6837,d5790de6236af93f17c1d4c0cb5a9ba86a640608,avel Emelyanov <xemul@parallels.com>, 2013-12-26 16:59:12 +0400, , net move void device dumping separate helper make look symmetrical type dumping simpler patching signed pavel emelyanov xemul parallels.com,,
6838,c1fd8656459a347c98abd40ae55df3074b152081,yrill Gorcunov <gorcunov@openvz.org>, 2013-12-26 12:56:31 +0400, , file link remap fix potential buffer overrun former file path long enough near path_max limit sprintf ing link_remap might overrun limit use snprintf instead signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6839,1c2b1633d9909948ec47ff1ef77f0c8e224a7fe8,avel Emelyanov <xemul@parallels.com>, 2013-12-26 11:40:31 +0400, , mount check mount postponing helper expression becomes quite complex deserves helper proper explanation going signed pavel emelyanov xemul parallels.com,,
6840,08b893fd03e021fc2e19fa4de1582d1643209cb7,avel Emelyanov <xemul@parallels.com>, 2013-12-26 11:22:01 +0400, , mount add comment is_root_xxx check signed pavel emelyanov xemul parallels.com,,
6841,a0049bfe6ae71486bd19ed60018fc2597661a976,ndrew Vagin <avagin@openvz.org>, 2013-12-26 11:10:00 +0400, , crtools fixed format string use format specifier instead print size_t integer signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6842,f9cf51439a7c3421d63c25788721faa2045de206,avel Emelyanov <xemul@parallels.com>, 2013-12-26 11:09:11 +0400, , plugins return inside macro signed pavel emelyanov xemul parallels.com,,
6843,a5559cbd70c1e2be8692909efeec122633dc2b61,avel Emelyanov <xemul@parallels.com>, 2013-12-26 11:08:54 +0400, , plugins strdup libdir arg freed anywhere make code look simpler signed pavel emelyanov xemul parallels.com,,
6844,094affbdbb8a1631f7df9bac836bfd943a11750a,avel Emelyanov <xemul@parallels.com>, 2013-12-25 16:55:11 +0400, , test test example external bind mount plugin signed pavel emelyanov xemul parallels.com,,
6845,c18b30d0a9f5a3e3a4752df7a6012cb4221c7a3a,avel Emelyanov <xemul@parallels.com>, 2013-12-25 16:54:53 +0400, , mount restore external bind mount plugins entry with_plugin set mounted plugin interesting case pivot root restore case call restore callback early unmount old tree ask create mountpoint temporary location later move mount proper place old_root argument callback find file original mount namespace is_file return argument sine file directory bind mounted callback create mountpoint report whether created file directory signed pavel emelyanov xemul parallels.com,,
6846,d21ff39aabd6f081953bff55e531c67a14f190df,avel Emelyanov <xemul@parallels.com>, 2013-12-25 16:54:36 +0400, , mount dump external bind mount plugins external bind mount source sitting outside current view detected validate_mounts ahead call plugins plugin provided mountpoint decide whether else doe guy need identify mountpoint proc used restore time find needed restore info signed pavel emelyanov xemul parallels.com,,
6847,db33a144d2140e88960a3d0dc9dfbe4f103665e6,avel Emelyanov <xemul@parallels.com>, 2013-12-25 16:54:19 +0400, , mount fix print info match strictly speaking working signed pavel emelyanov xemul parallels.com,,
6848,dcd680726c00c801bebaed1242cefe43281381bc,avel Emelyanov <xemul@parallels.com>, 2013-12-25 16:54:03 +0400, , mount read mount image eary pre mount move read_mnt_ns_img pivot_root call signed pavel emelyanov xemul parallels.com,,
6849,70eb3cc4f39c2cc3ea619263a64de5dae43e34ae,avel Emelyanov <xemul@parallels.com>, 2013-12-25 16:53:46 +0400, , mount make image reader return list mount carry local variable next patch global mntinfo one signed pavel emelyanov xemul parallels.com,,
6850,cb4e125bd0c044353ade32a200949ac8c326622c,avel Emelyanov <xemul@parallels.com>, 2013-12-25 16:53:27 +0400, , mount split reading image populating need image hand pivot_root see patch prepare image reading routine signed pavel emelyanov xemul parallels.com,,
6851,f0e0ee7a5c2f60e9812f123a5067b335b936fb21,ndrey Vagin <avagin@openvz.org>, 2013-12-21 01:13:33 +0400,1, unix fix calculation pointer cid 1141016 extra sizeof expression sizeof_mismatch adding 40ul sizeof filepermsentry pointer fownentry perm type fownentry suspicious adding integral value pointer automatically scale value size byte pointed type fownentry likely sizeof filepermsentry extraneous replaced signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6852,a5bb33417b2690873b483aaeeb59752e87fb2443,ndrey Vagin <avagin@openvz.org>, 2013-12-21 01:13:32 +0400, , service leak zero file descriptor cid 1141017 resource leak resource_leak 14. leaked_handle handle variable going scope leak handle signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6853,99bb419df172c61c771dcafaa398f25bf5a64e23,ndrey Vagin <avagin@openvz.org>, 2013-12-21 01:13:31 +0400,1, image leak file descriptor cid 1141015 resource leak resource_leak leaked_handle handle variable going scope leak handle signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6854,07d9e11374ff2b71d37bccec1998d542ac4149fd,ndrey Vagin <avagin@openvz.org>, 2013-12-21 01:13:30 +0400,1, unix fix double free error path cid 1141011 double free use_after_free 24. double_free calling free void free pointer already freed signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6855,4202acbc8f1a7751d45ef18c7dd5a37fa7c63b34,ndrey Vagin <avagin@openvz.org>, 2013-12-23 13:55:19 +0400, , zdtm increase amount allowable inaccuracy timeout exceeded dumping restoring testing snapshot test dumped three time signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6856,c8e9701f21323cc26c335cd2afd7512db0611c39,ndrew Vagin <avagin@openvz.org>, 2013-12-23 13:54:19 +0400, , ptrace check ptrace_listen defined yet file included arch x86 crtools.c include ptrace.h error ptrace_listen redefined werror define ptrace_listen 0x4208  file included include ptrace.h arch x86 crtools.c usr include sys ptrace.h 150 note location previous definition define ptrace_listen ptrace_listen  cc1 warning treated error make arch x86 crtools.o error signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6857,ad0249f6495d85defa852bd784d13efc55e7800a,ndrey Vagin <avagin@openvz.org>, 2013-12-23 13:53:53 +0400,1, lib copy buffer size cid 1141012 copy fixed size buffer string_overflow fixed_size_dest might overrun 108 byte fixed size string addr.sun_path copying service_address without checking length signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6858,d4df900236a9d9af0adc3bf5c2a64f6a76eb0b4f,avel Emelyanov <xemul@parallels.com>, 2013-12-20 23:22:04 +0400, , unseize print error unseizing stopped task stopped state small mistake prev patch signed pavel emelyanov xemul parallels.com,,
6859,a2eaa5cf44d607473bd801500e467b44bbf868cd,ndrew Vagin <avagin@openvz.org>, 2013-12-20 20:36:12 +0400, , ptrace task state restored automatically feature ptrace_seize need something want change state xemul task _was_ stopped state dump want stay alive dump existing code queue one stop affect subsequent dump seize stopped task stop queue one item todo list support stopped task stop queue  signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6860,805e25effec6d4d729cda2a4c8774d43cd94f45a,avel Emelyanov <xemul@parallels.com>, 2013-12-20 16:42:24 +0400, , ptrace add comment early interrupt signed pavel emelyanov xemul parallels.com,,
6861,800c4d09bb681b2ed9c3f99be5f2b6075bd5accb,ndrey Vagin <avagin@openvz.org>, 2013-12-20 16:41:14 +0400, , seize add detailed comment several attempt freeze task signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6862,fc9fea2fdcd28351bf9ec9457a02c1e738095c0d,ir Kolyshkin <kir@openvz.org>, 2013-12-19 13:24:29 -0800, , criu log.h fit macro column patch backslash 81th column make text twice longer standard col terminal quite annoying signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6863,8692291d42669fa1bcd30b18702d354430252148,ir Kolyshkin <kir@openvz.org>, 2013-12-19 13:24:28 -0800, , tab eol cleanup remove whitespace eol found git grep character real tab typed shell using ctrl tab people using vim suggest adding following code .vimrc let c_space_errors highlight formaterror ctermbg darkred guibg darkred match formaterror 80v signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6864,94b09be23aa1d0cbcd1cd6702c0ea867299f254d,ir Kolyshkin <kir@openvz.org>, 2013-12-20 16:08:21 +0400, , cr_service use pr_perror since sd_listen_fds set errno returning value make sense use pr_perror use pr_err instead remove period log message fix function name signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6865,0dfb07762181ed85267f0dc66b061ca3db151204,ndrey Vagin <avagin@openvz.org>, 2013-12-20 16:05:18 +0400, , zdtm test dumping character device help custom callback signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6866,6bbdec26f31c9fd19ba26ad30b20a0fd3985f373,ndrey Vagin <avagin@openvz.org>, 2013-12-20 16:05:17 +0400, , file add ability set callback file nothing interecting file dumped criu plugins called one plugins know dump file file entry marked need_callback restore see mark execute plugins restoring file callback called file supported criu call plugins file instead file descriptor file descriptor associated one file file descriptor opened callback required restoring anon vmas add separate type unsupported file define unsupp ext external signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6867,1e4b8c8c238115f132616163cfa176c8c45d4ade,ndrey Vagin <avagin@openvz.org>, 2013-12-19 21:35:03 +0400, , test check callback dumping restoring socket client server program two library dumping client socket syslog socket client ask server save value request later suppose dumping restoring client get value dump callback request value save file restore callback creates new socket ask server save value file open syslog socket signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6868,9e3f4451e1c9cfb7e96f6830b8a510fce5923bd8,ndrey Vagin <avagin@openvz.org>, 2013-12-19 21:35:01 +0400, , unix add ability set callback external socket know state behind external socket depends logic program handle socket patch add ability load library callback dumping restoring external socket patch introduces two callback callback handle socket must return enotsup main question kind information tranfered callback pls think minute send opinion use uflags instread adding new field clean unsuitable callback return enotsup set usk_callback socket dumped callback signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6869,afc61ba5629962c1075e23e4f39fe60d49c18222,ndrey Vagin <avagin@openvz.org>, 2013-12-20 15:09:40 +0400, , unux postpone dumping socket unix socket dumped peer socket found going dump external socket help plugins need set usk_callback flag unix entry currently socket dumped immediately transfered sure socket external peer add comment code signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6870,59162cccf7bd2cb561bc45557acde4b4f65ebfd3,ndrey Vagin <avagin@openvz.org>, 2013-12-19 21:34:58 +0400, , unix dump allocate unixskentry dynamically signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6871,8f66bf97947a7118b7b3ed9954ac8f246a329e49,ndrey Vagin <avagin@openvz.org>, 2013-12-19 21:34:57 +0400, , unix link socket peer going add callback dumping external socket external socket added unix_list dumping need know peer one thing socket closed peer dumped going transfer socket decriptor callback signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6872,dc914912ecaf5e750029faa5a8db85e5432be766,ndrey Vagin <avagin@openvz.org>, 2013-12-20 14:45:17 +0400, , dump try stop task soon possible read proc pid status determine task state task running moment state may changed patch stop task reading proc pid status signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6873,bf67879062b9e4fa02791bfe0d014eff391b2c02,ndrey Vagin <avagin@openvz.org>, 2013-12-20 14:45:16 +0400, , crtools rework freeze process patch crtools freeze process something changed unfreezes process start beginning going dump fork bomb method work big tree always changed need unfreeze process frozen patch doe patch depth first search dfs traversing process tree root task frozen first turn child frozen child child child one process frozen criu read list child check nothing changed process continues frozen afte new child appeared child child frozen add comment code signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6874,978badc196b5ff5da96e4fd45dd0e1f08e085ff6,ndrey Vagin <avagin@openvz.org>, 2013-12-20 14:45:15 +0400, , dump rework freeze thread try freeze thread exit new one born currently unfreeze process free int case chance failed next case suggest unfreeze frozen thread try update thread list freeze unfrozen thread signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6875,e2a0be63d4b8e1e032494f78fffb7f2c493b793c,ir Kolyshkin <kir@openvz.org>, 2013-12-20 01:18:00 +0400, , init variable warning catched clang mount.c 869 error variable progress uninitialized used werror wuninitialized ... prev mnt_walk_none struct list_head null progress  mount.c 802 note expanded macro mnt_tree_walk _prgs   mount.c 867 note initialize variable progress silence warning int progress   error generated signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6876,ca44f6f07193818cd20879538ee0e721d73a0866,ndrey Vagin <avagin@openvz.org>, 2013-12-19 22:53:42 +0400, , zdtm add new test creates destroys thread thread create another thread number thread limit test case useful check criu freezer signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6877,a37cf7a407157c8d381885b6a59efa9bd4866d97,avel Emelyanov <xemul@parallels.com>, 2013-12-19 22:48:55 +0400, , seize add comment unseizing task signed pavel emelyanov xemul parallels.com,,
6878,9cec289f7405113e5c68bd0b7b2e9f95a4f7bc3c,ndrey Vagin <avagin@openvz.org>, 2013-12-19 16:59:46 +0400, , dump restore state correctly currently task restored alive stopped task must restored stopped signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6879,625ad48dfdfa88612131728ff853a2fda38cfddc,ndrey Vagin <avagin@openvz.org>, 2013-12-19 16:59:41 +0400, , dump restore state thread needed stat property task restore state task enough signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6880,e027f116e4e5c492ae241fde021605a004a36e6e,ndrey Vagin <avagin@openvz.org>, 2013-12-19 21:35:02 +0400, , plugin add function get descriptor image dir signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6881,d7cf271ed4ef94cf4deaa3757b853794839ad4e3,ndrey Vagin <avagin@openvz.org>, 2013-12-19 21:35:00 +0400, , crtools preload library library plugins going used dumping restoring external dependency e.g dbus systemd journal socket charecter device etc plugin cr_plugin_init cr_plugin_fini function initialization deinialization criu plugin.h contains thing used plugins rename lib plugin add default value plugin path signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6882,b90373b48c8d219d7b8bf7a44173c50c94839de6,ndrey Vagin <avagin@openvz.org>, 2013-12-18 15:36:37 +0400, , file transfer file descriptor dump_unsupp_fd signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6883,2add5b87faea0f1cc8afd0c82a42482673afa9cc,ndrey Vagin <avagin@openvz.org>, 2013-12-18 15:36:34 +0400, , plugin allow use logging function plugins signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6884,c79751171ffa96ab27b4dbf61af3cde85f772728,avel Emelyanov <xemul@parallels.com>, 2013-12-18 21:24:52 +0400, , service add coment cr_dump_task script code propagation signed pavel emelyanov xemul parallels.com,,
6885,fba791a607285c432c6a13233fdccb7a3a855770,uslan Kuprieiev <kupruser@gmail.com>, 2013-12-18 21:18:00 +0400, , service fix bug root_item initialized restore fails early stage like image directory root_item might uninitialized trying send response root_item pid criu crash signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6886,003cfcae19eef034519d556c4041a7e02149c106,uslan Kuprieiev <kupruser@gmail.com>, 2013-12-18 21:17:53 +0400, , service fix bug criu report success dump fail cr_dump_tasks may return fail signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6887,f4f806186c32dc3e081003682b52aeeaeb542150,uslan Kuprieiev <kupruser@gmail.com>, 2013-12-18 15:50:28 +0400, , test libcriu check ebade instead signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6888,e80ee173683e0d9f9c952b61e4267fe82bac0192,uslan Kuprieiev <kupruser@gmail.com>, 2013-12-18 15:50:27 +0400, , lib return ebade instead signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6889,e4c366806fdbd800c485ff7884a1dcdd79419f15,avel Emelyanov <xemul@parallels.com>, 2013-12-18 14:57:17 +0400, , dedup mark static signed pavel emelyanov xemul parallels.com,,
6890,ba96e646a4b98c90d423ae1787024135c3dcbd92,avel Emelyanov <xemul@parallels.com>, 2013-12-18 14:55:22 +0400, , page read fix naming open_page_at one quite obfuscating signed pavel emelyanov xemul parallels.com,,
6891,55b96d0113fc10dedc3415ec257104fcf5a94282,avel Emelyanov <xemul@parallels.com>, 2013-12-18 14:53:30 +0400, , page read fix compilation older distros seek_data appeared quite recently define present system header signed pavel emelyanov xemul parallels.com,,
6892,de5fc0d1e9ded97dad61b43749e3babef9ad65b2,ikhomirov Pavel <snorcht@gmail.com>, 2013-12-17 19:27:13 +0400, , test dedup auto dedup test add auto dedup dumping last time check size become smaller signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6893,41433f4043b7fd3aedde9e94f98c1973522ecc65,ikhomirov Pavel <snorcht@gmail.com>, 2013-12-17 19:27:12 +0400, , deduplication add auto dedup local signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6894,49048782584bca41fc3459930365197d8fca7f6f,ikhomirov Pavel <snorcht@gmail.com>, 2013-12-17 19:27:11 +0400, , deduplication add auto dedup option signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6895,96b26f6392e103e85c8a651eff57fa4b4c29abf4,ikhomirov Pavel <snorcht@gmail.com>, 2013-12-17 19:27:10 +0400, , test dedup dedup parent restoring size become smaller restored test passed use mem snap.sh signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6896,00e4f24b3f058713c2c3a30e0991cda27a895c01,ikhomirov Pavel <snorcht@gmail.com>, 2013-12-17 19:27:09 +0400, , deduplication add punching hole parent punch coresponding data updated curent snapshot signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6897,d866bd196b23a05d5522738958a05248758e83fe,ikhomirov Pavel <snorcht@gmail.com>, 2013-12-17 19:27:08 +0400, , deduplication look old page previous snapshot old snapshot parent symlink pid pagemap pid.img file signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6898,ea403c7a081cbd5591cfcf44c57da5540b4823c1,ikhomirov Pavel <snorcht@gmail.com>, 2013-12-17 19:27:07 +0400, , deduplication add dedup comand criu signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6899,5db1adc567ab6cc542aac31eb35a78023f19779c,ikhomirov Pavel <snorcht@gmail.com>, 2013-12-17 19:27:06 +0400, , page read add open_page_rw open page o_rdwr mode signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6900,6336d537ac3fd32c19db83a67ffabdb159ebae18,ikhomirov Pavel <snorcht@gmail.com>, 2013-12-17 19:27:05 +0400, , page read make function used dedup signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6901,0f90727ddba1e903b56207811ee2d17396039e56,ikhomirov Pavel <snorcht@gmail.com>, 2013-12-17 19:27:04 +0400, , page read add reuse posibility pagemap2iovec signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6902,530b6d11fd62cc28aad3d5f2d0188f3ddccb99d5,ikhomirov Pavel <snorcht@gmail.com>, 2013-12-17 19:27:03 +0400, , page read replace signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6903,632798b789707d393796c3ae296ee485a43bd17c,ikhomirov Pavel <snorcht@gmail.com>, 2013-12-17 19:27:02 +0400, , fix read opened o_rdwr signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6904,c49219bf6a53eac1b1bb578171bc92c563c3dc83,ikhomirov Pavel <snorcht@gmail.com>, 2013-12-17 19:27:01 +0400, , page read add print error case bad corrupted image add instead bug_on print error warn assigned true correct use provide warn true signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6905,164bc4bdf126b3047e546a6a0caefdf62ebc7523,ikhomirov Pavel <snorcht@gmail.com>, 2013-12-17 19:27:00 +0400, , page read check read page hole signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6906,ca1f60d26792d36d2719f168f970cc48978a1b77,uslan Kuprieiev <kupruser@gmail.com>, 2013-12-18 01:04:41 +0400, , test libcriu test similiar test rpc also used example using libcriu signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6907,906a75ca0334227dc6bec90da85cdb42fb26c837,uslan Kuprieiev <kupruser@gmail.com>, 2013-12-18 01:04:40 +0400, , lib add check dump restore function used check criu dump process restore process signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6908,a1e7407397d7a66bf4df9e77a90527295ad950fc,uslan Kuprieiev <kupruser@gmail.com>, 2013-12-18 01:04:39 +0400, , service move constant service const.h constant cr_max_msg_size need used service lib signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6909,ba18a5e16cb95d60e182cc27c4545499ff379225,uslan Kuprieiev <kupruser@gmail.com>, 2013-12-18 01:04:38 +0400, , make lib use ldflags obj ext src need ldflags link libcriu lprotobuf rpc.pb c.o use rpc signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6910,33993eaf5ba8c4b8a37be47387ef2dabd952f454,uslan Kuprieiev <kupruser@gmail.com>, 2013-12-18 01:04:37 +0400, , make add ldflags variable make engine need use dynamic library libcriu signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6911,5ec15bf25c962c0ee6f734029159ef76725999de,ikhomirov Pavel <snorcht@gmail.com>, 2013-12-17 19:45:22 +0400, , page read add proper processing return value get error reading image file need stop restore signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6912,b7529fe814826b6e0bc721a64ef673685deae916,yrill Gorcunov <gorcunov@openvz.org>, 2013-12-13 15:41:53 +0400, , make makefile.build improve autocleanup target currently clean wildchar mask actually correct let remove file generated make engine well allows clean object generated obj target even directory obj laying makefile signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6913,0ce8c366dc07dbf1807b6b55a67c13dda272f302,yrill Gorcunov <gorcunov@openvz.org>, 2013-12-13 15:41:52 +0400, , make protobuf explicitly clean generated file signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6914,02feb3a8eb080c920cf9441b5b9f270ebad82ae4,yrill Gorcunov <gorcunov@openvz.org>, 2013-12-13 15:41:51 +0400, , make pie explicitly cleanup specific target make engine reworked clean file generated implicit rule thus anything generated specific way must cleaned explicitly signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6915,5535e44dacdc0a93d1b33ecfed7ea7fc737f3424,avel Emelyanov <xemul@parallels.com>, 2013-12-13 14:32:18 +0400, , crtools keep cr_dump_task post dump ret code broken 09b7b57c signed pavel emelyanov xemul parallels.com,,
6916,b11f24fd5d7e2e8dff9619320d5c4848c8d85fc0,ir Kolyshkin <kir@openvz.org>, 2013-12-13 00:02:00 +0400, , criu check run non root case criu check run non root lot information printed user missing bit run root fix still like fact stuff printed like timestamp __file__ __line__ fixed separately signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6917,abd061481be4b338e906acea393e9af6293eb582,ir Kolyshkin <kir@openvz.org>, 2013-12-12 22:15:00 +0400, , pr_perror end message period pr_perror used error message appended comma strerror errno put period end otherwise end something like error bind permission denied found git grep pr_perror grep signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6918,078465859bd72a7bf87d10f328c20fe1a7c35f76,ir Kolyshkin <kir@openvz.org>, 2013-12-12 10:14:26 -0800, , criu help improve work dir description either comma second line parenthesis chose latter signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6919,37e1ed1345edc3b743e363dcb8045c6f0924e291,ir Kolyshkin <kir@openvz.org>, 2013-12-12 10:14:25 -0800, , criu help add missing colon signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6920,195d8f81d0163e5d77ae33894a1b87dd7536a5f0,ir Kolyshkin <kir@openvz.org>, 2013-12-12 10:14:24 -0800, , criu help rephrase pidfile description ... fit single line signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6921,f2ec7be1250e5e6ca5f42f3de4026962ecfd1904,ir Kolyshkin <kir@openvz.org>, 2013-12-12 10:14:23 -0800, , criu help limit output column ... rephrasing work dir option description signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6922,09b7b57c83370296516af0d2f3ab597300d576ef,ir Kolyshkin <kir@openvz.org>, 2013-12-12 10:02:28 -0800, , criu return negative value main return becomes 255 second part patching return function using ret condition seems like best easiest thing expect function return normal case non zero value case error signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6923,f59326aba6457d11b02da8ccb39501afd722e4ae,ir Kolyshkin <kir@openvz.org>, 2013-12-12 10:02:27 -0800, , criu return negative value main return becomes 255 man bash shell may use value 125 specially black sheep return first part patching obvious direct return statement signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6924,bf5a8e13e16c0f4576af82f9576556c3db712609,ir Kolyshkin <kir@openvz.org>, 2013-12-12 10:02:26 -0800, , cr_service exit exit error exit success signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6925,b744883e42538e57c77bdc3ebf57506fbefbe889,ir Kolyshkin <kir@openvz.org>, 2013-12-12 10:02:25 -0800, , cr_service close error ... return missing part commit 3477223 signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6926,6bfc566d0dfb180a3e278a32783db8d888422918,avel Emelyanov <xemul@parallels.com>, 2013-12-13 13:09:50 +0400, , file lose anon file type name symlink reader report amount byte read case success signed pavel emelyanov xemul parallels.com,,
6927,87317c26faa7690b60abc6eaa46eeb795ae3b917,avel Emelyanov <xemul@parallels.com>, 2013-12-12 16:40:49 +0400, , zdtm allow specify one exclude pattern sometimes want exclude several test run writing expression annoying let make possible several instead signed pavel emelyanov xemul parallels.com,,
6928,ae98ef6ae01cb0e5126208e07f6ed1a6b39ed48f,avel Emelyanov <xemul@parallels.com>, 2013-12-12 16:19:48 +0400, , mount factor mount tree build newns non case anyway build tree case call later signed pavel emelyanov xemul parallels.com,,
6929,bd69c6173d6953543b10ec89c394a771def10c95,avel Emelyanov <xemul@parallels.com>, 2013-12-12 16:11:18 +0400, , mount free old mount pivot root case specify new root restore old mount get destroyed pivot_root umount call tree umount omitted case leaked signed pavel emelyanov xemul parallels.com,,
6930,f35d7cd7fed4d3bca88f6eb7ce28f8a2efa85b5e,avel Emelyanov <xemul@parallels.com>, 2013-12-12 16:01:14 +0400, , mount validate mount read proc restore validation mean check chat _restore_ tree read proc state going umount anything path resolution work knot well signed pavel emelyanov xemul parallels.com,,
6931,e9f9fdb9b394d047648798f043b7e9a891586f4e,yrill Gorcunov <gorcunov@openvz.org>, 2013-12-12 10:03:07 +0400, , header drop uintx_t usage mess uintx_t usage drop uintx_t one signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6932,26fda7a3196c78a1ed1c0e7e9fb8c25a9f2a337e,ir Kolyshkin <kir@openvz.org>, 2013-12-11 14:03:12 -0800, , space tab whitespace cleanup remove space tab character found git grep space ctrl tab shell signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6933,d64d68d66cafd5c3e7aaf0a8af1952deb75d755e,ir Kolyshkin <kir@openvz.org>, 2013-12-11 14:03:11 -0800, , whitespace eol cleanup remove whitespace eol found git grep people using vim suggest adding following code .vimrc let c_space_errors highlight formaterror ctermbg darkred guibg darkred match formaterror 80v signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
6934,2e15e4da9266e290a01bb977377c0a7f32ee8879,hawn Landden <shawn@churchofgit.com>, 2013-12-12 02:54:00 +0400, , systemd socket activation support make criu rpc socket socket activated systemd meaning systemd create listen unix socket var run criu srvice.socket behalf criu connection come pas control socket along first connection newly spawned criu daemon similar inetd criu stay around getting started listening itsself socket http 0pointer.de blog project socket activation.html stripped daemon moved unit script stripped removing unneeded includes signed shawn landden shawn churchofgit.com signed pavel emelyanov xemul parallels.com,,
6935,873d1dac9d09fe198fd56dcd5477619c5906e309,avel Emelyanov <xemul@parallels.com>, 2013-12-12 08:44:15 +0400, , unix move odev kdev conversion correct st_dev phys_dev check fails treat phys_dev kdev path resolve device comparison howver case non btrfs latter one change anything anon device equal kdev odev case signed pavel emelyanov xemul parallels.com,,
6936,0d8f688e5c86ff9699164f466d2322dce7264281,avel Emelyanov <xemul@parallels.com>, 2013-12-12 08:18:21 +0400, , mount fixup phys virt device dumping ghost file dumping ghost file put real device header btrfs virtual one done since put real device fsnotify image get proc said fsnotify ghost restore need path resolution device compare one thing dumping device ghost file _non_ btrfs case convert stat dev_t kernel dev_t place criu manipulate latter one signed pavel emelyanov xemul parallels.com,,
6937,fe764c2c14be91433cf59eb320fd38de880d554a,ndrew Vagin <avagin@openvz.org>, 2013-12-12 01:07:12 +0400, , mount add btrfs fstypes used broken c5d2386a signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6938,976265a0784643652960dd673336797d9eca11e6,avel Emelyanov <xemul@parallels.com>, 2013-12-11 17:34:41 +0400, , mount add comment mount list tree signed pavel emelyanov xemul parallels.com,,
6939,0efaf212b2f2cbb670d336e1c8428518070597e8,avel Emelyanov <xemul@parallels.com>, 2013-12-11 17:19:40 +0400, , mount clean code bit signed pavel emelyanov xemul parallels.com,,
6940,c5d2386a2f878aa9f8095e65bb3f7618bfbc8454,avel Emelyanov <xemul@parallels.com>, 2013-12-11 17:18:59 +0400, , btrfs remove volume parsing code robust agnostic path resolution engine resolving dev conflict signed pavel emelyanov xemul parallels.com,,
6941,1ba08ca6646800927e2c47119f2281858672c20b,yrill Gorcunov <gorcunov@openvz.org>, 2013-12-07 00:41:48 +0400, , mount extend use path resolving instead btrfs engine instead scanning btrfs subvolumes even unaccessbile mount point lay directory instead subvolume use path resolving feature need figure device number need altered mount point know stat called subvolume return st_dev subvolume one associated superblock shown proc self mountinfo output well implies need check device number ghost file updated match mountinfo thus use helper patch previously merged btrfs engine longer needed least seems dropped signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6942,5372e3910c3c726125bb347db97e2660ae721c13,yrill Gorcunov <gorcunov@openvz.org>, 2013-12-11 09:04:14 +0400, , mount btrfs introduce helper routine aimed find mount point path passed argument laying walk mount point see one matching found worst case root mount point function never failing checking btrfs return subvolume0 device see commit detail hell rewrite recursion signed cyrill gorcunov gorcunov openvz.org signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6943,cf1ce5f817beac07f5d590ec7c3e143a21344696,yrill Gorcunov <gorcunov@openvz.org>, 2013-12-07 00:41:46 +0400, , mount build mount tree dump restore early needed path resolution need mount tree parsed built simple current code implies parsed tree must parsed pas parse argument caller task restoring use mount namespace parse mount tree early otherwise defer action mount tree read image signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6944,8e0c1037f303265ce035565e47aefb2c9514d2be,yrill Gorcunov <gorcunov@openvz.org>, 2013-12-07 00:41:45 +0400, , mount introduce mntinfo_root variable variable carrying root parsed mount tree pointed mntinfo thus mntinfo get destroyed mntinfo_root set null signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6945,921cf873f30ad35df2b65602ed402f94695a6eb3,yrill Gorcunov <gorcunov@gmail.com>, 2013-12-05 15:56:03 +0400, , btrfs fail meet non subvolume mountpoint mount point subvolume need complex logic figure subvolumes might addressed later moment simply fail case worst scenarion fail later criu code devs matching best case application using notify socket deleted file continue without error signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6946,fe5f60b9d4ab05c1fb41655eb7aed28affcaaa35,yrill Gorcunov <gorcunov@openvz.org>, 2013-12-05 12:45:47 +0400, , btrfs miss subvol0 matching subvolume device number well miss looking match reported andrew vagin avagin parallels.com signed cyrill gorcunov gorcunov openvz.org tested andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
6947,07e153fc4c76b1079fa90e056405c4b4a6425576,uslan Kuprieiev <kupruser@gmail.com>, 2013-12-05 12:05:46 +0400, , service set success true exit signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6948,3708ecb4995f7b6158c39274a28013c994ef6dcd,avel Emelyanov <xemul@parallels.com>, 2013-12-04 19:51:25 +0400, , mount introduce generic parsing callback make use btrfs signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
6949,b6e2dfd2de921e9108219cf034bdbf77d4102925,avel Emelyanov <xemul@parallels.com>, 2013-12-04 19:51:10 +0400, , mount prepare fstypes contain unsupported need parse btrfs stuff one supported list yet bound hardware signed pavel emelyanov xemul parallels.com acked cyrill gorcunov gorcunov openvz.org,,
6950,a5785c94bc1b7247454d5fc7dbff3c1dae175df7,yrill Gorcunov <gorcunov@openvz.org>, 2013-12-04 19:15:14 +0400, , file reg fail matching ghost file btrfs subvolume case ghost file btrfs subvolume fail test match signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6951,9e6bd8c5129e1e72235c6f099e456c412c638828,yrill Gorcunov <gorcunov@openvz.org>, 2013-12-04 19:15:13 +0400, , unix fail socket path lay btrfs volume socket migh lay btrfs volume thus device number reported diag module obtained stat need additional test try resolve device number help btrfs engine signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6952,e54ad19a06824e697e40b6fabc51c9079b825ac8,yrill Gorcunov <gorcunov@openvz.org>, 2013-12-04 19:15:12 +0400, , mount add helper helper serf hide specific particular btrfs thus caller need detail signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6953,c9069ba09f65a273f318cb0aa9b81151deb31a19,yrill Gorcunov <gorcunov@openvz.org>, 2013-12-04 19:15:11 +0400, , proc_parse call every mount helper cause btrfs engine collect subvolumes signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6954,d4eaf8d61248d9872a3e660292797a6a7aa63c89,yrill Gorcunov <gorcunov@openvz.org>, 2013-12-04 19:15:10 +0400, , btrfs introduce btrfs engine found btrfs per subvolume device numbering scheme cause test fail laying filesystem introduce minimal engine par subvolumes present mount point interface two function one par subvolume cache result is_btrfs_subvol test device laying subvolume code assume cpu running little endian thus one day run big ending machine code must updated accordingly signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6955,232e3a28a736e3873d2a0664be21a950a72538d7,yrill Gorcunov <gorcunov@openvz.org>, 2013-12-04 17:23:33 +0400, , proc_parse introduce private member mount_info structure hold auxiliary data associated mount point use btrfs handling future extended signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6956,eeb21b8a3474614b0822077c72cbec111c4f0f04,yrill Gorcunov <gorcunov@openvz.org>, 2013-12-04 17:23:32 +0400, , proc_parse remember type provided kernel need btrfs handling also print type easier debug 00.003545 type unsupported cgroup source cgroup sys cgroup blkio flag 30000e option blkio 00.003558 type unsupported cgroup source cgroup sys cgroup perf_event flag 30000e option perf_event 00.003571 type unsupported cgroup source cgroup sys cgroup hugetlb flag 30000e option hugetlb 00.003584 type unsupported ext4 source dev sda2 800002 flag 300000 option data ordered 00.003670 type tmpfs tmpfs source tmpfs tmp flag 100000 option 00.003696 type unsupported mqueue source mqueue dev mqueue flag 300000 option signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6957,56f4679dfc96465e957b9b2d451f658081025e22,yrill Gorcunov <gorcunov@openvz.org>, 2013-12-04 17:23:31 +0400, , fsnotify fix typo get_mark_path debug output path always nil actually need remap path signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6958,a1fd4119bc975d16d8e058b61ae648fdb3400bba,yrill Gorcunov <gorcunov@openvz.org>, 2013-12-03 22:50:40 +0400, , mount print device obtained stat call debug purpose signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6959,58c4631ae756f6acbae7ce1cc9135d0cd03ab09e,yrill Gorcunov <gorcunov@openvz.org>, 2013-12-03 22:50:00 +0400, , mount drop useless null assignment allocate mount_info xzalloc need additional null assignment signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6960,38c34aae5ee823c98ab4ac05b472bb68e5100d4c,yrill Gorcunov <gorcunov@openvz.org>, 2013-12-03 22:49:30 +0400, , proc_parse setup ret early fail xmalloc function occasionally return meaning everything fine wait routine complete signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6961,20e8d193e5da91e14204d4054ee638888d06f2e2,avel Emelyanov <xemul@parallels.com>, 2013-12-03 09:59:17 +0400, , tty print descriptive message shell job dump first thing people typically criu run something shell try dump typicall pitfall case face external sid tty problem print message stdout advice wiki page read signed pavel emelyanov xemul parallels.com,,
6962,2e8ff1a22a54739c6cb03cf014779f389721e23d,uslan Kuprieiev <kupruser@gmail.com>, 2013-12-02 19:50:44 +0400, , service send dump response case self dump without leave_running currently bug leave_running set request service send dump response must send response self dump request leave_running option set signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6963,7be5a1b95d6db6a220793d83ebba0b400a8cd828,ikhomirov Pavel <snorcht@gmail.com>, 2013-12-02 15:28:59 +0400, , page read check parent pagemap read return value signed tikhomirov pavel snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
6964,654131626ecb8bf20282a83b101aa3f0177d514c,yrill Gorcunov <gorcunov@openvz.org>, 2013-11-29 13:34:29 +0400, , proc_parse delay freeing kernel type need additional handling parsing mount entry complete particular btrfs requires additional processing figure subvolumes name signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6965,b4266c7e679e61c06fbb0e7a55a370ddda3d03d7,yrill Gorcunov <gorcunov@openvz.org>, 2013-11-29 13:34:28 +0400, , string add strlcat helper need btrfs subvolumes handling signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6966,f4e40ef7e20678a53b139b0367e2f0be2f8f3424,yrill Gorcunov <gorcunov@openvz.org>, 2013-11-28 15:46:00 +0400, , mount use is_root_mount helper instead strcmp designed specificly signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6967,d7141750d219b76b5c15b09bb1cc950f31f84c15,yrill Gorcunov <gorcunov@openvz.org>, 2013-11-28 15:38:52 +0400, , unix use pr_warn instead pr_perror socket path stat error message rather confusing people worst case happened need uncollected socket criu print real error message later signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6968,75ebb6d02cc149d44fb5eccea4dbe7c8f42d382f,yrill Gorcunov <gorcunov@openvz.org>, 2013-11-28 15:36:33 +0400, , unix print name socket dropped useful bug hunting 00.005209 unix dropping path mnt disk1 new_subvol criu test zdtm live static sockets00.test unlinked bound 0x26.0x1d4e real 0x23.0x1d4e signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6969,f2bb77c01710fb21f0b6f259a85b6ec3139ad415,avel Emelyanov <xemul@parallels.com>, 2013-11-25 20:05:10 +0400, , criu version 1.0 release next version ready look like time make first major release v1.0 functional v0.8 lot bug fix improvement still compatible wrt image cli option older criu signed pavel emelyanov xemul parallels.com,,
6970,57d25e7cea126cf83b81cc2ee2578bbd917ffff6,ndrey Vagin <avagin@openvz.org>, 2013-11-22 18:19:23 +0400, , fix expression determine vma shared currently address compared obviously enough first parent vma must private vma must identical set map_growsdown map_files flag vma must linked file http show_bug.cgi 2824 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6971,7659c995f58faeeca6ecfec2e22e361198541e4b,ndrey Vagin <avagin@openvz.org>, 2013-11-22 18:19:08 +0400, , overwrite vma shmid private mapping shmid contains file file mapping required determine vma cowed parent map vma save premmaped address child try determing vma must inhereted parent compare address flag file want transfer vma_area restorer vma entry copied restorer memory premmaped address save shmid signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
6972,b49d09601675222b0baf5e921e766df76fd6dfb3,uslan Kuprieiev <kupruser@gmail.com>, 2013-11-22 09:29:12 +0400, , service set check type check response signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6973,42bd5163df2d826b7064ac21516c6cc823f6124c,avel Emelyanov <xemul@parallels.com>, 2013-11-21 15:28:37 +0400, , file print info unsupported dump signed pavel emelyanov xemul parallels.com,,
6974,2677006cf572ca92150a63954995e23a2169827c,avel Emelyanov <xemul@parallels.com>, 2013-11-21 15:28:14 +0400, , restorer check error exe link restore kenrel api stable enough ignore signed pavel emelyanov xemul parallels.com,,
6975,e49faff1ff68daedca58e75aa1312bd2f2067c53,ir Kolyshkin <kir@openvz.org>, 2013-11-21 13:40:35 +0400, , fopen_proc opendir_proc print two error fopen_proc opendir_proc calling open_proc open_proc fails print error message patch second error message printed due missing bracket second message bit specific tell exact file dir failed open redundant generic error already printed open_proc also misleading second message reuse errno let remove second error message print using bracket alternatively could leave fixing indentation let two error printed nothing wrong think case message better fix commit 5661d80 signed kir kolyshkin kir openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6976,2ba384e8524dbdc980f6c12ec1c311f312e70a47,avel Emelyanov <xemul@parallels.com>, 2013-11-20 14:41:34 +0400, , rst add comment old memory unmap signed pavel emelyanov xemul parallels.com,,
6977,c3b9448cf7bd53847cd351fa2da48ef932bd0ea9,avel Emelyanov <xemul@parallels.com>, 2013-11-20 14:26:41 +0400, , pidfile push opts.pidfile write_pidfile arg opts criu wide available signed pavel emelyanov xemul parallels.com,,
6978,0b5b2f99069004fce78b6379da3f8e7ec380d584,uslan Kuprieiev <kupruser@gmail.com>, 2013-11-20 03:53:24 +0400, , service add support check request signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6979,9ccbf1bcc8f43312c73b37f01eb8a922e93dc61b,uslan Kuprieiev <kupruser@gmail.com>, 2013-11-19 22:50:20 +0400, , crtools init log changing directory work_dir set patch add work dir option issue log created relatively current dir relatively image dir work dir work dir given solve let init log chdir work_dir signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6980,486cad37cc08306e2f604f96853f07f608cbbff9,uslan Kuprieiev <kupruser@gmail.com>, 2013-11-18 13:22:10 +0400, , image open parent image dir call fix option changed cwd time parent image opened use syscall proerly access one cleanup comment xemul signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6981,80559828d6fd3315645607dc8bfb920f6a568609,uslan Kuprieiev <kupruser@gmail.com>, 2013-11-16 00:05:53 +0400, , stats write stats work directory stats must work dir logfiles pidfiles signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6982,5d4824fff0896fa8d32fc11173ae90ff93027f11,avel Emelyanov <xemul@parallels.com>, 2013-11-15 21:51:19 +0400, , crtools fix help text according new option signed pavel emelyanov xemul parallels.com,,
6983,b1a197f0b868d1a823b9692f40c1b130db7db916,uslan Kuprieiev <kupruser@gmail.com>, 2013-11-15 23:04:30 +0400, , page server service chdir going daemon signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6984,482b30666fe6e0aee99c0fd34bd288459a3d7c7f,uslan Kuprieiev <kupruser@gmail.com>, 2013-11-15 23:04:29 +0400, , crtools chdir work directory signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6985,dc80d6f125e1e919363a0b8f938b8679ff0dbc2b,uslan Kuprieiev <kupruser@gmail.com>, 2013-11-15 23:04:28 +0400, , log get rid log_dir_fd_off opening cwd log_init signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6986,127637bc498ab2201454691cfb695ac6bdacc6d3,uslan Kuprieiev <kupruser@gmail.com>, 2013-11-15 23:04:27 +0400, , image add dir parameter open_image_dir signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6987,555c8acd4d25df35e10b9455ac10edca24d09dd8,uslan Kuprieiev <kupruser@gmail.com>, 2013-11-15 23:04:26 +0400, , crtools add work dir option signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
6988,291aa3f6d63bc19d4e3dee2ad3944629f7f02751,yrill Gorcunov <gorcunov@openvz.org>, 2013-11-15 14:04:48 +0400, , header add extern specificator function really mess extern non extern declaration function header always use extern unification purpose signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6989,39752a146506f6d4253aafce26b9bda78cfa8db8,yrill Gorcunov <gorcunov@openvz.org>, 2013-11-15 14:04:47 +0400, , header ptrace.h reflect name change ifdef endif file name changed ifdef endif updated fix signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6990,3456e561348d637627fffc69dbbbb6d8bd3dc0de,yrill Gorcunov <gorcunov@openvz.org>, 2013-11-15 14:04:46 +0400, , header add newline readability sake signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6991,3f03d139d3aacde455c034d8c9d690f89786f8b0,yrill Gorcunov <gorcunov@openvz.org>, 2013-11-15 14:04:45 +0400, , header add missing __cr_ last endif big ifdef endif chunk comment endif add missing one signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6992,ada7322a9c29298051c732d32fbfcada694ec846,yrill Gorcunov <gorcunov@openvz.org>, 2013-11-15 14:04:44 +0400, , header drop use one provided linux capability.h signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6993,ec91abf0a88aa608aac6b859796154d33c544f88,ndrey Vagin <avagin@openvz.org>, 2013-11-15 16:32:00 +0400, , zdtm selfexe00 append null byte path readlink doe append null byte buf signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6994,9a8475ae03f61fc4ee780b854735712ab897fd56,avel Emelyanov <xemul@parallels.com>, 2013-11-15 00:27:45 +0400, , image stopped task supported fix comment signed pavel emelyanov xemul parallels.com,,
6995,e42a486f394cac3b0128947786ccbebc85c74828,avel Emelyanov <xemul@parallels.com>, 2013-11-15 00:26:54 +0400, , file extend comment overlinked file dump restore signed pavel emelyanov xemul parallels.com,,
6996,ce3b4aaafa69fae11fc408e7be068494fbfe3753,yrill Gorcunov <gorcunov@openvz.org>, 2013-11-14 22:48:30 +0400, , header move madv definition mman.h signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6997,8c7a62c4e6ec5fe8a876a70f106b0adc1a0a01a3,yrill Gorcunov <gorcunov@openvz.org>, 2013-11-14 19:19:58 +0400, , header move erestart code errno.h signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6998,f508c0f2dd96e502a55bc98a6b03ae1892bdeee8,yrill Gorcunov <gorcunov@openvz.org>, 2013-11-14 19:19:57 +0400, , header drop never used clone_vfork signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
6999,8cca9ca7df7adde2d41a86530a4d385626738337,yrill Gorcunov <gorcunov@openvz.org>, 2013-11-14 19:19:56 +0400, , header drop never used signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7000,35ab2de917af3a7a7a64b5163c8beb072018a39e,yrill Gorcunov <gorcunov@openvz.org>, 2013-11-14 19:19:55 +0400, , x86 header drop unused gs_tls signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7001,d9731a92b8a9311ec9a8597af3364a62060ca471,yrill Gorcunov <gorcunov@openvz.org>, 2013-11-14 19:19:54 +0400, , header drop definition take linux securebits.h signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7002,ed20cef6a068a67d2e3bc7be886ad8b09ee91f1d,yrill Gorcunov <gorcunov@openvz.org>, 2013-11-14 19:19:53 +0400, , header move prctl constant prctl.h move prctl constant header arch independent x86 specific arch_set_gs fetched asm prctl.h instead defining one signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7003,f8ddc74283493fa058c1bd626ada80dfb7f6a781,yrill Gorcunov <gorcunov@openvz.org>, 2013-11-14 19:19:52 +0400, , header move kcmp_type kcmp.h arch independent data signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7004,3f3439cd4218208ee87bf9741332f3cdf70e39e2,yrill Gorcunov <gorcunov@openvz.org>, 2013-11-14 19:19:51 +0400, , header move fh_t fsnotify.c really need spread header file handler used fsnotify declare signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7005,3c8a8326aff30755d36f72861f02cc15b9fa0a97,yrill Gorcunov <gorcunov@openvz.org>, 2013-11-14 19:19:50 +0400, , header drop scm_max_fd internal variable limit exported kernel need explicitly define pretending immutable still kept name comment give reader tip cr_scm_max_fd came signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7006,8f64a14a03dd75ab1d1967db9262ec7aa793b61a,yrill Gorcunov <gorcunov@openvz.org>, 2013-11-14 19:19:49 +0400, , header move fcntl related data include fcntl.h fcntl data arch independent move include asm type.h signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7007,98efb3c904788e90d5a6a6fff876659b9a7f2016,ndrey Vagin <avagin@openvz.org>, 2013-11-14 01:01:57 +0400, , tcp restore boundary sent unsent data data write buffer divided two part sent yet acknowledged data unsent data currently boundary sent unsent data dumped data restored already sent methode provoke long delay tcp connection kernel wait retransmitting data http show_bug.cgi 2808 tcp stack must know data sent acknowledgment received data must restored repair mode second part data never sent restored without trick data sent socket usual restoring unsent data repair mode disabled socket enabled back restoring data disabled unlocking network case window probe sent required waknge connection patch fix long delay tcp connection dumping restoring thanks pavel idea disabling repair mode restoring unsent data http show_bug.cgi 2808 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7008,d917ff15bbdc0427203455e56e997841cc41f035,ndrey Vagin <avagin@openvz.org>, 2013-11-14 01:01:56 +0400, , tcp save amount unsent data socket send queue tcp send queue contains two type data unacknowledged data sent data sent currently size data save enough proper restoring tcp connection signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7009,cf6d5d02a6b0d3083c97c401946b6630975882d1,yrill Gorcunov <gorcunov@openvz.org>, 2013-11-11 16:05:23 +0400, , make protobuf escape slash future need moment generate protobuf dependency mind protobuf directory _always_ source code root may change one day future better safe side escape slash immediately meet problem needed build protobuf builtin root src protobuf directory signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7010,401680e85bcb059bdaa5b8dee86df2c968e021c3,uslan Kuprieiev <kupruser@gmail.com>, 2013-11-11 16:03:38 +0400, , crtools init logfile processing command line argument see need init log processing command line argument signed ruslan kuprieiev kupruser gmail.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7011,6b8f651f5f6ea3402fcdec8f685a5f3283e5420d,avel Emelyanov <xemul@parallels.com>, 2013-11-08 19:48:44 +0400, , rst mem grow buffer page required signed pavel emelyanov xemul parallels.com,,
7012,a2917ffc87626a0cffaa317e52693ca19afc0ed3,avel Emelyanov <xemul@parallels.com>, 2013-11-08 17:57:04 +0400, , rst initialize task restore args rst mem remap plan move args rst mem thus need make sure initialized _after_ remap restorer space signed pavel emelyanov xemul parallels.com,,
7013,3e895cc2daa448f8fe9812820e0c15a0fd36229d,avel Emelyanov <xemul@parallels.com>, 2013-11-08 17:32:07 +0400, , rst rename remove _core_ signed pavel emelyanov xemul parallels.com,,
7014,ec7e483e8bffcb439b97a100f189b2e232aca76d,avel Emelyanov <xemul@parallels.com>, 2013-11-08 17:29:55 +0400, , restorer make task thread args one one currently task args page aligned thread args waste memory let put one row signed pavel emelyanov xemul parallels.com,,
7015,d52e000152b31f84d8bc42eb8a0c2a890a8e8785,avel Emelyanov <xemul@parallels.com>, 2013-11-08 16:52:20 +0400, , net create netns restore device available netns special routine restored link params signed pavel emelyanov xemul parallels.com,,
7016,cc4a922ebccf3378efae1ff0d4d34341931f38cd,ndrey Vagin <avagin@openvz.org>, 2013-11-08 16:46:32 +0400, , pstree include restorer.h pstree.c restorer.h includes header change header provoke recompilation pstree.c signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7017,254342be4ea8da6ea63762e3d3080ec5cfaafc8d,ndrey Vagin <avagin@openvz.org>, 2013-11-08 16:46:05 +0400, , test rpc fix test execution fix compilation test rpc directory make make rule make target rpc.proto needed rpc.pb c.c stop use absolute path pidfile bash run.sh  shutdown service server  cat pidfile file directory kill usage kill sigspec signum sigspec pid jobspec ... kill sigspec ruslan kuprieiev kupruser gmail.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7018,caacf3f0b880acd4fbee5c2b1ab0b3babfa540b1,ndrey Vagin <avagin@openvz.org>, 2013-11-01 15:37:56 +0400, , zdtm suppress message nothing done execute zdtm live static env00 make nothing done make nothing done env00 pidfile env00.pid outfile env00.out envname env_00_test dump 18232 restore check result 18232 59.615 18232 pas test zdtm live static env00 result pas zdtm test pas signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7019,e493d3863daf732dc275829f8308476f2b5d5782,ndrey Vagin <avagin@openvz.org>, 2013-11-01 15:37:55 +0400, , zdtm improve printing separator line signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7020,a4118a6e82db75cbe25704262fc225d49e1c1acf,ndrey Vagin <avagin@openvz.org>, 2013-11-01 15:37:54 +0400, , zdtm show log verbose mode may useful jenkins auto executor human would prefer open log file text editor rather scroll terminal history error message non verbose mode contains critical information error message path log file signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7021,b24d488dc9ba9c0bfa233e44d7ed2574728514ca,ndrey Vagin <avagin@openvz.org>, 2013-11-01 15:37:53 +0400, , zdtm use full path command log message like copy past currently zdtm.sh path relative directory test work ralative root source tree signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7022,60af7772861f9a248519f892304de288b6439d68,avel Emelyanov <xemul@parallels.com>, 2013-11-07 16:08:29 +0400, , lib compile util fd.c signed pavel emelyanov xemul parallels.com,,
7023,dd407dd04ecccab981a698a137db1647668ba546,ndrey Vagin <avagin@openvz.org>, 2013-11-06 23:31:03 +0400, , hdrs minor cleaup signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7024,6f0a7ed3328d7d6c3c4a3c4c06046045cfd0791e,ndrey Vagin <avagin@openvz.org>, 2013-11-06 23:31:02 +0400, , hdrs delete extra header image.c signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7025,a434e7f075e8102f10527f43e8b6f585d65b2af3,ndrey Vagin <avagin@openvz.org>, 2013-11-06 17:21:13 +0400, , crtools move pid_rst_prio pid.h crtools.h heavy included many source signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7026,72727bb3eda1ee536513d6360fbfc276f17d4c8f,ndrey Vagin <avagin@openvz.org>, 2013-11-06 17:21:12 +0400, , log move print_ data crtools.h log.h signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7027,4850fd94a81af97df6a4ecd30482fbccf691e01d,ndrey Vagin <avagin@openvz.org>, 2013-11-06 17:21:11 +0400, , crtools move cr_options separate header signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7028,08abebd29cfefce2020c0567f5cfec7aef47610e,ndrey Vagin <avagin@openvz.org>, 2013-11-06 17:21:10 +0400, , crtools remove extra header header signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7029,2082e8faf05efe6210ad96198a0d960c99dc0a54,ndrey Vagin <avagin@openvz.org>, 2013-11-06 17:21:09 +0400, , crtools include crtools.h header signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7030,a5cb58817d2d465dc15b3a957b47816b9c3dcc57,ndrey Vagin <avagin@openvz.org>, 2013-11-06 16:41:45 +0400, , crtools include sys time.h parasite.h patch fix error file included mem.c include parasite.h 116 error field realâ incomplete type include parasite.h 117 error field virtâ incomplete type include parasite.h 118 error field profâ incomplete type signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7031,c6fab95e8508d2930a262337b3dcf9cc74c00fae,avel Emelyanov <xemul@parallels.com>, 2013-11-06 15:44:32 +0400, , hdrs include protobuf header crtools.h signed pavel emelyanov xemul parallels.com,,
7032,0ef2128309607c884a45e6bf218438a5437e231e,ndrey Vagin <avagin@openvz.org>, 2013-11-06 14:34:33 +0400, , crtools include show.h crtools.h signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7033,1cb945cafe4d7e0a4f23ad8de81805974008f1e0,ndrey Vagin <avagin@openvz.org>, 2013-11-06 14:34:32 +0400, , crtools include util.h crtools.h signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7034,f41255f00bc79083cba58bbbf29ba70f775164b2,ndrey Vagin <avagin@openvz.org>, 2013-11-06 14:34:31 +0400, , crtools include lock.h crtools.h signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7035,07fc6cf394a118ffc942649bd5717b901f7072a8,ndrey Vagin <avagin@openvz.org>, 2013-11-06 14:34:30 +0400, , crtools include image.h crtools.h signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7036,4cb211c094384baf47de299a8ff4a9b6e4d12b97,ndrey Vagin <avagin@openvz.org>, 2013-11-06 14:34:29 +0400, , include crtools.h pstree.h signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7037,a6c422f6e3f713a72dc6ab955148bcac8f89a74f,ndrey Vagin <avagin@openvz.org>, 2013-11-06 15:33:40 +0400, , crtools include list.h vma.h patch fix compilation error arm file included arch arm vdso pie.c include vma.h error field incomplete type include vma.h error field listâ incomplete type signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7038,1300cf4915fd570ee7eaf97d5758f35ac788880f,ndrey Vagin <avagin@openvz.org>, 2013-11-06 14:34:28 +0400, , crtools move stuff fdset separate header signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7039,e85e5fdb86d78b89180d468b1a05f4161e8c5b4e,ndrey Vagin <avagin@openvz.org>, 2013-11-06 14:34:27 +0400, , crtools include pstree.h parasite syscall.h pstree parasite two different subsystem depend parasite syscall pid struct patch move separate header signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7040,96cc00767b8209f747d0f453a0176c31c45d790a,ndrey Vagin <avagin@openvz.org>, 2013-11-05 12:33:04 +0400, , crtools move cr_parent_link image.h signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7041,0d1dfc2e08dbdde9c5bf30ca8172833867151a79,ndrey Vagin <avagin@openvz.org>, 2013-11-05 12:33:03 +0400, , crtools move stuff vma together signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7042,824403a0090231002b63b6bf74da232576b06380,ndrey Vagin <avagin@openvz.org>, 2013-11-05 20:17:47 +0400, , crtools create new header servicefd stuff generate patch relative official git signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7043,9826d2dd04defc570703c1aed7f132f0337ecefc,ndrey Vagin <avagin@openvz.org>, 2013-11-05 12:32:59 +0400, , crtools include pstree.h namespaces.h signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7044,82cd9e2c664f708acfafcb7e073306f68acf5b9e,ndrey Vagin <avagin@openvz.org>, 2013-11-05 12:32:58 +0400, , parasite include restorer.h parasite syscall.c signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7045,924acd84505c431c03facd498ec096ff6ac6ba33,ndrey Vagin <avagin@openvz.org>, 2013-11-05 12:32:57 +0400, , shmem include restorer.h shmem.c signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7046,a6edbcf669e1aef2556a9471b29a0da0641ac615,ndrey Vagin <avagin@openvz.org>, 2013-11-05 12:32:56 +0400, , crtools include restorer.h proc_parse.h signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7047,565eb013465171984301263c32b7d6443e6e6a5a,ndrey Vagin <avagin@openvz.org>, 2013-11-05 12:32:55 +0400, , sigframe include restorer.h signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7048,7c8e987e5d83d2e8182212ad30e90c5f34b1fbaf,ndrey Vagin <avagin@openvz.org>, 2013-11-05 12:32:54 +0400, , paraiste include vdso.h parasite syscall.c signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7049,7dfea8a7678bebeda290966961abf59e5dda46ff,ndrey Vagin <avagin@openvz.org>, 2013-11-06 12:33:47 +0400, , parasite stack must initialized highest address stack grows x86 arm signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org acked alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7050,ba0527d42b2f1238afb829d5577c91e592019828,avel Emelyanov <xemul@parallels.com>, 2013-11-03 23:55:52 +0400, , restore remove actually unused variable signed pavel emelyanov xemul parallels.com,,
7051,32b4a26c6b7cec3ec3b1fdb84596bf8aeb65d3d7,avel Emelyanov <xemul@parallels.com>, 2013-11-03 23:51:45 +0400, , restore comment need copy data task restore args signed pavel emelyanov xemul parallels.com,,
7052,ebd76f4bec05343f3ab08b9b130821ad0c17082f,avel Emelyanov <xemul@parallels.com>, 2013-11-03 23:47:51 +0400, , restore move sigpending place prepare restorer layout jump reading decoding image done earlier new rst malloc engine allows signed pavel emelyanov xemul parallels.com,,
7053,91f797f66f0c67e3e78e9d11460aa3459d48e0fb,avel Emelyanov <xemul@parallels.com>, 2013-11-03 23:43:44 +0400, , restore move posix timer place prepare restorer layout jump reading decoding image done earlier new rst malloc engine allows signed pavel emelyanov xemul parallels.com,,
7054,ed88f2df66d7f9653309cd58745ed36ad00b3fd6,avel Emelyanov <xemul@parallels.com>, 2013-11-03 23:40:12 +0400, , restore move rlimits place prepare restorer layout jump reading decoding image done earlier new rst malloc engine allows signed pavel emelyanov xemul parallels.com,,
7055,4f675313cceb45c93e4b6345becd816a668bd0a5,avel Emelyanov <xemul@parallels.com>, 2013-11-03 17:40:15 +0400, , rst malloc switch private allocation forked signed pavel emelyanov xemul parallels.com,,
7056,ca0b51bc00bb2b4d5195924362ca25eae3692d27,avel Emelyanov <xemul@parallels.com>, 2013-11-03 17:37:10 +0400, , rst close logdir earlier code sanitation signed pavel emelyanov xemul parallels.com,,
7057,3e235f715ef3efc5fe05972b5e352112af964e4e,avel Emelyanov <xemul@parallels.com>, 2013-11-03 17:23:31 +0400, , restore get self map allocating necessary memory filling rst mem data _after_ get self map list bug since restorer vma get forcedly mapped place get self vmas list move self vmas list getting allocate memory need signed pavel emelyanov xemul parallels.com,,
7058,95a961b7397ed6d161410e008becf5711be5d86b,uslan Kuprieiev <kupruser@gmail.com>, 2013-11-03 12:51:13 +0400, , log kill task unable write pidfile write_pidfile taken restore.c supposed kill child unable create pidfile also using service page server kill redundant let take kill write_pidfile back restore signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7059,45f39e0415ee986c6a75e5c6a5bedd77d6615af6,avel Emelyanov <xemul@parallels.com>, 2013-11-02 01:06:31 +0400, , rst make shmem restore use rst malloc actually fix bug memory shmem info allocated dynamically thus limited amount shmems restored signed pavel emelyanov xemul parallels.com,,
7060,7ed35d8a87a6580c3566cbec664edc6dedc549e5,avel Emelyanov <xemul@parallels.com>, 2013-11-02 01:05:13 +0400, , rst switch private rst mem allocator generic rst malloc signed pavel emelyanov xemul parallels.com,,
7061,297360ef7dc94645af4800f5f132f3401a4036cb,avel Emelyanov <xemul@parallels.com>, 2013-11-02 01:04:07 +0400, , rst switch shmalloc allocator use rst malloc signed pavel emelyanov xemul parallels.com,,
7062,c9aaf9f3c43aa9dccb18032b6baaa6d0e1d86e94,avel Emelyanov <xemul@parallels.com>, 2013-11-02 01:01:48 +0400, , rst introduce engine allocate memory restore restore need differetn type memory allocation engine try generalize main difference buffer object grown type memory allocation shared memory object used criu child reach restorer shared remapable restorer would need access i.e buffer object get remapped restorer private allocatedby task signed pavel emelyanov xemul parallels.com,,
7063,647207714aade711905470a3e20436014e210e90,gor Sukhih <igor@parallels.com>, 2013-11-01 17:40:54 +0400, , util update kdev_to_odev respect bits_per_long depending bits_per_long userspace representation dev_t may vary need choose proper encoding signed igor sukhih igor parallels.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7064,59c43e481e1bfe75112cc5e9ba54298eb2fc1414,uslan Kuprieiev <kupruser@gmail.com>, 2013-11-01 14:32:03 +0400, , service sigchld handler  ignoring sigchld forked child patch provides sigchld handler wait child write information exit status logfile signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7065,c60c91f3d75e27d7d1e9abe546506e6062195919,yrill Gorcunov <gorcunov@openvz.org>, 2013-11-01 14:29:12 +0400, , doc add service command description signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7066,0720fe3de7aab7baa960b49ca64c3e88040f5cab,lexander Kartashov <alekskartashov@parallels.com>, 2013-10-11 10:48:05 +0400, , documnetation added howto cross compilation signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7067,55dda405d4990f7d37a8fb9f29fed8bba4e13fef,lexander Kartashov <alekskartashov@parallels.com>, 2013-10-11 10:48:04 +0400, , arm kill fpu_state_t mistake introduce struct since fpu state stored deep inside arm sigframe remnant struct left make code compatible universal declaration routine signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7068,a5752177f4d0183b7c5823480ad5ade9611d8f79,lexander Kartashov <alekskartashov@parallels.com>, 2013-10-11 10:48:03 +0400, , arm initialize arm vfp header routine restore_fpu arm vfp header part vfp frame make unreasonable frame initialization split two routine patch moerges arm version routine restore_fpu reduces former stub signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7069,5a63215bc83fcb7691d6c18bd03af76679478c07,lexander Kartashov <alekskartashov@parallels.com>, 2013-10-11 10:48:02 +0400, , arm restore vfp sigframe field fpscr properly routine restore_fpu contains two bug read byte array threadinfoarm fpstate vfp_regs actually containes value field threadinfoarm fpstate fpscr dropped floor signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7070,e89af96d620ff3bc790e91f947a52cd177c1107e,lexander Kartashov <alekskartashov@parallels.com>, 2013-10-11 10:48:01 +0400, , arm fixed aarch64 syscall number turned aarch64 uapi syscall numbering scheme incompatible x86 unfortunately kill idea unified syscall table syscall generator note following syscalls open mkdir rmdir unlink declared obsolete uapi moreover syscall arch_prctl exist uapi signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7071,9af8d94901419d30fa4a6b8f3a19df93acb1aa66,lexander Kartashov <alekskartashov@parallels.com>, 2013-10-11 10:48:00 +0400, , identify ldarch arch default signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7072,be2f08eda0bd4b484f23899c1be4dcf52e5c37be,lexander Kartashov <alekskartashov@parallels.com>, 2013-10-11 10:47:59 +0400, , sigframe introduced macro access fpu state fpu_state_t instance stored arm sigframe make necessary generalize way fpu state accessed routine signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7073,03a9c6b0b7328ea573c19fb40a580cc57bab4975,lexander Kartashov <alekskartashov@parallels.com>, 2013-10-11 10:47:58 +0400, , parasite syscall use ptrace request ptrace_ get set regset retrieve set cpu register patch introduces routine wrap ptrace interface get set cpu register respectively motivation make criu code compatible architecture support ptrace_getregs ptrace_setregs ptrace call request implemented instead signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7074,c2a366d44d05dd6c6e30184c992afeff64dfac60,avel Emelyanov <xemul@parallels.com>, 2013-11-01 14:23:32 +0400, , ptrace introduce get set regs helper required simpler next patching signed pavel emelyanov xemul parallels.com,,
7075,c1c9b8f6dcc707851ff375bd095e0ff5da57b833,yrill Gorcunov <gorcunov@openvz.org>, 2013-11-01 00:50:49 +0400, , doc document leave running option signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7076,fcfa58026ca5fd2ec3b0199165ba4185f5a50d0c,yrill Gorcunov <gorcunov@openvz.org>, 2013-11-01 00:50:48 +0400, , dump forget cleanup link remap needed case checkpoint failed option passed need remove link remap file created dump procedure signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7077,7fe62208831a34c5142715c4e8b257d9659defcd,yrill Gorcunov <gorcunov@openvz.org>, 2013-11-01 00:50:47 +0400, , dump unlock network option passed found leave task running checkpoint option passed unlock network nether clean service file link remaps long discussion choose following path option passed mean user quite confident consistency resource file system achieved user help post dump script also user know network unlocked accept case check passed command line checkpoint complete unlock network cleaning link remaps addressed another patch signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7078,1a0ee90d2b23a8f63e5c5588b2be49c0234214a9,ndrey Vagin <avagin@openvz.org>, 2013-10-31 20:12:55 +0400, , tcp disable repair mode socket rollback currently network namespace dumped something fails socket remain repair mode executed network namespace dumped disables repair mode socket drop netfilters netfilters used case network namespaces execute network unlock script network namespace dumped signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7079,ce5522ae36972e92468201b09613c385ce5c62b8,yrill Gorcunov <gorcunov@openvz.org>, 2013-10-31 20:01:11 +0400, , restorer add missing closing brace print signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7080,95e93d6c9a75f19c6c5b2e72e190495d79c399b3,uslan Kuprieiev <kupruser@gmail.com>, 2013-10-30 02:48:39 +0400, , service reinit opts cr_service_work inherited parent fork thus need put clean state signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7081,fdbedf5a8891afe54eb2e143e43de1b9bbc13f16,uslan Kuprieiev <kupruser@gmail.com>, 2013-10-30 02:48:38 +0400, , crtools add init_opts signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7082,b28f03aaeeb965f6412e91687d93dad650bdad4f,avel Emelyanov <xemul@parallels.com>, 2013-10-30 19:46:13 +0400, , parasite add helper restoring thread context signed pavel emelyanov xemul parallels.com,,
7083,a1809b205eeb48fcdee9a4376dd36896c0106b03,avel Emelyanov <xemul@parallels.com>, 2013-10-30 18:26:46 +0400, , parasite generalize running parasite context place left run parasite hand unmap use parasite_run signed pavel emelyanov xemul parallels.com,,
7084,f0453c8e6f10118c7b372eebdcdb5ee275a57d3c,avel Emelyanov <xemul@parallels.com>, 2013-10-30 17:48:08 +0400, , parasite introduce get_thread_ctx helper signed pavel emelyanov xemul parallels.com,,
7085,77576c63ab920373c74268d532d2559f820fb288,avel Emelyanov <xemul@parallels.com>, 2013-10-30 16:59:38 +0400, , parasite use thread_ctx parasite_run _trap call signed pavel emelyanov xemul parallels.com,,
7086,10fb18d15dfe52c3656f3dbb8f6a4b558039ee63,avel Emelyanov <xemul@parallels.com>, 2013-10-30 16:54:37 +0400, , parasite use thread_ctx thread dumping signed pavel emelyanov xemul parallels.com,,
7087,c8fe0e5ea72ea1c112264d827e6482113a9065e3,avel Emelyanov <xemul@parallels.com>, 2013-10-30 16:49:22 +0400, , parasite introduce thread_ctx structure one keep register sigmask running thread used simpler parasite management signed pavel emelyanov xemul parallels.com,,
7088,0707df7745dba933b13c96544e8256b737347ada,yrill Gorcunov <gorcunov@openvz.org>, 2013-10-30 16:30:57 +0400, , restore unmap vdso proxy final cleanup case need use vdso proxy memory area hold restorer also place vdso proxy code final pas unmap otherwise call vdso function cause sigsegv iow memory final cleanup pas restorer might look  bootstrap vdso ... application vdso    redirected vdso code jump vdso final pas memory must look  vdso ... application vdso    noticed problem container migration testing container suspended 2.6.32 openvz kernel apache running inside attempt connect apache caused apache crash signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7089,e55acdd986f18926bac853fdf510fe7db6020b7f,avel Emelyanov <xemul@parallels.com>, 2013-10-29 13:28:26 +0400, , parasite cleanup call parasite_run launching daemon ctl sig_blocked place sigframe one ctl one copied sigframe step signed pavel emelyanov xemul parallels.com,,
7090,389b8146325636f7339f5eb8ef4082ce7fdb3d79,avel Emelyanov <xemul@parallels.com>, 2013-10-29 13:04:47 +0400, , restore make optional image check right open signed pavel emelyanov xemul parallels.com,,
7091,bb5476cb63a4f0690b099d1cd38ca63ce9f3c93c,avel Emelyanov <xemul@parallels.com>, 2013-10-29 12:57:54 +0400, , restore put tgt vmas rst mem special purpose memory signed pavel emelyanov xemul parallels.com,,
7092,d7db85e9dcb1ed3b8c24ff78ce47badfda75f5e9,avel Emelyanov <xemul@parallels.com>, 2013-10-29 12:52:01 +0400, , restore iterate tgt vmas number terminating point signed pavel emelyanov xemul parallels.com,,
7093,55a04580d567b0babd00abdebc9de3ece8f0abd4,avel Emelyanov <xemul@parallels.com>, 2013-10-29 12:28:11 +0400, , restorer compact rst stack evaluation code signed pavel emelyanov xemul parallels.com,,
7094,00dc26602ac4bdf11a00332651516b544cef8ef0,avel Emelyanov <xemul@parallels.com>, 2013-10-29 12:19:13 +0400, , restorer remove unused heap signed pavel emelyanov xemul parallels.com,,
7095,b33fa025b55518e4a83ca74e6773108acf545015,ndrey Vagin <avagin@openvz.org>, 2013-10-28 14:56:42 +0400, , parasite wait child process parasite exited unexpectedly criu get sigchld handle sigchld handler need wait child process currently criu wait neighbour group dumped process another group usually typo signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7096,272c94e35ba15239b2f7a9609b7febd77ee29ce8,avel Emelyanov <xemul@parallels.com>, 2013-10-18 20:45:08 +0400, , criu version 0.8 release planned bugfix mainly release however new feature added looking forward v1.0 release signed pavel emelyanov xemul parallels.com,,
7097,ee9d9bdb16d09ae3ad05fc69de252a31669f5270,avel Emelyanov <xemul@parallels.com>, 2013-10-17 14:48:05 +0400, , show compact output zero long repeated field signed pavel emelyanov xemul parallels.com,,
7098,1b3da3a1a80717b9cc7aee26a6b0aad7400464fe,avel Emelyanov <xemul@parallels.com>, 2013-10-17 14:27:00 +0400, , security allow non root user dump restore cap bit sophisticated security policy right generic non root user bit requiring zero sane starting point signed pavel emelyanov xemul parallels.com,,
7099,b978c6f8731ce2f8c53b92dae1d42fe69ab0b674,avel Emelyanov <xemul@parallels.com>, 2013-10-15 13:59:59 +0400, , util introduce buffer size carrying proc self path ... number place want something proc self path time guess buffer size enough make standard constant save space stack drop args function signed pavel emelyanov xemul parallels.com,,
7100,baa2583a1d9af24e3282a5ec05553c17891772e7,avel Emelyanov <xemul@parallels.com>, 2013-10-15 13:51:35 +0400, , file reg sanitize ghost file opening read signed pavel emelyanov xemul parallels.com,,
7101,280b9e36bf17eb54a3b74b0338f6a1c2cfd635b9,avel Emelyanov <xemul@parallels.com>, 2013-10-15 13:45:32 +0400, , inotify sanitize watch adding loop signed pavel emelyanov xemul parallels.com,,
7102,d092c5ae65119c42765d93f8919725c21ecae40e,avel Emelyanov <xemul@parallels.com>, 2013-10-15 13:40:45 +0400, , inotify optimize ify search collecting criu put one inotify one row one another collecting next find ify attach faster signed pavel emelyanov xemul parallels.com,,
7103,cb576d892a237e089d8945e47ddaeb6fe4430805,avel Emelyanov <xemul@parallels.com>, 2013-10-15 13:35:28 +0400, , inotify sort mark collecting generates one one request one thus call syscall till required generated thus want restore several inotify put ascending order otherwise may restore watch higher earlier thus able generate lower reasonable time signed pavel emelyanov xemul parallels.com,,
7104,dc383649631504381a2ce61faedeaa7555ed86fa,avel Emelyanov <xemul@parallels.com>, 2013-10-15 13:30:04 +0400, , fsnotify print restored inotify signed pavel emelyanov xemul parallels.com,,
7105,3f802388b3d0a7c582625471389a6d1a0a75c166,avel Emelyanov <xemul@parallels.com>, 2013-10-15 13:15:57 +0400, , fsnotify add comment saying attach watch via proc self signed pavel emelyanov xemul parallels.com,,
7106,7eb20e7ddb51ee528887965913cdd674ba133c2e,avel Emelyanov <xemul@parallels.com>, 2013-10-15 13:13:58 +0400, , fsnotify move decoding handle function signed pavel emelyanov xemul parallels.com,,
7107,7bb5ba1ffe2b814c471e20da1a61f0cfbab11b96,avel Emelyanov <xemul@parallels.com>, 2013-10-15 13:10:46 +0400, , fsnotify crash bad fsnotify mark type broken image need handle error gracefully signed pavel emelyanov xemul parallels.com,,
7108,ccdcb3d39b1b3e5786627cec6ccc62a60cb4fb43,avel Emelyanov <xemul@parallels.com>, 2013-10-15 13:05:50 +0400, , fsnotify simplify get_mark_path code handle simplest remap case early make code simpler reduces one level indent signed pavel emelyanov xemul parallels.com,,
7109,32adef6f9808ffad28e3b3cc2589cb310a07f3e4,avel Emelyanov <xemul@parallels.com>, 2013-10-15 11:30:41 +0400, , build move pie gen offsets.sh script signed pavel emelyanov xemul parallels.com,,
7110,68475dd0134e22da486f981885745917ef147ad2,avel Emelyanov <xemul@parallels.com>, 2013-10-15 11:26:45 +0400, , build move protobuf desc gen.sh script signed pavel emelyanov xemul parallels.com,,
7111,8a791d03f6813107211839f8ac9321b65e1afc38,yrill Gorcunov <gorcunov@openvz.org>, 2013-10-14 14:40:30 +0400, , fsnotify add debug printing target link convenient debug 00.005999 3857 fsnotify restore inotify watch 0x00800002 via proc self 00.005999 3857 fsnotify restore inotify watch 0x00800002 via home criu test zdtm live static inotify removed deleted .cr.1.ghost signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7112,1f8768dff10a76ad1e5e3bf6fac5f6e574b15d61,uslan Kuprieiev <kupruser@gmail.com>, 2013-10-14 13:21:22 +0400, , test rpc fix log_level test.c add log_level test.py  added has_log_level true test.c log_level would effect also added log_level test.py symmetry test.c signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7113,2503fd7da54375a533befdeee2c09e04caa22e20,yrill Gorcunov <gorcunov@openvz.org>, 2013-10-14 13:20:35 +0400, , proc parse fix length smaps maj min parshing otherwise error proc_parse.c 227 parse 555555554000 555555577000 00000000 d2f61 133545 sbin init signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7114,14a7aff2880887ea380fc761ecebb1516fa39038,avel Emelyanov <xemul@parallels.com>, 2013-10-12 00:03:25 +0400, , rst read sys.last_cap kerndat signed pavel emelyanov xemul parallels.com,,
7115,d393e5d13705323fab2822bba998be6e37abf20a,yrill Gorcunov <gorcunov@openvz.org>, 2013-10-11 18:37:14 +0400, , flock assume device maj min number byte long igor reported following file lock 00.003139 lockinfo posix advisory write 46567 5f0b1 524702 eof 00.003154 lockinfo posix advisory write 46559 5f0b1 524661 eof 00.003172 lockinfo posix advisory write 46543 5f0b1 524326 00.003188 lockinfo posix advisory write 46543 5f0b1 524367 eof device maj number pretty big parsing failed fix removing field width reported igor sukhih igor parallels.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7116,ebb4a1bf60decc1d5483c481e59f0f3cb4051f48,avel Emelyanov <xemul@parallels.com>, 2013-10-11 17:59:21 +0400, , service daemon detached terminal cwd log put dedicated logfd cwd used well signed pavel emelyanov xemul parallels.com,,
7117,c9d3145843ebb8a4fbd78484771dc0aa7fee4caf,avel Emelyanov <xemul@parallels.com>, 2013-10-11 17:56:46 +0400, , service change default socket path var run stuff typically placed signed pavel emelyanov xemul parallels.com,,
7118,929872d4a1f5e6e154e5d70698c75655403ada21,yrill Gorcunov <gorcunov@openvz.org>, 2013-10-11 17:49:50 +0400, , pie paresite print error code syscalls case hit error returned syscall better print error code easier understanding protblem signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7119,f0a86437363dedd77d2644c680865de4a97f1275,avel Emelyanov <xemul@parallels.com>, 2013-10-11 17:38:57 +0400, , kerndat initialize necessary kerndats restore signed pavel emelyanov xemul parallels.com,,
7120,461a466722a8f8783dfbbd129e238f2cdd7557f1,avel Emelyanov <xemul@parallels.com>, 2013-10-11 17:26:34 +0400, , kerndat fail tcp_ mem sysctls missing hppen criu run container reported frederico araujo araujof gmail.com signed pavel emelyanov xemul parallels.com,,
7121,537621d954ab6a46a6e212b894e2fe0a772e8a99,yrill Gorcunov <gorcunov@openvz.org>, 2013-10-10 23:02:40 +0400, , fsnotify use pr_perror error path get detailed error desciption also print watchdog number exceed expected better error output signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7122,7ed06099431cf7b36ec7b80aae5c652abe0e357c,yrill Gorcunov <gorcunov@openvz.org>, 2013-10-10 23:02:06 +0400, , fsnotify align member assignment way easier read signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7123,2838136364de3d5ecab5a505522318a7f086ea6e,yrill Gorcunov <gorcunov@openvz.org>, 2013-10-10 22:59:12 +0400, , pie fix typo dump_pages signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7124,71e1a9952348d03253466d04ec8b05783cd4f3fa,amie Liu <jamieliu@google.com>, 2013-10-10 22:56:33 +0400, , pre dump disconnect page server writing signed jamie liu jamieliu google.com signed pavel emelyanov xemul parallels.com,,
7125,00ae0d330a47361d81f809501a8a07fb88969f5d,avel Emelyanov <xemul@parallels.com>, 2013-10-10 15:28:29 +0400, , dump add comment dump zombie pidns case signed pavel emelyanov xemul parallels.com,,
7126,9dd6887d7a51f5cb7c3bea13ce91be31a0194114,yrill Gorcunov <gorcunov@openvz.org>, 2013-10-10 14:31:34 +0400, , net dump extlink device signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7127,d0a323cb1f02aab6f018b4b04713e1771a9141a2,yrill Gorcunov <gorcunov@openvz.org>, 2013-10-10 14:31:33 +0400, , net restore extlink device signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7128,96fdc01798ac60c44a8e40793d964fe918ddb83b,yrill Gorcunov <gorcunov@openvz.org>, 2013-10-10 14:31:32 +0400, , protobuf add extlink netdevice type kind netdevice serve external link venet macvlan vlan etc signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7129,20d64b4326743db63c90e5c6f5a60e82bd7752f4,avel Emelyanov <xemul@parallels.com>, 2013-10-10 15:07:01 +0400, , dump install target proc service carry around static global variable would useful pidns leak process entered one scan signed pavel emelyanov xemul parallels.com,,
7130,670e26b07e5868c7cce024d3a50a00fae875dddd,avel Emelyanov <xemul@parallels.com>, 2013-10-10 11:28:12 +0400, , merge branch brfetch,,
7131,74af0c224374ddaaaea8f908e94b1654cf88240c,avel Emelyanov <xemul@parallels.com>, 2013-10-10 11:27:51 +0400, , inet improve messaging error path signed pavel emelyanov xemul parallels.com,,
7132,4648090f3cabe7f04ab3f45ef821ff7452474500,avel Emelyanov <xemul@parallels.com>, 2013-10-10 11:24:23 +0400, , inet turn check family can_dump_sock bug_on get family check need check signed pavel emelyanov xemul parallels.com,,
7133,0a8a162146b8bc0fae43f7609cd45fb2f10616c9,avel Emelyanov <xemul@parallels.com>, 2013-10-10 11:17:42 +0400, , unix increase verbosity dump socket check signed pavel emelyanov xemul parallels.com,,
7134,fa73b3e7992b9bfebfb8393070c96815d8b32cf1,yrill Gorcunov <gorcunov@openvz.org>, 2013-10-10 11:11:05 +0400, , crtools use argument directly much point strdup value obtained command line sits environment modify signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7135,664659a0ad607fb74228806485d6c9626d8f1cdd,yrill Gorcunov <gorcunov@openvz.org>, 2013-10-04 16:18:24 +0400, , inet tcp find size max memory allowed restore tcp data maximal size may used kernel sending tcp data restore varies depending many memory installed system moreover memory allocated read queue bigger used write queue thus checkpointed big slab data need figure size allowed sending data restore read proc sys net ipv4 tcp_ wmem rmem restore calculate size needed simply chop data segements send loop typical output restore something like 00.013001 30110 tcp queue memory limit 2097152 3145728 http show_bug.cgi 2751 xemul moved stuff kerndat.c reported andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7136,249ee5f7972468c746d51ff2c7d3ee70538dc59a,yrill Gorcunov <gorcunov@openvz.org>, 2013-10-09 17:18:23 +0400, , crtools print error message capital letter usually print error message starting capital letter signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7137,6695ff7259d1926e34dd0587d3243926e376acca,yrill Gorcunov <gorcunov@openvz.org>, 2013-10-09 17:17:58 +0400, , mount add missing newline signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7138,d51625715110f4b2ffe16a75c98f2704964dbf73,avel Emelyanov <xemul@parallels.com>, 2013-10-04 02:54:56 +0400, , zdtm write netns test written included standard run tool needed functionality available upstream signed pavel emelyanov xemul parallels.com,,
7139,eb3fc256f3592bfc1064628d3eed68bf30d2f800,avel Emelyanov <xemul@parallels.com>, 2013-10-04 02:54:28 +0400, , zdtm basic check iptables save restore signed pavel emelyanov xemul parallels.com,,
7140,28014d7eb450270ee7f84537cfd523ed8cc1db3a,avel Emelyanov <xemul@parallels.com>, 2013-10-04 02:51:33 +0400, , net save restore iptables net namespace default use iptables save iptables restore command user may define cr_iptables variable case cr_iptables would called signed pavel emelyanov xemul parallels.com,,
7141,80b1da7fb64b946ee2669e1b374e19439de3830e,avel Emelyanov <xemul@parallels.com>, 2013-10-02 23:20:33 +0400, , service add comment detached restore rpc request signed pavel emelyanov xemul parallels.com,,
7142,f5cd8bfdc3f27f095e5eb31801e26ee45f2a7925,uslan Kuprieiev <kupruser@gmail.com>, 2013-10-02 23:45:35 +0400, , test rpc restore signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7143,ba196e635840928a3a96de502e0dc32a7c0e4382,uslan Kuprieiev <kupruser@gmail.com>, 2013-10-02 23:44:42 +0400, , service treat restore request properly signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7144,dbced2f01361bd39f5430e9bf88186cf3ac07afb,uslan Kuprieiev <kupruser@gmail.com>, 2013-10-02 23:43:51 +0400, , log one default log filename let use one default log filename user set request needed signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7145,cdba0c87bffc9081bd06cedd62b9f9a5e261cd96,uslan Kuprieiev <kupruser@gmail.com>, 2013-10-02 23:42:18 +0400, , rpc add restore rpc.proto add restore rpc.proto signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7146,4b99ec469bf5a834c992e25e538771f816e8e005,ndrey Vagin <avagin@openvz.org>, 2013-10-02 19:29:24 +0400, , parasite block parasite crash need detect parasite crash hang socket operation criu ptraces parasite crash sigchld received parasite daemon crashed nothing state current process restored drop signal state process consistent probably best choise case exit signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7147,1009c8bb502b603c7bf652bebd39fddc21b288a8,ndrey Vagin <avagin@openvz.org>, 2013-10-02 19:29:23 +0400, , iptables use cr_system instead system going detect parasite crash goint check unwaited process sigchld handler cr_system block sigchld unblocks waiting target process signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7148,29c3e842343420beda0b42a10b81e75174b3918e,ndrey Vagin <avagin@openvz.org>, 2013-10-02 20:08:39 +0400, , parasite type communication socket must sock_seqpacket use unix socket communicate parasite used sock_stream guaranty message boundary save signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7149,229e4e502dc55d04fb0d47977bd78666cb3cac94,avel Emelyanov <xemul@parallels.com>, 2013-09-28 16:43:25 +0400, , security check real user dumping restoring unpriveledged user check set match like ptrace may attach kernel signed pavel emelyanov xemul parallels.com,,
7150,b4c8c5ae3227fecebd0f400e9028e7ca4ac82c65,avel Emelyanov <xemul@parallels.com>, 2013-09-28 15:51:09 +0400, , security also save gid user requesting signed pavel emelyanov xemul parallels.com,,
7151,6bf63b3f0191c6df67296679c481aa5adae7d91e,avel Emelyanov <xemul@parallels.com>, 2013-09-28 15:48:44 +0400, , security push full cred info may_xxx check enough check uids dump restore need check cap future signed pavel emelyanov xemul parallels.com,,
7152,547d9bf959cda1fe1f04058df7c29880b28c45f0,uslan Kuprieiev <kupruser@gmail.com>, 2013-10-02 17:11:17 +0400, , security set suid flag crtools check real uid dump restore remove redundant function variable signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7153,398705d4cbcb0b1d1e9271c3e1969bb25f2889e3,uslan Kuprieiev <kupruser@gmail.com>, 2013-10-02 16:04:11 +0400, , rpc rename criu_dump_req criu_opts let rename criudumpreq criuopts sake readability avoid coping code restore mechanism criudumpreq criurestoreresp would almost field also would easier introduce type request signed ruslan kuprieiev kurpuser gmail.com signed pavel emelyanov xemul parallels.com,,
7154,4d80f502e86039238838d6068e037d2d3b64953d,uslan Kuprieiev <kupruser@gmail.com>, 2013-10-02 16:01:44 +0400, , rpc add log_file field opts add default toi log.h use needed xemul simplified log_file case renumbered .proto field signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7155,9907302823e8d5735de3a01795225f0c865da5c0,uslan Kuprieiev <kupruser@gmail.com>, 2013-10-02 13:27:32 +0400, , dump initilize vmas beginning dump pre dump failed initializing vmas free_mappings vmas called cause segfault let initialize vmas beginning dump signed ruslan kuprieiev kurpuser gmail.com seqfault.patch signed pavel emelyanov xemul parallels.com,,
7156,bd8876d2d1b49124a47b6d9eb8fc4b26047c6b99,ndrey Vagin <avagin@openvz.org>, 2013-10-01 23:44:04 +0400, , zdtm fix syntax error zdtm.sh zdtm.sh line 231 local lname valid identifier zdtm.sh line 251 local ldir valid identifier http show_bug.cgi 2763 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7157,4b9b7953dd26a43313cc2f2b97796a2b638219f8,avel Emelyanov <xemul@parallels.com>, 2013-09-28 09:44:29 +0400, , service make default set service ino zero bad check peer socket bug introduced cfe72ab7 signed pavel emelyanov xemul parallels.com,,
7158,e8f4840049649380e8b90c0c6742e33972ad3b9e,avel Emelyanov <xemul@parallels.com>, 2013-09-28 06:28:33 +0400, , dump add comment task collecting code signed pavel emelyanov xemul parallels.com,,
7159,2fe5884df3def9ea12c773919fb01d0bbdbc5e75,avel Emelyanov <xemul@parallels.com>, 2013-09-28 06:18:44 +0400, , service remove empty signed pavel emelyanov xemul parallels.com,,
7160,91389f87822ac25dbe5cf9796ba978658071278e,avel Emelyanov <xemul@parallels.com>, 2013-09-28 06:16:17 +0400, , security introduce rather basic security restriction right ability launch service root execure dump request unpriviledged user bad guy deny dumping task belonging user watched traced read proc etc dumper future use engine launched suid bit probably sophisticated policy signed pavel emelyanov xemul parallels.com,,
7161,cfe72ab77ac4ce3f5ff00a7e9c11b3763469ee5e,avel Emelyanov <xemul@parallels.com>, 2013-09-28 06:06:53 +0400, , service put service inode separate variable get rid service state struct signed pavel emelyanov xemul parallels.com,,
7162,14559435f59026ced488075669277ac899ec164a,avel Emelyanov <xemul@parallels.com>, 2013-09-28 05:59:33 +0400, , service sanitize service child code flow close end close listener socket signed pavel emelyanov xemul parallels.com,,
7163,0acc2624d416e3a204647e87f152c4582dbb42bf,avel Emelyanov <xemul@parallels.com>, 2013-09-28 05:54:50 +0400, , service remove service state struct internal thing service remove externally available structure signed pavel emelyanov xemul parallels.com,,
7164,0521367f22cdf68e6f00b2c2de174e3a0aee3e83,avel Emelyanov <xemul@parallels.com>, 2013-09-28 05:52:18 +0400, , service remove actually unused pid variable service state signed pavel emelyanov xemul parallels.com,,
7165,9bc82f4910ac0cda3d14e4570e83295967759542,avel Emelyanov <xemul@parallels.com>, 2013-09-28 05:49:31 +0400, , rpc send empty message success fail case unsupported request signed pavel emelyanov xemul parallels.com,,
7166,0327d5511bed111974da985bb6ee1d50c8b0d108,avel Emelyanov <xemul@parallels.com>, 2013-09-28 05:39:52 +0400, , fdset beautify fdset opening signed pavel emelyanov xemul parallels.com,,
7167,02227d879fc216d96b79634dd4d3c9297443f799,avel Emelyanov <xemul@parallels.com>, 2013-09-28 05:32:52 +0400, , extend dumping log message pid signed pavel emelyanov xemul parallels.com,,
7168,891acca97f39d3658b5b7c1b64837172837e601d,ndrey Vagin <avagin@openvz.org>, 2013-09-30 17:16:53 +0400, , dump namespaces patch namespaces root task dumped dump namespace collected sure want create new process namespace signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7169,36d8c40c4409096f35951ce8bb08f4e0b9f12dc1,ndrey Vagin <avagin@openvz.org>, 2013-09-30 17:16:52 +0400, , namespace add real pid nsid dumped namespace root task going dump nested namespaces need know pid process life target namespace signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7170,07930a8df4b4e9d11147601ab8099d5d7106ebec,ndrey Vagin <avagin@openvz.org>, 2013-09-30 17:16:51 +0400, , replace pid per namespace file signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7171,51fca3806c834552e1fecd387ab90f87fd81ea9b,ndrey Vagin <avagin@openvz.org>, 2013-09-30 17:16:50 +0400, , namespaces remove unused code signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7172,f995673d991a956700e491e78166d5d7cc6b3c31,ndrey Vagin <avagin@openvz.org>, 2013-09-30 17:16:49 +0400, , ipcns use global fdset dumping namespace going replace pid name image file uniq namespace convient image file opened per namespace signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7173,b895c73c8206568ed3da2f585df8ca94a84be7d5,ndrey Vagin <avagin@openvz.org>, 2013-09-30 17:16:48 +0400, , mntns use global fdset dumping namespace going replace pid name image file uniq namespace convient image file opened per namespace signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7174,e63f8c20e94fdb79c4d490caab88a812ef13bc15,ndrey Vagin <avagin@openvz.org>, 2013-09-30 17:16:47 +0400, , use global fdset dumping namespace going replace pid name image file uniq namespace convient image file opened per namespace signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7175,faf7b948685f86a24f8d86e176dcd80a47251e06,ndrey Vagin <avagin@openvz.org>, 2013-09-30 17:16:46 +0400, , netns use global fdset dumping namespace going replace pid name image file uniq namespace convient image file opened per namespace signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7176,762d932cbb1f95f7383e7de9666f7a0256bbb253,ndrey Vagin <avagin@openvz.org>, 2013-09-30 17:16:45 +0400, , namespace open image per namespace show preparation replace pid image name signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7177,b1b02fe676e6e4a7e8065fc9d934ede7be255ff3,ndrey Vagin <avagin@openvz.org>, 2013-09-30 17:16:43 +0400, , image split namespace contants per subsystem currently value constant continuous cr_fdset_open used opening image namespaces next patch rework code image file opened per namespace ugly setting one constant another removed signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7178,8a23c3106ddb7af04c8f696432e69ed89010eab0,ndrey Vagin <avagin@openvz.org>, 2013-09-30 17:16:44 +0400, , image export cr_fdset_open signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7179,d92874697b68f95f60c3a6a5eb6486f500161c12,ndrey Vagin <avagin@openvz.org>, 2013-10-01 11:22:17 +0400, , zdtm check stopped task restored correctly signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7180,79d47a939d255e7c9d975993399727b58161ad73,ndrey Vagin <avagin@openvz.org>, 2013-10-01 11:21:34 +0400, , crtoools add support stopped task currently catch process exit point sigreturn task must restored stopped state send sigstop detaching add descriptive comment skipping sigstop ptrace.c signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7181,2169020bea2636eb8bc9e9e937ef618a5c81fc9f,avel Emelyanov <xemul@parallels.com>, 2013-10-01 11:17:28 +0400, , dump add comment saying dump zombie separately alive task signed pavel emelyanov xemul parallels.com,,
7182,ca3a23ec9c59394c8432d04cb3064e29d9729710,ndrey Vagin <avagin@openvz.org>, 2013-10-01 11:14:44 +0400, , dump transfer pstree_item currently take pid core going take state signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7183,6b31a75a68a0aeecf6ee1c8a06d0ed8cd38df68f,ndrey Vagin <avagin@openvz.org>, 2013-09-30 18:46:50 +0400, , parasite add comment safly trap task sigreturn kernel notifies leaving syscall starting deliver signal believe pls look arch x86 kernel entry_64.s    signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7184,3f1aeb2c86ab6473f48a82a2312beaf37c5b8b8f,uslan Kuprieiev <kupruser@gmail.com>, 2013-09-30 18:44:57 +0400, , unix sock_seqpacket everything unix.c ready seq packet socket signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7185,d135ad35381339304cac415c8b67d2fe9863b677,avel Emelyanov <xemul@parallels.com>, 2013-09-27 21:20:41 +0400, , mnt collect mntns root criu case dump mount namespace case criu dumpee live mount namespace need getting root init task get criu void root check required namespace case signed pavel emelyanov xemul parallels.com,,
7186,7576fa2bdf88ea4a966c8de80dabc0b60aaeddd8,avel Emelyanov <xemul@parallels.com>, 2013-09-27 21:08:02 +0400, , rst create posix timer earlier failure occur sigchld restore signed pavel emelyanov xemul parallels.com,,
7187,aec951ec07da3f3af73648b19ea0da650bbefee6,avel Emelyanov <xemul@parallels.com>, 2013-09-27 17:04:20 +0400, , rst fail task entry unmap fail fail late stage everything restored running worst case unmap fails restored task would one extra mapping signed pavel emelyanov xemul parallels.com,,
7188,f1edcb32f54459b53024c47a79ec40a1d7868f86,avel Emelyanov <xemul@parallels.com>, 2013-09-27 04:38:00 +0400, , rst introduce fine grained pgid restore synchronization restore task pgid equal pid respective group leader alive make restore reliable wait group leader restore using separate restore stage better optimize task pointer group leader wait one become signed pavel emelyanov xemul parallels.com,,
7189,656693503eaf90619963d18b31c4bd96bc26dc6b,avel Emelyanov <xemul@parallels.com>, 2013-09-25 14:15:31 +0400, , zdtm check root file survives task open file chroot criu still able dump restore invisible file signed pavel emelyanov xemul parallels.com,,
7190,2c6b61f122ea6a9f218d1d21940603322e1320db,avel Emelyanov <xemul@parallels.com>, 2013-09-25 13:09:04 +0400, , zdtm test chroot signed pavel emelyanov xemul parallels.com,,
7191,c378f790b81cbe7974164b91b1eb1dd162f0c442,avel Emelyanov <xemul@parallels.com>, 2013-09-25 13:46:01 +0400, , restore root first done strictly stopped accessing file path even absolute place right going restorer second thing want use open_fd_by_id engine since handle various tricky case open file path since thing fchroot int emulate using proc self link signed pavel emelyanov xemul parallels.com,,
7192,75b1d4a1e31029b83632144d6730e6a6fafa7cde,avel Emelyanov <xemul@parallels.com>, 2013-09-25 13:53:02 +0400, , rst open sys.ns_last_pid diving restorer restore chroot might need open one may access proc ... path signed pavel emelyanov xemul parallels.com,,
7193,cd19b2fe257861c40e0a95a22e7ce69d7c0ed8f1,avel Emelyanov <xemul@parallels.com>, 2013-09-25 13:22:18 +0400, , reshuffle prepare_fs code flow make ready root dir restore fix comment rename variable tune error path signed pavel emelyanov xemul parallels.com,,
7194,fe3fb8851e682aa3513d615224a79f3ce6e741d0,avel Emelyanov <xemul@parallels.com>, 2013-09-25 11:43:02 +0400, , tcp support cork nodelay option signed pavel emelyanov xemul parallels.com,,
7195,4b6e1d6dc094aae4ff91a821a4428811e3d315ee,avel Emelyanov <xemul@parallels.com>, 2013-09-25 11:40:40 +0400, , unix print socket hex collect skip signed pavel emelyanov xemul parallels.com,,
7196,3ebb3682990489e2f59e68b7802c4ed75da20083,avel Emelyanov <xemul@parallels.com>, 2013-09-25 11:39:54 +0400, , unix print socket found error message dump signed pavel emelyanov xemul parallels.com,,
7197,8f74187af1014ac93a9bfd5b6f984532cac79f39,lexander Kartashov <alekskartashov@parallels.com>, 2013-09-26 15:56:35 +0400, , arm use register r12 routine syscall_common register r12 special meaning syscalls hooked ptrace arm result dumpee context corruption injected blob unmap note patch solve problem entirely since compiler may corrupt register issuing call routine sys_munmap however assume sufficiently decent compiler signed alexander kartashov alekskartashov parallels.com tested andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7198,4e2031ca64c267467614fe3ae5449b6e0d3617d1,avel Emelyanov <xemul@parallels.com>, 2013-09-19 13:30:12 +0400, , show print buffer range symbol print_data helper may access symbol beyond buffer range would thus print trash signed pavel emelyanov xemul parallels.com,,
7199,255d9851744279c5875d5f68fca71329d802c74c,avel Emelyanov <xemul@parallels.com>, 2013-09-19 13:28:40 +0400, , show put printing xdigits symbol helper preparation next patch signed pavel emelyanov xemul parallels.com,,
7200,360c1c13b2a13d8a577a72d15c1c77e05fdfc20b,avel Emelyanov <xemul@parallels.com>, 2013-09-19 12:16:07 +0400, , tcp show tcp queue content requested signed pavel emelyanov xemul parallels.com,,
7201,008d3a9898879d01b4f48d9ae753b4b2df154a28,avel Emelyanov <xemul@parallels.com>, 2013-09-19 12:03:10 +0400, , show show lost .img image file signed pavel emelyanov xemul parallels.com,,
7202,057adb4cdcad34d9b4459f503906ac39e5ed096d,avel Emelyanov <xemul@parallels.com>, 2013-09-19 10:45:36 +0400, , zdtm check o_append preserved properly signed pavel emelyanov xemul parallels.com,,
7203,3c0ea1c9ca0e34bd7ddd0c46f89ffc3a0d79bc72,uslan Kuprieiev <kupruser@gmail.com>, 2013-09-21 02:20:31 +0400, , test rpc test.py signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7204,6c718214df298967a6133d152af5d522bb5831f1,uslan Kuprieiev <kupruser@gmail.com>, 2013-09-21 02:20:24 +0400, , test rpc test.c signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7205,8a200fd651d5d544a632c62787c6a987b235f308,uslan Kuprieiev <kupruser@gmail.com>, 2013-09-21 02:20:17 +0400, , test rpc run.sh signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7206,4a856a5b0f6d20b3e97f2f0708169bfd595b35fd,uslan Kuprieiev <kupruser@gmail.com>, 2013-09-21 02:20:10 +0400, , test rpc makefile signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7207,8708c2d2dbcc89a99b310e9a164e78e61389b49d,avel Emelyanov <xemul@parallels.com>, 2013-09-24 11:33:36 +0400, , help add info pidfile work service page server signed pavel emelyanov xemul parallels.com,,
7208,3f9478d68c37b2e320792dc7c365bb97a49abae7,uslan Kuprieiev <kupruser@gmail.com>, 2013-09-24 11:18:51 +0400, , service check error xmalloc original patch andrey vagin avagin openvz.org signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7209,bc5828c11125a4dba6042c9e0c51628e956b6193,uslan Kuprieiev <kupruser@gmail.com>, 2013-09-24 11:17:33 +0400, , service leak client socket fork failed original patch andrey vagin avagin openvz.org signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7210,c861f61e0cf1007c7bcca5849c8a3109553021ae,ndrey Vagin <avagin@openvz.org>, 2013-09-24 11:12:55 +0400, , service exit accept returned error know reason accept fails back normal work ruslan kuprieiev kupruser gmail.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7211,3477223068eb113d2c9b60d303ceab3b906a9299,ndrey Vagin <avagin@openvz.org>, 2013-09-24 11:11:56 +0400, , service set one exit point remove exit ruslan kuprieiev kupruser gmail.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7212,bf7c171a8b858283274def5d77f5ec824266f2b4,ndrey Vagin <avagin@openvz.org>, 2013-09-23 17:51:46 +0400, ," arm mark vector vma vma look like vsyscall x86 need dump restore currently vma dumped restored private vma remmaped correct place restore dump pipe00 6392 dump.maps 2013 19.436816192 0000 dump pipe00 6392 restore.maps 2013 20.276766356 0000 6,5 6,6 e05000 e26000 4009d000 4009f000 400a0000 400aa000 400b8000 401e7000 b6d6f000 b6d70000 be838000 be859000 ffff0000 ffff1000 error set mapping differ signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com",,
7213,1dd4810af131602aa69dea74c6eca7c4f786bd1d,ndrey Vagin <avagin@openvz.org>, 2013-09-23 15:25:17 +0400, , zdtm check pending signal handled resuming process patch detects race signal hanler could executed restore detail 5d18eca restorer block signal early signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7214,4c52aaf4419e33e3716c722bb25cb2171437f71d,ndrey Vagin <avagin@openvz.org>, 2013-09-23 14:33:38 +0400, , zdtm check process set vms restore vma merged restore example process map vma1 vma2 vma3 previous one vma1 vma3 vma2 vma3 merged vma1 three vma merged restore mmaped correct order vma1 vma3 vma2 due issue small script merging continuous vma signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7215,e1e1034786f985f42d073bab579cc1e038a19200,ndrey Vagin <avagin@openvz.org>, 2013-09-23 14:33:37 +0400, , restorer rework unmaping old vma process vma premmaped area restorer stuff bootstap area two area need unmap extra vma one one call munmap three time region first area hole area region second area old scheme work list vma changed collecting due memory allocation libc due increased stack improve readability expense beautiness print return code munmap error message signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7216,c900bf74b094f3bb84e149b7e05b5e909a4af4cb,ndrey Vagin <avagin@openvz.org>, 2013-09-23 14:33:36 +0400, , parasite unmap patch add new parasite command unmaps parasite blob command never return criu process trap target process exit munmap syscall rename function unmaping parasite blob intersects criu function signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7217,89d8b20186ec544b95ea5d2e0046bf9c6fc272f4,ndrey Vagin <avagin@openvz.org>, 2013-09-23 14:33:35 +0400, , restorer unmap patch add function removing restorer blob function never return process must trapped exit munmap syscall release parasite_ctl sturcture use new interface  signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7218,66f21e6b71a6af621bcffb5005f7ef67ef4d4b14,ndrey Vagin <avagin@openvz.org>, 2013-09-23 14:33:34 +0400, , restore catch task exit sigreturn task stopped unmaping restorer blob restoring state method parasite criu attache process via ptrace start trace syscalls use software breakpoint stop thread exit sigreturn attach thread signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7219,f43ac0643e1477db4391f2a252349a02f66e21f1,ndrey Vagin <avagin@openvz.org>, 2013-09-23 14:33:33 +0400, , restore save task state pstree_item signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7220,5273ae903627f0ab707e1b6a5d69ba967cefcc66,ndrey Vagin <avagin@openvz.org>, 2013-09-23 14:33:32 +0400, , pstree initialize real pid thread restore going check valid signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7221,dbd41b522fda2ae3ed3467c5f3c909edbab59be4,ndrey Vagin <avagin@openvz.org>, 2013-09-23 14:33:31 +0400, , proc allow parse_thread use existent buffer parse_thread allocated buffer thread initialized read pid thread want use restore moment already buffer initialized virt pid need initialize read pid signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7222,3e5ad587f4e514dc565ae8bdaeb16d8618f987cf,ndrey Vagin <avagin@openvz.org>, 2013-09-23 14:33:30 +0400, , parse_proc move parse_threads dump.c used restore.c stopping thread exit sigreturn signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7223,b65ba9a8d600180e1cb14e6c196a4e6d362260b5,ndrey Vagin <avagin@openvz.org>, 2013-09-23 14:33:29 +0400, , parasite add function unmaping bootstrap blob munmap syscall must executed process memory code injected memory removed avoid action code blob process trapped exit munmap syscall signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7224,6382ec4e665ead25bd0438f1caef08de975633b1,ndrey Vagin <avagin@openvz.org>, 2013-09-23 14:33:28 +0400, , parasite prep_ctl search place syscall vma_list null feature used unmaping restorer blob reqired code blob signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7225,f9f690262c76a3e8095e9f511260cb6aa64c4808,ndrey Vagin <avagin@openvz.org>, 2013-09-23 14:33:27 +0400, , parasite allow wait one process exit syscall process must started ptrace_syscall function call wait loop process exit required syscall stopped otherwise reexecuted ptrace_syscall function know process trapped care wait catch someone else signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7226,833b1f950a7d0439dcddd95c109680cf4c62640e,ndrey Vagin <avagin@openvz.org>, 2013-09-23 14:33:26 +0400, , parasite stop task exit specified syscall patch add nothing new split existant function currently parasite stopped sigreturn unmaping parasite blob scheme used restorer blob function used stop exit munmap syscall signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7227,5a374819142b363c1a85924cc7086c39bdfabd2f,ndrey Vagin <avagin@openvz.org>, 2013-09-23 14:33:25 +0400, , restore get real pid task root task clone syscall return pid criu pidns process clone syscall return pid restored namespace proc self link contains pid value current process want determing pid criu pidns use criu proc readlink doe append null byte buf must signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7228,5649722388217c9095ba9303a813436f2bfa15fa,ndrey Vagin <avagin@openvz.org>, 2013-09-23 14:33:24 +0400, , restore allocate pstree item shared pool pstree item contain pid state property determined creating process used controlling proces fix error path signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7229,bd90e9887cb4e4c72919f304fc5fef0d7e890cf6,avel Emelyanov <xemul@parallels.com>, 2013-09-23 14:37:56 +0400, , service move worker code separate function original patch andrey vagin avagin openvz.org original patch ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7230,c90b58d855ac06c0f955316be6e8317497283876,uslan Kuprieiev <kupruser@gmail.com>, 2013-09-23 14:31:29 +0400, , service change put pr_perror signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7231,5d18eca3d53b626e983d1f1b44ca374e730cd9e4,ndrey Vagin <avagin@openvz.org>, 2013-09-20 20:04:46 +0400, , restorer block signal early otherwise thread handle calling sigreturn wrong belonging crtools target task handers   sys_sigaction sigchld args sigchld_act ... restore_signals ksigfillset to_block sys_getpid ... execute signal handler bug restore_signals ksigfillset to_block signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7232,c721a2751fe6545805be6eb89ca6a7db8ad9a98b,yrill Gorcunov <gorcunov@openvz.org>, 2013-09-18 20:43:59 +0400, , net print link name restore debug purpose 00.013002 restoring link type 00.013002 restoring netdev idx 00.015002 restoring link venet0 type 00.015002 restoring link eth0 type 00.015002 restoring netdev eth0 idx signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7233,c59ba803353d6ced7872f2d778319541814db661,avel Emelyanov <xemul@parallels.com>, 2013-09-18 00:00:26 +0400, , use bool type lock unlock switch signed pavel emelyanov xemul parallels.com,,
7234,522fa17071710f16c4a49b6e4aa1687a9cda48ba,ndrey Vagin <avagin@openvz.org>, 2013-09-17 23:55:08 +0400, , iptables use output table block locally generated packet going block connection direction v0.6 g0a1b70b iptable rule added input table wrong rule must added output table block locally generated packet signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7235,1fd180ca6c4831ad026c8cfbe83c00ad672947d5,ndrey Vagin <avagin@openvz.org>, 2013-09-17 22:46:55 +0400, , socket double buffer size socket so_sndbuf so_rcvbuf set double input value linux reserve half socket buffer metadata process suspended restored many time socket buffer size doubled iteration one moment overflowed likely program hang situation socket negative buffer size unusable signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7236,14f98abf8d6b3b5ab79e86e05cbe62587bbfa72a,lexander Kolesen <kolesen.a@gmail.com>, 2013-09-17 22:45:45 +0400, , make gen syscalls.pl compatible perl 5.13.2 error occurs trying build crtools arm system perl version earlier 5.13.2 due lack modifier make ... gen arch arm syscalls.s bareword found operator expected arch arm gen syscalls.pl line near include bareword found operator expected arch arm gen syscalls.pl line near include bareword found operator expected arch arm gen syscalls.pl line near include bareword found operator expected arch arm gen syscalls.pl line near bareword found operator expected arch arm gen syscalls.pl line near syntax error arch arm gen syscalls.pl line near include syntax error arch arm gen syscalls.pl line near include syntax error arch arm gen syscalls.pl line near include syntax error arch arm gen syscalls.pl line near syntax error arch arm gen syscalls.pl line near begin safe error compilation aborted arch arm gen syscalls.pl line make rule make target arch arm syscalls.s needed arch arm syscalls.o stop signed alexander kolesen kolesen.a gmail.com acked alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7237,44faa25d9d59a43e08b122620802e97f61690fa6,avel Emelyanov <xemul@parallels.com>, 2013-09-17 00:50:03 +0400, , rpc mark dump resp restore message signed pavel emelyanov xemul parallels.com,,
7238,4eb2872b27b5f355f936994ce18288c44f286eb4,uslan Kuprieiev <kupruser@gmail.com>, 2013-09-16 15:45:01 +0400, , crtools write pidfile service page server run daemon pidfile set service page server becomes daemon may need know pid signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7239,c6b79bd35f389850ab2fcacc9b5f1167a8306de8,avel Emelyanov <xemul@parallels.com>, 2013-09-16 15:41:37 +0400, , service forget send dump failed message signed pavel emelyanov xemul parallels.com,,
7240,5f47e0a67f6ea90d1e000fd702a8816b6ce73c68,avel Emelyanov <xemul@parallels.com>, 2013-09-16 15:40:04 +0400, , service simplify dump responce sending need parameter form properly signed pavel emelyanov xemul parallels.com,,
7241,e866b7c0435816a17b79a9057da8d28758ee9ea4,avel Emelyanov <xemul@parallels.com>, 2013-09-16 15:36:12 +0400, , rpc split rpc req rpc resps generic criu_msg thing instead explicit request per type args explicit responce yet per type args signed pavel emelyanov xemul parallels.com,,
7242,d285be5ed7509511bb2aa36b8da8152aa6fe335d,avel Emelyanov <xemul@parallels.com>, 2013-09-16 15:23:00 +0400, , rpc renumber dump req field put important thing first secondary last signed pavel emelyanov xemul parallels.com,,
7243,98b5541492661b66e34469b449a15f1d085f2a44,uslan Kuprieiev <kupruser@gmail.com>, 2013-09-16 15:21:13 +0400, , rpc change required field optional field changed optional optional fact signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7244,551cd03290f1ba7f705c34062eba0e05e1bd7278,yrill Gorcunov <gorcunov@openvz.org>, 2013-09-14 15:01:32 +0400, , version print git present criu built git repo print git commit convenient debug example criu version 0.7 gitid 7985251 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7245,5006ed5f7c2a0cd299eab35e3fad12e1cbe680b9,yrill Gorcunov <gorcunov@openvz.org>, 2013-09-14 15:00:17 +0400, , version define version macro defining static char bad idea especially get included never used get unused variable error signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7246,5aa409afcf3e5b59338bb9323a61bd1d6d9ad16c,ndrey Vagin <avagin@openvz.org>, 2013-09-14 14:58:23 +0400, , crtools handle propertly ... must increase logging level number symbol signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7247,9a2219af0c6f725e38dc941645494951ee6ec13d,ndrey Vagin <avagin@openvz.org>, 2013-09-14 14:56:59 +0400, , make clean test data test completed successfully signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7248,a967e5345f743132c93746c4928a3a5e03e20532,yrill Gorcunov <gorcunov@openvz.org>, 2013-09-14 14:56:12 +0400, , ipc zeroify data tail signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7249,7ecb00dfcac9d40c9a02180ab79e18eec2d4c9b4,yrill Gorcunov <gorcunov@openvz.org>, 2013-09-14 14:56:04 +0400, , ipc zeroify data tail signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7250,df4e243ea0c65b58eea8f5f32c7d9a4c9171b183,yrill Gorcunov <gorcunov@openvz.org>, 2013-09-14 14:55:57 +0400, , ipc access data allocated slab zeroify data actually security reason aspect addressed patch meanwhile least allocate enought space pb_write access data allocated signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7251,31050001accc8bda23cafcbc312b66d5096e9759,ir Kolyshkin <kir@openvz.org>, 2013-09-13 11:47:09 -0700, , test zdtm.sh check extra argument parsing option expect either argument signed kir kolyshkin kir openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7252,3ef2a28e9e7148b1772a7869d4f78db8e1574f17,ir Kolyshkin <kir@openvz.org>, 2013-09-13 11:47:08 -0700, , test zdtm.sh show help unknown option used signed kir kolyshkin kir openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7253,87368019be7ad9b1b715caf334390488d0df2a72,ir Kolyshkin <kir@openvz.org>, 2013-09-13 11:47:07 -0700, , test zdtm.sh move unrecognized option inside case easier way signed kir kolyshkin kir openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7254,11d50423b9f4f9b10002248bbcea9a4c009d3e78,ir Kolyshkin <kir@openvz.org>, 2013-09-13 11:47:06 -0700, , test zdtm.sh move parsing inside case cleaner option parsed way manner factor usage call found also print usage text stdout stderr signed kir kolyshkin kir openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7255,6f209a2e7e62751d9082ad34612db475b9d0749c,ir Kolyshkin <kir@openvz.org>, 2013-09-13 11:47:05 -0700, , test zdtm.sh move parsing inside case cleaner option parsed one place signed kir kolyshkin kir openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7256,79f09e57a071c1fcbbb979d0df1f118fd305611c,ir Kolyshkin <kir@openvz.org>, 2013-09-13 11:47:04 -0700, , test zdtm.sh use case parse cmdline opts look cleaner way signed kir kolyshkin kir openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7257,e1e9b50016ce72d3b923cada8fb7a9e64d634f26,ir Kolyshkin <kir@openvz.org>, 2013-09-13 11:47:03 -0700, , test zdtm.sh fix error message got get signed kir kolyshkin kir openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7258,711f1b7baa49d43a27bcdbd954777670c46418fb,ir Kolyshkin <kir@openvz.org>, 2013-09-13 11:47:02 -0700, , test zdtm.sh use statement longer multi line statement let use traditional ... ... short form better one liner signed kir kolyshkin kir openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7259,1ed8e5973ff936c5515397e1a7bb090ac42a0361,ir Kolyshkin <kir@openvz.org>, 2013-09-13 11:47:01 -0700, , test zdtm.sh remove space semicolon eol cause signed kir kolyshkin kir openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7260,950ce7972c9ce7c2561e8642a1058de46aece016,ir Kolyshkin <kir@openvz.org>, 2013-09-13 11:47:00 -0700, , test zdtm.sh fix error message either different differ let use shorter form signed kir kolyshkin kir openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7261,e60c9e8625503c1a6df13260288cc3177f248d31,ir Kolyshkin <kir@openvz.org>, 2013-09-13 11:46:59 -0700, , test zdtm.sh fix improve warning text first wanted fix spelling commited meainstream ended using better wording signed kir kolyshkin kir openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7262,bbe9a2c1e6699aa7e58f29a33fbee9587c866426,ir Kolyshkin <kir@openvz.org>, 2013-09-13 11:46:58 -0700, , test zdtm.sh require bash lot bash statement script let ask bin bash explicitly avoid weird error running e.g debian dash installed default alternatively rewrite pure shell much work signed kir kolyshkin kir openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7263,54a6a79455477617737bf9bf3d709a78dca9f29f,avel Emelyanov <xemul@parallels.com>, 2013-09-13 16:42:01 +0400, , unix check service client null regular dump thing initialized signed pavel emelyanov xemul parallels.com,,
7264,4c504f5dddc1be2eb918d573f5707c668d7af26e,uslan Kuprieiev <kupruser@gmail.com>, 2013-09-13 13:44:21 +0400, , dump dump child uids equal client uid security service run root serf request non root process thus allow anyone dump suid program run unpriviledged process signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7265,d74073a593467b19c01c79905aabaec803a85b7e,uslan Kuprieiev <kupruser@gmail.com>, 2013-09-13 13:44:15 +0400, , unix handle service socket dump restore service connection actually external one unix socket engine pov want dump thus explicitly find one dump half closed connection restore push artificial message report program dump request served program restored signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7266,8fddfd2ff4bc3acdacadab187bb9e56b5ea92ee7,uslan Kuprieiev <kupruser@gmail.com>, 2013-09-13 13:44:09 +0400, , crtools add cr_service meat need service described http criu.org self_dump signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7267,2b14723511f604182d48fd2404c31763d08dc318,uslan Kuprieiev <kupruser@gmail.com>, 2013-09-13 13:44:02 +0400, , protobuf add rpc.proto file message description signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7268,eb79300dfdb968911baafad774ddc5fef09cd431,uslan Kuprieiev <kupruser@gmail.com>, 2013-09-13 13:43:56 +0400, , crtools initial skeleton cr_service criu service daemon open unix socket listens incoming request request declared protobuf rpc.proto contain dump request signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7269,b67afac62302d8318a61956e068dea3dab13e464,ndrey Vagin <avagin@openvz.org>, 2013-09-12 17:24:35 +0400, , util remove unused service constant signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7270,02650b0711eae3786b375dced4aec01ae8b19030,avel Emelyanov <xemul@parallels.com>, 2013-09-10 12:45:42 +0400, , net sanitize dump_links function code signed pavel emelyanov xemul parallels.com,,
7271,9a6bc0fdab14f37cda833b4eecbf76635820ba54,avel Emelyanov <xemul@parallels.com>, 2013-09-10 12:24:11 +0400, , unix add comment icon external socket signed pavel emelyanov xemul parallels.com,,
7272,b4c09afd43e8399b4582c7ef50ffa5cfe75518ba,avel Emelyanov <xemul@parallels.com>, 2013-09-10 12:13:36 +0400, , file add comment shared file dump restore trivial codeflow let document till remember doe signed pavel emelyanov xemul parallels.com,,
7273,dee617dc85de1b6d2e25dd0b0fab85a141f91b33,yrill Gorcunov <gorcunov@openvz.org>, 2013-09-10 12:01:57 +0400, , make clean build .so requested openvz criu converter use build engine criu converter specific shipping precompiled vdso.so library call make clean precompiled file get automatically deleted turn cause converter fail next build attempt thus let delete .so target declared makefiles signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7274,37b94082c7a2829c145e519f9cec99003eceb1b3,avel Emelyanov <xemul@parallels.com>, 2013-09-10 12:01:28 +0400, , tun use shorter name ifr_name signed pavel emelyanov xemul parallels.com,,
7275,4aef183995136d35c1c6e29a97670c9e08291afc,yrill Gorcunov <gorcunov@openvz.org>, 2013-09-02 16:18:58 +0400, , doc make add description obj ext src signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7276,46eff20bd27a80657a8f52bdc4eaa96509e8312c,yrill Gorcunov <gorcunov@openvz.org>, 2013-09-02 16:18:57 +0400, , make libcriu use obj ext src target pie util fd.c recompilation signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7277,f879284bb873a65b95698f531a7d894e370ca6c1,yrill Gorcunov <gorcunov@openvz.org>, 2013-09-02 16:18:56 +0400, , make allow compile source external directory signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7278,764f0781797bad19e73ed59a22916134501cb600,yrill Gorcunov <gorcunov@openvz.org>, 2013-09-02 16:18:55 +0400, , make extend rule macro pick source variable allow generate rule source object file laying extenal directory compiled one kept directory signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7279,74070c84dd38cf96575365309b0266dca5a9cd55,avel Emelyanov <xemul@parallels.com>, 2013-09-03 15:32:52 +0400, , criu version 0.7 release quite lot bugfixes improvement documentation thanks feedback user new notable feature include tun device shared master slave mount alternative signal stack sigaltstack support memory tracking upstream last release tied kernel release next one happen soon decide worth linux 3.12 signed pavel emelyanov xemul parallels.com,,
7280,c8f22f96ed86c16d22e61da17deab6cf7b00ff83,ndrey Vagin <avagin@openvz.org>, 2013-09-03 14:58:13 +0400,3, parasite take account fact file descriptor zero condition rst taking false branch off_by_one testing whether handle rst strictly greater zero suspicious intend include equality zero rst leak zero cid 1072986 resource leak resource_leak 12. leaked_handle handle variable rst going scope leak handle signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7281,fd81748a00bb4b5201238e3c273e0f06525dea1c,ndrey Vagin <avagin@openvz.org>, 2013-09-03 14:53:18 +0400, , zdtm increase upstream kernel version kernel must 3.11 greater due 29000cae ptrace add ability get set signal blocked mask patch dumping tun device committed upstream kernel yet static tun excluded signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7282,7097b5358a43d66964c957fc3120f239ed8e2dc3,avel Emelyanov <xemul@parallels.com>, 2013-09-03 14:21:11 +0400, , check soft dirty support upstream since v3.11 signed pavel emelyanov xemul parallels.com,,
7283,a46248c80b4c90199e935ae85688e85d031034e1,ndrey Vagin <avagin@openvz.org>, 2013-09-03 13:59:01 +0400,1, mount close namespace descriptor two time cid null double close use_after_free 10. double_close calling restore_ns int struct ns_desc close handle ns_old already closed signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7284,9959a2a9632712c990e348dfa82948abc18536a9,yrill Gorcunov <gorcunov@openvz.org>, 2013-09-02 16:19:12 +0400, , tun fix redundant pr_perror signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7285,d005e3f3fe7b5a9cd9789817fa265e2d8cf93618,ndrey Vagin <avagin@openvz.org>, 2013-09-02 16:18:46 +0400, , zdtm transfer correct test name case_error signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7286,19670d05b1a00cb46247fb2e5dd78cdc55afef86,ndrey Vagin <avagin@openvz.org>, 2013-09-02 16:18:21 +0400, , zdtm check exit code make signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7287,10563659701ba000fbaa63e09bc2386be3c4e8fa,yrill Gorcunov <gorcunov@openvz.org>, 2013-09-02 14:48:03 +0400, , lib libcriu use lib facility signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7288,4aacfda75528087e917a4e70a23a57921afd736c,yrill Gorcunov <gorcunov@openvz.org>, 2013-09-02 14:48:02 +0400, , doc make add lib description signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7289,63f89f83b826cbc7f5fa768f629a989f43cc9e2c,yrill Gorcunov <gorcunov@openvz.org>, 2013-09-02 14:48:01 +0400, , make add library building helper signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7290,b8a85cf57de270a17e6a800f0deeb4a855b441ac,avel Emelyanov <xemul@parallels.com>, 2013-08-29 10:13:55 +0400, , file remove fixme comment linked remap implemented already signed pavel emelyanov xemul parallels.com,,
7291,7a16734ed5a22f5ab6333a3c2058d031b315bbde,avel Emelyanov <xemul@parallels.com>, 2013-08-29 08:07:15 +0400, , rst formalize shared resource restore order signed pavel emelyanov xemul parallels.com,,
7292,cb648fb93462d70dccf07d8d97bb9df6ece0bf16,ndrey Vagin <avagin@openvz.org>, 2013-08-30 16:44:16 +0400, , pie use pr_perror pie code pr_perror errno set glibc wrapper return code syscalls printed signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7293,6201096cea2744397bfafbc3cc4ff0deddadc059,ndrey Vagin <avagin@openvz.org>, 2013-08-30 15:36:52 +0400, , zdtm fix race condition concurrent execution test test executed concurrently use root library must copied atomically without patch get error like create regular file tmp criu root.m45u5y lib64 linux x86 64.so.2â file exists signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7294,7d8ed36c33531af582b3cf348fbf3f90be4f0f7b,ndrey Vagin <avagin@openvz.org>, 2013-08-30 15:10:58 +0400, , restore.c fixed compilation error arm use decode_pointer convert virtual address native pointer signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7295,fe1c16a5020e0a59845af3ef1ed1fff7da1a30ce,ndrey Vagin <avagin@openvz.org>, 2013-08-13 17:02:53 +0400, , test generate random tree mount signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7296,5f18aa4ddf213c3979a606531d9c72414a962278,ndrey Vagin <avagin@openvz.org>, 2013-08-13 17:02:52 +0400, , zdtm expand mountpoints test check shared slave mount check bind mount signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7297,37ffc4186356fa600b5e97ec6cc7260be4be5280,ndrey Vagin <avagin@openvz.org>, 2013-08-13 17:02:51 +0400, , mount prevent dumping mount restored currently check shared mount identical set child non root mount proper root mount check nobody overmounted check tree trying restore signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7298,6244f943bf57fd2db4f13e3185aea20d74a94d65,ndrey Vagin <avagin@openvz.org>, 2013-08-13 17:02:50 +0400, , mount handle non root bind mount non root mount bind mounted proper root mount non root mount without root mount supported yet signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7299,f05beddca33eb80a91223952cf77d59e91099d95,ndrey Vagin <avagin@openvz.org>, 2013-08-13 17:02:49 +0400, , mount handle shared slave mount idea simple mount mounted try mount later wait slave unmounted anyway add comment do_bind_mount explain restoring shared group signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7300,2eedcaabe5f2c2aa74934870cdb9dd498281d64b,ndrey Vagin <avagin@openvz.org>, 2013-08-13 17:02:48 +0400, , mount restore shared slave private property signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7301,02d8a72bb550256666cdc02b28844b1415c11f67,ndrey Vagin <avagin@openvz.org>, 2013-08-29 18:54:00 +0400, , mount find mount propagated current one sentence required understanging patch shared mount replicated many mountpoints replica continue exactly slave mount like shared mount except mount umount event propagate towards private mount doe forward receive propagation rule documentation filesystems first mount group group member bind mounted one mount propagates member parent group group contains slave mount propagated slave unmounted sure propagated real life example mount bind make slave share slave1 mount bind make slave share slave2 mount share test umount slave2 test mount make share slave1 test mount bind make share slave1 test slave2 test share relatime shared tmpfs xxx slave1 relatime master tmpfs xxx slave2 relatime master tmpfs xxx share test relatime shared tmpfs xxx slave1 test relatime shared master tmpfs xxx slave2 test relatime shared master tmpfs xxx slave1 test slave2 test depend minimum one propagate share test use false true bool signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7302,e01072c05a248a13df43aa397d5dacedb47214be,ndrey Vagin <avagin@openvz.org>, 2013-08-29 18:52:43 +0400, , mount mount mounted queued postpone list try restore mount postpone list empty check iteration progress otherwice fails preventing infinite loop rework logic postpone list add comment one attempt make readable master class pavel write self documented code signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7303,2b4a8d29d6d836585325efd0353b4e3528461a00,ndrey Vagin <avagin@openvz.org>, 2013-08-13 17:02:45 +0400, , mount save group master image file required restoring shared slave mount use name variable image code signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7304,d00e7c6f880a3afe8c67c90a9ade108eaad9e216,ndrey Vagin <avagin@openvz.org>, 2013-08-29 18:55:38 +0400, , mount link dependent mount shared mount one group connected circular list slave added proper master list change variable name fix bug adding shared mount circular list handle error collect_shared signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7305,c9501e6359ffb8b96ce9523664665ec35d4e0889,ndrey Vagin <avagin@openvz.org>, 2013-08-28 17:16:54 +0400, , zdtm check grow vma cow01 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7306,d9e7f6d1177c8ae9108100a9340959df8c42c7bd,ndrey Vagin <avagin@openvz.org>, 2013-08-26 17:15:02 +0400, , zdtm add grow_down test case regular execution signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7307,e6390dac5f115a72ad6a67c770b199a4ff6db666,ndrey Vagin <avagin@openvz.org>, 2013-08-26 17:15:01 +0400, , zdtm check two continuous grow vma restored correctly special case split stack vma lowest one guard page signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7308,fd58e62b1cb4de7a044224200664042db0b7b84a,ndrey Vagin <avagin@openvz.org>, 2013-08-26 17:15:00 +0400, , map grow vma guard page proc pid map grow vma shown without guard page sometime guard page contain usefull data example real guard page remmaped another vma let call page fake guard page grow vma mmaped restore mapped one guard page restore content fake guard page http show_bug.cgi 2715 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7309,8f18db5f6a169f19ac5949a2d2c5dfaf295da96b,ndrey Vagin <avagin@openvz.org>, 2013-08-26 17:14:59 +0400, , add guard page prev vma grows kernel logic described v2.6.36 rc1 161 g7798330 split stack vma lowest one guard page http show_bug.cgi 2715 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7310,cec93fa155d6b52481930c96bf7479cf38c2b2eb,ndrey Vagin <avagin@openvz.org>, 2013-08-29 17:46:28 +0400, , net mount sysfs new mount name space current scheme racy use current name space mount namespace created someone else mount umount detach mount propagated new mntns detached current rmdir fails still mounted athother mntns patch creates new mount namespace mounting sysfs signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7311,5bf25d36c02d15ce6b21d727b5ab8a02397e4edb,ndrew Vagin <avagin@openvz.org>, 2013-08-29 14:55:37 +0400, , file declare fd_params off_t currently type unsigned long size depends architecture saved bit value image file restored equal due convertation bit platform converted uint_max get error restore zdtm.sh static tun ... 00.398513 error file reg.c 534 restore file illegal seek 00.398888 error file reg.c 489 open file dev net tun illegal seek ... 0x15 flag 0x2 fown uid euid signum pid_type pid name dev net tun crtools compiled off_t always bit signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7312,672970b4a0a51d51ff5138e1968c1ac74c7cdcf6,yrill Gorcunov <gorcunov@openvz.org>, 2013-08-28 23:57:48 +0400, , git track .so file generating library let track signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7313,dfdac2cf3a0c02f612692d1c47a80e6e36db07dd,yrill Gorcunov <gorcunov@openvz.org>, 2013-08-28 23:57:47 +0400, , make use generic build engine libcriu.so signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7314,c75c92db1d0a43f153aee229e0d6a69f3035f824,yrill Gorcunov <gorcunov@openvz.org>, 2013-08-28 23:57:46 +0400, , pie move send_fds recv_fds helper separate pie util fd.c need reuse code criu library libc call present thus compiling shared mode internal syscalls library needed wrap __sys macro would hide detail invocation depending cr_noglibc preprocessor variable passed command line original patch ruslan kuprieiev kupruser gmail.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7315,5033068a909b9089e7f45cd6271a1f7cd6a05819,yrill Gorcunov <gorcunov@openvz.org>, 2013-08-28 23:57:45 +0400, , build forget use ldflags invoked problem future might need special flag passed signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7316,1943d08c38ae8da084078cb3311ecbed9672cd13,avel Emelyanov <xemul@parallels.com>, 2013-08-28 19:39:56 +0400, , tun dump tun file taking netns tun file attached tun link thus need latter dumped together former signed pavel emelyanov xemul parallels.com,,
7317,369f366a36cd5203633d365bf280768f0272df07,yrill Gorcunov <gorcunov@openvz.org>, 2013-08-28 19:06:51 +0400, , tun use safe stlcpy instead strcpy reading netdeviceentry directly safe may cause buffer overflow use stlcpy helper signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7318,bc002e85373d5a574a45a627812e37dc48d44915,yrill Gorcunov <gorcunov@openvz.org>, 2013-08-28 19:06:43 +0400, , add strlcpy helper kernel provides adopted linux source strlcpy similar strncpy _always_ add end string even destination shorter signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7319,aaeff46e52650e9f3238ef6352f75a897ed7298f,yrill Gorcunov <gorcunov@openvz.org>, 2013-08-28 17:20:44 +0400, , tun check xmalloc error signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7320,20a835a6863ae25cdaf35c1ad108031f770b0268,ndrew Vagin <avagin@openvz.org>, 2013-08-28 17:17:43 +0400, , zdtm return back tun test auto list kernel compiled without tun driver reverts commit signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7321,1806f0f6c53cac2055d95591b5d0e22ba95b8395,ndrey Vagin <avagin@openvz.org>, 2013-08-28 17:17:18 +0400, , zdtm set dumpable flag setuid setgid setuid setgid drop dumpable flag set back otherwise proccesses able read file proc e.g proc pid pagemap patch affect cow01 04.429 err cow01.c unable read data errno file directory typo fix signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7322,39e6d7f553caa62aedffb8be721b13e4a6e922ad,ndrey Vagin <avagin@openvz.org>, 2013-08-28 17:16:55 +0400, , restore decode exit status sigchld_handler signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7323,70d86e08a30c37c0a4c02643d462487c93b8482d,yrill Gorcunov <gorcunov@openvz.org>, 2013-08-28 17:04:38 +0400, , doc add cleanup description signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7324,5b3d65770789c9a3074e184c9aa4a8212e9fdfc7,ndrey Vagin <avagin@openvz.org>, 2013-08-28 17:02:49 +0400, , revert zdtm.sh dump traffic tcpbuf test reverts commit patch created investigating http show_bug.cgi 2676 bug fixed patch doe nothing useful tcpdump start late signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7325,4e6cd368858f75d5c64e1897170243570f4092f4,ndrey Vagin <avagin@openvz.org>, 2013-08-28 17:00:17 +0400, , page read print errno case failure 00.023059 3898 error page read.c 129 read mapping page bad address signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7326,f6654dc41196afc218aebc7d8b1392035ab585f1,uslan Kuprieiev <kupruser@gmail.com>, 2013-08-28 16:52:45 +0400, , zdtm test semi closed unix stream connection data loss signed ruslan kuprieiev kupruser gmail.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7327,14fff50719e3e3502e870318ede14a881fdf99a6,uslan Kuprieiev <kupruser@gmail.com>, 2013-08-28 16:52:17 +0400, , fix data loss dumping semi closed unix stream connection patch fix running loop data loss dumping semi closed unix stream connection patchv2 error check missed signed ruslan kuprieiev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7328,299dba681c5ab732ec98d9a676c4e328c4f6db21,avel Emelyanov <xemul@parallels.com>, 2013-08-24 17:50:35 +0400, , show remove excessive includes signed pavel emelyanov xemul parallels.com,,
7329,633e559274b255165719ca9d5b1ec335288e9c0d,avel Emelyanov <xemul@parallels.com>, 2013-08-24 04:03:31 +0400, , show remove dead code signed pavel emelyanov xemul parallels.com,,
7330,b18fb09eb97debf3dd8a871b9b222895a0eb803b,avel Emelyanov <xemul@parallels.com>, 2013-08-24 04:00:32 +0400, , show replace one line show_foo call args array generic do_pb_show call ton show_foo routine call one proper args compact code putting args array calling do_pb_show one place signed pavel emelyanov xemul parallels.com,,
7331,8af6a39f826df41aa29ba6a1ed864a4765deecc7,avel Emelyanov <xemul@parallels.com>, 2013-08-24 15:30:39 +0400, , mark descs array static signed pavel emelyanov xemul parallels.com,,
7332,5d66f72c92c222b393427eb5f4dfaf689b5cb26b,avel Emelyanov <xemul@parallels.com>, 2013-08-24 01:08:03 +0400, , zdtm check tap hwaddr change signed pavel emelyanov xemul parallels.com,,
7333,022cfc30ae508c0b96aea845814a346437deabea,avel Emelyanov <xemul@parallels.com>, 2013-08-24 01:07:33 +0400, , net dump restore netdev address tap veth change one need keep signed pavel emelyanov xemul parallels.com,,
7334,22d61b880c483a970b435527b2f7ababc0626874,avel Emelyanov <xemul@parallels.com>, 2013-08-23 23:28:44 +0400, , file perform rst stage recv stage required created transport post open one required least one fdtype post open callback ops thing evaluated advance unneeded stage skipped signed pavel emelyanov xemul parallels.com,,
7335,fcb6ee66b57e2a9fdd36c1f8a50c429762e7c68a,yrill Gorcunov <gorcunov@openvz.org>, 2013-08-24 09:51:29 +0400, , cleanup generated file signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7336,84737e2796fdc0ee3221ea784abc57ffa50df71d,avel Emelyanov <xemul@parallels.com>, 2013-08-23 21:47:31 +0400, , build generate desc automatically contain linkage number data type routine message write read image file simple number type routine mapping introduce generating script signed pavel emelyanov xemul parallels.com,,
7337,889a21292f4de856a0d6d68a4c6a3b2f16aa3627,avel Emelyanov <xemul@parallels.com>, 2013-08-23 19:38:12 +0400, , zdtm drop tun test auto list strange setup jenkins box dev net tun inaccessible need check holiday signed pavel emelyanov xemul parallels.com,,
7338,c2b7800740f741782a4683a4e80ef29f8cd80dc1,avel Emelyanov <xemul@parallels.com>, 2013-08-23 19:18:47 +0400, , check add tun support signed pavel emelyanov xemul parallels.com,,
7339,ed5f82c7e6713c515000b76b73e8b8dfc7ac4acb,avel Emelyanov <xemul@parallels.com>, 2013-08-23 19:12:00 +0400, , zdtm basic check tun file link properly signed pavel emelyanov xemul parallels.com,,
7340,1ac6d76cbdbef3697f1c3cfea53cd92de218e8bc,avel Emelyanov <xemul@parallels.com>, 2013-08-23 19:10:15 +0400, , tun restore tun file tun link thing pretty straightforward netns creation populate tun collect tun file open attach regular engine one tricky thing populating namespace tun link make persistent drop flag required later first alive opened appears signed pavel emelyanov xemul parallels.com,,
7341,a3e53658f734cfa2cadd170b9fed13212c69a51e,avel Emelyanov <xemul@parallels.com>, 2013-08-23 19:02:55 +0400, , tun dump tun file tun link major issue dump info get via netlink via sysfs via opened attached tun file latter created another one attached device full thread thus dump info via existing tun file keep one memory till link dump code take place opposite situation also possible persistent unattached device case attach dump thing detach back signed pavel emelyanov xemul parallels.com,,
7342,9615c3b96baefee55c5a9acbdd602b3ff9d5fe16,avel Emelyanov <xemul@parallels.com>, 2013-08-23 18:57:40 +0400,2, tun initial skeleton tun support two entity handled tun file opened char device misc major tun minor attached item tun netdevice another type link signed pavel emelyanov xemul parallels.com,,
7343,92cc20c07cd62046cf2dc4758727fb9db7e3664e,avel Emelyanov <xemul@parallels.com>, 2013-08-23 18:46:48 +0400, , net ability restore existing link params rtm tun device created ioctl parameter e.g flag state mtu etc restored generic rtm_setlink message signed pavel emelyanov xemul parallels.com,,
7344,821621cdb7ad67a4cee777466fc3f05cbbb7cc2c,avel Emelyanov <xemul@parallels.com>, 2013-08-17 03:56:18 +0400, , file restore file support one quite clean dump non seekable file dump 0xff ... bit field image thus restore face error do_open_reg order separate helper non seekable file skip position restore signed pavel emelyanov xemul parallels.com,,
7345,4869da1781db18db3b0e589928f74b414d16822a,avel Emelyanov <xemul@parallels.com>, 2013-08-17 01:34:17 +0400, , net read sysfs file helper small helper read string sysfs mount signed pavel emelyanov xemul parallels.com,,
7346,8d2e0d5d14e0e7111e043cf7ddea4bd5ac15724a,avel Emelyanov <xemul@parallels.com>, 2013-08-17 01:30:48 +0400, , net mount sysfs dump information network device may hide sysfs thus required one hand dumping netns create detached mount signed pavel emelyanov xemul parallels.com,,
7347,c7afbae598ad05153999b156a0d13d75cb8d8f34,avel Emelyanov <xemul@parallels.com>, 2013-08-17 01:10:15 +0400, , net prepare dump netdev entry extentions network device would like netdeviceentry field currently present enough veth prepare allowing define callback would fill resor entry call signed pavel emelyanov xemul parallels.com,,
7348,7daefd975140439f4092e8a7e716d66bebf68b04,icheng Qin <yichengq@google.com>, 2013-08-21 17:33:10 +0400, , test zdtm add option run test specified name option run test specified name directly without check match used run experimental test test_list signed yicheng qin yichengq google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7349,60e6d38868b9b68045c262c65558ddf543479f58,avel Emelyanov <xemul@parallels.com>, 2013-08-21 03:52:18 +0400, , collect shorten common image collecting code set cinfo possible collect stuff plan loop signed pavel emelyanov xemul parallels.com,,
7350,64e7d2435a105fa6fce4a441ca5b72400aaa71d1,avel Emelyanov <xemul@parallels.com>, 2013-08-21 03:27:06 +0400, , collect reduce amount args collect_image call signed pavel emelyanov xemul parallels.com,,
7351,9917c4fe347bdc2cc9d24a2e031b8808420be99c,avel Emelyanov <xemul@parallels.com>, 2013-08-21 01:06:58 +0400, , rst compact file descs collect bit signed pavel emelyanov xemul parallels.com,,
7352,e03ab6b4097eee3118f11636fbf32e1143034f9c,avel Emelyanov <xemul@parallels.com>, 2013-08-20 03:24:51 +0400, , rst rework remaps collection generic collect routine signed pavel emelyanov xemul parallels.com,,
7353,0543f49c3eefac955e1255dffe8f850401977671,avel Emelyanov <xemul@parallels.com>, 2013-08-20 03:22:38 +0400, , free image object collection need signed pavel emelyanov xemul parallels.com,,
7354,ef3ca3a10405e56275d01affa10cab698ee4c205,ndrey Vagin <avagin@openvz.org>, 2013-08-20 15:17:30 +0400, , restore kill process created process restored without pidns criu know pidtheir image part task may yet forked thus pid exist used process address abort stage restore_ns forking without killing task task_entries start futex writing state_fail making task check since restore_ns forking stage task block mentioned futes safely signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7355,0c5b606b48bc60caa1931e517c9b24ff23ea249d,ndrey Vagin <avagin@openvz.org>, 2013-08-20 14:58:14 +0400, , zdtm add new test side tcp connection dumped reported cyrill gorcunov gorcunov openvz.org signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7356,4329287717f265a110c864a39d55012c1da3bc10,ndrey Vagin <avagin@openvz.org>, 2013-08-20 14:57:13 +0400, , zdtm clean test_fork signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7357,156b1b8195577caa3b8367096e5ce636fefd8eee,icheng Qin <yichengq@google.com>, 2013-08-20 14:52:34 +0400, , test create env.sh environment setting currently env.sh contains location criu executable signed yicheng qin yichengq google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7358,f1684be8a41bf587e96e5d44f35428d270cc9d45,icheng Qin <yichengq@google.com>, 2013-08-20 14:51:52 +0400, , test tcp run.sh fix permission signed yicheng qin yichengq google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7359,71f7f7546c2fa7f0950c76e8a687101dabe506eb,yrill Gorcunov <gorcunov@openvz.org>, 2013-08-16 19:31:57 +0400, , atomic use atomic_read instead atomic_get switch kernel style signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7360,56cb0f8bafb03ae14d6abf3083f2ce3d8c0caeb9,yrill Gorcunov <gorcunov@openvz.org>, 2013-08-16 19:31:56 +0400, , arm atomic add atomic_read atomic_set helper signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7361,aea8a605f360101319c4934f0bd12c1d1665f4d5,yrill Gorcunov <gorcunov@openvz.org>, 2013-08-16 19:31:55 +0400, , atomic switch linux kernel template use code provided kernel first place used prototype case simplicity based lock xadd instruction need switch well known kernel api kernel plain int type carry atomic counter add explicit u32 type futexes well couple fix new api usage signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7362,19391c85b31bb9df496f1ce408871d26e6c0afb3,yrill Gorcunov <gorcunov@openvz.org>, 2013-08-16 19:31:54 +0400, , arm atomic use signed type like kernel doe signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7363,862e0fb2d3596723dd374744c5af71d27b17a1f8,yrill Gorcunov <gorcunov@openvz.org>, 2013-08-16 19:31:53 +0400, , x86 asm add cmpxchg helper need atomic data conversion signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7364,6d97dba7470fec9207511e8cce483051dae542cb,yrill Gorcunov <gorcunov@openvz.org>, 2013-08-16 18:57:21 +0400, , socket inet fix typo message signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7365,f824d8c3e9b49da45b9eea67a583ce9a3f4b3f16,ndrey Vagin <avagin@openvz.org>, 2013-08-16 18:55:26 +0400, , restore remove duplicate code signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7366,33c70a244e4bac56f0a565ba446c399f3b29f835,avel Emelyanov <xemul@parallels.com>, 2013-08-16 17:17:13 +0400, , zdtm simplify test_list formation signed pavel emelyanov xemul parallels.com,,
7367,a9e10c60567c4f65e6521ef13d408834eba9b7b0,avel Emelyanov <xemul@parallels.com>, 2013-08-16 17:15:59 +0400, , zdtm remove explicit namespaces specification restore yet namespaces auto detected need signed pavel emelyanov xemul parallels.com,,
7368,aa7e079d8cb5ea945422e6a296308d953fd30072,avel Emelyanov <xemul@parallels.com>, 2013-08-16 17:14:15 +0400, , zdtm remove per namespace list automatic namespaces detection need signed pavel emelyanov xemul parallels.com,,
7369,01f113ecd3c7d6ed510f4076d1eda76fd9d2e6be,avel Emelyanov <xemul@parallels.com>, 2013-08-12 09:17:02 +0400, , rst remove thread restore serialization thing introduced 01f8f8f4 help mixing per thread error message log file message mixed mean thing useless signed pavel emelyanov xemul parallels.com,,
7370,0a6da43db9617225eee19675291089d918b5e38b,avel Emelyanov <xemul@parallels.com>, 2013-08-12 09:04:56 +0400, , rst check core near place read image several step clean signed pavel emelyanov xemul parallels.com,,
7371,e0b8f91493383348df912ba7bc30c7adcf150535,avel Emelyanov <xemul@parallels.com>, 2013-08-12 06:33:21 +0400, , rst make clean error path root task restore signed pavel emelyanov xemul parallels.com,,
7372,44a85ee08d1362abc29ef45e4001f9a4c92367c1,avel Emelyanov <xemul@parallels.com>, 2013-08-12 06:23:11 +0400, , rst switch wait cred restore stage existing helper signed pavel emelyanov xemul parallels.com,,
7373,e5534e8e3a6fd8b5ca2eebb71fb3a79ccfa24414,avel Emelyanov <xemul@parallels.com>, 2013-08-12 06:17:04 +0400, , rstore invert logic currentl wait previous stage complete start next one start next one wait complete latter way fit better code head signed pavel emelyanov xemul parallels.com,,
7374,9b45833b81283652bb24d7f1d650c83e1ed5a1ec,avel Emelyanov <xemul@parallels.com>, 2013-08-11 21:25:42 +0400, , stats account total time restore signed pavel emelyanov xemul parallels.com,,
7375,2df39a4b473d572cd88b3ff619ba39330c556748,avel Emelyanov <xemul@parallels.com>, 2013-08-11 21:22:40 +0400, , stats account time fork task restore signed pavel emelyanov xemul parallels.com,,
7376,c65f0684890f3466d96b728cabd4ae0e2af8d2fe,avel Emelyanov <xemul@parallels.com>, 2013-08-11 21:15:58 +0400, , stats add timing stats restore work timiings reported single task collecting several task done signed pavel emelyanov xemul parallels.com,,
7377,ebd826c97b61d5cbd57a34ec3617737c84d36b99,avel Emelyanov <xemul@parallels.com>, 2013-08-11 20:46:00 +0400, , rst reuse premapped area size calculation signed pavel emelyanov xemul parallels.com,,
7378,4c8e1c99272e456552d44ed347f3cdc3f90ee36e,avel Emelyanov <xemul@parallels.com>, 2013-08-11 20:42:55 +0400, , rst close vmas image earlier signed pavel emelyanov xemul parallels.com,,
7379,e93566c7912861800f5b453ad6b402f85f71933d,avel Emelyanov <xemul@parallels.com>, 2013-08-11 20:23:18 +0400, , rst write comment need two call restore_pgid signed pavel emelyanov xemul parallels.com,,
7380,4c83c432d69707e5b27877702b077bb5d3c936f4,avel Emelyanov <xemul@parallels.com>, 2013-08-11 20:16:24 +0400, , rst minor formatting fix signed pavel emelyanov xemul parallels.com,,
7381,ede980c0773a7620e16cae6345c2416d7b1343f8,avel Emelyanov <xemul@parallels.com>, 2013-08-11 20:15:43 +0400, , restore move kid session restore helper signed pavel emelyanov xemul parallels.com,,
7382,26aa61a344a9d3772bb83c6d334b3b33e837cc3b,avel Emelyanov <xemul@parallels.com>, 2013-08-11 20:10:44 +0400, , rst rename read_vmas prepare_vmas signed pavel emelyanov xemul parallels.com,,
7383,8ff15e5c41845c8cc7bf36025ae266e4766af308,avel Emelyanov <xemul@parallels.com>, 2013-08-11 20:02:33 +0400, , util make static rename better reflect doe signed pavel emelyanov xemul parallels.com,,
7384,e2a0258de35817d93f79882dc1552f5b584c1671,avel Emelyanov <xemul@parallels.com>, 2013-08-11 20:00:28 +0400, , util use helper proc service creation signed pavel emelyanov xemul parallels.com,,
7385,cdce5d216dd71a7cb2c6ee05562d282b03365a0c,avel Emelyanov <xemul@parallels.com>, 2013-08-11 19:51:02 +0400, , util make set_proc_fd report success error returning new proc value useless signed pavel emelyanov xemul parallels.com,,
7386,3e6f1ae82d2a7b0f366947b6e0f91f8a509f14ad,ndrey Vagin <avagin@openvz.org>, 2013-08-14 14:47:20 +0400, , zdtm exit zero code everything yicheng qin yichengq google.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7387,05745ceed43500dbcb117522e1df144b9c55e74c,icheng Qin <yichengq@google.com>, 2013-08-14 13:43:07 +0400, , test zdtm add option batch test batch test mode script skip failed individual test instead exiting ensures zdtm test run one pas provides better overview test result signed yicheng qin yichengq google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7388,a7a787a402223b8f98f053566e1dfde8249af0df,icheng Qin <yichengq@google.com>, 2013-08-14 13:43:06 +0400, , test adjust output test adjust format information printed print necessary debug information display error message stderr make readable signed yicheng qin yichengq google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7389,1f9da830487a9bb64eb408da0a1c6be93c2326a7,ndrey Vagin <avagin@openvz.org>, 2013-08-14 11:18:48 +0400, , check shared page vma inherited restore page content directly memory signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7390,330c137c92a654c9b77aa3a0695861fd8a02949a,avel Emelyanov <xemul@parallels.com>, 2013-08-13 20:05:43 +0400, , arm add atomic_add signed pavel emelyanov xemul parallels.com,,
7391,e99576f65553231396a410b9aa2ac8291fe600c9,avel Emelyanov <xemul@parallels.com>, 2013-08-11 13:36:24 +0400, , rst collect stats checked cowed page restore compare page content memcmp check remain shared report info restore stats signed pavel emelyanov xemul parallels.com,,
7392,729ea690ed5e412f32d22380acd7643bd95b06e5,avel Emelyanov <xemul@parallels.com>, 2013-08-11 13:27:58 +0400, , stats introduce protobuf message restore stats signed pavel emelyanov xemul parallels.com,,
7393,9bb545011c2543eb5dadd11e3a8d0bd43d46b0a1,avel Emelyanov <xemul@parallels.com>, 2013-08-11 13:24:13 +0400, , stats introduce counter restore atomic_add shmalloc stats signed pavel emelyanov xemul parallels.com,,
7394,ab95e97fd52cb9da94818315eab48fc4fa016a6e,avel Emelyanov <xemul@parallels.com>, 2013-08-11 13:23:52 +0400, , atomic add atomic_add x86 signed pavel emelyanov xemul parallels.com,,
7395,d77a05b6dcc0fb0b698e979c5bcc8f9c4763169d,avel Emelyanov <xemul@parallels.com>, 2013-08-11 13:07:21 +0400, , stats rename existing timing cnt counter dump_ ... one signed pavel emelyanov xemul parallels.com,,
7396,8f4c9acda51d034f1704a1903622e0cc4c210888,avel Emelyanov <xemul@parallels.com>, 2013-08-11 13:05:52 +0400, , stats allocate dumping stats dynamically restore memory would unused plus need sign stats collect signed pavel emelyanov xemul parallels.com,,
7397,6ac4870181dcab2e1e1e0220ace6594187791f2a,avel Emelyanov <xemul@parallels.com>, 2013-08-11 13:00:45 +0400, , stats prepare collecting restore stats restore stats difficult collect several task thus existing plain variable would work need shared memory stats prepre allocating one put call write_stats appropriate restore signed pavel emelyanov xemul parallels.com,,
7398,7f9302505c39694b85a240e077dc4de613e09039,avel Emelyanov <xemul@parallels.com>, 2013-08-11 12:01:14 +0400, , page server convert opts.addr char address argument reused library make abstract address ipv4 one signed pavel emelyanov xemul parallels.com,,
7399,073af12d5fc1b32b4d3e95d2fd5b43900acaa640,icheng Qin <yichengq@google.com>, 2013-08-13 14:24:57 +0400, , test zdtm use test_pattern argument use test_pattern instead test_name argument previous zdtm command used still useful run certain part test example running namespace test test zdtm.sh signed yicheng qin yichengq google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7400,8891bb759dd6bbe6902168e74ec7deed1baafc61,icheng Qin <yichengq@google.com>, 2013-08-13 14:24:55 +0400, , test zdtm add option generate binary add option zdtm.sh using option generate binary test run zdtm moreover appending test name option generate binary test signed yicheng qin yichengq google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7401,62ca87d58bf67c7192fedb969e0df60bc32541d9,icheng Qin <yichengq@google.com>, 2013-08-13 14:22:42 +0400, , test zdtm clear unused variable signed yicheng qin yichengq google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7402,f61eb82f8b33c385af3fbdf326243478001345bf,avel Emelyanov <xemul@parallels.com>, 2013-08-10 16:41:18 +0400, , file convert fdescs hash list hlist signed pavel emelyanov xemul parallels.com,,
7403,10343df69683e104de0a494283bcc9276f62d71b,ndrew Vagin <avagin@openvz.org>, 2013-08-09 17:57:11 +0400, , page xref set ret zero ps_io_flush completed successfully due issue server initiate closing connection socket transfered time_wait state second run page server fails error address already use signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7404,3ea73d7f9bdaeef6563ffca5021de9eccbb8eb91,ndrey Vagin <avagin@openvz.org>, 2013-07-30 20:25:30 +0400, , mount move is_root is_root fsroot_mounted top file trivial function used many place signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7405,b2504e07631d709167d1967d84a6d0e1697a9d9b,ndrey Vagin <avagin@openvz.org>, 2013-07-30 20:25:28 +0400, , mount enumirate mount bellow specified element signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7406,eef4853cc4830cc2c44e7cc7d70bddd0a71745d2,ndrey Vagin <avagin@openvz.org>, 2013-08-09 15:40:17 +0400, , zdtm add new test case checking vma map_growsdown flag two case check vma grows restoring check vma restored guard page overlapped another vma currently criu able dump restore test case want fix issue signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7407,d5540a2de536e011a63ab500ec5abd89b7350eff,ndrey Vagin <avagin@openvz.org>, 2013-08-09 15:39:37 +0400, , page server check data accepted currently criu sends data page server get feedback sure data accepted patch add flush command requires answer page server command sent disconnecting signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7408,9556ffb112656736d8918f236469de69a3cf6352,yrill Gorcunov <gorcunov@openvz.org>, 2013-08-09 15:37:35 +0400, , kerndat produce sane error messgaes occasionally tried run criu old openvz kernel error message looking somehow strange  error kerndat.c stat piggie file directory let produce detailed error text signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7409,53aae95796898bf5b5669d6a2f75e0750d557322,ndrew Vagin <avagin@openvz.org>, 2013-08-07 13:51:35 +0400, , restore unset dumpable flag zombie already tried prevent generating core file zombie commit author andrey vagin avagin openvz.org date fri jul 2013 0400 restore set zero limit rlimit_core work core file sent pipe functionality used abrt daemon example patch direct way unsets dumpable flag help pr_set_dumpable remove previous hack signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7410,e2c6abcb6a8d4cb3bbcb07f431f42f213e16745d,icheng Qin <yichengq@google.com>, 2013-08-07 12:45:06 +0400, , test zdtm cwd00 add error checking cleanup code checking help debug unexpected failure patch useful debug test failure chdir may meet failure process doe enough permissioin rename progress output file output file finally test script catch pas flag output file record failure result test fails without error message signed yicheng qin yichengq google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7411,fdfaf0a769860183b5e49ba0e40aedca70cfc8a2,icheng Qin <yichengq@google.com>, 2013-08-07 12:43:41 +0400, , test zdtm cwd00 remove redundant chdir label chdir redundant remove make test simple signed yicheng qin yichengq google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7412,73a6dcbc9f7ee28ac56eded3bef733cf9ecf468b,icheng Qin <yichengq@google.com>, 2013-08-07 12:27:11 +0400, , test zdtm sockets_dgram use shorter pathname support struct sockaddr_un struct sockaddr_un used program bind listen local file path one attribute 108 byte size may happen path small contain whole real path contains current working directory may lead two socket listening file change path tmp ensures filename exceed limit additionally run well namespace make new directory named tmp constructed root signed yicheng qin yichengq google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7413,de0c3b9519027964e4c45afaeb3b30a8a64717f2,icheng Qin <yichengq@google.com>, 2013-08-07 12:15:36 +0400, , test zdtm sockets_dgram check length path used path generated test copied sun_path attribute struct sockaddr_un additional check whether sun_path contain whole path added useful sun_path contain first part path sockadd_un point location lead error signed yicheng qin yichengq google.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7414,b95407e264fcf58f4f73f78abef6dac60436e7dd,ndrey Vagin <avagin@openvz.org>, 2013-08-06 15:11:12 +0400, , test check parasite rollback test systemtap replace random parasite command invalide command parasite code received command rollback criu recived ack understand something wrong exit systemtap inverts exit code criu zdtm.sh used executing test testing state process corrupted criu compiled without optimization make debug randomize command replaced signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7415,0a1b70bb23d46f6bcd86bcafabcb4b99e03760a7,ndrew Vagin <avagin@openvz.org>, 2013-08-06 14:21:12 +0400, , tcp block connection direction packet retransmited dumping tcp connect first one connection blocked one direction second one tcp timer continue work dumping send packet tcp_timestamp saved tcp connection itâ restored packet sent dumping timestamps saved another side timestamp sent back next packet tsecr parameter packet received restoring look like packet future http show_bug.cgi 2676 signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7416,b20ee877853ca938b6f1dad5e95f61d7334fc9cf,icheng Qin <yichengq@google.com>, 2013-08-06 14:19:52 +0400, , test zdtm mountpoints clear umask creating dev null clear umask creating dev null restore umask creation mountpoints test unlinks make new dev null inside mknod linux default umask e.g. 022. mean dev null created directly wrote group user reasonable dev null accessable user signed yicheng qin yichengq google.com signed pavel emelyanov xemul parallels.com,,
7417,fe01c987a69980701b44c7304bb86d260ef93827,yrill Gorcunov <gorcunov@openvz.org>, 2013-08-06 14:17:40 +0400, , test fanotify00 add missing space output signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7418,9cef1a00cec4413a373a5a32ebb4f0aff38bc0c8,avel Emelyanov <xemul@parallels.com>, 2013-07-29 13:12:00 +0400, , mount factor detached mountpoint opening difficulty code required pie non pie context signed pavel emelyanov xemul parallels.com,,
7419,72ec39f10cf9b0e402067129947cf9f74d161ad3,avel Emelyanov <xemul@parallels.com>, 2013-07-29 12:43:30 +0400, , util rename pie util net.c util.c put thing signed pavel emelyanov xemul parallels.com,,
7420,a3f7a16fe7eb7566300207f170290778102eff2c,ndrey Vagin <avagin@openvz.org>, 2013-08-01 16:44:40 +0400, , zdtm check overmounted part tmpfs restored signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7421,65d3545945fa802d09f170209e851be93e3684db,ndrey Vagin <avagin@openvz.org>, 2013-08-01 17:17:03 +0400, , mount allow dump content even part overmounted mount point bind mounted temporary place check get access end _really_ one wanted use switch_ns restore_ns helper reuse code small cleanup signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7422,2d631b4562f98faaad115ebf54d6f6463e751346,ndrey Vagin <avagin@openvz.org>, 2013-08-01 16:44:38 +0400, , mount build tree mount dumping criu want dump content check nothing overmounted list child mount must empty list filled constructing tree mount signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7423,d8cf988ab9a1417624186d113bcc23d6b712860d,ndrew Vagin <avagin@openvz.org>, 2013-07-31 17:14:18 +0400, , tcp show pb_tcp_stream single entry signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7424,7405f88c8f6d9682c104507248c4aa4100dd82f6,avel Emelyanov <xemul@parallels.com>, 2013-07-25 18:29:03 +0400, , rst add comment vmas inheritance procedure signed pavel emelyanov xemul parallels.com,,
7425,fa66d9267fa25a049bcfc05e793f81227f8033ea,avel Emelyanov <xemul@parallels.com>, 2013-07-25 18:25:51 +0400, , rst rename parent vmas list variable reflect signed pavel emelyanov xemul parallels.com,,
7426,2508d051ac2d0a82106166a6038d1a0831dd46ba,ndrey Vagin <avagin@openvz.org>, 2013-07-24 19:10:49 +0400, , zdtm post dump script return zero action post dump script executed action one failed action crtools return non zero code e.g zdtm.sh static env00 signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7427,29ade09411a2527a95014561f812fcdb9fea4420,ndrey Vagin <avagin@openvz.org>, 2013-07-24 19:10:23 +0400, , zdtm.sh wait page server proper way page server forked child running background bash variable contains pid last command executed background currently tcpdump zdtm.sh waiting never return back signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7428,ff0e96dcf900b26cfbdb4d2e28c85b3bb7b8c65b,yrill Gorcunov <gorcunov@openvz.org>, 2013-07-22 19:36:47 +0400, , zdtm use post dump script option  use special opcode distinguish error case use script snapshot testing  test error code avagin restore last snapshot  update comment http show_bug.cgi 2583 signed cyrill gorcunov gorcunov openvz.org signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7429,73c5a0f9652a1d95ae5ace04995de32af9023948,yrill Gorcunov <gorcunov@openvz.org>, 2013-07-22 19:35:28 +0400, , dump introduce post dump script action usefull one need final action checkpoint complete example case online migration one may provide script would check restore procedure remote note ended without error thus script return zero code criu simply kill running instance application turn migration failed script return nonzero code criu kill application continue execution instead http show_bug.cgi 2583 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7430,21d94e00866e34e518a3d8501f02f8a0a681a0b5,ndrey Vagin <avagin@openvz.org>, 2013-07-22 16:37:12 +0400, , zdtm.sh dump traffic tcpbuf test sometimes test pas successfully need information investigate problem http show_bug.cgi 2676 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7431,27f9b0335d8872152a76aec5086f28842a88bdf2,uslan Kupreev Ð ÑÑÐ»Ð°Ð½ <kupruser@gmail.com>, 2013-07-18 21:47:11 +0400, , criu initial skeleton criu library add target lib makefile criu library created directory lib add makefile criu.c skelettons criu library signed ruslan kupreev kupruser gmail.com signed pavel emelyanov xemul parallels.com,,
7432,987de2de05a1236006f1729e9db4f4e0a3deb6eb,avel Emelyanov <xemul@parallels.com>, 2013-07-17 08:56:17 +0400, , parasite rename ack waiting function look better signed pavel emelyanov xemul parallels.com,,
7433,f2978d2ac7d841452d1a3e1eb7a4b7c26993f4ac,avel Emelyanov <xemul@parallels.com>, 2013-07-17 08:54:24 +0400, , parasite reshuffle sync async daemon node executing routine version might wait ack always called async flag set cleanup thing according signed pavel emelyanov xemul parallels.com,,
7434,0dc835ac0294b73b40574b078150e7f194fda133,avel Emelyanov <xemul@parallels.com>, 2013-07-16 20:40:06 +0400, , dump move signal dumping helper ... fixing erroneous goto error path signed pavel emelyanov xemul parallels.com,,
7435,cd0075abbd6756c4091db67a7f67779380da7b0a,avel Emelyanov <xemul@parallels.com>, 2013-07-16 20:35:53 +0400, , dump push parasite ctl fns needing pid signed pavel emelyanov xemul parallels.com,,
7436,c2dec75bbd9289b09cf2f9570fe332ad39d417f8,avel Emelyanov <xemul@parallels.com>, 2013-07-16 20:30:55 +0400, , dump add comment get_task_regs task strange place signed pavel emelyanov xemul parallels.com,,
7437,d20089fb32ec92ffabe3005520f78f82cea4b0c3,avel Emelyanov <xemul@parallels.com>, 2013-07-16 19:47:52 +0400, , dump merge thread task parasite core info dumping part dumping common thread task stuff represented structure merge facror dumping code signed pavel emelyanov xemul parallels.com,,
7438,1aacdca52cc87b52b2d7e23d6afe86e962cd0ea8,avel Emelyanov <xemul@parallels.com>, 2013-07-16 19:29:42 +0400, , parasite sanitize thread dumping code signed pavel emelyanov xemul parallels.com,,
7439,f0891c051bf5daeef773f5e3643674013380ada4,avel Emelyanov <xemul@parallels.com>, 2013-07-16 19:02:34 +0400, , parasite facror common code run parasite code user one remote syscall thread dump daemon run signed pavel emelyanov xemul parallels.com,,
7440,7fb4bd60a4cefefc473c1cfaa8df63df533c7f1f,ndrew Vagin <avagin@openvz.org>, 2013-07-16 18:50:53 +0400, , parasite typo fix double pointer mask blocked signal take pointer mask blocked signal sigmask already pointer signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7441,f3f72cd7f8ccdddd177604c69855be31dc634882,ndrey Vagin <avagin@openvz.org>, 2013-07-11 13:46:55 +0400, , parasite use one command executing parasite daemon mode kernel support criu need execute frist command used blocking signal criu crash command process state corrupted signal remain blocked signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7442,45ed5c0ee585319c94d77359075f28f8601effcd,ndrey Vagin <avagin@openvz.org>, 2013-07-11 13:46:54 +0400, , parasite execute one parasite commend dumping per thread data use two command get task register safely first command blocked signal crtools dumped register per thread data second command unblocks signal currently signal blocked help setsigmask need one command dump per thread data signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7443,f68f37a11f09cf923427ac1e9b7451d3c0c06e98,ndrey Vagin <avagin@openvz.org>, 2013-07-11 13:46:53 +0400, , parasite modify process memory executing syscalls signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7444,86a07778514240012fddebd9cb09ffcefbf72464,ndrey Vagin <avagin@openvz.org>, 2013-07-11 13:46:52 +0400, , parasite restore register parasite command currenly restore blocking signal help ptrace register restored command process state corrupted criu crash previous patch end two trap command signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7445,2db92dee22af99b36fd33e3390201de08cc56c84,ndrey Vagin <avagin@openvz.org>, 2013-07-11 13:46:51 +0400, , parasite block signal parasite command pending signal saved signal blocked signal blocked command chance destroying process state small possible end two trapped command dump thread start daemon parasite add significant overhead crtools killed two command dumped process run continue signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7446,ea93b23783f653f39d7db80eafd391c372a5c01d,ndrey Vagin <avagin@openvz.org>, 2013-07-11 13:46:50 +0400, , parasite move code creating control socket separate func used place signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7447,206187dbd422b1019b5614065ce4becc7c104d6e,ndrey Vagin <avagin@openvz.org>, 2013-07-11 13:46:49 +0400, , check check ptrace_ get set sigmask signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7448,c2c44d526118aa1867e4c53c2dfc9a19eeb4d6e6,ndrey Vagin <avagin@openvz.org>, 2013-07-11 13:46:48 +0400, , signal dump alternate stack misc parameter initilization stage good fail signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7449,27582e32721a50616d735d543b8e8cb6f26f6a3b,yrill Gorcunov <gorcunov@openvz.org>, 2013-07-16 14:48:24 +0400, , inet restore so_reuseaddr case rollback tcp_repair_off implicitly modifies so_reuseaddr option inside kernel thanks avagin pointing feature thus rollback restore former setting socket forget repair particular one signed cyrill gorcunov gorcunov openvz.org andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7450,93e60c76ee00d1fa3a56ceced84a8abac84ce5d5,yrill Gorcunov <gorcunov@openvz.org>, 2013-07-15 18:48:57 +0400, , mem add missing eol pr_warn signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7451,81e11b44dec4d121fb2a08bac0563f4717bc315b,ndrey Vagin <avagin@openvz.org>, 2013-07-15 18:14:12 +0400, , restore unlock network disabling repair mode socket window probe sent disabling repair mode socket network must unlocked moment http show_bug.cgi 2670 fail unlocking network signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7452,64c37b72ffc1e13edb0de260139a2c7b1bffd2f9,ndrey Vagin <avagin@openvz.org>, 2013-07-15 18:14:11 +0400, , restore add switch stage never return error signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7453,b58a1248296f7463a770006716fcc82b4282d481,lexander Kartashov <alekskartashov@parallels.com>, 2013-07-12 18:18:40 +0400, , arm fixed arm version routine __cr_restore_rt patch fix stack corruption caused routine since push register onto stack result restorer crash restoring zombie http show_bug.cgi 2663 reported andrey vagin avagin openvz.org signed andrey vagin avagin openvz.org signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7454,b18a4d95551cebd114286b7b944efe3955dff7a6,ndrey Vagin <avagin@openvz.org>, 2013-07-12 18:16:27 +0400, , socket tcpbuf fix message number byte sent received exchanged message thanked cyrill gorcunov gorcunov openvz.org signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7455,6da52216ce8e47fed0ded1c5a451968ef7c177a2,ndrey Vagin <avagin@openvz.org>, 2013-07-12 18:14:23 +0400, , restore set zero limit rlimit_core done prevent generating core file process killed sigsegv sigbus etc http show_bug.cgi 2655 look good cyrill gorcunov gorcunov openvz.org signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7456,a18f28d61ee69f711ca73e2f3a8316ee0025628e,yrill Gorcunov <gorcunov@openvz.org>, 2013-07-12 18:12:12 +0400, , restore set zombie name restore otherwise lost mapping name dumped user see restore 1455 crtools restore 1448 1448 zombie00 pidfile zombie00.pid outfile zombie00.out 1449 zombie00 defunct 1450 zombie00 defunct 1451 zombie00 defunct 1452 zombie00 defunct http show_bug.cgi 2635 signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7457,f38fe4480cab0b058f2f16f3aaf3e64287ed21bb,ndrey Vagin <avagin@openvz.org>, 2013-07-12 18:10:32 +0400, , zdtm use tkill instead kill sigaltstack signal sent proper thread probably reason error caught yesterday cat zdtm live static sigaltstack.out 10.933 4380 thread 0x6083e0 size 0x2000 flag 0x1 10.934 4380 waiting thread 11.219 4380 thread may leave 11.219 4380 leaving thread 11.219 4380 leader 0x6083e0 size 0x2000 flag 0x1 11.219 4380 main old 0x6063e0 size 0x2000 flag 0x1 11.220 4380 main new 0x6083e0 size 0x2000 flag 0x1 11.220 4380 thrd old 0x6083e0 size 0x2000 flag 0x1 11.220 4380 thrd new 0x6083e0 size 0x2000 flag 0x1 11.220 4380 fail sigaltstack.c 163 restored errno resource temporarily unavailable http show_bug.cgi 2668 acked cyrill gorcunov gorcunov openvz.org signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7458,ae44dd36a1a44deaceaf99afba2160598189fb0f,ndrey Vagin <avagin@openvz.org>, 2013-07-11 22:32:27 +0400, , zdtm exclude vdso modifing output ldd ldd pipe00 linux vdso.so.1 currently first part line dropts line contains need exclude vdso modifing line patch fix bug zdtm.sh static pipe00 failed signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7459,ec6b8e77e5057c3bb30c00df9e8a152047a4f2f9,yrill Gorcunov <gorcunov@openvz.org>, 2013-07-11 19:10:25 +0400, , net unix print collected socket name quite convenient know exactly name used signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7460,1795ddca0ece92202b9fcd5d479fc90ecfa85e06,ndrey Vagin <avagin@openvz.org>, 2013-07-11 19:05:31 +0400, , zdtm fix path libriries rpi remove first part linues like libc.so.6 lib arm linux gnueabihf libc.so.6 0xb6d83000 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7461,ab9296cf61c4a6ad004994b904bd0d5b78647178,ndrey Vagin <avagin@openvz.org>, 2013-07-11 12:30:07 +0400, , zdtm hide output command check existence something signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7462,ccb2b04f7c2311e678d67724b9cacb402a961689,ndrey Vagin <avagin@openvz.org>, 2013-07-11 12:30:06 +0400, , zdtm print useless message makefile signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7463,9a0eedb6d25bbca3b6efdaf3e2868fdd1f6fb349,ndrey Vagin <avagin@openvz.org>, 2013-07-11 12:30:05 +0400, , zdtm remove many useless message make make entering directory root crtools test zdtm live static make lib make entering directory root crtools test zdtm lib make nothing done make leaving directory root crtools test zdtm lib env00.pid env00.out env00.test env00 .test env00.state make leaving directory root crtools test zdtm live static pid00 caps00 maps01 group sched_prio00 sched_policy00 sock_opts00 sock_opts01 cmdlinenv00 packet_sock fanotify00 netlink make entering directory root crtools test zdtm live static make lib make entering directory root crtools test zdtm lib signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7464,0c2df44daf5347b678e7086aef2033480327c688,ndrey Vagin <avagin@openvz.org>, 2013-07-11 12:30:04 +0400, , zdtm remove error message directory exist like mkdir create directory tmp criu root.wt2ow0 lib64â file exists signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7465,231f88a684e052fe2523168744f9cd44f813c012,ndrew Vagin <avagin@openvz.org>, 2013-07-11 15:31:56 +0400, , zdtm define page_size zdtmtst.h patch fix compilation raspberry remove defines test msg.c function test_msgâ msg.c error page_sizeâ undeclared first use function alexander kartashov alekskartashov parallels.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7466,a66a06c7f073765c8de478100a99e44487a955e3,ndrey Vagin <avagin@openvz.org>, 2013-07-11 15:31:22 +0400, , zdtm wait test process instead output file zdtm.sh report error immediatly test process exited crashed fear pid reused many place fail case chance get situation really small signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7467,535115eecdb17dc68f1bc27fe21f408535739221,yrill Gorcunov <gorcunov@openvz.org>, 2013-07-11 14:05:12 +0400, , test zdtm add test alternative signal stack signed cyrill gorcunov gorcunov openvz.org acked andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7468,6641accb1c77ab3bfdb2b3bf8e122e47246d29b4,ndrey Vagin <avagin@openvz.org>, 2013-07-10 17:42:04 +0400, , parasite remove dump_tread command nobody signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7469,b2091eb78010de6576be3bdd842b97d0a1c5b564,ndrey Vagin <avagin@openvz.org>, 2013-07-10 17:42:03 +0400, , parasite clean never called thread leader dumped  signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7470,5336bc13c6f60ef3f32e932ca4df95cf83f2e911,ndrey Vagin <avagin@openvz.org>, 2013-07-10 17:42:02 +0400, , dump dump tid_addr_clear thread leader signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7471,20b7dafaacde85a599ebee8bcd6558a5925b084d,yrill Gorcunov <gorcunov@openvz.org>, 2013-07-10 17:31:12 +0400, , restore add restoration alternative signal stack restore two way call sigaltstack explicitly restorer.c right call sigreturn pas stack value sigreturn call allow kernel restore stack since second way simplier one stick alekskartashov use rt_sigframe_uc signed cyrill gorcunov gorcunov openvz.org alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7472,de75a0a326630e6be2d637204c9c016fa3408add,yrill Gorcunov <gorcunov@openvz.org>, 2013-07-10 15:36:39 +0400, , dump add dumping alternative signal stack alekskartashov use encode_pointer signed cyrill gorcunov gorcunov openvz.org alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7473,1ca1a5b25f22800a60d585e781dfbdf71cf0df8d,yrill Gorcunov <gorcunov@openvz.org>, 2013-07-10 15:36:38 +0400, , pstree allocate free entry signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7474,766d56fb21769ca8e3023e9acd1dc61e17c388ce,yrill Gorcunov <gorcunov@openvz.org>, 2013-07-10 15:36:37 +0400, , protobuf add need store thread alternative signal stack signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7475,5762076dbbfe7161d71401bf3610dfbcd18d10f7,avel Emelyanov <xemul@parallels.com>, 2013-07-10 16:09:23 +0400, , dump factor thread_core dumping signed pavel emelyanov xemul parallels.com,,
7476,a04ccc22a01cbb8b433bd15967c2474e4036cda4,avel Emelyanov <xemul@parallels.com>, 2013-07-10 16:06:08 +0400, , dump remove unused arg signed pavel emelyanov xemul parallels.com,,
7477,ae25daf007554339708525147827b6dff54997ae,avel Emelyanov <xemul@parallels.com>, 2013-07-10 16:05:29 +0400, , dump move dump_task_mm dump_task_core used code call left place signed pavel emelyanov xemul parallels.com,,
7478,adac35445a75deffa6e68e5079b2b53e9d9c6d20,lexander Kartashov <alekskartashov@parallels.com>, 2013-07-10 10:15:57 +0400, , arm moved mincore syscall description description syscall mincore break traditional ordering syscall description signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7479,d305fb1306c1e44a244c616db31e628fc17c12c2,lexander Kartashov <alekskartashov@parallels.com>, 2013-07-10 10:15:56 +0400, , arm refactor syscall glue support armv6 patch modifies arm syscall glue follows macro syscallx produce different code syscalls different number argument replaced generic syscall thunk copied libc syscall table generation script simplified since syscall argument number analysis redundant armv7 specific instruction movw eliminated signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7480,6ee9ad5bc40d49f276ccf0cb1626905b3698da9f,lexander Kartashov <alekskartashov@parallels.com>, 2013-07-10 10:15:55 +0400, , arm added armv6 data barrier implementation signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7481,3a9498631002edf2d672ab372b1ef94ebc349440,lexander Kartashov <alekskartashov@parallels.com>, 2013-07-10 10:15:54 +0400, , determine version arm architecture target machine patch modifies build system analyze version target arm architecture setup compiler flag accordingly make possible support arm architecture prior armv7 signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7482,5eb254b016f9d5dbb13bcbb923e2afe22f7819eb,ndrey Vagin <avagin@openvz.org>, 2013-07-09 15:05:49 +0400, , tmpfs use one file system option dumping tmpfs help tar actully dumping tmpfs remounted somewhere else avoid overmounts signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7483,e7b656190ed094acf9add56c1c35374fff4c5ac3,yrill Gorcunov <gorcunov@openvz.org>, 2013-07-04 13:04:20 +0400, , header beautify sigframe.h include protobuf core.pb c.h coreentry definition gather structure predeclaration top move general comment top well add extern helper signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7484,f53be5b0d93b12357b8914b990d7b1000361e843,yrill Gorcunov <gorcunov@openvz.org>, 2013-07-04 13:04:18 +0400, , syscalls add sys_sigaltstack need retrieve signal stack parameter note simplicty declared syscall void argument libc stack_t need cleaned one day use similar structure sigframe definition need merge definition arm syscall def alekskartashov signed cyrill gorcunov gorcunov openvz.org signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7485,39cadf5b665a739a504ced94ad0544aff03f430e,yrill Gorcunov <gorcunov@openvz.org>, 2013-07-04 13:04:16 +0400, , pstree move thread_core allocation generic routine arch dependent mean thus look strange allocate arch free pstree.c signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7486,085747fb0bfa879667d44af438083be1c35fac70,yrill Gorcunov <gorcunov@openvz.org>, 2013-07-04 12:12:28 +0400, , arm fix memory alloc free core entry return error assign allocated entry immediately test fpstate allocated free path signed cyrill gorcunov gorcunov openvz.org alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7487,cdfe2bdd6870ec48f3cd821d55192efd1c78a027,yrill Gorcunov <gorcunov@openvz.org>, 2013-07-04 13:04:13 +0400, , x86 sanitize convention return error drop empty line signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7488,79989de5a3089496ee3e0d7974f050c03007aa1f,icheng Qin <yichengq@google.com>, 2013-07-09 13:52:58 +0400, , always set scheduler priority restore ensure correctness make criu still set scheduler priority restored process even setting default one criu special setting forked process inherit wrong setting restored one signed yicheng qin yichengq google.com signed pavel emelyanov xemul parallels.com,,
7489,34f4e2d05ca21cecefd1e1a3567666982aeb60bd,avel Emelyanov <xemul@parallels.com>, 2013-07-09 13:48:59 +0400, , rst compile fix rst mem api usage rlims signed pavel emelyanov xemul parallels.com,,
7490,73a8b996c57fc9a5dc3d3584a4b0936a15cbe166,yrill Gorcunov <gorcunov@openvz.org>, 2013-07-09 00:21:31 +0400, , restorer use rst memory allocator rlimits restore number rlimits may vary depending system version criu compiled use rst allocator carry limit read file signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7491,bd58fce18f5736c725b33d4e7b6c89b7819fcbf6,avel Emelyanov <xemul@parallels.com>, 2013-07-08 19:10:11 +0400, , core sanitize check_core return evaluation signed pavel emelyanov xemul parallels.com,,
7492,1133ed73bd7e743fe8dced4a7b01cbb715538d67,avel Emelyanov <xemul@parallels.com>, 2013-07-05 16:39:43 +0400, , rst create rst mem page _after_ local smaps parse memory unmapped handr need polluting self smaps signed pavel emelyanov xemul parallels.com,,
7493,402707107f4543968287acd025cde7e0525ef619,avel Emelyanov <xemul@parallels.com>, 2013-07-05 16:27:03 +0400, , rst simplify remap api actually remap rst mem still visible crtools although another address signed pavel emelyanov xemul parallels.com,,
7494,2652962bd4825114ee2fe83c624d72234ee64beb,avel Emelyanov <xemul@parallels.com>, 2013-07-05 16:22:51 +0400, , rst unmap restorer dyn args memory end reported cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7495,79dfbe6cc271bb6e0f00afafeff7b1a2f96e7cd2,avel Emelyanov <xemul@parallels.com>, 2013-07-05 15:04:57 +0400, , tcp switch use rst memory allocator repair signed pavel emelyanov xemul parallels.com,,
7496,e458d20c4dc13bff8116d25fae8f13a570c528a9,avel Emelyanov <xemul@parallels.com>, 2013-07-05 15:02:46 +0400, , siginfos switch use rst memory allocator signed pavel emelyanov xemul parallels.com,,
7497,4171d5bf58bbbd8669665c362a1274ee54a25d1b,avel Emelyanov <xemul@parallels.com>, 2013-07-05 15:00:08 +0400, , posix timer switch use rst memory allocator signed pavel emelyanov xemul parallels.com,,
7498,df51773b0698aa1b957139c881c0462641f50e88,avel Emelyanov <xemul@parallels.com>, 2013-07-05 14:56:45 +0400, , rst introduce memory allocator rst blob memory question allocated remaped restorer one call mremap thus use mem need provide user api alloc memory get current allocation pointer convert current pointer remapped one remap would help combinding lot small allocation tcp socket unrepair siginfos posix timer signed pavel emelyanov xemul parallels.com,,
7499,0e0a398959a0620952d4ddfe900af90845d37a5a,ndrey Vagin <avagin@openvz.org>, 2013-07-08 00:18:38 +0400,1, proc fix memory leak timer freed case eof cid 1042301 resource leak resource_leak 15. leaked_storage variable timer going scope leak storage point signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7500,071b940a7ebfb2757967efdc725f89fa98703e1c,ndrey Vagin <avagin@openvz.org>, 2013-07-08 00:18:37 +0400,1, file compare unsigned value cid 1042292 unsigned compared no_effect zero comparison unsigned value never true len 0ul signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7501,55fe0939088dfef8756749c9a9a2c74bb2ee7be0,ndrey Vagin <avagin@openvz.org>, 2013-07-05 12:19:55 +0400, , zdtm destruct external mount namespace something mount marked private otherwise action affect someone else signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7502,7aaef1ee4f3d7ddee93a6e428a6a6338f665ce8c,ndrey Vagin <avagin@openvz.org>, 2013-07-05 12:19:54 +0400, , mount destruct external mount namespace parent mount point shared exteranl mntns child umounted external mntns example mount tmpfs xxx root tmp mount make shared tmp mkdir tmp xxx mount tmpfs xxx root tmp xxx touch tmp xxx unshare umount tmp xxx tmp xxx access tmp xxx file directory patch change parent mnt private umounting childrens exit mount point marked private signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7503,714443d96fd9bc1e382a6078a16019bee8b0a673,avel Emelyanov <xemul@parallels.com>, 2013-07-04 15:49:02 +0400, , netlink lower netlink error report log level likely meand respective diag module missing case caller would check _might_ fail dump thus treat error signed pavel emelyanov xemul parallels.com,,
7504,52de6313a8e3b9bc94db57b5f20df250a979dba8,avel Emelyanov <xemul@parallels.com>, 2013-07-02 09:52:22 +0400, , kerndat sanitize pagemap entry read err check signed pavel emelyanov xemul parallels.com,,
7505,0b5170c0fcc24834e833695a5f13b2f0ca6e9574,avel Emelyanov <xemul@parallels.com>, 2013-07-02 09:51:33 +0400, , mem remove pagemap2 mention file created backward compatibility yet patched kernel remove signed pavel emelyanov xemul parallels.com,,
7506,8bbf64ebfadd3e84236790474c80e0609a9e078e,ndrey Vagin <avagin@openvz.org>, 2013-07-03 13:36:08 +0400, , posix timer make parser bit readable pavel tikhomirov snorcht gmail.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7507,0f96026192e03bc2917364857d8ab32247fef9d4,avel Emelyanov <xemul@parallels.com>, 2013-07-02 09:15:50 +0400, , mem lower message severity inability reset dirty tracker _actual_ need checked place signed pavel emelyanov xemul parallels.com,,
7508,f70859e2fcfe92373aa5f960460f052fff4e1c02,ndrey Vagin <avagin@openvz.org>, 2013-07-02 20:25:14 +0400, , posix timer call ferror null call ferror fopen returned null reported adrian reber adrian lisas.de pavel tikhomirov snorcht gmail.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7509,c8f3e09f171d5db2164ffd155a31189bf3b10a30,avel Emelyanov <xemul@parallels.com>, 2013-07-02 02:30:14 +0400, , zdtm add test semi closed unix connection signed pavel emelyanov xemul parallels.com,,
7510,1148edc1a63a0bf2adff62570048bc8366de8cde,avel Emelyanov <xemul@parallels.com>, 2013-07-02 02:28:43 +0400, , unix support semi closed stream connection unix socket peer established state type socket appear one end connection close leaf peer full shutdown state check handle properly restore reported florian gross florian.s.gross web.de signed pavel emelyanov xemul parallels.com,,
7511,e38617258b1aafd04bce2cc373ea0e551c9da066,lexander Kartashov <alekskartashov@parallels.com>, 2013-07-02 17:19:52 +0400, , arm added arm version posix timer syscalls signed pavel emelyanov xemul parallels.com,,
7512,1845284009581af110cf2bf6c2e055c9e29d389f,avel Emelyanov <xemul@parallels.com>, 2013-07-01 21:31:05 +0400, , criu version 0.6 release release increasing bugfix feature ratio though still lot new stuff tool amount bug caught fixed increase notable feature worth mentioning prepared crtools ready restore image converted generated rh6 openvz kernel i.e close live migration rh6 whatever next openvz kernel signed pavel emelyanov xemul parallels.com,,
7513,1edb5b01f3838a9c361102788ea39a49ee97ec29,avel Emelyanov <xemul@parallels.com>, 2013-07-01 21:26:35 +0400, , mem ignore memory tracking reset error otherwise non soft dirty kernel dump pass produce broken image signed pavel emelyanov xemul parallels.com,,
7514,2030f2dfb12dab654da2741c9e5b911d97814894,avel Emelyanov <xemul@parallels.com>, 2013-07-01 20:11:22 +0400, , timer unmap posix timer info mem restoring signed pavel emelyanov xemul parallels.com,,
7515,f8464fdafe7cdd8cb551400238c7ee14c2dd6f5b,avel Emelyanov <xemul@parallels.com>, 2013-07-01 20:02:15 +0400, , timer split posix timer restore two stage 1st stage creating timer may fail kernel allocated manner expect run memory 2nd stage arm timer fail since validated timespecs advance happen waited task complete restore signed pavel emelyanov xemul parallels.com,,
7516,b62df5c986b040bc3239ba2be1475db464166ad7,yrill Gorcunov <gorcunov@openvz.org>, 2013-07-01 19:39:45 +0400, , test app emu fix typo command line pid variable get chopped editor signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7517,47faeca62c5211a2b077c774b5f2d2294c1aac77,yrill Gorcunov <gorcunov@openvz.org>, 2013-07-01 19:31:09 +0400, , test app emu use new syntax slightly updated option argument parsing thus update cmdline used app emu test signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7518,1b2c3e699b523e793746b7a1a55fb7482560f60b,ndrey Vagin <avagin@openvz.org>, 2013-07-01 18:41:02 +0400, , zdtm take account cpt rst time posix_timer add cpt rst timeout inaccuracy timer stopped cpt rst know moment stopped run timeout added acceptable inaccuracy signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7519,553c0480c4336fc1980285897880731cc0a832c0,ndrey Vagin <avagin@openvz.org>, 2013-07-01 18:27:41 +0400, , parasite minor clean signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7520,ca6c026a310336cec4d3fb27ec0965fc03bbfb16,avel Emelyanov <xemul@parallels.com>, 2013-07-01 18:24:24 +0400, , check netlink diag peek siginfo 3.10 already signed pavel emelyanov xemul parallels.com,,
7521,00be48d575a52156a2d7904efabdd7d2776c781a,yrill Gorcunov <gorcunov@openvz.org>, 2013-07-01 16:39:01 +0400, , file reg show ghost file name error open ghost file tmp file exists signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7522,781cf5d31bd18f35b06522d1d100dc56d2971b72,yrill Gorcunov <gorcunov@openvz.org>, 2013-07-01 16:38:29 +0400, , zdtm maps00 add detailed output easier detection exactly test fails 665 map ptr 0x7fa96bbe4000 flag prot 665 map ptr 0x7fa96bbe2000 flag prot 665 map ptr 0x7fa96bbe0000 flag prot 665 map ptr 0x7fa96bbdb000 flag prot ... 665 read expected 553e7b06 665 read expected 553e7b06 665 read expected 553e7b06 665 fail maps00.c 145 crc mismatch ptr 0x7fa96bbcb000 flag prot signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7523,55b51d8f7445e8ef809d8c8752cf5477b0e55fa9,avel Emelyanov <xemul@parallels.com>, 2013-07-01 16:26:48 +0400, , zdtm wire posix timer test signed pavel emelyanov xemul parallels.com,,
7524,db77402ae0b93335ba353996bd1996010b06c801,avel Emelyanov <xemul@parallels.com>, 2013-07-01 16:26:30 +0400, , proc use open_proc helper open timer file signed pavel emelyanov xemul parallels.com,,
7525,1f5acc024226656cf3a9310fe9a705703c06c08e,avel Emelyanov <xemul@parallels.com>, 2013-07-01 16:23:51 +0400, , check check proc pid timer file required get support posix cpu timer appeared v3.10 signed pavel emelyanov xemul parallels.com,,
7526,162866feee71d2f19281ca8cbee6bc87f34c160a,avel Tikhomirov <snorcht@gmail.com>, 2013-06-27 23:32:28 +0400, , posix timer add macro exclude periodic explanation exclude periodic test set overrun timer check fail case big overrun dump signed pavel tikhomirov snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
7527,f8bb9c36533e64c72bf5b2f4f650efe0f83c6d05,avel Tikhomirov <snorcht@gmail.com>, 2013-06-27 23:32:27 +0400, , posix timer add test non consequent timer add fake timer inshure timer one another well signed pavel tikhomirov snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
7528,b782b982bd511921bb21030d3525375520ad7826,avel Tikhomirov <snorcht@gmail.com>, 2013-06-27 23:32:26 +0400, , posix timer restore timer need create delete fake timer signed pavel tikhomirov snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
7529,5c8db84fa2441b9dabf83787f8380f502b968a5f,avel Tikhomirov <snorcht@gmail.com>, 2013-06-27 23:32:25 +0400, , posix timer add reading image put shared memory signed pavel tikhomirov snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
7530,2940109a244eaab5d892cdcfb5baeef206987c86,avel Tikhomirov <snorcht@gmail.com>, 2013-06-27 23:32:24 +0400, , posix timer restore fix one timer also add function check time represented two number valid i.e timespec sec nsec sec nsec must nsec must nsec_per_sec signed pavel tikhomirov snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
7531,d8be68f3d179bf5b0ecb9aadddb7a1cbbdf0a982,avel Tikhomirov <snorcht@gmail.com>, 2013-06-27 23:32:23 +0400, , posix timer add restore structure signed pavel tikhomirov snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
7532,9a9424ee10ec7ff38cbb7cbc905f2734b0c66783,avel Tikhomirov <snorcht@gmail.com>, 2013-06-27 23:32:22 +0400, , posix timer add dump functionality signed pavel tikhomirov snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
7533,335a158ebc7a045d198dc2e0242fae3b81b60e38,avel Tikhomirov <snorcht@gmail.com>, 2013-06-27 23:32:21 +0400, , posix timer get info parasite structure signed pavel tikhomirov snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
7534,d992960fa721a93c9d4b6bef6133f4c5fbf8bea0,avel Tikhomirov <snorcht@gmail.com>, 2013-06-27 23:32:20 +0400, , posix timer parse proc proc pid timer save info list signed pavel tikhomirov snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
7535,2752cf9bf70c813d02f04304123204207cafaa95,avel Tikhomirov <snorcht@gmail.com>, 2013-06-27 23:32:19 +0400, , posix timer add magic show functionality signed pavel tikhomirov snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
7536,2f98253c2658b5692f135dfeb55863d37f55b2a8,avel Tikhomirov <snorcht@gmail.com>, 2013-06-27 23:32:18 +0400, , posix timer add protobuf message rename protobuf timer.proto signed pavel tikhomirov snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
7537,652ce02eebeafc92cbd2b80755ddfb04d192f8af,avel Tikhomirov <snorcht@gmail.com>, 2013-06-27 23:32:17 +0400, , syscalls add proper syscalls definition signed pavel tikhomirov snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
7538,dd38ae16d11b4cfa524ca4238c9c08c8213e2a27,ndrey Vagin <avagin@openvz.org>, 2013-06-26 01:27:09 +0400, , handle new process created snapshot process image file parent snapshot crtools fail case http show_bug.cgi 2636 return null mem_snap_init parent image absent signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7539,538e87ca92766ae3c08cdd565fb74aace045ec7a,ndrey Vagin <avagin@openvz.org>, 2013-06-26 01:27:08 +0400, , zdtm add new test case create process loop process live short period time test case needed testing snapshot http show_bug.cgi 2636 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7540,ce988e44fb64b9d201dfdd4ee1e3d60a901a85a6,ndrey Vagin <avagin@openvz.org>, 2013-06-22 13:22:57 +0400, , zdtm.sh check snapshot functionality last iteration stop process iteration make snapshot process restored last snapshot bash test zdtm.sh signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7541,13a809a9fa1302967be33a53ccf344f94b4f66e1,ndrey Vagin <avagin@openvz.org>, 2013-06-22 13:22:36 +0400, , zdtm.sh fix indentation signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7542,5bf83eaf695fbc1bc87930043c122d85c9b3123f,lexander Kartashov <alekskartashov@parallels.com>, 2013-06-22 13:17:28 +0400, , mem screen page dump failure patch prevents page dump failure screening command success signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7543,1ef1c80f3d03bd481b3e7de04db78d9f9122c8c5,lexander Kartashov <alekskartashov@parallels.com>, 2013-06-22 13:16:43 +0400, , arm bitops fixed bitops access bit signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7544,c97911a5f208231e6ca63bab7aa3207623722546,ndrey Vagin <avagin@openvz.org>, 2013-06-22 13:15:27 +0400, , initialize pageentry null pagemapentry otherwise contains trash bug page read.c may triggered http show_bug.cgi 2633 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7545,93884266ef11535e480ccc2b60c03c79b54462d8,ndrey Vagin <avagin@openvz.org>, 2013-06-22 13:14:42 +0400, , ptrace check process stopped sigtrap state unexpected signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7546,b43c29bbb429361460d6ddd107314b0cbd6b7e14,ndrey Vagin <avagin@openvz.org>, 2013-06-22 13:13:11 +0400, , parasite unprotect vma one dumppages operation failed called many time parasite args contains array vmas time vmas unprotected error case signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7547,d020ebb36d0237d363cb97bb00533b27de116ed9,avel Emelyanov <xemul@parallels.com>, 2013-06-14 00:11:08 +0400, , file compact code removing per file dump helper since call proper ops call one directly compact code signed pavel emelyanov xemul parallels.com,,
7548,42f77676b6339bb52a198f854758ca5bf1e619b9,ndrey Vagin <avagin@openvz.org>, 2013-06-14 15:04:59 +0400, , parasite wait specific pid code written thread daemonized thread leader daemonized signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7549,799182a16ae789fd266bf06367b2d268d3f89b3a,ndrey Vagin <avagin@openvz.org>, 2013-06-14 15:04:58 +0400, , parasite wait sigreturn task parasite code reason task parasite code signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7550,557f59351c9750334c8002b1e53bcd3038029398,ndrey Vagin <avagin@openvz.org>, 2013-06-14 15:04:57 +0400, , parasite close control socket finalization stage signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7551,a45f07e27a76c8c263a3f86c9bda530d1a908dca,ndrey Vagin <avagin@openvz.org>, 2013-06-14 15:04:56 +0400, , parasite handle error signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7552,842dbf6e09775bcabca5e81e30f520e0a9482dff,ndrey Vagin <avagin@openvz.org>, 2013-06-14 15:04:55 +0400, , parasite exit parasite code something failed controll socket shut writing wait fini command http show_bug.cgi 2622 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7553,cb9574a3617ae7bf8848d946986093588af23fea,ndrey Vagin <avagin@openvz.org>, 2013-06-14 15:04:54 +0400, , syscall add shutdown signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7554,252273ff4bacbfbe1da0c9ea467eca503230df9d,ndrey Vagin <avagin@openvz.org>, 2013-06-14 15:04:53 +0400, , parasite fix error code negative value must resturned error case signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7555,befefb70dcb1a02e9f77567adf7aa542a707aee7,ndrey Vagin <avagin@openvz.org>, 2013-06-14 15:04:52 +0400, , parasite fix error code ret contains successful code readlink signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7556,07283b3781932d27b2eb1031916d22d4457a1edd,yrill Gorcunov <gorcunov@openvz.org>, 2013-06-13 19:41:09 +0400, , vdso diet include vdso.h commit included asm type.h bool definition fine term criu make cpt2 converter carry whole asm type.h sometimes causing error due confilicting definition let simplier include stdbool.h instead signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7557,8feb155d91799769e92ad6bc2a9f27e8013836ec,yrill Gorcunov <gorcunov@openvz.org>, 2013-06-13 19:40:43 +0400, , file ghost make sure never ghost bit protect ourself unpredicted change signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7558,61ce81b0e58016ab8d3d4a3266aeff9f6d364785,hanho Park <chanho61.park@samsung.com>, 2013-06-13 19:40:11 +0400, , pie log parse llx argument correctly x64 convert prix64 however arm convert llx thus peek one character skip next signed chanho park chanho61.park samsung.com signed myungjoo ham myungjoo.ham samsung.com acked alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7559,1480708900d9e62acee245f6f7d91f617f491ef2,avel Emelyanov <xemul@parallels.com>, 2013-06-11 20:12:03 +0400, , crtools fix option conform common sense option declared optional argument thus valid currently used syntax longer work expected treated log_err level single dangling unparsed argument sorry better earlier signed pavel emelyanov xemul parallels.com,,
7560,40ed18839e143cce857fd03e7ff3021b6b647c6b,avel Emelyanov <xemul@parallels.com>, 2013-06-10 16:17:45 +0400, , net print link kind reporting inability dump kernel link rtnl ops report string kind device handy debugging signed pavel emelyanov xemul parallels.com,,
7561,d3b122fbc081798cc8ff11096bf05876f7f2cb44,hanho Park <chanho61.park@samsung.com>, 2013-06-11 13:18:28 +0900, , makefile add ldflags directive patch add ldflags directive build static build static mode like make arch arm cross_compile arm linux gnueabi ldflags static signed chanho park chanho61.park samsung.com signed myungjoo ham myungjoo.ham samsung.com acked alexander kartashov alekskartashov parallels.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7562,be2020f26c4dfb95a65bdc3e41eeb9bb6f50a809,hanho Park <chanho61.park@samsung.com>, 2013-06-11 13:18:27 +0900, , pie always build arm mode parasite blob compiled arm mode signed chanho park chanho61.park samsung.com signed myungjoo ham myungjoo.ham samsung.com acked alexander kartashov alekskartashov parallels.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7563,d47434abf8643a5c2ef2a3a98925b566efc6028a,hanho Park <chanho61.park@samsung.com>, 2013-06-11 11:01:31 +0400, , pie use unsigned long instead u64 sys_mmap return unsigned long value contrary x64 arm 32bit size unsigned long sys_mmap return 32bit value higher 32bit filled 0xffffffff signed chanho park chanho61.park samsung.com signed myungjoo ham myungjoo.ham samsung.com signed pavel emelyanov xemul parallels.com,,
7564,88524cf5af341b6c2d7501376d225495ecbe0540,avel Emelyanov <xemul@parallels.com>, 2013-06-08 00:37:05 +0400, , exec add support return argument reminder string arg turn address memory containing string size arg turn address uninitilized memory size size content printed syscall return signed pavel emelyanov xemul parallels.com,,
7565,b4cebc4f2d69cb1c656134ef69acef8add1a5044,ndrey Vagin <avagin@openvz.org>, 2013-06-08 00:01:48 +0400, , parasite remove unused field signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7566,38dd47b524e18c61ff0322b753243a2dd1368cf4,yrill Gorcunov <gorcunov@openvz.org>, 2013-06-04 10:44:26 +0400, , mount verify external shared mount meet shared mount point without share master belonging mean might fail restore thus require master slave mount peer collected dump word output like 00.077025 error mount.c 421 mount master_id shared_id unreachable sharing 00.077123 error mount.c 472 proceed 4237 mountinfo 00.077865 error namespaces.c 442 namespaces dumping finished error 65280 http show_bug.cgi 2608 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7567,e9b00f991826626ccd21a02d0088d92427e5e7f9,yrill Gorcunov <gorcunov@openvz.org>, 2013-06-04 10:44:25 +0400, , mount simplify mnt_entry_alloc allocate xzalloc instead massive null assignment moreover forget initialize sibling signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7568,afd4b007b4460e7e7647d2c58ab51b6e7e961438,yrill Gorcunov <gorcunov@openvz.org>, 2013-06-03 13:59:45 +0400, , zdtm.sh rename crtools criu jenkins framework might need lifting crtools commit changed criu commit signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7569,af474de6096893c3a0b65b85547eaa26385bacd1,yrill Gorcunov <gorcunov@openvz.org>, 2013-06-03 13:58:43 +0400, , drop crtools word zdmt code signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7570,3c6180ac0bfa3ccee145cc32ef74b8c5700acd79,yrill Gorcunov <gorcunov@openvz.org>, 2013-06-03 13:58:05 +0400, , use criu instead crtools test script signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7571,f7b9f0a2d7c18979b8790b7f3352fb5fe0dcc4f0,lexander Kartashov <alekskartashov@parallels.com>, 2013-06-01 17:37:13 +0400, , zdtm added test validating arm neon checkpoint restore patch add test static arm neon00 modelled test static fpu00 initializes arm neon register checkpoint carry simple computation arm neon restore compare result result computation carried checkpoint signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7572,1982fddb53ab07a46a0c06fb050a1157c9c80afa,lexander Kartashov <alekskartashov@parallels.com>, 2013-06-01 17:37:12 +0400, , generalized prototype routine restore_fpu struct sigframe instead fpu_state_t passed routine restore_fpu since fpu register stored different field sigframe different architecture architecture specific implementation routine restore_fpu know detail layout instead change make possible move arm fpu restoration caused segfault since pointer fpu_stat become invalid dumper address space restore_fpu signed alexander kartashov alekskartashov parallels.com acked andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7573,de71bc69170cfeceb24bddd431ad10b8ea607d42,ndrey Vagin <avagin@openvz.org>, 2013-05-31 19:01:31 +0400, , restore add action script setup namespaces creating namespaces may need apply configuration example uid gid map applied moment script executed crtools namespaces created root process need add new stage synchronizing use separate stage instead socketpair signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7574,94f01416a9c6cb46ad486834185170251d30fc39,lexander Kartashov <alekskartashov@parallels.com>, 2013-05-31 16:34:58 +0400, , renamed restore_fpu vice versa name function swapped avoid confusion signed alexander kartashov alekskartashov parallels.com acked andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7575,89197fe047d3e985ad312e260bf79525631f96f0,lexander Kartashov <alekskartashov@parallels.com>, 2013-05-31 09:20:47 +0400, , introduced macro reg_syscall_nr macro reg_syscall_nr designated get value cpu register storing syscall number machine independent way signed alexander kartashov alekskartashov parallels.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7576,9a3745412ed5d0955303b241369780849deeb006,lexander Kartashov <alekskartashov@parallels.com>, 2013-05-31 09:20:46 +0400, , arm touch field arm_orig_r0 field arm_orig_r0 used prevent syscall restart arm unlike x86 signed alexander kartashov alekskartashov parallels.com reported chanho park chanho61.park samsusng.com signed pavel emelyanov xemul parallels.com,,
7577,86888677cd90ba5aa07bb5188ecf0d01a1d125d5,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-31 10:28:45 +0400, , vdso x86 skip area known vdso signed cyrill gorcunov gorcunov openvz.org tested alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7578,5e5b82154d0fccaebc50ffcfaa7baecb452bc687,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-31 10:17:51 +0400, , vdso make arch implemented worth calling arm moreover might try read pfn address greater task_size leading dump interruption let make arch dependent alekskartashov fix compiling arm reported alexander kartashov alekskartashov parallels.com signed cyrill gorcunov gorcunov openvz.org tested alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7579,cad4fe360932410fbdf3a21abb714fdc0414a620,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-31 10:28:43 +0400, , x86 add missing include structure asm parasite syscall.h signed cyrill gorcunov gorcunov openvz.org tested alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7580,fde0162c4fbe8a9d873749c4cc24b1a21f2d4d51,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-31 10:28:42 +0400, , beautify parasite syscall.h gather structs top add extern align argument declaration signed cyrill gorcunov gorcunov openvz.org tested alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7581,eef9b72c335c27e6c2551241eedf1bf9244d1b96,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-31 10:28:41 +0400, , parasite syscall move parasite_args macro header needed x86 code signed cyrill gorcunov gorcunov openvz.org tested alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7582,4f86ef968dba6dd3ad5c3398e67ca61bf86925b7,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-30 17:11:50 +0400, , make pie use cross_compile prefix utility signed cyrill gorcunov gorcunov openvz.org chanho park chanho61.park samsung.com myungjoo ham myungjoo.ham samsung.com acked chanho park chanho61.park samsung.com signed pavel emelyanov xemul parallels.com,,
7583,d73c4c1ff4b1372cc59c23c5d45c87b855478d77,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-30 13:41:17 +0400, , make allow use cross_compile prefix note overriden command line signed cyrill gorcunov gorcunov openvz.org chanho park chanho61.park samsung.com myungjoo ham myungjoo.ham samsung.com acked chanho park chanho61.park samsung.com signed pavel emelyanov xemul parallels.com,,
7584,d0d4d5e705d508b5f7f651137e5a9e53945fed7c,ndrey Vagin <avagin@openvz.org>, 2013-05-30 17:59:17 +0400, , dump trasport socket sock_stream want know one side closed point signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7585,45794cc16440a2315c208926f7914e1372d34401,hanho Park <chanho61.park@samsung.com>, 2013-05-30 18:18:08 +0900, , parasite add macro getting register patch add macro getting register differs according architecture signed chanho park chanho61.park samsung.com signed myungjoo ham myungjoo.ham samsung.com acked alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7586,1c3c66ed62b6ee485a5b17679c9d91c6c465bb82,hanho Park <chanho61.park@samsung.com>, 2013-05-30 18:18:06 +0900, , parasite fix typecasting error patch fix typecasting error error format lxâ expects argument type long unsigned intâ argument type uint64_tâ werror format signed chanho park chanho61.park samsung.com signed myungjoo ham myungjoo.ham samsung.com acked alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7587,2f5df09da587d3dd4002b25fccc39bf1255b1d0a,hanho Park <chanho61.park@samsung.com>, 2013-05-30 18:18:05 +0900, , vdso fix build error patch fix build error due lack bool type fixed adding include file file included arch arm vdso pie.c include vdso.h error unknown type name boolâ include vdso.h error unknown type name boolâ signed chanho park chanho61.park samsung.com signed myungjoo ham myungjoo.ham samsung.com acked alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7588,3f70116d259ca7a126ab753b43bc9998818b134d,hanho Park <chanho61.park@samsung.com>, 2013-05-30 17:57:13 +0900, , arm fix without typecast error patch fix typecast error error assignment make integer pointer without cast werror signed chanho park chanho61.park samsung.com signed myungjoo ham myungjoo.ham samsung.com acked alexander karatshov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7589,6dbdce921f82b441053b32c4d4f82fb2c3edeca8,hanho Park <chanho61.park@samsung.com>, 2013-05-30 17:57:11 +0900, , arm add sendto recvfrom syscall definition patch add missing syscalls arm commit 595b772a syscall daemon mode signed chanho park chanho61.park samsung.com signed myungjoo ham myungjoo.ham samsung.com acked alexander karatshov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7590,961742af2cf877e24ac08fea074f3eac2f046003,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-29 13:39:06 +0400, , image desc forget declare external fdset_template extracting common part image descriptor separate file declaration escaped signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7591,17b0a47b98be71f3149ec7226c350af9afe07f29,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-28 22:12:06 +0400, , image move image descriptor file move image object descriptor image desc file allow reuse code tool move show declaration show.h well signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7592,225716278a5984b715ad759ee7c88b5e5b4850b4,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-28 22:11:59 +0400, , protobuf move descriptor definition file move protobuf object descriptor protobuf desc file allow reuse code tool signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7593,603db8bf148a31e2c0d022ffc2232171836e3696,ndrey Vagin <avagin@openvz.org>, 2013-05-28 21:17:49 +0400, , parasite restore signal blocking mask error path signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7594,6bf22f8c756a88cf13918a32137009681937cc10,avel Emelyanov <xemul@parallels.com>, 2013-05-28 21:11:13 +0400, , crtools get rid stack cr_options global instance enough signed pavel emelyanov xemul parallels.com,,
7595,d01ffda29e2d7e1fb17f586a4621beacebd1198b,ndrey Vagin <avagin@openvz.org>, 2013-05-27 16:38:52 +0400, , parasite remove struct required daemonized thread signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7596,11d3adbf564d962a33e2bf59af0e529d153cd9a5,ndrey Vagin <avagin@openvz.org>, 2013-05-27 16:38:51 +0400, , parasite remove code used daemonized thread signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7597,08377fe90b7acbec4d574d8ed681bdb5be9e0ac3,ndrey Vagin <avagin@openvz.org>, 2013-05-27 16:38:50 +0400, , parasite daemonize thread dumping thread need execute one command demonization overload signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7598,dbb32a0e5717ed292a5a6801779bd09c2c0696f6,ndrey Vagin <avagin@openvz.org>, 2013-05-27 16:38:49 +0400, , parasite return ability execute code thread specified pid currently use get pid property used thread daemonized going demonize thread pid one useful field signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7599,ce4cd8d49d7c5204161d0406a076734c9d6d17a6,ndrew Vagin <avagin@openvz.org>, 2013-05-27 15:24:31 +0400, , parasite typo fix regs_orig pointer struct user_task_regs signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7600,d79fc6d3750d67bcf69f12190295421971deb9a7,ndrey Vagin <avagin@openvz.org>, 2013-05-27 13:10:44 +0400, , parasite use correct original register use original register belong executing thread signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7601,459ca476b0e3eb8ac26e9b382f3e04ff632d1f98,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-27 13:05:08 +0400, , vdso asm include protobuf vma.pb c.h rhel6 compiler happy preliminary declaration vmaentry type yielding error building attempt thus include protobuf header signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7602,dfe9cfbe26c0a6fe340c504ae2e9a0b32262b7b5,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-27 13:04:43 +0400, , x86 include stdbool.h fpu.h otherwise get used outside criu code arch x86 include asm fpu.h error unknown type name boolâ signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7603,1fa40e972a3f11bb5ae9b2dca5efbacadd881b36,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-27 12:41:58 +0400, , vdso put vdso mark forget make area writable otherwise kernel happy attempt write memory causing dumpee fail restore signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7604,a845d5fa1debc2abd6212949597619107627268d,ndrey Vagin <avagin@openvz.org>, 2013-05-24 16:20:24 +0400, , restore optimize size stack sigframe signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7605,0bc162636bd53f7dc83f701d344f928a8e189770,ndrey Vagin <avagin@openvz.org>, 2013-05-24 16:20:23 +0400, , parasite restore parasite state via rt_sigreturn patch reduces window crtools kill dumped process parasite deamon mode restore state process crtools detached unexpectedly thread synchronized _exit_ point crtools trace syscalls remove parasite blob dumpee previously let process run signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7606,8d0e296586723a61dc1ad15f2b414d1e3f58275d,ndrey Vagin <avagin@openvz.org>, 2013-05-24 16:20:21 +0400, , dump reseve space construc sigframes parasite implement functionality allow parasite return dumpee via sigreturn case crtools suddenly detached thus need space sigframe shared area signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7607,75a3932be64bf4a0219bc27f2ff0239c0a6f013b,ndrey Vagin <avagin@openvz.org>, 2013-05-24 16:20:15 +0400, , dump return signal mask parasite initialization mask put sigframe used parasite coming soon thus pull one dumpee early plus check signal blocked thread separately signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7608,595b772ad2386952003590ef43fbdaff332db3ec,ndrey Vagin <avagin@openvz.org>, 2013-05-24 16:20:12 +0400, , parasite switch parasite daemon mode parasite daemon mode quite tricky one may consider consisting two part daemon mode thread leader daemon mode regular thread thread leader daemon  thread leader parasite code switched initialized start spinning socket listening command handle command destination thread leader handle reply back ack caller iow main crtools code recepient thread leader one thread thread leader wake thread futex make handle command waiting futex result result obtained ack sending back caller thread daemon  initialization thread daemon start waiting command futex futex triggered thread leader daemon command received command received handled result reported back thread leader daemon turn send ack message thread leader regular thread require stack operate since present memory simultaneously thus use helper take care providing stack callee todo arm requires wrapper damonize trap low level code moment x86 covered remove ack parasite use propper command getting ack fixed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7609,86d4c1ed94b316d427f23d9a1b4574bbaacfe04f,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-24 20:12:07 +0400, , git drop include config.h monitoring autogenerated file signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7610,24864ae75b57d694ebd6993e78feb718127adfe4,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-24 16:20:06 +0400, , parasite prepare structure daemon mode parasite daemon mode might considered series network message sent main crtools module parasite daemon spin socket waiting command handle simple command handling session might look crtools daemon  command message receive command .... handle command .... send ack receive ack   time case multithread application handle command stage includes waking child thread via futexes wait handling complete send ack back ctrools module patch brings description command message struct ctl_msg unsigned int command recipient unsigned int cmd command unsigned int ack ack command int err error code reply  example case dumpee pid acquiring handle command ack series look  cmd msg  .id .cmd .ack .err ack msg  .id .cmd .ack .err case error happened parasite err field set accordingly convenience ctl_msg_cmd ctl_msg_ack macro provided control message generation delete futex_t ack tid_state_s fixed andrew vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7611,fe13977b1eb9d447319e7328d2ad5ba9a03838e1,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-24 16:20:05 +0400, , parasite syscall add trap postfix parasite execute function relying trap issued end execution distinguish future daemon mode add trap postfix  signed cyrill gorcunov gorcunov openvz.org signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7612,64ecb2746c74644f13cda07e473e0fabac89e275,ndrey Vagin <avagin@openvz.org>, 2013-05-24 16:20:14 +0400, , dump save register task already infected otherwise task start handle signal register changed signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7613,0cda60e3347e8f5ebe184b7cdcd00328dc45aa58,ndrey Vagin <avagin@openvz.org>, 2013-05-24 16:20:13 +0400, , dump update task register signal started handling try execute parasite code signal started handling need update task register saved core file signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7614,9b656a47d0d8a68b9e46320a7ab70e10174ed218,ndrey Vagin <avagin@openvz.org>, 2013-05-24 16:20:11 +0400, , dump dumping signal task stopped currently always stopped changed parasite executed daemon signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7615,294d62dd3787e4e7c96b1f9d2687e98c8ee116b4,ndrey Vagin <avagin@openvz.org>, 2013-05-24 16:20:10 +0400, , parasite allocate stack thread used executed parasite daemon previously stack preallocated parasite blob bootstrap procedure calculated value needed rsp patch applied provide every thread stack find many thread present calculate summary size stack ask dumpee provide memory area needed run parasite code pas summary size needed everything parasite code asked run calculate rsp needed taking account thread number offset setup proper rsp via ptrace call instead calculating bootstrap parasite code signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7616,b21dd2bc0f87ae3a18d77c845896ce1bd64a03d4,ndrey Vagin <avagin@openvz.org>, 2013-05-24 16:20:09 +0400, , parasite save thread register restore thread register immediately command execute parasite impossible signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7617,3f48f35bfdf317b1a03847240581e2bef0cfa6bf,ndrey Vagin <avagin@openvz.org>, 2013-05-24 16:20:08 +0400, , parasite use transparent thread index three array thread related data item thread parasite_ctl thread tid_state parasite patch thread index array zero index used thread leader case need search thread_state parasite signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7618,0772e47511e1dc1fd94ba76c34beaea65f8c887d,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-24 16:20:04 +0400, , pstree bind coreentry pstree fill register early parasite daemon mode implemented get deprived ability fetch register late moment dumping thus bind coreentry pstree item allocate coreentry every thread found process tree seized state immediately fill coreentry register use prctl opcode fetch complete set register including fpu state convert protobuf format zombie task remains untouched allocate coreentry right moment dumping becuase need register written disk way get_task_regs longer need parasite_ctl argument zapped still parasite_ctl copy general register set need cpu native format unlike one kept coreentry signed cyrill gorcunov gorcunov openvz.org signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7619,22396f769061abf0a356fa8070e94ac317562d95,ndrey Vagin <avagin@openvz.org>, 2013-05-24 16:20:19 +0400, , restore construct sigframe crtools patch sigframes constructed restorer going construct sigframes parasite parasite restorer thing posible signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7620,45233b5ec97e6cf85b3a701186973db8d36570ae,ndrey Vagin <avagin@openvz.org>, 2013-05-24 16:20:17 +0400, , restore add function constructing sigframe signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7621,478bd99bc1a81587e5549a716e8d1240e522d662,ndrey Vagin <avagin@openvz.org>, 2013-05-24 16:20:18 +0400, , restore split restore_gpregs two part first one fill sigframe second one restores another register signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7622,5978380beff332249b570b1ec65843ce82856c45,ndrey Vagin <avagin@openvz.org>, 2013-05-24 16:20:16 +0400, , restore use concrete object constructing sigframe struct contains many pointer different object really required signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7623,3ac0ad8379416ab44325814ca8aae7484a58a2b7,ndrey Vagin <avagin@openvz.org>, 2013-05-24 16:20:07 +0400, , lock add wait futex value equal signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7624,001be2ab9c6acc1a247916311fe64391c3cfadec,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-24 16:40:49 +0400, , vdso need fetch pfn marked vdso area met signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7625,e7c64ae13c29e2a1c56f70777b218f3ab273dc14,yrill Gorcunov <gorcunov@gmail.com>, 2013-05-24 16:39:41 +0400, , vdso add vdso_put_mark helper instead opencoded mark injection provide helper easier grepability xemul ahead remove init_vdso_mark signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7626,d2b415ca7041f34462d6ba585772c8710a5f7ccf,avel Emelyanov <xemul@parallels.com>, 2013-05-24 13:34:01 +0400, , vdso cleanup vdso_proxify routine signed pavel emelyanov xemul parallels.com,,
7627,20b39341cab82458cf81c1459e2d45bc6935197a,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-24 01:42:19 +0400, , proc mark mishinted vdso vdso mark procfs output reliable since know prot escape obvious mishints signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7628,0ae67a7743ec006548c2d88800787e9d5bc7568e,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-24 01:42:18 +0400, , vdso escape double dumping vdso proxy present case created vdso proxy vdso dumped created next restore anyway thus help parasite service routine find vdso tear vmas list signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7629,528106a5dcd53499df68177db0dce2b126c981ed,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-24 01:42:17 +0400, , vdso mark runtime vdso proxy needed case need vdso proxy need recognize somehow checkpoint action vdso recognized kernel vdso mark appear procfs output thus put mark signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7630,bc66eb535c97b03ca0c65763cab86f39d69b674a,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-24 01:42:16 +0400, , vdso fetch page frame number init need parasite code detect run time vdso area signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7631,f2674431340295c37e38223fc896be26b3e5f70a,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-24 01:42:15 +0400, , vdso implement vdso proxy restore task restored may meet two situation vdso image match runtime vdso provided kernel case need patch dumpee vdso redirecting call runtime vdso thus dumpee vdso become proxy vdso image doe match runtime vdso case simply remap runtime vdso address dumpee vdso life plain remapping quite important allows save vdso pfn used parasite code later note patch restored task may two vdso memory proper dumping situation addressed future patch signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7632,b051c66fb666e771ec4d27ecf07c538d1857a02c,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-24 01:42:14 +0400, , vdso remap runtime vdso copy safe place runtime vdso need kept safe place self vmas unmapped reserve space restorer blob area remap quite important remap rather data copy otherwise pfn vdso disappear future able detect vdso dumping stage signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7633,e44b3dbe8482e00cd4786575566483638a57f0f0,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-24 01:42:13 +0400, , vdso initialize vdso data startup criu startup need fill symbol table run time vdso provided kernel need data vdso proxy function used restorer code move pie since pie code must remain small possible signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7634,61cc86ddd25042af754a7681dc6ff0337018c135,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-24 01:42:12 +0400, , vdso introduce vdso pie engine quite minimal moment provides two helper patch vdso area redirectling call new place parse vma area vdso library fill symbol table offset name routine needed regular criu code restorer code compile pie format signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7635,9208108c9fdfa24430c87608a41dc1d94d983acd,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-24 01:42:11 +0400, , make define program object deps separate variable need extend support vdso pie code used pie code plain executable code know ugly must invent elegant way need solution moment able compile existing code signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7636,5dbab1a7117fbf05e11aa11755142d84a28f8427,ladimir Davydov <vdavydov@parallels.com>, 2013-05-24 13:04:52 +0400, , zdtm check one shot posix timer patch zdtm check periodic timer also one shot one set one shot timer expire long interval int_max test check remaining value checkpoint restore following relationship must hold initial_value remaining_value time_passed signed vladimir davydov vdavydov parallels.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7637,fc07b9ae0ee7b2a82278bda8f04f76a04fb8ac02,ndrey Vagin <avagin@openvz.org>, 2013-05-23 19:06:01 +0400, , zdtm.sh save archive dump file archive saved unsuccessful case signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7638,97ee174a99c1784b635fa73ee12316ddcce02bce,ndrey Vagin <avagin@openvz.org>, 2013-05-23 17:05:44 +0400, , zdtm.sh use tmpfs dump file optional going used jenkins time bash test zdtm.sh static maps04 real 0m40.220s user 0m0.096s sys 0m12.822s time bash test zdtm.sh static maps04 real 0m9.904s user 0m0.074s sys 0m1.630s signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7639,c9c9fe479e89562181a161c0e4b0121fe49d5ed7,ndrey Vagin <avagin@openvz.org>, 2013-05-23 20:27:58 +0400, , zdtm fix sigpending check blocked signal mask bug hide memcmp newset oldset sizeof newset return mask equal sigprocmask return sigset_t contains extra bit future need initialize bit otherwise contain random data signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7640,a21cdb843767cc21a1b371105883c735784c8793,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-23 16:41:42 +0400, , asm add builtin_memcpy builtin_memcmp generic helper need pie code soon signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7641,17f6c36305273e4d1f20ad165c917afc3c6a963e,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-23 16:41:41 +0400, , asm move builtin_memcpy helper asm string.h couple builtin helper needed pie code soon thus unify approach rename asm memcpy_64.h asm string.h introduce include asm generic string.h file helper implemented optimized variant yet provided signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7642,54b32cb1fd9501d4a23317adc90dc4747d10fd51,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-23 13:34:52 +0400, , x86 implement prlimit proxy rhel6 shipped libc 2.12 prlimit helper provided pushed libc since 2.13 implement proxy convenience note libc doe support prlimit simply use proxy call directly signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7643,a5fcc8b021ede2c2616adadd210dc09ba4e6610e,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-23 13:34:51 +0400, , x86 syscall add sys_prlimit64 call need prlimit proxy call signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7644,fc7c13ded015f4bd85ad9f2005c1dd29b9858ab6,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-23 13:34:50 +0400, , make config add test prlimit call signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7645,88b13cffbe202bf5e0ce5fc5ed91b689de79970c,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-22 23:09:38 +0400, , mem add pme_ bit page frame retrieval signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7646,58cb8b2769eebf526b7425ad6abd00f482955000,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-22 23:09:37 +0400, , pagemap move pme_ constant header constant system wide move mem.h header reuse sake xemul kerndat.h patch signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7647,52509a20c7aa70366994c9607b36866bc619b059,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-22 23:09:39 +0400, , mem beautify mem.h signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7648,0bca28672224e1b751e7c7b093d18e90e8a40fd6,ndrey Vagin <avagin@openvz.org>, 2013-05-21 19:06:03 +0400, , ipc_ns allocate enough memrory buffer 22653 syscall param read buf point unaddressable byte 22653 0x50480b0 __read_nocancel usr lib64 libpthread 2.17.so 22653 0x40cf7c mem.c 244 22653 0x41681d cr_dump_tasks dump.c 1533 22653 0x40448c main crtools.c 309 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7649,084a630dfdb28a72a85de8119dc52f7ff0d044d7,ndrey Vagin <avagin@openvz.org>, 2013-05-21 19:05:38 +0400, , zdtm use current stack preccesses created clone signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7650,9a726d4f9e38ab14d8cf6dd7ebf8a61dcff122fd,avel Tikhomirov <snorcht@gmail.com>, 2013-05-21 19:05:15 +0400, , page server add daemonize call return check ubuntu compile check signed pavel tikhomirov snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
7651,653053b40c01469adba0dff5d1b2ace648f39dd7,ndrey Vagin <avagin@openvz.org>, 2013-05-21 14:37:53 +0400, , proc use vma flag determing vmas map_growsdown kernel show vma flag set map_growsdown stack vmas reliable e.g thread stack mapped without map_growsdown signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7652,84e84cbb65c220bbd2cd48702ab2c46745ad9ec9,ndrey Vagin <avagin@openvz.org>, 2013-05-21 14:37:52 +0400, , proc add vma_area list parsing parameter size vma changed parsing flag example need add guard page vma map_growsdown signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7653,11b525f30e752a2227f0ddc1d844374015f88ab8,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-21 13:09:37 +0400, , zdtm update proc self test link must read restore original file descriptor since namespace change session http show_bug.cgi 2599 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7654,b2846be8c37ac6cf0f8377366faf2bd8b4800edc,ndrey Vagin <avagin@openvz.org>, 2013-05-20 19:11:19 +0400, , page server introduce daemon long option signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7655,66cc9b6657d9758cfdf4bb37139c902d8c6186da,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-20 16:02:14 +0400, , make introduce compile time include config.h generation reported system ubuntu 13.04 already struct tcp_repair_opt definition system header tcp.c error redefinition struct tcp_repair_opt tcp.c error redeclaration enumerator tcp_no_queue add facility compile time testing reported entity present system generate include config.h tested entry lay source code need include place really needed reported vasily averin vvs parallels.com acked kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7656,234dce785fe9484bfdc3fef61021982d2f6b4e6d,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-20 16:02:07 +0400, , make add script utilities.mak feature need tested system project compiled instead drowning autoconf hell let try handle make facility signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7657,4f1d2a1005c6b8daff3e9e4965597c6487c4a1e2,ndrey Vagin <avagin@openvz.org>, 2013-05-20 15:00:40 +0400, , page server allow execute page server background page server creates listen socket background sure page server ready work detaching call daemon proper place reuse option signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7658,e8e1cae2f9e445001b207410b6bfb10115f5b107,avel Emelyanov <xemul@parallels.com>, 2013-05-18 04:02:18 +0400, , zdtm wire proc self test signed pavel emelyanov xemul parallels.com,,
7659,650164e037a7f7ad3ce01eb5a38a46704b54f42b,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-20 13:30:23 +0400, , test zdtm add proc self test open proc self net check remains restore signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7660,ec50a07727cfd13c7f08635be10f95ae962dcc9c,avel Emelyanov <xemul@parallels.com>, 2013-05-18 04:00:05 +0400, , add proc pid reference based work done cyrill corcunov many thanks commit implement file opened proc pid entry idea rather simple one checkpoint  check file name one known ref match write protobuf entry restore  read entry image criu try open one lookup process tree figure pid used path open signed pavel emelyanov xemul parallels.com,,
7661,a49325b5243331b5b97726b07e5c854f559e471a,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-20 13:30:21 +0400, , protobuf prepare scaffold procfs entry xemul rename pb.cflag pb.ns_cflag signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7662,30936058a081401bf77e88c14183a2ba3d18f8c0,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-20 13:30:17 +0400, , extend ns_desc carry length name needed fast parsing procfs reference xemul add user_ns_desc signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7663,4531f0ac7d6d3a0dcbf75bda28dcb2d51c1e543b,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-20 13:30:16 +0400, , file add ability use read link able dump procfs namespace entry need analyze link name first figure file referred indeed procfs entry plain regular file mean read link early escape double reading link read remember fd_parms structure pas still solely used inside dump_one_file number place fifo special file fd_parms filled partially fill_fd_params even called thus must ready scenario read link name caller provided one achieve extend fd_parms structure reference new fd_link structure thus caller already read link name might assign reference call tune fill copy fd_link structure caller provied one xemul added const fill_fdlink arg signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7664,19ce784db562ea18b7806759df03f9f111117630,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-20 13:30:15 +0400, , dump add missing fd_parms_init assignment struct fd_parms reused two call forget initialize call signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7665,4c3fe87258500394bcc61dfa40376577338d5283,avel Emelyanov <xemul@parallels.com>, 2013-05-17 18:45:29 +0400, , ipcs fix mqueue sysctls directory name stupid misprint signed pavel emelyanov xemul parallels.com,,
7666,21c1e71b197ffe735b835f60558bd651174195b3,avel Emelyanov <xemul@parallels.com>, 2013-05-17 17:40:06 +0400, , ipc mqueue syscls missing kernel sits config option try read write case different state src dst kernel open question signed pavel emelyanov xemul parallels.com,,
7667,61c6360c1dd0873a250a0024be719ae34d5d3ad6,avel Emelyanov <xemul@parallels.com>, 2013-05-17 16:13:49 +0400, , mem update soft dirty detection work tree soft dirty api changed slightly bit question _is_ pagemap file pagemap2 see reset soft dirty anyone first teach kerndat soft dirty checker fact actual pagemap reading code already know select pagemap pagemap2 file signed pavel emelyanov xemul parallels.com,,
7668,1412904e7dc19c675db26e62f2633b6f115daf53,ndrey Vagin <avagin@openvz.org>, 2013-05-17 13:59:14 +0400, , zdtm.sh add option clean successful case signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7669,3a93bee98ccce8f1fee642b789449558d49f79ac,ndrey Vagin <avagin@openvz.org>, 2013-05-17 13:59:13 +0400, , zdtm.sh add ability exclude test signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7670,635005b1c14445cbd71f3faa150cef19aaa0c5f6,ndrey Vagin <avagin@openvz.org>, 2013-05-17 13:59:12 +0400, , zdtm.sh add description option option used testing page server signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7671,bd9b052b3ff028994f227e8c369cf17846929376,ibo Chen <clbchenlibo.chen@huawei.com>, 2013-05-17 15:06:36 +0400, , image potential leak err case without patch freeed changelog free crt.ids signed libo chen libo.chen huawei.com signed pavel emelyanov xemul parallels.com,,
7672,112d7d770ecbcfd6ee852e0fd9a8fa61fca26ae9,ibo Chen <libo.chen@huawei.com>, 2013-05-16 21:00:44 +0800, , crshow fix potential leak pb_read_one_eof faild close signed libo chen libo.chen huawei.com signed pavel emelyanov xemul parallels.com,,
7673,ad6db8332b1ee9c6077db703c5572f96dbdd0ad4,ibo Chen <libo.chen@huawei.com>, 2013-05-16 21:00:43 +0800, , mountns potential leak readlinkat call readlinkat call faild close pdf signed libo chen libo.chen huawei.com signed pavel emelyanov xemul parallels.com,,
7674,7071d52088c3c498e2590a2cad938c007ca9237a,ibo Chen <libo.chen@huawei.com>, 2013-05-16 21:00:42 +0800, , filelock fix potential memleak is_blocked seted free file_lock signed libo chen libo.chen huawei.com signed pavel emelyanov xemul parallels.com,,
7675,37b586f0553c2c7989071529331edbe6fdd21c9d,ibo Chen <libo.chen@huawei.com>, 2013-05-16 21:00:40 +0800, , use newline pr_perror signed libo chen libo.chen huawei.com signed pavel emelyanov xemul parallels.com,,
7676,df79e097ad8ce9f14753318f9ccb3b8cd6240f73,avel Emelyanov <xemul@parallels.com>, 2013-05-16 17:04:31 +0400, , page server clos last loc xfer connection close currsntly affect nothing xfer close called signed pavel emelyanov xemul parallels.com,,
7677,9c14120dd876482858a44be3fd47dc639db88060,avel Emelyanov <xemul@parallels.com>, 2013-05-16 16:30:58 +0400, , page server introduce open protocol command empty pagemap page server receives one create image file intoroduce open command say page server xfer image prepare http show_bug.cgi 2584 signed pavel emelyanov xemul parallels.com,,
7678,ad4bfe397251752f3e81d7466fe864c06067c9af,avel Emelyanov <xemul@parallels.com>, 2013-05-16 16:21:07 +0400, , page server fix dst_id encoding first bit enough type shmem pagemap bit plus encode trimmed bit http show_bug.cgi 2584 signed pavel emelyanov xemul parallels.com,,
7679,f4e36cc5d098f19c3c94d7a5c36831497330330f,avel Emelyanov <xemul@parallels.com>, 2013-05-16 16:20:17 +0400, , shmem print shmem dump decimal signed pavel emelyanov xemul parallels.com,,
7680,96d6fc3dc234ca0af836fdea735471ab49eb8d29,ir Kolyshkin <kir@openvz.org>, 2013-05-16 08:34:49 +0400, , test remove criu restore since commit 43ce038 required restore plus warning printed used let remove criu restore test case signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7681,bfe77ea725ec71c36d09eee43f43cc92ce021e37,avel Emelyanov <xemul@parallels.com>, 2013-05-16 00:38:26 +0400, , mem add comment signed pavel emelyanov xemul parallels.com,,
7682,1c9a91a723b7334454ae7c76877f7070857c177f,avel Emelyanov <xemul@parallels.com>, 2013-05-15 17:51:31 +0400, , merge branch fetch,,
7683,39ec482c1589d37b298c247b8c59a2f8ee317efc,avel Emelyanov <xemul@parallels.com>, 2013-05-15 17:50:57 +0400, , fix permission several file check.c reason got bit o_o signed pavel emelyanov xemul parallels.com,,
7684,92519123562601fc730a82884926f3eb6b683041,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-08 17:28:28 +0400, , x86 syscalls add sys_sendto sys_recvfrom helper needed parasite code signed cyrill gorcunov gorcunov openvz.org signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7685,12820d9bf6f6e9eb62831865482ec55d4fcf80d1,avel Emelyanov <xemul@parallels.com>, 2013-05-15 15:57:40 +0400, , stats account mem write time mem dump time regular dump signed pavel emelyanov xemul parallels.com,,
7686,37c137092b8e31274e7395b0eb7d1a83feef361a,avel Emelyanov <xemul@parallels.com>, 2013-05-15 15:46:07 +0400, , mem stats add stats memory dumping pages_scanned amount page criu looked decision amount page skipped due present parent image pages_writted amount page criu transfered image signed pavel emelyanov xemul parallels.com,,
7687,abd618410787cd9591dc65d3ec2fde29c34b6269,avel Emelyanov <xemul@parallels.com>, 2013-05-15 15:37:42 +0400, , fix eol detection pretty parser signed pavel emelyanov xemul parallels.com,,
7688,94722c2e3516c122b1abbebdaae74f739be0451e,avel Emelyanov <xemul@parallels.com>, 2013-05-15 14:42:51 +0400, , help add message unknown command signed pavel emelyanov xemul parallels.com,,
7689,b7639611f73e0bf16a4151530122ffd6399f44df,avel Emelyanov <xemul@parallels.com>, 2013-05-15 14:42:08 +0400, , help add page server line synopsis signed pavel emelyanov xemul parallels.com,,
7690,605f31d704d1a3806f5273d4db9413fd7ba61cf2,avel Emelyanov <xemul@parallels.com>, 2013-05-15 14:41:43 +0400, , help move page server option help text signed pavel emelyanov xemul parallels.com,,
7691,ef5ef1078c483c6d02ec23c269b04813cbe7a3f4,ir Kolyshkin <kir@openvz.org>, 2013-05-14 13:49:48 -0700, , criu help add pre dump synopsys signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7692,321de4498665609c5b736d551de01c7807371520,ir Kolyshkin <kir@openvz.org>, 2013-05-14 13:49:47 -0700, , criu help fix description used dump restore i.e read write image file depending command let put read write neutral description signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7693,f0cbd3e193811d9dde9057e03487e88a5d1197bb,ir Kolyshkin <kir@openvz.org>, 2013-05-14 13:49:46 -0700, , criu help pid used restore command couple fix related fact addition commit 43ce038 signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7694,2785c8bbd2e1a5ef5467f5aa14a2742a9edca086,ir Kolyshkin <kir@openvz.org>, 2013-05-14 13:49:45 -0700, , criu help add page server command synopsys signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7695,b13494b9fcc5c1122e788db9d7d6b56418095a0f,ir Kolyshkin <kir@openvz.org>, 2013-05-14 13:49:44 -0700, , criu help use argv print help one call patch replaces using argv criu literal using argv bad relative path criu say symlink pointing criu reformats source print basic help test justone call pr_msg commit 6ea0e00 extended help reason way easier edits signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7696,c459e417f3f02e933d6b1073ac4611e036d1c07e,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-15 00:37:44 +0400, , beautify namespaces.h need modify header anything else let beautify drop struct pstree_item declaration already pstree.h move struct cr_options top align member struct ns_desc move extern top add argument name signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7697,eaea8f252a0542ab389bff236a045a8f8031c109,onstantin Khlebnikov <khlebnikov@openvz.org>, 2013-05-15 00:28:44 +0400, , zdtm maps02 fix detecting vmflags absence psbm 19883 signed konstantin khlebnikov khlebnikov openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7698,8e72d9688138e050c1fd5f3c2d52be89d6498651,avel Emelyanov <xemul@parallels.com>, 2013-05-14 14:40:52 +0400, , show use pretty wildcard pstree itimers show signed pavel emelyanov xemul parallels.com,,
7699,37c361178a7063d2c191a30eb3f46ac46967932a,avel Emelyanov <xemul@parallels.com>, 2013-05-14 14:40:17 +0400, , show make wildcard pretty fmt describes format everyone else pretty signed pavel emelyanov xemul parallels.com,,
7700,2f223fdcf1a712ed119bd06c32b7b07aca612034,avel Emelyanov <xemul@parallels.com>, 2013-05-14 14:36:32 +0400, , show clean fdinfo pstree pretty fmt use field format signed pavel emelyanov xemul parallels.com,,
7701,c35c0372043de2eb90b394bdd534346d3f5467cc,avel Emelyanov <xemul@parallels.com>, 2013-05-14 14:30:10 +0400, , enhance protobuf pretty format parsing clean code add support field name format string pretty signed pavel emelyanov xemul parallels.com,,
7702,d71d17c9836679e7dde78d1814703c65a665d70a,avel Emelyanov <xemul@parallels.com>, 2013-05-14 12:11:51 +0400, , help document memory snapshotting option seem look signed pavel emelyanov xemul parallels.com,,
7703,e490d7778f70e3add42b09ff40bbf1f62ed3e4e8,avel Emelyanov <xemul@parallels.com>, 2013-05-14 12:03:18 +0400, , test add two test pre dump action first similar existing snapshot test call several pre dump memory changing zdtm test dump check restore second test aimed measuring frozen time take zdtm test big mapping dump one start test call one pre dump plus dump sum frozen time 2nd dump well pre dump dump much smaller one 1st dump signed pavel emelyanov xemul parallels.com,,
7704,a533820b7e9aebd6c5ad46a15cae179d1ca2624f,avel Emelyanov <xemul@parallels.com>, 2013-05-14 12:00:40 +0400, , dump introduce pre dump action action criu seize task grab memory page pipe rest dirty tracker release writing memory page pipe would occur task unfreezed thus frozen time become reasonably small pre dump action dirty tracking forcedly turned well task resumed afterwards killed default prerequisite iterative migration signed pavel emelyanov xemul parallels.com,,
7705,094330c33b1cf23b9dad9c05dbeadc988fd74ec4,avel Emelyanov <xemul@parallels.com>, 2013-05-14 11:52:45 +0400, , stats add writing memory image timing dumping memory draining parasite pre dump time would reasonably small _writing_ memory would occur _after_ task unseize resume signed pavel emelyanov xemul parallels.com,,
7706,1b544845378246bfdc1ce2e61bcb07de7a12c518,avel Emelyanov <xemul@parallels.com>, 2013-05-14 11:48:51 +0400, , parasite split parasite cure routine local remote part pre dump need cure target task keep parasite_ctl local args mapping memory image write signed pavel emelyanov xemul parallels.com,,
7707,6161208a1cb57299708f61d4836c506365c1b7e6,avel Emelyanov <xemul@parallels.com>, 2013-05-14 11:46:21 +0400, , test rename mem snap run.sh run snap.sh test memory snapshot signed pavel emelyanov xemul parallels.com,,
7708,b556f01be30f2e103b05e3039e11c8f64ba4e6a0,avel Emelyanov <xemul@parallels.com>, 2013-05-14 11:44:36 +0400, , dump collect pstree separately pstree item pre dump need need item thus make two call separate signed pavel emelyanov xemul parallels.com,,
7709,d416e6a1357f78f6050bbbfa11777411c8f1876c,avel Emelyanov <xemul@parallels.com>, 2013-05-08 15:52:48 +0400, , mem snap redefine cli option mem snapshot documented thus two option one specify parent image one reset dirty memory tracking signed pavel emelyanov xemul parallels.com,,
7710,d9c3b91cf163e9f0a4c80964fb34c443977c1fc6,avel Emelyanov <xemul@parallels.com>, 2013-05-14 11:02:18 +0400, , mem place mprotect dump_pages args one parasite args area required soon pre dump command command keep parasite args pagemap iovecs time parasite executed since call mprotect cmd _after_ page dump thus spoil iovecs address vmas mprotect iovecs dump located one parasite args area one another without intersection signed pavel emelyanov xemul parallels.com,,
7711,eb41d26d4a1c4a431f25d76708c066a64b24b4ca,avel Emelyanov <xemul@parallels.com>, 2013-05-13 23:05:37 +0400, , page rename parasite args args nr_segs signed pavel emelyanov xemul parallels.com,,
7712,c15d4ee66a142520e156533000a942aa6b6f3264,avel Emelyanov <xemul@parallels.com>, 2013-05-08 16:24:38 +0400, , dump cleanup argument declaration signed pavel emelyanov xemul parallels.com,,
7713,d7e547dfb7f4990d46274472e7aaedd94c77d2db,avel Emelyanov <xemul@parallels.com>, 2013-05-08 16:00:53 +0400, , remove opts argument cr_dump_tasks option collected global variable need stack signed pavel emelyanov xemul parallels.com,,
7714,1e1812842333e89018e15df45c71d95ae5762caf,avel Emelyanov <xemul@parallels.com>, 2013-05-09 22:21:08 +0400, , stats dump time statistic basic timing dump freeze frozen mem dump signed pavel emelyanov xemul parallels.com,,
7715,b20e7f8db9d3b8349bea2fd7b7f00ebab92c2374,avel Emelyanov <xemul@parallels.com>, 2013-05-09 22:40:43 +0400, , allow nested message pretty specification perfect depth taken account field number signed pavel emelyanov xemul parallels.com,,
7716,bd1d6186be2d8e01c5bb69679b70b7cca3e89949,avel Emelyanov <xemul@parallels.com>, 2013-05-09 22:16:56 +0400, , stats write dump stats dump finished signed pavel emelyanov xemul parallels.com,,
7717,d770f4ef239342c45f38785bd14d51a699a024fa,avel Emelyanov <xemul@parallels.com>, 2013-05-08 17:23:56 +0400, , stats protobuf file introduction introduction one image file generated dump surprisingly restore command stats one contain single object statistic collected dump restore signed pavel emelyanov xemul parallels.com,,
7718,e75148dc0338183c79e599606e31d09a026cd89e,avel Emelyanov <xemul@parallels.com>, 2013-05-09 22:11:38 +0400, , util move user per sec constant util.h header signed pavel emelyanov xemul parallels.com,,
7719,3e8b82d367c252ef14fff39435e54f3e22bda64c,ir Kolyshkin <kir@openvz.org>, 2013-05-09 10:58:04 -0700, , change crtools criu comment signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7720,c19e62f87cc19eafda2f9ae93b6d0b74d892cd39,ir Kolyshkin <kir@openvz.org>, 2013-05-09 10:58:03 -0700, , change crtools criu criu message signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7721,00ab805b748f25ec878d12d196e36e5e59077308,ir Kolyshkin <kir@openvz.org>, 2013-05-09 10:58:02 -0700, , restore.c fix typo comment signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7722,644ed099b4b0f94aa0798f84aa8764dabcf6c775,ir Kolyshkin <kir@openvz.org>, 2013-05-09 10:58:01 -0700, , readme crtools criu rename signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7723,0bc01e798c49469f22abc3b121fbe974b5d7a66d,ir Kolyshkin <kir@openvz.org>, 2013-05-09 10:58:00 -0700, , documentation makefile fix clean target ... commit 1e1bf24 signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7724,55c8f3cc7fd9e8b978e4809ebcb2987c2ce3ed35,avel Emelyanov <xemul@parallels.com>, 2013-05-08 14:23:22 +0400, , crtools sanitize action argv parsing signed pavel emelyanov xemul parallels.com,,
7725,6e5c568a5e497d364d9fc0ca36b6a43b5c35ac41,avel Tikhomirov <snorcht@gmail.com>, 2013-05-06 23:12:00 +0400, , timer use correct value dumping usecs signed pavel tikhomirov snorcht gmail.com signed pavel emelyanov xemul parallels.com,,
7726,43ce038e6e4029e2bd049aa70ad572a92604b3a1,ir Kolyshkin <kir@openvz.org>, 2013-05-08 13:41:42 +0400, , criu dump require warn used fix help text well signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7727,cd8915202e2410e75b9f9c3eca670fc4745492e2,avel Emelyanov <xemul@parallels.com>, 2013-05-08 00:44:39 +0400, , pagemap make show_pagemap use pb_show engine signed pavel emelyanov xemul parallels.com,,
7728,add21b75c98665f4bd4b951d5c33811e7ca3fa40,avel Emelyanov <xemul@parallels.com>, 2013-05-08 00:23:42 +0400, , show remove option args show callback thing global address one explicitly signed pavel emelyanov xemul parallels.com,,
7729,cd537beda58252564baf56b3475dae1fbf652cbb,avel Emelyanov <xemul@parallels.com>, 2013-05-08 00:00:24 +0400, , show get rid flag argument payload handler guess one addirional obfuscating argument showing engine signed pavel emelyanov xemul parallels.com,,
7730,1d56fe2bf4e2e16f90150f734ae0755c85e10236,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-07 19:01:25 +0400, , file reg use read_fd_link helper signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7731,9cdb9102fa1983dec9c2cddb9b80f84f08bfad07,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-07 19:01:24 +0400, , util make read_fd_link return length link read signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7732,e2e4fb12184fe1c21be60f8b34653ecd450ccf6a,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-07 19:01:23 +0400, , file use fd_parms_init dump_one_file consistency sake signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7733,1ead3d79f7c749403794df87e65a8d0e78a6e599,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-07 19:01:22 +0400, , util check overflow read_fd_link signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7734,a94512dc13e43d38460cfd8275d331d509e395cf,lexander Kartashov <alekskartashov@parallels.com>, 2013-05-07 22:41:02 +0400, , arm reset cpsr.t bit executing infected code infected code must executed arm mode dumpee may run thumb mode dumped bit cpsr.t may set control transfered infected blob code executed thumb mode clear bit cpsr.t transfering control infected code prevent behavior described signed alexander kartashov alekskartashov parallels.com reported chanho park chanho61.park samsusng.com signed pavel emelyanov xemul parallels.com,,
7735,01c9ec61849130a52cb8fd8872ea13551480b4c2,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-06 19:12:34 +0400, , tty try restore group inherited terminal session leader present case migrating session leader task solely slave peer try restore group terminal rather simply inherit session group inherited terminal session leader thus kernel refuse set different group signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7736,87411d6dfe56800d44708fa24694f4be1e12a803,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-07 12:09:45 +0400, , test app emu job fix comparison wait restore complete signal since migrating session leader test session changed instead signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7737,19de6865c4c5ea1f11faa9f3ed82a7f232880cf5,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-06 19:12:32 +0400, , tty use separate tty_info inherit member track ttys borrowed parent easier debugging former sid pgid remains untouched printed log signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7738,9c5817391d926dfb772ec7114caa38aefcdd9510,hanho Park <chanho61.park@samsung.com>, 2013-05-04 22:07:59 +0400, , arm use instead getfpregs enabled config_vfp use instead getfpregs arm hardware since armv6 use vfp need runtime checking vfp parse proc cpu_info use technique signed chanho park chanho61.park samsung.com signed myungjoo ham myungjoo.ham samsung.com signed pavel emelyanov xemul parallels.com,,
7739,076ad01e4ccbfd0b0b9dcd0f5b0a75c1f8c3fb9e,ibo Chen <clbchenlibo.chen@huawei.com>, 2013-05-04 22:03:08 +0400, , kerndat munmap stat call fail avoid memleak err case signed libo chen libo.chen huawei.com signed pavel emelyanov xemul parallels.com,,
7740,befe5ad155cea21752f9b2ab9c8c258096984d51,ir Kolyshkin <kir@openvz.org>, 2013-05-03 01:56:31 +0400, , make help document dist target signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7741,e516aa01229530b7de278040bcd1b9c944d1d8a2,ir Kolyshkin <kir@openvz.org>, 2013-05-03 01:56:30 +0400, , makefiles add install target note package maintainer yes support destdir packaging script use something like make install destdir rpm_build_root prefix usr add prefix install usr local usr default fix criu man section signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7742,ab4338576c9c2e6578fb30e8a5011a7e8b2085dc,ibo Chen <clbchenlibo.chen@huawei.com>, 2013-05-02 15:02:36 +0800, , check potential leak without patch ifd leak fail signed libo chen libo.chen huawei.com signed pavel emelyanov xemul parallels.com,,
7743,61d852e75ce30d8f1ce0cc1d09a4f8eb111c0311,ibo Chen <clbchenlibo.chen@huawei.com>, 2013-05-02 15:02:33 +0800, , check potential leak without patch leak epoll_create fail signed libo chen libo.chen huawei.com signed pavel emelyanov xemul parallels.com,,
7744,8f6d82288c80a14ccd121dbfe1017e3f81a07ced,ir Kolyshkin <kir@openvz.org>, 2013-05-02 02:48:14 -0700, , criu help reformat description let save line output put vvv line also argument fact option mark num signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7745,02bcb974a141b9184cbf367f56db0d31d703b676,ir Kolyshkin <kir@openvz.org>, 2013-05-02 02:48:13 -0700, , criu help fit column stand help output exceeds column hardly readable let try fit apparently many case removing extra info guess belongs documentation wiki help output short reference reason patch also remove information environmental variable set external script documentation doe belong  please review carefully make sure thrown baby bathwater signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7746,dd49705b4eff3333c9b49553fc58cae65e299a11,ir Kolyshkin <kir@openvz.org>, 2013-05-02 02:48:12 -0700, , criu help minor cleanup written file written file relative path relative path relative restored process written file.pid file log restored process written separate file.pid file signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7747,ce3f7e48eece33da23b7dc191cadc6f7fcb72c2c,ir Kolyshkin <kir@openvz.org>, 2013-05-02 02:48:11 -0700, , crtools help add option check syntax alternatively could add option since option let add one signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7748,eeb5d9701c2751cfca01b60753744e462a839e2c,ir Kolyshkin <kir@openvz.org>, 2013-05-02 02:48:10 -0700, , criu help consistent argument notation either arg arg arg used denote option argument let consistent use arg everywhere alternative could arg strongly arg since square bracket traditionally denote something optional argument file name use file name src option require argument add argument list includes tree image dir twice file maybe missed something else hopefully signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7749,e553cff844193e9f5b46d6e514d2ded15be72e3c,ir Kolyshkin <kir@openvz.org>, 2013-05-02 02:48:09 -0700, , criu help use tab line using tab personally favor style let consistent either using tab changing tab space produced smaller patch let way patch produce visual change output signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7750,6ea0e0022215847f1e5abd4cf7f6ac251d22cf91,ir Kolyshkin <kir@openvz.org>, 2013-05-02 02:48:08 -0700, , criu help print extended help one call patch reformats source print extended help using one pr_msg command way easier edits checked criu help output make sure  signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7751,abe3c594de3a36026498a7f93eb066896034eb3f,ir Kolyshkin <kir@openvz.org>, 2013-05-02 22:48:07 +0400, , fix name ... quite place signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7752,921dbf23de44cd1960f6c095704cb5413608484a,yrill Gorcunov <gorcunov@openvz.org>, 2013-05-02 22:44:24 +0400, , use newline pr_perror signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7753,4eac6c9e6ef1e58b6396629a0118fee652b567c6,ir Kolyshkin <kir@openvz.org>, 2013-05-01 20:21:59 -0700, , criu fix english example pid 1234 pid 1234 remove one type run signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7754,2ebe1db650c226a17eb27801a6d0cca4e486224a,ir Kolyshkin <kir@openvz.org>, 2013-05-01 20:21:58 -0700, , criu remove synopsys either list option synopsys none signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7755,d33a01482f5daf40a86010ebee397a7d2893574a,ir Kolyshkin <kir@openvz.org>, 2013-05-01 20:21:57 -0700, , criu use list argument also option argument signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7756,229b86a72c84091531fb41c3601980bfa4080b5d,ir Kolyshkin <kir@openvz.org>, 2013-05-01 20:21:56 -0700, , criu manual page formal document chitchat use contracted form appropriate signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7757,77c3705a497bfd849630fa6315ee73cc046d7a21,ir Kolyshkin <kir@openvz.org>, 2013-05-01 20:21:55 -0700, , criu fix typo allpies applies signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7758,ec413ac4e0b60919db5eb958c4e0e1369de21d66,ir Kolyshkin <kir@openvz.org>, 2013-05-01 20:21:54 -0700, , criu typesetting fix literal bold variable italic signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7759,6dc760b6140e3dabcfe93788105f4c1eb81395fc,ir Kolyshkin <kir@openvz.org>, 2013-05-01 20:21:53 -0700, , criu use bold option separate comma use bold option name separate long short option comma space signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7760,c4f60cea88949c73601014372a916e8181d77940,ir Kolyshkin <kir@openvz.org>, 2013-05-01 20:21:52 -0700, , criu move command option reformat move command option subsection use bulleted list definition list option better also follwong following signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7761,091883513eba043c519d9b3ffd083c833c36ffea,ir Kolyshkin <kir@openvz.org>, 2013-05-01 20:21:51 -0700, , criu fix typesetting actually complicated literal verbal text command option name use bold substitution variable parameter name use italic use angle bracket example file signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7762,1e1bf240e6bc2c00272e73d0cb8bdf30b87c2eaf,ir Kolyshkin <kir@openvz.org>, 2013-05-01 20:21:50 -0700, , criu moved criu command root section manual appropriate signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7763,455e1f782e260057e18670a3a28ca26530edbcd3,ir Kolyshkin <kir@openvz.org>, 2013-05-01 20:21:49 -0700, , criu change copyright section name year copyright copying happy new year signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7764,cfdea52536502d33488f684624c705c6f4223815,ir Kolyshkin <kir@openvz.org>, 2013-05-01 20:21:48 -0700, , criu man page title uppercase common practice signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7765,7e43957602587826210de0bc1e4972a0108c8ab7,ir Kolyshkin <kir@openvz.org>, 2013-05-01 20:21:47 -0700, , documentation rename crtools criu signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7766,525da872b28b68b73dd86a907eaa65429de5957a,ir Kolyshkin <kir@openvz.org>, 2013-05-01 20:17:10 -0700, , makefile mark gcov target phony signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7767,fda4562049f985a20ad853e8e29f58d4a5e34fe9,ir Kolyshkin <kir@openvz.org>, 2013-05-01 20:17:09 -0700, , makefile pas target green save byte signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7768,15c3e884fa7498b5d328845997e7df8ed3972183,ir Kolyshkin <kir@openvz.org>, 2013-05-01 20:17:08 -0700, , makefile fix whitespace first argument silent make rule enabled use special format inform going like action file maintain specific whitespace around action different one aligned nicely fix two place aligned rest signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7769,c7f22b8dafc32f45a5dd5889f8708e07d06ca5b2,ir Kolyshkin <kir@openvz.org>, 2013-05-01 20:17:06 -0700, , make help rename crtools criu signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7770,fa291ae858fdba290b32df6f59edc6aede8906a8,ir Kolyshkin <kir@openvz.org>, 2013-05-01 20:17:05 -0700, , makefile use help used silent make inform going printing actual command executed nothing case verbose make i.e make make help want output text regardless whether silent make enabled signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7771,d32db874620b3624d677adcce1bdaf511af3bd67,ir Kolyshkin <kir@openvz.org>, 2013-04-30 13:25:08 -0700, , doc makefile mark clean target phony signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7772,04158bda8f6ede032c5afc13343854f4da29e201,ir Kolyshkin <kir@openvz.org>, 2013-04-30 13:25:07 -0700, , doc makefile build makefile.build man developer documentation doubt user crui interested let build default still built manually make documentation signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7773,b94047e42f1be50531bed317e60a68127c1dcf9d,ir Kolyshkin <kir@openvz.org>, 2013-04-30 13:25:06 -0700, , makefile add tar dist target ... using git archive command line pavel signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7774,9fec380c71df97a456dba7c9b748f4ffdfd9c277,avel Emelyanov <xemul@parallels.com>, 2013-04-30 20:50:03 +0400, , criu version 0.5 release lot bug fix release many new people started playing criu reported lot issue several new feature first netlink socket required fedora container dump pending signal next changed format memory dump allowed implement called page server allows send memory dump directly another box intermediate dump file also new format made possible implement yet final snapshot option demonstrates work user memory change tracker kernel signed pavel emelyanov xemul parallels.com,,
7775,354f82c3f55a4ebb97c6e99254f37ae2f1ba8933,ir Kolyshkin <kir@openvz.org>, 2013-04-30 20:17:55 +0400, , crtools rename binary criu tool context binary name make sense every binary tool lstool dftool plus one tool let rename beast criu short pretty unique coincides name project backward compatible symlink added sake test fix later remove link packagers beware binary longer crtools criu signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7776,3ab9ce3d7f3ff1aeb9a5152b5aea377f7d5636ae,yrill Gorcunov <gorcunov@openvz.org>, 2013-04-30 20:08:57 +0400, , doc tab space use tab doc signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7777,60178ffd13332d864066f87d2a816a3ff3dc690a,yrill Gorcunov <gorcunov@openvz.org>, 2013-04-30 20:08:56 +0400, , doc add option description signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7778,bec67720cc56241d361a6e067c6789e1aabdad03,yrill Gorcunov <gorcunov@openvz.org>, 2013-04-30 20:08:55 +0400, , doc add page server parameter explanation signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7779,5f4759202d4d5558036e454c6ff4510d2c631325,avel Emelyanov <xemul@parallels.com>, 2013-04-30 18:39:07 +0400, , tcp stand absense tcp_timestamp sockoption merged require one signed pavel emelyanov xemul parallels.com,,
7780,bdf570c9a1eee43892ecaccbe17ab2edb5a568c5,avel Emelyanov <xemul@parallels.com>, 2013-04-30 18:33:46 +0400, , file dump file whose path start proc file one particular fake file open screw path dump  signed pavel emelyanov xemul parallels.com,,
7781,dfaa4542c4af33722cd2aca965bad3b5719d384d,lexander Kartashov <alekskartashov@parallels.com>, 2013-04-30 06:05:28 +0000, , page xfer fixed format string use specifier instead print unsinged long integer signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7782,4d4543f66ea230fc73838a0f44e571b10152f462,lexander Kartashov <alekskartashov@parallels.com>, 2013-04-30 06:05:27 +0000, , page read fixed format string use format specifier prix64 instead print off_t integer signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7783,cb9094d8101ffcc897fa209a791f8d8c6176625f,lexander Kartashov <alekskartashov@parallels.com>, 2013-04-30 06:05:26 +0000, , page pipe fixed format string use format specifier instead print size_t integer signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7784,15b64d12ca57f0c5f44708dd23ab2e95b3e8d024,ndrey Vagin <avagin@openvz.org>, 2013-04-29 18:40:39 +0400, , restore use correct object core restoring fpu tcore per thread core used signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7785,4c36be84af0d8e42aaf7463034e0650c5e5d8504,ndrey Vagin <avagin@openvz.org>, 2013-04-29 17:54:25 +0400, , restore change type blk_sigset k_rtsigset_t pie restorer.c function pie restorer.c 262 error incompatible type assigning type k_rtsigset_tâ type u64â rt_sigframe_uc sigframe .uc_sigmask args blk_sigset  signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7786,83d4ceb89afe6ae91ad1d68cfd96877900210aac,ndrey Vagin <avagin@openvz.org>, 2013-04-24 20:09:20 +0400, , zdtm check signal blocking mask static sigpending signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7787,ae729638efe20783c93a7f25c9dd7479cd26fa40,ndrey Vagin <avagin@openvz.org>, 2013-04-24 20:09:19 +0400, , restore fix restoring signal blocking mask arm rt_sigframe_uc sigframe .uc_sigmask.sig args blk_sigset blk_sigset u64 uc_sigmask.sig type ulong part mask restore patch reworks restoring blocking mask symmetrically dumping mask signed andrey vagin avagin openvz.org tested alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7788,a724acf57115ea8f425d596ddc20acfd1f05fdcd,ndrey Vagin <avagin@openvz.org>, 2013-04-29 16:32:24 +0400, , restore handle error setting credential handle error setxids securebits manipulation handle error restoring cred finishing sigchild handler already restored moment current process killed error case signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7789,495c8007bcf24cbec542bc715901ca10e9c0d3fa,ndrew Vagin <avagin@openvz.org>, 2013-04-24 10:46:22 +0400, , zdtm execite test case test user signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7790,42d861bb488d9f1f70ea41d61d99036737a7e70f,ndrey Vagin <avagin@openvz.org>, 2013-04-24 10:46:21 +0400, , zdtm check bset caps00 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7791,803321abf6ae5f4a5bd0848e29f99cf6346a32f5,ndrey Vagin <avagin@openvz.org>, 2013-04-24 10:46:20 +0400, , socket ext provide access socket test user signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7792,69ca9aff1ec9d332696940ea25efd5373ed31d7c,ibo Chen <clbchenlibo.chen@huawei.com>, 2013-04-29 16:11:32 +0400, , check fix pipe leak fix fdinfo leak signed libo chen libo.chen huawei.com signed pavel emelyanov xemul parallels.com,,
7793,9c88d0cdd8ea2256be16a851e9021776e114afd4,asily Averin <vvs@parallels.com>, 2013-04-29 16:10:50 +0400, , proc_parse double fclose parse_fdinfo crtools check crash ubuntu 12.10 00.011275 error proc_parse.c 1049 record type found fdinfo file 00.011281 error proc_parse.c 1052 parse_fdinfo error parsing flag operation permitted glibc detected home vvs devel criu crtools crtools double free corruption top signed vasily averin vvs parallels.com diff double fclose parse_fdinfo signed pavel emelyanov xemul parallels.com,,
7794,e3101c8eab99527f662d0a20180d03d74163ad08,ibo Chen <clbchenlibo.chen@huawei.com>, 2013-04-29 16:09:04 +0400, , netlink fix overflow break running crtools check buffer overflow detected crtools terminated backtrace lib x86_64 linux gnu libc.so.6 __fortify_fail 0x5c 0x7fdaacb3e82c lib x86_64 linux gnu libc.so.6 0x109700 0x7fdaacb3d700 crtools 0x423d00 crtools 0x41d021 crtools 0x41d259 crtools 0x41e4b6 crtools 0x418f03 crtools 0x404988 lib x86_64 linux gnu libc.so.6 0xed 0x7fdaaca5576d crtools 0x404ad9 memory map 00400000 00463000 00000000 189158 home clb crtools crtools 00662000 00663000 00062000 189158 home clb crtools crtools 00663000 00671000 00063000 189158 home clb crtools crtools 00671000 00677000 00000000 01801000 01822000 00000000 heap 7fdaac81e000 7fdaac833000 00000000 410533 lib x86_64 linux gnu libgcc_s.so.1 7fdaac833000 7fdaaca32000 00015000 410533 lib x86_64 linux gnu libgcc_s.so.1 7fdaaca32000 7fdaaca33000 00014000 410533 lib x86_64 linux gnu libgcc_s.so.1 7fdaaca33000 7fdaaca34000 00015000 410533 lib x86_64 linux gnu libgcc_s.so.1 7fdaaca34000 7fdaacbe9000 00000000 393459 lib x86_64 linux gnu libc 2.15.so 7fdaacbe9000 7fdaacde8000 001b5000 393459 lib x86_64 linux gnu libc 2.15.so 7fdaacde8000 7fdaacdec000 001b4000 393459 lib x86_64 linux gnu libc 2.15.so 7fdaacdec000 7fdaacdee000 001b8000 393459 lib x86_64 linux gnu libc 2.15.so 7fdaacdee000 7fdaacdf3000 00000000 7fdaacdf3000 7fdaace03000 00000000 937695 usr local lib libprotobuf c.so.0.0.0 7fdaace03000 7fdaad002000 00010000 937695 usr local lib libprotobuf c.so.0.0.0 7fdaad002000 7fdaad003000 0000f000 937695 usr local lib libprotobuf c.so.0.0.0 7fdaad003000 7fdaad004000 00010000 937695 usr local lib libprotobuf c.so.0.0.0 7fdaad004000 7fdaad01c000 00000000 393528 lib x86_64 linux gnu libpthread 2.15.so 7fdaad01c000 7fdaad21b000 00018000 393528 lib x86_64 linux gnu libpthread 2.15.so 7fdaad21b000 7fdaad21c000 00017000 393528 lib x86_64 linux gnu libpthread 2.15.so 7fdaad21c000 7fdaad21d000 00018000 393528 lib x86_64 linux gnu libpthread 2.15.so 7fdaad21d000 7fdaad221000 00000000 7fdaad221000 7fdaad243000 00000000 393441 lib x86_64 linux gnu 2.15.so 7fdaad437000 7fdaad43b000 00000000 7fdaad440000 7fdaad443000 00000000 7fdaad443000 7fdaad444000 00022000 393441 lib x86_64 linux gnu 2.15.so 7fdaad444000 7fdaad446000 00023000 393441 lib x86_64 linux gnu 2.15.so 7fff9eb3c000 7fff9eb5d000 00000000 stack 7fff9ebcf000 7fff9ebd1000 00000000 vdso 00000000 vsyscall find overflow phase memcpy group group gsize reason gsize byte group xmalloc sizeof gsize exact byte signed libo chen libo.chen huawei.com signed qiang huang h.huangqiang huawei.com acked andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7795,2cd78c5de7e7693ed39d53ce8083903f2f0ec4f7,ir Kolyshkin <kir@openvz.org>, 2013-04-23 15:12:46 -0700, , makefile remove print directory comment makeflags assignment see commit 25e8cb5 talk possibly flag nothing print directory let remove last option confuse reader print directory flag build build crtools shorthand redundant script makefile.build already remove cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7796,4e1be049f53a342835bb0b2d5acbb2b0c41cb938,ir Kolyshkin <kir@openvz.org>, 2013-04-23 15:12:45 -0700, , makefile remove unused var use tag awk echo anywhere code least according git grep let remove cyrill gorcunov gorcunov openvz.org signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7797,97802b0d5589d91526d2dd07166f0b02be7f9fbd,ir Kolyshkin <kir@openvz.org>, 2013-04-23 15:12:44 -0700, , makefile.inc restore reverts part commit a519e0c broke man page build kir kirpad documentation make gen crtools.1 bin gen command found make crtools.1 error 127 let reintroduce separate makefile.inc  stanislav kinsbursky skinsbursky openvz.org cyrill gorcunov gorcunov openvz.org pavel emelyanov xemul parallels.com signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7798,6cc5de60edabe0c05c8c2cb73e23a7634bdd1c8c,ibo Chen <clbchenlibo.chen@huawei.com>, 2013-04-29 16:04:07 +0400, , session03 change page_size 4096 update patch check introduce option commit find error box wall werror iquote lib arch x86 include lib session03.c lib libzdtmtst.a session03 session03.c 112 error variably modified stackâ file scope reason define page_size conflict define page_size sysconf _sc_pagesize defined sys user.h think seted 4096 session02.c patch appropriate please let know signed libo chen libo.chen huawei.com signed qiang huang h.huangqiang huawei.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7799,379abca968850d0fb66f42115178b040b3a1f5bb,avel Emelyanov <xemul@parallels.com>, 2013-04-23 23:38:47 +0400, , check introduce option option skip checking feature known absent mainstream kernel signed pavel emelyanov xemul parallels.com,,
7800,8201e0808154b3c2c431c458b0c71f63e5c115e4,avel Emelyanov <xemul@parallels.com>, 2013-04-23 23:25:13 +0400, , check warn diag absense always know exactly missing signed pavel emelyanov xemul parallels.com,,
7801,a3872dbeadafe4f9f77528e7da293c5968ec32bb,avel Emelyanov <xemul@parallels.com>, 2013-04-23 23:22:25 +0400, , mem treat proc pid pagemap2 file optional appear earlier 3.10 signed pavel emelyanov xemul parallels.com,,
7802,d4e1df3a0349900851acdd8221fb983975356346,ndrey Vagin <avagin@openvz.org>, 2013-04-23 20:55:20 +0400, , ptrace call many time according commit message kernel git new trap flag added set cleared trap happens currently race window beetwen ptrace_cont process stop flag set http show_bug.cgi 2569 signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7803,66c21e22cc3fb0896f3769d1cc70ee864e7cd70e,ndrew Vagin <avagin@openvz.org>, 2013-04-19 16:01:58 +0400, , zdtm add new test case generate random process tree signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7804,6bdc149642e5500a5900df53d08ed80534d2521c,yrill Gorcunov <gorcunov@openvz.org>, 2013-04-19 16:01:16 +0400, , revert make generate tag cscope tool test reverts commit andrew requested need symbol generated possible source crtools code signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7805,a34057c1925ec421eae1d7c52f02674209208372,ndrey Vagin <avagin@openvz.org>, 2013-04-19 15:58:50 +0400, , restore add synchronisation point restoring credential security reason process resumed credential restored otherwise someone attach process restored credential yet execute code http show_bug.cgi 2561 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7806,1abb8782a8bfc5753724d33bb253276a17180a1f,avel Emelyanov <xemul@parallels.com>, 2013-04-18 17:34:47 +0400, , page server implement hole writing pagemap add new protocol command call local_xfer write_hole server side also tune mem snap test test memory xfer via page server signed pavel emelyanov xemul parallels.com,,
7807,c2c8d81d48d6b83e6eb7fde927c0192a439966ac,avel Emelyanov <xemul@parallels.com>, 2013-04-18 16:30:41 +0400, , remove snapshot help text complete change significantly better show oficially signed pavel emelyanov xemul parallels.com,,
7808,e48347e09569e02ac296b1e4532c0bcf494866ed,avel Emelyanov <xemul@parallels.com>, 2013-04-18 16:29:56 +0400, , show show nr_pages pagemap decimal signed pavel emelyanov xemul parallels.com,,
7809,ae99f53928f91847986dbe90f2665f17cbd019f1,ndrey Vagin <avagin@openvz.org>, 2013-04-16 21:58:29 +0400,3, page xfer close socket errror path cid 996195 resource leak resource_leak 10. leaked_handle handle variable ask going scope leak handle cid 996196 resource leak resource_leak 10. leaked_handle handle variable going scope leak handle signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7810,5a61a50939913c4148a7eba4b76489ad975afd82,yrill Gorcunov <gorcunov@openvz.org>, 2013-04-16 21:52:15 +0400, , shmem add missing newline pr_info signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7811,9f9ed0c69e1b3e79c3067abb7124fba9f2ff915e,ibo Chen <libo.chen@huawei.com>, 2013-04-16 21:51:27 +0400, , kerndat fix compile err update commit find compile err kerndat.c function kerndat.c error ignoring return value read declared attribute werror unused result cc1 warning treated error make kerndat.o error make built in.o error make leaving directory home clb crtools make error signed libo chen libo.chen huawei.com signed pavel emelyanov xemul parallels.com,,
7812,f34d63bfb1253f204c0a04ffcb413fcad1a628ea,avel Emelyanov <xemul@parallels.com>, 2013-04-16 14:47:10 +0400, , comment file_desc_ops signed pavel emelyanov xemul parallels.com,,
7813,8f5b093c5b5ba6415a9f38d4e0823f857713ece0,avel Emelyanov <xemul@parallels.com>, 2013-04-16 14:42:01 +0400, , mem snap add comment mem_snap_ctx object signed pavel emelyanov xemul parallels.com,,
7814,febdd8a2bf37e409325b546c3d59a984a6c3e82e,avel Emelyanov <xemul@parallels.com>, 2013-04-16 14:36:05 +0400, , page read factor pagemapentry iovec conversion signed pavel emelyanov xemul parallels.com,,
7815,68bfaeb852542222e7cfc39233fd7e034bc90462,avel Emelyanov <xemul@parallels.com>, 2013-04-16 12:17:15 +0400, , test rise verbosity mem snap test dump signed pavel emelyanov xemul parallels.com,,
7816,7f146f133709ebf06d5138ce733b557cc53039f9,avel Emelyanov <xemul@parallels.com>, 2013-04-16 12:16:56 +0400, , poage xfer cleanup xfer logging signed pavel emelyanov xemul parallels.com,,
7817,485cbda19584619efad85ddd3bb51752c33ddb5a,avel Emelyanov <xemul@parallels.com>, 2013-04-16 12:10:39 +0400, , page xfer sanitize opening page xfer make explicitly splitted sub path signed pavel emelyanov xemul parallels.com,,
7818,8f9dd8f76c3beaf7f104af502ba1e51a4ee549a0,avel Emelyanov <xemul@parallels.com>, 2013-04-16 12:09:16 +0400, , page server make static signed pavel emelyanov xemul parallels.com,,
7819,37c37416ac2280201f69b4992d2766fc1d04373b,avel Emelyanov <xemul@parallels.com>, 2013-04-16 12:02:39 +0400, , page server use new page xfer api write page locally page server provide one big pipe page thus patch wrote page image small piece page xfer api accepts pagemaps page separately use thie api signed pavel emelyanov xemul parallels.com,,
7820,1e78c91d20a1f9e174593e7b404348c520b2fc32,avel Emelyanov <xemul@parallels.com>, 2013-04-16 11:59:19 +0400, , page xfer fix page writing api split two part writing pagemap writing page required page server part sinc provide one big pipe page thus need feed page portion signed pavel emelyanov xemul parallels.com,,
7821,dcba149125a995cd3452d70f9f4f8a37fc3b12bb,avel Emelyanov <xemul@parallels.com>, 2013-04-16 11:43:55 +0400, , crtools put short option near long option signed pavel emelyanov xemul parallels.com,,
7822,571967ca023894b69e00ab088d5d30288c66b7fe,avel Emelyanov <xemul@parallels.com>, 2013-04-16 11:40:56 +0400, , crtools tune help test signed pavel emelyanov xemul parallels.com,,
7823,dbbb9ec38f57e66753e447d233c28e81c48325d8,avel Emelyanov <xemul@parallels.com>, 2013-04-16 11:34:53 +0400, , mem comment page read page xfer page pipe three quite complex thing write general comment  signed pavel emelyanov xemul parallels.com,,
7824,78b8abe9a53884686d4f70d1376f85108cbfc857,avel Emelyanov <xemul@parallels.com>, 2013-04-15 14:50:09 +0400, , test add test memory snapshot two args optional number snap defail pause defail memory toucher zdtm signed pavel emelyanov xemul parallels.com,,
7825,199dba2361d423d293d62f16883194c3a825cb1c,avel Emelyanov <xemul@parallels.com>, 2013-04-15 13:24:32 +0400, , soft dirty check kernel report soft dirty bit signed pavel emelyanov xemul parallels.com,,
7826,5b343b40eb24308f6bb0ffd417c19f0407b763ce,avel Emelyanov <xemul@parallels.com>, 2013-04-15 13:02:09 +0400, , kerndat introduce storage kernel run time info one thing use right device anon shmem mapping backing furure extended check various kernel feature signed pavel emelyanov xemul parallels.com,,
7827,41c7ca8218a51c108ea6157018b29108ae658a5e,ir Kolyshkin <kir@openvz.org>, 2013-04-12 13:00:06 -0700, , fix typo comment useful fixing typo output message anyway signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7828,d90d4b1b888b91b5fc00bfee3b0b1ecd7121bfb8,ir Kolyshkin <kir@openvz.org>, 2013-04-12 13:00:05 -0700, , fix typo log message someone right signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7829,4eb723db9814c6774af2cc0908d44b8d2e19b14a,ir Kolyshkin <kir@openvz.org>, 2013-04-12 13:00:04 -0700, , fix typo message test suite signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
7830,ea438d3f86937e9dbc7002fc5996f2a0cbc7e1b2,yrill Gorcunov <gorcunov@openvz.org>, 2013-04-12 02:17:00 +0400,5, proc parse rework error path error path explicitly close procfile cid 996191 resource leak resource_leak 22. leaked_storage variable going scope leak storage point signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7831,67e91d65a1f4d2b8f435c2f650b8bcb49b9b4b1b,yrill Gorcunov <gorcunov@openvz.org>, 2013-04-12 02:16:59 +0400,1, shmem use close_safe call close degative consistency simply use close_safe fds touched initialized either valid value pretty good handled close_safe helper cid 996212 argument negative 10. passed parameter negative signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7832,ab0eb45d8ab96c52f10265d5d600d0d82f870ffa,yrill Gorcunov <gorcunov@openvz.org>, 2013-04-12 02:16:58 +0400,1, log log_init check dup return code pas negative descriptor cid 996213 improper use negative value new_logfd passed parameter negative signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7833,ea5b03cefad3a9a2188581424d428ae05a49fa63,avel Emelyanov <xemul@parallels.com>, 2013-04-11 17:51:40 +0400, , zdtm test manual testing guy touch random page per second back touched end check whether everything ok. used test snapshot work take several snapshot several second pause betweem restore form last signed pavel emelyanov xemul parallels.com,,
7834,af03e7d564ec6c61783bd4895a1ab6b7b6bf8aa8,avel Emelyanov <xemul@parallels.com>, 2013-04-11 17:51:25 +0400, , page pipe print full layout page pipe log debug loglevel signed pavel emelyanov xemul parallels.com,,
7835,3307bfd8f1f836bb91211234bc7469c0be32576d,avel Emelyanov <xemul@parallels.com>, 2013-04-11 17:51:11 +0400, , restore restore memory stack snapshot one little bit tricky dump restore open chain pagemap parent link every pagemap in_parent set parent ask page parent turn properly determine respective page pagemap position page.img position respectively signed pavel emelyanov xemul parallels.com,,
7836,433c46625eaeff7af34acebdbf41baa8317baf34,avel Emelyanov <xemul@parallels.com>, 2013-04-11 17:50:57 +0400, , dump snapshot memory quite simple get parent pagemap dumping memory collect _full_ pagemap task putting hole page pipe page soft dirty clear parent map end reset task soft dirty bit requires kernel support http 98283 signed pavel emelyanov xemul parallels.com,,
7837,60fc6abfd7f944f5514f1fe2367d6a2b4b86b8ee,avel Emelyanov <xemul@parallels.com>, 2013-04-11 17:50:42 +0400, , preparation snapshot directory image may parent symlink pointing place previous snapshot pagemap in_parent bit mean page pagemap entry respective page.img parent new leave running option use snapshot kill task snapshot signed pavel emelyanov xemul parallels.com,,
7838,757f9c570f988a53c3d5a29e2494611476488d43,avel Emelyanov <xemul@parallels.com>, 2013-04-11 17:50:26 +0400, , page read new abstraction restoring page form storing page legacy pages.img new pagemap page image one ovz pagemap page stacked snapshot restore thus handy page reader object signed pavel emelyanov xemul parallels.com,,
7839,eb5a378855846f6d6786b72b3b720336206b63a9,avel Emelyanov <xemul@parallels.com>, 2013-04-11 17:50:11 +0400, , page xfer write hole non hole sorted way pagemap.img contains sorted iovs need keep array also sorted even hole simpler read restore separate write_hole callback since dump hole non hole differ significantly signed pavel emelyanov xemul parallels.com,,
7840,e5e537954c0a8b2c5aff8c7c8aa5c92a916ecc70,avel Emelyanov <xemul@parallels.com>, 2013-04-11 17:49:56 +0400, , page pipe support hole page pipe iov map hole region page i.e page pipe hole separate iovs array since straight array iovs non hole turd required push vmsplice _one_ chunk signed pavel emelyanov xemul parallels.com,,
7841,6ff0edadcd3d22c6ae90565bd8b148778310fb49,avel Emelyanov <xemul@parallels.com>, 2013-04-11 17:49:43 +0400, , img open image functionality signed pavel emelyanov xemul parallels.com,,
7842,82ac1ae325d9a097c60e45d86497c281f7d57b2a,ndrey Vagin <avagin@openvz.org>, 2013-04-06 02:15:42 +0400, , zdtm add fanotify00 default list signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7843,13a8e60bca20d79027b0b706a69828e5cf51b3eb,ndrey Vagin <avagin@openvz.org>, 2013-04-06 02:15:41 +0400, , dump collect mount point target namespace information mount point used dumping fanotify signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7844,18dee445f583a40df1b1278d9e19582a03a1d287,avel Emelyanov <xemul@parallels.com>, 2013-04-11 21:39:50 +0400, , tcp restore cred turning tcp repair mode tcp repair manipulation require calling task thus task restore run non root user tcp socket repair fail restoration abort fix moving cred restore tcp restore finish signed pavel emelyanov xemul parallels.com,,
7845,2ab06c9c5a5b580040147bbe42f5c422fa9fed7f,avel Emelyanov <xemul@parallels.com>, 2013-04-11 21:10:37 +0400, , tcp schedule tcp socket repair proper open callback temporary file restoring engine open one since add future repair fail working wrong move scheduling repair port open corrent known signed pavel emelyanov xemul parallels.com,,
7846,4498dffce330c1d07b2ccafa73807c771addd3e8,lexander Kartashov <alekskartashov@parallels.com>, 2013-04-04 16:28:53 +0000, , zdtm.sh fixed shared library retrieval pipe retrieving shared library test depends ldd test_path ps_path awk print actually produce output test fail bacause system linker fails locate shared library test program depends patch fix pipe retrieve list library properly signed alexander kartashov alekskartashov parallels.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7847,91b48d1297017bd240e91ac08764219813fc1649,lexander Kartashov <alekskartashov@parallels.com>, 2013-04-04 16:28:52 +0000, , dump.c fixed format string warning arm use pri format specifier convert integer known size string signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7848,3c3a249e2987898a6dd2eb91e00e65cda31ca4d4,yrill Gorcunov <gorcunov@openvz.org>, 2013-04-11 19:58:40 +0400, , test zdtm fix fanotify00 test mnt_id change remount exclude compare reported andrew vagin avagin parallels.com signed cyrill gorcunov gorcunov openvz.org tested andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7849,d3975e4454f03d1e6f20d54047cc9c4da51277ee,ndrey Vagin <avagin@openvz.org>, 2013-04-11 19:57:46 +0400,1, parasite fix error path parasite_init call restore_ns error path use close_safe socket reused cid 996194 resource leak resource_leak leaked_handle handle variable rst going scope leak handle signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7850,64d039dc29484d6b5b78baf0e697568978e90390,avel Emelyanov <xemul@parallels.com>, 2013-04-11 19:50:08 +0400, , tcp print error reported sys_setsockopt use pr_perror direct syscall calling errno initialized pie even exists signed pavel emelyanov xemul parallels.com,,
7851,84a0cabbd51848ccf0510a5e78ca454ae3d0e9db,avel Emelyanov <xemul@parallels.com>, 2013-04-11 19:40:34 +0400, , log simple fix one printing number simplify code time signed pavel emelyanov xemul parallels.com,,
7852,babc9c617c0f8e91cd9136ee9b98c0f96b696360,avel Emelyanov <xemul@parallels.com>, 2013-04-11 19:36:06 +0400, , tcp print message scheduling socket repair pie signed pavel emelyanov xemul parallels.com,,
7853,6948c4199c7111c021417e0cd3aa209f202ac9e4,avel Emelyanov <xemul@parallels.com>, 2013-04-11 18:56:11 +0400, , file print unsupported file mode format constatns octal header signed pavel emelyanov xemul parallels.com,,
7854,6a54f17411994495a0c541751d301d394e10956b,ndrey Vagin <avagin@openvz.org>, 2013-04-11 15:31:25 +0400, , zdtm create loop bind mount patch crtools test bound crtools test dump crtools.xxxxxxx main reason make clean deletes content crtools test always test bind mount test bind mount test executed execute test sometimes make clean deletes content sometimes patch fix problem actually patch fix significan problem shared mount defult fc19 mount bind crtools test crtools test dump crtools.xxxxxxx recursively copy previous bind mount e.g crtools test make dev mapper lv_root root crtools test dump crtools root.b86wva ext4 relatime data ordered dev mapper lv_root root crtools test dump crtools root.dmoezv ext4 relatime data ordered dev mapper lv_root root crtools test dump crtools root.b86wva dump crtools root.dmoezv ext4 relatime data ordered dev mapper lv_root root crtools test dump crtools root.olnvtw ext4 relatime data ordered dev mapper lv_root root crtools test dump crtools root.dmoezv dump crtools root.olnvtw ext4 relatime data ordered dev mapper lv_root root crtools test dump crtools root.b86wva dump crtools root.dmoezv dump crtools root.olnvtw ext4 relatime data ordered dev mapper lv_root root crtools test dump crtools root.b86wva dump crtools root.olnvtw ext4 relatime data ordered dev mapper lv_root root crtools test dump crtools root.7zqrds ext4 relatime data ordered dev mapper lv_root root crtools test dump crtools root.olnvtw dump crtools root.7zqrds ext4 relatime data ordered dev mapper lv_root root crtools test dump crtools root.dmoezv dump crtools root.olnvtw dump crtools root.7zqrds ext4 relatime data ordered dev mapper lv_root root crtools test dump crtools root.b86wva dump crtools root.dmoezv dump crtools root.olnvtw dump crtools root.7zqrds ext4 relatime data ordered dev mapper lv_root root crtools test dump crtools root.b86wva dump crtools root.olnvtw dump crtools root.7zqrds ext4 relatime data ordered dev mapper lv_root root crtools test dump crtools root.dmoezv dump crtools root.7zqrds ext4 relatime data ordered dev mapper lv_root root crtools test dump crtools root.b86wva dump crtools root.dmoezv dump crtools root.7zqrds ext4 relatime data ordered dev mapper lv_root root crtools test dump crtools root.b86wva dump crtools root.7zqrds ext4 relatime data ordered make generates mount signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7855,6a49f82fb6ccbf48ce482f05490173b6e7df39ee,ndrey Vagin <avagin@openvz.org>, 2013-04-10 01:26:59 +0400,1, mount free part mnt entry mnt_entry contains string release cid 996198 resource leak resource_leak 20. leaked_storage variable going scope leak storage point cid 996190 resource leak resource_leak 13. leaked_storage variable new going scope leak storage point signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7856,edc865361e20fb0e2c6f7016d083fdcb1b2d355b,ndrey Vagin <avagin@openvz.org>, 2013-04-10 01:24:08 +0400, , zdtm print error message exit exec failed signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7857,4dac517b00c47b2ad7532f009b8cb931b9b0143f,yrill Gorcunov <gorcunov@openvz.org>, 2013-04-05 15:56:18 +0400, , util read_fd_link drop redundant pr_perror message pr_perror add fix typo signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7858,41b2b29edc4d5c4b9611bd054dc308d8ca1adc2e,yrill Gorcunov <gorcunov@openvz.org>, 2013-04-05 16:06:09 +0400, , file print resource hex format usually print resource hex format fix place confuses otherwise signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7859,7d6337550518c4ba89ee639adf1ca053d73cc61f,ndrey Vagin <avagin@openvz.org>, 2013-04-10 00:56:29 +0400,1, packet fix memory leak cid 996188 resource leak resource_leak 13. leaked_storage variable going scope leak storage point signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7860,17e2daddf2a8fe1bc45c49e95329cad226eec69d,ndrey Vagin <avagin@openvz.org>, 2013-04-10 00:56:20 +0400,1, tcp fix memory leak cid 996187 resource leak resource_leak 10. leaked_storage variable buf going scope leak storage point signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7861,7c02f65b98a82903bb761aa78dc453049d764c85,yrill Gorcunov <gorcunov@openvz.org>, 2013-04-10 00:55:24 +0400, , check drop pr_perror signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7862,5cae819d8c52bfbba6e5708e227a1e83e47d90f9,avel Emelyanov <xemul@parallels.com>, 2013-04-09 11:13:51 +0400, , img get rid open_image_ro helper o_rstr flag used instead regular open_image signed pavel emelyanov xemul parallels.com,,
7863,ba0ed60368a3e092dccbea394e4df05eb9449ea3,avel Emelyanov <xemul@parallels.com>, 2013-04-08 20:11:46 +0400, , dump reshuffle argument dump_task_mm need vpid soon switch using ctl instead signed pavel emelyanov xemul parallels.com,,
7864,2f7a7bbd8d05b3eff2393d4b776d17180c1f91cc,avel Emelyanov <xemul@parallels.com>, 2013-04-08 17:59:29 +0400, , mem use ctl vpid one argument save space stack signed pavel emelyanov xemul parallels.com,,
7865,fb9b0f500a0c6cab0cc71586e7f5f70a4e618579,avel Emelyanov <xemul@parallels.com>, 2013-04-08 17:56:48 +0400, , parasite use struct pid parasite_ctl signed pavel emelyanov xemul parallels.com,,
7866,69db54d8d66ed112cb7f0ace5d8208b73e940b2b,avel Emelyanov <xemul@parallels.com>, 2013-04-08 17:52:32 +0400, , parasite fix regs restore message pid work pid ctl pid place signed pavel emelyanov xemul parallels.com,,
7867,64249d5a8a23f60e23f42a845f46906ce37cf5df,avel Emelyanov <xemul@parallels.com>, 2013-04-08 17:39:21 +0400, , mem move memory dump routine parasite syscall.c mem.c going lot code signed pavel emelyanov xemul parallels.com,,
7868,e44f10a6b48933fefc46a60ed1180203399137c2,avel Emelyanov <xemul@parallels.com>, 2013-04-08 17:33:56 +0400, , parasite externalize parasite executing fns signed pavel emelyanov xemul parallels.com,,
7869,4edabd3d4f1708965072c896ec07f1b8f9d6500d,avel Emelyanov <xemul@parallels.com>, 2013-04-08 17:28:30 +0400, , mem export signed pavel emelyanov xemul parallels.com,,
7870,f6303de7cafa994f1718829c30c92786bac16d25,yrill Gorcunov <gorcunov@openvz.org>, 2013-04-05 08:23:17 +0400, , sysctl forget close fds case openat open call returned forget close routine exit use close_safe macro big deal since descriptor get closed program finish execution still cid 996183 resource leak signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7871,a520b1b8cd709973b0edad7c94100c5b1d60ee04,ndrey Vagin <avagin@openvz.org>, 2013-04-05 01:44:35 +0400,3, namespaces close source netns restore_ns opened switch_ns cid 996194 resource leak resource_leak 11. leaked_handle handle variable rst going scope leak handle signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7872,055b937226ab74b13e4e0c2d9fc6cf6c981a302d,ndrey Vagin <avagin@openvz.org>, 2013-04-05 01:44:34 +0400,1, page pipe fix memory leak error path cid 996197 resource leak resource_leak leaked_storage variable ppb going scope leak storage point signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7873,c518d47ad3cf937f289a82d06d023719eb5710be,ndrey Vagin <avagin@openvz.org>, 2013-04-05 01:44:33 +0400,1, file reg forget close case error cid 996201 resource leak resource_leak leaked_handle handle variable going scope leak handle cid 996202 resource leak resource_leak leaked_handle handle variable going scope leak handle signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7874,510b0dacb4766fc956332cd56e6888fd9cac69bf,ndrey Vagin <avagin@openvz.org>, 2013-04-05 01:44:32 +0400,1, restore fix error handling memory leak read_vma cid 996203 resource leak resource_leak 15. leaked_storage variable vma going scope leak storage point signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7875,c9c1ec7b44e1418ee907ae1afd9516f425a3b24f,ndrey Vagin <avagin@openvz.org>, 2013-04-05 01:44:31 +0400,1, dump fix memory leak cid 996204 resource leak resource_leak 11. leaked_storage variable going scope leak storage point signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7876,50e94780f4cd1c99596e90bbbde64afa3c87e391,ndrey Vagin <avagin@openvz.org>, 2013-04-05 01:44:30 +0400, , dump core_entry_free free core cid 996205 resource leak resource_leak 14. leaked_storage variable core going scope leak storage point signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7877,30a7de35137f3eca31670a64b4c92c256050e7ff,ndrey Vagin <avagin@openvz.org>, 2013-04-05 01:44:29 +0400, , dump move core_entry_free closer signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7878,5d244ca1bdea70c831c63e6bc739ccca8bb623f2,ndrey Vagin <avagin@openvz.org>, 2013-04-05 01:44:28 +0400,3, check forget close test socket cid 996206 resource leak resource_leak leaked_handle handle variable going scope leak handle signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7879,4ef152447c89c14ec751935ff52873cb095a9e49,ndrey Vagin <avagin@openvz.org>, 2013-04-05 01:44:27 +0400,1, proc_parse allocate memory terminating null string cid 996207 bound access overrun alloc_strlen allocating insufficient memory terminating null string signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7880,9c3a88c7b15b2a510e66dfd20ef99393d3546c89,yrill Gorcunov <gorcunov@openvz.org>, 2013-04-03 10:31:35 +0400, , mnt add simfs entry list supported simfs used openvz container let understand fail meeting signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7881,396a08eb95133ab61eedce6cc3cd960d27f7efeb,yrill Gorcunov <gorcunov@openvz.org>, 2013-04-03 10:31:34 +0400, , make generate tag cscope tool test signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7882,c0771a01f6aaeeb138e9ac68855620103fa455b3,yrill Gorcunov <gorcunov@openvz.org>, 2013-04-03 10:31:33 +0400, , arch x86 include asm int.h fpu.h need include type allows reuse header outside crtools code signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7883,4200d42ee6417ed54e7d31db37bcbbb248cd98b4,lexander Kartashov <alekskartashov@parallels.com>, 2013-04-03 16:03:03 +0000, , session02 hard code value macro macro page_size declared following way debian define page_size sysconf _sc_pagesize make impossible use macro size array clone_args stack since generates following error wall werror iquote lib arch arm include lib session02.c lib libzdtmtst.a session02 session02.c error variably modified stack file scope andrey vagin avagin openvz.org signed alexander kartashov alekskartashov parallels.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7884,3ca29f704676f59cc99eae3a805084b0f3bb3b56,lexander Kartashov <alekskartashov@parallels.com>, 2013-04-03 16:03:02 +0000, , packet.c fixed format string warning arm use pri format specifier convert integer known size string andrey vagin avagin openvz.org signed alexander kartashov alekskartashov parallels.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7885,0b6548229a0bcc6bd8782eee1bfe15e30adb07f0,ndrey Vagin <avagin@openvz.org>, 2013-04-03 21:31:12 +0400, , pstree fix error handling pstree.c 273 warning value stored ret never read ret  signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7886,9f994b8179dd0b2e745934fd7c7f8526092b2425,ndrey Vagin <avagin@openvz.org>, 2013-04-03 21:31:11 +0400, , file handle error fcntl files.c 159 error comparison unsigned expression always false werror wtautological compare fown.signum  signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7887,0ebc4f058cae30ee0bbfdb5c41df35ec165f33ca,ndrey Vagin <avagin@openvz.org>, 2013-04-03 21:31:10 +0400, , restore remove extra initialization variable restore.c 1795 warning value stored never read   restore.c 1796 warning value stored never read  signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7888,e08562c2775c53643db7f3396cff85206be90669,ndrey Vagin <avagin@openvz.org>, 2013-04-03 21:31:09 +0400, , ipc_ns free allocated object end ipc_ns.c 464 warning memory never released potential leak memory pointed value return  warning generated signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7889,7eabe41fb87363607d9a04eaa726b6f1120460a9,ndrey Vagin <avagin@openvz.org>, 2013-04-03 21:31:08 +0400, , parasite set ret going read pie parasite.c 308 warning value stored ret never read ret signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7890,d1787c84a005f36785e475e75cfe05af141e0b46,ndrey Vagin <avagin@openvz.org>, 2013-04-03 21:31:07 +0400, , socket free allocated objected case error signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7891,06d8c36c561068951c155c29044d4242e9a683f6,ndrey Vagin <avagin@openvz.org>, 2013-04-03 21:31:06 +0400, , socket handle error xmalloc signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7892,9db8df3dec6276e114ef26c765e9dc642caa778d,ndrey Vagin <avagin@openvz.org>, 2013-04-03 21:31:05 +0400, , packet handle error xmalloc signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7893,c9b9aad26519e9b6d9db2792482110e056f15efb,ndrey Vagin <avagin@openvz.org>, 2013-04-03 21:31:04 +0400, , mount rollback return negative value case error signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7894,caa1c406fa045af2869dba16731385201296b91e,ndrey Vagin <avagin@openvz.org>, 2013-04-03 21:31:03 +0400, , show avoid double free pstree item signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7895,a6c5953a80d2498b322c4c61ac5a4a52b7a76ee4,ndrey Vagin <avagin@openvz.org>, 2013-04-03 21:31:02 +0400, , clang add exception bug_on_handler signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7896,f54f9f0efa8cd6ce14e66e7935bd2625b6f249ad,ndrey Vagin <avagin@openvz.org>, 2013-04-03 21:31:01 +0400, , bitopts add size sufix ambiguous instruction clang requires file included arch x86 cpu.c arch x86 include asm bitops.h error ambiguous instruction require explicit suffix could btsw btsl btsq asm volatile bts addr memory signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7897,f238d56661dae6d555cae249fdf58864268c267d,ndrey Vagin <avagin@openvz.org>, 2013-04-03 21:31:00 +0400, , make allow change compiler clang analyzer set environment variable scan build plist html use analyzer usr bin clang make signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7898,75d8b81fd17c43370ce2fb5eacb6cf608b2a7b98,avel Emelyanov <xemul@parallels.com>, 2013-04-04 13:09:59 +0400, , ipc check ipc namespace dumped mapping task sysvipc mapping make sure ipc namespace dumped well otherwise restore task die signed pavel emelyanov xemul parallels.com,,
7899,09ebdd4534de749d054c8eeabc422f14c96c94a6,avel Emelyanov <xemul@parallels.com>, 2013-04-04 13:08:28 +0400, , socket make crtools check report error diag incomplete absense packet netlink diag dump older kernel fail later _really_ need socket check stage diag expected place signed pavel emelyanov xemul parallels.com,,
7900,7bdba0f7458525280a51aac84abf771b9f7b382e,avel Emelyanov <xemul@parallels.com>, 2013-04-02 23:27:45 +0400, , unix add _all_ peer must dump list dumping unix socket must make sure connection dumped option used currently peer non matching added check fix signed pavel emelyanov xemul parallels.com,,
7901,6a0f92577c5582cffc7f8685150e5aeeaa2cb4e0,yrill Gorcunov <gorcunov@openvz.org>, 2013-04-02 21:15:27 +0400, , header util.h move memory helper xmalloc.h reuse outside crtools code signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7902,6971b8effcd6481629c94d138259a36362efdd56,yrill Gorcunov <gorcunov@openvz.org>, 2013-04-01 19:27:38 +0400, , header types.h move type int.h header allows use external project outside types.h header moreover close kernel doe signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7903,7aae1934d330d1d7120e8bdbd38438bcfacf743b,yrill Gorcunov <gorcunov@openvz.org>, 2013-04-01 19:27:37 +0400, , header types.h move bits_per_long header diet types.h allows include bits_per_long really needed make bits_per_long definition close one used kernel signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7904,0109ea2bdbe27d5be78b4d8aa5bc642603ae3693,yrill Gorcunov <gorcunov@openvz.org>, 2013-04-01 19:27:36 +0400, , header types.h rename bits_per_ulong bits_per_long let stick name used kernel signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7905,3165fd78869ceb0e807284bacd0ee3b145b25d16,yrill Gorcunov <gorcunov@openvz.org>, 2013-04-01 19:27:35 +0400, , header list.h add hlist helper hlist suitable hash operation extent list.h code need converter allow reuse header signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7906,7db78063f8b6c643d0be2807563ad8a80dbf949d,yrill Gorcunov <gorcunov@openvz.org>, 2013-04-01 19:27:34 +0400, , header image.h drop asm types.h inclusion header consists number constant macro helper need make asm types.h dependant instead include stdbool.h bool definition required forward fdinfo_per_id think declaration live somewhere else place sure yet left untouched signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7907,15254477525f551b58ea7f19f5cef4af923f2e77,yrill Gorcunov <gorcunov@openvz.org>, 2013-04-01 19:27:33 +0400, , header add err.h header instead bloating util.h let move err_ helper err.h header allow reuse needed without util.h inclusion signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7908,fd3f33f5d23af33c2d7e59d074a4c687b0fd0d8e,yrill Gorcunov <gorcunov@openvz.org>, 2013-04-01 19:27:32 +0400, , header image.h drop unused entry signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7909,a6b257f0c24a0bb36651ba9accd4e4401ad34b0c,avel Emelyanov <xemul@parallels.com>, 2013-04-02 20:07:57 +0400, , log simple use buffering output log file multi task thread apps spoil log simple logger doe char char output signed pavel emelyanov xemul parallels.com,,
7910,c5aa77f88bab04dee2cf6b36e91dc16c52bca3b9,avel Emelyanov <xemul@parallels.com>, 2013-04-02 14:18:11 +0400, , tcp use protobuf showing tcp stream image signed pavel emelyanov xemul parallels.com,,
7911,63270e8d9ff3eced3452d9e482a411037764c7c9,avel Emelyanov <xemul@parallels.com>, 2013-04-02 12:09:40 +0400, , show show per task fdinfo output info per file per pid need special care signed pavel emelyanov xemul parallels.com,,
7912,73d7e283a7bd55872e569735d4055e06fe886689,avel Emelyanov <xemul@parallels.com>, 2013-04-02 11:58:15 +0400, , show filter output pid option show image info relevant given pid also reuse introduced pid argument exec action signed pavel emelyanov xemul parallels.com,,
7913,6241a057b8f2a9355f8b532096847e6caa6d5128,avel Emelyanov <xemul@parallels.com>, 2013-04-02 11:30:14 +0400, , show beautify mode show print delimiters image name easier reading output signed pavel emelyanov xemul parallels.com,,
7914,a0ce79673462703be17969dc736af37baf7a8432,avel Emelyanov <xemul@parallels.com>, 2013-04-02 11:21:47 +0400, , show fix mode showing thread initialized img load signed pavel emelyanov xemul parallels.com,,
7915,58f0955d81b989fe5adc85e14cbb352b97f88308,ndrey Vagin <avagin@openvz.org>, 2013-04-01 20:12:04 +0400, , zdtm test file name contain test name required per test cleaning signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7916,2020d3957ebf30cf1517eceeda3069b0b8851741,ndrey Vagin <avagin@openvz.org>, 2013-04-01 20:11:13 +0400, , dump prevent dumping session leader outside current pidns parasite code return zero sid case signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7917,8eabba3d1c3f5875eaa739717ea33540180a3f29,ndrey Vagin <avagin@openvz.org>, 2013-04-01 20:10:44 +0400, , pstree replace sid root task session leader root task must remain session leader root task executed another pidns sid another name space invalid cyrill gorcunov gorcunov openvz.org reported pavel emelyanov xemul parallels.com signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7918,ddc6789dca78df31ae7a141f07612548f1435eb3,ndrey Vagin <avagin@openvz.org>, 2013-04-01 20:10:05 +0400, , test skip error someone fails signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7919,1b234fd8905030aec701f9ed54acb506f5510c72,ndrey Vagin <avagin@openvz.org>, 2013-03-29 00:01:56 +0400, , zdtm show process tree signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7920,cc97a2d012ca2a64ad05922013e6c8f274d4a662,ndrew Vagin <avagin@openvz.org>, 2013-03-29 00:01:55 +0400, , zdtm add one test case create process tree actually test case frame work creating process tree creates process tree according predefined sequence action test case create following process tree session02 session02 session02 session02 session02 session02 session02 improve log message signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7921,d7829276bea8784339718eaf5da067b04c5dad70,yrill Gorcunov <gorcunov@openvz.org>, 2013-04-01 12:30:28 +0400, , pie restorer fail futex provided image data may futex provided optional entry futex data part message still know futex length zero thus make optional value length zero consider sign skip signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7922,1b7cfe7ddd9209712066e082f53cb59ad31c9473,ames Bottomley <jbottomley@parallels.com>, 2013-04-01 12:29:06 +0400, , add lgpl licence library directory received request create way interface crtools involve forking utility going create linkable library order fair plan allow proprietary code link library thus want change licence criu code base lgpl library directory preserving rest code gpl creating library may involve refactoring anticipate code currently gpl move lib become lgpl may occur future well amended copying file spell contributor code outside lib gpl inside lib lgpl give future permission change licence gpl lgpl code move lib based acceptance patch criu code base random developer download code make lgpl applying private patch move everything lib parallel author agreed couple non parallel one email like explicit acks qiang huang h.huangqiang huawei.com andrew grigorev andrew grad.ru signed james bottomley jbottomley parallels.com acked qiang huang h.huangqiang huawei.com signed pavel emelyanov xemul parallels.com,,
7923,5f080d64f9673ba8b9d2494e61d58d5b856697db,ndrey Vagin <avagin@openvz.org>, 2013-03-30 00:18:29 +0400, , netlink typo fix unconnected netlink socket netlink_diag provide info non connected non bound socket signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7924,0b492b0b10529498ed5311f507833d243c040fd0,ndrey Vagin <avagin@openvz.org>, 2013-03-30 00:17:36 +0400, , zdtm protect random page maps04 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7925,6ed19e31a792561cead4c1cee0b2550372c2f6b0,ndrey Vagin <avagin@openvz.org>, 2013-03-30 00:17:03 +0400, , dump unprotect vmas dumping content vma may protected read right vma changed dumping protected back dumping signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7926,a6b13b386c154e63f129134258b6e13628cd1935,avel Emelyanov <xemul@parallels.com>, 2013-03-29 19:40:23 +0400, , rlim rlimit image per pid stupid mistake resulted task share rlimits restore signed pavel emelyanov xemul parallels.com,,
7927,aaad8054ee0fdfa99ac3744836147667b4cad71d,ndrey Vagin <avagin@openvz.org>, 2013-03-28 16:24:45 +0400, , inet drop proto struct inet_sk_desc required anymore signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7928,d2b1d6f2aa62d4fdd7340f9ba86764f67917f82b,ndrey Vagin <avagin@openvz.org>, 2013-03-27 23:51:03 +0400, , socket prevent dumping socket collected idea simple collection given type socket failed crtools sure able dump socket correctly signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7929,d274025e425e8e03064c0fa874860621e41642ab,ndrey Vagin <avagin@openvz.org>, 2013-03-27 23:51:02 +0400, , util encode decode errno pointer signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7930,6a038a1e492f58d4667034243b2fde6cc39b09d8,ndrey Vagin <avagin@openvz.org>, 2013-03-27 23:51:01 +0400, , packet print error lookup failed signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7931,f9b3dd7ad5fdf7171bddbcd3e7f13573258ce581,ndrey Vagin <avagin@openvz.org>, 2013-03-27 23:51:00 +0400, , inet fix error handling currently return ret variable overwritten time zero error path use separate variable function exit code default set zero end changed anywere anywhere except two place signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7932,5b8f179f1b215f718541cccd3b6664f233413fa2,ndrey Vagin <avagin@openvz.org>, 2013-03-27 23:50:59 +0400, , socket skip error collecting netlink packet socket packet diag compiled fedora kernel netlink diag going merged 3.10 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7933,4a6ed33203edd4ab6f628d799277d0a9ad1fe9d4,ndrey Vagin <avagin@openvz.org>, 2013-03-27 23:50:58 +0400, , netlink return errno do_rtnl_req signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7934,421ceffaa5da7777f21b579ab1ff59872ddd641f,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-28 15:27:21 +0400, , restorer print error code syscalls return error code easier debugging instead zapping print together error message make error message detailed well signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7935,87d0d61e4101bc372d7d4e456e291eabfc6defd0,avel Emelyanov <xemul@parallels.com>, 2013-03-27 20:17:59 +0400, , lock show long option log message using one signed pavel emelyanov xemul parallels.com,,
7936,25ef41998276e1009dadabf4c1b04a15e20c83f2,avel Emelyanov <xemul@parallels.com>, 2013-03-27 20:11:00 +0400, , tty descriptive log message shell job requirement signed pavel emelyanov xemul parallels.com,,
7937,f16d7c64e551f52cf8ea25fe1dd5de7a6a3f603c,ndrew Vagin <avagin@openvz.org>, 2013-03-26 14:16:51 +0400, , mount remove root ms_private cleaning mntns otherwise clean root mntns signed andrew vagin avagin openvz.org signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7938,929a0f24fdad665e08aada86df22a9b500668c73,ndrew Vagin <avagin@openvz.org>, 2013-03-26 14:16:50 +0400, , mount remove root ms_private pivot_root otherwise root mounted ms_shared pivot_root fails einval signed andrew vagin avagin openvz.org signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7939,000404adadc81685359fa796b0eec52e795d45f5,avel Emelyanov <xemul@parallels.com>, 2013-03-27 17:27:36 +0400, , rst properly check si_code sigchild cld_xxx macro bit field signed pavel emelyanov xemul parallels.com,,
7940,78ced79e15ce740e3c2713ffb43737b5c98a3fb6,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-27 16:32:46 +0400, , cap print error message size mismatch fail print error thus user would know exactly failed signed cyrill gorcunov gorcunov openvz.org andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7941,cbf0ba9f4880ab66b511003141aff0d32684a2d8,avel Emelyanov <xemul@parallels.com>, 2013-03-27 16:16:25 +0400, , inventory kill inventory.img file case failed dump result sane error case restore launched semi complete image signed pavel emelyanov xemul parallels.com,,
7942,c03a4c5801ef6b306442472fc25c7f870a53baa8,avel Emelyanov <xemul@parallels.com>, 2013-03-27 16:06:26 +0400, , msg make final dump restore descriptive currently dump silently terminates restore emits meaning message either case make important message informative signed pavel emelyanov xemul parallels.com,,
7943,c721df565a737b051353e3fa8a34aac6e9e30922,ndrey Vagin <avagin@openvz.org>, 2013-03-27 00:02:44 +0400, , zdtm execute sigpending netlink linux functionality dumping signal netlink socket merged upstream kernel yet signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7944,27d0bbe549b4bc0c408058c66f0902934e3828be,ndrey Vagin <avagin@openvz.org>, 2013-03-27 15:07:55 +0400, , packet fix error handling lookup_socket return pointer null signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7945,e902861c08ef7b3add538a229c79ffd5e10a85cf,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-27 14:16:09 +0400, , restore unify exit return code exit called exit exit use exit everywhere consistency signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7946,18db781a8e6cde2102494a64bc092eada3b00a23,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-27 14:26:44 +0400, , pie bump .got table .crblob section noticed arm platform .got table missed include .crblob section fix reported chanho park chanho61.park samsusng.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7947,0905bfa00f2ae6f6b9a090a1037bb7e26c5a987b,avel Emelyanov <xemul@parallels.com>, 2013-03-27 15:44:34 +0400, , x86 use pr_perror instead plain perror add pid arg verbosity signed pavel emelyanov xemul parallels.com,,
7948,b5dfd452cc9b5b33cb7b29f0cd608cf915522db4,avel Emelyanov <xemul@parallels.com>, 2013-03-27 15:43:27 +0400, , dump specific inability dump 32bit task x86 signed pavel emelyanov xemul parallels.com,,
7949,f95d509d2e40ad4e707dfa102b478beff865a477,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-27 13:39:14 +0400, , unix zap error returned error happened queue read zap signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7950,421d46f79e8294895c7a7ba5159ea9ea1ad4dd8c,avel Emelyanov <xemul@parallels.com>, 2013-03-27 13:12:02 +0400, , page accept page image version v0.4 reworkring way pagemap stored backward compatibility preserved patch simplicity time return back signed pavel emelyanov xemul parallels.com,,
7951,18242f8319cfc75eb9a1db1fd8a9ae53b9665518,avel Emelyanov <xemul@parallels.com>, 2013-03-27 01:10:56 +0400, , seize warn crtools tried seize self allowed kernel explicit message nice signed pavel emelyanov xemul parallels.com,,
7952,21cf5d2e4c0cc9eb5f6edd71a2869d4c6aa26f44,avel Emelyanov <xemul@parallels.com>, 2013-03-26 22:18:16 +0400, , help sanitize special resource option remove obsoleted namespaces use macro ext socket option name help text signed pavel emelyanov xemul parallels.com,,
7953,b6fa2b31a728b74b24f312ccdc55ea11e1ca0016,avel Emelyanov <xemul@parallels.com>, 2013-03-26 22:03:15 +0400, , ptrace verbose seize failure ptrace seize may fail various reason e.g enough perm get ptrace access task various selinux restriction print exactly happened ptrace failed reported kevin wilson wkevils gmail.com signed pavel emelyanov xemul parallels.com,,
7954,7571ff69e13990e6b125d498822f2df23921cb0c,avel Emelyanov <xemul@parallels.com>, 2013-03-26 21:08:07 +0400, , collect properly report task collecting error failed seize task report error caller reported kevin wilson wkevils gmail.com signed pavel emelyanov xemul parallels.com,,
7955,118526cc0af6e50e7a910bbe54d76aeafe7398e0,avel Emelyanov <xemul@parallels.com>, 2013-03-26 19:49:18 +0400, , dump missing pr_err message signed pavel emelyanov xemul parallels.com,,
7956,ecbe4883dca1dcfda692a8f91fccc62eb7bb2771,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-26 19:40:44 +0400, , netlink signify error code netlink layer report negative error code need signify xemul rest nlk code signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7957,6b8c824fcc012978a2cbc7860d4968c26916c14c,avel Emelyanov <xemul@parallels.com>, 2013-03-26 19:38:25 +0400, , unix verbose output ext unix socket dumping signed pavel emelyanov xemul parallels.com,,
7958,fd5bcbe73313405f5f69560aa66e4c1fb6a32426,avel Emelyanov <xemul@parallels.com>, 2013-03-26 19:36:26 +0400, , check verbose message sock diag infratructure missing signed pavel emelyanov xemul parallels.com,,
7959,f52d53c585d283c6ce1e92e2639b7312f6fe9a36,avel Emelyanov <xemul@parallels.com>, 2013-03-26 19:32:53 +0400, , unix make descriptive error logging ext socket restore failure signed pavel emelyanov xemul parallels.com,,
7960,21c663dc01f81e2440a19f0e88b8358dc0de78e1,avel Emelyanov <xemul@parallels.com>, 2013-03-26 19:27:43 +0400, , dump use pr_err reporting error lock use option signed pavel emelyanov xemul parallels.com,,
7961,a73259522b757a17ac1d78ca0682a026c06c92ed,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-26 19:23:17 +0400, , mount add missing cr_pivot_root message signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7962,e14d39abfa65e43f51d487c972a64f09aba098ce,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-26 19:22:15 +0400, , check return error signed pavel emelyanov xemul parallels.com,,
7963,282aaf2cbae77b8a0fded61ba5ed820afa4890bd,ndrey Vagin <avagin@openvz.org>, 2013-03-25 19:28:49 +0400, , zdtm add test case netlink socket create two bound socket unicase broadcase message connected socket unbound unconnected socket signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7964,04f8a1a53e816b1bd913f2af1956cebaa1e33edb,ndrey Vagin <avagin@openvz.org>, 2013-03-25 19:28:48 +0400, , socket restore netlink socket signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7965,b9e6a27c3d42ee487a36e6354271836d987142db,ndrey Vagin <avagin@openvz.org>, 2013-03-25 19:28:47 +0400, , socket dump netlink socket info bound socket got via socket diag interface connected socket automatically bound socket protocol must dumped got help getsockopt netlink socket pending data supported yet probably supported near future signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7966,b17c9f64c59b31a86312960bad952932a9469a64,ndrey Vagin <avagin@openvz.org>, 2013-03-25 19:28:46 +0400, , socket use socket diag collecting netlink socket signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7967,47b9c69f26dc7a6d8cc0090f97435f6e3be590cb,ndrey Vagin <avagin@openvz.org>, 2013-03-25 19:28:45 +0400, , crtools add netlink_diag.h header taken kernel source signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7968,dda97cf7113164f83868e91570e894cd54e1b8d3,ndrey Vagin <avagin@openvz.org>, 2013-03-25 19:28:44 +0400, , crtools add constant netlink image signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7969,1eb24a0ae2835ebf3754b8b633949e0b5bdcdc22,ndrey Vagin <avagin@openvz.org>, 2013-03-25 19:28:43 +0400, , crtools add function showing netlink socket signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7970,149a5a5e5a301034113faea0c134c7518bafb0be,ndrey Vagin <avagin@openvz.org>, 2013-03-25 19:28:42 +0400, , protobuf add image netlink socket signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7971,803cb95efc1477d3626e89183b8c79065601bba2,lexander Kartashov <alekskartashov@parallels.com>, 2013-03-25 23:39:56 +0400, , arm added architecture specific implementation __cr_restore_rt signed alexander kartashov alekskartashov parallels.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7972,f904bc116a58ce88d5d84e79e3b45a8ab0cb2a46,lexander Kartashov <alekskartashov@parallels.com>, 2013-03-25 23:39:55 +0400, , arm added description syscalls pread64 rt_sigqueueinfo signalfd4 signed alexander kartashov alekskartashov parallels.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7973,07a1a33fd6896778a61be05234b44ad03b2ef917,ndrey Vagin <avagin@openvz.org>, 2013-03-25 23:39:54 +0400, , zdtm.sh add static sigpending default set signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7974,bc3089983a1be41c346522716b564fda4c23ebc8,ndrey Vagin <avagin@openvz.org>, 2013-03-25 23:39:53 +0400, , restore collect signal zombie zombie sends sigchld parent crtools restores pending signal signal collected problem signal sigchld merged crtools sure signal collected zombie lock global zombie_lock released parent operation done  one whic used waiting zombie clean rework synchronization rework without additional cr_state signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7975,c2b081102bc5c0ced1d9fb921fa767488a0b5a6d,ndrey Vagin <avagin@openvz.org>, 2013-03-25 23:39:52 +0400, , restore read core.img forking know child state necessary get number zombie signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7976,9af67702798576a82a26fc7b165a4b0066c725be,ndrey Vagin <avagin@openvz.org>, 2013-03-25 23:39:51 +0400, , restore set correct sa_restorer sigchld handler alexander could help arm found glibc source sa_restoer look like port sysdeps unix sysv linux arm sigrestorer.s .... entry __cr_restore_rt cfi mov sys_ify rt_sigreturn swi 0x0 .fnend end __cr_restore_rt move architecture dependent code proper place add separate handler collecting zombie alexander kartashov alekskartashov parallels.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7977,f5e8e1c7da6fed80867d29082a44e58c1636efb3,ndrey Vagin <avagin@openvz.org>, 2013-03-25 23:39:50 +0400, , check check sigqueueinfo positive si_code fix indentation signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7978,7a8729fff58af04dad79bd347a3dc8b108ae766e,ndrey Vagin <avagin@openvz.org>, 2013-03-25 23:39:49 +0400, , crtools restore pending signal read siginfo image send sigqueueinfo thread signal restored block sigchld used error detecting remap task_args thread_args fix error handling cosmetic clean signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7979,ab65ba0afdbfe8c90e9f6f10185180766fce8646,ndrey Vagin <avagin@openvz.org>, 2013-03-25 23:39:48 +0400, , crtools dump pending signal used received pending signal signal sent back saved image rework according new kernel interface rework according newrest kernel interface fix error handling signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7980,84176c0805143578804b1c115717f7a06ec3f1ff,ndrey Vagin <avagin@openvz.org>, 2013-03-25 23:39:47 +0400, , crtools add image contants pending signal rename image signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7981,6e528bd1bcf367bddd84f4be573a8ab2039964c3,ndrey Vagin <avagin@openvz.org>, 2013-03-25 23:39:46 +0400, , crtools add callback show signal .img signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7982,187e1617a8a85ebdad10058bebb0aa6575b3d767,ndrey Vagin <avagin@openvz.org>, 2013-03-25 23:39:45 +0400, , protobuf add new description saving siginfo signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7983,13e9291b51b2298b1e3ac856311e0c06e9509a8c,ndrey Vagin <avagin@openvz.org>, 2013-03-25 23:39:44 +0400, , zdtm add test case pending signal signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7984,be2773660b1e6c89308d4e6c25331fca0a138e7e,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-25 17:43:07 +0400, , restore validate page address signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
7985,b6f7d4a605023720995a9c2bb4b5e7aae3c64468,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-25 17:41:47 +0400, , file reg print file name error case error happened better know exactly file failed open example error file reg.c 535 open file lib64 libgcc_s 4.4.7 20120601.so.1 restore file directory signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7986,2eeb36647ec113724d2ca5988c19559cf6856bf6,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-25 14:49:44 +0400, , pstree add debug output signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7987,41192bbb335f796a93e401d5af8981e1168ab89a,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-25 14:48:55 +0400, , restore return error instead bug_on image corruption case image corruption page entry addres invalid exit gracefully instead bug_on hammer signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7988,f81d009af88e33d097c5ed8dc880e2280e685746,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-25 14:48:31 +0400, , restore add debug info premapped vma address map vma premap signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7989,6140f67326206be1b2bde1fb40d793b80765e815,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-15 15:03:18 +0400, , util use read_fd_link helper signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7990,03040be51eff6c75f81785c8601a296c78a56bb2,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-15 15:03:17 +0400, , protobuf print image filename error example error protobuf.c 574 unexpected eof home crtools tool cpt2 test utsns 1.img signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7991,401b4b89f1724c92a006c5ee570df3889dd6a1ea,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-15 15:03:16 +0400, , util add read_fd_link helper fetch name file opened procfs signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7992,b7960d77165e2b9719cceabf60410087a2df8a91,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-20 13:31:29 +0400, , restore update error message map_private_vma fixup vma understandable plain fixup signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7993,31122183d2bd8ed6fcfcb763d760fea34aaa1cbb,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-20 13:31:28 +0400, , file detailed error cwd restore signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7994,5b8ee16c5f2f16aa67df421d38059f5b32b413f9,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-21 00:43:45 +0400, , file fix print format otherwise 00.013475 collect fdinfo pid 626 17008 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7995,3736fcf9f16845a1358fdab050326431e8b36256,ndrey Vagin <avagin@openvz.org>, 2013-03-19 23:54:41 +0400, , pipe fix error handling signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7996,967ca651a8135ef3f9b041e736929e6fab62ec25,ndrey Vagin <avagin@openvz.org>, 2013-03-19 23:01:51 +0400, , tty restore sid master point master point sid mean slave point sid look tty03 example pid sid command 26748 26748 tty03 26749 26749 tty03 26750 26750 tty03 second process file descriptor ctl tty tty opened tty03 slave point sid master point option shell job must set sid restored terminal signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
7997,ef726ad51d92c13e79f709727786a4322fb9eda3,ndrey Vagin <avagin@openvz.org>, 2013-03-19 23:01:27 +0400, , zdtm one test case controlling terminal pid sid command 26748 26748 tty03 26749 26749 tty03 26750 26750 tty03 second process file descriptor ctl tty tty opened tty03 currently criu restore test case correctly cyrill gorcunov gorcunov openvz.org signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
7998,f2664d6524904b795161e12f985736f2f4fe643d,ndrey Vagin <avagin@openvz.org>, 2013-03-19 23:00:59 +0400, , pipe reopen pipe via proc required system call open add o_largefile point reopend unsharing file descriptor two type point one returned pipe one got via opening proc pid currently know one difference type o_largefile signed andrey vagin avagin openvz.org tested alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
7999,74053de77d9aae62ee4a7cdbbd08f5e7a4244a76,lexander Kartashov <alekskartashov@parallels.com>, 2013-03-19 15:46:00 +0400, , restore.c fixed compilation error arm use decode_pointer convert virtual address native pointer signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8000,bce89dba4befebc4b8b540c8fab2551325461a80,ndrey Vagin <avagin@openvz.org>, 2013-03-18 23:04:09 +0400, , restore reserve service descriptor control tty really lucky prepare_ctl_tty get_service_fd ctl_tty_off set send_fd_to_self dup2 dfd dfd try install sfd  is_service_fd ctl_tty_off return get_service_fd type signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8001,a9ac1b29b4453eaa1986ac1fe59909897d72905e,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-18 22:42:28 +0400, , make sure kid obtained root_ids sane otherwise get nil dereference signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8002,f0a4b4bfd50e894f1e5677662d3d448e10c31c90,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-18 22:41:56 +0400, , make sure root present image updated one 0001 make sure kid present image.patch mon sep 2001 cyrill gorcunov gorcunov openvz.org date fri mar 2013 0400 subject patch make sure kid present image otherwise yield error instead nil dereference meet broken image signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8003,31ce074b55f416c34d5acf39943ab8335f482b5d,ndrey Vagin <avagin@openvz.org>, 2013-03-18 22:34:06 +0400, , pipe prevent dumping pipe packetized mode mode introduced year ago commit author linus torvalds torvalds linux foundation.org date sun apr 2012 0700 pipe add packetized pipe mode writing signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8004,62d532a97fcdaeec2a6af3231b110b920233a9dc,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-18 22:32:57 +0400, , mount add entry type mnt_entry fstype part image abi thus need provide common encoding outside tool would know field encoding thus instorduce fstype enum .proto file use source code well signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8005,2ce60f1dbceb64ee07c59d803751c742fddecabe,lexander Kartashov <alekskartashov@parallels.com>, 2013-03-18 22:31:45 +0400, , page xfer.c fixed format string patch generalizes format string file page xfer.c prevent format string warning arm signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8006,e101b381c377e385dd8706ad051af83c3249c249,ndrey Vagin <avagin@openvz.org>, 2013-03-18 22:29:22 +0400, , restore handle error setting flag signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8007,17b05ab4a5891a870d9b89129c6ae5a76fe5061b,ndrey Vagin <avagin@openvz.org>, 2013-03-18 22:26:59 +0400, , file restore file descriptor flag correct signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8008,2e20b48051a8266cd8254d59bc2576bff87d0c86,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-18 22:26:04 +0400, , page pipe forget free page pipe buffer signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8009,6f40cfb5065def59a3783a3dc61fb84b0bd5ce06,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-18 22:25:32 +0400, , file reg use pr_err instead pr_perror found otherwise 00.002843 error file reg.c 522 find regfile success inappropriate signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8010,5f5306eda9938ad97e9d90befe7e5b334f40357a,ndrey Vagin <avagin@openvz.org>, 2013-03-15 17:49:19 +0400, , crtools remove declaration rt_sigset_t actually rt_sigset_t k_rtsigset_t signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8011,c776580dc0472c0ba68f3132ce445c50ce6b35d2,ndrey Vagin <avagin@openvz.org>, 2013-03-15 18:24:27 +0400, , restore find vma restored page otherwise ppage_bitmap page_bitmap updated wrong vma signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8012,cc3a3c475b3130ace089b955c5990c5b54696d02,avel Emelyanov <xemul@parallels.com>, 2013-03-15 18:19:59 +0400, , dump fix one page mapping dump iov array page mapping would zero fix silly mistake signed pavel emelyanov xemul parallels.com,,
8013,39402af71a923181f9b87158c3daa3de0a1dde6f,avel Emelyanov <xemul@parallels.com>, 2013-03-15 18:12:34 +0400, , page xfer simplify one page pipe dumping signed pavel emelyanov xemul parallels.com,,
8014,4074a876379cabab436ab885869e3793e13bcceb,avel Emelyanov <xemul@parallels.com>, 2013-03-15 17:54:27 +0400, , shmem rework dumping code use page pipe xfer engine make easier merge anon vmas dumping make use page server shared memory signed pavel emelyanov xemul parallels.com,,
8015,6c83c24242e873464eee59790baf2c5b5ab9b9ef,avel Emelyanov <xemul@parallels.com>, 2013-03-15 17:39:09 +0400, , shmem simplify error path signed pavel emelyanov xemul parallels.com,,
8016,94c6d773409fda3887d3bb2ec175481f493dfd1d,avel Emelyanov <xemul@parallels.com>, 2013-03-15 17:33:19 +0400, , shmem split shmem dumping code two signed pavel emelyanov xemul parallels.com,,
8017,9486946b81379e2e69b99d03568dfe13301a9ddc,avel Emelyanov <xemul@parallels.com>, 2013-03-15 17:31:21 +0400, , zdtm return perm back signed pavel emelyanov xemul parallels.com,,
8018,f3e5fd7155ba8492225c3f3d2b272b21fdc2a231,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-14 20:56:00 +0400, , forget setup task state need proper fake item state make code work get_task_ids item state task_dead ret item ret goto err_free signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8019,4159cd5de64e6b1e514216aea91d1c7881cd07fb,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-14 19:41:31 +0400, , restore report mem size mmap failed without patch error restore.c 414 unable reserve memory invalid argument applied error restore.c 414 unable reserve memory byte invalid argument convenient debugging signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8020,8dd32ad0180d228e5f271b93bda17638c089af15,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-14 19:38:57 +0400, , image fixup error path free unpacked data close file descriptor signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8021,a4f4ca73a121fc6e8ce11780274ecece07d1093a,ndrey Vagin <avagin@openvz.org>, 2013-03-14 19:36:17 +0400, , zdtm check unshared descriptor one end pipe signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8022,7dc741f4f8f7d39baf6bae8f6e35eed32f942322,ndrey Vagin <avagin@openvz.org>, 2013-03-14 19:35:36 +0400, , app emu lxc create var run netns fedora var run tmpfs directory recreated time signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8023,d36480ed05fee6ea23e495e6c805140f7c425387,avel Emelyanov <xemul@parallels.com>, 2013-03-14 18:28:38 +0400, , mem raise page image base page server currently shmem generates page image parallel page server may intersect fix making page server create larger signed pavel emelyanov xemul parallels.com,,
8024,36b96d1e8a4390040bb91e82d2ec8bad1109f0b7,avel Emelyanov <xemul@parallels.com>, 2013-03-12 21:24:19 +0400, , zdtm test page server work used launch page server dir crtools dump get fill dump signed pavel emelyanov xemul parallels.com,,
8025,213faeae6d4b3feea850ea1c1884b1a3fca39066,avel Emelyanov <xemul@parallels.com>, 2013-03-12 21:23:06 +0400, , mem introduce page server page server process get page network put pagemap page image right doe simply get data put image file dirty set tracking kernel page server collect page change properly integrate image running crtools page server like dst_node crtools page server port port dump ... src_node crtools dump pid page server address dst_node port port dump ... image dst_node dump src_node dump put one place task restored signed pavel emelyanov xemul parallels.com,,
8026,02fc86958e769be025b4517de7a9ad25c1d16e23,avel Emelyanov <xemul@parallels.com>, 2013-03-12 21:14:40 +0400, , mem abstraction layer putting page image send network soon prepare abstraction layer shmem scheme yet signed pavel emelyanov xemul parallels.com,,
8027,8801f59615cf0f3aeff4fe2dc96cf83064c4b804,avel Emelyanov <xemul@parallels.com>, 2013-03-12 21:00:05 +0400, , mem protobuf format page dump since drain page parasite invent format page dump let ... prorobuf one another thing keep mind use splice implement iterative migration better actual page page aligned image backward compatibility said new format pagemap ... file contains header currently image page see array nr_pages vaddr pair first value mean many page take file page see second task address space put simple page ... file containes page one one thus aligned want patch break backward compatibility old image page wil restored crash need v0.5 release signed pavel emelyanov xemul parallels.com,,
8028,a59fd3533f8cc734af023b370d906b64ea30967a,ndrey Vagin <avagin@openvz.org>, 2013-03-06 00:34:02 +0400, , zdtm make datagen datachk faster big chunk generate random data buffer size fast_size size buffer fast_size first fast_size byte filled random generator chunk used pattern chunk patch time bash test zdtm.sh static maps04 real 0m16.777s user 0m0.054s sys 0m0.724s patch time bash test zdtm.sh static maps04 real 0m1.865s user 0m0.128s sys 0m0.745s signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8029,28f063ab9cd54cbf9409ab5b586fe0dd1b407e93,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-06 00:32:07 +0400, , zdtm ipc_namespace bound min max mqueue msg_max otherwise 13.524 19446 err ipc_namespace.c 212 write proc sys mqueue msg_max errno invalid argument 13.524 19446 err ipc_namespace.c 273 failed randomize ipc namespace tunables errno invalid argument 13.524 19446 err ipc_namespace.c 336 failed randomize ipc migration errno invalid argument 13.527 19445 err test.c 298 test exited unexpectedly code errno interrupted system call http show_bug.cgi 2530 signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8030,50a20dfbdcd29133e582d9ac8c77113536ffd6ac,ndrey Vagin <avagin@openvz.org>, 2013-03-05 18:15:42 +0400, , zdtm fix race test_waitsig multithreaded test signal handled non leader thread sigsuspend woken kill send signal specified thread futex used synchronization signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8031,38c699a75465bff16ca01dca0b2b30c46ce6f3de,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-27 23:30:34 +0400, , arch add mssing newline get_task_regs message print pid well leftover early time signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8032,8a8c38b6a377c8828d8017149fe667f4e562a3b7,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-05 02:24:30 +0400, , image move magic number magic.h allows reuse magic number outside crtools code signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8033,8cbe560da3a02a4d3275cefbb64b660dcd33c816,yrill Gorcunov <gorcunov@openvz.org>, 2013-03-05 02:24:29 +0400, , image drop leftover macro unused signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8034,80c1925dd975367375baed44f668dd2bb89fd059,lexander Kartashov <alekskartashov@parallels.com>, 2013-03-04 06:21:12 +0000, , arm added description syscall vmsplice signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8035,3ad5e0c3fef7fb8eefa2ea6138817e34fb6a0e85,lexander Kartashov <alekskartashov@parallels.com>, 2013-03-04 06:21:11 +0000, , arm fixup parasite argument automatically arm parasite head pad 228 byte make offset symbol representable arm instruction set value need changed every time value macro change patch make manual interference redundant signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8036,fd0d38011267094eb926de5d2126eb8680a7edee,avel Emelyanov <xemul@parallels.com>, 2013-03-01 20:13:42 +0400, , zdtm test huge mapping dump restore signed pavel emelyanov xemul parallels.com,,
8037,cf01381cbd956700f0d5a36656f81b4be1e912eb,avel Emelyanov <xemul@parallels.com>, 2013-03-01 20:13:11 +0400, , mem drain memory parasite dumping file currently dump page directly parasite image file bad several reason use custom format page easily since parasite code linked library able optimize migration preliminary memory migration a.k.a iterative migration send page parasite network able let task dump continue running said done page target task put page pipe one patch parasite released page whatever want page spliced pipe image file number order drain 1gb memory task need 1.5m shared map args iovecs pipe descriptor referencing 128mb page int turn requires 640k chunk sequential kernel memory pipe_buffer big guess signed pavel emelyanov xemul parallels.com,,
8038,960694e96f23c34b492c0d88e4ccf1e37ba47876,avel Emelyanov <xemul@parallels.com>, 2013-03-01 20:12:58 +0400, , page pipe introduce object collect page within page pipe object accumulate page inside consists list page pipe bufs turn pipa array iovecs describe page location stats user supposed vmsplice page pipe accumulate later use vmsplice pipe required signed pavel emelyanov xemul parallels.com,,
8039,21449cf73a3b3e9017b7fa0a7719e0cae8b85ef4,avel Emelyanov <xemul@parallels.com>, 2013-03-01 20:12:46 +0400, , parasite prepare allocate args page map signed pavel emelyanov xemul parallels.com,,
8040,4d0b24b52a8da6ed5074d1b354a55578fb018ec6,avel Emelyanov <xemul@parallels.com>, 2013-03-01 20:12:33 +0400, , vma keep track lonest vma list sum length push sort map page dump parasite need estimation much memory need parasite args two value help signed pavel emelyanov xemul parallels.com,,
8041,8fdc707084d47ede8730b9c5c77fd479da3528f0,avel Emelyanov <xemul@parallels.com>, 2013-03-01 20:12:02 +0400, , vma helper check whether vma dumped via parasite signed pavel emelyanov xemul parallels.com,,
8042,b71f9e80be471c722c0a0d7352b369755cd8e799,avel Emelyanov <xemul@parallels.com>, 2013-03-01 20:11:51 +0400, , vma introduce list vmas object right collect list vmas need know number element future need know make sense create vmas list object signed pavel emelyanov xemul parallels.com,,
8043,7a7506f615d2175d1f0aeb34bb0ffe0edd78f4a5,avel Emelyanov <xemul@parallels.com>, 2013-03-01 20:11:38 +0400, , dynamically allocate args array fds drain make use previous patch cred dumping args tuned fit one page minimal static args size signed pavel emelyanov xemul parallels.com,,
8044,b8d0d5e779ac3f7f9e0e9f8056b3c452532e2ae4,avel Emelyanov <xemul@parallels.com>, 2013-03-01 20:11:28 +0400, , parasite make parasite argument variable size sometimes know exact amount data would want send parasite via args area e.g draining fds fix moving args area behind parasite blob mmap ing run time calculated size signed pavel emelyanov xemul parallels.com,,
8045,8133ab41f3a788158b1ef530a60656b0141f59eb,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-26 17:08:47 +0400, , parasite syscall use pr_perror prctl call failure print detailed error report signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8046,6f5859ec84ccbc163924b34554b3e5bfe48063fa,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-26 17:08:46 +0400, , parasite print unknown command number convenient debugging signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8047,300a20072467c618680b5c98cd895dd1ac8d7a1c,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-26 17:08:45 +0400, , pie pas cr_noglibc pie makefile pie code use glibc helper instead passing cr_noglibc macro every source file pie code pas pie makefile signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8048,bdf8c565d93d75cca11f0cb19ff36394825117ee,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-26 17:08:44 +0400, , lock include bug.h instead big util.h make suitable use pie code signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8049,19cc8a5eb2e6fa9e3012d32b7e19d9ebedf39d73,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-26 17:08:43 +0400, , move bug_ons include bug.h need futexes use pie code futex.h bug_on helper diet inclusion move bug_ons code include bug.h signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8050,2badc1d3b0896493dcf0820d12529dbcf95aab5c,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-22 18:08:59 +0400, , make arm use syscalls asm asmflags instead cflags cflags overriden need flag signed cyrill gorcunov gorcunov openvz.org tested alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8051,e02bc20b29046a22712d4a6658aac3f6431cbfde,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-22 18:08:58 +0400, , make pie add fno stack protector pie code use handmade stack need fno stack protector option eliminate compilation warning fstack protector passed command line cflags signed cyrill gorcunov gorcunov openvz.org tested alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8052,efe0cbc1c92feaa123dbc6ecff838e2f1bd54f58,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-22 18:08:57 +0400, , make pie drop fno strict aliasing option already defined general makefile signed cyrill gorcunov gorcunov openvz.org tested alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8053,f7066d7dcaed828bbf61ba9a9d7526516a96b445,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-22 18:08:56 +0400, , make provide mandatory option cflags variable case cflags overriden command line see header anymore provide mandatory option ccflags variable fix http show_bug.cgi 2521 reported jan engelhardt jengelh inai.de signed cyrill gorcunov gorcunov openvz.org tested alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8054,b8ebb4d2602dcb6d2aa4c1ff3701fe506f390c84,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-22 14:49:45 +0400, , check check pipe return value check.c function check.c 372 error ignoring return value pipeâ declared attribute werror unused result signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8055,94ef03947a233c6d8d71482318b94fed7bc579ce,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-22 15:41:27 +0400, , pstree add general core_entry_free helper facrots common core member freeing pstree.c helper per arch freeing helper symmetrical allocating one merge two cyrill patch signed pavel emelyanov xemul parallels.com,,
8056,38e75bc8831064e7b2dc5a0a071a08bb2f097d8f,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-20 19:22:20 +0400, , arch sanitize header inclusion arch x86 crtools.c nt_x86_xstate need system elf.h drop duplicated parasite syscall.h organize header way system header asm header regular header protobuf stuff signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8057,e3b4fb62cc134d03255788491e90e24182e2b06f,avel Emelyanov <xemul@parallels.com>, 2013-02-20 14:58:57 +0400, , criu version 0.4 release first release actually require custom kernel order make tool feature work take v3.8 proper config another coolness release arm port case however one doe require custom kernel since kcmp system call wired arm table upstream kernel else quite lot actually ability lot new stuff remote syscall execution deprecation namespace option build system rework ability collect gcov info signed pavel emelyanov xemul parallels.com,,
8058,15211ed3f78787a091e6550391d392fc2fa497ab,lexander Kartashov <alekskartashov@parallels.com>, 2013-02-20 10:53:39 +0000, , arm fixed syscall table generation rule signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8059,ab0b175115fc43e68ec0cb94bf713c1aa6b32792,lexander Kartashov <alekskartashov@parallels.com>, 2013-02-20 10:53:38 +0000, , arm added cpu specific header inclusion signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8060,5b476fff88987d097fe89111f3aaa0c1047784db,lexander Kartashov <alekskartashov@parallels.com>, 2013-02-20 10:53:37 +0000, , arm added missing asm cpu.h signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8061,888bdda5d4fcd659a8569e7add025c567b2fd7a2,lexander Kartashov <alekskartashov@parallels.com>, 2013-02-20 10:53:36 +0000, , protobuf fixed compilation arm constant 4294967295 replaced 0xffffffff generated source signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8062,d767625be9edba0b29f952cb336e40c638fe4ccf,ndrew Vagin <avagin@openvz.org>, 2013-02-20 14:26:54 +0400, , zdtm.sh fix mainstream kernel test list currently mainstream kernel test list equal test list signed andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8063,b55e07f88346bf7747e91dd68d1bbef8c3acd547,avel Emelyanov <xemul@parallels.com>, 2013-02-20 13:32:20 +0400, , fail so_bindtodevice so_get_filter missing v3.8 exptect kernel signed pavel emelyanov xemul parallels.com,,
8064,47eac37e8b639e268c911c4d452bf439b6be6292,avel Emelyanov <xemul@parallels.com>, 2013-02-19 18:14:26 +0400, , make move criu version constant script root makefile nicer signed pavel emelyanov xemul parallels.com,,
8065,ff328579bc83555a62d56d1b653b7f4c97da2835,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-19 15:46:24 +0400, , make arch make sure syscalls header generated deps case fast cpu make done parallel may following error gen arch x86 sys exec tbl.c gen arch x86 syscalls.s arch x86 crtools.o arch x86 cpu.o arch x86 syscalls.o link arch x86 syscalls.built in.o file included include restorer.h arch x86 crtools.c include lock.h function include lock.h error implicit declaration function sys_futexâ werror implicit function declaration cc1 warning treated error make arch x86 crtools.o error make arch x86 error crtools.c includes syscall.h header generated special script use deps feature provided make engine making sure header generated deps started build reported andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org tested andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8066,379a5d311dfd2b790edba4425f2c58fc2b117d6d,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-19 15:46:12 +0400, , make script makefile.build add deps variable order deps creation since generate header deps creation may need ordered thus add deps variable case signed cyrill gorcunov gorcunov openvz.org tested andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8067,55412e0d16c37f5e62e3b98bed95dccdd990751e,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-19 15:46:06 +0400, , make use iquote header lookup header syscall.h clash system header name need sure header include include something.h searched known place particular machine already produced problem btw revealved problem dump.c include parasite.h fix signed cyrill gorcunov gorcunov openvz.org tested andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8068,03b95b5717cb17763dddd6892fc8838ac89dee35,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-18 17:54:51 +0400, , fpu move definition asm fpu.h fpu data quite cpu type oriented thus move asm fpu.h signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8069,dfa686db8f09d31200ae0badce073db0d92e719a,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-18 17:54:50 +0400, , make x86 make syscalls compilation flag target specific need propagate special flag use syscalls library arch specific object make syscalls local signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8070,fcb9a9bfb12a4cd178ec7e7e7c9b134ce7f1402e,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-18 17:54:49 +0400, , cpu make cpu routine per acrh really depends cpu running signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8071,f50f7d01ec0107793caa7f0416a2c2d333f155c1,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-18 17:54:48 +0400, , make move generated file cleanup clean built target allows reuse code make rebuild work correctly signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8072,2f9f03a36b5ce2c106a291c05548c5b426a81769,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-18 17:54:47 +0400, , lock move inline attribute function type correct syntax signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8073,80c51eeb0927f4b4134d77c2e4aba10adb783120,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-18 17:54:46 +0400, , doc crtools use bold format parameter signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8074,44faee19c1b4ee1a0dac153cf8ee46531d5d6e83,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-18 17:54:45 +0400, , make doc append manpages generation occasionally used assignment instead appending manpages generation fix signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8075,25e8cb5c58e5fe0e8817ab6180721abf334f12ab,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-15 23:40:33 +0400, , make switch main makefile simplified form bit tricky since build infrastructure switching targeted per directory target simplified makefiles used following move rule compile general source main makefiles simply call scritps makefile.build help generate built in.o target also note clean suffix implicit rule .suffixes done purpose eliminate possible side effect future rule _must_ described explicitly implicit rule used zdtm building procedure use stict makefile mode add makeflags top general makefile done one day latter ever signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8076,3ab787dba322ea2bac876a26a8d86802bc65af08,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-15 23:40:32 +0400, , make use relative pathes possible building project toplevel directory need absolute path signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8077,ecf73756ec747bd9b4cbd9b4f46fcc8195b757a8,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-15 23:40:31 +0400, , make need shell call use curdir builtin instead signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8078,c4055499341838831124bc0162d2e65fdc8a96e1,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-15 23:40:30 +0400, , make pie switch new scheme need util net.c pie code regular code move pie directory build fpie option way reuse compiled file main program without additional compilation pas signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8079,a210b5a1c5499b6b0e5b229f4deada851ec048bf,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-15 23:40:29 +0400, , make protobuf switch new scheme signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8080,10ed5a0af4fda6eae21d6d9c578e5e17da2c1588,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-15 23:40:28 +0400, , make arch switch new build scheme signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8081,16c75274a136e9f50fdfd58c06e37eac911575c8,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-15 23:40:27 +0400, , doc add documentation scritps makefile.build signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8082,60455da8253bf9f4d6ce1d27de070dd435ef914f,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-15 23:40:26 +0400, , make add script makefile.build script engine simplified makefiles tried make somewhat close used build linux kernel signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8083,77af03686d49007e30ab7a2c03ca63367ed86523,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-15 23:40:25 +0400, , make add script makefile.rules helper used rule generation new make infrastructure moment helper compile file generate file signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8084,ad4f28cad12fdfaf34a7fed12d7ec8876f906264,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-15 23:40:24 +0400, , make define dummy target script moment built .suffixes variable cleaned slows building procedure add dummy rule thus make try lookup rule script happens last resort rule used note rather stub future convenience affect much current build procedure signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8085,4e6eca18814ba3e5a7d4f6f7262fef90a471031a,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-15 17:37:20 +0400, , make drop flag already defined signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8086,75e1fb5c3a35770741e825b6081d76ed2ed6daa9,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-15 17:34:38 +0400, , include compiler.h cleanup drop parasite space noreturn definition align likely unlikely signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8087,fdfef4b485503baae396b7bb9c6197ebc7d7e71c,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-15 17:33:06 +0400, , header change protobuf protobuf need walk directory need include protobuf file always bad use ability walk filesystem header time need src_dir protobuf general makefile anymore xemul small fixlet head makefile since patch order signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8088,ef4783a646331e1776a441d289b75029cb600f93,ndrey Vagin <avagin@openvz.org>, 2013-02-14 20:27:55 +0400, , check check ability get tcp timestamp signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8089,04c48fefbc0f9e47c6a6b17b7d74e2f48f4db0cf,ndrey Vagin <avagin@openvz.org>, 2013-02-14 20:27:39 +0400, , tcp dump restore tcp_timestamp socket tcp socket get live migrated one box another timestamps typically get screwed new kernel generate value nothing dump solution yet fix kernel put timestamp offset socket fail tcp_timestamp unsupported signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8090,b752e05e41b353dc47da242323285a5c968a151c,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-14 20:26:29 +0400, , dump make sure dumping task running compat mode reported test tracee 32bit task running 64bit kernel patch add test http show_bug.cgi 2505 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8091,90fbbabb34785d7da6f812f91df674e78b17631c,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-11 19:24:06 +0400, , make generate crtools version makefile definition allows unique place version life important subsystem doc generation may reuse version definition moment extra corresponds kernel tag name yet used desided put place future need signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8092,7d8b5da7d6b1ff86d1c8db14797b750e2730beae,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-11 17:14:20 +0400, , net bug unsupported link type met rather exit gracefully signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8093,c77e52992bcddacb411aeb95b5b6dac01c32052c,avel Emelyanov <xemul@parallels.com>, 2013-02-08 02:58:10 +0400, , lock move file locks.c make lock code one place signed pavel emelyanov xemul parallels.com,,
8094,2cdbeb4a11a54d2ef2791951dfe1d17a31204aea,avel Emelyanov <xemul@parallels.com>, 2013-02-08 02:54:24 +0400, , file move dump_task_files files.c signed pavel emelyanov xemul parallels.com,,
8095,bd6a0b891977cc228f4dc6ab895ffce2bf339e4c,avel Emelyanov <xemul@parallels.com>, 2013-02-08 02:49:33 +0400, , file move files.c file dumping signed pavel emelyanov xemul parallels.com,,
8096,12298bf470578c44d8c25e2dc70b8ecf61b26514,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-07 02:12:23 +0400, , make use option otherwise getting warning especially zdtm trying remove non generated file signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8097,286c8b2384ea8606ffa1a997faeaefd3cd67e766,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-07 02:12:03 +0400, , make drop unneeded hexdump use signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8098,f682ba81d355aeab8b10938e0873028e8442f382,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-07 00:25:03 +0400, , socket print socket family unsupported good know family met signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8099,7a74043c592827ea3fe4ad1530fb39d72f31eee1,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-06 21:20:23 +0400, , zdtm add mmap03 test case able test one need indeed enough physical memory node least 16g thus include test regular pass inspired commit signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8100,e8ca542c6a54cd76b0d6dd0f4226657ee54f5553,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-06 21:09:04 +0400, , make pie add generation dep file otherwise pie may built header changed http show_bug.cgi 2465 reported andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8101,96dd1d22d009833c02f61658739226b76999bffa,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-06 21:07:16 +0400, , zdtm unlink link_remap file dump complete case dump procedure invoked left service link_remap file disk prevents next dump procedure test fail hit situation named link_remap already exist test passed option remove link remap file end also patch start passing link remap option test unlink_ prefix name applies limitation test could named thus maybe need flexible solution http show_bug.cgi 2489 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8102,08837c63b1fd180c8da1ec640397800c1179d779,ndrey Vagin <avagin@openvz.org>, 2013-02-06 21:05:53 +0400, , dump fix parsing proc lock is_blocked determined line independently example posix advisory write 1974 392012 eof posix advisory write 1974 392011 eof posix advisory write 1698 1196619 eof posix advisory write 1698 1196620 eof posix advisory write 1698 1196621 eof posix advisory write 1689 1429204 eof posix advisory write 1690 1429202 eof posix advisory write 1690 1429201 posix advisory write 1701 1429201 posix advisory write 1688 1429206 eof flock advisory write 1694 1196520 eof posix advisory write 862 12421 eof posix advisory write 846 12377 eof flock advisory write 821 11378 eof posix advisory write 459 9826 eof posix advisory write 511 10413 eof without patch crtools return error 00.000613 error proc_parse.c 1089 invalid file lock info is_blocked set true line becomes true line signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8103,8afd8a4cb2c46aea54a5e250e6a7a7d7893ae92b,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-06 01:40:34 +0400, , zdtm make add key clean ops otherwise file present getting warning signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8104,40dcaf885eaf3f2f51d08ecb6c18c3f948655c6e,yrill Gorcunov <gorcunov@openvz.org>, 2013-02-06 01:38:26 +0400, ," parasite page dump map page huge bitmap inplace case vma huge size 4,8,16 prealoocated bitmap space enough track page thus call system help invoking mmap call bitmap length needed simply assume big vma present node enough memory provide space page huge bitmap reported adrian reber adrian lisas.de tested adrian reber adrian lisas.de signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com",,
8105,ccbbb18ae2f29f1ba8cc18458de98e65eac5fa4f,ndrey Vagin <avagin@openvz.org>, 2013-01-30 03:28:09 +0400, , zdtm check file permission restored unix socket signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8106,f3cd454cd4de5787a70ee589ade6f56d42980558,ndrey Vagin <avagin@openvz.org>, 2013-01-30 03:28:01 +0400, , unix dump restore file permission signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8107,a27f0e5cb00b0c8ba1da308262abb13ece70cf55,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-29 09:21:46 +0400, , restore align stack byte boundary section 5.2.1.2 aapcs say stack must byte aligned rule broken thread forked function fork_with_pid since variable field stack likely byte aligned patch force byte alingment field cr_clone_arg stack made following test pas arm static shm static ipc_namespace particulary unaligned stack result incorrect passing bit argument function snprintf function  signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8108,5d7cfa8fcfac010f679b849c0bfa824468d92a57,avel Emelyanov <xemul@parallels.com>, 2013-01-25 15:20:38 +0400, , fail collect_sockets non netns case already move check netns case collect_sockets know doe signed pavel emelyanov xemul parallels.com,,
8109,1505815760fbeb77f8dc40245cbfb673985c26c3,avel Emelyanov <xemul@parallels.com>, 2013-01-25 15:14:17 +0400, , fix check whether restore namespace collect_sockets signed pavel emelyanov xemul parallels.com,,
8110,1f0f2cb995b64e8c5240856982f36ccf1bac1de1,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-25 14:58:09 +0400, , doc put backslash needed signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8111,e28960c3484e8a43e9417dd60a06128d187f8c15,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-25 14:57:52 +0400, , make protobuf simplify sed ing need multiple sed call better pas option signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8112,d9adda7cd1922d176b8f97c423aef37966b11876,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-24 15:16:39 +0400, , zdtm autodetect target machine andrew vagin pointed static testsuite compilation may run standalone variable arch available patch introduces facility test zdtm makefile.inc designated detect target machine automatically variable arch defined makefile supposed included test subsuite makefiles andrew vagin also pointed machine dependent test may added non static subsuites well macro adding machine specific header cppflags file test zdtm makefile.inc signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8113,008457e1e2dbeacf8e72c65206f56bec657c5489,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-24 01:44:40 +0400, , make protobuf order file generation patch introduce dependency file generation parsing import keywords .proto file particular core.proto file refers core x86.proto mean need generate file core x86.proto earlier handlig core.proto positive side effect patch compilation independent order proto file declated make file instead currently present manual order proto_files core x86.proto proto_files core arm.proto proto_files core.proto one write arrangement say proto_files core.proto proto_files core arm.proto proto_files core x86.proto still resolved correctly beware circular import directive handle signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8114,d701221e5454fe17aba129301a34a3331081a34d,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-24 01:44:39 +0400, , make protobuf generate protofiles deps protobuf file import another file generate dependency rebuild program needed example core.proto import core x86.proto core arm.proto thus changed final core.pb c.c regenerated signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8115,2e7982ce3f2bdd8bec3f124eeca44a812c15af8c,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-24 01:44:38 +0400, , make protobuf mangle integer constant arm known work x86 make build procedure bit faster signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8116,7d1d2e9f9d0a4dd0cae0b57f6e00a8ffd8c48151,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-24 13:20:57 +0400, , make simplify arch retrieval actually former code expanding uname_m variable set early problem since assign line still dead code fixed also update ifeq findstring arm arch arm simple ifeq arch arm reported andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org acked alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8117,629e045466d0cc50faed78f57ce98945e1801518,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-23 18:22:47 +0400, , protobuf move arch core resource core arch .proto unweave arch dependent part general core.proto file signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8118,10a1045b8acd1b7b0892ff922cd6306c518add91,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-23 00:37:03 +0400, , x86 drop ifdef config_x86_64 guard check proper architectrue makefile need additional guard porting project x86 far bigger implement proper core part covered else config_x86_64 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8119,709b091f9f6267d44e04863a08566aeacb38d09d,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-23 00:37:02 +0400, , make yield error x86 since support x86 yet issue error early signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8120,43407bdf87550d79dad52d983db1dff431e811f1,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-23 00:37:01 +0400, , make drop redundant debug assignment signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8121,79f27d49e8351661b4702680ae4ab4786abc4248,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-23 00:37:00 +0400, , make split long line signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8122,8fa8ca9feb7565ae4c40305bb462956fdec0ffbc,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-22 22:53:24 +0400, , arm added arm specific file modelled arch x86 signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8123,a0c86a25ab0a15bbc552926cb6d745028f179074,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-22 22:52:39 +0400, , core.proto added arm specific part core message signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8124,31f9ef8f90c202a123f09e2c72193d196ff691d5,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-22 22:52:00 +0400, , zdtm moved lib atomic.h lib arch x86 include asm atomic.h file lib atomic.h machine dependent file test suite break compilation test static session01 arm file moved separate directory build system modified accordingly prevent signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8125,5500145557f60f2511b07bed4ab50cec437d4920,ndrey Vagin <avagin@openvz.org>, 2013-01-18 15:05:20 +0400, , test add ability execute test parallel test executed pid namespaces executed parallel make zdtm_ns real 0m54.806s user 0m2.779s sys 0m4.338s make zdtm_ns real 0m11.587s user 0m3.361s sys 0m5.134s another feature patch subset parallel test executed subset sequential test first subset failed second one small chance fail part bug found first second signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8126,f35bfe1f7d5717eddb60df760bed0cf85b42fae4,ndrey Vagin <avagin@openvz.org>, 2013-01-18 15:05:18 +0400, , zdtm.sh exec cleanout per test required parallel execution test signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8127,c8484f10ef74e220e8aa1d0ca4d911dd8531a8f2,ndrey Vagin <avagin@openvz.org>, 2013-01-18 15:05:17 +0400, , zdtm add ablitiy execute cleanout per test signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8128,ea767143f17bd1f02e622759f9e6950d6a27c926,ndrey Vagin <avagin@openvz.org>, 2013-01-22 22:45:31 +0400, , tty require stdin terminal shell_job set signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8129,749116b49ec30af9e8365772a1c9125ac1bf68fc,ndrey Vagin <avagin@openvz.org>, 2013-01-18 23:51:14 +0400, , crtools fix name file lock help message signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8130,324e432cbb335e72779498446a24089942144dff,ndrey Vagin <avagin@openvz.org>, 2013-01-18 23:51:13 +0400, , zdtm get test file name argument signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8131,abdaea24219aba0b87ebd0548e680b42b1051c1b,ndrey Vagin <avagin@openvz.org>, 2013-01-21 17:39:13 +0400, , zdtm hardcode file name test get file name argument signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8132,cd88cafc37ad3003785acbd73d040237449b30ad,ndrey Vagin <avagin@openvz.org>, 2013-01-18 23:51:12 +0400, , app emu lxc dump restore file lock signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8133,ab2d10c247608fcc5be34b6f24fa401e53d3327f,ndrey Vagin <avagin@openvz.org>, 2013-01-18 23:51:11 +0400, , zdtm move file_locks test case common list case executed name space signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8134,d6ae662374e3ed4e6a1db330c5b652b35127cc35,ndrey Vagin <avagin@openvz.org>, 2013-01-21 17:34:27 +0400, , dump call stat proc pid directly patch committed instead patch dump move dump_task_files patch dump fix dumping file lock mount namespace readlink required file unavailable process another mnt namespace signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8135,8587f7dec11af21786adb47f61c349f9e108bd95,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-21 17:32:18 +0400, , zdtm sched_prio add missing header glibc 2.16 getting sched_prio00.c function mainâ sched_prio00.c error implicit declaration function setpriorityâ werror implicit function declaration sched_prio00.c error prio_processâ undeclared first use function sched_prio00.c note undeclared identifier reported function appears sched_prio00.c error implicit declaration function getpriorityâ werror implicit function declaration fix adding header needed signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8136,475bb1e77522e6f40d4171266ec8e079b397a49c,avel Emelyanov <xemul@parallels.com>, 2013-01-19 01:16:19 +0400, , rst evaluate per task clone mask early read pstree item get desired clone flag early avoid dance flag calculation fork_with_pid company signed pavel emelyanov xemul parallels.com,,
8137,10b338c5dbe95f0ad37109034fea849d7dcd2f78,avel Emelyanov <xemul@parallels.com>, 2013-01-19 00:30:42 +0400, , fdt move shared fdt structure preparation separate signed pavel emelyanov xemul parallels.com,,
8138,6045ca0e31334358f81647d35ad522106091e22b,avel Emelyanov <xemul@parallels.com>, 2013-01-19 00:04:04 +0400, , rst cehck object sharing attaching helper tree helper board thus check shared parent wrong signed pavel emelyanov xemul parallels.com,,
8139,7ee4c484ae787b4e6e0ca5a60bc6c62772c83939,avel Emelyanov <xemul@parallels.com>, 2013-01-18 23:34:30 +0400, , dump fix dump_zombies declaration signed pavel emelyanov xemul parallels.com,,
8140,792bf0c49474cdad3577f25ad44cc2189c5e9367,avel Emelyanov <xemul@parallels.com>, 2013-01-17 18:46:42 +0400, , fix namespaces restore older image old image clue whether root task created new namespaces remember using namespaces option explicitl specification fact signed pavel emelyanov xemul parallels.com,,
8141,ac845bd1d8f7298e97b779f587a1fb46dd5737a7,avel Emelyanov <xemul@parallels.com>, 2013-01-17 18:14:55 +0400, , obsolete namespaces option longer required use option two currently supported case task host task container detected automatically keep option future signed pavel emelyanov xemul parallels.com,,
8142,a46831aee9bfde2b1b7adef854c681d4726a0454,avel Emelyanov <xemul@parallels.com>, 2013-01-17 18:10:29 +0400, , detect namespaces presence automatically introduce current_ns_mask variable collect info namespaces task dumped restored live simlicity task supposed live one set space fixed eventually signed pavel emelyanov xemul parallels.com,,
8143,2f22c6884931d36957d5b6704d8e3dde6dda72a8,avel Emelyanov <xemul@parallels.com>, 2013-01-17 17:48:19 +0400, , dump collect task early required know whether root task life namespaces early e.g lock network properly thus collect task right time collect task signed pavel emelyanov xemul parallels.com,,
8144,1a6097562288f47213069eabda97bb1052eea526,avel Emelyanov <xemul@parallels.com>, 2013-01-17 16:56:24 +0400, , img save crtools process inventory restore need know whether root task cloned new set namespaces natural comparing root world signed pavel emelyanov xemul parallels.com,,
8145,15999f6b2fa87994c3612d866bfb8b303a0d440f,avel Emelyanov <xemul@parallels.com>, 2013-01-18 13:18:35 +0400, , split routine dump task signed pavel emelyanov xemul parallels.com,,
8146,2105e18eee70adbedbddb75443b8d335ee2c9784,avel Emelyanov <xemul@parallels.com>, 2013-01-18 13:18:33 +0400, , core save task namespaces image recent kernel allow get namespaces reading proc link use generate task namespaces generate since provided kernel look ugly signed pavel emelyanov xemul parallels.com,,
8147,47c98c63d7e5abd55a716de9d30de91ca2eba4e2,ndrey Vagin <avagin@openvz.org>, 2013-01-17 18:38:27 +0400, , syscall add sigqueueinfo signalfd pread signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8148,2d70f896649e34e551e8312f7923303a3658467b,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-18 11:08:39 +0400, , protobuf cast result macro size_t signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8149,b97e24e3fb0e5426f31942ae8dba2361bc8734c3,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-18 11:08:38 +0400, , introduced function decode_pointer encode_pointer function designated convert native pointer uint64_t used store virtual address protobuf message vice versa machine independent way signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8150,bde8beca7105267f31f855e144de3b8912d6254e,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-18 11:08:37 +0400, , use uint64_t represent virtual address patch reverts commit signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8151,ac97f9077a6d5b16caefa4790240639fdc981b2e,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-18 11:08:36 +0400, , parasite syscall.c infect vma task_size task executes non userspace code sometimes take place arm seized subsequent infection syscall blob fails ptrace fails write vma patch modifies function get_vma_by_ip check task seized task_size boundary check fails first suitable vma infected signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8152,bd10da7869c6e29a110d02747e92a9e20873ba61,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-18 11:08:35 +0400, , print_hex_l print hex digit bit machine patch prevents compilation warning shift overflow arm signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8153,ae898912791f2e4de187faad547b9958cba1b173,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-18 11:08:34 +0400, , introduced macro bits_per_ulong macro specifies size machine pointer explicitly signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8154,3bb6d9f4fb4f848c64735412533a7661b217603a,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-18 11:08:33 +0400, , use length modifier print integer type size_t signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8155,4f7161dd4c0b389c7a7269495ff0545d4a841eb0,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-18 11:08:32 +0400, , file lock.c generalized format string patch fix format string newly added code signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8156,6586c4685cfbb700fa2c5c6eef3272356c641362,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-17 19:20:41 +0400, , fsnotify fail old version inotify fanotify image present reported andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8157,e0e258c344f48d44d5fa56caf32e668f340b1dfe,insbursky Stanislav <skinsbursky@openvz.org>, 2013-01-17 16:00:48 +0400, , ipc restore ipc object credential part lost update sysctl interface ipc object specifying previous currently obsolete interface able pas proper credential key change signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8158,dae5f928f701723c518d20776959344034b1befa,insbursky Stanislav <skinsbursky@openvz.org>, 2013-01-17 16:00:47 +0400, , ipc renaming make code look pleasant signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8159,ce4c8c1d317e73579e6933693910d1e34293b479,ndrey Vagin <avagin@openvz.org>, 2013-01-17 14:46:33 +0400, , crtools prevent dump memory mapping dev zero oracle mapping add check file character device signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8160,4a7064633551388ce1f75da08e268749fafb9fc6,iang Huang <h.huangqiang@huawei.com>, 2013-01-17 16:09:37 +0800, , zdtm add flock file lock test case check shared lock exclusive lock mandatory read lock flock file lock restore parsing proc lock file check process hold file lock dumped signed qiang huang h.huangqiang huawei.com signed pavel emelyanov xemul parallels.com,,
8161,a52a66f652df18111200fd1882ffb588bb6437b3,iang Huang <h.huangqiang@huawei.com>, 2013-01-17 16:09:36 +0800, , zdtm add posix file lock test case check read lock write lock posix file lock restore use fcntl f_getlk lock see file hold lock dumped signed qiang huang h.huangqiang huawei.com signed pavel emelyanov xemul parallels.com,,
8162,882005a0ed733bff1f6537540df3968c6e2a1340,iang Huang <h.huangqiang@huawei.com>, 2013-01-17 16:09:35 +0800, , doc update manpage document file lock signed qiang huang h.huangqiang huawei.com signed pavel emelyanov xemul parallels.com,,
8163,4bf96b66804c9e69311c47cfe7a1912d4acd2ba7,iang Huang <h.huangqiang@huawei.com>, 2013-01-17 16:09:34 +0800, , crtools restore flock posix file lock according file lock information image recall flock fcntl proper parameter rehold file lock dumped support flock posix file lock far changelog since initial version use instead restore function directly fix bug originally signed zheng cengku.gu huawei.com signed qiang huang h.huangqiang huawei.com signed pavel emelyanov xemul parallels.com,,
8164,95801808aad3b2786a73e1f4faaab38ceb9b39f0,iang Huang <h.huangqiang@huawei.com>, 2013-01-17 16:09:33 +0800, , crtools dump flock posix file lock dump file lock necessary entry image support flock posix file lock right changelog since initial version got file lock info global list much simpler originally signed zheng cengku.gu huawei.com signed qiang huang h.huangqiang huawei.com signed pavel emelyanov xemul parallels.com,,
8165,286801d4c19c3d41b015067f9ba26c46f4e2785a,iang Huang <h.huangqiang@huawei.com>, 2013-01-17 16:09:32 +0800, , crtools collect check file lock collect file lock golbal list use easily dump_one_task optimizaton collect file lock hold task pstree thanks ptrace seize machanism aviod blocked file lock issue make work simpler right check handle one situation dumping task file lock hold without option cover part still need work make perfect robust future signed qiang huang h.huangqiang huawei.com signed pavel emelyanov xemul parallels.com,,
8166,b08836cc513202c0bc16bfae8e0476c88ed1283d,iang Huang <h.huangqiang@huawei.com>, 2013-01-17 16:09:31 +0800, , pstree add function check task pstree sometimes parse global info file care task taken dump file lock mean pid pstree function like would help signed qiang huang h.huangqiang huawei.com signed pavel emelyanov xemul parallels.com,,
8167,de54cd438513ef0d37dde263c2df41e2e9b815b3,iang Huang <h.huangqiang@huawei.com>, 2013-01-17 16:09:30 +0800, , crtools add image content filelocks content needed filelock image originally signed zheng cengku.gu huawei.com signed qiang huang h.huangqiang huawei.com signed pavel emelyanov xemul parallels.com,,
8168,0de267ccdc9779f1c3a16e7b40b6657ca775d3cc,iang Huang <h.huangqiang@huawei.com>, 2013-01-17 16:09:29 +0800, , crtools add callback show filelocks d.img add callback filelock image show originally signed zheng cengku.gu huawei.com signed qiang huang h.huangqiang huawei.com signed pavel emelyanov xemul parallels.com,,
8169,c9797cfa27deac64d053f9d1a436d4e763d3434a,iang Huang <h.huangqiang@huawei.com>, 2013-01-17 16:09:28 +0800, , protobuf add new description saving file lock need new protobuf description file lock originally signed zheng cengku.gu huawei.com signed qiang huang h.huangqiang huawei.com signed pavel emelyanov xemul parallels.com,,
8170,8f96ff85ff325e04d5e44083963be8f5f5b10565,iang Huang <h.huangqiang@huawei.com>, 2013-01-17 16:09:27 +0800, , crtools add file lock option add file lock option support handling file lock safety used container originally signed zheng cengku.gu huawei.com signed qiang huang h.huangqiang huawei.com signed pavel emelyanov xemul parallels.com,,
8171,5c011782796a2118a5d9a938c29eea6465f009e4,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-16 19:41:01 +0400, , protobuf replace constant 4294967295 0xffffffff generated source workarounds compilation warning arm packet sock.pb c.c function packet sock.pb c.c error decimal constant unsigned iso c90 werror packet sock.pb c.c top level packet sock.pb c.c 318 error decimal constant unsigned iso c90 werror signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8172,3c16edc0bd0f355a539570c60a48b7e4c6917427,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-16 19:20:08 +0400, , generalized format string patch replaces format specifier prix64 following place format string argument function scanf printf macro gen_sysctl_ _func need explicit specification integer size signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8173,7997f673be9b4a82a934441a6a07b176da4a03d0,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-16 19:15:40 +0400, , restorer introduced struct krlimit layout struct rlimit depends value macro userspace kernel definition becomes incoherent bit platform struct krlimit representing kernel version struct rlimit introduced address issue function restore_rlims fixed convert userspace kernel representation struct signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8174,d63ed7a443af6d83aed82ca9a6d025aae93194f1,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-16 19:10:58 +0400, , x86 fixed value macro task_size match kernel one make possible use task_size instead task_size_max signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8175,95bcaed4cbbbc0fb6c193062f380d3611b31c65f,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-16 19:10:25 +0400, , include restorer.h use alias userregsentry signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8176,d5bdf54eab7130fae3f6b2e224da2842f9ec2a7c,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-16 02:22:09 +0400, , fsnotify fanotify fix object read procedure occasionally read object inotifywdentry trigger bug test since event still occured protobuf file refine format close mean fanotify00 test case need updated addressed patch forget init field signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8177,29c940072a30bd9c12161da56cc360aa33d52968,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-16 02:22:08 +0400, , fsnotify inotify forget init field object allocated malloc lack initialization problem moment since assign member unconditionally might cause problem future better init early possible signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8178,c28573fda1fad8e6bc23b462cd324efa2f06b1a1,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-16 02:22:11 +0400, , zdtm fanotify00 make test check flag reading event entry exist buffer enough rathee need sure flag bit recovered well sake parse fdinfo session compare result signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8179,12b579bac09afc91c2fdaefd2ffb8b3301e6d5fd,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-16 02:22:10 +0400, , fsnotify fanotify take accout global flag assigned fanotify object missed first place signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8180,27c8a3cf65e2768ff78953b8c07404fea9e6aab6,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-16 02:22:07 +0400, , fsnotify rename collect_one_wd consistent naming helper already signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8181,d6664eea4afe7abd14d53067659badc7e162d88c,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-16 02:22:06 +0400, , proc parse add alloc_fhandle free_fhandle helper remove code duplication strong need free_fhandle decided add consistent alloc free handler signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8182,8573f5ec53835b2ed6bce37c26af4bea3722719a,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-16 02:22:05 +0400, , fsnotify drop parasite trailing space signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8183,3a1c7d1d76ec53ee83bbc1567e65293cb2e0e147,avel Emelyanov <xemul@parallels.com>, 2013-01-15 23:24:01 +0400, , introduce descriptor structs tie together string clone_ flag nice one code becomes simpler help auto namespaces detection signed pavel emelyanov xemul parallels.com,,
8184,eb8f8c12cd5b02b87ae7476f62918cfd9bc3bf97,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-15 23:17:57 +0400, , fsnotify fanotify group object image pavel proposed refine fanotify image object squeezing common part separate entry finally object grouped enum mark_type inode mount  message required uint64 i_ino required fh_entry f_handle  message required uint32 mnt_id  message required uint32 required mark_type type required uint32 mflags required uint32 mask required uint32 ignored_mask required uint32 s_dev optional optional  required tuning fdinfo parsing fsnotify code result look good signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8185,fd72e27d9064316254b583727ea47e769db4f973,avel Emelyanov <xemul@parallels.com>, 2013-01-15 20:42:57 +0400, , inventory show image standard shower signed pavel emelyanov xemul parallels.com,,
8186,5730f8173ccc45a7719ef100d36a617ef22dd2d3,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-15 19:07:04 +0400, , zdtm fanotify00 use exit instead fail test_daemon call andrew pointed logically correct use err instead fail test_daemon used signed cyrill gorcunov gorcunov openvz.org andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8187,3f3498bccdc8ad99b5dfa351068e85f6ac530d6e,ndrey Vagin <avagin@openvz.org>, 2013-01-15 18:53:00 +0400, , net file descriptor zero signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8188,f2a46c3d00d9a11bac60680c82cd27a9c161e58a,ndrey Vagin <avagin@openvz.org>, 2013-01-15 18:52:59 +0400, , util check stdin unused closing signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8189,e7189054d51b220b769b9797445e9032395c63c9,ndrey Vagin <avagin@openvz.org>, 2013-01-15 18:52:57 +0400, , restore close_old_fds restoring namespaces restore netns file descriptor root netns descriptor opened forking add one service think approach better signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8190,bce18732d7d5ab8460aaf04b1f4edafe04f465a6,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-14 20:48:12 +0400, , zdtm add fanotify00 test one pretty trivial need extented mask flag fine signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8191,962af529326e1c16cb573105fbc55ce5361626d9,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-14 20:48:11 +0400, , fsnotify add dumping fanotify object signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8192,d5927a47f1a7329deff2f50307ce048a38c54eb6,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-14 20:48:10 +0400, , proc parse add parsing fanotify object signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8193,05bb44960f24d15e80bfc155be005a063ef08df2,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-14 20:48:09 +0400, , dump collect mount information dump fanotify dumping need find mount point path lay moreover save mount point device number image thus collect mount point information dump stage signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8194,ddf773585bfea1b8a1deb338edc83510cb3037d3,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-14 20:48:08 +0400, , fsnotify add restore fanotify way done inotify walk mark hooked file entry restore call signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8195,f1f0be2d20511e5ebf454c145aa7cbef205fc383,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-14 20:48:07 +0400, , fsnotify fanotify add collecting fanotify object real restore yet collecting file entry mark simplicity ideally everything ready tested unitfy generic fsnotify restore engine debug reason inotify fanotify kept separated signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8196,eb1fc62de90af4b76db662e52427c9a611ff5227,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-14 20:48:06 +0400, , fsnotify rename info_head fanotify inotify gathered separate list signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8197,a124f7c67d9ac6d4c46d97a3df300a01acc7e030,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-14 20:48:05 +0400, , fsnotify rename collect_mark need helper unify naming scheme signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8198,a5f5b17d565cb0e4337562834081e17b145876de,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-14 20:48:04 +0400, , fsnotify rename collect_one_ify fanotify helper unify naming scheme rename one signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8199,874f513201fbec8f9ad6fd444f42cc28d93e5bd4,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-14 20:48:03 +0400, , fsnotify rename desc_ops fanotify descriptor avoid confusion rename signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8200,e73f99300d2dfdefa8104dcd6eb6b5bd4fc926a8,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-14 20:48:02 +0400, , fsnotify extend carry fanotify file entry signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8201,67ccef7e1ba13b85da4879939043f8756c491b85,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-14 20:48:01 +0400, , fsnotify rename carry fanotify file entry well signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8202,abdadb51b324f8f2c569c970eb458a931693cf85,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-14 20:48:00 +0400, , fsnotify extend carry fanotify mark signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8203,6472bdf545e801d7036d2721d1259f5021813fbd,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-14 20:47:59 +0400, , fsnotify rename inotify_wd_info structure structure carry mark type signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8204,be534b9ecc520a61fe1426712975a78eb7c3911f,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-14 20:47:58 +0400, , fsnotify move debug printing get_mark_path print detail going signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8205,5425da0b61ad207d21b6dd8ea35b6c1bf59ac3eb,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-14 20:47:57 +0400, , fanotify introduce get_mark_path helper use fanotify object restore eliminate code duplication make separate helper signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8206,f385d32da5cfa943a209b2ebd22a9916ac826c69,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-14 20:47:56 +0400, , image fanotify add scaffold code fanotify object signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8207,4629ecd39164f60ae003f31cebbb1d58d00a9041,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-14 20:47:55 +0400, , protobuf fsnotify add fanotify entry signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8208,78259da3813e61cbd165122aab7807b15124d403,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-14 20:47:54 +0400, , fsnotify add helper need dump fanotify object signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8209,f58ab92cfe18b03ba0bf87703beb7a1104c284a7,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-14 20:47:53 +0400, , mount add lookup_mnt_id lookup_mnt_sdev helper need lookup mount point mount device fanotify restore signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8210,2d4a16c6add36cc1496bd3ec483d676ee42a3a20,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-14 20:47:52 +0400, , syscall add need restore fanotify object signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8211,b724096f0fa59525c89f94f8fd5650fd9047d494,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-14 20:47:51 +0400, , fsnotify rename inotify file fsnotify handling inotify fanotify object thus make confusion rename file fsnotify signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8212,456884ea8e457509036e3c82a8ad42fd33396126,ndrey Vagin <avagin@openvz.org>, 2013-01-15 17:57:45 +0400, , zdtm.sh exit zero case success bash script exit code last command zdtm.sh return tmp_tree initialized signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8213,64706655b6248c2a336839b12a2a545e961f7ecd,ndrey Vagin <avagin@openvz.org>, 2013-01-14 18:47:26 +0400, , zdtm check so_reuseaddr restored signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8214,b1abc3b21c19f8b326e0eaff50df9c6e12cbb3a7,ndrey Vagin <avagin@openvz.org>, 2013-01-14 18:47:19 +0400, , restore desable tcp repair mode twice tcp repair mode disabled unlocking connection disabling repair mode drop so_reuseaddr restored signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8215,effe3294d92bcb50788281cb09149a1fe00ff8ce,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-14 18:27:52 +0400, , zdtm added target architecture check fpu test signed alexander kartashov alekskartashov parallels.com acked andrey vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8216,6773090014620ce7efb32bb5b2ac94cc49761e4f,avel Emelyanov <xemul@parallels.com>, 2013-01-14 17:19:06 +0400, , core introduced macro access machine specific part coreentry merge slight rework ti_sp macro alexander patch subj signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8217,801806393326b39c4855b8543bafbeaf155d0abc,ndrey Vagin <avagin@openvz.org>, 2013-01-11 23:56:24 +0400, , zdtm.sh execute zdtm test case defined commit functionality help test patch set git rev list head head test zdtm.sh break done signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8218,a19cf2be4196dae9bc38eb8d195cd0d2dc4d553b,ndrey Vagin <avagin@openvz.org>, 2013-01-11 23:56:23 +0400, , zdtm.sh use another directory temporary crtools tree convinient reason need recompile source test case change current tree signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8219,07f5c3fecfa472d50b44db8bd2cef5bbb49a48f4,ndrey Vagin <avagin@openvz.org>, 2013-01-11 23:56:22 +0400, , zdtm compile test constructing new root binary required get shared library dependency signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8220,fb14f5d1184763647a2b887c9d4ccf97200c4ce0,ndrey Vagin <avagin@openvz.org>, 2013-01-11 23:56:21 +0400, , zdtm remove mention test_init test_init removed long ago signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8221,e513535b14cd85c7e473b02532b4de34ec39ab99,ndrey Vagin <avagin@openvz.org>, 2013-01-11 23:56:20 +0400, , zdtm.sh fix absolute path crtools zdtm.sh launched absolute path exit error due incorrect path crtools signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8222,24887c6e9cb985b017cb368a51eb3e0eb35aab55,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-14 14:26:18 +0400, , log add generic helper accepts va_list argument suitable wrapped another helper signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8223,c406ccc06f4766354c21fd357609751a5078328a,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-14 14:26:07 +0400, , log make pr_err_once use pr_err need core duplication signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8224,7dccef3ad4fd3eed2f2939c7692197943b4bdd98,yrill Gorcunov <gorcunov@openvz.org>, 2013-01-14 14:25:59 +0400, , log beautify log.h signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8225,58f26c8fdd68c56263ea643816147462768eff17,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-14 11:26:05 +0400, , parasite syscall.c moved function mmap_seized file arch x86 crtools.c signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8226,9f92cf5acd640221b606112058fd06b5657bd4ff,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-14 11:26:04 +0400, , image.h moved macro at_vector_size file asm types.h signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8227,58064d9b723bd5a5e5910ed752fb3b19cc962fa8,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-14 11:25:57 +0400, , use unsigned long type integer representing virtual address patch intended reduce usage macro since integer size mismatch sometimes may fixed type generalization signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8228,9209d9eb212d193f0ef06d62b98b1f0acf034952,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-14 11:25:50 +0400, , core introduced macro represent target architecture signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8229,fa1590bb17256a4a0b07294ba1fd0da0269ea8d2,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-14 11:25:49 +0400, , restorer introduced macro sigframe_offset macro designated tune beginning sigframe different architecture signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8230,446f89ddc5ad5708f43788616f29fa5d26538b63,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-14 11:25:48 +0400, , restorer introduced macro rt_sigframe_uc access user context sigframe signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8231,46dfd9a0018f4a848f31a1c05e0e2123684431dc,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-14 11:25:46 +0400, , parasite syscall.c introduced macro reg_res reg_ip macro reg_res used access syscall return value register struct macro reg_ip used access program counter register struct signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8232,928f1deea3a9a722e32a38f33170acd63dc51c93,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-14 11:25:45 +0400, , parasite syscall.c introduced macro arch_si_trap macro introduced abstract behavior breakpoints generate different value field siginfo.si_code different architecture signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8233,b84059a608887570e3351d3a8ab07d5b5ead98a2,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-14 11:25:44 +0400, , multiarch removed target architecture check following file include image.h include syscall types.h include restorer.h parasite syscall.c dump.c show.c pie parasite.c signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8234,714cbe701b1e2cb186449e4c7ba4a3f3360b09d7,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-14 11:25:43 +0400, , compile suite unsupported architecture signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8235,b9645bb5ecc70a671e89c5c65d140322fb8f2b18,ndrey Vagin <avagin@openvz.org>, 2013-01-12 00:55:36 +0400, , zdtm test shared file table signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8236,979eb2a1798f57646db199b487bfeac49b98b63e,ndrey Vagin <avagin@openvz.org>, 2013-01-12 00:44:26 +0400, , restore restore pocesses share one fdtable currenly crtools support case child shared table parent two interesting thing service descriptor cloned process shared one table one task restore file task sleep time allocate fdt_lock shared memory wait child share fdtable move pstree image save separate image save fdinfo per instead pid fix alignment service_fd_id signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8237,d50c786c7ea67a57808e1d6bd1d748b637561a30,ndrey Vagin <avagin@openvz.org>, 2013-01-11 18:16:25 +0400, , file dump fdinfo per files_id instead pid process share one fdtable signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8238,bb25ed38c8531865160af02fec3b013bf36270cf,ndrey Vagin <avagin@openvz.org>, 2013-01-11 18:16:24 +0400, , file close_old_fds forking child process share one table process set service file descriptor process know nothing servic fds another process two process share one table close_old_fds close servic descriptor another process signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8239,3c8bd5ccd1c776e0619ad512840c58308fff911e,ndrey Vagin <avagin@openvz.org>, 2013-01-11 18:16:23 +0400, , pstree allocate fdt shared data fdt shared data contains pid process restore file descriptor futex synchronization process mimimal pid restores file descriptor signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8240,0ec10e4e160c51c322a4d28c9d5657c7e255cf29,ndrey Vagin <avagin@openvz.org>, 2013-01-11 18:16:22 +0400, , dump save pstree_item used determing resource shared signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8241,20b5ed916f8057183c1960ea4a1e176bf3626a62,ndrey Vagin <avagin@openvz.org>, 2013-01-11 18:16:21 +0400, , crtools put kobj separate image file read together pstree item checking kind resource shared core big reading place fix check_core signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8242,4ea621439100114f454c02aa7783a9c4c2893549,ndrey Vagin <avagin@openvz.org>, 2013-01-11 18:16:20 +0400, , crtools add ability create close service service created otherwise get_service_fd return patch remove functionality subsystem allows clone service descriptor rename open_service_fd two patch merged bisecting signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8243,e6106956af5aaedf138749dc971b02d914be1118,ndrey Vagin <avagin@openvz.org>, 2013-01-11 18:16:19 +0400, , util clone service descriptor table shared task look like namespace service descriptor used restoring task shared table service descriptor process know sub system like log proc etc try find free name space signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8244,e12dad0ade3d6b480cf8a3b27b0f38849c37be98,ndrey Vagin <avagin@openvz.org>, 2013-01-11 18:16:18 +0400, , mntns close_proc clean mount proc could umounted file opened signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8245,a82cb23f984db97c731ac48fa6fbbc48f3a85204,avel Emelyanov <xemul@parallels.com>, 2013-01-11 17:44:34 +0400, , pipe dump restore pipe size signed pavel emelyanov xemul parallels.com,,
8246,42d7bc07cb403c7d72e9e35e9e6fac9e7867ff44,avel Emelyanov <xemul@parallels.com>, 2013-01-11 17:37:02 +0400, , pipe make pipe data entry always present image contains info pipe jut one end thus want add e.g size put thus always present signed pavel emelyanov xemul parallels.com,,
8247,0edb637463b2594b2c67ccba56bdaaa2ff822cd4,ndrey Vagin <avagin@openvz.org>, 2013-01-11 16:51:49 +0400, , zdtm.sh detect unrecognized option signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8248,49a89764e122c53a28869e6403644afea975159c,ndrey Vagin <avagin@openvz.org>, 2013-01-11 16:51:41 +0400, , zdtm add error message crtools absent signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8249,07a8647466a2e19e9732ffae2319a760f68cfe11,ndrey Vagin <avagin@openvz.org>, 2013-01-11 14:50:44 +0400, , lock add fix description signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8250,0fc129a121cabb06c36f4952b064565035952cb4,ndrey Vagin <avagin@openvz.org>, 2013-01-11 13:22:41 +0400, , file pas file descriptor fdinfo image instead cr_fdset currently fdinfo dump task cr_fd_fdinfo cr_fdset task share one table set descriptor dumped image name contain files_id instead pid case cr_fd_fdinfo away cr_fdset signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8251,dcf158e21d99c2fc5b6c1c6c617b31d6db865e82,ndrey Vagin <avagin@openvz.org>, 2013-01-11 11:34:11 +0400, , crtools fix backward compatibility crtools failed new image absent signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8252,46c6b791a88fff628cfb205f3d035f5d292f5ef8,ndrey Vagin <avagin@openvz.org>, 2013-01-11 11:34:03 +0400, , zdtm.sh check backward compatibility zdtm.sh commit save current head rollback commit compile crtools execute test dump process checkout current head comple crtools restore test process check result signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8253,0fd2d39230a60f7c94e606b817f92d05fcc93add,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-10 20:12:44 +0400, , test suite added support debian distribution replaced shell interpreter bash run script test zdtm.sh correctly added new directory routine contruct_root searched debian version dynamic linker signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8254,60066f2dbbae5e0794cf83cf654640d10b53972e,avel Emelyanov <xemul@parallels.com>, 2013-01-10 20:10:00 +0400, , zdtm test rlimits signed pavel emelyanov xemul parallels.com,,
8255,748be831811f0250268a3215e9bcd3d0af1f1408,avel Emelyanov <xemul@parallels.com>, 2013-01-10 20:08:38 +0400, , support rlimits dump new prlimit syscall work arbitrary pid restore done restorer _after_ mapping mixup _before_ cap drop make set max value rlim_infinity handled explicitly help future bit migration signed pavel emelyanov xemul parallels.com,,
8256,d2b3a26b2f56b5b39212834344091d9929df918e,avel Emelyanov <xemul@parallels.com>, 2013-01-10 18:40:01 +0400, , zdtm allocate memory mprotect calloc fc17 box calloc call brk subsequent mprotect prot_exec fails eaccess using mmap safer signed pavel emelyanov xemul parallels.com,,
8257,f8a1207927d7344e378b4ee56881b983550f105f,ndrey Vagin <avagin@openvz.org>, 2013-01-10 15:22:16 +0400, , sysctl zero valid number file descriptor signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8258,d703f8260ed2b1604942f3b6e0766cd1412d7bc9,avel Emelyanov <xemul@parallels.com>, 2013-01-10 12:48:31 +0300, , support umask dump restore one bound task info cwd root thus put fs.img file signed pavel emelyanov xemul parallels.com,,
8259,f787f922e2f1c862475e58f13b28af2e31959cf6,avel Emelyanov <xemul@parallels.com>, 2013-01-09 18:32:56 +0300, , dump pas coreentry thread dumping routine number argument used carry data via big already fill required core field inside signed pavel emelyanov xemul parallels.com,,
8260,e129ae26c411e8a1d4f73b1d092aadf396daefe0,avel Emelyanov <xemul@parallels.com>, 2013-01-09 18:27:54 +0300, , dump pas whole struct pid thread dumping routine get real pid report virtual one inside signed pavel emelyanov xemul parallels.com,,
8261,3481b9aa60aaa0f2c1a61611ddc677ef62e0b84d,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-09 18:51:26 +0400, , fpu introduced support multiple fpu architecture routine renamed moved routine file crtools.c introduced structure fpu_state_t pas fpu state restorer machine independent way signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8262,e1e234688085897d1238add31f836326cbe2910c,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-09 18:48:00 +0400, , introduce stub dump restore leave empty x86 used arm signed pavel emelyanov xemul parallels.com,,
8263,3f12d688ae563b91d8a738d68902ea2e23f2b59c,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-09 17:41:58 +0400, , sys_mmap fixed error detection logic current sys_mmap error analysis code work bit architecture userspace kernel virtual address space split since syscall allocates anonymous memory first address space address negative integer interpreted error code problem encountered x86 becauase use negative virtual address userspace split used memory allocation currently broken value split arm value arch arm include asm memory.h page aligned split value used value field mm_struct mmap_base initialized page unaligned value function arch arm mmap.c circumstance break page alignment check kernel memory management code patch modifies sys_mmap return value analysis code replacing test negativeness signed return value test check return value greater task_size signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8264,b1e8f70b05ede4fa6807fdd1d0fb8744f5e1728e,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-09 17:41:15 +0400, , restorer reduce shift value fit error code arm long integer signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8265,7b7a08dde500842a076d6fbcc5d4b1eb06c98f01,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-09 17:40:33 +0400, , auxv save restore auxv machine independent way size auxv machine pointer bit integer reserved mmentry protobuf message store auxv moreover number auxv varies one architecture another following proposed alleviate issue introduced type auxv_t representing machine pointer sized integer size auxv array extracted mmentry message instead using value macro at_vector_size signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8266,cbffef75b77b4a369301f1b7eb41f474d274ef36,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-09 17:39:23 +0400, , restore.c wrapped restorer blob trampoline assembly macro signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8267,ba602791fd46b627335bceac934f9a1a6d20c91c,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-09 17:39:14 +0400, , restorer wrapped assembly code executed rt_sigreturn failure macro signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8268,e37c15629cdcb3635b49733e42dafc8228130628,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-09 17:39:12 +0400, , restorer wrapped assembly code calling sys_clone macro signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8269,1e5635daaf80c1aeb831c3f89e478ff48be73802,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-09 17:39:08 +0400, , restorer wrapped assembly calling macro signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8270,abc622b36036da9ecaca20fa19120ac2a49837f0,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-09 17:37:38 +0400, , restorer moved routine restore_fpu file arch x86 crtools.c signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8271,ea6ab14d1343ac42d76352eb73074297e6ee7f69,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-09 17:37:31 +0400, , restorer moved routine restore_gpregs file arch x86 restorer.c signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8272,c074dc5810d2b4e8a8e9645678ad8e00937de12e,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-09 17:34:12 +0400, , include restorer.h moved machine dependent sigframe structs file arch x86 include asm restorer.h signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8273,91504f5282fd7f3eec24e8f8c9672f3d768ef6c0,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-09 17:33:59 +0400, , include restorer.h moved machine independent sigframe structs file include sigframe.h signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8274,f35661d164a678345d65bf98762dce05bd80c761,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-09 17:27:55 +0400, , dump.c moved function core_free_entry file arch x86 crtools.c signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8275,d2dfdeffd9ea9b90bfaa3795a82d368b01d74123,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-09 17:27:53 +0400, , dump.c moved thread core initialization function signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8276,1c8be2b9450170935a87b408eb8c66a2dbace87d,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-09 17:27:49 +0400, , dump.c moved routine get_task_regs file arch x86 crtools.c signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8277,f032e67ae32a30e79fa2bd5ae5f5c915a2967cef,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-09 17:26:46 +0400, , parasite syscall.c moved routine syscall_seized file arch x86 crtools.c signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8278,3b4aa70aefc7a69ce1a28e70be6e9a2bc9792d7c,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-09 17:26:41 +0400, , parasite syscall.c moved routine file arch x86 crtools.c signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8279,ec642468631c50986422e3b1f02713b1801c1958,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-09 17:26:31 +0400, , parasite syscall.c moved syscall instruction file arch x86 crtools.c signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8280,aa9ea9209e0487629a30fe851f01e19b02f6e007,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-09 17:23:48 +0400, , touch task_size task_size read area mapped arm process address space signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8281,7758a43bd7ac63c28da1c30812999e9d2a2d9092,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-09 17:15:22 +0400, , sys_getpgid fixed syscall prototype since actually one argument signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8282,8863d8dd7f8f8238333ae9ec094a6ae8efb21cce,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-09 17:08:17 +0400, , multiarch introduced multiarch support build system linker script pie pie.lds.s generated template pie pie.lds.s.in prepending output architecture specification output architecture defined variable ldarch blob generated objcopy instead arm linker fails produce binary supplied script see http lists.gnu.org archive html bug binutils 2008 msg00091.html signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8283,6f61488f217b366942e46b4112b85701a70ef95f,lexander Kartashov <alekskartashov@parallels.com>, 2013-01-09 17:02:47 +0400, , x86 moved x86 specific file directory arch x86 following file directory arch x86 include asm unmodified include atomic.h include linkage.h include memcpy_64.h include types.h include bitops.h pie parasite head x86 64.s include processor flags.h include syscall x86 64.def changed include directive source file include header listed modified build script reflect source move signed alexander kartashov alekskartashov parallels.com signed pavel emelyanov xemul parallels.com,,
8284,3716fd67c1eedb48da63c6d1006f130cdcfb5f17,ndrey Vagin <avagin@openvz.org>, 2012-12-28 23:47:01 +0400, , zdtm check existent capability kernel started 3.8 rc1 report non existent cap proc pid status crtools dump restore cap signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8285,a1144f9fd17da00f8b75b01f18e275ae624afd9f,yrill Gorcunov <gorcunov@openvz.org>, 2012-12-26 20:00:46 +0400, , zdtm mountpoints explicitly remove old dev null explicitly unlink old dev null instance otherwise device already exist might hit problem 00.002984 7412 fdinfo flag 100002 00.003015 dumping path via self dev null 00.003025 error file reg.c 422 unaccessible path opened 2049 109720 need 00.003033 error dump.c 1565 dump file pid 7412 failed reported alexander kartashov alekskartashov parallels.com tested alexander kartashov alekskartashov parallels.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8286,087739d40269e664422c6eaf4621699f503b58ff,avel Emelyanov <xemul@parallels.com>, 2012-12-26 18:15:03 +0300, , rst remove xid_fail required temp stub mysql restore spoil code signed pavel emelyanov xemul parallels.com,,
8287,25af1beec46262be48f4c6e60c83ac01d1789b00,ndrey Vagin <avagin@openvz.org>, 2012-12-26 13:03:43 +0400, , make tproxyd crtools tproxyd another project signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8288,134937bc878a51ca3346c68f991773b3bf4ab12e,ndrey Vagin <avagin@openvz.org>, 2012-12-25 22:43:14 +0400, , make add ability collect code coverage gcc executed option coverage lcov creates html page containing source code annotated coverage information make gcov make test make gcov look gcov html index.html declare weak __gcov_flush signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8289,162cb479300d4ee77b6f669e71e2ef9d8824f39e,onstantin Khlebnikov <khlebnikov@openvz.org>, 2012-12-25 22:41:51 +0400, , x86 syscalls x86 64.sh fix bashisms syscalls x86 64.sh syscalls x86 64.sh syntax error unexpected signed konstantin khlebnikov khlebnikov openvz.org signed pavel emelyanov xemul parallels.com,,
8290,81f7f7038643f38efe2335bfa78b51608b2ce681,yrill Gorcunov <gorcunov@openvz.org>, 2012-12-25 22:41:10 +0400, , pie forget include sub text section blob got interesting built problem never saw reporoduce moment .text.unlikely referenced section .text parasite.o defined discarded section .text.unlikely parasite.o including sub text section good thing anyway signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8291,830d92b0f0c2593c33b780cd296ffe885ca31db9,yrill Gorcunov <gorcunov@openvz.org>, 2012-12-25 22:40:24 +0400, , header unify include guard comment fix fix name comment add empty line needed fix rbtree.h fix syscall types.h signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8292,439637fb07d70f96c6890aab4f799147dcea0ca2,yrill Gorcunov <gorcunov@openvz.org>, 2012-12-25 22:39:55 +0400, , parasite syscall drop redundant space parasite_ctl structure func change signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8293,b4c2160449c1609e7a7966a49dca978f1276ce34,avel Emelyanov <xemul@parallels.com>, 2012-12-24 15:36:14 +0400, ," hdrs fixup reinclusion preprocessor constant make look like __cr_ smth _h__ sed 1,2s ifndef define cr_ __cr_ 1,2s _h_ _h__ every header file signed pavel emelyanov xemul parallels.com",,
8294,6a256782439739a9bc3187c3bd93944e6e400404,ndrey Vagin <avagin@openvz.org>, 2012-12-21 18:58:32 +0400, , restore remove unused field signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8295,9cd9a93e7961c266b8a8f29b44bd83d191bc6126,ndrey Vagin <avagin@openvz.org>, 2012-12-21 18:58:23 +0400, , restore unify handling thread args leader thread currently array thread_args leader thread_args part task_args two problem array space leader thread args unused code fill thread args duplicated two time patch fixed problem replaces thread_args pointer task_args deletes code fill leader thread_args signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8296,ff9a760bcdf3eaf34ed88e3c553beeed694e0a71,ndrey Vagin <avagin@openvz.org>, 2012-12-21 18:58:16 +0400, , restore fill thread_args bit earlier preparation next patch signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8297,48d0e78e36bf3bbca9ca03678d75263f19294c41,ndrey Vagin <avagin@openvz.org>, 2012-12-21 18:58:14 +0400, , crtools change minimal address restorer blob bigger set correct value signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8298,6089f8c5a50451c5d8596f5dd04741e143e5ed4e,yrill Gorcunov <gorcunov@openvz.org>, 2012-12-21 17:35:50 +0400, , zdtm enable mmx00 sse00 sse20 test since supprt fpu run test signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8299,c7cc08b811777270e062b069349406a4740333f5,yrill Gorcunov <gorcunov@openvz.org>, 2012-12-21 17:35:48 +0400, , zdtm enable fpu01 test signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8300,ee9277562f9ef71a919aee168705577204739fb9,yrill Gorcunov <gorcunov@openvz.org>, 2012-12-21 17:35:47 +0400, , zdtm add fpu01 test test load ymm0 ymm7 register check restore content changed test requires xsave capability present test system thus figure suitable cpu provided skip test signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8301,5e9a65878c84144d97c4c5b18f8ed15adf41944d,yrill Gorcunov <gorcunov@openvz.org>, 2012-12-21 17:35:46 +0400, , zdtm enable fpu00 test case signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8302,4685b5633621122eb7df3e73cb9b6e5e661ca830,yrill Gorcunov <gorcunov@openvz.org>, 2012-12-21 17:35:44 +0400, , zdtm add cpuid.h test fpu transition require runtime check cpu feature running sake need use cpuid thus make widely available providing general header code adopted linux kernel code signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8303,3eb28f9fbca11128761b770e062cfd65ebbef856,yrill Gorcunov <gorcunov@openvz.org>, 2012-12-21 17:35:43 +0400, , restore restore fpu state since moment stick sigreturn restore need form proper fpu frame set pointer inside sigreturn frame sake read fpu image two case possible fpu data nothing restore simpliest case xsave frame present host cpu support fxsave instruction refuse continue since mean ymm register machine trying restore fxsave frame present host cpu xsave feature moment refuse continue requiring complete match checkpoint restore host real could extend logic form complete xsave frame fxsave continue processing signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8304,9fee76bd31c968c7c240bd1c3798a1c651515241,yrill Gorcunov <gorcunov@openvz.org>, 2012-12-21 17:35:42 +0400, , restore reserve space restorer fpu frame code simplicity reserve maximum size might needed form fpu frame xsave fxsave operation signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8305,10f22fe9ee310b76d9b8cc278b648e6a79a691e6,yrill Gorcunov <gorcunov@openvz.org>, 2012-12-21 17:35:41 +0400, , restore change rt_sigcontext fpstate void carrying xsave fxsave frame signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8306,c1f7ab21505c488daddf05344d5f264c7cac2dcb,yrill Gorcunov <gorcunov@openvz.org>, 2012-12-21 17:35:39 +0400, , checkpoint add dumping fpu state dumping fpu state done help ptrace facility two case need handle depending feature available host machine dump via ptrace ... case kernel use fxsave approach inside kenrel provides back data encoded format dump via ptrace ... case kernel use xsave approach inside kernel provides back data encoded xsave_struct format case decode data save protobuf format core.proto file extended keep new entry signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8307,8b93676d902ade562725cd8cf4cc89c6481f6cf2,yrill Gorcunov <gorcunov@openvz.org>, 2012-12-21 17:35:38 +0400, , dump move assign_reg assign_array closer place used forget undef needed signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8308,1256c390b6d83c3a4fa0cac0e407612e5cfa4697,yrill Gorcunov <gorcunov@openvz.org>, 2012-12-21 17:35:37 +0400, , dump drop fpu padding allocation actually never used drop backward compatibility problem zap protofile signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8309,41ebf5c37716d69fc1fe906679d6b1af02ede6ba,yrill Gorcunov <gorcunov@openvz.org>, 2012-12-21 17:35:36 +0400, , cpu add testing host cpu suitable fpu cpu running must least support fxsave feature signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8310,cf2e6c54c9445d44df24689398b7a3c1373ba838,yrill Gorcunov <gorcunov@openvz.org>, 2012-12-21 17:35:34 +0400, , cpu add code fetch test cpuinfo data patch add ability test proc cpuinfo data interested moment code provides following functionality cpu_init parse cpuinfo check host cpu running suitable enough fpu checkpoint restore fpu present must least fxsave capability present cpu_set_feature cpu_has_feature helper provides test certain bit set needed need set bit parse cpuinfo note reserve space cpuinfo bit known kernel moment use three fpu related bit done might need use find feature future byte memory needed keep possible bit signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8311,666f4ebbe9beec13b17249becbc73fbb7211b976,yrill Gorcunov <gorcunov@openvz.org>, 2012-12-21 17:35:33 +0400, , fpu add fpu.h header need structure restore fpu state via sigframe decode data provided ptrace signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8312,2701316b4638288ff1fc7df65439d8453c606d24,ndrey Vagin <avagin@openvz.org>, 2012-12-20 16:08:12 +0400, , dump remove debug message signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8313,7d8e13e225c48c1e6cdda6797742898cac51a826,ndrey Vagin <avagin@openvz.org>, 2012-12-20 16:07:44 +0400, , parasite add ability execute one crtools dump simultaneously name unix socket uniq signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8314,4ced9531e643e47df5b950cbfd2a1fb5f29f9e2b,avel Emelyanov <xemul@parallels.com>, 2012-12-18 21:29:48 +0300, , file open code make_gen_id macro single caller signed pavel emelyanov xemul parallels.com,,
8315,1e538cf02b486c58078684d657551416ac74e1f2,avel Emelyanov <xemul@parallels.com>, 2012-12-18 21:01:53 +0300, , dump drop unused image file perm change sending parasite since send _fd_ pointless call chmod image file signed pavel emelyanov xemul parallels.com,,
8316,5ff013391b788a037e9b8bbf4e2008ead18bf4fb,avel Emelyanov <xemul@parallels.com>, 2012-12-18 20:48:56 +0300, , parasite fix exchang area size handling wrong size used mapping unmapping since close nobody noticed signed pavel emelyanov xemul parallels.com,,
8317,0f58bae4ce9ea898b08761b973fab4bde39e79e7,avel Emelyanov <xemul@parallels.com>, 2012-12-18 00:39:20 +0300, , doc add syscalls execution description signed pavel emelyanov xemul parallels.com,,
8318,15901c2d7662091daeb4e0437e5a00ccc9d671af,avel Emelyanov <xemul@parallels.com>, 2012-12-17 22:58:14 +0300, , exec implement basic remote syscall execution syntax crtools exec pid syscall_name argument two type argument supported plain treated number passed syscall buffer started rest string pushed tgt task memory pointer one passed syscall argument signed pavel emelyanov xemul parallels.com,,
8319,4bb4ece76e52f4e6c514042c4f394985e0aeb9a6,avel Emelyanov <xemul@parallels.com>, 2012-12-17 22:56:06 +0300, , exec initial skeleton reserve cmdline option link empty file signed pavel emelyanov xemul parallels.com,,
8320,45fdee04fb57db2ee32cc57c332dbcfe1024924e,avel Emelyanov <xemul@parallels.com>, 2012-12-17 22:53:23 +0300, , parasite split infecting routine part fist part prepares ctl controll seized task 2nd one mmaps shareb buffer data exchange signed pavel emelyanov xemul parallels.com,,
8321,3b404e3776281c95bbe2ae2c23984d842cc63c67,avel Emelyanov <xemul@parallels.com>, 2012-12-17 22:52:06 +0300, , parasite introduce generic syscall calling function one call syscon seized task existing mmap munmap use one signed pavel emelyanov xemul parallels.com,,
8322,9428f3a9a2de2edba724ada86ae1f7d280a44053,avel Emelyanov <xemul@parallels.com>, 2012-12-17 22:50:06 +0300, , dump make non static used code signed pavel emelyanov xemul parallels.com,,
8323,4199022be5df11b04feee6d8d8d0997564d685ec,avel Emelyanov <xemul@parallels.com>, 2012-12-17 22:49:30 +0300, , parasite remove typedef type parasite header include place know nothing type use generic pointer instead signed pavel emelyanov xemul parallels.com,,
8324,bb2d78b0b732e4b255dec2e62df105039f63047e,avel Emelyanov <xemul@parallels.com>, 2012-12-17 22:47:17 +0300, , x86 teach syscall table generating script accept argument generate syscall table another form prepare  signed pavel emelyanov xemul parallels.com,,
8325,d7259d863ff01b54eda2f8fd9203d9501d7c7a0f,avel Emelyanov <xemul@parallels.com>, 2012-12-12 23:49:12 +0300, , help print shorter help lanuched argument signed pavel emelyanov xemul parallels.com,,
8326,d721e9d48cd89f4f771e7b3be36677975aee8ae4,avel Emelyanov <xemul@parallels.com>, 2012-12-11 21:22:55 +0400, , criu version 0.3 release mostly bugfix improvement release nonetheless new feature exists interesting proper cow mapping handling full packet socket support thus supporting tcpdump tool shell job option make possible dump apps launched one shell restore another feature available custome kernel good news _all_ patch need one next tree one thus good chance get merged 3.8 soon signed pavel emelyanov xemul parallels.com,,
8327,a613842ddd5b972082562d04937a0754dd0597d8,yrill Gorcunov <gorcunov@openvz.org>, 2012-12-11 20:58:11 +0400, , tty fix slave peer index accounting need test every even index represents slave peer thus use modulo operation reported alexander kartashov alekskartashov parallels.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8328,11f8bb47054b189e4889a83fc568c6bac58d8662,avel Emelyanov <xemul@parallels.com>, 2012-12-10 19:19:24 +0300, , show show zero sequence hexdump output signed pavel emelyanov xemul parallels.com,,
8329,12602aee5975db850b8d2b6d6c1007d1cd1752d9,avel Emelyanov <xemul@parallels.com>, 2012-12-10 19:00:05 +0300, , show make hexdump output look like hexdump tool one space char signed pavel emelyanov xemul parallels.com,,
8330,56e1decf48df2f5932d1b2380e464599a7cd1f11,avel Emelyanov <xemul@parallels.com>, 2012-12-10 18:57:54 +0300, , show factor skipping data dump show_image_data signed pavel emelyanov xemul parallels.com,,
8331,c33a62dfccec3a188533ed9e1dbd0129463a6a43,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-12-10 17:19:34 +0400, , ipc fix silly misprint ipc shm show handler ipc shared memory data aligned bit signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8332,1d1860224e746176dcb1a81a11ef7edac40e0499,avel Emelyanov <xemul@parallels.com>, 2012-12-10 16:08:07 +0300, , rst remove excessive arg open_vmas signed pavel emelyanov xemul parallels.com,,
8333,87fe1834cd1dbfa323da0e092ef4be863a227ccf,avel Emelyanov <xemul@parallels.com>, 2012-12-10 16:04:46 +0300, , rst sanitize restore function call flow dedicated make code harder read signed pavel emelyanov xemul parallels.com,,
8334,25e31a933bcf7cdaf626f1e909bdae04bcdc1307,avel Emelyanov <xemul@parallels.com>, 2012-12-10 15:54:12 +0300, , pstree remove unneeded arg signed pavel emelyanov xemul parallels.com,,
8335,be79f38d6cb62757cdabf3ed62ff50d9792efa9f,avel Emelyanov <xemul@parallels.com>, 2012-12-10 15:50:47 +0300, , pstree sanitize pstree preparation code call two called directly restore one one former clean mess write short comment stage signed pavel emelyanov xemul parallels.com,,
8336,2a925722ca378563c734cfab8fe4aff43cf83dc1,avel Emelyanov <xemul@parallels.com>, 2012-12-06 16:34:03 +0300, , show show itimers std showing helper signed pavel emelyanov xemul parallels.com,,
8337,0026b5367823d354d957145d776b8c0702945efa,avel Emelyanov <xemul@parallels.com>, 2012-12-06 16:20:19 +0300, , mnt allocate path_max stack pivot path signed pavel emelyanov xemul parallels.com,,
8338,dbbd8d400ac9dc490844c55de3e09a9c583e2134,avel Emelyanov <xemul@parallels.com>, 2012-12-06 15:50:41 +0300, , rst allocate path_max stack proc mountpoint use direct name assignment enough signed pavel emelyanov xemul parallels.com,,
8339,da8dbe43bc5a47df3c06a0aa755fcc17f01b6fce,avel Emelyanov <xemul@parallels.com>, 2012-12-06 13:19:01 +0300, , rst move premmaped variable rst_info thing pstre_item created carry task specific information across restore code flow signed pavel emelyanov xemul parallels.com,,
8340,39d60cdfef5d4ee49328f8642750385e99e08049,avel Emelyanov <xemul@parallels.com>, 2012-12-06 13:08:56 +0300, , rst sanitize sigchld handler error handling obvious clean signed pavel emelyanov xemul parallels.com,,
8341,815049bcdb4975678ee423c67976327a908f371c,avel Emelyanov <xemul@parallels.com>, 2012-12-06 10:38:46 +0300, , rst fix message inability restore pid outside pidns signed pavel emelyanov xemul parallels.com,,
8342,d9df71dc87d885f26fd0ea5778327a5c5724e8d9,yrill Gorcunov <gorcunov@openvz.org>, 2012-12-06 11:11:22 +0400, , zdtm extend inotify00 test ghost file used signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8343,b146fe4af6507a45d8785fb2d1565115eea5326e,yrill Gorcunov <gorcunov@openvz.org>, 2012-12-06 11:11:19 +0400, , inotify use ghost file watchee deleted file watch target might deleted file case create restore procedure typical scenario  inotify_init1 open path path unlink path ... checkpoint ... path unlinked still present inotify watch list inode yet freed program killed checkpoint last reference path get eliminated inode get freed kernel memory thus furher attempt open path via file handle note file handle used create new file kernel permit simply fail plain opening via file handle failed assume least file might ghost file list optimist right successed simply use path generated ghost file engine xemul gather reference ghost file remap early signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8344,7eb33a76a8323b32ee21a18008bf964cda87c108,yrill Gorcunov <gorcunov@openvz.org>, 2012-12-06 11:11:10 +0400, , ghost file save device inode image need lookup ghost file inotify system device inode key save dev ino ghost image entry note use kernel format device consistent inotify mount related code base signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8345,7bd34c699eee67d682e3b64bef63e055b498c224,yrill Gorcunov <gorcunov@openvz.org>, 2012-12-06 11:10:14 +0400, , file reg add helper access ghost file remaps inotify remap_put needed defer unlinking ghost file referred inotify system lookup_remap needed figure watch target inotify present ghost file list signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8346,746ac3fee52612f47f98e46ed42c92d7942753f1,yrill Gorcunov <gorcunov@openvz.org>, 2012-12-06 11:10:10 +0400, , file reg move struct file_remap header need use inotify code signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8347,bae3324447940f67fe3fc1656fe189599305c1fe,avel Emelyanov <xemul@parallels.com>, 2012-12-05 22:59:35 +0300, , ghost cleanup ghost file dumping need function wide variable copying file signed pavel emelyanov xemul parallels.com,,
8348,679c5326c3586965d24c76c3051cc8c8b6bf75e3,avel Emelyanov <xemul@parallels.com>, 2012-12-04 23:33:06 +0400, , ptrace remove dead code signed pavel emelyanov xemul parallels.com,,
8349,4cd9998544f128d0210b774dba42abae4a5ddd2a,avel Emelyanov <xemul@parallels.com>, 2012-12-04 18:49:36 +0300, , rst brush fake real task post pgid restore codeflow signed pavel emelyanov xemul parallels.com,,
8350,9e7ae345dbc7cc124d60f2dc4586a5147df904d8,avel Emelyanov <xemul@parallels.com>, 2012-12-04 18:43:28 +0300, , rst remove unused arg signed pavel emelyanov xemul parallels.com,,
8351,fdc56e53f6ad5d277b0989ab021bf35301efaf4f,yrill Gorcunov <gorcunov@openvz.org>, 2012-12-04 19:28:45 +0400, , proc_parse update inotify format since fdinfo patch merged tree output format slightly changed update tool accordingly signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8352,caf875454f7a15eb23db049e87407990f3c0b6fa,ndrey Vagin <avagin@openvz.org>, 2012-12-04 19:26:54 +0400, , signal fix logig sigmax value signo sigmax currenly signal enumirated sigmax sigmax included patch fix mestake save backward compatibility set correct value sigmax 64. separate patch format changed signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8353,360c50d4290ff05598b4bc5720133f6927cea9c2,avel Emelyanov <xemul@parallels.com>, 2012-12-04 17:40:19 +0300, , rst relax nr_in_progress set stage switching resetting nr_in_progress next stage need waking anyone nobody wait yet signed pavel emelyanov xemul parallels.com,,
8354,7eaad99ff4ddb06a03d3eaeaa84502e04de43790,avel Emelyanov <xemul@parallels.com>, 2012-12-04 17:37:13 +0300, , rst helper switching restore stage switching new stage step procedure deserves helper besides information many task participage stage collected one place signed pavel emelyanov xemul parallels.com,,
8355,e0d0dc821d7c5de7fe2a3e701e2a2e2bb0a2e553,avel Emelyanov <xemul@parallels.com>, 2012-12-04 17:22:45 +0300, , rst rename task_entries nr_threads signed pavel emelyanov xemul parallels.com,,
8356,2482c5a24b520a178eac5841a9ab23b8a4ef89d2,avel Emelyanov <xemul@parallels.com>, 2012-12-04 17:12:37 +0300, , rst move initial nr_in_progress initialization better init closer rest rst orchestration signed pavel emelyanov xemul parallels.com,,
8357,70af6cdd62bbe380f6b7ba43a0cfffaebe13dbcc,avel Emelyanov <xemul@parallels.com>, 2012-12-04 16:59:41 +0300, , rst helper restore stage barrier finishing stage report decrement number task stage wait stage switch write helper doe signed pavel emelyanov xemul parallels.com,,
8358,fa35517082522c44f3fbe530976c25a5a7643567,avel Emelyanov <xemul@parallels.com>, 2012-12-04 16:35:58 +0300, , check check so_bindtodevice get able signed pavel emelyanov xemul parallels.com,,
8359,c327e175c4858737bb5049c5cefe4d111b3be62f,onstantin Khlebnikov <khlebnikov@openvz.org>, 2012-12-03 17:40:32 +0400, , zdtm cmdlinenv00 fix false positive fail auxv corruption bit bit migration content proc pid auxv declared array long file compat layer http jira.sw.ru browse psbm 16280 signed konstantin khlebnikov khlebnikov openvz.org reviewed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8360,bf598fa28cde6afed5aa3bcb6c0ac138506f9852,ndrey Vagin <avagin@openvz.org>, 2012-12-03 14:53:17 +0400, , make fix navigation vim error parasite.c execute make vim without patch vim open new file parasite.c root directory patch vim open pie parasite.c signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8361,03791bc2c3059d2412f4c19ec4b9b71540792a62,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-11-30 20:11:18 +0400, , ipc add check new ipc sysctls patch add check proc sys kernel sem_next_id make sure kernel support restore ipc object signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8362,cbcd5f6b0270c481b21a9e3cabb384eda72ed175,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-11-30 17:47:15 +0400, , ipc update use sysctl old interface modified ipc syscalls deprecated replaced sysctls patch update criu use new interface signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8363,1a7c7d0404b941097161ee6ba1dca7750ffe660c,avel Emelyanov <xemul@parallels.com>, 2012-11-29 21:12:51 +0300, , consolidate check various readdir caller signed pavel emelyanov xemul parallels.com,,
8364,86886b6376898249a71f098c49711d8351c86035,avel Emelyanov <xemul@parallels.com>, 2012-11-29 18:16:00 +0300, , util fix vma printing message pas remove ladder replace opt string directly get status flag signed pavel emelyanov xemul parallels.com,,
8365,15cfa1b053830aade1674a95de77efe8e9219519,avel Emelyanov <xemul@parallels.com>, 2012-11-29 17:54:44 +0300, , util fix vma printing message pas use hexademical field fix name human readable signed pavel emelyanov xemul parallels.com,,
8366,1bc6fec5fdc7daba91dd6f5633154627657c2773,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-29 18:12:16 +0400, , inotify forget close opened file error path signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8367,1bebe80c1417437c6e7548ea2aab3acaf85582ce,ndrey Vagin <avagin@openvz.org>, 2012-11-29 17:45:42 +0400, , zdtm execute test non kernel add exclude list test list executed kernel check version kernel greater 3.7 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8368,08ffa65ed5b2cabdeb0c661ab63a37357de032f0,ndrey Vagin <avagin@openvz.org>, 2012-11-29 17:43:32 +0400, , socket fail diag_shutdown absent error message printed want save ability try crtools non kernel signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8369,d08905bf897f482760cb725b7eacad7d3b137ae9,ndrey Vagin <avagin@openvz.org>, 2012-11-29 17:43:06 +0400, , log add pr_err_once function print error message xemul change signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8370,fe7339570be7bc6c73775cf6fa9acd37aead110a,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-28 21:49:57 +0400, , proc parse inotify file migh watchee assigned eventpoll might watchee assigned inotify descriptor created signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8371,03d0758df364b6f9e688cc832705bd296de5a69e,avel Emelyanov <xemul@parallels.com>, 2012-11-28 20:27:16 +0300, , revert net introduce netdev index name resolver reverts commit new so_bindtodevice getting api required signed pavel emelyanov xemul parallels.com,,
8372,f43c1c2ade9482cffc6da59319a768c49a093059,avel Emelyanov <xemul@parallels.com>, 2012-11-28 20:24:42 +0300, , rework bound dev dump restore according new api so_bindtodevice getter changed kernel official release report index name harmony setter fix crtools accordingly signed pavel emelyanov xemul parallels.com,,
8373,9df1786aea0d5d8556b724f59faec7e3a76446ba,avel Emelyanov <xemul@parallels.com>, 2012-11-27 22:16:00 +0300, , rst move rewrite comment restorer blob prepared signed pavel emelyanov xemul parallels.com,,
8374,14915d01fd36c60a220474c4dc29e7f0db19c8e0,avel Emelyanov <xemul@parallels.com>, 2012-11-27 22:03:36 +0300, , rst remove unneeded core file 2nd opening presumablty lost reworking core entry restore signed pavel emelyanov xemul parallels.com,,
8375,827c633b26197fd464551f0d5b22bfcc3653136f,avel Emelyanov <xemul@parallels.com>, 2012-11-27 21:59:58 +0300, , rst write pidfile separate better readability signed pavel emelyanov xemul parallels.com,,
8376,a016bc84ff9a4f7113ac2b3f725eb6a7a3c19819,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-27 20:11:10 +0400, , zdtm pthread00 use exit_group appropriate reported andrew vagin avagin parallels.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8377,88ec6bc4cee3f70747d9589a247c43d79a2ca64f,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-27 19:33:43 +0400, , zdtm pthread01 add human readable signal printout signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8378,bcc7bab7e35e526316248079ae64424276cb697a,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-27 19:33:29 +0400, , zdtm use sigwinch sigalrm instead sigtrap pthread01 otherwise test option get fail sigtrap get cleared parasizte engine proper fix likely require kernel patching redesign parasite code meanwhile make test working switch signal known work reported andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8379,b675d8a2ee2768b0cee000f4bf2e1bb78c10939f,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-23 16:50:00 +0400, , zdtm pthread01 fix missed sigprocmask pthread_sigmask transition escaped previous pas signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8380,12e3d7c43eb276ae01d367ae4a66672f0c7f8324,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-27 19:32:57 +0400, , zdtm pthread00 use task waiter instead mmap sleep pair signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8381,8ee07313f2e725fbf4bc96def133aedbde130db6,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-27 19:32:16 +0400, , zdtm pthread00 rename thread function sensible name signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8382,78e9c40a044cb67d600bc0fb9df2d1657f3f8f7a,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-27 19:31:53 +0400, , zdtm drop mutex pthread00 test tls_data used read cycle thus need mutex since area get filled earlier fork issued time restore filled program restarts signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8383,593c8d1048236e67c007a76a2a1b50356ac47ddf,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-27 19:31:31 +0400, , zdtm make pthread00 wait p_all argument waitid waitpid signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8384,465c59457d8de916b4704c75a0fe3cfc45a0b088,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-27 19:31:06 +0400, , zdtm make pthread00 use exit need error code test result special bitmap signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8385,20e8eefb01da0b71d4878acdf0a46d2ffd09e034,ndrey Vagin <avagin@openvz.org>, 2012-11-27 19:20:20 +0400, , dump show virtual pid log file signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8386,bae333dfcb0af5a85522ccb93e788bdba9ea3a6d,ndrey Vagin <avagin@openvz.org>, 2012-11-26 18:46:11 +0400, , restorer fix race condition access unmap task_entries tree thread following situation occur dec task_entries nr_in_progress dec task_entries nr_in_progress futex task_entries nr_in_progress wake_up unmap task_entries futex task_entries nr_in_progress wake_up efault bug_on patch add futex synchronising thread signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8387,6b1d64ca9a1c5a64064cd424dd1fbb1b8580a171,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-26 18:38:28 +0400, , tty use find_next_bit helper since find_next_bit source let use for_each_bit helper speedup search procedure signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8388,aa53547aedfcf41bbf07e37e77996f73200b13e0,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-26 18:38:15 +0400, , bitops add for_each_bit helper signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8389,c5083e475079652dcb9554029230983d8eab8dac,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-11-23 16:39:00 +0400, , make add pie include dirs crtools restore.c includes parasite blob.h located pie dir signed stanislav kinsbursky skinsbursky openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8390,13a7498c2a8ac24868aadd69fa37a4adbdf74d59,ndrey Vagin <avagin@openvz.org>, 2012-11-23 16:43:33 +0400, , crtools add eol error message signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8391,b7cffae5d484b986a99deb61cd3e4c4bb8838fb3,ndrey Vagin <avagin@openvz.org>, 2012-11-23 16:37:39 +0400, , zdtm adapt tcp test ipv6 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8392,6b2d7f0799f9a85587fa694c45d444f3459b6d09,ndrey Vagin <avagin@openvz.org>, 2012-11-23 16:36:37 +0400, , net prevent dump ipv6 tcp connection signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8393,312d1c86f3c7b42e2d420d6cbd0aeb629a4b865e,ndrey Vagin <avagin@openvz.org>, 2012-11-23 16:36:22 +0400, , netfilter add ability block ipv6 connection signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8394,a77d00347a193b7027b6ead3aa61f6ac46864ed6,ndrey Vagin <avagin@openvz.org>, 2012-11-22 19:08:29 +0400, , test add script executing app emu test case signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8395,f8d6dad7f8897dafb1b257c6771214b8f28b061a,ndrey Vagin <avagin@openvz.org>, 2012-11-22 19:08:14 +0400, , test app emu wait task dying starting restore otherwise pid may busy signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8396,f2adcc41e1142c32e65c051fd30c039702bf2434,ndrey Vagin <avagin@openvz.org>, 2012-11-22 19:06:18 +0400, , test app emu add option shell job xemul shell job signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8397,c19cbc5c5241a0d1a9844c4906f1b08dae4ed519,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-22 19:04:12 +0400, , tty flush tty data checkpoint stage case dumping peer another end belongs application attempt flush data may lead endless sigttou storm 1158 ioctl tcflsh 0x2 erestartsys restarted sa_restart set 1158 sigttou si_signo sigttou si_code si_kernel si_value int ptr 0x5 1158 stopped sigttou 1158 ioctl tcflsh 0x2 erestartsys restarted sa_restart set 1158 sigttou si_signo sigttou si_code si_kernel si_value int ptr 0x5 1158 stopped sigttou simply flush data initial attempt use tcioflush rather hey way say kernel freeze tty link let try workaround limitation without proper kernel help work anyway andrey discovered reported andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8398,281f0c7d102a1aa8977beb5540f1f748f042ea4b,ndrey Vagin <avagin@openvz.org>, 2012-11-22 18:56:48 +0400, , test app emu dump restore vnc server execute vnc server glxgears dump restore check vnc server accepts connection signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8399,a519e0c824a92fb494ec979b7f86ee94aed55004,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-11-22 18:54:21 +0400, , make insert makefile.inc makefile makefile.inc included makefile let insert content makefile signed stanislav kinsbursky skinsbursky openvz.org look good cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8400,712058a333718b0a13fef23a7608be62e8b7f524,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-11-22 18:53:59 +0400, , make cleanup pie build patch simplifies pie build main change replaces explicit rule implicit reduces makefile size make readable note intermediate build file preserved blob linked util net.o restorer blob require allows avoid explicit rule  fixed parasite build fixed blob deps .bin .bin.o build parallel updated restorer link restorer linked util net.o anymore signed stanislav kinsbursky skinsbursky openvz.org look good cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8401,a14e85a9b02d87e4f886e35e267190728e8d0e27,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-11-22 18:53:29 +0400, , make move pie file build separated directory signed stanislav kinsbursky skinsbursky openvz.org look good cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8402,d44ff5c7a076673c67684222d258fe3a39d7a521,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-11-22 18:52:59 +0400, , make move syscalls file build separated directory patch set move syscalls data arch arch directory arch x86 particular case doe also cleanup syscalls x86 64.sh signed stanislav kinsbursky skinsbursky openvz.org look good cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8403,760e595f099f488088fb8063b2238dd87700cb7b,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-11-22 18:51:41 +0400, , make cleanup whole infrastructure bit main thing variable defined properly instead otherwise call nested makefiles variable like cflags inheriting previous state sys obj renamed syscall lib inlcude makefile.inc removed protobuf makefile signed stanislav kinsbursky skinsbursky openvz.org look good cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8404,4cff70866377ebb8d60a8d6dbb64ea47f4abf31d,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-20 21:05:17 +0400, , tty make sure controlling terminal restored session leader controling terminal sestored session leader thus need test sid found process tree leader otherwise might pretty interesting situation user passed dump telling inherit shell job restore procedure sid get inherited crtools session leader sid belong peocess tree thus try restore controlling terminal inherit well reported andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org acked andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8405,ed5f540c9975478ad69c538bb26f70c5fe6b22f4,ndrey Vagin <avagin@openvz.org>, 2012-11-20 20:48:36 +0400, , zdtm add new test case testing logic cow memory test test following combination parent child cow mapping parent child coinciding mapping page state possible combination write mapped read mapped touched fork fork wait child prepared check file private mapping signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8406,68d5cb63aece8ff8bd5b9ae33a40245c82aead51,ndrey Vagin <avagin@openvz.org>, 2012-11-20 20:48:34 +0400, , restore add statistic restored page signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8407,5d712b74305ef5fe6ef07b2743c607166858a1e2,ndrey Vagin <avagin@openvz.org>, 2012-11-20 20:48:33 +0400, , restore remove unshared page inherited private mapping parent process change page forking child page avaliable child vma bitmap existent page parent child bitmap compared page present child bitmap dropped check page_bitmap null signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8408,52247b12cf9f8798225646882b86e0c31969055f,ndrey Vagin <avagin@openvz.org>, 2012-11-20 20:48:31 +0400, , restorer need restore page content restorer memory content restored entering restorer.c signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8409,949af72bd5ea8f2ca96308e8b7c22512ee8dac12,ndrey Vagin <avagin@openvz.org>, 2012-11-20 20:48:30 +0400, , restore restore content private mapping forking child required restoring copy write region similar code removed restorer.c signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8410,d02844c8fb3fbaaf9e7c584c33807b562ac90bff,ndrey Vagin <avagin@openvz.org>, 2012-11-20 20:48:28 +0400, , restore use new scheme restoring file private mapping patch vma shmid contains file mapping region contains temporary address signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8411,71f3f7e67b9182ed4d978baa7b3d71e25504b170,ndrey Vagin <avagin@openvz.org>, 2012-11-20 20:48:27 +0400, , restorer remap private vmas correct place private vmas placed premmapped region sorted start address shifted apart one problem overlapped temporary target region mremap could remap case directly case vma remapped away remapped target place fix accoding pavel comment add huge comment picture signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8412,f3e322a10f0fceee2d8273c9fd9ca47b35028836,ndrey Vagin <avagin@openvz.org>, 2012-11-20 20:48:25 +0400, , restore unmap premmapped private vma private vma mapped forking child remapped corrected place restorer.c restorer unneeded vma unmaped vma premmapped region unmaped replace guard page arithmetic restorer signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8413,1a9d87de10c80d50ceb1491474831c431cd147d0,ndrey Vagin <avagin@openvz.org>, 2012-11-20 20:48:23 +0400, , restore map private vma forking child case private vma inherited child allows restore copy write reqions code compare child parent vma list found two vma start end address decides child inherites vmas parent code calculates size private vma allocate memory region vma map one one vma inherited remaped allocated place result vma placed continious memory region sorted start address logic used remap vma correct address fix accoding pavel comment clean simplify simplify code check vma sorted signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8414,f2e482533801f2309b61e96837d8c1d142dce885,ndrey Vagin <avagin@openvz.org>, 2012-11-20 20:39:12 +0400, , restore add helper getting temporary address vma private vma mapped temporary place address saved vma shmid nobody used field private vma easy reading used getting temporary address signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8415,9f9d0e05b1b976fa04299ae32df835a2fff17024,ndrey Vagin <avagin@openvz.org>, 2012-11-20 20:39:09 +0400, , restore collect vma creating child private vma inherited child restoring copy write region free parent vma patch split patch two part signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8416,32650788777b21f981a1bc9c759a1d0cd2ab879d,ndrey Vagin <avagin@openvz.org>, 2012-11-20 20:39:08 +0400, , restore make target vmas list global make patching simpler signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8417,11ed3531a1bd24631de745c62a5dedaeeb0d8925,ndrey Vagin <avagin@openvz.org>, 2012-11-20 20:39:06 +0400, , restore release previous entry vma list inherited parent patch list always empty change soon signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8418,c430e2ee6bb123da8eab9b2822f8f86b07863f52,ndrey Vagin <avagin@openvz.org>, 2012-11-20 20:39:05 +0400, , restore worry vma image file absent read_vmas called zombie signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8419,d5bc93e68bd7115e8f3abe1d70d4cdc47ddf321d,ndrey Vagin <avagin@openvz.org>, 2012-11-20 20:39:03 +0400, , restore add unneeded vma zero start end address signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8420,ec583c74082b6c07b3ee10dc7070e91a7c923669,ndrey Vagin <avagin@openvz.org>, 2012-11-20 20:39:02 +0400, , restore split part read_vmas open_vmas read_vmas called bedore forking child restore copy write memory open image one time signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8421,0c77eaba1b844aca92f0032ce4c02ab1c88d4c8b,ndrey Vagin <avagin@openvz.org>, 2012-11-20 20:39:01 +0400, , add macro determing private vma macro return true anon priv vmas expanded file priv follow patch check flag together signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8422,5373a22747c2ba1412f78fe55616d10f25007fe9,ndrey Vagin <avagin@openvz.org>, 2012-11-20 20:39:00 +0400, , bitmap add function finding next set bit memory region code borrowed linux kernel source signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8423,187419498f207af0e4a375c3ed51d8171e39ceb1,ndrey Vagin <avagin@openvz.org>, 2012-11-20 20:38:58 +0400, , syscall add sys_mremap used restorer.c signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8424,380a904947f687d4fd9207539d4bcac6fc07eaba,ndrey Vagin <avagin@openvz.org>, 2012-11-20 17:24:40 +0400, , zdtm add stream socket tcp list signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8425,456413c98f07c753b681c649705c76aed627512d,ndrey Vagin <avagin@openvz.org>, 2012-11-20 17:17:51 +0400, , tcp check state refresh_inet_sk socket get fin state changed close_wait supported yet signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8426,e10829370d4133e3005e6e9c099188a6ea02a6c6,ndrey Vagin <avagin@openvz.org>, 2012-11-20 17:17:30 +0400,2419, tcp refresh data tcp connection blocking window getting info tcp connection blocking 2419 clean upv update lengthes queue listen socket used check state tcp connection established close check state changed tcp_close case changed restoring refresh socket enabling repair mode signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8427,124e70097d67d1dbd7263a53adfc457df2f5a351,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-15 00:13:19 +0400, , zdtm fix pthread01 test case use pthread_sigmask instead sigprocmask show_sigset take size dereferenced variable zeroify sigsets use since libc definition sigset match one kernel http show_bug.cgi 2437 signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8428,86c848e186846b3cef6cbe6ba94942157efcd9fd,avel Emelyanov <xemul@parallels.com>, 2012-11-13 20:52:40 +0300, , rst remove unused extern fns declaration signed pavel emelyanov xemul parallels.com,,
8429,e6617b5e2e80c5ca74c5f87ecab44a22b78be9a5,avel Emelyanov <xemul@parallels.com>, 2012-11-13 20:51:32 +0300, , parasite macro getting parasite symbol previous patch easier read possible use tag signed pavel emelyanov xemul parallels.com,,
8430,f86bbe6a9c6ef4c012bfd03db53ae934528effad,avel Emelyanov <xemul@parallels.com>, 2012-11-13 20:15:13 +0300, , restore introduce macro get restorer symbol address make code readable save one ptr stack let jump restorer code using tag signed pavel emelyanov xemul parallels.com,,
8431,23bf4faa0dc3dcc1eb2b016ead1e4b42ffb242f3,avel Emelyanov <xemul@parallels.com>, 2012-11-12 17:04:24 +0300, , check set error log level checking spoil screen false warning signed pavel emelyanov xemul parallels.com,,
8432,54148db18f5c36eaf8817da82d52e12d3ddaa6f6,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-12 17:43:02 +0400, , zdtm add new pthread01 test test thread blocked signal restoration signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8433,2ee5a42f3e4ccd6bb08c2e225a8bf303109a394b,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-12 17:43:01 +0400, , restore add restoration blocked thread signal image unify code thread leader regular thread move blocked signal thread leader thread argument area use helper signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8434,5da22b01febc67662c1d734c09c9850212102cef,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-12 17:42:59 +0400, , dump fix message thread dumping add missing new line message signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8435,7266efdec524cfe811fba794597adc2e55141b99,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-12 17:42:58 +0400, , dump show blocked signal dumping debug purpose signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8436,5b7e3b8dae3e7fe909a92d3135d24995d0cde81a,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-12 17:42:56 +0400, , dump checkpoint per thread blocked signal moved dump_thread helper bit lower file since call helper group thread related function one slab signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8437,f107e8e9e2d994af63413a931a373b590e551bdc,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-12 17:42:55 +0400, , dump save remove per thread argumens parasite patch start using helper save per thread data parasite remove cure procedure signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8438,80928f8c1bd085150b2b153d0f0eebcf49ad41d8,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-12 17:42:54 +0400, , parasite declare tid pid_t consistent type using signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8439,c8754da9ae9cc102dbe8dda1b2443eeb4f5b94b0,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-12 17:42:53 +0400, , parasite rename need extend structure keep tid tid_addr blocked signal well thus rename generic  command renamed sake signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8440,9dc332a59337310531b6929a790d1cf372ed2834,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-12 17:42:51 +0400, , parasite syscall add parasite_ init fini _threads_seized helper use crtools code save restore blocked signal mask thread signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8441,98544842ac5f84b355574cd8e37f2f7c31ad853b,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-12 17:42:50 +0400, , parasite switch parasite thread leader use thread helper init call init_thread save blocked signal mask per thread data fini call fini_thread restore blocked signal note could use thread_leader directly think calling fini_thread generic dump_misc per thread data signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8442,e441109efa923966c8520bda9de8f3eb1b988c47,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-12 17:42:49 +0400, , parasite add init fini _thread helper helper needed save blocked signal mask dumpee thread signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8443,616b96421eaf1aa2e57a7cc89c9d6dd00f52ebc3,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-12 17:42:48 +0400, , parasite rework init fini reserve free space per thread data per thread information requires space parasite data particular keep blocked signal bound thread pid sake caller need provide parasite many thread used calculate space signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8444,4be701794ec4e2498acb4511da3e48ca19539943,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-12 17:42:47 +0400, , protobuf add blk_sigset hold blocked signal thread signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8445,9a5b42747068167a754515194c9df58d7c6d7a39,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-12 12:35:03 +0400, , restore check_core add missing test thread_info non zombie task otherwise might get nil dereference sigreturn restore signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8446,475aa8722555b56e7ff8c2c84061fffad696d9c1,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-12 12:34:56 +0400, , restore check_core move core check separate statement need extend non zombie test signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8447,71a65a96f5bfdae39f68560fb1a78735863a2e0b,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-12 12:33:53 +0400, , zdtm update futex test thread leader forget test thread leader well signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8448,300d2f26265e067ca3e5486d4cb86becb9653a2f,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-11 13:28:59 +0400, , protobuf drop dangling space func change signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8449,058d83b4643d7a79cdb9f692a7e221133f60271e,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-11 13:28:25 +0400, , protobuf return error do_pb_read_one better stick convention trying follow general negative code error signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8450,6b2e13fcd90ecf2e517a628c4287ebe963821eda,avel Emelyanov <xemul@parallels.com>, 2012-11-06 19:07:38 +0300, , proc fix anon shmem mapping detection linux kernel emulates anon shared mapping mapping internal tmpfs file try detect checking file map error major check wrong regular tmpfs file well btrfs ecryptfs screw thing working way get dev_t internal tmpfs mount signed pavel emelyanov xemul parallels.com,,
8451,bbf33fa68f996c5baeb987b18cbdb767c704fb4f,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-06 18:18:31 +0400, , parasite print error code signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8452,5e8816796ba4a7882c7ea33ecdf51324369337ea,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-06 18:18:23 +0400, , parasite make init return negative error code fix place positive value returned error sign signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8453,89ab7f9fa5ef13b1833b5d2fb4f83fb2b7d6e30f,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-06 18:18:11 +0400, , parasite return error write failed fix typo signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8454,03d448f0479a4315034b192e79fa4f88029093ca,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-06 18:17:16 +0400, , parasite switch boolean predicate function boolean value appropriate signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8455,dc3a08c80ba1e491875a71cba161e88499793624,ndrey Vagin <avagin@openvz.org>, 2012-11-06 18:14:01 +0400, , zdtm add static socket tcpbuf enabled default signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8456,8a496c860ac54367729b22c2ca7e7f4d512a4163,ladimir Davydov <VDavydov@parallels.com>, 2012-11-06 16:57:42 +0400, , zdtm allow possix timer overrun greater time passed live migration timer overrun jump forward signed vladimir davydov vdavydov parallels.com acked stanislav kinsbursky skinsbursky openvz.com signed pavel emelyanov xemul parallels.com,,
8457,eadf6d4eabf988aba0650e5ab51e2939545b63c9,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-06 16:56:55 +0400, , parasite syscall invert sign parasite return code sneaked parasite error handling code rework parasite returned negative error code invert signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8458,eee14340e3b482ba25e1ba61df9533e4f28e6c2d,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-11-06 16:46:42 +0400,2425, protobuf skip show zero size repeated field print empty message filed instead 2425 signed andrew vagin avagin parallels.com signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8459,c237a720b18815e1d8e02393910a02b730a0cbbf,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-06 13:41:36 +0400,2412, libnetlink make sure error happened dumping done kernel misconfigured say udp diag module set detect situation report error patch add test error code note kernel requires patch well without kernel patch test harm anyway thus safe merge 2412 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8460,7de965260e8bca9fbc3d7c2fa5627a6e83c5de07,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-06 13:37:15 +0400, , log show time stamp pr_msg case pr_err happens pr_msg string buffer dangling timestamp prefix skip signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8461,c80b08643fe8ba594913dc9d90d665127f34e8db,ndrey Vagin <avagin@openvz.org>, 2012-11-02 17:43:59 +0400, , zdtm print string describing error number signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8462,a943071e44ae58991e81fcf5a8b4fe3a867638cc,ndrey Vagin <avagin@openvz.org>, 2012-11-02 17:43:30 +0400, , tty02 open slave tty o_noctty signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8463,e6bd325845955a2d2920ca9c068a48e015310c6a,ndrey Vagin <avagin@openvz.org>, 2012-11-02 17:42:48 +0400, , zdtm fix error message signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8464,64a4c40083262f20ccf1c1cc8907ec73dbd8979c,avel Emelyanov <xemul@parallels.com>, 2012-11-02 16:07:56 +0300, , check check ability get socket filter required work tcpdump signed pavel emelyanov xemul parallels.com,,
8465,d4735a22fa0d3b1deca249631a5d86ddfceac3be,avel Emelyanov <xemul@parallels.com>, 2012-11-02 16:00:18 +0300, , packet support mmap ing packet socket three part proc open map_files link work socket fstatat check socket packet save socket inode vma_area dump resolve socket inode socket save vma use inode since restore mmap opened file abstract socket inode restore reading vma need find respective packet socket opened i.e map close socket supported dup let restorer mmap back make possible tcpdump tool signed pavel emelyanov xemul parallels.com,,
8466,a385c6fa8d6743eaccbe9ede7be9a55a1b555258,avel Emelyanov <xemul@parallels.com>, 2012-11-02 15:59:20 +0300, , rst print debug pre opening vma signed pavel emelyanov xemul parallels.com,,
8467,1fe795c5ca8b1b7c327065cd4d4dc020ccfd161c,avel Emelyanov <xemul@parallels.com>, 2012-11-02 15:57:56 +0300, , restorer print debug calling mmap new mapping signed pavel emelyanov xemul parallels.com,,
8468,3246f2399a9b323f47bb5da254ee404278eafa2c,avel Emelyanov <xemul@parallels.com>, 2012-11-02 14:46:51 +0300, , util fix vma shmid printing format signed pavel emelyanov xemul parallels.com,,
8469,caca5daa842f83c090b940186bc0fe4c269a525c,avel Emelyanov <xemul@parallels.com>, 2012-11-02 13:53:21 +0300, , proc parse fix mapping address print format signed pavel emelyanov xemul parallels.com,,
8470,1eb2212530cdca3df1baa111ec502fc9d9aad7a2,ndrey Vagin <avagin@openvz.org>, 2012-11-02 14:38:48 +0400, , unix restore file params sockopts standalone socket situation socket bound listen yet find situation restore parameter signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8471,4c60b22d75d81380d5e46ef606d1117ec91db0f0,ndrey Vagin <avagin@openvz.org>, 2012-11-02 14:38:35 +0400, , zdtm check unconnected unix socket http show_bug.cgi 2408 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8472,e5a8065713b43810c27095f5b6c67174f658f3cf,ndrey Vagin <avagin@openvz.org>, 2012-11-02 14:37:45 +0400, , unix restore name unix stream established socket stream socket may bound listen yet signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8473,434c107d7c5ad054363899ef9cadb988afa71157,ndrey Vagin <avagin@openvz.org>, 2012-11-02 14:37:33 +0400,2408, unix allow dump closed socket look like restored already 2408 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8474,1c35b31d8d35013e442da7b158bddde7283e4821,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-02 14:34:03 +0400, , parasite drop deprecated comment longer true deresigned parasite pretty time ago signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8475,ae84dc817d4460100978aa0cbcc2a8f26685289f,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-02 14:33:45 +0400, , parasite drop void conversion noise need explicit conversion simply brings noise signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8476,11df96b40768b7b7c69cfb006dba8e536cda0dce,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-02 14:33:28 +0400, , parasite drop dead code signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8477,1e93a46e9bde07c26a4ba013fa1bb48b80eb4a5c,uang Qiang <h.huangqiang@huawei.com>, 2012-11-02 13:45:25 +0400, , crtools update usage message log level level right update usage message signed huang qiang h.huangqiang huawei.com signed pavel emelyanov xemul parallels.com,,
8478,0c23c5835e1d457d58a181cc7ed24f5f6104cbc7,uang Qiang <h.huangqiang@huawei.com>, 2012-11-02 13:44:26 +0400, , crtools fix bug log_level may work use num set log_level happen set end argument num set may work patch fix signed huang qiang h.huangqiang huawei.com signed pavel emelyanov xemul parallels.com,,
8479,0fa83b03948fad9a3f0868b3c966797018209ba0,ndrey Vagin <avagin@openvz.org>, 2012-11-02 13:40:54 +0400,2411, socket increase socket buffer restoring queue size send recv buffer set maximum restore queue size buffer restored o_nonblock set socket prevent blocking restore 2411 unix socket signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8480,9f8ef2b80234dc909ee69e0d826f53167e19a1ba,avel Emelyanov <xemul@parallels.com>, 2012-11-01 20:23:02 +0400, , merge branch fetch,,
8481,ce028b15db15ffd9c468d2ac0c37897b957f679c,avel Emelyanov <xemul@parallels.com>, 2012-11-01 19:22:06 +0300, , zdtm test socket filter migrates well signed pavel emelyanov xemul parallels.com,,
8482,d3397e8f8c60678a982319433433c39a841f43d9,avel Emelyanov <xemul@parallels.com>, 2012-11-01 19:20:33 +0300, , support socket filter one thing note socket filter proggie set struct wuth bit value protobuf support thing annoying mess yet another message instead encode stuff array fixed64 field handle endianity yes protobuf handle field bit value structure signed pavel emelyanov xemul parallels.com,,
8483,a6a476ff23a12b4a9a83dc783c048916474ecd54,avel Emelyanov <xemul@parallels.com>, 2012-11-01 17:53:57 +0300, , skopts prepare xmalloc able entry skoptsentry,,
8484,a723809c7d82df8a4e5d82780253780c97ac636e,avel Emelyanov <xemul@parallels.com>, 2012-11-01 17:37:53 +0300, , sock fix ret code collection dumping socket option signed pavel emelyanov xemul parallels.com,,
8485,6a9fecb5ea631314ac2cddc2dfff181464ddae60,yrill Gorcunov <gorcunov@openvz.org>, 2012-11-01 15:28:37 +0400, , crtools add missing pr_err signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8486,f7477bc2a6f64123d266ad79ccf9c98c4b30139e,insbursky Stanislav <skinsbursky@openvz.org>, 2012-11-01 14:48:05 +0400, , zdtm cleanup launcher output case passed test print pas signed stanislav kinsbursky skinsbursky openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8487,a08f2030a1607d11a063109ef00d163bc3bbfb43,insbursky Stanislav <skinsbursky@openvz.org>, 2012-11-01 14:45:51 +0400,2404, test add process tree restoring test test make sure process tree restored opened file guaranteed holding child proc pid stat file opened parent inspired openvz bug 2404 iow openvz restore container test inside  test renamed carefull cleanup minor update signed stanislav kinsbursky skinsbursky openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8488,f33df79e1e09289b6397a4f6e5be922dbf49e4f1,uang Qiang <h.huangqiang@huawei.com>, 2012-11-01 14:44:14 +0400, , restore fix print correct length bootstrap length bootstrap print old wrong need fix unify length variable signed huang qiang h.huangqiang huawei.com signed pavel emelyanov xemul parallels.com,,
8489,60d382f990fed798d7686c9d733127ee17a866a9,avel Emelyanov <xemul@parallels.com>, 2012-10-30 22:30:00 +0300, , inet make tcp_connection inline used image signed pavel emelyanov xemul parallels.com,,
8490,bf8b7c4f8902e1764cd3e973851d4ead92351d93,avel Emelyanov <xemul@parallels.com>, 2012-10-30 22:25:57 +0300, , inet reshuffle proto level socket dumping support tcp state udp specific info eventually introduced switch look friendly future signed pavel emelyanov xemul parallels.com,,
8491,8abab0dae7e9ed6f83f398f133df052354d763f3,avel Emelyanov <xemul@parallels.com>, 2012-10-30 22:06:45 +0300, , udp warn read queue dropped dump blocking dump dgram socket lose data emit warning log signed pavel emelyanov xemul parallels.com,,
8492,6de7b7b395f821c2b0e3486dd02d0336b55cab8e,avel Emelyanov <xemul@parallels.com>, 2012-10-30 22:04:46 +0300, , udp dump dgram socket corked data dump application put data write queue add currently way fetch data back dropping mean breaking app level protocol signed pavel emelyanov xemul parallels.com,,
8493,a897e060b8e7dc30e14816385002663cded9c175,avel Emelyanov <xemul@parallels.com>, 2012-10-30 21:09:33 +0300, , parasite sanitize preprocessor arch check signed pavel emelyanov xemul parallels.com,,
8494,12ebda31842843b3bb8d1ca621f7dd81a516a24f,avel Emelyanov <xemul@parallels.com>, 2012-10-30 21:06:43 +0300, , tty factor tty ioctls enotty checking signed pavel emelyanov xemul parallels.com,,
8495,5cfec27131f8157300ca6b135194cac631a2a0b4,avel Emelyanov <xemul@parallels.com>, 2012-10-30 20:58:03 +0300, , parasite sanitize args size checking move check parasite_args make build time get rid bunch build_bug_on parasite.c signed pavel emelyanov xemul parallels.com,,
8496,385e1059cb4337adba124b706e912254e3ca96a1,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-30 21:42:13 +0400, , zdtm detailed report unmounting problem seems screwed setup mount point testing machine thus mountpoint test become failing nevertheless better report exactly failed easier investigation patch get mountpoints pidfile mountpoints.pid outfile mountpoints.out 07.398 1745 umount dev failed device resource busy 07.398 1745 umount failed device resource busy 07.399 1745 umount failed device resource busy 07.399 1745 umount failed device resource busy 07.399 1745 umount failed device resource busy 07.399 1745 fail mountpoints.c umount filesystems errno 07.404 1744 err test.c 298 test exited unexpectedly code errno signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8497,0678ea2e15412b02765307cf521bd8563d21c165,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-30 20:54:20 +0400, , inet detailed error parsing unconnected socket errno guaranteed clear call exit success thus make sure ret negative test errno http show_bug.cgi 2412 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8498,b110af6eec28e5d6708ea8f504389b9a02a1e8d0,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-30 20:53:49 +0400, , inet need 128 byte address so_peername sockopt report einval len passed greater real one copy part address otherwise need pas good optlen get einval falsely hand since need check connected connected enough push byte signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8499,76221d96c746dbffa80870eb74df88e3b4205bfb,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-30 19:05:00 +0400, , tty drop helper almost find_first_sid let use instead signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8500,28eb57eddf4c8075e2e5dd6a38b6ff3f6bb9603a,ndrey Vagin <avagin@openvz.org>, 2012-10-30 19:04:01 +0400,2411, zdtm check full tcp buffer custom size increase size tcp rcv snd bufffers fill buffer dump restore check data restored test reproduces problem buf 2411 use test_waitsig external process pid name space signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8501,484905d4efaa41f125f70bdfdb40aae2dcfa3491,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-30 18:25:33 +0400, , zdtm add tty02 test enabled default signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8502,598a4c21d6bcdfbd11553619a74572ad3f9473c2,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-30 18:24:16 +0400,2409, tty open slave peer o_noctty mechanism restore controlling terminal thus need kernel create implicit way 2409 signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8503,6c53c74a06d58babb3489e98d6d8e0868add2a69,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-30 18:24:15 +0400,2409, tty rework found fail restore task session leader controlling terminal patch reworks logic fix problem problem basically following case sid present even master peer master slave peer trying find restoring task wrong since peer belong session 2409 reported andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8504,2b9d87fe6bcaf5849c551b08ebd82f6b6fdcf92d,avel Emelyanov <xemul@parallels.com>, 2012-10-30 10:04:37 +0300, , rst fix cred thread restoration writing last_pid sysctl cap_sys_admin potected thus restoring cred work case fix making thread restore cred thread group leader signed pavel emelyanov xemul parallels.com acked andrey vagin avagin parallels.com,,
8505,762f493bc3cb9cb93b944f46fa67b1fd0d0b53cf,ndrey Vagin <avagin@openvz.org>, 2012-10-30 10:28:06 +0400,2409, zdtm check non controlling terminal two thing test process session leader terminal conrolling anyone bug 2409 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8506,b1f1154c8a26e895233f5d89b9bd96cf663619c9,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-29 19:54:12 +0400, , auxv use real size auxv vector size vector depends kernel config use real size vector dumped otherwise might fail restore reported stanislav kinsbursky skinsbursky parallels.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8507,84ed00b674e860573e111a5352b3b7055c49da33,avel Emelyanov <xemul@parallels.com>, 2012-10-29 18:39:37 +0300, , rst fixup thread cred restore thread share cred thus restore group leader restore state appealing signed pavel emelyanov xemul parallels.com,,
8508,09afabb4226c9769e1d43f93ce577912c9e043e1,avel Emelyanov <xemul@parallels.com>, 2012-10-29 17:13:11 +0300, , rst merge common thread param restoring task thread signed pavel emelyanov xemul parallels.com,,
8509,f1228904d5840eacd3a3a4b73062b067e9481724,avel Emelyanov <xemul@parallels.com>, 2012-10-29 17:08:46 +0300, , rst merge register restoring code task thread restore signed pavel emelyanov xemul parallels.com,,
8510,1bc50df94b94bcc99991cd5eb5d7d398e39a5f55,avel Emelyanov <xemul@parallels.com>, 2012-10-29 17:01:26 +0300, , rst remove unused field signed pavel emelyanov xemul parallels.com,,
8511,f8142ba352a6dcfb18072977da2e2673004a896f,avel Emelyanov <xemul@parallels.com>, 2012-10-29 17:00:18 +0300, , rst make part former actually parameter thread group leader natural task signed pavel emelyanov xemul parallels.com,,
8512,0a77f4f1f96f5f52aa69f41a055dd37083b8c849,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-29 13:40:45 +0400, , parasite get rid redundant ptrace_cont tail tail ptrace_cont call parasite calling code redundant far say thus get rid signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8513,4eb37687a1acaa1dd8d64b819ebf083723773a62,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-29 13:40:06 +0400, , app emu add job test tty migration testing signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8514,eb9b1ab240ce9ef7c8778d41553e46d18e2c58f6,uang Qiang <h.huangqiang@huawei.com>, 2012-10-29 13:38:53 +0400, , restore remove duplicate round_up historical change second page aligned reduplicate remove signed huang qiang h.huangqiang huawei.com acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8515,e8d511943c6d8a8f0264e9bafad108fd4fe6b17e,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-29 13:37:42 +0400, , tty try restore controlling terminal via ptmx slave peer restoring controlling terminal work program need investigation future signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8516,f0606bc8d99529d1d5bbbe02500469fc37eccc0d,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-29 13:37:34 +0400, , tty introduce deferred checking tty sids dumping tty peer somewhat tricky became complex allowed migrate inherit session found screen problem looking session leader dumping tty let explain detail example screen session pid gid sid 20567 20567 20567 screen 20568 20568 20568 bin bash screen open master peer ptmx provides bash slave peer bash set session leader thus get interesting scenario pstree construction done lazy fashion run parasite code fetch sid pgid process tree item really dumping task thus start dumping ptmx peer belongs screen yet constructed process tree item child bin bash lookup function tty code walk process item tree simply fails find sid child yet dumped thus resolve situation verify tty sids late stage dumping signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8517,84da534261fc47c726c0ffe7208d16c965c8ca91,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-29 13:37:18 +0400, , tty fixup error message dump_pty_info sid may present slave peer fix message also extend showing peer type signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8518,f8fa75ae860492aa240c6eb39d744088a0be4a60,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-29 13:37:11 +0400, , tty make tty_type use major argument make helper wide usable signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8519,4dc29af3ee1628aac1e23e50ed60b833c403b6a7,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-29 13:37:00 +0400, , tty use new ioctls granted parasite need trick fetch everything need parasite signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8520,73217b7a7d42ff497cc477d5304a7d1c3c105e35,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-29 13:36:46 +0400, , tty parasite add support new kernel ioctls fetch state signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8521,8c1807ab38606b2168bb473905dd616cc0c4adb8,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-29 13:36:35 +0400, , tty add comment signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8522,371caf2ff84822af8ca16299644a8d62db587021,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-29 13:36:18 +0400, , tty fix tty inheritance case zero sid fetched case checkpoint time fetched zero sid associated tty peer obligatory mean met hangig terminal particular zero sid may obtained slave peer belong session task run inherited parent thus shell job passed handle situation gracefully http show_bug.cgi 2405 reported andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8523,5cb163411ecc13f26853721cb1bcec2c6fb88e7b,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-29 13:35:47 +0400, , tty lookup controlling tty iif sid provided rather code tossing next patch signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8524,1b060e14703f1c4f0ac75089510a31529cc592be,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-29 13:35:34 +0400, , app test java use shell job option since support tty migration use otherwise fail signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8525,fd19a1fc3afccab367c5a460d933c28670f83de2,ladimir Davydov <VDavydov@parallels.com>, 2012-10-26 21:27:03 +0400, , zdtm make posix timer migration test use corresponding clock container monotonic time freeze container checkpointed make zdtm posix timer test fail fix obtain time passed used check timer result using clock used timer signed vladimir davydov vdavydov parallels.com acked stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8526,df553964df6a9eb2cc0598b17286b40d33a4c56e,avel Emelyanov <xemul@parallels.com>, 2012-10-26 14:58:34 +0400, , zdtm fix sleep time unwanted overflow sleep 0.9 occurs sleep 0.10 want stop incrementing 0.9 signed pavel emelyanov xemul parallels.com,,
8527,3d3e312b3811ce32749cd9bdd682a38b981637a4,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-26 14:57:20 +0400, , zdtm fail maps02 madvise kernel madv supported reported pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8528,9f90f2e5c604b72a347b823c754c625bc786cac9,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-26 00:16:07 +0400, , zdtm add maps02 test case test new bit fetch vmflags smaps interface signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8529,183eaab899cbec62bfd0dc7a703f96f1818a5cda,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-26 00:16:06 +0400, , restore madvise vmas provided provided madivce bit restore hit vma area signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8530,cc6af3898ef9f76d9879dd29cee47aabe47a1449,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-26 00:16:05 +0400, , memory add pasing vmflags kernel support providing vma flag via smaps interface add pasting signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8531,a343afad34a37add5c28797bf29c4d17deade45f,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-26 00:16:04 +0400, , syscalls add sys_madvise need vma restore signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8532,fc6e73964ad7836389e1cede357f610a30d86eb2,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-26 00:16:02 +0400, , type add madv_ definition testing machine defs present define needed signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8533,6d97c09772570f3e202fe454b6c8b57b9420f4ab,uang Qiang <h.huangqiang@huawei.com>, 2012-10-26 00:08:47 +0400, , ipc_ns close file immediately need according andrew advice change close file logic bit make code seems readable signed huang qiang h.huangqiang huawei.com signed pavel emelyanov xemul parallels.com,,
8534,7d8ad0bc47f4373295eb5f899f90e3ccfcdc22bd,avel Emelyanov <xemul@parallels.com>, 2012-10-24 22:12:57 +0400, , unix lost master socket opts restore signed pavel emelyanov xemul parallels.com,,
8535,080282df7c0ac04f8352f025541e00d885ff11dd,avel Emelyanov <xemul@parallels.com>, 2012-10-24 22:08:46 +0400, , unix simplify unix post open callback want work 2nd argument need calculating file_desc signed pavel emelyanov xemul parallels.com,,
8536,2f5d7098b89f395f45aa108511e94176d6c3cef2,ndrey Vagin <avagin@openvz.org>, 2012-10-24 19:12:44 +0400, , zdtm worry storage device changed nfs kinsbursky stas added comment oct st_dev generated nfs superblock creation signed andrey vagin avagin openvz.org acked stanislav kinsbursky skinsbursky parallels.com signed pavel emelyanov xemul parallels.com,,
8537,93d41b1a838123b5a4041e92c2df1ee9255fa750,avel Emelyanov <xemul@parallels.com>, 2012-10-24 18:38:22 +0400, , inet disable dumping shutdown socket requires work unix socket report signed pavel emelyanov xemul parallels.com,,
8538,48042e65daf9c5658f333a5e6545d358f9ec31ce,avel Emelyanov <xemul@parallels.com>, 2012-10-24 18:32:33 +0400, , zdtm test shutdown unix socket signed pavel emelyanov xemul parallels.com,,
8539,847108124456871e028e3a765ef968dbc44f737a,avel Emelyanov <xemul@parallels.com>, 2012-10-24 18:31:42 +0400, , unix add support shutdown socket get info kernel diag message always restore shutdown end signed pavel emelyanov xemul parallels.com,,
8540,223dce83c2e337cd2fdb2affb9deb6e4553c0ae4,uang Qiang <h.huangqiang@huawei.com>, 2012-10-24 16:51:50 +0400, , fix many unclosed file opened open_image_ro many image file opened open_image_ro closed return fix patch signed huang qiang h.huangqiang huawei.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8541,cf698a9a484eb0a7cc911bee3073b04cbd2a8938,ndrew Vagin <avagin@parallels.com>, 2012-10-24 15:52:53 +0400, , zdtm split sched_prio00 two part sched_prio00 test priority sched_policy00 test scheduling policy scheduling policy changed openvz container signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8542,da8799199eba1a0eb484318376989562e55cbc87,ndrew Vagin <avagin@parallels.com>, 2012-10-24 15:52:30 +0400, , zdtm workaround compiling error ubuntu 10.4 getsid required enabled __gnu_source defined session00.c error implicit declaration function getsid signed andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8543,cdecc9d0121265651cb61d069fc7525f2bbba0fd,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-24 15:52:02 +0400, , zdtm drop memory barrier file_fown rudiment parsed well gcc version reported andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8544,1945a83b0cd7095f8fc7c855ab2596c7ab6653fb,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-22 15:48:42 +0400, , tty detailed printing unpaired slave case error provides information going example test case see error came 00.027248 tty unpaired slave 00.027261 tty unpaired slave 00.027273 error tty.c 174 tty one slave external peer allowed index signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8545,22a13778689b591ee26e6c9883facc1633b022da,avel Emelyanov <xemul@parallels.com>, 2012-10-19 17:37:48 +0400, , zdtm test socket bound device work signed pavel emelyanov xemul parallels.com,,
8546,b42f8fa1ace5395490674e6beb64901b4f1379fc,avel Emelyanov <xemul@parallels.com>, 2012-10-19 17:36:44 +0400, , support so_bindtodevice option kernel so_bindtodevice option symmetrical set required device name get report index thus need index name resolver signed pavel emelyanov xemul parallels.com,,
8547,ef3771d566dacb8ee9fe71b744d56f08674fe3db,avel Emelyanov <xemul@parallels.com>, 2012-10-19 17:35:46 +0400, , net introduce netdev index name resolver required support socket bound device restoring net namespaces collect existing device restoring collect received image signed pavel emelyanov xemul parallels.com,,
8548,f1fb3c740e46ac35371ce5d7ec2c45de6256aaff,avel Emelyanov <xemul@parallels.com>, 2012-10-19 17:34:47 +0400, , net split dump_links part need dump link another purpose prepare generic rtnl talker signed pavel emelyanov xemul parallels.com,,
8549,2f3e52d83ffafa52cc9d01a4c7cdd61aa02a86e0,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-18 19:47:17 +0400, , doc update documentation drop option dump context longer valid add link remap shell job option signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8550,8f81f589aec53082f9afd44ab7c6b337c747c4ba,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-18 15:52:01 +0400, , tty restore migrate tty slave peer connection shell job passed case dumped slave peer say user dumped top application migrate current active terminal barely standart stream prepared file engine note one external slave peer allowed simply otherwise distinguish index used  patch basically doe following thing check sid present peer exist current process tree need sure restore peer parameter controlling terminal present rename might inheriting self_stdin_off instead opening fake master peer inherit self_stdin_off restore tty group restoring external tty signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8551,bee5ddfb7a0e743a7019507edbb68c5a62e09982,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-18 15:52:00 +0400, , tty update tty verification procedure need make sure one external tty present since otherwise idea index connect restore patch extends procedure count many external tty present dump image signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8552,c2f44646b6203c505a8fff56be5c47868ba3f390,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-18 15:51:59 +0400, , tty mark collected tty bitmap upon reception tty need mark bitmam thus able verify active ttys obtained paired paired one external tty allowed signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8553,3d84d00fa8c3f430f5db431d42772043e30461de,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-18 15:51:58 +0400, , pstree allow dump restore session non leader shell job passed shell job passed allow dump restpre session non leader note sake tty restore addressed patch inherit process group root task signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8554,9ba5c935f1e1d69cf96cf187fe1ea0388c1abc13,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-18 15:51:57 +0400, , option add shell job option option tell tool procceed dumping even root task session leader implies option allow migrate one external tty connection say person may dump top application one bash shell restore another shell session signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8555,9c579cfd025b5a624dd600e5b687dddc64157d96,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-18 15:51:56 +0400, , sfd_type add self_stdin_off service call helper needed need slave ttys migration serve one purpose clone self stdio descriptor use tty layer addressed patch signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8556,b0b7ed1181fbd6bb56c8b02b1f2893e87e3dbe1f,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-18 15:02:47 +0400, , restorer add sys resource.h header otherwise prio_process may found reported andrew grigorev andrew grad.ru signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8557,51e9cd32b27b2f841f4f176b42082daaeaaabf76,ndrew Grigorev <andrew@ei-grad.ru>, 2012-10-18 15:02:37 +0400, , type use siginfo_t signal.h rt_signalfn_t declaration fit sa_sigaction declaration otherwise compiler complains uncasted assignment restorer.c function restorer.c 318 error assignment incompatible pointer type werror use siginfo_t system signal.h header signed andrew grigorev andrew grad.ru signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8558,aa731ee1d74ff8b8bc34279c8fbd8829cee8c5d3,avel Emelyanov <xemul@parallels.com>, 2012-10-17 00:23:25 +0400, , core support task scheduler policy priority magic fetch info using getpriority sched_getxxx call good news mentioned syscalls take pid argument work i.e need parasite help restore splitted prep copy sched bit image restorer args restore done avoid restoring task info idle priority make restorer fail sched bit validated sanity prep stage minimal sanity test also signed pavel emelyanov xemul parallels.com,,
8559,33c0add242a4db0aa27d50cea08652f59219b89e,avel Emelyanov <xemul@parallels.com>, 2012-10-15 23:55:34 +0400, , tty sanitize tty parasite side dumping signed pavel emelyanov xemul parallels.com,,
8560,9fb384f926ff5e11208571258e62ed5ccaa733f9,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-15 23:42:54 +0400, , tty make use parasite code need use namespace local sid pgid parameter assigned tty link thus use parasite helper otherwise might fail restoring controlling terminal inside namespace though everything else work even without patch signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8561,9ee6f877117b9e9f76bdfe79552ff8e18ab3fb43,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-15 23:42:53 +0400, , parasite make parasite_args helper global need tty layer signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8562,848215b6f163d2683e3c09f492894d5acf6f13a2,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-15 23:42:52 +0400, , tty drop sid pgid test verify_info since started fetching sid pgid dumpee context allowed obtain sid pgid slave peer perfectly valid drop test signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8563,2b816a593aa2cb640b1ccf0242420a18c26563c2,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-15 23:42:50 +0400, , dump make struct fd_parms carry parasite_ctl pointer file type specific parameter fetched parasite code let carry parasite control block pointer struct fd_parms bit ugly requires code touch enough long term need generalized routine hook would depends file type signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8564,a9241a23f76773c2b1d9979acbbb1dbfbab0bac0,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-15 23:42:49 +0400, , parasite add helper need fetch tty link parameter kernel provides sid pgid related caller context dumping process inside namespace need local sid pgids global one signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8565,f96f5805694313105de949a4fade3744530b7f2d,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-15 23:42:48 +0400, , syscalls add sys_ioctl signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8566,16866694102f60cda906dac9366d1a919d0dc742,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-15 20:02:29 +0400, , tty make return error case task found would restore controlling terminal exit error instead continue error message signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8567,293eca3127b682fc9364e8f5d70b4eef77a77f4d,avel Emelyanov <xemul@parallels.com>, 2012-10-15 15:45:57 +0400, , support so_no_check option signed pavel emelyanov xemul parallels.com,,
8568,9988c38daa9a49ffa6058fabebdc6dc7f84d9a97,avel Emelyanov <xemul@parallels.com>, 2012-10-12 20:48:32 +0400, , protobuf fix show nested message pretty format currently pretty format leak nested message affect way shown fix assuming nested message non pretty signed pavel emelyanov xemul parallels.com,,
8569,ed745fa9cf1d4ab0b25a43d7aa66982f2dcb0c65,avel Emelyanov <xemul@parallels.com>, 2012-10-12 20:32:06 +0400, , support so_dontroute option signed pavel emelyanov xemul parallels.com,,
8570,5e1a9f840c4b6af992499edad2021f56943b537f,avel Emelyanov <xemul@parallels.com>, 2012-10-12 14:01:18 +0400, , support so_passsec so_passcred option bug show option fixed later signed pavel emelyanov xemul parallels.com,,
8571,b53d6d90b7a83ccf70e5d0ae006b9af11077f09e,avel Emelyanov <xemul@parallels.com>, 2012-10-12 13:48:18 +0400, , support so_mark socket option signed pavel emelyanov xemul parallels.com,,
8572,0a9ef15e649c30937014c3a4a6a4261d444ea481,avel Emelyanov <xemul@parallels.com>, 2012-10-12 13:44:47 +0400, , remove dead code reworking showing generic shower one required signed pavel emelyanov xemul parallels.com,,
8573,aead1e26d674b58dcfd18c70b7571babfbf9120d,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-11 17:59:10 +0400, , parasite simplify parasite command copying need memcpy plain integer value need filled signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8574,9929d2efdfa0cad2b69deef65075a3280196ced8,avel Emelyanov <xemul@parallels.com>, 2012-10-11 22:02:25 +0400, , sock handle rcvlowat priority option write test signed pavel emelyanov xemul parallels.com,,
8575,74ee5df92429d340003e8730dbde6ea82349da4f,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-10-11 17:13:30 +0400, , zdtm posix timer migration test test set two posix timer different clock realtime monotonic send signal signal disabled suspend make overrun counter increasing restore test enables signal make sure signal handler timer called proper argument time displacement timer greater specified default signed stanislav kinsbursky skinsbursky openvz.org acked vladimir davydov vdavydov parallels.com signed pavel emelyanov xemul parallels.com,,
8576,208292fd21d76eebb7eb7574757dfe381a9430ac,ndrey Vagin <avagin@openvz.org>, 2012-10-11 17:12:17 +0400, , zdtm add smoke test cow memory test allocates fille one page creates new child compare pfn process set position iteration signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8577,23cd07033910a31ae308d926507dc5ff2efc6c1b,avel Emelyanov <xemul@parallels.com>, 2012-10-11 17:00:06 +0400, , zdtp test supplementary group supported signed pavel emelyanov xemul parallels.com,,
8578,f429de662e33105981b349481eb90f1299a7109d,avel Emelyanov <xemul@parallels.com>, 2012-10-11 16:52:52 +0400, , cred support supplementary group dumping performed via parasite since calling getgroups way getting complete list currently group dump limited explicitly size shared memory crtools parasite much seen real apps far restoring done early restorer blob carry undefined array grpous since group affect point affected subsequent cred restore signed pavel emelyanov xemul parallels.com,,
8579,013d26bdd80415fbc112e323aea78515aefc572c,avel Emelyanov <xemul@parallels.com>, 2012-10-11 16:51:41 +0400, , syscalls add getgroups syscall getting group done vie proc task may 65k use parasite thus require syscall definition signed pavel emelyanov xemul parallels.com,,
8580,699a33e1b9c680dbe3e0d925230e0f5e6d49534a,avel Emelyanov <xemul@parallels.com>, 2012-10-11 15:59:43 +0400, , cred dump cred help parasite currently move secbits dumping dumped via misc dumping command patch required support per task group dumping setgroups getgroups drain group parasite signed pavel emelyanov xemul parallels.com,,
8581,7db199c7834e5e2256a092644cd7b26f32c24867,avel Emelyanov <xemul@parallels.com>, 2012-10-11 15:59:43 +0400, , parasite remove double args copy shared memory crtools parasite need copying args back forth get args pointer crtools work possible misc fds drain explicit memecpy fixed signed pavel emelyanov xemul parallels.com,,
8582,7c8496f5b058082b033111490e5c3cc5d5d68af0,ndrey Vagin <avagin@openvz.org>, 2012-10-10 17:31:19 +0400, , pipe00 replace polling waiting signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8583,062f4688172014bbf28b5bd264a5b8858a3cc587,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-09 19:57:15 +0400, , pstree define symbolic name init process signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8584,e2912397b568ee27d465ae8525e672889f3fd49f,avel Emelyanov <xemul@parallels.com>, 2012-10-08 19:56:12 +0400, , log set log level parasite signed pavel emelyanov xemul parallels.com,,
8585,3ef0d9735b5655311cd1caf9288c1385c98c4566,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-03 17:53:04 +0400, , dump need init root_item sibling already done recently merged commit signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8586,e0be540401d436b02c199b6f3056f16392b09f88,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-08 18:59:36 +0400, , pstree move struct pid pstree.h believe make sense keep structure pstree.h pstree related data life also added comment struct pid member signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8587,17a1548a5bd2c19a8d5e67d4b07e8148aa8645ac,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-08 18:59:26 +0400, , pstree rename list member sibling close kernel naming signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8588,9c60b1f4adc42e26550964aabe41e72b21fad913,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-08 18:59:12 +0400, , pstree pstree_item member tuning list member closer child add comment memebers add space line member grouping signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8589,df83b2c2fb0a3297a71449e97b66596cdca5fbe2,avel Emelyanov <xemul@parallels.com>, 2012-10-07 21:12:40 +0400, , parasite use simple logging engine restorer simper parasite logging sys_write_msg signed pavel emelyanov xemul parallels.com,,
8590,ddf68b794085003f93f5f9e2b5e4f6a95b412e85,avel Emelyanov <xemul@parallels.com>, 2012-10-07 21:11:49 +0400, , restorer use simple logging engine remove restorer log link log simple restorer blob use normal pr_foo api signed pavel emelyanov xemul parallels.com,,
8591,b85bf75cf0a090acfe884497cc0d5b9c9f023432,avel Emelyanov <xemul@parallels.com>, 2012-10-07 21:06:46 +0400, , log introduce simple printf like logging engine supposed used parasite restorer blob api equal core one setfd set_loglevel main thing print_on_level currently support string decimal hex number int long signed pavel emelyanov xemul parallels.com,,
8592,37a7b35e887996b52f1ef641050a9938f58b81df,avel Emelyanov <xemul@parallels.com>, 2012-10-07 21:03:53 +0400, , log move default loglevel macro header signed pavel emelyanov xemul parallels.com,,
8593,9a54d64539358425684cc6b3191d9aeae477d14a,avel Emelyanov <xemul@parallels.com>, 2012-10-03 20:55:23 +0400, , log merge two loglevel check signed pavel emelyanov xemul parallels.com,,
8594,2b56175e49a5dc8de95cbf6e30f144794f160d0e,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-03 19:22:23 +0400, , log print time stamp log_msg otherwise show action become unreadable signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8595,16ca152d23ee6f29c514df04ca9243d959599a21,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-03 17:29:26 +0400, , pstree add comment signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8596,f318f40415e9e2ff76aaef7b36fb88dedb6e784c,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-03 17:29:04 +0400, , pstree drop redundant nil test prepare_pstree well release entry error path big deal since exiting case error still signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8597,d82b853dc856999286cfdd93ae9f9e6771bb4ccf,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-03 17:25:09 +0400, , pstree init pstree_item list inside bit fishy init child list list better solid init everything one place also need poke thread nr_threads using xzalloc anyway signed cyrill gorcunov gorcunov openvz.org acked andrey vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8598,9c263a6c8c0c9f35adde9245fc0929ae1c443f8d,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-03 17:23:41 +0400, , pstree simplify deep first search used code shrinked signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8599,59e80d4f483fb7a9f2146c51a5150b95de41983a,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-03 17:21:54 +0400, , pstree fix typo message signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8600,3583578d7c4c083c97f7c093e95658347ad41f6c,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-10-03 16:04:48 +0400, , protobuf fixed typo pb_write_one signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8601,87cf4ad1283ec9e619315e84d0cbe02d158aa8f2,avel Emelyanov <xemul@parallels.com>, 2012-10-03 02:18:01 +0400, , log add relative timestamp log line find handy look good cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8602,30f0acb43e6a6c6a0dc3327296372c4bbb69f658,ndrey Vagin <avagin@openvz.org>, 2012-10-03 00:44:35 +0400, , parasite fix size cmd cmd declarated parasite head x86 64.s  .long size byte int instead long patch fix bug parasite execute part args overwritten cmd memcpy ctl addr_cmd cmd sizeof cmd reported stanislav kinsbursky skinsbursky parallels.com signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8603,79d00c29c0a14b0f270f57d7f2e2f2816c7dab6c,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-02 23:08:02 +0400, , zdtm forget create dev ptmx new root otherwise pty test might fault reported pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8604,c6e0a402bc5b2ee433d1d850b7255b29dd6458e0,avel Emelyanov <xemul@parallels.com>, 2012-09-29 08:28:53 +0400, , dump fix error path page dump call fini stage even dump failed signed pavel emelyanov xemul parallels.com,,
8605,fab5f12fcc2b79e025ced5657b4aea8ebd29c958,avel Emelyanov <xemul@parallels.com>, 2012-09-29 08:23:55 +0400, , dump open pagemap dumping page use command parasite prep dump per vma fini open pagemap file prep insteam per vma dump signed pavel emelyanov xemul parallels.com,,
8606,6a5ac97186b794ec72c30326bc7eb23c684dbb23,yrill Gorcunov <gorcunov@openvz.org>, 2012-10-01 21:10:55 +0400, , tty fix copying termios character map system termios structure equivalent defined quite different first defined plain array use dynamically allocated memory thus use min macro incorrect always produce size pointer fix using size array system provided structure build_bug_on prevent accidental change signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8607,8a4ec72b2fdeed4edbbb7c2fd20fc98fbef93635,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-30 14:49:00 +0400, , zdtm move pty test back compatible list test pty03 yet ready addressed later signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8608,4b99537cd44d13824db6c81c21b0d5f4ab3c9a0f,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-14 22:37:36 +0400, , zdtm mount devpts new root case enter new rootfs forget mount devpts otherwise ttys connected signed cyrill gorcunov gorcunov openvz.org acked andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8609,0ee1eed5fd8e0e57687b6e66a237e1d29acd4180,ndrey Vagin <avagin@openvz.org>, 2012-10-01 17:57:00 +0400, , zdtm simplify case root changed need umount point one one goning pivot_root  pivot_root move root file system current process directory put_old make new_root new root file system  suggest pivot_root detach old root mount point unmounted automatically signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8610,c52be774f0c3674df38a09fa5fc7f88020c7e9f3,ictor Konyashkin <vkonyashkin@parallels.com>, 2012-10-01 16:56:00 +0400, , zdtm need add format fprintf need add format fprintf avoid following error ubuntu 12.04 msg.c error format string literal format argument werror format security signed victor konyashkin vkonyashkin parallels.com acked andrey vagin avagin openvz.com signed pavel emelyanov xemul parallels.com,,
8611,d33d2290bd64317c67736369d2bbd7a258c470ea,ndrey Vagin <avagin@openvz.org>, 2012-09-29 11:01:53 +0400, , file rework function closing descriptor read proc pid close descriptor except service fds  signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8612,edf8ec3fe34928e212d557d43fee89693ee5ae2e,ndrey Vagin <avagin@openvz.org>, 2012-09-28 19:50:40 +0400, , zdtm add ability make several iteration dump restore use num option zdtm.sh signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8613,595e2c76948c6a5e06b1c6035a95c26133ad4cc9,ndrey Vagin <avagin@openvz.org>, 2012-09-28 19:15:52 +0400, , file reg forgot mntns_root linked remap operation file relative mntns_root signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8614,e149e12586d9de92598daf6ddc08ff828bbca486,ndrey Vagin <avagin@openvz.org>, 2012-09-28 16:44:05 +0400, , queue use write read instread sendfile sendfile sendpage data splitted page new skb allocated page creates big overhead sndbuf sendfile suatable dgram socket message boundary saved signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8615,1ce1cca2ac213e8471d8c1cc2958861447d380a5,ndrey Vagin <avagin@openvz.org>, 2012-09-28 16:42:15 +0400, , queue block restore socket queue socket queue free space error returned nobody read socket signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8616,ea20f5d221cd2303b8ef858cb1ecae729146f736,ndrey Vagin <avagin@openvz.org>, 2012-09-28 14:13:20 +0400, , mntns fix indention signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8617,a2fd8cd0a54380146466366c2c2c5b03d3a69b53,ndrey Vagin <avagin@openvz.org>, 2012-09-28 14:13:18 +0400, , mntns simplify case root changed need clean_mnt_ns goning pivot_root  pivot_root move root file system current process directory put_old make new_root new root file system  suggest pivot_root detach old root mount point unmounted automatically patch fix problem new root mounted non root mount point default configuration openvz signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8618,e3fbb63080cebf9256c5e5b0ea6cc312897bb1a0,ndrey Vagin <avagin@openvz.org>, 2012-09-28 14:09:58 +0400, , crtools use special function executing external utils signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8619,cd2be93ba4d809bbe297e3f326c00ee9e36717f3,ndrey Vagin <avagin@openvz.org>, 2012-09-28 14:09:57 +0400, , util add function executing extrenal tool executing external tool need block sigchld juggle file descriptor sigchld blocked getting exit code problem file descriptor want set stdin stderr stdout example use helper reopen_fd_as move_img_fd signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8620,af02c2698fcf7d492df485b261d80d10a5dade05,ndrey Vagin <avagin@openvz.org>, 2012-09-28 14:02:50 +0400, , queue overwrite return code signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8621,9f2e9014f84b3cfbc37d364612f8929836322106,ndrey Vagin <avagin@openvz.org>, 2012-09-28 14:02:04 +0400, , queue recvmsg save error code errno probably sys_recvmsg used earlier return error code signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8622,eb3f46f33d339c6f7d7c0b5c3fbfdb7cb7a979d5,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-28 14:01:17 +0400, , pstree exit error instead bug image corrupted need panic image corrupted exit graciously signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8623,4797f7236e900bfb3dbe89a2afb6808ac4f7680f,avel Emelyanov <xemul@parallels.com>, 2012-09-26 20:11:54 +0400, , help add newline end action script help message signed pavel emelyanov xemul parallels.com,,
8624,1be08acc7c5c77e35501da4af7bf4878b5969d1a,avel Emelyanov <xemul@parallels.com>, 2012-09-26 06:39:23 +0400, , remap add cmdline option allow linked remap default crtools modify environment except killing dumped task link remap doe sit explicit cmdline option signed pavel emelyanov xemul parallels.com,,
8625,fe187fe0ed6442e44f31eb63e4ae8231375d710d,avel Emelyanov <xemul@parallels.com>, 2012-09-26 06:25:15 +0400, , zdtm test opened unlinked file non zero link count work unlink_fstat0x leave one link alive signed pavel emelyanov xemul parallels.com,,
8626,563b1160967e65b6a9944a2ca242152c09811abe,avel Emelyanov <xemul@parallels.com>, 2012-09-26 06:22:52 +0400, , file support opened unlinked file non zero link count ghost still take image neither easily find name file sad make work linkat new name file using at_empty_path flag link directly opened could openat parent would better thus create link name explicit absolute path modifies dumping introduce one cmd line option soon signed pavel emelyanov xemul parallels.com,,
8627,aab7e72ff1834e6392fac70817a3ac52282f64d8,avel Emelyanov <xemul@parallels.com>, 2012-09-26 06:20:06 +0400, , rst file introduce file_remap abstraction linked remaps use similar technique ghost file lighter sake make reg_file_info remap file_remap whole host_file signed pavel emelyanov xemul parallels.com,,
8628,7cdfc8b3c578c56335ad02e05a868a8656f5f07d,avel Emelyanov <xemul@parallels.com>, 2012-09-26 06:16:51 +0400, , ghostf move remap_id ghost bit clear signed pavel emelyanov xemul parallels.com,,
8629,246d8336c617afc9fc4ce4f2dc62e2ad29ed93f6,avel Emelyanov <xemul@parallels.com>, 2012-09-26 06:15:43 +0400, , file add path len arg signed pavel emelyanov xemul parallels.com,,
8630,e1b02a48c19365a6508cc1d7de5beca3271dd33b,ndrey Vagin <avagin@openvz.org>, 2012-09-25 15:59:13 +0400, , restore block sigchld restoring namespaces restore namespaces requires execution external tool tar etc want know return code block default sigchld handler command suggest block sigchld restore namespace unblock sigchld default sigchld handler used catching target process process except current one started restoring namespaces currently forgot block sigchld executing bug caught reported stanislav kinsbursky skinsbursky parallels.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8631,c4148d79074abe4c7e25d1e26af401e037e31bc7,ndrey Vagin <avagin@openvz.org>, 2012-09-25 15:54:51 +0400, , restore exit someone restored forgot handle error path one place signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8632,f95ff79c6dc0c2581904c907a5aa04d8927926bd,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-25 15:33:12 +0400, , restorer add memory constraint asm statement seems otherwise older gcc compiler treat statement incomplete signed cyrill gorcunov gorcunov openvz.org reported huang qiang h.huangqiang huawei.com signed pavel emelyanov xemul parallels.com,,
8633,d81c9a4618db2f618bdb8e207b7f0fec631c7142,avel Emelyanov <xemul@parallels.com>, 2012-09-20 13:44:18 +0400, , criu version 0.2 release biggest acheivement since v0.1 initial support lxc container notable still great thing done implemented support tty added support packet socket bug fix note image generated v0.1 tool accepted v0.2 one signed pavel emelyanov xemul parallels.com,,
8634,1de8adbf71889cd7ebbf3470174c0b4fe5fb5b30,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-20 13:35:39 +0400, , tty verify active pair dump complete support yet detached terminal migration fail early proceed signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8635,a3c886de6218a2fa68a59b6d4fdbdcc0607c08a3,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-20 13:35:38 +0400, , tty mark living peer bitmap need verify live tty pair exist signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8636,dd783030e61da73919a2aa458ec064e03fd50e47,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-20 13:35:37 +0400, , tty rename trace paired ttys need one bitmap rename need helper another context signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8637,850d74c4c520ec6d48b3a43fc757aaaa15fc7643,avel Emelyanov <xemul@parallels.com>, 2012-09-19 20:32:30 +0400, , ipc fix uninitialized ptr xfree ing ipc_ns.o ipc_ns.c function dump_ipc_msgâ ipc_ns.c 240 error messageâ may used uninitialized function werror uninitialized ipc_ns.c 192 note messageâ declared cc1 warning treated error signed pavel emelyanov xemul parallels.com,,
8638,e929b4374236344f0583c1c21163b93331ea5361,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-09-19 20:09:59 +0400, , ipc message queue dump update new kernel api signed stanislav kinsbursky skinsbursky openvz.org tested cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8639,a0b497e03591314591c8e4127f97f6801eac62ac,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-19 17:04:27 +0400, , doc prepare 0.2 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8640,89ab41d245667dcb14d99673b5b986dd68e54169,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-19 16:18:00 +0400, , parasite make sure argument passed never overwrite args zone build time test enough better safe side double check argument size signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8641,d7d600c127fe66ce1192969ef07b60e199f4c0dd,ndrey Vagin <avagin@openvz.org>, 2012-09-19 16:17:11 +0400, , tcp save restore rcv_wscale rcv_wscale symetric parameter snd_wscale parameter set connection handshake without value remote window size interpreted correctly value packet shifted rcv_wscale patch break back compatibility rcv window restored bug rcv_wscale update new kernel interface patch tcp restore rcv_wscale repair mode signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8642,df5f44425e989808e8383430f7376dc6e200e9b0,ndrey Vagin <avagin@openvz.org>, 2012-09-19 15:02:25 +0400, , proc use bigger buffer one line mountinfo 256 byte used may enough example enough nfs point test system signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8643,e3eaf90e8e77b17e1b8288b757024a6e58c0b6fe,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-19 15:01:55 +0400, , parasite increase stack size 16k commit 97cfb707 extended scm_fdset structure thus need increase parasite stack size enough hold noticed simply poking argument area memory memory map args stack parasite look like min address  argument    stack 16k  max address signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8644,a3c6869ca1a0253adb9f6c22b66da7f99c44b3f4,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-17 20:13:20 +0400, , reg file need atomic user lock anyway signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8645,997b295d67d2d7c776f9c2c9dbd54a7f80530a2d,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-17 20:12:58 +0400, , file reg use global mutex serialize ghost file creation otherwise race file name link name ghost link name ghost open name unlink name open name enoent signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8646,08e559b3f2a6b10114ee05982dd179c131d4c09e,ndrey Vagin <avagin@openvz.org>, 2012-09-17 20:07:03 +0400, , tcp rename function unlocking tcp connection one function used restoring one used dumping function prefix rst cpt function effect main part name describes signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8647,3223165c32391911b3cbfb25a536f95c72bd0f58,ndrey Vagin <avagin@openvz.org>, 2012-09-17 20:06:47 +0400, , app test dump restore linux container network script.sh used locking unlocking network example lxc config lxc.console none lxc.utsname test lxc veth  br0 eth0 lxc.mount root test lxc etc fstab lxc.rootfs root test lxc root signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8648,5ec8a1c313bb798c4986deb969ce627ec569c01f,ndrey Vagin <avagin@openvz.org>, 2012-09-17 20:06:14 +0400, , restore unlock connection last moment restore must fail unlocking connection signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8649,772d6853d26a4ab9f17c8aea865d6b69d3eb93c8,ndrey Vagin <avagin@openvz.org>, 2012-09-17 20:06:06 +0400, , crtools collect inet socket crtools early moved prepare_shared root task several preparation action executed target namespace set e.g ghost file tcp socket subset init socket unlocked resume convient crtools image read one time want send via network two reason prepare_shared spitted two part one crtools one root task signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8650,3957a9a69a810b8c8570ecc0db8f6ce66d4af6af,ndrey Vagin <avagin@openvz.org>, 2012-09-17 20:05:55 +0400, , dump lock network dump unlock case error signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8651,fbea445df472e2d9ee221c850d1a036cbecd59ef,ndrey Vagin <avagin@openvz.org>, 2012-09-17 20:05:49 +0400, , dump lock connection iptables rule current netns another netns need lock separate connection external chanel locked signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8652,8e90ed8c4d08ef14d21ec4d5d027867d249309cc,ndrey Vagin <avagin@openvz.org>, 2012-09-17 20:05:39 +0400, , util add function running script signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8653,45fa18487d9a54941f9876fa0a2d4e11996f6d16,ndrey Vagin <avagin@openvz.org>, 2012-09-17 20:05:32 +0400, , tcp split list rst cpt part two type entry signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8654,4c2a2264581f4963488c545cf3abec2362523595,ndrey Vagin <avagin@openvz.org>, 2012-09-17 20:05:23 +0400, , crtools add ability execute external script script executed external action required contains required action script know current action exit first usecase lock unlock network signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8655,c27ff2baac506b84c08f3d4e93e79adb5b4affa6,ndrey Vagin <avagin@openvz.org>, 2012-09-17 20:02:57 +0400, , tcp unset tcp_repair last moment unlocking network tcp_repair droppet network unlocked network unlocked last moment moment restore must failed otherwise state tcp connection changed state one side image invalid use xremalloc instead mmap remmap signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8656,7e22e60f830ea365f8f0fd5578c10f575326ad72,ndrey Vagin <avagin@openvz.org>, 2012-09-17 20:02:39 +0400, , net add ability use tcp_repair_off restorer code use sys_setsockopt declare function header static inline signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8657,1da44415982f76b618cd76b8a684fb5802d0d426,ndrey Vagin <avagin@openvz.org>, 2012-09-17 18:23:46 +0400, , zdtm add stream test case tcp connection signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8658,06282f407c42476294c029fc9ecd3ac0090ca5da,ndrey Vagin <avagin@openvz.org>, 2012-09-17 18:23:35 +0400, , zdtm handle partial read write socket tcp signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8659,a2b215a19bde445fe8f5a11ab0ae421b555fac84,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-17 18:22:13 +0400, , pstree use max helper max_pid assignment shrink code bit signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8660,8fc6dbfadd56fb569673fb36f39321bd0961a6c1,avel Emelyanov <xemul@parallels.com>, 2012-09-14 22:09:22 +0400, , file formalize restore priority place select open receive avoid deadlock sort ascending order pid pair make idea formal introducing explicit function check call appropriate pipe.c master selection also simplified fit new ... api signed pavel emelyanov xemul parallels.com,,
8661,a0560c429831d2c7ee5441820aafec8b6f1d43f0,avel Emelyanov <xemul@parallels.com>, 2012-09-14 22:02:21 +0400, , pipe fix wrong pipe info check master selection currently observed list entry examined original one signed pavel emelyanov xemul parallels.com,,
8662,62cf23b93a9edac99b8c56068d8e8db84b6018cf,avel Emelyanov <xemul@parallels.com>, 2012-09-14 21:53:51 +0400, , file hide pslist selection logic file desc handler explicit switch file type files.c export intimate knowledge pty master slave use file desc  signed pavel emelyanov xemul parallels.com,,
8663,e0b39c5fd996068998736a0f337f128af6f72896,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-14 20:47:12 +0400, , zdtm make pty test non figure make work signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8664,1d3e1ae6df39d7e51b0bf72e10b1ac4fd1f6af38,avel Emelyanov <xemul@parallels.com>, 2012-09-14 18:26:37 +0400, , tty remove longer relevant todo comment signed pavel emelyanov xemul parallels.com,,
8665,cc87632f1665cdb26d913f2b76f0728b23a35d56,avel Emelyanov <xemul@parallels.com>, 2012-09-14 18:24:43 +0400, , tty handle tty collecting error signed pavel emelyanov xemul parallels.com,,
8666,990f80dd0fdc5312ff0ee1b7d8ec491d8a9744f4,avel Emelyanov <xemul@parallels.com>, 2012-09-14 18:12:59 +0400, , tty sanitize slavery ctl tty setup need two non trivial thing ttys interconnect slave master setup ctl tty restoring task done subsequently depending step collect ttys interconnect slave mark ctl tty task collect fake fds tty ctl task setup orphaned slave relax logic two way split marking ctl tty task creating fds one step end interconnect slave master orphaned slave two step one place fds collected signed pavel emelyanov xemul parallels.com,,
8667,ff875dc494358ef6c133c8c3a89405622ae2c6a5,avel Emelyanov <xemul@parallels.com>, 2012-09-14 17:58:46 +0400, , tty cleanup tty mutex preparation signed pavel emelyanov xemul parallels.com,,
8668,aa247d863171bf1457b030e134622df0f2b32f33,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-14 17:50:47 +0400, , zdtm enable pty test signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8669,4ae20428c0f26db874caf14cc0d4098f92bdb3d6,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-14 17:50:46 +0400, , tty restore orphan slavery peer case master peer associated slave peer two case master peer closed slave master peer slave one patch address first case open fake master hook slave close immediately second case addressed later signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8670,da762de63f517fa757903ce59c4827e8de6654fe,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-14 17:50:45 +0400, , tty rework tty entry verification tty entry might parameter assigned hanging closed master take account verify signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8671,0105e543a7df7ea492e21c239b31537e2de1c52c,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-14 17:50:44 +0400, , tty dump hanging terminal met hanging terminal escape lot work dump minimum information needed restore signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8672,07aa66828239e4983bcdd679e6f488918cee7842,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-14 17:50:42 +0400, , tty squash tty_get_sid tty_get_pgrp patch squash tty_get_sid tty_get_pgrp one helper allows detect dumping terminal hanging real use ability addressed next patch signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8673,978cecd629b38d2fc0b6aecea0e66f963eaae556,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-14 17:50:41 +0400, , tty make termios winsize optional params dangling slave peer might data associate master peer closed link hanging thus make parameter optional blow image data never used signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8674,52a2c9fd77a65f2a35d5e2b25c3e1893f7145d8e,ndrey Vagin <avagin@openvz.org>, 2012-09-14 15:14:11 +0400, , restorer unify log function add ability use macro restorer code future add ability show argument like printf signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8675,667953c00f22499d07a0bb58fd262797850759a1,avel Emelyanov <xemul@parallels.com>, 2012-09-14 14:51:40 +0400, , restorer memcpy restorer blob task restore instead mmap root task mremap later mremap original restorer done since case restorer vma would tied crtools binary turn make set exe file prctl fail ebusy note mremap original vmas list becomes non relevant ok. new hole appear inside munmap signed pavel emelyanov xemul parallels.com,,
8676,80d5fb285f84985d655232cfd7f3770b5f648de3,avel Emelyanov <xemul@parallels.com>, 2012-09-13 04:10:48 +0400, , restorer mmap restorer blob separately rest avoid exec bit restorer args make possible shared restorer eventually signed pavel emelyanov xemul parallels.com,,
8677,63ce82e7f61c7af1a2c1e6275925ffb6d14a10b4,avel Emelyanov <xemul@parallels.com>, 2012-09-13 03:01:48 +0400, , restore sanitize restorer code args layout strange thing task args size aligned thread args ptr get alignment lost fix make bufs page aligned signed pavel emelyanov xemul parallels.com,,
8678,5a469e1894862d5c83b31d373dc81429ae2769a2,avel Emelyanov <xemul@parallels.com>, 2012-09-13 02:56:14 +0400, , restorer lost tgt vmas lenght restorer memory blob hinting signed pavel emelyanov xemul parallels.com,,
8679,845f3ee973f919f296643513aa734c5ebf34da8d,avel Emelyanov <xemul@parallels.com>, 2012-09-13 00:34:37 +0400, , indirect opening state engine put state one place signed pavel emelyanov xemul parallels.com,,
8680,1ea03bf80cf9611505ddbb856e7e96c0d52bf322,avel Emelyanov <xemul@parallels.com>, 2012-09-13 00:21:14 +0400, , relax file master checking open post_open pid pid equal fle fle signed pavel emelyanov xemul parallels.com,,
8681,cc41192f106dea58f95bf86d8d917375055385fc,avel Emelyanov <xemul@parallels.com>, 2012-09-13 00:17:57 +0400, , standartize argument opening stage handler signed pavel emelyanov xemul parallels.com,,
8682,b0502e4fe8314102d10bb733a04a66b9bd9a657b,avel Emelyanov <xemul@parallels.com>, 2012-09-13 00:08:39 +0400, , split opening serving routine signed pavel emelyanov xemul parallels.com,,
8683,ae4796d025c6b6d58575e1357284a529e608b632,onstantin Khlebnikov <khlebnikov@openvz.org>, 2012-09-13 16:09:40 +0400, , zdtm new testcase unhashed proc entry testcase fork child chdir proc pid kill child test http show_bug.cgi 2315 signed konstantin khlebnikov khlebnikov openvz.org acked andrey wagin avagin gmail.com signed pavel emelyanov xemul parallels.com,,
8684,e628b63b17c657586e2a6ce489377bc6b3053f33,ndrey Vagin <avagin@openvz.org>, 2012-09-13 16:09:13 +0400, , zdtm close external tty redirect standard descriptor test init process log file signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8685,499e4486f5f55b35aaa5da62ae08bdb7c547cc22,ndrey Vagin <avagin@openvz.org>, 2012-09-13 16:08:39 +0400, , zdtm run test new session lost test executed new namespaces signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8686,0e4ec77612af3d16aee344b0d5847990772651f7,ndrey Vagin <avagin@openvz.org>, 2012-09-13 14:56:30 +0400, , zdtm check restore tcp connection test creates two process first process creates tcp server second one connects first process dumped restored test check tcp connection alive fix compilation signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8687,689317bf4e8996d708cf2f9c30154a0df3eda212,ndrey Vagin <avagin@openvz.org>, 2012-09-13 14:55:08 +0400, , zdtm add set function creating tcp connection signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8688,0910b72b3de2ad48f4517da3690577092762a0a2,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-13 14:45:14 +0400, , tty use is_service_fd appropriate signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8689,45cc85eea484d9c7d88a33ee9a6deb88c0a4752d,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-13 14:45:06 +0400, , speed service retrieval using get_service_fd file engine better make fast patch cache limit system provides instead calling getrlimit every time patch introduces is_service_fd helper used instead get_service_fd make sense signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8690,b354a09cd775547494dd216908d53c9c6311b691,avel Emelyanov <xemul@parallels.com>, 2012-09-12 20:11:33 +0400, , rst brush shared resource collection signed pavel emelyanov xemul parallels.com,,
8691,ccce9fed2a439448d6b773cd934161c661b5ed35,avel Emelyanov <xemul@parallels.com>, 2012-09-12 20:09:05 +0400, , tty brush ctl tty preparation signed pavel emelyanov xemul parallels.com,,
8692,1838bee1be4b864c0c0e307f74a3b611d14cc371,avel Emelyanov <xemul@parallels.com>, 2012-09-12 20:07:34 +0400, , tty remove unused constant header signed pavel emelyanov xemul parallels.com,,
8693,682b9d672c751fb2471443a038d26592a13eb42f,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-12 20:03:01 +0400, , app test check screen application add test screen signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8694,889572990607d61b05f46dc8ffb0200ad8826ca5,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-12 20:02:53 +0400, , zdtm add pty04 test signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8695,1603f88836561941553326cbbdc41dd3bbc07957,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-12 20:02:46 +0400, , zdtm add pty03 test non opened control terminal set control terminal close file descriptor dump restore open control terminal dev tty check connected master end signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8696,bc962a28d26a5221b348411212633ee108721d0e,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-12 20:02:39 +0400, , zdtm add pty02 test test tricky open master task dup task close task  thus need setup sid master terminal somehow child usually fails currnt tty restore implementation signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8697,1a41fcfc212abaf98fb42d1915449ac396c4e4d0,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-12 20:02:32 +0400, , zdtm add pty01 test two slave pty signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8698,20d6762d9352b8b2840244a7ba6744e3cc51951b,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-12 20:00:58 +0400, , tty add restoration controlling terminal idea behind pretty simple find controlling terminal present call ioctl appropriate dev done bit unusuall manner find controling terminal present create additional fdinfoentry object taken existing master peer file engine stack new fdinfoentry fd_info_head head list thus least two entry list one real fdinfo associated master peer one new generated fdfinfo entry depends pid one become file master finally use post_open_fd hook tty code allows open controlling terminal yield proper ioctl  restore control terminal via service still need speedup service retrieval  use prepare_ctl_tty helper generate control terminal fdinfo entry  use post_open_fd signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8699,d5dfab7745eca92381482e9c7d449bdcbd6cd9b7,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-12 20:00:56 +0400, , check add check_tty signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8700,a365befaea8292723fe8cb343d2c7267ccbf7670,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-12 20:00:55 +0400, , tty add show method signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8701,89a7a45d3733e9dc5461e3047e83c38590a050ee,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-12 20:00:54 +0400, , tty add checkpoint restore unix terminal usually ptys represent pair link master peer slave peer master peer must opened slave internally kernel creates master peer also generates slave interface form dev named pty index master slave connection unambiguously identified index still one master carry multiple slave example user open one master via dev ptmx appropriate dev sequence result following master slave slave slave master index different file descriptor still inside kernel pty parameter slave thus one slave parameter restored need carry parameter every slave peer found yet addressed problem moment restore master peer might already closed reason resolve problem need open fake master peer proper index hook slave close master peer need figure deal ttys data buffer yet flushed moment data simply lost need restore control terminal need fetch tty flag exclusive packet mode done without kernel patching avagin idea contol terminal restore overall code redesign simplification   drop redundant pid dump_chrdev make sure optional fown passed regular ptys add comment zeroifying termios get rid redundant empty line files.c avagin complete rework tty image format two file tty.img tty info.img idea behind reduce data stored xemul packet mode set true image properly fetched kernel verify image data retrieval signed cyrill gorcunov gorcunov openvz.org andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8702,5340807b877916cffa99fc53749c84d629fbe741,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-12 20:00:52 +0400, , add separate list slave tty fds restore restoring ttys need restore procedure master peer yielded earlier slave peer due ttys specific commit introduce tty_slaves list allow order tty file restore procesure need fetch list used depending tty type patch extend select_ps_list parameter xemul make sure epoll list still last signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8703,e3afdd0f29086ee1f1b81e3bd7bf79cd1221b468,ndrey Vagin <avagin@openvz.org>, 2012-09-12 18:34:19 +0400, , tmpfs replace short tar option long analog signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8704,93de669270842fc8b2428cacfe7c6e4a17097cf1,avel Emelyanov <xemul@parallels.com>, 2012-09-12 17:55:15 +0400, , proc report error case fdinfo epoll empty normal situation eventpoll may fds attached thus resulting empty fdinfo file report case signed pavel emelyanov xemul parallels.com,,
8705,278d83af200b215405b89e3daf58e575898cdbb2,ndrey Vagin <avagin@openvz.org>, 2012-09-12 17:50:49 +0400, , eventpoll popullate eventfd post_open otherwise transport may added eventfd ... signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8706,403dcb9de599016bb96a25caa714724b0626e89c,ndrey Vagin <avagin@openvz.org>, 2012-09-12 17:50:22 +0400, , file place state post_create state recv used restoring epollfd currently transport may added epollfd epollfd populated descriptor already received signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8707,ca567e76c320b30461feffd2333ede73b699c4d7,ndrey Vagin <avagin@openvz.org>, 2012-09-12 17:49:36 +0400, , unix add peer list yet tried fix commit author andrey vagin avagin openvz.org date wed sep 2012 0400 unix add socket second time made mistake peer would added list signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8708,3c51808f1ad38183f3ca0c3c92fde606d18dd36a,ndrey Vagin <avagin@openvz.org>, 2012-09-12 15:16:41 +0400, , zdtm make several connection file dgram socket checked one connection patch test reproduces bug error unix.c 395 bug unix.c 395 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8709,bc2ac71c1abddbe76893c0dc1f0421311786070c,ndrey Vagin <avagin@openvz.org>, 2012-09-12 15:16:39 +0400, , unix add socket second time socket added list two time two socket connected patch fix problem error unix.c 395 bug unix.c 395 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8710,0c72ab18e09fa1ea8093ff82258e71ba38c21995,ndrey Vagin <avagin@openvz.org>, 2012-09-12 15:16:21 +0400, , unix add information message message external socket printed action add message peer added list socket signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8711,1d6f3cce98b20834e2dfb9fbf2e431ccad25ade8,onstantin Khlebnikov <khlebnikov@openvz.org>, 2012-09-12 14:38:01 +0400, , zdtm start state test global stop make cleanout stop .pid .out .test .state conntracks statefile outfile conntracks.out start make error signed konstantin khlebnikov khlebnikov openvz.org acked andrey vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8712,1ca043ea1a9ca91a6c122ccc7e2697af2e5ff826,onstantin Khlebnikov <khlebnikov@openvz.org>, 2012-09-12 14:37:51 +0400, , zdtm fix bashisms file posix compatible work dash signed konstantin khlebnikov khlebnikov openvz.org acked andrey vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8713,80a8cb80f2538beb6d34a5522a54f26f30b192bc,onstantin Khlebnikov <khlebnikov@openvz.org>, 2012-09-12 14:37:36 +0400, , zdtm.sh fix bashisms fix obvious bashisms make script portable signed konstantin khlebnikov khlebnikov openvz.org acked andrey vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8714,fd735d8be3b105764a711f02adfc20dd8c49fbdb,onstantin Khlebnikov <khlebnikov@openvz.org>, 2012-09-12 14:36:41 +0400, , zdtm fix struct tpacket_req3 redeclaration linux since v3.2 wall werror lib packet_sock.c lib libzdtmtst.a packet_sock packet_sock.c error redefinition struct tpacket_req3â file included packet_sock.c usr include linux if_packet.h 245 note originally defined signed konstantin khlebnikov khlebnikov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8715,cfa21504909d9f144e8104a67511fbb0aec668f1,onstantin Khlebnikov <khlebnikov@openvz.org>, 2012-09-12 14:36:30 +0400, , zdtm fix comilation non constant page_size system page_size declared sysconf _sc_pagesize sys user.h non constant expression used type declaration wall werror ns.o ns.c ns.c 124 error variably modified stackâ file scope signed konstantin khlebnikov khlebnikov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8716,dccb15cc0f2e556f2a72923e61cb8468ba08a500,onstantin Khlebnikov <khlebnikov@openvz.org>, 2012-09-12 14:36:21 +0400, , zdtm fix compilation test_msg wall werror msg.o msg.c msg.c function test_msgâ msg.c error variable lenâ set used werror unused set variable signed konstantin khlebnikov khlebnikov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8717,720cab0bd8ac0be827855e39246a3d278678d254,avel Emelyanov <xemul@parallels.com>, 2012-09-11 22:27:21 +0400, , sanitize open_fd send_fd_to_self helper signed pavel emelyanov xemul parallels.com,,
8718,8cc9477d4608b32c4133aa1064c98901c344ba39,avel Emelyanov <xemul@parallels.com>, 2012-09-11 22:20:21 +0400, , rename tmp ret open_fd signed pavel emelyanov xemul parallels.com,,
8719,97dba0eb8f8146411637100d15e1c096836b6121,avel Emelyanov <xemul@parallels.com>, 2012-09-11 22:07:21 +0400, , fast path post open check post_open callback presense check signed pavel emelyanov xemul parallels.com,,
8720,84d1ffb986d0ca612c7c76e088c427318321bfba,avel Emelyanov <xemul@parallels.com>, 2012-09-11 21:47:14 +0400, , move rst list iteration helper code cleaner signed pavel emelyanov xemul parallels.com,,
8721,455aa8cd3723e2448b2be465481455cb056e5f14,avel Emelyanov <xemul@parallels.com>, 2012-09-11 21:33:19 +0400, , move list selection separate routine cleaner pov code signed pavel emelyanov xemul parallels.com,,
8722,ccc6b7285fcb81dd04e3600997dcdd8eb87b4b2a,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-11 18:56:24 +0400, , parasite initialize otherwise get parasite.c function parasite.c 383 error fdâ may used uninitialized function werror uninitialized cc1 warning treated error signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8723,30b08baa5225c42f8c8a8d710ef49d6e805d3ddf,ndrey Vagin <avagin@openvz.org>, 2012-09-11 18:00:16 +0400, , zdtm open one unlinked file two time test check restoring file descriptor one file struct better check file struct linked one unlinked file signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8724,b11eeea381ca9211d001bab218a7ad11c61d4b58,ndrey Vagin <avagin@openvz.org>, 2012-09-11 17:59:59 +0400, , restore auto unlink ghost file ghost file used restoring descriptor unlinked file created opened deleted currently ghost file collected root task removed crtools everybody restored scheme work ghost_file_list shared plus task may live different mount namespace broken following commit bd4e5d2f restore prepare shared object initializing namespaces move need wait process opened ghost file add one global barrier move restore code bellow existent barrier better sollution gost file deleted last user use type atomic_t fix commit message signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8725,09d179602fe35e8c0f9885d531076ee2722c74f3,ndrey Vagin <avagin@openvz.org>, 2012-09-11 17:55:23 +0400, , atomic add code copied linux kernel signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8726,834d996b912aeb8401a130c249717aff60aede0d,ndrey Vagin <avagin@openvz.org>, 2012-09-11 17:55:15 +0400, , crtools add separate type atomic variable struct prevent using usual arithmetic operation signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8727,c627c03714c6fb00268681873a5c712c2e37d2f9,ndrey Vagin <avagin@openvz.org>, 2012-09-10 12:07:00 +0400, , taking account gurad page find space restorer vma actually gurad page part stack vma want remap restorer vma crtools restore find place restorer vma intersect vmas guard page part stack vma take account place restorer vma case bug would lead situation expand stack manually every new cycle add one page bottom stack strace mmap 0x5f4d0e0cc000 4096 prot_read prot_write map_private map_fixed map_anonymous map_growsdown 0x5f4d0e0cc000 proc pid map 5f4d0e0cd000 5f4d0e0cd000 00000000  signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8728,8a7dc1da8fe84286faefaeb7ddfe8086df272837,ndrey Vagin <avagin@openvz.org>, 2012-09-07 19:17:18 +0400, , dump dump zombie another pid namespace problem get virtual pid zombie code get two list child current target pidns remove alive task second list dump remaining zombie procfs target pidns needed dumping zombie crtools get parasite code fix comment get proc root task signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8729,f3c66956b51cb599cc1055fd270312447a0e44c1,ndrey Vagin <avagin@openvz.org>, 2012-09-07 19:16:36 +0400, , dump get file descriptor procfs parasite proc used dumping zombie pidns signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8730,9508e39e9bc0d7e445a998001eeaf1cec51f9d47,ndrey Vagin <avagin@openvz.org>, 2012-09-07 19:16:35 +0400, , crtools use pit_t pid bit mess used unsigned int instead pid_t negative value used uninitialized pid variable signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8731,7a65c701583b06daf0ae9e46cda3af1b0fc18c7e,ndrey Vagin <avagin@openvz.org>, 2012-09-07 19:16:34 +0400, , util add ability change file descriptor procfs pidns dumped crtools procfs pidns getting information zombie use close_proc instead restore_proc_fd current proc opened required signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8732,5c171b1385b80a5b54fe90e7f417cfd0a355a41c,ndrey Vagin <avagin@openvz.org>, 2012-09-07 19:16:33 +0400, , parasite get file descriptor procfs target pidns used dumping zombie add fast path proc belongs target pipns usually signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8733,760994c60b91c3744d69c6fd13b24b00e0f329af,ndrey Vagin <avagin@openvz.org>, 2012-09-07 19:16:31 +0400, , dump get child pid instead pstree_item pstree_item contains virtual real pid want get child pid signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8734,f6d373cc8c76a31a0567d3f05f438b290d9fa147,ndrey Vagin <avagin@openvz.org>, 2012-09-07 18:52:59 +0400, , restore prevent killing nonpositive pid like surprise signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8735,0ae2bad0c6fa8723ad2896e206cabb8c723df174,ndrey Vagin <avagin@openvz.org>, 2012-09-07 18:21:04 +0400, , mark vma stack value proc pid map contains date information stack vma kernel mark vma stack thread_struct usersp usersp updated process call syscall problem occured try dump restore process loop restorer resume process restorer vma marked stack thread stack marked stack vma mapped map_growsdown signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8736,0e0da2de9e6b4d8eaf138807d7041c370732fd0b,ndrey Vagin <avagin@openvz.org>, 2012-09-07 18:19:17 +0400, , dump use virtual pid name zombie core file per task image contains virtual pid signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8737,d1b96437c9503cbd5a9d235b2f2baf06a6af352f,ndrey Vagin <avagin@openvz.org>, 2012-09-07 17:48:55 +0400, , dump avoid extra jump dump_one_task look better next patch add check memory allocation signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8738,e25d115212d452e3a532dc8d39a89154af0afa5a,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-05 20:00:06 +0400, , file use switch collect_fd easier transition tty need type thus using switch statement make code bit easier read signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8739,1fd9913ffba1676fd1f13fd10eacac844db005a6,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-05 19:58:30 +0400, , file add comment structure use file handling signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8740,c9f711259597ba112eb04d3b7bdc3650b65850e9,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-05 19:57:52 +0400, , type add assign_member helper signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8741,45375d572115df24ce29a7178b4e835cdc984b8f,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-05 19:52:55 +0400, , restore rename task item restored current analogue current macro kernel name somehow confusing func change signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8742,d25520da35072fdfebf4d89c2d2313397133b7d8,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-05 17:16:38 +0400, , log restorer make write_ log helper honor logging level make restorer log.c similar general log code use current_logfd variable name add ability filter message log level requested example program get restorer without log level specified restore silently printing even single message error happened course signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8743,97cfb7074713484947fb54650aca5b1941b6d995,ndrey Vagin <avagin@openvz.org>, 2012-09-05 16:41:14 +0400, , fown get pid uid parasite task may another pidns crtools get pid pidns signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8744,05466cc38ad8e29cfc99f30ff32cd3e743abdfcc,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-03 14:44:09 +0400, , restorer pas current log level argument need honor current log level restorer signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8745,3a00f4cdc855f4113a5c67685f63b65c215c2e67,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-03 14:44:01 +0400, , log add helper need fetch log level restorer code signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8746,ff7d7455e2be415170cce09b39beb101b87e820d,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-03 14:43:51 +0400, , introduce log levels.h teach restorer code log level need separate file definition signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8747,3234308d62d647bafdf876b59117b3a753868d92,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-03 13:26:14 +0400, , make fix build bug introduced 726a1180 726a1180 made protobuf library depend .ch good thing bit incomplete need rule generate header missed signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8748,582df5130b796d5a2f9d56f06a24065c12647aa4,ndrey Vagin <avagin@openvz.org>, 2012-09-02 17:24:22 +0400, , unix allocate unix_sk_info shared pool unix_sk_info contains futex may used process need collect unix socket shared mem region reported kir kolyshkin kir openvz.org signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8749,85b5a9243dc0c4664a5af3bccc1c941b5e77846d,ndrey Vagin <avagin@openvz.org>, 2012-09-02 17:23:50 +0400, , protobuf add ability collect object shared memory shcollect_image signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8750,67b6748f6855d7dbc722a84938fb8efef73ed266,ndrey Vagin <avagin@openvz.org>, 2012-09-02 17:23:27 +0400, , util add ability release last piece shared pool shfree shfree_last signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8751,ae70bc0ad69b82ab7783045306bcf4f5fdcd28e0,ndrey Vagin <avagin@openvz.org>, 2012-09-02 01:07:32 +0400, , net add ability set name outside link veth device restoring container crtools create veth pair inside pushed one end namespaces crtools live outside facilitate subsequent management otter end veth pair option added one specifu name respective end would visible e.g veth pair eth0 veth101.0 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8752,bf94ff3a26794c2ca61472e52bdb8f327e464667,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-02 01:04:14 +0400, , check forget init mountns otherwise fstatat fails crtools check error unix.c 283 stat socket 12547 var run sdp bad file descriptor reported muralidhar rajeev intel.com signed cyrill gorcunov gorcunov openvz.org andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8753,d8af1d72fa1990e7a6243aee1c7d13fc81b86997,ndrey Vagin <avagin@openvz.org>, 2012-09-02 01:03:10 +0400, , zdtm use dprintf thread safe pthread00 hang dprintf used work well fprintf used one mention bug http sourceware.org bugzilla show_bug.cgi 12847 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8754,9ec01ff3077aab81308811866fcc8739cf8433ea,ndrey Vagin <avagin@openvz.org>, 2012-09-02 01:02:30 +0400, , log create log file current directory set directory log image file crtools set current directory creates file work decide change mount name space suggest open log dir create file help openat signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8755,855c20ac1c48bea878a59b8722315d323c20344b,ndrey Vagin <avagin@openvz.org>, 2012-09-02 01:01:40 +0400, , zdtm used log pid default added option found bad idea currently crtools print pid message log pid help error restorer code signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8756,234b5883b917bb4422794eef98f6314c427a9cf7,ndrey Vagin <avagin@openvz.org>, 2012-09-02 01:00:26 +0400, , zdtm show error test failed signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8757,292d0adfdd2fce88105a10be99a56e3e685fe697,ndrey Vagin <avagin@openvz.org>, 2012-09-02 01:00:07 +0400, , zdtm add forgotten test test passed already add regular list signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8758,726a1180aac08315c76159baa4e43e2c7c31733e,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-02 00:59:25 +0400, , make make protobuf target depend .ch general source code depends header generated protobuf library building library already built .ch file removed might hit problem dep file generated thus add explicit rule pointing library depends generated .ch file signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8759,40688d19455cded7a76024e49495b0b0f148299b,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-02 00:59:05 +0400, , make use proto_ prefix protobuf target easier handle thing know name makefiles never intersected signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8760,d88eebc9e061b03313ab82d3eabec6bc103b7e1c,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-02 00:58:37 +0400, , make move common definition makefile.inc eliminate code duplication signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8761,de78c6db5545241dca66e099c09be8bbe141cbde,yrill Gorcunov <gorcunov@openvz.org>, 2012-09-02 00:58:02 +0400, , make forget clean protobuf generated file rebuild signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8762,c5f6a082b96a3eb5de24356e0a0e286113add7cc,ndrey Vagin <avagin@openvz.org>, 2012-08-28 23:19:45 +0400, , zdtm use current stack preccesses created clone signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8763,d34b9004a725446fadcf36e4e97aedf0fa460a1f,ndrey Vagin <avagin@openvz.org>, 2012-08-28 23:19:28 +0400, , restore use currect stack new process need new stack already one used need step bit executing glibc clone lose page child stack remove defined constant stack_size signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8764,d2fab85055f81f810c95241f0ed49863b0f1c31b,yrill Gorcunov <gorcunov@openvz.org>, 2012-08-27 23:24:06 +0400, , file rename variable collect_fd variable short named similar make hard distinguish thus rename list entry new_le make easy recognize also add brace around signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8765,874fce48ec00e8020efd6330f238a34ea74b4b9f,yrill Gorcunov <gorcunov@openvz.org>, 2012-08-27 23:22:56 +0400, , net use bug instead bug_on signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8766,f473f4f24d6d271e51bc51eb4f9f278e716fc59d,yrill Gorcunov <gorcunov@openvz.org>, 2012-08-27 23:22:41 +0400, , mount use bug instead bug_on signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8767,b3a050e1f139d4c94260265604ac8ace68be860d,yrill Gorcunov <gorcunov@openvz.org>, 2012-08-27 23:22:25 +0400, , file use bug instead bug_on signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8768,b6b9bb0cd2cf1cd3313b40495bd662367364b017,yrill Gorcunov <gorcunov@openvz.org>, 2012-08-27 23:22:07 +0400, , file drop unused signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8769,4ececa09badd84230758e93a1a5415fe37b52a12,yrill Gorcunov <gorcunov@openvz.org>, 2012-08-27 23:21:44 +0400, , file drop unused self_exe_fd declaration signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8770,458cb41f578e6e901b4199ea59422313616ddf60,ndrey Vagin <avagin@openvz.org>, 2012-08-27 16:55:00 +0400, , restore disable repair mode post_open disabling repair mode drop so_reuseaddr set so_reuseaddr disabling repair mode small race window exists case signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8771,c00038042da08208b8616ce697f29982a7a42004,avel Emelyanov <xemul@parallels.com>, 2012-08-21 20:28:46 +0400, , scm fix flag drain one chunk stupid misprint signed pavel emelyanov xemul parallels.com,,
8772,f83ad9c46d31d21c6563ef7a56439d403db1e544,avel Emelyanov <xemul@parallels.com>, 2012-08-21 20:28:26 +0400, , dump log flag dumping fds debugging signed pavel emelyanov xemul parallels.com,,
8773,ed397e3a33cbdfd7f1a25a6081d95e75f3800c5b,avel Emelyanov <xemul@parallels.com>, 2012-08-21 19:59:07 +0400, , fds optimize fds draning mem cpu dumplicate array sending parasite allocate necessary space dump local fds flag signed pavel emelyanov xemul parallels.com,,
8774,ab806ebc0374b355a56e88675b254b8bd072868c,avel Emelyanov <xemul@parallels.com>, 2012-08-21 19:40:10 +0400, , scm check cmsg truncated receiving fds otherwise get stuck waiting data vain signed pavel emelyanov xemul parallels.com,,
8775,5e95df84f9285cb8a9913a1405c5686f87c629df,avel Emelyanov <xemul@parallels.com>, 2012-08-21 17:39:49 +0400, , parasite report negative value value eax positive error caller expect negative report error signed pavel emelyanov xemul parallels.com,,
8776,dffe544fe8eb9a32fbae73b02e76a6518214c842,avel Emelyanov <xemul@parallels.com>, 2012-08-21 16:47:32 +0400, , show show netdevice index signed pavel emelyanov xemul parallels.com,,
8777,3158389d2d4e9788137eb8f3f7a4c54370c05bf3,avel Emelyanov <xemul@parallels.com>, 2012-08-21 16:37:27 +0400, , show show unix inodes peer hex currently peer wrong paired inode easily signed pavel emelyanov xemul parallels.com,,
8778,4dd8d1a98f7d44f714a53d8cc9760606ea58e34e,avel Emelyanov <xemul@parallels.com>, 2012-08-21 16:30:37 +0400, , show add pretty output fdinfo shown flag shown signed pavel emelyanov xemul parallels.com,,
8779,6c9396f9bdc7248005c849aeab9796fd559b241c,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-08-21 16:27:14 +0400, , protobuf add generic support byte field signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8780,768d88f228cbcf4f350dbad7dea07fd32119bf60,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-08-21 16:27:07 +0400, , protobuf use pretty output unix socket new custom specificator output string unprintable character replaced dot signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8781,eb63547a9bc042398f64149a4c756b4cd7a5a42b,ndrey Vagin <avagin@openvz.org>, 2012-08-21 15:33:01 +0400, , zdtm.sh logfd closed crtools already detached try check extra descriptor time move save_fds loop signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8782,fab874bf2fab1865050f0ed59b8eede2bc70d919,ndrey Vagin <avagin@openvz.org>, 2012-08-21 15:32:45 +0400, , zdtm check external socket signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8783,410345a9d1dee52130a030fa22ce2669bbb63fd5,ndrey Vagin <avagin@openvz.org>, 2012-08-21 15:31:59 +0400, , zdtm add ability create external task used checking tcp connection external unix socket etc signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8784,c238e99b297264ee7b5f6ab948013e4b22274509,ndrey Vagin <avagin@openvz.org>, 2012-08-21 15:31:23 +0400, , zdtm rework logging delete internal buffer data written immediately log file add timestamp pid message process write log message one file signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8785,3dd03b6e27ac6e4ff507b6a77855604e8e1cd800,avel Emelyanov <xemul@parallels.com>, 2012-08-20 18:16:33 +0400, , inet remove is_bound quite simple better open code one signed pavel emelyanov xemul parallels.com,,
8786,6fd87cd98bad5e5ebf5163962acae195d141c2c3,avel Emelyanov <xemul@parallels.com>, 2012-08-20 18:14:02 +0400, , inet sanitize mass dereference inet restore save stack signed pavel emelyanov xemul parallels.com,,
8787,a8e056bfc8df4549fcf0130a607bfb961ae2739c,avel Emelyanov <xemul@parallels.com>, 2012-08-20 18:11:35 +0400, , inet factor sockaddr preparation signed pavel emelyanov xemul parallels.com,,
8788,7cb674109b894a2f8a561032451953a95bfc5923,avel Emelyanov <xemul@parallels.com>, 2012-08-20 17:51:33 +0400, , unix remove conn job previous rework 513dde00 longer needed signed pavel emelyanov xemul parallels.com,,
8789,351b23bb1acfa8e60b807df5236009e802ea911f,ndrey Vagin <avagin@openvz.org>, 2012-08-20 17:50:23 +0400, , unix fix indent signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8790,513dde00d27788377afc07e0e32cdde5bd2d4aaf,ndrey Vagin <avagin@openvz.org>, 2012-08-20 17:50:16 +0400, , unix connect unix socket post_open move logic post_open fix indent patch easy reviewing fixed next patch signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8791,a74605a78dcbeede52cc3ce6717443d06d88dffe,ndrey Vagin <avagin@openvz.org>, 2012-08-20 17:50:08 +0400, , inet restore option reuseaddr socket created so_reuseaddr needed restoring e.g listen socket created connected socket binded one port so_reuseaddr restored socket port created code creates structure port one type socket account number socket restored yet socket hook post_open wait socket defined port would created restore so_reuseaddr struct port contains type udp tcp etc port number contain family addr extra load logic bring significant profit fix according comment pavel signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8792,61490ba9855d509dcd81827a1beddc40ffef2630,ndrey Vagin <avagin@openvz.org>, 2012-08-20 17:50:01 +0400, , file add one operation post_create used restoring inet socket inet socket created option reuseaddr restore logic requires origin value restored socket restored signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8793,b719b93daa0339f363359917d1fcacd06380e0c5,avel Emelyanov <xemul@parallels.com>, 2012-08-16 18:56:06 +0400, , zdtm configure ring packet socket test least look image manually check ring dumped later write auto test signed pavel emelyanov xemul parallels.com,,
8794,2660b810d97bd162fbaf22e76a1193729d66142c,avel Emelyanov <xemul@parallels.com>, 2012-08-16 18:54:44 +0400, , packet ring support way currently check ring got restored implement mapping packet socket tcpdump app test signed pavel emelyanov xemul parallels.com,,
8795,398bec28a931e3fe854df0248ee7b424fabe5176,avel Emelyanov <xemul@parallels.com>, 2012-08-16 17:33:23 +0400, , zdtm test packet fanout signed pavel emelyanov xemul parallels.com,,
8796,4ee3345beb7dcd6dea23c1585f8497c729d3818d,avel Emelyanov <xemul@parallels.com>, 2012-08-16 17:31:08 +0400, , packet support fanout one may present may thus optional image binding use report field absense parsed stream via has_xxx field google doc stated message parsed doe contain optional element corresponding field parsed object set default value field thus also declare default value zero valid fanout configuration signed pavel emelyanov xemul parallels.com,,
8797,12b826dce9446b1d9c57c08a96547b6b3049ecf2,avel Emelyanov <xemul@parallels.com>, 2012-08-16 17:30:27 +0400, , packet update diag header fanout ring signed pavel emelyanov xemul parallels.com,,
8798,277f0f2cc54d440f9a39c8bb72275bc9c58bfa60,avel Emelyanov <xemul@parallels.com>, 2012-08-17 18:38:37 +0400, , parasite remove unneeded header parasite.c signed pavel emelyanov xemul parallels.com,,
8799,318c45d4c378e5fbc68a13df666d2b53081c7c88,yrill Gorcunov <gorcunov@openvz.org>, 2012-08-20 15:14:57 +0400, , inotify add log_prefix signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8800,deea62cd3cc2f809b623071fce55976af9c0737a,yrill Gorcunov <gorcunov@openvz.org>, 2012-08-20 15:14:49 +0400, , epoll add log_prefix signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8801,f5fcea42011f7e4b32f652ff109105d978706b8a,yrill Gorcunov <gorcunov@openvz.org>, 2012-08-20 15:14:43 +0400, , eventfd add log_prefix signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8802,2d42c544aee81a1232a843d68f73d8a7d16912ed,ndrey Vagin <avagin@openvz.org>, 2012-08-20 15:13:19 +0400, , dump save vdso page vdso page accessed dump present save dump image vdso area restored vma_anon actual vdso present vdso page accessed zero page would mapped reason save vdso page image make code clear signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8803,5a0038a9eb92314a4365df4d90fdd68eed0ff5c6,ndrey Vagin <avagin@openvz.org>, 2012-08-20 14:52:00 +0400, , unix fix connection external socket need wait external socket exist signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8804,98759c76bb72cdd1fc26b0a0f21014b9dda4301c,avel Emelyanov <xemul@parallels.com>, 2012-08-17 16:51:25 +0400, , unix poll wait unix peer bound long time ago conn job implemented bad manner tried connect peer succeeds sleeping middle time stop switch proper futex based waiting bound event signed pavel emelyanov xemul parallels.com,,
8805,c2bb8404fb3e0a54542521eeb1f24fbfeb2a1217,avel Emelyanov <xemul@parallels.com>, 2012-08-17 16:10:29 +0400, , packet fix collection logging signed pavel emelyanov xemul parallels.com,,
8806,19672e9cd14f1e1757c6a309ff2e7b01d410231d,yrill Gorcunov <gorcunov@openvz.org>, 2012-08-17 15:43:22 +0400, , file rename argument sock unclear two different name argument moreover tsk definitely misnamed feature signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8807,969ca6d9bf20e8c2940e28af9d2e66a8c0e20db7,avel Emelyanov <xemul@parallels.com>, 2012-08-17 00:20:58 +0400, , shmem get rid static array dumped shmem area used single process need keeping strange way plus turn array hash table better search signed pavel emelyanov xemul parallels.com,,
8808,9554b482c25ee414da335d51ae0c67062b828184,avel Emelyanov <xemul@parallels.com>, 2012-08-16 20:41:34 +0400, , util introduce shmalloc helper one allocates memory shared map_shared subsequent child used resote later required inet socket port binding signed pavel emelyanov xemul parallels.com,,
8809,69acf64f578fe4c7d718427e2bd5dfe75a18e1fe,avel Emelyanov <xemul@parallels.com>, 2012-08-15 21:04:49 +0400, , packet add support mclists implementation rather straightforward one thing note non single membership type supported done unaware software note show routine tuned support showing byte signed pavel emelyanov xemul parallels.com,,
8810,712979a4750c9ea57fb73e42c807a52c9774696f,avel Emelyanov <xemul@parallels.com>, 2012-08-15 20:53:35 +0400, , pb_show show unknown field boolean broken 92b6d86c signed pavel emelyanov xemul parallels.com,,
8811,7e3463a855eed842d6fe82f5aab15a063ed464d0,avel Emelyanov <xemul@parallels.com>, 2012-08-15 19:41:58 +0400, , packet add dump restore test sorry easy way check work signed pavel emelyanov xemul parallels.com,,
8812,fb5a5671c8cdd90cfb0428584e75324e7f829fe0,avel Emelyanov <xemul@parallels.com>, 2012-08-15 19:16:12 +0400, , sock strict socket family check looking collected socket hash socket inode family search inode well yes family match since socket one sockfs kernel let make sure _we_ thing right checking family well signed pavel emelyanov xemul parallels.com,,
8813,da2ebabf8671155d84f47b3404e3466a71a29543,ndrey Vagin <avagin@openvz.org>, 2012-08-15 17:50:19 +0400, , zdtm.sh check util containes patch signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8814,fb57cd126ed07497b02eadcf1692b7f46e152084,avel Emelyanov <xemul@parallels.com>, 2012-08-15 17:45:40 +0400, , proto add comment describing need two unix inet socket signed pavel emelyanov xemul parallels.com,,
8815,4ff60cd870c8ad7c8afd2afddb18120de6fdcbbe,avel Emelyanov <xemul@parallels.com>, 2012-08-15 17:39:21 +0400, , packet switch use packet diag module net next already doe provide currently need implementation like inet unix socket signed pavel emelyanov xemul parallels.com,,
8816,b50861327e40c4c8a304788c8f7c7b9c790ba244,ndrey Vagin <avagin@openvz.org>, 2012-08-15 15:06:49 +0400, , zdtm compile test static zdtm.sh copy required library new root signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8817,29f6d62a8af78a3cf7bcad758daffe584e851f8b,avel Emelyanov <xemul@parallels.com>, 2012-08-14 14:52:21 +0400, , init fsize make compiler happy protobuf.c function pb_show_msgâ protobuf.c 384 error fsizeâ may used uninitialized function werror uninitialized protobuf.c 247 note fsizeâ declared warning may uninitialized false bug never returning function signed pavel emelyanov xemul parallels.com,,
8818,96b62808ff8949b28ac1bf593f5bcbc8e97110ff,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-08-14 14:50:48 +0400, , protobuf use pretty output inet socket  address specificator left new custom specificators output socket address signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8819,694576723cd4bc33d3154da508bacd15fae63285,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-08-14 14:49:40 +0400, , protobuf use pretty output pstree signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8820,3904b402bb00341bc05abe04f176ee374cebbbd1,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-08-14 14:49:21 +0400, , protobuf pretty engine  parser updated properly parse string like protobuf generic show function accept string pretty specificators string look like example  number colon specifies field number number proto file specifies output format pretty specificator specified field used output instead generic hexidecimal view signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8821,50ff74ffa92388885c50b94ffebc9717586e4a55,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-08-14 14:47:40 +0400, , protobuf show field cleanup let pas field structure show function hope make mess anoying ... signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8822,ed9cbaf412227e03cdc841d34082b44f513d85bd,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-08-14 14:47:03 +0400, , protobuf field showing routine split usefull later pretty show support signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8823,92b6d86c7ed8678bc135b378e9fc3b3d0fa84e83,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-08-14 14:46:49 +0400, , protobuf helper show function selection introduced signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8824,f64633bd7db5f5d45e44e13def9f3916bf4c6117,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-08-14 14:46:47 +0400, , protobuf service helper show routine introduced signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8825,3f1b07f5a7340eb7a0e099076df05379031e64b0,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-08-14 14:45:47 +0400, , protobuf move data pointer field structure signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8826,ea5f645463c1179f38fd99db6476db3b28a4a7a4,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-08-14 14:45:29 +0400, , protobuf structure currently showing field introduced depth variable moved field structure signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8827,248a97c160e4f6fd428977d133cd0ff04972f36b,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-08-14 14:45:10 +0400, , protobuf rename type show function signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8828,d84dc289a7c9443e816cdfec6ab445549d070d57,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-08-14 14:44:55 +0400, , protobuf remove carriage return unknown object print signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8829,691bbdad4b59bce27dd45aa88c7f994f8be64290,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-08-14 14:44:43 +0400, , protobuf change pb_pr_field_t pointer signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8830,621afa560d1edd8e6843c7fd4c16e84f8c9aebdd,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-08-14 14:24:06 +0400, , zdtm fix compile error case new_ipc_ns set signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8831,f7c22fc771901df2341340c90faefac1d579c633,yrill Gorcunov <gorcunov@openvz.org>, 2012-08-14 14:22:49 +0400, , make build crtools default enable debugging debug provided signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8832,1663d74996e2161a712feec1564a398dc4ed1d37,yrill Gorcunov <gorcunov@openvz.org>, 2012-08-14 14:22:42 +0400, , make add fno strict aliasing since use kernel trick cmsg_firsthdr compiler particular gcc version 4.4.5 20110214 red hat 4.4.5 complain strict aliasing thus pas fno strict aliasing coast kernel signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8833,3ae36e700f6e912bc97a280e5920cd62c4d8ae3c,avel Emelyanov <xemul@parallels.com>, 2012-08-14 14:09:20 +0400, , restore mess last_pid restoring pidns init fork pidns init need specifying pid autogenerated clean code mess last_pid sysctl case rather omitting write signed pavel emelyanov xemul parallels.com,,
8834,6aaf65642bfb7ccbfe44146c09668d53b4ac78f3,ndrey Vagin <avagin@openvz.org>, 2012-08-14 12:56:20 +0400, , zdtm move logic namespaces test_init libzdtm test executed new set namespaces environment variable zdtm_newns set pid root task written zdtm_pidfile root fyle system changed zdtm_root signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8835,aabb56bd66745dfba4bb9238f9dfcc715e04c273,ndrey Vagin <avagin@openvz.org>, 2012-08-14 12:54:00 +0400, , crtools write pid root task specified file restore pid namespace root task get unknown pid original i.e crtools launched one find pid one use option make pid obtained new init written pid file signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8836,a5ac06f5036e81f2dedbd73b71d6f2d18d812058,ndrey Vagin <avagin@openvz.org>, 2012-08-14 12:50:37 +0400, , net define required compiling rhel6 signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8837,d0476ea93b13f81ba63bef15ca6b0f168cdfa64a,ndrey Vagin <avagin@openvz.org>, 2012-08-14 12:49:21 +0400, , socket fail unsupported socket dumped netns netns dumped crtools fails collect unsupported socket netns dumped crtools fail unsupported socket dumped signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8838,acf73093df68d4587fc363b930283edc6d919eb2,ndrey Vagin <avagin@openvz.org>, 2012-08-14 12:46:43 +0400, , inet save socket option ipv6_v6only part service ssh httpd ... create two separate socket one ipv4 one ipv6 ipv6_v6only dumped bind return eaddrinuse use do_dump_opt initialize yes signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8839,6afafb12ca92563535ce31c5989612691f2f5186,ndrey Vagin <avagin@openvz.org>, 2012-08-14 12:39:23 +0400, , inet source port zero socket bound crtools check address may zero example listen socket bound zero address accept connection address add comment zero port signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8840,51133437c98ecdb772ddba96c610ffc059d00c46,avel Emelyanov <xemul@parallels.com>, 2012-08-11 22:41:29 +0400, , remove per filetype make_gen_id abstraction makemuch sense pulling generic genid generation seems enough eny file type signed pavel emelyanov xemul parallels.com,,
8841,acba1e9baebf4a4b60840f10d5cfef3dfa8fda05,avel Emelyanov <xemul@parallels.com>, 2012-08-11 22:32:38 +0400, , sock cleanup inet socket collecing need receive callback find family protocol thus type passed transparent arg nlk request engine signed pavel emelyanov xemul parallels.com,,
8842,64149b40f293a4ba25a7281538d334874c141759,avel Emelyanov <xemul@parallels.com>, 2012-08-11 22:19:34 +0400, , code little checkpatch fix code test checkpatch.pl crash middle seem signed pavel emelyanov xemul parallels.com,,
8843,d10ee39f28040a02a3f49ccc1f6c51d0d009a966,avel Emelyanov <xemul@parallels.com>, 2012-08-11 22:03:11 +0400, , code fix checkpatch.pl warning since v0.1 signed pavel emelyanov xemul parallels.com,,
8844,5c9cc71fea30cfd5e00259cb066daf4ef0a05247,avel Emelyanov <xemul@parallels.com>, 2012-08-11 21:57:42 +0400, , log replace perror pr_perror code signed pavel emelyanov xemul parallels.com,,
8845,f1b41e08246f1c4e95fc2b0020cc6461a2564aad,avel Emelyanov <xemul@parallels.com>, 2012-08-11 21:55:48 +0400, , code replace message signed pavel emelyanov xemul parallels.com,,
8846,a1b731dac397ba0238cbfd39a8dd8704aa0061a1,avel Emelyanov <xemul@parallels.com>, 2012-08-11 21:48:17 +0400, , code brush multi line comment first line signed pavel emelyanov xemul parallels.com,,
8847,5908c2eb45e76249b4460107245b0e56fa908885,avel Emelyanov <xemul@parallels.com>, 2012-08-11 21:39:36 +0400, , code fix formatting signed pavel emelyanov xemul parallels.com,,
8848,cdc4c998357ed1eec549fd551254b237166b8c74,avel Emelyanov <xemul@parallels.com>, 2012-08-11 21:36:03 +0400, , code fix spaced indentation found signed pavel emelyanov xemul parallels.com,,
8849,9efd12f2c74355cd4961ebca72553fa0b52fd726,avel Emelyanov <xemul@parallels.com>, 2012-08-11 21:34:35 +0400, , code remove trailing whitespaces file signed pavel emelyanov xemul parallels.com,,
8850,796d4ceb95b6f5be7680a65f330373a32505c2ea,ndrey Vagin <avagin@openvz.org>, 2012-08-11 13:12:43 +0400, , socket switch netns collecting socket socket collected target net name space net specified signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8851,1e1837a83e5db0324464e86c9f7d2d49e5a26439,yrill Gorcunov <gorcunov@openvz.org>, 2012-08-10 20:29:02 +0400, , zdtm add futex test test futex robust list signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8852,57032aff5e91e8e5661125f1ea4339024fe6cf75,yrill Gorcunov <gorcunov@openvz.org>, 2012-08-10 20:29:01 +0400, , restorer restore futex robust list signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8853,097d73a101952152410dee2534e58ad95f85b31d,yrill Gorcunov <gorcunov@openvz.org>, 2012-08-10 20:28:59 +0400, , dump add futex robust list dumping patch introduces threadcoreentry protobuf structure carry thread specific arch independent information put futex robust list signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8854,1a62282d4822b0c6a6c2e15880ef36f6242aa226,avel Emelyanov <xemul@parallels.com>, 2012-08-10 19:14:36 +0400, , net push host end veth original netns call handle end put bridge signed pavel emelyanov xemul parallels.com,,
8855,076faf744399e951cd76cb988e867c9f554c12f0,avel Emelyanov <xemul@parallels.com>, 2012-08-10 17:36:00 +0400, , net preliminary veth restore peer device named veth_host supposed pushed outside netns restored proper host side configuration signed pavel emelyanov xemul parallels.com,,
8856,3fee68f56b87130bb5b0a3abae4b3b24c1a3aa9d,avel Emelyanov <xemul@parallels.com>, 2012-08-10 17:32:56 +0400, , net put ifla_linkinfo attr newlink required veth fill linkinfo part peer signed pavel emelyanov xemul parallels.com,,
8857,9d18a851c2b8a05ea77b43c15e74d23d9d86ff00,avel Emelyanov <xemul@parallels.com>, 2012-08-10 17:31:03 +0400, , net put ifname mtu newlink request name valid new veth mtu restored device signed pavel emelyanov xemul parallels.com,,
8858,ff3770a22dc1fc6ca3339f039feb945330d30a77,avel Emelyanov <xemul@parallels.com>, 2012-08-10 17:27:36 +0400, , net declare expand struct newlink request need add payload newlink request work outside  signed pavel emelyanov xemul parallels.com,,
8859,425ed1e92c39ef1da15e2a290921d686fbc00ab5,avel Emelyanov <xemul@parallels.com>, 2012-08-10 17:25:42 +0400, , net pas nlm_f_create flag link restore one required say want new device exists device except signed pavel emelyanov xemul parallels.com,,
8860,4ae4c4acc97becefa4279132df67d5ab47324039,avel Emelyanov <xemul@parallels.com>, 2012-08-10 17:24:11 +0400, , net dump veth device device distinguished type ether kind veth problem peer detection exists described comment handle moment signed pavel emelyanov xemul parallels.com,,
8861,52b2ca86c984e9846b5268c28167562fba353cbe,avel Emelyanov <xemul@parallels.com>, 2012-08-10 17:21:34 +0400, , libnetlink helper add helper manage nla blob taken iproute2 tool need veth support signed pavel emelyanov xemul parallels.com,,
8862,b57fb6da340ec5151954fdafc3583b003f6bff95,avel Emelyanov <xemul@parallels.com>, 2012-08-10 13:09:03 +0400, , net move ifla parsing higher call stack signed pavel emelyanov xemul parallels.com,,
8863,7f1c9af0f8eaf0c2a129b1d10e356372c8204757,avel Emelyanov <xemul@parallels.com>, 2012-08-10 10:17:50 +0400, , vma state vma constant image field lost switching protobuf vma image used parasite plain array easier reseve space image late change make always signed pavel emelyanov xemul parallels.com,,
8864,321a71fd82661a914b674296d346b3d47c6fd79d,avel Emelyanov <xemul@parallels.com>, 2012-08-10 10:17:18 +0400, , inet fix inet address check validation bug introduced 27d62237e5e2 sorry signed pavel emelyanov xemul parallels.com,,
8865,01ef70a106c77e53748ecf46920fdcb57792f34f,yrill Gorcunov <gorcunov@openvz.org>, 2012-08-10 12:23:03 +0400, , syscalls add futex robust list helper need futex robust list signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8866,27d62237e5e25ffc158fbedd9d186ed19b5b830b,avel Emelyanov <xemul@parallels.com>, 2012-08-10 07:58:19 +0400, , inet sanitize address size handling use repeated u32 field ipv address ipv4 element ipv6 validate size image check sockaddr_in element size match signed pavel emelyanov xemul parallels.com,,
8867,9e03fd584b9cda87223dceb9bcc409ddbb1a7756,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-08-10 07:40:54 +0400, , optimize dump size bit let carry uint_32 ipv4 address signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8868,64e161f307a7eca52131accb9f63e6435d90f5cc,avel Emelyanov <xemul@parallels.com>, 2012-08-10 07:36:20 +0400, , show tune protobus shower .int use use fixed field width 32bit one likely value 64bit address better printed full width signed pavel emelyanov xemul parallels.com,,
8869,6a9e5bbdcc2fa4b6ea27671dd23d9289a9ab30c8,avel Emelyanov <xemul@parallels.com>, 2012-08-09 22:40:18 +0400, , show fix optional submessage showing wrong pointer checked null default value resulted lost part core message show output signed pavel emelyanov xemul parallels.com,,
8870,148497e45d446248bf49aa7311c744752c1c3990,ndrey Vagin <avagin@openvz.org>, 2012-08-09 19:59:14 +0400, , mount add support devpts devpts mounted content restored crtools restores terminal signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8871,04b8a62377dbd7eacd614e08f8061057325a664b,ndrey Vagin <avagin@openvz.org>, 2012-08-09 19:53:41 +0400, , zdtm.sh pid renamed pid one skipped reported stanislav kinsbursky skinsbursky parallels.com signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8872,58e22f31fc30c389bc5ad51213ffcb147f950e49,ndrey Vagin <avagin@openvz.org>, 2012-08-09 19:51:22 +0400, , mount add support tmpfs dumping tmpfs mount need take content use tar put image dir signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8873,b0d7cc9724e3bebf3cb10c386483b9a8c385f61a,ndrey Vagin <avagin@openvz.org>, 2012-08-09 19:47:20 +0400, , mount add suport empty binfmt_misc binfmt global could check inhabitant intersect source destination 1st time enough check one empty signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8874,af15b75b709c63592791559657e6b3304fc285bc,ndrey Vagin <avagin@openvz.org>, 2012-08-09 19:45:18 +0400, , mount initial open close mountpoint implementation routine supposed provide dir givem mountpoint currently abort mountpoint overmounted fixed eventually signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8875,74221764279c1cfe145fce3c37500e2d87d24ba0,avel Emelyanov <xemul@parallels.com>, 2012-08-09 19:23:31 +0400, , pscketsk add loss timestamp sockoptions signed pavel emelyanov xemul parallels.com,,
8876,d29feb910307e68f1db52cb51f9f176201d1995e,avel Emelyanov <xemul@parallels.com>, 2012-08-09 18:13:02 +0400, , packetsk add support auxdata origdev vnethdr bit boolean reality signed pavel emelyanov xemul parallels.com,,
8877,242fd55a574f7d3c33e6435be60312a4ae954e18,avel Emelyanov <xemul@parallels.com>, 2012-08-09 18:12:22 +0400, , protobuf support showing bool datatype signed pavel emelyanov xemul parallels.com,,
8878,3ef8d138ab99db58d01338eca01fa82a59ff7ec9,avel Emelyanov <xemul@parallels.com>, 2012-08-09 17:38:15 +0400, , packetsk support packet_reserve option signed pavel emelyanov xemul parallels.com,,
8879,1259a9ad8092468a3514c5482a1dc2a497f9459a,avel Emelyanov <xemul@parallels.com>, 2012-08-09 17:31:35 +0400, , packetsk support packet_version sockoption signed pavel emelyanov xemul parallels.com,,
8880,216a3a6521decf79eb7b5bf2286350df5fc5278d,avel Emelyanov <xemul@parallels.com>, 2012-08-09 17:25:11 +0400, , add level socket option dump restore helper packet socket need sol_packet one signed pavel emelyanov xemul parallels.com,,
8881,6949a848d36c8da92ed4bb4615f68161e8cb859c,ndrey Vagin <avagin@openvz.org>, 2012-08-09 16:27:30 +0400, , mount add abstraction layer dumping file system need dump content like binfmt_misc tmpfs ... facilitate existing list filesystems turned array structure dump restore callback may declare need rework encode decode_fstype twice signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8882,0b5425b6346f618f6452d8c0400d5f43f138bbf9,ndrey Vagin <avagin@openvz.org>, 2012-08-09 16:27:24 +0400, , mount add support devtmpfs global require action mounted signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8883,d0fd98c9fcc1dc3f9301cc0923607803b9d55146,ndrey Vagin <avagin@openvz.org>, 2012-08-09 16:22:32 +0400, , show show raw image show_all image specified crtool show content image crtools abort case due bug_on show method raw image sugget skip image signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8884,579a5cd2111366ef22d73f929d3ed42768714df0,avel Emelyanov <xemul@parallels.com>, 2012-08-09 16:18:54 +0400, , zdtm test packet socket create bind nothing signed pavel emelyanov xemul parallels.com,,
8885,fc7071d05e1b7140bcc39f0a45a86c46bdbcb716,avel Emelyanov <xemul@parallels.com>, 2012-08-09 16:17:41 +0400, , net packet socket basic support support basic packet socket functionality create bind enough start testing dhclient inside container stuff filter mmaps fanouts etc come later signed pavel emelyanov xemul parallels.com,,
8886,b91445701b0bdb7d8198a437183df7ea5eb58d58,avel Emelyanov <xemul@parallels.com>, 2012-08-09 13:16:46 +0400, , img introduce generic routine collecting image entry restore typically read image put entry hash list whatever work later handy generic routine signed pavel emelyanov xemul parallels.com,,
8887,00a1a4d4b7d31c04e92b6f0ed82de0251549887d,insbursky Stanislav <skinsbursky@openvz.org>, 2012-08-08 17:06:38 +0400, , makefile build pie protobuf pie target depends protobuf target signed stanislav kinsbursky skinsbursky openvz.org reported andrew vagin avagin parallels.com tested andrew vagin avagin parallels.com acked andrew vagin avagin parallels.com look good cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8888,c0d83d9e9f2da4c78feeb544562f43e258c0b2f4,avel Emelyanov <xemul@parallels.com>, 2012-08-08 15:03:15 +0400, , show add hinting ability crtools produce dump internal format i.e also may call tool create file state e.g tool dump route ifaddr info tmpfs tar iptables utility produce iptables save file etc show functionality read image guess file provided magic signed pavel emelyanov xemul parallels.com,,
8889,ba0d5fb226b06c1c62271783ab93c5c3b7c2871e,ndrey Vagin <avagin@openvz.org>, 2012-08-07 19:33:49 +0400, , dump handle overmounted device init lxc open dev null mount devtmpfs dev crtools resolve path origin dev null crtools option evasive device check origin device new device true crtools dump new path add description option signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8890,8de043478885677ba374ec2e2295c32ec218d916,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-08-07 19:27:38 +0400, , restore bug_on inet address image size wrong aptch replaces bug_on return error code signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8891,47266dd0315784a3305e0a5cddcf80d250e64b87,avel Emelyanov <xemul@parallels.com>, 2012-08-07 19:25:09 +0400, , move callback type file signed pavel emelyanov xemul parallels.com,,
8892,657a544fb73daa574c13e4ee05ab96893011e699,avel Emelyanov <xemul@parallels.com>, 2012-08-07 02:51:34 +0400, , rewrite object showing use descs pb_show thing longer macro signed pavel emelyanov xemul parallels.com,,
8893,b1b0a39a58c8948b4f44af068c3a6fbb1eb4635c,avel Emelyanov <xemul@parallels.com>, 2012-08-07 02:42:58 +0400, , rewrite object reading use descs pb_read thing longer macro allow factor object collecting restore signed pavel emelyanov xemul parallels.com,,
8894,2398c55e415ba88dddb8f6f48a52287d04b7dbda,avel Emelyanov <xemul@parallels.com>, 2012-08-07 02:26:50 +0400, , rewrite object writing use descs pb_write thing longer macro signed pavel emelyanov xemul parallels.com,,
8895,9e84bd10830d384eea8a703da7c58e5dd62d9f43,avel Emelyanov <xemul@parallels.com>, 2012-08-07 02:00:39 +0400, , introduce message type descriptor protobuf generate plain routine entry manipulation want generic way working message collect array descriptor similar image file description full typechecking thing allow simplfy code later signed pavel emelyanov xemul parallels.com,,
8896,8bff4c7fca0c9b85a7ade8fb2242b7b2da612397,ndrey Vagin <avagin@openvz.org>, 2012-08-06 18:37:13 +0400, , restore consolidate restoring root task one blob signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8897,703a322cc002397ddcb119ead09fb2d7ba3e2019,ndrey Vagin <avagin@openvz.org>, 2012-08-06 18:36:59 +0400, , restore mount_proc return result instead exit addition fix error handling signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8898,91ea3b922bc3ff489420c9e103030fb1b760e8e6,ndrey Vagin <avagin@openvz.org>, 2012-08-06 18:36:35 +0400, , namespace return one initilized xemul added explicit brace ifs signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8899,4c88cafe43bf82e103fd650bb8b41a662c544793,ndrey Vagin <avagin@openvz.org>, 2012-08-06 18:31:39 +0400, , restore fix clean pidns process restored pidns controll process crtools know real pid process know pid init crtools kill init process killed signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8900,a5dff04d6a15a08481295748f7675d2a4730baed,ndrey Vagin <avagin@openvz.org>, 2012-08-06 18:30:45 +0400, , socket_listen interrupt parent child exited child exited sigchld sent parent sigchld handler without sa_restart current syscall interrupted signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8901,c60661051d8e2719957e4bcf2c037abea05eb006,yrill Gorcunov <gorcunov@openvz.org>, 2012-08-06 18:30:02 +0400, , doc update option signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8902,25b35f13b6f7c5730ee231b356d7d0b34792307c,yrill Gorcunov <gorcunov@openvz.org>, 2012-08-06 18:29:53 +0400, , help add mnt net option list signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8903,e4d5ad236b7780bccb2719c1542cb302594a85fd,yrill Gorcunov <gorcunov@openvz.org>, 2012-08-06 18:28:27 +0400, , file reg drop redundant double semicolon signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8904,750324af65e3c35d64eab72d852a66de7435e096,yrill Gorcunov <gorcunov@openvz.org>, 2012-08-02 11:24:00 +0400, , mount cleanup readlinkat calling use sizeof instead path_max constant place eos exactly read data end signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8905,f345fc8f10b9886fe454dac29760c3bd008bdd15,avel Emelyanov <xemul@parallels.com>, 2012-08-02 16:25:52 +0400, , parasite pull opts stack revert tune 9eda83b7 andrey reminded global instance cr_options signed pavel emelyanov xemul parallels.com,,
8906,bd4e5d2f9db1d1b0a60944b22e02875680f40291,ndrey Vagin <avagin@openvz.org>, 2012-08-02 16:08:06 +0400, , restore prepare shared object initializing namespaces stage crtools unlink old socket file create ghost file etc correct namespace signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8907,420325dca6742d0169b7b7f9efb6f069cd32f698,ndrey Vagin <avagin@openvz.org>, 2012-08-02 16:07:43 +0400, , restore add option changing root file system option pivot root argument path new root root task make pivot_root lxc doe need restoring pivot root root signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8908,3cb5969b25d895a08b5375e652e460e756a5e6e9,ndrey Vagin <avagin@openvz.org>, 2012-08-02 15:54:54 +0400, , pstee fix memory corrupation pstree_item helper allocated without rst_info patch prepare_fd_pid executed item touched rst_info signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8909,ce25c67b90fc44ed63df60d61966a34b00e5ea6b,avel Emelyanov <xemul@parallels.com>, 2012-08-02 12:49:51 +0400, , zdtm wire signalfd00 kernel patch 3.5 branch make test run automatically signed pavel emelyanov xemul parallels.com,,
8910,f289ac2c1a16554d521b26e8a17b36e621ffb656,avel Emelyanov <xemul@parallels.com>, 2012-08-02 12:28:16 +0400, , zdtm signalfd testing zdtm.sh yet since kernel patch yet committed kernel updated zdtm.sh signed pavel emelyanov xemul parallels.com,,
8911,da2d59a2e7ec59d9e149d1814313d6cc2b8dd230,avel Emelyanov <xemul@parallels.com>, 2012-08-02 12:27:45 +0400, , signalfd checking code signed pavel emelyanov xemul parallels.com,,
8912,da409cc6416fcc05c3593404a78df3b7d34cd384,avel Emelyanov <xemul@parallels.com>, 2012-08-02 12:26:35 +0400, , signalfd dumping restoring fact presence flag fown sigmask sigpending state tightly coupled task sigpending state yet supported signed pavel emelyanov xemul parallels.com,,
8913,8097a8dc09c199cd9d49b30dc5e98de530badb0e,avel Emelyanov <xemul@parallels.com>, 2012-08-02 12:25:18 +0400, , signalfd add proc fdinfo parsing facility signed pavel emelyanov xemul parallels.com,,
8914,0401664144eb6f3d24597e1eaa6dc5ce4382fb55,avel Emelyanov <xemul@parallels.com>, 2012-08-02 12:24:27 +0400, , signalfd add protobuf description signed pavel emelyanov xemul parallels.com,,
8915,92e739e9b6d505755d72c1e883cde84f8c1bf806,avel Emelyanov <xemul@parallels.com>, 2012-08-02 09:54:22 +0400, , mount reset mountinfos mntns recreated list mount used inotify restore watch open handle problem clean_mnt_ns done mntinfo list longer relevant fix freeing old one initializing new read image stuff signed pavel emelyanov xemul parallels.com,,
8916,d8a6ecc63059e04b1cf7b0410c94c9e2e3be80ed,avel Emelyanov <xemul@parallels.com>, 2012-08-02 08:14:14 +0400, , zdtm netns basic test check one simple ifaddr two route handled sanity test nothing signed pavel emelyanov xemul parallels.com,,
8917,a6439860cdd165eaafac7eb83079c9ea89b7fd6b,avel Emelyanov <xemul@parallels.com>, 2012-08-02 08:31:46 +0400, , net route dump restore run tool signed pavel emelyanov xemul parallels.com,,
8918,fc1eb96783399b526c1954fdaa5a1122b6cd0f1a,avel Emelyanov <xemul@parallels.com>, 2012-08-02 08:26:43 +0400, , netns ifaddrs dump restore run addr save addr restore respectively signed pavel emelyanov xemul parallels.com,,
8919,0b9b1bd91a0e4654a812283a07a847af58d03a91,avel Emelyanov <xemul@parallels.com>, 2012-08-02 08:21:19 +0400, , netns introduce routine run tool dump restore thing utililty likely support ifaddrs route dumping restore rtnl message symmetrical wrt dump restore easily dump thus best use tool carry raw image ifaddrs route dump signed pavel emelyanov xemul parallels.com,,
8920,4943eb43fde6200cb2814c7aa4b7df11a3501605,avel Emelyanov <xemul@parallels.com>, 2012-08-02 08:17:27 +0400, , netns basic link dump restore show support device final yet much stuff handled link rather skeleton showing letting check lxc container early signed pavel emelyanov xemul parallels.com,,
8921,f006545a0a2944a6182552f37be3ff448e2f1cac,avel Emelyanov <xemul@parallels.com>, 2012-08-02 08:10:22 +0400, , parasite switch netns creating transport socket target task sits another netns socket able interconnect unless create host side one netns thus roll back namespace signed pavel emelyanov xemul parallels.com,,
8922,0a827aa96cf5f3fef5cf4e3e14a00416f707ee7e,avel Emelyanov <xemul@parallels.com>, 2012-08-02 08:06:29 +0400, , net basic netns dump restore skeleton signed pavel emelyanov xemul parallels.com,,
8923,2d56d1b0560698827d40e8eb16cc20a3571081e4,avel Emelyanov <xemul@parallels.com>, 2012-08-02 07:55:05 +0400, , add ability save original restoring back switcing required parasite transport socket creation created net putting parasite restore back original dumping signed pavel emelyanov xemul parallels.com,,
8924,9eda83b74aefbcdea5bf8205d1ac77e3af8a7a88,avel Emelyanov <xemul@parallels.com>, 2012-08-02 07:53:02 +0400, , parasite pull cr_options transport sock creation need check whether socket created net namespace since detect automatically yet thus namespaces flag required signed pavel emelyanov xemul parallels.com,,
8925,38431fb16113c882d9beea3e8b833f7a1d679e5c,avel Emelyanov <xemul@parallels.com>, 2012-08-02 07:42:41 +0400, , img introduce notion raw image raw image supposed file non crtools content e.g tarballs tmpfs content iptables save output another example tool addr route dump merge soon type image allows use open_image cr_fdset engine easily signed pavel emelyanov xemul parallels.com,,
8926,7b7e4826dcf5b5d88c9eea267b20b9acb03deab2,avel Emelyanov <xemul@parallels.com>, 2012-08-02 07:33:27 +0400, , netlink fix nlmsg_error handling type message also reported nlm_f_ack requested necessarilly indicates error error code message body signed pavel emelyanov xemul parallels.com,,
8927,b0cf603b182e8343112d1c0015e0c1532d6d1ee0,avel Emelyanov <xemul@parallels.com>, 2012-08-02 07:28:45 +0400, , netlink pas argument do_rtnl_req engine need int netns dumping callback later signed pavel emelyanov xemul parallels.com,,
8928,cffe1ea172f7aedc3ecd9af99b28e7ade6ee9cad,avel Emelyanov <xemul@parallels.com>, 2012-08-02 07:24:29 +0400, , netlink remove handmade rtnl macro definition need rtnetlink.h signed pavel emelyanov xemul parallels.com,,
8929,b7b5bfdd289efe5b5c849723721fdd389aba2205,avel Emelyanov <xemul@parallels.com>, 2012-08-02 07:23:06 +0400, , libnetlink move rtnl req routine libnetlink.c function doe socket collecting actually rtnl request sending one usefull netns dump restore move generic place signed pavel emelyanov xemul parallels.com,,
8930,2e9ddccdb91e497ceb677dee98eca10038969466,ndrey Vagin <avagin@openvz.org>, 2012-08-01 15:01:13 +0400, , restore rework logic temporary proc need proc restoring process existent proc may suitable e.g process pidns crtools mount procfs temporary directory umounted end patch crtools work process mount namespace actually logic simplified patch doe create tmp dir mount procfs open directory save file descriptor detach procfs remove tmp dir access proc via openat statat signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8931,2f272fa18778a8ef0cd82655cddcc6eee22e167e,avel Emelyanov <xemul@parallels.com>, 2012-08-01 10:17:14 +0400, , parasite recreate host side transport socket dumping net namespace create transport socket target namespace order call setns swice socket call want every single task dump let cache socket instead signed pavel emelyanov xemul parallels.com,,
8932,6cf65d0fe07f4f8e7a376dc6244d514941018824,avel Emelyanov <xemul@parallels.com>, 2012-08-01 09:48:02 +0400, , parasite remove connect tsock command init transport socket interconnection one switch parasite signed pavel emelyanov xemul parallels.com,,
8933,bc21b29ba6ceea826d49fdf2177cac02d87d31ed,avel Emelyanov <xemul@parallels.com>, 2012-08-01 07:41:19 +0400, , fdinfo report miss required entry parse otherwise dump succeeds inconsistent signed pavel emelyanov xemul parallels.com,,
8934,1fef842025298282998785b0193e0e18a26123a4,ndrey Vagin <avagin@openvz.org>, 2012-08-01 07:01:36 +0400, , zdtm.sh dump mount namespace test_init pidns add option namespace mnt crtools dump signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8935,9c1fa58c9d37fac2e1f52874a4b61698cc57b30e,ndrey Vagin <avagin@openvz.org>, 2012-08-01 07:01:29 +0400, , test_init add support mount namespaces part code copied mountpoints.c code umounts point except proc signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8936,c69be631e15f8ed111fe217f60e36e5736642e43,ndrey Vagin <avagin@openvz.org>, 2012-08-01 07:00:48 +0400, , mntns crtools stat pathes relatively mntns root dump task mntns look pathes point mntns root support situation root init task root mntns root another way get root mntns path unix socket copied origin copy gone function created signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8937,3a60163b71a3b75161ddd0f32f23a3185168ff8a,ndrey Vagin <avagin@openvz.org>, 2012-08-01 06:57:20 +0400, , zdtm open file mountpoints.c need check opened file restored mntns xemul slabinfo meminfo 9dc050fd signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8938,368d7ac0e6c1a0d09c4d298cb402b69dee05d182,ndrey Vagin <avagin@openvz.org>, 2012-07-31 15:48:16 +0400, , zdtm test_init exit child died signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8939,a954120154342985f074dd837be0a7153643c367,ndrey Vagin <avagin@openvz.org>, 2012-07-31 15:47:15 +0400, , zdtm close write end status pipe parent process otherwise parent hang child died read status pipe signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8940,44c2ac9310b7b9a2348b3dc03a50cc720879a7e9,ndrey Vagin <avagin@openvz.org>, 2012-07-31 15:47:07 +0400, , zdtm test_init creates pid file patch use pidof get pid test process signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8941,9dc050fde0c9caa9b16e07e9da01d9b1d4437640,onstantin Khlebnikov <khlebnikov@openvz.org>, 2012-07-31 15:45:57 +0400, , zdtm proc slabinfo present container pclin 31078 signed konstantin khlebnikov khlebnikov openvz.org acked andrey vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
8942,2fe7ed666b00ef41da2567c59f0b1cee2bd3935d,ictor Konyashkin <vkonyashkin@parallels.com>, 2012-07-31 15:08:25 +0400, , zdtm need define clone_newipc redhat el5 patch allows define clone_newipc redhat el5 signed victor konyashkin vkonyashkin parallels.com acked andrey wagin avagin gmail.com signed pavel emelyanov xemul parallels.com,,
8943,fc3a5ebd3de35b6716a01513b7a17bcd6fa409f0,ictor Konyashkin <vkonyashkin@parallels.com>, 2012-07-31 15:07:07 +0400, , zdtm need define clone_newpid redhat el5 patch allows define clone_newpid redhat el5 avoid error test_init.c 114 error clone_newpid undeclared first use function signed victor konyashkin vkonyashkin parallels.com acked andrey wagin avagin gmail.com signed pavel emelyanov xemul parallels.com,,
8944,9d0875a8133bf26fdf6183d7115fba9e50326d6a,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-31 14:09:49 +0400, , file reg use close_safe variable make compiler happy signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8945,ba85bf30bddb650bc88c3452c3850253af5a801f,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-31 14:09:39 +0400, , inet init addr_size variable since bug_on problem let make compiler happy signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8946,bcb625b8afe8f68d5f334840cc4274090e2e5711,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-31 14:09:32 +0400, , parasite init ret variable compiler like ret unitialized problem since sigmax never signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8947,8a3e7f31f48788f3f8a98a267e3f9ef98126a5ed,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-31 14:07:09 +0400, , log introduce log_prefix useful one need prefix module message use tty thus something like tty master 0x31 index pid 5079 create tty slave 0x5c index 255 pid 5080 create send tty standalone slave 0x2e index pid 5079 create log help filtering message signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8948,d1a36cc98a8f1fb6b2b866edba50b18b1cb707a7,konyashkin <vkonyashkin@parallels.com>, 2012-07-31 14:06:04 +0400, , zdtm need turn fortify_source instead use wno unused result option wno unused result option look introduced gcc 4.5.0 need turn fortify_source compiler warn unused result fortification mode instead use wno unused result avoid error version prior 4.5.0 signed victor konyashkin vkonyashkin parallels.com acked andrey wagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8949,47d200c63774a04a76b8d18413a107d295de5616,konyashkin <vkonyashkin@parallels.com>, 2012-07-31 14:05:43 +0400, , zdtm need sleep clock_gettime uptime_grow kernel suspend container design call clock_gettime loop need sleep clock_gettime signed victor konyashkin vkonyashkin parallels.com acked andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8950,4ee52f340392254de0e80d2b040927bd10fb18d4,avel Emelyanov <xemul@parallels.com>, 2012-07-31 13:57:44 +0400, , tcp use ino number opening tcp stream image restore accidentally broken 424a4adb6 better use ino instead since tcp connection may unbound fds supported thus may signed pavel emelyanov xemul parallels.com,,
8951,56a7073e83aef36b3179659166a4dced0247752b,avel Emelyanov <xemul@parallels.com>, 2012-07-30 13:52:37 +0400, , add credit file file ... credit yes implementing stuff receive lot help various people would like mention undeservedly forgotten someone something please help make amends send patch file signed pavel emelyanov xemul parallels.com,,
8952,26aa2951352b6d936a337a773a5acb3017125140,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-28 09:11:12 +0400, , file enhance error message debugging problem found plain bug_on enough signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8953,33293222baaec1b824ac0f8ca3a7ac5207730d3e,insbursky Stanislav <skinsbursky@openvz.org>, 2012-07-28 09:10:17 +0400, , protobuf set field size proper value fro enum type signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8954,6243e9c0cbacc5e4032ef4917d1edcabd8dcedd6,insbursky Stanislav <skinsbursky@openvz.org>, 2012-07-28 09:09:52 +0400, , crtools remove reference absent option signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8955,2249fb3c919fb590bffb53c2d6227bbba58487c4,insbursky Stanislav <skinsbursky@openvz.org>, 2012-07-28 09:08:46 +0400, , crtools check optind valid parsing command argument signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8956,797f9cc0192e15f530072ccd04bed0548001cfc9,insbursky Stanislav <skinsbursky@openvz.org>, 2012-07-28 09:08:16 +0400, , makefile remove reference test legacy signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8957,d88a52f1a154b06416f1c441d56de963ec5f7bf1,insbursky Stanislav <skinsbursky@openvz.org>, 2012-07-28 09:07:27 +0400, , protobuf use generic show function process tree signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8958,8c72187be1270662893cfc000b186e8a2608a8d6,insbursky Stanislav <skinsbursky@openvz.org>, 2012-07-28 09:05:07 +0400, , protobuf use generic show function ipc namespace variable  debug garbage removed signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8959,ba4366d3da28fa701a022e520d759fd5f4df97b0,insbursky Stanislav <skinsbursky@openvz.org>, 2012-07-28 09:04:58 +0400, , protobuf use generic show function ipc shared memory signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8960,49ea3128db83be4773ab9d94da2c0f65a1a1871c,insbursky Stanislav <skinsbursky@openvz.org>, 2012-07-28 09:04:51 +0400, , protobuf use generic show function ipc message signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8961,26eb254f963ecea8a01872935d45e99a807dc59c,insbursky Stanislav <skinsbursky@openvz.org>, 2012-07-26 12:44:00 +0400, , protobuf use generic show function ipc semaphore signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8962,290003e964473dfadc5e6125b268d003d35d305f,insbursky Stanislav <skinsbursky@openvz.org>, 2012-07-26 12:43:00 +0400, , protobuf add payload print support generic show function patch also update pipe data socket queue payload handler output data option passed crtools signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8963,737045fe57fb3b7643a448b0b418ea6d6b878d81,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-25 18:59:05 +0400, , test drop legacy directory thing already zdtm need carry signed pavel emelyanov xemul parallels.com,,
8964,e77c21f725d8c465f98418dd1636606ce1cafb57,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-25 18:58:24 +0400, , crtools drop tool directory using send notification commits need anymore signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8965,bdb58423cab4350d71611f4f9c0e3e21d24fd81c,insbursky Stanislav <skinsbursky@openvz.org>, 2012-07-25 18:33:29 +0400, , protobuf use generic show function pipe data signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8966,9ac6d091495cdf2301461e24c8a78084502bc781,insbursky Stanislav <skinsbursky@openvz.org>, 2012-07-25 18:33:20 +0400, , protobuf use generic show function socket queue signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8967,63ad6e6d3019abd75a719f6b4c5c8fd07e5311cb,insbursky Stanislav <skinsbursky@openvz.org>, 2012-07-25 18:33:04 +0400, , show add helper reading printing image binary data signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8968,d0a5f0aea9addf340555959af99988f31ab2a090,insbursky Stanislav <skinsbursky@openvz.org>, 2012-07-25 18:32:41 +0400, , protobuf add show support image payload payload handler passed generic protobuf show function signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8969,ae150da091124e83386c09eea9069051aa678c1c,insbursky Stanislav <skinsbursky@openvz.org>, 2012-07-25 18:30:50 +0400, , protobuf use vertical show function core signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8970,cb6ae5b6c98c28444a21a6fd9cf10630d998a14f,insbursky Stanislav <skinsbursky@openvz.org>, 2012-07-25 18:30:35 +0400, , protobuf use vertical show function signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8971,b49ee4cb5b0e15a289946f5fc232838b7450387b,insbursky Stanislav <skinsbursky@openvz.org>, 2012-07-25 18:30:20 +0400, , protobuf use vertical show function namespace signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8972,bc04724a2c1f5bb27195bbe1e971be5cd63cb5ad,insbursky Stanislav <skinsbursky@openvz.org>, 2012-07-25 18:30:09 +0400, , protobuf use vertical show function cred signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8973,da4d808af807decf6036b114dfc547e39042d121,insbursky Stanislav <skinsbursky@openvz.org>, 2012-07-25 18:29:55 +0400, , protobuf use vertical show function signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8974,caea044a8b197f99a6a8a6ad678446cce77678d7,insbursky Stanislav <skinsbursky@openvz.org>, 2012-07-25 18:29:40 +0400, , protobuf use vertical show function ghost file signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8975,5bb1b8428bc6e933ef253fceaa4bf02dda3882d2,insbursky Stanislav <skinsbursky@openvz.org>, 2012-07-25 18:28:17 +0400, , protobuf replace rectangular bracket curly one nested message show signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8976,b56bc8c5f9565346db19038e60fa73aae2b878f6,insbursky Stanislav <skinsbursky@openvz.org>, 2012-07-25 18:28:15 +0400, , protobuf added support optional field signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8977,01228a195adf2e219e580ee7d25d8ac8c0cba530,insbursky Stanislav <skinsbursky@openvz.org>, 2012-07-25 18:28:15 +0400, , protobuf added nested message outup shift vertical output signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8978,705411f4bc4e8d8c043b4337ae89623929243807,insbursky Stanislav <skinsbursky@openvz.org>, 2012-07-25 18:28:14 +0400, , protobuf vertical output support introduced used single entry image signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8979,5809e7d0b3e28677db4c6c6448267bf38592db22,insbursky Stanislav <skinsbursky@openvz.org>, 2012-07-25 18:28:12 +0400, , protobuf control block generic show introduced signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
8980,df81acafa711811208442059e193f239c8f98c8d,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-24 14:06:30 +0400, , restorer calculate self stack size guard page otherwise might unmap whole stack leaving guard page restoree memory map big deal anyway signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8981,95c593a61864556ef7c21eaac523947f6c80f4ef,avel Emelyanov <xemul@parallels.com>, 2012-07-24 10:22:37 +0400, , inotify sanitize inotify inotify_wd collecting add fdesc init list add use single variable signed pavel emelyanov xemul parallels.com,,
8982,2b2a40a20d92ae7b6c0c8a4e533c7814f1c4b1a7,avel Emelyanov <xemul@parallels.com>, 2012-07-24 10:22:35 +0400, , eventpoll allocate entry collect stage read engine signed pavel emelyanov xemul parallels.com,,
8983,630d1741c2d5dd89a3176bd15b63121b905d35c9,avel Emelyanov <xemul@parallels.com>, 2012-07-23 09:37:53 +0400, , criu version 0.1 release first release tool supported feature x86_64 architecture process linkage process group session without ttys though memory mapping kind shared file etc thread open file shared task partially opened unlinked pipe fifo data unix socket packet queue content tcp udp socket tcp connection support exists need polishing inotifies eventpoll eventfd task sigactions setup credential itimers ipc mount pid namespaces work kernel v3.5 signed pavel emelyanov xemul parallels.com,,
8984,2f3727f0e2219e07c2b256beaf881aa950fc7ccd,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-23 07:09:39 +0400, , doc add example section signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8985,148273d098272740a3ec76032ef2644407662c54,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-23 07:09:31 +0400, , doc shrink synopsis option described main argument  signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8986,f34cd5fd94d58cf41a9b648e1e9763e6b4cec4ed,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-23 07:09:22 +0400, , help drop option anymore signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8987,b4a4ba7ac9d7c7bcfa438d73c22f7cd3cc971f2d,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-23 07:08:48 +0400, , doc add long new option reflect current option support signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8988,e6167b5aa63ab4efc2ad8b2fa3fe86a114ca360c,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-20 19:39:25 +0400, , make disable stack executable bit otherwise crtools built stack executable result kernel set current personality crtools get loaded memory mmap call restorer create vmas exec bit set signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8989,b0ea7a1a6b4088dc23eb5af0283278f0214a13ca,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-23 07:01:13 +0400, , restorer drop commented code signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8990,58b0ef655fe3b812f87a4e6d6e6ed92dda8003ea,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-20 14:18:53 +0400, , restore add test optional field core_entry signed cyrill gorcunov gorcunov openvz.org,,
8991,5421e44b7200e747f67b1b1049ec19012706f38e,avel Emelyanov <xemul@parallels.com>, 2012-07-20 14:13:14 +0400, , show crash thread_info absent core zombie live signed pavel emelyanov xemul parallels.com,,
8992,9d918c59646b41c063b87d2ff1da902782ba1454,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-19 13:23:01 +0400, , protobuf convert core_entry format requires exlanations since use protobuf data restorer code need carry copy appropriate entity resident memory sake significantly reworked short caller code fill structure task argument space  combine everything arch related thread_info field make optional drop version field message check version another specific message forget call needed continue dumping fpu state still yet restored  carry task_core_entry thread yield error present image  allocate core_entry depending type task dumped signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
8993,092ae8c999c6d8a1f740b74eac69d13f8d72ecd4,avel Emelyanov <xemul@parallels.com>, 2012-07-20 13:44:30 +0400, , log remove message saying log level set added debugging spoil show output signed pavel emelyanov xemul parallels.com,,
8994,bed6c34b1745fd0f2d02f690a600ba655489c725,ndrey Vagin <avagin@openvz.org>, 2012-07-17 11:50:00 +0400, , socket skip unsupported socket patch stopped stat failed signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
8995,64967eef21bb2319f3c15f3e10c8aa63a831f2c1,avel Emelyanov <xemul@parallels.com>, 2012-07-19 17:55:34 +0400, , crtools kill ability work individual process tested several monthes evidence required dumping single task option work fine signed pavel emelyanov xemul parallels.com,,
8996,9f2168a4f0dc73fbb793418ce22e53069ef4d3f3,avel Emelyanov <xemul@parallels.com>, 2012-07-19 17:37:25 +0400, , image introduce top level file inventory currently store image version core file bad since core file describes single process thread say nothing image set whole let alone fact parsed late thus introduce inventory image file describes image set way need want entry image version future extended signed pavel emelyanov xemul parallels.com,,
8997,76e7f12cb8368f3735908d8ddee47ea3586e8b6d,avel Emelyanov <xemul@parallels.com>, 2012-07-19 17:25:04 +0400, , log fix loglevel assignment reason optind misused maybe broke prev patch signed pavel emelyanov xemul parallels.com,,
8998,0b76ba375ec8212e0550c37a8db975cc578163ac,avel Emelyanov <xemul@parallels.com>, 2012-07-19 16:51:58 +0400, , crtools add version constans cmdline option set 0.0 since done release yet signed pavel emelyanov xemul parallels.com,,
8999,dd16fec48c6b3345ec5b2fc37c16c626cbd06195,avel Emelyanov <xemul@parallels.com>, 2012-07-19 16:50:04 +0400, , crtools sanitize option parsing presume argv action use optind index end parsing instead allows specify help option properly signed pavel emelyanov xemul parallels.com,,
9000,af3b2869b33e9cfe3da8f01dbaf991e9ecafa68d,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-07-19 14:56:01 +0400, , show cleanup remap_id_type used signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
9001,37dd509fae781affd07d73e6c78a7be5a77f9ed9,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-07-19 14:55:08 +0400, , protobuf rename default make target protobuf otherwise look strange nothing compile make say target require rebuild signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
9002,92e6a30904fe438fb7364be440e50c41b973e1c6,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-07-19 14:54:27 +0400, , protobuf simplify plain show logic __pb_show_msg redundant signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
9003,0c54b67b88662692ceed2ea61a24729561cd6d41,avel Emelyanov <xemul@parallels.com>, 2012-07-19 14:52:30 +0400, , switch namespace image file protobuf format signed pavel emelyanov xemul parallels.com,,
9004,4806e1395f6c0f14a20196d8c0dfa1ac35bade39,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-19 12:43:36 +0400, , protobuf convert vma_entry format  use regular uint type message proto use engine show  drop usage temp variable signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9005,ffd40996eafc03fd461bfeaa5502af9f3fe42947,avel Emelyanov <xemul@parallels.com>, 2012-07-19 12:35:25 +0400, , switch cred protobuf format signed pavel emelyanov xemul parallels.com,,
9006,afea21f95463e1610cb63f5377a9fee81f2f3d6b,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-19 11:31:39 +0400, , protobuf convert ipc entry format skinsbursky drop redundant header inclusion drop redundant goto drop redundant null assignment signed cyrill gorcunov gorcunov openvz.org acked stanislav kinsbursky skinsbursky parallels.com signed pavel emelyanov xemul parallels.com,,
9007,9fc1d6bbebe86f3825f1fd982fef41be8c2e7e09,avel Emelyanov <xemul@parallels.com>, 2012-07-19 10:18:37 +0400, , fdinfo make fdinfo.type enum type specifies strict set hidden behind thus number description fdinfo message plus protobuf make shure nothing else signed pavel emelyanov xemul parallels.com,,
9008,dffd0aa65f89b6eaeb5dc53cf9e7dba9a47f1bbc,avel Emelyanov <xemul@parallels.com>, 2012-07-19 10:17:40 +0400, , protobuf introduce enum showing function try hard find symbolic declared .proto file name given value use enums fdinfo thus prepare signed pavel emelyanov xemul parallels.com,,
9009,0cf04ac7819e05257a8a0470e3d14bb8ae6d972e,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-19 09:44:20 +0400, , protobuf drop old sk_opts_entry structure switched skoptsentry need carry obsolete one signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9010,043cfc99b1280b7ea0ecb80bd7033aa169c5f792,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-19 09:40:13 +0400, , dump drop fd_desc_invalid redundant assignment assigned fd_parms_init already signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9011,0468355c1280817c70b070f077f0a6a56019ad59,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-19 09:39:00 +0400, , protobuf drop fown_t type ready use fownentry everywhere drop fown_t type clean source code signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9012,8d92c2c3b2da7fbe9b0d1efff92faebbca269fc8,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-19 09:26:47 +0400, , protobuf convert inet socket engine signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9013,c9ea79db93c713c0b475bdb6453379955fbbb411,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-19 09:25:49 +0400, , protobuf convert unix_sk_entry engine  use helper use pb_prep_fown helper  add missing name null signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9014,eb0f81bc6fdb50f81f031832c4f661a04bc8853a,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-19 09:23:50 +0400, , protobuf convert sk_opts_entry format patch prepares ground patch sk_opts_entry get converted format yet used anywhere code also additional pb_ helper added signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9015,2383c398c45605e3017a998298feabe9611fa7d5,avel Emelyanov <xemul@parallels.com>, 2012-07-18 19:22:06 +0400, , switch sigactions showing use pb_show_plain signed pavel emelyanov xemul parallels.com,,
9016,d6514dae45ed4d7452180017044f4b43cee05b4f,avel Emelyanov <xemul@parallels.com>, 2012-07-18 19:09:51 +0400, , introduce show_plain routine one walk plain image file i.e one straignt magi size entry format print message save lot line code signed pavel emelyanov xemul parallels.com,,
9017,9de8295ba7efff9c0c866a88f8537e3f501978af,avel Emelyanov <xemul@parallels.com>, 2012-07-18 18:57:33 +0400, , clean _typecheck name generation signed pavel emelyanov xemul parallels.com,,
9018,a710f61717808060cd1eb4bd84c5e83eca4a18f8,avel Emelyanov <xemul@parallels.com>, 2012-07-18 18:42:35 +0400, , clean callback pointer typedefs use classical version asterisk type definition signed pavel emelyanov xemul parallels.com,,
9019,656a463769136848d023d9f831368fa940b1afcb,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-07-19 08:26:25 +0400, , show convert simple array showing fns use pb_show_msg merges stas patch signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
9020,0456049579b54e217d85514264ffefb82bec9558,insbursky Stanislav <skinsbursky@openvz.org>, 2012-07-18 13:04:00 +0400, , protobuf generic show function introduced function used protobuf message contains required repeated even nested message field function support yet optional field skipped field type  show unknown object iow support existent proto file inspired cyrill gorcunov gorcunov openvz.org signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
9021,808b8f2f06aacae96ae563d8d79407bd96f784ad,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-18 20:54:00 +0400, , protobuf convert mm_entry format mmentry repeated field copy aux vector explicitly reserve space task args signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9022,a7691bcbe26cd6079515e6bea14968ad687320e6,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-18 16:27:01 +0400, , protobuf convert itimer_entry format signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9023,6b9d3affc973cc2e67d006810db9ae94f00ac8dc,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-18 16:25:06 +0400, , protobuf convert sa_entry format signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9024,b75d66e7dfe189460a45c631783ad5c384a2e93f,avel Emelyanov <xemul@parallels.com>, 2012-07-18 07:23:05 +0400, , itimers write itimer_entry parasite previous patch pull image independent entry victim task able use protobuf library encoding signed pavel emelyanov xemul parallels.com,,
9025,0f9abfc2dc8e40bb4a121174dc94ad88b1e793ec,avel Emelyanov <xemul@parallels.com>, 2012-07-15 10:18:35 +0400, , sigact write sa_entry parasite code pull array rt_sigact_t crtools instead fill write sa_entries required switch protobuf since use lib code parasite encoding sa_entries signed pavel emelyanov xemul parallels.com,,
9026,7861d32de00f278269cc1f7e2b42750705ee7d22,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-17 14:50:23 +0400, , protobuf convert struct pipe_data_entry engine note moment use data proto declaration reserved implement later simply easier use current code signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9027,786012e8917b15a7c1acc8e32efcb9abfd8f5b92,avel Emelyanov <xemul@parallels.com>, 2012-07-15 08:43:37 +0400, , mnt fix mountinfo collecting issue mountinfo collected forked new namespace strictly speaking restoring mnt reuse collected mntinfos rather reading  signed pavel emelyanov xemul parallels.com,,
9028,ca08ad53a66c34e4b64283c174668621e6685f3c,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-17 14:23:37 +0400, , protobuf convert mnt_entry engine signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9029,5fd0ace2c88d23f636441de17c4c1318cbd2c980,avel Emelyanov <xemul@parallels.com>, 2012-07-17 08:36:29 +0400, , protobuf check pack unpack getsize function type pas generic pointer pb_read pb_write typechecking required signed pavel emelyanov xemul parallels.com,,
9030,4d49125ff0dc86ce86f54897868aaba211f3f7f3,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-17 08:03:43 +0400, , protobuf convert sk_packet_entry engine signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9031,7818863ad081ad04adb6efb3c4e7dc56ee950551,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-13 21:05:00 +0400, , protobuf convert engine signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9032,73215d0aada5d9eb82c13b85d8f508aa8f7871b7,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-17 07:30:09 +0400, , eventpoll cleanup fown_t usage switch pb_ helper shrink code signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9033,baa30914b576e162978eb09ddbb7dc72d724a8eb,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-12 17:56:00 +0400, , protobuf convert pipe_entry engine signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9034,ccb254c1f0c4bb3630c0e5943ab0f488badfbcb0,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-17 07:29:36 +0400, , protobuf convert pstree_entry engine signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9035,b02158c14c962825f703c2f911e0bec6c22b79c2,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-17 07:28:38 +0400, , protobuf convert struct fs_entry engine signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9036,28638b611c37365b6a21474fa6d75f0e0bc07909,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-17 07:25:42 +0400, , protobuf convert inotify data protobuf engine signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9037,fa923ee14e880925a29accc7d8373f27196b4d46,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-17 07:25:40 +0400, , protobuf convert eventpoll data protobuf engine signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9038,1d484b713a6e564aaaf5aa5f545fc8332ee7262a,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-17 07:25:38 +0400, , file reg use pb_ helper shrink code use recently introduced pb_ helper shrink code signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9039,ca216745735615df52d3b8ec9a4340cd716189fc,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-17 07:24:54 +0400, , protobuf convert eventfd data protobuf engine signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9040,1abf969d8ccc951933b1e1d882346dd947669b4a,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-17 07:24:52 +0400, , show add helper need transition signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9041,7c447576830d8b6afd8a9160d28ad61f7f98620b,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-17 07:24:51 +0400, , file add pb_ helper spread opencoded copying entry image structure add pb_ helper used code completely merged signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9042,98acfbec28d4ce75b5f9d956ff5b1e18540ce695,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-12 13:07:00 +0400, , protobuf use instead struct signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9043,dbf29ef92ae925e8d123fd084dbf5829a4455eae,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-17 07:18:40 +0400, , protobuf use fifoentry instead struct fifo_entry signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9044,5364592157648f090cb9dc4c8a4b64fda14ded90,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-17 07:17:51 +0400, , protobuf use ghostfileentry instead struct signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9045,8041eac0e57a47d4c9ebad93c70f818ec7d47c60,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-17 07:17:02 +0400, , protobuf use regfileentry instead reg_file_entry structure patch switch reg_file_entry structure regfileentry protobuf entry note nit remains old fown_t structure scale well fownentry regfileentry mess rest crtools code added couple opencoded copy operand clean aspect rest code converted show procedure print fown reason  rename fown_t fown_entry .proto  print nil symbol show signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9046,a1fe3caf04d3b5c67b28f28630e178e51e2dab6e,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-12 13:06:00 +0400, , protobuf start switching image entry google protobuf short story long conversation format used keep checkpointed data disk image ended using google protocol buffer see http protocol buffer detailed description thus image entry convered patch convert fdinfo_entry message fdinfo_entry build note one protobuf protobuf installed able build crtools http code.google.com protobuf http code.google.com protobuf inspired pavel emelianov xemul parallels.com inspired kinsbursky stanislav skinsbursky openvz.org signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9047,c75b4b70fc0083f69b6c9c3f639dca8530a83d4b,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-17 07:00:18 +0400, , protbuf add protobuf image entry read write helper bloat util.h image.h protobuf.h introduced handle need represent object pair record byte object packed size  byte object  use plain read write call use local buffer small object  add pb_pksize helper calculate object size header signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9048,e564ac6f04a82addb28b85848da5be9208f8a631,avel Emelyanov <xemul@parallels.com>, 2012-07-16 10:24:10 +0400, , parasite remove addr ards drain fds cmd struct previous patch longer required signed pavel emelyanov xemul parallels.com,,
9049,a8607b121a7ef2dd2bd6aeb22fb2f3837605ba05,ndrey Vagin <avagin@openvz.org>, 2012-07-14 15:36:00 +0400, , dump create transport socket patch transport socket created demand operation requiring problematic start supporting net namespaces said create transport socket interconnect early signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9050,f703f31990ff471b57c4e8daf2a3363f2d5e7440,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-13 21:05:00 +0400, , queue move struct sk_packet file need keep header sk_packet used solely one file signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9051,a8c2bd0c5d3aa6a1f02a519baccaa60224f071ff,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-13 21:05:00 +0400, , queue use sk_packet_entry reference need transition signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9052,65570d9559ede76c233aaacf25ba8cde1a697006,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-13 21:05:00 +0400, , socket inet use inet_sk_entry reference inet_sk_info transition signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9053,8e195849a38bc1535321902749f7a2b5bad5a291,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-13 17:57:00 +0400, , queue use int value getsockopt kernel threat interger value declare way moreover explicitly clean eliminate side effect initially hit problem high bit long size variable containing crap stack result got error like error queue.c 102 dump_sk_queue allocate 171798904800 byte error dump.c 1289 dump file pid 2505 failed signed cyrill gorcunov gorcunov openvz.org acked stanislav kinsbursky skinsbursky parallels.com signed pavel emelyanov xemul parallels.com,,
9054,c256706a097be6c2257f7a1534351c93b66655ff,onstantin Khlebnikov <khlebnikov@openvz.org>, 2012-07-13 18:09:00 +0400, , zdtm sys kernel debug present container debugfs virtualized never jira pclin 31059 signed konstantin khlebnikov khlebnikov openvz.org acked andrey vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
9055,a89b40aa66bd984f6a19954baf8929873e635c1d,avel Emelyanov <xemul@parallels.com>, 2012-07-12 11:22:31 +0400, , skqueue show use pr_msg otherwise show result depends loglevel signed pavel emelyanov xemul parallels.com,,
9056,e21885b0de3d74eb0ced5375145997352072c114,avel Emelyanov <xemul@parallels.com>, 2012-07-12 08:37:39 +0400, , regfile fix regular file open lseek restore seeking done real file fifo using code thus move lseek proper place nice print error file open error nice handle lseek error signed pavel emelyanov xemul parallels.com,,
9057,29e8c856273653f0c93f35c606e05c177c7071ba,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-13 11:57:49 +0400, , socket unix use unix_sk_entry reference unix_sk_info transition signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9058,6c2807e5129b5d219dbf3c7d75877979ea79dc1e,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-13 11:56:41 +0400, , pipe use pipe_entry reference pipe_info need transition signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9059,237ef3c809f92fbafb320709eca982fa964b2ade,avel Emelyanov <xemul@parallels.com>, 2012-07-12 06:57:20 +0400, , pipe rework pipe data restore use vmsplice serf two thing kill annoying data offset management make protobuf switch ugly remove need seek pipe data image turn prerequisity streaming migration memory usage still optimal since still use splice dump path restore stage f_gift pipe buffer kernel signed pavel emelyanov xemul parallels.com,,
9060,c69d18eada2e6de748550a00063e0b9e403a174a,avel Emelyanov <xemul@parallels.com>, 2012-07-11 14:45:08 +0400, , util traditional xfree macro using statemets macro like good practice signed pavel emelyanov xemul parallels.com,,
9061,ab59e7d3a592e7ade5a91e5780c1591cc1637dca,avel Emelyanov <xemul@parallels.com>, 2012-07-11 14:44:00 +0400, , pipe plug memory leak pipd data image eof signed pavel emelyanov xemul parallels.com,,
9062,906f08133ba985ee68deae91e1fcc59057b0b55c,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-11 12:59:00 +0400, , pipe use pde reference pipe_data_rst need transition signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9063,12a0462f7e4fe8ffd869dd7346be2dc7ccb6500b,avel Emelyanov <xemul@parallels.com>, 2012-07-11 12:58:46 +0400, , util shorten array anon_inode link checking strictly speaking link point path_max string sake is_anonfd_link byte enough even target string longer match required anon_inode xxx string signed pavel emelyanov xemul parallels.com,,
9064,f965ead8b8bbca355dfb4700036b55e80fb2a9dc,avel Emelyanov <xemul@parallels.com>, 2012-07-11 12:57:19 +0400, , pipe shorten array self link path open proc self path_max array long use shorter plus fix snprintf size argument signed pavel emelyanov xemul parallels.com,,
9065,d271850694c552aed2020fb09fd8f9771772cc00,avel Emelyanov <xemul@parallels.com>, 2012-07-11 11:57:28 +0400, , pipe add helper getting pipe_id fdparms explicitly state pipe inode number signed pavel emelyanov xemul parallels.com,,
9066,76638fd5c37a4c1f5ae860f667f4be4e88d87f11,avel Emelyanov <xemul@parallels.com>, 2012-07-11 10:26:46 +0400, , check add check inotify shown proerly fdinfo signed pavel emelyanov xemul parallels.com,,
9067,a80e9e2eabdcf84870155d6464779a589cb4c064,avel Emelyanov <xemul@parallels.com>, 2012-07-11 09:55:10 +0400, , check add check epoll shown proerly fdinfo signed pavel emelyanov xemul parallels.com,,
9068,7baadd7f1b5cb03070d10ba0875d6133874ce7ec,avel Emelyanov <xemul@parallels.com>, 2012-07-11 09:46:44 +0400, , check fix set_mm_exe_file prctl retcode ebadf bogus descriptor pas signed pavel emelyanov xemul parallels.com,,
9069,888bc286dfc0cc25486c5dd0c161614e622810fa,avel Emelyanov <xemul@parallels.com>, 2012-07-11 09:45:32 +0400, , check add check evetfd shown proerly fdinfo signed pavel emelyanov xemul parallels.com,,
9070,feb6624ddf3a0a9e77fc348cb82b6665df162790,avel Emelyanov <xemul@parallels.com>, 2012-07-11 09:35:36 +0400, , inotify wire use generic fdinfo parsing engine code look clearer finally ground check code prepared signed pavel emelyanov xemul parallels.com,,
9071,0b9d1d970f345e79f4bce3881d71d18a445f2dfb,avel Emelyanov <xemul@parallels.com>, 2012-07-11 09:22:38 +0400, , event move proc parsing stuff proc_parse prepare inotify ... signed pavel emelyanov xemul parallels.com,,
9072,decf115f7ea534cd13cb98ab05f71bb36320b59c,avel Emelyanov <xemul@parallels.com>, 2012-07-11 07:57:23 +0400, , zdtm wait test finish increasing interval make test finish time run smoother ton waiting ... message screen signed pavel emelyanov xemul parallels.com,,
9073,7ea40df4db39e217e8911f0c200a88a4775b8473,avel Emelyanov <xemul@parallels.com>, 2012-07-01 08:56:20 +0400, , pipe fifo remove unused member rst structure signed pavel emelyanov xemul parallels.com,,
9074,d448a75ec700b70fa23a2bfb50e11a2080ea7013,avel Emelyanov <xemul@parallels.com>, 2012-07-01 08:55:16 +0400, , pipe fifo fix cleanup data restore make two stage first collect pipe data hash without checking pipe fifo existance next pipe fifo get restored walk hash search pipe data  signed pavel emelyanov xemul parallels.com,,
9075,3aa01f649fae4f0e9405318d828c0de4ea6a6434,avel Emelyanov <xemul@parallels.com>, 2012-07-01 08:21:54 +0400, , pipe intermix pipe fifo data dumping existing code check already dumped pipe fifo may since reside different filesystems signed pavel emelyanov xemul parallels.com,,
9076,499cc6789bc0873b87d9dc6f5294df0ac4ed553f,avel Emelyanov <xemul@parallels.com>, 2012-07-01 07:50:39 +0400, , pipe remove arg pipe data dump routine check pipe data dumped based pipe arg questoin pipe end make code reading confusing signed pavel emelyanov xemul parallels.com,,
9077,e23c9e0cda01c61bf2cadf8256c6f114d22c75b2,avel Emelyanov <xemul@parallels.com>, 2012-07-01 06:28:35 +0400, , inet report error inet socket collect failed signed pavel emelyanov xemul parallels.com,,
9078,a135b40ba2b8b08301c22f9bce97acbdafb31152,avel Emelyanov <xemul@parallels.com>, 2012-07-01 05:48:15 +0400, , ghost file merge dump restore helper structs signed pavel emelyanov xemul parallels.com,,
9079,218f0a9b5c587e9a71f2b5bf19d6fdfa4cca2da2,avel Emelyanov <xemul@parallels.com>, 2012-07-01 06:25:29 +0400, , fifo fix false failure fifo image reading ret var set beginning first loop break report caller thus stopping restore signed pavel emelyanov xemul parallels.com,,
9080,883126a47522ce5587f98cc0b4d8f0f7871a022d,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-10 02:50:00 +0400, , inotify use embedded structure reference need protobuf transition signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9081,5f303989eb910366c5ad78f94f6a8e8fb4ffd075,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-10 02:49:00 +0400, , eventpoll use embedded structure reference need protobuf transition signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9082,f382fcf8386b4a38ff772ce8a87fc9c232c11705,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-10 02:49:00 +0400, , eventfd use reference need protobuf transition signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9083,c553627ddd6591a2766ef2e59ad012589c38ed37,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-09 14:25:00 +0400, , fifo use fifo_entry fifo_info reference need protobuf transition signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9084,2db18f5e163a8f3d884ca7cd824d84e52c87e6d7,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-07 01:03:00 +0400, , file use fdinfo_entry structure need use pointer object anyway better make separate patch bisectability sake signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9085,30f1aff65842c3ab81b9035c0fe1ef732ee0c5f2,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-06 19:32:00 +0400, , update .gitignore signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9086,7ff9efda4a7203e1a324a66797268ea9d7d0e16b,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-01 22:38:00 +0400, , zdtm fifo rowo pair test update address andrew comment use test_value macro instead open coded value use wifx macro child status testing kill child parent error note clear initiall patch change log difference fifo_wronly test case one use fork call allow make sure fifo restoration code logic tested widely basically flowchart test case parent child  open fifo slave open fifo master open fifo master dup parent slave slave1 ... waiting happen ... ... waking ... send byte master send byte slave1 finish ... initiating ... ... waking ... read byte master read byte slave pas signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
9087,d249c293f70010f7a33ee3bc4016cd68416f4636,ndrey Vagin <avagin@openvz.org>, 2012-07-02 15:25:00 +0400, , restore create fake process group leader like orphaned session create fake task orphaned pgids signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9088,6fb3759c5f755a06a3d543328973340f56a1bea8,ndrey Vagin <avagin@openvz.org>, 2012-07-02 15:25:00 +0400, , restore restore pgid two phase described previous patch process group leader restored first phase process restores pgid signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9089,5c45786417b09b5fe3219120f668d49a2bf68319,ndrey Vagin <avagin@openvz.org>, 2012-07-02 15:25:00 +0400, , restore wait restroring pgid pgid leader become task try enter group setpgid thus introduce yet another global sync point pgid leader call setpgid others wait helper restored pgid signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9090,63dcf183f299b2c9df99dc7db8e934e7111cd61e,ndrey Vagin <avagin@openvz.org>, 2012-07-02 15:25:00 +0400, , zdtm add test case checking sid pgid process tree described array new case easy adding signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9091,23501ffe32200ccddb352a911a9e732685607a4f,ndrey Vagin <avagin@openvz.org>, 2012-07-02 15:25:00 +0400, , zdtm add ability set test proccess easy debugging signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9092,faf12f405b3ade7532540799c6d8490861950983,ndrey Vagin <avagin@openvz.org>, 2012-07-02 15:25:00 +0400, , zdtm copy futex engine crtools reuse crtools zdtm used separately syscall return error code errno signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9093,b1919be8bbedbb04e7dada71927b8aad8affa88d,avel Emelyanov <xemul@parallels.com>, 2012-06-28 13:32:59 +0400, , pipe cleanup pipe data collecting code signed pavel emelyanov xemul parallels.com,,
9094,3b8fef5227dfbdb44f30e6f282e7b870f6da5bb4,avel Emelyanov <xemul@parallels.com>, 2012-07-01 17:56:00 +0400, , fifo sanitize fifo restore push open onto reg_file_into pas regfiles engine argument note merged fifo zdtms yet thus patch untested signed pavel emelyanov xemul parallels.com tested cyrill gorcunov gorcunov openvz.org,,
9095,18d8950355cc818858d575e8bb912c398461bfcb,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-01 21:23:00 +0400, , zdtm enable fifo fifo_wronly test signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9096,c8bf5e3fd02438721c1816515a8f84198cc36a6a,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-01 21:23:00 +0400, , zdtm add fifo ghost file test signed cyrill gorcunov gorcunov openvz.org acked andrey wagin avagin gmail.com signed pavel emelyanov xemul parallels.com,,
9097,e0939577ea848a82b8d0a0b0e5f0bc1441e4f1b1,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-28 19:59:00 +0400, , zdtm add fifo rowo pair test case need special test case fake fifo created restore former signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9098,ea1ce8e472a6bec427b34a36ad93b6aacd6f5933,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-26 02:36:13 +0400, , fifo add checkpoint restore fifo checkpoint restore fifo similar pipe except pipe end point named file fifo name use regular file facility fifo path still trick used open fifo opening procedure migh sleep fifo peer yet opened real open yield fake open procedure o_rdwr flag prevents sleeping even peer yet ready also need writable fifo end restore data queued  add open priv member reg_file_info make open_fifo_fd use open_fe_fd comment pipe_id make sure fifo data restored twice  drop useless fixme comment add sane one  use restore_data flag escape data restore duplication use s_isreg file content copying signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9099,18145c50c1c39e9417d665ca0801d2bf9d13334a,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-01 17:14:32 +0400, , file reg create fifo ghost node needed allow file path remap engine create fifo node note fifo copy_file called since restore fifo data via pipe data engine  need dev mknod reopen local copy fifo file signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9100,d16d4baa8db1ecd2dedb708030c85258feb82544,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-28 19:59:00 +0400, , pipe make non static reuse fifo data restore  use image type function argument instead forcing calling side provide file descriptor signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9101,18ede23c49ffe1de3d83de30f33cc4bec5411197,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-29 14:34:00 +0400, , inotify tune fdinfo format new kernel output signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9102,eeb8f763b070b70313d9bc44737bb623e85a07b7,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-29 14:34:00 +0400, , eventfd tune fdinfo format new kernel output signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9103,16c410b19fad2ffde3b8500b755617082fa8262b,ndrey Vagin <avagin@openvz.org>, 2012-06-29 17:03:00 +0400, , zdtm check content unlinked file signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9104,29cb7de1987f42e94b9283609129ff98894ae119,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-27 01:52:00 +0400, , zdtm turn unbound_sock test case signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9105,37131e51b10a58ef6458ab6aa4d545790c75698d,yrill Gorcunov <gorcunov@openvz.org>, 2012-07-01 14:42:42 +0400, , socket restore unbound inet socket  use do_dump_opt dump_socket call lookup_socket redundantly  use getsockopt check unconnected socket peername listening test socket protocol since family type called  move proto test use sol_tcp tcp_info gather info tcp socket  hash unconnected socket run bug_on already dumped logic default value wqlen use zero xzalloc drop bogus xfree error signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9106,877f8c8276a2838baf70e695543f97e22e3dff6e,ndrey Vagin <avagin@openvz.org>, 2012-06-28 18:32:00 +0400, , zdtm simplify sys_gettid fix compilation x32 signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9107,2c978d84d3ed5af490c9648d567e3616a49f4722,avel Emelyanov <xemul@parallels.com>, 2012-06-28 03:15:01 +0400, , crtools celan crtools.c unneeded header signed pavel emelyanov xemul parallels.com,,
9108,611b97248b3df61d1a6c1a2536683b9b9581c245,avel Emelyanov <xemul@parallels.com>, 2012-06-28 03:12:08 +0400, , img move img file management code image.c clean util.c crtools.c image manupulation code signed pavel emelyanov xemul parallels.com,,
9109,dc2a99c6275d672d929a10413fc70aa7b970e0a0,vgeny Antyshev <eantyshev@parallels.com>, 2012-06-27 15:50:00 +0400, , zdtm allow timer growth uptime_grow may occur loop spin faster clock tick signed evgeny antyshev eantyshev parallels.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
9110,49c1d43645dff8de29bf050c1ec4795afb1be10e,ndrey Vagin <avagin@openvz.org>, 2012-06-26 14:51:00 +0400, , pstree move code pstree separate file signed andrey vagin avagin openvz.org look cool cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9111,18cd74069cea70455dfd5fd76a94195a53513dd7,ndrey Vagin <avagin@openvz.org>, 2012-06-26 14:05:00 +0400, , zdtm print useless number expr print substing length patch redirects output expr dev null signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9112,8abf475d59c7f5fa642183f7a3841a26cbbe5acc,ndrey Vagin <avagin@openvz.org>, 2012-06-26 14:05:00 +0400, , zdtm make zdtm.sh faster two time requered 1m19s executing test requires 38s signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9113,486da8827e6d1617c120163a30dc3655bd5fe450,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-19 19:05:00 +0400, , zdtm convert caps00 test use task_waiters signed cyrill gorcunov gorcunov openvz.org acked andrey vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
9114,8d7a55ed7403845e18db525661d67e3aedccbf92,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-19 19:05:00 +0400, , zdtm add task_waiter_ helper sometime need sync point testee program flow reason task_waiter_ introduced call semantics following parent child       ... thus initially called initialize internals gut needed one become waitee call lockid provided argument since unique value best option might gettid applies waiter side call provide lockid signed cyrill gorcunov gorcunov openvz.org acked andrey vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
9115,43f62f42b28f57c405fe602f970238a5aeab80a4,avel Emelyanov <xemul@parallels.com>, 2012-06-27 20:57:42 +0400, , rst close standard descriptor fds restore strictly speaking close fds reopening image done using yet merged nextfd syscall yet merged close std 255 bash descriptor ugly prefer wait nextfd syscall skip init task std becase existing zdtm implementation system task work fds closed signed pavel emelyanov xemul parallels.com,,
9116,a03323e1620b2fb20284cb7ec04a163e5c7f2433,avel Emelyanov <xemul@parallels.com>, 2012-06-27 20:57:41 +0400, , zdtm basic test mount point mount namespace test sysfs proc currently supported fixed later note original proc mount kept dumping code requires reading pagemap file info worth fixing day signed pavel emelyanov xemul parallels.com,,
9117,a201f5981637dc9dae0df42983184ae5ac891ea4,avel Emelyanov <xemul@parallels.com>, 2012-06-27 20:57:40 +0400, , rst create custom proc every time restore namespace need proc restoring mount namespace since proc umounted mounted back diring namespace restore want introduce special kludge one notice temp proc mounted _after_ namespaces recreation reason umounted prepare_mnt_ns signed pavel emelyanov xemul parallels.com,,
9118,fe41f84b42358a3b77ab2d097b4cbc0e74c4d53c,avel Emelyanov <xemul@parallels.com>, 2012-06-27 20:57:39 +0400, , mount mounting code core support virtual filesystems mount bindmounts disk due non trivial resolving device name binmount source implemented later signed pavel emelyanov xemul parallels.com,,
9119,1adb7d241687206b8de0b45cba0c791362136f3d,avel Emelyanov <xemul@parallels.com>, 2012-06-27 20:57:38 +0400, , mount umount mountpoint iterating tree already sorted thus call umount fail signed pavel emelyanov xemul parallels.com,,
9120,f0c68e73619c0092e29b4bf60c1f68ec9307d2e7,avel Emelyanov <xemul@parallels.com>, 2012-06-27 20:57:37 +0400, , mount tree walking function two walker forward reverse direction required correct mounting subtrees implement using helper macro walk tree direction signed pavel emelyanov xemul parallels.com,,
9121,95964f1b13921d245ca7741d2d209e4754cb6ea8,avel Emelyanov <xemul@parallels.com>, 2012-06-27 20:57:36 +0400, , mount core creating mount namespace namespace restore two step first clean old mountpoints except root left clone clone_newns call next repopulate namespace new mountpoints except root read image file patch add skeleton reading mountpoints current proc image calling mount umount real action come patch signed pavel emelyanov xemul parallels.com,,
9122,57095eb9463c471b8325b0aaeab8b19806ccb0bf,avel Emelyanov <xemul@parallels.com>, 2012-06-27 20:57:35 +0400, , util helper reading string image signed pavel emelyanov xemul parallels.com,,
9123,fc416d86947c3f60b1ada23b8e0e99549858aa4b,avel Emelyanov <xemul@parallels.com>, 2012-06-27 20:57:34 +0400, , mount build mount point tree plain list build tree mountpoins mounted straight forward backward order without ebusy error tree built two step first create hierarchy based mount next resort sibling path depth order signed pavel emelyanov xemul parallels.com,,
9124,8f288a0c51d671824d005481c6321d17284da4a9,avel Emelyanov <xemul@parallels.com>, 2012-06-27 20:57:32 +0400, , mount dump fstype encode u32 since check filesystem name anyway everyone easily migratable dump _any_ root need root entry restore though mount provided crtools restore start signed pavel emelyanov xemul parallels.com,,
9125,54f42f2bfed5e36c63d5da58b7a94d80f80a6565,avel Emelyanov <xemul@parallels.com>, 2012-06-27 20:57:31 +0400, , mount basic mount point dumping dumping straightforward copy mount_info field new image file dump everything fstype one come separate patch signed pavel emelyanov xemul parallels.com,,
9126,e0cb53a19f035a9c2afbf156d03b3f3fc38917ac,avel Emelyanov <xemul@parallels.com>, 2012-06-27 20:57:30 +0400, , mount rename struct proc_mountinfo mount_info structure used restore created image thus name proc_ suitable signed pavel emelyanov xemul parallels.com,,
9127,b5803455181b5f3b289834f6453c00c4bac5024c,avel Emelyanov <xemul@parallels.com>, 2012-06-27 20:57:29 +0400, , mount allocate mountinfo string dynamically restore path structure used better char rather char scanning proc use specifier signed pavel emelyanov xemul parallels.com,,
9128,c74fb299d898ab5ec1a9434d8b0a0f9824840601,ndrey Vagin <avagin@openvz.org>, 2012-06-26 21:45:00 +0400, , parasite remove useless bug_on required removed signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9129,3b8b68464aa80d6d1f154126c6313227e299dd89,ndrey Vagin <avagin@openvz.org>, 2012-06-26 20:01:00 +0400, , parasite remove return code enough olden time people know write sent courier letter write message parasite may dropped signed andrey vagin avagin openvz.org look good well maybe refine message able identify exactly parasite failed say line better another patch acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9130,97a08a801a521b8af27682b6284337f137a5bfa3,ndrey Vagin <avagin@openvz.org>, 2012-06-26 20:00:00 +0400, , parasite return exit code parasite signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9131,3f6f29166848d3668a1b565e8d26c16d324ce7a8,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-22 19:58:00 +0400, , pipe show fix tail message show_pipes_data signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
9132,3c18a9f47e28024ef0c60b818af604ee9b63573f,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-22 16:24:00 +0400, , beautify files.h add argument name align member add extern group struct decl top make file_desc_ops type unsigned integer similar fdtype_ops type signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9133,cb74aa3e485bd4df6f51a4b61f33c13c89c5762e,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-22 16:24:00 +0400, , file drop redundant declaration files.h declared file reg.h get rid add file reg.h inclusion needed signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9134,16c7adecddf211faba04a037361076c0ba135a83,ndrey Vagin <avagin@openvz.org>, 2012-06-22 11:51:00 +0400, , zdtm add two test case tty check pseudoterminals restored check control terminal restred signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9135,24074a9dbb0151676eb84cf11d3ca72d04cd07f9,ndrey Vagin <avagin@openvz.org>, 2012-06-22 00:38:00 +0400, , zdtm add new test case checking sid restored session00 session00 newsid session00 session00 session00 changesid session00 session00 session00 changesid session00 detach session00 detach newsid signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9136,a4685cd30ce8b90ed95fb91406e97b9e90a4bede,ndrey Vagin <avagin@openvz.org>, 2012-06-22 00:39:00 +0400, , restore check sid instead parent one signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9137,1264a7a9c6d42d3bdf383082c141c08ccf5744ac,ndrey Vagin <avagin@openvz.org>, 2012-06-22 00:39:00 +0400, , restore fail restore pgid sid restored fail root non init task another sid inherited parent restored expected behaviour subtree dumped signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9138,325ff7b4ab0ee7de9246b5b88fb6527503dd8df3,ndrey Vagin <avagin@openvz.org>, 2012-06-22 00:39:00 +0400, , dump check xids crtools restore sid case restore pgid added soon fail restore prevent testing restoring sids signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9139,8c4017d9335ca221513d9fe7aaf3b27f57e2b9a8,ndrey Vagin <avagin@openvz.org>, 2012-06-22 00:39:00 +0400, , restore print message sid restored signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9140,9b8a2067297206aca9d65628bce4a75860503e9a,ndrey Vagin <avagin@openvz.org>, 2012-06-22 00:39:00 +0400, , restore restore sid task leader child init sign parent changed sid forking child know sid process born process chain one process might change sid fix name variable prevent rewriting born_sid abort restorer error message born_sid determing signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9141,2c412fa6acfb25c72f7a16ca68c6c6dc5fd5d5b8,ndrey Vagin <avagin@openvz.org>, 2012-06-22 00:39:00 +0400, , restore restore sids task reparented init create helper process reparented init insert helper process tree helper exit constructing process tree fix variable name check error add comment code signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9142,eb9a6f201545e5b8f6920df8698855bf74692aef,ndrey Vagin <avagin@openvz.org>, 2012-06-22 00:38:00 +0400, , restore add interface creating helper task used restoring sid example session group leader absent helper process created die restoring task patch restore failed anyone exited skip helper exited successfully bit tricky child collected sigchld_handler point want wait helper waitpit used echld ignored sign helper exited waited sigchld_handler check null sig handler move code waiting helper separate function signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9143,acacc6049e2a6def086f04a66dc8990170f5b85e,ndrey Vagin <avagin@openvz.org>, 2012-06-22 00:38:00 +0400, , restore calculate maximum value pid used allocating pid helper task signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9144,8075dc60a598faa2a26282553192657a0faf744b,ndrey Vagin <avagin@openvz.org>, 2012-06-22 00:38:00 +0400, , pstree rename field struct pid pid virt real_pid real signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9145,9b3b059bdc5bd5daf552b293e7aa41d2f5a6e071,ndrey Vagin <avagin@openvz.org>, 2012-06-22 00:38:00 +0400, , crtools add pid namespaces cmdline option argument require dumping pid namespace dump restore failed tress contain process init pid namespace created implicitly process init tree fix comment pavel restore pidns approved user signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9146,57b1e94522e549ae62a74e5da2e0007cedf70aa3,avel Emelyanov <xemul@parallels.com>, 2012-06-04 00:23:49 +0400, , file sanitize transport creation current else scheme ... easy understand attempt make readable bonus free comment signed pavel emelyanov xemul parallels.com,,
9147,3d24b7d54ecb0e304e78db1d8588afb4805216e5,avel Emelyanov <xemul@parallels.com>, 2012-06-03 23:43:35 +0400, , file lookup fle creating transport find corresponding fle currently done desc list scan overkill required fle already hand signed pavel emelyanov xemul parallels.com,,
9148,a842cfe68f76cc2cfb107455fa5f64d069373878,avel Emelyanov <xemul@parallels.com>, 2012-06-03 22:56:02 +0400, , file lookup fdesc twice open_fdinfo need get file_desc associated given done searching hash descs speeded saving desc pointer fdinfo time collecting signed pavel emelyanov xemul parallels.com,,
9149,338bc1349cd19fc3e0677a6ab4c3e560dc51c5f8,ndrey Vagin <avagin@openvz.org>, 2012-06-21 11:14:00 +0400, , crtools add comment field struct pid signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9150,278e975ed3dd36ed46fb760fc8625f2a01959f2f,ndrey Vagin <avagin@openvz.org>, 2012-06-21 11:14:00 +0400, , dump rename dump_tid_addr dump_tid_info care tid_addr thread signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9151,b11785212b53b96b10bb4121fd34660a7ae0c741,ndrey Vagin <avagin@openvz.org>, 2012-06-21 10:33:00 +0400, , zdtm remove unused code sockets_dgram signed andrey vagin avagin openvz.org acked victor konyashkin vkonyashkin parallels.com signed pavel emelyanov xemul parallels.com,,
9152,d53a820b375aa09403ac16f41cae4a51f955445c,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-20 20:54:00 +0400, , file reg eliminate memory leak error xmalloc path freed something failed big deal since ususally interrupt program execution error exit anyway signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9153,9478974680d18396895a3a3a23bd5993657a4727,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-20 20:54:00 +0400, , file reg align reorder structure member eliminates hole structure func change signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9154,47506e8d2deb2f3f4baf70bed99c772219c79987,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-20 20:54:00 +0400, , file reg add missing new line open_reg_by_id helper signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9155,4a85120cbfc513fcdf8e72925b004c54f6129399,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-20 20:54:00 +0400, , file reg use stack variable need carry static per file variable need one non recursive function make stack based instead signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9156,4140c9e4ec67f792d061282b6f0feeda921f17a9,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-20 20:00:30 +0400, , file move regular file handling code file reg instead spreading regular file handling code files.c dump.c move file reg.c allows extend regular file handling code future without disturbing source file make code logically coupled files.c mostly place general file handling code unrelated file type specific mostly code tossing change notice structure ghost_file previously declared two pace dump.c files.c dump.c used dumping files.c used restore structure different member resolve conflict ghost_file structure renamed nothing else changed signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9157,ebb80665999aeea51e4614a80cd57a9d32919c91,ndrey Vagin <avagin@openvz.org>, 2012-06-20 19:13:00 +0400, , zdtm fix adding test case list bash returned error file directory add three test case list signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9158,60bd133e53492f1b4fb21c8e76431e7226521380,avel Emelyanov <xemul@parallels.com>, 2012-06-03 20:03:34 +0400, , lookup socket twice socket_desc looked dump_unix dump_inet dump_socket desc required obtain family turn done getsockopt signed pavel emelyanov xemul parallels.com,,
9159,49da2834a5b36789fbd67e0e00a4b4d312b51e78,avel Emelyanov <xemul@parallels.com>, 2012-06-03 19:58:19 +0400, , cleanup dump_one_file signed pavel emelyanov xemul parallels.com,,
9160,9ca95b5d3aa12bdedae94f41d7bbc36797383261,avel Emelyanov <xemul@parallels.com>, 2012-06-03 19:54:13 +0400, , remove fd_parm required making pipe_id making better done place using st_ino signed pavel emelyanov xemul parallels.com,,
9161,582954685b10bcdb00a1a40109634f7360909410,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-20 12:16:00 +0400, , escape using unsafe sprintf helper util critical speed use unsafe sprintf helper root granted program must safe possible signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9162,d25f5348ae421b1ce0d2f852b6e1da6315c048f3,vgeny Antyshev <eantyshev@parallels.com>, 2012-06-19 18:38:00 +0400, , zdtm uptime_grow test new testcase important rebootless update testing query system timer clock_monotonic continuously fail case stepped backwards signed evgeny antyshev eantyshev parallels.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
9163,606ad446ecf402ae7f492b3da98f5f1aebeffe1e,ndrey Vagin <avagin@openvz.org>, 2012-06-19 15:53:00 +0400, , zdtm.sh execute test new_pidns addition part test case may executed pidns default test case executed current pidns executed new pidns remove hard coded path test_init signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9164,d4a5938d8f50ff03d82368f69557b3f88401305b,ndrey Vagin <avagin@openvz.org>, 2012-06-19 15:53:00 +0400, , zdtm add test init executing test pidns add small program clone process new pidns executes test signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9165,b8e12c4829189207d65edba76343051ba235c794,ndrey Vagin <avagin@openvz.org>, 2012-06-19 15:53:00 +0400, , restore mount proc new pid namespace create tmp directory mount proc target pid proc show pid target pid crtools map_files restoring sharing mapping tmp directory removed restore signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9166,bdfb0d80fa8111532facaf56dc36559bd700c73a,ndrey Vagin <avagin@openvz.org>, 2012-06-19 15:53:00 +0400, , shmem used open_proc_rw open proc file open_proc_rw know proc may mounted proc used restoring task pid signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9167,4ebc87599585d7ca60ccf699cab760027791af11,ndrey Vagin <avagin@openvz.org>, 2012-06-19 15:53:00 +0400, , util add ability change proc mount point rework using openat service fds proc root signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9168,0ee0b197bd03072b3675b908861f268d407ed777,ndrey Vagin <avagin@openvz.org>, 2012-06-19 15:53:00 +0400, , dump split real_pid pid struct pid pid dumped pid gotted parasite fail zombie pidns signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9169,634dd10b3291f02634b992e3e80ae3c658b30a0b,ndrey Vagin <avagin@openvz.org>, 2012-06-19 15:53:00 +0400, , namespaces dump_namespaces get struct pid argument pid create image file real_pid dumping signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9170,c48bcbdb603a3759a85a557f256b98059a5ca64b,ndrey Vagin <avagin@openvz.org>, 2012-06-19 15:53:00 +0400, , dump move check_xids dump_pstree collect_pstree know pid process inside pidns signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9171,20d2c780cec4bec37a87460192c22eaa2cac1740,ndrey Vagin <avagin@openvz.org>, 2012-06-19 15:53:00 +0400, , dump dump pstree task pid target pid got parasite signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9172,c8e6be95e401ce6a93581c6ce0bb6b326b162c5c,ndrey Vagin <avagin@openvz.org>, 2012-06-19 15:53:00 +0400, , restore create pid namespace pid namespace created pid first task signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9173,83e6d14efd3a343e72528749040142da25a69132,ndrey Vagin <avagin@openvz.org>, 2012-06-19 15:53:00 +0400, , dump split collect dump dump pid dump_pstree called dump_tasks signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9174,772edd462cb451037603d8421cc06e317acefeb9,ndrey Vagin <avagin@openvz.org>, 2012-06-19 15:53:00 +0400, , parasite add ability get pid tid try dump process another pid another way get pid signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9175,4b48849c32afecbdf85166d3405546b965c206f3,ndrey Vagin <avagin@openvz.org>, 2012-06-19 15:53:00 +0400, , ctrools prepare dump pid namespace add struct pid use everywhere struct contains two field pid real_pid real_pid pid outside target pid namespace pid target pid namespace signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9176,2adbbcba893cb391173ac2b386c049e4e5c820a0,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-19 12:30:00 +0400, , pipe forget init pipe_info create otherwise value might taken heap xmalloc signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9177,70b65c9a50f9e31d8ae48d58385b35a0c4d89ae5,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-19 12:30:00 +0400, , pipe call restore_fown open failed signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9178,6b06c744db62806bf3da9df7e48491b0c3d3ef54,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-19 12:30:00 +0400, , pipe style tune pipe_info member align member comment empty line func change signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9179,f973fcabb9ce0ab6bc75d6f53b8aed9261ad4adb,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-19 12:30:00 +0400, , pipe shrink want_transport static function near file_desc_ops need long name signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9180,61e289f184e1a18b3559c0b8443347286a0ea8ff,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-19 12:30:00 +0400, , pipe reorder function checkpoint restore use fdtype_ops file_desc_ops intensively reorder pipe function allow make static drop additional declaration func change signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9181,f3c93470e1b2562f60655cd1e2bf0dcb7845c150,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-19 12:30:00 +0400, , pipe get rid dangling line dump_pipe signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9182,28cd2a7633b8126846eb6025e6726f6caf952aac,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-19 12:30:00 +0400, , pipe add missing void func argument signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9183,9981b6a6d3814fcd2d14086063a401b2d3605dce,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-19 12:30:00 +0400, , pipe eliminate parasite signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9184,ac52abd83e11dc4319498edc52d86f11d78e6cea,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-19 12:30:00 +0400, , pipe make pipes_with_data static need make xmalloc global process dumped signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9185,e6f6c9f1fbe8e87361b0e1c5a7a608cbc3827a9a,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-19 12:30:00 +0400, , pipe make dump_one_pipe use xemul done earlier entry contained amount byte pipe value calculated wrote entry image pipe data stored another img file happily split dump pde dump two call signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9186,8c54d8d932878ee007bede8146ffb7253fcb499d,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-19 12:30:00 +0400, , pipe add helper need fifo data dumping moment helper pushed compilation procedure easier review real used next patch signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9187,2738fae81686a12d48447cad68ef1b711bf5618b,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-19 12:30:00 +0400, , type add page_mask need pipe data dumping signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9188,6835e2ad983654cc66ac1f09910f8ef6ca9523c4,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-19 12:30:00 +0400, , pipe rename make dep point limit kernel side signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9189,afee2e0f367f84962adce0d4154cb2c6f1764527,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-19 12:30:00 +0400, , file print symbolic meaning file restoring status restoring state create create going dup restoring state receive signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9190,3eade0b6d52ddd03392b1018f6dd15a3a8e0b06e,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-04 21:09:00 +0400, , zdtm ipc_namespace make sure queues_max range value signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
9191,e15babbd960af164a122b57061b46afb1c12c99b,ndrey Vagin <avagin@openvz.org>, 2012-06-13 14:29:00 +0400, , restorer exit thread case error sys_exit take currect thread exit_group used take thread signed andrey vagin avagin openvz.org look good cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9192,e2ba4892cae6be0445a9852e13b3c8e4cad78518,ictor Konyashkin <vkonyashkin@parallels.com>, 2012-06-09 15:24:00 +0400, , zdtm address already use need increase port address already use need increase port problem occured socket_listen.c socket_aio.c try use address signed victor konyashkin vkonyashkin parallels.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
9193,49c857484c006a3c095806eb1528976e5b184ef8,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-09 12:17:00 +0400, , file need split file_desc_add declaration signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9194,96e5b7bbd33375e83436b443f30c29a59446267b,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-09 12:17:00 +0400, , file rename file_descs file_desc_hash hash file descriptor based signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9195,ad41b1e9c932ec0d1735876c39ede8e42c45fa7b,ndrey Vagin <avagin@openvz.org>, 2012-06-08 13:03:00 +0400, , zdtm fifo check read fifo descriptor restored create fifo two descriptor write data close descriptor suspend resume read data descriptor signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9196,542abe80a239cdef45ce477247c4a209872abfa8,ndrey Vagin <avagin@openvz.org>, 2012-06-08 12:32:00 +0400, , zdtm fifo write data fifo descriptor check signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9197,1177299b41eb944ddb5ac683b30967c2c45ab71e,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-05 18:36:00 +0400, , make libs prerequisite use explicitly fix problem link crtools usr lib librt.so could read symbol file wrong format collect2 returned exit status make crtools error make error signed cyrill gorcunov gorcunov openvz.org acked kinsbursky stanislav skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
9198,1f9acbabbb65d5bb78ecc08703f28a3f41ed9397,ndrey Vagin <avagin@openvz.org>, 2012-05-31 16:58:00 +0400, , syscall add __nr_getpgid __nr_getsid signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9199,24c98006ddbe05618b6640cc7116373cceece77f,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-01 15:11:00 +0400, , dump dump file params stack value dump_task_fs addition commit place missed fix signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9200,b6b9e8dc6d8f2a19bfaf2f5702e6424056eab8bb,yrill Gorcunov <gorcunov@openvz.org>, 2012-06-01 19:03:00 +0400, , zdtm cleanup file_fown test case add test flag recovery drop socket needed simplify test owner signumber remove polling avagin signed cyrill gorcunov gorcunov openvz.org signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9201,0eb0391ce04a0f9b79f7528557cb0e2c723223f6,ndrey Vagin <avagin@openvz.org>, 2012-06-01 16:14:00 +0400, , util control shot bug_on sigabrt may blocked restorer signed andrey vagin avagin openvz.org acked cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9202,afd9559d57b11ead4c7a694df91ee67841a06e45,insbursky Stanislav <skinsbursky@openvz.org>, 2012-05-31 15:39:00 +0400, , make fix blob dependency  make change directory message supressed  fixed apply conflict  crtools goal dependence fixed  wrong protobuf tmp.pb c.h inclusion removed dump.c without patch touch parasite.c lead rebuild whole project patch also introduces pie goal subsystem usefull subsystem apper allows build parallel becomes default goal allows skip deps inclusion empty zdtm test legacy goal signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
9203,dfdf54d96b0654e444d53f0bd39ab74035f133ba,ndrey Vagin <avagin@openvz.org>, 2012-05-31 14:50:00 +0400, , pstree allocate restore data tail pstree_item synchronize argument type value put i.e int int bool bool bool int signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9204,f7d0263c69919882c58f95d43974847ba193076f,ndrey Vagin <avagin@openvz.org>, 2012-05-31 14:50:00 +0400, , restore add fast path find parent pstree item taking account way dump save pstrees image pstree.img edited slow path executed signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9205,cf63c1d9e8c239d93c2e42409581c20817bf564c,ndrey Vagin <avagin@openvz.org>, 2012-05-31 14:50:00 +0400, , crtools link pstree_item tree describes process tree usefull dump task another pid namespace real pid got parasite previous version need update pid two place one pstree_item one child array process tree necessery restore sid pgid add fake task tree example sesion leader absent fix rollback action fix comment pavel emelyanov add macro bug signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9206,ced64e22c07ffbfe44321fc18763eb6461fce626,yrill Gorcunov <gorcunov@openvz.org>, 2012-05-30 21:06:00 +0400, , file mask o_async flag set signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9207,95899325618e8d39ab7fb7979e3febf898bcf76d,yrill Gorcunov <gorcunov@openvz.org>, 2012-05-31 11:38:00 +0400, , zdtm add sockets_dgram test case code test unix dgarm socket extracted previous sockets00 test case signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9208,96c3c7bea4fe20802d7e5c82dba711a360083ff1,yrill Gorcunov <gorcunov@openvz.org>, 2012-05-31 11:38:00 +0400, , zdtm add sockets_spair test case code test socketpair extracted previous sockets00 test case signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9209,7dad6fcfdfe75b0bcba79cbeabfdc1fe4206b414,yrill Gorcunov <gorcunov@openvz.org>, 2012-05-31 11:38:00 +0400, , zdtm cleanup sockets00 mix various type socket single test case case problem become harder fin kind socket failed removed test case addressed patch signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9210,eeabd3321956ff29a7deb44aa7e6f213389696ff,avel Emelyanov <xemul@parallels.com>, 2012-05-17 10:57:06 +0400, , show beautify fdinfos showing shifd type left print signed pavel emelyanov xemul parallels.com,,
9211,03b06a8b6557064bda47b53a259e35b750ecd536,avel Emelyanov <xemul@parallels.com>, 2012-05-17 10:56:29 +0400, , unix beautify unixsk image show output print get rid space number signed pavel emelyanov xemul parallels.com,,
9212,e4a41e8c48763078a891c9414954ec476f494e1b,insbursky Stanislav <skinsbursky@openvz.org>, 2012-05-29 18:33:00 +0400, , make prepare crtools build submake call reason patch phony goal depend phony target protobuf execute phony target prior main target build patch set add new goal dependence become default goal new goal deps preq introduced depends deps crtools global goal like zdtm test legacy depends signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
9213,c2e699982cc01f0488016eedf8c35cc52b8a9e3e,insbursky Stanislav <skinsbursky@openvz.org>, 2012-05-29 18:33:00 +0400, , make echo deps build signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
9214,4f9b66f074f16dbb81d4f387ba17640cd067fca9,insbursky Stanislav <skinsbursky@openvz.org>, 2012-05-28 15:24:00 +0400, , make specify deps implicitly instead using wildcard expression like let implicitely specify desired dependence file signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
9215,ba824193ecb861816ceeb4ca11c9da64a4e168a9,insbursky Stanislav <skinsbursky@openvz.org>, 2012-05-28 15:24:00 +0400, , make make phony target also .phony specified prior desired goal better one line goal instead one line per goal signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
9216,9f7b6189b928132bc68266c4aa4ad2144d73b28d,insbursky Stanislav <skinsbursky@openvz.org>, 2012-05-28 16:04:00 +0400, , make simplify obj blob dependence replace dance simple dependence rule deps objs signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
9217,424a4adb6ffda00f7f0079dcdc4f6bae66779771,yrill Gorcunov <gorcunov@openvz.org>, 2012-05-25 13:09:00 +0400, , socket inet use general machnism checkpoint restore use fdtype_ops facility inet socket  use bug_on socket attempted dumped several time signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9218,c26b68dce8a6d18131728255200a4757461b5a08,yrill Gorcunov <gorcunov@openvz.org>, 2012-05-25 13:09:00 +0400, , socket unix use general machnism checkpoint restore use fdtype_ops facility unix socket  bug_on added socket already dumped since never dump socket several time order restore remains lookup done via socket inode number signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9219,41195598cf90647657757edc58b47c2e21bd4cfd,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-05-29 20:11:00 +0400, , parasite remove excessive header deps parasite.h friend task complete part done i.e look like lot excessive deps fixed signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
9220,df7dd55e10ec921c2c2494ce09cd039288345fe8,insbursky Stanislav <skinsbursky@openvz.org>, 2012-05-29 18:33:00 +0400, , make highlight makefile.inc absence signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
9221,a72fd71e7f7a96f4bcb44fafc90f9b847b7d01a4,ictor Konyashkin <vkonyashkin@parallels.com>, 2012-05-29 18:07:00 +0400, , zdtm need increase buffer msgque.c avoid overflow need increase buffer msgque.c avoid overflow via memcpy mtext yet another test sysv5 msg signed victor konyashkin vkonyashkin parallels.com acked andrey vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
9222,fc8c66c629e748c2cd2b7fedb5654b54de048829,ictor Konyashkin <vkonyashkin@parallels.com>, 2012-05-25 17:57:00 +0400, , zdtm need add wno unused result option lib static makefile need add wno unused result option lib static makefile avoid error like msg.c error ignoring return value write declared attribute werror unused result signed victor konyashkin vkonyashkin parallels.com acked andrey vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
9223,66a7f1a3df6b3706fe609ab54733cf4313936de8,iktor Konyashkin <vkonyashkin@parallels.com>, 2012-05-29 17:46:00 +0400, , zdtm open o_creat second argument need argument mode argument must supplied o_creat specified flag otherwise cause compile error due werror specified signed viktor konyashkin vkonyashkin parallels.com acked andrew vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
9224,168b7ca7a2f483ab668ef364400465a7733a8192,ndrey Vagin <avagin@openvz.org>, 2012-05-28 18:40:00 +0400, , zdtm remove extra code file_fown testcase buggy signal delivered _before_ checkpoint restore thus check nothing fix test fails due bug fowners restore fix later signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9225,b026e59c4307a7f8b7d1972dd7b75751a8179305,ndrey Vagin <avagin@openvz.org>, 2012-05-28 18:40:00 +0400, , zdtm initialize shared memory fork otherwise memory initialized parent child parent may initialize child written useful data signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9226,ba61f94646292178f6215615dcb591ec33bd9e9a,ndrey Vagin <avagin@openvz.org>, 2012-05-28 18:40:00 +0400, , zdtm set sa_restart sigio file_fown otherwise waitpid return eintr test case fails signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9227,fa43c2f2cd0f35ffef2d213b0109e039c8824f7c,insbursky Stanislav <skinsbursky@openvz.org>, 2012-05-29 16:21:00 +0400, , parasite remove unused header signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
9228,c0d40c764a52c7eae254a2b527bd41f911e9edbf,insbursky Stanislav <skinsbursky@openvz.org>, 2012-05-29 16:21:00 +0400, , syscall remove unused header signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
9229,63000f5bb20e12ced2bc9662482775d163c97c5a,yrill Gorcunov <gorcunov@openvz.org>, 2012-05-28 15:56:00 +0400, , dump dump file params stack value otherwise see output like dumping path 1536412160 via self usr bin screen taken stack worse work root privilegues thus dumping _anything_ stack bad idea explicitly cleared stack data fd_desc_invalid log file entry like dumping path via self usr bin screen signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9230,9b2546576c3b7fe0d57098eda6f0f0e9999f1ed1,yrill Gorcunov <gorcunov@openvz.org>, 2012-05-25 20:09:00 +0400, , dump use switch dump_chrdev allow implement tty dumping future signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9231,301b2fe2ce48073d017c9a33649d3961fa8ae2cd,yrill Gorcunov <gorcunov@openvz.org>, 2012-05-25 15:43:00 +0400, , log open logc file o_trunc really confusing one use option see update top log file signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9232,eb12c976a38438a7a1b63bd0ed6479772696abcc,yrill Gorcunov <gorcunov@openvz.org>, 2012-05-23 17:03:00 +0400, , pipe add test pipe data restored without error eliminates warning well pipes.c function open_pipeâ pipes.c 252 error variable retâ set used werror unused set variable signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9233,fc4768f4a28663d22f2d0a9f276c02bbd01cf4e9,ndrey Vagin <avagin@openvz.org>, 2012-05-18 15:35:00 +0400, , header mark function inline fix warning error xxxxxxâ defined used signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9234,066ec066a0fbc498397709c918858a224a7a27ae,ndrey Vagin <avagin@openvz.org>, 2012-05-18 15:39:00 +0400, , crtools remove unused variable signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9235,7454ab1cd51a34ce04d16425be535bf0df624d26,ndrey Vagin <avagin@openvz.org>, 2012-05-18 15:35:00 +0400, , make remove wno unused want know warning signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9236,f1690ee0b5aaa0e95101a89eb294062e52e6e7b8,yrill Gorcunov <gorcunov@openvz.org>, 2012-05-12 19:47:00 +0400, , beautify include sockets.h make readable signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9237,a411c8f21cc47def989a051b9838cdbbc3c5e9da,ndrey Vagin <avagin@openvz.org>, 2012-05-15 17:51:00 +0400, , restore use uninitialized variable global variable initialized tried use signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9238,3b21f7276660a891b9276d8ec0c5dada861ee24d,avel Emelyanov <xemul@parallels.com>, 2012-05-13 08:30:06 +0400, , mount full parse proc mountinfo file proc_parse file turn strange pile homebrew scanf fgets strtok strchr etc combination like signed pavel emelyanov xemul parallels.com,,
9239,f98699427297875100d5ba633c7b4009e42ab334,avel Emelyanov <xemul@parallels.com>, 2012-05-13 03:41:56 +0400, , proc move proc string parse separate parse format scanf friendly simpler separate signed pavel emelyanov xemul parallels.com,,
9240,5e593e9b57229ff8bfb55cd034a28b9f47fef358,avel Emelyanov <xemul@parallels.com>, 2012-05-13 00:07:11 +0400, , proc sanitize mountinfo parsing make proc_mountinfo obtaned parse form single linked list much easier handle artificial limitation item ... signed pavel emelyanov xemul parallels.com,,
9241,f9d1f2b27544b369e6ef34f4d9dc592234e672f8,ndrey Vagin <avagin@openvz.org>, 2012-05-15 13:04:00 +0400, , utsns use pr_msg showing content otherwise show nothing without verbose option signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9242,8a1337641fd3f05a6e9ff9e25809280caa3a3103,ndrey Vagin <avagin@openvz.org>, 2012-05-15 13:04:00 +0400, , namespaces include namespaces.h sure declaration consistent signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9243,90d0a6a0defb94903b1f1bcc5c5f16b781b24c90,avel Emelyanov <xemul@parallels.com>, 2012-05-12 03:45:47 +0400, , mount collect mount root well parsing proc signed pavel emelyanov xemul parallels.com,,
9244,79da53846938351cac74cebbdc9d586346eae6a0,avel Emelyanov <xemul@parallels.com>, 2012-05-12 03:40:08 +0400, , mount rename proc_mountinfo mnt_root mountpoint stored path mountpoint root field previously named parent root signed pavel emelyanov xemul parallels.com,,
9245,db297a0f9713f69723b06b88dd36bde85e8933eb,avel Emelyanov <xemul@parallels.com>, 2012-05-12 03:30:10 +0400, , mnt preparation mountpoints dumping signed pavel emelyanov xemul parallels.com,,
9246,3d64f9d14073713bc925bea970bacbb7e31674b0,avel Emelyanov <xemul@parallels.com>, 2012-05-12 03:17:48 +0400, , crtools remove explicit fmt_fname_ macro put name right desc template array nobody individually signed pavel emelyanov xemul parallels.com,,
9247,21075911cc042a37f3522672a0840cec700239d2,avel Emelyanov <xemul@parallels.com>, 2012-05-12 03:10:19 +0400, , image shorted fdset template description introduce helper declare one tmpl entry one line signed pavel emelyanov xemul parallels.com,,
9248,5cfa8a6de1f9e69753dcc6b70fcd567dc7c8222f,avel Emelyanov <xemul@parallels.com>, 2012-05-12 02:34:22 +0400, , crtools remove unused flag arg parse_ns_string opts global flag assigned signed pavel emelyanov xemul parallels.com,,
9249,6fd82bf7027774599ad0fa125d1d33fd0c71d480,ndrey Vagin <avagin@openvz.org>, 2012-05-11 23:02:00 +0400, , zdtm.sh check pid valid test process alive signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9250,ef1c6035f10716b05a6fdb99f9f45859cf8a5ac4,ndrey Vagin <avagin@openvz.org>, 2012-05-11 23:02:00 +0400, , zdtm show wrong path log file showed old pathes dump log root crtools test dump inotify00 15673 dump.log restore log root crtools test dump inotify00 15673 restore.log output file root crtools test zdtm live static utsname.out make test error signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9251,0196d30a529b02fd40c0153a2b36987d288dca96,yrill Gorcunov <gorcunov@openvz.org>, 2012-05-05 19:20:00 +0400, , eventpoll inotify fail watchees absence case eventpoll inotify created watchee added fail signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9252,a67d0cb25a5649494d7c13efbbf13e015fc637a7,ndrey Vagin <avagin@openvz.org>, 2012-05-11 18:12:00 +0400, , zdtm add gitignore signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9253,9fc24621d58c2cc4b6f7d90c9a9771f5c262c0be,ndrey Vagin <avagin@openvz.org>, 2012-05-11 18:01:00 +0400, , zdtm delete unused file signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9254,62ee701c8917bdd7e2f7c167cff1cc530e46e644,yrill Gorcunov <gorcunov@openvz.org>, 2012-05-10 21:07:00 +0400, , use proc pid smaps vma parsing allows detect nonlinear mapping signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9255,32e07745cc89d05a2ada33612f294d87d03028a1,yrill Gorcunov <gorcunov@openvz.org>, 2012-05-11 14:24:00 +0400, , socket print error message unexpected socket state playing socket dumping found case exit without descriptive error message fix signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9256,f53888480ee93a8ab776361b10cbf20ab2dc199c,ndrey Vagin <avagin@openvz.org>, 2012-05-11 17:37:00 +0400, , zdtm open log file o_append paranoiac signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9257,33051cd3b3ae6f94b195c714ce48e9b41b503e25,avel Emelyanov <xemul@parallels.com>, 2012-05-05 03:11:56 +0400, , sockopt add basic option dump restore snd rcv bufs timeouts example others adder sequentially signed pavel emelyanov xemul parallels.com,,
9258,7f82ae1133cba7148779197b495fad385269c447,avel Emelyanov <xemul@parallels.com>, 2012-05-05 02:11:14 +0400, , socket prepare dumping restoring showing socket option sitting sol_socket level common different socket family handled generic code signed pavel emelyanov xemul parallels.com,,
9259,7b7e86c9ca1bfd112515c5eb2d4af50411aab442,yrill Gorcunov <gorcunov@openvz.org>, 2012-05-05 19:20:00 +0400, , file print error fcntl failed signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9260,112b2fe524859449ce293e5ed14c54da70efa65a,yrill Gorcunov <gorcunov@openvz.org>, 2012-05-04 16:31:00 +0400, , zdtm extend eventfs00 deferred eventpoll test signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9261,649baf8ebebdc5460ddd5990f591db1ef8f009cd,yrill Gorcunov <gorcunov@openvz.org>, 2012-05-04 16:31:00 +0400, , file handle eventpoll file deferred since event polling depends file opened split main file list two parst event poll file file thus defer creation eventpoll file prepare_fds signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9262,10b46351d122fb83b19221e492ddf9601a92b1a6,ndrey Vagin <avagin@openvz.org>, 2012-05-02 14:42:00 +0400, , log fix log message look better state signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9263,f0decea728d5bc351e820e77429e427f16f4933c,ndrey Vagin <avagin@openvz.org>, 2012-05-02 14:42:00 +0400, , log remove pid message log message may splitted pid signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9264,fc7bedc50ab4ca08b1c96764a5bd1acbc1889fa6,ndrey Vagin <avagin@openvz.org>, 2012-05-02 14:42:00 +0400, , crtools make able split message pid option log pid set process log file otherwise pid added log message message bigger one page minus byte pid signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9265,ad7c18a1d43e4951fbf6860aea3af2004fe43e80,ndrey Vagin <avagin@openvz.org>, 2012-05-02 14:42:00 +0400, , crtools export opts signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9266,fc830ddca9c7e8a77f85de06553dc162dfe4b219,avel Emelyanov <xemul@parallels.com>, 2012-05-04 15:57:49 +0400, , anoninode report error dumping unknown anon file fall check let explicitly better code understanding signed pavel emelyanov xemul parallels.com,,
9267,a604c63cdb4479e6ba7c3a8666e449ccdf6d478a,avel Emelyanov <xemul@parallels.com>, 2012-05-04 15:41:05 +0400, , restore move type file_desc file_desc_ops save space dynamic file_desc make file_desc_ops look closer fdinfo_ops used dump signed pavel emelyanov xemul parallels.com,,
9268,6a55c1c596a2ef83fdcf6a2dd5066c01b6b1c4b8,avel Emelyanov <xemul@parallels.com>, 2012-05-04 15:34:55 +0400, , dump move per type dump opts respective file functional change code move todo need write personal make_gen_id implementation special file device const effectively need merge dump ops restore one file_desc_ops signed pavel emelyanov xemul parallels.com,,
9269,2cea6414e65270b6d3cba89471622e94cdff011a,avel Emelyanov <xemul@parallels.com>, 2012-05-04 15:28:28 +0400, , fdpsrms remove unused type field signed pavel emelyanov xemul parallels.com,,
9270,f509fcf03f665182900058179c74f1f31f4bfced,avel Emelyanov <xemul@parallels.com>, 2012-05-04 15:25:25 +0400, , dump introduce file dumping operation fds dump look similar reimplement via indirect call signed pavel emelyanov xemul parallels.com,,
9271,37a3ed86f4e0cff3e6ca8ef25d716140f7dd2bc3,avel Emelyanov <xemul@parallels.com>, 2012-05-04 15:06:20 +0400, , dump split dumping reg file pipe reg file obtained open syscall restore pipe checked belong pipefs fifo supported yet signed pavel emelyanov xemul parallels.com,,
9272,50ff1438b0bfc9434712ef944cfe6b4401e60896,avel Emelyanov <xemul@parallels.com>, 2012-05-04 14:22:18 +0400, , anon factor checking anon inode link type funny kernel report well inotofy without ... signed pavel emelyanov xemul parallels.com,,
9273,6cebc484204661a6e7cdb1bc2be5c18435c07dde,yrill Gorcunov <gorcunov@openvz.org>, 2012-05-04 13:38:00 +0400, , zdtm add inotify00 test case signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9274,bff52ba95277a1db6cfb338b5b4280f67204f061,yrill Gorcunov <gorcunov@openvz.org>, 2012-05-04 13:38:00 +0400, , inotify add checkpoint restore  open_mount cleaned byte stream hex conversion remains untouched since strtol flipping number manner signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9275,ed59bf001ba9fdd82229afdfa99f8bcbdcc4d821,yrill Gorcunov <gorcunov@openvz.org>, 2012-05-04 13:38:00 +0400, , add mount.c file mount helper function moment open_mnt_root needed inotify restore signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9276,9ea069d2c9f9f67522926c753cf9c976d0cbac12,yrill Gorcunov <gorcunov@openvz.org>, 2012-05-04 13:38:00 +0400, , proc add parse_mountinfo helper restore inotify need know mount point device number helper par proc pid mountinfo file signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9277,3399650a9c0a74cdd78a89f6332d07e56e56de5e,yrill Gorcunov <gorcunov@openvz.org>, 2012-05-04 13:38:00 +0400, , syscall add need inotify restore signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9278,5028f71c664f78aff37b2b04fea78adf81a3de34,yrill Gorcunov <gorcunov@openvz.org>, 2012-05-04 13:38:00 +0400, , zdtm extend eventfs test epolls signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9279,b38777dff41e508c02e629081d863c2ca58fe40d,yrill Gorcunov <gorcunov@openvz.org>, 2012-05-04 13:38:00 +0400, , eventpoll add checkpoint restore  move everything eventpoll use rst_file_params signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9280,580d3b02619b0f9b29794f326137871d455c4ea6,yrill Gorcunov <gorcunov@openvz.org>, 2012-05-04 13:38:00 +0400, , zdtm add eventfs00 test case signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9281,889795da5dc73dfa898d4b2d1cfd82aeefd8fc48,yrill Gorcunov <gorcunov@openvz.org>, 2012-05-04 13:38:00 +0400, , eventfd add checkpoint restore support  pas initial counter value eventfd call pas flag since obtained fcntl must restored way restore fail use rst_file_params flag owner restore use eventfd instead eventfs move show funcs eventfd.c signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9282,49166b206babadcd3cd439848554bdbe75761c68,yrill Gorcunov <gorcunov@openvz.org>, 2012-05-04 13:38:00 +0400, , util add is_anon_inode helper need eventpoll eventfd inotify signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9283,26a53837f9481cad84cb2dc5f54c341fbcc1757c,avel Emelyanov <xemul@parallels.com>, 2012-05-03 18:07:01 +0400, , shmem move shmem dumping code shmem.c also code move plus two change shmems renamed dump_shmems shmem area size shared restorer one page signed pavel emelyanov xemul parallels.com,,
9284,bc75b0f253957c32bf64029ef182d142d0779e60,avel Emelyanov <xemul@parallels.com>, 2012-05-03 18:01:05 +0400, , shmem move shmem restoring code shmem.c change code move rename shmems variable signed pavel emelyanov xemul parallels.com,,
9285,fa8a928e9f62967b9d033f1de6576943f49ede0f,avel Emelyanov <xemul@parallels.com>, 2012-05-03 17:36:00 +0400, , pipe move dumping code pipes.c codemove real changed signed pavel emelyanov xemul parallels.com,,
9286,3dc0088be3c160c0a2532f445c0021bb12749d07,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-16 20:36:00 +0400, , socket print ino format signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9287,635a1247fc7ad90638c6078738cd5e4c49264085,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-16 20:36:00 +0400, , socket print peer number show_one_unix also convert ino format signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9288,05421b2c5a690632953b3ebe66e88da86affb9a8,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-16 20:36:00 +0400, , doc add option signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9289,52242be32cf98267529645a55b36309a55e6e5c8,avel Emelyanov <xemul@parallels.com>, 2012-05-03 16:10:04 +0400, , dump stop using mincore switch proc pid pagemap use mincore check page take image anonymour present swapped file present cow mincore syscall helpful detect swap detect non present page pagecache plus know anything cow ing filemaps andrey morton suggested use pagemap file proc lacked importaint stuff cow filemap bit switch using mincore usage shared memory still _that_ case correct signed pavel emelyanov xemul parallels.com,,
9290,cee5e8179afe270c6a79bb23b37bdd1d92bd50cb,avel Emelyanov <xemul@parallels.com>, 2012-04-27 04:53:17 +0400, , dump collect stats page dumped dumped page taken image skipped page sitting ram left file shared page total total amount page fit vmarea signed pavel emelyanov xemul parallels.com,,
9291,4ec76b285f880e3afd7eba0665a6f065d648772f,avel Emelyanov <xemul@parallels.com>, 2012-05-03 15:21:37 +0400, , tcp add code check ing tcp repair support signed pavel emelyanov xemul parallels.com,,
9292,1dc8527deafef0ad169a9202d771ab855bc3a794,avel Emelyanov <xemul@parallels.com>, 2012-04-29 09:23:12 +0400, , help reformat help text split dump restore option show one structure former list add tcp established one signed pavel emelyanov xemul parallels.com,,
9293,6b2a0205c73bc4d3d0b9e9d3c2d35659d6cbfb90,avel Emelyanov <xemul@parallels.com>, 2012-04-29 09:08:11 +0400, , tcp fix queue content restore wrong descriptor passed read_img_buf signed pavel emelyanov xemul parallels.com,,
9294,08788c835d668f3ae73e45373ca5a1075178937a,avel Emelyanov <xemul@parallels.com>, 2012-04-29 09:06:03 +0400, , tcp show queue content given signed pavel emelyanov xemul parallels.com,,
9295,ef2bd77ebda12fbbfd11a9c15de6eee2c2a3f20b,avel Emelyanov <xemul@parallels.com>, 2012-04-29 09:05:21 +0400, , show beautify output data dump calculate best width address print signed pavel emelyanov xemul parallels.com,,
9296,f3e8977c733be32849713d3243184495e66b8d1f,ndrey Vagin <avagin@openvz.org>, 2012-05-02 15:22:00 +0400, , proc add static buffer prevent segv function use buffer string function function require string contains end patch guarantee seen segmentation fault simplify code remove assignment redundant size object file become bigger signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9297,4f31e13c928c0fd2073b495f179ac5f1fd395d63,yrill Gorcunov <gorcunov@openvz.org>, 2012-05-02 20:05:00 +0400, , test app emu add helloworld java test signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9298,4debf589f6efa300d1ce1ac355c5e2fd798c319f,avel Emelyanov <xemul@parallels.com>, 2012-04-28 20:37:54 +0400, , tcp automate tcp stream test basic need work one note close arg crtools bash leaf fds open laucnhing progams restore critical one busy iterating possibel fds closing want thing signed pavel emelyanov xemul parallels.com,,
9299,b2fced060150514e476407d59c3c017f30c73423,avel Emelyanov <xemul@parallels.com>, 2012-04-28 17:47:48 +0400, , tcp basic test tcp conn manual mode moment need automate later signed pavel emelyanov xemul parallels.com,,
9300,f9a8673d52edad308e0951f13899257236b593cb,avel Emelyanov <xemul@parallels.com>, 2012-04-28 17:46:12 +0400, , tcp dump restore support doe tcp repair engine kernel dump connection locked netfilter socket put repair state internals dumped restore create socket put repair dress unlock connection end signed pavel emelyanov xemul parallels.com,,
9301,675b4698ceb3b4a1c25457213dd13e48a0bb2989,avel Emelyanov <xemul@parallels.com>, 2012-04-28 17:38:46 +0400, , tcp put connection locking management code dump finished error unlock locked previously connection restoring collect connctions unlock end signed pavel emelyanov xemul parallels.com,,
9302,a53aa45be0fe2d2f8777e089bce9ff4091e3e9e2,avel Emelyanov <xemul@parallels.com>, 2012-04-28 17:29:14 +0400, , tcp initial image description introduce image file tcp info entry show method signed pavel emelyanov xemul parallels.com,,
9303,64c64e4f2c8886b00ca7aaf9a630928e305f8bbf,avel Emelyanov <xemul@parallels.com>, 2012-04-28 17:21:32 +0400, , net add code locking tcp connection netfilter dump restore tcp conn keep connection blocked since socket exists kernel time packet peer result rst thus add drop rule every connection repair later support container extended stop whole networking instead cherry peeking connection doe system iptables ... prefer using libnetfilter devel sometime future signed pavel emelyanov xemul parallels.com,,
9304,051b0a1f02baeac1d704d43818e13dc76a4b9c00,avel Emelyanov <xemul@parallels.com>, 2012-04-28 17:15:12 +0400, , tcp prepare inet dumping restoring tcp connection first make crtools dump restore established tcp socket specify tcp established option inform crtools know dump netfilter rule blocking dumped connection guarantee restore netfilter block still  else patch doe simple collect establised socket call dump restore tcp function empty appropriate signed pavel emelyanov xemul parallels.com,,
9305,a915a4622de31898322b96961d2f7ec62fb8a20a,avel Emelyanov <xemul@parallels.com>, 2012-04-28 16:47:30 +0400, , inet move inet cpt rst structs header signed pavel emelyanov xemul parallels.com,,
9306,65e48c41b13db7c7d90404abece378440382d201,avel Emelyanov <xemul@parallels.com>, 2012-04-28 16:42:50 +0400, , inet introduce helper binding connecting inet socket restore codemove signed pavel emelyanov xemul parallels.com,,
9307,92a088a04c891e64324c46dc1840bd72e7d31893,avel Emelyanov <xemul@parallels.com>, 2012-04-28 16:39:28 +0400, , file restore fdflags proper reopen_fd_as original closed signed pavel emelyanov xemul parallels.com,,
9308,2d636abe9ad5d61d9f15e2c45b61c2af7f061f06,avel Emelyanov <xemul@parallels.com>, 2012-04-28 16:35:40 +0400, , gitignore add syscall generated file signed pavel emelyanov xemul parallels.com,,
9309,52cb8d43b9a0df23b3f953631833be16274935b6,avel Emelyanov <xemul@parallels.com>, 2012-04-26 15:04:40 +0400, , move unix socket code separate file funny git think renamed sockets.c file unix.c one fixed little bit signed pavel emelyanov xemul parallels.com,,
9310,709bbc7f418e4d77efd944218d7cacf5dc9ef6c4,avel Emelyanov <xemul@parallels.com>, 2012-04-26 14:51:21 +0400, , opencode sk_hash_lookup fns simpler unix socket code move signed pavel emelyanov xemul parallels.com,,
9311,be6630bf27e45b5fcb4642df84598249c9350945,avel Emelyanov <xemul@parallels.com>, 2012-04-26 14:48:58 +0400, , opencode sk_hash_link simpler unix socket code move signed pavel emelyanov xemul parallels.com,,
9312,518361dcaac691e2c55a960ffd81eb06e300f560,avel Emelyanov <xemul@parallels.com>, 2012-04-26 14:30:42 +0400, , move inet socket code separate file signed pavel emelyanov xemul parallels.com,,
9313,8cd64c5ae7e9d0db27b560475bedca8e2c7de2e9,avel Emelyanov <xemul@parallels.com>, 2012-04-26 14:20:22 +0400, , unix cleanup ext socket check rename fix indentation signed pavel emelyanov xemul parallels.com,,
9314,fbcb43bd4b64f95230e8a1cb5d4ba70c1a917f69,avel Emelyanov <xemul@parallels.com>, 2012-04-26 14:19:19 +0400, , unix fix external socket dumping collect unix socket list dumping check whether missed something early restore time already late roll back plus fix check external stream socket signed pavel emelyanov xemul parallels.com,,
9315,3b0a8e7c8113ba6c154a004483e326d6facf47c1,avel Emelyanov <xemul@parallels.com>, 2012-04-26 14:03:49 +0400, , file factor fowners flag restore common opened fix fowner flag make cuntion obtain open need restore flag though thought need yet another abstraction fdinfo type file signed pavel emelyanov xemul parallels.com,,
9316,1f94837afb10447aa57f6b7f0deba4d738012661,avel Emelyanov <xemul@parallels.com>, 2012-04-26 13:55:41 +0400, , sanitize socket fowner flag restore conn job miss fowner restoratio place toss code easier next patching signed pavel emelyanov xemul parallels.com,,
9317,bd6e8df419627562f6cff01846c9532acfc83b91,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-23 15:26:41 +0400, , restorer drop kernel patch titled prctl simplify pr_set_mm code data assignment linux next allows setup code data address without requirement underlied vma revert commit make code simplier signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9318,06986dfe5016a87de070e2ef4d9d0bd6095bc9dd,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-25 22:28:00 +0400, , proc fix parsing stack string kernel 3.4 rc4 two format stack stack stack thread adopt parsing routine signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9319,6670d294fb416b3956bf5966d3125c6eb2992433,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-25 21:59:00 +0400, , prctl update pr_get_tid_addr definition reflect change kernel v3.4 rc4 update pr_get_tid_addr rename named kernel xemul fix futex test broken 3.4 rebase signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9320,9a2d2a69909ceba0de0d56c382ece451c5354047,avel Emelyanov <xemul@parallels.com>, 2012-04-25 21:36:43 +0400, , fown fix compilation older distros fc12 debug fown_ex stuff libc add missing declaration signed pavel emelyanov xemul parallels.com,,
9321,59a2f13e7e72ed259a8590c5417baeca1d1b0ae9,avel Emelyanov <xemul@parallels.com>, 2012-04-25 21:34:05 +0400, , helper si_code event extraction signed pavel emelyanov xemul parallels.com,,
9322,b749f4b1c3c336d8a493ba3ee2a8d64259819f85,avel Emelyanov <xemul@parallels.com>, 2012-04-25 21:33:09 +0400, , ptrace fix use new final seize functionality since 3.4 seize devel flag removed stop event renamed great way si_code parsed fixed signed pavel emelyanov xemul parallels.com,,
9323,32dc4c57022c025dfdb872f66eabdf5b6a9e1a79,avel Emelyanov <xemul@parallels.com>, 2012-04-25 21:32:16 +0400, , zdtm fix xids00 test compilation older distrol getsid getpig require _gnu_source libc signed pavel emelyanov xemul parallels.com,,
9324,bef7092834c8a4a5318c09613447d2bc81d27301,onstantin Khlebnikov <khlebnikov@openvz.org>, 2012-04-24 15:20:24 +0400, , replace printf format printf standard flag adding prefix hexadecimal integer mod git grep mod xargs sed mod signed konstantin khlebnikov khlebnikov openvz.org signed pavel emelyanov xemul parallels.com,,
9325,f737cb441fe7a6d144d42dd595bb59a2875f338c,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-23 14:12:00 +0400, , socket move packet queue handling queue.h easier read xemul silent change buffer read patch static buffer data thing xrealloc signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9326,4c4a47a1a9415380ec8c0b757ba1ab6a30f980c6,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-21 02:58:00 +0400, , zdtm add socket6_udp test signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9327,94657b6be12fab10731fecc3580b601abfd14a6c,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-21 02:56:00 +0400, , socket add support ipv6 socket signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9328,cd29ec489b2d1072a9b9e0bda4ded48eed154684,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-21 02:56:00 +0400, , socket use socket family show_inetsk needed ipv6 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9329,702ab17e16b7e9bbd6f19f4367171286ff02ff33,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-21 02:56:00 +0400, , socket show uncollected socket ino hex form collected socket signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9330,9634153dfccb4d1dc55bf9469f6bddd815008047,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-21 02:56:00 +0400, , socket align output collected unix inet socket debug printing signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9331,84cc188b244660a7871f9b891f852a15966e876c,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-21 02:56:00 +0400, , socket use socket family inet_ntop need ipv6 signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9332,7a0f2389e70e9a83d5434ef231ab10c5f129c9b4,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-18 18:46:00 +0400, , make split generation .bin .bin.o two rule allows detailed control file generated might extended future signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9333,c7093a0dda548729f2ec34a7b5463cbb2c329f30,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-18 18:46:00 +0400, , make simplify makefile.pie need duplicate variable pie.lds.s signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9334,145525167c5efefaaf1f1a7a68404b5c0ec5b0ae,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-18 18:46:00 +0400, , make fix typo fpie actually problem moment since asm file simple code work even without fpie passed better fix anyaway signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9335,19c1de828b7b980239028400cee33475268ffdac,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-19 11:48:00 +0400, , socket restore unconnected dgram socket case dgram socket peer connected back try resolve peer name security reason happens option passed checkpoint restore time particular needed program use dgram socket send message dev log signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9336,fd85b194ab1172e29bc718c4c4b57eee270ce141,avel Emelyanov <xemul@parallels.com>, 2012-04-19 01:14:00 +0400, , dump init mmap file unused make show command show trash signed pavel emelyanov xemul parallels.com,,
9337,2ea781a9ea396694f6b947dbecb08b95986ce683,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-18 18:10:12 +0400, , syscalls complete redesign early day using syscalls together debug compiler option always produce relative address memory variable used parasite restorer blob thus came unnoticed something worng syscalls declaration use basically syscalls wrapper inline assembly code form static long syscall2 int long arg0 long arg1  long ret asm volatile movl eax movq rdi movq rsi syscall movq rax ret int arg0 arg1 rax rdi rsi memory return ret  every argument treated plain long even call sematics implies memory address passed integer direct value transferred via general purpose register mentioned caused problem debug option specified compile time compiler try optimize addressing generates code always compute situation changed one building crtools optimization enabled compiler find argument rather plain long number might pas direct address variable instead generating relative address function declaration pointer cope mov used course wrong fix syscalls declaration generated syscall.def file function argument passed conform x86 abi shrink amount source code needed declare syscalls open way use optimization signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9338,88f7ae0186ca9b0431a52eed5be2096a8ab203dc,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-18 15:44:00 +0400, , parasite move bootstrap code parasite head x86 64.s inline assembly convenient couple instruction used grows better move wrapper code write plain assembly need precise control bootstrap code signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9339,5fe6f90b19161d4cb315a5b6761a314be009331b,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-18 15:44:00 +0400, , make add makefile.pie binary blob generate since blob file generated different way compare plain compiling use regular file add makefile.pie target increase readability general makefile makefile.pie signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9340,4a2a290137227181b4afd31cfbf9dc51c8258117,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-18 15:44:00 +0400, , make generate offset linked file instead generating offset early compiled object file one day offset obtained might changed linkage stage better get final stage object file involved linked complete binary blob happened early stage indeed using single file per parasite restorer present couple file involved future need safe approach also note symbol exported prefixed __export_ easier approach putting symbol separate section requires way effort handle main reason two file elf object binary blob get mapping symbol definition position binary target exported symbol name address obtained object file used offset binary target signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9341,662bfd5fbc6279faaa9a898e5f08332802b6894c,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-18 15:44:00 +0400, , make sanitize pie.lds.s build one section reflects really runtime generated parasite restorer blob signle section named .crblob signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9342,e2f745b9206e7606f98697ee49716049ae6414d4,avel Emelyanov <xemul@parallels.com>, 2012-04-18 16:27:46 +0400, , file simplify restore read fdinfo image time restore use collected pstree_entry instance signed pavel emelyanov xemul parallels.com,,
9343,a72d8586524a96ff8f5eb4c9e4d6dfc3e7e6d049,avel Emelyanov <xemul@parallels.com>, 2012-04-18 16:24:08 +0400, , file collect fdinfo per pstree_item list later able restore without reading fdinfo file signed pavel emelyanov xemul parallels.com,,
9344,0e57ce29be276968c3b50b9c4686b50dd0973b85,avel Emelyanov <xemul@parallels.com>, 2012-04-18 16:03:14 +0400, , file put fdinfo entry signed pavel emelyanov xemul parallels.com,,
9345,b96dd2c400041a66b832a8c5fab266e9057746e8,avel Emelyanov <xemul@parallels.com>, 2012-04-18 15:59:21 +0400, , file named constant pool size signed pavel emelyanov xemul parallels.com,,
9346,04800b6ed1a584597e61a6aad529ce515e34aac2,avel Emelyanov <xemul@parallels.com>, 2012-04-18 15:46:04 +0400, , file rename list desc_list signed pavel emelyanov xemul parallels.com,,
9347,9829dbfdeb8320d0ef6dbbc6cf98cc1432c3b87c,avel Emelyanov <xemul@parallels.com>, 2012-04-18 15:42:26 +0400, , rst add abstract rst_info pstree_item plan put collected resource avoid seeking image signed pavel emelyanov xemul parallels.com,,
9348,781201b7a5e5781c01ed6715d2b95cad42edd51f,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-18 01:55:00 +0400, , syscalls change sys_mincore sys_mprotect sys_arch_prctl declaration follow convention declared kernel signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9349,f4513c0e5243eb72fac1955998d28d3ced0fc7d2,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-18 01:55:00 +0400, , parasite change null sys_mmap call first argument void pointer signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9350,b39a92928207c67ff91152df066b7170769bcec1,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-18 01:55:00 +0400, , syscalls hide sigsetsize inside syscall brings hardness syscall trasition asm code pas constant caller signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9351,95b5c41a06668c43575c8fb85ed213fb91eeb747,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-18 01:55:00 +0400, , syscalls move type definition needed syscalls syscall types.h need syscalls design transition signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9352,0be26d2b97a60f70fcb83155818b6e82009817fb,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-18 01:55:00 +0400, , parasite drop resundant symbol signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9353,bc82c90fe69321c98f282ac4c1d6784a9441d72c,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-18 01:55:00 +0400, , make use fpie instead fpic since generating blob execution better use fpie serf thing signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9354,6764c15313ebe2a6bd6f1264077eb49f003dab30,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-18 01:55:00 +0400, , make squash parasite.lds.s restorer.lds.s pie.lds.s identical need carry two copy signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9355,5d03b52fd32836ebfbb35eb856b67c0d384b0d6a,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-17 11:41:00 +0400, , proc_parse fix task name parsing task name may include space scanning format fail particular dumping rsyslogd fails since thread name main reg fix signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9356,0ff0943eb485ec04ba14c5c9ada76acd5bc2ee01,onstantin Khlebnikov <khlebnikov@openvz.org>, 2012-04-16 13:18:00 +0400, , drop sys user.h fix page_size declaration system page_size declared sysconf _sc_pagesize sys user.h non constant expression used type declaration break compilation non obvious error message parasite syscall.o file included parasite syscall.c include parasite.h error variably modified fdsâ file scope crtools anything sys user.h drop usage signed konstantin khlebnikov khlebnikov openvz.org signed pavel emelyanov xemul parallels.com,,
9357,aec30b34dba69c74c55d04ef0f60e38f00a3b6eb,avel Emelyanov <xemul@parallels.com>, 2012-04-16 14:23:05 +0400, , crtools add long option equip short option respective long one signed pavel emelyanov xemul parallels.com,,
9358,ed7586a7add1b19f7d1a3f9b0006ddec43ce3cf4,avel Emelyanov <xemul@parallels.com>, 2012-04-16 14:14:41 +0400, , crtools rewrite option parsing via avoids two duplicate line signed pavel emelyanov xemul parallels.com,,
9359,90ae972b9ab5d3047070b192414b2781cf28a537,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-12 19:50:00 +0400, , file sanitize message restoring message got non informative change restoring since function doe signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9360,6e7c9ea84de7b836c7f7e0b0875fc6001bffcce5,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-12 19:50:00 +0400, , util extend loggin engine print file line invoke point unable see exactly failed patch output human readable error util.c already use called files.c 359 ideally need full backtrace different task signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9361,231db3f80d4cfb9cb1120dd66da56dc0a8a7446b,insbursky Stanislav <skinsbursky@openvz.org>, 2012-04-13 19:44:00 +0400, , output add hex print manually signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
9362,35eedb5f1ffc260a5d2b6782a9b2b0fbfd7e3857,insbursky Stanislav <skinsbursky@openvz.org>, 2012-04-13 19:44:00 +0400, , output add hex print using sed command executed several time sed pr_ 10x signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
9363,62094fa851bcc736ce9aa28c5b8c13938cb4458c,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-14 12:13:00 +0400, , socket drop one line alignment block make sense multiline case signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9364,090513d5fd95c4a4169be36847a45a1476106849,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-13 14:34:00 +0400, , restorer make sure protection code data area fit kernel requirement set code data address kernel expects correspond vmas predefined protection task might dropped mprotected vmas moment checkpoint setup fake vmas call prctl munmap immediately signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9365,7657c34ab72b5913cbf56f9f250828547f97a776,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-13 19:06:35 +0400, , restore temporary comment exit sid pgid mismatch util kernel support xemul mysql runaway pgid sid restore gracefully exiting api byt mysql seem care pgid sid change restore ignore signed pavel emelyanov xemul parallels.com,,
9366,1708c747d195954fe70178a74e948982e89f0fea,avel Emelyanov <xemul@parallels.com>, 2012-04-13 18:02:50 +0400, , magic move one tab right line constant signed pavel emelyanov xemul parallels.com,,
9367,6b391522df8f94a78eedb86f791841430d0676e8,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-13 16:53:00 +0400, , socket print socket ino peer format ino peer printed get rid print signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9368,fb27ed4e68b01cea032380980404700c9bffeada,avel Emelyanov <xemul@parallels.com>, 2012-04-13 17:57:35 +0400, , zdtm test testing completely unlinked file includes existing test new one checking unlinked hardlinks handled properly signed pavel emelyanov xemul parallels.com,,
9369,a1ccfb9297397ea19d6740033bf49500005542f8,avel Emelyanov <xemul@parallels.com>, 2012-04-13 17:54:36 +0400, , file support dumping restoring completely unlinked file completely unlinked file one n_link count zero file allow read content carry order dump thing introduce path remap technology reg file remapping entry dumped describes restore stage opening regfile path path linked name open unlinked completely unlinked file remap path would path ghost file i.e file created time restore removed completely end partially unlinked file i.e n_link path see someone accessible handled another way signed pavel emelyanov xemul parallels.com,,
9370,14451ed3cefd766e4dfa398628dd3a97f1f9d7cb,avel Emelyanov <xemul@parallels.com>, 2012-04-13 17:52:35 +0400, , util add copying file one another required dump completely unlinked file signed pavel emelyanov xemul parallels.com,,
9371,09d959807458a27c243d041ec1d333ffe0445200,avel Emelyanov <xemul@parallels.com>, 2012-04-13 10:42:30 +0400, , sock add udp lite socket support trivial copy paste piece udp dumping restoring code zdtm test also compy _udp test respecitve change reuired httpd one udplite socket signed pavel emelyanov xemul parallels.com,,
9372,b9104ebc9731e33e8c7780155e22624f8742dc42,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-12 22:44:00 +0400, , socket fix potential null dereference case unix socket found call container_of signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9373,81c72ea640a395409f65b647efc64a861b21bef1,avel Emelyanov <xemul@parallels.com>, 2012-04-12 15:46:57 +0400, , restore remove unused struct shmem_id variable likely left andrey shmem rework signed pavel emelyanov xemul parallels.com,,
9374,0e51036d162d47ee084fe8be910c45ca7e982a95,avel Emelyanov <xemul@parallels.com>, 2012-04-12 15:33:09 +0400, , show move extern print_data declaration sockets.c header signed pavel emelyanov xemul parallels.com,,
9375,c96b2017007c9079b1bf5e59010f5fd7953c1479,avel Emelyanov <xemul@parallels.com>, 2012-04-12 15:32:16 +0400, , socket mark open_unix_sk static signed pavel emelyanov xemul parallels.com,,
9376,ccdca9e3d1fae1f2ae2ed76ab3fa044e526ccc6a,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-12 15:22:06 +0400, , dump add missing new line otherwise output look like dumping core pid 16953  dumping fpu register ... obtainting personality ... obtainting task auvx ... dumping path via self home crtools test legacy test inotify dumping header ... signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9377,f379e2ccf5f2aa11a92f060b5540eb1f5b86b68b,avel Emelyanov <xemul@parallels.com>, 2012-04-12 15:20:15 +0400, , test add tar bzip2 testsuite generate pseudorandom tree file run tar cjf create referenced tarball run background wait checkpoint restore compare two tarballs differ signed pavel emelyanov xemul parallels.com,,
9378,794d3fba40df9342d420b426ed481428d8404cb1,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-12 13:45:00 +0400, , zdtm extend file_own test pipe end signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9379,2d19a8750eb3389fc4296e750843424d10e2f2fa,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-12 14:29:00 +0400, , pipe set fowners pipe end signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9380,6177c92bacc3498245aea672557c8b79ef6722fa,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-12 13:45:00 +0400, , pipe drop unused find_pipe int signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9381,1a1a1861dd909ad6bc1770685dd09c43c42d5efd,avel Emelyanov <xemul@parallels.com>, 2012-04-12 13:33:24 +0400, , test add new real life test suit intention put test check real apps work initially test make work test basic sleep wait make fork everybody syntetic file quite big though extend use signed pavel emelyanov xemul parallels.com,,
9382,956d28bb65b9d1a5bfec55a8d2ea9ba929793043,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-10 22:54:00 +0400, , zdtm extend file_own test socket signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9383,a8840ba72196418162e23bc5c10d68d207ab12b5,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-10 22:54:00 +0400, , fowners add checkpoint restore socket signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9384,df6d5cfb23e7d0ee2fe12c932b5c2b781b831640,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-10 22:54:00 +0400, , zdtm add file_own test case test pipe fowners checkpoint restore signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9385,318535db9757f3f30edcc474c3358b4374a32678,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-10 22:54:00 +0400, , fowners restore regular file pipe base idea trivial file descriptor created owner read set signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9386,44492851e101e71dbf297b92dba2083ef6533842,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-11 15:53:00 +0400, , fowners add regular file pipe owner dumping signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9387,ff3471f72622500be0238f9e9d7afca099f0cf0a,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-10 22:54:00 +0400, , fowners prepare ground dump restore show implemented stub added image regular file pipe signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9388,d29f3bc02f68508da7d0ccf576a9737df019aa3d,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-10 22:54:00 +0400, , type add f_getowner_uids opcode signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9389,b53c42a50b6f2ced272a3edda37be3619e5abb49,avel Emelyanov <xemul@parallels.com>, 2012-04-11 22:13:43 +0400, , zdtm test pgids sids mistaken cover restore_pgid restore_sid code signed pavel emelyanov xemul parallels.com,,
9390,814bd5d321234e8422679ec2e30a06d783bd0464,avel Emelyanov <xemul@parallels.com>, 2012-04-11 22:11:41 +0400, , xids dump restore task pgid sid preriquisity terminal handling good practice save restore everything combination supported problem still come inability attach group session task pid workarounded fork ing pid temporarily rather think direction modifying kernel give direct syscall ... signed pavel emelyanov xemul parallels.com,,
9391,6f67bb8fc389d8be857c87f9114ff9ceb0313448,avel Emelyanov <xemul@parallels.com>, 2012-04-11 22:10:09 +0400, , xids save pgid sid pstree_item pstree_entry store _entry since sids inherited set current pid thus best restore sids fork time thus save image use fork maybe submit patch give ability set arbitrary pgid sid change future signed pavel emelyanov xemul parallels.com,,
9392,6ed9f87269c2af3d30a93df0d2e5737c3694a392,avel Emelyanov <xemul@parallels.com>, 2012-04-11 22:09:12 +0400, , proc make small stat parsing read pgid sid two next file extend required pgid sid early read see next patch detail signed pavel emelyanov xemul parallels.com,,
9393,2a0c526b6de27e791141e2bb175525f635d8391c,avel Emelyanov <xemul@parallels.com>, 2012-04-11 22:07:47 +0400, , dump save pstree_item parent item ppid trivial change required check pgid sid restorable state see respective patch code detail signed pavel emelyanov xemul parallels.com,,
9394,b17c49aa992a2161be688ed72943867ab7e8b644,avel Emelyanov <xemul@parallels.com>, 2012-04-11 22:06:36 +0400, , rst wait till everyone completes forking restore new stage required restore pgids properly need make sure task pid whose pgid enter alive task necesserily parent thus wait everyone appear signed pavel emelyanov xemul parallels.com,,
9395,b63451e58dc23d32d96dc3225b96a6ec1a35f7b4,avel Emelyanov <xemul@parallels.com>, 2012-04-11 22:06:00 +0400, , log open log file o_append otherwise multiple writer screw message signed pavel emelyanov xemul parallels.com,,
9396,1e6d32276af939309baad0f14be4a41216b0b228,avel Emelyanov <xemul@parallels.com>, 2012-04-11 15:25:03 +0400, , parasite cure task case dump failed infected wile task infected detach away victim die call error handing infect cure signed pavel emelyanov xemul parallels.com,,
9397,1e9ccd2bbd8a6d381d2705af6ef2e5b1ff01a95e,avel Emelyanov <xemul@parallels.com>, 2012-04-11 15:17:26 +0400, , dump kill task failed dump good practice leave state dumping plz note task segfault reason unseizeing another story signed pavel emelyanov xemul parallels.com,,
9398,13ee53a09867979cc3f39406667f0c206ea07b8f,avel Emelyanov <xemul@parallels.com>, 2012-04-11 13:20:03 +0400, , socket save restore flag socket regfiles done open time pipe thit done fcntl use fcntl approach socket signed pavel emelyanov xemul parallels.com,,
9399,827f1a2f0b5dcaee31a5fa0585c83bfa45b9903d,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-10 18:47:00 +0400, , file call error happened earlier make sense try connect socket error happened previously signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9400,611343a50c5076704d47260ad6762453ef50b294,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-10 18:47:00 +0400, , file print state file restoring transition confusing see output like got got better point going got state got state signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9401,a83ad7b8130cbebdc9ff938916b390bb669a58f8,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-10 18:47:00 +0400, , file drop redundant lseek prepare_fds need obtain magic_offset current position file predefined structure signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9402,b0aa868d470de0a10a4d0fb7e97cfc167436a1f0,avel Emelyanov <xemul@parallels.com>, 2012-04-10 18:38:03 +0400, , zdtm add test close exec bit signed pavel emelyanov xemul parallels.com,,
9403,05e3c4d2c9e6b7d869f1f554204468d9c1bf68dd,avel Emelyanov <xemul@parallels.com>, 2012-04-10 18:36:59 +0400, , handle close exec bit bit per file per thus put fdinfo_entry draing bit parasite together fds save image restore fcntl f_setfd cmd applicable signed pavel emelyanov xemul parallels.com,,
9404,30224abcb62279212dec8409f37b218299c8a413,avel Emelyanov <xemul@parallels.com>, 2012-04-10 18:36:13 +0400, , util net make send recv fds carry flag message flag one bit kernel close exec rest per per file simplicity save char field signed pavel emelyanov xemul parallels.com,,
9405,e8cdf57f40b78481994ec833c7084a03193d949c,avel Emelyanov <xemul@parallels.com>, 2012-04-10 18:35:54 +0400, , syscall add fcntl syscall f_getfd cmd signed pavel emelyanov xemul parallels.com,,
9406,f999b8cfb53e1d5135bbf47b980a843f0b414f97,avel Emelyanov <xemul@parallels.com>, 2012-04-10 18:17:26 +0400, , dump rename dumping function signed pavel emelyanov xemul parallels.com,,
9407,adca8809fde6d64e63a130669f61237131380d38,avel Emelyanov <xemul@parallels.com>, 2012-04-10 18:10:19 +0400, , socket pas fd_parms socket dumping fns required proper close exec handling coming soon fowners coming soon well file flag yes yes signed pavel emelyanov xemul parallels.com,,
9408,6af08c33268632772a0696ed768c16a35e64cba2,avel Emelyanov <xemul@parallels.com>, 2012-04-10 17:49:39 +0400, , sanitize fd_parms fd_name field used ulong int mapping address name better fd_name reason signed pavel emelyanov xemul parallels.com,,
9409,9a39482875f36d780ac5227972bebae1a824e8f3,avel Emelyanov <xemul@parallels.com>, 2012-04-10 15:43:13 +0400, , dump remove unused brk stack var signed pavel emelyanov xemul parallels.com,,
9410,38ea98aa8b89ea2dc8403b5d66e95316b1330f43,avel Emelyanov <xemul@parallels.com>, 2012-04-10 15:41:16 +0400, , dump toss code withing signed pavel emelyanov xemul parallels.com,,
9411,a9930c7fdc6bdb60de6915f79fc9d467b7e2c279,avel Emelyanov <xemul@parallels.com>, 2012-04-10 15:39:21 +0400, , dump move dump personality log dumper signed pavel emelyanov xemul parallels.com,,
9412,d71e5e44f1345dae1703dba60dcc22ea7aa1ee22,avel Emelyanov <xemul@parallels.com>, 2012-04-10 15:38:33 +0400, , dump factor dump regs logging signed pavel emelyanov xemul parallels.com,,
9413,dcc37a09e0feae86e8c15a9fa2e67c3d32c508cb,ndrey Vagin <avagin@openvz.org>, 2012-04-06 16:45:00 +0400, , log fail log descriptor reopened signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9414,c4458cb50db330256862481c6e4dc61fbec09270,ndrey Vagin <avagin@openvz.org>, 2012-04-06 16:45:00 +0400, , log close stderr reopen_fd_as close old descriptor signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9415,492da1c363d05d06560fe674ccbea1f10a83269a,ndrey Vagin <avagin@openvz.org>, 2012-04-06 16:45:00 +0400, , log change logging descriptor initialized signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9416,8b80a1e30c4ac79fe5b1f7059bf6bb41a9ee39b4,avel Emelyanov <xemul@parallels.com>, 2012-04-09 19:09:50 +0400, , file remove obsolete fmap_fd structure signed pavel emelyanov xemul parallels.com,,
9417,1d6578bbd53b910e10609136eff66f1bcbf49497,avel Emelyanov <xemul@parallels.com>, 2012-04-09 18:02:00 +0400, , kcmp dump task object shared clone_ flag dump check shared future semundo since task may object currently detect whether equal  signed pavel emelyanov xemul parallels.com,,
9418,3386535491b308920bb14a7ac1e7cb4765a0d983,avel Emelyanov <xemul@parallels.com>, 2012-04-09 18:01:18 +0400, , kcmp introduce generic object generator move patched code file ids.c kcmp ids.c make former one client latter signed pavel emelyanov xemul parallels.com,,
9419,51af25757d8b3fdbc96179acb917637de7ce4a9e,avel Emelyanov <xemul@parallels.com>, 2012-04-09 17:56:36 +0400, , kcmp generalize tree showing code signed pavel emelyanov xemul parallels.com,,
9420,817b13fad2db993a2ad1fd3ff9b4d585dbdcce36,avel Emelyanov <xemul@parallels.com>, 2012-04-09 17:55:58 +0400, , kcmp make generation code return pointer tree element signed pavel emelyanov xemul parallels.com,,
9421,46aeebdb074e64873f9f794664550b7c19daf8dc,avel Emelyanov <xemul@parallels.com>, 2012-04-09 17:55:20 +0400, , kcmp make generation tree work abstract element entry signed pavel emelyanov xemul parallels.com,,
9422,fe670c5a59643c6a94d493609ca2ed89505025c3,avel Emelyanov <xemul@parallels.com>, 2012-04-09 17:54:35 +0400, , kcmp make tree work abstract kid_tree fd_id_ 2nd step making kid tree generic signed pavel emelyanov xemul parallels.com,,
9423,14b04465a0bbf103862f60ddf4a472a328da7d33,avel Emelyanov <xemul@parallels.com>, 2012-04-09 17:44:59 +0400, , file rename fd_id_ kid_ kid_ stand kernel preparation making fd_id_ tree generic enough support type kcmp call signed pavel emelyanov xemul parallels.com,,
9424,43367e2545e830ba0930a798d9db3a5a8f9485e3,avel Emelyanov <xemul@parallels.com>, 2012-04-09 16:18:33 +0400, , fdinfo rename fdinfo_entry addr store real fdtable entry file time name field properly change type u32 signed pavel emelyanov xemul parallels.com,,
9425,14e5cdcb0421c489c24f62817974c82f27238a17,avel Emelyanov <xemul@parallels.com>, 2012-04-09 15:59:27 +0400, , file remove dead desc opening code signed pavel emelyanov xemul parallels.com,,
9426,f560ddea55156b6a9f6707ec42bd89e1484c069c,avel Emelyanov <xemul@parallels.com>, 2012-04-09 15:57:05 +0400, , file use open_reg_by_id helper appropriate signed pavel emelyanov xemul parallels.com,,
9427,447f369ba921c68981ce0f71c8bd723f5f62a66d,avel Emelyanov <xemul@parallels.com>, 2012-04-09 15:54:28 +0400, , remove fs_is_special longer required previously special fds scattered image signed pavel emelyanov xemul parallels.com,,
9428,b984eeff9cb2ddf696eb19e486c12a89931298c5,avel Emelyanov <xemul@parallels.com>, 2012-04-09 15:52:00 +0400, , move exe file mm_entry mm_struct entity save one also get rid special fdinfo signed pavel emelyanov xemul parallels.com,,
9429,fe70efad291e56dccbf834b8fb7aafac4f52f6f7,avel Emelyanov <xemul@parallels.com>, 2012-04-09 14:51:37 +0400, , split part task core image mm_xxx bit per mm_struct per task_struct kernel thus support clone_vm better bit separate image file signed pavel emelyanov xemul parallels.com,,
9430,de66a5d04b34a8df8f2f5a1772c0657459bcf3ea,avel Emelyanov <xemul@parallels.com>, 2012-04-09 13:52:42 +0400, , reserve place task root dumping restore yet logic apply resolve task path relative dumper restorer yet clear better hidden couple call open_fe_fd since chroot expose logic outside open_fe_fd desirable atm signed pavel emelyanov xemul parallels.com,,
9431,e5e57e832be9d84a5ab6d051a91b35e344932326,avel Emelyanov <xemul@parallels.com>, 2012-04-09 13:41:05 +0400, , move info cwd separate file one day support various clone_ flag fdtable info like separate image since object separate kernel signed pavel emelyanov xemul parallels.com,,
9432,69b3ebd002de60c52f84f53cd41fa690d311aed1,avel Emelyanov <xemul@parallels.com>, 2012-04-09 12:57:38 +0400, , vma remove fdinfo_map type regfile vma stored shmid field file sumped regfiles.img image special generated i.e allocate new unique one signed pavel emelyanov xemul parallels.com,,
9433,363812c9b96d4893af341543dcfe77caab517a5e,ndrey Vagin <avagin@openvz.org>, 2012-04-07 11:09:00 +0400, , restore optimize algorithm iterate list simultaneously find hole xemul discussion making patch understandable cyrill s_vma last one self_vma_list could break immediately snippet somehow miss situation handled hole  source target  hole fit requested size hole shifted target prev_vma_end find vma_len return start address new mapping finally might intersect address miss something obvious andrey look continue one time prev_vma_end returned condition true prev_vma_end vma_len s_vma vma.start .... prev_vma_end vma_len t_vma vma.start ... signed andrey vagin avagin openvz.org look good cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9434,2d4244d033faf62a86b7063b94d8ba2e4cef4667,ndrey Vagin <avagin@openvz.org>, 2012-04-07 00:22:00 +0400, , show use read_img read pid child thread amount entry known signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9435,32b5aa76e04c48e1c914359287ecd39e73e5b3fc,ndrey Vagin <avagin@openvz.org>, 2012-04-07 00:22:00 +0400, , dump return negative value case error signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9436,fa11d76cab396e35f5f77f7dac95c8c6ef70e239,ndrey Vagin <avagin@openvz.org>, 2012-04-07 00:22:00 +0400, , restore check restorer vma intersect target vma xemul fix effectively stop scanning 2nd vma list see hint end hit next vma signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9437,7d3a89970eae123ebd6cb94e54c7b459b52fac19,avel Emelyanov <xemul@parallels.com>, 2012-04-07 00:32:03 +0400, , dump check regfile path accessible file pointed unlinked open able provided path overmounts renames coupled link screw signed pavel emelyanov xemul parallels.com,,
9438,1f9999a81a0857f4a31cd9790d52769aa6d769f6,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-05 16:49:12 +0400, , make fix dependency generation case goal specified goal implied forget generate deps well fix problem two make clean row forced build system regenerate deps signed cyrill gorcunov gorcunov openvz.org look good stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
9439,28a1474779b00f33c4e62d4beb8e9b0b13288016,avel Emelyanov <xemul@parallels.com>, 2012-04-06 21:43:19 +0400, , usk inflight flag longer used required switched socketpair restore scheme required socket connect peer want signed pavel emelyanov xemul parallels.com,,
9440,705bf5aba6bd428e2f64179d7094597f2d616966,avel Emelyanov <xemul@parallels.com>, 2012-04-06 21:39:10 +0400, , img hide image dir util.c image copy occurs since 2b175282 hidden thus fixind fixme near signed pavel emelyanov xemul parallels.com,,
9441,f66913baa12f0253ea94fcdf1aaf977fcc623e76,ir Kolyshkin <kir@openvz.org>, 2012-04-06 14:04:00 +0400, , pipes.c fix english comment noun obsoleted rare english fix signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
9442,866f829273201203d02bc5a1889a4326e9e4074d,ir Kolyshkin <kir@openvz.org>, 2012-04-06 14:04:00 +0400, , pipes.c fix typo comment signed kir kolyshkin kir openvz.org signed pavel emelyanov xemul parallels.com,,
9443,fff99f56b01f3add23416cf32775506fd1f63453,ndrey Vagin <avagin@openvz.org>, 2012-04-06 17:58:00 +0400, , dump fix double free free parasite_ctl signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9444,48e5023c2a391dc5794d208f737fe1f498a2b09c,avel Emelyanov <xemul@parallels.com>, 2012-04-06 21:22:28 +0400, , pipe remove unused args stack signed pavel emelyanov xemul parallels.com,,
9445,76c2818b95c6d87ae91fd5a9cef2b0765dfe3c4e,avel Emelyanov <xemul@parallels.com>, 2012-04-06 21:20:28 +0400, , file factor sending peer via temp unix signed pavel emelyanov xemul parallels.com,,
9446,b16293414bb8eb9ff6f41e08d346870d559bfd0d,avel Emelyanov <xemul@parallels.com>, 2012-04-06 20:39:48 +0400, , file generalize file open get rid explicit type switch introduce use generic file_desc ops signed pavel emelyanov xemul parallels.com,,
9447,3c174a885df0b846a03c69da64975a07f0ef7a05,avel Emelyanov <xemul@parallels.com>, 2012-04-06 20:30:48 +0400, , file generalize restore make file_desc common hash need per type hash table search routine handle via generic file_desc structure thought unixsk pipe list still required signed pavel emelyanov xemul parallels.com,,
9448,527b67b91ff997d98a452438158b0f8d878f374b,avel Emelyanov <xemul@parallels.com>, 2012-04-06 20:03:31 +0400, , file generalize restore introduce file_desc struct replaces bare list_head _info introduced recently signed pavel emelyanov xemul parallels.com,,
9449,c406b0633ffd9c2db65dd27eb650f1907d065bce,avel Emelyanov <xemul@parallels.com>, 2012-04-06 19:36:10 +0400, , pipe use file_master instead signed pavel emelyanov xemul parallels.com,,
9450,f89170eaae8a0ffe0b9f12170d881ccb34abf971,avel Emelyanov <xemul@parallels.com>, 2012-04-06 19:32:41 +0400, , socket remove unused listen hash signed pavel emelyanov xemul parallels.com,,
9451,b38675169709499aabb014f442f64430cf9766c2,avel Emelyanov <xemul@parallels.com>, 2012-04-06 19:27:08 +0400, , socket rework unix socket onto fdinfo scheme big change yes dump unix socket manner file done note however explicitly drop name connected stream socket done avoid conflict name accepted socket share name listening parent done later binding socket name renaming temporary uniq one end renaming back original interconnected socket restored via socketpair call correct name dropped need bind socket yes done need implement trick renames described socket queue constantly opened resolve conflict need use service fds engine later code cleanup still required yes follow shortly signed pavel emelyanov xemul parallels.com,,
9452,87d2ff5ee72ee55fdb77a4398f85f678b4067986,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-05 16:53:53 +0400, , check need granted perform testing signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9453,699caabdb92cf14cca612e2408cbf2b8b9f2876d,avel Emelyanov <xemul@parallels.com>, 2012-04-05 21:31:13 +0400, , show add pipe string fdinfo output signed pavel emelyanov xemul parallels.com,,
9454,ed456a1b3683c55123ad53ea85e11bcafee275ab,ndrey Vagin <avagin@openvz.org>, 2012-04-05 20:02:00 +0400, , pipe restore pipe data signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9455,96be8be2d166c636c0dfcce3c2f435a2b50f6f30,ndrey Vagin <avagin@openvz.org>, 2012-04-05 20:02:00 +0400, , pipe save pipe data separate file pipe buffer slot slot page offset size use splice data aligned splice connects page file cache set offset reason loose part buffer data size page data aligned image signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9456,7b10ef0761c983cf46f2baddd251359b72d3f7f0,ndrey Vagin <avagin@openvz.org>, 2012-04-05 20:02:00 +0400, , pipe add function restore pipe xemul check away implement opening file peer signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9457,373a93248f46963a11dfc8bf1db9f2c27e6b32c2,ndrey Vagin <avagin@openvz.org>, 2012-04-05 20:02:00 +0400, , file type object want open transport master example pipe signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9458,4f2bd3770496b35b4080a97104f4eb41e1649ff4,ndrey Vagin <avagin@openvz.org>, 2012-04-05 20:02:00 +0400, , pipe add function collecting pipe pipe_entry encapsulated pipe_info pipe_info connects list pipe pipe_info piep_id connects pipe_list circular list without defined head signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9459,216233d104c344cb39ae0493fa7eba936c3a93ba,ndrey Vagin <avagin@openvz.org>, 2012-04-05 20:02:00 +0400, , file add function files.h used restore pipe signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9460,f9ead29776b3629012a31c16d5b8c453183e150f,ndrey Vagin <avagin@openvz.org>, 2012-04-05 20:02:00 +0400, , pipe add separate file pipe stuff signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9461,bdb3932be56900843c455f639fdaeb3926ed8045,ndrey Vagin <avagin@openvz.org>, 2012-04-05 20:02:00 +0400, , pipe pipe saved one file information pipe file structs saved one global file fdinfo_entry saved descriptor signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9462,382ebc3063bd0dac7fcc15d4a3ff1fc63025d54a,ndrey Vagin <avagin@openvz.org>, 2012-04-05 20:02:00 +0400, , pipe remove old code restoring pipe xemul know make incremental change either  signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9463,a22ecfddf3a54dc399e66649a729979ce08406b4,ndrey Vagin <avagin@openvz.org>, 2012-04-05 20:02:00 +0400, , zdtm add new test case check data restored create pipe write maximum amount data suspend resume check data restored signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9464,2fef5cacb5a897b1d335e1fe62c06994085cec64,ndrey Vagin <avagin@openvz.org>, 2012-04-05 20:02:00 +0400, , zdtm write data pipe read suspend resume signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9465,6e562b0c9c407db0f005fb5e7ff6686e19b1bf11,avel Emelyanov <xemul@parallels.com>, 2012-04-05 20:43:40 +0400, , file remove unused used old code dropped signed pavel emelyanov xemul parallels.com,,
9466,637a95f8d0bcbf2c0f0d4ea60867208fd255711f,avel Emelyanov <xemul@parallels.com>, 2012-04-05 18:12:51 +0400, , socket check unix properly interconnected dump add two check peer exists able connect somehow restore signed pavel emelyanov xemul parallels.com,,
9467,86489a545dadf9298d92c03c1a359a768e38dd16,avel Emelyanov <xemul@parallels.com>, 2012-04-05 17:39:33 +0400, , socket drop socket name bound unlinked case maybe 100 correct generic case way unix socket used let trick signed pavel emelyanov xemul parallels.com,,
9468,8717463a15e7eceb1c28e31eda3485402505fd4d,avel Emelyanov <xemul@parallels.com>, 2012-04-05 17:18:11 +0400, , zdtm add unix connected stream test signed pavel emelyanov xemul parallels.com,,
9469,12316c4994cbf7e187fbb168efff9033fb6c255f,avel Emelyanov <xemul@parallels.com>, 2012-04-05 16:54:10 +0400, , file ease collecting need separate per type find respective list sorting generic code signed pavel emelyanov xemul parallels.com,,
9470,9e3befe0469fe1e9690769e65ee960f20dac10f4,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-05 15:43:00 +0400, , check add test proc pid stat extension signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9471,aca2c976c0ddb21d9f4bdaf13afa2535179f2528,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-05 15:43:00 +0400, , proc add missing includes proc_parse.h since proc_parse.h declares function list_head argument include list.h basic type otherwise included file without list support compilation might fail  file included check.c include proc_parse.h error expected declaration specifier ... boolâ signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9472,88ca24bb38d2000ae8795df46b76736a679208ba,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-05 15:43:00 +0400, , check add fcntl stub signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9473,92b26d8804b4e500e2ad4e403cf57a62f9dc79f5,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-05 15:43:00 +0400, , check prctl add pr_set_mm_auxv test ability set pr_set_mm_auxv implemented kernel separate pr_set_mm extension need test kernel patch applied running system signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9474,b264c6e2ed4966358818715b023cdeb91b9b0e74,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-05 15:46:00 +0400, , check prctl add pr_set_mm_auxv test add basic test prctl pr_set_mm opcodes support signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9475,0612f49915214999226b3587582f86b1c1112fa1,avel Emelyanov <xemul@parallels.com>, 2012-04-05 15:46:05 +0400, , parasite lseek image file file properly prepared parasite invocation code using open_image call signed pavel emelyanov xemul parallels.com,,
9476,4436f8afd815faf2a8edffc8d56ba204541e29dc,avel Emelyanov <xemul@parallels.com>, 2012-04-05 15:44:44 +0400, , rst seek core file magic done open_image_ro restorer bootstrap preparation code signed pavel emelyanov xemul parallels.com,,
9477,056f41fb466f78107e7aba80a88aac6ef6735cfe,avel Emelyanov <xemul@parallels.com>, 2012-04-05 15:43:50 +0400, , img remove unused signed pavel emelyanov xemul parallels.com,,
9478,c40e3201f2a0573fe5d9adce0629b38f569fa5ec,avel Emelyanov <xemul@parallels.com>, 2012-04-05 15:42:48 +0400, , rst open thread core image without nocheck image file yet opened thus opened proper check signed pavel emelyanov xemul parallels.com,,
9479,0cf8d1e15884045aec9380f269bce7da098b48d3,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-05 14:29:00 +0400, , check add kcmp test signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9480,7570fbbf6a05eb5ad37015654ebdcb75286958bf,avel Emelyanov <xemul@parallels.com>, 2012-04-05 15:34:31 +0400, , rst read pstree image collect pstree_item restore big list let lseek file restore simplifies code little signed pavel emelyanov xemul parallels.com,,
9481,a541fa8df35e9c9d47b272c4af5f52ee60eed8c0,avel Emelyanov <xemul@parallels.com>, 2012-04-05 14:23:21 +0400, , rst remove unused pstree_pid signed pavel emelyanov xemul parallels.com,,
9482,3b35d0531a553402db5b0cadd19c96ba0ad8d7f3,avel Emelyanov <xemul@parallels.com>, 2012-04-05 14:08:11 +0400, , rst use collected target vmas list vma image right image already sucked signed pavel emelyanov xemul parallels.com,,
9483,d7961998bdba3e6b1daa6538f1300b6356aa1e96,yrill Gorcunov <gorcunov@openvz.org>, 2012-04-03 00:52:00 +0400, , lock restore ability abort futex waiting commit occasionally dropped ability abort waiting used signed value inform waiter something wrong waiting aborted type changed unsigned one result condition never trigger resolve added used explicitly appropriate instead signess hack reported andrew vagin avagin parallels.com signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9484,2a33c4d5dc050aefdd8e9b131e558acd9620b885,avel Emelyanov <xemul@parallels.com>, 2012-04-05 12:57:29 +0400, , mem remove zero page end mem image file required page stored elf file exec stop reading eof signed pavel emelyanov xemul parallels.com,,
9485,b4edfa7891613723a7e0e267ecb5872e15027031,avel Emelyanov <xemul@parallels.com>, 2012-04-05 12:50:33 +0400, , file dup local file open receive needed pipe since keep pipe end till dup signed pavel emelyanov xemul parallels.com,,
9486,b9f13599a90ad8373efd79062c56d5435a48759f,avel Emelyanov <xemul@parallels.com>, 2012-04-05 12:49:34 +0400, , file simpler regfiles socket open list_head ptr passed converted respective _info container_of rather search signed pavel emelyanov xemul parallels.com,,
9487,d1c9f0d71c32e400693c3983f80fc0cfca4a989e,avel Emelyanov <xemul@parallels.com>, 2012-04-05 12:48:57 +0400, , file show collected regfiles tree signed pavel emelyanov xemul parallels.com,,
9488,eee874e4651194c2ac75471ed4a970cf562d03c4,avel Emelyanov <xemul@parallels.com>, 2012-04-05 12:45:30 +0400, , file rework way fdinfos collected fdinfos collected independently reg file socket tihs collect effectively create mirroring list checking type added first fix removing fdinfo_desc attaching fds directly collected reg file socket pipe unix socket reworked manner soon signed pavel emelyanov xemul parallels.com,,
9489,54c1979c84db55c4c0ab0f9f3a1ef0b4ea36a0ba,avel Emelyanov <xemul@parallels.com>, 2012-04-03 00:58:41 +0400, , unix collect unix socket early restore prev patch unix socket still per pid image file going change soon hope signed pavel emelyanov xemul parallels.com,,
9490,94a11df0a1dd55117d348e4230d49894fad233c4,avel Emelyanov <xemul@parallels.com>, 2012-04-03 00:54:52 +0400, , inet collect inet socket early restore previous patch pull inet socket store hash reason signed pavel emelyanov xemul parallels.com,,
9491,84678526ac0e06f342ff2f39ab92c8df4cfd1361,avel Emelyanov <xemul@parallels.com>, 2012-04-03 00:50:50 +0400, , file read regfiles image early restore instread reading image every restore pull reg files.img early store entry hash simplify restoring fix allow dump restore via stream socket signed pavel emelyanov xemul parallels.com,,
9492,4131f47da787c4bbb9c19619e95339961af623db,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-31 13:35:00 +0400, , make rebuild object header changed moment deps target empty thus change header cause correspond source file rebuilt fix reported andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9493,933606eec8e9f829d6ffbdd799f5c0eca20b45ef,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-31 02:46:00 +0400, , restorer cleanup drop always_inline attribute write_ helper object file handled script .text section squashed one common section thus need force function always inlined rudiment time using include source code file attribute might confuse code reader since unclear _why_ needed signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9494,e437e616af29d98f46c26ff10df1022d425d646a,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-31 02:46:00 +0400, , parasite restorer cleanup script need specific parasite restorer head section general head one enough also .stack section dropped since never used signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9495,fca43c1abea65e2ccfa24f8ad10240aa2d4f7fc9,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-31 02:46:00 +0400, , socket drop unused variable otherwise get sockets.c function dump_socketâ sockets.c 467 error st.st_inoâ may used uninitialized function signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9496,766bbf16317a451e0d8142e263b34a4c4e61ffa2,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-31 02:46:00 +0400, , socket fix compilation older kernel header since kernel commit 9c501935a3 sys socket.h included prior linux netlink.h make signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9497,c859dbcc294aa1801dd4949157e110ac795eedd2,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-31 02:46:00 +0400, , parasite drop unused helper used debuggin without ptrace_seize needed anymore signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9498,f964951a147618aae72ea966e3ec4c249deb1765,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-29 14:49:00 +0400, , restorer fix bug address computation thread args area wrong treat argument area managed overlook problem commit rather function start address thread argument area allocated dynamically restorer blob hit problem earlier simply byte owerwritten function prologue signed cyrill gorcunov gorcunov openvz.org andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9499,e857977bb6b408ea7fbff13fed382c635d6b15c9,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-29 21:47:00 +0400, , file add case default open_fd otherwise getting error  files.c function prepare_fdsâ files.c 329 error tmpâ may used uninitialized function werror uninitialized files.c 309 note tmpâ declared signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9500,adc161a10883897417fceb748665bcf5afe7ec4b,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-30 15:50:00 +0400, , dump simplify cr_dump_tasks message printing signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9501,68a793a05cb8c9c92c07fc5e61026e0ad0c713cd,avel Emelyanov <xemul@parallels.com>, 2012-04-02 21:58:34 +0400, , file user counter required file desc used check whether file send verify served cliens replaced proper list manipulation signed pavel emelyanov xemul parallels.com,,
9502,89492de3ef2be4ee49c5b9f6c0d25d4bfb8727a3,avel Emelyanov <xemul@parallels.com>, 2012-04-02 21:55:47 +0400, , file real pid fdinfo_desc unused signed pavel emelyanov xemul parallels.com,,
9503,66771c8fbc82872d0d08217e9a07bee87f788b7f,avel Emelyanov <xemul@parallels.com>, 2012-03-29 16:44:15 +0400, , socket dump socket queus without parasite since local copy remove fds dump socket queus without entering parasite code make code much simpler signed pavel emelyanov xemul parallels.com,,
9504,3b0397dbaed05c5a28b2649c707df75c87373650,avel Emelyanov <xemul@parallels.com>, 2012-03-29 16:43:12 +0400, , dump cleanup chrdevs dumping two check chrdev one skip stdio termilans one dev null special device clean little bit signed pavel emelyanov xemul parallels.com,,
9505,320f57b0e5bf0d979b65fc8f713ceeed8f98f14c,avel Emelyanov <xemul@parallels.com>, 2012-03-29 16:41:43 +0400, , dump cleanup regfiles generation move preid generation dump_one_fdinfo make look cleaner signed pavel emelyanov xemul parallels.com,,
9506,f4968e2d052e95b64ed2c4a3ee662240ffb37fcd,avel Emelyanov <xemul@parallels.com>, 2012-03-29 16:40:50 +0400, , dump forget close drained fds bugfix drained fds closed done signed pavel emelyanov xemul parallels.com,,
9507,bac56b11c06f5b6501960ca4604509562d08f0f2,avel Emelyanov <xemul@parallels.com>, 2012-03-29 16:40:10 +0400, , socket remove statfs 2nd stat dump process statfs required check socket s_ifsock 2nd stat needed caller provides stat info signed pavel emelyanov xemul parallels.com,,
9508,250d0764d66fad5c59bffce9e13f502f8467fbba,avel Emelyanov <xemul@parallels.com>, 2012-03-29 16:38:59 +0400, , dump remove arg dump_one_pipe one read fd_parms signed pavel emelyanov xemul parallels.com,,
9509,64195c345853445b4b577a98620e63dc059add2b,avel Emelyanov <xemul@parallels.com>, 2012-03-29 16:38:30 +0400, , dump move stat fd_parms structure actualy parameter put also help future patching signed pavel emelyanov xemul parallels.com,,
9510,8ecb454bf7643d08f93f9fdca7147ae84ecf1932,avel Emelyanov <xemul@parallels.com>, 2012-03-29 16:37:49 +0400, , dump rename try_dump_socket try meant might socket local fds know sure signed pavel emelyanov xemul parallels.com,,
9511,ecc0b90992e247b797f69a6a1060d1db9a8e5396,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-28 17:36:00 +0400, , dump use parasite file descriptor draining since able simply drain file descriptor interested parasite help change calling sequence bit collect file descriptor parasite get intected dumpee remember local copy ask parasite drain collected descriptrs space operate file descriptor directly via fcntl call overall idea prepare ground fowners dumping addressed patch signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9512,0ddcfbf265fb617e320826a3f9a81e99597bba84,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-28 17:36:00 +0400, , parasite add interface file descriptor draining implemented yet used dumping procedure addressed patch note space file descriptor statically allocated argument area stack signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9513,d360133fa6b851d6874a0881e845575b5a5d39a7,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-28 23:44:00 +0400, , util net itroduce send_fds recv_fds routine need helper transfer file descriptor dumpee space also make send_fd recv_fd wrapper send_fds revc_fds duplicate code signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9514,5813cd0b55f3f3a658e497384dcc0f186975ea6d,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-28 17:36:00 +0400, , util net switch send_fd recv_fd use scm_fdset structure able use scm_fdset structure two helper added scm_fdset_init signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9515,333ce8fce2b4cb7a4957b4427df78f488af198db,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-28 17:36:00 +0400, , util net add declaration scm_fdset structure structure serve multiple fds transmission receive signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9516,ee82f0cf0ed7bc2bedd913461afb4aed16387417,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-28 17:36:00 +0400, , type add scm limit need file descriptor transfer addressed patch signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9517,998cb619fe30ff09d8ee74f70e303f855719eccf,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-28 17:36:00 +0400, , add builtin_memcpy helper need parasite code use libc function signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9518,2c11239159a3c345064c7986e16ece782e18395a,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-28 17:36:00 +0400, , drop rb_attach_node unused wrong signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9519,652363d7fcc8c32eaebc2b7c8d676059655d54e7,avel Emelyanov <xemul@parallels.com>, 2012-03-28 00:48:13 +0400, , log specify logfile mode creating one signed pavel emelyanov xemul parallels.com,,
9520,2b175282fb831facb230634a1d885d581f01657e,avel Emelyanov <xemul@parallels.com>, 2012-03-27 16:34:00 +0400, , restore write vma image restore good update image restoring thus read vma_entry list put opened required fds make restorer walk entry mem read image file signed pavel emelyanov xemul parallels.com,,
9521,65db28eafc8ab912beb3442588539026fe5609bd,avel Emelyanov <xemul@parallels.com>, 2012-03-27 16:31:00 +0400, , restore helper vmas list remap copy signed pavel emelyanov xemul parallels.com,,
9522,7f0b083a00b65371c9578b2469b67f387aeadb5b,avel Emelyanov <xemul@parallels.com>, 2012-03-27 15:32:45 +0400, , restorer round size area self vmas page size chunk memry transit restorer code get unmapped one one thus page aligned signed pavel emelyanov xemul parallels.com,,
9523,bbf17398a0764487a2d05f0d99691429e45dcbf4,avel Emelyanov <xemul@parallels.com>, 2012-03-27 15:20:38 +0400, , dump use o_dump flag single image opening signed pavel emelyanov xemul parallels.com,,
9524,ad1aed62a0ae6ad3d976ba518795bbfbfa88af61,avel Emelyanov <xemul@parallels.com>, 2012-03-27 15:16:09 +0400, , img fixup seek need seeking file core dump fix explicit sizeof u32 restore seek signed pavel emelyanov xemul parallels.com,,
9525,40a79dbc98244e39587b62f0209d22f670bbc892,avel Emelyanov <xemul@parallels.com>, 2012-03-27 13:11:23 +0400, , socket show socket info human readable form iow show family type state proto string bare number signed pavel emelyanov xemul parallels.com,,
9526,9b2617353b717daa4d7b3494048f4c36453ced80,avel Emelyanov <xemul@parallels.com>, 2012-03-27 12:42:59 +0400, , inet rework inet dumping new fdinfo scheme every inetsk dump result new entry fdinfo.img file socket dumped inetsk.img global image file restore generic fdinfo redistribution algo used inet socket opened required signed pavel emelyanov xemul parallels.com,,
9527,34b047a585a54a0aa1e0ef41f6be84a6fefc419a,avel Emelyanov <xemul@parallels.com>, 2012-03-27 12:42:20 +0400, , file search fdinfo_descs type currently type taken account need distinguish type well signed pavel emelyanov xemul parallels.com,,
9528,98526bd2407df22fd16fe5891ae66c76d139f42c,avel Emelyanov <xemul@parallels.com>, 2012-03-27 12:10:11 +0400, , file remove unused arg open_fe_fd signed pavel emelyanov xemul parallels.com,,
9529,c58abfd03d8e5110d75841a241524c2e38cea8fd,avel Emelyanov <xemul@parallels.com>, 2012-03-27 12:01:14 +0400, , show introduce show callback fdset fdset item callback show content magic described image file per task global show code reworked walk respective fdsets calling show file signed pavel emelyanov xemul parallels.com,,
9530,71cc2733a79efba65d3466f784b19d17805cf50d,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-26 19:38:00 +0400, , lock add type helper mutexes consistent mutexes futex based semantics better able distinguish type signed cyrill gorcunov gorcunov openvz.org acked andrey vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
9531,dc848fae7a4749b1567fe6586f638b410259501a,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-26 23:11:00 +0400, , lock introduce futex_t appropriate helper instead open coded u32 variable poking let use futex_t type appropriate helper needed increase readability signed cyrill gorcunov gorcunov openvz.org acked andrey vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
9532,82b7c07ca9b768a2462f99fd5de555c4120d20a7,avel Emelyanov <xemul@parallels.com>, 2012-03-27 11:04:23 +0400, , show fix mode showing removed pid pstree image file option show command longer make sense make show mode rely option find find root i.e pstree.img file signed pavel emelyanov xemul parallels.com,,
9533,0c5dc42d6e6f0dfbf2871e4be8e46a0750d01660,avel Emelyanov <xemul@parallels.com>, 2012-03-26 22:58:22 +0400, , dump forget close fdset task dump end signed pavel emelyanov xemul parallels.com,,
9534,4a3861acb8310c2db14160eaed853fe313bb03b7,avel Emelyanov <xemul@parallels.com>, 2012-03-26 17:47:38 +0400, , fdset introduce glbal fdset contains reg file queue image contain data potentially generated every task keep open time dump signed pavel emelyanov xemul parallels.com,,
9535,1fb1d941868636ef8f0a72a2ae82167902da9413,avel Emelyanov <xemul@parallels.com>, 2012-03-26 17:46:39 +0400, , fdset introduce new fdsets current fdsets ugly limited bitmask exhaust several month suffer unknown problem fdsets reuse new approach set image management simple basic function open_image give image want pre open several image instead calling open_image every single time use new fdsets image cr_fd_ descriptor grouped like _cr_fd_foo_from cr_fd_foo_item1 cr_fd_foo_item2  cr_fd_foo_itemn _cr_fd_foo_to call cr_fd_open specifying range _from _to macro give cr_fdset object fdset_fd set type give descriptor open set group corresponding type type group introduced set task global  signed pavel emelyanov xemul parallels.com,,
9536,44a6dd4ff59fee0ea4a20e6fa86d4889d4c4d5a2,avel Emelyanov <xemul@parallels.com>, 2012-03-26 17:46:04 +0400, , fdset reorder cr_fd_ type move pstree queue per task global soon signed pavel emelyanov xemul parallels.com,,
9537,3858ee4950527ad5a6519f465d13c62169d8ab05,avel Emelyanov <xemul@parallels.com>, 2012-03-26 17:45:08 +0400, , fdset introduce two fdsets task write two helper opening fdset task one probably done generic macro time simpler produce code type signed pavel emelyanov xemul parallels.com,,
9538,bcf9ee3d1cb3904390350ec34b7aca1121f9d2c0,avel Emelyanov <xemul@parallels.com>, 2012-03-26 17:43:29 +0400, , fdset helper getting set patch doe fdset fds fdset_fd fdset code signed pavel emelyanov xemul parallels.com,,
9539,49cfa97954db445f5a9c17002fca9525661aebb5,avel Emelyanov <xemul@parallels.com>, 2012-03-26 17:42:28 +0400, , show allocate fdset show thread use open_image_ro signed pavel emelyanov xemul parallels.com,,
9540,7241b9291b40d0485de69fd873bbc6960b18647d,avel Emelyanov <xemul@parallels.com>, 2012-03-26 17:41:40 +0400, , fdset kill ability use fdset required longer fdsets allocated one one required need adding new fds existing set thus remove last arg cr_fdset_open signed pavel emelyanov xemul parallels.com,,
9541,b77400fe24f7d1d5654399236c3da8f7a717504e,avel Emelyanov <xemul@parallels.com>, 2012-03-26 17:40:18 +0400, , dump allocate task fdset needed move fdset allocation inside dump_one_task non zombie make sure need use fdset since allocate required signed pavel emelyanov xemul parallels.com,,
9542,f1429be0871893111849389884e36688a2eb9614,avel Emelyanov <xemul@parallels.com>, 2012-03-26 17:38:59 +0400, , dump include queue task set global make stop global variable soon plus remove pid arg format signed pavel emelyanov xemul parallels.com,,
9543,12147a0cbd86d644d7b20f351fe629842d364918,avel Emelyanov <xemul@parallels.com>, 2012-03-26 17:37:41 +0400, , show fix clean cr_show_all allocate fdset show queue fail pstree opening signed pavel emelyanov xemul parallels.com,,
9544,7eb374863730a7dd19122c16790d9236235abdd8,avel Emelyanov <xemul@parallels.com>, 2012-03-26 17:36:44 +0400, , dump make dump_task_core work routine used dumping task thread zombie last two whole fdset allocated thus better use single case signed pavel emelyanov xemul parallels.com,,
9545,dfe0f65ff6fdbf26dcaca4227ef574d7414430f2,avel Emelyanov <xemul@parallels.com>, 2012-03-26 17:35:00 +0400, , parasite make work need whole fdset actually plus make new fdset implementation simpler signed pavel emelyanov xemul parallels.com,,
9546,b82edc9fdfa9e34cf4c2cfe02678b0f46ec323bb,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-03-23 18:42:00 +0400, , crtools dump pstree image file without pid number pid number redundant file one whole tree signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
9547,f659f64247a6e092e769d9353ca665036f918384,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-03-23 18:41:00 +0400, , crtools make pid parameter optional open_image_ro signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
9548,90376f2286b9d5790194507e2227d05d1a8ca480,avel Emelyanov <xemul@parallels.com>, 2012-03-25 23:31:20 +0400, , repo add mailmap file signed pavel emelyanov xemul parallels.com,,
9549,780ff64905ba2194127ac5aee3650805ab39a413,avel Emelyanov <xemul@parallels.com>, 2012-03-25 21:37:39 +0400, , file move reg file dumping routine separate make code look cleaner prepares ground better fmaps dumping signed pavel emelyanov xemul parallels.com,,
9550,6b79601ccbdf1bf545d5305536625bfc8f501043,avel Emelyanov <xemul@parallels.com>, 2012-03-25 20:24:53 +0400, , file split regfiles info separate file since fdinfo image contains plain fdinfo_entry tpye fdinfo_reg file described regfiles.img entry matched dump stage new generated result new entry regfiles.img restore stage open_fe_fd open regfile fdinfo done suboptimal way need improve show show image separately signed pavel emelyanov xemul parallels.com,,
9551,95f957b8371552c70a71ef9290c622bcca95e7a6,avel Emelyanov <xemul@parallels.com>, 2012-03-25 20:24:53 +0400, , image new image file regfiles signed pavel emelyanov xemul parallels.com,,
9552,0fb534a947c300a6e1c1c12e4c7035115455d7a3,avel Emelyanov <xemul@parallels.com>, 2012-03-25 21:05:32 +0400, , util fix open_image_ro definition colon end handle empty ... set properly signed pavel emelyanov xemul parallels.com,,
9553,ea045dac61028dbb5dc749b77de9c037b6dc576f,avel Emelyanov <xemul@parallels.com>, 2012-03-25 16:02:21 +0400, , file report whether new generated required determine whether dump respective file already dumped use fdinfo_entry special always new signed pavel emelyanov xemul parallels.com,,
9554,500468d4e7c6a7acf149d9a222e942649fcba80c,avel Emelyanov <xemul@parallels.com>, 2012-03-25 15:50:23 +0400, , file split fdinfo two part make fdinfo_entry carry minimal info describing file descriptor value type regular file exe link cwd filemap pipe socket inotifies etc describing file mentioned identify type object e.g regfiles already generated file ids.c code part structure describes regfile i.e file opened open syscall put new entry end fdinfo_entry make patching simpler soon entry dumped file signed pavel emelyanov xemul parallels.com,,
9555,159d3bdfd5ccef3da1485ebdf315ecc66fe3e4f9,avel Emelyanov <xemul@parallels.com>, 2012-03-25 13:48:22 +0400, , fdinfo sanitize type fdinfo_entry namelen u16 cover path_max enough u64 since file offset long indeed u32 per previous patch fix printf respectively signed pavel emelyanov xemul parallels.com,,
9556,af57e42e03047ebaea0efa5c224aea09492227f9,avel Emelyanov <xemul@parallels.com>, 2012-03-25 13:02:28 +0400, , file sanitize logging print namelen useless type code patched work fdinfo_reg signed pavel emelyanov xemul parallels.com,,
9557,c92c9e234ef4b9c918eb2362828609081a511353,avel Emelyanov <xemul@parallels.com>, 2012-03-24 22:02:10 +0400, , file enlighten generation storage unique bit consists subid value _really_ enough genid part hint tree search algirythm avoid unneeded sys_kcmp call plus generate special file make easier move regfiles separate file see respective patch detail signed pavel emelyanov xemul parallels.com,,
9558,5b44cbd8902c2053e3f118b0128f63d3412caa24,avel Emelyanov <xemul@parallels.com>, 2012-03-24 19:56:13 +0400, , restore restore cwd fchdir use open_fe_fd everywhere obtain image signed pavel emelyanov xemul parallels.com,,
9559,fb6f22749eefc03eba08a88f88df0a225f0a52ea,avel Emelyanov <xemul@parallels.com>, 2012-03-24 17:07:53 +0400, , dump remove 2nd mapping free call signed pavel emelyanov xemul parallels.com,,
9560,308f6150c2f8cd824a66f3a4967c59b0bfe4d226,avel Emelyanov <xemul@parallels.com>, 2012-03-24 17:00:06 +0400, , file fix collect genid type u32 signed pavel emelyanov xemul parallels.com,,
9561,ed67491c45b0dfb2f315e9c1e6ef05dd7c436825,avel Emelyanov <xemul@parallels.com>, 2012-03-24 16:52:09 +0400, , file show collected subtree end dump debugging useful know tree built signed pavel emelyanov xemul parallels.com,,
9562,ab1c83b9a577a0d3b9422f3f88407a42e5f94d58,avel Emelyanov <xemul@parallels.com>, 2012-03-24 16:51:00 +0400, , file fix subnode linkage subtree node linked common rbtree procedure otherwise first subtree insertion result infinite loop linking balancing code plus mark root static add subroot node initialization check signed pavel emelyanov xemul parallels.com,,
9563,9e47a06cef4b4d41b35ae3163e3e3822fda56a6d,avel Emelyanov <xemul@parallels.com>, 2012-03-24 16:05:13 +0400, , zdtm extend file_shared test check file equal path handled signed pavel emelyanov xemul parallels.com,,
9564,57c4e73625ac28a854241aa0a9ab3e838cfa21bc,avel Emelyanov <xemul@parallels.com>, 2012-03-24 15:41:39 +0400, , show dont print path len actually useless user field crtools find one fdinfo entry end new one start signed pavel emelyanov xemul parallels.com,,
9565,18cf145cc5f6179a87753760078bc3e500e3642c,avel Emelyanov <xemul@parallels.com>, 2012-03-24 15:38:18 +0400, , show print fdinfo type name number signed pavel emelyanov xemul parallels.com,,
9566,7a451ff108e06a188e72ff35276aeb0a87558c6b,avel Emelyanov <xemul@parallels.com>, 2012-03-24 13:22:37 +0400, , rst open exe link early open exec link restore stage yet another service pas restover via args call prctl good several reason amount code required opening file better happen switch restorer opening complex much easier open need one place signed pavel emelyanov xemul parallels.com,,
9567,e079bf1e360007b5d4ae36f6c24709268dad8ec5,avel Emelyanov <xemul@parallels.com>, 2012-03-24 15:28:36 +0400, , restorer fix ret usage prctl macro signed pavel emelyanov xemul parallels.com,,
9568,65ebd845e5734d7b8771555da2e6eda6ae27a22c,avel Emelyanov <xemul@parallels.com>, 2012-03-24 14:02:31 +0400, , check fix peek_off getting signed pavel emelyanov xemul parallels.com,,
9569,12c58017492d2b82545bc2c705635692ecd103d3,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-03-23 20:23:00 +0400, , dump file tree return upon collect instead inner structure hide structure required xemul ranem long u32 adopt current tree signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
9570,b68b3d5dd59d0ff16ef45c89655a9e43f3ad5b4f,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-03-23 20:23:00 +0400, , dump convert type enum precursor patch macro max possible type required easier use enum case signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
9571,7a98cd2bf4be764f87b1c56c205cc2244733d1f0,avel Emelyanov <xemul@parallels.com>, 2012-03-23 11:15:58 +0300, , file sanitize restore state machine signed pavel emelyanov xemul parallels.com,,
9572,ebc1ac8bc5425df14f6dfa48688dab31bbd09b6b,avel Emelyanov <xemul@parallels.com>, 2012-03-23 11:02:06 +0300, , file factor transport name generation signed pavel emelyanov xemul parallels.com,,
9573,a3ed9db82aa5249eb13e5ac647c09b1a5c3ec9e9,avel Emelyanov <xemul@parallels.com>, 2012-03-22 21:17:57 +0400, , show fix timer name signed pavel emelyanov xemul parallels.com,,
9574,488790b67789bffadde9be3af96fd02e04cb614b,avel Emelyanov <xemul@parallels.com>, 2012-03-22 21:17:44 +0400, , util remove dead code signed pavel emelyanov xemul parallels.com,,
9575,d5f83530bd51e0d7d348f55e3fe8f98e71885f7b,avel Emelyanov <xemul@parallels.com>, 2012-03-22 21:06:41 +0400, , rst cleanup pstree walkthrough signed pavel emelyanov xemul parallels.com,,
9576,5f788993a5e262982c8bd732f0fd38339b50ab4e,avel Emelyanov <xemul@parallels.com>, 2012-03-22 21:01:02 +0400, , dump remove dead signed pavel emelyanov xemul parallels.com,,
9577,1b5c403241f0915c5d0db9f658192e88a5c0a368,avel Emelyanov <xemul@parallels.com>, 2012-03-22 20:51:47 +0400, , dump sanitize pstree dumping signed pavel emelyanov xemul parallels.com,,
9578,3e8e358d8232175d2ef5e1f72673b6294e0edbc0,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-03-21 14:12:00 +0400, , dump merge collect dump stage process tree cleanup patch tree merged image file opened opne_image call dumped right collect stage signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
9579,3ad95b3706ca2c33b4c997b9e4f50d42434a9dc4,avel Emelyanov <xemul@parallels.com>, 2012-03-21 19:41:00 +0400, , shm fix one task shmem remaps restore since collect_shmems update start address vmas two shared mapping one task try dup 1st restoration attempt since start set 2nd one yet restored thus map open first one restored one matched address dup rest avagin thing since collect stage check pid _or_ _equal_ first vma start saved anyway make obvious acked andrey vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
9580,8e47df998ca7976ae7eb50db09b2681e522ce571,avel Emelyanov <xemul@parallels.com>, 2012-03-21 19:39:00 +0400, , shm sanitize ret val check acked andrey vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
9581,6faac3a39ea480bd5c49497d40418774392312dd,avel Emelyanov <xemul@parallels.com>, 2012-03-21 19:38:00 +0400, , rst factor vma fixup make fixup_vma_fds read write vma image called provide acked andrey vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
9582,29e07fa24fcf2969c6a85a117e0c585af2af48c6,avel Emelyanov <xemul@parallels.com>, 2012-03-21 19:37:00 +0400, , rst remove extra call fixing map fds acked andrey vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
9583,8639776154d039ee674ee9f23216dfd3a5a8ad47,avel Emelyanov <xemul@parallels.com>, 2012-03-21 19:36:00 +0400, , shm use read_img fixup_vma_fds acked andrey vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
9584,97a1d8bb1c41463e93b89e30b07291d6e03858a1,avel Emelyanov <xemul@parallels.com>, 2012-03-21 14:22:00 +0400, , dump vmas separate image file core image contains core per task stuff new file resurrects tula magic number removed earlier acked andrey vagin avagin parallels.com signed pavel emelyanov xemul parallels.com,,
9585,309b2c1877e98ccd69353bc93b87e4b4e520aa0d,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-21 11:47:00 +0400, , parasite rename pid key routine used widely generating socket name based predefined unique value rather pid name argument way change functional level signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9586,e8bc5ebbbfa3a4e2f8128179c3b2aa419137ccc7,avel Emelyanov <xemul@parallels.com>, 2012-03-21 11:33:19 +0400, , zdtm added maps01 zdtm script signed pavel emelyanov xemul parallels.com,,
9587,f212e6fe374366f7c4cb166f8ce2c3bfddd6a471,avel Emelyanov <xemul@parallels.com>, 2012-03-21 11:33:54 +0400, , dump reformat vma dumping little signed pavel emelyanov xemul parallels.com,,
9588,c3051512f3d0e2b6429e678b470b37c9e0482075,ndrey Vagin <avagin@openvz.org>, 2012-03-21 09:45:00 +0400, , crtools delete core_out rudiment old time restore worked via ececve modify core file place fixup vma signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9589,650be3d2be95cdba10343a20edc5169a0f843afe,ndrey Vagin <avagin@openvz.org>, 2012-03-21 10:12:00 +0400, , clean parasite one descritor dumping page remove rudiment signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9590,e869c16df57aa3908bc2d4917edd44808234968b,ndrey Vagin <avagin@openvz.org>, 2012-03-21 10:12:00 +0400, , rework dumping shared memory vma_entry contains shmid shared memory dumped file interesting thing restore maping restored process smallest pid mamping created executing restorer map full mapping restore conten open file proc pid map_files store descriptor vma_info mapping unmaped map region mapping restorer use trick target process may mapping place restorer function open proc file fix error hangling xemul fixed static args cr_dump_shmem signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9591,31feef8ab432ab828a5869a077ec7a1768da36dd,ndrey Vagin <avagin@openvz.org>, 2012-03-21 10:12:00 +0400, , pages_shmem shmem_pages signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9592,5dda50468b02ed479a2638864a0075036ae28d9d,ndrey Vagin <avagin@openvz.org>, 2012-03-21 10:11:00 +0400, , change offset zero_page_entry 0ll actually valid value signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9593,37a6c1fc8851d9b38f8d68f43c41817851ead50f,ndrey Vagin <avagin@openvz.org>, 2012-03-21 10:11:00 +0400, , move shmid vma_entry used restore shared mapping clean signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9594,7d10875076834fa10b034d55783c18eabdd2689e,ndrey Vagin <avagin@openvz.org>, 2012-03-21 10:11:00 +0400, , zdtm add new test case testing shared memory map big memory region fork unmap first tenth page remap one page another place touch page check content touched page signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9595,5ca347889eb539af0fae5f71eadb60f737984390,ndrey Vagin <avagin@openvz.org>, 2012-03-19 15:38:00 +0400, , crtools support format image path name image file hard coded smth d.img pid image namespaces shared memery etc belong one task may format name describe object example image shared memory content may name like page shmem ld.img shmid fix comment rebase signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9596,d463b15bc6d1f13e5f6d3e1ae3693038b0ec1f4b,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-19 14:43:00 +0400, , restorer switch restoring proc pid exe symlink new kernel interface patch make crtools work new proc pid exe symlink restoration kernel part reviewed oleg patch new shiny kernel thus suggest developer move kernel crtools 3.3 found usual place pick patch crtools patch anything crtools 3.3 work signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9597,4b1f8d084050f6a7fd2e536256971827246a6015,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-19 12:02:00 +0400, , parasite refactor code follow calling convention happened routine parasite service code following calling convention fixed caller added comment adding new code time error code madness dropped requested pavel return one error code parasite_err_ code dropped well due become redundant status parasite service routine set via helper case error return calling code expect find anything sane parasite code might touch time due convention parasite getting rid third err member returned regular error code signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9598,94735bbd85b617336b4ce533b1af263a06b474c3,ndrey Vagin <avagin@openvz.org>, 2012-03-17 15:51:00 +0400, , show expand field vma size patch may contain megabyte think real application may bigger mapping signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9599,0ce623f9f7de5481a957c0306af4512b1fdb38c4,ndrey Vagin <avagin@openvz.org>, 2012-03-17 11:47:00 +0400, , crtools use mremap remaping shared memory signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9600,caf860c2ef9e096c00f8c53a3335d212460f5796,avel Emelyanov <xemul@parallels.com>, 2012-03-17 01:22:18 +0400, , proc parse small sanitation map parsing signed pavel emelyanov xemul parallels.com,,
9601,2b9fd6ce17367a97365f1f2d7cb5487b802c8f6c,avel Emelyanov <xemul@parallels.com>, 2012-03-17 01:02:55 +0400, , dump formatting regs dump fixup signed pavel emelyanov xemul parallels.com,,
9602,9bb93f7e185252a1768f6da08f2c03a22bd8c552,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-16 16:15:00 +0400, , net fix typo recv_fd signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9603,ffacd0f17c92f2e6638843d405e590ed7c8a9aea,avel Emelyanov <xemul@parallels.com>, 2012-03-16 17:24:00 +0400, , image open image via openat using absolute path dangerous extremely carefully change task root mount namespaces early sometimes work restoring container unable switch new still ability open image rework image opening via openat keep image dir open time service introduced earlier signed pavel emelyanov xemul parallels.com,,
9604,3dd8f2e6591135b76fda7cd05539dd439a8fdd14,avel Emelyanov <xemul@parallels.com>, 2012-03-16 17:21:00 +0400, , fds introduce service fds help want intersect real life one thus store close file rlimit boundary logfd one signed pavel emelyanov xemul parallels.com,,
9605,177fbd88d03348e4bab181967698ad4aa9182f6b,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-16 18:50:00 +0400, , parasite drop builtin_strlen unused signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9606,c19c44772958f915877c5b87704cdb6f78bfd009,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-16 18:49:00 +0400, , parasite need compute heap size immutable signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9607,8b7497a5efbe73dc082b211acdc623f45df6cdfe,tanislav Kinsbursky <skinsbursky@openvz.org>, 2012-03-16 14:25:00 +0400, , dump dump pstree outside task loop need checking pid every task loop cycle dump beginning signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
9608,adce8197c46ddf3ea07fcc64651ed6af14cc6c26,ndrey Vagin <avagin@openvz.org>, 2012-03-16 15:21:00 +0400, , crtools redeclarate variable signed andrey vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9609,c6d1ff903e49d81a8867b9fb0fcc39aefc151299,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-13 00:55:00 +0400, , parasite add missing build_bug_ons argument signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9610,59890c3b283ed6110a802f4e853753086d12c7c4,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-13 00:55:00 +0400, , parasite drop unneeded command signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9611,7766e7f4f45778a64201a5a7de3346a6bf76904d,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-13 00:55:00 +0400, , parasite drop unused struct mem_array signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9612,5fc142d9c582087d717e1e7531c364f3fa3b8db1,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-13 00:55:00 +0400, , parasite drop unneeded heap_size variable signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9613,45b76a9a9a7832de7b018933c333d3140ca7ca2a,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-13 18:11:00 +0400, , dump shadow ret code dump_namespaces cr_dump_tasks doe assign ret default dump_namespaces doe shadow variable error code subsequent call fail notice error signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin openvz.org signed pavel emelyanov xemul parallels.com,,
9614,ea1ec9f61927e401476d79e6c08423301f3c2510,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-06 18:46:00 +0400, , restore close pstree_fd several time scenario pstree_fd may tried close several time start crtools detach option simply make close opened file descriptor also simplifies code signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9615,644e4fec6b1bfb9fa1e10290f0d5375a2f6ce174,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-05 20:44:00 +0400, , restore close last_pid_path descriptor opened signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9616,fe1cf2608536e9a87a10e7e04d7c74e8ea5b8f6e,insbursky Stanislav <skinsbursky@openvz.org>, 2012-03-06 14:20:00 +0400, , dump add const qualifier possible signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
9617,c1999ec58eaac04dbb9769d68e80e9ab10b72e1f,insbursky Stanislav <skinsbursky@openvz.org>, 2012-03-06 15:52:00 +0400, , dump use fd_params type cwd exe magic cleanup patch use file entry type variable special file instead file entry addr variable signed stanislav kinsbursky skinsbursky openvz.org signed pavel emelyanov xemul parallels.com,,
9618,fede33e0478e349e1db4a5c179e6ec4d072803aa,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-04 01:39:00 +0400, , log simplify log_init drop redundant current_logfd assignment assign new_logfd beginning signed cyrill gorcunov gorcunov openvz.org signed pavel emelyanov xemul parallels.com,,
9619,a544b6842c6858ee0b4d53e68c4187853332cc95,avel Emelyanov <xemul@parallels.com>, 2012-03-03 19:36:43 +0300, , sockinfo call indentation fix signed pavel emelyanov xemul parallels.com,,
9620,7b7f09e4f054af784f5a00db26fa2766ffe81331,avel Emelyanov <xemul@parallels.com>, 2012-03-03 19:35:10 +0300, , sanitize vma type parsing signed pavel emelyanov xemul parallels.com,,
9621,446b6526beb08d8a8cc4f693eb1e57d0c0ab608a,avel Emelyanov <xemul@parallels.com>, 2012-03-03 19:34:59 +0300, , optimize thread restore bit signed pavel emelyanov xemul parallels.com,,
9622,351537c4f4a28ed54d9dbb8eee2d2f54f8c309e5,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-02 23:21:51 +0400, , restore fix typo signed cyrill gorcunov gorcunov openvz.org,,
9623,85f18ef02f9ed5bf90251ddccebf6f8a6e658e9d,avel Emelyanov <xemul@parallels.com>, 2012-03-02 19:30:23 +0400, , restorer pas self vmas via memory temp file reserve mem bootrstrap code put self vmas tail signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9624,471d3c429c80ca9b51b50923e622803a28761b1c,avel Emelyanov <xemul@parallels.com>, 2012-03-02 19:29:35 +0400, , restore cleanup mem variable usage prepare code smoother bootstrap area allocation signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9625,fc225709b0422b42d189ddcf2f99124cc40fffdc,avel Emelyanov <xemul@parallels.com>, 2012-03-02 19:28:46 +0400, , proc make parse_maps return amount found signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9626,e94c85fe6e91058349fbca65ad8e9d278bf8e938,avel Emelyanov <xemul@parallels.com>, 2012-03-02 19:28:13 +0400, , restorer fix bootstrap allocation three bug code self vmas list released get hint called get hint code wrongly detects hole bug detail exec hint mapped without map_fixed signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9627,b107d838cfdb49f577d0d11061698ad87869b290,avel Emelyanov <xemul@parallels.com>, 2012-03-02 15:52:16 +0400, , zdtm remove socket_loop00 test broken stas fix soon signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9628,1c12a31893d410cc32caf7712600305bf1e70819,avel Emelyanov <xemul@parallels.com>, 2012-03-02 15:51:30 +0400, , udp restore udp socket reuse tcp socket restore add connect sanity check protocol since udp connect network connection unlike unix socket require peer online put peer cred socket return signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9629,bad126e7a542b32ce56d6f1dbcb43effa939db90,avel Emelyanov <xemul@parallels.com>, 2012-03-02 15:50:09 +0400, , sock add dst cred socket structs required inet socket added since listen socket signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9630,ba562bc2725007424819f5bd09bcc074b5cc6a69,avel Emelyanov <xemul@parallels.com>, 2012-03-02 15:48:58 +0400, , show fix inet socket show loglevel shower use pr_msg avoid loglevel issue signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9631,b198d76e4024864644cbb005dd2a1cc33a12ca55,avel Emelyanov <xemul@parallels.com>, 2012-03-02 15:48:08 +0400, , udp allow dumping udp socket small fixlet signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9632,625c45ea791f848497c352531a83291a47f9c48c,avel Emelyanov <xemul@parallels.com>, 2012-03-02 15:47:21 +0400, , udp collect socket diag partially reuse existing tcp code signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9633,1ff1a46a6ef7a5469fb13695ec83c7cfb178537f,avel Emelyanov <xemul@parallels.com>, 2012-03-02 15:46:34 +0400, , zdtm test udp socket create two bind connect one end check send sendto work recv receive proper message proper address queue expected dropped test according protocol constraint thus sends happen restore signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9634,1bf89633ff02f786861a01cab02d805304502816,avel Emelyanov <xemul@parallels.com>, 2012-03-02 15:45:00 +0400, , zdtm raize loglevel maximum otherwise log look poor failure signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9635,ba64f87bfa1ef60034a45047473a71f6ebf445ed,avel Emelyanov <xemul@parallels.com>, 2012-03-02 15:44:13 +0400, , log fix logfd screwup broken 7aa8e4b6 log moved higher value signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9636,119cee0d161aa8a76c94eed2c7f6e8cb05d8780b,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-02 14:23:45 +0400, , doc add check option description signed cyrill gorcunov gorcunov openvz.org,,
9637,f6cf7fd4af4a4aa5a890ed89ebf4cb890c9787ce,ir Kolyshkin <kir@openvz.org>, 2012-03-02 14:00:04 +0400, , makefile rdeps blob var never needed first place used commit e315bea3 reported stanislav kinsburgsky skinsbursky openvz.org signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9638,e6c88abd623dad858597f1a097d9e5c1ec278997,avel Emelyanov <xemul@parallels.com>, 2012-03-02 14:01:57 +0400, , check add basic check proc pid map_files sock diag ns_last_pid sysctl so_peek_off sockoptions signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9639,c39e75904892d3661e19b8649db83834f35a47e4,avel Emelyanov <xemul@parallels.com>, 2012-03-02 14:01:08 +0400, , check initial skeleton signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9640,ce7780179bc088ad5039f3662d4465263ae65fc1,ir Kolyshkin <kir@openvz.org>, 2012-02-22 02:09:17 +0400, , gen offsets.sh error something wrong addition add target script failed signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9641,944ebac41d0d89bf6b12bf1ca7de1ec5a8be2040,ir Kolyshkin <kir@openvz.org>, 2012-02-22 02:09:16 +0400, , makefile blob gen use target name need hardcode signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9642,f7fd268a335ac113707b3a364a42496b486e7bc0,ir Kolyshkin <kir@openvz.org>, 2012-02-22 02:09:15 +0400, , gen offsets.h move argument makefile script make invocation way easier signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9643,4bb4bfdac11a046617e50aa0ff89413cf7fd8f2a,ir Kolyshkin <kir@openvz.org>, 2012-02-22 02:09:14 +0400, , makefile introduce depend use gen_offsets need regenerate blob.h file generating script change use hardcoded script name signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9644,e315bea38a07be60bf50bf50379492d317a9d3e6,ir Kolyshkin <kir@openvz.org>, 2012-02-22 02:09:13 +0400, , makefile remove unneeded dependency need make file restorer blob.h signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9645,fd9102a9aebe49f25604f742618092a5e99dde10,ir Kolyshkin <kir@openvz.org>, 2012-02-22 02:09:12 +0400, , gen offsets.h refactor change mostly better readability style actual difference output produced last item use uppercase variable name simplify name get rid name_ prefix everything rename variable name_ifndef inc_guard prefix name_bin binary replace sed simplicity replace grep awk condition escape every inside awk_cmd quote full string use cat document instead many echo simplify hexdump argument use single option insert name generated comment signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9646,8a8ce9b34213ca7704fd35e13c792f3670219b6b,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-02 11:09:39 +0400, , show forget open socket queue descriptor accessing otherwise getting error like cr_fd_sk_queues  error include util.h 102 read img file bad file descriptor  signed cyrill gorcunov gorcunov openvz.org,,
9647,a26d524011aed979353e842945a03a4175c55953,insbursky Stanislav <skinsbursky@openvz.org>, 2012-03-01 20:56:48 +0300, , dump rename st_buf fd_stat signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9648,698fe036d08d59c93fab58d15c610f4a3e2b0ac8,insbursky Stanislav <skinsbursky@openvz.org>, 2012-03-01 20:56:41 +0300, , dump hide check fifo signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9649,ba6ac0104e993ed90861136992c993a98e638f8a,insbursky Stanislav <skinsbursky@openvz.org>, 2012-03-01 20:56:34 +0300, , dump remove else signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9650,81060211c51514223d789cb0b15d559c324bedec,insbursky Stanislav <skinsbursky@openvz.org>, 2012-03-01 20:56:27 +0300, , dump hide type fd_params structure signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9651,42963b9450d98c79a487c99fadade001604623e8,insbursky Stanislav <skinsbursky@openvz.org>, 2012-03-01 20:56:21 +0300, , dump hide open dump routine signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9652,827cabb480448996d5797d91df37018dcf8de6d0,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-02 00:59:59 +0400, , show use pr_msg showing content console due code sharing especially ipc area unbinding done via helper macro sysclt engine tuning new ctl_show action added signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9653,7aa8e4b6e235571fdf3c9e904b81a443e4d965e6,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-01 18:52:42 +0400, , log log engine slight redesign message filtered type log_msg plain message escape log level filtration stdout log_error error message log_warn warning message log_info informative message log_debug debug message default log_warn log level used thus log_info log_debug message appear output stream pr_panic helper replaced pr_err pr_warning shorthanded pr_warn old printk rather pr_msg  share message show dump action show action proceed need tune log level set log_info also note printing vma siginfo became log_info message correct print regardless log level signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9654,9aa2252ca0e42d336a2ce7b7e06bc928b90b55d8,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-27 14:00:29 +0400, , log fix typo fini_log signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9655,95f770b61c29dc9420d77461b86ae7476dc958f9,yrill Gorcunov <gorcunov@openvz.org>, 2012-03-01 18:15:58 +0400, , logfd distinguish function setup logdf helper function setup logfd different program flow context rename grepability signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9656,cb0eb0b31ef1b0d5bce30b729d2db01b3633d522,avel Emelyanov <xemul@parallels.com>, 2012-03-01 20:25:39 +0400, , dump let task handle signal seize seizing task waiting stop receive event kernel task stop caught signal treat error let victim handle proceed transition fork test work signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9657,1e98f53cca61ab8919e024248c52455c3fc58015,avel Emelyanov <xemul@parallels.com>, 2012-03-01 19:13:34 +0400, , dump stop scanning list empty empty list scan error mean top task ran away point trying catch one signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9658,ae9f1bfdc4eb3b17f5f644220d4e63151059d322,avel Emelyanov <xemul@parallels.com>, 2012-03-01 19:12:35 +0400, , dump restart seize case reparent occurred happen dumping pid namespace thus put check forget one future signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9659,a1fe2c58a9a0a17e24ab62ecdcfceb22c8f55065,avel Emelyanov <xemul@parallels.com>, 2012-03-01 19:11:29 +0400, , dump try seize task tree several time error task fork die try seize much simpler much reliably unseize seized walk tree case tree check failed yes make impossible suspend big tree constantly fork prefer fixing urgent issue signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9660,9e0b308af0b4ebd3dd1d0a8a21cd55cb434a99ed,avel Emelyanov <xemul@parallels.com>, 2012-03-01 19:09:02 +0400, , dump restore rework final state switch remove cr_task_xxx state use task_xxx one image required unseize task properly next patch plus make sure pstree_list seized set coincide i.e handle error collect_task signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9661,0afad031d54dd63fda302af354d24857ef7407ab,avel Emelyanov <xemul@parallels.com>, 2012-03-01 19:07:15 +0400, , dump check process thread tree change seizeing seized task thread found proc check proc content one one descend tree since task create kid anyone parent reparent handled later signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9662,30a2b6f31483d36d2b60dfcd148440192e73cc10,avel Emelyanov <xemul@parallels.com>, 2012-03-01 19:05:39 +0400, , dump pas pid child parser routine item already signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9663,199e8d824833d3d044eb6756ff25b4a36b51611b,avel Emelyanov <xemul@parallels.com>, 2012-03-01 19:04:31 +0400, , dump check pid reuse suspend try seize task die give pid somebody else break pstree consistency check parent valid task seized signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9664,f8a18edd4453f86835349da7a7c1e01d57db6d3e,avel Emelyanov <xemul@parallels.com>, 2012-03-01 19:03:09 +0400, , dump remove should_be_dead task state move proc check state seize_task signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9665,3f256945f2f300c753c0042f2d4ea83ff28c0bcc,avel Emelyanov <xemul@parallels.com>, 2012-03-01 19:02:03 +0400, , dump sanitize thread dumping merge two call one helper future signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9666,3ab9285f0fcd6257a9055c97de6ca816427325cd,avel Emelyanov <xemul@parallels.com>, 2012-03-01 19:01:05 +0400, , parasite check unexpected signal delivery signal come parasite blocked signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9667,64bf2b7d4b6e05cfbd638d76207474724682f930,insbursky Stanislav <skinsbursky@openvz.org>, 2012-03-01 11:35:29 +0300, , dump fix check service dentries without patch file starting ommited use strcmp explicit check look clearer signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9668,29a7a81d25e9553b8cbeb2e78796908d5de7fda0,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-29 19:22:35 +0400, , dump clenaup recently added file code drop double file ids.h inclusion rename fd_id_entry plain entry used couple line need complex name reported kir kolyshkin kir parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9669,a66eab4ecfb306bb1a47d374d185450a0d6cbd50,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-29 16:39:58 +0300, , parasite make line shorter small cleanup patch signed stanislav kinsbursky skinsbursky openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9670,dc243ccb4b50b4ea1b3aabcc247ec8e0bfbba327,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-29 16:07:34 +0300, , zdtm add streaming socket_loop00 test list signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9671,66ec37bd2e8da841ef648c79b23cc28df29e3a1e,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-29 16:07:27 +0300, , zdtm add static socket_queues test zdtm list signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9672,46535130c6b2dbdd6fbfabfe200cfd1567f160f0,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-29 16:07:19 +0300, , restore unix socket queue support based xemul patch signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9673,e518c44c7c3a9fc245ca103337bfc58d89f06178,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-29 16:07:11 +0300, , show unix socket queue support based xemul patch signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9674,131f5a1d4968feebd0de53428d763f651064290d,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-29 16:07:04 +0300, , dump unix socket queue support based xemul patch signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9675,e6f39a41bf6ccfea766114884cc65c7f5d25f21c,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-29 16:06:56 +0300, , restore socket queue support patch designed generic thus usable kind socket sure thah goal reached least tried key idea socket queue dump file readed first packet entry offset data image collected doubly linked list function note list contain socket queue socket task socket queue restored selects packet list passed use sendfile top send passed socket also remove packet list free based xemul patch signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9676,c19012326d155c22f28b5aec614e1f312b7bc87a,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-29 16:06:48 +0300, , dump socket queue support patch designed generic thus usable kind socket sure thah goal reached least tried key idea stack structure collecting socket queue passing parasite code singly linked list used collecting structure representing socket kind queue based xemul patch signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9677,8ce9e947051e43430eb2ff06b96dddeba467b4fd,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-29 16:06:40 +0300, , parasite support socket queue patch add socket queue dump functionality key idea socket info passed plain array parasite args new socket option so_peek_off msg_peek used read get queue packet buffer packet allocated socket separately size socket sending buffer stream socket mean queue dumped chunk size note loop around sys_msgrcv required dgram socket sys_msgrcv msg_peek return one packet based xemul patch signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9678,4ad2e61ce796a476c97db096c2d4953edfeeb28f,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-29 16:06:33 +0300, , zdtm static socket_queues test added test based original version xemul second message queue added signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9679,eeed250dc35d342d25bb10c410d34846fa91896d,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-29 13:39:21 +0300, , restore close opened cleanup patch signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9680,fe559c7e48624603fd098daa9ee9bc97d9a1b28b,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-28 21:13:26 +0400, , parasite remove unused header signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9681,2acc741a3aba3c5b1c87cf8af00ec82bee46f9ed,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-28 18:27:28 +0400, , file use sys_kcmp find file descriptor duplicate switch generic object concept sys_kcmp approach implies change image format bit since early time project overall allowed short previously every file descriptor generated kernel exported via procfs appropriate file descriptor object kernel memory match bit allows figure file actually identical one restored special way sys_kcmp system call merged kernel got new opprotunity use syscall instead syscall basically compare kernel object return ordered result suitable object sorting userspace mean treat every file descriptor combination genid subid genid serf fast comparison fds subid kind second key guarantee uniqueness genid subid tuple file descritors found process group process able find dump file descriptor single pas collect every global rbtree node might become root subtree well main tree carry non equal genid find genid already tree need make sure either indeed duplicate use sys_kcmp syscall find file descriptor different simply put new subtree signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9682,8b187454b49d5b93fa4ec6376b658f8f45399657,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-22 18:51:27 +0400, , file rename function simply allocates shared memory name move closer variable referes signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9683,5cadfef1c14bc57b56a9c7787e078f761586d7f9,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-22 17:54:26 +0400, , restore add comment stack size used restore procedure signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9684,4d3b3e8166802531aea32b8b2954d4339c2e976a,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-22 16:53:22 +0400, , file rename pop_fmap_fd pull_fmap_fd function nothing pop operation rather pull descriptor list name signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9685,69fefa4d65d6c4f04c00da355d1a1620e1674462,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-22 13:46:36 +0400, , file move structure enums header header file allow share structure caller moreover good practice definition header file otherwise really needed signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9686,1bae745ddbad82a99c4d3f8f59698343cd68e0d1,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-24 23:11:08 +0400, , add rbtree helper signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9687,5e3c0dc74284bf34ebc9dba85257088d4c79bc1c,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-24 18:26:32 +0400, , util add missing bug_on_handler signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9688,7b4c352be3a203d7763c4660eac8e5ed3e449c2b,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-24 15:12:38 +0400, , compiler add likely unlikely hint needed file handling signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9689,0d9a5b8b19b3123dc219178904cabffe869b5e2c,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-23 23:21:27 +0400, , make drop hidden directory file tag gen signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9690,cff00de82d37d46b4a1825d1584fb99e14b4f7eb,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-22 00:37:58 +0400, , syscalls introduce sys_kcmp syscall though use libc syscall wrapper would prefer implementation case need non libc bindable code signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9691,7bc585b22617314d630714eaa965c67411d1c39c,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-28 13:27:48 +0300, , parasite heap engine update use macro defining size mapped size allow allocate space including last byte signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com gorcunov max_buf_size tuneup use ops without brace signed cyrill gorcunov gorcunov openvz.org,,
9692,722398dae3d143e670b7571aeb2027149656a3da,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-28 13:34:31 +0300, , parasite remove redundant mmap page dump current heap free space enough otherwise something broken design signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9693,8cd120436e6e087325b5189ec55999fa553c4f3b,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-28 13:34:24 +0300, , parasite replace stack heap mapped one stack heap size probably small dumping unix sockest skb hard discover big could thus let assume 10mb enough otherwise give throw error let replace stack heap wil anonimous private mapping signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9694,5990b6bfa6264857439e60cc09839185d977c86b,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-22 16:18:24 +0300, , ipc message dumping updated due mainstream steal logic change signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com,,
9695,7d49fa58337d2ef49e384635ac8f927a5b0ce9f4,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-21 23:15:48 +0400, , parasite add missing void function declaration signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9696,c762d388bcf8ed6942dbf9e4328fd2c7e5fcb8d8,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-21 22:59:33 +0400, , parasite rename get_socket_name socket address generated function name signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9697,62ba357e4d16311a093e6db01eb5434737622bb7,ndrey Vagin <avagin@openvz.org>, 2012-02-21 09:25:17 +0300, , dump use prctl dump signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9698,fd5520f3c3afed85c78fab0f1f965c82b19cbd0d,ndrey Vagin <avagin@openvz.org>, 2012-02-21 09:25:16 +0300, , parasite add function execute parasite code thread signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9699,385d7e0369f171d1eb70c1e75577930855963349,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-21 17:21:42 +0300, , parasite cleanup added missed successfull status setup look redundant though unified function remove redundant argument dump_pages_fini signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9700,acf604c60c49fce31221f446e15f474069a45d00,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-21 12:10:36 +0300, ," restorer close log file detaching crtools toom risky jump address equal line numbet could valid executable code jump done address encodes line number significant bit error code least significant bit race log close process restoring opened file desctriptors check zdtm test suite crtools exit compare file descriptor detached restored process perform rest task including close log execute final system call dump sleeping00 8578 dump.fd 2012 31.246096000 0300 dump sleeping00 8578 restore.fd 2012 31.418095999 0300 1,4 1,5  dev null dev null 1023 root crtools test dump sleeping00 8578 restore.log dev null solution close log restorer final command received lead another problem inform somehow possible error afterwards done forced segmentation fault look like dmesg pipe00 4678 segfault error encodes line number significant bit error code least significant bit signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org",,
9701,7f96ec68e21de5b00a9ea678ad7fad01f71bb164,avel Emelyanov <xemul@parallels.com>, 2012-02-20 17:06:25 +0400, , show show blocked sigset signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9702,8c9c333eed0027af187a6f2d8e1e6e3a5ba4d0de,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-20 15:33:13 +0400, , restorer drop redundant sys_close already closed restore_mapping unapplied patch snippet signed stanislav kinsbursky skinsbursky openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9703,69ac4cef83ea26fa326083ed98ad1229e357bcae,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-17 15:43:17 +0300, , restorer make line shorter signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9704,c1aad883debc02b1b491cfb8efe807b0caaf6173,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-20 13:06:39 +0400, , zdtm make zdtm fail time changed list case time modified output treat error interrupting zdtm work lrwx root root feb dev null lrwx root root feb dev null lrwx root root feb dev null lrwx root root feb dev null lrwx root root feb dev null lrwx root root feb dev null signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com acked pavel emelyanov xemul parallels.com,,
9705,e40d09d75489d3de49828b42c1313a703f86b6b1,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-17 23:44:11 +0400, , zdtm run crtools debug logging mode signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9706,68654479c62ffd81549769bf352e311a7efee85b,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-17 23:41:22 +0400, , crtools drop pr_debug fdset ops redundant simply overlog output signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9707,ef97467da9c44157df375bfa7d145d7eadb6ff54,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-17 22:51:23 +0400, , log add log level signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9708,fe99f501ef54d6ce15b1576559a9dac18c3eeef7,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-17 12:17:00 +0400, , move pr_ helper log place belong util.c big already signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9709,6a0b94e7d563a725532f2f19d02197b712101f5f,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-17 11:33:15 +0400, , restore leak opened file descriptor shmem_remap forget close opened file case error signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9710,85235af88964ac77742ff237df4722dca634f26b,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-17 11:07:03 +0400, , restore use map_files map_files format defined kernel problem written still better safe side follow kernel notation signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9711,097bc0b9672cf97c87efc203de0e2cc33fa20f19,avel Emelyanov <xemul@parallels.com>, 2012-02-17 22:56:36 +0400, , dump collect mem regs sigmask atomically ptrace seize prevent signal delivery said block signal target task dumping anything signal related i.e memory register blocked signal dump register unblocking since postponed signal screw thing signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9712,447388d79b8919fab155fd7cbb5d3148385bcd34,ir Kolyshkin <kir@openvz.org>, 2012-02-17 01:39:36 +0400, , open_proc friend hide pid_dir patch try introduce lazy hidden pid_dir support meaning one worry pid_dir optimization still patch relies fact work many proc pid file one pid another pid i.e random manner idea call open_proc new pid first time appropriate proc pid directory opened stored next call open_proc pid need check pid changed case pid changed close old one open store new one code using open_proc friend doe need carry proc_pid around pid enough doe need call open_pid_proc thing done lazy mode closing last pid thus close_pid_proc signed kir kolyshkin kir openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9713,5661d806cb790f5d2c2d9cf2d890958748c62de0,ir Kolyshkin <kir@openvz.org>, 2012-02-17 01:39:35 +0400, , move error reporting inside open_proc friend ... make correctly print file name unable open also error fdopen dir reported file name well note open_proc friend need macro order pr_perror show actual file name line number error occured historical note original version patch way radical changing openat open thus removing pid_dir replacing pid needed open_proc_dir changing openat open word pavel want keep openat pid_dir optimization save two dentry lookup kernel code open optimization desire print correct file name case error carry pid pid_dir everywhere signed kir kolyshkin kir openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9714,5434d99e9ff117c771e4ad6f3ef2836635c385e4,ir Kolyshkin <kir@openvz.org>, 2012-02-17 01:39:34 +0400, , use open_proc_rw signed kir kolyshkin kir openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9715,03294077af6ed3defcb223c1a1e2867a2062c7f9,ir Kolyshkin <kir@openvz.org>, 2012-02-17 01:39:33 +0400, , util.c introduce open_proc_rw used next patch signed kir kolyshkin kir openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9716,389bd830f16203b7ac23b6eaf933b8a83b3ab1fd,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-17 15:51:51 +0400, , restorer close sysv ipc vma open map sysv ipc instead close may lead unpredictable result case sysv ipc match opened process signed stanislav kinsbursky skinsbursky openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9717,e1cac86bf8aac0dfbdc60d4d7dd978cc6004a27a,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-17 15:37:21 +0400, , restorer move vma flag anon bit manipulation restore_mapping look clearer check nothing sysv ipc mapping also modify vma_entry anymore operate local flag copy signed stanislav kinsbursky skinsbursky openvz.org gorcunov tune ups signed cyrill gorcunov gorcunov openvz.org,,
9718,4fc8bb0a0e9721ce8d1bcbce35aa6e17c5771098,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-17 12:02:49 +0300, , ipc close image file use signed stanislav kinsbursky skinsbursky openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9719,427349c737eb0601ed8607ba10cc8dd60026525f,ndrey Vagin <avagin@openvz.org>, 2012-02-17 11:16:39 +0300, , zdtm.sh clean output remove redundant message show test executed signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9720,986fa1ab86d56e2e2f92baf0fe62437f995ed400,ndrey Vagin <avagin@openvz.org>, 2012-02-17 11:01:08 +0300, , zdtm.sh detect leaked descriptor signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9721,3116e3e9303db3611d503690367713bee69d8ff9,ir Kolyshkin <kir@openvz.org>, 2012-02-17 01:39:32 +0400, , dump_one_task leak opened pid_dir make sure close signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9722,ac5c297474f6c4e0674ae155ac592f8c74757668,ir Kolyshkin <kir@openvz.org>, 2012-02-17 02:27:49 +0400, , makefile test target depend crtools otherwise make test fails clean tree crtools built side effect code modification yet compiled compiled signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9723,fb886b7de96912dbc2758dae968a82414def636b,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-16 21:54:49 +0400, , parasite print detailed error signed cyrill gorcunov gorcunov openvz.org,,
9724,cf8b39d4aa46d6ed1846948c478cfbb0f4ec9ae9,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-15 18:36:32 +0400, , util drop jerr macro signed cyrill gorcunov gorcunov openvz.org,,
9725,dcb1cbfb82201cd92045547b6986d766623f95df,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-15 18:00:50 +0400, , rework parasite code make control block keep information needed run injected syscall parasite blob add helper handle parasite engine call injected syscalls single function drop jerr usage bring back handling inflight signal original program inside parasite code signed cyrill gorcunov gorcunov openvz.org,,
9726,47ee1213f1b6beed853a2833f4cfb3f6c9ce5e72,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-15 11:49:50 +0300, , zdtm add transition ipc test ipc test list signed stanislav kinsbursky skinsbursky openvz.org signed andrey vagin avagin gmail.com,,
9727,a83b53d224cfb93014c87726e1a5ed0adf268924,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-15 11:49:43 +0300, , zdtm transition ipc test update added cloning new ipc depends built option signed stanislav kinsbursky skinsbursky openvz.org signed andrey vagin avagin gmail.com,,
9728,53ababc6804c9124e25a2ae73f8386c8f4b32b5a,ndrey Vagin <avagin@gmail.com>, 2012-02-16 12:34:22 +0400, , zdtm print warning message test process signed andrey vagin avagin openvz.org,,
9729,63d10b61045240787a306ba8d359dc71f6be6aad,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-14 19:54:27 +0300, , zdtm add static sem test ipc test list signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9730,f086010abd301c269eebf9a3ebbf6df333a4e8a2,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-14 19:54:20 +0300, , ipc restore semaphore set signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9731,4101487f878a32fcc027ee18c745d9a0968f7f0b,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-14 19:54:13 +0300, , ipc show semaphore set signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9732,4141296ed773c1038e8b91be3bc3c0d72abea1db,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-14 19:54:06 +0300, , ipc dump semaphore set signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9733,90340f75cac7e721e8ad518fe3de019c0d5938da,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-14 20:20:16 +0300, , ipc remove prohibition mapped shared memory segment migration signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9734,574302bf8d40bfeb6d54c735eb5ed0fb40bb2a16,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-14 20:20:10 +0300, , restore support sysv ipc vma patch introduces following change writing shmid value vma_area instead waiting shared memory region open parent reopen dump new syscall support sys_shmat use sys_shmat map memory region restorer mapping function vma flag set signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9735,e967566565cf9f7967140b13811468c2c5c47d37,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-14 20:20:03 +0300, , restorer move map code separated function sysv ipc segment map added patch series signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9736,a5c6c02f49063d5015d266afbd9e09758855d19f,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-14 20:19:56 +0300, , restore shmid_id structure find_shmem_id function returning shmid value enough sysv ipc shmid equal zero valid value signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9737,b3cfe73556ce24dacc197b4f5ca8d3f675104580,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-14 20:19:49 +0300, , dump support sysv ipc vma patch introduces following change introduces new flag mark corresponding vma entry enhance task proc pid map parsing obtain first letter mapped file device major file belong equal tmpfs name start sysv mapping considered sysv ipc corresponding vma entry status updated flag omit dumping mapping page sysv ipc vmas signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9738,40fc4d2122a909cf27ef65eeb0bc73265b961cef,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-15 11:59:45 +0400, , merge branch zdtm http github.com avagin crtools zdtm http github.com avagin crtools zdtm remove white space zdtm transmit crtools dump zdtm kill test process case error,,
9739,9ad1de0a4fa1a32ab10eed91255bbb56bf838729,ndrey Vagin <avagin@openvz.org>, 2012-02-15 08:20:42 +0300, , zdtm remove white space signed andrey vagin avagin gmail.com,,
9740,3b2bc56e2278ea719a4d8f225e0a491797b55147,ndrey Vagin <avagin@gmail.com>, 2012-02-14 16:22:44 +0400, , zdtm transmit crtools dump functionality used check dump destructive signed andrey vagin avagin gmail.com,,
9741,9e41d474f39b00557778961e13938ed85da7c8e0,ndrey Vagin <avagin@gmail.com>, 2012-02-14 16:07:39 +0400, , zdtm kill test process case error want maximum info error signed andrey vagin avagin gmail.com,,
9742,7c961a7b8f07c2d756758d2319c3bc34c54e0a7d,ir Kolyshkin <kir@openvz.org>, 2012-02-14 18:37:11 +0400, , include types.h cleanup remove _fileno defines already provided unistd.h user log.c already includes unistd.h signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9743,e999e9fa29bbc388ed66c41d6bbc61901bafd2b1,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-14 14:09:01 +0300, , restore fix zobie typo signed stanislav kinsbursky skinsbursky openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9744,9b73ad59e952649314bc0b60c4882c25682e9c5f,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-13 20:27:49 +0300, , ipc restore message queue signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9745,24c4381644b2cbd4969448478a14b58a140fbf99,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-13 20:27:42 +0300, , ipc show message queue dump content signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9746,fa2ff60680e4bf8b00f83639a6bd94bae65e5e7f,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-13 20:27:35 +0300, , ipc dump message queue new msg_steal functionality used signed stanislav kinsbursky skinsbursky openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9747,b60524abefe3273018341e5aed8eae02b2a2ec3c,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-13 20:27:56 +0300, , zdtm add static msgque test ipc test list signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com acked andrew vagin avagin parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9748,c45e6224807d683febd78cf4e10bd751ace7040a,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-14 17:39:12 +0400, , merge remote tracking branch avagin zdtm avagin zdtm zdtm transmit crtools dump zdtm kill test process case error zdtm add static shm test ipc test list zdtm wait ipc queue message operation,,
9749,293d999e4f1fa27dd2662c285bc705067a0829a8,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-13 23:17:51 +0400, , parasite code grouping mmap_seized return null error drop redumdant test setup control block one group need err_free label xfree handle null easily prepare register munmap_seized call error path signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9750,a349f1f137dcdf4c2d4c4561a312e831abd5d2a3,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-13 23:06:18 +0400, , parasite cleanup syscall_seized label redundant must try restore poked area parially corrupted signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9751,96b8f94d8917a25cb0e1263e7b66942686e4731d,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-13 23:02:23 +0400, , parasite execute parasite blob need prepare regs signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9752,14cca95ea1f12eb99e79ac6f9dc30f6dc3a27b45,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-13 21:55:53 +0400, , parasite restore code indentation func change signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9753,12b38e7692bf57f9f5f60af4941eae431cdef7b9,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-13 21:49:18 +0400, , parasite inject code blob actually problem since never reach tail blob better safe side guarantee .data section end exactly blob final byte signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9754,39976326c97fd8fb1e09af341193d2269fc31f6a,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-13 21:46:35 +0400, , util net make sure real data message otherwise weird address might dereferenced signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9755,f130df9234ea846839a9747335666c3669192466,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-09 19:09:09 +0400, , util net zeroify structure signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9756,86392b7f2f60f18f69587b8403cdc31ad3606db3,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-13 21:37:18 +0400, , compiler add compiler noinline attribute barrier helper needed moment needed parasite restorer code rework time add forget signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9757,0fe72423c1b1f8d9c7a8bc6e6dfdbc6b72c912ea,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-13 12:09:22 +0400, , parasite make sure dot name generated name may dot mangled signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9758,2a0cea29977c9461c6da8506c26549c683ffe8d2,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-13 21:22:16 +0400, , parasite add run time stack alignment signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9759,536eaa0f037743137ab12d8e5149fa41577da7eb,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-09 18:08:31 +0400, , parasite shrink long line bootstrap code signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9760,b89d8394cf877922329961670a3dddfbbe7b2242,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-12 19:45:45 +0400, , make add target pretty convenient asm generated code hand hunting weird problem signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9761,5988d401b77ea37e04686b4eefeec1a283706c5d,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-09 22:13:52 +0400, , add processor flags.h need parasite signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9762,be8ef9ff32385bac10196d7fb13468c683f5717d,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-08 20:39:24 +0400, , parasite make sure structure passed small enough signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9763,60fc4ed76a2370363d8a6ed225e3b296f2ac71d9,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-08 20:36:59 +0400, , parasite cleanup get_vma_by_ip signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9764,ae817148e0df81323a22fa04f3fbaab6ce9b0222,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-08 20:17:59 +0400, , parasite code style tuning header easier read signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9765,2109271601d68f5ed52303dd92b195a7e99ed610,ndrey Vagin <avagin@gmail.com>, 2012-02-14 16:22:44 +0400, , zdtm transmit crtools dump functionality used check dump destructive,,
9766,a9f130fd82b3b5d2ff1dd50acaaffd26d61f1dbe,ndrey Vagin <avagin@gmail.com>, 2012-02-14 16:07:39 +0400, , zdtm kill test process case error want maximum info error,,
9767,6c0b5becf58625e203ffc805456895b1aebc377b,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-10 13:02:53 +0300, , zdtm add static shm test ipc test list signed stanislav kinsbursky skinsbursky parallels.com signed andrey vagin avagin gmail.com,,
9768,87b5456f62cf25f607ad666dade20767f5caf23f,ir Kolyshkin <kir@openvz.org>, 2012-02-14 03:10:29 +0400, , makefile add distclean target ... move tag cscope removal make clean traditionally used remove compiler generated stuff order clean rebuild make distclean clean used prepare source make dist creating source tarball unfortunate find run make tag cscope every time make clean signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9769,fcfd705d39b10da4a01227bc0cba75ab2dbab4b3,ir Kolyshkin <kir@openvz.org>, 2012-02-14 03:00:24 +0400, , parasite.c use .space .skip inline asm beginning word word .space later .skip introduced synonym .space initially 680x0 platform sole reason patch use clang llvm check code unfortunately doe understand .skip printing long ugly warning like avoid signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9770,f86d167bf11052994e1685a75c47576b9e99ac18,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-13 18:19:15 +0300, , ipc rename struct ipc_seg name structure obfuscating structure used also queue semaphore set migration patch renames structure int ipc_desc_entry also renames related function print reflect structure name change signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9771,dfa08e86d1179e93b406b9a61227ce756ae81405,avel Emelyanov <xemul@parallels.com>, 2012-02-12 14:52:14 +0400, , parasite mark static signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9772,e6823c274eadcc11cc0f3c6535b6ec9ef94ad3f4,avel Emelyanov <xemul@parallels.com>, 2012-02-12 14:51:38 +0400, , parasite enlighten parasite cmd adg injection since parasite memory shared crtools process memcpy data signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9773,354ab03a67bfd77c2625b1b5d7e45c8db7e3f371,avel Emelyanov <xemul@parallels.com>, 2012-02-12 14:50:34 +0400, , parasite enlighten parasite blob injection like poke parasite remote space call ptrace proc pid map_files dir help sharing mapping process use map remote area parasite locally put parasite blob simple memcpy signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9774,2b1a58b3b4a5b2b618f367adfcf7e40a56684bb6,avel Emelyanov <xemul@parallels.com>, 2012-02-12 14:48:37 +0400, , parasite remove unneeded stack variable signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9775,250d4e91112088e3002b3dfd73612854a5cbe4b9,avel Emelyanov <xemul@parallels.com>, 2012-02-12 00:36:45 +0400, , parasite remove extra stack regsets fact need parasitic syscall original regs regs syscall args work former one obtained infect cure code latter one located copied orig nearby said simplify regs passing code removing intermediate instance utilizing top level reg signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9776,cf662edc5619869ccab9ce6a635f0b481459a30d,avel Emelyanov <xemul@parallels.com>, 2012-02-12 00:34:12 +0400, , parasite make mmap munmap_seized static signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9777,aef3c0af43ade33f6ed2a825e4514f65c2c0c757,avel Emelyanov <xemul@parallels.com>, 2012-02-12 00:33:30 +0400, , parasite minor getregs optimisation need getting regs one time orig_regs hand signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9778,cdbd2563bf3653be52159a304f4ae494b6df436f,avel Emelyanov <xemul@parallels.com>, 2012-02-12 00:32:32 +0400, , parasite symplify syscall_seized need instance regs argument one enough plus one made static signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9779,4437a1cf59d4795ad6f3476daf4f6fe6e0fa7c23,avel Emelyanov <xemul@parallels.com>, 2012-02-12 00:31:22 +0400, , parasite remove unneeded getregs signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9780,c56574b411de65c6ae45262542e57ea2d016db10,avel Emelyanov <xemul@parallels.com>, 2012-02-12 00:30:24 +0400, , dump obtain task brk via misc dump command right syscall_seized misc dumping command core patch dump parasite get brk misc dump thus avoiding one switch parasite signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9781,583a7fe8c3f1747eb7825e4a68720a93f7f4cbba,avel Emelyanov <xemul@parallels.com>, 2012-02-12 00:28:36 +0400,4, dump move core dumping behind parasite code run required patch signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9782,028d5df3b0017dd91c176bcad1c98cc40aa21887,avel Emelyanov <xemul@parallels.com>, 2012-02-12 00:27:37 +0400, , parasite remove kill_seized used code signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9783,227f17719484381908b3c23f660663206b2ba017,avel Emelyanov <xemul@parallels.com>, 2012-02-12 00:26:54 +0400, , split dumped page location actually doe two thing parasite code writes page _or_ pages_shared file based hint given main program avoids shared page copying finalize_core private page moved core file separate one avoids private page copying finalize_core goal patch avoid page copying still one restore fixing requires andrey work shared memory dumping make big blob page stored separate file plan format rework unification signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9784,76a0186c1cdea384bea1d51a7f02616276cf05a0,ir Kolyshkin <kir@openvz.org>, 2012-02-11 03:30:10 +0400, , sockets.c use pr_perror appropriate signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9785,41fb6b3f6bb9c5cd06de7eb7d9fee24a9e50e004,ir Kolyshkin <kir@openvz.org>, 2012-02-11 03:30:09 +0400, , show_unixsk avoid buffer overflow say case corrupted img file signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9786,bf1ca46d43c69f20fe65e9dddd99a51b0e15fc2e,ir Kolyshkin <kir@openvz.org>, 2012-02-11 03:30:08 +0400, , show_unixsk show backlog real probably typo commit 1a1979c signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9787,b5a377ca7dd2d921f9a47f0494d188d37410f6bb,ir Kolyshkin <kir@openvz.org>, 2012-02-11 03:30:04 +0400, , files.c fix error message use perror since read set errno signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9788,717994a4fd836ec580fb51a3dddf2cd4fffb6582,avel Emelyanov <xemul@parallels.com>, 2012-02-10 20:18:08 +0400, , restore parse pstree twice file parsed find fork 2nd time find thread create remove 2nd parse holding info found 1st stage local variable signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9789,36dc98ad2a4a46ef06498ec0c3a3aab7fa8124be,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-10 18:34:09 +0400, , dump fix test syscall return low bit orig_ax meaningful obtaining syscall number need test sign extended bit greater reported kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9790,82e548ecca91010e80e3a6c413d3aee6771267f5,ir Kolyshkin <kir@openvz.org>, 2012-02-10 17:53:56 +0400, , socket.c use const whenever possible signed kir kolyshkin kir openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9791,d5fa75c0043f82751ae72410b5fafb32f909162c,ir Kolyshkin <kir@openvz.org>, 2012-02-10 17:53:55 +0400, , sockets.c fix unify error message signed kir kolyshkin kir openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9792,fb59be3c115a2aeb40b11043c93604b656f7bf4a,ir Kolyshkin <kir@openvz.org>, 2012-02-10 17:53:54 +0400, , sockets.c cleanup break long line code change pure cleanup signed kir kolyshkin kir openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9793,26a7056c2613eb699ef7d75c19e3b8fb32d4c9f7,ir Kolyshkin <kir@openvz.org>, 2012-02-10 17:53:53 +0400, , sockets.c cleanup need backslash calling define fix long line code change pure cleanup signed kir kolyshkin kir openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9794,4749ef2626310ce5fa1c72ca1c705e3429b2df23,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-10 17:32:08 +0400, , syscall drop unneeded addr variable otherwise become global variable propagated even file must reference parasite code symbol table .symtab contains entry num value size type bind ndx name ... file local default parasite.c ... object global default addr signed cyrill gorcunov gorcunov openvz.org,,
9795,54091c9b73e3421956c1fa0292fc484a9c00a8a7,avel Emelyanov <xemul@parallels.com>, 2012-02-10 15:35:01 +0400, , socket fix dgram socketpair restore connected name thus connect job fails use fake one signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9796,f27c83c70c4a278c393680c9b66203c0f3b1f270,avel Emelyanov <xemul@parallels.com>, 2012-02-10 15:33:21 +0400, , socket one fake address preparation fake bind name trimmed char signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9797,2e0e295b51afb3b178515d7ad75debf8a8be6ebc,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-10 15:03:40 +0300, , zdtm wait ipc queue message operation otherwise test sleep kernel case queue emptry read queue full write signed stanislav kinsbursky skinsbursky parallels.com signed andrey vagin avagin gmail.com,,
9798,01198ad7dfcf363f6d9d2530c13fcb35a5c7c90f,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-10 13:42:50 +0300, , ipc add error print case image read failure variable restore signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9799,0f1b3229a357e86665f0d15c82b57c47f4e077a1,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-10 13:16:49 +0300, , ipc added error print case shm obj read failure signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9800,71471920309a6033bec3ae944a88230821b842af,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-10 13:05:06 +0300, , ipc define key global define key used also restore stage signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9801,ece90f467c662dbc8cc708ee1a1b5a8cb5e19396,ndrey Vagin <avagin@openvz.org>, 2012-02-08 23:11:47 +0300, , zdtm.sh check dump non destructive patch add new option zdtm.sh ... doe restore instead wake test process dump check result test signed andrey vagin avagin gmail.com acked pavel emelyanov xemul parallels.com,,
9802,eb44dc38d351c08da0bb80a441151527252171ef,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-10 11:19:57 +0300, , zdtm ipc semaphore migration test process semaphore per process check sem migration child also check parent semaphore migration key signed stanislav kinsbursky skinsbursky parallels.com signed andrey vagin avagin gmail.com,,
9803,a0e7d4fda19827581eccd6171b3edae66dc74a57,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-10 11:19:50 +0300, , zdtm static msgque test update msgque test removed zdtm.sh feature supported yet added namesapce isolation added non empty queue state migration added one backward message send child send message back receiving one parent signed stanislav kinsbursky skinsbursky parallels.com signed andrey vagin avagin gmail.com,,
9804,d131bdfcee48c674a03b3a8dd39799b2fd1dfc02,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-10 11:19:43 +0300, , zdtm update static ipc_namespace test due isolation change signed stanislav kinsbursky skinsbursky parallels.com signed andrey vagin avagin gmail.com,,
9805,1094c358fec03d7aa24b3299c442522ff9145b92,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-10 11:19:36 +0300, , zdtm update static utsname test due isolation change fixed returning zero errno value case sys_write fail signed stanislav kinsbursky skinsbursky parallels.com signed andrey vagin avagin gmail.com,,
9806,9b598d01f0686b0e3939162fcc025c7c17c848de,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-10 11:19:28 +0300, , zdtm update static shm test due isolation change added missed print error pathes signed stanislav kinsbursky skinsbursky parallels.com signed andrey vagin avagin gmail.com,,
9807,f5f931f0aa2faee2a3adb2ae7f1f50414d5726c8,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-10 11:19:21 +0300, , zdtm enhance namespaces isolation environment pas cmd line args function clone required parametrized test handle function result required multi process test signed stanislav kinsbursky skinsbursky parallels.com signed andrey vagin avagin gmail.com,,
9808,c79532b4355bc9809929e51367cd3974d9d3a155,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-10 11:19:14 +0300, , zdtm return positive value clonned process signed stanislav kinsbursky skinsbursky parallels.com signed andrey vagin avagin gmail.com,,
9809,7ebf757d1603cb3f77406d38d04642eedc07861c,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-09 12:09:55 +0300, , ipc restore shared memory signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9810,516099d885924652e4df191a23b253f537c2a1d9,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-09 12:09:48 +0300, , ipc show shared memory dump content signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9811,3d886be2c66992f885e46ed970e22bb7fb343b64,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-09 12:09:41 +0300, , ipc dump shared memory signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9812,9ef1cb99b666c9eed532471bb18c380c5b6f6e39,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-08 15:50:03 +0300, , show add ipc variable show command signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9813,65e8eb7a2d78bfe02173fca78ce41d09d1063b2d,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-08 17:29:54 +0300, , show check show signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9814,a0ec1002b20a144d12c20102cdb3a65c56017700,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-08 20:19:39 +0300, , crtools cleanup fdset initalization wrapper name become obfuscating patch update function cr_fdset_open suitable handling fdset creation dump show stage replaces cr_fdset_open new wrapper function cr_fdset_dump replaces new wrapper function cr_fdset_show signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9815,fb1d1aa2c60755cc614d7f12fb89210550b00735,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-08 17:00:32 +0400, , restorer fix code indentation func change signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9816,6a607827aad58b588c672f2c5660a9a3bca2dd05,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-08 16:58:30 +0400, , restorer change endless loop sys_exit case error error happens late restore stage better exit error dive endless loop loop useful early prototype time use zdtm test suite example force injected error report restoring exe home crtools test zdtm live static selfexe00 764 11308 error restore.c 1280 11308 exited status 255 error restore.c 1412 someone restored way better silent loop reported pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9817,3665a8972bcf6f0951d61b4141f6a59dc1aaac51,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-08 14:47:18 +0300, , ipc use constant pointer possible signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9818,530f9d9030799bdf7b2a58993010f269bf53bda3,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-08 12:13:38 +0300, , ipc collect dump tunables sequentially patch remove collect stage dump tunables object right collect signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9819,0998335d9480d861fa3684c66255abff8144141c,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-08 14:11:54 +0400, , dump make sure error code returned pr_panic case critical error happened checkpoint procedure program exit immediately signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9820,82a8a8ff95200968f44a86a70cc59ed5325f85b9,avel Emelyanov <xemul@parallels.com>, 2012-02-08 16:09:04 +0400, , socket decode kernel dev_t stat one unix diag stat report dev_t different format cast one another comparing unix dumping signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9821,02c8793c6e76a38ba2e6331795746ebd7a80f503,avel Emelyanov <xemul@parallels.com>, 2012-02-08 12:51:53 +0400, , socket fix file bound socket check signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9822,a3fe624c55a5c3428dfe659bbda0a464fb39213e,ir Kolyshkin <kir@openvz.org>, 2012-02-07 23:53:50 +0400, , sockets00 use snprintf way easier way signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9823,f5ca8b98fea21c56ee348d97e08b9801609f4bba,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-07 16:52:57 +0400, , zdtm update sockets00 test add dgrams look ugly test case signed cyrill gorcunov gorcunov openvz.org,,
9824,872ba20f880e247b4a2ed0c448d522be1468b818,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-07 13:59:44 +0400, , zdtm add selfexe00 test case signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9825,60f180aa77d028e47a34a8fc75f716ff98d7bc87,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-07 19:20:17 +0400, , dump special file one place signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9826,76a249282e3d8ed80694f3dacd532629c62477db,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-07 19:32:11 +0400, , restore add checkpoint restore proc pid exe symlink patch add ability checkpoint restore proc pid exe symlink process checkpointed say path exe restore time bring path back restiction kernel side existing proc pid exe already mapped kernel refuse change symlink need restore lately mmaps crtools already unmapped via late call restorer.c signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9827,3ba59270812ded185b20fd040d451fe3c0f72baf,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-07 13:29:01 +0400, , restorer make sure prctl call fail signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9828,30bce3db9384c8944d0f8749a772994e346aef40,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-07 18:37:03 +0400, , tool update commit bot temporary action move git repo server signed cyrill gorcunov gorcunov openvz.org,,
9829,2a77ebbff49db7b53c81e781216bd5487f6306e0,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-07 18:03:11 +0400, , merge branch zdtm http github.com avagin crtools zdtm http github.com avagin crtools zdtm fix silly goto loop static shm,,
9830,5b8c7bbf84dde9ae243cba0fb60ae010d3eeabfe,avel Emelyanov <xemul@parallels.com>, 2012-02-07 16:00:13 +0400, , socket helper scheduling acc job one place helper make code look almost perfectly signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9831,bc9089e57edda2c53b2aab0f9cd6b2ee5da191dc,avel Emelyanov <xemul@parallels.com>, 2012-02-07 15:59:12 +0400, , socket use api bind helper signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9832,57eea3d3fd3d19987d62ac47b8e938d9559b112d,avel Emelyanov <xemul@parallels.com>, 2012-02-07 15:58:32 +0400, , socket helper binding unix socket one read name image doe preparation bind call bind signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9833,e1ed063f7935ff2087b6b19e3fc45a66a3229f57,avel Emelyanov <xemul@parallels.com>, 2012-02-07 15:57:32 +0400, , socket merge dgram stream listener fully coincide need distinguish socket type thus add type member unix_sk_listen merge two hash signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9834,2d9873e051efbeb0f279a25a96519a372d541c0d,avel Emelyanov <xemul@parallels.com>, 2012-02-07 15:56:05 +0400, , socket helper scheduling conn job signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9835,b845fa3424a3b1d29f8c8eb8fbae2d89fdb30a35,avel Emelyanov <xemul@parallels.com>, 2012-02-07 15:55:11 +0400, , socket merge dgram stream conn job structure used logic connection infrastructure ready signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9836,23cf6f84d9a879aa28316f177d50b85aafd6eac3,avel Emelyanov <xemul@parallels.com>, 2012-02-07 15:54:03 +0400, , socket replace socket conn job flag type required simpler future patching signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9837,8f70115461f9b5aece11361193fec8246f407b20,avel Emelyanov <xemul@parallels.com>, 2012-02-07 15:53:08 +0400, , socket factor dgram conn job structure unix_dgram_peer coincides unix_conn_job signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9838,5bff96f758d90b95695009effd059d92c5f45ea8,avel Emelyanov <xemul@parallels.com>, 2012-02-07 15:52:07 +0400, , socket factor dgram conn job structure fully coincides unix_sk_listen signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9839,fe598403dfdc9a5d0ea2ea4c3da02138f43eb96e,avel Emelyanov <xemul@parallels.com>, 2012-02-07 15:51:08 +0400, , socket delay dgram connection time try resolve datagram socket connection name end may yet hash move address resolution conn job signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9840,aeabf03133230d55285ca0536bbf94ea43ea62d4,avel Emelyanov <xemul@parallels.com>, 2012-02-07 15:50:00 +0400, , socket datagram connection fix address length real length buffer size signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9841,75cb79973e111da24fa304040294a4a2856c90b0,avel Emelyanov <xemul@parallels.com>, 2012-02-07 15:49:04 +0400, , files.c use api signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9842,552f5ce3205d52d439cd4dd4c7098c660ca5d137,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-07 16:14:28 +0300, , zdtm fix silly goto loop static shm signed stanislav kinsbursky skinsbursky parallels.com signed andrey vagin avagin gmail.com,,
9843,4d746277ad4c47da6a4855481e7b9fbc4cddf472,ndrey Vagin <avagin@gmail.com>, 2012-02-07 15:10:22 +0400, , zdtm correct mail,,
9844,f9408a054e0796416f7f06897f79663f980ef7bb,ir Kolyshkin <kir@openvz.org>, 2012-02-06 22:07:19 +0400, , test zdtm.sh kill test case process crtools failed leave running signed kir kolyshkin kir openvz.org signed andrey vagin avagin gmail.com,,
9845,6f5cf13f292e925774314ba721a3634978a0d9e9,ir Kolyshkin <kir@openvz.org>, 2012-02-06 22:07:18 +0400, , test zdtm.sh sanity check crtools existence otherwise test far signed kir kolyshkin kir openvz.org signed andrey vagin avagin gmail.com,,
9846,be020f7a6c6becc74a3cb3bef4fd30cbb45a567b,ndrey Vagin <avagin@gmail.com>, 2012-02-07 11:34:36 +0400, , zdtm.sh fix error handling,,
9847,17018e7bb6946cea3a40ec3d0aa125c5e28ba951,ndrey Vagin <avagin@openvz.org>, 2012-02-07 10:54:49 +0300, , socket_listen add workaround eaddrinuse crtools restore sockopts test executed second time bind may return eaddrinuse signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9848,3ca881511b633eb97c821a2e1ccf8b2c6bc3ce2b,insbursky Stanislav <skinsbursky@openvz.org>, 2012-02-06 17:54:46 +0300, , zdtm shm test update cleanup issue fixed new cloning new ipc depends built option check lookup shared segment key added check creation new segnent migration added check syscalls result added signed stanislav kinsbursky skinsbursky parallels.com signed andrey vagin avagin gmail.com,,
9849,2305923ee8eef1bbc654473d3a515aa5a2d20135,ndrey Vagin <avagin@gmail.com>, 2012-02-06 18:07:46 +0400, , zdtm.sh add futex test signed andrey vagin avagin gmail.com,,
9850,f2734ce8254dbaaf82f22ec61ba9ae296d0624ae,ir Kolyshkin <kir@openvz.org>, 2012-02-06 20:57:29 +0400, , test zdtm.sh formatting fix put echo separate line keep text within column visually check position semicolon signed kir kolyshkin kir openvz.org signed andrey vagin avagin gmail.com,,
9851,060fb6fed2d9358470386a0fdd1eda01a935660a,ir Kolyshkin <kir@openvz.org>, 2012-02-06 20:57:28 +0400, , test zdtm.sh trivial nitpicks remove excessive quote uneeded semicolon break signed kir kolyshkin kir openvz.org signed andrey vagin avagin gmail.com,,
9852,6cc9482a1ac10142fc03ab4e482d40e704468dba,ir Kolyshkin <kir@openvz.org>, 2012-02-06 20:57:27 +0400, , test zdtm.sh simplify showing list test echo normalizes space convert newlines signed kir kolyshkin kir openvz.org signed andrey vagin avagin gmail.com,,
9853,60a35bfaa963c182348a583bc3bedbaa103481e4,ir Kolyshkin <kir@openvz.org>, 2012-02-06 20:57:26 +0400, , test zdtm.sh fix check test name use match substring need use quote signed kir kolyshkin kir openvz.org signed andrey vagin avagin gmail.com,,
9854,0bf98db4d902c9793f3d1a0da6027726dd70d14c,ir Kolyshkin <kir@openvz.org>, 2012-02-06 20:57:25 +0400, , test zdtm.sh cleanup run_test call use shift run_test need quote argument signed kir kolyshkin kir openvz.org signed andrey vagin avagin gmail.com,,
9855,56efc51a5bc5074b462f348526f3615d796fca6e,ir Kolyshkin <kir@openvz.org>, 2012-02-06 20:57:24 +0400, , test zdtm.sh cleanup mark local variable signed kir kolyshkin kir openvz.org signed andrey vagin avagin gmail.com,,
9856,dae80231b0bf7ecfc50b61e9b24e8e8e70ff5aa9,ir Kolyshkin <kir@openvz.org>, 2012-02-06 20:57:23 +0400, , test zdtm.sh cleanup remove mention replace two signed kir kolyshkin kir openvz.org signed andrey vagin avagin gmail.com,,
9857,5059cc7b0aa1524679e20fb45f3b56433bb02224,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-02-03 16:48:51 +0300, , show ipc cleanup signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9858,6079c5092580605f9a06f2de0421f92acc6d33e5,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-02-03 16:48:44 +0300, , checkpoint switch namespaces collect stage cleanup patch signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9859,f054b3821d99330fe2f3236cd94a0c152681c8f1,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-02-03 16:48:37 +0300, , checkpoint replace write_img_buf write_img ipc code signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9860,8971be17fd2d22b8bc1f7e2b5022ca907522d901,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-02-03 16:48:30 +0300, , checkpoint namepsaces info dump log signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9861,4d962b27c0e2d631e1ae8729d33f5e5b2de032d5,ndrey Vagin <avagin@openvz.org>, 2012-02-02 13:15:00 +0300, , crtools dump restore pthread_join work patch signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9862,e8c6c877ed4ece1d20828ee67f657a08dd445296,ndrey Vagin <avagin@openvz.org>, 2012-02-02 13:14:59 +0300, , syscall add set_tid_address signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9863,06cc19511aaeb871bc9367579619a1670bc7ed29,avel Emelyanov <xemul@parallels.com>, 2012-02-03 14:49:57 +0400, , ptrace send signal final state explicitly according oleg ptrace_kill supposed work thus kill task final state explicitly detach signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9864,cff9654d62d55d766bada356f0f4b4301b13640b,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-02 21:18:32 +0400, , fail show data dumped signed cyrill gorcunov gorcunov openvz.org,,
9865,995b0bf5e71db7cdf4cd6696d9830a9025560f9b,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-02 21:15:44 +0400, , ipc fail show data dumped signed cyrill gorcunov gorcunov openvz.org,,
9866,405985e9647c025d7ab7fee38d9647da80ad0e93,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-02 19:55:48 +0400, , add sysctl handling engine since need operate sysctls pretty heavy better add common engine handler based patch pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9867,73b93182af58b24935092f7adfc5753a4ed9299b,ndrey Vagin <avagin@openvz.org>, 2012-02-02 13:48:46 +0300, , zdtm.sh fail pid file exist signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9868,6ee58e4b0e20bb759bb25ac686426cf59948b177,ndrey Vagin <avagin@openvz.org>, 2012-02-02 13:35:33 +0300, , make remove test dump directory clean directory contains image file remains test signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9869,e5929ab9711a000d2cb7d16715c00edc880d3bc8,ndrey Vagin <avagin@openvz.org>, 2012-02-02 13:38:07 +0300, , restore sync thread use save mechanosm process thread start together process thread segfaulted able detect signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9870,27b20dfcc6ad48512637b62624e2712514cd9723,ndrey Vagin <avagin@openvz.org>, 2012-02-02 13:32:55 +0300, , restore clean code synchronizes resume task added two mechanism synchronization second one better patch deletes first one entry pid lock task entry shared process need lock use pid crtools kill process someone failed malloc xmalloc signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9871,a038cbd9b8800bca5af3e79c033f20708ac10ab1,avel Emelyanov <xemul@parallels.com>, 2012-02-02 01:28:16 +0400, , file fix memory overflow check shared file otherwise skip shared segment overflow big scale test sporadically fail signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9872,153c033d7e3fc7856c3b4abb4d4e6fe41598a8b8,avel Emelyanov <xemul@parallels.com>, 2012-02-02 01:26:22 +0400, , zdtm add sleep zombie00 creating zombie must wait appear test support zombie transient state thing use wait synchronous call thus suck use sleep signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9873,766a42e3167738d8dfe4c599a83321bde03e6808,avel Emelyanov <xemul@parallels.com>, 2012-02-01 22:06:51 +0400, , ptrace kill task explicitly detaching strange fact task seems live time ptrace_kill know yet happens poking oleg one make die right streaming file read test pass signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9874,e61605169f0c06c15d806c051938ec80492357bb,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-01 19:45:31 +0400, , ctrools rewrite task thread stopping engine back commit brings former rewrite task thread stopping engine commit back handling separately complex better try handle place note test might fault expected  stopping task stop proceeding seize actually excessive seize enough moreover killing task stop also racy since task given time come sleep proc parsed rewrite code seize task thread beginning distinguish stopped task state migrate properly supported need implement thing however one big problem seize task seize thread loop reading proc pid task seizing content dir stop changing done  besides seized task thread scan child list task get reparented init task child call clone clone_parent flag thus repopulating child list already seized task done also patch ugly yes splitting help review much sorry  signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9875,ab82c2de9848ccac38e80304f4274fe612f60720,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-01 19:07:00 +0400, , revert ipc drop u32 image simply use u64 time reverts commit break ipc test case need investigate,,
9876,63b88720a3bc8c08d1dbc53f7da6aaf6625de3eb,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-01 19:00:53 +0400, , revert ctrools rewrite task thread stopping engine reverts commit break transition file_read test case,,
9877,57454c524b13e70dff1aaf09267954f4cd9ad0b8,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-01 19:00:02 +0400, , revert make switch default reverts commit need investigate code generated parasite since dumper fails,,
9878,aa19c22e85f282c234542524f3b2d9a2fe42d785,ndrey Vagin <avagin@openvz.org>, 2012-02-01 13:00:52 +0300, , make link parasite.o util net.o signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9879,d4c67416e92a707538af2ea163a5203b92a71a07,ndrey Vagin <avagin@openvz.org>, 2012-02-01 13:00:51 +0300, , parasite transfer image parasite open image file parasite signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9880,13faf4ee7f346e3ac271899a70f9e44978e506e3,ndrey Vagin <avagin@openvz.org>, 2012-02-01 16:23:50 +0300, , parasite create unix socket parasite transfering used absolute pathes image wrote logging message stderr target process able create send parasite signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9881,1465fade3b10e3329123ae474c9a00e62d3864fa,ndrey Vagin <avagin@openvz.org>, 2012-02-01 13:00:49 +0300, , util move recv_fd send_fd separate file used parasite signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9882,fd7c44dd8629d503b08421ec8b7ecb6effc0fc81,ndrey Vagin <avagin@openvz.org>, 2012-02-01 13:00:48 +0300, , util add socket syscalls signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9883,339ad2d887185d0f2cd358593a5805c2ff0a6775,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-01 15:54:04 +0400, , file get rid strict aliasing violation signed cyrill gorcunov gorcunov openvz.org,,
9884,7050ea2ca842c03a946faf05fbc95653d2d38f59,avel Emelyanov <xemul@parallels.com>, 2012-02-01 17:05:11 +0400, , zdtm static pstree test waiting andrey pthread join fix infrastructure fokring zdtm extend thread besides need fix seizing dynamically forking task write transition pstree test signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9885,6da51eee3f6cd7aca9dd88275844e73fb78b767b,avel Emelyanov <xemul@parallels.com>, 2012-02-01 17:03:51 +0400, , ctrools rewrite task thread stopping engine stopping task stop proceeding seize actually excessive seize enough moreover killing task stop also racy since task given time come sleep proc parsed rewrite code seize task thread beginning distinguish stopped task state migrate properly supported need implement thing however one big problem seize task seize thread loop reading proc pid task seizing content dir stop changing done besides seized task thread scan child list task get reparented init task child call clone clone_parent flag thus repopulating child list already seized task done also patch ugly yes splitting help review much sorry signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9886,501d85193cb356f6f6849af02814982356d18b73,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-01 16:22:48 +0400, , make switch default turn ggdb3 debug optimization turned early prototype stage need carry  signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9887,6f589a4f6e59cb0399b0806db919f8b3cd04fe9f,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-01 16:19:33 +0400, , socket fix problem compiled debug sockets.c function sockets.c 151 error format expects argument type intâ argument type char werror format sockets.c function sockets.c 925 error unknown escape sequence werror signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9888,4f83d028ff3062d23357f62583f22381805c6bda,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-01 16:15:15 +0400, , ipc drop u32 image simply use u64 time eliminate ipc_ns.c 287 error dereferencing type punned pointer break strict aliasing rule werror strict aliasing make code simplier signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9889,7197b9467dc740d35ace3290d91c7aed69a28b26,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-01 15:58:30 +0400, , namespaces eliminate uninitialized ret usage signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9890,779e8b630d365b47a43da03224dbdcab6b435ff9,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-01 17:20:23 +0400, , merge branch zdtm http github.com avagin crtools zdtm http github.com avagin crtools zdtm set sa_restart everywhere zdtm.sh clean zdtm print test dir dump restore path case error,,
9891,3f614e449896ff53628b9e5ed90a9c3ca457ad7c,ndrey Vagin <avagin@openvz.org>, 2012-02-01 16:02:02 +0300, , restore fix length spliced data signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9892,dd73699b374031077f64b3b708fa218bd14b5382,ndrey Vagin <avagin@gmail.com>, 2012-02-01 16:44:57 +0400, , zdtm set sa_restart everywhere,,
9893,0981f36179aac4c7319077d6a576e45a55e39fb0,ndrey Vagin <avagin@gmail.com>, 2012-01-31 15:11:40 +0400, , zdtm.sh clean,,
9894,795d64574da4086888532175c55898e9a3bd7148,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-01-30 16:28:45 +0300, , zdtm print test dir dump restore path case error cosmetic chages due public pressure silly miss fixed finally workks expected fixed wrong error print successfull run zdtm test space removed print test output file path present print dump restore file case running test suit signed stanislav kinsbursky skinsbursky parallels.com signed andrey vagin avagin gmail.com,,
9895,229defc9280f4c460e667330f75266ff56f20716,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-01 15:24:39 +0400, , make sure uninitialized value used got compilation option used restore.c 1069 error retâ may used uninitialized function werror uninitialized sockets.c 1145 error skâ may used uninitialized function werror uninitialized first case ret indeed might uninitialized second case goto err called early fix signed cyrill gorcunov gorcunov openvz.org,,
9896,3876cadad18a8b9443dfa0f994b09945150360cb,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-01 15:11:19 +0400, , make doc use makefile.inc signed cyrill gorcunov gorcunov openvz.org,,
9897,9993ab395a859ada59b25df7275fb1d5614f50d1,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-01 15:10:55 +0400, , make clean doc make clean well signed cyrill gorcunov gorcunov openvz.org,,
9898,7a7315d09bf183428fae52cb82adaef9a877ef63,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-01 15:07:30 +0400, , make fix documentation makefile rebuild man without change signed cyrill gorcunov gorcunov openvz.org,,
9899,44a05e70ec7310f90d053818a4f650b82e1512ee,yrill Gorcunov <gorcunov@openvz.org>, 2012-02-01 14:38:22 +0400, , ips_ns.h add cr_ prefix header defines reported stanislav kinsbursky skinsbursky parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9900,1824611b8e9145f3a933b486ccbadfcc1184a44b,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-29 12:25:38 +0400, , list cleanup space tab mess signed cyrill gorcunov gorcunov openvz.org,,
9901,c7168143a3ef0f66d287a4b59290b669034f2bc3,ir Kolyshkin <kir@openvz.org>, 2012-02-01 02:50:14 +0400, , ipc_ns.c remove hardcoded size use sizeof instead signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9902,11f2ce03da2b5da7c03efc00582855a80ba38394,ir Kolyshkin <kir@openvz.org>, 2012-02-01 02:08:18 +0400, , parse_pid_stat use pr_err want use pr_perror fscanf set errno case return eof really interested errno value use pr_err instead signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9903,1408ead858cebae2555191543a346fa602a2faa7,ir Kolyshkin <kir@openvz.org>, 2012-02-01 02:08:04 +0400, , assorted trivial message fix kid child first letter uppercase misc typo message comment signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9904,ad3bc057710f36b0c585cd2980606d7ebdc2cae0,ir Kolyshkin <kir@openvz.org>, 2012-02-01 02:03:41 +0400, , uts_ns.c use pr_perror appropriate quite case need print system error string signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9905,ca099959343463088387df332107c2a6c5d47186,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-31 23:29:24 +0400, , cleanup uts_ns drop hardcoded number use sizeof drop unneeded local argument signed cyrill gorcunov gorcunov openvz.org,,
9906,916f79a64b3865a44f7236cab26eafa828713d6f,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-31 23:25:36 +0400, , add new line system header owns signed cyrill gorcunov gorcunov openvz.org,,
9907,aecc985060cc63d411747bbe61ee9ee7d7b09264,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-31 23:22:35 +0400, , restorer preceed defines tab signed cyrill gorcunov gorcunov openvz.org,,
9908,bbf71707b9b9b2186c325c44145ad8ab14577a8e,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-31 22:42:33 +0400, , ipc add missing ipc_ns.h missed add git index one previous ipc patch series signed cyrill gorcunov gorcunov openvz.org,,
9909,bb6d57e856d0d65ae924fc3d01fd27d308f05c78,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-01-31 22:29:36 +0400, , ipc namespace tunables migration test signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9910,c75c33cb8699176e65dddaa05bb565ede6c55f38,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-01-31 22:29:22 +0400, , ipc restore namespace signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9911,5d40ea2ff1635692cdea16c4a9cd5d873c96821d,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-01-31 22:29:11 +0400, , ipc show dump content signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9912,c826057a9c4a92cfb62ba1c6a4fbbd26f80b2662,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-01-31 22:28:55 +0400, , ipc dump namespace signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9913,9cdfe7192168d0a902b9741ea17033d105df9c29,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-01-31 22:28:40 +0400, , namespaces doc updated signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9914,0213d3ec6413dfb4bf64133df0c195c04d242d46,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-01-31 22:28:22 +0400, , namespaces parametrized namespace option introduced strlen check removed parse_ns_string option must followed namespaces tag separated comma currently namespace supported signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9915,1e694235b4202320016c8a70389557179bd16110,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-31 18:33:17 +0400, , zdtm drop pthread00 test requires properly syncs test case need rewrite test code going pretty soon meanwhile drop test case signed cyrill gorcunov gorcunov openvz.org acked andrey vagin avagin openvz.org,,
9916,7705df5397fb3f971c5005ed7aedf7972f260c51,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-31 18:26:51 +0400, , crtools make fdset operation robust open error two case cr_fdset_open might called already allocated memory reuse might called null pointing caller expects allocate memory open error happens somewhere inside cr_fdset_open requires two error path close file opened free memory allocated close file opened free memory allocated  case close file opened close_cr_fdset helper splitted two part also caller ready semantics well assign pointer obtained simply test null result signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9917,6c1e5978c4163736c862bcd355bf8b99c8ec9f17,ir Kolyshkin <kir@openvz.org>, 2012-01-31 17:17:19 +0400, , hex_dump fix address printing fix printing address every line use gnu print pointer avoid messing width etc side effect added hope signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9918,a9ba9732c984d464f4500d6a69e41dad53b3640f,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-31 16:52:17 +0400, , hex_dump convert argument long eliminate format problem util.c error format lxâ expects argument type long unsigned intâ argument type unsigned char werror format signed cyrill gorcunov gorcunov openvz.org,,
9919,cced37daffe27c59b36b55e736b04f9efa1efec1,ir Kolyshkin <kir@openvz.org>, 2012-01-31 15:31:28 +0400, , files.c fix printf format warning files.c function collect_fdâ files.c 111 error format expects type intâ argument type u64â files.c function open_fdâ files.c 348 error format expects type intâ argument type u64â files.c function receive_fdâ files.c 425 error format expects type intâ argument type u64â files.c 425 error format expects type intâ argument type u64â signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9920,6c9d6a86a44b2358c177e429a138cf984a494c33,ir Kolyshkin <kir@openvz.org>, 2012-01-31 15:31:27 +0400, , sockets.c fix printf format warning sockets.c function sockets.c 366 error format expects type intâ argument type __ino_tâ signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9921,e70f8d2376b9e3dcbc7ca6b367381064c4797077,ir Kolyshkin <kir@openvz.org>, 2012-01-31 15:31:25 +0400, , show.c fix printf format warning show.c function show_pipesâ show.c 119 error format 8lxâ expects type long unsigned intâ argument type u32â show.c 119 error format 8lxâ expects type long unsigned intâ argument type u32â show.c 119 error format 8lxâ expects type long unsigned intâ argument type u32â show.c 119 error format 8lxâ expects type long unsigned intâ argument type u32â signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9922,a207bee1a1ace7f5c7dfae4b0737f0537766e6bf,ir Kolyshkin <kir@openvz.org>, 2012-01-31 15:31:24 +0400, , dump.c fix printf format warning dump.c function dump.c 128 error format 8xâ expects type unsigned intâ argument type long unsigned intâ dump.c function dump_one_pipeâ dump.c 223 error format expects type intâ argument type long unsigned intâ dump.c 237 error format 8lxâ expects type long unsigned intâ argument type u32â dump.c 237 error format 8lxâ expects type long unsigned intâ argument type u32â dump.c 237 error format 8lxâ expects type long unsigned intâ argument type u32â dump.c 237 error format 8lxâ expects type long unsigned intâ argument type u32â dump.c 240 error format expects type intâ argument type long unsigned intâ dump.c function dump_one_fdâ dump.c 257 error format expects type intâ argument type long unsigned intâ dump.c 262 error format expects type intâ argument type long unsigned intâ dump.c 272 error format expects type intâ argument type long unsigned intâ dump.c 286 error format expects type intâ argument type long unsigned intâ dump.c 295 error format expects type intâ argument type long unsigned intâ dump.c function dump.c 340 error argument format signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9923,b44cd5885c1a1b32477445168bb317ecd9fea41d,ir Kolyshkin <kir@openvz.org>, 2012-01-31 15:31:23 +0400, , proc_parse.c fix printf format warning proc_parse.c function parse_mapsâ proc_parse.c error format luâ expects type long long unsigned intâ argument type u64â proc_parse.c 118 error format luâ expects type long long unsigned intâ argument type u64â signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9924,9e08244291bbf8372a43ed81c1f4cb2949688a43,ir Kolyshkin <kir@openvz.org>, 2012-01-31 15:31:22 +0400, , restore.c fix printf format warning restore.c function fixup_vma_fdsâ restore.c 578 error format expects type intâ argument type long unsigned intâ restore.c function restore.c 1693 error format liâ expects type long intâ argument type intâ restore.c 1738 error format expects type intâ argument type long intâ restore.c 1751 error format expects type intâ argument type long intâ restore.c 1755 error format expects type intâ argument type long intâ restore.c 1868 error format 8pâ expects type void argument type long intâ signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9925,fa5ce3112f096dde57222759cb490e3920a0ff36,ir Kolyshkin <kir@openvz.org>, 2012-01-31 15:31:21 +0400, , annotate printk printf attribute way gcc able catch invalid format bug signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9926,6ce8d8ab9309f31340edd1e1f5dfc5a6a23759e5,ir Kolyshkin <kir@openvz.org>, 2012-01-31 15:34:21 +0400, , make bug_on clang compatible trying compile beast clang complains  include lock.h error indirection non volatile null pointer deleted trap bug_on ret  file included restorer.c include util.h 118 note instantiated define bug_on condition bug_on_handler condition  include util.h 100 note instantiated unsigned long null 0xdead0000 __line__   make clang happy adding volatile signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9927,0b237ae9f2ad49499f7c9c1b3713c13267aca309,ir Kolyshkin <kir@openvz.org>, 2012-01-31 15:13:05 +0400, , pr_perror print error end line standard convention print error message i.e strerror errno end line like remove file permission denied pr_perror fixed follow convention using gnu extension help lot unfortunately due make pr_perror print new line character strip pr_perror invocation appending newline also make pr_perror black sheep herd pr_ helper worst case scenario extra newline error message harmful alternative approach stripping newline passed format string adding discussed thoroughly decided hack look bit dirty signed kir kolyshkin kir openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9928,225d119e5da3a0f4b2e52e28d524a81a248349d3,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-01-31 11:29:23 +0300, , namespaces split generic code generic code used namespaces signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9929,8a6269e490880af6097aa61b2019a3b11977d353,ir Kolyshkin <kir@openvz.org>, 2012-01-31 12:58:34 +0400, , fix typo found using clang restore.c 796 error use unary operator may intended compound assignment size ret  signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9930,be6a7feae77bc44514dd7681a36e0ccd36977e8e,onstantin Khlebnikov <khlebnikov@openvz.org>, 2012-01-30 22:36:57 +0400, , reuse zero_page_entry fix compilation error restore.c 621 error variably modified zpageâ file scope signed konstantin khlebnikov khlebnikov openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9931,b8b0dd42a711f27a6560fd128457f08da6d140bd,ir Kolyshkin <kir@openvz.org>, 2012-01-30 21:18:38 +0400, , remove duplicate strerror errno printing function pr_perror already spit strerror errno need calling code signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9932,789a2c7f7aa15b8a2af632a1a1630a0f26eab60b,ir Kolyshkin <kir@openvz.org>, 2012-01-30 21:18:37 +0400, , trivial whitespace cleanup cleaning space eol occurences plus one space instead tab found using git grep space git grep signed kir kolyshkin kir openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9933,ef57024410b2ab2a15c71641746e44967afffb94,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-30 17:07:45 +0400, , show always print process exit_code suitable info debug purpose well signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul openvz.org,,
9934,5345889886e89cb1eb35eaf83c069f2cf7cf870e,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-30 17:06:09 +0400, , show drop tab ified empty line signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul openvz.org,,
9935,4a7764c5ee425be4d85eba89ed704012982c289f,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-30 17:04:24 +0400, , restore make sure exit_code 128 signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul openvz.org,,
9936,a00b90c0410e77c58f6f29264bf6d6ca45a2eabd,ndrey Vagin <avagin@openvz.org>, 2012-01-30 14:35:16 +0300, , parasite correct error code signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9937,e6a52bdad18c7031a4db727d176dbb1d657970c1,ndrey Vagin <avagin@openvz.org>, 2012-01-30 14:35:15 +0300, , parasite remove unused command signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9938,162bcdeacfcf3a2f6edbda115a8a98a75bc2b834,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-30 13:04:57 +0400, , merge branch pre pre zdtm test xids cap conflict test zdtm.sh sockets00 test added earlier signed cyrill gorcunov gorcunov openvz.org,,
9939,d40e50d7c97185466e7c46b2dfff80cefe03e2a6,avel Emelyanov <xemul@openvz.org>, 2012-01-27 21:45:13 +0400, , zdtm test xids cap rather simple straightforward atomic test problem changing subj subsequent open .out .pid file fail test actually fork beginning said need api lib forkers signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9940,beb158a66e20388d5b7ff71d9083f0c93179c4a1,avel Emelyanov <xemul@parallels.com>, 2012-01-27 21:43:32 +0400, , task cred support dumping simple secbits read proc secbits got parasite restoring bit tricky change anything kernel cred struct performs sophisticated check change stuff requested cred restoration procedure carefully commented step step another thing mention cred restored everything else i.e right performing final thread sync sigreturns done avoid potential problem insufficient cap restoring stuff e.g zero euid likely required opening image file notorious control proc sys kernel ns_last_pid turn performed till last moment signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9941,d846d108f6f768fc5c23cac90d99ddb11bb04f04,avel Emelyanov <xemul@openvz.org>, 2012-01-27 21:39:14 +0400, , syscalls prepare syscalls bit mostly setting cred setxxxid capset various bit prctl cap machinery thing cap api yet fully glibc declare bit even core code restorer parasite signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9942,f382d2a376b87b714fdfba3a6c390cf3df8fcc97,avel Emelyanov <xemul@openvz.org>, 2012-01-27 21:37:13 +0400, , proc_parse routine reading cred proc pid status cap read future use signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9943,47c161f2dcd43a54b1658dfdbe1e806318ce890f,avel Emelyanov <xemul@openvz.org>, 2012-01-27 21:35:59 +0400, , parasite dump misc command add command basis dumping minor bit task parasite code supposed retrieve minor bit form task read proc signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9944,25aa9e062caeff6360e422d3715f6174fdf943bc,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-30 12:52:44 +0400, , zdtm add utsname.c source code occasionally droppped file part commit  add back signed cyrill gorcunov gorcunov openvz.org,,
9945,00a337473eb0fe5140bfe04d97f07d72352e2ffc,ndrey Vagin <avagin@openvz.org>, 2012-01-28 02:50:39 +0300, , zdtm cleanout netlink00 signed andrey vagin avagin openvz.org,,
9946,3a1de34132ea1ecdfd9ee599d161423cf8bf6295,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-28 11:44:38 +0400, , zdtm disable strict aliasing optimization disable otherwise get test zdtm live streaming netlink00.c cc1 warning treated error netlink00.c function netlink00.c 311 error dereferencing pointer rtapâ doe break strict aliasing rule netlink00.c 312 error dereferencing pointer rtapâ doe break strict aliasing rule netlink00.c 310 note initialized netlink00.c function netlink00.c 271 error dereferencing pointer rtapâ doe break strict aliasing rule netlink00.c 272 error dereferencing pointer rtapâ doe break strict aliasing rule netlink00.c 270 note initialized signed cyrill gorcunov gorcunov openvz.org,,
9947,65ac9ccb04ebc8a175592fde43c528ab52c23b16,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-29 16:26:36 +0400, , drop kernel patching readme outdated anyway signed cyrill gorcunov gorcunov openvz.org,,
9948,980529f44fb4057013102af61073466800d97c70,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-29 00:39:57 +0400, , doc update option signed cyrill gorcunov gorcunov openvz.org,,
9949,17a4a6cd09afff9da27c2ff6e59aa9f2008082bd,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-28 18:45:28 +0400, , doc initial commit signed cyrill gorcunov gorcunov openvz.org,,
9950,4804db00aad497f7b812c877cbafcc546f816328,avel Emelyanov <xemul@parallels.com>, 2012-01-26 20:30:31 +0400, , restore switch code new api signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9951,74ad4fb16bf6a53e60806de02b1b03f6417f2c3e,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-27 23:25:29 +0400, , tool commit bot emal criu mailing list signed cyrill gorcunov gorcunov openvz.org,,
9952,875cbfe7055a4858f04ec730cafd2d3c27a705a5,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-27 21:07:55 +0400, , zdtm add sockets00 test cover unix stream socket including flight connection dgram socket yet implemented signed cyrill gorcunov gorcunov openvz.org,,
9953,29bda9aae56da48adb6033c8adc8fcd4a3917858,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-27 22:52:13 +0400, , socket restore flight unix stream socket done two step checkpoint find icon present socket setup peer number appropriate listening socket restore collect listening socket find flight connection search appropriate listening socket name use call connect signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9954,54d7a588017714f135a0a1181ab7b9bc92d24f53,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-27 18:41:09 +0400, , make add help target signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9955,f974de9c49d7010c172ec7bc82f879e976c323c1,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-27 12:53:19 +0400, , socket add sk_hash_link helper signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9956,641844c3496b9733e5389f0b4f7cbf71a906ef8c,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-26 13:29:53 +0400, , socket allow dump unix socket inflight connection signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9957,b21c2c8c1d36ac0384060a7777bdde292a3b15cc,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-25 20:32:01 +0400, , socket print icon number debug printing signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9958,b0e4a2edcd14230db1ea4882a356aa762844bbac,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-25 20:29:58 +0400, , socket add nr_icons member track number icon instead zero ended array signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9959,ff83500f5c0531199e0aed69eff277bc9e9160e2,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-26 13:19:04 +0400, , socket sockest show collected socket get hashed otherwise debug printing inode number report really important convenient need detailed output signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9960,9b2e191392635a5c845aa86eb8e2bbc4c14ba936,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-26 01:21:28 +0400, , socket nitpick error printing open_inet_sk signed cyrill gorcunov gorcunov openvz.org,,
9961,6e0353badc2131a48aa9c49bacd28d318f71a48e,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-01-27 19:01:51 +0300, , restore missed carriage return added signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9962,a5228b3bb45fc5bc5a3a61a280b569049deaab7b,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-27 16:40:50 +0400, , merge branch zdtm http github.com avagin crtools zdtm http github.com avagin crtools zdtm remove warning zdtm move tast_daemon preparation action zdtm fix warning mmx00.c zdtm say eintr zdtm fix warning makefile zdtm fix warning transition ptrace.c zdtm initilize variable cmdlinenv00.c,,
9963,255cd497bd5dc42d17898005558d2480e65e32e2,ndrey Vagin <avagin@openvz.org>, 2012-01-27 13:42:02 +0300, , util print warning image file absent may legal e.g zombie signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9964,61f50a9cf987ae265fcfd6d5bc7d8635de24c37c,ndrey Vagin <avagin@gmail.com>, 2012-01-27 13:10:12 +0400, , zdtm remove warning,,
9965,003b6e906ba5666ad4e5d848aed731af1879fccd,ndrey Vagin <avagin@gmail.com>, 2012-01-27 13:08:19 +0400, , zdtm move tast_daemon preparation action,,
9966,8818ee72e67d97ac3b405e06f4841d153ae683df,ndrey Vagin <avagin@gmail.com>, 2012-01-27 12:56:22 +0400, , zdtm fix warning mmx00.c mmx00.c warning array subscript array bound warray bound mmx00.c warning array subscript array bound warray bound psubw handle bit,,
9967,d4cfba894706e2b3e8cce21c13fd14472e64c0c9,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-27 11:07:11 +0400, , restore bring original sigchld handler back task restored otherwise restored task exit get error message form error restore.c 1302 7244 exited status restored task simply finished working pointed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9968,af7a89778c6a81ba623462ce9665e994f521cc22,ndrey Vagin <avagin@gmail.com>, 2012-01-27 12:32:02 +0400, , zdtm say eintr everyone known eintr returned due cpt rst error forgot set sa_restart,,
9969,6a7124895a0a6699fee7541555614731900d1d00,ndrey Vagin <avagin@gmail.com>, 2012-01-27 11:30:31 +0400, , zdtm fix warning makefile makefile 100 warning overriding command target cmdlinenv00.pid makefile warning ignoring old command target cmdlinenv00.pid,,
9970,fc2de17444e5c60a9dbcfa1e15772d6387d0fcc4,ndrey Vagin <avagin@gmail.com>, 2012-01-27 11:24:05 +0400, , zdtm fix warning transition ptrace.c,,
9971,88bd35a47a2b596734e3ddccfc4ad12788b6156d,ndrey Vagin <avagin@gmail.com>, 2012-01-27 11:16:09 +0400, , zdtm initilize variable cmdlinenv00.c,,
9972,9d913b6551f950ee8848c66be9f3b6f6c1a935ea,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-26 21:04:16 +0400, , socket fix freeing dgram socket data otherwise use free error happens signed cyrill gorcunov gorcunov openvz.org,,
9973,c2353b30a29a53aa75f011668ac39b8874271247,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-26 14:00:40 +0400, , make add target convenient debug purpose signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9974,16c58dbd1194794d08a086ced3df8968778b395c,avel Emelyanov <xemul@parallels.com>, 2012-01-26 20:29:40 +0400, , magic fix pipefs_magic constant one actually internal kernel magic number pipefs filesystem changed signed pavel emelyanov xemul parallels.com,,
9975,60dee71484fa9ee66cd64703ec3d352c4cf5e1a6,avel Emelyanov <xemul@parallels.com>, 2012-01-26 19:45:50 +0400, , magic change magic number existing one boring let switch geographical coordinate various russian town nnnneeee form digit coordinate give 2km inaccuracy enough find town use longitude 99.99 i.e cover far east region enough good candidate even european part country feel free extend signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9976,c05517b1310d6139d9b6d463d7edf873a507e409,ndrey Vagin <avagin@openvz.org>, 2012-01-26 19:37:00 +0400, , zdtm fix test fork handle eintr add detail error message signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
9977,dcd64e9d103ccf6b4c16a9c613fa371c99d0f5d2,avel Emelyanov <xemul@parallels.com>, 2012-01-26 19:04:09 +0400, , zdtm test namespace plus small infrastructure change fork test task desired namespace signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9978,98f4c2e4de4a78d31117f703fb9b35e4e220e34c,avel Emelyanov <xemul@parallels.com>, 2012-01-26 15:28:00 +0400, , support namespace two field modifiable hostname domainname read dump write restore file format simple u32 magic u32 length nodename nodename string u32 length domainname domainname string openvz write release end later signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9979,3391416a1b5ae80f9edae6a969db838f2793ce4a,avel Emelyanov <xemul@parallels.com>, 2012-01-26 15:27:00 +0400, , crtools namespaces support skeleton new option dump restore namespaces fork namespaces dumping task write helper switching namespace prepare restorer code restoring namespaces root task signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9980,b5e5aac9e9eeb03699101ba05af11f282daa32c6,avel Emelyanov <xemul@parallels.com>, 2012-01-26 15:26:00 +0400, , restore switch task fork ing clone ing order restore task namespaces clone fork thus switch restorer using clone signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9981,2e48f0528bb513ec2164f7ede4cae3f12d941da0,avel Emelyanov <xemul@parallels.com>, 2012-01-26 15:25:00 +0400, , crtools move option deeper code need place restore root task signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9982,8e90a9e6d8f6da6441f6cd98b2fd9e90855ff8fa,avel Emelyanov <xemul@parallels.com>, 2012-01-26 15:23:00 +0400, , crtools tossing cr_fd_ bit around split cr_fd_ bit per task global one replace cr_fd_desc_task explicit set per task bit cr_fd_desc_ns appear soon signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9983,993f07ba71589254b5f464261798b302f9cf1731,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-01-18 14:33:23 +0300, , zdtm print full dump restore path error usefull debugging signed stanislav kinsbursky skinsbursky parallels.com signed andrey vagin avagin gmail.com,,
9984,01d13d96438edc985ed4c174e2fa8e23bf486c8d,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-01-18 15:07:25 +0300, , zdtm patch socket_listen test cleanup simplifyng requested signed stanislav kinsbursky skinsbursky parallels.com signed andrey vagin avagin gmail.com,,
9985,d2f664b8770641dec598dac5aff7ada734e90f0e,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-25 17:45:49 +0400, , make eliminate deps build deps target zdtm signed cyrill gorcunov gorcunov openvz.org reviewed pavel emelyanov xemul parallels.com,,
9986,bafb5f1eccf4d523fe4d3d5512d5207f267b2fc9,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-25 17:40:09 +0400, , make clean target include cleandep zdtm target signed cyrill gorcunov gorcunov openvz.org reviewed pavel emelyanov xemul parallels.com,,
9987,a3d2b8d2d04df0010ad13a6ebbd147f34f5cb29d,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-25 17:04:25 +0400, , make include makefile.inc legacy test signed cyrill gorcunov gorcunov openvz.org reviewed pavel emelyanov xemul parallels.com,,
9988,408dcbc182f628c7f32785eaf0784de6e0ad3c23,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-25 17:02:47 +0400, , make add makefile.inc common code makefiles signed cyrill gorcunov gorcunov openvz.org reviewed pavel emelyanov xemul parallels.com,,
9989,cfb2d1b029542e241ac958e081fb698d2e729cb2,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-25 16:56:57 +0400, , make fix typo test target signed cyrill gorcunov gorcunov openvz.org,,
9990,b0467f2d8c59eb3b334428aa4fe4469377872523,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-24 19:10:09 +0400, , socket report relative name informative know exactly name failed signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9991,a88cd36e7bc104e8c986b24d84e2ae13f47db11c,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-24 19:37:44 +0400, , make move legacy test test legacy use make test run zdtm test signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
9992,71fca5d2da33b1e80f73034c726ef7da0f751551,avel Emelyanov <xemul@parallels.com>, 2012-01-24 16:46:07 +0400, , zdtm include itimers test suite increase timeout value since timer test check counter second ... signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9993,b7de83aaf35902e35fb5d8fe49023d69d99484b1,avel Emelyanov <xemul@parallels.com>, 2012-01-24 16:45:19 +0400, , crtools interval timer support timer dumped inside parasite code format plain pair interval value one one restoration occurs two stage first prepare timer value restorer check sanity setup timer latest stage actually calling sigreturn signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9994,6ab01f7a169c3b9310a7ef986998a4cbeb1b5233,avel Emelyanov <xemul@parallels.com>, 2012-01-24 16:43:21 +0400, , syscalls add set get itimers syscalls signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9995,815168ddffe9d31c505fb699b68acd7e1b67b8db,avel Emelyanov <xemul@parallels.com>, 2012-01-24 16:42:42 +0400, , parasite helper opening dump file parasite move common file opening code separate function signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9996,db7dd32203bc4b1c70f1d3ea6d97a8d40284b3b3,avel Emelyanov <xemul@parallels.com>, 2012-01-24 16:41:47 +0400, , parasite brace around set status macro argument signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9997,d4f8e4680ffc2bfd06c990db476389da73e37222,avel Emelyanov <xemul@parallels.com>, 2012-01-24 16:40:55 +0400, , dump prepare file parasite helper move common code preparing file parasite signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9998,043bf95fb8b1f4ce87aca569bcec7174ecea6258,avel Emelyanov <xemul@parallels.com>, 2012-01-24 16:39:56 +0400, , parasite argument sanitation remove typedefs make common part sigacts page dumping argument dumping something specific file used almost soon signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
9999,ed3405cf09efae5583302429d2f26f465d294ee2,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-23 22:28:17 +0400, , zdtm add cmdlinenv00 test case test restore commandline envirion auxv vector signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
10000,701142b2d291abea08ba34f389a6273ce0a660f2,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-23 22:27:12 +0400, , restore add restore argv env auxv signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
10001,000814868645f56f2388a7524d958a51b3d9b60b,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-23 15:05:34 +0400, , restore restore cmdline argument envirion auxv restore signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
10002,57e7cb6941ae7e377c9c874487c58e1b9b83b1b7,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-23 15:01:41 +0400, , dump print message obtaining sigmask signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
10003,a9fd7583e6e03ddd28d37c072bd56a5c9b9baf85,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-23 14:59:05 +0400, , show add cmdline args envirion entry signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
10004,3ceb96cee7e88f112a2e4a97e57036e883866ad2,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-23 15:22:00 +0400, , dump save auxv vector checkpoint image signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
10005,415b789cbfdea98eb9de58ede4447e742ed72dc7,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-23 14:44:23 +0400, , image add mm_saved_auxv entry needed auxv dump restore signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
10006,faf41eb5b2af541ac05c0c74c07ce365c4c8da34,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-23 15:18:31 +0400, , dump dump cmdline envirion parameter implies update kernel side well signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
10007,e69cea25db7a5178a9f452c0fdf6e3219a67bf8c,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-23 11:26:00 +0400, , make drop restorer log.c inclusion restorer.c compile separate file use merge two file signed cyrill gorcunov gorcunov openvz.org acked andrey vagin avagin openvz.org,,
10008,2e070f114ce57555f00e62538b3b72ea97ca960c,avel Emelyanov <xemul@parallels.com>, 2012-01-22 20:29:15 +0400, , zdtm test zombie task test different exit zombie killed different signal handled properly signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10009,5c2083ee87b54ff54c7136bfe029c197457357c4,avel Emelyanov <xemul@parallels.com>, 2012-01-22 20:28:30 +0400, , support zombie task dump core pid.img file restore select way killing task based exit_code exit kill signal dying unblock handler set sig_dfl make dead signal kill deliverable signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10010,3822c079c4c120b59dbdf23c0326657aa57865bc,avel Emelyanov <xemul@parallels.com>, 2012-01-22 20:26:51 +0400, , restore ignore enoent preparing shared resource absent image file shared resource preparation mean resource pid zombie file elegant solution anything better mind need think likely reimplement way image stored day future signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10011,6144431198a9ca57ee38f2c123172901f81e36d2,avel Emelyanov <xemul@parallels.com>, 2012-01-22 20:24:47 +0400, , dump check fro task state dump dump task state stopped extend soon signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10012,18aaad6164a3df9b5a56c428a38f5125bfebcc65,avel Emelyanov <xemul@parallels.com>, 2012-01-22 20:24:04 +0400, , img extend task image state exit code introduce state work alive task sleeping running dead zombie stopped stopped task distinguish task state freezer cgroup become possible signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10013,21bbfee91960b3ef6781d9328711f860781d62c4,avel Emelyanov <xemul@parallels.com>, 2012-01-22 20:22:40 +0400,14, proc read exit code proc pid stat requires patch kernel also check number entry read least required exactly equal forward compatibility signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10014,dd495ba18a814d4663794074e530d0cf2cd6be46,avel Emelyanov <xemul@parallels.com>, 2012-01-22 20:21:35 +0400, , dump factor img header dumping move common code task thread dumping routine used zombie well signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10015,164ccc095f040d3da16253326fd293191f39da5f,avel Emelyanov <xemul@parallels.com>, 2012-01-22 20:20:40 +0400, , crtools api rewrite kill macro reading writing image part new api look like write_img_buf write_img write object image report error _buf version accepts object size argument one sizeof read_img_buf read_img read object image report error eof read_img read object image report eof error symmetrical previous one done deliberately make possible write code like ret ret return ret mean done mean error met ... mean object read proceed signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10016,dbf3c1a8cd84b326daf2f9e4baa8af97207c9e0c,avel Emelyanov <xemul@parallels.com>, 2012-01-22 20:16:33 +0400, , crtools reformat core_entry keep task arch independent field one struct extended beginning image make pad located separately signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10017,cf0550ce61e322a28c97fe5c1f066876b51bfe0f,avel Emelyanov <xemul@parallels.com>, 2012-01-22 20:15:11 +0400, , dump image opening rework rename cr_fdset_open make reentable i.e every next enter open file fdset required zombie make code cleaner signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10018,cfbb9239eca11f293b9c1894ec84fb8f9de21804,avel Emelyanov <xemul@parallels.com>, 2012-01-22 20:13:59 +0400, , dump move thread dumping task dumping routine make sure dump zombie thread signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10019,8092d77bd3a1f96b016a37bba2a50f2f95109ac9,avel Emelyanov <xemul@parallels.com>, 2012-01-22 20:12:44 +0400, , dump rework task stats parsing dumping move proc pid stat parsing anything dump_one_task prepare zombie dumping cleanup rest code accordingly signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10020,f1347e1d9bc9535aa54455a0cacb60286cbb0b19,avel Emelyanov <xemul@parallels.com>, 2012-01-22 20:11:32 +0400, , dump remove core address check checking proc parse routine anyway signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10021,af76a228edbbfffa231f9594f2152137a03df1a2,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-01-20 17:53:19 +0300, , makefile untie misc target dep file target tag cscope clean require blob header rebuilt thi patch remove dependence signed stanislav kinsbursky skinsbursky parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10022,949b11b33e16d83d175c50f9fe23da43d87223b4,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-01-20 16:53:48 +0300, , makefile add dependence restorer dep file signed stanislav kinsbursky skinsbursky parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10023,9697f49812c9e1f8b4655765e9055cfda4c0df2a,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-01-20 16:53:32 +0300, , makefile remove obsolete variable need signed stanislav kinsbursky skinsbursky parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10024,4184d2f6a6de44fe083f262a9c8bef43cc2c6e49,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-20 16:07:52 +0400, , socket rename struct inet_diag_req api change linux kernel 3.2 3.3 transition commit reported pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
10025,48f624ee172f8ef90ae197433721eba008113e7e,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-20 00:05:22 +0400, , restore drop real_pid member shmem_info structure needed anymore handing case fork pid functionality kernel simply unneeded also drop redundant getpid call pass test except fork test known fail signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parllels.com,,
10026,cf74b78bdc284a4336e394cbfc92d2cfa5fd75a8,avel Emelyanov <xemul@parallels.com>, 2012-01-19 19:26:28 +0400, , zdtm add simple forking test fails found anything similar currently fails launch seize work zombie working ... however manages miss zombie trigger problem freezer fixed previous patch signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10027,11b7e14a6b9f62c3199247d81b40becbd83830b5,avel Emelyanov <xemul@parallels.com>, 2012-01-19 19:22:59 +0400, , dump fix task freezing process currently read child tree running process deadly wrong stop task open proc dir descending kid signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10028,7e8eb76e9d372e7908c98ed74104ccf1409a01a9,avel Emelyanov <xemul@parallels.com>, 2012-01-19 19:21:16 +0400, , ptrace print proper error seize failed appreciate get rid misleading macro eventually ... signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10029,42cbb5bafc280a4b55263b1410172f133d063076,avel Emelyanov <xemul@parallels.com>, 2012-01-19 19:19:40 +0400, , dump remove dead code signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10030,6128b88c76d580a0bc180c08e27bc2c892a96b1b,avel Emelyanov <xemul@parallels.com>, 2012-01-19 19:18:58 +0400, , restorer use last_pid_path directly andrey work making restorer regular file pthread00 test fail signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10031,2a76c6409c1e9c442d892d8db36bbd4590b58bb7,avel Emelyanov <xemul@parallels.com>, 2012-01-19 19:17:54 +0400, , socket request extension inet diag eats response skb mem need signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10032,381559a7f6971532c14f80f81297216de0e80a96,avel Emelyanov <xemul@parallels.com>, 2012-01-19 19:16:55 +0400, , socket ignore collection error since may want dump missed socket later start dumping container better fail rather dump stage signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10033,ff37d3268979fc59e0bf0975250fd46aefec56b7,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-19 21:57:58 +0400, , update .gitignore signed cyrill gorcunov gorcunov openvz.org,,
10034,1dd20b087abc0e3eddba87d848690be630ae7a41,ndrey Vagin <avagin@openvz.org>, 2012-01-19 01:33:19 +0300, , restore detect someone failed handle sigchld someone failed nr_in_progress set crtools notice nr_in_progress negative kill task use named constant task_entries start restorer.c use sa_nocldwait setting sigchild handler make sigchild handler simpler signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10035,c8edb0c7e66561b22a9933cd5610f0c045034d81,ndrey Vagin <avagin@openvz.org>, 2012-01-19 01:33:18 +0300, , syscall add sys_kill signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10036,e6968f4b0830d0f965a3349a4570a2304b2ff7aa,ndrey Vagin <avagin@openvz.org>, 2012-01-19 01:33:17 +0300, , syscall add waitpid signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10037,99498681e6284912df0e33127ee225d43e13e965,ndrey Vagin <avagin@openvz.org>, 2012-01-19 01:33:16 +0300, , restore new mechanism sync task one mutex nr_in_progress say many task restored yet negative value sign someone failed signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10038,4798771c4ac002f16cc3a2a16bac31635e9222f7,ndrey Vagin <avagin@openvz.org>, 2012-01-19 01:33:15 +0300, , lock add new primitive wait futex value bigger defined value bigger greater signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10039,f00efadd2c3a32bb02fc786d9f7cf374bea9e2a6,ndrey Vagin <avagin@openvz.org>, 2012-01-18 23:24:37 +0400, , patch improves execution zdtm test really like signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10040,b601765782a7324d9654edb8e739e0b95618f6fd,ndrey Vagin <avagin@openvz.org>, 2012-01-18 18:53:49 +0300, , devide command option crtools cmd option cmd may show restore dump signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10041,e1c1ca3c46256464ffe146be0e0745887fca5168,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-18 18:38:47 +0400, , util.h cleanup func change drop couple space add comment signed cyrill gorcunov gorcunov openvz.org,,
10042,a722abce774453b5417ec676f9327c6d0d7d620d,avel Emelyanov <xemul@parallels.com>, 2012-01-18 17:47:00 +0400, , socket use signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10043,8836f20c6429602bcece3f9ee12f1e01bff43353,avel Emelyanov <xemul@parallels.com>, 2012-01-18 17:46:22 +0400, , util print message read size bad signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10044,379dde63f5a8b9c9065ea18106303f34c5e80d3c,avel Emelyanov <xemul@parallels.com>, 2012-01-18 17:45:41 +0400, , socket clean usk_img dereference need img pointer opening function signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10045,5c083e128a6abf7f3ccd8187ba9792459c160a7b,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-18 16:19:31 +0400, , revert zdtm clean socket_listen reverts commit another one instead hard rebase decide revert instead signed cyrill gorcunov gorcunov openvz.org,,
10046,46dc368f3112ff3c41c0e6558f1f4d10646b9bd0,ndrey Vagin <avagin@openvz.org>, 2012-01-18 14:54:40 +0300, , zdtm clean socket_listen signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
10047,3b33e12dad1f9555249f6320191dfadae897147c,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-01-17 16:28:50 +0300, , test added listening socket migration test test based socket_aio actually except socket binding listening done checkpointing connection socket done migration signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10048,dd0f72f22002a43b4af32b27bae5920938a34854,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-01-17 16:28:43 +0300, , restore ipv4 listening socket restore support patch add support restoring ipv4 listening socket based unix socket restore signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10049,7fc6561c0c6ffc66bc2c56270a07090869fad22d,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-01-17 16:28:35 +0300, , show inet socket dump parsing support added nothing comment signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10050,f3253a40d288414a99823d299dbafe7c67ff31de,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-01-17 21:30:00 +0400, , checkpoint ipv4 listening socket dumping support,,
10051,654216c1df7883fa3ea600258a7d19dd5c95a140,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-01-17 16:28:21 +0300, , checkpoint generalize netlink request code precursor patch netlink request code mostly kind socket place differs request creation callback address patch parametrizes netlink call function pointer request structure request size receive callback replaces hard coded unix socket part signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10052,74bb5d9a26f8af48e24eaba7baebbad1c7fe6f74,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-17 22:17:00 +0400, , merge branch stas make dev stas make make fix parasite deps make cleanup deps file usage make cleanup deps file mess make cleanup target mess dump remove unnessesary parasite header conflict makefile signed cyrill gorcunov gorcunov openvz.org,,
10053,cebc7de2271ff0bb146a17e719c4f07001318422,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-01-17 16:08:29 +0300, , make fix parasite deps remove explicit parasite target dependence deps file use makefile part signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10054,d1df3f60f9c414d5d380487d6c243c164f2903c0,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-01-17 16:08:22 +0300, , make cleanup deps file usage object doe depend dep file dep file provide rule build object file thus need include dep file also lead make rebuild dep file required target signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10055,b8f57e0b352e4a15c1603b3252f49c19c853cc4e,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-01-17 16:08:15 +0300, , make cleanup deps file mess two file parasite syscall.c dump.c depends parasite code signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10056,d9c107d7a371abfe1e59752c1a78e5c83ba1cc89,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-01-17 16:08:08 +0300, , make cleanup target mess target defined variable signed stanislav kinsbursky skinsbursky parallels.com acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10057,7f2cd4b18a91dc7ead4ba73ee3d068e9d143f077,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-01-17 16:12:45 +0300, , dump remove unnessesary parasite header signed stanislav kinsbursky skinsbursky parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10058,476fbbb6f89200112fc8b52e232c2c83d0a9bf9b,ndrey Vagin <avagin@openvz.org>, 2012-01-17 12:54:30 +0300, , restorer make message readable signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com,,
10059,31fb0552201f4d494adb35dfebb73fdadaee06e6,ndrey Vagin <avagin@openvz.org>, 2012-01-17 11:27:29 +0300, , restorer make bug_on informative signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com,,
10060,2cd82bc7ff9f1c104c3cdf45959d6bb65c28307f,ndrey Vagin <avagin@openvz.org>, 2012-01-16 17:31:36 +0300, , restorer move log descriptor crtools add fixme linking restorer log.c restorer.c know signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com,,
10061,74e23867bd36e1e7041ea3deece78eaddc28c164,ndrey Vagin <avagin@openvz.org>, 2012-01-17 13:32:35 +0300, , restorer correct indention previouse patch change simplify review signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com,,
10062,014841825acb14a1d695569b9fe3575f5de6442b,ndrey Vagin <avagin@openvz.org>, 2012-01-14 21:22:06 +0300, , restorer isolate restorer like parasite patch restorer code linked crtools copied function case function inline use global variable suggest make like parasite restorer code isolated file copied wholly restorer code compiled position independent code use function global variale e.g save descriptor log message correct indention separate patch introduce variable symmetrical  give command restorer_thread signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com,,
10063,f05e2dcc1f36f7d4e7e71b059cddc735f56ec0aa,ndrey Vagin <avagin@openvz.org>, 2012-01-16 13:53:51 +0300, , restorer use printk restorer bug_on_handler util.h may used restorer e.g include util.h include lock.h process segfaulted find line number assemgler code print message bit late signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com,,
10064,c26664415060c2a7414f3c9ea9051001dad99c1c,ndrey Vagin <avagin@openvz.org>, 2012-01-16 23:52:15 +0300, , task synchronize restoration task patch prepares code handle error near future handle sigchld restore one task fails send signal completing ability wait task restored patch doe wait child signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com,,
10065,fb177e03121e1c551209b6a2b50f331e4adb9109,ndrey Vagin <avagin@openvz.org>, 2012-01-17 15:28:13 +0300, , restore generalize mechanism remapping memory restorer sometime want shared mapping restorer e.g storage shared memory entry entry contains lock released restorer fixed according pavel comment signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com,,
10066,31e99b7b379d5cc7e25e00b8b6fe84d088881e7e,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-17 10:57:19 +0400, , restore drop uneeded code signed cyrill gorcunov gorcunov openvz.org,,
10067,55d491fb0e03fc17b66471747116cbb6bf6610e4,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-17 10:56:28 +0400, , restore use non sys_ version libc function need use sys_ version libc function run non relocated code leftover early testing time fix signed cyrill gorcunov gorcunov openvz.org,,
10068,1494dbdf632e059e82dc85da5b79988e85533e40,ndrey Vagin <avagin@openvz.org>, 2012-01-16 23:10:42 +0300, , file correct message signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
10069,feae91fe9d794bde424a1435f9fe61fd08f4d96b,ndrey Vagin <avagin@openvz.org>, 2012-01-16 23:10:41 +0300, , file restrict number allocate one page future able resize memory signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
10070,c1e69464dced055553b006818ca3186a74c688c4,ndrey Vagin <avagin@openvz.org>, 2012-01-16 23:10:40 +0300, , file remove crap signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
10071,fd4b542e01df37b7fe731cd908c125ba002ab9a7,ndrey Vagin <avagin@openvz.org>, 2012-01-16 23:10:39 +0300, , file typo fix signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
10072,5eda66dd6d0f9df09e6fc7f78fe70c5ac0f9ffa9,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-17 02:41:57 +0400, , zdtm add vdso test signed cyrill gorcunov gorcunov openvz.org,,
10073,139a2ee27b92b90574a532cea7bbac89512d40c7,avel Emelyanov <xemul@parallels.com>, 2012-01-16 19:35:35 +0400, , fdinfo rewrite prep open recv via switch base state machine yet make code easier understand pov signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10074,7f5da73198f11db178aa26577f84b1a3c7d30f7d,avel Emelyanov <xemul@parallels.com>, 2012-01-16 19:18:31 +0400, , fdinfo remove unused variable receive_fd signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10075,a2d5b88150c183cb19b3cf12af4f96c68bec7cc3,avel Emelyanov <xemul@parallels.com>, 2012-01-16 19:18:05 +0400, , fdinfo open special fdinfos separate helper make code easier read signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10076,d1b3fd09b3256383353ca97ce8ccbeb469f0df48,avel Emelyanov <xemul@parallels.com>, 2012-01-16 19:17:24 +0400, , fdinfo fd_is_special helper map cwd signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10077,e2d8aec7f536fa7217a9923bb18506123fae790f,avel Emelyanov <xemul@parallels.com>, 2012-01-16 19:16:39 +0400, , file named constant cwd fdinfo signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10078,b3c6742a7a3c8c231122ce09fa7de10d201b4890,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-16 13:50:15 +0400, , restore use xmalloc instead plain malloc add error checking signed cyrill gorcunov gorcunov openvz.org,,
10079,2e31cb1f8eb50b6c9372c4a005657fceb2857dfb,avel Emelyanov <xemul@parallels.com>, 2012-01-16 00:55:28 +0400, , restore close drop shmem remap reprimand commits bd8b2b0f d0a6e9a1 author cleaning ... signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10080,a28d53f4e110d6ca780e2a27309f49b35083af83,avel Emelyanov <xemul@parallels.com>, 2012-01-16 00:54:43 +0400, , restore init master thread args one skipped restore leaf open core file target task fdtable signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10081,368c4a508b70659a9996346d3c0da152515c7f51,avel Emelyanov <xemul@parallels.com>, 2012-01-16 00:53:52 +0400, , restore close ns_last_pid file otherwise pop restore target task fdtable signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10082,09a7273e0462754a62b91a9a3db6a65189934526,avel Emelyanov <xemul@parallels.com>, 2012-01-16 00:52:56 +0400, , restore o_trunc file instead unlink signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10083,af3616d0ce52c2ef25175919aa1131c57e3d4d89,avel Emelyanov <xemul@parallels.com>, 2012-01-16 00:52:21 +0400, , util sanitize get_image_path make shorter simpler use one signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10084,8c9c575ab4a4cd10b35e46530ba5488f293be629,avel Emelyanov <xemul@parallels.com>, 2012-01-16 00:51:26 +0400, , util move get_image_path util.c signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10085,4baff50c90fb1c6424f40ed158431e3ed1db0dd6,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-16 12:59:29 +0400, , zdtm add pthread00 test signed cyrill gorcunov gorcunov openvz.org,,
10086,8cc08ada8e4bb6b6e64f14b41e8ed2e251bbddca,ndrey Vagin <avagin@openvz.org>, 2012-01-16 09:40:00 +0400, , restore close image create_pipe create_pipe may restore descriptor may end pipe target descriptor image may hold signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
10087,579e241c3bf1da47dce2c1b4ecdceb139340f5c5,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-16 11:57:45 +0400, , revert restore pipe allow reuse descriptor reverts commit andrey posted proper fix moreover problem first place initiated parasite application running test case crtools know nothing signed cyrill gorcunov gorcunov openvz.org,,
10088,46c613cc7d869ebf39532a1def054de7678e441f,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-15 20:18:47 +0400, , restore pipe allow reuse descriptor perfectly fine reuse descriptor since use plain pipe call migh choose descriptor need signed cyrill gorcunov gorcunov openvz.org,,
10089,b2cfd095fb2bb8e1aff18e385827be4d40760152,avel Emelyanov <xemul@parallels.com>, 2012-01-15 22:48:48 +0400, , zdtm make cmdline little bit user friendly add option show list test make default zdtm live prefix running individual test like zdtm.sh running test zdtm.sh list available test zdtm.sh test run test test e.g static pipe00 signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10090,9330ce170a4a34f76d2ef17b9f2377a99ec48ed3,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-15 13:08:07 +0400, , add tool commit bot.sh signed cyrill gorcunov gorcunov openvz.org,,
10091,6babc5c17bbc0ef0ddb919c4f58a03ba79ad7bbd,avel Emelyanov <xemul@parallels.com>, 2012-01-15 22:06:13 +0400, , file show file output signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10092,f899d0407acfd1d50dc5c38009635376d4d4f005,avel Emelyanov <xemul@parallels.com>, 2012-01-15 22:07:36 +0400, , file handle absence proc fdinfo make crtools correctly abort working wrong kernel otherwise open file garbage subsequent restore result broken app signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10093,cc14c6eb61bcb3f92ecff12a8646e56a04aea953,avel Emelyanov <xemul@parallels.com>, 2012-01-15 19:17:00 +0400, , pstree sanitize pstree image opening restore old code carried path stack pstree_pid handy helper get one tested pipes00 test zdtm fork signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10094,f80694deed7bddbb85364247dc18f7df1a8fa88c,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-15 20:24:13 +0400, , proc_pase make sure may scan symbol name use strcpy better stick strncpy moreover safe side make proc internal buffer big enough even format hardly possible kernel ever change stat format safe side signed cyrill gorcunov gorcunov openvz.org,,
10095,a9969dcf72ce8c35406123b6a4c6acccfadada70,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-15 20:04:13 +0400, , restore format printing align data previous caller signed cyrill gorcunov gorcunov openvz.org,,
10096,05c142c0f5ea190cfd634afb125566ca6683e571,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-15 02:20:57 +0400, , proc_parse make sure field parsing stream match signed cyrill gorcunov gorcunov openvz.org,,
10097,976c092c3f6c7ae468944b904b699ef7dce7be70,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-14 15:03:38 +0400, , show drop redundant pr_img_tail  crtools unixsk 12713.img cr_fd_unixsk  type state namelen backlog 79422 peer test socket conn type state namelen backlog 79423 peer 79423 test socket bound conn   crtools unixsk 12713.img cr_fd_unixsk  type state namelen backlog 79422 peer test socket conn type state namelen backlog 79423 peer 79423 test socket bound conn  signed cyrill gorcunov gorcunov openvz.org,,
10098,893f5099cbf0d0a9b337d8a1e0806de67e327cdf,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-14 14:56:51 +0400, , show drop redundat rendering process tree leftover merging stage signed cyrill gorcunov gorcunov openvz.org,,
10099,fd0802ab6699c6bf21545799597b490ff5025dc0,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-15 01:39:44 +0400, , proc_parse drop ending format specificator eats matching stream fails signed cyrill gorcunov gorcunov openvz.org,,
10100,04a6f0449d26b934e9fc1d52a5b21f61530290a4,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-14 14:52:28 +0400, , proc_parse zap ending name repored pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10101,47ba8087069f8364324ecae6e9429afbac9fc88f,avel Emelyanov <xemul@parallels.com>, 2012-01-14 14:31:19 +0400, , restorer shrink size need big path_max signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10102,63137fbecb4adb43ac3620d9fc776152367144ba,avel Emelyanov <xemul@parallels.com>, 2012-01-14 14:27:51 +0400, , restorer drop unneded last_pid_buf signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10103,3302183c059d02982d1d19d0f2474ce52b7d2036,avel Emelyanov <xemul@parallels.com>, 2012-01-14 14:24:20 +0400, , restore pas self vma file descriptor directly instead passing self vma file path restorer code simply open restore_task call pas descriptor instead save memory signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10104,acfd1d7fc479eab649f8d1ee408a920d95836fda,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-14 01:58:36 +0400, , crtools fix command line parsing parse_pid_stat signed cyrill gorcunov gorcunov openvz.org,,
10105,1e073d05eba0f93e43a8d06332564a4a6c17d9f6,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-14 01:48:29 +0400, , crtools style update proc_parse func change signed cyrill gorcunov gorcunov openvz.org,,
10106,3202d72f85d885cada39e01f7cdcc424365b91dc,avel Emelyanov <xemul@parallels.com>, 2012-01-13 20:54:08 +0400, , crtools parse proc pid stat readable way later need field file let parse right way allows easily get new field signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10107,12d4c85410df95db01197efa8ba7c17e4d6cb65d,avel Emelyanov <xemul@parallels.com>, 2012-01-13 20:52:35 +0400, , crtools move proc parsing routine one file start proc pid map parser signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10108,9792a860b32174c1aeeefc409cf4ada0a14ec6c2,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-13 23:04:20 +0400, , dump fix argument type printing signed cyrill gorcunov gorcunov openvz.org,,
10109,08569cbc5f077d9919d1fd0beaae7b5e8a87b93a,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-13 22:27:49 +0400, , dump use proper format int printing signed cyrill gorcunov gorcunov openvz.org,,
10110,53d75ad13c6171661f24bf5d646cdafbae4501df,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-13 21:42:18 +0400, , show fixup nit left merging signed cyrill gorcunov gorcunov openvz.org,,
10111,1c96c5cff0de7f810bf12791668a2d83cd5f0d4e,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-13 21:39:14 +0400, , merge branch xemul dev xemul crtools collect dumping parameter one place crtools toss dump_one_fd args around crtools rename lfd dump_one_fd crtools sanitize pstree construction crtools remove unused crtools deduplicate file info showing code crtools merge pstree collecting showing crtools remove unused wrong array pstree image crtools remove lseeks prep_cr_ call crtools cleanup collect_pstree show conflict dump.c include sockets.h sockets.c conflict mostly commit  signed cyrill gorcunov gorcunov openvz.org,,
10112,81277f21a097c4940bf563f8ffbeeb275ce79d0b,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-13 17:20:57 +0400, , parasite embed vma_area control block need track weird way small structure moreover rest parasite code count space allocated _after_ main control block simply happened hit problem signed cyrill gorcunov gorcunov openvz.org,,
10113,995ef5eca3b8d74cf192e41c307f5329d93f9795,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-12 23:50:45 +0400, , use openat helper intensively opening proc pid file allows get rid open coded proc pid based patch pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
10114,b0a9533080e3b986342040437ec7dd469a360d02,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-13 16:49:25 +0400, , crtools make sure enough space hold image path signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
10115,7a11cfc0b353b40ff5acae5f81218cdde5087c0a,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-13 14:02:38 +0400, , restore need track pid main shmems open map_files via proc self basically reverts overdone one reported pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
10116,7eec5a9e0c9a26e3e04d0e5b779a366aab2000c5,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-01-13 16:26:00 +0400, , socket replace macro concatenation single one netlink request nlm_f_dump already defined nlm_f_root nlm_f_match signed stanislav kinsbursky skinsbursky parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10117,7dcf59de2f695fcffc2cd5d4ae23f5488b7aa3f3,tanislav Kinsbursky <skinsbursky@parallels.com>, 2012-01-13 16:26:00 +0400, , libnetlink typo fixed signed stanislav kinsbursky skinsbursky parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10118,3b7c1a1c795afa311f0da25b22be8d217a57b34f,ndrey Vagin <avagin@openvz.org>, 2012-01-13 13:07:16 +0300, , zdtm correct mail signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
10119,3bba868e92c8be31dc4f47b470694ca4911d0ee2,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-13 11:40:26 +0400, , socket allow reuse run_accept_jobs socket special reuse fds accept job signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
10120,81d91983d38ad88c6a71cc0f108524597aa4bf34,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-13 13:15:57 +0400, , util move reopen_fd_as avagin drop redundant fcntl call err variable signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
10121,d7121ede0df3c58bc475b33164219bdcc8c052bb,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-12 22:16:54 +0400, , merge branch xemul mail xemul xemul mail crtools collect dumping parameter one place crtools toss dump_one_fd args around crtools rename lfd dump_one_fd crtools sanitize pstree construction crtools remove unused crtools deduplicate file info showing code crtools merge pstree collecting showing crtools remove unused wrong array pstree image crtools remove lseeks prep_cr_ call crtools cleanup collect_pstree show conflict show.c signed cyrill gorcunov gorcunov openvz.org,,
10122,a9fdf3865ea526ff652e195540bc314d7d23c76b,avel Emelyanov <xemul@parallels.com>, 2012-01-12 22:00:45 +0400, , crtools collect dumping parameter one place introduce fd_parms structure contains need describe open dump name int flag read_fd_parms routing fill one pass along stack reduces amount argument significantly signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10123,1b247eb6b442e53dea9ab48e6e58c6562d325704,avel Emelyanov <xemul@parallels.com>, 2012-01-12 21:59:13 +0400, , crtools toss dump_one_fd args around make dump_one_fd accept local integer target value instead target dir target string name save couple atoi done make next patch simpler signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10124,fbafe2db1521c4c67d1656b797c626328d76eae2,avel Emelyanov <xemul@parallels.com>, 2012-01-12 21:57:14 +0400, , crtools rename lfd dump_one_fd variable actually local reflect name signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10125,02dbadb46f1aff3932effde45a3fdab12b297ebe,avel Emelyanov <xemul@parallels.com>, 2012-01-12 21:56:22 +0400, , crtools sanitize pstree construction rename add_ one since find move list adding signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10126,a9e2321c3850f1db40d30cd65701b230e0e1584b,avel Emelyanov <xemul@parallels.com>, 2012-01-12 21:55:18 +0400, , crtools remove unused signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10127,1d216334667e922720e27f9def8a1d00ff53033c,avel Emelyanov <xemul@parallels.com>, 2012-01-12 21:54:38 +0400, , crtools deduplicate file info showing code print common info append path required signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10128,6de20ba9c191c6f8f7050a797d09f2994ca050e0,avel Emelyanov <xemul@parallels.com>, 2012-01-12 21:53:46 +0400, , crtools merge pstree collecting showing need collecting child list shower need reading file twice collect show everything one signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10129,0d34b2707cd13866ea5f8641cc6b3d98a4dedc3e,avel Emelyanov <xemul@parallels.com>, 2012-01-12 21:52:14 +0400, , crtools remove unused wrong array pstree image signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10130,759533ce3f03b6d3eeba2f698b631bb0b658561d,avel Emelyanov <xemul@parallels.com>, 2012-01-12 21:51:32 +0400, , crtools remove lseeks prep_cr_ call preparation function read magic file thus lseek required signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10131,3ab4286c5577060f5f4bb1ec00e713bede0577be,avel Emelyanov <xemul@parallels.com>, 2012-01-12 21:50:28 +0400, , crtools cleanup collect_pstree show rename read_pstree remove unneeded 2nd argument signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10132,9360a73cad7df2bee7214800bff0691a26ee7ec2,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-12 21:25:19 +0400, , crtools make close_cr_fdset safe called closed set done intentionally able call close_cr_fdset several time row bring ability back otherwise getting glibc complains attemt free already freed memory signed cyrill gorcunov gorcunov openvz.org,,
10133,e4d21f5a38db8b59d4d70ebd040036a31bc59d39,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-12 20:00:01 +0400, , dump drop appending thread data main core file rudiment elf time code needed anymore reported pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10134,603046312257825f695ee74af722d2d5196fd9bc,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-12 19:28:46 +0400, , socket fix memory leak relative bind path case relative bind path found skip socket forget free previously allocated memory signed cyrill gorcunov gorcunov openvz.org,,
10135,49074a98c4ec70999e2f6a9ad39ff8d174f18b52,ndrey Vagin <avagin@openvz.org>, 2012-01-12 17:45:24 +0300, , socket skipe unsupported socket collect unix socket current net namespace target process may skip unsupported socket used target process lookup_socket return error signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10136,90fd4bfaf14de50da7a1c54c317ad85a0f0a4b9b,ndrey Vagin <avagin@openvz.org>, 2012-01-12 17:38:43 +0300, , netlink include sys socket.h workaround rhel6 contains old header file included libnetlink.c usr include linux netlink.h error expected specifier qualifier list sa_family_tâ signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10137,f7688ed7ba533aa58d98161cab9c3d87a24caa93,ndrey Vagin <avagin@openvz.org>, 2012-01-12 17:38:42 +0300, , file clean logic intersection image target open_fdinfo call move_img_fd function care signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10138,ed269b13a8e55823b4b00cce6006f758afef6eac,ndrey Vagin <avagin@openvz.org>, 2012-01-12 17:38:41 +0300, , file initilize variable signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10139,fd04a3029f579614b184ff0e0f184bd9a0fa896d,ndrey Vagin <avagin@openvz.org>, 2012-01-12 17:38:40 +0300, , file remove unused variable signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10140,af41c3f509c4a9cebaa9f1919da536ae1acb96cc,ndrey Vagin <avagin@openvz.org>, 2012-01-12 17:38:39 +0300, , file make message informative signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10141,6b83aef6a1a54c383a5b0286420b9c4b04a05673,avel Emelyanov <xemul@parallels.com>, 2012-01-12 15:19:14 +0400, , crtools merge fdset free close previous patch need two separate call signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10142,871b73674dfafd34e374974378757b863b6f5341,avel Emelyanov <xemul@parallels.com>, 2012-01-12 15:18:32 +0400, , crtools merge fdset allocation prep always pair need two call signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10143,15209d3fe97c68c5fffbb0052798cebff06eea5c,avel Emelyanov <xemul@parallels.com>, 2012-01-12 15:17:51 +0400, , crtools make fdset array file descriptor path needed call get_image_path prep_cr_fdset_ routine parasite syscall.c required signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10144,e710c5c5ef84e8282d5a67e849dd8787826596e2,avel Emelyanov <xemul@parallels.com>, 2012-01-12 15:16:33 +0400, , crtools anitize showing funtions remove unneeded path argument know file data read actually bogus show_header boolean also introduce two helper showing header tail signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10145,7c73b4c14148855bdee9ce72841cb0510b565603,avel Emelyanov <xemul@parallels.com>, 2012-01-12 15:15:32 +0400, , crtools remove use_mask fdset one required allocation already argument also required free check signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10146,ee133674868a98f19a8c6a6325c08bdded20eba3,avel Emelyanov <xemul@parallels.com>, 2012-01-12 15:14:36 +0400, , crtools remove tmpl pointer fdset place need one use direct reference template signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10147,f316a79e665310b0a9d0ea93bafed79736947788,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-12 16:46:35 +0400, , file use xmalloc instead plain malloc also catch potential null dereference signed cyrill gorcunov gorcunov openvz.org,,
10148,76ef79a0818cedc73e38ba2f9fa8437bb252ad0e,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-12 14:09:54 +0400, , dump fix stack data written image case file provided might writting stack data image better put zero signed cyrill gorcunov gorcunov openvz.org,,
10149,307260df2b1a9f77c3a81cf16c334815bf75d7f8,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-11 21:20:11 +0400, , drop todo file everything http criu.org todo reported pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10150,bda3baa373e2fa65ca41e2acc338be1c8ce1d3b1,ndrey Vagin <avagin@openvz.org>, 2012-01-10 20:02:00 +0400, , file use lseek instead open signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
10151,14e42bb7049bddbcc52d8bc7f51a8ef2cfde212f,ndrey Vagin <avagin@openvz.org>, 2012-01-10 20:02:00 +0400, , pipe fix error code message signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
10152,9129d4e2a18ecbd31347ed4460ba06a928b0aefb,ndrey Vagin <avagin@openvz.org>, 2012-01-10 20:02:00 +0400, , restore use char image struct signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
10153,d6a1cd0fbc79acb53c06361880de7a80000a4e8e,ndrey Vagin <avagin@openvz.org>, 2012-01-11 15:45:00 +0400, , restore learn work shared struct file process share one struct file may find object file descriptor opened one process send via unix socket procedure restoring file contains four stage collect data file descriptor stage find process restore file descriptor create list process get descriptor create datagrams unix socket file descriptor received unix socket created instead open file descriptor process least pid open file sends file descriptor one wait receive file descriptor thinking algoritm wanted minimize number context switch number context switch proportional number process signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10154,b5cc5fc3e15b421657ea7bf8957ab04b5bd20e57,avel Emelyanov <xemul@parallels.com>, 2012-01-11 13:32:43 +0400, , crtools sanitize parasite_ctl pas remove excessive check keep pointer signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10155,a49e30722ab5298c596d83b0e55f6a71b19aac97,avel Emelyanov <xemul@parallels.com>, 2012-01-11 13:31:30 +0400, , crtools kill constant arg mmap hint always null signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10156,73633d5505ef3cd2338128686811d9f6d1aa1777,avel Emelyanov <xemul@parallels.com>, 2012-01-11 13:30:38 +0400, , crtools kill constant arg last one always cr_fd_pages signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10157,0ca9ccc3e402e78abf4e04b1d11c5b5741247103,avel Emelyanov <xemul@parallels.com>, 2012-01-11 13:29:35 +0400, , crtools sanitize tasklist state switch introduce helper walking list sending signal signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10158,7fde5f061bacb5e7a431b579b997a9bcd0fccd5d,ndrey Vagin <avagin@openvz.org>, 2012-01-10 18:03:00 +0400, , restore move file related stuff separate file signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
10159,d6a1d206909174804a91dfa7acf10474d282d1ac,ndrey Vagin <avagin@openvz.org>, 2012-01-10 18:03:00 +0400, , zdtm add test case shared sturct file signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
10160,37782e6e007f1efe059d8964cbe811035bb8e587,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-10 16:10:52 +0400, , test update unix socket include dgram bound connected socket example cr_fd_unixsk home cyrill crtools unixsk 2813.img  type state namelen backlog 19505 peer 19506 type state namelen backlog 19506 peer 19505 type state namelen backlog 19507 peer type state namelen backlog 19508 peer test socket bound type state namelen backlog 19509 peer 19510 type state namelen backlog 19510 peer test socket conn type state namelen backlog 19511 peer 19511 test socket bound conn  last one bound connected signed cyrill gorcunov gorcunov openvz.org,,
10161,dffaab578dd59364ede9fae4eb3538a794363a08,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-10 15:49:38 +0400, , socket restore dgram socket signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
10162,930432f1617ae3f3030374a34b7562f8216fa645,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-10 12:25:44 +0400, , socket make socket name printing similar vmas use format vma name signed cyrill gorcunov gorcunov openvz.org,,
10163,1a1979cc88f7b739ef94192df52f2b648eb3b1cb,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-10 12:14:43 +0400, , socket show backlog length show procedure signed cyrill gorcunov gorcunov openvz.org,,
10164,196ce521a83730a93c699a2f405910fd5585f1e2,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-10 12:07:35 +0400, , socket unix retrieve backlog length stream socket signed cyrill gorcunov gorcunov openvz.org,,
10165,34b2ba0c068651e3de7bb82b39da3e1cd77ad4bd,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-10 13:16:47 +0400, , socket update unix_diag.h signed cyrill gorcunov gorcunov openvz.org,,
10166,942355c1663e7d7442e29a7b86fd25a0df55ec03,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-31 01:10:35 +0400, , socket nitpick dgram dumping signed cyrill gorcunov gorcunov openvz.org,,
10167,054bf4ada29a68c10fec2598c5b6bc55dae706ed,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-30 23:55:06 +0400, , socket allow dump dgram socket signed cyrill gorcunov gorcunov openvz.org,,
10168,04ec43a5d59806f89a42322f052d8896e8b97f8e,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-30 23:53:27 +0400, , socket split open_unix_sk stream dgram version add comment signed cyrill gorcunov gorcunov openvz.org,,
10169,cc15c018324df1c773b77ccbf53a35a5aa9fda27,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-30 22:19:50 +0400, , test rewrite socket test signed cyrill gorcunov gorcunov openvz.org,,
10170,eac52b6090bda2c943264556778044a9d067f6ac,ndrey Vagin <avagin@openvz.org>, 2012-01-10 16:41:00 +0400, , util reopen_fd_as return error destination descritor busy signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10171,f274f16081278d6c560d2e5f8086cc7569b0a3a1,ndrey Vagin <avagin@openvz.org>, 2012-01-10 16:39:00 +0400, , log close unused descriptor code open log file duplicate descriptor logfd forgets close first one signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
10172,5d5e8b801cf513e45371b3dd930ad72ffe3b5f08,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-04 18:31:48 +0400, , retore fix shared anonymous memory restore procedure restorer doe really restore shared memory including page content restore master process process open memory area via map_files procfs entry might situation shared vma present particular core d.img file listed collected shmems array return null perfectly fine ready another issue shared memory might look like cr_fd_shmem home cyrill project kernel crtools shmem 2641.img  0x7f2200775000 0x7f2200776000 19664 0x7f2200776000 0x7f2200777000 19663  vma area range distinguish two shmem lookup case one search page shmem area second lookup shmem area collected range different lookup condition single find_shmem splitted two helper find_shmem find_shmem_page appropriate patch finally fix three process asynchronious shared memory update test case signed cyrill gorcunov gorcunov openvz.org,,
10173,1b21a27b0c4ac2278edbb984b4b85e5636617620,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-03 13:07:45 +0400, , restore simplify signed cyrill gorcunov gorcunov openvz.org,,
10174,d0a6e9a101436d6b055f6ca36abd44cf70c2a4f8,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-03 13:05:50 +0400, , restore pas shmems_fd argument well might needing close shmems file descriptor signed cyrill gorcunov gorcunov openvz.org,,
10175,4416c649c8105e6e1bfc4bd638ad1d7f907aeaef,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-02 21:36:11 +0400, , syscalls add sys_msync helper signed cyrill gorcunov gorcunov openvz.org,,
10176,e0e934aa4bafe435f5c3e75b3eec339aefd31838,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-02 20:29:39 +0400, , restore shmems use cr_wait_init helper sake consistency signed cyrill gorcunov gorcunov openvz.org,,
10177,86d114438e0d69669f0c28677e1117353cfecd3e,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-02 20:29:02 +0400, , lock add cr_wait_init helper signed cyrill gorcunov gorcunov openvz.org,,
10178,793f3aa9475eabc46d00521cc01e80eaf8d0a9ea,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-02 20:23:35 +0400, , restore shmem_remap argument resort style tuning func change signed cyrill gorcunov gorcunov openvz.org,,
10179,5b47af26f5e9a6489568b387a38727a30e886633,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-02 19:47:01 +0400, , restore need check vma_entry dumping procedure doe check vma_anon_shared done restore time signed cyrill gorcunov gorcunov openvz.org,,
10180,1238d2dd7218fec74395778c08d90ddb8236691e,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-02 17:13:47 +0400, , restore signal waiter shmem read page data restored signed cyrill gorcunov gorcunov openvz.org,,
10181,e189efc1763d9cae55e1cafd7aff7ffef6e47303,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-02 02:49:34 +0400, , restore shmems fix proc path remapping proc path shmem done pid process mmap call initially signed cyrill gorcunov gorcunov openvz.org,,
10182,58ad08887043e2fbdf8cd5d8838804aea4c7444b,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-02 00:57:33 +0400, , restore fix typo signed cyrill gorcunov gorcunov openvz.org,,
10183,80492c78e67fdbe4c96c8a4011973d03086c4b9c,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-01 13:18:42 +0400, , restore detailed log shmem restore signed cyrill gorcunov gorcunov openvz.org,,
10184,a03e3622f2c17e2837f1054887453db5b5ae5b7c,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-01 13:12:37 +0400, , restore add log message restore via sigreturn started signed cyrill gorcunov gorcunov openvz.org,,
10185,3afb83299c01d622cd3a0e6138cf0aff2a7d03de,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-01 13:10:12 +0400, , restore gather setting agrument sigreturn code one place also add comment signed cyrill gorcunov gorcunov openvz.org,,
10186,ee0f17b0a7469ee71bca1beef7f37031a7ce0f14,yrill Gorcunov <gorcunov@openvz.org>, 2012-01-01 02:32:32 +0400, , restore fix typo shmem size assignment use shmems_size constant well signed cyrill gorcunov gorcunov openvz.org,,
10187,a14ceb49506ae771787b94fd1e1d27e216376f54,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-31 17:32:50 +0400, , util fix parse_maps handle anonymous shared mapping commit started use self contained shared memory region revealed problem anonymous sgared mapping might parsed parse_maps incorrectly fix ready get anon shared mapping signed cyrill gorcunov gorcunov openvz.org,,
10188,f3ed69a339d617e70abb5fdc880170dca0fe61ab,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-30 18:24:55 +0400, , socket print socket well also make output bit fancy cr_fd_unixsk unixsk 2440.img  type state namelen 19406 peer 19407 type state namelen 19407 peer 19406 type state namelen 19408 peer tst type state namelen 19409 peer type state namelen 19410 peer 19411 type state namelen 19411 peer tst sk1  signed cyrill gorcunov gorcunov openvz.org,,
10189,5f7d677fad90020ea8c795a9a25f1453b5052bc8,avel Emelyanov <xemul@parallels.com>, 2011-12-30 16:25:42 +0400, , crtools sanitize path buffer usage signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10190,2967bb9c371ba8a2bcdfe726f37156152968fc41,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-30 01:42:21 +0400, , socket use reopen_fd_as helper also test possible dup call error signed cyrill gorcunov gorcunov openvz.org,,
10191,96f92ee6120768b2426465ba882cb1a81e27eb40,avel Emelyanov <xemul@parallels.com>, 2011-12-29 19:56:34 +0400, , crtools cleanup open_image_ro signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10192,7b0b203b346859e780c83f8b890edd9842dc0813,avel Emelyanov <xemul@parallels.com>, 2011-12-28 20:40:00 +0400, , crtools use open_image_ro appropriate several place need open image thus helper use signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10193,329d8aa662a72f20d3c4c16c1dc4034bd5d2f36e,avel Emelyanov <xemul@parallels.com>, 2011-12-28 20:39:00 +0400, , pid enough signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10194,d4fd91046f0cf3e9a35fed864f7a552cdc40ff72,avel Emelyanov <xemul@parallels.com>, 2011-12-28 20:38:00 +0400, , crtools remove duplicate boolean duplicate show_dump_file pointer signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10195,a76922ebc01ebc8df17454fc59e756a38cfe1d84,avel Emelyanov <xemul@parallels.com>, 2011-12-28 20:34:00 +0400, , crtools fix lost magic arg print signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10196,935c8e75f0e1a569c568dde11e3abea98c35e337,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-28 02:10:19 +0400, , net socket use read_ptr_safe magic number test signed cyrill gorcunov gorcunov openvz.org,,
10197,4432c6447e7331551c6a31d7e588c65e380ba446,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-28 02:02:46 +0400, , net socket style tuneups follow rest code use xalloc result test structure member tab aligned multiline assignment structure member aligned well signed cyrill gorcunov gorcunov openvz.org,,
10198,bc3370fc476a40bd2b706052eb3d07398fc734c2,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-28 00:40:19 +0400, , net socket dont use multiline without brace signed cyrill gorcunov gorcunov openvz.org,,
10199,269fb0b7774a02982d5b729742e9f75b9ed81162,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-27 23:38:41 +0400, , net libnetlink drop trailing whitespaces signed cyrill gorcunov gorcunov openvz.org,,
10200,c53408d6b733dbe180a10f6dd36db8c2a8275350,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-27 23:32:17 +0400, , net socket make sure namelen unix_path_max unix_path_max size path max length never equal size signed cyrill gorcunov gorcunov openvz.org,,
10201,2ae99d73b927aecb3d7c569d91cef5f8818ade22,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-27 20:13:18 +0400, , net define named constant nlmsg_seq better readability signed cyrill gorcunov gorcunov openvz.org,,
10202,25d048c02a02f13666712fb0fdbeacd6db4bbff2,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-27 20:01:47 +0400, , test add usnix socket test signed cyrill gorcunov gorcunov openvz.org,,
10203,843747de554f0343ecb65840f053a66d6daaee69,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-27 14:24:47 +0400, , net change headres follow c99 since system library underscopes function name really needed known clash posix namespace empty line system header header readability extern function prototype signed cyrill gorcunov gorcunov openvz.org,,
10204,f532e9fed2b9f007bb17599b17bee94b5f488e94,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-27 12:11:44 +0400, , net socket use dprintk helper drop usk_debug dprintk active compiled make debug signed cyrill gorcunov gorcunov openvz.org,,
10205,ccd5e2295fd7ff33b6263c10114f1f1b24a28702,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-27 12:40:57 +0400, , net socket replace __u32 u32 provide type types.h signed cyrill gorcunov gorcunov openvz.org,,
10206,00e14f044814ab2b4ea48b47d22a39a57bf5a057,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-27 02:27:20 +0400, , make add debug option allows use pr_debug dprintk helper signed cyrill gorcunov gorcunov openvz.org,,
10207,4c0fb12e11775869ac24fb8b1346008bae8d03e7,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-27 02:13:29 +0400, , util make pr_warning report file line well easier debugging zap release time signed cyrill gorcunov gorcunov openvz.org,,
10208,e6a033fb05ef43b8e40f8ccb15a1c6c59e1b2f9a,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-27 01:41:17 +0400, , net libnetlink add ifdefs escape system header conflict otherwise getting error like libnetlink.o file included libnetlink.c include libnetlink.h error nlmsg_length redefined werror make macro bit readable signed cyrill gorcunov gorcunov openvz.org,,
10209,2f85054ddf1cdb64b00203591ccd58ce4b3a172d,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-27 00:24:23 +0400, , libnetlink drop tailing whitespaces cosmetic change signed cyrill gorcunov gorcunov openvz.org,,
10210,4a015bba332156d68f51ba7f971e430830089687,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-27 00:16:39 +0400, , socket use safe snprintf signed cyrill gorcunov gorcunov openvz.org,,
10211,aeb638f845eef1bff03719821861e1e19a089bcd,ndrey Vagin <avagin@openvz.org>, 2011-12-26 23:50:45 +0400, , restore shmem poll use wait helper instead signed andrey vagin avagin openvz.org gorcunov tuneups signed cyrill gorcunov gorcunov openvz.org,,
10212,bd8b2b0f1105bfb6e7622966652e1e9afd68c757,ndrey Vagin <avagin@openvz.org>, 2011-12-26 21:27:03 +0400, , restore shmems remap shmems use restorer signed andrey vagin avagin openvz.org gorcunov log error restorer.c signed cyrill gorcunov gorcunov openvz.org,,
10213,99eb3d09c5c42200b230783e793b778882ce8dd6,ndrey Vagin <avagin@openvz.org>, 2011-12-26 21:15:30 +0400, , restore shmem add self contained shem memory region next patch remap shmems region use restorer actually patch move shmem_nr struct shmems signed andrey vagin avagin openvz.org gorcunov various tuneups signed cyrill gorcunov gorcunov openvz.org,,
10214,74a56b8c5a1446d30811157cc5e145beffa50945,ndrey Vagin <avagin@openvz.org>, 2011-12-26 21:00:13 +0400, , restore pipe poll use wait helper instead signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
10215,fd7543e6e574fa4d93c773f2f140d628b33bacaa,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-26 20:33:09 +0400, , gather futex helper lock.h based patch andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org acked andrey vagin avagin openvz.org,,
10216,e7ce6f7a3f3b5852098834b70739c61e3553c2bd,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-26 23:24:39 +0400, , net unix diag drop double underscopes signed cyrill gorcunov gorcunov openvz.org,,
10217,c5eb61e86653f7dd6b8a847e82c6ffce3ec2be48,avel Emelyanov <xemul@parallels.com>, 2011-12-26 22:12:03 +0400, , unix socket initial support currently work stream socket skbs queue listening established work cpt part sock_diag engine merged dave recently collect socket dump socket checking filesystem failed open proc pid descriptor socket allow trick open proc sockfs_type rst part tricky listen socket restored simple connected socket restored like one end establishes listening anon socket desired descriptor end creates socket desired descriptor socket connect call connect unix socket block connect till accept time thus continue ... ... listening socket call accept ... dup2 new accepting end problem approach socket name preserved looking openvz implementation think existing apps done next need merge file patch tree make andrey support file sharing solve socket fork case currently simply work need add support dgram socket wrote comment  need add support flight connection implement support udp socket quite simple implement support listening tcp socket also complex implement support connected tcp scokets hard one tejun patch good pov cyrill plz apply patch put description onto wiki doc plan page yet andrey plz take care unix socket test zdtm likely work till shared file support socket signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10218,bf7a74d47e0065473c251211bed30b4015a7165e,avel Emelyanov <xemul@parallels.com>, 2011-12-26 21:48:00 +0400, , helper moving image opening position current image sits latter one moved introduce helper signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10219,99cc87949f236e4f04b0ecd0c9c897b948fdfa41,avel Emelyanov <xemul@parallels.com>, 2011-12-26 21:47:00 +0400, , reopn_fd_as return code fixlet cleanup nobody care returned make clean caller signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10220,d7ab5f2f7bf45e2c40ab2e2324dfb3abe6b213c0,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-26 15:53:14 +0400, , restorer implement bug_on_handler due code specific running without glibc support need one signed cyrill gorcunov gorcunov openvz.org,,
10221,f5a87742a047b28097486dece3efed2943565080,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-26 15:31:51 +0400, , util add bug_on helper signed cyrill gorcunov gorcunov openvz.org,,
10222,42c755b466ab65e559451da929bc64a3f2b1198d,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-26 02:06:38 +0400, , restorer last_pid_ns written without eol otherwise einval returned signed cyrill gorcunov gorcunov openvz.org,,
10223,4f797015e656047780597f3c3bb499ca26db6f41,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-25 19:23:59 +0400, , test enhance pthreads test include fork call signed cyrill gorcunov gorcunov openvz.org,,
10224,3c929e540cfd49bd7ddddcdb3820f0eab6643112,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-25 18:19:16 +0400, , dump adopt dumping child new format kernel new format process child proc pid task tid child adopt crtools signed cyrill gorcunov gorcunov openvz.org,,
10225,894a626a52c9a2be8988fe4b29bd78d90d95ca79,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-25 17:09:37 +0400, , dump parse_threads pas single struct pstree_item instead parameter parsing child require know number thread found sake consistency pas single struct pstree_item well signed cyrill gorcunov gorcunov openvz.org,,
10226,3e45e04050870943cb356645111dfbde2424b623,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-25 17:04:02 +0400, , util add fopen_fmt helper signed cyrill gorcunov gorcunov openvz.org,,
10227,7cf9246a8da2b76fdcaea11ce0449b081d726636,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-26 00:21:09 +0400, , restorer write failing tid error logging sake signed cyrill gorcunov gorcunov openvz.org,,
10228,70938a3d612205db84cae2125c37391699f9b4d4,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-25 22:15:41 +0400, , restore make sure setting last pid successed signed cyrill gorcunov gorcunov openvz.org,,
10229,5c7fae144942e2b461748152e9fcb78dc917df1a,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-20 19:52:19 +0400, , show fix useless sigaction mask dereference lead sigsev struct sa_entry converted native format need dereference signed cyrill gorcunov gorcunov openvz.org,,
10230,8e5dc8a19809eb5b77e9cc5cbb524c15c0a09c07,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-20 19:47:06 +0400, , crtools allow specify pid show file content signed cyrill gorcunov gorcunov openvz.org,,
10231,344ccb365cd6d59a624261c87d3200c8777e6251,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-20 19:26:37 +0400, , crtools make sure pid specified command line signed cyrill gorcunov gorcunov openvz.org,,
10232,7b1ea1470f5ca67a17fc9af3d7fb26c8efec0201,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-20 16:56:04 +0400, , drop kernel directory kernel patch carried separate repo anyway second place patch might confusing signed cyrill gorcunov gorcunov openvz.org,,
10233,681ef94fc0044c8c5684cb89ee5d0f1f1b7008a6,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-19 23:25:08 +0400, , ptrace drop unneeded includes signed cyrill gorcunov gorcunov openvz.org,,
10234,350225a2ae0de4d1b80770772e86880f8e14c4ab,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-19 23:22:31 +0400, , log drop unneeded includes signed cyrill gorcunov gorcunov openvz.org,,
10235,62e9851a842bada0b970da372662ea0216447d92,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-19 23:20:51 +0400, , show drop unneeded includes signed cyrill gorcunov gorcunov openvz.org,,
10236,ff954f655f860eea211e70eed219531540956bc6,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-19 23:18:17 +0400, , dump drop unneeded includes well force move ptrace definition ptrace.h otherwise freshly fetched kernel header become conflict existing ptrace constant signed cyrill gorcunov gorcunov openvz.org,,
10237,6e6a820bcfdc5ef52f40d63d04ad3cc107de4525,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-19 22:29:30 +0400, , crtools drop unneeded header signed cyrill gorcunov gorcunov openvz.org,,
10238,92efe1921aa4493385f8d8d4539e03a1ba2c084a,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-19 22:20:42 +0400, , type drop x86 support x86 yet need carry declaration confusing signed cyrill gorcunov gorcunov openvz.org,,
10239,2e3c4e3692170f86b1308119004edc4aae67de94,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-19 21:57:59 +0400, , move everything related ptrace ptrace signed cyrill gorcunov gorcunov openvz.org,,
10240,83fd63d3feffe0ce2a5c35ad3bbd323a19dcfac2,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-19 21:46:03 +0400, , add missing extern function prototype regardless link thing one executable better declare beggining signed cyrill gorcunov gorcunov openvz.org,,
10241,32ac78a499ea73bede458dbad2d6bdece233082b,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-19 21:19:28 +0400, , util drop ptrace seize helper declaration header already defined seize.h signed cyrill gorcunov gorcunov openvz.org,,
10242,8a90464cc90315070ccd2426ef8d04c7abaa08f9,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-19 21:05:02 +0400, , drop duplicated include rearrange rest signed cyrill gorcunov gorcunov openvz.org,,
10243,d6eab944e3be68d244b5cf36f8e89c024cfe2da6,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-19 18:52:50 +0400, , move logging function log.c instead keeping unrelated procedure helper util.c move logging related helper log.c signed cyrill gorcunov gorcunov openvz.org,,
10244,3023837da9ef5ef7216ff6434836a64b65e81c58,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-19 16:51:26 +0400, , crtools return negative number error sake consistency signed cyrill gorcunov gorcunov openvz.org,,
10245,dc883fe49f4dc47fcd5f8c9655b325e7a74bd54e,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-19 16:09:24 +0400, , util drop unused inline_memcpy signed cyrill gorcunov gorcunov openvz.org,,
10246,08faefd6bb3318cd98c2f8a72a26d742bc51f536,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-19 15:37:05 +0400, , crtools use safe strncpy get_image_path signed cyrill gorcunov gorcunov openvz.org acked pavel emelianov xemul parallels.com,,
10247,6485fbd25ffdd3aab3451a4e1fcd9f28faa4a940,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-18 19:52:31 +0400, , parasite make max size path path_max signed cyrill gorcunov gorcunov openvz.org acked pavel emelianov xemul parallels.com,,
10248,6adce279e81e3151db6f3152a313fa075142743a,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-18 19:28:19 +0400, , make force rebuild header changed clean solution yet signed cyrill gorcunov gorcunov openvz.org acked pavel emelianov xemul parallels.com,,
10249,12ea8156425939b5d1efb3590faf9513f7fa2aa4,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-18 12:15:30 +0400, , restore check error returned get_image_path well implies change path path_max size signed cyrill gorcunov gorcunov openvz.org acked pavel emelianov xemul parallels.com,,
10250,03a5e05a65efa6ded410c56cf0dac0a6a7427444,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-17 17:39:18 +0400, , rename name member cr_fd_desc path might contain working directory path well signed cyrill gorcunov gorcunov openvz.org acked pavel emelianov xemul parallels.com,,
10251,bcba2f734ae7381131e95051a1646a3f5c756e97,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-18 12:06:08 +0400, , crtools update help message signed cyrill gorcunov gorcunov openvz.org acked pavel emelianov xemul parallels.com,,
10252,f65c75c78a136aa8534dbc8a3612b1a5391e0bb0,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-16 18:02:02 +0400, , crtools move global image_dir top file better global var gathered signed cyrill gorcunov gorcunov openvz.org acked pavel emelianov xemul parallels.com,,
10253,b84babe630df1ba8f8bce42b8667e3b5869577d5,ndrey Vagin <avagin@openvz.org>, 2011-12-16 15:32:00 +0400, , get_image_path calculate size string correctly signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
10254,4ba93d0806fe3b3092c9fcc6fb3b743339608c90,ndrey Vagin <avagin@openvz.org>, 2011-12-16 15:32:00 +0400, , pipe initialize field pipe_info properly signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
10255,c84d1943439a7906eb0e1c60cfcbfa761c594fe5,ndrey Vagin <avagin@openvz.org>, 2011-12-16 15:22:00 +0400, , zdtm update list passed test signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
10256,739ca109c61bda82acf7a3509614a9a1b9dac8d8,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-13 15:07:06 +0400, , crtools fix getcwd return value test getcwd return null error fix signed cyrill gorcunov gorcunov openvz.org,,
10257,c1350f9ab141b9d48951e777cdbfe1621c6baedf,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-13 15:03:33 +0400, , make error code returned negative value mess return code function return negative value others positive sanitize return code make error condition return negative value reported andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
10258,093e4f35c3c3e7c7f98aa9d02957c36b2de1ded8,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-13 12:39:15 +0400, , kernel update kernel patch signed cyrill gorcunov gorcunov openvz.org,,
10259,950e788b1c9b5a398ad200b273c1436eea878456,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-10 12:49:55 +0400, , dump add missing ending new line pr_perror pr_perror perror requires new line end signed cyrill gorcunov gorcunov openvz.org,,
10260,57e8e3e8b2ecf8854aed8eead8b30afe708517e7,ndrey Vagin <avagin@openvz.org>, 2011-12-09 20:23:00 +0400, , restore child return parent code otherwise may begin restore parent object ... signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10261,85b991c25166ba2482a523a526a1a0958b717602,ndrey Vagin <avagin@openvz.org>, 2011-12-09 20:23:00 +0400, , pipe redefine variable ret reason function may return success case error signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10262,92a694cf14b2d04be51d680def10657727b30ee1,ndrey Vagin <avagin@openvz.org>, 2011-12-09 20:22:00 +0400, , pipe execute splice data transferred signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10263,dd444aac9b4cf69d60b50e0e0d9a3b311423e520,ndrey Vagin <avagin@openvz.org>, 2011-12-09 20:22:00 +0400, , pipe avoid intersection pipe descriptor pipe return two descriptor number may want restore close extra end try restore target end signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10264,6840bcc4d4990d1b97aa071735bdce69e9fa7ffd,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-09 15:39:08 +0400, , restore move struct pipe_list_entry top file stage structure one place signed cyrill gorcunov gorcunov openvz.org,,
10265,bf9a8738669c4bd99bb90971fa96290936c6b72a,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-09 15:14:16 +0400, , restore drop bogus comment even u64 address might consume greater byte string 128 enough safe signed cyrill gorcunov gorcunov openvz.org,,
10266,335639dc7ca2981e1613244df9366b7df4a8486f,ndrey Vagin <avagin@openvz.org>, 2011-12-09 12:37:08 +0400, , crtools kill dumped process default process continue run may change state filesystem gorcunov drop option needed anymore allow option continue execution process dumped dumping procedure signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
10267,6701296f5a3854c316727a967953ef55f2498318,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-09 11:45:55 +0400, , dump ready absence output proc pid child signed cyrill gorcunov gorcunov openvz.org,,
10268,afe52e4254f3db0be270fa51500b8dc5fa18f728,ndrey Vagin <avagin@openvz.org>, 2011-12-08 20:14:00 +0400, , zdtm add script execute test case execute script without argument execute test case pas first argument may path test case signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
10269,870803fb5ff5cbdca20de8f85f75c7ab2dc3477e,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-08 19:04:07 +0400, , image shrink signal entry structure since use pure syscalls need keep intermediate layer signal moreover mask entry moved end structure easily expand ever needed note break backward compatibility older image since development stage safe signed cyrill gorcunov gorcunov openvz.org acked andrew vagin avagin parallels.com,,
10270,650318f4b2634c06b666b39ce004ecdf78316d56,ndrey Vagin <avagin@openvz.org>, 2011-12-08 18:39:00 +0400, , crtools add option specified log file signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10271,ecc2776fc93e3bfa7f54bbd649d60419c35f24c1,ndrey Vagin <avagin@openvz.org>, 2011-12-08 16:27:00 +0400, , pipe fix deadlock probably know lock inversion similar problem restoring pipe one process try restore pipe1 wait another process attached time another process restores pipe2 wait know two solves open pipe attach close unnecessary end method problem one end belongs process case another end occupies descriptor may needed another pipe restore pipe order patch doe sorted list pipe entry constructed signed andrey vagin avagin openvz.org acked pavel emelianov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10272,c53972cdc09453808ba3e11750ca98510f6b7943,ndrey Vagin <avagin@openvz.org>, 2011-12-08 16:27:00 +0400, , pipe change calculation pipe user patch removed stange logic minusers calculate foreign user main idea patch bind pipe end correct descriptos immediately process creates pipe two case end belongs process simple bind end descriptor one end pipe belongs process case waiting foreign user futher second case wait end belong process occupies file descriptor may used another pipe signed andrey vagin avagin openvz.org acked pavel emelianov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10273,4c479da259118afcd08effa224648979215f1bd9,ndrey Vagin <avagin@openvz.org>, 2011-12-07 17:11:00 +0400, , dump restore current work directory cwd saved file descriptor number use signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10274,d261cf7958ad540aafb4f5fdeb78ca60f53e9493,ndrey Vagin <avagin@openvz.org>, 2011-12-07 13:48:00 +0400, , use absolute path image file try restore cwd relative path invalid add new option set image file directory signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10275,a5439d5fed99a4f2d72b77487d80c339cb86298a,ndrey Vagin <avagin@openvz.org>, 2011-12-06 12:44:00 +0400, , zdtm add new test case pipe inversion probably know lock inversion similar problem restoring pipe test case creates two process two pipe process pipe1 pipe2 process pipe2 pipe1 signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
10276,d924a240ff9007c235b02615b9292412fb462696,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-05 20:36:57 +0400, , make drop redundand dependency parasite.h file forced build process build every make command passed reported pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10277,f0b8a3a63bc79c95896d411ed8f7ed5acdf939df,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-05 16:38:08 +0400, , make drop restorer.o program deps list already objs signed cyrill gorcunov gorcunov openvz.org,,
10278,485c4b50d137174c8fc66ec3a7761b4f7c4e9f8c,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-05 15:57:47 +0400, , show rework show procedure added ability parse every single file crtools understands via magic number dumped memory page rendered two mode simple set page virtual address hexdummp fashion via command line key example crtools page 2557.img cr_fd_pages page 2557.img  7fffb44ace20 7fffb44ace30 7fffb44ace40 7fffb44ace50 signed cyrill gorcunov gorcunov openvz.org,,
10279,c06227ff3b24d649816fd0de845210e2c8398fc8,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-05 14:11:05 +0400, , add copying file signed cyrill gorcunov gorcunov openvz.org,,
10280,da61f7326341bef587d0eb61cc30cae11ea0a815,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-04 11:48:10 +0400, , dump test error xrealloc result signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
10281,29e66613cbbdaeddad48517c64a1bcbd26769873,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-04 11:50:12 +0400, , dump drop redundant pr_debug signed cyrill gorcunov gorcunov openvz.org,,
10282,2c237b697300b338966556ea50baa15f70cc5ea6,ndrey Vagin <avagin@openvz.org>, 2011-12-05 12:07:52 +0400, , use standard descriptor logging standard descriptor may redirected crtool dumplicates stderr descriptor inherited child closed sigreturn known issue logging descriptor may used target process resume fail signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10283,e57a4c2945eed892971245bb72457c00a350f882,ndrey Vagin <avagin@openvz.org>, 2011-12-05 12:01:23 +0400, , use stderr debug message many program use stdout transferring data remove debug code signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10284,53c611b630a73e2dff14b9cb5d319687eb71ccc6,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-03 17:24:05 +0400, , dump restore use rt_sigaction_t sys_sigaction since operate syscalls directly convert signal structure image kernel format without intermediate glibc layer note involves chaging sa_entry flag u64 since long int value kernel signed cyrill gorcunov gorcunov openvz.org,,
10285,8557e39beff3e2df0edc35070bdc6b453fd96f33,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-03 01:48:57 +0400, , test add sigaction test signed cyrill gorcunov gorcunov openvz.org,,
10286,8a647a582e49df9d1750387f24576bc6ba9005a3,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-02 23:17:30 +0400, , dump restore signal use struct sa_entry managing signal signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
10287,9be4034048a80ad3716f6617a942e824862111d1,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-02 23:06:51 +0400, , image introduce struct sa_entry needed keep singnal handler disk predefined format signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
10288,2907bb2258cacd3c3b191a38db6e1ac78c37d6ce,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-02 23:03:03 +0400, , move rt_sigset_t include types.h signed cyrill gorcunov gorcunov openvz.org,,
10289,ec8cdcd7cfaf7fa50e8f245335f4d9933bd71584,avel Emelyanov <xemul@parallels.com>, 2011-12-02 18:27:51 +0400, , crtools cleanup pstree entry code child thread stuff moved helper possible remove unneeded code path local variable signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10290,8340bff8641c9a6df7e02acad734d2a4c8db67fe,avel Emelyanov <xemul@parallels.com>, 2011-12-02 18:26:15 +0400, , crtools cleanup child stuff parsing move parsing proc pid child helper symmetrical thread parsing error xrealloc ignored well signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10291,5e47e233df9de6392b2d05c31cc69b67d56d9395,avel Emelyanov <xemul@parallels.com>, 2011-12-02 18:24:50 +0400, , crtools cleanup thread stuff parsing move whole code dealing parsing thread collect_pstree stage one function nr_threads calculation performed inside based amount directory proc pid task thread count status error xrealloc ignored signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10292,04f36aed0ad0e35c65e98934d943b594a130293a,ndrey Vagin <avagin@openvz.org>, 2011-12-02 16:46:00 +0400, , set descriptor restart current syscall task sleep syscall restared logic moved kernel do_signal signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10293,5a49b9e216717faa4e19d494f4c362bd1af647ed,ndrey Vagin <avagin@openvz.org>, 2011-12-02 17:36:00 +0400, , zdtm zero downtime migration test suite test suite contains many small test case different subsystem example execution make busyloop00.pid crtools cat busyloop00.pid kill cat busyloop00.pid crtools cat busyloop00.pid cat busyloop00.out pas signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10294,315b798182c63eacbb5aaa6bb46c43ead9dcd060,ndrey Vagin <avagin@openvz.org>, 2011-12-02 16:06:00 +0400, , block signal sigreturn sigactions restored memory parent get signal handler get segmentation fault problem disappear add freezer process resumed restoring signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10295,cbb6b2da3d618cd1ea3e82a90bde1bb56d96139e,ndrey Vagin <avagin@openvz.org>, 2011-12-02 15:33:00 +0400, , prot_write need mapping file map_shared file destriptor opened read mmap prot_write fails need prot_write case file contains date data root root dec usr lib64 gconv gconv modules.cache  flag 0100000 41155 mmap 0x7f2c3d6cf000 28672 prot_read prot_write map_shared map_fixed unfinished ... 41155 ... mmap resumed eacces permission denied signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10296,fa28f40aaaa7d02c28ca7734ff703e5d7331557e,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-02 11:42:41 +0400, , restore tune resident code restore thread via last pid concept  pavel reported need lock unlock last pid file cycle lock thread creation unlock end signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
10297,20b0e296980d1ebf1cd173fdc6e9691abb85c05c,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-02 00:52:02 +0400, , syscall add sys_gettid helper signed cyrill gorcunov gorcunov openvz.org,,
10298,b9febd52bc146f5bb4562fd3e66d68990b95bda4,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-01 19:59:03 +0400, , syscall add sys_flock helper signed cyrill gorcunov gorcunov openvz.org,,
10299,8d36f087651ac8fc350b3ec2e83a84b7abeced9d,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-01 18:21:17 +0400, , restore switch new ns_last_pid kernel facility forking child signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
10300,762a5a16a7005dd8b5c0ca25d88b163875cf5c95,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-01 18:38:33 +0400, , kernel drop longer needed functionality signed cyrill gorcunov gorcunov openvz.org,,
10301,63fea930765cefa3ba6416ab077569a6e0a6d147,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-01 17:04:49 +0400, , dump switch proc pid child parsing obtain child set also depends kernel inteface changed kernel updated well signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
10302,baf69d6757065a871d85e541ac10d317a66557e8,ndrey Vagin <avagin@openvz.org>, 2011-12-01 17:15:00 +0400, , overwrite sigaction magic signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org acked pavel emelyanov xemul parallels.com,,
10303,9a544596fe422f3ac816846bd8495bdbe78ee674,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-01 11:16:37 +0400, , update readme signed cyrill gorcunov gorcunov openvz.org,,
10304,523cd85198caf8a4dffe32b242651ea4d1ec260b,yrill Gorcunov <gorcunov@openvz.org>, 2011-12-01 00:08:01 +0400, , kernel add control patch update prctls patch sysctl add control yet handled crtools still staged loose collect acks place signed cyrill gorcunov gorcunov openvz.org,,
10305,794b491a3dcd7a146405108cc2d8b9d25f1b7541,yrill Gorcunov <gorcunov@openvz.org>, 2011-11-30 23:44:15 +0400, , fix potential memory leak signed cyrill gorcunov gorcunov openvz.org,,
10306,173c749da7517c4caa59998e1a098e227017f54b,yrill Gorcunov <gorcunov@openvz.org>, 2011-11-30 23:37:37 +0400, , fix potential memory leak signed cyrill gorcunov gorcunov openvz.org,,
10307,8324db69ee1f8a4f61d91c48763cc09ac75716ef,yrill Gorcunov <gorcunov@openvz.org>, 2011-11-30 23:33:28 +0400, , fix comment cr_fd_sigact signed cyrill gorcunov gorcunov openvz.org,,
10308,5e829c8292e05fd4bea64b4f5a18291eca3ad1d5,yrill Gorcunov <gorcunov@openvz.org>, 2011-11-30 22:57:36 +0400, , parasite unify error reporting scheme signed cyrill gorcunov gorcunov openvz.org,,
10309,6661b555b9ce8333af61095c33a2df2b3d22d2d5,yrill Gorcunov <gorcunov@openvz.org>, 2011-11-30 22:30:53 +0400, , dump forget close opened file error path signed cyrill gorcunov gorcunov openvz.org,,
10310,555efbb374a25b058ee87bbf5a0a7628500114d6,ndrey Vagin <avagin@openvz.org>, 2011-11-30 20:14:20 +0300, , set map_growsdown flag stack signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
10311,146735f93366ff2901b8f6754fec332989455b63,ndrey Vagin <avagin@openvz.org>, 2011-11-30 10:53:21 +0300, , dump direcory descriptor file descriptor understand correct differ linux signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
10312,c04cffb7ced1d64e45ded87cab86178a6e49ca50,ndrey Vagin <avagin@openvz.org>, 2011-11-30 10:51:29 +0300, , restore pipe flag pipe_loop00 passed patch restore regular pipe use flag directly open call signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10313,6949e0f09fdb6256a9fc36a28fb57d105f3b4f0a,ndrey Vagin <avagin@openvz.org>, 2011-11-28 16:33:54 +0300, , dump memory character device file work dev zero dev null simple device signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
10314,7553620298451eaf5911264359e41586cb7111c2,ndrey Vagin <avagin@openvz.org>, 2011-11-29 15:41:02 +0300, , dump sigblk instead sigcgt mask restored rt_sigframe uc.uc_sigmask uc_sigmask set current blocked sigreturn dump sigblk case signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
10315,25434884e1feb391d45ec7f582ad0cd296a6f769,ndrey Vagin <avagin@openvz.org>, 2011-11-29 15:12:25 +0300, , dump restore sigactions parasite code dump sigactions sigact.pid remove hard code sizeof sigset_t signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10316,287b7d2aa9284ab9ef780ff17bc7a13e41d74021,ndrey Vagin <avagin@openvz.org>, 2011-11-29 13:33:59 +0300, , generalization execution parasite code used dumping sigactions signed andrey vagin avagin openvz.org signed cyrill gorcunov gorcunov openvz.org,,
10317,bc1f9d728a01bcf16450af812d50b4723ce5e213,ndrey Vagin <avagin@openvz.org>, 2011-11-28 13:57:41 +0300, , skip standard destriptor tty zdtm test redirect standart descriptor dev null skip tty standard descriptor strcmps name signed andrey vagin avagin openvz.org acked pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10318,89dde261c2457be5f5ec2f1250aa9500e432e030,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-30 10:07:10 +0400, , kernel add rewviewed tag signed cyrill gorcunov gorcunov gmail.com,,
10319,82fe01c35d1202383e7fac30cc94275f6ddcdc31,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-30 01:41:43 +0400, , kernel update prctl patch signed cyrill gorcunov gorcunov gmail.com,,
10320,24f33b86ea2be3a0eeeee551464aff3f99af96cb,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-30 01:36:57 +0400, , kernel add ack review patch wont forget signed cyrill gorcunov gorcunov gmail.com,,
10321,5e2b5f098bcd5f41ed257721c176b331b6275002,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-30 01:13:38 +0400, , kernel update kernel patch series tossing patch git repo pure madness stick back quilt tool signed cyrill gorcunov gorcunov gmail.com,,
10322,b8638a70eef6ff28ceeadf06dcf241ddcb13e772,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-30 01:11:00 +0400, , update readme signed cyrill gorcunov gorcunov gmail.com,,
10323,4dc0736697d18f94b635bb8091f22ac201956dfc,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-29 16:39:48 +0400, , dump restore dump restore vdso area userspace need force kernel remap vdso area user space well signed cyrill gorcunov gorcunov gmail.com,,
10324,f6ae59cdde4dbc8ef2fa06c3044a0127336bc03a,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-29 16:37:43 +0400, , test add trivial vdso test signed cyrill gorcunov gorcunov gmail.com,,
10325,3d55b9d125f71092fcb736635c1ef41cc4d5ce58,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-25 18:39:58 +0400, , dump drop vma_dump_all flag used early stage mincore call implemented needed anymore drop signed cyrill gorcunov gorcunov gmail.com,,
10326,42a661f5e44100e4bbc9fc70acc50b914107babc,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-25 18:35:54 +0400, , kernel update patch series signed cyrill gorcunov gorcunov gmail.com,,
10327,bb3d02c281a19533d162eaf67361d3c902c28499,avel Emelyanov <xemul@parallels.com>, 2011-11-25 18:04:36 +0400, , crtools take mincore_anon page account reduce page xxx.img file size significantly 2.1m 100k simple counter test dumping private file page yet changed file prototype problem let know comment definition page_anon block work implemented earlier flag mincore signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov gmail.com,,
10328,605220e7f7dbb9d0d95dbaf566dd399604a53794,avel Emelyanov <xemul@parallels.com>, 2011-11-25 18:02:18 +0400, , crtools cleanup whether dump page decision introduce helper patch signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov gmail.com,,
10329,9eeb003766e245e5dfc2915e2566c3c105fc6370,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-24 15:07:03 +0400, , util add byte helper signed cyrill gorcunov gorcunov gmail.com,,
10330,47b7404d73cbe52a707fd0dd5d929deffb8d4aad,avel Emelyanov <xemul@parallels.com>, 2011-11-23 13:55:04 +0400, , crtools save vma inode info image one used restore process since file mapped stored fdinfo part image signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov gmail.com,,
10331,9299d53d3249bd0469c06618ffaba2f3832ee425,avel Emelyanov <xemul@parallels.com>, 2011-11-23 13:53:57 +0400, , crtools show vma show output entry restorer image always signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov gmail.com,,
10332,fb44c9d82bc1a97bbe73875a23269569cc45a113,avel Emelyanov <xemul@parallels.com>, 2011-11-23 13:53:02 +0400, , crtools hold pid vma image pointless vmas stored per pid image file signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov gmail.com,,
10333,64f867f54e920ece749da4b9f1c565965c5f1c69,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-23 13:08:28 +0400, , dump use absolute path page dump file otherwise dumpee migh unable locate reported pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov gmail.com,,
10334,f139959ead64f70a3ea3d2ce21909a86783ae6d0,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-23 01:22:37 +0400, , restore use permission .out file execute anymore signed cyrill gorcunov gorcunov gmail.com,,
10335,7ce276100769b59b01bd204038d1a133da7d3430,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-23 01:18:01 +0400, , restore check incomplete reading vma entry signed cyrill gorcunov gorcunov gmail.com,,
10336,2beec2268b5663558f8daba8db48acab19767597,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-23 01:12:38 +0400, , restore update error message signed cyrill gorcunov gorcunov gmail.com,,
10337,818651b22a530bfdc714e627fac9be8e133de543,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-23 00:58:21 +0400, , restore continue restore even sys_prctl failed need fix testing kernel get updated signed cyrill gorcunov gorcunov gmail.com,,
10338,7b8dee7275c0083aeb64eef748a5c3795fa75940,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-23 00:56:58 +0400, , restore use pr_perror instead plain perror print line number well signed cyrill gorcunov gorcunov gmail.com,,
10339,ad93e59d57d0fddef60a38201e4e4814d1c94ef3,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-23 00:51:17 +0400, , restore drop redundant rst_mutex_lock lead circular lockup signed cyrill gorcunov gorcunov gmail.com,,
10340,122cae21116a74d344dac933a9f22437a3aaa1c5,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-22 22:09:28 +0400, , dump add kill dumped option signed cyrill gorcunov gorcunov gmail.com,,
10341,d3a30d6bb7d2a1ae47c7b5e6e8c801d2ea1ef2c0,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-22 21:13:08 +0400, , kernel update pr_ patch happened flush error code even syscall successed fixed signed cyrill gorcunov gorcunov gmail.com,,
10342,5aa22f131ba2a99364257ec8a6d5362ae77034d9,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-22 20:07:20 +0400, , dump print error code dumper failed parasite section signed cyrill gorcunov gorcunov gmail.com,,
10343,84e57b2a666473819873044ad31297e418f60a61,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-22 19:25:35 +0400, , restore add prctl validation signed cyrill gorcunov gorcunov gmail.com,,
10344,2e00d0199d3098cf979d9d7deb36e8384fd742e3,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-22 16:48:57 +0400, , doc add internals detail signed cyrill gorcunov gorcunov gmail.com,,
10345,60c9235f6b67e61fdf593553c2606ac1895853e7,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-22 14:36:00 +0400, , update todo drop bullet implemented signed cyrill gorcunov gorcunov gmail.com,,
10346,ea423aa56f0efa0d083fe43b32f2445d476beb8f,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-22 13:29:27 +0400, , test update makefile clean target signed cyrill gorcunov gorcunov gmail.com,,
10347,477adf0cf21a25505f71bbf686968eeeaebfa349,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-22 13:21:48 +0400, , test pipe drop unused var signed cyrill gorcunov gorcunov gmail.com,,
10348,8ea8d4eee537aff131cd7e65cfe3b1b157e40ed4,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-22 13:20:05 +0400, , test pipe add second pipe signed cyrill gorcunov gorcunov gmail.com,,
10349,46083e9e006cf0fcba16f1023c72801a8ef5c011,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-22 13:12:30 +0400, , restore forget skip data attached pipe signed cyrill gorcunov gorcunov gmail.com,,
10350,0cd579abd2faf8f1053581012b83ecb568a9c5ce,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-22 01:51:09 +0400, , merge branch test test test add test pthreads test,,
10351,4368d57c483830bf6081bfd32ae76d833228fcdc,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-22 01:50:45 +0400, , test add test pthreads test signed cyrill gorcunov gorcunov gmail.com,,
10352,c704fc272e4778c88b9571ec7dcd70613b1f1626,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-22 00:13:04 +0400, , util make vma proto printed char width fancy output signed cyrill gorcunov gorcunov gmail.com,,
10353,118b66555869abfc342710499dbbfe8429f90634,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-21 23:56:08 +0400, , merge branch test test test add test pipe async test teste add test shmem three async test test update shmem frequently test add printing header test add test shmem async test test add test rnd file test test add test counter test test drop old test,,
10354,5e5cb3b3211666848dc96e73364ea45861431f25,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-21 23:55:37 +0400, , test add test pipe async test signed cyrill gorcunov gorcunov gmail.com,,
10355,22f8986902e894d99f06c94fc7f60c697d639282,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-21 23:45:35 +0400, , teste add test shmem three async test signed cyrill gorcunov gorcunov gmail.com,,
10356,1355c7d29a2685980b65c318b2394d1d9aa10344,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-21 22:58:02 +0400, , test update shmem frequently signed cyrill gorcunov gorcunov gmail.com,,
10357,e66efb11a1ad34a5d72cae4c9dd59442ec0b21b4,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-21 22:56:12 +0400, , test add printing header signed cyrill gorcunov gorcunov gmail.com,,
10358,8650847b83c1bda344777c45aa0c6b511836854b,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-21 22:53:18 +0400, , test add test shmem async test signed cyrill gorcunov gorcunov gmail.com,,
10359,d2f382e7295a289bf34e173ff8896879ef2345c8,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-21 22:42:59 +0400, , test add test rnd file test signed cyrill gorcunov gorcunov gmail.com,,
10360,37e73d6a1db1128d3ff9da99cdc1d3ab168719e6,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-21 21:25:43 +0400, , test add test counter test signed cyrill gorcunov gorcunov gmail.com,,
10361,6357ad403f68a78487aebf5379e39d2e2dc98ff1,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-21 20:38:35 +0400, , restore fix message fixing map signed cyrill gorcunov gorcunov gmail.com,,
10362,985990de23d287b1146f88439c043551ed5c9d03,avel Emelyanov <xemul@parallels.com>, 2011-11-21 20:27:47 +0400, , crtools show page per line page section signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov gmail.com,,
10363,af4eb76bb03097b7fb004e439e3a14a3ecd89bac,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-21 20:27:58 +0400, , test drop old test signed cyrill gorcunov gorcunov gmail.com,,
10364,92a08bb25aef585a112c40dab67cb00553bd9db9,avel Emelyanov <xemul@parallels.com>, 2011-11-21 20:19:35 +0400, , crtools show shmem dump file content signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov gmail.com,,
10365,8b80bba78949d340500a981964b88db4825bb2d0,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-21 20:21:14 +0400, , kernel update patch series usually based linux 3.2 rc1 signed cyrill gorcunov gorcunov gmail.com,,
10366,71a5efefe286d5e3e85f19e6310a237282870ab9,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-21 18:00:12 +0400, , restore print error plain number instead hex encoded value signed cyrill gorcunov gorcunov gmail.com,,
10367,9263320339d4f6c333ebcd4416c259b0081d2419,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-21 17:52:57 +0400, , restore add write_num_n helper signed cyrill gorcunov gorcunov gmail.com,,
10368,bf5ada1d61fffe45f8d9f75bea3e83a29e189763,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-21 17:02:00 +0400, , restore print faulting vdso address error signed cyrill gorcunov gorcunov gmail.com,,
10369,b38205f5805aa952616d6737803b81ee33b8db15,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-21 16:47:36 +0400, , update pr_ opcodes signed cyrill gorcunov gorcunov gmail.com,,
10370,b06349fc49ce162c5a05480342b3ff5f83600261,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-21 12:54:14 +0400, , prctl rename pr_ entry tejun heo proposed use general name unrelated checkpoint restore procedure maybe someone else need entry well signed cyrill gorcunov gorcunov gmail.com,,
10371,777dc994aa8a7c003f849c9f5f675411b504d3aa,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-20 10:31:16 +0400, , type ptrace_seize already defined ptrace.h linux 3.1.1 fc16 constant already defined system ptrace.h signed cyrill gorcunov gorcunov gmail.com,,
10372,d0eec0e27194318132f6e9841c8125b977445756,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-18 22:30:32 +0400, , restore drop self vmas file needed signed cyrill gorcunov gorcunov gmail.com,,
10373,d9aa7f021cd25266306ec88ee102fa8992e74571,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-18 16:09:01 +0400, , restore add mutexes via futex syscall order thread creation signed cyrill gorcunov gorcunov gmail.com,,
10374,458717473ea248ee4d67c618a9031272979d99f2,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-17 01:05:18 +0400, , update todo wont forget mutexes signed cyrill gorcunov gorcunov gmail.com,,
10375,01f8f8f4d16a97bbfc6c65ef29516efa4b4c86e6,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-17 00:59:08 +0400, , restore bring trivial locker back thread better restored serialized way otherwise error happened error message screwed signed cyrill gorcunov gorcunov gmail.com,,
10376,a0956172535659257c681ca2a26c00eb2f4d9ec9,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-16 18:19:24 +0400, , restore simplify sigreturn code signed cyrill gorcunov gorcunov gmail.com,,
10377,11eb2ca409cc0d102e8c2292f5abcee6ffffa2ae,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-16 14:12:57 +0400, , add align helper signed cyrill gorcunov gorcunov gmail.com,,
10378,85506595e9b039677041441d484c1096c5e2b4c4,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-15 23:05:36 +0400, , restorer drop futex constant use yet need carry signed cyrill gorcunov gorcunov gmail.com,,
10379,b7121823085ba0c5a55c6c818f5e30ab3b699b08,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-15 18:35:55 +0400, , gather file name format one place signed cyrill gorcunov gorcunov gmail.com,,
10380,0fd17a08cbf15effb48cccfefe862b8e6e059b9b,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-15 17:12:29 +0400, , bring order usage vma entry helper signed cyrill gorcunov gorcunov gmail.com,,
10381,bb15450d98b0939fa9b0c049357f63d559752dc6,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-15 14:57:39 +0400, , image drop tls_array image use register set anyway signed cyrill gorcunov gorcunov gmail.com,,
10382,bbabbe89a754b50a7e465facfdc5666c2bcd80e0,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-15 14:02:00 +0400, , util use vma_entry_len helper signed cyrill gorcunov gorcunov gmail.com,,
10383,35781a8c6dcebc5aaf832dfa7ec99988a05d40ab,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-15 13:37:17 +0400, , util drop redundant vma_area vma.status assignment signed cyrill gorcunov gorcunov gmail.com,,
10384,3542220a002a1cc16a4b11c60c94b5140df081ea,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-15 13:32:09 +0400, , util split long line signed cyrill gorcunov gorcunov gmail.com,,
10385,929e316f5fef6919ac5a8810ff1015a5abf2cfe7,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-15 13:28:56 +0400, , util vma area flag might exceed symbol signed cyrill gorcunov gorcunov gmail.com,,
10386,33ea81e606214cf7e2cd630e67d8e237c1610986,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-15 13:19:12 +0400, , drop redundant signed cyrill gorcunov gorcunov gmail.com,,
10387,9ab6e9fe5cde533542f9a90d47116fc2591309b8,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-15 13:12:27 +0400, , crtools use format pir_t signed cyrill gorcunov gorcunov gmail.com,,
10388,4619e4857452814bdc2f582d6375b0ca63faf061,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-15 12:22:40 +0400, , dump parasite drop unneeded error code signed cyrill gorcunov gorcunov gmail.com,,
10389,f89f67914ec1ff73afa70d8052686989212086e9,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-15 12:21:17 +0400, , dump parasite drop unneeded section signed cyrill gorcunov gorcunov gmail.com,,
10390,72d3d2326ab263c9a6d4a77d651024cc08c6ed94,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-15 12:15:08 +0400, , dump drop parasite_ctl used debug able work without task seizing needed anymore signed cyrill gorcunov gorcunov gmail.com,,
10391,417fe5d8e1762666d5f6e84e4303cb8a70b31696,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-15 11:57:24 +0400, , image drop redundant vma_force_write signed cyrill gorcunov gorcunov gmail.com,,
10392,2c0e5db7eb4922d0485a4897364fa5751c91c073,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-15 11:54:01 +0400, , image drop redundant offsetof already compiler.h signed cyrill gorcunov gorcunov gmail.com,,
10393,54b1455e8abccf30196f0fd9fd820df7876b473c,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-15 11:34:11 +0400, , util move map buffer routine stack signed cyrill gorcunov gorcunov gmail.com,,
10394,dd4d829d618dd8efac7425be54ab3eff5ba93ee2,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-15 11:29:33 +0400, , util add error message file dirs open helper signed cyrill gorcunov gorcunov gmail.com,,
10395,1c5f981e51948d02a7a1817e88e0749ec70d0825,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-14 18:51:36 +0400, , cleanup dump add warning unexpected vma instead simply dropping dead code put warning safe side reported pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov gmail.com,,
10396,5ae9d9feb869be930c9b8342dcec98dc98b288ee,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-14 18:50:20 +0400, , cleanup parasite drop signed cyrill gorcunov gorcunov gmail.com,,
10397,ce40f5d96fd808196bad0deb83a7ae51fd4676d1,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-14 17:23:23 +0400, , restore fix restoration anonymous shared vmas rename appropriate name signed cyrill gorcunov gorcunov gmail.com,,
10398,ba63496330b3c3bb3dff4c2f7842009860f5de59,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-14 17:22:17 +0400, , dump update comment signed cyrill gorcunov gorcunov gmail.com,,
10399,321793cd37e1a154a0786c838b2d813605af14a5,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-14 16:56:20 +0400, , test add pipe output testee signed cyrill gorcunov gorcunov gmail.com,,
10400,c9c2bddcb83d7f93f104f92b51676dca84e36951,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-14 17:17:38 +0400, , test update shared mem test signed cyrill gorcunov gorcunov gmail.com,,
10401,6a26e75abaf74dd058e80e85b4468e5abcffe38c,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-13 13:07:00 +0400, , cleanup drop elf reference dont use elf restore anymore drop signed cyrill gorcunov gorcunov gmail.com,,
10402,e793eb7557b205636f58fd76b9c0ccec34db02fa,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-13 13:00:32 +0400, , cleanup drop unneeded source signed cyrill gorcunov gorcunov gmail.com,,
10403,3e72543422e94517abc019cf1c14cc35ec9e2096,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-13 12:57:16 +0400, , restore handle process tree correctly pstree file single one process thread skip non matched entry correctly brings testee test back life signed cyrill gorcunov gorcunov gmail.com,,
10404,1e7bbd35deab7cca4529c2166e09cb9c2ca7024e,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-12 19:26:40 +0400, , restore add thread restoration thread restortion well work thread test report following 2775 main counter value tls_data 2775 main fsgs_base 7f9597aa46f0 2775 main fsgs_base 2775 thr3 counter value tls_data 2775 thr3 fsgs_base 42c57940 2775 thr3 fsgs_base 2775 thr2 counter value tls_data 2775 thr2 fsgs_base 42456940 2775 thr2 fsgs_base 2775 thr1 counter value tls_data 2775 thr1 fsgs_base 40c62940 2775 thr1 fsgs_base 2775 main counter value tls_data 2775 main fsgs_base 7f9597aa46f0 2775 main fsgs_base 2775 thr1 counter value tls_data 2775 thr1 fsgs_base 40c62940 2775 thr1 fsgs_base expected commits merges preliminary commits final one sigreturn branch always experimental forced update still problem remain creating thread clone flag revisited use predefined set really correct setup pid pcb thread zone restore fpu least basic task restore work well signed cyrill gorcunov gorcunov gmail.com,,
10405,db2064811db8b14caccaea5d00dbbef5bfd501e9,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-09 13:00:12 +0400, , dump add missing newline error message signed cyrill gorcunov gorcunov gmail.com,,
10406,0a26593a3b5ae9b44c89124b0ff0457b908046d8,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-09 00:29:41 +0400, , dump restore add blocked signal mask signed cyrill gorcunov gorcunov gmail.com,,
10407,73e64bec27ee652d39ce3a5b82a0338db8a205ca,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-08 18:25:02 +0400, , restorer setup task data via prctl signed cyrill gorcunov gorcunov gmail.com,,
10408,566a900e4ee3a9ce0c7ca864e2bedd34726367d7,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-08 17:53:47 +0400, , restore use prctl vdso restoration signed cyrill gorcunov gorcunov gmail.com,,
10409,a4d37dcf672ca13e1645a1dd95409b46e5415d27,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-08 17:53:17 +0400, , kernel add patch needed signed cyrill gorcunov gorcunov gmail.com,,
10410,76df6d9ed5b52ce6a96ea113dae8555d22687afc,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-08 16:39:21 +0400, , syscalls add sys_prctl helper signed cyrill gorcunov gorcunov gmail.com,,
10411,b50ee4a1750b9eadd9d6c3d4e424f14c7f2bade4,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-08 15:16:06 +0400, , update kernel area signed cyrill gorcunov gorcunov gmail.com,,
10412,83c209ef07ac054f14bddf65c5fb933c7b0c6f06,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-08 13:54:01 +0400, , move vma prot setup parsing helper shrink restorer code signed cyrill gorcunov gorcunov gmail.com,,
10413,35502c4564f098c03418b464de2e0cc93f0e840c,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-08 13:48:10 +0400, , restore add prot_growsdown stack area since stick x86 signed cyrill gorcunov gorcunov gmail.com,,
10414,0355f1d23a4c5908a0caf834f802b98ad63ea4b1,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-08 13:25:15 +0400, , dump fail dumping path anon shared mapping signed cyrill gorcunov gorcunov gmail.com,,
10415,c07a4b2caa9bcb17295ddc6173be9bfec30ee660,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-08 12:20:28 +0400, , restore forget close file descriptor vmas signed cyrill gorcunov gorcunov gmail.com,,
10416,b9d0883d766a0761c2fa8b21902efc95d77ec546,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-08 12:19:43 +0400, , dump anonymous shared mapping map_anonymous flag signed cyrill gorcunov gorcunov gmail.com,,
10417,20c3bf10334160c0091160f9fbbadfffecc2ead7,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-08 01:44:40 +0400, , restore 32k stack memory enough signed cyrill gorcunov gorcunov gmail.com,,
10418,099c9c0016ac175c185af1c5b9f5cc2db922cd09,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-08 00:39:21 +0400, , dump forget save map_anonymous signed cyrill gorcunov gorcunov gmail.com,,
10419,275e97c77d2e24caa06f709cc4bd3f22e3e11a90,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-07 22:58:18 +0400, , restore increase stack size cloned process wasted couple hour trying resolve non obvious issue bootstrapping restorer code might requre memory 16k stack strictly speaking need compile time constant bug_on signed cyrill gorcunov gorcunov gmail.com,,
10420,b78c664bca74a18a7239d3d0317bc652f8a9515b,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-07 20:18:38 +0400, , restore fixup pstree reading signed cyrill gorcunov gorcunov gmail.com,,
10421,3b7a4cbe0955058fe8f1ed16c3a2641f7f552046,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-07 19:14:28 +0400, , restorer start using signed cyrill gorcunov gorcunov gmail.com,,
10422,7e481f89f958dac2a67591780c2f35e4b01e6e40,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-07 17:44:24 +0400, , restore add handling signed cyrill gorcunov gorcunov gmail.com,,
10423,da8f61c1c891569ffab0eaf633dc196700f29df0,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-07 17:44:00 +0400, , dump add handling signed cyrill gorcunov gorcunov gmail.com,,
10424,1f7018a15cfe8fea801c9a6f214486c8a522fb64,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-07 17:34:59 +0400, , restore update fsindex base sake signed cyrill gorcunov gorcunov gmail.com,,
10425,8a8850d1463fabfe1d085208aa064850d42f8423,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-07 16:29:36 +0400, , dump dump via sys_arch_prctl need kernel patch signed cyrill gorcunov gorcunov gmail.com,,
10426,3725fd326d652282a12768cb496582098987c547,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-07 15:24:07 +0400, , syscalls add sys_arch_prctl helper signed cyrill gorcunov gorcunov gmail.com,,
10427,d6e7afe3d8a6a64697123ebe2e4424c089d13e31,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-07 14:47:04 +0400, , syscalls add sys_set get_thread_area helper actually banned kernel might end needing better place signed cyrill gorcunov gorcunov gmail.com,,
10428,cb7a9a524dead62bc1e384bb207adc2fb4035b0d,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-06 01:49:57 +0400, , restore add restorer bootstrap mmap hint signed cyrill gorcunov gorcunov gmail.com,,
10429,b69aeb9a26cb5b8610147a31347ace70157ebd0b,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-04 19:18:53 +0400, , restore continue opening vmas file failure signed cyrill gorcunov gorcunov gmail.com,,
10430,34c72fc9f6c251063688d84a99a06e5339622997,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-04 18:45:47 +0400, , restore add debug printing signed cyrill gorcunov gorcunov gmail.com,,
10431,bf30aa11305e35a5472a8ef544b5316bb12b34b0,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-03 19:31:07 +0400, , restore drop unused struct partial_pt_regs signed cyrill gorcunov gorcunov gmail.com,,
10432,2ae009ac1b440134473581f6eac76d086a94b5f9,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-03 19:11:27 +0400, , restore forget free temporary self vmas signed cyrill gorcunov gorcunov gmail.com,,
10433,9e5b145aff4876b978af2ad096d4fefac56dabe1,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-03 18:24:23 +0400, , restore drop dead code comment signed cyrill gorcunov gorcunov gmail.com,,
10434,f63777d2be29fda95b404bc4fdc964bc6b003932,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-03 15:24:40 +0400, , restorer setup rt_sigframe proper address signed cyrill gorcunov gorcunov gmail.com,,
10435,345834eceec82443feed817f81ab14dad97981d3,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-03 15:24:08 +0400, , test add print static test signed cyrill gorcunov gorcunov gmail.com,,
10436,489745f2353ade419c87d24bb0b50d4f8babd018,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-03 11:58:45 +0400, , restore number fixups debug printing idea align restorer size sure wont stripped middle code signed cyrill gorcunov gorcunov gmail.com,,
10437,ed3c4fbacfad509e0b617149497526ed061b5ec5,yrill Gorcunov <gorcunov@gmail.com>, 2011-11-03 00:11:33 +0400, , syscalls get rid mnemonic name register use explicit register name instead sure wont cause side effect gcc version signed cyrill gorcunov gorcunov gmail.com,,
10438,48371f729abb8e21dd473a9e38bf4c8817d6bab1,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-31 20:37:50 +0400, , test add static sleep test signed cyrill gorcunov gorcunov gmail.com,,
10439,6898d7f11301ea3dcdfbb9d94e52ff5bb2cd14d7,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-31 18:35:16 +0400, , restore drop write_hex_n signed cyrill gorcunov gorcunov gmail.com,,
10440,6a3c7ab3b94db9018128f5f6ea0288286b956e44,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-31 18:19:53 +0400, , restore drop longer needed printing signed cyrill gorcunov gorcunov gmail.com,,
10441,bf41dcac483c374fce71c409d6018cb69eea6130,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-31 16:33:43 +0400, , syscalls get rid register variable found gcc 4.1.2 20080704 red hat 4.1.2 ignores register variable safe side rewrite syscalls inline assembly without gcc version 4.6.1 20110908 red hat 4.6.1 gcc compiles correctly signed cyrill gorcunov gorcunov gmail.com,,
10442,5b6748b4c90f711bbfcbb1127e42d75a20cecc7f,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-29 20:42:45 +0400, , restore call sigreturn prepare stack value syscall still fails stack corruption think due lack setup several important value thread info area signed cyrill gorcunov gorcunov gmail.com,,
10443,a50600c7f497e99418e02bf5ab722cd811c06c91,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-29 01:43:43 +0400, , restore copy gprs frame signed cyrill gorcunov gorcunov gmail.com,,
10444,b99eae28096983238f7608290c93b53246d3ec86,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-29 01:13:32 +0400, , restore add structure frame setup already system header file debug thing simply picked kernel definition safe signed cyrill gorcunov gorcunov gmail.com,,
10445,a74f379d604bc541c9345d11d547f98fc34b0a65,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-28 14:03:59 +0400, , syscall add sys_unlink signed cyrill gorcunov gorcunov gmail.com,,
10446,b9004db89f473dd3464e5a5933ecd0fa29e6ad34,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-28 00:47:56 +0400, , restore align self length byte bound signed cyrill gorcunov gorcunov gmail.com,,
10447,040131fd3b5d885f59c3b94d440ae0eb71074573,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-28 00:40:41 +0400, , restore print current pid testing purpose signed cyrill gorcunov gorcunov gmail.com,,
10448,98cf8f1a0fb0d2663d4d202e81a706402fc61aef,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-28 00:40:20 +0400, , syscall add getpid syscall signed cyrill gorcunov gorcunov gmail.com,,
10449,50d6423bc195f4b446e9b4db0e44f183da23ab3d,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-28 00:27:03 +0400, , restore handle read vmas vma read need make writable read content drop write permission signed cyrill gorcunov gorcunov gmail.com,,
10450,5f91037703deed7caf916becab9eabf650431daf,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-27 23:15:11 +0400, , restore implement local_sleep helper use instead pause insns burn cpu cycle signed cyrill gorcunov gorcunov gmail.com,,
10451,85237215926adda9d44085db9e763bae46bdeb4b,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-27 23:01:34 +0400, , restore use map_anonymous vmas mapping testing purpose file restored yet flag needed signed cyrill gorcunov gorcunov gmail.com,,
10452,1cf388798d98b8664d713a7a9dee43824f20ff9a,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-27 19:55:42 +0400, , restorer readable tracepoints pause end signed cyrill gorcunov gorcunov gmail.com,,
10453,3c88046a188a64bb7b0c34b7fffc63f8c09f826e,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-27 19:39:08 +0400, , restorer start real mapping restore procedure moment fails reference point signed cyrill gorcunov gorcunov gmail.com,,
10454,4907896e4c44c4b7926cc81c18e14dc7518e3cd1,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-27 19:09:33 +0400, , restore unmap special area handled properly note testing purpose pause issued end signed cyrill gorcunov gorcunov gmail.com,,
10455,dfe814aa58cb20e3954dd1ee2706f87861760fe2,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-27 18:59:21 +0400, , restore unmap running vmas signed cyrill gorcunov gorcunov gmail.com,,
10456,44596497e321860709c259b350463b246680a1ff,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-27 15:34:21 +0400, , restorer handle error case restorer code signed cyrill gorcunov gorcunov gmail.com,,
10457,57971f721d26437288b6f1d8ab6206707c80f505,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-27 00:57:01 +0400, , restorer preliminary work initiated mmap heuristic lose snippet signed cyrill gorcunov gorcunov gmail.com,,
10458,aaf3291e0055d37ff4bde6dd9a8951a704e349de,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-26 22:50:46 +0400, , restore dump current vmas restorer need know vmas unmap map new set signed cyrill gorcunov gorcunov gmail.com,,
10459,2cc7488de29c1f63b4692057f7c5554f6b13b61d,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-26 22:48:10 +0400, , dump make vma parsing handle absence map_files needed testing purpose also make free_mappings global one need restorer signed cyrill gorcunov gorcunov gmail.com,,
10460,214b8a6a27e410bdc9f86e329297ac7fde277bb0,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-26 18:13:06 +0400, , restore update memory size needed restorer code since vma area allocated page granularity better reflect mmap request would allow restorer munmap page boundary signed cyrill gorcunov gorcunov gmail.com,,
10461,66c1464e40c165e84a058375e93e8a2460c03fb0,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-26 18:07:33 +0400, , restore drop unneded variable signed cyrill gorcunov gorcunov gmail.com,,
10462,fa56125d167c7e5715cf8b91c14339daa5fb4840,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-26 18:05:32 +0400, , util move memcopy helper header since need parasite restorer code rename inline_memcpy avoid name collision signed cyrill gorcunov gorcunov gmail.com,,
10463,168d8cf17d70532a5b66a37efd142160d5d7db87,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-26 17:35:50 +0400, , restore restorer finally alive real restore code yet least produce message signed cyrill gorcunov gorcunov gmail.com,,
10464,791f2c8c258025d4b997ef7afd60cace7e74ac6f,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-26 11:16:00 +0400, , restore call indirect execution work moment snapshot point signed cyrill gorcunov gorcunov gmail.com,,
10465,b016db7dea27adb713489e78a81bd9634a2a99ec,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-26 10:58:10 +0400, , syscall add sys_exit signed cyrill gorcunov gorcunov gmail.com,,
10466,0d20dd0b411657bb2a5440df1833e77a4218943e,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-26 10:10:19 +0400, , util add hex_dump helper signed cyrill gorcunov gorcunov gmail.com,,
10467,ae41bc9d2a78dde8d70b652d9339383147478b26,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-26 00:30:41 +0400, , restore add facility convenient instead manual offset calculation signed cyrill gorcunov gorcunov gmail.com,,
10468,efdb52e36c7eb4850e880391fc2b650df9c37a0f,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-25 23:36:03 +0400, , restore add reading core entry signed cyrill gorcunov gorcunov gmail.com,,
10469,0133a23a5efe9a0e86420335e1bbbf4f5561d6a1,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-25 21:25:42 +0400, , restore add opening core file signed cyrill gorcunov gorcunov gmail.com,,
10470,f8c46a5de115bab7790ef00789793fdcb8fe0fb4,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-25 19:27:56 +0400, , restore add rt_sigframe signed cyrill gorcunov gorcunov gmail.com,,
10471,c32845ef60f00f45b329b47a2d34df66a3fb7dc2,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-25 13:53:16 +0400, , dump shrink struct core_entry twice need keep big note patch ever deside use kernel elf approach image structure updated kernel well signed cyrill gorcunov gorcunov gmail.com,,
10472,8bcb88587760a2011e916d864e06f34d5b4ffbfc,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-25 00:45:30 +0400, , kernel drop redundant string patch changelog signed cyrill gorcunov gorcunov gmail.com,,
10473,c706e8c6e20318cbf2d67ba528e994b8428c61ae,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-25 00:01:27 +0400, , restorer add lea_args_off helper signed cyrill gorcunov gorcunov gmail.com,,
10474,57b45ea5eb93592ee450dc2af5a53fae53cc28ac,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-24 23:56:36 +0400, , restore preliminary scheme restore signed cyrill gorcunov gorcunov gmail.com,,
10475,20ff379ee4389f7dcaed149890d4ec2bce1ee7f5,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-24 23:01:42 +0400, , dump append thread core file signed cyrill gorcunov gorcunov gmail.com,,
10476,63e08215aae93b223dc54712b9ccf154a0112a25,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-24 22:23:06 +0400, , restore add restorer test signed cyrill gorcunov gorcunov gmail.com,,
10477,0fe80627d67fa0b2725dbba4715189df8d3fc732,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-24 22:18:13 +0400, , syscall use always_inline instead __always_inline __always_inline internal defenition signed cyrill gorcunov gorcunov gmail.com,,
10478,79c67231a14ca4358049bd473d83a1406031b92b,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-24 22:16:14 +0400, , syscall always inlined signed cyrill gorcunov gorcunov gmail.com,,
10479,5fd13e04ab69579a64e3e5d2f4291fc0eb4f4e91,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-24 17:17:39 +0400, , syscall add signed cyrill gorcunov gorcunov gmail.com,,
10480,0259dd01c034571fde4e387f2e58fc25d31a8e60,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-24 13:56:21 +0400, , restore use open_fmt_ro helper signed cyrill gorcunov gorcunov gmail.com,,
10481,ea0f8eac1dbf92467d6bf11d030f04e0b249bcae,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-24 13:56:03 +0400, , util add open_fmt_ro helper signed cyrill gorcunov gorcunov gmail.com,,
10482,f8ad351f4d90b11dea9dba8d0f91319f18c6ca54,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-24 13:51:41 +0400, , util make open_fmt general signed cyrill gorcunov gorcunov gmail.com,,
10483,26857cc4e52f0521ced42c2f465b3c63e9d7b52f,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-24 13:43:21 +0400, , util move various helper signed cyrill gorcunov gorcunov gmail.com,,
10484,c475bccd532c17d6e1f84bb160e2a7ea9edf549a,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-24 11:27:28 +0400, , dump use memzero_p signed cyrill gorcunov gorcunov gmail.com,,
10485,2dc583092cc74782add9c3cdba496e5a89e05257,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-20 23:11:54 +0400, , dump forget close fds signed cyrill gorcunov gorcunov gmail.com,,
10486,a8f8eb9c6ed90bd4be61c8af3da1803ab0b7b596,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-20 23:11:31 +0400, , show print thread register well signed cyrill gorcunov gorcunov gmail.com,,
10487,af647ce009560337dcea689d02182bf1fffe7f91,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-20 17:19:26 +0400, , dump dump thread params well need register moment signed cyrill gorcunov gorcunov gmail.com,,
10488,9fcecfe1a2c9ced2ec428920c2fc4bb7df447477,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-20 13:46:13 +0400, , test make testee thread create thread inside thread open file well signed cyrill gorcunov gorcunov gmail.com,,
10489,611debc312e766b1db1e89d15f0d1985cdbd4ff1,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-20 11:03:19 +0400, , dump add parsing thread pid signed cyrill gorcunov gorcunov gmail.com,,
10490,0c46b2b68f4abc05ba7147db214e81f0e6b8fd95,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-19 13:46:39 +0400, , add minexec source yet makefile though signed cyrill gorcunov gorcunov gmail.com,,
10491,c28f9a2eae08e8b4a1fd1ca081906125b41460b8,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-23 00:55:26 +0400, , crtools use memzero_p signed cyrill gorcunov gorcunov gmail.com,,
10492,6c4798fd44b9d0565fbc9d1859173628c30ab865,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-22 20:41:31 +0400, , util rename objzero memzero_p natural name signed cyrill gorcunov gorcunov gmail.com,,
10493,5f53dc21d9719e5e6301da934841499e402bd843,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-22 18:52:18 +0400, , util change read_safe_eof introduce objzero memzero convenient use signed cyrill gorcunov gorcunov gmail.com,,
10494,b001849a00e9022b97fad7585253b51a755e6842,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-21 12:14:45 +0400, , dump get rid global vma_area_list signed cyrill gorcunov gorcunov gmail.com conflict dump.c signed cyrill gorcunov gorcunov gmail.com,,
10495,c60f01b94476db863bcb07b518a81fa4cb9172ef,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-21 11:46:19 +0400, , dump get rid global pstree_list signed cyrill gorcunov gorcunov gmail.com,,
10496,a0e37e779ddd35f3ea60f375f218a917c37fb605,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-20 01:41:02 +0400, , util add xstrdup helper signed cyrill gorcunov gorcunov gmail.com,,
10497,80356736b904a55264a52714a42d6dd9c3d45fd4,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-19 21:37:07 +0400, , test make pthreads report data signed cyrill gorcunov gorcunov gmail.com,,
10498,750be4218a36aa7e64eec92fdada3169d866b5fd,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-19 13:09:01 +0400, , move syscall code separate file signed cyrill gorcunov gorcunov gmail.com,,
10499,e0f63ca80293479b2dd650c2df6ff8ef82e743a3,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-14 14:44:37 +0400, , kernel prepare patchset submission signed cyrill gorcunov gorcunov gmail.com,,
10500,c4c543c36e1262f08b22eb69eb1ff41f5bda0d21,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-14 14:37:03 +0400, , kernel update series order since patch sent lkml better ordered special way quilt mail send would allow send range need signed cyrill gorcunov gorcunov gmail.com,,
10501,003e1532071ccb361b385be7ba392436531c04a3,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-14 14:25:05 +0400, , kernel update patch series signed cyrill gorcunov gorcunov gmail.com,,
10502,bd2a541c9600793aae58d9d75d26b7a697815bcc,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-14 13:22:14 +0400, , kernel update readme patch signed cyrill gorcunov gorcunov gmail.com,,
10503,f002c67f0c879405b9b2b6d53164d46c6edd386f,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-14 11:48:52 +0400, , kernel update patch description signed cyrill gorcunov gorcunov gmail.com,,
10504,2f3999d6afe16c23f027dddb5435d2faaeac5d30,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-13 21:36:12 +0400, , update todo signed cyrill gorcunov gorcunov gmail.com,,
10505,2c2fa9c29d114cfa7b94185f3765fc631ec677f6,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-13 21:34:51 +0400, , kernel add reviewed tag map_files signed cyrill gorcunov gorcunov gmail.com,,
10506,118180451e20c8107a4db92748bf625ef3fdb592,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-13 19:43:52 +0400, , crtools switch getopt facility signed cyrill gorcunov gorcunov gmail.com,,
10507,c2ac1d2f355ba30c53413e0e1aafe81ac1ecb053,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-13 19:19:09 +0400, , update todo signed cyrill gorcunov gorcunov gmail.com,,
10508,a0f463c27db49efa6286d971e15c832293c9e733,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-13 19:18:43 +0400, , move seize related function seize signed cyrill gorcunov gorcunov gmail.com,,
10509,c2bd1773308c53a431795b85ce7cad1fd8315199,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-13 18:57:13 +0400, , dump add comment task seizing stopping signed cyrill gorcunov gorcunov gmail.com,,
10510,90160f59206ad7e3944836c6a7542536564b5564,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-13 18:44:56 +0400, , kernel check early checkpoint header version valid pointed xemul signed cyrill gorcunov gorcunov gmail.com,,
10511,2de74452050b8ec23b9ae99d4725126ca71854ba,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-13 18:15:58 +0400, , kernel update clone pid patch subject signed cyrill gorcunov gorcunov gmail.com,,
10512,f08ba92df202f635c4a1de86056ee70a8a37bbac,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-13 18:15:09 +0400, , restore update real_pid comment signed cyrill gorcunov gorcunov gmail.com,,
10513,7fab1b23fdecb1d5490575728d71d65f3b84df86,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-13 17:50:39 +0400, , kernel update clone pid patch description signed pavel emelyanov xemul openvz.org signed cyrill gorcunov gorcunov gmail.com,,
10514,c84be6af03f2a7df8972a3ec10f9bf387f8fdb29,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-13 17:34:32 +0400, , update todo signed cyrill gorcunov gorcunov gmail.com,,
10515,d2f505f52c3760ae2d5a1ec52870ece9c10015cb,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-13 17:31:52 +0400, , restore add comment add comment real_pid member pipe user counter reported pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov gmail.com,,
10516,8b122598fe162a33802269605fbbefdac816419f,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-13 17:07:46 +0400, , zap xemul directory need sample anymore signed cyrill gorcunov gorcunov gmail.com,,
10517,a896bfd628ba682b70c179e098de2bbc74dc5070,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-13 16:36:50 +0400, , dump add comment page dumping routine signed cyrill gorcunov gorcunov gmail.com,,
10518,ba5aef005a8ab001556dd089e9bad0a1ee0a96d4,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-13 16:23:12 +0400, , kernel add patch description proc pid stat addition signed cyrill gorcunov gorcunov gmail.com,,
10519,9b6708e3a37a944c6d76139b620441984d965f5d,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-13 16:18:32 +0400, , dump poke fdset open close needlessly reported pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov gmail.com,,
10520,cecd0ef1386c352a961cbc6a1e5411f0c44b6cff,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-13 16:07:34 +0400, , utils inability open map_files fatal error reported pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov gmail.com,,
10521,c416a033f95f1c4475d8dd320294d99495ffa0fc,avel Emelyanov <xemul@parallels.com>, 2011-10-13 15:46:04 +0400, , rename execute_image signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov gmail.com,,
10522,640e5c46be83d79d426390eb5aeae451ec17e51c,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-13 13:41:13 +0400, , dump call fsync needed signed cyrill gorcunov gorcunov gmail.com,,
10523,d48706328e36865f98ad0e3826c23a0bd29eb530,avel Emelyanov <xemul@parallels.com>, 2011-10-13 13:33:32 +0400, , add comment set signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov gmail.com,,
10524,69a7b9e7ce871aeae87466e58124dcbb9a2ced01,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-13 12:03:49 +0400, , kernel add stack found test signed cyrill gorcunov gorcunov gmail.com,,
10525,9977390e41a0ee1066bdee50b90918a09edaabb9,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-13 11:34:28 +0400, , elf put core structure stack signed cyrill gorcunov gorcunov gmail.com,,
10526,147d2fd723dcbbcfe09f92e435870e200db898e6,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-13 00:37:19 +0400, , kernel move proc pid stat change separate patch signed cyrill gorcunov gorcunov gmail.com,,
10527,3530297a5b547aa13d8f3ea6325cc4680e79334f,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-13 00:31:02 +0400, , show fixup typo printing data signed cyrill gorcunov gorcunov gmail.com,,
10528,1f14766919e0b06dd500a277d9b05f3dfb0399dc,avel Emelyanov <xemul@parallels.com>, 2011-10-12 18:34:15 +0400, , generalize file opening signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov gmail.com,,
10529,5a397e8a596354f270f525fbb6d79fa3a6cc33b3,avel Emelyanov <xemul@parallels.com>, 2011-10-12 17:40:04 +0400, , rework fdinfo readinf use file signed pavel emelyanov xemul parallels.com signed cyrill gorcunov gorcunov gmail.com,,
10530,4389c021fc86ad8c41942e91bb4199dadb51a829,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-12 18:05:07 +0400, , dump kernel add structure member dump signed cyrill gorcunov gorcunov gmail.com,,
10531,ce65f2f7183247edf640d207d6b58e67a0df9276,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-12 16:02:36 +0400, , dump kernel add start end_code data signed cyrill gorcunov gorcunov gmail.com,,
10532,b2c4ebf207353d0246691ac60d3d370cc2ad5cc7,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-12 13:33:20 +0400, , kernel make sure brk area found signed cyrill gorcunov gorcunov gmail.com,,
10533,94789dcfc9cfad241aabee5e0d8191c9a1d92cea,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-12 13:33:02 +0400, , util show heap area signed cyrill gorcunov gorcunov gmail.com,,
10534,f7e6e63b44a10af0edbe5614996d43263a78c736,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-12 09:40:02 +0400, , kernel dump obtain brk value also make image page size enough basic params need restore task signed cyrill gorcunov gorcunov gmail.com,,
10535,116b00ee17d1cd97a8a45a31123187a98634d1b0,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-11 19:11:27 +0400, , kernel restore explicit set wait task get switched need setup also fixup cp_reg argument order otherwise zero written register instead proper value signed cyrill gorcunov gorcunov gmail.com,,
10536,7d712407aac378439cdabf68537b9b9748a33c7e,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-11 14:41:22 +0400, , kernel explicit register assignment since type might changed one day signed cyrill gorcunov gorcunov gmail.com,,
10537,c3553db68bf4ad2725572d8eb331605591accdf5,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-11 13:37:08 +0400, , kernel use ptrace helper restore gprs shrink code bit signed cyrill gorcunov gorcunov gmail.com,,
10538,a997fcf6355a6bfa23ff2d3ba048c2cf34ec7b0a,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-11 12:34:48 +0400, , kernel use set_fs helper operate ptrace signed cyrill gorcunov gorcunov gmail.com,,
10539,572e8a1519723f3d7af238aa717124d250c3d9e6,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-11 10:57:13 +0400, , kernel elf move arch dependant thing arch signed cyrill gorcunov gorcunov gmail.com,,
10540,ec9496c1475338d4b2c71fd6b26be739115aed47,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-11 10:10:07 +0400, , image use ckpt_arch_size signed cyrill gorcunov gorcunov gmail.com,,
10541,4b7a318322545688cc5ee5e9d86f9efe706a7976,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-11 01:32:39 +0400, , dump prepare new core_entry layout core_entry layout arch dependant signed cyrill gorcunov gorcunov gmail.com,,
10542,68cc400790465e7cc005a895b7d2d962ec8c40ae,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-10 21:06:19 +0400, , kernel use __u32 inkernel stuff signed cyrill gorcunov gorcunov gmail.com,,
10543,8c4894a8a54b1941a91923432d9f0fee18349b59,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-10 17:06:51 +0400, , kernel restore fpu context needed signed cyrill gorcunov gorcunov gmail.com,,
10544,3135c94bb9e4b5dc1f050e2198278a740c91101d,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-10 17:05:31 +0400, , test add basic fpu operation signed cyrill gorcunov gorcunov gmail.com,,
10545,99466eb328571b9b9577ed58bce740e712a23ef5,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-10 17:05:12 +0400, , dump add dumping task flag need figure fpu used need restore context later signed cyrill gorcunov gorcunov gmail.com,,
10546,6307ce67dcfc5b90ceb06b9618672d976a627002,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-06 20:13:06 +0400, , kernel update changelog elf checkpoint file signed cyrill gorcunov gorcunov gmail.com,,
10547,e47408c93ce521a9ede637915024ed61c01c551d,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-06 20:02:16 +0400, , kernel update binfmt patch add check chkp file header version arch send sigkill error properly signed cyrill gorcunov gorcunov gmail.com,,
10548,ce5298188c5043091b029aab180af5220123c30b,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-06 19:02:15 +0400, , restore update elf checkpoint handling signed cyrill gorcunov gorcunov gmail.com,,
10549,4278324dd42fcdd543ee166bac9d784e069dc892,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-06 15:04:56 +0400, , drop compiled file repo signed cyrill gorcunov gorcunov gmail.com,,
10550,2efb66d69a015f225d6192404440b7f4e605f01c,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-06 14:07:48 +0400, , dump sanitize dumping message signed cyrill gorcunov gorcunov gmail.com,,
10551,a97985ce9523a2f3a69a5866d8819fc9d34e17a8,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-04 16:52:42 +0400, , kernel update elf handling unlink thread parent signed cyrill gorcunov gorcunov gmail.com,,
10552,e9075241e169f74ee3289b7dda732380f0f0035a,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-04 14:43:59 +0400, , elf allow memory stored disk signed cyrill gorcunov gorcunov gmail.com,,
10553,2f3c929aff65366706d4f90c670dbf416a24d715,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-04 14:07:07 +0400, , dump add helper ignore tty device signed cyrill gorcunov gorcunov gmail.com,,
10554,609e431376baa13974204584fddd9fe4a9c27173,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-04 01:50:19 +0400, , add cr_options structure need option since tool support cgroups freezer regular task stop dump restore continue transition signed cyrill gorcunov gorcunov gmail.com,,
10555,374ec7604e0c437bcb66d01aa249c9e3da5f6ae4,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-04 01:48:17 +0400, , parasite fix sign lost error checking signed cyrill gorcunov gorcunov gmail.com,,
10556,106359066234215630c5ad17c23991f19a894f96,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-03 12:04:09 +0400, , dump fix error jump fchmod failure signed cyrill gorcunov gorcunov gmail.com,,
10557,f17089597532212ecbfead40c8969220996c3e17,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-03 11:52:13 +0400, , dump allow parasite dumper write page non privileged process signed cyrill gorcunov gorcunov gmail.com,,
10558,8bbed96981de94077cad2326644a31c7c9f23baf,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-01 20:01:34 +0400, , todo process name restoration complete signed cyrill gorcunov gorcunov gmail.com,,
10559,8f0af4f8a6cc7800357b46de32225e6b735c31f3,yrill Gorcunov <gorcunov@gmail.com>, 2011-10-01 13:24:34 +0400, , restore task command line well note binary format core file changed signed cyrill gorcunov gorcunov gmail.com,,
10560,a00ef142f8d2ada11ab22a903545845e2cadc858,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-30 14:37:12 +0400, , use pr_err error printing follow kernel style signed cyrill gorcunov gorcunov gmail.com,,
10561,f83520aa59dffff621deacdf435b63c7b660831c,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-30 14:36:21 +0400, , update todo signed cyrill gorcunov gorcunov gmail.com,,
10562,6bd95e402dcb542d69ec1ccd40e57d0618e9f22b,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-30 14:26:24 +0400, , add todo signed cyrill gorcunov gorcunov gmail.com,,
10563,c426ba3721d47d03908b930956d237c127278f6d,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-30 14:25:37 +0400, , update readme signed cyrill gorcunov gorcunov gmail.com,,
10564,c704ab90645b76868f4192a3ebe42a691628d08b,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-30 13:08:26 +0400, , test add anonymous shared memory test signed cyrill gorcunov gorcunov gmail.com,,
10565,65e9402d47d79b38f0ed16204170e8361a3657cd,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-30 09:00:45 +0400, , restore fix pipe restore pipe end used former process case former process used pipe end fall endless loop since user never reach resolve pipe collectioning check pipe end used former process connect first pipe end immediately create_pipe connect rest via attach_pipe signed cyrill gorcunov gorcunov gmail.com,,
10566,61a6eb781cb834d8fa469a8264d6c80f32a28824,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-30 01:13:16 +0400, , restore make sure shmems zeroified signed cyrill gorcunov gorcunov gmail.com,,
10567,d5d8d920ddc21673b44c09cac5bce48196a86de3,ndrew Vagin <avagin@parallels.com>, 2011-09-29 17:02:15 +0400, , make fix deps non parasite code without parallel execution fails reported pekka enberg penberg cs.helsinki.fi signed andrew vagin avagin parallels.com signed cyrill gorcunov gorcunov openvz.org,,
10568,34c2f562c38f1d1469db5289cc7cb76743b57990,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-29 16:04:04 +0400, , add crtools gitignore signed cyrill gorcunov gorcunov gmail.com,,
10569,98be6495c7e47379e1756a8b5037fc2c590c4853,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-29 16:03:36 +0400, , make move test test directory signed cyrill gorcunov gorcunov gmail.com,,
10570,a2dd6deb3a05e53464d1190d0286e289adda87d6,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-29 13:16:30 +0400, , git ignore swp file well signed cyrill gorcunov gorcunov gmail.com,,
10571,7f71fc32c682f7fbaa89e58967b5b9e4a79079c8,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-29 13:14:44 +0400, , update .gitignore autogenerated file ignored git signed cyrill gorcunov gorcunov gmail.com,,
10572,843432fefd585ef4547d61e9726d401031a4f450,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-29 01:24:23 +0400, , restore use pr_error instead stderr output signed cyrill gorcunov gorcunov gmail.com,,
10573,114d89cc8902695efdb5caf459e7ca27a1b93780,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-29 00:50:09 +0400, , restore use pipeid pipe_info match pipe_entry similar naming scheme signed cyrill gorcunov gorcunov gmail.com,,
10574,c3a05afafd40fa911803610dbd47be8e6c00e248,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-28 23:27:18 +0400, , test bring pipe back testee static signed cyrill gorcunov gorcunov gmail.com,,
10575,58a4a82528f2e11f8cbfc1587137b11533347b71,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-28 23:23:43 +0400, , restore fix typo vma_entry already pointer need second ampersand signed cyrill gorcunov gorcunov gmail.com,,
10576,11cf71c5424672f53c3dad1d0b6e5ecefc18326f,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-28 21:20:53 +0400, , restore tune use pr_panic ending zero page missed also style tuneups signed cyrill gorcunov gorcunov gmail.com,,
10577,1293fb0f8e6c5606ba7d31f3ddf227638e31ee34,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-28 18:44:46 +0400, , restore make bool signed cyrill gorcunov gorcunov gmail.com,,
10578,4727c73984205860b788f237d61ee70f6562a5cf,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-28 16:49:59 +0400, , restore simplify signed cyrill gorcunov gorcunov gmail.com,,
10579,697819464292f1659b1d01362dfc139ac2aa4676,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-28 15:55:12 +0400, , restore use shmid instead declared image file bring varying member name meaning signed cyrill gorcunov gorcunov gmail.com,,
10580,8800be50f8476c8792b5905ad2d7412b8dc35ffb,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-28 14:45:30 +0400, , restore use find_ prefix searching routine make consistent scheme signed cyrill gorcunov gorcunov gmail.com,,
10581,3971dbb78dc0d10b08aa8aa19e495f288665ab8c,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-28 13:19:30 +0400, , restore file mapping use process pid well signed cyrill gorcunov gorcunov gmail.com,,
10582,2de8de5d4e8195f41ea324cf7762f6455b67fcf3,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-28 01:09:34 +0400, , restore rename try_to_add collect_ routine also add debug printing pipe user debug purpose signed cyrill gorcunov gorcunov gmail.com,,
10583,af1dfdda5e88ce12ed7cd889f0f99b9ffb8eb11a,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-27 20:23:26 +0400, , restore add comment closing pipe descriptor also style nitpicks signed cyrill gorcunov gorcunov gmail.com,,
10584,eb457b71fb3cb253a73992f4b6992b8f16770634,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-27 18:56:14 +0400, , test uncomment pipe otherwise way pas pipe test signed cyrill gorcunov gorcunov gmail.com,,
10585,5498ed173bba1c4f84d07d218ac473773ba3af67,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-27 18:50:02 +0400, , restore use close_safe pipe signed cyrill gorcunov gorcunov gmail.com,,
10586,9212f2e847dafc66ddc6104efd82161f1858e040,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-27 18:48:57 +0400, , restore drop unneded perror signed cyrill gorcunov gorcunov gmail.com,,
10587,e672d1a87fbc1e85cb5605b70db7d477a2bb6a64,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-27 18:39:56 +0400, , restore make reopen_fd_as print error signed cyrill gorcunov gorcunov gmail.com,,
10588,401464d22aaea54f84555b144790c3df47ae6faa,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-27 18:28:09 +0400, , add close_safe helper signed cyrill gorcunov gorcunov gmail.com,,
10589,aff6918b178f4e3d32dfa9bef2adc4dbac318252,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-27 15:11:52 +0400, , kernel fixups segment loading elf handling signed cyrill gorcunov gorcunov gmail.com,,
10590,b1739c08f5be86453c7c6c7649c886deefa31457,ndrew Vagin <avagin@openvz.org>, 2011-09-27 12:55:05 +0400, , restore fix counter pipe_entry counter incremented time new user found signed andrey vagin avagin openvz.org,,
10591,06ae1f86979b45a3e8d53f581d4fc770432f2a91,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-27 01:14:38 +0400, , restore drop style rudiment code signed cyrill gorcunov gorcunov gmail.com,,
10592,961fcdc6972c6db3f4ce0c8e0e654fee4be9a662,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-26 18:14:39 +0400, , restore cleanup fixup_vma_fds bit signed cyrill gorcunov gorcunov gmail.com,,
10593,30f002d21c213a20e0c4df262df68dbd38f5224a,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-26 01:26:11 +0400, , add comment vma area status flag signed cyrill gorcunov gorcunov gmail.com,,
10594,a49ac47f903cd6c44dc393b8d3b3551ff294a459,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-24 21:11:23 +0400, , test add anonymous shared memory testee signed cyrill gorcunov gorcunov gmail.com,,
10595,af4f7d66d48f08563c9c8a04a0baba461b77d2e2,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-23 16:18:43 +0400, , kernel foget load index signed cyrill gorcunov gorcunov gmail.com,,
10596,ab244844f6ee4eb1d6ab72eac6afdce64778762e,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-23 16:17:24 +0400, , print pgoff vma dump well signed cyrill gorcunov gorcunov gmail.com,,
10597,55a78528667d43f099566d479a5b99687969d5d7,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-23 12:46:43 +0400, , kernel add missing et_ckpt patch title signed cyrill gorcunov gorcunov gmail.com,,
10598,afe2b3fc3d3454c3940aeae8f1a507ce521cf19d,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-23 12:43:50 +0400, , kernel update elf patch changelong signed cyrill gorcunov gorcunov gmail.com,,
10599,523de236244946a0de127dfc9954369963819ef7,yrill Gorcunov <gorcunov@gmail.com>, 2011-09-23 12:00:45 +0400, ,,,
